id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fswift~stable%2Fqueens~I74e580f31349bdefd187cc5d6770a7041a936bef,openstack/swift,stable/queens,I74e580f31349bdefd187cc5d6770a7041a936bef,Move eventlet patch before call to loadapp,MERGED,2018-02-26 14:10:19.000000000,2018-02-26 19:05:14.000000000,2018-02-26 19:05:14.000000000,"[{'_account_id': 330}, {'_account_id': 1179}, {'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-26 14:10:19.000000000', 'files': ['swift/common/wsgi.py', 'test/unit/common/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/3d12a10cc48a6895e5308756be6060523377ae3f', 'message': 'Move eventlet patch before call to loadapp\n\nRan into an eventlet bug[0] while integration Swift/Barbican\nin TripleO. It is very similar to a previous bug related\nto keystonemiddleware[1]. Suggestion from urllib3[2] is to\npatch eventlet ""as early as possible"". Traceback[3] shows that\nurllib3 is being imported before the eventlet patch, so moved\nthe patch to before the loadapp call.\n\n[0] - http://paste.openstack.org/show/658046/\n[1] - https://bugs.launchpad.net/swift/+bug/1662473\n[2] - https://github.com/shazow/urllib3/issues/1104\n[3] - https://gist.github.com/thiagodasilva/12dad7dc4f940b046dd0863b6f82a78b\n\nChange-Id: I74e580f31349bdefd187cc5d6770a7041a936bef\n(cherry picked from commit c9410c7dd482cc1faefdfd9d9c83d225e7d28e8f)\n'}]",0,548033,3d12a10cc48a6895e5308756be6060523377ae3f,12,5,1,9625,,,0,"Move eventlet patch before call to loadapp

Ran into an eventlet bug[0] while integration Swift/Barbican
in TripleO. It is very similar to a previous bug related
to keystonemiddleware[1]. Suggestion from urllib3[2] is to
patch eventlet ""as early as possible"". Traceback[3] shows that
urllib3 is being imported before the eventlet patch, so moved
the patch to before the loadapp call.

[0] - http://paste.openstack.org/show/658046/
[1] - https://bugs.launchpad.net/swift/+bug/1662473
[2] - https://github.com/shazow/urllib3/issues/1104
[3] - https://gist.github.com/thiagodasilva/12dad7dc4f940b046dd0863b6f82a78b

Change-Id: I74e580f31349bdefd187cc5d6770a7041a936bef
(cherry picked from commit c9410c7dd482cc1faefdfd9d9c83d225e7d28e8f)
",git fetch https://review.opendev.org/openstack/swift refs/changes/33/548033/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/wsgi.py', 'test/unit/common/test_wsgi.py']",2,3d12a10cc48a6895e5308756be6060523377ae3f,move_eventlet_patch-stable/queens," mock.patch.object(wsgi, 'run_server'), \ mock.patch('swift.common.utils.eventlet') as _utils_evt: _utils_evt.patcher.monkey_patch.assert_called_with(all=False, socket=True, select=True, thread=True) mock.patch.object(wsgi, 'run_server'), \ mock.patch('swift.common.utils.eventlet') as _utils_evt: _utils_evt.patcher.monkey_patch.assert_called_with(all=False, socket=True, select=True, thread=True)"," mock.patch('swift.common.utils.eventlet') as _utils_evt, \ _utils_evt.patcher.monkey_patch.assert_called_with(all=False, socket=True, select=True, thread=True) mock.patch('swift.common.utils.eventlet') as _utils_evt, \ _utils_evt.patcher.monkey_patch.assert_called_with(all=False, socket=True, select=True, thread=True) mock.patch('swift.common.utils.eventlet') as _utils_evt, \ _utils_evt.patcher.monkey_patch.assert_called_with(all=False, socket=True, select=True, thread=True) mock.patch.object(wsgi, 'run_server'): mock.patch.object(wsgi, 'run_server'):",15,18
openstack%2Ftripleo-heat-templates~master~I0deef6c2a71c1f2a34e6efed9586bbaa052b49c9,openstack/tripleo-heat-templates,master,I0deef6c2a71c1f2a34e6efed9586bbaa052b49c9,Set openshift_(ip|hostname) to ctrlplane ip,MERGED,2018-02-20 15:53:43.000000000,2018-02-26 19:02:31.000000000,2018-02-26 19:02:31.000000000,"[{'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-20 15:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/56ef1359345dadeeb35968d564e6aa181e178090', 'message': 'Set openshift_(ip|hostname) to ctrlplane ip\n\nWhen enabling network isolation, openshift-ansible picks the wrong ip\naddress as the default IP for the services. Set the IP to the ctrlplane\nnetwork by default, which works with and without network isolation.\n\nChange-Id: I0deef6c2a71c1f2a34e6efed9586bbaa052b49c9\n'}, {'number': 2, 'created': '2018-02-26 11:21:51.000000000', 'files': ['extraconfig/services/openshift-master.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ec8d2bad4c12c4be884572ee06f00c8e28615f19', 'message': 'Set openshift_(ip|hostname) to ctrlplane ip\n\nWhen enabling network isolation, openshift-ansible picks the wrong ip\naddress as the default IP for the services. Set the IP to the ctrlplane\nnetwork by default, which works with and without network isolation.\n\nChange-Id: I0deef6c2a71c1f2a34e6efed9586bbaa052b49c9\n'}]",6,546194,ec8d2bad4c12c4be884572ee06f00c8e28615f19,17,5,2,6159,,,0,"Set openshift_(ip|hostname) to ctrlplane ip

When enabling network isolation, openshift-ansible picks the wrong ip
address as the default IP for the services. Set the IP to the ctrlplane
network by default, which works with and without network isolation.

Change-Id: I0deef6c2a71c1f2a34e6efed9586bbaa052b49c9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/546194/2 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/services/openshift-master.yaml'],1,56ef1359345dadeeb35968d564e6aa181e178090,openshift-net-iso, etcd_ip: {{hostvars.raw_get(host)['ctlplane_ip']}} openshift_ip: {{hostvars.raw_get(host)['ctlplane_ip']}} openshift_public_ip: {{hostvars.raw_get(host)['ctlplane_ip']}} openshift_hostname: {{hostvars.raw_get(host)['ctlplane_ip']}} openshift_public_hostname: {{hostvars.raw_get(host)['ctlplane_ip']}} etcd_ip: {{hostvars.raw_get(host)['ctlplane_ip']}} openshift_ip: {{hostvars.raw_get(host)['ctlplane_ip']}} openshift_public_ip: {{hostvars.raw_get(host)['ctlplane_ip']}} openshift_hostname: {{hostvars.raw_get(host)['ctlplane_ip']}} openshift_public_hostname: {{hostvars.raw_get(host)['ctlplane_ip']}},,10,0
openstack%2Fopenstack-manuals~master~Id4e7ddf9d46d6e1a7f81a88047bb6778453cc9b8,openstack/openstack-manuals,master,Id4e7ddf9d46d6e1a7f81a88047bb6778453cc9b8,Fix the install guide buttons on small screens,MERGED,2018-02-26 15:17:00.000000000,2018-02-26 18:47:12.000000000,2018-02-26 18:47:12.000000000,"[{'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 10607}, {'_account_id': 17765}, {'_account_id': 20156}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-26 15:17:00.000000000', 'files': ['www/queens/install/index.html', 'www/pike/install/index.html'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/2b9b3546c000176b74cd640787ae9450817e8bfb', 'message': 'Fix the install guide buttons on small screens\n\nThis patch fixes the nesting on the rows on the install guide\nindex page, that were causing all of the links to be covered on\nsmaller screens.\n\nUnfortunately the high line count change is really required to\nmake the change easy to understand, as otherwise the indentation makes\nit very difficult to notice the incorrect nesting (and probably caused\nthe bug in the first place).\n\nCloses-Bug: 1751810\nChange-Id: Id4e7ddf9d46d6e1a7f81a88047bb6778453cc9b8\n'}]",0,548051,2b9b3546c000176b74cd640787ae9450817e8bfb,7,6,1,12826,,,0,"Fix the install guide buttons on small screens

This patch fixes the nesting on the rows on the install guide
index page, that were causing all of the links to be covered on
smaller screens.

Unfortunately the high line count change is really required to
make the change easy to understand, as otherwise the indentation makes
it very difficult to notice the incorrect nesting (and probably caused
the bug in the first place).

Closes-Bug: 1751810
Change-Id: Id4e7ddf9d46d6e1a7f81a88047bb6778453cc9b8
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/51/548051/1 && git format-patch -1 --stdout FETCH_HEAD,"['www/queens/install/index.html', 'www/pike/install/index.html']",2,2b9b3546c000176b74cd640787ae9450817e8bfb,bug/1751810," <div class=""container""> <div class=""row""> <div class=""col-lg-8 col-md-8 col-sm-8""> <h1>OpenStack {{SERIES_TITLE}} Installation Guides</h1> <p> These documents cover installation procedures for OpenStack services. </p> <p> If you prefer to install OpenStack using an automated deployment tool, see the <a href=""../deploy/"">Deployment Guides.</a> </p> </div> </div> <div class=""container""> <div class=""row docs-toc""> <div class=""col-lg-6 col-md-6 col-sm-6""> <div class=""docs-link-sections services-section""> <h3><i class=""fa fa-cogs""></i>Installation Guide</h3> <p>The following guide provides information about getting started, setting up your environment, and launching your instance. </p> <p> <a class=""overview-btn docs-btn"" style=""width:80%;text-transform:initial;"" href=""/install-guide/""> OpenStack Installation Guide </a> </p> </div> </div> <div class=""col-lg-6 col-md-6 col-sm-6""> <div class=""docs-link-sections""> <h3><i class=""fa fa-cogs""></i>Project Installation Guides</h3> <ul> {% for project in projects|sort(attribute='service') -%} {% if project.type in ['service', 'other'] and project.has_install_guide %} <li><a href=""/{{project.name}}/{{SERIES}}/install/"">{{project.service}} ({{project.name|title}})</a></li> {% endif %} {%- endfor %} </ul> </div> <div class=""row docs-contribute-wrapper""> <div class=""col-lg-12""> <p>Documentation treated like code, powered by the community - interested?</p> <a href=""/doc-contrib-guide/"" class=""overview-btn contribute-btn"">How To Contribute <i class=""fa fa-chevron-right""></i></a> </div> </div> </div>var elements = document.getElementsByClassName(""os-box""); var maximum = Number.MIN_VALUE; for (var i = 0, len = elements.length; i < len; i++) { if(elements[i].offsetHeight>maximum){ maximum = elements[i].offsetHeight; } } $('.os-box').height(maximum);"," <div class=""container""> <div class=""row""> <div class=""col-lg-8 col-md-8 col-sm-8""> <h1>OpenStack {{SERIES_TITLE}} Installation Guides</h1> <p> These documents cover installation procedures for OpenStack services. </p> <p> If you prefer to install OpenStack using an automated deployment tool, see the <a href=""../deploy/"">Deployment Guides.</a> </p> </div> </div> <div class=""container""> <div class=""row docs-toc""> <div class=""col-lg-6 col-md-6 col-sm-6""> <div class=""docs-link-sections services-section""> <h3><i class=""fa fa-cogs""></i>Installation Guide</h3> <p>The following guide provides information about getting started, setting up your environment, and launching your instance. </p> <p> <a class=""overview-btn docs-btn"" style=""width:80%;text-transform:initial;"" href=""/install-guide/""> OpenStack Installation Guide </a> </p> </div> </div> <div class=""col-lg-6 col-md-6 col-sm-6""> <div class=""docs-link-sections""> <h3><i class=""fa fa-cogs""></i>Project Installation Guides</h3> <ul> {% for project in projects|sort(attribute='service') -%} {% if project.type in ['service', 'other'] and project.has_install_guide %} <li><a href=""/{{project.name}}/{{SERIES}}/install/"">{{project.service}} ({{project.name|title}})</a></li> {% endif %} {%- endfor %} </ul> </div> <div class=""row docs-contribute-wrapper""> <div class=""col-lg-12""> <p>Documentation treated like code, powered by the community - interested?</p> <a href=""/doc-contrib-guide/"" class=""overview-btn contribute-btn"">How To Contribute <i class=""fa fa-chevron-right""></i></a> </div> </div> var elements = document.getElementsByClassName(""os-box""); var maximum = Number.MIN_VALUE; for (var i = 0, len = elements.length; i < len; i++) { if(elements[i].offsetHeight>maximum){ maximum = elements[i].offsetHeight; } } $('.os-box').height(maximum);",112,110
openstack%2Fironic~stable%2Fqueens~I8ad1223dc289bbe915ee4ca8db66c8f80bf08f15,openstack/ironic,stable/queens,I8ad1223dc289bbe915ee4ca8db66c8f80bf08f15,Set 'initrd' to 'rescue_ramdisk' for rescue with iPXE,MERGED,2018-02-22 11:49:19.000000000,2018-02-26 18:40:10.000000000,2018-02-22 17:11:01.000000000,"[{'_account_id': 6618}, {'_account_id': 11655}, {'_account_id': 13689}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-22 11:49:19.000000000', 'files': ['releasenotes/notes/bug-1749860-457292cf62e18a0e.yaml', 'ironic/drivers/modules/pxe.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'ironic/drivers/modules/ipxe_config.template', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6f3e8927e69d6ef781786bbfbeb511f8611991d0', 'message': ""Set 'initrd' to 'rescue_ramdisk' for rescue with iPXE\n\nThe kernel paramter 'initrd' is hard-coded as 'deploy_ramdisk' in iPXE\nconfig template. A rescue ramdisk may fail to boot due to this wrong\nparamter. This patch sets this 'initrd' paramter properly to\n'deploy_ramdisk' or 'rescue_ramdisk' by adding a new pxe option.\n\nChange-Id: I8ad1223dc289bbe915ee4ca8db66c8f80bf08f15\nCloses-Bug: 1749860\n(cherry picked from commit 8f2e487b2bd9168822268fcca1ab43ff93084afe)\n""}]",1,546955,6f3e8927e69d6ef781786bbfbeb511f8611991d0,10,7,1,10239,,,0,"Set 'initrd' to 'rescue_ramdisk' for rescue with iPXE

The kernel paramter 'initrd' is hard-coded as 'deploy_ramdisk' in iPXE
config template. A rescue ramdisk may fail to boot due to this wrong
paramter. This patch sets this 'initrd' paramter properly to
'deploy_ramdisk' or 'rescue_ramdisk' by adding a new pxe option.

Change-Id: I8ad1223dc289bbe915ee4ca8db66c8f80bf08f15
Closes-Bug: 1749860
(cherry picked from commit 8f2e487b2bd9168822268fcca1ab43ff93084afe)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/55/546955/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1749860-457292cf62e18a0e.yaml', 'ironic/drivers/modules/pxe.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'ironic/drivers/modules/ipxe_config.template', 'ironic/tests/unit/common/test_pxe_utils.py']",5,6f3e8927e69d6ef781786bbfbeb511f8611991d0,bug/1749860-stable/queens," 'initrd_filename': 'deploy_ramdisk', self.ipxe_options_boot_from_volume.pop('initrd_filename', None)",,13,1
openstack%2Fpython-manilaclient~master~Iddb491b1fe9e13871a1fa4007fed05636b9ca0db,openstack/python-manilaclient,master,Iddb491b1fe9e13871a1fa4007fed05636b9ca0db,Updated from global requirements,MERGED,2018-01-16 03:48:02.000000000,2018-02-26 18:35:41.000000000,2018-02-26 18:35:41.000000000,"[{'_account_id': 2417}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-16 03:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/e09a4aebef8868969e8f04cb980dcb100ee93bf7', 'message': 'Updated from global requirements\n\nChange-Id: Iddb491b1fe9e13871a1fa4007fed05636b9ca0db\n'}, {'number': 2, 'created': '2018-01-16 04:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/e785b162fa0e5ad1b71be84a8515015fef28f28b', 'message': 'Updated from global requirements\n\nChange-Id: Iddb491b1fe9e13871a1fa4007fed05636b9ca0db\n'}, {'number': 3, 'created': '2018-01-16 04:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/a88694401f49e1ad4dda335af7bf295680abca67', 'message': 'Updated from global requirements\n\nChange-Id: Iddb491b1fe9e13871a1fa4007fed05636b9ca0db\n'}, {'number': 4, 'created': '2018-01-18 03:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/88cedcc90a69d6a563e9741a9d97030809c63289', 'message': 'Updated from global requirements\n\nChange-Id: Iddb491b1fe9e13871a1fa4007fed05636b9ca0db\n'}, {'number': 5, 'created': '2018-01-24 01:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/35a2b758c684de065103af5fb90037594a2350ee', 'message': 'Updated from global requirements\n\nChange-Id: Iddb491b1fe9e13871a1fa4007fed05636b9ca0db\n'}, {'number': 6, 'created': '2018-01-24 02:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/e54e197048a4a3d827f1508420da194e7a8561a3', 'message': 'Updated from global requirements\n\nChange-Id: Iddb491b1fe9e13871a1fa4007fed05636b9ca0db\n'}, {'number': 7, 'created': '2018-01-27 18:32:44.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/e4ea631550206d8c34c4964b42ea489a56c905eb', 'message': 'Updated from global requirements\n\nChange-Id: Iddb491b1fe9e13871a1fa4007fed05636b9ca0db\n'}]",0,533931,e4ea631550206d8c34c4964b42ea489a56c905eb,23,4,7,11131,,,0,"Updated from global requirements

Change-Id: Iddb491b1fe9e13871a1fa4007fed05636b9ca0db
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/31/533931/5 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e09a4aebef8868969e8f04cb980dcb100ee93bf7,openstack/requirements,oslo.log>=3.36.0 # Apache-2.0,oslo.log>=3.30.0 # Apache-2.0,1,1
openstack%2Fopenstack-ansible-os_glance~stable%2Fqueens~I7389b7e090882eed93a56a6d8bdb297a7a3f9442,openstack/openstack-ansible-os_glance,stable/queens,I7389b7e090882eed93a56a6d8bdb297a7a3f9442,Remove registry options from scrubber config,MERGED,2018-02-21 02:24:17.000000000,2018-02-26 18:30:02.000000000,2018-02-26 18:30:01.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-21 02:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/b061a4d5a3b3a52a0b1f866b71460c2843b36da5', 'message': ""Remove registry options from scrubber config\n\nA recent change in glance removed the glance-scrubber utility's\ndependency on the glance registry client. The scrubber now connects\ndirectly to the database and these options are no longer needed.\n\nChange-Id: I7389b7e090882eed93a56a6d8bdb297a7a3f9442\nRelated-Change: https://review.openstack.org/#/c/510449/\n(cherry picked from commit 45cb804dc252f3a9aaea1904c86958b99863086f)\n""}, {'number': 2, 'created': '2018-02-21 09:40:01.000000000', 'files': ['templates/glance-scrubber.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/5308f97546761a5ab0f7600b7056d9aec81bde99', 'message': ""Remove registry options from scrubber config\n\nA recent change in glance removed the glance-scrubber utility's\ndependency on the glance registry client. The scrubber now connects\ndirectly to the database and these options are no longer needed.\n\nChange-Id: I7389b7e090882eed93a56a6d8bdb297a7a3f9442\nRelated-Change: https://review.openstack.org/#/c/510449/\n(cherry picked from commit 45cb804dc252f3a9aaea1904c86958b99863086f)\n""}]",0,546471,5308f97546761a5ab0f7600b7056d9aec81bde99,11,3,2,14805,,,0,"Remove registry options from scrubber config

A recent change in glance removed the glance-scrubber utility's
dependency on the glance registry client. The scrubber now connects
directly to the database and these options are no longer needed.

Change-Id: I7389b7e090882eed93a56a6d8bdb297a7a3f9442
Related-Change: https://review.openstack.org/#/c/510449/
(cherry picked from commit 45cb804dc252f3a9aaea1904c86958b99863086f)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/71/546471/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/glance-scrubber.conf.j2'],1,b061a4d5a3b3a52a0b1f866b71460c2843b36da5,scrubber_conf-stable/queens,, # Address to find the registry server for cleanups registry_host = {{ glance_registry_bind_address }} # Port the registry server is listening on registry_port = {{ glance_registry_service_port }},0,6
openstack%2Fproject-config~master~Ie34a3fe2521114eb74f54f3059f03919765047ae,openstack/project-config,master,Ie34a3fe2521114eb74f54f3059f03919765047ae,Add zuul entry for certbot-dns-openstack,MERGED,2018-02-22 15:11:05.000000000,2018-02-26 18:29:41.000000000,2018-02-26 18:29:41.000000000,"[{'_account_id': 6547}, {'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-22 15:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6ef66a1a99d5ca210b01c6d42020b1e1328ee1c9', 'message': 'Add zuul entry for certbot-dns-openstack\n\nChange-Id: Ie34a3fe2521114eb74f54f3059f03919765047ae\n'}, {'number': 2, 'created': '2018-02-22 15:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/e54531ec077549840f73c91797a651f591637c11', 'message': 'Add zuul entry for certbot-dns-openstack\n\nChange-Id: Ie34a3fe2521114eb74f54f3059f03919765047ae\n'}, {'number': 3, 'created': '2018-02-22 17:09:45.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/22669f26e07903d0595a5c43b4953ee4349fc956', 'message': 'Add zuul entry for certbot-dns-openstack\n\nChange-Id: Ie34a3fe2521114eb74f54f3059f03919765047ae\n'}]",1,547023,22669f26e07903d0595a5c43b4953ee4349fc956,17,4,3,8099,,,0,"Add zuul entry for certbot-dns-openstack

Change-Id: Ie34a3fe2521114eb74f54f3059f03919765047ae
",git fetch https://review.opendev.org/openstack/project-config refs/changes/23/547023/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,6ef66a1a99d5ca210b01c6d42020b1e1328ee1c9,new-project, name: openstack/certbot-dns-openstack templates: - system-required - project:,,5,0
openstack%2Fswift~master~I7030280a8495628df9ed8edcc8abc31f901da72e,openstack/swift,master,I7030280a8495628df9ed8edcc8abc31f901da72e,py3: port common/storage_policy.py,MERGED,2018-02-02 00:29:56.000000000,2018-02-26 18:12:32.000000000,2018-02-26 18:12:31.000000000,"[{'_account_id': 597}, {'_account_id': 2622}, {'_account_id': 9625}, {'_account_id': 13052}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-02 00:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2f027f46f8bbbcb8d73ae07febed447a0360c30a', 'message': 'py3: port common/storage_policy.py\n\nChange-Id: I7030280a8495628df9ed8edcc8abc31f901da72e\n'}, {'number': 2, 'created': '2018-02-12 06:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ec93abeb25de33dbc6a85f03f5789ecb8b909767', 'message': 'py3: port common/storage_policy.py\n\nChange-Id: I7030280a8495628df9ed8edcc8abc31f901da72e\n'}, {'number': 3, 'created': '2018-02-26 10:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fa6888f2c28d7e7539fe8199ea1e21b43ff674ea', 'message': 'py3: port common/storage_policy.py\n\nChange-Id: I7030280a8495628df9ed8edcc8abc31f901da72e\n'}, {'number': 4, 'created': '2018-02-26 12:13:44.000000000', 'files': ['test/unit/common/test_storage_policy.py', 'swift/common/storage_policy.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/4b19ac772364778a4b96d7e18834db9a7645f482', 'message': 'py3: port common/storage_policy.py\n\nChange-Id: I7030280a8495628df9ed8edcc8abc31f901da72e\n'}]",3,540188,4b19ac772364778a4b96d7e18834db9a7645f482,17,6,4,15343,,,0,"py3: port common/storage_policy.py

Change-Id: I7030280a8495628df9ed8edcc8abc31f901da72e
",git fetch https://review.opendev.org/openstack/swift refs/changes/88/540188/3 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_storage_policy.py', 'swift/common/storage_policy.py', 'tox.ini']",3,2f027f46f8bbbcb8d73ae07febed447a0360c30a,py3, test/unit/common/test_storage_policy.py \,,20,6
openstack%2Fironic~stable%2Fqueens~Ib2166040508827db28d6f6e2d9a3e655c16f2993,openstack/ironic,stable/queens,Ib2166040508827db28d6f6e2d9a3e655c16f2993,Support nested objects and object lists in as_dict,MERGED,2018-02-22 00:44:58.000000000,2018-02-26 18:08:44.000000000,2018-02-22 14:05:24.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 27609}]","[{'number': 1, 'created': '2018-02-22 00:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/39e9a6189b1824873e3fad691e56e66e2bf27386', 'message': ""Support nested objects and object lists in as_dict\n\nThe value returned by ironic.objects.IronicObject.as_dict() should be a\nplain object, in order for it to be serialised to JSON. Currently,\nnested object fields and object list fields are not converted to dict\nformat. This caused problems during cleaning, when the node object's\nas_dict representation is JSON encoded and sent to IPA.\n\nThis change adds support for calling as_dict() on nested objects and\nlist objects, to ensure these are also returned in dict form.\n\nWe also change the method used in as_dict() for checking whether an\nobject has an attribute. The hasattr() function used previously has\nproblems when used with properties in python 2 [1], in that any\nexceptions raised in the property getter result in hasattr() returning\nFalse. Instead we use obj_attr_is_set() to determine whether the object\nhas a particular attribute.\n\n[1] https://hynek.me/articles/hasattr/\n\nChange-Id: Ib2166040508827db28d6f6e2d9a3e655c16f2993\nCloses-Bug: #1750027\n""}, {'number': 2, 'created': '2018-02-22 09:41:51.000000000', 'files': ['ironic/tests/unit/objects/test_trait.py', 'releasenotes/notes/fix-cleaning-with-traits-3a54faa70d594fd0.yaml', 'ironic/objects/trait.py', 'ironic/tests/unit/objects/test_objects.py', 'ironic/api/controllers/v1/node.py', 'ironic/objects/base.py', 'ironic/tests/unit/objects/test_node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/be94e64b912bfdb70c578918815a28ed8611662a', 'message': ""Support nested objects and object lists in as_dict\n\nThe value returned by ironic.objects.IronicObject.as_dict() should be a\nplain object, in order for it to be serialised to JSON. Currently,\nnested object fields and object list fields are not converted to dict\nformat. This caused problems during cleaning, when the node object's\nas_dict representation is JSON encoded and sent to IPA.\n\nThis change adds support for calling as_dict() on nested objects and\nlist objects, to ensure these are also returned in dict form.\n\nWe also change the method used in as_dict() for checking whether an\nobject has an attribute. The hasattr() function used previously has\nproblems when used with properties in python 2 [1], in that any\nexceptions raised in the property getter result in hasattr() returning\nFalse. Instead we use obj_attr_is_set() to determine whether the object\nhas a particular attribute.\n\n[1] https://hynek.me/articles/hasattr/\n\nChange-Id: Ib2166040508827db28d6f6e2d9a3e655c16f2993\nCloses-Bug: #1750027\n(cherry picked from commit c66679f14b0b5f34462a896c3bff5a9f483a9a83)\n""}]",0,546830,be94e64b912bfdb70c578918815a28ed8611662a,17,8,2,6618,,,0,"Support nested objects and object lists in as_dict

The value returned by ironic.objects.IronicObject.as_dict() should be a
plain object, in order for it to be serialised to JSON. Currently,
nested object fields and object list fields are not converted to dict
format. This caused problems during cleaning, when the node object's
as_dict representation is JSON encoded and sent to IPA.

This change adds support for calling as_dict() on nested objects and
list objects, to ensure these are also returned in dict form.

We also change the method used in as_dict() for checking whether an
object has an attribute. The hasattr() function used previously has
problems when used with properties in python 2 [1], in that any
exceptions raised in the property getter result in hasattr() returning
False. Instead we use obj_attr_is_set() to determine whether the object
has a particular attribute.

[1] https://hynek.me/articles/hasattr/

Change-Id: Ib2166040508827db28d6f6e2d9a3e655c16f2993
Closes-Bug: #1750027
(cherry picked from commit c66679f14b0b5f34462a896c3bff5a9f483a9a83)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/30/546830/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/objects/test_trait.py', 'releasenotes/notes/fix-cleaning-with-traits-3a54faa70d594fd0.yaml', 'ironic/objects/trait.py', 'ironic/tests/unit/objects/test_objects.py', 'ironic/api/controllers/v1/node.py', 'ironic/objects/base.py', 'ironic/tests/unit/objects/test_node.py']",7,39e9a6189b1824873e3fad691e56e66e2bf27386,bug/1750027-stable/queens,"from oslo_serialization import jsonutils # Ensure the node can be serialised. jsonutils.dumps(d) # Ensure the node can be serialised. jsonutils.dumps(d) def test_as_dict_with_traits(self): self.fake_node['traits'] = ['CUSTOM_1'] self.node = obj_utils.get_test_node(self.ctxt, **self.fake_node) d = self.node.as_dict() expected_traits = {'objects': [{'trait': 'CUSTOM_1'}]} self.assertEqual(expected_traits, d['traits']) # Ensure the node can be serialised. jsonutils.dumps(d)",,93,4
openstack%2Fswift~feature%2Fs3api~Icd160c2ecc982eb61362ae15d973a7b4dc42ee85,openstack/swift,feature/s3api,Icd160c2ecc982eb61362ae15d973a7b4dc42ee85,Fix functests name address swift3 -> s3api migration,MERGED,2018-02-26 14:42:03.000000000,2018-02-26 18:06:30.000000000,2018-02-26 18:06:29.000000000,"[{'_account_id': 9625}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-26 14:42:03.000000000', 'files': ['test/functional/s3api/test_multi_delete.py', 'test/functional/s3api/test_bucket.py', 'test/functional/s3api/test_object.py', 'test/functional/s3api/test_presigned.py', 'test/functional/s3api/test_service.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/6ce7627d760822c8488ab39f27dd5248f1f8332a', 'message': 'Fix functests name address swift3 -> s3api migration\n\nChange-Id: Icd160c2ecc982eb61362ae15d973a7b4dc42ee85\n'}]",0,548038,6ce7627d760822c8488ab39f27dd5248f1f8332a,6,2,1,4608,,,0,"Fix functests name address swift3 -> s3api migration

Change-Id: Icd160c2ecc982eb61362ae15d973a7b4dc42ee85
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/548038/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/functional/s3api/test_multi_delete.py', 'test/functional/s3api/test_bucket.py', 'test/functional/s3api/test_object.py', 'test/functional/s3api/test_presigned.py', 'test/functional/s3api/test_service.py']",5,6ce7627d760822c8488ab39f27dd5248f1f8332a,fix-test-name,"class TestS3ApiService(S3ApiBase): def setUp(self): super(TestS3ApiService, self).setUp()class TestS3ApiServiceSigV4(TestS3ApiService): super(TestS3ApiServiceSigV4, self).setUp()","class TestSwift3Service(S3ApiBase): def setUp(self): super(TestSwift3Service, self).setUp()class TestSwift3ServiceSigV4(TestSwift3Service): super(TestSwift3ServiceSigV4, self).setUp()",24,24
openstack%2Fhorizon~master~Iba9d0a5522fcb4b388ed2f253d21ff05c05f185e,openstack/horizon,master,Iba9d0a5522fcb4b388ed2f253d21ff05c05f185e,Incorrect field choices in angular create user form,ABANDONED,2018-02-26 17:38:00.000000000,2018-02-26 17:46:50.000000000,,[],"[{'number': 1, 'created': '2018-02-26 17:38:00.000000000', 'files': ['openstack_dashboard/dashboards/identity/static/dashboard/identity/users/actions/workflow/workflow.service.js', 'openstack_dashboard/dashboards/identity/static/dashboard/identity/users/actions/workflow/workflow.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/cf08c82deb1c87066cd41b9c4fb582cf855f65d0', 'message': ""Incorrect field choices in angular create user form\n\nIn angular user action workflow, we define a set of fields for the\nuser action form. When populating data for a form field, the field\ndata does not display properly due to the wrong field being taken\nfrom the field set. These fields include 'domain_name', 'domain_id',\n'project' and role.\n\nChange-Id: Iba9d0a5522fcb4b388ed2f253d21ff05c05f185e\nCloses-Bug:#1751385\n""}]",0,548073,cf08c82deb1c87066cd41b9c4fb582cf855f65d0,2,0,1,24056,,,0,"Incorrect field choices in angular create user form

In angular user action workflow, we define a set of fields for the
user action form. When populating data for a form field, the field
data does not display properly due to the wrong field being taken
from the field set. These fields include 'domain_name', 'domain_id',
'project' and role.

Change-Id: Iba9d0a5522fcb4b388ed2f253d21ff05c05f185e
Closes-Bug:#1751385
",git fetch https://review.opendev.org/openstack/horizon refs/changes/73/548073/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/identity/static/dashboard/identity/users/actions/workflow/workflow.service.js', 'openstack_dashboard/dashboards/identity/static/dashboard/identity/users/actions/workflow/workflow.spec.js']",2,cf08c82deb1c87066cd41b9c4fb582cf855f65d0,bug/1751385, expect(config.form[0].items[0].items[3].condition).not.toBeDefined(); expect(config.form[0].items[0].items[3].condition).toBe(true);, expect(config.form[0].items[0].items[1].condition).not.toBeDefined(); expect(config.form[0].items[0].items[1].condition).toBe(true);,6,8
openstack%2Fironic~stable%2Fqueens~Ifdd119d9cdde2ead6c3e36862cc77da67d10f7d1,openstack/ironic,stable/queens,Ifdd119d9cdde2ead6c3e36862cc77da67d10f7d1,Disable .pyc files for grenade multinode,MERGED,2018-02-15 18:55:33.000000000,2018-02-26 17:45:48.000000000,2018-02-22 18:02:46.000000000,"[{'_account_id': 6618}, {'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-15 18:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c4379823a1f10b3abf2dd04cf9bd3d46337271eb', 'message': 'DNM Test disabling .pyc files for Grenade\n\nDepends-On: I2709f5527552fd4fc406f870ef35c4b6e4b9dae9\nChange-Id: Ifdd119d9cdde2ead6c3e36862cc77da67d10f7d1\n'}, {'number': 2, 'created': '2018-02-15 20:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/402c7e9a51967e476f076a39fdd0f012d2fc78a4', 'message': 'DNM Test disabling .pyc files for Grenade\n\nDepends-On: I2709f5527552fd4fc406f870ef35c4b6e4b9dae9\nChange-Id: Ifdd119d9cdde2ead6c3e36862cc77da67d10f7d1\n'}, {'number': 3, 'created': '2018-02-16 21:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bf321177595de4dbda385ecc0e3ae396679544d0', 'message': 'DNM Test disabling .pyc files for Grenade\n\nDepends-On: I2709f5527552fd4fc406f870ef35c4b6e4b9dae9\nChange-Id: Ifdd119d9cdde2ead6c3e36862cc77da67d10f7d1\n'}, {'number': 4, 'created': '2018-02-16 22:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c6ac82781977aa060511d850141f319e106343d8', 'message': 'DNM Test disabling .pyc files for Grenade\n\nChange-Id: Ifdd119d9cdde2ead6c3e36862cc77da67d10f7d1\n'}, {'number': 5, 'created': '2018-02-19 13:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9ff7fb90632f54fc21e12b193d74885895941742', 'message': 'DNM Test disabling .pyc files for Grenade\n\nChange-Id: Ifdd119d9cdde2ead6c3e36862cc77da67d10f7d1\n'}, {'number': 6, 'created': '2018-02-19 20:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a9bba4134802ab662092ccb07ecd83f334f3dee7', 'message': 'DNM Test disabling .pyc files for Grenade\n\nChange-Id: Ifdd119d9cdde2ead6c3e36862cc77da67d10f7d1\n'}, {'number': 7, 'created': '2018-02-19 20:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5ba2d71b85304317963fc44779fad061c2f81a1f', 'message': 'DNM Test disabling .pyc files for Grenade\n\nChange-Id: Ifdd119d9cdde2ead6c3e36862cc77da67d10f7d1\n'}, {'number': 8, 'created': '2018-02-19 22:20:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0c931e2232f5093a17b0afd0498f4699e9cb0846', 'message': 'DNM Test disabling .pyc files for Grenade\n\nChange-Id: Ifdd119d9cdde2ead6c3e36862cc77da67d10f7d1\n'}, {'number': 9, 'created': '2018-02-19 22:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c639d85235ed16e189f516975f9d72959536a582', 'message': 'DNM Test disabling .pyc files for Grenade\n\nChange-Id: Ifdd119d9cdde2ead6c3e36862cc77da67d10f7d1\n'}, {'number': 10, 'created': '2018-02-20 03:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/81337f9fafcfbc5a0edb82f86586bcb888656fba', 'message': 'DNM Test disabling .pyc files for Grenade\n\nChange-Id: Ifdd119d9cdde2ead6c3e36862cc77da67d10f7d1\n'}, {'number': 11, 'created': '2018-02-20 14:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/46ad944646c7edf0e299ee690445f5b7ecf7d208', 'message': 'DNM Test disabling .pyc files for Grenade\n\nChange-Id: Ifdd119d9cdde2ead6c3e36862cc77da67d10f7d1\n'}, {'number': 12, 'created': '2018-02-20 16:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/26a1a4f032349f137f6a1f19c1afd8f43780f1c6', 'message': 'DNM Test disabling .pyc files for Grenade\n\nChange-Id: Ifdd119d9cdde2ead6c3e36862cc77da67d10f7d1\n'}, {'number': 13, 'created': '2018-02-20 18:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1f434605e3af48e5692d082c7462c612f5b4376f', 'message': 'DNM Test disabling .pyc files for Grenade\n\nChange-Id: Ifdd119d9cdde2ead6c3e36862cc77da67d10f7d1\n'}, {'number': 14, 'created': '2018-02-20 20:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a6e59ce4d12e0bc2eec5ea1d4ef0bf405efc99a3', 'message': 'DNM Test disabling .pyc files for Grenade\n\nChange-Id: Ifdd119d9cdde2ead6c3e36862cc77da67d10f7d1\n'}, {'number': 15, 'created': '2018-02-22 09:18:37.000000000', 'files': ['playbooks/legacy/grenade-dsvm-ironic-multinode-multitenant/run.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/780ab207a1b2e46a7fd131f4cbb7c026f3a1b390', 'message': ""Disable .pyc files for grenade multinode\n\nIronic's grenade multinode suffers from some of unique issues.\n\n* Nova can never be upgraded as there is a static pin that increments\n  higher. As such, newer nova can never run with older ironic.\n* As Nova cannot be upgraded, it is left running throughout the test\n  sequence.\n\nThe above two conditions result in possible breaking package upgrades\nas the python environments are shared between the old and new\ninstallations.\n\nIn order to better isolate the running processes, as would be in\nmost actual production environments, we need to minimize underlying\ninter-reactions due to python library upgrades.\n\nCredit goes to Jim Rollenhagen for coming up with this idea, once the\nmassive conundrum was fully explained. Thanks Jim!\n\nPartial-Bug: #1744139\nChange-Id: Ifdd119d9cdde2ead6c3e36862cc77da67d10f7d1\n(cherry picked from commit 93f376f3450b611842816f7248943350e4fd1a73)\n""}]",0,545089,780ab207a1b2e46a7fd131f4cbb7c026f3a1b390,79,8,15,11655,,,0,"Disable .pyc files for grenade multinode

Ironic's grenade multinode suffers from some of unique issues.

* Nova can never be upgraded as there is a static pin that increments
  higher. As such, newer nova can never run with older ironic.
* As Nova cannot be upgraded, it is left running throughout the test
  sequence.

The above two conditions result in possible breaking package upgrades
as the python environments are shared between the old and new
installations.

In order to better isolate the running processes, as would be in
most actual production environments, we need to minimize underlying
inter-reactions due to python library upgrades.

Credit goes to Jim Rollenhagen for coming up with this idea, once the
massive conundrum was fully explained. Thanks Jim!

Partial-Bug: #1744139
Change-Id: Ifdd119d9cdde2ead6c3e36862cc77da67d10f7d1
(cherry picked from commit 93f376f3450b611842816f7248943350e4fd1a73)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/89/545089/12 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/grenade-dsvm-ironic-multinode-multitenant/run.yaml', 'zuul.d/project.yaml']",2,c4379823a1f10b3abf2dd04cf9bd3d46337271eb,544750-stable/queens,, - ironic-dsvm-standalone - ironic-grenade-dsvm - ironic-tempest-dsvm-bfv - ironic-tempest-dsvm-ipa-partition-pxe_ipmitool-tinyipa-python3 - ironic-tempest-dsvm-ipa-partition-redfish-tinyipa - ironic-tempest-dsvm-ipa-partition-uefi-pxe_ipmitool-tinyipa - ironic-tempest-dsvm-ipa-wholedisk-agent_ipmitool-tinyipa-multinode - ironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa # Non-voting jobs - ironic-tempest-dsvm-ipa-wholedisk-bios-pxe_snmp-tinyipa: voting: false - ironic-tempest-dsvm-ironic-inspector: voting: false - ironic-tempest-dsvm-pxe_ipmitool-postgres: voting: false,4,15
openstack%2Fnova~stable%2Focata~I9b545ca8aa6dd7b41ddea2d333190c9fbed19bc1,openstack/nova,stable/ocata,I9b545ca8aa6dd7b41ddea2d333190c9fbed19bc1,libvirt: Don't VIR_MIGRATE_NON_SHARED_INC without migrate_disks,MERGED,2017-11-14 12:22:31.000000000,2018-02-26 17:35:37.000000000,2018-02-26 17:35:37.000000000,"[{'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11583}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20676}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-11-14 12:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c170ee9e08e312bb92bee674385bec6513cf0054', 'message': 'libvirt: Don\'t VIR_MIGRATE_NON_SHARED_INC without migrate_disks\n\nIf we specify block migration, but there are no disks which actually\nrequire block migration we call libvirt\'s migrateToURI3() with\nVIR_MIGRATE_NON_SHARED_INC in flags and an empty migrate_disks in\nparams. Libvirt interprets this to be the default block migration\nbehaviour of ""block migrate all writeable disks"". However,\nmigrate_disks may only be empty because we filtered attached volumes\nout of it, in which case libvirt will block migrate attached volumes.\nThis is a data corruptor.\n\nThis change addresses the issue at the point we call migrateToURI3().\nAs we never want the default block migration behaviour, we can safely\nremove the flag if the list of disks to migrate is empty.\n\nChange-Id: I9b545ca8aa6dd7b41ddea2d333190c9fbed19bc1\nResolves-bug: #1719362\n(cherry picked from commit ea9bf5216be60fb3fa1704cf6257adca4e634cb1)\n'}, {'number': 2, 'created': '2017-11-14 16:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1fc0b6b2d8e267c7d820c731e6976b07e2759a3b', 'message': 'libvirt: Don\'t VIR_MIGRATE_NON_SHARED_INC without migrate_disks\n\nIf we specify block migration, but there are no disks which actually\nrequire block migration we call libvirt\'s migrateToURI3() with\nVIR_MIGRATE_NON_SHARED_INC in flags and an empty migrate_disks in\nparams. Libvirt interprets this to be the default block migration\nbehaviour of ""block migrate all writeable disks"". However,\nmigrate_disks may only be empty because we filtered attached volumes\nout of it, in which case libvirt will block migrate attached volumes.\nThis is a data corruptor.\n\nThis change addresses the issue at the point we call migrateToURI3().\nAs we never want the default block migration behaviour, we can safely\nremove the flag if the list of disks to migrate is empty.\n\n(cherry picked from commit ea9bf5216be60fb3fa1704cf6257adca4e634cb1)\n\nnova/tests/unit/virt/libvirt/test_driver.py:\n  Explicitly asserts byte string destination_xml in\n  _test_live_migration_block_migration_flags. Not required in master\n  due to change I85cd9a90.\n\n(cherry picked from commit 2486f34ec49ffdf381912d7f0fd5199ce0dfa013)\n\nChange-Id: I9b545ca8aa6dd7b41ddea2d333190c9fbed19bc1\nResolves-bug: #1719362\n'}, {'number': 3, 'created': '2018-02-19 21:50:26.000000000', 'files': ['nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2cfdb9c056192ff38e44fd5f03c9ede33ed09bd9', 'message': 'libvirt: Don\'t VIR_MIGRATE_NON_SHARED_INC without migrate_disks\n\nIf we specify block migration, but there are no disks which actually\nrequire block migration we call libvirt\'s migrateToURI3() with\nVIR_MIGRATE_NON_SHARED_INC in flags and an empty migrate_disks in\nparams. Libvirt interprets this to be the default block migration\nbehaviour of ""block migrate all writeable disks"". However,\nmigrate_disks may only be empty because we filtered attached volumes\nout of it, in which case libvirt will block migrate attached volumes.\nThis is a data corruptor.\n\nThis change addresses the issue at the point we call migrateToURI3().\nAs we never want the default block migration behaviour, we can safely\nremove the flag if the list of disks to migrate is empty.\n\n(cherry picked from commit ea9bf5216be60fb3fa1704cf6257adca4e634cb1)\n\nnova/tests/unit/virt/libvirt/test_driver.py:\n  Explicitly asserts byte string destination_xml in\n  _test_live_migration_block_migration_flags. Not required in master\n  due to change I85cd9a90.\n\n(cherry picked from commit 2486f34ec49ffdf381912d7f0fd5199ce0dfa013)\n\nChange-Id: I9b545ca8aa6dd7b41ddea2d333190c9fbed19bc1\nResolves-bug: #1719362\n'}]",0,519636,2cfdb9c056192ff38e44fd5f03c9ede33ed09bd9,49,13,3,9555,,,0,"libvirt: Don't VIR_MIGRATE_NON_SHARED_INC without migrate_disks

If we specify block migration, but there are no disks which actually
require block migration we call libvirt's migrateToURI3() with
VIR_MIGRATE_NON_SHARED_INC in flags and an empty migrate_disks in
params. Libvirt interprets this to be the default block migration
behaviour of ""block migrate all writeable disks"". However,
migrate_disks may only be empty because we filtered attached volumes
out of it, in which case libvirt will block migrate attached volumes.
This is a data corruptor.

This change addresses the issue at the point we call migrateToURI3().
As we never want the default block migration behaviour, we can safely
remove the flag if the list of disks to migrate is empty.

(cherry picked from commit ea9bf5216be60fb3fa1704cf6257adca4e634cb1)

nova/tests/unit/virt/libvirt/test_driver.py:
  Explicitly asserts byte string destination_xml in
  _test_live_migration_block_migration_flags. Not required in master
  due to change I85cd9a90.

(cherry picked from commit 2486f34ec49ffdf381912d7f0fd5199ce0dfa013)

Change-Id: I9b545ca8aa6dd7b41ddea2d333190c9fbed19bc1
Resolves-bug: #1719362
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/519636/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/guest.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,c170ee9e08e312bb92bee674385bec6513cf0054,bug/1719362," @mock.patch.object(fakelibvirt.virDomain, ""migrateToURI3"") @mock.patch.object(host.Host, 'has_min_version', return_value=True) @mock.patch('nova.virt.libvirt.guest.Guest.get_xml_desc', return_value='<xml/>') def _test_live_migration_block_migration_flags(self, device_names, expected_flags, mock_old_xml, mock_min_version, mock_migrateToURI3): migrate_data = objects.LibvirtLiveMigrateData( graphics_listen_addr_vnc='0.0.0.0', graphics_listen_addr_spice='0.0.0.0', serial_listen_addr='127.0.0.1', target_connect_addr=None, bdms=[], block_migration=True) dom = fakelibvirt.virDomain guest = libvirt_guest.Guest(dom) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) drvr._parse_migration_flags() instance = objects.Instance(**self.test_instance) drvr._live_migration_operation(self.context, instance, 'dest', True, migrate_data, guest, device_names) params = { 'migrate_disks': device_names, 'bandwidth': CONF.libvirt.live_migration_bandwidth, 'destination_xml': '<xml/>', } mock_migrateToURI3.assert_called_once_with( drvr._live_migration_uri('dest'), params=params, flags=expected_flags) def test_live_migration_block_migration_with_devices(self): device_names = ['vda'] expected_flags = (fakelibvirt.VIR_MIGRATE_NON_SHARED_INC | fakelibvirt.VIR_MIGRATE_UNDEFINE_SOURCE | fakelibvirt.VIR_MIGRATE_PERSIST_DEST | fakelibvirt.VIR_MIGRATE_PEER2PEER | fakelibvirt.VIR_MIGRATE_LIVE) self._test_live_migration_block_migration_flags(device_names, expected_flags) def test_live_migration_block_migration_all_filtered(self): device_names = [] expected_flags = (fakelibvirt.VIR_MIGRATE_UNDEFINE_SOURCE | fakelibvirt.VIR_MIGRATE_PERSIST_DEST | fakelibvirt.VIR_MIGRATE_PEER2PEER | fakelibvirt.VIR_MIGRATE_LIVE) self._test_live_migration_block_migration_flags(device_names, expected_flags) expected_flags = (fakelibvirt.VIR_MIGRATE_UNDEFINE_SOURCE | fakelibvirt.VIR_MIGRATE_PERSIST_DEST | fakelibvirt.VIR_MIGRATE_TUNNELLED | fakelibvirt.VIR_MIGRATE_PEER2PEER | fakelibvirt.VIR_MIGRATE_LIVE) params=params, flags=expected_flags)"," params=params, flags=159)",73,1
openstack%2Fopenstack-ansible-os_tempest~stable%2Fqueens~I4aa26b88022048c8e07916b6bbb37350f446d63d,openstack/openstack-ansible-os_tempest,stable/queens,I4aa26b88022048c8e07916b6bbb37350f446d63d,Updated from OpenStack Ansible Tests,MERGED,2018-02-15 12:56:30.000000000,2018-02-26 17:35:06.000000000,2018-02-26 17:35:06.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-02-15 12:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/08407b860337bc29b75ce57a05ef5d1c30f9f2d4', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I4aa26b88022048c8e07916b6bbb37350f446d63d\n'}, {'number': 2, 'created': '2018-02-19 09:11:13.000000000', 'files': ['tests/tests-repo-clone.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/8c042b1542f5406877cfd9341a6fe040413f787e', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I4aa26b88022048c8e07916b6bbb37350f446d63d\n'}]",0,544938,8c042b1542f5406877cfd9341a6fe040413f787e,17,3,2,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I4aa26b88022048c8e07916b6bbb37350f446d63d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/38/544938/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests-repo-clone.sh'],1,08407b860337bc29b75ce57a05ef5d1c30f9f2d4,openstack/openstack-ansible-tests/sync-tests, git clone -b stable/queens \, git clone \,1,1
openstack%2Fopenstack-ansible-os_cinder~stable%2Fqueens~I6cc40b4fc473df29c6e3d7844fde6340694d43bb,openstack/openstack-ansible-os_cinder,stable/queens,I6cc40b4fc473df29c6e3d7844fde6340694d43bb,Replace virtualenv-tools by a script,MERGED,2018-02-18 22:13:07.000000000,2018-02-26 17:13:45.000000000,2018-02-26 17:13:45.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-02-18 22:13:07.000000000', 'files': ['defaults/main.yml', 'tasks/cinder_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/7f904825db9472ce1150e8c034cacefae00882c5', 'message': ""Replace virtualenv-tools by a script\n\nvirtualenv-tools has a bug which gets triggered in gates: it can't\nchange the shebang of a virtualenv python bin/ files if they\nwere generated with a virtualenv script whose shebang ends with\npython2 instead of python.\n\nBecause we can't modify virtualenv-tools, we use shell scripts\ninstead.\n\nChange-Id: I6cc40b4fc473df29c6e3d7844fde6340694d43bb\nPartial-Bug: #1741634\n""}]",0,545722,7f904825db9472ce1150e8c034cacefae00882c5,24,5,1,7353,,,0,"Replace virtualenv-tools by a script

virtualenv-tools has a bug which gets triggered in gates: it can't
change the shebang of a virtualenv python bin/ files if they
were generated with a virtualenv script whose shebang ends with
python2 instead of python.

Because we can't modify virtualenv-tools, we use shell scripts
instead.

Change-Id: I6cc40b4fc473df29c6e3d7844fde6340694d43bb
Partial-Bug: #1741634
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/22/545722/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'tasks/cinder_install.yml']",2,7f904825db9472ce1150e8c034cacefae00882c5,bug/1741634-stable/queens,"- name: Reset virtualenv and update its paths shell: | find {{ cinder_bin }} -name \*.pyc -delete sed -si '1s/^.*python.*$/#!{{ cinder_bin | replace ('/','\/') }}\/python/' {{ cinder_bin }}/* virtualenv {{ cinder_bin | dirname }} tags: - skip_ansible_lint",- name: Update virtualenv path command: > virtualenv-tools --update-path=auto --reinitialize {{ cinder_bin | dirname }},7,4
openstack%2Fgovernance-uc~master~Ia687ab38f3ca746fbbb0118af80f4d61d9828544,openstack/governance-uc,master,Ia687ab38f3ca746fbbb0118af80f4d61d9828544,Add election results,MERGED,2018-02-25 23:59:41.000000000,2018-02-26 17:13:44.000000000,2018-02-26 17:13:44.000000000,"[{'_account_id': 7272}, {'_account_id': 12651}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-25 23:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/f03b73634477b5528c447933d87e7f05cc31bb11', 'message': 'Add election results\n\nChange-Id: Ia687ab38f3ca746fbbb0118af80f4d61d9828544\nSigned-off-by: Melvin Hillsman <mrhillsman@gmail.com>\n'}, {'number': 2, 'created': '2018-02-26 00:07:53.000000000', 'files': ['reference/uc-election-feb2018.rst'], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/c1cfcb73fff05642a4776c0f4900340b95bf8b59', 'message': 'Add election results\n\nChange-Id: Ia687ab38f3ca746fbbb0118af80f4d61d9828544\nSigned-off-by: Melvin Hillsman <mrhillsman@gmail.com>\n'}]",0,547868,c1cfcb73fff05642a4776c0f4900340b95bf8b59,10,4,2,17556,,,0,"Add election results

Change-Id: Ia687ab38f3ca746fbbb0118af80f4d61d9828544
Signed-off-by: Melvin Hillsman <mrhillsman@gmail.com>
",git fetch https://review.opendev.org/openstack/governance-uc refs/changes/68/547868/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/uc-election-feb2018.rst'],1,f03b73634477b5528c447933d87e7f05cc31bb11,electionresults,"\* We have one member stepping down during this particular electionin their `Foundation Member Profile <https://openstack.org/profile>`_,Melvin Hillsman, Amy Marrich, and Yih Leong Sun were elected. * Full Results: https://civs.cs.cornell.edu/cgi-bin/results.pl?id=E_f7b17dc638013045","* We have one member stepping down during this particular electionin their Foundation Member Profile, https://openstack.org/profile ,{Members Elected} were elected. * Full Results: {Official Results Link}",4,4
openstack%2Fneutron~master~I89901235cabdf64428655e034d165ca0de19b7fa,openstack/neutron,master,I89901235cabdf64428655e034d165ca0de19b7fa,DNM Debug LB scenario tests failures - attempt 4,ABANDONED,2018-02-22 08:19:27.000000000,2018-02-26 17:12:23.000000000,,"[{'_account_id': 10385}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-22 08:19:27.000000000', 'files': ['neutron/agent/l3/router_info.py', 'neutron/agent/l3/legacy_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4531222ceafd836c82b4d409cae76ac60a45b225', 'message': 'DNM Debug LB scenario tests failures - attempt 4\n\nChange-Id: I89901235cabdf64428655e034d165ca0de19b7fa\n'}]",0,546916,4531222ceafd836c82b4d409cae76ac60a45b225,5,3,1,11975,,,0,"DNM Debug LB scenario tests failures - attempt 4

Change-Id: I89901235cabdf64428655e034d165ca0de19b7fa
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/546916/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/router_info.py', 'neutron/agent/l3/legacy_router.py']",2,4531222ceafd836c82b4d409cae76ac60a45b225,debug-lb-scenarios,"from oslo_log import log as loggingLOG = logging.getLogger(__name__) LOG.debug(""Add floating ip %(fip)s; interface_name=%(int)s; "" ""device=%(dev)s"", {'fip': fip, 'int': interface_name, 'dev': device})",,36,0
openstack%2Fironic~master~Ib2166040508827db28d6f6e2d9a3e655c16f2993,openstack/ironic,master,Ib2166040508827db28d6f6e2d9a3e655c16f2993,Support nested objects and object lists in as_dict,MERGED,2018-02-19 13:32:39.000000000,2018-02-26 16:56:05.000000000,2018-02-22 04:13:22.000000000,"[{'_account_id': 6618}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 12356}, {'_account_id': 13689}, {'_account_id': 14208}, {'_account_id': 14629}, {'_account_id': 14760}, {'_account_id': 14826}, {'_account_id': 17998}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-19 13:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cd28b7f5ca6d20a99e7aa6f8526097d1df146bae', 'message': 'Support nested objects and object lists in as_dict\n\nThe value returned by ironic.objects.IronicObject.as_dict() should be a\nplain object, in order for it to be serialised to JSON. This change adds\nsupport for calling as_dict() on nested objects and list objects, to\nensure these are also returned in dict form.\n\nChange-Id: Ib2166040508827db28d6f6e2d9a3e655c16f2993\nCloses-Bug: #1750027\n'}, {'number': 2, 'created': '2018-02-19 20:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c786e742f311972bf14782f907598b29c403f626', 'message': ""Support nested objects and object lists in as_dict\n\nThe value returned by ironic.objects.IronicObject.as_dict() should be a\nplain object, in order for it to be serialised to JSON. Currently,\nnested object fields and object list fields are not converted to dict\nformat. This caused problems during cleaning, when the node object's\nas_dict representation is JSON encoded and sent to IPA.\n\nThis change adds support for calling as_dict() on nested objects and\nlist objects, to ensure these are also returned in dict form.\n\nChange-Id: Ib2166040508827db28d6f6e2d9a3e655c16f2993\nCloses-Bug: #1750027\n""}, {'number': 3, 'created': '2018-02-20 10:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fccfb24a42178729c77e6bbf0c8f2b89cb1be1a4', 'message': ""Support nested objects and object lists in as_dict\n\nThe value returned by ironic.objects.IronicObject.as_dict() should be a\nplain object, in order for it to be serialised to JSON. Currently,\nnested object fields and object list fields are not converted to dict\nformat. This caused problems during cleaning, when the node object's\nas_dict representation is JSON encoded and sent to IPA.\n\nThis change adds support for calling as_dict() on nested objects and\nlist objects, to ensure these are also returned in dict form.\n\nChange-Id: Ib2166040508827db28d6f6e2d9a3e655c16f2993\nCloses-Bug: #1750027\n""}, {'number': 4, 'created': '2018-02-21 14:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fda5f0ed1056c94a0aab446e597b9c6a71a018d6', 'message': ""Support nested objects and object lists in as_dict\n\nThe value returned by ironic.objects.IronicObject.as_dict() should be a\nplain object, in order for it to be serialised to JSON. Currently,\nnested object fields and object list fields are not converted to dict\nformat. This caused problems during cleaning, when the node object's\nas_dict representation is JSON encoded and sent to IPA.\n\nThis change adds support for calling as_dict() on nested objects and\nlist objects, to ensure these are also returned in dict form.\n\nWe also change the method used in as_dict() for checking whether an\nobject has an attribute. The hasattr() function used previously has\nproblems when used with properties in python 2 [1], in that any\nexceptions raised in the property getter result in hasattr() returning\nFalse. Instead we use obj_attr_is_set() to determine whether the object\nhas a particular attribute.\n\n[1] https://hynek.me/articles/hasattr/\n\nChange-Id: Ib2166040508827db28d6f6e2d9a3e655c16f2993\nCloses-Bug: #1750027\n""}, {'number': 5, 'created': '2018-02-22 00:30:05.000000000', 'files': ['ironic/tests/unit/objects/test_trait.py', 'releasenotes/notes/fix-cleaning-with-traits-3a54faa70d594fd0.yaml', 'ironic/objects/trait.py', 'ironic/tests/unit/objects/test_objects.py', 'ironic/api/controllers/v1/node.py', 'ironic/objects/base.py', 'ironic/tests/unit/objects/test_node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c66679f14b0b5f34462a896c3bff5a9f483a9a83', 'message': ""Support nested objects and object lists in as_dict\n\nThe value returned by ironic.objects.IronicObject.as_dict() should be a\nplain object, in order for it to be serialised to JSON. Currently,\nnested object fields and object list fields are not converted to dict\nformat. This caused problems during cleaning, when the node object's\nas_dict representation is JSON encoded and sent to IPA.\n\nThis change adds support for calling as_dict() on nested objects and\nlist objects, to ensure these are also returned in dict form.\n\nWe also change the method used in as_dict() for checking whether an\nobject has an attribute. The hasattr() function used previously has\nproblems when used with properties in python 2 [1], in that any\nexceptions raised in the property getter result in hasattr() returning\nFalse. Instead we use obj_attr_is_set() to determine whether the object\nhas a particular attribute.\n\n[1] https://hynek.me/articles/hasattr/\n\nChange-Id: Ib2166040508827db28d6f6e2d9a3e655c16f2993\nCloses-Bug: #1750027\n""}]",24,545830,c66679f14b0b5f34462a896c3bff5a9f483a9a83,51,12,5,14826,,,0,"Support nested objects and object lists in as_dict

The value returned by ironic.objects.IronicObject.as_dict() should be a
plain object, in order for it to be serialised to JSON. Currently,
nested object fields and object list fields are not converted to dict
format. This caused problems during cleaning, when the node object's
as_dict representation is JSON encoded and sent to IPA.

This change adds support for calling as_dict() on nested objects and
list objects, to ensure these are also returned in dict form.

We also change the method used in as_dict() for checking whether an
object has an attribute. The hasattr() function used previously has
problems when used with properties in python 2 [1], in that any
exceptions raised in the property getter result in hasattr() returning
False. Instead we use obj_attr_is_set() to determine whether the object
has a particular attribute.

[1] https://hynek.me/articles/hasattr/

Change-Id: Ib2166040508827db28d6f6e2d9a3e655c16f2993
Closes-Bug: #1750027
",git fetch https://review.opendev.org/openstack/ironic refs/changes/30/545830/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/objects/trait.py', 'ironic/tests/unit/objects/test_objects.py', 'ironic/api/controllers/v1/node.py', 'ironic/objects/base.py', 'ironic/tests/unit/objects/test_node.py']",5,cd28b7f5ca6d20a99e7aa6f8526097d1df146bae,bug/1750027,import json # Ensure the node can be serialised. json.dumps(d) # Ensure the node can be serialised. json.dumps(d),,69,3
openstack%2Fopenstack-ansible-os_panko~master~I3830f0aec3604d5a80eeacf54f35dedaf8a09115,openstack/openstack-ansible-os_panko,master,I3830f0aec3604d5a80eeacf54f35dedaf8a09115,dnm: test commit to get first ci pass,ABANDONED,2018-02-21 20:49:27.000000000,2018-02-26 16:55:49.000000000,,"[{'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-21 20:49:27.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/614f33b84363a01af657dca2d8129400fda789be', 'message': 'dnm: test commit to get first ci pass\n\nChange-Id: I3830f0aec3604d5a80eeacf54f35dedaf8a09115\n'}]",0,546771,614f33b84363a01af657dca2d8129400fda789be,5,2,1,1004,,,0,"dnm: test commit to get first ci pass

Change-Id: I3830f0aec3604d5a80eeacf54f35dedaf8a09115
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/71/546771/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,614f33b84363a01af657dca2d8129400fda789be,,DNM ,,2,0
openstack%2Frpm-packaging~stable%2Fpike~I9d501b1f8ab899ac86c61b1f0ef96b3c943fe550,openstack/rpm-packaging,stable/pike,I9d501b1f8ab899ac86c61b1f0ef96b3c943fe550,python-monascaclient: Drop oslo.service Requires,MERGED,2018-02-26 07:34:35.000000000,2018-02-26 16:35:37.000000000,2018-02-26 16:35:37.000000000,"[{'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 17130}, {'_account_id': 19648}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-26 07:34:35.000000000', 'files': ['openstack/python-monascaclient/python-monascaclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a5f965dee63268a4a73721e97c68114be7b2a33c', 'message': 'python-monascaclient: Drop oslo.service Requires\n\nNot needed.\n\nChange-Id: I9d501b1f8ab899ac86c61b1f0ef96b3c943fe550\n'}]",0,547914,a5f965dee63268a4a73721e97c68114be7b2a33c,11,7,1,7102,,,0,"python-monascaclient: Drop oslo.service Requires

Not needed.

Change-Id: I9d501b1f8ab899ac86c61b1f0ef96b3c943fe550
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/14/547914/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-monascaclient/python-monascaclient.spec.j2'],1,a5f965dee63268a4a73721e97c68114be7b2a33c,,,Requires: {{ py2pkg('oslo.service') }},0,1
openstack%2Fvitrage~master~I469193f55b26194ccce0adfdd006b84bae97b953,openstack/vitrage,master,I469193f55b26194ccce0adfdd006b84bae97b953,Fix the invalid links in docs,MERGED,2018-02-26 08:08:16.000000000,2018-02-26 16:33:56.000000000,2018-02-26 16:33:56.000000000,"[{'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-26 08:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/754376efe1a2fbc721b67816fbf0689e15ca2137', 'message': 'Fix the invalid links in docs\n\nThe url doc links in these docs are out of date.\nReplace them with the right ones according to the OpenStack websites.\n\nChange-Id: I469193f55b26194ccce0adfdd006b84bae97b953\n'}, {'number': 2, 'created': '2018-02-26 08:11:25.000000000', 'files': ['doc/source/contributor/vitrage-first_steps.rst'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/7ca8df29c5edb3f92e688a1f81dd94c5a2676e62', 'message': 'Fix the invalid links in docs\n\nThe url doc links in these docs are out of date.\nReplace them with the right ones according to the OpenStack websites.\n\nChange-Id: I469193f55b26194ccce0adfdd006b84bae97b953\n'}]",0,547930,7ca8df29c5edb3f92e688a1f81dd94c5a2676e62,8,3,2,23317,,,0,"Fix the invalid links in docs

The url doc links in these docs are out of date.
Replace them with the right ones according to the OpenStack websites.

Change-Id: I469193f55b26194ccce0adfdd006b84bae97b953
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/30/547930/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/vitrage-first_steps.rst'],1,754376efe1a2fbc721b67816fbf0689e15ca2137,fix,- `Install Nagios on your devstack <https://docs.openstack.org/vitrage/latest/contributor/devstack-installation.html>`_ - `Configure Nagios datasource <https://docs.openstack.org/vitrage/latest/contributor/nagios-config.html>`_- `Resource state configuration <https://docs.openstack.org/vitrage/latest/contributor/resource-state-config.html>`_ - `Alarm severity configuration <https://docs.openstack.org/vitrage/latest/contributor/alarm-severity-config.html>`_.. _here: https://docs.openstack.org/vitrage/latest/contributor/vitrage-template-format.html,- `Install Nagios on your devstack <http://docs.openstack.org/developer/vitrage/nagios-devstack-installation.html>`_ - `Configure Nagios datasource <http://docs.openstack.org/developer/vitrage/nagios-config.html>`_- `Resource state configuration <http://docs.openstack.org/developer/vitrage/resource-state-config.html>`_ - `Alarm severity configuration <http://docs.openstack.org/developer/vitrage/alarm-severity-config.html>`_.. _here: http://docs.openstack.org/developer/vitrage/vitrage-template-format.html,5,5
openstack%2Fproject-config~master~Ib7df7f72d7cbebc3af99ae2e5553dc2d98b458e8,openstack/project-config,master,Ib7df7f72d7cbebc3af99ae2e5553dc2d98b458e8,New required-projects for Iotronic-ui.,MERGED,2018-02-20 15:02:16.000000000,2018-02-26 16:21:17.000000000,2018-02-26 16:21:17.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 20746}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-20 15:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/01e22eb977a7d59c3bbd51483990584b2fe33fdd', 'message': 'New required-projects for Iotronic-ui.\n\nIotronic-ui needs openstack/horizon as required-projects.\n\nChange-Id: Ib7df7f72d7cbebc3af99ae2e5553dc2d98b458e8\n'}, {'number': 2, 'created': '2018-02-20 15:44:14.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/071c024b67513582078477db5733bcc7a7673b05', 'message': 'New required-projects for Iotronic-ui.\n\nIotronic-ui needs openstack/horizon as required-projects.\n\nChange-Id: Ib7df7f72d7cbebc3af99ae2e5553dc2d98b458e8\n'}]",1,546174,071c024b67513582078477db5733bcc7a7673b05,10,4,2,14291,,,0,"New required-projects for Iotronic-ui.

Iotronic-ui needs openstack/horizon as required-projects.

Change-Id: Ib7df7f72d7cbebc3af99ae2e5553dc2d98b458e8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/74/546174/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,01e22eb977a7d59c3bbd51483990584b2fe33fdd,iotronic-ui, - openstack-python-jobs-horizon - publish-to-pypi-horizon check: jobs: - openstack-tox-py27: required-projects: - openstack/horizon - openstack-tox-pep8: required-projects: - openstack/horizon, - openstack-python-jobs - publish-to-pypi,10,2
openstack%2Fopenstack-helm~master~If2c44801ae3792e8ce10ed80336490a2aa1622e5,openstack/openstack-helm,master,If2c44801ae3792e8ce10ed80336490a2aa1622e5,Glance: fix image clean image reference,MERGED,2018-02-26 04:44:33.000000000,2018-02-26 16:18:36.000000000,2018-02-26 16:18:36.000000000,"[{'_account_id': 7769}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-26 04:44:33.000000000', 'files': ['glance/templates/job-clean.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f6eb6d7b3e1fde97c0ec1e4b32754dcaf05daf4a', 'message': 'Glance: fix image clean image reference\n\nThis PS fixes the glance clean job image tags.\n\nChange-Id: If2c44801ae3792e8ce10ed80336490a2aa1622e5\n'}]",0,547891,f6eb6d7b3e1fde97c0ec1e4b32754dcaf05daf4a,7,3,1,23928,,,0,"Glance: fix image clean image reference

This PS fixes the glance clean job image tags.

Change-Id: If2c44801ae3792e8ce10ed80336490a2aa1622e5
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/91/547891/1 && git format-patch -1 --stdout FETCH_HEAD,['glance/templates/job-clean.yaml'],1,f6eb6d7b3e1fde97c0ec1e4b32754dcaf05daf4a,glance/clean, image: {{ .Values.images.tags.bootstrap }}, image: {{ .Values.images.tags.glance_bootstrap }},1,1
openstack%2Fswift~feature%2Fs3api~Idcb6a92bc203de1fe6868f73c72205258e2249a8,openstack/swift,feature/s3api,Idcb6a92bc203de1fe6868f73c72205258e2249a8,Merge s3api func tests,MERGED,2018-01-25 10:42:13.000000000,2018-02-26 15:59:40.000000000,2018-02-26 15:59:40.000000000,"[{'_account_id': 4608}, {'_account_id': 9625}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-25 10:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3a53ff61d538ffdae521957bda7200d564de1488', 'message': 'Fix s3api middleware to work with functests\n\n- Skip if s3api is not enabled in the pipeline\n- Set s3api requiered object headers into allowed_headers in object-server.conf\n- Fix some broken things at multipart upload since logging change.\n- Revert .functests change at the previous change to run whole functests\n\nChange-Id: Idcb6a92bc203de1fe6868f73c72205258e2249a8\n'}, {'number': 2, 'created': '2018-01-26 04:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b6d02674f733e137747e49a46c43f74e17575a8d', 'message': 'Fix s3api middleware to work with functests\n\n- Skip if s3api is not enabled in the pipeline\n- Set s3api requiered object headers into allowed_headers in object-server.conf\n- Fix some broken things at multipart upload since logging change\n- Revert .functests change at the previous change to run whole functests\n- Change s3_acl default as True\n\nChange-Id: Idcb6a92bc203de1fe6868f73c72205258e2249a8\n'}, {'number': 3, 'created': '2018-01-26 08:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8b8b74761cf8405e89ddbd7415b7d54dfdacd810', 'message': 'Fix s3api middleware to work with functests\n\n- Skip if s3api is not enabled in the pipeline\n- Set s3api requiered object headers into allowed_headers in object-server.conf\n- Fix some broken things at multipart upload since logging change\n- Revert .functests change at the previous change to run whole functests\n- Change s3_acl default as True in conf file\n\nTODO:\n- Consider s3_acl is True in default\n- Remove global CONF instance\n\nI think those TODOs will be other patches\n\nChange-Id: Idcb6a92bc203de1fe6868f73c72205258e2249a8\n'}, {'number': 4, 'created': '2018-01-29 04:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0674bbb3ea53f6d074641a56ffd0d95dd79c8a62', 'message': 'Fix s3api middleware to work with functests\n\n- Skip if s3api is not enabled in the pipeline\n- Set s3api requiered object headers into allowed_headers in object-server.conf\n- Fix some broken things at multipart upload since logging change\n- Revert .functests change at the previous change to run whole functests\n- Change s3_acl default as True in conf file\n\nTODO:\n- Consider s3_acl is True in default\n- Remove global CONF instance\n\nI think those TODOs will be other patches\n\nChange-Id: Idcb6a92bc203de1fe6868f73c72205258e2249a8\n'}, {'number': 5, 'created': '2018-01-29 07:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/47d687f32a29be7bd405046fe478b94992194273', 'message': 'Fix s3api middleware to work with functests\n\n- Skip if s3api is not enabled in the pipeline\n- Fix some broken things at multipart upload since logging change\n- Revert .functests change at the previous change to run whole functests\n- Add in process func-s3api env to tox\n\nTODO:\n- Consider s3_acl is True in default\n- Remove global CONF instance\n\nI think those TODOs will be other patches\n\nChange-Id: Idcb6a92bc203de1fe6868f73c72205258e2249a8\n'}, {'number': 6, 'created': '2018-02-19 22:02:10.000000000', 'files': ['test/sample.conf', 'test/functional/s3api/s3_test_client.py', 'test/functional/s3api/utils.py', 'test/functional/s3api/__init__.py', '.zuul.yaml', 'swift/common/middleware/s3api/subresource.py', 'test/functional/s3api/test_multi_upload.py', 'test/unit/common/middleware/s3api/test_multi_upload.py', 'test/functional/s3api/test_multi_delete.py', 'swift/common/middleware/s3api/cfg.py', 'etc/proxy-server.conf-sample', 'test/functional/__init__.py', 'test/unit/common/middleware/s3api/test_service.py', 'swift/common/middleware/s3api/acl_handlers.py', 'test/functional/s3api/test_bucket.py', 'test/functional/s3api/test_object.py', 'tox.ini', 'test/functional/s3api/test_acl.py', 'test/functional/s3api/test_presigned.py', 'test/functional/s3api/test_service.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/063daf7d080c89c233022833b917cec33f58f790', 'message': ""Merge s3api func tests\n\nMerge s3api tests back into swift's functional\ntest tree: test/functional.\n\nAlso:\n- Skip if s3api is not enabled in the pipeline\n- Fix some broken things at multipart upload since logging change\n- Add in process func-s3api env to tox\n\nCo-Authored-By: Kota Tsuyuzaki <tsuyuzaki.kota@lab.ntt.co.jp>\nChange-Id: Idcb6a92bc203de1fe6868f73c72205258e2249a8\n""}]",0,537838,063daf7d080c89c233022833b917cec33f58f790,19,3,6,4608,,,0,"Merge s3api func tests

Merge s3api tests back into swift's functional
test tree: test/functional.

Also:
- Skip if s3api is not enabled in the pipeline
- Fix some broken things at multipart upload since logging change
- Add in process func-s3api env to tox

Co-Authored-By: Kota Tsuyuzaki <tsuyuzaki.kota@lab.ntt.co.jp>
Change-Id: Idcb6a92bc203de1fe6868f73c72205258e2249a8
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/537838/6 && git format-patch -1 --stdout FETCH_HEAD,"['.functests', 'test/sample.conf', 'test/functional/s3api/s3_test_client.py', 'test/functional/s3api/__init__.py', 'swift/common/middleware/s3api/subresource.py', 'test/functional/s3api/test_multi_upload.py', 'test/unit/common/middleware/s3api/test_multi_upload.py', 'etc/object-server.conf-sample', 'test/functional/s3api/test_multi_delete.py', 'test/functional/__init__.py', 'swift/common/middleware/s3api/acl_handlers.py', 'test/functional/s3api/test_bucket.py', 'test/functional/s3api/test_object.py', 'test/functional/s3api/test_acl.py', 'test/functional/s3api/test_presigned.py', 'test/functional/s3api/test_service.py']",16,3a53ff61d538ffdae521957bda7200d564de1488,move_functests-patch4,,from unittest2 import SkipTest if tf.swift_test_auth_version == '1': raise SkipTest('v4 is supported only in keystone'),101,59
openstack%2Fpython-tripleoclient~master~I11228582c948adfc90b4f1ddb172fabb87965660,openstack/python-tripleoclient,master,I11228582c948adfc90b4f1ddb172fabb87965660,"Don't print the start of a workflow, log it",MERGED,2018-02-22 16:28:46.000000000,2018-02-26 15:58:49.000000000,2018-02-26 15:58:49.000000000,"[{'_account_id': 7065}, {'_account_id': 9712}, {'_account_id': 11090}, {'_account_id': 16515}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-22 16:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d6d01168ba95dd754425c262d0e89ae82b0d1c33', 'message': ""Don't print the start of a workflow, log it\n\nThe printing of the workflow execution makes things too verbose from\nthe CLI. That output intermixes with other output. We should just log\nit at level DEBUG.\n\nChange-Id: I11228582c948adfc90b4f1ddb172fabb87965660\n""}, {'number': 2, 'created': '2018-02-23 13:44:19.000000000', 'files': ['tripleoclient/workflows/base.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bfaf74e11757e6fcc70506918abe363cc6329399', 'message': ""Don't print the start of a workflow, log it\n\nThe printing of the workflow execution makes things too verbose from\nthe CLI. That output intermixes with other output. We should just log\nit at level DEBUG.\n\nChange-Id: I11228582c948adfc90b4f1ddb172fabb87965660\n""}]",0,547060,bfaf74e11757e6fcc70506918abe363cc6329399,19,7,2,7065,,,0,"Don't print the start of a workflow, log it

The printing of the workflow execution makes things too verbose from
the CLI. That output intermixes with other output. We should just log
it at level DEBUG.

Change-Id: I11228582c948adfc90b4f1ddb172fabb87965660
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/60/547060/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/base.py'],1,d6d01168ba95dd754425c262d0e89ae82b0d1c33,log-mistral-workflow," LOG.debug(""Started Mistral Workflow {}. Execution ID: {}"".format( identifier, execution.id))"," print(""Started Mistral Workflow {}. Execution ID: {}"".format( identifier, execution.id))",2,2
openstack%2Fnova~master~Ia1a84c986025f8a46c1062440faa0deb1d2d73a5,openstack/nova,master,Ia1a84c986025f8a46c1062440faa0deb1d2d73a5,Update noVNC deployment docs to mention non-US keymap fix in 1.0.0,MERGED,2018-02-26 10:56:07.000000000,2018-02-26 15:45:41.000000000,2018-02-26 12:31:17.000000000,"[{'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-02-26 10:56:07.000000000', 'files': ['doc/source/admin/remote-console-access.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/ed7af4c8f4d72ed0a1c15daf1c700b07fbeed635', 'message': 'Update noVNC deployment docs to mention non-US keymap fix in 1.0.0\n\nnoVNC 1.0.0 has the fix for non-US key mappings so this adds a simple\nnote when installing the novnc package that at least 1.0.0 should be\nused for non-US key map support.\n\nChange-Id: Ia1a84c986025f8a46c1062440faa0deb1d2d73a5\nRelated-Bug: #1682020\n'}]",0,547985,ed7af4c8f4d72ed0a1c15daf1c700b07fbeed635,13,8,1,6873,,,0,"Update noVNC deployment docs to mention non-US keymap fix in 1.0.0

noVNC 1.0.0 has the fix for non-US key mappings so this adds a simple
note when installing the novnc package that at least 1.0.0 should be
used for non-US key map support.

Change-Id: Ia1a84c986025f8a46c1062440faa0deb1d2d73a5
Related-Bug: #1682020
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/547985/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/remote-console-access.rst'],1,ed7af4c8f4d72ed0a1c15daf1c700b07fbeed635,bug/1682020,".. note:: If using non-US key mappings, then you need at least noVNC 1.0.0 for `a fix <https://github.com/novnc/noVNC/commit/99feba6ba8fee5b3a2b2dc99dc25e9179c560d31>`_. ",,5,0
openstack%2Fopenstack-ansible-galera_server~stable%2Fqueens~I850a37b465a427a827e357111942973457fafa0d,openstack/openstack-ansible-galera_server,stable/queens,I850a37b465a427a827e357111942973457fafa0d,Restore support for percona packages when using ppc64le,MERGED,2018-02-24 09:21:12.000000000,2018-02-26 15:23:17.000000000,2018-02-26 15:23:16.000000000,"[{'_account_id': 538}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-02-24 09:21:12.000000000', 'files': ['tasks/main.yml', 'tasks/galera_install.yml', 'vars/redhat-7.yml', 'vars/ubuntu-16.04.yml', 'releasenotes/notes/ppc64le-var-changes-84aa4f3f9bb0ef52.yaml', 'tasks/galera_install_download_extra_packages.yml', 'defaults/main.yml', 'tasks/galera_install_apt.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/7c1749d97b46b88ddf395d908be46c209a429457', 'message': 'Restore support for percona packages when using ppc64le\n\nIn https://review.openstack.org/535252 the installation\nprocess for the role was simplified, but an unintentional\nside-effect was to removed the previously included support\nfor installing the extra percona packages when installing\non the ppc64le platform.\n\nThis patch re-introduces that ability, but scopes it to\nonly execute on that hardware platform, and only for Ubuntu.\n\nThe download is, by default, facilitated through the deploy\nnode (rather than the target nodes) so that the download\nis done once, then pushed to the targets. This can be\nadjusted with the right parameters to download from the\ntargets instead.\n\nAlso, in https://review.openstack.org/543888 adjustments\nwere made to disable compression/qpress on architectures\nother than x86_64, and to fail the role execution if it\nwas enabled on any other architecture. This has been\ncorrected to ensure that compression is enabled by default\nfor ppc64le on Ubuntu, and enabled by default for x86_64,\nbut disabled by default for all other combinations. The\nfail task is adjusted appropriately and moved to the main\ntask file so that it executes and fails out before any\nchanges are made.\n\nChange-Id: I850a37b465a427a827e357111942973457fafa0d\n(cherry picked from commit 1075fe411aa7b37e6c536e1c1ea5d4bfd509d2b0)\n'}]",0,547740,7c1749d97b46b88ddf395d908be46c209a429457,8,4,1,6816,,,0,"Restore support for percona packages when using ppc64le

In https://review.openstack.org/535252 the installation
process for the role was simplified, but an unintentional
side-effect was to removed the previously included support
for installing the extra percona packages when installing
on the ppc64le platform.

This patch re-introduces that ability, but scopes it to
only execute on that hardware platform, and only for Ubuntu.

The download is, by default, facilitated through the deploy
node (rather than the target nodes) so that the download
is done once, then pushed to the targets. This can be
adjusted with the right parameters to download from the
targets instead.

Also, in https://review.openstack.org/543888 adjustments
were made to disable compression/qpress on architectures
other than x86_64, and to fail the role execution if it
was enabled on any other architecture. This has been
corrected to ensure that compression is enabled by default
for ppc64le on Ubuntu, and enabled by default for x86_64,
but disabled by default for all other combinations. The
fail task is adjusted appropriately and moved to the main
task file so that it executes and fails out before any
changes are made.

Change-Id: I850a37b465a427a827e357111942973457fafa0d
(cherry picked from commit 1075fe411aa7b37e6c536e1c1ea5d4bfd509d2b0)
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/40/547740/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/galera_install.yml', 'vars/redhat-7.yml', 'vars/ubuntu-16.04.yml', 'releasenotes/notes/ppc64le-var-changes-84aa4f3f9bb0ef52.yaml', 'tasks/galera_install_download_extra_packages.yml', 'defaults/main.yml', 'tasks/galera_install_apt.yml']",8,7c1749d97b46b88ddf395d908be46c209a429457,bug/1654004,- name: Remove policy-rc now that the package install is complete,- name: Remove policy-rc,127,14
openstack%2Fpuppet-tripleo~stable%2Fnewton~Ife465c2c6739c3cbfb9923ed97f370baa745739c,openstack/puppet-tripleo,stable/newton,Ife465c2c6739c3cbfb9923ed97f370baa745739c,Remove neutron-managed firewall rules from /etc/sysconfig/iptables,MERGED,2018-02-15 18:16:17.000000000,2018-02-26 15:16:21.000000000,2018-02-26 15:16:21.000000000,"[{'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-15 18:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9a5d999c10727ceaf12810519bf83f490abeee91', 'message': 'Remove neutron-managed firewall rules from /etc/sysconfig/iptables\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1541528\n\nWe don\'t want IPtables rules managed by Neutron to be persistent, it can\ncause issues when rule are recreated while a namespace doesn\'t exist.\n\nThis patch makes sure that in any Neutron node, no IPtables rule will be\npersistent if it contains ""neutron-"" in the name.\n\nChange-Id: Ife465c2c6739c3cbfb9923ed97f370baa745739c\nRelated-Bug: #1747960\n(cherry picked from commit 3c71c483e3e91d11fa83bfd751d2d8e54fdb4a20)\n'}, {'number': 2, 'created': '2018-02-15 20:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f0b5468baac5abf7736231c6b1a4f23ce7cb4222', 'message': 'Remove neutron-managed firewall rules from /etc/sysconfig/iptables\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1541528\n\nWe don\'t want IPtables rules managed by Neutron to be persistent, it can\ncause issues when rule are recreated while a namespace doesn\'t exist.\n\nThis patch makes sure that in any Neutron node, no IPtables rule will be\npersistent if it contains ""neutron-"" in the name.\n\nChange-Id: Ife465c2c6739c3cbfb9923ed97f370baa745739c\nRelated-Bug: #1747960\n(cherry picked from commit 3c71c483e3e91d11fa83bfd751d2d8e54fdb4a20)\n'}, {'number': 3, 'created': '2018-02-15 20:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/190bec1b85776ce616bbb7208356e2a9e995b325', 'message': 'Remove neutron-managed firewall rules from /etc/sysconfig/iptables\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1541528\n\nWe don\'t want IPtables rules managed by Neutron to be persistent, it can\ncause issues when rule are recreated while a namespace doesn\'t exist.\n\nThis patch makes sure that in any Neutron node, no IPtables rule will be\npersistent if it contains ""neutron-"" in the name.\n\nChange-Id: Ife465c2c6739c3cbfb9923ed97f370baa745739c\nRelated-Bug: #1747960\n(cherry picked from commit 3c71c483e3e91d11fa83bfd751d2d8e54fdb4a20)\n'}, {'number': 4, 'created': '2018-02-20 20:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8cf8f43ef02ea778d32509b362de9d2556ad505c', 'message': 'Remove neutron-managed firewall rules from /etc/sysconfig/iptables\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1541528\n\nWe don\'t want IPtables rules managed by Neutron to be persistent, it can\ncause issues when rule are recreated while a namespace doesn\'t exist.\n\nThis patch makes sure that in any Neutron node, no IPtables rule will be\npersistent if it contains ""neutron-"" in the name.\n\nChange-Id: Ife465c2c6739c3cbfb9923ed97f370baa745739c\nRelated-Bug: #1747960\n(cherry picked from commit 3c71c483e3e91d11fa83bfd751d2d8e54fdb4a20)\n'}, {'number': 5, 'created': '2018-02-21 06:01:51.000000000', 'files': ['manifests/firewall.pp', 'releasenotes/notes/neutron_iptables-9ea317c73b79929d.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5086c67bdf613ed57527446288722a9a2f736168', 'message': 'Remove neutron-managed firewall rules from /etc/sysconfig/iptables\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1541528\n\nWe don\'t want IPtables rules managed by Neutron to be persistent, it can\ncause issues when rule are recreated while a namespace doesn\'t exist.\nThis patch makes sure that in any Neutron node, no IPtables rule will be\npersistent if it contains ""neutron-"" in the name.\n\nChange-Id: Ife465c2c6739c3cbfb9923ed97f370baa745739c\nRelated-Bug: #1747960\n(cherry picked from commit 3c71c483e3e91d11fa83bfd751d2d8e54fdb4a20)\n'}]",0,545075,5086c67bdf613ed57527446288722a9a2f736168,24,5,5,3153,,,0,"Remove neutron-managed firewall rules from /etc/sysconfig/iptables

See https://bugzilla.redhat.com/show_bug.cgi?id=1541528

We don't want IPtables rules managed by Neutron to be persistent, it can
cause issues when rule are recreated while a namespace doesn't exist.
This patch makes sure that in any Neutron node, no IPtables rule will be
persistent if it contains ""neutron-"" in the name.

Change-Id: Ife465c2c6739c3cbfb9923ed97f370baa745739c
Related-Bug: #1747960
(cherry picked from commit 3c71c483e3e91d11fa83bfd751d2d8e54fdb4a20)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/75/545075/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/firewall.pp', 'releasenotes/notes/neutron_iptables-9ea317c73b79929d.yaml']",2,9a5d999c10727ceaf12810519bf83f490abeee91,bug/1747960,"--- features: - | IPtables rules managed by Neutron won't be persistent on the host anymore. Instead, they'll be removed (if exist) from /etc/sysconfig/iptables. ",,35,1
openstack%2Fceilometer~master~If2bad05c52c636c728c95ab6e9520cb6467a99e1,openstack/ceilometer,master,If2bad05c52c636c728c95ab6e9520cb6467a99e1,add disk.device.*.latency meters,MERGED,2018-02-13 21:20:43.000000000,2018-02-26 15:13:20.000000000,2018-02-23 00:47:23.000000000,"[{'_account_id': 1669}, {'_account_id': 6537}, {'_account_id': 22348}, {'_account_id': 26159}]","[{'number': 1, 'created': '2018-02-13 21:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1bee9f049791f70e71b53b4ca68c6fe20b3f7f09', 'message': ""add disk.device.*.latency meters\n\nit's missing from docs and gnocchi\n\nChange-Id: If2bad05c52c636c728c95ab6e9520cb6467a99e1\n""}, {'number': 2, 'created': '2018-02-13 21:21:49.000000000', 'files': ['ceilometer/publisher/data/gnocchi_resources.yaml', 'doc/source/admin/telemetry-measurements.rst', 'releasenotes/notes/add-disk-latency-metrics-9e5c05108a78c3d9.yaml'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/8fdd19e78a2053285569cda05cdc4875b716190c', 'message': ""add disk.device.*.latency meters\n\nit's missing from docs and gnocchi\n\nsee: I0235087af459278b9ad0a66f95c4e4c4ac72e112\n\nChange-Id: If2bad05c52c636c728c95ab6e9520cb6467a99e1\n""}]",3,544091,8fdd19e78a2053285569cda05cdc4875b716190c,14,4,2,6537,,,0,"add disk.device.*.latency meters

it's missing from docs and gnocchi

see: I0235087af459278b9ad0a66f95c4e4c4ac72e112

Change-Id: If2bad05c52c636c728c95ab6e9520cb6467a99e1
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/91/544091/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/publisher/data/gnocchi_resources.yaml', 'doc/source/admin/telemetry-measurements.rst', 'releasenotes/notes/add-disk-latency-metrics-9e5c05108a78c3d9.yaml']",3,1bee9f049791f70e71b53b4ca68c6fe20b3f7f09,latency,--- features: - | Add `disk.device.read.latency` and `disk.device.write.latency` meters to capture total time used by read or write operations. ,,17,0
openstack%2Fproject-config~master~I1465b337c879c7edcbd6c75280c68b10080249b4,openstack/project-config,master,I1465b337c879c7edcbd6c75280c68b10080249b4,Add certbot-dns-openstack repo,MERGED,2018-02-22 15:08:52.000000000,2018-02-26 15:11:19.000000000,2018-02-26 15:11:19.000000000,"[{'_account_id': 6547}, {'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-22 15:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f1bba4b7955a6a71c6e1395968f8fcbfc61f76c1', 'message': 'Add certbot-dns-openstack repo\n\nChange-Id: I1465b337c879c7edcbd6c75280c68b10080249b4\n'}, {'number': 2, 'created': '2018-02-22 15:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/baa9fdcd6be8bd730752a8f9f306a745a61dc47c', 'message': 'Add certbot-dns-openstack repo\n\nChange-Id: I1465b337c879c7edcbd6c75280c68b10080249b4\n'}, {'number': 3, 'created': '2018-02-22 17:09:45.000000000', 'files': ['gerrit/acls/openstack/certbot-dns-openstack.config', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/14b27a2cbeb2d65162f5e8d7f929dbf1cf1f9251', 'message': 'Add certbot-dns-openstack repo\n\nChange-Id: I1465b337c879c7edcbd6c75280c68b10080249b4\n'}]",0,547022,14b27a2cbeb2d65162f5e8d7f929dbf1cf1f9251,16,4,3,8099,,,0,"Add certbot-dns-openstack repo

Change-Id: I1465b337c879c7edcbd6c75280c68b10080249b4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/22/547022/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/certbot-dns-openstack.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,f1bba4b7955a6a71c6e1395968f8fcbfc61f76c1,new-project, - openstack/certbot-dns-openstack,,23,0
openstack%2Frally~master~I1e61fd6bb281baa2014a5e91bf640cf110d6a7ba,openstack/rally,master,I1e61fd6bb281baa2014a5e91bf640cf110d6a7ba,WIP [db] compare results after migration,NEW,2018-02-26 12:20:54.000000000,2018-02-26 15:07:59.000000000,,"[{'_account_id': 14817}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-26 12:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/77886eb1ba3d76e0a72fc2fe96ef3c45806987b0', 'message': 'WIP [db] compare results after migration\n\nChange-Id: I1e61fd6bb281baa2014a5e91bf640cf110d6a7ba\n'}, {'number': 2, 'created': '2018-02-26 12:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ece5ef156743ff67f7ec97168f36d3c9d1e4fcae', 'message': 'WIP [db] compare results after migration\n\nChange-Id: I1e61fd6bb281baa2014a5e91bf640cf110d6a7ba\n'}, {'number': 3, 'created': '2018-02-26 13:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d4cad02e5ad5ddb2a7bce46a5e507b78b169cba2', 'message': 'WIP [db] compare results after migration\n\nChange-Id: I1e61fd6bb281baa2014a5e91bf640cf110d6a7ba\n'}, {'number': 4, 'created': '2018-02-26 13:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ce6f04bfd6c6091defeed30f92fc988c9264095a', 'message': 'WIP [db] compare results after migration\n\nChange-Id: I1e61fd6bb281baa2014a5e91bf640cf110d6a7ba\n'}, {'number': 5, 'created': '2018-02-26 13:22:00.000000000', 'files': ['tests/ci/playbooks/rally-database-migration/run.yaml', 'tests/ci/task_results_diff.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/534f7a485e36e5144377def91910ddd1692eb6ea', 'message': 'WIP [db] compare results after migration\n\nChange-Id: I1e61fd6bb281baa2014a5e91bf640cf110d6a7ba\n'}]",0,548015,534f7a485e36e5144377def91910ddd1692eb6ea,11,2,5,9545,,,0,"WIP [db] compare results after migration

Change-Id: I1e61fd6bb281baa2014a5e91bf640cf110d6a7ba
",git fetch https://review.opendev.org/openstack/rally refs/changes/15/548015/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/ci/playbooks/rally-database-migration/run.yaml', 'tests/ci/task_results_diff.py']",2,77886eb1ba3d76e0a72fc2fe96ef3c45806987b0,migration_ci,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Check the difference between JSON results of tasks. """""" import collections import json import sys class TaskResults(object): SUPPORTED_VERSIONS = ([0], [""1""], [""1"", ""1""]) def __init(self, filename): self.filename = filename with open(self.filename) as f: data = f.read() try: self.raw_data = json.loads( data, object_pairs_hook=collections.OrderedDict) except ValueError: print(""Failed to serialize %s file."" % self.filename) raise if isinstance(self.raw_data, list): self.version = [0] else: self.version = self.raw_data[""info""][""format_version""].split(""."") if self.version not in self.SUPPORTED_VERSIONS: raise ValueError(""Unsupported version of task results found: %s."" % ""."".join(self.version)) def get(self, item, default=None): return self.raw_data.get(item, default) def __getitem__(self, item): return self.raw_data[item] def _compare_results_0(self, other): for i, result in enumerate(self.raw_data): if i + 1 >= len(other.raw_data): raise ValueError(""Workload #%s from the first results file is "" ""missed from the second one."" % i) for key in (""sla"", ""hooks"", ""load_duration"", ""full_duration"", ""created_at"", ""key""): if result[key] != other.get(key, {}): raise ValueError( ""The key '%s' of Workload #%s has different values in "" ""first and seconds results files.\n\n"" ""First: %s\n\nSecond: %s"" % (key, i, json.dumps(result[key], indent=4), json.dumps(other.raw_data[i].get(key), indent=4))) if result[""result""] != other.raw_data[i][""result""]: # TODO: check the possible mismatches and propose a better code raise ValueError(""%s\n%s"" % (result[""result""], other.raw_data[i][""result""])) if len(self.raw_data) != len(other.raw_data): raise ValueError(""The second results file includes workload(s) "" ""which are missed in the first file."") def _compare_results_1(self, other): top_level_keys = {""info"", ""tasks""} top_level_error = (""The %s results task has wrong top level keys. "" ""Expected: %s. Actual: %s."") if self.raw_data.keys() != top_level_keys: raise ValueError( top_level_error % (""first"", "", "".join(top_level_keys), "", "".join(self.raw_data.keys()))) if other.keys() != top_level_keys: raise ValueError( top_level_error % (""first"", "", "".join(top_level_keys), "", "".join(self.raw_data.keys()))) tasks = self.raw_data[""tasks""] other_tasks = other[""tasks""] for key in tasks: if key == ""subtasks"": # it will be checked separately continue if tasks[key] != other_tasks[key]: raise ValueError(""The property %s"") def compare(self, other): if self.version[0] != other.version[0]: raise ValueError( ""Failed to compare results of different formats. (%s and %s)."" % (""."".join(self.version), ""."".join(other.version))) comparator = getattr(self, ""_compare_results_%s"" % self.version[0]) comparator(other) def main(): if len(sys.argv) != 3: print(""There are 2 expected obligatory arguments: files with JSON "" ""results of Rally task."") sys.exit(1) old = TaskResults(sys.argv[1]) new = TaskResults(sys.argv[2]) old.compare(new) if __name__ == ""__main__"": main() ",,136,4
openstack%2Frally~master~I3d2104fa6f6ba4bd90c4ac1771e48c32a5403832,openstack/rally,master,I3d2104fa6f6ba4bd90c4ac1771e48c32a5403832,Add new Gnocchi scenarios,MERGED,2018-02-16 14:00:47.000000000,2018-02-26 14:51:32.000000000,2018-02-26 14:51:32.000000000,"[{'_account_id': 9545}, {'_account_id': 14749}, {'_account_id': 14817}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-16 14:00:47.000000000', 'files': ['samples/tasks/scenarios/gnocchi/list-archive-policy-rule.yaml', 'samples/tasks/scenarios/gnocchi/create-archive-policy-rule.yaml', 'tests/unit/plugins/openstack/scenarios/gnocchi/test_archive_policy_rule.py', 'rally/plugins/openstack/scenarios/gnocchi/archive_policy_rule.py', 'samples/tasks/scenarios/gnocchi/create-delete-archive-policy-rule.yaml', 'tests/unit/plugins/openstack/cleanup/test_resources.py', 'samples/tasks/scenarios/gnocchi/list-archive-policy-rule.json', 'samples/tasks/scenarios/gnocchi/create-delete-archive-policy-rule.json', 'samples/tasks/scenarios/gnocchi/create-archive-policy-rule.json', 'rally/plugins/openstack/cleanup/resources.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/68e27137fe121bcc9f550de60fb111fa742539b4', 'message': 'Add new Gnocchi scenarios\n\nThis patch is based on [1] and adds following scenarios:\n\nGnocchiArchivePolicyRule.list_archive_policy_rule\nGnocchiArchivePolicyRule.create_archive_policy_rule\nGnocchiArchivePolicyRule.create_delete_archive_policy_rule\n\n[1] https://review.openstack.org/#/c/453861/\n\nChange-Id: I3d2104fa6f6ba4bd90c4ac1771e48c32a5403832\nSigned-off-by: Juha Kosonen <juha.kosonen@nokia.com>\n'}]",0,545302,68e27137fe121bcc9f550de60fb111fa742539b4,13,4,1,14749,,,0,"Add new Gnocchi scenarios

This patch is based on [1] and adds following scenarios:

GnocchiArchivePolicyRule.list_archive_policy_rule
GnocchiArchivePolicyRule.create_archive_policy_rule
GnocchiArchivePolicyRule.create_delete_archive_policy_rule

[1] https://review.openstack.org/#/c/453861/

Change-Id: I3d2104fa6f6ba4bd90c4ac1771e48c32a5403832
Signed-off-by: Juha Kosonen <juha.kosonen@nokia.com>
",git fetch https://review.opendev.org/openstack/rally refs/changes/02/545302/1 && git format-patch -1 --stdout FETCH_HEAD,"['samples/tasks/scenarios/gnocchi/create-archive-policy-rule.yaml', 'samples/tasks/scenarios/gnocchi/list-archive-policy-rule.yaml', 'tests/unit/plugins/openstack/scenarios/gnocchi/test_archive_policy_rule.py', 'rally/plugins/openstack/scenarios/gnocchi/archive_policy_rule.py', 'samples/tasks/scenarios/gnocchi/create-delete-archive-policy-rule.yaml', 'tests/unit/plugins/openstack/cleanup/test_resources.py', 'samples/tasks/scenarios/gnocchi/list-archive-policy-rule.json', 'samples/tasks/scenarios/gnocchi/create-delete-archive-policy-rule.json', 'samples/tasks/scenarios/gnocchi/create-archive-policy-rule.json', 'rally/plugins/openstack/cleanup/resources.py']",10,68e27137fe121bcc9f550de60fb111fa742539b4,gnocchi_archive_policy_rule,"# GNOCCHI _gnocchi_order = get_order(1400) @base.resource(""gnocchi"", ""archive_policy_rule"", order=next(_gnocchi_order), admin_required=True, perform_for_admin_only=True) class GnocchiArchivePolicyRule(base.ResourceManager): def name(self): return self.raw_resource[""name""] def id(self): return self.raw_resource[""name""] ",,275,0
openstack%2Ftripleo-common~master~I5ff91c569c4e29f65058520ed1be0f0bbf452b48,openstack/tripleo-common,master,I5ff91c569c4e29f65058520ed1be0f0bbf452b48,WIP mistral workflow to deploy nodes without nova,ABANDONED,2016-05-05 16:28:15.000000000,2018-02-26 14:32:42.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4328}, {'_account_id': 6773}, {'_account_id': 8532}, {'_account_id': 8871}, {'_account_id': 9712}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2016-05-05 16:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f562f9e53ca2caf452802881cdb779d7add94258', 'message': 'WIP mistral workflow to deploy nodes without nova\n\nThis is an experiment attempting to drive Ironic directly (still using Neutron for the DHCP) without any Nova.\n\nCurrently this doesn\'t work, there\'s something wrong with the DHCP/netowrk so the node boots but can\'t find the DHCP to deploy with\n\nTo try do:\n\nmistral workflow-create baremetal_deploy.yaml\nmistral execution-create node_deploy \'{""node_uuid"": ""cd613582-7bae-4563-88c1-734cdaf5c19a""}\'\n\nChange-Id: I5ff91c569c4e29f65058520ed1be0f0bbf452b48\n'}, {'number': 2, 'created': '2017-09-21 15:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bfae2e67fedbb05fb0a9193b0f287cb382363550', 'message': 'WIP mistral workflow to deploy nodes without nova\n\nThis is an experiment attempting to drive Ironic directly (still using Neutron for the DHCP) without any Nova.\n\nCurrently this doesn\'t work, there\'s something wrong with the DHCP/netowrk so the node boots but can\'t find the DHCP to deploy with\n\nTo try do:\n\nmistral workbook-create baremetal_deploy.yaml\nmistral execution-create tripleo.baremetal_deploy.v1.node_deploy \'{""node_uuid"": ""cd613582-7bae-4563-88c1-734cdaf5c19a""}\'\n\nChange-Id: I5ff91c569c4e29f65058520ed1be0f0bbf452b48\n'}, {'number': 3, 'created': '2017-09-21 15:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/12e45c6691367404f0e7ce49b9fd49992e06907c', 'message': 'WIP mistral workflow to deploy nodes without nova\n\nThis is an experiment attempting to drive Ironic directly (still using Neutron for the DHCP) without any Nova.\n\nCurrently this doesn\'t work, there\'s something wrong with the DHCP/netowrk so the node boots but can\'t find the DHCP to deploy with\n\nTo try do:\n\nmistral workbook-create baremetal_deploy.yaml\nmistral execution-create tripleo.baremetal_deploy.v1.node_deploy \'{""node_uuid"": ""cd613582-7bae-4563-88c1-734cdaf5c19a""}\'\n\nChange-Id: I5ff91c569c4e29f65058520ed1be0f0bbf452b48\n'}, {'number': 4, 'created': '2017-09-21 15:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cf7ae90d5c15eab3772d7991a18377ab6a073a68', 'message': 'WIP mistral workflow to deploy nodes without nova\n\nThis is an experiment attempting to drive Ironic directly (still using Neutron for the DHCP) without any Nova.\n\nCurrently this doesn\'t work, there\'s something wrong with the DHCP/netowrk so the node boots but can\'t find the DHCP to deploy with\n\nTo try do:\n\nmistral workbook-create baremetal_deploy.yaml\nmistral execution-create tripleo.baremetal_deploy.v1.node_deploy \'{""node_uuid"": ""cd613582-7bae-4563-88c1-734cdaf5c19a""}\'\n\nDepends-On: I60101883db26f679aa833e8b5638225d9fb93761\nChange-Id: I5ff91c569c4e29f65058520ed1be0f0bbf452b48\n'}, {'number': 5, 'created': '2017-10-09 08:52:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5a8eec46566939e872395a1d92b734c355136ada', 'message': 'WIP mistral workflow to deploy nodes without nova\n\nThis is an experiment attempting to drive Ironic directly (still using Neutron for the DHCP) without any Nova.\n\nCurrently this doesn\'t work, there\'s something wrong with the DHCP/netowrk so the node boots but can\'t find the DHCP to deploy with\n\nTo try do:\n\nmistral workbook-create baremetal_deploy.yaml\nmistral execution-create tripleo.baremetal_deploy.v1.node_deploy \'{""node_uuid"": ""cd613582-7bae-4563-88c1-734cdaf5c19a""}\'\n\nDepends-On: I60101883db26f679aa833e8b5638225d9fb93761\nChange-Id: I5ff91c569c4e29f65058520ed1be0f0bbf452b48\n'}, {'number': 6, 'created': '2017-10-09 08:56:12.000000000', 'files': ['workbooks/baremetal_deploy.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e9de82ca584f114939705802e4f2ca8ecdf9b00f', 'message': 'WIP mistral workflow to deploy nodes without nova\n\nThis is an experiment attempting to drive Ironic directly (still using Neutron for the DHCP) without any Nova.\n\nCurrently this doesn\'t work, there\'s something wrong with the DHCP/netowrk so the node boots but can\'t find the DHCP to deploy with\n\nTo try do:\n\nmistral workbook-create baremetal_deploy.yaml\nmistral execution-create tripleo.baremetal_deploy.v1.node_deploy \'{""node_uuid"": ""cd613582-7bae-4563-88c1-734cdaf5c19a""}\'\n\nDepends-On: I60101883db26f679aa833e8b5638225d9fb93761\nChange-Id: I5ff91c569c4e29f65058520ed1be0f0bbf452b48\n'}]",18,313048,e9de82ca584f114939705802e4f2ca8ecdf9b00f,37,10,6,4328,,,0,"WIP mistral workflow to deploy nodes without nova

This is an experiment attempting to drive Ironic directly (still using Neutron for the DHCP) without any Nova.

Currently this doesn't work, there's something wrong with the DHCP/netowrk so the node boots but can't find the DHCP to deploy with

To try do:

mistral workbook-create baremetal_deploy.yaml
mistral execution-create tripleo.baremetal_deploy.v1.node_deploy '{""node_uuid"": ""cd613582-7bae-4563-88c1-734cdaf5c19a""}'

Depends-On: I60101883db26f679aa833e8b5638225d9fb93761
Change-Id: I5ff91c569c4e29f65058520ed1be0f0bbf452b48
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/48/313048/3 && git format-patch -1 --stdout FETCH_HEAD,['workflows/baremetal_deploy.yaml'],1,f562f9e53ca2caf452802881cdb779d7add94258,313048,"--- version: '2.0' node_deploy: type: direct # FIXME: it'd be better to derive most of these IDs from names # these are just hard-coded from my testing input: - node_uuid - target_state: active - image_id: aac32532-7daf-4260-8f81-ec680af9a375 - kernel_id: 05d7d361-0c86-4d7b-857b-e00e2a617895 - ramdisk_id: 3689e6bb-130d-4fd1-bedf-0e382defb53b - undercloud_ip: 192.0.2.1 - undercloud_name: instack.localdomain - deployment_network_id: 8c4179a8-3910-405d-b280-5ae5cbc76b38 - deployment_subnet_id: 033604ed-a1f0-4930-872a-a478102e557f tasks: update_instance_info: action: ironic.node_update input: node_id: <% $.node_uuid %> patch: - {'path': '/instance_info/image_source', 'value': <% $.image_id %>, 'op': 'add'} - {'path': '/instance_info/kernel', 'value': <% $.kernel_id %>, 'op': 'add'} - {'path': '/instance_info/ramdisk', 'value': <% $.image_id %>, 'op': 'add'} - {'path': '/instance_info/root_gb', 'value': 40, 'op': 'add'} on-success: - get_node_port_id - neutron_port_create get_node_port_id: action: ironic.node_list_ports input: node_id: <% $.node_uuid %> publish: port_id: <% task(get_node_port_id).result.first().uuid %> on-success: - node_port_update neutron_port_create: action: neutron.create_port input: body: port: network_id: <% $.deployment_network_id %> fixed_ips: - {'subnet_id': <% $.deployment_subnet_id %>} binding:host_id: <% $.undercloud_name %> # FIXME the bootfile-name IP is hard-coded, need to figure out yaml/yaql syntax to format that extra_dhcp_opts: - {""opt_value"": ""http://192.0.2.1:8088/boot.ipxe"", ""ip_version"": 4, ""opt_name"": ""tag:ipxe,bootfile-name""} - {""opt_value"": ""undionly.kpxe"", ""ip_version"": 4, ""opt_name"": ""tag:!ipxe,bootfile-name""} - {""opt_value"": <% $.undercloud_ip %>, ""ip_version"": 4, ""opt_name"": ""tftp-server""} - {""opt_value"": <% $.undercloud_ip %>, ""ip_version"": 4, ""opt_name"": ""server-ip-address""} publish: neutron_port_id: <% task(neutron_port_create).result.port.id %> on-success: - node_port_update node_port_update: join: all action: ironic.port_update input: port_id: <% $.port_id %> patch: - {'path': '/extra/vif_port_id', 'value': <% $.neutron_port_id %>, 'op': 'add'} on-success: - node_set_provision_state node_set_provision_state: action: ironic.node_set_provision_state input: node_uuid: <% $.node_uuid %> state: <% $.target_state %> on-success: - node_set_power_state node_set_power_state: action: ironic.node_set_power_state input: node_id: <% $.node_uuid %> state: on ",,85,0
openstack%2Fceilometer~master~I81b2c275f3173f70f170e875e6e348666c0f684b,openstack/ceilometer,master,I81b2c275f3173f70f170e875e6e348666c0f684b,fix meter formating,MERGED,2018-02-20 19:32:06.000000000,2018-02-26 14:27:25.000000000,2018-02-26 14:27:25.000000000,"[{'_account_id': 6537}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-20 19:32:06.000000000', 'files': ['doc/source/admin/telemetry-measurements.rst'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/daf6716cbd549699dd573094997bc1c95037a90c', 'message': 'fix meter formating\n\nChange-Id: I81b2c275f3173f70f170e875e6e348666c0f684b\n'}]",0,546283,daf6716cbd549699dd573094997bc1c95037a90c,6,2,1,6537,,,0,"fix meter formating

Change-Id: I81b2c275f3173f70f170e875e6e348666c0f684b
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/83/546283/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/telemetry-measurements.rst'],1,daf6716cbd549699dd573094997bc1c95037a90c,docs,| swap.in | ative | MB | instance | Pollster | Libvirt | Memory swap in | | | | | ID | | | || swap.out | ative | MB | instance | Pollster | Libvirt | Memory swap out | | | | | ID | | | |,| | ative | MB | instance | Pollster | Libvirt | Memory swap in | | swap.in | | | ID | | | || | ative | MB | instance | Pollster | Libvirt | Memory swap out | | swap.out | | | ID | | | |,4,4
openstack%2Fceilometer~stable%2Focata~I8adc609cc21c86de2daba326d24b73a80d6eb61f,openstack/ceilometer,stable/ocata,I8adc609cc21c86de2daba326d24b73a80d6eb61f,Gracefully handle missing metadata in libvirt xml,MERGED,2018-02-23 14:38:14.000000000,2018-02-26 14:27:23.000000000,2018-02-26 14:27:23.000000000,"[{'_account_id': 6537}, {'_account_id': 8745}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 14:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/21ddbf024a8fe0277c2911189d749e99759dcdd7', 'message': 'Gracefully handle missing metadata in libvirt xml\n\nMissing metadata in the libvirt domain xml for a nova instance would\ncause ceilometer-compute to abort, leading to missing metrics for the\ncurrent and any subequent libvirt guests.\n\nThis commit puts a try/except AttributeError block around all the code\nthat is fetching attributes on the result of metadata_xml.find(...).\n\nalso pull in I41aa76cf9def3e8c4bceef0280d15c1fd7c48e3d\n\nChange-Id: I8adc609cc21c86de2daba326d24b73a80d6eb61f\nCloses-Bug: #1749960\n(cherry picked from commit d2af7e9ece2f903633bf4e95208b2e3ba6ac464d)\n'}, {'number': 2, 'created': '2018-02-23 17:46:02.000000000', 'files': ['ceilometer/compute/discovery.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/afaa7f7c8cbe34b1573c7ade341a7c42b455c28e', 'message': 'Gracefully handle missing metadata in libvirt xml\n\nMissing metadata in the libvirt domain xml for a nova instance would\ncause ceilometer-compute to abort, leading to missing metrics for the\ncurrent and any subequent libvirt guests.\n\nThis commit puts a try/except AttributeError block around all the code\nthat is fetching attributes on the result of metadata_xml.find(...).\n\nalso pull in I41aa76cf9def3e8c4bceef0280d15c1fd7c48e3d\n\nChange-Id: I8adc609cc21c86de2daba326d24b73a80d6eb61f\nCloses-Bug: #1749960\n(cherry picked from commit d2af7e9ece2f903633bf4e95208b2e3ba6ac464d)\n'}]",0,547441,afaa7f7c8cbe34b1573c7ade341a7c42b455c28e,10,4,2,6537,,,0,"Gracefully handle missing metadata in libvirt xml

Missing metadata in the libvirt domain xml for a nova instance would
cause ceilometer-compute to abort, leading to missing metrics for the
current and any subequent libvirt guests.

This commit puts a try/except AttributeError block around all the code
that is fetching attributes on the result of metadata_xml.find(...).

also pull in I41aa76cf9def3e8c4bceef0280d15c1fd7c48e3d

Change-Id: I8adc609cc21c86de2daba326d24b73a80d6eb61f
Closes-Bug: #1749960
(cherry picked from commit d2af7e9ece2f903633bf4e95208b2e3ba6ac464d)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/41/547441/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/compute/discovery.py'],1,21ddbf024a8fe0277c2911189d749e99759dcdd7,bug/1749960-stable/ocata," try: flavor_xml = metadata_xml.find( ""./flavor"") user_id = metadata_xml.find( ""./owner/user"").attrib[""uuid""] project_id = metadata_xml.find( ""./owner/project"").attrib[""uuid""] instance_name = metadata_xml.find( ""./name"").text instance_arch = os_type_xml.attrib[""arch""] flavor = { ""id"": self.get_flavor_id(flavor_xml.attrib[""name""]), ""name"": flavor_xml.attrib[""name""], ""vcpus"": self._safe_find_int(flavor_xml, ""vcpus""), ""ram"": self._safe_find_int(flavor_xml, ""memory""), ""disk"": self._safe_find_int(flavor_xml, ""disk""), ""ephemeral"": self._safe_find_int(flavor_xml, ""ephemeral""), ""swap"": self._safe_find_int(flavor_xml, ""swap""), } # The image description is partial, but Gnocchi only care about # the id, so we are fine image_xml = metadata_xml.find(""./root[@type='image']"") image = ({'id': image_xml.attrib['uuid']} if image_xml is not None else None) except AttributeError as e: LOG.error( ""Fail to get domain uuid %s metadata: "" ""metadata was missing expected attributes"", domain.UUIDString()) continue ""name"": instance_name, ""architecture"": instance_arch,"," # This implements flavor_xml = metadata_xml.find(""./flavor"") flavor = { ""id"": self.get_flavor_id(flavor_xml.attrib[""name""]), ""name"": flavor_xml.attrib[""name""], ""vcpus"": self._safe_find_int(flavor_xml, ""vcpus""), ""ram"": self._safe_find_int(flavor_xml, ""memory""), ""disk"": self._safe_find_int(flavor_xml, ""disk""), ""ephemeral"": self._safe_find_int(flavor_xml, ""ephemeral""), ""swap"": self._safe_find_int(flavor_xml, ""swap""), } user_id = metadata_xml.find(""./owner/user"").attrib[""uuid""] project_id = metadata_xml.find(""./owner/project"").attrib[""uuid""] # The image description is partial, but Gnocchi only care about the # id, so we are fine image_xml = metadata_xml.find(""./root[@type='image']"") image = ({'id': image_xml.attrib['uuid']} if image_xml is not None else None) ""name"": metadata_xml.find(""./name"").text, ""architecture"": os_type_xml.attrib[""arch""],",35,22
openstack%2Fceilometer~stable%2Fqueens~I8adc609cc21c86de2daba326d24b73a80d6eb61f,openstack/ceilometer,stable/queens,I8adc609cc21c86de2daba326d24b73a80d6eb61f,Gracefully handle missing metadata in libvirt xml,MERGED,2018-02-16 17:44:03.000000000,2018-02-26 14:27:22.000000000,2018-02-26 14:27:21.000000000,"[{'_account_id': 6537}, {'_account_id': 8745}, {'_account_id': 22348}, {'_account_id': 26270}]","[{'number': 1, 'created': '2018-02-16 17:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d89f4f7fdfe17146d5fe6c33a45bba96519000d9', 'message': 'Gracefully handle missing metadata in libvirt xml\n\nMissing metadata in the libvirt domain xml for a nova instance would\ncause ceilometer-compute to abort, leading to missing metrics for the\ncurrent and any subequent libvirt guests.\n\nThis commit puts a try/except AttributeError block around all the code\nthat is fetching attributes on the result of metadata_xml.find(...).\n\nChange-Id: I8adc609cc21c86de2daba326d24b73a80d6eb61f\nCloses-Bug: #1749960\n(cherry picked from commit d2af7e9ece2f903633bf4e95208b2e3ba6ac464d)\n'}, {'number': 2, 'created': '2018-02-20 13:19:23.000000000', 'files': ['ceilometer/compute/discovery.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/24caac82528be7678165bf12fb5b997852727ecd', 'message': 'Gracefully handle missing metadata in libvirt xml\n\nMissing metadata in the libvirt domain xml for a nova instance would\ncause ceilometer-compute to abort, leading to missing metrics for the\ncurrent and any subequent libvirt guests.\n\nThis commit puts a try/except AttributeError block around all the code\nthat is fetching attributes on the result of metadata_xml.find(...).\n\nalso pull in I41aa76cf9def3e8c4bceef0280d15c1fd7c48e3d\n\nChange-Id: I8adc609cc21c86de2daba326d24b73a80d6eb61f\nCloses-Bug: #1749960\n(cherry picked from commit d2af7e9ece2f903633bf4e95208b2e3ba6ac464d)\n'}]",0,545403,24caac82528be7678165bf12fb5b997852727ecd,16,4,2,6537,,,0,"Gracefully handle missing metadata in libvirt xml

Missing metadata in the libvirt domain xml for a nova instance would
cause ceilometer-compute to abort, leading to missing metrics for the
current and any subequent libvirt guests.

This commit puts a try/except AttributeError block around all the code
that is fetching attributes on the result of metadata_xml.find(...).

also pull in I41aa76cf9def3e8c4bceef0280d15c1fd7c48e3d

Change-Id: I8adc609cc21c86de2daba326d24b73a80d6eb61f
Closes-Bug: #1749960
(cherry picked from commit d2af7e9ece2f903633bf4e95208b2e3ba6ac464d)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/03/545403/2 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/compute/discovery.py'],1,d89f4f7fdfe17146d5fe6c33a45bba96519000d9,bug/1749960," try: flavor_xml = metadata_xml.find( ""./flavor"") user_id = metadata_xml.find( ""./owner/user"").attrib[""uuid""] project_id = metadata_xml.find( ""./owner/project"").attrib[""uuid""] instance_name = metadata_xml.find( ""./name"").text instance_arch = os_type_xml.attrib[""arch""] flavor = { ""id"": self.get_flavor_id(flavor_xml.attrib[""name""]), ""name"": flavor_xml.attrib[""name""], ""vcpus"": self._safe_find_int(flavor_xml, ""vcpus""), ""ram"": self._safe_find_int(flavor_xml, ""memory""), ""disk"": self._safe_find_int(flavor_xml, ""disk""), ""ephemeral"": self._safe_find_int(flavor_xml, ""ephemeral""), ""swap"": self._safe_find_int(flavor_xml, ""swap""), } # The image description is partial, but Gnocchi only care about # the id, so we are fine image_xml = metadata_xml.find(""./root[@type='image']"") image = ({'id': image_xml.attrib['uuid']} if image_xml is not None else None) except AttributeError as e: LOG.error( ""Fail to get domain uuid %s metadata: "" ""metadata was missing expected attributes"", domain.UUIDString()) ""name"": instance_name, ""architecture"": instance_arch,"," # This implements flavor_xml = metadata_xml.find(""./flavor"") flavor = { ""id"": self.get_flavor_id(flavor_xml.attrib[""name""]), ""name"": flavor_xml.attrib[""name""], ""vcpus"": self._safe_find_int(flavor_xml, ""vcpus""), ""ram"": self._safe_find_int(flavor_xml, ""memory""), ""disk"": self._safe_find_int(flavor_xml, ""disk""), ""ephemeral"": self._safe_find_int(flavor_xml, ""ephemeral""), ""swap"": self._safe_find_int(flavor_xml, ""swap""), } user_id = metadata_xml.find(""./owner/user"").attrib[""uuid""] project_id = metadata_xml.find(""./owner/project"").attrib[""uuid""] # The image description is partial, but Gnocchi only care about the # id, so we are fine image_xml = metadata_xml.find(""./root[@type='image']"") image = ({'id': image_xml.attrib['uuid']} if image_xml is not None else None) ""name"": metadata_xml.find(""./name"").text, ""architecture"": os_type_xml.attrib[""arch""],",34,22
openstack%2Fopenstack-ansible-pip_install~stable%2Fqueens~Idf726729e725d94b70b53dc40da1ec7e7b0a00bf,openstack/openstack-ansible-pip_install,stable/queens,Idf726729e725d94b70b53dc40da1ec7e7b0a00bf,Remove the implementation of constraints in pip.conf,MERGED,2018-02-24 14:50:30.000000000,2018-02-26 14:27:20.000000000,2018-02-26 14:27:20.000000000,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-24 14:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/bbccdef724f8507b05f8b645706d7ce64f4cd965', 'message': ""Remove the implementation of constraints in pip.conf\n\nIn https://review.openstack.org/545347 the patch implementing\nconstraints into pip.conf was ported back to Queens with some\nother bits. While the other bits are good for Queens, the\nconstraints implementation is not something that Queens is\nreally ready for as it is going to involve quite a bit more\nwork. This is adding complexity, especially in upgrade tests\nand I think it's better to rather remove these config entries\nand focus on the complete python build overhaul in master.\n\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\nChange-Id: Idf726729e725d94b70b53dc40da1ec7e7b0a00bf\n""}, {'number': 2, 'created': '2018-02-25 18:35:12.000000000', 'files': ['templates/pip.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/99181a635478d082f5b8f2bf47d15509907fafb7', 'message': ""Remove the implementation of constraints in pip.conf\n\nIn https://review.openstack.org/526889 constraints were\nadded to pip.conf. While this may be something we want\nlater in the python build simplification process, it is\ncurrently causing problems in several tests due to the\nassumption that constraints are only set on the CLI.\n\nAt this stage I think it's better to leave constraints\nsetting to be done on the CLI as that is ubiquitous\nacross all pip install tasks right now.\n\nIf we switch to setting constraints in pip.conf then it\nwill take more co-ordination.\n\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\nChange-Id: Idf726729e725d94b70b53dc40da1ec7e7b0a00bf\n(cherry picked from commit 1085f00f16eec1323b4bb19f7bccffd945f4c3da)\n""}]",0,547756,99181a635478d082f5b8f2bf47d15509907fafb7,10,4,2,6816,,,0,"Remove the implementation of constraints in pip.conf

In https://review.openstack.org/526889 constraints were
added to pip.conf. While this may be something we want
later in the python build simplification process, it is
currently causing problems in several tests due to the
assumption that constraints are only set on the CLI.

At this stage I think it's better to leave constraints
setting to be done on the CLI as that is ubiquitous
across all pip install tasks right now.

If we switch to setting constraints in pip.conf then it
will take more co-ordination.

Implements: blueprint python-build-install-simplification
Signed-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>
Change-Id: Idf726729e725d94b70b53dc40da1ec7e7b0a00bf
(cherry picked from commit 1085f00f16eec1323b4bb19f7bccffd945f4c3da)
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/56/547756/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/pip.conf.j2'],1,bbccdef724f8507b05f8b645706d7ce64f4cd965,bp/python-build-install-simplification,,{% if pip_install_upper_constraints is defined %} {% set pip_constraint_list = pip_install_upper_constraints.split('--constraint') %} {% if pip_constraint_list | length > 0 %} constraint = {% for pip_constraint in pip_constraint_list %} {{ pip_constraint.strip() }} {% endfor %} {% endif %} {% endif %},0,9
openstack%2Fproject-config~master~Ib883b79eead9043f4cd3f545b564e221ddd64118,openstack/project-config,master,Ib883b79eead9043f4cd3f545b564e221ddd64118,Fix Python 3 gate jobs for Blazar projects,MERGED,2018-02-26 12:20:08.000000000,2018-02-26 14:22:38.000000000,2018-02-26 14:22:38.000000000,"[{'_account_id': 6547}, {'_account_id': 8878}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 23840}]","[{'number': 1, 'created': '2018-02-26 12:20:08.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a32bfc14e6ab958479957c909e01cdd49d451903', 'message': 'Fix Python 3 gate jobs for Blazar projects\n\nChange-Id: Ib883b79eead9043f4cd3f545b564e221ddd64118\n'}]",0,548014,a32bfc14e6ab958479957c909e01cdd49d451903,9,5,1,15197,,,0,"Fix Python 3 gate jobs for Blazar projects

Change-Id: Ib883b79eead9043f4cd3f545b564e221ddd64118
",git fetch https://review.opendev.org/openstack/project-config refs/changes/14/548014/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,a32bfc14e6ab958479957c909e01cdd49d451903,, - openstack-python35-jobs-horizon - openstack-tox-py35: required-projects: - openstack/nova, - openstack-python35-jobs check: jobs: - openstack-tox-py35: required-projects: - openstack/horizon,4,6
openstack%2Fswift~master~I74e580f31349bdefd187cc5d6770a7041a936bef,openstack/swift,master,I74e580f31349bdefd187cc5d6770a7041a936bef,Move eventlet patch before call to loadapp,MERGED,2018-02-08 23:41:20.000000000,2018-02-26 14:10:19.000000000,2018-02-09 22:29:27.000000000,"[{'_account_id': 1179}, {'_account_id': 2622}, {'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-08 23:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/63162894f25983783bc3faec2585b1766d468215', 'message': 'Move eventlet patch before call to loadapp\n\nRan into an eventlet bug[0] while integration Swift/Barbican\nin TripleO. It is very similar to a previous bug related\nto keystonemiddleware[1]. Suggestion from urllib3[2] is to\npatch eventlet ""as early as possible"". Traceback[3] shows that\nurllib3 is being imported before the eventlet patch, so moved\nthe patch to before the loadapp call.\n\n[0] - http://paste.openstack.org/show/658046/\n[1] - https://bugs.launchpad.net/swift/+bug/1662473\n[3] - https://gist.github.com/thiagodasilva/12dad7dc4f940b046dd0863b6f82a78b\n\nChange-Id: I74e580f31349bdefd187cc5d6770a7041a936bef\n'}, {'number': 2, 'created': '2018-02-08 23:53:22.000000000', 'files': ['swift/common/wsgi.py', 'test/unit/common/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/c9410c7dd482cc1faefdfd9d9c83d225e7d28e8f', 'message': 'Move eventlet patch before call to loadapp\n\nRan into an eventlet bug[0] while integration Swift/Barbican\nin TripleO. It is very similar to a previous bug related\nto keystonemiddleware[1]. Suggestion from urllib3[2] is to\npatch eventlet ""as early as possible"". Traceback[3] shows that\nurllib3 is being imported before the eventlet patch, so moved\nthe patch to before the loadapp call.\n\n[0] - http://paste.openstack.org/show/658046/\n[1] - https://bugs.launchpad.net/swift/+bug/1662473\n[2] - https://github.com/shazow/urllib3/issues/1104\n[3] - https://gist.github.com/thiagodasilva/12dad7dc4f940b046dd0863b6f82a78b\n\nChange-Id: I74e580f31349bdefd187cc5d6770a7041a936bef\n'}]",2,542497,c9410c7dd482cc1faefdfd9d9c83d225e7d28e8f,17,5,2,9625,,,0,"Move eventlet patch before call to loadapp

Ran into an eventlet bug[0] while integration Swift/Barbican
in TripleO. It is very similar to a previous bug related
to keystonemiddleware[1]. Suggestion from urllib3[2] is to
patch eventlet ""as early as possible"". Traceback[3] shows that
urllib3 is being imported before the eventlet patch, so moved
the patch to before the loadapp call.

[0] - http://paste.openstack.org/show/658046/
[1] - https://bugs.launchpad.net/swift/+bug/1662473
[2] - https://github.com/shazow/urllib3/issues/1104
[3] - https://gist.github.com/thiagodasilva/12dad7dc4f940b046dd0863b6f82a78b

Change-Id: I74e580f31349bdefd187cc5d6770a7041a936bef
",git fetch https://review.opendev.org/openstack/swift refs/changes/97/542497/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/wsgi.py', 'test/unit/common/test_wsgi.py']",2,63162894f25983783bc3faec2585b1766d468215,move_eventlet_patch," mock.patch.object(wsgi, 'run_server'), \ mock.patch('swift.common.utils.eventlet') as _utils_evt: _utils_evt.patcher.monkey_patch.assert_called_with(all=False, socket=True, select=True, thread=True) mock.patch.object(wsgi, 'run_server'), \ mock.patch('swift.common.utils.eventlet') as _utils_evt: _utils_evt.patcher.monkey_patch.assert_called_with(all=False, socket=True, select=True, thread=True)"," mock.patch('swift.common.utils.eventlet') as _utils_evt, \ _utils_evt.patcher.monkey_patch.assert_called_with(all=False, socket=True, select=True, thread=True) mock.patch('swift.common.utils.eventlet') as _utils_evt, \ _utils_evt.patcher.monkey_patch.assert_called_with(all=False, socket=True, select=True, thread=True) mock.patch('swift.common.utils.eventlet') as _utils_evt, \ _utils_evt.patcher.monkey_patch.assert_called_with(all=False, socket=True, select=True, thread=True) mock.patch.object(wsgi, 'run_server'): mock.patch.object(wsgi, 'run_server'):",15,18
openstack%2Fpython-magnumclient~stable%2Fqueens~Id9c21c3a603266d6bd32fd744cb3167b01473127,openstack/python-magnumclient,stable/queens,Id9c21c3a603266d6bd32fd744cb3167b01473127,"OSC command for ca-show, ca-sign, ca-roatate and stats-list",MERGED,2018-02-26 11:46:14.000000000,2018-02-26 14:10:07.000000000,2018-02-26 14:10:07.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-26 11:46:14.000000000', 'files': ['magnumclient/osc/v1/certificates.py', 'magnumclient/tests/test_csr/test.csr', 'magnumclient/tests/osc/unit/v1/test_stats.py', 'magnumclient/osc/v1/stats.py', 'magnumclient/tests/osc/unit/v1/fakes.py', 'magnumclient/tests/osc/unit/v1/test_certificates.py', 'setup.cfg', 'releasenotes/notes/partial_osc_implementation_for_certificate-4597c20b59c152e1.yaml'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/6d9a0cf2cf4b189f1bc4e8ae6646daf6a7eeb2b7', 'message': 'OSC command for ca-show, ca-sign, ca-roatate and stats-list\n\nImplemented Openstack command for ca-show, ca-sign, ca-rotate\nand stats-list.\n\nChange-Id: Id9c21c3a603266d6bd32fd744cb3167b01473127\nPartially-Implements: blueprint deprecate-magnum-client\n(cherry picked from commit ec33c56a236c28879509f04523af8e69303b21c6)\n'}]",0,548001,6d9a0cf2cf4b189f1bc4e8ae6646daf6a7eeb2b7,6,2,1,20498,,,0,"OSC command for ca-show, ca-sign, ca-roatate and stats-list

Implemented Openstack command for ca-show, ca-sign, ca-rotate
and stats-list.

Change-Id: Id9c21c3a603266d6bd32fd744cb3167b01473127
Partially-Implements: blueprint deprecate-magnum-client
(cherry picked from commit ec33c56a236c28879509f04523af8e69303b21c6)
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/01/548001/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnumclient/osc/v1/certificates.py', 'magnumclient/tests/test_csr/test.csr', 'magnumclient/tests/osc/unit/v1/test_stats.py', 'magnumclient/osc/v1/stats.py', 'magnumclient/tests/osc/unit/v1/fakes.py', 'magnumclient/tests/osc/unit/v1/test_certificates.py', 'setup.cfg', 'releasenotes/notes/partial_osc_implementation_for_certificate-4597c20b59c152e1.yaml']",8,6d9a0cf2cf4b189f1bc4e8ae6646daf6a7eeb2b7,bp/deprecate-magnum-client-stable/queens,"--- features: - | Implemented Openstack command for ca-show, ca-sign, ca-rotate and stats-list. ",,385,0
openstack%2Fmonasca-agent~master~I2bf84501cc51c24843d7c3befd8f9dd42f010f0c,openstack/monasca-agent,master,I2bf84501cc51c24843d7c3befd8f9dd42f010f0c,Add max batch size for writing to API,MERGED,2018-01-03 15:34:55.000000000,2018-02-26 13:42:25.000000000,2018-01-04 18:33:42.000000000,"[{'_account_id': 11809}, {'_account_id': 15027}, {'_account_id': 16222}, {'_account_id': 18179}, {'_account_id': 22157}, {'_account_id': 22348}, {'_account_id': 24580}]","[{'number': 1, 'created': '2018-01-03 15:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/aa58c2504da7a184ad0f02c1e4267e592e370f1b', 'message': 'WIP Use max batch size when writing to API\n\nWill add story and more after I determine if this really fixes\nthe problem.\n\nChange-Id: I2bf84501cc51c24843d7c3befd8f9dd42f010f0c\n'}, {'number': 2, 'created': '2018-01-04 05:55:40.000000000', 'files': ['agent.yaml.template', 'monasca_agent/forwarder/api/monasca_api.py', 'monasca_agent/common/config.py', 'docs/Agent.md', 'monasca_setup/main.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/50824d11705c5806b76e1772e9ac09b5f5192a12', 'message': 'Add max batch size for writing to API\n\nAdd configurable maximum size of batches of measumrement to write\nto Monasca API. Prevents killing Monasca API in memory limited\nconfigurations. The default is no limit.\n\nChange-Id: I2bf84501cc51c24843d7c3befd8f9dd42f010f0c\nStory: 2001434\n'}]",1,530947,50824d11705c5806b76e1772e9ac09b5f5192a12,16,7,2,11809,,,0,"Add max batch size for writing to API

Add configurable maximum size of batches of measumrement to write
to Monasca API. Prevents killing Monasca API in memory limited
configurations. The default is no limit.

Change-Id: I2bf84501cc51c24843d7c3befd8f9dd42f010f0c
Story: 2001434
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/47/530947/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_agent/forwarder/api/monasca_api.py'],1,aa58c2504da7a184ad0f02c1e4267e592e370f1b,max_batch," if len(tenant_group[tenant]) >= 500: self._post(tenant_group[tenant], tenant) del tenant_group[tenant]",,3,0
openstack%2Fec2-api~stable%2Fqueens~If29d754c4101d3f687d10e521c0b30a21825691d,openstack/ec2-api,stable/queens,If29d754c4101d3f687d10e521c0b30a21825691d,up version for queens branch after release,MERGED,2018-02-26 11:36:44.000000000,2018-02-26 13:40:26.000000000,2018-02-26 13:40:26.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-26 11:36:44.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/771ac5015757918dd7d744c9d6ae3d8ca303dd92', 'message': 'up version for queens branch after release\n\nChange-Id: If29d754c4101d3f687d10e521c0b30a21825691d\n'}]",0,547997,771ac5015757918dd7d744c9d6ae3d8ca303dd92,6,2,1,10234,,,0,"up version for queens branch after release

Change-Id: If29d754c4101d3f687d10e521c0b30a21825691d
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/97/547997/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,771ac5015757918dd7d744c9d6ae3d8ca303dd92,,version = 6.0.1,version = 6.0.0,1,1
openstack%2Fec2-api~master~I84bc33986e9f7376a76187a611c27f3915e38dbe,openstack/ec2-api,master,I84bc33986e9f7376a76187a611c27f3915e38dbe,up version for master branch due to queens release,MERGED,2018-02-26 11:33:01.000000000,2018-02-26 13:36:04.000000000,2018-02-26 13:36:04.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-26 11:33:01.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/7d57211b0fc75dc7d9246877d0b54c554411510b', 'message': 'up version for master branch due to queens release\n\nChange-Id: I84bc33986e9f7376a76187a611c27f3915e38dbe\n'}]",0,547996,7d57211b0fc75dc7d9246877d0b54c554411510b,6,2,1,10234,,,0,"up version for master branch due to queens release

Change-Id: I84bc33986e9f7376a76187a611c27f3915e38dbe
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/96/547996/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7d57211b0fc75dc7d9246877d0b54c554411510b,,version = 7.0.0,version = 6.0.0,1,1
openstack%2Fheat~master~I08770d2ae09891d7983345616186cff7c26df4ce,openstack/heat,master,I08770d2ae09891d7983345616186cff7c26df4ce,Change transport_url in grenade-multinode job,MERGED,2017-10-09 03:53:20.000000000,2018-02-26 13:34:31.000000000,2018-02-26 13:34:31.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 19741}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 23253}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-10-09 03:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9fb1d6f34c6570ed8d280e5a655d120905e0132c', 'message': '[WIP][DNR] Add more tests for rolling upgrade\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 2, 'created': '2017-10-09 06:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1475c9cf7252b07b190d90a1a4f6f777243a7070', 'message': '[WIP][DNR] Add more tests for rolling upgrade\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 3, 'created': '2017-10-09 08:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4093cf5256055a12155ead707d3ddff099623983', 'message': '[WIP][DNR] Add more tests for rolling upgrade\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 4, 'created': '2017-10-09 10:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8b9b7b9f084602724a00bdc9621814f306c4d787', 'message': '[WIP][DNR] Add more tests for rolling upgrade\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 5, 'created': '2017-10-09 15:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9ccd7a2ee6bc7258c5f0fdb5a3d3a36ffd4cb2a3', 'message': '[WIP][DNR] Add more tests for rolling upgrade\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 6, 'created': '2017-10-10 01:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3dce15cea5b34355374bc5024e85e821f09a90b6', 'message': '[WIP][DNR] Add more tests for rolling upgrade\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 7, 'created': '2017-10-10 03:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0c365aa659fcdf5d86f36f7c7aa1367b12456d27', 'message': '[WIP][DNR] Add more tests for rolling upgrade\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 8, 'created': '2017-10-10 14:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/82f42d230edfb6d989f672435197f8d46ecc36dd', 'message': '[WIP][DNR] Test change transport_url\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 9, 'created': '2017-10-11 01:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2bc13a8f30f2b8bdc4f5609f5d6c0083c83a325c', 'message': '[WIP][DNR] Test change transport_url\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 10, 'created': '2017-10-11 04:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/35100c3278613ac8d4f46ff37951af94385564ac', 'message': '[WIP][DNR] Test change transport_url\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 11, 'created': '2017-10-11 06:35:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/710cb5e00ad820189099c7f94734a72cbdd4dfad', 'message': '[WIP][DNR] Test change transport_url\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 12, 'created': '2017-10-11 07:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ed0ac2b5ec340683dd1a4ed441cac868bcf585c5', 'message': '[WIP][DNR] Test change transport_url\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 13, 'created': '2017-10-11 12:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d8b6beecb193345adac69529d55c82f5e24f86e7', 'message': '[WIP][DNR] Test change transport_url\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 14, 'created': '2017-10-12 03:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/89c9e9b06bda4cd7b401db42cdc2152b2a116a8e', 'message': '[WIP][DNR] Test change transport_url\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 15, 'created': '2017-10-12 06:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a80946b69d0176cbd9972a70bea904358aae6198', 'message': '[WIP][DNR] Test change transport_url\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 16, 'created': '2017-10-13 04:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/78093ee95d9f2d68d2b2de0dd4d2d6f1ef7d7ebe', 'message': '[WIP][DNR] Test change transport_url\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 17, 'created': '2017-10-20 03:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5140113311cdd8dfb5e393c78cbb1cc6155293b0', 'message': '[WIP][DNR] Test change transport_url\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 18, 'created': '2017-10-20 08:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/02217059e0b093fcfd2afe42149a3694193a674d', 'message': '[WIP][DNR] Test change transport_url\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 19, 'created': '2017-10-25 02:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/06b73e4ba0e4c30ed6b68159c414aa97240b27ad', 'message': '[WIP][DNR] Test change transport_url\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 20, 'created': '2017-10-25 08:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/85b7f3946eefb86c92b710c25029ed19a7ce53c9', 'message': '[WIP][DNR] Test change transport_url\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 21, 'created': '2017-10-25 08:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/08c4e911411e2041ebe65784bdd1d5f2b8063373', 'message': '[WIP][DNR] Test change transport_url\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 22, 'created': '2017-10-27 09:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d8547c26567c2c5d1ab08d4a8c361e28271835b8', 'message': '[WIP][DNR] Test change transport_url\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 23, 'created': '2017-11-01 09:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/15e54f36d8aad5a3d71aceb1545fe2bdbb5a8dae', 'message': '[WIP][DNR] Test change transport_url\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 24, 'created': '2017-11-01 15:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1e10569581d51b9fa5231c06e2d3075f8716b3f1', 'message': '[WIP][DNR] Test change transport_url\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 25, 'created': '2017-11-02 01:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/542b81aba804a1e2fa3d042cde697fdc4d98db3f', 'message': '[WIP][DNR] Test change transport_url\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 26, 'created': '2017-11-13 02:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7bced149c6e6f07e2a1a2166c3cf4a5173ccf1c4', 'message': '[WIP][DNR] Test change transport_url\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n'}, {'number': 27, 'created': '2017-11-16 02:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9216cf0955025f5a22801f154deb8d1a722d94af', 'message': ""Change transport_url in grenade-multinode job\n\nChange transport_url to test Heat's upgrade strategy [1] in gate.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 28, 'created': '2017-11-16 07:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/41aa1e1273b38759e7787e8afc71546cad4b8907', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the full set of integration tests (TODO)\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 29, 'created': '2017-11-16 07:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d30739d92cf794d45ef106b0b6ff6d130a85d1eb', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the full set of integration tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 30, 'created': '2017-11-16 08:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b313505f094bfc3ec98d3212c5968393ac931041', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the full set of integration tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 31, 'created': '2017-11-16 09:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d44bd87398808d9792ea5f1106ebf5f88c72d954', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the full set of integration tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 32, 'created': '2017-11-16 09:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/10dfdf9743136550befaf71e5f0fc3486713301d', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the full set of integration tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 33, 'created': '2017-11-17 02:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/667ef374520b2aada55f5d2a113995c561e099df', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the full set of integration tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 34, 'created': '2017-11-23 09:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3a92669c8d091ddfe133c4552fd40ed069a50ff9', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the full set of integration tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 35, 'created': '2017-11-28 09:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/21ebada5360c2ce48750a947a85987dbedc9ea93', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the full set of integration tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 36, 'created': '2017-11-29 03:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9315612b8b7caa97a30761b31644d2fae2517042', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the full set of integration tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 37, 'created': '2017-11-29 10:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0a127bb3efd0325606e0b35e4cc42a49a90d36fc', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the full set of integration tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 38, 'created': '2017-12-06 03:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d1b29986a3ab68b90fa9608532512fb92a9d0591', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the full set of integration tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 39, 'created': '2017-12-06 03:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b9ad3baf4b8e574cb0187df428cab57266ca2db3', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the specified set of functional tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 40, 'created': '2017-12-06 07:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/821a11aef1064ff4a6875de7d56f6a9c387a15be', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the specified set of functional tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 41, 'created': '2017-12-06 10:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/023577d54eb67b4b14698353f624f9c47112ce61', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the specified set of functional tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 42, 'created': '2017-12-06 12:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/dd93fe1d9ebd9ed7916fee402d75ddb791213182', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the specified set of functional tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 43, 'created': '2017-12-06 16:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c8bc57732b39e05269de60bf066874475951f9b1', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the specified set of functional tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 44, 'created': '2017-12-07 01:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f0ec774abd157637c876fdb2cb001e74bc87fd8c', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the specified set of functional tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 45, 'created': '2017-12-07 02:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/80d1f31fbd1751d212ac75add2c30e0fdd0fd2b7', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the specified set of functional tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 46, 'created': '2017-12-07 06:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bdb0c2a7fad3e1f1a28e31024a1c7c398435baea', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the specified set of functional tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 47, 'created': '2017-12-07 06:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/714d69a6805e71f67adbc13e3c43a32d68a0c726', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the specified set of functional tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 48, 'created': '2017-12-07 09:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8c4e5d5b66c59a877304b15037aca3a5e045730d', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the specified set of functional tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 49, 'created': '2017-12-07 11:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8cb14fe146ebfd874f18a9ce69a1c0429ecff69c', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the specified set of functional tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 50, 'created': '2017-12-07 11:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/66d9a7dbe2476d57c6805253a7c301d7d89a649b', 'message': ""WIP Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the specified set of functional tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 51, 'created': '2017-12-07 14:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1d9e2ece2773099fa4cfbf6f12127882c638955f', 'message': ""WIP Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the specified set of functional tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 52, 'created': '2017-12-08 02:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/347f3da178271e92734eee5a0bc7e8aaa05a8c94', 'message': ""WIP Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the specified set of functional tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 53, 'created': '2017-12-08 03:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e6043eb2126a566ee8bb93a2519b858b7f9b6711', 'message': ""WIP Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the specified set of functional tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 54, 'created': '2017-12-08 03:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a02c25d1a0e277388f3352449c3b47ed6cfaae8f', 'message': ""[WIP] Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the specified set of functional tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 55, 'created': '2017-12-08 05:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/bac6840c6380aee5ddb364045b03a94cba5dd88c', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the specified set of functional tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 56, 'created': '2017-12-09 05:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9ea1bd63fc71e4a002a8a0e510f98e4561a9c6e8', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the specified set of functional tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 57, 'created': '2017-12-09 10:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7cd7996d682238eee4e6ab24c49757714341c960', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the specified set of functional tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 58, 'created': '2017-12-09 15:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/57989bbab916fe5db566ba78cb7c0d0980040c62', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the specified set of functional tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 59, 'created': '2017-12-11 11:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6dc90476e500cb20f8ad04280e3375076706e2bb', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the specified set of functional tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 60, 'created': '2018-01-28 13:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3f8bcd647e664c59bf11a3c17f1600bc373507b5', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n* Run the specified set of functional tests.\n\n[1] https://review.openstack.org/#/c/407989/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 61, 'created': '2018-02-09 06:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4a13f5fca8036df32b8aa574b634522d5b6dfde5', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n\n[1] https://review.openstack.org/475853/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 62, 'created': '2018-02-09 08:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/83a205b0fb14fcf90014273f77b29ebd91985627', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n\n[1] https://review.openstack.org/475853/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}, {'number': 63, 'created': '2018-02-23 09:20:59.000000000', 'files': ['devstack/upgrade/upgrade.sh', 'playbooks/devstack/grenade/run.yaml', 'devstack/upgrade/settings'], 'web_link': 'https://opendev.org/openstack/heat/commit/2efa4c7e82ba766b7ea8955ba8885121ab739a76', 'message': ""Change transport_url in grenade-multinode job\n\n* Change transport_url to test Heat's upgrade strategy [1] in gate.\n\n[1] https://review.openstack.org/475853/\n\nChange-Id: I08770d2ae09891d7983345616186cff7c26df4ce\n""}]",18,510400,2efa4c7e82ba766b7ea8955ba8885121ab739a76,255,9,63,22406,,,0,"Change transport_url in grenade-multinode job

* Change transport_url to test Heat's upgrade strategy [1] in gate.

[1] https://review.openstack.org/475853/

Change-Id: I08770d2ae09891d7983345616186cff7c26df4ce
",git fetch https://review.opendev.org/openstack/heat refs/changes/00/510400/13 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/upgrade/upgrade.sh', 'devstack/upgrade/resources.sh']",2,9fb1d6f34c6570ed8d280e5a655d120905e0132c,rolling-upgrade, tempest run --regex heat_integrationtests.functional.test_stack_event,,12,0
openstack%2Fdevstack~stable%2Focata~Ia5fd8654e062533a55de2e78d84128027c73c094,openstack/devstack,stable/ocata,Ia5fd8654e062533a55de2e78d84128027c73c094,Bump NOVA_READY_TIMEOUT to 120s,MERGED,2018-02-23 21:58:38.000000000,2018-02-26 13:24:21.000000000,2018-02-26 13:24:21.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 5196}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 21:58:38.000000000', 'files': ['stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/66827dda40737f482b00580b52bc2865c605dcae', 'message': 'Bump NOVA_READY_TIMEOUT to 120s\n\nThis changes bumps NOVA_READY_TIMEOUT to 120s by default in Pike\nand older because the UCA shipped libvirt (2.5.0) is very slow\nto start up (taking almost a minute at times)\n\nChange-Id: Ia5fd8654e062533a55de2e78d84128027c73c094\n'}]",0,547677,66827dda40737f482b00580b52bc2865c605dcae,13,7,1,1004,,,0,"Bump NOVA_READY_TIMEOUT to 120s

This changes bumps NOVA_READY_TIMEOUT to 120s by default in Pike
and older because the UCA shipped libvirt (2.5.0) is very slow
to start up (taking almost a minute at times)

Change-Id: Ia5fd8654e062533a55de2e78d84128027c73c094
",git fetch https://review.opendev.org/openstack/devstack refs/changes/77/547677/1 && git format-patch -1 --stdout FETCH_HEAD,['stackrc'],1,66827dda40737f482b00580b52bc2865c605dcae,fix-nova-timeout,# NOTE(mnaser): This timeout is bumped to double SERVICE_TIMEOUT in Pike and # before because of slow libvirt 2.5.0 boot-up. NOVA_READY_TIMEOUT=${NOVA_READY_TIMEOUT:-120},NOVA_READY_TIMEOUT=${NOVA_READY_TIMEOUT:-$SERVICE_TIMEOUT},3,1
openstack%2Fdevstack~stable%2Focata~I0cd7f193589a1a0776ae76dc30cecefe7ba9e5db,openstack/devstack,stable/ocata,I0cd7f193589a1a0776ae76dc30cecefe7ba9e5db,Create NOVA_READY_TIMEOUT in is_nova_ready function,MERGED,2018-02-23 21:53:50.000000000,2018-02-26 13:24:18.000000000,2018-02-26 13:24:18.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 5196}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 21:53:50.000000000', 'files': ['lib/nova', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/5a66ce224c2fa7b34030307be53966b2bc393d38', 'message': 'Create NOVA_READY_TIMEOUT in is_nova_ready function\n\nThe function was introduced in [0] using a hardcoded timeout of 60\nseconds which turns out to be too small on slow machines. Create a new\nglobal variable NOVA_READY_TIMEOUT instead so that users can\noverride the timeout if necessary.\n\n[0] I32eb59b9d6c225a3e93992be3a3b9f4b251d7189\n\nCo-Authored-By: Mohammed Naser <mnaser@vexxhost.com>\nChange-Id: I0cd7f193589a1a0776ae76dc30cecefe7ba9e5db\n'}]",0,547675,5a66ce224c2fa7b34030307be53966b2bc393d38,13,8,1,1004,,,0,"Create NOVA_READY_TIMEOUT in is_nova_ready function

The function was introduced in [0] using a hardcoded timeout of 60
seconds which turns out to be too small on slow machines. Create a new
global variable NOVA_READY_TIMEOUT instead so that users can
override the timeout if necessary.

[0] I32eb59b9d6c225a3e93992be3a3b9f4b251d7189

Co-Authored-By: Mohammed Naser <mnaser@vexxhost.com>
Change-Id: I0cd7f193589a1a0776ae76dc30cecefe7ba9e5db
",git fetch https://review.opendev.org/openstack/devstack refs/changes/75/547675/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/nova', 'stackrc']",2,5a66ce224c2fa7b34030307be53966b2bc393d38,fix-nova-timeout,# Timeout for compute node registration in Nova NOVA_READY_TIMEOUT=${NOVA_READY_TIMEOUT:-$SERVICE_TIMEOUT} ,,4,1
openstack%2Fnova~master~I8191c9a390cb02b2a38a3f1c6e29457435994981,openstack/nova,master,I8191c9a390cb02b2a38a3f1c6e29457435994981,rp: GET /resource_providers?required=<traits>,MERGED,2018-02-22 01:35:50.000000000,2018-02-26 13:24:13.000000000,2018-02-26 13:24:13.000000000,"[{'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27336}, {'_account_id': 27552}]","[{'number': 1, 'created': '2018-02-22 01:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8483045f9809244b3ae115affa96ec432d14396', 'message': 'WIP: rp: GET /resource_providers?required=<traits>\n\nIntroduce placement microversion 1.18 with a new ?required=<trait list>\nquery parameter accepted on the GET /resource_providers API.  Results\nare filtered by providers possessing *all* of the specified traits.\nEmpty/invalid traits result in 400 errors.\n\nWIP: Finish gabbits\n\nChange-Id: I8191c9a390cb02b2a38a3f1c6e29457435994981\nblueprint: traits-on-list-resource-providers\n'}, {'number': 2, 'created': '2018-02-22 11:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fba694e4f2f78c58e427209529ca017255393b5c', 'message': 'rp: GET /resource_providers?required=<traits>\n\nIntroduce placement microversion 1.18 with a new ?required=<trait list>\nquery parameter accepted on the GET /resource_providers API.  Results\nare filtered by providers possessing *all* of the specified traits.\nEmpty/invalid traits result in 400 errors.\n\nChange-Id: I8191c9a390cb02b2a38a3f1c6e29457435994981\nblueprint: traits-on-list-resource-providers\n'}, {'number': 3, 'created': '2018-02-22 11:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be9f1b81b2a26973b4b325a2e63718561783c2cf', 'message': 'rp: GET /resource_providers?required=<traits>\n\nIntroduce placement microversion 1.18 with a new ?required=<trait list>\nquery parameter accepted on the GET /resource_providers API.  Results\nare filtered by providers possessing *all* of the specified traits.\nEmpty/invalid traits result in 400 errors.\n\nChange-Id: I8191c9a390cb02b2a38a3f1c6e29457435994981\nblueprint: traits-on-list-resource-providers\n'}, {'number': 4, 'created': '2018-02-22 17:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3cc3507681c7f84a1d3a62a4d265683d6c948b3', 'message': 'rp: GET /resource_providers?required=<traits>\n\nIntroduce placement microversion 1.18 with a new ?required=<trait list>\nquery parameter accepted on the GET /resource_providers API.  Results\nare filtered by providers possessing *all* of the specified traits.\nEmpty/invalid traits result in 400 errors.\n\nChange-Id: I8191c9a390cb02b2a38a3f1c6e29457435994981\nblueprint: traits-on-list-resource-providers\n'}, {'number': 5, 'created': '2018-02-22 18:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4acb6c9ff7d57ecb7bc7b2602ac5cd1aae372979', 'message': 'rp: GET /resource_providers?required=<traits>\n\nIntroduce placement microversion 1.18 with a new ?required=<trait list>\nquery parameter accepted on the GET /resource_providers API.  Results\nare filtered by providers possessing *all* of the specified traits.\nEmpty/invalid traits result in 400 errors.\n\nChange-Id: I8191c9a390cb02b2a38a3f1c6e29457435994981\nblueprint: traits-on-list-resource-providers\n'}, {'number': 6, 'created': '2018-02-22 21:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e0b137aad9a2de8447516c34d2d3e908cd12fce', 'message': 'rp: GET /resource_providers?required=<traits>\n\nIntroduce placement microversion 1.18 with a new ?required=<trait list>\nquery parameter accepted on the GET /resource_providers API.  Results\nare filtered by providers possessing *all* of the specified traits.\nEmpty/invalid traits result in 400 errors.\n\nChange-Id: I8191c9a390cb02b2a38a3f1c6e29457435994981\nblueprint: traits-on-list-resource-providers\n'}, {'number': 7, 'created': '2018-02-23 18:08:39.000000000', 'files': ['nova/api/openstack/placement/rest_api_version_history.rst', 'releasenotes/notes/placement-required-traits-on-list-resource-providers-fab11cdb36cd3502.yaml', 'nova/api/openstack/placement/schemas/resource_provider.py', 'nova/tests/functional/api/openstack/placement/gabbits/resource-provider.yaml', 'nova/objects/resource_provider.py', 'placement-api-ref/source/parameters.yaml', 'nova/tests/functional/api/openstack/placement/gabbits/microversion.yaml', 'nova/api/openstack/placement/handlers/resource_provider.py', 'nova/api/openstack/placement/microversion.py', 'placement-api-ref/source/resource_providers.inc'], 'web_link': 'https://opendev.org/openstack/nova/commit/558540a27c01bf048d23dd7053d0601b5282d40d', 'message': 'rp: GET /resource_providers?required=<traits>\n\nIntroduce placement microversion 1.18 with a new ?required=<trait list>\nquery parameter accepted on the GET /resource_providers API.  Results\nare filtered by providers possessing *all* of the specified traits.\nEmpty/invalid traits result in 400 errors.\n\nChange-Id: I8191c9a390cb02b2a38a3f1c6e29457435994981\nblueprint: traits-on-list-resource-providers\n'}]",38,546837,558540a27c01bf048d23dd7053d0601b5282d40d,104,20,7,14070,,,0,"rp: GET /resource_providers?required=<traits>

Introduce placement microversion 1.18 with a new ?required=<trait list>
query parameter accepted on the GET /resource_providers API.  Results
are filtered by providers possessing *all* of the specified traits.
Empty/invalid traits result in 400 errors.

Change-Id: I8191c9a390cb02b2a38a3f1c6e29457435994981
blueprint: traits-on-list-resource-providers
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/546837/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/placement/rest_api_version_history.rst', 'releasenotes/notes/placement-required-traits-on-list-resource-providers-fab11cdb36cd3502.yaml', 'nova/api/openstack/placement/schemas/resource_provider.py', 'nova/tests/functional/api/openstack/placement/gabbits/resource-provider.yaml', 'nova/objects/resource_provider.py', 'nova/api/openstack/placement/handlers/resource_provider.py', 'nova/tests/functional/api/openstack/placement/gabbits/microversion.yaml', 'nova/api/openstack/placement/microversion.py']",8,d8483045f9809244b3ae115affa96ec432d14396,bp/traits-on-list-resource-providers," '1.18', # Support ?required=<traits> queryparam on GET /resource_providers",,138,7
openstack%2Frally~master~I6964139ed3629abf5e5788595b9144c7b42635ce,openstack/rally,master,I6964139ed3629abf5e5788595b9144c7b42635ce,Fix cli job,MERGED,2018-02-26 11:58:47.000000000,2018-02-26 12:36:50.000000000,2018-02-26 12:36:50.000000000,"[{'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-26 11:58:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/rally/commit/428af69fdf68489e2debf05e06aead6daf98a68e', 'message': 'Fix cli job\n\nChange-Id: I6964139ed3629abf5e5788595b9144c7b42635ce\n'}]",0,548008,428af69fdf68489e2debf05e06aead6daf98a68e,7,3,1,9545,,,0,"Fix cli job

Change-Id: I6964139ed3629abf5e5788595b9144c7b42635ce
",git fetch https://review.opendev.org/openstack/rally refs/changes/08/548008/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,428af69fdf68489e2debf05e06aead6daf98a68e,fix_cli_job,deps = PyMySQL>=0.7.6 psycopg2>=2.5,,3,0
openstack%2Fnetworking-bagpipe~master~I412c310af40c4053451a2b9b4f8fcd741a85939a,openstack/networking-bagpipe,master,I412c310af40c4053451a2b9b4f8fcd741a85939a,"bagpipe ml2: agent extension, do not modify device_details on callbacks",MERGED,2018-02-23 15:47:58.000000000,2018-02-26 12:36:40.000000000,2018-02-26 10:55:02.000000000,"[{'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 15:47:58.000000000', 'files': ['networking_bagpipe/agent/bagpipe_ml2/agent_extension.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/f2afcdd00271a8dde18e521a362bd8f7953a69c1', 'message': 'bagpipe ml2: agent extension, do not modify device_details on callbacks\n\nModifying the device details dictionnary on handle_port or delete_port\ncallbacks is something that has, of course, side effects... :-/\n\nChange-Id: I412c310af40c4053451a2b9b4f8fcd741a85939a\nCloses-Bug: 1751302\n'}]",0,547485,f2afcdd00271a8dde18e521a362bd8f7953a69c1,11,2,1,12021,,,0,"bagpipe ml2: agent extension, do not modify device_details on callbacks

Modifying the device details dictionnary on handle_port or delete_port
callbacks is something that has, of course, side effects... :-/

Change-Id: I412c310af40c4053451a2b9b4f8fcd741a85939a
Closes-Bug: 1751302
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/85/547485/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bagpipe/agent/bagpipe_ml2/agent_extension.py'],1,f2afcdd00271a8dde18e521a362bd8f7953a69c1,bug/1751302, port_id = data['port_id'] net_id = data['network_id'] port_id = data['port_id'], port_id = data.pop('port_id') net_id = data.pop('network_id') port_id = data.pop('port_id'),3,3
openstack%2Fheat~master~Ieebe6a6cb99ece42fd06f1bb6626ffb37dec1f6d,openstack/heat,master,Ieebe6a6cb99ece42fd06f1bb6626ffb37dec1f6d,Unskip StackCancelTest,MERGED,2017-12-17 16:20:47.000000000,2018-02-26 12:34:12.000000000,2018-02-26 12:34:11.000000000,"[{'_account_id': 4257}, {'_account_id': 9796}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 27248}]","[{'number': 1, 'created': '2017-12-17 16:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ee11c565499c8bd181c0266118de95a33443aad2', 'message': 'Unskip StackCancelTest\n\npython-heatclient is bumped, time to resume this test.\n\nChange-Id: Ieebe6a6cb99ece42fd06f1bb6626ffb37dec1f6d\n'}, {'number': 2, 'created': '2018-02-07 06:39:01.000000000', 'files': ['heat_integrationtests/prepare_test_env.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/c6e6196e690e7ff89809c79a7fbac2e26da24f8d', 'message': 'Unskip StackCancelTest\n\npython-heatclient is bumped, time to resume this test.\n\nChange-Id: Ieebe6a6cb99ece42fd06f1bb6626ffb37dec1f6d\n'}]",0,528572,c6e6196e690e7ff89809c79a7fbac2e26da24f8d,18,5,2,12404,,,0,"Unskip StackCancelTest

python-heatclient is bumped, time to resume this test.

Change-Id: Ieebe6a6cb99ece42fd06f1bb6626ffb37dec1f6d
",git fetch https://review.opendev.org/openstack/heat refs/changes/72/528572/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_integrationtests/prepare_test_env.sh'],1,ee11c565499c8bd181c0266118de95a33443aad2,Unskip-StackCancelTest,"iniset $conf_file heat_plugin skip_functional_test_list 'ReloadOnSighupTest, NotificationTest'","# Skip StackCancelTest till the python-heatclient is bumped iniset $conf_file heat_plugin skip_functional_test_list 'ReloadOnSighupTest, NotificationTest, StackCancelTest'",1,2
openstack%2Fcinder~master~Ief555aa3211b0c1405d2abb155f9ddd44fa149fc,openstack/cinder,master,Ief555aa3211b0c1405d2abb155f9ddd44fa149fc,Add python 3.5 in classifier,MERGED,2017-06-27 10:25:10.000000000,2018-02-26 12:31:11.000000000,2018-02-26 12:31:11.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 20401}, {'_account_id': 21486}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26297}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-06-27 10:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/97756f638bb4ef456878e9de0d82c0d0e53b4574', 'message': 'Add python 3.5 in classifier and envlist\n\nNow we can support py35 in classifier,and add the convenience\npy35 env.\n\nChange-Id: Ief555aa3211b0c1405d2abb155f9ddd44fa149fc\n'}, {'number': 2, 'created': '2018-02-05 19:04:39.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cinder/commit/344a10b379c837d088c144172e750ad5968a221d', 'message': 'Add python 3.5 in classifier\n\nNow we can support py35 in classifier.\n\nChange-Id: Ief555aa3211b0c1405d2abb155f9ddd44fa149fc\n'}]",0,477873,344a10b379c837d088c144172e750ad5968a221d,75,52,2,21204,,,0,"Add python 3.5 in classifier

Now we can support py35 in classifier.

Change-Id: Ief555aa3211b0c1405d2abb155f9ddd44fa149fc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/73/477873/2 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,97756f638bb4ef456878e9de0d82c0d0e53b4574,python3.5,[testenv:debug-py35] basepython = python3.5 commands = oslo_debug_helper -t cinder/tests {posargs} ,,5,0
openstack%2Frally~master~I97b4ffbb7ed774f4a640e1e8e4adb50c37f3a6d6,openstack/rally,master,I97b4ffbb7ed774f4a640e1e8e4adb50c37f3a6d6,[functional] Do not merge stderr with stdout in case of json,ABANDONED,2017-10-30 16:17:19.000000000,2018-02-26 12:27:08.000000000,,"[{'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-30 16:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/2d6fc0a4d35749cbfaadb793e20fa1dbe2f8226c', 'message': '[functional] Do not merge stderr with stdout in case of json\n\nDifferent kind of warnings are going to stderr by design to not break\nthe output. Merging stderr with stdout can lead to broken json objects.\n\nChange-Id: I97b4ffbb7ed774f4a640e1e8e4adb50c37f3a6d6\n'}, {'number': 2, 'created': '2017-10-30 21:34:07.000000000', 'files': ['tests/functional/test_cli_task.py', 'tests/functional/utils.py', 'tests/functional/test_cli_deployment.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/9bac3ba7d74f71ded9bde372464778c9f04a443f', 'message': '[functional] Do not merge stderr with stdout in case of json\n\nDifferent kind of warnings are going to stderr by design to not break\nthe output. Merging stderr with stdout can lead to broken json objects.\n\nChange-Id: I97b4ffbb7ed774f4a640e1e8e4adb50c37f3a6d6\n'}]",0,516375,9bac3ba7d74f71ded9bde372464778c9f04a443f,9,3,2,9545,,,0,"[functional] Do not merge stderr with stdout in case of json

Different kind of warnings are going to stderr by design to not break
the output. Merging stderr with stdout can lead to broken json objects.

Change-Id: I97b4ffbb7ed774f4a640e1e8e4adb50c37f3a6d6
",git fetch https://review.opendev.org/openstack/rally refs/changes/75/516375/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/functional/utils.py'],1,2d6fc0a4d35749cbfaadb793e20fa1dbe2f8226c,functional," def __init__(self, force_new_db=False): # do not merge stderr into stdout. it can break json stderr = subprocess.PIPE stderr = subprocess.STDOUT cmd, stderr=stderr, env=self.env))"," def __init__(self, fake=False, force_new_db=False): cmd, stderr=subprocess.STDOUT, env=self.env))",5,2
openstack%2Fdevstack-gate~master~I1f7af7c0c79d7efff716564a817bc79365142516,openstack/devstack-gate,master,I1f7af7c0c79d7efff716564a817bc79365142516,[trivial] Remove redundant double quotes,ABANDONED,2017-11-06 12:40:08.000000000,2018-02-26 12:26:57.000000000,,"[{'_account_id': 7118}, {'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-06 12:40:08.000000000', 'files': ['features.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-gate/commit/cba8a9970ead6494b1d572b22cd3997d9e0e72e3', 'message': '[trivial] Remove redundant double quotes\n\nChange-Id: I1f7af7c0c79d7efff716564a817bc79365142516\n'}]",0,517980,cba8a9970ead6494b1d572b22cd3997d9e0e72e3,5,3,1,9545,,,0,"[trivial] Remove redundant double quotes

Change-Id: I1f7af7c0c79d7efff716564a817bc79365142516
",git fetch https://review.opendev.org/openstack/devstack-gate refs/changes/80/517980/1 && git format-patch -1 --stdout FETCH_HEAD,['features.yaml'],1,cba8a9970ead6494b1d572b22cd3997d9e0e72e3,typo," # The value of ""default"" is the name of the ""trunk"" branch"," # The value of """"default"" is the name of the ""trunk"" branch",1,1
openstack%2Frally~master~Icb5225f6657cbd0d1728f476b465fcad0b4e9299,openstack/rally,master,Icb5225f6657cbd0d1728f476b465fcad0b4e9299,"Revert ""Use openstack-tox-functional""",ABANDONED,2018-01-09 12:29:21.000000000,2018-02-26 12:26:32.000000000,,"[{'_account_id': 14817}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-09 12:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d7d41dffb14bd9ad8d0da3195f1c73800006e486', 'message': 'Revert ""Use openstack-tox-functional""\n\nFor some reasons, after we migrated to openstack-tox job, several tests\nbegan to fail. Looks like concurrency issues, which should not be\naffected in case of calling regular `tox -efunctional`\n\nThis reverts commit 70e204ca8e29bb9a08e22f3ea701232de687b00f.\n\nChange-Id: Icb5225f6657cbd0d1728f476b465fcad0b4e9299\n'}, {'number': 2, 'created': '2018-01-09 12:45:16.000000000', 'files': ['zuul.yaml'], 'web_link': 'https://opendev.org/openstack/rally/commit/8f4880638f6367e3243d968e1cb89a9d22c7250a', 'message': 'Revert ""Use openstack-tox-functional""\n\nFor some reasons, after we migrated to openstack-tox job, several tests\nbegan to fail. Looks like concurrency issues, which should not be\naffected in case of calling regular `tox -efunctional`\n\nThis reverts commit 70e204ca8e29bb9a08e22f3ea701232de687b00f.\n\nChange-Id: Icb5225f6657cbd0d1728f476b465fcad0b4e9299\n'}]",0,532171,8f4880638f6367e3243d968e1cb89a9d22c7250a,6,2,2,9545,,,0,"Revert ""Use openstack-tox-functional""

For some reasons, after we migrated to openstack-tox job, several tests
began to fail. Looks like concurrency issues, which should not be
affected in case of calling regular `tox -efunctional`

This reverts commit 70e204ca8e29bb9a08e22f3ea701232de687b00f.

Change-Id: Icb5225f6657cbd0d1728f476b465fcad0b4e9299
",git fetch https://review.opendev.org/openstack/rally refs/changes/71/532171/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.yaml'],1,d7d41dffb14bd9ad8d0da3195f1c73800006e486,fix_functional,- job: name: rallytox-functional parent: tox description: | Run functional tests for a Rally project under cPython version 2.7. Uses tox with the ``functional`` environment. vars: tox_envlist: functional timeout: 600 - rally-tox-functional - rally-tox-functional, - openstack-tox-functional - openstack-tox-functional,12,2
openstack%2Frally~master~I0d05f346b16e53080f54358acb63a773ef05614e,openstack/rally,master,I0d05f346b16e53080f54358acb63a773ef05614e,WIP: raise uc of osprofiler,ABANDONED,2018-01-22 14:03:09.000000000,2018-02-26 12:26:19.000000000,,"[{'_account_id': 14817}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-22 14:03:09.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/rally/commit/0c9798cfc815b54945e092341499526449bff119', 'message': 'WIP: raise uc of osprofiler\n\nChange-Id: I0d05f346b16e53080f54358acb63a773ef05614e\n'}]",0,536373,0c9798cfc815b54945e092341499526449bff119,4,2,1,9545,,,0,"WIP: raise uc of osprofiler

Change-Id: I0d05f346b16e53080f54358acb63a773ef05614e
",git fetch https://review.opendev.org/openstack/rally refs/changes/73/536373/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0c9798cfc815b54945e092341499526449bff119,uc,osprofiler===1.14.0,osprofiler===1.13.0,1,1
openstack%2Fsolum~master~Icfdffbd820b5f07b1682c75e4904799c9481f88d,openstack/solum,master,Icfdffbd820b5f07b1682c75e4904799c9481f88d,Remove empty files,MERGED,2018-02-22 11:14:47.000000000,2018-02-26 12:25:05.000000000,2018-02-26 12:25:05.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-22 11:14:47.000000000', 'files': ['contrib/lp-cedarish/vm/elements/cedarish/post-install.d/09-cleanup'], 'web_link': 'https://opendev.org/openstack/solum/commit/ffec394dd71636d8c81f9593c08c6b080b4e1a45', 'message': 'Remove empty files\n\ncontrib/lp-cedarish/vm/elements/cedarish/post-install.d/09-cleanup\nis empty file. We probably should delete it.\n\nChange-Id: Icfdffbd820b5f07b1682c75e4904799c9481f88d\n'}]",0,546950,ffec394dd71636d8c81f9593c08c6b080b4e1a45,6,2,1,19853,,,0,"Remove empty files

contrib/lp-cedarish/vm/elements/cedarish/post-install.d/09-cleanup
is empty file. We probably should delete it.

Change-Id: Icfdffbd820b5f07b1682c75e4904799c9481f88d
",git fetch https://review.opendev.org/openstack/solum refs/changes/50/546950/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/lp-cedarish/vm/elements/cedarish/post-install.d/09-cleanup'],1,ffec394dd71636d8c81f9593c08c6b080b4e1a45,,,,0,0
openstack%2Frally~master~Id77333f7187c1c144a40736d91b1c01adbff1d3e,openstack/rally,master,Id77333f7187c1c144a40736d91b1c01adbff1d3e,DO NOT MERGE,ABANDONED,2017-09-21 10:15:44.000000000,2018-02-26 12:25:03.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-09-21 10:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e907b4c29645ccef6952d3a83dbbd61deabe0112', 'message': 'DO NOT MERGE\n\nChange-Id: Id77333f7187c1c144a40736d91b1c01adbff1d3e\n'}, {'number': 2, 'created': '2017-09-21 10:15:59.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/rally/commit/74524f35a3846b7ddcdad1965b7b38f2f908abe2', 'message': 'DO NOT MERGE\n\nChange-Id: Id77333f7187c1c144a40736d91b1c01adbff1d3e\n'}]",0,506099,74524f35a3846b7ddcdad1965b7b38f2f908abe2,4,1,2,9545,,,0,"DO NOT MERGE

Change-Id: Id77333f7187c1c144a40736d91b1c01adbff1d3e
",git fetch https://review.opendev.org/openstack/rally refs/changes/99/506099/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,e907b4c29645ccef6952d3a83dbbd61deabe0112,dirty_hack,Team and repository tags ,Team and repository tags,1,1
openstack%2Fdesignate-dashboard~stable%2Fqueens~I6a452fb49319a4793f8c40812ab25afcad3d9a9b,openstack/designate-dashboard,stable/queens,I6a452fb49319a4793f8c40812ab25afcad3d9a9b,Imported Translations from Zanata,MERGED,2018-02-26 07:25:05.000000000,2018-02-26 12:11:24.000000000,2018-02-26 12:11:23.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-26 07:25:05.000000000', 'files': ['designatedashboard/locale/fr/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/5570a2dd51ccd3750012bfde9991f0689a02323b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6a452fb49319a4793f8c40812ab25afcad3d9a9b\n'}]",0,547911,5570a2dd51ccd3750012bfde9991f0689a02323b,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I6a452fb49319a4793f8c40812ab25afcad3d9a9b
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/11/547911/1 && git format-patch -1 --stdout FETCH_HEAD,['designatedashboard/locale/fr/LC_MESSAGES/django.po'],1,5570a2dd51ccd3750012bfde9991f0689a02323b,zanata/translations,"# JF Taltavull <jftalta@gmail.com>, 2018. #zanata""POT-Creation-Date: 2018-02-22 15:26+0000\n""""PO-Revision-Date: 2018-02-25 06:55+0000\n"" ""Last-Translator: JF Taltavull <jftalta@gmail.com>\n"""" Le champ Email doit contenir une adresse de courrier lectronique "" ""valide  associer au domaine.\n"""" Le champ Nom doit contenir un FQDN (nom de domaine avec le\n"""" Le TTL est la dure de vie (time-to-live) de l'enregistrement, en "" ""secondes.\n""msgid ""Delete Domain"" msgid_plural ""Delete Domains"" msgstr[0] ""Supprimer le domaine"" msgstr[1] ""Supprimer les domaines"" msgid ""Delete Record"" msgid_plural ""Delete Records"" msgstr[0] ""Supprimer l'enregistrement"" msgstr[1] ""Supprimer les enregistrements"" msgid ""Deleted Domain"" msgid_plural ""Deleted Domains"" msgstr[0] ""Domaine supprim"" msgstr[1] ""Domaines supprims"" msgid ""Deleted Record"" msgid_plural ""Deleted Records"" msgstr[0] ""Enregistrement supprim"" msgstr[1] ""Enregistrements supprims"" msgstr ""E-mail""msgstr ""Entrez un nom de domaine valide.""","""POT-Creation-Date: 2018-02-20 18:09+0000\n""""PO-Revision-Date: 2017-11-14 07:52+0000\n"" ""Last-Translator: Gaelle <pattedeph@gmail.com>\n"""" Le champ Email doit contenir un email valide qui sera associ \n"" "" avec le domaine.\n"""" Le champ Nom doit contenir un nom de domaine (FQDN avec le\n"""" Le TTL est le time-to-live de l'enregistrement, en secondes.\n""msgstr ""Courriel""msgstr ""Entrer un nom de domaine valide.""",31,9
openstack%2Fdesignate-dashboard~master~Ia03625573ae422084dee98ecc651efe16ea9cfee,openstack/designate-dashboard,master,Ia03625573ae422084dee98ecc651efe16ea9cfee,Imported Translations from Zanata,MERGED,2018-02-21 07:26:17.000000000,2018-02-26 12:08:36.000000000,2018-02-26 12:08:36.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-21 07:26:17.000000000', 'files': ['designatedashboard/locale/zh_CN/LC_MESSAGES/django.po', 'designatedashboard/locale/en_GB/LC_MESSAGES/django.po', 'designatedashboard/locale/es/LC_MESSAGES/django.po', 'designatedashboard/locale/pt_BR/LC_MESSAGES/django.po', 'designatedashboard/locale/tr_TR/LC_MESSAGES/django.po', 'designatedashboard/locale/cs/LC_MESSAGES/django.po', 'designatedashboard/locale/de/LC_MESSAGES/django.po', 'designatedashboard/locale/fr/LC_MESSAGES/django.po', 'designatedashboard/locale/ja/LC_MESSAGES/django.po', 'designatedashboard/locale/ru/LC_MESSAGES/django.po', 'designatedashboard/locale/id/LC_MESSAGES/django.po', 'designatedashboard/locale/ko_KR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/c863679a4f46bd84cc90333abdfdf1970399f558', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia03625573ae422084dee98ecc651efe16ea9cfee\n'}]",0,546515,c863679a4f46bd84cc90333abdfdf1970399f558,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ia03625573ae422084dee98ecc651efe16ea9cfee
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/15/546515/1 && git format-patch -1 --stdout FETCH_HEAD,"['designatedashboard/locale/zh_CN/LC_MESSAGES/django.po', 'designatedashboard/locale/en_GB/LC_MESSAGES/django.po', 'designatedashboard/locale/es/LC_MESSAGES/django.po', 'designatedashboard/locale/pt_BR/LC_MESSAGES/django.po', 'designatedashboard/locale/tr_TR/LC_MESSAGES/django.po', 'designatedashboard/locale/cs/LC_MESSAGES/django.po', 'designatedashboard/locale/de/LC_MESSAGES/django.po', 'designatedashboard/locale/fr/LC_MESSAGES/django.po', 'designatedashboard/locale/ja/LC_MESSAGES/django.po', 'designatedashboard/locale/ru/LC_MESSAGES/django.po', 'designatedashboard/locale/id/LC_MESSAGES/django.po', 'designatedashboard/locale/ko_KR/LC_MESSAGES/django.po']",12,c863679a4f46bd84cc90333abdfdf1970399f558,zanata/translations,"""POT-Creation-Date: 2018-02-20 06:10+0000\n""","""POT-Creation-Date: 2018-02-15 18:09+0000\n""msgid ""Delete"" msgstr """" msgid ""Deleted"" msgstr """" msgid ""Record"" msgstr """" ",31,120
openstack%2Fmistral~master~I679b8338dade284817000670e96ab108481372ae,openstack/mistral,master,I679b8338dade284817000670e96ab108481372ae,Add the 'error_data' parameter to the FailAction,MERGED,2017-12-17 12:20:52.000000000,2018-02-26 12:07:48.000000000,2018-02-26 12:07:47.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 27008}]","[{'number': 1, 'created': '2017-12-17 12:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/fd0fbfb72033fc980c3254b7ce2f5f4e9c747bf2', 'message': ""Add the 'error_data' parameter to the FailAction\n\nChange-Id: I679b8338dade284817000670e96ab108481372ae\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n""}, {'number': 2, 'created': '2017-12-18 19:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/9b18de281753958343a25aabe0205bb88cd612c7', 'message': ""Add the 'error_data' parameter to the FailAction\n\nChange-Id: I679b8338dade284817000670e96ab108481372ae\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n""}, {'number': 3, 'created': '2018-02-01 00:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/7fc4edadbc304d9b5ad43f82dd36e79e23d0b074', 'message': ""Add the 'error_data' parameter to the FailAction\n\nChange-Id: I679b8338dade284817000670e96ab108481372ae\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n""}, {'number': 4, 'created': '2018-02-01 10:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/992a3c8a6df381a7bcd27832ade4d85800e317cc', 'message': ""Add the 'error_data' parameter to the FailAction\n\nChange-Id: I679b8338dade284817000670e96ab108481372ae\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n""}, {'number': 5, 'created': '2018-02-12 01:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/f4b70fb3cf9e086d4bf5e0170a2f4be826e58c0c', 'message': ""Add the 'error_data' parameter to the FailAction\n\nChange-Id: I679b8338dade284817000670e96ab108481372ae\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n""}, {'number': 6, 'created': '2018-02-12 04:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/adb011768beec565445985073ad52b802eb679eb', 'message': ""Add the 'error_data' parameter to the FailAction\n\nChange-Id: I679b8338dade284817000670e96ab108481372ae\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n""}, {'number': 7, 'created': '2018-02-25 08:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/b9127ae5e6ce0c494642f01c90c13289c493cd9c', 'message': ""Add the 'error_data' parameter to the FailAction\n\nThis may be useful for a testing purpose if you want to emulate a\naction error with data for timeout, retry and the rest of task policies\n\nChange-Id: I679b8338dade284817000670e96ab108481372ae\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n""}, {'number': 8, 'created': '2018-02-25 08:19:57.000000000', 'files': ['doc/source/user/wf_lang_v2.rst', 'mistral/tests/unit/actions/test_std_fail_action.py', 'mistral/actions/std_actions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/d2ffecd0035bd0619fd31b90f40dfefdf4aad1ed', 'message': ""Add the 'error_data' parameter to the FailAction\n\nThis may be useful for a testing purpose if you want to emulate a\naction error with data for timeout, retry and the rest of task policies\n\nChange-Id: I679b8338dade284817000670e96ab108481372ae\nSigned-off-by: Vitalii Solodilov <mcdkr@yandex.ru>\n""}]",19,528543,d2ffecd0035bd0619fd31b90f40dfefdf4aad1ed,34,5,8,27008,,,0,"Add the 'error_data' parameter to the FailAction

This may be useful for a testing purpose if you want to emulate a
action error with data for timeout, retry and the rest of task policies

Change-Id: I679b8338dade284817000670e96ab108481372ae
Signed-off-by: Vitalii Solodilov <mcdkr@yandex.ru>
",git fetch https://review.opendev.org/openstack/mistral refs/changes/43/528543/8 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/actions/test_std_fail_action.py', 'doc/source/user/dsl_v2.rst', 'mistral/actions/std_actions.py']",3,fd0fbfb72033fc980c3254b7ce2f5f4e9c747bf2,improve/fail_action," If you pass the `error_data` parameter, this Action will be failed and return this data as error data. Otherwise, the action just throws an instance of ActionException. :param error_data: Action will be failed with this data def __init__(self, error_data=None): self.error_data = error_data if self.error_data: return actions.Result(error=self.error_data) if self.error_data: return actions.Result(error=self.error_data) ", This action just always throws an instance of ActionException. def __init__(self): pass,44,6
openstack%2Fhorizon~stable%2Fqueens~Id96c0706b79ca9ae12093088fd28da091d170834,openstack/horizon,stable/queens,Id96c0706b79ca9ae12093088fd28da091d170834,Imported Translations from Zanata,MERGED,2018-02-26 07:42:43.000000000,2018-02-26 12:06:28.000000000,2018-02-26 12:06:27.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-26 07:42:43.000000000', 'files': ['openstack_dashboard/locale/fr/LC_MESSAGES/djangojs.po', 'horizon/locale/fr/LC_MESSAGES/djangojs.po', 'openstack_auth/locale/fr/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d017fde2a0fdc48e4687f0f5ae0362ba6c5ad66a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id96c0706b79ca9ae12093088fd28da091d170834\n'}]",0,547920,d017fde2a0fdc48e4687f0f5ae0362ba6c5ad66a,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Id96c0706b79ca9ae12093088fd28da091d170834
",git fetch https://review.opendev.org/openstack/horizon refs/changes/20/547920/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/fr/LC_MESSAGES/djangojs.po', 'horizon/locale/fr/LC_MESSAGES/djangojs.po', 'openstack_auth/locale/fr/LC_MESSAGES/django.po']",3,d017fde2a0fdc48e4687f0f5ae0362ba6c5ad66a,zanata/translations,"""POT-Creation-Date: 2018-02-22 09:28+0000\n""""PO-Revision-Date: 2018-02-25 06:04+0000\n""msgstr ""L'authentification auprs du fournisseur d'identit a chou.""msgstr ""L'authentification auprs du fournisseur de services a chou. %s""","""POT-Creation-Date: 2018-02-21 06:50+0000\n""""PO-Revision-Date: 2018-02-21 09:13+0000\n""msgstr ""L'authentification du fournisseur d'identit a chou.""msgstr ""L'authentification du fournisseur de services a chou. %s""",31,12
openstack%2Fhorizon~master~Ic00224f789a94c19adda22d5cfb0d2f1c2e38b6d,openstack/horizon,master,Ic00224f789a94c19adda22d5cfb0d2f1c2e38b6d,Imported Translations from Zanata,MERGED,2018-02-26 07:43:11.000000000,2018-02-26 12:06:24.000000000,2018-02-26 12:06:24.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-26 07:43:11.000000000', 'files': ['openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ce984d073e13eeb556f25cc6c6adbad0c7c6ca94', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ic00224f789a94c19adda22d5cfb0d2f1c2e38b6d\n'}]",0,547921,ce984d073e13eeb556f25cc6c6adbad0c7c6ca94,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ic00224f789a94c19adda22d5cfb0d2f1c2e38b6d
",git fetch https://review.opendev.org/openstack/horizon refs/changes/21/547921/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po']",2,ce984d073e13eeb556f25cc6c6adbad0c7c6ca94,zanata/translations,"""POT-Creation-Date: 2018-02-23 16:37+0000\n""""PO-Revision-Date: 2018-02-25 02:01+0000\n""msgid ""12.0.2-25"" msgstr ""12.0.2-25"" msgid ""13.0.0.0rc1-32"" msgstr ""13.0.0.0rc1-32"" ","""POT-Creation-Date: 2018-02-23 05:58+0000\n""""PO-Revision-Date: 2018-02-16 02:22+0000\n""",24,4
openstack%2Fneutron-fwaas~master~I375c61e09a76e8b195b19c962b1c561fcbe5ffb0,openstack/neutron-fwaas,master,I375c61e09a76e8b195b19c962b1c561fcbe5ffb0,"Enable hacking-extensions H204, H205",MERGED,2018-02-01 02:47:50.000000000,2018-02-26 12:03:58.000000000,2018-02-26 12:03:58.000000000,"[{'_account_id': 6854}, {'_account_id': 10850}, {'_account_id': 13995}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-01 02:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/93bfa70a85a293b34cc8e73adef0665cccb2b48a', 'message': 'Enable hacking-extensions H204, H205\n\nThis patch enable extensions:\n-[H204] Use assert(Not)Equal to check for equality.\n-[H205] Use assert(Greater|Less)(Equal) for comparison.\n\nChange-Id: I375c61e09a76e8b195b19c962b1c561fcbe5ffb0\n'}, {'number': 2, 'created': '2018-02-07 16:05:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/b120784f7ff2ac4e84acf22d3db7a9ccd43524f2', 'message': 'Enable hacking-extensions H204, H205\n\nThis patch enable extensions:\n-[H204] Use assert(Not)Equal to check for equality.\n-[H205] Use assert(Greater|Less)(Equal) for comparison.\n\nChange-Id: I375c61e09a76e8b195b19c962b1c561fcbe5ffb0\n'}]",0,539776,b120784f7ff2ac4e84acf22d3db7a9ccd43524f2,11,5,2,22255,,,0,"Enable hacking-extensions H204, H205

This patch enable extensions:
-[H204] Use assert(Not)Equal to check for equality.
-[H205] Use assert(Greater|Less)(Equal) for comparison.

Change-Id: I375c61e09a76e8b195b19c962b1c561fcbe5ffb0
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/76/539776/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,93bfa70a85a293b34cc8e73adef0665cccb2b48a,addpep8,"# H204: Use assert(Not)Equal to check for equality # H205: Use assert(Greater|Less)(Equal) for comparisonenable-extensions=H106,H203,H204,H205,H904","enable-extensions=H106,H203,H904",3,1
openstack%2Fneutron-fwaas~master~I69bc003019560eb24ac1ba8e418b80129935f885,openstack/neutron-fwaas,master,I69bc003019560eb24ac1ba8e418b80129935f885,Fix V2 update_firewall_group logging,MERGED,2018-01-08 11:53:03.000000000,2018-02-26 12:03:57.000000000,2018-02-26 12:03:57.000000000,"[{'_account_id': 1653}, {'_account_id': 10850}, {'_account_id': 12860}, {'_account_id': 13702}, {'_account_id': 17776}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-08 11:53:03.000000000', 'files': ['neutron_fwaas/db/firewall/v2/firewall_db_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/83f85e10dc6fb11aa55e835a3f557624db9708c1', 'message': 'Fix V2 update_firewall_group logging\n\nChange-Id: I69bc003019560eb24ac1ba8e418b80129935f885\n'}]",0,531722,83f85e10dc6fb11aa55e835a3f557624db9708c1,10,6,1,20363,,,0,"Fix V2 update_firewall_group logging

Change-Id: I69bc003019560eb24ac1ba8e418b80129935f885
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/22/531722/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/db/firewall/v2/firewall_db_v2.py'],1,83f85e10dc6fb11aa55e835a3f557624db9708c1,," LOG.debug(""update_firewall_group() called"")"," LOG.debug(""update_firewall() called"")",1,1
openstack%2Fdevstack~master~I5445928ec2ac9b4ad4cf764964904b1e7344c07a,openstack/devstack,master,I5445928ec2ac9b4ad4cf764964904b1e7344c07a,DNM Check work dir,ABANDONED,2018-02-26 09:39:56.000000000,2018-02-26 12:03:00.000000000,,"[{'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16376}]","[{'number': 1, 'created': '2018-02-26 09:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e1cd33b284c500d00ce3814e5a882281816638c4', 'message': 'DNM Check work dir\n\nChange-Id: I5445928ec2ac9b4ad4cf764964904b1e7344c07a\n'}, {'number': 2, 'created': '2018-02-26 09:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/bf3571aa5518af848258f3532c9a9c5d43905a73', 'message': 'DNM Check work dir\n\nChange-Id: I5445928ec2ac9b4ad4cf764964904b1e7344c07a\n'}, {'number': 3, 'created': '2018-02-26 10:13:17.000000000', 'files': ['roles/orchestrate-devstack/tasks/main.yaml', 'roles/sync-devstack-data/tasks/setup_ssh.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/fac47ed7f52d95b81d22e482f021abe88253919f', 'message': 'DNM Check work dir\n\nChange-Id: I5445928ec2ac9b4ad4cf764964904b1e7344c07a\n'}]",0,547954,fac47ed7f52d95b81d22e482f021abe88253919f,7,3,3,1921,,,0,"DNM Check work dir

Change-Id: I5445928ec2ac9b4ad4cf764964904b1e7344c07a
",git fetch https://review.opendev.org/openstack/devstack refs/changes/54/547954/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/orchestrate-devstack/tasks/main.yaml', 'roles/sync-devstack-data/tasks/setup_ssh.yaml']",2,e1cd33b284c500d00ce3814e5a882281816638c4,multinode_zuulv3,"- name: Get content of work dir shell: ls -al args: chdir: ""{{ zuul.executor.work_root }}"" register: work_root_ls - name: Show content of work dir debug: var: work_root_ls ",,17,0
openstack%2Fptgbot~master~Iaa75da497f026e0d0e601c54d9ddcd52f0028367,openstack/ptgbot,master,Iaa75da497f026e0d0e601c54d9ddcd52f0028367,Fix crash w/ slot codes with more than one hyphen,MERGED,2018-02-26 11:28:18.000000000,2018-02-26 11:56:19.000000000,2018-02-26 11:56:19.000000000,"[{'_account_id': 2394}, {'_account_id': 5263}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-26 11:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/39183e2ea83bc31ee0dbf0068b1052db1ba53c6f', 'message': ""Fix crash w/ slot codes with more than one hyphen\n\nSplit room code only once so that if (wrong) slot codes with\nmore than one hyphen are entered, it won't crash the bot.\n\nChange-Id: Iaa75da497f026e0d0e601c54d9ddcd52f0028367\n""}, {'number': 2, 'created': '2018-02-26 11:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/bf1c450af54c359fdb47dc3e5f8f095ff6aa3935', 'message': ""Fix crash w/ slot codes with more than one hyphen\n\nSplit room code only once so that if (wrong) slot codes with\nmore than one hyphen are entered, it won't crash the bot.\n\nChange-Id: Iaa75da497f026e0d0e601c54d9ddcd52f0028367\n""}, {'number': 3, 'created': '2018-02-26 11:32:07.000000000', 'files': ['ptgbot/bot.py'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/8108273be4a607bbd79405ef44ba3a1bd1485bfb', 'message': ""Fix crash w/ slot codes with more than one hyphen\n\nSplit room code only once so that if (wrong) slot codes with\nmore than one hyphen are entered, it won't crash the bot.\n\nChange-Id: Iaa75da497f026e0d0e601c54d9ddcd52f0028367\n""}]",2,547994,8108273be4a607bbd79405ef44ba3a1bd1485bfb,13,4,3,308,,,0,"Fix crash w/ slot codes with more than one hyphen

Split room code only once so that if (wrong) slot codes with
more than one hyphen are entered, it won't crash the bot.

Change-Id: Iaa75da497f026e0d0e601c54d9ddcd52f0028367
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/94/547994/3 && git format-patch -1 --stdout FETCH_HEAD,['ptgbot/bot.py'],1,39183e2ea83bc31ee0dbf0068b1052db1ba53c6f,hotfixes," room, timeslot = params.split('-',1)"," room, timeslot = params.split('-')",1,1
openstack%2Fmurano~master~Ie0f3488af6771aca0dabec65db3e096cd1f96848,openstack/murano,master,Ie0f3488af6771aca0dabec65db3e096cd1f96848,Remove empty file,MERGED,2018-02-23 09:35:04.000000000,2018-02-26 11:55:49.000000000,2018-02-26 11:55:49.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2018-02-23 09:35:04.000000000', 'files': ['murano/tests/unit/api/v1/cloudfoundry/test_router.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/36ed695e33f4b6ef24ee3a4131bd551cb11799ee', 'message': 'Remove empty file\n\nmurano/tests/unit/api/v1/cloudfoundry/test_router.py\nis empty file. We probably should delete it.\n\nChange-Id: Ie0f3488af6771aca0dabec65db3e096cd1f96848\n'}]",0,547339,36ed695e33f4b6ef24ee3a4131bd551cb11799ee,7,3,1,19853,,,0,"Remove empty file

murano/tests/unit/api/v1/cloudfoundry/test_router.py
is empty file. We probably should delete it.

Change-Id: Ie0f3488af6771aca0dabec65db3e096cd1f96848
",git fetch https://review.opendev.org/openstack/murano refs/changes/39/547339/1 && git format-patch -1 --stdout FETCH_HEAD,['murano/tests/unit/api/v1/cloudfoundry/test_router.py'],1,36ed695e33f4b6ef24ee3a4131bd551cb11799ee,,,,0,0
openstack%2Fpython-magnumclient~master~I45c58df5c7457aec419074e4719ef63fb7a0d0b9,openstack/python-magnumclient,master,I45c58df5c7457aec419074e4719ef63fb7a0d0b9,Replace six.iteritems() with dict.items() in python-magnumclient,MERGED,2017-08-07 07:00:23.000000000,2018-02-26 11:52:14.000000000,2018-02-26 11:40:29.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-07 07:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/a0b339b0b1982b164041ae32e853d97ead681aa0', 'message': 'Replace six.iteritems() with dict.items() in python-magnumclient\n\n1.As mentioned in [1], we should avoid using six.iteritems\nto achieve iterators. We can use dict.items instead, as it\nwill return iterators in PY3 as well. And dict.items/keys\nwill more readable.\n2.In py2, the performance about list should be negligible,\nsee the link [2].\n[1] https://wiki.openstack.org/wiki/Python3#Common_patterns\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: I45c58df5c7457aec419074e4719ef63fb7a0d0b9\n'}, {'number': 2, 'created': '2018-02-26 11:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/4f35b15ad92a6fe07505b994f0d11c5983a99dc9', 'message': 'Replace six.iteritems() with dict.items() in python-magnumclient\n\n1.As mentioned in [1], we should avoid using six.iteritems\nto achieve iterators. We can use dict.items instead, as it\nwill return iterators in PY3 as well. And dict.items/keys\nwill more readable.\n2.In py2, the performance about list should be negligible,\nsee the link [2].\n[1] https://wiki.openstack.org/wiki/Python3#Common_patterns\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: I45c58df5c7457aec419074e4719ef63fb7a0d0b9\n'}]",0,491372,4f35b15ad92a6fe07505b994f0d11c5983a99dc9,12,4,2,25432,,,0,"Replace six.iteritems() with dict.items() in python-magnumclient

1.As mentioned in [1], we should avoid using six.iteritems
to achieve iterators. We can use dict.items instead, as it
will return iterators in PY3 as well. And dict.items/keys
will more readable.
2.In py2, the performance about list should be negligible,
see the link [2].
[1] https://wiki.openstack.org/wiki/Python3#Common_patterns
[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html

Change-Id: I45c58df5c7457aec419074e4719ef63fb7a0d0b9
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/72/491372/1 && git format-patch -1 --stdout FETCH_HEAD,['magnumclient/tests/osc/unit/osc_fakes.py'],1,a0b339b0b1982b164041ae32e853d97ead681aa0,," for (k, v) in info.items(): for (name, ret) in methods.items():"," for (k, v) in six.iteritems(info): for (name, ret) in six.iteritems(methods):",2,2
openstack%2Ftaskflow~stable%2Fqueens~If6d19bc9fcf1f1813cb087d42dc7ba6a61c71b3d,openstack/taskflow,stable/queens,If6d19bc9fcf1f1813cb087d42dc7ba6a61c71b3d,Fix invalid json unit test,MERGED,2018-02-18 11:24:00.000000000,2018-02-26 11:51:54.000000000,2018-02-26 11:51:54.000000000,"[{'_account_id': 6928}, {'_account_id': 9796}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-18 11:24:00.000000000', 'files': ['taskflow/tests/unit/worker_based/test_protocol.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/50897c0b0a5d389f1571d4079e10643ab537fa53', 'message': 'Fix invalid json unit test\n\nRecent versions of oslo.serialization have made it possible to dump\nexceptions to JSON, which broke a unit test in taskflow that\nassumed exceptions were unserializable.  This change switches to an\nexplicitly unserializable class for that test.\n\nChange-Id: If6d19bc9fcf1f1813cb087d42dc7ba6a61c71b3d\nCloses-Bug: 1748241\n(cherry picked from commit 44ce6eae918d44c0ee85998d0526e916dee8de26)\n'}]",0,545674,50897c0b0a5d389f1571d4079e10643ab537fa53,11,4,1,11904,,,0,"Fix invalid json unit test

Recent versions of oslo.serialization have made it possible to dump
exceptions to JSON, which broke a unit test in taskflow that
assumed exceptions were unserializable.  This change switches to an
explicitly unserializable class for that test.

Change-Id: If6d19bc9fcf1f1813cb087d42dc7ba6a61c71b3d
Closes-Bug: 1748241
(cherry picked from commit 44ce6eae918d44c0ee85998d0526e916dee8de26)
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/74/545674/1 && git format-patch -1 --stdout FETCH_HEAD,['taskflow/tests/unit/worker_based/test_protocol.py'],1,50897c0b0a5d389f1571d4079e10643ab537fa53,bug/1748241-stable/queens,class Unserializable(object): pass exc = RuntimeError(Unserializable())," exc = RuntimeError(Exception(""I am not valid JSON""))",5,1
openstack%2Fpython-magnumclient~master~I0b9b241c7940f231c07419cad3674c1486a8418b,openstack/python-magnumclient,master,I0b9b241c7940f231c07419cad3674c1486a8418b,"Revert ""Replace six.iteritems() with dict.items() in python-magnumclient""",ABANDONED,2018-02-26 11:49:18.000000000,2018-02-26 11:49:31.000000000,,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 22348}, {'_account_id': 25432}]","[{'number': 1, 'created': '2018-02-26 11:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/8f8b7691782b1794b731683ee06a5ceaa49ab97f', 'message': 'Revert ""Replace six.iteritems() with dict.items() in python-magnumclient""\n\nThis reverts commit 4f35b15ad92a6fe07505b994f0d11c5983a99dc9.\n\nChange-Id: I0b9b241c7940f231c07419cad3674c1486a8418b\n'}]",0,548002,8f8b7691782b1794b731683ee06a5ceaa49ab97f,2,4,1,20498,,,0,"Revert ""Replace six.iteritems() with dict.items() in python-magnumclient""

This reverts commit 4f35b15ad92a6fe07505b994f0d11c5983a99dc9.

Change-Id: I0b9b241c7940f231c07419cad3674c1486a8418b
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/02/548002/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,8f8b7691782b1794b731683ee06a5ceaa49ab97f,,,,0,0
openstack%2Fpython-magnumclient~master~Id9c21c3a603266d6bd32fd744cb3167b01473127,openstack/python-magnumclient,master,Id9c21c3a603266d6bd32fd744cb3167b01473127,"OSC command for ca-show, ca-sign, ca-roatate and stats-list",MERGED,2017-09-14 05:11:18.000000000,2018-02-26 11:46:14.000000000,2018-02-26 11:31:33.000000000,"[{'_account_id': 9995}, {'_account_id': 10206}, {'_account_id': 20401}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 27060}, {'_account_id': 27577}]","[{'number': 1, 'created': '2017-09-14 05:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/80f5cd7c071de18f7b5927d69bb149ec67fdec6b', 'message': 'OSC command for ca-show, ca-sign, ca-roatate and stats-list\n\nImplemented Openstack command for ca-show, ca-sign, ca-rotate\nand stats-list.\n\nChange-Id: Id9c21c3a603266d6bd32fd744cb3167b01473127\nPartially-Implements: blueprint deprecate-magnum-client\n'}, {'number': 2, 'created': '2017-09-26 07:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/1b434eab27b9d3a907cc6afd4dac20484122a6be', 'message': 'OSC command for ca-show, ca-sign, ca-roatate and stats-list\n\nImplemented Openstack command for ca-show, ca-sign, ca-rotate\nand stats-list.\n\nChange-Id: Id9c21c3a603266d6bd32fd744cb3167b01473127\nPartially-Implements: blueprint deprecate-magnum-client\n'}, {'number': 3, 'created': '2017-09-26 07:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/a097e2ffb305b40aa866489b940da8dc2c450a9a', 'message': 'OSC command for ca-show, ca-sign, ca-roatate and stats-list\n\nImplemented Openstack command for ca-show, ca-sign, ca-rotate\nand stats-list.\n\nChange-Id: Id9c21c3a603266d6bd32fd744cb3167b01473127\nPartially-Implements: blueprint deprecate-magnum-client\n'}, {'number': 4, 'created': '2017-09-26 07:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/f51a415b8d31e936028e76a07a754b33ee9447bb', 'message': 'OSC command for ca-show, ca-sign, ca-roatate and stats-list\n\nImplemented Openstack command for ca-show, ca-sign, ca-rotate\nand stats-list.\n\nChange-Id: Id9c21c3a603266d6bd32fd744cb3167b01473127\nPartially-Implements: blueprint deprecate-magnum-client\n'}, {'number': 5, 'created': '2017-09-29 12:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/0214cc8b17367fa51b55ff925e4277353b55db3c', 'message': 'OSC command for ca-show, ca-sign, ca-roatate and stats-list\n\nImplemented Openstack command for ca-show, ca-sign, ca-rotate\nand stats-list.\n\nChange-Id: Id9c21c3a603266d6bd32fd744cb3167b01473127\nPartially-Implements: blueprint deprecate-magnum-client\n'}, {'number': 6, 'created': '2017-10-05 13:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/11cf4d00d255751cddbe4fa88f9f70d22b30f1bc', 'message': 'OSC command for ca-show, ca-sign, ca-roatate and stats-list\n\nImplemented Openstack command for ca-show, ca-sign, ca-rotate\nand stats-list.\n\nChange-Id: Id9c21c3a603266d6bd32fd744cb3167b01473127\nPartially-Implements: blueprint deprecate-magnum-client\n'}, {'number': 7, 'created': '2018-01-11 15:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/8a366a0182862aca2a2e57b13506d6b3d0149051', 'message': 'OSC command for ca-show, ca-sign, ca-roatate and stats-list\n\nImplemented Openstack command for ca-show, ca-sign, ca-rotate\nand stats-list.\n\nChange-Id: Id9c21c3a603266d6bd32fd744cb3167b01473127\nPartially-Implements: blueprint deprecate-magnum-client\n'}, {'number': 8, 'created': '2018-01-11 15:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/cbc565aa3d816d164aafc332c27adaff772cadfa', 'message': 'OSC command for ca-show, ca-sign, ca-roatate and stats-list\n\nImplemented Openstack command for ca-show, ca-sign, ca-rotate\nand stats-list.\n\nChange-Id: Id9c21c3a603266d6bd32fd744cb3167b01473127\nPartially-Implements: blueprint deprecate-magnum-client\n'}, {'number': 9, 'created': '2018-02-23 14:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/977a0f26ffc252d0c515a3e0d1fccefa66f66616', 'message': 'OSC command for ca-show, ca-sign, ca-roatate and stats-list\n\nImplemented Openstack command for ca-show, ca-sign, ca-rotate\nand stats-list.\n\nChange-Id: Id9c21c3a603266d6bd32fd744cb3167b01473127\nPartially-Implements: blueprint deprecate-magnum-client\n'}, {'number': 10, 'created': '2018-02-26 10:21:28.000000000', 'files': ['magnumclient/osc/v1/certificates.py', 'magnumclient/tests/test_csr/test.csr', 'magnumclient/tests/osc/unit/v1/test_stats.py', 'magnumclient/osc/v1/stats.py', 'magnumclient/tests/osc/unit/v1/fakes.py', 'magnumclient/tests/osc/unit/v1/test_certificates.py', 'setup.cfg', 'releasenotes/notes/partial_osc_implementation_for_certificate-4597c20b59c152e1.yaml'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/ec33c56a236c28879509f04523af8e69303b21c6', 'message': 'OSC command for ca-show, ca-sign, ca-roatate and stats-list\n\nImplemented Openstack command for ca-show, ca-sign, ca-rotate\nand stats-list.\n\nChange-Id: Id9c21c3a603266d6bd32fd744cb3167b01473127\nPartially-Implements: blueprint deprecate-magnum-client\n'}]",0,503952,ec33c56a236c28879509f04523af8e69303b21c6,33,7,10,20401,,,0,"OSC command for ca-show, ca-sign, ca-roatate and stats-list

Implemented Openstack command for ca-show, ca-sign, ca-rotate
and stats-list.

Change-Id: Id9c21c3a603266d6bd32fd744cb3167b01473127
Partially-Implements: blueprint deprecate-magnum-client
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/52/503952/8 && git format-patch -1 --stdout FETCH_HEAD,"['magnumclient/osc/v1/certificates.py', 'magnumclient/tests/test_csr/test.csr', 'magnumclient/tests/osc/unit/v1/test_stats.py', 'magnumclient/osc/v1/stats.py', 'magnumclient/tests/osc/unit/v1/fakes.py', 'magnumclient/tests/osc/unit/v1/test_certificates.py', 'setup.cfg', 'releasenotes/notes/partial_osc_implementation_for_certificate-4597c20b59c152e1.yaml']",8,80f5cd7c071de18f7b5927d69bb149ec67fdec6b,bp/deprecate-magnum-client,"--- features: - | Implemented Openstack command for ca-show, ca-sign, ca-rotate and stats-list. ",,375,1
openstack%2Fmagnum-ui~master~I07ff0dcc8f9059992e28caa0f93a174f929a5636,openstack/magnum-ui,master,I07ff0dcc8f9059992e28caa0f93a174f929a5636,Imported Translations from Zanata,MERGED,2018-02-24 06:41:49.000000000,2018-02-26 11:45:35.000000000,2018-02-26 11:45:35.000000000,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-24 06:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/4c646462f08859b8e94e1a434aff486e1e97bcc7', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I07ff0dcc8f9059992e28caa0f93a174f929a5636\n'}, {'number': 2, 'created': '2018-02-26 06:43:11.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'magnum_ui/locale/fr/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/baf68774e9981c717a098f5863f7663dd3313540', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I07ff0dcc8f9059992e28caa0f93a174f929a5636\n'}]",0,547720,baf68774e9981c717a098f5863f7663dd3313540,8,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I07ff0dcc8f9059992e28caa0f93a174f929a5636
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/20/547720/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,4c646462f08859b8e94e1a434aff486e1e97bcc7,zanata/translations,"""POT-Creation-Date: 2018-02-23 09:00+0000\n""""PO-Revision-Date: 2018-02-23 01:07+0000\n""msgid ""4.0.0"" msgstr ""4.0.0"" msgid ""Queens Series Release Notes"" msgstr ""Queens Series Release Notes"" ","""POT-Creation-Date: 2018-02-22 17:10+0000\n""""PO-Revision-Date: 2018-02-01 01:07+0000\n""",8,2
openstack%2Fsenlin-dashboard~master~Ie788990e62d32b02cbfeb23b7179f24abb4bcc7f,openstack/senlin-dashboard,master,Ie788990e62d32b02cbfeb23b7179f24abb4bcc7f,Update home-page url,MERGED,2018-02-25 17:30:55.000000000,2018-02-26 11:45:23.000000000,2018-02-26 11:45:23.000000000,"[{'_account_id': 16352}, {'_account_id': 17656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-25 17:30:55.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/ce6963c785c2cac4e9ae5dd7f35b50b560a1fb41', 'message': 'Update home-page url\n\nThe url of home-page is out of date. We need update it.\n\nChange-Id: Ie788990e62d32b02cbfeb23b7179f24abb4bcc7f\n'}]",0,547847,ce6963c785c2cac4e9ae5dd7f35b50b560a1fb41,7,3,1,17130,,,0,"Update home-page url

The url of home-page is out of date. We need update it.

Change-Id: Ie788990e62d32b02cbfeb23b7179f24abb4bcc7f
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/47/547847/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ce6963c785c2cac4e9ae5dd7f35b50b560a1fb41,home-page,home-page = https://docs.openstack.org/senlin-dashboard/latest/,home-page = https://docs.openstack.org/developer/senlin/,1,1
openstack%2Fopenstack-ansible-os_octavia~stable%2Fqueens~I9b0239a9a24861734badbe874dc3e1139d7100c6,openstack/openstack-ansible-os_octavia,stable/queens,I9b0239a9a24861734badbe874dc3e1139d7100c6,Skip logging for haproxy health checks,MERGED,2018-02-25 21:04:24.000000000,2018-02-26 11:42:51.000000000,2018-02-26 11:42:51.000000000,"[{'_account_id': 6816}, {'_account_id': 10850}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-25 21:04:24.000000000', 'files': ['templates/octavia-uwsgi.ini.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/c4cdbc5f36c43591cf729a5ce0f2a1e605c30be0', 'message': 'Skip logging for haproxy health checks\n\nThe health check requests from haproxy cause uwsgi to write a\nlot of useless log lines. This can make it more difficult to find\na problem with a particular service.\n\nThis patch adds a route to look for the `osa-haproxy-healthcheck`\nuser agent string, which haproxy uses when performing health checks.\nAny requests with that user agent are not logged.\n\nCloses-Bug: 1742718\nChange-Id: I9b0239a9a24861734badbe874dc3e1139d7100c6\n(cherry picked from commit e4d5cd0da7c535e7b235c5e9ab4899efb2a5c8e6)\n'}]",0,547860,c4cdbc5f36c43591cf729a5ce0f2a1e605c30be0,7,3,1,538,,,0,"Skip logging for haproxy health checks

The health check requests from haproxy cause uwsgi to write a
lot of useless log lines. This can make it more difficult to find
a problem with a particular service.

This patch adds a route to look for the `osa-haproxy-healthcheck`
user agent string, which haproxy uses when performing health checks.
Any requests with that user agent are not logged.

Closes-Bug: 1742718
Change-Id: I9b0239a9a24861734badbe874dc3e1139d7100c6
(cherry picked from commit e4d5cd0da7c535e7b235c5e9ab4899efb2a5c8e6)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/60/547860/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/octavia-uwsgi.ini.j2'],1,c4cdbc5f36c43591cf729a5ce0f2a1e605c30be0,bug/1742718-stable/queens, # Avoid filling up the logs with health check requests from haproxy. route-user-agent = ^osa-haproxy-healthcheck$ donotlog:,,3,0
openstack%2Foctavia-tempest-plugin~master~If9595e6317e4d5fa18d5b41973c1c6d73bd6309d,openstack/octavia-tempest-plugin,master,If9595e6317e4d5fa18d5b41973c1c6d73bd6309d,[WIP] Adding frontend_network_id and frontend_subnet_id parameters,NEW,2018-02-26 10:53:20.000000000,2018-02-26 11:39:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-26 10:53:20.000000000', 'files': ['octavia_tempest_plugin/tests/v2/scenario/test_basic_ops.py', 'octavia_tempest_plugin/config.py', 'octavia_tempest_plugin/tests/v2/base.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/273fc8d6faff2aa7f270e8ea294cc77f33205f1e', 'message': '[WIP] Adding frontend_network_id and frontend_subnet_id parameters\n\nChange-Id: If9595e6317e4d5fa18d5b41973c1c6d73bd6309d\nPartiallly-Implements: bp l3-active-active\n'}]",0,547982,273fc8d6faff2aa7f270e8ea294cc77f33205f1e,2,1,1,20226,,,0,"[WIP] Adding frontend_network_id and frontend_subnet_id parameters

Change-Id: If9595e6317e4d5fa18d5b41973c1c6d73bd6309d
Partiallly-Implements: bp l3-active-active
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/82/547982/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/v2/scenario/test_basic_ops.py', 'octavia_tempest_plugin/config.py', 'octavia_tempest_plugin/tests/v2/base.py']",3,273fc8d6faff2aa7f270e8ea294cc77f33205f1e,bp/l3-active-active," # frontend if not CONF.loadbalancer.frontend_network_id: network_name = data_utils.rand_name( 'network', prefix=cls.name_prefix ) body = cls.networks_client.create_network(name=network_name) cls.frontend_network_id = body['network']['id'] cls.addClassResourceCleanup( test_utils.call_and_ignore_notfound_exc, cls.networks_client.delete_network, cls.frontend_network_id ) subnet_name = data_utils.rand_name( 'subnet', prefix=cls.name_prefix ) body = cls.subnets_client.create_subnet( name=subnet_name, network_id=cls.vip_network_id, cidr='10.100.2.0/24', ip_version=4, gateway_ip='10.100.2.1', ) cls.frontend_subnet_id = body['subnet']['id'] cls.addClassResourceCleanup( test_utils.call_and_ignore_notfound_exc, cls.subnets_client.delete_subnet, cls.frontend_subnet_id ) if CONF.validation.connect_method == 'floating': router_name = data_utils.rand_name( 'router', prefix=cls.name_prefix ) kwargs = { 'name': router_name, 'tenant_id': cls.tenant_id } if CONF.network.public_network_id: kwargs['external_gateway_info'] = dict( network_id=CONF.network.public_network_id ) body = cls.routers_adm_client.create_router(**kwargs) cls.router_id = body['router']['id'] cls.addClassResourceCleanup( test_utils.call_and_ignore_notfound_exc, cls.routers_adm_client.delete_router, cls.router_id, ) cls.routers_adm_client.add_router_interface( cls.router_id, subnet_id=cls.frontend_subnet_id ) cls.addClassResourceCleanup( test_utils.call_and_ignore_notfound_exc, cls.routers_adm_client.remove_router_interface, cls.router_id, subnet_id=cls.frontend_subnet_id ) else: cls.frontend_network_id = CONF.loadbalancer.frontend_network_id cls.frontend_subnet_id = CONF.loadbalancer.frontend_subnet_id ",,77,1
openstack%2Ffuel-devops~master~Id28f442959594aa5d6bb5c1d15e4f0880653070d,openstack/fuel-devops,master,Id28f442959594aa5d6bb5c1d15e4f0880653070d,Avoid race condition using parallel fuel-devops env manipulations,MERGED,2018-02-18 00:40:27.000000000,2018-02-26 11:30:38.000000000,2018-02-26 11:30:38.000000000,"[{'_account_id': 11969}, {'_account_id': 19119}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-02-18 00:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-devops/commit/35c8669306522e0ffa9f04a82ff53bc59bc1a1ea', 'message': ""Avoid race condition using parallel fuel-devops env manipulations\n\nIf multiple processes are creating/erasing different fuel-devops\nenvironments at the same time, there can be race condition during\nlibvirt object creation/deletion like:\n'bridge virbr3 already exists' and others.\n\nThis patch allows to use a lock file to avoid such situation:\nexport DEVOPS_LOCK_FILE=/run/lock/devops_lock\n\nIf the environment variable DEVOPS_LOCK_FILE is not set, then\nthe lock file is not used (backward compatibility to avoid any\nerrors caused by using the lock file by default).\n\nChange-Id: Id28f442959594aa5d6bb5c1d15e4f0880653070d\n""}, {'number': 2, 'created': '2018-02-18 00:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-devops/commit/21ac88b179a80619e10d6314a30bc5987fc81448', 'message': ""Avoid race condition using parallel fuel-devops env manipulations\n\nIf multiple processes are creating/erasing different fuel-devops\nenvironments at the same time, there can be race condition during\nlibvirt object creation/deletion like:\n'bridge virbr3 already exists' and others.\n\nThis patch allows to use a lock file to avoid such situation:\nexport DEVOPS_LOCK_FILE=/run/lock/devops_lock\n\nIf the environment variable DEVOPS_LOCK_FILE is not set, then\nthe lock file is not used (backward compatibility to avoid any\nerrors caused by using the lock file by default).\n\nChange-Id: Id28f442959594aa5d6bb5c1d15e4f0880653070d\n""}, {'number': 3, 'created': '2018-02-25 12:55:49.000000000', 'files': ['.gitignore', 'devops/settings.py', 'setup.py', 'devops/helpers/decorators.py', 'devops/tests/helpers/test_decorators.py', 'devops/models/environment.py'], 'web_link': 'https://opendev.org/openstack/fuel-devops/commit/cce44f4784b4e95a65db9edd0ba72988ad6ee2b7', 'message': ""Avoid race condition using parallel fuel-devops env manipulations\n\nIf multiple processes are creating/erasing different fuel-devops\nenvironments at the same time, there can be race condition during\nlibvirt object creation/deletion like:\n'bridge virbr3 already exists' and others.\n\nThis patch allows to use a lock file to avoid such situation:\nexport DEVOPS_LOCK_FILE=/run/lock/devops_lock\n\nIf the environment variable DEVOPS_LOCK_FILE is not set, then\nthe lock file is not used (backward compatibility to avoid any\nerrors caused by using the lock file by default).\n\nChange-Id: Id28f442959594aa5d6bb5c1d15e4f0880653070d\n""}]",2,545645,cce44f4784b4e95a65db9edd0ba72988ad6ee2b7,13,4,3,11969,,,0,"Avoid race condition using parallel fuel-devops env manipulations

If multiple processes are creating/erasing different fuel-devops
environments at the same time, there can be race condition during
libvirt object creation/deletion like:
'bridge virbr3 already exists' and others.

This patch allows to use a lock file to avoid such situation:
export DEVOPS_LOCK_FILE=/run/lock/devops_lock

If the environment variable DEVOPS_LOCK_FILE is not set, then
the lock file is not used (backward compatibility to avoid any
errors caused by using the lock file by default).

Change-Id: Id28f442959594aa5d6bb5c1d15e4f0880653070d
",git fetch https://review.opendev.org/openstack/fuel-devops refs/changes/45/545645/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'devops/settings.py', 'setup.py', 'devops/helpers/decorators.py', 'devops/tests/helpers/test_decorators.py', 'devops/models/environment.py']",6,35c8669306522e0ffa9f04a82ff53bc59bc1a1ea,,from devops.helpers import decorators @decorators.proc_lock() @decorators.proc_lock() @decorators.proc_lock() @decorators.proc_lock() @decorators.proc_lock(),,128,1
openstack%2Freleases~master~I8cdbf160c5895b2be8d1da28e8a98afb2005a921,openstack/releases,master,I8cdbf160c5895b2be8d1da28e8a98afb2005a921,Congress Q cycle highlights,MERGED,2018-02-23 20:18:37.000000000,2018-02-26 11:29:53.000000000,2018-02-26 11:29:52.000000000,"[{'_account_id': 11904}, {'_account_id': 18591}, {'_account_id': 21561}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 20:18:37.000000000', 'files': ['deliverables/queens/congress.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1d1c5dd8e4bbaa07c6645cba97d0099d16b6a93b', 'message': 'Congress Q cycle highlights\n\nChange-Id: I8cdbf160c5895b2be8d1da28e8a98afb2005a921\n'}]",2,547658,1d1c5dd8e4bbaa07c6645cba97d0099d16b6a93b,10,4,1,18591,,,0,"Congress Q cycle highlights

Change-Id: I8cdbf160c5895b2be8d1da28e8a98afb2005a921
",git fetch https://review.opendev.org/openstack/releases refs/changes/58/547658/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/congress.yaml'],1,1d1c5dd8e4bbaa07c6645cba97d0099d16b6a93b,Q-congress,"cycle-highlights: - 'Mistral Integration: Congress can now trigger workflows according to operator-defined policy. From sending emails to running ansible playbooks, Congress and Mistral can take infrastructure automation and fault-recovery to the next level.' - 'Config Validation: To help operators catch improper, insecure, or incompatible configurations across the Stack, the new configuration validation facility enables Congress to monitor service configurations according to policy.' - 'Tag-based Security: To help operators secure and manage self-service infrastructure, Congress now supports enforcement of application-based network security policies based on tags and other semantic information.' - 'Bug Fixes: As with every release, we continue to make Congress more robust and stable than ever.'",,13,0
openstack%2Foslo.messaging~stable%2Fqueens~Ib3483bb9f4a8a6c45cac7b0d281f4843a62c23d3,openstack/oslo.messaging,stable/queens,Ib3483bb9f4a8a6c45cac7b0d281f4843a62c23d3,DNM: test telemetry fix,ABANDONED,2018-02-26 11:17:44.000000000,2018-02-26 11:27:09.000000000,,[],"[{'number': 1, 'created': '2018-02-26 11:17:44.000000000', 'files': ['playbooks/oslo.messaging-telemetry-dsvm-integration-rabbit/run.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/f69b035a35c7231f69f872686d4aaec724b2eacf', 'message': 'DNM: test telemetry fix\n\nChange-Id: Ib3483bb9f4a8a6c45cac7b0d281f4843a62c23d3\n'}]",0,547989,f69b035a35c7231f69f872686d4aaec724b2eacf,2,0,1,8770,,,0,"DNM: test telemetry fix

Change-Id: Ib3483bb9f4a8a6c45cac7b0d281f4843a62c23d3
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/89/547989/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/oslo.messaging-telemetry-dsvm-integration-rabbit/run.yaml'],1,f69b035a35c7231f69f872686d4aaec724b2eacf,fix-rabbit-telemetry," export PROJECTS=""openstack/ceilometer openstack/aodh openstack/panko openstack/telemetry-tempest-plugin openstack/heat-tempest-plugin"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""TEMPEST_PLUGINS+=' /opt/stack/new/heat-tempest-plugin /opt/stack/new/telemetry-tempest-plugin'"""," export PROJECTS=""openstack/ceilometer openstack/aodh openstack/panko openstack/telemetry-tempest-plugin"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin telemetry-tempest-plugin git://git.openstack.org/openstack/telemetry-tempest-plugin""",2,2
openstack%2Freleases~master~I1f56e167476881df51ac6d2d1a19913ce4d5242a,openstack/releases,master,I1f56e167476881df51ac6d2d1a19913ce4d5242a,panko 2.0.3 (ocata-eol),MERGED,2018-02-23 14:40:51.000000000,2018-02-26 11:20:11.000000000,2018-02-26 11:20:11.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 14:40:51.000000000', 'files': ['deliverables/ocata/panko.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/17bea9b5b02612b1d7156460e8b1a86c504031fd', 'message': 'panko 2.0.3 (ocata-eol)\n\nChange-Id: I1f56e167476881df51ac6d2d1a19913ce4d5242a\n'}]",0,547445,17bea9b5b02612b1d7156460e8b1a86c504031fd,6,2,1,6537,,,0,"panko 2.0.3 (ocata-eol)

Change-Id: I1f56e167476881df51ac6d2d1a19913ce4d5242a
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/547445/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/panko.yaml'],1,17bea9b5b02612b1d7156460e8b1a86c504031fd,panko-ocata, - version: 2.0.3 projects: - repo: openstack/panko hash: 7ef01c41dc3b61f8658632535204f6b7233f7701,,4,0
openstack%2Fswift~master~I9cc610bffb2aa9a2f2b05f4c49e574ab56d05201,openstack/swift,master,I9cc610bffb2aa9a2f2b05f4c49e574ab56d05201,Tighten up assertions around expirer's concurrency,MERGED,2018-02-22 19:16:26.000000000,2018-02-26 11:13:12.000000000,2018-02-26 11:13:12.000000000,"[{'_account_id': 1179}, {'_account_id': 4608}, {'_account_id': 14766}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-22 19:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2fd852a226e1b3c5326ad6f07d5ca5e6060583d3', 'message': ""Tighten up assertions around expirer's concurrency\n\nIn particular, test that each work item is only done *once*.\n\nChange-Id: I9cc610bffb2aa9a2f2b05f4c49e574ab56d05201\nRelated-Change: Ic0075a3718face8c509ed0524b63d9171f5b7d7a\n""}, {'number': 2, 'created': '2018-02-22 19:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/01ab36d888406a2119f7756e32799138eeb4609f', 'message': ""Tighten up assertions around expirer's concurrency\n\nIn particular, test that each work item is only done *once*.\n\nChange-Id: I9cc610bffb2aa9a2f2b05f4c49e574ab56d05201\nRelated-Change: Ic0075a3718face8c509ed0524b63d9171f5b7d7a\n""}, {'number': 3, 'created': '2018-02-26 10:37:40.000000000', 'files': ['test/unit/obj/test_expirer.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/25540a415e7e36bb08a01a14ca41e2d7591e62cb', 'message': ""Tighten up assertions around expirer's concurrency\n\nIn particular, test that each work item is only done *once*.\n\nChange-Id: I9cc610bffb2aa9a2f2b05f4c49e574ab56d05201\nRelated-Change: Ic0075a3718face8c509ed0524b63d9171f5b7d7a\n""}]",0,547114,25540a415e7e36bb08a01a14ca41e2d7591e62cb,12,4,3,15343,,,0,"Tighten up assertions around expirer's concurrency

In particular, test that each work item is only done *once*.

Change-Id: I9cc610bffb2aa9a2f2b05f4c49e574ab56d05201
Related-Change: Ic0075a3718face8c509ed0524b63d9171f5b7d7a
",git fetch https://review.opendev.org/openstack/swift refs/changes/14/547114/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/obj/test_expirer.py'],1,2fd852a226e1b3c5326ad6f07d5ca5e6060583d3,547114," deleted_objects = defaultdict(set) # reset progress so we know we don't double-up work among processes x.deleted_objects = defaultdict(set) for task_container, deleted in x.deleted_objects.items(): self.assertFalse(deleted_objects[task_container] & deleted) deleted_objects[task_container] |= deleted"," deleted_objects = {} self.assertNotEqual(deleted_objects, x.deleted_objects) deleted_objects = deepcopy(x.deleted_objects)",6,3
openstack%2Fswift~master~Ic0075a3718face8c509ed0524b63d9171f5b7d7a,openstack/swift,master,Ic0075a3718face8c509ed0524b63d9171f5b7d7a,Remove confusing assertion from expirer's unit test,MERGED,2018-02-13 04:08:53.000000000,2018-02-26 11:13:08.000000000,2018-02-26 11:13:08.000000000,"[{'_account_id': 4608}, {'_account_id': 7233}, {'_account_id': 14766}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-13 04:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/43a9af08f0286d8484de3bf22cc66b38c342c4b6', 'message': ""Remove confusing assertion from expirer's unit test\n\nIn test_expirer.TestObjectExpirer.test_process_based_concurrency,\nan assertion checks that expirer execute tasks in round-robin order\nfor target containers. But the assertion depends on task object path,\nbecause task assignation for each process depends on md5 of task\nobject path. The dependency makes the assetion confusing.\n\nNow, we have test_expirer.TestObjectExpirer.test_round_robin_order which\nis added in [1]. So this patch remove the confusing assertion.\n\nThis patch will help to refactor expirer's task object parsing.\nI will push patch for the refactoring after this patch.\n\n[1]: https://review.openstack.org/#/c/538171\n\nChange-Id: Ic0075a3718face8c509ed0524b63d9171f5b7d7a\n""}, {'number': 2, 'created': '2018-02-13 04:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/12989342af5352b4f906457e64d2d76e5b5cdc50', 'message': ""Remove confusing assertion from expirer's unit test\n\nIn test_expirer.TestObjectExpirer.test_process_based_concurrency,\nan assertion checks that expirer execute tasks in round-robin order\nfor target containers. But the assertion depends on task object path,\nbecause task assignation for each process depends on md5 of task\nobject path. The dependency makes the assetion confusing.\n\nNow, we have test_expirer.TestObjectExpirer.test_round_robin_order which\nis added in [1]. So this patch remove the confusing assertion.\n\nThis patch will help to refactor expirer's task object parsing.\nI will push patch for the refactoring after this patch.\n\n[1]: https://review.openstack.org/#/c/538171\n\nChange-Id: Ic0075a3718face8c509ed0524b63d9171f5b7d7a\n""}, {'number': 3, 'created': '2018-02-22 19:16:26.000000000', 'files': ['test/unit/obj/test_expirer.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/58f5d89066adbd54403ad315ffe1f9b2f05aa583', 'message': ""Remove confusing assertion from expirer's unit test\n\nIn test_expirer.TestObjectExpirer.test_process_based_concurrency,\nan assertion checks that expirer execute tasks in round-robin order\nfor target containers. But the assertion depends on task object path,\nbecause task assignation for each process depends on md5 of task\nobject path. The dependency makes the assetion confusing.\n\nNow, we have test_expirer.TestObjectExpirer.test_round_robin_order which\nis added in [1]. So this patch remove the confusing assertion.\n\nThis patch will help to refactor expirer's task object parsing.\nI will push patch for the refactoring after this patch.\n\n[1]: https://review.openstack.org/#/c/538171\n\nChange-Id: Ic0075a3718face8c509ed0524b63d9171f5b7d7a\n""}]",2,543784,58f5d89066adbd54403ad315ffe1f9b2f05aa583,13,5,3,14766,,,0,"Remove confusing assertion from expirer's unit test

In test_expirer.TestObjectExpirer.test_process_based_concurrency,
an assertion checks that expirer execute tasks in round-robin order
for target containers. But the assertion depends on task object path,
because task assignation for each process depends on md5 of task
object path. The dependency makes the assetion confusing.

Now, we have test_expirer.TestObjectExpirer.test_round_robin_order which
is added in [1]. So this patch remove the confusing assertion.

This patch will help to refactor expirer's task object parsing.
I will push patch for the refactoring after this patch.

[1]: https://review.openstack.org/#/c/538171

Change-Id: Ic0075a3718face8c509ed0524b63d9171f5b7d7a
",git fetch https://review.opendev.org/openstack/swift refs/changes/84/543784/2 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/obj/test_expirer.py'],1,43a9af08f0286d8484de3bf22cc66b38c342c4b6,fix_expirer_process_based_concurrency_test," '0': set('1-a/c/one 2-a/c/two 3-a/c/three'.split()), '1': set('2-a/c/two 3-a/c/three 4-a/c/four'.split()), '2': set('5-a/c/five 6-a/c/six'.split()), '3': set(u'7-a/c/seven\u2661'.split()),"," self.obj_containers_in_order = [] self.obj_containers_in_order.append(container) '0': set('1-one 2-two 3-three'.split()), '1': set('2-two 3-three 4-four'.split()), '2': set('5-five 6-six'.split()), '3': set(u'7-seven\u2661'.split()), self.assertEqual(len(set(x.obj_containers_in_order[:4])), 4)",4,7
openstack%2Fkeystone~master~I94ad9d2d79d9b1b187547d8129b617f7b919d8bb,openstack/keystone,master,I94ad9d2d79d9b1b187547d8129b617f7b919d8bb,Correct typo in identity API reference,MERGED,2018-02-26 09:26:44.000000000,2018-02-26 11:13:01.000000000,2018-02-26 11:13:01.000000000,"[{'_account_id': 5046}, {'_account_id': 5707}, {'_account_id': 8866}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-26 09:26:44.000000000', 'files': ['api-ref/source/v3/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/615ee81b8aa0ec834dcf6264884ab92297da4634', 'message': 'Correct typo in identity API reference\n\nThis corrects a simple typo in the unified limits API reference.\n\nChange-Id: I94ad9d2d79d9b1b187547d8129b617f7b919d8bb\n'}]",0,547951,615ee81b8aa0ec834dcf6264884ab92297da4634,8,5,1,9098,,,0,"Correct typo in identity API reference

This corrects a simple typo in the unified limits API reference.

Change-Id: I94ad9d2d79d9b1b187547d8129b617f7b919d8bb
",git fetch https://review.opendev.org/openstack/keystone refs/changes/51/547951/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/parameters.yaml'],1,615ee81b8aa0ec834dcf6264884ab92297da4634,api-typo, The default limit for the registered limit., The defalut limit for the registered limit.,1,1
openstack%2Fkeystone~master~I46d6715129845dbfad47475fc826f4bb7927f76a,openstack/keystone,master,I46d6715129845dbfad47475fc826f4bb7927f76a,Imported Translations from Zanata,MERGED,2018-02-26 06:37:48.000000000,2018-02-26 11:12:53.000000000,2018-02-26 11:12:53.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-26 06:37:48.000000000', 'files': ['keystone/locale/es/LC_MESSAGES/keystone.po', 'keystone/locale/zh_TW/LC_MESSAGES/keystone.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'keystone/locale/pt_BR/LC_MESSAGES/keystone.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'keystone/locale/ko_KR/LC_MESSAGES/keystone.po', 'keystone/locale/fr/LC_MESSAGES/keystone.po', 'keystone/locale/zh_CN/LC_MESSAGES/keystone.po', 'keystone/locale/ru/LC_MESSAGES/keystone.po', 'keystone/locale/ja/LC_MESSAGES/keystone.po', 'keystone/locale/tr_TR/LC_MESSAGES/keystone.po', 'keystone/locale/de/LC_MESSAGES/keystone.po', 'keystone/locale/it/LC_MESSAGES/keystone.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/keystone/commit/149753348c07fb48d061d21361bec3e5a772aefb', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I46d6715129845dbfad47475fc826f4bb7927f76a\n'}]",0,547901,149753348c07fb48d061d21361bec3e5a772aefb,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I46d6715129845dbfad47475fc826f4bb7927f76a
",git fetch https://review.opendev.org/openstack/keystone refs/changes/01/547901/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/locale/es/LC_MESSAGES/keystone.po', 'keystone/locale/zh_TW/LC_MESSAGES/keystone.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'keystone/locale/pt_BR/LC_MESSAGES/keystone.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'keystone/locale/ko_KR/LC_MESSAGES/keystone.po', 'keystone/locale/fr/LC_MESSAGES/keystone.po', 'keystone/locale/zh_CN/LC_MESSAGES/keystone.po', 'keystone/locale/ru/LC_MESSAGES/keystone.po', 'keystone/locale/ja/LC_MESSAGES/keystone.po', 'keystone/locale/tr_TR/LC_MESSAGES/keystone.po', 'keystone/locale/de/LC_MESSAGES/keystone.po', 'keystone/locale/it/LC_MESSAGES/keystone.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po']",14,149753348c07fb48d061d21361bec3e5a772aefb,zanata/translations,,"# Grald LONLAS <g.lonlas@gmail.com>, 2016. #zanata msgid """" msgstr """" ""Project-Id-Version: Keystone Release Notes\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2018-02-09 18:02+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2016-10-22 05:03+0000\n"" ""Last-Translator: Grald LONLAS <g.lonlas@gmail.com>\n"" ""Language-Team: French\n"" ""Language: fr\n"" ""X-Generator: Zanata 3.9.6\n"" ""Plural-Forms: nplurals=2; plural=(n > 1)\n"" msgid ""10.0.0"" msgstr ""10.0.0"" msgid ""8.0.1"" msgstr ""8.0.1"" msgid ""8.1.0"" msgstr ""8.1.0"" msgid ""9.0.0"" msgstr ""9.0.0"" msgid ""9.2.0"" msgstr ""9.2.0"" msgid ""Bug Fixes"" msgstr ""Corrections de bugs"" msgid ""Critical Issues"" msgstr ""Erreurs critiques"" msgid ""Current Series Release Notes"" msgstr ""Note de la release actuelle"" msgid ""Deprecation Notes"" msgstr ""Notes dprcies "" msgid ""Keystone Release Notes"" msgstr ""Note de release de Keystone"" msgid ""Liberty Series Release Notes"" msgstr ""Note de release pour Liberty"" msgid ""Mitaka Series Release Notes"" msgstr ""Note de release pour Mitaka"" msgid ""New Features"" msgstr ""Nouvelles fonctionnalits"" msgid ""Newton Series Release Notes"" msgstr ""Note de release pour Newton"" msgid ""Other Notes"" msgstr ""Autres notes"" msgid ""Security Issues"" msgstr ""Problmes de scurits"" msgid ""Upgrade Notes"" msgstr ""Notes de mises  jours"" msgid ""``add user to group``"" msgstr ""``add user to group``"" msgid ""``create group``"" msgstr ""``create group``"" msgid ""``create user``"" msgstr ""``create user``"" msgid ""``delete group``"" msgstr ""``delete group``"" msgid ""``delete user``"" msgstr ""``delete user``"" msgid ""``keystone/common/cache/backends/memcache_pool``"" msgstr ""``keystone/common/cache/backends/memcache_pool``"" msgid ""``keystone/common/cache/backends/mongo``"" msgstr ""``keystone/common/cache/backends/mongo``"" msgid ""``keystone/common/cache/backends/noop``"" msgstr ""``keystone/common/cache/backends/noop``"" msgid ""``keystone/contrib/admin_crud``"" msgstr ""``keystone/contrib/admin_crud``"" msgid ""``keystone/contrib/endpoint_filter``"" msgstr ""``keystone/contrib/endpoint_filter``"" msgid ""``keystone/contrib/federation``"" msgstr ""``keystone/contrib/federation``"" msgid ""``keystone/contrib/oauth1``"" msgstr ""``keystone/contrib/oauth1``"" msgid ""``keystone/contrib/revoke``"" msgstr ""``keystone/contrib/revoke``"" msgid ""``keystone/contrib/simple_cert``"" msgstr ""``keystone/contrib/simple_cert``"" msgid ""``keystone/contrib/user_crud``"" msgstr ""``keystone/contrib/user_crud``"" msgid ""``remove user from group``"" msgstr ""``remove user from group``"" msgid ""``update group``"" msgstr ""``update group``"" msgid ""``update user``"" msgstr ""``update user``"" ",369,474
openstack%2Fswift~master~I3c6fe7327f5552cc2b8f0f0e42b41f8e989a0a7e,openstack/swift,master,I3c6fe7327f5552cc2b8f0f0e42b41f8e989a0a7e,Fix the incorrect reference links,MERGED,2018-02-26 07:49:13.000000000,2018-02-26 11:12:50.000000000,2018-02-26 11:12:50.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-26 07:49:13.000000000', 'files': ['doc/source/howto_installmultinode.rst', 'doc/source/install/index.rst', 'doc/source/install/next-steps.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/5017864133b5af289f205afaf76ffe4518688b3f', 'message': 'Fix the incorrect reference links\n\nTrivialFix\n[1] is the installation guide for OpenStack components, obviously,\nwe need [1] in the docs.\n\n[1] https://docs.openstack.org/latest/install/\n\nChange-Id: I3c6fe7327f5552cc2b8f0f0e42b41f8e989a0a7e\n'}]",0,547923,5017864133b5af289f205afaf76ffe4518688b3f,6,2,1,17130,,,0,"Fix the incorrect reference links

TrivialFix
[1] is the installation guide for OpenStack components, obviously,
we need [1] in the docs.

[1] https://docs.openstack.org/latest/install/

Change-Id: I3c6fe7327f5552cc2b8f0f0e42b41f8e989a0a7e
",git fetch https://review.opendev.org/openstack/swift refs/changes/23/547923/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/howto_installmultinode.rst', 'doc/source/install/index.rst', 'doc/source/install/next-steps.rst']",3,5017864133b5af289f205afaf76ffe4518688b3f,trivialfix,`additional documentation on installing OpenStack <https://docs.openstack.org/latest/install/>`_ .,`additional documentation on installing OpenStack <http://docs.openstack.org/#install-guides>`_ .,3,3
openstack%2Fnova~master~Ibcb6bf912b3fb69c8631665fef2832906ba338aa,openstack/nova,master,Ibcb6bf912b3fb69c8631665fef2832906ba338aa,Drop compute RPC 4.x compatibility,MERGED,2018-02-12 18:51:48.000000000,2018-02-26 11:12:45.000000000,2018-02-26 11:12:45.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-02-12 18:51:48.000000000', 'files': ['nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/tests/unit/api/openstack/compute/test_server_diagnostics.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a761e57368280b6d3e931831ecd393fd5787b3ef', 'message': ""Drop compute RPC 4.x compatibility\n\nThis removes our 4.x manager proxy, dropping server-side compatibility with\npre-Queens 4.x clients. It also drops all the compatibility code from our RPC\nclient code, removing our ability to send 4.x to older nodes. Since Queens\nsupported both 4.x and 5.0, we can drop all 4.x compatibility as we know that\nN-1 nodes don't need it.\n\nChange-Id: Ibcb6bf912b3fb69c8631665fef2832906ba338aa\n""}]",6,543580,a761e57368280b6d3e931831ecd393fd5787b3ef,36,13,1,4393,,,0,"Drop compute RPC 4.x compatibility

This removes our 4.x manager proxy, dropping server-side compatibility with
pre-Queens 4.x clients. It also drops all the compatibility code from our RPC
client code, removing our ability to send 4.x to older nodes. Since Queens
supported both 4.x and 5.0, we can drop all 4.x compatibility as we know that
N-1 nodes don't need it.

Change-Id: Ibcb6bf912b3fb69c8631665fef2832906ba338aa
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/543580/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/tests/unit/api/openstack/compute/test_server_diagnostics.py']",5,a761e57368280b6d3e931831ecd393fd5787b3ef,compute-rpc-drop4x,,"from webob import excimport oslo_messaging @mock.patch.object(oslo_messaging.RPCClient, 'can_send_version', return_value=False) @mock.patch.object(compute_api.API, 'get', fake_instance_get) def test_get_diagnostics_old_compute(self, mock_version): """"""Checks case when env has new api and old compute."""""" controller = server_diagnostics.ServerDiagnosticsController() req = self._get_request() self.assertRaises(exc.HTTPBadRequest, controller.index, req, UUID) ",107,993
openstack%2Fpython-magnumclient~stable%2Fqueens~I2cec19e24c6dd32e209ca65a26a2f1999d8289e0,openstack/python-magnumclient,stable/queens,I2cec19e24c6dd32e209ca65a26a2f1999d8289e0,"Now cluster-template-update works for ""labels""",MERGED,2018-02-26 10:48:34.000000000,2018-02-26 11:08:25.000000000,2018-02-26 11:08:25.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-26 10:48:34.000000000', 'files': ['magnumclient/common/utils.py', 'magnumclient/tests/v1/test_clustertemplates_shell.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/7ed2d75de362d4b0495a3666d4124c73cef28ddf', 'message': 'Now cluster-template-update works for ""labels""\n\nNow we are handling the label values converting them as a dictionary.\nBut as magnum-api only accepts the input as string. We are converting\nthe dictionary into string and passing to magnum-api. It is parsing\nthe string to dictionary and storing the label value a dictionary.\n\nChange-Id: I2cec19e24c6dd32e209ca65a26a2f1999d8289e0\nDepends-on: I4d64da78dc4ed4d5599533b54861b65bce609c28\nCloses-Bug: #1659189\n(cherry picked from commit c165071ff8fee67adbc6bf9acee0368cdebf5503)\n'}]",0,547979,7ed2d75de362d4b0495a3666d4124c73cef28ddf,6,2,1,20498,,,0,"Now cluster-template-update works for ""labels""

Now we are handling the label values converting them as a dictionary.
But as magnum-api only accepts the input as string. We are converting
the dictionary into string and passing to magnum-api. It is parsing
the string to dictionary and storing the label value a dictionary.

Change-Id: I2cec19e24c6dd32e209ca65a26a2f1999d8289e0
Depends-on: I4d64da78dc4ed4d5599533b54861b65bce609c28
Closes-Bug: #1659189
(cherry picked from commit c165071ff8fee67adbc6bf9acee0368cdebf5503)
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/79/547979/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnumclient/common/utils.py', 'magnumclient/tests/v1/test_clustertemplates_shell.py']",2,7ed2d75de362d4b0495a3666d4124c73cef28ddf,1659189-stable/queens," def test_cluster_template_update_label(self, mock_update): self._test_arg_success('cluster-template-update test ' 'replace labels=key1=val1') patch = [{'op': 'replace', 'path': '/labels', 'value': ""{'key1': 'val1'}""}] mock_update.assert_called_once_with('test', patch) @mock.patch( 'magnumclient.v1.cluster_templates.ClusterTemplateManager.update')",,16,1
openstack%2Foctavia~master~I58a21808ee3db67ee20e49caf2a966ff0f373f48,openstack/octavia,master,I58a21808ee3db67ee20e49caf2a966ff0f373f48,Don't run fucntional jobs for docs changes,MERGED,2017-12-07 23:54:36.000000000,2018-02-26 10:57:08.000000000,2018-02-03 23:29:13.000000000,"[{'_account_id': 2245}, {'_account_id': 6854}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 12024}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-12-07 23:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a35c825717ec7e9f52185952224b62b1c5ec194b', 'message': ""Don't run fucntional jobs for docs changes\n\nCurrently we run the neutron-lbaasv2-dsvm-api and octavia-tox-functional\njobs for changes that only contain documentation updates. This patch fixes\nthis issue so that only relevant jobs are run.\n\nChange-Id: I58a21808ee3db67ee20e49caf2a966ff0f373f48\n""}, {'number': 2, 'created': '2017-12-08 00:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2663fe381b218d612ef1698082a0e5782786b44b', 'message': ""Don't run fucntional jobs for docs changes\n\nCurrently we run the neutron-lbaasv2-dsvm-api and octavia-tox-functional\njobs for changes that only contain documentation updates. This patch fixes\nthis issue so that only relevant jobs are run.\n\nChange-Id: I58a21808ee3db67ee20e49caf2a966ff0f373f48\n""}, {'number': 3, 'created': '2017-12-08 16:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/89681c9a47a94746b5f0e20a12a778c62b8f4632', 'message': ""Don't run fucntional jobs for docs changes\n\nCurrently we run the neutron-lbaasv2-dsvm-api and octavia-tox-functional\njobs for changes that only contain documentation updates. This patch fixes\nthis issue so that only relevant jobs are run.\n\nThis patch also removes a exception for legacy ^tempest paths that Octavia\ndoes not have.\n\nChange-Id: I58a21808ee3db67ee20e49caf2a966ff0f373f48\n""}, {'number': 4, 'created': '2017-12-13 02:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0d722c785842a568a26971251816b448043f8848', 'message': ""Don't run fucntional jobs for docs changes\n\nCurrently we run the neutron-lbaasv2-dsvm-api and octavia-tox-functional\njobs for changes that only contain documentation updates. This patch\nfixes this issue so that only relevant jobs are run.\n\nThis patch also removes an exception for legacy ^tempest paths that\nOctavia does not have.\n\nChange-Id: I58a21808ee3db67ee20e49caf2a966ff0f373f48\n""}, {'number': 5, 'created': '2018-01-17 04:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/65d369673712a961c94a3a16ed33e910c43c4b5c', 'message': ""Don't run fucntional jobs for docs changes\n\nCurrently we run scenario and functional jobs for changes that only contain\ndocumentation updates. This patch fixes this issue so that only relevant jobs\nare run.\n\nThis patch also removes an exception for legacy ^tempest paths that\nOctavia does not have.\n\nChange-Id: I58a21808ee3db67ee20e49caf2a966ff0f373f48\n""}, {'number': 6, 'created': '2018-01-17 04:45:35.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7cb7a6f1feebc6b3050aab1ce6628ce7d68fd0c5', 'message': ""Don't run fucntional jobs for docs changes\n\nCurrently we run scenario and functional jobs for changes that only contain\ndocumentation updates. This patch fixes this issue so that only relevant jobs\nare run.\n\nThis patch also removes an exception for legacy ^tempest paths that\nOctavia does not have.\n\nChange-Id: I58a21808ee3db67ee20e49caf2a966ff0f373f48\n""}]",4,526548,7cb7a6f1feebc6b3050aab1ce6628ce7d68fd0c5,27,7,6,11628,,,0,"Don't run fucntional jobs for docs changes

Currently we run scenario and functional jobs for changes that only contain
documentation updates. This patch fixes this issue so that only relevant jobs
are run.

This patch also removes an exception for legacy ^tempest paths that
Octavia does not have.

Change-Id: I58a21808ee3db67ee20e49caf2a966ff0f373f48
",git fetch https://review.opendev.org/openstack/octavia refs/changes/48/526548/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,a35c825717ec7e9f52185952224b62b1c5ec194b,exclude-func-jobs-from-doc-changes, irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^tempest/hacking/.*$ - ^tempest/tests/.*$ - neutron-lbaasv2-dsvm-py3x-api: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^tempest/hacking/.*$ - ^tempest/tests/.*$ irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^tempest/hacking/.*$ - ^tempest/tests/.*$ irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^tempest/hacking/.*$ - ^tempest/tests/.*$ irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^tempest/hacking/.*$ - ^tempest/tests/.*$ irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^tempest/hacking/.*$ - ^tempest/tests/.*$ irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^tempest/hacking/.*$ - ^tempest/tests/.*$ irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^tempest/hacking/.*$ - ^tempest/tests/.*$, - neutron-lbaasv2-dsvm-py3x-api:,64,0
openstack%2Fpython-magnumclient~master~I2cec19e24c6dd32e209ca65a26a2f1999d8289e0,openstack/python-magnumclient,master,I2cec19e24c6dd32e209ca65a26a2f1999d8289e0,"Now cluster-template-update works for ""labels""",MERGED,2017-08-22 07:37:55.000000000,2018-02-26 10:48:34.000000000,2018-02-20 14:29:14.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 13861}, {'_account_id': 20401}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 26072}]","[{'number': 1, 'created': '2017-08-22 07:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/871d89e86158e8a29e448b2b85343960b6306ae4', 'message': 'Now cluster-template-update works for ""labels""\n\nNow we are handling the label values converting them as a dictionary.\nBut as magnum-api only accepts the input as string. We are converting\nthe dictionary into string and passing to magnum-api. It is parsing\nthe string to dictionary and storing the label value a dictionary.\n\nChange-Id: I2cec19e24c6dd32e209ca65a26a2f1999d8289e0\nDepends-on: I4d64da78dc4ed4d5599533b54861b65bce609c28\nCloses-Bug: #1659189\n'}, {'number': 2, 'created': '2017-09-28 06:52:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/ad240ca22edd208ea613992af83b5bab46a74024', 'message': 'Now cluster-template-update works for ""labels""\n\nNow we are handling the label values converting them as a dictionary.\nBut as magnum-api only accepts the input as string. We are converting\nthe dictionary into string and passing to magnum-api. It is parsing\nthe string to dictionary and storing the label value a dictionary.\n\nChange-Id: I2cec19e24c6dd32e209ca65a26a2f1999d8289e0\nDepends-on: I4d64da78dc4ed4d5599533b54861b65bce609c28\nCloses-Bug: #1659189\n'}, {'number': 3, 'created': '2017-10-05 13:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/78914998edd61db56a4327a23cc5af289582504b', 'message': 'Now cluster-template-update works for ""labels""\n\nNow we are handling the label values converting them as a dictionary.\nBut as magnum-api only accepts the input as string. We are converting\nthe dictionary into string and passing to magnum-api. It is parsing\nthe string to dictionary and storing the label value a dictionary.\n\nChange-Id: I2cec19e24c6dd32e209ca65a26a2f1999d8289e0\nDepends-on: I4d64da78dc4ed4d5599533b54861b65bce609c28\nCloses-Bug: #1659189\n'}, {'number': 4, 'created': '2017-10-07 02:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/4a9d2dd5c348a4357c1fea31001d17e94a066f23', 'message': 'Now cluster-template-update works for ""labels""\n\nNow we are handling the label values converting them as a dictionary.\nBut as magnum-api only accepts the input as string. We are converting\nthe dictionary into string and passing to magnum-api. It is parsing\nthe string to dictionary and storing the label value a dictionary.\n\nChange-Id: I2cec19e24c6dd32e209ca65a26a2f1999d8289e0\nDepends-on: I4d64da78dc4ed4d5599533b54861b65bce609c28\nCloses-Bug: #1659189\n'}, {'number': 5, 'created': '2017-10-08 08:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/f2d0ec9c0c15d863b2550158d57a3668a9351d21', 'message': 'Now cluster-template-update works for ""labels""\n\nNow we are handling the label values converting them as a dictionary.\nBut as magnum-api only accepts the input as string. We are converting\nthe dictionary into string and passing to magnum-api. It is parsing\nthe string to dictionary and storing the label value a dictionary.\n\nChange-Id: I2cec19e24c6dd32e209ca65a26a2f1999d8289e0\nDepends-on: I4d64da78dc4ed4d5599533b54861b65bce609c28\nCloses-Bug: #1659189\n'}, {'number': 6, 'created': '2017-10-09 17:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/ccb152157d41079ca6ccb53eb0c11e06561e8d32', 'message': 'Now cluster-template-update works for ""labels""\n\nNow we are handling the label values converting them as a dictionary.\nBut as magnum-api only accepts the input as string. We are converting\nthe dictionary into string and passing to magnum-api. It is parsing\nthe string to dictionary and storing the label value a dictionary.\n\nChange-Id: I2cec19e24c6dd32e209ca65a26a2f1999d8289e0\nDepends-on: I4d64da78dc4ed4d5599533b54861b65bce609c28\nCloses-Bug: #1659189\n'}, {'number': 7, 'created': '2018-01-31 17:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/658d88d4efc4dd339a13c50fc2cd8dc155c4338c', 'message': 'Now cluster-template-update works for ""labels""\n\nNow we are handling the label values converting them as a dictionary.\nBut as magnum-api only accepts the input as string. We are converting\nthe dictionary into string and passing to magnum-api. It is parsing\nthe string to dictionary and storing the label value a dictionary.\n\nChange-Id: I2cec19e24c6dd32e209ca65a26a2f1999d8289e0\nDepends-on: I4d64da78dc4ed4d5599533b54861b65bce609c28\nCloses-Bug: #1659189\n'}, {'number': 8, 'created': '2018-02-20 14:12:53.000000000', 'files': ['magnumclient/common/utils.py', 'magnumclient/tests/v1/test_clustertemplates_shell.py'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/c165071ff8fee67adbc6bf9acee0368cdebf5503', 'message': 'Now cluster-template-update works for ""labels""\n\nNow we are handling the label values converting them as a dictionary.\nBut as magnum-api only accepts the input as string. We are converting\nthe dictionary into string and passing to magnum-api. It is parsing\nthe string to dictionary and storing the label value a dictionary.\n\nChange-Id: I2cec19e24c6dd32e209ca65a26a2f1999d8289e0\nDepends-on: I4d64da78dc4ed4d5599533b54861b65bce609c28\nCloses-Bug: #1659189\n'}]",7,496136,c165071ff8fee67adbc6bf9acee0368cdebf5503,38,7,8,20401,,,0,"Now cluster-template-update works for ""labels""

Now we are handling the label values converting them as a dictionary.
But as magnum-api only accepts the input as string. We are converting
the dictionary into string and passing to magnum-api. It is parsing
the string to dictionary and storing the label value a dictionary.

Change-Id: I2cec19e24c6dd32e209ca65a26a2f1999d8289e0
Depends-on: I4d64da78dc4ed4d5599533b54861b65bce609c28
Closes-Bug: #1659189
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/36/496136/1 && git format-patch -1 --stdout FETCH_HEAD,['magnumclient/common/utils.py'],1,871d89e86158e8a29e448b2b85343960b6306ae4,1659189," if path == ""/labels"": a = [] a.append(value) value = str(handle_labels(a)) patch.append({'op': op, 'path': path, 'value': value}) else: patch.append({'op': op, 'path': path, 'value': value})"," patch.append({'op': op, 'path': path, 'value': value})",7,1
openstack%2Fopenstack-ansible-galera_server~stable%2Fqueens~Ib65187c1239482bfd823b2f3dfd437aa7a709ccd,openstack/openstack-ansible-galera_server,stable/queens,Ib65187c1239482bfd823b2f3dfd437aa7a709ccd,tasks: Replace deprecated 'include' statements,MERGED,2018-02-24 09:21:12.000000000,2018-02-26 10:39:06.000000000,2018-02-26 10:39:06.000000000,"[{'_account_id': 538}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-02-24 09:21:12.000000000', 'files': ['tasks/main.yml', 'tasks/galera_upgrade.yml', 'tasks/galera_ssl.yml', 'tasks/galera_install.yml', 'tasks/galera_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/93d27774a0f8dd43ab4b6cc431376a03b36da732', 'message': ""tasks: Replace deprecated 'include' statements\n\nAnsible 2.4+ complains that 'include' statements are deprecated in\nfavor of 'import_tasks' and 'include_tasks' so replace all of them.\n\nChange-Id: Ib65187c1239482bfd823b2f3dfd437aa7a709ccd\n(cherry picked from commit 579550d32d0d60e621cc12c85d5c0694580ef211)\n""}]",0,547739,93d27774a0f8dd43ab4b6cc431376a03b36da732,8,4,1,6816,,,0,"tasks: Replace deprecated 'include' statements

Ansible 2.4+ complains that 'include' statements are deprecated in
favor of 'import_tasks' and 'include_tasks' so replace all of them.

Change-Id: Ib65187c1239482bfd823b2f3dfd437aa7a709ccd
(cherry picked from commit 579550d32d0d60e621cc12c85d5c0694580ef211)
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/39/547739/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/galera_upgrade.yml', 'tasks/galera_ssl.yml', 'tasks/galera_install.yml', 'tasks/galera_post_install.yml']",5,93d27774a0f8dd43ab4b6cc431376a03b36da732,bug/1654004,- include_tasks: galera_ssl.yml,- include: galera_ssl.yml,9,9
openstack%2Fopenstack-ansible-galera_server~stable%2Fqueens~I18853707c29955186da5a1f4d6e80bc3012c04f9,openstack/openstack-ansible-galera_server,stable/queens,I18853707c29955186da5a1f4d6e80bc3012c04f9,tasks: Fix use_percona_upstream variable usage,MERGED,2018-02-24 09:21:12.000000000,2018-02-26 10:39:05.000000000,2018-02-26 10:39:05.000000000,"[{'_account_id': 538}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-02-24 09:21:12.000000000', 'files': ['tasks/galera_install.yml', 'tasks/galera_install_yum.yml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'tasks/galera_post_install.yml', 'tasks/galera_install_zypper.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml', 'vars/main.yml', 'tasks/galera_install_apt.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/462b92a0f833591a2a6f08a2599146d65bef3b8a', 'message': ""tasks: Fix use_percona_upstream variable usage\n\nThe 'use_percona_upstream' variable had quite different and conflicting\nmeanings in the tasks. It's used to either denote that the upstream\npackages will be used directly or that the upstream repositories will\nbe configured on the hosts and then use the packages from these\nrepositories. However, the packages in both cases are the same so the\nvariable was pointless in this form. The variable was meant to be used\nto select between upstream and downstream repositories for the Percona\npackages. Moreover, upstream does not provide packages for SUSE so we\nhave to exit the deployment if that variable is set.\n\nPartial-Bug: #1654004\nChange-Id: I18853707c29955186da5a1f4d6e80bc3012c04f9\n(cherry picked from commit dbbcb56a62e4a97af3f63f970a34a3c815352ced)\n""}]",0,547738,462b92a0f833591a2a6f08a2599146d65bef3b8a,7,3,1,6816,,,0,"tasks: Fix use_percona_upstream variable usage

The 'use_percona_upstream' variable had quite different and conflicting
meanings in the tasks. It's used to either denote that the upstream
packages will be used directly or that the upstream repositories will
be configured on the hosts and then use the packages from these
repositories. However, the packages in both cases are the same so the
variable was pointless in this form. The variable was meant to be used
to select between upstream and downstream repositories for the Percona
packages. Moreover, upstream does not provide packages for SUSE so we
have to exit the deployment if that variable is set.

Partial-Bug: #1654004
Change-Id: I18853707c29955186da5a1f4d6e80bc3012c04f9
(cherry picked from commit dbbcb56a62e4a97af3f63f970a34a3c815352ced)
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/38/547738/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/galera_install.yml', 'tasks/galera_install_yum.yml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'tasks/galera_install_zypper.yml', 'tasks/galera_post_install.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml', 'tasks/galera_install_apt.yml', 'vars/main.yml']",10,462b92a0f833591a2a6f08a2599146d65bef3b8a,bug/1654004,,"--- # Copyright 2017, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. galera_packages_list: - packages: ""{{ galera_server_required_distro_packages }}"" enabled: yes local_pkg: no - packages: ""{{ galera_server_mariadb_distro_packages }}"" enabled: yes local_pkg: no - packages: ""{{ galera_server_percona_distro_packages }}"" enabled: ""{{ use_percona_upstream }}"" local_pkg: no percona_packages_list: - packages: ""{{ [percona_package_path] }}"" enabled: ""{{ not use_percona_upstream }}"" local_pkg: yes - packages: ""{{ [qpress_package_path] }}"" enabled: ""{{ not use_percona_upstream }}"" local_pkg: yes mariadb_delete_etc_conf_files: [] ",17,165
openstack%2Fheat~master~I898810cfd6ac86eb54a14873d4e7ae17ce88abad,openstack/heat,master,I898810cfd6ac86eb54a14873d4e7ae17ce88abad,Unskip test_cancel_update_server_with_port,ABANDONED,2017-09-25 02:30:34.000000000,2018-02-26 10:39:04.000000000,,[],"[{'number': 1, 'created': '2017-09-25 02:30:34.000000000', 'files': ['heat_integrationtests/prepare_test_env.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/72370098b64966662eadb0f0805607c433780a94', 'message': 'Unskip test_cancel_update_server_with_port\n\nSeems Nova bug 1607714 has been fixed.\n\nChange-Id: I898810cfd6ac86eb54a14873d4e7ae17ce88abad\n'}]",0,506975,72370098b64966662eadb0f0805607c433780a94,4,0,1,8289,,,0,"Unskip test_cancel_update_server_with_port

Seems Nova bug 1607714 has been fixed.

Change-Id: I898810cfd6ac86eb54a14873d4e7ae17ce88abad
",git fetch https://review.opendev.org/openstack/heat refs/changes/75/506975/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_integrationtests/prepare_test_env.sh'],1,72370098b64966662eadb0f0805607c433780a94,bug/1607714,iniset $conf_file heat_plugin skip_functional_test_list 'ReloadOnSighupTest',"# Skip test_cancel_update_server_with_port till bug #1607714 is fixed in novainiset $conf_file heat_plugin skip_functional_test_list 'CancelUpdateTest.test_cancel_update_server_with_port, ReloadOnSighupTest'",1,2
openstack%2Fopenstack-ansible-galera_server~stable%2Fqueens~Iae8b5d0e0998c85ee453efc6620940c80243540e,openstack/openstack-ansible-galera_server,stable/queens,Iae8b5d0e0998c85ee453efc6620940c80243540e,vars: Install qpress only when galera_xtrabackup_compression is true,MERGED,2018-02-24 09:21:12.000000000,2018-02-26 10:38:13.000000000,2018-02-26 10:38:12.000000000,"[{'_account_id': 538}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-02-24 09:21:12.000000000', 'files': ['templates/cluster.cnf.j2', 'tasks/galera_install.yml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/a3aa5e7424189b24383da0985e916752198225df', 'message': ""vars: Install qpress only when galera_xtrabackup_compression is true\n\nThe qpress library is only needed for xtrabackup compression. The\ncompression only occurs when a new node is joining the cluster\nwhich shouldn't happen very often. The variable is set to true only\nwhen the architecture is x86_64 since that's the only arch that's\nsupported by the upstream repository and CentOS and Ubuntu do not\nprovide qpress in the downstream distributions at all.\n\nChange-Id: Iae8b5d0e0998c85ee453efc6620940c80243540e\n(cherry picked from commit aff7866ffe0f4b5a15af594c0143a09704e59b5d)\n""}]",0,547737,a3aa5e7424189b24383da0985e916752198225df,8,4,1,6816,,,0,"vars: Install qpress only when galera_xtrabackup_compression is true

The qpress library is only needed for xtrabackup compression. The
compression only occurs when a new node is joining the cluster
which shouldn't happen very often. The variable is set to true only
when the architecture is x86_64 since that's the only arch that's
supported by the upstream repository and CentOS and Ubuntu do not
provide qpress in the downstream distributions at all.

Change-Id: Iae8b5d0e0998c85ee453efc6620940c80243540e
(cherry picked from commit aff7866ffe0f4b5a15af594c0143a09704e59b5d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/37/547737/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/cluster.cnf.j2', 'tasks/galera_install.yml', 'vars/redhat-7.yml', 'vars/suse-42.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml']",6,a3aa5e7424189b24383da0985e916752198225df,bug/1654004,"# Enable compression of backups. Qpress is only availabe for x86_64 galera_xtrabackup_compression: ""{{ (ansible_architecture == 'x86_64') | ternary(true, false) }}""",# Enable compression of backups galera_xtrabackup_compression: true,16,8
openstack%2Fopenstack-ansible-plugins~master~I511c93ac65a2a8f74f84fda1628b102971f34308,openstack/openstack-ansible-plugins,master,I511c93ac65a2a8f74f84fda1628b102971f34308,Update location of MAGIC_VARIABLE_MAPPING for ansible 2.5,ABANDONED,2018-02-17 05:46:29.000000000,2018-02-26 10:38:03.000000000,,"[{'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-17 05:46:29.000000000', 'files': ['strategy/linear.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/e20da41f51bef60e95d8c5ec0a52eddd15f2522b', 'message': 'Update location of MAGIC_VARIABLE_MAPPING for ansible 2.5\n\nThis seems to be in ansible.constants now.\n\nChange-Id: I511c93ac65a2a8f74f84fda1628b102971f34308\n'}]",0,545508,e20da41f51bef60e95d8c5ec0a52eddd15f2522b,4,2,1,2,,,0,"Update location of MAGIC_VARIABLE_MAPPING for ansible 2.5

This seems to be in ansible.constants now.

Change-Id: I511c93ac65a2a8f74f84fda1628b102971f34308
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/08/545508/1 && git format-patch -1 --stdout FETCH_HEAD,['strategy/linear.py'],1,e20da41f51bef60e95d8c5ec0a52eddd15f2522b,,"# NOTICE(mordred): MAGIC_VARIABLE_MAPPING moved to ansible.constants in 2.5 try: from ansible.playbook.play_context import MAGIC_VARIABLE_MAPPING # noqa except ImportError: from ansible.constants import MAGIC_VARIABLE_MAPPING # noqa MAGIC_VARIABLE_MAPPING.update({ 'physical_host': ('physical_host',), 'container_name': ('inventory_hostname',), 'chroot_path': ('chroot_path',), 'container_tech': ('container_tech',), }) ","import ansible.playbook.play_context ansible.playbook.play_context.MAGIC_VARIABLE_MAPPING.update({'physical_host': ('physical_host',)}) ansible.playbook.play_context.MAGIC_VARIABLE_MAPPING.update({'container_name': ('inventory_hostname',)}) ansible.playbook.play_context.MAGIC_VARIABLE_MAPPING.update({'chroot_path': ('chroot_path',)}) ansible.playbook.play_context.MAGIC_VARIABLE_MAPPING.update({'container_tech': ('container_tech',)})",13,9
openstack%2Fceilometer~master~I927c46ef4d937300c18375a5429a66d9db37ffe4,openstack/ceilometer,master,I927c46ef4d937300c18375a5429a66d9db37ffe4,Imported Translations from Zanata,MERGED,2018-02-26 07:50:29.000000000,2018-02-26 10:34:37.000000000,2018-02-26 10:34:37.000000000,"[{'_account_id': 22348}, {'_account_id': 22752}]","[{'number': 1, 'created': '2018-02-26 07:50:29.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/a2a04f05a1c40af5665f2b15930c16f0cf88ca65', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I927c46ef4d937300c18375a5429a66d9db37ffe4\n'}]",0,547924,a2a04f05a1c40af5665f2b15930c16f0cf88ca65,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I927c46ef4d937300c18375a5429a66d9db37ffe4
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/24/547924/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,a2a04f05a1c40af5665f2b15930c16f0cf88ca65,zanata/translations,"""PO-Revision-Date: 2018-02-25 01:51+0000\n""msgid ""10.0.0-8"" msgstr ""10.0.0-8"" msgid ""Deprecated `rgw.*` meters have been removed. Use `radosgw.*` instead."" msgstr ""Deprecated `rgw.*` meters have been removed. Use `radosgw.*` instead."" ","""PO-Revision-Date: 2018-02-09 06:51+0000\n""",7,1
openstack%2Ftripleo-ipsec~master~Ica9c2e9c0c2eb24b0f174d30a0d6af1e090768f4,openstack/tripleo-ipsec,master,Ica9c2e9c0c2eb24b0f174d30a0d6af1e090768f4,Add order constraint for stop operation in resource agent,MERGED,2018-02-23 13:03:35.000000000,2018-02-26 10:15:57.000000000,2018-02-26 10:15:57.000000000,"[{'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-23 13:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/7f952c923d2eadbf4b611bec67b6f4d6221e0a48', 'message': 'Add order constraint for stop operation in resource agent\n\nWe already have an order constraint for the start operation, apparently\nwe need another one for the stop operation too, as this assures that the\nVIP is stopped before the tunnel is put down.\n\nChange-Id: Ica9c2e9c0c2eb24b0f174d30a0d6af1e090768f4\nCloses-Bug: #1751265\n'}, {'number': 2, 'created': '2018-02-23 13:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/59e344b29587fa8b8f947091d6985abd1949af7c', 'message': 'Add order constraint for stop operation in resource agent\n\nWe already have an order constraint for the start operation, apparently\nwe need another one for the stop operation too, as this assures that the\nVIP is stopped before the tunnel is put down.\n\nChange-Id: Ica9c2e9c0c2eb24b0f174d30a0d6af1e090768f4\nCloses-Bug: #1751265\n'}, {'number': 3, 'created': '2018-02-23 13:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/359c74c075d5c6a5436cba4c44cf889572f8558c', 'message': 'Add order constraint for stop operation in resource agent\n\nWe already have an order constraint for the start operation, apparently\nwe need another one for the stop operation too, as this assures that the\nVIP is stopped before the tunnel is put down.\n\nChange-Id: Ica9c2e9c0c2eb24b0f174d30a0d6af1e090768f4\nCloses-Bug: #1751265\n'}, {'number': 4, 'created': '2018-02-23 14:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/97d77a30689a80d64d91d40120cb3a975795d324', 'message': 'Add order constraint for stop operation in resource agent\n\nWe already have an order constraint for the start operation, apparently\nwe need another one for the stop operation too, as this assures that the\nVIP is stopped before the tunnel is put down.\n\nChange-Id: Ica9c2e9c0c2eb24b0f174d30a0d6af1e090768f4\nCloses-Bug: #1751265\n'}, {'number': 5, 'created': '2018-02-23 15:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/85cbade711ed2e638f651856fcf9258606e716ef', 'message': 'Add order constraint for stop operation in resource agent\n\nWe already have an order constraint for the start operation, apparently\nwe need another one for the stop operation too, as this assures that the\nVIP is stopped before the tunnel is put down.\n\nChange-Id: Ica9c2e9c0c2eb24b0f174d30a0d6af1e090768f4\nCloses-Bug: #1751265\n'}, {'number': 6, 'created': '2018-02-26 09:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/3f60118bcf06f5ecdb134898930753e44a580c38', 'message': 'Add order constraint for stop operation in resource agent\n\nWe already have an order constraint for the start operation, apparently\nwe need another one for the stop operation too, as this assures that the\nVIP is stopped before the tunnel is put down.\n\nChange-Id: Ica9c2e9c0c2eb24b0f174d30a0d6af1e090768f4\nCloses-Bug: #1751265\n'}, {'number': 7, 'created': '2018-02-26 09:29:44.000000000', 'files': ['tasks/resource-agent.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/61eac5e734f97ecf3ee2c176530174e7955aeabe', 'message': 'Add order constraint for stop operation in resource agent\n\nWe already have an order constraint for the start operation, apparently\nwe need another one for the stop operation too, as this assures that the\nVIP is stopped before the tunnel is put down.\n\nChange-Id: Ica9c2e9c0c2eb24b0f174d30a0d6af1e090768f4\nCloses-Bug: #1751265\n'}]",0,547418,61eac5e734f97ecf3ee2c176530174e7955aeabe,17,3,7,10873,,,0,"Add order constraint for stop operation in resource agent

We already have an order constraint for the start operation, apparently
we need another one for the stop operation too, as this assures that the
VIP is stopped before the tunnel is put down.

Change-Id: Ica9c2e9c0c2eb24b0f174d30a0d6af1e090768f4
Closes-Bug: #1751265
",git fetch https://review.opendev.org/openstack/tripleo-ipsec refs/changes/18/547418/6 && git format-patch -1 --stdout FETCH_HEAD,['tasks/resource-agent.yml'],1,7f952c923d2eadbf4b611bec67b6f4d6221e0a48,bug/1751265, command: pcs constraint order start ip-{{ specific_vip }} then {{ resource_agent_name }} first-action=start kind=Serialize symmetrical=false when: - resource_agent.changed or found_resource_agent|failed - name: Add ordering rule with VIP ( {{ resource_agent_name }} ) command: pcs constraint order start ip-{{ specific_vip }} then {{ resource_agent_name }} first-action=stop kind=Serialize symmetrical=false, command: pcs constraint order start ip-{{ specific_vip }} then {{ resource_agent_name }},6,1
openstack%2Ftripleo-ipsec~master~Ifa588455b354bd81d63b4fb1698b3a2e492e6473,openstack/tripleo-ipsec,master,Ifa588455b354bd81d63b4fb1698b3a2e492e6473,Add fallback tunnel option to resource agent,MERGED,2018-02-23 13:03:35.000000000,2018-02-26 10:15:23.000000000,2018-02-26 10:15:23.000000000,"[{'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-23 13:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/c689a5274419d2a132f4bc87217eced0ebcc2c16', 'message': 'Add fallback tunnel option to resource agent\n\nThis enables the resource agent to fall back to another tunnel when the\nresource agent gets a stop operation. This effectively updates the xfrm\nrules if done in the right order.\n\nChange-Id: Ifa588455b354bd81d63b4fb1698b3a2e492e6473\nRelated-Bug: #1751265\n'}, {'number': 2, 'created': '2018-02-23 13:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/02fedcebd72c94042d5b6744f5a07c24abb59544', 'message': 'Add fallback tunnel option to resource agent\n\nThis enables the resource agent to fall back to another tunnel when the\nresource agent gets a stop operation. This effectively updates the xfrm\nrules if done in the right order.\n\nChange-Id: Ifa588455b354bd81d63b4fb1698b3a2e492e6473\nRelated-Bug: #1751265\n'}, {'number': 3, 'created': '2018-02-23 15:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/8f857d471337c080dfa23121c959ec6405808c3f', 'message': 'Add fallback tunnel option to resource agent\n\nThis enables the resource agent to fall back to another tunnel when the\nresource agent gets a stop operation. This effectively updates the xfrm\nrules if done in the right order.\n\nChange-Id: Ifa588455b354bd81d63b4fb1698b3a2e492e6473\nRelated-Bug: #1751265\n'}, {'number': 4, 'created': '2018-02-26 09:29:44.000000000', 'files': ['tasks/resource-agent.yml', 'files/ipsec-resource-agent.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/e3bdcc16fc4a75c5442466085345ea34bb4974c3', 'message': 'Add fallback tunnel option to resource agent\n\nThis enables the resource agent to fall back to another tunnel when the\nresource agent gets a stop operation. This effectively updates the xfrm\nrules if done in the right order.\n\nChange-Id: Ifa588455b354bd81d63b4fb1698b3a2e492e6473\nRelated-Bug: #1751265\n'}]",0,547417,e3bdcc16fc4a75c5442466085345ea34bb4974c3,16,3,4,10873,,,0,"Add fallback tunnel option to resource agent

This enables the resource agent to fall back to another tunnel when the
resource agent gets a stop operation. This effectively updates the xfrm
rules if done in the right order.

Change-Id: Ifa588455b354bd81d63b4fb1698b3a2e492e6473
Related-Bug: #1751265
",git fetch https://review.opendev.org/openstack/tripleo-ipsec refs/changes/17/547417/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/resource-agent.yml', 'files/ipsec-resource-agent.sh']",2,c689a5274419d2a132f4bc87217eced0ebcc2c16,bug/1751265,"<parameter name=""fallbacktunnel"" unique=""1""> <longdesc lang=""en""> The name of the tunnel to fall back to when the main tunnel is put down. </longdesc> <shortdesc lang=""en"">Tunnel name to fall back to</shortdesc> <content type=""string"" default="""" /> </parameter> ipsec whack --listen if [ -n ""${OCF_RESKEY_fallbacktunnel}"" ]; then ipsec auto --up ""${OCF_RESKEY_fallbacktunnel}"" local fallback_return_code=$? ocf_log info ""${OCF_RESOURCE_INSTANCE} : Put up tunnel ${OCF_RESKEY_fallbacktunnel} with return code ${fallback_return_code}"" fi",,15,1
openstack%2Fheat~master~I2884a316f917468468f01f04875af9745f766ffb,openstack/heat,master,I2884a316f917468468f01f04875af9745f766ffb,Remove the deprecated giturl option,ABANDONED,2018-01-23 07:45:14.000000000,2018-02-26 10:09:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 27248}]","[{'number': 1, 'created': '2018-01-23 07:45:14.000000000', 'files': ['api-ref/source/conf.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/08dd2a972815c84a510bd1f0a3fc96a2975d7545', 'message': 'Remove the deprecated giturl option\n\nFrom openstackdocstheme 1.18.0, valid Git URLs can be retrieved by\nopenstackdocstheme[1], we do not need giturl option anymore.\n\n[1] https://review.openstack.org/532163\n\nChange-Id: I2884a316f917468468f01f04875af9745f766ffb\n'}]",0,536703,08dd2a972815c84a510bd1f0a3fc96a2975d7545,4,2,1,27366,,,0,"Remove the deprecated giturl option

From openstackdocstheme 1.18.0, valid Git URLs can be retrieved by
openstackdocstheme[1], we do not need giturl option anymore.

[1] https://review.openstack.org/532163

Change-Id: I2884a316f917468468f01f04875af9745f766ffb
",git fetch https://review.opendev.org/openstack/heat refs/changes/03/536703/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/conf.py'],1,08dd2a972815c84a510bd1f0a3fc96a2975d7545,guotao-heat,,"# Config logABug feature giturl = u'http://git.openstack.org/cgit/openstack/heat/tree/api-ref/source' # source tree 'giturl': giturl,",0,4
openstack%2Fceilometer~stable%2Fpike~I8adc609cc21c86de2daba326d24b73a80d6eb61f,openstack/ceilometer,stable/pike,I8adc609cc21c86de2daba326d24b73a80d6eb61f,Gracefully handle missing metadata in libvirt xml,MERGED,2018-02-16 16:27:28.000000000,2018-02-26 10:07:31.000000000,2018-02-26 10:07:30.000000000,"[{'_account_id': 1669}, {'_account_id': 6537}, {'_account_id': 8745}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-16 16:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/2caa12aa9496b70f95a7c0097b0b9606646b9310', 'message': 'Gracefully handle missing metadata in libvirt xml\n\nMissing metadata in the libvirt domain xml for a nova instance would\ncause ceilometer-compute to abort, leading to missing metrics for the\ncurrent and any subequent libvirt guests.\n\nThis commit puts a try/except AttributeError block around all the code\nthat is fetching attributes on the result of metadata_xml.find(...).\n\nChange-Id: I8adc609cc21c86de2daba326d24b73a80d6eb61f\nCloses-Bug: #1749960\n(cherry picked from commit d2af7e9ece2f903633bf4e95208b2e3ba6ac464d)\n'}, {'number': 4, 'created': '2018-02-23 14:43:09.000000000', 'files': ['ceilometer/compute/discovery.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/48515b4841c462ead3d04928801304b093d7594d', 'message': 'Gracefully handle missing metadata in libvirt xml\n\nMissing metadata in the libvirt domain xml for a nova instance would\ncause ceilometer-compute to abort, leading to missing metrics for the\ncurrent and any subequent libvirt guests.\n\nThis commit puts a try/except AttributeError block around all the code\nthat is fetching attributes on the result of metadata_xml.find(...).\n\nalso pull in I41aa76cf9def3e8c4bceef0280d15c1fd7c48e3d\n\nChange-Id: I8adc609cc21c86de2daba326d24b73a80d6eb61f\nCloses-Bug: #1749960\n(cherry picked from commit d2af7e9ece2f903633bf4e95208b2e3ba6ac464d)\n'}]",0,545376,48515b4841c462ead3d04928801304b093d7594d,14,4,2,8745,,,0,"Gracefully handle missing metadata in libvirt xml

Missing metadata in the libvirt domain xml for a nova instance would
cause ceilometer-compute to abort, leading to missing metrics for the
current and any subequent libvirt guests.

This commit puts a try/except AttributeError block around all the code
that is fetching attributes on the result of metadata_xml.find(...).

also pull in I41aa76cf9def3e8c4bceef0280d15c1fd7c48e3d

Change-Id: I8adc609cc21c86de2daba326d24b73a80d6eb61f
Closes-Bug: #1749960
(cherry picked from commit d2af7e9ece2f903633bf4e95208b2e3ba6ac464d)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/76/545376/4 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/compute/discovery.py'],1,2caa12aa9496b70f95a7c0097b0b9606646b9310,bug/1749960," try: flavor_xml = metadata_xml.find( ""./flavor"") user_id = metadata_xml.find( ""./owner/user"").attrib[""uuid""] project_id = metadata_xml.find( ""./owner/project"").attrib[""uuid""] instance_name = metadata_xml.find( ""./name"").text instance_arch = os_type_xml.attrib[""arch""] flavor = { ""id"": self.get_flavor_id(flavor_xml.attrib[""name""]), ""name"": flavor_xml.attrib[""name""], ""vcpus"": self._safe_find_int(flavor_xml, ""vcpus""), ""ram"": self._safe_find_int(flavor_xml, ""memory""), ""disk"": self._safe_find_int(flavor_xml, ""disk""), ""ephemeral"": self._safe_find_int(flavor_xml, ""ephemeral""), ""swap"": self._safe_find_int(flavor_xml, ""swap""), } # The image description is partial, but Gnocchi only care about # the id, so we are fine image_xml = metadata_xml.find(""./root[@type='image']"") image = ({'id': image_xml.attrib['uuid']} if image_xml is not None else None) except AttributeError as e: LOG.error( ""Fail to get domain uuid %s metadata: "" ""metadata was missing expected attributes"", domain.UUIDString()) ""name"": instance_name, ""architecture"": instance_arch,"," # This implements flavor_xml = metadata_xml.find(""./flavor"") flavor = { ""id"": self.get_flavor_id(flavor_xml.attrib[""name""]), ""name"": flavor_xml.attrib[""name""], ""vcpus"": self._safe_find_int(flavor_xml, ""vcpus""), ""ram"": self._safe_find_int(flavor_xml, ""memory""), ""disk"": self._safe_find_int(flavor_xml, ""disk""), ""ephemeral"": self._safe_find_int(flavor_xml, ""ephemeral""), ""swap"": self._safe_find_int(flavor_xml, ""swap""), } user_id = metadata_xml.find(""./owner/user"").attrib[""uuid""] project_id = metadata_xml.find(""./owner/project"").attrib[""uuid""] # The image description is partial, but Gnocchi only care about the # id, so we are fine image_xml = metadata_xml.find(""./root[@type='image']"") image = ({'id': image_xml.attrib['uuid']} if image_xml is not None else None) ""name"": metadata_xml.find(""./name"").text, ""architecture"": os_type_xml.attrib[""arch""],",34,22
openstack%2Fheat~master~I2161224dfcb1a78ea3b0bd37b1c75998a5b72011,openstack/heat,master,I2161224dfcb1a78ea3b0bd37b1c75998a5b72011,Imported Translations from Zanata,MERGED,2018-02-26 06:50:40.000000000,2018-02-26 10:04:18.000000000,2018-02-26 10:04:18.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-26 06:50:40.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/heat/commit/0dadb624462744cca4d3a3f1527290d6c9bc11e2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2161224dfcb1a78ea3b0bd37b1c75998a5b72011\n'}]",0,547905,0dadb624462744cca4d3a3f1527290d6c9bc11e2,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I2161224dfcb1a78ea3b0bd37b1c75998a5b72011
",git fetch https://review.opendev.org/openstack/heat refs/changes/05/547905/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,0dadb624462744cca4d3a3f1527290d6c9bc11e2,zanata/translations,"""POT-Creation-Date: 2018-02-23 18:03+0000\n""""PO-Revision-Date: 2018-02-25 01:57+0000\n""msgid ""10.0.0.0rc1-24"" msgstr ""10.0.0.0rc1-24"" ","""POT-Creation-Date: 2018-02-21 13:58+0000\n""""PO-Revision-Date: 2018-02-18 12:07+0000\n""",5,2
openstack%2Fec2-api~stable%2Fqueens~I161bf5da1744f95e55f4b14cf6adc817f1210dbf,openstack/ec2-api,stable/queens,I161bf5da1744f95e55f4b14cf6adc817f1210dbf,update .gitreview for queens branch,MERGED,2018-02-23 08:31:42.000000000,2018-02-26 10:00:55.000000000,2018-02-26 10:00:55.000000000,"[{'_account_id': 10234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 08:31:42.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/0b457adf56cbf0cfc42aa3e6e6af6091fa9aa13d', 'message': 'update .gitreview for queens branch\n\nChange-Id: I161bf5da1744f95e55f4b14cf6adc817f1210dbf\n'}]",0,547319,0b457adf56cbf0cfc42aa3e6e6af6091fa9aa13d,32,2,1,10234,,,0,"update .gitreview for queens branch

Change-Id: I161bf5da1744f95e55f4b14cf6adc817f1210dbf
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/19/547319/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,0b457adf56cbf0cfc42aa3e6e6af6091fa9aa13d,,defaultbranch=stable/queens,,1,0
openstack%2Fec2-api~master~I5a46d7b9f6a1cf67d06e3fd121b8c60d227a23f7,openstack/ec2-api,master,I5a46d7b9f6a1cf67d06e3fd121b8c60d227a23f7,Fix the incorrect reference links,MERGED,2018-02-26 08:02:17.000000000,2018-02-26 10:00:54.000000000,2018-02-26 10:00:54.000000000,"[{'_account_id': 10234}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-26 08:02:17.000000000', 'files': ['doc/source/install/index.rst'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/257e2a34a6e1628a4503468dc9ff75232f43773f', 'message': 'Fix the incorrect reference links\n\nTrivialFix\n[1] is the installation guide for OpenStack components, obviously,\nwe need [1] in the docs.\n\n[1] https://docs.openstack.org/latest/install/\n\nChange-Id: I5a46d7b9f6a1cf67d06e3fd121b8c60d227a23f7\n'}]",0,547928,257e2a34a6e1628a4503468dc9ff75232f43773f,7,3,1,17130,,,0,"Fix the incorrect reference links

TrivialFix
[1] is the installation guide for OpenStack components, obviously,
we need [1] in the docs.

[1] https://docs.openstack.org/latest/install/

Change-Id: I5a46d7b9f6a1cf67d06e3fd121b8c60d227a23f7
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/28/547928/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/index.rst'],1,257e2a34a6e1628a4503468dc9ff75232f43773f,trivialfix,`OpenStack Installation Tutorial <https://docs.openstack.org/latest/install/>`_.,`OpenStack Installation Tutorial <http://docs.openstack.org/#install-guides>`_.,1,1
openstack%2Frpm-packaging~master~I9d501b1f8ab899ac86c61b1f0ef96b3c943fe550,openstack/rpm-packaging,master,I9d501b1f8ab899ac86c61b1f0ef96b3c943fe550,python-monascaclient: Drop oslo.service Requires,MERGED,2018-02-26 07:34:02.000000000,2018-02-26 10:00:26.000000000,2018-02-26 10:00:25.000000000,"[{'_account_id': 6593}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-26 07:34:02.000000000', 'files': ['openstack/python-monascaclient/python-monascaclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ab0646dcca7539193d73c4b013da30011cf513e8', 'message': 'python-monascaclient: Drop oslo.service Requires\n\nNot needed.\n\nChange-Id: I9d501b1f8ab899ac86c61b1f0ef96b3c943fe550\n'}]",0,547912,ab0646dcca7539193d73c4b013da30011cf513e8,10,5,1,7102,,,0,"python-monascaclient: Drop oslo.service Requires

Not needed.

Change-Id: I9d501b1f8ab899ac86c61b1f0ef96b3c943fe550
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/12/547912/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-monascaclient/python-monascaclient.spec.j2'],1,ab0646dcca7539193d73c4b013da30011cf513e8,,,Requires: {{ py2pkg('oslo.service') }},0,1
openstack%2Frpm-packaging~master~Ice421ce142735d4a54ef3b4f19a00cf176cef256,openstack/rpm-packaging,master,Ice421ce142735d4a54ef3b4f19a00cf176cef256,Updated monasca-ui to 1.12.1,MERGED,2018-02-24 09:13:20.000000000,2018-02-26 10:00:24.000000000,2018-02-26 10:00:24.000000000,"[{'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-02-24 09:13:20.000000000', 'files': ['openstack/monasca-ui/monasca-ui.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7732418d8199fcdc01fd69902a540e7c55993ea2', 'message': 'Updated monasca-ui to 1.12.1\n\nChange-Id: Ice421ce142735d4a54ef3b4f19a00cf176cef256\n'}]",0,547732,7732418d8199fcdc01fd69902a540e7c55993ea2,10,6,1,27781,,,0,"Updated monasca-ui to 1.12.1

Change-Id: Ice421ce142735d4a54ef3b4f19a00cf176cef256
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/32/547732/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-ui/monasca-ui.spec.j2'],1,7732418d8199fcdc01fd69902a540e7c55993ea2,monasca-ui,{% set upstream_version = upstream_version('1.12.1') %},{% set upstream_version = upstream_version('1.12.0') %},1,1
openstack%2Fpanko~stable%2Fpike~Ic303e4ed7af43c1d31559895c56a29b2c5ea85fc,openstack/panko,stable/pike,Ic303e4ed7af43c1d31559895c56a29b2c5ea85fc,Fix api's event listing query to sqlalchemy with non-admin user,MERGED,2018-02-08 11:37:00.000000000,2018-02-26 09:38:25.000000000,2018-02-26 09:38:25.000000000,"[{'_account_id': 1669}, {'_account_id': 6537}, {'_account_id': 18940}, {'_account_id': 22348}, {'_account_id': 26679}]","[{'number': 1, 'created': '2018-02-08 11:37:00.000000000', 'files': ['panko/storage/impl_sqlalchemy.py', 'panko/tests/functional/storage/test_storage_scenarios.py'], 'web_link': 'https://opendev.org/openstack/panko/commit/4d238c29b749e33807935206dadcc64479421e59', 'message': ""Fix api's event listing query to sqlalchemy with non-admin user\n\nCloses-Bug: #1710812\n\nOriginal problem:\n\n  Event storage backend is sqlalchemy(mariaDB).\n  When listing events by:\n\n         openstack event list [--limit n]\n     or  ceilometer event-list [--limit n]\n\n  using non-admin user, the number of events returned does not match the\n  limit 'n'. It has much fewer events than it should have. Even when\n  limit is not given, the default limit (100 if not changed) will apply\n  and that the returned result is still wrong.\n\nProblems in code:\n\n  In the file 'panko/storage/impl_sqlalchemy.py\n  The subquery for trait filtering(project_id, user_id mostly) which\n  generated in function 'get_events' into variable 'trait_subq' (start\n  around line 269) does not seem behave correctly.\n\n  In the original code, the subquery is being wrapped into a deeper\n  layered subquery when a new trait is applied. The resulting\n  complicated subquery makes results have duplicate 'event_id's. And\n  duplicate ids still count for the amount of the result, resulting in\n  much fewer number of events than the one 'limit' flag sets.\n\nFixing:\n\n  This part(line 269-299) which generates the subquery is modified.\n  For each trait, the table the trait is in is adding to the 'from' part\n  of the query. As for the 'where' section, the trait is filtered, and\n  the event_id should be the same as other ones.\n\n  The function at the beginning is changed from '_build_trait_query' to\n  '_get_model_and_conditions' which used by the part mentioned above.\n\n  'sqlalchemy.orm.aliased' is imported to aliase tables since the same\n  table may be selected multiple times, and it is required to apply\n  'aliased' to the table model before adding them to the query.\n\nTest:\n\n  $ tox -e py27-mysql\n\n  The difference is at function 'test_get_event_multiple_trait_filter'\n  in file '/tests/functional/storage/test_storage_scenarios.py'.\n  The order of the traits to filter can affect how the original code\n  produce the subquery, which is the cause of duplicate event_id.\n\nPatch:\n\n  1. Fix coding style according to Julien Danjou's suggestion.\n\n  2. Add test code. Actually, modify existing one.\n\nChange-Id: Ic303e4ed7af43c1d31559895c56a29b2c5ea85fc\n(cherry picked from commit 99d591df950271594ee049caa3ff22304437a228)\n""}]",0,542142,4d238c29b749e33807935206dadcc64479421e59,13,5,1,18940,,,0,"Fix api's event listing query to sqlalchemy with non-admin user

Closes-Bug: #1710812

Original problem:

  Event storage backend is sqlalchemy(mariaDB).
  When listing events by:

         openstack event list [--limit n]
     or  ceilometer event-list [--limit n]

  using non-admin user, the number of events returned does not match the
  limit 'n'. It has much fewer events than it should have. Even when
  limit is not given, the default limit (100 if not changed) will apply
  and that the returned result is still wrong.

Problems in code:

  In the file 'panko/storage/impl_sqlalchemy.py
  The subquery for trait filtering(project_id, user_id mostly) which
  generated in function 'get_events' into variable 'trait_subq' (start
  around line 269) does not seem behave correctly.

  In the original code, the subquery is being wrapped into a deeper
  layered subquery when a new trait is applied. The resulting
  complicated subquery makes results have duplicate 'event_id's. And
  duplicate ids still count for the amount of the result, resulting in
  much fewer number of events than the one 'limit' flag sets.

Fixing:

  This part(line 269-299) which generates the subquery is modified.
  For each trait, the table the trait is in is adding to the 'from' part
  of the query. As for the 'where' section, the trait is filtered, and
  the event_id should be the same as other ones.

  The function at the beginning is changed from '_build_trait_query' to
  '_get_model_and_conditions' which used by the part mentioned above.

  'sqlalchemy.orm.aliased' is imported to aliase tables since the same
  table may be selected multiple times, and it is required to apply
  'aliased' to the table model before adding them to the query.

Test:

  $ tox -e py27-mysql

  The difference is at function 'test_get_event_multiple_trait_filter'
  in file '/tests/functional/storage/test_storage_scenarios.py'.
  The order of the traits to filter can affect how the original code
  produce the subquery, which is the cause of duplicate event_id.

Patch:

  1. Fix coding style according to Julien Danjou's suggestion.

  2. Add test code. Actually, modify existing one.

Change-Id: Ic303e4ed7af43c1d31559895c56a29b2c5ea85fc
(cherry picked from commit 99d591df950271594ee049caa3ff22304437a228)
",git fetch https://review.opendev.org/openstack/panko refs/changes/42/542142/1 && git format-patch -1 --stdout FETCH_HEAD,"['panko/storage/impl_sqlalchemy.py', 'panko/tests/functional/storage/test_storage_scenarios.py']",2,4d238c29b749e33807935206dadcc64479421e59,bug/1710812-stable/pike," {'key': 'trait_C', 'float': 0.123456}, {'key': 'trait_A', 'string': 'my_Foo_text'}]"," {'key': 'trait_A', 'string': 'my_Foo_text'}, {'key': 'trait_C', 'float': 0.123456}]",25,13
openstack%2Fneutron~master~I1b81f5c3de9e6f2c0967c2db23ddb716ee7ec6b9,openstack/neutron,master,I1b81f5c3de9e6f2c0967c2db23ddb716ee7ec6b9,use EGRESS_DIRECTION and INGRESS_DIRECTION from neutron-lib,MERGED,2018-01-05 18:30:36.000000000,2018-02-26 09:34:04.000000000,2018-02-26 09:34:04.000000000,"[{'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 5367}, {'_account_id': 8655}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-05 18:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4e1c6efeed86c3be58dbfd826c01528f7f1a5d8f', 'message': ""use EGRESS_DIRECTION and INGRESS_DIRECTION from neutron-lib\n\nThe EGRESS_DIRECTION and INGRESS_DIRECTION constants live in neutron-lib\nnow. This patch removes them from neutron and uses lib's version of\nthem.\n\nNeutronLibImpact\n\nChange-Id: I1b81f5c3de9e6f2c0967c2db23ddb716ee7ec6b9\n""}, {'number': 2, 'created': '2018-02-14 15:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c849a4b32b07cc96ce0e60b4f7889e38b9c11ec', 'message': ""use EGRESS_DIRECTION and INGRESS_DIRECTION from neutron-lib\n\nThe EGRESS_DIRECTION and INGRESS_DIRECTION constants live in neutron-lib\nnow. This patch removes them from neutron and uses lib's version of\nthem.\n\nNeutronLibImpact\n\nChange-Id: I1b81f5c3de9e6f2c0967c2db23ddb716ee7ec6b9\n""}, {'number': 3, 'created': '2018-02-23 17:37:07.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/tests/functional/agent/test_firewall.py', 'neutron/tests/common/conn_testers.py', 'neutron/tests/functional/agent/linux/openvswitch_firewall/test_iptables.py', 'neutron/tests/functional/services/logapi/test_logging.py', 'neutron/agent/linux/openvswitch_firewall/rules.py', 'neutron/agent/firewall.py', 'neutron/tests/unit/services/logapi/drivers/openvswitch/test_ovs_firewall_log.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_rules.py', 'neutron/services/logapi/drivers/openvswitch/ovs_firewall_log.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d55e824310b642ed21b0b81db3a65cf3d9f1df48', 'message': ""use EGRESS_DIRECTION and INGRESS_DIRECTION from neutron-lib\n\nThe EGRESS_DIRECTION and INGRESS_DIRECTION constants live in neutron-lib\nnow. This patch removes them from neutron and uses lib's version of\nthem.\n\nNeutronLibImpact\n\nChange-Id: I1b81f5c3de9e6f2c0967c2db23ddb716ee7ec6b9\n""}]",0,531463,d55e824310b642ed21b0b81db3a65cf3d9f1df48,27,10,3,5367,,,0,"use EGRESS_DIRECTION and INGRESS_DIRECTION from neutron-lib

The EGRESS_DIRECTION and INGRESS_DIRECTION constants live in neutron-lib
now. This patch removes them from neutron and uses lib's version of
them.

NeutronLibImpact

Change-Id: I1b81f5c3de9e6f2c0967c2db23ddb716ee7ec6b9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/531463/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/agent/linux/openvswitch_firewall/rules.py', 'neutron/agent/firewall.py', 'neutron/agent/linux/iptables_firewall.py', 'neutron/tests/functional/agent/test_firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_rules.py', 'neutron/tests/common/conn_testers.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py', 'neutron/tests/functional/agent/linux/openvswitch_firewall/test_iptables.py']",9,4e1c6efeed86c3be58dbfd826c01528f7f1a5d8f,use-lib-gress-consts," 'direction': constants.INGRESS_DIRECTION, 'direction': constants.EGRESS_DIRECTION}]","from neutron.agent import firewall 'direction': firewall.INGRESS_DIRECTION, 'direction': firewall.EGRESS_DIRECTION}]",87,96
openstack%2Ftripleo-ipsec~master~Iaca0231e61ffded7ff7f3d7dc9cbd03a2b4a2dfb,openstack/tripleo-ipsec,master,Iaca0231e61ffded7ff7f3d7dc9cbd03a2b4a2dfb,Force ipsec resource agent overwrite,MERGED,2018-02-23 13:03:35.000000000,2018-02-26 09:33:26.000000000,2018-02-26 09:33:26.000000000,"[{'_account_id': 10873}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-23 13:03:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/9e4669fc51082f7a982a04d06b8d48f2478d86b1', 'message': ""Force ipsec resource agent overwrite\n\nThis takes the resource agent that's in the playbook as a priority,\nallowing us to upgrade easier.\n\nChange-Id: Iaca0231e61ffded7ff7f3d7dc9cbd03a2b4a2dfb\nRelated-Bug: #1751265\n""}, {'number': 2, 'created': '2018-02-23 13:27:25.000000000', 'files': ['tasks/legacy.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ipsec/commit/26cb6895ba7ef497001bb66967e6e0a1b723ff55', 'message': ""Force ipsec resource agent overwrite\n\nThis takes the resource agent that's in the playbook as a priority,\nallowing us to upgrade easier.\n\nChange-Id: Iaca0231e61ffded7ff7f3d7dc9cbd03a2b4a2dfb\nRelated-Bug: #1751265\n""}]",0,547416,26cb6895ba7ef497001bb66967e6e0a1b723ff55,9,3,2,10873,,,0,"Force ipsec resource agent overwrite

This takes the resource agent that's in the playbook as a priority,
allowing us to upgrade easier.

Change-Id: Iaca0231e61ffded7ff7f3d7dc9cbd03a2b4a2dfb
Related-Bug: #1751265
",git fetch https://review.opendev.org/openstack/tripleo-ipsec refs/changes/16/547416/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/legacy.yml'],1,9e4669fc51082f7a982a04d06b8d48f2478d86b1,bug/1751265, force: yes, force: no,1,1
openstack%2Fpuppet-openstack-integration~master~I7c0824721f57a2c9d6034fcf649ef12f052d50be,openstack/puppet-openstack-integration,master,I7c0824721f57a2c9d6034fcf649ef12f052d50be,[WIP] use black-regex to skip or excludes the tests,ABANDONED,2018-02-23 06:01:23.000000000,2018-02-26 09:30:44.000000000,,"[{'_account_id': 12393}, {'_account_id': 16312}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 06:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/578cd05dc4a5453a53fee61c1441e0f16b4cc03c', 'message': '[WIP] use black_regex to skip or excludes the tests\n\nChange-Id: I7c0824721f57a2c9d6034fcf649ef12f052d50be\n'}, {'number': 2, 'created': '2018-02-23 06:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/91ae976c4ea6a87861ffbc48abe08c9f98aae9f8', 'message': '[WIP] use black_regex to skip or excludes the tests\n\nDepends-On: https://review.openstack.org/#/c/547106/\n\nChange-Id: I7c0824721f57a2c9d6034fcf649ef12f052d50be\n'}, {'number': 3, 'created': '2018-02-23 06:08:46.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d8ab9c2bb5398a16c40dc7f604b1c86bd98cef20', 'message': '[WIP] use black-regex to skip or excludes the tests\n\nDepends-On: https://review.openstack.org/#/c/547106/\n\nChange-Id: I7c0824721f57a2c9d6034fcf649ef12f052d50be\n'}]",1,547278,d8ab9c2bb5398a16c40dc7f604b1c86bd98cef20,12,4,3,12393,,,0,"[WIP] use black-regex to skip or excludes the tests

Depends-On: https://review.openstack.org/#/c/547106/

Change-Id: I7c0824721f57a2c9d6034fcf649ef12f052d50be
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/78/547278/2 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,578cd05dc4a5453a53fee61c1441e0f16b4cc03c,fix_tempest_run," EXCLUDES=""--black_regex=^(?mistral_tempest_tests.tests.api.v2.test_executions.ExecutionTestsV2.test_get_list_executions.*$)(?ceilometer.tests.tempest.api.test_telemetry_notification_api.TelemetryNotificationAPITest.test_check_glance_v2_notifications.*$)(?tempest.api.object_storage.*$).*"" EXCLUDES=""--black_regex=^(?tempest.scenario.gnocchi.test.live_assert_vcpus_metric_is_really_expurged.test_request.*$)(?tempest.scenario.gnocchi.test.live_assert_no_delete_metrics_have_the_gabbilive_policy.test_request.*$).*"""," EXCLUDES=""--regex=^(?!mistral_tempest_tests.tests.api.v2.test_executions.ExecutionTestsV2.test_get_list_executions.*$)(?!ceilometer.tests.tempest.api.test_telemetry_notification_api.TelemetryNotificationAPITest.test_check_glance_v2_notifications.*$)(?!tempest.api.object_storage.*$).*"" EXCLUDES=""--regex=^(?!tempest.scenario.gnocchi.test.live_assert_vcpus_metric_is_really_expurged.test_request.*$)(?!tempest.scenario.gnocchi.test.live_assert_no_delete_metrics_have_the_gabbilive_policy.test_request.*$).*""",2,2
openstack%2Fkolla-ansible~master~Iab14884cfc037bc3cb8055db487c53aa14da070f,openstack/kolla-ansible,master,Iab14884cfc037bc3cb8055db487c53aa14da070f,Replace kolla title with kolla-ansible,MERGED,2018-02-23 14:53:10.000000000,2018-02-26 09:22:12.000000000,2018-02-26 09:22:12.000000000,"[{'_account_id': 7488}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23913}, {'_account_id': 24759}]","[{'number': 1, 'created': '2018-02-23 14:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f45039ddb308c86f7cef69a407603a1bbf024345', 'message': 'Fix a type\n\nThis is mainly kolla-ansible installation part\n\nChange-Id: Iab14884cfc037bc3cb8055db487c53aa14da070f\n'}, {'number': 2, 'created': '2018-02-24 10:09:50.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/077c85b13f58854360c69b508a0a0b3aa812c592', 'message': 'Replace kolla title with kolla-ansible\n\nThis is mainly kolla-ansible installation part\n\nChange-Id: Iab14884cfc037bc3cb8055db487c53aa14da070f\n'}]",1,547470,077c85b13f58854360c69b508a0a0b3aa812c592,13,6,2,11869,,,0,"Replace kolla title with kolla-ansible

This is mainly kolla-ansible installation part

Change-Id: Iab14884cfc037bc3cb8055db487c53aa14da070f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/70/547470/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,f45039ddb308c86f7cef69a407603a1bbf024345,a1,Install Kolla-ansible ~~~~~~~~~~~~~~~~~~~~~ Install Kolla-ansible for deployment or evaluation --------------------------------------------------,Install Kolla ~~~~~~~~~~~~~ Install Kolla for deployment or evaluation ------------------------------------------,4,4
openstack%2Foctavia~stable%2Fqueens~I834482a1d17ef9d016f705f128a88a19dd15eb4e,openstack/octavia,stable/queens,I834482a1d17ef9d016f705f128a88a19dd15eb4e,Update UPPER_CONSTRAINTS_FILE for stable/queens,MERGED,2018-02-08 14:33:44.000000000,2018-02-26 09:22:06.000000000,2018-02-26 09:22:06.000000000,"[{'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-08 14:33:44.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6cda00f89f96e3b06ed7d070d5d797789a6e8944', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/queens\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: I834482a1d17ef9d016f705f128a88a19dd15eb4e\n""}]",0,542229,6cda00f89f96e3b06ed7d070d5d797789a6e8944,10,4,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/queens

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: I834482a1d17ef9d016f705f128a88a19dd15eb4e
",git fetch https://review.opendev.org/openstack/octavia refs/changes/29/542229/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6cda00f89f96e3b06ed7d070d5d797789a6e8944,create-queens, pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/queens} {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/queens} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/queens} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/queens}, pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},4,4
openstack%2Fkolla~master~Idfa19667f1fb83f2cb89712c594513188d859359,openstack/kolla,master,Idfa19667f1fb83f2cb89712c594513188d859359,Add cap mgr 'allow *' for ceph admin key,MERGED,2018-02-22 06:50:39.000000000,2018-02-26 09:07:49.000000000,2018-02-26 09:07:49.000000000,"[{'_account_id': 7488}, {'_account_id': 11869}, {'_account_id': 19316}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23913}, {'_account_id': 26556}]","[{'number': 1, 'created': '2018-02-22 06:50:39.000000000', 'files': ['docker/ceph/ceph-mon/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2222355d25ca56b69057d20c9d4d3ccc2750440f', 'message': ""Add cap mgr 'allow *' for ceph admin key\n\nSome ceph cluster commands require this caps\n\nChange-Id: Idfa19667f1fb83f2cb89712c594513188d859359\nCloses-Bug: #1750967\n""}]",0,546891,2222355d25ca56b69057d20c9d4d3ccc2750440f,14,7,1,7488,,,0,"Add cap mgr 'allow *' for ceph admin key

Some ceph cluster commands require this caps

Change-Id: Idfa19667f1fb83f2cb89712c594513188d859359
Closes-Bug: #1750967
",git fetch https://review.opendev.org/openstack/kolla refs/changes/91/546891/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/ceph/ceph-mon/extend_start.sh'],1,2222355d25ca56b69057d20c9d4d3ccc2750440f,bug/1750967," ceph-authtool --create-keyring ""${KEYRING_ADMIN}"" --gen-key -n client.admin --set-uid=0 --cap mon 'allow *' --cap osd 'allow *' --cap mds 'allow' --cap mgr 'allow *'"," ceph-authtool --create-keyring ""${KEYRING_ADMIN}"" --gen-key -n client.admin --set-uid=0 --cap mon 'allow *' --cap osd 'allow *' --cap mds 'allow'",1,1
openstack%2Fpuppet-neutron~master~Id07705a4b29d9372b06f1f245caa6899b559da6a,openstack/puppet-neutron,master,Id07705a4b29d9372b06f1f245caa6899b559da6a,Allow vhost socket directory user/group as configurable from template,ABANDONED,2018-01-05 07:12:08.000000000,2018-02-26 09:02:56.000000000,,"[{'_account_id': 6681}, {'_account_id': 18575}, {'_account_id': 20866}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-05 07:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/fa73a75df64e3768fe3f9e2a17f4586e858a319e', 'message': 'Allow vhost socket directory user/group as configurable from template\n\nFor ovs2.8 version, it is required to modify the vhost socket directory\npermissions as openvswitch:hugetlbfs instead of the earlier hardcoded\nvalues qemu:qemu. Making these values as input which could be configured\nfrom templates.\n\nChange-Id: Id07705a4b29d9372b06f1f245caa6899b559da6a\n'}, {'number': 2, 'created': '2018-01-29 09:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c5ed9869d6e00eb200cb6d5ea84edef45d76752d', 'message': 'Allow vhost socket directory user/group as configurable from template\n\nFor ovs2.8 version, it is required to modify the vhost socket directory\npermissions as openvswitch:hugetlbfs. Making these values as input\nwhich could be configured from templates.\n\nChange-Id: Id07705a4b29d9372b06f1f245caa6899b559da6a\n'}, {'number': 3, 'created': '2018-01-31 13:56:48.000000000', 'files': ['spec/classes/neutron_plugins_ovs_opendaylight_spec.rb', 'releasenotes/notes/vhost_user_grp-6eb63b694cc1c81c.yaml', 'manifests/plugins/ovs/opendaylight.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/1f5edf92e727e4920235dfb828bed4c943f7618e', 'message': 'Allow vhost socket directory user/group as configurable from template\n\nFor ovs2.8 version, it is required to modify the vhost socket directory\npermissions as openvswitch:hugetlbfs. Making these values as input\nwhich could be configured from templates.\n\nChange-Id: Id07705a4b29d9372b06f1f245caa6899b559da6a\n'}]",0,531324,1f5edf92e727e4920235dfb828bed4c943f7618e,14,4,3,20866,,,0,"Allow vhost socket directory user/group as configurable from template

For ovs2.8 version, it is required to modify the vhost socket directory
permissions as openvswitch:hugetlbfs. Making these values as input
which could be configured from templates.

Change-Id: Id07705a4b29d9372b06f1f245caa6899b559da6a
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/24/531324/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/plugins/ovs/opendaylight.pp'],1,fa73a75df64e3768fe3f9e2a17f4586e858a319e,,"# [*vhostuser_socket_group*] # (Optional) Group name for vhostuser socket dir. # Defaults to qemu # # [*vhostuser_socket_user*] # (Optional) User name for vhostuser socket dir. # Defaults to qemu # $odl_check_url = 'http://127.0.0.1:8080/restconf/operational/network-topology:network-topology/topology/netvirt:1', $odl_ovsdb_iface = 'tcp:127.0.0.1:6640', $ovsdb_server_iface = 'ptcp:6639:127.0.0.1', $provider_mappings = [], $retry_interval = 60, $retry_count = 20, $host_id = $fqdn, $allowed_network_types = ['local', 'vlan', 'vxlan', 'gre'], $enable_dpdk = false, $vhostuser_socket_dir = '/var/run/openvswitch', $vhostuser_mode = 'client', $enable_hw_offload = false, $vhostuser_socket_group = 'qemu', $vhostuser_socket_user = 'qemu' ""vhostuser_socket"": ""${vhostuser_socket_dir}/vhu\$PORT_ID"",\ ""vhostuser_socket_group"": ""${vhostuser_socket_group}"",\ ""vhostuser_socket_user"": ""${vhostuser_socket_user}""\"," $odl_check_url = 'http://127.0.0.1:8080/restconf/operational/network-topology:network-topology/topology/netvirt:1', $odl_ovsdb_iface = 'tcp:127.0.0.1:6640', $ovsdb_server_iface = 'ptcp:6639:127.0.0.1', $provider_mappings = [], $retry_interval = 60, $retry_count = 20, $host_id = $fqdn, $allowed_network_types = ['local', 'vlan', 'vxlan', 'gre'], $enable_dpdk = false, $vhostuser_socket_dir = '/var/run/openvswitch', $vhostuser_mode = 'client', $enable_hw_offload = false ""vhostuser_socket"": ""${vhostuser_socket_dir}/vhu\$PORT_ID""\",25,13
openstack%2Fmistral~master~I017690b24e3dd1391fa264a6d88f158fce620dd1,openstack/mistral,master,I017690b24e3dd1391fa264a6d88f158fce620dd1,[Trivialfix]Modify a grammatical error,ABANDONED,2018-02-26 08:46:15.000000000,2018-02-26 08:47:00.000000000,,[],"[{'number': 1, 'created': '2018-02-26 08:46:15.000000000', 'files': ['releasenotes/notes/add_action_definition_caching-78d4446d61c6d739.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/420bcd109e69f784c9223686de2b8bf977499997', 'message': '[Trivialfix]Modify a grammatical error\n\nModify a grammatical error by deleting reduplicate ""the"".\n\nChange-Id: I017690b24e3dd1391fa264a6d88f158fce620dd1\n'}]",0,547940,420bcd109e69f784c9223686de2b8bf977499997,2,0,1,23317,,,0,"[Trivialfix]Modify a grammatical error

Modify a grammatical error by deleting reduplicate ""the"".

Change-Id: I017690b24e3dd1391fa264a6d88f158fce620dd1
",git fetch https://review.opendev.org/openstack/mistral refs/changes/40/547940/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/add_action_definition_caching-78d4446d61c6d739.yaml'],1,420bcd109e69f784c9223686de2b8bf977499997,modify, database requests and improve the whole performance of the system., database requests and improve the whole performance of the the system.,1,1
openstack%2Fopenstack-helm~master~I459fc05205e858083c0c1a97b5ce9d36d2d2944c,openstack/openstack-helm,master,I459fc05205e858083c0c1a97b5ce9d36d2d2944c,Add fluentd exporter to armada deployment,MERGED,2018-02-14 14:40:52.000000000,2018-02-26 08:42:06.000000000,2018-02-26 08:42:06.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-02-14 14:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/63bd0a384e59ecc5efe768f9e52259f50fce7142', 'message': 'Add fluentd exporter to armada deployment\n\nThis enables the fluentd exporter for prometheus metrics in the\narmada deployment for openstack-helm\n\nDepends-On: https://review.openstack.org/540068\nChange-Id: I459fc05205e858083c0c1a97b5ce9d36d2d2944c\n'}, {'number': 2, 'created': '2018-02-22 20:20:37.000000000', 'files': ['tools/deployment/armada/multinode/armada-lma.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/97dbea37faad9198b91d08c8f9d3201efcd5d5da', 'message': 'Add fluentd exporter to armada deployment\n\nThis enables the fluentd exporter for prometheus metrics in the\narmada deployment for openstack-helm\n\nDepends-On: https://review.openstack.org/540068\nChange-Id: I459fc05205e858083c0c1a97b5ce9d36d2d2944c\n'}]",0,544362,97dbea37faad9198b91d08c8f9d3201efcd5d5da,9,3,2,17591,,,0,"Add fluentd exporter to armada deployment

This enables the fluentd exporter for prometheus metrics in the
armada deployment for openstack-helm

Depends-On: https://review.openstack.org/540068
Change-Id: I459fc05205e858083c0c1a97b5ce9d36d2d2944c
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/62/544362/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/armada/multinode/armada-lma.yaml'],1,63bd0a384e59ecc5efe768f9e52259f50fce7142,armada_fluentd_exporter, monitoring: prometheus: enabled: true,,3,0
openstack%2Fpython-zunclient~master~Ia7968359862615bb38f9d1abb3f4a981c1329700,openstack/python-zunclient,master,Ia7968359862615bb38f9d1abb3f4a981c1329700,Don't display 'Created At' for service,MERGED,2018-02-14 04:01:28.000000000,2018-02-26 08:02:45.000000000,2018-02-26 08:02:45.000000000,"[{'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 22406}]","[{'number': 1, 'created': '2018-02-14 04:01:28.000000000', 'files': ['zunclient/v1/services_shell.py', 'zunclient/osc/v1/services.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/e759493abcea96517e871f08b114a29976ae53f8', 'message': ""Don't display 'Created At' for service\n\nThis field doesn't provide too much information. Also, both nova\nand cinder don't display this field so we remove it for consistency.\n\nChange-Id: Ia7968359862615bb38f9d1abb3f4a981c1329700\n""}]",0,544161,e759493abcea96517e871f08b114a29976ae53f8,9,4,1,11536,,,0,"Don't display 'Created At' for service

This field doesn't provide too much information. Also, both nova
and cinder don't display this field so we remove it for consistency.

Change-Id: Ia7968359862615bb38f9d1abb3f4a981c1329700
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/61/544161/1 && git format-patch -1 --stdout FETCH_HEAD,"['zunclient/v1/services_shell.py', 'zunclient/osc/v1/services.py']",2,e759493abcea96517e871f08b114a29976ae53f8,," 'Disabled Reason', 'Updated At')"," 'Disabled Reason', 'Created At', 'Updated At')",2,2
openstack%2Fopenstack-ansible-lxc_hosts~master~I161c72449e51bcfe656adb422cc6b8e419f05457,openstack/openstack-ansible-lxc_hosts,master,I161c72449e51bcfe656adb422cc6b8e419f05457,Update the outdated links,ABANDONED,2018-02-26 07:54:15.000000000,2018-02-26 08:01:12.000000000,,[],"[{'number': 1, 'created': '2018-02-26 07:54:15.000000000', 'files': ['CONTRIBUTING.rst', 'README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/4e69d81e5acbca5c14da0e0fae2f71120f48fdd6', 'message': 'Update the outdated links\n\nChange the outdated links to the latest links\n\nChange-Id: I161c72449e51bcfe656adb422cc6b8e419f05457\n'}]",0,547925,4e69d81e5acbca5c14da0e0fae2f71120f48fdd6,2,0,1,23314,,,0,"Update the outdated links

Change the outdated links to the latest links

Change-Id: I161c72449e51bcfe656adb422cc6b8e419f05457
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/25/547925/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'README.rst']",2,4e69d81e5acbca5c14da0e0fae2f71120f48fdd6,,.. image:: https://governance.openstack.org/tc/badges/openstack-ansible-lxc_hosts.svg :target: https://governance.openstack.org/tc/reference/tags/index.html https://launchpad.net/openstack-ansible,.. image:: http://governance.openstack.org/badges/openstack-ansible-lxc_hosts.svg :target: http://governance.openstack.org/reference/tags/index.html http://launchpad.net/openstack-ansible,4,4
openstack%2Fpython-zunclient~master~I1c60b34e6bb30ee3c10d8ffebc97b7b16ec84e90,openstack/python-zunclient,master,I1c60b34e6bb30ee3c10d8ffebc97b7b16ec84e90,Print image uuid instead of the whole dict,MERGED,2018-02-19 21:23:51.000000000,2018-02-26 08:00:37.000000000,2018-02-26 08:00:37.000000000,"[{'_account_id': 10206}, {'_account_id': 22348}, {'_account_id': 22406}]","[{'number': 1, 'created': '2018-02-19 21:23:51.000000000', 'files': ['zunclient/v1/containers_shell.py', 'zunclient/osc/v1/containers.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/514534e6dbe17cd02bc3f241d4755263263da282', 'message': ""Print image uuid instead of the whole dict\n\nAfter doing a commit, the CLI will print message like:\n\n  Request to commit container XXX has been accepted.\n  The image is {u'uuid': u'XXX'}.\n\nInstead of printing the whole image dict, simply print the uuid\nof the image will look better.\n\nChange-Id: I1c60b34e6bb30ee3c10d8ffebc97b7b16ec84e90\n""}]",0,545983,514534e6dbe17cd02bc3f241d4755263263da282,7,3,1,11536,,,0,"Print image uuid instead of the whole dict

After doing a commit, the CLI will print message like:

  Request to commit container XXX has been accepted.
  The image is {u'uuid': u'XXX'}.

Instead of printing the whole image dict, simply print the uuid
of the image will look better.

Change-Id: I1c60b34e6bb30ee3c10d8ffebc97b7b16ec84e90
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/83/545983/1 && git format-patch -1 --stdout FETCH_HEAD,"['zunclient/v1/containers_shell.py', 'zunclient/osc/v1/containers.py']",2,514534e6dbe17cd02bc3f241d4755263263da282,," ""The image is %s."" % (container, image['uuid']))"," ""The image is %s."" % (container, image))",2,2
openstack%2Fpython-zunclient~master~I51196335faba517e98ee748955d893b5da92dbda,openstack/python-zunclient,master,I51196335faba517e98ee748955d893b5da92dbda,Move Capsule from Experimental API to v1,MERGED,2018-02-13 10:02:11.000000000,2018-02-26 07:48:13.000000000,2018-02-26 07:48:13.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 22406}]","[{'number': 1, 'created': '2018-02-13 10:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/6227cac1d90014994c7bcd7ea3f23bc93fbddf22', 'message': 'Move Capsule from Experimental API to v1\n\nPart of blueprint golang-client\n\nChange-Id: I51196335faba517e98ee748955d893b5da92dbda\nSigned-off-by: Kevin Zhao <kevin.zhao@arm.com>\n'}, {'number': 2, 'created': '2018-02-23 03:29:08.000000000', 'files': ['zunclient/experimental/client.py', 'zunclient/v1/capsules.py', 'zunclient/v1/shell.py', 'zunclient/shell.py', 'zunclient/v1/client.py', 'zunclient/experimental/shell.py', 'zunclient/experimental/__init__.py', 'zunclient/v1/capsules_shell.py'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/9e167c660898e4337d392a9230e10a38dd3ad76b', 'message': 'Move Capsule from Experimental API to v1\n\nPart of blueprint golang-client\n\nDepends-On: Id47c95ca60a47ce43f4a89c29cb5d19b09427b7b\nChange-Id: I51196335faba517e98ee748955d893b5da92dbda\nSigned-off-by: Kevin Zhao <kevin.zhao@arm.com>\n'}]",0,543879,9e167c660898e4337d392a9230e10a38dd3ad76b,11,3,2,22076,,,0,"Move Capsule from Experimental API to v1

Part of blueprint golang-client

Depends-On: Id47c95ca60a47ce43f4a89c29cb5d19b09427b7b
Change-Id: I51196335faba517e98ee748955d893b5da92dbda
Signed-off-by: Kevin Zhao <kevin.zhao@arm.com>
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/79/543879/2 && git format-patch -1 --stdout FETCH_HEAD,"['zunclient/experimental/client.py', 'zunclient/v1/capsules.py', 'zunclient/v1/shell.py', 'zunclient/shell.py', 'zunclient/v1/client.py', 'zunclient/experimental/shell.py', 'zunclient/experimental/__init__.py', 'zunclient/v1/capsules_shell.py']",8,6227cac1d90014994c7bcd7ea3f23bc93fbddf22,bp/golang-client," """"""Create a capsule."""""" """"""Print a list of available capsules."""""" """"""Delete specified capsules."""""""," """"""Create a capsule. Add '--experimental-api' due to capsule now is the experimental API """""" """"""Print a list of available capsules. Add '--experimental-api' due to capsule now is the experimental API """""" """"""Delete specified capsules. Add '--experimental-api' due to capsule now is the experimental API """"""",10,176
openstack%2Fopenstack-helm-infra~master~I310e3f6db210e24024fba3335e4381c63ee18ae3,openstack/openstack-helm-infra,master,I310e3f6db210e24024fba3335e4381c63ee18ae3,Makefile: sync with openstack-helm,MERGED,2018-02-20 16:55:04.000000000,2018-02-26 07:46:15.000000000,2018-02-26 07:46:14.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-02-20 16:55:04.000000000', 'files': ['Makefile'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/462567f3237dd4a49c2e6b1c47d887ba3f593a55', 'message': 'Makefile: sync with openstack-helm\n\nChange-Id: I310e3f6db210e24024fba3335e4381c63ee18ae3\n'}]",0,546235,462567f3237dd4a49c2e6b1c47d887ba3f593a55,7,3,1,8898,,,0,"Makefile: sync with openstack-helm

Change-Id: I310e3f6db210e24024fba3335e4381c63ee18ae3
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/35/546235/1 && git format-patch -1 --stdout FETCH_HEAD,['Makefile'],1,462567f3237dd4a49c2e6b1c47d887ba3f593a55,,EXCLUDES := helm-toolkit doc tests tools logs tmp -rm -rf */charts */tmpcharts,EXCLUDES := helm-toolkit doc tests tools logs -rm -rf */charts,2,2
openstack%2Freleases~master~I671fac42e140b4afbc5e25f605b8b1ec9679fd0b,openstack/releases,master,I671fac42e140b4afbc5e25f605b8b1ec9679fd0b,Update the home-page url in setup.cfg,ABANDONED,2018-02-26 07:02:30.000000000,2018-02-26 07:38:43.000000000,,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-26 07:02:30.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/releases/commit/28f2f359971382b17afc4fe1baf70d92438ecfa7', 'message': 'Update the home-page url in setup.cfg\n\nThe url of home-page is out of date.\nWe need update it according to the newest OpenStack websites.\n\nChange-Id: I671fac42e140b4afbc5e25f605b8b1ec9679fd0b\n'}]",0,547908,28f2f359971382b17afc4fe1baf70d92438ecfa7,4,2,1,23317,,,0,"Update the home-page url in setup.cfg

The url of home-page is out of date.
We need update it according to the newest OpenStack websites.

Change-Id: I671fac42e140b4afbc5e25f605b8b1ec9679fd0b
",git fetch https://review.opendev.org/openstack/releases refs/changes/08/547908/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,28f2f359971382b17afc4fe1baf70d92438ecfa7,fix,home-page = https://releases.openstack.org/,home-page = https://www.openstack.org/,1,1
openstack%2Fkolla~master~I8bbf8257d5a932b7e9f2e9a64d62cd5892e3f1bb,openstack/kolla,master,I8bbf8257d5a932b7e9f2e9a64d62cd5892e3f1bb,Seem there are some wrong in infra ubuntu repo,MERGED,2018-02-12 09:08:42.000000000,2018-02-26 07:37:55.000000000,2018-02-13 05:22:16.000000000,"[{'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-02-12 09:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0395e12ac85ec057b1734d71dd71ef8c9ea11f36', 'message': '[DNM]Seem there are some wrong in infra ubuntu repo\n\nChange-Id: I8bbf8257d5a932b7e9f2e9a64d62cd5892e3f1bb\n'}, {'number': 2, 'created': '2018-02-12 13:05:19.000000000', 'files': ['tests/templates/template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7b562990b5b717bb83d56673b368de9b355bb315', 'message': 'Seem there are some wrong in infra ubuntu repo\n\nRevert this after infra ubuntu repo is OK.\n\nChange-Id: I8bbf8257d5a932b7e9f2e9a64d62cd5892e3f1bb\n'}]",0,543387,7b562990b5b717bb83d56673b368de9b355bb315,13,3,2,7488,,,0,"Seem there are some wrong in infra ubuntu repo

Revert this after infra ubuntu repo is OK.

Change-Id: I8bbf8257d5a932b7e9f2e9a64d62cd5892e3f1bb
",git fetch https://review.opendev.org/openstack/kolla refs/changes/87/543387/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/template_overrides.j2'],1,0395e12ac85ec057b1734d71dd71ef8c9ea11f36,,"#RUN sed -i -e ""s|http://archive.ubuntu.com|http://{{ nodepool_mirror_host }}|"" \ # -e ""s|http://ubuntu-cloud.archive.canonical.com/ubuntu|http://{{ nodepool_mirror_host }}/ubuntu-cloud-archive|"" \ # /etc/apt/sources.list \ # && apt-get update","RUN sed -i -e ""s|http://archive.ubuntu.com|http://{{ nodepool_mirror_host }}|"" \ -e ""s|http://ubuntu-cloud.archive.canonical.com/ubuntu|http://{{ nodepool_mirror_host }}/ubuntu-cloud-archive|"" \ /etc/apt/sources.list \ && apt-get update",4,4
openstack%2Fopenstack-manuals~master~I5cb9fc56b1a1d7a497a21e9b5cc55942dea0e0dc,openstack/openstack-manuals,master,I5cb9fc56b1a1d7a497a21e9b5cc55942dea0e0dc,Imported Translations from Zanata,MERGED,2018-02-26 06:10:56.000000000,2018-02-26 07:20:30.000000000,2018-02-26 07:20:30.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-26 06:10:56.000000000', 'files': ['releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/97990bb942a2748484da2fc270339f639d293578', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I5cb9fc56b1a1d7a497a21e9b5cc55942dea0e0dc\n'}]",0,547895,97990bb942a2748484da2fc270339f639d293578,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I5cb9fc56b1a1d7a497a21e9b5cc55942dea0e0dc
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/95/547895/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/zh_CN/LC_MESSAGES/releasenotes.po'],1,97990bb942a2748484da2fc270339f639d293578,zanata/translations,"# yan <yyyan123@outlook.com>, 2018. #zanata""Project-Id-Version: OpenStack Documentation Team Release Notes\n""""POT-Creation-Date: 2018-02-24 16:02+0000\n""""PO-Revision-Date: 2018-02-25 09:33+0000\n"" ""Last-Translator: yan <yyyan123@outlook.com>\n""msgstr """"""""msgstr """"msgid ""contributor-guide"" msgstr """" ","""Project-Id-Version: OpenStack Documentation Team Release Notes 1.0\n""""POT-Creation-Date: 2017-03-23 05:17+0000\n""""PO-Revision-Date: 2016-05-19 07:04+0000\n"" ""Last-Translator: Carl <cai.hui@zte.com.cn>\n""msgstr """"""""msgstr """"",11,7
openstack%2Fzun~master~I599a9f48a966d564da718b97bdad7cfac6ae4dfe,openstack/zun,master,I599a9f48a966d564da718b97bdad7cfac6ae4dfe,Expose container filters via API,MERGED,2018-02-20 10:04:39.000000000,2018-02-26 06:57:54.000000000,2018-02-26 03:59:44.000000000,"[{'_account_id': 11536}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 25571}, {'_account_id': 25695}]","[{'number': 1, 'created': '2018-02-20 10:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/3a2cb6c7ff98b926f102c1d4eaadf4479ba0ca88', 'message': '[WIP] Expose container filters via API\n\nRight now, in DB layer, we support to filter containers\nwith certain attributes. In particular, we support\nfilter containers by attributes such as name, image,\nproject_id, status, etc. [1]. It is better to expose this\nfilter via REST API level. For example:\n\n  GET /v1/containers?project_id=<my_project_id>\n\nThis should return a list of containers in particular project.\n\n[1] https://github.com/openstack/zun/blob/master/zun/db/sqlalchemy/api.py#L132\n\nChange-Id: I599a9f48a966d564da718b97bdad7cfac6ae4dfe\nCloses-Bug: #1750208\n'}, {'number': 2, 'created': '2018-02-21 07:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/45f05e099a0ee8cf231e5e0509db20bc837f616a', 'message': '[WIP] Expose container filters via API\n\nRight now, in DB layer, we support to filter containers\nwith certain attributes. In particular, we support\nfilter containers by attributes such as name, image,\nproject_id, status, etc. [1]. It is better to expose this\nfilter via REST API level. For example:\n\n  GET /v1/containers?project_id=<my_project_id>\n\nThis should return a list of containers in particular project.\n\n[1] https://github.com/openstack/zun/blob/master/zun/db/sqlalchemy/api.py#L132\n\nChange-Id: I599a9f48a966d564da718b97bdad7cfac6ae4dfe\nCloses-Bug: #1750208\n'}, {'number': 3, 'created': '2018-02-21 07:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c0a17ff90a7823ddc30423f129511add8b92efd5', 'message': '[WIP] Expose container filters via API\n\nRight now, in DB layer, we support to filter containers\nwith certain attributes. In particular, we support\nfilter containers by attributes such as name, image,\nproject_id, status, etc. [1]. It is better to expose this\nfilter via REST API level. For example:\n\n  GET /v1/containers?project_id=<my_project_id>\n\nThis should return a list of containers in particular project.\n\n[1] https://github.com/openstack/zun/blob/master/zun/db/sqlalchemy/api.py#L132\n\nChange-Id: I599a9f48a966d564da718b97bdad7cfac6ae4dfe\nCloses-Bug: #1750208\n'}, {'number': 4, 'created': '2018-02-22 09:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/eb6e4bc05e99d27ad8b7efc3936ab19e2a812a77', 'message': '[WIP] Expose container filters via API\n\nRight now, in DB layer, we support to filter containers\nwith certain attributes. In particular, we support\nfilter containers by attributes such as name, image,\nproject_id, status, etc. [1]. It is better to expose this\nfilter via REST API level. For example:\n\n  GET /v1/containers?project_id=<my_project_id>\n\nThis should return a list of containers in particular project.\n\n[1] https://github.com/openstack/zun/blob/master/zun/db/sqlalchemy/api.py#L132\n\nChange-Id: I599a9f48a966d564da718b97bdad7cfac6ae4dfe\nCloses-Bug: #1750208\n'}, {'number': 5, 'created': '2018-02-23 06:36:31.000000000', 'files': ['zun/tests/unit/api/controllers/v1/test_containers.py', 'zun/api/controllers/v1/containers.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/00916cfdffe8d10ab6767a2a398743e477b6ea07', 'message': 'Expose container filters via API\n\nRight now, in DB layer, we support to filter containers\nwith certain attributes. In particular, we support\nfilter containers by attributes such as name, image,\nproject_id, status, etc. [1]. It is better to expose this\nfilter via REST API level. For example:\n\n  GET /v1/containers?project_id=<my_project_id>\n\nThis should return a list of containers in particular project.\n\n[1] https://github.com/openstack/zun/blob/master/zun/db/sqlalchemy/api.py#L132\n\nChange-Id: I599a9f48a966d564da718b97bdad7cfac6ae4dfe\nCloses-Bug: #1750208\n'}]",2,546098,00916cfdffe8d10ab6767a2a398743e477b6ea07,24,5,5,25695,,,0,"Expose container filters via API

Right now, in DB layer, we support to filter containers
with certain attributes. In particular, we support
filter containers by attributes such as name, image,
project_id, status, etc. [1]. It is better to expose this
filter via REST API level. For example:

  GET /v1/containers?project_id=<my_project_id>

This should return a list of containers in particular project.

[1] https://github.com/openstack/zun/blob/master/zun/db/sqlalchemy/api.py#L132

Change-Id: I599a9f48a966d564da718b97bdad7cfac6ae4dfe
Closes-Bug: #1750208
",git fetch https://review.opendev.org/openstack/zun refs/changes/98/546098/5 && git format-patch -1 --stdout FETCH_HEAD,"['zun/db/api.py', 'zun/db/sqlalchemy/api.py', 'zun/db/etcd/api.py', 'zun/tests/unit/db/test_container.py']",4,3a2cb6c7ff98b926f102c1d4eaadf4479ba0ca88,bug/1750208," def test_get_container_project_id(self): container = utils.create_test_container(context=self.context) res = dbapi.get_container_by_project_id(self.context, container.project_id) self.assertEqual(container.id, res.id) self.assertEqual(container.uuid, res.uuid) ",,45,0
openstack%2Fneutron~master~I01edd978450877caaac8c919d269516ea33a82d4,openstack/neutron,master,I01edd978450877caaac8c919d269516ea33a82d4,[DNM] Testing https://review.openstack.org/#/c/540077/,ABANDONED,2018-02-19 12:40:10.000000000,2018-02-26 06:51:42.000000000,,"[{'_account_id': 10385}, {'_account_id': 13861}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-19 12:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fff542ce32eb38b9a44a9f7fb8df0c31eed2a999', 'message': '[DNM] Testing https://review.openstack.org/#/c/540077/\n\nTesting on centos.\n\nChange-Id: I01edd978450877caaac8c919d269516ea33a82d4\n'}, {'number': 2, 'created': '2018-02-19 13:59:00.000000000', 'files': ['bindep.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9094eacef66bfe59577138b8fd680fefa25b257c', 'message': '[DNM] Testing https://review.openstack.org/#/c/540077/\n\nTesting on centos.\n\nChange-Id: I01edd978450877caaac8c919d269516ea33a82d4\n'}]",0,545821,9094eacef66bfe59577138b8fd680fefa25b257c,11,4,2,13861,,,0,"[DNM] Testing https://review.openstack.org/#/c/540077/

Testing on centos.

Change-Id: I01edd978450877caaac8c919d269516ea33a82d4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/545821/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fff542ce32eb38b9a44a9f7fb8df0c31eed2a999,, nodeset: legacy-centos-7,,1,0
openstack%2Fmagnum~stable%2Fpike~Ife8de2706fc88ed90bc9454ea2ff3514cfcb0db1,openstack/magnum,stable/pike,Ife8de2706fc88ed90bc9454ea2ff3514cfcb0db1,IGNORE: testing stable/pike jobs,ABANDONED,2017-10-16 05:07:56.000000000,2018-02-26 06:50:49.000000000,,"[{'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-16 05:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/31af662c8e4f3bf0180e7a33045aaf5a467f6dfa', 'message': 'IGNORE: testing stable/pike jobs\n\nChange-Id: Ife8de2706fc88ed90bc9454ea2ff3514cfcb0db1\n'}, {'number': 2, 'created': '2018-01-29 05:16:42.000000000', 'files': ['devstack/lib/magnum'], 'web_link': 'https://opendev.org/openstack/magnum/commit/af8d804e50432b6cde6af395f875ecb0e067ee3b', 'message': 'IGNORE: testing stable/pike jobs\n\nChange-Id: Ife8de2706fc88ed90bc9454ea2ff3514cfcb0db1\n'}]",0,512172,af8d804e50432b6cde6af395f875ecb0e067ee3b,11,2,2,13861,,,0,"IGNORE: testing stable/pike jobs

Change-Id: Ife8de2706fc88ed90bc9454ea2ff3514cfcb0db1
",git fetch https://review.opendev.org/openstack/magnum refs/changes/72/512172/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/magnum'],1,31af662c8e4f3bf0180e7a33045aaf5a467f6dfa,,# (ykarel) testing stable/pike jobs,,1,0
openstack%2Ftacker~master~Ieb4d98fe374676bad101a6c2965354a9b19ea0a2,openstack/tacker,master,Ieb4d98fe374676bad101a6c2965354a9b19ea0a2,Modify OpenWRT image & rewrite deployment OpenWRT instruction,MERGED,2018-02-12 10:19:58.000000000,2018-02-26 06:42:17.000000000,2018-02-26 06:42:17.000000000,"[{'_account_id': 2874}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 27068}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-02-12 10:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a0cf1bff6b00e54b117cefa8f3971f9869b6898f', 'message': 'Update openwrt image url in devstack & deploy guide\n\nImage version: OpenWRT KVM 15.05.1\n\nChange-Id: Ieb4d98fe374676bad101a6c2965354a9b19ea0a2\n'}, {'number': 2, 'created': '2018-02-12 10:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/fbe3b8aa89a76b15517583d1036b03bf040bcc43', 'message': 'Update openwrt image url in devstack & deploy guide\n\nImage version: OpenWRT KVM 15.05.1\n\nChange-Id: Ieb4d98fe374676bad101a6c2965354a9b19ea0a2\n'}, {'number': 3, 'created': '2018-02-12 18:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/666256fbf1a2cde3b033d77a8b8aecc7774598aa', 'message': 'Update regular openwrt image to cloud openwrt image in devstack & deploy guide\n\nThis patch will add cloud OpenWRT image to Tacker Repo and use this instead of\nthe regular OpenWRT image from OpenWRT homepage. This can fix the continuously\nrespawning problem of OpenWRT-based VNFs.\n\nChange-Id: Ieb4d98fe374676bad101a6c2965354a9b19ea0a2\nCloses-Bug: #1557008\n'}, {'number': 4, 'created': '2018-02-12 19:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/2079559157b6d5e5421e89e72595c9b3b5c40e74', 'message': 'Update regular openwrt image to cloud openwrt image in devstack & deploy guide\n\nThis patch will add cloud OpenWRT image to Tacker Repo and use this instead of\nthe regular OpenWRT image from OpenWRT homepage. This can fix the continuously\nrespawning problem of OpenWRT-based VNFs.\n\nChange-Id: Ieb4d98fe374676bad101a6c2965354a9b19ea0a2\nCloses-Bug: #1557008\n'}, {'number': 5, 'created': '2018-02-12 19:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d18f899eabbbe9268202a72bf9234582d8f7b4b2', 'message': 'Change the regular OpenWRT image to cloud OpenWRT image\n\nThis patch will add cloud OpenWRT image to Tacker Repo and use this instead of\nthe regular OpenWRT image from OpenWRT homepage. This can fix the continuously\nrespawning problem of OpenWRT-based VNFs.\n\nChange-Id: Ieb4d98fe374676bad101a6c2965354a9b19ea0a2\nCloses-Bug: #1557008\n'}, {'number': 6, 'created': '2018-02-12 19:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/764acdeca7be9dd0e51d4913b46f4444a0ef38ad', 'message': 'Change the regular OpenWRT image to cloud OpenWRT image\n\nThis patch will add cloud OpenWRT image to Tacker Repo and use this \ninstead of the regular OpenWRT image from OpenWRT homepage. This can \nfix the continuously respawning problem of OpenWRT-based VNFs.\n\nChange-Id: Ieb4d98fe374676bad101a6c2965354a9b19ea0a2\nCloses-Bug: #1557008\n'}, {'number': 7, 'created': '2018-02-12 19:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/edfb5d66210d5d5ef9c76aea15eed9a24192110c', 'message': 'Change the regular OpenWRT image to cloud OpenWRT image\n\nThis patch will add cloud OpenWRT image [1] to Tacker Repo and use this\ninstead of the regular OpenWRT image from OpenWRT homepage. This can\nfix the continuously respawning problem of OpenWRT-based VNFs.\n\n[1] https://github.com/samos123/openstack-openwrt-image\n\nChange-Id: Ieb4d98fe374676bad101a6c2965354a9b19ea0a2\nCloses-Bug: #1557008\n'}, {'number': 8, 'created': '2018-02-13 17:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5104a61cde390256fa66fdf88b56772267cf60af', 'message': 'Modify the OpenWRT image and rewrite the instruction of deployment OpenWRT\n\nThis patch adds the customize OpenWRT image that enables DHCP making the\nVNF can be ping. Therefore, the continuously respawning of VNF can be fixed.\n\nThis patch also rewrites the instruction of deploying VNF based on OpenWRT.\n\nChange-Id: Ieb4d98fe374676bad101a6c2965354a9b19ea0a2\nCloses-Bug: #1557008\nCloses-Bug: #1749243\n'}, {'number': 9, 'created': '2018-02-13 18:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c8a33499afbc153c420de8e7a03ce1650b7d0813', 'message': 'Modify OpenWRT image and rewrite instruction of deployment OpenWRT\n\nThis patch adds the customize OpenWRT image that enables DHCP making \nthe VNF can be ping. Therefore, the continuously respawning of VNF \ncan be fixed.\n\nThis patch also rewrites the instruction of deploying VNF \nbased on OpenWRT.\n\nChange-Id: Ieb4d98fe374676bad101a6c2965354a9b19ea0a2\nCloses-Bug: #1557008\nCloses-Bug: #1749243\n'}, {'number': 10, 'created': '2018-02-13 18:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/77d4a6cac8f1433841c16722dca28dae2b07afa0', 'message': 'Modify OpenWRT image and rewrite instruction of deployment OpenWRT\n\nThis patch adds the customize OpenWRT image that enables DHCP making \nthe VNF can be ping. Therefore, the continuously respawning of VNF \ncan be fixed.\n\nThis patch also rewrites the instruction of deploying VNF \nbased on OpenWRT.\n\nChange-Id: Ieb4d98fe374676bad101a6c2965354a9b19ea0a2\nCloses-Bug: #1557008\nCloses-Bug: #1749243\n'}, {'number': 11, 'created': '2018-02-14 06:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/72956f7c98974833224d51f0e6ada0d0269262fa', 'message': 'Modify OpenWRT image and rewrite instruction of deployment OpenWRT\n\nThis patch adds the customized OpenWRT image that enables DHCP making\nthe VNF can be ping. Therefore, the continuously respawning of VNF\ncan be fixed.\n\nThis patch also rewrites the instruction of deploying VNF\nbased on OpenWRT.\n\nChange-Id: Ieb4d98fe374676bad101a6c2965354a9b19ea0a2\nCloses-Bug: #1557008\nCloses-Bug: #1749243\n'}, {'number': 12, 'created': '2018-02-14 07:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d1adb75d1f8871a60a5abad9bd67c5dc71eb6214', 'message': 'Modify OpenWRT image & rewrite deployment OpenWRT instruction\n\nThis patch adds the customized OpenWRT image that enables DHCP making\nthe VNF can be ping. Therefore, the continuously respawning of VNF\ncan be fixed.\n\nThis patch also rewrites the instruction of deploying VNF\nbased on OpenWRT.\n\nChange-Id: Ieb4d98fe374676bad101a6c2965354a9b19ea0a2\nCloses-Bug: #1557008\nCloses-Bug: #1749243\n'}, {'number': 13, 'created': '2018-02-14 08:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a6707d8062dee6454a03042206e805cd7095145e', 'message': 'Modify OpenWRT image & rewrite deployment OpenWRT instruction\n\nThis patch adds the customized OpenWRT image that enables DHCP making\nthe VNF can be ping. Therefore, the continuously respawning of VNF\ncan be fixed.\n\nThis patch also rewrites the instruction of deploying VNF\nbased on OpenWRT.\n\nChange-Id: Ieb4d98fe374676bad101a6c2965354a9b19ea0a2\nCloses-Bug: #1557008\nCloses-Bug: #1749243\n'}, {'number': 14, 'created': '2018-02-14 08:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a0324be7d709a64ca19a8ed947203b7dac4cadf4', 'message': 'Modify OpenWRT image & rewrite deployment OpenWRT instruction\n\nThis patch adds the customized OpenWRT image that enables DHCP making\nthe VNF can be ping. Therefore, the continuously respawning of VNF\ncan be fixed.\n\nThis patch also rewrites the instruction of deploying VNF\nbased on OpenWRT.\n\nChange-Id: Ieb4d98fe374676bad101a6c2965354a9b19ea0a2\nCloses-Bug: #1557008\nCloses-Bug: #1749243\n'}, {'number': 15, 'created': '2018-02-15 09:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ee0be4104fb4a0e69e365dd405da165a2918b4f2', 'message': 'Modify OpenWRT image & rewrite deployment OpenWRT instruction\n\nThis patch adds the customized OpenWRT image that enables DHCP making\nthe VNF can be ping. Therefore, the continuously respawning of VNF\ncan be fixed.\n\nThis patch also rewrites the instruction of deploying VNF\nbased on OpenWRT.\n\nChange-Id: Ieb4d98fe374676bad101a6c2965354a9b19ea0a2\nCloses-Bug: #1557008\nCloses-Bug: #1749243\n'}, {'number': 16, 'created': '2018-02-15 10:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/2f37f1fd8675e58c5323589f1610968dcc2680a4', 'message': 'Modify OpenWRT image & rewrite deployment OpenWRT instruction\n\nThis patch adds the customized OpenWRT image that enables DHCP making\nthe VNF can be ping. Therefore, the continuously respawning of VNF\ncan be fixed.\n\nThis patch also rewrites the instruction of deploying VNF\nbased on OpenWRT.\n\nChange-Id: Ieb4d98fe374676bad101a6c2965354a9b19ea0a2\nCloses-Bug: #1557008\nCloses-Bug: #1749243\n'}, {'number': 17, 'created': '2018-02-20 05:52:45.000000000', 'files': ['devstack/lib/tacker', 'doc/source/install/deploy_openwrt.rst', 'samples/tosca-templates/vnfd/tosca-config-openwrt-vrouter.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/da9e0e4b9b0ba9dbea1c985b0ae169e5a910120c', 'message': 'Modify OpenWRT image & rewrite deployment OpenWRT instruction\n\nThis patch adds the customized OpenWRT image that enables DHCP making\nthe VNF can be ping. Therefore, the continuously respawning of VNF\ncan be fixed.\n\nThis patch also rewrites the instruction of deploying VNF\nbased on OpenWRT.\n\nChange-Id: Ieb4d98fe374676bad101a6c2965354a9b19ea0a2\nCloses-Bug: #1557008\nCloses-Bug: #1749243\nCloses-Bug: #1709557\n'}]",16,543413,da9e0e4b9b0ba9dbea1c985b0ae169e5a910120c,40,5,17,27153,,,0,"Modify OpenWRT image & rewrite deployment OpenWRT instruction

This patch adds the customized OpenWRT image that enables DHCP making
the VNF can be ping. Therefore, the continuously respawning of VNF
can be fixed.

This patch also rewrites the instruction of deploying VNF
based on OpenWRT.

Change-Id: Ieb4d98fe374676bad101a6c2965354a9b19ea0a2
Closes-Bug: #1557008
Closes-Bug: #1749243
Closes-Bug: #1709557
",git fetch https://review.opendev.org/openstack/tacker refs/changes/13/543413/16 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/tacker', 'doc/source/install/deploy_openwrt.rst']",2,a0cf1bff6b00e54b117cefa8f3971f9869b6898f,bug/1557008,<https://downloads.openwrt.org/chaos_calmer/15.05.1/x86/kvm_guest/>`_.,<https://downloads.openwrt.org/chaos_calmer/15.05.1/x86/generic/>`_.,2,2
openstack%2Fcinder~master~I7faa711fc72cd81676812017a92ef40273f1bf7c,openstack/cinder,master,I7faa711fc72cd81676812017a92ef40273f1bf7c,Fix discrepancy in api-ref for volume_types APIs,MERGED,2017-12-07 11:21:00.000000000,2018-02-26 06:35:35.000000000,2017-12-14 00:59:31.000000000,"[{'_account_id': 1736}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 26541}]","[{'number': 1, 'created': '2017-12-07 11:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2c2d46c15f53a88c9d689124baf506ab1357f334', 'message': ""Fix discrepancy in api-ref for volume_types apis\n\nIn the api ref document, for create volume_types 'extra_specs'\nparameter is missing. And for parameter 'is_public', in code it\nis used as 'os-volume-type-access:is_public'. For update volume_types\napi as per api ref, 'name' and 'extra_specs' parameters are mandatory.\nBut in code 'name' is optional and 'extra_specs' implementation is not\ndone.\n\nThis patch fixes this discrepancy by updating the api-ref according to\nthe code.\n\nChange-Id: I7faa711fc72cd81676812017a92ef40273f1bf7c\n""}, {'number': 2, 'created': '2017-12-12 09:53:43.000000000', 'files': ['api-ref/source/v3/samples/volume-type-create-request.json', 'api-ref/source/v3/volumes-v3-types.inc', 'api-ref/source/v3/samples/volume-type-update-request.json', 'api-ref/source/v3/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/029767c0f24274925b7e737952e38591907f1048', 'message': ""Fix discrepancy in api-ref for volume_types APIs\n\nIn the api ref document, for create volume_types 'extra_specs'\nparameter is missing. And for parameter 'is_public', in code it\nis used as 'os-volume-type-access:is_public'. For update volume_types\napi as per api ref, 'name' and 'extra_specs' parameters are mandatory.\nBut in code 'name' is optional and 'extra_specs' implementation is not\ndone.\n\nThis patch fixes this discrepancy by updating the api-ref according to\nthe code.\n\nChange-Id: I7faa711fc72cd81676812017a92ef40273f1bf7c\n""}]",1,526344,029767c0f24274925b7e737952e38591907f1048,66,37,2,26541,,,0,"Fix discrepancy in api-ref for volume_types APIs

In the api ref document, for create volume_types 'extra_specs'
parameter is missing. And for parameter 'is_public', in code it
is used as 'os-volume-type-access:is_public'. For update volume_types
api as per api ref, 'name' and 'extra_specs' parameters are mandatory.
But in code 'name' is optional and 'extra_specs' implementation is not
done.

This patch fixes this discrepancy by updating the api-ref according to
the code.

Change-Id: I7faa711fc72cd81676812017a92ef40273f1bf7c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/526344/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/samples/volume-type-create-request.json', 'api-ref/source/v3/volumes-v3-types.inc', 'api-ref/source/v3/samples/volume-type-update-request.json', 'api-ref/source/v3/parameters.yaml']",4,2c2d46c15f53a88c9d689124baf506ab1357f334,volume_tyes_descripency, required: falsename_10: description: | The name of the volume type. in: body required: false type: string, required: true,15,9
openstack%2Foctavia~master~I002fef48fc6f6efa09822734c585cf7428921052,openstack/octavia,master,I002fef48fc6f6efa09822734c585cf7428921052,Raise exception when create volume error,ABANDONED,2018-02-26 06:05:11.000000000,2018-02-26 06:35:14.000000000,,"[{'_account_id': 21690}, {'_account_id': 21781}, {'_account_id': 27488}]","[{'number': 1, 'created': '2018-02-26 06:05:11.000000000', 'files': ['octavia/compute/drivers/nova_driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/bbbdf927d8bca52994d43eeb966334b88ea77f32', 'message': 'Raise exception when create volume error\n\nIn this case, volume can be in error state or wait too long to create\nWe use two options for interval check state of volume and timeout for\nraise exception.\n\nChange-Id: I002fef48fc6f6efa09822734c585cf7428921052\n'}]",3,547894,bbbdf927d8bca52994d43eeb966334b88ea77f32,5,3,1,27488,,,0,"Raise exception when create volume error

In this case, volume can be in error state or wait too long to create
We use two options for interval check state of volume and timeout for
raise exception.

Change-Id: I002fef48fc6f6efa09822734c585cf7428921052
",git fetch https://review.opendev.org/openstack/octavia refs/changes/94/547894/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/compute/drivers/nova_driver.py'],1,bbbdf927d8bca52994d43eeb966334b88ea77f32,feature-volume-based," start = int(time.time()) if int(time.time()) - start >= CONF.cinder.volume_create_timeout: raise cinder_exceptions.TimeoutException(obj=vol, action='create volume')",,4,0
openstack%2Foctavia~master~If3894ed66f789b1c183c2dda44c022093c92e0c7,openstack/octavia,master,If3894ed66f789b1c183c2dda44c022093c92e0c7,Fix requirements for cinder,ABANDONED,2018-02-24 10:35:30.000000000,2018-02-26 06:35:04.000000000,,"[{'_account_id': 6579}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-24 10:35:30.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/cbaec9da04e5a2999e2691a592b6e1a1ff132fee', 'message': 'Fix requirements for cinder\n\nChange-Id: If3894ed66f789b1c183c2dda44c022093c92e0c7\n'}]",0,547745,cbaec9da04e5a2999e2691a592b6e1a1ff132fee,4,2,1,27488,,,0,"Fix requirements for cinder

Change-Id: If3894ed66f789b1c183c2dda44c022093c92e0c7
",git fetch https://review.opendev.org/openstack/octavia refs/changes/45/547745/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,cbaec9da04e5a2999e2691a592b6e1a1ff132fee,feature-volume-based,python-cinderclient>=3.3.0 # Apache-2.0,python-cinderclient==3.1.0 # Apache-2.0,1,1
openstack%2Foctavia~master~Icdd77c41727adf9032ff5dae4e408cea25d79cec,openstack/octavia,master,Icdd77c41727adf9032ff5dae4e408cea25d79cec,Fix pep8 syntax,ABANDONED,2018-02-26 06:30:35.000000000,2018-02-26 06:34:53.000000000,,[],"[{'number': 1, 'created': '2018-02-26 06:30:35.000000000', 'files': ['octavia/compute/drivers/nova_driver.py', 'etc/octavia.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7fdd4cf8beb725cafbfdb1a083c344a4bf9493ca', 'message': 'Fix pep8 syntax\n\nChange-Id: Icdd77c41727adf9032ff5dae4e408cea25d79cec\n'}]",0,547899,7fdd4cf8beb725cafbfdb1a083c344a4bf9493ca,2,0,1,27488,,,0,"Fix pep8 syntax

Change-Id: Icdd77c41727adf9032ff5dae4e408cea25d79cec
",git fetch https://review.opendev.org/openstack/octavia refs/changes/99/547899/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/compute/drivers/nova_driver.py', 'etc/octavia.conf']",2,7fdd4cf8beb725cafbfdb1a083c344a4bf9493ca,feature-volume-based,# Size of root volume for Amphora Instance when use Cinder,# Size of root volume for Amphora Instance when use Cinder ,3,4
openstack%2Foctavia~master~I913f989ca35439681802e6b5622498b5347d08bf,openstack/octavia,master,I913f989ca35439681802e6b5622498b5347d08bf,Fix pep8,ABANDONED,2018-02-26 02:17:53.000000000,2018-02-26 06:34:44.000000000,,"[{'_account_id': 21690}, {'_account_id': 21781}, {'_account_id': 22348}, {'_account_id': 27488}]","[{'number': 1, 'created': '2018-02-26 02:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/01e2a3b3eb9968d7e99bd52b4fd7534c657610d3', 'message': 'Fix pep8\n\nChange-Id: I913f989ca35439681802e6b5622498b5347d08bf\n'}, {'number': 2, 'created': '2018-02-26 06:05:11.000000000', 'files': ['octavia/common/config.py', 'octavia/common/clients.py', 'octavia/compute/drivers/nova_driver.py', 'etc/octavia.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5e00c52f7366840a9bf9ae7e7e541f6167b2a119', 'message': 'Fix pep8\n\nChange-Id: I913f989ca35439681802e6b5622498b5347d08bf\n'}]",2,547881,5e00c52f7366840a9bf9ae7e7e541f6167b2a119,9,4,2,27488,,,0,"Fix pep8

Change-Id: I913f989ca35439681802e6b5622498b5347d08bf
",git fetch https://review.opendev.org/openstack/octavia refs/changes/81/547881/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/clients.py', 'octavia/compute/drivers/nova_driver.py']",2,01e2a3b3eb9968d7e99bd52b4fd7534c657610d3,feature-volume-based,,,2,0
openstack%2Foctavia~master~I5c0684144d3b16efa5f83c732c9f3ed22279a821,openstack/octavia,master,I5c0684144d3b16efa5f83c732c9f3ed22279a821,Fix pep8 syntax,ABANDONED,2018-02-24 16:26:40.000000000,2018-02-26 06:34:17.000000000,,"[{'_account_id': 6579}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-24 16:26:40.000000000', 'files': ['octavia/common/config.py', 'octavia/common/clients.py', 'octavia/compute/drivers/nova_driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d9275a2c4601ddd41f9a4ab2f9b76b42495d1e58', 'message': 'Fix pep8 syntax\n\nChange-Id: I5c0684144d3b16efa5f83c732c9f3ed22279a821\n'}]",0,547764,d9275a2c4601ddd41f9a4ab2f9b76b42495d1e58,6,3,1,27488,,,0,"Fix pep8 syntax

Change-Id: I5c0684144d3b16efa5f83c732c9f3ed22279a821
",git fetch https://review.opendev.org/openstack/octavia refs/changes/64/547764/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'octavia/common/clients.py', 'octavia/compute/drivers/nova_driver.py']",3,d9275a2c4601ddd41f9a4ab2f9b76b42495d1e58,feature-volume-based,,,8,3
openstack%2Foctavia~master~I345c2327f513e53be4a8fb10ba33e360ee78095f,openstack/octavia,master,I345c2327f513e53be4a8fb10ba33e360ee78095f,Fix pep8 syntax,ABANDONED,2018-02-24 18:19:11.000000000,2018-02-26 06:33:34.000000000,,"[{'_account_id': 6579}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-24 18:19:11.000000000', 'files': ['octavia/common/clients.py', 'octavia/compute/drivers/nova_driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/463badf20cbc01aa949e746c0e3cc6951a6b4fb7', 'message': 'Fix pep8 syntax\n\nChange-Id: I345c2327f513e53be4a8fb10ba33e360ee78095f\n'}]",0,547777,463badf20cbc01aa949e746c0e3cc6951a6b4fb7,4,2,1,27488,,,0,"Fix pep8 syntax

Change-Id: I345c2327f513e53be4a8fb10ba33e360ee78095f
",git fetch https://review.opendev.org/openstack/octavia refs/changes/77/547777/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/clients.py', 'octavia/compute/drivers/nova_driver.py']",2,463badf20cbc01aa949e746c0e3cc6951a6b4fb7,feature-volume-based,,,0,2
openstack%2Fos-net-config~stable%2Fnewton~I4975130961199ee04dd002ec987081299e3ddd4a,openstack/os-net-config,stable/newton,I4975130961199ee04dd002ec987081299e3ddd4a,OvS 2.7 support - dpdk-devargs needs to provided for DPDK devices,MERGED,2018-02-12 09:21:13.000000000,2018-02-26 06:31:26.000000000,2018-02-26 06:31:26.000000000,"[{'_account_id': 6133}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 21151}, {'_account_id': 21909}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-12 09:21:13.000000000', 'files': ['os_net_config/utils.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_utils.py', 'os_net_config/impl_ifcfg.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/2c7c5e66a7a7393745d67e46de23e69c0f2d4733', 'message': 'OvS 2.7 support - dpdk-devargs needs to provided for DPDK devices\n\nThe pci address of the DPDK NIC needs to be specified as dpdk-devargs\nwhen adding the DPDK port. This is required for using DPDK with\nOvS 2.7\n\nChange-Id: I4975130961199ee04dd002ec987081299e3ddd4a\nCloses-Bug: #1702457\nSigned-off-by: Karthik S <ksundara@redhat.com>\n(cherry picked from commit 312a77a1ac353c1a135ac0b901863bbe8ee66f20)\n'}]",0,543392,2c7c5e66a7a7393745d67e46de23e69c0f2d4733,10,7,1,21151,,,0,"OvS 2.7 support - dpdk-devargs needs to provided for DPDK devices

The pci address of the DPDK NIC needs to be specified as dpdk-devargs
when adding the DPDK port. This is required for using DPDK with
OvS 2.7

Change-Id: I4975130961199ee04dd002ec987081299e3ddd4a
Closes-Bug: #1702457
Signed-off-by: Karthik S <ksundara@redhat.com>
(cherry picked from commit 312a77a1ac353c1a135ac0b901863bbe8ee66f20)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/92/543392/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/utils.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_utils.py', 'os_net_config/impl_ifcfg.py']",4,2c7c5e66a7a7393745d67e46de23e69c0f2d4733,bug/1702457," # Validation of DPDK port having only one interface is done prior # to this. So accesing the interface name statically. # Also pci_address would be valid here, since # bind_dpdk_interfaces() is invoked before this. pci_address = utils.get_stored_pci_address( base_opt.members[0].name, self.noop) ovs_extra.append(""set Interface $DEVICE options:dpdk-devargs="" ""%s"" % pci_address) for bond_member in base_opt.members: # Validation of DPDK port having only one interface is done # prior to this. So accesing the interface name statically. # Also pci_address would be valid here, since # bind_dpdk_interfaces () is invoked before this. pci_address = utils.get_stored_pci_address( bond_member.members[0].name, self.noop) ovs_extra.append(""set Interface %s options:"" ""dpdk-devargs=%s"" % (bond_member.name, pci_address))",,129,4
openstack%2Fzun~master~Id47c95ca60a47ce43f4a89c29cb5d19b09427b7b,openstack/zun,master,Id47c95ca60a47ce43f4a89c29cb5d19b09427b7b,Move the Capsule API from Experimental to V1,MERGED,2018-02-13 10:01:17.000000000,2018-02-26 06:28:28.000000000,2018-02-26 06:28:28.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 23055}, {'_account_id': 23365}]","[{'number': 1, 'created': '2018-02-13 10:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/5016ab159d881807e69154996bfd1eb72a6b3238', 'message': 'Move the Capsule API from Experimental to V1\n\nPart of blueprint golang-client\n\nChange-Id: Id47c95ca60a47ce43f4a89c29cb5d19b09427b7b\nSigned-off-by: Kevin Zhao <kevin.zhao@arm.com>\n'}, {'number': 2, 'created': '2018-02-14 05:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/2da5e4747d204076d3c6e5dc3ccf357f3bed86ac', 'message': 'Move the Capsule API from Experimental to V1\n\nPart of blueprint golang-client\n\nChange-Id: Id47c95ca60a47ce43f4a89c29cb5d19b09427b7b\nSigned-off-by: Kevin Zhao <kevin.zhao@arm.com>\n'}, {'number': 3, 'created': '2018-02-23 03:28:34.000000000', 'files': ['zun/api/controllers/v1/schemas/capsules.py', 'doc/source/contributor/capsule.rst', 'devstack/lib/zun', 'zun/tests/unit/api/controllers/v1/test_capsules.py', 'zun/api/controllers/v1/views/capsules_view.py', 'zun/api/controllers/experimental/views/__init__.py', 'zun/api/controllers/root.py', 'zun/api/controllers/experimental/collection.py', 'zun/api/controllers/v1/capsules.py', 'zun/api/controllers/v1/__init__.py', 'zun/tests/unit/api/controllers/test_root.py', 'zun/tests/unit/api/controllers/experimental/__init__.py', 'zun/api/controllers/experimental/__init__.py', 'zun/api/controllers/experimental/schemas/__init__.py', 'zun/tests/unit/api/controllers/auth-experimental-access.ini'], 'web_link': 'https://opendev.org/openstack/zun/commit/0e741d0ba06e9c40647484e815461423657d3ae9', 'message': 'Move the Capsule API from Experimental to V1\n\nPart of blueprint golang-client\n\nChange-Id: Id47c95ca60a47ce43f4a89c29cb5d19b09427b7b\nSigned-off-by: Kevin Zhao <kevin.zhao@arm.com>\n'}]",0,543878,0e741d0ba06e9c40647484e815461423657d3ae9,13,4,3,22076,,,0,"Move the Capsule API from Experimental to V1

Part of blueprint golang-client

Change-Id: Id47c95ca60a47ce43f4a89c29cb5d19b09427b7b
Signed-off-by: Kevin Zhao <kevin.zhao@arm.com>
",git fetch https://review.opendev.org/openstack/zun refs/changes/78/543878/2 && git format-patch -1 --stdout FETCH_HEAD,"['zun/api/controllers/v1/schemas/capsules.py', 'doc/source/contributor/capsule.rst', 'devstack/lib/zun', 'zun/tests/unit/api/controllers/v1/test_capsules.py', 'zun/api/controllers/v1/views/capsules_view.py', 'zun/api/controllers/experimental/views/__init__.py', 'zun/api/controllers/root.py', 'zun/api/controllers/experimental/collection.py', 'zun/api/controllers/v1/capsules.py', 'zun/api/controllers/v1/__init__.py', 'zun/tests/unit/api/controllers/test_root.py', 'zun/tests/unit/api/controllers/experimental/__init__.py', 'zun/api/controllers/experimental/__init__.py', 'zun/api/controllers/experimental/schemas/__init__.py', 'zun/tests/unit/api/controllers/auth-experimental-access.ini']",15,5016ab159d881807e69154996bfd1eb72a6b3238,bp/golang-client,,"[pipeline:main] pipeline = cors request_id authtoken api_experimental [app:api_experimental] paste.app_factory = zun.api.app:app_factory [filter:authtoken] acl_public_routes = /experimental paste.filter_factory = zun.api.middleware.auth_token:AuthTokenMiddleware.factory [filter:request_id] paste.filter_factory = oslo_middleware:RequestId.factory [filter:cors] paste.filter_factory = oslo_middleware.cors:filter_factory oslo_config_project = zun latent_allow_methods = GET, PUT, POST, DELETE latent_allow_headers = X-Auth-Token, X-Identity-Status, X-Roles, X-Service-Catalog, X-User-Id, X-Tenant-Id, X-OpenStack-Request-ID latent_expose_headers = X-Auth-Token, X-Subject-Token, X-Service-Token, X-OpenStack-Request-ID ",27,295
openstack%2Fcinder~master~I5c466eae9a5247729264b5d6822d83f53ef033ef,openstack/cinder,master,I5c466eae9a5247729264b5d6822d83f53ef033ef,Speed up DataCore unit tests,MERGED,2017-12-12 08:22:25.000000000,2018-02-26 06:25:29.000000000,2017-12-25 23:56:32.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-12-12 08:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/111af7810263d8b0b7f20d248667fb349467144c', 'message': ""Speed up DataCore unit tests\n\nAdd necessary mocks for looping calls and remove timeouts in\nDataCore unit tests.\n\nThis patch aslo changes 'start' method signature of ZeroIntervalLoopingCall\nclass to correspond the base method's signature.\n\nChange-Id: I5c466eae9a5247729264b5d6822d83f53ef033ef\n""}, {'number': 2, 'created': '2017-12-12 21:01:47.000000000', 'files': ['cinder/tests/unit/volume/drivers/datacore/test_datacore_driver.py', 'cinder/tests/unit/utils.py', 'cinder/tests/unit/volume/drivers/datacore/test_datacore_api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/152cbaaf3a4903b078ee64c6cb093066a4a9d150', 'message': ""Speed up DataCore unit tests\n\nAdd necessary mocks for looping calls and remove timeouts in\nDataCore unit tests.\n\nThis patch aslo changes 'start' method signature of ZeroIntervalLoopingCall\nclass to correspond the base method's signature.\n\nChange-Id: I5c466eae9a5247729264b5d6822d83f53ef033ef\n""}]",2,527338,152cbaaf3a4903b078ee64c6cb093066a4a9d150,64,31,2,1736,,,0,"Speed up DataCore unit tests

Add necessary mocks for looping calls and remove timeouts in
DataCore unit tests.

This patch aslo changes 'start' method signature of ZeroIntervalLoopingCall
class to correspond the base method's signature.

Change-Id: I5c466eae9a5247729264b5d6822d83f53ef033ef
",git fetch https://review.opendev.org/openstack/cinder refs/changes/38/527338/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/datacore/test_datacore_driver.py', 'cinder/tests/unit/utils.py', 'cinder/tests/unit/volume/drivers/datacore/test_datacore_api.py']",3,111af7810263d8b0b7f20d248667fb349467144c,datacore-tests-speedup, self.client.API_RETRY_INTERVAL = 0,,30,6
openstack%2Fos-net-config~stable%2Focata~I4975130961199ee04dd002ec987081299e3ddd4a,openstack/os-net-config,stable/ocata,I4975130961199ee04dd002ec987081299e3ddd4a,OvS 2.7 support - dpdk-devargs needs to provided for DPDK devices,MERGED,2018-02-12 09:37:38.000000000,2018-02-26 06:18:35.000000000,2018-02-26 06:18:35.000000000,"[{'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 21151}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-02-12 09:37:38.000000000', 'files': ['os_net_config/utils.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_utils.py', 'os_net_config/impl_ifcfg.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/694f06c69bdffa7cae0d6cf2b7052ea3ab7a6590', 'message': 'OvS 2.7 support - dpdk-devargs needs to provided for DPDK devices\n\nThe pci address of the DPDK NIC needs to be specified as dpdk-devargs\nwhen adding the DPDK port. This is required for using DPDK with\nOvS 2.7\n\nChange-Id: I4975130961199ee04dd002ec987081299e3ddd4a\nCloses-Bug: #1702457\nSigned-off-by: Karthik S <ksundara@redhat.com>\n(cherry picked from commit 312a77a1ac353c1a135ac0b901863bbe8ee66f20)\n'}]",0,543396,694f06c69bdffa7cae0d6cf2b7052ea3ab7a6590,9,7,1,21151,,,0,"OvS 2.7 support - dpdk-devargs needs to provided for DPDK devices

The pci address of the DPDK NIC needs to be specified as dpdk-devargs
when adding the DPDK port. This is required for using DPDK with
OvS 2.7

Change-Id: I4975130961199ee04dd002ec987081299e3ddd4a
Closes-Bug: #1702457
Signed-off-by: Karthik S <ksundara@redhat.com>
(cherry picked from commit 312a77a1ac353c1a135ac0b901863bbe8ee66f20)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/96/543396/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/utils.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_utils.py', 'os_net_config/impl_ifcfg.py']",4,694f06c69bdffa7cae0d6cf2b7052ea3ab7a6590,bug/1702457," # Validation of DPDK port having only one interface is done prior # to this. So accesing the interface name statically. # Also pci_address would be valid here, since # bind_dpdk_interfaces() is invoked before this. pci_address = utils.get_stored_pci_address( base_opt.members[0].name, self.noop) ovs_extra.append(""set Interface $DEVICE options:dpdk-devargs="" ""%s"" % pci_address) for bond_member in base_opt.members: # Validation of DPDK port having only one interface is done # prior to this. So accesing the interface name statically. # Also pci_address would be valid here, since # bind_dpdk_interfaces () is invoked before this. pci_address = utils.get_stored_pci_address( bond_member.members[0].name, self.noop) ovs_extra.append(""set Interface %s options:"" ""dpdk-devargs=%s"" % (bond_member.name, pci_address))",,129,4
openstack%2Fcongress~master~If6e1e50160758cc9182333f2097fe6dbaaf351de,openstack/congress,master,If6e1e50160758cc9182333f2097fe6dbaaf351de,fix a typo,ABANDONED,2018-02-23 12:22:00.000000000,2018-02-26 06:10:25.000000000,,"[{'_account_id': 11278}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 12:22:00.000000000', 'files': ['thirdparty/antlr3-antlr-3.5/runtime/Python/antlr3/tokens.py', 'thirdparty/antlr3-antlr-3.5/runtime/Python3/antlr3/tokens.py'], 'web_link': 'https://opendev.org/openstack/congress/commit/7a29d48e2b016ddaa7b29414c3c4f169b7ef2368', 'message': 'fix a typo\n\nChange-Id: If6e1e50160758cc9182333f2097fe6dbaaf351de\n'}]",0,547407,7a29d48e2b016ddaa7b29414c3c4f169b7ef2368,5,3,1,21486,,,0,"fix a typo

Change-Id: If6e1e50160758cc9182333f2097fe6dbaaf351de
",git fetch https://review.opendev.org/openstack/congress refs/changes/07/547407/1 && git format-patch -1 --stdout FETCH_HEAD,"['thirdparty/antlr3-antlr-3.5/runtime/Python/antlr3/tokens.py', 'thirdparty/antlr3-antlr-3.5/runtime/Python3/antlr3/tokens.py']",2,7a29d48e2b016ddaa7b29414c3c4f169b7ef2368,, that start/stop indexes are not valid. It means that input, that start/stop indexes are not valid. It means that that input,2,2
openstack%2Fcinder~master~I240d8d6f1745f9611855e6f6897697b5a0748ef9,openstack/cinder,master,I240d8d6f1745f9611855e6f6897697b5a0748ef9,VMware: Revert to snapshot,MERGED,2017-08-22 18:50:32.000000000,2018-02-26 06:04:58.000000000,2017-11-08 22:47:54.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9171}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26233}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-08-22 18:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/de4cbe6ea8760f7eebbedf94e1bdca7aca32153d', 'message': 'VMware: Revert to snapshot\n\nAdding support for revert-to-snapshot in VMDK driver.\n\nChange-Id: I240d8d6f1745f9611855e6f6897697b5a0748ef9\n'}, {'number': 2, 'created': '2017-08-22 19:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c59292c6ffd47ce1af9bb4f36beb51676a9872e7', 'message': 'VMware: Revert to snapshot\n\nAdding support for revert-to-snapshot in VMDK driver.\n\nChange-Id: I240d8d6f1745f9611855e6f6897697b5a0748ef9\n'}, {'number': 3, 'created': '2017-09-05 21:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6cfb6c68afb8d4b35d326190f566287238ab0c2f', 'message': 'VMware: Revert to snapshot\n\nAdding support for revert-to-snapshot in VMDK driver.\n\nChange-Id: I240d8d6f1745f9611855e6f6897697b5a0748ef9\n'}, {'number': 4, 'created': '2017-10-24 20:19:50.000000000', 'files': ['cinder/tests/unit/volume/drivers/vmware/test_vmware_vmdk.py', 'releasenotes/notes/vmware-vmdk-revert-to-snapshot-ee3d638565649f44.yaml', 'cinder/volume/drivers/vmware/vmdk.py', 'cinder/volume/drivers/vmware/volumeops.py', 'cinder/tests/unit/volume/drivers/vmware/test_vmware_volumeops.py', 'cinder/volume/drivers/vmware/exceptions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/01971c9cb6cb555d0c440ffbb7332f18ed553930', 'message': 'VMware: Revert to snapshot\n\nAdding support for revert-to-snapshot for COW based snapshot\nin VMDK driver.\n\nChange-Id: I240d8d6f1745f9611855e6f6897697b5a0748ef9\n'}]",1,496365,01971c9cb6cb555d0c440ffbb7332f18ed553930,146,47,4,9171,,,0,"VMware: Revert to snapshot

Adding support for revert-to-snapshot for COW based snapshot
in VMDK driver.

Change-Id: I240d8d6f1745f9611855e6f6897697b5a0748ef9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/65/496365/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/vmware/test_vmware_vmdk.py', 'cinder/volume/drivers/vmware/vmdk.py', 'cinder/volume/drivers/vmware/volumeops.py', 'cinder/tests/unit/volume/drivers/vmware/test_vmware_volumeops.py', 'cinder/volume/drivers/vmware/exceptions.py']",5,de4cbe6ea8760f7eebbedf94e1bdca7aca32153d,revert_to_snapshot," class SnapshotNotFoundException(exceptions.VMwareDriverException): """"""Thrown when the backend snapshot cannot be found."""""" msg_fmt = _(""Snapshot: %(name)s not found."")",,88,5
openstack%2Fneutron~master~I4f22889df0e20034ceb2ff328f4185e0a51eb991,openstack/neutron,master,I4f22889df0e20034ceb2ff328f4185e0a51eb991,The file has grammar error,ABANDONED,2018-02-02 06:03:51.000000000,2018-02-26 06:04:47.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-02 06:03:51.000000000', 'files': ['doc/source/admin/config-dns-int.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d4ef8cfecf05c6c0245b79d4651c883a106c64d5', 'message': 'The file has grammar error\n\nChange-Id: I4f22889df0e20034ceb2ff328f4185e0a51eb991\n'}]",0,540261,d4ef8cfecf05c6c0245b79d4651c883a106c64d5,5,2,1,27399,,,0,"The file has grammar error

Change-Id: I4f22889df0e20034ceb2ff328f4185e0a51eb991
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/540261/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-dns-int.rst'],1,d4ef8cfecf05c6c0245b79d4651c883a106c64d5,neutronTemp,allocated ports will be known in the dnsmasq associated with their networks byuser booting an instance and then creating a floating IP associated with the port,allocated ports will be known in the dnsmasq associated to their networks byuser booting an instance and then creating a floating IP associated to the port,2,2
openstack%2Fneutron-vpnaas~master~I6f6ae79a79f8f426226af900027c8038ca537213,openstack/neutron-vpnaas,master,I6f6ae79a79f8f426226af900027c8038ca537213,Add Hunt Xu to list of driver maintainers,MERGED,2018-02-12 02:50:54.000000000,2018-02-26 05:55:45.000000000,2018-02-26 05:55:45.000000000,"[{'_account_id': 6854}, {'_account_id': 12860}, {'_account_id': 15905}, {'_account_id': 21781}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-12 02:50:54.000000000', 'files': ['doc/source/devref/team.rst'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/14f0ebb88282c1a3da746c00b09ab5931fc69bd8', 'message': 'Add Hunt Xu to list of driver maintainers\n\nI would like to add Hunt Xu as a maintainer for libreswan driver\nas He is currently focusing and active on it.\n\nChange-Id: I6f6ae79a79f8f426226af900027c8038ca537213\n'}]",0,543284,14f0ebb88282c1a3da746c00b09ab5931fc69bd8,20,5,1,15905,,,0,"Add Hunt Xu to list of driver maintainers

I would like to add Hunt Xu as a maintainer for libreswan driver
as He is currently focusing and active on it.

Change-Id: I6f6ae79a79f8f426226af900027c8038ca537213
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/84/543284/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/devref/team.rst'],1,14f0ebb88282c1a3da746c00b09ab5931fc69bd8,add-maintainer,| LibreSwanDriver | Hunt Xu | huntxu |,| LibreSwanDriver | ??? | ??? |,1,1
openstack%2Fpython-tackerclient~master~I53022ca915d5119668777fcebf2af25199b5c326,openstack/python-tackerclient,master,I53022ca915d5119668777fcebf2af25199b5c326,Add --tenant-id in VIM & VNFD osc commands,MERGED,2018-02-21 18:12:28.000000000,2018-02-26 05:31:36.000000000,2018-02-26 05:31:35.000000000,"[{'_account_id': 2874}, {'_account_id': 22348}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-02-21 18:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/9ef0337c66e96c6c35cffbd970833541cbc12c3d', 'message': 'Add --tenant-id in VIM & VNFD osc commands\n\nCompare to tacker commands, the vim and vnfd in\nosc commands donot have --tenant-id attribute\nwhen creating the vim or vnfd.\n\nChange-Id: I53022ca915d5119668777fcebf2af25199b5c326\n'}, {'number': 2, 'created': '2018-02-21 18:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/2d52e1c97640550bc1d736e2f3131b1f04ee93bf', 'message': 'Add --tenant-id in VIM & VNFD osc commands\n\nCompare to tacker commands, the vim and vnfd in\nosc commands donot have --tenant-id attribute\nwhen creating the vim or vnfd.\n\nChange-Id: I53022ca915d5119668777fcebf2af25199b5c326\nImplements: blueprint tacker-support-python-openstackclient\n'}, {'number': 3, 'created': '2018-02-21 18:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/bb2c4a93a60c69a42cc3d86e6e46dd600111b485', 'message': 'Add --request-format & --tenant-id in VIM & VNFD osc commands\n\nCompare to tacker commands, the vim and vnfd in osc commands\ndo not have --tenant-id & --tenant-id attribute when registering\nor creating the vim or vnfd.\n\nChange-Id: I53022ca915d5119668777fcebf2af25199b5c326\nImplements: blueprint tacker-support-python-openstackclient\n'}, {'number': 4, 'created': '2018-02-22 14:03:22.000000000', 'files': ['tackerclient/osc/v1/vnfm/vnfd.py', 'tackerclient/osc/v1/nfvo/vim.py'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/a7b17cc23898b110d9a56fca70fcb16b43e050cc', 'message': 'Add --tenant-id in VIM & VNFD osc commands\n\nCompare to tacker commands, the vim and vnfd in osc commands\ndo not have --tenant-id (or project id) argument when registering\nor creating the vim or vnfd.\n\nChange-Id: I53022ca915d5119668777fcebf2af25199b5c326\nImplements: blueprint tacker-support-python-openstackclient\n'}]",0,546718,a7b17cc23898b110d9a56fca70fcb16b43e050cc,12,3,4,27153,,,0,"Add --tenant-id in VIM & VNFD osc commands

Compare to tacker commands, the vim and vnfd in osc commands
do not have --tenant-id (or project id) argument when registering
or creating the vim or vnfd.

Change-Id: I53022ca915d5119668777fcebf2af25199b5c326
Implements: blueprint tacker-support-python-openstackclient
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/18/546718/4 && git format-patch -1 --stdout FETCH_HEAD,"['tackerclient/osc/v1/vnfm/vnfd.py', 'tackerclient/osc/v1/nfvo/vim.py']",2,9ef0337c66e96c6c35cffbd970833541cbc12c3d,bp/tacker-support-python-openstackclient," '--tenant-id', metavar='TENANT_ID', help=_('The owner tenant ID')) parser.add_argument(",,6,0
openstack%2Fbarbican~master~Idd7c8940085d9146ec695d4b5251edb5c78de9a1,openstack/barbican,master,Idd7c8940085d9146ec695d4b5251edb5c78de9a1,Remove use of unsupported TEMPEST_SERVICES variable,ABANDONED,2018-02-22 04:46:08.000000000,2018-02-26 04:17:51.000000000,,"[{'_account_id': 19554}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-22 04:46:08.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/barbican/commit/a260867cb9dc2b5a938fb0f7abc66f8afd7c4a99', 'message': 'Remove use of unsupported TEMPEST_SERVICES variable\n\nTEMPEST_SERVICES global variable is not supported\nby devstack since long back.\n- I380dd20e5ed716a0bdf92aa02c3730359b8136e4\n- I9c24705e494689f09a885eb0a640efd50db33fcf\n\nService availability of tempest known services will be\nset by devstack with local check.\n- I02be777bf93143d946ccbb8e9eff637bfd1928d4\n\nThis commit removes the unused TEMPEST_SERVICES setting\nRelated-Bug: #1743688\n\nChange-Id: Idd7c8940085d9146ec695d4b5251edb5c78de9a1\n'}]",0,546865,a260867cb9dc2b5a938fb0f7abc66f8afd7c4a99,5,2,1,19853,,,0,"Remove use of unsupported TEMPEST_SERVICES variable

TEMPEST_SERVICES global variable is not supported
by devstack since long back.
- I380dd20e5ed716a0bdf92aa02c3730359b8136e4
- I9c24705e494689f09a885eb0a640efd50db33fcf

Service availability of tempest known services will be
set by devstack with local check.
- I02be777bf93143d946ccbb8e9eff637bfd1928d4

This commit removes the unused TEMPEST_SERVICES setting
Related-Bug: #1743688

Change-Id: Idd7c8940085d9146ec695d4b5251edb5c78de9a1
",git fetch https://review.opendev.org/openstack/barbican refs/changes/65/546865/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,a260867cb9dc2b5a938fb0f7abc66f8afd7c4a99,bug/1743688,,"# Tell Tempest this project is present TEMPEST_SERVICES+=,barbican ",0,3
openstack%2Fopenstack-helm~master~I3b84e19ea3e6c02b990a372c29dfa6ad27b83b1d,openstack/openstack-helm,master,I3b84e19ea3e6c02b990a372c29dfa6ad27b83b1d,"gate: Simpler ""openstack object""",ABANDONED,2018-01-29 20:22:28.000000000,2018-02-26 04:00:48.000000000,,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-01-29 20:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2030ed113ae1ec83f59d97e2117a293229c0b958', 'message': 'gate: Use ""openstack object create"" in more robust (simpler) manner.\n\nChange-Id: I3b84e19ea3e6c02b990a372c29dfa6ad27b83b1d\n'}, {'number': 2, 'created': '2018-01-29 20:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/10fc80d421e70f1a60e3a72bfc9fa5acc7e8f51d', 'message': 'gate: Use ""openstack object create"" more simply\n\nChange-Id: I3b84e19ea3e6c02b990a372c29dfa6ad27b83b1d\n'}, {'number': 3, 'created': '2018-02-05 18:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4bbb307baa8ea99b2eac75295dae4ea38e0b1197', 'message': 'gate: Use ""openstack object create"" more simply\n\nChange-Id: I3b84e19ea3e6c02b990a372c29dfa6ad27b83b1d\n'}, {'number': 4, 'created': '2018-02-06 00:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7efb593abeb1ba2f4fe2c4d36ee696540466f115', 'message': 'gate: Use ""openstack object create"" more simply\n\nChange-Id: I3b84e19ea3e6c02b990a372c29dfa6ad27b83b1d\n'}, {'number': 5, 'created': '2018-02-19 20:57:45.000000000', 'files': ['tools/deployment/developer/ceph/110-ceph-radosgateway.sh', 'tools/deployment/multinode/090-ceph-radosgateway.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ab8b8344cca00db09c49e95ba2b0518d1cb438ff', 'message': 'gate: Simpler ""openstack object""\n\nChange-Id: I3b84e19ea3e6c02b990a372c29dfa6ad27b83b1d\n'}]",1,539014,ab8b8344cca00db09c49e95ba2b0518d1cb438ff,13,5,5,8898,,,0,"gate: Simpler ""openstack object""

Change-Id: I3b84e19ea3e6c02b990a372c29dfa6ad27b83b1d
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/14/539014/5 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/developer/ceph/110-ceph-radosgateway.sh', 'tools/deployment/multinode/090-ceph-radosgateway.sh']",2,2030ed113ae1ec83f59d97e2117a293229c0b958,openstack-object-simpler,"openstack container create mygreatcontainer echo ""I am $HOSTNAME"" > /tmp/whoami.txt openstack object create mygreatcontainer /tmp/whoami.txt",openstack container create 'mygreatcontainer' curl -L -o /tmp/important-file.jpg https://imgflip.com/s/meme/Cute-Cat.jpg openstack object create --name 'superimportantfile.jpg' 'mygreatcontainer' /tmp/important-file.jpg,6,6
openstack%2Fzun~master~I4f8a807ee5bde3eee9f512e222c00950572ca989,openstack/zun,master,I4f8a807ee5bde3eee9f512e222c00950572ca989,Failed to update memory for container,ABANDONED,2017-10-09 08:21:14.000000000,2018-02-26 03:39:32.000000000,,"[{'_account_id': 3}, {'_account_id': 11536}, {'_account_id': 16277}, {'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2017-10-09 08:21:14.000000000', 'files': ['zun/tests/unit/db/utils.py', 'zun/db/sqlalchemy/models.py', 'zun/api/controllers/v1/schemas/containers.py', 'zun/container/docker/driver.py', 'zun/objects/container.py', 'zun/db/sqlalchemy/alembic/versions/5b8c25d1b2ab_add_memory_swap.py', 'zun/tests/unit/objects/test_objects.py', 'zun/api/controllers/v1/containers.py', 'zun/common/validation/parameter_types.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/a3c1e53c815afd3d7d3f52334b6f46a4b7e126cf', 'message': 'Failed to update memory for container\n\nThe bug happens in docker v1.13:\n$docker update -m 10240000 0526a29a5b\nError response from daemon: Cannot update container\n0526a29a5b547812ce8c1f66e875cd45e2dbc7a54fa24e636b5f93d1cc8e0768:\nMemory limit should be smaller than already set memoryswap limit,\nupdate the memoryswap at the same time\n\nChange-Id: I4f8a807ee5bde3eee9f512e222c00950572ca989\nCloses-Bug: #1718879\n'}]",1,510439,a3c1e53c815afd3d7d3f52334b6f46a4b7e126cf,11,5,1,23365,,,0,"Failed to update memory for container

The bug happens in docker v1.13:
$docker update -m 10240000 0526a29a5b
Error response from daemon: Cannot update container
0526a29a5b547812ce8c1f66e875cd45e2dbc7a54fa24e636b5f93d1cc8e0768:
Memory limit should be smaller than already set memoryswap limit,
update the memoryswap at the same time

Change-Id: I4f8a807ee5bde3eee9f512e222c00950572ca989
Closes-Bug: #1718879
",git fetch https://review.opendev.org/openstack/zun refs/changes/39/510439/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/tests/unit/db/utils.py', 'zun/db/sqlalchemy/models.py', 'zun/api/controllers/v1/schemas/containers.py', 'zun/container/docker/driver.py', 'zun/objects/container.py', 'zun/api/controllers/v1/containers.py', 'zun/common/validation/parameter_types.py', 'zun/db/sqlalchemy/alembic/versions/5b8c25d1b2ab_add_memory_swap.py', 'zun/tests/unit/objects/test_objects.py']",9,a3c1e53c815afd3d7d3f52334b6f46a4b7e126cf,bug/1718879," 'Container': '1.23-759938227315b2b93bcd0ccf888a04af',"," 'Container': '1.22-ce965ef78647d4d20dd7c60b2eb1c19a',",55,3
openstack%2Fmasakari~master~I1d171718fbe23a66f5377164afbfee187efd41fb,openstack/masakari,master,I1d171718fbe23a66f5377164afbfee187efd41fb,Replace logging with oslo_log in python file,ABANDONED,2017-12-25 09:44:02.000000000,2018-02-26 03:27:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 23317}, {'_account_id': 25267}]","[{'number': 1, 'created': '2017-12-25 09:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/2b122922514fff873c5f4de2aff33ba0f57bc005', 'message': ""Replace logging with oslo_log in python file\n\nThe oslo.log (logging) configuration library provides standardized\nconfiguration for all openstack projects. It also provides custom\nformatters, handlers and support for context specific logging (like\nresource id's etc).\nI think it's better to use the common logging module.\n\nChange-Id: I1d171718fbe23a66f5377164afbfee187efd41fb\n""}, {'number': 2, 'created': '2017-12-26 00:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/d01eb98b2b78571a45de0171f94bf8e461e277a9', 'message': ""Replace logging with oslo_log in python file\n\nThe oslo.log (logging) configuration library provides standardized\nconfiguration for all openstack projects. It also provides custom\nformatters, handlers and support for context specific logging (like\nresource id's etc).\nI think it's better to use the common logging module.\n\nChange-Id: I1d171718fbe23a66f5377164afbfee187efd41fb\n""}, {'number': 3, 'created': '2017-12-26 07:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/0a7fb7a874fea790868d3ec3c6484ea84485e66b', 'message': ""Replace logging with oslo_log in python file\n\nThe oslo.log (logging) configuration library provides standardized\nconfiguration for all openstack projects. It also provides custom\nformatters, handlers and support for context specific logging (like\nresource id's etc).\nI think it's better to use the common logging module.\n\nChange-Id: I1d171718fbe23a66f5377164afbfee187efd41fb\n""}, {'number': 4, 'created': '2017-12-26 07:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/1ccf367164e53a575ff95e83b63595c52d5f9815', 'message': ""Replace logging with oslo_log in python file\n\nThe oslo.log (logging) configuration library provides standardized\nconfiguration for all openstack projects. It also provides custom\nformatters, handlers and support for context specific logging (like\nresource id's etc).\nI think it's better to use the common logging module.\n\nChange-Id: I1d171718fbe23a66f5377164afbfee187efd41fb\n""}, {'number': 5, 'created': '2017-12-26 07:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/faec71b625cc2afa111c24662b2f85dc6650ea6c', 'message': ""Replace logging with oslo_log in python file\n\nThe oslo.log (logging) configuration library provides standardized\nconfiguration for all openstack projects. It also provides custom\nformatters, handlers and support for context specific logging (like\nresource id's etc).\nI think it's better to use the common logging module.\n\nChange-Id: I1d171718fbe23a66f5377164afbfee187efd41fb\n""}, {'number': 6, 'created': '2017-12-26 07:40:55.000000000', 'files': ['masakari/policy.py', 'masakari/tests/unit/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/5e6460eb32634631999c4175bbcfb990b6658185', 'message': ""Replace logging with oslo_log in python file\n\nThe oslo.log (logging) configuration library provides standardized\nconfiguration for all openstack projects. It also provides custom\nformatters, handlers and support for context specific logging (like\nresource id's etc).\nI think it's better to use the common logging module.\n\nChange-Id: I1d171718fbe23a66f5377164afbfee187efd41fb\n""}]",0,530020,5e6460eb32634631999c4175bbcfb990b6658185,21,3,6,23317,,,0,"Replace logging with oslo_log in python file

The oslo.log (logging) configuration library provides standardized
configuration for all openstack projects. It also provides custom
formatters, handlers and support for context specific logging (like
resource id's etc).
I think it's better to use the common logging module.

Change-Id: I1d171718fbe23a66f5377164afbfee187efd41fb
",git fetch https://review.opendev.org/openstack/masakari refs/changes/20/530020/3 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/policy.py', 'masakari/tests/unit/db/test_migrations.py']",2,2b122922514fff873c5f4de2aff33ba0f57bc005,fix,from oslo_log import log as logging,import logging,2,2
openstack%2Fzaqar~master~I36d4dcb2a108f934baca21f15c951da15ba216b2,openstack/zaqar,master,I36d4dcb2a108f934baca21f15c951da15ba216b2,Modify grammatical errors,MERGED,2018-02-06 09:53:34.000000000,2018-02-26 03:27:13.000000000,2018-02-26 03:27:13.000000000,"[{'_account_id': 8846}, {'_account_id': 14203}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2018-02-06 09:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/e9e1dae7d5eb011b51d7ada12cc91918823ae1a8', 'message': 'Modify grammatical errors\n\nChange-Id: I36d4dcb2a108f934baca21f15c951da15ba216b2\n'}, {'number': 2, 'created': '2018-02-09 01:42:42.000000000', 'files': ['zaqar/storage/swift/utils.py', 'zaqar/storage/redis/messages.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/a4d942df01b56770542f49d100d96a25787323bd', 'message': 'Modify grammatical errors\n\nChange-Id: I36d4dcb2a108f934baca21f15c951da15ba216b2\n'}]",0,541213,a4d942df01b56770542f49d100d96a25787323bd,13,5,2,27549,,,0,"Modify grammatical errors

Change-Id: I36d4dcb2a108f934baca21f15c951da15ba216b2
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/13/541213/1 && git format-patch -1 --stdout FETCH_HEAD,"['zaqar/storage/swift/utils.py', 'zaqar/storage/redis/messages.py']",2,e9e1dae7d5eb011b51d7ada12cc91918823ae1a8,g26, before the message can be included as a part of the reply., before the the message can be included as a part of the reply.,2,2
openstack%2Fzun~master~I0615493431dd882895d12ecf67c72fc3d7a200ec,openstack/zun,master,I0615493431dd882895d12ecf67c72fc3d7a200ec,Remove unnecessary check on container init,MERGED,2018-02-19 03:37:13.000000000,2018-02-26 03:14:43.000000000,2018-02-26 03:14:43.000000000,"[{'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 23365}]","[{'number': 1, 'created': '2018-02-19 03:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/9ec265789327eb925d669b12a5a348322480a55e', 'message': 'Remove unnecessary check on container init\n\nThe container_start and container_stop are idempotent. It is safe\nto run them again on startup if it was unfinished.\n\nChange-Id: I0615493431dd882895d12ecf67c72fc3d7a200ec\n'}, {'number': 2, 'created': '2018-02-19 03:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/b72b15b5f09fe06c1cf0e694f37c7fe26b00a0f0', 'message': 'Remove unnecessary check on container init\n\nThe container_start and container_stop are idempotent. It is safe\nto run them again on startup if it was unfinished.\n\nChange-Id: I0615493431dd882895d12ecf67c72fc3d7a200ec\n'}, {'number': 3, 'created': '2018-02-22 04:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/c26fb5ecb174db3368d3c9485522bd9104b86474', 'message': 'Remove unnecessary check on container init\n\nThe container_start and container_stop are idempotent. It is safe\nto run them again on startup if it was unfinished.\n\nChange-Id: I0615493431dd882895d12ecf67c72fc3d7a200ec\n'}, {'number': 4, 'created': '2018-02-24 02:12:33.000000000', 'files': ['zun/tests/unit/compute/test_compute_manager.py', 'zun/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/dfdc8e1b1b61ff5369209d94bf84de97f621bc90', 'message': 'Remove unnecessary check on container init\n\nThe container_start and container_stop are idempotent. It is safe\nto run them again on startup if it was unfinished.\n\nChange-Id: I0615493431dd882895d12ecf67c72fc3d7a200ec\n'}]",0,545739,dfdc8e1b1b61ff5369209d94bf84de97f621bc90,17,4,4,11536,,,0,"Remove unnecessary check on container init

The container_start and container_stop are idempotent. It is safe
to run them again on startup if it was unfinished.

Change-Id: I0615493431dd882895d12ecf67c72fc3d7a200ec
",git fetch https://review.opendev.org/openstack/zun refs/changes/39/545739/4 && git format-patch -1 --stdout FETCH_HEAD,['zun/compute/manager.py'],1,9ec265789327eb925d669b12a5a348322480a55e,," self.container_stop(context, container, CONF.docker.default_timeout) self.container_start(context, container)"," if container.status == consts.STOPPED: LOG.info(""Container %s is already stop when stop is called."", container.uuid) self._update_task_state(context, container, None) else: self.container_stop(context, container, CONF.docker.default_timeout) if container.status == consts.RUNNING: LOG.info(""Container %s is already start when start is called."", container.uuid) self._update_task_state(context, container, None) else: self.container_start(context, container)",3,13
openstack%2Fzun~master~Ib8fa46acf05ea067bc41795382e368dd296d1a60,openstack/zun,master,Ib8fa46acf05ea067bc41795382e368dd296d1a60,Add status_reason on setting container to error,MERGED,2018-02-19 03:17:25.000000000,2018-02-26 03:14:42.000000000,2018-02-26 03:14:42.000000000,"[{'_account_id': 10206}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 25695}]","[{'number': 1, 'created': '2018-02-19 03:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/f757762cd2020bbb4bb29a8524b755d94252438b', 'message': 'Add status_reason on setting container to error\n\nChange-Id: Ib8fa46acf05ea067bc41795382e368dd296d1a60\n'}, {'number': 2, 'created': '2018-02-22 04:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/3552288a344db2450109030270f7ebb63503aa69', 'message': 'Add status_reason on setting container to error\n\nChange-Id: Ib8fa46acf05ea067bc41795382e368dd296d1a60\n'}, {'number': 3, 'created': '2018-02-24 02:12:26.000000000', 'files': ['zun/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/87a3370ca09cfa982980d09e29858cd4df411fab', 'message': 'Add status_reason on setting container to error\n\nChange-Id: Ib8fa46acf05ea067bc41795382e368dd296d1a60\n'}]",0,545737,87a3370ca09cfa982980d09e29858cd4df411fab,15,5,3,11536,,,0,"Add status_reason on setting container to error

Change-Id: Ib8fa46acf05ea067bc41795382e368dd296d1a60
",git fetch https://review.opendev.org/openstack/zun refs/changes/37/545737/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/compute/manager.py'],1,f757762cd2020bbb4bb29a8524b755d94252438b,," container.status_reason = _(""Container failed to create correctly"")",,1,0
openstack%2Fzun~master~Ide785f81ad80708e893a6f3941d8bc159e731e6a,openstack/zun,master,Ide785f81ad80708e893a6f3941d8bc159e731e6a,Remove unnecessary try catch block,MERGED,2018-02-19 03:09:40.000000000,2018-02-26 03:14:40.000000000,2018-02-26 03:14:40.000000000,"[{'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 21428}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 25695}]","[{'number': 1, 'created': '2018-02-19 03:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/ef3b78b84f6654ddefb0a01008e944cd944a3467', 'message': ""Remove unnecessary try catch block\n\nThat is because the wrapping methods are simply for spawning a thread\nso it won't raise any exception.\n\nChange-Id: Ide785f81ad80708e893a6f3941d8bc159e731e6a\n""}, {'number': 2, 'created': '2018-02-22 04:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/12ac8f5ebca710f05a690367fc1511df8e9ad627', 'message': ""Remove unnecessary try catch block\n\nThat is because the wrapping methods are simply for spawning a thread\nso it won't raise any exception.\n\nChange-Id: Ide785f81ad80708e893a6f3941d8bc159e731e6a\n""}, {'number': 3, 'created': '2018-02-24 02:12:17.000000000', 'files': ['zun/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/c16afb3b242dbbafbc60946a59ab4d3c7aaf9c32', 'message': ""Remove unnecessary try catch block\n\nThat is because the wrapping methods are simply for spawning a thread\nso it won't raise any exception.\n\nChange-Id: Ide785f81ad80708e893a6f3941d8bc159e731e6a\n""}]",0,545736,c16afb3b242dbbafbc60946a59ab4d3c7aaf9c32,18,7,3,11536,,,0,"Remove unnecessary try catch block

That is because the wrapping methods are simply for spawning a thread
so it won't raise any exception.

Change-Id: Ide785f81ad80708e893a6f3941d8bc159e731e6a
",git fetch https://review.opendev.org/openstack/zun refs/changes/36/545736/3 && git format-patch -1 --stdout FETCH_HEAD,['zun/compute/manager.py'],1,ef3b78b84f6654ddefb0a01008e944cd944a3467,," self.container_reboot(context, container, 10) self.container_delete(context, container, force=True) self.container_reboot(context, container, CONF.docker.default_timeout) self.container_stop(context, container, CONF.docker.default_timeout) self.container_start(context, container)"," try: self.container_reboot(context, container, 10) except Exception: LOG.exception(""Failed to complete a restart for container %s"", container.uuid) try: self.container_delete(context, container, force=True) except Exception: # Don't block the init_container LOG.exception(""Failed to complete a deletion for container %s"", container.uuid) try: self.container_reboot(context, container, CONF.docker.default_timeout) except Exception: # Don't block the init_container LOG.exception(""Failed to reboot container %s"", container.uuid) try: self.container_stop(context, container, CONF.docker.default_timeout) except Exception: # Don't block the init_container LOG.exception(""Failed to stop container %s"", container.uuid) try: self.container_start(context, container) except Exception: # Don't block the init_container LOG.exception(""Failed to start container %s"", container.uuid)",7,31
openstack%2Fzun~master~Ia7e471e248bd0ae63606a55be10b7c633235d476,openstack/zun,master,Ia7e471e248bd0ae63606a55be10b7c633235d476,Add additional task state to init,MERGED,2018-02-18 22:03:06.000000000,2018-02-26 03:14:39.000000000,2018-02-26 03:14:39.000000000,"[{'_account_id': 10206}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 25571}, {'_account_id': 25695}]","[{'number': 1, 'created': '2018-02-18 22:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/6e777858b81930b0c17efcb2162444bf96c7711f', 'message': '[WIP] Fix two minor issues on init\n\nChange-Id: Ia7e471e248bd0ae63606a55be10b7c633235d476\n'}, {'number': 2, 'created': '2018-02-19 01:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/e616d7a605d89521e94da5295f76d771b3881127', 'message': 'Add additional task state to init\n\nChange-Id: Ia7e471e248bd0ae63606a55be10b7c633235d476\n'}, {'number': 3, 'created': '2018-02-22 04:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/ab14122dfba85e3dde1921fd0143cee1acba31e4', 'message': 'Add additional task state to init\n\nChange-Id: Ia7e471e248bd0ae63606a55be10b7c633235d476\n'}, {'number': 4, 'created': '2018-02-24 02:12:11.000000000', 'files': ['zun/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/cff9c4b3c376b91f939ba0938b0140b3bb924c30', 'message': 'Add additional task state to init\n\nChange-Id: Ia7e471e248bd0ae63606a55be10b7c633235d476\n'}]",0,545721,cff9c4b3c376b91f939ba0938b0140b3bb924c30,16,6,4,11536,,,0,"Add additional task state to init

Change-Id: Ia7e471e248bd0ae63606a55be10b7c633235d476
",git fetch https://review.opendev.org/openstack/zun refs/changes/21/545721/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/tests/unit/compute/test_compute_manager.py', 'zun/compute/manager.py']",2,6e777858b81930b0c17efcb2162444bf96c7711f,," consts.IMAGE_PULLING, consts.SANDBOX_CREATING]): self._do_container_delete(context, container, force=True)"," consts.IMAGE_PULLING]): self.container_delete(context, container, force=True)",5,4
openstack%2Fzun~master~I8279634e78a69419d5b18751c9f125335bd66d5a,openstack/zun,master,I8279634e78a69419d5b18751c9f125335bd66d5a,Get local containers list from driver,MERGED,2018-02-18 00:03:57.000000000,2018-02-26 03:14:37.000000000,2018-02-26 03:14:37.000000000,"[{'_account_id': 11536}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 23365}, {'_account_id': 25695}]","[{'number': 1, 'created': '2018-02-18 00:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/982fd1f4b884789398a99540cdad1e221710ad6f', 'message': '[WIP] Get local containers list from driver\n\nChange-Id: I8279634e78a69419d5b18751c9f125335bd66d5a\n'}, {'number': 2, 'created': '2018-02-18 00:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/aa87bab5a150d6d70a90af4ed52643e4c4ccf06c', 'message': '[WIP] Get local containers list from driver\n\nChange-Id: I8279634e78a69419d5b18751c9f125335bd66d5a\n'}, {'number': 3, 'created': '2018-02-18 05:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/243bc1351e536b1eab9710d11782ce35d0ab8bd0', 'message': '[WIP] Get local containers list from driver\n\nChange-Id: I8279634e78a69419d5b18751c9f125335bd66d5a\n'}, {'number': 4, 'created': '2018-02-18 18:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/73650290a7bf790c83c1961130ce481a1f6e2341', 'message': '[WIP] Get local containers list from driver\n\nChange-Id: I8279634e78a69419d5b18751c9f125335bd66d5a\n'}, {'number': 5, 'created': '2018-02-18 19:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/3cd39f64ae203386f487e7f57d05eda3913ca1ad', 'message': ""Get local containers list from driver\n\nIn before, we get the list of local containers from database.\nIn particular, we perform a DB call to list containers with\nfilters that matches the container's host to local host.\n\nThis patch proposes a slightly better approach that retrieves\nthe list of local containers from driver (i.e. Docker Daemon).\nIn particular, we define a method 'list_container_uuids' in the\ndriver interface. Each driver needs to implement this method to\nproduce a list of container uuids. The compute manager will\ngenerate a list of Container objects based on the uuids.\n\nAn advantage of the new approach is that it allows us to detect\nif there are some containers in the Docker daemon but not\nrecorded in DB (for various reasons such as misconfiguration).\n\nChange-Id: I8279634e78a69419d5b18751c9f125335bd66d5a\n""}, {'number': 6, 'created': '2018-02-18 20:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/915957efa4bb8690e23d502ebbe3f01ea95bb1d2', 'message': ""Get local containers list from driver\n\nIn before, we get the list of local containers from database.\nIn particular, we perform a DB call to list containers with\nfilters that matches the container's host to local host.\n\nThis patch proposes a slightly better approach that retrieves\nthe list of local containers from driver (i.e. Docker Daemon).\nIn particular, we define a method 'list_container_uuids' in the\ndriver interface. Each driver needs to implement this method to\nproduce a list of container uuids. The compute manager will\ngenerate a list of Container objects based on the uuids.\n\nAn advantage of the new approach is that it allows us to detect\nif there are some containers in the Docker daemon but not\nrecorded in DB (for various reasons such as misconfiguration).\n\nChange-Id: I8279634e78a69419d5b18751c9f125335bd66d5a\n""}, {'number': 7, 'created': '2018-02-19 00:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/be0eb79386b832953f2037e29b9c15e8a5d27ea0', 'message': ""Get local containers list from driver\n\nIn before, we get the list of local containers from database.\nIn particular, we perform a DB call to list containers with\nfilters that matches the container's host to current host.\nThere are some corner cases that could produce an incomplete\nlist of local containers. For example, if a container is present\nin the driver (Docker) but couldn't be found on querying the DB\ndue to host mismatch (which could happen for reasons such as\nthe host of the compute node is misconfigured).\n\nTo resolve the issue, this patch proposes to get a list of\ncontainers from DB and get another list of containers from driver.\nThen, take a union set of both lists. The final list will present\nto periodic task to sync the container's state.\n\nChange-Id: I8279634e78a69419d5b18751c9f125335bd66d5a\n""}, {'number': 8, 'created': '2018-02-19 00:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/af06864aba7b00deabdbd442c1e8480190ac9604', 'message': ""Get local containers list from driver\n\nIn before, we get the list of local containers from database.\nIn particular, we perform a DB call to list containers with\nfilters that matches the container's host to current host.\nThere are some corner cases that could produce an incomplete\nlist of local containers. For example, if a container is present\nin the driver (Docker) but couldn't be found on querying the DB\ndue to host mismatch (which could happen for reasons such as\nthe host of the compute node is misconfigured).\n\nTo resolve the issue, this patch proposes to get a list of\ncontainers from DB and get another list of containers from driver.\nThen, take a union set of both lists. The final list will present\nto periodic task to sync the container's state.\n\nChange-Id: I8279634e78a69419d5b18751c9f125335bd66d5a\n""}, {'number': 9, 'created': '2018-02-22 04:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/73982f6fc483a9984984f3602acd768dc16039cc', 'message': ""Get local containers list from driver\n\nIn before, we get the list of local containers from database.\nIn particular, we perform a DB call to list containers with\nfilters that matches the container's host to current host.\nThere are some corner cases that could produce an incomplete\nlist of local containers. For example, if a container is present\nin the driver (Docker) but couldn't be found on querying the DB\ndue to host mismatch (which could happen for reasons such as\nthe host of the compute node is misconfigured).\n\nTo resolve the issue, this patch proposes to get a list of\ncontainers from DB and get another list of containers from driver.\nThen, take a union set of both lists. The final list will present\nto periodic task to sync the container's state.\n\nChange-Id: I8279634e78a69419d5b18751c9f125335bd66d5a\n""}, {'number': 10, 'created': '2018-02-23 09:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/3d391cb755789f482647908ebf1283bf8d106085', 'message': ""Get local containers list from driver\n\nIn before, we get the list of local containers from database.\nIn particular, we perform a DB call to list containers with\nfilters that matches the container's host to current host.\nThere are some corner cases that could produce an incomplete\nlist of local containers. For example, if a container is present\nin the driver (Docker) but couldn't be found on querying the DB\ndue to host mismatch (which could happen for reasons such as\nthe host of the compute node is misconfigured).\n\nTo resolve the issue, this patch proposes to get a list of\ncontainers from DB and get another list of containers from driver.\nThen, take a union set of both lists. The final list will present\nto periodic task to sync the container's state.\n\nChange-Id: I8279634e78a69419d5b18751c9f125335bd66d5a\n""}, {'number': 11, 'created': '2018-02-23 10:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/24eae37f388033aa8d47644c767d2759f755d65e', 'message': ""Get local containers list from driver\n\nIn before, we get the list of local containers from database.\nIn particular, we perform a DB call to list containers with\nfilters that matches the container's host to current host.\nThere are some corner cases that could produce an incomplete\nlist of local containers. For example, if a container is present\nin the driver (Docker) but couldn't be found on querying the DB\ndue to host mismatch (which could happen for reasons such as\nthe host of the compute node is misconfigured).\n\nTo resolve the issue, this patch proposes to get a list of\ncontainers from DB and get another list of containers from driver.\nThen, take a union set of both lists. The final list will present\nto periodic task to sync the container's state.\n\nChange-Id: I8279634e78a69419d5b18751c9f125335bd66d5a\n""}, {'number': 12, 'created': '2018-02-24 02:10:49.000000000', 'files': ['zun/container/docker/driver.py', 'zun/db/sqlalchemy/api.py', 'zun/tests/unit/container/docker/test_docker_driver.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/88261edd200e2b1cdac9a6e6bececc8d25d547b7', 'message': ""Get local containers list from driver\n\nIn before, we get the list of local containers from database.\nIn particular, we perform a DB call to list containers with\nfilters that matches the container's host to current host.\nThere are some corner cases that could produce an incomplete\nlist of local containers. For example, if a container is present\nin the driver (Docker) but couldn't be found on querying the DB\ndue to host mismatch (which could happen for reasons such as\nthe host of the compute node is misconfigured).\n\nTo resolve the issue, this patch proposes to get a list of\ncontainers from DB and get another list of containers from driver.\nThen, take a union set of both lists. The final list will present\nto periodic task to sync the container's state.\n\nChange-Id: I8279634e78a69419d5b18751c9f125335bd66d5a\n""}]",4,545643,88261edd200e2b1cdac9a6e6bececc8d25d547b7,35,6,12,11536,,,0,"Get local containers list from driver

In before, we get the list of local containers from database.
In particular, we perform a DB call to list containers with
filters that matches the container's host to current host.
There are some corner cases that could produce an incomplete
list of local containers. For example, if a container is present
in the driver (Docker) but couldn't be found on querying the DB
due to host mismatch (which could happen for reasons such as
the host of the compute node is misconfigured).

To resolve the issue, this patch proposes to get a list of
containers from DB and get another list of containers from driver.
Then, take a union set of both lists. The final list will present
to periodic task to sync the container's state.

Change-Id: I8279634e78a69419d5b18751c9f125335bd66d5a
",git fetch https://review.opendev.org/openstack/zun refs/changes/43/545643/5 && git format-patch -1 --stdout FETCH_HEAD,"['zun/container/docker/driver.py', 'zun/compute/manager.py', 'zun/db/sqlalchemy/api.py']",3,982fd1f4b884789398a99540cdad1e221710ad6f,545643," 'auto_remove', 'uuid']", 'auto_remove'],30,3
openstack%2Fzun~master~Ia583934ef0d3e39b043eeb059a5aa6ce58ec3503,openstack/zun,master,Ia583934ef0d3e39b043eeb059a5aa6ce58ec3503,Add unit test for filter with list,MERGED,2018-02-18 05:25:00.000000000,2018-02-26 03:14:36.000000000,2018-02-26 03:14:36.000000000,"[{'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 23365}, {'_account_id': 25695}, {'_account_id': 27577}]","[{'number': 1, 'created': '2018-02-18 05:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/ff2f6d9956eb141fb80bdf83b1fcaa9f3239ed0c', 'message': ""Support filter containers with list\n\nIn before, we supports filter containers with string value.\nFor example, the filter can be\n\n  {'name': 'my_container'}\n\nThe result will return a list of containers with that name.\nRight now, we add support for list as filter value.\nFor example, the filter can be\n\n  {'name': ['my_container', 'my_second_container']}\n\nThe result will be a list of containers with the name in the list.\n\nChange-Id: Ia583934ef0d3e39b043eeb059a5aa6ce58ec3503\n""}, {'number': 2, 'created': '2018-02-22 02:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/8fd8810a0dae946d8c3c1d7e471ef2c3b7085fce', 'message': ""Support filter containers with list\n\nIn before, we supports filter containers with string value.\nFor example, the filter can be\n\n  {'name': 'my_container'}\n\nThe result will return a list of containers with that name.\nRight now, we add support for list as filter value.\nFor example, the filter can be\n\n  {'name': ['my_container', 'my_second_container']}\n\nThe result will be a list of containers with the name in the list.\n\nChange-Id: Ia583934ef0d3e39b043eeb059a5aa6ce58ec3503\n""}, {'number': 3, 'created': '2018-02-23 09:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/f635a785ec3ac7b715c96165dd4b1eeff6e354d4', 'message': ""Support filter containers with list\n\nIn before, we supports filter containers with string value.\nFor example, the filter can be\n\n  {'name': 'my_container'}\n\nThe result will return a list of containers with that name.\nRight now, we add support for list as filter value.\nFor example, the filter can be\n\n  {'name': ['my_container', 'my_second_container']}\n\nThe result will be a list of containers with the name in the list.\n\nChange-Id: Ia583934ef0d3e39b043eeb059a5aa6ce58ec3503\n""}, {'number': 4, 'created': '2018-02-23 10:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/fdbdf9700bb3758f27ad096b9e6b783781a87e67', 'message': ""Support filter containers with list\n\nIn before, we supports filter containers with string value.\nFor example, the filter can be\n\n  {'name': 'my_container'}\n\nThe result will return a list of containers with that name.\nRight now, we add support for list as filter value.\nFor example, the filter can be\n\n  {'name': ['my_container', 'my_second_container']}\n\nThe result will be a list of containers with the name in the list.\n\nChange-Id: Ia583934ef0d3e39b043eeb059a5aa6ce58ec3503\n""}, {'number': 5, 'created': '2018-02-24 02:04:44.000000000', 'files': ['zun/tests/unit/db/test_container.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/603236b953045b42dc60071730fa0222e2726ab4', 'message': ""Add unit test for filter with list\n\nIn before, we supports filter containers with string value.\nFor example, the filter can be\n\n  {'name': 'my_container'}\n\nThe result will return a list of containers with that name.\nRight now, we add support for list as filter value.\nFor example, the filter can be\n\n  {'name': ['my_container', 'my_second_container']}\n\nThe result will be a list of containers with the name in the list.\nThis patch adds unit test case for this feature.\n\nChange-Id: Ia583934ef0d3e39b043eeb059a5aa6ce58ec3503\n""}]",0,545650,603236b953045b42dc60071730fa0222e2726ab4,26,7,5,11536,,,0,"Add unit test for filter with list

In before, we supports filter containers with string value.
For example, the filter can be

  {'name': 'my_container'}

The result will return a list of containers with that name.
Right now, we add support for list as filter value.
For example, the filter can be

  {'name': ['my_container', 'my_second_container']}

The result will be a list of containers with the name in the list.
This patch adds unit test case for this feature.

Change-Id: Ia583934ef0d3e39b043eeb059a5aa6ce58ec3503
",git fetch https://review.opendev.org/openstack/zun refs/changes/50/545650/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/db/sqlalchemy/api.py', 'zun/tests/unit/db/test_container.py']",2,ff2f6d9956eb141fb80bdf83b1fcaa9f3239ed0c,545643," def test_list_containers_with_list_filters(self): container1 = utils.create_test_container( name='container-one', uuid=uuidutils.generate_uuid(), context=self.context) container2 = utils.create_test_container( name='container-two', uuid=uuidutils.generate_uuid(), context=self.context) res = dbapi.list_containers( self.context, filters={'name': ['container-one', 'container-two']}) uuids = sorted([container1.uuid, container2.uuid]) self.assertEqual(uuids, sorted([r.uuid for r in res])) ",,21,1
openstack%2Fneutron-vpnaas~master~Ic96f31dce81ecf4db2daa2e9cba649eaff8f81d6,openstack/neutron-vpnaas,master,Ic96f31dce81ecf4db2daa2e9cba649eaff8f81d6,Add IPv6 VPNaaS scenario tests,MERGED,2018-01-12 12:34:11.000000000,2018-02-26 03:11:23.000000000,2018-02-26 03:11:23.000000000,"[{'_account_id': 841}, {'_account_id': 6854}, {'_account_id': 15905}, {'_account_id': 21781}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-12 12:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/80eabb0c03367a21afb0d4ac5eeee6ff1e630253', 'message': 'Add IPv6 VPNaaS scenario tests\n\nChange-Id: Ic96f31dce81ecf4db2daa2e9cba649eaff8f81d6\nCloses-Bug: #1692130\n'}, {'number': 2, 'created': '2018-01-14 14:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/910b504a063546bb3a19d028f26f4c40cb45c207', 'message': 'Add IPv6 VPNaaS scenario tests\n\nChange-Id: Ic96f31dce81ecf4db2daa2e9cba649eaff8f81d6\nCloses-Bug: #1692130\n'}, {'number': 3, 'created': '2018-01-14 15:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/7315863ed58eb30522d534aeba96d9090f5ba0c8', 'message': 'Add IPv6 VPNaaS scenario tests\n\nChange-Id: Ic96f31dce81ecf4db2daa2e9cba649eaff8f81d6\nCloses-Bug: #1692130\n'}, {'number': 4, 'created': '2018-01-14 15:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/c6e48556b57a14bd23ac83b9dcd203c0eadc84bb', 'message': 'Add IPv6 VPNaaS scenario tests\n\nChange-Id: Ic96f31dce81ecf4db2daa2e9cba649eaff8f81d6\nCloses-Bug: #1692130\n'}, {'number': 5, 'created': '2018-01-15 07:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/f4f80edd441c3709047476e885210fe48a534dfc', 'message': 'Add IPv6 VPNaaS scenario tests\n\nChange-Id: Ic96f31dce81ecf4db2daa2e9cba649eaff8f81d6\nCloses-Bug: #1692130\n'}, {'number': 6, 'created': '2018-01-15 08:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/b0bac39d18b74533219af25cb652e044e69a3d9e', 'message': 'Add IPv6 VPNaaS scenario tests\n\nChange-Id: Ic96f31dce81ecf4db2daa2e9cba649eaff8f81d6\nCloses-Bug: #1692130\n'}, {'number': 7, 'created': '2018-01-15 09:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/72c8db7738ce31152c02baf6c9ce7a26981af6ce', 'message': 'Add IPv6 VPNaaS scenario tests\n\nChange-Id: Ic96f31dce81ecf4db2daa2e9cba649eaff8f81d6\nCloses-Bug: #1692130\n'}, {'number': 8, 'created': '2018-01-15 14:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/d04191b3e08ae9241c64f5e9fa444804bea6b843', 'message': 'Add IPv6 VPNaaS scenario tests\n\nChange-Id: Ic96f31dce81ecf4db2daa2e9cba649eaff8f81d6\nCloses-Bug: #1692130\n'}, {'number': 9, 'created': '2018-01-15 16:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/99240939ebdf79fe9702e35aa5caf54828d34556', 'message': 'Add IPv6 VPNaaS scenario tests\n\nChange-Id: Ic96f31dce81ecf4db2daa2e9cba649eaff8f81d6\nCloses-Bug: #1692130\n'}, {'number': 10, 'created': '2018-01-16 03:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/56af4b01745ee30331d3aab92cc9608f4a16019d', 'message': 'Add IPv6 VPNaaS scenario tests\n\nChange-Id: Ic96f31dce81ecf4db2daa2e9cba649eaff8f81d6\nCloses-Bug: #1692130\n'}, {'number': 11, 'created': '2018-01-16 06:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/5037dba57f9b061753a491a281af410a13eb639e', 'message': 'Add IPv6 VPNaaS scenario tests\n\nChange-Id: Ic96f31dce81ecf4db2daa2e9cba649eaff8f81d6\nCloses-Bug: #1692130\n'}, {'number': 12, 'created': '2018-01-16 10:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/ec6041370f92cdfaa2888ef9969414f89e3f200a', 'message': 'Add IPv6 VPNaaS scenario tests\n\nChange-Id: Ic96f31dce81ecf4db2daa2e9cba649eaff8f81d6\nCloses-Bug: #1692130\n'}, {'number': 13, 'created': '2018-01-17 03:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/8d1a1c6aba3b013672a3beb0841b16dbbd5ea26f', 'message': 'Add IPv6 VPNaaS scenario tests\n\nChange-Id: Ic96f31dce81ecf4db2daa2e9cba649eaff8f81d6\nCloses-Bug: #1692130\n'}, {'number': 14, 'created': '2018-02-07 07:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/c9c9c07e6a8d613fefcbd7833d35d9c7cbd70b13', 'message': 'Add IPv6 VPNaaS scenario tests\n\nChange-Id: Ic96f31dce81ecf4db2daa2e9cba649eaff8f81d6\nCloses-Bug: #1692130\n'}, {'number': 15, 'created': '2018-02-08 10:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/f5bccab9c89239993f6a3715f8d2c6cfc794c0ec', 'message': 'Add IPv6 VPNaaS scenario tests\n\nChange-Id: Ic96f31dce81ecf4db2daa2e9cba649eaff8f81d6\nCloses-Bug: #1692130\n'}, {'number': 16, 'created': '2018-02-09 03:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/590b8738818345cc158422c39534da3fecdbc1ee', 'message': 'Add IPv6 VPNaaS scenario tests\n\nChange-Id: Ic96f31dce81ecf4db2daa2e9cba649eaff8f81d6\nCloses-Bug: #1692130\n'}, {'number': 17, 'created': '2018-02-09 03:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/693d151ad6250a70d8a21a6752cbbe803dd06f0a', 'message': 'Add IPv6 VPNaaS scenario tests\n\nChange-Id: Ic96f31dce81ecf4db2daa2e9cba649eaff8f81d6\nCloses-Bug: #1692130\n'}, {'number': 18, 'created': '2018-02-09 03:56:31.000000000', 'files': ['neutron_vpnaas/tests/tempest/scenario/test_vpnaas.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/3500b48c5e4e01e884fda99bd0bf853879884ffe', 'message': 'Add IPv6 VPNaaS scenario tests\n\nChange-Id: Ic96f31dce81ecf4db2daa2e9cba649eaff8f81d6\nCloses-Bug: #1692130\n'}]",11,533172,3500b48c5e4e01e884fda99bd0bf853879884ffe,65,5,18,21781,,,0,"Add IPv6 VPNaaS scenario tests

Change-Id: Ic96f31dce81ecf4db2daa2e9cba649eaff8f81d6
Closes-Bug: #1692130
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/72/533172/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/tests/tempest/scenario/test_vpnaas.py'],1,80eabb0c03367a21afb0d4ac5eeee6ff1e630253,bug/1692130,"import testtools cls.ipv6_enabled = CONF.network_feature_enabled.ipv6 cls.subnet_v6 = None if cls.ipv6_enabled: cls.subnet_v6 = cls.create_subnet( cls.network, ip_version=6, name='left-subnet-v6') cls.create_router_interface(cls.router['id'], cls.subnet_v6['id']) ( cls._right_network, cls._right_subnet, cls._right_subnet_v6, cls._right_router ) = cls._create_right_network() subnet_v6 = None if cls.ipv6_enabled: subnet_v6 = cls.create_subnet(network, name='right-subnet-v6') return network, subnet, subnet_v6, router def _setup_vpn(self, inner_ipv6=False, outer_ipv6=False): dict(name=""left"", network=self.network, subnet=self.subnet, subnet_v6=self.subnet_v6, subnet=self._right_subnet, subnet_v6=self._right_subnet_v6, router=self._right_router), if inner_ipv6: subnet_id = site['subnet_v6']['id'] else: subnet_id = site['subnet']['id'] subnet_id, site['router']['id'], if outer_ipv6: peer_address = peer['vpnservice']['external_v6_ip'] peer_cidrs = [peer['subnet_v6']['cidr']] if not peer_address: msg = ""Public network must have an IPv6 subnet."" raise self.skipException(msg) else: peer_address = peer['vpnservice']['external_v4_ip'] peer_cidrs = [peer['subnet']['cidr']] peer_cidrs=peer_cidrs, @classmethod def _get_server_ip_address_on_subnet(cls, server, subnet): for fixed_ip in server['port']['fixed_ips']: if fixed_ip['subnet_id'] == subnet['id']: return fixed_ip['ip_address'] msg = ""Cannot get IP address on specified subnet for server."" raise cls.skipException(msg) right_ip = self._get_server_ip_address_on_subnet( right_server, self._right_subnet) self.check_remote_connectivity(ssh_client, right_ip, should_succeed=False) self.check_remote_connectivity(ssh_client, right_ip) @decorators.idempotent_id('2d5f18dc-6186-4deb-842b-051325bd0466') @testtools.skipUnless(CONF.network_feature_enabled.ipv6, 'IPv6 tests are disabled.') def test_vpnaas_4in6(self): # RIGHT right_server = self._create_server(network=self._right_network, create_floating_ip=False) # LEFT left_server = self._create_server() ssh_client = ssh.Client(left_server['fip']['floating_ip_address'], CONF.validation.image_ssh_user, pkey=self.keypair['private_key']) right_ip = self._get_server_ip_address_on_subnet( right_server, self._right_subnet) # check LEFT -> RIGHT connectivity via VPN self.check_remote_connectivity(ssh_client, right_ip, should_succeed=False) self._setup_vpn(outer_ipv6=True) self.check_remote_connectivity(ssh_client, right_ip)"," cls._right_network, cls._right_subnet, cls._right_router = \ cls._create_right_network() return network, subnet, router def _setup_vpn(self): dict(name=""left"", network=self.network, subnet=self.subnet, subnet=self._right_subnet, router=self._right_router), site['subnet']['id'], site['router']['id'], peer_address = peer['vpnservice']['external_v4_ip'] peer_cidrs=[peer['subnet']['cidr']], self.check_remote_connectivity(ssh_client, right_server['port']['fixed_ips'][0]['ip_address'], should_succeed=False) self.check_remote_connectivity(ssh_client, right_server['port']['fixed_ips'][0]['ip_address'])",73,14
openstack%2Fkuryr-libnetwork~master~I43f3402a72a0a999defab1da89e42ff297ca69f8,openstack/kuryr-libnetwork,master,I43f3402a72a0a999defab1da89e42ff297ca69f8,remove KuryrException when create kuryr subnetpool,ABANDONED,2018-02-26 01:31:10.000000000,2018-02-26 02:57:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-02-26 01:31:10.000000000', 'files': ['kuryr_libnetwork/controllers.py'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/5ae2364365fac7fc64cb036d00520094bae3a788', 'message': 'remove KuryrException when create kuryr subnetpool\n\nDuplicatedResourceException would be raised if\nthere were same subnetpools, instead of KuryrException.\n\nChange-Id: I43f3402a72a0a999defab1da89e42ff297ca69f8\n'}]",0,547873,5ae2364365fac7fc64cb036d00520094bae3a788,3,1,1,27701,,,0,"remove KuryrException when create kuryr subnetpool

DuplicatedResourceException would be raised if
there were same subnetpools, instead of KuryrException.

Change-Id: I43f3402a72a0a999defab1da89e42ff297ca69f8
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/73/547873/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_libnetwork/controllers.py'],1,5ae2364365fac7fc64cb036d00520094bae3a788,fixBug, _get_subnetpools_by_attrs(**kwargs)," pools = _get_subnetpools_by_attrs(**kwargs) if len(pools): raise exceptions.KuryrException( ""Another pool with same cidr exist. ipam and network"" "" options not used to pass pool name"")",1,5
openstack%2Fpython-tackerclient~master~I366923e2759ffd85bb4594b82b55472bbdb7f783,openstack/python-tackerclient,master,I366923e2759ffd85bb4594b82b55472bbdb7f783,"Fix ""F821 undefined name 'unicode' error when run tox pep8",MERGED,2018-02-24 11:17:32.000000000,2018-02-26 02:51:29.000000000,2018-02-26 02:51:29.000000000,"[{'_account_id': 2874}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27153}]","[{'number': 1, 'created': '2018-02-24 11:17:32.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/a6b721690c8eeb6796664f314a77fda3e4476e6d', 'message': 'Fix ""F821 undefined name \'unicode\' error when run tox pep8\n\nThis patch fix the error when running tox pep8 on the master\nbranch of python-tackerclient:\n\n./tackerclient/tacker/v1_0/vnfm/vnf.py:166:62: F821 undefined\nname \'unicode\'\n            if isinstance(config, str) or isinstance(config, unicode):\n                                                             ^\nERROR: InvocationError:\n    \'/home/projects/python-tackerclient/.tox/pep8/bin/flake8\'\n\nChange-Id: I366923e2759ffd85bb4594b82b55472bbdb7f783\nCloses-bug: #1751441\n'}]",0,547747,a6b721690c8eeb6796664f314a77fda3e4476e6d,8,4,1,27068,,,0,"Fix ""F821 undefined name 'unicode' error when run tox pep8

This patch fix the error when running tox pep8 on the master
branch of python-tackerclient:

./tackerclient/tacker/v1_0/vnfm/vnf.py:166:62: F821 undefined
name 'unicode'
            if isinstance(config, str) or isinstance(config, unicode):
                                                             ^
ERROR: InvocationError:
    '/home/projects/python-tackerclient/.tox/pep8/bin/flake8'

Change-Id: I366923e2759ffd85bb4594b82b55472bbdb7f783
Closes-bug: #1751441
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/47/547747/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a6b721690c8eeb6796664f314a77fda3e4476e6d,bug/1751441,"# F821 undefined name 'unicode' # if isinstance(config, str) or isinstance(config, unicode): builtins = unicode",,3,0
openstack%2Fpython-tackerclient~master~I800c71a2c2cf5d1710ed6b4c9e4d5b63b31ced4f,openstack/python-tackerclient,master,I800c71a2c2cf5d1710ed6b4c9e4d5b63b31ced4f,Complete VNFFGD osc commands,MERGED,2018-02-21 19:58:52.000000000,2018-02-26 02:47:19.000000000,2018-02-26 02:47:18.000000000,"[{'_account_id': 2874}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2018-02-21 19:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/7cecb441f4850866fa0ae41cc49931b2eaf16001', 'message': 'Complete VNFFGD osc commands\n\nResults: http://paste.openstack.org/show/680427/\n\nChange-Id: I800c71a2c2cf5d1710ed6b4c9e4d5b63b31ced4f\nImplements: blueprint tacker-support-python-openstackclient\n'}, {'number': 2, 'created': '2018-02-21 20:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/12c1517117fab51197bd5a37a903459583983b60', 'message': 'Complete VNFFGD osc commands\n\nResults: http://paste.openstack.org/show/680427/\n\nChange-Id: I800c71a2c2cf5d1710ed6b4c9e4d5b63b31ced4f\nImplements: blueprint tacker-support-python-openstackclient\n'}, {'number': 3, 'created': '2018-02-22 14:08:47.000000000', 'files': ['tackerclient/osc/v1/nfvo/vnffgd.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/d967a881aa4d7c0feac656d6d93cdd1e70eefb5d', 'message': 'Complete VNFFGD osc commands\n\nPlease see the results here:\nhttp://paste.openstack.org/show/680427/\n\nChange-Id: I800c71a2c2cf5d1710ed6b4c9e4d5b63b31ced4f\nImplements: blueprint tacker-support-python-openstackclient\n'}]",0,546757,d967a881aa4d7c0feac656d6d93cdd1e70eefb5d,11,3,3,27153,,,0,"Complete VNFFGD osc commands

Please see the results here:
http://paste.openstack.org/show/680427/

Change-Id: I800c71a2c2cf5d1710ed6b4c9e4d5b63b31ced4f
Implements: blueprint tacker-support-python-openstackclient
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/57/546757/1 && git format-patch -1 --stdout FETCH_HEAD,"['tackerclient/osc/v1/nfvo/vnffgd.py', 'setup.cfg']",2,7cecb441f4850866fa0ae41cc49931b2eaf16001,bp/tacker-support-python-openstackclient, vnf_graph_descriptor_create = tackerclient.osc.v1.nfvo.vnffgd:CreateVNFFGD vnf_graph_descriptor_delete = tackerclient.osc.v1.nfvo.vnffgd:DeleteVNFFGD vnf_graph_descriptor_list = tackerclient.osc.v1.nfvo.vnffgd:ListVNFFGD vnf_graph_descriptor_show = tackerclient.osc.v1.nfvo.vnffgd:ShowVNFFGD vnf_graph_descriptor_template_show = tackerclient.osc.v1.nfvo.vnffgd:ShowTemplateVNFFGD,,225,0
openstack%2Fneutron-vpnaas~master~Ia9132cfbe3997d9fc54cf4864f42a7cdec055641,openstack/neutron-vpnaas,master,Ia9132cfbe3997d9fc54cf4864f42a7cdec055641,Clean imports in code,MERGED,2018-02-21 08:44:06.000000000,2018-02-26 02:38:55.000000000,2018-02-26 02:38:55.000000000,"[{'_account_id': 6854}, {'_account_id': 15905}, {'_account_id': 20363}, {'_account_id': 21781}, {'_account_id': 22348}, {'_account_id': 25695}]","[{'number': 1, 'created': '2018-02-21 08:44:06.000000000', 'files': ['neutron_vpnaas/tests/unit/services/vpn/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/19dcd8f58add56faae24d25d6e6cb2a2b2a0103d', 'message': 'Clean imports in code\n\nIn some part in the code we import objects. In the Openstack style guidelines\nthey recommend to import only modules. [1]: ""Do not import objects, only modules"".\n\n[1] https://docs.openstack.org/hacking/0.10.3/\n\nChange-Id: Ia9132cfbe3997d9fc54cf4864f42a7cdec055641\n'}]",0,546536,19dcd8f58add56faae24d25d6e6cb2a2b2a0103d,10,6,1,19853,,,0,"Clean imports in code

In some part in the code we import objects. In the Openstack style guidelines
they recommend to import only modules. [1]: ""Do not import objects, only modules"".

[1] https://docs.openstack.org/hacking/0.10.3/

Change-Id: Ia9132cfbe3997d9fc54cf4864f42a7cdec055641
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/36/546536/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/tests/unit/services/vpn/test_plugin.py'],1,19dcd8f58add56faae24d25d6e6cb2a2b2a0103d,,"from neutron.services.flavors import flavors_plugin directory.add_plugin(p_constants.FLAVORS, flavors_plugin.FlavorsPlugin()) directory.add_plugin(p_constants.FLAVORS, flavors_plugin.FlavorsPlugin()) directory.add_plugin(p_constants.FLAVORS, flavors_plugin.FlavorsPlugin()) directory.add_plugin(p_constants.FLAVORS, flavors_plugin.FlavorsPlugin())","from neutron.services.flavors.flavors_plugin import FlavorsPlugin directory.add_plugin(p_constants.FLAVORS, FlavorsPlugin()) directory.add_plugin(p_constants.FLAVORS, FlavorsPlugin()) directory.add_plugin(p_constants.FLAVORS, FlavorsPlugin()) directory.add_plugin(p_constants.FLAVORS, FlavorsPlugin())",9,5
openstack%2Fwatcher~stable%2Fpike~I57c50ff97efa43efe4fd81875e481b25e9a18cc6,openstack/watcher,stable/pike,I57c50ff97efa43efe4fd81875e481b25e9a18cc6,workload_stabilization trivial fix,MERGED,2018-02-20 14:42:04.000000000,2018-02-26 02:31:06.000000000,2018-02-26 02:31:06.000000000,"[{'_account_id': 13111}, {'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-20 14:42:04.000000000', 'files': ['watcher/decision_engine/strategy/strategies/workload_stabilization.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/f5157f2894cb3f96d383fe66d5bca68be212a529', 'message': 'workload_stabilization trivial fix\n\nThis fix allows to compare metric name by value,\nnot by object.\n\nChange-Id: I57c50ff97efa43efe4fd81875e481b25e9a18cc6\n'}]",0,546164,f5157f2894cb3f96d383fe66d5bca68be212a529,7,3,1,19055,,,0,"workload_stabilization trivial fix

This fix allows to compare metric name by value,
not by object.

Change-Id: I57c50ff97efa43efe4fd81875e481b25e9a18cc6
",git fetch https://review.opendev.org/openstack/watcher refs/changes/64/546164/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/decision_engine/strategy/strategies/workload_stabilization.py'],1,f5157f2894cb3f96d383fe66d5bca68be212a529,, if metric == 'cpu_util':, if metric is 'cpu_util':,1,1
openstack%2Fneutron-vpnaas-dashboard~master~If913cec5ac623a240b18b8fa3593530cce1bb3d8,openstack/neutron-vpnaas-dashboard,master,If913cec5ac623a240b18b8fa3593530cce1bb3d8,Change support to supported,ABANDONED,2018-02-07 06:03:37.000000000,2018-02-26 02:21:41.000000000,,"[{'_account_id': 841}, {'_account_id': 15905}, {'_account_id': 21781}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-07 06:03:37.000000000', 'files': ['releasenotes/notes/split-out-from-horizon-4807f953d5dc0799.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/55eb2407786aa6a347566c5fd14316ad75cde353', 'message': 'Change support to supported\n\nChange-Id: If913cec5ac623a240b18b8fa3593530cce1bb3d8\n'}]",0,541551,55eb2407786aa6a347566c5fd14316ad75cde353,6,4,1,27399,,,0,"Change support to supported

Change-Id: If913cec5ac623a240b18b8fa3593530cce1bb3d8
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/51/541551/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/split-out-from-horizon-4807f953d5dc0799.yaml'],1,55eb2407786aa6a347566c5fd14316ad75cde353,vpntemp, Neutron VPNaaS supported in the OpenStack Dashboard is now split out into Neutron VPNaaS supported in the OpenStack Dashboard is now split out into a, Neutron VPNaaS support in the OpenStack Dashboard is now split out into Neutron VPNaaS support in the OpenStack Dashboard is now split out into a,2,2
openstack%2Fzun~master~I6f8a54b290a7910248c776b42d486f8c9d362676,openstack/zun,master,I6f8a54b290a7910248c776b42d486f8c9d362676,Consolidate periodic tasks,MERGED,2018-02-16 10:03:44.000000000,2018-02-26 02:07:30.000000000,2018-02-26 02:07:30.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 25571}]","[{'number': 1, 'created': '2018-02-16 10:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/a14bd5398ac452be86d8e27f07e4aa347f7de257', 'message': ""Consolidate periodic tasks\n\nRight now, periodic tasks are defined in two files:\n\n* https://github.com/openstack/zun/blob/master/zun/service/periodic.py\n* https://github.com/openstack/zun/blob/master/zun/compute/manager.py\n\nI think it is better to consolidate all periodic tasks into one file.\nThis will be slightly better for developers to search. Let's\nfollow nova's convention to define all compute node's periodic\ntask into compute/manager.py\n\nChange-Id: I6f8a54b290a7910248c776b42d486f8c9d362676\nCloses-Bug: #1745078\n""}, {'number': 2, 'created': '2018-02-16 10:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/aaa4787d65245d3006484a123b19bd1a44459782', 'message': ""[WIP]Consolidate periodic tasks\n\nRight now, periodic tasks are defined in two files:\n\n* https://github.com/openstack/zun/blob/master/zun/service/periodic.py\n* https://github.com/openstack/zun/blob/master/zun/compute/manager.py\n\nI think it is better to consolidate all periodic tasks into one file.\nThis will be slightly better for developers to search. Let's\nfollow nova's convention to define all compute node's periodic\ntask into compute/manager.py\n\nChange-Id: I6f8a54b290a7910248c776b42d486f8c9d362676\nCloses-Bug: #1745078\n""}, {'number': 3, 'created': '2018-02-19 03:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/5e1a261abcb34f333ea90740c8f8caaa8f023a0e', 'message': ""[WIP]Consolidate periodic tasks\n\nRight now, periodic tasks are defined in two files:\n\n* https://github.com/openstack/zun/blob/master/zun/service/periodic.py\n* https://github.com/openstack/zun/blob/master/zun/compute/manager.py\n\nI think it is better to consolidate all periodic tasks into one file.\nThis will be slightly better for developers to search. Let's\nfollow nova's convention to define all compute node's periodic\ntask into compute/manager.py\n\nChange-Id: I6f8a54b290a7910248c776b42d486f8c9d362676\nCloses-Bug: #1745078\n""}, {'number': 4, 'created': '2018-02-19 04:11:00.000000000', 'files': ['zun/service/periodic.py', 'zun/compute/manager.py', 'zun/servicegroup/zun_service_periodic.py', 'zun/common/rpc_service.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/80bdbb1c4f9033dee26586fa6fb42322e52b6ec7', 'message': ""Consolidate periodic tasks\n\nRight now, periodic tasks are defined in two files:\n\n* https://github.com/openstack/zun/blob/master/zun/service/periodic.py\n* https://github.com/openstack/zun/blob/master/zun/compute/manager.py\n\nI think it is better to consolidate all periodic tasks into one file.\nThis will be slightly better for developers to search. Let's\nfollow nova's convention to define all compute node's periodic\ntask into compute/manager.py\n\nChange-Id: I6f8a54b290a7910248c776b42d486f8c9d362676\nCloses-Bug: #1745078\n""}]",1,545254,80bdbb1c4f9033dee26586fa6fb42322e52b6ec7,17,4,4,25695,,,0,"Consolidate periodic tasks

Right now, periodic tasks are defined in two files:

* https://github.com/openstack/zun/blob/master/zun/service/periodic.py
* https://github.com/openstack/zun/blob/master/zun/compute/manager.py

I think it is better to consolidate all periodic tasks into one file.
This will be slightly better for developers to search. Let's
follow nova's convention to define all compute node's periodic
task into compute/manager.py

Change-Id: I6f8a54b290a7910248c776b42d486f8c9d362676
Closes-Bug: #1745078
",git fetch https://review.opendev.org/openstack/zun refs/changes/54/545254/4 && git format-patch -1 --stdout FETCH_HEAD,"['zun/service/periodic.py', 'zun/compute/manager.py', 'zun/servicegroup/zun_service_periodic.py', 'zun/common/rpc_service.py']",4,a14bd5398ac452be86d8e27f07e4aa347f7de257,bug/1745078,"from zun.compute import manager manager.setup(CONF, self.tg)","from zun.service import periodic periodic.setup(CONF, self.tg)",34,73
openstack%2Fsenlin~master~I727cd003c5b4295edcbfb5e0b5fbb9afc45f13eb,openstack/senlin,master,I727cd003c5b4295edcbfb5e0b5fbb9afc45f13eb,Update url in HACKING.rst,MERGED,2018-02-25 17:36:06.000000000,2018-02-26 01:58:24.000000000,2018-02-26 01:58:24.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-25 17:36:06.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/7d810d46c94ba028d88750213794be4c769ae548', 'message': 'Update url in HACKING.rst\n\nChange-Id: I727cd003c5b4295edcbfb5e0b5fbb9afc45f13eb\n'}]",0,547848,7d810d46c94ba028d88750213794be4c769ae548,6,2,1,17130,,,0,"Update url in HACKING.rst

Change-Id: I727cd003c5b4295edcbfb5e0b5fbb9afc45f13eb
",git fetch https://review.opendev.org/openstack/senlin refs/changes/48/547848/1 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,7d810d46c94ba028d88750213794be4c769ae548,fix-url, https://docs.openstack.org/hacking/latest/, https://docs.openstack.org/developer/hacking/,1,1
openstack%2Fwatcher~master~I9770121b0b0064c3ddfb582e5eaf6ee52ae8d6bb,openstack/watcher,master,I9770121b0b0064c3ddfb582e5eaf6ee52ae8d6bb,[Trivialfix]Modify a grammatical error,MERGED,2018-02-23 08:51:43.000000000,2018-02-26 01:47:50.000000000,2018-02-26 01:47:50.000000000,"[{'_account_id': 19457}, {'_account_id': 21486}, {'_account_id': 21692}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 08:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/8d3510788f3166183b3e7dc48885e0653bf3aa44', 'message': 'Modify a grammatical error\n\nModify a grammatical error in basic_consolidation.py.\n\nChange-Id: I9770121b0b0064c3ddfb582e5eaf6ee52ae8d6bb\n'}, {'number': 2, 'created': '2018-02-23 09:16:24.000000000', 'files': ['watcher/decision_engine/strategy/strategies/basic_consolidation.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/dd210292ae07460bc26c30ba2f807125d91ef3c6', 'message': '[Trivialfix]Modify a grammatical error\n\nModify a grammatical error in basic_consolidation.py.\n\nChange-Id: I9770121b0b0064c3ddfb582e5eaf6ee52ae8d6bb\n'}]",0,547323,dd210292ae07460bc26c30ba2f807125d91ef3c6,11,5,2,23317,,,0,"[Trivialfix]Modify a grammatical error

Modify a grammatical error in basic_consolidation.py.

Change-Id: I9770121b0b0064c3ddfb582e5eaf6ee52ae8d6bb
",git fetch https://review.opendev.org/openstack/watcher refs/changes/23/547323/2 && git format-patch -1 --stdout FETCH_HEAD,['watcher/decision_engine/strategy/strategies/basic_consolidation.py'],1,8d3510788f3166183b3e7dc48885e0653bf3aa44,modify, :return: True if there is enough place otherwise false, :return: True if the there is enough place otherwise false,1,1
openstack%2Fdesignate~master~Icb8817a699a8c12957126a0499d95d13b8eeda6d,openstack/designate,master,Icb8817a699a8c12957126a0499d95d13b8eeda6d,Migrate object to OVO (7),MERGED,2017-06-08 09:22:35.000000000,2018-02-26 01:44:58.000000000,2018-02-26 01:44:57.000000000,"[{'_account_id': 3}, {'_account_id': 8099}, {'_account_id': 8871}, {'_account_id': 13252}, {'_account_id': 19741}, {'_account_id': 19930}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 24441}, {'_account_id': 25254}]","[{'number': 1, 'created': '2017-06-08 09:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b0cafcdc15bd0c7982250ca036ef180032fa27e3', 'message': '[WIP][DO NOT MERGED] Migrate object to OVO (7)\n\n- Remove base objects\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 2, 'created': '2017-06-08 10:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b3e52f1ff77d0a371ff59ace1884ceb7aaa528ed', 'message': 'Migrate object to OVO (7)\n\n- Remove base objects\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 3, 'created': '2017-06-08 10:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b005591ad8268a625a7ef7aa2fceb538402f9425', 'message': 'Migrate object to OVO (7)\n\n- Remove base objects\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 4, 'created': '2017-06-08 15:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/6c19749977c89e32bc87fe34a9388df02b76f595', 'message': 'Migrate object to OVO (7)\n\n- Remove base objects\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 5, 'created': '2017-06-08 17:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2c6242c296bfeb6e63c28945761c0c849820b954', 'message': 'Migrate object to OVO (7)\n\n- Remove base objects\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 6, 'created': '2017-06-09 01:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4ba9a7d2311264cd9c919ff740529e935bc1577b', 'message': 'Migrate object to OVO (7)\n\n- Remove old base objects\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 7, 'created': '2017-06-12 02:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ff6763fb361390d952f2087b2aa19613ae8e2fea', 'message': 'Migrate object to OVO (7)\n\n- Remove old base objects\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 8, 'created': '2017-06-29 01:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/34b763ab6ad8383cd2ed10dd9010d21529f74739', 'message': 'Migrate object to OVO (7)\n\n- Remove old base objects\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 9, 'created': '2017-06-29 04:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/bf2f7290d9980965afe689ac0b4129c4a41ab104', 'message': 'Migrate object to OVO (7)\n\n- Remove old base objects\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 10, 'created': '2017-08-02 08:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/83b7619da8289cde7d68b0972c39199d9f5a9ae1', 'message': 'Migrate object to OVO (7)\n\n- Remove old base objects\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 11, 'created': '2017-08-08 03:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d8655d4ebee872bb0b2b48148aa2e8bdc6b80145', 'message': 'Migrate object to OVO (7)\n\n- Remove old base objects\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 12, 'created': '2017-08-23 02:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/6bb71d67a0913e8fa7f63a4acb4f580f52b143e6', 'message': 'Migrate object to OVO (7)\n\n- Remove old base objects\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 13, 'created': '2017-08-23 07:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/76ad9093ed9012392b2b98dd31f6cd263b624a4e', 'message': 'Migrate object to OVO (7)\n\n- Remove old base objects\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 14, 'created': '2017-09-14 04:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/666d2ea482dbcda53d49cd8a524657e74dd980ea', 'message': 'Migrate object to OVO (7)\n\n- Remove old base objects\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 15, 'created': '2017-09-22 02:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cc1f4de1206900cf20c9a12ed00a773b9eb716a9', 'message': 'Migrate object to OVO (7)\n\n- Remove old base objects\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 16, 'created': '2017-10-13 09:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0c463dc783d85e0c3e45168d7e123bd47a2c6b50', 'message': 'Migrate object to OVO (7)\n\n- Remove old base objects\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 17, 'created': '2017-11-16 09:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e0fe92aeb7ccfd9c6d1305a9e5096dedaa979d40', 'message': 'Migrate object to OVO (7)\n\n- Remove old base objects\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 18, 'created': '2017-12-11 06:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2037c30fd2ab4de0ad5a11a420e168151e17a2c4', 'message': 'Migrate object to OVO (7)\n\n- Remove old base objects\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 19, 'created': '2017-12-19 07:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/6a2619b23ac76807b465cb5b5810aa39b2086b33', 'message': 'Migrate object to OVO (7)\n\n- Remove old base objects\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 20, 'created': '2018-01-24 04:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1e29d7c52c0091b38840ddfb82021cdd46199228', 'message': 'Migrate object to OVO (7)\n\n- Remove old base objects\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 21, 'created': '2018-02-01 10:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/515903b34807b700116f61b9179fcdeda57fef8d', 'message': 'Migrate object to OVO (7)\n\n- Remove old base objects\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 22, 'created': '2018-02-02 04:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/01abe3d36555da11986b159b73628830efd35f9c', 'message': 'Migrate object to OVO (7)\n\n- Remove old base objects\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 23, 'created': '2018-02-07 01:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a1f063cc0c39213def39950ac4b4fde980b183ce', 'message': 'Migrate object to OVO (7)\n\n- Remove old base objects\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 24, 'created': '2018-02-12 16:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cc980d4539a77bb96cc284cdfc0173d151087126', 'message': 'Migrate object to OVO (7)\n\n- Remove old base objects\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 25, 'created': '2018-02-14 13:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/66ba9d52a0a38980d2a010c7cc4a0cf96471bc19', 'message': 'Migrate object to OVO (7)\n\n- Remove old base objects\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 26, 'created': '2018-02-14 16:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/fa792210ddb505991024b31f53e6bfc49f7665b1', 'message': 'Migrate object to OVO (7)\n\n- Remove old base objects\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 27, 'created': '2018-02-21 01:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b71cd00a56a39227bbd5cba9cd8d3d6126571c8a', 'message': 'Migrate object to OVO (7)\n\n- Remove old base objects\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 28, 'created': '2018-02-25 16:07:58.000000000', 'files': ['designate/objects/rrdata_srv.py', 'designate/objects/pool_target.py', 'designate/notifications.py', 'designate/objects/zone_import.py', 'designate/objects/service_status.py', 'designate/objects/pool_manager_status.py', 'designate/objects/__init__.py', 'designate/objects/adapters/base.py', 'designate/objects/zone_transfer_accept.py', 'designate/objects/zone_attribute.py', 'designate/objects/rrdata_txt.py', 'designate/objects/zone.py', 'designate/objects/pool_nameserver.py', 'designate/objects/pool_ns_record.py', 'designate/objects/rrdata_sshfp.py', 'designate/objects/zone_master.py', 'designate/objects/adapters/api_v2/validation_error.py', 'designate/objects/validation_error.py', 'designate/tests/unit/test_objects/test_base.py', 'designate/objects/record.py', 'designate/objects/rrdata_ns.py', 'designate/objects/rrdata_soa.py', 'designate/objects/zone_export.py', 'designate/objects/zone_transfer_request.py', 'designate/objects/rrdata_aaaa.py', 'designate/objects/fields.py', 'designate/objects/rrdata_ptr.py', 'designate/objects/base.py', 'designate/objects/rrdata_spf.py', 'designate/objects/ovo_base.py', 'designate/objects/pool_also_notify.py', 'designate/objects/tsigkey.py', 'designate/objects/tld.py', 'designate/objects/tenant.py', 'designate/objects/floating_ip.py', 'designate/objects/pool.py', 'designate/objects/recordset.py', 'designate/objects/pool_target_option.py', 'designate/objects/server.py', 'designate/objects/adapters/api_v2/base.py', 'designate/objects/rrdata_mx.py', 'designate/rpc.py', 'designate/objects/pool_attribute.py', 'designate/objects/rrdata_cname.py', 'designate/objects/pool_target_master.py', 'designate/objects/rrdata_a.py', 'designate/objects/blacklist.py', 'designate/tests/unit/test_objects/test_recordset.py', 'designate/objects/quota.py', 'designate/tests/unit/test_objects/test_adapters.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/b215bf69c000354089a190c52866724c85869364', 'message': 'Migrate object to OVO (7)\n\n- Remove old base objects\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d\nImplements: blueprint designate-rolling-upgrade\n'}]",17,472176,b215bf69c000354089a190c52866724c85869364,97,10,28,19930,,,0,"Migrate object to OVO (7)

- Remove old base objects

Co-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>

Change-Id: Icb8817a699a8c12957126a0499d95d13b8eeda6d
Implements: blueprint designate-rolling-upgrade
",git fetch https://review.opendev.org/openstack/designate refs/changes/76/472176/7 && git format-patch -1 --stdout FETCH_HEAD,"['designate/objects/fields.py', 'designate/notifications.py', 'designate/api/admin/views/base.py', 'designate/objects/base.py', 'designate/objects/adapters/api_v2/validation_error.py', 'designate/objects/adapters/api_v2/base.py', 'designate/rpc.py', 'designate/tests/unit/test_objects/test_base.py', 'designate/objects/ovo_base.py', 'designate/tests/unit/test_objects/test_adapters.py', 'designate/objects/__init__.py', 'designate/objects/adapters/base.py']",12,b0cafcdc15bd0c7982250ca036ef180032fa27e3,OVO," if isinstance(object, objects.DesignateObject): if isinstance(object, objects.ListObjectMixin): if isinstance(output_object, objects.ListObjectMixin): obj_class = objects.DesignateObject.obj_cls_from_name("," if isinstance(object, (objects.DesignateObject, objects.OVODesignateObject)): if isinstance(object, (objects.ListObjectMixin, objects.OVOListObjectMixin)): if isinstance(output_object, (objects.ListObjectMixin, objects.OVOListObjectMixin)): obj_class = objects.OVODesignateObject.obj_cls_from_name(",222,937
openstack%2Fdesignate~master~I00d72d83dafb28a2d94aeabd844559be92d131f2,openstack/designate,master,I00d72d83dafb28a2d94aeabd844559be92d131f2,Migrate object to OVO (6),MERGED,2017-06-08 02:29:19.000000000,2018-02-26 01:44:55.000000000,2018-02-26 01:44:55.000000000,"[{'_account_id': 3}, {'_account_id': 8099}, {'_account_id': 8174}, {'_account_id': 13252}, {'_account_id': 19741}, {'_account_id': 19930}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 24441}, {'_account_id': 25254}]","[{'number': 1, 'created': '2017-06-08 02:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/db4ff23e19120d0edfe705182d82df62af0d4c84', 'message': 'Migrate object to OVO (6)\n\nThis commit will migrate:\n- ValidationError and ValidationErrorList\n\nChange-Id: I00d72d83dafb28a2d94aeabd844559be92d131f2\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 2, 'created': '2017-06-12 02:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1df1ff177557655db5aa4165845c54051e9c7ec2', 'message': 'Migrate object to OVO (6)\n\nThis commit will migrate:\n- ValidationError and ValidationErrorList\n\nChange-Id: I00d72d83dafb28a2d94aeabd844559be92d131f2\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 3, 'created': '2017-06-29 01:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ca69e0452d03e89ce00f678f3bf6c8128822008b', 'message': 'Migrate object to OVO (6)\n\nThis commit will migrate:\n- ValidationError and ValidationErrorList\n\nChange-Id: I00d72d83dafb28a2d94aeabd844559be92d131f2\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 4, 'created': '2017-06-29 04:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/18f59d021f197a199c7abc0c2f0255400cb2e95e', 'message': 'Migrate object to OVO (6)\n\nThis commit will migrate:\n- ValidationError and ValidationErrorList\n\nChange-Id: I00d72d83dafb28a2d94aeabd844559be92d131f2\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 5, 'created': '2017-08-02 08:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/32df78d9def0d590f4a9fafd5a333c6f85b32905', 'message': 'Migrate object to OVO (6)\n\nThis commit will migrate:\n- ValidationError and ValidationErrorList\n\nChange-Id: I00d72d83dafb28a2d94aeabd844559be92d131f2\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 6, 'created': '2017-08-08 03:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0b6656b6acf838e83740e905d60f6265778b65df', 'message': 'Migrate object to OVO (6)\n\nThis commit will migrate:\n- ValidationError and ValidationErrorList\n\nChange-Id: I00d72d83dafb28a2d94aeabd844559be92d131f2\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 7, 'created': '2017-08-23 02:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/267e4c6d0173b9e9ae643e27b186641837ef88b3', 'message': 'Migrate object to OVO (6)\n\nThis commit will migrate:\n- ValidationError and ValidationErrorList\n\nChange-Id: I00d72d83dafb28a2d94aeabd844559be92d131f2\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 8, 'created': '2017-08-23 07:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8117898e05ca1f07bfc1d1a547505a0aa8c458bc', 'message': 'Migrate object to OVO (6)\n\nThis commit will migrate:\n- ValidationError and ValidationErrorList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I00d72d83dafb28a2d94aeabd844559be92d131f2\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 9, 'created': '2017-09-14 04:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5ec99725dd419489aa5ef802124f5a390af8e389', 'message': 'Migrate object to OVO (6)\n\nThis commit will migrate:\n- ValidationError and ValidationErrorList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I00d72d83dafb28a2d94aeabd844559be92d131f2\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 10, 'created': '2017-09-22 02:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/140c4fefd10f12b7971d2b300220e72c770141b5', 'message': 'Migrate object to OVO (6)\n\nThis commit will migrate:\n- ValidationError and ValidationErrorList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I00d72d83dafb28a2d94aeabd844559be92d131f2\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 11, 'created': '2017-10-13 09:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4bfe749710ce9c97bbe4b0f469673fb9cc35d75f', 'message': 'Migrate object to OVO (6)\n\nThis commit will migrate:\n- ValidationError and ValidationErrorList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I00d72d83dafb28a2d94aeabd844559be92d131f2\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 12, 'created': '2017-11-16 09:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/869e98e8286462c671cf0620536cdde209646474', 'message': 'Migrate object to OVO (6)\n\nThis commit will migrate:\n- ValidationError and ValidationErrorList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I00d72d83dafb28a2d94aeabd844559be92d131f2\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 13, 'created': '2017-12-11 06:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a5d14a9f7968dc56a1f8d454d182e1fcefe8b058', 'message': 'Migrate object to OVO (6)\n\nThis commit will migrate:\n- ValidationError and ValidationErrorList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I00d72d83dafb28a2d94aeabd844559be92d131f2\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 14, 'created': '2018-01-24 04:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/de4dd736f4977f71845fbfe37cdf8190c14f8be8', 'message': 'Migrate object to OVO (6)\n\nThis commit will migrate:\n- ValidationError and ValidationErrorList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I00d72d83dafb28a2d94aeabd844559be92d131f2\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 15, 'created': '2018-01-24 09:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/6d1485c172eab66c051eaf547389eaa366cd8415', 'message': 'Migrate object to OVO (6)\n\nThis commit will migrate:\n- ValidationError and ValidationErrorList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I00d72d83dafb28a2d94aeabd844559be92d131f2\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 16, 'created': '2018-02-01 10:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c8ae84c46eab65f2a05007769dace6e8e47db4a9', 'message': 'Migrate object to OVO (6)\n\nThis commit will migrate:\n- ValidationError and ValidationErrorList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I00d72d83dafb28a2d94aeabd844559be92d131f2\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 17, 'created': '2018-02-01 10:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/39069482f0426881582bfae86d882346c9002ac2', 'message': 'Migrate object to OVO (6)\n\nThis commit will migrate:\n- ValidationError and ValidationErrorList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I00d72d83dafb28a2d94aeabd844559be92d131f2\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 18, 'created': '2018-02-02 04:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1aa37915a3de505f5d523555b5b3667c694e2f2a', 'message': 'Migrate object to OVO (6)\n\nThis commit will migrate:\n- ValidationError and ValidationErrorList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I00d72d83dafb28a2d94aeabd844559be92d131f2\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 19, 'created': '2018-02-07 01:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1637da2d00b0d173132fbc294fd5c44095d235c5', 'message': 'Migrate object to OVO (6)\n\nThis commit will migrate:\n- ValidationError and ValidationErrorList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I00d72d83dafb28a2d94aeabd844559be92d131f2\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 20, 'created': '2018-02-25 16:07:50.000000000', 'files': ['designate/objects/base.py', 'designate/objects/validation_error.py', 'designate/objects/ovo_base.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/f4c96aaae0862413b0efa61b1f0b9ce1a28e038b', 'message': 'Migrate object to OVO (6)\n\nThis commit will migrate:\n- ValidationError and ValidationErrorList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I00d72d83dafb28a2d94aeabd844559be92d131f2\nImplements: blueprint designate-rolling-upgrade\n'}]",1,472004,f4c96aaae0862413b0efa61b1f0b9ce1a28e038b,65,10,20,19930,,,0,"Migrate object to OVO (6)

This commit will migrate:
- ValidationError and ValidationErrorList

Co-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>

Change-Id: I00d72d83dafb28a2d94aeabd844559be92d131f2
Implements: blueprint designate-rolling-upgrade
",git fetch https://review.opendev.org/openstack/designate refs/changes/04/472004/19 && git format-patch -1 --stdout FETCH_HEAD,"['designate/objects/base.py', 'designate/objects/validation_error.py', 'designate/objects/ovo_base.py']",3,db4ff23e19120d0edfe705182d82df62af0d4c84,OVO, ValidationErrorList = self.obj_cls_from_name('ValidationErrorList') ValidationError = self.obj_cls_from_name('ValidationError'),from designate.objects.validation_error import ValidationError from designate.objects.validation_error import ValidationErrorList,20,11
openstack%2Ftooz~master~I328db3d0048386ddd2c4f785de542aeb7b98c6e1,openstack/tooz,master,I328db3d0048386ddd2c4f785de542aeb7b98c6e1,Follow the new PTI for document build,MERGED,2018-01-08 18:22:04.000000000,2018-02-26 01:30:23.000000000,2018-02-26 01:30:23.000000000,"[{'_account_id': 6537}, {'_account_id': 9796}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-08 18:22:04.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tooz/commit/f36f0fcdb78ea6cef9efecaa6c648b5fe1626b6e', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I328db3d0048386ddd2c4f785de542aeb7b98c6e1\n'}]",0,531871,f36f0fcdb78ea6cef9efecaa6c648b5fe1626b6e,10,4,1,11904,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:

https://governance.openstack.org/tc/reference/project-testing-interface.html

For more detials information, please refer to:

http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: I328db3d0048386ddd2c4f785de542aeb7b98c6e1
",git fetch https://review.opendev.org/openstack/tooz refs/changes/71/531871/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,f36f0fcdb78ea6cef9efecaa6c648b5fe1626b6e,updated-pti,commands = sphinx-build -W -b html doc/source doc/build/html,commands = python setup.py build_sphinx,1,7
openstack%2Fzun~master~Id50401bf579b296872326d164b58aac6a30c7877,openstack/zun,master,Id50401bf579b296872326d164b58aac6a30c7877,Fix the incorrect reference links,MERGED,2018-02-24 03:30:51.000000000,2018-02-26 01:00:43.000000000,2018-02-26 01:00:43.000000000,"[{'_account_id': 11536}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2018-02-24 03:30:51.000000000', 'files': ['doc/source/install/next-steps.rst'], 'web_link': 'https://opendev.org/openstack/zun/commit/902c45a4905013706e0e3a8e60612d82dd5c144e', 'message': 'Fix the incorrect reference links\n\nTrivialFix\n[1] is the installation guide for OpenStack components, obviously,\nwe need [1] in the docs.\n\n[1] https://docs.openstack.org/latest/install/\n\nChange-Id: Id50401bf579b296872326d164b58aac6a30c7877\n'}]",0,547701,902c45a4905013706e0e3a8e60612d82dd5c144e,8,4,1,25456,,,0,"Fix the incorrect reference links

TrivialFix
[1] is the installation guide for OpenStack components, obviously,
we need [1] in the docs.

[1] https://docs.openstack.org/latest/install/

Change-Id: Id50401bf579b296872326d164b58aac6a30c7877
",git fetch https://review.opendev.org/openstack/zun refs/changes/01/547701/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/next-steps.rst'],1,902c45a4905013706e0e3a8e60612d82dd5c144e,,`additional documentation on installing OpenStack <https://docs.openstack.org/latest/install/>`_ .,`additional documentation on installing OpenStack <http://docs.openstack.org/#install-guides>`_ .,1,1
openstack%2Fcinder~master~I1f08519e43883e37f2e6f9418c1634bb4e71ad9f,openstack/cinder,master,I1f08519e43883e37f2e6f9418c1634bb4e71ad9f,"Increase description, when we can delete backup 1. the status of backup that can be deleted 2. when backup has incremental, you can't do it",ABANDONED,2018-02-07 10:22:52.000000000,2018-02-26 00:52:34.000000000,,"[{'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15439}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21486}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 23630}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27248}]","[{'number': 1, 'created': '2018-02-07 10:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/85076f44603ac40771039ce11d577a49f06d0644', 'message': ""Increase description, when we can delete backup\n1. the status of backup that can be deleted\n2. when backup has incremental, you can't do it\n\nChange-Id: I1f08519e43883e37f2e6f9418c1634bb4e71ad9f\n""}, {'number': 2, 'created': '2018-02-22 03:39:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b09ffb59a24fb62e7f03c1cb5cb9231fbb139afd', 'message': ""Increase description, when we can delete backup\n1. the status of backup that can be deleted\n2. when backup has incremental, you can't do it\n\nChange-Id: I1f08519e43883e37f2e6f9418c1634bb4e71ad9f\n""}, {'number': 3, 'created': '2018-02-22 09:37:30.000000000', 'files': ['api-ref/source/v3/ext-backups.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5ea44a7acc05fdffaac507f73c95214f47306fdd', 'message': ""Increase description, when we can delete backup\n1. the status of backup that can be deleted\n2. when backup has incremental, you can't do it\n\nChange-Id: I1f08519e43883e37f2e6f9418c1634bb4e71ad9f\n""}]",2,541654,5ea44a7acc05fdffaac507f73c95214f47306fdd,90,39,3,27496,,,0,"Increase description, when we can delete backup
1. the status of backup that can be deleted
2. when backup has incremental, you can't do it

Change-Id: I1f08519e43883e37f2e6f9418c1634bb4e71ad9f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/54/541654/2 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/ext-backups.inc'],1,85076f44603ac40771039ce11d577a49f06d0644,JeanCinderBakDel,Preconditions -Backup status muest be ``available`` or ``error`` -You cannot delete a backup that has incremental backups as non-admin ,,4,0
openstack%2Fcinder~master~I8b5381a22488a5b97b453fb8918053a3b2d4b1eb,openstack/cinder,master,I8b5381a22488a5b97b453fb8918053a3b2d4b1eb,Add pigz support for cinder-backup chunked driver compression,ABANDONED,2017-03-27 15:32:55.000000000,2018-02-26 00:41:30.000000000,,"[{'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15439}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 18967}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 22752}, {'_account_id': 23140}, {'_account_id': 23602}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25312}, {'_account_id': 25677}, {'_account_id': 25859}, {'_account_id': 26077}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-03-27 15:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b7fc883d11330428623a256e9b9fc314409bcf19', 'message': 'add pigz support for cinder-backup swift driver compress\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 2, 'created': '2017-03-28 12:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0bbfd601564fb9f1f186b69d5a42fd566e0d9aaf', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up'}, {'number': 3, 'created': '2017-03-28 15:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2e843bd3e3ad03adb82cbaf6a50645855cace2e1', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 4, 'created': '2017-03-28 15:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1424ca338d81f404f246c7ebb1e7da40c723f357', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 5, 'created': '2017-03-28 16:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ab2615b29f8086e09972a2c6e3ef3e573b16cc1c', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 6, 'created': '2017-03-29 05:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f42669bb7d57363bad75897016786544407fe632', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 7, 'created': '2017-03-29 15:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1257fc4bbf4f987439a72bc3b5a2ecf6bd71d31d', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 8, 'created': '2017-03-29 15:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c31c0aaf859cba6bc82d3a5ea6bf9de0047e5fb', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 9, 'created': '2017-03-29 15:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a44b436ea87d0e4268a36649051ab0f908136fa', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 10, 'created': '2017-03-29 16:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/34b53bda7598e315015eb12a1fb142508f02978a', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 11, 'created': '2017-03-31 10:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/faf796f480dde16cc6465d80bc3bad3a888d70eb', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 12, 'created': '2017-04-27 07:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/08e089b618664c6275ba132c1bf231437ff3e7b7', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 13, 'created': '2017-04-27 09:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8ffd721fb80b7694b3906f98ed9d582992c0b013', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 14, 'created': '2017-04-27 09:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bcbba1ae682cc78cdf17a3213035acd7f1ff799e', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 15, 'created': '2017-04-27 09:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/102538eea095ecae752781f61cef805e15a6ceaa', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 16, 'created': '2017-04-27 10:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ceecdcc4672b7d8a0342f22aa368b2366f3ab0a6', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nImplements blueprint cinder-backup-pigz-compress-support\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 17, 'created': '2017-04-28 09:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/beccb660529a143b67751cf5ecd581a8b373fdcf', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nImplements blueprint cinder-backup-pigz-compress-support\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 18, 'created': '2017-04-28 09:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7e6f4180a0ac05876f81e9805dc64d4e318adb47', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nImplements blueprint cinder-backup-pigz-compress-support\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 19, 'created': '2017-04-30 08:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3f3f273741aeeaf17a2a75e42059c409b22e2fbe', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nImplements blueprint cinder-backup-pigz-compress-support\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 20, 'created': '2017-05-03 11:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ca5028dace415881c8150d2a936a112d2aff00fe', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nImplements blueprint cinder-backup-pigz-compress-support\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 21, 'created': '2017-05-03 13:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/329a5c997fb85d875e8abfcd07bdaa55bf80bd8c', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nImplements blueprint cinder-backup-pigz-compress-support\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 22, 'created': '2017-05-31 01:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ceda7444911d1533e95cf4d2f88fb3921a349f1c', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nImplements blueprint cinder-backup-pigz-compress-support\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 23, 'created': '2017-05-31 01:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f1b52310f29786091a3ece454a6555b0ce636869', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nImplements blueprint cinder-backup-pigz-compress-support\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 24, 'created': '2017-05-31 11:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ebfd25e66e3f933fd60443826a9c9756185fb749', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nImplements blueprint cinder-backup-pigz-compress-support\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 25, 'created': '2017-06-02 15:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/57b9b8d517e8269becc12716ca44bbba0b2c0629', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nImplements blueprint cinder-backup-pigz-compress-support\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 26, 'created': '2017-06-05 14:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff3f93a618b023aafa0bd8d6bedf504e2c6cae88', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nImplements blueprint cinder-backup-pigz-compress-support\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 27, 'created': '2017-06-14 00:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/90ddb50351c34790e0290345b839e0d9e1dc2cab', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nImplements blueprint cinder-backup-pigz-compress-support\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 28, 'created': '2017-06-15 10:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/11a0167cfae302158f6f4f99acd8e67e453372a3', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nImplements blueprint cinder-backup-pigz-compress-support\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 29, 'created': '2017-06-15 15:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c31a8728ee485b3285c142e81fde91b3f9055cf1', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nImplements blueprint cinder-backup-pigz-compress-support\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 30, 'created': '2017-06-15 15:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/46bcc45d8b4fc07e5599a3e2d42c666549048b25', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nImplements blueprint cinder-backup-pigz-compress-support\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 31, 'created': '2017-06-16 05:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ad8cbef80d13b6e3fc7b2694408fdf56ce5cacf', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nImplements blueprint cinder-backup-pigz-compress-support\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 32, 'created': '2017-06-19 12:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/037a8395635ac0536dec7b5f76e42173a23f02a4', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nImplements blueprint cinder-backup-pigz-compress-support\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 33, 'created': '2017-07-02 03:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dbbea81d8ee2646063ceb916977d89fe04334e51', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nImplements blueprint cinder-backup-pigz-compress-support\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 34, 'created': '2017-08-01 04:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/60a97c3e2728ce6b75d5051b4c258bc437567407', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nImplements blueprint cinder-backup-pigz-compress-support\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}, {'number': 35, 'created': '2017-08-01 04:34:10.000000000', 'files': ['cinder/opts.py', 'releasenotes/notes/add-pigz-compress-algorithm-for-cinder-backup-chunked-driver-0cd47c0edee8e08d.yaml', 'cinder/backup/compressors/pigz.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py', 'cinder/backup/chunkeddriver.py', 'cinder/backup/compressors/__init__.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e3c94142c1ad7a3f0133212fe115f34209de029a', 'message': 'Add pigz support for cinder-backup chunked driver compression\n\nthe python lib zlib used in chunked driver is too slow and\nwe use pigz to speed up\n\nImplements blueprint cinder-backup-pigz-compress-support\n\nChange-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb\n'}]",53,450291,e3c94142c1ad7a3f0133212fe115f34209de029a,550,61,35,25312,,,0,"Add pigz support for cinder-backup chunked driver compression

the python lib zlib used in chunked driver is too slow and
we use pigz to speed up

Implements blueprint cinder-backup-pigz-compress-support

Change-Id: I8b5381a22488a5b97b453fb8918053a3b2d4b1eb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/450291/26 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/drivers/swift.py', 'cinder/backup/chunkeddriver.py']",2,b7fc883d11330428623a256e9b9fc314409bcf19,bp/cinder-backup-pigz-compress-support," if CONF.backup_swift_enable_pigz: import subprocess import fcntl try: p1 = subprocess.Popen(""pigz -9 -p 16 -k -c --zlib "", shell=True, stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.PIPE) except OSError as e: print e raise flags = fcntl.fcntl(p1.stdout, fcntl.F_GETFL) & (~os.O_NONBLOCK) fcntl.fcntl(p1.stdout, fcntl.F_SETFL, flags) compressed_data, stderr = p1.communicate(data) else: compressed_data = self.compressor.compress(data)", compressed_data = self.compressor.compress(data),19,1
openstack%2Fgovernance-uc~master~I6e8e77925d1d8daa94b9a431ce2517dc9ac966b0,openstack/governance-uc,master,I6e8e77925d1d8daa94b9a431ce2517dc9ac966b0,Update UC Charter,ABANDONED,2017-02-24 01:36:08.000000000,2018-02-26 00:32:08.000000000,,"[{'_account_id': 704}, {'_account_id': 5263}, {'_account_id': 17556}]","[{'number': 1, 'created': '2017-02-24 01:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/09981dec323b3c5c8f481a438a0cbc6b73e5a60f', 'message': 'Update UC Charter\n\nFix line break under Process for Creating\na New Working Group/Functional Team.\n\nRemove Initial Committee section since\nSpring 2017 election is over.\n\nChange-Id: I6e8e77925d1d8daa94b9a431ce2517dc9ac966b0\n'}, {'number': 2, 'created': '2017-02-24 02:52:08.000000000', 'files': ['reference/charter.rst'], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/63e7b7d63d11257b25332f8db1f8157d6a7306c9', 'message': 'Update UC Charter\n\nFix line break under Process for Creating\na New Working Group/Functional Team.\n\nRemove Initial Committee section since\nSpring 2017 election is over.\n\nChange-Id: I6e8e77925d1d8daa94b9a431ce2517dc9ac966b0\n'}]",1,437748,63e7b7d63d11257b25332f8db1f8157d6a7306c9,12,3,2,17556,,,0,"Update UC Charter

Fix line break under Process for Creating
a New Working Group/Functional Team.

Remove Initial Committee section since
Spring 2017 election is over.

Change-Id: I6e8e77925d1d8daa94b9a431ce2517dc9ac966b0
",git fetch https://review.opendev.org/openstack/governance-uc refs/changes/48/437748/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/charter.rst'],1,09981dec323b3c5c8f481a438a0cbc6b73e5a60f,cosmetic,* UC approves or denies the request before it becomes an active working group or functional team.,"* UC approves or denies the request before it becomes an active working group or functional team. Initial Committee ================= The current UC will serve as UC until the elections in Spring 2017. At that point, the current three UC members who still had 6 months to serve get a 6-month seat, and an election is run to determine the other two members. Candidates ranking 1st and 2nd would get one-year seats. Fall 2017 elections should see the normal renewal of 3 seats for one-year period.",2,10
openstack%2Ffreezer-dr~master~Iece7e8c40d7fedd5294dc73f06d2991fdc797506,openstack/freezer-dr,master,Iece7e8c40d7fedd5294dc73f06d2991fdc797506,Update homepage url for freezer,MERGED,2018-02-22 04:20:31.000000000,2018-02-25 23:55:20.000000000,2018-02-25 23:55:20.000000000,"[{'_account_id': 13940}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-22 04:20:31.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/48a402de4ab5d9cbbabbb89fa0b70c90b78c2a67', 'message': 'Update homepage url for freezer\n\nChange-Id: Iece7e8c40d7fedd5294dc73f06d2991fdc797506\n'}]",0,546863,48a402de4ab5d9cbbabbb89fa0b70c90b78c2a67,7,3,1,19853,,,0,"Update homepage url for freezer

Change-Id: Iece7e8c40d7fedd5294dc73f06d2991fdc797506
",git fetch https://review.opendev.org/openstack/freezer-dr refs/changes/63/546863/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,48a402de4ab5d9cbbabbb89fa0b70c90b78c2a67,,home-page = https://docs.openstack.org/freezer/latest/,home-page = https://wiki.openstack.org/wiki/Freezer,1,1
openstack%2Fdesignate~master~I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5,openstack/designate,master,I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5,Migrate object to OVO (5),MERGED,2017-06-07 10:04:39.000000000,2018-02-25 23:24:24.000000000,2018-02-25 23:24:23.000000000,"[{'_account_id': 3}, {'_account_id': 8099}, {'_account_id': 8174}, {'_account_id': 13252}, {'_account_id': 19741}, {'_account_id': 19853}, {'_account_id': 19930}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 25254}]","[{'number': 1, 'created': '2017-06-07 10:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4613600ad9fb1d51702e8de07b426bebc70783a8', 'message': 'Migrate object to OVO (5)\n\nThis commit will migrate:\n- Blacklist object\n- Quota objects\n- [WIP] Floating_IP objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5\n'}, {'number': 2, 'created': '2017-06-07 10:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3b99881344451b656977714407fba1411514de2a', 'message': 'Migrate object to OVO (5)\n\nThis commit will migrate:\n- Blacklist object\n- Quota objects\n- [WIP] Floating_IP objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5\n'}, {'number': 3, 'created': '2017-06-07 10:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/de117e96e7b4b184f9844a15d7a0c557016ad1e3', 'message': 'Migrate object to OVO (5)\n\nThis commit will migrate:\n- Blacklist object\n- Quota objects\n- Floating_IP objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5\n'}, {'number': 4, 'created': '2017-06-07 10:41:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/6cd3a57ffe78b932e97bd799ae7e91eb6029c513', 'message': 'Migrate object to OVO (5)\n\nThis commit will migrate:\n- Blacklist object\n- Quota objects\n- Floating_IP objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5\n'}, {'number': 5, 'created': '2017-06-12 02:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/6fa7852ea728193050dc28d3555d014713a03817', 'message': 'Migrate object to OVO (5)\n\nThis commit will migrate:\n- Blacklist object\n- Quota objects\n- Floating_IP objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5\n'}, {'number': 6, 'created': '2017-06-29 01:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/773c8c8992f80334882565bdcfde1654dac80968', 'message': 'Migrate object to OVO (5)\n\nThis commit will migrate:\n- Blacklist object\n- Quota objects\n- Floating_IP objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5\n'}, {'number': 7, 'created': '2017-06-29 04:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/aa0c3ae14bab3e4cfecfaa8140b2e4277f28cd24', 'message': 'Migrate object to OVO (5)\n\nThis commit will migrate:\n- Blacklist object\n- Quota objects\n- Floating_IP objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5\n'}, {'number': 8, 'created': '2017-08-02 08:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b3660d21cdd8091d72b248f86675dbd85be8b14b', 'message': 'Migrate object to OVO (5)\n\nThis commit will migrate:\n- Blacklist object\n- Quota objects\n- Floating_IP objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5\n'}, {'number': 9, 'created': '2017-08-08 03:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/46ca35ab04e03b069fd0c8e19716d846578378bd', 'message': 'Migrate object to OVO (5)\n\nThis commit will migrate:\n- Blacklist object\n- Quota objects\n- Floating_IP objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5\n'}, {'number': 10, 'created': '2017-08-23 02:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/769da9198ff78a901db0d4cf7ef378612c1a428c', 'message': 'Migrate object to OVO (5)\n\nThis commit will migrate:\n- Blacklist object\n- Quota objects\n- Floating_IP objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5\n'}, {'number': 11, 'created': '2017-08-23 07:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b7e3aa5f99949628ee10352ef4a18a47a90b60b5', 'message': 'Migrate object to OVO (5)\n\nThis commit will migrate:\n- Blacklist object\n- Quota objects\n- Floating_IP objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 12, 'created': '2017-09-14 04:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a40f3e38c8f46c9e39a5ebd93b97a4307f2a2aad', 'message': 'Migrate object to OVO (5)\n\nThis commit will migrate:\n- Blacklist object\n- Quota objects\n- Floating_IP objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 13, 'created': '2017-09-22 02:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/03209841d64a98ad4eb9bd78b8bdc04ef1789a72', 'message': 'Migrate object to OVO (5)\n\nThis commit will migrate:\n- Blacklist object\n- Quota objects\n- Floating_IP objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 14, 'created': '2017-10-13 09:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f67afab65a36a463af31fceeb983322a9a897037', 'message': 'Migrate object to OVO (5)\n\nThis commit will migrate:\n- Blacklist object\n- Quota objects\n- Floating_IP objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 15, 'created': '2017-11-16 09:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e755096dbd1deb381a5253b7e4c001503cc89678', 'message': 'Migrate object to OVO (5)\n\nThis commit will migrate:\n- Blacklist object\n- Quota objects\n- Floating_IP objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 16, 'created': '2017-12-11 06:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/de5181c6046dbf5a23d87a58bf3cc520fd832ed9', 'message': 'Migrate object to OVO (5)\n\nThis commit will migrate:\n- Blacklist object\n- Quota objects\n- Floating_IP objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 17, 'created': '2018-01-24 04:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9313793fc65a9d9d88d34e3d1dac1c24c89a7fcb', 'message': 'Migrate object to OVO (5)\n\nThis commit will migrate:\n- Blacklist object\n- Quota objects\n- Floating_IP objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 18, 'created': '2018-01-24 09:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/08e014449fc1d504f21265c67e1f6e11df27804d', 'message': 'Migrate object to OVO (5)\n\nThis commit will migrate:\n- Blacklist object\n- Quota objects\n- Floating_IP objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 19, 'created': '2018-02-01 10:18:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/bbb7af6534291f21c03a90525ccbb1cfd23d9254', 'message': 'Migrate object to OVO (5)\n\nThis commit will migrate:\n- Blacklist object\n- Quota objects\n- Floating_IP objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 20, 'created': '2018-02-01 10:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/bc8bcf30a5e1b0fcd1e2f469d9cff252b6f15b0e', 'message': 'Migrate object to OVO (5)\n\nThis commit will migrate:\n- Blacklist object\n- Quota objects\n- Floating_IP objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 21, 'created': '2018-02-01 10:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5fee1673581bafc4f713d7db27287b0597b3bbc9', 'message': 'Migrate object to OVO (5)\n\nThis commit will migrate:\n- Blacklist object\n- Quota objects\n- Floating_IP objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 22, 'created': '2018-02-02 04:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e39af77371a4b6436372a5deab6317278fadd0fe', 'message': 'Migrate object to OVO (5)\n\nThis commit will migrate:\n- Blacklist object\n- Quota objects\n- Floating_IP objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 23, 'created': '2018-02-07 01:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/dbd784d65b2d2687c737073d011f4a87d965c473', 'message': 'Migrate object to OVO (5)\n\nThis commit will migrate:\n- Blacklist object\n- Quota objects\n- Floating_IP objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 24, 'created': '2018-02-25 16:07:44.000000000', 'files': ['designate/objects/floating_ip.py', 'designate/objects/blacklist.py', 'designate/objects/quota.py', 'designate/objects/fields.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/e9cc75ff016532d8b4f60d8a8966843618e5d627', 'message': 'Migrate object to OVO (5)\n\nThis commit will migrate:\n- Blacklist object\n- Quota objects\n- Floating_IP objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5\nImplements: blueprint designate-rolling-upgrade\n'}]",7,471700,e9cc75ff016532d8b4f60d8a8966843618e5d627,79,10,24,25254,,,0,"Migrate object to OVO (5)

This commit will migrate:
- Blacklist object
- Quota objects
- Floating_IP objects

Co-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>

Change-Id: I85455e7cbf24da4c7c6302060d5c3d203fdf2fc5
Implements: blueprint designate-rolling-upgrade
",git fetch https://review.opendev.org/openstack/designate refs/changes/00/471700/4 && git format-patch -1 --stdout FETCH_HEAD,"['designate/objects/blacklist.py', 'designate/objects/quota.py']",2,4613600ad9fb1d51702e8de07b426bebc70783a8,OVO,"from designate.objects import ovo_base as base from designate.objects import fields @base.DesignateRegistry.register fields = { 'tenant_id': fields.AnyField(nullable=True), 'resource': fields.AnyField(nullable=True), 'hard_limit': fields.AnyField(nullable=True)@base.DesignateRegistry.register fields = { 'objects': fields.ListOfObjectsField('Quota'), } ","from designate.objects import base FIELDS = { 'tenant_id': {}, 'resource': {}, 'hard_limit': {}",24,23
openstack%2Fneutron-lbaas~master~I47a263b9a41d797c4db3c3fde8c052754287fea3,openstack/neutron-lbaas,master,I47a263b9a41d797c4db3c3fde8c052754287fea3,Don't run scenario jobs for docs changes,MERGED,2018-01-17 04:54:22.000000000,2018-02-25 23:11:24.000000000,2018-02-25 23:11:24.000000000,"[{'_account_id': 6469}, {'_account_id': 6579}, {'_account_id': 9008}, {'_account_id': 10850}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-17 04:54:22.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/866a20cca62ec79d1bcd8ebb5998e881024c13e9', 'message': ""Don't run scenario jobs for docs changes\n\nCurrently we run scenario jobs for changes that only contain documentation\nupdates. This patch fixes this issue so that only relevant jobs are run.\n\nChange-Id: I47a263b9a41d797c4db3c3fde8c052754287fea3\n""}]",0,534619,866a20cca62ec79d1bcd8ebb5998e881024c13e9,9,5,1,11628,,,0,"Don't run scenario jobs for docs changes

Currently we run scenario jobs for changes that only contain documentation
updates. This patch fixes this issue so that only relevant jobs are run.

Change-Id: I47a263b9a41d797c4db3c3fde8c052754287fea3
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/19/534619/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,866a20cca62ec79d1bcd8ebb5998e881024c13e9,, name: nlbaas-legacy-dsvm-base irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - job: name: neutron-lbaasv2-dsvm-api parent: nlbaas-legacy-dsvm-base run: playbooks/legacy/neutron-lbaasv2-dsvm-api/run.yaml post-run: playbooks/legacy/neutron-lbaasv2-dsvm-api/post.yaml parent: nlbaas-legacy-dsvm-base parent: nlbaas-legacy-dsvm-base parent: nlbaas-legacy-dsvm-base parent: nlbaas-legacy-dsvm-base parent: nlbaas-legacy-dsvm-base parent: nlbaas-legacy-dsvm-base parent: nlbaas-legacy-dsvm-base, name: neutron-lbaasv2-dsvm-api run: playbooks/legacy/neutron-lbaasv2-dsvm-api/run.yaml post-run: playbooks/legacy/neutron-lbaasv2-dsvm-api/post.yaml parent: legacy-dsvm-base timeout: 7800 required-projects: - openstack-infra/devstack-gate - openstack/barbican - openstack/diskimage-builder - openstack/neutron - openstack/neutron-lbaas - openstack/octavia - openstack/python-barbicanclient parent: legacy-dsvm-base timeout: 7800 required-projects: - openstack-infra/devstack-gate - openstack/barbican - openstack/diskimage-builder - openstack/neutron - openstack/neutron-lbaas - openstack/octavia - openstack/python-barbicanclient parent: legacy-dsvm-base timeout: 7800 required-projects: - openstack-infra/devstack-gate - openstack/barbican - openstack/diskimage-builder - openstack/neutron - openstack/neutron-lbaas - openstack/octavia - openstack/python-barbicanclient parent: legacy-dsvm-base timeout: 7800 required-projects: - openstack-infra/devstack-gate - openstack/barbican - openstack/diskimage-builder - openstack/neutron - openstack/neutron-lbaas - openstack/octavia - openstack/python-barbicanclient parent: legacy-dsvm-base timeout: 7800 required-projects: - openstack-infra/devstack-gate - openstack/barbican - openstack/diskimage-builder - openstack/neutron - openstack/neutron-lbaas - openstack/octavia - openstack/python-barbicanclient parent: legacy-dsvm-base timeout: 7800 required-projects: - openstack-infra/devstack-gate - openstack/barbican - openstack/diskimage-builder - openstack/neutron - openstack/neutron-lbaas - openstack/octavia - openstack/python-barbicanclient parent: legacy-dsvm-base timeout: 7800 required-projects: - openstack-infra/devstack-gate - openstack/barbican - openstack/diskimage-builder - openstack/neutron - openstack/neutron-lbaas - openstack/octavia - openstack/python-barbicanclient,20,73
openstack%2Fdevstack~stable%2Fpike~I0cd7f193589a1a0776ae76dc30cecefe7ba9e5db,openstack/devstack,stable/pike,I0cd7f193589a1a0776ae76dc30cecefe7ba9e5db,Create NOVA_READY_TIMEOUT in is_nova_ready function,MERGED,2018-02-23 21:53:38.000000000,2018-02-25 22:57:27.000000000,2018-02-25 22:57:27.000000000,"[{'_account_id': 1004}, {'_account_id': 1653}, {'_account_id': 4146}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-02-23 21:53:38.000000000', 'files': ['lib/nova', 'stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a3b62a26aefbb2f29ea760111c13728651f92b0a', 'message': 'Create NOVA_READY_TIMEOUT in is_nova_ready function\n\nThe function was introduced in [0] using a hardcoded timeout of 60\nseconds which turns out to be too small on slow machines. Create a new\nglobal variable NOVA_READY_TIMEOUT instead so that users can\noverride the timeout if necessary.\n\n[0] I32eb59b9d6c225a3e93992be3a3b9f4b251d7189\n\nCo-Authored-By: Mohammed Naser <mnaser@vexxhost.com>\nChange-Id: I0cd7f193589a1a0776ae76dc30cecefe7ba9e5db\n'}]",0,547674,a3b62a26aefbb2f29ea760111c13728651f92b0a,28,11,1,1004,,,0,"Create NOVA_READY_TIMEOUT in is_nova_ready function

The function was introduced in [0] using a hardcoded timeout of 60
seconds which turns out to be too small on slow machines. Create a new
global variable NOVA_READY_TIMEOUT instead so that users can
override the timeout if necessary.

[0] I32eb59b9d6c225a3e93992be3a3b9f4b251d7189

Co-Authored-By: Mohammed Naser <mnaser@vexxhost.com>
Change-Id: I0cd7f193589a1a0776ae76dc30cecefe7ba9e5db
",git fetch https://review.opendev.org/openstack/devstack refs/changes/74/547674/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/nova', 'stackrc']",2,a3b62a26aefbb2f29ea760111c13728651f92b0a,fix-nova-timeout,# Timeout for compute node registration in Nova NOVA_READY_TIMEOUT=${NOVA_READY_TIMEOUT:-$SERVICE_TIMEOUT} ,,4,1
openstack%2Fdesignate~master~I59da0628a9dc23efe8d8665bbf3359e652eaa8c9,openstack/designate,master,I59da0628a9dc23efe8d8665bbf3359e652eaa8c9,Migrate object to OVO (4),MERGED,2017-06-07 01:32:32.000000000,2018-02-25 22:54:30.000000000,2018-02-25 21:24:47.000000000,"[{'_account_id': 3}, {'_account_id': 8099}, {'_account_id': 8174}, {'_account_id': 13252}, {'_account_id': 19741}, {'_account_id': 19853}, {'_account_id': 19930}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 25254}]","[{'number': 1, 'created': '2017-06-07 01:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/55281c760334994d5ae318cc09a4fd2377c63463', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n'}, {'number': 2, 'created': '2017-06-07 03:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ce69292777644e66a87c62fc579258ad7f5ab3a9', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n- FIXME__test_update_pool_ns_records_without_priority\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n'}, {'number': 3, 'created': '2017-06-07 05:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5283d627486483987311228807ec6a124e21b426', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n'}, {'number': 4, 'created': '2017-06-07 06:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/46ef45eaf616602003f5d0e0e3f7d9070f57e315', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n'}, {'number': 5, 'created': '2017-06-07 08:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3eef5186c2d20820046927524c273d842ebe47ba', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n'}, {'number': 6, 'created': '2017-06-07 08:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5d2bb7263ead47c1dd89a99c1847b69112f2d363', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n'}, {'number': 7, 'created': '2017-06-07 09:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d7763de99361260b4c92266efdef4d9b13b1e31f', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n'}, {'number': 8, 'created': '2017-06-12 02:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5c7a83378569524faef7e0a3c0ff940ee142acf5', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n'}, {'number': 9, 'created': '2017-06-29 01:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2fedb30f51178398e599632d1e79d6bd175b20c0', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n'}, {'number': 10, 'created': '2017-06-29 04:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/15bb91dc1f8efaef6d63b2430f672f28c6411905', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n'}, {'number': 11, 'created': '2017-08-02 08:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/efd1758269cbe222370a419f3f1234c5fa73272e', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n'}, {'number': 12, 'created': '2017-08-08 03:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3312bb77d4a762c59a25c5f208cad06dda4b4185', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n'}, {'number': 13, 'created': '2017-08-23 02:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1ccf6ae6b4e1b15fa19085d622b8a4cbbf51753c', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n'}, {'number': 14, 'created': '2017-08-23 07:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a5e14da2d3f5684d3ca033410066fdcc013c1dc3', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nImplements: blueprint designate-rolling-upgrade'}, {'number': 15, 'created': '2017-09-14 04:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c6e4c0714e0c72677c746d35c38b81bd4a658e31', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nImplements: blueprint designate-rolling-upgrade'}, {'number': 16, 'created': '2017-09-22 02:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/39a22d2c48d216223463837bf77017bf9c0ab8e7', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nImplements: blueprint designate-rolling-upgrade'}, {'number': 17, 'created': '2017-10-13 09:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b2da1c8849a5a57e14bf460cd96e7e89fcb769c5', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nImplements: blueprint designate-rolling-upgrade'}, {'number': 18, 'created': '2017-11-16 09:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/39aee69597f2ac1bde88b1e780a416c78751fdbc', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nImplements: blueprint designate-rolling-upgrade'}, {'number': 19, 'created': '2017-12-11 06:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5fd29107d48600edc54981b08c1e669af52807e5', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nImplements: blueprint designate-rolling-upgrade'}, {'number': 20, 'created': '2018-01-24 04:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5f6c8a55095a55ce7e5bde3b13fcaac920b5563a', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nImplements: blueprint designate-rolling-upgrade'}, {'number': 21, 'created': '2018-01-24 09:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b7d33def2784767daee60522980608fc352da09c', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nImplements: blueprint designate-rolling-upgrade'}, {'number': 22, 'created': '2018-02-01 09:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8244cf70966e703f8e2335fd10009a1d63a776ff', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 23, 'created': '2018-02-01 10:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3a92290dd52fba3eea7a1506ffdde13c58047adc', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 24, 'created': '2018-02-02 02:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/45d9f5109464a4226986a476e7d5dd824bf9ac03', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 25, 'created': '2018-02-07 01:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5e98cc5b0074db51593908d5d167b0a9c3354742', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 26, 'created': '2018-02-07 01:29:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1f01ed26fe786182fc937f6648db8cfadfbb36b7', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 27, 'created': '2018-02-25 16:07:38.000000000', 'files': ['designate/objects/pool_target.py', 'designate/objects/pool_nameserver.py', 'designate/objects/adapters/yaml/base.py', 'designate/objects/pool_ns_record.py', 'designate/objects/pool.py', 'designate/objects/fields.py', 'designate/objects/zone_import.py', 'designate/tests/unit/test_pool.py', 'designate/objects/pool_target_option.py', 'designate/objects/pool_manager_status.py', 'designate/tests/test_api/test_v2/test_zones.py', 'designate/objects/ovo_base.py', 'designate/objects/pool_attribute.py', 'designate/objects/zone_export.py', 'designate/tests/test_pool_manager/test_service.py', 'designate/objects/pool_target_master.py', 'designate/objects/pool_also_notify.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/274c2cb82cec2a9d6ca8dd54189a35e55485867f', 'message': 'Migrate object to OVO (4)\n\nThis commit will migrate:\n- Pool and PoolList\n- Related objects\n\nCo-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>\n\nChange-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9\nImplements: blueprint designate-rolling-upgrade\n'}]",20,471530,274c2cb82cec2a9d6ca8dd54189a35e55485867f,96,10,27,25254,,,0,"Migrate object to OVO (4)

This commit will migrate:
- Pool and PoolList
- Related objects

Co-authored-By: Dai Dang Van <daidv@vn.fujitsu.com>

Change-Id: I59da0628a9dc23efe8d8665bbf3359e652eaa8c9
Implements: blueprint designate-rolling-upgrade
",git fetch https://review.opendev.org/openstack/designate refs/changes/30/471530/8 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/__init__.py', 'designate/objects/pool_target.py', 'designate/objects/pool_nameserver.py', 'designate/tests/test_backend/test_powerdns.py', 'designate/tests/test_api/test_v1/test_servers.py', 'designate/objects/adapters/yaml/base.py', 'designate/objects/pool_ns_record.py', 'designate/tests/test_pool_manager/test_rpcapi.py', 'designate/objects/pool.py', 'designate/objects/fields.py', 'designate/scheduler/filters/attribute_filter.py', 'designate/tests/unit/test_central/test_basic.py', 'designate/tests/unit/test_pool.py', 'designate/objects/pool_target_option.py', 'designate/objects/pool_manager_status.py', 'designate/tests/test_backend/test_bind9.py', 'designate/objects/pool_attribute.py', 'designate/tests/test_pool_manager/test_service.py', 'designate/objects/pool_target_master.py', 'designate/objects/pool_also_notify.py', 'designate/tests/test_backend/test_nsd4.py']",21,55281c760334994d5ae318cc09a4fd2377c63463,OVO," keyfile = mock.sentinel.key certfile = mock.sentinel.cert {'key': 'keyfile', 'value': keyfile.name}, {'key': 'certfile', 'value': certfile.name}, {'key': 'port', 'value': str(self.port)} certfile=mock.sentinel.cert.name, keyfile=mock.sentinel.key.name)"," {'key': 'keyfile', 'value': mock.sentinel.key}, {'key': 'certfile', 'value': mock.sentinel.cert}, {'key': 'port', 'value': self.port} certfile=mock.sentinel.cert, keyfile=mock.sentinel.key)",181,305
openstack%2Foslotest~stable%2Fqueens~I80fb62fceaad967529bb3ad9d6d68b2fae8dc792,openstack/oslotest,stable/queens,I80fb62fceaad967529bb3ad9d6d68b2fae8dc792,Updated from global requirements,MERGED,2018-02-13 01:58:58.000000000,2018-02-25 22:29:45.000000000,2018-02-25 22:29:45.000000000,"[{'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-13 01:58:58.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/88adc79a2704c7d5709cd49476cee9070559a55a', 'message': 'Updated from global requirements\n\nChange-Id: I80fb62fceaad967529bb3ad9d6d68b2fae8dc792\n'}]",0,543726,88adc79a2704c7d5709cd49476cee9070559a55a,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I80fb62fceaad967529bb3ad9d6d68b2fae8dc792
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/26/543726/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,88adc79a2704c7d5709cd49476cee9070559a55a,openstack/requirements,"sphinx!=1.6.6,>=1.6.2 # BSD openstackdocstheme>=1.18.1 # Apache-2.0",sphinx>=1.6.2 # BSD openstackdocstheme>=1.17.0 # Apache-2.0,2,2
openstack%2Foctavia-dashboard~stable%2Fqueens~Iee0940af5f2847f475fd96d237a52c3ccb983598,openstack/octavia-dashboard,stable/queens,Iee0940af5f2847f475fd96d237a52c3ccb983598,Imported Translations from Zanata,MERGED,2018-02-22 06:57:51.000000000,2018-02-25 21:34:57.000000000,2018-02-25 21:34:56.000000000,"[{'_account_id': 6579}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-22 06:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/bfae8c65c61044d61046f6c0a0925415137e01ee', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iee0940af5f2847f475fd96d237a52c3ccb983598\n'}, {'number': 2, 'created': '2018-02-23 07:33:36.000000000', 'files': ['octavia_dashboard/locale/id/LC_MESSAGES/djangojs.po', 'octavia_dashboard/locale/id/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/7a834560dcd7550662cb6354d540bc84d3172909', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iee0940af5f2847f475fd96d237a52c3ccb983598\n'}]",0,546894,7a834560dcd7550662cb6354d540bc84d3172909,9,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iee0940af5f2847f475fd96d237a52c3ccb983598
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/94/546894/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia_dashboard/locale/id/LC_MESSAGES/django.po'],1,bfae8c65c61044d61046f6c0a0925415137e01ee,zanata/translations,"# suhartono <cloudsuhartono@gmail.com>, 2018. #zanata""Project-Id-Version: octavia-dashboard VERSION\n""""POT-Creation-Date: 2018-02-15 23:25+0000\n""""PO-Revision-Date: 2018-02-21 05:26+0000\n""""X-Generator: Zanata 3.9.6\n""msgstr ""Load Balancers""","# suhartono <cloudsuhartono@gmail.com>, 2017. #zanata""Project-Id-Version: octavia-dashboard 1.0.1.dev44\n""""POT-Creation-Date: 2017-01-03 17:58+0000\n""""PO-Revision-Date: 2017-01-17 05:10+0000\n""""X-Generator: Zanata 3.7.3\n""#, python-format msgid ""%s loadbalancers"" msgstr ""%s loadbalancers"" msgid ""Admin Status"" msgstr ""Admin Status"" msgid ""All Instances"" msgstr ""All Instances (semua instance)"" msgid ""Certificate"" msgstr ""Certificate (sertifikat)"" msgid ""Certificate Chain (Optional)"" msgstr ""Certificate Chain (opsional)"" msgid ""Certificate Name"" msgstr ""Certificate Name (nama sertifikat)"" msgid ""Could not create full loadbalancer."" msgstr ""Tidak dapat membuat loadbalancer (penyeimbang beban) penuh."" msgid ""Could not get load balancer list."" msgstr ""tidak bisa mendapatkan daftar penyeimbang beban (load balancer)"" msgid ""Disable"" msgstr ""Disable (non aktif)"" msgid ""Disabled LB"" msgstr ""Disabled LB"" msgid ""Edit Load Balancer"" msgstr ""Edit Load Balancer (edit penyeimbang beban)"" msgid ""Enable"" msgstr ""Enable (mengaktifkan)"" msgid ""Enabled LB"" msgstr ""Enabled LB"" msgid ""HTTP"" msgstr ""HTTP"" msgid ""HTTPS"" msgstr ""HTTPS"" msgid ""Health Check Interval (in seconds)"" msgstr """" ""Health Check Interval (jarak waktu pemeriksaan kesehatan - dalam detik)"" msgid ""IP"" msgstr ""IP"" msgid ""Instance Port"" msgstr ""Instance Port (port instance)"" msgid ""Instance Port on which service is running."" msgstr ""Port instance dimana layanan berjalan."" msgid ""Instances"" msgstr ""Instance"" msgid ""Intermediate Chain Certificates"" msgstr ""Intermediate Chain Certificates (sertifikat rangkaian menengah)"" msgid ""LB Details"" msgstr ""LB Details (rincian LB)"" msgid ""LB Port"" msgstr ""LB Port (port LB)"" msgid ""LB Port on which LB is listening."" msgstr ""Port LB dimana LB mendengarkan."" msgid ""LB Protocol"" msgstr ""LB Protocol (protokol LB)"" msgid ""Launch"" msgstr ""Launch (luncurkan)"" msgid ""Launch Load Balancer"" msgstr ""Launch Load Balancer (peluncuran penyeimbang beban)"" #, python-format msgid ""Launched %(count)s named \""%(name)s\""."" msgstr ""Diluncurkan %(count)s bernama \""%(name)s\""."" msgid ""Least Connection"" msgstr ""Least Connection (koneksi paling sedikit)"" msgid ""Least Sessions"" msgstr ""Least Sessions (sesi paling sedikit)"" msgid ""Load Balancer"" msgstr ""Load Balancer (penyeimbang beban)"" msgid ""Load Balancer Description"" msgstr ""Load Balancer Description (gambaran penyeimbang beban)"" msgstr ""Load Balancers (penyeimbang beban)"" msgid ""Load Balancers V2"" msgstr ""Load Balancers V2"" msgid ""Load Balancing Method"" msgstr ""Load Balancing Method (Metode keseimbangan beban)"" msgid ""Method"" msgstr ""Method (metoda)"" msgid ""Monitor"" msgstr ""Monitor (monitor)"" msgid ""Name"" msgstr ""Name (nama)"" msgid ""No instances found."" msgstr ""Tidak ditemukan instance"" msgid ""No members enabled."" msgstr ""Tidak ada anggota yang aktif."" msgid ""Not available"" msgstr ""Not available (tidak tersedia)"" msgid """" ""Number of times health check should be attempted before marking down a member"" msgstr """" ""Jumlah berapa kali pemeriksaan kesehatan harus diusahakan sebelum menandai "" ""penurunan anggota"" msgid ""Operating Status"" msgstr ""Operating Status (pengoperasian status)"" msgid ""Overview"" msgstr ""Overview (ikhtisar)"" msgid ""PING"" msgstr ""PING"" msgid ""Please provide all certificate parameters."" msgstr ""Harap memberikan semua parameter sertifikat."" msgid ""Please provide instance port"" msgstr ""Harap memberikan instance port"" msgid """" ""Please select a list of instances that should handle traffic for this target "" ""load balancer. All instances must reside in the same Project as the target "" ""load balancer."" msgstr """" ""Silakan pilih daftar instance yang harus menangani lalu lintas untuk "" ""penyeimbang beban target ini. Semua instance harus berada dalam Proyek yang "" ""sama dengan beban penyeimbang sasaran."" msgid ""Please select an option for the load balancing method."" msgstr ""Silakan pilih opsi untuk metode keseimbangan beban."" msgid ""Please select at least one member"" msgstr ""Silakan pilih minimal satu anggota"" msgid ""Private Key"" msgstr ""Private Key (kunci pribadi)"" msgid ""Protocol"" msgstr ""Protocol (protokol)"" msgid ""Provide Load Balancer Description."" msgstr ""Provide Load Balancer Description (berikan gambaran penyeimbang beban)"" msgid ""Provisioning Status"" msgstr ""Provisioning Status (pengaturan status)"" msgid ""Receive String"" msgstr ""Receive String (terima string)"" #, python-format msgid ""Requested IP and port combination already exists %s "" msgstr ""Meminta kombinasi IP dan port yang sudah ada %s "" msgid ""Retry count before markdown"" msgstr ""Coba lagi hitung sebelum penurunan tanda"" msgid ""Round Robin"" msgstr ""Round Robin"" msgid ""SSL"" msgstr ""SSL"" msgid ""SSL Certificate"" msgstr ""SSL Certificate (sertifikat SSL)"" msgid ""Scheduled termination of"" msgstr ""Pemutusan yang dijadwalkan"" msgid ""Select from existing VIP IPs"" msgstr ""Pilih dari IP VIP yang ada "" msgid ""Selected Instances"" msgstr ""Selected Instances (instance terpilih)"" msgid ""Send String"" msgstr ""Send String (kirim string)"" msgid ""TCP"" msgstr ""TCP"" msgid ""Terminate"" msgstr ""Terminate (mengakhiri)"" #, python-format msgid ""Unable to get VIP for pool %(pool)s."" msgstr ""Tidak dapat mendapatkan VIP untuk pool %(pool)s."" #, python-format msgid ""Unable to get health monitors for pool %(pool)s."" msgstr ""Tidak dapat mendapatkan monitor kesehatan untuk pool %(pool)s."" #, python-format msgid ""Unable to get members for pool %(pool)s."" msgstr ""Tidak dapat mendapatkan anggota untuk pool %(pool)s."" msgid ""Unable to get pool detail."" msgstr ""Tidak dapat mendapatkan kolam rinci (pool detail)."" #, python-format msgid ""Unable to get subnet for pool %(pool)s."" msgstr ""Tidak dapat mendapatkan subnet untuk pool %(pool)s."" #, python-format msgid ""Unable to launch %(count)s named \""%(name)s\""."" msgstr ""Tidak dapat meluncurkan %(count)s bernama \""%(name)s\""."" #, python-format msgid ""Unable to modify load balancer \""%s\""."" msgstr ""Tidak dapat memodifikasi penyeimbang beban \""%s\""."" #, python-format msgid ""Unable to retrieve details for loadbalancer \""%s\""."" msgstr ""Tidak dapat mengambil rincian untuk loadbalancer \""%s\""."" #, python-format msgid ""Unable to retrieve load balancer details. %s"" msgstr ""Tidak dapat mengambil rincian load balancer. %s"" msgid ""Unable to retrieve members list. Please try again later."" msgstr ""Tidak dapat mengambil daftar anggota. Silakan coba lagi nanti."" msgid ""Unable to retrieve pools list."" msgstr ""Tidak dapat mengambil daftar kolam (pool list)."" msgid ""Unable to retrieve vips."" msgstr ""Tidak dapat mengambil VIP."" msgid ""Update"" msgstr ""Update (perbarui)"" #, python-format msgid ""Updated load balancer \""%s\""."" msgstr ""Diperbarui penyeimbang beban \""%s\""."" msgid ""loadbalancer"" msgstr ""loadbalancer""",6,268
openstack%2Fpython-octaviaclient~stable%2Fqueens~Ia0f87b63a3b53671db43d492548da3138dbdb851,openstack/python-octaviaclient,stable/queens,Ia0f87b63a3b53671db43d492548da3138dbdb851,Updated from global requirements,MERGED,2018-02-13 02:00:25.000000000,2018-02-25 21:27:50.000000000,2018-02-25 21:27:50.000000000,"[{'_account_id': 6579}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-13 02:00:25.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/a7c5412650b5b68059777fd37c4f637dd7d051ad', 'message': 'Updated from global requirements\n\nChange-Id: Ia0f87b63a3b53671db43d492548da3138dbdb851\n'}]",0,543742,a7c5412650b5b68059777fd37c4f637dd7d051ad,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: Ia0f87b63a3b53671db43d492548da3138dbdb851
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/42/543742/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,a7c5412650b5b68059777fd37c4f637dd7d051ad,openstack/requirements,openstackdocstheme>=1.18.1 # Apache-2.0,openstackdocstheme>=1.17.0 # Apache-2.0,1,1
openstack%2Fqinling~master~I5b578778921cf86055d5f8e22cbb8104f827691a,openstack/qinling,master,I5b578778921cf86055d5f8e22cbb8104f827691a,Update mysql connection in doc,MERGED,2018-02-25 16:01:09.000000000,2018-02-25 21:11:14.000000000,2018-02-25 21:11:14.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-25 16:01:09.000000000', 'files': ['tools/vagrant/qinling.conf.sample'], 'web_link': 'https://opendev.org/openstack/qinling/commit/95234663f04c14af6d88147460c45661a2e08463', 'message': 'Update mysql connection in doc\n\nChange-Id: I5b578778921cf86055d5f8e22cbb8104f827691a\n'}]",0,547836,95234663f04c14af6d88147460c45661a2e08463,6,2,1,21486,,,0,"Update mysql connection in doc

Change-Id: I5b578778921cf86055d5f8e22cbb8104f827691a
",git fetch https://review.opendev.org/openstack/qinling refs/changes/36/547836/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/vagrant/qinling.conf.sample'],1,95234663f04c14af6d88147460c45661a2e08463,,connection=mysql+pymysql://root:password@localhost:3306/qinlingqinling_service_address = QINLING_API_ADDRESS ,connection=mysql://root:password@localhost:3306/qinlingqinling_service_address = QINLING_API_ADDRESS,2,2
openstack%2Fqinling~master~I39aa2f8fd7a33de7dc461fd1f5e25f0c514379c2,openstack/qinling,master,I39aa2f8fd7a33de7dc461fd1f5e25f0c514379c2,Update home-page url,MERGED,2018-02-25 15:49:25.000000000,2018-02-25 21:08:07.000000000,2018-02-25 21:08:07.000000000,"[{'_account_id': 6732}, {'_account_id': 21486}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-25 15:49:25.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/qinling/commit/d3356c37572e3b0a4dc29cae037785bba07aab2d', 'message': 'Update home-page url\n\nThe url of home-page is out of date. We need update it.\n\nChange-Id: I39aa2f8fd7a33de7dc461fd1f5e25f0c514379c2\n'}]",0,547829,d3356c37572e3b0a4dc29cae037785bba07aab2d,7,3,1,17130,,,0,"Update home-page url

The url of home-page is out of date. We need update it.

Change-Id: I39aa2f8fd7a33de7dc461fd1f5e25f0c514379c2
",git fetch https://review.opendev.org/openstack/qinling refs/changes/29/547829/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d3356c37572e3b0a4dc29cae037785bba07aab2d,home-page,home-page = https://docs.openstack.org/qinling/latest/,home-page = https://www.openstack.org/,1,1
openstack%2Fopenstack-ansible-os_glance~master~Id06e939f25299d48f4054eec927505ed2ecdb554,openstack/openstack-ansible-os_glance,master,Id06e939f25299d48f4054eec927505ed2ecdb554,Skip logging for haproxy health checks,MERGED,2018-02-23 14:39:49.000000000,2018-02-25 21:05:03.000000000,2018-02-25 09:06:13.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 14:39:49.000000000', 'files': ['templates/glance-uwsgi.ini.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/1302539f1154b2e04e63272bc38dd60f5970b289', 'message': 'Skip logging for haproxy health checks\n\nThe health check requests from haproxy cause uwsgi to write a\nlot of useless log lines. This can make it more difficult to find\na problem with a particular service.\n\nThis patch adds a route to look for the `osa-haproxy-healthcheck`\nuser agent string, which haproxy uses when performing health checks.\nAny requests with that user agent are not logged.\n\nCloses-Bug: 1742718\nChange-Id: Id06e939f25299d48f4054eec927505ed2ecdb554\n'}]",0,547443,1302539f1154b2e04e63272bc38dd60f5970b289,8,3,1,538,,,0,"Skip logging for haproxy health checks

The health check requests from haproxy cause uwsgi to write a
lot of useless log lines. This can make it more difficult to find
a problem with a particular service.

This patch adds a route to look for the `osa-haproxy-healthcheck`
user agent string, which haproxy uses when performing health checks.
Any requests with that user agent are not logged.

Closes-Bug: 1742718
Change-Id: Id06e939f25299d48f4054eec927505ed2ecdb554
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/43/547443/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/glance-uwsgi.ini.j2'],1,1302539f1154b2e04e63272bc38dd60f5970b289,bug/1742718, # Avoid filling up the logs with health check requests from haproxy. route-user-agent = ^osa-haproxy-healthcheck$ donotlog:,,3,0
openstack%2Fopenstack-ansible-os_heat~master~I8b1bcd58fc0bea95ee0103901eb8f83b480b50ef,openstack/openstack-ansible-os_heat,master,I8b1bcd58fc0bea95ee0103901eb8f83b480b50ef,Skip logging for haproxy health checks,MERGED,2018-02-23 14:42:54.000000000,2018-02-25 21:04:55.000000000,2018-02-25 09:09:44.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-02-23 14:42:54.000000000', 'files': ['templates/heat-uwsgi.ini.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/7500845aa81273ccba3c76e859ef91eb14065c1f', 'message': 'Skip logging for haproxy health checks\n\nThe health check requests from haproxy cause uwsgi to write a\nlot of useless log lines. This can make it more difficult to find\na problem with a particular service.\n\nThis patch adds a route to look for the `osa-haproxy-healthcheck`\nuser agent string, which haproxy uses when performing health checks.\nAny requests with that user agent are not logged.\n\nCloses-Bug: 1742718\nChange-Id: I8b1bcd58fc0bea95ee0103901eb8f83b480b50ef\n'}]",0,547446,7500845aa81273ccba3c76e859ef91eb14065c1f,10,5,1,538,,,0,"Skip logging for haproxy health checks

The health check requests from haproxy cause uwsgi to write a
lot of useless log lines. This can make it more difficult to find
a problem with a particular service.

This patch adds a route to look for the `osa-haproxy-healthcheck`
user agent string, which haproxy uses when performing health checks.
Any requests with that user agent are not logged.

Closes-Bug: 1742718
Change-Id: I8b1bcd58fc0bea95ee0103901eb8f83b480b50ef
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/46/547446/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/heat-uwsgi.ini.j2'],1,7500845aa81273ccba3c76e859ef91eb14065c1f,bug/1742718, # Avoid filling up the logs with health check requests from haproxy. route-user-agent = ^osa-haproxy-healthcheck$ donotlog:,,3,0
openstack%2Fopenstack-ansible-os_cinder~master~I1a452a627aaa49adc23aa9a7e30a9d27bddac2fb,openstack/openstack-ansible-os_cinder,master,I1a452a627aaa49adc23aa9a7e30a9d27bddac2fb,Skip logging for haproxy health checks,MERGED,2018-02-23 14:40:30.000000000,2018-02-25 21:04:49.000000000,2018-02-25 09:16:41.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 14:40:30.000000000', 'files': ['templates/cinder-uwsgi.ini.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/fb5c7c1fe1364997dc801cba5d5ada929c6974c1', 'message': 'Skip logging for haproxy health checks\n\nThe health check requests from haproxy cause uwsgi to write a\nlot of useless log lines. This can make it more difficult to find\na problem with a particular service.\n\nThis patch adds a route to look for the `osa-haproxy-healthcheck`\nuser agent string, which haproxy uses when performing health checks.\nAny requests with that user agent are not logged.\n\nCloses-Bug: 1742718\nChange-Id: I1a452a627aaa49adc23aa9a7e30a9d27bddac2fb\n'}]",0,547444,fb5c7c1fe1364997dc801cba5d5ada929c6974c1,8,3,1,538,,,0,"Skip logging for haproxy health checks

The health check requests from haproxy cause uwsgi to write a
lot of useless log lines. This can make it more difficult to find
a problem with a particular service.

This patch adds a route to look for the `osa-haproxy-healthcheck`
user agent string, which haproxy uses when performing health checks.
Any requests with that user agent are not logged.

Closes-Bug: 1742718
Change-Id: I1a452a627aaa49adc23aa9a7e30a9d27bddac2fb
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/44/547444/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/cinder-uwsgi.ini.j2'],1,fb5c7c1fe1364997dc801cba5d5ada929c6974c1,bug/1742718, # Avoid filling up the logs with health check requests from haproxy. route-user-agent = ^osa-haproxy-healthcheck$ donotlog:,,3,0
openstack%2Fopenstack-ansible-os_ironic~master~I2a1786e2197fbb0fa77e78b94e0c5ff7f4afc8fb,openstack/openstack-ansible-os_ironic,master,I2a1786e2197fbb0fa77e78b94e0c5ff7f4afc8fb,Skip logging for haproxy health checks,MERGED,2018-02-23 14:45:41.000000000,2018-02-25 21:04:40.000000000,2018-02-25 09:17:20.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 14:45:41.000000000', 'files': ['templates/ironic-uwsgi.ini.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/e5e0aa48e3dc5c3009df2e445efa16b2936b9685', 'message': 'Skip logging for haproxy health checks\n\nThe health check requests from haproxy cause uwsgi to write a\nlot of useless log lines. This can make it more difficult to find\na problem with a particular service.\n\nThis patch adds a route to look for the `osa-haproxy-healthcheck`\nuser agent string, which haproxy uses when performing health checks.\nAny requests with that user agent are not logged.\n\nCloses-Bug: 1742718\nChange-Id: I2a1786e2197fbb0fa77e78b94e0c5ff7f4afc8fb\n'}]",0,547465,e5e0aa48e3dc5c3009df2e445efa16b2936b9685,8,3,1,538,,,0,"Skip logging for haproxy health checks

The health check requests from haproxy cause uwsgi to write a
lot of useless log lines. This can make it more difficult to find
a problem with a particular service.

This patch adds a route to look for the `osa-haproxy-healthcheck`
user agent string, which haproxy uses when performing health checks.
Any requests with that user agent are not logged.

Closes-Bug: 1742718
Change-Id: I2a1786e2197fbb0fa77e78b94e0c5ff7f4afc8fb
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/65/547465/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ironic-uwsgi.ini.j2'],1,e5e0aa48e3dc5c3009df2e445efa16b2936b9685,bug/1742718, # Avoid filling up the logs with health check requests from haproxy. route-user-agent = ^osa-haproxy-healthcheck$ donotlog:,,3,0
openstack%2Fopenstack-ansible-os_keystone~master~Ia163d1686274bd3b80a046a945fb7d7ceb5f721c,openstack/openstack-ansible-os_keystone,master,Ia163d1686274bd3b80a046a945fb7d7ceb5f721c,Skip logging for haproxy health checks,MERGED,2018-02-23 14:38:59.000000000,2018-02-25 21:04:32.000000000,2018-02-25 09:18:27.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 14:38:59.000000000', 'files': ['templates/keystone-uwsgi.ini.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/943b5c560b6b9618c35ad5a80b43f781abcc5750', 'message': 'Skip logging for haproxy health checks\n\nThe health check requests from haproxy cause uwsgi to write a\nlot of useless log lines. This can make it more difficult to find\na problem with a particular service.\n\nThis patch adds a route to look for the `osa-haproxy-healthcheck`\nuser agent string, which haproxy uses when performing health checks.\nAny requests with that user agent are not logged.\n\nCloses-Bug: 1742718\nChange-Id: Ia163d1686274bd3b80a046a945fb7d7ceb5f721c\n'}]",0,547442,943b5c560b6b9618c35ad5a80b43f781abcc5750,8,3,1,538,,,0,"Skip logging for haproxy health checks

The health check requests from haproxy cause uwsgi to write a
lot of useless log lines. This can make it more difficult to find
a problem with a particular service.

This patch adds a route to look for the `osa-haproxy-healthcheck`
user agent string, which haproxy uses when performing health checks.
Any requests with that user agent are not logged.

Closes-Bug: 1742718
Change-Id: Ia163d1686274bd3b80a046a945fb7d7ceb5f721c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/42/547442/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/keystone-uwsgi.ini.j2'],1,943b5c560b6b9618c35ad5a80b43f781abcc5750,bug/1742718, # Avoid filling up the logs with health check requests from haproxy. route-user-agent = ^osa-haproxy-healthcheck$ donotlog:,,3,0
openstack%2Fopenstack-ansible-os_octavia~master~I9b0239a9a24861734badbe874dc3e1139d7100c6,openstack/openstack-ansible-os_octavia,master,I9b0239a9a24861734badbe874dc3e1139d7100c6,Skip logging for haproxy health checks,MERGED,2018-02-23 14:44:50.000000000,2018-02-25 21:04:24.000000000,2018-02-25 09:28:52.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 14:44:50.000000000', 'files': ['templates/octavia-uwsgi.ini.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/e4d5cd0da7c535e7b235c5e9ab4899efb2a5c8e6', 'message': 'Skip logging for haproxy health checks\n\nThe health check requests from haproxy cause uwsgi to write a\nlot of useless log lines. This can make it more difficult to find\na problem with a particular service.\n\nThis patch adds a route to look for the `osa-haproxy-healthcheck`\nuser agent string, which haproxy uses when performing health checks.\nAny requests with that user agent are not logged.\n\nCloses-Bug: 1742718\nChange-Id: I9b0239a9a24861734badbe874dc3e1139d7100c6\n'}]",0,547449,e4d5cd0da7c535e7b235c5e9ab4899efb2a5c8e6,8,3,1,538,,,0,"Skip logging for haproxy health checks

The health check requests from haproxy cause uwsgi to write a
lot of useless log lines. This can make it more difficult to find
a problem with a particular service.

This patch adds a route to look for the `osa-haproxy-healthcheck`
user agent string, which haproxy uses when performing health checks.
Any requests with that user agent are not logged.

Closes-Bug: 1742718
Change-Id: I9b0239a9a24861734badbe874dc3e1139d7100c6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/49/547449/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/octavia-uwsgi.ini.j2'],1,e4d5cd0da7c535e7b235c5e9ab4899efb2a5c8e6,bug/1742718, # Avoid filling up the logs with health check requests from haproxy. route-user-agent = ^osa-haproxy-healthcheck$ donotlog:,,3,0
openstack%2Fopenstack-ansible-os_nova~master~I960bf62cfcd1bcbcec4923f04eb7566081b1bec1,openstack/openstack-ansible-os_nova,master,I960bf62cfcd1bcbcec4923f04eb7566081b1bec1,Skip logging for haproxy health checks,MERGED,2018-02-23 14:35:49.000000000,2018-02-25 21:04:15.000000000,2018-02-25 09:34:25.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 14:35:49.000000000', 'files': ['templates/nova-uwsgi.ini.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/145b98f3298028187f0e151872dcd7d0e54f1353', 'message': 'Skip logging for haproxy health checks\n\nThe health check requests from haproxy cause uwsgi to write a\nlot of useless log lines. This can make it more difficult to find\na problem with a particular service.\n\nThis patch adds a route to look for the `osa-haproxy-healthcheck`\nuser agent string, which haproxy uses when performing health checks.\nAny requests with that user agent are not logged.\n\nCloses-Bug: 1742718\nChange-Id: I960bf62cfcd1bcbcec4923f04eb7566081b1bec1\n'}]",0,547440,145b98f3298028187f0e151872dcd7d0e54f1353,8,3,1,538,,,0,"Skip logging for haproxy health checks

The health check requests from haproxy cause uwsgi to write a
lot of useless log lines. This can make it more difficult to find
a problem with a particular service.

This patch adds a route to look for the `osa-haproxy-healthcheck`
user agent string, which haproxy uses when performing health checks.
Any requests with that user agent are not logged.

Closes-Bug: 1742718
Change-Id: I960bf62cfcd1bcbcec4923f04eb7566081b1bec1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/40/547440/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova-uwsgi.ini.j2'],1,145b98f3298028187f0e151872dcd7d0e54f1353,bug/1742718, # Avoid filling up the logs with health check requests from haproxy. route-user-agent = ^osa-haproxy-healthcheck$ donotlog:,,3,0
openstack%2Foslo.concurrency~stable%2Fqueens~I2ce344330905eef437ef3f89a2a01169a30df8ab,openstack/oslo.concurrency,stable/queens,I2ce344330905eef437ef3f89a2a01169a30df8ab,Mask passwords only when command execution fails,MERGED,2018-02-23 11:40:40.000000000,2018-02-25 20:42:05.000000000,2018-02-25 20:42:05.000000000,"[{'_account_id': 2472}, {'_account_id': 9796}, {'_account_id': 10608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 11:40:40.000000000', 'files': ['oslo_concurrency/processutils.py', 'oslo_concurrency/tests/unit/test_processutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/0c4718fcb77e9f4e3a22ae458869b7294b7bc91f', 'message': 'Mask passwords only when command execution fails\n\nAt many places, processutils.ssh_execute() is being invoked to run\na command over ssh and output returned is parsed to get appropriate\ninformation. In this flow, unsanitized output is being expected\nwhere processutils.ssh_execute() was invoked but found that\noutput like volume details(containing ""password"" string in its name)\nis being masked away with strutils.mask_password(stdout) even though\nno error occured during command execution.\n\nThis is regression issue from patch[0]. In this fix, stdout and stderr\nin processutils.ssh_execute() will be masked only when\nProcessExecutionError exception is thrown i.e. command execution failed\ndue to some reasons.\n\n[0] https://github.com/openstack/oslo.concurrency/commit/\nae9e05bfc3d7ec867bd6ec78c301f11c2bdd0d5f\n\nChange-Id: I2ce344330905eef437ef3f89a2a01169a30df8ab\nCloses-Bug: #1482382\n(cherry picked from commit 21ae27e66d77f276c23a7ca2eaa8869438fb4d31)\n'}]",0,547388,0c4718fcb77e9f4e3a22ae458869b7294b7bc91f,7,4,1,24005,,,0,"Mask passwords only when command execution fails

At many places, processutils.ssh_execute() is being invoked to run
a command over ssh and output returned is parsed to get appropriate
information. In this flow, unsanitized output is being expected
where processutils.ssh_execute() was invoked but found that
output like volume details(containing ""password"" string in its name)
is being masked away with strutils.mask_password(stdout) even though
no error occured during command execution.

This is regression issue from patch[0]. In this fix, stdout and stderr
in processutils.ssh_execute() will be masked only when
ProcessExecutionError exception is thrown i.e. command execution failed
due to some reasons.

[0] https://github.com/openstack/oslo.concurrency/commit/
ae9e05bfc3d7ec867bd6ec78c301f11c2bdd0d5f

Change-Id: I2ce344330905eef437ef3f89a2a01169a30df8ab
Closes-Bug: #1482382
(cherry picked from commit 21ae27e66d77f276c23a7ca2eaa8869438fb4d31)
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/88/547388/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_concurrency/processutils.py', 'oslo_concurrency/tests/unit/test_processutils.py']",2,0c4718fcb77e9f4e3a22ae458869b7294b7bc91f,bug/1482382-stable/queens," fake_stderr = mock.Mock() fake_stderr.read.return_value = b'password=""foobar""' # test ssh_execute with sanitize_stdout=False err = self.assertRaises(processutils.ProcessExecutionError, processutils.ssh_execute, connection, command, check_exit_code=check, sanitize_stdout=False) self.assertEqual(rc, err.exit_code) self.assertEqual('password=""***""', err.stdout) self.assertEqual('password=""***""', err.stderr) self.assertEqual('ls --password=""***""', err.cmd) self.assertNotIn('secret', str(err)) self.assertNotIn('foobar', str(err)) # test ssh_execute with sanitize_stdout=False o, e = processutils.ssh_execute(connection, command, check_exit_code=check, sanitize_stdout=False) self.assertEqual('password=""secret""', o) self.assertEqual('password=""***""', e) self.assertIn('password=""***""', fixture.output) self.assertNotIn('bar', fixture.output) "," fake_stderr = six.BytesIO(b'password=""foobar""')",47,3
openstack%2Foslo.context~stable%2Fqueens~Ia2cbc83662bf5f6502ca51d6ef9f299fe125932b,openstack/oslo.context,stable/queens,Ia2cbc83662bf5f6502ca51d6ef9f299fe125932b,Updated from global requirements,MERGED,2018-02-13 01:57:58.000000000,2018-02-25 20:25:39.000000000,2018-02-25 20:25:38.000000000,"[{'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-13 01:57:58.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/41c0bb8fe06f791b9280446e69112b85eae0cb04', 'message': 'Updated from global requirements\n\nChange-Id: Ia2cbc83662bf5f6502ca51d6ef9f299fe125932b\n'}]",0,543711,41c0bb8fe06f791b9280446e69112b85eae0cb04,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Ia2cbc83662bf5f6502ca51d6ef9f299fe125932b
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/11/543711/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt']",2,41c0bb8fe06f791b9280446e69112b85eae0cb04,openstack/requirements,"openstackdocstheme>=1.18.1 # Apache-2.0 sphinx!=1.6.6,>=1.6.2 # BSD",openstackdocstheme>=1.17.0 # Apache-2.0 sphinx>=1.6.2 # BSD,3,3
openstack%2Fopenstack-helm~master~I40b0c0a0be8a32340d992dc690a76980a129ca90,openstack/openstack-helm,master,I40b0c0a0be8a32340d992dc690a76980a129ca90,OSD: remove redundant DMCRYPT setup,MERGED,2018-02-25 01:14:31.000000000,2018-02-25 19:44:25.000000000,2018-02-25 19:44:25.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2018-02-25 01:14:31.000000000', 'files': ['ceph/templates/bin/osd/_init.sh.tpl', 'ceph/templates/daemonset-osd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/84db0873d39d508f78af63f3b82f05d6d7162fe8', 'message': 'OSD: remove redundant DMCRYPT setup\n\nThis PS removes the redundant dmcrypt setup from the OSD scripts.\n\nChange-Id: I40b0c0a0be8a32340d992dc690a76980a129ca90\n'}]",0,547792,84db0873d39d508f78af63f3b82f05d6d7162fe8,7,3,1,23928,,,0,"OSD: remove redundant DMCRYPT setup

This PS removes the redundant dmcrypt setup from the OSD scripts.

Change-Id: I40b0c0a0be8a32340d992dc690a76980a129ca90
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/92/547792/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph/templates/bin/osd/_init.sh.tpl', 'ceph/templates/daemonset-osd.yaml']",2,84db0873d39d508f78af63f3b82f05d6d7162fe8,ceph/remove-unrequired-keys,, - name: ceph-client-admin-keyring mountPath: /etc/ceph/ceph.client.admin.keyring subPath: ceph.client.admin.keyring readOnly: false - name: ceph-client-admin-keyring mountPath: /etc/ceph/ceph.client.admin.keyring subPath: ceph.client.admin.keyring readOnly: false - name: ceph-client-admin-keyring secret: secretName: {{ .Values.secrets.keyrings.admin }},2,27
openstack%2Fopenstack-helm~master~If224796a4579cde195954ab806c20be7a1974ecd,openstack/openstack-helm,master,If224796a4579cde195954ab806c20be7a1974ecd,Ceph: remove unrequired keyrings from pods,MERGED,2018-02-25 01:06:26.000000000,2018-02-25 19:41:17.000000000,2018-02-25 19:41:17.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}]","[{'number': 1, 'created': '2018-02-25 01:06:26.000000000', 'files': ['ceph/templates/deployment-mgr.yaml', 'ceph/templates/deployment-rgw.yaml', 'ceph/templates/deployment-moncheck.yaml', 'ceph/templates/deployment-mds.yaml', 'ceph/templates/daemonset-osd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1cfb0308b95eb1936b290a65fe4079fad1abce35', 'message': 'Ceph: remove unrequired keyrings from pods\n\nThis PS removes unrequired keyrings from being mounted into ceph\npods.\n\nChange-Id: If224796a4579cde195954ab806c20be7a1974ecd\n'}]",0,547791,1cfb0308b95eb1936b290a65fe4079fad1abce35,7,3,1,23928,,,0,"Ceph: remove unrequired keyrings from pods

This PS removes unrequired keyrings from being mounted into ceph
pods.

Change-Id: If224796a4579cde195954ab806c20be7a1974ecd
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/91/547791/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph/templates/deployment-mgr.yaml', 'ceph/templates/deployment-rgw.yaml', 'ceph/templates/deployment-moncheck.yaml', 'ceph/templates/deployment-mds.yaml', 'ceph/templates/daemonset-osd.yaml']",5,1cfb0308b95eb1936b290a65fe4079fad1abce35,ceph/remove-unrequired-keys,, - name: ceph-mon-keyring mountPath: /etc/ceph/ceph.mon.keyring subPath: ceph.mon.keyring readOnly: false - name: ceph-bootstrap-mds-keyring mountPath: /var/lib/ceph/bootstrap-mds/ceph.keyring subPath: ceph.keyring readOnly: false - name: ceph-bootstrap-rgw-keyring mountPath: /var/lib/ceph/bootstrap-rgw/ceph.keyring subPath: ceph.keyring readOnly: false - name: ceph-mon-keyring mountPath: /etc/ceph/ceph.mon.keyring subPath: ceph.mon.keyring readOnly: false - name: ceph-bootstrap-mds-keyring mountPath: /var/lib/ceph/bootstrap-mds/ceph.keyring subPath: ceph.keyring readOnly: false - name: ceph-bootstrap-rgw-keyring mountPath: /var/lib/ceph/bootstrap-rgw/ceph.keyring subPath: ceph.keyring readOnly: false - name: ceph-mon-keyring secret: secretName: {{ .Values.secrets.keyrings.mon }} - name: ceph-bootstrap-mds-keyring secret: secretName: {{ .Values.secrets.keyrings.mds }} - name: ceph-bootstrap-rgw-keyring secret: secretName: {{ .Values.secrets.keyrings.rgw }},0,117
openstack%2Fautomaton~stable%2Fqueens~I97ab1049a2de21c8b64d731f0ca2b01895da50cb,openstack/automaton,stable/queens,I97ab1049a2de21c8b64d731f0ca2b01895da50cb,Updated from global requirements,MERGED,2018-02-13 01:48:07.000000000,2018-02-25 19:40:48.000000000,2018-02-25 19:40:48.000000000,"[{'_account_id': 6618}, {'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-13 01:48:07.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/automaton/commit/4e25c5c240f166264f24d15f387ecf4052867b3d', 'message': 'Updated from global requirements\n\nChange-Id: I97ab1049a2de21c8b64d731f0ca2b01895da50cb\n'}]",0,543674,4e25c5c240f166264f24d15f387ecf4052867b3d,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: I97ab1049a2de21c8b64d731f0ca2b01895da50cb
",git fetch https://review.opendev.org/openstack/automaton refs/changes/74/543674/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,4e25c5c240f166264f24d15f387ecf4052867b3d,openstack/requirements,"sphinx!=1.6.6,>=1.6.2 # BSD openstackdocstheme>=1.18.1 # Apache-2.0 oslotest>=3.2.0 # Apache-2.0",sphinx>=1.6.2 # BSD openstackdocstheme>=1.17.0 # Apache-2.0 oslotest>=1.10.0 # Apache-2.0,3,3
openstack%2Fopenstack-ansible~master~I62aec92df9d40ef7e9c942c91e00055f9c8f0b08,openstack/openstack-ansible,master,I62aec92df9d40ef7e9c942c91e00055f9c8f0b08,Switch to using the imported nspawn roles,MERGED,2018-02-23 18:06:25.000000000,2018-02-25 19:35:15.000000000,2018-02-25 19:35:15.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-02-23 18:06:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7025aa43e36b2530a7b3e19da894b683db8b82d4', 'message': ""Switch to using the imported nspawn roles\n\nWe've now imported the roles into the OpenStack\nnamespace, so let's use them from there.\n\nChange-Id: I62aec92df9d40ef7e9c942c91e00055f9c8f0b08\n""}, {'number': 2, 'created': '2018-02-23 21:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/edf1e614e86e7370f0cc58b7a797b1a71fe3034f', 'message': ""Switch to using the imported nspawn roles\n\nWe've now imported the roles into the OpenStack\nnamespace, so let's use them from there.\n\nChange-Id: I62aec92df9d40ef7e9c942c91e00055f9c8f0b08\n""}, {'number': 3, 'created': '2018-02-24 14:17:35.000000000', 'files': ['ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/620ae776166235101f4c3fbe737270eaa0f1126b', 'message': ""Switch to using the imported nspawn roles\n\nWe've now imported the roles into the OpenStack\nnamespace, so let's use them from there.\n\nChange-Id: I62aec92df9d40ef7e9c942c91e00055f9c8f0b08\n""}]",1,547554,620ae776166235101f4c3fbe737270eaa0f1126b,15,5,3,6816,,,0,"Switch to using the imported nspawn roles

We've now imported the roles into the OpenStack
namespace, so let's use them from there.

Change-Id: I62aec92df9d40ef7e9c942c91e00055f9c8f0b08
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/54/547554/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible-role-requirements.yml'],1,7025aa43e36b2530a7b3e19da894b683db8b82d4,, src: https://git.openstak.org/openstack/openstack-ansible-nspawn_container_create src: https://git.openstack.org/openstack/openstack-ansible-nspawn_host,# Once the initial commit for nspawn has been merged we can work on porting # these roles over into the openstack-ansible namspace. src: https://github.com/cloudnull/ansible-nspawn_container_create src: https://github.com/cloudnull/ansible-nspawn_host,2,4
openstack%2Fopenstack-ansible~stable%2Focata~I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1,openstack/openstack-ansible,stable/ocata,I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1,"Remove the ""max_fail_percentage"" option",MERGED,2018-02-24 17:34:48.000000000,2018-02-25 19:35:14.000000000,2018-02-25 19:35:14.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-02-24 17:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0afeca7f885c2d8002cafa0ae4a64af1c3680570', 'message': 'Remove the ""max_fail_percentage"" option\n\nThis option can cause silent failures which are confusing and hard to\ntrack down. While the intention of this was to allow large scale\ndeployments to succeed in cases where a single node fails due to\ntransiant issues it has produced more problems in terms of confusion\nthat it solves. This change removes the option from all production\nplaybooks.\n\nChange-Id: I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n(cherry picked from commit c2743f5cca1930a553ce9f20b207cb17fa6b763d)\n'}, {'number': 2, 'created': '2018-02-24 17:38:15.000000000', 'files': ['playbooks/rsyslog-install.yml', 'playbooks/rabbitmq-install.yml', 'playbooks/os-magnum-install.yml', 'playbooks/os-swift-install.yml', 'playbooks/ceph-install.yml', 'playbooks/lxc-containers-create.yml', 'releasenotes/notes/remove-fax-fail-5038b4b6eb4951b3.yaml', 'playbooks/os-swift-sync.yml', 'playbooks/lxc-containers-destroy.yml', 'playbooks/lxc-hosts-setup.yml', 'playbooks/os-horizon-install.yml', 'playbooks/os-tempest-install.yml', 'playbooks/os-cinder-install.yml', 'playbooks/utility-install.yml', 'playbooks/os-aodh-install.yml', 'playbooks/repo-server.yml', 'playbooks/galera-install.yml', 'playbooks/os-gnocchi-install.yml', 'playbooks/os-heat-install.yml', 'playbooks/os-nova-install.yml', 'playbooks/os-glance-install.yml', 'playbooks/os-ceilometer-install.yml', 'playbooks/memcached-install.yml', 'playbooks/etcd-install.yml', 'playbooks/os-keystone-install.yml', 'playbooks/os-barbican-install.yml', 'playbooks/haproxy-install.yml', 'playbooks/openstack-hosts-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c1d7a717a7de39c3609ddb1e95976a9229451dae', 'message': 'Remove the ""max_fail_percentage"" option\n\nThis option can cause silent failures which are confusing and hard to\ntrack down. While the intention of this was to allow large scale\ndeployments to succeed in cases where a single node fails due to\ntransiant issues it has produced more problems in terms of confusion\nthat it solves. This change removes the option from all production\nplaybooks.\n\nChange-Id: I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n(cherry picked from commit c2743f5cca1930a553ce9f20b207cb17fa6b763d)\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,547774,c1d7a717a7de39c3609ddb1e95976a9229451dae,10,4,2,7353,,,0,"Remove the ""max_fail_percentage"" option

This option can cause silent failures which are confusing and hard to
track down. While the intention of this was to allow large scale
deployments to succeed in cases where a single node fails due to
transiant issues it has produced more problems in terms of confusion
that it solves. This change removes the option from all production
playbooks.

Change-Id: I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
(cherry picked from commit c2743f5cca1930a553ce9f20b207cb17fa6b763d)
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/74/547774/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/rsyslog-install.yml', 'playbooks/rabbitmq-install.yml', 'playbooks/os-magnum-install.yml', 'playbooks/os-swift-install.yml', 'playbooks/ceph-install.yml', 'releasenotes/notes/remove-fax-fail-5038b4b6eb4951b3.yaml', 'playbooks/os-swift-sync.yml', 'playbooks/os-horizon-install.yml', 'playbooks/os-tempest-install.yml', 'playbooks/os-cinder-install.yml', 'playbooks/utility-install.yml', 'playbooks/os-aodh-install.yml', 'playbooks/repo-server.yml', 'playbooks/galera-install.yml', 'playbooks/os-gnocchi-install.yml', 'playbooks/os-heat-install.yml', 'playbooks/os-nova-install.yml', 'playbooks/os-glance-install.yml', 'playbooks/os-ceilometer-install.yml', 'playbooks/memcached-install.yml', 'playbooks/etcd-install.yml', 'playbooks/os-keystone-install.yml', 'playbooks/os-barbican-install.yml', 'playbooks/haproxy-install.yml', 'playbooks/openstack-hosts-setup.yml']",25,0afeca7f885c2d8002cafa0ae4a64af1c3680570,,, max_fail_percentage: 20,21,34
openstack%2Fopenstack-ansible~stable%2Fpike~I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1,openstack/openstack-ansible,stable/pike,I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1,"Remove the ""max_fail_percentage"" option",MERGED,2018-02-24 17:30:10.000000000,2018-02-25 19:35:13.000000000,2018-02-25 19:35:13.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-02-24 17:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ed296781adaea0d32a4e3ec55b7fa0e8ce87fc56', 'message': 'Remove the ""max_fail_percentage"" option\n\nThis option can cause silent failures which are confusing and hard to\ntrack down. While the intention of this was to allow large scale\ndeployments to succeed in cases where a single node fails due to\ntransiant issues it has produced more problems in terms of confusion\nthat it solves. This change removes the option from all production\nplaybooks.\n\nChange-Id: I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n(cherry picked from commit c2743f5cca1930a553ce9f20b207cb17fa6b763d)\n'}, {'number': 2, 'created': '2018-02-24 17:37:32.000000000', 'files': ['playbooks/rsyslog-install.yml', 'playbooks/rabbitmq-install.yml', 'playbooks/os-magnum-install.yml', 'playbooks/os-octavia-install.yml', 'playbooks/os-swift-install.yml', 'playbooks/ceph-install.yml', 'playbooks/lxc-containers-create.yml', 'releasenotes/notes/remove-fax-fail-5038b4b6eb4951b3.yaml', 'playbooks/os-swift-sync.yml', 'playbooks/lxc-containers-destroy.yml', 'playbooks/lxc-hosts-setup.yml', 'playbooks/os-horizon-install.yml', 'playbooks/os-tempest-install.yml', 'playbooks/os-cinder-install.yml', 'playbooks/utility-install.yml', 'playbooks/os-aodh-install.yml', 'playbooks/repo-server.yml', 'playbooks/galera-install.yml', 'playbooks/os-gnocchi-install.yml', 'playbooks/os-heat-install.yml', 'playbooks/os-nova-install.yml', 'playbooks/os-glance-install.yml', 'playbooks/os-ceilometer-install.yml', 'playbooks/memcached-install.yml', 'playbooks/etcd-install.yml', 'playbooks/os-keystone-install.yml', 'playbooks/os-barbican-install.yml', 'playbooks/haproxy-install.yml', 'playbooks/openstack-hosts-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2cffc500a593b1163cf55f4965dc67f4829d22cc', 'message': 'Remove the ""max_fail_percentage"" option\n\nThis option can cause silent failures which are confusing and hard to\ntrack down. While the intention of this was to allow large scale\ndeployments to succeed in cases where a single node fails due to\ntransiant issues it has produced more problems in terms of confusion\nthat it solves. This change removes the option from all production\nplaybooks.\n\nChange-Id: I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n(cherry picked from commit c2743f5cca1930a553ce9f20b207cb17fa6b763d)\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,547773,2cffc500a593b1163cf55f4965dc67f4829d22cc,11,4,2,7353,,,0,"Remove the ""max_fail_percentage"" option

This option can cause silent failures which are confusing and hard to
track down. While the intention of this was to allow large scale
deployments to succeed in cases where a single node fails due to
transiant issues it has produced more problems in terms of confusion
that it solves. This change removes the option from all production
playbooks.

Change-Id: I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
(cherry picked from commit c2743f5cca1930a553ce9f20b207cb17fa6b763d)
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/73/547773/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/rsyslog-install.yml', 'playbooks/rabbitmq-install.yml', 'playbooks/os-magnum-install.yml', 'playbooks/os-octavia-install.yml', 'playbooks/os-swift-install.yml', 'playbooks/ceph-install.yml', 'releasenotes/notes/remove-fax-fail-5038b4b6eb4951b3.yaml', 'playbooks/os-swift-sync.yml', 'playbooks/os-horizon-install.yml', 'playbooks/os-tempest-install.yml', 'playbooks/os-cinder-install.yml', 'playbooks/utility-install.yml', 'playbooks/os-aodh-install.yml', 'playbooks/repo-server.yml', 'playbooks/galera-install.yml', 'playbooks/os-gnocchi-install.yml', 'playbooks/os-heat-install.yml', 'playbooks/os-nova-install.yml', 'playbooks/os-glance-install.yml', 'playbooks/os-ceilometer-install.yml', 'playbooks/memcached-install.yml', 'playbooks/etcd-install.yml', 'playbooks/os-keystone-install.yml', 'playbooks/os-barbican-install.yml', 'playbooks/haproxy-install.yml', 'playbooks/openstack-hosts-setup.yml']",26,ed296781adaea0d32a4e3ec55b7fa0e8ce87fc56,,, max_fail_percentage: 20,21,34
openstack%2Fdebtcollector~stable%2Fqueens~Idfb8e565a874b081de4cc0e0817791dc34f70dce,openstack/debtcollector,stable/queens,Idfb8e565a874b081de4cc0e0817791dc34f70dce,Updated from global requirements,MERGED,2018-02-13 01:49:10.000000000,2018-02-25 19:34:43.000000000,2018-02-25 19:34:43.000000000,"[{'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-13 01:49:10.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/debtcollector/commit/4e97d4b550bd35ca36f88206f9ea15854af7bb8b', 'message': 'Updated from global requirements\n\nChange-Id: Idfb8e565a874b081de4cc0e0817791dc34f70dce\n'}]",0,543678,4e97d4b550bd35ca36f88206f9ea15854af7bb8b,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Idfb8e565a874b081de4cc0e0817791dc34f70dce
",git fetch https://review.opendev.org/openstack/debtcollector refs/changes/78/543678/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,4e97d4b550bd35ca36f88206f9ea15854af7bb8b,openstack/requirements,"sphinx!=1.6.6,>=1.6.2 # BSD openstackdocstheme>=1.18.1 # Apache-2.0",sphinx>=1.6.2 # BSD openstackdocstheme>=1.17.0 # Apache-2.0,2,2
openstack%2Ftaskflow~stable%2Fpike~I7abf4ded7a23464d25f66a468798aeedc3da6028,openstack/taskflow,stable/pike,I7abf4ded7a23464d25f66a468798aeedc3da6028,Updated from global requirements,MERGED,2018-02-14 18:47:00.000000000,2018-02-25 19:34:33.000000000,2018-02-25 19:34:32.000000000,"[{'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-14 18:47:00.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/64f98d2f0242e2b9cf31c11b1206e09555d544d0', 'message': 'Updated from global requirements\n\nChange-Id: I7abf4ded7a23464d25f66a468798aeedc3da6028\n'}]",0,544599,64f98d2f0242e2b9cf31c11b1206e09555d544d0,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I7abf4ded7a23464d25f66a468798aeedc3da6028
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/99/544599/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,64f98d2f0242e2b9cf31c11b1206e09555d544d0,openstack/requirements,"networkx<2.0,>=1.10 # BSD",networkx>=1.10 # BSD,1,1
openstack%2Foslo.middleware~stable%2Fqueens~I8270741f0924846c4ad9179772b3f935dd01260b,openstack/oslo.middleware,stable/queens,I8270741f0924846c4ad9179772b3f935dd01260b,Updated from global requirements,MERGED,2018-02-13 01:58:19.000000000,2018-02-25 19:31:58.000000000,2018-02-25 19:31:58.000000000,"[{'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-13 01:58:19.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/cb99e7267e3273bb7827ac3d32ef411582a7aac6', 'message': 'Updated from global requirements\n\nChange-Id: I8270741f0924846c4ad9179772b3f935dd01260b\n'}]",0,543716,cb99e7267e3273bb7827ac3d32ef411582a7aac6,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I8270741f0924846c4ad9179772b3f935dd01260b
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/16/543716/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,cb99e7267e3273bb7827ac3d32ef411582a7aac6,openstack/requirements,"openstackdocstheme>=1.18.1 # Apache-2.0 oslotest>=3.2.0 # Apache-2.0 sphinx!=1.6.6,>=1.6.2 # BSD",openstackdocstheme>=1.17.0 # Apache-2.0 oslotest>=1.10.0 # Apache-2.0 sphinx>=1.6.2 # BSD,3,3
openstack%2Foslo.utils~stable%2Fqueens~I6d24e2d5e411d631eae955cb63391cde6eeb6538,openstack/oslo.utils,stable/queens,I6d24e2d5e411d631eae955cb63391cde6eeb6538,Updated from global requirements,MERGED,2018-02-13 01:58:46.000000000,2018-02-25 19:30:29.000000000,2018-02-25 19:30:28.000000000,"[{'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-13 01:58:46.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/a39be007ec9975f441bba6702da596633c044a46', 'message': 'Updated from global requirements\n\nChange-Id: I6d24e2d5e411d631eae955cb63391cde6eeb6538\n'}]",0,543723,a39be007ec9975f441bba6702da596633c044a46,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I6d24e2d5e411d631eae955cb63391cde6eeb6538
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/23/543723/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt']",2,a39be007ec9975f441bba6702da596633c044a46,openstack/requirements,"sphinx!=1.6.6,>=1.6.2 # BSD openstackdocstheme>=1.18.1 # Apache-2.0",sphinx>=1.6.2 # BSD openstackdocstheme>=1.17.0 # Apache-2.0,3,3
openstack%2Freno~master~I9be5017c8bcdc601608ce0fc9a2fe83d3575042e,openstack/reno,master,I9be5017c8bcdc601608ce0fc9a2fe83d3575042e,Update url in HACKING.rst,MERGED,2018-02-25 17:46:37.000000000,2018-02-25 19:29:56.000000000,2018-02-25 19:29:56.000000000,"[{'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-25 17:46:37.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/reno/commit/6f0ce883269e587143590e030e9e263568ea1540', 'message': 'Update url in HACKING.rst\n\nChange-Id: I9be5017c8bcdc601608ce0fc9a2fe83d3575042e\n'}]",0,547849,6f0ce883269e587143590e030e9e263568ea1540,6,2,1,17130,,,0,"Update url in HACKING.rst

Change-Id: I9be5017c8bcdc601608ce0fc9a2fe83d3575042e
",git fetch https://review.opendev.org/openstack/reno refs/changes/49/547849/1 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,6f0ce883269e587143590e030e9e263568ea1540,,Read the OpenStack Style Commandments https://docs.openstack.org/hacking/latest/,Read the OpenStack Style Commandments https://docs.openstack.org/developer/hacking/,1,1
openstack%2Foslo.log~stable%2Fqueens~Ifaf37f2131e5486e5b7a1112448256b922337c53,openstack/oslo.log,stable/queens,Ifaf37f2131e5486e5b7a1112448256b922337c53,Updated from global requirements,MERGED,2018-02-13 01:58:09.000000000,2018-02-25 19:28:51.000000000,2018-02-25 19:28:51.000000000,"[{'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-13 01:58:09.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/2721107b69e269ffafdf53e0382fb065b94eb9e7', 'message': 'Updated from global requirements\n\nChange-Id: Ifaf37f2131e5486e5b7a1112448256b922337c53\n'}]",0,543714,2721107b69e269ffafdf53e0382fb065b94eb9e7,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Ifaf37f2131e5486e5b7a1112448256b922337c53
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/14/543714/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,2721107b69e269ffafdf53e0382fb065b94eb9e7,openstack/requirements,"oslotest>=3.2.0 # Apache-2.0sphinx!=1.6.6,>=1.6.2 # BSD openstackdocstheme>=1.18.1 # Apache-2.0",oslotest>=1.10.0 # Apache-2.0sphinx>=1.6.2 # BSD openstackdocstheme>=1.17.0 # Apache-2.0,3,3
openstack%2Foslo.messaging~master~Ia1be1b67a7151d449185e2ad52eff1787e8b0933,openstack/oslo.messaging,master,Ia1be1b67a7151d449185e2ad52eff1787e8b0933,Add kafka config options for security (ssl/sasl),MERGED,2018-01-29 20:37:46.000000000,2018-02-25 19:12:12.000000000,2018-02-25 19:12:12.000000000,"[{'_account_id': 8770}, {'_account_id': 9796}, {'_account_id': 20523}, {'_account_id': 22348}, {'_account_id': 26159}]","[{'number': 1, 'created': '2018-01-29 20:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0bc4bad1667d34a3c2e385784290bdad585467ec', 'message': 'Add kafka config options for security (ssl/sasl)\n\nChange-Id: Ia1be1b67a7151d449185e2ad52eff1787e8b0933\n'}, {'number': 2, 'created': '2018-02-06 13:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1968b5a3fcb1de412cc818b8fe5eb2f573fc9aaa', 'message': 'Add kafka config options for security (ssl/sasl)\n\nChange-Id: Ia1be1b67a7151d449185e2ad52eff1787e8b0933\n'}, {'number': 3, 'created': '2018-02-13 14:17:09.000000000', 'files': ['oslo_messaging/_drivers/impl_kafka.py', 'oslo_messaging/_drivers/kafka_driver/kafka_options.py', 'oslo_messaging/tests/drivers/test_impl_kafka.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/90f7610f9d7f4f2b11f0b7d96bef13a440f28b84', 'message': 'Add kafka config options for security (ssl/sasl)\n\nChange-Id: Ia1be1b67a7151d449185e2ad52eff1787e8b0933\n'}]",8,539017,90f7610f9d7f4f2b11f0b7d96bef13a440f28b84,25,5,3,20523,,,0,"Add kafka config options for security (ssl/sasl)

Change-Id: Ia1be1b67a7151d449185e2ad52eff1787e8b0933
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/17/539017/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/_drivers/impl_kafka.py', 'oslo_messaging/_drivers/kafka_driver/kafka_options.py', 'oslo_messaging/tests/drivers/test_impl_kafka.py']",3,0bc4bad1667d34a3c2e385784290bdad585467ec,kafka-update," username=None, password=None, username=None, password=None, username=None, password=None, username=None, password=None, username=None, password=None, username=None, password=None, ('user', dict(url='kafka://stack:stacksecret@localhost:9092/my_host', expected=dict(hostaddrs=['localhost:9092'], username='stack', password='stacksecret', vhost='my_host'))), self.assertEqual(self.expected['username'], driver.pconn.username) self.assertEqual(self.expected['password'], driver.pconn.password) security_protocol='PLAINTEXT', sasl_mechanism='PLAIN', sasl_plain_username=mock.ANY, sasl_plain_password=mock.ANY, ssl_cafile='',",,69,16
openstack%2Fopenstack-ansible~stable%2Fnewton~I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1,openstack/openstack-ansible,stable/newton,I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1,"Remove the ""max_fail_percentage"" option",MERGED,2018-02-24 17:36:40.000000000,2018-02-25 19:08:26.000000000,2018-02-25 19:08:26.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-24 17:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/25903086f24c92b32f91032efa0a83c0a9bc9156', 'message': 'Remove the ""max_fail_percentage"" option\n\nThis option can cause silent failures which are confusing and hard to\ntrack down. While the intention of this was to allow large scale\ndeployments to succeed in cases where a single node fails due to\ntransiant issues it has produced more problems in terms of confusion\nthat it solves. This change removes the option from all production\nplaybooks.\n\nChange-Id: I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n(cherry picked from commit c2743f5cca1930a553ce9f20b207cb17fa6b763d)\n(cherry picked from commit 0afeca7f885c2d8002cafa0ae4a64af1c3680570)\n'}, {'number': 2, 'created': '2018-02-24 17:38:27.000000000', 'files': ['playbooks/rsyslog-install.yml', 'playbooks/rabbitmq-install.yml', 'playbooks/os-magnum-install.yml', 'playbooks/os-swift-install.yml', 'playbooks/lxc-containers-create.yml', 'releasenotes/notes/remove-fax-fail-5038b4b6eb4951b3.yaml', 'playbooks/os-swift-sync.yml', 'playbooks/lxc-containers-destroy.yml', 'playbooks/lxc-hosts-setup.yml', 'playbooks/os-horizon-install.yml', 'playbooks/os-tempest-install.yml', 'playbooks/os-cinder-install.yml', 'playbooks/utility-install.yml', 'playbooks/os-aodh-install.yml', 'playbooks/repo-server.yml', 'playbooks/galera-install.yml', 'playbooks/os-gnocchi-install.yml', 'playbooks/os-heat-install.yml', 'playbooks/os-nova-install.yml', 'playbooks/os-glance-install.yml', 'playbooks/os-ceilometer-install.yml', 'playbooks/memcached-install.yml', 'playbooks/etcd-install.yml', 'playbooks/os-keystone-install.yml', 'playbooks/haproxy-install.yml', 'playbooks/openstack-hosts-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0d80b61c43cbf745a8745283842de1e9bec30f21', 'message': 'Remove the ""max_fail_percentage"" option\n\nThis option can cause silent failures which are confusing and hard to\ntrack down. While the intention of this was to allow large scale\ndeployments to succeed in cases where a single node fails due to\ntransiant issues it has produced more problems in terms of confusion\nthat it solves. This change removes the option from all production\nplaybooks.\n\nChange-Id: I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n(cherry picked from commit c2743f5cca1930a553ce9f20b207cb17fa6b763d)\n(cherry picked from commit 0afeca7f885c2d8002cafa0ae4a64af1c3680570)\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,547775,0d80b61c43cbf745a8745283842de1e9bec30f21,11,4,2,7353,,,0,"Remove the ""max_fail_percentage"" option

This option can cause silent failures which are confusing and hard to
track down. While the intention of this was to allow large scale
deployments to succeed in cases where a single node fails due to
transiant issues it has produced more problems in terms of confusion
that it solves. This change removes the option from all production
playbooks.

Change-Id: I1dcbbf5bc8cc66f11dd8ddc22d2a177c5c0f31f1
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
(cherry picked from commit c2743f5cca1930a553ce9f20b207cb17fa6b763d)
(cherry picked from commit 0afeca7f885c2d8002cafa0ae4a64af1c3680570)
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/75/547775/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/rsyslog-install.yml', 'playbooks/galera-install.yml', 'playbooks/os-gnocchi-install.yml', 'playbooks/os-heat-install.yml', 'playbooks/os-nova-install.yml', 'playbooks/rabbitmq-install.yml', 'playbooks/os-magnum-install.yml', 'playbooks/os-glance-install.yml', 'playbooks/os-swift-install.yml', 'playbooks/os-ceilometer-install.yml', 'releasenotes/notes/remove-fax-fail-5038b4b6eb4951b3.yaml', 'playbooks/memcached-install.yml', 'playbooks/os-swift-sync.yml', 'playbooks/os-horizon-install.yml', 'playbooks/etcd-install.yml', 'playbooks/os-keystone-install.yml', 'playbooks/os-tempest-install.yml', 'playbooks/os-cinder-install.yml', 'playbooks/haproxy-install.yml', 'playbooks/utility-install.yml', 'playbooks/os-aodh-install.yml', 'playbooks/openstack-hosts-setup.yml', 'playbooks/repo-server.yml']",23,25903086f24c92b32f91032efa0a83c0a9bc9156,,, max_fail_percentage: 20,21,30
openstack%2Foctavia~master~I692244236537ac52a1bcfcc278c566c7dc2eec45,openstack/octavia,master,I692244236537ac52a1bcfcc278c566c7dc2eec45,Updated from global requirements,MERGED,2018-02-14 09:15:13.000000000,2018-02-25 18:58:21.000000000,2018-02-25 18:58:21.000000000,"[{'_account_id': 6579}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-02-14 09:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f25f31acace64d5b673dc5b18d6f86d03ae57680', 'message': 'Updated from global requirements\n\nChange-Id: I692244236537ac52a1bcfcc278c566c7dc2eec45\n'}, {'number': 2, 'created': '2018-02-14 12:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2a9ff4444e17c348e1e7b2d418a635315555e448', 'message': 'Updated from global requirements\n\nChange-Id: I692244236537ac52a1bcfcc278c566c7dc2eec45\n'}, {'number': 3, 'created': '2018-02-17 09:53:06.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/06f1dcd286e3f8fed8fed9d480d9bfb5ec04b275', 'message': 'Updated from global requirements\n\nChange-Id: I692244236537ac52a1bcfcc278c566c7dc2eec45\n'}]",0,544217,06f1dcd286e3f8fed8fed9d480d9bfb5ec04b275,13,4,3,11131,,,0,"Updated from global requirements

Change-Id: I692244236537ac52a1bcfcc278c566c7dc2eec45
",git fetch https://review.opendev.org/openstack/octavia refs/changes/17/544217/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f25f31acace64d5b673dc5b18d6f86d03ae57680,openstack/requirements,"oslo.serialization!=2.19.1,>=2.18.0 # Apache-2.0","oslo.serialization>=2.18.0,!=2.19.1 # Apache-2.0",1,1
openstack%2Fneutron-lbaas~master~Ic544b2ef4286422efac096b902255d16760c1502,openstack/neutron-lbaas,master,Ic544b2ef4286422efac096b902255d16760c1502,Updated from global requirements,MERGED,2018-02-17 09:49:21.000000000,2018-02-25 18:53:40.000000000,2018-02-25 18:53:40.000000000,"[{'_account_id': 6579}, {'_account_id': 9008}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-17 09:49:21.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/29c319295f5a7cd082f667fcc71b78052e07a6d4', 'message': 'Updated from global requirements\n\nChange-Id: Ic544b2ef4286422efac096b902255d16760c1502\n'}]",0,545547,29c319295f5a7cd082f667fcc71b78052e07a6d4,8,4,1,11131,,,0,"Updated from global requirements

Change-Id: Ic544b2ef4286422efac096b902255d16760c1502
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/47/545547/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,29c319295f5a7cd082f667fcc71b78052e07a6d4,openstack/requirements,keystoneauth1>=3.4.0 # Apache-2.0,keystoneauth1>=3.3.0 # Apache-2.0,1,1
openstack%2Fcastellan~master~Ib249a72359cffff7cca89460feb2dd1469363c17,openstack/castellan,master,Ib249a72359cffff7cca89460feb2dd1469363c17,Updated from global requirements,MERGED,2018-02-17 09:22:06.000000000,2018-02-25 18:40:20.000000000,2018-02-25 18:40:20.000000000,"[{'_account_id': 9796}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-17 09:22:06.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/castellan/commit/81d3c2d8c0371bca3a05e282ba65f2109a237248', 'message': 'Updated from global requirements\n\nChange-Id: Ib249a72359cffff7cca89460feb2dd1469363c17\n'}]",0,545530,81d3c2d8c0371bca3a05e282ba65f2109a237248,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: Ib249a72359cffff7cca89460feb2dd1469363c17
",git fetch https://review.opendev.org/openstack/castellan refs/changes/30/545530/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,81d3c2d8c0371bca3a05e282ba65f2109a237248,openstack/requirements,keystoneauth1>=3.4.0 # Apache-2.0,keystoneauth1>=3.3.0 # Apache-2.0,1,1
openstack%2Fsenlin~stable%2Fqueens~I10177b76a672b4a0b1406eb830358cb66b3cf0ca,openstack/senlin,stable/queens,I10177b76a672b4a0b1406eb830358cb66b3cf0ca,Add scaling policy version support message,MERGED,2018-02-24 02:16:53.000000000,2018-02-25 18:29:52.000000000,2018-02-25 18:29:52.000000000,"[{'_account_id': 8246}, {'_account_id': 17656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-24 02:16:53.000000000', 'files': ['senlin/policies/scaling_policy.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/6792221968bc81033d9c0dc38085368cd941f29d', 'message': 'Add scaling policy version support message\n\nIf scaling policy version support miss, policy type\nlist not display scaling policy type.\n\nChange-Id: I10177b76a672b4a0b1406eb830358cb66b3cf0ca\nSigned-off-by: Yuanbin.Chen <cybing4@gmail.com>\n(cherry picked from commit da1d380b37a7d20b1af6d01b833b5d351e6e0ae9)\n'}]",0,547697,6792221968bc81033d9c0dc38085368cd941f29d,11,3,1,23517,,,0,"Add scaling policy version support message

If scaling policy version support miss, policy type
list not display scaling policy type.

Change-Id: I10177b76a672b4a0b1406eb830358cb66b3cf0ca
Signed-off-by: Yuanbin.Chen <cybing4@gmail.com>
(cherry picked from commit da1d380b37a7d20b1af6d01b833b5d351e6e0ae9)
",git fetch https://review.opendev.org/openstack/senlin refs/changes/97/547697/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin/policies/scaling_policy.py'],1,6792221968bc81033d9c0dc38085368cd941f29d,scaling_policy_version-stable/queens," VERSIONS = { '1.0': [ {'status': consts.SUPPORTED, 'since': '2016.04'} ] }",,5,0
openstack%2Foctavia-dashboard~master~If08560c1eb7007c908ad4f0ead0027571c5fa6da,openstack/octavia-dashboard,master,If08560c1eb7007c908ad4f0ead0027571c5fa6da,Updated from global requirements,MERGED,2018-02-14 09:15:21.000000000,2018-02-25 18:03:38.000000000,2018-02-25 18:03:38.000000000,"[{'_account_id': 6579}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-14 09:15:21.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/760f36566c03a88bfb959c10560ac88f69f482bd', 'message': 'Updated from global requirements\n\nChange-Id: If08560c1eb7007c908ad4f0ead0027571c5fa6da\n'}]",0,544218,760f36566c03a88bfb959c10560ac88f69f482bd,7,3,1,11131,,,0,"Updated from global requirements

Change-Id: If08560c1eb7007c908ad4f0ead0027571c5fa6da
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/18/544218/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,760f36566c03a88bfb959c10560ac88f69f482bd,openstack/requirements,openstacksdk>=0.11.2 # Apache-2.0,openstacksdk>=0.9.19 # Apache-2.0,1,1
openstack%2Foctavia-dashboard~master~I4fc2a3e65102021341a419851b8f1d3a9fdade3e,openstack/octavia-dashboard,master,I4fc2a3e65102021341a419851b8f1d3a9fdade3e,Imported Translations from Zanata,MERGED,2018-02-18 06:10:12.000000000,2018-02-25 18:02:19.000000000,2018-02-25 18:02:19.000000000,"[{'_account_id': 6579}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-18 06:10:12.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/a48fb9d7aaf25cc82bb2559fac96e2d5fac32906', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4fc2a3e65102021341a419851b8f1d3a9fdade3e\n'}]",0,545651,a48fb9d7aaf25cc82bb2559fac96e2d5fac32906,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4fc2a3e65102021341a419851b8f1d3a9fdade3e
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/51/545651/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,a48fb9d7aaf25cc82bb2559fac96e2d5fac32906,zanata/translations,"""POT-Creation-Date: 2018-02-13 23:52+0000\n""""PO-Revision-Date: 2018-02-18 01:22+0000\n""msgid ""1.0.0.0rc1"" msgstr ""1.0.0.0rc1""msgid ""Queens Series Release Notes"" msgstr ""Queens Series Release Notes"" ","""POT-Creation-Date: 2018-02-07 18:25+0000\n""""PO-Revision-Date: 2018-02-08 12:13+0000\n""msgid ""1.0.0.0b3-9"" msgstr ""1.0.0.0b3-9""",7,4
openstack%2Fopenstack-ansible-pip_install~master~Idf726729e725d94b70b53dc40da1ec7e7b0a00bf,openstack/openstack-ansible-pip_install,master,Idf726729e725d94b70b53dc40da1ec7e7b0a00bf,Remove the implementation of constraints in pip.conf,MERGED,2018-02-24 15:46:10.000000000,2018-02-25 17:52:36.000000000,2018-02-25 17:52:36.000000000,"[{'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-24 15:46:10.000000000', 'files': ['templates/pip.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/1085f00f16eec1323b4bb19f7bccffd945f4c3da', 'message': ""Remove the implementation of constraints in pip.conf\n\nIn https://review.openstack.org/526889 constraints were\nadded to pip.conf. While this may be something we want\nlater in the python build simplification process, it is\ncurrently causing problems in several tests due to the\nassumption that constraints are only set on the CLI.\n\nAt this stage I think it's better to leave constraints\nsetting to be done on the CLI as that is ubiquitous\nacross all pip install tasks right now.\n\nIf we switch to setting constraints in pip.conf then it\nwill take more co-ordination.\n\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\nChange-Id: Idf726729e725d94b70b53dc40da1ec7e7b0a00bf\n""}]",4,547762,1085f00f16eec1323b4bb19f7bccffd945f4c3da,11,4,1,6816,,,0,"Remove the implementation of constraints in pip.conf

In https://review.openstack.org/526889 constraints were
added to pip.conf. While this may be something we want
later in the python build simplification process, it is
currently causing problems in several tests due to the
assumption that constraints are only set on the CLI.

At this stage I think it's better to leave constraints
setting to be done on the CLI as that is ubiquitous
across all pip install tasks right now.

If we switch to setting constraints in pip.conf then it
will take more co-ordination.

Implements: blueprint python-build-install-simplification
Signed-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>
Change-Id: Idf726729e725d94b70b53dc40da1ec7e7b0a00bf
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/62/547762/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/pip.conf.j2'],1,1085f00f16eec1323b4bb19f7bccffd945f4c3da,bp/python-build-install-simplification,,{% if pip_install_upper_constraints is defined %} {% set pip_constraint_list = pip_install_upper_constraints.split('--constraint') %} {% if pip_constraint_list | length > 0 %} constraint = {% for pip_constraint in pip_constraint_list %} {{ pip_constraint.strip() }} {% endfor %} {% endif %} {% endif %},0,9
openstack%2Fopenstack-ansible-pip_install~stable%2Fqueens~If472c845036ab904ffc15ca7201ae68d282c1be0,openstack/openstack-ansible-pip_install,stable/queens,If472c845036ab904ffc15ca7201ae68d282c1be0,Remove pip_lock_to_internal_repo variable,MERGED,2018-02-24 16:40:37.000000000,2018-02-25 17:52:35.000000000,2018-02-25 17:52:35.000000000,"[{'_account_id': 538}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-24 16:40:37.000000000', 'files': ['examples/playbook.yml', 'tasks/configure.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/071b232074f61b8be91009f835a1e35061ded36a', 'message': 'Remove pip_lock_to_internal_repo variable\n\nThe ability to lock the pip configuration down has\nnow been extended so that it is possible to implement\na different index and to use find-links to achieve the\nsame goal.\n\nThe only replacement implementation could be to disable\nthe setting of an index if one wanted to *only* use\nwheels, but that is unnecessary in OSA builds as we are\nable to set the build to only use a specific set of\nwheels through the pypiserver on the repo container.\n\nAs such, this variable has become useless and unused.\nThis patch therefore removes it.\n\nChange-Id: If472c845036ab904ffc15ca7201ae68d282c1be0\nImplements: blueprint python-build-install-simplification\nSigned-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>\n(cherry picked from commit f9d65b184f6a4ca418d77397b583e5072b6f8641)\n'}]",0,547766,071b232074f61b8be91009f835a1e35061ded36a,7,3,1,6816,,,0,"Remove pip_lock_to_internal_repo variable

The ability to lock the pip configuration down has
now been extended so that it is possible to implement
a different index and to use find-links to achieve the
same goal.

The only replacement implementation could be to disable
the setting of an index if one wanted to *only* use
wheels, but that is unnecessary in OSA builds as we are
able to set the build to only use a specific set of
wheels through the pypiserver on the repo container.

As such, this variable has become useless and unused.
This patch therefore removes it.

Change-Id: If472c845036ab904ffc15ca7201ae68d282c1be0
Implements: blueprint python-build-install-simplification
Signed-off-by: Jesse Pretorius <jesse.pretorius@rackspace.co.uk>
(cherry picked from commit f9d65b184f6a4ca418d77397b583e5072b6f8641)
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/66/547766/1 && git format-patch -1 --stdout FETCH_HEAD,"['examples/playbook.yml', 'tasks/configure.yml', 'defaults/main.yml']",3,071b232074f61b8be91009f835a1e35061ded36a,bp/python-build-install-simplification-stable/queens,,"# Enable/disable the configuration of the default index # False = default index is configured # True = default index is not configured # As this requires an alternative location to source # packages from, it requires there to be at least one # item in the pip_links list. pip_lock_to_internal_repo: False ",2,33
openstack%2Fdesignate~master~I2d6ec85e0c47b2e129bc55616ad92f53a2298940,openstack/designate,master,I2d6ec85e0c47b2e129bc55616ad92f53a2298940,Migrate object to OVO (3),MERGED,2017-06-06 09:19:50.000000000,2018-02-25 17:45:49.000000000,2018-02-25 17:45:48.000000000,"[{'_account_id': 3}, {'_account_id': 8099}, {'_account_id': 8174}, {'_account_id': 13252}, {'_account_id': 19741}, {'_account_id': 19930}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 24441}, {'_account_id': 25254}]","[{'number': 1, 'created': '2017-06-06 09:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f6b908f042f78e794fc3a330c1b1ee38191b669f', 'message': '[WIP][DO NOT MERGE] Migrate object to OVO (3)\n\nThis commit will migrate:\n- Server and ServerList\n- ServiceStatus and ServiceStatusList\n- Tenant and TenantList\n- Tld and TldList\n- TsigKey and TsigKeyList\n\nChange-Id: I2d6ec85e0c47b2e129bc55616ad92f53a2298940\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 2, 'created': '2017-06-07 06:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8f8bc6059aa8c4f89c6d5c0a0097b5d3f6c1ebb2', 'message': 'Migrate object to OVO (3)\n\nThis commit will migrate:\n- Server and ServerList\n- ServiceStatus and ServiceStatusList\n- Tenant and TenantList\n- Tld and TldList\n- TsigKey and TsigKeyList\n\nChange-Id: I2d6ec85e0c47b2e129bc55616ad92f53a2298940\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 3, 'created': '2017-06-07 06:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/85157c577f78049083d072102e50153f51a090bd', 'message': 'Migrate object to OVO (3)\n\nThis commit will migrate:\n- Server and ServerList\n- ServiceStatus and ServiceStatusList\n- Tenant and TenantList\n- Tld and TldList\n- TsigKey and TsigKeyList\n\nChange-Id: I2d6ec85e0c47b2e129bc55616ad92f53a2298940\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 4, 'created': '2017-06-12 02:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f2d3f02c176c25d51781e6f65d8641d9ac441b00', 'message': 'Migrate object to OVO (3)\n\nThis commit will migrate:\n- Server and ServerList\n- ServiceStatus and ServiceStatusList\n- Tenant and TenantList\n- Tld and TldList\n- TsigKey and TsigKeyList\n\nChange-Id: I2d6ec85e0c47b2e129bc55616ad92f53a2298940\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 5, 'created': '2017-06-29 01:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b88eaa1537050d2dec46b5e591b39ab74eaba76c', 'message': 'Migrate object to OVO (3)\n\nThis commit will migrate:\n- Server and ServerList\n- ServiceStatus and ServiceStatusList\n- Tenant and TenantList\n- Tld and TldList\n- TsigKey and TsigKeyList\n\nChange-Id: I2d6ec85e0c47b2e129bc55616ad92f53a2298940\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 6, 'created': '2017-06-29 04:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/45333879ef1a01a13a81278031755293cf850c7f', 'message': 'Migrate object to OVO (3)\n\nThis commit will migrate:\n- Server and ServerList\n- ServiceStatus and ServiceStatusList\n- Tenant and TenantList\n- Tld and TldList\n- TsigKey and TsigKeyList\n\nChange-Id: I2d6ec85e0c47b2e129bc55616ad92f53a2298940\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 7, 'created': '2017-08-02 08:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e59377e5f551c944cc6dfe3945e1aa0b3b48c06b', 'message': 'Migrate object to OVO (3)\n\nThis commit will migrate:\n- Server and ServerList\n- ServiceStatus and ServiceStatusList\n- Tenant and TenantList\n- Tld and TldList\n- TsigKey and TsigKeyList\n\nChange-Id: I2d6ec85e0c47b2e129bc55616ad92f53a2298940\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 8, 'created': '2017-08-08 03:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/584dc415c07e5282ddbc4f45d4e5b569e58bb6bc', 'message': 'Migrate object to OVO (3)\n\nThis commit will migrate:\n- Server and ServerList\n- ServiceStatus and ServiceStatusList\n- Tenant and TenantList\n- Tld and TldList\n- TsigKey and TsigKeyList\n\nChange-Id: I2d6ec85e0c47b2e129bc55616ad92f53a2298940\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 9, 'created': '2017-08-23 02:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/dfb65880be74cd8a305e7f0c3c48aed38d7eca5e', 'message': 'Migrate object to OVO (3)\n\nThis commit will migrate:\n- Server and ServerList\n- ServiceStatus and ServiceStatusList\n- Tenant and TenantList\n- Tld and TldList\n- TsigKey and TsigKeyList\n\nChange-Id: I2d6ec85e0c47b2e129bc55616ad92f53a2298940\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 10, 'created': '2017-08-23 07:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ed70b1b635e26b065d3b394fe6ab46a69476f770', 'message': 'Migrate object to OVO (3)\n\nThis commit will migrate:\n- Server and ServerList\n- ServiceStatus and ServiceStatusList\n- Tenant and TenantList\n- Tld and TldList\n- TsigKey and TsigKeyList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I2d6ec85e0c47b2e129bc55616ad92f53a2298940\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 11, 'created': '2017-09-14 04:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ad403cfdc8cffaa16d1426d16419a7f695d534c9', 'message': 'Migrate object to OVO (3)\n\nThis commit will migrate:\n- Server and ServerList\n- ServiceStatus and ServiceStatusList\n- Tenant and TenantList\n- Tld and TldList\n- TsigKey and TsigKeyList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I2d6ec85e0c47b2e129bc55616ad92f53a2298940\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 12, 'created': '2017-09-22 02:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8ed9e8407df9cf8a8322f6ca7ad5e2817ba1a291', 'message': 'Migrate object to OVO (3)\n\nThis commit will migrate:\n- Server and ServerList\n- ServiceStatus and ServiceStatusList\n- Tenant and TenantList\n- Tld and TldList\n- TsigKey and TsigKeyList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I2d6ec85e0c47b2e129bc55616ad92f53a2298940\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 13, 'created': '2017-10-13 09:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cc9ba803929b1d361f0b3aa0373a1c27207725ed', 'message': 'Migrate object to OVO (3)\n\nThis commit will migrate:\n- Server and ServerList\n- ServiceStatus and ServiceStatusList\n- Tenant and TenantList\n- Tld and TldList\n- TsigKey and TsigKeyList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I2d6ec85e0c47b2e129bc55616ad92f53a2298940\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 14, 'created': '2017-11-16 09:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/648aeaa5a01812da8fac80eb60beca8b21f20c8e', 'message': 'Migrate object to OVO (3)\n\nThis commit will migrate:\n- Server and ServerList\n- ServiceStatus and ServiceStatusList\n- Tenant and TenantList\n- Tld and TldList\n- TsigKey and TsigKeyList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I2d6ec85e0c47b2e129bc55616ad92f53a2298940\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 15, 'created': '2017-12-11 06:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/47457a0065042561d5ea1794c90451ad4281a5ec', 'message': 'Migrate object to OVO (3)\n\nThis commit will migrate:\n- Server and ServerList\n- ServiceStatus and ServiceStatusList\n- Tenant and TenantList\n- Tld and TldList\n- TsigKey and TsigKeyList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I2d6ec85e0c47b2e129bc55616ad92f53a2298940\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 16, 'created': '2018-01-24 04:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d7bc7d90577f2bdeb14de4856f8bea02fa0e10f1', 'message': 'Migrate object to OVO (3)\n\nThis commit will migrate:\n- Server and ServerList\n- ServiceStatus and ServiceStatusList\n- Tenant and TenantList\n- Tld and TldList\n- TsigKey and TsigKeyList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I2d6ec85e0c47b2e129bc55616ad92f53a2298940\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 17, 'created': '2018-01-24 09:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c0fd2df7ccbef6645749eef4da74cdc21be46472', 'message': 'Migrate object to OVO (3)\n\nThis commit will migrate:\n- Server and ServerList\n- ServiceStatus and ServiceStatusList\n- Tenant and TenantList\n- Tld and TldList\n- TsigKey and TsigKeyList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I2d6ec85e0c47b2e129bc55616ad92f53a2298940\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 18, 'created': '2018-01-26 09:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/22fa3afe6b77d3b263facb01d3f4b2b703cef16f', 'message': 'Migrate object to OVO (3)\n\nThis commit will migrate:\n- Server and ServerList\n- ServiceStatus and ServiceStatusList\n- Tenant and TenantList\n- Tld and TldList\n- TsigKey and TsigKeyList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I2d6ec85e0c47b2e129bc55616ad92f53a2298940\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 19, 'created': '2018-01-26 23:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b6f37ac6b34e0ef042b4abe11ed12ad52b47a517', 'message': 'Migrate object to OVO (3)\n\nThis commit will migrate:\n- Server and ServerList\n- ServiceStatus and ServiceStatusList\n- Tenant and TenantList\n- Tld and TldList\n- TsigKey and TsigKeyList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I2d6ec85e0c47b2e129bc55616ad92f53a2298940\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 20, 'created': '2018-01-31 10:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/da4387534f7d50054c6b85903faba665513d64bb', 'message': 'Migrate object to OVO (3)\n\nThis commit will migrate:\n- Server and ServerList\n- ServiceStatus and ServiceStatusList\n- Tenant and TenantList\n- Tld and TldList\n- TsigKey and TsigKeyList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I2d6ec85e0c47b2e129bc55616ad92f53a2298940\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 21, 'created': '2018-02-01 10:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/64624c83fbb0bff3fd2b24b44c7edf3a33b0db44', 'message': 'Migrate object to OVO (3)\n\nThis commit will migrate:\n- Server and ServerList\n- ServiceStatus and ServiceStatusList\n- Tenant and TenantList\n- Tld and TldList\n- TsigKey and TsigKeyList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I2d6ec85e0c47b2e129bc55616ad92f53a2298940\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 22, 'created': '2018-02-25 16:07:28.000000000', 'files': ['designate/objects/tsigkey.py', 'designate/objects/service_status.py', 'designate/objects/server.py', 'designate/objects/tld.py', 'designate/objects/tenant.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/aac3812c1a292e4155d9c4ba604761495f7965c0', 'message': 'Migrate object to OVO (3)\n\nThis commit will migrate:\n- Server and ServerList\n- ServiceStatus and ServiceStatusList\n- Tenant and TenantList\n- Tld and TldList\n- TsigKey and TsigKeyList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I2d6ec85e0c47b2e129bc55616ad92f53a2298940\nImplements: blueprint designate-rolling-upgrade\n'}]",0,471280,aac3812c1a292e4155d9c4ba604761495f7965c0,68,10,22,19930,,,0,"Migrate object to OVO (3)

This commit will migrate:
- Server and ServerList
- ServiceStatus and ServiceStatusList
- Tenant and TenantList
- Tld and TldList
- TsigKey and TsigKeyList

Co-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>

Change-Id: I2d6ec85e0c47b2e129bc55616ad92f53a2298940
Implements: blueprint designate-rolling-upgrade
",git fetch https://review.opendev.org/openstack/designate refs/changes/80/471280/22 && git format-patch -1 --stdout FETCH_HEAD,"['designate/objects/tsigkey.py', 'designate/objects/service_status.py', 'designate/objects/server.py', 'designate/objects/tld.py', 'designate/objects/tenant.py']",5,f6b908f042f78e794fc3a330c1b1ee38191b669f,OVO,"from designate.objects import ovo_base as base from designate.objects import fields @base.DesignateRegistry.register class Tenant(base.DesignateObject, base.DictObjectMixin): def __init__(self, *args, **kwargs): super(Tenant, self).__init__(*args, **kwargs) fields = { 'id': fields.AnyField(nullable=True), 'zone_count': fields.AnyField(nullable=True), 'zones': fields.AnyField(nullable=True)@base.DesignateRegistry.register fields = { 'objects': fields.ListOfObjectsField('Tenant'), }","from designate.objects import base class Tenant(base.DictObjectMixin, base.DesignateObject): FIELDS = { 'id': {}, 'zone_count': {}, 'zones': {}",94,118
openstack%2Fdesignate~master~I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06,openstack/designate,master,I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06,Migrate object to OVO (2),MERGED,2017-06-05 09:07:04.000000000,2018-02-25 17:45:45.000000000,2018-02-25 17:45:44.000000000,"[{'_account_id': 3}, {'_account_id': 8099}, {'_account_id': 8174}, {'_account_id': 13252}, {'_account_id': 19554}, {'_account_id': 19741}, {'_account_id': 19930}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 25254}]","[{'number': 1, 'created': '2017-06-05 09:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e31f1a94aced5e638b95af4f7e0f3cbdffd2a81d', 'message': '[WIP][DO NOT MERGE] Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 2, 'created': '2017-06-06 09:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0e045f681863b4309094975f67156a94a098fae5', 'message': '[WIP][DO NOT MERGE] Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 3, 'created': '2017-06-06 09:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0e233bcc09e39e1fe884c8845da22e8610a375d0', 'message': '[WIP][DO NOT MERGE] Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 4, 'created': '2017-06-07 06:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/711aa3e8dce5c1bff5b8ef3e5032cc1764c09b4b', 'message': 'Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 5, 'created': '2017-06-07 06:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2c5a06a778e960384951b8d5f604cd1fb597c139', 'message': 'Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 6, 'created': '2017-06-12 02:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/266e075f81e4bf57b170a0829188f7744c9a462e', 'message': 'Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 7, 'created': '2017-06-29 01:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/519341a2c95caa653aa6bd51f222ca8bbed33dba', 'message': 'Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 8, 'created': '2017-06-29 03:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8b9b69fcbadeecf04c5e4afaf114c53d87d8afa9', 'message': 'Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 9, 'created': '2017-06-29 04:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b6f01e09d824d169957407245b811a0ad03ea151', 'message': 'Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 10, 'created': '2017-08-02 08:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2ab3465c95108507420793a14fd2778d18e60648', 'message': 'Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 11, 'created': '2017-08-08 03:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/bf7b997db0675b40adee2308d646dfaa70ec998a', 'message': 'Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 12, 'created': '2017-08-23 02:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d16cb7a410f16f19db3156e037abdb405f6a3ba3', 'message': 'Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 13, 'created': '2017-08-23 07:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/453fbd41af36e48955fc3aa7bda7bf837399be65', 'message': 'Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 14, 'created': '2017-09-14 03:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9c0f8acb13371c74562db88b08083b9ba0a9b6f6', 'message': 'Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 15, 'created': '2017-09-14 04:39:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a671521a1b8687bcc6d0ce75158d86b2ac4dc00b', 'message': 'Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 16, 'created': '2017-09-22 02:11:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/81731e5f0b6cb810712ec5a74e92920699f6b6b9', 'message': 'Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 17, 'created': '2017-10-13 09:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/39f4e2ef060769edd4b96a10970ed581b31e3a92', 'message': 'Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 18, 'created': '2017-11-16 08:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1526c611d7b0d87650237c0b60a432bf33e131d0', 'message': 'Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 19, 'created': '2017-12-11 06:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9277dac02274b65e6ce2ba13102e502faad1d73b', 'message': 'Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 20, 'created': '2018-01-24 04:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8d386e2019683d236b6176408c3d0e420eba268a', 'message': 'Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 21, 'created': '2018-01-24 08:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e0bef041a0caa1f79b6bac37b4e8eb47ef4ea8a6', 'message': 'Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 22, 'created': '2018-01-26 09:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5837d9eec7db450b284ab45532bc82da3e5c5be5', 'message': 'Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 23, 'created': '2018-01-26 23:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/bbcf47c78e1369b8c53d55e8833480946e56a60b', 'message': 'Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 24, 'created': '2018-01-31 10:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f767e4264b4d71fb4c689f883faa0057ed2a68f4', 'message': 'Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 25, 'created': '2018-02-01 10:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e0df1b95c5aca0d5eb13c72c36516d5e554b53aa', 'message': 'Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 26, 'created': '2018-02-25 16:07:15.000000000', 'files': ['designate/objects/zone_import.py', 'designate/objects/zone_transfer_request.py', 'designate/objects/zone_export.py', 'designate/objects/zone_transfer_accept.py', 'designate/notifications.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/e9ebf92fbe8b436a57746af0f310803f4294e7e4', 'message': 'Migrate object to OVO (2)\n\nThis commit will migrate:\n- ZoneImport and ZoneImportList\n- ZoneExport and ZoneExportList\n- ZoneTransferAccept and ZoneTransferAcceptList\n- ZoneTransferRequest and ZoneTransferRequestList\n\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06\nImplements: blueprint designate-rolling-upgrade\n'}]",0,470890,e9ebf92fbe8b436a57746af0f310803f4294e7e4,77,10,26,19930,,,0,"Migrate object to OVO (2)

This commit will migrate:
- ZoneImport and ZoneImportList
- ZoneExport and ZoneExportList
- ZoneTransferAccept and ZoneTransferAcceptList
- ZoneTransferRequest and ZoneTransferRequestList

Co-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>

Change-Id: I80173ce20b5ef45f0bbbc2c5552b67e1aaec0c06
Implements: blueprint designate-rolling-upgrade
",git fetch https://review.opendev.org/openstack/designate refs/changes/90/470890/14 && git format-patch -1 --stdout FETCH_HEAD,"['designate/objects/zone_import.py', 'designate/objects/zone_transfer_request.py', 'designate/objects/zone_export.py', 'designate/objects/zone_transfer_accept.py']",4,e31f1a94aced5e638b95af4f7e0f3cbdffd2a81d,OVO,"from designate.objects import ovo_base as base from designate.objects import fields @base.DesignateRegistry.register fields = { 'zone_transfer_request_id': fields.UUIDFields(nullable=True), 'tenant_id': fields.StringFields(nullable=True), 'status': fields.EnumField(valid_values=[ ""ACTIVE"", ""PENDING"", ""DELETED"", ""ERROR"", ""COMPLETE""]), 'key': fields.StringFields(maxLength=160), 'zone_id': fields.UUIDFields(nullable=True),@base.DesignateRegistry.register fields = { 'objects': fields.ListOfObjectsField('ZoneTransferAccept'), }","from designate.objects import base FIELDS = { 'zone_transfer_request_id': { 'schema': { ""type"": ""string"", ""format"": ""uuid"" }, ""immutable"": True }, 'tenant_id': { 'schema': { 'type': 'string', }, 'read_only': True }, 'status': { 'schema': { ""type"": ""string"", ""enum"": [""ACTIVE"", ""PENDING"", ""DELETED"", ""ERROR"", ""COMPLETE""], }, 'read_only': True }, 'key': { 'schema': { ""type"": ""string"", ""maxLength"": 160 }, 'required': True }, 'zone_id': { 'schema': { ""type"": ""string"", ""format"": ""uuid"" }, ""immutable"": True },",71,163
openstack%2Fdesignate~master~I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7,openstack/designate,master,I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7,Migrate object to OVO,MERGED,2017-05-16 08:31:19.000000000,2018-02-25 17:45:35.000000000,2018-02-25 17:45:35.000000000,"[{'_account_id': 3}, {'_account_id': 8099}, {'_account_id': 8174}, {'_account_id': 8871}, {'_account_id': 13252}, {'_account_id': 17491}, {'_account_id': 19554}, {'_account_id': 19741}, {'_account_id': 19930}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 24441}, {'_account_id': 25254}, {'_account_id': 27609}]","[{'number': 1, 'created': '2017-05-16 08:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cfd0146688c1eef45b868f6b06e2be88bf80df98', 'message': '[WIP] Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 2, 'created': '2017-05-16 15:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/502e2a1d5e6cd6626143e7cfe7744420d8a485bc', 'message': '[WIP] Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 3, 'created': '2017-05-24 10:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f0f19081b2aca0c0030dfcf42eebe4919e2b9410', 'message': '[WIP] Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 4, 'created': '2017-05-26 10:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/22e7571fd13e3cc7ab41bdd2fdf0bc615329917a', 'message': '[WIP] Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 5, 'created': '2017-05-27 16:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/082232ef43d3012bf379355271f8eb0afb3a7e59', 'message': '[WIP] Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 6, 'created': '2017-05-28 16:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/27bcdb908ca497e58858ee81d1e8c6d715c25012', 'message': '[WIP][PLEASE NOT MERGE] Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 7, 'created': '2017-05-29 01:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f2d92e6459f978778d0b793c3fff694d3b277719', 'message': '[WIP][DO NOT MERGE] Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 8, 'created': '2017-05-29 07:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/22f6cf795645ea47e039928039c1f6696cf879e8', 'message': '[WIP][DO NOT MERGE] Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 9, 'created': '2017-05-31 07:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/55abc0973910bf0dd359332f89146ab64c9c5b10', 'message': '[WIP][DO NOT MERGE] Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 10, 'created': '2017-05-31 08:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/bfd0878157775157168790410da4eb3015a54489', 'message': '[WIP][DO NOT MERGE] Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 11, 'created': '2017-05-31 09:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9e543eff4b607f51f2480955965336b70c5136e1', 'message': '[WIP][DO NOT MERGE] Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 12, 'created': '2017-05-31 10:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/067954c16c1a08e5d74f4caf8d97441225f4b73d', 'message': '[WIP][DO NOT MERGE] Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 13, 'created': '2017-05-31 16:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b4df7a7585f3086959a9a929e91a493c535d4a0d', 'message': '[WIP][DO NOT MERGE] Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 14, 'created': '2017-06-01 03:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/16c39b2f3029d183607b0331f2c4fdc1a0ec5584', 'message': '[WIP][DO NOT MERGE] Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n'}, {'number': 15, 'created': '2017-06-01 03:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9642272d600b4837461e79d9142e55c2cf219c48', 'message': '[WIP][DO NOT MERGE] Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\n'}, {'number': 16, 'created': '2017-06-01 04:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/507439aae57fa69c89f019f825bca60fbcead6b3', 'message': '[WIP][DO NOT MERGE] Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\n'}, {'number': 17, 'created': '2017-06-02 04:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4863087a5ca4d00dafa1308c53d466baf96c468f', 'message': '[WIP][DO NOT MERGE] Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\n'}, {'number': 18, 'created': '2017-06-02 07:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c1282d26be5014ce1b8d1fcd460ed063de3a5926', 'message': '[WIP][DO NOT MERGE] Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\n'}, {'number': 19, 'created': '2017-06-02 08:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b1f6d5179a358935da8a6e840b03ca89499662bb', 'message': '[WIP][DO NOT MERGE] Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\n'}, {'number': 20, 'created': '2017-06-05 06:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a3d6741b22e0d120c430c80e567fc968e083d308', 'message': '[WIP][DO NOT MERGE] Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\n'}, {'number': 21, 'created': '2017-06-05 07:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/03c10c1b8e8edda2758fae0212bd3e07fee2d5bb', 'message': '[WIP][DO NOT MERGE] Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\n'}, {'number': 22, 'created': '2017-06-06 09:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/58cad8e7deff603a389a7d705d0b142f651bf4a0', 'message': '[WIP][DO NOT MERGE] Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\n'}, {'number': 23, 'created': '2017-06-07 06:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1ca13815c51eccfaef78b3ff976e478f848427d2', 'message': 'Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\n'}, {'number': 24, 'created': '2017-06-12 01:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e2572212127377a721e05742e9dcf20f104dd037', 'message': 'Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\n'}, {'number': 25, 'created': '2017-06-29 01:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/aac0120d98bf75c331be076f5ce82ec697c9fc7a', 'message': 'Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\n'}, {'number': 26, 'created': '2017-06-29 03:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/6eee9e7c93b7725b9745d2e96f1d98952cbc6fcc', 'message': 'Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\n'}, {'number': 27, 'created': '2017-08-02 08:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1ce2ba26c1669bedecb985c1f706b5a065fff081', 'message': 'Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\n'}, {'number': 28, 'created': '2017-08-08 03:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/bb95e70a935f01b3bd2a4a2401d1000d432a1bd9', 'message': 'Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\n'}, {'number': 29, 'created': '2017-08-23 01:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c806a48a223f260039efcadc344d9dbff4ccf2e2', 'message': 'Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\n'}, {'number': 30, 'created': '2017-08-23 07:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/33863e0bee134be8d309cac2e56159f4008c5915', 'message': 'Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 31, 'created': '2017-09-14 03:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/9b736797831933840c64b249fbae0d6f9fd87e25', 'message': 'Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 32, 'created': '2017-09-14 04:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/01c097d7234dc77332938ecd47b4c18bbca7b561', 'message': 'Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 33, 'created': '2017-09-22 01:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3f838b14c1d6bf412245beeae33480bfa3d6677a', 'message': 'Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 34, 'created': '2017-09-29 07:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/757ff33cb0d0d62c56dcf06e8f4cd43f64fb7b6e', 'message': 'Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 35, 'created': '2017-10-13 06:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/97acfb39040045e6141c9bba1a2971ddaee4b0ec', 'message': 'Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 36, 'created': '2017-10-13 06:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0f1fe5816d2c293e4374cfcde1f7f27343ab27d5', 'message': 'Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 37, 'created': '2017-11-16 08:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0c1a2c4e4c9dd8e8d33c9a6022cb181641104748', 'message': 'Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 38, 'created': '2017-12-11 06:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/48f1663d946a22ff6d99c652d4e2a1808a245ef1', 'message': 'Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 39, 'created': '2018-01-24 04:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0fe11957893d8cb0ae9bdd4f8b3b3c94ec60eaa4', 'message': 'Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 40, 'created': '2018-01-24 08:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5eab35f35f552cc497c43f15b1afd00a946d4b53', 'message': 'Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 41, 'created': '2018-01-26 08:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/6b7e152d0e475e044c2ab98843ab8138de240a4a', 'message': 'Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 42, 'created': '2018-01-26 10:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/81cc010e4318d9fbbe333cdcbf235e19a7ef2720', 'message': 'Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 43, 'created': '2018-02-01 10:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/83d6c287896beb067617d5f48e74d9c375bc9d9b', 'message': 'Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nImplements: blueprint designate-rolling-upgrade\n'}, {'number': 44, 'created': '2018-02-25 16:05:29.000000000', 'files': ['designate/objects/rrdata_srv.py', 'designate/objects/rrdata_aaaa.py', 'designate/tests/test_central/test_service.py', 'designate/objects/fields.py', 'designate/notifications.py', 'designate/objects/rrdata_ptr.py', 'requirements.txt', 'designate/objects/rrdata_spf.py', 'designate/objects/ovo_base.py', 'designate/objects/__init__.py', 'designate/objects/adapters/base.py', 'designate/objects/zone_attribute.py', 'designate/objects/rrdata_txt.py', 'designate/objects/zone.py', 'designate/central/service.py', 'designate/objects/recordset.py', 'designate/objects/rrdata_sshfp.py', 'designate/objects/zone_master.py', 'designate/objects/adapters/api_v2/validation_error.py', 'designate/objects/adapters/api_v2/base.py', 'designate/objects/rrdata_mx.py', 'designate/rpc.py', 'designate/objects/record.py', 'designate/objects/rrdata_ns.py', 'designate/objects/rrdata_cname.py', 'designate/objects/rrdata_soa.py', 'designate/objects/rrdata_a.py', 'designate/tests/unit/test_objects/test_recordset.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/0eb9627cb0478cc60a20127270b83f3b4451390a', 'message': 'Migrate object to OVO\n\nThis commit will migrate Zone and ZoneMaster objects\n\nCo-authored-By: Hieu LE <hieulq@vn.fujitsu.com>\nCo-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>\n\nChange-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7\nImplements: blueprint designate-rolling-upgrade\n'}]",44,464971,0eb9627cb0478cc60a20127270b83f3b4451390a,171,14,44,19930,,,0,"Migrate object to OVO

This commit will migrate Zone and ZoneMaster objects

Co-authored-By: Hieu LE <hieulq@vn.fujitsu.com>
Co-authored-By: Nguyen Van Trung <trungnv@vn.fujitsu.com>

Change-Id: I8a0b0868d25dacd3dabeb7e0436cfcf93b1e4cc7
Implements: blueprint designate-rolling-upgrade
",git fetch https://review.opendev.org/openstack/designate refs/changes/71/464971/34 && git format-patch -1 --stdout FETCH_HEAD,"['designate/ovo_objects/base.py', 'designate/ovo_objects/zone.py', 'requirements.txt', 'designate/ovo_objects/__init__.py', 'designate/ovo_objects/zone_master.py', 'designate/tests/unit/test_objects/test_domain.py']",6,cfd0146688c1eef45b868f6b06e2be88bf80df98,OVO,"from designate import ovo_objects return ovo_objects.OVOZone( zone = ovo_objects.OVOZone() zone = ovo_objects.OVOZone( masters=ovo_objects.OVOZoneMasterList.from_list([ zone = ovo_objects.OVOZone( masters=ovo_objects.OVOZoneMasterList.from_list([ zone = ovo_objects.OVOZone( masters=ovo_objects.OVOZoneMasterList.from_list([ zone = ovo_objects.OVOZone() zone = ovo_objects.OVOZone( masters = ovo_objects.OVOZoneMasterList() masters.append(ovo_objects.OVOZoneMaster.from_data(""10.0.0.1:53"")) zone = ovo_objects.OVOZone( masters = ovo_objects.OVOZoneMasterList() masters.append(ovo_objects.OVOZoneMaster.from_data(""10.0.0.1:53"")) zone = ovo_objects.OVOZone( masters = ovo_objects.OVOZoneMasterList() masters.append(ovo_objects.OVOZoneMaster.from_data(""10.0.0.1:53"")) zone = ovo_objects.OVOZone( masters = ovo_objects.OVOZoneMasterList() masters.append(ovo_objects.OVOZoneMaster.from_data(""10.0.0.1:53"")) zone = ovo_objects.OVOZone( masters = ovo_objects.OVOZoneMasterList() zone = ovo_objects.OVOZone( zone = ovo_objects.OVOZone(","from designate import objects return objects.Zone( zone = objects.Zone() zone = objects.Zone( masters=objects.ZoneMasterList.from_list([ zone = objects.Zone( masters=objects.ZoneMasterList.from_list([ zone = objects.Zone( masters=objects.ZoneMasterList.from_list([ zone = objects.Zone() zone = objects.Zone( masters = objects.ZoneMasterList() masters.append(objects.ZoneMaster.from_data(""10.0.0.1:53"")) zone = objects.Zone( masters = objects.ZoneMasterList() masters.append(objects.ZoneMaster.from_data(""10.0.0.1:53"")) zone = objects.Zone( masters = objects.ZoneMasterList() masters.append(objects.ZoneMaster.from_data(""10.0.0.1:53"")) zone = objects.Zone( masters = objects.ZoneMasterList() masters.append(objects.ZoneMaster.from_data(""10.0.0.1:53"")) zone = objects.Zone( masters = objects.ZoneMasterList() zone = objects.Zone( zone = objects.Zone(",402,26
openstack%2Fsenlin~stable%2Fqueens~I72e02695f3eb10d1a00976bf68727e0dfb360167,openstack/senlin,stable/queens,I72e02695f3eb10d1a00976bf68727e0dfb360167,Get image id from multiple places,MERGED,2018-02-25 15:51:50.000000000,2018-02-25 17:40:59.000000000,2018-02-25 17:40:59.000000000,"[{'_account_id': 8246}, {'_account_id': 17656}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-25 15:51:50.000000000', 'files': ['senlin/profiles/os/nova/server.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/38f22bc385f082544db99d9ad053ceff98542a39', 'message': ""Get image id from multiple places\n\nThe nova server was not saved image id in 'image' attribute if it was\nboot from image(create new volume), then we need to find a volume which\nis bootable and use its image_id for the server.\n\nCloses-bug: #1751242\n\nChange-Id: I72e02695f3eb10d1a00976bf68727e0dfb360167\nSigned-off-by: blkart <blkart.org@gmail.com>\n""}]",0,547831,38f22bc385f082544db99d9ad053ceff98542a39,6,3,1,8246,,,0,"Get image id from multiple places

The nova server was not saved image id in 'image' attribute if it was
boot from image(create new volume), then we need to find a volume which
is bootable and use its image_id for the server.

Closes-bug: #1751242

Change-Id: I72e02695f3eb10d1a00976bf68727e0dfb360167
Signed-off-by: blkart <blkart.org@gmail.com>
",git fetch https://review.opendev.org/openstack/senlin refs/changes/31/547831/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin/profiles/os/nova/server.py'],1,38f22bc385f082544db99d9ad053ceff98542a39,bug/1751242-stable/queens," def _get_image_id(self, obj, server, op): """"""Get image id. :param obj: The node object. :param server: The server object. :param op: The operate on the node. :return: The image_id for the server. """""" image_id = None if server.image: image_id = server.image['id'] or server.image elif server.attached_volumes: cinder_driver = self.block_storage(obj) for volume_ids in server.attached_volumes: try: vs = cinder_driver.volume_get(volume_ids['id']) if vs.is_bootable: image_id = vs.volume_image_metadata['image_id'] except exc.InternalError as ex: raise exc.EResourceOperation(op=op, type='server', id=obj.physical_id, message=six.text_type(ex)) else: msg = _(""server doesn't have an image and it has no "" ""bootable volume"") raise exc.EResourceOperation(op=op, type=""server"", id=obj.physical_id, message=msg) return image_id spec[self.IMAGE] = self._get_image_id(obj, server, 'adopting')", spec[self.IMAGE] = server.image['id'] or server.image,32,1
openstack%2Fpython-octaviaclient~master~I99cf0a244c30f67d7b4274d28c24793d468e1782,openstack/python-octaviaclient,master,I99cf0a244c30f67d7b4274d28c24793d468e1782,Updated from global requirements,MERGED,2018-02-14 12:30:09.000000000,2018-02-25 17:35:42.000000000,2018-02-25 17:35:42.000000000,"[{'_account_id': 6579}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-14 12:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/4e9d0445e583f1608b37fc74a85f4ce23ab7a57c', 'message': 'Updated from global requirements\n\nChange-Id: I99cf0a244c30f67d7b4274d28c24793d468e1782\n'}, {'number': 2, 'created': '2018-02-17 10:16:32.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/31b9234120c79a48ed77758dc923fc78ba849577', 'message': 'Updated from global requirements\n\nChange-Id: I99cf0a244c30f67d7b4274d28c24793d468e1782\n'}]",0,544283,31b9234120c79a48ed77758dc923fc78ba849577,9,3,2,11131,,,0,"Updated from global requirements

Change-Id: I99cf0a244c30f67d7b4274d28c24793d468e1782
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/83/544283/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,4e9d0445e583f1608b37fc74a85f4ce23ab7a57c,openstack/requirements,python-neutronclient>=6.7.0 # Apache-2.0,python-neutronclient>=6.3.0 # Apache-2.0,1,1
openstack%2Foctavia-dashboard~master~I7121c40543dba4d5b6aafe6b1b150b8a385ee3e7,openstack/octavia-dashboard,master,I7121c40543dba4d5b6aafe6b1b150b8a385ee3e7,Modify the '.gitignore' file,MERGED,2018-02-09 03:02:14.000000000,2018-02-25 17:32:56.000000000,2018-02-25 17:32:56.000000000,"[{'_account_id': 2245}, {'_account_id': 6579}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-09 03:02:14.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/e531b937a9acb496772c2dcb2f9e7de617088cd4', 'message': ""Modify the '.gitignore' file\n\nSince the horizon remove the 'run_tests.sh' file,\nso there should remove '.venv' from the '.gitignore' file.\nSee the patch 'https://review.openstack.org/#/c/399842/'\n\nChange-Id: I7121c40543dba4d5b6aafe6b1b150b8a385ee3e7\n""}]",1,542554,e531b937a9acb496772c2dcb2f9e7de617088cd4,10,4,1,14151,,,0,"Modify the '.gitignore' file

Since the horizon remove the 'run_tests.sh' file,
so there should remove '.venv' from the '.gitignore' file.
See the patch 'https://review.openstack.org/#/c/399842/'

Change-Id: I7121c40543dba4d5b6aafe6b1b150b8a385ee3e7
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/54/542554/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,e531b937a9acb496772c2dcb2f9e7de617088cd4,,,.venv,0,1
openstack%2Fnova~master~I4db0c8a5c55f7fcdebd5fcb04273d922727a4521,openstack/nova,master,I4db0c8a5c55f7fcdebd5fcb04273d922727a4521,[placement] Add functional tests for traits API,MERGED,2017-11-30 08:32:48.000000000,2018-02-25 16:56:50.000000000,2018-02-24 03:43:58.000000000,"[{'_account_id': 6062}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14384}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20722}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23630}, {'_account_id': 25625}, {'_account_id': 26515}, {'_account_id': 27297}]","[{'number': 1, 'created': '2017-11-30 08:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ddda6483f9551ccd450efc1421e5a1ff15515d2b', 'message': ""[placement] Add functional tests for traits API\n\nAdd functional tests for traits API in the following cases.\n\n* Invalid 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n* Invalid 'traits' in\n  PUT /resource_providers/{uuid}/traits\n* Additional properties in\n  PUT /resource_providers/{uuid}/traits\n* Earlier microverion (1.5)\n\nFix a response string to check in the following test.\n\n* Missing 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n\nChange-Id: I4db0c8a5c55f7fcdebd5fcb04273d922727a4521\n""}, {'number': 2, 'created': '2017-12-04 22:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/905fbd10734d5f62d6365ed6f2ad6f3206d5003b', 'message': ""[placement] Add functional tests for traits API\n\nAdd functional tests for traits API in the following cases.\n\n* Invalid 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n* Invalid 'traits' in\n  PUT /resource_providers/{uuid}/traits\n* Additional properties in\n  PUT /resource_providers/{uuid}/traits\n* Earlier microverion (1.5)\n\nFix a response string to check in the following test.\n\n* Missing 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n\nChange-Id: I4db0c8a5c55f7fcdebd5fcb04273d922727a4521\n""}, {'number': 3, 'created': '2017-12-07 21:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/964d03cb6216ef39e34fe8da2ff6d6a0ebde97da', 'message': ""[placement] Add functional tests for traits API\n\nAdd functional tests for traits API in the following cases.\n\n* Invalid 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n* Invalid 'traits' in\n  PUT /resource_providers/{uuid}/traits\n* Additional properties in\n  PUT /resource_providers/{uuid}/traits\n* Earlier microverion (1.5)\n\nFix a response string to check in the following test.\n\n* Missing 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n\nChange-Id: I4db0c8a5c55f7fcdebd5fcb04273d922727a4521\n""}, {'number': 4, 'created': '2017-12-15 00:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30a2cabfc464cb56621ba5d4a2a6b44a4dad8973', 'message': ""[placement] Add functional tests for traits API\n\nAdd functional tests for traits API in the following cases.\n\n* Invalid 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n* Invalid 'traits' in\n  PUT /resource_providers/{uuid}/traits\n* Additional properties in\n  PUT /resource_providers/{uuid}/traits\n* Earlier microverion (1.5)\n\nFix a response string to check in the following test.\n\n* Missing 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n\nChange-Id: I4db0c8a5c55f7fcdebd5fcb04273d922727a4521\n""}, {'number': 5, 'created': '2017-12-20 22:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f5bbabcf6d5b356f583a7f5acf64fd380cadc37', 'message': ""[placement] Add functional tests for traits API\n\nAdd functional tests for traits API in the following cases.\n\n* Invalid 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n* Invalid 'traits' in\n  PUT /resource_providers/{uuid}/traits\n* Additional properties in\n  PUT /resource_providers/{uuid}/traits\n* Earlier microverion (1.5)\n\nFix a response string to check in the following test.\n\n* Missing 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n\nChange-Id: I4db0c8a5c55f7fcdebd5fcb04273d922727a4521\n""}, {'number': 6, 'created': '2017-12-24 22:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bd6ead4e5d8e6e70d2f131efd443ce339e2ceb63', 'message': ""[placement] Add functional tests for traits API\n\nAdd functional tests for traits API in the following cases.\n\n* Invalid 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n* Invalid 'traits' in\n  PUT /resource_providers/{uuid}/traits\n* Additional properties in\n  PUT /resource_providers/{uuid}/traits\n* Earlier microverion (1.5)\n\nFix a response string to check in the following test.\n\n* Missing 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n\nChange-Id: I4db0c8a5c55f7fcdebd5fcb04273d922727a4521\n""}, {'number': 7, 'created': '2018-01-02 12:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b074dd814024e842d4d90993b3b8ae0b2f66493a', 'message': ""[placement] Add functional tests for traits API\n\nAdd functional tests for traits API in the following cases.\n\n* Invalid 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n* Invalid 'traits' in\n  PUT /resource_providers/{uuid}/traits\n* Additional properties in\n  PUT /resource_providers/{uuid}/traits\n* Earlier microverion (1.5)\n\nFix a response string to check in the following test.\n\n* Missing 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n\nChange-Id: I4db0c8a5c55f7fcdebd5fcb04273d922727a4521\n""}, {'number': 8, 'created': '2018-01-11 05:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cceed37a9fae935931ed6cc9153581c5eac6f8c6', 'message': ""[placement] Add functional tests for traits API\n\nAdd functional tests for traits API in the following cases.\n\n* Invalid 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n* Invalid 'traits' in\n  PUT /resource_providers/{uuid}/traits\n* Additional properties in\n  PUT /resource_providers/{uuid}/traits\n* Earlier microverion (1.5)\n\nFix a response string to check in the following test.\n\n* Missing 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n\nChange-Id: I4db0c8a5c55f7fcdebd5fcb04273d922727a4521\n""}, {'number': 9, 'created': '2018-01-11 05:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f31b5d30ea6fc71e8a04b8bf3328129e9f289396', 'message': ""[placement] Add functional tests for traits API\n\nAdd functional tests for traits API in the following cases.\n\n* Invalid 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n* Invalid 'traits' in\n  PUT /resource_providers/{uuid}/traits\n* Additional properties in\n  PUT /resource_providers/{uuid}/traits\n* Earlier microverion (1.5)\n\nFix a response string to check in the following test.\n\n* Missing 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n\nChange-Id: I4db0c8a5c55f7fcdebd5fcb04273d922727a4521\n""}, {'number': 10, 'created': '2018-01-19 00:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/36254984f286cbf34081a2af71577543b3efa1bb', 'message': ""[placement] Add functional tests for traits API\n\nAdd functional tests for traits API in the following cases.\n\n* Invalid 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n* Invalid 'traits' in\n  PUT /resource_providers/{uuid}/traits\n* Additional properties in\n  PUT /resource_providers/{uuid}/traits\n* Earlier microverion (1.5)\n\nFix a response string to check in the following test.\n\n* Missing 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n\nChange-Id: I4db0c8a5c55f7fcdebd5fcb04273d922727a4521\n""}, {'number': 11, 'created': '2018-01-24 00:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14fceae778df62d65a951e7c5c05041914d99419', 'message': ""[placement] Add functional tests for traits API\n\nAdd functional tests for traits API in the following cases.\n\n* Invalid 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n* Invalid 'traits' in\n  PUT /resource_providers/{uuid}/traits\n* Additional properties in\n  PUT /resource_providers/{uuid}/traits\n* Earlier microverion (1.5)\n\nFix a response string to check in the following test.\n\n* Missing 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n\nChange-Id: I4db0c8a5c55f7fcdebd5fcb04273d922727a4521\n""}, {'number': 12, 'created': '2018-02-01 22:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfe58061cd12db8383a8fdb9e3a7ea618f6d98bf', 'message': ""[placement] Add functional tests for traits API\n\nAdd functional tests for traits API in the following cases.\n\n* Invalid 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n* Invalid 'traits' in\n  PUT /resource_providers/{uuid}/traits\n* Additional properties in\n  PUT /resource_providers/{uuid}/traits\n* Earlier microverion (1.5)\n\nFix a response string to check in the following test.\n\n* Missing 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n\nChange-Id: I4db0c8a5c55f7fcdebd5fcb04273d922727a4521\n""}, {'number': 13, 'created': '2018-02-04 23:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/efd0f44abe9828bde6df6d894f2b5ff1a7604e30', 'message': ""[placement] Add functional tests for traits API\n\nAdd functional tests for traits API in the following cases.\n\n* Invalid 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n* Invalid 'traits' in\n  PUT /resource_providers/{uuid}/traits\n* Additional properties in\n  PUT /resource_providers/{uuid}/traits\n* Earlier microverion (1.5)\n\nFix a response string to check in the following test.\n\n* Missing 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n\nChange-Id: I4db0c8a5c55f7fcdebd5fcb04273d922727a4521\n""}, {'number': 14, 'created': '2018-02-08 21:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ed3c1d74832e7bc7fc6df7ecceaa22d0530054d', 'message': ""[placement] Add functional tests for traits API\n\nAdd functional tests for traits API in the following cases.\n\n* Invalid 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n* Invalid 'traits' in\n  PUT /resource_providers/{uuid}/traits\n* Additional properties in\n  PUT /resource_providers/{uuid}/traits\n* Earlier microverion (1.5)\n\nFix a response string to check in the following test.\n\n* Missing 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n\nChange-Id: I4db0c8a5c55f7fcdebd5fcb04273d922727a4521\n""}, {'number': 15, 'created': '2018-02-08 23:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a43353008fd831f5d6377ad5d33746b23aae7ff', 'message': ""[placement] Add functional tests for traits API\n\nAdd functional tests for traits API in the following cases.\n\n* Invalid 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n* Invalid 'traits' in\n  PUT /resource_providers/{uuid}/traits\n* Additional properties in\n  PUT /resource_providers/{uuid}/traits\n* Earlier microverion (1.5)\n\nFix a response string to check in the following test.\n\n* Missing 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n\nChange-Id: I4db0c8a5c55f7fcdebd5fcb04273d922727a4521\n""}, {'number': 16, 'created': '2018-02-14 01:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df9d4145535ee21cdb297eeeb14e3e86006f6190', 'message': ""[placement] Add functional tests for traits API\n\nAdd functional tests for traits API in the following cases.\n\n* Invalid 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n* Invalid 'traits' in\n  PUT /resource_providers/{uuid}/traits\n* Additional properties in\n  PUT /resource_providers/{uuid}/traits\n* Earlier microverion (1.5)\n\nFix a response string to check in the following test.\n\n* Missing 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n\nChange-Id: I4db0c8a5c55f7fcdebd5fcb04273d922727a4521\n""}, {'number': 17, 'created': '2018-02-19 00:41:56.000000000', 'files': ['nova/tests/functional/api/openstack/placement/gabbits/traits.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/c23f135b117a4ac21e23aba228a399315c5f5942', 'message': ""[placement] Add functional tests for traits API\n\nAdd functional tests for traits API in the following cases.\n\n* Invalid 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n* Invalid 'traits' in\n  PUT /resource_providers/{uuid}/traits\n* Additional properties in\n  PUT /resource_providers/{uuid}/traits\n* Earlier microverion (1.5)\n\nFix a response string to check in the following test.\n\n* Missing 'resource_provider_generation' in\n  PUT /resource_providers/{uuid}/traits\n\nChange-Id: I4db0c8a5c55f7fcdebd5fcb04273d922727a4521\n""}]",5,524094,c23f135b117a4ac21e23aba228a399315c5f5942,134,18,17,7634,,,0,"[placement] Add functional tests for traits API

Add functional tests for traits API in the following cases.

* Invalid 'resource_provider_generation' in
  PUT /resource_providers/{uuid}/traits
* Invalid 'traits' in
  PUT /resource_providers/{uuid}/traits
* Additional properties in
  PUT /resource_providers/{uuid}/traits
* Earlier microverion (1.5)

Fix a response string to check in the following test.

* Missing 'resource_provider_generation' in
  PUT /resource_providers/{uuid}/traits

Change-Id: I4db0c8a5c55f7fcdebd5fcb04273d922727a4521
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/524094/17 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/api/openstack/placement/gabbits/traits.yaml'],1,ddda6483f9551ccd450efc1421e5a1ff15515d2b,functional_tests_traits,"- name: create a trait earlier version PUT: /traits/CUSTOM_TRAIT_1 request_headers: openstack-api-version: placement 1.5 status: 404 - name: get a trait earlier version GET: /traits/CUSTOM_TRAIT_1 request_headers: openstack-api-version: placement 1.5 status: 404 - name: delete a trait earlier version DELETE: /traits/CUSTOM_TRAIT_1 request_headers: openstack-api-version: placement 1.5 status: 404 - name: list traits earlier version GET: /traits request_headers: openstack-api-version: placement 1.5 status: 404 - name: list traits for resource provider earlier version GET: /resource_providers/$ENVIRON['RP_UUID']/traits request_headers: openstack-api-version: placement 1.5 status: 404 - name: set traits for resource provider earlier version PUT: /resource_providers/$ENVIRON['RP_UUID']/traits request_headers: content-type: application/json openstack-api-version: placement 1.5 status: 404 - ""'resource_provider_generation' is a required property"" - name: set traits for resource provider with invalid resource provider generation PUT: /resource_providers/$ENVIRON['RP_UUID']/traits request_headers: content-type: application/json status: 400 data: traits: - CUSTOM_TRAIT_1 resource_provider_generation: invalid_generation response_strings: - ""'invalid_generation' is not of type 'integer'""- name: set traits for resource provider with invalid type of triats PUT: /resource_providers/$ENVIRON['RP_UUID']/traits request_headers: content-type: application/json status: 400 data: traits: invalid_type resource_provider_generation: 1 response_strings: - ""'invalid_type' is not of type 'array'"" - name: set traits for resource provider with additional properties PUT: /resource_providers/$ENVIRON['RP_UUID']/traits request_headers: content-type: application/json status: 400 data: traits: - CUSTOM_TRAIT_1 - CUSTOM_TRAIT_2 resource_provider_generation: 1 additional: additional response_strings: - 'Additional properties are not allowed' - name: delete traits for resource provider earlier version DELETE: /resource_providers/$ENVIRON['RP_UUID']/traits request_headers: openstack-api-version: placement 1.5 status: 404 ", - CUSTOM_TRAIT_1,81,1
openstack%2Fsenlin~master~If93ba5f05103498972c8e8b3e8c2301a543f1c8d,openstack/senlin,master,If93ba5f05103498972c8e8b3e8c2301a543f1c8d,Update senlin documentation url,MERGED,2018-02-23 08:52:48.000000000,2018-02-25 16:56:00.000000000,2018-02-25 16:55:59.000000000,"[{'_account_id': 8246}, {'_account_id': 17656}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 22998}]","[{'number': 1, 'created': '2018-02-23 08:52:48.000000000', 'files': ['senlin/policies/lb_policy.py', 'senlin/policies/zone_placement.py', 'senlin/policies/deletion_policy.py', 'senlin/policies/affinity_policy.py', 'senlin/policies/region_placement.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/f45cad94a2cd7010ff4f3ee5304b3ff16a1e23d9', 'message': 'Update senlin documentation url\n\nChange-Id: If93ba5f05103498972c8e8b3e8c2301a543f1c8d\n'}]",0,547324,f45cad94a2cd7010ff4f3ee5304b3ff16a1e23d9,9,5,1,21690,,,0,"Update senlin documentation url

Change-Id: If93ba5f05103498972c8e8b3e8c2301a543f1c8d
",git fetch https://review.opendev.org/openstack/senlin refs/changes/24/547324/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/policies/lb_policy.py', 'senlin/policies/zone_placement.py', 'senlin/policies/deletion_policy.py', 'senlin/policies/affinity_policy.py', 'senlin/policies/region_placement.py']",5,f45cad94a2cd7010ff4f3ee5304b3ff16a1e23d9,update_doc,https://docs.openstack.org/senlin/latest/contributor/policies/region_v1.html,https://docs.openstack.org/senlin/latest/developer/policies/region_v1.html,5,5
openstack%2Fsenlin~master~I72e02695f3eb10d1a00976bf68727e0dfb360167,openstack/senlin,master,I72e02695f3eb10d1a00976bf68727e0dfb360167,Get image id from multiple places,MERGED,2018-02-23 10:34:50.000000000,2018-02-25 16:55:58.000000000,2018-02-25 16:55:58.000000000,"[{'_account_id': 8246}, {'_account_id': 17656}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23517}, {'_account_id': 27224}]","[{'number': 1, 'created': '2018-02-23 10:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/5a14f6d7b4cd120eb1e5fb350da4e6124b39aa91', 'message': ""Get image id from multiple places\n\nThe nova server was not saved image id in 'image' attribute if it was\nboot from image(create new volume), then we need to find a volume which\nis bootable and use its image_id for the server.\n\nCloses-bug: #1751242\n\nChange-Id: I72e02695f3eb10d1a00976bf68727e0dfb360167\nSigned-off-by: blkart <blkart.org@gmail.com>\n""}, {'number': 2, 'created': '2018-02-24 04:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/8ed1e7707a1aaf66cade3121d7b8e7e151e3ea56', 'message': ""Get image id from multiple places\n\nThe nova server was not saved image id in 'image' attribute if it was\nboot from image(create new volume), then we need to find a volume which\nis bootable and use its image_id for the server.\n\nCloses-bug: #1751242\n\nChange-Id: I72e02695f3eb10d1a00976bf68727e0dfb360167\nSigned-off-by: blkart <blkart.org@gmail.com>\n""}, {'number': 3, 'created': '2018-02-24 04:57:52.000000000', 'files': ['senlin/profiles/os/nova/server.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/6d99c130be820091d7586c607b6fc98fd7b9a1d4', 'message': ""Get image id from multiple places\n\nThe nova server was not saved image id in 'image' attribute if it was\nboot from image(create new volume), then we need to find a volume which\nis bootable and use its image_id for the server.\n\nCloses-bug: #1751242\n\nChange-Id: I72e02695f3eb10d1a00976bf68727e0dfb360167\nSigned-off-by: blkart <blkart.org@gmail.com>\n""}]",1,547364,6d99c130be820091d7586c607b6fc98fd7b9a1d4,19,6,3,17656,,,0,"Get image id from multiple places

The nova server was not saved image id in 'image' attribute if it was
boot from image(create new volume), then we need to find a volume which
is bootable and use its image_id for the server.

Closes-bug: #1751242

Change-Id: I72e02695f3eb10d1a00976bf68727e0dfb360167
Signed-off-by: blkart <blkart.org@gmail.com>
",git fetch https://review.opendev.org/openstack/senlin refs/changes/64/547364/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin/profiles/os/nova/server.py'],1,5a14f6d7b4cd120eb1e5fb350da4e6124b39aa91,bug/1751242," def _get_image_id(self, obj, op): """"""Get image id. :param obj: The node object. :param op: The operate on the node. :return: The image_id for the server. """""" image_id = None driver = self.compute(obj) try: server = driver.server_get(obj.physical_id) except exc.InternalError as ex: raise exc.EResourceOperation(op=op, type='server', id=obj.physical_id, message=six.text_type(ex)) if server.image: image_id = server.image['id'] or server.image elif server.attached_volumes: cinder_driver = self.block_storage(obj) for volume_ids in server.attached_volumes: try: vs = cinder_driver.volume_get(volume_ids['id']) if vs.is_bootable: image_id = vs.volume_image_metadata['image_id'] except exc.InternalError as ex: raise exc.EResourceOperation(op=op, type='server', id=obj.physical_id, message=six.text_type(ex)) else: msg = _(""server doesn't have an image and it has no "" ""bootable volume"") raise exc.EResourceOperation(op=op, type=""server"", id=obj.physical_id, message=msg) return image_id spec[self.IMAGE] = self._get_image_id(obj, 'adopting')", spec[self.IMAGE] = server.image['id'] or server.image,39,1
openstack%2Fdesignate~master~I38d05065bb98c97bb08e878c94d44a18e7c1ac46,openstack/designate,master,I38d05065bb98c97bb08e878c94d44a18e7c1ac46,Remove install-guide tox env,MERGED,2018-02-22 10:23:31.000000000,2018-02-25 16:45:13.000000000,2018-02-25 16:45:13.000000000,"[{'_account_id': 8099}, {'_account_id': 19930}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-22 10:23:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/designate/commit/90bb7f6051bf85175803d60c6d425f6dc74e21fb', 'message': 'Remove install-guide tox env\n\nThe install-guide tox env is not used any more after docs migration.\n\nChange-Id: I38d05065bb98c97bb08e878c94d44a18e7c1ac46\n'}]",0,546937,90bb7f6051bf85175803d60c6d425f6dc74e21fb,7,3,1,26310,,,0,"Remove install-guide tox env

The install-guide tox env is not used any more after docs migration.

Change-Id: I38d05065bb98c97bb08e878c94d44a18e7c1ac46
",git fetch https://review.opendev.org/openstack/designate refs/changes/37/546937/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,90bb7f6051bf85175803d60c6d425f6dc74e21fb,,,"[testenv:install-guide] # NOTE(jaegerandi): this target does not use constraints because # upstream infra does not yet support it. Once that's fixed, we can # drop the install_command. install_command = pip install {opts} {packages} commands = sphinx-build -a -E -d install-guide/build/doctrees -b html install-guide/source install-guide/build/html ",0,7
openstack%2Fsenlin~master~I7050b89afae68725f86ef198499547117d4929a7,openstack/senlin,master,I7050b89afae68725f86ef198499547117d4929a7,Update cluster create command example,MERGED,2018-02-24 06:15:29.000000000,2018-02-25 16:27:59.000000000,2018-02-25 16:27:59.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 23517}, {'_account_id': 26297}, {'_account_id': 27577}]","[{'number': 1, 'created': '2018-02-24 06:15:29.000000000', 'files': ['doc/source/user/clusters.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/1232ce35d2f1866597e7f62737e7beda25cbfb06', 'message': 'Update cluster create command example\n\nAdd config into output information.\n\nChange-Id: I7050b89afae68725f86ef198499547117d4929a7\nSigned-off-by: blkart <blkart.org@gmail.com>\n'}]",0,547718,1232ce35d2f1866597e7f62737e7beda25cbfb06,9,5,1,17656,,,0,"Update cluster create command example

Add config into output information.

Change-Id: I7050b89afae68725f86ef198499547117d4929a7
Signed-off-by: blkart <blkart.org@gmail.com>
",git fetch https://review.opendev.org/openstack/senlin refs/changes/18/547718/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/clusters.rst'],1,1232ce35d2f1866597e7f62737e7beda25cbfb06,doc-fix, | config | {} |,,1,0
openstack%2Fglance~master~Ib68769e148b5e3fa59d20aad0b40f22936af9216,openstack/glance,master,Ib68769e148b5e3fa59d20aad0b40f22936af9216,Remove duplicate word 'the',ABANDONED,2018-02-24 04:10:57.000000000,2018-02-25 16:20:04.000000000,,"[{'_account_id': 17130}, {'_account_id': 21486}, {'_account_id': 22348}, {'_account_id': 23517}]","[{'number': 1, 'created': '2018-02-24 04:10:57.000000000', 'files': ['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/notes/exp-emc-mig-fix-a7e28d547ac38f9e.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/60face549024d979a7dc1a104c10c70e659c3ab9', 'message': ""Remove duplicate word 'the'\n\nChange-Id: Ib68769e148b5e3fa59d20aad0b40f22936af9216\n""}]",0,547706,60face549024d979a7dc1a104c10c70e659c3ab9,6,4,1,21486,,,0,"Remove duplicate word 'the'

Change-Id: Ib68769e148b5e3fa59d20aad0b40f22936af9216
",git fetch https://review.opendev.org/openstack/glance refs/changes/06/547706/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/notes/exp-emc-mig-fix-a7e28d547ac38f9e.yaml']",2,60face549024d979a7dc1a104c10c70e659c3ab9,, bug did not affect the normal database upgrade operation., bug did not affect the the normal database upgrade operation.,2,2
openstack%2Fsenlin~master~I2cb68c57bcb311e84591b436717905e56d4b8343,openstack/senlin,master,I2cb68c57bcb311e84591b436717905e56d4b8343,Update cluster policy type list command example,MERGED,2018-02-24 07:47:19.000000000,2018-02-25 16:19:51.000000000,2018-02-25 16:19:50.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 23517}]","[{'number': 1, 'created': '2018-02-24 07:47:19.000000000', 'files': ['doc/source/user/policy_types.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/2a399848620e1bcd49b43dae5761e272d7ac4c6b', 'message': 'Update cluster policy type list command example\n\nAdd deletion and loadbalance policy version 1.1 support info.\nAdd scaling policy version 1.0 support info.\n\nChange-Id: I2cb68c57bcb311e84591b436717905e56d4b8343\nSigned-off-by: blkart <blkart.org@gmail.com>\n'}]",0,547723,2a399848620e1bcd49b43dae5761e272d7ac4c6b,7,3,1,17656,,,0,"Update cluster policy type list command example

Add deletion and loadbalance policy version 1.1 support info.
Add scaling policy version 1.0 support info.

Change-Id: I2cb68c57bcb311e84591b436717905e56d4b8343
Signed-off-by: blkart <blkart.org@gmail.com>
",git fetch https://review.opendev.org/openstack/senlin refs/changes/23/547723/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/policy_types.rst'],1,2a399848620e1bcd49b43dae5761e272d7ac4c6b,doc-update, | senlin.policy.deletion | 1.1 | SUPPORTED since 2018.01 | | senlin.policy.loadbalance | 1.1 | SUPPORTED since 2018.01 | | senlin.policy.scaling | 1.0 | SUPPORTED since 2016.04 |,,3,0
openstack%2Fsenlin~master~I546519e814af437fbb93f0d7f1043536f299ed0c,openstack/senlin,master,I546519e814af437fbb93f0d7f1043536f299ed0c,Update cluster policy type show command example,MERGED,2018-02-24 08:18:51.000000000,2018-02-25 16:19:49.000000000,2018-02-25 16:19:49.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 23517}]","[{'number': 1, 'created': '2018-02-24 08:18:51.000000000', 'files': ['doc/source/user/policy_types.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/8dbebdf35eaa4359a823af0cfd06b45de5d9a5a6', 'message': 'Update cluster policy type show command example\n\nUse deletion policy version 1.1 in example.\n\nChange-Id: I546519e814af437fbb93f0d7f1043536f299ed0c\nSigned-off-by: blkart <blkart.org@gmail.com>\n'}]",2,547725,8dbebdf35eaa4359a823af0cfd06b45de5d9a5a6,8,3,1,17656,,,0,"Update cluster policy type show command example

Use deletion policy version 1.1 in example.

Change-Id: I546519e814af437fbb93f0d7f1043536f299ed0c
Signed-off-by: blkart <blkart.org@gmail.com>
",git fetch https://review.opendev.org/openstack/senlin refs/changes/25/547725/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/policy_types.rst'],1,8dbebdf35eaa4359a823af0cfd06b45de5d9a5a6,, $ openstack cluster policy type show senlin.policy.deletion-1.1 '1.1': - since: '2018.01' status: SUPPORTED id: senlin.policy.deletion-1.1 name: senlin.policy.deletion-1.1 - OLDEST_PROFILE_FIRST description: Whether a node should be completely destroyed after deletion. Default to True hooks: default: {} description: Lifecycle hook properties required: false schema: params: default: {} required: false schema: queue: default: '' description: Zaqar queue to receive lifecycle hook message required: false type: String updatable: false url: default: '' description: Url sink to which to send lifecycle hook message required: false type: String updatable: false type: Map updatable: false timeout: default: 0 description: Number of seconds before actual deletion happens. required: false type: Integer updatable: false type: constraints: - constraint: - zaqar - webhook type: AllowedValues default: zaqar description: Type of lifecycle hook required: false type: String updatable: false type: Map updatable: false reduce_desired_capacity: default: true description: Whether the desired capacity of the cluster should be reduced along the deletion. Default to True., $ openstack cluster policy type show senlin.policy.deletion-1.0 id: senlin.policy.deletion-1.0 name: senlin.policy.deletion - OLDEST_PROFILE_FRIST description: Whether a node should be completely destroyed after deletion. Default to True reduce_desired_capacity: default: false description: Whether the desired capacity of the cluster should be reduced along with the deletion. Default to False.,54,9
openstack%2Fsenlin~master~I5008e088a651455ea6d7db21c6ed363449284e6f,openstack/senlin,master,I5008e088a651455ea6d7db21c6ed363449284e6f,Update cluster receiver create command example,MERGED,2018-02-24 09:38:15.000000000,2018-02-25 16:19:48.000000000,2018-02-25 16:19:48.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 23517}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-02-24 09:38:15.000000000', 'files': ['doc/source/user/receivers.rst'], 'web_link': 'https://opendev.org/openstack/senlin/commit/a3e9e1c2e295f12e5e4f7c7535d01ac488e9b398', 'message': 'Update cluster receiver create command example\n\nAdd output information for command example.\n\nChange-Id: I5008e088a651455ea6d7db21c6ed363449284e6f\nSigned-off-by: blkart <blkart.org@gmail.com>\n'}]",0,547742,a3e9e1c2e295f12e5e4f7c7535d01ac488e9b398,8,4,1,17656,,,0,"Update cluster receiver create command example

Add output information for command example.

Change-Id: I5008e088a651455ea6d7db21c6ed363449284e6f
Signed-off-by: blkart <blkart.org@gmail.com>
",git fetch https://review.opendev.org/openstack/senlin refs/changes/42/547742/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/receivers.rst'],1,a3e9e1c2e295f12e5e4f7c7535d01ac488e9b398,doc-update3," +------------+-----------------------------------------------------------+ | Field | Value | +------------+-----------------------------------------------------------+ | action | CLUSTER_SCALE_OUT | | actor | { | | | ""trust_id"": ""2e76547947954e6ea62b61a658ffb8e5"" | | | } | | channel | { | | | ""alarm_url"": ""http://10.20.10.17:8778/v1/webhooks/...."" | | | } | | cluster_id | 9f1883a7-6837-4fe4-b621-6ec6ba6c3668 | | created_at | 2018-02-24T09:23:48Z | | domain_id | None | | id | 2a5a266d-0c3a-456c-bbb7-f8b26ef3b7f3 | | location | None | | name | test-receiver | | params | {} | | project_id | bdeecc1b58004bb19302da77ac056b44 | | type | webhook | | updated_at | None | | user_id | e1ddb7e7538845968789fd3a863de928 | +------------+-----------------------------------------------------------+",,22,0
openstack%2Fsenlin~master~Id6c6a72fb35a192a6cac9e461d6a49c36590c06b,openstack/senlin,master,Id6c6a72fb35a192a6cac9e461d6a49c36590c06b,Fix py35 API test flake,MERGED,2018-02-23 14:59:10.000000000,2018-02-25 16:19:47.000000000,2018-02-25 16:19:47.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 23517}]","[{'number': 1, 'created': '2018-02-23 14:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/5c1d564ff084cadd600853f90947a422835d663d', 'message': 'DNM - testing py3 api test flake\n\nChange-Id: Id6c6a72fb35a192a6cac9e461d6a49c36590c06b\n'}, {'number': 2, 'created': '2018-02-24 02:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/c49c31978c6faa7517a8f3b1ad54908ed9a5fd52', 'message': 'DNM - testing py3 api test flake\n\nChange-Id: Id6c6a72fb35a192a6cac9e461d6a49c36590c06b\n'}, {'number': 3, 'created': '2018-02-24 03:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/3561c16b2d4a5569133277350263dde63bfa80e1', 'message': 'DNM - testing py3 api test flake\n\nChange-Id: Id6c6a72fb35a192a6cac9e461d6a49c36590c06b\n'}, {'number': 4, 'created': '2018-02-24 03:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/d932538cb8afc680862e0d15ea37965cfe7e5814', 'message': 'DNM - testing py3 api test flake\n\nChange-Id: Id6c6a72fb35a192a6cac9e461d6a49c36590c06b\n'}, {'number': 5, 'created': '2018-02-24 06:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/1406f07bb69c43beac9e7863cf1702ac294cb33e', 'message': 'DNM - testing py3 api test flake\n\nChange-Id: Id6c6a72fb35a192a6cac9e461d6a49c36590c06b\n'}, {'number': 6, 'created': '2018-02-24 08:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/5716fe91ac70609c27583dba0c9728e2d844b3e7', 'message': 'DNM - testing py3 api test flake\n\nChange-Id: Id6c6a72fb35a192a6cac9e461d6a49c36590c06b\n'}, {'number': 7, 'created': '2018-02-25 14:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/f86811948be337ff33368578cbcfec474d6f12d8', 'message': 'DNM - testing py3 api test flake\n\nChange-Id: Id6c6a72fb35a192a6cac9e461d6a49c36590c06b\n'}, {'number': 8, 'created': '2018-02-25 14:56:48.000000000', 'files': ['senlin/objects/base.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/581241bee78b37f7a0c70d23ff21977e1fadb8fd', 'message': 'Fix py35 API test flake\n\nIn py35, dict ordering seems not guaranteed so the version negotiation\nsometimes (almost always) fail. This patch enforce the version checking\nto be based on an ordered dict so py35 will be happy about it.\n\nChange-Id: Id6c6a72fb35a192a6cac9e461d6a49c36590c06b\n'}]",0,547473,581241bee78b37f7a0c70d23ff21977e1fadb8fd,20,3,8,8246,,,0,"Fix py35 API test flake

In py35, dict ordering seems not guaranteed so the version negotiation
sometimes (almost always) fail. This patch enforce the version checking
to be based on an ordered dict so py35 will be happy about it.

Change-Id: Id6c6a72fb35a192a6cac9e461d6a49c36590c06b
",git fetch https://review.opendev.org/openstack/senlin refs/changes/73/547473/8 && git format-patch -1 --stdout FETCH_HEAD,['senlin/objects/requests/clusters.py'],1,5c1d564ff084cadd600853f90947a422835d663d,fix-py3-api-test,"from oslo_log import log as loggingLOG = logging.getLogger(__name__) LOG.info(""QM: target_version=%s"" % target_version) LOG.info(""QM: primitive data="" % primitive['senlin_object.data']) if 'profile_only' in primitive['senlin_object.data']: LOG.info(""QM: removing profile_only"")", if 'profile_only' in primitive['senlin_object.data']:,5,0
openstack%2Fdevstack~master~I4fdbe6bce12dfedd0d1e975ab8dd624ee3740c11,openstack/devstack,master,I4fdbe6bce12dfedd0d1e975ab8dd624ee3740c11,XenAPI: remove xen tools,MERGED,2018-02-23 03:58:59.000000000,2018-02-25 15:29:38.000000000,2018-02-25 15:29:38.000000000,"[{'_account_id': 1653}, {'_account_id': 6735}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 17922}, {'_account_id': 22348}, {'_account_id': 25638}]","[{'number': 1, 'created': '2018-02-23 03:58:59.000000000', 'files': ['tools/xen/scripts/uninstall-os-vpx.sh', 'tools/xen/scripts/install_ubuntu_template.sh', 'tools/xen/scripts/manage-vdi', 'tools/xen/devstackubuntu_latecommand.sh', 'tools/xen/test_functions.sh', 'tools/xen/scripts/on_exit.sh', 'tools/xen/build_xva.sh', 'tools/xen/devstackubuntupreseed.cfg', 'tools/xen/prepare_guest.sh', 'tools/xen/install_os_domU.sh', 'tools/xen/functions', 'tools/xen/xenrc', 'tools/xen/mocks', 'tools/xen/prepare_guest_template.sh', 'tools/xen/README.md', 'tools/xen/scripts/install-os-vpx.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e619603bdab1eebc05690e42de887614a778022a', 'message': 'XenAPI: remove xen tools\n\nThe xen tools have been moved to the project of *os-xenapi* since\nos-xenapi 0.3.0. We also did some refact work on these tools in\nos-xenapi. This commit is to remove these tools from devstack. So\nthat os-xenapi will be the single place for xen tools.\n\nChange-Id: I4fdbe6bce12dfedd0d1e975ab8dd624ee3740c11\n'}]",0,547254,e619603bdab1eebc05690e42de887614a778022a,12,10,1,17920,,,0,"XenAPI: remove xen tools

The xen tools have been moved to the project of *os-xenapi* since
os-xenapi 0.3.0. We also did some refact work on these tools in
os-xenapi. This commit is to remove these tools from devstack. So
that os-xenapi will be the single place for xen tools.

Change-Id: I4fdbe6bce12dfedd0d1e975ab8dd624ee3740c11
",git fetch https://review.opendev.org/openstack/devstack refs/changes/54/547254/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/xen/scripts/uninstall-os-vpx.sh', 'tools/xen/scripts/install_ubuntu_template.sh', 'tools/xen/scripts/manage-vdi', 'tools/xen/devstackubuntu_latecommand.sh', 'tools/xen/test_functions.sh', 'tools/xen/scripts/on_exit.sh', 'tools/xen/build_xva.sh', 'tools/xen/devstackubuntupreseed.cfg', 'tools/xen/prepare_guest.sh', 'tools/xen/install_os_domU.sh', 'tools/xen/functions', 'tools/xen/xenrc', 'tools/xen/mocks', 'tools/xen/prepare_guest_template.sh', 'tools/xen/README.md', 'tools/xen/scripts/install-os-vpx.sh']",16,e619603bdab1eebc05690e42de887614a778022a,remove_xen_tools,,"#!/bin/bash # # Copyright (c) 2011 Citrix Systems, Inc. # Copyright 2011 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # set -eux BRIDGE= NAME_LABEL= TEMPLATE_NAME= usage() { cat << EOF Usage: $0 -t TEMPLATE_NW_INSTALL -l NAME_LABEL [-n BRIDGE] Install a VM from a template OPTIONS: -h Shows this message. -t template VM template to use -l name Specifies the name label for the VM. -n bridge The bridge/network to use for eth0. Defaults to xenbr0 EOF } get_params() { while getopts ""hbn:r:l:t:"" OPTION; do case $OPTION in h) usage exit 1 ;; n) BRIDGE=$OPTARG ;; l) NAME_LABEL=$OPTARG ;; t) TEMPLATE_NAME=$OPTARG ;; ?) usage exit ;; esac done if [[ -z $BRIDGE ]]; then BRIDGE=xenbr0 fi if [[ -z $TEMPLATE_NAME ]]; then echo ""Please specify a template name"" >&2 exit 1 fi if [[ -z $NAME_LABEL ]]; then echo ""Please specify a name-label for the new VM"" >&2 exit 1 fi } xe_min() { local cmd=""$1"" shift xe ""$cmd"" --minimal ""$@"" } find_network() { result=$(xe_min network-list bridge=""$1"") if [ ""$result"" = """" ]; then result=$(xe_min network-list name-label=""$1"") fi echo ""$result"" } create_vif() { local v=""$1"" echo ""Installing VM interface on [$BRIDGE]"" local out_network_uuid out_network_uuid=$(find_network ""$BRIDGE"") xe vif-create vm-uuid=""$v"" network-uuid=""$out_network_uuid"" device=""0"" } # Make the VM auto-start on server boot. set_auto_start() { local v=""$1"" xe vm-param-set uuid=""$v"" other-config:auto_poweron=true } destroy_vifs() { local v=""$1"" IFS=, for vif in $(xe_min vif-list vm-uuid=""$v""); do xe vif-destroy uuid=""$vif"" done unset IFS } get_params ""$@"" vm_uuid=$(xe_min vm-install template=""$TEMPLATE_NAME"" new-name-label=""$NAME_LABEL"") destroy_vifs ""$vm_uuid"" set_auto_start ""$vm_uuid"" create_vif ""$vm_uuid"" xe vm-param-set actions-after-reboot=Destroy uuid=""$vm_uuid"" ",2,2662
openstack%2Fnova~stable%2Focata~Ide6cc5bb1fce2c9aea9fa3efdf940e8308cd9ed0,openstack/nova,stable/ocata,Ide6cc5bb1fce2c9aea9fa3efdf940e8308cd9ed0,Lazy-load instance attributes with read_deleted=yes,MERGED,2018-02-19 21:38:24.000000000,2018-02-25 15:29:34.000000000,2018-02-25 15:29:34.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-02-19 21:38:24.000000000', 'files': ['nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e0c1d461af0701adb94e6974f363e12395ed0162', 'message': ""Lazy-load instance attributes with read_deleted=yes\n\nIf we're doing a lazy-load of a generic attribute on instance, we\nshould be using read_deleted=yes. Otherwise we just fail in the load\nprocess which is confusing and not helpful to a cleanup routine that\nneeds to handle the deleted instance. This makes us load those things\nwith read_deleted=yes.\n\nChange-Id: Ide6cc5bb1fce2c9aea9fa3efdf940e8308cd9ed0\nCloses-Bug: #1745977\n(cherry picked from commit 6ba8a35825a7ec839b2d0aab7559351d573130ab)\n(cherry picked from commit 619754f5c836ed1b58c807138836e6cf5a4e6904)\n(cherry picked from commit 1407079d4008c6304799dd83f5bf4ba505d8e438)\n""}]",0,545989,e0c1d461af0701adb94e6974f363e12395ed0162,19,11,1,6873,,,0,"Lazy-load instance attributes with read_deleted=yes

If we're doing a lazy-load of a generic attribute on instance, we
should be using read_deleted=yes. Otherwise we just fail in the load
process which is confusing and not helpful to a cleanup routine that
needs to handle the deleted instance. This makes us load those things
with read_deleted=yes.

Change-Id: Ide6cc5bb1fce2c9aea9fa3efdf940e8308cd9ed0
Closes-Bug: #1745977
(cherry picked from commit 6ba8a35825a7ec839b2d0aab7559351d573130ab)
(cherry picked from commit 619754f5c836ed1b58c807138836e6cf5a4e6904)
(cherry picked from commit 1407079d4008c6304799dd83f5bf4ba505d8e438)
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/545989/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py']",2,e0c1d461af0701adb94e6974f363e12395ed0162,bug/1745977," def test_lazy_load_generic_on_deleted_instance(self): # For generic fields, we try to load the deleted record from the # database. instance = objects.Instance(self.context, uuid=uuids.instance, user_id=self.context.user_id, project_id=self.context.project_id) instance.create() instance.destroy() # Re-create our local object to make sure it doesn't have sysmeta # filled in by create() instance = objects.Instance(self.context, uuid=uuids.instance, user_id=self.context.user_id, project_id=self.context.project_id) self.assertNotIn('system_metadata', instance) self.assertEqual(0, len(instance.system_metadata)) ",,20,3
openstack%2Fnova~stable%2Focata~I09b288aa2ad9969800a3cd26c675b002c6c9f638,openstack/nova,stable/ocata,I09b288aa2ad9969800a3cd26c675b002c6c9f638,Fix instance lookup in hide_server_addresses extension,MERGED,2017-11-10 23:43:11.000000000,2018-02-25 15:28:58.000000000,2018-02-25 15:28:57.000000000,"[{'_account_id': 6062}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-11-10 23:43:11.000000000', 'files': ['nova/api/openstack/compute/hide_server_addresses.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/09970fe366cf3200a53d93c41bc996a58a25a4af', 'message': ""Fix instance lookup in hide_server_addresses extension\n\nThe hide_server_addresses extension is looking up the cached\ninstance based on what the user provided for the server id,\nwhich may not match what is used to cache the instance for the\nrequest. For example, a request with upper-case server uuid\ncould be found in a mysql-backed system because mysql is\ncase insensitive by default, but the instance is keyed off the\nserver id from the DB, which is lower-case, so we'll fail\nto look up the instance in the cache if the IDs don't match.\n\nThere is no test for this because it turns out it's actually\nreally hard to recreate this since it requires running with a\nmysql backend to recreate the case insensitive check, which\nisn't going to work with sqlite. Given how trivial this fix is,\ncreating a big mysql recreate test is not worth it.\n\nChange-Id: I09b288aa2ad9969800a3cd26c675b002c6c9f638\nCloses-Bug: #1693335\n(cherry picked from commit ecfb65cee68e96cc99ceecddbf27c6d6f768358e)\n""}]",0,518997,09970fe366cf3200a53d93c41bc996a58a25a4af,43,13,1,6873,,,0,"Fix instance lookup in hide_server_addresses extension

The hide_server_addresses extension is looking up the cached
instance based on what the user provided for the server id,
which may not match what is used to cache the instance for the
request. For example, a request with upper-case server uuid
could be found in a mysql-backed system because mysql is
case insensitive by default, but the instance is keyed off the
server id from the DB, which is lower-case, so we'll fail
to look up the instance in the cache if the IDs don't match.

There is no test for this because it turns out it's actually
really hard to recreate this since it requires running with a
mysql backend to recreate the case insensitive check, which
isn't going to work with sqlite. Given how trivial this fix is,
creating a big mysql recreate test is not worth it.

Change-Id: I09b288aa2ad9969800a3cd26c675b002c6c9f638
Closes-Bug: #1693335
(cherry picked from commit ecfb65cee68e96cc99ceecddbf27c6d6f768358e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/97/518997/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/hide_server_addresses.py'],1,09970fe366cf3200a53d93c41bc996a58a25a4af,bug/1693335-stable/ocata," resp_server = resp.obj['server'] instance = req.get_db_instance(resp_server['id']) self._perhaps_hide_addresses(instance, resp_server)"," instance = req.get_db_instance(id) self._perhaps_hide_addresses(instance, resp.obj['server'])",3,2
openstack%2Fcinder~driverfixes%2Focata~I0e55a8f9084bb8074616bc5c3b89fc8e341b6809,openstack/cinder,driverfixes/ocata,I0e55a8f9084bb8074616bc5c3b89fc8e341b6809,DO NOT MERGE: Zuul fix,ABANDONED,2017-12-12 06:53:29.000000000,2018-02-25 15:05:37.000000000,,"[{'_account_id': 4523}, {'_account_id': 13628}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-12-12 06:53:29.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3a956522371cd87c53fe74f8986cbb2d7aa3332d', 'message': 'DO NOT MERGE: Zuul fix\n\nChange-Id: I0e55a8f9084bb8074616bc5c3b89fc8e341b6809\nCloses-Bug: #1734505\n'}]",0,527318,3a956522371cd87c53fe74f8986cbb2d7aa3332d,9,7,1,24952,,,0,"DO NOT MERGE: Zuul fix

Change-Id: I0e55a8f9084bb8074616bc5c3b89fc8e341b6809
Closes-Bug: #1734505
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/527318/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/hpe/hpe_3par_common.py'],1,3a956522371cd87c53fe74f8986cbb2d7aa3332d,bug/1734505,,,1,0
openstack%2Fcinder~master~I8713f846b1e2e30b4bbc4af57645fdc04bcd8386,openstack/cinder,master,I8713f846b1e2e30b4bbc4af57645fdc04bcd8386,Don't fail when deleting missing backup,MERGED,2017-10-25 11:05:04.000000000,2018-02-25 15:05:34.000000000,2017-10-27 00:19:49.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 14806}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24131}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-10-25 11:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5a24eac33856673cdf7d61d245913dbb4c69b177', 'message': ""Adding path exists check before trying to delete\n\nThe problem here is sometimes when the path doesn't exist and we\ntry to delete it then exception occurs & breaks the flow. In this\ncase it happens with the volume delete flow, wherein the exception\noccurs just before the quota commit & commit doesn't happen even\nthough the backup volume got deleted, hence adding a check that we\nneed to delete the file only when it exists.\n\nChange-Id: I8713f846b1e2e30b4bbc4af57645fdc04bcd8386\n""}, {'number': 2, 'created': '2017-10-25 11:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d4bd59bdcd31f46ddca751698cb019a2de5f34ad', 'message': ""Adding path exists check before trying to delete\n\nThe problem here is sometimes when the path doesn't exist and we\ntry to delete it then exception occurs & breaks the flow. In this\ncase it happens with the volume delete flow, wherein the exception\noccurs just before the quota commit & commit doesn't happen even\nthough the backup volume got deleted, hence adding a check that we\nneed to delete the file only when it exists.\n\nChange-Id: I8713f846b1e2e30b4bbc4af57645fdc04bcd8386\nCloses-Bug: 1726715\n""}, {'number': 3, 'created': '2017-10-25 15:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5ac570f2926ab77a8af570f20ff32f84f03c6883', 'message': ""Adding path exists check before trying to delete\n\nThe problem here is sometimes when the path doesn't exist and we\ntry to delete it then exception occurs & breaks the flow. In this\ncase it happens with the volume delete flow, wherein the exception\noccurs just before the quota commit & commit doesn't happen even\nthough the backup volume got deleted, hence adding a check that we\nneed to delete the file only when it exists.\n\nChange-Id: I8713f846b1e2e30b4bbc4af57645fdc04bcd8386\nCloses-Bug: 1726715\n""}, {'number': 4, 'created': '2017-10-25 20:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fcf8aa76753422a22b4595e5471971355acacb61', 'message': ""Adding path exists check before trying to delete\n\nThe problem here is sometimes when the path doesn't exist and we\ntry to delete it then exception occurs & breaks the flow. In this\ncase it happens with the volume delete flow, wherein the exception\noccurs just before the quota commit & commit doesn't happen even\nthough the backup volume got deleted, hence adding a check that we\nneed to delete the file only when it exists.\n\nChange-Id: I8713f846b1e2e30b4bbc4af57645fdc04bcd8386\nCloses-Bug: 1726715\n""}, {'number': 5, 'created': '2017-10-26 02:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aece2bda343a34960fac8b7123ebae41274cea70', 'message': ""Adding path exists check before trying to delete\n\nThe problem here is sometimes when the path doesn't exist and we\ntry to delete it then exception occurs & breaks the flow. In this\ncase it happens with the volume delete flow, wherein the exception\noccurs just before the quota commit & commit doesn't happen even\nthough the backup volume got deleted, hence adding a check that we\nneed to delete the file only when it exists.\n\nChange-Id: I8713f846b1e2e30b4bbc4af57645fdc04bcd8386\nCloses-Bug: 1726715\n""}, {'number': 6, 'created': '2017-10-26 14:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/77473c14bec1f754920bc891e0d845381dcd7e30', 'message': ""Adding path exists check before trying to delete\n\nThe problem here is sometimes when the path doesn't exist and we\ntry to delete it then exception occurs & breaks the flow. In this\ncase it happens with the volume delete flow, wherein the exception\noccurs just before the quota commit & commit doesn't happen even\nthough the backup volume got deleted, hence catching the exception\njust where it occurs.\n\nChange-Id: I8713f846b1e2e30b4bbc4af57645fdc04bcd8386\nCloses-Bug: 1726715\n""}, {'number': 7, 'created': '2017-10-26 14:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0cc1fb18a1e18277e043ea9ce4d2ae09eb8b077e', 'message': ""Catching the exception when trying to delete\n\nThe problem here is sometimes when the path doesn't exist and we\ntry to delete it then exception occurs & breaks the flow. In this\ncase it happens with the volume delete flow, wherein the exception\noccurs just before the quota commit & commit doesn't happen even\nthough the backup volume got deleted, hence catching the exception\njust where it occurs.\n\nChange-Id: I8713f846b1e2e30b4bbc4af57645fdc04bcd8386\nCloses-Bug: 1726715\n""}, {'number': 8, 'created': '2017-10-26 14:45:15.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_posix.py', 'cinder/backup/drivers/posix.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6ff364f385b2bfe52a9c55ffbe357979b0dee9b4', 'message': ""Don't fail when deleting missing backup\n\nThe problem here is sometimes when the path doesn't exist and we\ntry to delete it then exception occurs & breaks the flow. In this\ncase it happens with the volume delete flow, wherein the exception\noccurs just before the quota commit & commit doesn't happen even\nthough the backup volume got deleted, hence catching the exception\njust where it occurs.\n\nChange-Id: I8713f846b1e2e30b4bbc4af57645fdc04bcd8386\nCloses-Bug: 1726715\n""}]",5,515026,6ff364f385b2bfe52a9c55ffbe357979b0dee9b4,104,37,8,24131,,,0,"Don't fail when deleting missing backup

The problem here is sometimes when the path doesn't exist and we
try to delete it then exception occurs & breaks the flow. In this
case it happens with the volume delete flow, wherein the exception
occurs just before the quota commit & commit doesn't happen even
though the backup volume got deleted, hence catching the exception
just where it occurs.

Change-Id: I8713f846b1e2e30b4bbc4af57645fdc04bcd8386
Closes-Bug: 1726715
",git fetch https://review.opendev.org/openstack/cinder refs/changes/26/515026/8 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/drivers/posix.py'],1,5a24eac33856673cdf7d61d245913dbb4c69b177,bug/1726715, if os.path.exists(path): os.remove(path), os.remove(path),2,1
openstack%2Fcinder~stable%2Focata~Ied42d13b642617dd239ea92c019354b90657821a,openstack/cinder,stable/ocata,Ied42d13b642617dd239ea92c019354b90657821a,Fix NoneType has no attribute get,MERGED,2017-11-09 07:33:11.000000000,2018-02-25 15:05:32.000000000,2018-02-09 21:35:58.000000000,"[{'_account_id': 4523}, {'_account_id': 4690}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15054}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25169}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-09 07:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/99e2de635fbc7401eed7c9dadb3f118666a3c62a', 'message': ""Fix NoneType has no attribute get\n\nIf volume_type is None and then create volumes with allow-multiattach,\nCinder-schduler will raise error:\n\nAttributeError: 'NoneType' object has no attribute 'get'\n\nChange-Id: Ied42d13b642617dd239ea92c019354b90657821a\nCloses-bug: #1683431\n(cherry picked from commit a58f66e180333ace479983e1287a62793bbd26aa)\n""}, {'number': 2, 'created': '2017-11-09 10:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ca4eb152991181d1e4017a235ad8289b36e326c7', 'message': ""Fix NoneType has no attribute get\n\nIf volume_type is None and then create volumes with allow-multiattach,\nCinder-schduler will raise error:\n\nAttributeError: 'NoneType' object has no attribute 'get'\n\nChange-Id: Ied42d13b642617dd239ea92c019354b90657821a\nCloses-bug: #1683431\n(cherry picked from commit a58f66e180333ace479983e1287a62793bbd26aa)\n""}, {'number': 5, 'created': '2017-11-09 10:40:14.000000000', 'files': ['cinder/scheduler/filter_scheduler.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8a0c155a9890efd28064da9173086e60579e3121', 'message': ""Fix NoneType has no attribute get\n\nIf volume_type is None and then create volumes with allow-multiattach,\nCinder-schduler will raise error:\n\nAttributeError: 'NoneType' object has no attribute 'get'\n\nChange-Id: Ied42d13b642617dd239ea92c019354b90657821a\nCloses-bug: #1683431\n(cherry picked from commit a58f66e180333ace479983e1287a62793bbd26aa)\n""}]",0,518673,8a0c155a9890efd28064da9173086e60579e3121,67,23,3,25169,,,0,"Fix NoneType has no attribute get

If volume_type is None and then create volumes with allow-multiattach,
Cinder-schduler will raise error:

AttributeError: 'NoneType' object has no attribute 'get'

Change-Id: Ied42d13b642617dd239ea92c019354b90657821a
Closes-bug: #1683431
(cherry picked from commit a58f66e180333ace479983e1287a62793bbd26aa)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/73/518673/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/scheduler/filter_scheduler.py'],1,99e2de635fbc7401eed7c9dadb3f118666a3c62a,bug/1683431-stable/ocata," volume_type = request_spec.get(""volume_type"") resource_type = request_spec.get(""volume_type"", {})"," volume_type = resource_type = request_spec.get(""volume_type"")",2,1
openstack%2Fcinder~master~Ic112a68101c0dcb14da0db06c62ae190474a37d9,openstack/cinder,master,Ic112a68101c0dcb14da0db06c62ae190474a37d9,Remove deprecated nova config options,MERGED,2017-09-13 11:14:25.000000000,2018-02-25 15:05:30.000000000,2017-10-16 15:49:57.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 18883}, {'_account_id': 18940}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-13 11:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7b8820578d6061b03cc8b7cb6701cf56e2dba58b', 'message': 'Remove deprecated nova config options\n\nIn Pike, the nova client converted to use the [nova] section.\nRemove the obsolete config options now.\n\nChange-Id: Ic112a68101c0dcb14da0db06c62ae190474a37d9\n'}, {'number': 2, 'created': '2017-09-13 14:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6b7165d3b087bfa50624f42dac797d8b56de01d', 'message': 'Remove deprecated nova config options\n\nIn Pike, the nova client converted to use the [nova] section.\nRemove the obsolete config options now.\n\nChange-Id: Ic112a68101c0dcb14da0db06c62ae190474a37d9\n'}, {'number': 3, 'created': '2017-09-25 14:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/43f9c4e08bc12e1862767f80e241f0c8302a98f7', 'message': 'Remove deprecated nova config options\n\nIn Pike, the nova client converted to use the [nova] section.\nRemove the obsolete config options now.\n\nChange-Id: Ic112a68101c0dcb14da0db06c62ae190474a37d9\n'}, {'number': 4, 'created': '2017-10-10 08:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c59dde7b1dbe83118bb9934150d80295a9672b1a', 'message': 'Remove deprecated nova config options\n\nIn Pike, the nova client converted to use the [nova] section.\nRemove the obsolete config options now.\n\nChange-Id: Ic112a68101c0dcb14da0db06c62ae190474a37d9\n'}, {'number': 5, 'created': '2017-10-12 12:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b03bb7c342ce2b1e88b41facf023a817adccdcc', 'message': 'Remove deprecated nova config options\n\nIn Pike, the nova client converted to use the [nova] section.\nRemove the obsolete config options now.\n\nChange-Id: Ic112a68101c0dcb14da0db06c62ae190474a37d9\n'}, {'number': 6, 'created': '2017-10-13 09:06:00.000000000', 'files': ['cinder/opts.py', 'releasenotes/notes/remove-deprecated-nova-opts-b1ec66fe3a9bb3b9.yaml', 'cinder/common/config.py', 'cinder/compute/nova.py', 'cinder/tests/unit/scheduler/test_host_filters.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c463c6f50c5d1cf6277539626fe386f6d4df6355', 'message': 'Remove deprecated nova config options\n\nIn Pike, the nova client converted to use the [nova] section.\nRemove the obsolete config options now.\n\nChange-Id: Ic112a68101c0dcb14da0db06c62ae190474a37d9\n'}]",2,503596,c463c6f50c5d1cf6277539626fe386f6d4df6355,186,46,6,18940,,,0,"Remove deprecated nova config options

In Pike, the nova client converted to use the [nova] section.
Remove the obsolete config options now.

Change-Id: Ic112a68101c0dcb14da0db06c62ae190474a37d9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/503596/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'cinder/common/config.py', 'cinder/compute/nova.py', 'cinder/tests/unit/scheduler/test_host_filters.py']",4,7b8820578d6061b03cc8b7cb6701cf56e2dba58b,,," self.override_config('nova_endpoint_template', 'http://novahost:8774/v2/%(project_id)s')",1,75
openstack%2Fcinder~stable%2Fpike~I5c6ad150543213acfd0c78dbbdb1dc1584d22d26,openstack/cinder,stable/pike,I5c6ad150543213acfd0c78dbbdb1dc1584d22d26,NetApp ONTAP: Copy offload bugfix,MERGED,2018-02-09 10:38:04.000000000,2018-02-25 15:05:26.000000000,2018-02-20 01:51:39.000000000,"[{'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14865}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-09 10:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cd28cfbd9c5327ae2c89d9cfcb5009502560a5a3', 'message': ""NetApp ONTAP: Copy offload bugfix\n\nWhen 'NetApp NFS Copy Offload' tool is configured to download Glance\nimages, these images are downloaded twice because the tool is doing\nthe job after Cinder has already done it.\nThis patch fixes the bug by executing the copy offload tool inside the\nclone_image function instead of using the copy_image_to_volume.\n\nCloses-bug: #1632333\n\nChange-Id: I5c6ad150543213acfd0c78dbbdb1dc1584d22d26\n""}, {'number': 2, 'created': '2018-02-13 12:29:39.000000000', 'files': ['releasenotes/notes/bug-1632333-netapp-ontap-copyoffload-downloads-glance-image-twice-08801d8c7b9eed2c.yaml', 'cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/82a13da48e7451c2f7813bf2de6990625c05624c', 'message': ""NetApp ONTAP: Copy offload bugfix\n\nWhen 'NetApp NFS Copy Offload' tool is configured to download Glance\nimages, these images are downloaded twice because the tool is doing\nthe job after Cinder has already done it.\nThis patch fixes the bug by executing the copy offload tool inside the\nclone_image function instead of using the copy_image_to_volume.\n\nCloses-bug: #1632333\n\nChange-Id: I5c6ad150543213acfd0c78dbbdb1dc1584d22d26\n(cherry-picked from commit c27173bad69da4889a5237cf2becc14bb6fc578a)\n""}]",0,542770,82a13da48e7451c2f7813bf2de6990625c05624c,40,22,2,10058,,,0,"NetApp ONTAP: Copy offload bugfix

When 'NetApp NFS Copy Offload' tool is configured to download Glance
images, these images are downloaded twice because the tool is doing
the job after Cinder has already done it.
This patch fixes the bug by executing the copy offload tool inside the
clone_image function instead of using the copy_image_to_volume.

Closes-bug: #1632333

Change-Id: I5c6ad150543213acfd0c78dbbdb1dc1584d22d26
(cherry-picked from commit c27173bad69da4889a5237cf2becc14bb6fc578a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/70/542770/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1632333-netapp-ontap-copyoffload-downloads-glance-image-twice-08801d8c7b9eed2c.yaml', 'cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py']",4,cd28cfbd9c5327ae2c89d9cfcb5009502560a5a3,bug/1632333," def _copy_from_cache(self, volume, image_id, cache_result): """"""Try copying image file_name from cached file"""""" raise NotImplementedError() def _copy_from_img_service(self, context, volume, image_service, image_id): raise NotImplementedError() major, minor = self.zapi_client.get_ontapi_version() col_path = self.configuration.netapp_copyoffload_tool_path cloned = self._copy_from_cache(volume, image_id, cache_result) # Try to use the copy offload tool if not cloned and col_path and major == 1 and minor >= 20: cloned = self._copy_from_img_service(context, volume, image_service, image_id) share = (volume_utils.extract_host(volume['host'], level='pool') if cloned else None) share = volume_utils.extract_host(volume['host'], level='pool') vol_path = self._get_volume_path(share, volume['name']) "," cloned = self._clone_from_cache(volume, image_id, cache_result) share = volume['provider_location'] if cloned else None volume['provider_location'] = share vol_path = self.local_path(volume)",136,168
openstack%2Fcinder~driverfixes%2Fnewton~Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769,openstack/cinder,driverfixes/newton,Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769,nimble: handle unicode strings in volume create,MERGED,2017-12-01 23:53:48.000000000,2018-02-25 15:04:41.000000000,2018-01-11 19:33:44.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 11611}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 16668}, {'_account_id': 19933}, {'_account_id': 21129}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-12-01 23:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/24f3b522404df875f70fe63b297e8741ab3837eb', 'message': ""nimble: handle unicode strings in volume create\n\ncurrently nimble cinder driver doesn't handle unicode strings\nfor display_name and display_description\n\nCloses-Bug: 1732812\n\nChange-Id: Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769\n""}, {'number': 2, 'created': '2017-12-02 00:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ecfa8fea9df2631947e095d0215a7b2a1a029dd5', 'message': ""nimble: handle unicode strings in volume create\n\ncurrently nimble cinder driver doesn't handle unicode strings\nfor display_name and display_description\n\nCloses-Bug: 1732812\n\nChange-Id: Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769\n""}, {'number': 3, 'created': '2017-12-02 00:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/490f3dbe73ccb01c4c8e76f989d4c53576f23d55', 'message': ""nimble: handle unicode strings in volume create\n\ncurrently nimble cinder driver doesn't handle unicode strings\nfor display_name and display_description\ncherry-pick of master commit : Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769\nCloses-Bug: 1732812\n\nChange-Id: Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769\n""}, {'number': 4, 'created': '2017-12-02 00:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/835738ebaf9b5ded361ea1f5c781ff9de4bdb077', 'message': ""nimble: handle unicode strings in volume create\n\ncurrently nimble cinder driver doesn't handle unicode strings\nfor display_name and display_description\ncherry-pick of master commit : Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769\nCloses-Bug: 1732812\n\nChange-Id: Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769\n""}, {'number': 5, 'created': '2017-12-04 22:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/96a6d79b635274c13d5e179c2ff51d49cd966242', 'message': ""nimble: handle unicode strings in volume create\n\ncurrently nimble cinder driver doesn't handle unicode strings\nfor display_name and display_description\ncherry-pick of master commit : Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769\nCloses-Bug: 1732812\n\nChange-Id: Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769\n""}, {'number': 6, 'created': '2017-12-04 23:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a0f62f11a5f7d2f882ab0408791bb1684b726271', 'message': ""nimble: handle unicode strings in volume create\n\ncurrently nimble cinder driver doesn't handle unicode strings\nfor display_name and display_description\ncherry-pick of master commit : Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769\nCloses-Bug: 1732812\n\nChange-Id: Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769\n""}, {'number': 7, 'created': '2018-01-09 15:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/38d2ceb84ccf3476e4064b46a6dd35858986315d', 'message': ""nimble: handle unicode strings in volume create\n\ncurrently nimble cinder driver doesn't handle unicode strings\nfor display_name and display_description\n\nChange-Id: Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769\nCloses-Bug: 1732812\n(cherry picked from commit 23ac0ab4edd38b91b0c21d5c9e81cd1a7bdddc55)\n""}, {'number': 8, 'created': '2018-01-09 15:52:28.000000000', 'files': ['cinder/volume/drivers/nimble.py', 'cinder/tests/unit/volume/drivers/test_nimble.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6f9e2de22b77d9ef76727e018ad5c5308f6a6f3a', 'message': ""nimble: handle unicode strings in volume create\n\ncurrently nimble cinder driver doesn't handle unicode strings\nfor display_name and display_description\n\nChange-Id: Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769\nCloses-Bug: 1732812\n(cherry picked from commit 23ac0ab4edd38b91b0c21d5c9e81cd1a7bdddc55)\n""}]",0,524768,6f9e2de22b77d9ef76727e018ad5c5308f6a6f3a,70,18,8,16668,,,0,"nimble: handle unicode strings in volume create

currently nimble cinder driver doesn't handle unicode strings
for display_name and display_description

Change-Id: Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769
Closes-Bug: 1732812
(cherry picked from commit 23ac0ab4edd38b91b0c21d5c9e81cd1a7bdddc55)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/68/524768/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/nimble.py', 'cinder/tests/unit/volume/drivers/test_nimble.py']",2,24f3b522404df875f70fe63b297e8741ab3837eb,bug/1732812," 'nimble:perfpol-name': 'default', 'nimble:encryption': 'yes'})) @NimbleDriverBaseTestCase.client_mock_decorator(create_configuration( NIMBLE_SAN_LOGIN, NIMBLE_SAN_PASS, NIMBLE_MANAGEMENT_IP, 'default', '*')) def test_create_volume_with_unicode(self): self.mock_client_service.get_vol_info.return_value = ( FAKE_GET_VOL_INFO_RESPONSE) self.mock_client_service.get_netconfig.return_value = ( FAKE_POSITIVE_NETCONFIG_RESPONSE) self.assertEqual({ 'provider_location': '172.18.108.21:3260 iqn.test', 'provider_auth': None}, self.driver.create_volume({'name': 'testvolume', 'size': 1, 'volume_type_id': None, 'display_name': u'unicode_name', 'display_description': ''})) self.mock_client_service.create_vol.assert_called_once_with( {'name': 'testvolume', 'size': 1, 'volume_type_id': None, 'display_name': u'unicode_name', 'display_description': ''}, 'default', False, 'iSCSI', False) @mock.patch(NIMBLE_URLLIB2) @mock.patch(NIMBLE_CLIENT) @mock.patch.object(obj_volume.VolumeList, 'get_all_by_host', mock.Mock(return_value=[])) @mock.patch.object(volume_types, 'get_volume_type_extra_specs', mock.Mock(type_id=FAKE_TYPE_ID, return_value={",,74,3
openstack%2Fcinder~master~I76ca1251cd14da6c777bd48a28906d8362d836b0,openstack/cinder,master,I76ca1251cd14da6c777bd48a28906d8362d836b0,Update access control of show under hostAPI,MERGED,2017-11-22 04:26:06.000000000,2018-02-25 15:04:25.000000000,2017-11-23 03:15:02.000000000,"[{'_account_id': 170}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-22 04:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/416ff40d3a3e0be4b63d0f93fbbbc5e92d1ee25d', 'message': 'Update the detection mechanism of the volume under the host\n\nChange-Id: I76ca1251cd14da6c777bd48a28906d8362d836b0\n'}, {'number': 2, 'created': '2017-11-22 05:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/94dd90b64ac22ae60a4dc6b9aae4f30744bca59a', 'message': 'Update the detection mechanism of the volume\n\nUpdate the detection mechanism of the volume under the host.\n\nChange-Id: I76ca1251cd14da6c777bd48a28906d8362d836b0\nClose-Bug: #1732808\n'}, {'number': 3, 'created': '2017-11-22 05:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bf8347679e04a56758e346340192d89abb56285f', 'message': 'Update the detection mechanism of the volume\n\nUpdate the detection mechanism of the volume under the host.\n\nChange-Id: I76ca1251cd14da6c777bd48a28906d8362d836b0\nCloses-Bug: #1732808\n'}, {'number': 4, 'created': '2017-11-22 06:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1ee433c4e0cc5af4990ef22b12e86fe4ed024e21', 'message': 'Update the detection mechanism of the volume\n\nUpdate the detection mechanism of the volume under the host.\nReplacement detection mode, and add policy for host show API.\n\nChange-Id: I76ca1251cd14da6c777bd48a28906d8362d836b0\nCloses-Bug: #1732808\n'}, {'number': 5, 'created': '2017-11-22 08:29:18.000000000', 'files': ['cinder/policies/hosts.py', 'cinder/tests/unit/api/contrib/test_hosts.py', 'cinder/api/contrib/hosts.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f39c3fac2cf4e436a2c5de4f6bfcae1c879f3e43', 'message': 'Update access control of show under hostAPI\n\nUpdate the detection mechanism of show interface under the host API.\nReplacement detection mode, and add policy for host show API.\n\nChange-Id: I76ca1251cd14da6c777bd48a28906d8362d836b0\nCloses-Bug: #1732808\n'}]",1,522110,f39c3fac2cf4e436a2c5de4f6bfcae1c879f3e43,65,35,5,26458,,,0,"Update access control of show under hostAPI

Update the detection mechanism of show interface under the host API.
Replacement detection mode, and add policy for host show API.

Change-Id: I76ca1251cd14da6c777bd48a28906d8362d836b0
Closes-Bug: #1732808
",git fetch https://review.opendev.org/openstack/cinder refs/changes/10/522110/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/policies/hosts.py', 'cinder/api/contrib/hosts.py']",2,416ff40d3a3e0be4b63d0f93fbbbc5e92d1ee25d,522110, context.authorize(policy.MANAGE_POLICY)," if not context.is_admin: msg = _(""Describe-resource is admin only functionality"") raise webob.exc.HTTPForbidden(explanation=msg)",6,4
openstack%2Fcinder~master~If2419008f3f978a4d18f16d57ec6a03fef065d87,openstack/cinder,master,If2419008f3f978a4d18f16d57ec6a03fef065d87,HPE3PAR: Modify host & clear zone after detach,MERGED,2017-11-07 19:37:46.000000000,2018-02-25 15:04:23.000000000,2017-11-11 22:44:35.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19004}, {'_account_id': 21407}, {'_account_id': 21517}, {'_account_id': 21531}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22664}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 24952}, {'_account_id': 25243}, {'_account_id': 25465}, {'_account_id': 26379}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-07 19:37:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4490dc0976da2c7bb03cfc036d41db5a9e22d353', 'message': 'HPE3PAR: Modify host & clear zone after detach\n\nModify or remove wwn/iqn entries from 3par host, after\nvlun deletion. If same host is exported to multiple\nvolumes(via FC and ISCSI), then after all FC volume\ndetach, remove wwn entries from 3par host.\n\nAfter all FC volume detach, remove FC zones\n\nChange-Id: If2419008f3f978a4d18f16d57ec6a03fef065d87\nCloses-Bug: #1730720\n'}, {'number': 2, 'created': '2017-11-08 17:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6080b7e1aa939a4fff31aecf9c3f765122804aae', 'message': 'HPE3PAR: Modify host & clear zone after detach\n\nModify or remove wwn/iqn entries from 3par host, after\nvlun deletion. If same host is exported to multiple\nvolumes(via FC and ISCSI), then after all FC volume\ndetach, remove wwn entries from 3par host.\n\nAfter all FC volume detach, remove FC zones\n\nChange-Id: If2419008f3f978a4d18f16d57ec6a03fef065d87\nCloses-Bug: #1730720\n'}, {'number': 3, 'created': '2017-11-09 09:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6cddfa0234a2a7a609ae3b1fd36e6db3b3951932', 'message': 'HPE3PAR: Modify host & clear zone after detach\n\nModify or remove wwn/iqn entries from 3par host, after\nvlun deletion. If multiple volumes (via FC and ISCSI)\nare exported to same host and FC/ISCSI volumes are\ndetached subsequently, this fix would remove all\nWWN/IQN entries respectively from 3par host\n\nIf the last FC volume is detached, then it will remove\nall zones from fabrics.\n\nChange-Id: If2419008f3f978a4d18f16d57ec6a03fef065d87\nCloses-Bug: #1730720\n'}, {'number': 4, 'created': '2017-11-09 10:12:01.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/aa15f58bdc40e5e27885b06430a96117b290d91e', 'message': 'HPE3PAR: Modify host & clear zone after detach\n\nModify or remove wwn/iqn entries from 3par host, after\nvlun deletion. If multiple volumes (via FC and ISCSI)\nare exported to same host and FC/ISCSI volumes are\ndetached subsequently, this fix would remove all\nWWN/IQN entries respectively from 3par host\n\nIf the last FC volume is detached, then it will remove\nall zones from fabrics.\n\nChange-Id: If2419008f3f978a4d18f16d57ec6a03fef065d87\nCloses-Bug: #1730720\n'}]",2,518388,aa15f58bdc40e5e27885b06430a96117b290d91e,122,40,4,24952,,,0,"HPE3PAR: Modify host & clear zone after detach

Modify or remove wwn/iqn entries from 3par host, after
vlun deletion. If multiple volumes (via FC and ISCSI)
are exported to same host and FC/ISCSI volumes are
detached subsequently, this fix would remove all
WWN/IQN entries respectively from 3par host

If the last FC volume is detached, then it will remove
all zones from fabrics.

Change-Id: If2419008f3f978a4d18f16d57ec6a03fef065d87
Closes-Bug: #1730720
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/518388/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py']",3,4490dc0976da2c7bb03cfc036d41db5a9e22d353,bug/1730720," 4.0.1 - Added check to modify host after volume detach. bug #1730720 VERSION = ""4.0.1"" def delete_vlun(self, volume, hostname, wwn=None, iqn=None): if wwn is not None and not isinstance(wwn, list): wwn = [wwn] if iqn is not None and not isinstance(iqn, list): iqn = [iqn] modify_host = True for vlun in vluns: if vlun.get('active'): if (wwn is not None and vlun.get('remoteName').lower() in wwn)\ or (iqn is not None and vlun.get('remoteName').lower() in iqn): # vlun with wwn/iqn exists so do not modify host. modify_host = False break if len(vluns) == 0: elif modify_host: if wwn is not None: mod_request = {'pathOperation': self.client.HOST_EDIT_REMOVE, 'FCWWNs': wwn} else: mod_request = {'pathOperation': self.client.HOST_EDIT_REMOVE, 'iSCSINames': iqn} try: self.client.modifyHost(hostname, mod_request) except Exception as ex: LOG.info(""3PAR vlun for volume '%(name)s' was deleted, "" ""but the host '%(host)s' was not Modified "" ""because: %(reason)s"", {'name': volume_name, 'host': hostname, 'reason': ex.get_description()}) self.delete_vlun(volume, hostname, wwn=wwn, iqn=iqn) self.delete_vlun(volume, hostname, wwn=wwn, iqn=iqn)"," VERSION = ""4.0.0"" def delete_vlun(self, volume, hostname): for vlun in vluns: if volume_name not in vlun['volumeName']: # Found another volume break else: self.delete_vlun(volume, hostname) self.delete_vlun(volume, hostname)",91,16
openstack%2Fcinder~master~Ic3c3e622410a83e4c40a95f9012ca19651bd9d01,openstack/cinder,master,Ic3c3e622410a83e4c40a95f9012ca19651bd9d01,Storwize: Fix typo in log message,MERGED,2017-10-30 18:09:54.000000000,2018-02-25 15:04:21.000000000,2017-11-02 13:02:05.000000000,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17045}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25169}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-30 18:09:54.000000000', 'files': ['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5a650de44bfd54b88da1bc7a96b4a52ffe58572d', 'message': 'Storwize: Fix typo in log message\n\nA missing space here means the message reads as\n""theallotted"".\n\nTrivialFix\n\nChange-Id: Ic3c3e622410a83e4c40a95f9012ca19651bd9d01\n'}]",0,516414,5a650de44bfd54b88da1bc7a96b4a52ffe58572d,54,37,1,4523,,,0,"Storwize: Fix typo in log message

A missing space here means the message reads as
""theallotted"".

TrivialFix

Change-Id: Ic3c3e622410a83e4c40a95f9012ca19651bd9d01
",git fetch https://review.opendev.org/openstack/cinder refs/changes/14/516414/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'],1,5a650de44bfd54b88da1bc7a96b4a52ffe58572d,, msg = (_('Mapping %(id)s prepare failed to complete within the ', msg = (_('Mapping %(id)s prepare failed to complete within the',1,1
openstack%2Fcinder~master~I8218768216e87f6fdda1dd77dd09ca2ca46111c7,openstack/cinder,master,I8218768216e87f6fdda1dd77dd09ca2ca46111c7,VMAX driver - Volume identifier issues,MERGED,2017-09-20 09:12:03.000000000,2018-02-25 15:04:15.000000000,2017-10-24 18:17:46.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23414}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26561}]","[{'number': 1, 'created': '2017-09-20 09:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/edaf9feafdbb2c3889b85e73b84bd70e21a64b2a', 'message': ""VMAX driver - Volume identifier issues\n\nWhen creating a VMAX volume through cinder, a 'volume_identifier' is set on\nthe device on the backend. This takes the form 'OS-<cinderUUID>. There are a\ncouple of issues with how this is currently being done:\n1. When the VMAX driver retrieves the volume using the 'device_id' value\nsaved in the provider location, it checks that the volume identifier matches\nOS-<cinderUUID>. However, the way this is currently being checked can cause\nan issue if the create volume operation ends up being retried in cinder -\nsometimes there can be two devices on the backend with the same volume\nidentifier, and the code may not pick up the correct device.\n2. On a deallocate operation, the volume identifier is not being unset on the\ndevice.\nThis patch rectifies these issues.\n\nChange-Id: I8218768216e87f6fdda1dd77dd09ca2ca46111c7\nCloses-Bug: 1717933\n""}, {'number': 2, 'created': '2017-09-20 09:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0cc67b570408ce8f315fbb20504e98ccb6490ff7', 'message': ""VMAX driver - Volume identifier issues\n\nWhen creating a VMAX volume through cinder, a 'volume_identifier' is set on\nthe device on the backend. This takes the form 'OS-<cinderUUID>. There are a\ncouple of issues with how this is currently being done:\n1. When the VMAX driver retrieves the volume using the 'device_id' value\nsaved in the provider location, it checks that the volume identifier matches\nOS-<cinderUUID>. However, the way this is currently being checked can cause\nan issue if the create volume operation ends up being retried in cinder -\nsometimes there can be two devices on the backend with the same volume\nidentifier, and the code may not pick up the correct device.\n2. On a deallocate operation, the volume identifier is not being unset on the\ndevice.\nThis patch rectifies these issues.\n\nChange-Id: I8218768216e87f6fdda1dd77dd09ca2ca46111c7\nCloses-Bug: 1717933\n""}, {'number': 3, 'created': '2017-09-20 20:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6aff4042664001e862a1986e7f16dedbcf1bd905', 'message': ""VMAX driver - Volume identifier issues\n\nWhen creating a VMAX volume through cinder, a 'volume_identifier' is set on\nthe device on the backend. This takes the form 'OS-<cinderUUID>. There are a\ncouple of issues with how this is currently being done:\n1. When the VMAX driver retrieves the volume using the 'device_id' value\nsaved in the provider location, it checks that the volume identifier matches\nOS-<cinderUUID>. However, the way this is currently being checked can cause\nan issue if the create volume operation ends up being retried in cinder -\nsometimes there can be two devices on the backend with the same volume\nidentifier, and the code may not pick up the correct device.\n2. On a deallocate operation, the volume identifier is not being unset on the\ndevice.\nThis patch rectifies these issues.\n\nChange-Id: I8218768216e87f6fdda1dd77dd09ca2ca46111c7\nCloses-Bug: 1717933\n""}, {'number': 4, 'created': '2017-09-22 10:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b0991c2cbabfc8ba9f3c3eea2f36c59f2176d293', 'message': ""VMAX driver - Volume identifier issues\n\nWhen creating a VMAX volume through cinder, a 'volume_identifier' is\nset on the device on the backend. This takes the form 'OS-<cinderUUID>'.\nThere are a couple of issues with how this is currently being done:\n1. When the VMAX driver retrieves the volume using the 'device_id' value\nsaved in the provider location, it checks that the volume identifier\nmatches OS-<cinderUUID>. However, the way this is currently being\nchecked can cause an issue if the create volume operation ends up being\nretried in cinder - sometimes there can be two devices on the backend\nwith the same volume identifier, and the code may not pick up the\ncorrect device.\n2. On a deallocate operation, the volume identifier is not being unset\non the device. This patch rectifies these issues.\n\nChange-Id: I8218768216e87f6fdda1dd77dd09ca2ca46111c7\nCloses-Bug: 1717933\n""}, {'number': 5, 'created': '2017-10-04 15:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/66ac92fb503154ac01fb2d77b2133d65d1f9656e', 'message': ""VMAX driver - Volume identifier issues\n\nWhen creating a VMAX volume through cinder, a 'volume_identifier' is\nset on the device on the backend. This takes the form 'OS-<cinderUUID>'.\nThere are a couple of issues with how this is currently being done:\n1. When the VMAX driver retrieves the volume using the 'device_id' value\nsaved in the provider location, it checks that the volume identifier\nmatches OS-<cinderUUID>. However, the way this is currently being\nchecked can cause an issue if the create volume operation ends up being\nretried in cinder - sometimes there can be two devices on the backend\nwith the same volume identifier, and the code may not pick up the\ncorrect device.\n2. On a deallocate operation, the volume identifier is not being unset\non the device. This patch rectifies these issues.\n\nChange-Id: I8218768216e87f6fdda1dd77dd09ca2ca46111c7\nCloses-Bug: 1717933\n""}, {'number': 6, 'created': '2017-10-10 08:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9c9550fedef772afa86dd6bf4380fee0b019b8ac', 'message': ""VMAX driver - Volume identifier issues\n\nWhen creating a VMAX volume through cinder, a 'volume_identifier' is\nset on the device on the backend. This takes the form 'OS-<cinderUUID>'.\nThere are a couple of issues with how this is currently being done:\n1. When the VMAX driver retrieves the volume using the 'device_id' value\nsaved in the provider location, it checks that the volume identifier\nmatches OS-<cinderUUID>. However, the way this is currently being\nchecked can cause an issue if the create volume operation ends up being\nretried in cinder - sometimes there can be two devices on the backend\nwith the same volume identifier, and the code may not pick up the\ncorrect device.\n2. On a deallocate operation, the volume identifier is not being unset\non the device. This patch rectifies these issues.\n\nChange-Id: I8218768216e87f6fdda1dd77dd09ca2ca46111c7\nCloses-Bug: 1717933\n""}, {'number': 7, 'created': '2017-10-18 09:52:35.000000000', 'files': ['cinder/volume/drivers/dell_emc/vmax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cbce7226bb4fa922c7bea201e942bb88487154d4', 'message': ""VMAX driver - Volume identifier issues\n\nWhen creating a VMAX volume through cinder, a 'volume_identifier' is\nset on the device on the backend. This takes the form 'OS-<cinderUUID>'.\nThere are a couple of issues with how this is currently being done:\n1. When the VMAX driver retrieves the volume using the 'device_id' value\nsaved in the provider location, it checks that the volume identifier\nmatches OS-<cinderUUID>. However, the way this is currently being\nchecked can cause an issue if the create volume operation ends up being\nretried in cinder - sometimes there can be two devices on the backend\nwith the same volume identifier, and the code may not pick up the\ncorrect device.\n2. On a deallocate operation, the volume identifier is not being unset\non the device. This patch rectifies these issues.\n\nChange-Id: I8218768216e87f6fdda1dd77dd09ca2ca46111c7\nCloses-Bug: 1717933\n""}]",6,505559,cbce7226bb4fa922c7bea201e942bb88487154d4,224,48,7,23414,,,0,"VMAX driver - Volume identifier issues

When creating a VMAX volume through cinder, a 'volume_identifier' is
set on the device on the backend. This takes the form 'OS-<cinderUUID>'.
There are a couple of issues with how this is currently being done:
1. When the VMAX driver retrieves the volume using the 'device_id' value
saved in the provider location, it checks that the volume identifier
matches OS-<cinderUUID>. However, the way this is currently being
checked can cause an issue if the create volume operation ends up being
retried in cinder - sometimes there can be two devices on the backend
with the same volume identifier, and the code may not pick up the
correct device.
2. On a deallocate operation, the volume identifier is not being unset
on the device. This patch rectifies these issues.

Change-Id: I8218768216e87f6fdda1dd77dd09ca2ca46111c7
Closes-Bug: 1717933
",git fetch https://review.opendev.org/openstack/cinder refs/changes/59/505559/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/vmax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py']",3,edaf9feafdbb2c3889b85e73b84bd70e21a64b2a,bug/1714503," founddevice_id = self.rest.check_volume_device_id( array, target_vol_name, device_id) else: LOG.info('Element name = %s', element_name) founddevice_id = self.rest.check_volume_device_id( array, device_id, element_name)"," founddevice_id = self.rest.find_volume_device_id( array, target_vol_name) else: founddevice_id = self.rest.find_volume_device_id( array, element_name) # Allow for an external app to delete the volume. if device_id and device_id != founddevice_id: founddevice_id = None",73,37
openstack%2Fcinder~master~Id8d886feca938e99df14c35b17826b24d7c2b584,openstack/cinder,master,Id8d886feca938e99df14c35b17826b24d7c2b584,Add Storwize replication group support,MERGED,2017-05-31 09:26:59.000000000,2018-02-25 15:04:13.000000000,2017-10-19 10:11:15.000000000,"[{'_account_id': 3}, {'_account_id': 5997}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10213}, {'_account_id': 10622}, {'_account_id': 11186}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12288}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13047}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 14532}, {'_account_id': 14624}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17045}, {'_account_id': 17564}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18288}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21279}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22583}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-05-31 09:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e865b1802b897701218f786c87ffe7a223a5ed80', 'message': '[WIP] Add Storwize replication group support\n\nThis patch adds consistent replication group support for\nStorwize/SVC driver.\n\nSupported operations:\n* Create replication consistency group\n* Add volume to existing replication consistency group\n* Adjust existing replication consistency group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact Implements: blueprint replication-cg-svc\n\nChange-Id: Id8d886feca938e99df14c35b17826b24d7c2b584\n'}, {'number': 2, 'created': '2017-06-20 06:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9023ccf6a7f34107f47a34fac46713c711c107e0', 'message': '[WIP] Add Storwize replication group support\n\nThis patch adds consistent replication group support for\nStorwize/SVC driver.\n\nSupported operations:\n* Create replication consistency group\n* Add volume to existing replication consistency group\n* Adjust existing replication consistency group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact Implements: blueprint replication-cg-svc\n\nChange-Id: Id8d886feca938e99df14c35b17826b24d7c2b584\n'}, {'number': 3, 'created': '2017-06-22 11:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/28a2b89c2d09c5f5833e7a2b68854b0fadc7d2c2', 'message': '[WIP] Add Storwize replication group support\n\nThis patch adds consistent replication group support for\nStorwize/SVC driver.\n\nSupported operations:\n* Create replication consistency group\n* Add volume to existing replication consistency group\n* Adjust existing replication consistency group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact Implements: blueprint replication-cg-svc\n\nChange-Id: Id8d886feca938e99df14c35b17826b24d7c2b584\n'}, {'number': 4, 'created': '2017-06-29 11:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4f5694dee8d16dc7d2c1a3d0507875f06165f45f', 'message': '[WIP] Add Storwize replication group support\n\nThis patch adds consistent replication group support for\nStorwize/SVC driver.\n\nSupported operations:\n* Create replication consistency group\n* Add volume to existing replication consistency group\n* Adjust existing replication consistency group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact Implements: blueprint replication-cg-svc\n\nChange-Id: Id8d886feca938e99df14c35b17826b24d7c2b584\n'}, {'number': 5, 'created': '2017-07-31 13:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/59a5a4be0ba2dbee0e8119923ff162346b604a4b', 'message': '[WIP] Add Storwize replication group support\n\nThis patch adds consistent replication group support for\nStorwize/SVC driver.\n\nSupported operations:\n* Create replication consistency group\n* Add volume to existing replication consistency group\n* Adjust existing replication consistency group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact Implements: blueprint replication-cg-svc\n\nChange-Id: Id8d886feca938e99df14c35b17826b24d7c2b584\n'}, {'number': 6, 'created': '2017-07-31 13:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b9ee1d87c371f4002b4015107681c6a0cbe36902', 'message': 'Add Storwize replication group support\n\nThis patch adds consistent replication group support for\nStorwize/SVC driver.\n\nSupported operations:\n* Create replication consistency group\n* Add volume to existing replication consistency group\n* Adjust existing replication consistency group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact Implements: blueprint replication-cg-svc\n\nChange-Id: Id8d886feca938e99df14c35b17826b24d7c2b584\n'}, {'number': 7, 'created': '2017-08-01 08:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/715f5ea1f6ff83980cc06ec9f91c7279b56fcb1e', 'message': 'Add Storwize replication group support\n\nThis patch adds consistent replication group support for\nStorwize/SVC driver.\n\nSupported operations:\n* Create replication consistency group\n* Add volume to existing replication consistency group\n* Adjust existing replication consistency group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact Implements: blueprint replication-cg-svc\n\nChange-Id: Id8d886feca938e99df14c35b17826b24d7c2b584\n'}, {'number': 8, 'created': '2017-08-01 12:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3421eb62f0dc9a6e6d95af705e482b76d901eb9e', 'message': 'Add Storwize replication group support\n\nThis patch adds consistent replication group support for\nStorwize/SVC driver.\n\nSupported operations:\n* Create replication consistency group\n* Add volume to existing replication consistency group\n* Adjust existing replication consistency group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact Implements: blueprint replication-cg-svc\n\nChange-Id: Id8d886feca938e99df14c35b17826b24d7c2b584\n'}, {'number': 9, 'created': '2017-08-02 11:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf88dbea0e13a74685aed34afee7229fb7301c92', 'message': 'Add Storwize replication group support\n\nThis patch adds consistent replication group support for\nStorwize/SVC driver.\n\nSupported operations:\n* Create replication consistency group\n* Add volume to existing replication consistency group\n* Adjust existing replication consistency group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact Implements: blueprint replication-cg-svc\n\nChange-Id: Id8d886feca938e99df14c35b17826b24d7c2b584\n'}, {'number': 10, 'created': '2017-08-07 11:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1524013d48180ce67edf662c097948fdff7e41a4', 'message': 'Add Storwize replication group support\n\nThis patch adds consistent replication group support for\nStorwize/SVC driver.\n\nSupported operations:\n* Create replication consistency group\n* Add volume to existing replication consistency group\n* Adjust existing replication consistency group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact Implements: blueprint replication-cg-svc\n\nChange-Id: Id8d886feca938e99df14c35b17826b24d7c2b584\n'}, {'number': 11, 'created': '2017-08-28 13:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb258337e55acd4f1b6336cc5af1b97f7bccc3e8', 'message': 'Add Storwize replication group support\n\nThis patch adds consistent replication group support for\nStorwize/SVC driver.\n\nSupported operations:\n* Create replication consistency group\n* Add volume to existing replication consistency group\n* Adjust existing replication consistency group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact Implements: blueprint replication-cg-svc\n\nChange-Id: Id8d886feca938e99df14c35b17826b24d7c2b584\n'}, {'number': 12, 'created': '2017-08-29 11:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2e7d1cf34c04acc70bbcdf1e3a7b7c60c317fde4', 'message': 'Add Storwize replication group support\n\nThis patch adds consistent replication group support for\nStorwize/SVC driver.\n\nSupported operations:\n* Create replication consistency group\n* Add volume to existing replication consistency group\n* Adjust existing replication consistency group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact Implements: blueprint replication-cg-svc\n\nChange-Id: Id8d886feca938e99df14c35b17826b24d7c2b584\n'}, {'number': 13, 'created': '2017-09-01 08:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ddeb78e17a80c116ad29250c8e898e62f4679ac1', 'message': 'Add Storwize replication group support\n\nThis patch adds consistent replication group support for\nStorwize/SVC driver.\n\nSupported operations:\n* Create replication consistency group\n* Add volume to existing replication consistency group\n* Adjust existing replication consistency group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact Implements: blueprint replication-cg-svc\n\nChange-Id: Id8d886feca938e99df14c35b17826b24d7c2b584\n'}, {'number': 14, 'created': '2017-10-09 11:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/78868bd330d5bdeacf2857b13bdef78ae87f5728', 'message': 'Add Storwize replication group support\n\nThis patch adds consistent replication group support for\nStorwize/SVC driver.\n\nSupported operations:\n* Create replication consistency group\n* Add volume to existing replication consistency group\n* Adjust existing replication consistency group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact Implements: blueprint replication-cg-svc\n\nChange-Id: Id8d886feca938e99df14c35b17826b24d7c2b584\n'}, {'number': 15, 'created': '2017-10-10 11:14:17.000000000', 'files': ['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_iscsi.py', 'releasenotes/notes/storwize-cg-replication-b038ff0d39fe909f.yaml', 'cinder/volume/drivers/ibm/storwize_svc/replication.py', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_fc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_const.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/24e4c3ea684c7d418c2de5ac8c46d175819a4b42', 'message': 'Add Storwize replication group support\n\nThis patch adds consistent replication group support for\nStorwize/SVC driver.\n\nSupported operations:\n* Create replication consistency group\n* Add volume to existing replication consistency group\n* Adjust existing replication consistency group\n* Enable replication on group\n* Disable replication on group\n* Fail over replication group back and forth\n\nDocImpact Implements: blueprint replication-cg-svc\n\nChange-Id: Id8d886feca938e99df14c35b17826b24d7c2b584\n'}]",119,469394,24e4c3ea684c7d418c2de5ac8c46d175819a4b42,502,65,15,17045,,,0,"Add Storwize replication group support

This patch adds consistent replication group support for
Storwize/SVC driver.

Supported operations:
* Create replication consistency group
* Add volume to existing replication consistency group
* Adjust existing replication consistency group
* Enable replication on group
* Disable replication on group
* Fail over replication group back and forth

DocImpact Implements: blueprint replication-cg-svc

Change-Id: Id8d886feca938e99df14c35b17826b24d7c2b584
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/469394/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_iscsi.py', 'releasenotes/notes/storwize-cg-replication-b038ff0d39fe909f.yaml', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_fc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_const.py']",6,e865b1802b897701218f786c87ffe7a223a5ed80,bp/replication-cg-svc,DEFAULT_RCCG_TIMEOUT = 60 * 30 DEFAULT_RCCG_INTERVAL = 2 RCCG_PREFIX = 'rccg-' ,,516,41
openstack%2Fcinder~stable%2Fpike~Ifb14e583723c87de7e83cdf0e5409dc61e8955d8,openstack/cinder,stable/pike,Ifb14e583723c87de7e83cdf0e5409dc61e8955d8,VMAX doc - incorrect info on Hybrids in Pike,MERGED,2018-02-06 14:11:46.000000000,2018-02-25 15:04:06.000000000,2018-02-07 03:47:07.000000000,"[{'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-06 14:11:46.000000000', 'files': ['doc/source/configuration/block-storage/drivers/emc-vmax-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/114c6582809646f5be396e2912140449180ccbd0', 'message': 'VMAX doc - incorrect info on Hybrids in Pike\n\nVMAX driver will support VMAX hybrids beyond Rocky.  This has\nalready been updated in master but is part of the full Queens\ndocumentation which is not relevant for Pike.\n\nChange-Id: Ifb14e583723c87de7e83cdf0e5409dc61e8955d8\nCloses-Bug: #1747656\n'}]",0,541282,114c6582809646f5be396e2912140449180ccbd0,19,15,1,12670,,,0,"VMAX doc - incorrect info on Hybrids in Pike

VMAX driver will support VMAX hybrids beyond Rocky.  This has
already been updated in master but is part of the full Queens
documentation which is not relevant for Pike.

Change-Id: Ifb14e583723c87de7e83cdf0e5409dc61e8955d8
Closes-Bug: #1747656
",git fetch https://review.opendev.org/openstack/cinder refs/changes/82/541282/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/emc-vmax-driver.rst'],1,114c6582809646f5be396e2912140449180ccbd0,bug/1747656,"Solutions Enabler 8.4.0.7 or later, and Unisphere for VMAX 8.4.0.15 or later","Solutions Enabler 8.4.0.12 or later, and Unisphere for VMAX 8.4.0.12 or later#. Please note that the Pike release of VMAX cinder drivers will be the last release which supports Hybrid VMAX3 Arrays. ",1,4
openstack%2Fcinder~master~Id0d3b06b2debad70d36c253a3c1ee9d561a22e64,openstack/cinder,master,Id0d3b06b2debad70d36c253a3c1ee9d561a22e64,Simplify keystone password assertions,MERGED,2018-01-24 15:44:22.000000000,2018-02-25 15:03:53.000000000,2018-01-25 08:38:01.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12176}, {'_account_id': 12822}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-24 15:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2df5d2a612edfed9d71747a428d82af2f48552c0', 'message': ""Simply keystone password assertions\n\nWith an update to keystoneauth1 > 3.3.0, some of the arguments\nto the password plugin change. Some of our unit tests were a\nlittle too zealous in checking the expected parameters that get\npassed in to this.\n\nSince we just need to verify that the password plugin is being\nused, and we don't necessarily care about each of the values\nbeing passed, just assert that the password plugin was called\nand keep it simple.\n\nChange-Id: Id0d3b06b2debad70d36c253a3c1ee9d561a22e64\n""}, {'number': 2, 'created': '2018-01-24 15:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a09790ddd1dd204c707243e097d331497dee9ad0', 'message': ""Simplify keystone password assertions\n\nWith an update to keystoneauth1 > 3.3.0, some of the arguments\nto the password plugin change. Some of our unit tests were a\nlittle too zealous in checking the expected parameters that get\npassed in to this.\n\nSince we just need to verify that the password plugin is being\nused, and we don't necessarily care about each of the values\nbeing passed, just assert that the password plugin was called\nand keep it simple.\n\nChange-Id: Id0d3b06b2debad70d36c253a3c1ee9d561a22e64\n""}, {'number': 3, 'created': '2018-01-24 16:10:39.000000000', 'files': ['cinder/tests/unit/compute/test_nova.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a4b427c5e8a0bcd59c21d821c9a305cf1a54b159', 'message': ""Simplify keystone password assertions\n\nWith an update to keystoneauth1 > 3.3.0, some of the arguments\nto the password plugin change. Some of our unit tests were a\nlittle too zealous in checking the expected parameters that get\npassed in to this.\n\nSince we just need to verify that the password plugin is being\nused, and we don't necessarily care about each of the values\nbeing passed, just assert that the password plugin was called,\ncheck some specific values, and keep it simple.\n\nChange-Id: Id0d3b06b2debad70d36c253a3c1ee9d561a22e64\n""}]",3,537427,a4b427c5e8a0bcd59c21d821c9a305cf1a54b159,38,28,3,11904,,,0,"Simplify keystone password assertions

With an update to keystoneauth1 > 3.3.0, some of the arguments
to the password plugin change. Some of our unit tests were a
little too zealous in checking the expected parameters that get
passed in to this.

Since we just need to verify that the password plugin is being
used, and we don't necessarily care about each of the values
being passed, just assert that the password plugin was called,
check some specific values, and keep it simple.

Change-Id: Id0d3b06b2debad70d36c253a3c1ee9d561a22e64
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/537427/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/compute/test_nova.py'],1,2df5d2a612edfed9d71747a428d82af2f48552c0,ks_auth, p_password_plugin.assert_called_once() p_password_plugin.assert_called_once() p_password_plugin.assert_called_once()," p_password_plugin.assert_called_once_with( auth_url='http://keystonehost:5000', default_domain_id=None, default_domain_name=None, domain_id=None, domain_name=None, password='strongpassword', project_domain_id=None, project_domain_name=None, project_id=None, project_name=None, trust_id=None, user_domain_id=None, user_domain_name=None, user_id=None, username='adminuser' ) p_password_plugin.assert_called_once_with( auth_url='http://privatekeystonehost:5000', default_domain_id=None, default_domain_name=None, domain_id=None, domain_name=None, password='strongpassword', project_domain_id=None, project_domain_name=None, project_id=None, project_name=None, trust_id=None, user_domain_id=None, user_domain_name=None, user_id=None, username='adminuser' ) p_password_plugin.assert_called_once_with( auth_url='http://keystonehost:5000', default_domain_id=None, default_domain_name=None, domain_id=None, domain_name=None, password='strongpassword', project_domain_id=None, project_domain_name=None, project_id=None, project_name=None, trust_id=None, user_domain_id=None, user_domain_name=None, user_id=None, username='adminuser' )",3,24
openstack%2Fcinder~stable%2Fpike~I18b890ab1a73e0e7e9e626c7f896486fdd1f6d75,openstack/cinder,stable/pike,I18b890ab1a73e0e7e9e626c7f896486fdd1f6d75,Fix available space checking for image conversion,MERGED,2018-01-03 16:47:22.000000000,2018-02-25 15:03:47.000000000,2018-01-27 01:36:59.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21279}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-03 16:47:22.000000000', 'files': ['cinder/image/image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fb7d962937b42d53f9bcd4eda60afa7db2997b7e', 'message': 'Fix available space checking for image conversion\n\nCinder checks if there is enough free space to convert image from qcow\nto raw format before uploading it into the volume. This patch fixes\nthe issue when we try to compare GiB to KiB.\n\nChange-Id: I18b890ab1a73e0e7e9e626c7f896486fdd1f6d75\nCloses-Bug: #1737551\n(cherry picked from commit 66cc0d2429bddf0c983c6969a70b5cd1ea41e086)\nConflicts:\n\tcinder/image/image_utils.py\n'}]",0,530966,fb7d962937b42d53f9bcd4eda60afa7db2997b7e,45,21,1,4523,,,0,"Fix available space checking for image conversion

Cinder checks if there is enough free space to convert image from qcow
to raw format before uploading it into the volume. This patch fixes
the issue when we try to compare GiB to KiB.

Change-Id: I18b890ab1a73e0e7e9e626c7f896486fdd1f6d75
Closes-Bug: #1737551
(cherry picked from commit 66cc0d2429bddf0c983c6969a70b5cd1ea41e086)
Conflicts:
	cinder/image/image_utils.py
",git fetch https://review.opendev.org/openstack/cinder refs/changes/66/530966/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/image/image_utils.py'],1,fb7d962937b42d53f9bcd4eda60afa7db2997b7e,bug/1737551," # image conversion. check_available_space(dest, data.virtual_size, image_id)"," # image convertion. check_available_space(dest, virt_size, image_id)",2,2
openstack%2Fcinder~master~I678986e557755c2fe4183927c17342e430f5df0d,openstack/cinder,master,I678986e557755c2fe4183927c17342e430f5df0d,Enable fail back in SolidFire driver,MERGED,2017-12-19 23:30:57.000000000,2018-02-25 15:03:44.000000000,2017-12-23 16:26:47.000000000,"[{'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-19 23:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/83eaa3abb4aa1ced0f906041af63719a5788086e', 'message': 'Enable fail back in SolidFire driver\n\nThis change fixes up a few things in the SolidFire driver to enable the\nability to ""fail back"" to the original cluster in a replication scenario.\n\nWe\'re still assuming a cluster-wide fail over, but now an admin has the\nability to specify subsequent `cinder failover-host` calls to switch\nback and forth between their SF clusters.\n\nThis change promotes the target on a fail over and also now attempts to\nset up replication back to the original src  as well (assuming the\noriginal is available and not a puddle of melted goo).  This means that\nwrites to the new back end will be replicated back to the src, so if a\nuser so chooses they can fail back to the original and have their new\ndata.\n\nChange-Id: I678986e557755c2fe4183927c17342e430f5df0d\n'}, {'number': 2, 'created': '2017-12-21 22:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fc56a65fdad375c773781724c2174fbcad055b4c', 'message': 'Enable fail back in SolidFire driver\n\nThis change fixes up a few things in the SolidFire driver to enable the\nability to ""fail back"" to the original cluster in a replication scenario.\n\nWe\'re still assuming a cluster-wide fail over, but now an admin has the\nability to specify subsequent `cinder failover-host` calls to switch\nback and forth between their SF clusters.\n\nThis change promotes the target on a fail over and also now attempts to\nset up replication back to the original src  as well (assuming the\noriginal is available and not a puddle of melted goo).  This means that\nwrites to the new back end will be replicated back to the src, so if a\nuser so chooses they can fail back to the original and have their new\ndata.\n\nChange-Id: I678986e557755c2fe4183927c17342e430f5df0d\n'}, {'number': 3, 'created': '2017-12-22 00:27:46.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'releasenotes/notes/add_replication_failback_to_solidfire-82668c071f4fa91d.yaml', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e7498ca5bdd6e16b46e8a6d17dbc7492f6e710e9', 'message': 'Enable fail back in SolidFire driver\n\nThis change fixes up a few things in the SolidFire driver to enable the\nability to ""fail back"" to the original cluster in a replication scenario.\n\nWe\'re still assuming a cluster-wide fail over, but now an admin has the\nability to specify subsequent `cinder failover-host` calls to switch\nback and forth between their SF clusters.\n\nThis change promotes the target on a fail over and also now attempts to\nset up replication back to the original src  as well (assuming the\noriginal is available and not a puddle of melted goo).  This means that\nwrites to the new back end will be replicated back to the src, so if a\nuser so chooses they can fail back to the original and have their new\ndata.\n\nChange-Id: I678986e557755c2fe4183927c17342e430f5df0d\n'}]",0,529182,e7498ca5bdd6e16b46e8a6d17dbc7492f6e710e9,61,34,3,2243,,,0,"Enable fail back in SolidFire driver

This change fixes up a few things in the SolidFire driver to enable the
ability to ""fail back"" to the original cluster in a replication scenario.

We're still assuming a cluster-wide fail over, but now an admin has the
ability to specify subsequent `cinder failover-host` calls to switch
back and forth between their SF clusters.

This change promotes the target on a fail over and also now attempts to
set up replication back to the original src  as well (assuming the
original is available and not a puddle of melted goo).  This means that
writes to the new back end will be replicated back to the src, so if a
user so chooses they can fail back to the original and have their new
data.

Change-Id: I678986e557755c2fe4183927c17342e430f5df0d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/82/529182/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'releasenotes/notes/add_replication_failback_to_solidfire-82668c071f4fa91d.yaml', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py']",3,83eaa3abb4aa1ced0f906041af63719a5788086e,enable_failback_for_solidfire, sfv.active_cluster['svip'] = configured_svip fake_type = {'extra_specs': {'replication_enabled': '<is> True'}}, sfv.active_cluster_info['svip'] = configured_svip fake_type = {'extra_specs': {'replication': 'enabled'}},187,48
openstack%2Fcinder~master~Ice541e231eca54318a71c7994a0bf30d1c40f5d0,openstack/cinder,master,Ice541e231eca54318a71c7994a0bf30d1c40f5d0,Fix migration Invalid volume message,MERGED,2017-12-18 17:24:05.000000000,2018-02-25 15:03:31.000000000,2017-12-20 14:11:39.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-12-18 17:24:05.000000000', 'files': ['cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/313a212202cf30426f12b319c96134c480be1693', 'message': 'Fix migration Invalid volume message\n\nThis currently prints the volume id as a\ndict rather than the volume id.\n\nMake it print the message with just the id.\n\nChange-Id: Ice541e231eca54318a71c7994a0bf30d1c40f5d0\n'}]",0,528767,313a212202cf30426f12b319c96134c480be1693,34,30,1,4523,,,0,"Fix migration Invalid volume message

This currently prints the volume id as a
dict rather than the volume id.

Make it print the message with just the id.

Change-Id: Ice541e231eca54318a71c7994a0bf30d1c40f5d0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/67/528767/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/api.py'],1,313a212202cf30426f12b319c96134c480be1693,, 'than the current one') % volume.id, 'than the current one') % {'vol_id': volume.id},1,1
openstack%2Fcinder~master~I6ad364fa3713b9f41b56b4b3662634cfb02ef365,openstack/cinder,master,I6ad364fa3713b9f41b56b4b3662634cfb02ef365,VMware: Bump driver version,MERGED,2017-12-08 02:31:07.000000000,2018-02-25 15:03:22.000000000,2017-12-12 22:20:50.000000000,"[{'_account_id': 1736}, {'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-12-08 02:31:07.000000000', 'files': ['cinder/volume/drivers/vmware/vmdk.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f857a2c66f1d1af85fc124f423c9889063f4a6ab', 'message': 'VMware: Bump driver version\n\nUpdating the vmdk driver version to reflect various\nenhancements made in the current release.\n\nChange-Id: I6ad364fa3713b9f41b56b4b3662634cfb02ef365\n'}]",0,526570,f857a2c66f1d1af85fc124f423c9889063f4a6ab,43,39,1,9171,,,0,"VMware: Bump driver version

Updating the vmdk driver version to reflect various
enhancements made in the current release.

Change-Id: I6ad364fa3713b9f41b56b4b3662634cfb02ef365
",git fetch https://review.opendev.org/openstack/cinder refs/changes/70/526570/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/vmware/vmdk.py'],1,f857a2c66f1d1af85fc124f423c9889063f4a6ab,vmdk_version, # 3.0.0 - vCenter storage profile ID caching # support for cloning attached volume # optimize volume creation from image for vCenter datastore based # glance backend # add 'managed by OpenStack Cinder' info to volumes in the backend # support for vSphere template as volume snapshot format # support for snapshot of attached volumes # add storage profile ID to connection info # support for revert-to-snapshot # improve scalability of querying volumes in backend (bug 1600754) VERSION = '3.0.0', VERSION = '2.0.0',11,1
openstack%2Fcinder~stable%2Focata~I81dc6f1ac5855b21c10572797fd45a6b38641112,openstack/cinder,stable/ocata,I81dc6f1ac5855b21c10572797fd45a6b38641112,"Revert ""Tests: Fail if oslo.versionedobjects issues Invalid UUID warnings""",MERGED,2017-11-30 12:46:32.000000000,2018-02-25 15:03:21.000000000,2017-12-04 15:06:43.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15831}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 23913}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-30 12:46:32.000000000', 'files': ['cinder/test.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/23377ac9a84f57c463653efc4b90f789d6f5cf3d', 'message': 'Revert ""Tests: Fail if oslo.versionedobjects issues Invalid UUID warnings""\n\nThis is currently causing unit test failures since\npymysql _show_warnings calls\n    warnings.warn(err.Warning(*w[1:3]), stacklevel=4)\nand this code assumes that the warnings are strings.\n\nThis reverts commit ed6d50bed642b01d005563866ab9f211632cff5b.\n\nChange-Id: I81dc6f1ac5855b21c10572797fd45a6b38641112\n(cherry picked from commit cc6c5b10867544ec0e2cbc73802ec8ee6213bc7a)\n'}]",0,524161,23377ac9a84f57c463653efc4b90f789d6f5cf3d,27,20,1,11904,,,0,"Revert ""Tests: Fail if oslo.versionedobjects issues Invalid UUID warnings""

This is currently causing unit test failures since
pymysql _show_warnings calls
    warnings.warn(err.Warning(*w[1:3]), stacklevel=4)
and this code assumes that the warnings are strings.

This reverts commit ed6d50bed642b01d005563866ab9f211632cff5b.

Change-Id: I81dc6f1ac5855b21c10572797fd45a6b38641112
(cherry picked from commit cc6c5b10867544ec0e2cbc73802ec8ee6213bc7a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/61/524161/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/test.py'],1,23377ac9a84f57c463653efc4b90f789d6f5cf3d,,," self._disallow_invalid_uuids() def _disallow_invalid_uuids(self): def catch_uuid_warning(message, *args, **kwargs): ovo_message = ""invalid UUID. Using UUIDFields with invalid UUIDs "" \ ""is no longer supported"" if ovo_message in message: raise AssertionError(message) p = mock.patch(""warnings.warn"", side_effect=catch_uuid_warning) p.start() ",0,12
openstack%2Fcinder~master~Ibcba92f7cdb2506f3b2f31baa2fca6c696ff57a4,openstack/cinder,master,Ibcba92f7cdb2506f3b2f31baa2fca6c696ff57a4,Fix 'KeyError' when 'with_count' is not specified,MERGED,2017-11-25 07:28:34.000000000,2018-02-25 15:03:19.000000000,2017-11-28 02:42:33.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12176}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-25 07:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4960850fcf9443a996db3832e002fe669974d71e', 'message': ""Fix 'KeyError' when 'with_count' is not specified\n\nPop method will raise KeyError if the key\ndoes not exist. Add the default value to cover\nthe case when 'with_count' is not specified.\n\nChange-Id: Ibcba92f7cdb2506f3b2f31baa2fca6c696ff57a4\n""}, {'number': 2, 'created': '2017-11-25 08:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/515e5de21a585640904e174ef47de49e4e8db5b3', 'message': ""Fix 'KeyError' when 'with_count' is not specified\n\nPop method will raise KeyError if the key\ndoes not exist. Fix this by ensuring 'with_count'\nexists before parsing the string value.\n\nChange-Id: Ibcba92f7cdb2506f3b2f31baa2fca6c696ff57a4\n""}, {'number': 3, 'created': '2017-11-28 00:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3692471f22fea9d65d57179572f3d10f32c3aef9', 'message': ""Fix 'KeyError' when 'with_count' is not specified\n\nPop method will raise KeyError if the key\ndoes not exist. Fix this by ensuring 'with_count'\nexists before parsing the string value.\n\nChange-Id: Ibcba92f7cdb2506f3b2f31baa2fca6c696ff57a4\n""}, {'number': 4, 'created': '2017-11-28 01:00:15.000000000', 'files': ['cinder/api/v3/volumes.py', 'cinder/api/v3/snapshots.py', 'cinder/api/contrib/backups.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5b3e809c147a59971260f35f41510c20acaed3b4', 'message': ""Fix 'KeyError' when 'with_count' is not specified\n\nPop method will raise KeyError if the key\ndoes not exist. Fix this by ensuring 'with_count'\nexists before parsing the string value.\n\nChange-Id: Ibcba92f7cdb2506f3b2f31baa2fca6c696ff57a4\n""}]",2,522917,5b3e809c147a59971260f35f41510c20acaed3b4,69,32,4,23083,,,0,"Fix 'KeyError' when 'with_count' is not specified

Pop method will raise KeyError if the key
does not exist. Fix this by ensuring 'with_count'
exists before parsing the string value.

Change-Id: Ibcba92f7cdb2506f3b2f31baa2fca6c696ff57a4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/17/522917/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/v3/volumes.py', 'cinder/api/contrib/backups.py', 'cinder/api/v3/snapshots.py']",3,4960850fcf9443a996db3832e002fe669974d71e,bug/fix_count_error," search_opts.pop('with_count', None)", search_opts.pop('with_count'),3,3
openstack%2Fcinder~master~I87eef108a6315d630ce78b41bec6543e995e76af,openstack/cinder,master,I87eef108a6315d630ce78b41bec6543e995e76af,Imported Translations from Zanata,MERGED,2017-11-21 06:14:31.000000000,2018-02-25 15:03:17.000000000,2017-11-21 12:12:01.000000000,"[{'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 14624}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-21 06:14:31.000000000', 'files': ['cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b07570360ce1519e205b2cc383fbe9a254ffc39e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I87eef108a6315d630ce78b41bec6543e995e76af\n'}]",0,521720,b07570360ce1519e205b2cc383fbe9a254ffc39e,36,29,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I87eef108a6315d630ce78b41bec6543e995e76af
",git fetch https://review.opendev.org/openstack/cinder refs/changes/20/521720/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder.po']",11,b07570360ce1519e205b2cc383fbe9a254ffc39e,zanata/translations,"""Project-Id-Version: cinder 12.0.0.0b2.dev197\n""""POT-Creation-Date: 2017-11-21 04:03+0000\n""#, python-format msgid """" ""Unable to retype: Current action needs volume-copy, it is not allowed when "" ""new type is replication. Volume = %s"" msgstr """" ""Nezle petypovat: Souasn innost vyaduje kopii svazku, nen povoleno, "" ""pokud je nov typ replikace. Svazek = %s"" msgid ""create_host: No initiators or wwpns supplied."" msgstr ""Vytvoen hostitele: Nepedny dn zavade nebo wwpns."" ","""Project-Id-Version: cinder 11.0.0.0rc2.dev468\n""""POT-Creation-Date: 2017-10-23 05:32+0000\n""msgid ""API version could not be determined."" msgstr ""Nelze zjistit verzi API."" msgid """" ""Back-end QoS specs are not supported on this storage family and ONTAP "" ""version."" msgstr """" ""Specifikace QoS podprn vrstvy nejsou podporovny u tohoto druhu loi a "" ""verze ONTAP."" msgid ""Data ONTAP API version could not be determined."" msgstr ""Nelze zjistit verzi API Data ONTAP."" msgid ""Data ONTAP operating in 7-Mode does not support QoS policy groups."" msgstr ""Data ONTAP pracuje v reimu 7, kter nepodporuje skupiny zsad QoS."" msgid ""No storage path found for export path %s"" msgstr ""Nenalezena dn cesta loit pro cestu exportu %s"" #, python-formatmsgid ""QoS specs are not supported on this storage family and ONTAP version."" msgstr """" ""Specifikace QoS nejsou podporovny u tohoto druhu loi a verze ONTAP."" msgid """" ""Setting LUN QoS policy group is not supported on this storage family and "" ""ONTAP version."" msgstr """" ""Nastaven skupin zsad QoS LUN nen podporovno u tohoto druhu loi a "" ""verze ONTAP."" msgid """" ""Setting file qos policy group is not supported on this storage family and "" ""ontap version."" msgstr """" ""Nastaven souboru skupiny zsad QoS nen podporovno u tohoto druhu loi "" ""a verze ONTAP."" msgid """" ""Unsupported Data ONTAP version. Data ONTAP version 7.3.1 and above is "" ""supported."" msgstr ""Nepodporovan verze Data ONTAP. Podporovan jsou verze 7.3.1 a vy."" msgid """" ""flashsystem_multihostmap_enabled is set to False, not allow multi host "" ""mapping. CMMVC6071E The VDisk-to-host mapping was not created because the "" ""VDisk is already mapped to a host."" msgstr """" ""flashsystem_multihostmap_enabled je nastaven na False, neumoujc mapovn "" ""vce hostitel. CMMVC6071E, mapovn virtulnho disku na hostitele nebylo "" ""vytvoeno protoe disk k hostiteli ji je namapovn."" ",239,662
openstack%2Fcinder~stable%2Fpike~I87a287f5db912e9aeaa401871178c49414098d06,openstack/cinder,stable/pike,I87a287f5db912e9aeaa401871178c49414098d06,Fix backup-import error when the deleted record in the same db,MERGED,2017-10-20 00:54:38.000000000,2018-02-25 15:03:13.000000000,2017-10-27 02:49:12.000000000,"[{'_account_id': 1736}, {'_account_id': 10068}, {'_account_id': 11904}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-10-20 00:54:38.000000000', 'files': ['cinder/backup/api.py', 'cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d4c923345d5832dbc6c512f13b85d5c4e3fd4682', 'message': 'Fix backup-import error when the deleted record in the same db\n\nIf we revive the deleted backup record, cinder-api will raise a\nDBDuplicateEntry error, this patch will allow user to import the deleted\nrecord either in the same db or not.\n\nChange-Id: I87a287f5db912e9aeaa401871178c49414098d06\nCloses-Bug: #1696361\n(cherry picked from commit ea5e4f3945714c9c21ae27468288dea36ab4e07d)\n'}]",0,513572,d4c923345d5832dbc6c512f13b85d5c4e3fd4682,16,12,1,26567,,,0,"Fix backup-import error when the deleted record in the same db

If we revive the deleted backup record, cinder-api will raise a
DBDuplicateEntry error, this patch will allow user to import the deleted
record either in the same db or not.

Change-Id: I87a287f5db912e9aeaa401871178c49414098d06
Closes-Bug: #1696361
(cherry picked from commit ea5e4f3945714c9c21ae27468288dea36ab4e07d)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/72/513572/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/api.py', 'cinder/db/sqlalchemy/api.py']",2,d4c923345d5832dbc6c512f13b85d5c4e3fd4682,bug/1696361-stable/pike, conditions = [model.id == resource_id] if 'no' == context.read_deleted: conditions.append(~model.deleted)," conditions = [model.id == resource_id, ~model.deleted]",9,5
openstack%2Fcinder~master~I1c3ee6ad21bd27a5ef7f6691ddd8dde25e9c4c01,openstack/cinder,master,I1c3ee6ad21bd27a5ef7f6691ddd8dde25e9c4c01,Clean up docs landing page,MERGED,2017-10-03 19:07:07.000000000,2018-02-25 15:03:12.000000000,2017-10-04 22:27:39.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-03 19:07:07.000000000', 'files': ['doc/source/configuration/block-storage/schedulers.rst', 'doc/source/index.rst', 'doc/source/configuration/block-storage/scheduler-filters.rst', 'doc/source/configuration/block-storage/scheduler-weights.rst', 'doc/source/cli/index.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/eca5f769270f6acf4d9f384a03a13ee3fb5b8148', 'message': ""Clean up docs landing page\n\nReorganizes and cleans up the docs landing page so viewers eyes don't\nimmediately start bleeding. Also tries to simplify things and put them\nin a more logical and consumable order.\n\nChange-Id: I1c3ee6ad21bd27a5ef7f6691ddd8dde25e9c4c01\n""}]",0,509253,eca5f769270f6acf4d9f384a03a13ee3fb5b8148,33,28,1,11904,,,0,"Clean up docs landing page

Reorganizes and cleans up the docs landing page so viewers eyes don't
immediately start bleeding. Also tries to simplify things and put them
in a more logical and consumable order.

Change-Id: I1c3ee6ad21bd27a5ef7f6691ddd8dde25e9c4c01
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/509253/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/block-storage/schedulers.rst', 'doc/source/index.rst', 'doc/source/configuration/block-storage/scheduler-filters.rst', 'doc/source/configuration/block-storage/scheduler-weights.rst', 'doc/source/cli/index.rst']",5,eca5f769270f6acf4d9f384a03a13ee3fb5b8148,docs_cleanup,================================ Command-Line Interface Reference ================================ .. toctree:: :maxdepth: 1 cli-manage-volumes cli-set-quotas cli-cinder-quotas cli-cinder-scheduling ,,59,77
openstack%2Fcinder~master~Ia26eebe7b5777c5a72c6407de242e683683d94dc,openstack/cinder,master,Ia26eebe7b5777c5a72c6407de242e683683d94dc,Imported Translations from Zanata,MERGED,2018-02-18 06:25:35.000000000,2018-02-25 15:02:58.000000000,2018-02-18 09:23:11.000000000,"[{'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-18 06:25:35.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/062d76ecfc498e74ee77837185356516df47adc8', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia26eebe7b5777c5a72c6407de242e683683d94dc\n'}]",0,545652,062d76ecfc498e74ee77837185356516df47adc8,28,24,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ia26eebe7b5777c5a72c6407de242e683683d94dc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/52/545652/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,062d76ecfc498e74ee77837185356516df47adc8,zanata/translations,"""POT-Creation-Date: 2018-02-17 14:28+0000\n""""PO-Revision-Date: 2018-02-18 12:03+0000\n""msgid ""12.0.0.0rc1-25"" msgstr ""12.0.0.0rc1-25"" ","""POT-Creation-Date: 2018-02-17 00:05+0000\n""""PO-Revision-Date: 2018-02-16 02:06+0000\n""",5,2
openstack%2Fcinder~master~Ib3cde34d9a181107c77c31c22d225dab073f37b0,openstack/cinder,master,Ib3cde34d9a181107c77c31c22d225dab073f37b0,Remove deprecated fatal_exception_format_errors option,MERGED,2018-02-14 21:42:40.000000000,2018-02-25 15:02:55.000000000,2018-02-17 11:52:03.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-14 21:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/81425a2e0e6120861268960a947c45681b5594be', 'message': 'Remove deprecated fatal_exception_format_errors option\n\nThis config option was only used for internal testing. In Queens\ntests were updated to always do this, regardless of the config\noption. This removes the option.\n\nNo release note included since this was really only an internal\nthing and mentioning there would probably just cause confusion.\n\nChange-Id: Ib3cde34d9a181107c77c31c22d225dab073f37b0\n'}, {'number': 2, 'created': '2018-02-14 23:03:27.000000000', 'files': ['cinder/opts.py', 'cinder/exception.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/948f90835b816336b9df5d192445b74096bc1c50', 'message': 'Remove deprecated fatal_exception_format_errors option\n\nThis config option was only used for internal testing. In Queens\ntests were updated to always do this, regardless of the config\noption. This removes the option.\n\nNo release note included since this was really only an internal\nthing and mentioning there would probably just cause confusion.\n\nChange-Id: Ib3cde34d9a181107c77c31c22d225dab073f37b0\n'}]",0,544704,948f90835b816336b9df5d192445b74096bc1c50,53,34,2,11904,,,0,"Remove deprecated fatal_exception_format_errors option

This config option was only used for internal testing. In Queens
tests were updated to always do this, regardless of the config
option. This removes the option.

No release note included since this was really only an internal
thing and mentioning there would probably just cause confusion.

Change-Id: Ib3cde34d9a181107c77c31c22d225dab073f37b0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/04/544704/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/exception.py'],1,81425a2e0e6120861268960a947c45681b5594be,log_format_err,,"# TODO(smcginnis) Remove in Rocky exc_log_opts = [ cfg.BoolOpt('fatal_exception_format_errors', default=False, help='Make exception message format errors fatal.', deprecated_for_removal=True, deprecated_since='12.0.0', deprecated_reason='This is only used for internal testing.'), ] CONF = cfg.CONF CONF.register_opts(exc_log_opts) ",0,13
openstack%2Fcinder~stable%2Fpike~I745062e8fbc8864e5c9d489c687ec37aca862a8f,openstack/cinder,stable/pike,I745062e8fbc8864e5c9d489c687ec37aca862a8f,Update NEC driver configuration document for Pike,MERGED,2018-01-26 08:09:14.000000000,2018-02-25 15:02:44.000000000,2018-02-02 06:57:18.000000000,"[{'_account_id': 11904}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 23885}, {'_account_id': 24815}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-26 08:09:14.000000000', 'files': ['doc/source/configuration/block-storage/drivers/nec-storage-m-series-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0dfda7ef70aa8a29e81bb3974fff538316aa5816', 'message': 'Update NEC driver configuration document for Pike\n\nAdded a step for creating control volumes to the initial setup\nprocedure.\n\nChange-Id: I745062e8fbc8864e5c9d489c687ec37aca862a8f\nPartial-Bug: #1745549\n'}]",0,538174,0dfda7ef70aa8a29e81bb3974fff538316aa5816,19,14,1,23885,,,0,"Update NEC driver configuration document for Pike

Added a step for creating control volumes to the initial setup
procedure.

Change-Id: I745062e8fbc8864e5c9d489c687ec37aca862a8f
Partial-Bug: #1745549
",git fetch https://review.opendev.org/openstack/cinder refs/changes/74/538174/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/nec-storage-m-series-driver.rst'],1,0dfda7ef70aa8a29e81bb3974fff538316aa5816,bug/1745549," #. Create control volumes * Create control volumes for each controller node. (iSMcfg ldbind) #. Create LD Sets with setting multi-target mode on for each controller and compute nodes. (iSMcfg addldset) #. For each node, register the initiator name (/etc/iscsi/initiatorname.iscsi) to LD set for the node. (iSMcfg addldsetinitiator) #. For each controller node, add the control volume created above to LD set for the node. (iSMcfg addldsetld) #. Create LD Sets for each controller and compute nodes. (iSMcfg addldset) #. For each node, register WWPNs (/sys/class/fc_host/hostX/port_name) to LD set for the node. (iSMcfg addldsetpath) #. For each controller node, add the control volume created above to LD set for the node. (iSMcfg addldsetld)", #. Create a LD Set with setting multi-target mode on. (iSMcfg addldset) #. Register initiator names of each node. (iSMcfg addldsetinitiator) #. Create a LD Set. (iSMcfg addldset) #. Register WWPNs of each node. (iSMcfg addldsetpath),15,4
openstack%2Fcinder~master~I1db2771f7c970341f62271a857795d413a506a34,openstack/cinder,master,I1db2771f7c970341f62271a857795d413a506a34,ScaleIO: Enable multiattach for volumes,MERGED,2018-01-05 22:26:10.000000000,2018-02-25 15:01:45.000000000,2018-01-22 16:57:30.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23414}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25033}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-05 22:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c473a9b6512c84255f4548eef89800a0c39906f3', 'message': 'ScaleIO: Enable multiattach for volumes\n\nEnable the multiattach capability to allow volumes\nto be attached to more than one instance\n\nChange-Id: I1db2771f7c970341f62271a857795d413a506a34\n'}, {'number': 2, 'created': '2018-01-11 13:49:11.000000000', 'files': ['cinder/volume/drivers/dell_emc/scaleio/driver.py', 'releasenotes/notes/scaleio-enable-multiattach-e7d84ffa282842e9.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bfdb90ed620d6ef424188e187593940867dbaca5', 'message': 'ScaleIO: Enable multiattach for volumes\n\nEnable the multiattach capability to allow volumes\nto be attached to more than one instance\n\nChange-Id: I1db2771f7c970341f62271a857795d413a506a34\n'}]",1,531511,bfdb90ed620d6ef424188e187593940867dbaca5,87,38,2,25033,,,0,"ScaleIO: Enable multiattach for volumes

Enable the multiattach capability to allow volumes
to be attached to more than one instance

Change-Id: I1db2771f7c970341f62271a857795d413a506a34
",git fetch https://review.opendev.org/openstack/cinder refs/changes/11/531511/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/dell_emc/scaleio/driver.py'],1,c473a9b6512c84255f4548eef89800a0c39906f3,," stats['multiattach'] = True 'multiattach': True,",,2,0
openstack%2Fcinder~master~I154d85cde693c6e77e22a677cae7150be48fce07,openstack/cinder,master,I154d85cde693c6e77e22a677cae7150be48fce07,SMBFS: fix detecting if a volume is in-use,MERGED,2017-12-15 17:25:43.000000000,2018-02-25 15:01:35.000000000,2017-12-20 00:07:14.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-15 17:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/13cbb45fd31e89daa91fd3e5777d6115a203c607', 'message': ""SMBFS: fix detecting if a volume is in-use\n\nThe SMBFS driver along with the remotefs module rely on the volume\nstatus field when checking if it's attached.\n\nWhile in most cases this is fine, it will cause issues when backing\nup volumes. In this situation, the volume status will be 'backing-up',\nin which case the driver will wrongfully consider that the volume is\ndetached (by not having the 'in-use' state).\n\nIn particular, this affects the volume snapshot workflow.\n\nThis change fixes this check, adding a helper method which detects\nthe volume attach status by looking at the volume 'attach_status'\nfield.\n\nChange-Id: I154d85cde693c6e77e22a677cae7150be48fce07\nPartial-Implements: windows-smb-backup\n""}, {'number': 2, 'created': '2017-12-19 13:23:59.000000000', 'files': ['cinder/volume/drivers/windows/smbfs.py', 'cinder/tests/unit/windows/test_smbfs.py', 'cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fb48a1fe64dfc6f241eaff968b4ba0ed84a39adc', 'message': ""SMBFS: fix detecting if a volume is in-use\n\nThe SMBFS driver along with the remotefs module rely on the volume\nstatus field when checking if it's attached.\n\nWhile in most cases this is fine, it will cause issues when backing\nup volumes. In this situation, the volume status will be 'backing-up',\nin which case the driver will wrongfully consider that the volume is\ndetached (by not having the 'in-use' state).\n\nIn particular, this affects the volume snapshot workflow.\n\nThis change fixes this check, adding a helper method which detects\nthe volume attach status by looking at the volume 'attach_status'\nfield.\n\nChange-Id: I154d85cde693c6e77e22a677cae7150be48fce07\nPartial-Implements: windows-smb-backup\n""}]",0,528351,fb48a1fe64dfc6f241eaff968b4ba0ed84a39adc,53,33,2,8543,,,0,"SMBFS: fix detecting if a volume is in-use

The SMBFS driver along with the remotefs module rely on the volume
status field when checking if it's attached.

While in most cases this is fine, it will cause issues when backing
up volumes. In this situation, the volume status will be 'backing-up',
in which case the driver will wrongfully consider that the volume is
detached (by not having the 'in-use' state).

In particular, this affects the volume snapshot workflow.

This change fixes this check, adding a helper method which detects
the volume attach status by looking at the volume 'attach_status'
field.

Change-Id: I154d85cde693c6e77e22a677cae7150be48fce07
Partial-Implements: windows-smb-backup
",git fetch https://review.opendev.org/openstack/cinder refs/changes/51/528351/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/windows/smbfs.py', 'cinder/tests/unit/windows/test_smbfs.py', 'cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py']",4,13cbb45fd31e89daa91fd3e5777d6115a203c607,backup," def _is_volume_attached(self, volume): return volume.attach_status == fields.VolumeAttachStatus.ATTACHED 'type': ('online' if self._is_volume_attached(snapshot.volume) if self._is_volume_attached(snapshot.volume): 'type': ('online' if self._is_volume_attached(snapshot.volume) if self._is_volume_attached(snapshot.volume):", 'type': ('online' if snapshot.volume.status == 'in-use' if volume_status == 'in-use': 'type': ('online' if snapshot.volume.status == 'in-use' if status == 'in-use':,24,19
openstack%2Fcinder~master~Iaec8c382f3ae578b3f1da1c570f0b83be59ee984,openstack/cinder,master,Iaec8c382f3ae578b3f1da1c570f0b83be59ee984,Remove deprecated HP 3PAR config options,MERGED,2017-12-15 15:03:32.000000000,2018-02-25 15:01:28.000000000,2017-12-22 13:37:14.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-12-15 15:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0e3503f08151ddae8f6faa253386f1e165aa0f08', 'message': ""Remove deprecated HP 3PAR config options\n\nHP 3PAR was deprecated during Liberty and now it's safe to be removed.\nNew HPE 3PAR options should be used instead.\n\nChange-Id: Iaec8c382f3ae578b3f1da1c570f0b83be59ee984\n""}, {'number': 2, 'created': '2017-12-16 15:47:03.000000000', 'files': ['releasenotes/notes/remove-hp3par-config-options-3cf0d865beff9018.yaml', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b36ec9c29b742b416f2eba5cb6a5563d85c3c7af', 'message': ""Remove deprecated HP 3PAR config options\n\nHP 3PAR was deprecated during Liberty and now it's safe to be removed.\nNew HPE 3PAR options should be used instead.\n\nChange-Id: Iaec8c382f3ae578b3f1da1c570f0b83be59ee984\n""}]",0,528300,b36ec9c29b742b416f2eba5cb6a5563d85c3c7af,65,33,2,1736,,,0,"Remove deprecated HP 3PAR config options

HP 3PAR was deprecated during Liberty and now it's safe to be removed.
New HPE 3PAR options should be used instead.

Change-Id: Iaec8c382f3ae578b3f1da1c570f0b83be59ee984
",git fetch https://review.opendev.org/openstack/cinder refs/changes/00/528300/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-hp3par-config-options-3cf0d865beff9018.yaml', 'cinder/volume/drivers/hpe/hpe_3par_common.py']",2,0e3503f08151ddae8f6faa253386f1e165aa0f08,nas_ip," ""https://<3par ip>:8080/api/v1""), help=""3PAR username with the 'edit' role""), secret=True), help=""List of the CPG(s) to use for volume creation""), ""If empty the userCPG will be used.""), ""You can't delete it before this expires.""), "" and is deleted. This must be larger than expiration""), help=""Enable HTTP debugging to 3PAR""), help=""List of target iSCSI addresses to use.""), help=""Enable CHAP authentication for iSCSI connections.""),"," ""https://<3par ip>:8080/api/v1"", deprecated_name='hp3par_api_url'), help=""3PAR username with the 'edit' role"", deprecated_name='hp3par_username'), secret=True, deprecated_name='hp3par_password'), help=""List of the CPG(s) to use for volume creation"", deprecated_name='hp3par_cpg'), ""If empty the userCPG will be used."", deprecated_name='hp3par_cpg_snap'), ""You can't delete it before this expires."", deprecated_name='hp3par_snapshot_retention'), "" and is deleted. This must be larger than expiration"", deprecated_name='hp3par_snapshot_expiration'), help=""Enable HTTP debugging to 3PAR"", deprecated_name='hp3par_debug'), help=""List of target iSCSI addresses to use."", deprecated_name='hp3par_iscsi_ips'), help=""Enable CHAP authentication for iSCSI connections."", deprecated_name='hp3par_iscsi_chap_enabled'),",15,20
openstack%2Fcinder~master~If59c491446a7bf7b928ca2219092ed9561501cd9,openstack/cinder,master,If59c491446a7bf7b928ca2219092ed9561501cd9,Fix api-ref for v3 group type specs,MERGED,2017-12-06 04:04:35.000000000,2018-02-25 15:01:07.000000000,2017-12-11 21:00:34.000000000,"[{'_account_id': 7198}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-12-06 04:04:35.000000000', 'files': ['api-ref/source/v3/group-type-specs.inc', 'api-ref/source/v3/samples/group-type-specs-update-request.json'], 'web_link': 'https://opendev.org/openstack/cinder/commit/07624e533c37218dfa3aac8f2745d702673dde07', 'message': 'Fix api-ref for v3 group type specs\n\nThis patch aims to make some trivial fix on api-ref for v3 group type\nspecs.\n\nChange-Id: If59c491446a7bf7b928ca2219092ed9561501cd9\n'}]",0,525868,07624e533c37218dfa3aac8f2745d702673dde07,37,32,1,23081,,,0,"Fix api-ref for v3 group type specs

This patch aims to make some trivial fix on api-ref for v3 group type
specs.

Change-Id: If59c491446a7bf7b928ca2219092ed9561501cd9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/68/525868/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/group-type-specs.inc', 'api-ref/source/v3/samples/group-type-specs-update-request.json']",2,07624e533c37218dfa3aac8f2745d702673dde07,fix_group_type_specs_api_ref,"{ ""key1"": ""value1"" } ",,11,3
openstack%2Fcinder~stable%2Fpike~I3b775da8c5e862def54e9d44d7b157cf17a07a24,openstack/cinder,stable/pike,I3b775da8c5e862def54e9d44d7b157cf17a07a24,Unity: Fix duplicate hosts created with same name,MERGED,2017-12-04 01:56:34.000000000,2018-02-25 15:01:06.000000000,2017-12-09 19:34:09.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 10628}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15831}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-04 01:56:34.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/unity/test_adapter.py', 'cinder/volume/drivers/dell_emc/unity/adapter.py', 'cinder/tests/unit/volume/drivers/dell_emc/unity/test_client.py', 'cinder/volume/drivers/dell_emc/unity/client.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/85bc7559fb3b8c8ff3d508b3ef54bc4ba4a0591f', 'message': 'Unity: Fix duplicate hosts created with same name\n\nIn some circumstance, there is a race condition in querying/creating\nUnity host thus multiple hosts with same name were created.\n\nThis issue stops any further attach/detach operation.\n\nThis patch leverage the DSL in cinder to avoid above race condition.\n\nChange-Id: I3b775da8c5e862def54e9d44d7b157cf17a07a24\nCloses-bug: #1726284\n(cherry picked from commit d8dd30f16b8712385b2f0d43c4d0a45f5fe4be41)\n'}]",0,525025,85bc7559fb3b8c8ff3d508b3ef54bc4ba4a0591f,24,21,1,10628,,,0,"Unity: Fix duplicate hosts created with same name

In some circumstance, there is a race condition in querying/creating
Unity host thus multiple hosts with same name were created.

This issue stops any further attach/detach operation.

This patch leverage the DSL in cinder to avoid above race condition.

Change-Id: I3b775da8c5e862def54e9d44d7b157cf17a07a24
Closes-bug: #1726284
(cherry picked from commit d8dd30f16b8712385b2f0d43c4d0a45f5fe4be41)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/525025/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/unity/test_adapter.py', 'cinder/volume/drivers/dell_emc/unity/adapter.py', 'cinder/tests/unit/volume/drivers/dell_emc/unity/test_client.py', 'cinder/volume/drivers/dell_emc/unity/client.py']",4,85bc7559fb3b8c8ff3d508b3ef54bc4ba4a0591f,bug/1726284-stable/pike,"from cinder import coordination self.host_cache = {} @coordination.synchronized('{self.host}-{name}') def create_host(self, name): """"""Provides existing host if exists else create one."""""" if name not in self.host_cache: try: host = self.system.get_host(name=name) except storops_ex.UnityResourceNotFoundError: LOG.debug('Host %s not found. Create a new one.', name) host = self.system.create_host(name=name) self.host_cache[name] = host else: host = self.host_cache[name] return host def update_host_initiators(self, host, uids): """"""Updates host with the supplied uids."""""" if un_registered: for uid in un_registered: try: host.add_initiator(uid, force_create=True) except storops_ex.UnityHostInitiatorExistedError: # This make concurrent modification of # host initiators safe LOG.debug( 'The uid(%s) was already in ' '%s.', uid, host.name) host.update() # Update host cached with new initiators. self.host_cache[host.name] = host "," def create_host(self, name, uids): """"""Creates a host on Unity. Creates a host on Unity which has the uids associated. :param name: name of the host :param uids: iqns or wwns list :return: UnitHost object """""" try: host = self.system.get_host(name=name) except storops_ex.UnityResourceNotFoundError: LOG.debug('Existing host %s not found. Create a new one.', name) host = self.system.create_host(name=name) for uid in un_registered: host.add_initiator(uid, force_create=True) host.update() def get_host(self, name): return self.system.get_host(name=name) ",68,39
openstack%2Fcinder~master~Ide79fda590762cc040acc36987504a2bee2e85fe,openstack/cinder,master,Ide79fda590762cc040acc36987504a2bee2e85fe,Disallow managed volume to be managed again,MERGED,2017-11-28 13:55:55.000000000,2018-02-25 15:01:04.000000000,2017-12-06 12:43:20.000000000,"[{'_account_id': 170}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-11-28 13:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a462395a45adf523aa5a0da4ec11fa4f02cfb937', 'message': 'Disallow managed volume to be managed again on manage existing volume:\n  - On manage existing volume, check if the volume is already managed\n  - Display an error ""Unable to manage existing volume. The volume is already     managed"" if the volume is already managed\n\n Related-Bug : https://bugs.launchpad.net/cinder/+bug/1518798\n\nChange-Id: Ide79fda590762cc040acc36987504a2bee2e85fe\n'}, {'number': 2, 'created': '2017-11-28 14:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/738c577fc5c6eb6adae95ca9f5ad180e80fb9249', 'message': 'Disallow managed volume to be managed again:\n  \n  - On manage existing volume, check if the volume is already managed.\n  -   If the volume is already managed, display an error\n    ""Unable to manage existing volume. The volume is already managed""\n\n Related-Bug : https://bugs.launchpad.net/cinder/+bug/1518798\n\nChange-Id: Ide79fda590762cc040acc36987504a2bee2e85fe\n'}, {'number': 3, 'created': '2017-11-28 14:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/38f0a6031b3f7279a2898f0beeb5dd2797558ec0', 'message': 'Disallow managed volume to be managed again\nOn manage existing volume, check if the volume is already managed.\nIf the volume is already managed, display an error\n""Unable to manage existing volume. The volume is already managed""\n\nRelated-bug: #1518798\n\nChange-Id: Ide79fda590762cc040acc36987504a2bee2e85fe\n'}, {'number': 4, 'created': '2017-11-28 14:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4c2fa6bc68374ecda981b8e42b59841db39254d4', 'message': 'Disallow managed volume to be managed again\n\nOn manage existing volume, check if the volume is already managed.\nIf the volume is already managed, display an error\n""Unable to manage existing volume. The volume is already managed""\n\nRelated-bug: #1518798\n\nChange-Id: Ide79fda590762cc040acc36987504a2bee2e85fe\n'}, {'number': 5, 'created': '2017-11-29 05:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b873ad901943181fd8d56ccfb655fccbfd0646f', 'message': 'Disallow managed volume to be managed again\n\nOn manage existing volume, check if the volume is already managed.\nIf the volume is already managed, display an error\n""Unable to manage existing volume. The volume is already managed""\n\nCloses-bug: #1518798\n\nChange-Id: Ide79fda590762cc040acc36987504a2bee2e85fe\n'}, {'number': 6, 'created': '2017-11-29 10:35:13.000000000', 'files': ['cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff878ad0ade86d527696cd05d1c2ca51c7f9c4b3', 'message': 'Disallow managed volume to be managed again\n\nOn manage existing volume, check if the volume is already managed.\nIf the volume is already managed, display an error\n""Unable to manage existing volume. The volume is already managed""\n\nCloses-bug: #1518798\n\nChange-Id: Ide79fda590762cc040acc36987504a2bee2e85fe\n'}]",9,523417,ff878ad0ade86d527696cd05d1c2ca51c7f9c4b3,72,38,6,27274,,,0,"Disallow managed volume to be managed again

On manage existing volume, check if the volume is already managed.
If the volume is already managed, display an error
""Unable to manage existing volume. The volume is already managed""

Closes-bug: #1518798

Change-Id: Ide79fda590762cc040acc36987504a2bee2e85fe
",git fetch https://review.opendev.org/openstack/cinder refs/changes/17/523417/6 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/api.py'],1,a462395a45adf523aa5a0da4ec11fa4f02cfb937,bug/1518798," vol_id = volume_utils.extract_id_from_volume_name(ref['source-name']) if vol_id and volume_utils.check_already_managed_volume(vol_id): raise exception.InvalidVolume(reason=""Unable to manage existing volume. The volume is already managed"") ",,5,1
openstack%2Fcinder~master~I30fe1b0964679416b46a4bbcb72e75814f022aa8,openstack/cinder,master,I30fe1b0964679416b46a4bbcb72e75814f022aa8,Filter valid FC initiator while FC attaching,MERGED,2017-09-19 11:25:45.000000000,2018-02-25 15:00:44.000000000,2017-11-25 16:23:43.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16203}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-19 11:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d7d4fcabe7187396a5fa04c34003b70261ccbf0b', 'message': ""Filter valid FC initiator while FC attaching\n\nWhile attaching a volume by FC, Huawei driver will verify the FC initiator\nwwns validation via checking if these wwns exist in Huawei storage.\nAt the situation of NOVA compute node connects to multiple storage through\nFC, the passed in inititator wwns must include the wwns that don't actually\nconnected to current backend storage, so the verification would fail.\n\nTo avoid this problem, add a filtering step for initiator wwns according to\nthe actual valid FC initiators in backend storage before verification.\n\nChange-Id: I30fe1b0964679416b46a4bbcb72e75814f022aa8\n""}, {'number': 2, 'created': '2017-11-23 09:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/faac5db2f9cfe4285099cfe9521cb39ce6e8a36e', 'message': ""Filter valid FC initiator while FC attaching\n\nWhile attaching a volume by FC, Huawei driver will verify the FC initiator\nwwns validation via checking if these wwns exist in Huawei storage.\nAt the situation of NOVA compute node connects to multiple storage through\nFC, the passed in inititator wwns must include the wwns that aren't actually\nconnected to current backend storage, so the verification would fail.\n\nTo avoid this problem, add a filtering step for initiator wwns according to\nthe actual valid FC initiators in backend storage before verification.\n\nChange-Id: I30fe1b0964679416b46a4bbcb72e75814f022aa8\n""}, {'number': 3, 'created': '2017-11-24 02:53:54.000000000', 'files': ['cinder/volume/drivers/huawei/constants.py', 'cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/rest_client.py', 'cinder/volume/drivers/huawei/hypermetro.py', 'cinder/volume/drivers/huawei/huawei_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/213b451d82116072ad7ffac19bb1762356217c78', 'message': ""Filter valid FC initiator while FC attaching\n\nWhile attaching a volume by FC, Huawei driver will verify the FC initiator\nwwns validation via checking if these wwns exist in Huawei storage.\nAt the situation of NOVA compute node connects to multiple storage through\nFC, the passed in inititator wwns must include the wwns that aren't actually\nconnected to current backend storage, so the verification would fail.\n\nTo avoid this problem, add a filtering step for initiator wwns according to\nthe actual valid FC initiators in backend storage before verification.\n\nChange-Id: I30fe1b0964679416b46a4bbcb72e75814f022aa8\n""}]",3,505178,213b451d82116072ad7ffac19bb1762356217c78,86,44,3,16203,,,0,"Filter valid FC initiator while FC attaching

While attaching a volume by FC, Huawei driver will verify the FC initiator
wwns validation via checking if these wwns exist in Huawei storage.
At the situation of NOVA compute node connects to multiple storage through
FC, the passed in inititator wwns must include the wwns that aren't actually
connected to current backend storage, so the verification would fail.

To avoid this problem, add a filtering step for initiator wwns according to
the actual valid FC initiators in backend storage before verification.

Change-Id: I30fe1b0964679416b46a4bbcb72e75814f022aa8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/505178/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/huawei/constants.py', 'cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/rest_client.py', 'cinder/volume/drivers/huawei/hypermetro.py', 'cinder/volume/drivers/huawei/huawei_driver.py']",5,d7d4fcabe7187396a5fa04c34003b70261ccbf0b,filter-valid-fc-initiators, fc_initiators_on_array = self.client.get_fc_initiator_on_array() wwns = [i for i in wwns if i in fc_initiators_on_array] ,,44,0
openstack%2Fcinder~master~Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769,openstack/cinder,master,Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769,nimble: handle unicode strings in volume create,MERGED,2017-11-17 20:10:42.000000000,2018-02-25 15:00:37.000000000,2017-12-01 23:36:04.000000000,"[{'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 16422}, {'_account_id': 16668}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-17 20:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a48b130bd72cb8350ab11791ce1e96492125e931', 'message': ""nimble: handle unicode strings in volume create\n\ncurrently nimble cinder driver doesn't handle unicode strings\nfor display_name and display_description\n\nChange-Id: Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769\nCloses-Bug: 1732812\n""}, {'number': 2, 'created': '2017-11-18 00:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f7d1fcd6ffa4a63e2496c8259c9d4e7346882eb', 'message': ""nimble: handle unicode strings in volume create\n\ncurrently nimble cinder driver doesn't handle unicode strings\nfor display_name and display_description\n\nChange-Id: Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769\nCloses-Bug: 1732812\n""}, {'number': 3, 'created': '2017-11-21 19:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/16b630d077e7e7404f270999e2cb23d612b8dc7c', 'message': ""nimble: handle unicode strings in volume create\n\ncurrently nimble cinder driver doesn't handle unicode strings\nfor display_name and display_description\n\nChange-Id: Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769\nCloses-Bug: 1732812\n""}, {'number': 4, 'created': '2017-11-21 19:50:34.000000000', 'files': ['cinder/volume/drivers/nimble.py', 'cinder/tests/unit/volume/drivers/test_nimble.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/23ac0ab4edd38b91b0c21d5c9e81cd1a7bdddc55', 'message': ""nimble: handle unicode strings in volume create\n\ncurrently nimble cinder driver doesn't handle unicode strings\nfor display_name and display_description\n\nChange-Id: Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769\nCloses-Bug: 1732812\n""}]",0,521185,23ac0ab4edd38b91b0c21d5c9e81cd1a7bdddc55,84,35,4,16668,,,0,"nimble: handle unicode strings in volume create

currently nimble cinder driver doesn't handle unicode strings
for display_name and display_description

Change-Id: Ic94cbc50d5761c7fc67d2973bed70c70cf6bf769
Closes-Bug: 1732812
",git fetch https://review.opendev.org/openstack/cinder refs/changes/85/521185/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/nimble.py', 'cinder/tests/unit/volume/drivers/test_nimble.py']",2,a48b130bd72cb8350ab11791ce1e96492125e931,bug/1732812," 'nimble:perfpol-name': 'default', 'nimble:encryption': 'yes'})) @NimbleDriverBaseTestCase.client_mock_decorator(create_configuration( NIMBLE_SAN_LOGIN, NIMBLE_SAN_PASS, NIMBLE_MANAGEMENT_IP, 'default', '*')) def test_create_volume_with_unicode(self): self.mock_client_service.get_vol_info.return_value = ( FAKE_GET_VOL_INFO_RESPONSE) self.mock_client_service.get_netconfig.return_value = ( FAKE_POSITIVE_NETCONFIG_RESPONSE) self.assertEqual({ 'provider_location': '172.18.108.21:3260 iqn.test', 'provider_auth': None}, self.driver.create_volume({'name': 'testvolume', 'size': 1, 'volume_type_id': None, 'display_name': u'unicode_name', 'display_description': ''})) self.mock_client_service.create_vol.assert_called_once_with( {'name': 'testvolume', 'size': 1, 'volume_type_id': None, 'display_name': u'unicode_name', 'display_description': ''}, 'default', False, 'iSCSI', False) @mock.patch(NIMBLE_URLLIB2) @mock.patch(NIMBLE_CLIENT) @mock.patch.object(obj_volume.VolumeList, 'get_all_by_host', mock.Mock(return_value=[])) @mock.patch.object(volume_types, 'get_volume_type_extra_specs', mock.Mock(type_id=FAKE_TYPE_ID, return_value={",,53,3
openstack%2Fcinder~stable%2Fpike~If2419008f3f978a4d18f16d57ec6a03fef065d87,openstack/cinder,stable/pike,If2419008f3f978a4d18f16d57ec6a03fef065d87,HPE3PAR: Modify host & clear zone after detach,MERGED,2017-11-20 05:16:08.000000000,2018-02-25 15:00:36.000000000,2017-11-20 22:13:18.000000000,"[{'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 13628}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22664}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26379}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-20 05:16:08.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cc6bca988da313dd72f190ad84c1a91b58fca9c6', 'message': 'HPE3PAR: Modify host & clear zone after detach\n\nModify or remove wwn/iqn entries from 3par host, after\nvlun deletion. If multiple volumes (via FC and ISCSI)\nare exported to same host and FC/ISCSI volumes are\ndetached subsequently, this fix would remove all\nWWN/IQN entries respectively from 3par host\n\nIf the last FC volume is detached, then it will remove\nall zones from fabrics.\n\nChange-Id: If2419008f3f978a4d18f16d57ec6a03fef065d87\nCloses-Bug: #1730720\n(cherry picked from commit aa15f58bdc40e5e27885b06430a96117b290d91e)\n'}]",0,521416,cc6bca988da313dd72f190ad84c1a91b58fca9c6,20,20,1,24952,,,0,"HPE3PAR: Modify host & clear zone after detach

Modify or remove wwn/iqn entries from 3par host, after
vlun deletion. If multiple volumes (via FC and ISCSI)
are exported to same host and FC/ISCSI volumes are
detached subsequently, this fix would remove all
WWN/IQN entries respectively from 3par host

If the last FC volume is detached, then it will remove
all zones from fabrics.

Change-Id: If2419008f3f978a4d18f16d57ec6a03fef065d87
Closes-Bug: #1730720
(cherry picked from commit aa15f58bdc40e5e27885b06430a96117b290d91e)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/521416/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py']",3,cc6bca988da313dd72f190ad84c1a91b58fca9c6,bug/1730720," 3.0.39 - Added check to modify host after volume detach. bug #1730720 VERSION = ""3.0.39"" def delete_vlun(self, volume, hostname, wwn=None, iqn=None): modify_host = True if wwn is not None and not isinstance(wwn, list): wwn = [wwn] if iqn is not None and not isinstance(iqn, list): iqn = [iqn] for vlun in vluns: if vlun.get('active'): if (wwn is not None and vlun.get('remoteName').lower() in wwn)\ or (iqn is not None and vlun.get('remoteName').lower() in iqn): modify_host = False break if len(vluns) == 0: elif modify_host: if wwn is not None: mod_request = {'pathOperation': self.client.HOST_EDIT_REMOVE, 'FCWWNs': wwn} else: mod_request = {'pathOperation': self.client.HOST_EDIT_REMOVE, 'iSCSINames': iqn} try: self.client.modifyHost(hostname, mod_request) except Exception as ex: LOG.info(""3PAR vlun for volume '%(name)s' was deleted, "" ""but the host '%(host)s' was not Modified "" ""because: %(reason)s"", {'name': volume_name, 'host': hostname, 'reason': ex.get_description()}) self.delete_vlun(volume, hostname, wwn=wwn, iqn=iqn) self.delete_vlun(volume, hostname, wwn=wwn, iqn=iqn)"," VERSION = ""3.0.38"" def delete_vlun(self, volume, hostname): for vlun in vluns: if volume_name not in vlun['volumeName']: # Found another volume break else: self.delete_vlun(volume, hostname) self.delete_vlun(volume, hostname)",87,17
openstack%2Fcinder~master~Ie63c6ec677f7fd800a10c9759c535cba395f3ec1,openstack/cinder,master,Ie63c6ec677f7fd800a10c9759c535cba395f3ec1,NetApp ONTAP: Remove orphaned 7mode file,MERGED,2017-11-13 19:09:49.000000000,2018-02-25 15:00:32.000000000,2017-11-14 22:10:01.000000000,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16643}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-13 19:09:49.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/block_7mode.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f8afcb8748d1332f983621866a2f5e7bcaa3633', 'message': 'NetApp ONTAP: Remove orphaned 7mode file\n\nWhen the 7mode drivers were removed as part\nof I129ca060a89275ffd56481b8f64367b0d803cff5,\na file was inadvertently left behind, blank.\n\nTrivialFix\n\nChange-Id: Ie63c6ec677f7fd800a10c9759c535cba395f3ec1\n'}]",0,519452,0f8afcb8748d1332f983621866a2f5e7bcaa3633,31,25,1,16643,,,0,"NetApp ONTAP: Remove orphaned 7mode file

When the 7mode drivers were removed as part
of I129ca060a89275ffd56481b8f64367b0d803cff5,
a file was inadvertently left behind, blank.

TrivialFix

Change-Id: Ie63c6ec677f7fd800a10c9759c535cba395f3ec1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/52/519452/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/netapp/dataontap/block_7mode.py'],1,0f8afcb8748d1332f983621866a2f5e7bcaa3633,TrivialFix,,,0,0
openstack%2Fcinder~master~I1471ecfffe340dafb1c95bac5eaff79cde650955,openstack/cinder,master,I1471ecfffe340dafb1c95bac5eaff79cde650955,NetApp E-series: Fix provisioned_capacity_gb,MERGED,2017-11-07 22:29:38.000000000,2018-02-25 15:00:30.000000000,2017-11-20 09:17:16.000000000,"[{'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 14865}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 17645}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26233}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-07 22:29:38.000000000', 'files': ['cinder/volume/drivers/netapp/eseries/library.py', 'cinder/tests/unit/volume/drivers/netapp/eseries/test_library.py', 'releasenotes/notes/bug-1718739-netapp-eseries-fix-provisioned-capacity-report-8c51fd1173c15dbf.yaml', 'cinder/tests/unit/volume/drivers/netapp/eseries/fakes.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f905253b9443db1870c3d2b7b70e032bb089efa0', 'message': 'NetApp E-series: Fix provisioned_capacity_gb\n\nCurrently, NetApp E-series drivers (iSCSI and FC) are incorrectly\nreporting the total physical used size as the provisioned_capacity_gb.\nThis patch fixes the calculation of this attribute by summing the\nuser-visible capacity of all the volumes present in the backend and\nreporting the result as the provisioning_capacity_gb.\n\nChange-Id: I1471ecfffe340dafb1c95bac5eaff79cde650955\nCloses-Bug: #1718739\n'}]",0,518406,f905253b9443db1870c3d2b7b70e032bb089efa0,51,34,1,14865,,,0,"NetApp E-series: Fix provisioned_capacity_gb

Currently, NetApp E-series drivers (iSCSI and FC) are incorrectly
reporting the total physical used size as the provisioned_capacity_gb.
This patch fixes the calculation of this attribute by summing the
user-visible capacity of all the volumes present in the backend and
reporting the result as the provisioning_capacity_gb.

Change-Id: I1471ecfffe340dafb1c95bac5eaff79cde650955
Closes-Bug: #1718739
",git fetch https://review.opendev.org/openstack/cinder refs/changes/06/518406/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/eseries/library.py', 'cinder/tests/unit/volume/drivers/netapp/eseries/test_library.py', 'releasenotes/notes/bug-1718739-netapp-eseries-fix-provisioned-capacity-report-8c51fd1173c15dbf.yaml', 'cinder/tests/unit/volume/drivers/netapp/eseries/fakes.py']",4,f905253b9443db1870c3d2b7b70e032bb089efa0,bug/1718739," ""volumeGroupRef"": ""fakevolgroupref"","," ""volumeGroupRef"": ""0400000060080E50002998A00000945255C37C14"",",26,3
openstack%2Fcinder~master~I0a7af6e4b2f407df7d02e6a0348fbe48c8d0e21e,openstack/cinder,master,I0a7af6e4b2f407df7d02e6a0348fbe48c8d0e21e,Use oslo_log instead of logging,MERGED,2017-11-07 07:17:06.000000000,2018-02-25 15:00:29.000000000,2017-11-07 13:06:14.000000000,"[{'_account_id': 170}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-07 07:17:06.000000000', 'files': ['cinder/api/contrib/quotas.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2f97b0c98111730b9caaee2cd38daeedcbe4e699', 'message': 'Use oslo_log instead of logging\n\nWe missed a recent addition that used Python logging instead of oslo.log.\nThis just changes the import to use the right logging module.\n\nChange-Id: I0a7af6e4b2f407df7d02e6a0348fbe48c8d0e21e\n'}]",0,518266,2f97b0c98111730b9caaee2cd38daeedcbe4e699,33,27,1,11904,,,0,"Use oslo_log instead of logging

We missed a recent addition that used Python logging instead of oslo.log.
This just changes the import to use the right logging module.

Change-Id: I0a7af6e4b2f407df7d02e6a0348fbe48c8d0e21e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/66/518266/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/contrib/quotas.py'],1,2f97b0c98111730b9caaee2cd38daeedcbe4e699,oslo_py_log,from oslo_log import log as logging,import logging,1,1
openstack%2Fcinder~master~I5f4af36e7643b41b68ac438ce048559c15b6c5b8,openstack/cinder,master,I5f4af36e7643b41b68ac438ce048559c15b6c5b8,ScaleIO - Cleanup and enhance configuration doc,MERGED,2017-11-02 15:38:32.000000000,2018-02-25 15:00:27.000000000,2017-11-05 01:21:41.000000000,"[{'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25033}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-02 15:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b8d9615f52dba269e26ac6e948c6474a9bba3ee3', 'message': 'ScaleIO - Cleanup and enhance configuration doc\n\nRestructuring the configuration content for the ScaleIo driver\nand adding more information on how to specify a specific\nprotection domain and storage pool in a volume type as well as\nproviding examples of setting QOS specs.\n\nChange-Id: I5f4af36e7643b41b68ac438ce048559c15b6c5b8\n'}, {'number': 2, 'created': '2017-11-03 03:00:05.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-scaleio-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ae69084f7c862296403f5b789b0ff6311c927477', 'message': 'ScaleIO - Cleanup and enhance configuration doc\n\nRestructuring the configuration content for the ScaleIo driver\nand adding more information on how to specify a specific\nprotection domain and storage pool in a volume type as well as\nproviding examples of setting QOS specs.\n\nChange-Id: I5f4af36e7643b41b68ac438ce048559c15b6c5b8\n'}]",12,517354,ae69084f7c862296403f5b789b0ff6311c927477,48,27,2,25033,,,0,"ScaleIO - Cleanup and enhance configuration doc

Restructuring the configuration content for the ScaleIo driver
and adding more information on how to specify a specific
protection domain and storage pool in a volume type as well as
providing examples of setting QOS specs.

Change-Id: I5f4af36e7643b41b68ac438ce048559c15b6c5b8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/54/517354/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-scaleio-driver.rst'],1,b8d9615f52dba269e26ac6e948c6474a9bba3ee3,,"Overview -------- .. _scale_io_docs: Official ScaleIO documentation ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ To find the ScaleIO documentation: #. Go to the `ScaleIO product documentation page <https://support.emc.com/products/33925_ScaleIO/Documentation/?source=promotion>`_. #. From the left-side panel, select the relevant ScaleIO version. Deployment Guide for Ubuntu environments. See the ``Deploying on Ubuntu Servers`` section in ScaleIO Deployment Guide. See ScaleIO Block Storage driver configuration ------------------------------------------ This section explains how to configure and connect the block storage nodes to a ScaleIO storage cluster. Edit the ``cinder.conf`` file by adding the configuration below under a new section (for example, ``[scaleio]``) and change the ``enable_backends`` setting (in the ``[DEFAULT]`` section) to include this new back end. The configuration file is usually located at ``/etc/cinder/cinder.conf``. For a configuration example, refer to the example :ref:`cinder.conf <cg_configuration_example_emc>` . ScaleIO driver name ~~~~~~~~~~~~~~~~~~~ Configure the driver name by adding the following parameter: .. code-block:: ini volume_driver = cinder.volume.drivers.dell_emc.scaleio.driver.ScaleIODriver ScaleIO Gateway server IP ~~~~~~~~~~~~~~~~~~~~~~~~~ The ScaleIO Gateway provides a REST interface to ScaleIO. Configure the Gateway server IP address by adding the following parameter: .. code-block:: ini san_ip = ScaleIO GATEWAY IP ScaleIO Storage Pools ~~~~~~~~~~~~~~~~~~~~~ Multiple Storage Pools and Protection Domains can be listed for use by the virtual machines. The list should include every Protection Domain and Storage Pool pair that you would like Cinder to utilize. To retrieve the available Storage Pools, use the command :command:`scli --query_all` and search for available Storage Pools. Configure the available Storage Pools by adding the following parameter: .. code-block:: ini sio_storage_pools = Comma-separated list of protection domain:storage pool name ScaleIO user credentials ~~~~~~~~~~~~~~~~~~~~~~~~ Block Storage requires a ScaleIO user with administrative privileges. ScaleIO recommends creating a dedicated OpenStack user account that has an administrative user role. Refer to the ScaleIO User Guide for details on user account management. Configure the user credentials by adding the following parameters: .. code-block:: ini san_login = SIO_USER san_password = SIO_PASSWD Oversubscription ~~~~~~~~~~~~~~~~ Configure the oversubscription ratio by adding the following parameter under the separate section for ScaleIO: .. code-block:: ini sio_max_over_subscription_ratio = OVER_SUBSCRIPTION_RATIO .. note:: The default value for ``sio_max_over_subscription_ratio`` is 10.0. Oversubscription is calculated correctly by the Block Storage service only if the extra specification ``provisioning:type`` appears in the volume type regardless to the default provisioning type. Maximum oversubscription value supported for ScaleIO is 10.0. Default provisioning type ~~~~~~~~~~~~~~~~~~~~~~~~~ If provisioning type settings are not specified in the volume type, the default value is set according to the ``san_thin_provision`` option in the configuration file. The default provisioning type will be ``thin`` if the option is not specified in the configuration file. To set the default provisioning type ``thick``, set the ``san_thin_provision`` option to ``false`` in the configuration file, as follows: .. code-block:: ini san_thin_provision = false The configuration file is usually located in ``/etc/cinder/cinder.conf``. For a configuration example, see: :ref:`cinder.conf <cg_configuration_example_emc>`. .. _cg_configuration_example_emc: Configuration example ~~~~~~~~~~~~~~~~~~~~~ **cinder.conf example file** You can update the ``cinder.conf`` file by editing the necessary parameters as follows: .. code-block:: ini [DEFAULT] enabled_backends = scaleio [scaleio] volume_driver = cinder.volume.drivers.dell_emc.scaleio.driver.ScaleIODriver volume_backend_name = scaleio san_ip = GATEWAY_IP sio_storage_pools = Domain1:Pool1,Domain2:Pool2 san_login = SIO_USER san_password = SIO_PASSWD san_thin_provision = false Configuration options ~~~~~~~~~~~~~~~~~~~~~ The ScaleIO driver supports these configuration options: .. include:: ../../tables/cinder-emc_sio.inc Volume Types ------------ Volume types can used to specify characteristics of volumes allocated via the ScaleIO Driver. These characteristics are defined as ``Extra Specs`` within ``Volume Types``. ScaleIO Protection Domain and Storage Pool ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ When multiple storage pools are specified in the Cinder configuration, users can specify which pool should be utilized by adding the ``pool`` Extra Spec to the volume type extra-specs and setting the value to the requested protection_domain:storage_pool. $ openstack volume type create sio_type_1 $ openstack volume type set --property volume_backend_name=scaleio sio_type_1 $ openstack volume type set --property pool=Domain2:Pool2 sio_type_1 ScaleIO thin provisioning support ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The Block Storage driver supports creation of thin-provisioned and thick-provisioned volumes. The provisioning type settings can be added as an extra specification of the volume type, as follows: .. code-block:: console $ openstack volume type create sio_type_thick $ openstack volume type set --property provisioning:type=thick sio_type_thick ScaleIO QoS support ~~~~~~~~~~~~~~~~~~~ QoS support for the ScaleIO driver includes the ability to set the following capabilities:The QoS keys above must be created and associated with a volume type. For example: .. code-block:: console $ openstack volume qos create qos-limit-iops --consumer back-end --property maxIOPS=5000 $ openstack volume type create sio_limit_iops $ openstack volume qos associate qos-limit-iops sio_limit_iops ","This section explains how to configure and connect the block storage nodes to a ScaleIO storage cluster. deployment guide for Ubuntu environments. See the Deploying on Ubuntu servers section in ScaleIO Deployment Guide. See.. _scale_io_docs: Official documentation ---------------------- To find the ScaleIO documentation: #. Go to the `ScaleIO product documentation page <https://support.emc.com/products/33925_ScaleIO/Documentation/?source=promotion>`_. #. From the left-side panel, select the relevant version. #. Search for ""ScaleIO 2.0 Deployment Guide"". ScaleIO QoS support ~~~~~~~~~~~~~~~~~~~~ QoS support for the ScaleIO driver includes the ability to set the following capabilities in the Block Storage API ``cinder.api.contrib.qos_specs_manage`` QoS specs extension module: * ``maxIOPS`` * ``maxIOPSperGB`` * ``maxBWS`` * ``maxBWSperGB`` The QoS keys above must be created and associated with a volume type. For information about how to set the key-value pairs and associate them with a volume type, run the following commands: $ openstack help volume qos ScaleIO thin provisioning support ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The Block Storage driver supports creation of thin-provisioned and thick-provisioned volumes. The provisioning type settings can be added as an extra specification of the volume type, as follows: .. code-block:: ini provisioning:type = thin\thick The old specification: ``sio:provisioning_type`` is deprecated. Oversubscription ---------------- Configure the oversubscription ratio by adding the following parameter under the separate section for ScaleIO: .. code-block:: ini sio_max_over_subscription_ratio = OVER_SUBSCRIPTION_RATIO .. note:: The default value for ``sio_max_over_subscription_ratio`` is 10.0. Oversubscription is calculated correctly by the Block Storage service only if the extra specification ``provisioning:type`` appears in the volume type regardless to the default provisioning type. Maximum oversubscription value supported for ScaleIO is 10.0. Default provisioning type ------------------------- If provisioning type settings are not specified in the volume type, the default value is set according to the ``san_thin_provision`` option in the configuration file. The default provisioning type will be ``thin`` if the option is not specified in the configuration file. To set the default provisioning type ``thick``, set the ``san_thin_provision`` option to ``false`` in the configuration file, as follows: .. code-block:: ini san_thin_provision = false The configuration file is usually located in ``/etc/cinder/cinder.conf``. For a configuration example, see: :ref:`cinder.conf <cg_configuration_example_emc>`. ScaleIO Block Storage driver configuration ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Edit the ``cinder.conf`` file by adding the configuration below under a new section (for example, ``[scaleio]``) and change the ``enable_backends`` setting (in the ``[DEFAULT]`` section) to include this new back end. The configuration file is usually located at ``/etc/cinder/cinder.conf``. For a configuration example, refer to the example :ref:`cinder.conf <cg_configuration_example_emc>` . ScaleIO driver name ------------------- Configure the driver name by adding the following parameter: .. code-block:: ini volume_driver = cinder.volume.drivers.dell_emc.scaleio.driver.ScaleIODriver ScaleIO Gateway server IP ------------------------- The ScaleIO Gateway provides a REST interface to ScaleIO. Configure the Gateway server IP address by adding the following parameter: .. code-block:: ini san_ip = ScaleIO GATEWAY IP ScaleIO Storage Pools --------------------- Multiple Storage Pools and Protection Domains can be listed for use by the virtual machines. The list should include every Protection Domain and Storage Pool pair that you would like Cinder to utilize. To retrieve the available Storage Pools, use the command :command:`scli --query_all` and search for available Storage Pools. Configure the available Storage Pools by adding the following parameter: .. code-block:: ini sio_storage_pools = Comma-separated list of protection domain:storage pool name ScaleIO user credentials ------------------------ Block Storage requires a ScaleIO user with administrative privileges. ScaleIO recommends creating a dedicated OpenStack user account that has an administrative user role. Refer to the ScaleIO User Guide for details on user account management. Configure the user credentials by adding the following parameters: .. code-block:: ini san_login = ScaleIO username san_password = ScaleIO password Multiple back ends ~~~~~~~~~~~~~~~~~~ Configuring multiple storage back ends allows you to create several back-end storage solutions that serve the same Compute resources. When a volume is created, the scheduler selects the appropriate back end to handle the request, according to the specified volume type. .. _cg_configuration_example_emc: Configuration example ~~~~~~~~~~~~~~~~~~~~~ **cinder.conf example file** You can update the ``cinder.conf`` file by editing the necessary parameters as follows: .. code-block:: ini [Default] enabled_backends = scaleio [scaleio] volume_driver = cinder.volume.drivers.dell_emc.scaleio.driver.ScaleIODriver volume_backend_name = scaleio san_ip = GATEWAY_IP sio_storage_pools = Domain1:Pool1,Domain2:Pool2 san_login = SIO_USER san_password = SIO_PASSWD san_thin_provision = false Configuration options ~~~~~~~~~~~~~~~~~~~~~ The ScaleIO driver supports these configuration options: .. include:: ../../tables/cinder-emc_sio.inc",196,190
openstack%2Fcinder~stable%2Fpike~Iaae24a7de7171d9c1dc6197aa79b7d8ee87c0051,openstack/cinder,stable/pike,Iaae24a7de7171d9c1dc6197aa79b7d8ee87c0051,ibm-storage: Fix create_volume_from_snapshot,MERGED,2017-10-31 15:42:18.000000000,2018-02-25 15:00:15.000000000,2017-11-05 00:16:38.000000000,"[{'_account_id': 170}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 13047}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20050}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-31 15:42:18.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_xiv_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f3430f54965b243a33eacdda747f9a5a6315a2f2', 'message': 'ibm-storage: Fix create_volume_from_snapshot\n\nIf a snapshot was created from a volume that is part of a generic group,\nthen when calling ""create_volume_from_snapshot"", the exception\nSourceVolumeBadNameError is raised.\nThis is a leftover from the days where there were no generic groups\n(Only consistency groups were exist)\n\nChange-Id: Iaae24a7de7171d9c1dc6197aa79b7d8ee87c0051\nCloses-Bug: #1724074\n(cherry picked from commit 104d6fc8207d8633cd6fd650a488e86c80057477)\n'}]",1,516722,f3430f54965b243a33eacdda747f9a5a6315a2f2,21,19,1,14532,,,0,"ibm-storage: Fix create_volume_from_snapshot

If a snapshot was created from a volume that is part of a generic group,
then when calling ""create_volume_from_snapshot"", the exception
SourceVolumeBadNameError is raised.
This is a leftover from the days where there were no generic groups
(Only consistency groups were exist)

Change-Id: Iaae24a7de7171d9c1dc6197aa79b7d8ee87c0051
Closes-Bug: #1724074
(cherry picked from commit 104d6fc8207d8633cd6fd650a488e86c80057477)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/516722/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/ibm/test_xiv_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py']",2,f3430f54965b243a33eacdda747f9a5a6315a2f2,bug/1724074-stable/pike," self._create_volume_from_snapshot(volume, snapshot.name, snapshot_size)"," if not snapshot['group_snapshot_id']: snapshot_name = snapshot['name'] else: groupname = self._group_name_from_cgsnapshot_id( snapshot['group_snapshot_id']) snapshot_name = self._volume_name_from_cg_snapshot( groupname, snapshot.volume_name) self._create_volume_from_snapshot( volume, snapshot_name, snapshot_size)",23,9
openstack%2Fcinder~master~I65393a6a5f995d609152d4b8546c055d7bf0b253,openstack/cinder,master,I65393a6a5f995d609152d4b8546c055d7bf0b253,Storwize: add backup snapshots support,MERGED,2017-10-17 09:40:18.000000000,2018-02-25 15:00:09.000000000,2017-11-07 08:22:42.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11186}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12288}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17045}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-10-17 09:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/146ae4b993c24d8f666b18251672c0bdf8519154', 'message': 'Storwize : add backup snapshots support\nThis patch adds backup snapshots support for Storwize/SVC driver.\nThe change implements attach and detach snapshot:\ninitialize_connection_snapshot\nterminate_connection_snapshot\n\nDocImpact\nImplements: blueprint storwize-backup-snapshots\n\nChange-Id: I65393a6a5f995d609152d4b8546c055d7bf0b253\n'}, {'number': 2, 'created': '2017-10-17 09:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/400366caf47d320ab98bdf69fe459cdb100e5dfc', 'message': 'Storwize : add backup snapshots support\n\nThis patch adds backup snapshots support for Storwize/SVC driver.\nThe change implements attach and detach snapshot:\ninitialize_connection_snapshot\nterminate_connection_snapshot\n\nDocImpact\nImplements: blueprint storwize-backup-snapshots\n\nChange-Id: I65393a6a5f995d609152d4b8546c055d7bf0b253\n'}, {'number': 3, 'created': '2017-10-19 05:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/20c554db00328ae48ab9de74020a49c4da86cf18', 'message': 'Storwize : add backup snapshots support\n\nThis patch adds backup snapshots support for Storwize/SVC driver.\nThe change implements attach and detach snapshot:\ninitialize_connection_snapshot\nterminate_connection_snapshot\n\nImplements: blueprint storwize-backup-snapshots\n\nChange-Id: I65393a6a5f995d609152d4b8546c055d7bf0b253\n'}, {'number': 4, 'created': '2017-10-20 06:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/66f3534aa8290d67523d1e5b5c9c26923f2eddbe', 'message': 'Storwize : add backup snapshots support\n\nThis patch adds backup snapshots support for Storwize/SVC driver.\nThe change implements attach and detach snapshot:\ninitialize_connection_snapshot\nterminate_connection_snapshot\n\nImplements: blueprint storwize-backup-snapshots\n\nChange-Id: I65393a6a5f995d609152d4b8546c055d7bf0b253\n'}, {'number': 5, 'created': '2017-10-20 08:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/67f7970f5adb18c758ff38c352a357e2cf3bde7a', 'message': 'Storwize : add backup snapshots support\n\nThis patch adds backup snapshots support for Storwize/SVC driver.\nThe change implements attach and detach snapshot:\ninitialize_connection_snapshot\nterminate_connection_snapshot\n\nImplements: blueprint storwize-backup-snapshots\n\nChange-Id: I65393a6a5f995d609152d4b8546c055d7bf0b253\n'}, {'number': 6, 'created': '2017-10-23 07:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6d9761252d19be3ee35d3a7a059b125e134ced1f', 'message': 'Storwize : add backup snapshots support\n\nThis patch adds backup snapshots support for Storwize/SVC driver.\nThe change implements attach and detach snapshot:\ninitialize_connection_snapshot\nterminate_connection_snapshot\n\nImplements: blueprint storwize-backup-snapshots\n\nChange-Id: I65393a6a5f995d609152d4b8546c055d7bf0b253\n'}, {'number': 7, 'created': '2017-10-23 08:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/16c1f6d9a108a232e033f5bd8b764c210b1b1930', 'message': 'Storwize: add backup snapshots support\n\nThis patch adds backup snapshots support for Storwize/SVC driver.\nThe change implements attach and detach snapshot:\ninitialize_connection_snapshot\nterminate_connection_snapshot\n\nImplements: blueprint storwize-backup-snapshots\n\nChange-Id: I65393a6a5f995d609152d4b8546c055d7bf0b253\n'}, {'number': 8, 'created': '2017-10-27 08:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/67e2d9bf600a712f4862221ea0409c2d01d04cac', 'message': 'Storwize: add backup snapshots support\n\nThis patch adds backup snapshots support for Storwize/SVC driver.\nThe change implements attach and detach snapshot:\ninitialize_connection_snapshot\nterminate_connection_snapshot\n\nImplements: blueprint storwize-backup-snapshots\n\nChange-Id: I65393a6a5f995d609152d4b8546c055d7bf0b253\n'}, {'number': 9, 'created': '2017-10-30 03:18:53.000000000', 'files': ['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_iscsi.py', 'releasenotes/notes/storwize-backup-snapshot-support-728e18dfa0d42943.yaml', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f68847353e46c8729d8fc13d2e53608c72c159c7', 'message': 'Storwize: add backup snapshots support\n\nThis patch adds backup snapshots support for Storwize/SVC driver.\nThe change implements attach and detach snapshot:\ninitialize_connection_snapshot\nterminate_connection_snapshot\n\nImplements: blueprint storwize-backup-snapshots\n\nChange-Id: I65393a6a5f995d609152d4b8546c055d7bf0b253\n'}]",4,512562,f68847353e46c8729d8fc13d2e53608c72c159c7,297,46,9,11186,,,0,"Storwize: add backup snapshots support

This patch adds backup snapshots support for Storwize/SVC driver.
The change implements attach and detach snapshot:
initialize_connection_snapshot
terminate_connection_snapshot

Implements: blueprint storwize-backup-snapshots

Change-Id: I65393a6a5f995d609152d4b8546c055d7bf0b253
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/512562/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_iscsi.py', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_fc.py']",4,146ae4b993c24d8f666b18251672c0bdf8519154,bp/storwize-backup-snapshots,"import collections def initialize_connection_snapshot(self, snapshot, connector): vol_attrs = ['id', 'name', 'display_name'] Volume = collections.namedtuple('Volume', vol_attrs) volume = Volume(id=snapshot.id, name=snapshot.name, display_name='backup-snapshot') return self.initialize_connection(volume, connector) ' %(conn)s', {'vol': volume.id, 'conn': connector}) if volume.display_name == 'backup-snapshot': LOG.debug('It is a virtual volume %(vol)s for attach snapshot', {'vol': volume.id}) volume_name = volume.name else: volume_name = self._get_target_vol(volume) properties['volume_id'] = volume.id {'vol': volume.id, 'conn': connector, def terminate_connection_snapshot(self, snapshot, connector, **kwargs): vol_attrs = ['id', 'name', 'display_name'] Volume = collections.namedtuple('Volume', vol_attrs) volume = Volume(id=snapshot.id, name=snapshot.name, display_name='backup-snapshot') return self.terminate_connection(volume, connector, **kwargs) ' %(conn)s', {'vol': volume.id, 'conn': connector}) if volume.display_name == 'backup-snapshot': LOG.debug('It is a virtual volume %(vol)s for detach snapshot', {'vol': volume.id}) vol_name = volume.name else: vol_name = self._get_target_vol(volume) 'connector %(conn)s', {'vol': volume.id,"," ' %(conn)s', {'vol': volume['id'], 'conn': connector}) volume_name = self._get_target_vol(volume) properties['volume_id'] = volume['id'] {'vol': volume['id'], 'conn': connector, ' %(conn)s', {'vol': volume['id'], 'conn': connector}) vol_name = self._get_target_vol(volume) 'connector %(conn)s', {'vol': volume['id'],",123,16
openstack%2Fcinder~master~Id66b6bd9d1a26202f0473628976b6b7da8f9997f,openstack/cinder,master,Id66b6bd9d1a26202f0473628976b6b7da8f9997f,Imported Translations from Zanata,MERGED,2017-10-23 07:26:27.000000000,2018-02-25 15:00:07.000000000,2017-10-23 14:39:32.000000000,"[{'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-10-23 07:26:27.000000000', 'files': ['cinder/locale/tr_TR/LC_MESSAGES/cinder-log-error.po', 'cinder/locale/cs/LC_MESSAGES/cinder-log-warning.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder-log-error.po', 'cinder/locale/tr_TR/LC_MESSAGES/cinder-log-warning.po', 'cinder/locale/it/LC_MESSAGES/cinder-log-error.po', 'cinder/locale/it/LC_MESSAGES/cinder-log-info.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder-log-info.po', 'cinder/locale/cs/LC_MESSAGES/cinder-log-error.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/tr_TR/LC_MESSAGES/cinder.po', 'cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/tr_TR/LC_MESSAGES/cinder-log-info.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder-log-info.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ff3fb31f088cef2f3ac8b84bc551d4cb54d4988', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id66b6bd9d1a26202f0473628976b6b7da8f9997f\n'}]",0,514170,0ff3fb31f088cef2f3ac8b84bc551d4cb54d4988,25,21,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Id66b6bd9d1a26202f0473628976b6b7da8f9997f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/70/514170/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/locale/tr_TR/LC_MESSAGES/cinder-log-error.po', 'cinder/locale/cs/LC_MESSAGES/cinder-log-warning.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder-log-error.po', 'cinder/locale/tr_TR/LC_MESSAGES/cinder-log-warning.po', 'cinder/locale/it/LC_MESSAGES/cinder-log-error.po', 'cinder/locale/it/LC_MESSAGES/cinder-log-info.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder-log-info.po', 'cinder/locale/cs/LC_MESSAGES/cinder-log-error.po', 'cinder/locale/fr/LC_MESSAGES/cinder.po', 'cinder/locale/pt_BR/LC_MESSAGES/cinder.po', 'cinder/locale/ru/LC_MESSAGES/cinder.po', 'cinder/locale/tr_TR/LC_MESSAGES/cinder.po', 'cinder/locale/ja/LC_MESSAGES/cinder.po', 'cinder/locale/it/LC_MESSAGES/cinder.po', 'cinder/locale/tr_TR/LC_MESSAGES/cinder-log-info.po', 'cinder/locale/zh_CN/LC_MESSAGES/cinder.po', 'cinder/locale/zh_TW/LC_MESSAGES/cinder.po', 'cinder/locale/ko_KR/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder-log-info.po', 'cinder/locale/de/LC_MESSAGES/cinder.po', 'cinder/locale/es/LC_MESSAGES/cinder.po', 'cinder/locale/cs/LC_MESSAGES/cinder.po']",22,0ff3fb31f088cef2f3ac8b84bc551d4cb54d4988,zanata/translations,"""Project-Id-Version: cinder 11.0.0.0rc2.dev468\n""""POT-Creation-Date: 2017-10-23 05:32+0000\n""""PO-Revision-Date: 2016-04-12 06:05+0000\n"" ""Last-Translator: Copied by Zanata <copied-by-zanata@zanata.org>\n""""X-Generator: Zanata 3.9.6\n""","""Project-Id-Version: cinder 9.0.0.0rc2.dev202\n""""POT-Creation-Date: 2016-10-07 03:25+0000\n""""PO-Revision-Date: 2016-02-22 01:35+0000\n"" ""Last-Translator: Zbynk Schwarz <zbynek.schwarz@gmail.com>\n""""X-Generator: Zanata 3.7.3\n""#, python-format msgid "" but size is now %d."" msgstr ""ale velikost je nyn %d."" msgid ""%(err)s"" msgstr ""%(err)s"" #, python-formatmsgid ""%(error_message)s"" msgstr ""%(error_message)s"" #, python-formatmsgid ""%(file)s: Permission denied."" msgstr ""%(file)s: Oprvnn zamtnuto."" #, python-formatmsgid ""%(message)s"" msgstr ""%(message)s"" #, python-formatmsgid ""%(message)s, subjectAltName: %(sanList)s."" msgstr ""%(message)s, alternativn nzev subjektu: %(sanList)s."" #, python-format#, python-format msgid ""A LUN (HLUN) was not found. (LDEV: %(ldev)s)"" msgstr "" LUN (HLUN) nebyl nalezen. (Logick zazen: %(ldev)s)"" #, python-format msgid """" ""A free LUN (HLUN) was not found. Add a different host group. (LDEV: %(ldev)s)"" msgstr """" ""Voln LUN (HLUN) nebyl nalezen. Pidejte jinou skupinu hostitele. (Logick "" ""zazen: %(ldev)s)"" #, python-format msgid ""A host group could not be added. (port: %(port)s, name: %(name)s)"" msgstr """" ""Skupina hostitele nemohla bt smazna. (Port: %(port)s nzev: %(name)s)"" #, python-format msgid """" ""A host group could not be deleted. (port: %(port)s, gid: %(gid)s, name: "" ""%(name)s)"" msgstr """" ""Skupina hostitele nemohla bt smazna. (Port: %(port)s, gid: %(gid)s, nzev: "" ""%(name)s)"" #, python-format msgid ""A host group is invalid. (host group: %(gid)s)"" msgstr ""Skupina hostitele je neplatn. (Skupina hostitele: %(gid)s)"" #, python-format msgid ""A pair cannot be deleted. (P-VOL: %(pvol)s, S-VOL: %(svol)s)"" msgstr """" ""Pr neme bt smazn. (primrn svazek: %(pvol)s, sekundrn svazek: "" ""%(svol)s)"" #, python-format msgid """" ""A pair could not be created. The maximum number of pair is exceeded. (copy "" ""method: %(copy_method)s, P-VOL: %(pvol)s)"" msgstr """" ""Pr nemohl bt vytvoen. Pekroen maximln poet pr. (Metoda koprovn: "" ""%(copy_method)s, primrn svazek: %(pvol)s)"" #, python-format msgid ""A parameter is invalid. (%(param)s)"" msgstr ""Parametr je neplatn. (%(param)s)"" #, python-format msgid ""A parameter value is invalid. (%(meta)s)"" msgstr ""Hodnota parametru je neplatn. (%(meta)s)"" #, python-format msgid ""A pool could not be found. (pool id: %(pool_id)s)"" msgstr ""Zsoba nemohla bt nalezena. (Id zsoby: %(pool_id)s)"" #, python-format msgid ""A snapshot status is invalid. (status: %(status)s)"" msgstr ""Stav snmku je neplatn. (Stav: %(status)s)"" msgid ""A volume status is invalid. (status: %(status)s)"" msgstr ""Stav svazku je neplatn. (Stav: %(status)s)"" #, python-format msgid ""API %(name)s failed with error string %(err)s"" msgstr ""API %(name)s selhalo s chybovm etzcem %(err)s"" #, python-formatmsgid ""API key is missing for CloudByte driver."" msgstr ""Ovladai CloudByte chyb kl API."" #, python-format msgid ""An iSCSI CHAP user could not be added. (username: %(user)s)"" msgstr ""CHAP uivatel iSCSI nemohl bt pidn. (Jmno uivatele: %(user)s)"" #, python-format msgid ""An iSCSI CHAP user could not be deleted. (username: %(user)s)"" msgstr ""CHAP uivatel iSCSI nemohl bt smazn. (uivatelsk jmno: %(user)s)"" #, python-format msgid """" ""An iSCSI target could not be added. (port: %(port)s, alias: %(alias)s, "" ""reason: %(reason)s)"" msgstr """" ""Cl iSCSI nemohl bt pidn. (Port: %(port)s, pezdvka: %(alias)s, dvod: "" ""%(reason)s)"" #, python-format msgid """" ""An iSCSI target could not be deleted. (port: %(port)s, tno: %(tno)s, alias: "" ""%(alias)s)"" msgstr """" ""Cl iSCSI nemohl bt smazn. (Port: %(port)s, tno: %(tno)s, pezdvka: "" ""%(alias)s)"" msgid ""Auth group [%s] details not found in CloudByte storage."" msgstr ""daje ovovac skupiny [%s] nebyly nalezeny v loiti CloudByte."" msgid ""Auth user details not found in CloudByte storage."" msgstr ""Pihlaovac daje uivatele nebyly nalezeny v loiti CloudByte."" #, python-format#, python-format msgid ""Backend reports: %(message)s"" msgstr ""Podprn vrstva hls: %(message)s"" msgid ""Backend reports: item already exists"" msgstr ""Podprn vrstva hls: Poloka ji existuje"" msgid ""Backend reports: item not found"" msgstr ""Podprn vrstva hls: Poloka nenalezena"" #, python-format msgid ""Backend service retry timeout hit: %(timeout)s sec"" msgstr """" ""Sluba podprn vrstvy doshla asovho limitu na nov pokus: %(timeout)s "" ""vtein"" msgid ""Backup is not supported for GlusterFS volumes with snapshots."" msgstr ""Zloha nen podporovna svazky GlusterFS se snmky."" msgid ""Backup is only supported for SOFS volumes without backing file."" msgstr ""Zlohy jsou podporovny pouze u svazk SOFS bez zlonho souboru."" msgid ""Backup is only supported for raw-formatted GlusterFS volumes."" msgstr ""Zloha je podporovna pouze u prost-formtovanch svazk GlusterFS."" msgid ""Backup is only supported for raw-formatted SOFS volumes."" msgstr ""Zlohy jsou podporovny pouze v prost-formtovanch svazcch SOFS."" msgid ""Bad Status line returned: %(arg)s."" msgstr ""Vrcen patn stav dku: %(arg)s."" #, python-formatmsgid ""Blockbridge api host not configured"" msgstr ""Hostitel API Blockbridge nen nastaven"" #, python-format msgid ""Blockbridge configured with invalid auth scheme '%(auth_scheme)s'"" msgstr ""Blockbridge je nastaven s neplatnm zpsobem oven '%(auth_scheme)s'"" msgid ""Blockbridge default pool does not exist"" msgstr ""Vchoz zsoba Blockbridge neexistuje"" msgid """" ""Blockbridge password not configured (required for auth scheme 'password')"" msgstr """" ""Heslo Blockbridge nen nastaven (vyadovno pro zpsob oven 'password')"" msgid ""Blockbridge pools not configured"" msgstr ""Zsoby Blockbridge nejsou nastaveny"" msgid ""Blockbridge token not configured (required for auth scheme 'token')"" msgstr """" ""Pznak Blockbridge nen nastaven (vyadovno pro zpsob oven 'token')"" msgid ""Blockbridge user not configured (required for auth scheme 'password')"" msgstr """" ""Uivatel Blockbridge nen nastaven (vyadovno pro zpsob oven 'password')"" msgid ""CONCERTO version is not supported"" msgstr ""Verze CONCERTO nen podporovna"" #, python-format msgid ""Can't access 'scality_sofs_config': %s"" msgstr ""Nelze zskat pstup k 'scality_sofs_config': %s"" ""Cannot add volume %(volume_id)s to consistency group %(group_id)s because it "" ""has no volume type."" msgstr """" ""Nelze pidat svazek %(volume_id)s do skupiny jednotnosti %(group_id)s "" ""protoe nem dn typ svazku."" #, python-format msgid """" ""Cannot add volume %(volume_id)s to consistency group %(group_id)s because it "" ""is already in consistency group %(orig_group)s."" msgstr """" ""Nelze pidat svazek %(volume_id)s do skupiny jednotnosti %(group_id)s "" ""protoe ji je ve skupin %(orig_group)s.."" #, python-format msgid """" ""Cannot add volume %(volume_id)s to consistency group %(group_id)s because "" ""volume cannot be found."" msgstr """" ""Nelze pidat svazek %(volume_id)s do skupiny jednotnosti %(group_id)s "" ""protoe svazek nelze nalzt."" #, python-format msgid """" ""Cannot add volume %(volume_id)s to consistency group %(group_id)s because "" ""volume does not exist."" msgstr """" ""Nelze pidat svazek %(volume_id)s do skupiny jednotnosti %(group_id)s "" ""protoe svazek neexistuje."" #, python-format msgid """" ""Cannot add volume %(volume_id)s to consistency group %(group_id)s because "" ""volume is in an invalid state: %(status)s. Valid states are: %(valid)s."" msgstr """" ""Nelze pidat svazek %(volume_id)s do skupiny jednotnosti %(group_id)s "" ""protoe svazek je v neplatnm stavu: %(status)s. Platn stavy jsou %(valid)s."" #, python-format msgid """" ""Cannot add volume %(volume_id)s to consistency group %(group_id)s because "" ""volume type %(volume_type)s is not supported by the group."" msgstr """" ""Nelze pidat svazek %(volume_id)s do skupiny jednotnosti %(group_id)s "" ""protoe typ svazku %(volume_type)s tato skupina nepodporuje."" #, python-format msgid """"msgid ""Cannot connect to ECOM server."" msgstr ""Nelze se pipojit k serveru ECOM."" #, python-format msgid """" ""Cannot create consistency group %(group)s because snapshot %(snap)s is not "" ""in a valid state. Valid states are: %(valid)s."" msgstr """" ""Nelze vytvoit skupinu jednotnosti %(group)s protoe snmek %(snap)s nen v "" ""platnm stavu. Platn stavy jsou: %(valid)s."" #, python-format msgid """" ""Cannot create consistency group %(group)s because source volume "" ""%(source_vol)s is not in a valid state. Valid states are: %(valid)s."" msgstr """" ""Nelze vytvoit skupinu jednotnosti %(group)s protoe zdrojov svazek "" ""%(source_vol)s nen v platnm stavu. Platn stavy jsou: %(valid)s."" msgid ""Cannot create masking view: %(maskingViewName)s. "" msgstr ""Nelze vytvoit zamaskovn: %(maskingViewName)s. "" #, python-formatmsgid ""Cannot create or find an storage group with name %(sgGroupName)s."" msgstr ""Nelze vytvoit nebo najt skupinu loit s nzvem %(sgGroupName)s."" #, python-formatmsgid ""Cannot delete LUN %s while snapshots exist."" msgstr ""LUN %s nelze smazat, pokud existuj snmky."" #, python-formatmsgid ""Cannot determine storage pool settings."" msgstr ""Nelze zjistit typ nastaven zsoby loit."" msgid ""Cannot execute /sbin/mount.sofs"" msgstr ""Nelze spustit /sbin/mount.sofs"" #, python-format msgid ""Cannot find CG group %s."" msgstr ""Nelze najt skupinu CG %s."" #, python-format msgid """" ""Cannot find Controller Configuration Service for storage system "" ""%(storage_system)s."" msgstr """" ""Nelze najt slubu konfigurace kontrolru pro systm loit "" ""%(storage_system)s."" #, python-format msgid ""Cannot find Replication Service to create volume for snapshot %s."" msgstr ""Nelze najt slubu replikace pro vytvoen svazku pro snmek %s."" #, python-format msgid ""Cannot find Replication Service to delete snapshot %s."" msgstr ""Nelze najt slubu repliakce pro smazn svazku %s."" #, python-format msgid ""Cannot find Replication service on system %s."" msgstr ""Nelze najt slubu replikace na systmu %s."" #, python-format msgid ""Cannot find Volume: %(id)s. unmanage operation. Exiting..."" msgstr ""Nelze najt svazek: %(id)s, operace zruen sprvy. Ukonovn..."" #, python-format msgid ""Cannot find Volume: %(volumename)s. Extend operation. Exiting...."" msgstr ""Nelze najt svazek: %(volumename)s. Operace rozen. Ukonovn..."" #, python-format msgid ""Cannot find device number for volume %(volumeName)s."" msgstr ""Nelze najt slo zazen pro svazek %(volumeName)s."" #, python-format msgid ""Cannot find replication service on system %s."" msgstr ""Nelze najt slubu replikace v systmu %s."" #, python-format msgid ""Cannot find source CG instance. consistencygroup_id: %s."" msgstr """" ""Nelze najt zdrojovou instanci skupiny jednotnosti. ID skupiny jednotnosti: "" ""%s."" #, python-format msgid ""Cannot get mcs_id by channel id: %(channel_id)s."" msgstr ""Nelze zskat id mcs podle id kanlu: %(channel_id)s."" msgid ""Cannot get necessary pool or storage system information."" msgstr ""Nelze zskat potebn informace o systmu zsoby nebo loit."" #, python-format msgid """" ""Cannot get or create a storage group: %(sgGroupName)s for volume "" ""%(volumeName)s "" msgstr """" ""Nelze zskat nebo vytvoit skupinu loit: %(sgGroupName)s pro svazek "" ""%(volumeName)s"" #, python-format msgid ""Cannot get or create initiator group: %(igGroupName)s. "" msgstr ""Nelze zskat nebo vytvoit skupinu zavade: %(igGroupName)s. "" #, python-format msgid ""Cannot get port group: %(pgGroupName)s. "" msgstr ""Nelze zskat skupinu portu: %(pgGroupName)s. "" #, python-format msgid """" ""Cannot get storage group: %(sgGroupName)s from masking view "" ""%(maskingViewInstanceName)s. "" msgstr """" ""Nelze zskat skupinu loit: %(sgGroupName)s pro zamaskovn "" ""%(maskingViewInstanceName)s. "" #, python-format msgid """" ""Cannot get supported size range for %(sps)s Return code: %(rc)lu. Error: "" ""%(error)s."" msgstr """" ""Nelze zskat podporovan rozsah velikosti pro %(sps)s. Nvratov kd: "" ""%(rc)lu. Chyba: %(error)s."" #, python-format msgid """" ""Cannot get the default storage group for FAST policy: %(fastPolicyName)s."" msgstr """" ""Nelze zskat vchoz skupiny loit pro zsadu FAST: %(fastPolicyName)s."" msgid ""Cannot mount Scality SOFS, check syslog for errors"" msgstr """" ""Nelze pipojit Scality SOFS, zkontrolujte zznam systmu pro mon chyby"" msgid ""Cannot place volume %(id)s on %(host)s"" msgstr ""Nelze umstit svazek %(id)s na %(host)s"" #, python-formatmsgid """" ""Cannot remove volume %(volume_id)s from consistency group %(group_id)s "" ""because it is not in the group."" msgstr """" ""Nelze odstranit svazek %(volume_id)s ze skupiny jednotnosti %(group_id)s "" ""protoe nen ve skupin."" #, python-format msgid """" ""Cannot remove volume %(volume_id)s from consistency group %(group_id)s "" ""because volume is in an invalid state: %(status)s. Valid states are: "" ""%(valid)s."" msgstr """" ""Nelze odstranit svazek %(volume_id)s ze skupiny jednotnosti %(group_id)s "" ""protoe svazek je v neplatnm stavu: %(status)s. Platn stavy jsou: "" ""%(valid)s."" #, python-formatmsgid ""Cannot set both hitachi_serial_number and hitachi_unit_name."" msgstr ""Nelze nastavit sriov slo a nzev jednotky hitachi najednou."" #, python-format msgid """" ""Cannot update consistency group %(group_id)s because no valid name, "" ""description, add_volumes, or remove_volumes were provided."" msgstr """" ""Nelze aktualizovat skupinu jednotnosti %(group_id)s protoe nebylo zadn "" ""platn nzev, popis, i pidn/odstrann svazku."" msgid ""Cannot verify the existence of object:%(instanceName)s."" msgstr ""Nelze ovit existenci objektu: %(instanceName)s."" #, python-formatmsgid ""Cgsnahost is empty. No consistency group will be created."" msgstr ""Snmek skupiny jednotnosti je przdn. dn skupina nebude vytvoena."" msgid ""Clone feature is not licensed on %(storageSystem)s."" msgstr ""Funkce klonovn nen licencovna na %(storageSystem)s."" #, python-formatmsgid ""Coho Data Cinder driver failure: %(message)s"" msgstr ""Selhn ovladae Cinder Coho Data: %(message)s"" msgid ""Coho rpc port is not configured"" msgstr ""RPC port Coho nen nastaven"" #, python-formatmsgid ""Consistency group is empty. No cgsnapshot will be created."" msgstr """" ""Skupina jednotnosti je przdn. Nebude vytvoen dn snmek skupiny "" ""jednotnosti."" msgid ""Controller Configuration Service not found on %(storageSystemName)s."" msgstr ""Sluba nastaven kontrolru nebyla nalezena v %(storageSystemName)s."" #, python-formatmsgid ""Could not find iSCSI target for volume: %(volume_id)s."" msgstr ""Nelze najt clov iSCSI pro svazek %(volume_id)s."" #, python-formatmsgid ""Could not load paste app '%(name)s' from %(path)s"" msgstr ""Nelze nast aplikaci vloen '%(name)s' z %(path)s"" #, python-formatmsgid ""Create export for volume failed."" msgstr ""Vytvoen exportu pro svazek selhalo."" msgid ""Creating a consistency group from a source is not currently supported."" msgstr """" ""Vytven skupiny jednotnosti ze zdroje nen v souasnosti podporovno."" #, python-format msgid ""Creating usages for %(begin_period)s until %(end_period)s"" msgstr ""Vytven vyuit pro obdob od %(begin_period)s do %(end_period)s"" ""Current host not valid for volume %(id)s with type %(type)s, migration not "" ""allowed"" msgstr """" ""Souasn hostitel nen platn pro svazek %(id)s s typem %(type)s, pesun "" ""nen povolen"" #, python-format msgid """"msgid ""Database schema downgrade is not allowed."" msgstr ""Snen verze schmatu databze na ni verzi nen povoleno."" msgid ""Dedup luns cannot be extended"" msgstr ""Deduplikovan lun nemohou bt rozeny"" msgid ""Delete consistency group failed."" msgstr ""Smazn skupiny jednotnosti selhalo."" msgid """" ""EcomServerIp, EcomServerPort, EcomUserName, EcomPassword must have valid "" ""values."" msgstr """" ""EcomServerIp, EcomServerPort, EcomUserName, EcomPassword mus mt platn "" ""hodnoty."" msgid ""Either hitachi_serial_number or hitachi_unit_name is required."" msgstr ""Je vyadovno bu hitachi_serial_number nebo hitachi_unit_name."" #, python-format msgid ""Element Composition Service not found on %(storageSystemName)s."" msgstr ""Sluba sloen prvku nebyla nalezena v %(storageSystemName)s."" ""Error Create Cloned Volume: %(cloneName)s Return code: %(rc)lu. Error: "" ""%(error)s."" msgstr """" ""Chyba pi vytven klonovanho svazku: %(cloneName)s. Nvratov kd: "" ""%(rc)lu. Chyba: %(error)s."" #, python-format msgid """" ""Error Create Cloned Volume: Volume: %(cloneName)s Source Volume:"" ""%(sourceName)s. Return code: %(rc)lu. Error: %(error)s."" msgstr """" ""Chyba pi vytven klonovanho svazku: Svazek: %(cloneName)s, zdrojov "" ""svazek %(sourceName)s. Nvratov kd: %(rc)lu. Chyba: %(error)s."" #, python-format msgid """" ""Error Create Group: %(groupName)s. Return code: %(rc)lu. Error: %(error)s."" msgstr """" ""Chyba pi vyven skupiny: %(groupName)s. Nvratov kd: %(rc)lu. Chyba: "" ""%(error)s."" #, python-format msgid """" ""Error Create Masking View: %(groupName)s. Return code: %(rc)lu. Error: "" ""%(error)s."" msgstr """" ""Chyba pi vytven maskovn: %(groupName)s. Nvratov kd: %(rc)lu. Chyba: "" ""%(error)s."" #, python-format msgid """" ""Error Create Volume: %(volumeName)s. Return code: %(rc)lu. Error: %(error)s."" msgstr """" ""Chyba pi vytven svazku: %(volumeName)s. Nvratov kd: %(rc)lu. Chyba: "" ""%(error)s."" #, python-format msgid """" ""Error Create Volume: %(volumename)s. Return code: %(rc)lu. Error: %(error)s."" msgstr """" ""Chyba pi vytven svazku: %(volumename)s. Nvratov kd: %(rc)lu. Chyba: "" ""%(error)s."" #, python-format msgid """" ""Error CreateGroupReplica: source: %(source)s target: %(target)s. Return "" ""code: %(rc)lu. Error: %(error)s."" msgstr """" ""Chyba pi vytven skupiny repliky: zdroj: %(source)s cl: %(target)s. "" ""Nvratov kd: %(rc)lu. Chyba: %(error)s."" #, python-format msgid """"""Error Creating new composite Volume Return code: %(rc)lu. Error: %(error)s."" msgstr """" ""Chyba pi vytven novho sloenho svazku. Nvratov kd: %(rc)lu. Chyba: "" ""%(error)s."" #, python-format msgid """"msgid ""Error Creating unbound volume on an Extend operation."" msgstr ""Chyba pi vytven nesvzanho svazku v operaci rozen."" msgid ""Error Creating unbound volume."" msgstr ""Chyba pi vytven nesvzanho svazku."" #, python-format msgid """" ""Error Delete Volume: %(volumeName)s. Return code: %(rc)lu. Error: %(error)s."" msgstr """" ""Chyba pi mazn svazku: %(volumeName)s. Nvratov kd: %(rc)lu. Chyba: "" ""%(error)s."" ""Error Migrating volume from one pool to another. Return code: %(rc)lu. "" ""Error: %(error)s."" msgstr """" ""Chyba pi pesunu svazku z jedn zsoby do druh. Nvratov kd: %(rc)lu. "" ""Chyba: %(error)s."" #, python-format msgid """" ""Error Modifying masking view : %(groupName)s. Return code: %(rc)lu. Error: "" ""%(error)s."" msgstr """" ""Chyba pi prav maskovn : %(groupName)s. Nvratov kd: %(rc)lu. Chyba: "" ""%(error)s."" #, python-format msgid """"""Error Terminating migrate session. Return code: %(rc)lu. Error: %(error)s."" msgstr """" ""Chyba pi ukonovn sezen pesunu. Nvratov kd: %(rc)lu. Chyba: "" ""%(error)s."" #, python-format msgid """"#, python-format msgid """" ""Error adding Volume: %(volumeName)s with instance path: "" ""%(volumeInstancePath)s."" msgstr """" ""Chyba pi pidvn svazku: %(volumeName)s majc cestu instance: "" ""%(volumeInstancePath)s."" #, python-format msgid """" ""Error adding initiator to group : %(groupName)s. Return code: %(rc)lu. "" ""Error: %(error)s."" msgstr """" ""Chyba pi pidvn zavade do skupiny : %(groupName)s. Nvratov kd: "" ""%(rc)lu. Chyba: %(error)s."" #, python-format msgid ""Error adding volume to composite volume. Error is: %(error)s."" msgstr ""Chyba pi pidvn svazku do sloenho svazku. Chyba byla: %(error)s."" #, python-format msgid ""Error appending volume %(volumename)s to target base volume."" msgstr """" ""Chyba pi pipojovn svazku %(volumename)s do clovho zkladnho svazku."" #, python-format msgid """" ""Error associating storage group : %(storageGroupName)s. To fast Policy: "" ""%(fastPolicyName)s with error description: %(errordesc)s."" msgstr """" ""Chyba pi pidruovn skupiny loit: %(storageGroupName)s k zsad FAST: "" ""%(fastPolicyName)s. Popis chyby: %(errordesc)s."" #, python-format msgid """" ""Error break clone relationship: Sync Name: %(syncName)s Return code: "" ""%(rc)lu. Error: %(error)s."" msgstr """" ""Chyba pi ruen vztahu klona. Synchronizovan nzev: %(syncName)s. "" ""Nvratov kd: %(rc)lu. Chyba: %(error)s."" msgid ""Error executing CloudByte API [%(cmd)s], Error: %(err)s."" msgstr ""Chyba pi provdn [%(cmd)s] CloudByte API, chyba: %(err)s."" msgid ""Error executing EQL command"" msgstr ""Chyba pi provdn pkazu EQL"" #, python-format#, python-format msgid ""Error finding %s."" msgstr ""Chyba pi hledn %s."" msgid ""Error getting domain id from name %(name)s: %(err)s."" msgstr ""Chyba pi zskvn id domny z nzvu %(name)s: %(err)s."" #, python-formatmsgid ""Error getting pool id from name %(pool)s: %(err)s."" msgstr ""Chyba pi zskvn id zsoby s nzvem %(pool)s: %(err)s."" #, python-formatmsgid """" ""Error in Operation [%(operation)s] for volume [%(cb_volume)s] in CloudByte "" ""storage: [%(cb_error)s], error code: [%(error_code)s]."" msgstr """" ""Chyba v operaci [%(operation)s] pro svazek [%(cb_volume)s] v loiti "" ""CloudByte: [%(cb_error)s], kd chyby: [%(error_code)s]"" #, python-format""Error modify replica synchronization: %(sv)s operation: %(operation)s. "" ""Return code: %(rc)lu. Error: %(error)s."" msgstr """" ""Chyba pi zmn synchronizace repliky: %(sv)s, operace: %(operation)s. "" ""Nvratov kd: %(rc)lu. Chyba: %(error)s."" #, python-format msgid """"msgid ""Error occurred when creating cgsnapshot %s."" msgstr ""Pi vytven snmku skupiny jednotnosti %s nastala chyba."" #, python-format msgid ""Error occurred when deleting cgsnapshot %s."" msgstr ""Pi mazn snmku skupiny jednotnosti %s nastala chyba."" #, python-format msgid ""Error occurred when updating consistency group %s."" msgstr ""Pi aktualizaci skupiny jednotnosti %s nastala chyba."" #, python-format#, python-format msgid ""Error response: %s"" msgstr ""Chybov odpov: %s"" msgid ""Error unbinding volume %(vol)s from pool. %(error)s."" msgstr ""Chyba pi rozvazovn svazku %(vol)s ze zsoby. %(error)s."" #, python-formatmsgid ""Exception appending meta volume to target volume %(volumename)s."" msgstr """" ""Pi pipojovn meta svazku do clovho svazku %(volumename)s se objevila "" ""vjimka."" #, python-format msgid """" ""Exception during create element replica. Clone name: %(cloneName)s Source "" ""name: %(sourceName)s Extra specs: %(extraSpecs)s "" msgstr """" ""Pi vytven repliky prvku nastala vjimka. Nzev klonu: %(cloneName)s, "" ""zdrojov nzev: %(sourceName)s, dodaten specifikace: %(extraSpecs)s"" #, python-formatmsgid ""Expected a uuid but received %(uuid)s."" msgstr ""Oekvno uuid ale obdreno %(uuid)s."" #, python-formatmsgid ""FAST is not supported on this array."" msgstr ""FAST nen podporovn v tomto poli."" #, python-format msgid """" ""Failed to acquire a resource lock. (serial: %(serial)s, inst: %(inst)s, ret: "" ""%(ret)s, stderr: %(err)s)"" msgstr """" ""Nelze zskat zmek zdroje. (Sriov konzole: %(serial)s, inst: %(inst)s, "" ""ret: %(ret)s, chybov vstup: %(err)s)"" msgid ""Failed to add the logical device."" msgstr ""Nelze pidat logick zazen."" #, python-format msgid """" ""Failed to add volume %(volumeName)s to consistency group %(cgName)s. Return "" ""code: %(rc)lu. Error: %(error)s."" msgstr """" ""Nelze pidat svazek %(volumeName)s do skupiny jednotnosti %(cgName)s. "" ""Nvratov kd: %(rc)lu. Chyba: %(error)s."" msgid """" ""Failed to assign the iSCSI initiator IQN. (port: %(port)s, reason: "" ""%(reason)s)"" msgstr ""Nelze pidlit zavad iSCSI IQN. (Port: %(port)s, dvod: %(reason)s)"" #, python-formatmsgid ""Failed to connect to array"" msgstr ""Nelze se pipojit k poli"" msgid ""Failed to create CG %(cgName)s from snapshot %(cgSnapshot)s."" msgstr """" ""Nelze vytvoit skupinu jednotnosti %(cgName)s ze snmku %(cgSnapshot)s."" #, python-format#, python-format msgid """" ""Failed to create a file. (file: %(file)s, ret: %(ret)s, stderr: %(err)s)"" msgstr """" ""Nelze vytvoit soubor. (Soubor: %(file)s, ret: %(ret)s, chybov vstup: "" ""%(err)s)"" #, python-format msgid ""Failed to create a temporary snapshot for volume %s."" msgstr ""Nelze vytvoit doasn snmek pro svazek %s."" msgid """" ""Failed to create consistency group %s because VNX consistency group cannot "" ""accept compressed LUNs as members."" msgstr """" ""Nelze vytvoit skupinu jednotnosti %s protoe skupina jednotnosti VNX neme "" ""pijmout komprimovan LUN jako leny."" #, python-format msgid ""Failed to create consistency group: %(cgName)s."" msgstr ""Nelze vytvoit skupinu jednotnosti: %(cgName)s."" #, python-format""Failed to create consistency group: %(consistencyGroupName)s Return code: "" ""%(rc)lu. Error: %(error)s."" msgstr """" ""Nelze vytvoit skupinu jednotnosti: %(consistencyGroupName)s. Nvratov kd: "" ""%(rc)lu. Chyba: %(error)s."" #, python-format msgid ""Failed to create hardware id(s) on %(storageSystemName)s."" msgstr ""Nelze vytvoit id hardwaru v %(storageSystemName)s."" #, python-format msgid """"msgid ""Failed to create iqn."" msgstr ""Nelze vytvoit iqn."" msgid ""Failed to create map on mcs, no channel can map."" msgstr ""Nelze vytvoit mapu na mcs, dn kanl neme mapovat."" msgid ""Failed to create map."" msgstr ""Nelze vytvoit mapu."" msgid ""Failed to create partition."" msgstr ""Nelze vytvoit oddl."" msgid ""Failed to create replica."" msgstr ""Nelze vytvoit repliku."" msgid ""Failed to create snapshot for cg: %(cgName)s."" msgstr ""Nelze vytvoit snmek pro skupinu jednotnosti: %(cgName)s."" #, python-formatmsgid ""Failed to create snapshot policy on volume %(vol)s: %(res)s."" msgstr ""Nelze vytvoit zsadu snmku ve svazku %(vol)s: %(res)s."" #, python-format msgid ""Failed to create snapshot resource area on volume %(vol)s: %(res)s."" msgstr ""Nelze vytvoit oblast zdroj snmku ve svazku %(vol)s: %(res)s."" msgid ""Failed to create snapshot."" msgstr ""Nelze vytvoit snmek."" #, python-format msgid """" ""Failed to create snapshot. CloudByte volume information not found for "" ""OpenStack volume [%s]."" msgstr """" ""Nelze vytvoit snmek. Informace o svazku CloudByte nenalezeny ve svazku "" ""Openstack [%s]."" #, python-formatmsgid ""Failed to delete SI for volume_id: %(volume_id)s because it has pair."" msgstr """" ""Nelze smazat SI svazku s id: %(volume_id)s protoe existuj dva s tmto id."" #, python-format msgid ""Failed to delete a logical device. (LDEV: %(ldev)s, reason: %(reason)s)"" msgstr """" ""Nelze smazat logick zazen. (Logick zazen: %(ldev)s, dvod: "" ""%(reason)s)"" #, python-formatmsgid ""Failed to delete consistency group: %(cgName)s."" msgstr ""Nelze smazat skupinu jednotnosti: %(cgName)s."" #, python-format msgid """" ""Failed to delete consistency group: %(consistencyGroupName)s Return code: "" ""%(rc)lu. Error: %(error)s."" msgstr """" ""Nelze smazat skupinu jednotnosti. %(consistencyGroupName)s. Nvratov kd: "" ""%(rc)lu. Chyba: %(error)s."" msgid ""Failed to delete device."" msgstr ""Smazn zazen selhalo."" #, python-formatmsgid ""Failed to delete iqn."" msgstr ""Nelze smazat iqn."" msgid ""Failed to delete map."" msgstr ""Nelze smazat mapu."" msgid ""Failed to delete partition."" msgstr ""Nelze smazat oddl."" msgid ""Failed to delete replica."" msgstr ""Nelze smazat repliku."" msgid ""Failed to delete snapshot for cg: %(cgId)s."" msgstr ""Nelze smazat snmek pro skupinu jednotnosti: %(cgId)s."" #, python-format msgid ""Failed to delete snapshot for snapshot_id: %s because it has pair."" msgstr ""Nelze smazat snmek s id %s protoe existuj dva s tmto id."" msgid ""Failed to delete snapshot."" msgstr ""Nelze smazat snmek."" #, python-format msgid ""Failed to delete volume %(volumeName)s."" msgstr ""Nelze smazat svazek %(volumeName)s."" #, python-format msgid """" ""Failed to delete volume for volume_id: %(volume_id)s because it has pair."" msgstr """" ""Nelze smazat svazek pro svazek s id: %(volume_id)s protoe existuj dva s "" ""tmto id."" #, python-formatmsgid ""Failed to determine blockbridge API configuration"" msgstr ""Nelze zjistit nastaven blockbridge API"" msgid """" ""Failed to ensure snapshot resource area, could not locate volume for id %s"" msgstr ""Nelze zajistit oblast zdroj snmku, nelze nalzt svazek s id %s"" msgid ""Failed to establish connection with Coho cluster"" msgstr ""Zaveden pipojen s clusterem Coho selhalo"" #, python-format msgid """" ""Failed to execute CloudByte API [%(cmd)s]. Http status: %(status)s, Error: "" ""%(error)s."" msgstr """" ""Nelze provst [%(cmd)s] CloudByte API. Stav http: %(status)s, chyba: "" ""%(error)s."" msgid ""Failed to execute common command."" msgstr ""Nelze provst bn pkaz."" #, python-formatmsgid ""Failed to get CloudByte account details for account [%s]."" msgstr ""Nelze zskat daje tu CloudByte [%s]."" #, python-formatmsgid ""Failed to get Partition ID for volume %(volume_id)s."" msgstr ""Nelze zskat ID oddlu pro svazek %(volume_id)s."" #, python-format msgid ""Failed to get Raid Snapshot ID from Snapshot %(snapshot_id)s."" msgstr ""Nelze zskat ID Raid snmku %(snapshot_id)s."" #, python-format msgid ""Failed to get Raid Snapshot ID from snapshot: %(snapshot_id)s."" msgstr ""Nelze zskat ID Raid snmku %(snapshot_id)s."" #, python-format msgid """" ""Failed to get a storage resource. The system will attempt to get the storage "" ""resource again. (resource: %(resource)s)"" msgstr """" ""Nelze zskat zdroj loit. Systm se ho pokus zskat znovu. (Zdroj: "" ""%(resource)s)"" #, python-formatmsgid ""Failed to get channel info."" msgstr ""Nelze zskat informace o kanlu."" msgid ""Failed to get device info."" msgstr ""Nelze zskat informace o zazen."" #, python-format msgid ""Failed to get ip on Channel %(channel_id)s with volume: %(volume_id)s."" msgstr ""Nelze zskat ip na kanlu %(channel_id)s se svazkem: %(volume_id)s."" msgid ""Failed to get iqn info."" msgstr ""Nelze zskat informace o iqn."" msgid ""Failed to get license info."" msgstr ""Nelze zskat informace o licenci."" msgid ""Failed to get lv info."" msgstr ""Nelze zskat informace o lv."" msgid ""Failed to get map info."" msgstr ""Nelze zskat informace o map."" msgid ""Failed to get network info."" msgstr ""Nelze zskat informace o sti."" #, python-format msgid ""Failed to get new part id in new pool: %(pool_id)s."" msgstr ""Nelze zskat nov id sti v nov zsob: %(pool_id)s."" msgid ""Failed to get partition info."" msgstr ""Nelze zskat informace o oddlu."" #, python-format msgid ""Failed to get pool id with volume %(volume_id)s."" msgstr ""Nelze zskat zsobu svazku s id %(volume_id)s."" msgid ""Failed to get replica info."" msgstr ""Nelze zskat informace o replice."" msgid ""Failed to get snapshot info."" msgstr ""Nelze zskat informace o snmku."" msgid ""Failed to get wwn info."" msgstr ""Nelze zskat informace o wwn."" #, python-format msgid """" ""Failed to get, create or add volume %(volumeName)s to masking view "" ""%(maskingViewName)s. The error message received was %(errorMessage)s."" msgstr """" ""Nelze zskat, vytvoit, nebo pidat svazek %(volumeName)s pro zamaskovn "" ""%(maskingViewName)s. Obdren chybov zprva byla %(errorMessage)s."" msgid """" ""Failed to map a logical device. (LDEV: %(ldev)s, LUN: %(lun)s, port: "" ""%(port)s, id: %(id)s)"" msgstr """" ""Nelze mapovat logick zazen. (Logick zazen: %(ldev)s, LUN: %(lun)s, "" ""port: %(port)s, id: %(id)s)"" msgid ""Failed to migrate volume for the first time."" msgstr ""Nelze pesunout svazek poprv."" msgid ""Failed to migrate volume for the second time."" msgstr ""Nelze pesunout svazek podruh."" #, python-formatmsgid ""Failed to open a file. (file: %(file)s, ret: %(ret)s, stderr: %(err)s)"" msgstr """" ""Nelze otevt soubor. (Soubor: %(file)s, ret: %(ret)s, chybov vstup: "" ""%(err)s)"" #, python-formatmsgid """" ""Failed to perform a zero-page reclamation. (LDEV: %(ldev)s, reason: "" ""%(reason)s)"" msgstr """" ""Nelze provst reklamaci nult strnky. (Logick zazen: %(ldev)s, dvod: "" ""%(reason)s)"" #, python-format""Failed to remove volume %(volumeName)s from consistency group %(cgName)s. "" ""Return code: %(rc)lu. Error: %(error)s."" msgstr """" ""Nelze odstranit svazek %(volumeName)s ze skupiny jednotnosti %(cgName)s. "" ""Nvratov kd: %(rc)lu. Chyba: %(error)s."" #, python-format msgid ""Failed to remove volume %(volumeName)s from default SG."" msgstr ""Nelze odstranit svazek %(volumeName)s z vchoz skupiny loit."" #, python-format msgid ""Failed to remove volume %(volumeName)s from default SG: %(volumeName)s."" msgstr """" ""Nelze odstranit svazek %(volumeName)s z vchoz skupiny loit: "" ""%(volumeName)s."" #, python-format msgid """" ""Failed to remove: %(volumename)s. from the default storage group for FAST "" ""policy %(fastPolicyName)s."" msgstr """" ""Nelze odstranit: %(volumename)s. z vchoz skupiny loit pro zsadu FAST "" ""%(fastPolicyName)s."" #, python-format msgid """"msgid ""Failed to set partition."" msgstr ""Nelze nastavit oddl."" ""Failed to specify a logical device for the volume %(volume_id)s to be "" ""unmapped."" msgstr """" ""Nelze zadat logick zazen pro svazek %(volume_id)s pro zruen namapovn."" #, python-format msgid """" ""Failed to specify a logical device to be deleted. (method: %(method)s, id: "" ""%(id)s)"" msgstr """" ""Nelze zadat logick zazen ke smazn. (Metoda: %(method)s, id: %(id)s)"" msgid ""Failed to terminate migrate session."" msgstr ""Nelze ukonit sezen pesunu."" #, python-format msgid ""Failed to unbind volume %(volume)s"" msgstr ""Nelze rozvzat svazek %(volume)s"" #, python-format msgid """"msgid ""Failed to unmap a logical device. (LDEV: %(ldev)s, reason: %(reason)s)"" msgstr """" ""Nelze zruit mapovn logickho zazen. (Logick zazen: %(ldev)s, "" ""dvod: %(reason)s)"" #, python-format msgid ""Failed to update consistency group: %(cgName)s."" msgstr ""Nelze aktualizovat skupinu jednotnosti: %(cgName)s."" #, python-formatmsgid ""Gateway VIP is not set"" msgstr ""Brna VIP nen nastavena"" msgid ""Gluster config file at %(config)s doesn't exist"" msgstr ""Konfiguran soubor Gluster v %(config)s neexistuje."" #, python-formatmsgid ""HBSD error occurs."" msgstr ""Objevena chyba HBSD."" msgid ""Have not created %(tier_levels)s tier(s)."" msgstr ""Vrstvy %(tier_levels)s nebyly vytvoeny."" #, python-formatmsgid """" ""Host %(host)s does not match x509 certificate contents: CommonName "" ""%(commonName)s."" msgstr """" ""Hostitel %(host)s neodpovd obsahu certifiktu x509: Bn nzev: "" ""%(commonName)s."" #, python-format#, python-format msgid ""I/O group %(iogrp)d is not valid; available I/O groups are %(avail)s."" msgstr """" ""Skupina vstupu/vstupu %(iogrp)d nen platn; platn skupiny jsou %(avail)s."" #, python-format msgid """" ""Import record failed, cannot find backup service to perform the import. "" ""Request service %(service)s"" msgstr """" ""Importovn zznamu selhalo, nelze najt zlohovac slubu pro proveden "" ""importu. Poadovan sluba %(service)s"" #, python-format msgid """" ""Infortrend CLI exception: %(err)s Param: %(param)s (Return Code: %(rc)s) "" ""(Output: %(out)s)"" msgstr """" ""Vjimka CLI Infortrend: %(err)s, parametr: %(param)s (Nvratov kd: %(rc)s) "" ""(Vstup: %(out)s)"" msgid ""Insufficient free space available to extend volume."" msgstr ""Pro rozen svazku nen dostatek volnho msta."" msgid ""Insufficient privileges"" msgstr ""Nedostaten oprvnn"" msgid ""Invalid ConsistencyGroup: No host to create consistency group"" msgstr """" ""Neplatn skupina jednotnosti: dn hostitel pro vytvoen skupiny "" ""jednotnosti."" msgid ""Invalid argument"" msgstr ""Neplatn argument"" msgid ""Invalid argument - whence=%s not supported"" msgstr ""Neplatn argument - whence=%s nen podporovno"" #, python-formatmsgid ""Invalid chap user details found in CloudByte storage."" msgstr """" ""V loiti CloudByte nalezeny neplatn pihlaovac daje CHAP pro uivatele."" msgid ""Invalid credentials"" msgstr ""Neplatn pihlaovac daje"" msgid ""Invalid port number %(config)s for Coho rpc port"" msgstr ""Neplatn slo portu %(config)s pro port RPC Coho"" #, python-formatmsgid ""Invalid response header from RPC server"" msgstr ""Neplatn hlavika odpovdi od serveru RPC"" msgid ""Invalid value '%s' for force. "" msgstr ""Neplatn hodnota '%s' pro force."" #, python-format msgid ""Invalid value '%s' for is_public. Accepted values: True or False."" msgstr ""Neplatn hodnota '%s' pro is_public. Patn hodnoty: True nebo False. "" #, python-formatmsgid """" ""Invalid volume: Cannot add volume %(volume_id)s to consistency group "" ""%(group_id)s because volume is in an invalid state: %(status)s. Valid states "" ""are: ('available', 'in-use')."" msgstr """" ""Neplatn svazek: Nelze pidat svazek %(volume_id)s do skupiny jednotnosti "" ""%(group_id)s protoe svazek je v neplatnm stavu: %(status)s. Platn stavy "" ""jsou: ('available', 'in-use')."" #, python-format msgid """" ""Invalid volume: Cannot add volume %(volume_id)s to consistency group "" ""%(group_id)s because volume type %(volume_type)s is not supported by the "" ""group."" msgstr """" ""Neplatn svazek. Nelze pidat svazek %(volume_id)s do skupiny jednotnosti "" ""%(group_id)s protoe typ svazku %(volume_type)s tato skupina nepodporuje."" #, python-format msgid """" ""Invalid volume: Cannot add volume fake-volume-uuid to consistency group "" ""%(group_id)s because volume cannot be found."" msgstr """" ""Neplatn svazek: Nelze pidat svazek valen-uuid-svazku do skupiny "" ""jednotnosti %(group_id)s protoe svazek nelze nalzt."" #, python-format msgid """" ""Invalid volume: Cannot remove volume fake-volume-uuid from consistency group "" ""%(group_id)s because it is not in the group."" msgstr """" ""Neplatn svazek: Nelze odstranit svazek falen-uuid-svazku ze skupiny "" ""jednotnosti %(group_id)s protoe nen ve skupin."" #, python-format#, python-format msgid ""Job id not found in CloudByte's create volume [%s] response."" msgstr ""kol nebyl nalezen v CloudByte odpovdi pro vytvoen svazku [%s]."" #, python-format msgid ""Job id not found in CloudByte's delete volume [%s] response."" msgstr ""kol nebyl nalezen v CloudByte odpovdi pro smazn svazku [%s]."" msgid ""LUN export failed!"" msgstr ""Export LUN selhal!"" msgid ""LUN map overflow on every channel."" msgstr ""Peteen LUN mapy ve vech kanlech."" msgid ""LUN number is out of bound on channel id: %(ch_id)s."" msgstr ""slo LUN je mimo rozsah v kanlu s id: %(ch_id)s."" #, python-formatmsgid ""Link path already exists and its not a symlink"" msgstr ""Cesta odkazu ji existuje a nen to symbolick odkaz."" msgid ""MSG_DENIED: %r"" msgstr ""Zprva zamtnuta: %r"" #, python-format msgid ""MSG_DENIED: AUTH_ERROR: %r"" msgstr ""Zprva zamtnuta: Chyba pi oven: %r"" #, python-format msgid ""MSG_DENIED: RPC_MISMATCH: %r"" msgstr ""Zprva zamtnuta: Neshoda vzdlenho voln procedur: %r"" #, python-format""Manage volume is not supported if FAST is enable. FAST policy: "" ""%(fastPolicyName)s."" msgstr """" ""Sprva svazku nen podporovna, pokud je FAST povoleno. Zsada FAST: "" ""%(fastPolicyName)s."" #, python-format msgid """"msgid ""Masking view %(maskingViewName)s was not deleted successfully"" msgstr ""Maskovn %(maskingViewName)s nebylo spn smazno"" #, python-formatmsgid ""Metadata property key blank."" msgstr ""Kl vlastnosti popisnch dat je przdn."" msgid ""Missing required element 'consistencygroup' in request body."" msgstr ""V tle dosti chyb povinn prvek 'consistencygroup'."" msgid ""Missing required element quota_class_set in request body."" msgstr ""V tle dosti chyb povinn prvek quota_class_set."" msgid ""Missing required element snapshot in request body."" msgstr ""V tle dosti chyb poadovan prvek snapshot."" msgid """" ""Multiple SerialNumbers found, when only one was expected for this operation. "" ""Please change your EMC config file."" msgstr """" ""Nalezeno mnoho sriovch sel, ale pro tuto operaci bylo oekvno pouze "" ""jedno. Prosm upravte v soubor s nastavenm EMC."" msgid ""Must implement find_retype_host"" msgstr ""Je nutn zavst find_retype_host"" msgid ""Must implement host_passes_filters"" msgstr ""Je nutn zavst host_passes_filters"" msgid ""Must implement schedule_create_consistencygroup"" msgstr ""Je nutn zavst schedule_create_consistencygroup"" msgid ""Must specify 'connector'."" msgstr ""Muste zadat 'connector'."" msgid ""Must specify 'host'."" msgstr ""Muste zadat 'host'."" msgid ""Must specify protection domain name or protection domain id."" msgstr ""Muste zadat nzev nebo id ochrann domny."" msgid ""Must specify storage pool name or id."" msgstr ""Nzev nebo id zsoby loit mus bt zadno."" #, python-format msgid ""Neither MSG_DENIED nor MSG_ACCEPTED: %r"" msgstr ""Zprva nebyla zamtnuta ani pijata: %r"" msgid ""No FCP targets found"" msgstr ""dn cle FCP nenalezeny"" msgid ""No Port Group elements found in config file."" msgstr ""V souboru nastaven nenalezeny dn prvky skupiny portu."" #, python-format msgid ""No available service named %s"" msgstr ""dn dostupn sluba nazvan %s"" #, python-format msgid ""No backup with id %s"" msgstr ""dn zloha s id %s"" msgid ""No big enough free disk"" msgstr ""dn dostaten velk voln disk"" #, python-format msgid ""No cgsnapshot with id %s"" msgstr ""dn snmek jednotnosti s id %s"" msgid ""No consistency group with id %s"" msgstr ""dn skupina jednotnosti s id %s"" #, python-formatmsgid ""No free disk"" msgstr ""dn voln disk"" #, python-format msgid ""No host to create consistency group %s."" msgstr ""dn hostitel pro vytvoen skupiny jednotnosti %s."" msgid ""No initiators found, cannot proceed"" msgstr ""Nebyly nalezeny dn zavade, nelze pokraovat"" msgid ""No iscsi auth groups were found in CloudByte."" msgstr ""V CloudByte nebyly nalezeny dn ovovac skupiny iscsi."" msgid ""No iscsi initiators were found in CloudByte."" msgstr ""V CloudByte nebyly nalezeny dn zavade iscsi."" #, python-format msgid ""No iscsi service found for CloudByte volume [%s]."" msgstr ""Ve svazku Cloudbyte [%s] nebyly nalezeny dn sluby iscsi."" msgid ""No iscsi services found in CloudByte storage."" msgstr ""V loiti Cloudbyte nebyly nalezeny dn sluby iscsi."" #, python-format msgid ""No key file specified and unable to load key from %(cert)s %(e)s."" msgstr ""Nezadn dn kl a nelze ho nast z %(cert)s %(e)s."" msgid ""No mounted Gluster shares found"" msgstr ""Nenalezena dn pipojen sdlen Gluster"" msgid """" ""No response was received from CloudByte storage list iSCSI auth user API "" ""call."" msgstr """" ""dn odpov pi vpisu voln API pihlaovacch daj uivatele iSCSI "" ""loit CloudByte."" msgid ""No response was received from CloudByte storage list tsm API call."" msgstr ""dn odpov od vpisu voln api tsm loit CloudByte."" msgid ""No response was received from CloudByte's list filesystem api call."" msgstr ""dn odpov od vpisu voln api souborovho systmu CloudByte."" msgid ""No service VIP configured and no nexenta_client_address"" msgstr ""Nenastavena dn VIP pro slubu a nejsou dn adresy klienta nexenta"" msgid ""No source snapshots provided to create consistency group %s."" msgstr """" ""Nebyly zadny dn zdrojov snmky pro vytvoen skupiny jednotnosti %s."" #, python-formatmsgid ""No valid host was found. %(reason)s"" msgstr ""Nebyl nalezen dn platn hostitel. %(reason)s"" #, python-format msgid ""No valid hosts for volume %(id)s with type %(type)s"" msgstr ""dn platn hostitel pro svazek %(id)s s typem %(type)s"" #, python-formatmsgid ""No volume was found at CloudByte storage."" msgstr ""V loiti CloudByte nebyl nalezen dn svazek."" msgid ""No volume_type should be provided when creating test replica."" msgstr ""Pi vytven zkuebn repliky by neml bt zadn dn typ svazku."" msgid ""No volumes found in CloudByte storage."" msgstr ""V loiti Cloudbyte nebyly nalezeny dn svazky."" msgid ""No weighed hosts available"" msgstr ""dn ven hostitel nejsou dostupn"" #, python-format msgid ""Not a valid string: %s"" msgstr ""%s nen platn etzec."" #, python-format msgid ""Not able to find a suitable datastore for the volume: %s."" msgstr ""Nelze nalzt vhodn datov loit pro svazek: %s."" msgid ""Null response received from CloudByte's list filesystem."" msgstr ""Pi vpisu souborovho sytmu CloudByte byla obdrena nulov odpov."" msgid ""Null response received from CloudByte's list iscsi auth groups."" msgstr ""Obdrena przdn odpov od vpisu ovovacch skupin iscsi CloudByte."" msgid ""Null response received from CloudByte's list iscsi initiators."" msgstr ""Od vpisu zavad iscsi CloudByte byla obdrena przdn odpov."" msgid ""Null response received from CloudByte's list volume iscsi service."" msgstr ""Od vpisu slueb iscsi svazku CloudByte byla obdrena przdn odpov."" #, python-format msgid ""Null response received while creating volume [%s] at CloudByte storage."" msgstr """" ""Pi vytven svazku [%s] v loiti CloudByte byla obdrena przdn odpov."" #, python-format msgid ""Null response received while deleting volume [%s] at CloudByte storage."" msgstr """" ""Pi mazn svazku [%s] v loiti CloudByte byla obdrena przdn odpov."" #, python-format msgid """" ""Null response received while querying for [%(operation)s] based job "" ""[%(job)s] at CloudByte storage."" msgstr """" ""Pi dotazovn kolu [%(job)s] vyuvajc [%(operation)s] v loiti "" ""CloudByte byla obdrena przdn odpov."" #, python-format msgid """" ""On an Extend Operation, error adding volume to composite volume: "" ""%(volumename)s."" msgstr """" ""Chyba pi pidvn svazku do sloenho svazku bhem operace rozen: "" ""%(volumename)s."" msgid ""Option gpfs_images_share_mode is not set correctly."" msgstr ""Volba gpfs_images_share_mode nen sprvn nastavena."" #, python-format msgid ""Please create %(pool_list)s pool in advance!"" msgstr ""Prosm pedem vytvote zsobu %(pool_list)s!"" #, python-format msgid ""Please create %(tier_levels)s tier in pool %(pool)s in advance!"" msgstr ""Prosm pedem vytvote vrstvu %(tier_levels)s v zsob %(pool)s!"" #, python-format msgid ""Pool %(poolNameInStr)s is not found."" msgstr ""Zsoba %(poolNameInStr)s nebyla nalezena."" #, python-format msgid ""Pool from volume['host'] %(host)s not found."" msgstr ""Zsoba ze svazku['hostitel] %(host)s nebyla nalezena."" #, python-format msgid ""Pool from volume['host'] failed with: %(ex)s."" msgstr ""Zsoba ze svazku['hostitel] selhala: %(ex)s."" msgid ""Pool with name %(pool)s wasn't found in domain %(domain)s."" msgstr ""Zsoba s nzvem %(pool)s nebyla nalezena v domn %(domain)s."" #, python-formatmsgid """" ""Pool: %(poolName)s. is not associated to storage tier for fast policy "" ""%(fastPolicy)s."" msgstr """" ""Zsoba: %(poolName)s. nen pidruena k vrstv loit pro zsadu fast "" ""%(fastPolicy)s."" #, python-format msgid ""PoolName must be in the file %(fileName)s."" msgstr ""Nzev zsoby mus bt v souboru %(fileName)s."" #, python-formatmsgid ""Pools name is not set."" msgstr ""Nzev zsoby nen nastaven."" #, python-format msgid ""Primary copy status: %(status)s and synchronized: %(sync)s."" msgstr ""Stav hlavn kopie: %(status)s a synchronizovn: %(sync)s."" msgid """" ""Provider information w.r.t CloudByte storage was not found for OpenStack "" ""volume [%s]."" msgstr """" ""Informace poskytovatele s ohledem na loit Cloudbyte nebyly nalezeny pro "" ""svazek OpenStack [%s]."" #, python-formatmsgid """" ""Query by service parameter is deprecated. Please use binary parameter "" ""instead."" msgstr """" ""Parametr dotaz podle sluby je zastaral. Msto toho pouijte binrn "" ""parametr."" msgid ""Quota %s limit must be equal or greater than existing resources."" msgstr ""Limit kvty %s mus bt vt nebo rovno existujcm zdrojm."" #, python-formatmsgid ""REST server IP must by specified."" msgstr ""IP serveru REST mus bt zadno."" msgid ""REST server password must by specified."" msgstr ""Heslo serveru REST mus bt zadno."" msgid ""REST server username must by specified."" msgstr ""Uivatelsk jmno serveru REST mus bt zadno."" msgid ""RPC server response is incomplete"" msgstr ""Odpov serveru RPC je nedokonen"" msgid ""Raid did not have MCS Channel."" msgstr ""RAID neml kanl MCS."" #, python-format msgid ""Replication Service Capability not found on %(storageSystemName)s."" msgstr ""Schopnost sluby replikace nebyla nalezena v %(storageSystemName)s."" #, python-format msgid ""Replication Service not found on %(storageSystemName)s."" msgstr ""Sluba replikace nebyla nalezena v %(storageSystemName)s."" #, python-format msgid """" ""Requested volume size %(size)d is larger than maximum allowed limit "" ""%(limit)d."" msgstr """" ""Poadovan velikost svazku %(size)d je vt ne maximln povolen limit "" ""%(limit)d."" msgid ""Required flag %s is not set"" msgstr ""Podovan pznak %s nen nastaven"" #, python-formatmsgid ""Rolling back %(volumeName)s by deleting it."" msgstr ""Vrcen %(volumeName)s zpt jeho vymaznm."" #, python-formatmsgid ""SMBFS config 'smbfs_oversub_ratio' invalid. Must be > 0: %s"" msgstr ""Nastaven SMBFS 'smbfs_oversub_ratio' je neplatn. Mus bt > 0: %s"" #, python-format msgid ""SMBFS config 'smbfs_used_ratio' invalid. Must be > 0 and <= 1.0: %s"" msgstr """" ""Nastaven SMBFS 'smbfs_used_ratio' je neplatn. Mus bt > 0 a <= 1.0: %s"" #, python-formatmsgid ""SSL Certificate expired on %s."" msgstr ""Certifikt SSL vyprel %s."" #, python-format msgid ""SSL error: %(arg)s."" msgstr ""Chyba SSL: %(arg)s."" #, python-formatmsgid """" ""Secondary copy status: %(status)s and synchronized: %(sync)s, sync progress "" ""is: %(progress)s%%."" msgstr """" ""Stav druh kopie: %(status)s a synchronizovn: %(sync)s, postup "" ""synchronizace je: %(progress)s%%."" #, python-format msgid ""SerialNumber must be in the file %(fileName)s."" msgstr ""Sriov slo mus bt v souboru %(fileName)s."" #, python-format#, python-format msgid """" ""Snapshot cannot be created because volume %(vol_id)s is not available, "" ""current volume status: %(vol_status)s."" msgstr """" ""Snmek nelze vytvoit protoe svazek %(vol_id)s nen dostupn, souasn stav "" ""svazku: %(vol_status)s."" msgid ""Snapshot status must be \""available\"" to clone."" msgstr ""Stav snmku mus bt pro klonovn \""available\""."" #, python-format msgid """" ""Snapshot='%(snap)s' does not exist in base image='%(base)s' - aborting "" ""incremental backup"" msgstr """" ""Snmek='%(snap)s' neexistuje v zkladnm obrazu='%(base)s' - ruen "" ""prstkov zlohy"" #, python-format msgid ""Snapshots are not supported for this volume format: %s"" msgstr ""Snmky nejsou podporovny pro tento formt snmku: %s"" #, python-format msgid ""Socket error: %(arg)s."" msgstr ""Chyba soketu: %(arg)s."" msgid ""Source CG is empty. No consistency group will be created."" msgstr """" ""Zdrojov skupina jednotnosti je przdn. dn skupina nebude vytvoena."" msgid ""Specified logical volume does not exist."" msgstr ""Zadan logick svazek neexistuje."" msgid ""Storage Configuration Service not found on %(storageSystemName)s."" msgstr ""Sluba nastaven loit nebyla nalezena v %(storageSystemName)s."" #, python-format msgid ""Storage HardwareId mgmt Service not found on %(storageSystemName)s."" msgstr """" ""Sluba sprvy id hardwaru loit nebyla nalezena v %(storageSystemName)s."" #, python-format msgid ""Storage Profile %s not found."" msgstr ""Profil loit %s nenalezen."" #, python-format msgid ""Storage Relocation Service not found on %(storageSystemName)s."" msgstr """" ""Sluba zmny umstn loit nebyla nalezena v %(storageSystemName)s."" #, python-formatmsgid ""Storage group %(storageGroupName)s was not deleted successfully"" msgstr ""Skupina loit %(storageGroupName)s nebyla spn smazna"" #, python-formatmsgid ""Storage resource could not be found."" msgstr ""Zdroj loit nemohl bt nalezen."" msgid ""Storage system not found for pool %(poolNameInStr)s."" msgstr ""Systm loit nebyl nalezen pro zsobu %(poolNameInStr)s."" #, python-format msgid ""StorageSystem %(array)s is not found."" msgstr ""Systm loit %(array)s nebyl nalezen."" #, python-format#, python-format msgid """" ""TSM [%(tsm)s] was not found in CloudByte storage for account [%(account)s]."" msgstr """" ""TSM [%(tsm)s] nebylo v loiti CloudByte nalezeno pro et [%(account)s]."" #, python-format msgid ""The %(type)s %(id)s source to be replicated was not found."" msgstr ""Zdroj %(type)s %(id)s pro replikovn nebyl nalezen."" msgid ""The EQL array has closed the connection."" msgstr ""Pole EQL uzavelo pipojen."" msgid ""The IP Address was not found."" msgstr ""IP adresa nebyla nalezena."" #, python-format msgid """" ""The array does not support the storage pool setting for SLO %(slo)s and "" ""workload %(workload)s. Please check the array for valid SLOs and workloads."" msgstr """" ""Pole nepodporuje nastaven zsoby loit pro SLO %(slo)s a zaten "" ""%(workload)s. Prosm zkontrolujte pole pro platn SLO a zaten."" #, python-format msgid """" ""The command %(cmd)s failed. (ret: %(ret)s, stdout: %(out)s, stderr: %(err)s)"" msgstr """" ""Pkaz %(cmd)s selhal. (ret: %(ret)s, standardn vstup: %(out)s, chybov "" ""vstup: %(err)s."" #, python-format msgid """" ""The creation of a logical device could not be completed. (LDEV: %(ldev)s)"" msgstr """" ""Vytvoen logickho zazen nemohlo bt dokoneno. (Logick zazen: "" ""%(ldev)s)"" msgid ""The extraspec: %(extraspec)s is not valid."" msgstr ""Dodaten specifikace: %(extraspec)s nen platn."" #, python-formatmsgid ""The host group or iSCSI target could not be added."" msgstr ""Skupina hostitele nebo cl iSCSI nemohly bt pidny."" msgid ""The host group or iSCSI target was not found."" msgstr ""Skupina hostitele nebo cl iSCSI nebyly nalezeny."" #, python-format msgid ""The iSCSI CHAP user %(user)s does not exist."" msgstr ""CHAP uivatel iSCSI %(user)s neexistuje."" #, python-format msgid ""The logical device for specified %(type)s %(id)s was already deleted."" msgstr ""Logick zazen pro zadan %(type)s %(id)s ji je smazno."" #, python-format msgid ""The method %(method)s is timed out. (timeout value: %(timeout)s)"" msgstr ""Metod %(method)s vyprel asov limit. (Hodnota limitu: %(timeout)s)"" #, python-format msgid """" ""The mount %(mount_path)s is not a valid Quobyte USP volume. Error: %(exc)s"" msgstr ""Pipojen %(mount_path)s nen platn svazek Quobyte USP. Chyba %(exc)s"" #, python-format msgid ""The parameter of the storage backend. (config_group: %(config_group)s)"" msgstr """" ""Parametr podprn vrstvy loit. (Skupina nastaven: %(config_group)s)"" ""The reference to the volume in the backend should have the format "" ""file_system/volume_name (volume_name cannot contain '/')"" msgstr """" ""Odkaz na svazek v podprn vrstv by ml bt ve formtu souborov systm/"" ""nzev svazku (nzev svazku neme obsahovat '/')"" msgid """"#, python-format msgid """" ""The requested size : %(requestedSize)s is not the same as resulting size: "" ""%(resultSize)s."" msgstr """" ""Poadovan velikost : %(requestedSize)s nen stejn jako vsledn velikost: "" ""%(resultSize)s."" #, python-format msgid ""The resource %(resource)s was not found."" msgstr ""Zdroj %(resource)s nebyl nalezen."" #, python-format msgid ""The specified %(desc)s is busy."" msgstr ""Zadan %(desc)s je zaneprzdnno."" #, python-format msgid """" ""The specified ldev %(ldev)s could not be managed. The ldev must not be "" ""mapping."" msgstr """" ""Zadan logick zazen %(ldev)s neme bt spravovno. Zazen nesm bt "" ""mapovno."" #, python-format msgid """" ""The specified ldev %(ldev)s could not be managed. The ldev must not be "" ""paired."" msgstr """" ""Zadan logick zazen %(ldev)s neme bt spravovno. Zazen nesm bt "" ""sprovno."" #, python-format msgid """" ""The specified ldev %(ldev)s could not be managed. The ldev size must be in "" ""multiples of gigabyte."" msgstr """" ""Zadan logick zazen %(ldev)s neme bt spravovno. Velikost zazen "" ""mus bt v nsobcch gigabajtu."" #, python-format msgid """" ""The specified ldev %(ldev)s could not be managed. The volume type must be DP-"" ""VOL."" msgstr """" ""Zadan logick zazen %(ldev)s neme bt spravovno. Typ svazku mus bt "" ""DP-VOL."" #, python-format msgid """" ""The specified operation is not supported. The volume size must be the same "" ""as the source %(type)s. (volume: %(volume_id)s)"" msgstr """" ""Zadan operace nen podporovna. Velikost svazku mus bt stejn jako zdroj "" ""%(type)s. (svazek: %(volume_id)s)"" msgid ""The specified volume is mapped to a host."" msgstr ""Zadan svazek je namapovn k hostiteli."" msgid ""The storage backend can be used. (config_group: %(config_group)s)"" msgstr """" ""Podprn vrstva loit me bt pouita. (Skupina nastaven: "" ""%(config_group)s)"" #, python-format msgid """" ""The striped meta count of %(memberCount)s is too small for volume: "" ""%(volumeName)s, with size %(volumeSize)s."" msgstr """" ""Odebran poet popisnch dat z %(memberCount)s je pli mal pro svazek: "" ""%(volumeName)s, s velikost %(volumeSize)s."" #, python-format#, python-format msgid """" ""The volume %(volume_id)s could not be extended. The volume type must be "" ""Normal."" msgstr """" ""Svazek %(volume_id)s nemohl bt rozen. Typ svazku mus bt Normln."" #, python-format msgid """" ""The volume %(volume_id)s could not be unmanaged. The volume type must be "" ""%(volume_type)s."" msgstr """" ""Nelze zruit sprvu svazku %(volume_id)s. Typ svazku mus bt "" ""%(volume_type)s."" #, python-format msgid ""The volume %(volume_id)s is managed successfully. (LDEV: %(ldev)s)"" msgstr """" ""Svazek %(volume_id)s byl spn zaazen pod sprvu. (Logick zazen: "" ""%(ldev)s)"" #, python-format msgid ""The volume %(volume_id)s is unmanaged successfully. (LDEV: %(ldev)s)"" msgstr """" ""Svazek %(volume_id)s byl spn odstrann ze sprvy. (Logick zazen: "" ""%(ldev)s)"" #, python-format msgid ""The volume %(volume_id)s to be mapped was not found."" msgstr ""Svazek %(volume_id)s pro mapovn nemohl bt nalezen."" #, python-format msgid ""There are no resources available for use. (resource: %(resource)s)"" msgstr ""dn dostupn zdroje k pouit. (Zdroj: %(resource)s)"" #, python-format msgid """" ""There is no designation of the %(param)s. The specified storage is essential "" ""to manage the volume."" msgstr """" ""Neexistuje oznaen pro %(param)s. Zadan loit je pro sprvu svazku "" ""nezbytn."" msgid """" ""There is no designation of the ldev. The specified ldev is essential to "" ""manage the volume."" msgstr """" ""Neexistuje oznaen pro logick zazen. Zadan logick zazen je "" ""nezbytn pro sprvu svazku."" msgid ""There's no Gluster config file configured (%s)"" msgstr ""Nen nastaven dn konfiguran soubor Gluster (%s)"" #, python-formatmsgid ""This driver does not support deleting in-use snapshots."" msgstr ""Tento ovlada nepodporuje mazn prv pouvanch snmk."" msgid ""This driver does not support snapshotting in-use volumes."" msgstr ""Tento ovlada nepodporuje vytven snmk u prv pouvanch svazk."" msgid ""Tier Policy Service not found for %(storageSystemName)s."" msgstr ""Sluba zsad nebyla nalezena v %(storageSystemName)s."" #, python-format""Transfer %(transfer_id)s: Volume id %(volume_id)s in unexpected state "" ""%(status)s, expected awaiting-transfer"" msgstr """" ""Penos %(transfer_id)s: Svazek s ID %(volume_id)s je v neoekvanm stavu "" ""%(status)s, pedpokldno ekn na penos"" #, python-format msgid """"#, python-format msgid ""Unable to create consistency group %s"" msgstr ""Nelze vytvoit skupinu jednotnosti %s"" msgid """" ""Unable to create or get default storage group for FAST policy: "" ""%(fastPolicyName)s."" msgstr """" ""Nelze vytvoit nebo zskat vchoz skupinu loit pro zsadu FAST: "" ""%(fastPolicyName)s."" #, python-format msgid ""Unable to create replica clone for volume %s."" msgstr ""Nelze vytvoit klon repliky svazku %s."" #, python-format msgid ""Unable to delete Consistency Group snapshot %s"" msgstr ""Nelze smazat snmek skupiny jednotnosti %s"" #, python-format#, python-format msgid ""Unable to delete snapshot policy on volume %s."" msgstr ""Nelze smazat zsadu snmku ve svazku %s."" msgid ""Unable to get corresponding record for pool."" msgstr ""Nelze zskat odpovdajc zznam pro zsobu"" msgid ""Unable to get target endpoints for hardwareId %(hardwareIdInstance)s."" msgstr """" ""Nelze zskat clov koncov body pro hardware s ID %(hardwareIdInstance)s."" #, python-format msgid """" ""Unable to import volume %(deviceId)s to cinder. It is the source volume of "" ""replication session %(sync)s."" msgstr """" ""Nelze importovat svazek %(deviceId)s do cinder. Je to zdrojov svazek sezen "" ""replikace %(sync)s."" #, python-format msgid """" ""Unable to import volume %(deviceId)s to cinder. The external volume is not "" ""in the pool managed by current cinder host."" msgstr """" ""Nelze importovat svazek %(deviceId)s do cinder. Vnj svazek nen v zsob "" ""spravovan souasnm hostitelem cinder."" #, python-format msgid """" ""Unable to import volume %(deviceId)s to cinder. Volume is in masking view "" ""%(mv)s."" msgstr """" ""Nelze importovat svazek %(deviceId)s do cinder. Zobrazen svazku je "" ""maskovno %(mv)s."" #, python-format msgid ""Unable to load CA from %(cert)s %(e)s."" msgstr ""Nelze nast certifikan autoritu z %(cert)s %(e)s."" #, python-format msgid ""Unable to load cert from %(cert)s %(e)s."" msgstr ""Nelze nast certifikt z %(cert)s %(e)s."" #, python-format msgid ""Unable to load key from %(cert)s %(e)s."" msgstr ""Nelze nast kl z %(cert)s %(e)s."" #, python-format#, python-format msgid """" ""Unable to promote replica to primary for volume %s. No secondary copy "" ""available."" msgstr ""Nelze povit repliku na hlavn pro svazek %s. Druh kopie neexistuje."" #, python-format msgid """" ""Unable to retype: Current action needs volume-copy, it is not allowed when "" ""new type is replication. Volume = %s"" msgstr """" ""Nezle petypovat: Souasn innost vyaduje kopii svazku, nen povoleno, "" ""pokud je nov typ replikace. Svazek = %s"" #, python-format msgid ""Unable to snap Consistency Group %s"" msgstr ""Nelze vytvoit snmek skupiny jednotnosti %s"" #, python-format msgid ""Unable to update consistency group %s"" msgstr ""Nelze aktualizovat skupinu jednotnosti %s"" #, python-format msgid """" ""Unable to verify initiator group: %(igGroupName)s in masking view "" ""%(maskingViewName)s. "" msgstr """" ""Nelze ovit skupinu zavade: %(igGroupName)s por zamaskovn "" ""%(maskingViewName)s. "" msgid ""Unexpected response from Tegile IntelliFlash API"" msgstr ""Neoekvan odpov od Tegile IntelliFlash API"" msgid ""Unknown Gluster exception"" msgstr ""Neznm vjimka Gluster"" msgid ""Unknown protocol: %(protocol)s."" msgstr ""Neznm protokol: %(protocol)s."" #, python-formatmsgid ""V2 rollback, volume is not in any storage group."" msgstr ""Zptn vrcen V2, svazek nen v dn skupin loit."" msgid ""V3 rollback"" msgstr ""Zptn vrcen V3"" msgid ""Value %(param)s for %(param_string)s is not a boolean."" msgstr ""Hodnota %(param)s pro %(param_string)s nen boolean."" msgid ""Value required for 'scality_sofs_config'"" msgstr ""Je teba zadat hodnotu pro 'scality_sofs_config'"" #, python-formatmsgid """" ""Volume %(name)s not found on the array. Cannot determine if there are "" ""volumes mapped."" msgstr """" ""Svazek %(name)s nebyl nalezen v poli. Nelze zjistit zda jsou svazky "" ""namapovny."" #, python-formatmsgid ""Volume %(volume_name)s is busy."" msgstr ""Svazek %(volume_name)s je zaneprzdnn."" #, python-formatmsgid ""Volume %s is already managed by OpenStack."" msgstr ""Svazek %s ji je spravovn OpenStack."" #, python-format#, python-format msgid """" ""Volume [%(cb_vol)s] was not found at CloudByte storage corresponding to "" ""OpenStack volume [%(ops_vol)s]."" msgstr """" ""Svazek [%(cb_vol)s] nebyl nalezen v loiti CloudByte odpovdajc svazku "" ""Openstack [%(ops_vol)s]."" #, python-format msgid ""Volume [%s] not found in CloudByte storage."" msgstr ""Svazek [%s] nebyl nalezen v loiti CloudByte."" #, python-format msgid ""Volume attachment could not be found with filter: %(filter)s ."" msgstr ""Pipojen svazku nebylo nalezen ve filtru: %(filter)s ."" #, python-format msgid ""Volume backend config is invalid: %(reason)s"" msgstr ""Nastaven podprn vrstvy svazku je neplatn: %(reason)s"" msgid ""Volume cannot be restored since it contains snapshots."" msgstr ""Svazek neme bt obnoven protoe obsahuje snmky."" msgid ""Volume is not local to this node"" msgstr ""Svazek nen pro tento uzel mstnm"" msgid ""Volume must be available"" msgstr ""Svazek mus bt dostupn"" msgid """" ""Volume not found on configured storage backend. If your volume name contains "" ""\""/\"", please rename it and try to manage again."" msgstr """" ""Svazek nebyl nalezen na nastaven podprn vrstv loit. Pokud obsah "" ""vaeho svazku obsahuje \""/\"", je teba ho pejmenovat a pak se pokus znovu o "" ""sprvu."" #, python-format msgid ""Volume status must be \""available\"" or \""in-use\"" for snapshot. (is %s)"" msgstr """" ""Stav svazku mus bt pro vytvoen snmku \""available\"" nebo \""in-use\"". "" ""(nyn je %s)"" msgid ""Volume status must be \""available\"" or \""in-use\""."" msgstr ""Stav svazku mus bt \""available\"" nebo \""in-use\""."" #, python-format msgid ""Volume status must be %s to reserve."" msgstr ""Stav svazku mus bt pro rezervaci %s."" ""Volume: %(volumeName)s is not a concatenated volume. You can only perform "" ""extend on concatenated volume. Exiting..."" msgstr """" ""Svazek: %(volumeName)s nen zetzen svazek. Rozen lze provdt pouze "" ""na zetzenm svazku. Ukonovn..."" #, python-format msgid """"msgid ""Wait replica complete timeout."" msgstr ""Vyprel asov limit ekn na dokonen replikace."" msgid ""X-IO Volume Driver exception!"" msgstr ""Vjimka ovladae svazku X-IO!"" msgid ""You must supply an array in your EMC configuration file."" msgstr ""Ve vaem souboru s nastavenm muste zadat pole EMC."" #, python-format msgid """" ""Your original size: %(originalVolumeSize)s GB is greater than: %(newSize)s "" ""GB. Only Extend is supported. Exiting..."" msgstr """" ""Vae pvodn velikost: %(originalVolumeSize)s GB je vt ne: %(newSize)s "" ""GB. Podporovno je pouze rozen. Uknovn..."" msgid ""attach snapshot from remote node"" msgstr ""pipojit snmek ke vzdlenmu uzlu"" msgid ""call failed: %r"" msgstr ""Voln selhalo: %r"" msgid ""call failed: GARBAGE_ARGS"" msgstr ""Voln selhalo: Zbyten argumenty"" msgid ""call failed: PROC_UNAVAIL"" msgstr ""Voln selhalo: Proces je nedostupn"" #, python-format msgid ""call failed: PROG_MISMATCH: %r"" msgstr ""Voln selhalo: Neshoda programu: %r"" msgid ""call failed: PROG_UNAVAIL"" msgstr ""Voln selhalo: Program je nedostupn"" #, python-format#, python-format msgid ""cg-%s"" msgstr ""skupinajednotnosti-%s"" msgid ""create_host: No initiators or wwpns supplied."" msgstr ""Vytvoen hostitele: Nepedny dn zavade nebo wwpns."" msgid ""detach snapshot from remote node"" msgstr ""odpojit snmek ze vzdlenho uzle"" msgid ""failed to create new_volume on destination host"" msgstr ""nelze vytvoit nov svazek na clovm hostiteli"" #, python-format msgid ""file already exists at %s"" msgstr ""soubor ji existuje v %s"" msgid ""fileno() not supported by RBD()"" msgstr ""fileno() nen podporovn RBD()"" msgid ""flush() not supported in this version of librbd"" msgstr ""flush() nen podporovn touto verz librbd"" msgid ""marker [%s] not found"" msgstr ""znaka [%s] nenalezena"" #, python-formatmsgid ""mount.glusterfs is not installed"" msgstr ""mount.glusterfs nen nainstalovno"" msgid ""no REPLY but %r"" msgstr ""dn odpov ale %r"" #, python-formatmsgid ""san_ip is not set."" msgstr ""san_ip nen nastaveno."" #, python-format msgid ""source volume id:%s is not replicated"" msgstr ""id zdrojovho svazku:%s nen replikovno"" msgid ""timeout creating new_volume on destination host"" msgstr ""pi vytven novho svazku na clovm hostiteli vyprel asov limit"" msgid ""umount: %s: not mounted"" msgstr ""odpojen: %s: nen pipojeno"" #, python-format msgid ""umount: %s: target is busy"" msgstr ""odpojen: %s: cl je zaneprzdnn"" msgid ""umount: <mnt_path>: some other error"" msgstr ""odpojen: <cesta_pipojen>: njak jin chyba"" msgid ""umount: <mnt_path>: target is busy"" msgstr ""odpojen: <cesta_pipojen>: zazen je zaneprzdnno"" #, python-formatmsgid ""vmemclient python library not found"" msgstr ""Python knihovna vmemclient nebyla nalezena"" msgid ""volume is not local to this node"" msgstr ""svazek nen pro tento uzel mstnm"" #, python-format msgid ""volume_types must be provided to create consistency group %s."" msgstr ""pro vytvoen skupiny jednotnosti %s mus bt zadny typy svazk."" ",55,58429
openstack%2Fcinder~stable%2Fpike~I2caa5f2763ec343b0bc875e707924ff9b6424ce5,openstack/cinder,stable/pike,I2caa5f2763ec343b0bc875e707924ff9b6424ce5,Dell EMC PS: Fix over-subscription ratio stats,MERGED,2017-10-17 17:11:57.000000000,2018-02-25 15:00:06.000000000,2017-10-19 20:08:01.000000000,"[{'_account_id': 170}, {'_account_id': 7160}, {'_account_id': 11904}, {'_account_id': 12112}, {'_account_id': 12822}, {'_account_id': 15011}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25836}]","[{'number': 1, 'created': '2017-10-17 17:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/658d91ff68db7bf5728630ec22231549269f7b08', 'message': 'Dell EMC PS: Fix over-subscription ratio stats\n\nFixed the provisioned_capacity_gb to use the VolumeReportedSpace\nto calculate the over-subscription ratio stats in the Dell EMC\nPS volume driver.\n\nCloses Bug: #1719659\n\nChange-Id: I2caa5f2763ec343b0bc875e707924ff9b6424ce5\n(cherry picked from commit 761f0c3e66691e6f5c683a63a81beccbbca1cacf)\n'}, {'number': 2, 'created': '2017-10-17 17:13:46.000000000', 'files': ['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-over-subscription-ratio-cal-8aa447c50f2474a8.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/test_ps.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a6632b7a79a13e3611801080dfdb4131b90985a5', 'message': 'Dell EMC PS: Fix over-subscription ratio stats\n\nFixed the provisioned_capacity_gb to use the VolumeReportedSpace\nto calculate the over-subscription ratio stats in the Dell EMC\nPS volume driver.\n\nCloses Bug: #1719659\n\nChange-Id: I2caa5f2763ec343b0bc875e707924ff9b6424ce5\n(cherry picked from commit 761f0c3e66691e6f5c683a63a81beccbbca1cacf)\n'}]",0,512740,a6632b7a79a13e3611801080dfdb4131b90985a5,26,19,2,10379,,,0,"Dell EMC PS: Fix over-subscription ratio stats

Fixed the provisioned_capacity_gb to use the VolumeReportedSpace
to calculate the over-subscription ratio stats in the Dell EMC
PS volume driver.

Closes Bug: #1719659

Change-Id: I2caa5f2763ec343b0bc875e707924ff9b6424ce5
(cherry picked from commit 761f0c3e66691e6f5c683a63a81beccbbca1cacf)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/512740/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-over-subscription-ratio-cal-8aa447c50f2474a8.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/test_ps.py']",3,658d91ff68db7bf5728630ec22231549269f7b08,bug/1719659," 'VolumeReportedSpace: 80GB', 'TotalVolumes: 100']", 'VolumeReserve: 80GB'],10,4
openstack%2Fcinder~master~I8e1b544f510c1a0af30a5a0b672578226c9fd315,openstack/cinder,master,I8e1b544f510c1a0af30a5a0b672578226c9fd315,[policy in code] Add support for snapshot resource,MERGED,2017-09-27 03:15:37.000000000,2018-02-25 15:00:03.000000000,2017-10-10 19:58:34.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-27 03:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1db88d716c09194f87df6327020fe17bdb269c35', 'message': '[policy in code] Add support for snapshot resource\n\nThis patch adds policy in code support for snapshot\nresources and depends on the basic patch [1].\n\n[1]: https://review.openstack.org/#/c/506976/\n\nChange-Id: I8e1b544f510c1a0af30a5a0b672578226c9fd315\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 2, 'created': '2017-10-09 12:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d1b62d0bd39cb686eabcfa8ac90d36f38f68c719', 'message': '[policy in code] Add support for snapshot resource\n\nThis patch adds policy in code support for snapshot\nresources and depends on the basic patch [1].\n\n[1]: https://review.openstack.org/#/c/506976/\n\nChange-Id: I8e1b544f510c1a0af30a5a0b672578226c9fd315\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 3, 'created': '2017-10-10 03:28:40.000000000', 'files': ['cinder/policies/__init__.py', 'etc/cinder/policy.json', 'cinder/api/contrib/admin_actions.py', 'cinder/api/contrib/snapshot_manage.py', 'cinder/policies/manageable_snapshots.py', 'cinder/tests/unit/policy.json', 'cinder/api/contrib/snapshot_actions.py', 'cinder/policies/snapshot_actions.py', 'cinder/policies/snapshots.py', 'cinder/policies/snapshot_metadata.py', 'cinder/api/contrib/snapshot_unmanage.py', 'cinder/api/contrib/extended_snapshot_attributes.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d5d070534305eb56582e6e24ebecb6433e4cb746', 'message': '[policy in code] Add support for snapshot resource\n\nThis patch adds policy in code support for snapshot\nresources and depends on the basic patch [1].\n\n[1]: https://review.openstack.org/#/c/506976/\n\nChange-Id: I8e1b544f510c1a0af30a5a0b672578226c9fd315\nPartial-Implements: blueprint policy-in-code\n'}]",2,507721,d5d070534305eb56582e6e24ebecb6433e4cb746,89,40,3,23083,,,0,"[policy in code] Add support for snapshot resource

This patch adds policy in code support for snapshot
resources and depends on the basic patch [1].

[1]: https://review.openstack.org/#/c/506976/

Change-Id: I8e1b544f510c1a0af30a5a0b672578226c9fd315
Partial-Implements: blueprint policy-in-code
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/507721/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/policies/__init__.py', 'etc/cinder/policy.json', 'cinder/api/contrib/admin_actions.py', 'cinder/api/contrib/snapshot_manage.py', 'cinder/policies/manageable_snapshots.py', 'cinder/tests/unit/policy.json', 'cinder/api/contrib/snapshot_actions.py', 'cinder/policies/snapshot_actions.py', 'cinder/policies/snapshots.py', 'cinder/policies/snapshot_metadata.py', 'cinder/api/contrib/snapshot_unmanage.py', 'cinder/api/contrib/extended_snapshot_attributes.py', 'cinder/volume/api.py']",13,1db88d716c09194f87df6327020fe17bdb269c35,policy-and-docs-in-code,"from cinder.policies import snapshot_metadata as s_meta_policy from cinder.policies import snapshots as snapshot_policy context.authorize(snapshot_policy.GET_POLICY) context.authorize(snapshot_policy.GET_ALL_POLICY) context.authorize(snapshot_policy.CREATE_POLICY) context.authorize(snapshot_policy.DELETE_POLICY, target_obj=snapshot) def update_snapshot(self, context, snapshot, fields): context.authorize(snapshot_policy.UPDATE_POLICY, target_obj=snapshot) context.authorize(s_meta_policy.GET_POLICY, target_obj=snapshot) context.authorize(s_meta_policy.DELETE_POLICY, target_obj=snapshot) context.authorize(s_meta_policy.UPDATE_POLICY, target_obj=snapshot)"," check_policy(context, 'get_snapshot') check_policy(context, 'get_all_snapshots') check_policy(context, 'create_snapshot', volume) @wrap_check_policy @wrap_check_policy def update_snapshot(self, context, snapshot, fields): @wrap_check_policy @wrap_check_policy @wrap_check_policy",349,58
openstack%2Fcinder~master~Id03ff9310fd53c4e6df300f2866b7a17cba82561,openstack/cinder,master,Id03ff9310fd53c4e6df300f2866b7a17cba82561,Update BlockBox,MERGED,2017-10-04 20:10:18.000000000,2018-02-25 15:00:01.000000000,2017-10-06 19:49:16.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-04 20:10:18.000000000', 'files': ['contrib/block-box/README.md', 'contrib/block-box/etc/api-paste.ini', '.gitignore', 'contrib/block-box/docker_files/lvm.conf', 'contrib/block-box/etc/cinder.conf.solidfire', 'contrib/block-box/test-requirements.txt', 'contrib/block-box/docker_files/Dockerfile.cinder-devenv', 'contrib/block-box/etc/cinder.conf', 'contrib/block-box/docker-compose-add-vol-service.yml', 'contrib/block-box/etc/rootwrap.conf', 'contrib/block-box/scripts/cinder-api.sh', 'contrib/block-box/scripts/lvm-service.sh', 'contrib/block-box/Makefile', 'contrib/block-box/docker_files/Dockerfile.cinder-lvm', 'contrib/block-box/docker_files/README', 'contrib/block-box/etc/cinder.conf.sf', 'contrib/block-box/etc/policy.json', 'contrib/block-box/etc/logging.conf', 'contrib/block-box/docker-compose.yml', 'contrib/block-box/etc/cinder.conf.keystone', 'contrib/block-box/.gitignore'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3a2205e39359fdf98940c35f8ece7d26afc909aa', 'message': ""Update BlockBox\n\nThere have been a number of changes to LOCI since the introduction\nof BlockBox.  In particular LOCI now offers a `universal` Dockerfile\nand employees bindeps and new ARGS features of Docker to customize\nimages.\n\nThis patch modifies BlockBox to use the new universal LOCI repo and\nalso cleans up a bunch of cruft and adds an updated conf entry with\nkey-manager.\n\nThis patch also removes the dev environment as it's out dated and\ndoesn't seem to be gaining much usage.  It's easy enough to set\nthis up on your own, so rather than maintain it just remove it.\n\nChange-Id: Id03ff9310fd53c4e6df300f2866b7a17cba82561\n""}]",0,509622,3a2205e39359fdf98940c35f8ece7d26afc909aa,34,30,1,2243,,,0,"Update BlockBox

There have been a number of changes to LOCI since the introduction
of BlockBox.  In particular LOCI now offers a `universal` Dockerfile
and employees bindeps and new ARGS features of Docker to customize
images.

This patch modifies BlockBox to use the new universal LOCI repo and
also cleans up a bunch of cruft and adds an updated conf entry with
key-manager.

This patch also removes the dev environment as it's out dated and
doesn't seem to be gaining much usage.  It's easy enough to set
this up on your own, so rather than maintain it just remove it.

Change-Id: Id03ff9310fd53c4e6df300f2866b7a17cba82561
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/509622/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/block-box/README.md', 'contrib/block-box/etc/api-paste.ini', '.gitignore', 'contrib/block-box/docker_files/lvm.conf', 'contrib/block-box/etc/cinder.conf.solidfire', 'contrib/block-box/test-requirements.txt', 'contrib/block-box/docker_files/Dockerfile.cinder-devenv', 'contrib/block-box/etc/cinder.conf', 'contrib/block-box/docker-compose-add-vol-service.yml', 'contrib/block-box/etc/rootwrap.conf', 'contrib/block-box/scripts/cinder-api.sh', 'contrib/block-box/scripts/lvm-service.sh', 'contrib/block-box/Makefile', 'contrib/block-box/docker_files/Dockerfile.cinder-lvm', 'contrib/block-box/docker_files/README', 'contrib/block-box/etc/cinder.conf.sf', 'contrib/block-box/etc/policy.json', 'contrib/block-box/etc/logging.conf', 'contrib/block-box/docker-compose.yml', 'contrib/block-box/etc/cinder.conf.keystone', 'contrib/block-box/.gitignore']",21,3a2205e39359fdf98940c35f8ece7d26afc909aa,update_blockbox,./.db_data/*,db-data/*,70,2228
openstack%2Fcinder~master~Ib4a0c50f699edb1cc2ea669ac711eb2f537be417,openstack/cinder,master,Ib4a0c50f699edb1cc2ea669ac711eb2f537be417,Fix tempest test revet_client typo,MERGED,2017-10-02 20:34:41.000000000,2018-02-25 15:00:00.000000000,2017-10-06 17:44:33.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-02 20:34:41.000000000', 'files': ['cinder/tests/tempest/cinder_clients.py', 'cinder/tests/tempest/api/volume/test_volume_revert.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/395407c9578686ebc23f0bd4cbc567ac97bafbe9', 'message': 'Fix tempest test revet_client typo\n\nTrivialFix\n\nChange-Id: Ib4a0c50f699edb1cc2ea669ac711eb2f537be417\n'}]",0,508995,395407c9578686ebc23f0bd4cbc567ac97bafbe9,52,34,1,4523,,,0,"Fix tempest test revet_client typo

TrivialFix

Change-Id: Ib4a0c50f699edb1cc2ea669ac711eb2f537be417
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/508995/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/tempest/cinder_clients.py', 'cinder/tests/tempest/api/volume/test_volume_revert.py']",2,395407c9578686ebc23f0bd4cbc567ac97bafbe9,, cls.volume_revert_client = manager.volume_revert_client, cls.volume_revert_client = manager.volume_revet_client,2,2
openstack%2Fcinder~stable%2Fpike~I117319ac12991e4b46170fe71d18a65ea4c98556,openstack/cinder,stable/pike,I117319ac12991e4b46170fe71d18a65ea4c98556,Cinder logs rabbitmq password on connection log,MERGED,2018-02-17 19:14:57.000000000,2018-02-25 14:59:53.000000000,2018-02-21 19:47:54.000000000,"[{'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-17 19:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f39f9c8eb04db2d1edff50c5940b65010e0a14c', 'message': 'Cinder logs rabbitmq password on connection log\n\nCinder displays rabbitmq password if debug is enabled.\n\nCloses-Bug: 1750074\nChange-Id: I117319ac12991e4b46170fe71d18a65ea4c98556\n'}, {'number': 2, 'created': '2018-02-21 15:23:46.000000000', 'files': ['cinder/service.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d51fabb497df2606f04f90cbd2e842c7692bb1af', 'message': 'Cinder logs rabbitmq password on connection log\n\nCinder displays rabbitmq password if debug is enabled.\n\nCloses-Bug: 1750074\nChange-Id: I117319ac12991e4b46170fe71d18a65ea4c98556\n(cherry picked from commit 919dd16a35ef2d0fd2ee4911398ba7830c02c6fd)\n(cherry picked from commit ca9bf2d1c56605a565ffc468bb91fb5d58ef5ce9)\n'}]",0,545621,d51fabb497df2606f04f90cbd2e842c7692bb1af,37,17,2,11269,,,0,"Cinder logs rabbitmq password on connection log

Cinder displays rabbitmq password if debug is enabled.

Closes-Bug: 1750074
Change-Id: I117319ac12991e4b46170fe71d18a65ea4c98556
(cherry picked from commit 919dd16a35ef2d0fd2ee4911398ba7830c02c6fd)
(cherry picked from commit ca9bf2d1c56605a565ffc468bb91fb5d58ef5ce9)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/545621/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/service.py'],1,0f39f9c8eb04db2d1edff50c5940b65010e0a14c,bug/1750074," (flag == ""transport_url"" and ""rabbit:"" in flag_get) or",,1,0
openstack%2Fcinder~stable%2Fqueens~I53e94a827c3ba31c7322e6faecfcc8ebf4a05b4a,openstack/cinder,stable/queens,I53e94a827c3ba31c7322e6faecfcc8ebf4a05b4a,Add multiattach reporting to SolidFire,MERGED,2018-02-20 09:01:22.000000000,2018-02-25 14:59:18.000000000,2018-02-20 12:00:32.000000000,"[{'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-20 09:01:22.000000000', 'files': ['cinder/volume/drivers/solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/29b151483104cd0a548923b16a56c88b2c585894', 'message': 'Add multiattach reporting to SolidFire\n\nWonders never cease!  Multiattach has landed, the cow jumped over\nthe moon and they put Humpty Dumpty back together again!\n\nThis change just addes multiattach=True to the SolidFire driver\nnow that everything has in fact landed.\n\nChange-Id: I53e94a827c3ba31c7322e6faecfcc8ebf4a05b4a\n'}]",0,546081,29b151483104cd0a548923b16a56c88b2c585894,17,13,1,9562,,,0,"Add multiattach reporting to SolidFire

Wonders never cease!  Multiattach has landed, the cow jumped over
the moon and they put Humpty Dumpty back together again!

This change just addes multiattach=True to the SolidFire driver
now that everything has in fact landed.

Change-Id: I53e94a827c3ba31c7322e6faecfcc8ebf4a05b4a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/546081/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/solidfire.py'],1,29b151483104cd0a548923b16a56c88b2c585894,add_multiattach_capability_to_solidfire-stable/queens, data['multiattach'] = True,,1,0
openstack%2Fcinder~master~I991282cd7547dddf2324cdf1ea63bd12d4303ab1,openstack/cinder,master,I991282cd7547dddf2324cdf1ea63bd12d4303ab1,Replace Chinese punctuation with English punctuation,MERGED,2018-01-23 08:26:47.000000000,2018-02-25 14:58:09.000000000,2018-01-23 17:59:07.000000000,"[{'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 21690}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}, {'_account_id': 25747}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-23 08:26:47.000000000', 'files': ['doc/source/contributor/migration.rst', 'doc/source/contributor/attach_detach_conventions.rst', 'doc/source/contributor/auth.rst', 'releasenotes/notes/add-datacore-volume-driver-3775797b0515f538.yaml', 'releasenotes/notes/scaleio-enable-multiattach-e7d84ffa282842e9.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5f0ea63b60dbec6175145f975789253d2a956384', 'message': 'Replace Chinese punctuation with English punctuation\n\nChange-Id: I991282cd7547dddf2324cdf1ea63bd12d4303ab1\n'}]",0,536712,5f0ea63b60dbec6175145f975789253d2a956384,36,31,1,27386,,,0,"Replace Chinese punctuation with English punctuation

Change-Id: I991282cd7547dddf2324cdf1ea63bd12d4303ab1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/12/536712/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/migration.rst', 'doc/source/contributor/attach_detach_conventions.rst', 'doc/source/contributor/auth.rst', 'releasenotes/notes/add-datacore-volume-driver-3775797b0515f538.yaml', 'releasenotes/notes/scaleio-enable-multiattach-e7d84ffa282842e9.yaml']",5,5f0ea63b60dbec6175145f975789253d2a956384,gaofei, as working with the ScaleIO driver. It is the user's, as working with the ScaleIO driver. It is the users,16,16
openstack%2Fcinder~stable%2Fpike~I3419e628d42eddfe19c55cd72e7b9469e9fccc94,openstack/cinder,stable/pike,I3419e628d42eddfe19c55cd72e7b9469e9fccc94,VNX: Fix cloning failure when system is busy,MERGED,2018-01-06 09:31:44.000000000,2018-02-25 14:58:07.000000000,2018-01-22 17:35:01.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 10628}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 14624}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-06 09:31:44.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/vnx/test_client.py', 'cinder/volume/drivers/dell_emc/vnx/driver.py', 'cinder/volume/drivers/dell_emc/vnx/client.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/41c565debb918c07f18fbe864002abcc241fe50e', 'message': ""VNX: Fix cloning failure when system is busy\n\nIn newton, the 30s wait was removed due to refactor, in this case,\nIf the session hasn't started in the VNX, the driver would perform\nunexpected rollback for the migration.\n\nAdding a wait will make sure the session is started on the VNX thus\ncloning can succeed.\n\nChange-Id: I3419e628d42eddfe19c55cd72e7b9469e9fccc94\nCloses-bug: #1732462\n(cherry picked from commit 552d6fd33a4a2534eea6ca71765ab9936f5920b7)\n""}]",0,531532,41c565debb918c07f18fbe864002abcc241fe50e,39,22,1,10628,,,0,"VNX: Fix cloning failure when system is busy

In newton, the 30s wait was removed due to refactor, in this case,
If the session hasn't started in the VNX, the driver would perform
unexpected rollback for the migration.

Adding a wait will make sure the session is started on the VNX thus
cloning can succeed.

Change-Id: I3419e628d42eddfe19c55cd72e7b9469e9fccc94
Closes-bug: #1732462
(cherry picked from commit 552d6fd33a4a2534eea6ca71765ab9936f5920b7)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/32/531532/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/vnx/test_client.py', 'cinder/volume/drivers/dell_emc/vnx/driver.py', 'cinder/volume/drivers/dell_emc/vnx/client.py']",3,41c565debb918c07f18fbe864002abcc241fe50e,bug/1732462-stable/pike,import time # Sleep 30 seconds to make sure the session starts on the VNX. time.sleep(common.INTERVAL_30_SEC),,10,9
openstack%2Fcinder~stable%2Focata~Id31258ef6f28caca226ac4a0a7f91fd8c8d87e88,openstack/cinder,stable/ocata,Id31258ef6f28caca226ac4a0a7f91fd8c8d87e88,Imported Translations from Zanata,MERGED,2018-01-19 07:14:56.000000000,2018-02-25 14:58:02.000000000,2018-01-19 19:37:56.000000000,"[{'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 19852}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-19 07:14:56.000000000', 'files': ['cinder/locale/pt_BR/LC_MESSAGES/cinder.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/225eef456adee310314335857e9594c7d12fc2de', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id31258ef6f28caca226ac4a0a7f91fd8c8d87e88\n'}]",0,535639,225eef456adee310314335857e9594c7d12fc2de,14,10,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Id31258ef6f28caca226ac4a0a7f91fd8c8d87e88
",git fetch https://review.opendev.org/openstack/cinder refs/changes/39/535639/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/locale/pt_BR/LC_MESSAGES/cinder.po'],1,225eef456adee310314335857e9594c7d12fc2de,zanata/translations,"# Rodrigo Loures <rmoraesloures@gmail.com>, 2018. #zanata""Project-Id-Version: cinder VERSION\n""""POT-Creation-Date: 2017-12-29 00:34+0000\n""""PO-Revision-Date: 2018-01-18 09:05+0000\n"" ""Last-Translator: Rodrigo Loures <rmoraesloures@gmail.com>\n""msgid """" ""%(type)s with id %(id)s is already being cleaned up or another host has "" ""taken over it."" msgstr ""%(type)s com id %(id)s j est sendo limpo ou outro host j assumiu."" #, python-formatmsgid ""Cannot create group_type with name %(name)s and specs %(group_specs)s"" msgstr """" ""No foi possvel criar o Tipo de Grupo com o nome %(name)s e especificaes "" ""%(group_specs)s"" #, python-format#, python-format msgid ""Cannot perform %(action)s during system upgrade."" msgstr ""No foi possvel executar %(action)s durante a atualizao do sistema."" msgid ""Cannot update group_type %(id)s"" msgstr ""No foi possvel atualizar o Tipo de Grupo %(id)s"" #, python-format#, python-format msgid ""Cluster %(id)s could not be found."" msgstr ""Cluster %(id)s no pode ser encontrado."" #, python-format msgid ""Cluster %(id)s still has hosts."" msgstr ""Cluster %(id)s ainda possui hosts."" #, python-format msgid ""Cluster %(name)s already exists."" msgstr ""Cluster %(name)s j existe."" #, python-format msgid ""Dell driver failure: %(reason)s"" msgstr ""Falha no driver Dell: %(reason)s"" msgid ""Device or resource is busy."" msgstr ""O dispositivo ou recurso est ocupado."" msgid ""Group %(group_id)s could not be found."" msgstr ""O Grupo %(group_id)s no pode ser encontrado."" #, python-format#, python-format msgid """" ""Group Type %(group_type_id)s deletion is not allowed with groups present "" ""with the type."" msgstr """" ""No  possvel excluir o Tipo de Grupo %(group_type_id)s com grupos que "" ""ainda possuem esse tipo."" #, python-format msgid ""Group Type %(group_type_id)s has no specs with key %(group_specs_key)s."" msgstr """" ""Tipo de Grupo %(group_type_id)s no possui especificaes com a chave "" ""%(group_specs_key)s."" #, python-format msgid ""Group Type %(id)s already exists."" msgstr ""Tipo de Grupo %(id)s j existe."" #, python-format msgid ""Group type %(group_type_id)s could not be found."" msgstr ""Tipo de grupo %(group_type_id)s no pode ser encontrado."" #, python-format msgid """" ""Group type access for %(group_type_id)s / %(project_id)s combination already "" ""exists."" msgstr """" ""Acesso de Tipo de Grupo para a combinao %(group_type_id)s / %(project_id)s "" ""j existe."" #, python-format msgid """" ""Group type access not found for %(group_type_id)s / %(project_id)s "" ""combination."" msgstr """" ""Acesso de tipo de grupo no encontrado para a combinao %(group_type_id)s / "" ""%(project_id)s."" #, python-format msgid ""Group type encryption for type %(type_id)s already exists."" msgstr ""Criptografia do tipo de Grupo para o tipo %(type_id)s j existe."" #, python-format msgid ""Group type encryption for type %(type_id)s does not exist."" msgstr ""Criptografia do tipo de Grupo para o tipo %(type_id)s no existe."" #, python-format msgid ""Group type with name %(group_type_name)s could not be found."" msgstr ""Tipo de grupo com o nome %(group_type_name)s no pode ser encontrado."" #, python-format msgid """" ""Group volume type mapping for %(group_id)s / %(volume_type_id)s combination "" ""already exists."" msgstr """" ""O mapeamento de tipo de volume do grupo para a combinao %(group_id)s / "" ""%(volume_type_id)s j existe."" msgid ""Invalid Group Status: %(reason)s"" msgstr ""Status do Grupo invlido: %(reason)s"" #, python-format msgid ""Invalid Group: %(reason)s"" msgstr ""Grupo invlido: %(reason)s"" #, python-formatmsgid ""Invalid group type: %(reason)s"" msgstr ""Tipo de grupo invlido: %(reason)s"" #, python-formatmsgid ""Maximum number of groups allowed (%(allowed)d) exceeded"" msgstr ""Foi excedido o nmero mximo de grupos permitido (%(allowed)d)"" #, python-format#, python-format msgid ""Message %(message_id)s could not be found."" msgstr ""Mensagem %(message_id)s no pode ser encontrada."" msgid ""Missing required element '%(element)s' in request body."" msgstr ""Ausncia do elemento solicitado '%(element)s' no corpo da requisio."" #, python-format#, python-format msgid ""No valid backend was found. %(reason)s"" msgstr ""Nenhum backend vlido foi encontrado. %(reason)s"" #, python-format msgid ""Programming error in Cinder: %(reason)s"" msgstr ""Erro de programao no Cinder: %(reason)s"" #, python-format msgid """" ""Requested volume size %(size)dG is larger than maximum allowed limit "" ""%(limit)dG."" msgstr """" ""O tamanho %(size)d requerido para o volume  maior que o mximo permitido "" ""%(limit)d."" #, python-format msgid ""The snapshot is unavailable: %(data)s"" msgstr ""O snapshot est indisponvel: %(data)s"" msgid ""Unable to create server object for initiator %(name)s"" msgstr ""No  possvel criar o objeto do servidor para o iniciador %(name)s"" #, python-format#, python-format msgid ""Unable to failover to replication target: %(reason)s)."" msgstr """" ""No foi possvel executar o failover para o destino de replicao: "" ""%(reason)s)."" msgid ""Volume %(name)s was not deactivated in time."" msgstr ""O Volume %(name)s no foi desativado no tempo."" #, python-format","""Project-Id-Version: cinder 10.0.7.dev4\n""""POT-Creation-Date: 2017-10-07 03:21+0000\n""""PO-Revision-Date: 2017-03-15 07:37+0000\n"" ""Last-Translator: Marcio <marciofoz@gmail.com>\n""",164,4
openstack%2Fcinder~master~I0ab094a961f0911e860d986c3db28a4e6c75a9f6,openstack/cinder,master,I0ab094a961f0911e860d986c3db28a4e6c75a9f6,Update volume's 'updated_at' when accept transfer,MERGED,2018-01-16 10:02:00.000000000,2018-02-25 14:57:52.000000000,2018-01-18 06:46:09.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-16 10:02:00.000000000', 'files': ['cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6ce5268b5629533401840bb4aebbf7bff0014621', 'message': ""Update volume's 'updated_at' when accept transfer\n\nWhen accept volume transfer, the volume object's\n'user_id', 'project_id' and 'status' are all updated,\n'updated_at' should be refreshed as well.\n\nChange-Id: I0ab094a961f0911e860d986c3db28a4e6c75a9f6\n""}]",0,534216,6ce5268b5629533401840bb4aebbf7bff0014621,64,34,1,23083,,,0,"Update volume's 'updated_at' when accept transfer

When accept volume transfer, the volume object's
'user_id', 'project_id' and 'status' are all updated,
'updated_at' should be refreshed as well.

Change-Id: I0ab094a961f0911e860d986c3db28a4e6c75a9f6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/534216/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,6ce5268b5629533401840bb4aebbf7bff0014621,bug/fix_transfer_bug, 'project_id': project_id}," 'project_id': project_id, 'updated_at': models.Volume.updated_at}",1,2
openstack%2Fcinder~master~Ifd91b8ddd0f18451b73b7472c9185dacb48b3a72,openstack/cinder,master,Ifd91b8ddd0f18451b73b7472c9185dacb48b3a72,Mock FixedIntervalLoopingCall for Huawei unit tests,MERGED,2018-01-04 15:52:08.000000000,2018-02-25 14:56:58.000000000,2018-01-05 13:54:49.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-04 15:52:08.000000000', 'files': ['cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b0b0213ec08a9222259d8cb0ceb145044f7c6fc8', 'message': 'Mock FixedIntervalLoopingCall for Huawei unit tests\n\nWe should use ZeroIntervalLoopingCall instead of\nFixedIntervalLoopingCall to speed-up our tests.\n\nChange-Id: Ifd91b8ddd0f18451b73b7472c9185dacb48b3a72\n'}]",0,531181,b0b0213ec08a9222259d8cb0ceb145044f7c6fc8,37,27,1,1736,,,0,"Mock FixedIntervalLoopingCall for Huawei unit tests

We should use ZeroIntervalLoopingCall instead of
FixedIntervalLoopingCall to speed-up our tests.

Change-Id: Ifd91b8ddd0f18451b73b7472c9185dacb48b3a72
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/531181/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py'],1,b0b0213ec08a9222259d8cb0ceb145044f7c6fc8,huawei-tests-loop," @mock.patch('oslo_service.loopingcall.FixedIntervalLoopingCall', new=utils.ZeroIntervalLoopingCall) @mock.patch('oslo_service.loopingcall.FixedIntervalLoopingCall', new=utils.ZeroIntervalLoopingCall)",,4,0
openstack%2Fcinder~master~Id47c42e91885413572dfcc893cf3ecc02681c673,openstack/cinder,master,Id47c42e91885413572dfcc893cf3ecc02681c673,Missing generalized_filters in cinder administration doc,MERGED,2017-12-25 02:42:07.000000000,2018-02-25 14:56:30.000000000,2017-12-26 02:26:09.000000000,"[{'_account_id': 7198}, {'_account_id': 10622}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-25 02:42:07.000000000', 'files': ['doc/source/admin/generalized_filters.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b5adb1e7bc14473555509229465cdcfd4b479b95', 'message': 'Missing generalized_filters in cinder administration doc\n\nNow cinder miss ""generalized_filters"" in administration doc,\nthough we defined it in index.rst.\n\nCloses-Bug: #1739987\nChange-Id: Id47c42e91885413572dfcc893cf3ecc02681c673\n'}]",0,529996,b5adb1e7bc14473555509229465cdcfd4b479b95,30,25,1,8846,,,0,"Missing generalized_filters in cinder administration doc

Now cinder miss ""generalized_filters"" in administration doc,
though we defined it in index.rst.

Closes-Bug: #1739987
Change-Id: Id47c42e91885413572dfcc893cf3ecc02681c673
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/529996/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/generalized_filters.rst'],1,b5adb1e7bc14473555509229465cdcfd4b479b95,bug/1739987,===================,,1,0
openstack%2Fcinder~master~I84e614346cfa4d302f919d12bea9680c5e527475,openstack/cinder,master,I84e614346cfa4d302f919d12bea9680c5e527475,Follow the new PTI for document build,MERGED,2017-12-19 09:26:46.000000000,2018-02-25 14:56:28.000000000,2017-12-22 16:41:30.000000000,"[{'_account_id': 1736}, {'_account_id': 6547}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22694}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-19 09:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dd6713083a332b2ec05a0c55b080041f80731d98', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I84e614346cfa4d302f919d12bea9680c5e527475\n'}, {'number': 2, 'created': '2017-12-20 02:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/21052df7410095b413a1e9cb82013e4207ac5bde', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I84e614346cfa4d302f919d12bea9680c5e527475\n'}, {'number': 3, 'created': '2017-12-20 15:36:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/92877e9027077acf117a04ef94cd9b843d808499', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I84e614346cfa4d302f919d12bea9680c5e527475\n'}, {'number': 4, 'created': '2017-12-21 02:24:36.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f877ec291776930737c509220a7ac4a74cc2ed15', 'message': 'Follow the new PTI for document build\n\nFor compliance with the Project Testing Interface as described in:\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html\n\nFor more detials information, please refer to:\n\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html\n\nChange-Id: I84e614346cfa4d302f919d12bea9680c5e527475\n'}]",2,529006,f877ec291776930737c509220a7ac4a74cc2ed15,76,35,4,22694,,,0,"Follow the new PTI for document build

For compliance with the Project Testing Interface as described in:

https://governance.openstack.org/tc/reference/project-testing-interface.html

For more detials information, please refer to:

http://lists.openstack.org/pipermail/openstack-dev/2017-December/125710.html

Change-Id: I84e614346cfa4d302f919d12bea9680c5e527475
",git fetch https://review.opendev.org/openstack/cinder refs/changes/06/529006/4 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,dd6713083a332b2ec05a0c55b080041f80731d98,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt sphinx-build -b html doc/source doc/build/html, python setup.py build_sphinx,9,5
openstack%2Fcinder~master~Ic0698e4fc0f6519c2676fe91e1a6c0fb47bbeb95,openstack/cinder,master,Ic0698e4fc0f6519c2676fe91e1a6c0fb47bbeb95,Add online data migration routine for attachment_specs,MERGED,2017-12-19 21:26:36.000000000,2018-02-25 14:56:27.000000000,2017-12-22 17:31:29.000000000,"[{'_account_id': 2243}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24230}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-19 21:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5cedfd6984ee20482a7abb75c0e1067fc7e78df3', 'message': ""Add online data migration routine for attachment_specs\n\nThis adds the hook to the cinder-manage db online_data_migration\nCLI for migrating attachment_specs entries to the volume_attachment\ntable.\n\nAlong the way, two changes have to be made in the VolumeAttachment\nobject:\n\n1. Handle 'connector' in updates in VolumeAttachment.create(); this\n   makes the test work to create a volume attachment with the connector\n   already set, something we should support so you don't have to create()\n   and then save() the object.\n2. In _from_db_object, we have to set the context on the attachment\n   object and reset the volume field changes *before* saving the\n   connector changes, otherwise save() fails because (a) it has an\n   empty context and (2) you can't change a volume through the attachment.\n\nChange-Id: Ic0698e4fc0f6519c2676fe91e1a6c0fb47bbeb95\nRelated-Bug: #1737724\n""}, {'number': 2, 'created': '2017-12-19 21:42:16.000000000', 'files': ['cinder/tests/unit/test_db_api.py', 'cinder/cmd/manage.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/objects/volume_attachment.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bf5c34e30a74d7915b25dff36dd1bd34de9d4e4f', 'message': ""Add online data migration routine for attachment_specs\n\nThis adds the hook to the cinder-manage db online_data_migration\nCLI for migrating attachment_specs entries to the volume_attachment\ntable.\n\nAlong the way, two changes have to be made in the VolumeAttachment\nobject:\n\n1. Handle 'connector' in updates in VolumeAttachment.create(); this\n   makes the test work to create a volume attachment with the connector\n   already set, something we should support so you don't have to create()\n   and then save() the object.\n2. In _from_db_object, we have to set the context on the attachment\n   object and reset the volume field changes *before* saving the\n   connector changes, otherwise save() fails because (a) it has an\n   empty context and (2) you can't change a volume through the attachment.\n\nChange-Id: Ic0698e4fc0f6519c2676fe91e1a6c0fb47bbeb95\nRelated-Bug: #1737724\n""}]",1,529160,bf5c34e30a74d7915b25dff36dd1bd34de9d4e4f,49,31,2,6873,,,0,"Add online data migration routine for attachment_specs

This adds the hook to the cinder-manage db online_data_migration
CLI for migrating attachment_specs entries to the volume_attachment
table.

Along the way, two changes have to be made in the VolumeAttachment
object:

1. Handle 'connector' in updates in VolumeAttachment.create(); this
   makes the test work to create a volume attachment with the connector
   already set, something we should support so you don't have to create()
   and then save() the object.
2. In _from_db_object, we have to set the context on the attachment
   object and reset the volume field changes *before* saving the
   connector changes, otherwise save() fails because (a) it has an
   empty context and (2) you can't change a volume through the attachment.

Change-Id: Ic0698e4fc0f6519c2676fe91e1a6c0fb47bbeb95
Related-Bug: #1737724
",git fetch https://review.opendev.org/openstack/cinder refs/changes/60/529160/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_db_api.py', 'cinder/cmd/manage.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/objects/volume_attachment.py']",5,5cedfd6984ee20482a7abb75c0e1067fc7e78df3,bug/1737724, attachment._context = context attachment.obj_reset_changes() if 'connector' in updates: self._convert_connector_to_db_format(updates), # TODO(mriedem): Need a hook for the online_data_migration CLI to query # the database for all attachment_specs entries and migrate their # related volume_attachment records using this object. attachment._context = context attachment.obj_reset_changes(),107,5
openstack%2Fcinder~master~Ibff5a5aaa288138c4c63875d67ddebd24a40fd3f,openstack/cinder,master,Ibff5a5aaa288138c4c63875d67ddebd24a40fd3f,Updated from global requirements,MERGED,2017-12-15 21:23:37.000000000,2018-02-25 14:56:22.000000000,2017-12-19 13:18:00.000000000,"[{'_account_id': 9796}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-15 21:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e80e9598ba27ac8eef221d30938ab8d5b28b016f', 'message': 'Updated from global requirements\n\nChange-Id: Ibff5a5aaa288138c4c63875d67ddebd24a40fd3f\n'}, {'number': 2, 'created': '2017-12-19 01:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bf539923a918429ec22c5534e5f75b73b653c08a', 'message': 'Updated from global requirements\n\nChange-Id: Ibff5a5aaa288138c4c63875d67ddebd24a40fd3f\n'}, {'number': 3, 'created': '2017-12-19 01:23:06.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a71d4cdebf462b9ffd24bfa28ff7109f264818b', 'message': 'Updated from global requirements\n\nChange-Id: Ibff5a5aaa288138c4c63875d67ddebd24a40fd3f\n'}]",0,528395,2a71d4cdebf462b9ffd24bfa28ff7109f264818b,67,32,3,11131,,,0,"Updated from global requirements

Change-Id: Ibff5a5aaa288138c4c63875d67ddebd24a40fd3f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/528395/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e80e9598ba27ac8eef221d30938ab8d5b28b016f,openstack/requirements,"oslo.service!=1.28.1,>=1.24.0 # Apache-2.0",oslo.service>=1.24.0 # Apache-2.0,1,1
openstack%2Fcinder~master~I35db18f36f86683f2ab16694c9787c908251a382,openstack/cinder,master,I35db18f36f86683f2ab16694c9787c908251a382,Fix create encrypted volume from image,MERGED,2017-12-18 11:40:46.000000000,2018-02-25 14:56:21.000000000,2017-12-19 01:07:49.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-12-18 11:40:46.000000000', 'files': ['cinder/volume/driver.py', 'cinder/tests/unit/volume/test_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3b01eb78ce1c1ce388521f8122b3d6b8f2686fda', 'message': 'Fix create encrypted volume from image\n\nIf we run two create encrypted volume from image serially (waiting for\none operation to complete before the making the next request) the first\noperation succeeds while the second one will fail during the attach\nphase.\n\nThe failure we see in the logs indicate that OS-Brick is unable to get\nthe WWN from the connected volume.\n\nIn reality the failure to attach the volume on the second operation is\ncaused by a failed cleanup of the first create, even if there\'s no error\nin the logs.\n\nThe reason why OS-Brick didn\'t correctly do the cleanup of the first\nvolume is because didn\'t know that it was attaching an encrypted volume\nand returned a real path (ie: /dev/sdf) that then go overwritten by the\nunencrypted device mapper.\n\nThe solution is letting OS-Brick know that it\'s an encrypted volume\nduring the attachment phase so it will return a symlink to the real\ndevice instead of the real device itself.\n\nThe manager\'s ""initialize_connection"" does this correctly, but the\nmethod creating the volume from an image doesn\'t use the method of that\nclass and calls the driver\'s ""initialize_connection"" method instead,\nwhich is missing the ""encrypted"" field.\n\nCloses-Bug: #1703954\nChange-Id: I35db18f36f86683f2ab16694c9787c908251a382\n'}]",0,528694,3b01eb78ce1c1ce388521f8122b3d6b8f2686fda,32,28,1,9535,,,0,"Fix create encrypted volume from image

If we run two create encrypted volume from image serially (waiting for
one operation to complete before the making the next request) the first
operation succeeds while the second one will fail during the attach
phase.

The failure we see in the logs indicate that OS-Brick is unable to get
the WWN from the connected volume.

In reality the failure to attach the volume on the second operation is
caused by a failed cleanup of the first create, even if there's no error
in the logs.

The reason why OS-Brick didn't correctly do the cleanup of the first
volume is because didn't know that it was attaching an encrypted volume
and returned a real path (ie: /dev/sdf) that then go overwritten by the
unencrypted device mapper.

The solution is letting OS-Brick know that it's an encrypted volume
during the attachment phase so it will return a symlink to the real
device instead of the real device itself.

The manager's ""initialize_connection"" does this correctly, but the
method creating the volume from an image doesn't use the method of that
class and calls the driver's ""initialize_connection"" method instead,
which is missing the ""encrypted"" field.

Closes-Bug: #1703954
Change-Id: I35db18f36f86683f2ab16694c9787c908251a382
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/528694/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/driver.py', 'cinder/tests/unit/volume/test_driver.py']",2,3b01eb78ce1c1ce388521f8122b3d6b8f2686fda,bug/1703954," @mock.patch(driver_name + '.initialize_connection') @mock.patch(driver_name + '.create_export', return_value=None) @mock.patch(driver_name + '._connect_device') def test__attach_volume_encrypted(self, connect_mock, export_mock, initialize_mock): properties = {'host': 'myhost', 'ip': '192.168.1.43', 'initiator': u'iqn.1994-05.com.redhat:d9be887375', 'multipath': False, 'os_type': 'linux2', 'platform': 'x86_64'} data = {'target_discovered': True, 'target_iqn': 'iqn.2010-10.org.openstack:volume-00000001', 'target_portal': '127.0.0.0.1:3260', 'volume_id': 1, 'discard': False} passed_conn = {'driver_volume_type': 'iscsi', 'data': data.copy()} initialize_mock.return_value = passed_conn # _attach_volume adds the encrypted value based on the volume expected_conn = {'driver_volume_type': 'iscsi', 'data': data.copy()} expected_conn['data']['encrypted'] = True volume = tests_utils.create_volume( self.context, status='available', size=2, encryption_key_id=fake.ENCRYPTION_KEY_ID) attach_info, vol = self.volume.driver._attach_volume(self.context, volume, properties) export_mock.assert_called_once_with(self.context, volume, properties) initialize_mock.assert_called_once_with(volume, properties) connect_mock.assert_called_once_with(expected_conn) self.assertEqual(connect_mock.return_value, attach_info) self.assertEqual(volume, vol) ",,45,0
openstack%2Fcinder~master~I60f8e8864f236fb92dd03560576377f1a0bdd82b,openstack/cinder,master,I60f8e8864f236fb92dd03560576377f1a0bdd82b,Check for migrated UUID in SolidFire delete,MERGED,2017-11-23 00:34:45.000000000,2018-02-25 14:56:10.000000000,2017-12-17 22:55:24.000000000,"[{'_account_id': 2243}, {'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-23 00:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/95559490c26f605c3bd4641c3e790ad9086c0acf', 'message': ""Check for migrated UUID in SolidFire delete\n\nMigration of volumes kinda screws up the use of ID as the\nreference to use for deleting volumes.\n\nIf a volume is migrated, the UUID (ID) gets swapped and no\nlonger matches the UUID the volume had when it was initially\ncreated on the back end device.  The result is that deletion\nof that volume fails on the back end because the handle to the\nnew UUID doesn't exist.\n\nOn the other hand, you also have to be careful in dealing with\nand cleaning up volumes migrated off of your back end device for\nthe same types of reasons.\n\nThis change just adds an additional check in the SF driver so that\nwe are querying the back end device for the ID and the name_id.\n\nThis way we make sure if the volume is on our device we clean it up.\n\nChange-Id: I60f8e8864f236fb92dd03560576377f1a0bdd82b\nCloses-Bug: #1733967\n""}, {'number': 2, 'created': '2017-12-15 21:10:24.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0e6ee1b1df38059f338ebd93c605dfb51a93a8a5', 'message': ""Check for migrated UUID in SolidFire delete\n\nMigration of volumes kinda screws up the use of ID as the\nreference to use for deleting volumes.\n\nIf a volume is migrated, the UUID (ID) gets swapped and no\nlonger matches the UUID the volume had when it was initially\ncreated on the back end device.  The result is that deletion\nof that volume fails on the back end because the handle to the\nnew UUID doesn't exist.\n\nOn the other hand, you also have to be careful in dealing with\nand cleaning up volumes migrated off of your back end device for\nthe same types of reasons.\n\nThis change just adds an additional check in the SF driver so that\nwe are querying the back end device for the ID and the name_id.\n\nThis way we make sure if the volume is on our device we clean it up.\n\nChange-Id: I60f8e8864f236fb92dd03560576377f1a0bdd82b\nCloses-Bug: #1733967\n""}]",0,522410,0e6ee1b1df38059f338ebd93c605dfb51a93a8a5,45,30,2,2243,,,0,"Check for migrated UUID in SolidFire delete

Migration of volumes kinda screws up the use of ID as the
reference to use for deleting volumes.

If a volume is migrated, the UUID (ID) gets swapped and no
longer matches the UUID the volume had when it was initially
created on the back end device.  The result is that deletion
of that volume fails on the back end because the handle to the
new UUID doesn't exist.

On the other hand, you also have to be careful in dealing with
and cleaning up volumes migrated off of your back end device for
the same types of reasons.

This change just adds an additional check in the SF driver so that
we are querying the back end device for the ID and the name_id.

This way we make sure if the volume is on our device we clean it up.

Change-Id: I60f8e8864f236fb92dd03560576377f1a0bdd82b
Closes-Bug: #1733967
",git fetch https://review.opendev.org/openstack/cinder refs/changes/10/522410/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/solidfire.py'],1,95559490c26f605c3bd4641c3e790ad9086c0acf,bug/1733967," volume.name_id) # Check for migration magic here if (not vols and (volume.name_id != volume.id)): vols = self._get_volumes_for_account(acc['accountID'], volume.id) ", volume['name_id']),6,1
openstack%2Fcinder~master~Ia3623af2048d6cbda65deebf4404e6b5fefe1bfc,openstack/cinder,master,Ia3623af2048d6cbda65deebf4404e6b5fefe1bfc,qemu-img info --force-share for NFS driver,MERGED,2017-11-09 19:16:57.000000000,2018-02-25 14:55:57.000000000,2017-12-19 02:06:30.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-11-09 19:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2b0a6bc1fa1c853b709a08dc58d102cab8ec298c', 'message': ""DNM: Test qemu-img info --force-share for NFS\n\nThe NFS tempest job is failing with errors similar to\nthose seen in bug 1718133.\n\nTest this to see if it helps.\n\nThis can't be merged this way because it will conflict\nwith older versions of qemu-img.\n\nChange-Id: Ia3623af2048d6cbda65deebf4404e6b5fefe1bfc\n""}, {'number': 2, 'created': '2017-11-13 18:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/538d8c33d26f94c1cfc6dd43753189bba534cc44', 'message': 'qemu-img info --force-share for NFS driver\n\nNFS initialize_connection fails due to new locking\ncode in qemu-img info.  Bug 1718133 tracked a related issue.\n\nFix the NFS driver to work with the new version of\nqemu-img info by disabling locking for qemu-img info\nqueries during initialize_connection\n\nCloses-Bug: #1731992\nChange-Id: Ia3623af2048d6cbda65deebf4404e6b5fefe1bfc\n'}, {'number': 3, 'created': '2017-11-13 20:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e0fa87af6ade2c67e89afe661065a617184eef3a', 'message': 'qemu-img info --force-share for NFS driver\n\nNFS initialize_connection fails due to new locking\ncode in qemu-img info.  Bug 1718133 tracked a related issue.\n\nFix the NFS driver to work with the new version of\nqemu-img info by disabling locking for qemu-img info\nqueries during initialize_connection and create_snapshot.\n\nCloses-Bug: #1731992\nChange-Id: Ia3623af2048d6cbda65deebf4404e6b5fefe1bfc\n'}, {'number': 4, 'created': '2017-12-14 15:42:36.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_nfs.py', 'cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py', 'cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/nfs.py', 'cinder/tests/unit/volume/drivers/test_quobyte.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/524a74c6babd300c06f92fdc460bc568089435b0', 'message': 'qemu-img info --force-share for NFS driver\n\nNFS initialize_connection fails due to new locking\ncode in qemu-img info.  Bug 1718133 tracked a related issue.\n\nFix the NFS driver to work with the new version of\nqemu-img info by disabling locking for qemu-img info\nqueries during initialize_connection and create_snapshot.\n\nCloses-Bug: #1731992\nChange-Id: Ia3623af2048d6cbda65deebf4404e6b5fefe1bfc\n'}]",0,518782,524a74c6babd300c06f92fdc460bc568089435b0,104,40,4,4523,,,0,"qemu-img info --force-share for NFS driver

NFS initialize_connection fails due to new locking
code in qemu-img info.  Bug 1718133 tracked a related issue.

Fix the NFS driver to work with the new version of
qemu-img info by disabling locking for qemu-img info
queries during initialize_connection and create_snapshot.

Closes-Bug: #1731992
Change-Id: Ia3623af2048d6cbda65deebf4404e6b5fefe1bfc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/82/518782/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/image/image_utils.py'],1,2b0a6bc1fa1c853b709a08dc58d102cab8ec298c,bug/1731992," cmd = ['env', 'LC_ALL=C', 'qemu-img', 'info', '--force-share', path]"," cmd = ['env', 'LC_ALL=C', 'qemu-img', 'info', path]",1,1
openstack%2Fcinder~master~Ib0ab0319e04e23e93f31a49bca17ed30af2474d0,openstack/cinder,master,Ib0ab0319e04e23e93f31a49bca17ed30af2474d0,API ref: add host format to description,MERGED,2017-12-13 10:12:31.000000000,2018-02-25 14:55:39.000000000,2017-12-25 22:22:19.000000000,"[{'_account_id': 7198}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-13 10:12:31.000000000', 'files': ['api-ref/source/v2/parameters.yaml', 'api-ref/source/v3/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/69b4a3c9ab25165b93fb0668d0097535404e2fd0', 'message': 'API ref: add host format to description\n\nSpecify host and os-vol-host-attr:host parameters format.\n\nChange-Id: Ib0ab0319e04e23e93f31a49bca17ed30af2474d0\n'}]",0,527659,69b4a3c9ab25165b93fb0668d0097535404e2fd0,34,26,1,13636,,,0,"API ref: add host format to description

Specify host and os-vol-host-attr:host parameters format.

Change-Id: Ib0ab0319e04e23e93f31a49bca17ed30af2474d0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/59/527659/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/parameters.yaml', 'api-ref/source/v3/parameters.yaml']",2,69b4a3c9ab25165b93fb0668d0097535404e2fd0,api-ref-host-format, existing volume resides. Host format is ``host@backend``. Host format is ``host@backend#pool``., existing volume resides.,4,2
openstack%2Fcinder~master~I37937c1ebe4a10b896f1deb77f64b520ceba2830,openstack/cinder,master,I37937c1ebe4a10b896f1deb77f64b520ceba2830,Add output of slowest tests to UT runs,MERGED,2017-12-11 16:26:41.000000000,2018-02-25 14:55:36.000000000,2017-12-12 23:40:28.000000000,"[{'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 6491}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12176}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25677}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-12-11 16:26:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6d366292941ef77d32f42b56868750dbf331fc95', 'message': 'Add output of slowest tests to UT runs\n\nWith the switch to stestr we lost the automatic output of the slowest\ntests. We can still get that output, but it is a separate command to\nrun after the tests. Add that to our tox.ini command for test execution.\n\nChange-Id: I37937c1ebe4a10b896f1deb77f64b520ceba2830\n'}]",0,527149,6d366292941ef77d32f42b56868750dbf331fc95,46,27,1,11904,,,0,"Add output of slowest tests to UT runs

With the switch to stestr we lost the automatic output of the slowest
tests. We can still get that output, but it is a separate command to
run after the tests. Add that to our tox.ini command for test execution.

Change-Id: I37937c1ebe4a10b896f1deb77f64b520ceba2830
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/527149/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6d366292941ef77d32f42b56868750dbf331fc95,ut_slowest, stestr slowest,,1,0
openstack%2Fcinder~master~I0ffc5da37d342b722098ea36e11e269c3ae463b3,openstack/cinder,master,I0ffc5da37d342b722098ea36e11e269c3ae463b3,Updates Help Text on Quobyte Volume URL Option,MERGED,2017-12-08 13:31:44.000000000,2018-02-25 14:55:34.000000000,2017-12-09 01:58:57.000000000,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25677}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-12-08 13:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d52b1a6f4435eb41b7ac4fad23e31bdcfbe90815', 'message': '[micro change] Updates Help Text on Quobyte Volume URL Option\n\nThis microchange updates the quobyte_volume_url option help text to\npoint out that using a DNS SRV record is the best solution for this\nconfig option.\n\nChange-Id: I0ffc5da37d342b722098ea36e11e269c3ae463b3\nCloses-Bug: #1737131\n'}, {'number': 2, 'created': '2017-12-08 13:33:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/87a4150a68298a76813e47ae8fd5fea5df333f5c', 'message': '[micro change] Updates Help Text on Quobyte Volume URL Option\n\nThis microchange updates the quobyte_volume_url option help text to\npoint out that using a DNS SRV record is the best solution for this\nconfig option.\nCloses-Bug: #1737131\n\nChange-Id: I0ffc5da37d342b722098ea36e11e269c3ae463b3\n'}, {'number': 3, 'created': '2017-12-08 13:45:51.000000000', 'files': ['cinder/volume/drivers/quobyte.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4ca4f644008f4c89edc472cacda19050367ba54a', 'message': 'Updates Help Text on Quobyte Volume URL Option\n\nThis microchange updates the quobyte_volume_url option help text to\npoint out that using a DNS SRV record is the best solution for this\nconfig option.\n\nChange-Id: I0ffc5da37d342b722098ea36e11e269c3ae463b3\n'}]",4,526671,4ca4f644008f4c89edc472cacda19050367ba54a,38,32,3,13915,,,0,"Updates Help Text on Quobyte Volume URL Option

This microchange updates the quobyte_volume_url option help text to
point out that using a DNS SRV record is the best solution for this
config option.

Change-Id: I0ffc5da37d342b722098ea36e11e269c3ae463b3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/526671/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/quobyte.py'],1,d52b1a6f4435eb41b7ac4fad23e31bdcfbe90815,bug/1737131," help=('Quobyte URL to the Quobyte volume using either a DNS SRV' ' record (preferred) or a host list (alternatively), e.g.' ', quobyte://<DIR host1>, <DIR host2>/<volume name>')),"," help=('Quobyte URL to the Quobyte volume e.g.,' ' quobyte://<DIR host1>, <DIR host2>/<volume name>')),",3,2
openstack%2Fcinder~master~I614c0866f52503ed7264f7bf74a193dd17590028,openstack/cinder,master,I614c0866f52503ed7264f7bf74a193dd17590028,Fix discrepancy in api-ref for create volume manage api,MERGED,2017-12-07 09:36:49.000000000,2018-02-25 14:55:33.000000000,2017-12-10 16:35:50.000000000,"[{'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-12-07 09:36:49.000000000', 'files': ['api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/volume-manage.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0548a4172e3d9f2794f4d8d54d7be248b81f8c92', 'message': ""Fix discrepancy in api-ref for create volume manage api\n\nFor create volume manage api, 'bootable', 'name', and 'metadata'\nparameters are mandatory as per api ref document but as per code\nthese parameters are optional.\n\nThis patch fixes this discrepancy by updating the api-ref according\nto the code.\n\nChange-Id: I614c0866f52503ed7264f7bf74a193dd17590028\n""}]",0,526326,0548a4172e3d9f2794f4d8d54d7be248b81f8c92,36,32,1,26541,,,0,"Fix discrepancy in api-ref for create volume manage api

For create volume manage api, 'bootable', 'name', and 'metadata'
parameters are mandatory as per api ref document but as per code
these parameters are optional.

This patch fixes this discrepancy by updating the api-ref according
to the code.

Change-Id: I614c0866f52503ed7264f7bf74a193dd17590028
",git fetch https://review.opendev.org/openstack/cinder refs/changes/26/526326/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/volume-manage.inc']",2,0548a4172e3d9f2794f4d8d54d7be248b81f8c92,volume_manage_discripancy, - bootable: bootable_1 - name: volume_name_1 - metadata: metadata_10, - bootable: bootable - name: volume_name - metadata: metadata,23,3
openstack%2Fcinder~master~I0dde39ec96b04e497553b07a07acb95039ee5959,openstack/cinder,master,I0dde39ec96b04e497553b07a07acb95039ee5959,V3 jsonschema validation: Group types,MERGED,2017-11-14 12:58:37.000000000,2018-02-25 14:55:30.000000000,2017-12-06 12:43:08.000000000,"[{'_account_id': 170}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11651}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-14 12:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3d0125e7468e6885446facc9f8e4197b3705c4e4', 'message': ""V3 jsonschema validation: Group types\n\nThis patch adds jsonschema validation for below Group types API's\n* POST /v3/{project_id}/group_types\n* PUT  /v3/{project_id}/group_types/{group_type_id}\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [1] and passes body as keyword argument.\n\n[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\n\nChange-Id: I0dde39ec96b04e497553b07a07acb95039ee5959\nPartial-Implements: bp json-schema-validation\n""}, {'number': 2, 'created': '2017-11-22 04:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/048be25632b7cc96f84e757ad089c8d9bd51e202', 'message': ""V3 jsonschema validation: Group types\n\nThis patch adds jsonschema validation for below Group types API's\n* POST /v3/{project_id}/group_types\n* PUT  /v3/{project_id}/group_types/{group_type_id}\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [1] and passes body as keyword argument.\n\n[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\n\nChange-Id: I0dde39ec96b04e497553b07a07acb95039ee5959\nPartial-Implements: bp json-schema-validation\n""}, {'number': 3, 'created': '2017-11-23 14:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4220dee97b5f2e26bac4ad0b2a90b3fcae5d52f5', 'message': ""V3 jsonschema validation: Group types\n\nThis patch adds jsonschema validation for below Group types API's\n* POST /v3/{project_id}/group_types\n* PUT  /v3/{project_id}/group_types/{group_type_id}\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [1] and passes body as keyword argument.\n\n[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\n\nChange-Id: I0dde39ec96b04e497553b07a07acb95039ee5959\nPartial-Implements: bp json-schema-validation\n""}, {'number': 4, 'created': '2017-12-04 06:57:56.000000000', 'files': ['cinder/api/schemas/group_types.py', 'cinder/api/validation/parameter_types.py', 'cinder/api/v3/group_types.py', 'cinder/tests/unit/api/v3/test_group_types.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f71b7063c119197a030821030960d79fd5832cd7', 'message': ""V3 jsonschema validation: Group types\n\nThis patch adds jsonschema validation for below Group types API's\n* POST /v3/{project_id}/group_types\n* PUT  /v3/{project_id}/group_types/{group_type_id}\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [1] and passes body as keyword argument.\n\n[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\n\nChange-Id: I0dde39ec96b04e497553b07a07acb95039ee5959\nPartial-Implements: bp json-schema-validation\n""}]",3,519643,f71b7063c119197a030821030960d79fd5832cd7,109,40,4,24645,,,0,"V3 jsonschema validation: Group types

This patch adds jsonschema validation for below Group types API's
* POST /v3/{project_id}/group_types
* PUT  /v3/{project_id}/group_types/{group_type_id}

Made changes to unit tests to pass body as keyword argument as wsgi
calls action method [1] and passes body as keyword argument.

[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997

Change-Id: I0dde39ec96b04e497553b07a07acb95039ee5959
Partial-Implements: bp json-schema-validation
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/519643/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/schemas/group_types.py', 'cinder/api/validation/parameter_types.py', 'cinder/api/v3/group_types.py', 'cinder/tests/unit/api/v3/test_group_types.py']",4,3d0125e7468e6885446facc9f8e4197b3705c4e4,bp/json-schema-validation," self.controller.create(req, body=body) self.controller.update(req, type_id, body=body) is_public=is_public)"," self.controller.create(req, body) boolean_is_public = strutils.bool_from_string(is_public) self.controller.update(req, type_id, body) is_public=boolean_is_public)",86,43
openstack%2Fcinder~master~Ie6a8136835550d1cec1bc0ccd9c30c83e59580d4,openstack/cinder,master,Ie6a8136835550d1cec1bc0ccd9c30c83e59580d4,Pass in the parameters multipath when migrating volume,MERGED,2017-12-01 09:10:40.000000000,2018-02-25 14:55:28.000000000,2017-12-12 21:39:40.000000000,"[{'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-12-01 09:10:40.000000000', 'files': ['cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a045c0f28a31231fc31dc3f4452b19f3cee3cd4f', 'message': 'Pass in the parameters multipath when migrating volume\n\nWhen multipath is enabled, we do not pass in parameters\nmultipath when migrating volume.\n\nChange-Id: Ie6a8136835550d1cec1bc0ccd9c30c83e59580d4\nCloses-Bug: #1735674\n'}]",0,524536,a045c0f28a31231fc31dc3f4452b19f3cee3cd4f,60,36,1,20146,,,0,"Pass in the parameters multipath when migrating volume

When multipath is enabled, we do not pass in parameters
multipath when migrating volume.

Change-Id: Ie6a8136835550d1cec1bc0ccd9c30c83e59580d4
Closes-Bug: #1735674
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/524536/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,a045c0f28a31231fc31dc3f4452b19f3cee3cd4f,bug/1735674," use_multipath = self.configuration.use_multipath_for_image_xfer enforce_multipath = self.configuration.enforce_multipath_for_image_xfer properties = utils.brick_get_connector_properties(use_multipath, enforce_multipath)", properties = utils.brick_get_connector_properties(),4,1
openstack%2Fcinder~master~I30817ae767e08c45f9540b19e922864fe2f7a9c2,openstack/cinder,master,I30817ae767e08c45f9540b19e922864fe2f7a9c2,Tests: Fix Storwize hash randomization failure,MERGED,2017-09-14 17:18:12.000000000,2018-02-25 14:54:35.000000000,2017-12-06 12:43:15.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-14 17:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dd1f3ca0dc3de1213ec2bf844ccc1ea228097a12', 'message': 'Tests: Fix Storwize hash randomization failure\n\nSome fields tested here are lists that are generated\nfrom dicts, and can therefore be in any order.\n\nChange-Id: I30817ae767e08c45f9540b19e922864fe2f7a9c2\n'}, {'number': 2, 'created': '2017-11-29 21:53:40.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6b34450786aa50eb05e6bf3d0022f0c0b6404e86', 'message': 'Tests: Fix Storwize hash randomization failure\n\nSome fields tested here are lists that are generated\nfrom dicts, and can therefore be in any order.\n\nChange-Id: I30817ae767e08c45f9540b19e922864fe2f7a9c2\n'}]",0,504135,6b34450786aa50eb05e6bf3d0022f0c0b6404e86,54,33,2,4523,,,0,"Tests: Fix Storwize hash randomization failure

Some fields tested here are lists that are generated
from dicts, and can therefore be in any order.

Change-Id: I30817ae767e08c45f9540b19e922864fe2f7a9c2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/504135/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py'],1,dd1f3ca0dc3de1213ec2bf844ccc1ea228097a12,504135," # target_iqns and target_portals have no guaranteed order six.assertCountEqual(self, exp_m_path['data']['target_iqns'], ret['data']['target_iqns']) del exp_m_path['data']['target_iqns'] six.assertCountEqual(self, exp_m_path['data']['target_portals'], ret['data']['target_portals']) del exp_m_path['data']['target_portals'] ",,11,0
openstack%2Fcinder~master~I2a7440789753bb0e42ac0e8d0190b21652a87e2f,openstack/cinder,master,I2a7440789753bb0e42ac0e8d0190b21652a87e2f,Add support for enhanced features to the QNAP Cinder driver,MERGED,2017-06-02 08:04:46.000000000,2018-02-25 14:54:30.000000000,2017-12-09 20:58:50.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18529}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 20361}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22255}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23317}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24241}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26134}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-06-02 08:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f63ba498aea723210a8ffa8baf07277876082677', 'message': 'Add support for enhanced features to the QNAP Cinder driver\n\nThis adds enhanced supports to the QNAP Cinder driver:\n - CHAP\n - Thin Provision\n - SSD Cache\n - Dedupe\n - Compression\n\nDocImpact\nImplements: blueprint qnap-enhance-support\n\nChange-Id: I2a7440789753bb0e42ac0e8d0190b21652a87e2f\n'}, {'number': 2, 'created': '2017-06-13 08:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fad1a9d44c55884bd32461ff49e4c4c8ab7cef06', 'message': 'Add support for enhanced features to the QNAP Cinder driver\n\nThis adds enhanced supports to the QNAP Cinder driver:\n - CHAP\n - Thin Provision\n - SSD Cache\n - Dedupe\n - Compression\n\nDocImpact\nImplements: blueprint qnap-enhance-support\n\nChange-Id: I2a7440789753bb0e42ac0e8d0190b21652a87e2f\n'}, {'number': 3, 'created': '2017-09-18 09:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8349c69916733f483dbb218695bfe3ad9a5e6c23', 'message': 'Add support for enhanced features to the QNAP Cinder driver\n\nThis adds enhanced supports to the QNAP Cinder driver:\n - CHAP\n - Thin Provision\n - SSD Cache\n - Dedupe\n - Compression\n\nDocImpact\nImplements: blueprint qnap-enhance-support\n\nChange-Id: I2a7440789753bb0e42ac0e8d0190b21652a87e2f\n'}, {'number': 4, 'created': '2017-09-25 14:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5f7233472643614f122102d8956907c7d0f659f7', 'message': 'Add support for enhanced features to the QNAP Cinder driver\n\nThis adds enhanced supports to the QNAP Cinder driver:\n - CHAP\n - Thin Provision\n - SSD Cache\n - Dedupe\n - Compression\n\nDocImpact\nImplements: blueprint qnap-enhance-support\n\nChange-Id: I2a7440789753bb0e42ac0e8d0190b21652a87e2f\n'}, {'number': 5, 'created': '2017-10-11 06:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/91c56357eed3856144d757d8f8b7aab7fa1f35a5', 'message': 'Add support for enhanced features to the QNAP Cinder driver\n\nThis adds enhanced supports to the QNAP Cinder driver:\n - CHAP\n - Thin Provision\n - SSD Cache\n - Dedupe\n - Compression\n\nDocImpact\nImplements: blueprint qnap-enhance-support\n\nChange-Id: I2a7440789753bb0e42ac0e8d0190b21652a87e2f\n'}, {'number': 6, 'created': '2017-10-11 10:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a9c473c4685693d20062a055eba4274457ea1f28', 'message': 'Add support for enhanced features to the QNAP Cinder driver\n\nThis adds enhanced supports to the QNAP Cinder driver:\n - CHAP\n - Thin Provision\n - SSD Cache\n - Dedupe\n - Compression\n\nDocImpact\nImplements: blueprint qnap-enhance-support\n\nChange-Id: I2a7440789753bb0e42ac0e8d0190b21652a87e2f\n'}, {'number': 7, 'created': '2017-10-24 07:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c1610c56eb4f1754a80ea94680997d84c3e9c910', 'message': 'Add support for enhanced features to the QNAP Cinder driver\n\nThis adds enhanced supports to the QNAP Cinder driver:\n - CHAP\n - Thin Provision\n - SSD Cache\n - Dedupe\n - Compression\n\nDocImpact\nImplements: blueprint qnap-enhance-support\n\nChange-Id: I2a7440789753bb0e42ac0e8d0190b21652a87e2f\n'}, {'number': 8, 'created': '2017-11-27 09:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c488652cf6032003765bf89d71849b5bc3575fee', 'message': 'Add support for enhanced features to the QNAP Cinder driver\n\nThis adds enhanced supports to the QNAP Cinder driver:\n - CHAP\n - Thin Provision\n - SSD Cache\n - Dedupe\n - Compression\n\nDocImpact\nImplements: blueprint qnap-enhance-support\n\nChange-Id: I2a7440789753bb0e42ac0e8d0190b21652a87e2f\n'}, {'number': 9, 'created': '2017-11-27 14:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dccb1759ff66df806639cccc5c9c4ccb812d092f', 'message': 'Add support for enhanced features to the QNAP Cinder driver\n\nThis adds enhanced supports to the QNAP Cinder driver:\n - CHAP\n - Thin Provision\n - SSD Cache\n - Dedupe\n - Compression\n\nDocImpact\nImplements: blueprint qnap-enhance-support\n\nChange-Id: I2a7440789753bb0e42ac0e8d0190b21652a87e2f\n'}, {'number': 10, 'created': '2017-11-28 07:00:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d213b0b9ca1673c88360952c71244eae88897ca5', 'message': 'Add support for enhanced features to the QNAP Cinder driver\n\nThis adds enhanced supports to the QNAP Cinder driver:\n - CHAP\n - Thin Provision\n - SSD Cache\n - Dedupe\n - Compression\n\nDocImpact\nImplements: blueprint qnap-enhance-support\n\nChange-Id: I2a7440789753bb0e42ac0e8d0190b21652a87e2f\n'}, {'number': 11, 'created': '2017-11-29 01:33:37.000000000', 'files': ['cinder/volume/drivers/qnap.py', 'releasenotes/notes/qnap-enhance-support-4ab5cbb110b3303b.yaml', 'cinder/tests/unit/volume/drivers/test_qnap.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/08dcf03541995cc9f8a22232bf738967e4b6570b', 'message': 'Add support for enhanced features to the QNAP Cinder driver\n\nThis adds enhanced supports to the QNAP Cinder driver:\n - CHAP\n - Thin Provision\n - SSD Cache\n - Dedupe\n - Compression\n\nDocImpact\nImplements: blueprint qnap-enhance-support\n\nChange-Id: I2a7440789753bb0e42ac0e8d0190b21652a87e2f\n'}]",25,470188,08dcf03541995cc9f8a22232bf738967e4b6570b,394,65,11,20361,,,0,"Add support for enhanced features to the QNAP Cinder driver

This adds enhanced supports to the QNAP Cinder driver:
 - CHAP
 - Thin Provision
 - SSD Cache
 - Dedupe
 - Compression

DocImpact
Implements: blueprint qnap-enhance-support

Change-Id: I2a7440789753bb0e42ac0e8d0190b21652a87e2f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/470188/9 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/qnap.py'],1,f63ba498aea723210a8ffa8baf07277876082677,bp/qnap-enhance-support,"import threadingfrom os_brick.initiator import connector from oslo_concurrency import lockutilsfrom cinder.i18n import _, _LE from cinder.image import image_utilsfrom cinder import utils from cinder.volume import driverfrom eventlet import greenthread VERSION = '1.1.017' self.cache_time = 0 self.initiator = '' self.iscsi_port = '' self.target_index = '' self.target_iqn = '' self.target_iqns = [] self.nasInfoCache = {} LOG.error(_LE('Failed to create HTTP client. ' 'Check ip, port, username, password' ' and make sure the array version is compatible')) if (self.configuration.qnap_management_url not in self.nasInfoCache): self.nasInfoCache[self.configuration.qnap_management_url] = (nas_model_name, internal_model_name, fw_version) if (fw_version >= ""4.2"") and (fw_version <= ""4.4""): if (fw_version >= ""4.2"") and (fw_version <= ""4.4""): elif (fw_version >= ""1.1.2"") or (fw_version <= ""1.1.4""): if (fw_version >= ""1.1.2"") or (fw_version <= ""1.1.4""): # @lockutils.synchronized('create_volume', 'cinder-', True) time_interval = 3 greenthread.sleep(time_interval) _metadata['LUNIndex'] = create_lun_index LOG.debug('create_volume volid: %(volid)s, metadata: %(meta)s', {'volid': volume['id'], 'meta': _metadata}) @lockutils.synchronized('delete_volume', 'cinder-', True) # del_lun = self.api_executor.get_lun_info(LUNNAA=lun_naa) # if del_lun is None: # LOG.debug('Volume %s does not exist.', lun_naa) # return # lun_index = del_lun.find('LUNIndex').text lun_index = '' for metadata in volume['volume_metadata']: if metadata['key'] == 'LUNIndex': lun_index = metadata['value'] break LOG.debug('LUNIndex: %s', lun_index) ret = self.api_executor.get_one_lun_info(lun_index) del_lun = ET.fromstring(ret['data']).find('LUNInfo').find('row') # Added by Pony, 20170511 retry_delete = False while True: retry_delete = self.api_executor.delete_lun(lun_index) if not retry_delete: time_interval = 3 greenthread.sleep(time_interval) time_interval = 3 greenthread.sleep(time_interval) self.api_executor.delete_snapshot_api(snapshot_id) time_interval = 3 greenthread.sleep(time_interval) LOG.debug('in get_volume_stats refresh: %s', refresh) return self.group_stats # @lockutils.synchronized('_get_portal_info', 'cinder-', True) def _get_portal_info(self, volume, connector, lun_slot_id, lun_owner): """"""Get portal info."""""" # Cache portal info for twenty seconds # If connectors were the same then use the portal info which was cached # LOG.debug('time diff : %s', time.time() - self.cache_time) # if (time.time() - self.cache_time < 60) and ( # self.initiator == connector['initiator']): # self.cache_time = time.time() # return LOG.debug('get into _get_portal_info') self.initiator = connector['initiator'] internal_model_name = self.nasInfoCache[self.configuration.qnap_management_url][1] LOG.debug('internal_model_name: %s', internal_model_name) fw_version = self.nasInfoCache[self.configuration.qnap_management_url][2] LOG.debug('fw_version: %s', fw_version) target_index = '' target_iqn = '' if 'ES' in internal_model_name.upper() and fw_version == ""1.1.4"": LOG.debug('in ES FW after 1.1.4: get_target_info_by_initiator') target_index, target_iqn = self.api_executor.get_target_info_by_initiator(connector['initiator']) LOG.debug('get_target_info_by_initiator target_index: %s', target_index) LOG.debug('get_target_info_by_initiator target_iqn: %s', target_iqn) else: ret = self.api_executor.get_all_iscsi_portal_setting() root = ET.fromstring(ret['data']) # find the targets have acl with connector['initiator'] target_with_initiator_list = [] target_acl_tree = root.find('targetACL') target_acl_list = target_acl_tree.findall('row') tmp_target_iqn = '' for targetACL in target_acl_list: tmp_target_iqn = targetACL.find('targetIQN').text # If lun and the targetiqn in different controller, # skip the targetiqn, in case lun in sca map to target of scb LOG.debug('lun_slot_id: %s', lun_slot_id) LOG.debug('tmp_target_iqn[-1]: %s', tmp_target_iqn[-1]) if (lun_slot_id != ''): if (lun_slot_id != tmp_target_iqn[-1]): LOG.debug('skip the targetiqn') continue target_init_info_list = targetACL.findall('targetInitInfo') for targetInitInfo in target_init_info_list: if(targetInitInfo.find('initiatorIQN').text == connector['initiator']): target_with_initiator_list.append( targetACL.find('targetIndex').text) # find the target in target_with_initiator_list with ready status target_tree = root.find('iSCSITargetList') target_list = target_tree.findall('targetInfo') for target_with_initiator in target_with_initiator_list: for target in target_list: if(target_with_initiator == target.find('targetIndex').text): if int(target.find('targetStatus').text) >= 0: target_index = target_with_initiator target_iqn = target.find('targetIQN').text # create a new target if no target has ACL connector['initiator'] LOG.debug('exist target_index: %s', target_index) if not target_index: target_name = self._gen_random_name() LOG.debug('target_name: %s', target_name) target_index = self.api_executor.create_target( target_name, lun_owner) LOG.debug('targetIndex: %s', target_index) retryCount = 0 retrySleepTime = 2 while retryCount <= 5: target_info = self.api_executor.get_target_info(target_index) if target_info.find('targetIQN').text is not None: break greenthread.sleep(retrySleepTime) retrySleepTime = retrySleepTime + 2 retryCount = retryCount + 1 target_iqn = target_info.find('targetIQN').text LOG.debug('target_iqn: %s', target_iqn) # TS NAS have to remove default ACL default_acl = ( target_iqn_prefix[:target_iqn_prefix.find("":"") + 1]) default_acl = default_acl + ""all:iscsi.default.ffffff"" LOG.debug('default_acl: %s', default_acl) self.api_executor.remove_target_init(target_iqn, default_acl) # add ACL self.api_executor.add_target_init( target_iqn, connector['initiator']) # Get information for multipath target_iqns = [] slotid_list = [] eth_list, slotid_list = Util.retriveFormCache( self.configuration.qnap_management_url, lambda: self.api_executor.get_ethernet_ip(type='data'), 30) LOG.debug('slotid_list: %s', slotid_list) target_portals = [] target_portals.append( self.configuration.iscsi_ip_address + ':' + iscsi_port) # target_iqns.append(target_iqn) for index, eth in enumerate(eth_list): # TS NAS do not have slot_id if not slotid_list: target_iqns.append(target_iqn) else: # To support ALUA, target portal and target inq should # be consistent. # EX: 10.77.230.31:3260 at controller B and it should map # to the target at controller B target_iqns.append( target_iqn[:-2] + '.' + slotid_list[index]) if eth == self.configuration.iscsi_ip_address: continue target_portals.append(eth + ':' + iscsi_port) self.iscsi_port = iscsi_port self.target_index = target_index self.target_iqn = target_iqn self.target_iqns = target_iqns self.target_portals = target_portals return (iscsi_port, target_index, target_iqn, target_iqns, target_portals) @lockutils.synchronized('create_export', 'cinder-', True) def create_export(self, context, volume, connector): # if not volume['id'] in self.vol_locks: # self.vol_locks[volume['id']] = threading.Lock() # self.vol_locks[volume['id']].acquire() start_time = time.time() LOG.debug('in create_export') LOG.debug('volume: %s', volume.__dict__) LOG.debug('connector: %s', connector) lun_status = self.enum('createing', 'unmapped', 'mapped') #selected_lun = self.api_executor.get_lun_info(LUNNAA=lun_naa) #lun_index = selected_lun.find('LUNIndex').text lun_index = '' for metadata in volume['volume_metadata']: if metadata['key'] == 'LUNIndex': lun_index = metadata['value'] break ret = self.api_executor.get_one_lun_info(lun_index) selected_lun = ET.fromstring(ret['data']) # LOG.debug('self.initiator: %s', self.initiator) LOG.debug('connector: %s', connector['initiator']) iscsi_port, target_index, target_iqn, target_iqns, target_portals = Util.retriveFormCache( connector['initiator'] + self.configuration.qnap_management_url, lambda: self._get_portal_info(volume, connector, lun_slot_id, lun_owner), 30) self.api_executor.map_lun(lun_index, target_index) # Added by Pony, 20170428 # nas_model_name, internal_model_name, fw_version = ( # self.api_executor.get_basic_info( # self.configuration.qnap_management_url)) internal_model_name = self.nasInfoCache[self.configuration.qnap_management_url][1] LOG.debug('internal_model_name: %s', internal_model_name) fw_version = self.nasInfoCache[self.configuration.qnap_management_url][2] LOG.debug('fw_version: %s', fw_version) time_interval = 3 max_wait_sec = 600 try_times = 0 LUNNumber = """" target_lun_id = -999 while True: if 'TS' in internal_model_name.upper(): LOG.debug('in TS FW: get_one_lun_info') ret = self.api_executor.get_one_lun_info(lun_index) root = ET.fromstring(ret['data']) target_lun_id = int(root.find('LUNInfo').find('row').find( 'LUNTargetList').find('row').find('LUNNumber').text) try_times = try_times + 3 greenthread.sleep(time_interval) if(try_times > max_wait_sec or target_lun_id != -999): break elif 'ES' in internal_model_name.upper(): if fw_version >= ""1.1.2"" and fw_version <= ""1.1.3"": LOG.debug('in ES FW before 1.1.2/1.1.3: get_lun_info') root = self.api_executor.get_lun_info(LUNNAA=lun_naa) if len(list(root.find('LUNTargetList'))) != 0: LUNNumber = root.find('LUNTargetList').find('row').find('LUNNumber').text target_lun_id = int(LUNNumber) try_times = try_times + 3 greenthread.sleep(time_interval) if(try_times > max_wait_sec or LUNNumber != """"): break elif fw_version == ""1.1.4"": LOG.debug('in ES FW after 1.1.4: get_one_lun_info') ret = self.api_executor.get_one_lun_info(lun_index) root = ET.fromstring(ret['data']) target_lun_id = int(root.find('LUNInfo').find('row').find( 'LUNTargetList').find('row').find('LUNNumber').text) try_times = try_times + 3 greenthread.sleep(time_interval) if(try_times > max_wait_sec or target_lun_id != -999): break else: break else: break properties['target_discovered'] = False # mapped_lun = self.api_executor.get_lun_info(LUNNAA=lun_naa) # target_lun_id = int(mapped_lun.find('LUNTargetList').find( # 'row').find('LUNNumber').text) multipath = connector.get('multipath', False) if multipath: """"""Below are settings for multipath"""""" properties['target_portals'] = target_portals properties['target_iqns'] = target_iqns properties['target_luns'] = ( [target_lun_id] * len(target_portals)) LOG.debug('properties: %s', properties) provider_location = '%(host)s:%(port)s,1 %(name)s %(tgt_lun)s' % { 'host': self.configuration.iscsi_ip_address, 'port': iscsi_port, 'name': target_iqn, 'tgt_lun': target_lun_id, } # self.vol_locks[volume['id']].release() elapsed_time = time.time() - start_time LOG.debug('create_export elapsed_time: %s', elapsed_time) LOG.debug('create_export volid: %(volid)s, provider_location: %(loc)s', {'volid': volume['id'], 'loc': provider_location}) return ( {'provider_location': provider_location, 'provider_auth': None}) # @lockutils.synchronized('initialize_connection', 'cinder-', True) def initialize_connection(self, volume, connector): start_time = time.time() LOG.debug('in initialize_connection') if not volume['provider_location']: err = _(""Param volume['provider_location'] is invalid."") raise exception.InvalidParameterValue(err=err) #iqn, trg_id = self.get_iqn_and_trgid(volume['provider_location']) result = volume['provider_location'].split(' ') if len(result) < 2: raise exception.InvalidInput(reason=volume['provider_location']) data = result[0].split(',') if len(data) < 2: raise exception.InvalidInput(reason=volume['provider_location']) iqn = result[1] LOG.debug('iqn: %s', iqn) target_lun_id = int(result[2], 10) LOG.debug('target_lun_id: %d', target_lun_id) # properties = { # 'target_discovered': False, # 'target_iqn': iqn, # 'target_portal': '%(ip)s:%(port)d' % {'ip': self.configuration.iscsi_ip_address, # 'port': self.iscsi_port}, # 'volume_id': volume['id'], ## 'access_mode': 'rw', ## 'discard': False, # 'target_lun': target_lun_id # } properties = {} properties['target_discovered'] = False properties['target_portal'] = (self.configuration.iscsi_ip_address + ':' + self.iscsi_port) properties['target_iqn'] = iqn properties['target_lun'] = target_lun_id properties['volume_id'] = volume['id'] # used by xen currently LOG.debug('initialize_connection volid: %(volid)s, properties: %(prop)s', {'volid': volume['id'], 'prop': properties}) # if not volume['id'] in self.vol_locks: # self.vol_locks[volume['id']] = threading.Lock() # self.vol_locks[volume['id']].acquire() # selected_lun = self.api_executor.get_lun_info( # LUNNAA=lun_naa) # lun_index = selected_lun.find('LUNIndex').text lun_index = '' for metadata in volume['volume_metadata']: if metadata['key'] == 'LUNIndex': lun_index = metadata['value'] break ret = self.api_executor.get_one_lun_info(lun_index) selected_lun = ET.fromstring(ret['data']).find('LUNInfo').find('row') start_time1 = time.time() elapsed_time1 = time.time() - start_time1 LOG.debug('terminate_connection disable_lun elapsed_time : %s', elapsed_time1) start_time2 = time.time() elapsed_time2 = time.time() - start_time2 LOG.debug('terminate_connection unmap_lun elapsed_time : %s', elapsed_time2) # self.vol_locks[volume['id']].release() # metadata will not be swap after migration with liberty version # , and the metadata of new volume is different with the metadata """""" @utils.synchronized('_attach_volume') def _detach_volume(self, args, *kwargs): super(QnapISCSIDriver, self)._detach_volume(*args, **kwargs) @utils.synchronized('_attach_volume') def _attach_volume(self, args, *kwargs): #greenthread.sleep(5) return super(QnapISCSIDriver, self)._attach_volume(*args, **kwargs) """""" @utils.synchronized('_attach_volume') def _detach_volume(self, context, attach_info, volume, properties, force=False, remote=False): super(QnapISCSIDriver, self)._detach_volume(context, attach_info, volume, properties, force, remote) @utils.synchronized('_attach_volume') def _attach_volume(self, context, volume, properties, remote=False): return super(QnapISCSIDriver, self)._attach_volume(context, volume, properties, remote) LOG.error(_LE('Re-throwing Exception %s'), e) es_create_lun_lock = threading.Lock() es_delete_lun_lock = threading.Lock() es_lun_locks = {} LOG.debug('_execute_and_get_response_details url: %s', url) LOG.debug('_execute_and_get_response_details post_parm: %s', post_parm) start_time1 = time.time() elapsed_time1 = time.time() - start_time1 LOG.debug('connection elapsed_time: %s', elapsed_time1) start_time2 = time.time() elapsed_time2 = time.time() - start_time2 LOG.debug('request elapsed_time: %s', elapsed_time2) LOG.debug('response status: %s', response.status) LOG.debug('execute_login data: %s', res_details['data']) LOG.debug('execute_login session_id: %s', session_id) for key, value in six.iteritems(kwargs): self.es_create_lun_lock.acquire() try: res_details = self._get_res_details( '/cgi-bin/disk/iscsi_lun_setting.cgi?', func='add_lun', FileIO='no', LUNThinAllocate=lun_thin_allocate, LUNName=create_lun_name, LUNPath=create_lun_name, poolID=pool_name, lv_ifssd='no', LUNCapacity=volume['size'], lv_threshold='80', sid=self.sid) finally: self.es_create_lun_lock.release() # @lockutils.synchronized('delete_lun', 'cinder-', True) self.es_delete_lun_lock.acquire() try: res_details = self._get_res_details( '/cgi-bin/disk/iscsi_lun_setting.cgi?', func='remove_lun', run_background='1', ha_sync='1', LUNIndex=vol_id, sid=self.sid) finally: self.es_delete_lun_lock.release() """"""Execute get specific poolinfo API."""""" targetIndex = root.find('result').text return targetIndex #@lockutils.synchronized('map_lun', 'cinder-', True)# if not lun_index in self.es_lun_locks: # self.es_lun_locks[lun_index] = threading.Lock() # self.es_lun_locks[lun_index].acquire() try: res_details = self._get_res_details( '/cgi-bin/disk/iscsi_target_setting.cgi?', func='add_lun', LUNIndex=lun_index, targetIndex=target_index, sid=self.sid) finally: pass # self.es_lun_locks[lun_index].release()# if not lun_index in self.es_lun_locks: # self.es_lun_locks[lun_index] = threading.Lock() # self.es_lun_locks[lun_index].acquire() try: res_details = self._get_res_details( '/cgi-bin/disk/iscsi_target_setting.cgi?', func='edit_lun', LUNIndex=lun_index, targetIndex=target_index, LUNEnable=0, sid=self.sid) finally: pass # self.es_lun_locks[lun_index].release() """"""Unmap lun from sepecific target."""""" # if not lun_index in self.es_lun_locks: # self.es_lun_locks[lun_index] = threading.Lock() # self.es_lun_locks[lun_index].acquire() try: res_details = self._get_res_details( '/cgi-bin/disk/iscsi_target_setting.cgi?', func='remove_lun', LUNIndex=lun_index, targetIndex=target_index, sid=self.sid) finally: pass # self.es_lun_locks[lun_index].release() def get_one_lun_info(self, lunID): """"""Execute get_one_lun_info API."""""" res_details = self._get_res_details( '/cgi-bin/disk/iscsi_portal_setting.cgi?', func='extra_get', lun_info='1', lunID=lunID, sid=self.sid) root = ET.fromstring(res_details['data']) if root.find('authPassed').text == '0': raise exception.VolumeBackendAPIException( data=_('Session id expired')) else: return res_details @_connection_checker """"""Execute CGI to create snapshot from source lun."""""" def delete_snapshot_api(self, snapshot_id): """"""Execute CGI to delete snapshot by snapshot id."""""" return_slot_id = [] return_slot_id.append(IP.find('interfaceSlotid').text) return return_ip, return_slot_id LOG.debug('ES get_target_info.authPassed: (%s)', root.find('authPassed').text) @_connection_checker def get_target_info_by_initiator(self, initiatorIQN): """"""Get target info by initiatorIQN."""""" res_details = self._get_res_details( '/cgi-bin/disk/iscsi_portal_setting.cgi?', func='extra_get', initiatorIQN=initiatorIQN, sid=self.sid) root = ET.fromstring(res_details['data']) if root.find('authPassed').text == '0': raise exception.VolumeBackendAPIException( data=_('Session id expired')) if root.find('result').text < '0': # Added by Pony, 20170505 # raise exception.VolumeBackendAPIException( # data=_('Get target info failed')) return """", """" target = root.find('targetACL').find('row') targetIndex = target.find('targetIndex').text targetIQN = target.find('targetIQN').text return targetIndex, targetIQN create_lun_lock = threading.Lock() delete_lun_lock = threading.Lock() lun_locks = {} # @lockutils.synchronized('create_lun_ts', True) @_connection_checker def create_lun(self, volume, pool_name, create_lun_name, reserve): """"""Create lun."""""" self.create_lun_lock.acquire() lun_thin_allocate = '' if reserve: lun_thin_allocate = '1' else: lun_thin_allocate = '0' try: res_details = self._get_res_details( '/cgi-bin/disk/iscsi_lun_setting.cgi?', func='add_lun', FileIO='no', LUNThinAllocate=lun_thin_allocate, LUNName=create_lun_name, LUNPath=create_lun_name, poolID=pool_name, lv_ifssd='no', LUNCapacity=volume['size'], lv_threshold='80', sid=self.sid) finally: self.create_lun_lock.release() root = ET.fromstring(res_details['data']) if root.find('authPassed').text == '0': raise exception.VolumeBackendAPIException( data=_('Session id expired')) if root.find('result').text < '0': raise exception.VolumeBackendAPIException( data=_('Create volume %s failed') % volume['display_name']) return root.find('result').text # @lockutils.synchronized('delete_lun_ts', True) @_connection_checker def delete_lun(self, vol_id, *args, **kwargs): """"""Execute delete lun API."""""" self.delete_lun_lock.acquire() try: res_details = self._get_res_details( '/cgi-bin/disk/iscsi_lun_setting.cgi?', func='remove_lun', run_background='1', ha_sync='1', LUNIndex=vol_id, sid=self.sid) finally: self.delete_lun_lock.release() data_set_is_busy = ""-205041"" root = ET.fromstring(res_details['data']) if root.find('authPassed').text == '0': raise exception.VolumeBackendAPIException( data=_('Session id expired')) # dataset is busy, retry to delete if root.find('result').text == data_set_is_busy: return True if root.find('result').text < '0': msg = (_('Volume %s delete failed') % vol_id) raise exception.VolumeBackendAPIException(data=msg) return False @lockutils.synchronized('map_unmap_lun_ts', True) @_connection_checker def map_lun(self, lun_index, target_index): """"""Map lun to sepecific target."""""" # if not lun_index in self.lun_locks: # self.lun_locks[lun_index] = threading.Lock() # self.lun_locks[lun_index].acquire() try: res_details = self._get_res_details( '/cgi-bin/disk/iscsi_target_setting.cgi?', func='add_lun', LUNIndex=lun_index, targetIndex=target_index, sid=self.sid) finally: pass # self.lun_locks[lun_index].release() root = ET.fromstring(res_details['data']) if root.find('authPassed').text == '0': raise exception.VolumeBackendAPIException( data=_('Session id expired')) if root.find('result').text < '0': raise exception.VolumeBackendAPIException(data=_( ""Map lun %(lun_index)s to target %(target_index)s failed"") % {'lun_index': six.text_type(lun_index), 'target_index': six.text_type(target_index)}) return root.find('result').text # @lockutils.synchronized('disable_lun_ts', True) @_connection_checker def disable_lun(self, lun_index, target_index): """"""Disable lun from sepecific target."""""" # if not lun_index in self.lun_locks: # self.lun_locks[lun_index] = threading.Lock() # self.lun_locks[lun_index].acquire() try: res_details = self._get_res_details( '/cgi-bin/disk/iscsi_target_setting.cgi?', func='edit_lun', LUNIndex=lun_index, targetIndex=target_index, LUNEnable=0, sid=self.sid) finally: pass # self.lun_locks[lun_index].release() root = ET.fromstring(res_details['data']) if root.find('authPassed').text == '0': raise exception.VolumeBackendAPIException( data=_('Session id expired')) if root.find('result').text < '0': raise exception.VolumeBackendAPIException(data=_( 'Disable lun %(lun_index)s from target %(target_index)s failed' ) % {'lun_index': lun_index, 'target_index': target_index}) # @lockutils.synchronized('map_unmap_lun_ts', True) @_connection_checker def unmap_lun(self, lun_index, target_index): """"""Unmap lun from sepecific target."""""" # if not lun_index in self.lun_locks: # self.lun_locks[lun_index] = threading.Lock() # self.lun_locks[lun_index].acquire() try: res_details = self._get_res_details( '/cgi-bin/disk/iscsi_target_setting.cgi?', func='remove_lun', LUNIndex=lun_index, targetIndex=target_index, sid=self.sid) finally: pass # self.lun_locks[lun_index].release() root = ET.fromstring(res_details['data']) if root.find('authPassed').text == '0': raise exception.VolumeBackendAPIException( data=_('Session id expired')) if root.find('result').text < '0': raise exception.VolumeBackendAPIException(data=_( 'Unmap lun %(lun_index)s from target %(target_index)s failed') % {'lun_index': lun_index, 'target_index': target_index}) LOG.debug('TS get_target_info.authPassed: (%s)', root.find('authPassed').text) return return_ip, None @lockutils.synchronized('create_target_ts', True) targetIndex = root.find('result').text return targetIndex tes_create_lun_lock = threading.Lock() @_connection_checker def create_lun(self, volume, pool_name, create_lun_name, reserve): """"""Create lun."""""" self.tes_create_lun_lock.acquire() lun_thin_allocate = '' if reserve: lun_thin_allocate = '1' else: lun_thin_allocate = '0' try: res_details = self._get_res_details( '/cgi-bin/disk/iscsi_lun_setting.cgi?', func='add_lun', FileIO='no', LUNThinAllocate=lun_thin_allocate, LUNName=create_lun_name, LUNPath=create_lun_name, poolID=pool_name, lv_ifssd='no', sync='disabled', LUNCapacity=volume['size'], lv_threshold='80', sid=self.sid) finally: self.tes_create_lun_lock.release() root = ET.fromstring(res_details['data']) if root.find('authPassed').text == '0': raise exception.VolumeBackendAPIException( data=_('Session id expired')) if root.find('result').text < '0': raise exception.VolumeBackendAPIException( data=_('Create volume %s failed') % volume['display_name']) return root.find('result').text return return_ip, None class Util: _dictCondRetriveFormCache = {} _dictCacheRetriveFormCache = {} _condRetriveFormCache = threading.Condition() @classmethod def retriveFormCache(cls, lockKey, func, keepTime=0): cond = None cls._condRetriveFormCache.acquire() try: if (lockKey not in cls._dictCondRetriveFormCache): cls._dictCondRetriveFormCache[lockKey] = threading.Condition() cond = cls._dictCondRetriveFormCache[lockKey] finally: cls._condRetriveFormCache.release() cond.acquire() try: if (lockKey not in cls._dictCacheRetriveFormCache): # store (startTime, result) in cache. result = func() cls._dictCacheRetriveFormCache[lockKey] = (time.time(), result) startTime, result = cls._dictCacheRetriveFormCache[lockKey] if ((time.time() - startTime) > keepTime): # check if the cache is time-out result = func() cls._dictCacheRetriveFormCache[lockKey] = (time.time(), result) return result finally: cond.release() @classmethod def retry(cls, func, retry=0, retryTime=30): if (retry == 0): retry = 9999 # max is 9999 times if (retryTime == 0): retryTime = 9999 # max is 9999 seconds startTime = time.time() retryCount = 0 sleepSeconds = 2 while (retryCount >= retry): result = func() if (result == True): return True if ((time.time() - startTime) <= retryTime): return False # more than retry times greenthread.sleep(sleepSeconds) sleepSeconds = sleepSeconds + 2 retryCount = retryCount + 1 return False # more than retryTime","from cinder.i18n import _ Version history: 1.0.0 - Initial driver (Only iSCSI) # TODO(smcginnis) Either remove this if CI requirement are met, or # remove this driver in the Queens release per normal deprecation SUPPORTED = False VERSION = '1.0.0' TIME_INTERVAL = 3 LOG.error('Failed to create HTTP client. ' 'Check ip, port, username, password' ' and make sure the array version is compatible') if (fw_version.startswith(""4.2"") or fw_version.startswith(""4.3"")): if (fw_version.startswith(""4.2"") or fw_version.startswith(""4.3"")): if (fw_version.startswith(""1.1.2"") or fw_version.startswith(""1.1.3"")): if (fw_version.startswith(""1.1.2"") or fw_version.startswith(""1.1.3"")): LOG.debug('matches.group(1): %s', matches.group(1)) LOG.debug('matches.group(2): %s', matches.group(2)) eventlet.sleep(self.TIME_INTERVAL) del_lun = self.api_executor.get_lun_info(LUNNAA=lun_naa) lun_index = del_lun.find('LUNIndex').text LOG.debug('LUNIndex: %s', lun_index) is_lun_busy = False while True: is_lun_busy = self.api_executor.delete_lun(lun_index) if not is_lun_busy: eventlet.sleep(self.TIME_INTERVAL) eventlet.sleep(self.TIME_INTERVAL) self.api_executor.api_delete_snapshot(snapshot_id) eventlet.sleep(self.TIME_INTERVAL) LOG.debug('in get_volume_stats') return self.group_stats def initialize_connection(self, volume, connector): """"""Create a target with initiator iqn to attach a volume."""""" start_time = time.time() LOG.debug('in initialize_connection') LOG.debug('volume: %s', volume.__dict__) LOG.debug('connector: %s', connector) lun_status = self.enum('createing', 'unmapped', 'mapped') target_iqn_postfix = (root.find('iSCSIPortal'). find('targetIQNPostfix').text) LOG.debug('target_iqn_postfix: %s', target_iqn_postfix) selected_lun = self.api_executor.get_lun_info(LUNNAA=lun_naa) lun_index = selected_lun.find('LUNIndex').text ret = self.api_executor.get_all_iscsi_portal_setting() root = ET.fromstring(ret['data']) target_index = '' target_iqn = '' # find the targets have acl with connector['initiator'] target_with_initiator_list = [] target_acl_tree = root.find('targetACL') target_acl_list = target_acl_tree.findall('row') tmp_target_iqn = '' for targetACL in target_acl_list: tmp_target_iqn = targetACL.find('targetIQN').text # If lun and the targetiqn in different controller, # skip the targetiqn, in case lun in sca map to target of scb LOG.debug('lun_slot_id: %s', lun_slot_id) LOG.debug('tmp_target_iqn[-1]: %s', tmp_target_iqn[-1]) if (lun_slot_id != ''): if (lun_slot_id != tmp_target_iqn[-1]): LOG.debug('skip the targetiqn') continue target_init_info_list = targetACL.findall('targetInitInfo') for targetInitInfo in target_init_info_list: if(targetInitInfo.find('initiatorIQN').text == connector['initiator']): target_with_initiator_list.append( targetACL.find('targetIndex').text) # find the target in target_with_initiator_list with ready status target_tree = root.find('iSCSITargetList') target_list = target_tree.findall('targetInfo') for target_with_initiator in target_with_initiator_list: for target in target_list: if(target_with_initiator == target.find('targetIndex').text): if int(target.find('targetStatus').text) >= 0: target_index = target_with_initiator target_iqn = target.find('targetIQN').text # create a new target if no target has ACL connector['initiator'] LOG.debug('exist target_index: %s', target_index) if not target_index: target_name = self._gen_random_name() LOG.debug('target_name: %s', target_name) target_index = self.api_executor.create_target( target_name, lun_owner) LOG.debug('targetIndex: %s', target_index) target_info = self.api_executor.get_target_info(target_index) target_iqn = target_info.find('targetIQN').text LOG.debug('target_iqn: %s', target_iqn) # TS NAS have to remove default ACL default_acl = target_iqn_prefix[:target_iqn_prefix.find("":"") + 1] default_acl = default_acl + ""all:iscsi.default.ffffff"" LOG.debug('default_acl: %s', default_acl) self.api_executor.remove_target_init(target_iqn, default_acl) # add ACL self.api_executor.add_target_init( target_iqn, connector['initiator']) LOG.debug('LUNStatus: %s', selected_lun.find('LUNStatus').text) # lun does not map to any target if selected_lun.find('LUNStatus').text == str(lun_status.unmapped): self.api_executor.map_lun(lun_index, target_index) properties['target_discovered'] = True lun_naa = self._get_lun_naa_from_volume_metadata(volume) LOG.debug('LUNNAA: %s', lun_naa) mapped_lun = self.api_executor.get_lun_info(LUNNAA=lun_naa) target_lun_id = int(mapped_lun.find('LUNTargetList').find( 'row').find('LUNNumber').text) """"""Below are settings for multipath"""""" target_iqns = [] eth_list = self.api_executor.get_ethernet_ip(type='data') target_portals = [] target_portals.append( self.configuration.iscsi_ip_address + ':' + iscsi_port) target_iqns.append(target_iqn) for eth in eth_list: if eth == self.configuration.iscsi_ip_address: continue target_portals.append(eth + ':' + iscsi_port) target_iqns.append(target_iqn) properties['target_portals'] = target_portals properties['target_iqns'] = target_iqns properties['target_luns'] = [target_lun_id] * len(target_portals) LOG.debug('properties: %s', properties) selected_lun = self.api_executor.get_lun_info( LUNNAA=lun_naa) lun_index = selected_lun.find('LUNIndex').text # metadata will not be swap after migration wiht liberty version # , and the metadata of new volume is diifferent with the metadata LOG.error('Re-throwing Exception %s', e) LOG.debug('in get_basic_info') LOG.debug('response data: %s', data) LOG.debug('port: %(port)s, ssl: %(ssl)s', {'port': self.port, 'ssl': self.ssl}) LOG.debug('response data: %s', data) LOG.debug('sid: %s', self.sid) for key, value in kwargs.items(): LOG.debug('%(key)s = %(val)s', {'key': key, 'val': value}) LOG.debug('sanitized_params: %s', sanitized_params) LOG.debug('url: %s', url) res_details = self._get_res_details( '/cgi-bin/disk/iscsi_lun_setting.cgi?', func='add_lun', FileIO='no', LUNThinAllocate=lun_thin_allocate, LUNName=create_lun_name, LUNPath=create_lun_name, poolID=pool_name, lv_ifssd='no', LUNCapacity=volume['size'], lv_threshold='80', sid=self.sid) LOG.debug('Deleting volume id %s', vol_id) res_details = self._get_res_details( '/cgi-bin/disk/iscsi_lun_setting.cgi?', func='remove_lun', run_background='1', ha_sync='1', LUNIndex=vol_id, sid=self.sid) """"""Execute deleteInitiatorGrp API."""""" LOG.debug('poolID: %s', pool.find('poolID').text) target_index = root.find('result').text return target_index LOG.debug('targetIqn = %(tgt)s, initIqn = %(init)s', {'tgt': target_iqn, 'init': init_iqn}) LOG.debug('LUNIndex: %(lun)s, targetIndex: %(tgt)s', {'lun': lun_index, 'tgt': target_index}) res_details = self._get_res_details( '/cgi-bin/disk/iscsi_target_setting.cgi?', func='add_lun', LUNIndex=lun_index, targetIndex=target_index, sid=self.sid) res_details = self._get_res_details( '/cgi-bin/disk/iscsi_target_setting.cgi?', func='edit_lun', LUNIndex=lun_index, targetIndex=target_index, LUNEnable=0, sid=self.sid) """"""Unmap lun to sepecific target."""""" res_details = self._get_res_details( '/cgi-bin/disk/iscsi_target_setting.cgi?', func='remove_lun', LUNIndex=lun_index, targetIndex=target_index, sid=self.sid) for key, value in kwargs.items(): LOG.debug('%(key)s = %(val)s', {'key': key, 'val': value}) LOG.debug('LUNIndex:%s', lun.find('LUNIndex').text) LOG.debug('LUNName:%s', lun.find('LUNName').text) LOG.debug('LUNNAA:%s', lun.find('LUNNAA').text) for key, value in kwargs.items(): LOG.debug('%(key)s = %(val)s', {'key': key, 'val': value}) LOG.debug('snapshot_name:%s', kwargs['snapshot_name']) """"""Execute CGI to create snapshot from source lun NAA."""""" def api_delete_snapshot(self, snapshot_id): """"""Execute CGI to delete snapshot from source lun NAA."""""" LOG.debug( 'LUNName:%(name)s, LUNCapacity:%(cap)s, LUNIndex:%(id)s'), ( {'name': lun['LUNName'], 'cap': lun['LUNCapacity'], 'id': lun['LUNIndex']}) LOG.debug('in get_all_iscsi_portal_setting') LOG.debug('in get_ethernet_ip') LOG.debug('ipv4 = %s', ipv4) LOG.debug('return_ip = %s', return_ip) return return_ip LOG.debug('target_index: %s', target_index) LOG.debug('targetIQN: %s', target.find('targetIQN').text) LOG.debug('targetIqn = %(tgt)s, initIqn = %(init)s', {'tgt': target_iqn, 'init': init_iqn}) LOG.debug('targetIndex: %s', target_index) LOG.debug('targetIQN: %s', target.find('targetIQN').text) LOG.debug('in get_ethernet_ip') LOG.debug('ipv4 = %s', ipv4) LOG.debug('return_ip = %s', return_ip) return return_ip for key, value in kwargs.items(): LOG.debug('%(key)s = %(val)s', {'key': key, 'val': value}) LOG.debug('in get_ethernet_ip') LOG.debug('snapshot_name:%s', kwargs['snapshot_name']) target_index = root.find('result').text return target_index LOG.debug('in get_ethernet_ip') LOG.debug('ipv4 = %s', ipv4) LOG.debug('return_ip = %s', return_ip) return return_ip",802,246
openstack%2Fcinder~stable%2Fpike~I1f72a8567faa78fec447b9e0a6f948514b43a864,openstack/cinder,stable/pike,I1f72a8567faa78fec447b9e0a6f948514b43a864,VMAX driver - concurrently deleting volumes can fail,MERGED,2017-11-28 16:42:50.000000000,2018-02-25 14:54:14.000000000,2017-12-13 17:33:44.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 12822}, {'_account_id': 15831}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 23674}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 26347}, {'_account_id': 26537}, {'_account_id': 26561}]","[{'number': 1, 'created': '2017-11-28 16:42:50.000000000', 'files': ['cinder/volume/drivers/dell_emc/vmax/rest.py', 'cinder/volume/drivers/dell_emc/vmax/common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5b6b43078b5694601b2c5316b8ea3b2b58ac7130', 'message': ""VMAX driver - concurrently deleting volumes can fail\n\nWhen concurrently deleting volumes, sometimes the task fails leaving\nthe volume in an 'error_deleting' state. This only occurs when\nimage_volume_cache_enabled is True because a temp snapvx session is\ncreated. This same issue also occurs when there is a batch delete\nof snapshots from the same source volume. The fix locks the delete\nsnapvx session using the source DeviceID as key.\n\nChange-Id: I1f72a8567faa78fec447b9e0a6f948514b43a864\nCloses-Bug: #1714922\n(cherry picked from commit 209e1564df3dcbb3426799e0010bd94973acbcda)\n""}]",0,523462,5b6b43078b5694601b2c5316b8ea3b2b58ac7130,28,17,1,12670,,,0,"VMAX driver - concurrently deleting volumes can fail

When concurrently deleting volumes, sometimes the task fails leaving
the volume in an 'error_deleting' state. This only occurs when
image_volume_cache_enabled is True because a temp snapvx session is
created. This same issue also occurs when there is a batch delete
of snapshots from the same source volume. The fix locks the delete
snapvx session using the source DeviceID as key.

Change-Id: I1f72a8567faa78fec447b9e0a6f948514b43a864
Closes-Bug: #1714922
(cherry picked from commit 209e1564df3dcbb3426799e0010bd94973acbcda)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/523462/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/vmax/rest.py', 'cinder/volume/drivers/dell_emc/vmax/common.py']",2,5b6b43078b5694601b2c5316b8ea3b2b58ac7130,,"from cinder import coordination @coordination.synchronized(""emc-source-{sourcedevice_id}"") def do_delete_volume_snap_check_for_links(sourcedevice_id): # Ensure snap has not been recently deleted self.provision.delete_volume_snap_check_for_links( extra_specs[utils.ARRAY], snap_name, sourcedevice_id, extra_specs) do_delete_volume_snap_check_for_links(sourcedevice_id) if 'temp' in snap_name or 'EMC_SMI' in snap_name: @coordination.synchronized(""emc-source-{source}"") def do_delete_temp_volume_snap(source): self.provision.delete_temp_volume_snap( array, snap_name, source) do_delete_temp_volume_snap(source)"," self.provision.delete_volume_snap_check_for_links( extra_specs[utils.ARRAY], snap_name, sourcedevice_id, extra_specs) if 'temp' or 'EMC_SMI' in snap_name: self.provision.delete_temp_volume_snap( array, snap_name, source)",16,7
openstack%2Fcinder~master~I8747b56804704da07bc29b9680c57bc172693994,openstack/cinder,master,I8747b56804704da07bc29b9680c57bc172693994,Add cleanup to TestCase.flags(),MERGED,2017-11-20 18:07:15.000000000,2018-02-25 14:54:13.000000000,2017-11-27 19:01:33.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12176}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-20 18:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/94aa2e43035f1668f0006066afb1bda7257c2ba7', 'message': 'Fix TestCase.flags()\n\nPrior to change 43a31525, this method was installing\na cleanup method to reset the changed config values\nafter the test was run.\n\nIt should still do that to prevent conf changes in one\ntest from interfering with other tests.\n\nChange-Id: I8747b56804704da07bc29b9680c57bc172693994\n'}, {'number': 2, 'created': '2017-11-27 14:25:31.000000000', 'files': ['cinder/test.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4bbe4dae8451071f336cfdff2699b13091782e93', 'message': 'Add cleanup to TestCase.flags()\n\nPrior to change 43a31525, this method was installing\na cleanup method to reset the changed config values\nafter the test was run.\n\nIt should still do that to prevent conf changes in one\ntest from interfering with other tests.\n\nChange-Id: I8747b56804704da07bc29b9680c57bc172693994\n'}]",1,521619,4bbe4dae8451071f336cfdff2699b13091782e93,62,36,2,4523,,,0,"Add cleanup to TestCase.flags()

Prior to change 43a31525, this method was installing
a cleanup method to reset the changed config values
after the test was run.

It should still do that to prevent conf changes in one
test from interfering with other tests.

Change-Id: I8747b56804704da07bc29b9680c57bc172693994
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/521619/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/test.py'],1,94aa2e43035f1668f0006066afb1bda7257c2ba7,521619," self.addCleanup(CONF.clear_override, k, group)",,1,0
openstack%2Fcinder~master~I3308bdedbfe3bb83d695d38667eaea6327fa4461,openstack/cinder,master,I3308bdedbfe3bb83d695d38667eaea6327fa4461,Adds DataCore Volume Drivers,MERGED,2017-02-08 11:53:45.000000000,2018-02-25 14:54:06.000000000,2017-12-05 02:47:16.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 6125}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16941}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18827}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 21990}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22878}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-02-08 11:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c691c087d4a3d01fc43d0bcaa5fe99f77bf8c2c9', 'message': 'Adds DataCore Volume Drivers\n\nThe iSCSI and Fibre Channel volume drivers for the DataCores\nSANsymphony and Hyper-converged Virtual SAN storage\nsupport the core/minimum feature set:\n - Volume Create/Delete\n - Volume Attach/Detach\n - Snapshot Create/Delete\n - Create Volume from Snapshot\n - Get Volume Stats\n - Copy Image to Volume\n - Copy Volume to Image\n - Clone Volume\n - Extend Volume\n\nDocImpact\nImplements: blueprint datacore-volume-driver\n\nChange-Id: I3308bdedbfe3bb83d695d38667eaea6327fa4461\n'}, {'number': 2, 'created': '2017-04-13 14:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4d50a98ff5e096c3d8a488236bb711a1f52a8053', 'message': 'Adds DataCore Volume Drivers\n\nThe iSCSI and Fibre Channel volume drivers for the DataCores\nSANsymphony and Hyper-converged Virtual SAN storage\nsupport the core/minimum feature set:\n - Volume Create/Delete\n - Volume Attach/Detach\n - Snapshot Create/Delete\n - Create Volume from Snapshot\n - Get Volume Stats\n - Copy Image to Volume\n - Copy Volume to Image\n - Clone Volume\n - Extend Volume\n\nDocImpact\nImplements: blueprint datacore-volume-driver\n\nChange-Id: I3308bdedbfe3bb83d695d38667eaea6327fa4461\n'}, {'number': 3, 'created': '2017-04-17 17:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a8502651ac29d5a272e76fa9bc409165d1c352c', 'message': 'Adds DataCore Volume Drivers\n\nThe iSCSI and Fibre Channel volume drivers for DataCores\nSANsymphony and Hyper-converged Virtual SAN storage\nsupport the core/minimum feature set:\n - Volume Create/Delete\n - Volume Attach/Detach\n - Snapshot Create/Delete\n - Create Volume from Snapshot\n - Get Volume Stats\n - Copy Image to Volume\n - Copy Volume to Image\n - Clone Volume\n - Extend Volume\n\nDocImpact\nImplements: blueprint datacore-volume-driver\n\nChange-Id: I3308bdedbfe3bb83d695d38667eaea6327fa4461\n'}, {'number': 4, 'created': '2017-05-11 09:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/86ee05ecec4f1bf1165b8820c28410ffc659e3e3', 'message': 'Adds DataCore Volume Drivers\n\nThe iSCSI and Fibre Channel volume drivers for DataCores\nSANsymphony and Hyper-converged Virtual SAN storage\nsupport the core/minimum feature set:\n - Volume Create/Delete\n - Volume Attach/Detach\n - Snapshot Create/Delete\n - Create Volume from Snapshot\n - Get Volume Stats\n - Copy Image to Volume\n - Copy Volume to Image\n - Clone Volume\n - Extend Volume\n\nDocImpact\nImplements: blueprint datacore-volume-driver\n\nChange-Id: I3308bdedbfe3bb83d695d38667eaea6327fa4461\n'}, {'number': 5, 'created': '2017-05-11 16:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/72bbcd40d41e20059fad5be879aa9d82f2b5d64e', 'message': 'Adds DataCore Volume Drivers\n\nThe iSCSI and Fibre Channel volume drivers for DataCores\nSANsymphony and Hyper-converged Virtual SAN storage\nsupport the core/minimum feature set:\n - Volume Create/Delete\n - Volume Attach/Detach\n - Snapshot Create/Delete\n - Create Volume from Snapshot\n - Get Volume Stats\n - Copy Image to Volume\n - Copy Volume to Image\n - Clone Volume\n - Extend Volume\n\nDocImpact\nImplements: blueprint datacore-volume-driver\n\nChange-Id: I3308bdedbfe3bb83d695d38667eaea6327fa4461\n'}, {'number': 6, 'created': '2017-11-11 18:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bb8923cc3317418aae5f75ced13e2702cb554cb1', 'message': 'Adds DataCore Volume Drivers\n\nThe iSCSI and Fibre Channel volume drivers for DataCores\nSANsymphony and Hyper-converged Virtual SAN storage\nsupport the core/minimum feature set:\n - Volume Create/Delete\n - Volume Attach/Detach\n - Snapshot Create/Delete\n - Create Volume from Snapshot\n - Get Volume Stats\n - Copy Image to Volume\n - Copy Volume to Image\n - Clone Volume\n - Extend Volume\n\nDocImpact\nImplements: blueprint datacore-volume-driver\n\nChange-Id: I3308bdedbfe3bb83d695d38667eaea6327fa4461\n'}, {'number': 7, 'created': '2017-11-12 19:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/89a65652c10b7a35cc285f4fffa9fbcda22cfbcc', 'message': 'Adds DataCore Volume Drivers\n\nThe iSCSI and Fibre Channel volume drivers for DataCores\nSANsymphony and Hyper-converged Virtual SAN storage\nsupport the core/minimum feature set:\n - Volume Create/Delete\n - Volume Attach/Detach\n - Snapshot Create/Delete\n - Create Volume from Snapshot\n - Get Volume Stats\n - Copy Image to Volume\n - Copy Volume to Image\n - Clone Volume\n - Extend Volume\n\nDocImpact\nImplements: blueprint datacore-volume-driver\n\nChange-Id: I3308bdedbfe3bb83d695d38667eaea6327fa4461\n'}, {'number': 8, 'created': '2017-11-21 07:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/579f7d263bb513e1ddb34d5a1a2e0fb3aee88904', 'message': 'Adds DataCore Volume Drivers\n\nThe iSCSI and Fibre Channel volume drivers for DataCores\nSANsymphony and Hyper-converged Virtual SAN storage\nsupport the core/minimum feature set:\n - Volume Create/Delete\n - Volume Attach/Detach\n - Snapshot Create/Delete\n - Create Volume from Snapshot\n - Get Volume Stats\n - Copy Image to Volume\n - Copy Volume to Image\n - Clone Volume\n - Extend Volume\n\nDocImpact\nImplements: blueprint datacore-volume-driver\n\nChange-Id: I3308bdedbfe3bb83d695d38667eaea6327fa4461\n'}, {'number': 9, 'created': '2017-11-22 22:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c6a357119c3c103309cd11a238979ec4a0482856', 'message': 'Adds DataCore Volume Drivers\n\nThe iSCSI and Fibre Channel volume drivers for DataCores\nSANsymphony and Hyper-converged Virtual SAN storage\nsupport the core/minimum feature set:\n - Volume Create/Delete\n - Volume Attach/Detach\n - Snapshot Create/Delete\n - Create Volume from Snapshot\n - Get Volume Stats\n - Copy Image to Volume\n - Copy Volume to Image\n - Clone Volume\n - Extend Volume\n\nDocImpact\nImplements: blueprint datacore-volume-driver\n\nChange-Id: I3308bdedbfe3bb83d695d38667eaea6327fa4461\n'}, {'number': 10, 'created': '2017-11-23 07:13:19.000000000', 'files': ['cinder/tests/unit/volume/drivers/datacore/test_datacore_utils.py', 'cinder/tests/unit/volume/drivers/datacore/test_datacore_driver.py', 'cinder/volume/drivers/datacore/driver.py', 'cinder/tests/unit/volume/drivers/datacore/test_datacore_iscsi.py', 'cinder/tests/unit/volume/drivers/datacore/test_datacore_api.py', 'cinder/volume/drivers/datacore/exception.py', 'cinder/opts.py', 'cinder/volume/drivers/datacore/api.py', 'cinder/volume/drivers/datacore/passwd.py', 'cinder/tests/unit/volume/drivers/datacore/test_datacore_passwd.py', 'cinder/volume/drivers/datacore/fc.py', 'cinder/tests/unit/volume/drivers/datacore/test_datacore_fc.py', 'cinder/volume/drivers/datacore/__init__.py', 'cinder/volume/drivers/datacore/iscsi.py', 'cinder/tests/unit/volume/drivers/datacore/__init__.py', 'cinder/volume/drivers/datacore/utils.py', 'driver-requirements.txt', 'releasenotes/notes/add-datacore-volume-driver-3775797b0515f538.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/747efde4709d7aa00f5d13d98d0036639e612945', 'message': 'Adds DataCore Volume Drivers\n\nThe iSCSI and Fibre Channel volume drivers for DataCores\nSANsymphony and Hyper-converged Virtual SAN storage\nsupport the core/minimum feature set:\n - Volume Create/Delete\n - Volume Attach/Detach\n - Snapshot Create/Delete\n - Create Volume from Snapshot\n - Get Volume Stats\n - Copy Image to Volume\n - Copy Volume to Image\n - Clone Volume\n - Extend Volume\n\nDocImpact\nImplements: blueprint datacore-volume-driver\n\nChange-Id: I3308bdedbfe3bb83d695d38667eaea6327fa4461\n'}]",95,430858,747efde4709d7aa00f5d13d98d0036639e612945,274,66,10,22878,,,0,"Adds DataCore Volume Drivers

The iSCSI and Fibre Channel volume drivers for DataCores
SANsymphony and Hyper-converged Virtual SAN storage
support the core/minimum feature set:
 - Volume Create/Delete
 - Volume Attach/Detach
 - Snapshot Create/Delete
 - Create Volume from Snapshot
 - Get Volume Stats
 - Copy Image to Volume
 - Copy Volume to Image
 - Clone Volume
 - Extend Volume

DocImpact
Implements: blueprint datacore-volume-driver

Change-Id: I3308bdedbfe3bb83d695d38667eaea6327fa4461
",git fetch https://review.opendev.org/openstack/cinder refs/changes/58/430858/9 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/datacore/test_datacore_utils.py', 'cinder/tests/unit/volume/drivers/datacore/test_datacore_driver.py', 'cinder/volume/drivers/datacore/driver.py', 'cinder/tests/unit/volume/drivers/datacore/test_datacore_iscsi.py', 'cinder/tests/unit/volume/drivers/datacore/test_datacore_api.py', 'cinder/volume/drivers/datacore/exception.py', 'cinder/opts.py', 'cinder/volume/drivers/datacore/api.py', 'requirements.txt', 'cinder/volume/drivers/datacore/passwd.py', 'cinder/tests/unit/volume/drivers/datacore/test_datacore_passwd.py', 'cinder/volume/drivers/datacore/fc.py', 'cinder/tests/unit/volume/drivers/datacore/test_datacore_fc.py', 'cinder/volume/drivers/datacore/__init__.py', 'cinder/volume/drivers/datacore/iscsi.py', 'cinder/tests/unit/volume/drivers/datacore/__init__.py', 'cinder/volume/drivers/datacore/utils.py', 'releasenotes/notes/add-datacore-volume-driver-3775797b0515f538.yaml']",18,c691c087d4a3d01fc43d0bcaa5fe99f77bf8c2c9,bp/datacore-volume-driver,--- features: - Added iSCSI and Fibre Channel volume drivers for the DataCores SANsymphony and Hyper-converged Virtual SAN storage. ,,5377,0
openstack%2Fcinder~master~Ie75b6b135610a8bb206a6f941721d5e97f6db502,openstack/cinder,master,Ie75b6b135610a8bb206a6f941721d5e97f6db502,Remove DB authorisation checking with quota API operations.,MERGED,2017-11-21 04:46:50.000000000,2018-02-25 14:54:05.000000000,2017-11-22 02:46:09.000000000,"[{'_account_id': 170}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-21 04:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a7eca035980d5ed7b4dd1560bda23808fd89e55e', 'message': 'Remove DB authorisation checking with quota API operations.\n\nThis is now handled completly in policy.\n\nChange-Id: Ie75b6b135610a8bb206a6f941721d5e97f6db502\nCloses-Bug: #1733480\n'}, {'number': 2, 'created': '2017-11-21 22:19:01.000000000', 'files': ['cinder/policies/quotas.py', 'cinder/api/contrib/quotas.py', 'cinder/tests/unit/api/contrib/test_quotas.py', 'cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/93b1d86f6d158a156e7bd2e43f5de84587bb5e6d', 'message': 'Remove DB authorisation checking with quota API operations.\n\nThis is now handled completely in policy.\n\nChange-Id: Ie75b6b135610a8bb206a6f941721d5e97f6db502\nCloses-Bug: #1733480\n'}]",1,521712,93b1d86f6d158a156e7bd2e43f5de84587bb5e6d,59,31,2,3031,,,0,"Remove DB authorisation checking with quota API operations.

This is now handled completely in policy.

Change-Id: Ie75b6b135610a8bb206a6f941721d5e97f6db502
Closes-Bug: #1733480
",git fetch https://review.opendev.org/openstack/cinder refs/changes/12/521712/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/policies/quotas.py', 'cinder/api/contrib/quotas.py', 'cinder/tests/unit/api/contrib/test_quotas.py', 'cinder/db/sqlalchemy/api.py']",4,a7eca035980d5ed7b4dd1560bda23808fd89e55e,bug/1733480,@require_context,@require_admin_context,12,23
openstack%2Fcinder~master~Icfde885384d174dbf9b211faca3f31be0b41f232,openstack/cinder,master,Icfde885384d174dbf9b211faca3f31be0b41f232,Fix policy documentation for os-show_image_metadata endpoint,MERGED,2017-11-21 16:05:10.000000000,2018-02-25 14:53:55.000000000,2017-12-07 08:56:26.000000000,"[{'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23186}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25571}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-11-21 16:05:10.000000000', 'files': ['cinder/policies/volume_metadata.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/52576bbbc89af0842b2c7bda2bc4b0d6214bccbb', 'message': 'Fix policy documentation for os-show_image_metadata endpoint\n\nThe policy documentation for os-show_image_metadata endpoint\nis inconsistent with the implementation.\n\nIn policy documentation, the endpoint is listed as enforcing\n""volume_extension:volume_image_metadata"": [0]\n\nBut in the code it is clear that no policy enforcement is performed: [1]\n\nThis PS removes the os-show_image_metadata entry from the policy\ndocumentation for consistency.\n\n[0] https://github.com/openstack/cinder/blob/9fbf236dc17d67404e2ce9ced517182716d72e6f/cinder/policies/volume_metadata.py#L102\n[1] https://github.com/openstack/cinder/blob/0cf910d4345c000e8c306b1cb2b2dd291975cf71/cinder/api/contrib/volume_image_metadata.py#L123\n\nChange-Id: Icfde885384d174dbf9b211faca3f31be0b41f232\nCloses-Bug: #1733632\n'}]",0,521915,52576bbbc89af0842b2c7bda2bc4b0d6214bccbb,66,42,1,23186,,,0,"Fix policy documentation for os-show_image_metadata endpoint

The policy documentation for os-show_image_metadata endpoint
is inconsistent with the implementation.

In policy documentation, the endpoint is listed as enforcing
""volume_extension:volume_image_metadata"": [0]

But in the code it is clear that no policy enforcement is performed: [1]

This PS removes the os-show_image_metadata entry from the policy
documentation for consistency.

[0] https://github.com/openstack/cinder/blob/9fbf236dc17d67404e2ce9ced517182716d72e6f/cinder/policies/volume_metadata.py#L102
[1] https://github.com/openstack/cinder/blob/0cf910d4345c000e8c306b1cb2b2dd291975cf71/cinder/api/contrib/volume_image_metadata.py#L123

Change-Id: Icfde885384d174dbf9b211faca3f31be0b41f232
Closes-Bug: #1733632
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/521915/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/policies/volume_metadata.py'],1,52576bbbc89af0842b2c7bda2bc4b0d6214bccbb,bug/1733632,," 'path': '/volumes/{volume_id}/action (os-show_image_metadata)' }, { 'method': 'POST',",0,4
openstack%2Fcinder~master~I9272f71e0e68268ad9f558ddd1e1183e3ea69806,openstack/cinder,master,I9272f71e0e68268ad9f558ddd1e1183e3ea69806,Suppress UT log messages,MERGED,2017-11-20 14:59:05.000000000,2018-02-25 14:53:37.000000000,2017-11-20 19:36:58.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-20 14:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b2dd9fe5c284476444b191e0c8b92ab3e8720e5b', 'message': 'Suppress UT log messages\n\nLarge logger output during unit test run is causing subunit.parser\nfailures. Most of this output is unnecessary for unit tests, so we\nshould just suppress this logging.\n\nChange-Id: I9272f71e0e68268ad9f558ddd1e1183e3ea69806\nPartial-bug: #1728640\n'}, {'number': 2, 'created': '2017-11-20 15:16:26.000000000', 'files': ['cinder/test.py', 'cinder/api/extensions.py', 'cinder/context.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d0fab07245fec2629ffe11e81509037f96c98ff1', 'message': 'Suppress UT log messages\n\nLarge logger output during unit test run is causing subunit.parser\nfailures. Most of this output is unnecessary for unit tests, so we\nshould just suppress this logging.\n\nAlso switching oslo.context args from user and tenant to user_id\nand project_id to get rid of deprecation warnings and move to new\nexpected attributes. The minimum version of oslo.context has been\nraised to ensure we have a version with the renamed kwargs, so we\nare safe changing this. Originally planned to change as its own\nchange in Iecee4cbd57ac319a02f9bfdf24e3742dbbcb3950, but it causes\nenough log output in the unit tests that failures are preventing\neither patch from going through without the other included.\n\nChange-Id: I9272f71e0e68268ad9f558ddd1e1183e3ea69806\nPartial-bug: #1728640\n'}]",1,521555,d0fab07245fec2629ffe11e81509037f96c98ff1,38,31,2,11904,,,0,"Suppress UT log messages

Large logger output during unit test run is causing subunit.parser
failures. Most of this output is unnecessary for unit tests, so we
should just suppress this logging.

Also switching oslo.context args from user and tenant to user_id
and project_id to get rid of deprecation warnings and move to new
expected attributes. The minimum version of oslo.context has been
raised to ensure we have a version with the renamed kwargs, so we
are safe changing this. Originally planned to change as its own
change in Iecee4cbd57ac319a02f9bfdf24e3742dbbcb3950, but it causes
enough log output in the unit tests that failures are preventing
either patch from going through without the other included.

Change-Id: I9272f71e0e68268ad9f558ddd1e1183e3ea69806
Partial-bug: #1728640
",git fetch https://review.opendev.org/openstack/cinder refs/changes/55/521555/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/test.py', 'cinder/api/extensions.py']",2,b2dd9fe5c284476444b191e0c8b92ab3e8720e5b,bug/1728640," LOG.debug('Initializing extension manager.') LOG.debug('Loaded extension: %s', alias)"," LOG.info('Initializing extension manager.') LOG.info('Loaded extension: %s', alias)",11,2
openstack%2Fcinder~master~If5fcdefaa10bfb00e60aa4559d3282d3c6a53752,openstack/cinder,master,If5fcdefaa10bfb00e60aa4559d3282d3c6a53752,Update api-ref to include volume_image_metadata,MERGED,2017-11-16 19:04:38.000000000,2018-02-25 14:53:29.000000000,2017-11-21 02:04:04.000000000,"[{'_account_id': 2243}, {'_account_id': 6873}, {'_account_id': 7198}, {'_account_id': 8768}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-16 19:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/71d7e83e51c590a787313de98ecb84465690feab', 'message': 'Update api-ref to include volume_image_metadata\n\nThe detailed information for a volume can include ""volume_image_metadata""\nin the case where the volume was created from an image, or in the case\nwhere the volume was created from a snapshot of such a volume.\n\nUpdate the API ref to include the field so we accurately represent\nthe code.\n\nChange-Id: If5fcdefaa10bfb00e60aa4559d3282d3c6a53752\nCloses-Bug: #1732763\n'}, {'number': 2, 'created': '2017-11-16 19:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/965f4b19e63d252f02d10ba5e641128e8cbf1566', 'message': 'Update api-ref to include volume_image_metadata\n\nThe detailed information for a volume can include ""volume_image_metadata""\nin the case where the volume was created from an image, or in the case\nwhere the volume was created from a snapshot of such a volume.\n\nUpdate the API ref to include the field so we accurately represent\nthe code.\n\nChange-Id: If5fcdefaa10bfb00e60aa4559d3282d3c6a53752\nCloses-Bug: #1732763\n'}, {'number': 3, 'created': '2017-11-16 20:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c21d39cbafb22f9feab427e40352037219492a1b', 'message': 'Update api-ref to include volume_image_metadata\n\nThe detailed information for a volume can include ""volume_image_metadata""\nin the case where the volume was created from an image, or in the case\nwhere the volume was created from a snapshot of such a volume.\n\nUpdate the API ref to include the field so we accurately represent\nthe code.\n\nChange-Id: If5fcdefaa10bfb00e60aa4559d3282d3c6a53752\nCloses-Bug: #1732763\n'}, {'number': 4, 'created': '2017-11-16 22:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c262b6c92242d387994e1bcfeb32b3e7495fbefc', 'message': 'Update api-ref to include volume_image_metadata\n\nThe detailed information for a volume can include ""volume_image_metadata""\nin the case where the volume was created from an image, or in the case\nwhere the volume was created from a snapshot of such a volume.\n\nUpdate the API ref to include the field so we accurately represent\nthe code.\n\nChange-Id: If5fcdefaa10bfb00e60aa4559d3282d3c6a53752\nCloses-Bug: #1732763\n'}, {'number': 5, 'created': '2017-11-17 21:24:44.000000000', 'files': ['api-ref/source/v2/volumes-v2-volumes.inc', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v3/volumes-v3-volumes.inc', 'api-ref/source/v3/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8cb4aedda6b44c6cacb37cf525e02e5f299af41d', 'message': 'Update api-ref to include volume_image_metadata\n\nThe detailed information for a volume can include ""volume_image_metadata""\nin the case where the volume was created from an image, or in the case\nwhere the volume was created from a snapshot of such a volume.\n\nUpdate the API ref to include the field so we accurately represent\nthe code.\n\nChange-Id: If5fcdefaa10bfb00e60aa4559d3282d3c6a53752\nCloses-Bug: #1732763\n'}]",2,520686,8cb4aedda6b44c6cacb37cf525e02e5f299af41d,85,31,5,8768,,,0,"Update api-ref to include volume_image_metadata

The detailed information for a volume can include ""volume_image_metadata""
in the case where the volume was created from an image, or in the case
where the volume was created from a snapshot of such a volume.

Update the API ref to include the field so we accurately represent
the code.

Change-Id: If5fcdefaa10bfb00e60aa4559d3282d3c6a53752
Closes-Bug: #1732763
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/520686/5 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/volumes-v3-volumes.inc', 'api-ref/source/v3/parameters.yaml']",2,71d7e83e51c590a787313de98ecb84465690feab,bug/1732763,"volume_image_metadata description: | List of image metadata entries. Only included for volumes that were created from an image, or from a snapshot of a volume originally created from an image. in: body required: false type: array",,10,0
openstack%2Fcinder~stable%2Fpike~Ief6ff0771488417fc80a3ffe7505a0d478ec5eb6,openstack/cinder,stable/pike,Ief6ff0771488417fc80a3ffe7505a0d478ec5eb6,Add .zuul.yaml with LIO job,MERGED,2017-11-16 15:27:34.000000000,2018-02-25 14:53:28.000000000,2017-11-20 19:37:03.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-16 15:27:34.000000000', 'files': ['.gitignore', 'playbooks/legacy/cinder-tempest-dsvm-lvm-lio/run.yaml', '.zuul.yaml', 'playbooks/legacy/cinder-tempest-dsvm-lvm-lio/post.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e633feee8a17d7d7278064280197eccdf5fd00a7', 'message': 'Add .zuul.yaml with LIO job\n\nThis replaces the legacy-tempest-dsvm-full-lio job.\n\nSkip tests that are currently failing.\n\nChange-Id: Ief6ff0771488417fc80a3ffe7505a0d478ec5eb6\n(cherry picked from commit 5601d336ca556c82891466c89cadef0676df576c)\n'}]",0,520618,e633feee8a17d7d7278064280197eccdf5fd00a7,22,15,1,4523,,,0,"Add .zuul.yaml with LIO job

This replaces the legacy-tempest-dsvm-full-lio job.

Skip tests that are currently failing.

Change-Id: Ief6ff0771488417fc80a3ffe7505a0d478ec5eb6
(cherry picked from commit 5601d336ca556c82891466c89cadef0676df576c)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/520618/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'playbooks/legacy/cinder-tempest-dsvm-lvm-lio/run.yaml', '.zuul.yaml', 'playbooks/legacy/cinder-tempest-dsvm-lvm-lio/post.yaml']",4,e633feee8a17d7d7278064280197eccdf5fd00a7,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,,122,0
openstack%2Fcinder~master~I6f80c766fed3a98d050290be179b91b218bedcef,openstack/cinder,master,I6f80c766fed3a98d050290be179b91b218bedcef,Add doc/source/_static/cinder.policy.yaml.sample to .gitignore,MERGED,2017-11-15 07:49:16.000000000,2018-02-25 14:53:27.000000000,2017-11-15 18:48:44.000000000,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-15 07:49:16.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f1cd25861b8d5ea392c1bb698134d296ac76e5a8', 'message': 'Add doc/source/_static/cinder.policy.yaml.sample to .gitignore\n\nThis commit adds doc/source/_static/cinder.policy.yaml.sample to\n.gitignore which is created by sphinx build.\n\nChange-Id: I6f80c766fed3a98d050290be179b91b218bedcef\n'}]",0,520001,f1cd25861b8d5ea392c1bb698134d296ac76e5a8,35,31,1,5689,,,0,"Add doc/source/_static/cinder.policy.yaml.sample to .gitignore

This commit adds doc/source/_static/cinder.policy.yaml.sample to
.gitignore which is created by sphinx build.

Change-Id: I6f80c766fed3a98d050290be179b91b218bedcef
",git fetch https://review.opendev.org/openstack/cinder refs/changes/01/520001/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,f1cd25861b8d5ea392c1bb698134d296ac76e5a8,add-gitignore-sample,doc/source/_static/cinder.policy.yaml.sample,,1,0
openstack%2Fcinder~master~I96cd285a82b44af8818514692818e739443dcc45,openstack/cinder,master,I96cd285a82b44af8818514692818e739443dcc45,Fix resource count for os-host show,MERGED,2017-06-23 02:42:40.000000000,2018-02-25 14:53:25.000000000,2017-11-16 02:26:39.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15054}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16643}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23081}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-06-23 02:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ec7e86eb4bfbb1eebfdeafff8d3e31cadb265b1f', 'message': ""[WIP] Fix resource count for os-host show\n\nos-host show API should only return the resouce count on the\nspecified host.\nThe logic in Cinder which counts the project's resouce in all host\nis wrong.\n\nChange-Id: I96cd285a82b44af8818514692818e739443dcc45\nCloses-bug: #1699936\n""}, {'number': 2, 'created': '2017-06-29 02:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5916cbe471ad961a969ccc97fbb71a6ee580a6d8', 'message': ""[WIP] Fix resource count for os-host show\n\nos-host show API should only return the resouce count on the\nspecified host.\nThe logic in Cinder which counts the project's resouce on all host\nis wrong.\n\nChange-Id: I96cd285a82b44af8818514692818e739443dcc45\nCloses-bug: #1699936\n""}, {'number': 3, 'created': '2017-07-03 10:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2029ea73fb7e165824e965e94b220b2a75413f63', 'message': ""Fix resource count for os-host show\n\nos-host show API should only return the resouce count on the\nspecified host.\nThe logic in Cinder which counts the project's resouce on all host\nis wrong.\n\nChange-Id: I96cd285a82b44af8818514692818e739443dcc45\nCloses-bug: #1699936\n""}, {'number': 4, 'created': '2017-07-03 12:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7541d37b331db12b3fe206fb28a4eed807995429', 'message': ""Fix resource count for os-host show\n\nos-host show API should only return the resouce count on the\nspecified host.\nThe logic in Cinder which counts the project's resouce on all host\nis wrong.\n\nChange-Id: I96cd285a82b44af8818514692818e739443dcc45\nCloses-bug: #1699936\n""}, {'number': 5, 'created': '2017-08-10 08:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b9571a90c28f6fb759eddfcf30f8882ac4c62592', 'message': ""Fix resource count for os-host show\n\nos-host show API should only return the resouce count on the\nspecified host.\nThe logic in Cinder which counts the project's resouce on all host\nis wrong.\n\nChange-Id: I96cd285a82b44af8818514692818e739443dcc45\nCloses-bug: #1699936\n""}, {'number': 6, 'created': '2017-11-06 03:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/72544441bc6aed5147b68130dead2ccdb6fffa53', 'message': ""Fix resource count for os-host show\n\nos-host show API should only return the resouce count on the\nspecified host.\nThe logic in Cinder which counts the project's resouce on all host\nis wrong.\n\nChange-Id: I96cd285a82b44af8818514692818e739443dcc45\nCloses-bug: #1699936\n""}, {'number': 7, 'created': '2017-11-06 08:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d40596d75f3f451abaf7b3526a57481edc1ea671', 'message': ""Fix resource count for os-host show\n\nos-host show API should only return the resouce count on the\nspecified host.\nThe logic in Cinder which counts the project's resouce on all host\nis wrong.\n\nChange-Id: I96cd285a82b44af8818514692818e739443dcc45\nCloses-bug: #1699936\n""}, {'number': 8, 'created': '2017-11-07 11:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e1dd689ded745f25c1020cc21d5cb62ceb9d5552', 'message': ""Fix resource count for os-host show\n\nos-host show API should only return the resouce count on the\nspecified host.\nThe logic in Cinder which counts the project's resouce on all host\nis wrong.\n\nChange-Id: I96cd285a82b44af8818514692818e739443dcc45\nCloses-bug: #1699936\n""}, {'number': 9, 'created': '2017-11-09 01:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc80cbd0f633286c15d85956168bea7ff661479d', 'message': ""Fix resource count for os-host show\n\nos-host show API should only return the resouce count on the\nspecified host.\nThe logic in Cinder which counts the project's resouce on all host\nis wrong.\n\nChange-Id: I96cd285a82b44af8818514692818e739443dcc45\nCloses-bug: #1699936\n""}, {'number': 10, 'created': '2017-11-10 02:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b5474ef7eee0e564630c4c716de3a8f6e6357c2', 'message': ""Fix resource count for os-host show\n\nos-host show API should only return the resouce count on the\nspecified host.\nThe logic in Cinder which counts the project's resouce on all host\nis wrong.\n\nChange-Id: I96cd285a82b44af8818514692818e739443dcc45\nCloses-bug: #1699936\n""}, {'number': 11, 'created': '2017-11-14 14:23:51.000000000', 'files': ['cinder/tests/unit/test_db_api.py', 'releasenotes/notes/bug-1699936-fix-host-show-incorrect-fg8698gu7y6r7d15.yaml', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/api/contrib/test_hosts.py', 'cinder/api/contrib/hosts.py', 'cinder/objects/snapshot.py', 'cinder/tests/unit/objects/test_snapshot.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f50b3555773a1559e29c75ac48857b50cea8dfe5', 'message': ""Fix resource count for os-host show\n\nos-host show API should only return the resouce count on the\nspecified host.\nThe logic in Cinder which counts the project's resouce on all host\nis wrong.\n\nChange-Id: I96cd285a82b44af8818514692818e739443dcc45\nCloses-bug: #1699936\n""}]",27,476750,f50b3555773a1559e29c75ac48857b50cea8dfe5,344,56,11,15054,,,0,"Fix resource count for os-host show

os-host show API should only return the resouce count on the
specified host.
The logic in Cinder which counts the project's resouce on all host
is wrong.

Change-Id: I96cd285a82b44af8818514692818e739443dcc45
Closes-bug: #1699936
",git fetch https://review.opendev.org/openstack/cinder refs/changes/50/476750/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/api/contrib/hosts.py', 'cinder/objects/snapshot.py']",4,ec7e86eb4bfbb1eebfdeafff8d3e31cadb265b1f,bug/1699936," @classmethod def snapshot_data_get_for_project_and_host(cls, context, project_id, host): return db.snapshot_data_get_for_project_and_host(context, project_id, host) ",,50,5
openstack%2Fcinder~master~Ifbb5248e3ad5bad4b8fb6957156540cdf97babde,openstack/cinder,master,Ifbb5248e3ad5bad4b8fb6957156540cdf97babde,Add missing 'obj_make_compatible' in RequestSpec object,MERGED,2017-11-13 06:40:43.000000000,2018-02-25 14:53:24.000000000,2017-11-16 19:33:42.000000000,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11600}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-13 06:40:43.000000000', 'files': ['cinder/objects/request_spec.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/945a2754a92063688236d64a64c80253a5096ab2', 'message': ""Add missing 'obj_make_compatible' in RequestSpec object\n\nRequestSpec is converted to OVO, thus need to add the\n'obj_make_compatible' to support backward compatibility.\n\nChange-Id: Ifbb5248e3ad5bad4b8fb6957156540cdf97babde\n""}]",0,519237,945a2754a92063688236d64a64c80253a5096ab2,31,27,1,23083,,,0,"Add missing 'obj_make_compatible' in RequestSpec object

RequestSpec is converted to OVO, thus need to add the
'obj_make_compatible' to support backward compatibility.

Change-Id: Ifbb5248e3ad5bad4b8fb6957156540cdf97babde
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/519237/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/objects/request_spec.py'],1,945a2754a92063688236d64a64c80253a5096ab2,bug/fix_request_spec_bug,"from oslo_utils import versionutils def obj_make_compatible(self, primitive, target_version): """"""Make an object representation compatible with target version."""""" super(RequestSpec, self).obj_make_compatible(primitive, target_version) target_version = versionutils.convert_version_to_tuple(target_version) added_fields = (((1, 1), ('group_id', 'group_backend')), ((1, 2), ('resource_backend'))) for version, remove_fields in added_fields: if target_version < version: for obj_field in remove_fields: primitive.pop(obj_field, None) ",,12,0
openstack%2Fcinder~master~Idd34cf25b6d146cb1228a31ec738c09bb73588fb,openstack/cinder,master,Idd34cf25b6d146cb1228a31ec738c09bb73588fb,Unity: Remove redundant debug logging,MERGED,2017-11-08 06:20:22.000000000,2018-02-25 14:53:23.000000000,2017-11-21 02:04:00.000000000,"[{'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22752}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-08 06:20:22.000000000', 'files': ['cinder/volume/drivers/dell_emc/unity/adapter.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b93f1ddf4e5ae6264581e420c53e880a93ec7454', 'message': 'Unity: Remove redundant debug logging\n\nRemove cases where tracing decorated methods called tracing decorated\nmethods that performed debug logging to reduce duplication of the\nsame data in the logs.\n\nChange-Id: Idd34cf25b6d146cb1228a31ec738c09bb73588fb\n'}]",1,518456,b93f1ddf4e5ae6264581e420c53e880a93ec7454,74,38,1,11904,,,0,"Unity: Remove redundant debug logging

Remove cases where tracing decorated methods called tracing decorated
methods that performed debug logging to reduce duplication of the
same data in the logs.

Change-Id: Idd34cf25b6d146cb1228a31ec738c09bb73588fb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/56/518456/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/dell_emc/unity/adapter.py'],1,b93f1ddf4e5ae6264581e420c53e880a93ec7454,unity_trace,," @cinder_utils.trace LOG.debug('Initialized connection info: %s', conn_info) @cinder_utils.trace @cinder_utils.trace",0,4
openstack%2Fcinder~driverfixes%2Focata~I02f79a1ccc1af29e1f843e94c0618c8e4962bdae,openstack/cinder,driverfixes/ocata,I02f79a1ccc1af29e1f843e94c0618c8e4962bdae,Fix backup compression unit tests,MERGED,2017-11-07 11:53:33.000000000,2018-02-25 14:53:21.000000000,2017-11-13 07:09:48.000000000,"[{'_account_id': 11904}, {'_account_id': 12822}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 24921}]","[{'number': 1, 'created': '2017-11-07 11:53:33.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f20809828e5d56b4b22861d49dde485abf2c1dc', 'message': 'Fix backup compression unit tests\n\nCinder backup tests for compression were incorrectly testing the size of\nthe compression data, instead of testing against the compressed data\nthey were checking the tuple (algorithm, compressed_data).\n\nThis patches fixes those tests.\n\nChange-Id: I02f79a1ccc1af29e1f843e94c0618c8e4962bdae\n(cherry picked from commit fd671c77cd93e8a5a5bafbee7f24564fb780a044)\n(cherry picked from commit 9d0658febea9a81e54afd62f37a6a9dfe3135797)\n'}]",0,518305,0f20809828e5d56b4b22861d49dde485abf2c1dc,15,9,1,9535,,,0,"Fix backup compression unit tests

Cinder backup tests for compression were incorrectly testing the size of
the compression data, instead of testing against the compressed data
they were checking the tuple (algorithm, compressed_data).

This patches fixes those tests.

Change-Id: I02f79a1ccc1af29e1f843e94c0618c8e4962bdae
(cherry picked from commit fd671c77cd93e8a5a5bafbee7f24564fb780a044)
(cherry picked from commit 9d0658febea9a81e54afd62f37a6a9dfe3135797)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/05/518305/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py']",3,0f20809828e5d56b4b22861d49dde485abf2c1dc,bug/1692775," self.assertGreater(len(fake_data), len(result[1]))"," self.assertGreater(len(fake_data), len(result))",3,3
openstack%2Fcinder~master~I2e7acb3f407dab2a8c82191e13d491cdc71d279c,openstack/cinder,master,I2e7acb3f407dab2a8c82191e13d491cdc71d279c,Improve cinder revert-to-snapshot notifications,MERGED,2017-11-03 08:35:14.000000000,2018-02-25 14:53:20.000000000,2017-11-11 00:38:05.000000000,"[{'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13157}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17045}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23305}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25169}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26233}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-03 08:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/488f9f8eb6c684b924638ed33a521857fa3a87f4', 'message': ""Improve cinder revert-to-snapshot notifications\n\nNow if reverting to snapshot finished, it will gave both\n'revert.start' and 'revert.end' usage notifications, only\n'revert.start' will be gave if an exception is raised.\n\nCloses-Bug:#1729793\n\nChange-Id: I2e7acb3f407dab2a8c82191e13d491cdc71d279c\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n""}, {'number': 2, 'created': '2017-11-06 01:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e4c71642149b7f5bc79c8e7d3776f4f4a1782460', 'message': ""Improve cinder revert-to-snapshot notifications\n\nNow if reverting to snapshot finished, it will give both\n'revert.start' and 'revert.end' usage notifications.\n\nCloses-Bug:#1729793\n\nChange-Id: I2e7acb3f407dab2a8c82191e13d491cdc71d279c\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n""}, {'number': 3, 'created': '2017-11-06 03:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d0ca752e35c3a3cbaed44e4ff45d71c7649c8485', 'message': ""Improve cinder revert-to-snapshot notifications\n\nThe reverting were sending 'revert.end' notification without\ncorresponding 'revert.start' notification if _create_backup_snapshot\nfailed, and when reverting finished, only a 'revert.start' notification\nwas given. Now if reverting to snapshot finished, it will give both\n'revert.start' and 'revert.end' notifications.\n\nCloses-Bug:#1729793\n\nChange-Id: I2e7acb3f407dab2a8c82191e13d491cdc71d279c\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n""}, {'number': 4, 'created': '2017-11-06 04:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e68b96baeebe230ebf9ee1e038697a4dd1131dd6', 'message': ""Improve cinder revert-to-snapshot notifications\n\nThe reverting were sending 'revert.end' message without a\ncorresponding 'revert.start' notification if creating backup\nsnapshot failed, and only a 'revert.start' notification was\ngiven if reverting to snapshot finished.\n\nNow if reverting to snapshot finished, it will give both the\n'revert.start' and 'revert.end' notifications.\n\nCloses-Bug:#1729793\n\nChange-Id: I2e7acb3f407dab2a8c82191e13d491cdc71d279c\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n""}, {'number': 5, 'created': '2017-11-06 06:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/35437df30cb05aebfefff9da8b4f96715a3b5eb0', 'message': ""Improve cinder revert-to-snapshot notifications\n\nThe reverting were sending 'revert.end' message without a\ncorresponding 'revert.start' notification if creating backup\nsnapshot failed by an exception. Now it will give both the\n'revert.start' and 'revert.end' notifications if reverting\nfails with an exception from _create_backup_snapshot.\n\nCloses-Bug:#1729793\n\nChange-Id: I2e7acb3f407dab2a8c82191e13d491cdc71d279c\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n""}, {'number': 6, 'created': '2017-11-06 07:46:29.000000000', 'files': ['cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e11f07204255496c3b99adc2c88d24db7e303188', 'message': ""Improve cinder revert-to-snapshot notifications\n\nThe reverting were sending 'revert.end' message without a\ncorresponding 'revert.start' notification if creating backup\nsnapshot failed by an exception, so this patch fixes that.\n\nCloses-Bug:#1729793\n\nChange-Id: I2e7acb3f407dab2a8c82191e13d491cdc71d279c\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n""}]",15,517575,e11f07204255496c3b99adc2c88d24db7e303188,80,37,6,25169,,,0,"Improve cinder revert-to-snapshot notifications

The reverting were sending 'revert.end' message without a
corresponding 'revert.start' notification if creating backup
snapshot failed by an exception, so this patch fixes that.

Closes-Bug:#1729793

Change-Id: I2e7acb3f407dab2a8c82191e13d491cdc71d279c
Signed-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/517575/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,488f9f8eb6c684b924638ed33a521857fa3a87f4,bug/1729793," self._notify_about_volume_usage(context, volume, ""revert.start"") self._notify_about_snapshot_usage(context, snapshot, ""revert.start"") self._notify_about_volume_usage(context, volume, ""revert.end"") self._notify_about_snapshot_usage(context, snapshot, ""revert.end"")"," self._notify_about_volume_usage(context, volume, ""revert.start"") self._notify_about_snapshot_usage(context, snapshot, ""revert.start"") self._notify_about_volume_usage(context, volume, ""revert.end"") self._notify_about_snapshot_usage(context, snapshot, ""revert.end"") self._notify_about_volume_usage(context, volume, ""revert.end"") self._notify_about_snapshot_usage(context, snapshot, ""revert.end"")",6,8
openstack%2Fcinder~master~I3f95fd3b83d6b5c5801d3a16a3e73623ed49da29,openstack/cinder,master,I3f95fd3b83d6b5c5801d3a16a3e73623ed49da29,Make test logging setup fixture disable future setup,MERGED,2017-10-31 20:06:33.000000000,2018-02-25 14:52:55.000000000,2017-11-04 07:34:05.000000000,"[{'_account_id': 4523}, {'_account_id': 5196}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25456}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-31 20:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4ed0a7222db47949e489fe1fd4c1116edf8c978c', 'message': ""Make test logging setup fixture disable future setup\n\nOur logging fixture sets up logging in a way that we need to capture\nthings during tests. However, some of our tests do things like call\nback into main functions, which then call logging setup again, and\nunwind everything we're doing (including debug message testing).\n\nThis patches out oslo_log setup after the fixture runs, thus ignoring\ncalls to it in the future.\n\nThis change originally implemented in Nova with commit\ndc2f4f88ac8d7bcf904908b4683522cd6839ba70.\n\nChange-Id: I3f95fd3b83d6b5c5801d3a16a3e73623ed49da29\n""}, {'number': 2, 'created': '2017-10-31 20:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4e2bf6735a197fe13e400bfde399333412bbcd0f', 'message': ""Make test logging setup fixture disable future setup\n\nOur logging fixture sets up logging in a way that we need to capture\nthings during tests. However, some of our tests do things like call\nback into main functions, which then call logging setup again, and\nunwind everything we're doing (including debug message testing).\n\nThis patches out oslo_log setup after the fixture runs, thus ignoring\ncalls to it in the future.\n\nThis change originally implemented in Nova with commit\ndc2f4f88ac8d7bcf904908b4683522cd6839ba70.\n\nChange-Id: I3f95fd3b83d6b5c5801d3a16a3e73623ed49da29\n""}, {'number': 3, 'created': '2017-10-31 20:51:11.000000000', 'files': ['cinder/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/57321ad60c82d2113ff8fb6f60dfb85af85cea00', 'message': ""Make test logging setup fixture disable future setup\n\nOur logging fixture sets up logging in a way that we need to capture\nthings during tests. However, some of our tests do things like call\nback into main functions, which then call logging setup again, and\nunwind everything we're doing (including debug message testing).\n\nThis patches out oslo_log setup after the fixture runs, thus ignoring\ncalls to it in the future.\n\nThis change originally implemented in Nova with commit\ndc2f4f88ac8d7bcf904908b4683522cd6839ba70.\n\nCloses-bug: #1728640\nChange-Id: I3f95fd3b83d6b5c5801d3a16a3e73623ed49da29\n""}]",1,516777,57321ad60c82d2113ff8fb6f60dfb85af85cea00,102,36,3,11904,,,0,"Make test logging setup fixture disable future setup

Our logging fixture sets up logging in a way that we need to capture
things during tests. However, some of our tests do things like call
back into main functions, which then call logging setup again, and
unwind everything we're doing (including debug message testing).

This patches out oslo_log setup after the fixture runs, thus ignoring
calls to it in the future.

This change originally implemented in Nova with commit
dc2f4f88ac8d7bcf904908b4683522cd6839ba70.

Closes-bug: #1728640
Change-Id: I3f95fd3b83d6b5c5801d3a16a3e73623ed49da29
",git fetch https://review.opendev.org/openstack/cinder refs/changes/77/516777/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/fixtures.py'],1,4ed0a7222db47949e489fe1fd4c1116edf8c978c,test_log_setup," # At times we end up claling back into main() functions in # testing. This has the possibility of calling logging.setup # again, which completely unwinds the logging capture we've # created here. Once we've setup the logging in the way we want, # disable the ability for the test to change this. def fake_logging_setup(*args): pass self.useFixture( fixtures.MonkeyPatch('oslo_log.log.setup', fake_logging_setup))",,11,0
openstack%2Fcinder~master~I5024642f8e3e6cd7d221dc3af367bba55fe56cf5,openstack/cinder,master,I5024642f8e3e6cd7d221dc3af367bba55fe56cf5,HPE 3PAR: ISCSI/FC drivers  code refactoring,MERGED,2017-03-16 11:32:23.000000000,2018-02-25 14:52:46.000000000,2017-11-03 15:49:58.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15439}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21407}, {'_account_id': 21517}, {'_account_id': 21531}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 21990}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22257}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 22664}, {'_account_id': 23083}, {'_account_id': 23308}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24952}, {'_account_id': 25243}, {'_account_id': 25463}, {'_account_id': 25465}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26379}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-03-16 11:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a5872f8fd7da9f2652e14cf52e88053e63fbcbef', 'message': 'HPE 3PAR: ISCSI/FC driver  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Created a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 2, 'created': '2017-03-17 10:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/576c2c35e772d835d6941b14d1e5179adabb0a59', 'message': 'HPE 3PAR: ISCSI/FC driver  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Created a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 3, 'created': '2017-03-20 10:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6fa571e892e094d8db125c8bda18567a090edb43', 'message': 'HPE 3PAR: ISCSI/FC driver  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Created a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nConflicts:\n\tcinder/volume/drivers/hpe/hpe_3par_fc.py\n\tcinder/volume/drivers/hpe/hpe_3par_iscsi.py\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 4, 'created': '2017-03-20 10:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/75f0852ea7476a8d1d5a35f478bac75904f62933', 'message': 'HPE 3PAR: ISCSI/FC driver  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Created a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 5, 'created': '2017-03-20 10:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9e8e219bcafced55605c9c280618eba4a542d243', 'message': 'HPE 3PAR: ISCSI/FC driver  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Created a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 6, 'created': '2017-03-21 11:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/35def688b6b23a21709a77832738bc73981aff41', 'message': 'HPE 3PAR: ISCSI/FC driver  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Created a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 7, 'created': '2017-03-24 02:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/09eb254e614b4320c5ff04053e659f76f8e3e915', 'message': 'HPE 3PAR: ISCSI/FC driver  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Created a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 8, 'created': '2017-03-29 10:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/61e51f4b076948155964943ac15b57d7bea18811', 'message': 'HPE 3PAR: ISCSI/FC driver  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Created a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 9, 'created': '2017-03-29 10:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b30e3b93f0a55abf0b2da3f797550256a73fb1b1', 'message': 'HPE 3PAR: ISCSI/FC drivers  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Created a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 10, 'created': '2017-04-25 08:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d54cf4e599dc4422389bb5b858d5493f18cd719e', 'message': 'HPE 3PAR: ISCSI/FC drivers  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Created a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 11, 'created': '2017-06-09 09:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/34b5317f17b8808862f33138b5ba413d9bc0e6b7', 'message': 'HPE 3PAR: ISCSI/FC drivers  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Created a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 12, 'created': '2017-06-13 06:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/027d528d7938596ff9b00912bae5b306f2a97a19', 'message': 'HPE 3PAR: ISCSI/FC drivers  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Created a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 13, 'created': '2017-06-14 08:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/68d7466ea1f5896592fff319abed7255c9eefeaf', 'message': 'HPE 3PAR: ISCSI/FC drivers  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Created a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 14, 'created': '2017-06-22 09:28:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5be8d6602359c511ad1e7e2c13cfefddab3a9485', 'message': 'HPE 3PAR: ISCSI/FC drivers  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Created a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 15, 'created': '2017-06-27 12:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6a52dbf387bfe501a638f02e2e321e1cf9438b39', 'message': 'HPE 3PAR: ISCSI/FC drivers  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Created a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 16, 'created': '2017-07-05 05:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1e6dbf546679e1d02c0ea5354c3a1a7b09c0f181', 'message': 'HPE 3PAR: ISCSI/FC drivers  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Created a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 17, 'created': '2017-07-12 09:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c38dd82a9c6ac7e2e49c01be9a4763f0b83d4993', 'message': 'HPE 3PAR: ISCSI/FC drivers  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Created a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 18, 'created': '2017-07-18 13:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/607bb15b02996ac6c63df5a771fbb75125202164', 'message': 'HPE 3PAR: ISCSI/FC drivers  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Created a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 19, 'created': '2017-07-19 08:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6520f07df6a0c716c546a85f886eed5f8d1eaf39', 'message': 'HPE 3PAR: ISCSI/FC drivers  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Created a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 20, 'created': '2017-07-24 05:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/abcdf7045028169f1eb1a7888ec126fe5c0dbef3', 'message': 'HPE 3PAR: ISCSI/FC drivers  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Created a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 21, 'created': '2017-08-02 09:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6591d16b3887bc16ad8b0cc3ae9fcf556e9a7d4', 'message': 'HPE 3PAR: ISCSI/FC drivers  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Created a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 22, 'created': '2017-08-02 15:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ea0345f6d54adfee1c111c3f033f9821cfca4ade', 'message': 'HPE 3PAR: ISCSI/FC drivers  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Created a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 23, 'created': '2017-08-03 05:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cfa9e20331dd4a2bc1a2a2f0b456f14f01a1d645', 'message': 'HPE 3PAR: ISCSI/FC drivers  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Created a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 24, 'created': '2017-08-29 05:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d0fc01ccc1114a76ad0fa1c99e1a1897455965ea', 'message': 'HPE 3PAR: ISCSI/FC drivers  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Created a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 25, 'created': '2017-10-20 12:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6a55aae6161d202d9a056fc23a6ff759bd796cb0', 'message': 'HPE 3PAR: ISCSI/FC drivers  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Made common as a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 26, 'created': '2017-10-23 16:03:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4ef0bc086e690ea0b509e27bda6f6b865e7b9985', 'message': 'HPE 3PAR: ISCSI/FC drivers  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Made common as a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 27, 'created': '2017-10-23 18:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cddce3c72033b8bf47de2cdd4268b9a9d6e25046', 'message': 'HPE 3PAR: ISCSI/FC drivers  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Made common as a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 28, 'created': '2017-10-25 03:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a849de16b26e6e8a2755ccfb317847adad029b97', 'message': 'HPE 3PAR: ISCSI/FC drivers  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Made common as a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 29, 'created': '2017-10-30 13:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a4f6585aadcf566c7e2873bbc06e5e85041fd2c3', 'message': 'HPE 3PAR: ISCSI/FC drivers  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Made common as a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}, {'number': 30, 'created': '2017-10-31 05:33:53.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_base.py', 'cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8588aa5cf62ab1623fac0bb239280358ccc5ff49', 'message': 'HPE 3PAR: ISCSI/FC drivers  code refactoring\n\nIssue:\n=====\nRedundant code was present for ISCSI and FC drivers with\nthe potential to maintenance issues.\n\nSolution:\n=======\nRefactored code as below:\n1.Made common as a base class for existing ISCSI and FC drivers.\n2.Moved duplicate methods to the base class.\n3.Incorporated template method pattern wherever applicable.\n\nChange-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5\n'}]",23,446475,8588aa5cf62ab1623fac0bb239280358ccc5ff49,820,73,30,21407,,,0,"HPE 3PAR: ISCSI/FC drivers  code refactoring

Issue:
=====
Redundant code was present for ISCSI and FC drivers with
the potential to maintenance issues.

Solution:
=======
Refactored code as below:
1.Made common as a base class for existing ISCSI and FC drivers.
2.Moved duplicate methods to the base class.
3.Incorporated template method pattern wherever applicable.

Change-Id: I5024642f8e3e6cd7d221dc3af367bba55fe56cf5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/446475/17 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hpe/hpe_3par_base.py', 'cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'cinder/volume/drivers/hpe/hpe_3par_fc.py']",3,a5872f8fd7da9f2652e14cf52e88053e63fbcbef,capability,"from cinder.i18n import _, _LI, _LEfrom cinder.volume.drivers.hpe import hpe_3par_base as hpebasedriverclass HPE3PARFCDriver(hpebasedriver.HPE3PARDriverBase):","from cinder.i18n import _, _LI, _LW, _LEfrom cinder.volume import driver from cinder.volume.drivers.hpe import hpe_3par_common as hpecommon from cinder.volume.drivers.san import sanclass HPE3PARFCDriver(driver.ManageableVD, driver.ManageableSnapshotsVD, driver.MigrateVD, driver.BaseVD): self._active_backend_id = kwargs.get('active_backend_id', None) self.configuration.append_config_values(hpecommon.hpe3par_opts) self.configuration.append_config_values(san.san_opts) def _init_common(self): return hpecommon.HPE3PARCommon(self.configuration, self._active_backend_id) def _login(self, timeout=None): common = self._init_common() # If replication is enabled and we cannot login, we do not want to # raise an exception so a failover can still be executed. try: common.do_setup(None, timeout=timeout, stats=self._stats) common.client_login() except Exception: if common._replication_enabled: LOG.warning(_LW(""The primary array is not reachable at this "" ""time. Since replication is enabled, "" ""listing replication targets and failing over "" ""a volume can still be performed."")) pass else: raise return common def _logout(self, common): # If replication is enabled and we do not have a client ID, we did not # login, but can still failover. There is no need to logout. if common.client is None and common._replication_enabled: return common.client_logout() def _check_flags(self, common): """"""Sanity check to ensure we have required options set."""""" required_flags = ['hpe3par_api_url', 'hpe3par_username', 'hpe3par_password', 'san_ip', 'san_login', 'san_password'] common.check_flags(self.configuration, required_flags) def get_volume_stats(self, refresh=False): common = self._login() try: self._stats = common.get_volume_stats( refresh, self.get_filter_function(), self.get_goodness_function()) self._stats['storage_protocol'] = 'FC' self._stats['driver_version'] = self.VERSION backend_name = self.configuration.safe_get('volume_backend_name') self._stats['volume_backend_name'] = (backend_name or self.__class__.__name__) return self._stats finally: self._logout(common) def check_for_setup_error(self): """"""Setup errors are already checked for in do_setup so return pass."""""" pass @utils.trace def create_volume(self, volume): common = self._login() try: return common.create_volume(volume) finally: self._logout(common) @utils.trace def create_cloned_volume(self, volume, src_vref): common = self._login() try: return common.create_cloned_volume(volume, src_vref) finally: self._logout(common) @utils.trace def delete_volume(self, volume): common = self._login() try: common.delete_volume(volume) finally: self._logout(common) @utils.trace def create_volume_from_snapshot(self, volume, snapshot): """"""Create a volume from a snapshot. TODO: support using the size from the user. """""" common = self._login() try: return common.create_volume_from_snapshot(volume, snapshot) finally: self._logout(common) @utils.trace def create_snapshot(self, snapshot): common = self._login() try: common.create_snapshot(snapshot) finally: self._logout(common) @utils.trace def delete_snapshot(self, snapshot): common = self._login() try: common.delete_snapshot(snapshot) finally: self._logout(common) @utils.trace def extend_volume(self, volume, new_size): common = self._login() try: common.extend_volume(volume, new_size) finally: self._logout(common) @utils.trace def create_consistencygroup(self, context, group): common = self._login() try: return common.create_consistencygroup(context, group) finally: self._logout(common) @utils.trace def create_consistencygroup_from_src(self, context, group, volumes, cgsnapshot=None, snapshots=None, source_cg=None, source_vols=None): common = self._login() try: return common.create_consistencygroup_from_src( context, group, volumes, cgsnapshot, snapshots, source_cg, source_vols) finally: self._logout(common) @utils.trace def delete_consistencygroup(self, context, group, volumes): common = self._login() try: return common.delete_consistencygroup(context, group, volumes) finally: self._logout(common) @utils.trace def update_consistencygroup(self, context, group, add_volumes=None, remove_volumes=None): common = self._login() try: return common.update_consistencygroup(context, group, add_volumes, remove_volumes) finally: self._logout(common) @utils.trace def create_cgsnapshot(self, context, cgsnapshot, snapshots): common = self._login() try: return common.create_cgsnapshot(context, cgsnapshot, snapshots) finally: self._logout(common) @utils.trace def delete_cgsnapshot(self, context, cgsnapshot, snapshots): common = self._login() try: return common.delete_cgsnapshot(context, cgsnapshot, snapshots) finally: self._logout(common) @utils.trace def manage_existing(self, volume, existing_ref): common = self._login() try: return common.manage_existing(volume, existing_ref) finally: self._logout(common) @utils.trace def manage_existing_snapshot(self, snapshot, existing_ref): common = self._login() try: return common.manage_existing_snapshot(snapshot, existing_ref) finally: self._logout(common) @utils.trace def manage_existing_get_size(self, volume, existing_ref): common = self._login() try: return common.manage_existing_get_size(volume, existing_ref) finally: self._logout(common) @utils.trace def manage_existing_snapshot_get_size(self, snapshot, existing_ref): common = self._login() try: return common.manage_existing_snapshot_get_size(snapshot, existing_ref) finally: self._logout(common) @utils.trace def unmanage(self, volume): common = self._login() try: common.unmanage(volume) finally: self._logout(common) @utils.trace def unmanage_snapshot(self, snapshot): common = self._login() try: common.unmanage_snapshot(snapshot) finally: self._logout(common) @utils.trace def retype(self, context, volume, new_type, diff, host): """"""Convert the volume to be of the new type."""""" common = self._login() try: return common.retype(volume, new_type, diff, host) finally: self._logout(common) @utils.trace def migrate_volume(self, context, volume, host): if volume['status'] == 'in-use': protocol = host['capabilities']['storage_protocol'] if protocol != 'FC': LOG.debug(""3PAR FC driver cannot migrate in-use volume "" ""to a host with storage_protocol=%s."", protocol) return False, None common = self._login() try: return common.migrate_volume(volume, host) finally: self._logout(common) @utils.trace def update_migrated_volume(self, context, volume, new_volume, original_volume_status): """"""Update the name of the migrated volume to it's new ID."""""" common = self._login() try: return common.update_migrated_volume(context, volume, new_volume, original_volume_status) finally: self._logout(common) @utils.trace def get_pool(self, volume): common = self._login() try: return common.get_cpg(volume) except hpeexceptions.HTTPNotFound: reason = (_(""Volume %s doesn't exist on array."") % volume) LOG.error(reason) raise exception.InvalidVolume(reason) finally: self._logout(common) @utils.trace def failover_host(self, context, volumes, secondary_id=None): """"""Force failover to a secondary replication target."""""" common = self._login(timeout=30) try: # Update the active_backend_id in the driver and return it. active_backend_id, volume_updates = common.failover_host( context, volumes, secondary_id) self._active_backend_id = active_backend_id return active_backend_id, volume_updates finally: self._logout(common)",360,581
openstack%2Fcinder~master~I6bcdbd8343cca237c5f85077273a8ea18c6f534d,openstack/cinder,master,I6bcdbd8343cca237c5f85077273a8ea18c6f534d,Fix migate_volume API with replication_status not-capable,MERGED,2017-10-25 09:36:18.000000000,2018-02-25 14:52:28.000000000,2017-10-29 23:17:57.000000000,"[{'_account_id': 4523}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11186}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17045}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-25 09:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4ed1b30e060b54500787d0f4dbf441e45abe08d6', 'message': ""Fix migate_volume API with replication_status not-capable\n\nWhen migrating a volume with replication_status = 'not-capable',\nmigrate_volume api will reject it because 'not-capable' isn't in\nthe replication_status expected list.\nThis patch fixes the issue by adding not-capable to the expected\nreplication_status list.\n\nChange-Id: I6bcdbd8343cca237c5f85077273a8ea18c6f534d\nCloses-Bug: #1727248\n""}, {'number': 2, 'created': '2017-10-26 06:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5f5650e1944bb8ae82cfc26a364cea0b56cf5760', 'message': ""Fix migate_volume API with replication_status not-capable\n\nWhen migrating a volume with replication_status = 'not-capable',\nmigrate_volume api will reject it because 'not-capable' isn't in\nthe replication_status expected list.\nThis patch fixes the issue by adding not-capable to the expected\nreplication_status list.\n\nChange-Id: I6bcdbd8343cca237c5f85077273a8ea18c6f534d\nCloses-Bug: #1727248\n""}, {'number': 3, 'created': '2017-10-27 02:56:10.000000000', 'files': ['cinder/tests/unit/api/contrib/test_admin_actions.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6b5ff682fe45eda12da666ff26126f573478b2f0', 'message': ""Fix migate_volume API with replication_status not-capable\n\nWhen migrating a volume with replication_status = 'not-capable',\nmigrate_volume api will reject it because 'not-capable' isn't in\nthe replication_status expected list.\nThis patch fixes the issue by adding not-capable to the expected\nreplication_status list.\n\nChange-Id: I6bcdbd8343cca237c5f85077273a8ea18c6f534d\nCloses-Bug: #1727248\n""}]",4,514988,6b5ff682fe45eda12da666ff26126f573478b2f0,92,38,3,11186,,,0,"Fix migate_volume API with replication_status not-capable

When migrating a volume with replication_status = 'not-capable',
migrate_volume api will reject it because 'not-capable' isn't in
the replication_status expected list.
This patch fixes the issue by adding not-capable to the expected
replication_status list.

Change-Id: I6bcdbd8343cca237c5f85077273a8ea18c6f534d
Closes-Bug: #1727248
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/514988/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/api/contrib/test_admin_actions.py', 'cinder/volume/api.py']",2,4ed1b30e060b54500787d0f4dbf441e45abe08d6,bug/1727248," 'replication_status': (None, 'disabled', 'not-capable'),"," 'replication_status': (None, 'disabled'),",13,1
openstack%2Fcinder~master~I1d924da3504861f027273d3319e5cf6c485d1d37,openstack/cinder,master,I1d924da3504861f027273d3319e5cf6c485d1d37,[TrivialFix] Remove errant comma in capabilities policies,MERGED,2017-10-26 03:08:38.000000000,2018-02-25 14:52:27.000000000,2017-10-28 03:19:25.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 19852}, {'_account_id': 19930}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-26 03:08:38.000000000', 'files': ['cinder/policies/capabilities.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d1d8ed852b329d9f9465218b516840f308c9340', 'message': '[TrivialFix] Remove errant comma in capabilities policies\n\nCurrently, the initialization of CAPABILITIES_POLICY is supposed\nto be a string, but due to the comma at the end of the string literal\nthe type of CAPABILITIES_POLICY is actually a tuple, which is a bug.\n\nChange-Id: I1d924da3504861f027273d3319e5cf6c485d1d37\n'}]",0,515272,9d1d8ed852b329d9f9465218b516840f308c9340,89,36,1,23186,,,0,"[TrivialFix] Remove errant comma in capabilities policies

Currently, the initialization of CAPABILITIES_POLICY is supposed
to be a string, but due to the comma at the end of the string literal
the type of CAPABILITIES_POLICY is actually a tuple, which is a bug.

Change-Id: I1d924da3504861f027273d3319e5cf6c485d1d37
",git fetch https://review.opendev.org/openstack/cinder refs/changes/72/515272/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/policies/capabilities.py'],1,9d1d8ed852b329d9f9465218b516840f308c9340,remove-comma,"CAPABILITIES_POLICY = ""volume_extension:capabilities""","CAPABILITIES_POLICY = ""volume_extension:capabilities"",",1,1
openstack%2Fcinder~driverfixes%2Focata~Iee27c0368522c90525a4b8ad757f9fb89dc293a0,openstack/cinder,driverfixes/ocata,Iee27c0368522c90525a4b8ad757f9fb89dc293a0,Fix a migration issue of Huawei driver,MERGED,2017-09-21 01:33:18.000000000,2018-02-25 14:52:26.000000000,2017-10-26 02:41:37.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 10058}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 15831}, {'_account_id': 16203}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-09-21 01:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1aa01dd36c5919a3727bfd2cabdfeca61a843808', 'message': ""Fix a migration issue of Huawei driver\n\nWhile migrating volume crossing backends by the host-based way,\nafter data copying is done, Huawei driver's update_migrated_volume\nmethod doesn't return the provider_location property, which\nresults old and new volumes' provider_locations aren't swapped as\nexpected, afterwards, while deleting the old volume, new volume's\nprovider_location will be used and the if-volume-exist-check fails\nbecause it verifies the new volume's LUN ID actually on the old\nbackend, which certainly doesn't exist.\n\nThis patch fixes this issue.\n\nChange-Id: Iee27c0368522c90525a4b8ad757f9fb89dc293a0\n(cherry picked from commit 011daa9b463043a15f9e97986ecce6233ac72de5)\n""}, {'number': 2, 'created': '2017-10-25 17:47:29.000000000', 'files': ['cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/huawei_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f811487fca78d934b19baeb3e8aba3439d7e9db2', 'message': ""Fix a migration issue of Huawei driver\n\nWhile migrating volume crossing backends by the host-based way,\nafter data copying is done, Huawei driver's update_migrated_volume\nmethod doesn't return the provider_location property, which\nresults old and new volumes' provider_locations aren't swapped as\nexpected, afterwards, while deleting the old volume, new volume's\nprovider_location will be used and the if-volume-exist-check fails\nbecause it verifies the new volume's LUN ID actually on the old\nbackend, which certainly doesn't exist.\n\nThis patch fixes this issue.\n\nChange-Id: Iee27c0368522c90525a4b8ad757f9fb89dc293a0\n(cherry picked from commit 011daa9b463043a15f9e97986ecce6233ac72de5)\n""}]",0,505900,f811487fca78d934b19baeb3e8aba3439d7e9db2,40,19,2,16203,,,0,"Fix a migration issue of Huawei driver

While migrating volume crossing backends by the host-based way,
after data copying is done, Huawei driver's update_migrated_volume
method doesn't return the provider_location property, which
results old and new volumes' provider_locations aren't swapped as
expected, afterwards, while deleting the old volume, new volume's
provider_location will be used and the if-volume-exist-check fails
because it verifies the new volume's LUN ID actually on the old
backend, which certainly doesn't exist.

This patch fixes this issue.

Change-Id: Iee27c0368522c90525a4b8ad757f9fb89dc293a0
(cherry picked from commit 011daa9b463043a15f9e97986ecce6233ac72de5)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/00/505900/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/huawei_driver.py']",2,1aa01dd36c5919a3727bfd2cabdfeca61a843808,backport-migration-issue-to-O," new_metadata = huawei_utils.get_lun_metadata(new_volume) model_update = { 'provider_location': huawei_utils.to_string(**new_metadata), } model_update['_name_id'] = new_volume.name_id else: LOG.debug(""Renamed lun %(id)s to %(name)s successfully."", {'id': new_lun_id, 'name': orig_lun_name}) model_update['_name_id'] = None"," return {'_name_id': new_volume.name_id} LOG.debug(""Renamed lun %(id)s to %(name)s successfully."", {'id': new_lun_id, 'name': orig_lun_name}) model_update = {'_name_id': None}",17,12
openstack%2Fcinder~master~I94b32634396ab3acf19a70c6f3601edc67eedab1,openstack/cinder,master,I94b32634396ab3acf19a70c6f3601edc67eedab1,Completely remove mox from Cinder unittest,MERGED,2017-10-24 12:54:01.000000000,2018-02-25 14:52:24.000000000,2017-10-27 00:19:42.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 19852}, {'_account_id': 19853}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-10-24 12:54:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b14b9f5b4d1b7617c31bcc1457b9113bd1003a27', 'message': 'Completely remove mox from Cinder unittest\n\nThis patch removes the remaining unit tests and the\nbase class that use mox.\n\nChange-Id: I94b32634396ab3acf19a70c6f3601edc67eedab1\n'}, {'number': 2, 'created': '2017-10-25 08:44:45.000000000', 'files': ['cinder/test.py', 'cinder/tests/unit/volume/drivers/nexenta/test_nexenta5_nfs.py', 'cinder/tests/unit/api/contrib/test_backup_project_attribute.py', 'cinder/tests/unit/api/contrib/test_types_manage.py', 'cinder/tests/unit/api/v3/test_snapshots.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2359ee7c8a78c1b3b99063f09de3ae35a0a330c3', 'message': 'Completely remove mox from Cinder unittest\n\nThis patch removes mox from the remaining unit tests and\nthe base class.\n\nChange-Id: I94b32634396ab3acf19a70c6f3601edc67eedab1\n'}]",0,514640,2359ee7c8a78c1b3b99063f09de3ae35a0a330c3,46,29,2,18320,,,0,"Completely remove mox from Cinder unittest

This patch removes mox from the remaining unit tests and
the base class.

Change-Id: I94b32634396ab3acf19a70c6f3601edc67eedab1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/514640/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/test.py', 'cinder/tests/unit/volume/drivers/nexenta/test_nexenta5_nfs.py', 'cinder/tests/unit/api/contrib/test_backup_project_attribute.py', 'cinder/tests/unit/api/contrib/test_types_manage.py', 'cinder/tests/unit/api/v3/test_snapshots.py']",5,b14b9f5b4d1b7617c31bcc1457b9113bd1003a27,,"def fake_get(self, context, *args, **kwargs): self.mock_object(volume.api.API, 'get', fake_get)","def stub_get(self, context, *args, **kwargs): self.stubs.Set(volume.api.API, 'get', stub_get)",41,47
openstack%2Fcinder~master~I129ca060a89275ffd56481b8f64367b0d803cff5,openstack/cinder,master,I129ca060a89275ffd56481b8f64367b0d803cff5,NetApp ONTAP: Remove support for 7mode systems,MERGED,2017-10-21 05:29:33.000000000,2018-02-25 14:52:22.000000000,2017-10-26 20:23:22.000000000,"[{'_account_id': 7198}, {'_account_id': 9003}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16643}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-21 05:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d9af8900e26262a12ea38f27389713376164eb3d', 'message': 'NetApp ONTAP: Remove support for 7mode systems\n\nThe Unified Driver for NetApp Storage in Cinder\nsupports two families of ONTAP, 7mode and Clustered\nData ONTAP.\n\nONTAP 7 is now officially nearing the end-of-life\nof product support. The deprecation notice [1]\nfor these drivers in Cinder was issued in the Newton\nRelease, so it is time to remove them from tree.\n\n[1] http://lists.openstack.org/pipermail/openstack-operators/2016-November/011957.html\n\nDocImpact\nImplements: bp remove-netapp-7mode-drivers\n\nChange-Id: I129ca060a89275ffd56481b8f64367b0d803cff5\n'}, {'number': 2, 'created': '2017-10-21 05:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a4b15a43d331aabe7a668311beccb26c3963dc4f', 'message': 'NetApp ONTAP: Remove support for 7mode systems\n\nThe Unified Driver for NetApp Storage in Cinder\nsupports two families of ONTAP, 7mode and Clustered\nData ONTAP.\n\nONTAP 7 is now officially nearing the end-of-life\nof product support. The deprecation notice [1]\nfor these drivers in Cinder was issued in the Newton\nRelease, so it is time to remove them from tree.\n\n[1] http://lists.openstack.org/pipermail/openstack-operators/2016-November/011957.html\n\nDocImpact\nImplements: bp remove-netapp-7mode-drivers\n\nChange-Id: I129ca060a89275ffd56481b8f64367b0d803cff5\n'}, {'number': 3, 'created': '2017-10-21 07:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a56b2afc8291a88b30278bb9a64491ce56297ec', 'message': 'NetApp ONTAP: Remove support for 7mode systems\n\nThe Unified Driver for NetApp Storage in Cinder\nsupports two families of ONTAP, 7mode and Clustered\nData ONTAP.\n\nONTAP 7 is now officially nearing the end-of-life\nof product support. The deprecation notice [1]\nfor these drivers in Cinder was issued in the Newton\nRelease, so it is time to remove them from tree.\n\n[1] http://lists.openstack.org/pipermail/openstack-operators/2016-November/011957.html\n\nDocImpact\nImplements: bp remove-netapp-7mode-drivers\n\nChange-Id: I129ca060a89275ffd56481b8f64367b0d803cff5\n'}, {'number': 4, 'created': '2017-10-23 16:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e0b8f419b4fd92fd002649219bd1f17b77d522cb', 'message': 'NetApp ONTAP: Remove support for 7mode systems\n\nThe Unified Driver for NetApp Storage in Cinder\nsupports two families of ONTAP, 7mode and Clustered\nData ONTAP.\n\nONTAP 7 is now officially nearing the end-of-life\nof product support. The deprecation notice [1]\nfor these drivers in Cinder was issued in the Newton\nRelease, so it is time to remove them from tree.\n\n[1] http://lists.openstack.org/pipermail/openstack-operators/2016-November/011957.html\n\nImplements: bp remove-netapp-7mode-drivers\n\nChange-Id: I129ca060a89275ffd56481b8f64367b0d803cff5\n'}, {'number': 5, 'created': '2017-10-23 21:33:05.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_7mode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_driver_interfaces.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_7mode.py', 'cinder/volume/drivers/netapp/options.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/performance/test_perf_7mode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_7mode.py', 'cinder/opts.py', 'cinder/tests/unit/volume/drivers/netapp/fakes.py', 'cinder/tests/unit/volume/drivers/netapp/test_common.py', 'doc/source/configuration/tables/cinder-netapp_7mode_iscsi.inc', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_7mode.py', 'cinder/volume/drivers/netapp/dataontap/fc_7mode.py', 'doc/source/configuration/block-storage/drivers/netapp-volume-driver.rst', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/fakes.py', 'cinder/volume/drivers/netapp/dataontap/nfs_7mode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'doc/source/configuration/tables/cinder-netapp_cdot_iscsi.inc', 'cinder/volume/drivers/netapp/dataontap/fc_cmode.py', 'doc/source/configuration/tables/cinder-netapp_cdot_nfs.inc', 'cinder/volume/drivers/netapp/dataontap/iscsi_7mode.py', 'cinder/volume/drivers/netapp/dataontap/block_7mode.py', 'cinder/volume/drivers/netapp/dataontap/performance/perf_7mode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/fakes.py', 'doc/source/configuration/tables/cinder-netapp_eseries_iscsi.inc', 'cinder/tests/unit/volume/drivers/netapp/dataontap/utils/test_utils.py', 'cinder/volume/drivers/netapp/dataontap/utils/utils.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/volume/drivers/netapp/common.py', 'doc/source/configuration/tables/cinder-netapp_7mode_nfs.inc', 'releasenotes/notes/bp-remove-netapp-7mode-drivers-c38398e54662f2d4.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/425f45a311dc78ff34a18ffea7dbf5bb6dd2d421', 'message': 'NetApp ONTAP: Remove support for 7mode systems\n\nThe Unified Driver for NetApp Storage in Cinder\nsupports two families of ONTAP, 7mode and Clustered\nData ONTAP.\n\nONTAP 7 is now officially nearing the end-of-life\nof product support. The deprecation notice [1]\nfor these drivers in Cinder was issued in the Newton\nRelease, so it is time to remove them from tree.\n\n[1] http://lists.openstack.org/pipermail/openstack-operators/2016-November/011957.html\n\nImplements: bp remove-netapp-7mode-drivers\n\nChange-Id: I129ca060a89275ffd56481b8f64367b0d803cff5\n'}]",1,513897,425f45a311dc78ff34a18ffea7dbf5bb6dd2d421,107,33,5,16643,,,0,"NetApp ONTAP: Remove support for 7mode systems

The Unified Driver for NetApp Storage in Cinder
supports two families of ONTAP, 7mode and Clustered
Data ONTAP.

ONTAP 7 is now officially nearing the end-of-life
of product support. The deprecation notice [1]
for these drivers in Cinder was issued in the Newton
Release, so it is time to remove them from tree.

[1] http://lists.openstack.org/pipermail/openstack-operators/2016-November/011957.html

Implements: bp remove-netapp-7mode-drivers

Change-Id: I129ca060a89275ffd56481b8f64367b0d803cff5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/513897/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_7mode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_driver_interfaces.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_7mode.py', 'cinder/volume/drivers/netapp/options.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/performance/test_perf_7mode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_7mode.py', 'cinder/opts.py', 'cinder/tests/unit/volume/drivers/netapp/fakes.py', 'cinder/tests/unit/volume/drivers/netapp/test_common.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_7mode.py', 'cinder/volume/drivers/netapp/dataontap/fc_7mode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/fakes.py', 'cinder/volume/drivers/netapp/dataontap/nfs_7mode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/dataontap/fc_cmode.py', 'cinder/volume/drivers/netapp/dataontap/iscsi_7mode.py', 'cinder/volume/drivers/netapp/dataontap/block_7mode.py', 'cinder/volume/drivers/netapp/dataontap/performance/perf_7mode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/fakes.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/utils/test_utils.py', 'cinder/volume/drivers/netapp/dataontap/utils/utils.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/volume/drivers/netapp/common.py', 'releasenotes/notes/bp-remove-netapp-7mode-drivers-c38398e54662f2d4.yaml']",27,d9af8900e26262a12ea38f27389713376164eb3d,bp/remove-netapp-7mode-drivers,"--- upgrade: - Support for NetApp ONTAP 7 (previously known as ""Data ONTAP operating in 7mode"") has been removed. The NetApp Unified driver can now only be used with NetApp Clustered Data ONTAP and NetApp E-Series storage systems. This removal affects all three storage protocols that were supported on for ONTAP 7 - iSCSI, NFS and FC. Deployers are advised to consult the `migration support <https://mysupport.netapp.com/info/web/ECMP1658253 .html>`_ provided to transition from ONTAP 7 to Clustered Data ONTAP operating system. ",,28,4770
openstack%2Fcinder~master~I6696a15cd2c8fbf851a59b8d6d60ae1981bb1b89,openstack/cinder,master,I6696a15cd2c8fbf851a59b8d6d60ae1981bb1b89,Fix migration 112 to use live_data_migration API,MERGED,2017-10-06 18:07:57.000000000,2018-02-25 14:52:20.000000000,2017-10-24 17:53:42.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9562}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17068}, {'_account_id': 17386}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-06 18:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5191bd5e67855185d3e08359baaa9d48779ba609', 'message': ""Fix migration 112 to use live_data_migration API\n\nIn the 112 db migration I was being lazy and generating and\nupdating the newly added UUID column.  I also didn't update\nthe Service object (left that for the follow on patch).\n\nTurns out we're going to want/need the online_data_migration\npieces for some follow up work and we might as well do this at\nleast a little bit more efficiently/correctly now.\n\nThis patch modifies the db migration to NOT try and populate\nthe newly added UUID fields in the Service table, and it\nupdates the Service object properly including adding the gen UUID\ncomponents to service.create()\n\nThis also fixes up what we had in place for the online_data_migration\ncode in cmd/manage.py; note that we had a framework there/started but\nit wasn't being used up to this point.\n\nChange-Id: I6696a15cd2c8fbf851a59b8d6d60ae1981bb1b89\nCloses-Bug: #1721837\n""}, {'number': 2, 'created': '2017-10-07 14:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8ca98465c30a3519794cbadaca7302f936d8deac', 'message': ""Fix migration 112 to use live_data_migration API\n\nIn the 112 db migration I was being lazy and generating and\nupdating the newly added UUID column.  I also didn't update\nthe Service object (left that for the follow on patch).\n\nTurns out we're going to want/need the online_data_migration\npieces for some follow up work and we might as well do this at\nleast a little bit more efficiently/correctly now.\n\nThis patch modifies the db migration to NOT try and populate\nthe newly added UUID fields in the Service table, and it\nupdates the Service object properly including adding the gen UUID\ncomponents to service.create()\n\nThis also fixes up what we had in place for the online_data_migration\ncode in cmd/manage.py; note that we had a framework there/started but\nit wasn't being used up to this point.\n\nChange-Id: I6696a15cd2c8fbf851a59b8d6d60ae1981bb1b89\nCloses-Bug: #1721837\n""}, {'number': 3, 'created': '2017-10-07 17:08:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/302970ab5a2155c7897a1193389e0bc89bd61f19', 'message': ""Fix migration 112 to use live_data_migration API\n\nIn the 112 db migration I was being lazy and generating and\nupdating the newly added UUID column.  I also didn't update\nthe Service object (left that for the follow on patch).\n\nTurns out we're going to want/need the online_data_migration\npieces for some follow up work and we might as well do this at\nleast a little bit more efficiently/correctly now.\n\nThis patch modifies the db migration to NOT try and populate\nthe newly added UUID fields in the Service table, and it\nupdates the Service object properly including adding the gen UUID\ncomponents to service.create()\n\nThis also fixes up what we had in place for the online_data_migration\ncode in cmd/manage.py; note that we had a framework there/started but\nit wasn't being used up to this point.\n\nChange-Id: I6696a15cd2c8fbf851a59b8d6d60ae1981bb1b89\nCloses-Bug: #1721837\n""}, {'number': 4, 'created': '2017-10-13 17:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cb4be930485daf644a17e113470208f545a89e28', 'message': ""Fix migration 112 to use live_data_migration API\n\nIn the 112 db migration I was being lazy and generating and\nupdating the newly added UUID column.  I also didn't update\nthe Service object (left that for the follow on patch).\n\nTurns out we're going to want/need the online_data_migration\npieces for some follow up work and we might as well do this at\nleast a little bit more efficiently/correctly now.\n\nThis patch modifies the db migration to NOT try and populate\nthe newly added UUID fields in the Service table, and it\nupdates the Service object properly including adding the gen UUID\ncomponents to service.create()\n\nThis also fixes up what we had in place for the online_data_migration\ncode in cmd/manage.py; note that we had a framework there/started but\nit wasn't being used up to this point.\n\nChange-Id: I6696a15cd2c8fbf851a59b8d6d60ae1981bb1b89\nCloses-Bug: #1721837\n""}, {'number': 5, 'created': '2017-10-16 21:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/29bcce379a2bba8c32717c60ae0f826ef617d273', 'message': ""Fix migration 112 to use live_data_migration API\n\nIn the 112 db migration I was being lazy and generating and\nupdating the newly added UUID column.  I also didn't update\nthe Service object (left that for the follow on patch).\n\nTurns out we're going to want/need the online_data_migration\npieces for some follow up work and we might as well do this at\nleast a little bit more efficiently/correctly now.\n\nThis patch modifies the db migration to NOT try and populate\nthe newly added UUID fields in the Service table, and it\nupdates the Service object properly including adding the gen UUID\ncomponents to service.create()\n\nThis also fixes up what we had in place for the online_data_migration\ncode in cmd/manage.py; note that we had a framework there/started but\nit wasn't being used up to this point.\n\nChange-Id: I6696a15cd2c8fbf851a59b8d6d60ae1981bb1b89\nCloses-Bug: #1721837\n""}, {'number': 6, 'created': '2017-10-20 17:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b20658264ca0c7c0851673f92abe09241dcad20f', 'message': ""Fix migration 112 to use live_data_migration API\n\nIn the 112 db migration I was being lazy and generating and\nupdating the newly added UUID column.  I also didn't update\nthe Service object (left that for the follow on patch).\n\nTurns out we're going to want/need the online_data_migration\npieces for some follow up work and we might as well do this at\nleast a little bit more efficiently/correctly now.\n\nThis patch modifies the db migration to NOT try and populate\nthe newly added UUID fields in the Service table, and it\nupdates the Service object properly including adding the gen UUID\ncomponents to service.create()\n\nThis also fixes up what we had in place for the online_data_migration\ncode in cmd/manage.py; note that we had a framework there/started but\nit wasn't being used up to this point.\n\nChange-Id: I6696a15cd2c8fbf851a59b8d6d60ae1981bb1b89\nCloses-Bug: #1721837\n""}, {'number': 7, 'created': '2017-10-20 19:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/704f19b6a573ee0ed3864cf1fe9fe572906e6271', 'message': ""Fix migration 112 to use live_data_migration API\n\nIn the 112 db migration I was being lazy and generating and\nupdating the newly added UUID column.  I also didn't update\nthe Service object (left that for the follow on patch).\n\nTurns out we're going to want/need the online_data_migration\npieces for some follow up work and we might as well do this at\nleast a little bit more efficiently/correctly now.\n\nThis patch modifies the db migration to NOT try and populate\nthe newly added UUID fields in the Service table, and it\nupdates the Service object properly including adding the gen UUID\ncomponents to service.create()\n\nThis also fixes up what we had in place for the online_data_migration\ncode in cmd/manage.py; note that we had a framework there/started but\nit wasn't being used up to this point.\n\nChange-Id: I6696a15cd2c8fbf851a59b8d6d60ae1981bb1b89\nCloses-Bug: #1721837\n""}, {'number': 8, 'created': '2017-10-20 19:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e09146b9871b32065f2a6d48c7953d71eac6df63', 'message': ""Fix migration 112 to use live_data_migration API\n\nIn the 112 db migration I was being lazy and generating and\nupdating the newly added UUID column.  I also didn't update\nthe Service object (left that for the follow on patch).\n\nTurns out we're going to want/need the online_data_migration\npieces for some follow up work and we might as well do this at\nleast a little bit more efficiently/correctly now.\n\nThis patch modifies the db migration to NOT try and populate\nthe newly added UUID fields in the Service table, and it\nupdates the Service object properly including adding the gen UUID\ncomponents to service.create()\n\nThis also fixes up what we had in place for the online_data_migration\ncode in cmd/manage.py; note that we had a framework there/started but\nit wasn't being used up to this point.\n\nChange-Id: I6696a15cd2c8fbf851a59b8d6d60ae1981bb1b89\nCloses-Bug: #1721837\n""}, {'number': 9, 'created': '2017-10-21 00:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ae30c79659824adad9bfcab477ffbb79122e13f5', 'message': ""Fix migration 112 to use live_data_migration API\n\nIn the 112 db migration I was being lazy and generating and\nupdating the newly added UUID column.  I also didn't update\nthe Service object (left that for the follow on patch).\n\nTurns out we're going to want/need the online_data_migration\npieces for some follow up work and we might as well do this at\nleast a little bit more efficiently/correctly now.\n\nThis patch modifies the db migration to NOT try and populate\nthe newly added UUID fields in the Service table, and it\nupdates the Service object properly including adding the gen UUID\ncomponents to service.create()\n\nThis also fixes up what we had in place for the online_data_migration\ncode in cmd/manage.py; note that we had a framework there/started but\nit wasn't being used up to this point.\n\nChange-Id: I6696a15cd2c8fbf851a59b8d6d60ae1981bb1b89\nCloses-Bug: #1721837\n""}, {'number': 10, 'created': '2017-10-21 00:24:41.000000000', 'files': ['cinder/objects/base.py', 'cinder/cmd/manage.py', 'cinder/db/api.py', 'cinder/tests/unit/fake_service.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/objects/test_service.py', 'cinder/objects/service.py', 'cinder/tests/unit/objects/test_objects.py', 'cinder/db/sqlalchemy/migrate_repo/versions/112_add_uuid_to_services_table.py', 'cinder/tests/unit/test_cmd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e88d3b2c8205a4865d64419623de10d9159eeea2', 'message': ""Fix migration 112 to use live_data_migration API\n\nIn the 112 db migration I was being lazy and generating and\nupdating the newly added UUID column.  I also didn't update\nthe Service object (left that for the follow on patch).\n\nTurns out we're going to want/need the online_data_migration\npieces for some follow up work and we might as well do this at\nleast a little bit more efficiently/correctly now.\n\nThis patch modifies the db migration to NOT try and populate\nthe newly added UUID fields in the Service table, and it\nupdates the Service object properly including adding the gen UUID\ncomponents to service.create()\n\nThis also fixes up what we had in place for the online_data_migration\ncode in cmd/manage.py; note that we had a framework there/started but\nit wasn't being used up to this point.\n\nChange-Id: I6696a15cd2c8fbf851a59b8d6d60ae1981bb1b89\nCloses-Bug: #1721837\n""}]",27,510201,e88d3b2c8205a4865d64419623de10d9159eeea2,201,46,10,2243,,,0,"Fix migration 112 to use live_data_migration API

In the 112 db migration I was being lazy and generating and
updating the newly added UUID column.  I also didn't update
the Service object (left that for the follow on patch).

Turns out we're going to want/need the online_data_migration
pieces for some follow up work and we might as well do this at
least a little bit more efficiently/correctly now.

This patch modifies the db migration to NOT try and populate
the newly added UUID fields in the Service table, and it
updates the Service object properly including adding the gen UUID
components to service.create()

This also fixes up what we had in place for the online_data_migration
code in cmd/manage.py; note that we had a framework there/started but
it wasn't being used up to this point.

Change-Id: I6696a15cd2c8fbf851a59b8d6d60ae1981bb1b89
Closes-Bug: #1721837
",git fetch https://review.opendev.org/openstack/cinder refs/changes/01/510201/10 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/objects/base.py', 'cinder/cmd/manage.py', 'cinder/db/api.py', 'cinder/tests/unit/fake_service.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/objects/test_service.py', 'cinder/objects/service.py', 'cinder/tests/unit/objects/test_objects.py', 'cinder/db/sqlalchemy/migrate_repo/versions/112_add_uuid_to_services_table.py', 'cinder/tests/unit/test_cmd.py']",10,5191bd5e67855185d3e08359baaa9d48779ba609,bug/1721837," (mock.call(mock.ANY, 50),) * 2)+------------+--------------+-----------+ | Migration | Total Needed | Completed | +------------+--------------+-----------+ | mock_mig_1 | 5 | 4 | | mock_mig_2 | 6 | 6 | +------------+--------------+-----------+ 10)]) 6)]) 2) mock.ANY, 2)"," (mock.call(mock.ANY, 50, False),) * 2)+------------+-------+------+-----------+ | Migration | Found | Done | Remaining | +------------+-------+------+-----------+ | mock_mig_1 | 5 | 4 | 1 | | mock_mig_2 | 6 | 6 | 0 | +------------+-------+------+-----------+ 10, False)]) 6, False)]) 2, True) mock.ANY, 2, True)",103,37
openstack%2Fcinder~master~I9072e80f4e2817e48b4b5dd23790b727b3d7e4e4,openstack/cinder,master,I9072e80f4e2817e48b4b5dd23790b727b3d7e4e4,"Revert ""Move vol_db_empty to NFS driver""",MERGED,2017-10-11 20:03:17.000000000,2018-02-25 14:52:19.000000000,2017-10-18 22:10:00.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 15296}, {'_account_id': 15831}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-11 20:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b08a3e7ad548273224f936c93232e10939c2891e', 'message': 'Revert ""Move vol_db_empty to NFS driver""\n\nThis reverts commit 9b81659128f18239c682a407dcfc9766f0ad307d.\n\nThis was purposefully done in the volume manager because otherwise it requires direct database access from the driver, which is something we are better off avoiding.\n\nChange-Id: I9072e80f4e2817e48b4b5dd23790b727b3d7e4e4\n'}, {'number': 2, 'created': '2017-10-18 15:41:57.000000000', 'files': ['cinder/volume/manager.py', 'cinder/tests/unit/windows/test_smbfs.py', 'cinder/tests/unit/volume/drivers/test_quobyte.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9778c5b04acb045dd41754af87da1b7b7eccb0a0', 'message': 'Revert ""Move vol_db_empty to NFS driver""\n\nThis reverts commit 9b81659128f18239c682a407dcfc9766f0ad307d.\n\nThis was purposefully done in the volume manager\nbecause otherwise it requires direct database access\nfrom the driver, which is something we are better off\navoiding.\n\nChange-Id: I9072e80f4e2817e48b4b5dd23790b727b3d7e4e4\n'}]",0,511330,9778c5b04acb045dd41754af87da1b7b7eccb0a0,52,32,2,4523,,,0,"Revert ""Move vol_db_empty to NFS driver""

This reverts commit 9b81659128f18239c682a407dcfc9766f0ad307d.

This was purposefully done in the volume manager
because otherwise it requires direct database access
from the driver, which is something we are better off
avoiding.

Change-Id: I9072e80f4e2817e48b4b5dd23790b727b3d7e4e4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/30/511330/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/tests/unit/windows/test_smbfs.py', 'cinder/tests/unit/volume/drivers/test_quobyte.py', 'cinder/volume/drivers/remotefs.py']",4,b08a3e7ad548273224f936c93232e10939c2891e,vol_db_empty," self._is_voldb_empty_at_startup = kwargs.pop('is_vol_db_empty', None)","from cinder import context self._is_voldb_empty_at_startup = self._check_if_volume_db_is_empty() def _set_voldb_empty_at_startup_indicator(self, ctxt): """"""Determine if the Cinder volume DB is empty. A check of the volume DB is done to determine whether it is empty or not at this point. :param ctxt: our working context """""" if not self.db: return False vol_entries = self.db.volume_get_all(ctxt, None, 1, filters=None) if len(vol_entries) == 0: LOG.info(""Determined volume DB was empty at startup."") return True else: LOG.info(""Determined volume DB was not empty at startup."") return False def _check_if_volume_db_is_empty(self): vol_db_empty = self._set_voldb_empty_at_startup_indicator( context.get_admin_context()) LOG.debug(""Cinder Volume DB check: vol_db_empty=%s"", vol_db_empty) return vol_db_empty ",24,35
openstack%2Fcinder~stable%2Fpike~I673b43f9ebe335ced4981af6c53b320a886438c8,openstack/cinder,stable/pike,I673b43f9ebe335ced4981af6c53b320a886438c8,Storwize: add NPIV support,MERGED,2017-10-18 02:20:25.000000000,2018-02-25 14:52:05.000000000,2017-11-13 06:45:12.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 11186}, {'_account_id': 11904}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 25677}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-18 02:20:25.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b0abda576e3377d8c2f363b4570d3063291ff795', 'message': 'Storwize: add NPIV support\n\nThe Storwize/svc release 7.7.0.0 introduced an NPIV feature,\nwhich when enabled provides for both virtual and physical wwpns.\nThe patch enables the storwize cinder driver to make use of the\nvirtual and physical wwpns that have been enabled for I/O\noperations.\n\nChange-Id: I673b43f9ebe335ced4981af6c53b320a886438c8\nCloses-Bug: #1715275\n(cherry picked from commit 8429fb53c0c3a89ba6508be913487a5d16b7ea52)\n'}]",0,512915,b0abda576e3377d8c2f363b4570d3063291ff795,27,14,1,11186,,,0,"Storwize: add NPIV support

The Storwize/svc release 7.7.0.0 introduced an NPIV feature,
which when enabled provides for both virtual and physical wwpns.
The patch enables the storwize cinder driver to make use of the
virtual and physical wwpns that have been enabled for I/O
operations.

Change-Id: I673b43f9ebe335ced4981af6c53b320a886438c8
Closes-Bug: #1715275
(cherry picked from commit 8429fb53c0c3a89ba6508be913487a5d16b7ea52)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/512915/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_fc.py']",3,b0abda576e3377d8c2f363b4570d3063291ff795,bug/1715275-stable/pike," 2.2.2 - Add npiv support VERSION = ""2.2.2"" # The Storwize/svc release 7.7.0.0 introduced NPIV feature, # Different commands be used to get the wwpns for host I/O if self._state['code_level'] < (7, 7, 0, 0): conn_wwpns.extend(node['WWPN']) else: npiv_wwpns = self._helpers.get_npiv_wwpns( node_id=node['id'], host_io=""yes"") conn_wwpns.extend(npiv_wwpns)"," VERSION = ""2.2.1"" conn_wwpns.extend(node['WWPN'])",168,9
openstack%2Fcinder~master~I47d11a2f6423a76ca053abf075791ed70ee84b07,openstack/cinder,master,I47d11a2f6423a76ca053abf075791ed70ee84b07,"[policy in code] Add support for volume, volume type resources",MERGED,2017-10-12 09:01:46.000000000,2018-02-25 14:51:47.000000000,2017-10-19 06:22:17.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21279}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-12 09:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cff437ff970a090eba7f6ff587e2f0f5b0f9f689', 'message': '[policy in code] Add support for volume, volume type resources\n\nThis patch adds policy in code support for volume\nand volume type resources.\n\nChange-Id: I47d11a2f6423a76ca053abf075791ed70ee84b07\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 2, 'created': '2017-10-12 09:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/176f5eef34af61990e62b5233397974251b1e371', 'message': '[policy in code] Add support for volume, volume type resources\n\nThis patch adds policy in code support for volume\nand volume type resources. This is the last one!\n\nChange-Id: I47d11a2f6423a76ca053abf075791ed70ee84b07\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 3, 'created': '2017-10-16 07:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fcde8f74efe0dc08e80e01fca2c37574de3adb5a', 'message': '[policy in code] Add support for volume, volume type resources\n\nThis patch adds policy in code support for volume\nand volume type resources.\n\nChange-Id: I47d11a2f6423a76ca053abf075791ed70ee84b07\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 4, 'created': '2017-10-17 01:57:47.000000000', 'files': ['cinder/policies/volume_type.py', 'cinder/policies/volumes.py', 'cinder/api/v3/volumes.py', 'cinder/tests/unit/attachments/test_attachments_api.py', 'cinder/volume/flows/api/create_volume.py', 'etc/cinder/policy.json', 'cinder/api/contrib/admin_actions.py', 'cinder/tests/unit/policy.json', 'cinder/api/contrib/volume_mig_status_attribute.py', 'cinder/api/contrib/volume_type_encryption.py', 'cinder/api/contrib/types_extra_specs.py', 'cinder/tests/unit/api/v2/test_types.py', 'cinder/policies/type_extra_specs.py', 'cinder/tests/unit/api/contrib/test_volume_type_access.py', 'cinder/api/contrib/volume_unmanage.py', 'cinder/api/contrib/volume_image_metadata.py', 'cinder/policies/volume_metadata.py', 'cinder/api/contrib/volume_manage.py', 'cinder/policies/base.py', 'cinder/api/contrib/volume_tenant_attribute.py', 'cinder/api/contrib/volume_type_access.py', 'cinder/api/contrib/volume_actions.py', 'cinder/policies/volume_actions.py', 'cinder/api/extensions.py', 'cinder/api/common.py', 'cinder/policies/__init__.py', 'cinder/transfer/api.py', 'cinder/api/v2/views/types.py', 'cinder/policy.py', 'cinder/policies/volume_access.py', 'cinder/api/contrib/volume_encryption_metadata.py', 'cinder/api/contrib/types_manage.py', 'cinder/api/contrib/volume_host_attribute.py', 'cinder/tests/unit/api/contrib/test_types_manage.py', 'cinder/policies/manageable_volumes.py', 'cinder/policies/volume_transfer.py', 'cinder/api/openstack/wsgi.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a9e075021fe04b8de6c963d8e8d39c2869f5ed4b', 'message': '[policy in code] Add support for volume, volume type resources\n\nThis patch adds policy in code support for volume\nand volume type resources.\n\nChange-Id: I47d11a2f6423a76ca053abf075791ed70ee84b07\nPartial-Implements: blueprint policy-in-code\n'}]",37,511427,a9e075021fe04b8de6c963d8e8d39c2869f5ed4b,84,34,4,23083,,,0,"[policy in code] Add support for volume, volume type resources

This patch adds policy in code support for volume
and volume type resources.

Change-Id: I47d11a2f6423a76ca053abf075791ed70ee84b07
Partial-Implements: blueprint policy-in-code
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/511427/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/policies/volume_type.py', 'cinder/policies/volumes.py', 'cinder/api/v3/volumes.py', 'cinder/tests/unit/attachments/test_attachments_api.py', 'etc/cinder/policy.json', 'cinder/api/contrib/admin_actions.py', 'cinder/tests/unit/policy.json', 'cinder/api/contrib/volume_mig_status_attribute.py', 'cinder/api/contrib/types_extra_specs.py', 'cinder/tests/unit/api/v2/test_types.py', 'cinder/policies/type_extra_specs.py', 'cinder/tests/unit/api/contrib/test_volume_type_access.py', 'cinder/api/contrib/volume_image_metadata.py', 'cinder/policies/volume_metadata.py', 'cinder/api/contrib/volume_manage.py', 'cinder/policies/base.py', 'cinder/api/contrib/volume_tenant_attribute.py', 'cinder/api/contrib/volume_type_access.py', 'cinder/api/contrib/volume_actions.py', 'cinder/policies/volume_actions.py', 'cinder/policies/__init__.py', 'cinder/transfer/api.py', 'cinder/api/v2/views/types.py', 'cinder/policies/volume_access.py', 'cinder/api/contrib/volume_encryption_metadata.py', 'cinder/api/contrib/types_manage.py', 'cinder/api/contrib/volume_host_attribute.py', 'cinder/tests/unit/api/contrib/test_types_manage.py', 'cinder/policies/manageable_volumes.py', 'cinder/policies/volume_transfer.py', 'cinder/volume/api.py']",31,cff437ff970a090eba7f6ff587e2f0f5b0f9f689,policy-and-docs-in-code,"from cinder.policies import volume_actions as vol_action_policy from cinder.policies import volume_metadata as vol_meta_policy from cinder.policies import volume_transfer as vol_transfer_policy from cinder.policies import volumes as vol_policy context.authorize(vol_policy.CREATE_FROM_IMAGE_POLICY) context.authorize(vol_action_policy.REVERT_POLICY, target_obj=volume) context.authorize(vol_policy.DELETE_POLICY, target_obj=volume) def update(self, context, volume, fields): context.authorize(vol_policy.UPDATE_POLICY, target_obj=volume) context.authorize(vol_policy.GET_POLICY, target_obj=volume) context.authorize(vol_policy.GET_ALL_POLICY) context.authorize(vol_policy.GET_ALL_POLICY) context.authorize(vol_policy.GET_POLICY) def reserve_volume(self, context, volume): context.authorize(vol_action_policy.RETYPE_POLICY, target_obj=volume) def unreserve_volume(self, context, volume): context.authorize(vol_action_policy.UNRESERVE_POLICY, target_obj=volume) def begin_detaching(self, context, volume): context.authorize(vol_action_policy.BEGIN_DETACHING_POLICY, target_obj=volume) def roll_detaching(self, context, volume): context.authorize(vol_action_policy.ROLL_DETACHING_POLICY, target_obj=volume) context.authorize(vol_action_policy.ATTACH_POLICY, target_obj=volume) def detach(self, context, volume, attachment_id): context.authorize(vol_action_policy.DETACH_POLICY, target_obj=volume) def initialize_connection(self, context, volume, connector): context.authorize(vol_action_policy.INITIALIZE_POLICY, target_obj=volume) def terminate_connection(self, context, volume, connector, force=False): context.authorize(vol_action_policy.TERMINATE_POLICY, target_obj=volume) def accept_transfer(self, context, volume, new_user, new_project): context.authorize(vol_transfer_policy.ACCEPT_POLICY, target_obj=volume) context.authorize(snapshot_policy.CREATE_POLICY, target_obj=volume) context.authorize(vol_meta_policy.GET_POLICY, target_obj=volume) context.authorize(vol_meta_policy.CREATE_POLICY, target_obj=volume) context.authorize(vol_meta_policy.DELETE_POLICY, target_obj=volume) context.authorize(vol_meta_policy.UPDATE_POLICY, target_obj=volume) context.authorize(vol_meta_policy.UPDATE_ADMIN_METADATA_POLICY, target_obj=volume) context.authorize(vol_meta_policy.GET_POLICY) def get_volume_image_metadata(self, context, volume): context.authorize(vol_meta_policy.GET_POLICY, target_obj=volume) def extend(self, context, volume, new_size): context.authorize(vol_action_policy.EXTEND_POLICY, target_obj=volume) def extend_attached_volume(self, context, volume, new_size): context.authorize(vol_action_policy.EXTEND_ATTACHED_POLICY, target_obj=volume) context.authorize(vol_action_policy.MIGRATE_POLICY, target_obj=volume) def migrate_volume_completion(self, context, volume, new_volume, error): context.authorize(vol_action_policy.MIGRATE_COMPLETE_POLICY, target_obj=volume) def update_readonly_flag(self, context, volume, flag): context.authorize(vol_action_policy.UPDATE_READONLY_POLICY, target_obj=volume) context.authorize(vol_action_policy.RETYPE_POLICY, target_obj=volume)","import functoolsdef wrap_check_policy(func): """"""Check policy corresponding to the wrapped methods prior to execution This decorator requires the first 3 args of the wrapped function to be (self, context, volume) """""" @functools.wraps(func) def wrapped(self, context, target_obj, *args, **kwargs): check_policy(context, func.__name__, target_obj) return func(self, context, target_obj, *args, **kwargs) return wrapped def check_policy(context, action, target_obj=None): target = { 'project_id': context.project_id, 'user_id': context.user_id, } if isinstance(target_obj, objects_base.CinderObject): # Turn object into dict so target.update can work target.update( target_obj.obj_to_primitive()['versioned_object.data'] or {}) else: target.update(target_obj or {}) _action = 'volume:%s' % action cinder.policy.enforce(context, _action, target) check_policy(context, 'create_from_image' if image_id else 'create') @wrap_check_policy @wrap_check_policy @wrap_check_policy def update(self, context, volume, fields): check_policy(context, 'get', volume) check_policy(context, 'get_all') check_policy(context, 'get_all') check_policy(context, 'get_volume') @wrap_check_policy def reserve_volume(self, context, volume): @wrap_check_policy def unreserve_volume(self, context, volume): @wrap_check_policy def begin_detaching(self, context, volume): @wrap_check_policy def roll_detaching(self, context, volume): @wrap_check_policy @wrap_check_policy def detach(self, context, volume, attachment_id): @wrap_check_policy def initialize_connection(self, context, volume, connector): @wrap_check_policy def terminate_connection(self, context, volume, connector, force=False): @wrap_check_policy def accept_transfer(self, context, volume, new_user, new_project): check_policy(context, 'create_snapshot', volume) @wrap_check_policy @wrap_check_policy @wrap_check_policy @wrap_check_policy @wrap_check_policy @wrap_check_policy check_policy(context, 'get_volumes_image_metadata') @wrap_check_policy def get_volume_image_metadata(self, context, volume): @wrap_check_policy @wrap_check_policy def extend(self, context, volume, new_size): @wrap_check_policy def extend_attached_volume(self, context, volume, new_size): @wrap_check_policy @wrap_check_policy def migrate_volume_completion(self, context, volume, new_volume, error): @wrap_check_policy def update_readonly_flag(self, context, volume, flag): @wrap_check_policy",1107,296
openstack%2Fcinder~master~Ic47f04e06b886656c9a0f0f7a0494a10fef93e80,openstack/cinder,master,Ic47f04e06b886656c9a0f0f7a0494a10fef93e80,Make stringify header work under python2.,MERGED,2017-10-16 10:45:41.000000000,2018-02-25 14:51:46.000000000,2017-10-17 14:21:01.000000000,"[{'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17068}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 25747}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-16 10:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/44411ff47fc3188971ea488971425b966891b947', 'message': 'Make stringify header work under python2.\n\nThis fixes the following issue appearing during\ncinder-manage db online_data_migrations.\n\nChange-Id: Ic47f04e06b886656c9a0f0f7a0494a10fef93e80\nFixes-Bug: #1723922\n'}, {'number': 2, 'created': '2017-10-16 10:46:14.000000000', 'files': ['cinder/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/04543abedd429101dc6b410090e463358d22ca48', 'message': 'Make stringify header work under python2.\n\nThis fixes the following issue appearing during\ncinder-manage db online_data_migrations.\n\nChange-Id: Ic47f04e06b886656c9a0f0f7a0494a10fef93e80\nCloses-Bug: #1723922\n'}]",0,512259,04543abedd429101dc6b410090e463358d22ca48,45,33,2,17068,,,0,"Make stringify header work under python2.

This fixes the following issue appearing during
cinder-manage db online_data_migrations.

Change-Id: Ic47f04e06b886656c9a0f0f7a0494a10fef93e80
Closes-Bug: #1723922
",git fetch https://review.opendev.org/openstack/cinder refs/changes/59/512259/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/cmd/manage.py'],1,44411ff47fc3188971ea488971425b966891b947,bug/1723922," headers = [""{}"".format(_('Migration')), ""{}"".format(_('Found')), ""{}"".format(_('Done')), ""{}"".format(_('Remaining'))] t = prettytable.PrettyTable(headers)"," t = prettytable.PrettyTable([_('Migration'), _('Found'), _('Done'), _('Remaining')])",5,5
openstack%2Fcinder~master~I87a287f5db912e9aeaa401871178c49414098d06,openstack/cinder,master,I87a287f5db912e9aeaa401871178c49414098d06,Fix backup-import error when the deleted record in the same db,MERGED,2017-09-12 07:05:47.000000000,2018-02-25 14:51:44.000000000,2017-10-19 10:00:38.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24564}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25456}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 26567}]","[{'number': 1, 'created': '2017-09-12 07:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/81783619323dfd2a531478eb0b2b23840e6e2ff4', 'message': 'Fix backup-import error when the deleted record in the same db\n\nIf we revive the deleted backup record, cinder-api will raise a\nDBDuplicateEntry error, this patch will allow user to import the\ndeleted record either in the same db or not.\n\nChange-Id: I87a287f5db912e9aeaa401871178c49414098d06\nCloses-Bug: #1696361\n'}, {'number': 2, 'created': '2017-10-13 01:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ec2fbda866eeda3deb5a82dcb6d390a16fd92baa', 'message': 'Fix backup-import error when the deleted record in the same db\n\nIf we revive the deleted backup record, cinder-api will raise a\nDBDuplicateEntry error, this patch will allow user to import the deleted\nrecord either in the same db or not.\n\nChange-Id: I87a287f5db912e9aeaa401871178c49414098d06\nCloses-Bug: #1696361\n'}, {'number': 3, 'created': '2017-10-13 02:46:46.000000000', 'files': ['cinder/backup/api.py', 'cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ea5e4f3945714c9c21ae27468288dea36ab4e07d', 'message': 'Fix backup-import error when the deleted record in the same db\n\nIf we revive the deleted backup record, cinder-api will raise a\nDBDuplicateEntry error, this patch will allow user to import the deleted\nrecord either in the same db or not.\n\nChange-Id: I87a287f5db912e9aeaa401871178c49414098d06\nCloses-Bug: #1696361\n'}]",2,502897,ea5e4f3945714c9c21ae27468288dea36ab4e07d,102,46,3,24564,,,0,"Fix backup-import error when the deleted record in the same db

If we revive the deleted backup record, cinder-api will raise a
DBDuplicateEntry error, this patch will allow user to import the deleted
record either in the same db or not.

Change-Id: I87a287f5db912e9aeaa401871178c49414098d06
Closes-Bug: #1696361
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/502897/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/api.py', 'cinder/db/sqlalchemy/api.py']",2,81783619323dfd2a531478eb0b2b23840e6e2ff4,bug/1696361, conditions = [model.id == resource_id] if 'no' == context.read_deleted: conditions.append(~model.deleted)," conditions = [model.id == resource_id, ~model.deleted]",9,5
openstack%2Fcinder~master~I9a79b5ececc587e80129cc980930e168e805b139,openstack/cinder,master,I9a79b5ececc587e80129cc980930e168e805b139,[policy in code] Add support for backup resource,MERGED,2017-09-25 08:18:56.000000000,2018-02-25 14:51:39.000000000,2017-10-13 07:13:55.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 5046}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21279}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-25 08:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ce935718ebeea4a7c91cf25f014da8d39703fddb', 'message': '[policy in code] Add support for backup resource\n\nThis patch adds policy in code support for backup\nresources and depends on the basic patch [1].\n\n[1]: https://review.openstack.org/#/c/506976/\n\nChange-Id: I9a79b5ececc587e80129cc980930e168e805b139\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 2, 'created': '2017-09-25 08:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/81ad110e10d02322720ddbb4d3470bd44f712df1', 'message': '[policy in code] Add support for backup resource\n\nThis patch adds policy in code support for backup\nresources and depends on the basic patch [1].\n\n[1]: https://review.openstack.org/#/c/506976/\n\nChange-Id: I9a79b5ececc587e80129cc980930e168e805b139\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 3, 'created': '2017-09-25 09:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0490b01f9e5fe4c289234ec8732ecdb53cf349b4', 'message': '[policy in code] Add support for backup resource\n\nThis patch adds policy in code support for backup\nresources and depends on the basic patch [1].\n\n[1]: https://review.openstack.org/#/c/506976/\n\nChange-Id: I9a79b5ececc587e80129cc980930e168e805b139\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 4, 'created': '2017-09-27 01:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e648e7a02903b74f9475d14b85ae1541eeac303', 'message': '[policy in code] Add support for backup resource\n\nThis patch adds policy in code support for backup\nresources and depends on the basic patch [1].\n\n[1]: https://review.openstack.org/#/c/506976/\n\nChange-Id: I9a79b5ececc587e80129cc980930e168e805b139\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 5, 'created': '2017-10-09 12:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bb93b3cc1b066919330997eb1f3f3cd895cd324b', 'message': '[policy in code] Add support for backup resource\n\nThis patch adds policy in code support for backup\nresources and depends on the basic patch [1].\n\n[1]: https://review.openstack.org/#/c/506976/\n\nChange-Id: I9a79b5ececc587e80129cc980930e168e805b139\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 6, 'created': '2017-10-10 03:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8c97aabb46cb2da915cedf02c9d84d67bf5cd81d', 'message': '[policy in code] Add support for backup resource\n\nThis patch adds policy in code support for backup\nresources and depends on the basic patch [1].\n\n[1]: https://review.openstack.org/#/c/506976/\n\nChange-Id: I9a79b5ececc587e80129cc980930e168e805b139\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 7, 'created': '2017-10-11 01:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d4ef0b100a3b03219b29148ef04d3f26cecd9bd1', 'message': '[policy in code] Add support for backup resource\n\nThis patch adds policy in code support for backup\nresources and depends on the basic patch [1].\n\n[1]: https://review.openstack.org/#/c/506976/\n\nChange-Id: I9a79b5ececc587e80129cc980930e168e805b139\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 8, 'created': '2017-10-11 01:51:24.000000000', 'files': ['cinder/backup/api.py', 'cinder/policies/__init__.py', 'etc/cinder/policy.json', 'cinder/api/contrib/admin_actions.py', 'cinder/tests/unit/policy.json', 'cinder/api/v3/backups.py', 'cinder/policies/backups.py', 'cinder/policies/backup_actions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1462d9c2e42775140cc228c90e49eea19e0b4458', 'message': '[policy in code] Add support for backup resource\n\nThis patch adds policy in code support for backup\nresources and depends on the basic patch [1].\n\n[1]: https://review.openstack.org/#/c/506976/\n\nChange-Id: I9a79b5ececc587e80129cc980930e168e805b139\nPartial-Implements: blueprint policy-in-code\n'}]",5,507015,1462d9c2e42775140cc228c90e49eea19e0b4458,210,48,8,23083,,,0,"[policy in code] Add support for backup resource

This patch adds policy in code support for backup
resources and depends on the basic patch [1].

[1]: https://review.openstack.org/#/c/506976/

Change-Id: I9a79b5ececc587e80129cc980930e168e805b139
Partial-Implements: blueprint policy-in-code
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/507015/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/api.py', 'cinder/policies/__init__.py', 'etc/cinder/policy.json', 'cinder/tests/unit/policy.json', 'cinder/api/v3/backups.py', 'cinder/policies/backups.py']",6,ce935718ebeea4a7c91cf25f014da8d39703fddb,policy-and-docs-in-code,"# Copyright (c) 2017 Huawei Technologies Co., Ltd. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_policy import policy from cinder.policies import base GET_ALL_POLICY = 'backup:get_all' GET_POLICY = 'backup:get' CREATE_POLICY = 'backup:create' UPDATE_POLICY = 'backup:update' DELETE_POLICY = 'backup:delete' RESTORE_POLICY = 'backup:restore' IMPORT_POLICY = 'backup:backup-import' EXPORT_POLICY = 'backup:export-import' BACKUP_ATTRIBUTES_POLICY = 'backup:backup_project_attribute' backups_policies = [ policy.DocumentedRuleDefault( name=GET_ALL_POLICY, check_str=base.RULE_ADMIN_OR_OWNER, description=""""""List backups."""""", operations=[ { 'method': 'GET', 'path': '/backups' }, { 'method': 'GET', 'path': '/backups/detail' } ]), policy.DocumentedRuleDefault( name=BACKUP_ATTRIBUTES_POLICY, check_str=base.RULE_ADMIN_API, description=""""""List backups or show backup with project attributes."""""", operations=[ { 'method': 'GET', 'path': '/backups/{backup_id}' }, { 'method': 'GET', 'path': '/backups/detail' } ]), policy.DocumentedRuleDefault( name=CREATE_POLICY, check_str="""", description=""""""Create backup."""""", operations=[ { 'method': 'POST', 'path': '/backups' } ]), policy.DocumentedRuleDefault( name=GET_POLICY, check_str=base.RULE_ADMIN_OR_OWNER, description=""""""Show backup."""""", operations=[ { 'method': 'GET', 'path': '/backups/{backup_id}' } ]), policy.DocumentedRuleDefault( name=UPDATE_POLICY, check_str=base.RULE_ADMIN_OR_OWNER, description=""""""Update backup."""""", operations=[ { 'method': 'PUT', 'path': '/backups/{backup_id}' } ]), policy.DocumentedRuleDefault( name=DELETE_POLICY, check_str=base.RULE_ADMIN_OR_OWNER, description=""""""Delete backup."""""", operations=[ { 'method': 'DELETE', 'path': '/backups/{backup_id}' } ]), policy.DocumentedRuleDefault( name=RESTORE_POLICY, check_str=base.RULE_ADMIN_OR_OWNER, description=""""""Restore backup."""""", operations=[ { 'method': 'POST', 'path': '/backups/{backup_id}/restore' } ]), policy.DocumentedRuleDefault( name=IMPORT_POLICY, check_str=base.RULE_ADMIN_API, description=""""""Import backup."""""", operations=[ { 'method': 'POST', 'path': '/backups/{backup_id}/import_record' } ]), policy.DocumentedRuleDefault( name=EXPORT_POLICY, check_str=base.RULE_ADMIN_API, description=""""""Export backup."""""", operations=[ { 'method': 'POST', 'path': '/backups/{backup_id}/export_record' } ]), ] def list_rules(): return backups_policies ",,148,36
openstack%2Fcinder~stable%2Fpike~I8528752630276bd6e2348f27721238115de504cd,openstack/cinder,stable/pike,I8528752630276bd6e2348f27721238115de504cd,Remove newton-compat upgrade code on service startup,MERGED,2017-10-10 05:52:50.000000000,2018-02-25 14:51:38.000000000,2017-10-12 03:16:28.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-10 05:52:50.000000000', 'files': ['cinder/service.py', 'cinder/tests/unit/test_service.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d0dc23fb77b8a7b0496313881434267b0091fb3c', 'message': ""Remove newton-compat upgrade code on service startup\n\nThis upgrade compat check code was marked for removal\nin Ocata. Since we're now in Queens, and this is burning\ntime on every service start, let's remove it.\n\nChange-Id: I8528752630276bd6e2348f27721238115de504cd\nRelated-Bug: #1722326\n(cherry picked from commit 6c630c5e5383ea1cbd5475aad9826bbe2becf364)\n""}]",0,510753,d0dc23fb77b8a7b0496313881434267b0091fb3c,29,17,1,7198,,,0,"Remove newton-compat upgrade code on service startup

This upgrade compat check code was marked for removal
in Ocata. Since we're now in Queens, and this is burning
time on every service start, let's remove it.

Change-Id: I8528752630276bd6e2348f27721238115de504cd
Related-Bug: #1722326
(cherry picked from commit 6c630c5e5383ea1cbd5475aad9826bbe2becf364)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/510753/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/service.py', 'cinder/tests/unit/test_service.py']",2,d0dc23fb77b8a7b0496313881434267b0091fb3c,bug/1722326," def test_message_gets_to_manager(self): def test_override_manager_method(self): def test_reset(self): def test_service_enabled_on_create_based_on_flag(self): def test_service_disabled_on_create_based_on_flag(self): svc_id=None, added_to_cluster=True): def test_create_with_cluster_not_upgrading(self): def test_create_svc_exists_upgrade_cluster(self): self._check_app(app, cluster_name, svc_id=db_svc.id, added_to_cluster=cluster_name) def test_report_state_newly_disconnected(self, get_by_id, get_by_args): def test_report_state_disconnected_DBError(self, get_by_id, get_by_args): def test_report_state_newly_connected(self, get_by_id, service_update): def test_report_state_manager_not_working(self): def test_service_with_long_report_interval(self): def test_service_stop_waits_for_rpcserver(self, mock_db, mock_rpc): mock_report): def test_start_rpc_and_init_host_cluster(self, get_min_obj_mock): get_min_obj_mock.return_value = '1.7' self._check_rpc_servers_and_init_host(app, True, cluster) "," @mock.patch('cinder.service.Service.is_svc_upgrading_to_n', return_value=False) def test_message_gets_to_manager(self, is_upgrading_mock): @mock.patch('cinder.service.Service.is_svc_upgrading_to_n', return_value=False) def test_override_manager_method(self, is_upgrading_mock): @mock.patch('cinder.service.Service.is_svc_upgrading_to_n', return_value=False) def test_reset(self, is_upgrading_mock): @mock.patch('cinder.service.Service.is_svc_upgrading_to_n', return_value=False) def test_service_enabled_on_create_based_on_flag(self, is_upgrading_mock=False): @mock.patch('cinder.service.Service.is_svc_upgrading_to_n', return_value=False) def test_service_disabled_on_create_based_on_flag(self, is_upgrading_mock): is_upgrading=False, svc_id=None, added_to_cluster=None): if added_to_cluster is None: added_to_cluster = not is_upgrading @ddt.data(False, True) @mock.patch('cinder.service.Service.is_svc_upgrading_to_n') def test_create(self, is_upgrading, is_upgrading_mock): """"""Test non clustered service creation."""""" is_upgrading_mock.return_value = is_upgrading # NOTE(vish): Create was moved out of mock replay to make sure that # the looping calls are created in StartService. app = service.Service.create(host=self.host, binary=self.binary, topic=self.topic) self._check_app(app, is_upgrading=is_upgrading) @mock.patch('cinder.service.Service.is_svc_upgrading_to_n', return_value=False) def test_create_with_cluster_not_upgrading(self, is_upgrading_mock): @mock.patch('cinder.service.Service.is_svc_upgrading_to_n', return_value=True) def test_create_with_cluster_upgrading(self, is_upgrading_mock): """"""Test that we don't create the cluster while we are upgrading."""""" cluster_name = 'cluster' app = service.Service.create(host=self.host, binary=self.binary, cluster=cluster_name, topic=self.topic) self._check_app(app, cluster_name, cluster_exists=False, is_upgrading=True) @mock.patch('cinder.service.Service.is_svc_upgrading_to_n', return_value=False) def test_create_svc_exists_upgrade_cluster(self, is_upgrading_mock): self._check_app(app, cluster_name, svc_id=db_svc.id) @mock.patch('cinder.service.Service.is_svc_upgrading_to_n', return_value=True) def test_create_svc_exists_not_upgrade_cluster(self, is_upgrading_mock): """"""Test we don't update cluster_name on cfg change when upgrading."""""" # Create the service in the DB db_svc = db.service_create(context.get_admin_context(), {'host': self.host, 'binary': self.binary, 'topic': self.topic, 'cluster': None}) cluster_name = 'cluster' app = service.Service.create(host=self.host, binary=self.binary, cluster=cluster_name, topic=self.topic) self._check_app(app, cluster_name, cluster_exists=False, is_upgrading=True, svc_id=db_svc.id) @mock.patch('cinder.service.Service.is_svc_upgrading_to_n', return_value=False) def test_report_state_newly_disconnected(self, get_by_id, get_by_args, is_upgrading_mock): @mock.patch('cinder.service.Service.is_svc_upgrading_to_n', return_value=False) def test_report_state_disconnected_DBError(self, get_by_id, get_by_args, is_upgrading_mock): @mock.patch('cinder.service.Service.is_svc_upgrading_to_n', return_value=False) def test_report_state_newly_connected(self, get_by_id, service_update, is_upgrading_mock): @mock.patch('cinder.service.Service.is_svc_upgrading_to_n', return_value=False) def test_report_state_manager_not_working(self, is_upgrading_mock): @mock.patch('cinder.service.Service.is_svc_upgrading_to_n', return_value=False) def test_service_with_long_report_interval(self, is_upgrading_mock): @mock.patch('cinder.service.Service.is_svc_upgrading_to_n', return_value=False) def test_service_stop_waits_for_rpcserver(self, mock_db, mock_rpc, is_upgrading_mock): @mock.patch('cinder.service.Service.is_svc_upgrading_to_n', return_value=False) mock_report, is_upgrading_mock): @ddt.data('1.3', '1.7') def test_start_rpc_and_init_host_cluster(self, obj_version, get_min_obj_mock): get_min_obj_mock.return_value = obj_version self._check_rpc_servers_and_init_host(app, obj_version != '1.3', cluster) @mock.patch('cinder.service.Service.is_svc_upgrading_to_n', mock.Mock(return_value=False)) @mock.patch('cinder.service.Service.is_svc_upgrading_to_n', mock.Mock(return_value=False)) @mock.patch('cinder.service.Service.is_svc_upgrading_to_n', mock.Mock(return_value=False)) @mock.patch('cinder.service.Service.is_svc_upgrading_to_n', mock.Mock(return_value=False)) @mock.patch('cinder.service.Service.is_svc_upgrading_to_n', mock.Mock(return_value=False))",29,145
openstack%2Fcinder~master~I0aaf2775d3fe1d54e64be3616a0a528e452cfa50,openstack/cinder,master,I0aaf2775d3fe1d54e64be3616a0a528e452cfa50,Update tenant to project in cli quota doc,MERGED,2017-09-15 07:08:25.000000000,2018-02-25 14:51:31.000000000,2017-11-06 03:15:47.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25456}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-15 07:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/19f370c067505076b9b9151d19e8481ba69eaa0b', 'message': 'Update tenant to project in cli quota doc\n\nReplace tenant with project and keep the descriptions consistent\n\nChange-Id: I0aaf2775d3fe1d54e64be3616a0a528e452cfa50\n'}, {'number': 2, 'created': '2017-10-10 01:18:04.000000000', 'files': ['doc/source/cli/cli-cinder-quotas.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/55ac1ba1afaab3f82136ef91b33be5b0302329dc', 'message': 'Update tenant to project in cli quota doc\n\nReplace tenant with project and keep the descriptions consistent\n\nChange-Id: I0aaf2775d3fe1d54e64be3616a0a528e452cfa50\n'}]",0,504353,55ac1ba1afaab3f82136ef91b33be5b0302329dc,57,35,2,25111,,,0,"Update tenant to project in cli quota doc

Replace tenant with project and keep the descriptions consistent

Change-Id: I0aaf2775d3fe1d54e64be3616a0a528e452cfa50
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/504353/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/cli/cli-cinder-quotas.rst'],1,19f370c067505076b9b9151d19e8481ba69eaa0b,up_cli_quota_doc," $ PROJECT_ID=$(openstack project show -f value -c id PROJECT_NAME) $ openstack quota show --default $PROJECT_ID quotas. You can use `$PROJECT_ID` or `$PROJECT_NAME` arguments to show Block Storage service quotas. If the `$PROJECT_ID` argument returns errors in locating resources, use `$PROJECT_NAME`. $ openstack quota show $PROJECT_ID $ cinder quota-usage $PROJECT_ID $ openstack quota set --volumes 15 $PROJECT_ID $ openstack quota show $PROJECT_ID $ cinder quota-delete $PROJECT_ID"," $ project_id=$(openstack project show -f value -c id PROJECT_NAME) $ openstack quota show --default $OS_TENANT_ID quotas. You can use `PROJECT_ID` or `$OS_TENANT_NAME` arguments to show Block Storage service quotas. If the `PROJECT_ID` argument returns errors in locating resources, use `$OS_TENANT_NAME`. $ openstack quota show $OS_TENANT_ID $ cinder quota-usage $project_id $ openstack quota set --volumes 15 $project_id $ openstack quota show $project_id $ cinder quota-delete PROJECT_ID",10,10
openstack%2Fcinder~master~I7452bb2952459dca8cf0baf39fa76e0e39ad2ffd,openstack/cinder,master,I7452bb2952459dca8cf0baf39fa76e0e39ad2ffd,Do not load extendable routes for the Versions router,MERGED,2017-10-09 18:35:15.000000000,2018-02-25 14:51:30.000000000,2017-10-10 02:43:43.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}]","[{'number': 1, 'created': '2017-10-09 18:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eab57de78dc0966c5d1355ade510c3b58cf08971', 'message': 'Do not load extendable routes for the Versions router\n\nThe Versions router is implicitly spending time loading\nup extension routes on startup which is unnecessary since\nthe Versions router only cares about handling requests to\n""/"" on the base endpoint.\n\nChange-Id: I7452bb2952459dca8cf0baf39fa76e0e39ad2ffd\nPartial-Bug: #1722326\n'}, {'number': 2, 'created': '2017-10-09 21:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ad0c7e68b82a5d47e064fa31d7804296e7bd847b', 'message': 'Do not load extendable routes for the Versions router\n\nThe Versions router is implicitly spending time loading\nup extension routes on startup which is unnecessary since\nthe Versions router only cares about handling requests to\n""/"" on the base endpoint.\n\nChange-Id: I7452bb2952459dca8cf0baf39fa76e0e39ad2ffd\nPartial-Bug: #1722326\n'}, {'number': 3, 'created': '2017-10-09 21:21:13.000000000', 'files': ['cinder/api/versions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/abeb81029026dd623f4b132fe6870af40cd97ed1', 'message': 'Do not load extendable routes for the Versions router\n\nThe Versions router is implicitly spending time loading\nup extension routes on startup which is unnecessary since\nthe Versions router only cares about handling requests to\n""/"" on the base endpoint.\n\nChange-Id: I7452bb2952459dca8cf0baf39fa76e0e39ad2ffd\nPartial-Bug: #1722326\n'}]",0,510653,abeb81029026dd623f4b132fe6870af40cd97ed1,44,28,3,6873,,,0,"Do not load extendable routes for the Versions router

The Versions router is implicitly spending time loading
up extension routes on startup which is unnecessary since
the Versions router only cares about handling requests to
""/"" on the base endpoint.

Change-Id: I7452bb2952459dca8cf0baf39fa76e0e39ad2ffd
Partial-Bug: #1722326
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/510653/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/versions.py'],1,eab57de78dc0966c5d1355ade510c3b58cf08971,bug/1722326," def _setup_ext_routes(self, mapper, ext_mgr): # NOTE(mriedem): The version router doesn't care about extensions. pass ",,4,0
openstack%2Fcinder~master~Ic4c7fd66858039db3f9d09a0babd5601b25a95e3,openstack/cinder,master,Ic4c7fd66858039db3f9d09a0babd5601b25a95e3,Brocade: Add HTTP connection cleanup,MERGED,2017-10-03 21:35:16.000000000,2018-02-25 14:51:21.000000000,2017-10-09 03:12:26.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 8757}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-03 21:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4cd24ab17627ca79cd8ef7e630b56468f9850878', 'message': 'Brocade: Add HTTP connection cleanup\n\nMethod for get device mapping opens\nconnection to the switch but does not\nclose the connection.  Add finally\nblock to close the session.\n\nCloses Bug: #1718762\n\nChange-Id: Ic4c7fd66858039db3f9d09a0babd5601b25a95e3\n'}, {'number': 2, 'created': '2017-10-04 18:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/06a973364ac50b68abc0a5462e193490c6fefd60', 'message': 'Brocade: Add HTTP connection cleanup\n\nMethod for get device mapping opens\nconnection to the switch but does not\nclose the connection.  Add finally\nblock to close the session.\n\nCloses Bug: #1718762\n\nChange-Id: Ic4c7fd66858039db3f9d09a0babd5601b25a95e3\n'}, {'number': 3, 'created': '2017-10-04 18:40:12.000000000', 'files': ['cinder/zonemanager/drivers/brocade/brcd_fc_san_lookup_service.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4dd33f7e502cd5e91bed78bfa62ee38bc5434697', 'message': 'Brocade: Add HTTP connection cleanup\n\nMethod for get device mapping opens\nconnection to the switch but does not\nclose the connection.  Add finally\nblock to close the session.\n\nCloses Bug: #1718762\n\nChange-Id: Ic4c7fd66858039db3f9d09a0babd5601b25a95e3\n'}]",2,509292,4dd33f7e502cd5e91bed78bfa62ee38bc5434697,140,37,3,8757,,,0,"Brocade: Add HTTP connection cleanup

Method for get device mapping opens
connection to the switch but does not
close the connection.  Add finally
block to close the session.

Closes Bug: #1718762

Change-Id: Ic4c7fd66858039db3f9d09a0babd5601b25a95e3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/92/509292/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/zonemanager/drivers/brocade/brcd_fc_san_lookup_service.py'],1,4cd24ab17627ca79cd8ef7e630b56468f9850878,bug/1718762, 1.2 - Fix open sessions issue finally: conn.cleanup(),,3,0
openstack%2Fcinder~master~I48398331fe086760a88bd5ca4c0f28f90e22bd0b,openstack/cinder,master,I48398331fe086760a88bd5ca4c0f28f90e22bd0b,Dell EMC PS: Fix extend volume creating unmanaged snapsots,MERGED,2017-10-02 21:27:53.000000000,2018-02-25 14:50:24.000000000,2017-10-09 23:38:58.000000000,"[{'_account_id': 3}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12112}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-02 21:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0a3ede3284c86dcda81d335e284454f8646ad671', 'message': ""Dell EMC Ps: Fix extend volume creating unmanaged snapsots\n\nThe Dell EMC PS driver's extend volume code is missing the\nno-snap option and creates unmanaged snapshots in the background.\nAdded that option to fix it.\n\nCloses Bug: #1720454\n\nChange-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b\n""}, {'number': 2, 'created': '2017-10-02 21:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0965a6a8269522e794de22f013cf590783e6df61', 'message': ""Dell EMC Ps: Fix extend volume creating unmanaged snapsots\n\nThe Dell EMC PS driver's extend volume code is missing the\nno-snap option and creates unmanaged snapshots in the background.\nAdded that option to fix it.\n\nCloses Bug: #1720454\n\nChange-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b\n""}, {'number': 3, 'created': '2017-10-02 21:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3847f654a6018f795b0c838d79d03a9a77983bec', 'message': ""Dell EMC Ps: Fix extend volume creating unmanaged snapsots\n\nThe Dell EMC PS driver's extend volume code is missing the\nno-snap option and creates unmanaged snapshots in the background.\nAdded that option to fix it.\n\nCloses Bug: #1720454\n\nChange-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b\n""}, {'number': 4, 'created': '2017-10-03 19:32:06.000000000', 'files': ['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-extend_volume-no-snap-8aa447c50f2475a7.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0910706e762cec88a2b53e82bd7e6a1c372163b9', 'message': ""Dell EMC PS: Fix extend volume creating unmanaged snapsots\n\nThe Dell EMC PS driver's extend volume code is missing the\nno-snap option and creates unmanaged snapshots in the background.\nAdded that option to fix it.\n\nCloses Bug: #1720454\n\nChange-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b\n""}]",10,509006,0910706e762cec88a2b53e82bd7e6a1c372163b9,85,41,4,10379,,,0,"Dell EMC PS: Fix extend volume creating unmanaged snapsots

The Dell EMC PS driver's extend volume code is missing the
no-snap option and creates unmanaged snapshots in the background.
Added that option to fix it.

Closes Bug: #1720454

Change-Id: I48398331fe086760a88bd5ca4c0f28f90e22bd0b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/06/509006/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-extend_volume-no-snap-8aa447c50f2475a7.yaml']",2,0a3ede3284c86dcda81d335e284454f8646ad671,bug/1720454,--- fixes: - Dell EMC PS Series Driver was creating unmanaged snapshots when extending volumes. Fixed it my adding the missing no-snap parameter. This changes fixes bug 1720454. ,,8,2
openstack%2Fcinder~master~I0c1593a72473f0db5fb8b5e4d436fee4c9f5c62a,openstack/cinder,master,I0c1593a72473f0db5fb8b5e4d436fee4c9f5c62a,Doc: Configuration: Remove some outdated Ceph info,MERGED,2017-10-03 15:27:02.000000000,2018-02-25 14:50:10.000000000,2017-10-06 05:49:18.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-03 15:27:02.000000000', 'files': ['doc/source/configuration/block-storage/drivers/ceph-rbd-volume-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e4dfc98378cfbf64745039b96ad5ddd140d1fffb', 'message': 'Doc: Configuration: Remove some outdated Ceph info\n\nA few small cleanups:\n  - Remove irrelevant text about linux kernel\n  - Remove recommendations about file systems\n  - Remove outdated note about config option\n\nCloses-Bug: #1716991\nChange-Id: I0c1593a72473f0db5fb8b5e4d436fee4c9f5c62a\n'}]",0,509207,e4dfc98378cfbf64745039b96ad5ddd140d1fffb,37,29,1,4523,,,0,"Doc: Configuration: Remove some outdated Ceph info

A few small cleanups:
  - Remove irrelevant text about linux kernel
  - Remove recommendations about file systems
  - Remove outdated note about config option

Closes-Bug: #1716991
Change-Id: I0c1593a72473f0db5fb8b5e4d436fee4c9f5c62a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/509207/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/ceph-rbd-volume-driver.rst'],1,e4dfc98378cfbf64745039b96ad5ddd140d1fffb,bug/1716991,"self-managing, and has no single point of failure. Due to its open-source nature, you can install and use this portable storage platform in public or private clouds. purposes, pool your hard drive disk with raid arrays, or logical volume management (LVM). By default, the following pools are created: data, metadata, and RBD.","self-managing, and has no single point of failure. Ceph is in the Linux kernel and is integrated with the OpenStack cloud operating system. Due to its open-source nature, you can install and use this portable storage platform in public or private clouds. purposes, pool your hard drive disk with raid arrays, logical volume management (LVM), or B-tree file system (Btrfs) pooling. By default, the following pools are created: data, metadata, and RBD.Ceph developers recommend XFS for production deployments, Btrfs for testing, development, and any non-critical deployments. Btrfs has the correct feature set and roadmap to serve Ceph in the long-term, but XFS and ext4 provide the necessary stability for todays deployments. .. note:: If using Btrfs, ensure that you use the correct version (see `Ceph Dependencies <http://ceph.com/docs/master/start/os-recommendations/.>`__). For more information about usable file systems, see `ceph.com/ceph-storage/file-system/ <http://ceph.com/ceph-storage/file-system/>`__. .. note:: The ``volume_tmp_dir`` option has been deprecated and replaced by ``image_conversion_dir``. ",6,25
openstack%2Fcinder~stable%2Fpike~I78e552998e822fff37fb2c7cf890ebab65d9291f,openstack/cinder,stable/pike,I78e552998e822fff37fb2c7cf890ebab65d9291f,Do not fail if RBD image is broken,MERGED,2017-10-02 13:10:11.000000000,2018-02-25 14:50:03.000000000,2017-10-05 08:57:20.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 13144}, {'_account_id': 13636}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-02 13:10:11.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/225618bf0ca38d70f45c1aa97acd491cce43e8a1', 'message': 'Do not fail if RBD image is broken\n\nChange-Id: I78e552998e822fff37fb2c7cf890ebab65d9291f\nCloses-Bug: #1698786\n(cherry picked from commit 3e7b9ba546c8cac7bac2ed3d9d985cad0d166313)\n'}]",0,508873,225618bf0ca38d70f45c1aa97acd491cce43e8a1,41,21,1,13636,,,0,"Do not fail if RBD image is broken

Change-Id: I78e552998e822fff37fb2c7cf890ebab65d9291f
Closes-Bug: #1698786
(cherry picked from commit 3e7b9ba546c8cac7bac2ed3d9d985cad0d166313)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/73/508873/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py']",2,225618bf0ca38d70f45c1aa97acd491cce43e8a1,bug/1698786-stable/pike," @ddt.data({'image_size': [1, 1], 'total_usage': 2}, {'image_size': MockImageNotFoundException, 'total_usage': 0}) @ddt.unpack @mock.patch.object(driver, 'RADOSClient') @mock.patch.object(driver, 'RBDVolumeProxy') def test__get_usage_info(self, volume_proxy, mock_rados_client, image_size, total_usage): class FakeRBDProxy(object): def list(self, ioctx): return ['volume-1', 'volume-2'] def diff_iterate(offset, length, from_snapshot, iterate_cb): self.driver._iterate_cb(offset, length, True) self.driver._total_usage = 0 with mock.patch.object(self.driver, 'RBDProxy') as rbd_proxy: with mock.patch.object(self.driver, 'rbd') as mock_rbd: mock_rbd.ImageNotFound = MockImageNotFoundException proxy_list = mock.Mock() proxy_list.side_effect = ['volume-1', 'volume-2'] rbd_proxy.return_value = FakeRBDProxy() image = volume_proxy.return_value.__enter__.return_value image.size.side_effect = image_size image.diff_iterate.side_effect = diff_iterate self.driver._get_usage_info() self.assertEqual(total_usage, self.driver._total_usage) ",,32,2
openstack%2Fcinder~stable%2Fqueens~Id4cfb7771439940c59b828ea7f1d95bcfe7d1e26,openstack/cinder,stable/queens,Id4cfb7771439940c59b828ea7f1d95bcfe7d1e26,Only enforce multiattach policy for retype target,MERGED,2018-02-20 02:29:17.000000000,2018-02-25 14:49:12.000000000,2018-02-20 16:26:50.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-20 02:29:17.000000000', 'files': ['cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6fb0c066dc97ee46b9399a0049e60600165ecb4c', 'message': 'Only enforce multiattach policy for retype target\n\nWe should only be checking multiattach policy if the target\nof a retype is multiattach capable. If they are already on\na type and policy has changed, we should not block retyping.\n\nChange-Id: Id4cfb7771439940c59b828ea7f1d95bcfe7d1e26\n(cherry picked from commit aea249f3604200ba329c260daed8b1259011f049)\n'}]",0,546019,6fb0c066dc97ee46b9399a0049e60600165ecb4c,23,14,1,11904,,,0,"Only enforce multiattach policy for retype target

We should only be checking multiattach policy if the target
of a retype is multiattach capable. If they are already on
a type and policy has changed, we should not block retyping.

Change-Id: Id4cfb7771439940c59b828ea7f1d95bcfe7d1e26
(cherry picked from commit aea249f3604200ba329c260daed8b1259011f049)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/546019/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/api.py'],1,6fb0c066dc97ee46b9399a0049e60600165ecb4c,bp/multi-attach-v3-attach," # If they are retyping to a multiattach capable, make sure they # are allowed to do so. if tgt_is_multiattach: context.authorize(vol_policy.MULTIATTACH_POLICY)", context.authorize(vol_policy.MULTIATTACH_POLICY),5,1
openstack%2Fcinder~master~Ib0bdeeb01e35196ae862e3bf87e198b004f7403f,openstack/cinder,master,Ib0bdeeb01e35196ae862e3bf87e198b004f7403f,Modify broken link,MERGED,2018-01-22 09:12:03.000000000,2018-02-25 14:48:46.000000000,2018-02-21 19:37:36.000000000,"[{'_account_id': 170}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 18883}, {'_account_id': 19844}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23303}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25571}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27386}, {'_account_id': 27702}]","[{'number': 1, 'created': '2018-01-22 09:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/79f4e93630d451a107d27ca3bec2d5f56d18ad3b', 'message': 'Remove unreachable link\n\nChange-Id: Ib0bdeeb01e35196ae862e3bf87e198b004f7403f\n'}, {'number': 2, 'created': '2018-01-23 00:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/613f2aa1000210dfd46567755e70f6faeb1de2b7', 'message': 'Remove unreachable link\n\nChange-Id: Ib0bdeeb01e35196ae862e3bf87e198b004f7403f\n'}, {'number': 3, 'created': '2018-01-23 00:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/430d806858066dd0cf48b762a927e56d4d16656b', 'message': 'Modify broken link\n\nChange-Id: Ib0bdeeb01e35196ae862e3bf87e198b004f7403f\n'}, {'number': 4, 'created': '2018-01-23 05:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/552a02dbe11a7dd4a746eb8f89b419638808ebf9', 'message': 'Modify broken link\n\nMerge broken link from[1]\n[1]https://review.openstack.org/#/c/536261/\nChange-Id: Ib0bdeeb01e35196ae862e3bf87e198b004f7403f\n'}, {'number': 5, 'created': '2018-02-14 21:17:38.000000000', 'files': ['doc/source/configuration/block-storage/drivers/kaminario-driver.rst', 'doc/source/configuration/block-storage/drivers/ceph-rbd-volume-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3b307ebe3e58efdd96499fb16e7bbaa8e7e85bb5', 'message': 'Modify broken link\n\nFix a couple dead links.\n\nChange-Id: Ib0bdeeb01e35196ae862e3bf87e198b004f7403f\n'}]",2,536265,3b307ebe3e58efdd96499fb16e7bbaa8e7e85bb5,167,43,5,27386,,,0,"Modify broken link

Fix a couple dead links.

Change-Id: Ib0bdeeb01e35196ae862e3bf87e198b004f7403f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/65/536265/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/kaminario-driver.rst'],1,79f4e93630d451a107d27ca3bec2d5f56d18ad3b,linkcheck, See following link for more information:, See following links for more information: `<https://docs.openstack.org/cinder/latest/scheduler-filters.html>`_,1,2
openstack%2Fcinder~stable%2Fpike~I4a59ed298ba2542dcb4d6787b47085749a34244e,openstack/cinder,stable/pike,I4a59ed298ba2542dcb4d6787b47085749a34244e,Improve logs on scheduler,MERGED,2018-02-13 12:16:37.000000000,2018-02-25 14:48:44.000000000,2018-02-17 11:53:00.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-13 12:16:37.000000000', 'files': ['cinder/scheduler/filters/capacity_filter.py', 'cinder/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/425dac98c3156a3e7bc0aa57db67b1477bd529c9', 'message': 'Improve logs on scheduler\n\nScheduler decisions still not easy to track due lacking of information\nabout backends and pools. This adds more verbose information on that\nso we can have a better means to help debug problems.\n\nTrivialFix\n\nChange-Id: I4a59ed298ba2542dcb4d6787b47085749a34244e\n(cherry picked from commit 9c4cd4a2d75d36145f68e08d3aa28f9a45a68f48)\n'}]",1,543912,425dac98c3156a3e7bc0aa57db67b1477bd529c9,23,19,1,10058,,,0,"Improve logs on scheduler

Scheduler decisions still not easy to track due lacking of information
about backends and pools. This adds more verbose information on that
so we can have a better means to help debug problems.

TrivialFix

Change-Id: I4a59ed298ba2542dcb4d6787b47085749a34244e
(cherry picked from commit 9c4cd4a2d75d36145f68e08d3aa28f9a45a68f48)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/12/543912/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/filters/capacity_filter.py', 'cinder/scheduler/host_manager.py']",2,425dac98c3156a3e7bc0aa57db67b1477bd529c9,rebase-logs-pike," LOG.debug(""Consumed %s GB from backend: %s"", volume['size'], self) return (""%(grouping)s '%(grouping_name)s':"" ""free_capacity_gb: %(free_capacity_gb)s, "" ""total_capacity_gb: %(total_capacity_gb)s,"" ""allocated_capacity_gb: %(allocated_capacity_gb)s, "" ""max_over_subscription_ratio: %(mosr)s,"" ""reserved_percentage: %(reserved_percentage)s, "" ""provisioned_capacity_gb: %(provisioned_capacity_gb)s,"" ""thin_provisioning_support: %(thin_provisioning_support)s, "" ""thick_provisioning_support: %(thick)s,"" ""pools: %(pools)s,"" ""updated at: %(updated)s"" % {'grouping': grouping, 'grouping_name': grouping_name, 'free_capacity_gb': self.free_capacity_gb, 'total_capacity_gb': self.total_capacity_gb, 'allocated_capacity_gb': self.allocated_capacity_gb, 'mosr': self.max_over_subscription_ratio, 'reserved_percentage': self.reserved_percentage, 'provisioned_capacity_gb': self.provisioned_capacity_gb, 'thin_provisioning_support': self.thin_provisioning_support, 'thick': self.thick_provisioning_support, 'pools': self.pools, 'updated': self.updated})"," return (""%s '%s': free_capacity_gb: %s, pools: %s"" % (grouping, grouping_name, self.free_capacity_gb, self.pools))",33,7
openstack%2Fcinder~stable%2Fqueens~I18a4bdf416f739b400e19e073ea7317034d2e211,openstack/cinder,stable/queens,I18a4bdf416f739b400e19e073ea7317034d2e211,Update .gitreview for stable/queens,MERGED,2018-02-08 17:26:59.000000000,2018-02-25 14:48:27.000000000,2018-02-08 20:37:32.000000000,"[{'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-08 17:26:59.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d02b6894f50f07ebd6f4e424f2438e58c234630d', 'message': 'Update .gitreview for stable/queens\n\nChange-Id: I18a4bdf416f739b400e19e073ea7317034d2e211\n'}]",0,542336,d02b6894f50f07ebd6f4e424f2438e58c234630d,22,18,1,22816,,,0,"Update .gitreview for stable/queens

Change-Id: I18a4bdf416f739b400e19e073ea7317034d2e211
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/542336/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,d02b6894f50f07ebd6f4e424f2438e58c234630d,create-queens,defaultbranch=stable/queens,,1,0
openstack%2Fcinder~master~I1a1d02a1407926c22fbadcc1049434e24b92549b,openstack/cinder,master,I1a1d02a1407926c22fbadcc1049434e24b92549b,Use provider_id for SolidFire Volume lookups,MERGED,2018-01-18 18:56:09.000000000,2018-02-25 14:48:23.000000000,2018-02-08 00:09:24.000000000,"[{'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 23950}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-18 18:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d0dc59a15b01dcc3102931685ed64cf68275ff1', 'message': ""Use provider_id for SolidFire Volume lookups\n\nOver the years the various iterations of volume-get in the SolidFire\ndriver has gotten a bit redundant.  The biggest problem with all of\nthese changes comes in when we start dealing with things like managed\nvolumes, most of the methods we have in place expect the volume-name\non the SolidFire backend to match the cinder UUID.\n\nIn the case of manage, migrate and some other cases however, this\nisn't a valid assumption.  SolidFire doesn't allow changing the name\nof an existing volume.  You're only choice in that case is to clone\nor copy to a new volume, but that's terribly heavy weight in this case.\n\nSo, what we need to do is harden the volume_get method a bit.  We\nwant to do a better job here, first by attempting to use the provider_id\ninfo that's stored with a volume, from there we can try some failback\nmethods like looking for name:uuid map and finally checking attributes.\n\nThis should make things much more efficient for delete calls, and fix\nthe current bug due to imported volumes not having the cinder-uuid as\nthe name.\n\nWe need to do some follow up work and consolidate all of these get calls,\nbut for now we just fix the recently reported bug.\n\nChange-Id: I1a1d02a1407926c22fbadcc1049434e24b92549b\nCloses-Bug: #1744005\n""}, {'number': 2, 'created': '2018-02-07 20:21:37.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3b7a2ba47a2b711ff0f356788e41446a0f58bdca', 'message': ""Use provider_id for SolidFire Volume lookups\n\nOver the years the various iterations of volume-get in the SolidFire\ndriver has gotten a bit redundant.  The biggest problem with all of\nthese changes comes in when we start dealing with things like managed\nvolumes, most of the methods we have in place expect the volume-name\non the SolidFire backend to match the cinder UUID.\n\nIn the case of manage, migrate and some other cases however, this\nisn't a valid assumption.  SolidFire doesn't allow changing the name\nof an existing volume.  You're only choice in that case is to clone\nor copy to a new volume, but that's terribly heavy weight in this case.\n\nSo, what we need to do is harden the volume_get method a bit.  We\nwant to do a better job here, first by attempting to use the provider_id\ninfo that's stored with a volume, from there we can try some failback\nmethods like looking for name:uuid map and finally checking attributes.\n\nThis should make things much more efficient for delete calls, and fix\nthe current bug due to imported volumes not having the cinder-uuid as\nthe name.\n\nWe need to do some follow up work and consolidate all of these get calls,\nbut for now we just fix the recently reported bug.\n\nChange-Id: I1a1d02a1407926c22fbadcc1049434e24b92549b\nCloses-Bug: #1744005\n""}]",2,535449,3b7a2ba47a2b711ff0f356788e41446a0f58bdca,74,38,2,2243,,,0,"Use provider_id for SolidFire Volume lookups

Over the years the various iterations of volume-get in the SolidFire
driver has gotten a bit redundant.  The biggest problem with all of
these changes comes in when we start dealing with things like managed
volumes, most of the methods we have in place expect the volume-name
on the SolidFire backend to match the cinder UUID.

In the case of manage, migrate and some other cases however, this
isn't a valid assumption.  SolidFire doesn't allow changing the name
of an existing volume.  You're only choice in that case is to clone
or copy to a new volume, but that's terribly heavy weight in this case.

So, what we need to do is harden the volume_get method a bit.  We
want to do a better job here, first by attempting to use the provider_id
info that's stored with a volume, from there we can try some failback
methods like looking for name:uuid map and finally checking attributes.

This should make things much more efficient for delete calls, and fix
the current bug due to imported volumes not having the cinder-uuid as
the name.

We need to do some follow up work and consolidate all of these get calls,
but for now we just fix the recently reported bug.

Change-Id: I1a1d02a1407926c22fbadcc1049434e24b92549b
Closes-Bug: #1744005
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/535449/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py']",2,9d0dc59a15b01dcc3102931685ed64cf68275ff1,bug/1744005," get_vol_result = {'volumeID': 5, 'name': 'test_volume', 'accountID': 25, 'sliceCount': 1, 'totalSize': 1 * units.Gi, 'enable512e': True, 'access': ""readWrite"", 'status': ""active"", 'attributes': {}, 'qos': None, 'iqn': 'super_fake_iqn'} '_get_sfvol_by_cinder_vref', rem_vol.assert_called_with(get_vol_result['volumeID'])"," get_vol_result = [{'volumeID': 5, 'name': 'test_volume', 'accountID': 25, 'sliceCount': 1, 'totalSize': 1 * units.Gi, 'enable512e': True, 'access': ""readWrite"", 'status': ""active"", 'attributes': {}, 'qos': None, 'iqn': 'super_fake_iqn'}] '_get_volumes_for_account', rem_vol.assert_called_with(get_vol_result[0]['volumeID'])",73,55
openstack%2Fcinder~master~Id9905728f0f68df2847b7b71cb76d89a205deea0,openstack/cinder,master,Id9905728f0f68df2847b7b71cb76d89a205deea0,Fix wrong grammar,MERGED,2018-01-31 09:37:04.000000000,2018-02-25 14:47:57.000000000,2018-02-02 05:51:50.000000000,"[{'_account_id': 9008}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12988}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-31 09:37:04.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_ds8k_proxy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/23d657d357fd752e9326510e151d55e4ab2cd986', 'message': ""Fix wrong grammar\n\nModify 'should has' to 'should have'\n\nChange-Id: Id9905728f0f68df2847b7b71cb76d89a205deea0\n""}]",0,539475,23d657d357fd752e9326510e151d55e4ab2cd986,34,29,1,27346,,,0,"Fix wrong grammar

Modify 'should has' to 'should have'

Change-Id: Id9905728f0f68df2847b7b71cb76d89a205deea0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/539475/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/ibm/test_ds8k_proxy.py'],1,23d657d357fd752e9326510e151d55e4ab2cd986,wronggramar," """"""lss_range_for_cg should have the right format."""""""," """"""lss_range_for_cg should has the right format.""""""",1,1
openstack%2Fcinder~driverfixes%2Fnewton~I2099b804a2043078e50a5a9e14c1497861576f61,openstack/cinder,driverfixes/newton,I2099b804a2043078e50a5a9e14c1497861576f61,Kaminario K2: Support duplicated FQDN in network,MERGED,2017-11-24 06:54:43.000000000,2018-02-25 14:47:50.000000000,2018-01-31 01:48:16.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 16258}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21767}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-11-24 06:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e617f879fe63d979b47bac5f66a389627b05c456', 'message': 'Kaminario K2: Support duplicated FQDN in network\n\nThe Kaminario K2 driver uses the FQDN of the node that is doing the\nattach as an unique identifier to map the volume.\n\nThe problem is that the FQDN is not always unique, there are\nenvironments where the same FQDN can be found in different systems, and\nin those cases if both try to attach volumes the second system will\nfail.\n\nOne example of this happening would be on a QA environment where you are\ncreating VMs and they all have names like controller-0.localdomain and\ncompute-0.localdomain.\n\nThis patch adds a configuration option to the K2 driver called\n`unique_fqdn_network` to support these kind of environments.\n\nCloses-Bug: #1720147\nChange-Id: I2099b804a2043078e50a5a9e14c1497861576f61\n(cherry picked from commit baa8626eac9c975b719c03274d42b54ce3de74fe)\n'}, {'number': 2, 'created': '2018-01-17 06:41:14.000000000', 'files': ['releasenotes/notes/k2-non-unique-fqdns-b62a269a26fd53d5.yaml', 'cinder/tests/unit/volume/drivers/test_kaminario.py', 'cinder/volume/drivers/kaminario/kaminario_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c527e89be9f5ec5c9ca66590b25659c8e191facc', 'message': 'Kaminario K2: Support duplicated FQDN in network\n\nThe Kaminario K2 driver uses the FQDN of the node that is doing the\nattach as an unique identifier to map the volume.\n\nThe problem is that the FQDN is not always unique, there are\nenvironments where the same FQDN can be found in different systems, and\nin those cases if both try to attach volumes the second system will\nfail.\n\nOne example of this happening would be on a QA environment where you are\ncreating VMs and they all have names like controller-0.localdomain and\ncompute-0.localdomain.\n\nThis patch adds a configuration option to the K2 driver called\n`unique_fqdn_network` to support these kind of environments.\n\nCloses-Bug: #1720147\nChange-Id: I2099b804a2043078e50a5a9e14c1497861576f61\n(cherry picked from commit baa8626eac9c975b719c03274d42b54ce3de74fe)\n'}]",0,522722,c527e89be9f5ec5c9ca66590b25659c8e191facc,44,22,2,16258,,,0,"Kaminario K2: Support duplicated FQDN in network

The Kaminario K2 driver uses the FQDN of the node that is doing the
attach as an unique identifier to map the volume.

The problem is that the FQDN is not always unique, there are
environments where the same FQDN can be found in different systems, and
in those cases if both try to attach volumes the second system will
fail.

One example of this happening would be on a QA environment where you are
creating VMs and they all have names like controller-0.localdomain and
compute-0.localdomain.

This patch adds a configuration option to the K2 driver called
`unique_fqdn_network` to support these kind of environments.

Closes-Bug: #1720147
Change-Id: I2099b804a2043078e50a5a9e14c1497861576f61
(cherry picked from commit baa8626eac9c975b719c03274d42b54ce3de74fe)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/522722/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/k2-non-unique-fqdns-b62a269a26fd53d5.yaml', 'cinder/tests/unit/volume/drivers/test_kaminario.py', 'cinder/volume/drivers/kaminario/kaminario_common.py']",3,e617f879fe63d979b47bac5f66a389627b05c456,bug/1720147," ""on setting this option as True.""), cfg.BoolOpt('unique_fqdn_network', default=True, help=""Whether or not our private network has unique FQDN on "" ""each initiator or not. For example networks with QA "" ""systems usually have multiple servers/VMs with the same "" ""FQDN. When true this will create host entries on K2 "" ""using the FQDN, when false it will use the reversed "" ""IQN/WWNN.""), ] """"""Return the initiator host name or unique ID. Unique ID when configuration's unique_fqdn_network is false will be the reversed IQN/WWPNS. name = connector.get('initiator', connector.get('wwnns', [''])[0])[::-1] if self.configuration.unique_fqdn_network: name = connector.get('host', name) return re.sub('[^0-9a-zA-Z-_]', '_', name[:32])"," ""on setting this option as True."")] """"""Return the initiator host name. return re.sub('[^0-9a-zA-Z-_]', '_', connector.get('host', ''))[:32]",46,3
openstack%2Fcinder~driverfixes%2Focata~Iddf2908ab28825a9082989cb1392ba59379f4bf5,openstack/cinder,driverfixes/ocata,Iddf2908ab28825a9082989cb1392ba59379f4bf5,VMAX driver Ocata - backward compatibility fix,MERGED,2018-01-24 16:57:18.000000000,2018-02-25 14:47:43.000000000,2018-02-02 05:35:51.000000000,"[{'_account_id': 1736}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12822}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23414}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-01-24 16:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c2488339ff13832b12a33714afc3bf23c6ab4410', 'message': 'VMAX driver Ocata - backward compatibility fix\n\nLaunchpad 1401297 breaks backward compatibility with Newton. This\nfixes the issue by checking for the existence of the uuid within\nthe ElementName rather than a full equality check\n\nChange-Id: Iddf2908ab28825a9082989cb1392ba59379f4bf5\nCloses-Bug: #1745183\n'}, {'number': 2, 'created': '2018-01-24 17:27:07.000000000', 'files': ['cinder/volume/drivers/dell_emc/vmax/fc.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/iscsi.py', 'cinder/volume/drivers/dell_emc/vmax/common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/043d7e21f06c1b938c3caf625ee849d2b9530abc', 'message': 'VMAX driver Ocata - backward compatibility fix\n\nLaunchpad 1401297 breaks backward compatibility with Newton. This\nfixes the issue by checking for the existence of the uuid within\nthe ElementName rather than a full equality check\n\nChange-Id: Iddf2908ab28825a9082989cb1392ba59379f4bf5\nCloses-Bug: #1745183\n'}]",0,537454,043d7e21f06c1b938c3caf625ee849d2b9530abc,24,17,2,12670,,,0,"VMAX driver Ocata - backward compatibility fix

Launchpad 1401297 breaks backward compatibility with Newton. This
fixes the issue by checking for the existence of the uuid within
the ElementName rather than a full equality check

Change-Id: Iddf2908ab28825a9082989cb1392ba59379f4bf5
Closes-Bug: #1745183
",git fetch https://review.opendev.org/openstack/cinder refs/changes/54/537454/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py']",2,c2488339ff13832b12a33714afc3bf23c6ab4410,bug/1745183, if not (foundVolumeinstance['ElementName'] in volumeElementName): if not (foundVolumeinstance['ElementName'] in targetVolName):, if not (volumeElementName == foundVolumeinstance['ElementName']): if not (targetVolName == foundVolumeinstance['ElementName']):,50,4
openstack%2Fcinder~stable%2Fpike~I677a8e39de4292fe4fa8e70d7b6ae2fc3d5cf2ac,openstack/cinder,stable/pike,I677a8e39de4292fe4fa8e70d7b6ae2fc3d5cf2ac,Fix Backup uses latest req-id for all log calls,MERGED,2018-01-23 23:03:28.000000000,2018-02-25 14:47:23.000000000,2018-01-26 12:41:06.000000000,"[{'_account_id': 1736}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12822}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22255}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-23 23:03:28.000000000', 'files': ['cinder/cmd/backup.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/06fb04a040db7a90f19fea8d3b928fbba5cf9582', 'message': ""Fix Backup uses latest req-id for all log calls\n\nCurrently all log entries will have the request ID of the latest request\nthat was received in the Backup service.\n\nSo you would receive a request with ID 1 and you would start logging\nthat thread log calls with its ID, but as soon as you receive another\nrequest, let's say with ID 2, you will have both request logging with ID\n2 instead of each one logging with its own request ID.\n\nThe reason for this is that we are monkey patching after we have\nimported OSLO logging and we should be doing the monkey patching before,\nbecause OSLO logging imports OSLO context, which in turn imports\nthreading and defines the _request_store where the context is stored as\nthreading.local, which is not the monkey patched version and therefore\nwill be shared among all the greenthreads that share the same python\nthread.\n\nTo fix this we just move the monkey patching earlier in the imports.\n\nCloses-Bug: #1743461\nChange-Id: I677a8e39de4292fe4fa8e70d7b6ae2fc3d5cf2ac\n(cherry picked from commit 1a569e15c35d772a8ca236d75cd1840a415983d3)\n""}]",0,537001,06fb04a040db7a90f19fea8d3b928fbba5cf9582,22,18,1,9535,,,0,"Fix Backup uses latest req-id for all log calls

Currently all log entries will have the request ID of the latest request
that was received in the Backup service.

So you would receive a request with ID 1 and you would start logging
that thread log calls with its ID, but as soon as you receive another
request, let's say with ID 2, you will have both request logging with ID
2 instead of each one logging with its own request ID.

The reason for this is that we are monkey patching after we have
imported OSLO logging and we should be doing the monkey patching before,
because OSLO logging imports OSLO context, which in turn imports
threading and defines the _request_store where the context is stored as
threading.local, which is not the monkey patched version and therefore
will be shared among all the greenthreads that share the same python
thread.

To fix this we just move the monkey patching earlier in the imports.

Closes-Bug: #1743461
Change-Id: I677a8e39de4292fe4fa8e70d7b6ae2fc3d5cf2ac
(cherry picked from commit 1a569e15c35d772a8ca236d75cd1840a415983d3)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/01/537001/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/cmd/backup.py'],1,06fb04a040db7a90f19fea8d3b928fbba5cf9582,bug/1743461,"# NOTE(geguileo): Monkey patching must go before OSLO.log import, otherwise # OSLO.context will not use greenthread thread local and all greenthreads will # share the same context.eventlet.monkey_patch() ",eventlet.monkey_patch(),5,1
openstack%2Fcinder~master~Ib15a4c06f80dfcfaff2f195ecf0f3afbfb5bfa0b,openstack/cinder,master,Ib15a4c06f80dfcfaff2f195ecf0f3afbfb5bfa0b,Add contributor notes on how to use pdb with tests,MERGED,2018-01-15 22:57:07.000000000,2018-02-25 14:47:21.000000000,2018-01-24 02:40:00.000000000,"[{'_account_id': 4523}, {'_account_id': 5196}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 18058}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23414}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-15 22:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7b9e1b936a2d5aa4b2a62c733c02463518b989a6', 'message': 'Add contributor notes on how to use pdb with tests\n\nChange-Id: Ib15a4c06f80dfcfaff2f195ecf0f3afbfb5bfa0b\n'}, {'number': 2, 'created': '2018-01-23 17:22:50.000000000', 'files': ['doc/source/contributor/testing.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ad397b4dd7e579a71759617e879bbf948d9f9ce9', 'message': 'Add contributor notes on how to use pdb with tests\n\nChange-Id: Ib15a4c06f80dfcfaff2f195ecf0f3afbfb5bfa0b\n'}]",6,533813,ad397b4dd7e579a71759617e879bbf948d9f9ce9,61,36,2,4523,,,0,"Add contributor notes on how to use pdb with tests

Change-Id: Ib15a4c06f80dfcfaff2f195ecf0f3afbfb5bfa0b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/13/533813/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/testing.rst'],1,7b9e1b936a2d5aa4b2a62c733c02463518b989a6,533813," Debugging --------- **Debugging unit tests** It is possible to attach a debugger to unit tests. First, modify the test you want to debug by adding the following to the test code itself: .. code-block:: python import pdb pdb.set_trace() Then run the unit test with pdb enabled: .. code-block:: bash source .tox/py35/bin/activate testr init ostestr --pdb cinder.tests.unit.test_volume_utils",,24,0
openstack%2Fcinder~stable%2Fpike~Ibfd6f40e8b8ab88d4ec76e9ac27617a0f97b6c29,openstack/cinder,stable/pike,Ibfd6f40e8b8ab88d4ec76e9ac27617a0f97b6c29,Move disk space check to run when needed,MERGED,2018-01-22 18:26:38.000000000,2018-02-25 14:47:18.000000000,2018-01-27 15:28:57.000000000,"[{'_account_id': 1004}, {'_account_id': 1736}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12822}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 27552}]","[{'number': 1, 'created': '2018-01-22 18:26:38.000000000', 'files': ['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0e57f89b8b0e3ed39c7fe59ee9b4e5cf3b8711b6', 'message': 'Move disk space check to run when needed\n\nAt the moment, the check for disk space when booting from an image\ncurrently happens regardless if the backend supports cloning or not.\n\nThis means that even if a backend can clone the image directly, the\ncontrol plane must have enough disk to download the entire image\nwhich can be unreasonable in backend such as RBD.\n\nThis patch moves the code which checks for enough disk space to be\nin the same function that effectively downloads the image, ensuring\nthat it only runs when an image has to be downloaded and avoiding\nthe check if the backend successfully cloned the image.\n\nCloses-Bug: #1744383\nChange-Id: Ibfd6f40e8b8ab88d4ec76e9ac27617a0f97b6c29\n(cherry picked from commit f62f8abad17d1c287d48ea273ea4c4fe7f536d07)\n'}]",0,536529,0e57f89b8b0e3ed39c7fe59ee9b4e5cf3b8711b6,37,23,1,1004,,,0,"Move disk space check to run when needed

At the moment, the check for disk space when booting from an image
currently happens regardless if the backend supports cloning or not.

This means that even if a backend can clone the image directly, the
control plane must have enough disk to download the entire image
which can be unreasonable in backend such as RBD.

This patch moves the code which checks for enough disk space to be
in the same function that effectively downloads the image, ensuring
that it only runs when an image has to be downloaded and avoiding
the check if the backend successfully cloned the image.

Closes-Bug: #1744383
Change-Id: Ibfd6f40e8b8ab88d4ec76e9ac27617a0f97b6c29
(cherry picked from commit f62f8abad17d1c287d48ea273ea4c4fe7f536d07)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/29/536529/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py']",2,0e57f89b8b0e3ed39c7fe59ee9b4e5cf3b8711b6,bug/1744383-stable/pike," # NOTE(e0ne): check for free space in image_conversion_dir before # image downloading. # NOTE(mnaser): This check *only* happens if the backend is not able # to clone volumes and we have to resort to downloading # the image from Glance and uploading it. if (CONF.image_conversion_dir and not os.path.exists(CONF.image_conversion_dir)): os.makedirs(CONF.image_conversion_dir) try: image_utils.check_available_space( CONF.image_conversion_dir, image_meta['size'], image_id) except exception.ImageTooBig as err: with excutils.save_and_reraise_exception(): self.message.create( context, message_field.Action.COPY_IMAGE_TO_VOLUME, resource_uuid=volume.id, detail=message_field.Detail.NOT_ENOUGH_SPACE_FOR_IMAGE, exception=err) "," # NOTE(e0ne): check for free space in image_conversion_dir before # image downloading. if (CONF.image_conversion_dir and not os.path.exists(CONF.image_conversion_dir)): os.makedirs(CONF.image_conversion_dir) try: # cinder should not check free space in conversion directory # if it's creating volume from image snapshot (Bug1683228). # If image disk format is other than raw, cinder should # convert it (this means free space check will be needed). if ('cinder' in CONF.allowed_direct_url_schemes and image_meta.get('disk_format') == 'raw'): LOG.debug(""Creating volume from image snapshot. "" ""Skipping free space check on image "" ""convert path."") else: image_utils.check_available_space( CONF.image_conversion_dir, image_meta['size'], image_id) except exception.ImageTooBig as err: with excutils.save_and_reraise_exception(): self.message.create( context, message_field.Action.COPY_IMAGE_TO_VOLUME, resource_uuid=volume.id, detail=message_field.Detail.NOT_ENOUGH_SPACE_FOR_IMAGE, exception=err) ",24,30
openstack%2Fcinder~master~I5054f348f9c016d15b36b9f18d9c89e19e25e81f,openstack/cinder,master,I5054f348f9c016d15b36b9f18d9c89e19e25e81f,Update Volume Encryption Documentation,MERGED,2018-01-19 16:58:23.000000000,2018-02-25 14:47:14.000000000,2018-01-22 22:09:49.000000000,"[{'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 19852}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27558}]","[{'number': 1, 'created': '2018-01-19 16:58:23.000000000', 'files': ['doc/source/configuration/block-storage/volume-encryption.rst', 'doc/source/configuration/tables/cinder-common.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/56b62f9423292c5e802d5f1b545f46e80c7c447f', 'message': ""Update Volume Encryption Documentation\n\nThe castellan library has recently been updated to\nuse 'backend' instead of 'api_class' to configure\nthe backend that should be used.  This change updates\nthe volume encryption documentation to use the updated\nconfiguration option instead of the deprecated one.\n\nChange-Id: I5054f348f9c016d15b36b9f18d9c89e19e25e81f\n""}]",0,535850,56b62f9423292c5e802d5f1b545f46e80c7c447f,27,22,1,7012,,,0,"Update Volume Encryption Documentation

The castellan library has recently been updated to
use 'backend' instead of 'api_class' to configure
the backend that should be used.  This change updates
the volume encryption documentation to use the updated
configuration option instead of the deprecated one.

Change-Id: I5054f348f9c016d15b36b9f18d9c89e19e25e81f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/50/535850/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/block-storage/volume-encryption.rst', 'doc/source/configuration/tables/cinder-common.inc']",2,56b62f9423292c5e802d5f1b545f46e80c7c447f,volume-encryption-doc, * - ``backend`` = ``barbican``, * - ``backend`` = ``castellan.key_manager.barbican_key_manager.BarbicanKeyManager``,3,3
openstack%2Fcinder~master~Id0aea58f7091c78fcd38a47e475384807f1c04c7,openstack/cinder,master,Id0aea58f7091c78fcd38a47e475384807f1c04c7,Fix readonly mode for new attachment API calls,MERGED,2018-01-10 22:03:03.000000000,2018-02-25 14:47:13.000000000,2018-01-19 11:40:38.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-10 22:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6719d2601db74165b73865751e8089f541d63e1', 'message': ""Fix readonly mode for new attachment API calls\n\nThe introduction of the new attachment API's doesn't\nknow how to deal with RO volumes that don't use the\nconnector to set their values.\n\nOne of the ways to do RO volumes in cinder is to set\na parameter in the admin_metadata of the volume.  If\nthis is set, we expect the connector to have a matching\nmode setting in it's parameters.  During finalizing of\nan attachment this values are compared and if they don't\nmatch the attach fails.\n\nThe New attachment calls from the Nova side don't set\nthis information; and honestly using the connector for\nthis isn't such a great idea anyway.  To address this\nchange in behavior/bug however we'll default to the\nsettings of the volume admin_metadata.\n\nWhen an attachment is created, we'll check the volumes\nadmin_metadata and set the attach_mode of the attach\nobject to ro if required.  Additionally, when the\nattachment-completion is performed in the manager, we'll\nuse the attach_mode setting of the attachment object to\noverride and force any settings in the connector.\n\nThis seems like a better option than forcing Nova to check\nand set based on the metadata, and there's no real value\nin having an extra lever or requirement during attach that\ncan go wrong.  There's no case where seting the admin_metadata\nto Read Only on a volume and attaching it any other way than\n'ro' is valid, so just use the metdata directly.\n\nGoing forward we deprecate the use of admin_metadata for\nRead Only settings and replace it with an attachment-create\noption.\n\nCloses-Bug: # 1741476\n\nChange-Id: Id0aea58f7091c78fcd38a47e475384807f1c04c7\n""}, {'number': 2, 'created': '2018-01-18 17:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e25ad3670c1d44f08ef4a63a2387133cce47fdc7', 'message': ""Fix readonly mode for new attachment API calls\n\nThe introduction of the new attachment API's doesn't\nknow how to deal with RO volumes that don't use the\nconnector to set their values.\n\nOne of the ways to do RO volumes in cinder is to set\na parameter in the admin_metadata of the volume.  If\nthis is set, we expect the connector to have a matching\nmode setting in it's parameters.  During finalizing of\nan attachment this values are compared and if they don't\nmatch the attach fails.\n\nThe New attachment calls from the Nova side don't set\nthis information; and honestly using the connector for\nthis isn't such a great idea anyway.  To address this\nchange in behavior/bug however we'll default to the\nsettings of the volume admin_metadata.\n\nWhen an attachment is created, we'll check the volumes\nadmin_metadata and set the attach_mode of the attach\nobject to ro if required.  Additionally, when the\nattachment-completion is performed in the manager, we'll\nuse the attach_mode setting of the attachment object to\noverride and force any settings in the connector.\n\nThis seems like a better option than forcing Nova to check\nand set based on the metadata, and there's no real value\nin having an extra lever or requirement during attach that\ncan go wrong.  There's no case where seting the admin_metadata\nto Read Only on a volume and attaching it any other way than\n'ro' is valid, so just use the metdata directly.\n\nGoing forward we deprecate the use of admin_metadata for\nRead Only settings and replace it with an attachment-create\noption.\n\nCloses-Bug: # 1741476\n\nChange-Id: Id0aea58f7091c78fcd38a47e475384807f1c04c7\n""}, {'number': 3, 'created': '2018-01-18 20:22:27.000000000', 'files': ['cinder/volume/manager.py', 'cinder/tests/unit/attachments/test_attachments_api.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e69a6a5e0626177c70ed0eafa3be6a45fbfb3f05', 'message': ""Fix readonly mode for new attachment API calls\n\nThe introduction of the new attachment API's doesn't\nknow how to deal with RO volumes that don't use the\nconnector to set their values.\n\nOne of the ways to do RO volumes in cinder is to set\na parameter in the admin_metadata of the volume.  If\nthis is set, we expect the connector to have a matching\nmode setting in it's parameters.  During finalizing of\nan attachment this values are compared and if they don't\nmatch the attach fails.\n\nThe New attachment calls from the Nova side don't set\nthis information; and honestly using the connector for\nthis isn't such a great idea anyway.  To address this\nchange in behavior/bug however we'll default to the\nsettings of the volume admin_metadata.\n\nWhen an attachment is created, we'll check the volumes\nadmin_metadata and set the attach_mode of the attach\nobject to ro if required.  Additionally, when the\nattachment-completion is performed in the manager, we'll\nuse the attach_mode setting of the attachment object to\noverride and force any settings in the connector.\n\nThis seems like a better option than forcing Nova to check\nand set based on the metadata, and there's no real value\nin having an extra lever or requirement during attach that\ncan go wrong.  There's no case where seting the admin_metadata\nto Read Only on a volume and attaching it any other way than\n'ro' is valid, so just use the metdata directly.\n\nGoing forward we deprecate the use of admin_metadata for\nRead Only settings and replace it with an attachment-create\noption.\n\nCloses-Bug: # 1741476\n\nChange-Id: Id0aea58f7091c78fcd38a47e475384807f1c04c7\n""}]",0,532645,e69a6a5e0626177c70ed0eafa3be6a45fbfb3f05,80,33,3,2243,,,0,"Fix readonly mode for new attachment API calls

The introduction of the new attachment API's doesn't
know how to deal with RO volumes that don't use the
connector to set their values.

One of the ways to do RO volumes in cinder is to set
a parameter in the admin_metadata of the volume.  If
this is set, we expect the connector to have a matching
mode setting in it's parameters.  During finalizing of
an attachment this values are compared and if they don't
match the attach fails.

The New attachment calls from the Nova side don't set
this information; and honestly using the connector for
this isn't such a great idea anyway.  To address this
change in behavior/bug however we'll default to the
settings of the volume admin_metadata.

When an attachment is created, we'll check the volumes
admin_metadata and set the attach_mode of the attach
object to ro if required.  Additionally, when the
attachment-completion is performed in the manager, we'll
use the attach_mode setting of the attachment object to
override and force any settings in the connector.

This seems like a better option than forcing Nova to check
and set based on the metadata, and there's no real value
in having an extra lever or requirement during attach that
can go wrong.  There's no case where seting the admin_metadata
to Read Only on a volume and attaching it any other way than
'ro' is valid, so just use the metdata directly.

Going forward we deprecate the use of admin_metadata for
Read Only settings and replace it with an attachment-create
option.

Closes-Bug: # 1741476

Change-Id: Id0aea58f7091c78fcd38a47e475384807f1c04c7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/532645/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/tests/unit/attachments/test_attachments_api.py', 'cinder/volume/api.py']",3,e6719d2601db74165b73865751e8089f541d63e1,bug/1741476," if self.db.volume_admin_metadata_get( ctxt.elevated(), volume_ref['id']).get('readonly', False): attachment_ref.attach_mode = 'ro'",,27,0
openstack%2Fcinder~master~Ie64af4305605717af01f903b05352e2480569d25,openstack/cinder,master,Ie64af4305605717af01f903b05352e2480569d25,Updated from global requirements,MERGED,2018-01-12 02:56:12.000000000,2018-02-25 14:47:05.000000000,2018-01-17 00:20:24.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-12 02:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f1f1a0037f1c6b62bba6005940aad20046b734b', 'message': 'Updated from global requirements\n\nChange-Id: Ie64af4305605717af01f903b05352e2480569d25\n'}, {'number': 2, 'created': '2018-01-16 03:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/29e6bbe27290df73d656d8f51ac89d51c4fff685', 'message': 'Updated from global requirements\n\nChange-Id: Ie64af4305605717af01f903b05352e2480569d25\n'}, {'number': 3, 'created': '2018-01-16 04:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/16ba113121fc24bc8526de2abc0d204a94ec28c2', 'message': 'Updated from global requirements\n\nChange-Id: Ie64af4305605717af01f903b05352e2480569d25\n'}, {'number': 4, 'created': '2018-01-16 12:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4676a1115dbe0484c2a4b99ad2640a2218b31cf9', 'message': 'Updated from global requirements\n\nChange-Id: Ie64af4305605717af01f903b05352e2480569d25\n'}, {'number': 5, 'created': '2018-01-16 12:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/67db20df9cf24d08414b3f99048bfd094014112a', 'message': 'Updated from global requirements\n\nChange-Id: Ie64af4305605717af01f903b05352e2480569d25\n'}, {'number': 6, 'created': '2018-01-16 12:25:15.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/91d6ea9bd535d6ebbc36929f05bb7b2a02f5f55f', 'message': 'Updated from global requirements\n\nChange-Id: Ie64af4305605717af01f903b05352e2480569d25\n'}]",0,533040,91d6ea9bd535d6ebbc36929f05bb7b2a02f5f55f,86,31,6,11131,,,0,"Updated from global requirements

Change-Id: Ie64af4305605717af01f903b05352e2480569d25
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/533040/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,7f1f1a0037f1c6b62bba6005940aad20046b734b,openstack/requirements,os-brick>=2.2.0 # Apache-2.0,os-brick>=2.1.1 # Apache-2.0,1,1
openstack%2Fcinder~master~Id5d5f5ed8b449c9f1059528de241417f231f90b5,openstack/cinder,master,Id5d5f5ed8b449c9f1059528de241417f231f90b5,Fix combination of parameters for update APIs,MERGED,2018-01-16 11:47:01.000000000,2018-02-25 14:47:04.000000000,2018-01-18 20:40:46.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-16 11:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b44e9e4548f86052db09229a673e24833d9a4e34', 'message': 'Fix combination of parameters for update APIs\n\nFor group_type and volume_type update APIs, If user passes\ndescription or is_public parameter in the request body then name\ncan be null. But after schema validation [1][2], it is failing with\nBadRequest.\n\nThis patch allows users to pass \'name\' as None if ""description""\nor is_public"" parameter is passed in the request body.\n\n[1]: https://review.openstack.org/#/c/520561/\n[2]: https://review.openstack.org/#/c/519643/\n\nChange-Id: Id5d5f5ed8b449c9f1059528de241417f231f90b5\nCloses-Bug: #1742940\n'}, {'number': 2, 'created': '2018-01-18 08:50:12.000000000', 'files': ['cinder/api/schemas/group_types.py', 'cinder/api/schemas/volume_types.py', 'cinder/api/contrib/types_manage.py', 'cinder/api/v3/group_types.py', 'cinder/tests/unit/api/contrib/test_types_manage.py', 'cinder/tests/unit/api/v3/test_group_types.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2b2ed02fe531313a6a98673534b97f53a9f00edc', 'message': 'Fix combination of parameters for update APIs\n\nFor group_type and volume_type update APIs, If user passes\ndescription or is_public parameter in the request body then name\ncan be null. But after schema validation [1][2], it is failing with\nBadRequest.\n\nThis patch allows users to pass \'name\' as None if ""description""\nor is_public"" parameter is passed in the request body.\n\n[1]: https://review.openstack.org/#/c/520561/\n[2]: https://review.openstack.org/#/c/519643/\n\nChange-Id: Id5d5f5ed8b449c9f1059528de241417f231f90b5\nCloses-Bug: #1742940\n'}]",4,534244,2b2ed02fe531313a6a98673534b97f53a9f00edc,75,36,2,26541,,,0,"Fix combination of parameters for update APIs

For group_type and volume_type update APIs, If user passes
description or is_public parameter in the request body then name
can be null. But after schema validation [1][2], it is failing with
BadRequest.

This patch allows users to pass 'name' as None if ""description""
or is_public"" parameter is passed in the request body.

[1]: https://review.openstack.org/#/c/520561/
[2]: https://review.openstack.org/#/c/519643/

Change-Id: Id5d5f5ed8b449c9f1059528de241417f231f90b5
Closes-Bug: #1742940
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/534244/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/schemas/group_types.py', 'cinder/api/contrib/types_manage.py', 'cinder/api/schemas/volume_types.py', 'cinder/api/v3/group_types.py', 'cinder/tests/unit/api/contrib/test_types_manage.py', 'cinder/tests/unit/api/v3/test_group_types.py']",6,b44e9e4548f86052db09229a673e24833d9a4e34,bug/1742940," def test_update_group_type_with_name_null(self): req = fakes.HTTPRequest.blank( '/v3/%s/types/%s' % (fake.PROJECT_ID, fake.GROUP_TYPE_ID), version=mv.GROUP_TYPE) req.environ['cinder.context'] = self.ctxt body = {""group_type"": {""name"": None}} self.assertRaises(webob.exc.HTTPBadRequest, self.controller.update, req, fake.GROUP_TYPE_ID, body=body) @ddt.data({""group_type"": {""name"": None, ""description"": ""description""}}, {""group_type"": {""name"": ""test"", ""is_public"": True}}, {""group_type"": {""description"": None, ""is_public"": True}}) def test_update_group_type(self, body): req = fakes.HTTPRequest.blank( '/v3/%s/types/%s' % (fake.PROJECT_ID, fake.GROUP_TYPE_ID), version=mv.GROUP_TYPE) group_type_1 = group_types.create(self.ctxt, 'group_type') req.environ['cinder.context'] = self.ctxt res = self.controller.update(req, group_type_1.get('id'), body=body) expected_name = body['group_type'].get('name') if expected_name is not None: self.assertEqual(expected_name, res['group_type']['name']) expected_is_public = body['group_type'].get('is_public') if expected_is_public is not None: self.assertEqual(expected_is_public, res['group_type']['is_public']) self.assertEqual(body['group_type'].get('description'), res['group_type']['description']) ",,99,14
openstack%2Fcinder~master~Ib11bda868085dfed0ab0e9018b8ed35956dbdf10,openstack/cinder,master,Ib11bda868085dfed0ab0e9018b8ed35956dbdf10,Revert volume consumed capacity when rescheduling,MERGED,2018-01-05 09:41:39.000000000,2018-02-25 14:46:56.000000000,2018-01-17 01:30:40.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13157}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-05 09:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a0d56a761d48a0fd687db175cf0394c769008ed0', 'message': 'Revert volume consumed capacity when rescheduling\n\nCinder scheduler will consume pool capacity repeatedly\nwhen rescheduling creating request.\n\nChange-Id: Ib11bda868085dfed0ab0e9018b8ed35956dbdf10\n'}, {'number': 2, 'created': '2018-01-10 02:40:00.000000000', 'files': ['cinder/scheduler/filter_scheduler.py', 'cinder/tests/unit/scheduler/test_filter_scheduler.py', 'cinder/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4bc11505be0b064185ce1173a70706abb51f4353', 'message': 'Revert volume consumed capacity when rescheduling\n\nCinder scheduler will consume pool capacity repeatedly\nwhen rescheduling creating request.\n\nCloses-Bug: #1741833\nChange-Id: Ib11bda868085dfed0ab0e9018b8ed35956dbdf10\n'}]",2,531345,4bc11505be0b064185ce1173a70706abb51f4353,105,38,2,23083,,,0,"Revert volume consumed capacity when rescheduling

Cinder scheduler will consume pool capacity repeatedly
when rescheduling creating request.

Closes-Bug: #1741833
Change-Id: Ib11bda868085dfed0ab0e9018b8ed35956dbdf10
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/531345/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/filter_scheduler.py', 'cinder/scheduler/host_manager.py']",2,a0d56a761d48a0fd687db175cf0394c769008ed0,bug/1741833," def consume_from_volume(self, volume, update_time=True): if update_time: self.updated = timeutils.utcnow() def revert_volume_consumed_capacity(self, pool_name, size): for backend_key, state in self.backend_state_map.items(): for key in state.pools: pool_state = state.pools[key] if pool_name == '#'.join([backend_key, pool_state.pool_name]): pool_state.consume_from_volume({'size': -size}, update_time=False) "," def consume_from_volume(self, volume): self.updated = timeutils.utcnow()",17,2
openstack%2Fcinder~driverfixes%2Fmitaka~Ib68d65ef49c880047768b16241f49afae2dd802f,openstack/cinder,driverfixes/mitaka,Ib68d65ef49c880047768b16241f49afae2dd802f,Re-enable unit tests,MERGED,2018-01-11 20:50:52.000000000,2018-02-25 14:46:50.000000000,2018-01-18 04:52:22.000000000,"[{'_account_id': 4523}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24815}]","[{'number': 1, 'created': '2018-01-11 20:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/235b91756295a83d16bb4cd32edd3812eb0cd93a', 'message': 'Re-enable unit tests\n\nRun unit tests normally.\n\nChange-Id: Ib68d65ef49c880047768b16241f49afae2dd802f\n'}, {'number': 2, 'created': '2018-01-12 15:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/41b2b5ae73b1bdd336f68e7342d3a672ebf55f61', 'message': 'Re-enable unit tests\n\nRun unit tests normally.\n\nChange-Id: Ib68d65ef49c880047768b16241f49afae2dd802f\n'}, {'number': 3, 'created': '2018-01-12 15:49:52.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1f77ceb5e6e5aa7c8bf6d17d1d0a81e424e031cf', 'message': 'Re-enable unit tests\n\nRun unit tests normally.\n\nChange-Id: Ib68d65ef49c880047768b16241f49afae2dd802f\n'}]",0,532970,1f77ceb5e6e5aa7c8bf6d17d1d0a81e424e031cf,30,11,3,4523,,,0,"Re-enable unit tests

Run unit tests normally.

Change-Id: Ib68d65ef49c880047768b16241f49afae2dd802f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/70/532970/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,235b91756295a83d16bb4cd32edd3812eb0cd93a,,commands = ostestr {posargs},"commands = bash -c ""ostestr {posargs} || true""",1,1
openstack%2Fcinder~driverfixes%2Fmitaka~Iaae29d3a48da3e849e558894a2d707be90294551,openstack/cinder,driverfixes/mitaka,Iaae29d3a48da3e849e558894a2d707be90294551,Fix requirements.txt reference / disable tests,MERGED,2017-11-27 15:36:24.000000000,2018-02-25 14:46:39.000000000,2018-01-12 05:56:39.000000000,"[{'_account_id': 4523}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-11-27 15:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c278b2cb8e6ee52263c784f975ff2c3e0d6c5022', 'message': 'Fix requirements.txt reference in tox.ini\n\nThe URL for requirements.txt must now point to\nmitaka-eol rather than stable/mitaka.\n\nChange-Id: Iaae29d3a48da3e849e558894a2d707be90294551\n'}, {'number': 2, 'created': '2018-01-08 21:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/90030357b1cf614dc9c64cafc6e1fd2ebed019fe', 'message': 'Fix requirements.txt reference in tox.ini\n\nThe URL for requirements.txt must now point to\nmitaka-eol rather than stable/mitaka.\n\nChange-Id: Iaae29d3a48da3e849e558894a2d707be90294551\n'}, {'number': 3, 'created': '2018-01-09 16:00:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/33854af7fc4281d225a206610de5a495c54f1ef1', 'message': 'Fix requirements.txt reference in tox.ini\n\nThe URL for requirements.txt must now point to\nmitaka-eol rather than stable/mitaka.\n\nChange-Id: Iaae29d3a48da3e849e558894a2d707be90294551\n'}, {'number': 4, 'created': '2018-01-09 16:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4d2580c1bb4c7641ef95a09ca00510b5668cb182', 'message': 'Fix requirements.txt reference in tox.ini\n\nThe URL for requirements.txt must now point to\nmitaka-eol rather than stable/mitaka.\n\nChange-Id: Iaae29d3a48da3e849e558894a2d707be90294551\n'}, {'number': 5, 'created': '2018-01-11 20:50:52.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cdac4d9da0ae6af0e0d190484a9cc8a9aec67c71', 'message': 'Fix requirements.txt reference / disable tests\n\nThe URL for requirements.txt must now point to\nmitaka-eol rather than stable/mitaka.\n\nNOTE: this change allows unit tests to pass\nregardless of their actual result.  This is\nbeing done to get the driverfixes/mitaka branch\nCI into working order.\n\nChange-Id: Iaae29d3a48da3e849e558894a2d707be90294551\n'}]",0,523149,cdac4d9da0ae6af0e0d190484a9cc8a9aec67c71,43,14,5,4523,,,0,"Fix requirements.txt reference / disable tests

The URL for requirements.txt must now point to
mitaka-eol rather than stable/mitaka.

NOTE: this change allows unit tests to pass
regardless of their actual result.  This is
being done to get the driverfixes/mitaka branch
CI into working order.

Change-Id: Iaae29d3a48da3e849e558894a2d707be90294551
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/523149/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c278b2cb8e6ee52263c784f975ff2c3e0d6c5022,532556,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=mitaka-eol} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/mitaka} {opts} {packages},1,1
openstack%2Fcinder~driverfixes%2Focata~Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48,openstack/cinder,driverfixes/ocata,Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48,StorageCenter: Fix volume mapping for API v3.1,MERGED,2018-01-11 17:30:13.000000000,2018-02-25 14:46:37.000000000,2018-01-17 18:15:44.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 12369}, {'_account_id': 14567}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-01-11 17:30:13.000000000', 'files': ['cinder/volume/drivers/dell/dell_storagecenter_api.py', 'cinder/tests/unit/volume/drivers/dell/test_dellscapi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6e4a924fe28e66afc122e22beb4d404d4aab738a', 'message': 'StorageCenter: Fix volume mapping for API v3.1\n\nVolume attachment fails on StorageCenter API v3.1 because the backend\ninstead of returning wwn or WWN as the key in the controller port it\nreturns wWN, thus preventing the driver from finding the mapping.\n\nThis patch adds support to any combination of upper and lower case of\nthe WWN key.\n\nCloses-Bug: #1739651\nChange-Id: Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48\n(cherry picked from commit b50e08bcd8618d9b7935b0245d8b764912c919be)\n(cherry picked from commit 0652a58069af9e908d12dd1f1fac8b6a8a8c6c2a)\n'}]",0,532919,6e4a924fe28e66afc122e22beb4d404d4aab738a,17,12,1,9535,,,0,"StorageCenter: Fix volume mapping for API v3.1

Volume attachment fails on StorageCenter API v3.1 because the backend
instead of returning wwn or WWN as the key in the controller port it
returns wWN, thus preventing the driver from finding the mapping.

This patch adds support to any combination of upper and lower case of
the WWN key.

Closes-Bug: #1739651
Change-Id: Ie6ec59b4f6d31cb72e37f25f5347c815fee5af48
(cherry picked from commit b50e08bcd8618d9b7935b0245d8b764912c919be)
(cherry picked from commit 0652a58069af9e908d12dd1f1fac8b6a8a8c6c2a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/532919/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell/dell_storagecenter_api.py', 'cinder/tests/unit/volume/drivers/dell/test_dellscapi.py']",2,6e4a924fe28e66afc122e22beb4d404d4aab738a,bug/1739651," u'wWN': u'5000D31000FCBE36', def test_find_wwns_wwn_resilient(self, mock_find_initiators, mock_find_mappings, mock_find_controller_port, mock_close_connection, mock_open_connection, mock_init): # Test case where ScControllerPort object has wWN instead of wwn (as # seen in some cases) for a property but we are still able to find it. self.assertEqual(1, lun, 'Incorrect LUN') expected_wwn = ['5000D31000FCBE36', '5000D31000FCBE36', '5000D31000FCBE36'] self.assertEqual(expected_wwn, wwns, 'WWNs incorrect') expected_itmap = {'21000024FF30441C': ['5000D31000FCBE36'], '21000024FF30441D': ['5000D31000FCBE36', '5000D31000FCBE36']} self.assertEqual(expected_itmap, itmap, 'WWN mapping incorrect')"," u'Wwn': u'5000D31000FCBE36', def test_find_wwns_wwn_error(self, mock_find_initiators, mock_find_mappings, mock_find_controller_port, mock_close_connection, mock_open_connection, mock_init): # Test case where ScControllerPort object has WWn instead of wwn for a # property self.assertIsNone(lun, 'Incorrect LUN') self.assertEqual([], wwns, 'WWNs is not empty') self.assertEqual({}, itmap, 'WWN mapping not empty')",32,14
openstack%2Fcinder~stable%2Fpike~I60f8e8864f236fb92dd03560576377f1a0bdd82b,openstack/cinder,stable/pike,I60f8e8864f236fb92dd03560576377f1a0bdd82b,Check for migrated UUID in SolidFire delete,MERGED,2017-12-18 21:50:19.000000000,2018-02-25 14:46:32.000000000,2018-01-18 15:12:41.000000000,"[{'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13628}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26347}, {'_account_id': 26537}, {'_account_id': 27556}]","[{'number': 1, 'created': '2017-12-18 21:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/49c7de8752fd48d5bca2de88e820a41676ed3981', 'message': ""Check for migrated UUID in SolidFire delete\n\nMigration of volumes kinda screws up the use of ID as the\nreference to use for deleting volumes.\n\nIf a volume is migrated, the UUID (ID) gets swapped and no\nlonger matches the UUID the volume had when it was initially\ncreated on the back end device.  The result is that deletion\nof that volume fails on the back end because the handle to the\nnew UUID doesn't exist.\n\nOn the other hand, you also have to be careful in dealing with\nand cleaning up volumes migrated off of your back end device for\nthe same types of reasons.\n\nThis change just adds an additional check in the SF driver so that\nwe are querying the back end device for the ID and the name_id.\n\nThis way we make sure if the volume is on our device we clean it up.\n\nChange-Id: I60f8e8864f236fb92dd03560576377f1a0bdd82b\nCloses-Bug: #1733967\n(cherry picked from commit 0e6ee1b1df38059f338ebd93c605dfb51a93a8a5)\n""}, {'number': 2, 'created': '2018-01-11 04:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5619d23df53077e4695d269aa2035f890dee8c91', 'message': ""Check for migrated UUID in SolidFire delete\n\nMigration of volumes kinda screws up the use of ID as the\nreference to use for deleting volumes.\n\nIf a volume is migrated, the UUID (ID) gets swapped and no\nlonger matches the UUID the volume had when it was initially\ncreated on the back end device.  The result is that deletion\nof that volume fails on the back end because the handle to the\nnew UUID doesn't exist.\n\nOn the other hand, you also have to be careful in dealing with\nand cleaning up volumes migrated off of your back end device for\nthe same types of reasons.\n\nThis change just adds an additional check in the SF driver so that\nwe are querying the back end device for the ID and the name_id.\n\nThis way we make sure if the volume is on our device we clean it up.\n\nChange-Id: I60f8e8864f236fb92dd03560576377f1a0bdd82b\nCloses-Bug: #1733967\n(cherry picked from commit 0e6ee1b1df38059f338ebd93c605dfb51a93a8a5)\n""}, {'number': 3, 'created': '2018-01-18 05:01:03.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/24825e932831286481f2eb610ac0ba3682c3f3ad', 'message': ""Check for migrated UUID in SolidFire delete\n\nMigration of volumes kinda screws up the use of ID as the\nreference to use for deleting volumes.\n\nIf a volume is migrated, the UUID (ID) gets swapped and no\nlonger matches the UUID the volume had when it was initially\ncreated on the back end device.  The result is that deletion\nof that volume fails on the back end because the handle to the\nnew UUID doesn't exist.\n\nOn the other hand, you also have to be careful in dealing with\nand cleaning up volumes migrated off of your back end device for\nthe same types of reasons.\n\nThis change just adds an additional check in the SF driver so that\nwe are querying the back end device for the ID and the name_id.\n\nThis way we make sure if the volume is on our device we clean it up.\n\nChange-Id: I60f8e8864f236fb92dd03560576377f1a0bdd82b\nCloses-Bug: #1733967\n(cherry picked from commit 0e6ee1b1df38059f338ebd93c605dfb51a93a8a5)\n""}]",0,528828,24825e932831286481f2eb610ac0ba3682c3f3ad,50,22,3,2243,,,0,"Check for migrated UUID in SolidFire delete

Migration of volumes kinda screws up the use of ID as the
reference to use for deleting volumes.

If a volume is migrated, the UUID (ID) gets swapped and no
longer matches the UUID the volume had when it was initially
created on the back end device.  The result is that deletion
of that volume fails on the back end because the handle to the
new UUID doesn't exist.

On the other hand, you also have to be careful in dealing with
and cleaning up volumes migrated off of your back end device for
the same types of reasons.

This change just adds an additional check in the SF driver so that
we are querying the back end device for the ID and the name_id.

This way we make sure if the volume is on our device we clean it up.

Change-Id: I60f8e8864f236fb92dd03560576377f1a0bdd82b
Closes-Bug: #1733967
(cherry picked from commit 0e6ee1b1df38059f338ebd93c605dfb51a93a8a5)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/528828/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py']",2,49c7de8752fd48d5bca2de88e820a41676ed3981,bug/1733967,"from cinder.tests.unit import utils as test_utils testvol = test_utils.create_volume( self.ctxt, id=vol_id, display_name='test_volume', provider_id='1 5 None', multiattach=True) testvol = test_utils.create_volume(self.ctxt) testvol = test_utils.create_volume( self.ctxt, volume_id='b831c4d1-d1f0-11e1-9b23-0800200c9a66') testsnap = test_utils.create_snapshot( self.ctxt, volume_id=testvol.id)"," testvol = {'project_id': 'testprjid', 'name': 'test_volume', 'size': 1, 'id': vol_id, 'name_id': vol_id, 'created_at': timeutils.utcnow(), 'provider_id': '1 5 None', 'multiattach': True } vol_id = 'a720b3c0-d1f0-11e1-9b23-0800200c9a66' testvol = {'project_id': 'testprjid', 'name': 'no-name', 'size': 1, 'id': vol_id, 'name_id': vol_id, 'created_at': timeutils.utcnow()} snap_id = 'a720b3c0-d1f0-11e1-9b23-0800200c9a66' testsnap = {'project_id': 'testprjid', 'name': 'no-name', 'size': 1, 'id': snap_id, 'name_id': snap_id, 'volume_id': 'b831c4d1-d1f0-11e1-9b23-0800200c9a66', 'created_at': timeutils.utcnow()}",24,28
openstack%2Fcinder~stable%2Fpike~I4b8d99966f387f51c1125ba72c1ce149229a8bc0,openstack/cinder,stable/pike,I4b8d99966f387f51c1125ba72c1ce149229a8bc0,FlashSystem: Add CMMVC6045E CLI error for multi-host mapping,MERGED,2018-01-04 20:26:55.000000000,2018-02-25 14:46:30.000000000,2018-01-18 23:14:13.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23317}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}, {'_account_id': 27059}]","[{'number': 1, 'created': '2018-01-04 20:26:55.000000000', 'files': ['cinder/volume/drivers/ibm/flashsystem_common.py', 'cinder/tests/unit/volume/drivers/ibm/test_ibm_flashsystem.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dda90fe573303ac8bf1a213f611cdcb9209b27da', 'message': ""FlashSystem: Add CMMVC6045E CLI error for multi-host mapping\n\nAdd CMMVC6045E to list of CLI error codes indicating a multi-host\nmap was attempted without the '-force' parameter. Re-raise on\nmatch failure to avert spurious success when an unexcepted CLI\nerror is emitted. Add good and bad-path testing for multi-host\nmap to test_flashsystem_map_vdisk_to_host\n\nChange-Id: I4b8d99966f387f51c1125ba72c1ce149229a8bc0\nCloses-Bug: #1723188\n(cherry picked from commit 421837ab4a3244022ad8292ad1ef0de37e9de532)\n""}]",0,531238,dda90fe573303ac8bf1a213f611cdcb9209b27da,47,20,1,27059,,,0,"FlashSystem: Add CMMVC6045E CLI error for multi-host mapping

Add CMMVC6045E to list of CLI error codes indicating a multi-host
map was attempted without the '-force' parameter. Re-raise on
match failure to avert spurious success when an unexcepted CLI
error is emitted. Add good and bad-path testing for multi-host
map to test_flashsystem_map_vdisk_to_host

Change-Id: I4b8d99966f387f51c1125ba72c1ce149229a8bc0
Closes-Bug: #1723188
(cherry picked from commit 421837ab4a3244022ad8292ad1ef0de37e9de532)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/38/531238/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/flashsystem_common.py', 'cinder/tests/unit/volume/drivers/ibm/test_ibm_flashsystem.py']",2,dda90fe573303ac8bf1a213f611cdcb9209b27da,flashsystem_hostmap-stable/pike," 'successfully.'), 'CMMVC6045E': ('', 'CMMVC6045E The action failed, as the ' '-force flag was not entered.'), 'CMMVC6071E': ('', 'CMMVC6071E The VDisk-to-host mapping ' 'was not created because the VDisk is ' 'already mapped to a host.') } self._multi_host_map_error = None self._multi_host_map_errors = ['CMMVC6045E', 'CMMVC6071E'] for i in range(2, len(arg_list)): for v in self._mappings_list.values(): if (v['vol'] == mapping_info['vol']) and ('force' not in kwargs): return self._errors[self._multi_host_map_error or 'CMMVC50000'] self.alt_connector = { 'host': 'other', 'wwnns': ['0123456789fedcba', '0123456789badcfe'], 'wwpns': ['dcba000000000001', 'dcba000000000002'], 'initiator': 'iqn.654321' } # case 4: multi-host mapping, good path for error in self.sim._multi_host_map_errors: self.sim._multi_host_map_error = error self.assertEqual( 1, self.driver._map_vdisk_to_host( vol1['name'], self.alt_connector ) ) self.driver._unmap_vdisk_from_host( vol1['name'], self.alt_connector ) self.sim._multi_host_map_error = None # case 5: multi-host mapping, bad path self.assertRaises( exception.VolumeBackendAPIException, self.driver._map_vdisk_to_host, vol1['name'], self.alt_connector) "," 'successfully.') } arg_list.pop(0) for i in range(1, len(arg_list)): if mapping_info['vol'] in self._mappings_list: return self._errors['CMMVC50000'] for v in self._mappings_list.values(): for v in self._mappings_list.values():",72,13
openstack%2Fcinder~driverfixes%2Fnewton~Ib55b22009a496bae002bda94190d041519090c75,openstack/cinder,driverfixes/newton,Ib55b22009a496bae002bda94190d041519090c75,3PAR: Get host from os-brick,MERGED,2018-01-03 08:32:06.000000000,2018-02-25 14:46:25.000000000,2018-01-22 22:09:55.000000000,"[{'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22664}, {'_account_id': 23613}, {'_account_id': 24299}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 24952}, {'_account_id': 27552}]","[{'number': 1, 'created': '2018-01-03 08:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/83c14df62b25e6b5ff38899091704ae4728cdc01', 'message': '3PAR: Get host from os-brick\n\nDriver create hosts from os-brick connector\nso get hosts from os-brick connector instead of\nvolume.\n\nChange-Id: Ib55b22009a496bae002bda94190d041519090c75\nCloses-Bug: 1690244\n(cherry picked from commit e7a5ae1eaea6fa5b0dfc58920773fadae7ba0a68)\n(cherry picked from commit 7973f02e84702f5b22fc27ee0fcfcb79543f8d14)\n'}, {'number': 2, 'created': '2018-01-09 02:41:33.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/379024675e028d1635b3fac7af913274369a815c', 'message': '3PAR: Get host from os-brick\n\nDriver create hosts from os-brick connector\nso get hosts from os-brick connector instead of\nvolume.\n\nChange-Id: Ib55b22009a496bae002bda94190d041519090c75\nCloses-Bug: 1690244\n(cherry picked from commit e7a5ae1eaea6fa5b0dfc58920773fadae7ba0a68)\n(cherry picked from commit 7973f02e84702f5b22fc27ee0fcfcb79543f8d14)\n'}]",0,530862,379024675e028d1635b3fac7af913274369a815c,30,17,2,24299,,,0,"3PAR: Get host from os-brick

Driver create hosts from os-brick connector
so get hosts from os-brick connector instead of
volume.

Change-Id: Ib55b22009a496bae002bda94190d041519090c75
Closes-Bug: 1690244
(cherry picked from commit e7a5ae1eaea6fa5b0dfc58920773fadae7ba0a68)
(cherry picked from commit 7973f02e84702f5b22fc27ee0fcfcb79543f8d14)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/530862/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py']",2,83c14df62b25e6b5ff38899091704ae4728cdc01,," connector = {'host': 'test-host'} model = self.driver._do_export(common, volume, connector) model = self.driver._do_export(common, volume, connector) connector = {'host': 'test-host'} model = self.driver._do_export(common, volume, connector) connector = {'host': 'test-host'} model = self.driver._do_export(common, volume, connector) connector = {'host': 'test-host'} model = self.driver._do_export(common, volume, connector) connector = {'host': 'test-host'} model_with_remote_name = self.driver._do_export( common, volume, connector) model_without_remote_name = self.driver._do_export( common, volume, connector) connector = {'host': 'test-host'} model = self.driver.create_export(None, volume, connector)"," model = self.driver._do_export(common, volume) model = self.driver._do_export(common, volume) model = self.driver._do_export(common, volume) model = self.driver._do_export(common, volume) model = self.driver._do_export(common, volume) model_with_remote_name = self.driver._do_export(common, volume) model_without_remote_name = self.driver._do_export(common, volume) model = self.driver.create_export(None, volume, None)",21,12
openstack%2Fcinder~master~Ib6751fae6b5fb78de98a2ea62f507f9102f71b76,openstack/cinder,master,Ib6751fae6b5fb78de98a2ea62f507f9102f71b76,Deprecate CG APIs,MERGED,2017-12-10 17:46:47.000000000,2018-02-25 14:45:35.000000000,2017-12-25 23:54:01.000000000,"[{'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11885}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15439}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-12-10 17:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a26c224cff529e4d39c52b2732b78d3239faad4d', 'message': 'Deprecate CG APIs\n\nThis patch prints a deprecation message when CG APIs are used and\nprompts users to swich to Generic Volume Group APIs instead. CG APIs\nare also marked as deprecated in API reference docs. CG APIs will be\nremoved in a future release when it is appropriate and will be\ndecided by the Cinder team. This was communicated in Pike.\n\nChange-Id: Ib6751fae6b5fb78de98a2ea62f507f9102f71b76\n'}, {'number': 2, 'created': '2017-12-22 14:34:13.000000000', 'files': ['api-ref/source/v3/os-cgsnapshots-v3.inc', 'releasenotes/notes/deprecate-consistency-group-apis-0d9120d16f090781.yaml', 'cinder/api/contrib/cgsnapshots.py', 'api-ref/source/v3/consistencygroups-v3.inc', 'cinder/api/contrib/consistencygroups.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/556ae86d382bc4bf9a4272884dd1f8ed5f694b4e', 'message': 'Deprecate CG APIs\n\nThis patch prints a deprecation message when CG APIs are used and\nprompts users to swich to Generic Volume Group APIs instead. CG APIs\nare also marked as deprecated in API reference docs. CG APIs will be\nremoved in a future release when it is appropriate and will be\ndecided by the Cinder team. This was communicated in Pike.\n\nChange-Id: Ib6751fae6b5fb78de98a2ea62f507f9102f71b76\n'}]",4,526932,556ae86d382bc4bf9a4272884dd1f8ed5f694b4e,104,46,2,6491,,,0,"Deprecate CG APIs

This patch prints a deprecation message when CG APIs are used and
prompts users to swich to Generic Volume Group APIs instead. CG APIs
are also marked as deprecated in API reference docs. CG APIs will be
removed in a future release when it is appropriate and will be
decided by the Cinder team. This was communicated in Pike.

Change-Id: Ib6751fae6b5fb78de98a2ea62f507f9102f71b76
",git fetch https://review.opendev.org/openstack/cinder refs/changes/32/526932/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/os-cgsnapshots-v3.inc', 'releasenotes/notes/deprecate-consistency-group-apis-0d9120d16f090781.yaml', 'cinder/api/contrib/cgsnapshots.py', 'api-ref/source/v3/consistencygroups-v3.inc', 'cinder/api/contrib/consistencygroups.py']",5,a26c224cff529e4d39c52b2732b78d3239faad4d,cg_api,"DEPRECATE_CG_API_MSG = (""Consistency Group APIs are deprecated. "" ""Use Generic Volume Group APIs instead."") LOG.warning(DEPRECATE_CG_API_MSG) LOG.warning(DEPRECATE_CG_API_MSG) LOG.warning(DEPRECATE_CG_API_MSG) LOG.warning(DEPRECATE_CG_API_MSG) LOG.warning(DEPRECATE_CG_API_MSG) LOG.warning(DEPRECATE_CG_API_MSG) LOG.warning(DEPRECATE_CG_API_MSG)",,26,4
openstack%2Fcinder~master~I0f7b58751c6d8d05cad5b1b95c4e21c8b5d36692,openstack/cinder,master,I0f7b58751c6d8d05cad5b1b95c4e21c8b5d36692,Update tgt iSCSI target on volume extend,MERGED,2017-12-21 08:09:50.000000000,2018-02-25 14:45:32.000000000,2018-01-04 05:59:45.000000000,"[{'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 8543}, {'_account_id': 8846}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-21 08:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9900c7bbff06286e2ea709f63dc11b3eb69bcc73', 'message': ""Update tgt iSCSI target on volume extend\n\nWhen extending an in-use volume, the volume will be extended but\nthe target exposing the volume will still report the original size.\n\nThe target needs to be updated to pick up the change, but since it\nis in-use the update must be forced. This can cause IO disruption\nif there is active IO to the target, however retries will cause the\nnext attempt to succeed and there will just be a few second IO\npause on the host while the target session is reestablished. Not\nideal, but it does recover with minimal impact on the host.\n\nAnd operators probably shouldn't extend volumes without pausing\nactive IO to the volume anyway.\n\nSee bug report comments for more testing details. Marking this as\npartial as it only addresses the tgt target and further\ninvestigation is needed to see if the other target drivers need\nsimilar updates.\n\nChange-Id: I0f7b58751c6d8d05cad5b1b95c4e21c8b5d36692\nPartial-bug: #1731984\n""}, {'number': 2, 'created': '2017-12-21 14:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/00a131abb2f4b44ca53789cd3fda912999386cc9', 'message': ""Update tgt iSCSI target on volume extend\n\nWhen extending an in-use volume, the volume will be extended but\nthe target exposing the volume will still report the original size.\n\nThe target needs to be updated to pick up the change, but since it\nis in-use the update must be forced. This can cause IO disruption\nif there is active IO to the target, however retries will cause the\nnext attempt to succeed and there will just be a few second IO\npause on the host while the target session is reestablished. Not\nideal, but it does recover with minimal impact on the host.\n\nAnd operators probably shouldn't extend volumes without pausing\nactive IO to the volume anyway.\n\nSee bug report comments for more testing details. Marking this as\npartial as it only addresses the tgt target and further\ninvestigation is needed to see if the other target drivers need\nsimilar updates.\n\nChange-Id: I0f7b58751c6d8d05cad5b1b95c4e21c8b5d36692\nPartial-bug: #1731984\n""}, {'number': 3, 'created': '2017-12-21 14:49:14.000000000', 'files': ['cinder/volume/manager.py', 'cinder/exception.py', 'cinder/volume/targets/tgt.py', 'cinder/volume/targets/iscsi.py', 'cinder/volume/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d96b6dfba03424baf8b3ddc7539347554892e941', 'message': ""Update tgt iSCSI target on volume extend\n\nWhen extending an in-use volume, the volume will be extended but\nthe target exposing the volume will still report the original size.\n\nThe target needs to be updated to pick up the change, but since it\nis in-use the update must be forced. This can cause IO disruption\nif there is active IO to the target, however retries will cause the\nnext attempt to succeed and there will just be a few second IO\npause on the host while the target session is reestablished. Not\nideal, but it does recover with minimal impact on the host.\n\nAnd operators probably shouldn't extend volumes without pausing\nactive IO to the volume anyway.\n\nSee bug report comments for more testing details. Marking this as\npartial as it only addresses the tgt target and further\ninvestigation is needed to see if the other target drivers need\nsimilar updates.\n\nChange-Id: I0f7b58751c6d8d05cad5b1b95c4e21c8b5d36692\nPartial-bug: #1731984\n""}]",6,529500,d96b6dfba03424baf8b3ddc7539347554892e941,61,39,3,11904,,,0,"Update tgt iSCSI target on volume extend

When extending an in-use volume, the volume will be extended but
the target exposing the volume will still report the original size.

The target needs to be updated to pick up the change, but since it
is in-use the update must be forced. This can cause IO disruption
if there is active IO to the target, however retries will cause the
next attempt to succeed and there will just be a few second IO
pause on the host while the target session is reestablished. Not
ideal, but it does recover with minimal impact on the host.

And operators probably shouldn't extend volumes without pausing
active IO to the volume anyway.

See bug report comments for more testing details. Marking this as
partial as it only addresses the tgt target and further
investigation is needed to see if the other target drivers need
similar updates.

Change-Id: I0f7b58751c6d8d05cad5b1b95c4e21c8b5d36692
Partial-bug: #1731984
",git fetch https://review.opendev.org/openstack/cinder refs/changes/00/529500/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/exception.py', 'cinder/volume/targets/tgt.py', 'cinder/volume/targets/iscsi.py', 'cinder/volume/drivers/lvm.py']",5,9900c7bbff06286e2ea709f63dc11b3eb69bcc73,bug/1731984, try: self.target_driver.extend_target(volume) except Exception: raise exception.TargetUpdateFailed(volume_id=volume.id),,31,3
openstack%2Fcinder~master~I11839fbeec4d9b7adf4255ea237848984350386e,openstack/cinder,master,I11839fbeec4d9b7adf4255ea237848984350386e,Remove unused sf_enable_volume_mapping conf option,MERGED,2017-12-20 18:40:12.000000000,2018-02-25 14:45:31.000000000,2017-12-25 19:52:27.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-20 18:40:12.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/88b7963fa94db08c767d0559a322050c583c12ae', 'message': ""Remove unused sf_enable_volume_mapping conf option\n\nThe SolidFire driver has a stale config option that's no longer used\nanywhere (sf_enable_volume_mapping).\n\nThis patch removes that unused variable.\n\nChange-Id: I11839fbeec4d9b7adf4255ea237848984350386e\nCloses-Bug: #1731393\n""}]",0,529396,88b7963fa94db08c767d0559a322050c583c12ae,36,31,1,2243,,,0,"Remove unused sf_enable_volume_mapping conf option

The SolidFire driver has a stale config option that's no longer used
anywhere (sf_enable_volume_mapping).

This patch removes that unused variable.

Change-Id: I11839fbeec4d9b7adf4255ea237848984350386e
Closes-Bug: #1731393
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/529396/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py']",2,88b7963fa94db08c767d0559a322050c583c12ae,bug/1731393,, self.configuration.sf_enable_volume_mapping = True,0,8
openstack%2Fcinder~master~I5ff95ca13f02ed6e0afb35f0d6bb5c36d4111f5a,openstack/cinder,master,I5ff95ca13f02ed6e0afb35f0d6bb5c36d4111f5a,Remove In-repo cinder tempest plugin,MERGED,2017-07-25 17:15:11.000000000,2018-02-25 14:45:29.000000000,2018-01-18 02:35:22.000000000,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 6491}, {'_account_id': 7173}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12924}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22259}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23081}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-07-25 17:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dfd863f503515ce9a7dff090cc5a526cefb43b33', 'message': 'Remove In-repo cinder tempest plugin\n\nAs part of Queens Goal ""Split Tempest Plugins into Separate\nRepos/Projects"",the cinder tempest plugin needs to be split\ninto a separate project.\nhttps://governance.openstack.org/tc/goals/queens/split-tempest-plugins.html\n\nThis patch removes the in-tree tempest plugin as well as the\nsetuptools entry point.\n\nChange-Id: I5ff95ca13f02ed6e0afb35f0d6bb5c36d4111f5a\nDepends-On: I45371a167016cd22e1c4a80775aaf4cea469d35b\nImplements: blueprint goal-split-tempest-plugin\n'}, {'number': 2, 'created': '2017-12-02 10:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/79d546cecd994e360e558a1483d0fc139b1f9fc4', 'message': 'Remove In-repo cinder tempest plugin\n\nAs part of Queens Goal ""Split Tempest Plugins into Separate\nRepos/Projects"",the cinder tempest plugin needs to be split\ninto a separate project.\nhttps://governance.openstack.org/tc/goals/queens/split-tempest-plugins.html\n\nThis patch removes the in-tree tempest plugin as well as the\nsetuptools entry point.\n\nChange-Id: I5ff95ca13f02ed6e0afb35f0d6bb5c36d4111f5a\nDepends-On: Ib309cb1f87211e82eae0d27fa2464ec13a9deca6\nImplements: blueprint goal-split-tempest-plugin\n'}, {'number': 3, 'created': '2017-12-20 16:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/464c042d8098d93b89e39308594fd5ff98edcc07', 'message': 'Remove In-repo cinder tempest plugin\n\nAs part of Queens Goal ""Split Tempest Plugins into Separate\nRepos/Projects"",the cinder tempest plugin needs to be split\ninto a separate project.\nhttps://governance.openstack.org/tc/goals/queens/split-tempest-plugins.html\n\nThis patch removes the in-tree tempest plugin as well as the\nsetuptools entry point.\n\nChange-Id: I5ff95ca13f02ed6e0afb35f0d6bb5c36d4111f5a\nDepends-On: Ib309cb1f87211e82eae0d27fa2464ec13a9deca6\nImplements: blueprint goal-split-tempest-plugin\n'}, {'number': 4, 'created': '2017-12-20 17:11:51.000000000', 'files': ['cinder/tests/tempest/api/volume/test_consistencygroups.py', 'cinder/tests/tempest/opts.py', 'cinder/tests/tempest/api/__init__.py', 'cinder/tests/tempest/api/volume/test_volume_backup.py', 'cinder/tests/tempest/api/volume/test_volume_revert.py', 'cinder/tests/tempest/api/volume/__init__.py', 'cinder/tests/tempest/__init__.py', 'cinder/tests/tempest/api/volume/test_volume_unicode.py', 'cinder/tests/tempest/services/__init__.py', 'cinder/tests/tempest/cinder_clients.py', 'cinder/tests/tempest/plugin.py', 'cinder/tests/tempest/README.rst', 'cinder/tests/tempest/scenario/__init__.py', 'cinder/tests/tempest/services/consistencygroups_client.py', 'setup.cfg', 'cinder/tests/tempest/services/volume_revert_client.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bcec744c4513d4d5c88deff4f4b7832eadac2d5e', 'message': 'Remove In-repo cinder tempest plugin\n\nAs part of Queens Goal ""Split Tempest Plugins into Separate\nRepos/Projects"",the cinder tempest plugin needs to be split\ninto a separate project.\nhttps://governance.openstack.org/tc/goals/queens/split-tempest-plugins.html\n\nThis patch removes the in-tree tempest plugin as well as the\nsetuptools entry point.\n\nChange-Id: I5ff95ca13f02ed6e0afb35f0d6bb5c36d4111f5a\nDepends-On: Ib309cb1f87211e82eae0d27fa2464ec13a9deca6\nImplements: blueprint goal-split-tempest-plugin\n'}]",2,487144,bcec744c4513d4d5c88deff4f4b7832eadac2d5e,134,58,4,22259,,,0,"Remove In-repo cinder tempest plugin

As part of Queens Goal ""Split Tempest Plugins into Separate
Repos/Projects"",the cinder tempest plugin needs to be split
into a separate project.
https://governance.openstack.org/tc/goals/queens/split-tempest-plugins.html

This patch removes the in-tree tempest plugin as well as the
setuptools entry point.

Change-Id: I5ff95ca13f02ed6e0afb35f0d6bb5c36d4111f5a
Depends-On: Ib309cb1f87211e82eae0d27fa2464ec13a9deca6
Implements: blueprint goal-split-tempest-plugin
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/487144/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/tempest/api/volume/test_consistencygroups.py', 'cinder/tests/tempest/api/__init__.py', 'cinder/tests/tempest/api/volume/test_volume_backup.py', 'cinder/tests/tempest/api/volume/test_volume_revert.py', 'cinder/tests/tempest/api/volume/__init__.py', 'cinder/tests/tempest/__init__.py', 'cinder/tests/tempest/api/volume/test_volume_unicode.py', 'cinder/tests/tempest/config.py', 'cinder/tests/tempest/services/__init__.py', 'cinder/tests/tempest/cinder_clients.py', 'cinder/tests/tempest/plugin.py', 'cinder/tests/tempest/README.rst', 'cinder/tests/tempest/scenario/__init__.py', 'cinder/tests/tempest/services/consistencygroups_client.py', 'setup.cfg', 'cinder/tests/tempest/services/volume_revert_client.py']",16,dfd863f503515ce9a7dff090cc5a526cefb43b33,goal-split-tempest-plugins,,"# Copyright (C) 2017 Huawei. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_serialization import jsonutils as json from tempest.lib.common import rest_client from tempest.lib.services.volume.v3 import base_client class VolumeRevertClient(base_client.BaseClient): """"""Client class to send revert to snapshot action API request"""""" def __init__(self, auth_provider, service, region, **kwargs): super(VolumeRevertClient, self).__init__( auth_provider, service, region, **kwargs) def revert_to_snapshot(self, volume, snapshot_id): """"""Revert a volume to snapshot."""""" post_body = {'snapshot_id': snapshot_id} post_body = json.dumps({'revert': post_body}) resp, body = self.post('volumes/%s/action' % volume['id'], post_body) return rest_client.ResponseBody(resp, body) ",5,942
openstack%2Fcinder~master~I581ffcd8e14ab10e054be05429ee0f6717e27015,openstack/cinder,master,I581ffcd8e14ab10e054be05429ee0f6717e27015,VMAX doc - Queens feature documentation,MERGED,2017-12-19 15:40:52.000000000,2018-02-25 14:45:16.000000000,2017-12-26 04:00:01.000000000,"[{'_account_id': 7198}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-12-19 15:40:52.000000000', 'files': ['doc/source/configuration/block-storage/drivers/emc-vmax-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e7b940c3126f3be3022972f41268ed7fa82914ee', 'message': 'VMAX doc - Queens feature documentation\n\nPart 2 - New features documented are iSCSI CHAP Authentication\nand deprecation of configuration XML file.\n\nChange-Id: I581ffcd8e14ab10e054be05429ee0f6717e27015\nPartial-Bug: #1737735\n'}]",0,529094,e7b940c3126f3be3022972f41268ed7fa82914ee,40,28,1,12670,,,0,"VMAX doc - Queens feature documentation

Part 2 - New features documented are iSCSI CHAP Authentication
and deprecation of configuration XML file.

Change-Id: I581ffcd8e14ab10e054be05429ee0f6717e27015
Partial-Bug: #1737735
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/529094/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/emc-vmax-driver.rst'],1,e7b940c3126f3be3022972f41268ed7fa82914ee,bug/1737735_2,"the use of Dell EMC VMAX storage arrays with the Cinder Block Storage project. They both provide equivalent functions and differ only in support for their respective host attachment methods.storage management software. They use the Requests HTTP library to communicate with a Unisphere for VMAX instance, using a RESTAPI interface in the backend to perform VMAX storage operations.The Dell EMC VMAX Cinder driver supports the VMAX-3 hybrid series and VMAX All-Flash arrays. The array operating system software, Solutions Enabler 8.4.0.7 or later, and Unisphere for VMAX 8.4.0.15 or later are required to run Dell EMC VMAX Cinder driver.There are five Dell EMC Software Suites sold with the VMAX All Flash and Hybrid arrays:The Dell EMC VMAX Cinder driver requires the Advanced Suite and the Local Replication Suite or the Total Productivity Pack (it includes the Advanced Suite and the Local Replication Suite) for the VMAX All Flash and Hybrid. Using VMAX Remote Replication functionality will also require the Remote- Volume replication SRDF/S, SRDF/A and SRDF Metro- Manage and unmanage volumes and snapshots .. note:: For security and backend uniformity, the use of the XML file for VMAX backend configuration has been deprecation in Queens. While the xml file usage will still be supported, a warning will be issued on its impending deprecation. +-----------------+------------------------+---------+----------+----------------------+ | VMAX parameter | cinder.conf parameter | Default | Required | Description | +=================+========================+=========+==========+======================+ | RestServerIp | san_ip | "" | Yes | IP address of the | | | | | | Unisphere server | +-----------------+------------------------+---------+----------+----------------------+ | RestServerPort | san_rest_port | 8443 | No | Port of the | | | | | | Unisphere server | +-----------------+------------------------+---------+----------+----------------------+ | RestUserName | san_login | 'admin' | Yes | Username of the | | | | | | Unisphere server | +-----------------+------------------------+---------+----------+----------------------+ | RestPassword | san_password | "" | Yes | Password of the | | | | | | Unisphere server | +-----------------+------------------------+---------+----------+----------------------+ | Array | vmax_array | None | Yes | Unique VMAX array | | | | | | serial number | +-----------------+------------------------+---------+----------+----------------------+ | SRP | vmax_srp | None | Yes | Name of the | | | | | | storage resource pool| +-----------------+------------------------+---------+----------+----------------------+ | PortGroups | vmax_port_groups | None | Yes | The name(s) of VMAX | | | | | | port group(s) | +-----------------+------------------------+---------+----------+----------------------+ | SSLVerify | driver_ssl_cert_verify | False | No | The path to the | | | driver_ssl_cert_path | None | No | ``ca_cert.pem`` | +-----------------+------------------------+---------+----------+----------------------+ .. note:: VMAX ``PortGroups`` must be pre-configured to expose volumes managed by the array. Port groups can be supplied in the ``cinder.conf``, or can be specified as an extra spec ``storagetype:portgroupname`` on a volume type. The latter gives the user more control. When a dynamic masking view is created by the VMAX driver, if there is no port group specified as an extra specification, the port group is chosen randomly from the PortGroup list, to evenly distribute load across the set of groups provided. .. note:: Service Level and workload can be added to the cinder.conf when the backend is the default case and there is no associated volume type. This not a recommended configuration as it is too restrictive. +-----------------+------------------------+---------+----------+ | VMAX parameter | cinder.conf parameter | Default | Required | +=================+========================+=========+==========+ | ServiceLevel | vmax_service_level | None | No | +-----------------+------------------------+---------+----------+ | Workload | vmax_workload | None | No | +-----------------+------------------------+---------+----------+ Configure Block Storage in cinder.conf volume_backend_name = VMAX_ISCSI_DIAMOND vmax_port_groups = [OS-ISCSI-PG] san_ip = 10.60.141.97 san_login = smc san_password = smc vmax_array = 000197800128 vmax_srp = SRP_1 volume_backend_name = VMAX_ISCSI_DIAMOND vmax_port_groups = [OS-ISCSI-PG] san_ip = 10.60.141.97 san_login = smc san_password = smc vmax_array = 000197800128 vmax_srp = SRP_1 section describing unique parameters for connections, drivers and the ``volume_backend_name``. Once the ``cinder.conf`` has been updated, :command:`openstack` commands need to be issued in order to create and associate OpenStack volume types with the declared ``volume_backend_names``. The ``ServiceLevel`` manages the underlying storage to provide expected performance. Setting the ``ServiceLevel`` to ``NONE`` means that non-FAST managed storage groups will be created instead (storage groups not associated with any service level). If ``ServiceLevel`` is ``NONE`` then ``Workload`` must be ``NONE``. .. code-block:: console openstack volume type set --property pool_name=NONE+NONE+SRP_1+000197800123 When a ``Workload`` is added, the latency range is reduced due to the added information. Setting the ``Workload`` to ``NONE`` means the latency range will be the widest for its Service Level type. Please note that you cannot set a Workload without a Service Level. .. code-block:: console openstack volume type set --property pool_name=Diamond+NONE+SRP_1+000197800123 #. Add this path to the ``cinder.conf`` under the backend stanza driver_ssl_cert_path = /path/to/ca_cert.pem#. Ensure ``driver_ssl_cert_verify`` is set to ``True`` in cinder.conf backend stanza ``OR`` the path defined in step 1. CHAP Authentication Support ~~~~~~~~~~~~~~~~~~~~~~~~~~~ This supports one way initiator CHAP authentication functionality into the VMAX backend. With CHAP one-way authentication, the storage array challenges the host during the initial link negotiation process and expects to receive a valid credential and CHAP secret in response. When challenged, the host transmits a CHAP credential and CHAP secret to the storage array. The storage array looks for this credential and CHAP secret which stored in the host initiator's initiator group (IG) information in the ACLX database. Once a positive authentication occurs, the storage array sends an acceptance message to the host. However, if the storage array fails to find any record of the credential/secret pair, it sends a rejection message, and the link is closed. Assumptions, Restrictions and Pre-Requisites -------------------------------------------- #. The host initiator IQN is required along with the credentials the host initiator will use to log into the storage array with. The same credentials should be used in a multi node system if connecting to the same array. #. Enable one way CHAP authentication for the iscsi initiator on the storage array using SYMCLI. Template and example shown below. For the purpose of this setup, the credential/secret used would be openstack/openstack with iscsi initiator of iqn.1991-05.com.company.lcseb130 .. code-block:: console $ symaccess -sid <SymmID> -iscsi <iscsi> enable chap | disable chap | set chap -cred <Credential> -secret <Secret> $ symaccess -sid 128 \ -iscsi iqn.1991-05.com.company.lcseb130 \ set chap -cred openstack -secret openstack Settings and Configuration -------------------------- #. Set the configuration in the VMAX backend group in cinder.conf using the following parameters and restart cinder. +-----------------------+-------------------------+-------------------+ | Configuration options | Value required for CHAP | Required for CHAP | +=======================+=========================+===================+ | use_chap_auth | True | Yes | +-----------------------+-------------------------+-------------------+ | chap_username | openstack | Yes | +-----------------------+-------------------------+-------------------+ | chap_password | openstack | Yes | +-----------------------+-------------------------+-------------------+ .. code-block:: ini [VMAX_ISCSI_DIAMOND] image_volume_cache_enabled = True volume_clear = zero volume_driver = cinder.volume.drivers.dell_emc.vmax.iscsi.VMAXISCSIDriver volume_backend_name = VMAX_ISCSI_DIAMOND san_ip = 10.60.141.97 san_login = smc san_password = smc vmax_srp = SRP_1 vmax_array = 000197800128 vmax_port_groups = [OS-ISCSI-PG] use_chap_auth = True chap_username = openstack chap_password = openstack Usage ----- #. Using SYMCLI, enable CHAP authentication for a host initiator as described above, but do not set ``use_chap_auth``, ``chap_username`` or ``chap_password`` in ``cinder.conf``. Create a bootable volume. .. code-block:: console openstack volume create --size 1 \ --image <image_name> \ --type <VOLUME_TYPE> \ test #. Boot instance named test_server using the volume created above: .. code-block:: console openstack server create --volume test \ --flavor m1.small \ --nic net-id=private \ test_server #. Verify the volume operation succeeds but the boot instance fails as CHAP authentication fails. #. Update the ``cinder.conf`` with ``use_chap_auth`` set to true and ``chap_username`` and ``chap_password`` set with the correct credentials. #. Rerun ``openstack server create`` #. Verify that the boot instance operation ran correctly and the volume is accessible. #. Verify that both the volume and boot instance operations ran successfully and the user is able to access the volume.","the use of Dell EMC VMAX storage arrays with Block Storage. They both provide equivalent functions and differ only in support for their respective host attachment methods.storage. They use the Requests HTTP library to communicate with a Unisphere for VMAX instance, using a RESTAPI interface in the backend to perform VMAX storage operations.The Cinder driver supports the VMAX-3 series and VMAX All-Flash arrays. Solutions Enabler 8.4.0.7 or later, and Unisphere for VMAX 8.4.0.15 or later are required.There are five Software Suites available for the VMAX All Flash and Hybrid:OpenStack requires the Advanced Suite and the Local Replication Suite or the Total Productivity Pack (it includes the Advanced Suite and the Local Replication Suite) for the VMAX All Flash and Hybrid. Using the Remote Replication functionality will also require the Remote- Volume replication cinder_dell_emc_config_file = /etc/cinder/cinder_dell_emc_config_CONF_GROUP_ISCSI.xml volume_backend_name = ISCSI_backend cinder_dell_emc_config_file = /etc/cinder/cinder_dell_emc_config_CONF_GROUP_FC.xml volume_backend_name = FC_backend section describing unique parameters for connections, drivers, the ``volume_backend_name``, and the name of the EMC-specific configuration file containing additional settings. Note that the file name is in the format ``/etc/cinder/cinder_dell_emc_config_[confGroup].xml``. Once the ``cinder.conf`` and EMC-specific configuration files have been created, :command:`openstack` commands need to be issued in order to create and associate OpenStack volume types with the declared ``volume_backend_names``: Run the command cinder get-pools --detail to query for the pool information. This should list all the available Service Level and Workload combinations available for the SRP as pools belonging to the same backend. You can create many volume types for different service level and workload types using the same backend. ``ServiceLevel`` The Service Level manages the underlying storage to provide expected performance. Setting the ``ServiceLevel`` to ``NONE`` means that non-FAST managed storage groups will be created instead (storage groups not associated with any service level). ``Workload`` When a workload type is added, the latency range is reduced due to the added information. Setting the ``Workload`` to ``NONE`` means the latency range will be the widest for its Service Level type. Please note that you cannot set a Workload without a Service Level. .. note:: #. Create an XML file Create the ``/etc/cinder/cinder_dell_emc_config_CONF_GROUP_ISCSI.xml`` file. You do not need to restart the service for this change. Add the following lines to the XML file: .. code-block:: xml <?xml version=""1.0"" encoding=""UTF-8"" ?> <EMC> <RestServerIp>1.1.1.1</RestServerIp> <RestServerPort>8443</RestServerPort> <RestUserName>smc</RestUserName> <RestPassword>smc</RestPassword> <PortGroups> <PortGroup>OS-PORTGROUP1-PG</PortGroup> <PortGroup>OS-PORTGROUP2-PG</PortGroup> </PortGroups> <Array>111111111111</Array> <SRP>SRP_1</SRP> <SSLVerify>/path/to/sslcert</SSLVerify> </EMC> Where: ``RestServerIp`` IP address of the Unisphere server. ``RestServerPort`` Port number of the Unisphere server. ``RestUserName`` and ``RestPassword`` Credentials for the Unisphere server. ``PortGroups`` Supplies the names of VMAX port groups that have been pre-configured to expose volumes managed by this array. Port groups can be supplied in the XML file, or can be specified as an extra spec on a volume type for more control. Please see above section on port groups. When a dynamic masking view is created by the VMAX driver, if there is no port group specified as an extra specification, the port group is chosen randomly from the PortGroup list, to evenly distribute load across the set of groups provided. .. note:: There is also the option to assign a port group to a volume type by setting the ``storagetype:portgroupname`` extra specification. ``Array`` Unique VMAX array serial number. ``SRP`` The name of the storage resource pool for the given array. ``SSLVerify`` The path to the ``ca_cert.pem`` file of the Unisphere instance below, or ``True`` if the SSL cert has been added to the bundle - see ``SSL support``. #. Please note that the Pike release of VMAX cinder drivers will be the last release which supports Hybrid VMAX3 Arrays. #. Add this path to the <SSLVerify> tag in ``/etc/cinder/cinder_dell_emc_config_<conf_group>.xml`` <SSLVerify>/path/to/ca_cert.pem</SSLVerify>#. Ensure ``<SSLVerify>`` tag in ``/etc/cinder/cinder_dell_emc_config_<conf_group>.xml`` is set to True OR the path defined in step 1.",237,118
openstack%2Fcinder~master~I263c3f5201ac76773a9c962ec958f02f601c6adc,openstack/cinder,master,I263c3f5201ac76773a9c962ec958f02f601c6adc,Raise PolicyNotAuthorized exception on consistency Group snapshot,MERGED,2017-10-11 09:47:41.000000000,2018-02-25 14:43:49.000000000,2017-12-20 00:53:53.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10608}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 14532}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21279}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-11 09:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f13b8ac4f115d724636c70847dbaeb6fcdcf1a24', 'message': 'Add the delete exception message with HTTPBadRequest error\n\nChange-Id: I263c3f5201ac76773a9c962ec958f02f601c6adc\n'}, {'number': 2, 'created': '2017-10-11 12:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/be6047841439070aedf78b22ac033adf941cdce5', 'message': 'Add the delete exception message with HTTPBadRequest error\n\nChange-Id: I263c3f5201ac76773a9c962ec958f02f601c6adc\nCloses-bug:#1722736\n'}, {'number': 3, 'created': '2017-10-16 17:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3daa9f238238ebec97f6435bb32088673c6d0457', 'message': 'Message change for Policy error message change when user is not-authorized\n\nIn role based access control test case, a consistencyGroup snapshot delete when\nattempted by Non-admin role/user does return an informative policy not\nauthorized message.\n\nThe proposed fix catches the PolicyNotAuthorized exception explicitly and hence\nthe correct message is sent to the caller method.\n\nCloses-bug:#1722736\n\nChange-Id: I263c3f5201ac76773a9c962ec958f02f601c6adc\n'}, {'number': 4, 'created': '2017-10-19 12:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/893ac8f2b6ec246a8698939b0d440f2a2cff3e33', 'message': 'Message change for Policy error message change when user is not-authorized\n\nIn role based access control test case, a consistencyGroup snapshot delete when\nattempted by Non-admin role/user does not return an informative policy not\nauthorized message.\n\nThe proposed fix catches the PolicyNotAuthorized exception explicitly and hence\nthe correct message is sent to the caller method.\n\nCloses-bug:#1722736\n\nChange-Id: I263c3f5201ac76773a9c962ec958f02f601c6adc\n'}, {'number': 5, 'created': '2017-10-20 09:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ef7acda8906025abeee7335f5086d6c4cf44e43a', 'message': 'Raise PolicyNotAuthorized exception on consistencyGroup snapshot by an user\nnot-authorized\n\nIn role based access control test case, a consistencyGroup snapshot delete when\nattempted by Non-admin role/user does not return an informative policy not\nauthorized message.\n\nThe proposed fix catches the PolicyNotAuthorized exception explicitly to raise\nthe appropriate message and error code to the caller method.\n\nCloses-bug:#1722736\n\nChange-Id: I263c3f5201ac76773a9c962ec958f02f601c6adc\n'}, {'number': 6, 'created': '2017-12-12 13:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4bcca6513d000851f970251a3a0b358e9dd68750', 'message': 'Raise PolicyNotAuthorized exception on consistency Group snapshot\n\nIn role based access control test case, a consistencyGroup snapshot\ndelete when attempted by Non-admin role/user does not return\nan informative policy not authorized message.\n\nThe proposed fix catches the PolicyNotAuthorized exception\nexplicitly to raise the appropriate message and error code\nto the caller method, includes a new unit test case.\n\nCloses-bug:#1722736\n\nChange-Id: I263c3f5201ac76773a9c962ec958f02f601c6adc\n'}, {'number': 7, 'created': '2017-12-18 04:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0a180c97606bb6a88a4927c3827a45851c043bc7', 'message': 'Raise PolicyNotAuthorized exception on consistency Group snapshot\n\nIn role based access control test case, a consistencyGroup snapshot\ndelete when attempted by Non-admin role/user does not return\nan informative policy not authorized message.\n\nThe proposed fix catches the PolicyNotAuthorized exception\nexplicitly to raise the appropriate message and error code\nto the caller method, includes a new unit test case.\n\nCloses-bug:#1722736\n\nChange-Id: I263c3f5201ac76773a9c962ec958f02f601c6adc\n'}, {'number': 8, 'created': '2017-12-19 09:19:35.000000000', 'files': ['cinder/api/contrib/cgsnapshots.py', 'cinder/tests/unit/api/contrib/test_cgsnapshots.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3f86310b44105b53846820d262d82091cf58f8f0', 'message': 'Raise PolicyNotAuthorized exception on consistency Group snapshot\n\nIn role based access control test case, a consistencyGroup snapshot\ndelete when attempted by Non-admin role/user does not return\nan informative policy not authorized message.\n\nThe proposed fix catches the PolicyNotAuthorized exception\nexplicitly to raise the appropriate message and error code\nto the caller method, includes a new unit test case.\n\nCloses-bug:#1722736\n\nChange-Id: I263c3f5201ac76773a9c962ec958f02f601c6adc\n'}]",16,511195,3f86310b44105b53846820d262d82091cf58f8f0,198,51,8,20050,,,0,"Raise PolicyNotAuthorized exception on consistency Group snapshot

In role based access control test case, a consistencyGroup snapshot
delete when attempted by Non-admin role/user does not return
an informative policy not authorized message.

The proposed fix catches the PolicyNotAuthorized exception
explicitly to raise the appropriate message and error code
to the caller method, includes a new unit test case.

Closes-bug:#1722736

Change-Id: I263c3f5201ac76773a9c962ec958f02f601c6adc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/511195/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/contrib/cgsnapshots.py'],1,f13b8ac4f115d724636c70847dbaeb6fcdcf1a24,bug/1722736, except Exception as e: raise exc.HTTPBadRequest(explanation=six.text_type(e))," except Exception: msg = _(""Failed cgsnapshot"") raise exc.HTTPBadRequest(explanation=msg)",2,3
openstack%2Fcinder~master~Ief48c73eb09afe2b5ff8c391f06013ab7eebd670,openstack/cinder,master,Ief48c73eb09afe2b5ff8c391f06013ab7eebd670,[api-ref] Fix http method for updating encryption type,MERGED,2017-11-21 15:52:46.000000000,2018-02-25 14:43:40.000000000,2017-12-19 00:40:38.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23081}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25388}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-21 15:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/98f69c1657ed597f544f101082b6e41eccb6c750', 'message': ""[api-ref] Fix http method for updating encryption type\n\nThis patch aims to fix http method in api-ref for updating encryption\ntype, changing from 'POST' to 'PUT'.\n\nChange-Id: Ief48c73eb09afe2b5ff8c391f06013ab7eebd670\n""}, {'number': 2, 'created': '2017-11-29 14:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/45b70c5dccf56c0e6b23cafe8ecbdb13c163587e', 'message': ""[api-ref] Fix http method for updating encryption type\n\nThis patch aims to fix http method in api-ref for updating encryption\ntype, changing from 'POST' to 'PUT'.\n\nChange-Id: Ief48c73eb09afe2b5ff8c391f06013ab7eebd670\n""}, {'number': 3, 'created': '2017-12-18 14:26:54.000000000', 'files': ['api-ref/source/v3/volumes-v3-types.inc', 'api-ref/source/v2/volumes-v2-types.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f02aa85d75fb0a942b7aff1c0220571a38ca1c48', 'message': ""[api-ref] Fix http method for updating encryption type\n\nThis patch aims to fix http method in api-ref for updating encryption\ntype, changing from 'POST' to 'PUT'.\n\nChange-Id: Ief48c73eb09afe2b5ff8c391f06013ab7eebd670\n""}]",4,521904,f02aa85d75fb0a942b7aff1c0220571a38ca1c48,86,40,3,23081,,,0,"[api-ref] Fix http method for updating encryption type

This patch aims to fix http method in api-ref for updating encryption
type, changing from 'POST' to 'PUT'.

Change-Id: Ief48c73eb09afe2b5ff8c391f06013ab7eebd670
",git fetch https://review.opendev.org/openstack/cinder refs/changes/04/521904/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/volumes-v3-types.inc', 'api-ref/source/v2/volumes-v2-types.inc']",2,98f69c1657ed597f544f101082b6e41eccb6c750,fix_api_ref,.. rest_method:: PUT /v2/{project_id}/types/{volume_type_id}/encryption/{encryption_id},.. rest_method:: POST /v2/{project_id}/types/{volume_type_id}/encryption/{encryption_id},2,2
openstack%2Fcinder~master~I5231f8fe3399deb9c57e6efb121d0d008dc9c7f4,openstack/cinder,master,I5231f8fe3399deb9c57e6efb121d0d008dc9c7f4,Rename iSCSI target config options to more general,MERGED,2017-12-16 22:56:26.000000000,2018-02-25 14:43:38.000000000,2017-12-20 16:23:46.000000000,"[{'_account_id': 1736}, {'_account_id': 2759}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12171}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22948}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26682}]","[{'number': 1, 'created': '2017-12-16 22:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6107a06b6944abe11e006e36e75ab83511272bb0', 'message': ""Rename iSCSI target config options to more general\n\nSince NVMET target driver will be implemented it would be good to use\nthe same config options both for NVMEoF and iSCSI targets. That's why\nthis path renames iscsi_ip_address, iscsi_port and target_helper to\ntarget_ip_address, target_port and target_helper according to current\ndeprecation policy.\n\nChange-Id: I5231f8fe3399deb9c57e6efb121d0d008dc9c7f4\nRelated-Blueprint: nvme-target-cli\n""}, {'number': 2, 'created': '2017-12-17 20:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/15451e846bf312c3de6f49c929b0c37f47677c72', 'message': ""Rename iSCSI target config options to more general\n\nSince NVMET target driver will be implemented it would be good to use\nthe same config options both for NVMEoF and iSCSI targets. That's why\nthis path renames iscsi_ip_address, iscsi_port, target_helper\niscsi_target_prefix, iscsi_protocol to target_ip_address, target_port,\ntarget_helper target_prefix, and target_protocol according to current\ndeprecation policy.\n\nChange-Id: I5231f8fe3399deb9c57e6efb121d0d008dc9c7f4\nRelated-Blueprint: nvme-target-cli\n""}, {'number': 3, 'created': '2017-12-18 08:55:03.000000000', 'files': ['cinder/volume/drivers/qnap.py', 'cinder/tests/unit/windows/test_windows.py', 'releasenotes/notes/rename-iscsi-target-config-options-24913d7452c4a58e.yaml', 'cinder/tests/unit/targets/test_cxt_driver.py', 'cinder/volume/drivers/windows/windows.py', 'cinder/tests/unit/targets/test_base_iscsi_driver.py', 'cinder/tests/unit/volume/drivers/test_drbdmanagedrv.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py', 'cinder/volume/drivers/san/san.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/volume/targets/lio.py', 'cinder/tests/unit/targets/test_iet_driver.py', 'cinder/volume/drivers/ibm/flashsystem_iscsi.py', 'cinder/tests/unit/volume/drivers/test_qnap.py', 'cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'cinder/volume/drivers/synology/synology_iscsi.py', 'cinder/volume/drivers/synology/synology_common.py', 'cinder/tests/unit/volume/drivers/synology/test_synology_common.py', 'cinder/tests/unit/targets/test_iser_driver.py', 'cinder/tests/unit/volume/drivers/ibm/test_ibm_flashsystem_iscsi.py', 'cinder/volume/drivers/lvm.py', 'cinder/tests/unit/volume/drivers/dell_emc/sc/test_scapi.py', 'cinder/volume/drivers/drbdmanagedrv.py', 'cinder/volume/drivers/fujitsu/eternus_dx_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/sc/test_sc.py', 'cinder/tests/unit/volume/drivers/synology/test_synology_iscsi.py', 'cinder/tests/unit/conf_fixture.py', 'cinder/volume/drivers/prophetstor/dpl_iscsi.py', 'cinder/volume/targets/scst.py', 'cinder/tests/unit/volume/drivers/test_lvm_driver.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py', 'cinder/volume/targets/iscsi.py', 'cinder/tests/unit/targets/test_lio_driver.py', 'cinder/tests/unit/volume/drivers/test_prophetstor_dpl.py', 'cinder/tests/unit/targets/targets_fixture.py', 'cinder/volume/driver.py', 'cinder/tests/unit/targets/test_tgt_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b092e8d9d6611d73e22177cb57581e3e2cecee3', 'message': ""Rename iSCSI target config options to more general\n\nSince NVMET target driver will be implemented it would be good to use\nthe same config options both for NVMEoF and iSCSI targets. That's why\nthis path renames iscsi_ip_address, iscsi_port, iscsi_helper\niscsi_target_prefix, iscsi_protocol to target_ip_address, target_port,\ntarget_helper, target_prefix, and target_protocol according to current\ndeprecation policy.\n\nChange-Id: I5231f8fe3399deb9c57e6efb121d0d008dc9c7f4\nRelated-Blueprint: nvme-target-cli\n""}]",8,528515,4b092e8d9d6611d73e22177cb57581e3e2cecee3,92,37,3,1736,,,0,"Rename iSCSI target config options to more general

Since NVMET target driver will be implemented it would be good to use
the same config options both for NVMEoF and iSCSI targets. That's why
this path renames iscsi_ip_address, iscsi_port, iscsi_helper
iscsi_target_prefix, iscsi_protocol to target_ip_address, target_port,
target_helper, target_prefix, and target_protocol according to current
deprecation policy.

Change-Id: I5231f8fe3399deb9c57e6efb121d0d008dc9c7f4
Related-Blueprint: nvme-target-cli
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/528515/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/qnap.py', 'cinder/tests/unit/windows/test_windows.py', 'releasenotes/notes/rename-iscsi-target-config-options-24913d7452c4a58e.yaml', 'cinder/tests/unit/targets/test_cxt_driver.py', 'cinder/volume/drivers/windows/windows.py', 'cinder/tests/unit/volume/drivers/test_drbdmanagedrv.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py', 'cinder/tests/unit/targets/test_iet_driver.py', 'cinder/volume/drivers/ibm/flashsystem_iscsi.py', 'cinder/tests/unit/volume/drivers/test_qnap.py', 'cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'cinder/volume/drivers/synology/synology_common.py', 'cinder/tests/unit/volume/drivers/synology/test_synology_common.py', 'cinder/tests/unit/volume/drivers/ibm/test_ibm_flashsystem_iscsi.py', 'cinder/volume/drivers/lvm.py', 'cinder/tests/unit/volume/drivers/dell_emc/sc/test_scapi.py', 'cinder/volume/drivers/drbdmanagedrv.py', 'cinder/volume/drivers/fujitsu/eternus_dx_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/sc/test_sc.py', 'cinder/tests/unit/conf_fixture.py', 'cinder/volume/drivers/prophetstor/dpl_iscsi.py', 'cinder/volume/targets/scst.py', 'cinder/tests/unit/volume/drivers/test_lvm_driver.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py', 'cinder/volume/targets/iscsi.py', 'cinder/tests/unit/targets/test_lio_driver.py', 'cinder/tests/unit/volume/drivers/test_prophetstor_dpl.py', 'cinder/tests/unit/targets/targets_fixture.py', 'cinder/volume/driver.py', 'cinder/tests/unit/targets/test_tgt_driver.py']",31,6107a06b6944abe11e006e36e75ab83511272bb0,bp/nvme-target-cli," portals_ips=[self.configuration.target_ip_address], portals_port=self.configuration.target_port)"," portals_ips=[self.configuration.iscsi_ip_address], portals_port=self.configuration.iscsi_port)",85,75
openstack%2Fcinder~master~I950316ac0924acd692b2410993f3c240ce319d6f,openstack/cinder,master,I950316ac0924acd692b2410993f3c240ce319d6f,Use method validate_integer from oslo.utils,MERGED,2017-12-18 04:12:23.000000000,2018-02-25 14:43:37.000000000,2018-01-07 07:13:48.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9796}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-18 04:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a5a9b6708f949b6ab02072fa2951c6c6b7de22cf', 'message': 'Use method validate_integer from oslo.utils\n\nWe added method validate_integer in oslo.utils 3.33.0 [1].\nso we can simply the method validate_integer in Cinder.\n\nDepends-On: I741875eba329b762789a7c7c910a6c46beeff3fa\n\n[1] https://review.openstack.org/#/c/508401/\n\nChange-Id: I950316ac0924acd692b2410993f3c240ce319d6f\n'}, {'number': 2, 'created': '2017-12-18 05:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eeac296285c5a3fa723fd3015d9586af23deb412', 'message': 'Use method validate_integer from oslo.utils\n\nWe added method validate_integer in oslo.utils 3.33.0 [1].\nso we can simply the method validate_integer in Cinder.\n\nDepends-On: I741875eba329b762789a7c7c910a6c46beeff3fa\n\n[1] https://review.openstack.org/#/c/508401/\n\nChange-Id: I950316ac0924acd692b2410993f3c240ce319d6f\n'}, {'number': 3, 'created': '2017-12-18 08:23:31.000000000', 'files': ['cinder/tests/unit/api/contrib/test_volume_type_encryption.py', 'cinder/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c0951aac0ade57dbd548bf3ded6630f06303858a', 'message': 'Use method validate_integer from oslo.utils\n\nWe added method validate_integer in oslo.utils 3.33.0 [1].\nso we can simply the method validate_integer in Cinder.\n\nDepends-On: I741875eba329b762789a7c7c910a6c46beeff3fa\n\n[1] https://review.openstack.org/#/c/508401/\n\nChange-Id: I950316ac0924acd692b2410993f3c240ce319d6f\n'}]",4,528618,c0951aac0ade57dbd548bf3ded6630f06303858a,69,36,3,9796,,,0,"Use method validate_integer from oslo.utils

We added method validate_integer in oslo.utils 3.33.0 [1].
so we can simply the method validate_integer in Cinder.

Depends-On: I741875eba329b762789a7c7c910a6c46beeff3fa

[1] https://review.openstack.org/#/c/508401/

Change-Id: I950316ac0924acd692b2410993f3c240ce319d6f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/528618/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/utils.py'],1,a5a9b6708f949b6ab02072fa2951c6c6b7de22cf,validate_integer," try: value = strutils.validate_integer(value, name, min_value, max_value) return value except ValueError as e: raise webob.exc.HTTPBadRequest(explanation=str(e))"," if not strutils.is_int_like(value): raise webob.exc.HTTPBadRequest(explanation=( _('%s must be an integer.') % name)) value = int(value) if min_value is not None and value < min_value: raise webob.exc.HTTPBadRequest( explanation=(_('%(value_name)s must be >= %(min_value)d') % {'value_name': name, 'min_value': min_value})) if max_value is not None and value > max_value: raise webob.exc.HTTPBadRequest( explanation=(_('%(value_name)s must be <= %(max_value)d') % {'value_name': name, 'max_value': max_value})) return value",5,15
openstack%2Fcinder~master~Ic1545e431d5b874c5b4beb7265c318aa1708d18e,openstack/cinder,master,Ic1545e431d5b874c5b4beb7265c318aa1708d18e,Tempest plugin: switch to use new base_client.BaseClient,ABANDONED,2017-12-16 08:15:04.000000000,2018-02-25 14:43:33.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12032}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-16 08:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fc7d6078e195047a2808212de6ee13a419a68dfb', 'message': ""Tempest plugin: switch to use new base_client.BaseClient\n\nClass 'tempest.lib.services.volume.v3.base_client.BaseClient' has moved\nto 'tempest.lib.services.volume.base_client.BaseClient' in version Pike\n[1] and will be removed in a future version.\n\n[1] I645ae35daebd924c4c4523163e5419cc050bb0ed\n\nChange-Id: Ic1545e431d5b874c5b4beb7265c318aa1708d18e\n""}, {'number': 2, 'created': '2017-12-16 10:16:20.000000000', 'files': ['cinder/tests/tempest/services/volume_revert_client.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/12285d03c25e08ab3a9d14274d813b50d6012e93', 'message': ""Tempest plugin: switch to use new base_client.BaseClient\n\nClass 'tempest.lib.services.volume.v3.base_client.BaseClient' has moved\nto 'tempest.lib.services.volume.base_client.BaseClient' in version Pike\n[1] and will be removed in a future version.\n\n[1] I645ae35daebd924c4c4523163e5419cc050bb0ed\n\nChange-Id: Ic1545e431d5b874c5b4beb7265c318aa1708d18e\n""}]",0,528457,12285d03c25e08ab3a9d14274d813b50d6012e93,23,17,2,23081,,,0,"Tempest plugin: switch to use new base_client.BaseClient

Class 'tempest.lib.services.volume.v3.base_client.BaseClient' has moved
to 'tempest.lib.services.volume.base_client.BaseClient' in version Pike
[1] and will be removed in a future version.

[1] I645ae35daebd924c4c4523163e5419cc050bb0ed

Change-Id: Ic1545e431d5b874c5b4beb7265c318aa1708d18e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/528457/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/tempest/services/volume_revert_client.py'],1,fc7d6078e195047a2808212de6ee13a419a68dfb,tempest_volume_base_client,from tempest.lib.services.volume import base_client,from tempest.lib.services.volume.v3 import base_client ,1,2
openstack%2Fcinder~master~Ifa8ea98e494d3058ef1a29fee4ab9fa76149ce08,openstack/cinder,master,Ifa8ea98e494d3058ef1a29fee4ab9fa76149ce08,Correct documented service upgrade order,MERGED,2017-12-14 21:08:35.000000000,2018-02-25 14:43:31.000000000,2017-12-16 01:46:54.000000000,"[{'_account_id': 2243}, {'_account_id': 6816}, {'_account_id': 7198}, {'_account_id': 10622}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 14805}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-14 21:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/914040762eb92033062ab04badf30b4463c4671c', 'message': 'Correct documented service upgrade order\n\nWe had inconsistent service upgrade order information in our upgrade\ndocumentation. This corrects the order to be consistent with our\nrecommended order of operations.\n\nChange-Id: Ifa8ea98e494d3058ef1a29fee4ab9fa76149ce08\nCloses-bug: #1738223\n'}, {'number': 2, 'created': '2017-12-15 17:56:17.000000000', 'files': ['doc/source/upgrade.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf355db0ed357fb8387206735f4ea2cb717751a8', 'message': 'Correct documented service upgrade order\n\nWe had inconsistent service upgrade order information in our upgrade\ndocumentation. This corrects the order to be consistent with our\nrecommended order of operations.\n\nChange-Id: Ifa8ea98e494d3058ef1a29fee4ab9fa76149ce08\nCloses-bug: #1738223\n'}]",1,528084,cf355db0ed357fb8387206735f4ea2cb717751a8,37,21,2,11904,,,0,"Correct documented service upgrade order

We had inconsistent service upgrade order information in our upgrade
documentation. This corrects the order to be consistent with our
recommended order of operations.

Change-Id: Ifa8ea98e494d3058ef1a29fee4ab9fa76149ce08
Closes-bug: #1738223
",git fetch https://review.opendev.org/openstack/cinder refs/changes/84/528084/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/upgrade.rst'],1,914040762eb92033062ab04badf30b4463c4671c,bug/1738223,"* Assumed service upgrade order is cinder-scheduler, cinder-volume, cinder-backup and finally cinder-api.","* Assumed service upgrade order is cinder-api, cinder-scheduler, cinder-volume and finally cinder-backup.",2,2
openstack%2Fcinder~master~Ib37ed5e65ccdd44d2726b36bc668aad2dcd98339,openstack/cinder,master,Ib37ed5e65ccdd44d2726b36bc668aad2dcd98339,VMAX doc - Queens feature documentation,MERGED,2017-12-12 16:42:49.000000000,2018-02-25 14:43:12.000000000,2017-12-24 23:19:26.000000000,"[{'_account_id': 7198}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23414}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-12 16:42:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aab6440ec373af58ef8b190b9c3f96fee3cea532', 'message': 'VMAX doc - Queens feature documentation\n\nPart 1 - New features documented are Asynchronous SRDF,\nSRDF Metro and Manage/Unmanage Snapshots.\n\nChange-Id: Ib37ed5e65ccdd44d2726b36bc668aad2dcd98339\nPartial-Bug: #1737735\n'}, {'number': 2, 'created': '2017-12-15 11:41:21.000000000', 'files': ['doc/source/configuration/block-storage/drivers/emc-vmax-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d2281815dfcd0803c7d6ccc52d2f8fd398761876', 'message': 'VMAX doc - Queens feature documentation\n\nPart 1 - New features documented are Asynchronous SRDF,\nSRDF Metro and Manage/Unmanage Snapshots.\n\nChange-Id: Ib37ed5e65ccdd44d2726b36bc668aad2dcd98339\nPartial-Bug: #1737735\n'}]",1,527458,d2281815dfcd0803c7d6ccc52d2f8fd398761876,35,24,2,12670,,,0,"VMAX doc - Queens feature documentation

Part 1 - New features documented are Asynchronous SRDF,
SRDF Metro and Manage/Unmanage Snapshots.

Change-Id: Ib37ed5e65ccdd44d2726b36bc668aad2dcd98339
Partial-Bug: #1737735
",git fetch https://review.opendev.org/openstack/cinder refs/changes/58/527458/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/emc-vmax-driver.rst'],1,aab6440ec373af58ef8b190b9c3f96fee3cea532,bug/1737735,"#. Configure an SRDF group between the chosen source and target with the 'vmax_array' entry in the cinder.conf (or the ``<Array>`` entry in the VMAX XML file for legacy setups). director endpoints. Supported modes are `Synchronous`, `Asynchronous`, and `Metro`. server), or enter the details of a second Unisphere server to the , which is locally connected to the target array (for example, the .. note:: If you are setting up an SRDF/Metro configuration, it is recommended that you configure a Witness or vWitness for bias management. Please see https://www.emc.com/collateral/technical-documentation/h14556-vmax3-srdf-metro-overview-and-best-practices-tech-note.pdf replication_device = target_device_id:000197811111, remote_port_group:os-failover-pg, remote_pool:SRP_1, rdf_group_label: 28_11_07, allow_extend:False, mode:Metro, metro_use_bias:False, allow_delete_metro:False * ``rdf_group_label`` is the name of a VMAX SRDF group that has been pre-configured between the source and target arrays. .. note:: It is not currently possible to extend SRDF/Metro protected volumes. * ``mode`` is the required replication mode. Options are 'Synchronous', 'Asynchronous', and 'Metro'. This defaults to 'Synchronous'. * ``metro_use_bias`` is a flag to indicate if 'bias' protection should be used instead of Witness. This defaults to False. * ``allow_delete_metro`` is a flag to indicate if metro devices can be deleted. All Metro devices in an RDF group need to be managed together, so in order to delete one of the pairings, the whole group needs to be first suspended. Because of this, we require this flag to be explicitly set. This flag defaults to False. * Replication Group operations are available for volumes in Synchronous mode only.* It is not currently possible to extend SRDF/Metro protected volumes. If a bigger volume size is required for a SRDF/Metro protected volume, this can be achieved by cloning the original volume and choosing a larger size for the new cloned volume. ``replication_device parameter`` is set to ``True`` (Please note that it is not possible to extend SRDF/Metro protected volumes)... note:: Failover and Failback operations are not applicable in Metro configurations. Asynchonous and Metro replication management groups --------------------------------------------------- Asynchronous and Metro volumes in an RDF session, i.e. belonging to an SRDF group, must be managed together for RDF operations (although there is a ``consistency exempt`` option for creating and deleting pairs in an Async group). To facilitate this management, we create an internal RDF management storage group on the backend. It is crucial for correct management that the volumes in this storage group directly correspond to the volumes in the RDF group. For this reason, it is imperative that the RDF group specified in the ``cinder.conf`` is for the exclusive use by this cinder backend. Metro support ------------- SRDF/Metro is a High Availabilty solution. It works by masking both sides of the RDF relationship to the host, and presenting all paths to the host, appearing that they all point to the one device. In order to the do this, there needs to be multipath software running to manage writing to the multiple paths. groups which can be used for various features. The VMAX plugin supports consistent group snapshots and replication groups. Consistent group snapshots allows the user to take group snapshots which are consistent based on the group specs. Replication groups allow for tenant facing APIs to enable and disable replication, and to failover and failback, a group of volumes. Generic volume groups are acreating/managing a group which doesn't have this (or replication group spec, see below) group-spec set. If one of these keys are not set on the group-spec, then the generic volume group will be created/managed by cinder (not the VMAX plugin).Replication Groups ------------------ To create a replication group, a group-spec, having the key ``consistent_group_replication_enabled`` set to ``<is> True``, should be set on the group. Any volume types sepcified while creating the group must also be replication-enabled, i.e. have the the extra spec 'replication-enabled' set to ``<is> True``. Please note that only Synchronous replication is supported for use with Replication Groups. When a volume is created into a replication group, replication is on by default. The ""disable_replication"" api suspends I/O traffic on the devices, but does NOT remove replication for the group. The ""enable_replication"" api resumes I/O traffic on the RDF links. The ""failover_group"" api allows a group to be failed over and back without failing over the entire host. See below for usage. .. note:: A generic volume group can be both consistent group snapshot enabled and consistent group replication enabled. - Enable group replication .. code-block:: console cinder --os-volume-api-version 3.38 group-enable-replication GROUP - Disable group replication .. code-block:: console cinder --os-volume-api-version 3.38 group-disable-replication GROUP - Failover group .. code-block:: console cinder --os-volume-api-version 3.38 group-failover-replication GROUP - Failback group .. code-block:: console cinder --os-volume-api-version 3.38 group-failover-replication GROUP / --secondary-backend-id default Manage/Unmanage Snapshots ~~~~~~~~~~~~~~~~~~~~~~~~~ Users can manage VMAX SnapVX snapshots into OpenStack if the source volume already exists in Cinder. Similarly, users will be able to unmanage OpenStack snapshots to remove them from Cinder but keep them on the storage backend. Set-up, restrictions and requirements: #. No additional settings or configuration is required to support this functionality. #. Manage/Unmanage snapshots requires SnapVX functionality support on VMAX. #. Manage/Unmanage Snapshots in OpenStack Cinder is only supported at present through Cinder CLI commands. #. It is only possible to manage or unmanage one snapshot at a time in Cinder. #. This functionality is not to be confused with the similarly named ``manage and unmanage snapshots`` which details setting attributes of a given snapshot in Cinder. Manage SnapVX Snapshot ---------------------- It is possible to manage VMAX SnapVX snapshots into OpenStack, where the source volume from which the snapshot is taken already exists in, and is managed by OpenStack Cinder. The source volume may have been created in OpenStack Cinder, or it may have been managed in to OpenStack Cinder also. With the support of managing SnapVX snapshots included in OpenStack Queens, the restriction around managing SnapVX source volumes has been removed. .. note:: It is not possible to manage into OpenStack SnapVX linked target volumes, or volumes which exist in a replication session. Requirements/Restrictions: #. The SnapVX source volume must be present in and managed by Cinder. #. The SnapVX snapshot name must not begin with ``OS-``. #. The SnapVX snapshot source volume must not be in a failed-over state. #. Managing a SnapVX snapshot will only be allowed if the snapshot has no linked target volumes. #. Managing a SnapVX snapshot which is smaller than the source volume is permitted as it is supported for create new volumes and restore from snapshot (the remainder of volume size is zeroed out). Command Structure: #. Identify your SnapVX snapshot for management on the VMAX, note the name. #. Ensure the source volume is already managed into OpenStack Cinder, note the device ID. #. Using the Cinder CLI, use the following command structure to manage a Snapshot into OpenStack Cinder: .. code-block:: console $ cinder snapshot-manage --id-type source-name [--name <name>] [--description <description>] [--metadata [<key=value> [<key=value> ...]]] <volume> <identifier> Positional arguments: - <volume> - Cinder volume which already exists in volume backend - <identifier> - Name of existing snapshot Optional arguments: - --name <name> - Snapshot name (Default=None) - --description <description> - Snapshot description (Default=None) - --metadata [<key=value> [<key=value> ...]] Metadata key=value pairs (Default=None) Example: .. code-block:: console $ cinder snapshot-manage --name SnapshotManaged --description ""Managed Queens Feb18"" 0021A VMAXSnapshot Where: - The name in OpenStack after managing the SnapVX snapshot will be ``SnapshotManaged``. - The snapshot will have the description ``Managed Queens Feb18``. - The source volume device ID is ``0021A``. - The name of the SnapVX snapshot on the VMAX backend is ``VMAXSnapshot``. Outcome: After the process of managing the Snapshot has completed, the SnapVX snapshot on the VMAX backend will be prefixed by the letters ``OS-``, leaving the snapshot in this example named ``OS-VMAXSnapshot``. The associated snapshot managed by Cinder will be present for use under the name ``SnapshotManaged``. Unmanage Cinder Snapshot ~~~~~~~~~~~~~~~~~~~~~~~~ Unmanaging a snapshot in Cinder is the process whereby the snapshot is removed from and no longer managed by Cinder, but it still exists on the storage backend. Unmanaging a SnapVX snapshot in OpenStack Cinder follows this behaviour, whereby after unmanaging a VMAX SnapVX snapshot from Cinder, the snapshot is removed from OpenStack but is still present for use on the VMAX backend. Requirements/Restrictions: - The SnapVX source volume must not be in a failed over state. Command Structure: Identify the SnapVX snapshot you want to unmanage from OpenStack cinder, note the snapshot name or ID as specified by Cinder. Using the Cinder CLI use the following command structure to unmanage the SnapVX snapshot from Cinder: .. code-block:: console $ cinder snapshot-unmanage <snapshot> Positional arguments: - <snapshot> - Cinder snapshot name or ID. Example: .. code-block:: console $ cinder snapshot-unmanage SnapshotManaged Where: - The SnapVX snapshot name in OpenStack Cinder is SnapshotManaged. After the process of unmanaging the SnapVX snapshot in Cinder, the snapshot on the VMAX backend will have the ``OS-`` prefix removed to indicate it is no longer OpenStack managed. In the example above, the snapshot after unmanaging from OpenStack will be named ``VMAXSnapshot`` on the storage backend.","#. Configure a synchronous SRDF group between the chosen source and target with the ``<Array>`` entry in the VMAX XML file. director endpoints. Currently, the only supported mode is `Synchronous`. server), or enter the details to the XML file of a second Unisphere server, which is locally connected to the target array (for example, the [DEFAULT] .. code-block:: console replication_device = target_device_id:000197811111, remote_port_group:os-failover-pg, remote_pool:SRP_1, rdf_group_label: 28_11_07, allow_extend:False * ``rdf_group_label`` is the name of a VMAX SRDF group (Synchronous) that has been pre-configured between the source and target arrays. In Queens, the underlying VMAX architecture will support extending source and target volumes without having to sever links.* There is no OpenStack Generic Volume Group support for replication-enabled VMAX volumes. ``replication_device parameter`` is set to ``True``.groups which can be used for various features. The only feature supported currently by the VMAX plugin is the ability to take group snapshots which are consistent based on the group specs. Generic volume groups are acreating/managing a group which doesn't have this group-spec set. If this key is not set on the group-spec then the generic volume group will be created/managed by cinder (not the VMAX plugin).",286,24
openstack%2Fcinder~master~Id95beae0a46ab492756e0108039fefb28f4f0b69,openstack/cinder,master,Id95beae0a46ab492756e0108039fefb28f4f0b69,Add service_token for cinder-nova interaction,MERGED,2017-12-01 07:09:22.000000000,2018-02-25 14:42:42.000000000,2017-12-21 13:05:47.000000000,"[{'_account_id': 1011}, {'_account_id': 2243}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10608}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 13637}, {'_account_id': 14384}, {'_account_id': 14806}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26463}, {'_account_id': 26537}, {'_account_id': 27385}]","[{'number': 1, 'created': '2017-12-01 07:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/13fd5ba6f3560fab586702108fe28bfcdfd2c3b8', 'message': 'Add service_token for cinder-nova interaction\n\nService token will be passed along with user token to communicate\nwith services when dealing with long running tasks like\nCreate volume snapshot.\n\nPartial-Implements: blueprint use-service-tokens\n\nChange-Id: Id95beae0a46ab492756e0108039fefb28f4f0b69\n'}, {'number': 2, 'created': '2017-12-01 09:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9e89284fa8b58cf11d90bdd64d83dd2d6831ba03', 'message': 'Add service_token for cinder-nova interaction\n\nService token will be passed along with user token to communicate\nwith services when dealing with long running tasks like\nCreate volume snapshot.\n\nPartial-Implements: blueprint use-service-tokens\n\nChange-Id: Id95beae0a46ab492756e0108039fefb28f4f0b69\n'}, {'number': 3, 'created': '2017-12-08 07:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8562cdbd0d7bb36a43883a0477f6dff69f64868e', 'message': 'Add service_token for cinder-nova interaction\n\nService token will be passed along with user token to communicate\nwith services when dealing with long running tasks like\nCreate volume snapshot.\n\nPartial-Implements: blueprint use-service-tokens\n\nChange-Id: Id95beae0a46ab492756e0108039fefb28f4f0b69\n'}, {'number': 4, 'created': '2017-12-11 13:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6ceb4a68fa0282f061edda6e4df6a8563211f8ce', 'message': 'Add service_token for cinder-nova interaction\n\nService token will be passed along with user token to communicate\nwith services when dealing with long running tasks like\nCreate volume snapshot.\n\nPartial-Implements: blueprint use-service-tokens\n\nChange-Id: Id95beae0a46ab492756e0108039fefb28f4f0b69\n'}, {'number': 5, 'created': '2017-12-15 06:51:29.000000000', 'files': ['cinder/opts.py', 'cinder/service_auth.py', 'cinder/context.py', 'cinder/compute/nova.py', 'cinder/exception.py', 'releasenotes/notes/validate-expired-user-tokens-40b15322197653ae.yaml', 'cinder/tests/unit/test_service_auth.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0787710c2477b127baeba901dc0a1598f7f1eabe', 'message': 'Add service_token for cinder-nova interaction\n\nService token will be passed along with user token to communicate\nwith services when dealing with long running tasks like\nCreate volume snapshot.\n\nPartial-Implements: blueprint use-service-tokens\n\nChange-Id: Id95beae0a46ab492756e0108039fefb28f4f0b69\n'}]",0,524497,0787710c2477b127baeba901dc0a1598f7f1eabe,124,47,5,26463,,,0,"Add service_token for cinder-nova interaction

Service token will be passed along with user token to communicate
with services when dealing with long running tasks like
Create volume snapshot.

Partial-Implements: blueprint use-service-tokens

Change-Id: Id95beae0a46ab492756e0108039fefb28f4f0b69
",git fetch https://review.opendev.org/openstack/cinder refs/changes/97/524497/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'cinder/service_auth.py', 'cinder/context.py', 'cinder/compute/nova.py', 'cinder/exception.py', 'cinder/tests/unit/test_service_auth.py', 'cinder/tests/unit/compute/test_nova.py', 'releasenotes/notes/validate-expired-user-tokens-nova-40b15322197653ae.yaml']",8,13fd5ba6f3560fab586702108fe28bfcdfd2c3b8,bp/use-service-tokens,--- features: - | Added support for Keystone middleware feature to pass service token along with the user token for Cinder to Nova interaction. This will help get rid of expiration user token issues for long running tasks eg. creating volume snapshot. To use this functionality a service user needs to be created first. Add the service user configurations in ``cinder.conf`` under ``service_user`` group and set ``send_service_user_token`` flag to ``True``. ,,209,14
openstack%2Fcinder~master~I496e45608798a6a5d9606f9594feeb8b60855d1a,openstack/cinder,master,I496e45608798a6a5d9606f9594feeb8b60855d1a,Don't call driver.terminate_connection if there is no connector,MERGED,2017-12-14 18:23:13.000000000,2018-02-25 14:42:35.000000000,2017-12-15 18:50:31.000000000,"[{'_account_id': 6873}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16258}, {'_account_id': 16422}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-14 18:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7598b3dda60a8762a80d4d54ee044afb4f01b001', 'message': 'WIP: Don\'t call driver.terminate_connection if there is no connector\n\nIt\'s possible to attach a volume to a shelved offloaded instance,\nwhich is not on a compute host - which means no host connector,\nand then detach that volume while the instance is unshelved. There\nis a test in Tempest just for this scenario.\n\nWhen nova calls attachment_delete on detach, the cinder volume\nmanager is calling the driver.terminate_connection method regardless\nof there being a host connector, and some drivers blow up on that.\n\nThis used to ""work"" with the pre-3.27 attach flow in nova because\nin the detach case where there was no connector, nova would simply\nnot call os-terminate_connection, but with the new 3.27+ flow for\nattach, nova only calls attachment_delete regardless of there\nbeing a connector.\n\nThis change simply checks to see if the attachment has a connector\nand if not, it avoids the call to the driver to terminate a connection\nwhich does not exist.\n\nChange-Id: I496e45608798a6a5d9606f9594feeb8b60855d1a\nCloess-Bug: #1738254\n'}, {'number': 2, 'created': '2017-12-14 19:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4a0784228dc3ffda06e57d6d0bedc9480dabb962', 'message': 'Don\'t call driver.terminate_connection if there is no connector\n\nIt\'s possible to attach a volume to a shelved offloaded instance,\nwhich is not on a compute host - which means no host connector,\nand then detach that volume while the instance is unshelved. There\nis a test in Tempest just for this scenario.\n\nWhen nova calls attachment_delete on detach, the cinder volume\nmanager is calling the driver.terminate_connection method regardless\nof there being a host connector, and some drivers blow up on that.\n\nThis used to ""work"" with the pre-3.27 attach flow in nova because\nin the detach case where there was no connector, nova would simply\nnot call os-terminate_connection, but with the new 3.27+ flow for\nattach, nova only calls attachment_delete regardless of there\nbeing a connector.\n\nThis change simply checks to see if the attachment has a connector\nand if not, it avoids the call to the driver to terminate a connection\nwhich does not exist.\n\nChange-Id: I496e45608798a6a5d9606f9594feeb8b60855d1a\nCloses-Bug: #1738254\n'}, {'number': 3, 'created': '2017-12-14 19:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/98ad08057dc40cfa8083d4e8a6a8b3b743f4028a', 'message': 'Don\'t call driver.terminate_connection if there is no connector\n\nIt\'s possible to attach a volume to a shelved offloaded instance,\nwhich is not on a compute host - which means no host connector,\nand then detach that volume while the instance is unshelved. There\nis a test in Tempest just for this scenario.\n\nWhen nova calls attachment_delete on detach, the cinder volume\nmanager is calling the driver.terminate_connection method regardless\nof there being a host connector, and some drivers blow up on that.\n\nThis used to ""work"" with the pre-3.27 attach flow in nova because\nin the detach case where there was no connector, nova would simply\nnot call os-terminate_connection, but with the new 3.27+ flow for\nattach, nova only calls attachment_delete regardless of there\nbeing a connector.\n\nThis change simply checks to see if the attachment has a connector\nand if not, it avoids the call to the driver to terminate a connection\nwhich does not exist.\n\nChange-Id: I496e45608798a6a5d9606f9594feeb8b60855d1a\nCloses-Bug: #1738254\n'}, {'number': 4, 'created': '2017-12-14 20:00:16.000000000', 'files': ['cinder/volume/manager.py', 'cinder/tests/unit/attachments/test_attachments_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1bcab6a48de991dd0e029c6acd5527643aa457c9', 'message': 'Don\'t call driver.terminate_connection if there is no connector\n\nIt\'s possible to attach a volume to a shelved offloaded instance,\nwhich is not on a compute host - which means no host connector,\nand then detach that volume while the instance is unshelved. There\nis a test in Tempest just for this scenario.\n\nWhen nova calls attachment_delete on detach, the cinder volume\nmanager is calling the driver.terminate_connection method regardless\nof there being a host connector, and some drivers blow up on that.\n\nThis used to ""work"" with the pre-3.27 attach flow in nova because\nin the detach case where there was no connector, nova would simply\nnot call os-terminate_connection, but with the new 3.27+ flow for\nattach, nova only calls attachment_delete regardless of there\nbeing a connector.\n\nThis change simply checks to see if the attachment has a connector\nand if not, it avoids the call to the driver to terminate a connection\nwhich does not exist.\n\nChange-Id: I496e45608798a6a5d9606f9594feeb8b60855d1a\nCloses-Bug: #1738254\n'}]",3,528028,1bcab6a48de991dd0e029c6acd5527643aa457c9,69,31,4,6873,,,0,"Don't call driver.terminate_connection if there is no connector

It's possible to attach a volume to a shelved offloaded instance,
which is not on a compute host - which means no host connector,
and then detach that volume while the instance is unshelved. There
is a test in Tempest just for this scenario.

When nova calls attachment_delete on detach, the cinder volume
manager is calling the driver.terminate_connection method regardless
of there being a host connector, and some drivers blow up on that.

This used to ""work"" with the pre-3.27 attach flow in nova because
in the detach case where there was no connector, nova would simply
not call os-terminate_connection, but with the new 3.27+ flow for
attach, nova only calls attachment_delete regardless of there
being a connector.

This change simply checks to see if the attachment has a connector
and if not, it avoids the call to the driver to terminate a connection
which does not exist.

Change-Id: I496e45608798a6a5d9606f9594feeb8b60855d1a
Closes-Bug: #1738254
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/528028/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,7598b3dda60a8762a80d4d54ee044afb4f01b001,bug/1738254," """"""Remove a volume connection, but leave attachment. Exits early if the attachment does not have a connector and returns None to indicate shared connections are irrelevant. """""" if not connector: # It's possible to attach a volume to a shelved offloaded server # in nova, and a shelved offloaded server is not on a compute host, # which means the attachment was made without a host connector, # so if we don't have a connector we can't terminate a connection # that was never actually made to the storage backend, so just # log a message and exit. LOG.debug('No connector for attachment %s; skipping storage ' 'backend terminate_connection call.', attachment.id) # None indicates we don't know and don't care. return None if has_shared_connection is not None and not has_shared_connection:"," """"""Remove a volume connection, but leave attachment."""""" if not has_shared_connection:",17,2
openstack%2Fcinder~master~Ie3b8ffb209b30edf2a26a935aab840441b43adfa,openstack/cinder,master,Ie3b8ffb209b30edf2a26a935aab840441b43adfa,V3 jsonschema validation: Group Snapshots,MERGED,2017-12-01 08:59:33.000000000,2018-02-25 14:42:34.000000000,2017-12-23 16:26:49.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21767}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22878}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24645}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-01 08:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1fe68f4f923dda858b78c95a85ed82cceb1b28c0', 'message': ""V3 jsonschema validation: Group Snapshots\n\nThis patch adds jsonschema validation for below group snapshots API's\n\n* POST /v3/{project_id}/group_snapshots\n* POST /v3/{project_id}/group_snapshots/{group_snapshot_id}/action\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [1] and passes body as keyword argument.\n\n[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\n\nChange-Id: Ie3b8ffb209b30edf2a26a935aab840441b43adfa\nPartial-Implements: bp json-schema-validation\n""}, {'number': 2, 'created': '2017-12-08 10:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/141eb7c3c2dbdbf224dc131e4cf90e7cd8578999', 'message': ""V3 jsonschema validation: Group Snapshots\n\nThis patch adds jsonschema validation for below group snapshots API's\n\n* POST /v3/{project_id}/group_snapshots\n* POST /v3/{project_id}/group_snapshots/{group_snapshot_id}/action\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [1] and passes body as keyword argument.\n\n[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\n\nChange-Id: Ie3b8ffb209b30edf2a26a935aab840441b43adfa\nPartial-Implements: bp json-schema-validation\n""}, {'number': 3, 'created': '2017-12-14 09:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2705ec37f8cef7bfd90b9b3bcbb80eeac06f9a82', 'message': ""V3 jsonschema validation: Group Snapshots\n\nThis patch adds jsonschema validation for below group snapshots API's\n\n* POST /v3/{project_id}/group_snapshots\n* POST /v3/{project_id}/group_snapshots/{group_snapshot_id}/action\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [1] and passes body as keyword argument.\n\n[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\n\nChange-Id: Ie3b8ffb209b30edf2a26a935aab840441b43adfa\nPartial-Implements: bp json-schema-validation\n""}, {'number': 4, 'created': '2017-12-20 13:29:43.000000000', 'files': ['cinder/tests/unit/api/v3/test_group_snapshots.py', 'cinder/api/validation/parameter_types.py', 'cinder/api/schemas/group_snapshots.py', 'cinder/api/validation/validators.py', 'cinder/api/v3/group_snapshots.py', 'cinder/group/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/65d57cf4b16fc47eb0c7e4ef9cb96b6c955f00b5', 'message': ""V3 jsonschema validation: Group Snapshots\n\nThis patch adds jsonschema validation for below group snapshots API's\n\n* POST /v3/{project_id}/group_snapshots\n* POST /v3/{project_id}/group_snapshots/{group_snapshot_id}/action\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [1] and passes body as keyword argument.\n\n[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\n\nChange-Id: Ie3b8ffb209b30edf2a26a935aab840441b43adfa\nPartial-Implements: bp json-schema-validation\n""}]",2,524528,65d57cf4b16fc47eb0c7e4ef9cb96b6c955f00b5,148,51,4,24645,,,0,"V3 jsonschema validation: Group Snapshots

This patch adds jsonschema validation for below group snapshots API's

* POST /v3/{project_id}/group_snapshots
* POST /v3/{project_id}/group_snapshots/{group_snapshot_id}/action

Made changes to unit tests to pass body as keyword argument as wsgi
calls action method [1] and passes body as keyword argument.

[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997

Change-Id: Ie3b8ffb209b30edf2a26a935aab840441b43adfa
Partial-Implements: bp json-schema-validation
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/524528/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/validation/parameter_types.py', 'cinder/tests/unit/api/v3/test_group_snapshots.py', 'cinder/api/schemas/group_snapshots.py', 'cinder/api/validation/validators.py', 'cinder/api/v3/group_snapshots.py', 'cinder/group/api.py']",6,1fe68f4f923dda858b78c95a85ed82cceb1b28c0,bp/json-schema-validation,," if status not in c_fields.GroupSnapshotStatus.ALL: msg = _(""Group snapshot status: %(status)s is invalid, "" ""valid statuses are: "" ""%(valid)s."") % {'status': status, 'valid': c_fields.GroupSnapshotStatus.ALL} raise exception.InvalidGroupSnapshotStatus(reason=msg)",111,37
openstack%2Fcinder~master~I23def8b2095dcf3945d2e0e1b4e5efe178cef9be,openstack/cinder,master,I23def8b2095dcf3945d2e0e1b4e5efe178cef9be,SMBFS: remove deprecated config options,MERGED,2017-11-15 11:27:04.000000000,2018-02-25 14:42:32.000000000,2017-12-20 16:23:44.000000000,"[{'_account_id': 2759}, {'_account_id': 7198}, {'_account_id': 8543}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-15 11:27:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bd23cd34498dc5b177ab6391f15e89d4574a1474', 'message': ""SMBFS: remove deprecated config options\n\nSome config options have been marked as deprecated in Pike and\nare now being removed.\n\nNote that the 'smbfs_sparsed_volumes' config option was only used\nby the Linux SMB driver, which was removed in Pike. By mistake,\nit was copied over to the Windows SMB driver, which was inheriting\nit.\n\nChange-Id: I23def8b2095dcf3945d2e0e1b4e5efe178cef9be\n""}, {'number': 2, 'created': '2017-12-13 10:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c33fba3a9957a3f760993077ec8747077a3b521a', 'message': ""SMBFS: remove deprecated config options\n\nSome driver specific config options have been marked as deprecated\nin Pike and are now being removed. The equivalent generic options\nare available.\n\nNote that the 'smbfs_sparsed_volumes' config option was only used\nby the Linux SMB driver, which was removed in Pike. By mistake,\nit was copied over to the Windows SMB driver, which was inheriting\nit.\n\nChange-Id: I23def8b2095dcf3945d2e0e1b4e5efe178cef9be\n""}, {'number': 3, 'created': '2017-12-13 16:32:06.000000000', 'files': ['cinder/volume/drivers/windows/smbfs.py', 'cinder/tests/unit/windows/test_smbfs.py', 'releasenotes/notes/smbfs-removed-options-2c86101340273252.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d618c66c60c2a8d7083f4d0eb5847227996b68e3', 'message': ""SMBFS: remove deprecated config options\n\nSome driver specific config options have been marked as deprecated\nin Pike and are now being removed. The equivalent generic options\nare available.\n\nNote that the 'smbfs_sparsed_volumes' config option was only used\nby the Linux SMB driver, which was removed in Pike. By mistake,\nit was copied over to the Windows SMB driver, which was inheriting\nit.\n\nChange-Id: I23def8b2095dcf3945d2e0e1b4e5efe178cef9be\n""}]",2,520050,d618c66c60c2a8d7083f4d0eb5847227996b68e3,98,42,3,8543,,,0,"SMBFS: remove deprecated config options

Some driver specific config options have been marked as deprecated
in Pike and are now being removed. The equivalent generic options
are available.

Note that the 'smbfs_sparsed_volumes' config option was only used
by the Linux SMB driver, which was removed in Pike. By mistake,
it was copied over to the Windows SMB driver, which was inheriting
it.

Change-Id: I23def8b2095dcf3945d2e0e1b4e5efe178cef9be
",git fetch https://review.opendev.org/openstack/cinder refs/changes/50/520050/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/windows/smbfs.py', 'cinder/tests/unit/windows/test_smbfs.py']",2,bd23cd34498dc5b177ab6391f15e89d4574a1474,, smbfs_default_volume_format = 'vhdx') if not (config.smbfs_shares_config and share_config_exists):," smbfs_oversub_ratio = 2, smbfs_used_ratio = 0.5, smbfs_default_volume_format = 'vhdx', smbfs_sparsed_volumes = False) if not (config.smbfs_shares_config and share_config_exists and config.smbfs_oversub_ratio > 0 and 0 <= config.smbfs_used_ratio <= 1): def test_setup_invlid_oversub_ratio(self): fake_config = copy.copy(self._FAKE_SMBFS_CONFIG) fake_config.smbfs_oversub_ratio = -1 self._test_setup(config=fake_config) def test_setup_invalid_used_ratio(self): fake_config = copy.copy(self._FAKE_SMBFS_CONFIG) fake_config.smbfs_used_ratio = -1 self._test_setup(config=fake_config) def test_setup_invalid_used_ratio2(self): fake_config = copy.copy(self._FAKE_SMBFS_CONFIG) fake_config.smbfs_used_ratio = 1.1 self._test_setup(config=fake_config) ",2,75
openstack%2Fcinder~master~I74c15a99e90a24020b2f427a70f5d04376bd31af,openstack/cinder,master,I74c15a99e90a24020b2f427a70f5d04376bd31af,Restore_backup: set error when volume status not matched,MERGED,2017-11-15 09:42:32.000000000,2018-02-25 14:42:30.000000000,2017-12-14 00:59:37.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25169}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26233}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-11-15 09:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/38787b6095dbabbffff0fcb35637f30d56068938', 'message': ""Restore_backup: set error when volume status not matched\n\nWhen volume actual_status was not equal to expected_status, the\nrestoring were not setting the volume to a 'error' status, if\nit so happened that the actual_status was 'available', client\nwould be misled to think that restoring had finished. So this\npatch fixes that.\n\nCloses-Bug:#1732378\n\nChange-Id: I74c15a99e90a24020b2f427a70f5d04376bd31af\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n""}, {'number': 2, 'created': '2017-11-16 07:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6edd4310f4de3a2d345e73afd04fc49f105feed3', 'message': ""Restore_backup: set error when volume status not matched\n\nWhen volume actual_status was not equal to expected_status, the\nrestoring were not setting the volume to a 'error_restoring'\nstatus, if it so happened that the actual_status was 'available',\nclient would be misled to think that restoring had finished. So\nthis patch fixes that.\n\nCloses-Bug:#1732378\n\nChange-Id: I74c15a99e90a24020b2f427a70f5d04376bd31af\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n""}, {'number': 3, 'created': '2017-11-16 11:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/88afcde42f32b50df4346e3e8ca069e9c25dd0e4', 'message': ""Restore_backup: set error when volume status not matched\n\nWhen volume actual_status was not equal to expected_status, the\nrestoring were not setting the volume to a 'error_restoring'\nstatus, if it so happened that the actual_status was 'available',\nclient would be misled to think that restoring had finished. So\nthis patch fixes that.\n\nCloses-Bug:#1732378\n\nChange-Id: I74c15a99e90a24020b2f427a70f5d04376bd31af\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n""}, {'number': 4, 'created': '2017-11-21 01:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e56fe40781c5072ec1bad65ec38634825b10c1ab', 'message': ""Restore_backup: set error when volume status not matched\n\nWhen volume actual_status was not equal to expected_status, the\nrestoring were not setting the volume to a 'error_restoring'\nstatus, if it so happened that the actual_status was 'available',\nclient would be misled to think that restoring had finished. So\nthis patch fixes that.\n\nCloses-Bug:#1732378\n\nChange-Id: I74c15a99e90a24020b2f427a70f5d04376bd31af\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n""}, {'number': 5, 'created': '2017-12-13 03:08:46.000000000', 'files': ['cinder/backup/manager.py', 'cinder/tests/unit/backup/test_backup.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/06d4ba2080155632e4609948994df5c8c76b9840', 'message': ""Restore_backup: set error when volume status not matched\n\nWhen volume actual_status was not equal to expected_status, the\nrestoring were not setting the volume to a 'error_restoring'\nstatus, if it so happened that the actual_status was 'available',\nclient would be misled to think that restoring had finished. So\nthis patch fixes that.\n\nCloses-Bug:#1732378\n\nChange-Id: I74c15a99e90a24020b2f427a70f5d04376bd31af\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n""}]",0,520026,06d4ba2080155632e4609948994df5c8c76b9840,139,43,5,25169,,,0,"Restore_backup: set error when volume status not matched

When volume actual_status was not equal to expected_status, the
restoring were not setting the volume to a 'error_restoring'
status, if it so happened that the actual_status was 'available',
client would be misled to think that restoring had finished. So
this patch fixes that.

Closes-Bug:#1732378

Change-Id: I74c15a99e90a24020b2f427a70f5d04376bd31af
Signed-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/26/520026/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/manager.py'],1,38787b6095dbabbffff0fcb35637f30d56068938,bug/1732378," self.db.volume_update(context, volume_id, {'status': 'error'})",,1,0
openstack%2Fcinder~master~I33447b1d83911b5cc18d0f29bea4f9a7c855f567,openstack/cinder,master,I33447b1d83911b5cc18d0f29bea4f9a7c855f567,Fix json formatting eror,MERGED,2017-12-12 09:27:06.000000000,2018-02-25 14:42:27.000000000,2017-12-18 06:13:46.000000000,"[{'_account_id': 7198}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25169}, {'_account_id': 25677}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-12 09:27:06.000000000', 'files': ['api-ref/source/v3/samples/backup-restore-response.json'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a345dc0b706f506b8c5b635e8e1dce652a927183', 'message': 'Fix json formatting eror\n\nChange-Id: I33447b1d83911b5cc18d0f29bea4f9a7c855f567\n'}]",0,527351,a345dc0b706f506b8c5b635e8e1dce652a927183,40,27,1,26458,,,0,"Fix json formatting eror

Change-Id: I33447b1d83911b5cc18d0f29bea4f9a7c855f567
",git fetch https://review.opendev.org/openstack/cinder refs/changes/51/527351/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/samples/backup-restore-response.json'],1,a345dc0b706f506b8c5b635e8e1dce652a927183,," ""volume_name"": ""volume01"""," ""volume_name"": ""volume01"",",1,1
openstack%2Fcinder~master~Id20000e483246b96d2dd478b041a56c2b1e119ff,openstack/cinder,master,Id20000e483246b96d2dd478b041a56c2b1e119ff,Modify v3 api-ref error response codes for reverting,MERGED,2017-11-23 10:07:53.000000000,2018-02-25 14:42:26.000000000,2017-12-12 21:23:16.000000000,"[{'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 12176}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-23 10:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d07e5ea81ee6342fe0a167fd720fa6f1b330fb7e', 'message': 'Modify v3 api-ref error response codes for reverting\n\nChange-Id: Id20000e483246b96d2dd478b041a56c2b1e119ff\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n'}, {'number': 2, 'created': '2017-11-24 03:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dd0d6244b356caba06a5439c4b82dba5cdcf3087', 'message': 'Modify v3 api-ref error response codes for reverting\n\nChange-Id: Id20000e483246b96d2dd478b041a56c2b1e119ff\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n'}, {'number': 3, 'created': '2017-12-12 00:56:17.000000000', 'files': ['api-ref/source/v3/volumes-v3-volumes-actions.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7241a8ee521bd6ef539bd8a81fbb8b484958ac9f', 'message': 'Modify v3 api-ref error response codes for reverting\n\nChange-Id: Id20000e483246b96d2dd478b041a56c2b1e119ff\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n'}]",2,522509,7241a8ee521bd6ef539bd8a81fbb8b484958ac9f,70,30,3,25169,,,0,"Modify v3 api-ref error response codes for reverting

Change-Id: Id20000e483246b96d2dd478b041a56c2b1e119ff
Signed-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/09/522509/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/volumes-v3-volumes-actions.inc'],1,d07e5ea81ee6342fe0a167fd720fa6f1b330fb7e,fix-api-ref-v3-reverting-error-response-codes,"Error response codes: 403(HTTPForbidden), 409(HTTPConflict)","Error response codes: 400, 404",1,1
openstack%2Fcinder~master~I5672904383d41949b86cfdff41cfa0f0ae79b5ba,openstack/cinder,master,I5672904383d41949b86cfdff41cfa0f0ae79b5ba,Deprecate cinder-manage logs commands,MERGED,2017-12-10 16:23:46.000000000,2018-02-25 14:41:31.000000000,2017-12-12 00:56:56.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-12-10 16:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/83e25462e3eb5f0d770ca55b85f6c29ee083cbd6', 'message': 'Deprecate cinder-manage logs commands\n\nThese commands search Cinder log files and\n/var/log/messages to look for log messages related\nto Cinder.\n\nThis is hacky and bound to be unreliable in\ndeployments which now may have log files configured\nin different ways.\n\nThey also read entire log files into memory as\nlists and reverse them, which is bound to be slow\non large deployments.\n\nDeprecate these commands and leave log analysis\nas a job for another tool.\n\nChange-Id: I5672904383d41949b86cfdff41cfa0f0ae79b5ba\n'}, {'number': 2, 'created': '2017-12-11 06:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0bee60835c93d47a8bfd4ee304d67567b10549dc', 'message': 'Deprecate cinder-manage logs commands\n\nThese commands search Cinder log files and\n/var/log/messages to look for log messages related\nto Cinder.\n\nThis is hacky and bound to be unreliable in\ndeployments which now may have log files configured\nin different ways.\n\nThey also read entire log files into memory as\nlists and reverse them, which is bound to be slow\non large deployments.\n\nDeprecate these commands and leave log analysis\nas a job for another tool.\n\nChange-Id: I5672904383d41949b86cfdff41cfa0f0ae79b5ba\n'}, {'number': 3, 'created': '2017-12-11 15:09:39.000000000', 'files': ['cinder/cmd/manage.py', 'releasenotes/notes/deprecate_logs_commands-a0d59cb7535a2138.yaml', 'cinder/tests/unit/test_cmd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7c00d9b966abac50ad5ad8664fbe327ba2aca10e', 'message': 'Deprecate cinder-manage logs commands\n\nThese commands search Cinder log files and\n/var/log/messages to look for log messages related\nto Cinder.\n\nThis is hacky and bound to be unreliable in\ndeployments which now may have log files configured\nin different ways.\n\nThey also read entire log files into memory as\nlists and reverse them, which is bound to be slow\non large deployments.\n\nDeprecate these commands and leave log analysis\nas a job for another tool.\n\nChange-Id: I5672904383d41949b86cfdff41cfa0f0ae79b5ba\n'}]",0,526928,7c00d9b966abac50ad5ad8664fbe327ba2aca10e,76,33,3,4523,,,0,"Deprecate cinder-manage logs commands

These commands search Cinder log files and
/var/log/messages to look for log messages related
to Cinder.

This is hacky and bound to be unreliable in
deployments which now may have log files configured
in different ways.

They also read entire log files into memory as
lists and reverse them, which is bound to be slow
on large deployments.

Deprecate these commands and leave log analysis
as a job for another tool.

Change-Id: I5672904383d41949b86cfdff41cfa0f0ae79b5ba
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/526928/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/cmd/manage.py'],1,83e25462e3eb5f0d770ca55b85f6c29ee083cbd6,, deprecation_msg = ('DEPRECATED: The log commands are deprecated ' 'since Queens and are not maintained. They will be ' 'removed in an upcoming release.') print(self.deprecation_msg) print(self.deprecation_msg) ,,10,0
openstack%2Fcinder~master~I2226c8533cbd1ddd274d8dd0b2d77708463896f4,openstack/cinder,master,I2226c8533cbd1ddd274d8dd0b2d77708463896f4,V3 jsonschema validation: Volume metadata,MERGED,2017-12-08 07:11:09.000000000,2018-02-25 14:41:04.000000000,2017-12-14 14:26:22.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24645}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-08 07:11:09.000000000', 'files': ['cinder/api/v3/volume_metadata.py', 'cinder/api/v2/volume_metadata.py', 'cinder/api/schemas/volume_metadata.py', 'cinder/tests/unit/api/v3/test_volume_metadata.py', 'cinder/tests/unit/api/v2/test_volume_metadata.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/afa410bcf65c8039edb424caa7ae510c515528e3', 'message': 'V3 jsonschema validation: Volume metadata\n\nThis patch adds jsonschema validation for below metadata API\'s\n* POST /v3/{project_id}/volumes/{volume_id}/metadata\n* PUT  /v3/{project_id}/volumes/{volume_id}/metadata\n* PUT  /v3/{project_id}/volumes/{volume_id}/metadata/{key}\n\nThe reason behind applying schema for v2(update and update_all) is\nthat in ""/cinder/tests/unit/api/v2/test_volume_metadata.py"" module\nfrom this patch, V2\'s unit test cases are inherited for V3 and now\nwe are applying schema validation for V3 because of that V2\'s unit\ntest cases responses are modified.  If we remove schema validation\nfrom V2 then we will need to add separate unit test cases for V3.\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [1] and passes body as keyword argument.\n\n[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\nPartial-Implements: bp json-schema-validation\n\nChange-Id: I2226c8533cbd1ddd274d8dd0b2d77708463896f4\n'}]",0,526606,afa410bcf65c8039edb424caa7ae510c515528e3,60,40,1,24645,,,0,"V3 jsonschema validation: Volume metadata

This patch adds jsonschema validation for below metadata API's
* POST /v3/{project_id}/volumes/{volume_id}/metadata
* PUT  /v3/{project_id}/volumes/{volume_id}/metadata
* PUT  /v3/{project_id}/volumes/{volume_id}/metadata/{key}

The reason behind applying schema for v2(update and update_all) is
that in ""/cinder/tests/unit/api/v2/test_volume_metadata.py"" module
from this patch, V2's unit test cases are inherited for V3 and now
we are applying schema validation for V3 because of that V2's unit
test cases responses are modified.  If we remove schema validation
from V2 then we will need to add separate unit test cases for V3.

Made changes to unit tests to pass body as keyword argument as wsgi
calls action method [1] and passes body as keyword argument.

[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997
Partial-Implements: bp json-schema-validation

Change-Id: I2226c8533cbd1ddd274d8dd0b2d77708463896f4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/06/526606/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/v3/volume_metadata.py', 'cinder/api/schemas/volume_metadata.py', 'cinder/api/v2/volume_metadata.py', 'cinder/tests/unit/api/v3/test_volume_metadata.py', 'cinder/tests/unit/api/v2/test_volume_metadata.py']",5,afa410bcf65c8039edb424caa7ae510c515528e3,bp/json-schema-validation," res_dict = self.controller.create(req, self.req_id, body=body) req, self.req_id, body=body) res_dict = self.controller.create(req, self.req_id, body=body) self.assertRaises(exception.ValidationError, self.controller.create, req, self.req_id, body=None) self.assertRaises(exception.ValidationError, self.controller.create, req, self.req_id, body=body) self.assertRaises(exception.ValidationError, self.controller.create, req, self.req_id, body=body) self.assertRaises(exception.ValidationError, req, self.req_id, body=body) self.controller.create, req, self.req_id, body=body) res_dict = self.controller.update_all(req, self.req_id, body=expected) self.req_id, body=expected) res_dict = self.controller.update_all(req, self.req_id, body=body) res_dict = self.controller.update_all(req, self.req_id, body=expected) self.assertRaises(exception.ValidationError, body=expected) self.assertRaises(exception.ValidationError, body=expected) self.controller.update_all, req, '100', body=body) res_dict = self.controller.update(req, self.req_id, 'key1', body=body) self.assertRaises(exception.ValidationError, req, self.req_id, 'key1', body=body) self.req_id, 'key1', body=body) body=body) self.assertRaises(exception.ValidationError, body=None) self.assertRaises(exception.ValidationError, '', body=body) self.assertRaises(exception.ValidationError, req, self.req_id, (""a"" * 260), body=body) self.assertRaises(exception.ValidationError, req, self.req_id, ""key1"", body=body) self.assertRaises(exception.ValidationError, body=body) body=body) self.assertRaises(exception.ValidationError, self.controller.create, req, self.req_id, body=data) self.assertRaises(exception.ValidationError, self.controller.create, req, self.req_id, body=data) self.assertRaises(exception.ValidationError, self.controller.create, req, self.req_id, body=data)"," res_dict = self.controller.create(req, self.req_id, body) req, self.req_id, body) res_dict = self.controller.create(req, self.req_id, body) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, req, self.req_id, None) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, req, self.req_id, body) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, req, self.req_id, body) self.assertRaises(webob.exc.HTTPBadRequest, req, self.req_id, body) self.controller.create, req, self.req_id, body) res_dict = self.controller.update_all(req, self.req_id, expected) self.req_id, expected) res_dict = self.controller.update_all(req, self.req_id, body) res_dict = self.controller.update_all(req, self.req_id, expected) self.assertRaises(webob.exc.HTTPBadRequest, expected) self.assertRaises(webob.exc.HTTPBadRequest, expected) self.controller.update_all, req, '100', body) res_dict = self.controller.update(req, self.req_id, 'key1', body) self.assertRaises(webob.exc.HTTPBadRequest, req, self.req_id, 'key1', body) self.req_id, 'key1', body) body) self.assertRaises(webob.exc.HTTPBadRequest, None) self.assertRaises(webob.exc.HTTPBadRequest, '', body) get_volume.assert_called_once_with(fake_context, self.req_id) self.assertRaises(webob.exc.HTTPRequestEntityTooLarge, req, self.req_id, (""a"" * 260), body) get_volume.assert_called_once_with(fake_context, self.req_id) self.assertRaises(webob.exc.HTTPRequestEntityTooLarge, req, self.req_id, ""key1"", body) get_volume.assert_called_once_with(fake_context, self.req_id) self.assertRaises(webob.exc.HTTPBadRequest, body) body) self.assertRaises(webob.exc.HTTPRequestEntityTooLarge, self.controller.create, req, self.req_id, data) self.assertRaises(webob.exc.HTTPRequestEntityTooLarge, self.controller.create, req, self.req_id, data) self.assertRaises(webob.exc.HTTPBadRequest, self.controller.create, req, self.req_id, data)",117,58
openstack%2Fcinder~master~I2de9766406f5abf7710de8e7a9637d5a23324347,openstack/cinder,master,I2de9766406f5abf7710de8e7a9637d5a23324347,Updated from global requirements,MERGED,2017-12-07 13:19:32.000000000,2018-02-25 14:41:02.000000000,2017-12-10 17:52:12.000000000,"[{'_account_id': 1736}, {'_account_id': 6491}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-12-07 13:19:32.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3ac39a99f6b2b770b6d17f6efa837c9835d7a628', 'message': 'Updated from global requirements\n\nChange-Id: I2de9766406f5abf7710de8e7a9637d5a23324347\n'}]",0,526367,3ac39a99f6b2b770b6d17f6efa837c9835d7a628,39,34,1,11131,,,0,"Updated from global requirements

Change-Id: I2de9766406f5abf7710de8e7a9637d5a23324347
",git fetch https://review.opendev.org/openstack/cinder refs/changes/67/526367/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,3ac39a99f6b2b770b6d17f6efa837c9835d7a628,openstack/requirements,oslo.policy>=1.30.0 # Apache-2.0,oslo.policy>=1.23.0 # Apache-2.0,1,1
openstack%2Fcinder~master~Ib9596ac3ecc57a4f825b7d7118014e2ac14b2473,openstack/cinder,master,Ib9596ac3ecc57a4f825b7d7118014e2ac14b2473,Remove skip_validation_flag to False by default,MERGED,2017-11-30 08:07:57.000000000,2018-02-25 14:41:01.000000000,2017-12-18 21:54:25.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 10670}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15054}, {'_account_id': 15439}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-11-30 08:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a75f946f5f7a8a7c7fb73015ab8b0e5807e2ecf8', 'message': 'Set skip_validation_flag to False by default\n\nSet the skip_validation to False by default to force quota\nvalidation.\nCloses-bug: #1735337\n\nChange-Id: Ib9596ac3ecc57a4f825b7d7118014e2ac14b2473\n'}, {'number': 2, 'created': '2017-11-30 10:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5fa358e7e07fde864cb1c7c957e85c83de1500ed', 'message': 'Set skip_validation_flag to False by default\n\nSet the skip_validation to False by default to force quota\nvalidation.\nCloses-bug: #1735337\n\nChange-Id: Ib9596ac3ecc57a4f825b7d7118014e2ac14b2473\n'}, {'number': 3, 'created': '2017-12-04 10:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fa040b835406dc44957f734c4d528a1b3327280b', 'message': 'Remove skip_validation_flag to False by default\n\nRemove the skip_validation to False by default to force quota\nvalidation.\nCloses-bug: #1735337\n\nChange-Id: Ib9596ac3ecc57a4f825b7d7118014e2ac14b2473\n'}, {'number': 4, 'created': '2017-12-06 12:08:25.000000000', 'files': ['api-ref/source/v3/quota-sets.inc', 'cinder/api/contrib/quotas.py', 'cinder/tests/unit/api/contrib/test_quotas.py', 'releasenotes/notes/releasenotes/notes/bug-1735337-remove-skip-quota-validation-flag-2ecb24143f1f1292.yaml', 'api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/samples/quotas-update-request.json'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7310676502f34a3e38329995731e12bcd5331210', 'message': 'Remove skip_validation_flag to False by default\n\nRemove the skip_validation to force quota\nvalidation.\nCloses-bug: #1735337\n\nChange-Id: Ib9596ac3ecc57a4f825b7d7118014e2ac14b2473\n'}]",10,524091,7310676502f34a3e38329995731e12bcd5331210,103,42,4,14806,,,0,"Remove skip_validation_flag to False by default

Remove the skip_validation to force quota
validation.
Closes-bug: #1735337

Change-Id: Ib9596ac3ecc57a4f825b7d7118014e2ac14b2473
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/524091/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/contrib/quotas.py'],1,a75f946f5f7a8a7c7fb73015ab8b0e5807e2ecf8,bug/1735337," skip_flag = body.get('skip_validation', False) ""resource's quota when updating it."")"," # TODO(wxy): Change ""skip_validation""'s default value to False in # Queens. skip_flag = body.get('skip_validation', True) ""resource's quota when updating it. Cinder will force "" ""validate it in Queens, please try to use "" ""skip_validation=False for quota updating now."")",2,6
openstack%2Fcinder~driverfixes%2Focata~I623d6114db866a465955f8a5ae7f40b69c781622,openstack/cinder,driverfixes/ocata,I623d6114db866a465955f8a5ae7f40b69c781622,HPE3PAR: Create FC vlun as host sees,MERGED,2017-12-05 18:03:04.000000000,2018-02-25 14:40:59.000000000,2018-01-10 21:02:39.000000000,"[{'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22664}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 24952}, {'_account_id': 25243}, {'_account_id': 25465}]","[{'number': 1, 'created': '2017-12-05 18:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cb7d9f8f94dccf6c8edee9c31c6d0ba95584e13d', 'message': 'HPE3PAR: Create FC vlun as host sees\n\nHost sees VLUN template allows host connected\nto any port to see a vv. so, only one vlun\ntemplate will be created per host irrespective\nof number of FC ports available.\n\nChange-Id: I623d6114db866a465955f8a5ae7f40b69c781622\nCloses-Bug: #1734505\n(cherry picked from commit cd18537fd631ba08a342bcfd328d765ea4d8c129)\n'}, {'number': 2, 'created': '2018-01-08 23:24:05.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e789cd21eb2d052c6ba57462b7a39d57243705c8', 'message': 'HPE3PAR: Create FC vlun as host sees\n\nHost sees VLUN template allows host connected\nto any port to see a vv. so, only one vlun\ntemplate will be created per host irrespective\nof number of FC ports available.\n\nChange-Id: I623d6114db866a465955f8a5ae7f40b69c781622\nCloses-Bug: #1734505\n(cherry picked from commit cd18537fd631ba08a342bcfd328d765ea4d8c129)\n'}]",0,525719,e789cd21eb2d052c6ba57462b7a39d57243705c8,42,21,2,24952,,,0,"HPE3PAR: Create FC vlun as host sees

Host sees VLUN template allows host connected
to any port to see a vv. so, only one vlun
template will be created per host irrespective
of number of FC ports available.

Change-Id: I623d6114db866a465955f8a5ae7f40b69c781622
Closes-Bug: #1734505
(cherry picked from commit cd18537fd631ba08a342bcfd328d765ea4d8c129)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/525719/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py']",2,cb7d9f8f94dccf6c8edee9c31c6d0ba95584e13d,bug/1734505-driverfixes/ocata," {'123456789012345': ['0987654321234', '123456789000987'], '123456789054321': ['0987654321234', '123456789000987']}}} lun=None), 'remoteName': self.wwn[1]}], {'123456789012345': ['0987654321234', '123456789000987'], '123456789054321': ['0987654321234', '123456789000987']}}} lun=None),"," 'portPos': {'cardPort': 1, 'node': 7, 'slot': 1}, 'portPos': {'cardPort': 1, 'node': 6, 'slot': 1}, 'portPos': {'node': 7, 'slot': 1, 'cardPort': 1}, 'portPos': {'node': 6, 'slot': 1, 'cardPort': 1}, {'123456789012345': ['123456789000987'], '123456789054321': ['0987654321234']}}} mock.call.getPorts(), lun=None, portPos={'node': 7, 'slot': 1, 'cardPort': 1}), mock.call.getHostVLUNs(self.FAKE_HOST), mock.call.createVLUN( self.VOLUME_3PAR_NAME, auto=False, hostname=self.FAKE_HOST, lun=90, portPos={'node': 6, 'slot': 1, 'cardPort': 1}), 'portPos': {'cardPort': 1, 'node': 7, 'slot': 1}, 'portPos': {'cardPort': 1, 'node': 6, 'slot': 1}, 'remoteName': self.wwn[1], 'portPos': {'cardPort': 1, 'node': 7, 'slot': 1}}], 'portPos': {'node': 6, 'slot': 1, 'cardPort': 1}, {'123456789012345': ['123456789000987'], '123456789054321': ['0987654321234']}}} mock.call.getPorts(), lun=None, portPos={'node': 7, 'slot': 1, 'cardPort': 1}), mock.call.getHostVLUNs(self.FAKE_HOST), mock.call.createVLUN( self.VOLUME_3PAR_NAME, auto=False, hostname=self.FAKE_HOST, lun=90, portPos={'node': 6, 'slot': 1, 'cardPort': 1}),",17,92
openstack%2Fcinder~master~I14c4ea5ac1bdb0dedfa875c94d1e1b36a256a390,openstack/cinder,master,I14c4ea5ac1bdb0dedfa875c94d1e1b36a256a390,DS8K: lss_range_for_cg should take csv as well as range,MERGED,2017-11-23 08:23:37.000000000,2018-02-25 14:40:57.000000000,2017-12-13 15:32:31.000000000,"[{'_account_id': 1736}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26422}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-11-23 08:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ec2fbb7e2b6778f84b6bb3b065d6195acbebd5e5', 'message': 'DS8K: lss_range_for_cg should take csv as well as range\n\nNow, lss_range_for_cg only accept a range value, but we think it should also accept csv.\nThis patch is used to implement it in Queue Release.\n\nChange-Id: I14c4ea5ac1bdb0dedfa875c94d1e1b36a256a390\nCloses-Bug: 1734037\n'}, {'number': 2, 'created': '2017-11-24 07:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f667540e01c3f6ee5375dd43b1bd3c99f0d2a275', 'message': 'DS8K: lss_range_for_cg should take csv as well as range\n\nNow, lss_range_for_cg only accept a range value, but we think it should also accept csv.\nThis patch is used to implement it in Queue Release.\n\nChange-Id: I14c4ea5ac1bdb0dedfa875c94d1e1b36a256a390\nCloses-Bug: 1734037\n'}, {'number': 3, 'created': '2017-11-24 07:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ecc9d99a8a17f85d6fea71c23e528430f00e9313', 'message': 'DS8K: add csv support in lss_range_for_cg\n\nlss_range_for_cg only accepts a range value now. csv values should also\nbe accepted.\n\nChange-Id: I14c4ea5ac1bdb0dedfa875c94d1e1b36a256a390\nCloses-Bug: 1734037\n'}, {'number': 4, 'created': '2017-12-02 14:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7895657077b0f8dcc65a59e0e99c1071e36478d1', 'message': 'DS8K: lss_range_for_cg should take csv as well as range\n\nNow, lss_range_for_cg only accept a range value, but we think it should also accept csv.\nThis patch is used to implement it in Queue Release.\n\nChange-Id: I14c4ea5ac1bdb0dedfa875c94d1e1b36a256a390\nCloses-Bug: 1734037\n'}, {'number': 5, 'created': '2017-12-05 03:06:39.000000000', 'files': ['cinder/volume/drivers/ibm/ibm_storage/ds8k_helper.py', 'cinder/tests/unit/volume/drivers/ibm/test_ds8k_proxy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b9ee79fae6d673538df532bf801eba0f0f372816', 'message': 'DS8K: lss_range_for_cg should take csv as well as range\n\nNow, lss_range_for_cg only accept a range value, but we think it\nshould also accept csv. This patch is used to implement it in\nQueues Release.\n\nChange-Id: I14c4ea5ac1bdb0dedfa875c94d1e1b36a256a390\nCloses-Bug: 1734037\n'}]",9,522474,b9ee79fae6d673538df532bf801eba0f0f372816,123,43,5,26422,,,0,"DS8K: lss_range_for_cg should take csv as well as range

Now, lss_range_for_cg only accept a range value, but we think it
should also accept csv. This patch is used to implement it in
Queues Release.

Change-Id: I14c4ea5ac1bdb0dedfa875c94d1e1b36a256a390
Closes-Bug: 1734037
",git fetch https://review.opendev.org/openstack/cinder refs/changes/74/522474/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/ibm_storage/ds8k_helper.py', 'cinder/tests/unit/volume/drivers/ibm/test_ds8k_proxy.py']",2,ec2fbb7e2b6778f84b6bb3b065d6195acbebd5e5,bug/1734037," @ddt.data('25- 27-', '-25- 27', '25-27 55 66 122', '25, 26', '25#28') def test_get_lss_ids_for_cg_1(self, lss_range_for_cg): """"""lss_range_for_cg should has the right format."""""" self.configuration.lss_range_for_cg = lss_range_for_cg self.assertRaises(exception.InvalidParameterValue, FakeDS8KCommonHelper, self.configuration, None) def test_get_lss_ids_for_cg_2(self): """"""get value from lss_range_for_cg"""""" self.configuration.lss_range_for_cg = '25- 27 30 32 85-87' cmn_helper = FakeDS8KCommonHelper(self.configuration, None) lss_ids = cmn_helper._get_lss_ids_for_cg() test_lss_ids = set(['25', '26', '27', '30', '32', '85', '86', '87']) self.assertEqual(test_lss_ids, lss_ids) ",,43,13
openstack%2Fcinder~master~I0fb5dc6404ee4db54a3dfc839b9a56622bff6906,openstack/cinder,master,I0fb5dc6404ee4db54a3dfc839b9a56622bff6906,NEC driver: delete an unused configuration parameter.,MERGED,2017-11-28 10:26:49.000000000,2018-02-25 14:40:56.000000000,2017-12-15 18:45:46.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 23885}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 25747}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-11-28 10:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7eac9646ecdd7b87903816f4825a2dc2489f3fbe', 'message': ""NEC driver: delete an unused configuration parameter.\n\nThe `ldset_controller_node_name' parameter has been deprecated\nand is ineffective already.\nThis patch refactors NEC driver by deleting the unused codes.\n\nChange-Id: I0fb5dc6404ee4db54a3dfc839b9a56622bff6906\nCloses-Bug: #1734633\n""}, {'number': 2, 'created': '2017-11-29 04:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/82457fa6655a336da3d6c0b14258ecd61826e5a5', 'message': ""NEC driver: delete an unused configuration parameter.\n\nThe `ldset_controller_node_name' parameter has been deprecated\nand is ineffective already.\nThis patch refactors NEC driver by deleting the unused codes.\n\nChange-Id: I0fb5dc6404ee4db54a3dfc839b9a56622bff6906\nCloses-Bug: #1734633\n""}, {'number': 3, 'created': '2017-11-29 05:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/df34009b99174204b6fcf846b4b071d055502bb3', 'message': ""NEC driver: delete an unused configuration parameter.\n\nThe `ldset_controller_node_name' parameter has been deprecated\nand is ineffective already.\nThis patch refactors NEC driver by deleting the unused codes.\n\nChange-Id: I0fb5dc6404ee4db54a3dfc839b9a56622bff6906\nCloses-Bug: #1734633\n""}, {'number': 4, 'created': '2017-11-30 00:01:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc618250ac355e50907612b168a9d4f33c6e1c79', 'message': ""NEC driver: delete an unused configuration parameter.\n\nThe `ldset_controller_node_name' parameter has been deprecated\nand is ineffective already.\nThis patch refactors NEC driver by deleting the unused codes.\n\nChange-Id: I0fb5dc6404ee4db54a3dfc839b9a56622bff6906\nCloses-Bug: #1734633\n""}, {'number': 5, 'created': '2017-11-30 04:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b6806dbc00d2e70fab385d41bfd63fd78e0ad697', 'message': ""NEC driver: delete an unused configuration parameter.\n\nThe `ldset_controller_node_name' parameter has been deprecated\nand is ineffective already.\nThis patch refactors NEC driver by deleting the unused codes.\n\nChange-Id: I0fb5dc6404ee4db54a3dfc839b9a56622bff6906\nCloses-Bug: #1734633\n""}, {'number': 6, 'created': '2017-11-30 07:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/55bdb5acc71e1577d9e93c502f84cfae54034748', 'message': ""NEC driver: delete an unused configuration parameter.\n\nThe `ldset_controller_node_name' parameter has been deprecated\nand is ineffective already.\nThis patch refactors NEC driver by deleting the unused codes.\n\nChange-Id: I0fb5dc6404ee4db54a3dfc839b9a56622bff6906\nCloses-Bug: #1734633\n""}, {'number': 7, 'created': '2017-12-04 10:29:23.000000000', 'files': ['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_common.py', 'cinder/volume/drivers/nec/cli.py', 'releasenotes/notes/nec-delete-unused-parameter-367bc9447acbb03e.yaml', 'cinder/volume/drivers/nec/volume_helper.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9974c39f0355bd0a0c3c3364297688de2eccf467', 'message': ""NEC driver: delete an unused configuration parameter.\n\nThe `ldset_controller_node_name' parameter has been deprecated\nand is ineffective already.\nThis patch refactors NEC driver by deleting the unused codes.\n\nChange-Id: I0fb5dc6404ee4db54a3dfc839b9a56622bff6906\nCloses-Bug: #1734633\n""}]",3,523382,9974c39f0355bd0a0c3c3364297688de2eccf467,162,44,7,23885,,,0,"NEC driver: delete an unused configuration parameter.

The `ldset_controller_node_name' parameter has been deprecated
and is ineffective already.
This patch refactors NEC driver by deleting the unused codes.

Change-Id: I0fb5dc6404ee4db54a3dfc839b9a56622bff6906
Closes-Bug: #1734633
",git fetch https://review.opendev.org/openstack/cinder refs/changes/82/523382/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/nec/volume_common.py', 'cinder/volume/drivers/nec/cli.py', 'cinder/volume/drivers/nec/volume_helper.py']",3,7eac9646ecdd7b87903816f4825a2dc2489f3fbe,bug/1734633," def _validate_iscsildset_exist(self, ldsets, connector): ldset = self.get_ldset(ldsets) def _validate_fcldset_exist(self, ldsets, connector): ldset = self.get_ldset(ldsets) xml = self._cli.view_all(self._properties['ismview_path']) pools, lds, ldsets, used_ldns, hostports, max_ld_count = ( self.configs(xml)) # find LD Set. ldset = self._validate_iscsildset_exist( ldsets, connector) ldname = self.get_ldname( volume.id, self._properties['ld_name_format']) # add LD to LD set. if ldname not in lds: msg = _('Logical Disk `%s` could not be found.') % ldname raise exception.NotFound(msg) ld = lds[ldname] if ld['ldn'] not in ldset['lds']: # assign the LD to LD Set. self._cli.addldsetld(ldset['ldsetname'], ldname) LOG.debug('Add LD `%(ld)s` to LD Set `%(ldset)s`.', {'ld': ldname, 'ldset': ldset['ldsetname']}) ret = self._fc_do_export(_ctx, volume, connector, ensure, self._properties['diskarray_name']) @coordination.synchronized('mstorage_bind_execute_{diskarray_name}') def _fc_do_export(self, _ctx, volume, connector, ensure, diskarray_name): xml = self._cli.view_all(self._properties['ismview_path']) pools, lds, ldsets, used_ldns, hostports, max_ld_count = ( self.configs(xml)) # get target LD Set. ldset = self._validate_fcldset_exist(ldsets, connector) ldname = self.get_ldname(volume.id, self._properties['ld_name_format']) # add LD to LD set. if ldname not in lds: msg = _('Logical Disk `%s` could not be found.') % ldname raise exception.NotFound(msg) ld = lds[ldname] if ld['ldn'] not in ldset['lds']: # assign the LD to LD Set. self._cli.addldsetld(ldset['ldsetname'], ldname) LOG.debug('Add LD `%(ld)s` to LD Set `%(ldset)s`.', {'ld': ldname, 'ldset': ldset['ldsetname']}) ldset = self.get_ldset(ldsets)"," def _validate_iscsildset_exist(self, ldsets, connector, metadata=None): ldset = self.get_ldset(ldsets, metadata) def _validate_fcldset_exist(self, ldsets, connector, metadata=None): ldset = self.get_ldset(ldsets, metadata) while True: xml = self._cli.view_all(self._properties['ismview_path']) pools, lds, ldsets, used_ldns, hostports, max_ld_count = ( self.configs(xml)) # find LD Set. # get target LD Set name. metadata = {} # image to volume or volume to image. if (volume.status in ['downloading', 'uploading'] and self._properties['ldset_controller_node_name'] != ''): metadata['ldset'] = ( self._properties['ldset_controller_node_name']) LOG.debug('image to volume or volume to image:%s', volume.status) # migrate. elif (hasattr(volume, 'migration_status') and volume.migration_status is not None and self._properties['ldset_controller_node_name'] != ''): metadata['ldset'] = ( self._properties['ldset_controller_node_name']) LOG.debug('migrate:%s', volume.migration_status) ldset = self._validate_iscsildset_exist( ldsets, connector, metadata) ldname = self.get_ldname( volume.id, self._properties['ld_name_format']) # add LD to LD set. if ldname not in lds: msg = _('Logical Disk `%s` could not be found.') % ldname raise exception.NotFound(msg) ld = lds[ldname] if ld['ldn'] not in ldset['lds']: # Check the LD is remaining on ldset_controller_node. ldset_controller_node_name = ( self._properties['ldset_controller_node_name']) if ldset_controller_node_name != '': if ldset_controller_node_name != ldset['ldsetname']: ldset_controller = ldsets[ldset_controller_node_name] if ld['ldn'] in ldset_controller['lds']: LOG.debug( 'delete remaining the LD from ' 'ldset_controller_node. ' 'Ldset Name=%s.', ldset_controller_node_name) self._cli.delldsetld(ldset_controller_node_name, ldname) # assign the LD to LD Set. self._cli.addldsetld(ldset['ldsetname'], ldname) LOG.debug('Add LD `%(ld)s` to LD Set `%(ldset)s`.', {'ld': ldname, 'ldset': ldset['ldsetname']}) else: break ret = self._fc_do_export(_ctx, volume, connector, ensure) def _fc_do_export(self, _ctx, volume, connector, ensure): while True: xml = self._cli.view_all(self._properties['ismview_path']) pools, lds, ldsets, used_ldns, hostports, max_ld_count = ( self.configs(xml)) # find LD Set. # get target LD Set. metadata = {} # image to volume or volume to image. if (volume.status in ['downloading', 'uploading'] and self._properties['ldset_controller_node_name'] != ''): metadata['ldset'] = ( self._properties['ldset_controller_node_name']) LOG.debug('image to volume or volume to image:%s', volume.status) # migrate. elif (hasattr(volume, 'migration_status') and volume.migration_status is not None and self._properties['ldset_controller_node_name'] != '' ): metadata['ldset'] = ( self._properties['ldset_controller_node_name']) LOG.debug('migrate:%s', volume.migration_status) ldset = self._validate_fcldset_exist(ldsets, connector, metadata) # get free lun. luns = [] ldsetlds = ldset['lds'] for ld in ldsetlds.values(): luns.append(ld['lun']) target_lun = 0 for lun in sorted(luns): if target_lun < lun: break target_lun += 1 ldname = self.get_ldname( volume.id, self._properties['ld_name_format']) # add LD to LD set. if ldname not in lds: msg = _('Logical Disk `%s` could not be found.') % ldname raise exception.NotFound(msg) ld = lds[ldname] if ld['ldn'] not in ldset['lds']: # Check the LD is remaining on ldset_controller_node. ldset_controller_node_name = ( self._properties['ldset_controller_node_name']) if ldset_controller_node_name != '': if ldset_controller_node_name != ldset['ldsetname']: ldset_controller = ldsets[ldset_controller_node_name] if ld['ldn'] in ldset_controller['lds']: LOG.debug( 'delete remaining the LD from ' 'ldset_controller_node. ' 'Ldset Name=%s.', ldset_controller_node_name) self._cli.delldsetld(ldset_controller_node_name, ldname) # assign the LD to LD Set. self._cli.addldsetld(ldset['ldsetname'], ldname, target_lun) LOG.debug('Add LD `%(ld)s` to LD Set `%(ldset)s`.', {'ld': ldname, 'ldset': ldset['ldsetname']}) else: break metadata = {} # image to volume or volume to image. if (volume.status in ['downloading', 'uploading'] and self._properties['ldset_controller_node_name'] != ''): metadata['ldset'] = ( self._properties['ldset_controller_node_name']) LOG.debug('image to volume or volume to image:%s', volume.status) # migrate. elif (hasattr(volume, 'migration_status') and volume.migration_status is not None and self._properties['ldset_controller_node_name'] != '' ): metadata['ldset'] = ( self._properties['ldset_controller_node_name']) LOG.debug('migrate:%s', volume.migration_status) ldset = self.get_ldset(ldsets, metadata) # Check the LD is remaining on ldset_controller_node. ldset_controller_node_name = ( self._properties['ldset_controller_node_name']) if ldset_controller_node_name != '': if ldset_controller_node_name in ldsets: ldset = ldsets[ldset_controller_node_name] if ld['ldn'] in ldset['lds']: LOG.debug('delete LD from ldset_controller_node. ' 'Ldset Name=%s.', ldset_controller_node_name) self._cli.delldsetld(ldset_controller_node_name, ldname) ",45,179
openstack%2Fcinder~master~Ic70f45762cf4e426c222415e49b947a328282ca0,openstack/cinder,master,Ic70f45762cf4e426c222415e49b947a328282ca0,Migrate fixed_key encryption keys to Barbican,MERGED,2017-12-01 20:34:23.000000000,2018-02-25 14:40:54.000000000,2017-12-14 17:49:02.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21129}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22878}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-01 20:34:23.000000000', 'files': ['cinder/volume/utils.py', 'cinder/volume/manager.py', 'releasenotes/notes/migrate-fixed-key-to-barbican-91dfcb829efd4bb6.yaml', 'cinder/tests/unit/volume/test_init_host.py', 'cinder/keymgr/migration.py', 'cinder/tests/unit/keymgr/test_migration.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/189a1096da2b0ad6b51fd5943a385a89f56a18c4', 'message': ""Migrate fixed_key encryption keys to Barbican\n\nAssist users who are switching from the legacy ConfKeyManager to\nBarbican by automatically migrating any existing keys. Key migration\nis executed in its own thread spawned on cinder-volume startup. Two\nfactors are used to determine whether existing keys need to be\nmigrated.\n\n1) The ConfKeyManager's fixed_key config value is set (not None).\n   This indicates volumes may exist that were encrypted using the\n   ConfKeyManager.\n2) Barbican is the current key manager.\n\nWhen the both conditions are met, each instance of the cinder-volume\nservice scans its volumes in the database, looking for volumes using\nthe ConfKeyManager's all-zeros encryption key ID. If a volume has an\nall-zeros key ID, the same secret (derived from the fixed_key) is stored\nin Barbican, and all database references to that volume's key ID are\nreplaced with the new Barbican key ID.\n\nImplements: blueprint migrate-fixed-key-to-barbican\nChange-Id: Ic70f45762cf4e426c222415e49b947a328282ca0\n""}]",2,524720,189a1096da2b0ad6b51fd5943a385a89f56a18c4,39,35,1,21129,,,0,"Migrate fixed_key encryption keys to Barbican

Assist users who are switching from the legacy ConfKeyManager to
Barbican by automatically migrating any existing keys. Key migration
is executed in its own thread spawned on cinder-volume startup. Two
factors are used to determine whether existing keys need to be
migrated.

1) The ConfKeyManager's fixed_key config value is set (not None).
   This indicates volumes may exist that were encrypted using the
   ConfKeyManager.
2) Barbican is the current key manager.

When the both conditions are met, each instance of the cinder-volume
service scans its volumes in the database, looking for volumes using
the ConfKeyManager's all-zeros encryption key ID. If a volume has an
all-zeros key ID, the same secret (derived from the fixed_key) is stored
in Barbican, and all database references to that volume's key ID are
replaced with the new Barbican key ID.

Implements: blueprint migrate-fixed-key-to-barbican
Change-Id: Ic70f45762cf4e426c222415e49b947a328282ca0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/20/524720/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/utils.py', 'cinder/volume/manager.py', 'releasenotes/notes/migrate-fixed-key-to-barbican-91dfcb829efd4bb6.yaml', 'cinder/tests/unit/volume/test_init_host.py', 'cinder/keymgr/migration.py', 'cinder/tests/unit/keymgr/test_migration.py']",6,189a1096da2b0ad6b51fd5943a385a89f56a18c4,bp/migrate-fixed-key-to-barbican,"# Copyright 2017 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Tests for encryption key migration."""""" import mock from oslo_config import cfg from cinder import db from cinder.keymgr import migration from cinder import objects from cinder.tests.unit import fake_constants as fake from cinder.tests.unit import utils as tests_utils from cinder.tests.unit import volume as base CONF = cfg.CONF FIXED_KEY_ID = '00000000-0000-0000-0000-000000000000' class KeyMigrationTestCase(base.BaseVolumeTestCase): def setUp(self): super(KeyMigrationTestCase, self).setUp() self.conf = CONF self.fixed_key = '1' * 64 self.conf.import_opt(name='fixed_key', module_str='cinder.keymgr.conf_key_mgr', group='key_manager') self.conf.set_override('fixed_key', self.fixed_key, group='key_manager') self.conf.set_override('backend', 'barbican', group='key_manager') self.my_vols = [] def tearDown(self): for vol in objects.VolumeList.get_all(self.context): self.volume.delete_volume(self.context, vol) super(KeyMigrationTestCase, self).tearDown() def create_volume(self, key_id=FIXED_KEY_ID): vol = tests_utils.create_volume(self.context, host=self.conf.host) vol_id = self.volume.create_volume(self.context, vol) if key_id: db.volume_update(self.context, vol_id, {'encryption_key_id': key_id}) self.my_vols = objects.VolumeList.get_all_by_host(self.context, self.conf.host) # Return a fully baked Volume object (not the partially baked 'vol' # and not the DB object). return next((v for v in self.my_vols if v.id == vol_id)) @mock.patch('cinder.keymgr.migration.KeyMigrator._migrate_keys') @mock.patch('cinder.keymgr.migration.KeyMigrator._log_migration_status') def test_no_fixed_key(self, mock_log_migration_status, mock_migrate_keys): self.create_volume() self.conf.set_override('fixed_key', None, group='key_manager') migration.migrate_fixed_key(self.my_vols, conf=self.conf) mock_migrate_keys.assert_not_called() mock_log_migration_status.assert_not_called() @mock.patch('cinder.keymgr.migration.KeyMigrator._migrate_keys') @mock.patch('cinder.keymgr.migration.KeyMigrator._log_migration_status') def test_using_conf_key_manager(self, mock_log_migration_status, mock_migrate_keys): self.create_volume() self.conf.set_override('backend', 'some.ConfKeyManager', group='key_manager') migration.migrate_fixed_key(self.my_vols, conf=self.conf) mock_migrate_keys.assert_not_called() mock_log_migration_status.assert_not_called() @mock.patch('cinder.keymgr.migration.KeyMigrator._migrate_keys') @mock.patch('cinder.keymgr.migration.KeyMigrator._log_migration_status') def test_using_barbican_module_path(self, mock_log_migration_status, mock_migrate_keys): # Verify the long-hand method of specifying the Barbican backend # is properly parsed. self.create_volume() self.conf.set_override( 'backend', 'castellan.key_manager.barbican_key_manager.BarbicanKeyManager', group='key_manager') migration.migrate_fixed_key(self.my_vols, conf=self.conf) mock_migrate_keys.assert_called_once_with(self.my_vols) mock_log_migration_status.assert_called_once_with() @mock.patch('cinder.keymgr.migration.KeyMigrator._migrate_keys') @mock.patch('cinder.keymgr.migration.KeyMigrator._log_migration_status') def test_using_unsupported_key_manager(self, mock_log_migration_status, mock_migrate_keys): self.create_volume() self.conf.set_override('backend', 'some.OtherKeyManager', group='key_manager') migration.migrate_fixed_key(self.my_vols, conf=self.conf) mock_migrate_keys.assert_not_called() mock_log_migration_status.assert_called_once_with() @mock.patch('cinder.keymgr.migration.KeyMigrator._migrate_keys') @mock.patch('cinder.keymgr.migration.KeyMigrator._log_migration_status') def test_no_volumes(self, mock_log_migration_status, mock_migrate_keys): migration.migrate_fixed_key(self.my_vols, conf=self.conf) mock_migrate_keys.assert_not_called() mock_log_migration_status.assert_called_once_with() @mock.patch('cinder.keymgr.migration.KeyMigrator._migrate_volume_key') @mock.patch('barbicanclient.client.Client') def test_fail_no_barbican_client(self, mock_barbican_client, mock_migrate_volume_key): self.create_volume() mock_barbican_client.side_effect = Exception migration.migrate_fixed_key(self.my_vols, conf=self.conf) mock_migrate_volume_key.assert_not_called() @mock.patch('cinder.keymgr.migration.KeyMigrator._migrate_volume_key') @mock.patch('barbicanclient.client.Client') def test_fail_too_many_errors(self, mock_barbican_client, mock_migrate_volume_key): for n in range(0, (migration.MAX_KEY_MIGRATION_ERRORS + 3)): self.create_volume() mock_migrate_volume_key.side_effect = Exception migration.migrate_fixed_key(self.my_vols, conf=self.conf) self.assertEqual(mock_migrate_volume_key.call_count, (migration.MAX_KEY_MIGRATION_ERRORS + 1)) @mock.patch('cinder.keymgr.migration.KeyMigrator._migrate_keys') def test_migration_status_more_to_migrate(self, mock_migrate_keys): mock_log = self.mock_object(migration, 'LOG') self.create_volume() migration.migrate_fixed_key(self.my_vols, conf=self.conf) # Look for one warning (more to migrate) and no info log messages. mock_log.info.assert_not_called() self.assertEqual(mock_log.warning.call_count, 1) @mock.patch('cinder.keymgr.migration.KeyMigrator._migrate_keys') def test_migration_status_all_done(self, mock_migrate_keys): mock_log = self.mock_object(migration, 'LOG') self.create_volume(key_id=fake.ENCRYPTION_KEY_ID) migration.migrate_fixed_key(self.my_vols, conf=self.conf) # Look for one info (all done) and no warning log messages. mock_log.warning.assert_not_called() self.assertEqual(mock_log.info.call_count, 1) @mock.patch( 'cinder.keymgr.migration.KeyMigrator._update_encryption_key_id') @mock.patch('barbicanclient.client.Client') def test_migrate_fixed_key_volumes(self, mock_barbican_client, mock_update_encryption_key_id): # Create two volumes with fixed key ID that needs to be migrated, and # a couple of volumes with key IDs that don't need to be migrated, # or no key ID. vol_1 = self.create_volume() self.create_volume(key_id=fake.UUID1) self.create_volume(key_id=None) vol_2 = self.create_volume() self.create_volume(key_id=fake.UUID2) migration.migrate_fixed_key(self.my_vols, conf=self.conf) calls = [mock.call(vol_1), mock.call(vol_2)] mock_update_encryption_key_id.assert_has_calls(calls, any_order=True) self.assertEqual(mock_update_encryption_key_id.call_count, len(calls)) @mock.patch('barbicanclient.client.Client') def test_update_encryption_key_id(self, mock_barbican_client): vol = self.create_volume() snap_ids = [fake.SNAPSHOT_ID, fake.SNAPSHOT2_ID, fake.SNAPSHOT3_ID] for snap_id in snap_ids: tests_utils.create_snapshot(self.context, vol.id, id=snap_id) # Barbican's secret.store() returns a URI that contains the # secret's key ID at the end. secret_ref = 'http://some/path/' + fake.ENCRYPTION_KEY_ID mock_secret = mock.MagicMock() mock_secret.store.return_value = secret_ref mock_barbican_client.return_value.secrets.create.return_value \ = mock_secret migration.migrate_fixed_key(self.my_vols, conf=self.conf) vol_db = db.volume_get(self.context, vol.id) self.assertEqual(fake.ENCRYPTION_KEY_ID, vol_db['encryption_key_id']) for snap_id in snap_ids: snap_db = db.snapshot_get(self.context, snap_id) self.assertEqual(fake.ENCRYPTION_KEY_ID, snap_db['encryption_key_id']) ",,429,0
openstack%2Fcinder~master~Ifefc495bdc8877e981e11bd5ffee371dc0eb2e0a,openstack/cinder,master,Ifefc495bdc8877e981e11bd5ffee371dc0eb2e0a,Imported Translations from Zanata,MERGED,2017-12-01 06:33:05.000000000,2018-02-25 14:40:40.000000000,2017-12-01 17:31:21.000000000,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-12-01 06:33:05.000000000', 'files': ['cinder/locale/fr/LC_MESSAGES/cinder.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c906171b94de27c3a5174de24dfbb69d009274f5', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ifefc495bdc8877e981e11bd5ffee371dc0eb2e0a\n'}]",0,524483,c906171b94de27c3a5174de24dfbb69d009274f5,34,29,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ifefc495bdc8877e981e11bd5ffee371dc0eb2e0a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/83/524483/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/locale/fr/LC_MESSAGES/cinder.po'],1,c906171b94de27c3a5174de24dfbb69d009274f5,zanata/translations,"# safouen benhadj <safouen.benhadj@gmail.com>, 2017. #zanata""Project-Id-Version: cinder 12.0.0.0b2.dev276\n""""POT-Creation-Date: 2017-12-01 03:50+0000\n""""PO-Revision-Date: 2017-11-30 09:03+0000\n"" ""Last-Translator: safouen benhadj <safouen.benhadj@gmail.com>\n""msgid ""Availability zone '%(az)s' is invalid."" msgstr ""La zone de disponibilit '%(az)s' n'est pas valide."" #, python-formatmsgid ""Invalid group type: %(reason)s"" msgstr ""Type de groupe invalide : %(reason)s"" #, python-formatmsgstr ""Type de volume invalide : %(reason)s""","""Project-Id-Version: cinder 12.0.0.0b2.dev262\n""""POT-Creation-Date: 2017-11-29 20:28+0000\n""""PO-Revision-Date: 2016-04-12 04:56+0000\n"" ""Last-Translator: Copied by Zanata <copied-by-zanata@zanata.org>\n""msgstr ""Type de volume non valide : %(reason)s""",14,5
openstack%2Fcinder~master~Id2165a07995ab706d4a327f7340dccee7799c7b6,openstack/cinder,master,Id2165a07995ab706d4a327f7340dccee7799c7b6,Discrepancy in api-ref and code for create group snapshot API,MERGED,2017-11-30 10:13:37.000000000,2018-02-25 14:40:32.000000000,2017-12-01 03:24:10.000000000,"[{'_account_id': 10622}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 23913}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-30 10:13:37.000000000', 'files': ['api-ref/source/v3/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7e693dd10729d696723e3742fdfbca845f821418', 'message': ""Discrepancy in api-ref and code for create group snapshot API\n\n'group_id' is mentioned as an optional parameter in api-ref doc for\nPOST /v3/{project_id}/group_snapshots API but in the code if we don't\npass group-id it returns BadRequest.\n\nThis patch fixes this discrepancy by updating the api-ref according\nto the code.\n\nCloses-Bug: #1735177\nChange-Id: Id2165a07995ab706d4a327f7340dccee7799c7b6\n""}]",0,524120,7e693dd10729d696723e3742fdfbca845f821418,36,31,1,24645,,,0,"Discrepancy in api-ref and code for create group snapshot API

'group_id' is mentioned as an optional parameter in api-ref doc for
POST /v3/{project_id}/group_snapshots API but in the code if we don't
pass group-id it returns BadRequest.

This patch fixes this discrepancy by updating the api-ref according
to the code.

Closes-Bug: #1735177
Change-Id: Id2165a07995ab706d4a327f7340dccee7799c7b6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/20/524120/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/parameters.yaml'],1,7e693dd10729d696723e3742fdfbca845f821418,bug/1735177, required: true, required: false,1,1
openstack%2Fcinder~master~I7d48a0210f3d4545d5a4d932796cb82a677e467f,openstack/cinder,master,I7d48a0210f3d4545d5a4d932796cb82a677e467f,"added clarification in docs for usage of ""volume_clear*"" options",MERGED,2017-11-29 16:15:31.000000000,2018-02-25 14:40:30.000000000,2017-12-14 00:29:44.000000000,"[{'_account_id': 7198}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 19933}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 23674}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-11-29 16:15:31.000000000', 'files': ['doc/source/configuration/tables/cinder-storage.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c07f4d3a788951ea3dfa310c46252f41c1141c58', 'message': 'added clarification in docs for usage of ""volume_clear*"" options\n\n* In the current documentation its pretty unclear where to set the\nvolume_clear* options and since we found that they will not work while\nset in the [DEFAULT] section this commit adds information on where to\nset them.\n\nChange-Id: I7d48a0210f3d4545d5a4d932796cb82a677e467f\n'}]",1,523923,c07f4d3a788951ea3dfa310c46252f41c1141c58,32,27,1,11915,,,0,"added clarification in docs for usage of ""volume_clear*"" options

* In the current documentation its pretty unclear where to set the
volume_clear* options and since we found that they will not work while
set in the [DEFAULT] section this commit adds information on where to
set them.

Change-Id: I7d48a0210f3d4545d5a4d932796cb82a677e467f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/23/523923/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/tables/cinder-storage.inc'],1,c07f4d3a788951ea3dfa310c46252f41c1141c58,," - (String) Method used to wipe old volumes. This option can either be set in section [backend_defaults] (to apply to all enabled_backends) or directly in the backend specific section to apply for just this one backend. - (String) The flag to pass to ionice to alter the i/o priority of the process used to zero a volume after deletion, for example ""-c3"" for idle only priority. This option can either be set in section [backend_defaults] (to apply to all enabled_backends) or directly in the backend specific section to apply for just this one backend. - (Integer) Size in MiB to wipe at start of old volumes. 1024 MiBat max. 0 => all. This option can either be set in section [backend_defaults] (to apply to all enabled_backends) or directly in the backend specific section to apply for just this one backend."," - (String) Method used to wipe old volumes - (String) The flag to pass to ionice to alter the i/o priority of the process used to zero a volume after deletion, for example ""-c3"" for idle only priority. - (Integer) Size in MiB to wipe at start of old volumes. 1024 MiBat max. 0 => all",3,3
openstack%2Fcinder~driverfixes%2Fnewton~I7932b1d952844b49cfdb504ed0ba188b489d7f44,openstack/cinder,driverfixes/newton,I7932b1d952844b49cfdb504ed0ba188b489d7f44,Kaminario K2: Add non discovery iSCSI multipath,MERGED,2017-11-24 09:12:32.000000000,2018-02-25 14:40:29.000000000,2018-01-10 13:54:26.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 16258}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21767}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 27556}]","[{'number': 1, 'created': '2017-11-24 09:12:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/72aaeeed75b972751ab42d80d0b1ed76faf9be0d', 'message': 'Kaminario K2: Add non discovery iSCSI multipath\n\nCurrent Kaminario K2 driver only supports iSCSI multipathing using\ndiscovery (sendtargets), which in some cases may be undesirable, since a\nbroken primary path could prevent an attachment.\n\nThis code adds the possibility of not using discovery mode and return\nall connection information when `initialize_connection` is called, which\nshould provide increased reliability.\n\nChange-Id: I7932b1d952844b49cfdb504ed0ba188b489d7f44\n(cherry picked from commit c9ec9b9bd755f042dbe1ccbdc5e3ff87fa60269c)\n'}, {'number': 2, 'created': '2017-11-29 07:19:28.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_kaminario.py', 'releasenotes/notes/k2-disable-discovery-bca0d65b5672ec7b.yaml', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/kaminario/kaminario_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1e1e8e94b161c161efc227aedf43e95798cbfd18', 'message': 'Kaminario K2: Add non discovery iSCSI multipath\n\nCurrent Kaminario K2 driver only supports iSCSI multipathing using\ndiscovery (sendtargets), which in some cases may be undesirable, since a\nbroken primary path could prevent an attachment.\n\nThis code adds the possibility of not using discovery mode and return\nall connection information when `initialize_connection` is called, which\nshould provide increased reliability.\n\nChange-Id: I7932b1d952844b49cfdb504ed0ba188b489d7f44\n(cherry picked from commit c9ec9b9bd755f042dbe1ccbdc5e3ff87fa60269c)\n(cherry picked from commit 7bcb2ff94cf38eaa9def1115569981760e36510c)\n'}]",3,522748,1e1e8e94b161c161efc227aedf43e95798cbfd18,61,20,2,16258,,,0,"Kaminario K2: Add non discovery iSCSI multipath

Current Kaminario K2 driver only supports iSCSI multipathing using
discovery (sendtargets), which in some cases may be undesirable, since a
broken primary path could prevent an attachment.

This code adds the possibility of not using discovery mode and return
all connection information when `initialize_connection` is called, which
should provide increased reliability.

Change-Id: I7932b1d952844b49cfdb504ed0ba188b489d7f44
(cherry picked from commit c9ec9b9bd755f042dbe1ccbdc5e3ff87fa60269c)
(cherry picked from commit 7bcb2ff94cf38eaa9def1115569981760e36510c)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/522748/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_kaminario.py', 'releasenotes/notes/k2-disable-discovery-bca0d65b5672ec7b.yaml', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/kaminario/kaminario_iscsi.py']",4,72aaeeed75b972751ab42d80d0b1ed76faf9be0d,kaminario-iscsi-non-discovery-newton," iscsi_portals, target_iqns = self.get_target_info(volume) result = {""driver_volume_type"": ""iscsi"", ""data"": {""target_iqn"": target_iqns[0], ""target_portal"": iscsi_portals[0], ""target_lun"": lun, ""target_discovered"": True}} if self.configuration.disable_discovery and connector.get('multipath'): result['data'].update(target_iqns=target_iqns, target_portals=iscsi_portals, target_luns=[lun] * len(target_iqns)) return result iscsi_portals = target_iqns = None if hasattr(iscsi_ip_rs, 'hits') and iscsi_ip_rs.total != 0: iscsi_portals = ['%s:%s' % (ip.ip_address, ISCSI_TCP_PORT) for ip in iscsi_ip_rs.hits if not ip.wan_port] if not iscsi_portals: iqn = sys_state_rs.hits[0].iscsi_qualified_target_name target_iqns = [iqn] * len(iscsi_portals) if not target_iqns: return iscsi_portals, target_iqns"," iscsi_portal, target_iqn = self.get_target_info(volume) return {""driver_volume_type"": ""iscsi"", ""data"": {""target_iqn"": target_iqn, ""target_portal"": iscsi_portal, ""target_lun"": lun, ""target_discovered"": True}} iscsi_ip = target_iqn = None if hasattr(iscsi_ip_rs, 'hits') and iscsi_ip_rs.total != 0: for ip in iscsi_ip_rs.hits: if not ip.wan_port: iscsi_ip = ip.ip_address break if not iscsi_ip: iscsi_portal = ""{0}:{1}"".format(iscsi_ip, ISCSI_TCP_PORT) target_iqn = sys_state_rs.hits[0].iscsi_qualified_target_name if not target_iqn: return iscsi_portal, target_iqn",155,119
openstack%2Fcinder~master~Ic220ea4d8a6e83293e5237acfb07b1a417293803,openstack/cinder,master,Ic220ea4d8a6e83293e5237acfb07b1a417293803,handle no default_cgsnapshot_type,MERGED,2017-11-16 14:47:58.000000000,2018-02-25 14:40:27.000000000,2017-12-13 22:48:27.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10608}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-16 14:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d1b9a5c2088a0ecc730b80b56f21d088bb634b6', 'message': 'handle no default_cgsnapshot_type\n\nIf default_cgsnapshot_type has been deleted, group operations for\ndrivers not yet implementing the new group APIs were failing with a\nKeyError while attempting to determine if the targeted group was\ndefault_cgsnapshot_type. This fixes that by using a comparison that\nallows for the possibility that default_cgsnapshot_type does not\nexist.\n\nChange-Id: Ic220ea4d8a6e83293e5237acfb07b1a417293803\nCloses-Bug: #1710937\n'}, {'number': 2, 'created': '2017-11-28 21:55:44.000000000', 'files': ['cinder/volume/manager.py', 'cinder/volume/group_types.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/be7b476d562f79d649724555aeadfad60127e356', 'message': 'handle no default_cgsnapshot_type\n\nIf default_cgsnapshot_type has been deleted, group operations for\ndrivers relying on the generic volume group implementation were failing\nwith a KeyError while attempting to determine if the targeted group was\ndefault_cgsnapshot_type. This fixes that by using a comparison that\nallows for the possibility that default_cgsnapshot_type does not\nexist.\n\nChange-Id: Ic220ea4d8a6e83293e5237acfb07b1a417293803\nCloses-Bug: #1710937\n'}]",0,520607,be7b476d562f79d649724555aeadfad60127e356,92,38,2,10608,,,0,"handle no default_cgsnapshot_type

If default_cgsnapshot_type has been deleted, group operations for
drivers relying on the generic volume group implementation were failing
with a KeyError while attempting to determine if the targeted group was
default_cgsnapshot_type. This fixes that by using a comparison that
allows for the possibility that default_cgsnapshot_type does not
exist.

Change-Id: Ic220ea4d8a6e83293e5237acfb07b1a417293803
Closes-Bug: #1710937
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/520607/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/volume/group_types.py']",2,9d1b9a5c2088a0ecc730b80b56f21d088bb634b6,bug/1710937, return cgsnap_type and group_type_id == cgsnap_type['id'], return group_type_id == cgsnap_type['id'],13,13
openstack%2Fcinder~stable%2Fpike~I065ffba9615af54998ae94a8d2d2fd3853f462cb,openstack/cinder,stable/pike,I065ffba9615af54998ae94a8d2d2fd3853f462cb,VMAX driver - detach volume shouldn't remove from volume groups,MERGED,2017-11-28 17:11:30.000000000,2018-02-25 14:40:25.000000000,2017-12-19 13:17:59.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 12822}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23414}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26347}, {'_account_id': 26537}, {'_account_id': 26561}]","[{'number': 1, 'created': '2017-11-28 17:11:30.000000000', 'files': ['cinder/volume/drivers/dell_emc/vmax/masking.py', 'cinder/volume/drivers/dell_emc/vmax/provision.py', 'cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/68df7c8d7c6445661206fdf0fc15a4e59892ebb6', 'message': ""VMAX driver - detach volume shouldn't remove from volume groups\n\nDetaching a volume in VMAX removes the volume from all its current\nstorage groups and returns it to its default storage group. This is not\ndesired behaviour when the volume is a member of a generic volume group.\nThe volume should only be removed from the storage group associated\nwith the masking view related to the detach operation (or all masking\nviews in the case of a force detach). This patch rectifies the issue.\n\nChange-Id: I065ffba9615af54998ae94a8d2d2fd3853f462cb\nCloses-Bug: 1721207\n(cherry picked from commit 27fd333df9a7f5b473225b3c55cd0c250f017134)\n""}]",0,523475,68df7c8d7c6445661206fdf0fc15a4e59892ebb6,35,19,1,12670,,,0,"VMAX driver - detach volume shouldn't remove from volume groups

Detaching a volume in VMAX removes the volume from all its current
storage groups and returns it to its default storage group. This is not
desired behaviour when the volume is a member of a generic volume group.
The volume should only be removed from the storage group associated
with the masking view related to the detach operation (or all masking
views in the case of a force detach). This patch rectifies the issue.

Change-Id: I065ffba9615af54998ae94a8d2d2fd3853f462cb
Closes-Bug: 1721207
(cherry picked from commit 27fd333df9a7f5b473225b3c55cd0c250f017134)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/523475/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/vmax/masking.py', 'cinder/volume/drivers/dell_emc/vmax/provision.py', 'cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py']",4,68df7c8d7c6445661206fdf0fc15a4e59892ebb6,bug/1721207," group_name = self.provision.get_or_create_volume_group( extra_specs[utils.ARRAY], volume.group, extra_specs) self.masking.add_volume_to_storage_group( extra_specs[utils.ARRAY], volume_dict['device_id'], group_name, volume_name, extra_specs) array, volume, device_id, volume_name, extra_specs, True, connector) masking_view_dict[utils.ARRAY], volume, self, array, device_id, volume_name, extra_specs, volume): array, volume, device_id, volume_name, extra_specs, False) extra_specs[utils.ARRAY], volume, device_id, self, array, volume, device_id, srp, target_slo, :param volume: the volume object array, volume, device_id, volume_name, target_extra_specs, array, volume, device_id, rdf_group_no, self.rep_config, remote_array, volume, target_device, volume_name, array, volume, device_id, volume_name, extra_specs, False) remote_array, volume, target_device, volume_name, def enable_rdf(self, array, volume, device_id, rdf_group_no, rep_config, :param volume: the volume object array, volume, device_id, target_name, extra_specs, False) remote_array, volume, target_device, target_name, remote_array, volume, target_device, target_name,"," group_name = self._find_volume_group_name_from_id( extra_specs[utils.ARRAY], volume.group_id) if group_name is not None: self.masking.add_volume_to_storage_group( extra_specs[utils.ARRAY], volume_dict['device_id'], group_name, volume_name, extra_specs) array, device_id, volume_name, extra_specs, True, connector) masking_view_dict[utils.ARRAY], self, array, device_id, volume_name, extra_specs, volume=None): array, device_id, volume_name, extra_specs, False) extra_specs[utils.ARRAY], device_id, self, array, device_id, srp, target_slo, array, device_id, volume_name, target_extra_specs, array, device_id, rdf_group_no, self.rep_config, remote_array, target_device, volume_name, array, device_id, volume_name, extra_specs, False) remote_array, target_device, volume_name, def enable_rdf(self, array, device_id, rdf_group_no, rep_config, array, device_id, target_name, extra_specs, False) remote_array, target_device, target_name, remote_array, target_device, target_name, def _find_volume_group_name_from_id(self, array, group_id): """"""Finds the volume group name given its id :param array: the array serial number :param group_id: the group id :returns: group_name: Name of the group """""" group_name = None sg_list = self.rest.get_storage_group_list(array) for sg in sg_list: if group_id in sg: group_name = sg return group_name return group_name ",165,107
openstack%2Fcinder~master~I962b06eeabfc1ac8dc2bdfc6459fd37f7532f0ee,openstack/cinder,master,I962b06eeabfc1ac8dc2bdfc6459fd37f7532f0ee,Update the documentation links,MERGED,2017-11-28 02:50:47.000000000,2018-02-25 14:40:22.000000000,2017-12-07 06:45:31.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 21430}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25388}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26310}, {'_account_id': 26311}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-11-28 02:50:47.000000000', 'files': ['doc/source/admin/index.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ab86e7c34a176c578c09150d8c71b590de179f88', 'message': 'Update the documentation links\n\nThe documentation about ""ops-guide"" has been moved.\n\nChange-Id: I962b06eeabfc1ac8dc2bdfc6459fd37f7532f0ee\n'}]",0,523282,ab86e7c34a176c578c09150d8c71b590de179f88,31,28,1,24209,,,0,"Update the documentation links

The documentation about ""ops-guide"" has been moved.

Change-Id: I962b06eeabfc1ac8dc2bdfc6459fd37f7532f0ee
",git fetch https://review.opendev.org/openstack/cinder refs/changes/82/523282/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/index.rst'],1,ab86e7c34a176c578c09150d8c71b590de179f88,doc-migration,.. _`Storage Decisions`: https://docs.openstack.org/arch-design/design-storage/design-storage-arch.html .. _`OpenStack Operations Guide`: https://wiki.openstack.org/wiki/OpsGuide,.. _`Storage Decisions`: https://docs.openstack.org/ops-guide/arch-storage.html .. _`OpenStack Operations Guide`: https://docs.openstack.org/ops-guide/,2,2
openstack%2Fcinder~master~Iaf77db73e368aee0d09b4c8e76f180f394f1aa37,openstack/cinder,master,Iaf77db73e368aee0d09b4c8e76f180f394f1aa37,Use new oslo.db test cases,MERGED,2017-11-22 16:22:38.000000000,2018-02-25 14:39:32.000000000,2017-11-28 18:57:48.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12176}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23140}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-22 16:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c3d31f482f912e345243d75f366cdb186a2e6d94', 'message': 'Use new oslo.db test cases\n\nBase migration test cases have moved to a new location in oslo.db\nresulting in DeprecationWarnings in the Cinder logs. This updates\nthe migration tests to use the new location for these base test\nclasses.\n\nAlso tries to clean up slightly by moving the test_migrations\ntests under the db directory.\n\nChange-Id: Iaf77db73e368aee0d09b4c8e76f180f394f1aa37\nCloses-bug: #1733903\n'}, {'number': 2, 'created': '2017-11-27 20:16:04.000000000', 'files': ['cinder/tests/unit/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a7ab5ba1f3f0618f29ff02a1e8b61922eaddac61', 'message': 'Use new oslo.db test cases\n\nBase migration test cases have moved to a new location in oslo.db\nresulting in DeprecationWarnings in the Cinder logs. This updates\nthe migration tests to use the new location for these base test\nclasses.\n\nAlso tries to clean up slightly by moving the test_migrations\ntests under the db directory.\n\nChange-Id: Iaf77db73e368aee0d09b4c8e76f180f394f1aa37\nCloses-bug: #1733903\n'}]",0,522290,a7ab5ba1f3f0618f29ff02a1e8b61922eaddac61,56,30,2,11904,,,0,"Use new oslo.db test cases

Base migration test cases have moved to a new location in oslo.db
resulting in DeprecationWarnings in the Cinder logs. This updates
the migration tests to use the new location for these base test
classes.

Also tries to clean up slightly by moving the test_migrations
tests under the db directory.

Change-Id: Iaf77db73e368aee0d09b4c8e76f180f394f1aa37
Closes-bug: #1733903
",git fetch https://review.opendev.org/openstack/cinder refs/changes/90/522290/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/db/test_migrations.py'],1,c3d31f482f912e345243d75f366cdb186a2e6d94,bug/1733903,from oslo_db.tests.sqlalchemy import base as test_base,from oslo_db.sqlalchemy import test_base,1,1
openstack%2Fcinder~master~Ic44dfae8bb187a5aa9c2c1f50f7b5dc0ef0f28f8,openstack/cinder,master,Ic44dfae8bb187a5aa9c2c1f50f7b5dc0ef0f28f8,Support create a volume from image snapshot,MERGED,2016-05-11 10:05:58.000000000,2018-02-25 14:39:09.000000000,2017-11-27 17:42:02.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12382}, {'_account_id': 12540}, {'_account_id': 12732}, {'_account_id': 12822}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 15961}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16708}, {'_account_id': 16862}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17852}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 20146}, {'_account_id': 20629}, {'_account_id': 21193}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2016-05-11 10:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d81c572caac6f49aa7adb795c1fff182a2ba49a6', 'message': 'support create a volume from image snapshot\n\nThe image was created from instance snapshot,\nas the instance boot from volume,so the image\nis just a link to the volume snapshot.When the\nuser create volume from the snapshot image, we\nwill create volume from the volume snapshot.\n\nChange-Id: Ic44dfae8bb187a5aa9c2c1f50f7b5dc0ef0f28f8\nCloses-Bug: #1560867\n'}, {'number': 2, 'created': '2016-05-19 04:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b8acac5e646401d85c24d8a9d4ae68069ba0ec50', 'message': 'support create a volume from image snapshot\n\nThe image was created from instance snapshot,\nas the instance boot from volume,so the image\nis just a link to the volume snapshot.When the\nuser create volume from the snapshot image, we\nwill create volume from the volume snapshot.\n\nChange-Id: Ic44dfae8bb187a5aa9c2c1f50f7b5dc0ef0f28f8\nCloses-Bug: #1560867\n'}, {'number': 3, 'created': '2016-05-19 08:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5ee10332b3c2f861a1fa0fcf79ac715e5d89f6be', 'message': 'support create a volume from image snapshot\n\nThe image was created from instance snapshot,\nas the instance boot from volume,so the image\nis just a link to the volume snapshot.When the\nuser create volume from the snapshot image, we\nwill create volume from the volume snapshot.\n\nChange-Id: Ic44dfae8bb187a5aa9c2c1f50f7b5dc0ef0f28f8\nCloses-Bug: #1560867\n'}, {'number': 4, 'created': '2016-05-19 08:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e1914c9f1aec75c142ece752e461b7d32bf51f96', 'message': 'support create a volume from image snapshot\n\nThe image was created from instance snapshot,\nas a result of the instance boot from volume,\nso the image is just a link to the volume\nsnapshot.When the user create volume from\nthe snapshot image, we will create volume\nfrom the volume snapshot.\n\nChange-Id: Ic44dfae8bb187a5aa9c2c1f50f7b5dc0ef0f28f8\nCloses-Bug: #1560867\n'}, {'number': 5, 'created': '2016-06-20 08:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a6a4226dc55adac6efc1f431c19faab132eb827f', 'message': ""support create a volume from image snapshot\n\nThe instance boot from volume, snapshot the instance will create\na image in glance. The image size is 0, it just a link to the\nvolume snapshot. When the user create volume from the snapshot\nimage, in the current version, it will create a blank volume. so\nthe user is troubled. This patch fix it.\n\nThe scheme: when the user create volume from snapshot image, the\napi create interface will parse out the snapshot image corresponds\nto the volume snapshot id. Then create a volume from the volume\nsnapshot. So, the user can use this way to restore the instance's\nbootable volume.\n\nChange-Id: Ic44dfae8bb187a5aa9c2c1f50f7b5dc0ef0f28f8\nCloses-Bug: #1560867\n""}, {'number': 6, 'created': '2017-11-22 07:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bca1a0224ec1744cefafbce048e4b1878a6d453d', 'message': ""support create a volume from image snapshot\n\nThe instance boot from volume, snapshot the instance will create\na image in glance. The image size is 0, it just a link to the\nvolume snapshot. When the user create volume from the snapshot\nimage, in the current version, it will create a blank volume. so\nthe user is troubled. This patch fix it.\n\nThe scheme: when the user create volume from snapshot image, the\napi create interface will parse out the snapshot image corresponds\nto the volume snapshot id. Then create a volume from the volume\nsnapshot. So, the user can use this way to restore the instance's\nbootable volume.\n\nChange-Id: Ic44dfae8bb187a5aa9c2c1f50f7b5dc0ef0f28f8\nCloses-Bug: #1560867\n""}, {'number': 7, 'created': '2017-11-23 02:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2ee8102f2c23daabd063ce5e243f9586359bd83e', 'message': ""support create a volume from image snapshot\n\nThe instance boot from volume, snapshot the instance will create\na image in glance. The image size is 0, it just a link to the\nvolume snapshot. When the user create volume from the snapshot\nimage, in the current version, it will create a blank volume. so\nthe user is troubled. This patch fix it.\n\nThe scheme: when the user create volume from snapshot image, the\napi create interface will parse out the snapshot image corresponds\nto the volume snapshot id. Then create a volume from the volume\nsnapshot. So, the user can use this way to restore the instance's\nbootable volume.\n\nChange-Id: Ic44dfae8bb187a5aa9c2c1f50f7b5dc0ef0f28f8\nCloses-Bug: #1560867\n""}, {'number': 8, 'created': '2017-11-23 05:38:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f77454c7d968b37c82b0bb48e571d16767ea7718', 'message': ""support create a volume from image snapshot\n\nThe instance boot from volume, snapshot the instance will create\na image in glance. The image size is 0, it just a link to the\nvolume snapshot. When the user create volume from the snapshot\nimage, in the current version, it will create a blank volume. so\nthe user is troubled. This patch fix it.\n\nThe scheme: when the user create volume from snapshot image, the\napi create interface will parse out the snapshot image corresponds\nto the volume snapshot id. Then create a volume from the volume\nsnapshot. So, the user can use this way to restore the instance's\nbootable volume.\n\nChange-Id: Ic44dfae8bb187a5aa9c2c1f50f7b5dc0ef0f28f8\nCloses-Bug: #1560867\n""}, {'number': 9, 'created': '2017-11-25 03:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8f414ccb875641c0addf632c37a8ac22e7630eca', 'message': ""support create a volume from image snapshot\n\nThe instance boot from volume, snapshot the instance will create\na image in glance. The image size is 0, it just a link to the\nvolume snapshot. When the user create volume from the snapshot\nimage, in the current version, it will create a blank volume. so\nthe user is troubled. This patch fix it.\n\nThe scheme: when the user create volume from snapshot image, the\napi create interface will parse out the snapshot image corresponds\nto the volume snapshot id. Then create a volume from the volume\nsnapshot. So, the user can use this way to restore the instance's\nbootable volume.\n\nChange-Id: Ic44dfae8bb187a5aa9c2c1f50f7b5dc0ef0f28f8\nCloses-Bug: #1560867\n""}, {'number': 10, 'created': '2017-11-25 07:08:32.000000000', 'files': ['cinder/tests/unit/api/v3/test_volumes.py', 'cinder/api/v3/volumes.py', 'cinder/api/openstack/api_version_request.py', 'cinder/api/openstack/rest_api_version_history.rst', 'releasenotes/notes/bug-1560867-support-nova-specific-image-7yt6fd1173c4e3wd.yaml', 'cinder/api/microversions.py', 'cinder/tests/unit/image/fake.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/25dd8109df4425e7f470429956d093bf59fcf669', 'message': ""Support create a volume from image snapshot\n\nThe instance boot from volume, snapshot the instance will create\na image in glance. The image size is 0, it just a link to the\nvolume snapshot. When the user create volume from the snapshot\nimage, in the current version, it will create a blank volume. so\nthe user is troubled. This patch fix it.\n\nThe scheme: when the user create volume from snapshot image, the\napi create interface will parse out the snapshot image corresponds\nto the volume snapshot id. Then create a volume from the volume\nsnapshot. So, the user can use this way to restore the instance's\nbootable volume.\n\nChange-Id: Ic44dfae8bb187a5aa9c2c1f50f7b5dc0ef0f28f8\nCloses-Bug: #1560867\n""}]",13,314944,25dd8109df4425e7f470429956d093bf59fcf669,189,60,10,12382,,,0,"Support create a volume from image snapshot

The instance boot from volume, snapshot the instance will create
a image in glance. The image size is 0, it just a link to the
volume snapshot. When the user create volume from the snapshot
image, in the current version, it will create a blank volume. so
the user is troubled. This patch fix it.

The scheme: when the user create volume from snapshot image, the
api create interface will parse out the snapshot image corresponds
to the volume snapshot id. Then create a volume from the volume
snapshot. So, the user can use this way to restore the instance's
bootable volume.

Change-Id: Ic44dfae8bb187a5aa9c2c1f50f7b5dc0ef0f28f8
Closes-Bug: #1560867
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/314944/10 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/v2/volumes.py', 'cinder/tests/unit/image/fake.py', 'cinder/tests/unit/api/v2/test_volumes.py']",3,d81c572caac6f49aa7adb795c1fff182a2ba49a6,bug/1560867," @mock.patch.object(db.sqlalchemy.api, '_volume_type_get_full', autospec=True) @mock.patch.object(volume_api.API, 'get_snapshot', autospec=True) @mock.patch.object(volume_api.API, 'create', autospec=True) @mock.patch( 'cinder.api.openstack.wsgi.Controller.validate_name_and_description') def test_volume_create_with_snapshot_image(self, mock_validate, create, get_snapshot, volume_type_get): create.side_effect = stubs.stub_volume_api_create get_snapshot.side_effect = stubs.stub_snapshot_get volume_type_get.side_effect = stubs.stub_volume_type_get self.ext_mgr.extensions = {'os-image-create': 'fake'} vol = self._vol_in_request_body( image_id=""b0a599e0-41d7-3582-b260-769f443c862a"") snapshot_id = stubs.TEST_SNAPSHOT_UUID ex = self._expected_vol_from_controller(snapshot_id=snapshot_id) body = {""volume"": vol} req = fakes.HTTPRequest.blank('/v2/volumes') res_dict = self.controller.create(req, body) self.assertEqual(ex, res_dict) context = req.environ['cinder.context'] get_snapshot.assert_called_once_with(self.controller.volume_api, context, snapshot_id) kwargs = self._expected_volume_api_create_kwargs( stubs.stub_snapshot(snapshot_id)) create.assert_called_once_with(self.controller.volume_api, context, vol['size'], stubs.DEFAULT_VOL_NAME, stubs.DEFAULT_VOL_DESCRIPTION, **kwargs) ",,80,6
openstack%2Fcinder~master~I54695655e563d84e4fb1b76c42f0127c5fb909f7,openstack/cinder,master,I54695655e563d84e4fb1b76c42f0127c5fb909f7,SMBFS: manageable volumes,MERGED,2017-11-17 18:49:40.000000000,2018-02-25 14:39:08.000000000,2017-12-14 00:59:08.000000000,"[{'_account_id': 7198}, {'_account_id': 8543}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 23630}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-17 18:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1e134425d0f36e916bf6a352d1c3c8f044da989', 'message': 'SMBFS: manageable volumes\n\nThis change allows the SMBFS driver to claim (manage) vhd/x images\npresent on pre-configured shares.\n\nNote that images having backing (parent) files will be rejected.\nManaging snapshots will not be supported either.\n\nThe images may reside in subdirectories (and get moved afterwards),\nwhich may be useful when having a folder dedicated to images that\nare to be imported in Cinder.\n\nAll the logic is included in the new ""RemoteFSManageableVolumesMixin""\nclass so that any related driver may inherit it. For the record,\nthis works out of the box for the NFS driver (special care has been\ntaken in this sense).\n\nImplements: blueprint remotefs-manage-unmanage-volume\nChange-Id: I54695655e563d84e4fb1b76c42f0127c5fb909f7\n'}, {'number': 2, 'created': '2017-11-17 20:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/57568c1f92d280b0a8f03e843325c7028144ac8e', 'message': 'SMBFS: manageable volumes\n\nThis change allows the SMBFS driver to claim (manage) vhd/x images\npresent on pre-configured shares.\n\nNote that images having backing (parent) files will be rejected.\nManaging snapshots will not be supported either.\n\nThe images may reside in subdirectories (and get moved afterwards),\nwhich may be useful when having a folder dedicated to images that\nare to be imported in Cinder.\n\nAll the logic is included in the new ""RemoteFSManageableVolumesMixin""\nclass so that any related driver may inherit it. For the record,\nthis works out of the box for the NFS driver (special care has been\ntaken in this sense).\n\nImplements: blueprint remotefs-manage-unmanage-volume\nChange-Id: I54695655e563d84e4fb1b76c42f0127c5fb909f7\n'}, {'number': 3, 'created': '2017-11-20 10:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6ac43d4b5654a3d15756d1324e2ce70c3bf89061', 'message': 'SMBFS: manageable volumes\n\nThis change allows the SMBFS driver to claim (manage) vhd/x images\npresent on pre-configured shares.\n\nNote that images having backing (parent) files will be rejected.\nManaging snapshots will not be supported either.\n\nThe images may reside in subdirectories (and get moved afterwards),\nwhich may be useful when having a folder dedicated to images that\nare to be imported in Cinder.\n\nAll the logic is included in the new ""RemoteFSManageableVolumesMixin""\nclass so that any related driver may inherit it. For the record,\nthis works out of the box for the NFS driver (special care has been\ntaken in this sense).\n\nImplements: blueprint remotefs-manage-unmanage-volume\nChange-Id: I54695655e563d84e4fb1b76c42f0127c5fb909f7\n'}, {'number': 4, 'created': '2017-11-20 14:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5256502d78167cb3ee10188268321c517096d70a', 'message': 'SMBFS: manageable volumes\n\nThis change allows the SMBFS driver to claim (manage) vhd/x images\npresent on pre-configured shares.\n\nNote that images having backing (parent) files will be rejected.\nManaging snapshots will not be supported either.\n\nThe images may reside in subdirectories (and get moved afterwards),\nwhich may be useful when having a folder dedicated to images that\nare to be imported in Cinder.\n\nAll the logic is included in the new ""RemoteFSManageableVolumesMixin""\nclass so that any related driver may inherit it. For the record,\nthis works out of the box for the NFS driver (special care has been\ntaken in this sense).\n\nImplements: blueprint remotefs-manage-unmanage-volume\nChange-Id: I54695655e563d84e4fb1b76c42f0127c5fb909f7\n'}, {'number': 5, 'created': '2017-11-20 16:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/44f93b341819ce7c85d599c355c27e787bdf46f1', 'message': 'SMBFS: manageable volumes\n\nThis change allows the SMBFS driver to claim (manage) vhd/x images\npresent on pre-configured shares.\n\nNote that images having backing (parent) files will be rejected.\nManaging snapshots will not be supported either.\n\nThe images may reside in subdirectories (and get moved afterwards),\nwhich may be useful when having a folder dedicated to images that\nare to be imported in Cinder.\n\nAll the logic is included in the new ""RemoteFSManageableVolumesMixin""\nclass so that any related driver may inherit it. For the record,\nthis works out of the box for the NFS driver (special care has been\ntaken in this sense).\n\nImplements: blueprint remotefs-manage-unmanage-volume\nChange-Id: I54695655e563d84e4fb1b76c42f0127c5fb909f7\n'}, {'number': 6, 'created': '2017-11-23 09:17:01.000000000', 'files': ['cinder/volume/drivers/windows/smbfs.py', 'cinder/tests/unit/windows/test_smbfs.py', 'cinder/exception.py', 'cinder/tests/unit/volume/drivers/test_remotefs.py', 'releasenotes/notes/smbfs-manage-unmanage-f1502781dd5f82cb.yaml', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ed945da6bf05475c272443d2eebacfc79c389926', 'message': 'SMBFS: manageable volumes\n\nThis change allows the SMBFS driver to claim (manage) vhd/x images\npresent on pre-configured shares.\n\nNote that images having backing (parent) files will be rejected.\nManaging snapshots will not be supported either.\n\nThe images may reside in subdirectories (and get moved afterwards),\nwhich may be useful when having a folder dedicated to images that\nare to be imported in Cinder.\n\nAll the logic is included in the new ""RemoteFSManageableVolumesMixin""\nclass so that any related driver may inherit it. For the record,\nthis works out of the box for the NFS driver (special care has been\ntaken in this sense).\n\nImplements: blueprint remotefs-manage-unmanage-volume\nChange-Id: I54695655e563d84e4fb1b76c42f0127c5fb909f7\n'}]",1,521158,ed945da6bf05475c272443d2eebacfc79c389926,147,42,6,8543,,,0,"SMBFS: manageable volumes

This change allows the SMBFS driver to claim (manage) vhd/x images
present on pre-configured shares.

Note that images having backing (parent) files will be rejected.
Managing snapshots will not be supported either.

The images may reside in subdirectories (and get moved afterwards),
which may be useful when having a folder dedicated to images that
are to be imported in Cinder.

All the logic is included in the new ""RemoteFSManageableVolumesMixin""
class so that any related driver may inherit it. For the record,
this works out of the box for the NFS driver (special care has been
taken in this sense).

Implements: blueprint remotefs-manage-unmanage-volume
Change-Id: I54695655e563d84e4fb1b76c42f0127c5fb909f7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/58/521158/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/windows/smbfs.py', 'cinder/tests/unit/windows/test_smbfs.py', 'cinder/exception.py', 'cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py']",5,b1e134425d0f36e916bf6a352d1c3c8f044da989,bp/remotefs-manage-unmanage-volume,"import math raise exception.RemoteFSInvalidBackingFile( path=path, backing_file=info.backing_file) class RemoteFSManageableVolumesMixin(object): _SUPPORTED_IMAGE_FORMATS = ['raw', 'qcow2'] _MANAGEABLE_IMAGE_RE = None def _get_manageable_vol_location(self, existing_ref): if 'source-name' not in existing_ref: reason = _('The existing volume reference ' 'must contain ""source-name"".') raise exception.ManageExistingInvalidReference( existing_ref=existing_ref, reason=reason) vol_remote_path = os.path.normcase( os.path.normpath(existing_ref['source-name'])) for mounted_share in self._mounted_shares: # We don't currently attempt to resolve hostnames. This could # be troublesome for some distributed shares, which may have # hostnames resolving to multiple addresses. norm_share = os.path.normcase(os.path.normpath(mounted_share)) head, match, share_rel_path = vol_remote_path.partition(norm_share) if not (match and share_rel_path.startswith(os.path.sep)): continue mountpoint = self._get_mount_point_for_share(mounted_share) vol_local_path = os.path.join(mountpoint, share_rel_path.lstrip(os.path.sep)) LOG.debug(""Found mounted share referenced by %s."", vol_remote_path) if os.path.isfile(vol_local_path): LOG.debug(""Found volume %(path)s on share %(share)s."", dict(path=vol_local_path, share=mounted_share)) return dict(share=mounted_share, mountpoint=mountpoint, vol_local_path=vol_local_path, vol_remote_path=vol_remote_path) else: LOG.error(""Could not find volume %s on the "" ""specified share."", vol_remote_path) break raise exception.ManageExistingInvalidReference( existing_ref=existing_ref, reason=_('Volume not found.')) def _get_managed_vol_expected_path(self, volume, volume_location): # This may be overridden by the drivers. return os.path.join(volume_location['mountpoint'], volume.name) def _is_volume_manageable(self, volume_path, already_managed=False): unmanageable_reason = None if already_managed: return False, _('Volume already managed.') try: img_info = self._qemu_img_info(volume_path, volume_name=None) except exception.RemoteFSInvalidBackingFile: return False, _(""Backing file present."") except Exception: return False, _(""Failed to open image."") # We're double checking as some drivers do not validate backing # files through '_qemu_img_info'. if img_info.backing_file: return False, _(""Backing file present."") if img_info.file_format not in self._SUPPORTED_IMAGE_FORMATS: unmanageable_reason = _( ""Unsupported image format: '%s'."") % img_info.file_format return False, unmanageable_reason return True, None def manage_existing(self, volume, existing_ref): LOG.info('Managing volume %(volume_id)s with ref %(ref)s', {'volume_id': volume.id, 'ref': existing_ref}) vol_location = self._get_manageable_vol_location(existing_ref) vol_local_path = vol_location['vol_local_path'] manageable, unmanageable_reason = self._is_volume_manageable( vol_local_path) if not manageable: raise exception.ManageExistingInvalidReference( existing_ref=existing_ref, reason=unmanageable_reason) expected_vol_path = self._get_managed_vol_expected_path( volume, vol_location) self._set_rw_permissions(vol_local_path) # This should be the last thing we do. if expected_vol_path != vol_local_path: LOG.info(""Renaming imported volume image %(src)s to %(dest)s"", dict(src=vol_location['vol_local_path'], dest=expected_vol_path)) os.rename(vol_location['vol_local_path'], expected_vol_path) return {'provider_location': vol_location['share']} def _get_rounded_manageable_image_size(self, image_path): image_size = image_utils.qemu_img_info( image_path, run_as_root=self._execute_as_root).virtual_size return int(math.ceil(float(image_size) / units.Gi)) def manage_existing_get_size(self, volume, existing_ref): vol_location = self._get_manageable_vol_location(existing_ref) volume_path = vol_location['vol_local_path'] return self._get_rounded_manageable_image_size(volume_path) def unmanage(self, volume): pass def _get_manageable_volume(self, share, volume_path, managed_volume=None): manageable, unmanageable_reason = self._is_volume_manageable( volume_path, already_managed=managed_volume is not None) size_gb = None if managed_volume: # We may not be able to query in-use images. size_gb = managed_volume.size else: try: size_gb = self._get_rounded_manageable_image_size(volume_path) except Exception: manageable = False unmanageable_reason = (unmanageable_reason or _(""Failed to get size."")) mountpoint = self._get_mount_point_for_share(share) norm_mountpoint = os.path.normcase(os.path.normpath(mountpoint)) norm_vol_path = os.path.normcase(os.path.normpath(volume_path)) ref = norm_vol_path.replace(norm_mountpoint, share).replace('\\', '/') manageable_volume = { 'reference': {'source-name': ref}, 'size': size_gb, 'safe_to_manage': manageable, 'reason_not_safe': unmanageable_reason, 'cinder_id': managed_volume.id if managed_volume else None, 'extra_info': None, } return manageable_volume def _get_share_manageable_volumes(self, share, managed_volumes): manageable_volumes = [] mount_path = self._get_mount_point_for_share(share) for dir_path, dir_names, file_names in os.walk(mount_path): for file_name in file_names: img_path = os.path.join(dir_path, file_name) # In the future, we may have the regex filtering images # as a config option. if (not self._MANAGEABLE_IMAGE_RE or self._MANAGEABLE_IMAGE_RE.match(file_name)): managed_volume = managed_volumes.get( os.path.splitext(file_name)[0]) try: manageable_volume = self._get_manageable_volume( share, img_path, managed_volume) manageable_volumes.append(manageable_volume) except Exception as exc: LOG.error( ""Failed to get manageable volume info: "" ""'%(image_path)s'. Exception: %(exc)s."", dict(image_path=img_path, exc=exc)) return manageable_volumes def get_manageable_volumes(self, cinder_volumes, marker, limit, offset, sort_keys, sort_dirs): manageable_volumes = [] managed_volumes = {vol.name: vol for vol in cinder_volumes} for share in self._mounted_shares: try: manageable_volumes += self._get_share_manageable_volumes( share, managed_volumes) except Exception as exc: LOG.error(""Failed to get manageable volumes for "" ""share %(share)s. Exception: %(exc)s."", dict(share=share, exc=exc)) return volume_utils.paginate_entries_list( manageable_volumes, marker, limit, offset, sort_keys, sort_dirs)"," msg = _(""File %(path)s has invalid backing file "" ""%(bfile)s, aborting."") % {'path': path, 'bfile': info.backing_file} raise exception.RemoteFSException(msg)",562,10
openstack%2Fcinder~master~I84b5ff546726c9eddb46badb48b24ed1905e0aa8,openstack/cinder,master,I84b5ff546726c9eddb46badb48b24ed1905e0aa8,RBD: support driver-assisted volume migration,MERGED,2015-12-10 20:50:25.000000000,2018-02-25 14:39:04.000000000,2017-11-22 22:26:23.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 2759}, {'_account_id': 4523}, {'_account_id': 8846}, {'_account_id': 9003}, {'_account_id': 9008}, {'_account_id': 9064}, {'_account_id': 9236}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12249}, {'_account_id': 12369}, {'_account_id': 12540}, {'_account_id': 12736}, {'_account_id': 12778}, {'_account_id': 12822}, {'_account_id': 12825}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14101}, {'_account_id': 14208}, {'_account_id': 14242}, {'_account_id': 14259}, {'_account_id': 14305}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15374}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16660}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 16862}, {'_account_id': 16880}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16941}, {'_account_id': 16952}, {'_account_id': 17103}, {'_account_id': 17565}, {'_account_id': 17852}, {'_account_id': 18120}, {'_account_id': 18402}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 20813}, {'_account_id': 21119}, {'_account_id': 21193}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 21990}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 22700}, {'_account_id': 22752}, {'_account_id': 22998}, {'_account_id': 23602}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25169}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}]","[{'number': 1, 'created': '2015-12-10 20:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/90dcdc366821c546b0edc43a77fb6fc203c3c3fa', 'message': 'RBD: add support for driver-assisted volume migration\n\nThis patch implements the driver function migration_volume() and allows\na user to efficiently retype or migrate a volume from one pool to\nanother as long as both pools reside in the same cluster.\n\nChange-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8\n'}, {'number': 2, 'created': '2015-12-10 20:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4760052a1d3d343a091af1dbdb3aed7e018594ef', 'message': 'RBD: add support for driver-assisted volume migration\n\nThis patch implements the driver function migration_volume() and allows\na user to efficiently retype or migrate a volume from one pool to\nanother as long as both pools reside in the same cluster.\n\nChange-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8\nDepends-On: I455e8b6063dff36794d8aec7922ee1f26b3cf298\n'}, {'number': 3, 'created': '2016-04-13 18:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ad83832a7c1f165d33bfc060fa73006ad8af6769', 'message': 'RBD: add support for driver-assisted volume migration\n\nThis patch implements the driver function migration_volume() and allows\na user to efficiently retype or migrate a volume from one pool to\nanother as long as both pools reside in the same cluster.\n\nChange-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8\nDepends-On: I455e8b6063dff36794d8aec7922ee1f26b3cf298\n'}, {'number': 4, 'created': '2016-04-14 20:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8ef125f1dbd3dfa1d9e4c14bc5896f103e658df2', 'message': 'RBD: add support for driver-assisted volume migration\n\nThis patch implements the driver function migration_volume() and allows\na user to efficiently migrate a volume from one pool to another as long\nas both pools reside in the same cluster.\n\nChange-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8\nImplements: blueprint ceph-volume-migrate\n'}, {'number': 5, 'created': '2016-04-15 01:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/911c698d8c53bfb4489965e6e63a512d5eb9459f', 'message': 'RBD: support driver-assisted volume migration\n\nThis patch implements the driver function migration_volume() and allows\na user to efficiently migrate a volume from one pool to another as long\nas both pools reside in the same cluster.\n\nChange-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8\nImplements: blueprint ceph-volume-migrate\n'}, {'number': 6, 'created': '2016-05-18 17:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/16ec1ce543fcddd1495045000ecc466d89de736d', 'message': 'RBD: support driver-assisted volume migration\n\nThis patch implements the driver function migration_volume() and allows\na user to efficiently migrate a volume from one pool to another as long\nas both pools reside in the same cluster.\n\nChange-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8\nImplements: blueprint ceph-volume-migrate\n'}, {'number': 7, 'created': '2016-06-09 20:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ba8ce21e1769f9b5079599a0bc10660301cc786c', 'message': 'RBD: support driver-assisted volume migration\n\nThis patch implements the driver function migration_volume() and allows\na user to efficiently migrate a volume from one pool to another as long\nas both pools reside in the same cluster.\n\nChange-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8\nImplements: blueprint ceph-volume-migrate\n'}, {'number': 8, 'created': '2016-06-10 19:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cc7b7c3fd2a5e7b88260f869710e879303aff118', 'message': 'RBD: support driver-assisted volume migration\n\nThis patch implements the driver function migration_volume() and allows\na user to efficiently migrate a volume from one pool to another as long\nas both pools reside in the same cluster.\n\nChange-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8\nImplements: blueprint ceph-volume-migrate\n'}, {'number': 9, 'created': '2016-08-09 19:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5caac8df02b28787496ffe1c64fc8eb8feab2a0a', 'message': 'RBD: support driver-assisted volume migration\n\nThis patch implements the driver function migration_volume() and allows\na user to efficiently migrate a volume from one pool to another as long\nas both pools reside in the same cluster.\n\nChange-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8\nImplements: blueprint ceph-volume-migrate\n'}, {'number': 10, 'created': '2016-10-31 17:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c05c071589ff3c3f0254fdc36d634c2e01de43fc', 'message': 'RBD: support driver-assisted volume migration\n\nThis patch implements the driver function migration_volume() and allows\na user to efficiently migrate a volume from one pool to another as long\nas both pools reside in the same cluster.\n\nChange-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8\nImplements: blueprint ceph-volume-migrate\n'}, {'number': 11, 'created': '2016-11-07 15:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d9116c68c3190678e72113b44653d35ef1fa3409', 'message': 'RBD: support driver-assisted volume migration\n\nThis patch implements the driver function migration_volume() and allows\na user to efficiently migrate a volume from one pool to another as long\nas both pools reside in the same cluster.\n\nChange-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8\nImplements: blueprint ceph-volume-migrate\n'}, {'number': 12, 'created': '2016-11-07 15:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8fcd815302cbe0fb3c60c4a48c7af1a8f69c3109', 'message': 'RBD: support driver-assisted volume migration\n\nThis patch implements the driver function migration_volume() and allows\na user to efficiently migrate a volume from one pool to another as long\nas both pools reside in the same cluster.\n\nChange-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8\nImplements: blueprint ceph-volume-migrate\n'}, {'number': 13, 'created': '2016-12-06 16:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/48f947aa77ed0b96013da34abc6a5877c54d8ec6', 'message': 'RBD: support driver-assisted volume migration\n\nThis patch implements the driver function migration_volume() and allows\na user to efficiently migrate a volume from one pool to another as long\nas both pools reside in the same cluster.\n\nChange-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8\nImplements: blueprint ceph-volume-migrate\n'}, {'number': 14, 'created': '2016-12-09 14:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1d86415349e58017622bf832e745bbc55ac1c119', 'message': 'RBD: support driver-assisted volume migration\n\nThis patch implements the driver function migration_volume() and allows\na user to efficiently migrate a volume from one pool to another as long\nas both pools reside in the same cluster.\n\nChange-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8\nImplements: blueprint ceph-volume-migrate\n'}, {'number': 15, 'created': '2016-12-21 14:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2aa53633b4f472232ba27e4df1f3ac8f88c0b18b', 'message': 'RBD: support driver-assisted volume migration\n\nThis patch implements the driver function migration_volume() and allows\na user to efficiently migrate a volume from one pool to another as long\nas both pools reside in the same cluster.\n\nChange-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8\nImplements: blueprint ceph-volume-migrate\n'}, {'number': 16, 'created': '2017-01-20 19:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e34a0969f5e969a55b1e89396de1362580ddef46', 'message': 'RBD: support driver-assisted volume migration\n\nThis patch implements the driver function migration_volume() and allows\na user to efficiently migrate a volume from one pool to another as long\nas both pools reside in the same cluster.\n\nChange-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8\nImplements: blueprint ceph-volume-migrate\n'}, {'number': 17, 'created': '2017-03-14 16:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1d60e23f0db2c8e941cd3c6647d766ce4792d8b2', 'message': 'RBD: support driver-assisted volume migration\n\nThis patch implements the driver function migration_volume() and allows\na user to efficiently migrate a volume from one pool to another as long\nas both pools reside in the same cluster.\n\nChange-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8\nImplements: blueprint ceph-volume-migrate\n'}, {'number': 18, 'created': '2017-03-14 16:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aae0b3aeb4cf555e9ac63e9136f264f43c7bc572', 'message': 'RBD: support driver-assisted volume migration\n\nThis patch implements the driver function migration_volume() and allows\na user to efficiently migrate a volume from one pool to another as long\nas both pools reside in the same cluster.\n\nChange-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8\nImplements: blueprint ceph-volume-migrate\n'}, {'number': 19, 'created': '2017-07-20 17:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/08e2859526d4ab735c18f8080373b458ed952c62', 'message': 'RBD: support driver-assisted volume migration\n\nThis patch implements the driver function migration_volume() and allows\na user to efficiently migrate a volume from one pool to another as long\nas both pools reside in the same cluster.\n\nChange-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8\nImplements: blueprint ceph-volume-migrate\n'}, {'number': 20, 'created': '2017-10-06 19:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6fb4adafbf449c589efd412aef8ec81ff0adcc9d', 'message': 'RBD: support driver-assisted volume migration\n\nThis patch implements the driver function migration_volume() and allows\na user to efficiently migrate a volume from one pool to another as long\nas both pools reside in the same cluster.\n\nChange-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8\nImplements: blueprint ceph-volume-migrate\n'}, {'number': 21, 'created': '2017-10-18 16:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b510cad62302a9ec087b96bc13ace7bb0225f2a', 'message': 'RBD: support driver-assisted volume migration\n\nThis patch implements the driver function migration_volume() and allows\na user to efficiently migrate a volume from one pool to another as long\nas both pools reside in the same cluster.\n\nChange-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8\nImplements: blueprint ceph-volume-migrate\n'}, {'number': 22, 'created': '2017-11-21 18:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d8d755d0ff57a35994cd8048a51960a15b10ec62', 'message': 'RBD: support driver-assisted volume migration\n\nThis patch implements the driver function migration_volume() and allows\na user to efficiently migrate a volume from one pool to another as long\nas both pools reside in the same cluster.\n\nChange-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8\nImplements: blueprint ceph-volume-migrate\n'}, {'number': 23, 'created': '2017-11-22 19:16:42.000000000', 'files': ['releasenotes/notes/rbd-driver-assisted-migration-2d29788243060f77.yaml', 'cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dd119d5620bebc59a72f4fb1e1b795f56da5db64', 'message': 'RBD: support driver-assisted volume migration\n\nThis patch implements the driver function migration_volume() and allows\na user to efficiently migrate a volume from one pool to another as long\nas both pools reside in the same cluster.\n\nChange-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8\nImplements: blueprint ceph-volume-migrate\n'}]",94,256091,dd119d5620bebc59a72f4fb1e1b795f56da5db64,559,100,23,9236,,,0,"RBD: support driver-assisted volume migration

This patch implements the driver function migration_volume() and allows
a user to efficiently migrate a volume from one pool to another as long
as both pools reside in the same cluster.

Change-Id: I84b5ff546726c9eddb46badb48b24ed1905e0aa8
Implements: blueprint ceph-volume-migrate
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/256091/19 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,90dcdc366821c546b0edc43a77fb6fc203c3c3fa,bp/ceph-volume-migrate,"from os_brick.initiator import linuxrbd location_info = '%s:%s:%s:%s' % (self.configuration.rbd_cluster_name, self.configuration.rbd_ceph_conf, self.configuration.rbd_user, self.configuration.rbd_pool) 'location_info': location_info, } def migrate_volume(self, context, volume, host, type): LOG.info('Attempting RBD enabled volume migration. volume: %(id)s, ' 'host: %(host)s, status=%(status)s.', {'id': volume['id'], 'host': host, 'status': volume['status']}) refuse_to_migrate = (False, None) if volume['status'] not in ('available', 'retyping'): LOG.debug('Only available volumes can be migrated using backend ' 'assisted migration. Falling back to generic migration.') return refuse_to_migrate if (host['capabilities']['vendor_name'] != 'Open Source' or host['capabilities']['storage_protocol'] != 'ceph'): LOG.debug('Source and destination drivers need to be RBD ' 'to use backend assisted migration. Falling back to ' 'generic migration.') if 'location_info' not in host['capabilities']: LOG.debug('Could not find location_info in capabilities reported ' 'by the destination driver. Falling back to generic ' 'migration.') return refuse_to_migrate loc_info = host['capabilities']['location_info'] try: (rbd_cluster_name, rbd_ceph_conf, rbd_user, rbd_pool) = \ loc_info.split(':') except ValueError: LOG.error(_LE('Location info needed for backend enabled volume ' 'migration not in correct format: %s. Falling back ' 'to generic volume migration.'), loc_info) return refuse_to_migrate with linuxrbd.RBDClient(utils.convert_str(rbd_user), utils.convert_str(rbd_pool)) as target: if self._get_fsid() != target.client.get_fsid(): LOG.debug('Migration between clusters is not supported. ' 'Falling back to generic migration.') return refuse_to_migrate with linuxrbd.RBDClient() as source: with linuxrbd.RBDVolume(source, 'source-name') as vol: vol.copy(target.ioctx, 'target-name') return (True, None)"," } def migrate_volume(self, context, volume, host): return (False, None)",57,2
openstack%2Fcinder~master~I50a1d3b60652d9d44d2c47bb9bc413dd127bc938,openstack/cinder,master,I50a1d3b60652d9d44d2c47bb9bc413dd127bc938,V3 jsonschema validation: Attachments,MERGED,2017-11-08 06:42:16.000000000,2018-02-25 14:39:02.000000000,2017-11-22 07:12:25.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-08 06:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cc7a574320d16c805ffcab1c9ed3bce2113b9ad9', 'message': ""V3 jsonschema validation: Attachments\n\nThis patch adds jsonschema validation for below Attachments API's\n* POST /v3/{project_id}/attachments\n* PUT  /v3/{project_id}/attachments/{attachment_id}\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [1] and passes body as keyword argument.\n\n[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\n\nPartial-Implements: bp json-schema-validation\n\nChange-Id: I50a1d3b60652d9d44d2c47bb9bc413dd127bc938\n""}, {'number': 2, 'created': '2017-11-09 03:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/49658bf323184d289bf590bbe3ecc492e054c4b3', 'message': ""V3 jsonschema validation: Attachments\n\nThis patch adds jsonschema validation for below Attachments API's\n* POST /v3/{project_id}/attachments\n* PUT  /v3/{project_id}/attachments/{attachment_id}\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [1] and passes body as keyword argument.\n\n[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\n\nPartial-Implements: bp json-schema-validation\n\nChange-Id: I50a1d3b60652d9d44d2c47bb9bc413dd127bc938\n""}, {'number': 3, 'created': '2017-11-13 07:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2d869376866fb551809dc0115c2a3450e095a466', 'message': ""V3 jsonschema validation: Attachments\n\nThis patch adds jsonschema validation for below Attachments API's\n* POST /v3/{project_id}/attachments\n* PUT  /v3/{project_id}/attachments/{attachment_id}\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [1] and passes body as keyword argument.\n\n[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\n\nPartial-Implements: bp json-schema-validation\n\nChange-Id: I50a1d3b60652d9d44d2c47bb9bc413dd127bc938\n""}, {'number': 4, 'created': '2017-11-22 03:56:07.000000000', 'files': ['cinder/api/v3/attachments.py', 'cinder/api/validation/parameter_types.py', 'cinder/tests/unit/api/v3/test_attachments.py', 'cinder/api/validation/validators.py', 'cinder/api/schemas/attachments.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/95ba9118c6de62094572eefaf7a14d008295d886', 'message': ""V3 jsonschema validation: Attachments\n\nThis patch adds jsonschema validation for below Attachments API's\n* POST /v3/{project_id}/attachments\n* PUT  /v3/{project_id}/attachments/{attachment_id}\n\nMade changes to unit tests to pass body as keyword argument as wsgi\ncalls action method [1] and passes body as keyword argument.\n\n[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997\n\nPartial-Implements: bp json-schema-validation\n\nChange-Id: I50a1d3b60652d9d44d2c47bb9bc413dd127bc938\n""}]",3,518457,95ba9118c6de62094572eefaf7a14d008295d886,113,42,4,24645,,,0,"V3 jsonschema validation: Attachments

This patch adds jsonschema validation for below Attachments API's
* POST /v3/{project_id}/attachments
* PUT  /v3/{project_id}/attachments/{attachment_id}

Made changes to unit tests to pass body as keyword argument as wsgi
calls action method [1] and passes body as keyword argument.

[1] https://github.com/openstack/cinder/blob/master/cinder/api/openstack/wsgi.py#L997

Partial-Implements: bp json-schema-validation

Change-Id: I50a1d3b60652d9d44d2c47bb9bc413dd127bc938
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/518457/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/v3/attachments.py', 'cinder/api/validation/parameter_types.py', 'cinder/tests/unit/api/v3/test_attachments.py', 'cinder/api/validation/validators.py', 'cinder/api/schemas/attachments.py']",5,cc7a574320d16c805ffcab1c9ed3bce2113b9ad9,bp/json-schema-validation,"# Copyright (C) 2017 OpenStack Foundation # All Rights Reserved. # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Schema for V3 Attachments API. """""" from cinder.api.validation import parameter_types create = { 'type': 'object', 'properties': { 'type': 'object', 'attachment': { 'type': 'object', 'properties': { 'instance_uuid': parameter_types.instance_uuid, 'connector': {'type': ['object', 'null']}, 'volume_uuid': parameter_types.volume_uuid, }, 'required': ['instance_uuid', 'volume_uuid'], 'additionalProperties': False, }, }, 'required': ['attachment'], 'additionalProperties': False, } update = { 'type': 'object', 'properties': { 'type': 'object', 'attachment': { 'type': 'object', 'properties': { 'connector': {'type': 'object', 'minProperties': 1}, }, 'required': ['connector'], 'additionalProperties': False, }, }, 'required': ['attachment'], 'additionalProperties': False, } ",,121,23
openstack%2Fcinder~master~I50e4c66097aefdfea1e7589b2ae67e262ae6a6d3,openstack/cinder,master,I50e4c66097aefdfea1e7589b2ae67e262ae6a6d3,Update bindep.txt for doc builds,MERGED,2017-11-21 20:07:19.000000000,2018-02-25 14:39:01.000000000,2017-11-21 23:19:02.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-21 20:07:19.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/da6470d32f2bc11976e43582932ae8bf713aa883', 'message': 'Update bindep.txt for doc builds\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html#documentation\nspecifies that doc dependencies need the doc tag in bindep, use it.\n\nLeave test environment in for transition period until we use the new\nscripts.\n\nChange-Id: I50e4c66097aefdfea1e7589b2ae67e262ae6a6d3\n'}]",0,521998,da6470d32f2bc11976e43582932ae8bf713aa883,28,21,1,6547,,,0,"Update bindep.txt for doc builds

https://governance.openstack.org/tc/reference/project-testing-interface.html#documentation
specifies that doc dependencies need the doc tag in bindep, use it.

Leave test environment in for transition period until we use the new
scripts.

Change-Id: I50e4c66097aefdfea1e7589b2ae67e262ae6a6d3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/98/521998/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,da6470d32f2bc11976e43582932ae8bf713aa883,updated-pti,"# gettext and graphviz are needed by doc builds only. For transition, # have them in both doc and test. # TODO(jaegerandi): Remove test once infra scripts are updated. gettext [!platform:suse doc test] gettext-runtime [platform:suse doc test] graphviz [doc test]",gettext [!platform:suse] gettext-runtime [platform:suse] graphviz [test],6,3
openstack%2Fcinder~master~Ia5d1e988256246e3552e3a770146503ea7f7bf73,openstack/cinder,master,Ia5d1e988256246e3552e3a770146503ea7f7bf73,Add service_uuid FK to volumes,MERGED,2017-11-11 15:39:45.000000000,2018-02-25 14:38:59.000000000,2017-11-27 19:22:32.000000000,"[{'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17386}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-11 15:39:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c8e29c80fa36eaa62fa2f6ce9ddbedf4285aecca', 'message': ""Add service_uuid FK to volumes\n\nThis patch adds a service_uuid FK to the volumes table.\nUp until now we've just done some host name parsing and\nto match up service node with where the volume is being\nserviced from.\n\nWith this, we now have a unique identifier that's user\nvisible to indicate what node the volume-service for a\nparticular volume is being serviced by.\n\nWe'll use this for things like share-target locks going\nforward.\n\nChange-Id: Ia5d1e988256246e3552e3a770146503ea7f7bf73\n""}, {'number': 2, 'created': '2017-11-11 16:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/196cf52cf5a9e5810a091b4e6b507079ad40065e', 'message': ""Add service_uuid FK to volumes\n\nThis patch adds a service_uuid FK to the volumes table.\nUp until now we've just done some host name parsing and\nto match up service node with where the volume is being\nserviced from.\n\nWith this, we now have a unique identifier that's user\nvisible to indicate what node the volume-service for a\nparticular volume is being serviced by.\n\nWe'll use this for things like share-target locks going\nforward.\n\nChange-Id: Ia5d1e988256246e3552e3a770146503ea7f7bf73\n""}, {'number': 3, 'created': '2017-11-14 00:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b4dacd75ab9c6689cdc76c102eee0213fa3a7a16', 'message': ""Add service_uuid FK to volumes\n\nThis patch adds a service_uuid FK to the volumes table.\nUp until now we've just done some host name parsing and\nto match up service node with where the volume is being\nserviced from.\n\nWith this, we now have a unique identifier that's user\nvisible to indicate what node the volume-service for a\nparticular volume is being serviced by.\n\nWe'll use this for things like share-target locks going\nforward.\n\nChange-Id: Ia5d1e988256246e3552e3a770146503ea7f7bf73\n""}, {'number': 4, 'created': '2017-11-15 22:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/56c16c42703d9f4ce77a1deb0091f0b1d8fef4cf', 'message': ""Add service_uuid FK to volumes\n\nThis patch adds a service_uuid FK to the volumes table.\nUp until now we've just done some host name parsing and\nto match up service node with where the volume is being\nserviced from.\n\nWith this, we now have a unique identifier that's user\nvisible to indicate what node the volume-service for a\nparticular volume is being serviced by.\n\nWe'll use this for things like share-target locks going\nforward.\n\nChange-Id: Ia5d1e988256246e3552e3a770146503ea7f7bf73\n""}, {'number': 5, 'created': '2017-11-16 20:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/da41e3a3dd115718e77bf2ca2a3479575e484439', 'message': ""Add service_uuid FK to volumes\n\nThis patch adds a service_uuid FK to the volumes table.\nUp until now we've just done some host name parsing and\nto match up service node with where the volume is being\nserviced from.\n\nWith this, we now have a unique identifier that's user\nvisible to indicate what node the volume-service for a\nparticular volume is being serviced by.\n\nWe'll use this for things like share-target locks going\nforward.\n\nChange-Id: Ia5d1e988256246e3552e3a770146503ea7f7bf73\n""}, {'number': 6, 'created': '2017-11-17 15:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5f2a7f591cb6d6f1e8939d08b470ba29c42d4008', 'message': ""Add service_uuid FK to volumes\n\nThis patch adds a service_uuid FK to the volumes table.\nUp until now we've just done some host name parsing and\nto match up service node with where the volume is being\nserviced from.\n\nWith this, we now have a unique identifier that's user\nvisible to indicate what node the volume-service for a\nparticular volume is being serviced by.\n\nWe'll use this for things like share-target locks going\nforward.\n\nChange-Id: Ia5d1e988256246e3552e3a770146503ea7f7bf73\n""}, {'number': 7, 'created': '2017-11-17 18:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e103a2303c5624ffa0309d42857fbe3b815be01', 'message': ""Add service_uuid FK to volumes\n\nThis patch adds a service_uuid FK to the volumes table.\nUp until now we've just done some host name parsing and\nto match up service node with where the volume is being\nserviced from.\n\nWith this, we now have a unique identifier that's user\nvisible to indicate what node the volume-service for a\nparticular volume is being serviced by.\n\nWe'll use this for things like share-target locks going\nforward.\n\nChange-Id: Ia5d1e988256246e3552e3a770146503ea7f7bf73\n""}, {'number': 8, 'created': '2017-11-21 18:28:07.000000000', 'files': ['cinder/tests/unit/test_db_api.py', 'cinder/volume/manager.py', 'cinder/objects/base.py', 'cinder/cmd/manage.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/objects/volume.py', 'cinder/tests/unit/objects/test_objects.py', 'cinder/tests/unit/test_migrations.py', 'cinder/db/sqlalchemy/migrate_repo/versions/114_add_service_uuid_fk_to_volumes.py', 'cinder/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cdb6cdcc961a5553cf9f81cbb49994d98180f947', 'message': ""Add service_uuid FK to volumes\n\nThis patch adds a service_uuid FK to the volumes table.\nUp until now we've just done some host name parsing and\nto match up service node with where the volume is being\nserviced from.\n\nWith this, we now have a unique identifier that's user\nvisible to indicate what node the volume-service for a\nparticular volume is being serviced by.\n\nWe'll use this for things like share-target locks going\nforward.\n\nChange-Id: Ia5d1e988256246e3552e3a770146503ea7f7bf73\n""}]",18,519025,cdb6cdcc961a5553cf9f81cbb49994d98180f947,214,42,8,2243,,,0,"Add service_uuid FK to volumes

This patch adds a service_uuid FK to the volumes table.
Up until now we've just done some host name parsing and
to match up service node with where the volume is being
serviced from.

With this, we now have a unique identifier that's user
visible to indicate what node the volume-service for a
particular volume is being serviced by.

We'll use this for things like share-target locks going
forward.

Change-Id: Ia5d1e988256246e3552e3a770146503ea7f7bf73
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/519025/7 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_db_api.py', 'cinder/volume/manager.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/objects/volume.py', 'cinder/cmd/manage.py', 'cinder/db/api.py', 'cinder/db/sqlalchemy/api.py', 'cinder/tests/unit/objects/test_objects.py', 'cinder/tests/unit/test_migrations.py', 'cinder/db/sqlalchemy/migrate_repo/versions/114_add_service_uuid_fk_to_volumes.py', 'cinder/db/sqlalchemy/models.py']",11,c8e29c80fa36eaa62fa2f6ce9ddbedf4285aecca,add_fk_service_uuid_to_volumes," service_uuid = Column(String(36), index=True) service = relationship(Service, backref=""volumes"", foreign_keys=service_uuid, primaryjoin='Volume.service_uuid == Service.uuid') ",,175,3
openstack%2Fcinder~master~I220cd20fefbe83ba8c392ab6b1679620d6a1d934,openstack/cinder,master,I220cd20fefbe83ba8c392ab6b1679620d6a1d934,Fix group_type_id in api-ref,MERGED,2017-11-21 07:53:59.000000000,2018-02-25 14:38:54.000000000,2017-11-29 20:18:51.000000000,"[{'_account_id': 170}, {'_account_id': 8556}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23081}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-21 07:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bf6ba42225296e35a31b56f0becbeee499b96a77', 'message': 'Fix group_type_id in api-ref\n\ngroup_type_id in GET/DELETE/PUT /group_types/group_type_id\nis mentioned as optional path variable which is not true.\n\n- https://github.com/openstack/cinder/blob/7c66eb3d976048e7179fedb7694a989c9181c374/cinder/api/v3/group_types.py#L101\n\nThis id is mandatory and doc should be updated.\nThis create confusion while test case or using this API,\nexample - https://review.openstack.org/#/c/521634/4/tempest/lib/services/volume/v3/group_types_client.py\nCloses-Bugs: # 1733504\n\nChange-Id: I220cd20fefbe83ba8c392ab6b1679620d6a1d934\n'}, {'number': 2, 'created': '2017-11-21 07:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bf1525b0120406209778a5227eb0e7633084eb35', 'message': 'Fix group_type_id in api-ref\n\ngroup_type_id in GET/DELETE/PUT /group_types/group_type_id\nis mentioned as optional path variable which is not true.\n\n- https://github.com/openstack/cinder/blob/7c66eb3d976048e7179fedb7694a989c9181c374/cinder/api/v3/group_types.py#L101\n\nThis id is mandatory and doc should be updated.\nThis create confusion while test case or using this API,\nexample - https://review.openstack.org/#/c/521634/4/tempest/lib/services/volume/v3/group_types_client.py\n\nCloses-Bug: # 1733504\n\nChange-Id: I220cd20fefbe83ba8c392ab6b1679620d6a1d934\n'}, {'number': 3, 'created': '2017-11-21 07:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2671527363a7d344f35f941fea15e41cae12a1c4', 'message': 'Fix group_type_id in api-ref\n\ngroup_type_id in GET/DELETE/PUT /group_types/group_type_id\nis mentioned as optional path variable which is not true.\n\n- https://github.com/openstack/cinder/blob/7c66eb3d976048e7179fedb7694a989c9181c374/cinder/api/v3/group_types.py#L101\n\nThis id is mandatory and doc should be updated.\nThis create confusion while test case or using this API,\nexample - https://review.openstack.org/#/c/521634/4/tempest/lib/services/volume/v3/group_types_client.py\n\nCloses-Bug: #1733504\n\nChange-Id: I220cd20fefbe83ba8c392ab6b1679620d6a1d934\n'}, {'number': 4, 'created': '2017-11-21 13:46:34.000000000', 'files': ['api-ref/source/v3/group-types.inc', 'api-ref/source/v3/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/176f9b17b9e3cc22f17ae7200156491a29fc8fc5', 'message': 'Fix group_type_id in api-ref\n\ngroup_type_id in GET/DELETE/PUT /group_types/group_type_id\nis mentioned as optional path variable which is not true.\n\n- https://github.com/openstack/cinder/blob/7c66eb3d976048e7179fedb7694a989c9181c374/cinder/api/v3/group_types.py#L101\n\nThis id is mandatory and doc should be updated.\nThis create confusion while test case or using this API,\nexample - https://review.openstack.org/#/c/521634/4/tempest/lib/services/volume/v3/group_types_client.py\nCloses-Bugs: # 1733504\n\nChange-Id: I220cd20fefbe83ba8c392ab6b1679620d6a1d934\n'}]",2,521747,176f9b17b9e3cc22f17ae7200156491a29fc8fc5,52,29,4,8556,,,0,"Fix group_type_id in api-ref

group_type_id in GET/DELETE/PUT /group_types/group_type_id
is mentioned as optional path variable which is not true.

- https://github.com/openstack/cinder/blob/7c66eb3d976048e7179fedb7694a989c9181c374/cinder/api/v3/group_types.py#L101

This id is mandatory and doc should be updated.
This create confusion while test case or using this API,
example - https://review.openstack.org/#/c/521634/4/tempest/lib/services/volume/v3/group_types_client.py
Closes-Bugs: # 1733504

Change-Id: I220cd20fefbe83ba8c392ab6b1679620d6a1d934
",git fetch https://review.opendev.org/openstack/cinder refs/changes/47/521747/2 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/parameters.yaml'],1,bf6ba42225296e35a31b56f0becbeee499b96a77,, required: true, required: false,1,1
openstack%2Fcinder~master~I37d4fb98e165bed2f36f54d6a30477b65bcddd50,openstack/cinder,master,I37d4fb98e165bed2f36f54d6a30477b65bcddd50,NetApp ONTAP: Fix delayed snapshot deletion call,MERGED,2017-11-20 18:02:25.000000000,2018-02-25 14:38:36.000000000,2017-11-30 23:25:56.000000000,"[{'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13167}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16643}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-20 18:02:25.000000000', 'files': ['cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/volume/drivers/netapp/dataontap/block_base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/954ce725d900b653e4f32e71c753bb4e241956ea', 'message': ""NetApp ONTAP: Fix delayed snapshot deletion call\n\nThe ONTAP drivers have a retry mechanism to cleanup\ndeleted FlexVol snapshots (those that get taken to assist\nCinder's CG snapshots or consistent volume group\nsnapshots). The driver calls for this pass a redundant\nparameter after the cleanup committed in:\nI129ca060a89275ffd56481b8f64367b0d803cff5\n\nFix this redundant parameter.\n\nChange-Id: I37d4fb98e165bed2f36f54d6a30477b65bcddd50\nCloses-Bug: #1728654\n""}]",0,521616,954ce725d900b653e4f32e71c753bb4e241956ea,62,41,1,16643,,,0,"NetApp ONTAP: Fix delayed snapshot deletion call

The ONTAP drivers have a retry mechanism to cleanup
deleted FlexVol snapshots (those that get taken to assist
Cinder's CG snapshots or consistent volume group
snapshots). The driver calls for this pass a redundant
parameter after the cleanup committed in:
I129ca060a89275ffd56481b8f64367b0d803cff5

Fix this redundant parameter.

Change-Id: I37d4fb98e165bed2f36f54d6a30477b65bcddd50
Closes-Bug: #1728654
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/521616/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/volume/drivers/netapp/dataontap/block_base.py']",3,954ce725d900b653e4f32e71c753bb4e241956ea,bug/1728654, snapshots = self.zapi_client.get_snapshots_marked_for_deletion(), volume_list = self._get_backing_flexvol_names() snapshots = self.zapi_client.get_snapshots_marked_for_deletion( volume_list),3,12
openstack%2Fcinder~master~I80b1853cbe2cc02a056195e967e9422617bbf850,openstack/cinder,master,I80b1853cbe2cc02a056195e967e9422617bbf850,Add v3 api-ref for showing encryption specs item,MERGED,2017-11-18 08:21:17.000000000,2018-02-25 14:38:12.000000000,2017-11-20 22:13:16.000000000,"[{'_account_id': 170}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23081}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-18 08:21:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/28ade0390ac34e3ca0e1e5ae68d91b07cf88c4c7', 'message': 'Add v3 api-ref for showing encryption specs item\n\nThis patch adds v3 api-ref for showing encryption specs item for an\nexisting volume type.\n\nChange-Id: I80b1853cbe2cc02a056195e967e9422617bbf850\n'}, {'number': 2, 'created': '2017-11-18 08:34:03.000000000', 'files': ['api-ref/source/v3/volumes-v3-types.inc', 'api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/samples/encryption-type-specific-specs-show-response.json'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4f4a0256f782b4d3f9a54ea975f9f81c59c955a2', 'message': 'Add v3 api-ref for showing encryption specs item\n\nThis patch adds v3 api-ref for showing encryption specs item for an\nexisting volume type.\n\nChange-Id: I80b1853cbe2cc02a056195e967e9422617bbf850\n'}]",2,521239,4f4a0256f782b4d3f9a54ea975f9f81c59c955a2,39,30,2,23081,,,0,"Add v3 api-ref for showing encryption specs item

This patch adds v3 api-ref for showing encryption specs item for an
existing volume type.

Change-Id: I80b1853cbe2cc02a056195e967e9422617bbf850
",git fetch https://review.opendev.org/openstack/cinder refs/changes/39/521239/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/volumes-v3-types.inc', 'api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/samples/encryption-type-specific-specs-show-response.json']",3,28ade0390ac34e3ca0e1e5ae68d91b07cf88c4c7,add_volume_encryption_api_ref,"{ ""cipher"": ""aes-xts-plain64"" } ",,38,3
openstack%2Fcinder~master~I9b631dbedd1b2c8bfe7430943dfc16e85b9f85e0,openstack/cinder,master,I9b631dbedd1b2c8bfe7430943dfc16e85b9f85e0,Remove setting of version/release from releasenotes,MERGED,2017-11-16 16:25:46.000000000,2018-02-25 14:38:08.000000000,2017-11-20 08:53:35.000000000,"[{'_account_id': 170}, {'_account_id': 6547}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-16 16:25:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/90b45d775c7bad2aaba987a3b73e34d0a02c8eed', 'message': ""Remove setting of version/release from releasenotes\n\nRelease notes are version independent, so remove version/release values.\nWe've found that most projects now require the service package to be\ninstalled in order to build release notes, and this is entirely due to\nthe current convention of pulling in the version information.\n\nRelease notes should not need installation in order to build, so this\nunnecessary version setting needs to be removed.\n\nDepends-On: I56909152975f731a9d2c21b2825b972195e48ee8\nChange-Id: I9b631dbedd1b2c8bfe7430943dfc16e85b9f85e0\n""}, {'number': 2, 'created': '2017-11-16 22:34:51.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/46144c4a27c31101882dc5ca96c16672f4550c02', 'message': ""Remove setting of version/release from releasenotes\n\nRelease notes are version independent, so remove version/release values.\nWe've found that most projects now require the service package to be\ninstalled in order to build release notes, and this is entirely due to\nthe current convention of pulling in the version information.\n\nRelease notes should not need installation in order to build, so this\nunnecessary version setting needs to be removed.\n\nChange-Id: I9b631dbedd1b2c8bfe7430943dfc16e85b9f85e0\n""}]",0,520638,46144c4a27c31101882dc5ca96c16672f4550c02,66,31,2,11904,,,0,"Remove setting of version/release from releasenotes

Release notes are version independent, so remove version/release values.
We've found that most projects now require the service package to be
installed in order to build release notes, and this is entirely due to
the current convention of pulling in the version information.

Release notes should not need installation in order to build, so this
unnecessary version setting needs to be removed.

Change-Id: I9b631dbedd1b2c8bfe7430943dfc16e85b9f85e0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/38/520638/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/conf.py'],1,90b45d775c7bad2aaba987a3b73e34d0a02c8eed,remove_reno_vers,"# Release notes are version independent, no need to set version and release release = '' version = ''","# The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # The short X.Y version. from cinder.version import version_info as cinder_version # The full version, including alpha/beta/rc tags. release = cinder_version.version_string_with_vcs() # The short X.Y version. version = cinder_version.canonical_version_string()",3,10
openstack%2Fcinder~stable%2Fpike~I9ef79a21c7438e69221a5ed2a1c1bfb59f3f9a32,openstack/cinder,stable/pike,I9ef79a21c7438e69221a5ed2a1c1bfb59f3f9a32,"Correct gb,snapshot quota update in group snapshot",MERGED,2017-11-16 04:38:52.000000000,2018-02-25 14:38:06.000000000,2017-11-16 20:56:20.000000000,"[{'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-16 04:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/34878094e915278a0e0fe9fd877feee29674837d', 'message': 'Correct gb,snapshot quota update in group snapshot\n\nCurrently we are incrementing gigabytes quota twice, once while\ncreating snapshot & then while creating individual volumes & this\nis fixed in this change. Also, snapshot quota updation was put in\na loop of volumes because of which it gets incremented to number\nof volume times.\n\nChange-Id: I9ef79a21c7438e69221a5ed2a1c1bfb59f3f9a32\nCloses-Bug: 1728834\n'}, {'number': 2, 'created': '2017-11-16 04:41:27.000000000', 'files': ['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/tests/unit/volume/flows/test_manage_volume_flow.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/tests/unit/utils.py', 'cinder/volume/flows/manager/manage_existing.py', 'cinder/tests/unit/test_quota.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f17ace72fe2cfb4823b153dda915d25261e74cfe', 'message': 'Correct gb,snapshot quota update in group snapshot\n\nCurrently we are incrementing gigabytes quota twice, once while\ncreating snapshot & then while creating individual volumes & this\nis fixed in this change. Also, snapshot quota updation was put in\na loop of volumes because of which it gets incremented to number\nof volume times.\n\nChange-Id: I9ef79a21c7438e69221a5ed2a1c1bfb59f3f9a32\nCloses-Bug: 1728834\n(cherry picked from commit b3669fa67cf08f1075be1dd7641ab3af951c138c)\n'}]",0,520292,f17ace72fe2cfb4823b153dda915d25261e74cfe,22,17,2,24131,,,0,"Correct gb,snapshot quota update in group snapshot

Currently we are incrementing gigabytes quota twice, once while
creating snapshot & then while creating individual volumes & this
is fixed in this change. Also, snapshot quota updation was put in
a loop of volumes because of which it gets incremented to number
of volume times.

Change-Id: I9ef79a21c7438e69221a5ed2a1c1bfb59f3f9a32
Closes-Bug: 1728834
(cherry picked from commit b3669fa67cf08f1075be1dd7641ab3af951c138c)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/92/520292/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/tests/unit/volume/flows/test_manage_volume_flow.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/tests/unit/utils.py', 'cinder/volume/flows/manager/manage_existing.py', 'cinder/tests/unit/test_quota.py', 'cinder/volume/api.py']",7,34878094e915278a0e0fe9fd877feee29674837d,bug/1728834, reserve_opts_list.append({'snapshots': 1}) for volume in volume_list: if not CONF.no_snapshot_gb_quota: reserve_opts = {'gigabytes': volume['size']}," for volume in volume_list: if CONF.no_snapshot_gb_quota: reserve_opts = {'snapshots': 1} else: reserve_opts = {'snapshots': 1, 'gigabytes': volume['size']}",59,20
openstack%2Fcinder~master~I06a8eb38f35ccff125282c8886458bfe99fe196e,openstack/cinder,master,I06a8eb38f35ccff125282c8886458bfe99fe196e,Inspur Cinder iSCSI driver,MERGED,2017-09-11 12:33:46.000000000,2018-02-25 14:38:04.000000000,2017-11-20 19:37:00.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19904}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 23630}, {'_account_id': 23729}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25648}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-11 12:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b993bb47758fb47f323d181b61ab1980f59cc9bc', 'message': 'Inspur Cinder FC/iSCSI driver\n\nFeatures that Inspur Driver support:\nCreate, list, delete, attach (map), and detach (unmap) volumes\nCreate, list, and delete volume snapshots\nCopy an image to a volume\nCopy a volume to an image\nClone a volume\nExtend a volume\nRetype a volume\nCreate a volume from a snapshot\nManage an existing volume\nConsistency group create,update,delete\nConsistency group snapshot create,delete\nGroup create,update,delete\nGroup snapshot create,delete\nReplication V2.1\n\nThirdPartySystems: INSPUR-CI\n\nImplements: Blueprint inspur-instorage-driver\n\nChange-Id: I06a8eb38f35ccff125282c8886458bfe99fe196e\n'}, {'number': 2, 'created': '2017-09-12 08:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b6162128d9708f9715d5073d4e12118643944191', 'message': 'Inspur Cinder FC/iSCSI driver\n\nFeatures that Inspur Driver support:\nCreate, list, delete, attach (map), and detach (unmap) volumes\nCreate, list, and delete volume snapshots\nCopy an image to a volume\nCopy a volume to an image\nClone a volume\nExtend a volume\nRetype a volume\nCreate a volume from a snapshot\nManage an existing volume\nConsistency group create,update,delete\nConsistency group snapshot create,delete\nGroup create,update,delete\nGroup snapshot create,delete\nReplication V2.1\n\nThirdPartySystems: INSPUR-CI\n\nImplements: Blueprint inspur-instorage-driver\n\nChange-Id: I06a8eb38f35ccff125282c8886458bfe99fe196e\n'}, {'number': 3, 'created': '2017-09-14 11:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/71c1056635633be14e69671b6b8dd43ad935fe14', 'message': 'Inspur Cinder FC/iSCSI driver\n\nFeatures that Inspur Driver support:\nCreate, list, delete, attach (map), and detach (unmap) volumes\nCreate, list, and delete volume snapshots\nCopy an image to a volume\nCopy a volume to an image\nClone a volume\nExtend a volume\nRetype a volume\nCreate a volume from a snapshot\nManage an existing volume\nConsistency group create,update,delete\nConsistency group snapshot create,delete\nGroup create,update,delete\nGroup snapshot create,delete\nReplication V2.1\n\nThirdPartySystems: INSPUR-CI\n\nImplements: Blueprint inspur-instorage-driver\n\nChange-Id: I06a8eb38f35ccff125282c8886458bfe99fe196e\n'}, {'number': 4, 'created': '2017-10-07 16:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1d4a3c100b17bde60f2ed3a2a22d6bbb18dac9cc', 'message': 'Inspur Cinder FC/iSCSI driver\n\nFeatures that Inspur Driver support:\nCreate, list, delete, attach (map), and detach (unmap) volumes\nCreate, list, and delete volume snapshots\nCopy an image to a volume\nCopy a volume to an image\nClone a volume\nExtend a volume\nRetype a volume\nCreate a volume from a snapshot\nManage an existing volume\nConsistency group create,update,delete\nConsistency group snapshot create,delete\nGroup create,update,delete\nGroup snapshot create,delete\nReplication V2.1\n\nThirdPartySystems: INSPUR-CI\n\nImplements: Blueprint inspur-instorage-driver\n\nChange-Id: I06a8eb38f35ccff125282c8886458bfe99fe196e\n'}, {'number': 5, 'created': '2017-10-09 12:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f66ef7671f10d433c69bd70a5f1e1b8616778ce5', 'message': 'Inspur Cinder FC/iSCSI driver\n\nFeatures that Inspur Driver support:\nCreate, list, delete, attach (map), and detach (unmap) volumes\nCreate, list, and delete volume snapshots\nCopy an image to a volume\nCopy a volume to an image\nClone a volume\nExtend a volume\nRetype a volume\nCreate a volume from a snapshot\nManage an existing volume\nConsistency group create,update,delete\nConsistency group snapshot create,delete\nGroup create,update,delete\nGroup snapshot create,delete\nReplication V2.1\n\nThirdPartySystems: INSPUR CI\n\nImplements: Blueprint inspur-instorage-driver\n\nChange-Id: I06a8eb38f35ccff125282c8886458bfe99fe196e\n'}, {'number': 6, 'created': '2017-10-10 03:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d4a5463de6303aa441288b65bf15404090eda52f', 'message': 'Inspur Cinder FC/iSCSI driver\n\nFeatures that Inspur Driver support:\nCreate, list, delete, attach (map), and detach (unmap) volumes\nCreate, list, and delete volume snapshots\nCopy an image to a volume\nCopy a volume to an image\nClone a volume\nExtend a volume\nRetype a volume\nCreate a volume from a snapshot\nManage an existing volume\nConsistency group create,update,delete\nConsistency group snapshot create,delete\nGroup create,update,delete\nGroup snapshot create,delete\nReplication V2.1\n\nThirdPartySystems: INSPUR CI\n\nImplements: Blueprint inspur-instorage-driver\n\nChange-Id: I06a8eb38f35ccff125282c8886458bfe99fe196e\n'}, {'number': 7, 'created': '2017-10-11 09:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5eba164386114b2766bac417ff92e73d5e1ad3b4', 'message': 'Inspur Cinder FC/iSCSI driver\n\nFeatures that Inspur Driver support:\nCreate, list, delete, attach (map), and detach (unmap) volumes\nCreate, list, and delete volume snapshots\nCopy an image to a volume\nCopy a volume to an image\nClone a volume\nExtend a volume\nRetype a volume\nCreate a volume from a snapshot\nManage an existing volume\nConsistency group create,update,delete\nConsistency group snapshot create,delete\nGroup create,update,delete\nGroup snapshot create,delete\nReplication V2.1\n\nThirdPartySystems: INSPUR CI\n\nImplements: Blueprint inspur-instorage-driver\n\nChange-Id: I06a8eb38f35ccff125282c8886458bfe99fe196e\n'}, {'number': 8, 'created': '2017-10-16 07:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d38c4757a0a93140dff3a6cde33ca01733d0d48c', 'message': 'Inspur Cinder FC/iSCSI driver\n\nFeatures that Inspur Driver support:\nCreate, list, delete, attach (map), and detach (unmap) volumes\nCreate, list, and delete volume snapshots\nCopy an image to a volume\nCopy a volume to an image\nClone a volume\nExtend a volume\nRetype a volume\nCreate a volume from a snapshot\nManage an existing volume\nConsistency group create,update,delete\nConsistency group snapshot create,delete\nGroup create,update,delete\nGroup snapshot create,delete\nReplication V2.1\n\nThirdPartySystems: INSPUR CI\n\nImplements: Blueprint inspur-instorage-driver\n\nChange-Id: I06a8eb38f35ccff125282c8886458bfe99fe196e\n'}, {'number': 9, 'created': '2017-10-25 06:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f1e4dbf18d3682fe11587020825f73316b30cf1c', 'message': 'Inspur Cinder FC/iSCSI driver\n\nFeatures that Inspur Driver support:\nCreate, list, delete, attach (map), and detach (unmap) volumes\nCreate, list, and delete volume snapshots\nCopy an image to a volume\nCopy a volume to an image\nClone a volume\nExtend a volume\nRetype a volume\nCreate a volume from a snapshot\nManage an existing volume\nConsistency group create,update,delete\nConsistency group snapshot create,delete\nGroup create,update,delete\nGroup snapshot create,delete\nReplication V2.1\n\nThirdPartySystems: INSPUR CI\n\nImplements: Blueprint inspur-instorage-driver\n\nChange-Id: I06a8eb38f35ccff125282c8886458bfe99fe196e\n'}, {'number': 10, 'created': '2017-11-06 10:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cc91cb10295e6fb6faad070a4a56d79be91d5dd5', 'message': 'Inspur Cinder FC/iSCSI driver\n\nFeatures that Inspur Driver support:\nCreate, list, delete, attach (map), and detach (unmap) volumes\nCreate, list, and delete volume snapshots\nCopy an image to a volume\nCopy a volume to an image\nClone a volume\nExtend a volume\nRetype a volume\nCreate a volume from a snapshot\nManage an existing volume\nConsistency group create,update,delete\nConsistency group snapshot create,delete\nGroup create,update,delete\nGroup snapshot create,delete\nReplication V2.1\n\nThirdPartySystems: INSPUR CI\n\nImplements: Blueprint inspur-instorage-driver\n\nChange-Id: I06a8eb38f35ccff125282c8886458bfe99fe196e\n'}, {'number': 11, 'created': '2017-11-10 10:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/47eaac823c267f52f1e9121ee8c73463f3c860ce', 'message': 'Inspur Cinder iSCSI driver\n\nFeatures that Inspur Driver support:\nCreate, list, delete, attach (map), and detach (unmap) volumes\nCreate, list, and delete volume snapshots\nCopy an image to a volume\nCopy a volume to an image\nClone a volume\nExtend a volume\nRetype a volume\nCreate a volume from a snapshot\nManage an existing volume\nConsistency group create,update,delete\nConsistency group snapshot create,delete\nGroup create,update,delete\nGroup snapshot create,delete\nReplication V2.1\n\nThirdPartySystems: INSPUR CI\n\nImplements: Blueprint inspur-instorage-driver\n\nChange-Id: I06a8eb38f35ccff125282c8886458bfe99fe196e\n'}, {'number': 12, 'created': '2017-11-15 08:45:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/725be80a3705b499b1ba822ba9d8caf9e3bdc02a', 'message': 'Inspur Cinder iSCSI driver\n\nFeatures that Inspur Driver support:\nCreate, list, delete, attach (map), and detach (unmap) volumes\nCreate, list, and delete volume snapshots\nCopy an image to a volume\nCopy a volume to an image\nClone a volume\nExtend a volume\nRetype a volume\nCreate a volume from a snapshot\nManage an existing volume\nConsistency group create,update,delete\nConsistency group snapshot create,delete\nGroup create,update,delete\nGroup snapshot create,delete\nReplication V2.1\n\nThirdPartySystems: INSPUR CI\n\nImplements: Blueprint inspur-instorage-driver\n\nChange-Id: I06a8eb38f35ccff125282c8886458bfe99fe196e\n'}, {'number': 13, 'created': '2017-11-15 12:32:41.000000000', 'files': ['cinder/tests/unit/volume/drivers/inspur/instorage/test_helper_routines.py', 'cinder/volume/drivers/inspur/instorage/instorage_iscsi.py', 'cinder/volume/drivers/inspur/instorage/instorage_const.py', 'cinder/volume/drivers/inspur/instorage/__init__.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/fakes.py', 'cinder/volume/drivers/inspur/instorage/instorage_common.py', 'cinder/opts.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_replication.py', 'cinder/tests/unit/volume/drivers/inspur/__init__.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_common.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_iscsi_driver.py', 'cinder/volume/drivers/inspur/__init__.py', 'cinder/volume/drivers/inspur/instorage/replication.py', 'releasenotes/notes/bp-inspur-instorage-driver-40371862c9559238.yaml', 'cinder/tests/unit/volume/drivers/inspur/instorage/__init__.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e7362103c67579bf7caf1437afc3d4518923c8a6', 'message': 'Inspur Cinder iSCSI driver\n\nFeatures that Inspur Driver support:\nCreate, list, delete, attach (map), and detach (unmap) volumes\nCreate, list, and delete volume snapshots\nCopy an image to a volume\nCopy a volume to an image\nClone a volume\nExtend a volume\nRetype a volume\nCreate a volume from a snapshot\nManage an existing volume\nConsistency group create,update,delete\nConsistency group snapshot create,delete\nGroup create,update,delete\nGroup snapshot create,delete\nReplication V2.1\n\nThirdPartySystems: INSPUR CI\n\nImplements: Blueprint inspur-instorage-driver\n\nChange-Id: I06a8eb38f35ccff125282c8886458bfe99fe196e\n'}]",56,502455,e7362103c67579bf7caf1437afc3d4518923c8a6,458,57,13,25648,,,0,"Inspur Cinder iSCSI driver

Features that Inspur Driver support:
Create, list, delete, attach (map), and detach (unmap) volumes
Create, list, and delete volume snapshots
Copy an image to a volume
Copy a volume to an image
Clone a volume
Extend a volume
Retype a volume
Create a volume from a snapshot
Manage an existing volume
Consistency group create,update,delete
Consistency group snapshot create,delete
Group create,update,delete
Group snapshot create,delete
Replication V2.1

ThirdPartySystems: INSPUR CI

Implements: Blueprint inspur-instorage-driver

Change-Id: I06a8eb38f35ccff125282c8886458bfe99fe196e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/55/502455/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'cinder/volume/drivers/inspur/instorage/instorage_iscsi.py', 'cinder/volume/drivers/inspur/instorage/instorage_const.py', 'cinder/volume/drivers/inspur/instorage/__init__.py', 'cinder/tests/unit/volume/drivers/test_instorage.py', 'cinder/volume/drivers/inspur/__init__.py', 'cinder/volume/drivers/inspur/instorage/instorage_fc.py', 'cinder/volume/drivers/inspur/instorage/instorage_common.py', 'cinder/volume/drivers/inspur/instorage/replication.py', 'releasenotes/notes/bp-inspur-instorage-driver-40371862c9559238.yaml']",10,b993bb47758fb47f323d181b61ab1980f59cc9bc,bp/inspur-instorage-driver,--- features: - | New Cinder volume driver for Inspur InStorage The new driver supports both FC and iSCSI ,,11502,0
openstack%2Fcinder~master~I615d5cab95b07f995318266166480a9fd4d713f8,openstack/cinder,master,I615d5cab95b07f995318266166480a9fd4d713f8,Fix controller install document indentation,MERGED,2017-11-15 06:14:21.000000000,2018-02-25 14:37:59.000000000,2017-11-18 02:31:04.000000000,"[{'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 23630}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-15 06:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4c68ec3f6d30b40bfc29d94fcba00adbcb513263', 'message': 'Fix controller install document indentation\n\nThis commit fixes the document of cinder-controller-install*.rst.\nOtherwise, the html docs are a little weird.\n\nChange-Id: I615d5cab95b07f995318266166480a9fd4d713f8\n'}, {'number': 2, 'created': '2017-11-15 07:16:09.000000000', 'files': ['doc/source/install/cinder-controller-install-rdo.rst', 'doc/source/install/cinder-controller-install-obs.rst', 'doc/source/install/cinder-controller-install-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a29d679f73623fd3f412d29a3b3efcd8ab0be6d', 'message': 'Fix controller install document indentation\n\nThis commit fixes the document of cinder-controller-install*.rst.\nOtherwise, the html docs are a little weird.\n\nChange-Id: I615d5cab95b07f995318266166480a9fd4d713f8\n'}]",0,519978,9a29d679f73623fd3f412d29a3b3efcd8ab0be6d,35,28,2,5689,,,0,"Fix controller install document indentation

This commit fixes the document of cinder-controller-install*.rst.
Otherwise, the html docs are a little weird.

Change-Id: I615d5cab95b07f995318266166480a9fd4d713f8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/519978/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/cinder-controller-install-rdo.rst', 'doc/source/install/cinder-controller-install-obs.rst', 'doc/source/install/cinder-controller-install-ubuntu.rst']",3,4c68ec3f6d30b40bfc29d94fcba00adbcb513263,fix-docs-indent," .. code-block:: console MariaDB [(none)]> CREATE DATABASE cinder; .. code-block:: console MariaDB [(none)]> GRANT ALL PRIVILEGES ON cinder.* TO 'cinder'@'localhost' \ IDENTIFIED BY 'CINDER_DBPASS'; MariaDB [(none)]> GRANT ALL PRIVILEGES ON cinder.* TO 'cinder'@'%' \ IDENTIFIED BY 'CINDER_DBPASS'; Replace ``CINDER_DBPASS`` with a suitable password. .. code-block:: console $ openstack user create --domain default --password-prompt cinder User Password: Repeat User Password: +---------------------+----------------------------------+ | Field | Value | +---------------------+----------------------------------+ | domain_id | default | | enabled | True | | id | 9d7e33de3e1a498390353819bc7d245d | | name | cinder | | options | {} | | password_expires_at | None | +---------------------+----------------------------------+ .. code-block:: console $ openstack role add --project service --user cinder admin .. note:: This command provides no output. .. code-block:: console $ openstack service create --name cinderv2 \ --description ""OpenStack Block Storage"" volumev2 +-------------+----------------------------------+ | Field | Value | +-------------+----------------------------------+ | description | OpenStack Block Storage | | enabled | True | | id | eb9fd245bdbc414695952e93f29fe3ac | | name | cinderv2 | | type | volumev2 | +-------------+----------------------------------+ .. code-block:: console $ openstack service create --name cinderv3 \ --description ""OpenStack Block Storage"" volumev3 +-------------+----------------------------------+ | Field | Value | +-------------+----------------------------------+ | description | OpenStack Block Storage | | enabled | True | | id | ab3bbbef780845a1a283490d281e7fda | | name | cinderv3 | | type | volumev3 | +-------------+----------------------------------+ Replace ``CINDER_DBPASS`` with the password you chose for the Block Storage database. .. path /etc/cinder/cinder.conf .. code-block:: ini [DEFAULT] # ... transport_url = rabbit://openstack:RABBIT_PASS@controller Replace ``RABBIT_PASS`` with the password you chose for the ``openstack`` account in ``RabbitMQ``. .. note:: Comment out or remove any other options in the ``[keystone_authtoken]`` section."," .. code-block:: console MariaDB [(none)]> CREATE DATABASE cinder; .. code-block:: console MariaDB [(none)]> GRANT ALL PRIVILEGES ON cinder.* TO 'cinder'@'localhost' \ IDENTIFIED BY 'CINDER_DBPASS'; MariaDB [(none)]> GRANT ALL PRIVILEGES ON cinder.* TO 'cinder'@'%' \ IDENTIFIED BY 'CINDER_DBPASS'; Replace ``CINDER_DBPASS`` with a suitable password. .. code-block:: console $ openstack user create --domain default --password-prompt cinder User Password: Repeat User Password: +---------------------+----------------------------------+ | Field | Value | +---------------------+----------------------------------+ | domain_id | default | | enabled | True | | id | 9d7e33de3e1a498390353819bc7d245d | | name | cinder | | options | {} | | password_expires_at | None | +---------------------+----------------------------------+ .. code-block:: console $ openstack role add --project service --user cinder admin .. note:: This command provides no output. .. code-block:: console $ openstack service create --name cinderv2 \ --description ""OpenStack Block Storage"" volumev2 +-------------+----------------------------------+ | Field | Value | +-------------+----------------------------------+ | description | OpenStack Block Storage | | enabled | True | | id | eb9fd245bdbc414695952e93f29fe3ac | | name | cinderv2 | | type | volumev2 | +-------------+----------------------------------+ .. code-block:: console $ openstack service create --name cinderv3 \ --description ""OpenStack Block Storage"" volumev3 +-------------+----------------------------------+ | Field | Value | +-------------+----------------------------------+ | description | OpenStack Block Storage | | enabled | True | | id | ab3bbbef780845a1a283490d281e7fda | | name | cinderv3 | | type | volumev3 | +-------------+----------------------------------+ Replace ``CINDER_DBPASS`` with the password you chose for the Block Storage database. .. path /etc/cinder/cinder.conf .. code-block:: ini [DEFAULT] # ... transport_url = rabbit://openstack:RABBIT_PASS@controller Replace ``RABBIT_PASS`` with the password you chose for the ``openstack`` account in ``RabbitMQ``. .. note:: Comment out or remove any other options in the ``[keystone_authtoken]`` section.",93,93
openstack%2Fcinder~master~Id74d48348f2a9aa212fe178ac2e2304ff134be9a,openstack/cinder,master,Id74d48348f2a9aa212fe178ac2e2304ff134be9a,Fix several instances of chap secret being output to logs.,MERGED,2017-11-14 20:03:29.000000000,2018-02-25 14:37:35.000000000,2017-12-14 00:29:52.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27190}]","[{'number': 1, 'created': '2017-11-14 20:03:29.000000000', 'files': ['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_iscsi.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'cinder/volume/drivers/dothill/dothill_client.py', 'cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/volume/drivers/huawei/huawei_driver.py', 'cinder/volume/drivers/zfssa/restclient.py', 'cinder/volume/drivers/zadara.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/46f26084ce59ffcd5c2d66558fee85f4deb53a94', 'message': 'Fix several instances of chap secret being output to logs.\n\nSeveral drivers had cases where chap secrets could be output to\nthe log files.  This fixes several such cases by masking the secret.\n\nChange-Id: Id74d48348f2a9aa212fe178ac2e2304ff134be9a\n'}]",0,519734,46f26084ce59ffcd5c2d66558fee85f4deb53a94,46,34,1,24147,,,0,"Fix several instances of chap secret being output to logs.

Several drivers had cases where chap secrets could be output to
the log files.  This fixes several such cases by masking the secret.

Change-Id: Id74d48348f2a9aa212fe178ac2e2304ff134be9a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/519734/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/storwize_svc/storwize_svc_iscsi.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'cinder/volume/drivers/dothill/dothill_client.py', 'cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/volume/drivers/huawei/huawei_driver.py', 'cinder/volume/drivers/zadara.py', 'cinder/volume/drivers/zfssa/restclient.py']",7,46f26084ce59ffcd5c2d66558fee85f4deb53a94,pwlogging,"from oslo_utils import strutils # body may contain chap secret so must be masked LOG.debug('Body: %s', strutils.mask_password(body))"," LOG.debug('Body: %s', body)",26,12
openstack%2Fcinder~master~I093da81fb9a0021e4fedff7eb48d3245957e787a,openstack/cinder,master,I093da81fb9a0021e4fedff7eb48d3245957e787a,HPE 3PAR: Handle single path in FC configuration,MERGED,2017-11-13 10:30:51.000000000,2018-02-25 14:37:33.000000000,2017-11-14 20:27:43.000000000,"[{'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21407}, {'_account_id': 21517}, {'_account_id': 21531}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22664}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24952}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25955}, {'_account_id': 26379}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-13 10:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/66794933796ae1654afd98e0f9bb4973b62742ce', 'message': 'HPE 3PAR: Handle single path in FC configuration\n\nIssue :- With single path configuration, after\nvolume attach multiple vluns were created,\nintead of one vlun.\n\nAdded check to create host with single initiator,\nwhich will use single target wwn to create a vlun\n\nChange-Id: I093da81fb9a0021e4fedff7eb48d3245957e787a\nCloses-Bug: #1727176\n'}, {'number': 2, 'created': '2017-11-14 07:08:34.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d265cc5a2d4edf5bdaecb34feb6d7c35a76ec526', 'message': 'HPE 3PAR: Handle single path in FC configuration\n\nIssue :- With single path configuration, post\nvolume attach multiple vluns are created,\ninstead of one vlun.\n\nAdded check to create host with single initiator,\nwhich will use single target wwn to create a vlun\n\nChange-Id: I093da81fb9a0021e4fedff7eb48d3245957e787a\nCloses-Bug: #1727176\n'}]",2,519304,d265cc5a2d4edf5bdaecb34feb6d7c35a76ec526,68,39,2,24952,,,0,"HPE 3PAR: Handle single path in FC configuration

Issue :- With single path configuration, post
volume attach multiple vluns are created,
instead of one vlun.

Added check to create host with single initiator,
which will use single target wwn to create a vlun

Change-Id: I093da81fb9a0021e4fedff7eb48d3245957e787a
Closes-Bug: #1727176
",git fetch https://review.opendev.org/openstack/cinder refs/changes/04/519304/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py']",2,66794933796ae1654afd98e0f9bb4973b62742ce,bug/1727176," 'wwn': self.wwn[0]}]}] 'target_wwn': ['0987654321234'], {'123456789012345': ['0987654321234']}}} self.connector.copy()) mock.call.queryHost(wwns=['123456789012345']), 'wwn': self.wwn[0]}]}] 'portPos': {'cardPort': 1, 'node': 7, 'slot': 1}}]] 'target_wwn': ['0987654321234'], {'123456789012345': ['0987654321234']}}} self.connector.copy()) mock.call.queryHost(wwns=['123456789012345']), self.connector.copy()) mock.call.queryHost(wwns=['123456789012345']), self.connector.copy()) mock.call.queryHost(wwns=['123456789012345']), FCWwns=['123456789012345'], 'FCPaths': [{'wwn': '123456789012345'}]}] self.connector.copy()) mock.call.queryHost(wwns=['123456789012345']), self.connector.copy()) mock.call.queryHost(wwns=['123456789012345']), FCWwns=['123456789012345'], mock.call.queryHost(wwns=['123456789012345']), 'FCPaths': [{'wwn': '123456789012345'}]}] self.connector.copy()) mock.call.queryHost(wwns=['123456789012345']), {'FCWWNs': ['123456789012345'], self.assertEqual(1, len(host['FCPaths'])) self.connector_multipath_enabled) self.connector_multipath_enabled)"," 'wwn': self.wwn[0]}, {'driverVersion': None, 'firmwareVersion': None, 'hostSpeed': 0, 'model': None, 'portPos': {'cardPort': 1, 'node': 6, 'slot': 1}, 'vendor': None, 'wwn': self.wwn[1]}]}] 'remoteName': self.wwn[1], 'lun': 90, 'type': 0}], [{'active': True, 'volumeName': self.VOLUME_3PAR_NAME, 'portPos': {'node': 6, 'slot': 1, 'cardPort': 1}, 'target_wwn': ['0987654321234', '123456789000987'], {'123456789012345': ['123456789000987'], '123456789054321': ['0987654321234']}}} self.connector) mock.call.queryHost(wwns=['123456789012345', '123456789054321']), mock.call.getHostVLUNs(self.FAKE_HOST), mock.call.createVLUN( self.VOLUME_3PAR_NAME, auto=False, hostname=self.FAKE_HOST, lun=90, portPos={'node': 6, 'slot': 1, 'cardPort': 1}), 'wwn': self.wwn[0]}, {'driverVersion': None, 'firmwareVersion': None, 'hostSpeed': 0, 'model': None, 'portPos': {'cardPort': 1, 'node': 6, 'slot': 1}, 'vendor': None, 'wwn': self.wwn[1]}]}] 'remoteName': self.wwn[1], 'portPos': {'cardPort': 1, 'node': 7, 'slot': 1}}], [{'active': True, 'volumeName': self.VOLUME_3PAR_NAME, 'portPos': {'node': 6, 'slot': 1, 'cardPort': 1}, 'lun': 90, 'type': 0}]] 'target_wwn': ['0987654321234', '123456789000987'], {'123456789012345': ['123456789000987'], '123456789054321': ['0987654321234']}}} self.connector) mock.call.queryHost(wwns=['123456789012345', '123456789054321']), mock.call.getHostVLUNs(self.FAKE_HOST), mock.call.createVLUN( self.VOLUME_3PAR_NAME, auto=False, hostname=self.FAKE_HOST, lun=90, portPos={'node': 6, 'slot': 1, 'cardPort': 1}), self.connector) mock.call.queryHost(wwns=['123456789012345', '123456789054321']), self.connector) mock.call.queryHost(wwns=['123456789012345', '123456789054321']), FCWwns=['123456789012345', '123456789054321'], 'FCPaths': [{'wwn': '123456789012345'}, { 'wwn': '123456789054321'}]}] self.connector) mock.call.queryHost(wwns=['123456789012345', '123456789054321']), self.connector) mock.call.queryHost(wwns=['123456789012345', '123456789054321']), FCWwns=['123456789012345', '123456789054321'], mock.call.queryHost(wwns=['123456789012345', '123456789054321']), 'FCPaths': [{'wwn': '123456789012345'}, { 'wwn': '123456789054321'}]}] self.connector) # On Python 3, hash is randomized, and so set() is used to get # the expected order fcwwns = list(set(('123456789054321', '123456789012345'))) mock.call.queryHost(wwns=['123456789012345', '123456789054321']), {'FCWWNs': fcwwns, self.assertEqual(2, len(host['FCPaths'])) self.connector) self.connector)",38,86
openstack%2Fcinder~master~Ie4c157f11e5fde0c2dd1d3e06feb0caa9d2d9ede,openstack/cinder,master,Ie4c157f11e5fde0c2dd1d3e06feb0caa9d2d9ede,Schedule request to scheduler when create group from resource,MERGED,2017-11-03 08:30:22.000000000,2018-02-25 14:37:32.000000000,2017-11-16 06:41:56.000000000,"[{'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-03 08:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d248788c6a9aa273ab1db104fe7099d71aeaae18', 'message': ""Schedule request to scheduler when create group from resource\n\nPass the request to scheduler rather than volume service in\norder to check the backend's capacity.\n\nChange-Id: Ie4c157f11e5fde0c2dd1d3e06feb0caa9d2d9ede\nPartial-Implements: bp inspection-mechanism-for-capacity-limited-host\n""}, {'number': 2, 'created': '2017-11-06 02:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ae8c370a34716db023d700108498f1c1b242b3cf', 'message': ""Schedule request to scheduler when create group from resource\n\nPass the request to scheduler rather than volume service in\norder to check the backend's capacity.\n\nChange-Id: Ie4c157f11e5fde0c2dd1d3e06feb0caa9d2d9ede\nPartial-Implements: bp inspection-mechanism-for-capacity-limited-host\n""}, {'number': 3, 'created': '2017-11-06 02:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4bb493fd58379e1a39c5801e10c14c93db94196e', 'message': ""Schedule request to scheduler when create group from resource\n\nPass the request to scheduler rather than volume service in\norder to check the backend's capacity.\n\nChange-Id: Ie4c157f11e5fde0c2dd1d3e06feb0caa9d2d9ede\nPartial-Implements: bp inspection-mechanism-for-capacity-limited-host\n""}, {'number': 4, 'created': '2017-11-13 07:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f4597a464d45edfef1e0119bb17042aa1ac646a', 'message': ""Schedule request to scheduler when create group from resource\n\nPass the request to scheduler rather than volume service in\norder to check the backend's capacity.\n\nChange-Id: Ie4c157f11e5fde0c2dd1d3e06feb0caa9d2d9ede\nPartial-Implements: bp inspection-mechanism-for-capacity-limited-host\n""}, {'number': 5, 'created': '2017-11-13 11:24:53.000000000', 'files': ['cinder/scheduler/filter_scheduler.py', 'cinder/scheduler/rpcapi.py', 'cinder/tests/unit/group/test_groups_api.py', 'cinder/tests/unit/api/v3/test_groups.py', 'cinder/scheduler/manager.py', 'cinder/tests/unit/api/contrib/test_consistencygroups.py', 'cinder/group/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d812f5705fbb9503f307452a9904d21cc609439a', 'message': ""Schedule request to scheduler when create group from resource\n\nPass the request to scheduler rather than volume service in\norder to check the backend's capacity.\n\nChange-Id: Ie4c157f11e5fde0c2dd1d3e06feb0caa9d2d9ede\nPartial-Implements: bp inspection-mechanism-for-capacity-limited-host\n""}]",0,517574,d812f5705fbb9503f307452a9904d21cc609439a,122,39,5,23083,,,0,"Schedule request to scheduler when create group from resource

Pass the request to scheduler rather than volume service in
order to check the backend's capacity.

Change-Id: Ie4c157f11e5fde0c2dd1d3e06feb0caa9d2d9ede
Partial-Implements: bp inspection-mechanism-for-capacity-limited-host
",git fetch https://review.opendev.org/openstack/cinder refs/changes/74/517574/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/filter_scheduler.py', 'cinder/scheduler/rpcapi.py', 'cinder/scheduler/manager.py', 'cinder/group/api.py']",4,d248788c6a9aa273ab1db104fe7099d71aeaae18,bp/inspection-mechanism-for-capacity-limited-host," size = 0 snapshots = objects.SnapshotList.get_all_for_group_snapshot( context, group_snapshot_id) size = sum(s.volume.id for s in snapshots) source_vols = objects.VolumeList.get_all_by_generic_group( context, source_group.id) size = sum(v.size for v in source_vols) # NOTE(tommylikhu): We wrap the size inside of the attribute # 'volume_properties' as scheduler's filter logic are all designed # based on this attribute. request_spec = {'group_id': group.id, 'volume_properties': {'size': size}} if not group.host or not self.scheduler_rpcapi.valid_host_capacity( context, group.host, request_spec): msg = _(""No valid host to create group %s."") % group.id"," if not group.host: msg = _(""No host to create group %s."") % group.id",52,8
openstack%2Fcinder~master~Ic9720c649ccb1fbcf2f319c0cc422c54f0925aac,openstack/cinder,master,Ic9720c649ccb1fbcf2f319c0cc422c54f0925aac,set vg_thin_pool_size to float type,MERGED,2017-09-05 03:28:38.000000000,2018-02-25 14:37:28.000000000,2017-11-18 02:31:02.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26160}, {'_account_id': 26537}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-09-05 03:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f4b527dac2c99717d0002c878858b93d7c04d781', 'message': 'set vg_thin_pool_size to float type\n\nlvsize is type of str, we need a float type.\n\nChange-Id: Ic9720c649ccb1fbcf2f319c0cc422c54f0925aac\n'}, {'number': 2, 'created': '2017-09-05 03:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4d873cc6b53d895618f68f4d4dcf7bcf24af9491', 'message': 'set vg_thin_pool_size to float type\n\nlvsize is type of str, we need a float type.\n\nCloses-Bug: #1715041\nChange-Id: Ic9720c649ccb1fbcf2f319c0cc422c54f0925aac\n'}, {'number': 3, 'created': '2017-11-10 10:47:52.000000000', 'files': ['cinder/brick/local_dev/lvm.py', 'cinder/tests/unit/brick/test_brick_lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a386cee127519ce70a0ef494cbbeaeb7f52c5e7', 'message': 'set vg_thin_pool_size to float type\n\nlvsize is type of str, we need a float type.\n\nCloses-Bug: #1715041\nChange-Id: Ic9720c649ccb1fbcf2f319c0cc422c54f0925aac\n'}]",0,500663,9a386cee127519ce70a0ef494cbbeaeb7f52c5e7,69,44,3,22905,,,0,"set vg_thin_pool_size to float type

lvsize is type of str, we need a float type.

Closes-Bug: #1715041
Change-Id: Ic9720c649ccb1fbcf2f319c0cc422c54f0925aac
",git fetch https://review.opendev.org/openstack/cinder refs/changes/63/500663/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/brick/local_dev/lvm.py', 'cinder/tests/unit/brick/test_brick_lvm.py']",2,f4b527dac2c99717d0002c878858b93d7c04d781,bug/1715041," self.assertEqual(9.50, self.vg.vg_thin_pool_size) self.assertEqual(9.50, self.vg.vg_thin_pool_size)"," self.assertEqual(""9.50"", self.vg.vg_thin_pool_size) self.assertEqual(""9.50"", self.vg.vg_thin_pool_size)",3,3
openstack%2Fcinder~master~Ief6ff0771488417fc80a3ffe7505a0d478ec5eb6,openstack/cinder,master,Ief6ff0771488417fc80a3ffe7505a0d478ec5eb6,Add .zuul.yaml with LIO job,MERGED,2017-11-07 19:47:30.000000000,2018-02-25 14:37:27.000000000,2017-11-14 18:43:10.000000000,"[{'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25677}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-07 19:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5042902f6fbd592c4156e4dbf2a2cc7c0b596d4d', 'message': 'Add .zuul.yaml with LIO job\n\nWIP\n\nChange-Id: Ief6ff0771488417fc80a3ffe7505a0d478ec5eb6\n'}, {'number': 2, 'created': '2017-11-07 19:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/31c0c769804e794275865aa9661066e369cb2e6b', 'message': 'Add .zuul.yaml with LIO job\n\nWIP\n\nChange-Id: Ief6ff0771488417fc80a3ffe7505a0d478ec5eb6\n'}, {'number': 3, 'created': '2017-11-08 14:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bb180bdbaf1591957bf2c11a5bcbee4a5ceaf600', 'message': 'Add .zuul.yaml with LIO job\n\nWIP\n\nChange-Id: Ief6ff0771488417fc80a3ffe7505a0d478ec5eb6\n'}, {'number': 4, 'created': '2017-11-08 15:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/931982a3495b4ca32505ef7792ec3b33acdd6dc6', 'message': 'Add .zuul.yaml with LIO job\n\nWIP\n\nSkip tests that are currently failing.\n\nChange-Id: Ief6ff0771488417fc80a3ffe7505a0d478ec5eb6\n'}, {'number': 5, 'created': '2017-11-08 18:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e1d0d8f9bd82e7027237228a10c800b51022a0f0', 'message': 'Add .zuul.yaml with LIO job\n\nWIP\n\nSkip tests that are currently failing.\n\nChange-Id: Ief6ff0771488417fc80a3ffe7505a0d478ec5eb6\n'}, {'number': 6, 'created': '2017-11-08 19:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/529303bfecf879478ace0867a9f3d1fd03635275', 'message': 'Add .zuul.yaml with LIO job\n\nThis replaces the legacy-tempest-dsvm-full-lio job.\n\nSkip tests that are currently failing.\n\nChange-Id: Ief6ff0771488417fc80a3ffe7505a0d478ec5eb6\n'}, {'number': 7, 'created': '2017-11-08 22:22:33.000000000', 'files': ['.gitignore', 'playbooks/legacy/cinder-tempest-dsvm-lvm-lio/run.yaml', '.zuul.yaml', 'playbooks/legacy/cinder-tempest-dsvm-lvm-lio/post.yaml', 'cinder/tests/tempest/config/lio/tempest-conf.sh'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5601d336ca556c82891466c89cadef0676df576c', 'message': 'Add .zuul.yaml with LIO job\n\nThis replaces the legacy-tempest-dsvm-full-lio job.\n\nSkip tests that are currently failing.\n\nChange-Id: Ief6ff0771488417fc80a3ffe7505a0d478ec5eb6\n'}]",0,518390,5601d336ca556c82891466c89cadef0676df576c,106,29,7,4523,,,0,"Add .zuul.yaml with LIO job

This replaces the legacy-tempest-dsvm-full-lio job.

Skip tests that are currently failing.

Change-Id: Ief6ff0771488417fc80a3ffe7505a0d478ec5eb6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/90/518390/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', '.zuul.yaml']",2,5042902f6fbd592c4156e4dbf2a2cc7c0b596d4d,,- project: name: openstack/cinder check: jobs: - tempest-dsvm-cinder-lvm-lio voting: false branches: ^(?!driverfixes/).*$ irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^cinder/hacking/.*$ - ^cinder/locale/.*$ - ^cinder/tests/functional.*$ - ^cinder/tests/unit.*$ - ^contrib/block-box.*$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - job: # Previously named legacy-tempest-dsvm-full-lio name: tempest-dsvm-cinder-lvm-lio parent: legacy-dsvm-base run: playbooks/legacy/tempest-dsvm-full-lio/run.yaml post-run: playbooks/legacy/tempest-dsvm-full-lio/post.yaml timeout: 10800 required-projects: - openstack-infra/devstack-gate - openstack/barbican - openstack/python-barbicanclient - openstack/tempest - openstack/os-brick ,,34,0
openstack%2Fcinder~master~I3cf8e29184a68a07d35fb121c816e40b89df393e,openstack/cinder,master,I3cf8e29184a68a07d35fb121c816e40b89df393e,Handle assertRaisesRegexp Python 3 deprecation,MERGED,2017-11-07 23:54:47.000000000,2018-02-25 14:37:25.000000000,2017-11-16 05:09:41.000000000,"[{'_account_id': 2243}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 16834}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-07 23:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/78295b079b648275220f72d47646a7c7727c5c18', 'message': ""Handle assertRaisesRegexp Python 3 deprecation\n\nIn Python 3, assertRaisesRegexp has been deprecated in favor of\nassertRaisesRegex. This newer name is not available in Python 2\nthough, so we can't just change over to the new name.\n\nTo get rid of the deprecation messages in our py35 unit test runs,\nthis adds an alias to our test base that just uses the six library\nwrapper rather than updating all locations in our tests that use\nthis.\n\nChange-Id: I3cf8e29184a68a07d35fb121c816e40b89df393e\n""}, {'number': 2, 'created': '2017-11-08 01:14:14.000000000', 'files': ['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/test.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c79d1519545baefd3faccbac9e6c5ee9a2b177bd', 'message': ""Handle assertRaisesRegexp Python 3 deprecation\n\nIn Python 3, assertRaisesRegexp has been deprecated in favor of\nassertRaisesRegex. This newer name is not available in Python 2\nthough, so we can't just change over to the new name.\n\nTo get rid of the deprecation messages in our py35 unit test runs,\nthis adds an alias to our test base that just provides an alias\nrather than updating all locations in our tests that use this.\n\nChange-Id: I3cf8e29184a68a07d35fb121c816e40b89df393e\n""}]",0,518417,c79d1519545baefd3faccbac9e6c5ee9a2b177bd,42,26,2,11904,,,0,"Handle assertRaisesRegexp Python 3 deprecation

In Python 3, assertRaisesRegexp has been deprecated in favor of
assertRaisesRegex. This newer name is not available in Python 2
though, so we can't just change over to the new name.

To get rid of the deprecation messages in our py35 unit test runs,
this adds an alias to our test base that just provides an alias
rather than updating all locations in our tests that use this.

Change-Id: I3cf8e29184a68a07d35fb121c816e40b89df393e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/17/518417/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/test.py', 'cinder/tests/unit/volume/drivers/nec/test_volume.py']",2,78295b079b648275220f72d47646a7c7727c5c18,assertRaisesRegex,"from cinder import testclass VolumeIDConvertTest(volume_helper.MStorageDSVDriver, test.TestCase):class NominatePoolLDTest(volume_helper.MStorageDSVDriver, test.TestCase):class VolumeCreateTest(volume_helper.MStorageDSVDriver, test.TestCase):class BindLDTest(volume_helper.MStorageDSVDriver, test.TestCase):class BindLDTest_Snap(volume_helper.MStorageDSVDriver, test.TestCase):class ExportTest(volume_helper.MStorageDSVDriver, test.TestCase): test.TestCase): test.TestCase):class VolumeStats_test(volume_helper.MStorageDSVDriver, test.TestCase):class Migrate_test(volume_helper.MStorageDSVDriver, test.TestCase):","import unittestclass VolumeIDConvertTest(volume_helper.MStorageDSVDriver, unittest.TestCase):class NominatePoolLDTest(volume_helper.MStorageDSVDriver, unittest.TestCase):class VolumeCreateTest(volume_helper.MStorageDSVDriver, unittest.TestCase):class BindLDTest(volume_helper.MStorageDSVDriver, unittest.TestCase):class BindLDTest_Snap(volume_helper.MStorageDSVDriver, unittest.TestCase):class ExportTest(volume_helper.MStorageDSVDriver, unittest.TestCase): unittest.TestCase): unittest.TestCase):class VolumeStats_test(volume_helper.MStorageDSVDriver, unittest.TestCase):class Migrate_test(volume_helper.MStorageDSVDriver, unittest.TestCase):",19,11
openstack%2Fcinder~driverfixes%2Fnewton~Ib78293efa626c098a572f4c64119ee2ff296bd40,openstack/cinder,driverfixes/newton,Ib78293efa626c098a572f4c64119ee2ff296bd40,Dell EMC PS: Fix Duplicate ACL records Issue,MERGED,2017-11-07 15:35:52.000000000,2018-02-25 14:37:16.000000000,2017-11-21 12:26:53.000000000,"[{'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12112}, {'_account_id': 12822}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 24921}]","[{'number': 1, 'created': '2017-11-07 15:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a9bb1400c9bd1c4d480b9bcc8f9e3487c01d1838', 'message': 'Dell EMC PS: Fix Duplicate ACL records Issue\n\nLive migration was creating duplicate ACL records for the compute\nnodes. Fixed it by not creating one when an ACL exists during\ninitialization of the volume.\n\nCloses Bug: #1726591\n\nChange-Id: Ib78293efa626c098a572f4c64119ee2ff296bd40\n(cherry picked from commit 22c09d57687b98faf4193cb1be3d738ddf3bbd28)\n'}, {'number': 2, 'created': '2017-11-07 19:44:00.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_eqlx.py', 'cinder/volume/drivers/eqlx.py', 'releasenotes/notes/ps-duplicate-ACL-5aa447c50f2474e7.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e637fe080e18b8faa910c0d90f653de964162ccb', 'message': 'Dell EMC PS: Fix Duplicate ACL records Issue\n\nLive migration was creating duplicate ACL records for the compute\nnodes. Fixed it by not creating one when an ACL exists during\ninitialization of the volume.\n\nCloses Bug: #1726591\n\nChange-Id: Ib78293efa626c098a572f4c64119ee2ff296bd40\n(cherry picked from commit 22c09d57687b98faf4193cb1be3d738ddf3bbd28)\n'}]",0,518359,e637fe080e18b8faa910c0d90f653de964162ccb,26,14,2,10379,,,0,"Dell EMC PS: Fix Duplicate ACL records Issue

Live migration was creating duplicate ACL records for the compute
nodes. Fixed it by not creating one when an ACL exists during
initialization of the volume.

Closes Bug: #1726591

Change-Id: Ib78293efa626c098a572f4c64119ee2ff296bd40
(cherry picked from commit 22c09d57687b98faf4193cb1be3d738ddf3bbd28)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/59/518359/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_eqlx.py', 'cinder/volume/drivers/eqlx.py', 'releasenotes/notes/ps-duplicate-ACL-5aa447c50f2474e7.yaml']",3,a9bb1400c9bd1c4d480b9bcc8f9e3487c01d1838,bug/1726591,--- fixes: - Dell EMC PS Series Driver code was creating duplicate ACL records during live migration. Fixes the initialize_connection code to not create access record for a host if one exists previously. This change fixes bug 1726591. ,,45,10
openstack%2Fcinder~driverfixes%2Fnewton~I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5,openstack/cinder,driverfixes/newton,I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5,Run backup compression on native thread,MERGED,2017-11-07 11:54:42.000000000,2018-02-25 14:35:55.000000000,2018-01-18 18:40:42.000000000,"[{'_account_id': 1207}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 24921}]","[{'number': 1, 'created': '2017-11-07 11:54:42.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py', 'cinder/backup/chunkeddriver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/41754fd57f27bba646d1d6e26388c7f5f4c2dc4e', 'message': 'Run backup compression on native thread\n\nBackup data compression is a CPU bound operation that will not yield to\nother greenthreads, so given enough simultaneous backup operations they\nwill lead to other threads\' starvation.\n\nThis is really problematic for DB connections, since starvation will\nlead to connections getting dropped with errors such as ""Lost connection\nto MySQL server during query"".\n\nDetailed information on why these connections get dropped can be found\nin comment ""[31 Aug 2007 9:21] Magnus Bludd"" on this MySQL bug [1].\n\nThese DB issues may result in backups unnecessary ending in an ""error""\nstate.\n\nThis patch fixes this by moving the compression to a native thread so\nthe cooperative multitasking in Cinder Backup can continue switching\nthreads.\n\n[1] https://bugs.mysql.com/bug.php?id=28359\n\nCloses-Bug: #1692775\nCloses-Bug: #1719580\nChange-Id: I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5\n(cherry picked from commit af0f00bc52f79d9395adfe0575b0dbe353e18bbe)\n(cherry picked from commit 439f90da8e4c1cfa1acfe36b5ea8a6c5bae6139f)\n(cherry picked from commit b241f93267646a6501e3a5fb14521f05e38a2ae9)\n'}]",0,518311,41754fd57f27bba646d1d6e26388c7f5f4c2dc4e,42,17,1,9535,,,0,"Run backup compression on native thread

Backup data compression is a CPU bound operation that will not yield to
other greenthreads, so given enough simultaneous backup operations they
will lead to other threads' starvation.

This is really problematic for DB connections, since starvation will
lead to connections getting dropped with errors such as ""Lost connection
to MySQL server during query"".

Detailed information on why these connections get dropped can be found
in comment ""[31 Aug 2007 9:21] Magnus Bludd"" on this MySQL bug [1].

These DB issues may result in backups unnecessary ending in an ""error""
state.

This patch fixes this by moving the compression to a native thread so
the cooperative multitasking in Cinder Backup can continue switching
threads.

[1] https://bugs.mysql.com/bug.php?id=28359

Closes-Bug: #1692775
Closes-Bug: #1719580
Change-Id: I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5
(cherry picked from commit af0f00bc52f79d9395adfe0575b0dbe353e18bbe)
(cherry picked from commit 439f90da8e4c1cfa1acfe36b5ea8a6c5bae6139f)
(cherry picked from commit b241f93267646a6501e3a5fb14521f05e38a2ae9)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/11/518311/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py', 'cinder/backup/chunkeddriver.py']",4,41754fd57f27bba646d1d6e26388c7f5f4c2dc4e,bug/1692775," # Execute compression in native thread so it doesn't prevent # cooperative greenthread switching. compressed_data = eventlet.tpool.execute(self.compressor.compress, data)", compressed_data = self.compressor.compress(data),49,4
openstack%2Fcinder~master~I11c0932c546d8edd0e6009c4e2668f50ac2008c1,openstack/cinder,master,I11c0932c546d8edd0e6009c4e2668f50ac2008c1,VMAX doc - add manage and unmanage section,MERGED,2017-11-06 11:32:00.000000000,2018-02-25 14:35:51.000000000,2017-12-24 23:18:18.000000000,"[{'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23414}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26233}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-06 11:32:00.000000000', 'files': ['doc/source/configuration/block-storage/drivers/emc-vmax-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c25be040faa835a0084a39af7e36d8101fe24145', 'message': 'VMAX doc - add manage and unmanage section\n\nAdding manage and unmanage section\n\nChange-Id: I11c0932c546d8edd0e6009c4e2668f50ac2008c1\nCloses-Bug: #1729013\n'}]",0,517926,c25be040faa835a0084a39af7e36d8101fe24145,31,25,1,12670,,,0,"VMAX doc - add manage and unmanage section

Adding manage and unmanage section

Change-Id: I11c0932c546d8edd0e6009c4e2668f50ac2008c1
Closes-Bug: #1729013
",git fetch https://review.opendev.org/openstack/cinder refs/changes/26/517926/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/emc-vmax-driver.rst'],1,c25be040faa835a0084a39af7e36d8101fe24145,," Manage and Unmanage Volumes ~~~~~~~~~~~~~~~~~~~~~~~~~~~ Managing volumes in OpenStack is the process whereby a volume which exists on the storage device is imported into OpenStack to be made available for use in the OpenStack environment. For a volume to be valid for managing into OpenStack, the following prerequisites must be met: - The volume exists in a Cinder managed pool - The volume is not part of a Masking View - The volume is not part of an SRDF relationship - The volume is configured as a TDEV (thin device) - The volume is set to FBA emulation For a volume to exist in a Cinder managed pool, it must reside in in the same Storage Resource Pool (SRP) as the backend which is configured for use in OpenStack. Specifying the pool correctly can be entered manually as it follows the same format: .. code-block:: console Pool format: <service_level>+<workload_type>+<srp>+<array_id> Pool example 1: Diamond+DSS+SRP_1+111111111111 Pool example 2: Diamond+SRP_1+111111111111 .. table:: **Pool values** +----------------+-------------------------------------------------------------+ | Key | Value | +================+=============================================================+ | service_level | The service level of the volume to be managed | +----------------+-------------------------------------------------------------+ | workload | The workload of the volume to be managed | +----------------+-------------------------------------------------------------+ | SRP | The Storage Resource Pool configured for use by the backend | +----------------+-------------------------------------------------------------+ | array_id | The VMAX serial number (12 digit numerical) | +----------------+-------------------------------------------------------------+ Manage Volumes -------------- With your pool name defined you can now manage the volume into OpenStack, this is possible with the CLI command ``cinder manage``. The bootable parameter is optional in the command, if the volume to be managed into OpenStack is not bootable leave this parameter out. OpenStack will also determine the size of the value when it is managed so there is no need to specify the volume size. Command format: .. code-block:: console $ cinder manage --name <new_volume_name> --volume-type <vmax_vol_type> \ --availability-zone <av_zone> <--bootable> <host> <identifier> Command Example: .. code-block:: console $ cinder manage --name vmax_managed_volume --volume-type VMAX_ISCSI_DIAMOND \ --availability-zone nova demo@VMAX_ISCSI_DIAMOND#Diamond+SRP_1+111111111111 031D8 After the above command has been run, the volume will be available for use in the same way as any other OpenStack VMAX volume. .. note:: An unmanaged volume with a prefix of 'OS-' in its identifier name cannot be managed into OpenStack, as this is a reserved keyword for managed volumes. If the identifier name has this prefix, an exception will be thrown by the VMAX driver on a manage operation. Managing Volumes with Replication Enabled ----------------------------------------- Whilst it is not possible to manage volumes into OpenStack that are part of a SRDF relationship, it is possible to manage a volume into OpenStack and enable replication at the same time. This is done by having a replication enabled VMAX volume type (for more information see section Volume Replication & SRDF/S) during the manage volume process you specify the replication volume type as the chosen volume type. Once managed, replication will be enabled for that volume. Unmanage Volume --------------- Unmanaging a volume is not the same as deleting a volume. When a volume is deleted from OpenStack, it is also deleted from the VMAX at the same time. Unmanaging a volume is the process whereby a volume is removed from OpenStack but it remains for further use on the VMAX. The volume can also be managed back into OpenStack at a later date using the process discussed in the previous section. Unmanaging volume is carried out using the Cinder unmanage CLI command: Command format: .. code-block:: console $ cinder unmanage <volume_name/volume_id> Command example: .. code-block:: console $ cinder unmanage vmax_test_vol Once unmanaged from OpenStack, the volume can still be retrieved using its device ID or OpenStack volume ID. Within Unisphere you will also notice that the 'OS-' prefix has been removed, this is another visual indication that the volume is no longer managed by OpenStack.",,121,0
openstack%2Fcinder~master~I988370d702d87acde534670575d599159b48c58b,openstack/cinder,master,I988370d702d87acde534670575d599159b48c58b,Improve deleting-missing-backup exception handling,MERGED,2017-10-30 09:04:06.000000000,2018-02-25 14:35:50.000000000,2017-11-07 13:40:37.000000000,"[{'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13157}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25376}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-30 09:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a08b43df5be13b5dfdd048424da9783fc6db2dd8', 'message': 'Improve deleting-missing-backup exception handling\n\nWhen deleting missing backup, OSError could be checked to make\nsure that the actual error was that the file does not exist.\n\nChange-Id: I988370d702d87acde534670575d599159b48c58b\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n'}, {'number': 2, 'created': '2017-11-06 01:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/567cd2751039db7c9d17f4652a3a8344370ba407', 'message': 'Improve deleting-missing-backup exception handling\n\nWhen deleting missing backup, OSError could be checked to make\nsure that the actual error was that the file does not exist.\n\nChange-Id: I988370d702d87acde534670575d599159b48c58b\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n'}, {'number': 3, 'created': '2017-11-06 01:10:21.000000000', 'files': ['cinder/backup/drivers/posix.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/851b60d89d38b67b17930699fbc1f21ef0cf3aaf', 'message': 'Improve deleting-missing-backup exception handling\n\nWhen deleting missing backup, OSError could be checked to make\nsure that the actual error was that the file does not exist.\n\nChange-Id: I988370d702d87acde534670575d599159b48c58b\nSigned-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>\n'}]",1,516219,851b60d89d38b67b17930699fbc1f21ef0cf3aaf,68,36,3,25169,,,0,"Improve deleting-missing-backup exception handling

When deleting missing backup, OSError could be checked to make
sure that the actual error was that the file does not exist.

Change-Id: I988370d702d87acde534670575d599159b48c58b
Signed-off-by: Xiaojun Liao <xiaojunliao85@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/516219/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/drivers/posix.py'],1,a08b43df5be13b5dfdd048424da9783fc6db2dd8,only_ignore_deleting_missing_backup_exception_when_file_not_exist, except OSError as e: # ignore exception if path is not exsits if e.errno != errno.ENOENT: raise, except OSError: pass,4,2
openstack%2Fcinder~master~Ic9e724fcda83fea384406f45f792f7a2d4b979bb,openstack/cinder,master,Ic9e724fcda83fea384406f45f792f7a2d4b979bb,SMBFS: add fixed image support,MERGED,2017-10-24 13:13:46.000000000,2018-02-25 14:35:48.000000000,2017-11-22 19:35:47.000000000,"[{'_account_id': 7198}, {'_account_id': 8543}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-24 13:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8b7d32e4555ee6f699ec00fc9283d64b6ed09615', 'message': ""SMBFS: add fixed image support\n\nThe SMBFS driver currently supports only dynamic vhd/x images.\n\nThis change will allow configuring the driver to use fixed images\nusing the 'nas_volume_prov_type' config option.\n\nNote that fixed images will always be zeroed out. We recommend\nplacing the images on ReFS/SSD backed storage.\n\nImplements: blueprint smbfs-fixed-images\n\nChange-Id: Ic9e724fcda83fea384406f45f792f7a2d4b979bb\n""}, {'number': 2, 'created': '2017-10-25 10:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/025b87723747dc26a7f0088d2e047e7e711f7883', 'message': ""SMBFS: add fixed image support\n\nThe SMBFS driver currently supports only dynamic vhd/x images.\n\nThis change will allow configuring the driver to use fixed images\nusing the 'nas_volume_prov_type' config option.\n\nNote that fixed images will always be zeroed out. We recommend\nplacing the images on ReFS/SSD backed storage.\n\nImplements: blueprint smbfs-fixed-images\n\nChange-Id: Ic9e724fcda83fea384406f45f792f7a2d4b979bb\n""}, {'number': 3, 'created': '2017-10-27 08:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ce0c6fbce77a05a85800a364bb791590102d572', 'message': ""SMBFS: add fixed image support\n\nThe SMBFS driver currently supports only dynamic vhd/x images.\n\nThis change will allow configuring the driver to use fixed images\nusing the 'nas_volume_prov_type' config option.\n\nNote that fixed images will always be zeroed out. We recommend\nplacing the images on ReFS/SSD backed storage.\n\nImplements: blueprint smbfs-fixed-images\n\nChange-Id: Ic9e724fcda83fea384406f45f792f7a2d4b979bb\n""}, {'number': 4, 'created': '2017-10-31 09:28:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3ff936abf81187ca680c223c40aea3f3ab21139c', 'message': ""SMBFS: add fixed image support\n\nThe SMBFS driver currently supports only dynamic vhd/x images.\n\nThis change will allow configuring the driver to use fixed images\nusing the 'nas_volume_prov_type' config option.\n\nNote that fixed images will always be zeroed out. We recommend\nplacing the images on ReFS/SSD backed storage.\n\nImplements: blueprint smbfs-fixed-images\n\nChange-Id: Ic9e724fcda83fea384406f45f792f7a2d4b979bb\n""}, {'number': 5, 'created': '2017-11-01 11:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2f6e987067245a670c6ac20842c7a98ec939cea1', 'message': ""SMBFS: add fixed image support\n\nThe SMBFS driver currently supports only dynamic vhd/x images.\n\nThis change will allow configuring the driver to use fixed images\nusing the 'nas_volume_prov_type' config option.\n\nNote that fixed images will always be zeroed out. We recommend\nplacing the images on ReFS/SSD backed storage.\n\nImplements: blueprint smbfs-fixed-images\n\nChange-Id: Ic9e724fcda83fea384406f45f792f7a2d4b979bb\n""}, {'number': 6, 'created': '2017-11-03 09:53:10.000000000', 'files': ['cinder/volume/drivers/windows/smbfs.py', 'cinder/tests/unit/windows/test_smbfs.py', 'releasenotes/notes/smbfs-fixed-image-9b642b63fcb79c18.yaml', 'cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/54c2787132396a73a45682133f66777ba1eb2085', 'message': ""SMBFS: add fixed image support\n\nThe SMBFS driver currently supports only dynamic vhd/x images.\n\nThis change will allow configuring the driver to use fixed images\nusing the 'nas_volume_prov_type' config option.\n\nNote that fixed images will always be zeroed out. We recommend\nplacing the images on ReFS/SSD backed storage.\n\nImplements: blueprint smbfs-fixed-images\n\nChange-Id: Ic9e724fcda83fea384406f45f792f7a2d4b979bb\n""}]",0,514659,54c2787132396a73a45682133f66777ba1eb2085,137,39,6,26415,,,0,"SMBFS: add fixed image support

The SMBFS driver currently supports only dynamic vhd/x images.

This change will allow configuring the driver to use fixed images
using the 'nas_volume_prov_type' config option.

Note that fixed images will always be zeroed out. We recommend
placing the images on ReFS/SSD backed storage.

Implements: blueprint smbfs-fixed-images

Change-Id: Ic9e724fcda83fea384406f45f792f7a2d4b979bb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/59/514659/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/windows/smbfs.py', 'cinder/tests/unit/windows/test_smbfs.py', 'cinder/volume/drivers/remotefs.py']",3,8b7d32e4555ee6f699ec00fc9283d64b6ed09615,bp/smbfs-fixed-images," _thick_provisioning_support = False 'thick_provisioning_support': ( self._thick_provisioning_support),",,71,21
openstack%2Fcinder~master~I970443c16028d4d3e6bed648c2e188fe65a158fa,openstack/cinder,master,I970443c16028d4d3e6bed648c2e188fe65a158fa,Remove unused print_function imports,MERGED,2017-11-02 15:07:17.000000000,2018-02-25 14:35:47.000000000,2017-11-03 06:59:16.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25169}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-11-02 15:07:17.000000000', 'files': ['cinder/cmd/volume_usage_audit.py', 'cinder/wsgi/eventlet_server.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7ec31c90c12d0e1eb7cc8b5522dbc37a5e661b36', 'message': 'Remove unused print_function imports\n\nThis is not needed in these files.\n\nTrivialFix\n\nChange-Id: I970443c16028d4d3e6bed648c2e188fe65a158fa\n'}]",0,517344,7ec31c90c12d0e1eb7cc8b5522dbc37a5e661b36,52,37,1,4523,,,0,"Remove unused print_function imports

This is not needed in these files.

TrivialFix

Change-Id: I970443c16028d4d3e6bed648c2e188fe65a158fa
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/517344/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/cmd/volume_usage_audit.py', 'cinder/wsgi/eventlet_server.py']",2,7ec31c90c12d0e1eb7cc8b5522dbc37a5e661b36,,,from __future__ import print_function ,0,4
openstack%2Fcinder~master~Ia0f426a257bbaf3c1512c716619fdaa646a9e19c,openstack/cinder,master,Ia0f426a257bbaf3c1512c716619fdaa646a9e19c,ScaleIO: Update CI Wiki name,MERGED,2017-11-01 13:01:14.000000000,2018-02-25 14:35:46.000000000,2017-11-02 16:48:04.000000000,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25033}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-11-01 13:01:14.000000000', 'files': ['cinder/volume/drivers/dell_emc/scaleio/driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5e9e1d5f924a26024ae869cdf239241904e0f91f', 'message': 'ScaleIO: Update CI Wiki name\n\nThe ScaleIO CI Wiki has been renamed to account for the\nDell EMC merger and accompanying branding changes.\n\nChange-Id: Ia0f426a257bbaf3c1512c716619fdaa646a9e19c\n'}]",0,516986,5e9e1d5f924a26024ae869cdf239241904e0f91f,37,29,1,25033,,,0,"ScaleIO: Update CI Wiki name

The ScaleIO CI Wiki has been renamed to account for the
Dell EMC merger and accompanying branding changes.

Change-Id: Ia0f426a257bbaf3c1512c716619fdaa646a9e19c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/516986/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/dell_emc/scaleio/driver.py'],1,5e9e1d5f924a26024ae869cdf239241904e0f91f,," CI_WIKI_NAME = ""DELL_EMC_ScaleIO_CI"""," CI_WIKI_NAME = ""EMC_ScaleIO_CI""",1,1
openstack%2Fcinder~master~I59849d0b5b1ec6636ad1e1af004277fcfa319473,openstack/cinder,master,I59849d0b5b1ec6636ad1e1af004277fcfa319473,Update setup instructions,MERGED,2017-10-27 01:49:47.000000000,2018-02-25 14:35:42.000000000,2017-11-03 13:29:55.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25112}, {'_account_id': 25376}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26233}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-27 01:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d33d976736172652e08ad3b52cfce1d37ddb88e8', 'message': 'Update setup instructions\n\nAdd python3-dev instructions for Ubuntu16.04.\nVerified thos packages in new version and drop Ubuntu12.04 tag.\n\nChange-Id: I59849d0b5b1ec6636ad1e1af004277fcfa319473\nClose-Bug: #1659568\n'}, {'number': 2, 'created': '2017-10-27 08:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/76482b39bf592ada400bfa15de40d6ef85672983', 'message': 'Update setup instructions\n\nAdd python3-dev instructions for Ubuntu16.04.\nVerified thos packages in new version and drop Ubuntu12.04 tag.\n\nChange-Id: I59849d0b5b1ec6636ad1e1af004277fcfa319473\nClose-Bug: #1659568\n'}, {'number': 3, 'created': '2017-10-27 09:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d23e48f5ae6d7fd4a60ebefd51c326035c47920b', 'message': 'Update setup instructions\n\nAdd python3-dev instructions for Ubuntu16.04.\nVerified thos packages in new version and drop Ubuntu12.04 tag.\n\nChange-Id: I59849d0b5b1ec6636ad1e1af004277fcfa319473\nClose-Bug: #1659568\n'}, {'number': 4, 'created': '2017-10-30 08:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/10b20277beb9c58f27888f4beb22d7e46da9d6d8', 'message': 'Update setup instructions\n\nAdd python3-dev instructions for Ubuntu16.04.\nVerified thos packages in new version and drop Ubuntu12.04 tag.\n\nChange-Id: I59849d0b5b1ec6636ad1e1af004277fcfa319473\nClose-Bug: #1659568\n'}, {'number': 5, 'created': '2017-10-30 09:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/92aa57db1c96f302e2fe54523a2213d812b33b1c', 'message': 'Update setup instructions\n\nAdd python3-dev instructions for Ubuntu16.04.\nVerified thos packages in new version and drop Ubuntu12.04 tag.\n\nChange-Id: I59849d0b5b1ec6636ad1e1af004277fcfa319473\nClose-Bug: #1659568\n'}, {'number': 6, 'created': '2017-10-31 02:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a7425b6295a62d897bb81393c76df1a83b877b7', 'message': 'Update setup instructions\n\nAdd python3-dev instructions for Ubuntu16.04.\nVerified thos packages in new version and drop Ubuntu12.04 tag.\n\nChange-Id: I59849d0b5b1ec6636ad1e1af004277fcfa319473\nClose-Bug: #1659568\n'}, {'number': 7, 'created': '2017-11-01 02:08:21.000000000', 'files': ['doc/source/contributor/development.environment.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/38e5e7376b797fe3654c3e60591c65b9e0968352', 'message': 'Update setup instructions\n\nAdd python3-dev instructions for Ubuntu16.04.\nVerified thos packages in new version and drop Ubuntu12.04 tag.\n\nChange-Id: I59849d0b5b1ec6636ad1e1af004277fcfa319473\nClose-Bug: #1659568\n'}]",6,515564,38e5e7376b797fe3654c3e60591c65b9e0968352,110,37,7,25376,,,0,"Update setup instructions

Add python3-dev instructions for Ubuntu16.04.
Verified thos packages in new version and drop Ubuntu12.04 tag.

Change-Id: I59849d0b5b1ec6636ad1e1af004277fcfa319473
Close-Bug: #1659568
",git fetch https://review.opendev.org/openstack/cinder refs/changes/64/515564/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/development.environment.rst'],1,d33d976736172652e08ad3b52cfce1d37ddb88e8,bug/1659568,"On Ubuntu (tested on 14.04-64 and 16.04-64)::On Ubuntu16.04 (Python3 development):: sudo sudo cp /usr/bin/python /usr/bin/python_bak sudo rm /usr/bin/python sudo ln -s /usr/bin/python3.x /usr/bin/python sudo apt-get install python-dev libssl-dev python-pip git-core libmysqlclient-dev libpq-dev libffi-dev libxslt-dev On Fedora-based distributions e.g., Fedora/RHEL/CentOS/Scientific Linux (tested on CentOS 6.5 and CenOS 7.3)::","On Ubuntu (tested on 12.04-64 and 14.04-64)::On Fedora-based distributions e.g., Fedora/RHEL/CentOS/Scientific Linux (tested on CentOS 6.5)::",9,2
openstack%2Fcinder~master~Ibc8b1c5a967d05b3e52f992a1e76e74c9120e3f1,openstack/cinder,master,Ibc8b1c5a967d05b3e52f992a1e76e74c9120e3f1,Use total reserved quota value instead of partial,MERGED,2017-10-31 05:26:20.000000000,2018-02-25 14:35:16.000000000,2017-11-01 14:27:36.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24131}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25169}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-31 05:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ad795f9760de01448868c2a27bdaa600f5e109cf', 'message': 'Use total reserved quota value instead of partial\n\nWhile reserving snapshot we reserve gigabytes too. In case of\ngroup snapshot we reserve the total gigabytes but in case of an\nexception we print just the last volume gb info which needs to be\nchanged.\n\nChange-Id: Ibc8b1c5a967d05b3e52f992a1e76e74c9120e3f1\n'}, {'number': 2, 'created': '2017-10-31 05:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a7f6faa24e3dea06a9e6e19b7e202e2b59914f6a', 'message': 'Use total reserved quota value instead of partial\n\nWhile reserving snapshot we reserve gigabytes too. In case of\ngroup snapshot we reserve the total gigabytes but in case of an\nexception we print just the last volume gb info which needs to be\nchanged.\n\nChange-Id: Ibc8b1c5a967d05b3e52f992a1e76e74c9120e3f1\nCloses-Bug: 1728457\n'}, {'number': 3, 'created': '2017-10-31 18:18:17.000000000', 'files': ['cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ead1cee88b14de487537f528b0c5631407d320a0', 'message': 'Use total reserved quota value instead of partial\n\nWhile reserving snapshot we reserve gigabytes too. In case of\ngroup snapshot we reserve the total gigabytes but in case of an\nexception we print just the last volume gb info which needs to be\nchanged.\n\nChange-Id: Ibc8b1c5a967d05b3e52f992a1e76e74c9120e3f1\nCloses-Bug: 1728457\n'}]",1,516515,ead1cee88b14de487537f528b0c5631407d320a0,92,37,3,24131,,,0,"Use total reserved quota value instead of partial

While reserving snapshot we reserve gigabytes too. In case of
group snapshot we reserve the total gigabytes but in case of an
exception we print just the last volume gb info which needs to be
changed.

Change-Id: Ibc8b1c5a967d05b3e52f992a1e76e74c9120e3f1
Closes-Bug: 1728457
",git fetch https://review.opendev.org/openstack/cinder refs/changes/15/516515/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/api.py'],1,ad795f9760de01448868c2a27bdaa600f5e109cf,bug/1728457, size=total_reserve_opts[ 'gigabytes']), size=volume.size),2,1
openstack%2Fcinder~driverfixes%2Focata~I1f0adaa8e25cd3ec74084b22bbe1573b92713959,openstack/cinder,driverfixes/ocata,I1f0adaa8e25cd3ec74084b22bbe1573b92713959,Dell EMC PS: Optimize parsing of capacity info from backend,MERGED,2017-10-23 15:46:17.000000000,2018-02-25 14:34:59.000000000,2017-11-03 02:36:47.000000000,"[{'_account_id': 5997}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12112}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-10-23 15:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d97bbb97cdc17ce97b443271df67fa6119d509b9', 'message': 'Dell EMC PS: Optimize parsing of capacity info from backend\n\nThe backend api returns large amounts of information and\ntimes out when there are lots of volumes. Accelerated the\nprocess by terminating the parsing after the capacity info\nis retrieved.\n\nCloses Bug: #1661154\n\nChange-Id: I1f0adaa8e25cd3ec74084b22bbe1573b92713959\n(cherry picked from commit a9a0c2ee2e973d0594f2707d64846e882e179c94)\n'}, {'number': 2, 'created': '2017-10-24 19:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6e9294a91c2fbe342322840ce8d01db40269e819', 'message': 'Dell EMC PS: Optimize parsing of capacity info from backend\n\nThe backend api returns large amounts of information and\ntimes out when there are lots of volumes. Accelerated the\nprocess by terminating the parsing after the capacity info\nis retrieved.\n\nCloses Bug: #1661154\n\nChange-Id: I1f0adaa8e25cd3ec74084b22bbe1573b92713959\n(cherry picked from commit a9a0c2ee2e973d0594f2707d64846e882e179c94)\n'}, {'number': 3, 'created': '2017-10-30 14:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/93e855aee3f458db063e1aff93d28e04b3b87450', 'message': 'Dell EMC PS: Optimize parsing of capacity info from backend\n\nThe backend api returns large amounts of information and\ntimes out when there are lots of volumes. Accelerated the\nprocess by terminating the parsing after the capacity info\nis retrieved.\n\nCloses Bug: #1661154\n\nChange-Id: I1f0adaa8e25cd3ec74084b22bbe1573b92713959\n(cherry picked from commit a9a0c2ee2e973d0594f2707d64846e882e179c94)\n'}, {'number': 4, 'created': '2017-10-30 14:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5ce4fd319407ea26b08d9aed54400824ed058a80', 'message': 'Dell EMC PS: Optimize parsing of capacity info from backend\n\nThe backend api returns large amounts of information and\ntimes out when there are lots of volumes. Accelerated the\nprocess by terminating the parsing after the capacity info\nis retrieved.\n\nCloses Bug: #1661154\n\nChange-Id: I1f0adaa8e25cd3ec74084b22bbe1573b92713959\n(cherry picked from commit a9a0c2ee2e973d0594f2707d64846e882e179c94)\n'}, {'number': 5, 'created': '2017-10-30 16:58:03.000000000', 'files': ['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-optimize-parsing-8aa447c50f2474c7.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a0a74c30f0954627f77223ec36a4927751aaf8b', 'message': 'Dell EMC PS: Optimize parsing of capacity info from backend\n\nThe backend api returns large amounts of information and\ntimes out when there are lots of volumes. Accelerated the\nprocess by terminating the parsing after the capacity info\nis retrieved.\n\nCloses Bug: #1661154\n\nChange-Id: I1f0adaa8e25cd3ec74084b22bbe1573b92713959\n(cherry picked from commit a9a0c2ee2e973d0594f2707d64846e882e179c94)\n'}]",1,514364,9a0a74c30f0954627f77223ec36a4927751aaf8b,52,20,5,10379,,,0,"Dell EMC PS: Optimize parsing of capacity info from backend

The backend api returns large amounts of information and
times out when there are lots of volumes. Accelerated the
process by terminating the parsing after the capacity info
is retrieved.

Closes Bug: #1661154

Change-Id: I1f0adaa8e25cd3ec74084b22bbe1573b92713959
(cherry picked from commit a9a0c2ee2e973d0594f2707d64846e882e179c94)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/64/514364/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/ps.py', 'releasenotes/notes/ps-optimize-parsing-8aa447c50f2474c7.yaml']",2,d97bbb97cdc17ce97b443271df67fa6119d509b9,bug/1661154,--- fixes: - Dell EMC PS Series Driver code reporting volume stats is now optimized to return the information earlier and accelerate the process. This change fixes bug 1661154. ,,19,6
openstack%2Fcinder~master~Ib3dbc781ed4710c5c2453e4454421f23997c4402,openstack/cinder,master,Ib3dbc781ed4710c5c2453e4454421f23997c4402,DS8K: update replication_status in generic group APIs,MERGED,2017-10-30 09:08:55.000000000,2018-02-25 14:34:58.000000000,2017-11-29 01:11:48.000000000,"[{'_account_id': 170}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 13047}, {'_account_id': 14384}, {'_account_id': 14532}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26422}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-30 09:08:55.000000000', 'files': ['cinder/volume/drivers/ibm/ibm_storage/ds8k_proxy.py', 'cinder/tests/unit/volume/drivers/ibm/test_ds8k_proxy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/26633df36006b7ed6054d936290683afc035da95', 'message': 'DS8K: update replication_status in generic group APIs\n\nIn create_group and create_group_from_src, DS8K driver forgot to update\nreplication_status of group and its volumes if their type have enabled\nreplication, this patch tries to fix them.\n\nChange-Id: Ib3dbc781ed4710c5c2453e4454421f23997c4402\nCloses-Bug: 1727960\n'}]",0,516221,26633df36006b7ed6054d936290683afc035da95,56,40,1,26422,,,0,"DS8K: update replication_status in generic group APIs

In create_group and create_group_from_src, DS8K driver forgot to update
replication_status of group and its volumes if their type have enabled
replication, this patch tries to fix them.

Change-Id: Ib3dbc781ed4710c5c2453e4454421f23997c4402
Closes-Bug: 1727960
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/516221/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/ibm_storage/ds8k_proxy.py', 'cinder/tests/unit/volume/drivers/ibm/test_ds8k_proxy.py']",2,26633df36006b7ed6054d936290683afc035da95,bug/1727960," @ddt.data('group_replication_enabled', 'consistent_group_replication_enabled') def test_create_replication_group_update_replication_status(self, key): """"""create replication group should update replication_status."""""" self.configuration.lss_range_for_cg = '20-23' self.configuration.replication_device = [TEST_REPLICATION_DEVICE] self.driver = FakeDS8KProxy(self.storage_info, self.logger, self.exception, self) self.driver.setup(self.ctxt) group_type = group_types.create(self.ctxt, 'group', {key: '<is> True'}) group = self._create_group(host=TEST_GROUP_HOST, group_type_id=group_type.id) model_update = self.driver.create_group(self.ctxt, group) self.assertEqual(fields.GroupStatus.AVAILABLE, model_update['status']) self.assertEqual(fields.ReplicationStatus.ENABLED, model_update['replication_status']) data = json.dumps( {TEST_TARGET_DS8K_IP: {'vol_hex_id': TEST_VOLUME_ID}}) data = json.dumps( {TEST_TARGET_DS8K_IP: {'vol_hex_id': TEST_VOLUME_ID}}) self.assertEqual(fields.GroupStatus.AVAILABLE, model_update['status']) self.assertEqual(fields.GroupStatus.AVAILABLE, model_update['status']) @mock.patch.object(eventlet, 'sleep') @mock.patch.object(helper.DS8KCommonHelper, 'get_flashcopy') def test_create_group_from_replication_group(self, mock_get_flashcopy, mock_sleep): """"""create group from replication group."""""" data = json.dumps( {TEST_TARGET_DS8K_IP: {'vol_hex_id': TEST_VOLUME_ID}}) mock_get_flashcopy.side_effect = [[TEST_FLASHCOPY], {}] model_update, volumes_model_update = self.driver.create_group_from_src( self.ctxt, group, [volume], None, None, src_group, [src_volume]) self.assertEqual(fields.GroupStatus.AVAILABLE, model_update['status']) self.assertEqual(fields.ReplicationStatus.ENABLED, model_update['replication_status'])"," data = json.dumps({'vol_hex_id': TEST_VOLUME_ID}) data = json.dumps({'vol_hex_id': TEST_VOLUME_ID}) self.assertEqual(fields.GroupStatus.AVAILABLE, model_update['status']) self.assertEqual(fields.GroupStatus.AVAILABLE, model_update['status']) def test_create_group_from_generic_group(self): """"""create group from generic group is not implemented."""""" data = json.dumps({'vol_hex_id': TEST_VOLUME_ID}) self.assertRaises(NotImplementedError, self.driver.create_group_from_src, self.ctxt, group, [volume], None, None, src_group, [src_volume])",61,25
openstack%2Fcinder~driverfixes%2Fnewton~Id5122dd9be973000831598fddc9e6f084ec2b7db,openstack/cinder,driverfixes/newton,Id5122dd9be973000831598fddc9e6f084ec2b7db,Fix a compatibility issue after Huawei driver upgrade,MERGED,2017-09-07 01:05:52.000000000,2018-02-25 14:34:53.000000000,2017-10-28 14:10:13.000000000,"[{'_account_id': 3}, {'_account_id': 9535}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 16203}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-09-07 01:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/72dcea2e4cd80b304e77335d82a1c770958702f0', 'message': ""Fix an compatibility issue after Huawei driver upgrade\n\nPreviously Huawei driver changed the storing place for it's private\ndata, if upgrade to this new version driver, and there's already an\nexisting volume created by old driver, there's a compatibility issue\nof getting hypermetro_id property, which will result deleting volume\nfailed while there's no hypermetro configuration exist.\n\nThis patch fixes this issue.\n\nChange-Id: Id5122dd9be973000831598fddc9e6f084ec2b7db\n(cherry picked from commit 083dfbbc8109924786ecc9f0c96559aa22041d4f)\n""}, {'number': 2, 'created': '2017-09-08 06:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/369224891f936b06b3fa03928108dfc6f903980c', 'message': ""Fix a compatibility issue after Huawei driver upgrade\n\nPreviously Huawei driver changed the storing place for it's private\ndata, if upgrade to this new version driver, and there's already an\nexisting volume created by old driver, there's a compatibility issue\nof getting hypermetro_id property, which will result deleting volume\nfailed while there's no hypermetro configuration exist.\n\nThis patch fixes this issue.\n\nChange-Id: Id5122dd9be973000831598fddc9e6f084ec2b7db\n(cherry picked from commit 083dfbbc8109924786ecc9f0c96559aa22041d4f)\n""}, {'number': 3, 'created': '2017-10-28 01:32:37.000000000', 'files': ['cinder/volume/drivers/huawei/huawei_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6c5bb4ddda01d0f563609ad878dfe1499635770c', 'message': ""Fix a compatibility issue after Huawei driver upgrade\n\nPreviously Huawei driver changed the storing place for it's private\ndata, if upgrade to this new version driver, and there's already an\nexisting volume created by old driver, there's a compatibility issue\nof getting hypermetro_id property, which will result deleting volume\nfailed while there's no hypermetro configuration exist.\n\nThis patch fixes this issue.\n\nChange-Id: Id5122dd9be973000831598fddc9e6f084ec2b7db\n(cherry picked from commit 083dfbbc8109924786ecc9f0c96559aa22041d4f)\n(cherry picked from commit 96d6dae34f7f4696553928ac30b50f9d44e944f3)\n(cherry picked from commit 18814a478d348acc65503ca1a6d31a07a63dbbb0)\n""}]",1,501503,6c5bb4ddda01d0f563609ad878dfe1499635770c,47,20,3,16203,,,0,"Fix a compatibility issue after Huawei driver upgrade

Previously Huawei driver changed the storing place for it's private
data, if upgrade to this new version driver, and there's already an
existing volume created by old driver, there's a compatibility issue
of getting hypermetro_id property, which will result deleting volume
failed while there's no hypermetro configuration exist.

This patch fixes this issue.

Change-Id: Id5122dd9be973000831598fddc9e6f084ec2b7db
(cherry picked from commit 083dfbbc8109924786ecc9f0c96559aa22041d4f)
(cherry picked from commit 96d6dae34f7f4696553928ac30b50f9d44e944f3)
(cherry picked from commit 18814a478d348acc65503ca1a6d31a07a63dbbb0)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/03/501503/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/huawei/huawei_driver.py'],1,72dcea2e4cd80b304e77335d82a1c770958702f0,backport-compatibility-issue-fix-to-N, if metadata.get('hypermetro_id'): hypermetro_lun = metadata.get('hypermetro_id') is not None if metadata.get('hypermetro_id'):, if 'hypermetro_id' in metadata: hypermetro_lun = 'hypermetro_id' in metadata if 'hypermetro_id' in metadata:,3,3
openstack%2Fcinder~stable%2Fpike~I5b31082296f5bff5089d0f42a62d44bb009d177d,openstack/cinder,stable/pike,I5b31082296f5bff5089d0f42a62d44bb009d177d,Move 'zoning_mode' back to DEFAULT section,MERGED,2017-10-24 08:09:03.000000000,2018-02-25 14:34:51.000000000,2017-10-27 05:11:39.000000000,"[{'_account_id': 7198}, {'_account_id': 11600}, {'_account_id': 11904}, {'_account_id': 15831}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22664}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 24952}, {'_account_id': 25243}, {'_account_id': 26379}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-24 08:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a29c036f71d2d3b183141ea6161816b89775c5a3', 'message': ""Move 'zoning_mode' back to DEFAULT section\n\nWe moved 'zoning_mode' option to 'backend_defaults'\nsection since patch: [1]. But it has two issues:\n\n1. It can not work because we still fetch the value\nfrom the default section [2].\n2. From the view of our current design. It's only\nused in our framework code, which means it still can\nnot work if we overwrite the default value in one\nspecific backend section, such as:\n\n[backend_defaults]\nzoning_mode=fabric\n[lvmbackend_1]\nzoning_mode=other_value\n\nMove this option back to DEFAULT section until we\nneed to.\n\nCloses-Bug: #1724418\n\n[1]: https://review.openstack.org/#/c/453654/\n[2]: https://github.com/openstack/cinder/blob/master/cinder/zonemanager/utils.py#L56\n\nChange-Id: I5b31082296f5bff5089d0f42a62d44bb009d177d\n""}, {'number': 2, 'created': '2017-10-25 17:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b7e45618343b191a5964a0bcff4e55f3ac9d682e', 'message': ""Move 'zoning_mode' back to DEFAULT section\n\nWe moved 'zoning_mode' option to 'backend_defaults'\nsection since patch: [1]. But it has two issues:\n\n1. It can not work because we still fetch the value\nfrom the default section [2].\n2. From the view of our current design. It's only\nused in our framework code, which means it still can\nnot work if we overwrite the default value in one\nspecific backend section, such as:\n\n[backend_defaults]\nzoning_mode=fabric\n[lvmbackend_1]\nzoning_mode=other_value\n\nMove this option back to DEFAULT section until we\nneed to.\n\nCloses-Bug: #1724418\n\n[1]: https://review.openstack.org/#/c/453654/\n[2]: https://github.com/openstack/cinder/blob/master/cinder/zonemanager/utils.py#L56\n\nChange-Id: I5b31082296f5bff5089d0f42a62d44bb009d177d\n""}, {'number': 3, 'created': '2017-10-26 11:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d2d32c72ce0e15a583a5d4981721ac49ae6aa64d', 'message': ""Move 'zoning_mode' back to DEFAULT section\n\nWe moved 'zoning_mode' option to 'backend_defaults'\nsection since patch: [1]. But it has two issues:\n\n1. It can not work because we still fetch the value\nfrom the default section [2].\n2. From the view of our current design. It's only\nused in our framework code, which means it still can\nnot work if we overwrite the default value in one\nspecific backend section, such as:\n\n[backend_defaults]\nzoning_mode=fabric\n[lvmbackend_1]\nzoning_mode=other_value\n\nMove this option back to DEFAULT section until we\nneed to.\n\nCloses-Bug: #1724418\n(cherry picked from commit 34287e3fa351db5e5b00cd0cf1affac07d9e6d34)\n\n[1]: https://review.openstack.org/#/c/453654/\n[2]: https://github.com/openstack/cinder/blob/master/cinder/zonemanager/utils.py#L56\n\nChange-Id: I5b31082296f5bff5089d0f42a62d44bb009d177d\n""}, {'number': 4, 'created': '2017-10-26 17:54:20.000000000', 'files': ['cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/85a963a5c68a12efe7a7251689028e0b2bd398a9', 'message': ""Move 'zoning_mode' back to DEFAULT section\n\nWe moved 'zoning_mode' option to 'backend_defaults'\nsection since patch: [1]. But it has two issues:\n\n1. It can not work because we still fetch the value\nfrom the default section [2].\n2. From the view of our current design. It's only\nused in our framework code, which means it still can\nnot work if we overwrite the default value in one\nspecific backend section, such as:\n\n[backend_defaults]\nzoning_mode=fabric\n[lvmbackend_1]\nzoning_mode=other_value\n\nMove this option back to DEFAULT section until we\nneed to.\n\nCloses-Bug: #1724418\n\n[1]: https://review.openstack.org/#/c/453654/\n[2]: https://github.com/openstack/cinder/blob/master/cinder/zonemanager/utils.py#L56\n\nChange-Id: I5b31082296f5bff5089d0f42a62d44bb009d177d\n(cherry picked from commit 34287e3fa351db5e5b00cd0cf1affac07d9e6d34)\n""}]",0,514555,85a963a5c68a12efe7a7251689028e0b2bd398a9,68,22,4,24952,,,0,"Move 'zoning_mode' back to DEFAULT section

We moved 'zoning_mode' option to 'backend_defaults'
section since patch: [1]. But it has two issues:

1. It can not work because we still fetch the value
from the default section [2].
2. From the view of our current design. It's only
used in our framework code, which means it still can
not work if we overwrite the default value in one
specific backend section, such as:

[backend_defaults]
zoning_mode=fabric
[lvmbackend_1]
zoning_mode=other_value

Move this option back to DEFAULT section until we
need to.

Closes-Bug: #1724418

[1]: https://review.openstack.org/#/c/453654/
[2]: https://github.com/openstack/cinder/blob/master/cinder/zonemanager/utils.py#L56

Change-Id: I5b31082296f5bff5089d0f42a62d44bb009d177d
(cherry picked from commit 34287e3fa351db5e5b00cd0cf1affac07d9e6d34)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/55/514555/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,a29c036f71d2d3b183141ea6161816b89775c5a3,feature/fix-fz-bug," cfg.StrOpt('zoning_mode', help=""FC Zoning mode configured, only 'fabric' is "" ""supported now.""),"," cfg.StrOpt('zoning_mode', help='FC Zoning mode configured'),",3,2
openstack%2Fcinder~driverfixes%2Fnewton~Iee27c0368522c90525a4b8ad757f9fb89dc293a0,openstack/cinder,driverfixes/newton,Iee27c0368522c90525a4b8ad757f9fb89dc293a0,Fix a migration issue of Huawei driver,MERGED,2017-10-26 06:20:53.000000000,2018-02-25 14:34:45.000000000,2017-10-28 14:10:11.000000000,"[{'_account_id': 11904}, {'_account_id': 15831}, {'_account_id': 17565}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-10-26 06:20:53.000000000', 'files': ['cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/huawei_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/83307e743b07928306b2a22fb0033289c08a59f4', 'message': ""Fix a migration issue of Huawei driver\n\nWhile migrating volume crossing backends by the host-based way,\nafter data copying is done, Huawei driver's update_migrated_volume\nmethod doesn't return the provider_location property, which\nresults old and new volumes' provider_locations aren't swapped as\nexpected, afterwards, while deleting the old volume, new volume's\nprovider_location will be used and the if-volume-exist-check fails\nbecause it verifies the new volume's LUN ID actually on the old\nbackend, which certainly doesn't exist.\n\nThis patch fixes this issue.\n\nChange-Id: Iee27c0368522c90525a4b8ad757f9fb89dc293a0\n(cherry picked from commit 011daa9b463043a15f9e97986ecce6233ac72de5)\n(cherry picked from commit f811487fca78d934b19baeb3e8aba3439d7e9db2)\n""}]",0,515287,83307e743b07928306b2a22fb0033289c08a59f4,17,13,1,16203,,,0,"Fix a migration issue of Huawei driver

While migrating volume crossing backends by the host-based way,
after data copying is done, Huawei driver's update_migrated_volume
method doesn't return the provider_location property, which
results old and new volumes' provider_locations aren't swapped as
expected, afterwards, while deleting the old volume, new volume's
provider_location will be used and the if-volume-exist-check fails
because it verifies the new volume's LUN ID actually on the old
backend, which certainly doesn't exist.

This patch fixes this issue.

Change-Id: Iee27c0368522c90525a4b8ad757f9fb89dc293a0
(cherry picked from commit 011daa9b463043a15f9e97986ecce6233ac72de5)
(cherry picked from commit f811487fca78d934b19baeb3e8aba3439d7e9db2)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/87/515287/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/huawei_driver.py']",2,83307e743b07928306b2a22fb0033289c08a59f4,backport-migration-issue-to-N," new_metadata = huawei_utils.get_lun_metadata(new_volume) model_update = { 'provider_location': huawei_utils.to_string(**new_metadata), } model_update['_name_id'] = new_volume.name_id else: LOG.debug(""Renamed lun %(id)s to %(name)s successfully."", {'id': new_lun_id, 'name': orig_lun_name}) model_update['_name_id'] = None"," return {'_name_id': new_volume.name_id} LOG.debug(""Renamed lun %(id)s to %(name)s successfully."", {'id': new_lun_id, 'name': orig_lun_name}) model_update = {'_name_id': None}",17,12
openstack%2Fcinder~master~Ib255407f9bf384935b232e8aa3941c22e91eefef,openstack/cinder,master,Ib255407f9bf384935b232e8aa3941c22e91eefef,Dell EMC: Update PS and SC CI wiki names,MERGED,2017-10-25 18:16:41.000000000,2018-02-25 14:34:43.000000000,2017-10-27 02:49:15.000000000,"[{'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12112}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-10-25 18:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1eb0be105fd86eb1f307f79551a52d896c076abf', 'message': 'Dell EMC: Update PS and SC CI wiki names\n\nUpdated the new thridparty CI systems wiki names\n\nChange-Id: Ib255407f9bf384935b232e8aa3941c22e91eefef\n'}, {'number': 2, 'created': '2017-10-25 18:26:30.000000000', 'files': ['cinder/volume/drivers/dell_emc/ps.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_iscsi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8f8b7ee8b139c5c8d2c2cdcf344b3125bba1e842', 'message': 'Dell EMC: Update PS and SC CI wiki names\n\nUpdated the new thrid party CI systems wiki names\n\nChange-Id: Ib255407f9bf384935b232e8aa3941c22e91eefef\n'}]",3,515159,8f8b7ee8b139c5c8d2c2cdcf344b3125bba1e842,56,36,2,10379,,,0,"Dell EMC: Update PS and SC CI wiki names

Updated the new thrid party CI systems wiki names

Change-Id: Ib255407f9bf384935b232e8aa3941c22e91eefef
",git fetch https://review.opendev.org/openstack/cinder refs/changes/59/515159/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/ps.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_iscsi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_fc.py']",3,1eb0be105fd86eb1f307f79551a52d896c076abf,DellSCPS_ciwiki," CI_WIKI_NAME = ""Dell_EMC_SC_Series_CI"""," CI_WIKI_NAME = ""Dell_Storage_CI""",3,3
openstack%2Fcinder~stable%2Fpike~I945300cac84658bbd25182ba615645af881920f8,openstack/cinder,stable/pike,I945300cac84658bbd25182ba615645af881920f8,ScaleIO Driver - include snap usage in provisioned capacity,MERGED,2017-10-24 23:25:12.000000000,2018-02-25 14:34:38.000000000,2017-10-30 22:35:04.000000000,"[{'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 17565}, {'_account_id': 19004}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25033}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-24 23:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/00f697cb965169b738c56e1892858cd94bdfb3ba', 'message': 'ScaleIO Driver - include snap usage in provisioned capacity\n\nProvisioned capacity of storage pools was not correctly accounting\nfor space used by snapshots.\n\nChange-Id: I945300cac84658bbd25182ba615645af881920f8\nCloses-Bug: #1724929\n(cherry picked from commit 64180530c14e1d0829788eda1ccb0efc938fbd8e)\n'}, {'number': 2, 'created': '2017-10-25 15:59:59.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/scaleio/test_misc.py', 'cinder/volume/drivers/dell_emc/scaleio/driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a36d041c2afa2549f50e7674a054d096af10b9f1', 'message': 'ScaleIO Driver - include snap usage in provisioned capacity\n\nProvisioned capacity of storage pools was not correctly accounting\nfor space used by snapshots.\n\nChange-Id: I945300cac84658bbd25182ba615645af881920f8\nCloses-Bug: #1724929\n(cherry picked from commit 64180530c14e1d0829788eda1ccb0efc938fbd8e)\n'}]",0,514860,a36d041c2afa2549f50e7674a054d096af10b9f1,29,17,2,25033,,,0,"ScaleIO Driver - include snap usage in provisioned capacity

Provisioned capacity of storage pools was not correctly accounting
for space used by snapshots.

Change-Id: I945300cac84658bbd25182ba615645af881920f8
Closes-Bug: #1724929
(cherry picked from commit 64180530c14e1d0829788eda1ccb0efc938fbd8e)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/60/514860/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/scaleio/test_misc.py', 'cinder/volume/drivers/dell_emc/scaleio/driver.py']",2,00f697cb965169b738c56e1892858cd94bdfb3ba,bug/1724929," ""snapCapacityInUseInKb"", res['snapCapacityInUseInKb'] +",,4,0
openstack%2Fcinder~driverfixes%2Focata~I81dc6f1ac5855b21c10572797fd45a6b38641112,openstack/cinder,driverfixes/ocata,I81dc6f1ac5855b21c10572797fd45a6b38641112,"Revert ""Tests: Fail if oslo.versionedobjects issues Invalid UUID warnings""",MERGED,2017-10-25 15:40:56.000000000,2018-02-25 14:34:37.000000000,2017-10-26 02:41:21.000000000,"[{'_account_id': 7198}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 15831}, {'_account_id': 17565}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 25033}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-10-25 15:40:56.000000000', 'files': ['cinder/test.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a4d87d68013f8c56684ec3e315da89d658a23386', 'message': 'Revert ""Tests: Fail if oslo.versionedobjects issues Invalid UUID warnings""\n\nThis is currently causing unit test failures since\npymysql _show_warnings calls\n    warnings.warn(err.Warning(*w[1:3]), stacklevel=4)\nand this code assumes that the warnings are strings.\n\nThis reverts commit ed6d50bed642b01d005563866ab9f211632cff5b.\n\nChange-Id: I81dc6f1ac5855b21c10572797fd45a6b38641112\n(cherry picked from commit cc6c5b10867544ec0e2cbc73802ec8ee6213bc7a)\n'}]",0,515111,a4d87d68013f8c56684ec3e315da89d658a23386,18,13,1,4523,,,0,"Revert ""Tests: Fail if oslo.versionedobjects issues Invalid UUID warnings""

This is currently causing unit test failures since
pymysql _show_warnings calls
    warnings.warn(err.Warning(*w[1:3]), stacklevel=4)
and this code assumes that the warnings are strings.

This reverts commit ed6d50bed642b01d005563866ab9f211632cff5b.

Change-Id: I81dc6f1ac5855b21c10572797fd45a6b38641112
(cherry picked from commit cc6c5b10867544ec0e2cbc73802ec8ee6213bc7a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/11/515111/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/test.py'],1,a4d87d68013f8c56684ec3e315da89d658a23386,,," self._disallow_invalid_uuids() def _disallow_invalid_uuids(self): def catch_uuid_warning(message, *args, **kwargs): ovo_message = ""invalid UUID. Using UUIDFields with invalid UUIDs "" \ ""is no longer supported"" if ovo_message in message: raise AssertionError(message) p = mock.patch(""warnings.warn"", side_effect=catch_uuid_warning) p.start() ",0,12
openstack%2Fcinder~master~I17537742a4c1421f2bd0561d2c48c5ae56d89026,openstack/cinder,master,I17537742a4c1421f2bd0561d2c48c5ae56d89026,Remove doc/build before running docs job,MERGED,2017-10-17 06:58:02.000000000,2018-02-25 14:34:35.000000000,2017-10-27 00:19:44.000000000,"[{'_account_id': 5997}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25456}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}]","[{'number': 1, 'created': '2017-10-17 06:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e709a4aa5afbe0a0c9aa2b5777d537d3af1ef49b', 'message': 'Remove duplicate build_sphinx command for api-ref\n\nSince we have api-ref job available in tox, there is no need to add\nbuild_sphinx command for api-ref in docs job again. This patch is to\nremove duplicate build_sphinx command for api-ref in docs job.\n\nIn addition, remove doc/build directory in docs job.\n\nChange-Id: I17537742a4c1421f2bd0561d2c48c5ae56d89026\n'}, {'number': 2, 'created': '2017-10-25 06:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/85908a8e30f91f8bb914cd447b86254100c88e52', 'message': 'Remove doc/build before running docs job\n\nClear doc/build directory before running docs job may better guarantee\neach building output the newest docs.\n\nChange-Id: I17537742a4c1421f2bd0561d2c48c5ae56d89026\n'}, {'number': 3, 'created': '2017-10-25 08:21:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b7048784b1bb152e69ab195dfa76c1e7a376b1f7', 'message': 'Remove doc/build before running docs job\n\nClear doc/build directory before running docs job may better guarantee\neach building output the newest docs.\n\nChange-Id: I17537742a4c1421f2bd0561d2c48c5ae56d89026\n'}]",2,512507,b7048784b1bb152e69ab195dfa76c1e7a376b1f7,56,27,3,25456,,,0,"Remove doc/build before running docs job

Clear doc/build directory before running docs job may better guarantee
each building output the newest docs.

Change-Id: I17537742a4c1421f2bd0561d2c48c5ae56d89026
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/512507/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e709a4aa5afbe0a0c9aa2b5777d537d3af1ef49b,remove-builds, rm -rf doc/build, rm -rf api-ref/build sphinx-build -W -b html -d api-ref/build/doctrees api-ref/source api-ref/build/html/,1,2
openstack%2Fcinder~master~I81dc6f1ac5855b21c10572797fd45a6b38641112,openstack/cinder,master,I81dc6f1ac5855b21c10572797fd45a6b38641112,"Revert ""Tests: Fail if oslo.versionedobjects issues Invalid UUID warnings""",MERGED,2017-10-23 19:46:33.000000000,2018-02-25 14:34:14.000000000,2017-10-24 14:19:46.000000000,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12898}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}]","[{'number': 1, 'created': '2017-10-23 19:46:33.000000000', 'files': ['cinder/test.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cc6c5b10867544ec0e2cbc73802ec8ee6213bc7a', 'message': 'Revert ""Tests: Fail if oslo.versionedobjects issues Invalid UUID warnings""\n\nThis is currently causing unit test failures since\npymysql _show_warnings calls\n    warnings.warn(err.Warning(*w[1:3]), stacklevel=4)\nand this code assumes that the warnings are strings.\n\nThis reverts commit ed6d50bed642b01d005563866ab9f211632cff5b.\n\nChange-Id: I81dc6f1ac5855b21c10572797fd45a6b38641112\n'}]",0,514442,cc6c5b10867544ec0e2cbc73802ec8ee6213bc7a,37,29,1,4523,,,0,"Revert ""Tests: Fail if oslo.versionedobjects issues Invalid UUID warnings""

This is currently causing unit test failures since
pymysql _show_warnings calls
    warnings.warn(err.Warning(*w[1:3]), stacklevel=4)
and this code assumes that the warnings are strings.

This reverts commit ed6d50bed642b01d005563866ab9f211632cff5b.

Change-Id: I81dc6f1ac5855b21c10572797fd45a6b38641112
",git fetch https://review.opendev.org/openstack/cinder refs/changes/42/514442/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/test.py'],1,cc6c5b10867544ec0e2cbc73802ec8ee6213bc7a,,," self._disallow_invalid_uuids() def _disallow_invalid_uuids(self): def catch_uuid_warning(message, *args, **kwargs): ovo_message = ""invalid UUID. Using UUIDFields with invalid UUIDs "" \ ""is no longer supported"" if ovo_message in message: raise AssertionError(message) p = mock.patch(""warnings.warn"", side_effect=catch_uuid_warning) p.start() ",0,12
openstack%2Fcinder~master~I862ec2d06c169562aa8bbc95ab202cd5eb88440d,openstack/cinder,master,I862ec2d06c169562aa8bbc95ab202cd5eb88440d,INFINIDAT: add support for overprovisioning,MERGED,2017-09-05 12:05:28.000000000,2018-02-25 14:33:42.000000000,2017-10-26 14:37:03.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13167}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22683}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-05 12:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a5d94a76bbe487c0d41b08bb49b887c9013949d0', 'message': 'INFINIDAT: add support for overprovisioning\n\nThe driver reports max_over_subscription_ratio as defined by the user\nin the cinder configuration file, in addition to whether the volumes\nare thin-provisioned or not. This allows overprovisioning in\nthin-provisioned volumes in InfiniBox.\n\nChange-Id: I862ec2d06c169562aa8bbc95ab202cd5eb88440d\n'}, {'number': 2, 'created': '2017-09-06 08:44:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d402b9d4a2f6d31e780108b91bcc24dab1d4bd3f', 'message': 'INFINIDAT: add support for overprovisioning\n\nThe driver reports max_over_subscription_ratio as defined by the user\nin the cinder configuration file, in addition to whether the volumes\nare thin-provisioned or not. This allows overprovisioning in\nthin-provisioned volumes in InfiniBox.\n\nChange-Id: I862ec2d06c169562aa8bbc95ab202cd5eb88440d\n'}, {'number': 3, 'created': '2017-09-06 11:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7a3418b186b22f43d058c3343c3b781ac64fce82', 'message': 'INFINIDAT: add support for overprovisioning\n\nThe driver reports max_over_subscription_ratio as defined by the user\nin the cinder configuration file, in addition to whether the volumes\nare thin-provisioned or not. This allows overprovisioning in\nthin-provisioned volumes in InfiniBox.\n\nChange-Id: I862ec2d06c169562aa8bbc95ab202cd5eb88440d\n'}, {'number': 4, 'created': '2017-10-19 15:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/60b6413b8c87e21d63f24676f10123089b09579d', 'message': 'INFINIDAT: add support for overprovisioning\n\nThe driver reports max_over_subscription_ratio as defined by the user\nin the cinder configuration file, in addition to whether the volumes\nare thin-provisioned or not. This allows overprovisioning in\nthin-provisioned volumes in InfiniBox.\n\nChange-Id: I862ec2d06c169562aa8bbc95ab202cd5eb88440d\n'}, {'number': 5, 'created': '2017-10-21 13:48:48.000000000', 'files': ['releasenotes/notes/infinidat-max-osr-2d9fd2d0f9424657.yaml', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/88080cb45c1aaadae3aa284384ce595ff4a9a067', 'message': 'INFINIDAT: add support for overprovisioning\n\nThe driver reports max_over_subscription_ratio as defined by the user\nin the cinder configuration file, in addition to whether the volumes\nare thin-provisioned or not. This allows overprovisioning in\nthin-provisioned volumes in InfiniBox.\n\nChange-Id: I862ec2d06c169562aa8bbc95ab202cd5eb88440d\n'}]",2,500783,88080cb45c1aaadae3aa284384ce595ff4a9a067,168,44,5,22683,,,0,"INFINIDAT: add support for overprovisioning

The driver reports max_over_subscription_ratio as defined by the user
in the cinder configuration file, in addition to whether the volumes
are thin-provisioned or not. This allows overprovisioning in
thin-provisioned volumes in InfiniBox.

Change-Id: I862ec2d06c169562aa8bbc95ab202cd5eb88440d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/83/500783/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/infinidat-max-osr-2d9fd2d0f9424657.yaml', 'cinder/volume/drivers/infinidat.py']",2,a5d94a76bbe487c0d41b08bb49b887c9013949d0,infinidat," max_osr = self.configuration.max_over_subscription_ratio thin = self.configuration.san_thin_provision QoS_support=qos_support, thin_provisioning_support=thin, thick_provisioning_support=not thin, max_over_subscription_ratio=max_osr)", QoS_support=qos_support),11,1
openstack%2Fcinder~master~I597971a29ec61a1bf8c991b2715ec7644b2e2692,openstack/cinder,master,I597971a29ec61a1bf8c991b2715ec7644b2e2692,Add policy documentation and sample file,MERGED,2017-10-16 07:01:43.000000000,2018-02-25 14:33:41.000000000,2017-10-26 05:54:09.000000000,"[{'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19930}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-16 07:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/05a7b6c8794ba56e91b805f37c4627c521bc2e54', 'message': 'Add policy documentation and sample file\n\nThis patch adds documentation and sample\nfile for default policy in code feature.\n\nChange-Id: I597971a29ec61a1bf8c991b2715ec7644b2e2692\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 2, 'created': '2017-10-18 01:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/196f2b0ff9b1bef65f919f2c59aa752bdafae30d', 'message': 'Add policy documentation and sample file\n\nThis patch adds documentation and sample\nfile for default policy in code feature.\n\nChange-Id: I597971a29ec61a1bf8c991b2715ec7644b2e2692\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 3, 'created': '2017-10-18 02:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1de7b45039d2d3e04b8ae25c0d16c3948e757823', 'message': 'Add policy documentation and sample file\n\nThis patch adds documentation and sample\nfile for default policy in code feature.\n\nChange-Id: I597971a29ec61a1bf8c991b2715ec7644b2e2692\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 4, 'created': '2017-10-19 10:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ba823b7483d5f387d93585f98017aec2ce460d9a', 'message': 'Add policy documentation and sample file\n\nThis patch adds documentation and sample\nfile for default policy in code feature.\n\nChange-Id: I597971a29ec61a1bf8c991b2715ec7644b2e2692\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 5, 'created': '2017-10-20 02:49:57.000000000', 'files': ['cinder/policies/volume_type.py', 'cinder/policies/workers.py', 'cinder/policies/messages.py', 'doc/source/sample_policy.rst', 'doc/source/conf.py', 'doc/source/configuration/block-storage/policy.rst', 'doc/source/configuration/index.rst', 'tools/config/cinder-policy-generator.conf', 'doc/source/index.rst', 'cinder/policies/clusters.py', 'cinder/policies/attachments.py', 'cinder/policies/manageable_volumes.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/988f79479e012ea5378f4c154a041f6000785a43', 'message': 'Add policy documentation and sample file\n\nThis patch adds documentation and sample\nfile for default policy in code feature.\n\nChange-Id: I597971a29ec61a1bf8c991b2715ec7644b2e2692\nPartial-Implements: blueprint policy-in-code\n'}]",6,512187,988f79479e012ea5378f4c154a041f6000785a43,89,31,5,23083,,,0,"Add policy documentation and sample file

This patch adds documentation and sample
file for default policy in code feature.

Change-Id: I597971a29ec61a1bf8c991b2715ec7644b2e2692
Partial-Implements: blueprint policy-in-code
",git fetch https://review.opendev.org/openstack/cinder refs/changes/87/512187/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/index.rst', 'doc/source/index.rst', 'doc/source/sample_policy.rst', 'doc/source/conf.py', 'doc/source/configuration/block-storage/policy.rst']",5,05a7b6c8794ba56e91b805f37c4627c521bc2e54,bp/policy-in-code,==================== Policy configuration ==================== Configuration ~~~~~~~~~~~~~ The following is an overview of all available policies in Cinder. .. show-policy:: :config-file: etc/cinder/cinder-policy-generator.conf ,,33,0
openstack%2Fcinder~stable%2Fpike~I4c154b15991fd624d91bd3e3472d25c714fb8525,openstack/cinder,stable/pike,I4c154b15991fd624d91bd3e3472d25c714fb8525,DS8000 ConsistencyGroup failed to update group with volumes,MERGED,2017-10-19 10:55:08.000000000,2018-02-25 14:33:39.000000000,2017-10-29 23:08:51.000000000,"[{'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 14532}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 24815}, {'_account_id': 25677}]","[{'number': 1, 'created': '2017-10-19 10:55:08.000000000', 'files': ['cinder/volume/drivers/ibm/ibm_storage/ds8k_proxy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/388fb6b87dbfdabfc090622fc128cbc1275f1c52', 'message': 'DS8000 ConsistencyGroup failed to update group with volumes\n\nWhile adding a volume to ConsistencyGroup the failed with TypeError: sequence\nitem 0: expected string, tuple found.  This could have happened if the driver\ndid not find the specified LSS pairs matching that of the available volume\npools.  The driver intended to throw an error message with available_lss_pairs\nbut failed to concatinate the data to the error message with TypeError\nexception.\n\nThe proposed fix attempts to address this issue by simplifying the\nconcat of available_lss_pairs as string and then adding to error message.\n\nCloses-bug: #1722769\n\nChange-Id: I4c154b15991fd624d91bd3e3472d25c714fb8525\n(cherry picked from commit 75a1849c9854cd5f8d366de6087e50eff9b595e4)\n'}]",0,513350,388fb6b87dbfdabfc090622fc128cbc1275f1c52,18,13,1,20050,,,0,"DS8000 ConsistencyGroup failed to update group with volumes

While adding a volume to ConsistencyGroup the failed with TypeError: sequence
item 0: expected string, tuple found.  This could have happened if the driver
did not find the specified LSS pairs matching that of the available volume
pools.  The driver intended to throw an error message with available_lss_pairs
but failed to concatinate the data to the error message with TypeError
exception.

The proposed fix attempts to address this issue by simplifying the
concat of available_lss_pairs as string and then adding to error message.

Closes-bug: #1722769

Change-Id: I4c154b15991fd624d91bd3e3472d25c714fb8525
(cherry picked from commit 75a1849c9854cd5f8d366de6087e50eff9b595e4)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/50/513350/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/ibm_storage/ds8k_proxy.py'],1,388fb6b87dbfdabfc090622fc128cbc1275f1c52,bug/1722769-stable/pike, % available_lss_pairs))," % ','.join(available_lss_pairs)))",1,1
openstack%2Fcinder~master~I149a9de82fc1003b88e0c0852a0b64634f0c622e,openstack/cinder,master,I149a9de82fc1003b88e0c0852a0b64634f0c622e,"Add index for reservations on (deleted, uuid)",MERGED,2016-02-02 07:34:19.000000000,2018-02-25 14:33:38.000000000,2017-10-18 22:10:03.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11600}, {'_account_id': 11676}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12491}, {'_account_id': 12540}, {'_account_id': 12778}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15374}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16660}, {'_account_id': 16834}, {'_account_id': 16862}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16941}, {'_account_id': 17565}, {'_account_id': 17852}, {'_account_id': 18120}, {'_account_id': 18402}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19917}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2016-02-02 07:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/01eb47687d0437507e36be25b4c470fe228a311a', 'message': 'Add index for reservations on (deleted, uuid)\n\nThe query for uuid_reservations currently does a full table scan.\nThis adds an index so frequent invocations of uuid does not bog\ndown the database.\n\nChange-Id: I149a9de82fc1003b88e0c0852a0b64634f0c622e\nCloses-Bug: #1540750\n'}, {'number': 2, 'created': '2017-09-25 20:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a6015ccdd916f3df29647bcbc5e936fa7a77f819', 'message': 'Add index for reservations on (deleted, uuid)\n\nThe query for uuid_reservations currently does a full table scan.\nThis adds an index so frequent invocations of uuid does not bog\ndown the database.\n\nChange-Id: I149a9de82fc1003b88e0c0852a0b64634f0c622e\nCloses-Bug: #1540750\n'}, {'number': 3, 'created': '2017-09-28 14:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b0cf6f767fd002fefcc94cdfaf786736e04263e5', 'message': 'Add index for reservations on (deleted, uuid)\n\nThe query for uuid_reservations currently does a full table scan.\nThis adds an index so frequent invocations of uuid does not bog\ndown the database.\n\nChange-Id: I149a9de82fc1003b88e0c0852a0b64634f0c622e\nCloses-Bug: #1540750\n'}, {'number': 4, 'created': '2017-10-10 01:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fdeddf7ffc8e344b766ec10180d740bbdacbc8bc', 'message': 'Add index for reservations on (deleted, uuid)\n\nThe query for uuid_reservations currently does a full table scan.\nThis adds an index so frequent invocations of uuid does not bog\ndown the database.\n\nChange-Id: I149a9de82fc1003b88e0c0852a0b64634f0c622e\nCloses-Bug: #1540750\n'}, {'number': 5, 'created': '2017-10-18 13:50:12.000000000', 'files': ['cinder/db/sqlalchemy/migrate_repo/versions/113_add_reservation_deleted_uuid_index.py', 'cinder/tests/unit/test_migrations.py', 'cinder/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/12819a1b6d78f253f795e7992b93ebfb8347e884', 'message': 'Add index for reservations on (deleted, uuid)\n\nThe query for uuid_reservations currently does a full table scan.\nThis adds an index so frequent invocations of uuid does not bog\ndown the database.\n\nChange-Id: I149a9de82fc1003b88e0c0852a0b64634f0c622e\nCloses-Bug: #1540750\n'}]",2,275047,12819a1b6d78f253f795e7992b93ebfb8347e884,156,69,5,11676,,,0,"Add index for reservations on (deleted, uuid)

The query for uuid_reservations currently does a full table scan.
This adds an index so frequent invocations of uuid does not bog
down the database.

Change-Id: I149a9de82fc1003b88e0c0852a0b64634f0c622e
Closes-Bug: #1540750
",git fetch https://review.opendev.org/openstack/cinder refs/changes/47/275047/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/db/sqlalchemy/migrate_repo/versions/064_add_reservation_deleted_uuid_index.py', 'cinder/tests/unit/test_migrations.py']",2,01eb47687d0437507e36be25b4c470fe228a311a,bug/1540750," def _check_064(self, engine, data): """"""Test that adding reservations index works correctly."""""" reservations = db_utils.get_table(engine, 'reservations') index_columns = [] for idx in reservations.indexes: if idx.name == 'reservations_deleted_uuid_idx': index_columns = idx.columns.keys() break self.assertEqual(sorted(['deleted', 'uuid']), sorted(index_columns)) ",,47,0
openstack%2Fcinder~stable%2Fpike~I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5,openstack/cinder,stable/pike,I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5,Run backup compression on native thread,MERGED,2017-10-18 12:30:41.000000000,2018-02-25 14:33:36.000000000,2017-10-18 21:50:29.000000000,"[{'_account_id': 170}, {'_account_id': 11904}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-10-18 12:30:41.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py', 'cinder/backup/chunkeddriver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/439f90da8e4c1cfa1acfe36b5ea8a6c5bae6139f', 'message': 'Run backup compression on native thread\n\nBackup data compression is a CPU bound operation that will not yield to\nother greenthreads, so given enough simultaneous backup operations they\nwill lead to other threads\' starvation.\n\nThis is really problematic for DB connections, since starvation will\nlead to connections getting dropped with errors such as ""Lost connection\nto MySQL server during query"".\n\nDetailed information on why these connections get dropped can be found\nin comment ""[31 Aug 2007 9:21] Magnus Bludd"" on this MySQL bug [1].\n\nThese DB issues may result in backups unnecessary ending in an ""error""\nstate.\n\nThis patch fixes this by moving the compression to a native thread so\nthe cooperative multitasking in Cinder Backup can continue switching\nthreads.\n\n[1] https://bugs.mysql.com/bug.php?id=28359\n\nCloses-Bug: #1692775\nCloses-Bug: #1719580\nChange-Id: I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5\n(cherry picked from commit af0f00bc52f79d9395adfe0575b0dbe353e18bbe)\n'}]",0,513016,439f90da8e4c1cfa1acfe36b5ea8a6c5bae6139f,12,7,1,9535,,,0,"Run backup compression on native thread

Backup data compression is a CPU bound operation that will not yield to
other greenthreads, so given enough simultaneous backup operations they
will lead to other threads' starvation.

This is really problematic for DB connections, since starvation will
lead to connections getting dropped with errors such as ""Lost connection
to MySQL server during query"".

Detailed information on why these connections get dropped can be found
in comment ""[31 Aug 2007 9:21] Magnus Bludd"" on this MySQL bug [1].

These DB issues may result in backups unnecessary ending in an ""error""
state.

This patch fixes this by moving the compression to a native thread so
the cooperative multitasking in Cinder Backup can continue switching
threads.

[1] https://bugs.mysql.com/bug.php?id=28359

Closes-Bug: #1692775
Closes-Bug: #1719580
Change-Id: I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5
(cherry picked from commit af0f00bc52f79d9395adfe0575b0dbe353e18bbe)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/513016/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py', 'cinder/backup/chunkeddriver.py']",4,439f90da8e4c1cfa1acfe36b5ea8a6c5bae6139f,bug/1692775," # Execute compression in native thread so it doesn't prevent # cooperative greenthread switching. compressed_data = eventlet.tpool.execute(self.compressor.compress, data)", compressed_data = self.compressor.compress(data),49,4
openstack%2Fcinder~master~Id66d3f0fe36cf7c32ef3875bf5fcb1c7a4678273,openstack/cinder,master,Id66d3f0fe36cf7c32ef3875bf5fcb1c7a4678273,RemoteFS: revert snapshot support,MERGED,2017-10-06 08:33:06.000000000,2018-02-25 14:33:35.000000000,2017-11-15 12:56:18.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 8543}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23302}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26415}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-06 08:33:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ce97abb3ca353a83b59235e1e717f713c31eff5a', 'message': ""RemoteFS: revert snapshot support\n\nThis change implements the 'revert_to_snapshot' method at the remotefs\nbase driver level in a generic way. This should work right away with\nmost (if not all) remotefs based drivers.\n\nNote that we only consider the case in which the latest snapshot is\nbeing reverted (the Cinder API won't allow reverting volumes to other\nsnapshots anyway, at least for the time being).\n\nThe RemoteFS based drivers (e.g. NFS driver, SMB driver) use COW images\n(e.g. qcow2, differencing vhdx) in order to provide volume snapshot\nfunctionality. Reverting a volume to its latest snapshot is a trivial\noperation in this case and can be achived by simply cleaning up (e.g.\nrecreating) the latest image from chain.\n\nImplements: blueprint remotefs-revert-snapshot\n\nChange-Id: Id66d3f0fe36cf7c32ef3875bf5fcb1c7a4678273\n""}, {'number': 2, 'created': '2017-10-10 10:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ad6d2e746a7858b89a7fe10d490760f22501bd9c', 'message': ""RemoteFS: revert snapshot support\n\nThis change implements the 'revert_to_snapshot' method at the remotefs\nbase driver level in a generic way. This should work right away with\nmost (if not all) remotefs based drivers.\n\nNote that we only consider the case in which the latest snapshot is\nbeing reverted (the Cinder API won't allow reverting volumes to other\nsnapshots anyway, at least for the time being).\n\nThe RemoteFS based drivers (e.g. NFS driver, SMB driver) use COW images\n(e.g. qcow2, differencing vhdx) in order to provide volume snapshot\nfunctionality. Reverting a volume to its latest snapshot is a trivial\noperation in this case and can be achived by simply cleaning up (e.g.\nrecreating) the latest image from chain.\n\nImplements: blueprint remotefs-revert-snapshot\n\nChange-Id: Id66d3f0fe36cf7c32ef3875bf5fcb1c7a4678273\n""}, {'number': 3, 'created': '2017-10-10 11:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d95219bf400d57d955910ac75c35f2f6c4e5c1c', 'message': ""RemoteFS: revert snapshot support\n\nThis change implements the 'revert_to_snapshot' method at the remotefs\nbase driver level in a generic way. This should work right away with\nmost (if not all) remotefs based drivers.\n\nNote that we only consider the case in which the latest snapshot is\nbeing reverted (the Cinder API won't allow reverting volumes to other\nsnapshots anyway, at least for the time being).\n\nThe RemoteFS based drivers (e.g. NFS driver, SMB driver) use COW images\n(e.g. qcow2, differencing vhdx) in order to provide volume snapshot\nfunctionality. Reverting a volume to its latest snapshot is a trivial\noperation in this case and can be achived by simply cleaning up (e.g.\nrecreating) the latest image from chain.\n\nImplements: blueprint remotefs-revert-snapshot\n\nChange-Id: Id66d3f0fe36cf7c32ef3875bf5fcb1c7a4678273\n""}, {'number': 4, 'created': '2017-10-17 06:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/79fa0b8cdc90b2db1bf009668970de757c430a78', 'message': ""RemoteFS: revert snapshot support\n\nThis change implements the 'revert_to_snapshot' method at the remotefs\nbase driver level in a generic way. This should work right away with\nmost (if not all) remotefs based drivers.\n\nNote that we only consider the case in which the latest snapshot is\nbeing reverted (the Cinder API won't allow reverting volumes to other\nsnapshots anyway, at least for the time being).\n\nThe RemoteFS based drivers (e.g. NFS driver, SMB driver) use COW images\n(e.g. qcow2, differencing vhdx) in order to provide volume snapshot\nfunctionality. Reverting a volume to its latest snapshot is a trivial\noperation in this case and can be achived by simply cleaning up (e.g.\nrecreating) the latest image from chain.\n\nIn order to use 'revert_to_snapshot' 'RevertToSnapshotMixin' must be\ninherited.\n\nImplements: blueprint remotefs-revert-snapshot\n\nChange-Id: Id66d3f0fe36cf7c32ef3875bf5fcb1c7a4678273\n""}, {'number': 5, 'created': '2017-10-17 06:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9854e8b4c1d36dd8a61a0a0e3890a2cc1f1099a2', 'message': ""RemoteFS: revert snapshot support\n\nThis change implements the 'revert_to_snapshot' method at the remotefs\nbase driver level in a generic way. This should work right away with\nmost (if not all) remotefs based drivers.\n\nNote that we only consider the case in which the latest snapshot is\nbeing reverted (the Cinder API won't allow reverting volumes to other\nsnapshots anyway, at least for the time being).\n\nThe RemoteFS based drivers (e.g. NFS driver, SMB driver) use COW images\n(e.g. qcow2, differencing vhdx) in order to provide volume snapshot\nfunctionality. Reverting a volume to its latest snapshot is a trivial\noperation in this case and can be achived by simply cleaning up (e.g.\nrecreating) the latest image from chain.\n\nIn order to use 'revert_to_snapshot' 'RevertToSnapshotMixin' must be\ninherited.\n\nImplements: blueprint remotefs-revert-snapshot\n\nChange-Id: Id66d3f0fe36cf7c32ef3875bf5fcb1c7a4678273\n""}, {'number': 6, 'created': '2017-10-17 08:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eff6ad65508baf3ac1cd07cf6a7d55bbf6e1a71a', 'message': ""RemoteFS: revert snapshot support\n\nThis change implements the 'revert_to_snapshot' method at the remotefs\nbase driver level in a generic way. This should work right away with\nmost (if not all) remotefs based drivers.\n\nNote that we only consider the case in which the latest snapshot is\nbeing reverted (the Cinder API won't allow reverting volumes to other\nsnapshots anyway, at least for the time being).\n\nThe RemoteFS based drivers (e.g. NFS driver, SMB driver) use COW images\n(e.g. qcow2, differencing vhdx) in order to provide volume snapshot\nfunctionality. Reverting a volume to its latest snapshot is a trivial\noperation in this case and can be achived by simply cleaning up (e.g.\nrecreating) the latest image from chain.\n\nIn order to avoid breaking drivers, the 'revert_to_snapshot' method\nis implemented in a mixin that may be inherited by any RemoteFS based\ndriver.\n\nImplements: blueprint remotefs-revert-snapshot\n\nChange-Id: Id66d3f0fe36cf7c32ef3875bf5fcb1c7a4678273\n""}, {'number': 7, 'created': '2017-10-18 09:40:47.000000000', 'files': ['cinder/volume/manager.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/volume/driver.py', 'cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/413664d11ca002c49a41c9d2e2efa85afeaca791', 'message': ""RemoteFS: revert snapshot support\n\nThis change implements the 'revert_to_snapshot' method at the remotefs\nbase driver level in a generic way. This should work right away with\nmost (if not all) remotefs based drivers.\n\nNote that we only consider the case in which the latest snapshot is\nbeing reverted (the Cinder API won't allow reverting volumes to other\nsnapshots anyway, at least for the time being).\n\nThe RemoteFS based drivers (e.g. NFS driver, SMB driver) use COW images\n(e.g. qcow2, differencing vhdx) in order to provide volume snapshot\nfunctionality. Reverting a volume to its latest snapshot is a trivial\noperation in this case and can be achived by simply cleaning up (e.g.\nrecreating) the latest image from chain.\n\nIn order to avoid breaking drivers, the 'revert_to_snapshot' method\nis implemented in a mixin that may be inherited by any RemoteFS based\ndriver.\n\nImplements: blueprint remotefs-revert-snapshot\n\nChange-Id: Id66d3f0fe36cf7c32ef3875bf5fcb1c7a4678273\n""}]",12,510016,413664d11ca002c49a41c9d2e2efa85afeaca791,162,45,7,26415,,,0,"RemoteFS: revert snapshot support

This change implements the 'revert_to_snapshot' method at the remotefs
base driver level in a generic way. This should work right away with
most (if not all) remotefs based drivers.

Note that we only consider the case in which the latest snapshot is
being reverted (the Cinder API won't allow reverting volumes to other
snapshots anyway, at least for the time being).

The RemoteFS based drivers (e.g. NFS driver, SMB driver) use COW images
(e.g. qcow2, differencing vhdx) in order to provide volume snapshot
functionality. Reverting a volume to its latest snapshot is a trivial
operation in this case and can be achived by simply cleaning up (e.g.
recreating) the latest image from chain.

In order to avoid breaking drivers, the 'revert_to_snapshot' method
is implemented in a mixin that may be inherited by any RemoteFS based
driver.

Implements: blueprint remotefs-revert-snapshot

Change-Id: Id66d3f0fe36cf7c32ef3875bf5fcb1c7a4678273
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/510016/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/tests/unit/volume/test_volume.py', 'cinder/volume/driver.py', 'cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py']",5,ce97abb3ca353a83b59235e1e717f713c31eff5a,bp/remotefs-revert-snapshot," def snapshot_revert_use_temp_snapshot(self): # Considering that RemoteFS based drivers use COW images # for storing snapshots, having chains of such images, # creating a backup snapshot when reverting one is not # actutally helpful. return False def _revert_to_snapshot(self, context, volume, snapshot): """"""Revert a volume to specified snapshot If volume status is 'available', revert the volume to the latest snapshot. """""" LOG.debug('Reverting volume %(vol)s to snapshot %(snap)s', {'vol': snapshot.volume.id, 'snap': snapshot.id}) info_path = self._local_path_volume_info(snapshot.volume) snap_info = self._read_info_file(info_path) snapshot_file = snap_info[snapshot.id] active_file = snap_info['active'] if not utils.paths_normcase_equal(snapshot_file, active_file): msg = _(""Could not revert volume '%(volume_id)s' to snapshot "" ""'%(snapshot_id)s' as it does not "" ""appear to be the latest snapshot. Current active "" ""image: %(active_file)s."") raise exception.InvalidSnapshot( msg % dict(snapshot_id=snapshot.id, active_file=active_file, volume_id=volume.id)) snapshot_path = os.path.join( self._local_volume_dir(snapshot.volume), snapshot_file) backing_filename = self._qemu_img_info(snapshot_path, volume.name).backing_file # We revert the volume to the latest snapshot by recreating the top # image from the chain. # This workflow should work with most (if not all) drivers inheriting # this class. self._delete(snapshot_path) self._do_create_snapshot(snapshot, backing_filename, snapshot_path) def revert_to_snapshot(self, context, volume, snapshot): """"""Revert to specified snapshot."""""" return self._revert_to_snapshot(context, volume, snapshot) @locked_volume_id_operation def revert_to_snapshot(self, context, volume, snapshot): """"""Revert to specified snapshot."""""" return self._revert_to_snapshot(context, volume, snapshot) @coordination.synchronized('{self.driver_prefix}-{volume.id}')",,146,6
openstack%2Fcinder~master~I4b8d99966f387f51c1125ba72c1ce149229a8bc0,openstack/cinder,master,I4b8d99966f387f51c1125ba72c1ce149229a8bc0,FlashSystem: Add CMMVC6045E CLI error for multi-host mapping,MERGED,2017-10-12 23:20:50.000000000,2018-02-25 14:33:33.000000000,2017-10-27 03:54:29.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 15831}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 26734}, {'_account_id': 27059}]","[{'number': 1, 'created': '2017-10-12 23:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b15dee4d8df1e60ea4ced49daec8bfc0774d5023', 'message': ""FlashSystem: Add CMMVC6045E CLI error for multi-host mapping\n\nAdd CMMVC6045E to list of CLI error codes indicating a multi-host map was\nattempted without the '-force' parameter. Re-raise on match failure to avert\nspurious success when an unexcepted CLI error is emitted.\n\nChange-Id: I4b8d99966f387f51c1125ba72c1ce149229a8bc0\nCloses-Bug: #1723188\n""}, {'number': 2, 'created': '2017-10-16 22:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cce6579a96bf1821bf0cb58371c0d3b4e3df39dc', 'message': ""FlashSystem: Add CMMVC6045E CLI error for multi-host mapping\n\nAdd CMMVC6045E to list of CLI error codes indicating a multi-host\nmap was attempted without the '-force' parameter. Re-raise on\nmatch failure to avert spurious success when an unexcepted CLI\nerror is emitted. Add good and bad-path testing for multi-host\nmap to test_flashsystem_map_vdisk_to_host\n\nChange-Id: I4b8d99966f387f51c1125ba72c1ce149229a8bc0\nCloses-Bug: #1723188\n""}, {'number': 3, 'created': '2017-10-17 16:12:02.000000000', 'files': ['cinder/volume/drivers/ibm/flashsystem_common.py', 'cinder/tests/unit/volume/drivers/ibm/test_ibm_flashsystem.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/421837ab4a3244022ad8292ad1ef0de37e9de532', 'message': ""FlashSystem: Add CMMVC6045E CLI error for multi-host mapping\n\nAdd CMMVC6045E to list of CLI error codes indicating a multi-host\nmap was attempted without the '-force' parameter. Re-raise on\nmatch failure to avert spurious success when an unexcepted CLI\nerror is emitted. Add good and bad-path testing for multi-host\nmap to test_flashsystem_map_vdisk_to_host\n\nChange-Id: I4b8d99966f387f51c1125ba72c1ce149229a8bc0\nCloses-Bug: #1723188\n""}]",2,511645,421837ab4a3244022ad8292ad1ef0de37e9de532,67,28,3,27059,,,0,"FlashSystem: Add CMMVC6045E CLI error for multi-host mapping

Add CMMVC6045E to list of CLI error codes indicating a multi-host
map was attempted without the '-force' parameter. Re-raise on
match failure to avert spurious success when an unexcepted CLI
error is emitted. Add good and bad-path testing for multi-host
map to test_flashsystem_map_vdisk_to_host

Change-Id: I4b8d99966f387f51c1125ba72c1ce149229a8bc0
Closes-Bug: #1723188
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/511645/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/ibm/flashsystem_common.py'],1,b15dee4d8df1e60ea4ced49daec8bfc0774d5023,flashsystem_hostmap," MULTI_HOST_MAP_ERRORS = ['CMMVC6045E', 'CMMVC6071E'] def _cli_except(self, fun, cmd, out, err, exc_list): """"""Match CLI stderr against a list of excepted error codes"""""" if not err: return None if not isinstance(exc_list, (tuple, list)): exc_list = [exc_list] try: err_type = [e for e in exc_list if err.startswith(e)].pop() except IndexError: msg = _( '%(fun)s: encountered unexpected CLI error, ' 'expected one of: %(errors)s' ) % {'fun': fun, 'errors': ', '.join(exc_list)} LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) return {'code': err_type, 'message': err.strip(err_type).strip()} map_error = self._cli_except('_map_vdisk_to_host', ssh_cmd, out, err, self.MULTI_HOST_MAP_ERRORS) if map_error: if not self.configuration.flashsystem_multihostmap_enabled: msg = _( 'flashsystem_multihostmap_enabled is set ' 'to False, failing requested multi-host map. ' '(%(code)s %(message)s)' ) % map_error"," if err and err.startswith('CMMVC6071E'): if not self.configuration.flashsystem_multihostmap_enabled: msg = _('flashsystem_multihostmap_enabled is set ' 'to False, not allow multi host mapping. ' 'CMMVC6071E The VDisk-to-host mapping ' 'was not created because the VDisk is ' 'already mapped to a host.')",35,6
openstack%2Fcinder~master~I04b188d1300979b3b4b070781c6c2105f638b649,openstack/cinder,master,I04b188d1300979b3b4b070781c6c2105f638b649,NEC driver: Never use target info in migration_status,MERGED,2017-10-13 07:06:53.000000000,2018-02-25 14:33:31.000000000,2017-10-20 20:28:44.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 23885}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}]","[{'number': 1, 'created': '2017-10-13 07:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1952c214b848d539af724079a827c47bfa9ee0b2', 'message': 'NEC driver: Never use target info in migration_status\n\nNEC driver uses target info in migration_status at volume creation.\nThe target info will be deleted from migration_status in future\ncinder version. This patch change the driver not to use target info\nin migration_status.\n\nChange-Id: I04b188d1300979b3b4b070781c6c2105f638b649\nPartial-Bug: #1706729\n'}, {'number': 2, 'created': '2017-10-16 04:17:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7c6a71d8ff6345629aa94e0f1b46cef0013fafa2', 'message': 'NEC driver: Never use target info in migration_status\n\nNEC driver uses target info in migration_status at volume creation.\nThe target info will be deleted from migration_status in future\ncinder version. This patch change the driver not to use target info\nin migration_status.\n\nChange-Id: I04b188d1300979b3b4b070781c6c2105f638b649\nPartial-Bug: #1706729\n'}, {'number': 3, 'created': '2017-10-17 06:56:22.000000000', 'files': ['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_helper.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a638f483fb41df4f4acc0b0f42d289ba711333e5', 'message': 'NEC driver: Never use target info in migration_status\n\nNEC driver uses target info in migration_status at volume creation.\nThe target info will be deleted from migration_status in future\ncinder version. This patch change the driver not to use target info\nin migration_status.\n\nChange-Id: I04b188d1300979b3b4b070781c6c2105f638b649\nPartial-Bug: #1706729\n'}]",1,511737,a638f483fb41df4f4acc0b0f42d289ba711333e5,74,32,3,23885,,,0,"NEC driver: Never use target info in migration_status

NEC driver uses target info in migration_status at volume creation.
The target info will be deleted from migration_status in future
cinder version. This patch change the driver not to use target info
in migration_status.

Change-Id: I04b188d1300979b3b4b070781c6c2105f638b649
Partial-Bug: #1706729
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/511737/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/nec/test_volume.py', 'cinder/volume/drivers/nec/volume_helper.py']",2,1952c214b848d539af724079a827c47bfa9ee0b2,bug/1706729," self._convert_id2name, def update_migrated_volume(self, ctxt, volume, new_volume, original_volume_status): """"""Updates metadata after host-assisted migration. This method should rename the back-end volume name(id) on the destination host back to its original name(id) on the source host. :param ctxt: The context used to run the method update_migrated_volume :param volume: The original volume that was migrated to this backend :param new_volume: The migration volume object that was created on this backend as part of the migration process :param original_volume_status: The status of the original volume :returns: model_update to update DB with any needed changes """""" xml = self._cli.view_all(self._properties['ismview_path']) pools, lds, ldsets, used_ldns, hostports, max_ld_count = ( self.configs(xml)) name_id = None provider_location = None if original_volume_status == 'available': original_name = self._convert_id2name(volume) temp_name = self._convert_id2name(new_volume) try: if original_name in lds: self._cli.unbind(original_name) self._cli.changeldname(None, original_name, temp_name) except exception.CinderException as e: LOG.error('Unable to rename the logical volume ' '(Volume ID = %(id)s), (%(exception)s)', {'id': volume.id, 'exception': e}) # If the rename fails, _name_id should be set to the new # volume id and provider_location should be set to the # one from the new volume as well. name_id = new_volume._name_id or new_volume.id provider_location = new_volume.provider_location else: # The back-end will not be renamed. name_id = new_volume._name_id or new_volume.id provider_location = new_volume.provider_location return {'_name_id': name_id, 'provider_location': provider_location} ldname = self.get_ldname( volume.id, self._properties['ld_name_format']) ldname = self.get_ldname( volume.id, self._properties['ld_name_format']) ldname = self.get_ldname( volume.id, self._properties['ld_name_format']) ldname = self.get_ldname( volume.id, self._properties['ld_name_format'])"," def _convert_id2name_in_migrate(self, volume): """"""If LD has migrate_status, get LD name from source LD UUID."""""" LOG.debug('migration_status:%s', volume.migration_status) migstat = volume.migration_status if migstat is not None and 'target:' in migstat: index = migstat.find('target:') if index != -1: migstat = migstat[len('target:'):] ldname = (self.get_ldname(migstat, self._properties['ld_name_format'])) else: ldname = (self.get_ldname(volume.id, self._properties['ld_name_format'])) LOG.debug('ldname=%s.', ldname) return ldname self._convert_id2name_in_migrate, if (hasattr(volume, 'migration_status') and volume.migration_status is not None and 'target:' in volume.migration_status): LOG.debug('migration_status:%s', volume.migration_status) migstat = volume.migration_status index = migstat.find('target:') if index != -1: migstat = migstat[len('target:'):] ldname = ( self.get_ldname( migstat, self._properties['ld_name_format'])) else: ldname = ( self.get_ldname( volume.id, self._properties['ld_name_format'])) if (hasattr(volume, 'migration_status') and volume.migration_status is not None and 'target:' in volume.migration_status): LOG.debug('migration_status:%s', volume.migration_status) migstat = volume.migration_status index = migstat.find('target:') if index != -1: migstat = migstat[len('target:'):] ldname = ( self.get_ldname( migstat, self._properties['ld_name_format'])) else: ldname = ( self.get_ldname( volume.id, self._properties['ld_name_format'])) if (hasattr(volume, 'migration_status') and volume.migration_status is not None and 'target:' in volume.migration_status): LOG.debug('migration_status:%s', volume.migration_status) migstat = volume.migration_status index = migstat.find('target:') if index != -1: migstat = migstat[len('target:'):] ldname = ( self.get_ldname( migstat, self._properties['ld_name_format'])) else: ldname = ( self.get_ldname( volume.id, self._properties['ld_name_format'])) if (hasattr(volume, 'migration_status') and volume.migration_status is not None and 'target:' in volume.migration_status): LOG.debug('migration_status:%s', volume.migration_status) migstat = volume.migration_status index = migstat.find('target:') if index != -1: migstat = migstat[len('target:'):] ldname = ( self.get_ldname(migstat, self._properties['ld_name_format'])) else: ldname = ( self.get_ldname(volume.id, self._properties['ld_name_format']))",75,118
openstack%2Fcinder~driverfixes%2Fnewton~Ie927d2ee5f1f1a61d8309049ea7630f73f614cc5,openstack/cinder,driverfixes/newton,Ie927d2ee5f1f1a61d8309049ea7630f73f614cc5,Dell EMC SC: Delete doesn't account for migration,MERGED,2017-10-16 16:27:44.000000000,2018-02-25 14:33:14.000000000,2017-10-30 19:46:40.000000000,"[{'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12112}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24815}]","[{'number': 1, 'created': '2017-10-16 16:27:44.000000000', 'files': ['cinder/volume/drivers/dell/dell_storagecenter_common.py', 'cinder/volume/drivers/dell/dell_storagecenter_api.py', 'cinder/tests/unit/volume/drivers/dell/test_dellscapi.py', 'cinder/tests/unit/volume/drivers/dell/test_dellsc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9cbe5748674cf897be09df92b174f87669fbc67a', 'message': ""Dell EMC SC: Delete doesn't account for migration\n\nThe function delete_volume is unaware of migration. The volume object\nsent down to delete_volume from retype with migration is a mix of the new\nand old volumes. In addition to this the Dell EMC API function delete_volume\ndoesn't validate provider_id to ensure it is for the current back end.\n\nBoth of thse are fixed by this patch.\n\nChange-Id: Ie927d2ee5f1f1a61d8309049ea7630f73f614cc5\nCloses-Bug: #1659600\n(cherry picked from commit 0a36a89bc8caac67777eda8dbbe344c52dc424c3)\n""}]",0,512349,9cbe5748674cf897be09df92b174f87669fbc67a,17,13,1,9535,,,0,"Dell EMC SC: Delete doesn't account for migration

The function delete_volume is unaware of migration. The volume object
sent down to delete_volume from retype with migration is a mix of the new
and old volumes. In addition to this the Dell EMC API function delete_volume
doesn't validate provider_id to ensure it is for the current back end.

Both of thse are fixed by this patch.

Change-Id: Ie927d2ee5f1f1a61d8309049ea7630f73f614cc5
Closes-Bug: #1659600
(cherry picked from commit 0a36a89bc8caac67777eda8dbbe344c52dc424c3)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/512349/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell/dell_storagecenter_common.py', 'cinder/volume/drivers/dell/dell_storagecenter_api.py', 'cinder/tests/unit/volume/drivers/dell/test_dellscapi.py', 'cinder/tests/unit/volume/drivers/dell/test_dellsc.py']",4,9cbe5748674cf897be09df92b174f87669fbc67a,bug/1659600," '_delete_replications') @mock.patch.object(dell_storagecenter_api.StorageCenterApi, 'delete_volume', return_value=True) @mock.patch.object(dell_storagecenter_iscsi.DellStorageCenterISCSIDriver, '_get_replication_specs', return_value={'enabled': True, 'live': False}) def test_delete_volume_migrating(self, mock_get_replication_specs, mock_delete_volume, mock_delete_replications, mock_close_connection, mock_open_connection, mock_init): volume = {'id': fake.VOLUME_ID, '_name_id': fake.VOLUME2_ID, 'provider_id': '12345.100', 'migration_status': 'deleting'} self.driver.delete_volume(volume) mock_delete_volume.assert_called_once_with(fake.VOLUME2_ID, None) @mock.patch.object(dell_storagecenter_iscsi.DellStorageCenterISCSIDriver,",,46,11
openstack%2Fcinder~master~I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5,openstack/cinder,master,I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5,Run backup compression on native thread,MERGED,2017-09-26 11:59:36.000000000,2018-02-25 14:32:56.000000000,2017-10-17 18:08:26.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21129}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-26 11:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aad93dc09f70b06bdc5a652d5e397563d89ec9c3', 'message': 'Run backup compression on native thread\n\nBackup data compression is a CPU bound operation that will not yield to\nother greethreads, so given enough simultaneous backup operations they\nwill lead to other threads\' starvation.\n\nThis is really problematic for DB connections, since starvation will\nlead to connections getting dropped with errors such as ""Lost connection\nto MySQL server during query"".\n\nDetailed information on why these connections get dropped can be found\nin comment ""[31 Aug 2007 9:21] Magnus Bludd"" on this MySQL bug [1].\n\nThese DB issues may result in backups unnecessary ending in an ""error""\nstate.\n\nThis patch fixes this by moving the compression to a native thread so\nthe cooperative multitasking in Cinder Backup can continue switching\nthreads.\n\n[1] https://bugs.mysql.com/bug.php?id=28359\n\nCloses-Bug: #1692775\nCloses-Bug: #1719580\nChange-Id: I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5\n'}, {'number': 2, 'created': '2017-09-27 16:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d404b00efecbbc5880b0bcb77663edec50d40557', 'message': 'Run backup compression on native thread\n\nBackup data compression is a CPU bound operation that will not yield to\nother greethreads, so given enough simultaneous backup operations they\nwill lead to other threads\' starvation.\n\nThis is really problematic for DB connections, since starvation will\nlead to connections getting dropped with errors such as ""Lost connection\nto MySQL server during query"".\n\nDetailed information on why these connections get dropped can be found\nin comment ""[31 Aug 2007 9:21] Magnus Bludd"" on this MySQL bug [1].\n\nThese DB issues may result in backups unnecessary ending in an ""error""\nstate.\n\nThis patch fixes this by moving the compression to a native thread so\nthe cooperative multitasking in Cinder Backup can continue switching\nthreads.\n\n[1] https://bugs.mysql.com/bug.php?id=28359\n\nCloses-Bug: #1692775\nCloses-Bug: #1719580\nChange-Id: I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5\n'}, {'number': 3, 'created': '2017-09-29 11:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a42ff1e8b0ead1f85ee566350e726269b3e32714', 'message': 'Run backup compression on native thread\n\nBackup data compression is a CPU bound operation that will not yield to\nother greenthreads, so given enough simultaneous backup operations they\nwill lead to other threads\' starvation.\n\nThis is really problematic for DB connections, since starvation will\nlead to connections getting dropped with errors such as ""Lost connection\nto MySQL server during query"".\n\nDetailed information on why these connections get dropped can be found\nin comment ""[31 Aug 2007 9:21] Magnus Bludd"" on this MySQL bug [1].\n\nThese DB issues may result in backups unnecessary ending in an ""error""\nstate.\n\nThis patch fixes this by moving the compression to a native thread so\nthe cooperative multitasking in Cinder Backup can continue switching\nthreads.\n\n[1] https://bugs.mysql.com/bug.php?id=28359\n\nCloses-Bug: #1692775\nCloses-Bug: #1719580\nChange-Id: I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5\n'}, {'number': 4, 'created': '2017-10-16 15:16:43.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py', 'cinder/backup/chunkeddriver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/af0f00bc52f79d9395adfe0575b0dbe353e18bbe', 'message': 'Run backup compression on native thread\n\nBackup data compression is a CPU bound operation that will not yield to\nother greenthreads, so given enough simultaneous backup operations they\nwill lead to other threads\' starvation.\n\nThis is really problematic for DB connections, since starvation will\nlead to connections getting dropped with errors such as ""Lost connection\nto MySQL server during query"".\n\nDetailed information on why these connections get dropped can be found\nin comment ""[31 Aug 2007 9:21] Magnus Bludd"" on this MySQL bug [1].\n\nThese DB issues may result in backups unnecessary ending in an ""error""\nstate.\n\nThis patch fixes this by moving the compression to a native thread so\nthe cooperative multitasking in Cinder Backup can continue switching\nthreads.\n\n[1] https://bugs.mysql.com/bug.php?id=28359\n\nCloses-Bug: #1692775\nCloses-Bug: #1719580\nChange-Id: I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5\n'}]",7,507510,af0f00bc52f79d9395adfe0575b0dbe353e18bbe,142,48,4,9535,,,0,"Run backup compression on native thread

Backup data compression is a CPU bound operation that will not yield to
other greenthreads, so given enough simultaneous backup operations they
will lead to other threads' starvation.

This is really problematic for DB connections, since starvation will
lead to connections getting dropped with errors such as ""Lost connection
to MySQL server during query"".

Detailed information on why these connections get dropped can be found
in comment ""[31 Aug 2007 9:21] Magnus Bludd"" on this MySQL bug [1].

These DB issues may result in backups unnecessary ending in an ""error""
state.

This patch fixes this by moving the compression to a native thread so
the cooperative multitasking in Cinder Backup can continue switching
threads.

[1] https://bugs.mysql.com/bug.php?id=28359

Closes-Bug: #1692775
Closes-Bug: #1719580
Change-Id: I1946dc0ad9cb7a68072a39816fa9fa224c2eb6a5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/10/507510/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py', 'cinder/backup/chunkeddriver.py']",4,aad93dc09f70b06bdc5a652d5e397563d89ec9c3,bug/1692775," # Execute compression in native thread so it doesn't preven cooperative # greenthread switching. compressed_data = eventlet.tpool.execute(self.compressor.compress, data)", compressed_data = self.compressor.compress(data),49,4
openstack%2Fcinder~master~I75d4ca19f87fe1930cf54b554b7e232632a4a21c,openstack/cinder,master,I75d4ca19f87fe1930cf54b554b7e232632a4a21c,Switch from ostestr to stestr,MERGED,2017-09-29 21:44:37.000000000,2018-02-25 14:32:47.000000000,2017-10-15 22:00:51.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 5046}, {'_account_id': 5196}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-29 21:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f59f16d9d1cad52f6dd2bf66c0e239fa47b050be', 'message': ""Switch from ostestr to stestr\n\nThis change just updates the tox.ini file to call stestr directly\ninstead of going through ostestr.\n\nFor more background you can read the ML posting:\n    https://goo.gl/TFvcxy\n\nSo now you won't need `--n` to run single tests, and you can also\nsupply regex directly without even the `--`.  For example:\n  `tox -epy27 $regex`\n\nChange-Id: I75d4ca19f87fe1930cf54b554b7e232632a4a21c\n""}, {'number': 2, 'created': '2017-10-02 18:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f39ec28caa407fe7142cb77ca4b8da6485bd00a7', 'message': ""Switch from ostestr to stestr\n\nThis change just updates the tox.ini file to call stestr directly\ninstead of going through ostestr.\n\nFor more background you can read the ML posting:\n    https://goo.gl/TFvcxy\n\nSo now you won't need `--n` to run single tests, and you can also\nsupply regex directly without even the `--`.  For example:\n  `tox -epy27 $regex`\n\nChange-Id: I75d4ca19f87fe1930cf54b554b7e232632a4a21c\n""}, {'number': 3, 'created': '2017-10-02 19:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9ae13c102330f75cd055d5e5c92c88031c41448b', 'message': ""Switch from ostestr to stestr\n\nThis change just updates the tox.ini file to call stestr directly\ninstead of going through ostestr.\n\nFor more background you can read the ML posting:\n    https://goo.gl/TFvcxy\n\nSo now you won't need `--n` to run single tests, and you can also\nsupply regex directly without even the `--`.  For example:\n  `tox -epy27 $regex`\n\nChange-Id: I75d4ca19f87fe1930cf54b554b7e232632a4a21c\n""}, {'number': 4, 'created': '2017-10-02 19:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cdeb4040f2e14b84ec0e1afc6cb1f45018813a59', 'message': ""Switch from ostestr to stestr\n\nThis change just updates the tox.ini file to call stestr directly\ninstead of going through ostestr.\n\nFor more background you can read the ML posting:\n    https://goo.gl/TFvcxy\n\nSo now you won't need `--n` to run single tests, and you can also\nsupply regex directly without even the `--`.  For example:\n  `tox -epy27 $regex`\n\nChange-Id: I75d4ca19f87fe1930cf54b554b7e232632a4a21c\n""}, {'number': 5, 'created': '2017-10-02 19:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/77a0baaa76afcf8761ba6721896f08253744cd2a', 'message': ""Switch from ostestr to stestr\n\nThis change just updates the tox.ini file to call stestr directly\ninstead of going through ostestr.\n\nFor more background you can read the ML posting:\n    https://goo.gl/TFvcxy\n\nSo now you won't need `--n` to run single tests, and you can also\nsupply regex directly without even the `--`.  For example:\n  `tox -epy27 $regex`\n\nChange-Id: I75d4ca19f87fe1930cf54b554b7e232632a4a21c\n""}, {'number': 6, 'created': '2017-10-15 15:02:55.000000000', 'files': ['doc/source/contributor/testing.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f93bc791bf0e788873dbdeaaa4f429b4f12f20e0', 'message': ""Switch from ostestr to stestr\n\nThis change just updates the tox.ini file to call stestr directly\ninstead of going through ostestr.\n\nFor more background you can read the ML posting:\n    https://goo.gl/TFvcxy\n\nSo now you won't need `--n` to run single tests, and you can also\nsupply regex directly without even the `--`.  For example:\n  `tox -epy27 $regex`\n\nChange-Id: I75d4ca19f87fe1930cf54b554b7e232632a4a21c\n""}]",3,508624,f93bc791bf0e788873dbdeaaa4f429b4f12f20e0,80,31,6,2243,,,0,"Switch from ostestr to stestr

This change just updates the tox.ini file to call stestr directly
instead of going through ostestr.

For more background you can read the ML posting:
    https://goo.gl/TFvcxy

So now you won't need `--n` to run single tests, and you can also
supply regex directly without even the `--`.  For example:
  `tox -epy27 $regex`

Change-Id: I75d4ca19f87fe1930cf54b554b7e232632a4a21c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/24/508624/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f59f16d9d1cad52f6dd2bf66c0e239fa47b050be,switch_to_stestr,# By default stestr will set concurrency stestr '{posargs}',# By default ostestr will set concurrency ostestr {posargs},2,2
openstack%2Fcinder~master~I4c24cd397f513648e2c2214fc4f87cf5367233ac,openstack/cinder,master,I4c24cd397f513648e2c2214fc4f87cf5367233ac,Update configuration names in ITRI DISCO volume driver,MERGED,2017-05-02 07:47:32.000000000,2018-02-25 14:32:45.000000000,2017-10-13 18:24:57.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11224}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 14614}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19576}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26347}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-05-02 07:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1448d27e214096c5a615676a31592171142142d6', 'message': 'Update configuration names in ITRI DISCO volume driver\n\nThis commit is to update the name of some configuration names:\n\n* ""rest_ip"" is replaced with ""san_ip""\n* ""choice_client"" is replaced with ""client_protocol""\n\nIt also include the changes in the unit tests.\n\nChange-Id: I4c24cd397f513648e2c2214fc4f87cf5367233ac\nImplements: blueprint disco-driver-update-option-name\n'}, {'number': 2, 'created': '2017-05-02 09:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/680cc405862654b4944b291e7b04932cf41717ee', 'message': 'Update configuration names in ITRI DISCO volume driver\n\nThis commit is to update the name of some configuration names:\n\n* ""rest_ip"" is replaced with ""san_ip""\n* ""choice_client"" is replaced with ""client_protocol""\n\nIt also includes the changes in the unit tests.\n\nChange-Id: I4c24cd397f513648e2c2214fc4f87cf5367233ac\nImplements: blueprint disco-driver-update-option-name\n'}, {'number': 3, 'created': '2017-05-05 09:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/15e34f8329f663dd7254ff6a5539b3a47177b60e', 'message': 'Update configuration names in ITRI DISCO volume driver\n\nThis commit is to update the name of some configuration names:\n\n* ""rest_ip"" is replaced with ""san_ip""\n* ""choice_client"" is replaced with ""client_protocol""\n\nIt also includes the changes in the unit tests.\n\nChange-Id: I4c24cd397f513648e2c2214fc4f87cf5367233ac\nImplements: blueprint disco-driver-update-option-name\n'}, {'number': 4, 'created': '2017-06-27 04:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/69760b99be903d73f8830419aafca4cc3673051a', 'message': 'Update configuration names in ITRI DISCO volume driver\n\nThis commit is to update and deprecate the name of some configuration names:\n\n* ""rest_ip"" is marked as deprecated and will be replaced with ""san_ip""\n* ""disco_src_api_port"" is marked as deprecated and will be replaced with\n  ""san_ssh_port""\n* ""choice_client"" is replaced with ""client_protocol""\n\nIt also includes the changes in the unit tests.\n\nChange-Id: I4c24cd397f513648e2c2214fc4f87cf5367233ac\nImplements: blueprint disco-driver-update-option-name\n'}, {'number': 5, 'created': '2017-06-27 05:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f6f04e4ce10d00ab75b7253831b22e96cdcd6c9b', 'message': 'Update configuration names in ITRI DISCO volume driver\n\nThis commit is to update and deprecate the name of some configuration names:\n\n* ""rest_ip"" is marked as deprecated and will be replaced with ""san_ip""\n* ""disco_src_api_port"" is marked as deprecated and will be replaced with\n  ""san_ssh_port""\n* ""choice_client"" is replaced with ""client_protocol""\n\nIt also includes the changes in the unit tests.\n\nChange-Id: I4c24cd397f513648e2c2214fc4f87cf5367233ac\nImplements: blueprint disco-driver-update-option-name\n'}, {'number': 6, 'created': '2017-06-27 07:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ed86fcdf8f7dd979c82b43ca8aae13664f075303', 'message': 'Update configuration names in ITRI DISCO volume driver\n\nThis commit is to update and deprecate the name of some configuration names:\n\n* ""rest_ip"" is marked as deprecated and will be replaced with ""san_ip""\n* ""disco_src_api_port"" is marked as deprecated and will be replaced with\n  ""san_ssh_port""\n* ""choice_client"" is replaced with ""client_protocol""\n\nIt also includes the changes in the unit tests.\n\nChange-Id: I4c24cd397f513648e2c2214fc4f87cf5367233ac\nImplements: blueprint disco-driver-update-option-name\n'}, {'number': 7, 'created': '2017-06-28 01:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/50b457436a03e2024bf1dcb495f43121c8695d67', 'message': 'Update configuration names in ITRI DISCO volume driver\n\nThis commit is to update and deprecate the name of some configuration names:\n\n* ""rest_ip"" is marked as deprecated and will be replaced with ""san_ip""\n* ""disco_src_api_port"" is marked as deprecated and will be replaced with\n  ""san_ssh_port""\n* ""choice_client"" is replaced with ""client_protocol""\n\nIt also includes the changes in the unit tests.\n\nChange-Id: I4c24cd397f513648e2c2214fc4f87cf5367233ac\nImplements: blueprint disco-driver-update-option-name\n'}, {'number': 8, 'created': '2017-06-28 02:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/721d58e4abc882f93fb5127342dc5c902564cadc', 'message': 'Update configuration names in ITRI DISCO volume driver\n\nThis commit is to update and deprecate the name of some configuration names:\n\n* ""rest_ip"" is marked as deprecated and will be replaced with ""san_ip""\n* ""disco_src_api_port"" is marked as deprecated and will be replaced with\n  ""san_ssh_port""\n* ""choice_client"" is replaced with ""client_protocol""\n\nIt also includes the changes in the unit tests.\n\nChange-Id: I4c24cd397f513648e2c2214fc4f87cf5367233ac\nImplements: blueprint disco-driver-update-option-name\n'}, {'number': 9, 'created': '2017-06-28 05:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aa74a0f67fa34b7aece698f22c0aa99d3aec0c4d', 'message': 'Update configuration names in ITRI DISCO volume driver\n\nThis commit is to update and deprecate the name of some configuration names:\n\n* ""rest_ip"" is marked as deprecated and will be replaced with ""san_ip""\n* ""disco_src_api_port"" is marked as deprecated and will be replaced with\n  ""san_ssh_port""\n* ""choice_client"" is replaced with ""client_protocol""\n\nIt also includes the changes in the unit tests.\n\nChange-Id: I4c24cd397f513648e2c2214fc4f87cf5367233ac\nImplements: blueprint disco-driver-update-option-name\n'}, {'number': 10, 'created': '2017-06-28 06:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bf41cf2f101c60136f97da4770feb518c1ce18f0', 'message': 'Update configuration names in ITRI DISCO volume driver\n\nThis commit is to update and deprecate the name of some configuration names:\n\n* ""rest_ip"" is marked as deprecated and will be replaced with ""san_ip""\n* ""disco_src_api_port"" is marked as deprecated and will be replaced with\n  ""san_ssh_port""\n* ""choice_client"" is replaced with ""client_protocol""\n\nIt also includes the changes in the unit tests.\n\nChange-Id: I4c24cd397f513648e2c2214fc4f87cf5367233ac\nImplements: blueprint disco-driver-update-option-name\n'}, {'number': 11, 'created': '2017-06-28 08:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3ab7b5db23998e2ac699f961059493443e856778', 'message': 'Update configuration names in ITRI DISCO volume driver\n\nThis commit is to update and deprecate the name of some configuration names:\n\n* ""rest_ip"" is marked as deprecated and will be replaced with ""san_ip""\n* ""disco_src_api_port"" is marked as deprecated and will be replaced with\n  ""san_ssh_port""\n* ""choice_client"" is replaced with ""client_protocol""\n\nIt also includes the changes in the unit tests.\n\nChange-Id: I4c24cd397f513648e2c2214fc4f87cf5367233ac\nImplements: blueprint disco-driver-update-option-name\n'}, {'number': 12, 'created': '2017-08-07 08:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2af6d10c434ae042ffe8cbe533406043ee53624b', 'message': 'Update configuration names in ITRI DISCO volume driver\n\nThis commit is to update and deprecate the name of some configuration names:\n\n* ""san_api_port"" is new config option added in san driver\n* ""rest_ip"" is marked as deprecated and will be replaced with ""san_ip""\n* ""disco_src_api_port"" is marked as deprecated and will be replaced with\n  ""san_ssh_port""\n* ""choice_client"" is replaced with ""client_protocol""\n\nIt also includes the changes in the unit tests.\n\nChange-Id: I4c24cd397f513648e2c2214fc4f87cf5367233ac\nImplements: blueprint disco-driver-update-option-name\n'}, {'number': 13, 'created': '2017-08-08 01:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e3d4892619d7d682a327194244bce2653068552f', 'message': 'Update configuration names in ITRI DISCO volume driver\n\nThis commit is to update and deprecate the name of some configuration names:\n\n* ""san_api_port"" is new config option added in san driver\n* ""rest_ip"" is marked as deprecated and will be replaced with ""san_ip""\n* ""disco_src_api_port"" is marked as deprecated and will be replaced with\n  ""san_ssh_port""\n* ""choice_client"" is replaced with ""client_protocol""\n\nIt also includes the changes in the unit tests.\n\nChange-Id: I4c24cd397f513648e2c2214fc4f87cf5367233ac\nImplements: blueprint disco-driver-update-option-name\n'}, {'number': 14, 'created': '2017-08-08 01:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d46509742d651a799c5581dab0de5aaa9886ac52', 'message': 'Update configuration names in ITRI DISCO volume driver\n\nThis commit is to update and deprecate the name of some configuration names:\n\n* ""san_api_port"" is new config option added in san driver\n* ""rest_ip"" is marked as deprecated and will be replaced with ""san_ip""\n* ""disco_src_api_port"" is marked as deprecated and will be replaced with\n  ""san_api_port""\n* ""choice_client"" is replaced with ""client_protocol""\n\nIt also includes the changes in the unit tests.\n\nChange-Id: I4c24cd397f513648e2c2214fc4f87cf5367233ac\nImplements: blueprint disco-driver-update-option-name\n'}, {'number': 15, 'created': '2017-08-08 11:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/895b1e543a04b655bf49dfa6c81a16dc519bb4bb', 'message': 'Update configuration names in ITRI DISCO volume driver\n\nThis commit is to update and deprecate the name of some configuration names:\n\n* ""san_api_port"" is new config option added in san driver\n* ""rest_ip"" is marked as deprecated and will be replaced with ""san_ip""\n* ""disco_src_api_port"" is marked as deprecated and will be replaced with\n  ""san_api_port""\n* ""choice_client"" is replaced with ""client_protocol""\n\nIt also includes the changes in the unit tests.\n\nChange-Id: I4c24cd397f513648e2c2214fc4f87cf5367233ac\nImplements: blueprint disco-driver-update-option-name\n'}, {'number': 16, 'created': '2017-08-28 01:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1d1fbc0f3124e6c51673e1f7439fdf9ab5000b2b', 'message': 'Update configuration names in ITRI DISCO volume driver\n\nThis commit is to update and deprecate the name of some configuration names:\n\n* ""san_api_port"" is new config option added in san driver\n* ""rest_ip"" is marked as deprecated and will be replaced with ""san_ip""\n* ""disco_src_api_port"" is marked as deprecated and will be replaced with\n  ""san_ssh_port""\n* ""choice_client"" is replaced with ""client_protocol""\n\nIt also includes the changes in the unit tests.\n\nChange-Id: I4c24cd397f513648e2c2214fc4f87cf5367233ac\nImplements: blueprint disco-driver-update-option-name\n'}, {'number': 17, 'created': '2017-10-11 01:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c057f9fd8930e262f13e3908cff1b20ef8f7fe60', 'message': 'Update configuration names in ITRI DISCO volume driver\n\nThis commit is to update and deprecate the name of some configuration names:\n\n* ""san_api_port"" is new config option added in san driver\n* ""rest_ip"" is marked as deprecated and will be replaced with ""san_ip""\n* ""disco_src_api_port"" is marked as deprecated and will be replaced with\n  ""san_ssh_port""\n* ""choice_client"" is replaced with ""client_protocol""\n\nIt also includes the changes in the unit tests.\n\nChange-Id: I4c24cd397f513648e2c2214fc4f87cf5367233ac\nImplements: blueprint disco-driver-update-option-name\n'}, {'number': 18, 'created': '2017-10-12 01:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7913b1dc89f4c4d38db7e97d0e026132cda3bf29', 'message': 'Update configuration names in ITRI DISCO volume driver\n\nThis commit is to update and deprecate the name ofsome configuration\nnames:\n\n* ""san_api_port"" is new config option added in san driver\n* ""rest_ip"" is marked as deprecated and will be replaced with ""san_ip""\n* ""disco_src_api_port"" is marked as deprecated and will be replaced with\n  ""san_ssh_port""\n* ""choice_client"" is replaced with ""client_protocol""\n\nIt also includes the changes in the unit tests.\n\nChange-Id: I4c24cd397f513648e2c2214fc4f87cf5367233ac\nImplements: blueprint disco-driver-update-option-name\n'}, {'number': 19, 'created': '2017-10-13 01:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b5d77470b6c0beb76cb6e39f6725d576eea2c8c0', 'message': 'Update configuration names in ITRI DISCO volume driver\n\nThis commit is to update and deprecate the name ofsome configuration\nnames:\n\n* ""san_api_port"" is new config option added in san driver\n* ""rest_ip"" is marked as deprecated and will be replaced with ""san_ip""\n* ""disco_src_api_port"" is marked as deprecated and will be replaced with\n  ""san_ssh_port""\n* ""choice_client"" is replaced with ""client_protocol""\n\nIt also includes the changes in the unit tests.\n\nChange-Id: I4c24cd397f513648e2c2214fc4f87cf5367233ac\nImplements: blueprint disco-driver-update-option-name\n'}, {'number': 20, 'created': '2017-10-13 02:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f8311dd74eaa647fc2c8f381b56f60336dd0f844', 'message': 'Update configuration names in ITRI DISCO volume driver\n\nThis commit is to update and deprecate the name ofsome configuration\nnames:\n\n* ""san_api_port"" is new config option added in san driver\n* ""rest_ip"" is marked as deprecated and will be replaced with ""san_ip""\n* ""disco_src_api_port"" is marked as deprecated and will be replaced with\n  ""san_ssh_port""\n* ""choice_client"" is replaced with ""client_protocol""\n\nIt also includes the changes in the unit tests.\n\nChange-Id: I4c24cd397f513648e2c2214fc4f87cf5367233ac\nImplements: blueprint disco-driver-update-option-name\n'}, {'number': 21, 'created': '2017-10-13 06:34:04.000000000', 'files': ['cinder/volume/drivers/disco/disco.py', 'cinder/tests/unit/volume/drivers/disco/__init__.py', 'releasenotes/notes/update_config_options_disco_volume_driver-07e52aa43e83c243.yaml', 'cinder/volume/drivers/san/san.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a3f91662c383f105a74638c84655689ab5eac60', 'message': 'Update configuration names in ITRI DISCO volume driver\n\nThis commit is to update and deprecate the name of some configuration\nnames:\n\n* ""san_api_port"" is new config option added in san driver\n* ""rest_ip"" is marked as deprecated and will be replaced with ""san_ip""\n* ""disco_src_api_port"" is marked as deprecated and will be replaced with\n  ""san_ssh_port""\n\nIt also includes the changes in the unit tests.\n\nChange-Id: I4c24cd397f513648e2c2214fc4f87cf5367233ac\nImplements: blueprint disco-driver-update-option-name\n'}]",10,461665,1a3f91662c383f105a74638c84655689ab5eac60,420,62,21,19576,,,0,"Update configuration names in ITRI DISCO volume driver

This commit is to update and deprecate the name of some configuration
names:

* ""san_api_port"" is new config option added in san driver
* ""rest_ip"" is marked as deprecated and will be replaced with ""san_ip""
* ""disco_src_api_port"" is marked as deprecated and will be replaced with
  ""san_ssh_port""

It also includes the changes in the unit tests.

Change-Id: I4c24cd397f513648e2c2214fc4f87cf5367233ac
Implements: blueprint disco-driver-update-option-name
",git fetch https://review.opendev.org/openstack/cinder refs/changes/65/461665/20 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/disco/disco.py', 'cinder/tests/unit/volume/drivers/disco/__init__.py', 'releasenotes/notes/update_config_options_disco_volume_driver-dbafc9840fe0b729.yaml']",3,1448d27e214096c5a615676a31592171142142d6,bp/disco-driver-update-option-name,"--- upgrade: We replaced some config options in the disco volume driver. ""rest_ip"" is replaced with ""san_ip"" and ""choice_client"" with ""client_protocol"". ",,12,7
openstack%2Fcinder~master~I183ed48e3d66a45864a17bb9785745c64aefa626,openstack/cinder,master,I183ed48e3d66a45864a17bb9785745c64aefa626,Updated from global requirements,MERGED,2017-10-10 20:47:35.000000000,2018-02-25 14:32:44.000000000,2017-10-13 18:25:19.000000000,"[{'_account_id': 3}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-10 20:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c184abea4f33b46d296616c7f23d50ac4b40a468', 'message': 'Updated from global requirements\n\nChange-Id: I183ed48e3d66a45864a17bb9785745c64aefa626\n'}, {'number': 2, 'created': '2017-10-10 21:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/052a67d4c5f7aa0671831cfd87064c067cfd1bce', 'message': 'Updated from global requirements\n\nChange-Id: I183ed48e3d66a45864a17bb9785745c64aefa626\n'}, {'number': 3, 'created': '2017-10-10 21:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3d7f4c1de750a45c7a1f341d8f1ba2c6253005b8', 'message': 'Updated from global requirements\n\nChange-Id: I183ed48e3d66a45864a17bb9785745c64aefa626\n'}, {'number': 4, 'created': '2017-10-11 03:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b386853799ec5f937857d1adb4dac78905fe4bb1', 'message': 'Updated from global requirements\n\nChange-Id: I183ed48e3d66a45864a17bb9785745c64aefa626\n'}, {'number': 5, 'created': '2017-10-11 05:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4919cfb54ddce108100b03cecd3d9c0f4ec2e887', 'message': 'Updated from global requirements\n\nChange-Id: I183ed48e3d66a45864a17bb9785745c64aefa626\n'}, {'number': 6, 'created': '2017-10-12 21:52:13.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/186d7f5a7550fa5c45f63e0fd00e1b142684385f', 'message': 'Updated from global requirements\n\nChange-Id: I183ed48e3d66a45864a17bb9785745c64aefa626\n'}]",0,511028,186d7f5a7550fa5c45f63e0fd00e1b142684385f,98,34,6,11131,,,0,"Updated from global requirements

Change-Id: I183ed48e3d66a45864a17bb9785745c64aefa626
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/511028/6 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,c184abea4f33b46d296616c7f23d50ac4b40a468,openstack/requirements,oslo.versionedobjects[fixtures]>=1.28.0 # Apache-2.0,oslo.versionedobjects[fixtures]>=1.25.0 # Apache-2.0,2,2
openstack%2Fcinder~master~Idf27d5fd09365374330ad0d4c0448f68f3cc03e8,openstack/cinder,master,Idf27d5fd09365374330ad0d4c0448f68f3cc03e8,[policy in code] Add support for qos and quota resources,MERGED,2017-09-28 09:02:58.000000000,2018-02-25 14:32:42.000000000,2017-10-15 16:54:41.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-28 09:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/47a447c869ca6ebae30d529ae3bd169bff153a93', 'message': '[policy in code] Add support for qos and quota resources\n\nThis patch adds policy in code support for qos, quota,\nquota class resources and depends on the basic patch [1].\n\n[1]: https://review.openstack.org/#/c/506976/\n\nChange-Id: Idf27d5fd09365374330ad0d4c0448f68f3cc03e8\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 2, 'created': '2017-09-29 03:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/956b312f980da9f42f5e95cfe96a8c3180fbb02d', 'message': '[policy in code] Add support for qos and quota resources\n\nThis patch adds policy in code support for qos, quota,\nquota class resources and depends on the basic patch [1].\n\n[1]: https://review.openstack.org/#/c/506976/\n\nChange-Id: Idf27d5fd09365374330ad0d4c0448f68f3cc03e8\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 3, 'created': '2017-10-10 06:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7d81a6a8b137bea06f4bb67dca4efe0273ed881b', 'message': '[policy in code] Add support for qos and quota resources\n\nThis patch adds policy in code support for qos, quota,\nquota class resources and depends on the basic patch [1].\n\n[1]: https://review.openstack.org/#/c/506976/\n\nChange-Id: Idf27d5fd09365374330ad0d4c0448f68f3cc03e8\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 4, 'created': '2017-10-11 09:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4016b6c22a24eb8f3e38218673fb5d69ec8cefeb', 'message': '[policy in code] Add support for qos and quota resources\n\nThis patch adds policy in code support for qos, quota,\nquota class resources and depends on the group&group\nsnapshot patch.\n\n[1]: https://review.openstack.org/#/c/507812/\n\nChange-Id: Idf27d5fd09365374330ad0d4c0448f68f3cc03e8\nPartial-Implements: blueprint policy-in-code\n'}, {'number': 5, 'created': '2017-10-12 06:25:15.000000000', 'files': ['cinder/policies/quotas.py', 'cinder/policies/qos_specs.py', 'cinder/api/contrib/quotas.py', 'cinder/policies/__init__.py', 'etc/cinder/policy.json', 'cinder/api/contrib/quota_classes.py', 'cinder/tests/unit/policy.json', 'cinder/api/contrib/qos_specs_manage.py', 'cinder/policies/quota_class.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5a099de01a275e10426ef2b6e2c87836a2130b7b', 'message': '[policy in code] Add support for qos and quota resources\n\nThis patch adds policy in code support for qos, quota,\nquota class resources and depends on the group&group\nsnapshot patch.\n\n[1]: https://review.openstack.org/#/c/507812/\n\nChange-Id: Idf27d5fd09365374330ad0d4c0448f68f3cc03e8\nPartial-Implements: blueprint policy-in-code\n'}]",3,508091,5a099de01a275e10426ef2b6e2c87836a2130b7b,96,34,5,23083,,,0,"[policy in code] Add support for qos and quota resources

This patch adds policy in code support for qos, quota,
quota class resources and depends on the group&group
snapshot patch.

[1]: https://review.openstack.org/#/c/507812/

Change-Id: Idf27d5fd09365374330ad0d4c0448f68f3cc03e8
Partial-Implements: blueprint policy-in-code
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/508091/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/policies/quotas.py', 'cinder/policies/qos_specs.py', 'cinder/api/contrib/quotas.py', 'cinder/policies/__init__.py', 'etc/cinder/policy.json', 'cinder/api/contrib/quota_classes.py', 'cinder/tests/unit/policy.json', 'cinder/api/contrib/qos_specs_manage.py', 'cinder/policies/quota_class.py']",9,47a447c869ca6ebae30d529ae3bd169bff153a93,policy-and-docs-in-code,"# Copyright (c) 2017 Huawei Technologies Co., Ltd. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_policy import policy from cinder.policies import base MANAGE_POLICY = 'volume_extension:quota_classes' quota_class_policies = [ policy.DocumentedRuleDefault( name=MANAGE_POLICY, check_str=base.RULE_ADMIN_API, description=""""""Show or update project quota class."""""", operations=[ { 'method': 'GET', 'path': '/os-quota-class-sets/{project_id}' }, { 'method': 'PUT', 'path': '/os-quota-class-sets/{project_id}' } ]), ] def list_rules(): return quota_class_policies ",,254,56
openstack%2Fcinder~master~Id6bee9e7d0da8ead224a04f86fe79ddfb5b286cf,openstack/cinder,master,Id6bee9e7d0da8ead224a04f86fe79ddfb5b286cf,Add ability to specify backup driver via class name,MERGED,2017-06-26 09:54:51.000000000,2018-02-25 14:32:40.000000000,2017-10-13 04:45:47.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23602}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-06-26 09:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7c7e97030e8e813bf7eb23015b7a9d19a44833b5', 'message': 'Add ability to specify backup driver via class name\n\nThis patch also deprecates backup driver initialization using module name.\n\nChange-Id: Id6bee9e7d0da8ead224a04f86fe79ddfb5b286cf\nRelated-Blueprint: generic-backup-implementation\n'}, {'number': 2, 'created': '2017-06-30 09:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/34d4a95150fac8ddf7fb987ed712a2bca8ceebeb', 'message': 'Add ability to specify backup driver via class name\n\nThis patch also deprecates backup driver initialization using module\nname.\n\nChange-Id: Id6bee9e7d0da8ead224a04f86fe79ddfb5b286cf\nRelated-Blueprint: generic-backup-implementation\n'}, {'number': 3, 'created': '2017-06-30 09:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8a1d36ea8e82b20eeb84f97de336458532261c43', 'message': 'Add ability to specify backup driver via class name\n\nThis patch also deprecates backup driver initialization using module\nname.\n\nChange-Id: Id6bee9e7d0da8ead224a04f86fe79ddfb5b286cf\nRelated-Blueprint: generic-backup-implementation\n'}, {'number': 4, 'created': '2017-09-01 15:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/915e0ce5e2fad07596319498e19f77831c1f177c', 'message': 'Add ability to specify backup driver via class name\n\nThis patch also deprecates backup driver initialization using module\nname.\n\nChange-Id: Id6bee9e7d0da8ead224a04f86fe79ddfb5b286cf\nRelated-Blueprint: generic-backup-implementation\n'}, {'number': 5, 'created': '2017-09-02 21:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f9b848ed3008401e2fdcb32b5374aca05c2246d3', 'message': 'Add ability to specify backup driver via class name\n\nThis patch also deprecates backup driver initialization using module\nname.\n\nChange-Id: Id6bee9e7d0da8ead224a04f86fe79ddfb5b286cf\nRelated-Blueprint: generic-backup-implementation\n'}, {'number': 6, 'created': '2017-09-03 12:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c4266750f718dbfb1132ba56e0e449f4ae27cd21', 'message': 'Add ability to specify backup driver via class name\n\nThis patch also deprecates backup driver initialization using module\nname.\n\nChange-Id: Id6bee9e7d0da8ead224a04f86fe79ddfb5b286cf\nRelated-Blueprint: generic-backup-implementation\n'}, {'number': 7, 'created': '2017-09-14 15:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9e183af07d846c047c1f153949064e8f20377a6a', 'message': 'Add ability to specify backup driver via class name\n\nThis patch also deprecates backup driver initialization using module\nname.\n\nChange-Id: Id6bee9e7d0da8ead224a04f86fe79ddfb5b286cf\nRelated-Blueprint: generic-backup-implementation\n'}, {'number': 8, 'created': '2017-09-15 15:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf1e26fe266712ba3103dc1c85919d8cce8b63d7', 'message': 'Add ability to specify backup driver via class name\n\nThis patch also deprecates backup driver initialization using module\nname.\n\nChange-Id: Id6bee9e7d0da8ead224a04f86fe79ddfb5b286cf\nRelated-Blueprint: generic-backup-implementation\n'}, {'number': 9, 'created': '2017-09-19 11:13:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0c66752ca90b15142932066787da636c04122381', 'message': 'Add ability to specify backup driver via class name\n\nThis patch also deprecates backup driver initialization using module\nname.\n\nChange-Id: Id6bee9e7d0da8ead224a04f86fe79ddfb5b286cf\nRelated-Blueprint: generic-backup-implementation\n'}, {'number': 10, 'created': '2017-10-10 05:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/197dc43a83281f90740af2f8159896ec00bb38c8', 'message': 'Add ability to specify backup driver via class name\n\nThis patch also deprecates backup driver initialization using module\nname.\n\nChange-Id: Id6bee9e7d0da8ead224a04f86fe79ddfb5b286cf\nRelated-Blueprint: generic-backup-implementation\n'}, {'number': 11, 'created': '2017-10-10 10:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/34128dec6885128f42e770e2adffe7b00710540a', 'message': 'Add ability to specify backup driver via class name\n\nThis patch also deprecates backup driver initialization using module\nname.\n\nChange-Id: Id6bee9e7d0da8ead224a04f86fe79ddfb5b286cf\nRelated-Blueprint: generic-backup-implementation\n'}, {'number': 12, 'created': '2017-10-11 09:59:35.000000000', 'files': ['cinder/backup/manager.py', 'releasenotes/notes/backup-driver-configuration-36357733962dab03.yaml', 'cinder/db/base.py', 'cinder/tests/unit/backup/test_backup.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/de2ffaff36e3713e3862b15816f59c4d3dd8abca', 'message': 'Add ability to specify backup driver via class name\n\nThis patch also deprecates backup driver initialization using module\nname.\n\nChange-Id: Id6bee9e7d0da8ead224a04f86fe79ddfb5b286cf\nRelated-Blueprint: generic-backup-implementation\n'}]",4,477472,de2ffaff36e3713e3862b15816f59c4d3dd8abca,321,57,12,1736,,,0,"Add ability to specify backup driver via class name

This patch also deprecates backup driver initialization using module
name.

Change-Id: Id6bee9e7d0da8ead224a04f86fe79ddfb5b286cf
Related-Blueprint: generic-backup-implementation
",git fetch https://review.opendev.org/openstack/cinder refs/changes/72/477472/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/manager.py', 'releasenotes/notes/backup-driver-configuration-36357733962dab03.yaml', 'cinder/tests/unit/backup/test_backup.py']",3,7c7e97030e8e813bf7eb23015b7a9d19a44833b5,bp/generic-backup-implementation, self.backup_mgr.get_backup_driver = lambda x: backup_service backup_driver = self.backup_mgr.get_backup_driver(self.ctxt) backup_driver = self.backup_mgr.get_backup_driver(self.ctxt) backup_driver = self.backup_mgr.get_backup_driver(self.ctxt) backup_driver = 'cinder.tests.unit.backup.fake_service_with_verify' mock_map_service_to_driver.return_value = backup_driver backup_driver = self.backup_mgr.get_backup_driver(self.ctxt),from cinder.tests.unit.backup import fake_service_with_verify as fake_service self.backup_mgr.service.get_backup_driver = lambda x: backup_service backup_driver = self.backup_mgr.service.get_backup_driver(self.ctxt) backup_driver = self.backup_mgr.service.get_backup_driver(self.ctxt) backup_driver = self.backup_mgr.service.get_backup_driver(self.ctxt) # It should works when the service name is a string mock_map_service_to_driver.return_value = 'swift' mock_map_service_to_driver.return_value = \ fake_service.get_backup_driver(self.ctxt) backup_driver = self.backup_mgr.service.get_backup_driver(self.ctxt),52,21
openstack%2Fcinder~stable%2Fpike~I41697632d48f7cbcbe008867671f8196b5543c94,openstack/cinder,stable/pike,I41697632d48f7cbcbe008867671f8196b5543c94,ibm-storage: enable FC zonning to all ports,MERGED,2017-10-10 17:30:23.000000000,2018-02-25 14:32:39.000000000,2017-10-12 20:17:51.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 13047}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-10-10 17:30:23.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_xiv_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cbdcc242fd7985716ae984d53d583c483119014a', 'message': ""ibm-storage: enable FC zonning to all ports\n\nDuring 'initialize_connection' we rely on the storage ability to know\nwhich hosts can access it. This is in some cases not accurate. So we\nneed to enable hosts to connect to all the storage FC ports.\n\nChange-Id: I41697632d48f7cbcbe008867671f8196b5543c94\nCloses-Bug: #1702291\n(cherry picked from commit 6d3d64c6bbafb57a8b34554d4baef115cc17d962)\n""}]",0,510962,cbdcc242fd7985716ae984d53d583c483119014a,20,16,1,14532,,,0,"ibm-storage: enable FC zonning to all ports

During 'initialize_connection' we rely on the storage ability to know
which hosts can access it. This is in some cases not accurate. So we
need to enable hosts to connect to all the storage FC ports.

Change-Id: I41697632d48f7cbcbe008867671f8196b5543c94
Closes-Bug: #1702291
(cherry picked from commit 6d3d64c6bbafb57a8b34554d4baef115cc17d962)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/510962/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/ibm/test_xiv_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py']",2,cbdcc242fd7985716ae984d53d583c483119014a,bug/1702291-stable/pike," all_target_ports = [] all_target_ports += ([t for t in fc_port_list if t.get('wwpn') != '0000000000000000' and t.get('role') == 'Target' and t.get('port_state') == 'Online']) if host: [target.get('wwpn') for target in all_target_ports if target.get('component_id') == fc_port]) if not target_wwpns: LOG.debug('No fc targets found accessible to host: %s. Return list' ' of all available FC targets', host) target_wwpns = ([target.get('wwpn') for target in all_target_ports])", if host is None: target_wwpns += ( [t.get('wwpn') for t in fc_port_list if t.get('wwpn') != '0000000000000000' and t.get('role') == 'Target' and t.get('port_state') == 'Online']) else: [t.get('wwpn') for t in fc_port_list if t.get('wwpn') != '0000000000000000' and t.get('role') == 'Target' and t.get('port_state') == 'Online' and t.get('component_id') == fc_port]),40,14
openstack%2Fcinder~master~I861d61dd11f982a8a54b57b6a6c895e6ebe399c0,openstack/cinder,master,I861d61dd11f982a8a54b57b6a6c895e6ebe399c0,VNX: Fix issue when creating without type,MERGED,2017-09-28 06:45:37.000000000,2018-02-25 14:32:38.000000000,2017-10-19 20:08:28.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10628}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 23630}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25111}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-09-28 06:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/86638efe77f7b5ac7d936c902058dd18f82ff294', 'message': ""VNX: Fix issue when creating without type\n\nWhen creating a volume without type, a error will be thrown:\n\nAttributeError: 'NoneType' object has no attribute 'qos_specs'\n\nThis issue was introduced in qos patch:\nhttps://review.openstack.org/#/c/441786/\n\nChange-Id: I861d61dd11f982a8a54b57b6a6c895e6ebe399c0\nCloses-bug: #1720063\n""}, {'number': 2, 'created': '2017-09-28 07:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3192386d158881fe7816bc1258c959c08dd98d58', 'message': ""VNX: Fix issue when creating without type\n\nWhen creating a volume without type, a error will be thrown:\n\nAttributeError: 'NoneType' object has no attribute 'qos_specs'\n\nThis issue was introduced in qos patch:\nhttps://review.openstack.org/#/c/441786/\n\nChange-Id: I861d61dd11f982a8a54b57b6a6c895e6ebe399c0\nCloses-bug: #1720063\n""}, {'number': 3, 'created': '2017-10-04 07:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bc83ad241b7fb1e4499bb0368d6df84d6f8d5817', 'message': ""VNX: Fix issue when creating without type\n\nWhen creating a volume without type, a error will be thrown:\n\nAttributeError: 'NoneType' object has no attribute 'qos_specs'\n\nThis issue was introduced in qos patch:\nhttps://review.openstack.org/#/c/441786/\n\nChange-Id: I861d61dd11f982a8a54b57b6a6c895e6ebe399c0\nCloses-bug: #1720063\n""}, {'number': 4, 'created': '2017-10-10 05:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/510f80f8ae6d4134ef084494e2140710b1fe4926', 'message': ""VNX: Fix issue when creating without type\n\nWhen creating a volume without type, a error will be thrown:\n\nAttributeError: 'NoneType' object has no attribute 'qos_specs'\n\nThis issue was introduced in qos patch:\nhttps://review.openstack.org/#/c/441786/\n\nChange-Id: I861d61dd11f982a8a54b57b6a6c895e6ebe399c0\nCloses-bug: #1720063\n""}, {'number': 5, 'created': '2017-10-10 08:33:12.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/vnx/test_utils.py', 'cinder/volume/drivers/dell_emc/vnx/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5345f8cb9c8ec416aa5d764ea5ea47e3ff4d8d1d', 'message': ""VNX: Fix issue when creating without type\n\nWhen creating a volume without type, a error will be thrown:\n\nAttributeError: 'NoneType' object has no attribute 'qos_specs'\n\nThis issue was introduced in qos patch:\nhttps://review.openstack.org/#/c/441786/\n\nChange-Id: I861d61dd11f982a8a54b57b6a6c895e6ebe399c0\nCloses-bug: #1720063\n""}]",6,508064,5345f8cb9c8ec416aa5d764ea5ea47e3ff4d8d1d,203,45,5,10628,,,0,"VNX: Fix issue when creating without type

When creating a volume without type, a error will be thrown:

AttributeError: 'NoneType' object has no attribute 'qos_specs'

This issue was introduced in qos patch:
https://review.openstack.org/#/c/441786/

Change-Id: I861d61dd11f982a8a54b57b6a6c895e6ebe399c0
Closes-bug: #1720063
",git fetch https://review.opendev.org/openstack/cinder refs/changes/64/508064/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/vnx/test_utils.py', 'cinder/volume/drivers/dell_emc/vnx/utils.py']",2,86638efe77f7b5ac7d936c902058dd18f82ff294,bug/1720063, if volume.volume_type: qos_specs = volume.volume_type.qos_specs else: qos_specs = None , qos_specs = volume.volume_type.qos_specs,12,3
openstack%2Fcinder~master~I2099b804a2043078e50a5a9e14c1497861576f61,openstack/cinder,master,I2099b804a2043078e50a5a9e14c1497861576f61,Kaminario K2: Support duplicated FQDN in network,MERGED,2017-09-28 14:14:18.000000000,2018-02-25 14:32:09.000000000,2017-10-11 18:52:07.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16258}, {'_account_id': 16422}, {'_account_id': 16643}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21736}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-28 14:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4c8f14148c47e08fc488893cf76e2a1a74e3282c', 'message': 'Kaminario K2: Support duplicated FQDN in network\n\nThe Kaminario K2 driver uses the FQDN of the node that is doing the\nattach as an unique identifier to map the volume.\n\nThe problem is that the FQDN is not always unique, there are\nenvironments where the same FQDN can be found in different systems, and\nin those cases if both try to attach volumes the second system will\nfail.\n\nOne example of this happening would be on a QA environment where you are\ncreating VMs and they all have names like controller-0.localdomain and\ncompute-0.localdomain.\n\nThis patch adds a configuration option to the K2 driver called\n`unique_fqdn_network` to support these kind of environments.\n\nCloses-Bug: #1720147\nChange-Id: I2099b804a2043078e50a5a9e14c1497861576f61\n'}, {'number': 2, 'created': '2017-10-10 05:00:23.000000000', 'files': ['releasenotes/notes/k2-non-unique-fqdns-b62a269a26fd53d5.yaml', 'cinder/tests/unit/volume/drivers/test_kaminario.py', 'cinder/volume/drivers/kaminario/kaminario_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/baa8626eac9c975b719c03274d42b54ce3de74fe', 'message': 'Kaminario K2: Support duplicated FQDN in network\n\nThe Kaminario K2 driver uses the FQDN of the node that is doing the\nattach as an unique identifier to map the volume.\n\nThe problem is that the FQDN is not always unique, there are\nenvironments where the same FQDN can be found in different systems, and\nin those cases if both try to attach volumes the second system will\nfail.\n\nOne example of this happening would be on a QA environment where you are\ncreating VMs and they all have names like controller-0.localdomain and\ncompute-0.localdomain.\n\nThis patch adds a configuration option to the K2 driver called\n`unique_fqdn_network` to support these kind of environments.\n\nCloses-Bug: #1720147\nChange-Id: I2099b804a2043078e50a5a9e14c1497861576f61\n'}]",0,508167,baa8626eac9c975b719c03274d42b54ce3de74fe,119,43,2,9535,,,0,"Kaminario K2: Support duplicated FQDN in network

The Kaminario K2 driver uses the FQDN of the node that is doing the
attach as an unique identifier to map the volume.

The problem is that the FQDN is not always unique, there are
environments where the same FQDN can be found in different systems, and
in those cases if both try to attach volumes the second system will
fail.

One example of this happening would be on a QA environment where you are
creating VMs and they all have names like controller-0.localdomain and
compute-0.localdomain.

This patch adds a configuration option to the K2 driver called
`unique_fqdn_network` to support these kind of environments.

Closes-Bug: #1720147
Change-Id: I2099b804a2043078e50a5a9e14c1497861576f61
",git fetch https://review.opendev.org/openstack/cinder refs/changes/67/508167/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/k2-non-unique-fqdns-b62a269a26fd53d5.yaml', 'cinder/tests/unit/volume/drivers/test_kaminario.py', 'cinder/volume/drivers/kaminario/kaminario_common.py']",3,4c8f14148c47e08fc488893cf76e2a1a74e3282c,bug/1720147," ""on setting this option as True.""), cfg.BoolOpt('unique_fqdn_network', default=True, help=""Whether or not our private network has unique FQDN on "" ""each initiator or not. For example networks with QA "" ""systems usually have multiple servers/VMs with the same "" ""FQDN. When true this will create host entries on K2 "" ""using the FQDN, when false it will use the reversed "" ""IQN/WWNN.""), ] """"""Return the initiator host name or unique ID. Unique ID when configuration's unique_fqdn_network is false will be the reversed IQN/WWPNS. name = connector.get('initiator', connector.get('wwnns', [''])[0])[::-1] if self.configuration.unique_fqdn_network: name = connector.get('host', name) return re.sub('[^0-9a-zA-Z-_]', '_', name[:32])"," ""on setting this option as True."")] """"""Return the initiator host name. return re.sub('[^0-9a-zA-Z-_]', '_', connector.get('host', ''))[:32]",46,3
openstack%2Fcinder~master~I2f9ee172306bf5a99575e0cb6f5eac0ea87b0483,openstack/cinder,master,I2f9ee172306bf5a99575e0cb6f5eac0ea87b0483,Switch base to the latest in doc link address,MERGED,2017-09-09 15:15:52.000000000,2018-02-25 14:31:54.000000000,2017-10-31 03:58:22.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25388}, {'_account_id': 25677}, {'_account_id': 26537}, {'_account_id': 26567}]","[{'number': 1, 'created': '2017-09-09 15:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a94f2a5d0168fcfdee839dd14037b1e0e79b8c68', 'message': 'doc migration: update the doc link address\n\nAlthough we had some effort to fix these before, it still left lots\nof bad doc link, this patch is to fix these links.\n\nChange-Id: I2f9ee172306bf5a99575e0cb6f5eac0ea87b0483\n'}, {'number': 2, 'created': '2017-10-09 08:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/256510cf90146d6e8fd9dfa9ed3eea9285d718c0', 'message': 'Switch base to the latest in doc link address\n\nAlthough we had some effort to fix these before, it still left lots\nof outdated link address, this patch is to fix them all.\n\nChange-Id: I2f9ee172306bf5a99575e0cb6f5eac0ea87b0483\n'}, {'number': 3, 'created': '2017-10-10 01:44:07.000000000', 'files': ['doc/source/cli/cli-cinder-quotas.rst', 'doc/source/install/cinder-backup-install-rdo.rst', 'doc/source/install/index.rst', 'doc/source/install/cinder-backup-install-ubuntu.rst', 'doc/source/install/cinder-backup-install-obs.rst', 'doc/source/admin/blockstorage-volume-migration.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dbb60106e75550b21d08f781de69fbcdf5eec9d1', 'message': 'Switch base to the latest in doc link address\n\nAlthough we had some effort to fix these before, it still left lots\nof outdated link address, this patch is to fix them all.\n\nChange-Id: I2f9ee172306bf5a99575e0cb6f5eac0ea87b0483\n'}]",0,502249,dbb60106e75550b21d08f781de69fbcdf5eec9d1,76,35,3,25456,,,0,"Switch base to the latest in doc link address

Although we had some effort to fix these before, it still left lots
of outdated link address, this patch is to fix them all.

Change-Id: I2f9ee172306bf5a99575e0cb6f5eac0ea87b0483
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/502249/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/cli-cinder-quotas.rst', 'doc/source/install/cinder-backup-install-rdo.rst', 'doc/source/install/index.rst', 'doc/source/install/cinder-backup-install-obs.rst', 'doc/source/install/cinder-backup-install-ubuntu.rst', 'doc/source/admin/blockstorage-volume-migration.rst']",6,a94f2a5d0168fcfdee839dd14037b1e0e79b8c68,fix-doc, documentation <https://docs.openstack.org/cinder/pike/configuration/block-storage/volume-drivers.html>`__, documentation <https://docs.openstack.org/ocata/config-reference/block-storage/volume-drivers.html>`__,6,6
openstack%2Fcinder~master~I93d5610013c17c5344de27d7f3ed5d5b89ba83ee,openstack/cinder,master,I93d5610013c17c5344de27d7f3ed5d5b89ba83ee,Remove API check is_valid_body,MERGED,2017-10-03 20:38:22.000000000,2018-02-25 14:31:52.000000000,2017-10-10 04:24:07.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-03 20:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/93d221f60676e59e63e5771552480f3e7b723ae7', 'message': 'Remove API check is_valid_body\n\nThis boolean check was kept around for compatibility for the v1\nAPI. New APIs use (or should use) the assert_valid_body call that\nthrows a valid exception for missing body elements.\n\nNow that the v1 API has been removed, this removes is_valid_body\nand makes sure all remaining instances to the assert call.\n\nChange-Id: I93d5610013c17c5344de27d7f3ed5d5b89ba83ee\n'}, {'number': 2, 'created': '2017-10-03 20:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e4e8202d16e7a790f5d223ef4e18d2a7a652eba6', 'message': 'Remove API check is_valid_body\n\nThis boolean check was kept around for compatibility for the v1\nAPI. New APIs use (or should use) the assert_valid_body call that\nthrows a valid exception for missing body elements.\n\nNow that the v1 API has been removed, this removes is_valid_body\nand makes sure all remaining instances to the assert call.\n\nChange-Id: I93d5610013c17c5344de27d7f3ed5d5b89ba83ee\n'}, {'number': 3, 'created': '2017-10-10 00:53:07.000000000', 'files': ['cinder/tests/unit/api/openstack/test_wsgi.py', 'cinder/api/contrib/snapshot_manage.py', 'cinder/api/contrib/quota_classes.py', 'cinder/api/v3/groups.py', 'cinder/api/contrib/consistencygroups.py', 'cinder/api/openstack/wsgi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/79d8f87ea679afab17347a6af828eef4b52e8e13', 'message': 'Remove API check is_valid_body\n\nThis boolean check was kept around for compatibility for the v1\nAPI. New APIs use (or should use) the assert_valid_body call that\nthrows a valid exception for missing body elements.\n\nNow that the v1 API has been removed, this removes is_valid_body\nand makes sure all remaining instances to the assert call.\n\nChange-Id: I93d5610013c17c5344de27d7f3ed5d5b89ba83ee\n'}]",0,509283,79d8f87ea679afab17347a6af828eef4b52e8e13,67,38,3,11904,,,0,"Remove API check is_valid_body

This boolean check was kept around for compatibility for the v1
API. New APIs use (or should use) the assert_valid_body call that
throws a valid exception for missing body elements.

Now that the v1 API has been removed, this removes is_valid_body
and makes sure all remaining instances to the assert call.

Change-Id: I93d5610013c17c5344de27d7f3ed5d5b89ba83ee
",git fetch https://review.opendev.org/openstack/cinder refs/changes/83/509283/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/api/openstack/test_wsgi.py', 'cinder/api/contrib/quota_classes.py', 'cinder/api/contrib/snapshot_manage.py', 'cinder/api/v3/groups.py', 'cinder/api/contrib/consistencygroups.py', 'cinder/api/openstack/wsgi.py']",6,93d221f60676e59e63e5771552480f3e7b723ae7,," def assert_valid_body(body, entity_name): fail_msg = _( ""Missing required element '%s' in request body."") % entity_name if not (body and entity_name in body): raise webob.exc.HTTPBadRequest(explanation=fail_msg) raise webob.exc.HTTPBadRequest(explanation=fail_msg) "," def is_valid_body(body, entity_name): if not (body and entity_name in body): return False return False return True @staticmethod def assert_valid_body(body, entity_name): # NOTE: After v1 api is deprecated need to merge 'is_valid_body' and # 'assert_valid_body' in to one method. Right now it is not # possible to modify 'is_valid_body' to raise exception because # in case of V1 api when 'is_valid_body' return False, # 'HTTPUnprocessableEntity' exception is getting raised and in # V2 api 'HTTPBadRequest' exception is getting raised. if not Controller.is_valid_body(body, entity_name): raise webob.exc.HTTPBadRequest( explanation=_(""Missing required element '%s' in "" ""request body."") % entity_name)",28,59
openstack%2Fcinder~master~I23867aa98f68298beb5db4558c66c1ffd4e7d6f1,openstack/cinder,master,I23867aa98f68298beb5db4558c66c1ffd4e7d6f1,Remove Hitachi volume drivers,MERGED,2017-09-26 23:45:37.000000000,2018-02-25 14:31:51.000000000,2017-10-10 14:15:41.000000000,"[{'_account_id': 3}, {'_account_id': 170}, {'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-26 23:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/669028dba6790058d650c7be1051c846d8bc56a4', 'message': 'Remove Hitachi volume drivers\n\nHitachi has decided to provide their drivers out of tree [1]. The\ndrivers were marked as unsupported in-tree in the Pike release and\nare now being removed.\n\n[1] http://lists.openstack.org/pipermail/openstack/2017-March/018812.html\n\nChange-Id: I23867aa98f68298beb5db4558c66c1ffd4e7d6f1\nCloses-bug: #1652864\nCloses-bug: #1671966\nCloses-bug: #1677688\nCloses-bug: #1677923\n'}, {'number': 2, 'created': '2017-09-26 23:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c4733e8f72740132ba031959670f839f2a75cadc', 'message': 'Remove Hitachi volume drivers\n\nHitachi has decided to provide their drivers out of tree [1]. The\ndrivers were marked as unsupported in-tree in the Pike release and\nare now being removed.\n\n[1] http://lists.openstack.org/pipermail/openstack/2017-March/018812.html\n\nChange-Id: I23867aa98f68298beb5db4558c66c1ffd4e7d6f1\nCloses-bug: #1652864\nCloses-bug: #1671966\nCloses-bug: #1677688\nCloses-bug: #1677923\n'}, {'number': 3, 'created': '2017-09-27 13:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/90de0c3e70b75b70a22a6ca91c741b9b47b9d435', 'message': 'Remove Hitachi volume drivers\n\nHitachi has decided to provide their drivers out of tree [1]. The\ndrivers were marked as unsupported in-tree in the Pike release and\nare now being removed.\n\n[1] http://lists.openstack.org/pipermail/openstack/2017-March/018812.html\n\nChange-Id: I23867aa98f68298beb5db4558c66c1ffd4e7d6f1\nCloses-bug: #1652864\nCloses-bug: #1671966\nCloses-bug: #1677688\nCloses-bug: #1677923\nCloses-bug: #1645738\n'}, {'number': 4, 'created': '2017-09-28 19:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/970a5e14c5b3c29ed117584b419f84a61e1ba22e', 'message': 'Remove Hitachi volume drivers\n\nHitachi has decided to provide their drivers out of tree [1]. The\ndrivers were marked as unsupported in-tree in the Pike release and\nare now being removed.\n\n[1] http://lists.openstack.org/pipermail/openstack/2017-March/018812.html\n\nChange-Id: I23867aa98f68298beb5db4558c66c1ffd4e7d6f1\nCloses-bug: #1652864\nCloses-bug: #1671966\nCloses-bug: #1677688\nCloses-bug: #1677923\nCloses-bug: #1645738\n'}, {'number': 5, 'created': '2017-10-09 20:55:05.000000000', 'files': ['cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_snm2_iscsi.py', 'doc/source/configuration/block-storage/volume-drivers.rst', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hnas_utils.py', 'cinder/volume/drivers/hitachi/hbsd_fc.py', 'cinder/volume/drivers/hitachi/hbsd_horcm.py', 'doc/source/configuration/tables/cinder-hitachi-vsp.inc', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hnas_nfs.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_vsp_horcm_iscsi.py', 'cinder/opts.py', 'cinder/volume/drivers/hitachi/vsp_horcm_iscsi.py', 'doc/source/configuration/tables/cinder-hitachi-hnas.inc', 'cinder/volume/drivers/hitachi/hnas_backend.py', 'cinder/volume/drivers/hitachi/vsp_utils.py', 'doc/source/configuration/tables/cinder-hitachi-hbsd.inc', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_snm2_fc.py', 'cinder/exception.py', 'doc/source/configuration/block-storage/drivers/hds-hnas-driver.rst', 'cinder/volume/drivers/hitachi/__init__.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_vsp_horcm_fc.py', 'cinder/volume/drivers/hitachi/hbsd_common.py', 'doc/source/configuration/block-storage/drivers/hitachi-storage-volume-driver.rst', 'cinder/volume/drivers/hitachi/hbsd_basiclib.py', 'cinder/volume/drivers/hitachi/hbsd_snm2.py', 'cinder/volume/drivers/hitachi/vsp_common.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_horcm_fc.py', 'cinder/volume/drivers/hitachi/vsp_fc.py', 'cinder/volume/drivers/hitachi/vsp_horcm_fc.py', 'cinder/volume/drivers/hitachi/hnas_utils.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hnas_backend.py', 'cinder/volume/drivers/hitachi/vsp_horcm.py', 'cinder/volume/drivers/hitachi/hbsd_iscsi.py', 'cinder/tests/unit/volume/drivers/hitachi/__init__.py', 'cinder/volume/drivers/hitachi/vsp_iscsi.py', 'releasenotes/notes/remove-hitachi-57d0b37cb9cc7e13.yaml', 'cinder/volume/drivers/hitachi/hnas_nfs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/55d726e5c366834a4dc3131326e9bd3850a6e22f', 'message': 'Remove Hitachi volume drivers\n\nHitachi has decided to provide their drivers out of tree [1]. The\ndrivers were marked as unsupported in-tree in the Pike release and\nare now being removed.\n\n[1] http://lists.openstack.org/pipermail/openstack/2017-March/018812.html\n\nChange-Id: I23867aa98f68298beb5db4558c66c1ffd4e7d6f1\nCloses-bug: #1652864\nCloses-bug: #1671966\nCloses-bug: #1677688\nCloses-bug: #1677923\nCloses-bug: #1645738\n'}]",2,507709,55d726e5c366834a4dc3131326e9bd3850a6e22f,126,42,5,11904,,,0,"Remove Hitachi volume drivers

Hitachi has decided to provide their drivers out of tree [1]. The
drivers were marked as unsupported in-tree in the Pike release and
are now being removed.

[1] http://lists.openstack.org/pipermail/openstack/2017-March/018812.html

Change-Id: I23867aa98f68298beb5db4558c66c1ffd4e7d6f1
Closes-bug: #1652864
Closes-bug: #1671966
Closes-bug: #1677688
Closes-bug: #1677923
Closes-bug: #1645738
",git fetch https://review.opendev.org/openstack/cinder refs/changes/09/507709/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_snm2_iscsi.py', 'doc/source/configuration/block-storage/volume-drivers.rst', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hnas_utils.py', 'cinder/volume/drivers/hitachi/hbsd_fc.py', 'cinder/volume/drivers/hitachi/hbsd_horcm.py', 'doc/source/configuration/tables/cinder-hitachi-vsp.inc', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hnas_nfs.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_vsp_horcm_iscsi.py', 'cinder/opts.py', 'cinder/volume/drivers/hitachi/vsp_horcm_iscsi.py', 'doc/source/configuration/tables/cinder-hitachi-hnas.inc', 'cinder/volume/drivers/hitachi/hnas_backend.py', 'cinder/volume/drivers/hitachi/vsp_utils.py', 'doc/source/configuration/tables/cinder-hitachi-hbsd.inc', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_snm2_fc.py', 'cinder/exception.py', 'doc/source/configuration/block-storage/drivers/hds-hnas-driver.rst', 'cinder/volume/drivers/hitachi/__init__.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_vsp_horcm_fc.py', 'cinder/volume/drivers/hitachi/hbsd_common.py', 'doc/source/configuration/block-storage/drivers/hitachi-storage-volume-driver.rst', 'cinder/volume/drivers/hitachi/hbsd_basiclib.py', 'cinder/volume/drivers/hitachi/hbsd_snm2.py', 'cinder/volume/drivers/hitachi/vsp_common.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_horcm_fc.py', 'cinder/volume/drivers/hitachi/vsp_fc.py', 'cinder/volume/drivers/hitachi/vsp_horcm_fc.py', 'cinder/volume/drivers/hitachi/hnas_utils.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hnas_backend.py', 'cinder/volume/drivers/hitachi/vsp_horcm.py', 'cinder/volume/drivers/hitachi/hbsd_iscsi.py', 'cinder/tests/unit/volume/drivers/hitachi/__init__.py', 'cinder/volume/drivers/hitachi/vsp_iscsi.py', 'releasenotes/notes/remove-hitachi-57d0b37cb9cc7e13.yaml', 'cinder/volume/drivers/hitachi/hnas_nfs.py']",35,669028dba6790058d650c7be1051c846d8bc56a4,ci_unsupported,,"# Copyright (c) 2014 Hitachi Data Systems, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Volume driver for HNAS NFS storage. """""" import math import os import socket from oslo_concurrency import processutils from oslo_config import cfg from oslo_log import log as logging from oslo_log import versionutils from oslo_utils import units import six from cinder import exception from cinder.i18n import _ from cinder.image import image_utils from cinder import interface from cinder import utils as cutils from cinder.volume import configuration from cinder.volume.drivers.hitachi import hnas_backend from cinder.volume.drivers.hitachi import hnas_utils from cinder.volume.drivers import nfs from cinder.volume import utils HNAS_NFS_VERSION = '6.0.0' LOG = logging.getLogger(__name__) NFS_OPTS = [ cfg.StrOpt('hds_hnas_nfs_config_file', default='/opt/hds/hnas/cinder_nfs_conf.xml', help='Legacy configuration file for HNAS NFS Cinder plugin. ' 'This is not needed if you fill all configuration on ' 'cinder.conf', deprecated_for_removal=True) ] CONF = cfg.CONF CONF.register_opts(NFS_OPTS, group=configuration.SHARED_CONF_GROUP) HNAS_DEFAULT_CONFIG = {'ssc_cmd': 'ssc', 'ssh_port': '22'} @interface.volumedriver class HNASNFSDriver(nfs.NfsDriver): """"""Base class for Hitachi NFS driver. Executes commands relating to Volumes. Version history: .. code-block:: none Version 1.0.0: Initial driver version Version 2.2.0: Added support to SSH authentication Version 3.0.0: Added pool aware scheduling Version 4.0.0: Added manage/unmanage features Version 4.1.0: Fixed XML parser checks on blank options Version 5.0.0: Remove looping in driver initialization Code cleaning up New communication interface between the driver and HNAS Removed the option to use local SSC (ssh_enabled=False) Updated to use versioned objects Changed the class name to HNASNFSDriver Deprecated XML config file Added support to manage/unmanage snapshots features Fixed driver stats reporting Version 6.0.0: Deprecated hnas_svcX_vol_type configuration Added list-manageable volumes/snapshots support Rename snapshots to link with its original volume """""" # ThirdPartySystems wiki page CI_WIKI_NAME = ""Hitachi_HNAS_CI"" VERSION = HNAS_NFS_VERSION SUPPORTED = False def __init__(self, *args, **kwargs): msg = _(""The Hitachi NAS driver is deprecated and will be "" ""removed in a future release."") versionutils.report_deprecated_feature(LOG, msg) self._execute = None self.context = None self.configuration = kwargs.get('configuration', None) service_parameters = ['volume_type', 'hdp'] optional_parameters = ['ssc_cmd', 'cluster_admin_ip0'] if self.configuration: self.configuration.append_config_values( hnas_utils.drivers_common_opts) self.configuration.append_config_values(NFS_OPTS) self.config = {} # Trying to get HNAS configuration from cinder.conf self.config = hnas_utils.read_cinder_conf( self.configuration) # If HNAS configuration are not set on cinder.conf, tries to use # the deprecated XML configuration file if not self.config: self.config = hnas_utils.read_xml_config( self.configuration.hds_hnas_nfs_config_file, service_parameters, optional_parameters) super(HNASNFSDriver, self).__init__(*args, **kwargs) self.backend = hnas_backend.HNASSSHBackend(self.config) def _get_service(self, volume): """"""Get service parameters. Get the available service parameters for a given volume using its type. :param volume: dictionary volume reference :returns: Tuple containing the service parameters (label, export path and export file system) or error if no configuration is found. :raises ParameterNotFound: """""" LOG.debug(""_get_service: volume: %(vol)s"", {'vol': volume}) label = utils.extract_host(volume.host, level='pool') if label in self.config['services'].keys(): svc = self.config['services'][label] LOG.debug(""_get_service: %(lbl)s->%(svc)s"", {'lbl': label, 'svc': svc['export']['fs']}) service = (svc['hdp'], svc['export']['path'], svc['export']['fs']) else: LOG.info(""Available services: %(svc)s"", {'svc': self.config['services'].keys()}) LOG.error(""No configuration found for service: %(lbl)s"", {'lbl': label}) raise exception.ParameterNotFound(param=label) return service def _get_snapshot_name(self, snapshot): snap_file_name = (""%(vol_name)s.%(snap_id)s"" % {'vol_name': snapshot.volume.name, 'snap_id': snapshot.id}) return snap_file_name @cutils.trace def extend_volume(self, volume, new_size): """"""Extend an existing volume. :param volume: dictionary volume reference :param new_size: int size in GB to extend :raises InvalidResults: """""" nfs_mount = volume.provider_location path = self._get_file_path(nfs_mount, volume.name) # Resize the image file on share to new size. LOG.info(""Checking file for resize."") if not self._is_file_size_equal(path, new_size): LOG.info(""Resizing file to %(sz)sG"", {'sz': new_size}) image_utils.resize_image(path, new_size) if self._is_file_size_equal(path, new_size): LOG.info(""LUN %(id)s extended to %(size)s GB."", {'id': volume.id, 'size': new_size}) else: msg = _(""Resizing image file failed."") LOG.error(msg) raise exception.InvalidResults(msg) def _is_file_size_equal(self, path, size): """"""Checks if file size at path is equal to size."""""" data = image_utils.qemu_img_info(path) virt_size = data.virtual_size / units.Gi if virt_size == size: return True else: return False @cutils.trace def create_volume_from_snapshot(self, volume, snapshot): """"""Creates a volume from a snapshot. :param volume: volume to be created :param snapshot: source snapshot :returns: the provider_location of the volume created """""" nfs_mount = snapshot.volume.provider_location snapshot_name = self._get_snapshot_name(snapshot) if self._file_not_present(nfs_mount, snapshot_name): LOG.info(""Creating volume %(vol)s from legacy "" ""snapshot %(snap)s."", {'vol': volume.name, 'snap': snapshot.name}) snapshot_name = snapshot.name self._clone_volume(snapshot.volume, volume.name, snapshot_name) return {'provider_location': nfs_mount} @cutils.trace def create_snapshot(self, snapshot): """"""Create a snapshot. :param snapshot: dictionary snapshot reference :returns: the provider_location of the snapshot created """""" snapshot_name = self._get_snapshot_name(snapshot) self._clone_volume(snapshot.volume, snapshot_name) share = snapshot.volume.provider_location LOG.debug('Share: %(shr)s', {'shr': share}) # returns the mount point (not path) return {'provider_location': share} @cutils.trace def delete_snapshot(self, snapshot): """"""Deletes a snapshot. :param snapshot: dictionary snapshot reference """""" nfs_mount = snapshot.volume.provider_location snapshot_name = self._get_snapshot_name(snapshot) if self._file_not_present(nfs_mount, snapshot_name): # Snapshot with new name does not exist. The verification # for a file with legacy name will be done. snapshot_name = snapshot.name if self._file_not_present(nfs_mount, snapshot_name): # The file does not exist. Nothing to do. return self._execute('rm', self._get_file_path( nfs_mount, snapshot_name), run_as_root=True) def _file_not_present(self, nfs_mount, volume_name): """"""Check if file does not exist. :param nfs_mount: string path of the nfs share :param volume_name: string volume name :returns: boolean (true for file not present and false otherwise) """""" try: self._execute('ls', self._get_file_path(nfs_mount, volume_name)) except processutils.ProcessExecutionError as e: if ""No such file or directory"" in e.stderr: # If the file isn't present return True else: raise return False def _get_file_path(self, nfs_share, file_name): """"""Get file path (local fs path) for given name on given nfs share. :param nfs_share string, example 172.18.194.100:/var/nfs :param file_name string, example volume-91ee65ec-c473-4391-8c09-162b00c68a8c :returns: the local path according to the parameters """""" return os.path.join(self._get_mount_point_for_share(nfs_share), file_name) @cutils.trace def create_cloned_volume(self, volume, src_vref): """"""Creates a clone of the specified volume. :param volume: reference to the volume being created :param src_vref: reference to the source volume :returns: the provider_location of the cloned volume """""" # HNAS always creates cloned volumes in the same pool as the source # volumes. So, it is not allowed to use different volume types for # clone operations. if volume.volume_type_id != src_vref.volume_type_id: msg = _(""Source and cloned volumes should have the same "" ""volume type."") LOG.error(msg) raise exception.InvalidVolumeType(msg) vol_size = volume.size src_vol_size = src_vref.size self._clone_volume(src_vref, volume.name, src_vref.name) share = src_vref.provider_location if vol_size > src_vol_size: volume.provider_location = share self.extend_volume(volume, vol_size) return {'provider_location': share} def get_volume_stats(self, refresh=False): """"""Get volume stats. :param refresh: if it is True, update the stats first. :returns: dictionary with the stats from HNAS .. code:: python _stats['pools'] = { 'total_capacity_gb': total size of the pool, 'free_capacity_gb': the available size, 'QoS_support': bool to indicate if QoS is supported, 'reserved_percentage': percentage of size reserved, 'max_over_subscription_ratio': oversubscription rate, 'thin_provisioning_support': thin support (True), } """""" LOG.info(""Getting volume stats"") _stats = super(HNASNFSDriver, self).get_volume_stats(refresh) _stats[""vendor_name""] = 'Hitachi' _stats[""driver_version""] = HNAS_NFS_VERSION _stats[""storage_protocol""] = 'NFS' max_osr = self.max_over_subscription_ratio for pool in self.pools: capacity, free, provisioned = self._get_capacity_info(pool['fs']) pool['total_capacity_gb'] = capacity / float(units.Gi) pool['free_capacity_gb'] = free / float(units.Gi) pool['provisioned_capacity_gb'] = provisioned / float(units.Gi) pool['QoS_support'] = 'False' pool['reserved_percentage'] = self.reserved_percentage pool['max_over_subscription_ratio'] = max_osr pool['thin_provisioning_support'] = True _stats['pools'] = self.pools LOG.debug('Driver stats: %(stat)s', {'stat': _stats}) return _stats def do_setup(self, context): """"""Perform internal driver setup."""""" version_info = self.backend.get_version() LOG.info(""HNAS NFS driver."") LOG.info(""HNAS model: %(mdl)s"", {'mdl': version_info['model']}) LOG.info(""HNAS version: %(ver)s"", {'ver': version_info['version']}) LOG.info(""HNAS hardware: %(hw)s"", {'hw': version_info['hardware']}) LOG.info(""HNAS S/N: %(sn)s"", {'sn': version_info['serial']}) self.context = context self._load_shares_config( getattr(self.configuration, self.driver_prefix + '_shares_config')) LOG.info(""Review shares: %(shr)s"", {'shr': self.shares}) elist = self.backend.get_export_list() # Check for all configured exports for svc_name, svc_info in self.config['services'].items(): server_ip = svc_info['hdp'].split(':')[0] mountpoint = svc_info['hdp'].split(':')[1] # Ensure export are configured in HNAS export_configured = False for export in elist: if mountpoint == export['name'] and server_ip in export['evs']: svc_info['export'] = export export_configured = True # Ensure export are reachable try: out, err = self._execute('showmount', '-e', server_ip) except processutils.ProcessExecutionError: LOG.exception(""NFS server %(srv)s not reachable!"", {'srv': server_ip}) raise export_list = out.split('\n')[1:] export_list.pop() mountpoint_not_found = mountpoint not in map( lambda x: x.split()[0], export_list) if (len(export_list) < 1 or mountpoint_not_found or not export_configured): LOG.error(""Configured share %(share)s is not present"" ""in %(srv)s."", {'share': mountpoint, 'srv': server_ip}) msg = _('Section: %(svc_name)s') % {'svc_name': svc_name} raise exception.InvalidParameterValue(err=msg) LOG.debug(""Loading services: %(svc)s"", { 'svc': self.config['services']}) service_list = self.config['services'].keys() for svc in service_list: svc = self.config['services'][svc] pool = {} pool['pool_name'] = svc['pool_name'] pool['service_label'] = svc['pool_name'] pool['fs'] = svc['hdp'] self.pools.append(pool) LOG.debug(""Configured pools: %(pool)s"", {'pool': self.pools}) LOG.info(""HNAS NFS Driver loaded successfully."") def _clone_volume(self, src_vol, clone_name, src_name=None): """"""Clones mounted volume using the HNAS file_clone. :param src_vol: object source volume :param clone_name: string clone name (or snapshot) :param src_name: name of the source volume. """""" # when the source is a snapshot, we need to pass the source name and # use the information of the volume that originated the snapshot to # get the clone path. if not src_name: src_name = src_vol.name # volume-ID snapshot-ID, /cinder LOG.info(""Cloning with volume_name %(vname)s, clone_name %(cname)s"" "" ,export_path %(epath)s"", {'vname': src_name, 'cname': clone_name, 'epath': src_vol.provider_location}) (fs, path, fs_label) = self._get_service(src_vol) target_path = '%s/%s' % (path, clone_name) source_path = '%s/%s' % (path, src_name) self.backend.file_clone(fs_label, source_path, target_path) @cutils.trace def create_volume(self, volume): """"""Creates a volume. :param volume: volume reference :returns: the volume provider_location """""" self._ensure_shares_mounted() (fs_id, path, fslabel) = self._get_service(volume) volume.provider_location = fs_id LOG.info(""Volume service: %(label)s. Casted to: %(loc)s"", {'label': fslabel, 'loc': volume.provider_location}) self._do_create_volume(volume) return {'provider_location': fs_id} def _convert_vol_ref_share_name_to_share_ip(self, vol_ref): """"""Converts the share point name to an IP address. The volume reference may have a DNS name portion in the share name. Convert that to an IP address and then restore the entire path. :param vol_ref: driver-specific information used to identify a volume :returns: a volume reference where share is in IP format or raises error :raises e.strerror: """""" # First strip out share and convert to IP format. share_split = vol_ref.split(':') try: vol_ref_share_ip = cutils.resolve_hostname(share_split[0]) except socket.gaierror as e: LOG.exception('Invalid hostname %(host)s', {'host': share_split[0]}) LOG.debug('error: %(err)s', {'err': e.strerror}) raise # Now place back into volume reference. vol_ref_share = vol_ref_share_ip + ':' + share_split[1] return vol_ref_share def _get_share_mount_and_vol_from_vol_ref(self, vol_ref): """"""Get the NFS share, the NFS mount, and the volume from reference. Determine the NFS share point, the NFS mount point, and the volume (with possible path) from the given volume reference. Raise exception if unsuccessful. :param vol_ref: driver-specific information used to identify a volume :returns: NFS Share, NFS mount, volume path or raise error :raises ManageExistingInvalidReference: """""" # Check that the reference is valid. if 'source-name' not in vol_ref: reason = _('Reference must contain source-name element.') raise exception.ManageExistingInvalidReference( existing_ref=vol_ref, reason=reason) vol_ref_name = vol_ref['source-name'] self._ensure_shares_mounted() # If a share was declared as '1.2.3.4:/a/b/c' in the nfs_shares_config # file, but the admin tries to manage the file located at # 'my.hostname.com:/a/b/c/d.vol', this might cause a lookup miss below # when searching self._mounted_shares to see if we have an existing # mount that would work to access the volume-to-be-managed (a string # comparison is done instead of IP comparison). vol_ref_share = self._convert_vol_ref_share_name_to_share_ip( vol_ref_name) for nfs_share in self._mounted_shares: cfg_share = self._convert_vol_ref_share_name_to_share_ip(nfs_share) (orig_share, work_share, file_path) = vol_ref_share.partition(cfg_share) if work_share == cfg_share: file_path = file_path[1:] # strip off leading path divider LOG.debug(""Found possible share %(shr)s; checking mount."", {'shr': work_share}) nfs_mount = self._get_mount_point_for_share(nfs_share) vol_full_path = os.path.join(nfs_mount, file_path) if os.path.isfile(vol_full_path): LOG.debug(""Found share %(share)s and vol %(path)s on "" ""mount %(mnt)s."", {'share': nfs_share, 'path': file_path, 'mnt': nfs_mount}) return nfs_share, nfs_mount, file_path else: LOG.debug(""vol_ref %(ref)s not on share %(share)s."", {'ref': vol_ref_share, 'share': nfs_share}) raise exception.ManageExistingInvalidReference( existing_ref=vol_ref, reason=_('Volume/Snapshot not found on configured storage ' 'backend.')) @cutils.trace def manage_existing(self, volume, existing_vol_ref): """"""Manages an existing volume. The specified Cinder volume is to be taken into Cinder management. The driver will verify its existence and then rename it to the new Cinder volume name. It is expected that the existing volume reference is an NFS share point and some [/path]/volume; e.g., 10.10.32.1:/openstack/vol_to_manage or 10.10.32.1:/openstack/some_directory/vol_to_manage :param volume: cinder volume to manage :param existing_vol_ref: driver-specific information used to identify a volume :returns: the provider location :raises VolumeBackendAPIException: """""" # Attempt to find NFS share, NFS mount, and volume path from vol_ref. (nfs_share, nfs_mount, vol_name ) = self._get_share_mount_and_vol_from_vol_ref(existing_vol_ref) LOG.info(""Asked to manage NFS volume %(vol)s, "" ""with vol ref %(ref)s."", {'vol': volume.id, 'ref': existing_vol_ref['source-name']}) vol_id = utils.extract_id_from_volume_name(vol_name) if utils.check_already_managed_volume(vol_id): raise exception.ManageExistingAlreadyManaged(volume_ref=vol_name) self._check_pool_and_share(volume, nfs_share) if vol_name == volume.name: LOG.debug(""New Cinder volume %(vol)s name matches reference name: "" ""no need to rename."", {'vol': volume.name}) else: src_vol = os.path.join(nfs_mount, vol_name) dst_vol = os.path.join(nfs_mount, volume.name) try: self._try_execute(""mv"", src_vol, dst_vol, run_as_root=False, check_exit_code=True) LOG.debug(""Setting newly managed Cinder volume name "" ""to %(vol)s."", {'vol': volume.name}) self._set_rw_permissions_for_all(dst_vol) except (OSError, processutils.ProcessExecutionError) as err: msg = (_(""Failed to manage existing volume "" ""%(name)s, because rename operation "" ""failed: Error msg: %(msg)s."") % {'name': existing_vol_ref['source-name'], 'msg': six.text_type(err)}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) return {'provider_location': nfs_share} def _check_pool_and_share(self, volume, nfs_share): """"""Validates the pool and the NFS share. Checks if the NFS share for the volume-type chosen matches the one passed in the volume reference. Also, checks if the pool for the volume type matches the pool for the host passed. :param volume: cinder volume reference :param nfs_share: NFS share passed to manage :raises ManageExistingVolumeTypeMismatch: """""" pool_from_vol_type = hnas_utils.get_pool(self.config, volume) pool_from_host = utils.extract_host(volume.host, level='pool') if (pool_from_vol_type == 'default' and 'default' not in self.config['services']): msg = (_(""Failed to manage existing volume %(volume)s because the "" ""chosen volume type %(vol_type)s does not have a "" ""service_label configured in its extra-specs and there "" ""is no pool configured with hnas_svcX_volume_type as "" ""'default' in cinder.conf."") % {'volume': volume.id, 'vol_type': getattr(volume.volume_type, 'id', None)}) LOG.error(msg) raise exception.ManageExistingVolumeTypeMismatch(reason=msg) pool = self.config['services'][pool_from_vol_type]['hdp'] if pool != nfs_share: msg = (_(""Failed to manage existing volume because the pool of "" ""the volume type chosen (%(pool)s) does not match the "" ""NFS share passed in the volume reference (%(share)s)."") % {'share': nfs_share, 'pool': pool}) LOG.error(msg) raise exception.ManageExistingVolumeTypeMismatch(reason=msg) if pool_from_host != pool_from_vol_type: msg = (_(""Failed to manage existing volume because the pool of "" ""the volume type chosen (%(pool)s) does not match the "" ""pool of the host %(pool_host)s"") % {'pool': pool_from_vol_type, 'pool_host': pool_from_host}) LOG.error(msg) raise exception.ManageExistingVolumeTypeMismatch(reason=msg) @cutils.trace def manage_existing_get_size(self, volume, existing_vol_ref): """"""Returns the size of volume to be managed by manage_existing. When calculating the size, round up to the next GB. :param volume: cinder volume to manage :param existing_vol_ref: existing volume to take under management :returns: the size of the volume or raise error :raises VolumeBackendAPIException: """""" return self._manage_existing_get_size(existing_vol_ref) @cutils.trace def unmanage(self, volume): """"""Removes the specified volume from Cinder management. It does not delete the underlying backend storage object. A log entry will be made to notify the Admin that the volume is no longer being managed. :param volume: cinder volume to unmanage """""" vol_str = CONF.volume_name_template % volume.id path = self._get_mount_point_for_share(volume.provider_location) new_str = ""unmanage-"" + vol_str vol_path = os.path.join(path, vol_str) new_path = os.path.join(path, new_str) try: self._try_execute(""mv"", vol_path, new_path, run_as_root=False, check_exit_code=True) LOG.info(""The volume with path %(old)s is no longer being "" ""managed by Cinder. However, it was not deleted "" ""and can be found in the new path %(cr)s."", {'old': vol_path, 'cr': new_path}) except (OSError, ValueError): LOG.exception(""The NFS Volume %(cr)s does not exist."", {'cr': new_path}) def _get_file_size(self, file_path): file_size = float(cutils.get_file_size(file_path)) / units.Gi # Round up to next Gb return int(math.ceil(file_size)) def _manage_existing_get_size(self, existing_ref): # Attempt to find NFS share, NFS mount, and path from vol_ref. (nfs_share, nfs_mount, path ) = self._get_share_mount_and_vol_from_vol_ref(existing_ref) try: LOG.debug(""Asked to get size of NFS ref %(ref)s."", {'ref': existing_ref['source-name']}) file_path = os.path.join(nfs_mount, path) size = self._get_file_size(file_path) except (OSError, ValueError): exception_message = (_(""Failed to manage existing volume/snapshot "" ""%(name)s, because of error in getting "" ""its size.""), {'name': existing_ref['source-name']}) LOG.exception(exception_message) raise exception.VolumeBackendAPIException(data=exception_message) LOG.debug(""Reporting size of NFS ref %(ref)s as %(size)d GB."", {'ref': existing_ref['source-name'], 'size': size}) return size def _check_snapshot_parent(self, volume, old_snap_name, share): volume_name = 'volume-' + volume.id (fs, path, fs_label) = self._get_service(volume) # 172.24.49.34:/nfs_cinder export_path = self.backend.get_export_path(share.split(':')[1], fs_label) volume_path = os.path.join(export_path, volume_name) return self.backend.check_snapshot_parent(volume_path, old_snap_name, fs_label) def _get_snapshot_origin_from_name(self, snap_name): """"""Gets volume name from snapshot names"""""" if 'unmanage' in snap_name: return snap_name.split('.')[0][9:] return snap_name.split('.')[0] @cutils.trace def manage_existing_snapshot(self, snapshot, existing_ref): """"""Brings an existing backend storage object under Cinder management. :param snapshot: Cinder volume snapshot to manage :param existing_ref: Driver-specific information used to identify a volume snapshot """""" # Attempt to find NFS share, NFS mount, and volume path from ref. (nfs_share, nfs_mount, src_snapshot_name ) = self._get_share_mount_and_vol_from_vol_ref(existing_ref) LOG.info(""Asked to manage NFS snapshot %(snap)s for volume "" ""%(vol)s, with vol ref %(ref)s."", {'snap': snapshot.id, 'vol': snapshot.volume_id, 'ref': existing_ref['source-name']}) volume = snapshot.volume parent_name = self._get_snapshot_origin_from_name(src_snapshot_name) if parent_name != volume.name: # Check if the snapshot belongs to the volume for the legacy case if not self._check_snapshot_parent( volume, src_snapshot_name, nfs_share): msg = (_(""This snapshot %(snap)s doesn't belong "" ""to the volume parent %(vol)s."") % {'snap': src_snapshot_name, 'vol': volume.id}) raise exception.ManageExistingInvalidReference( existing_ref=existing_ref, reason=msg) snapshot_name = self._get_snapshot_name(snapshot) if src_snapshot_name == snapshot_name: LOG.debug(""New Cinder snapshot %(snap)s name matches reference "" ""name. No need to rename."", {'snap': snapshot_name}) else: src_snap = os.path.join(nfs_mount, src_snapshot_name) dst_snap = os.path.join(nfs_mount, snapshot_name) try: self._try_execute(""mv"", src_snap, dst_snap, run_as_root=False, check_exit_code=True) LOG.info(""Setting newly managed Cinder snapshot name "" ""to %(snap)s."", {'snap': snapshot_name}) self._set_rw_permissions_for_all(dst_snap) except (OSError, processutils.ProcessExecutionError) as err: msg = (_(""Failed to manage existing snapshot "" ""%(name)s, because rename operation "" ""failed: Error msg: %(msg)s."") % {'name': existing_ref['source-name'], 'msg': six.text_type(err)}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) return {'provider_location': nfs_share} @cutils.trace def manage_existing_snapshot_get_size(self, snapshot, existing_ref): return self._manage_existing_get_size(existing_ref) @cutils.trace def unmanage_snapshot(self, snapshot): """"""Removes the specified snapshot from Cinder management. Does not delete the underlying backend storage object. :param snapshot: Cinder volume snapshot to unmanage """""" path = self._get_mount_point_for_share(snapshot.provider_location) snapshot_name = self._get_snapshot_name(snapshot) if self._file_not_present(snapshot.provider_location, snapshot_name): LOG.info(""Unmanaging legacy snapshot %(snap)s."", {'snap': snapshot.name}) snapshot_name = snapshot.name new_name = ""unmanage-"" + snapshot_name old_path = os.path.join(path, snapshot_name) new_path = os.path.join(path, new_name) try: self._execute(""mv"", old_path, new_path, run_as_root=False, check_exit_code=True) LOG.info(""The snapshot with path %(old)s is no longer being "" ""managed by Cinder. However, it was not deleted and "" ""can be found in the new path %(cr)s."", {'old': old_path, 'cr': new_path}) except (OSError, ValueError): LOG.exception(""The NFS snapshot %(old)s does not exist."", {'old': old_path}) def _get_volumes_from_export(self, export_path): mnt_point = self._get_mount_point_for_share(export_path) vols = self._execute(""ls"", mnt_point, run_as_root=False, check_exit_code=True) vols = vols[0].split('\n') if '' in vols: vols.remove('') return list(vols) def _get_snapshot_origin(self, snap_path, fs_label): relatives = self.backend.get_cloned_file_relatives(snap_path, fs_label) origin = [] if not relatives: return elif len(relatives) > 1: for relative in relatives: if 'snapshot' not in relative: origin.append(relative) else: origin.append(relatives[0]) return origin def _get_manageable_resource_info(self, cinder_resources, resource_type, marker, limit, offset, sort_keys, sort_dirs): """"""Gets the resources on the backend available for management by Cinder. Receives the parameters from ""get_manageable_volumes"" and ""get_manageable_snapshots"" and gets the available resources :param cinder_resources: A list of resources in this host that Cinder currently manages :param resource_type: If it's a volume or a snapshot :param marker: The last item of the previous page; we return the next results after this value (after sorting) :param limit: Maximum number of items to return :param offset: Number of items to skip after marker :param sort_keys: List of keys to sort results by (valid keys are 'identifier' and 'size') :param sort_dirs: List of directions to sort by, corresponding to sort_keys (valid directions are 'asc' and 'desc') :returns: list of dictionaries, each specifying a volume or snapshot (resource) in the host, with the following keys: - reference (dictionary): The reference for a resource, which can be passed to ""manage_existing_snapshot"". - size (int): The size of the resource according to the storage backend, rounded up to the nearest GB. - safe_to_manage (boolean): Whether or not this resource is safe to manage according to the storage backend. - reason_not_safe (string): If safe_to_manage is False, the reason why. - cinder_id (string): If already managed, provide the Cinder ID. - extra_info (string): Any extra information to return to the user - source_reference (string): Similar to ""reference"", but for the snapshot's source volume. """""" entries = [] exports = {} bend_rsrc = {} cinder_ids = [resource.id for resource in cinder_resources] for service in self.config['services']: exp_path = self.config['services'][service]['hdp'] exports[exp_path] = ( self.config['services'][service]['export']['fs']) for exp in exports.keys(): # bend_rsrc has all the resources in the specified exports # volumes {u'172.24.54.39:/Export-Cinder': # ['volume-325e7cdc-8f65-40a8-be9a-6172c12c9394', # ' snapshot-1bfb6f0d-9497-4c12-a052-5426a76cacdc','']} bend_rsrc[exp] = self._get_volumes_from_export(exp) mnt_point = self._get_mount_point_for_share(exp) for resource in bend_rsrc[exp]: # Ignoring resources of unwanted types if ((resource_type == 'volume' and ('.' in resource or 'snapshot' in resource)) or (resource_type == 'snapshot' and '.' not in resource and 'snapshot' not in resource)): continue path = '%s/%s' % (exp, resource) mnt_path = '%s/%s' % (mnt_point, resource) size = self._get_file_size(mnt_path) rsrc_inf = {'reference': {'source-name': path}, 'size': size, 'cinder_id': None, 'extra_info': None} if resource_type == 'volume': potential_id = utils.extract_id_from_volume_name(resource) elif 'snapshot' in resource: # This is for the snapshot legacy case potential_id = utils.extract_id_from_snapshot_name( resource) else: potential_id = resource.split('.')[1] # When a resource is already managed by cinder, it's not # recommended to manage it again. So we set safe_to_manage = # False. Otherwise, it is set safe_to_manage = True. if potential_id in cinder_ids: rsrc_inf['safe_to_manage'] = False rsrc_inf['reason_not_safe'] = 'already managed' rsrc_inf['cinder_id'] = potential_id else: rsrc_inf['safe_to_manage'] = True rsrc_inf['reason_not_safe'] = None # If it's a snapshot, we try to get its source volume. However, # this search is not reliable in some cases. So, if it's not # possible to return a precise result, we return unknown as # source-reference, throw a warning message and fill the # extra-info. if resource_type == 'snapshot': if 'snapshot' not in resource: origin = self._get_snapshot_origin_from_name(resource) if 'unmanage' in origin: origin = origin[16:] else: origin = origin[7:] rsrc_inf['source_reference'] = {'id': origin} else: path = path.split(':')[1] origin = self._get_snapshot_origin(path, exports[exp]) if not origin: # if origin is empty, the file is not a clone continue elif len(origin) == 1: origin = origin[0].split('/')[2] origin = utils.extract_id_from_volume_name(origin) rsrc_inf['source_reference'] = {'id': origin} else: LOG.warning(""Could not determine the volume "" ""that owns the snapshot %(snap)s"", {'snap': resource}) rsrc_inf['source_reference'] = {'id': 'unknown'} rsrc_inf['extra_info'] = ('Could not determine ' 'the volume that owns ' 'the snapshot') entries.append(rsrc_inf) return utils.paginate_entries_list(entries, marker, limit, offset, sort_keys, sort_dirs) @cutils.trace def get_manageable_volumes(self, cinder_volumes, marker, limit, offset, sort_keys, sort_dirs): """"""List volumes on the backend available for management by Cinder."""""" return self._get_manageable_resource_info(cinder_volumes, 'volume', marker, limit, offset, sort_keys, sort_dirs) @cutils.trace def get_manageable_snapshots(self, cinder_snapshots, marker, limit, offset, sort_keys, sort_dirs): """"""List snapshots on the backend available for management by Cinder."""""" return self._get_manageable_resource_info(cinder_snapshots, 'snapshot', marker, limit, offset, sort_keys, sort_dirs) ",6,18996
openstack%2Fcinder~master~I935990d09f1374a8789b2a0dad8e8a334aa39abc,openstack/cinder,master,I935990d09f1374a8789b2a0dad8e8a334aa39abc,Remove Violin volume drivers,MERGED,2017-09-06 16:03:26.000000000,2018-02-25 14:31:49.000000000,2017-10-08 03:19:08.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-06 16:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/66a028e0c30e045afa79dc16863f027611cff47f', 'message': 'Remove Violin volume drivers\n\nThese drivers were marked as deprecated and unsupported in Pike due to\nlack of CI. This has not changed and they will now be removed.\n\nChange-Id: I935990d09f1374a8789b2a0dad8e8a334aa39abc\n'}, {'number': 2, 'created': '2017-09-15 15:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/38fca702720d0cbc51a64764eef9e6b17037e122', 'message': 'Remove Violin volume drivers\n\nThese drivers were marked as deprecated and unsupported in Pike due to\nlack of CI. This has not changed and they will now be removed.\n\nChange-Id: I935990d09f1374a8789b2a0dad8e8a334aa39abc\n'}, {'number': 3, 'created': '2017-10-07 19:00:05.000000000', 'files': ['doc/source/configuration/block-storage/volume-drivers.rst', 'cinder/volume/drivers/violin/__init__.py', 'cinder/volume/drivers/violin/v7000_iscsi.py', 'cinder/tests/unit/volume/drivers/violin/fake_vmem_client.py', 'cinder/volume/drivers/violin/v7000_fcp.py', 'releasenotes/notes/queens-driver-removal-72a1a36689b6d890.yaml', 'cinder/tests/unit/volume/drivers/violin/test_v7000_fcp.py', 'cinder/opts.py', 'cinder/tests/unit/volume/drivers/violin/__init__.py', 'cinder/tests/unit/volume/drivers/violin/test_v7000_common.py', 'doc/source/configuration/block-storage/drivers/violin-v7000-driver.rst', 'cinder/tests/unit/volume/drivers/test_v7000_iscsi.py', 'cinder/exception.py', 'doc/source/configuration/tables/cinder-violin.inc', 'cinder/volume/drivers/violin/v7000_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/46ee7ebdeb5bd5017c2e11a9c20fe5c160c76f36', 'message': 'Remove Violin volume drivers\n\nThese drivers were marked as deprecated and unsupported in Pike due to\nlack of CI. This has not changed and they will now be removed.\n\nChange-Id: I935990d09f1374a8789b2a0dad8e8a334aa39abc\n'}]",0,501334,46ee7ebdeb5bd5017c2e11a9c20fe5c160c76f36,135,44,3,11904,,,0,"Remove Violin volume drivers

These drivers were marked as deprecated and unsupported in Pike due to
lack of CI. This has not changed and they will now be removed.

Change-Id: I935990d09f1374a8789b2a0dad8e8a334aa39abc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/34/501334/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/block-storage/volume-drivers.rst', 'cinder/volume/drivers/violin/__init__.py', 'cinder/volume/drivers/violin/v7000_iscsi.py', 'cinder/tests/unit/volume/drivers/violin/fake_vmem_client.py', 'cinder/volume/drivers/violin/v7000_fcp.py', 'releasenotes/notes/queens-driver-removal-72a1a36689b6d890.yaml', 'cinder/tests/unit/volume/drivers/violin/test_v7000_fcp.py', 'cinder/opts.py', 'cinder/tests/unit/volume/drivers/violin/__init__.py', 'cinder/tests/unit/volume/drivers/violin/test_v7000_common.py', 'doc/source/configuration/block-storage/drivers/violin-v7000-driver.rst', 'cinder/tests/unit/volume/drivers/test_v7000_iscsi.py', 'cinder/exception.py', 'doc/source/configuration/tables/cinder-violin.inc', 'cinder/volume/drivers/violin/v7000_common.py']",15,66a028e0c30e045afa79dc16863f027611cff47f,ci_unsupported,,"# Copyright 2015 Violin Memory, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Violin Memory 7000 Series All-Flash Array Common Driver for OpenStack Cinder Provides common (ie., non-protocol specific) management functions for V7000 series flash arrays. Backend array communication is handled via VMEM's python library called 'vmemclient'. NOTE: this driver file requires the use of synchronization points for certain types of backend operations, and as a result may not work properly in an active-active HA configuration. See OpenStack Cinder driver documentation for more information. """""" import math import re import six import socket import time from oslo_config import cfg from oslo_log import log as logging from oslo_service import loopingcall from oslo_utils import units from cinder import context from cinder.db.sqlalchemy import api from cinder import exception from cinder.i18n import _ from cinder import utils from cinder.volume import configuration from cinder.volume import volume_types LOG = logging.getLogger(__name__) try: import vmemclient except ImportError: vmemclient = None else: LOG.info(""Running with vmemclient version: %s"", vmemclient.__version__) CONCERTO_SUPPORTED_VERSION_PATTERNS = ['Version 7.[0-9].?[0-9]?'] CONCERTO_DEFAULT_PRIORITY = 'medium' CONCERTO_DEFAULT_SRA_POLICY = 'preserveAll' CONCERTO_DEFAULT_SRA_ENABLE_EXPANSION = True CONCERTO_DEFAULT_SRA_EXPANSION_THRESHOLD = 50 CONCERTO_DEFAULT_SRA_EXPANSION_INCREMENT = '1024MB' CONCERTO_DEFAULT_SRA_EXPANSION_MAX_SIZE = None CONCERTO_DEFAULT_SRA_ENABLE_SHRINK = False CONCERTO_DEFAULT_POLICY_MAX_SNAPSHOTS = 1000 CONCERTO_DEFAULT_POLICY_RETENTION_MODE = 'All' CONCERTO_LUN_TYPE_THICK = 'THICK' LUN_ALLOC_SZ = 10 violin_opts = [ cfg.IntOpt('violin_request_timeout', default=300, help='Global backend request timeout, in seconds.'), cfg.ListOpt('violin_dedup_only_pools', default=[], help='Storage pools to be used to setup dedup luns only.' '(Comma separated list)'), cfg.ListOpt('violin_dedup_capable_pools', default=[], help='Storage pools capable of dedup and other luns.' '(Comma separated list)'), cfg.StrOpt('violin_pool_allocation_method', default='random', choices=['random', 'largest', 'smallest'], help='Method of choosing a storage pool for a lun.'), cfg.ListOpt('violin_iscsi_target_ips', default=[], help='Target iSCSI addresses to use.' '(Comma separated list)'), ] CONF = cfg.CONF CONF.register_opts(violin_opts, group=configuration.SHARED_CONF_GROUP) class V7000Common(object): """"""Contains common code for the Violin V7000 drivers."""""" def __init__(self, config): self.vmem_mg = None self.container = """" self.config = config def do_setup(self, context): """"""Any initialization the driver does while starting."""""" if not self.config.san_ip: raise exception.InvalidInput( reason=_('Gateway VIP is not set')) if vmemclient: self.vmem_mg = vmemclient.open(self.config.san_ip, self.config.san_login, self.config.san_password, keepalive=True) if self.vmem_mg is None: msg = _('Failed to connect to array') raise exception.VolumeBackendAPIException(data=msg) if self.vmem_mg.utility.is_external_head: # With an external storage pool configuration is a must if (self.config.violin_dedup_only_pools == [] and self.config.violin_dedup_capable_pools == []): LOG.warning(""Storage pools not configured."") raise exception.InvalidInput( reason=_('Storage pool configuration is ' 'mandatory for external head')) def check_for_setup_error(self): """"""Returns an error if prerequisites aren't met."""""" if vmemclient is None: msg = _('vmemclient python library not found') raise exception.VolumeBackendAPIException(data=msg) LOG.info(""CONCERTO version: %s"", self.vmem_mg.version) if not self._is_supported_vmos_version(self.vmem_mg.version): msg = _('CONCERTO version is not supported') raise exception.ViolinInvalidBackendConfig(reason=msg) @utils.synchronized('vmem-lun') def _create_lun(self, volume): """"""Creates a new lun. :param volume: volume object provided by the Manager """""" spec_dict = {} selected_pool = {} size_mb = volume['size'] * units.Ki full_size_mb = size_mb LOG.debug(""Creating LUN %(name)s, %(size)s MB."", {'name': volume['name'], 'size': size_mb}) spec_dict = self._process_extra_specs(volume) try: selected_pool = self._get_storage_pool( volume, size_mb, spec_dict['pool_type'], ""create_lun"") except exception.ViolinResourceNotFound: raise except Exception: msg = _('No suitable storage pool found') LOG.exception(msg) raise exception.ViolinBackendErr(message=msg) try: # Note: In the following create_lun command for setting up a dedup # or thin lun the size_mb parameter is ignored and 10% of the # full_size_mb specified is the size actually allocated to # the lun. full_size_mb is the size the lun is allowed to # grow. On the other hand, if it is a thick lun, the # full_size_mb is ignored and size_mb is the actual # allocated size of the lun. self._send_cmd(self.vmem_mg.lun.create_lun, ""Create resource successfully."", volume['id'], spec_dict['size_mb'], selected_pool['dedup'], selected_pool['thin'], full_size_mb, storage_pool_id=selected_pool['storage_pool_id']) except exception.ViolinBackendErrExists: LOG.debug(""Lun %s already exists, continuing."", volume['id']) except Exception: LOG.exception(""Lun create for %s failed!"", volume['id']) raise @utils.synchronized('vmem-lun') def _delete_lun(self, volume): """"""Deletes a lun. :param volume: volume object provided by the Manager """""" success_msgs = ['Delete resource successfully', ''] LOG.debug(""Deleting lun %s."", volume['id']) # If the LUN has ever had a snapshot, it has an SRA and # policy that must be deleted first. self._delete_lun_snapshot_bookkeeping(volume['id']) try: self._send_cmd(self.vmem_mg.lun.delete_lun, success_msgs, volume['id']) except vmemclient.core.error.NoMatchingObjectIdError: LOG.debug(""Lun %s already deleted, continuing."", volume['id']) except exception.ViolinBackendErrExists: LOG.exception(""Lun %s has dependent snapshots, "" ""skipping lun deletion."", volume['id']) raise exception.VolumeIsBusy(volume_name=volume['id']) except Exception: LOG.exception(""Lun delete for %s failed!"", volume['id']) raise def _extend_lun(self, volume, new_size): """"""Extend an existing volume's size. :param volume: volume object provided by the Manager :param new_size: new size in GB to be applied """""" v = self.vmem_mg typeid = volume['volume_type_id'] if typeid and not self.vmem_mg.utility.is_external_head: spec_value = self._get_volume_type_extra_spec(volume, ""dedup"") if spec_value and spec_value.lower() == ""true"": # A Dedup lun's size cannot be modified in Concerto. msg = _('Dedup luns cannot be extended') raise exception.VolumeDriverException(message=msg) size_mb = volume['size'] * units.Ki new_size_mb = new_size * units.Ki # Concerto lun extend requires number of MB to increase size by, # not the final size value. # delta_mb = new_size_mb - size_mb LOG.debug(""Extending lun %(id)s, from %(size)s to %(new_size)s MB."", {'id': volume['id'], 'size': size_mb, 'new_size': new_size_mb}) try: self._send_cmd(v.lun.extend_lun, ""Expand resource successfully"", volume['id'], delta_mb) except Exception: LOG.exception(""LUN extend failed!"") raise def _create_lun_snapshot(self, snapshot): """"""Create a new cinder snapshot on a volume. This maps onto a Concerto 'timemark', but we must always first ensure that a snapshot resource area (SRA) exists, and that a snapshot policy exists. :param snapshot: cinder snapshot object provided by the Manager :raises: VolumeBackendAPIException: If SRA could not be created, or snapshot policy could not be created RequestRetryTimeout: If backend could not complete the request within the allotted timeout. ViolinBackendErr: If backend reports an error during the create snapshot phase. """""" cinder_volume_id = snapshot['volume_id'] cinder_snapshot_id = snapshot['id'] LOG.debug(""Creating LUN snapshot %(snap_id)s on volume "" ""%(vol_id)s %(dpy_name)s."", {'snap_id': cinder_snapshot_id, 'vol_id': cinder_volume_id, 'dpy_name': snapshot['display_name']}) self._ensure_snapshot_resource_area(cinder_volume_id) self._ensure_snapshot_policy(cinder_volume_id) try: self._send_cmd( self.vmem_mg.snapshot.create_lun_snapshot, ""Create TimeMark successfully"", lun=cinder_volume_id, comment=self._compress_snapshot_id(cinder_snapshot_id), priority=CONCERTO_DEFAULT_PRIORITY, enable_notification=False) except Exception: LOG.exception(""Lun create snapshot for "" ""volume %(vol)s snapshot %(snap)s failed!"", {'vol': cinder_volume_id, 'snap': cinder_snapshot_id}) raise def _delete_lun_snapshot(self, snapshot): """"""Delete the specified cinder snapshot. :param snapshot: cinder snapshot object provided by the Manager :raises: RequestRetryTimeout: If backend could not complete the request within the allotted timeout. ViolinBackendErr: If backend reports an error during the delete snapshot phase. """""" LOG.debug(""Deleting snapshot %(snap_id)s on volume "" ""%(vol_id)s %(dpy_name)s"", {'snap_id': snapshot['id'], 'vol_id': snapshot['volume_id'], 'dpy_name': snapshot['display_name']}) return self._wait_run_delete_lun_snapshot(snapshot) def _create_volume_from_snapshot(self, snapshot, volume): """"""Create a new cinder volume from a given snapshot of a lun This maps onto a Concerto 'copy snapshot to lun'. Concerto creates the lun and then copies the snapshot into it. :param snapshot: cinder snapshot object provided by the Manager :param volume: cinder volume to be created """""" cinder_volume_id = volume['id'] cinder_snapshot_id = snapshot['id'] size_mb = volume['size'] * units.Ki result = None spec_dict = {} LOG.debug(""Copying snapshot %(snap_id)s onto volume %(vol_id)s "" ""%(dpy_name)s"", {'snap_id': cinder_snapshot_id, 'vol_id': cinder_volume_id, 'dpy_name': snapshot['display_name']}) source_lun_info = self.vmem_mg.lun.get_lun_info(snapshot['volume_id']) self._validate_lun_type_for_copy(source_lun_info['subType']) spec_dict = self._process_extra_specs(volume) try: selected_pool = self._get_storage_pool(volume, size_mb, spec_dict['pool_type'], ""create_lun"") except exception.ViolinResourceNotFound: raise except Exception: msg = _('No suitable storage pool found') LOG.exception(msg) raise exception.ViolinBackendErr(message=msg) try: result = self.vmem_mg.lun.copy_snapshot_to_new_lun( source_lun=snapshot['volume_id'], source_snapshot_comment=self._compress_snapshot_id( cinder_snapshot_id), destination=cinder_volume_id, storage_pool_id=selected_pool['storage_pool_id']) if not result['success']: self._check_error_code(result) except Exception: LOG.exception(""Copy snapshot to volume for "" ""snapshot %(snap)s volume %(vol)s failed!"", {'snap': cinder_snapshot_id, 'vol': cinder_volume_id}) raise # get the destination lun info and extract virtualdeviceid info = self.vmem_mg.lun.get_lun_info(object_id=result['object_id']) self._wait_for_lun_or_snap_copy( snapshot['volume_id'], dest_vdev_id=info['virtualDeviceID']) def _create_lun_from_lun(self, src_vol, dest_vol): """"""Copy the contents of a lun to a new lun (i.e., full clone). :param src_vol: cinder volume to clone :param dest_vol: cinder volume to be created """""" size_mb = dest_vol['size'] * units.Ki src_vol_mb = src_vol['size'] * units.Ki result = None spec_dict = {} LOG.debug(""Copying lun %(src_vol_id)s onto lun %(dest_vol_id)s."", {'src_vol_id': src_vol['id'], 'dest_vol_id': dest_vol['id']}) try: source_lun_info = self.vmem_mg.lun.get_lun_info(src_vol['id']) self._validate_lun_type_for_copy(source_lun_info['subType']) # in order to do a full clone the source lun must have a # snapshot resource self._ensure_snapshot_resource_area(src_vol['id']) spec_dict = self._process_extra_specs(dest_vol) selected_pool = self._get_storage_pool(dest_vol, size_mb, spec_dict['pool_type'], None) result = self.vmem_mg.lun.copy_lun_to_new_lun( source=src_vol['id'], destination=dest_vol['id'], storage_pool_id=selected_pool['storage_pool_id']) if not result['success']: self._check_error_code(result) except Exception: LOG.exception(""Create new lun from lun for source "" ""%(src)s => destination %(dest)s failed!"", {'src': src_vol['id'], 'dest': dest_vol['id']}) raise self._wait_for_lun_or_snap_copy( src_vol['id'], dest_obj_id=result['object_id']) # extend the copied lun if requested size is larger then original if size_mb > src_vol_mb: # dest_vol size has to be set to reflect what it is currently dest_vol_size = dest_vol['size'] dest_vol['size'] = src_vol['size'] self._extend_lun(dest_vol, dest_vol_size) dest_vol['size'] = dest_vol_size def _send_cmd(self, request_func, success_msgs, *args, **kwargs): """"""Run an XG request function, and retry as needed. The request will be retried until it returns a success message, a failure message, or the global request timeout is hit. This wrapper is meant to deal with backend requests that can fail for any variety of reasons, for instance, when the system is already busy handling other LUN requests. If there is no space left, or other ""fatal"" errors are returned (see _fatal_error_code() for a list of all known error conditions). :param request_func: XG api method to call :param success_msgs: Success messages expected from the backend :param *args: argument array to be passed to the request_func :param **kwargs: argument dictionary to be passed to request_func :returns: the response dict from the last XG call """""" resp = {} start = time.time() done = False if isinstance(success_msgs, six.string_types): success_msgs = [success_msgs] while not done: if time.time() - start >= self.config.violin_request_timeout: raise exception.ViolinRequestRetryTimeout( timeout=self.config.violin_request_timeout) resp = request_func(*args, **kwargs) if not resp['msg']: # XG requests will return None for a message if no message # string is passed in the raw response resp['msg'] = '' for msg in success_msgs: if resp['success'] and msg in resp['msg']: done = True break if not resp['success']: self._check_error_code(resp) done = True break return resp def _send_cmd_and_verify(self, request_func, verify_func, request_success_msgs='', rargs=None, vargs=None): """"""Run an XG request function, retry if needed, and verify success. If the verification fails, then retry the request/verify cycle until both functions are successful, the request function returns a failure message, or the global request timeout is hit. This wrapper is meant to deal with backend requests that can fail for any variety of reasons, for instance, when the system is already busy handling other LUN requests. It is also smart enough to give up if clustering is down (eg no HA available), there is no space left, or other ""fatal"" errors are returned (see _fatal_error_code() for a list of all known error conditions). :param request_func: XG api method to call :param verify_func: function call to verify request was completed :param request_success_msg: Success message expected for request_func :param *rargs: argument array to be passed to request_func :param *vargs: argument array to be passed to verify_func :returns: the response dict from the last XG call """""" resp = {} start = time.time() request_needed = True verify_needed = True if isinstance(request_success_msgs, six.string_types): request_success_msgs = [request_success_msgs] rargs = rargs if rargs else [] vargs = vargs if vargs else [] while request_needed or verify_needed: if time.time() - start >= self.config.violin_request_timeout: raise exception.ViolinRequestRetryTimeout( timeout=self.config.violin_request_timeout) if request_needed: resp = request_func(*rargs) if not resp['msg']: # XG requests will return None for a message if no message # string is passed in the raw response resp['msg'] = '' for msg in request_success_msgs: if resp['success'] and msg in resp['msg']: request_needed = False break if not resp['success']: self._check_error_code(resp) request_needed = False elif verify_needed: success = verify_func(*vargs) if success: # XG verify func was completed verify_needed = False return resp def _ensure_snapshot_resource_area(self, volume_id): """"""Make sure concerto snapshot resource area exists on volume. :param volume_id: Cinder volume ID corresponding to the backend LUN :raises: VolumeBackendAPIException: if cinder volume does not exist on backnd, or SRA could not be created. """""" ctxt = context.get_admin_context() volume = api.volume_get(ctxt, volume_id) spec_dict = {} if not volume: msg = (_(""Failed to ensure snapshot resource area, could not "" ""locate volume for id %s"") % volume_id) raise exception.VolumeBackendAPIException(data=msg) if not self.vmem_mg.snapshot.lun_has_a_snapshot_resource( lun=volume_id): # Per Concerto documentation, the SRA size should be computed # as follows # Size-of-original-LUN Reserve for SRA # < 500MB 100% # 500MB to 2G 50% # >= 2G 20% # Note: cinder volume.size is in GB, vmemclient wants MB. lun_size_mb = volume['size'] * units.Ki if lun_size_mb < 500: snap_size_mb = lun_size_mb elif lun_size_mb < 2000: snap_size_mb = 0.5 * lun_size_mb else: snap_size_mb = 0.2 * lun_size_mb snap_size_mb = int(math.ceil(snap_size_mb)) spec_dict = self._process_extra_specs(volume) try: selected_pool = self._get_storage_pool( volume, snap_size_mb, spec_dict['pool_type'], None) LOG.debug(""Creating SRA of %(ssmb)sMB for lun of %(lsmb)sMB "" ""on %(vol_id)s"", {'ssmb': snap_size_mb, 'lsmb': lun_size_mb, 'vol_id': volume_id}) except exception.ViolinResourceNotFound: raise except Exception: msg = _('No suitable storage pool found') LOG.exception(msg) raise exception.ViolinBackendErr(message=msg) res = self.vmem_mg.snapshot.create_snapshot_resource( lun=volume_id, size=snap_size_mb, enable_notification=False, policy=CONCERTO_DEFAULT_SRA_POLICY, enable_expansion=CONCERTO_DEFAULT_SRA_ENABLE_EXPANSION, expansion_threshold=CONCERTO_DEFAULT_SRA_EXPANSION_THRESHOLD, expansion_increment=CONCERTO_DEFAULT_SRA_EXPANSION_INCREMENT, expansion_max_size=CONCERTO_DEFAULT_SRA_EXPANSION_MAX_SIZE, enable_shrink=CONCERTO_DEFAULT_SRA_ENABLE_SHRINK, storage_pool_id=selected_pool['storage_pool_id']) if (not res['success']): msg = (_(""Failed to create snapshot resource area on "" ""volume %(vol)s: %(res)s."") % {'vol': volume_id, 'res': res['msg']}) raise exception.VolumeBackendAPIException(data=msg) def _ensure_snapshot_policy(self, volume_id): """"""Ensure concerto snapshot policy exists on cinder volume. A snapshot policy is required by concerto in order to create snapshots. :param volume_id: Cinder volume ID corresponding to the backend LUN :raises: VolumeBackendAPIException: when snapshot policy cannot be created. """""" if not self.vmem_mg.snapshot.lun_has_a_snapshot_policy( lun=volume_id): res = self.vmem_mg.snapshot.create_snapshot_policy( lun=volume_id, max_snapshots=CONCERTO_DEFAULT_POLICY_MAX_SNAPSHOTS, enable_replication=False, enable_snapshot_schedule=False, enable_cdp=False, retention_mode=CONCERTO_DEFAULT_POLICY_RETENTION_MODE) if not res['success']: msg = (_( ""Failed to create snapshot policy on "" ""volume %(vol)s: %(res)s."") % {'vol': volume_id, 'res': res['msg']}) raise exception.VolumeBackendAPIException(data=msg) def _delete_lun_snapshot_bookkeeping(self, volume_id): """"""Clear residual snapshot support resources from LUN. :raises: VolumeBackendAPIException: If snapshots still exist on the LUN. """""" # Make absolutely sure there are no snapshots present try: snaps = self.vmem_mg.snapshot.get_snapshots(volume_id) if len(snaps) > 0: msg = (_(""Cannot delete LUN %s while snapshots exist."") % volume_id) raise exception.VolumeBackendAPIException(data=msg) except vmemclient.core.error.NoMatchingObjectIdError: pass except vmemclient.core.error.MissingParameterError: pass try: res = self.vmem_mg.snapshot.delete_snapshot_policy( lun=volume_id) if not res['success']: if 'TimeMark is disabled' in res['msg']: LOG.debug(""Verified no snapshot policy is on volume %s."", volume_id) else: msg = (_(""Unable to delete snapshot policy on "" ""volume %s."") % volume_id) raise exception.VolumeBackendAPIException(data=msg) else: LOG.debug(""Deleted snapshot policy on volume "" ""%(vol)s, result %(res)s."", {'vol': volume_id, 'res': res}) except vmemclient.core.error.NoMatchingObjectIdError: LOG.debug(""Verified no snapshot policy present on volume %s."", volume_id) pass try: res = self.vmem_mg.snapshot.delete_snapshot_resource( lun=volume_id) LOG.debug(""Deleted snapshot resource area on "" ""volume %(vol)s, result %(res)s."", {'vol': volume_id, 'res': res}) except vmemclient.core.error.NoMatchingObjectIdError: LOG.debug(""Verified no snapshot resource area present on "" ""volume %s."", volume_id) pass def _compress_snapshot_id(self, cinder_snap_id): """"""Compress cinder snapshot ID so it fits in backend. Compresses to fit in 32-chars. """""" return ''.join(six.text_type(cinder_snap_id).split('-')) def _get_snapshot_from_lun_snapshots( self, cinder_volume_id, cinder_snap_id): """"""Locate backend snapshot dict associated with cinder snapshot id. :returns: Cinder snapshot dictionary if found, None otherwise. """""" try: snaps = self.vmem_mg.snapshot.get_snapshots(cinder_volume_id) except vmemclient.core.error.NoMatchingObjectIdError: return None key = self._compress_snapshot_id(cinder_snap_id) for s in snaps: if s['comment'] == key: # Remap return dict to its uncompressed form s['comment'] = cinder_snap_id return s def _wait_for_lun_or_snap_copy(self, src_vol_id, dest_vdev_id=None, dest_obj_id=None): """"""Poll to see when a lun or snap copy to a lun is complete. :param src_vol_id: cinder volume ID of source volume :param dest_vdev_id: virtual device ID of destination, for snap copy :param dest_obj_id: lun object ID of destination, for lun copy :returns: True if successful, False otherwise """""" wait_id = None wait_func = None if dest_vdev_id: wait_id = dest_vdev_id wait_func = self.vmem_mg.snapshot.get_snapshot_copy_status elif dest_obj_id: wait_id = dest_obj_id wait_func = self.vmem_mg.lun.get_lun_copy_status else: return False def _loop_func(): LOG.debug(""Entering _wait_for_lun_or_snap_copy loop: "" ""vdev=%s, objid=%s"", dest_vdev_id, dest_obj_id) target_id, mb_copied, percent = wait_func(src_vol_id) if target_id is None: # pre-copy transient result LOG.debug(""lun or snap copy prepping."") pass elif target_id != wait_id: # the copy is complete, another lun is being copied LOG.debug(""lun or snap copy complete."") raise loopingcall.LoopingCallDone(retvalue=True) elif mb_copied is not None: # copy is in progress LOG.debug(""MB copied: %(copied)d, percent done: %(percent)d."", {'copied': mb_copied, 'percent': percent}) pass elif percent == 0: # copy has just started LOG.debug(""lun or snap copy started."") pass elif percent == 100: # copy is complete LOG.debug(""lun or snap copy complete."") raise loopingcall.LoopingCallDone(retvalue=True) else: # unexpected case LOG.debug(""unexpected case (%(id)s, %(bytes)s, %(percent)s)"", {'id': target_id, 'bytes': mb_copied, 'percent': six.text_type(percent)}) raise loopingcall.LoopingCallDone(retvalue=False) timer = loopingcall.FixedIntervalLoopingCall(_loop_func) success = timer.start(interval=1).wait() return success def _is_supported_vmos_version(self, version_string): """"""Check a version string for compatibility with OpenStack. Compare a version string against the global regex of versions compatible with OpenStack. :param version_string: array's gateway version string :returns: True if supported, false if not """""" for pattern in CONCERTO_SUPPORTED_VERSION_PATTERNS: if re.match(pattern, version_string): return True return False def _check_error_code(self, response): """"""Raise an exception when backend returns certain errors. Error codes returned from the backend have to be examined individually. Not all of them are fatal. For example, lun attach failing becase the client is already attached is not a fatal error. :param response: a response dict result from the vmemclient request """""" if ""Error: 0x9001003c"" in response['msg']: # This error indicates a duplicate attempt to attach lun, # non-fatal error pass elif ""Error: 0x9002002b"" in response['msg']: # lun unexport failed - lun is not exported to any clients, # non-fatal error pass elif ""Error: 0x09010023"" in response['msg']: # lun delete failed - dependent snapshot copy in progress, # fatal error raise exception.ViolinBackendErr(message=response['msg']) elif ""Error: 0x09010048"" in response['msg']: # lun delete failed - dependent snapshots still exist, # fatal error raise exception.ViolinBackendErr(message=response['msg']) elif ""Error: 0x90010022"" in response['msg']: # lun create failed - lun with same name already exists, # fatal error raise exception.ViolinBackendErrExists() elif ""Error: 0x90010089"" in response['msg']: # lun export failed - lun is still being created as copy, # fatal error raise exception.ViolinBackendErr(message=response['msg']) else: # assume any other error is fatal raise exception.ViolinBackendErr(message=response['msg']) def _get_volume_type_extra_spec(self, volume, spec_key): """"""Parse data stored in a volume_type's extra_specs table. :param volume: volume object containing volume_type to query :param spec_key: the metadata key to search for :returns: string value associated with spec_key """""" spec_value = None ctxt = context.get_admin_context() typeid = volume['volume_type_id'] if typeid: volume_type = volume_types.get_volume_type(ctxt, typeid) volume_specs = volume_type.get('extra_specs') for key, val in volume_specs.items(): # Strip the prefix ""capabilities"" if ':' in key: scope = key.split(':') key = scope[1] if key == spec_key: spec_value = val break return spec_value def _get_violin_extra_spec(self, volume, spec_key): """"""Parse volume_type's extra_specs table for a violin-specific key. :param volume: volume object containing volume_type to query :param spec_key: the metadata key to search for :returns: string value associated with spec_key """""" spec_value = None ctxt = context.get_admin_context() typeid = volume['volume_type_id'] if typeid: volume_type = volume_types.get_volume_type(ctxt, typeid) volume_specs = volume_type.get('extra_specs') for key, val in volume_specs.items(): # Strip the prefix ""violin"" if ':' in key: scope = key.split(':') key = scope[1] if scope[0] == ""violin"" and key == spec_key: spec_value = val break return spec_value def _get_storage_pool(self, volume, size_in_mb, pool_type, usage): # User-specified pool takes precedence over others pool = None typeid = volume.get('volume_type_id') if typeid: # Extract the storage_pool name if one is specified pool = self._get_violin_extra_spec(volume, ""storage_pool"") # Select a storage pool selected_pool = self.vmem_mg.pool.select_storage_pool( size_in_mb, pool_type, pool, self.config.violin_dedup_only_pools, self.config.violin_dedup_capable_pools, self.config.violin_pool_allocation_method, usage) if selected_pool is None: # Backend has not provided a suitable storage pool msg = _(""Backend does not have a suitable storage pool."") raise exception.ViolinResourceNotFound(message=msg) LOG.debug(""Storage pool returned is %s"", selected_pool['storage_pool']) return selected_pool def _process_extra_specs(self, volume): spec_dict = {} thin_lun = False thick_lun = False dedup = False size_mb = volume['size'] * units.Ki full_size_mb = size_mb if self.config.san_thin_provision: thin_lun = True # Set the actual allocation size for thin lun # default here is 10% size_mb = int(math.ceil(float(size_mb) / LUN_ALLOC_SZ)) typeid = volume.get('volume_type_id') if typeid: # extra_specs with thin specified overrides san_thin_provision spec_value = self._get_volume_type_extra_spec(volume, ""thin"") if not thin_lun and spec_value and spec_value.lower() == ""true"": thin_lun = True # Set the actual allocation size for thin lun # default here is 10% size_mb = int(math.ceil(float(size_mb) / LUN_ALLOC_SZ)) # Set thick lun before checking for dedup, # since dedup is always thin if not thin_lun: thick_lun = True spec_value = self._get_volume_type_extra_spec(volume, ""dedup"") if spec_value and spec_value.lower() == ""true"": dedup = True # A dedup lun is always a thin lun thin_lun = True thick_lun = False # Set the actual allocation size for thin lun # default here is 10%. The actual allocation may # different, depending on other factors size_mb = int(math.ceil(float(full_size_mb) / LUN_ALLOC_SZ)) if dedup: spec_dict['pool_type'] = ""dedup"" elif thin_lun: spec_dict['pool_type'] = ""thin"" else: spec_dict['pool_type'] = ""thick"" thick_lun = True spec_dict['size_mb'] = size_mb spec_dict['thick'] = thick_lun spec_dict['thin'] = thin_lun spec_dict['dedup'] = dedup return spec_dict def _get_volume_stats(self, san_ip): """"""Gathers array stats and converts them to GB values."""""" free_gb = 0 total_gb = 0 owner = socket.getfqdn(san_ip) # Store DNS lookups to prevent asking the same question repeatedly owner_lookup = {san_ip: owner} pools = self.vmem_mg.pool.get_storage_pools( verify=True, include_full_info=True, ) for short_info, full_info in pools: mod = '' pool_free_mb = 0 pool_total_mb = 0 for dev in full_info.get('physicaldevices', []): if dev['owner'] not in owner_lookup: owner_lookup[dev['owner']] = socket.getfqdn(dev['owner']) if owner_lookup[dev['owner']] == owner: pool_free_mb += dev['availsize_mb'] pool_total_mb += dev['size_mb'] elif not mod: mod = ' *' LOG.debug('pool %(pool)s: %(avail)s / %(total)s MB free %(mod)s', {'pool': short_info['name'], 'avail': pool_free_mb, 'total': pool_total_mb, 'mod': mod}) free_gb += int(pool_free_mb / units.Ki) total_gb += int(pool_total_mb / units.Ki) data = { 'vendor_name': 'Violin Memory, Inc.', 'reserved_percentage': self.config.reserved_percentage, 'QoS_support': False, 'free_capacity_gb': free_gb, 'total_capacity_gb': total_gb, 'consistencygroup_support': False, } return data def _wait_run_delete_lun_snapshot(self, snapshot): """"""Run and wait for LUN snapshot to complete. :param snapshot -- cinder snapshot object provided by the Manager """""" cinder_volume_id = snapshot['volume_id'] cinder_snapshot_id = snapshot['id'] comment = self._compress_snapshot_id(cinder_snapshot_id) oid = self.vmem_mg.snapshot.snapshot_comment_to_object_id( cinder_volume_id, comment) def _loop_func(): LOG.debug(""Entering _wait_run_delete_lun_snapshot loop: "" ""vol=%(vol)s, snap_id=%(snap_id)s, oid=%(oid)s"", {'vol': cinder_volume_id, 'oid': oid, 'snap_id': cinder_snapshot_id}) try: ans = self.vmem_mg.snapshot.delete_lun_snapshot( snapshot_object_id=oid) except Exception: msg = (_(""Failed to delete snapshot "" ""%(snap)s of volume %(vol)s"") % {'snap': cinder_snapshot_id, 'vol': cinder_volume_id}) raise exception.ViolinBackendErr(msg) if ans['success']: LOG.debug(""Delete snapshot %(snap_id)s of %(vol)s: "" ""success"", {'vol': cinder_volume_id, 'snap_id': cinder_snapshot_id}) raise loopingcall.LoopingCallDone(retvalue=True) else: LOG.warning(""Delete snapshot %(snap)s of %(vol)s "" ""encountered temporary error: %(msg)s"", {'snap': cinder_snapshot_id, 'vol': cinder_volume_id, 'msg': ans['msg']}) timer = loopingcall.FixedIntervalLoopingCall(_loop_func) success = timer.start(interval=1).wait() return success def _validate_lun_type_for_copy(self, lun_type): """"""Make sure volume type is thick. :param lun_type: Cinder volume type :raises: VolumeBackendAPIException: if volume type is not thick, copying the lun is not possible. """""" if lun_type != CONCERTO_LUN_TYPE_THICK: msg = _('Lun copy currently only supported for thick luns') LOG.error(msg) raise exception.ViolinBackendErr(message=msg) ",1,4428
openstack%2Fcinder~stable%2Fpike~I1e82bf9d0b6cc0fb1d1fc2dd8b8ccc59aea3f73f,openstack/cinder,stable/pike,I1e82bf9d0b6cc0fb1d1fc2dd8b8ccc59aea3f73f,RBD: Fix stats reporting,MERGED,2017-09-06 15:31:27.000000000,2018-02-25 14:31:48.000000000,2017-10-06 13:19:44.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2759}, {'_account_id': 4523}, {'_account_id': 9535}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 18940}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-06 15:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f70f99a9b008f9ceef36e5ee3d1ed10c7053a37', 'message': ""RBD: Fix stats reporting\n\nCurrent RBD code is incorrectly reporting the stats of the pool in the\nfollowing ways:\n\n- `provisioned_capacity_gb` contains physical space used by cinder created\n  volumes.\n- `free_capacity_gb` is not taking into account that pools can have quota\n  restrictions and they should be used as the reference for the free capacity.\n- `total_capacity` dynamically changes, which means that there is no way to\n  have a fixed over provisioning capacity.\n\nThis patch fixes the stats reporting making sure we return the right\nvalues in `provisioned_capacity_gb` and `free_capacity_gb`, and allows\nus to use a static calculation of the `total_capacity` using\n`report_dynamic_total_capacity` configuration option.\n\nWe don't report `allocated_capacity_gb` because this is something that\nis calculated by the Cinder core code and should not be reported by\ndrivers, even if it's not currently working as expected [1][2].\n\n[1] https://bugs.launchpad.net/cinder/+bug/1712549\n[2] https://bugs.launchpad.net/cinder/+bug/1706057\n\nChange-Id: I1e82bf9d0b6cc0fb1d1fc2dd8b8ccc59aea3f73f\nCloses-Bug: #1706060\n(cherry picked from commit 8469109016bcfd5806e230202e1996a8ba649535)\nConflicts:\n\tcinder/tests/unit/volume/drivers/test_rbd.py\n\tcinder/volume/drivers/rbd.py\n""}, {'number': 2, 'created': '2017-10-06 09:14:32.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'releasenotes/notes/rbd-stats-report-0c7e803bb0b1aedb.yaml', 'cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8d7f37e810d3228d8b79e4add1a383abe516d9bb', 'message': ""RBD: Fix stats reporting\n\nCurrent RBD code is incorrectly reporting the stats of the pool in the\nfollowing ways:\n\n- `provisioned_capacity_gb` contains physical space used by cinder created\n  volumes.\n- `free_capacity_gb` is not taking into account that pools can have quota\n  restrictions and they should be used as the reference for the free capacity.\n- `total_capacity` dynamically changes, which means that there is no way to\n  have a fixed over provisioning capacity.\n\nThis patch fixes the stats reporting making sure we return the right\nvalues in `provisioned_capacity_gb` and `free_capacity_gb`, and allows\nus to use a static calculation of the `total_capacity` using\n`report_dynamic_total_capacity` configuration option.\n\nWe don't report `allocated_capacity_gb` because this is something that\nis calculated by the Cinder core code and should not be reported by\ndrivers, even if it's not currently working as expected [1][2].\n\n[1] https://bugs.launchpad.net/cinder/+bug/1712549\n[2] https://bugs.launchpad.net/cinder/+bug/1706057\n\nChange-Id: I1e82bf9d0b6cc0fb1d1fc2dd8b8ccc59aea3f73f\nCloses-Bug: #1706060\n(cherry picked from commit 8469109016bcfd5806e230202e1996a8ba649535)\nConflicts:\n\tcinder/tests/unit/volume/drivers/test_rbd.py\n\tcinder/volume/drivers/rbd.py\n""}]",0,501316,8d7f37e810d3228d8b79e4add1a383abe516d9bb,44,26,2,9535,,,0,"RBD: Fix stats reporting

Current RBD code is incorrectly reporting the stats of the pool in the
following ways:

- `provisioned_capacity_gb` contains physical space used by cinder created
  volumes.
- `free_capacity_gb` is not taking into account that pools can have quota
  restrictions and they should be used as the reference for the free capacity.
- `total_capacity` dynamically changes, which means that there is no way to
  have a fixed over provisioning capacity.

This patch fixes the stats reporting making sure we return the right
values in `provisioned_capacity_gb` and `free_capacity_gb`, and allows
us to use a static calculation of the `total_capacity` using
`report_dynamic_total_capacity` configuration option.

We don't report `allocated_capacity_gb` because this is something that
is calculated by the Cinder core code and should not be reported by
drivers, even if it's not currently working as expected [1][2].

[1] https://bugs.launchpad.net/cinder/+bug/1712549
[2] https://bugs.launchpad.net/cinder/+bug/1706057

Change-Id: I1e82bf9d0b6cc0fb1d1fc2dd8b8ccc59aea3f73f
Closes-Bug: #1706060
(cherry picked from commit 8469109016bcfd5806e230202e1996a8ba649535)
Conflicts:
	cinder/tests/unit/volume/drivers/test_rbd.py
	cinder/volume/drivers/rbd.py
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/501316/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'releasenotes/notes/rbd-stats-report-0c7e803bb0b1aedb.yaml', 'cinder/tests/unit/volume/drivers/test_rbd.py']",3,7f70f99a9b008f9ceef36e5ee3d1ed10c7053a37,bug/1706060," @mock.patch('cinder.volume.drivers.rbd.RBDDriver._get_usage_info') @mock.patch('cinder.volume.drivers.rbd.RBDDriver._get_pool_stats') def test_update_volume_stats(self, replication_enabled, stats_mock, usage_mock): stats_mock.return_value = (mock.sentinel.free_capacity_gb, mock.sentinel.total_capacity_gb) usage_mock.return_value = mock.sentinel.provisioned_capacity_gb total_capacity_gb=mock.sentinel.total_capacity_gb, free_capacity_gb=mock.sentinel.free_capacity_gb, provisioned_capacity_gb=mock.sentinel.provisioned_capacity_gb, @mock.patch('cinder.volume.drivers.rbd.RBDDriver._get_usage_info') @mock.patch('cinder.volume.drivers.rbd.RBDDriver._get_pool_stats') def test_update_volume_stats_error(self, stats_mock, usage_mock): provisioned_capacity_gb=0, @ddt.data( # Normal case, no quota and dynamic total {'free_capacity': 27.0, 'total_capacity': 28.44}, # No quota and static total {'dynamic_total': False, 'free_capacity': 27.0, 'total_capacity': 59.96}, # Quota and dynamic total {'quota_max_bytes': 3221225472, 'max_avail': 1073741824, 'free_capacity': 1, 'total_capacity': 2.44}, # Quota and static total {'quota_max_bytes': 3221225472, 'max_avail': 1073741824, 'dynamic_total': False, 'free_capacity': 1, 'total_capacity': 3.00}, # Quota and dynamic total when free would be negative {'quota_max_bytes': 1073741824, 'free_capacity': 0, 'total_capacity': 1.44}, ) @ddt.unpack @common_mocks def test_get_pool(self, free_capacity, total_capacity, max_avail=28987613184, quota_max_bytes=0, dynamic_total=True): client = self.mock_client.return_value client.__enter__.return_value = client client.cluster.mon_command.side_effect = [ (0, '{""stats"":{""total_bytes"":64385286144,' '""total_used_bytes"":3289628672,""total_avail_bytes"":61095657472},' '""pools"":[{""name"":""rbd"",""id"":2,""stats"":{""kb_used"":1510197,' '""bytes_used"":1546440971,""max_avail"":%s,""objects"":412}},' '{""name"":""volumes"",""id"":3,""stats"":{""kb_used"":0,""bytes_used"":0,' '""max_avail"":28987613184,""objects"":0}}]}\n' % max_avail, ''), (0, '{""pool_name"":""volumes"",""pool_id"":4,""quota_max_objects"":0,' '""quota_max_bytes"":%s}\n' % quota_max_bytes, ''), ] with mock.patch.object(self.driver.configuration, 'safe_get', return_value=dynamic_total): result = self.driver._get_pool_stats() client.cluster.mon_command.assert_has_calls([ mock.call('{""prefix"":""df"", ""format"":""json""}', ''), mock.call('{""prefix"":""osd pool get-quota"", ""pool"": ""rbd"",' ' ""format"":""json""}', ''), ]) self.assertEqual((free_capacity, total_capacity), result) @common_mocks def test_get_pool_stats_failure(self): client = self.mock_client.return_value client.__enter__.return_value = client client.cluster.mon_command.return_value = (-1, '', '') result = self.driver._get_pool_stats() self.assertEqual(('unknown', 'unknown'), result) @mock.patch('cinder.volume.drivers.rbd.RBDVolumeProxy') @mock.patch('cinder.volume.drivers.rbd.RADOSClient') @mock.patch('cinder.volume.drivers.rbd.RBDDriver.RBDProxy') def test__get_usage_info(self, rbdproxy_mock, client_mock, volproxy_mock): def FakeVolProxy(size): if size == -1: size_mock = mock.Mock(side_effect=MockImageNotFoundException) else: size_mock = mock.Mock(return_value=size * units.Gi) return mock.Mock(return_value=mock.Mock(size=size_mock)) volumes = ['volume-1', 'non-existent', 'non-cinder-volume'] client = client_mock.return_value.__enter__.return_value rbdproxy_mock.return_value.list.return_value = volumes volproxy_mock.side_effect = [ mock.Mock(**{'__enter__': FakeVolProxy(1.0), '__exit__': mock.Mock()}), mock.Mock(**{'__enter__': FakeVolProxy(-1), '__exit__': mock.Mock()}), mock.Mock(**{'__enter__': FakeVolProxy(2.0), '__exit__': mock.Mock()}) ] with mock.patch.object(self.driver, 'rbd') as mock_rbd: mock_rbd.ImageNotFound = MockImageNotFoundException total_provision = self.driver._get_usage_info() rbdproxy_mock.return_value.list.assert_called_once_with(client.ioctx) volproxy_mock.assert_has_calls([ mock.call(self.driver, volumes[0], read_only=True), mock.call(self.driver, volumes[1], read_only=True), ]) self.assertEqual(3.00, total_provision) "," def test_update_volume_stats(self, replication_enabled): client = self.mock_client.return_value client.__enter__.return_value = client client.cluster = mock.Mock() client.cluster.mon_command = mock.Mock() client.cluster.mon_command.return_value = ( 0, '{""stats"":{""total_bytes"":64385286144,' '""total_used_bytes"":3289628672,""total_avail_bytes"":61095657472},' '""pools"":[{""name"":""rbd"",""id"":2,""stats"":{""kb_used"":1510197,' '""bytes_used"":1546440971,""max_avail"":28987613184,""objects"":412}},' '{""name"":""volumes"",""id"":3,""stats"":{""kb_used"":0,""bytes_used"":0,' '""max_avail"":28987613184,""objects"":0}}]}\n', '') total_capacity_gb=28.44, free_capacity_gb=27.0, provisioned_capacity_gb=0.0, client.cluster.mon_command.assert_called_once_with( '{""prefix"":""df"", ""format"":""json""}', '') def test_update_volume_stats_error(self): client = self.mock_client.return_value client.__enter__.return_value = client client.cluster = mock.Mock() client.cluster.mon_command = mock.Mock() client.cluster.mon_command.return_value = (22, '', '') provisioned_capacity_gb=0.0, client.cluster.mon_command.assert_called_once_with( '{""prefix"":""df"", ""format"":""json""}', '')",202,59
openstack%2Fcinder~master~I7d7c4f7d9f9cc94d9ef4e0d5d430513cb3581f16,openstack/cinder,master,I7d7c4f7d9f9cc94d9ef4e0d5d430513cb3581f16,Cleanup some todo's for refresh(),MERGED,2017-10-04 21:17:22.000000000,2018-02-25 14:31:46.000000000,2017-10-05 05:56:11.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-04 21:17:22.000000000', 'files': ['cinder/volume/manager.py', 'cinder/backup/chunkeddriver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/250a529cfd3fe9b232a8d47e7d3419853fb2127a', 'message': ""Cleanup some todo's for refresh()\n\nThere were some TODO tags in the code to switch to using object refresh()\ncalls once that was available. We have that now, so clean up and switch a\nfew instances to call refresh instead of fetching a new object.\n\nChange-Id: I7d7c4f7d9f9cc94d9ef4e0d5d430513cb3581f16\n""}]",0,509640,250a529cfd3fe9b232a8d47e7d3419853fb2127a,33,29,1,11904,,,0,"Cleanup some todo's for refresh()

There were some TODO tags in the code to switch to using object refresh()
calls once that was available. We have that now, so clean up and switch a
few instances to call refresh instead of fetching a new object.

Change-Id: I7d7c4f7d9f9cc94d9ef4e0d5d430513cb3581f16
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/509640/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/backup/chunkeddriver.py']",2,250a529cfd3fe9b232a8d47e7d3419853fb2127a,use_refresh, backup.refresh()," backup = objects.Backup.get_by_id(self.context, backup.id)",8,12
openstack%2Fcinder~driverfixes%2Focata~Ic4c7fd66858039db3f9d09a0babd5601b25a95e3,openstack/cinder,driverfixes/ocata,Ic4c7fd66858039db3f9d09a0babd5601b25a95e3,Brocade: Add HTTP connection cleanup,MERGED,2017-10-04 19:51:33.000000000,2018-02-25 14:31:45.000000000,2017-10-28 03:05:01.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 8757}, {'_account_id': 11904}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-10-04 19:51:33.000000000', 'files': ['cinder/zonemanager/drivers/brocade/brcd_fc_san_lookup_service.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/516b56ee13024e638338d92453cfbe8169f116e5', 'message': 'Brocade: Add HTTP connection cleanup\n\nMethod for get device mapping opens\nconnection to the switch but does not\nclose the connection.  Add finally\nblock to close the session.\n\nCloses Bug: #1718762\n\nChange-Id: Ic4c7fd66858039db3f9d09a0babd5601b25a95e3\n'}]",0,509614,516b56ee13024e638338d92453cfbe8169f116e5,31,16,1,8757,,,0,"Brocade: Add HTTP connection cleanup

Method for get device mapping opens
connection to the switch but does not
close the connection.  Add finally
block to close the session.

Closes Bug: #1718762

Change-Id: Ic4c7fd66858039db3f9d09a0babd5601b25a95e3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/14/509614/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/zonemanager/drivers/brocade/brcd_fc_san_lookup_service.py'],1,516b56ee13024e638338d92453cfbe8169f116e5,bug/1718762-driverfixes/ocata," 1.2 - Fix open sessions issue VERSION = ""1.2"" finally: if conn: conn.cleanup()"," VERSION = ""1.1""",5,1
openstack%2Fcinder~master~Id5e59fce2ea5958bfcd4fbadb609f8f6cad42aa8,openstack/cinder,master,Id5e59fce2ea5958bfcd4fbadb609f8f6cad42aa8,VMAX driver - remove WLP stats,MERGED,2017-09-01 13:46:11.000000000,2018-02-25 14:31:43.000000000,2017-10-04 23:46:01.000000000,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23414}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-01 13:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/afcd475fa4b5f3c0eef26585ef878094244b3f39', 'message': 'VMAX driver - remove WLP stats\n\nWorkload Planner(WLP) headroom calculations are not always accurate\nfor All Flash arrays. Because WLP is generally always enabled on\nUnisphere, it is best use SRP calculations instead.\n\nChange-Id: Id5e59fce2ea5958bfcd4fbadb609f8f6cad42aa8\nCloses-Bug: #1714503\n'}, {'number': 2, 'created': '2017-09-20 08:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/acf7bb241da70e34fbe77259923dbc8a86806854', 'message': 'VMAX driver - remove WLP stats\n\nWorkload Planner(WLP) headroom calculations are not always accurate\nfor All Flash arrays. Because WLP is generally always enabled on\nUnisphere, it is best use SRP calculations instead.\n\nChange-Id: Id5e59fce2ea5958bfcd4fbadb609f8f6cad42aa8\nCloses-Bug: #1714503\n'}, {'number': 3, 'created': '2017-10-04 15:24:19.000000000', 'files': ['cinder/volume/drivers/dell_emc/vmax/provision.py', 'cinder/volume/drivers/dell_emc/vmax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/635e892cc8e7541e83697792c9f45d056460c845', 'message': 'VMAX driver - remove WLP stats\n\nWorkload Planner(WLP) headroom calculations are not always accurate\nfor All Flash arrays. Because WLP is generally always enabled on\nUnisphere, it is best use SRP calculations instead.\n\nChange-Id: Id5e59fce2ea5958bfcd4fbadb609f8f6cad42aa8\nCloses-Bug: #1714503\n'}]",1,500056,635e892cc8e7541e83697792c9f45d056460c845,94,44,3,12670,,,0,"VMAX driver - remove WLP stats

Workload Planner(WLP) headroom calculations are not always accurate
for All Flash arrays. Because WLP is generally always enabled on
Unisphere, it is best use SRP calculations instead.

Change-Id: Id5e59fce2ea5958bfcd4fbadb609f8f6cad42aa8
Closes-Bug: #1714503
",git fetch https://review.opendev.org/openstack/cinder refs/changes/56/500056/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/vmax/provision.py', 'cinder/volume/drivers/dell_emc/vmax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py']",4,afcd475fa4b5f3c0eef26585ef878094244b3f39,bug/1714503," if x.lower() not in ['none', 'optimized']] slo_workload_set.add('Optimized:None') array_reserve_percent) = self._update_srp_stats(array_info) provisionedManagedSpaceGbs, array_reserve_percent) = ( array_reserve_percent)"," if x.lower() not in ['none']] # This only applies to the arrays for which WLP is not enabled wlp_enabled = False # Query the SRP only once if WLP is not enabled array_reserve_percent, wlp_enabled) = self._update_srp_stats(array_info) if wlp_enabled is False: arrays[array_info['SerialNumber']] = ( [total_capacity_gb, free_capacity_gb, provisioned_capacity_gb, array_reserve_percent]) provisionedManagedSpaceGbs, array_reserve_percent, wlpEnabled) = ( array_reserve_percent, wlpEnabled)",16,138
openstack%2Fcinder~master~I651699e42c28c05fc8fd71cfeef54d98839c1a29,openstack/cinder,master,I651699e42c28c05fc8fd71cfeef54d98839c1a29,Generate create_at date in usage in isoformat for backups/snapshots,MERGED,2017-10-03 13:08:47.000000000,2018-02-25 14:31:29.000000000,2017-10-19 20:08:02.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25456}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-10-03 13:08:47.000000000', 'files': ['cinder/volume/utils.py', 'cinder/tests/unit/test_volume_utils.py', 'cinder/tests/unit/api/v2/test_snapshots.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ba8dc73cd2964fe81553e76df7bdf7d88d9a70ed', 'message': 'Generate create_at date in usage in isoformat for backups/snapshots\n\nChange the format of the dates when generating notifications\nfor snapshots and backups. This was generating a format problem\nwhen inserting events into Elasticsearch via Panko, due to an invalid\nformat (YYYY-MM-DD HH:mm:ssZ to YYYY-MM-DDTHH:mm:ssZ)\n\nChange-Id: I651699e42c28c05fc8fd71cfeef54d98839c1a29\n'}]",0,509169,ba8dc73cd2964fe81553e76df7bdf7d88d9a70ed,42,28,1,25568,,,0,"Generate create_at date in usage in isoformat for backups/snapshots

Change the format of the dates when generating notifications
for snapshots and backups. This was generating a format problem
when inserting events into Elasticsearch via Panko, due to an invalid
format (YYYY-MM-DD HH:mm:ssZ to YYYY-MM-DDTHH:mm:ssZ)

Change-Id: I651699e42c28c05fc8fd71cfeef54d98839c1a29
",git fetch https://review.opendev.org/openstack/cinder refs/changes/69/509169/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/utils.py', 'cinder/tests/unit/test_volume_utils.py', 'cinder/tests/unit/api/v2/test_snapshots.py']",3,ba8dc73cd2964fe81553e76df7bdf7d88d9a70ed,isoformat_date,"import datetimeimport pytz 'created_at': ""2014-01-01 00:00:00"", 'created_at': datetime.datetime(2014, 1, 1, 0, 0, 0, tzinfo=pytz.utc),"," 'created_at': None,",9,6
openstack%2Fcinder~master~I008cd9089568c5ba084f9c1dacb1ab6e47fc7362,openstack/cinder,master,I008cd9089568c5ba084f9c1dacb1ab6e47fc7362,Mark Cisco FC ZM driver as unsupported,MERGED,2017-09-28 19:20:23.000000000,2018-02-25 14:31:16.000000000,2017-10-27 21:28:02.000000000,"[{'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18529}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-28 19:20:23.000000000', 'files': ['releasenotes/notes/mark-cisco-zm-unsupported-57e5612f57e2407b.yaml', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c92c428233df7b42bea05bf5468771c07fa8e51b', 'message': ""Mark Cisco FC ZM driver as unsupported\n\nThe Cisco Fibre Channel Zone Manager CI has not run\nsuccessfully during the required period:\n\nChecking name: Cisco CI\n  first seen: 2017-02-14 06:07:46 (226 days, 11:04:34 old)\n  last seen: 2017-03-03 16:52:40 (209 days, 0:19:40 old)\n  last success: 2017-02-23 17:09:46 (217 days, 0:02:34 old)\n  Job cisco_zm_cinder 48% success out of 250 comments S=122, F=128\n      last success: 2017-02-23 17:09:46 (217 days, 0:02:34 old)\n\nPer Cinder's non-compliance policy, this patch marks the driver\nas unsupported and deprecated.  The driver will be removed in\nthe next cycle if the problem is not corrected.\n\nChange-Id: I008cd9089568c5ba084f9c1dacb1ab6e47fc7362\n""}]",0,508275,c92c428233df7b42bea05bf5468771c07fa8e51b,76,31,1,7198,,,0,"Mark Cisco FC ZM driver as unsupported

The Cisco Fibre Channel Zone Manager CI has not run
successfully during the required period:

Checking name: Cisco CI
  first seen: 2017-02-14 06:07:46 (226 days, 11:04:34 old)
  last seen: 2017-03-03 16:52:40 (209 days, 0:19:40 old)
  last success: 2017-02-23 17:09:46 (217 days, 0:02:34 old)
  Job cisco_zm_cinder 48% success out of 250 comments S=122, F=128
      last success: 2017-02-23 17:09:46 (217 days, 0:02:34 old)

Per Cinder's non-compliance policy, this patch marks the driver
as unsupported and deprecated.  The driver will be removed in
the next cycle if the problem is not corrected.

Change-Id: I008cd9089568c5ba084f9c1dacb1ab6e47fc7362
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/508275/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/mark-cisco-zm-unsupported-57e5612f57e2407b.yaml', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_driver.py']",2,c92c428233df7b42bea05bf5468771c07fa8e51b,cisco-fc-zm-unsupported, # TODO(jsbryant) Remove driver in Rocky if CI is not fixed SUPPORTED = False ,,18,0
openstack%2Fcinder~master~Iccf87ee22c4e8dce03067fc3435aea1bbb33f61e,openstack/cinder,master,Iccf87ee22c4e8dce03067fc3435aea1bbb33f61e,Reserve 5 migrations for DB backports,MERGED,2018-02-22 16:53:02.000000000,2018-02-25 14:31:08.000000000,2018-02-23 04:07:04.000000000,"[{'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11600}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-22 16:53:02.000000000', 'files': ['cinder/db/sqlalchemy/migrate_repo/versions/122_placeholder.py', 'cinder/db/sqlalchemy/migrate_repo/versions/121_placeholder.py', 'cinder/db/sqlalchemy/migrate_repo/versions/119_placeholder.py', 'cinder/db/sqlalchemy/migrate_repo/versions/118_placeholder.py', 'cinder/db/sqlalchemy/migrate_repo/versions/120_placeholder.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/139bb49770586a87f485f7a1038b76ad2c6d9a1c', 'message': 'Reserve 5 migrations for DB backports\n\nReserve 5 database migrations in case we need to\nbackport changes to the stable/queens branch.\n\nChange-Id: Iccf87ee22c4e8dce03067fc3435aea1bbb33f61e\n'}]",0,547068,139bb49770586a87f485f7a1038b76ad2c6d9a1c,43,33,1,4523,,,0,"Reserve 5 migrations for DB backports

Reserve 5 database migrations in case we need to
backport changes to the stable/queens branch.

Change-Id: Iccf87ee22c4e8dce03067fc3435aea1bbb33f61e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/68/547068/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/db/sqlalchemy/migrate_repo/versions/122_placeholder.py', 'cinder/db/sqlalchemy/migrate_repo/versions/121_placeholder.py', 'cinder/db/sqlalchemy/migrate_repo/versions/119_placeholder.py', 'cinder/db/sqlalchemy/migrate_repo/versions/118_placeholder.py', 'cinder/db/sqlalchemy/migrate_repo/versions/120_placeholder.py']",5,139bb49770586a87f485f7a1038b76ad2c6d9a1c,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # This is a placeholder for Queens backports. # Do not use this number for new Rocky work. New work starts after # all the placeholders. # # See this for more information: # http://lists.openstack.org/pipermail/openstack-dev/2013-March/006827.html def upgrade(migrate_engine): pass ",,110,0
openstack%2Fcinder~stable%2Fqueens~I117319ac12991e4b46170fe71d18a65ea4c98556,openstack/cinder,stable/queens,I117319ac12991e4b46170fe71d18a65ea4c98556,Cinder logs rabbitmq password on connection log,MERGED,2018-02-17 19:15:18.000000000,2018-02-25 14:30:41.000000000,2018-02-20 22:32:38.000000000,"[{'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-17 19:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/285ec396445c7895b432899c5e8c72ae0635bea8', 'message': 'Cinder logs rabbitmq password on connection log\n\nCinder displays rabbitmq password if debug is enabled.\n\nCloses-Bug: 1750074\nChange-Id: I117319ac12991e4b46170fe71d18a65ea4c98556\n'}, {'number': 2, 'created': '2018-02-19 21:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f0ba4c1d1649b850ef68a04f961951671143b291', 'message': 'Cinder logs rabbitmq password on connection log\n\nCinder displays rabbitmq password if debug is enabled.\n\nCloses-Bug: 1750074\nChange-Id: I117319ac12991e4b46170fe71d18a65ea4c98556\n(cherry picked from commit 919dd16a35ef2d0fd2ee4911398ba7830c02c6fd)\n'}, {'number': 3, 'created': '2018-02-20 16:43:10.000000000', 'files': ['cinder/service.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ca9bf2d1c56605a565ffc468bb91fb5d58ef5ce9', 'message': 'Cinder logs rabbitmq password on connection log\n\nCinder displays rabbitmq password if debug is enabled.\n\nCloses-Bug: 1750074\nChange-Id: I117319ac12991e4b46170fe71d18a65ea4c98556\n(cherry picked from commit 919dd16a35ef2d0fd2ee4911398ba7830c02c6fd)\n'}]",0,545622,ca9bf2d1c56605a565ffc468bb91fb5d58ef5ce9,56,18,3,11269,,,0,"Cinder logs rabbitmq password on connection log

Cinder displays rabbitmq password if debug is enabled.

Closes-Bug: 1750074
Change-Id: I117319ac12991e4b46170fe71d18a65ea4c98556
(cherry picked from commit 919dd16a35ef2d0fd2ee4911398ba7830c02c6fd)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/545622/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/service.py'],1,285ec396445c7895b432899c5e8c72ae0635bea8,bug/1750074," (flag == ""transport_url"" and ""rabbit:"" in flag_get) or",,1,0
openstack%2Fcinder~master~I53e94a827c3ba31c7322e6faecfcc8ebf4a05b4a,openstack/cinder,master,I53e94a827c3ba31c7322e6faecfcc8ebf4a05b4a,Add multiattach reporting to SolidFire,MERGED,2018-02-20 03:41:25.000000000,2018-02-25 14:30:21.000000000,2018-02-20 10:36:02.000000000,"[{'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9562}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18883}, {'_account_id': 19844}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-20 03:41:25.000000000', 'files': ['cinder/volume/drivers/solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ab4bbccb83b0c6ab80ddb809239a7747981e43a', 'message': 'Add multiattach reporting to SolidFire\n\nWonders never cease!  Multiattach has landed, the cow jumped over\nthe moon and they put Humpty Dumpty back together again!\n\nThis change just addes multiattach=True to the SolidFire driver\nnow that everything has in fact landed.\n\nChange-Id: I53e94a827c3ba31c7322e6faecfcc8ebf4a05b4a\n'}]",0,546023,0ab4bbccb83b0c6ab80ddb809239a7747981e43a,42,27,1,2243,,,0,"Add multiattach reporting to SolidFire

Wonders never cease!  Multiattach has landed, the cow jumped over
the moon and they put Humpty Dumpty back together again!

This change just addes multiattach=True to the SolidFire driver
now that everything has in fact landed.

Change-Id: I53e94a827c3ba31c7322e6faecfcc8ebf4a05b4a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/23/546023/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/solidfire.py'],1,0ab4bbccb83b0c6ab80ddb809239a7747981e43a,add_multiattach_capability_to_solidfire, data['multiattach'] = True,,1,0
openstack%2Fcinder~master~Id5a961c66a62e289a96daa7437374768ef407bb6,openstack/cinder,master,Id5a961c66a62e289a96daa7437374768ef407bb6,Tests: Fix 3par tests with hash randomization,MERGED,2018-02-19 20:39:52.000000000,2018-02-25 14:30:15.000000000,2018-02-22 00:30:39.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-19 20:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bb2b84fb2ffb8059be3287333b7c9a826d439f16', 'message': 'Tests: Fix 3par tests with hash randomization\n\n""fcwwns"" does not have a deterministic order -- account\nfor this in the unit test.\n\nChange-Id: Id5a961c66a62e289a96daa7437374768ef407bb6\n'}, {'number': 2, 'created': '2018-02-19 22:19:25.000000000', 'files': ['cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/91f19a8b75d7f95911e4762f7aeee984ba317f48', 'message': 'Tests: Fix 3par tests with hash randomization\n\n""fcwwns"" does not have a deterministic order -- account\nfor this in the unit test.\n\nChange-Id: Id5a961c66a62e289a96daa7437374768ef407bb6\n'}]",0,545978,91f19a8b75d7f95911e4762f7aeee984ba317f48,46,27,2,4523,,,0,"Tests: Fix 3par tests with hash randomization

""fcwwns"" does not have a deterministic order -- account
for this in the unit test.

Change-Id: Id5a961c66a62e289a96daa7437374768ef407bb6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/545978/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py'],1,bb2b84fb2ffb8059be3287333b7c9a826d439f16,545978," fcwwns = ['123456789054321', '123456789012345'] {'FCWWNs': mock.ANY, # We don't know what order fcwwns is supplied in. Since # there are only two members, test it both ways. call1 = mock.call('fakehost', {'FCWWNs': fcwwns, 'pathOperation': 1}) fcwwns_rev = fcwwns.copy() fcwwns_rev.reverse() call2 = mock.call('fakehost', {'FCWWNs': fcwwns_rev, 'pathOperation': 1}) self.assertTrue(call1 in mock_client.modifyHost.call_args_list or call2 in mock_client.modifyHost.call_args_list) "," # On Python 3, hash is randomized, and so set() is used to get # the expected order fcwwns = list(set(('123456789054321', '123456789012345'))) {'FCWWNs': fcwwns,",14,4
openstack%2Fcinder~master~I599b585444cbd51182d9f17fddd97bd91637e1e3,openstack/cinder,master,I599b585444cbd51182d9f17fddd97bd91637e1e3,Tests: Fix NetApp tests with hash randomization,MERGED,2018-02-19 18:26:08.000000000,2018-02-25 14:30:12.000000000,2018-02-20 11:01:27.000000000,"[{'_account_id': 170}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-19 18:26:08.000000000', 'files': ['cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py', 'cinder/tests/unit/volume/drivers/netapp/eseries/test_library.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3b13d77a263d787fce7d6e627ceda9e38fde2236', 'message': 'Tests: Fix NetApp tests with hash randomization\n\nValues in initiator target maps are ordered randomly depending\non the hash seed used -- account for this in unit tests.\n\nPartial-Bug: #1715915\n\nChange-Id: I599b585444cbd51182d9f17fddd97bd91637e1e3\n'}]",0,545949,3b13d77a263d787fce7d6e627ceda9e38fde2236,26,22,1,4523,,,0,"Tests: Fix NetApp tests with hash randomization

Values in initiator target maps are ordered randomly depending
on the hash seed used -- account for this in unit tests.

Partial-Bug: #1715915

Change-Id: I599b585444cbd51182d9f17fddd97bd91637e1e3
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/545949/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py', 'cinder/tests/unit/volume/drivers/netapp/eseries/test_library.py']",2,3b13d77a263d787fce7d6e627ceda9e38fde2236,bug/1348818," for i in eseries_fake.FC_I_T_MAP: for t in eseries_fake.FC_I_T_MAP[i]: self.assertIn(t, initiator_target_map[i]) "," self.assertDictEqual(eseries_fake.FC_I_T_MAP, initiator_target_map)",10,2
openstack%2Fcinder~master~I4977ad687150b5a1d6f09a961fca4db5d768ef71,openstack/cinder,master,I4977ad687150b5a1d6f09a961fca4db5d768ef71,Fix find -delete race in tox,MERGED,2018-02-19 18:08:09.000000000,2018-02-25 14:29:49.000000000,2018-02-20 00:35:19.000000000,"[{'_account_id': 2243}, {'_account_id': 4523}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-19 18:08:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0368192a1f74f91c59739bab82dab1fddcd87c44', 'message': 'Fix find -delete race in tox\n\nIf you launch py35 and py27 envs from the same\ndirectory simultaneously, the find -delete commands\nhere will race against each other and cause a\nfailure.\n\nSet the find option to ignore readdir races.\n\nChange-Id: I4977ad687150b5a1d6f09a961fca4db5d768ef71\n'}]",0,545940,0368192a1f74f91c59739bab82dab1fddcd87c44,30,20,1,4523,,,0,"Fix find -delete race in tox

If you launch py35 and py27 envs from the same
directory simultaneously, the find -delete commands
here will race against each other and cause a
failure.

Set the find option to ignore readdir races.

Change-Id: I4977ad687150b5a1d6f09a961fca4db5d768ef71
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/545940/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0368192a1f74f91c59739bab82dab1fddcd87c44,," find . -ignore_readdir_race -type f -name ""*.pyc"" -delete"," find . -type f -name ""*.pyc"" -delete",1,1
openstack%2Fcinder~master~I49a5e61345ce7c90a527367ae69a28ac04295865,openstack/cinder,master,I49a5e61345ce7c90a527367ae69a28ac04295865,Use oslo_db.sqlalchemy.test_fixtures,MERGED,2018-02-19 15:52:44.000000000,2018-02-25 14:29:47.000000000,2018-02-19 22:42:58.000000000,"[{'_account_id': 4523}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-19 15:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2bc0f147058d6e0d3ca523f42a70c747b587ebaf', 'message': 'Use oslo_db.sqlalchemy.test_fixtures\n\nThe change in Iaf77db73e368aee0d09b4c8e76f180f394f1aa37\nmakes use of oslo_db.tests.*, which was not the intent of the\ndeprecations added to oslo_db in\nI0163e637ffef6d45d2573ebe29b5438911d01fce.   Make use of the\nnewer fixtures in oslo_db.sqlalchemy.test_fixtures which is\nwhat was intended to supersede oslo_db.sqlalchemy.test_base.\n\nChange-Id: I49a5e61345ce7c90a527367ae69a28ac04295865\n'}, {'number': 2, 'created': '2018-02-19 16:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6a4ece970a2f843c9d708a42038dbb18b664715', 'message': 'Use oslo_db.sqlalchemy.test_fixtures\n\nThe change in Iaf77db73e368aee0d09b4c8e76f180f394f1aa37\nmakes use of oslo_db.tests.*, which was not the intent of the\ndeprecations added to oslo_db in\nI0163e637ffef6d45d2573ebe29b5438911d01fce.   Make use of the\nnewer fixtures in oslo_db.sqlalchemy.test_fixtures which is\nwhat was intended to supersede oslo_db.sqlalchemy.test_base.\n\nChange-Id: I49a5e61345ce7c90a527367ae69a28ac04295865\n(cherry picked from commit 2bc0f147058d6e0d3ca523f42a70c747b587ebaf)\n'}, {'number': 3, 'created': '2018-02-19 16:36:50.000000000', 'files': ['cinder/tests/unit/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/97bc3cb0c30ac8d6f394ce1dd5c04d1df425e908', 'message': 'Use oslo_db.sqlalchemy.test_fixtures\n\nThe change in Iaf77db73e368aee0d09b4c8e76f180f394f1aa37\nmakes use of oslo_db.tests.*, which was not the intent of the\ndeprecations added to oslo_db in\nI0163e637ffef6d45d2573ebe29b5438911d01fce.   Make use of the\nnewer fixtures in oslo_db.sqlalchemy.test_fixtures which is\nwhat was intended to supersede oslo_db.sqlalchemy.test_base.\n\nChange-Id: I49a5e61345ce7c90a527367ae69a28ac04295865\n'}]",0,545860,97bc3cb0c30ac8d6f394ce1dd5c04d1df425e908,32,20,3,11816,,,0,"Use oslo_db.sqlalchemy.test_fixtures

The change in Iaf77db73e368aee0d09b4c8e76f180f394f1aa37
makes use of oslo_db.tests.*, which was not the intent of the
deprecations added to oslo_db in
I0163e637ffef6d45d2573ebe29b5438911d01fce.   Make use of the
newer fixtures in oslo_db.sqlalchemy.test_fixtures which is
what was intended to supersede oslo_db.sqlalchemy.test_base.

Change-Id: I49a5e61345ce7c90a527367ae69a28ac04295865
",git fetch https://review.opendev.org/openstack/cinder refs/changes/60/545860/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/db/test_migrations.py'],1,2bc0f147058d6e0d3ca523f42a70c747b587ebaf,use_correct_oslodb_fixtures,"from oslo_db.sqlalchemy import enginefacade from oslo_db.sqlalchemy import test_fixturesfrom oslotest import base as test_base def setUp(self): super(MigrationsMixin, self).setUp() # (zzzeek) This mixin states that it uses the # ""self.engine"" attribute in the migrate_engine() method. # So the mixin must set that up for itself, oslo_db no longer # makes these assumptions for you. self.engine = enginefacade.writer.get_engine() class TestSqliteMigrations(test_fixtures.OpportunisticDBTestMixin, MigrationsMixin, test_base.BaseTestCase): class TestMysqlMigrations(test_fixtures.OpportunisticDBTestMixin, MigrationsMixin, test_base.BaseTestCase): FIXTURE = test_fixtures.MySQLOpportunisticFixtureclass TestPostgresqlMigrations(test_fixtures.OpportunisticDBTestMixin, MigrationsMixin, test_base.BaseTestCase): FIXTURE = test_fixtures.PostgresqlOpportunisticFixture","from oslo_db.tests.sqlalchemy import base as test_baseclass TestSqliteMigrations(test_base.DbTestCase, MigrationsMixin):class TestMysqlMigrations(test_base.MySQLOpportunisticTestCase, MigrationsMixin): class TestPostgresqlMigrations(test_base.PostgreSQLOpportunisticTestCase, MigrationsMixin):",26,7
openstack%2Fcinder~master~I68f78dc37973a5f29f4ef110b4ff08716f2288be,openstack/cinder,master,I68f78dc37973a5f29f4ef110b4ff08716f2288be,Tests: Fix python version check,MERGED,2018-02-16 19:44:34.000000000,2018-02-25 14:29:33.000000000,2018-02-16 23:44:21.000000000,"[{'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-16 19:44:34.000000000', 'files': ['cinder/tests/unit/api/test_api_validation.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3f0ccb746270e86bde9daeb61534e50b062f074e', 'message': 'Tests: Fix python version check\n\nThis version check assumes that there will\nnever be a version of Python 3 after 3.5...\n\nRelated-Bug: #1749953\n\nChange-Id: I68f78dc37973a5f29f4ef110b4ff08716f2288be\n'}]",0,545441,3f0ccb746270e86bde9daeb61534e50b062f074e,28,23,1,4523,,,0,"Tests: Fix python version check

This version check assumes that there will
never be a version of Python 3 after 3.5...

Related-Bug: #1749953

Change-Id: I68f78dc37973a5f29f4ef110b4ff08716f2288be
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/545441/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/api/test_api_validation.py'],1,3f0ccb746270e86bde9daeb61534e50b062f074e,bug/1749953, ver_info = sys.version_info if ver_info.major == 3 and ver_info.minor >= 5:, if sys.version[:3] == '3.5':,2,1
openstack%2Fcinder~driverfixes%2Fnewton~I5c6ad150543213acfd0c78dbbdb1dc1584d22d26,openstack/cinder,driverfixes/newton,I5c6ad150543213acfd0c78dbbdb1dc1584d22d26,NetApp ONTAP: Copy offload bugfix,MERGED,2018-02-09 10:39:36.000000000,2018-02-25 14:28:58.000000000,2018-02-20 15:13:23.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14865}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24815}]","[{'number': 1, 'created': '2018-02-09 10:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/248f2997195e286e698113046d7c9fdfa5ee8fc6', 'message': ""NetApp ONTAP: Copy offload bugfix\n\nWhen 'NetApp NFS Copy Offload' tool is configured to download Glance\nimages, these images are downloaded twice because the tool is doing\nthe job after Cinder has already done it.\nThis patch fixes the bug by executing the copy offload tool inside the\nclone_image function instead of using the copy_image_to_volume.\n\nCloses-bug: #1632333\n\nChange-Id: I5c6ad150543213acfd0c78dbbdb1dc1584d22d26\n""}, {'number': 2, 'created': '2018-02-09 10:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c89d3ac221c3c99dc4dfb0cbb21e54be92b02fec', 'message': ""NetApp ONTAP: Copy offload bugfix\n\nWhen 'NetApp NFS Copy Offload' tool is configured to download Glance\nimages, these images are downloaded twice because the tool is doing\nthe job after Cinder has already done it.\nThis patch fixes the bug by executing the copy offload tool inside the\nclone_image function instead of using the copy_image_to_volume.\n\nCloses-bug: #1632333\n\nChange-Id: I5c6ad150543213acfd0c78dbbdb1dc1584d22d26\n""}, {'number': 3, 'created': '2018-02-09 11:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/49049c1e5e058cd795ec2945910e4d469a5f71a9', 'message': ""NetApp ONTAP: Copy offload bugfix\n\nWhen 'NetApp NFS Copy Offload' tool is configured to download Glance\nimages, these images are downloaded twice because the tool is doing\nthe job after Cinder has already done it.\nThis patch fixes the bug by executing the copy offload tool inside the\nclone_image function instead of using the copy_image_to_volume.\n\nCloses-bug: #1632333\n\nChange-Id: I5c6ad150543213acfd0c78dbbdb1dc1584d22d26\n""}, {'number': 4, 'created': '2018-02-13 12:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aa9bc1584e9663afe83c74181bf6f5083b6d6523', 'message': ""NetApp ONTAP: Copy offload bugfix\n\nWhen 'NetApp NFS Copy Offload' tool is configured to download Glance\nimages, these images are downloaded twice because the tool is doing\nthe job after Cinder has already done it.\nThis patch fixes the bug by executing the copy offload tool inside the\nclone_image function instead of using the copy_image_to_volume.\n\nCloses-bug: #1632333\n\nChange-Id: I5c6ad150543213acfd0c78dbbdb1dc1584d22d26\n(cherry-picked from commit c27173bad69da4889a5237cf2becc14bb6fc578a)\n""}, {'number': 5, 'created': '2018-02-16 16:19:30.000000000', 'files': ['releasenotes/notes/bug-1632333-netapp-ontap-copyoffload-downloads-glance-image-twice-08801d8c7b9eed2c.yaml', 'cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5840e0e654e4c87e3d673b2a25c199e84a4af80c', 'message': ""NetApp ONTAP: Copy offload bugfix\n\nWhen 'NetApp NFS Copy Offload' tool is configured to download Glance\nimages, these images are downloaded twice because the tool is doing\nthe job after Cinder has already done it.\nThis patch fixes the bug by executing the copy offload tool inside the\nclone_image function instead of using the copy_image_to_volume.\n\nCloses-bug: #1632333\nDepends-on: https://review.openstack.org/542773\n\nChange-Id: I5c6ad150543213acfd0c78dbbdb1dc1584d22d26\n(cherry-picked from commit c27173bad69da4889a5237cf2becc14bb6fc578a)\n""}]",0,542771,5840e0e654e4c87e3d673b2a25c199e84a4af80c,54,19,5,10058,,,0,"NetApp ONTAP: Copy offload bugfix

When 'NetApp NFS Copy Offload' tool is configured to download Glance
images, these images are downloaded twice because the tool is doing
the job after Cinder has already done it.
This patch fixes the bug by executing the copy offload tool inside the
clone_image function instead of using the copy_image_to_volume.

Closes-bug: #1632333
Depends-on: https://review.openstack.org/542773

Change-Id: I5c6ad150543213acfd0c78dbbdb1dc1584d22d26
(cherry-picked from commit c27173bad69da4889a5237cf2becc14bb6fc578a)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/542771/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1632333-netapp-ontap-copyoffload-downloads-glance-image-twice-08801d8c7b9eed2c.yaml', 'cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py']",4,248f2997195e286e698113046d7c9fdfa5ee8fc6,bug/1632333," def _copy_from_cache(self, volume, image_id, cache_result): """"""Try copying image file_name from cached file"""""" raise NotImplementedError() def _copy_from_img_service(self, context, volume, image_service, image_id): raise NotImplementedError() major, minor = self.zapi_client.get_ontapi_version() col_path = self.configuration.netapp_copyoffload_tool_path cloned = self._copy_from_cache(volume, image_id, cache_result) # Try to use the copy offload tool if not cloned and col_path and major == 1 and minor >= 20: cloned = self._copy_from_img_service(context, volume, image_service, image_id) share = (volume_utils.extract_host(volume['host'], level='pool') if cloned else None) LOG.info('Performing post clone for %s', volume['name']) share = volume_utils.extract_host(volume['host'], level='pool') vol_path = self._get_volume_path(share, volume['name']) "," cloned = self._clone_from_cache(volume, image_id, cache_result) share = volume['provider_location'] if cloned else None volume['provider_location'] = share LOG.info(_LI('Performing post clone for %s'), volume['name']) vol_path = self.local_path(volume)",142,173
openstack%2Fcinder~master~I0a350c94ed4637c59b82dfad3926714451e37abb,openstack/cinder,master,I0a350c94ed4637c59b82dfad3926714451e37abb,Remove legacy driver name mappings,MERGED,2018-02-14 22:00:31.000000000,2018-02-25 14:28:50.000000000,2018-02-20 11:02:17.000000000,"[{'_account_id': 170}, {'_account_id': 1736}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-14 22:00:31.000000000', 'files': ['cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f01c5c96a7d388f6575716cac08b85c9a5aea051', 'message': 'Remove legacy driver name mappings\n\nWe have several drivers that were renamed in Ocata, and one\n(Dell EMC SC Series) that was renamed in Pike. Since this\nhas been over two releases, we can now remove the legacy\nname mapping for these drivers.\n\nChange-Id: I0a350c94ed4637c59b82dfad3926714451e37abb\n'}]",0,544708,f01c5c96a7d388f6575716cac08b85c9a5aea051,48,35,1,11904,,,0,"Remove legacy driver name mappings

We have several drivers that were renamed in Ocata, and one
(Dell EMC SC Series) that was renamed in Pike. Since this
has been over two releases, we can now remove the legacy
name mapping for these drivers.

Change-Id: I0a350c94ed4637c59b82dfad3926714451e37abb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/08/544708/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,f01c5c96a7d388f6575716cac08b85c9a5aea051,remove_mapping,," 'cinder.volume.drivers.emc.scaleio': 'cinder.volume.drivers.dell_emc.scaleio.driver', 'cinder.volume.drivers.emc.vnx.driver.EMCVNXDriver': 'cinder.volume.drivers.dell_emc.vnx.driver.VNXDriver', 'cinder.volume.drivers.emc.xtremio.XtremIOISCSIDriver': 'cinder.volume.drivers.dell_emc.xtremio.XtremIOISCSIDriver', 'cinder.volume.drivers.emc.xtremio.XtremIOFibreChannelDriver': 'cinder.volume.drivers.dell_emc.xtremio.XtremIOFCDriver', 'cinder.volume.drivers.datera.DateraDriver': 'cinder.volume.drivers.datera.datera_iscsi.DateraDriver', 'cinder.volume.drivers.emc.emc_vmax_iscsi.EMCVMAXISCSIDriver': 'cinder.volume.drivers.dell_emc.vmax.iscsi.VMAXISCSIDriver', 'cinder.volume.drivers.emc.emc_vmax_fc.EMCVMAXFCDriver': 'cinder.volume.drivers.dell_emc.vmax.fc.VMAXFCDriver', 'cinder.volume.drivers.eqlx.DellEQLSanISCSIDriver': 'cinder.volume.drivers.dell_emc.ps.PSSeriesISCSIDriver', 'cinder.volume.drivers.dell.dell_storagecenter_iscsi.' 'DellStorageCenterISCSIDriver': 'cinder.volume.drivers.dell_emc.sc.storagecenter_iscsi.' 'SCISCSIDriver', 'cinder.volume.drivers.dell.dell_storagecenter_fc.' 'DellStorageCenterFCDriver': 'cinder.volume.drivers.dell_emc.sc.storagecenter_fc.' 'SCFCDriver',",0,24
openstack%2Fcinder~stable%2Fqueens~If65300e0686ee5a0977e27380369d1638cd36e7e,openstack/cinder,stable/queens,If65300e0686ee5a0977e27380369d1638cd36e7e,Enable multiattach capability for the zfssa driver,MERGED,2018-02-14 17:27:26.000000000,2018-02-25 14:28:48.000000000,2018-02-15 05:38:39.000000000,"[{'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 17386}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-14 17:27:26.000000000', 'files': ['cinder/volume/drivers/zfssa/zfssaiscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b5ba21cd7bbd09880a216d12a871d413fbd84130', 'message': 'Enable multiattach capability for the zfssa driver\n\nEnable multiattach capability for the zfssa driver.\n\nRelated to blueprint multi-attach-v3-attach\n\nChange-Id: If65300e0686ee5a0977e27380369d1638cd36e7e\n(cherry picked from commit 228015300fea1173c35e357ff48af69c7857bc94)\n'}]",0,544561,b5ba21cd7bbd09880a216d12a871d413fbd84130,23,19,1,7198,,,0,"Enable multiattach capability for the zfssa driver

Enable multiattach capability for the zfssa driver.

Related to blueprint multi-attach-v3-attach

Change-Id: If65300e0686ee5a0977e27380369d1638cd36e7e
(cherry picked from commit 228015300fea1173c35e357ff48af69c7857bc94)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/61/544561/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/zfssa/zfssaiscsi.py'],1,b5ba21cd7bbd09880a216d12a871d413fbd84130,bp/multi-attach-v3-attach, data['multiattach'] = True,,1,0
openstack%2Fcinder~stable%2Fqueens~I4a59ed298ba2542dcb4d6787b47085749a34244e,openstack/cinder,stable/queens,I4a59ed298ba2542dcb4d6787b47085749a34244e,Improve logs on scheduler,MERGED,2018-02-13 12:17:18.000000000,2018-02-25 14:28:35.000000000,2018-02-19 22:43:02.000000000,"[{'_account_id': 4523}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-13 12:17:18.000000000', 'files': ['cinder/scheduler/filters/capacity_filter.py', 'cinder/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/525191ab0f6e6a472d18505820400cf56e2e3dd1', 'message': 'Improve logs on scheduler\n\nScheduler decisions still not easy to track due lacking of information\nabout backends and pools. This adds more verbose information on that\nso we can have a better means to help debug problems.\n\nTrivialFix\n\nChange-Id: I4a59ed298ba2542dcb4d6787b47085749a34244e\n(cherry picked from commit 9c4cd4a2d75d36145f68e08d3aa28f9a45a68f48)\n'}]",0,543913,525191ab0f6e6a472d18505820400cf56e2e3dd1,25,20,1,10058,,,0,"Improve logs on scheduler

Scheduler decisions still not easy to track due lacking of information
about backends and pools. This adds more verbose information on that
so we can have a better means to help debug problems.

TrivialFix

Change-Id: I4a59ed298ba2542dcb4d6787b47085749a34244e
(cherry picked from commit 9c4cd4a2d75d36145f68e08d3aa28f9a45a68f48)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/13/543913/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/filters/capacity_filter.py', 'cinder/scheduler/host_manager.py']",2,525191ab0f6e6a472d18505820400cf56e2e3dd1,rebase-logs-queens," LOG.debug(""Consumed %s GB from backend: %s"", volume['size'], self) return (""%(grouping)s '%(grouping_name)s':"" ""free_capacity_gb: %(free_capacity_gb)s, "" ""total_capacity_gb: %(total_capacity_gb)s,"" ""allocated_capacity_gb: %(allocated_capacity_gb)s, "" ""max_over_subscription_ratio: %(mosr)s,"" ""reserved_percentage: %(reserved_percentage)s, "" ""provisioned_capacity_gb: %(provisioned_capacity_gb)s,"" ""thin_provisioning_support: %(thin_provisioning_support)s, "" ""thick_provisioning_support: %(thick)s,"" ""pools: %(pools)s,"" ""updated at: %(updated)s"" % {'grouping': grouping, 'grouping_name': grouping_name, 'free_capacity_gb': self.free_capacity_gb, 'total_capacity_gb': self.total_capacity_gb, 'allocated_capacity_gb': self.allocated_capacity_gb, 'mosr': self.max_over_subscription_ratio, 'reserved_percentage': self.reserved_percentage, 'provisioned_capacity_gb': self.provisioned_capacity_gb, 'thin_provisioning_support': self.thin_provisioning_support, 'thick': self.thick_provisioning_support, 'pools': self.pools, 'updated': self.updated})"," return (""%s '%s': free_capacity_gb: %s, pools: %s"" % (grouping, grouping_name, self.free_capacity_gb, self.pools))",33,7
openstack%2Fcinder~master~I3c27fa7aa3e4649bad4627bfd8847005baa639af,openstack/cinder,master,I3c27fa7aa3e4649bad4627bfd8847005baa639af,Fix grammar error,MERGED,2018-02-11 03:25:51.000000000,2018-02-25 14:28:26.000000000,2018-02-22 00:29:55.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 16422}, {'_account_id': 19844}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-11 03:25:51.000000000', 'files': ['doc/source/contributor/api_microversion_dev.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/baa697f99825ce2fdd516ef72726449f06882892', 'message': ""Fix grammar error\n\nmodify 'a' to 'an'.\n\nChange-Id: I3c27fa7aa3e4649bad4627bfd8847005baa639af\n""}]",1,543163,baa697f99825ce2fdd516ef72726449f06882892,36,30,1,27566,,,0,"Fix grammar error

modify 'a' to 'an'.

Change-Id: I3c27fa7aa3e4649bad4627bfd8847005baa639af
",git fetch https://review.opendev.org/openstack/cinder refs/changes/63/543163/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/api_microversion_dev.rst'],1,baa697f99825ce2fdd516ef72726449f06882892,cinder,is no restriction the maximum version. Alternatively an one sided comparison,is no restriction the maximum version. Alternatively a one sided comparison,1,1
openstack%2Fcinder~master~I399215f4d3d95232cca79c742154ee44c3ca49c8,openstack/cinder,master,I399215f4d3d95232cca79c742154ee44c3ca49c8,Imported Translations from Zanata,MERGED,2018-02-09 06:48:59.000000000,2018-02-25 14:28:16.000000000,2018-02-09 08:05:18.000000000,"[{'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16898}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-09 06:48:59.000000000', 'files': ['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/37cf609ec63b13211c4f02bb99646ac3a66b0c29', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I399215f4d3d95232cca79c742154ee44c3ca49c8\n'}]",0,542632,37cf609ec63b13211c4f02bb99646ac3a66b0c29,32,24,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I399215f4d3d95232cca79c742154ee44c3ca49c8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/32/542632/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/ja/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po']",3,37cf609ec63b13211c4f02bb99646ac3a66b0c29,zanata/translations,"# Grald LONLAS <g.lonlas@gmail.com>, 2016. #zanata msgid """" msgstr """" ""Project-Id-Version: Cinder Release Notes\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2018-02-08 12:51+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2016-10-22 04:39+0000\n"" ""Last-Translator: Grald LONLAS <g.lonlas@gmail.com>\n"" ""Language-Team: French\n"" ""Language: fr\n"" ""X-Generator: Zanata 3.9.6\n"" ""Plural-Forms: nplurals=2; plural=(n > 1)\n"" msgid ""7.0.1"" msgstr ""7.0.1"" msgid ""7.0.2"" msgstr ""7.0.2"" msgid ""8.0.0"" msgstr ""8.0.0"" msgid ""8.1.0"" msgstr ""8.1.0"" msgid ""8.1.1"" msgstr ""8.1.1"" msgid ""9.0.0"" msgstr ""9.0.0"" msgid ""Bug Fixes"" msgstr ""Corrections de bugs"" msgid ""Cinder Release Notes"" msgstr ""Note de release de Cinder"" msgid ""Current Series Release Notes"" msgstr ""Note de la release actuelle"" msgid ""Deprecation Notes"" msgstr ""Notes dprcies "" msgid ""Known Issues"" msgstr ""Problmes connus"" msgid ""Liberty Series Release Notes"" msgstr ""Note de release pour Liberty"" msgid ""Mitaka Series Release Notes"" msgstr ""Note de release pour Mitaka"" msgid ""New Features"" msgstr ""Nouvelles fonctionnalits"" msgid ""Newton Series Release Notes"" msgstr ""Note de release pour Newton"" msgid ""Other Notes"" msgstr ""Autres notes"" msgid ""Security Issues"" msgstr ""Problmes de scurits"" msgid ""Upgrade Notes"" msgstr ""Notes de mises  jours"" ",,833,5
openstack%2Fcinder~stable%2Fqueens~Icbe0036410d7fa15b5b567d3c4a2429aafc6e391,openstack/cinder,stable/queens,Icbe0036410d7fa15b5b567d3c4a2429aafc6e391,Update UPPER_CONSTRAINTS_FILE for stable/queens,MERGED,2018-02-08 17:27:02.000000000,2018-02-25 14:28:07.000000000,2018-02-13 14:51:47.000000000,"[{'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 26537}, {'_account_id': 27552}]","[{'number': 1, 'created': '2018-02-08 17:27:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5546b519397e5c41503bbc7be51b1af15d8fdea7', 'message': ""Update UPPER_CONSTRAINTS_FILE for stable/queens\n\nThe new stable upper-constraints file is only available\nafter the openstack/requirements repository is branched.\nThis will happen around the RC1 timeframe.\n\nRecheck and merge this change once the requirements\nrepository has been branched.\n\nThe CI system will work with this patch before the requirements\nrepository is branched because zuul configues the job to run\nwith a local copy of the file and defaults to the master branch.\nHowever, accepting the patch will break the test configuration\non developers' local systems, so please wait until after the\nrequirements repository is branched to merge the patch.\n\nChange-Id: Icbe0036410d7fa15b5b567d3c4a2429aafc6e391\n""}]",0,542337,5546b519397e5c41503bbc7be51b1af15d8fdea7,27,18,1,22816,,,0,"Update UPPER_CONSTRAINTS_FILE for stable/queens

The new stable upper-constraints file is only available
after the openstack/requirements repository is branched.
This will happen around the RC1 timeframe.

Recheck and merge this change once the requirements
repository has been branched.

The CI system will work with this patch before the requirements
repository is branched because zuul configues the job to run
with a local copy of the file and defaults to the master branch.
However, accepting the patch will break the test configuration
on developers' local systems, so please wait until after the
requirements repository is branched to merge the patch.

Change-Id: Icbe0036410d7fa15b5b567d3c4a2429aafc6e391
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/542337/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5546b519397e5c41503bbc7be51b1af15d8fdea7,create-queens,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/queens} {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/queens} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/queens},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},3,3
openstack%2Fcinder~stable%2Fpike~I987ff6f27c30c1ed53f6d6b592f3877f1f8c8ae2,openstack/cinder,stable/pike,I987ff6f27c30c1ed53f6d6b592f3877f1f8c8ae2,Zuul: Remove project name,MERGED,2018-02-08 01:40:34.000000000,2018-02-25 14:28:04.000000000,2018-02-08 05:09:01.000000000,"[{'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-08 01:40:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f4c4ae7f3aec433345136a777b2e91b076ec9dc', 'message': 'Zuul: Remove project name\n\nZuul no longer requires the project-name for in-repo configuration.\nOmitting it makes forking or renaming projects easier.\n\nChange-Id: I987ff6f27c30c1ed53f6d6b592f3877f1f8c8ae2\n'}]",0,541975,7f4c4ae7f3aec433345136a777b2e91b076ec9dc,23,19,1,1,,,0,"Zuul: Remove project name

Zuul no longer requires the project-name for in-repo configuration.
Omitting it makes forking or renaming projects easier.

Change-Id: I987ff6f27c30c1ed53f6d6b592f3877f1f8c8ae2
",git fetch https://review.opendev.org/openstack/cinder refs/changes/75/541975/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7f4c4ae7f3aec433345136a777b2e91b076ec9dc,zuulv3-projects,, name: openstack/cinder,0,1
openstack%2Fcinder~master~I1a1920d141c8c32a8fb30bc6f73e955a1a1c5150,openstack/cinder,master,I1a1920d141c8c32a8fb30bc6f73e955a1a1c5150,Deprecate Cinder Hosts API/Extension,MERGED,2018-02-07 16:41:19.000000000,2018-02-25 14:28:01.000000000,2018-02-08 00:09:22.000000000,"[{'_account_id': 1736}, {'_account_id': 6873}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-07 16:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a1d7f802d219cbd02a0011fdc9a3ac5c987bce23', 'message': ""Deprecate Cinder Hosts API/Extension\n\nThis was added a long long long long time ago, but it was never\nfully implemented and is not used anywhere.  It might be worth\nresurrecting and having, but it should probably be a first class\nAPI rather than an extension, and if nothing else it would be good\nif we want this to create a spec and have a real plan on it's\nimplementation and usage.\n\nBottom line, it's not used anywhere and the implementation is not\ncomplete.  We could probably remove it safely, but let's deprecate\nit and fast track removal and possible replacement next cycle.\n\nChange-Id: I1a1920d141c8c32a8fb30bc6f73e955a1a1c5150\n""}, {'number': 2, 'created': '2018-02-07 17:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/faba9860bcda8b5e3e9a2dae74d94b093bcbc478', 'message': ""Deprecate Cinder Hosts API/Extension\n\nThis was added a long long long long time ago, but it was never\nfully implemented and is not used anywhere.  It might be worth\nresurrecting and having, but it should probably be a first class\nAPI rather than an extension, and if nothing else it would be good\nif we want this to create a spec and have a real plan on it's\nimplementation and usage.\n\nBottom line, it's not used anywhere and the implementation is not\ncomplete.  We could probably remove it safely, but let's deprecate\nit and fast track removal and possible replacement next cycle.\n\nChange-Id: I1a1920d141c8c32a8fb30bc6f73e955a1a1c5150\n""}, {'number': 3, 'created': '2018-02-07 18:48:33.000000000', 'files': ['releasenotes/notes/deprecate_hosts_api_extension-fe0c042af10a20db.yaml', 'cinder/api/contrib/hosts.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/74746b3407684df6a6e687ce502ffdc7c57f44ab', 'message': ""Deprecate Cinder Hosts API/Extension\n\nThis was added a long long long long time ago, but it was never\nfully implemented and is not used anywhere.  It might be worth\nresurrecting and having, but it should probably be a first class\nAPI rather than an extension, and if nothing else it would be good\nif we want this to create a spec and have a real plan on it's\nimplementation and usage.\n\nBottom line, it's not used anywhere and the implementation is not\ncomplete.  We could probably remove it safely, but let's deprecate\nit and fast track removal and possible replacement next cycle.\n\nChange-Id: I1a1920d141c8c32a8fb30bc6f73e955a1a1c5150\n""}]",1,541787,74746b3407684df6a6e687ce502ffdc7c57f44ab,54,36,3,2243,,,0,"Deprecate Cinder Hosts API/Extension

This was added a long long long long time ago, but it was never
fully implemented and is not used anywhere.  It might be worth
resurrecting and having, but it should probably be a first class
API rather than an extension, and if nothing else it would be good
if we want this to create a spec and have a real plan on it's
implementation and usage.

Bottom line, it's not used anywhere and the implementation is not
complete.  We could probably remove it safely, but let's deprecate
it and fast track removal and possible replacement next cycle.

Change-Id: I1a1920d141c8c32a8fb30bc6f73e955a1a1c5150
",git fetch https://review.opendev.org/openstack/cinder refs/changes/87/541787/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/contrib/hosts.py'],1,a1d7f802d219cbd02a0011fdc9a3ac5c987bce23,deprecate_hosts_api," versionutils.report_deprecated_feature(LOG, _( ""The Host API is deprecated and will be "" ""be removed in a future version.""})",,3,0
openstack%2Fcinder~master~Ia9cc9e20c3b333a054c90f07e952b61dfad8529e,openstack/cinder,master,Ia9cc9e20c3b333a054c90f07e952b61dfad8529e,Api-ref: add 'all_tenants' API query option,MERGED,2018-01-19 00:17:24.000000000,2018-02-25 14:27:39.000000000,2018-02-07 05:29:41.000000000,"[{'_account_id': 7198}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 26552}]","[{'number': 1, 'created': '2018-01-19 00:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/35660f8ddbd15f9b2043c72f6fea0e32a6e46426', 'message': 'Api-ref: add \'all_tenants\' API query option\n\nCinder REST API allows one to use a special query parameter\nnamed ""all_tenants"" to list resources from all projects (tenants)\nthrough the REST API:\n\n`/v3/{project_id}/volumes/detail?all_tenants=1`\n\nHowever, this option is hardly documented anywhere besides\n`/v3/{project_id}/volumes/summary`. So add them.\n\nChange-Id: Ia9cc9e20c3b333a054c90f07e952b61dfad8529e\nCloses-Bug: #1743800\n'}, {'number': 2, 'created': '2018-02-07 01:11:49.000000000', 'files': ['api-ref/source/v2/consistencygroups-v2.inc', 'api-ref/source/v3/groups.inc', 'api-ref/source/v3/os-vol-transfer-v3.inc', 'api-ref/source/v3/os-cgsnapshots-v3.inc', 'api-ref/source/v2/os-cgsnapshots-v2.inc', 'api-ref/source/v3/volumes-v3-snapshots.inc', 'api-ref/source/v3/ext-backups.inc', 'api-ref/source/v3/volumes-v3-volumes.inc', 'api-ref/source/v2/volumes-v2-volumes.inc', 'api-ref/source/v2/os-vol-transfer-v2.inc', 'api-ref/source/v2/volumes-v2-snapshots.inc', 'api-ref/source/v3/attachments.inc', 'api-ref/source/v3/group-snapshots.inc', 'api-ref/source/v3/consistencygroups-v3.inc', 'api-ref/source/v2/ext-backups.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ba9eaf27aff1a17f0cf3234302b44c7cfc9d5dbf', 'message': 'Api-ref: add \'all_tenants\' API query option\n\nCinder REST API allows one to use a special query parameter\nnamed ""all_tenants"" to list resources from all projects (tenants)\nthrough the REST API:\n\n`/v3/{project_id}/volumes/detail?all_tenants=1`\n\nHowever, this option is hardly documented anywhere besides\n`/v3/{project_id}/volumes/summary`. So add them.\n\nChange-Id: Ia9cc9e20c3b333a054c90f07e952b61dfad8529e\nCloses-Bug: #1743800\n'}]",0,535527,ba9eaf27aff1a17f0cf3234302b44c7cfc9d5dbf,61,32,2,22299,,,0,"Api-ref: add 'all_tenants' API query option

Cinder REST API allows one to use a special query parameter
named ""all_tenants"" to list resources from all projects (tenants)
through the REST API:

`/v3/{project_id}/volumes/detail?all_tenants=1`

However, this option is hardly documented anywhere besides
`/v3/{project_id}/volumes/summary`. So add them.

Change-Id: Ia9cc9e20c3b333a054c90f07e952b61dfad8529e
Closes-Bug: #1743800
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/535527/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/consistencygroups-v2.inc', 'api-ref/source/v3/groups.inc', 'api-ref/source/v3/os-vol-transfer-v3.inc', 'api-ref/source/v3/os-cgsnapshots-v3.inc', 'api-ref/source/v2/os-cgsnapshots-v2.inc', 'api-ref/source/v3/volumes-v3-snapshots.inc', 'api-ref/source/v3/ext-backups.inc', 'api-ref/source/v3/volumes-v3-volumes.inc', 'api-ref/source/v2/volumes-v2-volumes.inc', 'api-ref/source/v2/os-vol-transfer-v2.inc', 'api-ref/source/v2/volumes-v2-snapshots.inc', 'api-ref/source/v3/attachments.inc', 'api-ref/source/v3/group-snapshots.inc', 'api-ref/source/v3/consistencygroups-v3.inc', 'api-ref/source/v2/ext-backups.inc']",15,35660f8ddbd15f9b2043c72f6fea0e32a6e46426,bug/1743800, - all_tenants: all-tenants - all_tenants: all-tenants,,31,1
openstack%2Fcinder~master~Id923e4c8cd5c79fbcf0599b8c0ba9fb6492c5ac0,openstack/cinder,master,Id923e4c8cd5c79fbcf0599b8c0ba9fb6492c5ac0,Correct lvm_type default value in config doc,MERGED,2018-02-05 09:29:38.000000000,2018-02-25 14:27:29.000000000,2018-02-05 14:23:05.000000000,"[{'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 16422}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25456}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-02-05 09:29:38.000000000', 'files': ['doc/source/configuration/tables/cinder-lvm.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4c6b91b44fe827aaf10b70d11162de07a357c0a7', 'message': 'Correct lvm_type default value in config doc\n\nAccording to code the default value of lvm_type should be ""auto"".\n\nChange-Id: Id923e4c8cd5c79fbcf0599b8c0ba9fb6492c5ac0\n'}]",0,540787,4c6b91b44fe827aaf10b70d11162de07a357c0a7,29,23,1,25111,,,0,"Correct lvm_type default value in config doc

According to code the default value of lvm_type should be ""auto"".

Change-Id: Id923e4c8cd5c79fbcf0599b8c0ba9fb6492c5ac0
",git fetch https://review.opendev.org/openstack/cinder refs/changes/87/540787/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/tables/cinder-lvm.inc'],1,4c6b91b44fe827aaf10b70d11162de07a357c0a7,fix_lvm_type, * - ``lvm_type`` = ``auto``, * - ``lvm_type`` = ``default``,1,1
openstack%2Fcinder~master~Idfb68b5ddd7aca8642016e392fec6efd169c1ea2,openstack/cinder,master,Idfb68b5ddd7aca8642016e392fec6efd169c1ea2,Add the nova-multiattach job to the check/gate queues,MERGED,2018-01-10 23:45:11.000000000,2018-02-25 14:26:46.000000000,2018-02-03 01:44:28.000000000,"[{'_account_id': 6873}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 9562}, {'_account_id': 10118}, {'_account_id': 10439}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 27552}, {'_account_id': 27702}]","[{'number': 1, 'created': '2018-01-10 23:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f385789072090c2950a22ea63a8b21ec31c5540b', 'message': ""Add the nova-multiattach job to the experimental queue\n\nThe nova-multiattach job is defined in the nova repo\nbut we also need to run it in the Cinder experimental\nqueue.\n\nAt some point once multiattach support is baked into\nnova/cinder/devstack/tempest, we'll likely want to move\nthis to a check/gate voting job so we don't regress\nthe functionality. We could also look at restricting the\nnumber of tests that run to avoid overlap and save time.\n\nChange-Id: Idfb68b5ddd7aca8642016e392fec6efd169c1ea2\nDepends-On: I51adbbdf13711e463b4d25c2ffd4a3123cd65675\n""}, {'number': 2, 'created': '2018-01-22 15:33:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/939387799f9f88b5dd989e090fa0d6d9b95ccde0', 'message': ""Add the nova-multiattach job to the check/gate queues\n\nThe nova-multiattach job is defined in the nova repo\nbut we also need to run it against Cinder changes.\n\nFor now the job just runs the tempest compute API tests\nsince that's the only place in Tempest that has multiattach\ntesting right now and it will save some time in the CI run.\n\nChange-Id: Idfb68b5ddd7aca8642016e392fec6efd169c1ea2\nDepends-On: I51adbbdf13711e463b4d25c2ffd4a3123cd65675\n""}]",0,532695,939387799f9f88b5dd989e090fa0d6d9b95ccde0,126,47,2,6873,,,0,"Add the nova-multiattach job to the check/gate queues

The nova-multiattach job is defined in the nova repo
but we also need to run it against Cinder changes.

For now the job just runs the tempest compute API tests
since that's the only place in Tempest that has multiattach
testing right now and it will save some time in the CI run.

Change-Id: Idfb68b5ddd7aca8642016e392fec6efd169c1ea2
Depends-On: I51adbbdf13711e463b4d25c2ffd4a3123cd65675
",git fetch https://review.opendev.org/openstack/cinder refs/changes/95/532695/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f385789072090c2950a22ea63a8b21ec31c5540b,bp/multi-attach-volume, experimental: jobs: - nova-multiattach,,3,0
openstack%2Fcinder~master~I88e9dad5cf36621c4b86acc7b7e972850e061119,openstack/cinder,master,I88e9dad5cf36621c4b86acc7b7e972850e061119,SMBFS: fix creating volume from snapshot,MERGED,2018-01-31 16:43:58.000000000,2018-02-25 14:26:32.000000000,2018-02-21 14:16:26.000000000,"[{'_account_id': 4523}, {'_account_id': 6491}, {'_account_id': 8543}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17097}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-31 16:43:58.000000000', 'files': ['cinder/volume/drivers/windows/smbfs.py', 'cinder/tests/unit/windows/test_smbfs.py', 'cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8aa2f5a5b65d6b40ab297e6b6e5c840f86af7960', 'message': ""SMBFS: fix creating volume from snapshot\n\nIn some cases, attempting to create a volume from an in-use snapshot\nfails because of Hyper-V locks.\n\nThe reason is that in order to locate the backing image that needs\nto be *cloned*, we may need to query the currently attached image,\nwhich is not allowed.\n\nIn order to avoid this, we're going to store the backing file\ninformation in the DB using the snapshot object metadata field,\nat the same time preserving backwards compatibility.\n\nNote that we cannot rely on model changes passed to the manager as\nsnapshots are used internally in a few cases in which the manager\nwould not expect snapshot object changes. Also, when deleting\nsnapshots, we're updating the metadata for more recent snapshots\nas the backing file changes.\n\nFake volume/snapshot object usage throughout the smbfs driver unit\ntests had to be updated due to the object changes performed by it.\n\nChange-Id: I88e9dad5cf36621c4b86acc7b7e972850e061119\nCloses-Bug: #1694635\n""}]",0,539593,8aa2f5a5b65d6b40ab297e6b6e5c840f86af7960,56,39,1,8543,,,0,"SMBFS: fix creating volume from snapshot

In some cases, attempting to create a volume from an in-use snapshot
fails because of Hyper-V locks.

The reason is that in order to locate the backing image that needs
to be *cloned*, we may need to query the currently attached image,
which is not allowed.

In order to avoid this, we're going to store the backing file
information in the DB using the snapshot object metadata field,
at the same time preserving backwards compatibility.

Note that we cannot rely on model changes passed to the manager as
snapshots are used internally in a few cases in which the manager
would not expect snapshot object changes. Also, when deleting
snapshots, we're updating the metadata for more recent snapshots
as the backing file changes.

Fake volume/snapshot object usage throughout the smbfs driver unit
tests had to be updated due to the object changes performed by it.

Change-Id: I88e9dad5cf36621c4b86acc7b7e972850e061119
Closes-Bug: #1694635
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/539593/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/windows/smbfs.py', 'cinder/tests/unit/windows/test_smbfs.py', 'cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/remotefs.py']",4,8aa2f5a5b65d6b40ab297e6b6e5c840f86af7960,bp/windows-smb-backup," def _get_snapshot_backing_file(self, snapshot): info_path = self._local_path_volume_info(snapshot.volume) snap_info = self._read_info_file(info_path) vol_dir = self._local_volume_dir(snapshot.volume) forward_file = snap_info[snapshot.id] forward_path = os.path.join(vol_dir, forward_file) # Find the file which backs this file, which represents the point # in which this snapshot was created. img_info = self._qemu_img_info(forward_path) return img_info.backing_file ",,230,77
openstack%2Fcinder~master~I62eeabf084ca8e63562bd10ac82066424ea61205,openstack/cinder,master,I62eeabf084ca8e63562bd10ac82066424ea61205,Fix the typo in api_conditional_updates.rst,MERGED,2018-01-31 05:47:58.000000000,2018-02-25 14:26:18.000000000,2018-02-02 05:51:46.000000000,"[{'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 25695}, {'_account_id': 26537}, {'_account_id': 27577}]","[{'number': 1, 'created': '2018-01-31 05:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ae767c4fd755c10d67ddfc335de64d205abf8060', 'message': 'Fix the typo\n\nFix the typo in api_conditional_updates.rst\n\nChange-Id: I62eeabf084ca8e63562bd10ac82066424ea61205\n'}, {'number': 2, 'created': '2018-01-31 05:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/297a479044b1b83f5ee8c9bb5c94a6084912484a', 'message': 'Fix the typo\n\nFix a typo in api_conditional_updates.rst\n\nChange-Id: I62eeabf084ca8e63562bd10ac82066424ea61205\n'}, {'number': 3, 'created': '2018-01-31 11:54:06.000000000', 'files': ['doc/source/contributor/api_conditional_updates.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/317b1cc00266e5471c675d97d8013c20488cc029', 'message': ""Fix the typo in api_conditional_updates.rst\n\nFix a typo in api_conditional_updates.rst. It should be 'instead of what\nis in' not 'instead of what is is'.\n\nChange-Id: I62eeabf084ca8e63562bd10ac82066424ea61205\n""}]",1,539419,317b1cc00266e5471c675d97d8013c20488cc029,51,29,3,27346,,,0,"Fix the typo in api_conditional_updates.rst

Fix a typo in api_conditional_updates.rst. It should be 'instead of what
is in' not 'instead of what is is'.

Change-Id: I62eeabf084ca8e63562bd10ac82066424ea61205
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/539419/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/api_conditional_updates.rst'],1,ae767c4fd755c10d67ddfc335de64d205abf8060,typo," instead of what is in, for that we will use the exclusion mechanism provided"," instead of what is is, for that we will use the exclusion mechanism provided",1,1
openstack%2Fcinder~master~Ic4afdd0d248e043107d92b8e42f7630d211cd302,openstack/cinder,master,Ic4afdd0d248e043107d92b8e42f7630d211cd302,[VNX] `initiator_target_map` is None,MERGED,2018-01-31 08:02:11.000000000,2018-02-25 14:26:17.000000000,2018-02-07 23:55:37.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14624}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18742}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27577}]","[{'number': 1, 'created': '2018-01-31 08:02:11.000000000', 'files': ['cinder/volume/drivers/dell_emc/vnx/common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/547bafcdb8716836310c77c15d10fb0a1356ad15', 'message': '[VNX] `initiator_target_map` is None\n\nThe value of `initiator_target_map` in FC target data returned by VNX is\nNone, which causes os-brick throwing exception. The fix is removing the\nkey `initiator_target_map` from the target data dict when its value is\nNone.\n\nChange-Id: Ic4afdd0d248e043107d92b8e42f7630d211cd302\nCloses-Bug: #1746218\n'}]",0,539445,547bafcdb8716836310c77c15d10fb0a1356ad15,40,36,1,18742,,,0,"[VNX] `initiator_target_map` is None

The value of `initiator_target_map` in FC target data returned by VNX is
None, which causes os-brick throwing exception. The fix is removing the
key `initiator_target_map` from the target data dict when its value is
None.

Change-Id: Ic4afdd0d248e043107d92b8e42f7630d211cd302
Closes-Bug: #1746218
",git fetch https://review.opendev.org/openstack/cinder refs/changes/45/539445/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/dell_emc/vnx/common.py'],1,547bafcdb8716836310c77c15d10fb0a1356ad15,bug/1746218," self['data'] = {key: value for key, value in data.items() if value is not None}", self['data'] = data,2,1
openstack%2Fcinder~stable%2Fpike~I67ac11276715290839c39fc1d0e333c61a38c461,openstack/cinder,stable/pike,I67ac11276715290839c39fc1d0e333c61a38c461,backup: set default swiftclient log level to WARN,MERGED,2018-01-26 12:17:52.000000000,2018-02-25 14:25:10.000000000,2018-02-04 00:34:45.000000000,"[{'_account_id': 6873}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-26 12:17:52.000000000', 'files': ['cinder/cmd/backup.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/112ee583e0c4b6364e99fe15c00d82ec50ca0d6d', 'message': 'backup: set default swiftclient log level to WARN\n\nSimilar to change I0857cecd7d8ab0ee7e3e9bd6e15f4987ede4d653, the\nswift backup driver cannot be logging stuff while in a thread during\nread and write operations. swiftclient logs requests and responses\nat DEBUG level, which can cause a thread switch and break the backup\noperation.\n\nThis sets a default log level of WARN for swiftclient for the\ncinder-backup service.\n\nChange-Id: I67ac11276715290839c39fc1d0e333c61a38c461\nCloses-Bug: #1745168\n(cherry picked from commit e4989c103ff23cbf937faa8cc12c39e9720f9fd7)\n'}]",0,538230,112ee583e0c4b6364e99fe15c00d82ec50ca0d6d,42,19,1,9535,,,0,"backup: set default swiftclient log level to WARN

Similar to change I0857cecd7d8ab0ee7e3e9bd6e15f4987ede4d653, the
swift backup driver cannot be logging stuff while in a thread during
read and write operations. swiftclient logs requests and responses
at DEBUG level, which can cause a thread switch and break the backup
operation.

This sets a default log level of WARN for swiftclient for the
cinder-backup service.

Change-Id: I67ac11276715290839c39fc1d0e333c61a38c461
Closes-Bug: #1745168
(cherry picked from commit e4989c103ff23cbf937faa8cc12c39e9720f9fd7)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/30/538230/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/cmd/backup.py'],1,112ee583e0c4b6364e99fe15c00d82ec50ca0d6d,bug/1692775,"# NOTE(mriedem): The default backup driver uses swift and performs read/write # operations in a thread. swiftclient will log requests and responses at DEBUG # level, which can cause a thread switch and break the backup operation. So we # set a default log level of WARN for swiftclient to try and avoid this issue. _EXTRA_DEFAULT_LOG_LEVELS = ['swiftclient=WARN'] logging.set_defaults( default_log_levels=logging.get_default_log_levels() + _EXTRA_DEFAULT_LOG_LEVELS)",,9,0
openstack%2Fcinder~stable%2Fpike~I1f1d9c0d6e3f04f1ecd5ef7c5d813005ee116409,openstack/cinder,stable/pike,I1f1d9c0d6e3f04f1ecd5ef7c5d813005ee116409,Run backup-restore operations on native thread,MERGED,2018-01-23 23:08:29.000000000,2018-02-25 14:25:09.000000000,2018-02-04 18:23:52.000000000,"[{'_account_id': 4523}, {'_account_id': 6873}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12822}, {'_account_id': 14208}, {'_account_id': 14806}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-23 23:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a9d20a633bec6a7cc45f2e1ae75d3d98f819984e', 'message': 'Run backup-restore operations on native thread\n\nDuring huge backup file read write operations holds the CPU which\nleads to thread starvation, and cause cinder backup service to\nreport down, as DB operations are impacted.\nProposed changes are to run CPU and file sensitive operations like\nread, write, compress, decompress on a native thread.\n\nChange-Id: I1f1d9c0d6e3f04f1ecd5ef7c5d813005ee116409\nCloses-Bug: #1692775\nCo-Authored-By: Gorka Eguileor <geguileo@redhat.com>\n(cherry picked from commit dd556fa755adca195e7df82477ae6400f693af14)\n'}, {'number': 2, 'created': '2018-01-25 10:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/da874981729c96b9b6dbfb969827e0766a9503a7', 'message': 'Run backup-restore operations on native thread\n\nDuring huge backup file read write operations holds the CPU which\nleads to thread starvation, and cause cinder backup service to\nreport down, as DB operations are impacted.\nProposed changes are to run CPU and file sensitive operations like\nread, write, compress, decompress on a native thread.\n\nChange-Id: I1f1d9c0d6e3f04f1ecd5ef7c5d813005ee116409\nCloses-Bug: #1692775\nCo-Authored-By: Gorka Eguileor <geguileo@redhat.com>\n(cherry picked from commit dd556fa755adca195e7df82477ae6400f693af14)\n'}, {'number': 3, 'created': '2018-01-26 12:17:52.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/backup/manager.py', 'cinder/backup/driver.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py', 'cinder/backup/chunkeddriver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/60bd878c3761b69311ef2732d37aaeeb3929a8e3', 'message': 'Run backup-restore operations on native thread\n\nDuring huge backup file read write operations holds the CPU which\nleads to thread starvation, and cause cinder backup service to\nreport down, as DB operations are impacted.\nProposed changes are to run CPU and file sensitive operations like\nread, write, compress, decompress on a native thread.\n\nChange-Id: I1f1d9c0d6e3f04f1ecd5ef7c5d813005ee116409\nCloses-Bug: #1692775\nCo-Authored-By: Gorka Eguileor <geguileo@redhat.com>\n(cherry picked from commit dd556fa755adca195e7df82477ae6400f693af14)\n'}]",0,537003,60bd878c3761b69311ef2732d37aaeeb3929a8e3,78,23,3,9535,,,0,"Run backup-restore operations on native thread

During huge backup file read write operations holds the CPU which
leads to thread starvation, and cause cinder backup service to
report down, as DB operations are impacted.
Proposed changes are to run CPU and file sensitive operations like
read, write, compress, decompress on a native thread.

Change-Id: I1f1d9c0d6e3f04f1ecd5ef7c5d813005ee116409
Closes-Bug: #1692775
Co-Authored-By: Gorka Eguileor <geguileo@redhat.com>
(cherry picked from commit dd556fa755adca195e7df82477ae6400f693af14)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/03/537003/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/backup/manager.py', 'cinder/backup/driver.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py', 'cinder/backup/chunkeddriver.py']",6,a9d20a633bec6a7cc45f2e1ae75d3d98f819984e,bug/1692775," if algorithm.lower() in ('zlib', 'gzip'): result = compressor result = compressor else: result = None if result: # NOTE(geguileo): Compression/Decompression starves # greenthreads so we use a native thread instead. return eventlet.tpool.Proxy(result) def _get_object_writer(self, container, object_name, extra_metadata=None): """"""Return writer proxy-wrapped to execute methods in native thread."""""" writer = self.get_object_writer(container, object_name, extra_metadata) return eventlet.tpool.Proxy(writer) def _get_object_reader(self, container, object_name, extra_metadata=None): """"""Return reader proxy-wrapped to execute methods in native thread."""""" reader = self.get_object_reader(container, object_name, extra_metadata) return eventlet.tpool.Proxy(reader) with self._get_object_writer(container, filename) as writer: with self._get_object_writer(container, filename) as writer: with self._get_object_reader(container, filename) as reader: with self._get_object_reader(container, filename) as reader: with self._get_object_writer( compressed_data = self.compressor.compress(data) with self._get_object_reader("," elif algorithm.lower() in ('zlib', 'gzip'): return compressor return compressor with self.get_object_writer(container, filename) as writer: with self.get_object_writer(container, filename) as writer: with self.get_object_reader(container, filename) as reader: with self.get_object_reader(container, filename) as reader: with self.get_object_writer( compressed_data = eventlet.tpool.execute(self.compressor.compress, data) with self.get_object_reader(",104,39
openstack%2Fcinder~stable%2Fpike~I0857cecd7d8ab0ee7e3e9bd6e15f4987ede4d653,openstack/cinder,stable/pike,I0857cecd7d8ab0ee7e3e9bd6e15f4987ede4d653,Remove logging on Swift backup obj writer,MERGED,2018-01-25 10:44:37.000000000,2018-02-25 14:24:55.000000000,2018-02-03 20:30:39.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 6873}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-25 10:44:37.000000000', 'files': ['cinder/backup/drivers/swift.py', 'cinder/backup/chunkeddriver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a1084c237a8b025353abaf586c05672840b6ec6d', 'message': 'Remove logging on Swift backup obj writer\n\nSince change I1f1d9c0d6e3f04f1ecd5ef7c5d813005ee116409 we are running\nparts of the backups on native threads, which due to an eventlet bug [1]\nhave bad interactions with greenthreads, so we have to avoid any logging\nwhen executing code in a native thread.\n\nThis patch removes the MD5 logging on the SwiftObjectWriter close\nmethod and adds comments and docstring referring to this limitation.\n\n[1] https://github.com/eventlet/eventlet/issues/432\n\nCloses-Bug: #1745168\nChange-Id: I0857cecd7d8ab0ee7e3e9bd6e15f4987ede4d653\n(cherry picked from commit c6cb84bd63135d62ccd7ed9b23b245c41e9f105c)\n'}]",0,537840,a1084c237a8b025353abaf586c05672840b6ec6d,70,22,1,9535,,,0,"Remove logging on Swift backup obj writer

Since change I1f1d9c0d6e3f04f1ecd5ef7c5d813005ee116409 we are running
parts of the backups on native threads, which due to an eventlet bug [1]
have bad interactions with greenthreads, so we have to avoid any logging
when executing code in a native thread.

This patch removes the MD5 logging on the SwiftObjectWriter close
method and adds comments and docstring referring to this limitation.

[1] https://github.com/eventlet/eventlet/issues/432

Closes-Bug: #1745168
Change-Id: I0857cecd7d8ab0ee7e3e9bd6e15f4987ede4d653
(cherry picked from commit c6cb84bd63135d62ccd7ed9b23b245c41e9f105c)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/40/537840/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/drivers/swift.py', 'cinder/backup/chunkeddriver.py']",2,a1084c237a8b025353abaf586c05672840b6ec6d,bug/1692775,"# Object writer and reader returned by inheriting classes must not have any # logging calls, as well as the compression libraries, as eventlet has a bug # (https://github.com/eventlet/eventlet/issues/432) that would result in # failures. The object returned should be a context handler that can be used in a ""with"" context. The object writer methods must not have any logging calls, as eventlet has a bug (https://github.com/eventlet/eventlet/issues/432) that would result in failures. """"""Returns a reader object for the backed up chunk. The object reader methods must not have any logging calls, as eventlet has a bug (https://github.com/eventlet/eventlet/issues/432) that would result in failures. """""""," The object returned should be a context handler that can be used in a ""with"" context. """"""Returns a reader object for the backed up chunk.""""""",17,7
openstack%2Fcinder~stable%2Fpike~I35834a43298b5287d5cd3c37baa82903bdffda12,openstack/cinder,stable/pike,I35834a43298b5287d5cd3c37baa82903bdffda12,Fix: Propagate OS global request ID,MERGED,2018-01-24 09:42:33.000000000,2018-02-25 14:24:46.000000000,2018-02-06 21:16:20.000000000,"[{'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12822}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-24 09:42:33.000000000', 'files': ['cinder/context.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d9b38a4b23c21b92ed1c3a86a6201bd94c644c3d', 'message': 'Fix: Propagate OS global request ID\n\nCinder doesn\'t propagate global request IDs internally, so any external\nrequest that comes with it will have it logged at the API service and\nthen we\'ll lose this information in all the other services.\n\nWe are properly serializing this information on our RPC calls, but we\nare not reconstructing the Context properly on the receiving end.\n\nThis patch ensures that the ""global_request_id"" field from the context\nis properly added on RPC reception.\n\nCloses-Bug: #1743462\nChange-Id: I35834a43298b5287d5cd3c37baa82903bdffda12\n(cherry picked from commit 28ada504af4084f72f3503d77806075e7ad509b0)\n'}]",0,537326,d9b38a4b23c21b92ed1c3a86a6201bd94c644c3d,26,17,1,9535,,,0,"Fix: Propagate OS global request ID

Cinder doesn't propagate global request IDs internally, so any external
request that comes with it will have it logged at the API service and
then we'll lose this information in all the other services.

We are properly serializing this information on our RPC calls, but we
are not reconstructing the Context properly on the receiving end.

This patch ensures that the ""global_request_id"" field from the context
is properly added on RPC reception.

Closes-Bug: #1743462
Change-Id: I35834a43298b5287d5cd3c37baa82903bdffda12
(cherry picked from commit 28ada504af4084f72f3503d77806075e7ad509b0)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/26/537326/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/context.py'],1,d9b38a4b23c21b92ed1c3a86a6201bd94c644c3d,bug/1743462," global_request_id=values.get('global_request_id'),",,1,0
openstack%2Fcinder~stable%2Fpike~Idbfeeb2604bc84dc0a17c633b782000d94665bbe,openstack/cinder,stable/pike,Idbfeeb2604bc84dc0a17c633b782000d94665bbe,Fix compression related tests,MERGED,2018-01-23 23:08:29.000000000,2018-02-25 14:24:13.000000000,2018-02-01 08:58:59.000000000,"[{'_account_id': 4523}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 12822}, {'_account_id': 14208}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-23 23:08:29.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/96d0e2755d3c4b9251c7500e2d358bfc484345ad', 'message': ""Fix compression related tests\n\nTests for chunked backup drivers are using a randomly generated file to\ntest the compression, which means that in most cases due to the\nrandomization the generated file is bigger than the original one, so we\nend up doing a non compressed backup, which defeats the purpose of the\ntests.  More so when you want to test the decompression, since the\nbackup won't be compressed and there won't be any decompression.\n\nTo fix this we generate, for those cases, a simple file that can always\nbe effectively compressed.\n\nChange-Id: Idbfeeb2604bc84dc0a17c633b782000d94665bbe\n(cherry picked from commit 8f3dfd7299a46be106d5b571c442a79986d66883)\n""}]",0,537002,96d0e2755d3c4b9251c7500e2d358bfc484345ad,37,19,1,9535,,,0,"Fix compression related tests

Tests for chunked backup drivers are using a randomly generated file to
test the compression, which means that in most cases due to the
randomization the generated file is bigger than the original one, so we
end up doing a non compressed backup, which defeats the purpose of the
tests.  More so when you want to test the decompression, since the
backup won't be compressed and there won't be any decompression.

To fix this we generate, for those cases, a simple file that can always
be effectively compressed.

Change-Id: Idbfeeb2604bc84dc0a17c633b782000d94665bbe
(cherry picked from commit 8f3dfd7299a46be106d5b571c442a79986d66883)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/537002/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py']",3,96d0e2755d3c4b9251c7500e2d358bfc484345ad,bug/1692775," def _write_effective_compression_file(self, data_size): """"""Ensure file contents can be effectively compressed."""""" self.volume_file.seek(0) self.volume_file.write(bytes([65] * data_size)) self.volume_file.seek(0) self.size_volume_file = 0 self.size_volume_file += 1024 self._write_effective_compression_file(self.size_volume_file) self._write_effective_compression_file(self.size_volume_file)", self.volume_file.seek(0) self.volume_file.seek(0),36,10
openstack%2Fcinder~master~I67bc72891d5aec0161e20b2eefeedbe3a401e7c1,openstack/cinder,master,I67bc72891d5aec0161e20b2eefeedbe3a401e7c1,INFINIDAT: support force detach,MERGED,2018-01-23 11:30:29.000000000,2018-02-25 14:24:12.000000000,2018-01-31 02:38:44.000000000,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22683}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 26968}, {'_account_id': 27552}]","[{'number': 1, 'created': '2018-01-23 11:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d9264e736926b6827cace560ca91f9dcf182e60', 'message': 'INFINIDAT: support force detach\n\nterminate_connection should support the case where ""connector"" is\nNone (force detach), in which case all volume connections should\nbe detached.\n\nChange-Id: I67bc72891d5aec0161e20b2eefeedbe3a401e7c1\n'}, {'number': 2, 'created': '2018-01-23 11:48:39.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1d24144959e42fafc604c9a3d4e16c048dbe0148', 'message': 'INFINIDAT: support force detach\n\nterminate_connection should support the case where ""connector"" is\nNone (force detach), in which case all volume connections should\nbe detached.\n\nChange-Id: I67bc72891d5aec0161e20b2eefeedbe3a401e7c1\n'}]",3,536778,1d24144959e42fafc604c9a3d4e16c048dbe0148,64,39,2,22683,,,0,"INFINIDAT: support force detach

terminate_connection should support the case where ""connector"" is
None (force detach), in which case all volume connections should
be detached.

Change-Id: I67bc72891d5aec0161e20b2eefeedbe3a401e7c1
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/536778/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py']",2,9d9264e736926b6827cace560ca91f9dcf182e60,infinidat," def _get_ports_from_connector(self, infinidat_volume, connector): if connector is None: # If no connector was provided it is a force-detach - remove all # host connections for the volume if self._protocol == 'FC': port_cls = wwn.WWN else: port_cls = iqn.IQN ports = [] for lun_mapping in infinidat_volume.get_logical_units(): host_ports = lun_mapping.get_host().get_ports() host_ports = [port for port in host_ports if isinstance(port, port_cls)] ports.extend(host_ports) elif self._protocol == 'FC': ports = [wwn.WWN(wwpn) for wwpn in connector['wwpns']] else: ports = [iqn.IQN(connector['initiator'])] return ports ports = self._get_ports_from_connector(infinidat_volume, connector) # check if the host now doesn't have mappings if host is not None and len(host.get_luns()) == 0: host.safe_delete() if self._protocol == 'FC' and connector is not None: # Create initiator-target mapping to delete host entry # this is only relevant for regular (specific host) detach target_wwpns = list(self._get_online_fc_ports()) target_wwpns, target_map = \ self._build_initiator_target_map(connector, target_wwpns) result_data = dict(target_wwn=target_wwpns, initiator_target_map=target_map)"," ports = [wwn.WWN(wwpn) for wwpn in connector['wwpns']] ports = [iqn.IQN(connector['initiator'])] # check if the host now doesn't have mappings if host is not None and len(host.get_luns()) == 0: host.safe_delete() if self._protocol == 'FC': # Create initiator-target mapping to delete host entry target_wwpns = list(self._get_online_fc_ports()) target_wwpns, target_map = self._build_initiator_target_map( connector, target_wwpns) result_data = dict(target_wwn=target_wwpns, initiator_target_map=target_map)",50,14
openstack%2Fcinder~master~Id4f77020a70acd8eb9df513d43f86d9fe78f7e22,openstack/cinder,master,Id4f77020a70acd8eb9df513d43f86d9fe78f7e22,Run doc8 first,MERGED,2018-01-15 22:57:07.000000000,2018-02-25 14:24:09.000000000,2018-01-24 05:19:47.000000000,"[{'_account_id': 2759}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9236}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25388}, {'_account_id': 25678}, {'_account_id': 26458}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-15 22:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a81a7dba48e2c9cbe922edad8c02f2541ac511f0', 'message': 'Run doc8 first\n\nFor ""tox -e docs"", run doc8 first.\n\ndoc8 runs much faster than sphinx builds and\nwill provide quick feedback on syntax issues.\n\nChange-Id: Id4f77020a70acd8eb9df513d43f86d9fe78f7e22\n'}, {'number': 2, 'created': '2018-01-23 17:06:53.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/12b6ccc8040268c72104243e1b620cfd1a91912a', 'message': 'Run doc8 first\n\nFor ""tox -e docs"", run doc8 first.\n\ndoc8 runs much faster than sphinx builds and\nwill provide quick feedback on syntax issues.\n\nChange-Id: Id4f77020a70acd8eb9df513d43f86d9fe78f7e22\n'}]",0,533814,12b6ccc8040268c72104243e1b620cfd1a91912a,66,34,2,4523,,,0,"Run doc8 first

For ""tox -e docs"", run doc8 first.

doc8 runs much faster than sphinx builds and
will provide quick feedback on syntax issues.

Change-Id: Id4f77020a70acd8eb9df513d43f86d9fe78f7e22
",git fetch https://review.opendev.org/openstack/cinder refs/changes/14/533814/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a81a7dba48e2c9cbe922edad8c02f2541ac511f0,, doc8 --ignore D001 --ignore-path .tox --ignore-path *.egg-info --ignore-path doc/src/api --ignore-path doc/source/drivers.rst --ignore-path doc/build --ignore-path .eggs/*/EGG-INFO/*.txt -e txt -e rst, doc8 --ignore D001 --ignore-path .tox --ignore-path *.egg-info --ignore-path doc/src/api --ignore-path doc/source/drivers.rst --ignore-path doc/build --ignore-path .eggs/*/EGG-INFO/*.txt -e txt -e rst,1,1
openstack%2Fcinder~master~Id02130e9af8bdf90a712968916017d05c3213c32,openstack/cinder,master,Id02130e9af8bdf90a712968916017d05c3213c32,RBD: Support encrypted volumes,MERGED,2018-01-17 15:20:25.000000000,2018-02-25 14:24:03.000000000,2018-01-25 05:12:20.000000000,"[{'_account_id': 2759}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13157}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19853}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26001}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-17 15:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9895f2637a42c2d7dbf78e503f8b5935c381cfeb', 'message': ""RBD: Create encrypted volumes\n\nWhen creating an encrypted RBD volume, initialize\nLUKS on the volume using the volume's encryption key.\n\nThis is required because os-brick only handles this\nstep for volumes that attach via block devices.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1463525\nChange-Id: Id02130e9af8bdf90a712968916017d05c3213c32\n""}, {'number': 2, 'created': '2018-01-18 01:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1f7a4a8aac302ad46bfb8f21d92e81250f5875a', 'message': ""RBD: Support encrypted volumes\n\nWhen creating an encrypted RBD volume, initialize\nLUKS on the volume using the volume's encryption key.\n\nThis is required because os-brick only handles this\nstep for volumes that attach via block devices.\n\nThis requires qemu-img 2.10.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1463525\nImplements: blueprint libvirt-qemu-native-luks\nChange-Id: Id02130e9af8bdf90a712968916017d05c3213c32\n""}, {'number': 3, 'created': '2018-01-18 12:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d67241d48cf94a8c3688b0a96a6f7e8187ed6e15', 'message': ""RBD: Support encrypted volumes\n\nWhen creating an encrypted RBD volume, initialize\nLUKS on the volume using the volume's encryption key.\n\nThis is required because os-brick only handles this\nstep for volumes that attach via block devices.\n\nThis requires qemu-img 2.10.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1463525\nImplements: blueprint libvirt-qemu-native-luks\nChange-Id: Id02130e9af8bdf90a712968916017d05c3213c32\n""}, {'number': 4, 'created': '2018-01-18 16:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a5fc119bce5e03a97a2d9cfe5266661e703e394a', 'message': ""RBD: Support encrypted volumes\n\nWhen creating an encrypted RBD volume, initialize\nLUKS on the volume using the volume's encryption key.\n\nThis is required because os-brick only handles this\nstep for volumes that attach via block devices.\n\nThis requires qemu-img 2.10.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1463525\nImplements: blueprint libvirt-qemu-native-luks\nChange-Id: Id02130e9af8bdf90a712968916017d05c3213c32\n""}, {'number': 5, 'created': '2018-01-22 22:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ad1cc4e84c76bf4d27622ca314a9c31ce39b2a72', 'message': ""RBD: Support encrypted volumes\n\nWhen creating an encrypted RBD volume, initialize\nLUKS on the volume using the volume's encryption key.\n\nThis is required because os-brick only handles this\nstep for volumes that attach via block devices.\n\nThis requires qemu-img 2.10.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1463525\nImplements: blueprint libvirt-qemu-native-luks\nChange-Id: Id02130e9af8bdf90a712968916017d05c3213c32\n""}, {'number': 6, 'created': '2018-01-23 13:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/32919b09b0d8347543dacf606b4978877d4ed0bb', 'message': ""RBD: Support encrypted volumes\n\nWhen creating an encrypted RBD volume, initialize\nLUKS on the volume using the volume's encryption key.\n\nThis is required because os-brick only handles this\nstep for volumes that attach via block devices.\n\nThis requires qemu-img 2.10.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1463525\nImplements: blueprint libvirt-qemu-native-luks\nChange-Id: Id02130e9af8bdf90a712968916017d05c3213c32\n""}, {'number': 7, 'created': '2018-01-23 16:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1c0bd6a31342d9e529b4ebb0f1ddba86af4188d5', 'message': ""RBD: Support encrypted volumes\n\nWhen creating an encrypted RBD volume, initialize\nLUKS on the volume using the volume's encryption key.\n\nThis is required because os-brick only handles this\nstep for volumes that attach via block devices.\n\nThis requires qemu-img 2.10.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1463525\nImplements: blueprint libvirt-qemu-native-luks\nChange-Id: Id02130e9af8bdf90a712968916017d05c3213c32\n""}, {'number': 8, 'created': '2018-01-23 16:57:53.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'releasenotes/notes/allow-encrypted-rbd-volumes-35d3536505e6309b.yaml', 'cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fcb45b439ba039fd88c332fd912949d52cfe290f', 'message': ""RBD: Support encrypted volumes\n\nWhen creating an encrypted RBD volume, initialize\nLUKS on the volume using the volume's encryption key.\n\nThis is required because os-brick only handles this\nstep for volumes that attach via block devices.\n\nThis requires qemu-img 2.10.\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nRelated-Bug: #1463525\nImplements: blueprint libvirt-qemu-native-luks\nChange-Id: Id02130e9af8bdf90a712968916017d05c3213c32\n""}]",22,534811,fcb45b439ba039fd88c332fd912949d52cfe290f,177,50,8,4523,,,0,"RBD: Support encrypted volumes

When creating an encrypted RBD volume, initialize
LUKS on the volume using the volume's encryption key.

This is required because os-brick only handles this
step for volumes that attach via block devices.

This requires qemu-img 2.10.

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Related-Bug: #1463525
Implements: blueprint libvirt-qemu-native-luks
Change-Id: Id02130e9af8bdf90a712968916017d05c3213c32
",git fetch https://review.opendev.org/openstack/cinder refs/changes/11/534811/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/rbd.py'],1,9895f2637a42c2d7dbf78e503f8b5935c381cfeb,bug/1463525," def _create_encrypted_volume(self, volume, context): """"""Create an encrypted volume. This works by creating an encrypted image locally, and then uploading it to the volume. """""" # Check that this is a LUKS encryption provider encryption = self.db.volume_encryption_metadata_get(context, volume.id) provider = encryption.get('provider', None) if provider in encryptors.LEGACY_PROVIDER_CLASS_TO_FORMAT_MAP: provider = encryptors.LEGACY_PROVIDER_CLASS_TO_FORMAT_MAP[provider] if provider != encryptors.LUKS: message = _(""Provider not supported."") raise exception.VolumeDriverException(message=message) # Fetch the key associated with the volume and decode the passphrase keymgr = key_manager.API(CONF) key = keymgr.get(context, encryption['encryption_key_id']) passphrase = binascii.hexlify(key.get_encoded()).decode('utf-8') # create a file tmp_dir = self._image_conversion_dir() with tempfile.NamedTemporaryFile(dir=tmp_dir) as tmp_image: with tempfile.NamedTemporaryFile(dir=tmp_dir) as tmp_key: with open(tmp_key.name, 'w') as f: f.write(passphrase) cipher_args = image_utils.decode_cipher( encryption.get('cipher'), encryption.get('key_size')) create_cmd = ( 'qemu-img', 'create', '-f', 'luks', '-o', 'cipher-alg=%(cipher_alg)s,' 'cipher-mode=%(cipher_mode)s,' 'ivgen-alg=%(ivgen_alg)s' % cipher_args, '--object', 'secret,id=luks_sec,' 'format=raw,file=%(passfile)s' % {'passfile': tmp_key.name}, '-o', 'key-secret=luks_sec', tmp_image.name, '%sM' % (volume.size * 1024)) self._execute(*create_cmd) # Copy image into RBD chunk_size = self.configuration.rbd_store_chunk_size * units.Mi order = int(math.log(chunk_size, 2)) cmd = ['rbd', 'import', '--pool', self.configuration.rbd_pool, '--order', order, tmp_image.name, volume.name] cmd.extend(self._ceph_args()) self._execute(*cmd) def create_volume(self, volume, context=None): if volume.encryption_key_id: return self._create_encrypted_volume(volume, context) "," def create_volume(self, volume):",61,1
openstack%2Fcinder~master~I7fc3ccd24cd9e95cb4fa1d70658fe064cae3a38a,openstack/cinder,master,I7fc3ccd24cd9e95cb4fa1d70658fe064cae3a38a,Remove extra spaces of the volume creation request body,MERGED,2018-01-22 08:47:52.000000000,2018-02-25 14:23:52.000000000,2018-01-22 13:43:54.000000000,"[{'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12822}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-22 08:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2aa37912346b3f69a6d3d850088fffb5b7efa545', 'message': 'Remove extra spaces  of the volume creation request body\n\nChange-Id: I7fc3ccd24cd9e95cb4fa1d70658fe064cae3a38a\n'}, {'number': 2, 'created': '2018-01-22 10:07:18.000000000', 'files': ['api-ref/source/v2/samples/volume-create-request.json', 'api-ref/source/v3/samples/volume-create-request.json'], 'web_link': 'https://opendev.org/openstack/cinder/commit/23b56315b1e3f9ac7e8ab016c49ed3d4abf661f3', 'message': 'Remove extra spaces of the volume creation request body\n\nChange-Id: I7fc3ccd24cd9e95cb4fa1d70658fe064cae3a38a\n'}]",0,536254,23b56315b1e3f9ac7e8ab016c49ed3d4abf661f3,35,25,2,26458,,,0,"Remove extra spaces of the volume creation request body

Change-Id: I7fc3ccd24cd9e95cb4fa1d70658fe064cae3a38a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/54/536254/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/samples/volume-create-request.json', 'api-ref/source/v3/samples/volume-create-request.json']",2,2aa37912346b3f69a6d3d850088fffb5b7efa545,536254," ""multiattach"": false,"," ""multiattach "": false,",2,2
openstack%2Fcinder~master~I0aba3760cd8f22dd0b19a45ecde06919af4a2447,openstack/cinder,master,I0aba3760cd8f22dd0b19a45ecde06919af4a2447,"3PAR: fix volume migration for ""in-use"" volume.",MERGED,2018-01-18 10:56:58.000000000,2018-02-25 14:23:46.000000000,2018-01-19 10:26:25.000000000,"[{'_account_id': 1736}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11600}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21407}, {'_account_id': 21531}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26576}]","[{'number': 1, 'created': '2018-01-18 10:56:58.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_base.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/27176ea58c08c126d1cfd28a453ff8ff95497107', 'message': '3PAR: fix volume migration for ""in-use"" volume.\n\n3par driver does not support cross protocol level\nIn use volume migration, for such cases we are returning\nFalse and then after that cinder framework takes care of\nsame.\n\nBut we were doing same for same protocol level and\nHence volume migration was failing.\n\nThis patch resolve this issue and if same protocol level\nin use volume migration case is there then 3par\ndriver takes care of such migration.\n\nChange-Id: I0aba3760cd8f22dd0b19a45ecde06919af4a2447\nCloses-Bug: #1744021\n'}]",0,535288,27176ea58c08c126d1cfd28a453ff8ff95497107,60,34,1,21407,,,0,"3PAR: fix volume migration for ""in-use"" volume.

3par driver does not support cross protocol level
In use volume migration, for such cases we are returning
False and then after that cinder framework takes care of
same.

But we were doing same for same protocol level and
Hence volume migration was failing.

This patch resolve this issue and if same protocol level
in use volume migration case is there then 3par
driver takes care of such migration.

Change-Id: I0aba3760cd8f22dd0b19a45ecde06919af4a2447
Closes-Bug: #1744021
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/535288/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hpe/hpe_3par_base.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py']",2,27176ea58c08c126d1cfd28a453ff8ff95497107,bug/1744021," @mock.patch.object(volume_types, 'get_volume_type') def test_migrate_fc_volume_attached_to_iscsi_protocol(self, _mock_volume_types): _mock_volume_types.return_value = self.RETYPE_VOLUME_TYPE_1 mock_client = self.setup_driver(mock_conf=self.RETYPE_CONF) protocol = ""iSCSI"" volume = {'name': HPE3PARBaseDriver.VOLUME_NAME, 'volume_type_id': None, 'id': HPE3PARBaseDriver.CLONE_ID, 'display_name': 'Foo Volume', 'size': 2, 'status': 'in-use', 'host': HPE3PARBaseDriver.FAKE_HOST, 'source_volid': HPE3PARBaseDriver.VOLUME_ID} loc_info = 'HPE3PARDriver:1234567:CPG-FC1' host = {'host': 'stack@3parfc1', 'capabilities': {'location_info': loc_info, 'storage_protocol': protocol}} result = self.driver.migrate_volume(context.get_admin_context(), volume, host) self.assertIsNotNone(result) self.assertEqual((False, None), result) expected = [] mock_client.assert_has_calls(expected) ",,40,5
openstack%2Fcinder~master~I1c719e6858426416b56357d2f071584209757a78,openstack/cinder,master,I1c719e6858426416b56357d2f071584209757a78,Storwize: Use passed volume names in migrate,MERGED,2018-01-15 18:23:15.000000000,2018-02-25 14:23:44.000000000,2018-02-02 05:35:54.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12802}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13157}, {'_account_id': 14384}, {'_account_id': 14532}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17045}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23414}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-15 18:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f065c52100ff594dfd0f7574e4b2d9b0b6051c78', 'message': 'Use passed volume names for storwize\n\nFor the storwize driver, update_migrated_volume() impl, the\noriginal and temporary volume names were generated from a\nconfiguration template value, rather than using the names of\nthe volumes passed. This only works if the storwize driver\ncreated the original volume, but breaks down if it originated\nelsewhere.\nMake a small change to use the passed in volume name properties\ninstead. Add a couple asserts to the test cases.\n\nChange-Id: I1c719e6858426416b56357d2f071584209757a78\nCloses-Bug: #1721583\n'}, {'number': 2, 'created': '2018-01-15 21:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9fac42d344cfb1d91cba798fc42c3bcdda31d964', 'message': 'Storwize: Use passed volume names in migrate\n\nFor the storwize driver, update_migrated_volume() impl, the\noriginal and temporary volume names were generated from a\nconfiguration template value, rather than using the names of\nthe volumes passed. This only works if the storwize driver\ncreated the original volume, but breaks down if it originated\nelsewhere.\nMake a small change to use the passed in volume name properties\ninstead. Add a couple asserts to the test cases.\n\nChange-Id: I1c719e6858426416b56357d2f071584209757a78\nCloses-Bug: #1721583\n'}, {'number': 3, 'created': '2018-01-16 18:05:08.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/22b73784ae4463b335456902c3cbf40acdc6e263', 'message': 'Storwize: Use passed volume names in migrate\n\nFor the storwize driver, update_migrated_volume() impl, the\noriginal and temporary volume names were generated from a\nconfiguration template value, rather than using the names of\nthe volumes passed. This only works if the storwize driver\ncreated the original volume, but breaks down if it originated\nelsewhere.\nMake a small change to use the passed in volume name properties\ninstead. Add a couple asserts to the test cases.\n\nChange-Id: I1c719e6858426416b56357d2f071584209757a78\nCloses-Bug: #1721583\n'}]",6,533754,22b73784ae4463b335456902c3cbf40acdc6e263,81,36,3,12802,,,0,"Storwize: Use passed volume names in migrate

For the storwize driver, update_migrated_volume() impl, the
original and temporary volume names were generated from a
configuration template value, rather than using the names of
the volumes passed. This only works if the storwize driver
created the original volume, but breaks down if it originated
elsewhere.
Make a small change to use the passed in volume name properties
instead. Add a couple asserts to the test cases.

Change-Id: I1c719e6858426416b56357d2f071584209757a78
Closes-Bug: #1721583
",git fetch https://review.opendev.org/openstack/cinder refs/changes/54/533754/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py']",2,f065c52100ff594dfd0f7574e4b2d9b0b6051c78,bug/1721583," current_name = new_volume['name'] original_volume_name = volume['name'] LOG.debug(""Attempt rename of %(cur)s to original name %(orig)s"", dict(cur=current_name, orig=original_volume_name))", current_name = CONF.volume_name_template % new_volume['id'] original_volume_name = CONF.volume_name_template % volume['id'],7,3
openstack%2Fcinder~master~Ia77d9d1a3aa4b54a08912584164739f851188784,openstack/cinder,master,Ia77d9d1a3aa4b54a08912584164739f851188784,Fix glance create client unit tests,MERGED,2018-01-16 12:54:19.000000000,2018-02-25 14:23:39.000000000,2018-01-17 17:38:32.000000000,"[{'_account_id': 9535}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-16 12:54:19.000000000', 'files': ['cinder/tests/unit/image/test_glance.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1b9a2deaa5c366b11542dc69a03d5aaa1d2e6885', 'message': 'Fix glance create client unit tests\n\nIf tests test_create_glance_client_with_protocol_http and\ntest_create_glance_client_with_protocol_https from\ncinder.tests.unit.image.test_glance.TestGlanceImageServiceClient are run\none after the other (regardless of the order) it will result in an\nerror: ""AssertionError: Expected \'load_from_options\' to be called once.\nCalled 0 times."".\n\nThe reason is that in cinder/image/glance.py we cache the session in\nvariable _SESSION, so the first test will set it and the second one will\nreuse it and won\'t call the load_from_options method.\n\nThis patch solves this issue by resetting the caching variable in the\ntests.\n\nTrivialFix\n\nChange-Id: Ia77d9d1a3aa4b54a08912584164739f851188784\n'}]",0,534291,1b9a2deaa5c366b11542dc69a03d5aaa1d2e6885,26,20,1,9535,,,0,"Fix glance create client unit tests

If tests test_create_glance_client_with_protocol_http and
test_create_glance_client_with_protocol_https from
cinder.tests.unit.image.test_glance.TestGlanceImageServiceClient are run
one after the other (regardless of the order) it will result in an
error: ""AssertionError: Expected 'load_from_options' to be called once.
Called 0 times."".

The reason is that in cinder/image/glance.py we cache the session in
variable _SESSION, so the first test will set it and the second one will
reuse it and won't call the load_from_options method.

This patch solves this issue by resetting the caching variable in the
tests.

TrivialFix

Change-Id: Ia77d9d1a3aa4b54a08912584164739f851188784
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/534291/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/image/test_glance.py'],1,1b9a2deaa5c366b11542dc69a03d5aaa1d2e6885,fix/glance-client-tests, glance._SESSION = None glance._SESSION = None,,2,0
openstack%2Fcinder~master~Idbfeeb2604bc84dc0a17c633b782000d94665bbe,openstack/cinder,master,Idbfeeb2604bc84dc0a17c633b782000d94665bbe,Fix compression related tests,MERGED,2018-01-16 12:18:59.000000000,2018-02-25 14:23:11.000000000,2018-01-18 16:56:10.000000000,"[{'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10622}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-16 12:18:59.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8f3dfd7299a46be106d5b571c442a79986d66883', 'message': ""Fix compression related tests\n\nTests for chunked backup drivers are using a randomly generated file to\ntest the compression, which means that in most cases due to the\nrandomization the generated file is bigger than the original one, so we\nend up doing a non compressed backup, which defeats the purpose of the\ntests.  More so when you want to test the decompression, since the\nbackup won't be compressed and there won't be any decompression.\n\nTo fix this we generate, for those cases, a simple file that can always\nbe effectively compressed.\n\nChange-Id: Idbfeeb2604bc84dc0a17c633b782000d94665bbe\n""}]",0,534261,8f3dfd7299a46be106d5b571c442a79986d66883,27,21,1,9535,,,0,"Fix compression related tests

Tests for chunked backup drivers are using a randomly generated file to
test the compression, which means that in most cases due to the
randomization the generated file is bigger than the original one, so we
end up doing a non compressed backup, which defeats the purpose of the
tests.  More so when you want to test the decompression, since the
backup won't be compressed and there won't be any decompression.

To fix this we generate, for those cases, a simple file that can always
be effectively compressed.

Change-Id: Idbfeeb2604bc84dc0a17c633b782000d94665bbe
",git fetch https://review.opendev.org/openstack/cinder refs/changes/61/534261/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/backup/drivers/test_backup_google.py', 'cinder/tests/unit/backup/drivers/test_backup_swift.py']",3,8f3dfd7299a46be106d5b571c442a79986d66883,bug/1692775," def _write_effective_compression_file(self, data_size): """"""Ensure file contents can be effectively compressed."""""" self.volume_file.seek(0) self.volume_file.write(bytes([65] * data_size)) self.volume_file.seek(0) self.size_volume_file = 0 self.size_volume_file += 1024 self._write_effective_compression_file(self.size_volume_file) self._write_effective_compression_file(self.size_volume_file)", self.volume_file.seek(0) self.volume_file.seek(0),36,10
openstack%2Fcinder~master~I3187a9f5b4aaf6b6b3e11f8c1f109c2e21ee88fc,openstack/cinder,master,I3187a9f5b4aaf6b6b3e11f8c1f109c2e21ee88fc,INFINIDAT: add missing connection_info params,MERGED,2018-01-14 10:39:28.000000000,2018-02-25 14:23:09.000000000,2018-01-18 06:45:37.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13157}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26576}, {'_account_id': 26968}, {'_account_id': 27679}]","[{'number': 1, 'created': '2018-01-14 10:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/64e37afb43846064eeb14eb12aa8e007421ac211', 'message': 'INFINIDAT: add missing connection_info params\n\nAlways add target_portals, target_iqns and target_luns to\nconnection_info to support iSCSI multipath. Multi-attach will not work\nwithout these keys.\n\nChange-Id: I3187a9f5b4aaf6b6b3e11f8c1f109c2e21ee88fc\n'}, {'number': 2, 'created': '2018-01-16 12:06:10.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dfcb18a5fee85c67e944cfed50608869aca9c5bb', 'message': 'INFINIDAT: add missing connection_info params\n\nAlways add target_portals, target_iqns and target_luns to\nconnection_info to support iSCSI multipath.\n\nChange-Id: I3187a9f5b4aaf6b6b3e11f8c1f109c2e21ee88fc\n'}]",12,533400,dfcb18a5fee85c67e944cfed50608869aca9c5bb,81,37,2,26968,,,0,"INFINIDAT: add missing connection_info params

Always add target_portals, target_iqns and target_luns to
connection_info to support iSCSI multipath.

Change-Id: I3187a9f5b4aaf6b6b3e11f8c1f109c2e21ee88fc
",git fetch https://review.opendev.org/openstack/cinder refs/changes/00/533400/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/infinidat.py'],1,64e37afb43846064eeb14eb12aa8e007421ac211,infinidat_multiattach," target_lun=target_luns[0], target_portals=target_portals, target_iqns=target_iqns, target_luns=target_luns)"," target_lun=target_luns[0]) if len(target_portals) > 1: # multiple network spaces defined result_data.update(dict(target_portals=target_portals, target_iqns=target_iqns, target_luns=target_luns))",4,6
openstack%2Fcinder~master~I14497ed20c6938c0c9662fc94d641ecaf65e984a,openstack/cinder,master,I14497ed20c6938c0c9662fc94d641ecaf65e984a,modify volume spelling errors,MERGED,2018-01-16 09:04:45.000000000,2018-02-25 14:23:05.000000000,2018-01-19 14:37:52.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 18058}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26775}, {'_account_id': 27372}, {'_account_id': 27383}]","[{'number': 1, 'created': '2018-01-16 09:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dfae7af41e668821aff7c47cca5d4fe13a8a3ef2', 'message': 'modify volume spelling errors\n\nChange-Id: I14497ed20c6938c0c9662fc94d641ecaf65e984a\n'}, {'number': 2, 'created': '2018-01-18 10:48:19.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1cfd567449a2210d101c9db7c910a6ce5f9d2268', 'message': 'modify volume spelling errors\n\nChange-Id: I14497ed20c6938c0c9662fc94d641ecaf65e984a\n'}]",0,534199,1cfd567449a2210d101c9db7c910a6ce5f9d2268,45,30,2,27361,,,0,"modify volume spelling errors

Change-Id: I14497ed20c6938c0c9662fc94d641ecaf65e984a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/99/534199/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/test_remotefs.py'],1,dfae7af41e668821aff7c47cca5d4fe13a8a3ef2,modify_volume," mock_extend_volume, mock_extend_volume.assert_called_once_with(volume_ref,"," mock_extend_volme, mock_extend_volme.assert_called_once_with(volume_ref,",2,2
openstack%2Fcinder~master~Id30547f430fcd63d639651ab9a987bb40c304e39,openstack/cinder,master,Id30547f430fcd63d639651ab9a987bb40c304e39,Tests: Fix Storpool tests hash randomization failure,MERGED,2018-01-15 21:28:21.000000000,2018-02-25 14:23:02.000000000,2018-01-19 11:40:45.000000000,"[{'_account_id': 2243}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10622}, {'_account_id': 12016}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-15 21:28:21.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_storpool.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/adfb4050e509d50c29057170f16d1d8b8be332eb', 'message': 'Tests: Fix Storpool tests hash randomization failure\n\nDicts are unordered types, these unit tests will\nfail when Python 3 hash randomization is enabled.\n\nNeeded-By: I4c7396f9d8e58ac8420754503f8ed60cd7473426\nChange-Id: Id30547f430fcd63d639651ab9a987bb40c304e39\n'}]",0,533802,adfb4050e509d50c29057170f16d1d8b8be332eb,38,24,1,4523,,,0,"Tests: Fix Storpool tests hash randomization failure

Dicts are unordered types, these unit tests will
fail when Python 3 hash randomization is enabled.

Needed-By: I4c7396f9d8e58ac8420754503f8ed60cd7473426
Change-Id: Id30547f430fcd63d639651ab9a987bb40c304e39
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/533802/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/test_storpool.py'],1,adfb4050e509d50c29057170f16d1d8b8be332eb,,"import six six.assertCountEqual(self, [volumeName('1')], volumes.keys()) six.assertCountEqual(self, [volumeName('1'), volumeName('2')], volumes.keys()) six.assertCountEqual(self, [volumeName('1'), volumeName('3')], volumes.keys())"," self.assertListEqual([volumeName('1')], list(volumes.keys())) self.assertListEqual([volumeName('1'), volumeName('2')], list(volumes.keys())) self.assertListEqual([volumeName('1'), volumeName('3')], list(volumes.keys()))",8,5
openstack%2Fcinder~master~I35834a43298b5287d5cd3c37baa82903bdffda12,openstack/cinder,master,I35834a43298b5287d5cd3c37baa82903bdffda12,Fix: Propagate OS global request ID,MERGED,2018-01-15 21:00:47.000000000,2018-02-25 14:23:01.000000000,2018-01-18 06:45:42.000000000,"[{'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-15 21:00:47.000000000', 'files': ['cinder/context.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/28ada504af4084f72f3503d77806075e7ad509b0', 'message': 'Fix: Propagate OS global request ID\n\nCinder doesn\'t propagate global request IDs internally, so any external\nrequest that comes with it will have it logged at the API service and\nthen we\'ll lose this information in all the other services.\n\nWe are properly serializing this information on our RPC calls, but we\nare not reconstructing the Context properly on the receiving end.\n\nThis patch ensures that the ""global_request_id"" field from the context\nis properly added on RPC reception.\n\nCloses-Bug: #1743462\nChange-Id: I35834a43298b5287d5cd3c37baa82903bdffda12\n'}]",0,533793,28ada504af4084f72f3503d77806075e7ad509b0,44,28,1,9535,,,0,"Fix: Propagate OS global request ID

Cinder doesn't propagate global request IDs internally, so any external
request that comes with it will have it logged at the API service and
then we'll lose this information in all the other services.

We are properly serializing this information on our RPC calls, but we
are not reconstructing the Context properly on the receiving end.

This patch ensures that the ""global_request_id"" field from the context
is properly added on RPC reception.

Closes-Bug: #1743462
Change-Id: I35834a43298b5287d5cd3c37baa82903bdffda12
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/533793/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/context.py'],1,28ada504af4084f72f3503d77806075e7ad509b0,bug/1743462," global_request_id=values.get('global_request_id'),",,1,0
openstack%2Fcinder~stable%2Fpike~I2d4b7530b2d249ca193f7d0e87d529c9eb2dc25d,openstack/cinder,stable/pike,I2d4b7530b2d249ca193f7d0e87d529c9eb2dc25d,3PAR: Update CHAP on host record when volume is migrated to new compute host,MERGED,2018-01-15 06:22:54.000000000,2018-02-25 14:22:56.000000000,2018-02-02 03:40:58.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25243}, {'_account_id': 26537}, {'_account_id': 26552}]","[{'number': 1, 'created': '2018-01-15 06:22:54.000000000', 'files': ['cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0daf88152bca5198e740eaf006b8a2cc3e632bfd', 'message': '3PAR: Update CHAP on host record when volume is migrated to new compute host\n\nWhen the nova instances are migrated from one compute host to another,\nduring the new VLUN creation step, the host record created on 3PAR has\nthe old chap credentials, but the volume metadata contains the newly\ngenerated CHAP credentials. This fix will ensure the CHAP authentication\ncredentials on volume metadata and the host record on 3PAR are in sync\nwhen the nova instances are live migrated.\n\nCloses-Bug: #1737181\n\nChange-Id: I2d4b7530b2d249ca193f7d0e87d529c9eb2dc25d\n(cherry picked from commit bfc8c849df043d7695c70a5e90e5b95e93ce0728)\n'}]",0,533503,0daf88152bca5198e740eaf006b8a2cc3e632bfd,27,18,1,24299,,,0,"3PAR: Update CHAP on host record when volume is migrated to new compute host

When the nova instances are migrated from one compute host to another,
during the new VLUN creation step, the host record created on 3PAR has
the old chap credentials, but the volume metadata contains the newly
generated CHAP credentials. This fix will ensure the CHAP authentication
credentials on volume metadata and the host record on 3PAR are in sync
when the nova instances are live migrated.

Closes-Bug: #1737181

Change-Id: I2d4b7530b2d249ca193f7d0e87d529c9eb2dc25d
(cherry picked from commit bfc8c849df043d7695c70a5e90e5b95e93ce0728)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/03/533503/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'cinder/tests/unit/volume/drivers/hpe/test_hpe3par.py']",2,0daf88152bca5198e740eaf006b8a2cc3e632bfd,bug/1737181," def test_create_host_chap_enabled_and_host_with_chap_cred(self): # setup_mock_client drive with CHAP enabled configuration # and return the mock HTTP 3PAR client config = self.setup_configuration() config.hpe3par_iscsi_chap_enabled = True mock_client = self.setup_driver(config=config) mock_client.getVolume.return_value = {'userCPG': HPE3PAR_CPG} mock_client.getCPG.return_value = {} mock_client.getHost.return_value = { 'name': self.FAKE_HOST, 'initiatorChapEnabled': True, 'iSCSIPaths': [{ ""name"": ""iqn.1993-08.org.debian:01:222"" }] } mock_client.queryHost.return_value = None mock_client.getVLUN.return_value = {'lun': self.TARGET_LUN} expected_mod_request = { 'chapOperation': mock_client.HOST_EDIT_ADD, 'chapOperationMode': mock_client.CHAP_INITIATOR, 'chapName': 'test-user', 'chapSecret': 'test-pass' } def get_side_effect(*args): data = {'value': None} if args[1] == CHAP_USER_KEY: data['value'] = 'test-user' elif args[1] == CHAP_PASS_KEY: data['value'] = 'test-pass' return data mock_client.getVolumeMetaData.side_effect = get_side_effect with mock.patch.object(hpecommon.HPE3PARCommon, '_create_client') as mock_create_client: mock_create_client.return_value = mock_client common = self.driver._login() host, auth_username, auth_password = self.driver._create_host( common, self.volume, self.connector) expected = [ mock.call.getVolume('osv-0DM4qZEVSKON-DXN-NwVpw'), mock.call.getCPG(HPE3PAR_CPG), mock.call.getVolumeMetaData( 'osv-0DM4qZEVSKON-DXN-NwVpw', CHAP_USER_KEY), mock.call.getVolumeMetaData( 'osv-0DM4qZEVSKON-DXN-NwVpw', CHAP_PASS_KEY), mock.call.getHost(self.FAKE_HOST), mock.call.queryHost(iqns=['iqn.1993-08.org.debian:01:222']), mock.call.modifyHost( 'fakehost', expected_mod_request), mock.call.getHost(self.FAKE_HOST) ] mock_client.assert_has_calls(expected) self.assertEqual(self.FAKE_HOST, host['name']) self.assertEqual('test-user', auth_username) self.assertEqual('test-pass', auth_password) ",,70,16
openstack%2Fcinder~driverfixes%2Focata~I3b775da8c5e862def54e9d44d7b157cf17a07a24,openstack/cinder,driverfixes/ocata,I3b775da8c5e862def54e9d44d7b157cf17a07a24,Unity: Fix duplicate hosts created with same name,MERGED,2018-01-15 01:47:30.000000000,2018-02-25 14:22:53.000000000,2018-01-18 18:40:25.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 10628}, {'_account_id': 12369}, {'_account_id': 14624}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24815}, {'_account_id': 25243}]","[{'number': 1, 'created': '2018-01-15 01:47:30.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/unity/test_adapter.py', 'cinder/volume/drivers/dell_emc/unity/adapter.py', 'cinder/tests/unit/volume/drivers/dell_emc/unity/test_client.py', 'cinder/volume/drivers/dell_emc/unity/client.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/eb6d440fe5a94254b7ac9391aa8f3d81b264a484', 'message': 'Unity: Fix duplicate hosts created with same name\n\nIn some circumstance, there is a race condition in querying/creating\nUnity host thus multiple hosts with same name were created.\n\nThis issue stops any further attach/detach operation.\n\nThis patch leverage the DSL in cinder to avoid above race condition.\n\nChange-Id: I3b775da8c5e862def54e9d44d7b157cf17a07a24\nCloses-bug: #1726284\n(cherry picked from commit d8dd30f16b8712385b2f0d43c4d0a45f5fe4be41)\n(cherry picked from commit 85bc7559fb3b8c8ff3d508b3ef54bc4ba4a0591f)\n'}]",0,533441,eb6d440fe5a94254b7ac9391aa8f3d81b264a484,26,15,1,10628,,,0,"Unity: Fix duplicate hosts created with same name

In some circumstance, there is a race condition in querying/creating
Unity host thus multiple hosts with same name were created.

This issue stops any further attach/detach operation.

This patch leverage the DSL in cinder to avoid above race condition.

Change-Id: I3b775da8c5e862def54e9d44d7b157cf17a07a24
Closes-bug: #1726284
(cherry picked from commit d8dd30f16b8712385b2f0d43c4d0a45f5fe4be41)
(cherry picked from commit 85bc7559fb3b8c8ff3d508b3ef54bc4ba4a0591f)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/533441/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/unity/test_adapter.py', 'cinder/volume/drivers/dell_emc/unity/adapter.py', 'cinder/tests/unit/volume/drivers/dell_emc/unity/test_client.py', 'cinder/volume/drivers/dell_emc/unity/client.py']",4,eb6d440fe5a94254b7ac9391aa8f3d81b264a484,bug/1726284-driverfixes/ocata,"from cinder import coordination self.host_cache = {} @coordination.synchronized('{self.host}-{name}') def create_host(self, name): """"""Provides existing host if exists else create one."""""" if name not in self.host_cache: try: host = self.system.get_host(name=name) except storops_ex.UnityResourceNotFoundError: LOG.debug('Host %s not found. Create a new one.', name) host = self.system.create_host(name=name) self.host_cache[name] = host else: host = self.host_cache[name] return host def update_host_initiators(self, host, uids): """"""Updates host with the supplied uids."""""" if un_registered: for uid in un_registered: try: host.add_initiator(uid, force_create=True) except storops_ex.UnityHostInitiatorExistedError: # This make concurrent modification of # host initiators safe LOG.debug( 'The uid(%s) was already in ' '%s.', uid, host.name) host.update() # Update host cached with new initiators. self.host_cache[host.name] = host "," def create_host(self, name, uids): """"""Creates a host on Unity. Creates a host on Unity which has the uids associated. :param name: name of the host :param uids: iqns or wwns list :return: UnitHost object """""" try: host = self.system.get_host(name=name) except storops_ex.UnityResourceNotFoundError: LOG.debug('Existing host %s not found. Create a new one.', name) host = self.system.create_host(name=name) for uid in un_registered: host.add_initiator(uid, force_create=True) host.update() def get_host(self, name): return self.system.get_host(name=name) ",73,39
openstack%2Fcinder~stable%2Fpike~I8ed58ca2d6f4b95801cb19db1f2f2b4d846a06bf,openstack/cinder,stable/pike,I8ed58ca2d6f4b95801cb19db1f2f2b4d846a06bf,nimble : remove unsupported from release notes,MERGED,2018-01-12 17:34:48.000000000,2018-02-25 14:22:41.000000000,2018-01-12 20:57:18.000000000,"[{'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-01-12 17:34:48.000000000', 'files': ['releasenotes/notes/mark-nimble-deprecated-9f7d1c178b48fa39.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6da81fbfcabf402409d6bc9c6967fe49808d2ccf', 'message': 'nimble : remove unsupported from release notes\n\nthe release notes has marked nimble as unsupported although it is\nsupported. revert the file\n\nChange-Id: I8ed58ca2d6f4b95801cb19db1f2f2b4d846a06bf\nCloses-Bug: 1742992\n'}]",1,533253,6da81fbfcabf402409d6bc9c6967fe49808d2ccf,14,10,1,16668,,,0,"nimble : remove unsupported from release notes

the release notes has marked nimble as unsupported although it is
supported. revert the file

Change-Id: I8ed58ca2d6f4b95801cb19db1f2f2b4d846a06bf
Closes-Bug: 1742992
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/533253/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/mark-nimble-deprecated-9f7d1c178b48fa39.yaml'],1,6da81fbfcabf402409d6bc9c6967fe49808d2ccf,bug/1742992,,"--- upgrade: - | The Nimble driver has been marked as unsupported and is now deprecated. ``enable_unsupported_driver`` will need to be set to ``True`` in the driver's section in cinder.conf to continue to use it. deprecations: - | The Nimble driver has been marked as unsupported and is now deprecated. ``enable_unsupported_driver`` will need to be set to ``True`` in the driver's section in cinder.conf to continue to use it. If the support status does not change, they will be removed in the Queens development cycle. ",0,13
openstack%2Fcinder~master~Idec99b206f6e27b853175432dcba174f3fa400d0,openstack/cinder,master,Idec99b206f6e27b853175432dcba174f3fa400d0,VMAX driver - retype fix where workload is None,MERGED,2018-01-12 12:24:30.000000000,2018-02-25 14:22:25.000000000,2018-01-22 01:57:41.000000000,"[{'_account_id': 170}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 14532}, {'_account_id': 14624}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 16422}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23414}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 26561}, {'_account_id': 26576}]","[{'number': 1, 'created': '2018-01-12 12:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/196b465460b14bdcb03b113366662c6c8ee6730b', 'message': ""VMAX driver - retype fix where workload is None\n\nThe issue occurs when workload is 'None', because the code expects\nuppercase 'NONE'. This fix rectifies this.\n\nChange-Id: Idec99b206f6e27b853175432dcba174f3fa400d0\nPartial-Bug: #1742917\n""}, {'number': 2, 'created': '2018-01-12 16:34:01.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1034f54c33e04d1bf70f20fd1dbfa7b57cdc40e1', 'message': ""VMAX driver - retype fix where workload is None\n\nThe issue occurs when workload is 'None', because the code expects\nuppercase 'NONE'. This fix rectifies this.\n\nChange-Id: Idec99b206f6e27b853175432dcba174f3fa400d0\nPartial-Bug: #1742917\n""}]",0,533170,1034f54c33e04d1bf70f20fd1dbfa7b57cdc40e1,45,33,2,12670,,,0,"VMAX driver - retype fix where workload is None

The issue occurs when workload is 'None', because the code expects
uppercase 'NONE'. This fix rectifies this.

Change-Id: Idec99b206f6e27b853175432dcba174f3fa400d0
Partial-Bug: #1742917
",git fetch https://review.opendev.org/openstack/cinder refs/changes/70/533170/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py']",2,196b465460b14bdcb03b113366662c6c8ee6730b,bug/1742917, if pool_details[1].lower() == 'none': target_workload = 'NONE' else: target_workload = pool_details[1], target_workload = pool_details[1],16,1
openstack%2Fcinder~master~I058f315f3ae48847165c82b124db566a77e3adbb,openstack/cinder,master,I058f315f3ae48847165c82b124db566a77e3adbb,VMAX driver - QOS settings incorrectly applied on Default storage group,MERGED,2018-01-11 16:49:30.000000000,2018-02-25 14:22:23.000000000,2018-01-22 01:57:22.000000000,"[{'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 19852}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 26576}]","[{'number': 1, 'created': '2018-01-11 16:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f3a67cb02ab5c808ab7a28b32e659f06f3864cd5', 'message': 'VMAX driver - QOS settings incorrectly applied on Default storage group\n\nWhen a VMAX volume is created, host IO limits are incorrectly applied on the\nstorage group. When the volume is attached to an instance, host IO limits are\napplied to the new storage group leaving limits set in two places. Host IO\nlimits should only be set on the storage group associated with the instance.\n\nChange-Id: I058f315f3ae48847165c82b124db566a77e3adbb\n'}, {'number': 2, 'created': '2018-01-11 16:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/13c883ae61025395202cf58ac3b0c490749b5a76', 'message': 'VMAX driver - QOS settings incorrectly applied on Default storage group\n\nWhen a VMAX volume is created, host IO limits are incorrectly applied on the\nstorage group. When the volume is attached to an instance, host IO limits are\napplied to the new storage group leaving limits set in two places. Host IO\nlimits should only be set on the storage group associated with the instance.\n\nChange-Id: I058f315f3ae48847165c82b124db566a77e3adbb\nCloses-bug: 1742709\n'}, {'number': 3, 'created': '2018-01-12 16:33:10.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/567564cae8fc3b931088b385963a49648574b7b0', 'message': 'VMAX driver - QOS settings incorrectly applied on Default storage group\n\nWhen a VMAX volume is created, host IO limits are incorrectly applied\non the storage group. When the volume is attached to an instance, host\nIO limits are applied to the new storage group leaving limits set in\ntwo places. Host IO limits should only be set on the storage group\nassociated with the instance.\n\nChange-Id: I058f315f3ae48847165c82b124db566a77e3adbb\nCloses-bug: 1742709\n'}]",0,532911,567564cae8fc3b931088b385963a49648574b7b0,79,34,3,22021,,,0,"VMAX driver - QOS settings incorrectly applied on Default storage group

When a VMAX volume is created, host IO limits are incorrectly applied
on the storage group. When the volume is attached to an instance, host
IO limits are applied to the new storage group leaving limits set in
two places. Host IO limits should only be set on the storage group
associated with the instance.

Change-Id: I058f315f3ae48847165c82b124db566a77e3adbb
Closes-bug: 1742709
",git fetch https://review.opendev.org/openstack/cinder refs/changes/11/532911/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/vmax/test_vmax.py', 'cinder/volume/drivers/dell_emc/vmax/common.py']",2,f3a67cb02ab5c808ab7a28b32e659f06f3864cd5,bug/1742709, if 'qos' in extra_specs: del extra_specs['qos'] if 'qos' in extra_specs: del extra_specs['qos'],,32,0
openstack%2Fcinder~driverfixes%2Fmitaka~I02f79a1ccc1af29e1f843e94c0618c8e4962bdae,openstack/cinder,driverfixes/mitaka,I02f79a1ccc1af29e1f843e94c0618c8e4962bdae,Fix backup compression unit tests,MERGED,2017-11-07 11:54:00.000000000,2018-02-25 14:22:21.000000000,2018-01-18 04:52:24.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22126}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24815}, {'_account_id': 24921}]","[{'number': 1, 'created': '2017-11-07 11:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0c5afbc1df4a4ebe1da5dd712d6a12a5853ec889', 'message': 'Fix backup compression unit tests\n\nCinder backup tests for compression were incorrectly testing the size of\nthe compression data, instead of testing against the compressed data\nthey were checking the tuple (algorithm, compressed_data).\n\nThis patches fixes those tests.\n\nChange-Id: I02f79a1ccc1af29e1f843e94c0618c8e4962bdae\n(cherry picked from commit fd671c77cd93e8a5a5bafbee7f24564fb780a044)\n(cherry picked from commit 9d0658febea9a81e54afd62f37a6a9dfe3135797)\n(cherry picked from commit 0f20809828e5d56b4b22861d49dde485abf2c1dc)\n(cherry picked from commit ec7005ff9162bd64504cb5b50541a26893e60312)\nConflicts:\n\tcinder/tests/unit/backup/drivers/test_backup_nfs.py\n\tcinder/tests/unit/test_backup_google.py\n\tcinder/tests/unit/test_backup_swift.py\n'}, {'number': 2, 'created': '2017-11-28 17:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/04409f930ce573f3ce976e6440a0ab8fc80ab6d7', 'message': 'Fix backup compression unit tests\n\nCinder backup tests for compression were incorrectly testing the size of\nthe compression data, instead of testing against the compressed data\nthey were checking the tuple (algorithm, compressed_data).\n\nThis patches fixes those tests.\n\nDepends-On: Iaae29d3a48da3e849e558894a2d707be90294551\nChange-Id: I02f79a1ccc1af29e1f843e94c0618c8e4962bdae\n(cherry picked from commit fd671c77cd93e8a5a5bafbee7f24564fb780a044)\n(cherry picked from commit 9d0658febea9a81e54afd62f37a6a9dfe3135797)\n(cherry picked from commit 0f20809828e5d56b4b22861d49dde485abf2c1dc)\n(cherry picked from commit ec7005ff9162bd64504cb5b50541a26893e60312)\nConflicts:\n\tcinder/tests/unit/backup/drivers/test_backup_nfs.py\n\tcinder/tests/unit/test_backup_google.py\n\tcinder/tests/unit/test_backup_swift.py\n'}, {'number': 3, 'created': '2018-01-12 15:50:47.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/test_backup_swift.py', 'cinder/tests/unit/test_backup_google.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/771016611551d148327fe310d92471ceccf2476d', 'message': 'Fix backup compression unit tests\n\nCinder backup tests for compression were incorrectly testing the size of\nthe compression data, instead of testing against the compressed data\nthey were checking the tuple (algorithm, compressed_data).\n\nThis patches fixes those tests.\n\nDepends-On: Iaae29d3a48da3e849e558894a2d707be90294551\nChange-Id: I02f79a1ccc1af29e1f843e94c0618c8e4962bdae\n(cherry picked from commit fd671c77cd93e8a5a5bafbee7f24564fb780a044)\n(cherry picked from commit 9d0658febea9a81e54afd62f37a6a9dfe3135797)\n(cherry picked from commit 0f20809828e5d56b4b22861d49dde485abf2c1dc)\n(cherry picked from commit ec7005ff9162bd64504cb5b50541a26893e60312)\nConflicts:\n\tcinder/tests/unit/backup/drivers/test_backup_nfs.py\n\tcinder/tests/unit/test_backup_google.py\n\tcinder/tests/unit/test_backup_swift.py\n'}]",0,518308,771016611551d148327fe310d92471ceccf2476d,47,16,3,9535,,,0,"Fix backup compression unit tests

Cinder backup tests for compression were incorrectly testing the size of
the compression data, instead of testing against the compressed data
they were checking the tuple (algorithm, compressed_data).

This patches fixes those tests.

Depends-On: Iaae29d3a48da3e849e558894a2d707be90294551
Change-Id: I02f79a1ccc1af29e1f843e94c0618c8e4962bdae
(cherry picked from commit fd671c77cd93e8a5a5bafbee7f24564fb780a044)
(cherry picked from commit 9d0658febea9a81e54afd62f37a6a9dfe3135797)
(cherry picked from commit 0f20809828e5d56b4b22861d49dde485abf2c1dc)
(cherry picked from commit ec7005ff9162bd64504cb5b50541a26893e60312)
Conflicts:
	cinder/tests/unit/backup/drivers/test_backup_nfs.py
	cinder/tests/unit/test_backup_google.py
	cinder/tests/unit/test_backup_swift.py
",git fetch https://review.opendev.org/openstack/cinder refs/changes/08/518308/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_nfs.py', 'cinder/tests/unit/test_backup_swift.py', 'cinder/tests/unit/test_backup_google.py']",3,0c5afbc1df4a4ebe1da5dd712d6a12a5853ec889,bug/1692775," self.assertGreater(len(fake_data), len(result[1]))", self.assertTrue(len(result) < len(fake_data)),3,3
