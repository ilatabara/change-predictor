id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Foslo.reports~master~Ie0678a020707e1d906f487c709d64447d1eee905,openstack/oslo.reports,master,Ie0678a020707e1d906f487c709d64447d1eee905,Use py3 as the default runtime for tox,MERGED,2020-11-04 09:04:11.000000000,2021-01-13 08:33:14.000000000,2021-01-13 08:31:29.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2020-11-04 09:04:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/f67c3bad2ff0b8c3f75152657b55b456f1ca02e8', 'message': ""Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at\neach new cycle.\n\nWallaby support officially the following runtimes [1]:\n- Python 3.6\n- Python 3.8\n\nDuring Victoria Python 3.7 was used as the default runtime [2] however this\nversion isn't longer officially supported.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: Ie0678a020707e1d906f487c709d64447d1eee905\n""}]",0,761311,f67c3bad2ff0b8c3f75152657b55b456f1ca02e8,11,3,1,28522,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: Ie0678a020707e1d906f487c709d64447d1eee905
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/11/761311/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f67c3bad2ff0b8c3f75152657b55b456f1ca02e8,tox-python38,"envlist = py3,pep8","envlist = py38,pep8",1,1
openstack%2Fkolla-ansible~master~I86a13d2476644bfa2545a6737752cda1ade34d23,openstack/kolla-ansible,master,I86a13d2476644bfa2545a6737752cda1ade34d23,Fix dpdk deploy failed,MERGED,2020-12-25 09:38:57.000000000,2021-01-13 08:06:38.000000000,2021-01-12 13:46:30.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32067}, {'_account_id': 32761}]","[{'number': 1, 'created': '2020-12-25 09:38:57.000000000', 'files': ['ansible/group_vars/all.yml', 'ansible/roles/ovs-dpdk/templates/ovsdpdk-db.json.j2', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'releasenotes/notes/fix-dpdk-deploy-failed-6695899422a67359.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b12be305cb82481b4fd8887fc803b59f845bb866', 'message': ""Fix dpdk deploy failed\n\nThis change fix ansible deploy ovs-dpdk failed and\nneutron_openvswitch_agent container can't start..\n\ndpdk_tunnel is a role variable, but kolla_address gets vaule\nfrom hostvars. so we need remove this variable and it's friends\nto group/all.yaml\n\nneutron_openvswitch_agent connects to ovs-db with 127.0.0.1,\nbut ovs-db listen on management interface.\n\nCloses-Bug: 1908850\n\nChange-Id: I86a13d2476644bfa2545a6737752cda1ade34d23\n""}]",2,768510,b12be305cb82481b4fd8887fc803b59f845bb866,14,6,1,26285,,,0,"Fix dpdk deploy failed

This change fix ansible deploy ovs-dpdk failed and
neutron_openvswitch_agent container can't start..

dpdk_tunnel is a role variable, but kolla_address gets vaule
from hostvars. so we need remove this variable and it's friends
to group/all.yaml

neutron_openvswitch_agent connects to ovs-db with 127.0.0.1,
but ovs-db listen on management interface.

Closes-Bug: 1908850

Change-Id: I86a13d2476644bfa2545a6737752cda1ade34d23
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/10/768510/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'ansible/roles/ovs-dpdk/templates/ovsdpdk-db.json.j2', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'releasenotes/notes/fix-dpdk-deploy-failed-6695899422a67359.yaml']",4,b12be305cb82481b4fd8887fc803b59f845bb866,fix-dpdk,--- fixes: - | Fix the wrong configuration of the ovs-dpdk service. this breaks the deployment of kolla-ansible. For more details please see `bug 1908850 <https://bugs.launchpad.net/kolla-ansible/+bug/1908850>`__. ,,11,3
openstack%2Ftripleo-heat-templates~master~I6fa9146746539e60b8ca08adadd839aa8c21fa4a,openstack/tripleo-heat-templates,master,I6fa9146746539e60b8ca08adadd839aa8c21fa4a,Glance: use the puppet parameter to enable image cache feature,MERGED,2020-12-31 03:32:27.000000000,2021-01-13 08:06:24.000000000,2021-01-13 08:06:24.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-12-31 03:32:27.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1c46f0a6cccbd29d6678df89900e14625b482560', 'message': 'Glance: use the puppet parameter to enable image cache feature\n\nThis change migrates the logic to include the required classes for\nimage cache feature from tripleo-heat-templates to puppet-tripleo, so\nthat we compose all required puppet classes in puppet-tripleo.\n\nDepends-on: https://review.opendev.org/768796\nChange-Id: I6fa9146746539e60b8ca08adadd839aa8c21fa4a\n'}]",0,768797,1c46f0a6cccbd29d6678df89900e14625b482560,13,5,1,9816,,,0,"Glance: use the puppet parameter to enable image cache feature

This change migrates the logic to include the required classes for
image cache feature from tripleo-heat-templates to puppet-tripleo, so
that we compose all required puppet classes in puppet-tripleo.

Depends-on: https://review.opendev.org/768796
Change-Id: I6fa9146746539e60b8ca08adadd839aa8c21fa4a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/768797/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/glance/glance-api-container-puppet.yaml'],1,1c46f0a6cccbd29d6678df89900e14625b482560,glance-cache, - tripleo::profile::base::glance::api::glance_enable_cache: true glance::api::image_cache_dir: {get_param: GlanceImageCacheDir}, - glance::api::image_cache_dir: {get_param: GlanceImageCacheDir} - if: - glance_cache_enabled - | include ::glance::cache::cleaner include ::glance::cache::pruner - '',2,7
openstack%2Ftripleo-heat-templates~master~Iaef7c01127327f709577bef3d2e96db840ba2b80,openstack/tripleo-heat-templates,master,Iaef7c01127327f709577bef3d2e96db840ba2b80,Add setting to override max memcached connections,MERGED,2020-11-21 18:49:30.000000000,2021-01-13 08:00:11.000000000,2021-01-13 07:58:34.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 29268}]","[{'number': 1, 'created': '2020-11-21 18:49:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/674f7cf95087f20eba0ec8cdb8b9a16308ce83a0', 'message': 'Added MemcachedMaxConnections to allow max connection override\n\nAdded MemcachedMaxConnections to allow max connection override as\nactually the limit if 8192 connections but in some cases the environment\nwill create more than 8192 connections to memcached.\n\nChange-Id: Iaef7c01127327f709577bef3d2e96db840ba2b80\n'}, {'number': 2, 'created': '2020-11-22 13:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/94807157a6e554ab52fe610111ed698079193c4f', 'message': 'Added MemcachedMaxConnections to allow max connection override\n\nAdded MemcachedMaxConnections to allow max connection override as\nactually the limit if 8192 connections but in some cases the environment\nwill create more than 8192 connections to memcached.\n\nChange-Id: Iaef7c01127327f709577bef3d2e96db840ba2b80\n'}, {'number': 3, 'created': '2020-11-22 13:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d6e5bbac0dd7a60b4893e3f93727b09759f896e7', 'message': 'Add setting to override max memcached connections\n\nAdded MemcachedMaxConnections to allow max connection override as\nactually the limit if 8192 connections but in some cases the environment\nwill create more than 8192 connections to memcached.\n\nChange-Id: Iaef7c01127327f709577bef3d2e96db840ba2b80\n'}, {'number': 4, 'created': '2020-11-22 13:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f457ce314b160ad1b9a8c38be5f7e063ddf25625', 'message': 'Add setting to override max memcached connections\n\nAdded MemcachedMaxConnections to allow max connection override as\nactually the limit is 8192 connections but in some cases the environment\nwill create more than 8192 connections to each memcached server.\n\nChange-Id: Iaef7c01127327f709577bef3d2e96db840ba2b80\n'}, {'number': 5, 'created': '2020-11-30 15:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a02a3a4e3686e472e654d7c2d005a839b3acd621', 'message': 'Add setting to override max memcached connections\n\nAdded MemcachedMaxConnections to allow max connection override as\nactually the limit is 8192 connections but in some cases the environment\nwill create more than 8192 connections to each memcached server.\n\nChange-Id: Iaef7c01127327f709577bef3d2e96db840ba2b80\n'}, {'number': 6, 'created': '2020-12-01 14:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/20ff66018f5ddcb8a8ebf2599d413676ca45a132', 'message': 'Add setting to override max memcached connections\n\nAdded MemcachedMaxConnections to allow max connection override as\nactually the limit is 8192 connections but in some cases the environment\nwill create more than 8192 connections to each memcached server.\n\nChange-Id: Iaef7c01127327f709577bef3d2e96db840ba2b80\n'}, {'number': 7, 'created': '2020-12-01 15:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d367cb8d044f575a5e41a61b8ee4556137e6c107', 'message': 'Add setting to override max memcached connections\n\nAdded MemcachedMaxConnections to allow max connection override as\nactually the limit is 8192 connections but in some cases the environment\nwill create more than 8192 connections to each memcached server.\n\nChange-Id: Iaef7c01127327f709577bef3d2e96db840ba2b80\n'}, {'number': 8, 'created': '2020-12-01 15:20:09.000000000', 'files': ['releasenotes/notes/addmemcachedmaxconnections-b591c0fa39e821f5.yaml', 'deployment/memcached/memcached-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bbed1ef736dff02bf54e03dfe72322a6344adc5e', 'message': 'Add setting to override max memcached connections\n\nAdded MemcachedMaxConnections to allow max connection override as\nactually the limit is 8192 connections but in some cases the environment\nwill create more than 8192 connections to each memcached server.\n\nChange-Id: Iaef7c01127327f709577bef3d2e96db840ba2b80\n'}]",2,763596,bbed1ef736dff02bf54e03dfe72322a6344adc5e,37,8,8,7130,,,0,"Add setting to override max memcached connections

Added MemcachedMaxConnections to allow max connection override as
actually the limit is 8192 connections but in some cases the environment
will create more than 8192 connections to each memcached server.

Change-Id: Iaef7c01127327f709577bef3d2e96db840ba2b80
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/763596/5 && git format-patch -1 --stdout FETCH_HEAD,['deployment/memcached/memcached-container-puppet.yaml'],1,674f7cf95087f20eba0ec8cdb8b9a16308ce83a0,max_conn_memcached, MemcachedMaxConnections: default: '8192' description: The maximum number of connections to be accepted by memcached type: number memcached::max_connections: {get_param: MemcachedMaxConnections},,5,0
openstack%2Fpuppet-tripleo~master~I843d72542154a2e278ba257f6b61ed573c7c3860,openstack/puppet-tripleo,master,I843d72542154a2e278ba257f6b61ed573c7c3860,Glance: Include the required classes for image cache,MERGED,2020-12-31 03:28:46.000000000,2021-01-13 07:58:57.000000000,2021-01-13 07:58:57.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-12-31 03:28:46.000000000', 'files': ['spec/classes/tripleo_profile_base_glance_api_spec.rb', 'manifests/profile/base/glance/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/950275ed0575e289da53642dba8bc03e1485416e', 'message': 'Glance: Include the required classes for image cache\n\nThis change is a prep work to migrate class composition for image cache\nfeature from tripleo-heat-templates to puppet-tripleo, so that we can\ngather all logics to compose required puppet classes in puppet-tripleo.\n\nChange-Id: I843d72542154a2e278ba257f6b61ed573c7c3860\n'}]",0,768796,950275ed0575e289da53642dba8bc03e1485416e,8,4,1,9816,,,0,"Glance: Include the required classes for image cache

This change is a prep work to migrate class composition for image cache
feature from tripleo-heat-templates to puppet-tripleo, so that we can
gather all logics to compose required puppet classes in puppet-tripleo.

Change-Id: I843d72542154a2e278ba257f6b61ed573c7c3860
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/96/768796/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_glance_api_spec.rb', 'manifests/profile/base/glance/api.pp']",2,950275ed0575e289da53642dba8bc03e1485416e,glance-cache,"# [*glance_enable_cache*] # (optional) Whether to enable caching # defaults to false # $glance_enable_cache = false, if $glance_enable_cache { include glance::cache::cleaner include glance::cache::pruner }",,35,0
openstack%2Fproject-config~master~I659dfd9ca1279e42ba8339068538caa72e94a2bc,openstack/project-config,master,I659dfd9ca1279e42ba8339068538caa72e94a2bc,Create microstack-specs project,MERGED,2021-01-12 18:29:32.000000000,2021-01-13 07:50:41.000000000,2021-01-13 07:10:58.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 18:29:32.000000000', 'files': ['gerritbot/channels.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7a350e539fabe7846d0497c4dee906fee0511b73', 'message': 'Create microstack-specs project\n\nChange-Id: I659dfd9ca1279e42ba8339068538caa72e94a2bc\n'}]",0,770460,7a350e539fabe7846d0497c4dee906fee0511b73,8,3,1,11805,,,0,"Create microstack-specs project

Change-Id: I659dfd9ca1279e42ba8339068538caa72e94a2bc
",git fetch https://review.opendev.org/openstack/project-config refs/changes/60/770460/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,7a350e539fabe7846d0497c4dee906fee0511b73,new-project, - x/microstack-specs,,5,0
openstack%2Fsecurity-doc~master~I587617f29141a244ca7983300ff4fcebed4255f5,openstack/security-doc,master,I587617f29141a244ca7983300ff4fcebed4255f5,Obsolete check-identity-04,MERGED,2021-01-07 01:20:22.000000000,2021-01-13 07:05:02.000000000,2021-01-13 07:03:37.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 01:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/23f4c90900c607d23c2990fc84b32415e8258c6e', 'message': 'Add deprecation note for check-identity-04\n\nThe [token]/hash_algorithm config option has been deprecated since\nmitaka[1]\n\n[1]: https://blueprints.launchpad.net/keystone/+spec/deprecated-as-of-mitaka\n\nChange-Id: I587617f29141a244ca7983300ff4fcebed4255f5\n'}, {'number': 2, 'created': '2021-01-08 04:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/e91a6def328416d608e749e6196ed452484dd627', 'message': ""Deprecation check-identity-04\n\nThe [token]/hash_algorithm config option has been deprecated since\nmitaka[1].\n\nTo avoid renumbering, update check-identity-04 to '(Deprecated)'. This\nkeeps numbering compatibilty for people using previous version of the\nchecklist.\n\n[1]: https://blueprints.launchpad.net/keystone/+spec/deprecated-as-of-mitaka\n\nChange-Id: I587617f29141a244ca7983300ff4fcebed4255f5\n""}, {'number': 3, 'created': '2021-01-12 22:30:13.000000000', 'files': ['security-guide/source/identity/checklist.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/f493bb8c50a2dab72113b25b4d8cfa306079274a', 'message': ""Obsolete check-identity-04\n\nThe [token]/hash_algorithm config option has been deprecated since\nmitaka[1].\n\nTo avoid renumbering, update check-identity-04 to '(Obsolete)'. This\nkeeps numbering compatibilty for people using previous version of the\nchecklist.\n\n[1]: https://blueprints.launchpad.net/keystone/+spec/deprecated-as-of-mitaka\n\nChange-Id: I587617f29141a244ca7983300ff4fcebed4255f5\n""}]",1,769629,f493bb8c50a2dab72113b25b4d8cfa306079274a,13,2,3,8064,,,0,"Obsolete check-identity-04

The [token]/hash_algorithm config option has been deprecated since
mitaka[1].

To avoid renumbering, update check-identity-04 to '(Obsolete)'. This
keeps numbering compatibilty for people using previous version of the
checklist.

[1]: https://blueprints.launchpad.net/keystone/+spec/deprecated-as-of-mitaka

Change-Id: I587617f29141a244ca7983300ff4fcebed4255f5
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/29/769629/2 && git format-patch -1 --stdout FETCH_HEAD,['security-guide/source/identity/checklist.rst'],1,23f4c90900c607d23c2990fc84b32415e8258c6e,bp/s,.. note:: This item only applies to OpenStack releases Newton and before as ``hash_algorithm`` was deprecated in Mitaka. ,,3,0
openstack%2Fmagnum-ui~master~I5645f2f8d9d2a2444f1e2c5ca0d04f024c293a0a,openstack/magnum-ui,master,I5645f2f8d9d2a2444f1e2c5ca0d04f024c293a0a,Update TOX_CONSTRAINTS_FILE,ABANDONED,2020-12-14 09:57:03.000000000,2021-01-13 05:48:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-14 09:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/c0cd4309796e8b904db5d1f005d7ab80595b4a42', 'message': 'Update TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I5645f2f8d9d2a2444f1e2c5ca0d04f024c293a0a\n'}, {'number': 2, 'created': '2020-12-15 01:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/04ed66a15405ad6f148e2608f40c9a5a40f90561', 'message': 'Update TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I5645f2f8d9d2a2444f1e2c5ca0d04f024c293a0a\n'}, {'number': 3, 'created': '2020-12-15 01:51:43.000000000', 'files': ['lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/5e1a3249ce41fc4daa329ff0d3a2e9d804ea721a', 'message': 'Update TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I5645f2f8d9d2a2444f1e2c5ca0d04f024c293a0a\n'}]",0,766916,5e1a3249ce41fc4daa329ff0d3a2e9d804ea721a,7,1,3,32291,,,0,"Update TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I5645f2f8d9d2a2444f1e2c5ca0d04f024c293a0a
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/16/766916/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c0cd4309796e8b904db5d1f005d7ab80595b4a42,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fmanila-ui~master~I481d368b2328b35c4e405a1cdb5fb4eb7869b4bc,openstack/manila-ui,master,I481d368b2328b35c4e405a1cdb5fb4eb7869b4bc,Remove Babel,ABANDONED,2020-11-04 01:42:34.000000000,2021-01-13 05:47:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-11-04 01:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/c50effa76b512014da18e36d059a1fdabcb66966', 'message': 'Remove Babel\n\nThis is the default role and not needed anymore\n\nChange-Id: I481d368b2328b35c4e405a1cdb5fb4eb7869b4bc\n'}, {'number': 2, 'created': '2020-12-15 01:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/6861216b01ea7778040114006ed86a26bc1b15c9', 'message': 'Remove Babel\n\nThis is the default role and not needed anymore\n\nChange-Id: I481d368b2328b35c4e405a1cdb5fb4eb7869b4bc\n'}, {'number': 3, 'created': '2020-12-15 03:16:01.000000000', 'files': ['babel.cfg', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/94c42477c1bdabab22db50230248134f206483c7', 'message': 'Remove Babel\n\nThis is the default role and not needed anymore\n\nChange-Id: I481d368b2328b35c4e405a1cdb5fb4eb7869b4bc\n'}]",0,761260,94c42477c1bdabab22db50230248134f206483c7,13,2,3,32291,,,0,"Remove Babel

This is the default role and not needed anymore

Change-Id: I481d368b2328b35c4e405a1cdb5fb4eb7869b4bc
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/60/761260/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'lower-constraints.txt']",2,c50effa76b512014da18e36d059a1fdabcb66966,,,Babel==2.3.4,0,2
openstack%2Foslo.reports~master~I208bd44c063756be85c836e1b30290e6c09f2101,openstack/oslo.reports,master,I208bd44c063756be85c836e1b30290e6c09f2101,Replace concatenation with f-strings,MERGED,2020-11-02 08:45:02.000000000,2021-01-13 04:36:29.000000000,2021-01-13 04:35:09.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 32238}]","[{'number': 1, 'created': '2020-11-02 08:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/eda44b63f38d1bb1037dd72a4edf405b5aa3435a', 'message': 'Replace concatenation with f-strings\n\nUse f-strings instead concatenation to make it more readable and faster.\n\nDepends-On: https://review.opendev.org/#/c/757981/\nChange-Id: I208bd44c063756be85c836e1b30290e6c09f2101\n'}, {'number': 2, 'created': '2020-11-02 08:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/d6da7053d05611acb2119bfdbe385c00ba292996', 'message': 'Replace concatenation with f-strings\n\nUse f-strings instead concatenation to make it more readable and faster.\n\nDepends-On: https://review.opendev.org/#/c/757981/\nChange-Id: I208bd44c063756be85c836e1b30290e6c09f2101\n'}, {'number': 3, 'created': '2020-11-02 09:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/e7c482d4e1239ce59b96bff7828b9028ee0ef67e', 'message': 'Replace concatenation with f-strings\n\nUse f-strings instead concatenation to make it more readable and faster.\n\nDepends-On: https://review.opendev.org/#/c/757981/\nChange-Id: I208bd44c063756be85c836e1b30290e6c09f2101\n'}, {'number': 4, 'created': '2020-11-02 09:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/2b106b932e50d6f1f8846840ea623d397c11823f', 'message': 'Replace concatenation with f-strings\n\nUse f-strings instead concatenation to make it more readable and faster.\n\nDepends-On: https://review.opendev.org/#/c/757981/\nChange-Id: I208bd44c063756be85c836e1b30290e6c09f2101\n'}, {'number': 5, 'created': '2020-11-03 01:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/c573a3590c3efbcca5aa88d7374737ed27aa81c2', 'message': 'Replace concatenation with f-strings\n\nUse f-strings instead concatenation to make it more readable and faster.\n\nDepends-On: https://review.opendev.org/#/c/757981/\nChange-Id: I208bd44c063756be85c836e1b30290e6c09f2101\n'}, {'number': 6, 'created': '2020-12-11 15:45:28.000000000', 'files': ['oslo_reports/views/text/header.py'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/a96ee02b244ec596534a3779d646f5454265ca8e', 'message': 'Replace concatenation with f-strings\n\nUse f-strings instead concatenation to make it more readable and faster.\n\nChange-Id: I208bd44c063756be85c836e1b30290e6c09f2101\n'}]",2,760794,a96ee02b244ec596534a3779d646f5454265ca8e,18,4,6,32238,,,0,"Replace concatenation with f-strings

Use f-strings instead concatenation to make it more readable and faster.

Change-Id: I208bd44c063756be85c836e1b30290e6c09f2101
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/94/760794/3 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_reports/tests/test_base_report.py', 'oslo_reports/views/text/header.py']",2,eda44b63f38d1bb1037dd72a4edf405b5aa3435a,, return f'{self.header}\n{model}'," return str(self.header) + ""\n"" + str(model) ",2,3
openstack%2Frequirements~master~Ib29df81522d563c294154c163dff746c9bde24c5,openstack/requirements,master,Ib29df81522d563c294154c163dff746c9bde24c5,update constraint for neutron-lib to new release 2.8.0,MERGED,2021-01-12 07:21:39.000000000,2021-01-13 04:04:53.000000000,2021-01-13 04:03:33.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 07:21:39.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/91784cd3bd5071f2a1e2efe24c512d75a1a70b91', 'message': 'update constraint for neutron-lib to new release 2.8.0\n\nmeta: version: 2.8.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nmeta: release:Commit: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>\nmeta: release:Change-Id: I52461e0718b07e3c15bd5c1e1aef8cd5fd8ed7c9\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ib29df81522d563c294154c163dff746c9bde24c5\n'}]",0,770240,91784cd3bd5071f2a1e2efe24c512d75a1a70b91,16,4,1,11131,,,0,"update constraint for neutron-lib to new release 2.8.0

meta: version: 2.8.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Commit: Rodolfo Alonso Hernandez <ralonsoh@redhat.com>
meta: release:Change-Id: I52461e0718b07e3c15bd5c1e1aef8cd5fd8ed7c9
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ib29df81522d563c294154c163dff746c9bde24c5
",git fetch https://review.opendev.org/openstack/requirements refs/changes/40/770240/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,91784cd3bd5071f2a1e2efe24c512d75a1a70b91,new-release,neutron-lib===2.8.0,neutron-lib===2.7.0,1,1
openstack%2Ftrove~master~I04c22c6142fc51810d9132e82927dc2dae40cf9d,openstack/trove,master,I04c22c6142fc51810d9132e82927dc2dae40cf9d,add python37 setup.cfg,MERGED,2021-01-12 01:07:34.000000000,2021-01-13 03:55:58.000000000,2021-01-13 03:54:43.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 01:07:34.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/trove/commit/7cb6e06bc154a3ff96dc4bdbec46f2a80479af7d', 'message': ""add python37 setup.cfg\n\nAdd python3.7 from setup.cfg, since Wallaby's python\nsupported runtimes are python 3.7[1]:\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019648.html\n\nChange-Id: I04c22c6142fc51810d9132e82927dc2dae40cf9d\n""}]",0,770221,7cb6e06bc154a3ff96dc4bdbec46f2a80479af7d,7,2,1,32029,,,0,"add python37 setup.cfg

Add python3.7 from setup.cfg, since Wallaby's python
supported runtimes are python 3.7[1]:

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019648.html

Change-Id: I04c22c6142fc51810d9132e82927dc2dae40cf9d
",git fetch https://review.opendev.org/openstack/trove refs/changes/21/770221/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7cb6e06bc154a3ff96dc4bdbec46f2a80479af7d,py37, Programming Language :: Python :: 3.7,,1,0
openstack%2Fzaqar~master~I5f86837c601eb64dff3c370decd2670f2a6276b6,openstack/zaqar,master,I5f86837c601eb64dff3c370decd2670f2a6276b6,Use unittest.mock instead of third party mock,MERGED,2020-04-18 17:01:55.000000000,2021-01-13 03:13:41.000000000,2021-01-13 03:12:22.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-04-18 17:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/eb9000b2e90eaf2f5eddec39040d0b009a2430bc', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I5f86837c601eb64dff3c370decd2670f2a6276b6\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-05-29 16:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/a7ebfe84679f8c04f9087f67db75931dae287088', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I5f86837c601eb64dff3c370decd2670f2a6276b6\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2021-01-13 01:06:18.000000000', 'files': ['test-requirements.txt', 'zaqar/tests/unit/transport/websocket/v2/test_subscriptions.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_health.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_health.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_subscriptions.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_claims.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_claims.py', 'zaqar/tests/unit/transport/websocket/v2/test_auth.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_messages.py', 'zaqar/tests/unit/storage/test_utils.py', 'zaqar/tests/unit/transport/websocket/v2/test_messages.py', 'zaqar/tests/unit/transport/wsgi/v1/test_queue_lifecycle.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_topic_lifecycle.py', 'zaqar/tests/unit/storage/sqlalchemy_migration/test_db_manage_cli.py', 'zaqar/tests/unit/storage/test_pool_catalog_new.py', 'zaqar/tests/unit/storage/test_impl_mongodb.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_queue_lifecycle.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_messages.py', 'zaqar/tests/unit/notification/test_notifier.py', 'zaqar/tests/unit/storage/test_impl_redis.py', 'zaqar/tests/unit/transport/wsgi/v1/test_messages.py', 'lower-constraints.txt', 'zaqar/tests/unit/transport/websocket/v2/test_queue_lifecycle.py', 'zaqar/tests/unit/storage/base.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_queue_lifecycle.py', 'zaqar/tests/unit/transport/websocket/v2/test_claims.py', 'zaqar/tests/unit/transport/wsgi/v1/test_claims.py', 'zaqar/tests/unit/transport/websocket/test_protocol.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/d949c970ad614162f34769b7a9f4f202c6ea67ba', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock module instead of the third party mock lib.\n\nChange-Id: I5f86837c601eb64dff3c370decd2670f2a6276b6\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,721029,d949c970ad614162f34769b7a9f4f202c6ea67ba,16,3,3,11904,,,0,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock module instead of the third party mock lib.

Change-Id: I5f86837c601eb64dff3c370decd2670f2a6276b6
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/29/721029/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'zaqar/tests/unit/transport/websocket/v2/test_subscriptions.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_health.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_health.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_subscriptions.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_claims.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_claims.py', 'zaqar/tests/unit/transport/websocket/v2/test_auth.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_messages.py', 'zaqar/tests/unit/storage/test_utils.py', 'zaqar/tests/unit/transport/websocket/v2/test_messages.py', 'zaqar/tests/unit/transport/wsgi/v1/test_queue_lifecycle.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_topic_lifecycle.py', 'zaqar/tests/unit/storage/sqlalchemy_migration/test_db_manage_cli.py', 'zaqar/tests/unit/storage/test_pool_catalog_new.py', 'zaqar/tests/unit/storage/test_impl_mongodb.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_queue_lifecycle.py', 'zaqar/tests/unit/transport/wsgi/v1_1/test_messages.py', 'zaqar/tests/unit/notification/test_notifier.py', 'zaqar/tests/unit/storage/test_impl_redis.py', 'zaqar/tests/unit/transport/wsgi/v1/test_messages.py', 'zaqar/tests/unit/transport/websocket/v2/test_queue_lifecycle.py', 'zaqar/tests/unit/storage/base.py', 'zaqar/tests/unit/transport/wsgi/v2_0/test_queue_lifecycle.py', 'zaqar/tests/unit/transport/websocket/v2/test_claims.py', 'zaqar/tests/unit/transport/wsgi/v1/test_claims.py', 'zaqar/tests/unit/transport/websocket/test_protocol.py']",27,eb9000b2e90eaf2f5eddec39040d0b009a2430bc,unittest.mock,from unittest import mock,import mock,33,27
openstack%2Ftempest~master~I724e0f37d4381a493217a077492046f7a4b0a2a2,openstack/tempest,master,I724e0f37d4381a493217a077492046f7a4b0a2a2,Pass custom args to create_port through create_server,MERGED,2020-12-17 20:50:22.000000000,2021-01-13 03:01:34.000000000,2021-01-13 02:59:42.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-17 20:50:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0758983214310effe450098afb7c8c4465ab3e33', 'message': 'Pass custom args to create_port through create_server\n\nAllow consumers of create_server to pass custom arguments to\ncreate_port method which is called from create_server one.\n\nFix namestart var usage in create_port - as the name of the var\nsuggests, it should be used to generate a name from. Therefore\nthe patch also adds rand_name call which we accidentaly removed\nrecently.\n\nImplements: blueprint tempest-scenario-manager-stable\nChange-Id: I724e0f37d4381a493217a077492046f7a4b0a2a2\n'}, {'number': 2, 'created': '2020-12-28 16:39:40.000000000', 'files': ['tempest/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9c874417240ba8efbd6933bfab66be09f24e1c3e', 'message': 'Pass custom args to create_port through create_server\n\nAllow consumers of create_server to pass custom arguments to\ncreate_port method which is called from create_server one.\n\nFix namestart var usage in create_port - as the name of the var\nsuggests, it should be used to generate a name from. Therefore\nthe patch also adds rand_name call which we accidentaly removed\nrecently.\n\nImplements: blueprint tempest-scenario-manager-stable\nChange-Id: I724e0f37d4381a493217a077492046f7a4b0a2a2\n'}]",4,767632,9c874417240ba8efbd6933bfab66be09f24e1c3e,15,4,2,22873,,,0,"Pass custom args to create_port through create_server

Allow consumers of create_server to pass custom arguments to
create_port method which is called from create_server one.

Fix namestart var usage in create_port - as the name of the var
suggests, it should be used to generate a name from. Therefore
the patch also adds rand_name call which we accidentaly removed
recently.

Implements: blueprint tempest-scenario-manager-stable
Change-Id: I724e0f37d4381a493217a077492046f7a4b0a2a2
",git fetch https://review.opendev.org/openstack/tempest refs/changes/32/767632/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/manager.py'],1,0758983214310effe450098afb7c8c4465ab3e33,bp/tempest-scenario-manager-stable," name = data_utils.rand_name( kwargs.pop('namestart', self.__class__.__name__)) create_port_body = kwargs.get('create_port_body', {})"," name = kwargs.pop('namestart', self.__class__.__name__) create_port_body = {}",3,2
openstack%2Ftempest~master~Id445d3f1daee4dec1f771580667a35baffa18e62,openstack/tempest,master,Id445d3f1daee4dec1f771580667a35baffa18e62,Use proper kwargs in rebuild_server,MERGED,2020-12-18 11:23:00.000000000,2021-01-13 02:57:21.000000000,2021-01-13 02:55:57.000000000,"[{'_account_id': 8556}, {'_account_id': 20190}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-18 11:23:00.000000000', 'files': ['tempest/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/be8ba2c27aa8a64f72716e2af39841675e056914', 'message': 'Use proper kwargs in rebuild_server\n\nUse proper kwargs arg instead of the named arg in rebuild_server.\nThe method is not used anywhere with the rebuild_kwargs set so this\nchange should affect anybody.\n\nImplements: blueprint tempest-scenario-manager-stable\nChange-Id: Id445d3f1daee4dec1f771580667a35baffa18e62\n'}]",0,767698,be8ba2c27aa8a64f72716e2af39841675e056914,11,3,1,22873,,,0,"Use proper kwargs in rebuild_server

Use proper kwargs arg instead of the named arg in rebuild_server.
The method is not used anywhere with the rebuild_kwargs set so this
change should affect anybody.

Implements: blueprint tempest-scenario-manager-stable
Change-Id: Id445d3f1daee4dec1f771580667a35baffa18e62
",git fetch https://review.opendev.org/openstack/tempest refs/changes/98/767698/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/manager.py'],1,be8ba2c27aa8a64f72716e2af39841675e056914,bp/tempest-scenario-manager-stable," def rebuild_server(self, server_id, image=None, preserve_ephemeral=False, wait=True, **kwargs): **kwargs)"," def rebuild_server(self, server_id, image=None, preserve_ephemeral=False, wait=True, rebuild_kwargs=None): rebuild_kwargs = rebuild_kwargs or {} **rebuild_kwargs)",3,5
openstack%2Fpython-troveclient~master~Ia1e29c25df0b3f47b9513b863a6f3866a7e802c3,openstack/python-troveclient,master,Ia1e29c25df0b3f47b9513b863a6f3866a7e802c3,add python37 setup.cfg,MERGED,2021-01-12 01:29:18.000000000,2021-01-13 02:33:15.000000000,2021-01-13 02:31:57.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 01:29:18.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/5188cc77c5433219583379efc5488edf376d9fdf', 'message': ""add python37 setup.cfg\n\nAdd python3.7 from setup.cfg, Wallaby's python\nsupported runtimes are python 3.7[1]:\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019648.html\n\nChange-Id: Ia1e29c25df0b3f47b9513b863a6f3866a7e802c3\n""}]",0,770222,5188cc77c5433219583379efc5488edf376d9fdf,7,2,1,32029,,,0,"add python37 setup.cfg

Add python3.7 from setup.cfg, Wallaby's python
supported runtimes are python 3.7[1]:

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019648.html

Change-Id: Ia1e29c25df0b3f47b9513b863a6f3866a7e802c3
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/22/770222/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5188cc77c5433219583379efc5488edf376d9fdf,py37, Programming Language :: Python :: 3.7,,1,0
openstack%2Ftrove-dashboard~master~Ibb7a08dcad6cb1a19ff6c0fd680c64584ef3cf34,openstack/trove-dashboard,master,Ibb7a08dcad6cb1a19ff6c0fd680c64584ef3cf34,Show all instance IP addresses on databases list,MERGED,2020-12-21 16:55:38.000000000,2021-01-13 02:28:52.000000000,2021-01-13 02:28:52.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-21 16:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/2345844bc9c4d48c581959e082e73502ce9a8098', 'message': 'Show all instance IP addresses on databases list\n\nCloses: https://storyboard.openstack.org/#!/story/2008228\nChange-Id: Ibb7a08dcad6cb1a19ff6c0fd680c64584ef3cf34\n'}, {'number': 2, 'created': '2021-01-12 20:39:47.000000000', 'files': ['trove_dashboard/content/databases/tables.py', 'trove_dashboard/test/test_data/trove_data.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/a8b7786d1c061e7be444369854f432bf880a0f6c', 'message': 'Show all instance IP addresses on databases list\n\nStory: 2008228\nTask: 41068\nChange-Id: Ibb7a08dcad6cb1a19ff6c0fd680c64584ef3cf34\n'}]",1,768108,a8b7786d1c061e7be444369854f432bf880a0f6c,10,2,2,1736,,,0,"Show all instance IP addresses on databases list

Story: 2008228
Task: 41068
Change-Id: Ibb7a08dcad6cb1a19ff6c0fd680c64584ef3cf34
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/08/768108/1 && git format-patch -1 --stdout FETCH_HEAD,['trove_dashboard/content/databases/tables.py'],1,2345844bc9c4d48c581959e082e73502ce9a8098,instance-ips,"from django import template# NOTE(e0ne): the logic is based on # openstack_dashboard.dashboards.project.instances.tables.get_ips # Trove has a different instance addresses structure so we can't re-use # nova-related code as is. def get_ips(instance): template_name = 'project/instances/_instance_ips.html' ip_groups = {} for address in instance.addresses: ip_groups[address[""type""]] = [address[""address""]] context = { ""ip_groups"": ip_groups, } return template.loader.render_to_string(template_name, context) return get_ips(instance)", return instance.ip[0],19,1
openstack%2Ftrove-dashboard~master~I65572d90d35dcbbe17eb7874048ba043b34e336c,openstack/trove-dashboard,master,I65572d90d35dcbbe17eb7874048ba043b34e336c,Show database operating status,MERGED,2020-12-21 16:07:23.000000000,2021-01-13 02:24:08.000000000,2021-01-13 02:24:08.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-21 16:07:23.000000000', 'files': ['trove_dashboard/content/databases/templates/databases/_detail_overview.html', 'trove_dashboard/content/databases/tables.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/69087288e8dab867d31cf530b2c22a21a47efa26', 'message': 'Show database operating status\n\nChange-Id: I65572d90d35dcbbe17eb7874048ba043b34e336c\n'}]",0,768102,69087288e8dab867d31cf530b2c22a21a47efa26,8,2,1,1736,,,0,"Show database operating status

Change-Id: I65572d90d35dcbbe17eb7874048ba043b34e336c
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/02/768102/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove_dashboard/content/databases/templates/databases/_detail_overview.html', 'trove_dashboard/content/databases/tables.py']",2,69087288e8dab867d31cf530b2c22a21a47efa26,operating_status," operating_status = tables.Column(""operating_status"", verbose_name=_(""Operating Status""), status=True, status_choices=STATUS_CHOICES, display_choices=STATUS_DISPLAY_CHOICES)"," status=True,",7,1
openstack%2Fpuppet-nova~master~I389d4b586468720d73ac69b025a3c34df54fe73e,openstack/puppet-nova,master,I389d4b586468720d73ac69b025a3c34df54fe73e,Add parameter to set image_type_exclude_list,MERGED,2021-01-11 21:51:34.000000000,2021-01-13 02:23:25.000000000,2021-01-13 02:22:00.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23811}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-01-11 21:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e454d24fad3b6caf903a9ed616c254234cbfe079', 'message': 'Add parameter to set image_type_exclude_list\n\nAdd support for the [compute]/image_type_exclude_list parameter to\nprevent image types being reported as supported by a compute node.\n\nRelated nova change: Iabe6246dba212b1a287a82cc0cf16e2e8c8a24b8\n\nChange-Id: I389d4b586468720d73ac69b025a3c34df54fe73e\n'}, {'number': 2, 'created': '2021-01-11 21:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2d8a95b330310a55f5ce75ad6cf9498e14495c4f', 'message': 'Add parameter to set image_type_exclude_list\n\nAdd support for the [compute]/image_type_exclude_list parameter to\nprevent image types being reported as supported by a compute node.\n\nRelated nova change: Iabe6246dba212b1a287a82cc0cf16e2e8c8a24b8\n\nChange-Id: I389d4b586468720d73ac69b025a3c34df54fe73e\n'}, {'number': 3, 'created': '2021-01-11 22:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c71be0559425dd3bffcacc19bcafc9afaa300daa', 'message': 'Add parameter to set image_type_exclude_list\n\nAdd support for the [compute]/image_type_exclude_list parameter to\nprevent image types being reported as supported by a compute node.\n\nRelated nova change: Iabe6246dba212b1a287a82cc0cf16e2e8c8a24b8\n\nChange-Id: I389d4b586468720d73ac69b025a3c34df54fe73e\n'}, {'number': 4, 'created': '2021-01-11 23:30:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/677139543a8de153b06145512215a2ae619e738f', 'message': 'Add parameter to set image_type_exclude_list\n\nAdd support for the [compute]/image_type_exclude_list parameter to\nprevent image types being reported as supported by a compute node.\n\nRelated nova change: Iabe6246dba212b1a287a82cc0cf16e2e8c8a24b8\n\nChange-Id: I389d4b586468720d73ac69b025a3c34df54fe73e\n'}, {'number': 5, 'created': '2021-01-11 23:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c2d89686b46324a752eb6357b1ec8d978e82bb68', 'message': 'Add parameter to set image_type_exclude_list\n\nAdd support for the [compute]/image_type_exclude_list parameter to\nprevent image types being reported as supported by a compute node.\n\nRelated nova change: Iabe6246dba212b1a287a82cc0cf16e2e8c8a24b8\n\nChange-Id: I389d4b586468720d73ac69b025a3c34df54fe73e\n'}, {'number': 6, 'created': '2021-01-11 23:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0d8a77fd3722e003e2033b9944438a46305691ad', 'message': 'Add parameter to set image_type_exclude_list\n\nAdd support for the [compute]/image_type_exclude_list parameter to\nprevent image types being reported as supported by a compute node.\n\nRelated nova change: Iabe6246dba212b1a287a82cc0cf16e2e8c8a24b8\n\nChange-Id: I389d4b586468720d73ac69b025a3c34df54fe73e\n'}, {'number': 7, 'created': '2021-01-12 11:36:33.000000000', 'files': ['releasenotes/notes/add_compute_image_type_exclude_list-8e03916b7e4e4bf6.yaml', 'manifests/compute.pp', 'spec/classes/nova_compute_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/614b847449936d16a5b753bc3cfef3c3afea8234', 'message': 'Add parameter to set image_type_exclude_list\n\nAdd support for the [compute]/image_type_exclude_list parameter to\nprevent image types being reported as supported by a compute node.\n\nRelated nova change: Iabe6246dba212b1a287a82cc0cf16e2e8c8a24b8\n\nChange-Id: I389d4b586468720d73ac69b025a3c34df54fe73e\n'}]",4,770209,614b847449936d16a5b753bc3cfef3c3afea8234,20,7,7,23811,,,0,"Add parameter to set image_type_exclude_list

Add support for the [compute]/image_type_exclude_list parameter to
prevent image types being reported as supported by a compute node.

Related nova change: Iabe6246dba212b1a287a82cc0cf16e2e8c8a24b8

Change-Id: I389d4b586468720d73ac69b025a3c34df54fe73e
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/09/770209/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute.pp', 'spec/classes/nova_compute_spec.rb']",2,e454d24fad3b6caf903a9ed616c254234cbfe079,bp/request-filter-image-types," if { is_expected.to contain_nova_config('compute/image_type_exclusion_list').with_value('<SERVICE DEFAULT>') } :image_type_exclusion_list => ['raw','ami'], it { is_expected.to contain_nova_config('compute/image_type_exclusion_list').with_value('raw,ami') }",,10,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I95fafcc6ba77a8d5c18ab4c79c7be004d4e9302a,openstack/tripleo-ansible,stable/train,I95fafcc6ba77a8d5c18ab4c79c7be004d4e9302a,WIP: Move all molecule train jobs to use podman driver,ABANDONED,2021-01-11 13:30:40.000000000,2021-01-13 01:19:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-11 13:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7a68e407b3dafaa45a41b66f16d4e80a3ceecc6d', 'message': 'WIP: Move all molecule train jobs to use podman driver\n\nChange-Id: I95fafcc6ba77a8d5c18ab4c79c7be004d4e9302a\n'}, {'number': 2, 'created': '2021-01-11 20:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/379ffe4a7e7e50329c5ae4c3ceb5dd045825076d', 'message': 'WIP: Move all molecule train jobs to use podman driver\n\nChange-Id: I95fafcc6ba77a8d5c18ab4c79c7be004d4e9302a\n'}, {'number': 3, 'created': '2021-01-11 23:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1a12a72e6eced1b62c5dffb06768642f1e39fed6', 'message': 'WIP: Move all molecule train jobs to use podman driver\n\nChange-Id: I95fafcc6ba77a8d5c18ab4c79c7be004d4e9302a\n'}, {'number': 4, 'created': '2021-01-12 15:35:45.000000000', 'files': ['tripleo_ansible/roles/tripleo-create-admin/molecule/addkey/molecule.yml', 'tripleo_ansible/roles/tripleo-ptp/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_package_action/molecule/positive/molecule.yml', 'tripleo_ansible/roles/tripleo-network-config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-ceph-common/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_package_action/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-securetty/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/tripleo-securetty/molecule/create/molecule.yml', 'tripleo_ansible/roles/tripleo-ptp/molecule/ntp_stop/molecule.yml', 'tripleo_ansible/roles/tripleo-sshd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-clients-install/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-image-serve/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-systemd-wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-ssh-known-hosts/molecule/no_networks/molecule.yml', 'tripleo_ansible/roles/tripleo-ceph-work-dir/molecule/default/molecule.yml', 'tripleo_ansible/roles/login-defs/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-timezone/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_deps/vars/centos-7.yml', 'tripleo_ansible/roles/tripleo-cellv2/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_lvmfilter/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-container-image-build/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-create-admin/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_deps/vars/redhat-8.yml', 'tripleo_ansible/roles/tripleo-create-admin/molecule/keygen/molecule.yml', 'tripleo_ansible/roles/test_package_action/molecule/negative/molecule.yml', 'tripleo_ansible/roles/test_deps/vars/fedora.yml', 'tripleo_ansible/roles/tripleo-ceph-uuid/molecule/default/molecule.yml', 'zuul.d/playbooks/pre.yml', 'tripleo_ansible/roles/tripleo-hosts-entries/molecule/default/molecule.yml', 'tripleo_ansible/roles/aide/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-redhat-enforce/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-sshd/molecule/banners/molecule.yml', 'tripleo_ansible/roles/tripleo_nvdimm/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-image-serve/molecule/legacy_vars/molecule.yml', 'tripleo_ansible/roles/tripleo-ssh-known-hosts/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/705ed1a3ee02233953eab1fffa86ba6b69ac71f2', 'message': 'WIP: Move all molecule train jobs to use podman driver\n\nChange-Id: I95fafcc6ba77a8d5c18ab4c79c7be004d4e9302a\n'}]",0,770123,705ed1a3ee02233953eab1fffa86ba6b69ac71f2,10,2,4,10969,,,0,"WIP: Move all molecule train jobs to use podman driver

Change-Id: I95fafcc6ba77a8d5c18ab4c79c7be004d4e9302a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/23/770123/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-create-admin/molecule/addkey/molecule.yml', 'tripleo_ansible/roles/tripleo-ptp/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_package_action/molecule/positive/molecule.yml', 'tripleo_ansible/roles/tripleo-network-config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-ceph-common/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_package_action/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-securetty/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-securetty/molecule/create/molecule.yml', 'tripleo_ansible/roles/tripleo-ptp/molecule/ntp_stop/molecule.yml', 'tripleo_ansible/roles/tripleo-sshd/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-clients-install/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-image-serve/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-systemd-wrapper/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-config/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-ssh-known-hosts/molecule/no_networks/molecule.yml', 'tripleo_ansible/roles/tripleo-ceph-work-dir/molecule/default/molecule.yml', 'tripleo_ansible/roles/login-defs/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-timezone/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-cellv2/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_lvmfilter/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-container-image-build/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-create-admin/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-create-admin/molecule/keygen/molecule.yml', 'tripleo_ansible/roles/test_package_action/molecule/negative/molecule.yml', 'tripleo_ansible/roles/tripleo-ceph-uuid/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-hosts-entries/molecule/default/molecule.yml', 'tripleo_ansible/roles/aide/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-redhat-enforce/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-sshd/molecule/banners/molecule.yml', 'tripleo_ansible/roles/tripleo_nvdimm/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-image-serve/molecule/legacy_vars/molecule.yml', 'tripleo_ansible/roles/tripleo-ssh-known-hosts/molecule/default/molecule.yml']",36,7a68e407b3dafaa45a41b66f16d4e80a3ceecc6d,moltrain, name: podman - name: ubi8 hostname: ubi8 image: ubi8/ubi-init registry: url: registry.access.redhat.com pkg_extras: python*setuptools - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw privileged: true ulimits: &ulimit - host hosts: ubi8: ansible_python_interpreter: /usr/bin/python3 ubi8: ctlplane_hostname: ubi8.ctlplane.localdomain internal_api_hostname: ubi8.internalapi.localdomain canonical_hostname: ubi8.localdomain," name: docker - name: centos7 hostname: centos7 image: centos:7 pkg_extras: python-setuptools easy_install: - pip - name: centos8 hostname: centos8 image: centos:8 dockerfile: Dockerfile pkg_extras: python*-setuptools volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro environment: <<: *env centos8: ctlplane_hostname: centos8.ctlplane.localdomain internal_api_hostname: centos8.internalapi.localdomain canonical_hostname: centos8.localdomain centos7: ansible_ssh_host_key_rsa_public: BBBBTEST hostname_resolve_network: ctlplane ctlplane_ip: 10.0.0.2 ctlplane_hostname: centos7.ctlplane.localdomain internal_api_ip: 10.0.1.2 internal_api_hostname: centos7.internalapi.localdomain canonical_hostname: centos7.localdomain tripleo_role_networks: [ctlplane, internal_api]lint: enabled: false lint: name: flake8",684,966
openstack%2Fdevstack~master~Iad500bebff7740ef4821ed565fab9210e6f68ab2,openstack/devstack,master,Iad500bebff7740ef4821ed565fab9210e6f68ab2,Add debug helper script,ABANDONED,2021-01-12 22:56:52.000000000,2021-01-13 00:40:51.000000000,,[],"[{'number': 1, 'created': '2021-01-12 22:56:52.000000000', 'files': ['tools/debug_function.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/44f592c0a565d5d67d94a39e6061bc838bbc92c6', 'message': ""Add debug helper script\n\nI'm not sure if others will find this useful, but I use this\nscript to run pieces of devstack while trying to write/debug\nthings. It saves me a lot of time being able to get to some\nproject-lib function without a full clean/re-stack.\n\nFigured I'd share in case it's worth putting into the tree.\n\nChange-Id: Iad500bebff7740ef4821ed565fab9210e6f68ab2\n""}]",0,770486,44f592c0a565d5d67d94a39e6061bc838bbc92c6,2,0,1,4393,,,0,"Add debug helper script

I'm not sure if others will find this useful, but I use this
script to run pieces of devstack while trying to write/debug
things. It saves me a lot of time being able to get to some
project-lib function without a full clean/re-stack.

Figured I'd share in case it's worth putting into the tree.

Change-Id: Iad500bebff7740ef4821ed565fab9210e6f68ab2
",git fetch https://review.opendev.org/openstack/devstack refs/changes/86/770486/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/debug_function.sh'],1,44f592c0a565d5d67d94a39e6061bc838bbc92c6,,"#!/bin/bash # This is a small helper to speed development and debug with devstack. # It is intended to help you run a single function in a project module # without having to re-stack. # # For example, to run the just start_glance function, do this: # # ./tools/debug_function.sh glance start_glance if [ ! -f ""lib/$1"" ]; then echo ""Usage: $0 [project] [function] [function...]"" fi source openrc source lib/$1 shift set -x while [ ""$1"" ]; do echo ==== Running $1 ==== $1 echo ==== Done with $1 ==== shift done ",,24,0
openstack%2Ftripleo-ansible~master~I345e8b8547b81e5791656d0fca6e90b1de48fdac,openstack/tripleo-ansible,master,I345e8b8547b81e5791656d0fca6e90b1de48fdac,Fix tripleo_podman molecule jobs,MERGED,2021-01-12 19:23:59.000000000,2021-01-13 00:31:16.000000000,2021-01-13 00:31:16.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 19:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bd2b514050d27b4dc7273816925979a02a6e9c32', 'message': 'Fix tripleo_podman molecule jobs\n\nWith the latest version of podman, attempting to leverage port binding\non a non-privileged account for the host no longer works. We need to run\nthe registry as root in order for it to properly bind 5000.  This will\nneed to be backported all the way to train.\n\nChange-Id: I345e8b8547b81e5791656d0fca6e90b1de48fdac\n'}, {'number': 2, 'created': '2021-01-12 19:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/34ec5382a37a89323d3440cb90492f13053458fd', 'message': 'Fix tripleo_podman molecule jobs\n\nWith the latest version of podman, attempting to leverage port binding\non a non-privileged account for the host no longer works. We need to run\nthe registry as root in order for it to properly bind 5000.  This will\nneed to be backported all the way to train.\n\nChange-Id: I345e8b8547b81e5791656d0fca6e90b1de48fdac\n'}, {'number': 3, 'created': '2021-01-12 20:33:51.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/molecule/login/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/31bed0daa3c5c82a5b0afe1c51824b35f0dceeb5', 'message': ""Fix tripleo_podman molecule jobs\n\nIn order to launch the container and connect via networking, we need\nselinux disabled for a rootless container to still work. Let's move the\nselinux disabling to first rather than later.\n\nChange-Id: I345e8b8547b81e5791656d0fca6e90b1de48fdac\n""}]",0,770465,31bed0daa3c5c82a5b0afe1c51824b35f0dceeb5,10,5,3,14985,,,0,"Fix tripleo_podman molecule jobs

In order to launch the container and connect via networking, we need
selinux disabled for a rootless container to still work. Let's move the
selinux disabling to first rather than later.

Change-Id: I345e8b8547b81e5791656d0fca6e90b1de48fdac
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/65/770465/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_podman/molecule/login/prepare.yml'],1,bd2b514050d27b4dc7273816925979a02a6e9c32,fix-tripleo_podman, become: true,,1,0
openstack%2Fdevstack~stable%2Fussuri~Ic6056218e51e6b0da554bcdf139214d2229ba3c1,openstack/devstack,stable/ussuri,Ic6056218e51e6b0da554bcdf139214d2229ba3c1,Setting available_features for stable branch,MERGED,2021-01-12 12:16:17.000000000,2021-01-13 00:03:22.000000000,2021-01-13 00:02:09.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-12 12:16:17.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ef784e195f85fe4ab28eb0c115e49a63cb3db76a', 'message': 'Setting available_features for stable branch\n\navailable_features for Neutron tempest tests is default to ""all"" and\nused from Victoria to enable/disable tests that has no API extension.\nIt is added here to make sure that stable gating will not execute these\ntests (like for IPv6 metadata in neutron-tempest-plugin or updating\nmin_bw QoS values for port already attached to VMs)\n\nCherry-picked from stable/victoria patch\n(https://review.opendev.org/c/openstack/devstack/+/769885), but the list\nfor available_features is empty on Ussuri.\n\nChange-Id: Ic6056218e51e6b0da554bcdf139214d2229ba3c1\nRelated-Bug: #1882804\n(cherry picked from commit e34a8720bfb263a0b4d585929ef9f035c3ba0f36)\n'}]",0,770282,ef784e195f85fe4ab28eb0c115e49a63cb3db76a,8,3,1,8313,,,0,"Setting available_features for stable branch

available_features for Neutron tempest tests is default to ""all"" and
used from Victoria to enable/disable tests that has no API extension.
It is added here to make sure that stable gating will not execute these
tests (like for IPv6 metadata in neutron-tempest-plugin or updating
min_bw QoS values for port already attached to VMs)

Cherry-picked from stable/victoria patch
(https://review.opendev.org/c/openstack/devstack/+/769885), but the list
for available_features is empty on Ussuri.

Change-Id: Ic6056218e51e6b0da554bcdf139214d2229ba3c1
Related-Bug: #1882804
(cherry picked from commit e34a8720bfb263a0b4d585929ef9f035c3ba0f36)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/82/770282/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,ef784e195f85fe4ab28eb0c115e49a63cb3db76a,support-move-ops-with-qos-ports-ussur," # This feature list for Neutron used from Victoria, the aim is to skip tests # for features in Neutron that has no API extension, or can't be detected # otherwise from the API. # It is added here to avoid stable gating to run these tests (like for IPv6 metadata # in neutron-tempest-plugin or updating min_bw QoS values for ports already attached # to VMs). # To check new features grep neutron-tempest-plugin and tempest for # is_network_feature_enabled, and please check with Neutron team. local network_available_features="""" iniset $TEMPEST_CONFIG network-feature-enabled available_features $network_available_features",,11,0
openstack%2Ftripleo-ansible~master~I992d7a3cd946e42039ca0819c51f104b1231171b,openstack/tripleo-ansible,master,I992d7a3cd946e42039ca0819c51f104b1231171b,Expand roles honstname to role mapping,MERGED,2020-12-07 17:55:52.000000000,2021-01-12 23:39:00.000000000,2021-01-12 23:37:37.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-12-07 17:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5113dea99580532780a8a1371bdaf30dba28bb0a', 'message': ""Expand roles honstname to role mapping\n\nExpand roles is extended to return a hostname\nto role mapping for all instanced. this map is\nused to set the 'triple_role=$ROLE_NAME' tag\non ports.\n\nThe intent is to use these this tag in\nconjunction with the pre-existing tags and\nneutron network port information to set up the\nin the tripleo-common code utilized by\ntripleo-ansible-inventory.\n\nChange-Id: I992d7a3cd946e42039ca0819c51f104b1231171b\n""}, {'number': 2, 'created': '2020-12-18 05:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5722b4f23054c029ea5855feb232a232d554af5d', 'message': ""Expand roles honstname to role mapping\n\nExpand roles is extended to return a hostname\nto role mapping for all instanced. this map is\nused to set the 'triple_role=$ROLE_NAME' tag\non ports.\n\nThe intent is to use these this tag in\nconjunction with the pre-existing tags and\nneutron network port information to set up the\nin the tripleo-common code utilized by\ntripleo-ansible-inventory.\n\nChange-Id: I992d7a3cd946e42039ca0819c51f104b1231171b\n""}, {'number': 3, 'created': '2020-12-18 06:47:44.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_baremetal_expand_roles.py', 'tripleo_ansible/tests/plugins/module_utils/test_baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4e8b2f226ee4ecf3578aa6d2d643878a73a2fa7b', 'message': ""Expand roles honstname to role mapping\n\nExpand roles is extended to return a hostname\nto role mapping for all instanced. this map is\nused to set the 'triple_role=$ROLE_NAME' tag\non ports.\n\nThe intent is to use these this tag in\nconjunction with the pre-existing tags and\nneutron network port information to set up the\nin the tripleo-common code utilized by\ntripleo-ansible-inventory.\n\nChange-Id: I992d7a3cd946e42039ca0819c51f104b1231171b\n""}]",0,765837,4e8b2f226ee4ecf3578aa6d2d643878a73a2fa7b,33,6,3,24245,,,0,"Expand roles honstname to role mapping

Expand roles is extended to return a hostname
to role mapping for all instanced. this map is
used to set the 'triple_role=$ROLE_NAME' tag
on ports.

The intent is to use these this tag in
conjunction with the pre-existing tags and
neutron network port information to set up the
in the tripleo-common code utilized by
tripleo-ansible-inventory.

Change-Id: I992d7a3cd946e42039ca0819c51f104b1231171b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/37/765837/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_baremetal_expand_roles.py', 'tripleo_ansible/tests/plugins/module_utils/test_baremetal_deploy.py', 'tripleo_ansible/ansible_plugins/module_utils/baremetal_deploy.py']",3,5113dea99580532780a8a1371bdaf30dba28bb0a,nework-data-v2," hostname_role_map = {} hostname_role_map[inst['hostname']] = name return instances, env, role_net_map, hostname_role_map"," return instances, env, role_net_map",80,22
openstack%2Fadjutant~stable%2Fvictoria~I74d3127772446845b458ff0f937cf7683d1f20c5,openstack/adjutant,stable/victoria,I74d3127772446845b458ff0f937cf7683d1f20c5,Update TOX_CONSTRAINTS_FILE for stable/victoria,MERGED,2020-09-25 08:38:02.000000000,2021-01-12 22:58:50.000000000,2021-01-12 22:50:24.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-25 08:38:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/2a947794c6e75f6e2777c471949e6ce3eb1ce315', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I74d3127772446845b458ff0f937cf7683d1f20c5\n'}]",0,754308,2a947794c6e75f6e2777c471949e6ce3eb1ce315,9,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I74d3127772446845b458ff0f937cf7683d1f20c5
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/08/754308/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2a947794c6e75f6e2777c471949e6ce3eb1ce315,create-victoria, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fadjutant~stable%2Fvictoria~If61d57e97d3f91ebabfd0ec389a993a5f0cab626,openstack/adjutant,stable/victoria,If61d57e97d3f91ebabfd0ec389a993a5f0cab626,Update .gitreview for stable/victoria,MERGED,2020-09-25 08:37:58.000000000,2021-01-12 22:56:26.000000000,2021-01-12 22:50:21.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-25 08:37:58.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/8193b5a5d6177f60b796897de291d1ad1fb261f2', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: If61d57e97d3f91ebabfd0ec389a993a5f0cab626\n'}]",0,754307,8193b5a5d6177f60b796897de291d1ad1fb261f2,9,2,1,22816,,,0,"Update .gitreview for stable/victoria

Change-Id: If61d57e97d3f91ebabfd0ec389a993a5f0cab626
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/07/754307/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,8193b5a5d6177f60b796897de291d1ad1fb261f2,create-victoria,defaultbranch=stable/victoria,,1,0
openstack%2Fadjutant-ui~stable%2Fvictoria~I7dbf19e2e028d05b8d8df07d41d1339913201142,openstack/adjutant-ui,stable/victoria,I7dbf19e2e028d05b8d8df07d41d1339913201142,Update TOX_CONSTRAINTS_FILE for stable/victoria,MERGED,2020-09-25 08:45:56.000000000,2021-01-12 22:51:37.000000000,2021-01-12 22:51:37.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-25 08:45:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/e7edd5ade5db69d16a0974f601b15617d8e7fbae', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/victoria\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I7dbf19e2e028d05b8d8df07d41d1339913201142\n'}]",0,754325,e7edd5ade5db69d16a0974f601b15617d8e7fbae,6,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/victoria

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I7dbf19e2e028d05b8d8df07d41d1339913201142
",git fetch https://review.opendev.org/openstack/adjutant-ui refs/changes/25/754325/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e7edd5ade5db69d16a0974f601b15617d8e7fbae,create-victoria,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria},deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fadjutant-ui~master~I00c306cb98703ed8a034ffe3874df9dc288bd310,openstack/adjutant-ui,master,I00c306cb98703ed8a034ffe3874df9dc288bd310,Add Python3 wallaby unit tests,MERGED,2020-09-25 08:45:58.000000000,2021-01-12 22:51:34.000000000,2021-01-12 22:51:34.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-25 08:45:58.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/1a82cbd28abddcf3eff5656c0a5bb9a8582df3f0', 'message': 'Add Python3 wallaby unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for wallaby.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I00c306cb98703ed8a034ffe3874df9dc288bd310\n'}]",0,754326,1a82cbd28abddcf3eff5656c0a5bb9a8582df3f0,6,2,1,22816,,,0,"Add Python3 wallaby unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for wallaby.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I00c306cb98703ed8a034ffe3874df9dc288bd310
",git fetch https://review.opendev.org/openstack/adjutant-ui refs/changes/26/754326/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1a82cbd28abddcf3eff5656c0a5bb9a8582df3f0,add-wallaby-python-jobtemplates, - openstack-python3-wallaby-jobs-horizon, - openstack-python3-victoria-jobs-horizon,1,1
openstack%2Fadjutant-ui~stable%2Fvictoria~Ib0e53572bfc8600094a6f8483e26bf2d0023ce80,openstack/adjutant-ui,stable/victoria,Ib0e53572bfc8600094a6f8483e26bf2d0023ce80,Comparison exception causes quota output to fail,MERGED,2021-01-12 22:12:42.000000000,2021-01-12 22:45:49.000000000,2021-01-12 22:45:49.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}, {'_account_id': 32802}]","[{'number': 1, 'created': '2021-01-12 22:12:42.000000000', 'files': ['adjutant_ui/api/adjutant.py'], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/3414b2f2afc52852c2002173b647298c0f37f929', 'message': 'Comparison exception causes quota output to fail\n\nThe key/value pairs being checked include the quota\'s id, and the value\nis a UUID. Being that this is the only key where the value is not an\ninteger, this causes issues with Python 3\'s rules for comparisons\nbetween different types. This manifests as a ""Failed to list quota\nsizes."" error when viewing a region\'s quota information. This patch\nwill catch this exception and allow it to continue as before, without\nmodifying the value.\n\nI opted for this method instead of just skipping \'id\' at the start of\nthe loop since this is closer to the original behavior, and there is\nalready an explicit check for \'id\' at the bottom before adding to the\noutput. This way, any future keys that also have non-int values will\nbe handled gracefully as well.\n\nChange-Id: Ib0e53572bfc8600094a6f8483e26bf2d0023ce80\n(cherry picked from commit 9c5660acbb19a2a0433ace76612cbe996a5dfe09)\n'}]",0,770501,3414b2f2afc52852c2002173b647298c0f37f929,6,3,1,10420,,,0,"Comparison exception causes quota output to fail

The key/value pairs being checked include the quota's id, and the value
is a UUID. Being that this is the only key where the value is not an
integer, this causes issues with Python 3's rules for comparisons
between different types. This manifests as a ""Failed to list quota
sizes."" error when viewing a region's quota information. This patch
will catch this exception and allow it to continue as before, without
modifying the value.

I opted for this method instead of just skipping 'id' at the start of
the loop since this is closer to the original behavior, and there is
already an explicit check for 'id' at the bottom before adding to the
output. This way, any future keys that also have non-int values will
be handled gracefully as well.

Change-Id: Ib0e53572bfc8600094a6f8483e26bf2d0023ce80
(cherry picked from commit 9c5660acbb19a2a0433ace76612cbe996a5dfe09)
",git fetch https://review.opendev.org/openstack/adjutant-ui refs/changes/01/770501/1 && git format-patch -1 --stdout FETCH_HEAD,['adjutant_ui/api/adjutant.py'],1,3414b2f2afc52852c2002173b647298c0f37f929,, try: if value < 0: value = 'No Limit' except (TypeError): pass, if value < 0: value = 'No Limit',5,2
openstack%2Fkuryr-kubernetes~master~Ib86babcbbd2ebc7d7859047ab0f857220cc0460f,openstack/kuryr-kubernetes,master,Ib86babcbbd2ebc7d7859047ab0f857220cc0460f,Adapt selfLink calculation for KuryrPort CRD objects.,MERGED,2020-12-23 11:50:48.000000000,2021-01-12 22:37:42.000000000,2021-01-12 22:36:08.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-12-23 11:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/73028887334209db36017374a4b94f1a78a119fa', 'message': 'Adapt selfLink calculation for KuryrPort CRD objects.\n\nChange-Id: Ib86babcbbd2ebc7d7859047ab0f857220cc0460f\n'}, {'number': 2, 'created': '2020-12-23 13:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e2cb23e8c00418d4096c9b383d4d6da19786fd5a', 'message': 'Adapt selfLink calculation for KuryrPort CRD objects.\n\nChange-Id: Ib86babcbbd2ebc7d7859047ab0f857220cc0460f\n'}, {'number': 3, 'created': '2021-01-04 07:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/067b165cde03a0f1a680c2d468c2361f8f0b58fe', 'message': 'Adapt selfLink calculation for KuryrPort CRD objects.\n\nImplements: blueprint selflink\nChange-Id: Ib86babcbbd2ebc7d7859047ab0f857220cc0460f\n'}, {'number': 4, 'created': '2021-01-05 16:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/1686b13f867ba85056bffbc12159cdee3b2433c2', 'message': 'Adapt selfLink calculation for KuryrPort CRD objects.\n\nImplements: blueprint selflink\nChange-Id: Ib86babcbbd2ebc7d7859047ab0f857220cc0460f\n'}, {'number': 5, 'created': '2021-01-07 09:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d2a4af6f59a83178836edebd458941e205a67df6', 'message': 'Adapt selfLink calculation for KuryrPort CRD objects.\n\nImplements: blueprint selflink\nChange-Id: Ib86babcbbd2ebc7d7859047ab0f857220cc0460f\n'}, {'number': 6, 'created': '2021-01-07 11:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/03d0dd907facbc3fbdbd8dac91128298f1be0760', 'message': 'Adapt selfLink calculation for KuryrPort CRD objects.\n\nImplements: blueprint selflink\nChange-Id: Ib86babcbbd2ebc7d7859047ab0f857220cc0460f\n'}, {'number': 7, 'created': '2021-01-08 14:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e5bb3df15ff92a7224bbbceb5ef0bd8b93ca0b0e', 'message': 'Adapt selfLink calculation for KuryrPort CRD objects.\n\nImplements: blueprint selflink\nChange-Id: Ib86babcbbd2ebc7d7859047ab0f857220cc0460f\n'}, {'number': 8, 'created': '2021-01-08 16:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b38c958108e46d85be57c8ed035ed0c7b6445eff', 'message': 'Adapt selfLink calculation for KuryrPort CRD objects.\n\nImplements: blueprint selflink\nChange-Id: Ib86babcbbd2ebc7d7859047ab0f857220cc0460f\n'}, {'number': 9, 'created': '2021-01-11 09:20:11.000000000', 'files': ['kuryr_kubernetes/tests/unit/cni/plugins/test_k8s_cni_registry.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrport.py', 'kuryr_kubernetes/cni/plugins/k8s_cni_registry.py', 'kuryr_kubernetes/controller/handlers/kuryrport.py', 'kuryr_kubernetes/controller/handlers/vif.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/31b96f3ecc8f3751251206e341beca74f98dab6f', 'message': 'Adapt selfLink calculation for KuryrPort CRD objects.\n\nImplements: blueprint selflink\nChange-Id: Ib86babcbbd2ebc7d7859047ab0f857220cc0460f\n'}]",0,768330,31b96f3ecc8f3751251206e341beca74f98dab6f,32,4,9,13692,,,0,"Adapt selfLink calculation for KuryrPort CRD objects.

Implements: blueprint selflink
Change-Id: Ib86babcbbd2ebc7d7859047ab0f857220cc0460f
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/30/768330/2 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/cni/plugins/test_k8s_cni_registry.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrport.py', 'kuryr_kubernetes/cni/plugins/k8s_cni_registry.py', 'kuryr_kubernetes/controller/handlers/kuryrport.py', 'kuryr_kubernetes/controller/handlers/vif.py']",5,73028887334209db36017374a4b94f1a78a119fa,selflink," k8s.delete(utils.get_res_link(kuryrport)) k8s.annotate(utils.get_res_link(kp), {'KuryrTrigger': '1'})"," k8s.delete(kuryrport['metadata']['selfLink']) k8s.annotate(kp['metadata']['selfLink'], {'KuryrTrigger': '1'})",21,13
openstack%2Fadjutant-ui~master~I99e88b5786940fdc73b9afa25fdd6638a811eb9a,openstack/adjutant-ui,master,I99e88b5786940fdc73b9afa25fdd6638a811eb9a,Now checks for code 202 when checking for success,MERGED,2021-01-12 21:49:03.000000000,2021-01-12 22:32:31.000000000,2021-01-12 22:32:31.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 21:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/1072adac10a390a52e2d0644c6a17c6ecec26a1f', 'message': ""Adds HTTP codes 202 and 204 to check for error in RevokeUser.delete\n\nKeystone API documentation states 202 and 204 are also valid success\ncodes:\n202: Request was accepted for processing, but the processing has not\n     been completed. A 'location' header is included in the response\n     which contains a link to check the progress of the request.\n204: The server has fulfilled the request.\n\nTask: 41574\nStory: 2008505\nChange-Id: I99e88b5786940fdc73b9afa25fdd6638a811eb9a\n""}, {'number': 2, 'created': '2021-01-12 22:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/dc217ecded2732f454f5ad2c772c7d60e48ec5ec', 'message': 'Now checks for code 202 when checking for error\n\nTask: 41574\nStory: 2008505\nChange-Id: I99e88b5786940fdc73b9afa25fdd6638a811eb9a\n'}, {'number': 3, 'created': '2021-01-12 22:01:09.000000000', 'files': ['adjutant_ui/content/project_users/tables.py'], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/208181a56928e6667f1e5fd48e5d64b4b4ef40a5', 'message': 'Now checks for code 202 when checking for success\n\nTask: 41574\nStory: 2008505\nChange-Id: I99e88b5786940fdc73b9afa25fdd6638a811eb9a\n'}]",1,770480,208181a56928e6667f1e5fd48e5d64b4b4ef40a5,10,2,3,32802,,,0,"Now checks for code 202 when checking for success

Task: 41574
Story: 2008505
Change-Id: I99e88b5786940fdc73b9afa25fdd6638a811eb9a
",git fetch https://review.opendev.org/openstack/adjutant-ui refs/changes/80/770480/3 && git format-patch -1 --stdout FETCH_HEAD,['adjutant_ui/content/project_users/tables.py'],1,1072adac10a390a52e2d0644c6a17c6ecec26a1f,, if not result or (result.status_code != 200 and result.status_code != 202 and result.status_code != 204):, if not result or result.status_code != 200:,1,1
openstack%2Fadjutant-ui~stable%2Fvictoria~I2f1bff5ed8786f9d182a00a2539b6e0f4439edee,openstack/adjutant-ui,stable/victoria,I2f1bff5ed8786f9d182a00a2539b6e0f4439edee,Update .gitreview for stable/victoria,MERGED,2020-09-25 08:45:55.000000000,2021-01-12 22:25:31.000000000,2021-01-12 22:25:31.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-25 08:45:55.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/4266f651c1f2ce1a5f2190c2dbb757b09c46c728', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I2f1bff5ed8786f9d182a00a2539b6e0f4439edee\n'}]",0,754324,4266f651c1f2ce1a5f2190c2dbb757b09c46c728,8,2,1,22816,,,0,"Update .gitreview for stable/victoria

Change-Id: I2f1bff5ed8786f9d182a00a2539b6e0f4439edee
",git fetch https://review.opendev.org/openstack/adjutant-ui refs/changes/24/754324/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,4266f651c1f2ce1a5f2190c2dbb757b09c46c728,create-victoria,defaultbranch=stable/victoria,,1,0
openstack%2Fmanila~stable%2Ftrain~I3a199024ddcf70dadf0a5ac4d7012d58ca82758f,openstack/manila,stable/train,I3a199024ddcf70dadf0a5ac4d7012d58ca82758f,Set lower-constraints job to non-voting,ABANDONED,2021-01-11 23:45:33.000000000,2021-01-12 22:07:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-11 23:45:33.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/67d433a784246015dfec8a724b2486369cfcab81', 'message': ""Set lower-constraints job to non-voting\n\nWhile we figure out the issue with our\nrequirements files, let's prevent the failing\njob from blocking unrelated changes to merge.\n\nChange-Id: I3a199024ddcf70dadf0a5ac4d7012d58ca82758f\nRelated-Bug: #1911071\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",0,770218,67d433a784246015dfec8a724b2486369cfcab81,5,1,1,16643,,,0,"Set lower-constraints job to non-voting

While we figure out the issue with our
requirements files, let's prevent the failing
job from blocking unrelated changes to merge.

Change-Id: I3a199024ddcf70dadf0a5ac4d7012d58ca82758f
Related-Bug: #1911071
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/18/770218/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,67d433a784246015dfec8a724b2486369cfcab81,lower-constraints, # TODO(gouthamr): The following job has been turned non-voting. # See bug #1911071 for details. - openstack-tox-lower-constraints: voting: false,,4,0
openstack%2Fmanila-tempest-plugin~master~Ib8f72404c481a343ca53f045877444060c640f3d,openstack/manila-tempest-plugin,master,Ib8f72404c481a343ca53f045877444060c640f3d,[CI] Switch cephfs-nfs job to focal fossa,MERGED,2020-11-17 13:28:31.000000000,2021-01-12 22:05:09.000000000,2021-01-12 22:05:09.000000000,"[{'_account_id': 9003}, {'_account_id': 12017}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-11-17 13:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/86728ab0311b0033a2beee0329c29e6776802d7a', 'message': 'ci] Switch cephfs-nfs job to focal fossa\n\nChange-Id: Ib8f72404c481a343ca53f045877444060c640f3d\nPartial-Bug: #1896672\n'}, {'number': 2, 'created': '2020-11-17 13:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/0ca927e235a40485f08b720af1ca3bcbc4fd310e', 'message': '[CI] Switch cephfs-nfs job to focal fossa\n\nChange-Id: Ib8f72404c481a343ca53f045877444060c640f3d\nPartial-Bug: #1896672\n'}, {'number': 3, 'created': '2020-11-17 16:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/d9eea0d2592c65dfc38023a6ea5429a0a5cc4160', 'message': '[CI] Switch cephfs-nfs job to focal fossa\n\nDepends-On: https://review.opendev.org/#/c/756127/\n\nChange-Id: Ib8f72404c481a343ca53f045877444060c640f3d\nPartial-Bug: #1896672\n'}, {'number': 4, 'created': '2020-11-18 21:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/c93c7cda7cb1476d4e2cb1eaf81e1a5508e0c38b', 'message': '[CI] Switch cephfs-nfs job to focal fossa\n\nDepends-On: https://review.opendev.org/#/c/756127/\nDepends-On: https://review.opendev.org/#/c/756600/\n\nChange-Id: Ib8f72404c481a343ca53f045877444060c640f3d\nPartial-Bug: #1896672\n'}, {'number': 5, 'created': '2021-01-11 21:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/cdb4800d93157d169597cb4d5c9e39e39afc0145', 'message': '[CI] Switch cephfs-nfs job to focal fossa\n\nDepends-On: https://review.opendev.org/#/c/756127/\nDepends-On: https://review.opendev.org/#/c/756600/\n\nChange-Id: Ib8f72404c481a343ca53f045877444060c640f3d\nPartial-Bug: #1896672\n'}, {'number': 6, 'created': '2021-01-11 22:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/a983fab90e497e312b4bf06492615fb06f51bbb7', 'message': '[CI] Switch cephfs-nfs job to focal fossa\n\nChange-Id: Ib8f72404c481a343ca53f045877444060c640f3d\nPartial-Bug: #1896672\n'}, {'number': 7, 'created': '2021-01-12 07:26:37.000000000', 'files': ['zuul.d/manila-tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/b3a3c420c7cdb72fee275aa71491e5fba8c304d7', 'message': '[CI] Switch cephfs-nfs job to focal fossa\n\nChange-Id: Ib8f72404c481a343ca53f045877444060c640f3d\nPartial-Bug: #1896672\n'}]",0,763009,b3a3c420c7cdb72fee275aa71491e5fba8c304d7,27,6,7,6413,,,0,"[CI] Switch cephfs-nfs job to focal fossa

Change-Id: Ib8f72404c481a343ca53f045877444060c640f3d
Partial-Bug: #1896672
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/09/763009/7 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/manila-tempest-jobs.yaml'],1,86728ab0311b0033a2beee0329c29e6776802d7a,bug/1896672,, # TODO(gmann): Remove the below nodeset setting to Bionic once # https://bugs.launchpad.net/manila/+bug/1896672 is fixed # Once nodeset is removed form here then devstack base job # will automatically run this job on Ubuntu Focal nodeset from # Victoria gate onwards. nodeset: openstack-single-node-bionic,0,6
openstack%2Fadjutant~master~Ia2326c21b65ebdb91d9916f172307ee6785124e6,openstack/adjutant,master,Ia2326c21b65ebdb91d9916f172307ee6785124e6,Add Python3 wallaby unit tests,MERGED,2020-09-25 08:38:11.000000000,2021-01-12 21:52:46.000000000,2021-01-12 21:45:59.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-25 08:38:11.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/a325ba8e5594620b5a69f79be6147da945d2e411', 'message': 'Add Python3 wallaby unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for wallaby.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ia2326c21b65ebdb91d9916f172307ee6785124e6\n'}]",0,754310,a325ba8e5594620b5a69f79be6147da945d2e411,7,2,1,22816,,,0,"Add Python3 wallaby unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for wallaby.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ia2326c21b65ebdb91d9916f172307ee6785124e6
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/10/754310/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a325ba8e5594620b5a69f79be6147da945d2e411,add-wallaby-python-jobtemplates, - openstack-python3-wallaby-jobs, - openstack-python3-victoria-jobs,1,1
openstack%2Fadjutant~master~Ic4b699a80fa5b118ccd4515037031c0109cb9d12,openstack/adjutant,master,Ic4b699a80fa5b118ccd4515037031c0109cb9d12,Update master for stable/victoria,MERGED,2020-09-25 08:38:07.000000000,2021-01-12 21:51:07.000000000,2021-01-12 21:45:34.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-25 08:38:07.000000000', 'files': ['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/136ba2088a7587af4168595aa6fe26311bc59d58', 'message': 'Update master for stable/victoria\n\nAdd file to the reno documentation build to show release notes for\nstable/victoria.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/victoria.\n\nChange-Id: Ic4b699a80fa5b118ccd4515037031c0109cb9d12\nSem-Ver: feature\n'}]",0,754309,136ba2088a7587af4168595aa6fe26311bc59d58,8,3,1,22816,,,0,"Update master for stable/victoria

Add file to the reno documentation build to show release notes for
stable/victoria.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/victoria.

Change-Id: Ic4b699a80fa5b118ccd4515037031c0109cb9d12
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/09/754309/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/victoria.rst', 'releasenotes/source/index.rst']",2,136ba2088a7587af4168595aa6fe26311bc59d58,reno-victoria, victoria,,7,0
openstack%2Fadjutant-ui~master~Ib0e53572bfc8600094a6f8483e26bf2d0023ce80,openstack/adjutant-ui,master,Ib0e53572bfc8600094a6f8483e26bf2d0023ce80,Comparison exception causes quota output to fail,MERGED,2021-01-12 13:08:53.000000000,2021-01-12 21:51:04.000000000,2021-01-12 21:51:04.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 13:08:53.000000000', 'files': ['adjutant_ui/api/adjutant.py'], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/9c5660acbb19a2a0433ace76612cbe996a5dfe09', 'message': 'Comparison exception causes quota output to fail\n\nThe key/value pairs being checked include the quota\'s id, and the value\nis a UUID. Being that this is the only key where the value is not an\ninteger, this causes issues with Python 3\'s rules for comparisons\nbetween different types. This manifests as a ""Failed to list quota\nsizes."" error when viewing a region\'s quota information. This patch\nwill catch this exception and allow it to continue as before, without\nmodifying the value.\n\nI opted for this method instead of just skipping \'id\' at the start of\nthe loop since this is closer to the original behavior, and there is\nalready an explicit check for \'id\' at the bottom before adding to the\noutput. This way, any future keys that also have non-int values will\nbe handled gracefully as well.\n\nChange-Id: Ib0e53572bfc8600094a6f8483e26bf2d0023ce80\n'}]",0,770343,9c5660acbb19a2a0433ace76612cbe996a5dfe09,6,2,1,32802,,,0,"Comparison exception causes quota output to fail

The key/value pairs being checked include the quota's id, and the value
is a UUID. Being that this is the only key where the value is not an
integer, this causes issues with Python 3's rules for comparisons
between different types. This manifests as a ""Failed to list quota
sizes."" error when viewing a region's quota information. This patch
will catch this exception and allow it to continue as before, without
modifying the value.

I opted for this method instead of just skipping 'id' at the start of
the loop since this is closer to the original behavior, and there is
already an explicit check for 'id' at the bottom before adding to the
output. This way, any future keys that also have non-int values will
be handled gracefully as well.

Change-Id: Ib0e53572bfc8600094a6f8483e26bf2d0023ce80
",git fetch https://review.opendev.org/openstack/adjutant-ui refs/changes/43/770343/1 && git format-patch -1 --stdout FETCH_HEAD,['adjutant_ui/api/adjutant.py'],1,9c5660acbb19a2a0433ace76612cbe996a5dfe09,, try: if value < 0: value = 'No Limit' except (TypeError): pass, if value < 0: value = 'No Limit',5,2
openstack%2Fadjutant~master~Idf2953027765119d70720592ccc1187472854fad,openstack/adjutant,master,Idf2953027765119d70720592ccc1187472854fad,Fixed typos in nova and neutron quota output,MERGED,2021-01-12 13:11:27.000000000,2021-01-12 21:45:45.000000000,2021-01-12 21:44:28.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 13:11:27.000000000', 'files': ['adjutant/common/quota.py'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/d2fbd63fdb58f18de283492c7282f17c1a587ce3', 'message': ""Fixed typos in nova and neutron quota output\n\nThe Nova and Neutron quota helper objects output the quota data with\nthe word 'secuirty' instead of 'security' in the key name. Adjutant-ui,\nnova and neutron (among others) look for the keys with the correct\nspelling. No other instance of the typo appears to exist in other\nmodules.\n\nAPIImpact: some keys returned by Adjutant are now correctly spelled\nChange-Id: Idf2953027765119d70720592ccc1187472854fad\n""}]",0,770344,d2fbd63fdb58f18de283492c7282f17c1a587ce3,7,2,1,32802,,,0,"Fixed typos in nova and neutron quota output

The Nova and Neutron quota helper objects output the quota data with
the word 'secuirty' instead of 'security' in the key name. Adjutant-ui,
nova and neutron (among others) look for the keys with the correct
spelling. No other instance of the typo appears to exist in other
modules.

APIImpact: some keys returned by Adjutant are now correctly spelled
Change-Id: Idf2953027765119d70720592ccc1187472854fad
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/44/770344/1 && git format-patch -1 --stdout FETCH_HEAD,['adjutant/common/quota.py'],1,d2fbd63fdb58f18de283492c7282f17c1a587ce3,," (""security_groups"", ""totalSecurityGroupsUsed""), ""security_group"": len(security_groups),"," (""secuirty_groups"", ""totalSecurityGroupsUsed""), ""secuirty_group"": len(security_groups),",2,2
openstack%2Fmanila-tempest-plugin~master~Icf18d737859171510b8f7db6e088d63041fd0bf4,openstack/manila-tempest-plugin,master,Icf18d737859171510b8f7db6e088d63041fd0bf4,Tests: reduce concurrency for cephfs-nfs job,MERGED,2021-01-11 19:48:54.000000000,2021-01-12 21:26:48.000000000,2021-01-12 20:38:38.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-11 19:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/2d1e7f65f503621f30600a8fb9f3a0306839216a', 'message': 'Tests: reduce concurrency for cephfs-nfs job\n\nReduce it to 2, which should ensure that this job does\nnot fail for lack of resources in devstack gate.  We can\nbump it back up later if we have test infrastructure improvements,\nbut in the mean time there is no point holding up fixes and\nenhancements to Manila itself because of vulnerabilities in\nthe test framework itself.\n\nChange-Id: Icf18d737859171510b8f7db6e088d63041fd0bf4\n'}, {'number': 2, 'created': '2021-01-11 20:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/3f1528471979c4f296004661db77ecbd27e86631', 'message': 'Tests: reduce concurrency for cephfs-nfs job\n\nReduce it to 2, which should ensure that this job does\nnot fail for lack of resources in devstack gate.  We can\nbump it back up later if we have test infrastructure improvements,\nbut in the mean time there is no point holding up fixes and\nenhancements to Manila itself because of vulnerabilities in\nthe test framework itself.\n\nChange-Id: Icf18d737859171510b8f7db6e088d63041fd0bf4\n'}, {'number': 3, 'created': '2021-01-11 21:32:31.000000000', 'files': ['zuul.d/manila-tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/cee8ed17ac763b8772a41731d7b4a131b32af9a7', 'message': 'Tests: reduce concurrency for cephfs-nfs job\n\nReduce it to 2, which should ensure that this job does\nnot fail for lack of resources in devstack gate.  We can\nbump it back up later if we have test infrastructure improvements,\nbut in the mean time there is no point holding up fixes and\nenhancements to Manila itself because of vulnerabilities in\nthe test framework itself.\n\nChange-Id: Icf18d737859171510b8f7db6e088d63041fd0bf4\n'}]",3,770199,cee8ed17ac763b8772a41731d7b4a131b32af9a7,28,3,3,9003,,,0,"Tests: reduce concurrency for cephfs-nfs job

Reduce it to 2, which should ensure that this job does
not fail for lack of resources in devstack gate.  We can
bump it back up later if we have test infrastructure improvements,
but in the mean time there is no point holding up fixes and
enhancements to Manila itself because of vulnerabilities in
the test framework itself.

Change-Id: Icf18d737859171510b8f7db6e088d63041fd0bf4
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/99/770199/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/manila-tempest-jobs.yaml'],1,2d1e7f65f503621f30600a8fb9f3a0306839216a,, tempest_concurrency: 2,,1,0
openstack%2Fkuryr-tempest-plugin~master~I2169c7332fe09076e6558b4bd1f7fa5135b76ef8,openstack/kuryr-tempest-plugin,master,I2169c7332fe09076e6558b4bd1f7fa5135b76ef8,New test for services without selectors with NP.,MERGED,2020-12-07 17:50:53.000000000,2021-01-12 21:06:33.000000000,2021-01-12 21:05:09.000000000,"[{'_account_id': 4727}, {'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 30963}]","[{'number': 1, 'created': '2020-12-07 17:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/7a1c624182d4c668f9328575ff3e1f36bf9b7fde', 'message': 'New test for services without selectors with NP.\n\nChange-Id: I2169c7332fe09076e6558b4bd1f7fa5135b76ef8\n'}, {'number': 2, 'created': '2020-12-08 07:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/607e610113850239c6c6ae177e8399a4b8f886b8', 'message': 'New test for services without selectors with NP.\n\nChange-Id: I2169c7332fe09076e6558b4bd1f7fa5135b76ef8\n'}, {'number': 3, 'created': '2020-12-08 15:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/adfb55fe682ba57e2d78f4e32694b2f6ba55c626', 'message': 'New test for services without selectors with NP.\n\nChange-Id: I2169c7332fe09076e6558b4bd1f7fa5135b76ef8\n'}, {'number': 4, 'created': '2020-12-10 12:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/7f2517b6d2710da48611ebf5e21795be6adb1245', 'message': 'New test for services without selectors with NP.\n\nChange-Id: I2169c7332fe09076e6558b4bd1f7fa5135b76ef8\n'}, {'number': 5, 'created': '2020-12-14 11:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/2d24ff7de62eb425d3472e84cf8e35da0438f7cb', 'message': 'New test for services without selectors with NP.\n\nChange-Id: I2169c7332fe09076e6558b4bd1f7fa5135b76ef8\n'}, {'number': 6, 'created': '2020-12-22 10:47:35.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/base_network_policy.py', 'kuryr_tempest_plugin/tests/scenario/test_network_policy.py', 'kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/1eaffa9f44e50246a9119ee7524d8a4536429243', 'message': 'New test for services without selectors with NP.\n\nChange-Id: I2169c7332fe09076e6558b4bd1f7fa5135b76ef8\n'}]",13,765836,1eaffa9f44e50246a9119ee7524d8a4536429243,48,6,6,13692,,,0,"New test for services without selectors with NP.

Change-Id: I2169c7332fe09076e6558b4bd1f7fa5135b76ef8
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/36/765836/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_tempest_plugin/tests/scenario/test_network_policy.py', 'kuryr_tempest_plugin/tests/scenario/base.py']",2,7a1c624182d4c668f9328575ff3e1f36bf9b7fde,np-services-wo-selectors," def create_namespace(cls, name=None, labels=None, wait_for_crd=True, namespace.metadata = cls.k8s_client.V1ObjectMeta(name=name, labels=labels)"," def create_namespace(cls, name=None, wait_for_crd=True, namespace.metadata = cls.k8s_client.V1ObjectMeta(name=name)",172,2
openstack%2Foctavia~stable%2Fvictoria~I439c794536ef59788b4cc422c50fbb9b4f9e5011,openstack/octavia,stable/victoria,I439c794536ef59788b4cc422c50fbb9b4f9e5011,DNM - try testing grenade failure,ABANDONED,2021-01-12 19:47:44.000000000,2021-01-12 20:56:44.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 19:47:44.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/11c615af339b377901b036169591195a6bc722c2', 'message': 'DNM - try testing grenade failure\n\nThis might not work since the dependency is on stable/ussuri\nand this is stable/victoria.\n\nDepends-on: https://review.opendev.org/c/openstack/octavia/+/770444\nChange-Id: I439c794536ef59788b4cc422c50fbb9b4f9e5011\n'}]",0,770467,11c615af339b377901b036169591195a6bc722c2,4,2,1,1131,,,0,"DNM - try testing grenade failure

This might not work since the dependency is on stable/ussuri
and this is stable/victoria.

Depends-on: https://review.opendev.org/c/openstack/octavia/+/770444
Change-Id: I439c794536ef59788b4cc422c50fbb9b4f9e5011
",git fetch https://review.opendev.org/openstack/octavia refs/changes/67/770467/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,11c615af339b377901b036169591195a6bc722c2,test-grenade-dnm, #- openstack-tox-pip-check-reqs: # irrelevant-files: # - ^.*\.rst$ # - ^api-ref/.*$ # - ^doc/.*$ # - ^etc/.*$ # - ^octavia/tests/.*$ # - ^releasenotes/.*$ #- openstack-tox-functional-py36: # irrelevant-files: # - ^.*\.rst$ # - ^api-ref/.*$ # - ^doc/.*$ # - ^etc/.*$ # - ^octavia/tests/unit/.*$ # - ^releasenotes/.*$ #- octavia-v2-dsvm-noop-api: # irrelevant-files: &irrelevant-files # - ^.*\.rst$ # - ^api-ref/.*$ # - ^doc/.*$ # - ^octavia/tests/.*$ # - ^releasenotes/.*$ #- octavia-v2-dsvm-scenario: # irrelevant-files: *irrelevant-files #- octavia-v2-dsvm-tls-barbican: # irrelevant-files: *irrelevant-files #- octavia-v2-dsvm-spare-pool: # irrelevant-files: *irrelevant-files #- octavia-v2-act-stdby-dsvm-scenario: # irrelevant-files: *irrelevant-files #- octavia-v2-dsvm-cinder-amphora: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-dsvm-scenario-two-node: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-dsvm-scenario-ipv6-only: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-dsvm-scenario-amphora-v2: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-dsvm-scenario-amphora-v2-no-jobboard: # irrelevant-files: *irrelevant-files # voting: false #- octavia-v2-dsvm-scenario-centos-8: # irrelevant-files: *irrelevant-files # voting: false, - openstack-tox-pip-check-reqs: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^octavia/tests/.*$ - ^releasenotes/.*$ - openstack-tox-functional-py36: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^octavia/tests/unit/.*$ - ^releasenotes/.*$ - octavia-v2-dsvm-noop-api: irrelevant-files: &irrelevant-files - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^octavia/tests/.*$ - ^releasenotes/.*$ - octavia-v2-dsvm-scenario: irrelevant-files: *irrelevant-files - octavia-v2-dsvm-tls-barbican: irrelevant-files: *irrelevant-files - octavia-v2-dsvm-spare-pool: irrelevant-files: *irrelevant-files - octavia-v2-act-stdby-dsvm-scenario: irrelevant-files: *irrelevant-files - octavia-v2-dsvm-cinder-amphora: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-two-node: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-ipv6-only: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-amphora-v2: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-amphora-v2-no-jobboard: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-centos-8: irrelevant-files: *irrelevant-files voting: false,49,49
openstack%2Foctavia~stable%2Fussuri~I3c830a9f0fd21ca10238946721c0f75d01d3ddff,openstack/octavia,stable/ussuri,I3c830a9f0fd21ca10238946721c0f75d01d3ddff,Map cloud-guest-utils to cloud-utils-growpart for Red Hat distros.,MERGED,2020-12-01 15:45:10.000000000,2021-01-12 20:54:14.000000000,2021-01-12 20:52:26.000000000,"[{'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-12-01 15:45:10.000000000', 'files': ['elements/amphora-agent/pkg-map', 'releasenotes/notes/fix-missing-cloud-guest-utils-rh-eb39a53502dc1e91.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2fcc877d447a89bba89bd287375a675d5f0ad975', 'message': 'Map cloud-guest-utils to cloud-utils-growpart for Red Hat distros.\n\nThe package cloud-utils-growpart is missing from Red Hat based image\nbuilds which means the root filesystems are not grown on instance\nstartup which means not much space for things like logs.\n\nThis patch maps the cloud-guest-utils package to cloud-utils-growpart.\n\nChange-Id: I3c830a9f0fd21ca10238946721c0f75d01d3ddff\nStory: 2008350\nTask: 41252\n(cherry picked from commit 6d59fec8a0c8011949c547c4f49195c41b9d21a5)\n'}]",0,764892,2fcc877d447a89bba89bd287375a675d5f0ad975,14,3,1,27330,,,0,"Map cloud-guest-utils to cloud-utils-growpart for Red Hat distros.

The package cloud-utils-growpart is missing from Red Hat based image
builds which means the root filesystems are not grown on instance
startup which means not much space for things like logs.

This patch maps the cloud-guest-utils package to cloud-utils-growpart.

Change-Id: I3c830a9f0fd21ca10238946721c0f75d01d3ddff
Story: 2008350
Task: 41252
(cherry picked from commit 6d59fec8a0c8011949c547c4f49195c41b9d21a5)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/92/764892/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/amphora-agent/pkg-map', 'releasenotes/notes/fix-missing-cloud-guest-utils-rh-eb39a53502dc1e91.yaml']",2,2fcc877d447a89bba89bd287375a675d5f0ad975,redhat-cloud-utils-growpart-stable/ussuri,--- fixes: - | Add missing cloud-utils-growpart RPM to Red Hat based amphora images. ,,5,1
openstack%2Fopenstack-helm-infra~master~Idbd87408c17907eaae9c6398fbc942f203b51515,openstack/openstack-helm-infra,master,Idbd87408c17907eaae9c6398fbc942f203b51515,Run as ceph user and disallow privilege escalation,MERGED,2021-01-04 16:51:52.000000000,2021-01-12 20:11:45.000000000,2021-01-12 20:09:50.000000000,"[{'_account_id': 17119}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 18511}, {'_account_id': 18538}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 24780}, {'_account_id': 28372}, {'_account_id': 29131}, {'_account_id': 29974}, {'_account_id': 30495}, {'_account_id': 30777}, {'_account_id': 31479}]","[{'number': 1, 'created': '2021-01-04 16:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/830f68d7dbf3c1cb8afb7bf413552d97d89ec640', 'message': 'Run as ceph user and disallow privilege escalation\n\nThis PS is to address security best practices concerning running\ncontainers as a non-privileged user and disallowing privilege\nescalation. Ceph-client is used for the mgr and mds pods.\n\nChange-Id: Idbd87408c17907eaae9c6398fbc942f203b51515\n'}, {'number': 2, 'created': '2021-01-04 17:58:23.000000000', 'files': ['ceph-client/Chart.yaml', 'ceph-client/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/abf8d1bc6ef59979e3f9a310420c376a4829258c', 'message': 'Run as ceph user and disallow privilege escalation\n\nThis PS is to address security best practices concerning running\ncontainers as a non-privileged user and disallowing privilege\nescalation. Ceph-client is used for the mgr and mds pods.\n\nChange-Id: Idbd87408c17907eaae9c6398fbc942f203b51515\n'}]",0,769162,abf8d1bc6ef59979e3f9a310420c376a4829258c,28,15,2,32190,,,0,"Run as ceph user and disallow privilege escalation

This PS is to address security best practices concerning running
containers as a non-privileged user and disallowing privilege
escalation. Ceph-client is used for the mgr and mds pods.

Change-Id: Idbd87408c17907eaae9c6398fbc942f203b51515
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/62/769162/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/values.yaml'],1,830f68d7dbf3c1cb8afb7bf413552d97d89ec640,non-root, runAsUser: 64045 allowPrivilegeEscalation: false runAsUser: 64045 allowPrivilegeEscalation: false, runAsUser: 0 runAsUser: 0,4,2
openstack%2Fproject-config~master~I53b3fbd3191c2c4748fd01d1e480fc307be31557,openstack/project-config,master,I53b3fbd3191c2c4748fd01d1e480fc307be31557,Use internal mirror for RAX IAD/DFW,MERGED,2020-10-30 04:09:36.000000000,2021-01-12 20:09:59.000000000,2021-01-12 20:09:59.000000000,"[{'_account_id': 2}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-30 04:09:36.000000000', 'files': ['zuul/site-variables.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/53132f289e0bbcc21ed577b4f76d56691c1df495', 'message': 'Use internal mirror for RAX IAD/DFW\n\nSimilar to ORD region Ieb856cadcdeb9f6e099b1ce2711cc0d5e1e61f5a\n\nDepends-On: https://review.opendev.org/760494\nChange-Id: I53b3fbd3191c2c4748fd01d1e480fc307be31557\n'}]",0,760495,53132f289e0bbcc21ed577b4f76d56691c1df495,9,4,1,7118,,,0,"Use internal mirror for RAX IAD/DFW

Similar to ORD region Ieb856cadcdeb9f6e099b1ce2711cc0d5e1e61f5a

Depends-On: https://review.opendev.org/760494
Change-Id: I53b3fbd3191c2c4748fd01d1e480fc307be31557
",git fetch https://review.opendev.org/openstack/project-config refs/changes/95/760495/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/site-variables.yaml'],1,53132f289e0bbcc21ed577b4f76d56691c1df495,rax-interal," {%- if nodepool.region + ""."" + nodepool.cloud in [ ""DFW.rax"", ""IAD.rax"", ""ORD.rax"", ] -%}"," {%- if nodepool.region + ""."" + nodepool.cloud in [ ""ORD.rax"", ] -%}",1,1
openstack%2Fmanila~stable%2Ftrain~I5e6b855e8c8d7ffed15b6e419169067e1f04a9cb,openstack/manila,stable/train,I5e6b855e8c8d7ffed15b6e419169067e1f04a9cb,[stable/train] Update requirements and constraints,MERGED,2021-01-10 08:14:23.000000000,2021-01-12 19:54:58.000000000,2021-01-12 19:53:30.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-01-10 08:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/49c4b9d8f7aef7ee69fbf0d6504b8b9aeedd00fb', 'message': '[stable/train] Update version of psycopg-binary\n\npip 20.3 brings in a strict dependency resolver which\nis enabled by default. This causes our lower-constraints\ntests to fail, because the lower constraints file was out\nof date with reality. Only one test requirement had to\nbe updated on this stable branch: psycopg2-binary\n\n[1] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html\n[2] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020\n\nChange-Id: I5e6b855e8c8d7ffed15b6e419169067e1f04a9cb\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2021-01-10 08:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8c3901451798d980f0383b5e721030a7d5368425', 'message': '[stable/train] Update version of bashate\n\npip 20.3 brings in a strict dependency resolver which\nis enabled by default. This causes our lower-constraints\ntests to fail, because the lower constraints file was out\nof date with reality. Only one test requirement had to\nbe updated on this stable branch: bashate\n\n[1] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html\n[2] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020\n\nChange-Id: I5e6b855e8c8d7ffed15b6e419169067e1f04a9cb\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2021-01-10 08:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4b0bc671f7237c5439855bb9cb83689abffa1bc8', 'message': '[stable/train] Update version of bashate\n\npip 20.3 brings in a strict dependency resolver which\nis enabled by default. This causes our lower-constraints\ntests to fail, because the lower constraints file was out\nof date with reality. Only one test requirement had to\nbe updated on this stable branch: bashate\n\n[1] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html\n[2] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020\n\nChange-Id: I5e6b855e8c8d7ffed15b6e419169067e1f04a9cb\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 4, 'created': '2021-01-11 02:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a3ace657862b1fc1a7b004cc4d3b07e5c3eef655', 'message': '[stable/train] Drop tox\'s install_command\n\npip 20.3 brings in a strict dependency resolver which\nis enabled by default. This dependency resolver\nunearthed the error in our tox file where we\nwere constraining our lower-constraints job with both\nupper and lower constraints files.\n\nThe upper constraint file was being pulled in because\nwe had an unnecessary ""pip install"" command added as\n""install_command"". We have removed the use of\ninstall_command from ussuri [1]; but the older branches\nneed to be addressed.\n\nThis commit also alters the minimum version of\npsycopg2-binary (2.6.2-->2.8.3) which is only required\nin unit tests; and matches the versions of MarkupSafe\nand psutil, both transitive dependencies to the\nversions required by the packages that need them,\ncapped with the upper-constraints published in the\ntrain cycle.\n\n[1] I6344f44fb955d631a4f0a13fa53ecc19826c7ea6\n[2] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html\n[3] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020\n\nChange-Id: I5e6b855e8c8d7ffed15b6e419169067e1f04a9cb\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 5, 'created': '2021-01-11 02:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/af4db761f473a1194ab9f48a0f5e54243cda84ca', 'message': '[stable/train] Drop tox\'s install_command\n\npip 20.3 brings in a strict dependency resolver which\nis enabled by default. This dependency resolver\nunearthed the error in our tox file where we\nwere constraining our lower-constraints job with both\nupper and lower constraints files.\n\nThe upper constraint file was being pulled in because\nwe had an unnecessary ""pip install"" command added as\n""install_command"". We have removed the use of\ninstall_command from ussuri [1]; but the older branches\nneed to be addressed.\n\nThis commit also alters the minimum version of\npsycopg2-binary (2.6.2-->2.8.3) which is only required\nin unit tests; and matches the versions of MarkupSafe\nand psutil, both transitive dependencies to the\nversions required by the packages that need them,\ncapped with the upper-constraints published in the\ntrain cycle.\n\n[1] I6344f44fb955d631a4f0a13fa53ecc19826c7ea6\n[2] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html\n[3] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020\n\nChange-Id: I5e6b855e8c8d7ffed15b6e419169067e1f04a9cb\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 6, 'created': '2021-01-11 22:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c1f92fac227989d02a65cc4f981b28d93bca50b2', 'message': '[stable/train] Update requirements and constraints\n\npip 20.3 brings in a strict dependency resolver which\nis enabled by default. This dependency resolver\nunearthed the error in our tox file where we\nwere constraining our lower-constraints job with both\nupper and lower constraints files.\n\nThe upper constraint file was being pulled in because\nwe had an unnecessary ""pip install"" command added as\n""install_command"". We have removed the use of\ninstall_command from ussuri [1]; but the older branches\nneed to be addressed.\n\nAs a result of fixing our tests, we\'re also\nhaving to update the lower bounds of some\nrequirements on this branch.\n\nVersion changes for direct dependencies:\n* eventlet (0.18.2 --> 0.24.1)\n(0.25.2 is the upper-constraint)\n* oslo.messaging (5.29.0 --> 6.4.1)\n(6.4.1 was released 2018 June, during Rocky)[4]\n* psycopg2-binary (2.6.2-->2.8.3)\n(psycopg2-binary is a unit test requirement)\n\nVersion changes for transitive dependencies:\n* MarkupSafe (1.0 --> 1.1.1)\n(1.1.1 is the upper-constraint)\n* psutil (5.4.3 --> 5.6.3)\n(5.6.3 is the upper-constraint)\n\n[1] I6344f44fb955d631a4f0a13fa53ecc19826c7ea6\n[2] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html\n[3] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020\n[4] http://lists.openstack.org/pipermail/release-announce/2018-June/005341.html\n\nChange-Id: I5e6b855e8c8d7ffed15b6e419169067e1f04a9cb\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 7, 'created': '2021-01-12 00:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a684d7ddc1653b60bb9e4fdb0d5dfefc96e07619', 'message': '[stable/train] Update requirements and constraints\n\npip 20.3 brings in a strict dependency resolver which\nis enabled by default. This dependency resolver\nunearthed the error in our tox file where we\nwere constraining our lower-constraints job with both\nupper and lower constraints files.\n\nThe upper constraint file was being pulled in because\nwe had an unnecessary ""pip install"" command added as\n""install_command"". We have removed the use of\ninstall_command from ussuri [1]; but the older branches\nneed to be addressed.\n\nAs a result of fixing our tests, we\'re also\nhaving to update the lower bounds of some\nrequirements on this branch.\n\nVersion changes for direct dependencies:\n* eventlet (0.18.2 --> 0.24.1)\n(0.25.2 is the upper-constraint)\n* oslo.messaging (5.29.0 --> 6.4.1)\n(6.4.1 was released 2018 June, during Rocky [4]\nupper-constraint is 10.2.2)\noslo.service (1.24.0 --> 1.31.0)\n(1.31.0 was released 2018 April, during Rocky [5]\nupper-constraint is 1.40.2)\n* psycopg2-binary (2.6.2-->2.8.3)\n(psycopg2-binary is a unit test requirement)\n* bashate (0.5.0 --> 0.6.0)\n(bashate is a linting test requirement)\n\nVersion changes for transitive dependencies:\n* MarkupSafe (1.0 --> 1.1.1)\n(1.1.1 is the upper-constraint)\n* psutil (5.4.3 --> 5.6.3)\n(5.6.3 is the upper-constraint)\n\n[1] I6344f44fb955d631a4f0a13fa53ecc19826c7ea6\n[2] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html\n[3] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020\n[4] http://lists.openstack.org/pipermail/release-announce/2018-June/005341.html\n[5] http://lists.openstack.org/pipermail/release-announce/2018-April/004759.html\n\nChange-Id: I5e6b855e8c8d7ffed15b6e419169067e1f04a9cb\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 8, 'created': '2021-01-12 00:40:24.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/manila/commit/bff8a0d99ed73dfd494706f517d0bb1576365dd8', 'message': '[stable/train] Update requirements and constraints\n\npip 20.3 brings in a strict dependency resolver which\nis enabled by default. This dependency resolver\nunearthed the error in our tox file where we\nwere constraining our lower-constraints job with both\nupper and lower constraints files.\n\nThe upper constraint file was being pulled in because\nwe had an unnecessary ""pip install"" command added as\n""install_command"". We have removed the use of\ninstall_command from ussuri [1]; but the older branches\nneed to be addressed.\n\nAs a result of fixing our tests, we\'re also\nhaving to update the lower bounds of some\nrequirements on this branch.\n\nVersion changes for direct dependencies:\n* eventlet (0.18.2 --> 0.24.1)\n(0.25.2 is the upper-constraint)\n* oslo.messaging (5.29.0 --> 6.4.1)\n(6.4.1 was released 2018 June, during Rocky [4]\nupper-constraint is 10.2.2)\noslo.service (1.24.0 --> 1.31.0)\n(1.31.0 was released 2018 April, during Rocky [5]\nupper-constraint is 1.40.2)\n* psycopg2-binary (2.6.2-->2.8.3)\n(psycopg2-binary is a unit test requirement)\n* bashate (0.5.0 --> 0.6.0)\n(bashate is a linting test requirement)\n\nVersion changes for transitive dependencies:\n* MarkupSafe (1.0 --> 1.1.1)\n(1.1.1 is the upper-constraint)\n* psutil (5.4.3 --> 5.6.3)\n(5.6.3 is the upper-constraint)\n\n[1] I6344f44fb955d631a4f0a13fa53ecc19826c7ea6\n[2] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html\n[3] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020\n[4] http://lists.openstack.org/pipermail/release-announce/2018-June/005341.html\n[5] http://lists.openstack.org/pipermail/release-announce/2018-April/004759.html\n\nChange-Id: I5e6b855e8c8d7ffed15b6e419169067e1f04a9cb\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,770053,bff8a0d99ed73dfd494706f517d0bb1576365dd8,33,4,8,16643,,,0,"[stable/train] Update requirements and constraints

pip 20.3 brings in a strict dependency resolver which
is enabled by default. This dependency resolver
unearthed the error in our tox file where we
were constraining our lower-constraints job with both
upper and lower constraints files.

The upper constraint file was being pulled in because
we had an unnecessary ""pip install"" command added as
""install_command"". We have removed the use of
install_command from ussuri [1]; but the older branches
need to be addressed.

As a result of fixing our tests, we're also
having to update the lower bounds of some
requirements on this branch.

Version changes for direct dependencies:
* eventlet (0.18.2 --> 0.24.1)
(0.25.2 is the upper-constraint)
* oslo.messaging (5.29.0 --> 6.4.1)
(6.4.1 was released 2018 June, during Rocky [4]
upper-constraint is 10.2.2)
oslo.service (1.24.0 --> 1.31.0)
(1.31.0 was released 2018 April, during Rocky [5]
upper-constraint is 1.40.2)
* psycopg2-binary (2.6.2-->2.8.3)
(psycopg2-binary is a unit test requirement)
* bashate (0.5.0 --> 0.6.0)
(bashate is a linting test requirement)

Version changes for transitive dependencies:
* MarkupSafe (1.0 --> 1.1.1)
(1.1.1 is the upper-constraint)
* psutil (5.4.3 --> 5.6.3)
(5.6.3 is the upper-constraint)

[1] I6344f44fb955d631a4f0a13fa53ecc19826c7ea6
[2] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html
[3] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020
[4] http://lists.openstack.org/pipermail/release-announce/2018-June/005341.html
[5] http://lists.openstack.org/pipermail/release-announce/2018-April/004759.html

Change-Id: I5e6b855e8c8d7ffed15b6e419169067e1f04a9cb
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/53/770053/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,49c4b9d8f7aef7ee69fbf0d6504b8b9aeedd00fb,update-requirements,psycopg2-binary==2.8.5,psycopg2-binary==2.6.2,2,2
openstack%2Fproject-config~master~Ifdf82236ea343edaacacf7bdb7da5fff53960fbc,openstack/project-config,master,Ifdf82236ea343edaacacf7bdb7da5fff53960fbc,Use StoryBoard for sandbox repos,MERGED,2020-10-23 15:04:38.000000000,2021-01-12 19:44:28.000000000,2021-01-12 19:13:40.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 16708}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-10-23 15:04:38.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7b3ede67f0b5da729e7d61ebf3325322462a8e05', 'message': ""Use StoryBoard for sandbox repos\n\nMake sure OpenDev's sandbox repositories use StoryBoard integration\nso they can be leveraged for SB training/demonstrations. Also place\nthem into a common SB group for ease of discoverability.\n\nChange-Id: Ifdf82236ea343edaacacf7bdb7da5fff53960fbc\n""}]",0,759450,7b3ede67f0b5da729e7d61ebf3325322462a8e05,10,5,1,5263,,,0,"Use StoryBoard for sandbox repos

Make sure OpenDev's sandbox repositories use StoryBoard integration
so they can be leveraged for SB training/demonstrations. Also place
them into a common SB group for ease of discoverability.

Change-Id: Ifdf82236ea343edaacacf7bdb7da5fff53960fbc
",git fetch https://review.opendev.org/openstack/project-config refs/changes/50/759450/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,7b3ede67f0b5da729e7d61ebf3325322462a8e05,storyboard-sandboxes, groups: - sandbox use-storyboard: true groups: - sandbox use-storyboard: true groups: - sandbox, groups: - openstack-dev-sandbox,7,1
openstack%2Ftripleo-ansible~master~I212b1ff9b46fb4fa4543e64722d8cfec9fcd0ffd,openstack/tripleo-ansible,master,I212b1ff9b46fb4fa4543e64722d8cfec9fcd0ffd,WIP fix tripleo-podman test job,ABANDONED,2021-01-11 11:21:00.000000000,2021-01-12 19:37:35.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-11 11:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d9c13b927a837ab23bc9b2558fc8e3ae30d1e115', 'message': 'WIP fix tripleo-podman test job\n\nChange-Id: I212b1ff9b46fb4fa4543e64722d8cfec9fcd0ffd\n'}, {'number': 2, 'created': '2021-01-11 15:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e464c5406a8f99e3687ca1ebb0c00cd1bdfb8d68', 'message': 'WIP fix tripleo-podman test job\n\nChange-Id: I212b1ff9b46fb4fa4543e64722d8cfec9fcd0ffd\n'}, {'number': 3, 'created': '2021-01-11 21:42:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/967d12edc500f29ca9c4bf4f5adc6d2e4959c1c6', 'message': 'WIP fix tripleo-podman test job\n\nChange-Id: I212b1ff9b46fb4fa4543e64722d8cfec9fcd0ffd\n'}, {'number': 4, 'created': '2021-01-11 23:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6f03252b1e616ca802dc0d7be4d72c56ef68fddf', 'message': 'WIP fix tripleo-podman test job\n\nChange-Id: I212b1ff9b46fb4fa4543e64722d8cfec9fcd0ffd\n'}, {'number': 5, 'created': '2021-01-12 17:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9d5b51bc207e92bdf5f6d44ef6429734f9d2e174', 'message': 'WIP fix tripleo-podman test job\n\nChange-Id: I212b1ff9b46fb4fa4543e64722d8cfec9fcd0ffd\n'}, {'number': 6, 'created': '2021-01-12 18:46:11.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/molecule/login/prepare.yml', 'zuul.d/molecule.yaml', 'zuul.d/layout.yaml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_login.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/786b45b5d977d7ba91fd7b1283ba1f5c105719ef', 'message': 'WIP fix tripleo-podman test job\n\nChange-Id: I212b1ff9b46fb4fa4543e64722d8cfec9fcd0ffd\n'}]",0,770104,786b45b5d977d7ba91fd7b1283ba1f5c105719ef,16,3,6,10969,,,0,"WIP fix tripleo-podman test job

Change-Id: I212b1ff9b46fb4fa4543e64722d8cfec9fcd0ffd
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/04/770104/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_login.yml'],1,d9c13b927a837ab23bc9b2558fc8e3ae30d1e115,podman,- name: debug tripleo_podman_hide_sensitive_logs debug: var: tripleo_podman_hide_sensitive_logs no_log: false," no_log: ""{{ tripleo_podman_hide_sensitive_logs | bool }}""",4,1
openstack%2Fproject-config~master~Iea178dad657b20aef5197b85e7be6287d8fa6eff,openstack/project-config,master,Iea178dad657b20aef5197b85e7be6287d8fa6eff,Remove openstack/monasca-analytics,MERGED,2020-09-15 08:46:38.000000000,2021-01-12 19:37:22.000000000,2021-01-12 18:55:19.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-09-15 08:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d6f421ec77f870ac74452c347e8f52087f88230a', 'message': 'Remove openstack/monasca-analytics\n\nThis is step 3 of the project retirement process as described in [1].\nProject retirement has been anounced here [2].\n\n[1] https://docs.opendev.org/opendev/infra-manual/latest/drivers.html#step-3-remove-project-from-infrastructure-systems\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016830.html\n\nDepends-On: https://review.opendev.org/751992\nChange-Id: Iea178dad657b20aef5197b85e7be6287d8fa6eff\n'}, {'number': 2, 'created': '2020-10-22 13:20:51.000000000', 'files': ['zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/openstack/monasca-analytics.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/486ca826421156ad150dbe57b5b89451f61561a1', 'message': 'Remove openstack/monasca-analytics\n\nThis is step 3 of the project retirement process as described in [1].\nProject retirement has been anounced here [2].\n\n[1] https://docs.opendev.org/opendev/infra-manual/latest/drivers.html#step-3-remove-project-from-infrastructure-systems\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016830.html\n\nDepends-On: https://review.opendev.org/751992\nChange-Id: Iea178dad657b20aef5197b85e7be6287d8fa6eff\n'}]",1,751993,486ca826421156ad150dbe57b5b89451f61561a1,12,4,2,16222,,,0,"Remove openstack/monasca-analytics

This is step 3 of the project retirement process as described in [1].
Project retirement has been anounced here [2].

[1] https://docs.opendev.org/opendev/infra-manual/latest/drivers.html#step-3-remove-project-from-infrastructure-systems
[2] http://lists.openstack.org/pipermail/openstack-discuss/2020-August/016830.html

Depends-On: https://review.opendev.org/751992
Change-Id: Iea178dad657b20aef5197b85e7be6287d8fa6eff
",git fetch https://review.opendev.org/openstack/project-config refs/changes/93/751993/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/openstack/monasca-analytics.config']",4,d6f421ec77f870ac74452c347e8f52087f88230a,monasca-analytics,,"[access ""refs/heads/*""] abandon = group monasca-analytics-core label-Code-Review = -2..+2 group monasca-analytics-core label-Workflow = -1..+1 group monasca-analytics-core [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",2,19
openstack%2Fproject-config~master~I0f74f0000b6639be2be9e8537a2b4cacdfc21e97,openstack/project-config,master,I0f74f0000b6639be2be9e8537a2b4cacdfc21e97,Add Backport-Candidate label for nova deliverables,ABANDONED,2020-08-27 08:49:44.000000000,2021-01-12 19:19:53.000000000,,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-27 08:49:44.000000000', 'files': ['gerrit/acls/openstack/os-vif.config', 'gerrit/acls/openstack/nova.config', 'gerrit/acls/openstack/python-novaclient.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/81bf17a31076bdbc9c35ec74d6129c62c354c57d', 'message': 'Add Backport-Candidate label for nova deliverables\n\nList of deliverables taken from [1].\n\n[1] https://releases.openstack.org/teams/nova.html\n\nChange-Id: I0f74f0000b6639be2be9e8537a2b4cacdfc21e97\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,748377,81bf17a31076bdbc9c35ec74d6129c62c354c57d,7,3,1,15334,,,0,"Add Backport-Candidate label for nova deliverables

List of deliverables taken from [1].

[1] https://releases.openstack.org/teams/nova.html

Change-Id: I0f74f0000b6639be2be9e8537a2b4cacdfc21e97
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/77/748377/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/os-vif.config', 'gerrit/acls/openstack/nova.config', 'gerrit/acls/openstack/python-novaclient.config']",3,81bf17a31076bdbc9c35ec74d6129c62c354c57d,backport_candidates,"label-Backport-Candidate = -1..+1 group nova-core[label ""Backport-Candidate""] copyAllScoresIfNoCodeChange = true copyAllScoresOnTrivialRebase = true copyMaxScore = true copyMinScore = true defaultValue = 0 function = NoBlock value = -1 Not A Backport Candidate value = 0 Backport Review Needed value = +1 Proposed Backport ",,36,0
openstack%2Fpuppet-openstack-integration~master~I8f880d331b0f0ace80f8acb8e592580b0e255ef5,openstack/puppet-openstack-integration,master,I8f880d331b0f0ace80f8acb8e592580b0e255ef5,Add missing nodeset for libraries litmus job on CentOS8,MERGED,2021-01-12 06:26:01.000000000,2021-01-12 19:00:23.000000000,2021-01-12 19:00:23.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 06:26:01.000000000', 'files': ['zuul.d/litmus.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e3ab41550e98b5fba08ca34f3ee83b0bfd2878f1', 'message': 'Add missing nodeset for libraries litmus job on CentOS8\n\nThis job should be executed on CentOS8, so nodeset should be set\naccordingly.\n\nChange-Id: I8f880d331b0f0ace80f8acb8e592580b0e255ef5\n'}]",0,770233,e3ab41550e98b5fba08ca34f3ee83b0bfd2878f1,7,3,1,9816,,,0,"Add missing nodeset for libraries litmus job on CentOS8

This job should be executed on CentOS8, so nodeset should be set
accordingly.

Change-Id: I8f880d331b0f0ace80f8acb8e592580b0e255ef5
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/33/770233/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/litmus.yaml'],1,e3ab41550e98b5fba08ca34f3ee83b0bfd2878f1,litmus-libraries-c8, nodeset: centos-8,,1,0
openstack%2Fproject-config~master~I968cc099fc84eb6105e16db17f323433229079f1,openstack/project-config,master,I968cc099fc84eb6105e16db17f323433229079f1,Don't use the local docker caches,NEW,2020-10-29 17:09:44.000000000,2021-01-12 18:46:14.000000000,,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-29 17:09:44.000000000', 'files': ['zuul/site-variables.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/92cdbfef7cfd2c33a147a0c1fdfdbf5d20da93b6', 'message': ""Don't use the local docker caches\n\nDocker hub is changing its rate limit policy and in doing so will likely\ncause our existing proxy caches to break as all requests for docker\nmanifests will be funneled through a single IP address and we can't\neasily cache these in the existing apache setup. We set our\ndocker_mirror value to docker hub proper which will cause requests to\noriginate from our test notes diversifying the source addresses.\n\nNote this isn't intended to be a fix but a short term mitigation. We\nwill likely need so solve this more directly.\n\nChange-Id: I968cc099fc84eb6105e16db17f323433229079f1\n""}]",0,760419,92cdbfef7cfd2c33a147a0c1fdfdbf5d20da93b6,3,2,1,4146,,,0,"Don't use the local docker caches

Docker hub is changing its rate limit policy and in doing so will likely
cause our existing proxy caches to break as all requests for docker
manifests will be funneled through a single IP address and we can't
easily cache these in the existing apache setup. We set our
docker_mirror value to docker hub proper which will cause requests to
originate from our test notes diversifying the source addresses.

Note this isn't intended to be a fix but a short term mitigation. We
will likely need so solve this more directly.

Change-Id: I968cc099fc84eb6105e16db17f323433229079f1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/19/760419/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/site-variables.yaml'],1,92cdbfef7cfd2c33a147a0c1fdfdbf5d20da93b6,dont-use-local-docker-cache,# Set docker_mirror to docker hub to avoid any attempt at using our mirror_fqdn # above. The reason for this is new rate limits will go into effect and # funneling all requests through our existing proxy caches will hit those # limits more quickly. docker_mirror: 'https://registry.hub.docker.com',,5,0
openstack%2Fopenstacksdk~master~I19c7b3b5346c316f7fec0f403a6f071cb30a2b46,openstack/openstacksdk,master,I19c7b3b5346c316f7fec0f403a6f071cb30a2b46,Refresh deprecated link,MERGED,2021-01-02 01:10:20.000000000,2021-01-12 18:44:09.000000000,2021-01-12 18:40:31.000000000,"[{'_account_id': 10239}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-01-02 01:10:20.000000000', 'files': ['openstack/accelerator/v2/accelerator_request.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d4c1cdc689d9368593207fda2b7116afb872f7c2', 'message': 'Refresh deprecated link\n\nChange-Id: I19c7b3b5346c316f7fec0f403a6f071cb30a2b46\n'}]",0,768824,d4c1cdc689d9368593207fda2b7116afb872f7c2,7,4,1,31412,,,0,"Refresh deprecated link

Change-Id: I19c7b3b5346c316f7fec0f403a6f071cb30a2b46
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/24/768824/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/accelerator/v2/accelerator_request.py'],1,d4c1cdc689d9368593207fda2b7116afb872f7c2,, # https://specs.openstack.org/openstack/cyborg-specs/specs/train/implemented/cyborg-api # https://specs.openstack.org/openstack/cyborg-specs/specs/train/implemented/cyborg-api # https://specs.openstack.org/openstack/cyborg-specs/specs/train/implemented/cyborg-api, # https://specs.openstack.org/openstack/cyborg-specs/specs/train/approved/cyborg-api # https://specs.openstack.org/openstack/cyborg-specs/specs/train/approved/cyborg-api # https://specs.openstack.org/openstack/cyborg-specs/specs/train/approved/cyborg-api,3,3
openstack%2Fpuppet-openstack-integration~stable%2Fussuri~Ic92889cc480c316df9454186ffadf3a77fd8ed26,openstack/puppet-openstack-integration,stable/ussuri,Ic92889cc480c316df9454186ffadf3a77fd8ed26,Disable selinux defaults enforcement in File/Concat resources,MERGED,2021-01-12 05:55:51.000000000,2021-01-12 18:43:55.000000000,2021-01-12 18:43:55.000000000,"[{'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 05:55:51.000000000', 'files': ['fixtures/scenario001.pp', 'fixtures/scenario002.pp', 'fixtures/scenario003.pp', 'fixtures/scenario004.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b0a4c9ff12c3c405bfccff55fd147ffa83dbc419', 'message': ""Disable selinux defaults enforcement in File/Concat resources\n\nLast selinux-policy in CentOS Stream adds patch for [1] which modifies\ndefault context for symlinks under /etc/httpd. That's breaking\nidempotency for files created with File/Concat resources under that directory\nbecause of [2].\n\nThis patch is disabling default selinux context enforcement for all\nFile/Concat resources until we have a fix for [2].\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1900650\n[2] https://tickets.puppetlabs.com/browse/PUP-7559\n\nConflicts:\n  fixtures/scenario001.pp\n  fixtures/scenario004.pp\n\nChange-Id: Ic92889cc480c316df9454186ffadf3a77fd8ed26\n(cherry picked from commit 0f00dde75739314270c493528b2160bb80e60ca2)\n""}]",0,770179,b0a4c9ff12c3c405bfccff55fd147ffa83dbc419,7,3,1,13861,,,0,"Disable selinux defaults enforcement in File/Concat resources

Last selinux-policy in CentOS Stream adds patch for [1] which modifies
default context for symlinks under /etc/httpd. That's breaking
idempotency for files created with File/Concat resources under that directory
because of [2].

This patch is disabling default selinux context enforcement for all
File/Concat resources until we have a fix for [2].

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1900650
[2] https://tickets.puppetlabs.com/browse/PUP-7559

Conflicts:
  fixtures/scenario001.pp
  fixtures/scenario004.pp

Change-Id: Ic92889cc480c316df9454186ffadf3a77fd8ed26
(cherry picked from commit 0f00dde75739314270c493528b2160bb80e60ca2)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/79/770179/1 && git format-patch -1 --stdout FETCH_HEAD,"['fixtures/scenario001.pp', 'fixtures/scenario002.pp', 'fixtures/scenario003.pp', 'fixtures/scenario004.pp']",4,b0a4c9ff12c3c405bfccff55fd147ffa83dbc419,,if $::osfamily == 'RedHat' { # (amoralej) - disable selinux defaults until # https://tickets.puppetlabs.com/browse/PUP-7559 is fixed Concat { selinux_ignore_defaults => true } File { selinux_ignore_defaults => true } } ,,28,0
openstack%2Fpuppet-openstack-integration~stable%2Fvictoria~Ic92889cc480c316df9454186ffadf3a77fd8ed26,openstack/puppet-openstack-integration,stable/victoria,Ic92889cc480c316df9454186ffadf3a77fd8ed26,Disable selinux defaults enforcement in File/Concat resources,MERGED,2021-01-12 05:54:44.000000000,2021-01-12 18:43:51.000000000,2021-01-12 18:43:51.000000000,"[{'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 05:54:44.000000000', 'files': ['fixtures/scenario001.pp', 'fixtures/scenario002.pp', 'fixtures/scenario003.pp', 'fixtures/scenario004.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/bacbfa9baf39fb41b9d924e07ba2687bb784f239', 'message': ""Disable selinux defaults enforcement in File/Concat resources\n\nLast selinux-policy in CentOS Stream adds patch for [1] which modifies\ndefault context for symlinks under /etc/httpd. That's breaking\nidempotency for files created with File/Concat resources under that directory\nbecause of [2].\n\nThis patch is disabling default selinux context enforcement for all\nFile/Concat resources until we have a fix for [2].\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1900650\n[2] https://tickets.puppetlabs.com/browse/PUP-7559\n\nConflicts:\n  fixtures/scenario001.pp\n  fixtures/scenario004.pp\n\nChange-Id: Ic92889cc480c316df9454186ffadf3a77fd8ed26\n(cherry picked from commit 0f00dde75739314270c493528b2160bb80e60ca2)\n""}]",0,770231,bacbfa9baf39fb41b9d924e07ba2687bb784f239,7,3,1,13861,,,0,"Disable selinux defaults enforcement in File/Concat resources

Last selinux-policy in CentOS Stream adds patch for [1] which modifies
default context for symlinks under /etc/httpd. That's breaking
idempotency for files created with File/Concat resources under that directory
because of [2].

This patch is disabling default selinux context enforcement for all
File/Concat resources until we have a fix for [2].

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1900650
[2] https://tickets.puppetlabs.com/browse/PUP-7559

Conflicts:
  fixtures/scenario001.pp
  fixtures/scenario004.pp

Change-Id: Ic92889cc480c316df9454186ffadf3a77fd8ed26
(cherry picked from commit 0f00dde75739314270c493528b2160bb80e60ca2)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/31/770231/1 && git format-patch -1 --stdout FETCH_HEAD,"['fixtures/scenario001.pp', 'fixtures/scenario002.pp', 'fixtures/scenario003.pp', 'fixtures/scenario004.pp']",4,bacbfa9baf39fb41b9d924e07ba2687bb784f239,,if $::osfamily == 'RedHat' { # (amoralej) - disable selinux defaults until # https://tickets.puppetlabs.com/browse/PUP-7559 is fixed Concat { selinux_ignore_defaults => true } File { selinux_ignore_defaults => true } } ,,28,0
openstack%2Fcinder~master~Ibc49d870442a10605558c244ed97ce7671dc594e,openstack/cinder,master,Ibc49d870442a10605558c244ed97ce7671dc594e,LVM: Support only LVM 2.02.107+,MERGED,2021-01-11 15:29:50.000000000,2021-01-12 18:43:07.000000000,2021-01-12 18:41:00.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-11 15:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/817244c6141ae363288ec83668754fa037595501', 'message': 'LVM: Support only LVM 2.02.107+\n\nRequire LVM version 2.02.107 (circa 2014).\n\nWarn if the driver starts on a machine with an\nolder LVM version.\n\nThis is the first version that supports\n""lvs --readonly"".\n\nChange-Id: Ibc49d870442a10605558c244ed97ce7671dc594e\n'}, {'number': 2, 'created': '2021-01-11 22:02:49.000000000', 'files': ['cinder/brick/local_dev/lvm.py', 'cinder/tests/unit/volume/drivers/test_lvm_driver.py', 'releasenotes/notes/lvm-minimum-version-2-02-107-df4551d088f8b5a3.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f19a92064ac8acd5e7d141d83fe90cbef4402f46', 'message': 'LVM: Support only LVM 2.02.107+\n\nRequire LVM version 2.02.107 (circa 2014).\n\nWarn if the driver starts on a machine with an\nolder LVM version.\n\nThis is the first version that supports\n""lvs --readonly"".\n\nChange-Id: Ibc49d870442a10605558c244ed97ce7671dc594e\n'}]",2,770136,f19a92064ac8acd5e7d141d83fe90cbef4402f46,38,3,2,4523,,,0,"LVM: Support only LVM 2.02.107+

Require LVM version 2.02.107 (circa 2014).

Warn if the driver starts on a machine with an
older LVM version.

This is the first version that supports
""lvs --readonly"".

Change-Id: Ibc49d870442a10605558c244ed97ce7671dc594e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/770136/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/brick/local_dev/lvm.py', 'releasenotes/notes/lvm-minimum-version-2-02-107-df4551d088f8b5a3.yaml']",2,817244c6141ae363288ec83668754fa037595501,769552,--- upgrade: - | Cinder now requires LVM version 2.02.107. ,,13,0
openstack%2Fneutron~master~Iff9f415ff4e472cfb03e69c69bf7f2d9fc439abd,openstack/neutron,master,Iff9f415ff4e472cfb03e69c69bf7f2d9fc439abd,doc: Add available_features check to release checklist,MERGED,2021-01-11 12:45:48.000000000,2021-01-12 18:42:58.000000000,2021-01-12 18:40:45.000000000,"[{'_account_id': 1131}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-11 12:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa4b2216acb8db37be04d6dd679cf86dec039e01', 'message': 'doc: Add available_features check to release checklist\n\nChange-Id: Iff9f415ff4e472cfb03e69c69bf7f2d9fc439abd\n'}, {'number': 2, 'created': '2021-01-12 10:05:56.000000000', 'files': ['doc/source/contributor/policies/release-checklist.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1accae79bca1b096f38aa65a760ea913a1af683', 'message': 'doc: Add available_features check to release checklist\n\nChange-Id: Iff9f415ff4e472cfb03e69c69bf7f2d9fc439abd\n'}]",2,770117,e1accae79bca1b096f38aa65a760ea913a1af683,15,5,2,8313,,,0,"doc: Add available_features check to release checklist

Change-Id: Iff9f415ff4e472cfb03e69c69bf7f2d9fc439abd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/770117/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/policies/release-checklist.rst'],1,aa4b2216acb8db37be04d6dd679cf86dec039e01,available_features_pre_release,#. All new Neutron features without an API extension which has new tempest tests (in ``tempest`` or in ``neutron-tempest-plugin``) must have a new item in ``available_features`` list under ``network-feature-enabled`` section in ``tempest.conf``. To make stable jobs execute only the necessary tests the list in devstack (devstack/lib/tempest) must be checked and filled; https://review.opendev.org/c/openstack/devstack/+/769885,,7,0
openstack%2Fopenstacksdk~master~Ie2387c2f262b9a6696358e2874399a095da1ba5e,openstack/openstacksdk,master,Ie2387c2f262b9a6696358e2874399a095da1ba5e,Add support for overriding list base_path in find function,MERGED,2020-12-04 14:57:09.000000000,2021-01-12 18:42:52.000000000,2021-01-12 18:39:51.000000000,"[{'_account_id': 10239}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-04 14:57:09.000000000', 'files': ['openstack/tests/unit/test_resource.py', 'openstack/resource.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e21b017770bc2959866327ca5e389ff60eb184b9', 'message': 'Add support for overriding list base_path in find function\n\nIn case of some resources we might want to override base_path for list\nfunction invoked by find (find resource using /details path).\n\nChange-Id: Ie2387c2f262b9a6696358e2874399a095da1ba5e\n'}]",0,765546,e21b017770bc2959866327ca5e389ff60eb184b9,11,3,1,27900,,,0,"Add support for overriding list base_path in find function

In case of some resources we might want to override base_path for list
function invoked by find (find resource using /details path).

Change-Id: Ie2387c2f262b9a6696358e2874399a095da1ba5e
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/46/765546/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/test_resource.py', 'openstack/resource.py']",2,e21b017770bc2959866327ca5e389ff60eb184b9,," def find( cls, session, name_or_id, ignore_missing=True, list_base_path=None, **params ): the request. The default is ``None``. :class:`~openstack.exceptions.ResourceNotFound` will be raised when the resource does not exist. When set to ``True``, None will be returned when attempting to find a nonexistent resource. :param str list_base_path: base_path to be used when need listing resources. underlying methods, such as to :meth:`~openstack.resource.Resource.existing` in order to pass on URI parameters. if list_base_path: params['base_path'] = list_base_path "," def find(cls, session, name_or_id, ignore_missing=True, **params): the request. The default is ``None``. :class:`~openstack.exceptions.ResourceNotFound` will be raised when the resource does not exist. When set to ``True``, None will be returned when attempting to find a nonexistent resource. underlying methods, such as to :meth:`~openstack.resource.Resource.existing` in order to pass on URI parameters.",33,10
openstack%2Ftempest~master~I38f4416641e396caf88d16e3b418f0fc7577179d,openstack/tempest,master,I38f4416641e396caf88d16e3b418f0fc7577179d,Use CONF.identity.disable_ssl_certificate_validation in object_client,MERGED,2020-12-11 03:14:56.000000000,2021-01-12 18:42:50.000000000,2021-01-12 18:39:34.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30742}]","[{'number': 1, 'created': '2020-12-11 03:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f4e05e889a893141b8a25d38bfe5ca8d4181ac7e', 'message': 'Use CONF.identity.disable_ssl_certificate_validation in object_client\n\ncreate_object_continue interface in object_client doesn\'t use\nCONF.identity.disable_ssl_certificate_validation, so even if we set\ndisable_ssl_certificate_validation=true in tempest.conf, sometimes\nwe will still get ""ssl.SSLCertVerificationError:\n[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed:\nunable to get local issuer certificate (_ssl.c:1108)""\n\nSo create_object_continue should judge whether to check ssl\ncertification according to\nCONF.identity.disable_ssl_certificate_validation.\n\nChange-Id: I38f4416641e396caf88d16e3b418f0fc7577179d\nCloses-Bug: #1907554\n'}, {'number': 2, 'created': '2020-12-11 06:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fc1734cb9a32a2eeb7d918c018a00eae3e37c892', 'message': 'Use CONF.identity.disable_ssl_certificate_validation in object_client\n\ncreate_object_continue interface in object_client doesn\'t use\nCONF.identity.disable_ssl_certificate_validation, so even if we set\ndisable_ssl_certificate_validation=true in tempest.conf, sometimes\nwe will still get ""ssl.SSLCertVerificationError:\n[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed:\nunable to get local issuer certificate (_ssl.c:1108)""\n\nSo create_object_continue should judge whether to check ssl\ncertification according to\nCONF.identity.disable_ssl_certificate_validation.\n\nChange-Id: I38f4416641e396caf88d16e3b418f0fc7577179d\nCloses-Bug: #1907554\n'}, {'number': 3, 'created': '2021-01-12 01:21:22.000000000', 'files': ['tempest/lib/common/rest_client.py', 'tempest/tests/lib/services/object_storage/test_object_client.py', 'tempest/lib/services/object_storage/object_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8464cefbf1e82a1ef19d28b8cfbec39cc77f0196', 'message': 'Use CONF.identity.disable_ssl_certificate_validation in object_client\n\ncreate_object_continue interface in object_client doesn\'t use\nCONF.identity.disable_ssl_certificate_validation, so even if we set\ndisable_ssl_certificate_validation=true in tempest.conf, sometimes\nwe will still get ""ssl.SSLCertVerificationError:\n[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed:\nunable to get local issuer certificate (_ssl.c:1108)""\n\nSo create_object_continue should judge whether to check ssl\ncertification according to\nCONF.identity.disable_ssl_certificate_validation.\n\nChange-Id: I38f4416641e396caf88d16e3b418f0fc7577179d\nCloses-Bug: #1907554\n'}]",4,766658,8464cefbf1e82a1ef19d28b8cfbec39cc77f0196,20,5,3,20190,,,0,"Use CONF.identity.disable_ssl_certificate_validation in object_client

create_object_continue interface in object_client doesn't use
CONF.identity.disable_ssl_certificate_validation, so even if we set
disable_ssl_certificate_validation=true in tempest.conf, sometimes
we will still get ""ssl.SSLCertVerificationError:
[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed:
unable to get local issuer certificate (_ssl.c:1108)""

So create_object_continue should judge whether to check ssl
certification according to
CONF.identity.disable_ssl_certificate_validation.

Change-Id: I38f4416641e396caf88d16e3b418f0fc7577179d
Closes-Bug: #1907554
",git fetch https://review.opendev.org/openstack/tempest refs/changes/58/766658/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/common/rest_client.py', 'tempest/lib/services/object_storage/object_client.py']",2,f4e05e889a893141b8a25d38bfe5ca8d4181ac7e,swift_ssl,"import ssl conn = self._create_connection(parsed) def _create_connection(self, parsed_url): """"""Helper function to create connection with httplib :param parsed_url: parsed url of the remote location """""" context = None # If CONF.identity.disable_ssl_certificate_validation is false, # do not check ssl certification. if self.dscv: context = ssl._create_unverified_context() if parsed_url.scheme == 'https': conn = httplib.HTTPSConnection(parsed_url.netloc, context=context) else: conn = httplib.HTTPConnection(parsed_url.netloc, context=context) return conn"," conn = _create_connection(parsed) def _create_connection(parsed_url): """"""Helper function to create connection with httplib :param parsed_url: parsed url of the remote location """""" if parsed_url.scheme == 'https': conn = httplib.HTTPSConnection(parsed_url.netloc) else: conn = httplib.HTTPConnection(parsed_url.netloc) return conn",23,14
openstack%2Fopenstacksdk~master~I04831a3d25db81ac1a37b450faa0da165518a8c2,openstack/openstacksdk,master,I04831a3d25db81ac1a37b450faa0da165518a8c2,Modify cloud.get_aggregate to use proxy.find,MERGED,2020-12-15 15:25:19.000000000,2021-01-12 18:40:22.000000000,2021-01-12 18:40:22.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-15 15:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/134e5a2ebd4c915cc2d891d8ff699de74b1d2fa4', 'message': ""Modify cloud.get_aggregate to use proxy.find\n\nSeems that in some cases old cloud layer is not able to find aggregate\nproperly causing it's deletion to fail. Use the proxy.find method\ninstead of own listing (anyway a proper approach in the long run).\n\nChange-Id: I04831a3d25db81ac1a37b450faa0da165518a8c2\nRequired-By: https://review.opendev.org/c/openstack/devstack/+/766622\n""}, {'number': 2, 'created': '2020-12-16 18:12:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/32e9730ace26edccd67508aa82af82cdfff36c67', 'message': ""Modify cloud.get_aggregate to use proxy.find\n\nSeems that in some cases old cloud layer is not able to find aggregate\nproperly causing it's deletion to fail. Use the proxy.find method\ninstead of own listing (anyway a proper approach in the long run).\n\nChange-Id: I04831a3d25db81ac1a37b450faa0da165518a8c2\nRequired-By: https://review.opendev.org/c/openstack/devstack/+/766622\n""}, {'number': 3, 'created': '2020-12-17 11:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f58ac83241250c8f4ec64102d65e8a0af5f428a5', 'message': ""Modify cloud.get_aggregate to use proxy.find\n\nSeems that in some cases old cloud layer is not able to find aggregate\nproperly causing it's deletion to fail. Use the proxy.find method\ninstead of own listing (anyway a proper approach in the long run).\n\nChange-Id: I04831a3d25db81ac1a37b450faa0da165518a8c2\nRequired-By: https://review.opendev.org/c/openstack/devstack/+/766622\n""}, {'number': 4, 'created': '2021-01-06 09:09:58.000000000', 'files': ['openstack/tests/unit/cloud/test_aggregate.py', 'openstack/cloud/_compute.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4b8f5ff008b67f8fbe1254bf946f611a7cdf77f6', 'message': ""Modify cloud.get_aggregate to use proxy.find\n\nSeems that in some cases old cloud layer is not able to find aggregate\nproperly causing it's deletion to fail. Use the proxy.find method\ninstead of own listing (anyway a proper approach in the long run).\n\nChange-Id: I04831a3d25db81ac1a37b450faa0da165518a8c2\nRequired-By: https://review.opendev.org/c/openstack/devstack/+/766622\n""}]",2,767176,4b8f5ff008b67f8fbe1254bf946f611a7cdf77f6,18,3,4,27900,,,0,"Modify cloud.get_aggregate to use proxy.find

Seems that in some cases old cloud layer is not able to find aggregate
properly causing it's deletion to fail. Use the proxy.find method
instead of own listing (anyway a proper approach in the long run).

Change-Id: I04831a3d25db81ac1a37b450faa0da165518a8c2
Required-By: https://review.opendev.org/c/openstack/devstack/+/766622
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/76/767176/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_compute.py'],1,134e5a2ebd4c915cc2d891d8ff699de74b1d2fa4,," aggregate = self.compute.find_aggregate( name_or_id, ignore_missing=False, **filters) if aggregate: return aggregate._to_munch()"," return _utils._get_entity(self, 'aggregate', name_or_id, filters)",5,1
openstack%2Fopenstacksdk~master~Ib28c6e5b818f6bd76d66af27f11917fd0cac4046,openstack/openstacksdk,master,Ib28c6e5b818f6bd76d66af27f11917fd0cac4046,Trival change: Correct some errors,MERGED,2021-01-02 02:22:50.000000000,2021-01-12 18:40:08.000000000,2021-01-12 18:40:08.000000000,"[{'_account_id': 10239}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-02 02:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0cf1817995fe3c31c23e970145d2dd5d1a074d52', 'message': 'Trival change: Correct some errors\n\nChange-Id: Ib28c6e5b818f6bd76d66af27f11917fd0cac4046\n'}, {'number': 2, 'created': '2021-01-07 00:37:14.000000000', 'files': ['openstack/accelerator/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/67397a9d3009735437a25a173561188260cada2f', 'message': 'Trival change: Correct some errors\n\nChange-Id: Ib28c6e5b818f6bd76d66af27f11917fd0cac4046\n'}]",4,768840,67397a9d3009735437a25a173561188260cada2f,13,5,2,31412,,,0,"Trival change: Correct some errors

Change-Id: Ib28c6e5b818f6bd76d66af27f11917fd0cac4046
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/40/768840/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/accelerator/v2/_proxy.py'],1,0cf1817995fe3c31c23e970145d2dd5d1a074d52,," :param patch: The information to reconfig. device matching the criteria could be found. """"""Create a device_profile. """"""Delete a device profile :param name_or_id: The value can be either the ID or name of a device profile. :returns: The created accelerator request instance. """"""Delete a device profile :param name_or_id: The value can be either the ID or name of :param uuid: The uuid of the accelerator_request to be bound/unbound."," :param patch: The infomation of to reconfig. deployable matching the criteria could be found. """"""Create a device_profiles. """"""Delete an device profile :param name_or_id: The value can be either the ID of an device profile. """"""Delete an device profile :param name_or_id: The value can be either the ID of :param uuid: The uuid of the accelerator_request to be binded/unbinded.",10,9
openstack%2Fopenstack-helm-infra~master~I629d30691d6d3f77646bde7d4838056b117ce091,openstack/openstack-helm-infra,master,I629d30691d6d3f77646bde7d4838056b117ce091,Add elasticsearch snapshot policy template for SLM,MERGED,2020-12-08 14:33:08.000000000,2021-01-12 18:10:29.000000000,2021-01-12 18:08:08.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30582}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-12-08 14:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a1764bdd708f1c7599f8bc110f09ffc60ce628c0', 'message': 'test jenkins pipeline\n\nChange-Id: I629d30691d6d3f77646bde7d4838056b117ce091\n'}, {'number': 2, 'created': '2020-12-08 15:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/55c294053a7004173be12314a061a67889f5726a', 'message': 'test zuul pipeline with no functional change\n\nChange-Id: I629d30691d6d3f77646bde7d4838056b117ce091\n'}, {'number': 3, 'created': '2020-12-09 15:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0c7bde89cb426c043dc43d6bf1c4695457aaed8e', 'message': 'test zuul pipeline with no functional change\n\nChange-Id: I629d30691d6d3f77646bde7d4838056b117ce091\n'}, {'number': 4, 'created': '2020-12-09 15:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e7ae1ce2627af2c8febc432282dca6920ea9e119', 'message': 'test zuul pipeline with no functional change\n\nChange-Id: I629d30691d6d3f77646bde7d4838056b117ce091\n'}, {'number': 5, 'created': '2020-12-10 14:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2f95348fdacc25467609944e4b30cc873c8e93c8', 'message': 'Add elasticsearch snapshot policy template for SLM\n\nADD: new snapshot policy template job which creates templates for\n        ES SLM manager to snapshot indicies instead of curator.\n\nChange-Id: I629d30691d6d3f77646bde7d4838056b117ce091\n'}, {'number': 6, 'created': '2020-12-11 17:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3dfdc61890a225abb5de3c15cad24f7d87af80d9', 'message': 'Add elasticsearch snapshot policy template for SLM\n\nADD: new snapshot policy template job which creates templates for\n        ES SLM manager to snapshot indicies instead of curator.\n\nChange-Id: I629d30691d6d3f77646bde7d4838056b117ce091\n'}, {'number': 7, 'created': '2020-12-15 16:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0e9ceaafd966b81b5042cb429f450de318c84555', 'message': 'Add elasticsearch snapshot policy template for SLM\n\nADD: new snapshot policy template job which creates templates for\n        ES SLM manager to snapshot indicies instead of curator.\n\nChange-Id: I629d30691d6d3f77646bde7d4838056b117ce091\n'}, {'number': 8, 'created': '2020-12-18 15:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eef94519c3b59c6c901b0cc59b158ed3922460c8', 'message': 'Add elasticsearch snapshot policy template for SLM\n\nADD: new snapshot policy template job which creates templates for\n        ES SLM manager to snapshot indicies instead of curator.\n\nChange-Id: I629d30691d6d3f77646bde7d4838056b117ce091\n'}, {'number': 9, 'created': '2020-12-29 15:56:37.000000000', 'files': ['elasticsearch/templates/bin/_create_template.sh.tpl', 'elasticsearch/templates/configmap-etc-templates.yaml', 'elasticsearch/templates/job-elasticsearch-template.yaml', 'elasticsearch/values.yaml', 'elasticsearch/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fcb4681cb16066b075c99b6e757d099fad8d3daa', 'message': 'Add elasticsearch snapshot policy template for SLM\n\nADD: new snapshot policy template job which creates templates for\n        ES SLM manager to snapshot indicies instead of curator.\n\nChange-Id: I629d30691d6d3f77646bde7d4838056b117ce091\n'}]",0,766007,fcb4681cb16066b075c99b6e757d099fad8d3daa,30,4,9,32090,,,0,"Add elasticsearch snapshot policy template for SLM

ADD: new snapshot policy template job which creates templates for
        ES SLM manager to snapshot indicies instead of curator.

Change-Id: I629d30691d6d3f77646bde7d4838056b117ce091
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/07/766007/3 && git format-patch -1 --stdout FETCH_HEAD,['elasticsearch/values.yaml'],1,a1764bdd708f1c7599f8bc110f09ffc60ce628c0,,"snapshot_policies: non-security-snapshots: schedule: ""0 30 1 * * ?"" name: ""<non-security-logs-snapshot-{now/d}>"" repository: logstash_snapshots config: indices: [""^(.*calico-|.*ceph-|.*jenkins-|.*journal-|.*kernel_syslog-|.*kubernetes-|.*libvirt-|.*logstash-|.*openvswitch-|.*utility_access-).*$""] ignore_unavailable: true include_global_state: false wait_for_completion: true max_wait: 64800 wait_interval: 30 ignore_empty_list: true continue_if_exception: true disable_action: false retention: expire_after: 29d security-snapshots: schedule: ""0 30 1 * * ?"" name: ""<security-logs-snapshot-{now/d}>"" repository: logstash_snapshots config: indices: [""^(.*airship-|.*audit_tsee-|.*auth-|.*flows-|.*lma-|.*openstack-).*$""] ignore_unavailable: true include_global_state: false wait_for_completion: true max_wait: 18000 wait_interval: 30 ignore_empty_list: true continue_if_exception: true disable_action: false retention: expire_after: 179d",,33,0
openstack%2Fpython-tripleoclient~stable%2Ftrain~Ie6ddbcce7797d41a289a739e7ed1448660928cf5,openstack/python-tripleoclient,stable/train,Ie6ddbcce7797d41a289a739e7ed1448660928cf5,Wire up new tripleo upgrades jobs template,MERGED,2021-01-05 12:17:39.000000000,2021-01-12 18:10:05.000000000,2021-01-12 18:01:51.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-01-05 12:17:39.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/302d2f2bea19b3b727cd3805a323e729baadae65', 'message': 'Wire up new tripleo upgrades jobs template\n\nThe depends-on adds a new upgrade jobs template which is wired up\nhere. Once wired up across tripleo we can remove excess content\nproviders with [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131\nDepends-On: https://review.opendev.org/761188\n\nChange-Id: Ie6ddbcce7797d41a289a739e7ed1448660928cf5\n'}]",0,769337,302d2f2bea19b3b727cd3805a323e729baadae65,12,6,1,8449,,,0,"Wire up new tripleo upgrades jobs template

The depends-on adds a new upgrade jobs template which is wired up
here. Once wired up across tripleo we can remove excess content
providers with [1].

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131
Depends-On: https://review.opendev.org/761188

Change-Id: Ie6ddbcce7797d41a289a739e7ed1448660928cf5
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/37/769337/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,302d2f2bea19b3b727cd3805a323e729baadae65,reduce-content-providers, - tripleo-upgrades-train-pipeline,,1,0
openstack%2Fansible-role-container-registry~master~I4b969c4148dd4d75b1e629c389392519c096a8a3,openstack/ansible-role-container-registry,master,I4b969c4148dd4d75b1e629c389392519c096a8a3,Fixup requirements,MERGED,2021-01-11 17:41:03.000000000,2021-01-12 18:01:57.000000000,2021-01-12 18:01:57.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-11 17:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/55a9a23932e1da7f75b68a603889c1788527420d', 'message': 'Require ansible <2.10\n\nChange-Id: I4b969c4148dd4d75b1e629c389392519c096a8a3\n'}, {'number': 2, 'created': '2021-01-11 20:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/49458aa3963ac47b5a65fdfb8ac5cb4c036030c4', 'message': 'Require ansible <2.10\n\nChange-Id: I4b969c4148dd4d75b1e629c389392519c096a8a3\n'}, {'number': 3, 'created': '2021-01-11 20:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/486a884a2cae258e54585afb6e615b72943cc069', 'message': 'Require ansible <2.10\n\nChange-Id: I4b969c4148dd4d75b1e629c389392519c096a8a3\n'}, {'number': 4, 'created': '2021-01-11 21:17:03.000000000', 'files': ['ansible-requirements.txt', 'requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ansible-role-container-registry/commit/a0a314ade35f52215216dbeaea97e2d77a7992e4', 'message': 'Fixup requirements\n\nRequire ansible <2.10 and bump hacking\n\nChange-Id: I4b969c4148dd4d75b1e629c389392519c096a8a3\n'}]",0,770164,a0a314ade35f52215216dbeaea97e2d77a7992e4,13,5,4,14985,,,0,"Fixup requirements

Require ansible <2.10 and bump hacking

Change-Id: I4b969c4148dd4d75b1e629c389392519c096a8a3
",git fetch https://review.opendev.org/openstack/ansible-role-container-registry refs/changes/64/770164/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible-requirements.txt', 'requirements.txt']",2,55a9a23932e1da7f75b68a603889c1788527420d,cap-ansible,ansible<2.10,ansible,2,2
openstack%2Ftripleo-upgrade~stable%2Fqueens~I969d901be4eeb93e0abe4e8b06f6c54399b52ea2,openstack/tripleo-upgrade,stable/queens,I969d901be4eeb93e0abe4e8b06f6c54399b52ea2,Workload during updates can be launched with SRIOV ports,MERGED,2020-11-30 09:04:08.000000000,2021-01-12 18:01:54.000000000,2021-01-12 18:01:54.000000000,"[{'_account_id': 6816}, {'_account_id': 11082}, {'_account_id': 11166}, {'_account_id': 18894}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 31291}]","[{'number': 1, 'created': '2020-11-30 09:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/676aafed0bc3bc99de06f42732e3b02910b27eac', 'message': 'Workload during updates can be launched with SRIOV ports\n\nWhen upgrade-workloadsriov is set, workload is generated with an SRIOV\nPF port on the existing external network\nA mechanism has been added to remove workload previously created after\nupdate/upgrade is completed, when upgrade-workloadcleanup is set\n\nChange-Id: I969d901be4eeb93e0abe4e8b06f6c54399b52ea2\n(cherry picked from commit 85c12706d145162d85c2c519e01e35393364d4c8)\n'}, {'number': 2, 'created': '2020-11-30 09:31:32.000000000', 'files': ['tasks/main.yml', 'README.rst', 'infrared_plugin/plugin.spec', 'templates/workload_launch.sh.j2', 'templates/fip_http_check_start.sh.j2', 'infrared_plugin/main.yml', 'templates/nova_actions_check.sh.j2', 'defaults/main.yml', 'templates/l3_agent_start_ping.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8edb5953d87fff22ab18d94cd54878cd7b90206d', 'message': 'Workload during updates can be launched with SRIOV ports\n\nWhen upgrade-workloadsriov is set, workload is generated with an SRIOV\nPF port on the existing external network\nA mechanism has been added to remove workload previously created after\nupdate/upgrade is completed, when upgrade-workloadcleanup is set\n\nChange-Id: I969d901be4eeb93e0abe4e8b06f6c54399b52ea2\n(cherry picked from commit 85c12706d145162d85c2c519e01e35393364d4c8)\n'}]",0,764508,8edb5953d87fff22ab18d94cd54878cd7b90206d,12,8,2,29088,,,0,"Workload during updates can be launched with SRIOV ports

When upgrade-workloadsriov is set, workload is generated with an SRIOV
PF port on the existing external network
A mechanism has been added to remove workload previously created after
update/upgrade is completed, when upgrade-workloadcleanup is set

Change-Id: I969d901be4eeb93e0abe4e8b06f6c54399b52ea2
(cherry picked from commit 85c12706d145162d85c2c519e01e35393364d4c8)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/08/764508/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'README.rst', 'infrared_plugin/plugin.spec', 'templates/fip_http_check_start.sh.j2', 'templates/workload_launch.sh.j2', 'infrared_plugin/main.yml', 'templates/nova_actions_check.sh.j2', 'defaults/main.yml', 'templates/l3_agent_start_ping.sh.j2']",9,676aafed0bc3bc99de06f42732e3b02910b27eac,queens,"if [ -f {{ working_dir }}/vm_ip.sh ]; then source {{ working_dir }}/vm_ip.sh {% if workload_sriov | bool %} echo export VM_IP=$(openstack server list -f json | jq -r -c '.[0][""Networks""]' | cut -d""="" -f2) > {{ working_dir }}/vm_ip.sh {% else %} echo export VM_IP=$(openstack floating ip list -f json | jq -r -c '.[] | select(.Port) | .[""Floating IP Address""]' | head -1) > {{ working_dir }}/vm_ip.sh {% endif %} source {{ working_dir }}/vm_ip.shping -D ${VM_IP} >> ~/ping_results_$(date +%Y%m%d%H%M).log &","if [ -f {{ working_dir }}/fip.sh ]; then source {{ working_dir }}/fip.sh echo export FIP=$(openstack floating ip list -f json | jq -r -c '.[] | select(.Port) | .[""Floating IP Address""]' | head -1) > {{ working_dir }}/fip.sh source {{ working_dir }}/fip.shping -D ${FIP} >> ~/ping_results_$(date +%Y%m%d%H%M).log &",417,8
openstack%2Fopenstack-helm-infra~master~I8deeecfdb69df1f855f287caab8385ee3d6869e0,openstack/openstack-helm-infra,master,I8deeecfdb69df1f855f287caab8385ee3d6869e0,[ceph-osd] dmsetup remove logical devices using correct device names,MERGED,2020-12-17 21:45:38.000000000,2021-01-12 17:42:22.000000000,2021-01-12 17:40:35.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 30495}, {'_account_id': 30777}, {'_account_id': 32190}, {'_account_id': 32433}]","[{'number': 1, 'created': '2020-12-17 21:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/55ff36bc4a0d2b515b6b77816da6c108d017adea', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166 changed the\nlogical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention, so this\nlogic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 2, 'created': '2020-12-17 21:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/48444fc91c1d551473977f40b6e435384a1a2a69', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 3, 'created': '2020-12-17 21:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b8b630e4def2da4d4df38ad386eef8b415cedc6b', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 4, 'created': '2020-12-18 12:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6b211eb73ef2b62b9b1bad14dd602bd18abb2be9', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 5, 'created': '2020-12-18 14:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a07e81d1512fc383f1a1c8f9bcc6464e84e06e05', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 6, 'created': '2020-12-18 14:58:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/be238a2d48a540709e96ba5c4a470690dfd01393', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 7, 'created': '2020-12-18 15:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/db8956f773eee007a9b27a1d0d834977483cbbff', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 8, 'created': '2020-12-18 16:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f9bebcc9a04f3106d64e875577c3ddeb223eff72', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 9, 'created': '2020-12-18 17:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d61effa949dc69c1ce24b8f4ffb8198ac7ec773e', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 10, 'created': '2020-12-18 18:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e56c0d59b22c6fe77f874056d8b04e91327705d2', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 11, 'created': '2020-12-18 19:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e87307bf03d9f99bcde17c255f74cad443680768', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 12, 'created': '2020-12-18 20:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0020f39293032c59ea2b7888d5fefdf6b7f341d6', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 13, 'created': '2020-12-18 21:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6685a8c686895531548fd2c75fbfdbebb82e4c2a', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 14, 'created': '2020-12-19 13:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/472f6b5f670cc2ee8cb9edb92b821f5dae1c6fb1', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 15, 'created': '2021-01-04 13:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e2292cc24085feb10355bad489a5c0bfb1d8b4d4', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 16, 'created': '2021-01-04 14:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b38f717791b9edfcba8abdfae477393d85f6c8b9', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 17, 'created': '2021-01-04 15:53:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0e6ab284fb285e50f494e34a08af75fabe92d7d6', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 18, 'created': '2021-01-04 17:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/91b0d4ba14f59e44728a1e64c30ea7ce0fba33ed', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 19, 'created': '2021-01-04 18:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1ed87d20983e351c25378c2009aa7ed6afac39b4', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 20, 'created': '2021-01-04 18:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/914ed2bfdbebda7fb20413f3ef061fea4f89d4e2', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 21, 'created': '2021-01-04 19:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/39aa4fc3a12a7cf59d5a9c16ee65190b0b245799', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 22, 'created': '2021-01-04 20:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5458d32039f02b4765559467d43e858e7ffb2c13', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 23, 'created': '2021-01-05 13:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bd4d674e04160193757f85f24cb8543bce817ed3', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 24, 'created': '2021-01-05 13:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e0fe3fff51239c74f70e0cbf359505f28a71b6c4', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 25, 'created': '2021-01-05 14:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d7eec311b65322de26a61fbf012d38895770209f', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 26, 'created': '2021-01-05 16:24:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c4ac810c84d8e7f4c0d205d5a1808f4e45f3401b', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 27, 'created': '2021-01-05 17:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/869cf9f365e47f2b31dcd26928e6e48f1a11a6aa', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 28, 'created': '2021-01-05 18:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e6ba56b31f75609d159f6854a19b2c349bb5c6b4', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 29, 'created': '2021-01-05 19:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7913afff30ba8345b5850b0771278164a1d4c798', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 30, 'created': '2021-01-05 20:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0a963d95acdfedaa6d6a5a5853079080f3170014', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 31, 'created': '2021-01-05 21:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5af465e3f5f9c5503491836d522292eca954230c', 'message': '[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n'}, {'number': 32, 'created': '2021-01-06 14:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c0821c9cab68d34c571360fc40a1b2a8feb7d86b', 'message': ""[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nAlso added logic to clean up orphaned DB/WAL volumes if they are\nencountered and removed some cases where a data disk is marked as in use\nwhen it isn't set up correctly.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n""}, {'number': 33, 'created': '2021-01-08 21:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e3a3434ec85d7f4f2ee17fedb332fbf0c507243c', 'message': ""[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nAlso added logic to clean up orphaned DB/WAL volumes if they are\nencountered and removed some cases where a data disk is marked as in use\nwhen it isn't set up correctly.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n""}, {'number': 34, 'created': '2021-01-11 14:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0a287e7565e2b23586118a76a985a9decb06ed4a', 'message': ""[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nAlso added logic to clean up orphaned DB/WAL volumes if they are\nencountered and removed some cases where a data disk is marked as in use\nwhen it isn't set up correctly.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n""}, {'number': 35, 'created': '2021-01-11 14:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5230b547115066fdd67ff1318ccee3ede9f543f6', 'message': ""[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nAlso added logic to clean up orphaned DB/WAL volumes if they are\nencountered and removed some cases where a data disk is marked as in use\nwhen it isn't set up correctly.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n""}, {'number': 36, 'created': '2021-01-11 15:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b79aba56b0961389deba12ed846eb97572a6bcb0', 'message': ""[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nAlso added logic to clean up orphaned DB/WAL volumes if they are\nencountered and removed some cases where a data disk is marked as in use\nwhen it isn't set up correctly.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n""}, {'number': 37, 'created': '2021-01-11 17:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e6549667494c3cc951b76fc9f64e4421d38652da', 'message': ""[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nAlso added logic to clean up orphaned DB/WAL volumes if they are\nencountered and removed some cases where a data disk is marked as in use\nwhen it isn't set up correctly.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n""}, {'number': 38, 'created': '2021-01-11 19:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b66adeaf2a593a0c6c96364984be9f3f8a3652e8', 'message': ""[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nAlso added logic to clean up orphaned DB/WAL volumes if they are\nencountered and removed some cases where a data disk is marked as in use\nwhen it isn't set up correctly.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n""}, {'number': 39, 'created': '2021-01-11 21:49:57.000000000', 'files': ['ceph-osd/templates/bin/osd/ceph-volume/_init-with-ceph-volume.sh.tpl', 'ceph-osd/templates/bin/osd/ceph-volume/_common.sh.tpl', 'ceph-osd/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4c097b0300ab5bfc797de98ab22973d9ddbe2973', 'message': ""[ceph-osd] dmsetup remove logical devices using correct device names\n\nFound another issue in disk_zap() where a needed update was missed when\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/745166\nchanged the logical volume naming convention.\n\nThe above patch set renamed volumes that followed the old convention,\nso this logic will never be correct and must be updated.\n\nAlso added logic to clean up orphaned DB/WAL volumes if they are\nencountered and removed some cases where a data disk is marked as in use\nwhen it isn't set up correctly.\n\nChange-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0\n""}]",3,767638,4c097b0300ab5bfc797de98ab22973d9ddbe2973,100,14,39,29974,,,0,"[ceph-osd] dmsetup remove logical devices using correct device names

Found another issue in disk_zap() where a needed update was missed when
https://review.opendev.org/c/openstack/openstack-helm-infra/+/745166
changed the logical volume naming convention.

The above patch set renamed volumes that followed the old convention,
so this logic will never be correct and must be updated.

Also added logic to clean up orphaned DB/WAL volumes if they are
encountered and removed some cases where a data disk is marked as in use
when it isn't set up correctly.

Change-Id: I8deeecfdb69df1f855f287caab8385ee3d6869e0
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/38/767638/39 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/templates/bin/osd/ceph-volume/_common.sh.tpl', 'ceph-osd/templates/bin/osd/ceph-volume/_init-with-ceph-volume.sh.tpl']",2,55ff36bc4a0d2b515b6b77816da6c108d017adea,change-767638-34," logical_devices=$(get_dm_devices_from_osd_device ""${data_disk}"") device_filter=$(echo ""${vg_name}"" | sed 's/-/--/g') logical_devices=$(echo ""${logical_devices}"" | grep ""${device_filter}"" | tr '\n' ' ')"," logical_devices=$(get_lvm_path_from_device ""pv_name=~${BLOCK_DEVICE},lv_name=~${lv_name}"")",9,8
openstack%2Fansible-role-thales-hsm~stable%2Fvictoria~I0a4d06b72954df285ca5c56cec6ec9bb01d00956,openstack/ansible-role-thales-hsm,stable/victoria,I0a4d06b72954df285ca5c56cec6ec9bb01d00956,Update .gitreview for stable/victoria,MERGED,2020-12-18 15:40:18.000000000,2021-01-12 17:29:54.000000000,2021-01-12 17:29:54.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-18 15:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-thales-hsm/commit/7986cb72f60f99dc99cfe813b330cc5a3ffa19fc', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I0a4d06b72954df285ca5c56cec6ec9bb01d00956\n'}, {'number': 2, 'created': '2021-01-12 16:28:04.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ansible-role-thales-hsm/commit/460998a58880f1e0fe002d779aa874b016b4acaa', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I0a4d06b72954df285ca5c56cec6ec9bb01d00956\n'}]",0,767801,460998a58880f1e0fe002d779aa874b016b4acaa,8,2,2,22816,,,0,"Update .gitreview for stable/victoria

Change-Id: I0a4d06b72954df285ca5c56cec6ec9bb01d00956
",git fetch https://review.opendev.org/openstack/ansible-role-thales-hsm refs/changes/01/767801/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,7986cb72f60f99dc99cfe813b330cc5a3ffa19fc,create-victoria,defaultbranch=stable/victoria,,1,0
openstack%2Fansible-role-thales-hsm~master~Id7efa789cdbd4501ef740e77a36c7419eb785056,openstack/ansible-role-thales-hsm,master,Id7efa789cdbd4501ef740e77a36c7419eb785056,Fix linters,MERGED,2021-01-12 16:16:30.000000000,2021-01-12 17:29:51.000000000,2021-01-12 17:29:51.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-01-12 16:16:30.000000000', 'files': ['tasks/client.yaml', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/ansible-role-thales-hsm/commit/a787e658daa9762846c1783e77da6a64b4843119', 'message': 'Fix linters\n\nIgnore the _ vs - and fix permissions on files\n\nChange-Id: Id7efa789cdbd4501ef740e77a36c7419eb785056\n'}]",0,770443,a787e658daa9762846c1783e77da6a64b4843119,7,3,1,14985,,,0,"Fix linters

Ignore the _ vs - and fix permissions on files

Change-Id: Id7efa789cdbd4501ef740e77a36c7419eb785056
",git fetch https://review.opendev.org/openstack/ansible-role-thales-hsm refs/changes/43/770443/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/client.yaml', '.ansible-lint']",2,a787e658daa9762846c1783e77da6a64b4843119,,skip_list: - '106' # Role name {} does not match ``^[a-z][a-z0-9_]+$`` pattern ,,4,0
openstack%2Fsushy~master~I8ba2b9ff1e80fa0c2edc3a11ab80844d732e4394,openstack/sushy,master,I8ba2b9ff1e80fa0c2edc3a11ab80844d732e4394,Add OperationApplyTime support to Volume methods,MERGED,2020-10-19 22:41:34.000000000,2021-01-12 17:28:12.000000000,2021-01-12 17:26:24.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 27909}, {'_account_id': 28128}]","[{'number': 1, 'created': '2020-10-19 22:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/04022286de60a3095fe422f7d1015de3bc3fcfe5', 'message': 'Add OperationApplyTime support to Volume methods\n\nThe supported_values property in the OperationApplyTimeSupportField\nclass returns an unmapped list of OperationApplyTime values supported\nby the service. The convention in Sushy for properties that return a\nlist of schema-defined enumeration values is to return a\nMappedListField. This type of field performs mapping between Redfish\nschema-defined enumeration values and constants exposed by the Sushy\npackage.\n\nThis update adds the mapped_supported_values property to return a\nMappedListField of OperationApplyTime values supported by the service.\nThe supported_values property is deprecated.\n\nThe create_volume method in the VolumeCollection class and the\ndelete_volume method in the Volume class are updated to take an\noptional apply_time keyword parameter. This allows the caller of those\nvolume methods to specify a preferred OperationApplyTime annotation.\n\nChange-Id: I8ba2b9ff1e80fa0c2edc3a11ab80844d732e4394\nStory: 2003514\nTask: 41087\n'}, {'number': 2, 'created': '2020-12-10 19:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/e0286fe9a09798cbdb46b377c85ac07497ba5ec6', 'message': ""Add OperationApplyTime support to Volume methods\n\nThe supported_values property in the OperationApplyTimeSupportField\nclass returns an unmapped list of OperationApplyTime values supported\nby the service. The convention in Sushy for properties that return a\nlist of schema-defined enumeration values is to return a\nMappedListField. This type of field performs mapping between Redfish\nschema-defined enumeration values and constants exposed by the Sushy\npackage.\n\nThis update adds the mapped_supported_values property to return a\nMappedListField of OperationApplyTime values supported by the service.\nThe supported_values property is deprecated.\n\nThe create_volume method in the VolumeCollection class and the\ndelete_volume and initialize_volume methods in the Volume class are\nupdated to take an optional apply_time keyword parameter. This allows\nthe caller of those volume methods to specify a preferred\nOperationApplyTime annotation. In the specified apply_time is\n'Immediate', the operation is called with blocking enabled. Otherwise\nblocking is disabled.\n\nChange-Id: I8ba2b9ff1e80fa0c2edc3a11ab80844d732e4394\nStory: 2003514\nTask: 41087\n""}, {'number': 3, 'created': '2020-12-30 20:56:44.000000000', 'files': ['sushy/resources/common.py', 'sushy/resources/system/storage/volume.py', 'sushy/tests/unit/resources/system/test_system.py', 'sushy/tests/unit/resources/system/storage/test_volume.py', 'releasenotes/notes/apply-time-support-for-volume-ops-f2ebc412e3b4290a.yaml'], 'web_link': 'https://opendev.org/openstack/sushy/commit/f3535506013c9530b23ff0e917ffa3e5760a2882', 'message': ""Add OperationApplyTime support to Volume methods\n\nThe supported_values property in the OperationApplyTimeSupportField\nclass returns an unmapped list of OperationApplyTime values supported\nby the service. The convention in Sushy for properties that return a\nlist of schema-defined enumeration values is to return a\nMappedListField. This type of field performs mapping between Redfish\nschema-defined enumeration values and constants exposed by the Sushy\npackage.\n\nThis update adds the mapped_supported_values property to return a\nMappedListField of OperationApplyTime values supported by the service.\nThe supported_values property is deprecated.\n\nThe create_volume method in the VolumeCollection class and the\ndelete_volume and initialize_volume methods in the Volume class are\nupdated to take optional apply_time and timeout keyword parameters.\nThis allows the caller of those volume methods to specify a preferred\nOperationApplyTime annotation and a maximum timeout for synchronous\noperations. If the specified apply_time is 'Immediate', the operation\nis called with blocking enabled. Otherwise blocking is disabled. For\nasynchronous operations, those three methods will now return a\nTaskMonitor instance that the caller can use to monitor the state of\nthe task.\n\nChange-Id: I8ba2b9ff1e80fa0c2edc3a11ab80844d732e4394\nStory: 2003514\nTask: 41087\n""}]",23,758874,f3535506013c9530b23ff0e917ffa3e5760a2882,22,7,3,28128,,,0,"Add OperationApplyTime support to Volume methods

The supported_values property in the OperationApplyTimeSupportField
class returns an unmapped list of OperationApplyTime values supported
by the service. The convention in Sushy for properties that return a
list of schema-defined enumeration values is to return a
MappedListField. This type of field performs mapping between Redfish
schema-defined enumeration values and constants exposed by the Sushy
package.

This update adds the mapped_supported_values property to return a
MappedListField of OperationApplyTime values supported by the service.
The supported_values property is deprecated.

The create_volume method in the VolumeCollection class and the
delete_volume and initialize_volume methods in the Volume class are
updated to take optional apply_time and timeout keyword parameters.
This allows the caller of those volume methods to specify a preferred
OperationApplyTime annotation and a maximum timeout for synchronous
operations. If the specified apply_time is 'Immediate', the operation
is called with blocking enabled. Otherwise blocking is disabled. For
asynchronous operations, those three methods will now return a
TaskMonitor instance that the caller can use to monitor the state of
the task.

Change-Id: I8ba2b9ff1e80fa0c2edc3a11ab80844d732e4394
Story: 2003514
Task: 41087
",git fetch https://review.opendev.org/openstack/sushy refs/changes/74/758874/3 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/common.py', 'sushy/resources/system/storage/volume.py', 'sushy/tests/unit/resources/system/test_system.py', 'sushy/tests/unit/resources/system/storage/test_volume.py', 'releasenotes/notes/apply-time-support-for-volume-ops-f2ebc412e3b4290a.yaml']",5,04022286de60a3095fe422f7d1015de3bc3fcfe5,task/41087,--- deprecations: - | The ``supported_values`` property in the ``OperationApplyTimeSupportField`` class is deprecated. Use the ``mapped_supported_values`` property instead. The ``mapped_supported_values`` property uses the ``MappedListField`` type to map the Redfish schema-defined enumeration values to constants exposed by the Sushy package. features: - | Update the ``create_volume`` method in the ``VolumeCollection`` class and the ``delete_volume`` method in the ``Volume`` class to take an optional ``apply_time`` keyword parameter. This update allows the caller of those volume operations to specify a preferred ``OperationApplyTime`` annotation. ,,70,9
openstack%2Fansible-role-atos-hsm~stable%2Fvictoria~I8dd95370f5f0ab3b9a17324569cfc272d9e65be8,openstack/ansible-role-atos-hsm,stable/victoria,I8dd95370f5f0ab3b9a17324569cfc272d9e65be8,Update .gitreview for stable/victoria,MERGED,2020-12-18 15:38:37.000000000,2021-01-12 17:28:08.000000000,2021-01-12 17:28:08.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-18 15:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-atos-hsm/commit/d35270d5ba4b865556c76c52d8f279c04ca489dc', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I8dd95370f5f0ab3b9a17324569cfc272d9e65be8\n'}, {'number': 2, 'created': '2021-01-12 16:30:59.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ansible-role-atos-hsm/commit/e2fbfdac4bec7e8042c21e490958d08387ef9926', 'message': 'Update .gitreview for stable/victoria\n\nChange-Id: I8dd95370f5f0ab3b9a17324569cfc272d9e65be8\n'}]",0,767768,e2fbfdac4bec7e8042c21e490958d08387ef9926,8,2,2,22816,,,0,"Update .gitreview for stable/victoria

Change-Id: I8dd95370f5f0ab3b9a17324569cfc272d9e65be8
",git fetch https://review.opendev.org/openstack/ansible-role-atos-hsm refs/changes/68/767768/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,d35270d5ba4b865556c76c52d8f279c04ca489dc,create-victoria,defaultbranch=stable/victoria,,1,0
openstack%2Fansible-role-atos-hsm~master~I31409101a6e287b9ffeff1e5f544f2545a476ff5,openstack/ansible-role-atos-hsm,master,I31409101a6e287b9ffeff1e5f544f2545a476ff5,Fix linter,MERGED,2021-01-12 16:07:21.000000000,2021-01-12 17:28:05.000000000,2021-01-12 17:28:05.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-01-12 16:07:21.000000000', 'files': ['tasks/main.yaml', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/ansible-role-atos-hsm/commit/c5e5b2427bdbf59bb4bfd875f4c26d6e12224747', 'message': 'Fix linter\n\nSkip the - vs _ name and fix the missing permissions on the rc file\n\nChange-Id: I31409101a6e287b9ffeff1e5f544f2545a476ff5\n'}]",0,770441,c5e5b2427bdbf59bb4bfd875f4c26d6e12224747,7,3,1,14985,,,0,"Fix linter

Skip the - vs _ name and fix the missing permissions on the rc file

Change-Id: I31409101a6e287b9ffeff1e5f544f2545a476ff5
",git fetch https://review.opendev.org/openstack/ansible-role-atos-hsm refs/changes/41/770441/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yaml', '.ansible-lint']",2,c5e5b2427bdbf59bb4bfd875f4c26d6e12224747,fix-ci,skip_list: - '106' # Role name {} does not match ``^[a-z][a-z0-9_]+$`` pattern │ ,,3,0
openstack%2Ftripleo-quickstart-extras~master~I86e330add6438d491e5a42d461f1e10135412dd9,openstack/tripleo-quickstart-extras,master,I86e330add6438d491e5a42d461f1e10135412dd9,Do not run tempest in upgrade job,ABANDONED,2021-01-12 15:01:24.000000000,2021-01-12 16:37:53.000000000,,[{'_account_id': 14985}],"[{'number': 1, 'created': '2021-01-12 15:01:24.000000000', 'files': ['playbooks/multinode-standalone-upgrade.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3a027626b61fade81b690dbd80c9644c9400ccfc', 'message': 'Do not run tempest in upgrade job\n\nTempest has never be executed in upgrade job. This was messed when we\nmoved everything to os_tempest.\n\nChange-Id: I86e330add6438d491e5a42d461f1e10135412dd9\n'}]",0,770351,3a027626b61fade81b690dbd80c9644c9400ccfc,3,1,1,8367,,,0,"Do not run tempest in upgrade job

Tempest has never be executed in upgrade job. This was messed when we
moved everything to os_tempest.

Change-Id: I86e330add6438d491e5a42d461f1e10135412dd9
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/51/770351/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/multinode-standalone-upgrade.yml'],1,3a027626b61fade81b690dbd80c9644c9400ccfc,no-tempest-upgrade,," # Remove me when os_tempest tempest init gets fixed - name: Tempest workspace workaround hosts: undercloud tasks: - name: Nuke tempest workspace file: path: ""{{ item }}"" state: absent with_items: - ""{{ ansible_user_dir }}/tempest"" - ""{{ ansible_user_dir }}/.tempest"" ignore_errors: true - name: Validate the Standalone upgrade hosts: undercloud # Note(chkumar246): Moved the os_tempest related var at the top # of play level in order to have scope for the whole of the play # https://bugs.launchpad.net/tripleo/+bug/1838496 vars: tempest_install_method: distro tempest_cloud_name: 'standalone' tempest_cidr: '192.168.24.0/24' tasks: - include_tasks: tasks/tempest.yml environment: # Disable ssl warnings CURL_CA_BUNDLE: """" tags: - standalone-upgrade",0,30
openstack%2Fos-apply-config~master~I5702bc85fac512823496fab5c5114e6b6055dd24,openstack/os-apply-config,master,I5702bc85fac512823496fab5c5114e6b6055dd24,The lower constraint file has been removed,ABANDONED,2020-12-08 17:23:32.000000000,2021-01-12 16:35:35.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-12-08 17:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/144621c672c3c16e567a7969e5f0bca79d15bda5', 'message': ""The lower constraint file has been removed\n\nThis file, and its tests, are not useful for tripleo so we're\nremoving because they're now becoming problematic.\n\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\nChange-Id: I5702bc85fac512823496fab5c5114e6b6055dd24\n""}, {'number': 2, 'created': '2020-12-08 21:17:27.000000000', 'files': ['lower-constraints.txt', 'zuul.d/layout.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/808c73e292bcb4a0ce6453e34b582422ecf076b6', 'message': ""The lower constraint file has been removed\n\nThis file, and its tests, are not useful for tripleo so we're\nremoving because they're now becoming problematic.\n\nChange-Id: I5702bc85fac512823496fab5c5114e6b6055dd24\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",0,766055,808c73e292bcb4a0ce6453e34b582422ecf076b6,19,3,2,7353,,,0,"The lower constraint file has been removed

This file, and its tests, are not useful for tripleo so we're
removing because they're now becoming problematic.

Change-Id: I5702bc85fac512823496fab5c5114e6b6055dd24
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/55/766055/2 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'tox.ini']",2,144621c672c3c16e567a7969e5f0bca79d15bda5,tripleo-lower,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,38
openstack%2Ftripleo-heat-templates~stable%2Fussuri~If14f35343001f9e6c0dd8328f9423eca1be28e0c,openstack/tripleo-heat-templates,stable/ussuri,If14f35343001f9e6c0dd8328f9423eca1be28e0c,"Revert ""Adding key_size option on the certificate creation""",ABANDONED,2021-01-11 20:11:33.000000000,2021-01-12 16:27:57.000000000,,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8866}, {'_account_id': 9914}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-01-11 20:11:33.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-certmonger.yaml', 'deployment/database/mysql-base.yaml', 'deployment/haproxy/haproxy-internal-tls-certmonger.j2.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-grafana.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/octavia/providers/ovn-provider-config.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/apache/apache-baremetal-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8143bce88f356ae26568136cb2d67a1a1768482', 'message': 'Revert ""Adding key_size option on the certificate creation""\n\nThis reverts commit 977fc27fae120779da5e191b2a1cc49a74446d0d.\n\nReason for revert: upgrade jobs appear to be broken after landing this patch\n\nChange-Id: If14f35343001f9e6c0dd8328f9423eca1be28e0c\nRelated-Bug: #1911020\n'}]",0,770177,d8143bce88f356ae26568136cb2d67a1a1768482,4,8,1,14985,,,0,"Revert ""Adding key_size option on the certificate creation""

This reverts commit 977fc27fae120779da5e191b2a1cc49a74446d0d.

Reason for revert: upgrade jobs appear to be broken after landing this patch

Change-Id: If14f35343001f9e6c0dd8328f9423eca1be28e0c
Related-Bug: #1911020
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/770177/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-certmonger.yaml', 'deployment/database/mysql-base.yaml', 'deployment/haproxy/haproxy-internal-tls-certmonger.j2.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-grafana.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/octavia/providers/ovn-provider-config.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/apache/apache-baremetal-puppet.j2.yaml']",21,d8143bce88f356ae26568136cb2d67a1a1768482,key_size_cert-stable/victoria-stable/ussuri,," CertificateKeySize: type: string default: '2048' description: Specifies the private key size used when creating the certificate. ApacheCertificateKeySize: type: string default: '' description: Override the private key size used when creating the certificate for this service key_size_override_unset: {equals: [{get_param: ApacheCertificateKeySize}, '']} key_size: if: - key_size_override_unset - {get_param: CertificateKeySize} - {get_param: ApacheCertificateKeySize}",0,388
openstack%2Fansible-role-atos-hsm~master~I7a67d3c9ee4ef8f38ecfccfcae51ff36cc4a2c7b,openstack/ansible-role-atos-hsm,master,I7a67d3c9ee4ef8f38ecfccfcae51ff36cc4a2c7b,Ignore lint error 106,ABANDONED,2021-01-12 16:04:29.000000000,2021-01-12 16:19:22.000000000,,[],"[{'number': 1, 'created': '2021-01-12 16:04:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-atos-hsm/commit/f9ff9179be4b58db7d1cde0ec5eecda01d6f9fde', 'message': 'Ignore lint error 106\n\nThe 106 error is a false positive because the role name is inferred\nfrom the repository name as ""atos-hsm"", but the role is actually\ninstalled as ""atos_hsm""\n\nChange-Id: I7a67d3c9ee4ef8f38ecfccfcae51ff36cc4a2c7b\n'}]",0,770440,f9ff9179be4b58db7d1cde0ec5eecda01d6f9fde,4,0,1,7973,,,0,"Ignore lint error 106

The 106 error is a false positive because the role name is inferred
from the repository name as ""atos-hsm"", but the role is actually
installed as ""atos_hsm""

Change-Id: I7a67d3c9ee4ef8f38ecfccfcae51ff36cc4a2c7b
",git fetch https://review.opendev.org/openstack/ansible-role-atos-hsm refs/changes/40/770440/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f9ff9179be4b58db7d1cde0ec5eecda01d6f9fde,,"# We ignore 106 because the role name is inferred from the directory name as # ""atos-hsm"", but the role is actually installed as ""atos_hsm"" # (see setup.cfg). We would need to rename the repository to fix this without # ignoring it. commands = ansible-lint -x 106 {toxinidir}",commands = ansible-lint {toxinidir},5,1
openstack%2Fironic-specs~master~Ibaff5c2743ca12a0692d0c5715fd2654f97d714c,openstack/ironic-specs,master,Ibaff5c2743ca12a0692d0c5715fd2654f97d714c,remove unicode from code,MERGED,2021-01-05 09:29:24.000000000,2021-01-12 16:14:41.000000000,2021-01-12 16:13:20.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-05 09:29:24.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/2712307e21cfcb5cd7a7aa7e3af00d3873492e50', 'message': 'remove unicode from code\n\nChange-Id: Ibaff5c2743ca12a0692d0c5715fd2654f97d714c\n'}]",0,769294,2712307e21cfcb5cd7a7aa7e3af00d3873492e50,8,3,1,32020,,,0,"remove unicode from code

Change-Id: Ibaff5c2743ca12a0692d0c5715fd2654f97d714c
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/94/769294/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,2712307e21cfcb5cd7a7aa7e3af00d3873492e50,,"project = 'Ironic Specs' copyright = '%s, OpenStack Ironic Team' % datetime.date.today().year ('index', 'doc-ironic-specs.tex', 'Ironic Specs', 'OpenStack Ironic Team', 'manual'), ('index', 'Ironic-specs', 'Ironic Design Specs', 'OpenStack Ironic Team', 'ironic-specs', 'Design specifications for the Ironic project.',","project = u'Ironic Specs' copyright = u'%s, OpenStack Ironic Team' % datetime.date.today().year ('index', 'doc-ironic-specs.tex', u'Ironic Specs', u'OpenStack Ironic Team', 'manual'), ('index', 'Ironic-specs', u'Ironic Design Specs', u'OpenStack Ironic Team', 'ironic-specs', 'Design specifications for the Ironic project.',",6,6
openstack%2Fdevstack~stable%2Fqueens~I02c692e95d70017eea03d82d75ae6c5e87bde8b1,openstack/devstack,stable/queens,I02c692e95d70017eea03d82d75ae6c5e87bde8b1,Install swift keystone extras requirements,MERGED,2020-12-22 22:05:14.000000000,2021-01-12 16:01:04.000000000,2021-01-12 16:01:04.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-12-22 22:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6eb737660a2274895bc30c04f927cb228fe60e91', 'message': ""Install swift extras requirements\n\nSince the introduction of I8f24b839bf42e2fb9803dc7df3a30ae20cf264\ns-proxy is no longer able to launch as keystonemiddleware (listed under\ntest-requirements.txt) has not been installed.\n\nkeystonemiddleware is listed as extras requirements in swift\n- https://github.com/openstack/swift/blob/e0d46d77fa740768f1dd5b989a63be85ff1fec20/setup.cfg#L79\n\nLet's install swift extra requirements also.\n\nCloses-Bug: #1909018\nChange-Id: I02c692e95d70017eea03d82d75ae6c5e87bde8b1\n""}, {'number': 2, 'created': '2020-12-23 20:09:13.000000000', 'files': ['lib/swift'], 'web_link': 'https://opendev.org/openstack/devstack/commit/bc5e1eba8fe1d70ee253175ab8e9585c3c8e0954', 'message': ""Install swift keystone extras requirements\n\nSince the introduction of I8f24b839bf42e2fb9803dc7df3a30ae20cf264\ns-proxy is no longer able to launch as keystonemiddleware (listed under\ntest-requirements.txt) has not been installed.\n\nkeystonemiddleware is listed as extras requirements in swift\n- https://github.com/openstack/swift/blob/e0d46d77fa740768f1dd5b989a63be85ff1fec20/setup.cfg#L79\n\nLet's install swift keystone extra requirements also.\n\nCloses-Bug: #1909018\nChange-Id: I02c692e95d70017eea03d82d75ae6c5e87bde8b1\n(cherry picked from commit 04b0b61557f7dad6c32b566255c21a36e4b0aefa)\n(cherry picked from commit 90651cb1a914999afd1dd1e4929c04e62fefb4c8)\n(cherry picked from commit 10fdf258bacf4702917f1bbdffef933e7a89907a)\n(cherry picked from commit a7c4377c17b6ca4a73a786af9cc6b1c502cd8061)\n(cherry picked from commit d3016a20ac7239dfbc27c762b7ba4c08f95abc65)\n(cherry picked from commit 0b255921828eac05b9378d68317e227f2a1dc0a8)\n""}]",0,768259,bc5e1eba8fe1d70ee253175ab8e9585c3c8e0954,17,4,2,8556,,,0,"Install swift keystone extras requirements

Since the introduction of I8f24b839bf42e2fb9803dc7df3a30ae20cf264
s-proxy is no longer able to launch as keystonemiddleware (listed under
test-requirements.txt) has not been installed.

keystonemiddleware is listed as extras requirements in swift
- https://github.com/openstack/swift/blob/e0d46d77fa740768f1dd5b989a63be85ff1fec20/setup.cfg#L79

Let's install swift keystone extra requirements also.

Closes-Bug: #1909018
Change-Id: I02c692e95d70017eea03d82d75ae6c5e87bde8b1
(cherry picked from commit 04b0b61557f7dad6c32b566255c21a36e4b0aefa)
(cherry picked from commit 90651cb1a914999afd1dd1e4929c04e62fefb4c8)
(cherry picked from commit 10fdf258bacf4702917f1bbdffef933e7a89907a)
(cherry picked from commit a7c4377c17b6ca4a73a786af9cc6b1c502cd8061)
(cherry picked from commit d3016a20ac7239dfbc27c762b7ba4c08f95abc65)
(cherry picked from commit 0b255921828eac05b9378d68317e227f2a1dc0a8)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/59/768259/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/swift'],1,6eb737660a2274895bc30c04f927cb228fe60e91,bug/1909018, setup_develop $SWIFT_DIR keystone, setup_develop $SWIFT_DIR,1,1
openstack%2Fdevstack~stable%2Frocky~I02c692e95d70017eea03d82d75ae6c5e87bde8b1,openstack/devstack,stable/rocky,I02c692e95d70017eea03d82d75ae6c5e87bde8b1,Install swift keystone extras requirements,MERGED,2020-12-22 20:41:31.000000000,2021-01-12 15:53:13.000000000,2021-01-12 15:53:13.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-12-22 20:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a777c56a131775e782b6a30bc9df5e07ec042e81', 'message': ""Install swift extras requirements\n\nSince the introduction of I8f24b839bf42e2fb9803dc7df3a30ae20cf264\ns-proxy is no longer able to launch as keystonemiddleware (listed under\ntest-requirements.txt) has not been installed.\n\nkeystonemiddleware is listed as extras requirements in swift\n- https://github.com/openstack/swift/blob/e0d46d77fa740768f1dd5b989a63be85ff1fec20/setup.cfg#L79\n\nLet's install swift extra requirements also.\n\nCloses-Bug: #1909018\nChange-Id: I02c692e95d70017eea03d82d75ae6c5e87bde8b1\n""}, {'number': 2, 'created': '2020-12-23 20:08:31.000000000', 'files': ['lib/swift'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0b255921828eac05b9378d68317e227f2a1dc0a8', 'message': ""Install swift keystone extras requirements\n\nSince the introduction of I8f24b839bf42e2fb9803dc7df3a30ae20cf264\ns-proxy is no longer able to launch as keystonemiddleware (listed under\ntest-requirements.txt) has not been installed.\n\nkeystonemiddleware is listed as extras requirements in swift\n- https://github.com/openstack/swift/blob/e0d46d77fa740768f1dd5b989a63be85ff1fec20/setup.cfg#L79\n\nLet's install swift keystone extra requirements also.\n\nCloses-Bug: #1909018\nChange-Id: I02c692e95d70017eea03d82d75ae6c5e87bde8b1\n(cherry picked from commit 04b0b61557f7dad6c32b566255c21a36e4b0aefa)\n(cherry picked from commit 90651cb1a914999afd1dd1e4929c04e62fefb4c8)\n(cherry picked from commit 10fdf258bacf4702917f1bbdffef933e7a89907a)\n(cherry picked from commit a7c4377c17b6ca4a73a786af9cc6b1c502cd8061)\n(cherry picked from commit d3016a20ac7239dfbc27c762b7ba4c08f95abc65)\n""}]",0,768258,0b255921828eac05b9378d68317e227f2a1dc0a8,25,6,2,8556,,,0,"Install swift keystone extras requirements

Since the introduction of I8f24b839bf42e2fb9803dc7df3a30ae20cf264
s-proxy is no longer able to launch as keystonemiddleware (listed under
test-requirements.txt) has not been installed.

keystonemiddleware is listed as extras requirements in swift
- https://github.com/openstack/swift/blob/e0d46d77fa740768f1dd5b989a63be85ff1fec20/setup.cfg#L79

Let's install swift keystone extra requirements also.

Closes-Bug: #1909018
Change-Id: I02c692e95d70017eea03d82d75ae6c5e87bde8b1
(cherry picked from commit 04b0b61557f7dad6c32b566255c21a36e4b0aefa)
(cherry picked from commit 90651cb1a914999afd1dd1e4929c04e62fefb4c8)
(cherry picked from commit 10fdf258bacf4702917f1bbdffef933e7a89907a)
(cherry picked from commit a7c4377c17b6ca4a73a786af9cc6b1c502cd8061)
(cherry picked from commit d3016a20ac7239dfbc27c762b7ba4c08f95abc65)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/58/768258/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/swift'],1,a777c56a131775e782b6a30bc9df5e07ec042e81,bug/1909018, setup_develop $SWIFT_DIR keystone, setup_develop $SWIFT_DIR,1,1
openstack%2Fkuryr-kubernetes~master~Ie98aae21ef910f11eaff5a6f6814d16ee1542ff2,openstack/kuryr-kubernetes,master,Ie98aae21ef910f11eaff5a6f6814d16ee1542ff2,Adapt selfLink calculation for Pod objects.,MERGED,2020-12-23 11:18:52.000000000,2021-01-12 15:41:02.000000000,2021-01-12 15:38:53.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-12-23 11:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ce135cf71b00373650d4cc6917d5d20e800a1870', 'message': 'Adapt selfLink calculation for Pod objects.\n\nChange-Id: Ie98aae21ef910f11eaff5a6f6814d16ee1542ff2\n'}, {'number': 2, 'created': '2020-12-23 13:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5b723845b0c97b71292b7693527981f18b787aa1', 'message': 'Adapt selfLink calculation for Pod objects.\n\nChange-Id: Ie98aae21ef910f11eaff5a6f6814d16ee1542ff2\n'}, {'number': 3, 'created': '2021-01-04 07:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0dabb21213a766f247839a7214d2f38bfcb54bf1', 'message': 'Adapt selfLink calculation for Pod objects.\n\nImplements: blueprint selflink\nChange-Id: Ie98aae21ef910f11eaff5a6f6814d16ee1542ff2\n'}, {'number': 4, 'created': '2021-01-05 16:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/931aa1700d8d95d985cb9635fb74fca00c141ac4', 'message': 'Adapt selfLink calculation for Pod objects.\n\nImplements: blueprint selflink\nChange-Id: Ie98aae21ef910f11eaff5a6f6814d16ee1542ff2\n'}, {'number': 5, 'created': '2021-01-07 09:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a9819cb7db3b677fe5fb53c4a8b56c9e74052522', 'message': 'Adapt selfLink calculation for Pod objects.\n\nImplements: blueprint selflink\nChange-Id: Ie98aae21ef910f11eaff5a6f6814d16ee1542ff2\n'}, {'number': 6, 'created': '2021-01-07 11:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bf083fa1d5cc14f71524a994026443175ce5723e', 'message': 'Adapt selfLink calculation for Pod objects.\n\nImplements: blueprint selflink\nChange-Id: Ie98aae21ef910f11eaff5a6f6814d16ee1542ff2\n'}, {'number': 7, 'created': '2021-01-08 14:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b18ed7fac31d00016a76ad7b32137d81302dad73', 'message': 'Adapt selfLink calculation for Pod objects.\n\nImplements: blueprint selflink\nChange-Id: Ie98aae21ef910f11eaff5a6f6814d16ee1542ff2\n'}, {'number': 8, 'created': '2021-01-08 16:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/206db729119a0df0b55ca2a38ff76bcb92f0270b', 'message': 'Adapt selfLink calculation for Pod objects.\n\nImplements: blueprint selflink\nChange-Id: Ie98aae21ef910f11eaff5a6f6814d16ee1542ff2\n'}, {'number': 9, 'created': '2021-01-11 09:20:11.000000000', 'files': ['kuryr_kubernetes/controller/handlers/pod_label.py', 'kuryr_kubernetes/tests/unit/test_os_vif_util.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_vif.py', 'kuryr_kubernetes/tests/fake.py', 'kuryr_kubernetes/cmd/status.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/os_vif_util.py', 'kuryr_kubernetes/tests/unit/cmd/test_status.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_sriov.py', 'kuryr_kubernetes/controller/drivers/sriov.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b521fee8cbdc2852f22fe84a6055af85461712f5', 'message': 'Adapt selfLink calculation for Pod objects.\n\nImplements: blueprint selflink\nChange-Id: Ie98aae21ef910f11eaff5a6f6814d16ee1542ff2\n'}]",0,768329,b521fee8cbdc2852f22fe84a6055af85461712f5,36,4,9,13692,,,0,"Adapt selfLink calculation for Pod objects.

Implements: blueprint selflink
Change-Id: Ie98aae21ef910f11eaff5a6f6814d16ee1542ff2
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/29/768329/6 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/pod_label.py', 'kuryr_kubernetes/tests/unit/test_os_vif_util.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_vif.py', 'kuryr_kubernetes/tests/fake.py', 'kuryr_kubernetes/cmd/status.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/os_vif_util.py', 'kuryr_kubernetes/tests/unit/cmd/test_status.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_sriov.py', 'kuryr_kubernetes/controller/drivers/sriov.py']",10,ce135cf71b00373650d4cc6917d5d20e800a1870,selflink,from kuryr_kubernetes import utils vif.pod_link = utils.get_res_link(pod), vif.pod_link = pod['metadata']['selfLink'],52,32
openstack%2Fbarbican~master~Ief261bf1f0def0cb1c27148740bf6e3a9837e590,openstack/barbican,master,Ief261bf1f0def0cb1c27148740bf6e3a9837e590,remove unicode from code,MERGED,2021-01-04 07:28:57.000000000,2021-01-12 15:36:33.000000000,2021-01-12 15:15:00.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-01-04 07:28:57.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/cb64ae82e0c811521954a4a010ee1fcc97ef0687', 'message': 'remove unicode from code\n\nChange-Id: Ief261bf1f0def0cb1c27148740bf6e3a9837e590\n'}]",0,769090,cb64ae82e0c811521954a4a010ee1fcc97ef0687,8,3,1,32326,,,0,"remove unicode from code

Change-Id: Ief261bf1f0def0cb1c27148740bf6e3a9837e590
",git fetch https://review.opendev.org/openstack/barbican refs/changes/90/769090/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,cb64ae82e0c811521954a4a010ee1fcc97ef0687,,"project = 'Barbican Release Notes' copyright = '2015, Barbican Developers' 'Barbican Release Notes Documentation', 'Barbican Developers', ('index', 'barbicanreleasenotes', 'Barbican Release Notes Documentation', ['Barbican Developers'], 1) ('index', 'BarbicanReleaseNotes', 'Barbican Release Notes Documentation', 'Barbican Developers', 'BarbicanReleaseNotes',","project = u'Barbican Release Notes' copyright = u'2015, Barbican Developers' u'Barbican Release Notes Documentation', u'Barbican Developers', ('index', 'barbicanreleasenotes', u'Barbican Release Notes Documentation', [u'Barbican Developers'], 1) ('index', 'BarbicanReleaseNotes', u'Barbican Release Notes Documentation', u'Barbican Developers', 'BarbicanReleaseNotes',",11,11
openstack%2Fpython-novaclient~master~Ic3e87b67f6d27d40b03d7d8e520fa0f79a4d09e5,openstack/python-novaclient,master,Ic3e87b67f6d27d40b03d7d8e520fa0f79a4d09e5,Fix undesirable raw Python error,MERGED,2021-01-04 04:50:54.000000000,2021-01-12 15:34:46.000000000,2021-01-12 15:21:32.000000000,"[{'_account_id': 679}, {'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-04 04:50:54.000000000', 'files': ['releasenotes/notes/fix-raw-python-error-debd3edb17c2f675.yaml', 'novaclient/tests/unit/test_shell.py', 'novaclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/e85d845b1aa5a18537907ba561a2718db2ccbed8', 'message': ""Fix undesirable raw Python error\n\nUsing the novaclient without a subcommand while\npassing an optional argument triggers the raw Python\nerror `ERROR: 'Namespace' object has no attribute\n'func'`. This bug can be reproduced by issuing the\ncommand `nova --os-compute-api-version 2.87`.\nAdded a default value to `func` and an empty value to\n`command` as placeholders so that a help message is\nshown instead of the Python error.\n\nChange-Id: Ic3e87b67f6d27d40b03d7d8e520fa0f79a4d09e5\nCloses-Bug: #1903727\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\n""}]",0,769082,e85d845b1aa5a18537907ba561a2718db2ccbed8,8,3,1,7634,,,0,"Fix undesirable raw Python error

Using the novaclient without a subcommand while
passing an optional argument triggers the raw Python
error `ERROR: 'Namespace' object has no attribute
'func'`. This bug can be reproduced by issuing the
command `nova --os-compute-api-version 2.87`.
Added a default value to `func` and an empty value to
`command` as placeholders so that a help message is
shown instead of the Python error.

Change-Id: Ic3e87b67f6d27d40b03d7d8e520fa0f79a4d09e5
Closes-Bug: #1903727
Signed-off-by: Takashi Natsume <takanattie@gmail.com>
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/82/769082/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-raw-python-error-debd3edb17c2f675.yaml', 'novaclient/tests/unit/test_shell.py', 'novaclient/shell.py']",3,e85d845b1aa5a18537907ba561a2718db2ccbed8,bug/1903727, parser.set_defaults(func=self.do_help) parser.set_defaults(command='') ,,13,0
openstack%2Fbarbican~master~Ic020a95c7c25be1188e926fe6b9fe1bd1625dd01,openstack/barbican,master,Ic020a95c7c25be1188e926fe6b9fe1bd1625dd01,Update doc8 version,MERGED,2020-12-16 06:37:13.000000000,2021-01-12 15:33:10.000000000,2021-01-12 15:14:46.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-12-16 06:37:13.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/barbican/commit/d9ec7dd6954e950b1d8af0149ed7e0cc862b465d', 'message': 'Update doc8 version\n\ndoc8 only supports python version less than 3.4\n\n[1] https://pypi.org/project/doc8/0.8.0/\n\nChange-Id: Ic020a95c7c25be1188e926fe6b9fe1bd1625dd01\n'}]",0,767275,d9ec7dd6954e950b1d8af0149ed7e0cc862b465d,14,3,1,32291,,,0,"Update doc8 version

doc8 only supports python version less than 3.4

[1] https://pypi.org/project/doc8/0.8.0/

Change-Id: Ic020a95c7c25be1188e926fe6b9fe1bd1625dd01
",git fetch https://review.opendev.org/openstack/barbican refs/changes/75/767275/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d9ec7dd6954e950b1d8af0149ed7e0cc862b465d,,doc8>=0.8.1 # Apache-2.0,doc8>=0.6.0 # Apache-2.0,1,1
openstack%2Fbarbican~master~I2161a67107df58b477c9bf28d13d7e6d78a0bcf5,openstack/barbican,master,I2161a67107df58b477c9bf28d13d7e6d78a0bcf5,Imported Translations from Zanata,MERGED,2020-12-20 06:18:11.000000000,2021-01-12 15:14:55.000000000,2021-01-12 15:14:55.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-12-20 06:18:11.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/barbican/commit/0fcfe42622db614583071053c2c97b107ad0ce3a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2161a67107df58b477c9bf28d13d7e6d78a0bcf5\n'}]",0,768000,0fcfe42622db614583071053c2c97b107ad0ce3a,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I2161a67107df58b477c9bf28d13d7e6d78a0bcf5
",git fetch https://review.opendev.org/openstack/barbican refs/changes/00/768000/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,0fcfe42622db614583071053c2c97b107ad0ce3a,zanata/translations,"""POT-Creation-Date: 2020-12-16 20:59+0000\n""""PO-Revision-Date: 2020-12-19 01:24+0000\n""msgid ""11.0.0-19"" msgstr ""11.0.0-19""","""POT-Creation-Date: 2020-12-01 15:18+0000\n""""PO-Revision-Date: 2020-12-10 01:28+0000\n""msgid ""11.0.0-18"" msgstr ""11.0.0-18""",4,4
openstack%2Ftripleo-quickstart-extras~master~I96808cc1d6c01391775a5f38d6dc27b6cf214afa,openstack/tripleo-quickstart-extras,master,I96808cc1d6c01391775a5f38d6dc27b6cf214afa,Os_tempest everywhere,MERGED,2020-08-17 14:00:34.000000000,2021-01-12 15:07:24.000000000,2021-01-09 08:23:08.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30742}, {'_account_id': 30750}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-08-17 14:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b3d3f5f8bd306f7167ca2cb75d61d5685d54cbbd', 'message': 'Os_tempest everywhere\n\nThis patch overwrite the use_os_tempest and run_tempest variables,\nforcing all the jobs to test tempest with os_tempest role, instead of\nvalidate-tempest\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\n'}, {'number': 2, 'created': '2020-08-17 16:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5afa2596e6b29934cf30c4964c70db98ece1c7d3', 'message': 'Os_tempest everywhere\n\nThis patch overwrite the use_os_tempest and run_tempest variables,\nforcing all the jobs to test tempest with os_tempest role, instead of\nvalidate-tempest\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\n'}, {'number': 3, 'created': '2020-08-18 07:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ee12c43316530aef5b21ed8047b42de51f46dcd5', 'message': 'Os_tempest everywhere\n\nThis patch overwrite the use_os_tempest and run_tempest variables,\nforcing all the jobs to test tempest with os_tempest role, instead of\nvalidate-tempest\n\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\n'}, {'number': 4, 'created': '2020-08-18 11:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4c3b7d5fe05ff76208fa64ff6b77217bb2b448f0', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\n'}, {'number': 5, 'created': '2020-08-24 12:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/002fa61d20877b2ce5b7af41a8c57fa9d2e161cd', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\n'}, {'number': 6, 'created': '2020-08-26 11:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/163a2357e8596b307ad22f584deccc37681f2f66', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nIt disable stackviz for CentOS-7 based distros.\n\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\n'}, {'number': 7, 'created': '2020-08-27 08:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5e2d0496a93510bcb82dce8aee94911b65403764', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nIt disable stackviz for CentOS-7 based distros.\n\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\n'}, {'number': 8, 'created': '2020-08-27 09:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e655c6c1be4161a5093b70f37ee98e24c6cf110d', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nIt disable stackviz for CentOS-7 based distros.\nIn Queens, Auth_url ends with //v3 leading to auth issue, replacing\nit with /v3 fixes the issue.\n\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n'}, {'number': 9, 'created': '2020-08-27 10:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9cac0a5418755fd76903a79505c3f70d26b8c4d4', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nIt disable stackviz for CentOS-7 based distros.\nIn Queens, Auth_url ends with //v3 leading to auth issue, replacing\nit with /v3 fixes the issue.\nGenerate clouds.yaml only for overcloud.\n\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n'}, {'number': 10, 'created': '2020-09-02 11:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2b12dc6ed84ccdb52a195e4091bf7ea7a1116002', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nIt disable stackviz for CentOS-7 based distros.\nIn Queens, Auth_url ends with //v3 leading to auth issue, replacing\nit with /v3 fixes the issue.\nGenerate clouds.yaml only for overcloud.\n\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n'}, {'number': 11, 'created': '2020-09-04 10:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6088ffeb849167f882812d4b45c5babc1c927d35', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nIt disable stackviz for CentOS-7 based distros.\nIn Queens, Auth_url ends with //v3 leading to auth issue, replacing\nit with /v3 fixes the issue.\nGenerate clouds.yaml only for overcloud.\n\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n'}, {'number': 12, 'created': '2020-09-04 13:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a1da589ab1695de51b9ae61a81ee992818bba908', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nIt disable stackviz for CentOS-7 based distros.\nIn Queens, Auth_url ends with //v3 leading to auth issue, replacing\nit with /v3 fixes the issue.\nGenerate clouds.yaml only for overcloud.\n\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n'}, {'number': 13, 'created': '2020-09-07 10:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/dcec465759507e3813a98180797e9197cc0be65d', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nIt disable stackviz for CentOS-7 based distros.\nIn Queens, Auth_url ends with //v3 leading to auth issue, replacing\nit with /v3 fixes the issue.\nGenerate clouds.yaml only for overcloud.\n\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n'}, {'number': 14, 'created': '2020-09-08 04:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a7b05fa7b489418e2c5335a4f619382e2f1832ba', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nIt disable stackviz for CentOS-7 based distros.\nIn Queens, Auth_url ends with //v3 leading to auth issue, replacing\nit with /v3 fixes the issue.\nGenerate clouds.yaml only for overcloud.\n\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n'}, {'number': 15, 'created': '2020-09-08 09:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/27221f7b70f7200ce60c36d4f0793ee6696e3c2f', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nIt disable stackviz for CentOS-7 based distros.\nIn Queens, Auth_url ends with //v3 leading to auth issue, replacing\nit with /v3 fixes the issue.\nGenerate clouds.yaml only for overcloud.\n\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n'}, {'number': 16, 'created': '2020-09-08 11:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/24f160a5e208ae0f7db5ea9e91ffc9e21b70776e', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nIt disable stackviz for CentOS-7 based distros.\nIn Queens, Auth_url ends with //v3 leading to auth issue, replacing\nit with /v3 fixes the issue.\nGenerate clouds.yaml only for overcloud.\n\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n'}, {'number': 17, 'created': '2020-09-21 14:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f3e025b2f2bafd3ff1e0ca9abb7e7d47fd764997', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nIt disable stackviz for CentOS-7 based distros.\nIn Queens, Auth_url ends with //v3 leading to auth issue, replacing\nit with /v3 fixes the issue.\nGenerate clouds.yaml only for overcloud.\n\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n'}, {'number': 18, 'created': '2020-09-22 10:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0a73ed0bf4117290c203dfaff94207a63aeaa1bc', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nIt disable stackviz for CentOS-7 based distros.\nIn Queens, Auth_url ends with //v3 leading to auth issue, replacing\nit with /v3 fixes the issue.\nGenerate clouds.yaml only for overcloud.\n\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n'}, {'number': 19, 'created': '2020-09-22 12:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/63b970e6d153bc917ea5f0be942e7fe83c633ace', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nIt disable stackviz for CentOS-7 based distros.\nIn Queens, Auth_url ends with //v3 leading to auth issue, replacing\nit with /v3 fixes the issue.\nGenerate clouds.yaml only for overcloud.\n\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n'}, {'number': 20, 'created': '2020-09-22 16:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1fbe4232ab797c737a762bb61b8bb039e39488dd', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nIt disable stackviz for CentOS-7 based distros.\nIn Queens, Auth_url ends with //v3 leading to auth issue, replacing\nit with /v3 fixes the issue.\nGenerate clouds.yaml only for overcloud.\n\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n'}, {'number': 21, 'created': '2020-09-22 20:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0fbe81bef2fd01bfa1492d5bdac381448334cc2b', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nIt disable stackviz for CentOS-7 based distros.\nIn Queens, Auth_url ends with //v3 leading to auth issue, replacing\nit with /v3 fixes the issue.\nGenerate clouds.yaml only for overcloud.\n\nDepends-On: https://review.opendev.org/753449\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n'}, {'number': 22, 'created': '2020-09-23 08:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f1b0e0b3b18b82f496f56337f0f72be4f62535c9', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nIt disable stackviz for CentOS-7 based distros.\nIn Queens, Auth_url ends with //v3 leading to auth issue, replacing\nit with /v3 fixes the issue.\nGenerate clouds.yaml only for overcloud.\n\nDepends-On: https://review.opendev.org/753449\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n'}, {'number': 23, 'created': '2020-09-29 09:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5c138793dd4f96989b416b2f441c1f61ba2664b9', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nIt disable stackviz for CentOS-7 based distros.\nIn Queens, Auth_url ends with //v3 leading to auth issue, replacing\nit with /v3 fixes the issue.\nGenerate clouds.yaml only for overcloud.\n\nDepends-On: https://review.opendev.org/753449\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n'}, {'number': 24, 'created': '2020-10-05 09:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/230dbcb248629d870cae3b4884a6181f1cf693fc', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nIt disable stackviz for CentOS-7 based distros.\nIn Queens, Auth_url ends with //v3 leading to auth issue, replacing\nit with /v3 fixes the issue.\nGenerate clouds.yaml only for overcloud.\n\nDepends-On: https://review.opendev.org/753449\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n'}, {'number': 25, 'created': '2020-10-05 10:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9468247a7f0bf37138bde458d25565fe80011c1b', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nIt disable stackviz for CentOS-7 based distros.\nIn Queens, Auth_url ends with //v3 leading to auth issue, replacing\nit with /v3 fixes the issue.\nGenerate clouds.yaml only for overcloud.\n\nDepends-On: https://review.opendev.org/753449\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n'}, {'number': 26, 'created': '2020-10-16 09:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/67b311e5a1c82c7b2f2a2ef2cd9d50635d3b5eba', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nIt disable stackviz for CentOS-7 based distros.\nIn Queens, Auth_url ends with //v3 leading to auth issue, replacing\nit with /v3 fixes the issue.\nGenerate clouds.yaml only for overcloud.\n\nDepends-On: https://review.opendev.org/753449\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n'}, {'number': 27, 'created': '2020-10-16 12:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/dc576af150664d7dc111c8d3e529f50d780aa528', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nIt disable stackviz for CentOS-7 based distros.\nIn Queens, Auth_url ends with //v3 leading to auth issue, replacing\nit with /v3 fixes the issue.\nGenerate clouds.yaml only for overcloud.\n\nDepends-On: https://review.opendev.org/753449\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n'}, {'number': 28, 'created': '2020-10-22 09:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4ede53fa36c109b69bb5c29d23899180547c43bb', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nAlso other changes in order to make it work properly:\n* Disable stackviz for CentOS-7 based distros.\n* In Queens, Auth_url ends with //v3 leading to auth issue, replacing\n  it with /v3 fixes the issue.\n* Generate clouds.yaml only for overcloud.\n* Setting the CURL_CA_BUNDLE in order to avoid invalid ssl certificate\n  errors\nDepends-On: https://review.opendev.org/753449\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n'}, {'number': 29, 'created': '2020-10-27 09:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b0fbca0d138b660532ee51cb90e2369e752467c2', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nAlso other changes in order to make it work properly:\n* Disable stackviz for CentOS-7 based distros.\n* In Queens, Auth_url ends with //v3 leading to auth issue, replacing\n  it with /v3 fixes the issue.\n* Generate clouds.yaml only for overcloud.\n* Setting the CURL_CA_BUNDLE in order to avoid invalid ssl certificate\n  errors\nDepends-On: https://review.opendev.org/759830\nRelated-Bug: #1891372\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n'}, {'number': 30, 'created': '2020-10-30 09:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/68a1db505ebcdbf0e5c908041e5292c9557748d5', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nAlso other changes in order to make it work properly:\n* Disable stackviz for CentOS-7 based distros.\n* In Queens, Auth_url ends with //v3 leading to auth issue, replacing\n  it with /v3 fixes the issue.\n* Generate clouds.yaml only for overcloud.\n* Setting the CURL_CA_BUNDLE in order to avoid invalid ssl certificate\n  errors\n\nRelated-Bug: #1891372\n\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n\nDepends-On: https://review.opendev.org/#/c/759830/\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\n'}, {'number': 31, 'created': '2020-11-11 13:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b4b1fbf9f82e4be16f1a6c7180e784db29086969', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nAlso other changes in order to make it work properly:\n* Disable stackviz for CentOS-7 based distros.\n* In Queens, Auth_url ends with //v3 leading to auth issue, replacing\n  it with /v3 fixes the issue.\n* Generate clouds.yaml only for overcloud.\n* Setting the CURL_CA_BUNDLE in order to avoid invalid ssl certificate\n  errors\n\nRelated-Bug: #1891372\n\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n\nDepends-On: https://review.opendev.org/#/c/759830/\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\n'}, {'number': 32, 'created': '2020-11-13 20:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0f70668111a4a6731763faf4dd02424d67e28c62', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nAlso other changes in order to make it work properly:\n* Disable stackviz for CentOS-7 based distros.\n* In Queens, Auth_url ends with //v3 leading to auth issue, replacing\n  it with /v3 fixes the issue.\n* Generate clouds.yaml only for overcloud.\n* Setting the CURL_CA_BUNDLE in order to avoid invalid ssl certificate\n  errors\n\nRelated-Bug: #1891372\n\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n\nDepends-On: https://review.opendev.org/#/c/759830/\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\n'}, {'number': 33, 'created': '2021-01-06 15:21:54.000000000', 'files': ['playbooks/multinode-validate.yml', 'playbooks/quickstart-extras-validate.yml', 'playbooks/multinode-standalone.yml', 'playbooks/multinode-standalone-upgrade.yml', 'playbooks/tasks/tempest.yml', 'playbooks/baremetal-full-overcloud-validate.yml', 'playbooks/quickstart-extras-standalone.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d202a61941b8fdbf65a3a3c675e021f04288acb2', 'message': 'Os_tempest everywhere\n\nRemove the logic to choose between validate-tempest and os_tempest.\nFrom now, only os_tempest should be executed.\n\nAlso other changes in order to make it work properly:\n* Disable stackviz for CentOS-7 based distros.\n* In Queens, Auth_url ends with //v3 leading to auth issue, replacing\n  it with /v3 fixes the issue.\n* Generate clouds.yaml only for overcloud.\n* Setting the CURL_CA_BUNDLE in order to avoid invalid ssl certificate\n  errors\n\nRelated-Bug: #1891372\n\nCo-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nSigned-off-by: Arx Cruz <arxcruz@redhat.com>\n\nDepends-On: https://review.opendev.org/#/c/759830/\n\nChange-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa\n'}]",13,746509,d202a61941b8fdbf65a3a3c675e021f04288acb2,225,11,33,8367,,,0,"Os_tempest everywhere

Remove the logic to choose between validate-tempest and os_tempest.
From now, only os_tempest should be executed.

Also other changes in order to make it work properly:
* Disable stackviz for CentOS-7 based distros.
* In Queens, Auth_url ends with //v3 leading to auth issue, replacing
  it with /v3 fixes the issue.
* Generate clouds.yaml only for overcloud.
* Setting the CURL_CA_BUNDLE in order to avoid invalid ssl certificate
  errors

Related-Bug: #1891372

Co-authored-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Signed-off-by: Arx Cruz <arxcruz@redhat.com>

Depends-On: https://review.opendev.org/#/c/759830/

Change-Id: I96808cc1d6c01391775a5f38d6dc27b6cf214afa
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/09/746509/32 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest.yml'],1,b3d3f5f8bd306f7167ca2cb75d61d5685d54cbbd,os-tempest-everywhere,"# TODO(arxcruz) Set this as default, and remove this settings from all # featuresets in the future - name: Override variables to force use os_tempest set_facts: run_tempest: false use_os_tempest: true - release in ['queens', 'rocky', 'stein']"," - release in ['queens', 'stein']",8,1
openstack%2Ftripleo-upgrade~master~I3cd33592a625cb8d8dabd0ad09e5f95e1e3be556,openstack/tripleo-upgrade,master,I3cd33592a625cb8d8dabd0ad09e5f95e1e3be556,[FFWD] Propose a fix for node_upgrade_pre.sh.j2,MERGED,2020-11-08 15:44:29.000000000,2021-01-12 14:53:06.000000000,2021-01-07 00:22:44.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 20171}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 28182}]","[{'number': 1, 'created': '2020-11-08 15:44:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/89e386783d54f750d0e585ee55d449cf016bc631', 'message': '[FFWD] Propose a fix for node_upgrade_pre.sh.j2\n\nIf overcloud already exist and migration needed before compute upgrade\nWhich means workload_launch=false and compute_present=true\ncompute_upgrade_pre.sh is not created.\nThis fix allows the above parameter mix to create compute_upgrade_pre.sh\n\nChange-Id: I3cd33592a625cb8d8dabd0ad09e5f95e1e3be556\n'}, {'number': 2, 'created': '2020-11-10 11:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5b3c74fb0683e0bb7f9fe27c640167a253dbe886', 'message': '[FFWD] Propose a fix for node_upgrade_pre.sh.j2\n\nIf overcloud already exist and migration needed before compute upgrade\nWhich means workload_launch=false and compute_present=true\ncompute_upgrade_pre.sh is not created.\nThis fix allows the above parameter mix to create and run\ncompute_upgrade_pre.sh\n\nChange-Id: I3cd33592a625cb8d8dabd0ad09e5f95e1e3be556\n'}, {'number': 3, 'created': '2020-11-11 15:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/68067665ad3cab480365b87f6fa75c25f537788c', 'message': '[FFWD] Propose a fix for node_upgrade_pre.sh.j2\n\nIf overcloud already exist and migration needed before compute upgrade\nWhich means workload_launch=false and compute_present=true\ncompute_upgrade_pre.sh is not created.\nThis fix allows the above parameter mix to create and run\ncompute_upgrade_pre.sh\n\nAdding condition check in compute_upgrade_pre.sh\n1) If no active computes on host, live migration will not occur\n2) Adding --all param to see tenant vms on compute\n\nChange-Id: I3cd33592a625cb8d8dabd0ad09e5f95e1e3be556\n'}, {'number': 4, 'created': '2020-11-12 10:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/822659b2e4096bdc3697aeb4060afa5522e39050', 'message': '[FFWD] Propose a fix for node_upgrade_pre.sh.j2\n\nIf overcloud already exist and migration needed before compute upgrade\nWhich means workload_launch=false and compute_present=true\ncompute_upgrade_pre.sh is not created.\nThis fix allows the above parameter mix to create and run\ncompute_upgrade_pre.sh\n\nAdding condition check in compute_upgrade_pre.sh\n1) If no active computes on host, live migration will not occur\n2) Adding --all param to see tenant vms on compute\n\nChange-Id: I3cd33592a625cb8d8dabd0ad09e5f95e1e3be556\n'}, {'number': 5, 'created': '2020-11-22 07:33:42.000000000', 'files': ['templates/node_upgrade_pre.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b8d3218d1e40d3593d022d66ad3d91ccf01adf85', 'message': '[FFWD] Propose a fix for node_upgrade_pre.sh.j2\n\nIf overcloud already exist and migration needed before compute upgrade\nWhich means workload_launch=false and compute_present=true\ncompute_upgrade_pre.sh is not created.\nThis fix allows the above parameter mix to create and run\ncompute_upgrade_pre.sh\n\nAdding condition check in compute_upgrade_pre.sh\n1) If no active computes on host, live migration will not occur\n2) Adding --all param to see tenant vms on compute\n\nChange-Id: I3cd33592a625cb8d8dabd0ad09e5f95e1e3be556\n'}]",11,761836,b8d3218d1e40d3593d022d66ad3d91ccf01adf85,41,9,5,20171,,,0,"[FFWD] Propose a fix for node_upgrade_pre.sh.j2

If overcloud already exist and migration needed before compute upgrade
Which means workload_launch=false and compute_present=true
compute_upgrade_pre.sh is not created.
This fix allows the above parameter mix to create and run
compute_upgrade_pre.sh

Adding condition check in compute_upgrade_pre.sh
1) If no active computes on host, live migration will not occur
2) Adding --all param to see tenant vms on compute

Change-Id: I3cd33592a625cb8d8dabd0ad09e5f95e1e3be556
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/36/761836/5 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/create-overcloud-ffu-hosts-scripts.yaml'],1,89e386783d54f750d0e585ee55d449cf016bc631,fix-compute-migration-ffup, when: compute_present|bool or workload_launch|bool, when: - compute_present|bool - workload_launch|bool,1,3
openstack%2Ftripleo-common~stable%2Ftrain~I62a08c3f82f4db6daeeb14c45ae9ea2e34327dc2,openstack/tripleo-common,stable/train,I62a08c3f82f4db6daeeb14c45ae9ea2e34327dc2,Wire up new tripleo upgrades jobs template,MERGED,2021-01-04 17:03:22.000000000,2021-01-12 14:39:47.000000000,2021-01-12 14:33:08.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-04 17:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9c92433e53998fa9763bf118dc7446ea71811b59', 'message': 'Wire up new tripleo upgrades jobs template\n\nThe depends-on adds a new upgrade jobs template which is wired up\nhere. Once wired up across tripleo we can remove excess content\nproviders with [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131\nDepends-On: https://review.opendev.org/761188\n\nChange-Id: I62a08c3f82f4db6daeeb14c45ae9ea2e34327dc2\n'}, {'number': 2, 'created': '2021-01-04 17:05:09.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a5791942bde4ec1d3f28bb4f41f7340f82a6aed9', 'message': 'Wire up new tripleo upgrades jobs template\n\nThe depends-on adds a new upgrade jobs template which is wired up\nhere. Once wired up across tripleo we can remove excess content\nproviders with [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131\nDepends-On: https://review.opendev.org/761188\n\nChange-Id: I62a08c3f82f4db6daeeb14c45ae9ea2e34327dc2\n'}]",0,769168,a5791942bde4ec1d3f28bb4f41f7340f82a6aed9,12,5,2,8449,,,0,"Wire up new tripleo upgrades jobs template

The depends-on adds a new upgrade jobs template which is wired up
here. Once wired up across tripleo we can remove excess content
providers with [1].

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131
Depends-On: https://review.opendev.org/761188

Change-Id: I62a08c3f82f4db6daeeb14c45ae9ea2e34327dc2
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/68/769168/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,9c92433e53998fa9763bf118dc7446ea71811b59,reduce-content-providers, - tripleo-upgrades-train-pipeline ,,2,0
openstack%2Fbifrost~stable%2Fvictoria~Ib8f766ab17c0ef558a1eba82fea1bbd070500107,openstack/bifrost,stable/victoria,Ib8f766ab17c0ef558a1eba82fea1bbd070500107,Fix passing parameters with spaces to bifrost-cli,MERGED,2021-01-12 09:42:33.000000000,2021-01-12 14:39:15.000000000,2021-01-12 14:37:33.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-01-12 09:42:33.000000000', 'files': ['releasenotes/notes/params-ab98e0ac242d119a.yaml', 'bifrost-cli'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/0cd0c1de9386e8990ef3d48a3ae4ca7d62631554', 'message': 'Fix passing parameters with spaces to bifrost-cli\n\nChange-Id: Ib8f766ab17c0ef558a1eba82fea1bbd070500107\n(cherry picked from commit 27da1c25dafb515fd2a82a4c615b69d549aaf635)\n'}]",0,770182,0cd0c1de9386e8990ef3d48a3ae4ca7d62631554,9,2,1,10239,,,0,"Fix passing parameters with spaces to bifrost-cli

Change-Id: Ib8f766ab17c0ef558a1eba82fea1bbd070500107
(cherry picked from commit 27da1c25dafb515fd2a82a4c615b69d549aaf635)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/82/770182/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/params-ab98e0ac242d119a.yaml', 'bifrost-cli']",2,0cd0c1de9386e8990ef3d48a3ae4ca7d62631554,params-stable/victoria,"PYTHONPATH=$(dirname $0) exec python3 -m bifrost.cli ""$@""",PYTHONPATH=$(dirname $0) exec python3 -m bifrost.cli $@,5,1
openstack%2Fglance-specs~master~Ib3486144680c44db3b15f3460eaa634e5c320792,openstack/glance-specs,master,Ib3486144680c44db3b15f3460eaa634e5c320792,Full spec for cluster awareness with RabbitMQ,ABANDONED,2019-06-12 15:15:30.000000000,2021-01-12 14:36:24.000000000,,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 9373}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-12 15:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/fa6d5992757ab24b85bb32adae6208f47382b769', 'message': 'Full spec for cluster awareness with RabbitMQ\n\nChange-Id: Ib3486144680c44db3b15f3460eaa634e5c320792\n'}, {'number': 2, 'created': '2019-07-08 15:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/be9a13624774a3c08ab458be236d707ded501983', 'message': 'Full spec for cluster awareness with RabbitMQ\n\nChange-Id: Ib3486144680c44db3b15f3460eaa634e5c320792\n'}, {'number': 3, 'created': '2019-09-06 12:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/1d4cbf73cb67f27a45591f901c39ba79e68049fb', 'message': 'Full spec for cluster awareness with RabbitMQ\n\nChange-Id: Ib3486144680c44db3b15f3460eaa634e5c320792\n'}, {'number': 4, 'created': '2019-09-09 12:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/bc3baf509d3dcbcc2fc9e703f3509a6786375025', 'message': 'Full spec for cluster awareness with RabbitMQ\n\nChange-Id: Ib3486144680c44db3b15f3460eaa634e5c320792\n'}, {'number': 5, 'created': '2020-11-23 07:07:31.000000000', 'files': ['specs/train/approved/index.rst', 'specs/wallaby/approved/glance/cluster-awareness.rst', 'specs/wallaby/approved/index.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/825ef0cf6b24c87135db7b82cc914f2499bb4744', 'message': 'Full spec for cluster awareness with RabbitMQ\n\nChange-Id: Ib3486144680c44db3b15f3460eaa634e5c320792\n'}]",67,664956,825ef0cf6b24c87135db7b82cc914f2499bb4744,23,6,5,5202,,,0,"Full spec for cluster awareness with RabbitMQ

Change-Id: Ib3486144680c44db3b15f3460eaa634e5c320792
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/56/664956/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/glance/cluster-awareness.rst'],1,fa6d5992757ab24b85bb32adae6208f47382b769,cluster_aware_full_spec,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============================== Cluster awareness with RabbitMQ =============================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/glance/+spec/cluster-awareness With Interoperable Image Import and new edge usecases introducing asynchronous tasks we cannot expect users always hitting the specific node where data is located or that needs to do the work. Thus it's essential that we implement a way for the glance-api nodes to communicate with eachother and provide the request to the correct worker. Problem description =================== Glance local is good example of image-import call that will currently require the import call to be received by the node that has access to the data, either via shared filesystem or the data being local on the node receiving the call. We cannot expect this to be te case long term and specially not when Edge is bringing new challenges with geographically distributed nodes. We need to have a mechanism to reroute the requests to the nodes that are actually able to process them. Another set of problems that are introduced by distributed nodes is how do we provide best possible user experience to avoid users needing to explicitely select node for specific request (say initiating image precaching or image data migration between stores). Proposed change =============== We introduce cluster awareness into Glance in which the glance-api nodes are first time aware that there might be other nodes in the cluster and is able to communicate with them. Using RabbitMQ is industry proven mechanism to achieve this and is already a requirement to operate Glance. It will provide more than ample tools to address the communication needs between the glance-api nodes without introducing new dependencies or risk production stability with non- proven technologies. This apporach was previosly approved as lite spec for Rocky cycle but the increased complexity and needs warrants full spec explaining the details of the approach instead of blanket statement of us looking into it. Alternatives ------------ We could leave the glance-api nodes operating independently without any communication between eachother and push the burden of managing the target API requirements to the user. Or we could look into some other mechanism of the nodes communicating with eachother, for example calling directly the RestFul API, this would likely need unacceptable firewall rules to allow distributed calls between the nodes rather than centralized solution that is already deployed. Data model impact ----------------- None REST API impact --------------- Directly none, lots of the planned features depending of this work are providing extensions to the Images API v2 Security impact --------------- The glance-api nodes will, instead of just publishing, process data from the message queues. To make this possible the tokens needs to be transported with the requests, special care needs to be taken to ensure that the message queue is deployed securely. Notifications impact -------------------- None Other end user impact --------------------- Less request micromanagement for endusers and operators. Performance Impact ------------------ This feature will introduce small delays to the API calls with the benefit of those calls having improved success rate instead of failing as the receiving node not being able to fulfil them. Other deployer impact --------------------- None Developer impact ---------------- Distributed nature needs to be taken into account when designing new features and modifying existing ones. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: jokke Other contributors: <launchpad-id or None> Work Items ---------- * Introducing server tags as config option for targetting subset of nodes. * Implementing the pblisher and consumer functions. * Piping the needed API calls to redirect the request to the MQ instead of instant failure. This part also needs the request to be delayed until we get confirmation that some node can actually fulfil the request. Dependencies ============ None Testing ======= Unit, Functional and Integration testing needs to be implemented. Documentation Impact ==================== None References ========== https://specs.openstack.org/openstack/glance-specs/specs/rocky/approved/glance/spec-lite-cluster-awareness.html ",,165,0
openstack%2Faodh~master~I9a31e347bc3a2b78b9b3e6b205f48da3131803d1,openstack/aodh,master,I9a31e347bc3a2b78b9b3e6b205f48da3131803d1,Update TOX_CONSTRAINTS_FILE,MERGED,2020-12-14 09:51:35.000000000,2021-01-12 14:04:13.000000000,2021-01-12 14:02:31.000000000,"[{'_account_id': 4264}, {'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-14 09:51:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/aodh/commit/2710b6000d582b070842e6405c5086245d1b0334', 'message': 'Update TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I9a31e347bc3a2b78b9b3e6b205f48da3131803d1\n'}]",0,766912,2710b6000d582b070842e6405c5086245d1b0334,8,3,1,32291,,,0,"Update TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I9a31e347bc3a2b78b9b3e6b205f48da3131803d1
",git fetch https://review.opendev.org/openstack/aodh refs/changes/12/766912/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2710b6000d582b070842e6405c5086245d1b0334,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},4,4
openstack%2Fpython-openstackclient~master~I69449112027736152c9fb62f5fe427efd6a25107,openstack/python-openstackclient,master,I69449112027736152c9fb62f5fe427efd6a25107,network: Address nits for I3c313fc9329837dde67815901528a34dca98ebcc,MERGED,2021-01-11 14:29:39.000000000,2021-01-12 13:56:08.000000000,2021-01-12 13:54:11.000000000,"[{'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28159}]","[{'number': 1, 'created': '2021-01-11 14:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f3bfeaae4942d25bc6599321d1de7b817d6fd58b', 'message': 'network: Address nits for I3c313fc9329837dde67815901528a34dca98ebcc\n\nAddress comments left in the review for $subject.\n\nChange-Id: I69449112027736152c9fb62f5fe427efd6a25107\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2021-01-12 10:08:14.000000000', 'files': ['openstackclient/network/v2/address_group.py', 'openstackclient/tests/unit/network/v2/test_address_group.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/dd89efd5acbabcd4de0f071a2f7fbb93d067a950', 'message': 'network: Address nits for I3c313fc9329837dde67815901528a34dca98ebcc\n\nAddress comments left in the review for $subject.\n\nChange-Id: I69449112027736152c9fb62f5fe427efd6a25107\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,770131,dd89efd5acbabcd4de0f071a2f7fbb93d067a950,10,4,2,15334,,,0,"network: Address nits for I3c313fc9329837dde67815901528a34dca98ebcc

Address comments left in the review for $subject.

Change-Id: I69449112027736152c9fb62f5fe427efd6a25107
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/31/770131/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/network/v2/address_group.py'],1,f3bfeaae4942d25bc6599321d1de7b817d6fd58b,bp/address-groups-in-sg-rules, return [str(netaddr.IPNetwork(addr)) for addr in addresses], ret = [] for addr in addresses: ret.append(str(netaddr.IPNetwork(addr))) return ret attrs['tenant_id'] = project_id,1,5
openstack%2Fansible-collections-openstack~master~I127ee59be74e9ebcf7f36b3fabdd6e41a5f7a3bb,openstack/ansible-collections-openstack,master,I127ee59be74e9ebcf7f36b3fabdd6e41a5f7a3bb,Added shelve and unshelve as new server actions,MERGED,2021-01-11 12:57:14.000000000,2021-01-12 13:55:54.000000000,2021-01-12 13:55:54.000000000,"[{'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-11 12:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/477d24ed526818635bef0f925c3ec5e738f99a4b', 'message': 'Added shelve and unshelve as new server actions\n\nTask: 40737\nStory: 2008056\nChange-Id: I127ee59be74e9ebcf7f36b3fabdd6e41a5f7a3bb\n'}, {'number': 2, 'created': '2021-01-11 14:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4060cf4bb7e7d48cfafb83cbd02b15cfd5d92a81', 'message': 'Added shelve and unshelve as new server actions\n\nTask: 40737\nStory: 2008056\nChange-Id: I127ee59be74e9ebcf7f36b3fabdd6e41a5f7a3bb\n'}, {'number': 3, 'created': '2021-01-12 07:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/30e4579bdfd3ec64abe1ac828a57d3a370e87e69', 'message': 'Added shelve and unshelve as new server actions\n\nTask: 40737\nStory: 2008056\nChange-Id: I127ee59be74e9ebcf7f36b3fabdd6e41a5f7a3bb\n'}, {'number': 4, 'created': '2021-01-12 09:15:48.000000000', 'files': ['ci/roles/server/tasks/server_actions.yml', 'plugins/modules/server_action.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6e2bde40607de8c2b21e1762921170db6b42bc70', 'message': 'Added shelve and unshelve as new server actions\n\nTask: 40737\nStory: 2008056\nChange-Id: I127ee59be74e9ebcf7f36b3fabdd6e41a5f7a3bb\n'}]",0,770119,6e2bde40607de8c2b21e1762921170db6b42bc70,15,4,4,32962,,,0,"Added shelve and unshelve as new server actions

Task: 40737
Story: 2008056
Change-Id: I127ee59be74e9ebcf7f36b3fabdd6e41a5f7a3bb
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/19/770119/3 && git format-patch -1 --stdout FETCH_HEAD,"['ci/roles/server/tasks/server_actions.yml', 'plugins/modules/server_action.py']",2,477d24ed526818635bef0f925c3ec5e738f99a4b,story_2008056_shelve_server," rebuild, shelve, shelve_offload, unshelve]# If I(action) is set to C(shelve) then according to OpenStack's Compute API, the shelved # server is in one of two possible states: # # SHELVED: The server is in shelved state. Depends on the shelve offload time, # the server will be automatically shelved off loaded. # SHELVED_OFFLOADED: The shelved server is offloaded (removed from the compute host) and # it needs unshelved action to be used again. # # But wait_for_server can only wait for a single server state. If a shelved server is offloaded # immediately, then a exceptions.ResourceTimeout will be raised if I(action) is set to C(shelve). # This is likely to happen because shelved_offload_time in Nova's config is set to 0 by default. # This also applies if you boot the server from volumes. # # Calling C(shelve_offload) instead of C(shelve) will also fail most likely because the default # policy does not allow C(shelve_offload) for non-admin users while C(shelve) is allowed for # admin users and server owners. # # As we cannot retrieve shelved_offload_time from Nova's config, we fall back to waiting for # one state and if that fails then we fetch the server's state and match it against the other # valid states from _action_map. # # Ref.: https://docs.openstack.org/api-guide/compute/server_concepts.html _action_map = {'stop': ['SHUTOFF'], 'start': ['ACTIVE'], 'pause': ['PAUSED'], 'unpause': ['ACTIVE'], 'lock': ['ACTIVE'], # API doesn't show lock/unlock status 'unlock': ['ACTIVE'], 'suspend': ['SUSPENDED'], 'resume': ['ACTIVE'], 'rebuild': ['ACTIVE'], 'shelve': ['SHELVED_OFFLOADED', 'SHELVED'], 'shelve_offload': ['SHELVED_OFFLOADED'], 'unshelve': ['ACTIVE']} _admin_actions = ['pause', 'unpause', 'suspend', 'resume', 'lock', 'unlock', 'shelve_offload'] 'rebuild', 'shelve', 'shelve_offload', 'unshelve']), if self.params['action'] == 'shelve_offload': # shelve_offload is not supported in OpenstackSDK return self._action(os_server, json={'shelveOffload': None}) self._action(os_server, json={'rebuild': {'imageRef': image['id']}}) def _action(self, os_server, json): response = self.conn.compute.post( '/servers/{server_id}/action'.format(server_id=os_server['id']), json=json) self.sdk.exceptions.raise_from_response(response) return response states = _action_map[self.params['action']] try: self.conn.compute.wait_for_server( server, status=states[0], wait=self.params['timeout']) except self.sdk.exceptions.ResourceTimeout: # raise if there is only one valid state if len(states) < 2: raise # fetch current server status and compare to other valid states server = self.conn.compute.get_server(os_server['id']) if server.status not in states: raise return os_server.status not in _action_map[self.params['action']]"," rebuild] _action_map = {'stop': 'SHUTOFF', 'start': 'ACTIVE', 'pause': 'PAUSED', 'unpause': 'ACTIVE', 'lock': 'ACTIVE', # API doesn't show lock/unlock status 'unlock': 'ACTIVE', 'suspend': 'SUSPENDED', 'resume': 'ACTIVE', 'rebuild': 'ACTIVE'} _admin_actions = ['pause', 'unpause', 'suspend', 'resume', 'lock', 'unlock'] 'rebuild']), self.conn.compute.post( '/servers/{server_id}/action'.format( server_id=os_server['id']), json={'rebuild': {'imageRef': image['id']}}) self.conn.compute.wait_for_server( server, status=_action_map[self.params['action']], wait=self.params['timeout']) return os_server.status != _action_map[self.params['action']]",144,21
openstack%2Fpython-openstackclient~stable%2Fvictoria~I8ec738fbcabc8d8553db79a876e5592576cd18fa,openstack/python-openstackclient,stable/victoria,I8ec738fbcabc8d8553db79a876e5592576cd18fa,Fix lower-constraints job,MERGED,2021-01-12 09:39:22.000000000,2021-01-12 13:55:47.000000000,2021-01-12 13:54:07.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-12 09:39:22.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/83cd9b5b9c3b4c471b41190675f880599b78e44e', 'message': 'Fix lower-constraints job\n\npip 20.3 finally includes a proper dependency resolver. Its use is\ncausing the following error messages on the lower-constraints job:\n\n  ERROR: Cannot install ... because these package versions have\n  conflicting dependencies.\n\n  The conflict is caused by:\n      bandit 1.1.0 depends on PyYAML>=3.1.0\n      cliff 3.4.0 depends on PyYAML>=3.12\n      openstacksdk 0.52.0 depends on PyYAML>=3.13\n\nBump our lower constraint for PyYAML to resolve this issue. With that\nresolved, we see a new issue:\n\n  ERROR: Could not find a version that satisfies the requirement\n  cryptography>=2.7 (from openstacksdk)\n  ERROR: No matching distribution found for cryptography>=2.7\n\nThis is less self-explanatory but looking at the lower-constraints for\nopenstacksdk 0.52.0 shows a dependency on cryptography 2.7 [1], meaning\nwe need to bump this also.\n\nNext up, flake8-import-order seems to cause the dependency resolver to\ngo nuts, eventually ending with the following error message in a Python\n3.6 environment:\n\n  Using cached enum34-1.1.2.zip (49 kB)\n    ERROR: Command errored out with exit status 1:\n     command: ...\n         cwd: ...\n    Complete output (9 lines):\n    Traceback (most recent call last):\n      File ""<string>"", line 1, in <module>\n      File "".../lib/python3.6/site-packages/setuptools/__init__.py"", line 7, in <module>\n        import setuptools.distutils_patch  # noqa: F401\n      File "".../lib/python3.6/site-packages/setuptools/distutils_patch.py"", line 9, in <module>\n        import re\n      File ""/usr/lib64/python3.6/re.py"", line 142, in <module>\n        class RegexFlag(enum.IntFlag):\n    AttributeError: module \'enum\' has no attribute \'IntFlag\'\n    ----------------------------------------\n\nA quick Google suggests this is because the enum34 package is not\ncomplete [2]. We shouldn\'t even be using it since our base virtualenv\nshould at least use Python 3.6, but I guess some dependency doesn\'t\nproperly restrict the dependency to <= Python 3.4. This is moved from\n\'test-requirements.txt\' to \'tox.ini\' since we don\'t need to use our\nconstraints machinery for linters.\n\nFinally, the versions of bandit and hacking that pip is bringing in both\nrequires in a newer version of babel, which in turn requires a new\nversion of pytz.\n\n  Collecting hacking>=2.0.0\n  ...\n  ERROR: Cannot install oslo.i18n because these package versions have\n  conflicting dependencies.\n  The conflict is caused by:\n      babel 2.9.0 depends on pytz>=2015.7\n      babel 2.8.1 depends on pytz>=2015.7\n      babel 2.8.0 depends on pytz>=2015.7\n      babel 2.7.0 depends on pytz>=2015.7\n\nSeeing as we shouldn\'t be tracking bandit in\nlower-constraints, I\'m not sure why we\'re want to bump these\ndependencies for just that. As above, we move these dependencies out of\n\'test-requirements\' and into \'tox.ini\' since we can do that for linters.\n\nModifications:\n  tox.ini\n\nNOTE(stephenfin): A cap is placed on the version of hacking used to\nprevent us bringing in 4.0.0, which requires additional fixes.\n\n[1] https://opendev.org/openstack/openstacksdk/src/tag/0.52.0/requirements.txt#L19\n[2] https://github.com/iterative/dvc/issues/1995#issuecomment-491889669\n\nChange-Id: I8ec738fbcabc8d8553db79a876e5592576cd18fa\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit 20769cd7b27d51da84a324a17922427eba5c6eac)\n'}]",0,770254,83cd9b5b9c3b4c471b41190675f880599b78e44e,8,3,1,15334,,,0,"Fix lower-constraints job

pip 20.3 finally includes a proper dependency resolver. Its use is
causing the following error messages on the lower-constraints job:

  ERROR: Cannot install ... because these package versions have
  conflicting dependencies.

  The conflict is caused by:
      bandit 1.1.0 depends on PyYAML>=3.1.0
      cliff 3.4.0 depends on PyYAML>=3.12
      openstacksdk 0.52.0 depends on PyYAML>=3.13

Bump our lower constraint for PyYAML to resolve this issue. With that
resolved, we see a new issue:

  ERROR: Could not find a version that satisfies the requirement
  cryptography>=2.7 (from openstacksdk)
  ERROR: No matching distribution found for cryptography>=2.7

This is less self-explanatory but looking at the lower-constraints for
openstacksdk 0.52.0 shows a dependency on cryptography 2.7 [1], meaning
we need to bump this also.

Next up, flake8-import-order seems to cause the dependency resolver to
go nuts, eventually ending with the following error message in a Python
3.6 environment:

  Using cached enum34-1.1.2.zip (49 kB)
    ERROR: Command errored out with exit status 1:
     command: ...
         cwd: ...
    Complete output (9 lines):
    Traceback (most recent call last):
      File ""<string>"", line 1, in <module>
      File "".../lib/python3.6/site-packages/setuptools/__init__.py"", line 7, in <module>
        import setuptools.distutils_patch  # noqa: F401
      File "".../lib/python3.6/site-packages/setuptools/distutils_patch.py"", line 9, in <module>
        import re
      File ""/usr/lib64/python3.6/re.py"", line 142, in <module>
        class RegexFlag(enum.IntFlag):
    AttributeError: module 'enum' has no attribute 'IntFlag'
    ----------------------------------------

A quick Google suggests this is because the enum34 package is not
complete [2]. We shouldn't even be using it since our base virtualenv
should at least use Python 3.6, but I guess some dependency doesn't
properly restrict the dependency to <= Python 3.4. This is moved from
'test-requirements.txt' to 'tox.ini' since we don't need to use our
constraints machinery for linters.

Finally, the versions of bandit and hacking that pip is bringing in both
requires in a newer version of babel, which in turn requires a new
version of pytz.

  Collecting hacking>=2.0.0
  ...
  ERROR: Cannot install oslo.i18n because these package versions have
  conflicting dependencies.
  The conflict is caused by:
      babel 2.9.0 depends on pytz>=2015.7
      babel 2.8.1 depends on pytz>=2015.7
      babel 2.8.0 depends on pytz>=2015.7
      babel 2.7.0 depends on pytz>=2015.7

Seeing as we shouldn't be tracking bandit in
lower-constraints, I'm not sure why we're want to bump these
dependencies for just that. As above, we move these dependencies out of
'test-requirements' and into 'tox.ini' since we can do that for linters.

Modifications:
  tox.ini

NOTE(stephenfin): A cap is placed on the version of hacking used to
prevent us bringing in 4.0.0, which requires additional fixes.

[1] https://opendev.org/openstack/openstacksdk/src/tag/0.52.0/requirements.txt#L19
[2] https://github.com/iterative/dvc/issues/1995#issuecomment-491889669

Change-Id: I8ec738fbcabc8d8553db79a876e5592576cd18fa
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit 20769cd7b27d51da84a324a17922427eba5c6eac)
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/54/770254/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'tox.ini']",3,83cd9b5b9c3b4c471b41190675f880599b78e44e,pip-20.3,"deps = hacking>=2.0.0,<4.0.0 bandit!=1.6.0,>=1.1.0 flake8-import-order>=0.13 # LGPLv3 flake8 bandit -r openstackclient -x tests -s B105,B106,B107,B401,B404,B603,B606,B607,B110,B605,B101"," flake8 bandit -r openstackclient -x tests -s B105,B106,B107,B401,B404,B603,B606,B607,B110,B605,B101",8,7
openstack%2Fbarbican-specs~master~I358528ba14ad874009d61d61f1272903f81ab2d8,openstack/barbican-specs,master,I358528ba14ad874009d61d61f1272903f81ab2d8,remove unicode from code,MERGED,2021-01-05 09:13:25.000000000,2021-01-12 13:49:52.000000000,2021-01-12 13:48:36.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-01-05 09:13:25.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/barbican-specs/commit/d062723f97c25628deff921be956e321bca2cc57', 'message': 'remove unicode from code\n\nChange-Id: I358528ba14ad874009d61d61f1272903f81ab2d8\n'}]",0,769264,d062723f97c25628deff921be956e321bca2cc57,8,3,1,32020,,,0,"remove unicode from code

Change-Id: I358528ba14ad874009d61d61f1272903f81ab2d8
",git fetch https://review.opendev.org/openstack/barbican-specs refs/changes/64/769264/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,d062723f97c25628deff921be956e321bca2cc57,,"project = 'Barbican Specs' copyright = '%s, OpenStack Barbican Team' % datetime.date.today().year ('index', 'Barbican-specs.tex', 'Barbican Specs', 'OpenStack Barbican Team', 'manual'), ('index', 'Barbican-specs', 'Barbican Design Specs', 'OpenStack Barbican Team', 'barbican-specs', 'Design specifications for the Barbican project.',epub_title = 'Barbican Specs' epub_author = 'OpenStack Barbican Team' epub_publisher = 'OpenStack Barbican Team' epub_copyright = '2014, OpenStack Barbican Team'","project = u'Barbican Specs' copyright = u'%s, OpenStack Barbican Team' % datetime.date.today().year ('index', 'Barbican-specs.tex', u'Barbican Specs', u'OpenStack Barbican Team', 'manual'), ('index', 'Barbican-specs', u'Barbican Design Specs', u'OpenStack Barbican Team', 'barbican-specs', 'Design specifications for the Barbican project.',epub_title = u'Barbican Specs' epub_author = u'OpenStack Barbican Team' epub_publisher = u'OpenStack Barbican Team' epub_copyright = u'2014, OpenStack Barbican Team'",10,10
openstack%2Fkolla-ansible~master~I274f9905a719ae3e4f842b04e760d92c011ed6b8,openstack/kolla-ansible,master,I274f9905a719ae3e4f842b04e760d92c011ed6b8,remove octavia interface configs,ABANDONED,2020-07-30 11:24:46.000000000,2021-01-12 13:46:51.000000000,,"[{'_account_id': 11628}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32067}, {'_account_id': 32231}]","[{'number': 1, 'created': '2020-07-30 11:24:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a263aa08e22c1b4fb73744dc184391c00fd12010', 'message': 'remove octavia interface configs\n\nDepends-On: https://review.opendev.org/#/c/740180/\nChange-Id: I274f9905a719ae3e4f842b04e760d92c011ed6b8\n'}, {'number': 2, 'created': '2020-07-30 12:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9b42355288d9177b3d1aa152a3254812b72861eb', 'message': 'remove octavia interface configs\n\nDepends-On: https://review.opendev.org/#/c/740180/\nChange-Id: I274f9905a719ae3e4f842b04e760d92c011ed6b8\n'}, {'number': 3, 'created': '2020-08-10 14:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7b916b6078c943c353049163aa1111e54c7b7545', 'message': 'remove octavia interface configs\n\nDepends-On: https://review.opendev.org/#/c/740180/\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I274f9905a719ae3e4f842b04e760d92c011ed6b8\n'}, {'number': 4, 'created': '2020-08-13 08:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1fb3586081d1649400e47af65f6a0659b0b964eb', 'message': 'remove octavia interface configs\n\nDepends-On: https://review.opendev.org/#/c/740180/\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I274f9905a719ae3e4f842b04e760d92c011ed6b8\n'}, {'number': 5, 'created': '2020-09-23 12:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b4f2995d2c4e6f0f5583f82f3448d796562532fd', 'message': 'remove octavia interface configs\n\nDepends-On: https://review.opendev.org/#/c/740180/\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I274f9905a719ae3e4f842b04e760d92c011ed6b8\n'}, {'number': 6, 'created': '2020-09-23 12:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/92c949c448d7b7c8b2a57d18a65c2f5a76b01213', 'message': 'remove octavia interface configs\n\nDepends-On: https://review.opendev.org/#/c/740180/\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I274f9905a719ae3e4f842b04e760d92c011ed6b8\n'}, {'number': 7, 'created': '2020-09-23 16:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/66fbfdd3d06b3f8154d65966f9dbe9ecef4ae809', 'message': 'remove octavia interface configs\n\nDepends-On: https://review.opendev.org/#/c/740180/\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I274f9905a719ae3e4f842b04e760d92c011ed6b8\n'}, {'number': 8, 'created': '2020-10-15 10:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/02fed64f45d9d75f6af5ae9ea2aa0eefdcac56c2', 'message': 'remove octavia interface configs\n\nDepends-On: https://review.opendev.org/#/c/755589/\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I274f9905a719ae3e4f842b04e760d92c011ed6b8\n'}, {'number': 9, 'created': '2020-10-28 07:48:51.000000000', 'files': ['ansible/roles/destroy/tasks/cleanup_host.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/653d5ce42222c83c32d507e4b543e2d05253d93a', 'message': 'remove octavia interface configs\n\nDepends-On: https://review.opendev.org/#/c/755589/\nImplements: blueprint implement-automatic-deploy-of-octavia\n\nChange-Id: I274f9905a719ae3e4f842b04e760d92c011ed6b8\n'}]",1,743954,653d5ce42222c83c32d507e4b543e2d05253d93a,35,7,9,26285,,,0,"remove octavia interface configs

Depends-On: https://review.opendev.org/#/c/755589/
Implements: blueprint implement-automatic-deploy-of-octavia

Change-Id: I274f9905a719ae3e4f842b04e760d92c011ed6b8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/54/743954/9 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/destroy/tasks/clean_octavia.yml', 'ansible/roles/destroy/tasks/main.yml']",2,a263aa08e22c1b4fb73744dc184391c00fd12010,bp/implement-automatic-deploy-of-octavia, - include_tasks: clean_octavia.yml when: - enable_octavia | bool - octavia_auto_configure | bool - octavia_network_type == 'tenant',,23,0
openstack%2Fkolla-ansible~master~I19892035382ffff5200e88da53408a19e72c9d68,openstack/kolla-ansible,master,I19892035382ffff5200e88da53408a19e72c9d68,Use Docker healthchecks for cloudkitty services,MERGED,2020-12-21 03:18:41.000000000,2021-01-12 13:46:13.000000000,2021-01-12 13:46:13.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32761}]","[{'number': 1, 'created': '2020-12-21 03:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1a70124686c211c7247da65c79b37d23b62d9dcd', 'message': 'Use Docker healthchecks for cloudkitty services\n\nThis change enables the use of Docker healthchecks for cloudkitty\nservices.\nImplements: blueprint container-health-check\n\nChange-Id: I19892035382ffff5200e88da53408a19e72c9d68\n'}, {'number': 2, 'created': '2021-01-07 15:38:23.000000000', 'files': ['ansible/roles/cloudkitty/handlers/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/cloudkitty/tasks/check-containers.yml', 'releasenotes/notes/implement-docker-healthchecks-for-cloudkitty-a032d6408b7eea26.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e6e7e4d5d637da6c05fd86c0ae966a17b4a654c4', 'message': 'Use Docker healthchecks for cloudkitty services\n\nThis change enables the use of Docker healthchecks for cloudkitty\nservices.\nImplements: blueprint container-health-check\n\nChange-Id: I19892035382ffff5200e88da53408a19e72c9d68\n'}]",0,768039,e6e7e4d5d637da6c05fd86c0ae966a17b4a654c4,19,4,2,26285,,,0,"Use Docker healthchecks for cloudkitty services

This change enables the use of Docker healthchecks for cloudkitty
services.
Implements: blueprint container-health-check

Change-Id: I19892035382ffff5200e88da53408a19e72c9d68
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/39/768039/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cloudkitty/handlers/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/cloudkitty/tasks/check-containers.yml']",3,1a70124686c211c7247da65c79b37d23b62d9dcd,container-health-check," healthcheck: ""{{ item.value.healthcheck | default(omit) }}""",,31,0
openstack%2Fneutron~stable%2Ftrain~Ib2b9f541e6e287c3b0bfd091310e3ce267fc6adb,openstack/neutron,stable/train,Ib2b9f541e6e287c3b0bfd091310e3ce267fc6adb,Switch tripleo standalone job to content provider,MERGED,2020-11-02 10:48:31.000000000,2021-01-12 13:27:55.000000000,2021-01-12 13:21:21.000000000,"[{'_account_id': 6926}, {'_account_id': 8175}, {'_account_id': 10969}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-11-02 10:48:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fd22aad5c2d38afdcd6f488db55744614964b83d', 'message': 'Switch tripleo standalone job to content provider\n\nContent provider job builds and shares the artifacts among\nconsumer jobs. This removes dependency on docker.io pulls.\n\nConflicts:\n    zuul.d/project.yaml\n\nChange-Id: Ib2b9f541e6e287c3b0bfd091310e3ce267fc6adb\n(cherry picked from commit e0e7f1b64e16a12f57201d316708f44cd3556fc8)\n'}]",0,760855,fd22aad5c2d38afdcd6f488db55744614964b83d,22,9,1,11975,,,0,"Switch tripleo standalone job to content provider

Content provider job builds and shares the artifacts among
consumer jobs. This removes dependency on docker.io pulls.

Conflicts:
    zuul.d/project.yaml

Change-Id: Ib2b9f541e6e287c3b0bfd091310e3ce267fc6adb
(cherry picked from commit e0e7f1b64e16a12f57201d316708f44cd3556fc8)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/760855/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fd22aad5c2d38afdcd6f488db55744614964b83d,new-ci-job, - tripleo-ci-centos-7-content-provider: voting: false - neutron-centos-7-tripleo-standalone: vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-7-content-provider, - neutron-centos-7-tripleo-standalone,10,1
openstack%2Fadjutant~stable%2Fussuri~I007af0ea6c99f475e129f65171f672d3e0f2e1a2,openstack/adjutant,stable/ussuri,I007af0ea6c99f475e129f65171f672d3e0f2e1a2,Fixed typos in nova and neutron quota output,ABANDONED,2020-12-31 20:38:26.000000000,2021-01-12 13:10:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-31 20:38:26.000000000', 'files': ['adjutant/common/quota.py'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/1ef8c0c7c89ccee2f814fd2bcabd9bf355a6dfcf', 'message': ""Fixed typos in nova and neutron quota output\n\nThe Nova and Neutron quota helper objects output the quota data with\nthe word 'secuirty' instead of 'security' in the key name. Adjutant-ui,\nnova and neutron (among others) look for the keys with the correct\nspelling. No other instance of the typo appears to exist in other\nmodules.\n\nAPIImpact: some keys returned by Adjutant are now correctly spelled\nChange-Id: I007af0ea6c99f475e129f65171f672d3e0f2e1a2\n""}]",0,768810,1ef8c0c7c89ccee2f814fd2bcabd9bf355a6dfcf,3,1,1,32802,,,0,"Fixed typos in nova and neutron quota output

The Nova and Neutron quota helper objects output the quota data with
the word 'secuirty' instead of 'security' in the key name. Adjutant-ui,
nova and neutron (among others) look for the keys with the correct
spelling. No other instance of the typo appears to exist in other
modules.

APIImpact: some keys returned by Adjutant are now correctly spelled
Change-Id: I007af0ea6c99f475e129f65171f672d3e0f2e1a2
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/10/768810/1 && git format-patch -1 --stdout FETCH_HEAD,['adjutant/common/quota.py'],1,1ef8c0c7c89ccee2f814fd2bcabd9bf355a6dfcf,," ('security_groups', 'totalSecurityGroupsUsed') 'security_group': len(security_groups),"," ('secuirty_groups', 'totalSecurityGroupsUsed') 'secuirty_group': len(security_groups),",2,2
openstack%2Fcharm-cinder~master~I375ced9e61ff93c88feda4000f9e3a8b91bf8687,openstack/charm-cinder,master,I375ced9e61ff93c88feda4000f9e3a8b91bf8687,Fix mocking,MERGED,2021-01-08 11:09:03.000000000,2021-01-12 13:02:01.000000000,2021-01-12 13:02:01.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-01-08 11:09:03.000000000', 'files': ['unit_tests/test_cinder_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/5cd4045b8486be331c47f93e5f694e0e50de533e', 'message': 'Fix mocking\n\nMocked call to is_device_mounted which was causing a subprocess\ncall to lsblk.\n\nChange-Id: I375ced9e61ff93c88feda4000f9e3a8b91bf8687\nCloses-Bug: #1480840\n'}]",0,769908,5cd4045b8486be331c47f93e5f694e0e50de533e,9,3,1,12549,,,0,"Fix mocking

Mocked call to is_device_mounted which was causing a subprocess
call to lsblk.

Change-Id: I375ced9e61ff93c88feda4000f9e3a8b91bf8687
Closes-Bug: #1480840
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/08/769908/1 && git format-patch -1 --stdout FETCH_HEAD,['unit_tests/test_cinder_utils.py'],1,5cd4045b8486be331c47f93e5f694e0e50de533e,bug/1480840," 'is_device_mounted', self.is_device_mounted.return_value = False self.is_block_device.return_value = True self.is_device_mounted.return_value = False self.is_block_device.return_value = True self.is_device_mounted.return_value = False self.is_block_device.return_value = False self.is_device_mounted.return_value = False self.is_block_device.return_value = True self.is_device_mounted.return_value = False self.is_block_device.return_value = True",,11,0
openstack%2Fcharm-trilio-wlm~master~I0705e741bbf50436f0f3dbd966da21742c992cff,openstack/charm-trilio-wlm,master,I0705e741bbf50436f0f3dbd966da21742c992cff,Fix cinder-ceph expected state in tests,ABANDONED,2020-11-24 16:24:22.000000000,2021-01-12 12:50:37.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-24 16:24:22.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-trilio-wlm/commit/53a563c936cf5ee710904f0ede9c8ed86bad8660', 'message': 'Fix cinder-ceph expected state in tests\n\nA recent change was added to cinder-ceph to ensure that it does\nnot claim to be ready when it has an unfulfilled ceph request.\nIf vault is being used for encryption at rest then cinder-ceph\nwill remain blocked until vault is unsealed so update tests.yaml\nto expect this.\n\nChange-Id: I0705e741bbf50436f0f3dbd966da21742c992cff\n'}]",0,764017,53a563c936cf5ee710904f0ede9c8ed86bad8660,4,2,1,12549,,,0,"Fix cinder-ceph expected state in tests

A recent change was added to cinder-ceph to ensure that it does
not claim to be ready when it has an unfulfilled ceph request.
If vault is being used for encryption at rest then cinder-ceph
will remain blocked until vault is unsealed so update tests.yaml
to expect this.

Change-Id: I0705e741bbf50436f0f3dbd966da21742c992cff
",git fetch https://review.opendev.org/openstack/charm-trilio-wlm refs/changes/17/764017/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,53a563c936cf5ee710904f0ede9c8ed86bad8660,fix-cinder-ceph-wls," cinder-ceph: workload-status: blocked workload-status-message: ""Ceph broker request incomplete""",,3,0
openstack%2Ftripleo-ansible~master~Ia68e2536af04bbe5d4ed0561eb923e8778563a92,openstack/tripleo-ansible,master,Ia68e2536af04bbe5d4ed0561eb923e8778563a92,module_utils - network_data_v2,MERGED,2020-11-12 10:00:07.000000000,2021-01-12 12:50:23.000000000,2020-11-12 22:38:19.000000000,"[{'_account_id': 4571}, {'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-12 10:00:07.000000000', 'files': ['tripleo_ansible/tests/modules/test_network_data_v2.py', 'tripleo_ansible/ansible_plugins/module_utils/network_data_v2.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/292602e070ab4e20d0ef9eb1ae82e5876aee6080', 'message': ""module_utils - network_data_v2\n\nAdd's a module utils for network data v2.\nThe utils module provides the schema validator\nfor the network data v2 format.\n\nThe json schema validator copies the validation\nerrors processing code from os-net-config with\njust minor changes.\n\nChange-Id: Ia68e2536af04bbe5d4ed0561eb923e8778563a92\n""}]",1,762487,292602e070ab4e20d0ef9eb1ae82e5876aee6080,9,6,1,24245,,,0,"module_utils - network_data_v2

Add's a module utils for network data v2.
The utils module provides the schema validator
for the network data v2 format.

The json schema validator copies the validation
errors processing code from os-net-config with
just minor changes.

Change-Id: Ia68e2536af04bbe5d4ed0561eb923e8778563a92
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/87/762487/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/tests/modules/test_network_data_v2.py', 'tripleo_ansible/ansible_plugins/module_utils/network_data_v2.py']",2,292602e070ab4e20d0ef9eb1ae82e5876aee6080,network-data-v2,"#!/usr/bin/python # -*- coding: utf-8 -*- # Copyright (c) 2018 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import collections import ipaddress import jsonschema import yaml DOMAIN_NAME_REGEX = (r'^(?=^.{1,255}$)(?!.*\.\..*)(.{1,63}\.)' r'+(.{0,63}\.?)|(?!\.)(?!.*\.\..*)(^.{1,63}$)' r'|(^\.$)$') NET_DATA_V2_SCHEMA = ''' --- $schema: http://json-schema.org/draft-04/schema definitions: domain_name_string: type: string pattern: {domain_name_regex} ipv4_allocation_pool: type: object properties: start: type: string ip_address_version: 4 end: type: string ip_address_version: 4 additionalProperties: False uniqueItems: true required: - start - end ipv4_route: type: object properties: destination: type: string ip_subnet_version: 4 nexthop: type: string ip_address_version: 4 additionalProperties: False uniqueItems: true required: - destination - nexthop ipv6_allocation_pool: type: object properties: start: type: string ip_address_version: 6 end: type: string ip_address_version: 6 additionalProperties: False uniqueItems: true required: - start - end ipv6_route: type: object properties: destination: type: string ip_subnet_version: 6 nexthop: type: string ip_address_version: 6 additionalProperties: False uniqueItems: true required: - destination - nexthop ipv4_subnet: type: object properties: ip_subnet: type: string ip_subnet_version: 4 gateway_ip: type: string ip_address_version: 4 allocation_pools: type: array items: $ref: ""#/definitions/ipv4_allocation_pool"" enable_dhcp: type: boolean routes: type: array items: $ref: ""#/definitions/ipv4_route"" vlan: type: integer minimum: 1 maximum: 4096 physical_network: type: string network_type: enum: - flat - vlan segmentation_id: type: integer minimum: 1 maximum: 4096 additionalProperties: False required: - ip_subnet ipv6_subnet: type: object properties: ipv6_subnet: type: string ip_subnet_version: 6 gateway_ipv6: type: string ip_address_version: 6 ipv6_allocation_pools: type: array items: $ref: ""#/definitions/ipv6_allocation_pool"" routes_ipv6: type: array items: $ref: ""#/definitions/ipv6_route"" ipv6_address_mode: enum: - null - dhcpv6-stateful - dhcpv6-stateless ipv6_ra_mode: enum: - null - dhcpv6-stateful - dhcpv6-stateless enable_dhcp: type: boolean vlan: type: integer minimum: 1 maximum: 4096 physical_network: type: string network_type: type: string enum: - flat - vlan segmentation_id: type: integer minimum: 1 maximum: 4096 additionalProperties: False required: - ipv6_subnet dual_subnet: type: object properties: ip_subnet: type: string ip_subnet_version: 4 gateway_ip: type: string ip_address_version: 4 allocation_pools: type: array items: $ref: ""#/definitions/ipv4_allocation_pool"" routes: type: array items: $ref: ""#/definitions/ipv4_route"" ipv6_subnet: type: string ip_subnet_version: 6 gateway_ipv6: type: string ip_address_version: 6 ipv6_allocation_pools: type: array items: $ref: ""#/definitions/ipv6_allocation_pool"" routes_ipv6: type: array items: $ref: ""#/definitions/ipv6_route"" ipv6_address_mode: enum: - null - dhcpv6-stateful - dhcpv6-stateless ipv6_ra_mode: enum: - null - dhcpv6-stateful - dhcpv6-stateless enable_dhcp: type: boolean vlan: type: integer minimum: 1 maximum: 4096 physical_network: type: string network_type: type: string enum: - flat - vlan segmentation_id: type: integer minimum: 1 maximum: 4096 additionalProperties: False required: - ip_subnet - ipv6_subnet type: object properties: name: type: string name_lower: type: string admin_state_up: type: boolean dns_domain: $ref: ""#/definitions/domain_name_string"" mtu: type: integer minimum: 1000 maximum: 65536 shared: type: boolean service_net_map_replace: type: string ipv6: type: boolean vip: type: boolean subnets: type: object additionalProperties: oneOf: - $ref: ""#/definitions/ipv4_subnet"" - $ref: ""#/definitions/ipv6_subnet"" - $ref: ""#/definitions/dual_subnet"" additionalProperties: False required: - name - subnets '''.format(domain_name_regex=DOMAIN_NAME_REGEX) def _get_detailed_errors(error, depth, absolute_schema_path, absolute_schema, filter_errors=True): """"""Returns a list of error messages from all subschema validations. Recurses the error tree and adds one message per sub error. That list can get long, because jsonschema also tests the hypothesis that the provided network element type is wrong (e.g. ""ovs_bridge"" instead of ""ovs_bond""). Setting `filter_errors=True` assumes the type, if specified, is correct and therefore produces a much shorter list of more relevant results. """""" if not error.context: return [] sub_errors = error.context if filter_errors: if (absolute_schema_path[-1] in ['oneOf', 'anyOf'] and isinstance(error.instance, collections.Mapping) and 'type' in error.instance): found, index = _find_type_in_schema_list( error.validator_value, error.instance['type']) if found: sub_errors = [i for i in sub_errors if ( i.schema_path[0] == index)] details = [] sub_errors = sorted(sub_errors, key=lambda e: e.schema_path) for sub_error in sub_errors: schema_path = collections.deque(absolute_schema_path) schema_path.extend(sub_error.schema_path) details.append(""{} {}: {}"".format( '-' * depth, _pretty_print_schema_path(schema_path, absolute_schema), sub_error.message) ) details.extend(_get_detailed_errors( sub_error, depth + 1, schema_path, absolute_schema, filter_errors)) return details def _find_type_in_schema_list(schemas, type): """"""Finds an object of a given type in an anyOf/oneOf array. Returns a tuple (`found`, `index`), where `found` indicates whether on object of type `type` was found in the `schemas` array. If so, `index` contains the object's position in the array. """""" for index, schema in enumerate(schemas): if not isinstance(schema, collections.Mapping): continue if '$ref' in schema and schema['$ref'].split('/')[-1] == type: return True, index if ('properties' in schema and 'type' in schema['properties'] and schema['properties']['type'] == type): return True, index return False, 0 def _pretty_print_schema_path(absolute_schema_path, absolute_schema): """"""Returns a representation of the schema path that's easier to read. For example: >>> _pretty_print_schema_path(""items/oneOf/0/properties/use_dhcp/oneOf/2"") ""items/oneOf/interface/use_dhcp/oneOf/param"" """""" pretty_path = [] current_path = [] current_schema = absolute_schema for item in absolute_schema_path: if item not in [""properties""]: pretty_path.append(item) current_path.append(item) current_schema = current_schema[item] if (isinstance(current_schema, collections.Mapping) and '$ref' in current_schema): if (isinstance(pretty_path[-1], int) and pretty_path[-2] in ['oneOf', 'anyOf']): pretty_path[-1] = current_schema['$ref'].split('/')[-1] current_path = current_schema['$ref'].split('/') current_schema = absolute_schema for i in current_path[1:]: current_schema = current_schema[i] return '/'.join([str(x) for x in pretty_path]) def validate_json_schema(net_data): def ip_subnet_version_validator(validator, ip_version, instance, schema): msg = '{} does not appear to be an IPv{} subnet'.format( instance, ip_version) try: if not ipaddress.ip_network(instance).version == ip_version: yield jsonschema.ValidationError(msg) except ValueError: yield jsonschema.ValidationError(msg) def ip_address_version_validator(validator, ip_version, instance, schema): msg = '{} does not appear to be an IPv{} address'.format( instance, ip_version) try: if not ipaddress.ip_address(instance).version == ip_version: yield jsonschema.ValidationError(msg) except ValueError: yield jsonschema.ValidationError(msg) schema = yaml.safe_load(NET_DATA_V2_SCHEMA) net_data_validator = jsonschema.validators.extend( jsonschema.Draft4Validator, validators={'ip_subnet_version': ip_subnet_version_validator, 'ip_address_version': ip_address_version_validator}) validator = net_data_validator(schema) errors = validator.iter_errors(instance=net_data) error_messages = [] for error in errors: details = _get_detailed_errors(error, 1, error.schema_path, schema) config_path = '/'.join([str(x) for x in error.path]) if details: error_messages.append( ""Failed schema validation at {}:\n {}\n"" "" Sub-schemas tested and not matching:\n {}"".format( config_path, error.message, '\n '.join(details))) else: error_messages.append( ""Failed schema validation at {}:\n {}"".format( config_path, error.message)) return error_messages ",,816,0
openstack%2Fneutron~master~I660baccde67a040731538276fc6dff05a10efb68,openstack/neutron,master,I660baccde67a040731538276fc6dff05a10efb68,Add WaitForPortCreateEvent in BaseOVSTestCase,MERGED,2021-01-11 17:01:23.000000000,2021-01-12 12:29:40.000000000,2021-01-12 12:25:39.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-11 17:01:23.000000000', 'files': ['neutron/tests/functional/agent/common/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e0f15c59828bc95c7de56475f036b8867f85d3f6', 'message': 'Add WaitForPortCreateEvent in BaseOVSTestCase\n\nWhen a port is created, the test case will wait until the IDL event\nis raised and the port is effectively created and the local DB\ncache is updated.\n\nChange-Id: I660baccde67a040731538276fc6dff05a10efb68\nRelated-Bug: #1910717\n'}]",0,770154,e0f15c59828bc95c7de56475f036b8867f85d3f6,10,4,1,16688,,,0,"Add WaitForPortCreateEvent in BaseOVSTestCase

When a port is created, the test case will wait until the IDL event
is raised and the port is effectively created and the local DB
cache is updated.

Change-Id: I660baccde67a040731538276fc6dff05a10efb68
Related-Bug: #1910717
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/770154/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/common/test_ovs_lib.py'],1,e0f15c59828bc95c7de56475f036b8867f85d3f6,bug/1910717,"from ovsdbapp.backend.ovs_idl import eventclass WaitForPortCreateEvent(event.WaitEvent): event_name = 'WaitForPortCreateEvent' def __init__(self, port_name): table = 'Port' events = (self.ROW_CREATE,) conditions = (('name', '=', port_name),) super(WaitForPortCreateEvent, self).__init__( events, table, conditions, timeout=5) row_event = WaitForPortCreateEvent(port_name) self.ovs.ovsdb.idl.notify_handler.watch_event(row_event) self.assertTrue(row_event.wait())",,15,0
openstack%2Fneutron~master~I989b6b1903e3296d20e4ef6a7770aa7b78f58b46,openstack/neutron,master,I989b6b1903e3296d20e4ef6a7770aa7b78f58b46,"Randomize port name in ""BaseOVSTestCase""",MERGED,2021-01-08 18:08:26.000000000,2021-01-12 12:27:59.000000000,2021-01-12 12:25:16.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 18:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/69f2f0032a2ec5382010c2e29d3067b4f024a59b', 'message': 'Randomize port name in ""BaseOVSTestCase""\n\nRandomize the port name creation in ""BaseOVSTestCase"". Also check the\nexecution error when an OVS port is created.\n\nChange-Id: I989b6b1903e3296d20e4ef6a7770aa7b78f58b46\nCloses-Bug: #1910717\n'}, {'number': 2, 'created': '2021-01-10 16:40:53.000000000', 'files': ['neutron/tests/functional/agent/common/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/82ddc5ee1ecfd92c998787cf62ac2a099ee08a61', 'message': 'Randomize port name in ""BaseOVSTestCase""\n\nRandomize the port name creation in ""BaseOVSTestCase"". Also check the\nexecution error when an OVS port is created.\n\nChange-Id: I989b6b1903e3296d20e4ef6a7770aa7b78f58b46\nRelated-Bug: #1910717\n'}]",2,769975,82ddc5ee1ecfd92c998787cf62ac2a099ee08a61,19,5,2,16688,,,0,"Randomize port name in ""BaseOVSTestCase""

Randomize the port name creation in ""BaseOVSTestCase"". Also check the
execution error when an OVS port is created.

Change-Id: I989b6b1903e3296d20e4ef6a7770aa7b78f58b46
Related-Bug: #1910717
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/769975/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/agent/common/test_ovs_lib.py'],1,69f2f0032a2ec5382010c2e29d3067b4f024a59b,bug/1910717," self.ovs.ovsdb.add_port(self.br_name, port_name).execute( check_error=True) port_name = ('port-' + uuidutils.generate_uuid())[:8] port_name = ('port-' + uuidutils.generate_uuid())[:8] port_name = ('port-' + uuidutils.generate_uuid())[:8]"," self.ovs.ovsdb.add_port(self.br_name, port_name).execute() port_name = 'test_port' port_name = 'test_output_port_1' port_name = 'test_output_port_2'",5,4
openstack%2Fvitrage-tempest-plugin~master~I61e1f44aa786b99a46e480cbbfd518a503a3baa0,openstack/vitrage-tempest-plugin,master,I61e1f44aa786b99a46e480cbbfd518a503a3baa0,gnocchi was fixed install ceilometer again,MERGED,2021-01-12 07:18:58.000000000,2021-01-12 12:27:31.000000000,2021-01-12 12:21:34.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 07:18:58.000000000', 'files': ['.zuul.yaml', 'vitrage_tempest_plugin/tests/datasources/test_aodh.py'], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/8bb21d3abbf4119fb7bfd89099f42583feb5215b', 'message': 'gnocchi was fixed install ceilometer again\n\nChange-Id: I61e1f44aa786b99a46e480cbbfd518a503a3baa0\n'}]",0,770239,8bb21d3abbf4119fb7bfd89099f42583feb5215b,9,2,1,19134,,,0,"gnocchi was fixed install ceilometer again

Change-Id: I61e1f44aa786b99a46e480cbbfd518a503a3baa0
",git fetch https://review.opendev.org/openstack/vitrage-tempest-plugin refs/changes/39/770239/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'vitrage_tempest_plugin/tests/datasources/test_aodh.py']",2,8bb21d3abbf4119fb7bfd89099f42583feb5215b,gnocchi,,import testtools@testtools.skip('gnocchi is not stable'),1,3
openstack%2Fansible-collections-openstack~master~Ia50085337813fb3bd3e72cb70fa62072cce5b791,openstack/ansible-collections-openstack,master,Ia50085337813fb3bd3e72cb70fa62072cce5b791,Update recordset docu,MERGED,2021-01-08 22:38:36.000000000,2021-01-12 12:13:29.000000000,2021-01-12 12:13:29.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-08 22:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4dc62fc71d5e5cfbc5a7224e939f7080eec88f6e', 'message': 'Update recordset docu\n\nUpdating a recordset always requires recordset_type and records to be there.\nFixes: https://storyboard.openstack.org/#!/story/2008465\n\nSigned-off-by: Sebastian Haderecker <sebastian.haderecker@gmail.com>\nChange-Id: Ia50085337813fb3bd3e72cb70fa62072cce5b791\n'}, {'number': 2, 'created': '2021-01-08 22:50:27.000000000', 'files': ['plugins/modules/recordset.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3aaf7ff03ac8f2c910be5527f811a4ef81c66214', 'message': 'Update recordset docu\n\nUpdating a recordset always requires recordset_type and records to be there.\nFixes: https://storyboard.openstack.org/#!/story/2008465\n\nSigned-off-by: Sebastian Haderecker <sebastian.haderecker@gmail.com>\nChange-Id: Ia50085337813fb3bd3e72cb70fa62072cce5b791\n'}]",0,770006,3aaf7ff03ac8f2c910be5527f811a4ef81c66214,8,3,2,32956,,,0,"Update recordset docu

Updating a recordset always requires recordset_type and records to be there.
Fixes: https://storyboard.openstack.org/#!/story/2008465

Signed-off-by: Sebastian Haderecker <sebastian.haderecker@gmail.com>
Change-Id: Ia50085337813fb3bd3e72cb70fa62072cce5b791
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/06/770006/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/recordset.py'],1,4dc62fc71d5e5cfbc5a7224e939f7080eec88f6e,dns-docu," recordset_type: ""a"" records: ['10.1.1.1']",,2,0
openstack%2Fkolla~stable%2Fvictoria~I47f8611ab74b6f33f74907b5afcacdefd65a4adb,openstack/kolla,stable/victoria,I47f8611ab74b6f33f74907b5afcacdefd65a4adb,DNM: testing mirror revert,ABANDONED,2021-01-11 12:42:07.000000000,2021-01-12 12:11:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-11 12:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/80a6f1c9f87ffa9b75701ff5938ba4fccbe0fe61', 'message': 'DNM: testing mirror revert\n\nChange-Id: I47f8611ab74b6f33f74907b5afcacdefd65a4adb\n'}, {'number': 2, 'created': '2021-01-12 09:33:44.000000000', 'files': ['kolla/image/build.py', 'tests/templates/template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d34bbbd666d3ca19629b0c4f08d86d6e0463c95c', 'message': 'DNM: testing mirror revert\n\nChange-Id: I47f8611ab74b6f33f74907b5afcacdefd65a4adb\n'}]",6,770091,d34bbbd666d3ca19629b0c4f08d86d6e0463c95c,7,1,2,14826,,,0,"DNM: testing mirror revert

Change-Id: I47f8611ab74b6f33f74907b5afcacdefd65a4adb
",git fetch https://review.opendev.org/openstack/kolla refs/changes/91/770091/2 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'tests/templates/template_overrides.j2']",2,80a6f1c9f87ffa9b75701ff5938ba4fccbe0fe61,,"# Testing. {% if range(1, 10) | random == 1 %} {% if base_package_type == 'rpm' %} RUN cat /etc/yum.repos.d/* RUN dnf -y clean all && dnf -y install python3-wheel {% else %} RUN cat /etc/apt/sources.list RUN apt clean && rm -rf /var/lib/apt/lists/* && apt -y update && apt -y install python3-yapf {% endif %} RUN pip3 install virtualenv {% endif %}",,14,0
openstack%2Fcinder-tempest-plugin~master~I38216e06690b99c1b3442fb30b08cef12ea2f99f,openstack/cinder-tempest-plugin,master,I38216e06690b99c1b3442fb30b08cef12ea2f99f,Add py38 package metadata,ABANDONED,2021-01-03 02:49:14.000000000,2021-01-12 12:07:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-03 02:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/c4767c357402a539a7cdbe87b0e05d83c2b64fa4', 'message': 'iAdd py38 package metadata\n\nNow that we are running the Wallaby tests that include a\nvoting py38 job from victoria release, we can now add the\nPython 3.8 metadata to the package information to reflect\nthat support.\n\nChange-Id: I38216e06690b99c1b3442fb30b08cef12ea2f99f\n'}, {'number': 2, 'created': '2021-01-03 02:54:21.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/c0a358f1f3330d4473093fc8f7d6ab9ff665d815', 'message': 'Add py38 package metadata\n\nNow that we are running the Wallaby tests that include a\nvoting py38 job from victoria release, we can now add the\nPython 3.8 metadata to the package information to reflect\nthat support.\n\nChange-Id: I38216e06690b99c1b3442fb30b08cef12ea2f99f\n'}]",0,768919,c0a358f1f3330d4473093fc8f7d6ab9ff665d815,9,1,2,31027,,,0,"Add py38 package metadata

Now that we are running the Wallaby tests that include a
voting py38 job from victoria release, we can now add the
Python 3.8 metadata to the package information to reflect
that support.

Change-Id: I38216e06690b99c1b3442fb30b08cef12ea2f99f
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/19/768919/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c4767c357402a539a7cdbe87b0e05d83c2b64fa4,, Programming Language :: Python :: 3.8,,1,0
openstack%2Foctavia~stable%2Fstein~Iee2cdc7c149eedb3d62007e4815b3b94c1b0c49e,openstack/octavia,stable/stein,Iee2cdc7c149eedb3d62007e4815b3b94c1b0c49e,Cap bandit for stein and bump lower-constraints,MERGED,2020-12-07 19:20:08.000000000,2021-01-12 11:48:51.000000000,2021-01-12 11:47:25.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-12-07 19:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6c94c7b5ddeb5f0fb5c5bb64c4a7e76ff7beaaae', 'message': 'Cap bandit for python 2.7\n\nThe bandit package no longer supports python 2.7 in the latest version.\nThis patch caps the version of bandit when using python < 3.5 to < 1.6.3.\n\nChange-Id: Iee2cdc7c149eedb3d62007e4815b3b94c1b0c49e\n'}, {'number': 2, 'created': '2020-12-07 20:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/67788d2f52833bd0ac463fb29d8cb8dcfa7f647a', 'message': 'Cap bandit for stein\n\nThe bandit package no longer supports python 2.7 in the latest version.\nThis patch caps the version of bandit to < 1.6.3.\nThe we cannot allow >=1.6.3 as it requires a newer version of pyyaml\nthan the stein upper-constraints will allow.\n\nChange-Id: Iee2cdc7c149eedb3d62007e4815b3b94c1b0c49e\n'}, {'number': 3, 'created': '2020-12-07 20:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2edcbcec64e7ee4dec73236231522053c7b681b5', 'message': 'Cap bandit for stein\n\nThe bandit package no longer supports python 2.7 in the latest version.\nThis patch caps the version of bandit to < 1.6.3.\nThe we cannot allow >=1.6.3 as it requires a newer version of pyyaml\nthan the stein upper-constraints will allow.\n\nChange-Id: Iee2cdc7c149eedb3d62007e4815b3b94c1b0c49e\n'}, {'number': 4, 'created': '2020-12-07 21:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0874631fadea2ed6056e436e7409dae58efee11a', 'message': 'Cap bandit for stein\n\nThe bandit package no longer supports python 2.7 in the latest version.\nThis patch caps the version of bandit to < 1.6.3.\nThe we cannot allow >=1.6.3 as it requires a newer version of pyyaml\nthan the stein upper-constraints will allow.\n\nChange-Id: Iee2cdc7c149eedb3d62007e4815b3b94c1b0c49e\n'}, {'number': 5, 'created': '2020-12-07 21:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/02e80457f4eee5952e0f9ba53ec985706f2dbeee', 'message': 'Cap bandit for stein\n\nThe bandit package no longer supports python 2.7 in the latest version.\nThis patch caps the version of bandit to < 1.6.3.\nThe we cannot allow >=1.6.3 as it requires a newer version of pyyaml\nthan the stein upper-constraints will allow.\n\nChange-Id: Iee2cdc7c149eedb3d62007e4815b3b94c1b0c49e\n'}, {'number': 6, 'created': '2020-12-07 21:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e3b232a73e80e57e78693d5447470028153e31da', 'message': 'Cap bandit for stein\n\nThe bandit package no longer supports python 2.7 in the latest version.\nThis patch caps the version of bandit to < 1.6.3.\nThe we cannot allow >=1.6.3 as it requires a newer version of pyyaml\nthan the stein upper-constraints will allow.\n\nChange-Id: Iee2cdc7c149eedb3d62007e4815b3b94c1b0c49e\n'}, {'number': 7, 'created': '2020-12-07 21:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4e442313396bbecedc3f08979bcbefe00e835098', 'message': 'Cap bandit for stein\n\nThe bandit package no longer supports python 2.7 in the latest version.\nThis patch caps the version of bandit to < 1.6.3.\nThe we cannot allow >=1.6.3 as it requires a newer version of pyyaml\nthan the stein upper-constraints will allow.\n\nChange-Id: Iee2cdc7c149eedb3d62007e4815b3b94c1b0c49e\n'}, {'number': 8, 'created': '2020-12-07 22:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/65a27a9c0c71a0730c10a14c2378225749ca19ce', 'message': 'Cap bandit for stein\n\nThe bandit package no longer supports python 2.7 in the latest version.\nThis patch caps the version of bandit to < 1.6.3.\nThe we cannot allow >=1.6.3 as it requires a newer version of pyyaml\nthan the stein upper-constraints will allow.\n\nChange-Id: Iee2cdc7c149eedb3d62007e4815b3b94c1b0c49e\n'}, {'number': 9, 'created': '2020-12-07 22:17:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9d7edc19943275300bbd17ec9381778c161365a4', 'message': 'Cap bandit for stein\n\nThe bandit package no longer supports python 2.7 in the latest version.\nThis patch caps the version of bandit to < 1.6.3.\nThe we cannot allow >=1.6.3 as it requires a newer version of pyyaml\nthan the stein upper-constraints will allow.\n\nChange-Id: Iee2cdc7c149eedb3d62007e4815b3b94c1b0c49e\n'}, {'number': 10, 'created': '2020-12-07 22:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a41c20305954ad7474a5f3978361ff795a30880b', 'message': 'Cap bandit for stein\n\nThe bandit package no longer supports python 2.7 in the latest version.\nThis patch caps the version of bandit to < 1.6.3.\nThe we cannot allow >=1.6.3 as it requires a newer version of pyyaml\nthan the stein upper-constraints will allow.\n\nChange-Id: Iee2cdc7c149eedb3d62007e4815b3b94c1b0c49e\n'}, {'number': 11, 'created': '2020-12-10 00:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f0c9c9e336465abd156bd21d6e3f86e3a1794aec', 'message': 'Cap bandit for stein\n\nThe bandit package no longer supports python 2.7 in the latest version.\nThis patch caps the version of bandit to < 1.6.3.\nThe we cannot allow >=1.6.3 as it requires a newer version of pyyaml\nthan the stein upper-constraints will allow.\n\nChange-Id: Iee2cdc7c149eedb3d62007e4815b3b94c1b0c49e\n'}, {'number': 12, 'created': '2020-12-17 15:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ee9529b5806314fdf146bbbd9e5e51e5111de916', 'message': 'Cap bandit for stein\n\nThe bandit package no longer supports python 2.7 in the latest version.\nThis patch caps the version of bandit to < 1.6.3.\nThe we cannot allow >=1.6.3 as it requires a newer version of pyyaml\nthan the stein upper-constraints will allow.\n\nChange-Id: Iee2cdc7c149eedb3d62007e4815b3b94c1b0c49e\n'}, {'number': 13, 'created': '2021-01-06 12:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9ca903fa78ce8b8cd20408f3b5c0d399f059fa41', 'message': 'Cap bandit for stein and bump lower-constraints\n\nThe bandit package no longer supports python 2.7 in the latest version.\nThis patch caps the version of bandit to < 1.6.3.\nThe we cannot allow >=1.6.3 as it requires a newer version of pyyaml\nthan the stein upper-constraints will allow.\n\nChange-Id: Iee2cdc7c149eedb3d62007e4815b3b94c1b0c49e\n'}, {'number': 14, 'created': '2021-01-07 07:27:28.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/981157d09febcf92576ce3701af8b5f1d8a4b2f0', 'message': 'Cap bandit for stein and bump lower-constraints\n\nThe bandit package no longer supports python 2.7 in the latest version.\nThis patch caps the version of bandit to < 1.6.3.\nThen we cannot allow >=1.6.3 as it requires a newer version of pyyaml\nthan the stein upper-constraints will allow.\nUpdate tox config for new bandit release.\n\nChange-Id: Iee2cdc7c149eedb3d62007e4815b3b94c1b0c49e\n'}]",0,765853,981157d09febcf92576ce3701af8b5f1d8a4b2f0,37,6,14,11628,,,0,"Cap bandit for stein and bump lower-constraints

The bandit package no longer supports python 2.7 in the latest version.
This patch caps the version of bandit to < 1.6.3.
Then we cannot allow >=1.6.3 as it requires a newer version of pyyaml
than the stein upper-constraints will allow.
Update tox config for new bandit release.

Change-Id: Iee2cdc7c149eedb3d62007e4815b3b94c1b0c49e
",git fetch https://review.opendev.org/openstack/octavia refs/changes/53/765853/14 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,6c94c7b5ddeb5f0fb5c5bb64c4a7e76ff7beaaae,,"bandit>=1.1.0,<1.6.3;python_version<'3.5' # Apache-2.0 bandit>=1.1.0;python_version>='3.5' # Apache-2.0",bandit>=1.1.0 # Apache-2.0,2,1
openstack%2Fmagnum~stable%2Fvictoria~Ic533eeb0047fce557399c33a98c5862f739d1224,openstack/magnum,stable/victoria,Ic533eeb0047fce557399c33a98c5862f739d1224,DNM,ABANDONED,2021-01-06 11:50:47.000000000,2021-01-12 11:44:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-06 11:50:47.000000000', 'files': ['devstack/lib/magnum'], 'web_link': 'https://opendev.org/openstack/magnum/commit/8516cf3b832822e8fd24390d62414ac200376ce7', 'message': 'DNM\n\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\nChange-Id: Ic533eeb0047fce557399c33a98c5862f739d1224\n'}]",0,769532,8516cf3b832822e8fd24390d62414ac200376ce7,3,1,1,20498,,,0,"DNM

Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
Change-Id: Ic533eeb0047fce557399c33a98c5862f739d1224
",git fetch https://review.opendev.org/openstack/magnum refs/changes/32/769532/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/magnum'],1,8516cf3b832822e8fd24390d62414ac200376ce7,test-victoria,# DNM,,1,0
openstack%2Fmagnum~master~Icc71e04fbabac266ed53e25aad4db1711d0b39e6,openstack/magnum,master,Icc71e04fbabac266ed53e25aad4db1711d0b39e6,DNM,ABANDONED,2021-01-07 09:18:23.000000000,2021-01-12 11:44:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-07 09:18:23.000000000', 'files': ['devstack/lib/magnum'], 'web_link': 'https://opendev.org/openstack/magnum/commit/0db90385e36859a60dd5a3629b18bf9bdfbb9592', 'message': 'DNM\n\nChange-Id: Icc71e04fbabac266ed53e25aad4db1711d0b39e6\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",0,769689,0db90385e36859a60dd5a3629b18bf9bdfbb9592,3,1,1,20498,,,0,"DNM

Change-Id: Icc71e04fbabac266ed53e25aad4db1711d0b39e6
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/89/769689/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/magnum'],1,0db90385e36859a60dd5a3629b18bf9bdfbb9592,dnm,# DNM,,1,0
openstack%2Faodh~master~I030a5c6a94c5a4be59051d1b8828ab41281465f0,openstack/aodh,master,I030a5c6a94c5a4be59051d1b8828ab41281465f0,Add common personas to base policies,MERGED,2020-12-01 16:12:30.000000000,2021-01-12 11:35:59.000000000,2021-01-12 11:34:40.000000000,"[{'_account_id': 4264}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-01 16:12:30.000000000', 'files': ['aodh/api/policies.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/5df5505c8d29ac35531680219609bd704fdbc847', 'message': 'Add common personas to base policies\n\nThis commit adds some common personas, or check strings, to the\npolicies.py file. We can use these later to implement more secure policy\ndefaults that will be consistent with changes across OpenStack and will\nprovide a better, more secure authorization experience for operators and\nusers.\n\nChange-Id: I030a5c6a94c5a4be59051d1b8828ab41281465f0\n'}]",0,764978,5df5505c8d29ac35531680219609bd704fdbc847,16,3,1,5046,,,0,"Add common personas to base policies

This commit adds some common personas, or check strings, to the
policies.py file. We can use these later to implement more secure policy
defaults that will be consistent with changes across OpenStack and will
provide a better, more secure authorization experience for operators and
users.

Change-Id: I030a5c6a94c5a4be59051d1b8828ab41281465f0
",git fetch https://review.opendev.org/openstack/aodh refs/changes/78/764978/1 && git format-patch -1 --stdout FETCH_HEAD,['aodh/api/policies.py'],1,5df5505c8d29ac35531680219609bd704fdbc847,secure-rbac,"# Constants that represent common personas. SYSTEM_ADMIN = 'role:admin and system_scope:all' SYSTEM_READER = 'role:reader and system_scope:all' PROJECT_MEMBER = 'role:member and project_id:%(project_id)s' PROJECT_READER = 'role:reader and project_id:%(project_id)s' # Composite check strings built using the personas defined above, where a # particular API is designed to work with multiple scopes. For example, # listing alarms for all projects (system-scope) or listing alarms for a single # project (project-scope). SYSTEM_ADMIN_OR_PROJECT_MEMBER = ( '(' + SYSTEM_ADMIN + ')' ' or (' + PROJECT_MEMBER + ')' ) SYSTEM_OR_PROJECT_READER = ( '(' + SYSTEM_READER + ')' ' or (' + PROJECT_READER + ')' ) ",,20,0
openstack%2Fcinder~master~I52143372352efc6ffed1aa174ffc63c7e31c97d9,openstack/cinder,master,I52143372352efc6ffed1aa174ffc63c7e31c97d9,Remove __unicode__() from cinder Exception,ABANDONED,2021-01-08 09:14:34.000000000,2021-01-12 11:28:54.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 09:14:34.000000000', 'files': ['cinder/exception.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3582dac3c976b105647d83f746ca48bac00c2e03', 'message': 'Remove __unicode__() from cinder Exception\n\nThis is no longer needed in Python 3.\n\nChange-Id: I52143372352efc6ffed1aa174ffc63c7e31c97d9\n'}]",0,769889,3582dac3c976b105647d83f746ca48bac00c2e03,22,2,1,30384,,,0,"Remove __unicode__() from cinder Exception

This is no longer needed in Python 3.

Change-Id: I52143372352efc6ffed1aa174ffc63c7e31c97d9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/769889/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/exception.py'],1,3582dac3c976b105647d83f746ca48bac00c2e03,,," # NOTE(tommylikehu): self.msg is already an unicode compatible object # as the __init__ method ensures of it, and we should not be modifying # it in any way with str(), unicode(), or six.text_type() as we would # be preventing translations from happening. def __unicode__(self): return self.msg ",0,7
openstack%2Fmagnum~master~I875b9b2e0ef8bb6751a27e9a917a6d58042570ce,openstack/magnum,master,I875b9b2e0ef8bb6751a27e9a917a6d58042570ce,Fix gate - update lower-constraints,MERGED,2020-12-15 22:55:47.000000000,2021-01-12 11:17:25.000000000,2021-01-04 11:03:41.000000000,"[{'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-12-15 22:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7fbf422d77e64868c07a9bbbb27a843deca2cc10', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 2, 'created': '2020-12-16 00:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/71ffb23cb00695709d9d2fb6e21fc9528d9026ef', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 3, 'created': '2020-12-16 10:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e4c80af1c6011997112f5a189d1b117821838220', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 4, 'created': '2020-12-16 11:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d078daa1a89999c3daec0460de174ff542d0fb1f', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 5, 'created': '2020-12-16 11:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5d9a3c1e31a393142d1392495710742e622c349c', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 6, 'created': '2020-12-16 11:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6c2389e80997d53ab8cb033fd32ab7101ef91f42', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 7, 'created': '2020-12-16 11:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0eeb118a1222b0aaf776c3cf293515259dfed417', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 8, 'created': '2020-12-16 12:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6680c63ea6551ffa43bb7209d6a323f39f15b7c8', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 9, 'created': '2020-12-16 18:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/de204682e42ec94e3993e8d35b841a1d89a7bac7', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 10, 'created': '2020-12-16 23:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f645fa1040364736e40658365782493662dc31d7', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 11, 'created': '2020-12-17 00:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/452295468fa969b983518854627a78ff0b34c651', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 12, 'created': '2020-12-17 08:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2f225e22232f73a50ec7e892a7ec787cc85242e9', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 13, 'created': '2020-12-17 08:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/4df5af7b79e7debb17c1fbf55c21d1184bdabb3c', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 14, 'created': '2020-12-17 09:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a5aa559e099b1b2fba70996876bdbf8818bf290f', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 15, 'created': '2020-12-17 10:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f64999644737626424ad87b046cf43ba64c4c144', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 16, 'created': '2020-12-17 10:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6d3e302eb3423f82db8c5a0c75db603a975c8bdb', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 17, 'created': '2020-12-17 10:54:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7d08fa1c39be7ee6945b35e55bd00c32e20ba04d', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 18, 'created': '2020-12-17 11:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/452188f49f88b039d71ccdb5caf465ab1aeadfca', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 19, 'created': '2020-12-17 11:21:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c89d6bfb929927fda6ab72b19756a2e5abc6b349', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 20, 'created': '2020-12-17 11:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/31fdfba3616a105e09cd846a56eac0c931e4c761', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 21, 'created': '2020-12-17 11:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7fd3d724052be494bcb53c278b4ee53d12929206', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 22, 'created': '2020-12-17 13:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/102ed67951c63b272ea940575944207d32cfdf32', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 23, 'created': '2020-12-17 13:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3d96c6ddf3b3d78b54d5d37ecaf2971b35f711db', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 24, 'created': '2020-12-17 13:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ddc965a9db7c906c676161d6f7d08ad3c69b687d', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 25, 'created': '2020-12-17 14:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/3845e28340e35cfabbadf72a2d1761b155f7b0b9', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 26, 'created': '2020-12-17 14:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/9db570f42b45a5e4e98d18294545a7de67ba3b45', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 27, 'created': '2020-12-17 15:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ab0246bfe49872955c19afb52523f27929762b45', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 28, 'created': '2020-12-17 15:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f33383eba0ccc5152630b2cd57698c8ce66c7dd1', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 29, 'created': '2020-12-17 15:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ec5fa8c59727590ef75f994152c5bc99c14a9b08', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 30, 'created': '2020-12-17 15:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/dbd9b3f0c544ebdce48827fc75957ddc9ca49a3d', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 31, 'created': '2020-12-17 16:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/c8ba904b3894cc4c9191bc7da3bd2c669d36f8f2', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 32, 'created': '2020-12-17 16:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5b5da1663aa397f929f18de9c234867787a05553', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 33, 'created': '2020-12-17 16:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5aec7a124ea72f178bfa65e461ff593757a29bd8', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 34, 'created': '2020-12-17 17:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0a31051e0b5ab661c3360398644bc2c62a8bfaac', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 35, 'created': '2020-12-17 17:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8b59d8a1175c0c2380644e6e8bf477e4c43b28d0', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 36, 'created': '2020-12-17 18:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/d3f705afcd2d59d64e79391e901657afc44cb8d5', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 37, 'created': '2020-12-17 18:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e398766b42fa92376f8563e161038a0199f3b24f', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 38, 'created': '2020-12-17 18:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ba47de17b4104d645bec6b17d333f90260b737ac', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 39, 'created': '2020-12-17 18:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/0e83c45ddd335a7d7b680aa5cde06bf1919a69ac', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 40, 'created': '2020-12-17 19:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b6ad257e64f30f93cce0ac30fefe4382af3024d1', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 41, 'created': '2020-12-17 19:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6c40c51334d21f63b2aefaf77f8d39e068bd4bbe', 'message': 'Fix Gate\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}, {'number': 42, 'created': '2021-01-04 09:31:44.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/magnum/commit/94737878aff76864f292dbdf2a5a12b6a3cafd60', 'message': 'Fix gate - update lower-constraints\n\nStory: 2008482\nTask: 41522\n\nChange-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce\n'}]",0,767228,94737878aff76864f292dbdf2a5a12b6a3cafd60,73,4,42,6484,,,0,"Fix gate - update lower-constraints

Story: 2008482
Task: 41522

Change-Id: I875b9b2e0ef8bb6751a27e9a917a6d58042570ce
",git fetch https://review.opendev.org/openstack/magnum refs/changes/28/767228/9 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,7fbf422d77e64868c07a9bbbb27a843deca2cc10,fix-ci-1,bashate==2.0.0coverage==5.3doc8==0.8.1oslo.config==8.4.0oslotest==4.4.1,bashate==0.5.1coverage==4.0doc8==0.6.0oslo.config==5.2.0oslotest==3.2.0,5,5
openstack%2Fheat~master~I0721863ac081062cefce316f88c785e57cabb938,openstack/heat,master,I0721863ac081062cefce316f88c785e57cabb938,Remove translation sections from setup.cfg,ABANDONED,2020-07-01 14:49:07.000000000,2021-01-12 11:14:11.000000000,,"[{'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 32231}]","[{'number': 1, 'created': '2020-07-01 14:49:07.000000000', 'files': ['requirements.txt', 'babel.cfg', 'lower-constraints.txt', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/heat/commit/91873d2650fcdec7079bfa7f6d48a3d447359769', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nRemove babel.cfg as well, this is the default role and not needed\nanymore.\n\nalso remove Babel from requirements[1]\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html\n\nChange-Id: I0721863ac081062cefce316f88c785e57cabb938\n'}]",0,738860,91873d2650fcdec7079bfa7f6d48a3d447359769,5,3,1,26285,,,0,"Remove translation sections from setup.cfg

These translation sections are not needed anymore, Babel can
generate translation files without them.

Remove babel.cfg as well, this is the default role and not needed
anymore.

also remove Babel from requirements[1]
[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014227.html

Change-Id: I0721863ac081062cefce316f88c785e57cabb938
",git fetch https://review.opendev.org/openstack/heat refs/changes/60/738860/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'babel.cfg', 'lower-constraints.txt', 'setup.cfg']",4,91873d2650fcdec7079bfa7f6d48a3d447359769,,, [compile_catalog] directory = heat/locale domain = heat [update_catalog] domain = heat output_dir = heat/locale input_file = heat/locale/heat.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = heat/locale/heat.pot,0,17
openstack%2Ftripleo-heat-templates~master~I5054d5970e6c88cf3cdcd9c3850ef926040bc827,openstack/tripleo-heat-templates,master,I5054d5970e6c88cf3cdcd9c3850ef926040bc827,Reset sriov_numvfs to 0 before leapp upgrade,MERGED,2020-08-07 04:04:41.000000000,2021-01-12 10:57:41.000000000,2020-08-12 16:55:20.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-08-07 04:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f971fd0a3ea7493f03022c3d9e230d7fefe47cba', 'message': 'Reset sriov_numvfs to 0 before leapp upgrade\n\nChange-Id: I5054d5970e6c88cf3cdcd9c3850ef926040bc827\nCloses-Bug: #1890769\n'}, {'number': 2, 'created': '2020-08-07 15:12:43.000000000', 'files': ['deployment/neutron/neutron-sriov-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b3ec034649e0d18de78fcfe5f903cfe9a0a18a6a', 'message': ""Reset sriov_numvfs to 0 before leapp upgrade\n\nLeapp's actor persistentnetnamesconfig will try\nto apply the nic names based on the mac address.\nWhlie collecting the data, leapp will also add the\nVFs details to RHEL7 catalog (leapp.db). But when\nRHEL8 ramfs boots, it will not find the VF interfaces.\nVFs will be configured using sriov_config service\non boot (not applied during upgrade). Remove VFs\nbefore leapp upgrade as a workaround.\nCloses-Bug: #1890769\n\nChange-Id: I5054d5970e6c88cf3cdcd9c3850ef926040bc827\n""}]",9,745280,b3ec034649e0d18de78fcfe5f903cfe9a0a18a6a,37,8,2,18575,,,0,"Reset sriov_numvfs to 0 before leapp upgrade

Leapp's actor persistentnetnamesconfig will try
to apply the nic names based on the mac address.
Whlie collecting the data, leapp will also add the
VFs details to RHEL7 catalog (leapp.db). But when
RHEL8 ramfs boots, it will not find the VF interfaces.
VFs will be configured using sriov_config service
on boot (not applied during upgrade). Remove VFs
before leapp upgrade as a workaround.
Closes-Bug: #1890769

Change-Id: I5054d5970e6c88cf3cdcd9c3850ef926040bc827
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/745280/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-sriov-agent-container-puppet.yaml'],1,f971fd0a3ea7493f03022c3d9e230d7fefe47cba,ffu16_remove_sriov_devs," upgrade_tasks: - name: upgrade prepare for leapp to remove extra sriov vfs tags: - never - system_upgrade - system_upgrade_prepare when: - step|int == 3 - upgrade_leapp_enabled block: - name: list interfaces set_fact: ifs: ""{{ hostvars[inventory_hostname]['ansible_facts']['interfaces'] }}"" - name: reset all vfs as leapp will look for all interfaces on reboot shell: | DEV=""/sys/class/net/{{ item }}/device/sriov_numvfs"" if [ -a $DEV ]; then NUM_VFS=$(cat $DEV) if [[ $NUM_VFS != 0 ]]; then echo 0 >$DEV fi fi loop: ""{{ ifs }}"" # TODO: sriov_config service can also be disabled? check os-net-config code.", upgrade_tasks: [],24,1
openstack%2Foctavia~stable%2Fussuri~I30e23ca13d033d77c8ebdabbfdc7b54556a9466b,openstack/octavia,stable/ussuri,I30e23ca13d033d77c8ebdabbfdc7b54556a9466b,Fix operating status for empty UDP pools,MERGED,2021-01-11 19:04:32.000000000,2021-01-12 10:41:17.000000000,2021-01-12 10:39:41.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-01-11 19:04:32.000000000', 'files': ['octavia/tests/unit/common/jinja/lvs/test_lvs_jinja_cfg.py', 'octavia/common/jinja/lvs/templates/macros.j2', 'releasenotes/notes/fix-empty-udp-pool-status-3171950628898468.yaml', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/89cc378b7c7c292a8e1d58b088d6c44f7a9775c9', 'message': 'Fix operating status for empty UDP pools\n\nFix empty UDP pools status: a UDP pool without members went OFFLINE\ninstead of ONLINE.\n\nThis commit changes the keepalived configuration with empty pools:\nthe configuration now contains a virtual_server and a comment about the\nexisting pool. This comment is used by the get_udp_listener_pool_status\nto detect that the pool exists and is not offline.\n\nStory 2007984\nTask 40610\n\nConflicts:\n    octavia/tests/unit/common/sample_configs/sample_configs_combined.py\n\nChange-Id: I30e23ca13d033d77c8ebdabbfdc7b54556a9466b\n(cherry picked from commit 2954370e386d54a88763128e2dbfb9c4b2bca96d)\n'}]",0,770173,89cc378b7c7c292a8e1d58b088d6c44f7a9775c9,11,4,1,1131,,,0,"Fix operating status for empty UDP pools

Fix empty UDP pools status: a UDP pool without members went OFFLINE
instead of ONLINE.

This commit changes the keepalived configuration with empty pools:
the configuration now contains a virtual_server and a comment about the
existing pool. This comment is used by the get_udp_listener_pool_status
to detect that the pool exists and is not offline.

Story 2007984
Task 40610

Conflicts:
    octavia/tests/unit/common/sample_configs/sample_configs_combined.py

Change-Id: I30e23ca13d033d77c8ebdabbfdc7b54556a9466b
(cherry picked from commit 2954370e386d54a88763128e2dbfb9c4b2bca96d)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/73/770173/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/common/jinja/lvs/test_lvs_jinja_cfg.py', 'octavia/common/jinja/lvs/templates/macros.j2', 'releasenotes/notes/fix-empty-udp-pool-status-3171950628898468.yaml', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py']",6,89cc378b7c7c292a8e1d58b088d6c44f7a9775c9,empty-udp-pool-ussuri," # return UP. 'status': constants.UP,"," # return DOWN. 'status': constants.DOWN,",81,18
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib544869e059e7cb888d2ac6c39c3f4bf91907b95,openstack/tripleo-heat-templates,stable/train,Ib544869e059e7cb888d2ac6c39c3f4bf91907b95,[DNM] Ensure docker is restarted,ABANDONED,2020-12-22 16:06:05.000000000,2021-01-12 10:26:49.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2020-12-22 16:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/905cc1c3693ed15adfd39d8c8839305fb3f32574', 'message': '[DNM] Ensure docker is restarted\n\nChange-Id: Ib544869e059e7cb888d2ac6c39c3f4bf91907b95\n'}, {'number': 2, 'created': '2020-12-23 08:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/90d71bf47d9c1539c2838b3767e98aa668d1deb7', 'message': '[DNM] Ensure docker is restarted\n\nChange-Id: Ib544869e059e7cb888d2ac6c39c3f4bf91907b95\n'}, {'number': 3, 'created': '2020-12-23 16:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/492e3c8497bcedcc40b9f9ce7bb78d3cabec22c4', 'message': '[DNM] Try import_role for container-registry\n\nHandlers are being skipped for some hosts randomly.\n\nChange-Id: Ib544869e059e7cb888d2ac6c39c3f4bf91907b95\n'}, {'number': 4, 'created': '2020-12-24 04:50:33.000000000', 'files': ['deployment/deprecated/docker/docker-baremetal-ansible.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/547263c83c184421950ad4ffc8b2c05f98f977f1', 'message': '[DNM] Ensure docker is restarted\n\ndocker is not starting on some hosts randomly.\n\nChange-Id: Ib544869e059e7cb888d2ac6c39c3f4bf91907b95\n'}]",2,768231,547263c83c184421950ad4ffc8b2c05f98f977f1,12,1,4,13861,,,0,"[DNM] Ensure docker is restarted

docker is not starting on some hosts randomly.

Change-Id: Ib544869e059e7cb888d2ac6c39c3f4bf91907b95
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/768231/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/deprecated/docker/docker-baremetal-ansible.yaml', 'zuul.d/layout.yaml']",2,905cc1c3693ed15adfd39d8c8839305fb3f32574,, check: jobs: [], templates: - tripleo-undercloud-jobs-pipeline - tripleo-multinode-container-minimal-pipeline - check-requirements - release-notes-jobs-python3 - openstack-python-jobs - tripleo-standalone-scenarios-pipeline - openstack-python3-train-jobs - tripleo-standalone-multinode-ipa-pipeline check: jobs: - openstack-tox-pep8 - tripleo-ci-centos-7-content-provider: dependencies: &deps_unit_lint - openstack-tox-pep8 - tripleo-ci-centos-8-content-provider: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades: voting: true dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: dependencies: *deps_unit_lint files: &multinode_updates_files - common/.*$ - ci/environments/scenario000-multinode-containers.yaml - ^ci/common/.*$ - ^deployed-server/.*$ - ^deployment/container-image-prepare/.*$ - ^(deployment|docker|puppet)/.*ca-certs.*$ - ^(deployment|docker|puppet)/.*clustercheck.*$ - ^(deployment|docker|puppet)/.*docker.*$ - ^(deployment|docker|puppet)/.*haproxy.*$ - ^(deployment|docker|puppet)/.*kernel.*$ - ^(deployment|docker|puppet)/.*keystone.*$ - ^(deployment|docker|puppet)/.*memcached.*$ - ^(deployment|docker|puppet)/.*mysql.*$ - ^(deployment|docker|puppet)/.*ntp.*$ - ^(deployment|docker|puppet)/.*pacemaker.*$ - ^(deployment|docker|puppet)/.*rabbitmq.*$ - ^(deployment|docker|puppet)/.*snmp.*$ - ^(deployment|docker|puppet)/.*timezone.*$ - ^(deployment|docker|puppet)/.*tripleo-packages.*$ - ^(deployment|docker|puppet)/.*tripleo-firewall.*$ - ^(deployment|docker|puppet)/.*sshd.*$ - ^environments\/.*.yaml - ^network/endpoints/.*$ - zuul.d/* - tripleo-ci-centos-8-scenario007-multinode-oooq-container: vars: &multi_consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: &deps_cprovider - tripleo-ci-centos-8-content-provider files: - ci/environments/scenario007-multinode-containers.yaml - ^(deployment|docker|puppet)/neutron-plugin-ml2.yaml #LP1765975 - ^(deployment|docker|puppet)/.*.*ovn.*$ - ^(deployment|docker|puppet)/.*tacker.*$ - ^ci/common/.*$ - ^environments\/.*.yaml - ^deployed-server/.*$ - ^common/.*$ - zuul.d/* - tripleo-ci-centos-8-scenario010-standalone: vars: *multi_consumer_vars dependencies: *deps_cprovider files: - ^(deployment|docker|puppet)/.*octavia.*$ - ^deployment/ceph-ansible.*$ - ^deployment/octavia/*$ - ci/environments/scenario010-standalone.yaml - ^ci/common/.*$ - ^environments\/.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - zuul.d/* - tripleo-ci-centos-7-containerized-undercloud-upgrades: voting: false dependencies: *deps_unit_lint gate: queue: tripleo jobs: - openstack-tox-pep8 - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: files: *multinode_updates_files,3,88
openstack%2Fpaunch~stable%2Ftrain~Idcd370f33f9315f2e8bc0cc9e0495c36bed45efc,openstack/paunch,stable/train,Idcd370f33f9315f2e8bc0cc9e0495c36bed45efc,remove c7 update/upgrdae jobs,MERGED,2021-01-11 17:22:53.000000000,2021-01-12 10:15:47.000000000,2021-01-12 10:11:16.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-11 17:22:53.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/paunch/commit/514328b41e6e8723039d33c254e558911a5c22ee', 'message': 'remove c7 update/upgrdae jobs\n\nremove c7 update/upgrdae jobs\n\nRelated-Bug: #1911027\nChange-Id: Idcd370f33f9315f2e8bc0cc9e0495c36bed45efc\n'}]",0,770157,514328b41e6e8723039d33c254e558911a5c22ee,8,3,1,9592,,,0,"remove c7 update/upgrdae jobs

remove c7 update/upgrdae jobs

Related-Bug: #1911027
Change-Id: Idcd370f33f9315f2e8bc0cc9e0495c36bed45efc
",git fetch https://review.opendev.org/openstack/paunch refs/changes/57/770157/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,514328b41e6e8723039d33c254e558911a5c22ee,tripleo-c7-update-upgrade-removal,," - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades: dependencies: *deps_unit_lint - tripleo-ci-centos-7-scenario000-multinode-oooq-container-updates: dependencies: *deps_unit_lint# TODO, add tripleo-ci-centos-8-containerized-undercloud-upgrades to check and gate # to replace tripleo-ci-centos-7-containerized-undercloud-upgrades",0,6
openstack%2Fceilometer~master~I5a7c087b29f3b0d7d9f63c2a774b8f2aff35b7a3,openstack/ceilometer,master,I5a7c087b29f3b0d7d9f63c2a774b8f2aff35b7a3,Fix lower-constraints job,MERGED,2020-12-14 11:25:14.000000000,2021-01-12 10:10:12.000000000,2021-01-12 10:05:02.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-14 11:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/63a5ac98ddb16404ab5b1ad9730244f8e30578c5', 'message': 'Update to use lxml 4.5.1, to work with py>=3.6\n\nChange-Id: I5a7c087b29f3b0d7d9f63c2a774b8f2aff35b7a3\n'}, {'number': 2, 'created': '2020-12-14 13:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c07b08737f4051ff24fed23f3eb61a1de2aa321b', 'message': 'Fix lower-constraints job\n\nChange-Id: I5a7c087b29f3b0d7d9f63c2a774b8f2aff35b7a3\n'}, {'number': 3, 'created': '2020-12-14 15:02:39.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/c6f04f772c8c2cd9601086bee26d85a273e67cd7', 'message': 'Fix lower-constraints job\n\nChange-Id: I5a7c087b29f3b0d7d9f63c2a774b8f2aff35b7a3\n'}]",0,766930,c6f04f772c8c2cd9601086bee26d85a273e67cd7,14,2,3,4264,,,0,"Fix lower-constraints job

Change-Id: I5a7c087b29f3b0d7d9f63c2a774b8f2aff35b7a3
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/30/766930/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,63a5ac98ddb16404ab5b1ad9730244f8e30578c5,constraints,lxml==4.5.1,lxml==4.2.3,2,2
openstack%2Fpython-tripleoclient~stable%2Ftrain~I3f83e76747703fe51b1b2cf9cd101298cea2ce8f,openstack/python-tripleoclient,stable/train,I3f83e76747703fe51b1b2cf9cd101298cea2ce8f,remove c7 update/upgrdae jobs,MERGED,2021-01-11 17:25:44.000000000,2021-01-12 10:09:00.000000000,2021-01-12 10:02:34.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-11 17:25:44.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9c89072fdb90ef65a3a5c693608894450fc0bcb2', 'message': 'remove c7 update/upgrdae jobs\n\nremove c7 update/upgrdae jobs\n\nRelated-Bug: #1911027\nChange-Id: I3f83e76747703fe51b1b2cf9cd101298cea2ce8f\n'}]",0,770159,9c89072fdb90ef65a3a5c693608894450fc0bcb2,7,2,1,9592,,,0,"remove c7 update/upgrdae jobs

remove c7 update/upgrdae jobs

Related-Bug: #1911027
Change-Id: I3f83e76747703fe51b1b2cf9cd101298cea2ce8f
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/59/770159/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,9c89072fdb90ef65a3a5c693608894450fc0bcb2,tripleo-c7-update-upgrade-removal,, - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades: dependencies: *deps_unit_lint,0,2
openstack%2Ftripleo-common~stable%2Ftrain~I8d7f033ebf5b454dd5031c02ab93008c76c097fe,openstack/tripleo-common,stable/train,I8d7f033ebf5b454dd5031c02ab93008c76c097fe,remove c7 update/upgrdae jobs,MERGED,2021-01-11 17:31:39.000000000,2021-01-12 10:08:49.000000000,2021-01-12 10:02:31.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-11 17:31:39.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/10d655438715273142e22e8640da31a6f7b59fcf', 'message': 'remove c7 update/upgrdae jobs\n\nremove c7 update/upgrdae jobs\n\nChange-Id: I8d7f033ebf5b454dd5031c02ab93008c76c097fe\nRelated-Bug: #1911027\n'}]",0,770162,10d655438715273142e22e8640da31a6f7b59fcf,9,4,1,9592,,,0,"remove c7 update/upgrdae jobs

remove c7 update/upgrdae jobs

Change-Id: I8d7f033ebf5b454dd5031c02ab93008c76c097fe
Related-Bug: #1911027
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/62/770162/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,10d655438715273142e22e8640da31a6f7b59fcf,tripleo-c7-update-upgrade-removal,, - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades: dependencies: *deps_unit_lint,0,2
openstack%2Foctavia~stable%2Fussuri~Ib089affa229531cd72f6853105d74b446687ae86,openstack/octavia,stable/ussuri,Ib089affa229531cd72f6853105d74b446687ae86,Use 'bash' in the keepalived check script,MERGED,2020-12-18 23:05:39.000000000,2021-01-12 10:00:41.000000000,2021-01-12 09:59:01.000000000,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-18 23:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/da6c3d462655000eaf292f2592f54b7b7deb3798', 'message': 'Use \'bash\' in the keepalived check script\n\nUse bash instead of sh to avoid the error ""shopt: not found""\n\nChange-Id: Ib089affa229531cd72f6853105d74b446687ae86\nStory: 2008437\nTask: 41399\n(cherry picked from commit 1a86e454e7be22b36039a4a4bac6a886f523e9d3)\n'}, {'number': 2, 'created': '2021-01-06 01:32:32.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/templates/keepalived_check_script.conf.j2'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b339d009754d30b95ddd56b4ff680e14b3823e54', 'message': 'Use \'bash\' in the keepalived check script\n\nUse bash instead of sh to avoid the error ""shopt: not found""\n\nChange-Id: Ib089affa229531cd72f6853105d74b446687ae86\nStory: 2008437\nTask: 41399\n(cherry picked from commit 1a86e454e7be22b36039a4a4bac6a886f523e9d3)\n'}]",0,767788,b339d009754d30b95ddd56b4ff680e14b3823e54,16,3,2,6732,,,0,"Use 'bash' in the keepalived check script

Use bash instead of sh to avoid the error ""shopt: not found""

Change-Id: Ib089affa229531cd72f6853105d74b446687ae86
Story: 2008437
Task: 41399
(cherry picked from commit 1a86e454e7be22b36039a4a4bac6a886f523e9d3)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/88/767788/2 && git format-patch -1 --stdout FETCH_HEAD,['octavia/amphorae/backends/agent/api_server/templates/keepalived_check_script.conf.j2'],1,da6c3d462655000eaf292f2592f54b7b7deb3798,fix-keepalived-check-stable/ussuri, bash $file, sh $file,1,1
openstack%2Fneutron-specs~master~I8b47a6602fabe1087b315accbdd7bc8b2eeb10a2,openstack/neutron-specs,master,I8b47a6602fabe1087b315accbdd7bc8b2eeb10a2,Remove placeholder for wallaby folder,MERGED,2021-01-12 08:45:48.000000000,2021-01-12 09:57:53.000000000,2021-01-12 09:56:43.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 08:45:48.000000000', 'files': ['specs/wallaby/placeholder.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/cae1433806c0c97d39820a6388d5980afe734aac', 'message': 'Remove placeholder for wallaby folder\n\nAn official spec of wallaby has been merged, so remove\nthis placeholder empty page.\n\nChange-Id: I8b47a6602fabe1087b315accbdd7bc8b2eeb10a2\n'}]",0,770247,cae1433806c0c97d39820a6388d5980afe734aac,10,4,1,9531,,,0,"Remove placeholder for wallaby folder

An official spec of wallaby has been merged, so remove
this placeholder empty page.

Change-Id: I8b47a6602fabe1087b315accbdd7bc8b2eeb10a2
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/47/770247/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/wallaby/placeholder.rst'],1,cae1433806c0c97d39820a6388d5980afe734aac,,,.. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================== (Placeholder Spec) ================== This file is just a placeholder for the specs directory. It will be removed soon after some spec is merged. The latest spec template is found at ``specs/template.rst`` in the ``neutron-specs`` repository. Problem Description =================== Sphinx toctree complains if no file exists in a directory specified in toctree glob. Proposed Change =============== References ========== ,0,27
openstack%2Fcharm-ceph-rbd-mirror~master~Ia72783ec278cf058d6d175631ed14194dfc03fda,openstack/charm-ceph-rbd-mirror,master,Ia72783ec278cf058d6d175631ed14194dfc03fda,Enable functional tests for bionic-train,ABANDONED,2019-10-24 17:20:27.000000000,2021-01-12 09:47:02.000000000,,"[{'_account_id': 7730}, {'_account_id': 11805}, {'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-24 17:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/fa61b7aae2160991c79c033a7758dc4cdd11614b', 'message': 'Enable functional tests for bionic-train\n\nThis patch also updates the smoke test to run bionic-train.\n\nChange-Id: Ia72783ec278cf058d6d175631ed14194dfc03fda\n'}, {'number': 2, 'created': '2019-10-31 14:42:25.000000000', 'files': ['src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/31e0050da369a1c6d6dd7db075e41972ce4780d0', 'message': 'Enable functional tests for bionic-train\n\nThis patch also updates the smoke test to run bionic-train.\n\nChange-Id: Ia72783ec278cf058d6d175631ed14194dfc03fda\n'}]",7,691022,31e0050da369a1c6d6dd7db075e41972ce4780d0,27,6,2,11805,,,0,"Enable functional tests for bionic-train

This patch also updates the smoke test to run bionic-train.

Change-Id: Ia72783ec278cf058d6d175631ed14194dfc03fda
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/22/691022/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml']",2,fa61b7aae2160991c79c033a7758dc4cdd11614b,charms-train-function-test,series: bionic applications: mysql: charm: cs:~openstack-charmers-next/percona-cluster num_units: 1 options: source: cloud:bionic-train keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: cloud:bionic-train rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: cloud:bionic-train cinder: charm: cs:~openstack-charmers-next/cinder num_units: 1 options: block-device: None glance-api-version: 2 cinder-ceph: charm: cs:~openstack-charmers-next/cinder-ceph num_units: 0 glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: cloud:bionic-train ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: expected-osd-count: 3 source: cloud:bionic-train ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 options: source: cloud:bionic-train bluestore: False use-direct-io: False osd-devices: /opt ceph-rbd-mirror: series: bionic charm: ../../../ceph-rbd-mirror num_units: 1 options: source: cloud:bionic-train ceph-mon-b: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: expected-osd-count: 3 source: cloud:bionic-train ceph-osd-b: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 options: source: cloud:bionic-train bluestore: False use-direct-io: False osd-devices: /opt ceph-rbd-mirror-b: series: bionic charm: ../../../ceph-rbd-mirror num_units: 1 options: source: cloud:bionic-train relations: - - mysql - keystone - - mysql - cinder - - mysql - glance - - rabbitmq-server - cinder - - keystone - cinder - - keystone - glance - - cinder - cinder-ceph - - cinder-ceph - ceph-mon - - glance - ceph-mon - - ceph-mon:osd - ceph-osd:mon - - ceph-mon - ceph-rbd-mirror:ceph-local - - ceph-mon - ceph-rbd-mirror-b:ceph-remote - - ceph-mon-b:osd - ceph-osd-b:mon - - ceph-mon-b - ceph-rbd-mirror-b:ceph-local - - ceph-mon-b - ceph-rbd-mirror:ceph-remote ,,104,1
openstack%2Fbifrost~master~Ic0400383bc06fd1bcb6b4ad2c289b186971ef463,openstack/bifrost,master,Ic0400383bc06fd1bcb6b4ad2c289b186971ef463,remove unicode from code,MERGED,2021-01-12 09:00:18.000000000,2021-01-12 09:45:06.000000000,2021-01-12 09:43:19.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 09:00:18.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/4318a4efbeadbb12998cd6a5585572d8b758cd63', 'message': 'remove unicode from code\n\nChange-Id: Ic0400383bc06fd1bcb6b4ad2c289b186971ef463\n'}]",0,770250,4318a4efbeadbb12998cd6a5585572d8b758cd63,7,2,1,32291,,,0,"remove unicode from code

Change-Id: Ic0400383bc06fd1bcb6b4ad2c289b186971ef463
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/50/770250/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,4318a4efbeadbb12998cd6a5585572d8b758cd63,,"copyright = '2015, Ironic Developers' 'Bifrost Release Notes Documentation', 'Ironic Developers', 'manual'),","copyright = u'2015, Ironic Developers' u'Bifrost Release Notes Documentation', u'Ironic Developers', 'manual'),",6,6
openstack%2Fbifrost~master~Ib8f766ab17c0ef558a1eba82fea1bbd070500107,openstack/bifrost,master,Ib8f766ab17c0ef558a1eba82fea1bbd070500107,Fix passing parameters with spaces to bifrost-cli,MERGED,2021-01-09 15:05:30.000000000,2021-01-12 09:42:05.000000000,2021-01-12 09:40:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-01-09 15:05:30.000000000', 'files': ['releasenotes/notes/params-ab98e0ac242d119a.yaml', 'bifrost-cli'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/27da1c25dafb515fd2a82a4c615b69d549aaf635', 'message': 'Fix passing parameters with spaces to bifrost-cli\n\nChange-Id: Ib8f766ab17c0ef558a1eba82fea1bbd070500107\n'}]",0,770040,27da1c25dafb515fd2a82a4c615b69d549aaf635,8,3,1,10239,,,0,"Fix passing parameters with spaces to bifrost-cli

Change-Id: Ib8f766ab17c0ef558a1eba82fea1bbd070500107
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/40/770040/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/params-ab98e0ac242d119a.yaml', 'bifrost-cli']",2,27da1c25dafb515fd2a82a4c615b69d549aaf635,params,"PYTHONPATH=$(dirname $0) exec python3 -m bifrost.cli ""$@""",PYTHONPATH=$(dirname $0) exec python3 -m bifrost.cli $@,5,1
openstack%2Fneutron~master~I1e20b8af5a4de8a968216779d35ddb7a410175cd,openstack/neutron,master,I1e20b8af5a4de8a968216779d35ddb7a410175cd,Conclude adoption of new enginefacade in Neutron,ABANDONED,2018-02-17 04:04:34.000000000,2021-01-12 09:34:24.000000000,,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 7249}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11816}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17491}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2018-02-17 04:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f20e3a18f9a776e198e0b9caa8dfcd18e4c521aa', 'message': 'Conclude adoption of new enginefacade in Neutron\n\nThis change concludes the adoption of the Oslo new engine facade in\nNeutron.\n\n1) First revision removes the usage of session.begin\n2) Upcoming revision will remove the usage of autonested_transaction\n   and will set to True the new_facade attribute of the in-tree OVOs\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1e20b8af5a4de8a968216779d35ddb7a410175cd\n'}, {'number': 2, 'created': '2018-02-18 00:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0297b6924d2c6c8e7ec398a95f6ded3dd68bd810', 'message': 'Conclude adoption of new enginefacade in Neutron\n\nThis change concludes the adoption of the Oslo new engine facade in\nNeutron.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1e20b8af5a4de8a968216779d35ddb7a410175cd\n'}, {'number': 3, 'created': '2019-05-27 21:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99ed6ec095b662cfe03cdad2bb1ad8faa9b18538', 'message': 'Conclude adoption of new enginefacade in Neutron\n\nThis change concludes the adoption of the Oslo new engine facade in\nNeutron.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1e20b8af5a4de8a968216779d35ddb7a410175cd\n'}, {'number': 4, 'created': '2019-05-27 21:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b111c2b15fe3c2a66e03593f73c95e659783fa7', 'message': 'Conclude adoption of new enginefacade in Neutron\n\nThis change concludes the adoption of the Oslo new engine facade in\nNeutron.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1e20b8af5a4de8a968216779d35ddb7a410175cd\n'}, {'number': 5, 'created': '2019-05-28 08:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/31b8819bdff30e66ba9dc2903d088671c7d75dd4', 'message': 'Conclude adoption of new enginefacade in Neutron\n\nThis change concludes the adoption of the Oslo new engine facade in\nNeutron.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1e20b8af5a4de8a968216779d35ddb7a410175cd\n'}, {'number': 6, 'created': '2019-05-28 23:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7ae317420f442031436c53814b48a05c057fe9e', 'message': 'Conclude adoption of new enginefacade in Neutron\n\nThis change concludes the adoption of the Oslo new engine facade in\nNeutron.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1e20b8af5a4de8a968216779d35ddb7a410175cd\n'}, {'number': 7, 'created': '2019-05-29 08:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ddd66fc365db28c74c8bbf9a091fab5704f591f2', 'message': 'Conclude adoption of new enginefacade in Neutron\n\nThis change concludes the adoption of the Oslo new engine facade in\nNeutron.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1e20b8af5a4de8a968216779d35ddb7a410175cd\n'}, {'number': 8, 'created': '2019-05-29 08:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3db1197927411ca8ecc10e718174d0eade882a4c', 'message': 'Conclude adoption of new enginefacade in Neutron\n\nThis change concludes the adoption of the Oslo new engine facade in\nNeutron.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1e20b8af5a4de8a968216779d35ddb7a410175cd\n'}, {'number': 9, 'created': '2019-05-29 08:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/217dac9333d69549216bd109fc2089c29ed162d5', 'message': 'Conclude adoption of new enginefacade in Neutron\n\nThis change concludes the adoption of the Oslo new engine facade in\nNeutron.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1e20b8af5a4de8a968216779d35ddb7a410175cd\n'}, {'number': 10, 'created': '2019-06-14 17:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/89cc3d3da3897ff237d917fb212c080fba2c4612', 'message': 'Conclude adoption of new enginefacade in Neutron\n\nThis change concludes the adoption of the Oslo new engine facade in\nNeutron.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1e20b8af5a4de8a968216779d35ddb7a410175cd\n'}, {'number': 11, 'created': '2019-06-18 14:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7fb285392cac21de65d7bd8e6ccc7a3ad6bc6ea0', 'message': 'Conclude adoption of new enginefacade in Neutron\n\nThis change concludes the adoption of the Oslo new engine facade in\nNeutron.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1e20b8af5a4de8a968216779d35ddb7a410175cd\n'}, {'number': 12, 'created': '2019-08-14 07:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e4829a645ceb998359248209d78626c82a95cbd', 'message': 'Conclude adoption of new enginefacade in Neutron\n\nThis change concludes the adoption of the Oslo new engine facade in\nNeutron.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1e20b8af5a4de8a968216779d35ddb7a410175cd\n'}, {'number': 13, 'created': '2019-10-22 20:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/41e36e2665e76940d29fb6b64896e77a1bf83de1', 'message': 'Conclude adoption of new enginefacade in Neutron\n\nThis change concludes the adoption of the Oslo new engine facade in\nNeutron.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1e20b8af5a4de8a968216779d35ddb7a410175cd\n'}, {'number': 14, 'created': '2019-12-04 13:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/be24b6fce3675a5cca4a02689b2265b6d1599ac7', 'message': 'Conclude adoption of new enginefacade in Neutron\n\nThis change concludes the adoption of the Oslo new engine facade in\nNeutron.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1e20b8af5a4de8a968216779d35ddb7a410175cd\n'}, {'number': 15, 'created': '2020-03-02 13:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/466d99aa76b042eb5e3be8588eb94e147870b6ea', 'message': 'Conclude adoption of new enginefacade in Neutron\n\nThis change concludes the adoption of the Oslo new engine facade in\nNeutron.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1e20b8af5a4de8a968216779d35ddb7a410175cd\n'}, {'number': 16, 'created': '2020-03-20 10:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ab25f052a7d16953fb3ad926293368a476d570d', 'message': 'Conclude adoption of new enginefacade in Neutron\n\nThis change concludes the adoption of the Oslo new engine facade in\nNeutron.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1e20b8af5a4de8a968216779d35ddb7a410175cd\n'}, {'number': 17, 'created': '2020-03-25 14:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1b7cdbe891bafcc550df5f6eb3b9e200e6902af', 'message': 'Conclude adoption of new enginefacade in Neutron\n\nThis change concludes the adoption of the Oslo new engine facade in\nNeutron.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1e20b8af5a4de8a968216779d35ddb7a410175cd\n'}, {'number': 18, 'created': '2020-08-14 09:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1523f512f9ed690e46ecc20a681fd5671a990918', 'message': 'Conclude adoption of new enginefacade in Neutron\n\nThis change concludes the adoption of the Oslo new engine facade in\nNeutron.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1e20b8af5a4de8a968216779d35ddb7a410175cd\n'}, {'number': 19, 'created': '2020-08-27 15:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/354bbb8370f853e075f804dc73f03aa6a1efe548', 'message': 'Conclude adoption of new enginefacade in Neutron\n\nThis change concludes the adoption of the Oslo new engine facade in\nNeutron.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1e20b8af5a4de8a968216779d35ddb7a410175cd\n'}, {'number': 20, 'created': '2020-08-27 20:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc8017ee112dac96b2a3b05d95bffcc26cf2961a', 'message': 'Conclude adoption of new enginefacade in Neutron\n\nThis change concludes the adoption of the Oslo new engine facade in\nNeutron.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1e20b8af5a4de8a968216779d35ddb7a410175cd\n'}, {'number': 21, 'created': '2020-09-22 09:20:36.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_gateway_ip_qos.py', 'neutron/db/l3_gwmode_db.py', 'neutron/db/l3_hamode_db.py', 'neutron/objects/base.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/db/l3_db.py', 'neutron/db/ovn_revision_numbers_db.py', 'neutron/ipam/drivers/neutrondb_ipam/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c22c09260477c957064de9d65793387b2e277edf', 'message': 'Conclude adoption of new enginefacade in Neutron\n\nThis change concludes the adoption of the Oslo new engine facade in\nNeutron.\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I1e20b8af5a4de8a968216779d35ddb7a410175cd\n'}]",2,545501,c22c09260477c957064de9d65793387b2e277edf,118,17,21,4694,,,0,"Conclude adoption of new enginefacade in Neutron

This change concludes the adoption of the Oslo new engine facade in
Neutron.

Partially-Implements blueprint: enginefacade-switch

Change-Id: I1e20b8af5a4de8a968216779d35ddb7a410175cd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/545501/10 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_gwmode_db.py', 'neutron/db/l3_hamode_db.py', 'neutron/db/agentschedulers_db.py', 'neutron/db/rbac_db_mixin.py', 'neutron/tests/unit/plugins/ml2/test_db.py', 'neutron/tests/unit/extensions/test_data_plane_status.py', 'neutron/tests/unit/plugins/ml2/drivers/l2pop/test_db.py', 'neutron/tests/unit/extensions/test_flavors.py', 'neutron/tests/unit/db/test_agents_db.py', 'neutron/tests/unit/extensions/test_extra_dhcp_opt.py', 'neutron/plugins/ml2/drivers/helpers.py', 'neutron/db/l3_hascheduler_db.py', 'neutron/scheduler/l3_agent_scheduler.py', 'neutron/scheduler/base_resource_filter.py', 'neutron/tests/unit/plugins/ml2/test_port_binding.py', 'neutron/scheduler/dhcp_agent_scheduler.py', 'neutron/services/l3_router/service_providers/driver_controller.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/unit/plugins/ml2/test_ovo_rpc.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/tests/unit/services/revisions/test_revision_plugin.py', 'neutron/db/l3_db.py', 'neutron/plugins/ml2/drivers/type_tunnel.py', 'neutron/tests/unit/db/test_agentschedulers_db.py', 'neutron/api/rpc/handlers/l3_rpc.py', 'neutron/ipam/drivers/neutrondb_ipam/driver.py', 'neutron/db/agents_db.py', 'neutron/db/extraroute_db.py', 'neutron/tests/unit/db/test_allowedaddresspairs_db.py', 'neutron/tests/unit/extensions/test_vlantransparent.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/_utils.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/db/l3_agentschedulers_db.py']",36,f20e3a18f9a776e198e0b9caa8dfcd18e4c521aa,bp/enginefacade-switch,from neutron.db import api as db_api with db_api.context_manager.reader.using(context): with db_api.context_manager.writer.using(context): with db_api.context_manager.writer.using(context): with db_api.context_manager.reader.using(context):, with context.session.begin(subtransactions=True): with context.session.begin(subtransactions=True): with context.session.begin(subtransactions=True): with context.session.begin(subtransactions=True):,122,90
openstack%2Fpython-tripleoclient~master~Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2,openstack/python-tripleoclient,master,Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2,Make workflow monitoring more resilient,MERGED,2020-12-22 15:29:45.000000000,2021-01-12 09:30:47.000000000,2021-01-12 09:29:17.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-22 15:29:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/16bee8fef7f895cee756a370c0d0bcd990645615', 'message': ""Make workflow monitoring more resilient\n\nLet's make the monitoring of the mistral executions a bit more robust.\nIf for some reason a tcp reset occurs while monitoring the execution\nstate of a workflow, tripleoclient completely gives up:\n\n  2020-12-21 17:16:25 | 2020-12-21 17:16:25.015 297753 ERROR tripleoclient.v1.overcloud_upgrade.UpgradeRun [-] Exception occured while running the command:\n  keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions/dfe7ee67-6cd0-407c-9f61-b355a1cf0b25:\n  ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))\n\nThis is bad UX because the execution is actually running via mistral\nin the background just fine, it's just the monitoring that did not\nsurvive a hiccup.\n\nWith this patch we were able to inject artificial problems on mistral\nwith the reproducer below [1] and the client survived them just fine:\n\nTASK [Gathering Facts] *********************************************************\nTuesday 22 December 2020  13:27:38 +0000 (0:00:03.337)       0:00:03.438 ******\nok: [controller-1]\n\n2020-12-22 13:27:41.242 3728 WARNING tripleoclient.workflows.base [-] Connection failure while fetching execution ID. Retrying: Unable to establish connection to https://192.168.24.2:13989/v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209: HTTPSConnectionPool(host='192.168.24.2', port=13989): Max retries exceeded with url: /v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209 (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7fb4b22d9e80>: Failed to establish a new connection: [Errno 111] Connection refused',)): keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209: HTTPSConnectionPool(host='192.168.24.2', port=13989): Max retries exceeded with url: /v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209 (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7fb4b22d9e80>: Failed to establish a new connection: [Errno 111] Connection refused',))^[[00m\nok: [controller-0]\n\nPLAY [Load global variables] ***************************************************\n\nThe mistral execution continues correctly and tripleoclient deals with the hiccup without erroring out.\n\n[1] A quick reproducer for this issue is to run a longer workflow (minor\nupdate or ffu of a node) and once tripleoclient is just monitoring the\nmistral execution just run:\niptables -I INPUT -p tcp --dport 13989 -j REJECT\nsleep 13\niptables -D INPUT 1\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\n\nChange-Id: Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2\nCloses-Bug: #1909019\n""}, {'number': 2, 'created': '2020-12-23 09:45:55.000000000', 'files': ['tripleoclient/workflows/base.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/01fb0efda0efa1379aa9b053688bb82441ee72cf', 'message': ""Make workflow monitoring more resilient\n\nLet's make the monitoring of the mistral executions a bit more robust.\nIf for some reason a tcp reset occurs while monitoring the execution\nstate of a workflow, tripleoclient completely gives up:\n\n  2020-12-21 17:16:25 | 2020-12-21 17:16:25.015 297753 ERROR tripleoclient.v1.overcloud_upgrade.UpgradeRun [-] Exception occured while running the command:\n  keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions/dfe7ee67-6cd0-407c-9f61-b355a1cf0b25:\n  ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))\n\nThis is bad UX because the execution is actually running via mistral\nin the background just fine, it's just the monitoring that did not\nsurvive a hiccup.\n\nWith this patch we were able to inject artificial problems on mistral\nwith the reproducer below [1] and the client survived them just fine:\n\nTASK [Gathering Facts] *********************************************************\nTuesday 22 December 2020  13:27:38 +0000 (0:00:03.337)       0:00:03.438 ******\nok: [controller-1]\n\n2020-12-22 13:27:41.242 3728 WARNING tripleoclient.workflows.base [-] Connection failure while fetching execution ID. Retrying: Unable to establish connection to https://192.168.24.2:13989/v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209: HTTPSConnectionPool(host='192.168.24.2', port=13989): Max retries exceeded with url: /v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209 (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7fb4b22d9e80>: Failed to establish a new connection: [Errno 111] Connection refused',)): keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209: HTTPSConnectionPool(host='192.168.24.2', port=13989): Max retries exceeded with url: /v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209 (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7fb4b22d9e80>: Failed to establish a new connection: [Errno 111] Connection refused',))^[[00m\nok: [controller-0]\n\nPLAY [Load global variables] ***************************************************\n\nThe mistral execution continues correctly and tripleoclient deals with the hiccup without erroring out.\n\n[1] A quick reproducer for this issue is to run a longer workflow (minor\nupdate or ffu of a node) and once tripleoclient is just monitoring the\nmistral execution just run:\niptables -I INPUT -p tcp --dport 13989 -j REJECT\nsleep 13\niptables -D INPUT 1\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\n\nChange-Id: Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2\nCloses-Bug: #1909019\n""}]",1,768225,01fb0efda0efa1379aa9b053688bb82441ee72cf,12,7,2,20172,,,0,"Make workflow monitoring more resilient

Let's make the monitoring of the mistral executions a bit more robust.
If for some reason a tcp reset occurs while monitoring the execution
state of a workflow, tripleoclient completely gives up:

  2020-12-21 17:16:25 | 2020-12-21 17:16:25.015 297753 ERROR tripleoclient.v1.overcloud_upgrade.UpgradeRun [-] Exception occured while running the command:
  keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions/dfe7ee67-6cd0-407c-9f61-b355a1cf0b25:
  ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response',))

This is bad UX because the execution is actually running via mistral
in the background just fine, it's just the monitoring that did not
survive a hiccup.

With this patch we were able to inject artificial problems on mistral
with the reproducer below [1] and the client survived them just fine:

TASK [Gathering Facts] *********************************************************
Tuesday 22 December 2020  13:27:38 +0000 (0:00:03.337)       0:00:03.438 ******
ok: [controller-1]

2020-12-22 13:27:41.242 3728 WARNING tripleoclient.workflows.base [-] Connection failure while fetching execution ID. Retrying: Unable to establish connection to https://192.168.24.2:13989/v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209: HTTPSConnectionPool(host='192.168.24.2', port=13989): Max retries exceeded with url: /v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209 (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7fb4b22d9e80>: Failed to establish a new connection: [Errno 111] Connection refused',)): keystoneauth1.exceptions.connection.ConnectFailure: Unable to establish connection to https://192.168.24.2:13989/v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209: HTTPSConnectionPool(host='192.168.24.2', port=13989): Max retries exceeded with url: /v2/executions/bb693f44-180f-4b16-a215-d379e0fd9209 (Caused by NewConnectionError('<urllib3.connection.VerifiedHTTPSConnection object at 0x7fb4b22d9e80>: Failed to establish a new connection: [Errno 111] Connection refused',))^[[00m
ok: [controller-0]

PLAY [Load global variables] ***************************************************

The mistral execution continues correctly and tripleoclient deals with the hiccup without erroring out.

[1] A quick reproducer for this issue is to run a longer workflow (minor
update or ffu of a node) and once tripleoclient is just monitoring the
mistral execution just run:
iptables -I INPUT -p tcp --dport 13989 -j REJECT
sleep 13
iptables -D INPUT 1

Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>

Change-Id: Ie08f3bc7c7cd7796f067a9ee0a99c017a5567ea2
Closes-Bug: #1909019
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/25/768225/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/base.py'],1,16bee8fef7f895cee756a370c0d0bcd990645615,workflow-resilience,"import keystoneauth1 try: execution = mistral.executions.get(execution.id) except keystoneauth1.exceptions.connection.ConnectFailure as e: LOG.warning(""Connection failure while fetching execution ID. Retrying: %s"" % e) continue ", execution = mistral.executions.get(execution.id),7,1
openstack%2Fcharm-nova-compute~master~I6a8fa178ed2d8b1b4ea0693a93eae4219fcb658e,openstack/charm-nova-compute,master,I6a8fa178ed2d8b1b4ea0693a93eae4219fcb658e,Change the value of rbd_cache_size and rbd_cache_max_dirty to integer literal,MERGED,2020-10-27 06:32:44.000000000,2021-01-12 09:29:28.000000000,2021-01-12 09:29:28.000000000,"[{'_account_id': 935}, {'_account_id': 6737}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30812}, {'_account_id': 31289}, {'_account_id': 31959}, {'_account_id': 32438}]","[{'number': 1, 'created': '2020-10-27 06:32:44.000000000', 'files': ['hooks/nova_compute_context.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/1390ebf41b8202aa16a3f169eaefabc6995d4ad3', 'message': 'Change the value of rbd_cache_size and rbd_cache_max_dirty to integer literal\n\nChange-Id: I6a8fa178ed2d8b1b4ea0693a93eae4219fcb658e\nCloses-Bug: #1894182\n'}]",0,759816,1390ebf41b8202aa16a3f169eaefabc6995d4ad3,12,9,1,28759,,,0,"Change the value of rbd_cache_size and rbd_cache_max_dirty to integer literal

Change-Id: I6a8fa178ed2d8b1b4ea0693a93eae4219fcb658e
Closes-Bug: #1894182
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/16/759816/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/nova_compute_context.py'],1,1390ebf41b8202aa16a3f169eaefabc6995d4ad3,bug/1894182," 'rbd cache size': '67108864', 'rbd cache max dirty': '0',"," 'rbd cache size': '64 MiB', 'rbd cache max dirty': '0 MiB',",2,2
openstack%2Fcharm-swift-proxy~master~I0e19ec42a928466580aaad18a7278108d1060158,openstack/charm-swift-proxy,master,I0e19ec42a928466580aaad18a7278108d1060158,Add leader hooks,MERGED,2021-01-08 09:44:09.000000000,2021-01-12 09:28:25.000000000,2021-01-12 09:28:25.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-01-08 09:44:09.000000000', 'files': ['hooks/leader-elected', 'hooks/leader-settings-changed', 'hooks/leader-deposed'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/21a7a023b4fb5e72332959050d7452c46315b049', 'message': 'Add leader hooks\n\nThe charm makes use of leader db and checks whether a unit is the\nleader but the symlinks to enable leader settings are missing.\n\nChange-Id: I0e19ec42a928466580aaad18a7278108d1060158\nCloses-Bug: #1478713\n'}]",0,769898,21a7a023b4fb5e72332959050d7452c46315b049,9,3,1,12549,,,0,"Add leader hooks

The charm makes use of leader db and checks whether a unit is the
leader but the symlinks to enable leader settings are missing.

Change-Id: I0e19ec42a928466580aaad18a7278108d1060158
Closes-Bug: #1478713
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/98/769898/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/leader-elected', 'hooks/leader-settings-changed', 'hooks/leader-deposed']",3,21a7a023b4fb5e72332959050d7452c46315b049,bug/1478713,swift_hooks.py,,3,0
openstack%2Ftripleo-validations~master~I6bd5211518a56f7b5c8ad6843ef2a784eb062e98,openstack/tripleo-validations,master,I6bd5211518a56f7b5c8ad6843ef2a784eb062e98,Add tripleo-validations role for component testing,MERGED,2020-09-30 21:26:48.000000000,2021-01-12 09:22:56.000000000,2021-01-12 09:22:56.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-09-30 21:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6123da1ce87351db06dea76c024fb502b3237043', 'message': 'Add tripleo-validations role for component testing\n\nChange-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98\n'}, {'number': 2, 'created': '2020-10-01 07:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0733e05b4998ffced05df5d9a37987cb7be3c122', 'message': 'Add tripleo-validations role for component testing\n\nChange-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98\n'}, {'number': 3, 'created': '2020-10-01 12:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ca9f8248bc47246b3fc8f99fff0ecf4417559a61', 'message': 'Add tripleo-validations role for component testing\n\nChange-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98\n'}, {'number': 4, 'created': '2020-10-02 12:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/65f8f2a5f1392d5967580d448bf5a285919485e0', 'message': 'Add tripleo-validations role for component testing\n\nChange-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98\n'}, {'number': 5, 'created': '2020-11-17 10:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cc44207fd45b14efb100d6de5c12f81d25142743', 'message': 'Add tripleo-validations role for component testing\n\nDepends-On: https://review.opendev.org/#/c/756328/\nChange-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98\n'}, {'number': 6, 'created': '2020-11-18 10:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6b42107cea6eaeb557467d5dc9df7554d413345d', 'message': 'Add tripleo-validations role for component testing\n\nDepends-On: https://review.opendev.org/#/c/756328/\nChange-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98\n'}, {'number': 7, 'created': '2020-11-18 10:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8a5fe612719e29287e95a2e45ec050eb000f8f7b', 'message': 'Add tripleo-validations role for component testing\n\nDepends-On: https://review.opendev.org/#/c/756328/\nChange-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98\n'}, {'number': 8, 'created': '2020-11-18 10:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7994e4ad8d3f697d15cf128f1b80103341e78bc5', 'message': 'Add tripleo-validations role for component testing\n\nDepends-On: https://review.opendev.org/#/c/756328/\nChange-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98\n'}, {'number': 9, 'created': '2020-11-27 15:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9f70094b2213cda70a5aa6854d341a224cc73593', 'message': 'Add tripleo-validations role for component testing\n\nDepends-On: https://review.opendev.org/#/c/756328/\nChange-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98\n'}, {'number': 10, 'created': '2020-11-27 15:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a609e4088da5c97b670f8ab8e7be45d361161b48', 'message': 'Add tripleo-validations role for component testing\n\nDepends-On: https://review.opendev.org/#/c/756328/\nChange-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98\n'}, {'number': 11, 'created': '2020-11-27 16:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6a28208ffef9155a1e8674c89d7435140e4232e6', 'message': 'Add tripleo-validations role for component testing\n\nDepends-On: https://review.opendev.org/#/c/756328/\nChange-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98\n'}, {'number': 12, 'created': '2020-11-27 16:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/083bd5a9452cc907e5ef2571c9a0d5ef94d7afb7', 'message': 'Add tripleo-validations role for component testing\n\nThis role used component vars dictionary.\nThe list of components and associated validations\nis not exhautive yet, but will be add in a follow up\nreview, when the role will be experienced in the pipeline\n\nDepends-On: https://review.opendev.org/#/c/756328/\nChange-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98\n'}, {'number': 13, 'created': '2020-11-27 19:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/39beebbda8430d2be1d3be8c0fc1f79c20182cac', 'message': 'Add tripleo-validations role for component testing\n\nThis role used component vars dictionary.\nThe list of components and associated validations\nis not exhautive yet, but will be add in a follow up\nreview, when the role will be experienced in the pipeline\n\nDepends-On: https://review.opendev.org/#/c/756328/\nChange-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98\n'}, {'number': 14, 'created': '2020-12-04 08:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/eeb95036f2453f0c3fcc7a17ab6e9e2741d63942', 'message': 'Add tripleo-validations role for component testing\n\nThis role used component vars dictionary.\nThe list of components and associated validations\nis not exhautive yet, but will be add in a follow up\nreview, when the role will be experienced in the pipeline\n\nDepends-On: https://review.rdoproject.org/r/#/c/31281/\nChange-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98\n'}, {'number': 15, 'created': '2020-12-07 17:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4ed11856a4cae00c80bd3478fbd8ae737c94c535', 'message': 'Add tripleo-validations role for component testing\n\nThis role used component vars dictionary.\nThe list of components and associated validations\nis not exhautive yet, but will be add in a follow up\nreview, when the role will be experienced in the pipeline\n\nDepends-On: https://review.rdoproject.org/r/#/c/31281/\nChange-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98\n'}, {'number': 16, 'created': '2020-12-07 21:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cc565941ebf415c3c68a806d0541c7058ea73c05', 'message': 'Add tripleo-validations role for component testing\n\nThis role used component vars dictionary.\nThe list of components and associated validations\nis not exhautive yet, but will be add in a follow up\nreview, when the role will be experienced in the pipeline\n\nDepends-On: https://review.rdoproject.org/r/#/c/31281/\nChange-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98\n'}, {'number': 17, 'created': '2020-12-07 22:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e96dcc59ae71c9f1f6a0809d74e0f3dbaa403443', 'message': 'Add tripleo-validations role for component testing\n\nThis role used component vars dictionary.\nThe list of components and associated validations\nis not exhautive yet, but will be add in a follow up\nreview, when the role will be experienced in the pipeline\n\nDepends-On: https://review.rdoproject.org/r/#/c/31281/\nChange-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98\n'}, {'number': 18, 'created': '2020-12-08 09:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bf31e02286618cdf7dae58e32b08652dd7ad077e', 'message': 'Add tripleo-validations role for component testing\n\nThis role used component vars dictionary.\nThe list of components and associated validations\nis not exhautive yet, but will be add in a follow up\nreview, when the role will be experienced in the pipeline\n\nDepends-On: https://review.rdoproject.org/r/#/c/31281/\nChange-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98\n'}, {'number': 19, 'created': '2020-12-08 11:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8505fad08fbbd7dd70f66752e43e8d7827ae734d', 'message': 'Add tripleo-validations role for component testing\n\nThis role used component vars dictionary.\nThe list of components and associated validations\nis not exhautive yet, but will be add in a follow up\nreview, when the role will be experienced in the pipeline\n\nDepends-On: https://review.rdoproject.org/r/#/c/31281/\nChange-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98\n'}, {'number': 20, 'created': '2020-12-09 07:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/21703ab0a49516847470b22bbe57bea143f9869a', 'message': 'Add tripleo-validations role for component testing\n\nThis role used component vars dictionary.\nThe list of components and associated validations\nis not exhautive yet, but will be add in a follow up\nreview, when the role will be experienced in the pipeline\n\nDepends-On: https://review.rdoproject.org/r/#/c/31281/\nChange-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98\n'}, {'number': 21, 'created': '2021-01-11 21:41:27.000000000', 'files': ['roles/tripleo_validations/tasks/test_script.yml', 'roles/tripleo_validations/tasks/run.yml', 'roles/tripleo_validations/defaults/main.yml', 'roles/tripleo_validations/templates/run-validations-cli-tests.sh.j2', 'roles/tripleo_validations/tasks/main.yml', 'roles/tripleo_validations/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/02b1fcfdbef8bd685036833fc9d28451bd8b880f', 'message': 'Add tripleo-validations role for component testing\n\nThis role used component vars dictionary.\nThe list of components and associated validations\nis not exhautive yet, but will be add in a follow up\nreview, when the role will be experienced in the pipeline\n\nDepends-On: https://review.rdoproject.org/r/#/c/31281/\nChange-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98\n'}]",24,755390,02b1fcfdbef8bd685036833fc9d28451bd8b880f,57,5,21,16515,,,0,"Add tripleo-validations role for component testing

This role used component vars dictionary.
The list of components and associated validations
is not exhautive yet, but will be add in a follow up
review, when the role will be experienced in the pipeline

Depends-On: https://review.rdoproject.org/r/#/c/31281/
Change-Id: I6bd5211518a56f7b5c8ad6843ef2a784eb062e98
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/90/755390/17 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-validations/defaults/main.yml', 'roles/tripleo-validations/tasks/main.yml']",2,6123da1ce87351db06dea76c024fb502b3237043,755390,"--- - name: Ensure tripleo-validations is present yum: name: openstack-tripleo-validations state: present become: true - name: Run validations from list register: run_validation_list shell: | {{ validation_command }} run --validation {{ item }} > validation__{{ item }}.log 2>&1 with_items: - ""{{ validations_list|default([]) }}"" - name: Run validations by group register: run_validation_group shell: | {{ validation_command }} run --group {{ item }} > validation_group_{{ item }}.log 2>&1 with_items: - ""{{ validations_group|default([]) }}"" ",,25,0
openstack%2Ftripleo-docs~master~Ib4a4beb5e7e530bf44b98da519455d92732ee962,openstack/tripleo-docs,master,Ib4a4beb5e7e530bf44b98da519455d92732ee962,Fix VIP reference in standalone deploy,MERGED,2021-01-08 10:47:41.000000000,2021-01-12 09:07:38.000000000,2021-01-11 22:48:51.000000000,"[{'_account_id': 6796}, {'_account_id': 6994}, {'_account_id': 9003}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-01-08 10:47:41.000000000', 'files': ['deploy-guide/source/deployment/standalone.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/c67f21e23dfad71092801650f80927fe4c33d1b0', 'message': ""Fix VIP reference in standalone deploy\n\nWe currently suggest to create the IP of eth1/br-ctlplane as\n192.168.24.2 and the VIP as 192.168.25.2.\n\nThis will break because pacemaker will be unable to add 192.168.25.2/32\nto any interface as there is no interface able to host that IP.\n\nLet's switch to an IP that is part of the 192.168.24.0 network so things\nwork again.\n\nChange-Id: Ib4a4beb5e7e530bf44b98da519455d92732ee962\n""}]",0,769907,c67f21e23dfad71092801650f80927fe4c33d1b0,12,8,1,20172,,,0,"Fix VIP reference in standalone deploy

We currently suggest to create the IP of eth1/br-ctlplane as
192.168.24.2 and the VIP as 192.168.25.2.

This will break because pacemaker will be unable to add 192.168.25.2/32
to any interface as there is no interface able to host that IP.

Let's switch to an IP that is part of the 192.168.24.0 network so things
work again.

Change-Id: Ib4a4beb5e7e530bf44b98da519455d92732ee962
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/07/769907/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deployment/standalone.rst'],1,c67f21e23dfad71092801650f80927fe4c33d1b0,fix-standalone-vip, export VIP=192.168.24.3 export VIP=192.168.24.3, export VIP=192.168.25.2 export VIP=192.168.25.2,2,2
openstack%2Fheat~master~Ie90b8b45e52389a75d07a0f7fca469388d680975,openstack/heat,master,Ie90b8b45e52389a75d07a0f7fca469388d680975,Remove B322,ABANDONED,2020-12-16 06:51:05.000000000,2021-01-12 08:55:41.000000000,,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32761}]","[{'number': 1, 'created': '2020-12-16 06:51:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/839cdb4b0a3b4f21e31cf34ac73dba42baa2fc0d', 'message': ""Remove B322\n\nThis patch removes 'B322' from skip list in pep8.\n\nStory: #2008450\nTask: #41423\nChange-Id: Ie90b8b45e52389a75d07a0f7fca469388d680975\n""}]",0,767277,839cdb4b0a3b4f21e31cf34ac73dba42baa2fc0d,11,5,1,23950,,,0,"Remove B322

This patch removes 'B322' from skip list in pep8.

Story: #2008450
Task: #41423
Change-Id: Ie90b8b45e52389a75d07a0f7fca469388d680975
",git fetch https://review.opendev.org/openstack/heat refs/changes/77/767277/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,839cdb4b0a3b4f21e31cf34ac73dba42baa2fc0d,," bandit -r heat -x tests --skip B101,B104,B107,B110,B310,B311,B404,B410,B504,B506,B603,B607"," # B322: The input method is safe in Python 3. bandit -r heat -x tests --skip B101,B104,B107,B110,B310,B311,B322,B404,B410,B504,B506,B603,B607",1,2
openstack%2Fblazar~master~I4de205188bbc5c9ffaeadf28dfe1f18986b17a3b,openstack/blazar,master,I4de205188bbc5c9ffaeadf28dfe1f18986b17a3b,DNM:testing gate,ABANDONED,2020-12-15 23:55:12.000000000,2021-01-12 08:48:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-15 23:55:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/b70ae9b16bbf99920d4be63742ada1067fa4242b', 'message': 'DNM:testing gate\n\nChange-Id: I4de205188bbc5c9ffaeadf28dfe1f18986b17a3b\n'}]",0,767237,b70ae9b16bbf99920d4be63742ada1067fa4242b,3,1,1,8556,,,0,"DNM:testing gate

Change-Id: I4de205188bbc5c9ffaeadf28dfe1f18986b17a3b
",git fetch https://review.opendev.org/openstack/blazar refs/changes/37/767237/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b70ae9b16bbf99920d4be63742ada1067fa4242b,,#test,,1,0
openstack%2Fkeystone~master~Id0b6ddd29d56eb9b5dba3eeaa24c31f35f73bd73,openstack/keystone,master,Id0b6ddd29d56eb9b5dba3eeaa24c31f35f73bd73,remove unicode from code,NEW,2021-01-04 11:34:24.000000000,2021-01-12 08:02:21.000000000,,"[{'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-04 11:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2ac875cad25781c735b9121d9625c0d2b15c5a19', 'message': 'remove unicode from code\n\nChange-Id: Id0b6ddd29d56eb9b5dba3eeaa24c31f35f73bd73\n'}, {'number': 2, 'created': '2021-01-12 02:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ea35917b32744a030c6847f65df316b2934d26f7', 'message': 'remove unicode from code\n\nChange-Id: Id0b6ddd29d56eb9b5dba3eeaa24c31f35f73bd73\n'}, {'number': 3, 'created': '2021-01-12 02:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/41142cf6731729c01891021b2d8163f1f9474d93', 'message': ""remove explicit unicode because it's the default in python3\n\nChange-Id: Id0b6ddd29d56eb9b5dba3eeaa24c31f35f73bd73\n""}, {'number': 4, 'created': '2021-01-12 06:31:50.000000000', 'files': ['keystone/tests/unit/identity/backends/test_ldap_common.py', 'keystone/tests/unit/test_policy.py', 'keystone/tests/unit/test_validation.py', 'keystone/tests/unit/test_v3.py', 'keystone/tests/unit/resource/test_backends.py', 'doc/source/conf.py', 'keystone/catalog/backends/base.py', 'keystone/tests/unit/test_backend_ldap.py', 'keystone/tests/unit/receipt/test_fernet_provider.py', 'doc/source/user/application_credentials.rst', 'keystone/tests/unit/test_cli.py', 'keystone/tests/unit/common/test_utils.py', 'keystone/tests/unit/default_fixtures.py', 'keystone/tests/unit/identity/test_backends.py', 'keystone/identity/backends/ldap/common.py', 'keystone/tests/unit/test_v3_auth.py', 'keystone/tests/unit/test_backend_id_mapping_sql.py', 'keystone/tests/unit/common/test_notifications.py', 'keystone/tests/unit/test_contrib_s3_core.py', 'api-ref/source/conf.py', 'keystone/tests/unit/test_exception.py', 'keystone/tests/unit/backend/core_ldap.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/cd9cf2b5c2a94096681ea258ca552bb8e560b246', 'message': 'remove unicode from code\n\nChange-Id: Id0b6ddd29d56eb9b5dba3eeaa24c31f35f73bd73\n'}]",8,769130,cd9cf2b5c2a94096681ea258ca552bb8e560b246,10,2,4,32326,,,0,"remove unicode from code

Change-Id: Id0b6ddd29d56eb9b5dba3eeaa24c31f35f73bd73
",git fetch https://review.opendev.org/openstack/keystone refs/changes/30/769130/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,2ac875cad25781c735b9121d9625c0d2b15c5a19,,"project = 'Keystone Release Notes' copyright = '2015, Keystone Developers' 'Keystone Release Notes Documentation', 'Keystone Developers', 'manual'), ('index', 'keystonereleasenotes', 'Keystone Release Notes Documentation', ['Keystone Developers'], 1) ('index', 'KeystoneReleaseNotes', 'Keystone Release Notes Documentation', 'Keystone Developers', 'KeystoneReleaseNotes',","project = u'Keystone Release Notes' copyright = u'2015, Keystone Developers' u'Keystone Release Notes Documentation', u'Keystone Developers', 'manual'), ('index', 'keystonereleasenotes', u'Keystone Release Notes Documentation', [u'Keystone Developers'], 1) ('index', 'KeystoneReleaseNotes', u'Keystone Release Notes Documentation', u'Keystone Developers', 'KeystoneReleaseNotes',",16,16
openstack%2Fzaqar~master~I081e83e15b0e31955f1c8bf3ed702d903f82025d,openstack/zaqar,master,I081e83e15b0e31955f1c8bf3ed702d903f82025d,Fix hacking min version to 3.0.1,MERGED,2020-11-02 06:04:08.000000000,2021-01-12 07:45:57.000000000,2021-01-12 07:44:15.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-02 06:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/df9db8b9f3f9dc7727e6dd788f5edad338498696', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: I081e83e15b0e31955f1c8bf3ed702d903f82025d\n'}, {'number': 2, 'created': '2021-01-08 01:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/e236eebcd29acc274ab0443638604fb99ebbb14c', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: I081e83e15b0e31955f1c8bf3ed702d903f82025d\n'}, {'number': 3, 'created': '2021-01-12 01:18:16.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/0c7e97bdac1694f9eac7c8ceb179032b60aef738', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: I081e83e15b0e31955f1c8bf3ed702d903f82025d\n'}]",0,760745,0c7e97bdac1694f9eac7c8ceb179032b60aef738,21,2,3,32291,,,0,"Fix hacking min version to 3.0.1

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, we need to bump the hacking min
version.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: I081e83e15b0e31955f1c8bf3ed702d903f82025d
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/45/760745/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,df9db8b9f3f9dc7727e6dd788f5edad338498696,,"hacking>=3.0.1,<3.1.0 # Apache-2.0","hacking>=3.0,<3.1.0 # Apache-2.0",1,1
openstack%2Freleases~master~Iaa9c65ff971dd471d3fad47e497d8a3f7156958e,openstack/releases,master,Iaa9c65ff971dd471d3fad47e497d8a3f7156958e,Release blazar-tempest-plugin for wallaby,MERGED,2021-01-06 11:27:11.000000000,2021-01-12 07:20:39.000000000,2021-01-12 07:20:39.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-06 11:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/94aa65d5c037f4306b636bdefe003bbbff346ce3', 'message': 'Release blazar-tempest-plugin for wallaby\n\nTag 0.6.0 in preparation for tagging stein-em.\n\nChange-Id: Iaa9c65ff971dd471d3fad47e497d8a3f7156958e\n'}, {'number': 2, 'created': '2021-01-08 10:54:09.000000000', 'files': ['deliverables/wallaby/blazar-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8df7ce3798705aadf0fd3ab71a199e8eb00df54d', 'message': 'Release blazar-tempest-plugin for wallaby\n\nRelease 0.6.0 in preparation for tagging stein-last.\n\nChange-Id: Iaa9c65ff971dd471d3fad47e497d8a3f7156958e\n'}]",0,769524,8df7ce3798705aadf0fd3ab71a199e8eb00df54d,12,3,2,15197,,,0,"Release blazar-tempest-plugin for wallaby

Release 0.6.0 in preparation for tagging stein-last.

Change-Id: Iaa9c65ff971dd471d3fad47e497d8a3f7156958e
",git fetch https://review.opendev.org/openstack/releases refs/changes/24/769524/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/blazar-tempest-plugin.yaml'],1,94aa65d5c037f4306b636bdefe003bbbff346ce3,blazar-tempest-plugin,releases: - version: 0.6.0 projects: - repo: openstack/blazar-tempest-plugin hash: d952210ecd83d78a108baa596a256c429c521503,,5,0
openstack%2Fironic~master~I8a7ce072359660fc6640e5f20ec2d3c452033557,openstack/ironic,master,I8a7ce072359660fc6640e5f20ec2d3c452033557,Do not enter maintenance if cleaning fails before running the 1st step,MERGED,2021-01-08 13:57:43.000000000,2021-01-12 07:14:06.000000000,2021-01-12 07:10:42.000000000,"[{'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2021-01-08 13:57:43.000000000', 'files': ['releasenotes/notes/redundant-maintenance-09849674334f656a.yaml', 'doc/source/admin/cleaning.rst', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/conductor/test_cleaning.py', 'ironic/conductor/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ad696c9bac379a690b1f674de4983bf1a06a243e', 'message': ""Do not enter maintenance if cleaning fails before running the 1st step\n\nWe use maintenance mode to signal that hardware needs additional\nintervention, because of potential damage or stuck long-running\nprocesses. This is not the case for PXE booting or invalid requested\nmanual clean steps, so don't set maintenance if no clean step is\nrunning when the failure occurs.\n\nChange-Id: I8a7ce072359660fc6640e5f20ec2d3c452033557\n""}]",4,769923,ad696c9bac379a690b1f674de4983bf1a06a243e,19,4,1,10239,,,0,"Do not enter maintenance if cleaning fails before running the 1st step

We use maintenance mode to signal that hardware needs additional
intervention, because of potential damage or stuck long-running
processes. This is not the case for PXE booting or invalid requested
manual clean steps, so don't set maintenance if no clean step is
running when the failure occurs.

Change-Id: I8a7ce072359660fc6640e5f20ec2d3c452033557
",git fetch https://review.opendev.org/openstack/ironic refs/changes/23/769923/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/redundant-maintenance-09849674334f656a.yaml', 'doc/source/admin/cleaning.rst', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/conductor/utils.py', 'ironic/tests/unit/conductor/test_cleaning.py']",5,ad696c9bac379a690b1f674de4983bf1a06a243e,redundant-maintenance,"from ironic.common import faults self.assertFalse(node.maintenance) self.assertIsNone(node.fault) self.assertIsNone(node.fault) # no clean step running self.assertFalse(node.maintenance) self.assertIsNone(node.fault) self.assertFalse(node.maintenance) self.assertIsNone(node.fault) self.assertFalse(node.maintenance) self.assertEqual(faults.CLEAN_FAILURE, node.fault) self.assertFalse(node.maintenance) # no step is running self.assertTrue(node.maintenance) # the 1st clean step was running", self.assertTrue(node.maintenance) self.assertTrue(node.maintenance),48,13
openstack%2Freleases~master~I52461e0718b07e3c15bd5c1e1aef8cd5fd8ed7c9,openstack/releases,master,I52461e0718b07e3c15bd5c1e1aef8cd5fd8ed7c9,Release neutron-lib to 2.8.0,MERGED,2021-01-08 08:26:15.000000000,2021-01-12 07:11:30.000000000,2021-01-12 07:11:30.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-08 08:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7a6bb892c5c1334d33f2281cc46551e439e65547', 'message': 'Bump neutron-lib to 2.8.0\n\nChange-Id: I52461e0718b07e3c15bd5c1e1aef8cd5fd8ed7c9\n'}, {'number': 2, 'created': '2021-01-08 13:50:16.000000000', 'files': ['deliverables/wallaby/neutron-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/72b3afe6a8812e714aa3558a8d487a1b59a60d65', 'message': 'Release neutron-lib to 2.8.0\n\nChange-Id: I52461e0718b07e3c15bd5c1e1aef8cd5fd8ed7c9\n'}]",0,769882,72b3afe6a8812e714aa3558a8d487a1b59a60d65,14,8,2,16688,,,0,"Release neutron-lib to 2.8.0

Change-Id: I52461e0718b07e3c15bd5c1e1aef8cd5fd8ed7c9
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/769882/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/neutron-lib.yaml'],1,7a6bb892c5c1334d33f2281cc46551e439e65547,neutron-lib-2.8.0, - version: 2.8.0 projects: - repo: openstack/neutron-lib hash: c0cf1b35aad76d648f42720a23871f8cbd6c6887,,4,0
openstack%2Fmanila~master~Ic5faa887448f363bb4d91bccfe8e035a06936454,openstack/manila,master,Ic5faa887448f363bb4d91bccfe8e035a06936454,Always use new_size when extend,MERGED,2021-01-04 09:10:19.000000000,2021-01-12 06:53:01.000000000,2021-01-12 06:51:28.000000000,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-01-04 09:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/48b68ef3bc2c8dfafabe5899ad30330cc08db490', 'message': 'Always use new_size when extend\n\nAlways use new_size when extend.\nCloses-Bug: #1909951\n\nChange-Id: Ic5faa887448f363bb4d91bccfe8e035a06936454\n'}, {'number': 2, 'created': '2021-01-11 06:26:51.000000000', 'files': ['releasenotes/notes/bug-1909951-fix-extend-have-wrong-size-7938eaa6591bd2ad.yaml', 'manila/share/drivers/generic.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/fbc4ecb64026fe97c4b9d46bf80fe8a56b43911f', 'message': 'Always use new_size when extend\n\nAlways use new_size when extend.\nCloses-Bug: #1909951\n\nChange-Id: Ic5faa887448f363bb4d91bccfe8e035a06936454\n'}]",0,769113,fbc4ecb64026fe97c4b9d46bf80fe8a56b43911f,33,4,2,32605,,,0,"Always use new_size when extend

Always use new_size when extend.
Closes-Bug: #1909951

Change-Id: Ic5faa887448f363bb4d91bccfe8e035a06936454
",git fetch https://review.opendev.org/openstack/manila refs/changes/13/769113/2 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/drivers/generic.py'],1,48b68ef3bc2c8dfafabe5899ad30330cc08db490,bug/1909951," self._resize_filesystem(server_details, volume, new_size=new_size)"," self._resize_filesystem(server_details, volume)",1,1
openstack%2Fos-net-config~stable%2Ftrain~Iba5c1cb0dbff8bee65620da2f465bf81ccce9291,openstack/os-net-config,stable/train,Iba5c1cb0dbff8bee65620da2f465bf81ccce9291,Wire up new tripleo upgrades jobs template,MERGED,2021-01-06 10:41:26.000000000,2021-01-12 06:12:25.000000000,2021-01-12 06:03:18.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12398}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-01-06 10:41:26.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/47d63435115e873bf696b80cef2922b77f563df5', 'message': 'Wire up new tripleo upgrades jobs template\n\nThe depends-on adds a new upgrade jobs template which is wired up\nhere. Once wired up across tripleo we can remove excess content\nproviders with [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131\nDepends-On: https://review.opendev.org/761188\n\nChange-Id: Iba5c1cb0dbff8bee65620da2f465bf81ccce9291\n'}]",0,769494,47d63435115e873bf696b80cef2922b77f563df5,12,6,1,8449,,,0,"Wire up new tripleo upgrades jobs template

The depends-on adds a new upgrade jobs template which is wired up
here. Once wired up across tripleo we can remove excess content
providers with [1].

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131
Depends-On: https://review.opendev.org/761188

Change-Id: Iba5c1cb0dbff8bee65620da2f465bf81ccce9291
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/94/769494/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,47d63435115e873bf696b80cef2922b77f563df5,reduce-content-providers, - tripleo-upgrades-train-pipeline,,1,0
openstack%2Ftripleo-common~master~I2d82c1ca86735d2a8d69b3e28e8cea7acd637f0b,openstack/tripleo-common,master,I2d82c1ca86735d2a8d69b3e28e8cea7acd637f0b,TCIB: Add cinder-volume extend_start.sh script,MERGED,2021-01-07 04:22:34.000000000,2021-01-12 06:12:22.000000000,2021-01-12 06:03:01.000000000,"[{'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-07 04:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/64a5011418dcf3f738d4691efc30ce8092604282', 'message': ""[WIP] TCIB: Add cinder-volume extend_start.sh script\n\nAdd an extend_start.sh script for the cinder-volume service that\nrecursively chowns /var/lib/cinder to cinder:kolla. This ensures\ncinder has permission to access the directory, especially in\nsituations where the directory may be owned by root.\n\nJust like kolla itself did prior to tripleo's switch to TCIB, the\nrecursive chown is conditional on whether the top level /var/lib/cinder\ndirectory isn't already owned by cinder:kolla. This is done so the\nchown is only run once, which prevents slow service startups when the\ndirectory contains a large number of entries.\n\nNote: There was an initial fear that a recursive chown could traverse\nonto any NFS share mounted by cinder. However, the extend_start.sh\nscript runs on container startup, prior to when cinder would create\nany mounts. Even restarting the cinder-volume container is safe,\nbecause NFS shares are automatically unmounted during the container\nrestart.\n\nCloses-Bug: #1908750\nChange-Id: I2d82c1ca86735d2a8d69b3e28e8cea7acd637f0b\n""}, {'number': 2, 'created': '2021-01-07 21:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c837f86ea176c4a1e39edc9f406bf9e192b841a2', 'message': ""TCIB: Add cinder-volume extend_start.sh script\n\nAdd an extend_start.sh script for the cinder-volume service that\nrecursively chowns /var/lib/cinder to cinder:kolla. This ensures\ncinder has permission to access the directory, especially in\nsituations where the directory may be owned by root.\n\nJust like kolla itself did prior to tripleo's switch to TCIB, the\nrecursive chown is conditional on whether the top level /var/lib/cinder\ndirectory isn't already owned by cinder:kolla. This is done so the\nchown is only run once, which prevents slow service startups when the\ndirectory contains a large number of entries.\n\nNote: There was an initial fear that a recursive chown could traverse\nonto any NFS share mounted by cinder. However, the extend_start.sh\nscript runs on container startup, prior to when cinder would create\nany mounts. Even restarting the cinder-volume container is safe,\nbecause NFS shares are automatically unmounted during the container\nrestart.\n\nCloses-Bug: #1908750\nChange-Id: I2d82c1ca86735d2a8d69b3e28e8cea7acd637f0b\n""}, {'number': 3, 'created': '2021-01-08 00:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/be8e90db7d5806ce257941a26d6acb9842a294ce', 'message': ""TCIB: Add cinder-volume extend_start.sh script\n\nAdd an extend_start.sh script for the cinder-volume service that\nrecursively chowns /var/lib/cinder to cinder:kolla. This ensures\ncinder has permission to access the directory, especially in\nsituations where the directory may be owned by root.\n\nJust like kolla itself did prior to tripleo's switch to TCIB, the\nrecursive chown is conditional on whether the top level /var/lib/cinder\ndirectory isn't already owned by cinder:kolla. This is done so the\nchown is only run once, which prevents slow service startups when the\ndirectory contains a large number of entries.\n\nNote: There was an initial fear that a recursive chown could traverse\nonto any NFS share mounted by cinder. However, the extend_start.sh\nscript runs on container startup, prior to when cinder would create\nany mounts. Even restarting the cinder-volume container is safe,\nbecause NFS shares are automatically unmounted during the container\nrestart.\n\nCloses-Bug: #1908750\nChange-Id: I2d82c1ca86735d2a8d69b3e28e8cea7acd637f0b\n""}, {'number': 4, 'created': '2021-01-08 16:27:16.000000000', 'files': ['container-images/kolla/cinder-volume/cinder-volume-sudoers', 'container-images/kolla/cinder-volume/extend_start.sh', 'container-images/tcib/base/os/cinder-base/cinder-volume/cinder-volume.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1b45bb88383ad09fe534eacda66e18e5862a2037', 'message': ""TCIB: Add cinder-volume extend_start.sh script\n\nAdd an extend_start.sh script for the cinder-volume service that\nrecursively chowns /var/lib/cinder to cinder:kolla. This ensures\ncinder has permission to access the directory, especially in\nsituations where the directory may be owned by root.\n\nJust like kolla itself did prior to tripleo's switch to TCIB, the\nrecursive chown is conditional on whether the top level /var/lib/cinder\ndirectory isn't already owned by cinder:kolla. This is done so the\nchown is only run once, which prevents slow service startups when the\ndirectory contains a large number of entries.\n\nNote: There was an initial fear that a recursive chown could traverse\nonto any NFS share mounted by cinder. However, the extend_start.sh\nscript runs on container startup, prior to when cinder would create\nany mounts. Even restarting the cinder-volume container is safe,\nbecause NFS shares are automatically unmounted during the container\nrestart.\n\nCloses-Bug: #1908750\nChange-Id: I2d82c1ca86735d2a8d69b3e28e8cea7acd637f0b\n""}]",4,769659,1b45bb88383ad09fe534eacda66e18e5862a2037,33,5,4,21129,,,0,"TCIB: Add cinder-volume extend_start.sh script

Add an extend_start.sh script for the cinder-volume service that
recursively chowns /var/lib/cinder to cinder:kolla. This ensures
cinder has permission to access the directory, especially in
situations where the directory may be owned by root.

Just like kolla itself did prior to tripleo's switch to TCIB, the
recursive chown is conditional on whether the top level /var/lib/cinder
directory isn't already owned by cinder:kolla. This is done so the
chown is only run once, which prevents slow service startups when the
directory contains a large number of entries.

Note: There was an initial fear that a recursive chown could traverse
onto any NFS share mounted by cinder. However, the extend_start.sh
script runs on container startup, prior to when cinder would create
any mounts. Even restarting the cinder-volume container is safe,
because NFS shares are automatically unmounted during the container
restart.

Closes-Bug: #1908750
Change-Id: I2d82c1ca86735d2a8d69b3e28e8cea7acd637f0b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/59/769659/2 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/kolla/cinder-volume/cinder-volume-sudoers', 'container-images/kolla/cinder-volume/extend_start.sh']",2,64a5011418dcf3f738d4691efc30ce8092604282,,"#!/bin/bash if [[ $(stat -c %U:%G /var/lib/cinder) != ""cinder:kolla"" ]]; then sudo chown -R cinder:kolla /var/lib/cinder fi ",,6,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ic2edabb7f1bd0caf4a5550d03f60fab7c8354d65,openstack/tripleo-heat-templates,stable/train,Ic2edabb7f1bd0caf4a5550d03f60fab7c8354d65,Adding key_size option on the certificate creation,MERGED,2021-01-06 15:12:45.000000000,2021-01-12 06:09:32.000000000,2021-01-12 06:09:32.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8866}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-01-06 15:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0e3b5c123ea41932c6443a1c63d173f2d9206862', 'message': ""Adding key_size option on the certificate creation\n\nAdding the ability to specifies the private key size\nused when creating the certificate. We have defined the\ndefault value the same as we have before 2048 bits.\nAlso, it'll be able to override the key_size value\nper service.\n\nDepends-on: I4da96f2164cf1d136f9471f1d6251bdd8cfd2d0b\nChange-Id: Ic2edabb7f1bd0caf4a5550d03f60fab7c8354d65\n(cherry picked from commit 97609775297417620ede0436c80156456a6c41da)\n""}, {'number': 2, 'created': '2021-01-06 15:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fa399cf890b924da07c482814e2b0e9421c3f6db', 'message': ""Adding key_size option on the certificate creation\n\nAdding the ability to specifies the private key size\nused when creating the certificate. We have defined the\ndefault value the same as we have before 2048 bits.\nAlso, it'll be able to override the key_size value\nper service.\n\nDepends-on: I4da96f2164cf1d136f9471f1d6251bdd8cfd2d0b\nChange-Id: Ic2edabb7f1bd0caf4a5550d03f60fab7c8354d65\n(cherry picked from commit 97609775297417620ede0436c80156456a6c41da)\n""}, {'number': 3, 'created': '2021-01-08 20:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3def350f33d34098d3c6e027928001280f415e7', 'message': ""Adding key_size option on the certificate creation\n\nAdding the ability to specifies the private key size\nused when creating the certificate. We have defined the\ndefault value the same as we have before 2048 bits.\nAlso, it'll be able to override the key_size value\nper service.\n\nDepends-on: I4da96f2164cf1d136f9471f1d6251bdd8cfd2d0b\nChange-Id: Ic2edabb7f1bd0caf4a5550d03f60fab7c8354d65\n(cherry picked from commit 97609775297417620ede0436c80156456a6c41da)\n""}, {'number': 4, 'created': '2021-01-11 16:34:44.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-certmonger.yaml', 'deployment/database/mysql-base.yaml', 'deployment/haproxy/haproxy-internal-tls-certmonger.j2.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-grafana.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/octavia/providers/ovn-provider-config.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/apache/apache-baremetal-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9410d79e6910b3324df4b73e57e39bb15fedbb83', 'message': ""Adding key_size option on the certificate creation\n\nAdding the ability to specifies the private key size\nused when creating the certificate. We have defined the\ndefault value the same as we have before 2048 bits.\nAlso, it'll be able to override the key_size value\nper service.\n\nDepends-on: I4da96f2164cf1d136f9471f1d6251bdd8cfd2d0b\nChange-Id: Ic2edabb7f1bd0caf4a5550d03f60fab7c8354d65\n(cherry picked from commit 97609775297417620ede0436c80156456a6c41da)\n""}]",0,769513,9410d79e6910b3324df4b73e57e39bb15fedbb83,33,8,4,9914,,,0,"Adding key_size option on the certificate creation

Adding the ability to specifies the private key size
used when creating the certificate. We have defined the
default value the same as we have before 2048 bits.
Also, it'll be able to override the key_size value
per service.

Depends-on: I4da96f2164cf1d136f9471f1d6251bdd8cfd2d0b
Change-Id: Ic2edabb7f1bd0caf4a5550d03f60fab7c8354d65
(cherry picked from commit 97609775297417620ede0436c80156456a6c41da)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/769513/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-certmonger.yaml', 'deployment/database/mysql-base.yaml', 'deployment/haproxy/haproxy-internal-tls-certmonger.j2.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-grafana.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/octavia/providers/ovn-provider-config.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/apache/apache-baremetal-puppet.j2.yaml']",21,0e3b5c123ea41932c6443a1c63d173f2d9206862,key_size_cert/victoria-stable/ussuri-stable/train," CertificateKeySize: type: string default: '2048' description: Specifies the private key size used when creating the certificate. ApacheCertificateKeySize: type: string default: '' description: Override the private key size used when creating the certificate for this service key_size_override_unset: {equals: [{get_param: ApacheCertificateKeySize}, '']} key_size: if: - key_size_override_unset - {get_param: CertificateKeySize} - {get_param: ApacheCertificateKeySize}",,432,0
openstack%2Ffreezer-web-ui~stable%2Ftrain~I18e8af262e79dd7a7ea24015696736272c1fe131,openstack/freezer-web-ui,stable/train,I18e8af262e79dd7a7ea24015696736272c1fe131,Bump minimum ksa(3.16.0) to fix gate,ABANDONED,2019-10-10 07:00:36.000000000,2021-01-12 06:04:52.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 07:00:36.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/0b165c3c323644aa451ea724e9dcac1ac92c865b', 'message': 'Bump minimum ksa(3.16.0) to fix gate\n\nChange-Id: I18e8af262e79dd7a7ea24015696736272c1fe131\n(cherry picked from commit d939a7892b1862887617b15a8d85c4aa7462e187)\n'}]",0,687799,0b165c3c323644aa451ea724e9dcac1ac92c865b,5,2,1,29313,,,0,"Bump minimum ksa(3.16.0) to fix gate

Change-Id: I18e8af262e79dd7a7ea24015696736272c1fe131
(cherry picked from commit d939a7892b1862887617b15a8d85c4aa7462e187)
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/99/687799/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,0b165c3c323644aa451ea724e9dcac1ac92c865b,,keystoneauth1==3.16.0,keystoneauth1==3.14.0,1,1
openstack%2Ffreezer-web-ui~stable%2Fstein~I18e8af262e79dd7a7ea24015696736272c1fe131,openstack/freezer-web-ui,stable/stein,I18e8af262e79dd7a7ea24015696736272c1fe131,Bump minimum ksa(3.16.0) to fix gate,ABANDONED,2019-10-10 09:06:14.000000000,2021-01-12 06:04:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-10 09:06:14.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/ec79621f80009d88f33f78b09214b99972f552e1', 'message': 'Bump minimum ksa(3.16.0) to fix gate\n\nChange-Id: I18e8af262e79dd7a7ea24015696736272c1fe131\n(cherry picked from commit d939a7892b1862887617b15a8d85c4aa7462e187)\n'}]",0,687831,ec79621f80009d88f33f78b09214b99972f552e1,3,1,1,29313,,,0,"Bump minimum ksa(3.16.0) to fix gate

Change-Id: I18e8af262e79dd7a7ea24015696736272c1fe131
(cherry picked from commit d939a7892b1862887617b15a8d85c4aa7462e187)
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/31/687831/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,ec79621f80009d88f33f78b09214b99972f552e1,,keystoneauth1==3.16.0,keystoneauth1==3.11.0,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ia056c7fffa112318eb740c567f8e9e50f7bfcd13,openstack/tripleo-heat-templates,stable/train,Ia056c7fffa112318eb740c567f8e9e50f7bfcd13,move c7 container upgrades to nv in train tht,MERGED,2021-01-08 20:37:47.000000000,2021-01-12 06:03:28.000000000,2021-01-12 06:03:28.000000000,"[{'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-08 20:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c1fdac10965ae17f1ec013cded9e32b91c7ab725', 'message': 'move c7 container upgrades to nv in train tht\n\nChange-Id: Ia056c7fffa112318eb740c567f8e9e50f7bfcd13\n'}, {'number': 2, 'created': '2021-01-11 16:20:49.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/63a2f24cdf00d8ccff8ec31bfde86a88665ef345', 'message': 'move c7 container upgrades to nv in train tht\n\nChange-Id: Ia056c7fffa112318eb740c567f8e9e50f7bfcd13\n'}]",1,769989,63a2f24cdf00d8ccff8ec31bfde86a88665ef345,15,4,2,9592,,,0,"move c7 container upgrades to nv in train tht

Change-Id: Ia056c7fffa112318eb740c567f8e9e50f7bfcd13
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/769989/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,c1fdac10965ae17f1ec013cded9e32b91c7ab725,, voting: false, voting: true,1,1
openstack%2Ftripleo-heat-templates~master~I5dee09ab6c15c1887394b0dbda6866e94231f3a5,openstack/tripleo-heat-templates,master,I5dee09ab6c15c1887394b0dbda6866e94231f3a5,Use RootStackName parameter instead for consistency,MERGED,2020-12-14 07:10:13.000000000,2021-01-12 06:02:27.000000000,2021-01-12 06:02:27.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-12-14 07:10:13.000000000', 'files': ['network/ports/from_service_v6.yaml', 'network/ports/noop.yaml', 'overcloud.j2.yaml', 'puppet/role.role.j2.yaml', 'network/ports/port.j2', 'network/ports/port_from_pool.j2', 'network/ports/from_service.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6d39c90a22d850cf449f1900cff32e8b2a1803c3', 'message': ""Use RootStackName parameter instead for consistency\n\nWe don't need another parameter for the root stack and\nalso not required to pass it around.\n\nThis was added earlier with [1].\n\n[1] https://review.opendev.org/openstack/tripleo-heat-templates/761845\n\nChange-Id: I5dee09ab6c15c1887394b0dbda6866e94231f3a5\n""}]",0,766887,6d39c90a22d850cf449f1900cff32e8b2a1803c3,11,4,1,8833,,,0,"Use RootStackName parameter instead for consistency

We don't need another parameter for the root stack and
also not required to pass it around.

This was added earlier with [1].

[1] https://review.opendev.org/openstack/tripleo-heat-templates/761845

Change-Id: I5dee09ab6c15c1887394b0dbda6866e94231f3a5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/766887/1 && git format-patch -1 --stdout FETCH_HEAD,"['network/ports/from_service_v6.yaml', 'network/ports/noop.yaml', 'overcloud.j2.yaml', 'network/ports/port.j2', 'puppet/role.role.j2.yaml', 'network/ports/port_from_pool.j2', 'network/ports/from_service.yaml']",7,6d39c90a22d850cf449f1900cff32e8b2a1803c3,server_env,, StackName: # Here for compatibility description: Name of the overcloud heat stack default: overcloud type: string,3,26
openstack%2Ftripleo-validations~stable%2Ftrain~I1bdbbde0bd2102847a3ab061969115030ea207a6,openstack/tripleo-validations,stable/train,I1bdbbde0bd2102847a3ab061969115030ea207a6,replace max_fds with sysctl call,MERGED,2020-11-26 13:25:02.000000000,2021-01-12 06:02:22.000000000,2021-01-12 06:02:22.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-26 13:25:02.000000000', 'files': ['roles/rabbitmq_limits/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b9ae60fbe0e50e3c6402c3e8a79b172c02777995', 'message': 'replace max_fds with sysctl call\n\nThe call to max_fds no longer appears valid.  This approach of calling\nsysctl is standard across Linux based systems and would be the more\nestablished way to obtain this value.\n\nChange-Id: I1bdbbde0bd2102847a3ab061969115030ea207a6\n(cherry picked from commit 6925f256edb08065ab78ff18cb773bdb30b4c847)\n'}]",0,764301,b9ae60fbe0e50e3c6402c3e8a79b172c02777995,6,2,1,27427,,,0,"replace max_fds with sysctl call

The call to max_fds no longer appears valid.  This approach of calling
sysctl is standard across Linux based systems and would be the more
established way to obtain this value.

Change-Id: I1bdbbde0bd2102847a3ab061969115030ea207a6
(cherry picked from commit 6925f256edb08065ab78ff18cb773bdb30b4c847)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/01/764301/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/rabbitmq_limits/tasks/main.yml'],1,b9ae60fbe0e50e3c6402c3e8a79b172c02777995,rhbz1891200-stable/ussuri-stable/train, rabbitmqctl eval 'sysctl -n fs.file-max'," rabbitmqctl eval 'proplists:get_value(max_fds, erlang:system_info(check_io)).'",1,1
openstack%2Fmanila~stable%2Fussuri~If139927730071448abc04e1ea7ebb615749e7e3d,openstack/manila,stable/ussuri,If139927730071448abc04e1ea7ebb615749e7e3d,Delete unavailable py2 package,MERGED,2021-01-12 00:43:11.000000000,2021-01-12 05:56:24.000000000,2021-01-12 01:09:52.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-12 00:43:11.000000000', 'files': ['doc/source/install/install-controller-debian.rst', 'doc/source/install/install-controller-rdo.rst', 'doc/source/install/install-share-debian.rst', 'doc/source/install/install-share-ubuntu.rst', 'doc/source/install/install-share-rdo.rst', 'doc/source/install/install-controller-ubuntu.rst', 'doc/source/contributor/development.environment.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/bdd5f5535d8b48c8365d780f81205d4ea23108c9', 'message': 'Delete unavailable py2 package\n\nThe openstack Ussuri and Victoria versions no longer support the\nCentos7 and pyrhon2 environment packages. Correct the missing\nproblems in the latest document\n\nChange-Id: If139927730071448abc04e1ea7ebb615749e7e3d\n(cherry picked from commit bab899068c14d83c5a3c476167f6bdfadf23e8e5)\n(cherry picked from commit d761b111b4a789f73dda41c518a380af56a3664b)\n'}]",0,770178,bdd5f5535d8b48c8365d780f81205d4ea23108c9,9,2,1,31506,,,0,"Delete unavailable py2 package

The openstack Ussuri and Victoria versions no longer support the
Centos7 and pyrhon2 environment packages. Correct the missing
problems in the latest document

Change-Id: If139927730071448abc04e1ea7ebb615749e7e3d
(cherry picked from commit bab899068c14d83c5a3c476167f6bdfadf23e8e5)
(cherry picked from commit d761b111b4a789f73dda41c518a380af56a3664b)
",git fetch https://review.opendev.org/openstack/manila refs/changes/78/770178/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/install-controller-debian.rst', 'doc/source/install/install-controller-rdo.rst', 'doc/source/install/install-share-debian.rst', 'doc/source/install/install-share-rdo.rst', 'doc/source/install/install-share-ubuntu.rst', 'doc/source/install/install-controller-ubuntu.rst', 'doc/source/contributor/development.environment.rst']",7,bdd5f5535d8b48c8365d780f81205d4ea23108c9,,"- On RHEL8/Centos8:: sudo dnf install openssl-devel python3-pip mysql-devel \ python3-tox python3-devel python3 If using RHEL and yum reports ""No package python3-pip available"" and ""No","- On Fedora 21/RHEL7/Centos7:: sudo yum install python-devel openssl-devel python-pip mysql-devel \ python-tox python3-devel python3 If using RHEL and yum reports ""No package python-pip available"" and ""No",10,10
openstack%2Fadjutant-ui~stable%2Fussuri~Ib44a2dca3fd0fcd7a17e721a4dd55dc961310b50,openstack/adjutant-ui,stable/ussuri,Ib44a2dca3fd0fcd7a17e721a4dd55dc961310b50,Comparison exception causes quota output to fail,MERGED,2020-12-31 21:12:15.000000000,2021-01-12 04:47:17.000000000,2021-01-12 04:47:17.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-31 21:12:15.000000000', 'files': ['adjutant_ui/api/adjutant.py'], 'web_link': 'https://opendev.org/openstack/adjutant-ui/commit/8a0d89c4bf15383382c21250fe533eb216d0e50a', 'message': 'Comparison exception causes quota output to fail\n\nThe key/value pairs being checked include the quota\'s id, and the value\nis a UUID. Being that this is the only key where the value is not an\ninteger, this causes issues with Python 3\'s rules for comparisons\nbetween different types. This manifests as a ""Failed to list quota\nsizes."" error when viewing a region\'s quota information. This patch\nwill catch this exception and allow it to continue as before, without\nmodifying the value.\n\nI opted for this method instead of just skipping \'id\' at the start of\nthe loop since this is closer to the original behavior, and there is\nalready an explicit check for \'id\' at the bottom before adding to the\noutput. This way, any future keys that also have non-int values will\nbe handled gracefully as well.\n\nChange-Id: Ib44a2dca3fd0fcd7a17e721a4dd55dc961310b50\n'}]",0,768811,8a0d89c4bf15383382c21250fe533eb216d0e50a,6,2,1,32802,,,0,"Comparison exception causes quota output to fail

The key/value pairs being checked include the quota's id, and the value
is a UUID. Being that this is the only key where the value is not an
integer, this causes issues with Python 3's rules for comparisons
between different types. This manifests as a ""Failed to list quota
sizes."" error when viewing a region's quota information. This patch
will catch this exception and allow it to continue as before, without
modifying the value.

I opted for this method instead of just skipping 'id' at the start of
the loop since this is closer to the original behavior, and there is
already an explicit check for 'id' at the bottom before adding to the
output. This way, any future keys that also have non-int values will
be handled gracefully as well.

Change-Id: Ib44a2dca3fd0fcd7a17e721a4dd55dc961310b50
",git fetch https://review.opendev.org/openstack/adjutant-ui refs/changes/11/768811/1 && git format-patch -1 --stdout FETCH_HEAD,['adjutant_ui/api/adjutant.py'],1,8a0d89c4bf15383382c21250fe533eb216d0e50a,, try: if value < 0: value = 'No Limit' except (TypeError): pass , if value < 0: value = 'No Limit',6,2
openstack%2Ftacker~master~Ibcfdc5a50cecaed6009cef346e2a9c6879ced685,openstack/tacker,master,Ibcfdc5a50cecaed6009cef346e2a9c6879ced685,DNM: Fix for FT Timeout,ABANDONED,2020-10-08 07:22:56.000000000,2021-01-12 04:41:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-10-08 07:22:56.000000000', 'files': ['tacker/tests/functional/vnflcm/base.py', 'tacker/tests/functional/vnflcm/test_vnf_instance_with_user_data_nfvo_separate.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/objects/vnf_instance.py', 'tacker/tests/functional/vnflcm/test_vnf_instance_with_user_data.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/91bf092b80f3a54d17cd391d960922228f962549', 'message': 'DNM: Fix for FT Timeout\n\nChange-Id: Ibcfdc5a50cecaed6009cef346e2a9c6879ced685\n'}]",5,756645,91bf092b80f3a54d17cd391d960922228f962549,3,1,1,32219,,,0,"DNM: Fix for FT Timeout

Change-Id: Ibcfdc5a50cecaed6009cef346e2a9c6879ced685
",git fetch https://review.opendev.org/openstack/tacker refs/changes/45/756645/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/functional/vnflcm/base.py', 'tacker/tests/functional/vnflcm/test_vnf_instance_with_user_data_nfvo_separate.py', 'tacker/api/vnflcm/v1/controller.py', 'tacker/objects/vnf_instance.py', 'tacker/tests/functional/vnflcm/test_vnf_instance_with_user_data.py']",5,91bf092b80f3a54d17cd391d960922228f962549,bp/support-etsi-nfv-specs," # request_body = fake_vnflcm.Subscription.make_create_request_body( # 'http://localhost:{}{}'.format( # vnflcm_base.FAKE_SERVER_MANAGER.SERVER_PORT, # vnflcm_base.MOCK_NOTIFY_CALLBACK_URL)) # resp, response_body = self._register_subscription(request_body) # self.assertEqual(201, resp.status_code) # self.assert_http_header_location_for_subscription(resp.headers) # subscription_id = response_body.get('id') # resp, response_body = self._delete_subscription(subscription_id) # self.assertEqual(204, resp.status_code) # resp, _ = self._show_subscription(subscription_id) # self.assertEqual(404, resp.status_code) # request_body = fake_vnflcm.Subscription.make_create_request_body( # 'http://localhost:{}{}'.format( # vnflcm_base.FAKE_SERVER_MANAGER.SERVER_PORT, # vnflcm_base.MOCK_NOTIFY_CALLBACK_URL)) # resp, response_body = self._register_subscription(request_body) # self.assertEqual(201, resp.status_code) # self.assert_http_header_location_for_subscription(resp.headers) # subscription_id = response_body.get('id') # resp, body = self._wait_show_subscription(subscription_id) # self.assert_subscription_show(resp, body) # resp, response_body = self._delete_subscription(subscription_id) # self.assertEqual(204, resp.status_code) # resp, show_body = self._show_subscription(subscription_id) # self.assertEqual(404, resp.status_code) # request_body = fake_vnflcm.Subscription.make_create_request_body( # 'http://localhost:{}{}'.format( # vnflcm_base.FAKE_SERVER_MANAGER.SERVER_PORT, # vnflcm_base.MOCK_NOTIFY_CALLBACK_URL)) # resp, response_body = self._register_subscription(request_body) # self.assertEqual(201, resp.status_code) # self.assert_http_header_location_for_subscription(resp.headers) # subscription_id = response_body.get('id') # resp, response_body = self._delete_subscription(subscription_id) # self.assertEqual(204, resp.status_code) # request_body = fake_vnflcm.Subscription.make_create_request_body( # 'http://localhost:{}{}'.format( # vnflcm_base.FAKE_SERVER_MANAGER.SERVER_PORT, # vnflcm_base.MOCK_NOTIFY_CALLBACK_URL)) # resp, response_body = self._register_subscription(request_body) # self.assertEqual(201, resp.status_code) # self.assert_http_header_location_for_subscription(resp.headers) # subscription_id = response_body.get('id') # notify_mock_responses = vnflcm_base.FAKE_SERVER_MANAGER.get_history( # vnflcm_base.MOCK_NOTIFY_CALLBACK_URL) # vnflcm_base.FAKE_SERVER_MANAGER.clear_history( # vnflcm_base.MOCK_NOTIFY_CALLBACK_URL) # resp, response_body = self._delete_subscription(subscription_id) # self.assertEqual(204, resp.status_code) # request_body = fake_vnflcm.Subscription.make_create_request_body( # 'http://localhost:{}{}'.format( # vnflcm_base.FAKE_SERVER_MANAGER.SERVER_PORT, # vnflcm_base.MOCK_NOTIFY_CALLBACK_URL)) # resp, response_body = self._register_subscription(request_body) # self.assertEqual(201, resp.status_code) # self.assert_http_header_location_for_subscription(resp.headers) # subscription_id = response_body.get('id') # vnflcm_base.FAKE_SERVER_MANAGER.clear_history( # vnflcm_base.MOCK_NOTIFY_CALLBACK_URL) # notify_mock_responses = vnflcm_base.FAKE_SERVER_MANAGER.get_history( # vnflcm_base.MOCK_NOTIFY_CALLBACK_URL) # vnflcm_base.FAKE_SERVER_MANAGER.clear_history( # vnflcm_base.MOCK_NOTIFY_CALLBACK_URL) # resp, response_body = self._delete_subscription(subscription_id) # self.assertEqual(204, resp.status_code) self.assert_vnf_package_usage_state( vnf_pkg_info, expected_usage_state=fields.PackageUsageStateType.NOT_IN_USE)"," request_body = fake_vnflcm.Subscription.make_create_request_body( 'http://localhost:{}{}'.format( vnflcm_base.FAKE_SERVER_MANAGER.SERVER_PORT, vnflcm_base.MOCK_NOTIFY_CALLBACK_URL)) resp, response_body = self._register_subscription(request_body) self.assertEqual(201, resp.status_code) self.assert_http_header_location_for_subscription(resp.headers) subscription_id = response_body.get('id') resp, response_body = self._delete_subscription(subscription_id) self.assertEqual(204, resp.status_code) resp, _ = self._show_subscription(subscription_id) self.assertEqual(404, resp.status_code) request_body = fake_vnflcm.Subscription.make_create_request_body( 'http://localhost:{}{}'.format( vnflcm_base.FAKE_SERVER_MANAGER.SERVER_PORT, vnflcm_base.MOCK_NOTIFY_CALLBACK_URL)) resp, response_body = self._register_subscription(request_body) self.assertEqual(201, resp.status_code) self.assert_http_header_location_for_subscription(resp.headers) subscription_id = response_body.get('id') resp, body = self._wait_show_subscription(subscription_id) self.assert_subscription_show(resp, body) resp, response_body = self._delete_subscription(subscription_id) self.assertEqual(204, resp.status_code) resp, show_body = self._show_subscription(subscription_id) self.assertEqual(404, resp.status_code) request_body = fake_vnflcm.Subscription.make_create_request_body( 'http://localhost:{}{}'.format( vnflcm_base.FAKE_SERVER_MANAGER.SERVER_PORT, vnflcm_base.MOCK_NOTIFY_CALLBACK_URL)) resp, response_body = self._register_subscription(request_body) self.assertEqual(201, resp.status_code) self.assert_http_header_location_for_subscription(resp.headers) subscription_id = response_body.get('id') resp, response_body = self._delete_subscription(subscription_id) self.assertEqual(204, resp.status_code) request_body = fake_vnflcm.Subscription.make_create_request_body( 'http://localhost:{}{}'.format( vnflcm_base.FAKE_SERVER_MANAGER.SERVER_PORT, vnflcm_base.MOCK_NOTIFY_CALLBACK_URL)) resp, response_body = self._register_subscription(request_body) self.assertEqual(201, resp.status_code) self.assert_http_header_location_for_subscription(resp.headers) subscription_id = response_body.get('id') notify_mock_responses = vnflcm_base.FAKE_SERVER_MANAGER.get_history( vnflcm_base.MOCK_NOTIFY_CALLBACK_URL) vnflcm_base.FAKE_SERVER_MANAGER.clear_history( vnflcm_base.MOCK_NOTIFY_CALLBACK_URL) resp, response_body = self._delete_subscription(subscription_id) self.assertEqual(204, resp.status_code) request_body = fake_vnflcm.Subscription.make_create_request_body( 'http://localhost:{}{}'.format( vnflcm_base.FAKE_SERVER_MANAGER.SERVER_PORT, vnflcm_base.MOCK_NOTIFY_CALLBACK_URL)) resp, response_body = self._register_subscription(request_body) self.assertEqual(201, resp.status_code) self.assert_http_header_location_for_subscription(resp.headers) subscription_id = response_body.get('id') vnflcm_base.FAKE_SERVER_MANAGER.clear_history( vnflcm_base.MOCK_NOTIFY_CALLBACK_URL) notify_mock_responses = vnflcm_base.FAKE_SERVER_MANAGER.get_history( vnflcm_base.MOCK_NOTIFY_CALLBACK_URL) vnflcm_base.FAKE_SERVER_MANAGER.clear_history( vnflcm_base.MOCK_NOTIFY_CALLBACK_URL) resp, response_body = self._delete_subscription(subscription_id) self.assertEqual(204, resp.status_code) self.assert_vnf_package_usage_state(vnf_pkg_info)",304,301
openstack%2Fkuryr-kubernetes~master~I0db851889017cfe19cc84acab36bdc67b04a9145,openstack/kuryr-kubernetes,master,I0db851889017cfe19cc84acab36bdc67b04a9145,Fix k8s client for handling empty list in response.,MERGED,2021-01-08 14:25:32.000000000,2021-01-12 03:36:19.000000000,2021-01-12 03:34:59.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-01-08 14:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f89b98d2996b38cfa08876475d97681d8c6606f3', 'message': 'Fix k8s client for handling empty list in response.\n\nImplements: blueprint selflink\nChange-Id: I0db851889017cfe19cc84acab36bdc67b04a9145\n'}, {'number': 2, 'created': '2021-01-08 16:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a2b8a3cad072a25ce6760c293e71f3ed7d82be2c', 'message': 'Fix k8s client for handling empty list in response.\n\nImplements: blueprint selflink\nChange-Id: I0db851889017cfe19cc84acab36bdc67b04a9145\n'}, {'number': 3, 'created': '2021-01-11 09:20:11.000000000', 'files': ['kuryr_kubernetes/tests/unit/test_k8s_client.py', 'kuryr_kubernetes/watcher.py', 'kuryr_kubernetes/k8s_client.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9bc33d9b786c1be7afb2d07f6cf066edcbda3549', 'message': 'Fix k8s client for handling empty list in response.\n\nImplements: blueprint selflink\nChange-Id: I0db851889017cfe19cc84acab36bdc67b04a9145\n'}]",3,769926,9bc33d9b786c1be7afb2d07f6cf066edcbda3549,15,4,3,13692,,,0,"Fix k8s client for handling empty list in response.

Implements: blueprint selflink
Change-Id: I0db851889017cfe19cc84acab36bdc67b04a9145
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/26/769926/3 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/test_k8s_client.py', 'kuryr_kubernetes/k8s_client.py']",2,f89b98d2996b38cfa08876475d97681d8c6606f3,selflink, if kind.endswith('List') and result['items']:, if kind.endswith('List'):,17,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id8cc95fc4e714d934a503de32667dfde0bf9d9b5,openstack/tripleo-heat-templates,stable/train,Id8cc95fc4e714d934a503de32667dfde0bf9d9b5,[Train Only] Make the docker restart in hybrid state idempotent.,MERGED,2020-12-09 17:07:07.000000000,2021-01-12 03:30:02.000000000,2021-01-12 03:30:02.000000000,"[{'_account_id': 11166}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 27419}]","[{'number': 1, 'created': '2020-12-09 17:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ed2c79b6f57d72db3aa451dc034553cb0837f38a', 'message': '[Train Only] Make the docker restart in hybrid state indempotent.\n\nCurrently, we need to perform some docker container operation/restart in order\nto take configuration changes into account. However, these tasks are not\nindempotent enough. The docker service restart will always run even though the\nconfiguration file was already changed (in case you re-run the upgrade command).\n\nThis change will only restart the container/service when the task that modifies\nthe files is considered as changed.\n\nChange-Id: Id8cc95fc4e714d934a503de32667dfde0bf9d9b5\nCloses-Bug: TO ADD\nResolves: TO ADD\n'}, {'number': 2, 'created': '2020-12-10 11:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7dce69a79fb623791f5b864a6f0ad8f615929b4', 'message': '[Train Only] Make the docker restart in hybrid state idempotent.\n\nCurrently, we need to perform some docker container operation/restart in order\nto take configuration changes into account. However, these tasks are not\nidempotent enough, The docker service restart will always run even though the\nconfiguration file was already changed (in case you re-run the upgrade command).\n\nThis change will only restart the container/service when the task that modifies\nthe files is considered as changed. In order to achieve this we are replacing all\nthe crudini shell taks by ini_file module calls.\n\nChange-Id: Id8cc95fc4e714d934a503de32667dfde0bf9d9b5\nCloses-Bug: TO ADD\nResolves: TO ADD\n'}, {'number': 3, 'created': '2020-12-10 11:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/22869f444ff557df4621b2d146e00479011ffc66', 'message': '[Train Only] Make the docker restart in hybrid state idempotent.\n\nCurrently, we need to perform some docker container operation/restart in order\nto take configuration changes into account. However, these tasks are not\nidempotent enough, The docker service restart will always run even though the\nconfiguration file was already changed (in case you re-run the upgrade command).\n\nThis change will only restart the container/service when the task that modifies\nthe files is considered as changed. In order to achieve this we are replacing all\nthe crudini shell taks by ini_file module calls.\n\nChange-Id: Id8cc95fc4e714d934a503de32667dfde0bf9d9b5\nCloses-Bug: #1907655\nResolves: rhbz#1906367\n'}, {'number': 4, 'created': '2020-12-14 12:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3f776cc84a1f45d69adafbc5b1cb3dd15b47544', 'message': '[Train Only] Make the docker restart in hybrid state idempotent.\n\nCurrently, we need to perform some docker container operation/restart in order\nto take configuration changes into account. However, these tasks are not\nidempotent enough, The docker service restart will always run even though the\nconfiguration file was already changed (in case you re-run the upgrade command).\n\nThis change will only restart the container/service when the task that modifies\nthe files is considered as changed. In order to achieve this we are replacing all\nthe crudini shell taks by ini_file module calls.\n\nChange-Id: Id8cc95fc4e714d934a503de32667dfde0bf9d9b5\nCloses-Bug: #1907655\nResolves: rhbz#1906367\n'}, {'number': 5, 'created': '2020-12-15 13:22:24.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64a8cd2d36f7ee59ebfa85b2e175ee73d0ded633', 'message': '[Train Only] Make the docker restart in hybrid state idempotent.\n\nCurrently, we need to perform some docker container\noperation/restart in order to take configuration changes\ninto account. However, these tasks are not idempotent enough.\nThe docker service restart will always run even though the\nconfiguration file was already changed (in case you re-run the\nupgrade command).\n\nThis change will only restart the container/service when the\ntask that modifies the files is considered as changed. In\norder to achieve this we are replacing all the crudini shell\ntasks by ini_file module calls.\n\nChange-Id: Id8cc95fc4e714d934a503de32667dfde0bf9d9b5\nCloses-Bug: #1907655\nResolves: rhbz#1906367\n'}]",6,766262,64a8cd2d36f7ee59ebfa85b2e175ee73d0ded633,27,6,5,26343,,,0,"[Train Only] Make the docker restart in hybrid state idempotent.

Currently, we need to perform some docker container
operation/restart in order to take configuration changes
into account. However, these tasks are not idempotent enough.
The docker service restart will always run even though the
configuration file was already changed (in case you re-run the
upgrade command).

This change will only restart the container/service when the
task that modifies the files is considered as changed. In
order to achieve this we are replacing all the crudini shell
tasks by ini_file module calls.

Change-Id: Id8cc95fc4e714d934a503de32667dfde0bf9d9b5
Closes-Bug: #1907655
Resolves: rhbz#1906367
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/766262/3 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-compute-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/neutron/neutron-sriov-agent-container-puppet.yaml']",3,ed2c79b6f57d72db3aa451dc034553cb0837f38a,," shell: crudini --verbose --set /etc/containers/registries.conf registries.insecure registries ""[{{ container_registry_insecure_registries | map('regex_replace', '(.*)', ""'\1'"") | join(',') }}]"" register: crudini_result changed_when: crudini_result.stderr is match(""^changed"") when: - container_registry_insecure_registries != [] - crudini_result is changed"," shell: crudini --set /etc/containers/registries.conf registries.insecure registries ""[{{ container_registry_insecure_registries | map('regex_replace', '(.*)', ""'\1'"") | join(',') }}]"" when: container_registry_insecure_registries != []",18,6
openstack%2Fcinder~master~Ie9fd2a0e14b426c68f7c7a22db590a2d94fa0084,openstack/cinder,master,Ie9fd2a0e14b426c68f7c7a22db590a2d94fa0084,Tests: Fix rbd unit test failure due to ceph keyring file,MERGED,2021-01-06 14:50:09.000000000,2021-01-12 03:23:43.000000000,2021-01-06 19:33:35.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 23601}]","[{'number': 1, 'created': '2021-01-06 14:50:09.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_rbd.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d3f4c55593138fb415fb893d2124ac8baef6aeaa', 'message': 'Tests: Fix rbd unit test failure due to ceph keyring file\n\nThis test fails if /etc/ceph/ceph.client.admin.keyring\nexists.  Mock out isfile() to get the behavior the unit\ntest expects.\n\nCloses-Bug: #1909109\n\nChange-Id: Ie9fd2a0e14b426c68f7c7a22db590a2d94fa0084\n'}]",0,769549,d3f4c55593138fb415fb893d2124ac8baef6aeaa,26,4,1,4523,,,0,"Tests: Fix rbd unit test failure due to ceph keyring file

This test fails if /etc/ceph/ceph.client.admin.keyring
exists.  Mock out isfile() to get the behavior the unit
test expects.

Closes-Bug: #1909109

Change-Id: Ie9fd2a0e14b426c68f7c7a22db590a2d94fa0084
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/769549/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/test_rbd.py'],1,d3f4c55593138fb415fb893d2124ac8baef6aeaa,," with mock.patch('os.path.isfile', return_value=False): self.driver._set_keyring_attributes()", self.driver._set_keyring_attributes(),2,1
openstack%2Fpython-manilaclient~master~Iebcfe1013081cfa35e311e95649714f029f45b57,openstack/python-manilaclient,master,Iebcfe1013081cfa35e311e95649714f029f45b57,Remove six,ABANDONED,2021-01-07 07:05:23.000000000,2021-01-12 03:00:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-07 07:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/e2ff5d8b0d9dc2973bd9fe6ce970f94d2553332d', 'message': 'Remove six\n\nReplace the following items with Python 3 style code.\n\nImplements: blueprint six-removal\nChange-Id: Iebcfe1013081cfa35e311e95649714f029f45b57\n'}, {'number': 2, 'created': '2021-01-07 07:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/7619f28461af8778137e29ccbaed7ac79c247669', 'message': 'Remove six\n\n\nImplements: blueprint six-removal\nChange-Id: Iebcfe1013081cfa35e311e95649714f029f45b57\n'}, {'number': 3, 'created': '2021-01-07 08:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/df2fef9bbc45f472158b01a9c4a6cf7cac7806ed', 'message': 'Remove six\n\nImplements: blueprint six-removal\nChange-Id: Iebcfe1013081cfa35e311e95649714f029f45b57\n'}, {'number': 4, 'created': '2021-01-07 09:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/20d9b52de188d0d96e55aeaa15c2c65dbf8d2f12', 'message': 'Remove six\n\nImplements: blueprint six-removal\nChange-Id: Iebcfe1013081cfa35e311e95649714f029f45b57\n'}, {'number': 5, 'created': '2021-01-07 12:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/f01ae049f768444eb23dfea03ced06767654e653', 'message': 'Remove six\n\nImplements: blueprint six-removal\nChange-Id: Iebcfe1013081cfa35e311e95649714f029f45b57\n'}, {'number': 6, 'created': '2021-01-08 00:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/dbdb78ff4e18afca0a6b325cbeef8462ca9fe4f0', 'message': 'Remove six\n\nImplements: blueprint six-removal\nChange-Id: Iebcfe1013081cfa35e311e95649714f029f45b57\n'}, {'number': 7, 'created': '2021-01-08 06:47:24.000000000', 'files': ['manilaclient/tests/unit/test_shell.py', 'manilaclient/v2/shares.py', 'manilaclient/osc/utils.py', 'manilaclient/v2/shell.py', 'manilaclient/tests/unit/v1/test_scheduler_stats.py', 'manilaclient/osc/v2/share_types.py', 'manilaclient/tests/unit/v1/test_share_servers.py', 'manilaclient/tests/unit/v1/test_quota_classes.py', 'manilaclient/common/cliutils.py', 'manilaclient/common/apiclient/exceptions.py', 'manilaclient/tests/unit/v1/test_share_snapshots.py', 'manilaclient/tests/unit/test_utils.py', 'manilaclient/tests/unit/v1/test_limits.py', 'manilaclient/tests/unit/v1/test_services.py', 'requirements.txt', 'manilaclient/tests/functional/client.py', 'manilaclient/tests/unit/v1/test_share_type_access.py', 'manilaclient/common/apiclient/base.py', 'manilaclient/tests/unit/v1/test_share_types.py', 'manilaclient/common/httpclient.py', 'manilaclient/tests/functional/osc/base.py', 'manilaclient/tests/unit/test_api_versions.py', 'manilaclient/tests/unit/v2/test_share_groups.py', 'manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/tests/unit/v1/test_security_services.py', 'lower-constraints.txt', 'manilaclient/tests/unit/v1/test_shares.py', 'manilaclient/tests/unit/v2/test_share_group_types.py', 'manilaclient/common/apiclient/utils.py', 'manilaclient/shell.py', 'manilaclient/tests/unit/v2/test_share_group_type_access.py', 'manilaclient/tests/functional/utils.py', 'manilaclient/tests/unit/v1/test_share_networks.py', 'manilaclient/tests/unit/v1/test_quotas.py', 'manilaclient/tests/unit/v2/test_share_group_snapshots.py', 'manilaclient/utils.py', 'manilaclient/tests/unit/v2/test_messages.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/a0d25f4b23b7db648f21cdb4ec4c731faec16494', 'message': 'Remove six\n\nImplements: blueprint six-removal\nChange-Id: Iebcfe1013081cfa35e311e95649714f029f45b57\n'}]",67,769672,a0d25f4b23b7db648f21cdb4ec4c731faec16494,14,1,7,32326,,,0,"Remove six

Implements: blueprint six-removal
Change-Id: Iebcfe1013081cfa35e311e95649714f029f45b57
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/72/769672/1 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/tests/unit/test_shell.py', 'manilaclient/v2/shares.py', 'manilaclient/osc/utils.py', 'manilaclient/v2/shell.py', 'manilaclient/tests/unit/v1/test_scheduler_stats.py', 'manilaclient/osc/v2/share_types.py', 'manilaclient/tests/unit/v1/test_share_servers.py', 'manilaclient/tests/unit/v1/test_quota_classes.py', 'manilaclient/common/cliutils.py', 'manilaclient/common/apiclient/exceptions.py', 'manilaclient/tests/unit/v1/test_share_snapshots.py', 'manilaclient/tests/unit/test_utils.py', 'manilaclient/tests/unit/v1/test_limits.py', 'manilaclient/tests/unit/v1/test_services.py', 'requirements.txt', 'manilaclient/tests/functional/client.py', 'manilaclient/tests/unit/v1/test_share_type_access.py', 'manilaclient/common/apiclient/base.py', 'manilaclient/tests/unit/v1/test_share_types.py', 'manilaclient/common/httpclient.py', 'manilaclient/tests/functional/osc/base.py', 'manilaclient/tests/unit/test_api_versions.py', 'manilaclient/tests/unit/v2/test_share_groups.py', 'manilaclient/tests/unit/v2/test_shell.py', 'manilaclient/tests/unit/v1/test_security_services.py', 'lower-constraints.txt', 'manilaclient/tests/unit/v1/test_shares.py', 'manilaclient/tests/unit/v2/test_share_group_types.py', 'manilaclient/common/apiclient/utils.py', 'manilaclient/shell.py', 'manilaclient/tests/unit/v2/test_share_group_type_access.py', 'manilaclient/tests/functional/utils.py', 'manilaclient/tests/unit/v1/test_share_networks.py', 'manilaclient/tests/unit/v1/test_quotas.py', 'manilaclient/tests/unit/v2/test_share_group_snapshots.py', 'manilaclient/utils.py', 'manilaclient/tests/unit/v2/test_messages.py']",37,e2ff5d8b0d9dc2973bd9fe6ce970f94d2553332d,, result = str(self.message),import six result = six.text_type(self.message),120,149
openstack%2Ftripleo-heat-templates~master~I0e041c6a95a7f53019967f9263df2326b1408c6f,openstack/tripleo-heat-templates,master,I0e041c6a95a7f53019967f9263df2326b1408c6f,Serialize shutdown of pacemaker nodes,MERGED,2020-10-22 10:31:48.000000000,2021-01-12 02:43:50.000000000,2021-01-12 02:43:50.000000000,"[{'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-10-22 10:31:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/10ee9293243e9a78d661f1f43ae16d67eda10dd4', 'message': 'WIP Serialize shutdown of pacemaker nodes\n\nWhen running minor update in a composable HA, different\nroles could run ansible tasks concurrently. However,\nthere is currently a race when pacemaker nodes are\nstopped in parallel [1,2], that could cause nodes to\nincorrectly stop themselves once they reconnect to the\ncluster.\n\nTo prevent concurrent shutdown, use a cluster-wide lock\nto signals that one node is about to shutdown, and block\nthe others until the node disconnects from the cluster.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1791841\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1872404\n\nChange-Id: I0e041c6a95a7f53019967f9263df2326b1408c6f\n'}, {'number': 2, 'created': '2020-10-22 11:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4a656019b3e135ad7c97a3c742e8a10754d8b911', 'message': 'WIP Serialize shutdown of pacemaker nodes\n\nWhen running minor update in a composable HA, different\nroles could run ansible tasks concurrently. However,\nthere is currently a race when pacemaker nodes are\nstopped in parallel [1,2], that could cause nodes to\nincorrectly stop themselves once they reconnect to the\ncluster.\n\nTo prevent concurrent shutdown, use a cluster-wide lock\nto signals that one node is about to shutdown, and block\nthe others until the node disconnects from the cluster.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1791841\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1872404\n\nChange-Id: I0e041c6a95a7f53019967f9263df2326b1408c6f\n'}, {'number': 3, 'created': '2020-10-22 12:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/47769874361584e823d50bd36d21eb0268440717', 'message': 'WIP Serialize shutdown of pacemaker nodes\n\nWhen running minor update in a composable HA, different\nroles could run ansible tasks concurrently. However,\nthere is currently a race when pacemaker nodes are\nstopped in parallel [1,2], that could cause nodes to\nincorrectly stop themselves once they reconnect to the\ncluster.\n\nTo prevent concurrent shutdown, use a cluster-wide lock\nto signals that one node is about to shutdown, and block\nthe others until the node disconnects from the cluster.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1791841\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1872404\n\nChange-Id: I0e041c6a95a7f53019967f9263df2326b1408c6f\n'}, {'number': 4, 'created': '2020-10-22 19:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/adf83cfe26160ebe80ff44e8402d3fa2a51d51e5', 'message': 'WIP Serialize shutdown of pacemaker nodes\n\nWhen running minor update in a composable HA, different\nroles could run ansible tasks concurrently. However,\nthere is currently a race when pacemaker nodes are\nstopped in parallel [1,2], that could cause nodes to\nincorrectly stop themselves once they reconnect to the\ncluster.\n\nTo prevent concurrent shutdown, use a cluster-wide lock\nto signals that one node is about to shutdown, and block\nthe others until the node disconnects from the cluster.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1791841\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1872404\n\nChange-Id: I0e041c6a95a7f53019967f9263df2326b1408c6f\n'}, {'number': 5, 'created': '2020-10-28 19:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6a75a1f6c816927d29f43be9cb678b9d7b81fce3', 'message': 'WIP Serialize shutdown of pacemaker nodes\n\nWhen running minor update in a composable HA, different\nroles could run ansible tasks concurrently. However,\nthere is currently a race when pacemaker nodes are\nstopped in parallel [1,2], that could cause nodes to\nincorrectly stop themselves once they reconnect to the\ncluster.\n\nTo prevent concurrent shutdown, use a cluster-wide lock\nto signals that one node is about to shutdown, and block\nthe others until the node disconnects from the cluster.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1791841\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1872404\n\nChange-Id: I0e041c6a95a7f53019967f9263df2326b1408c6f\n'}, {'number': 6, 'created': '2020-11-16 10:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/93793d2ad62e5c370420b4cd4927c9e6151cb82a', 'message': 'Serialize shutdown of pacemaker nodes\n\nWhen running minor update in a composable HA, different\nroles could run ansible tasks concurrently. However,\nthere is currently a race when pacemaker nodes are\nstopped in parallel [1,2], that could cause nodes to\nincorrectly stop themselves once they reconnect to the\ncluster.\n\nTo prevent concurrent shutdown, use a cluster-wide lock\nto signals that one node is about to shutdown, and block\nthe others until the node disconnects from the cluster.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1791841\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1872404\n\nCloses-Bug: #1904193\nChange-Id: I0e041c6a95a7f53019967f9263df2326b1408c6f\n'}, {'number': 7, 'created': '2020-11-25 20:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7209573fed070f6ba348d6e91418ca8ac9bfec3', 'message': 'Serialize shutdown of pacemaker nodes\n\nWhen running minor update in a composable HA, different\nroles could run ansible tasks concurrently. However,\nthere is currently a race when pacemaker nodes are\nstopped in parallel [1,2], that could cause nodes to\nincorrectly stop themselves once they reconnect to the\ncluster.\n\nTo prevent concurrent shutdown, use a cluster-wide lock\nto signals that one node is about to shutdown, and block\nthe others until the node disconnects from the cluster.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1791841\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1872404\n\nCloses-Bug: #1904193\nChange-Id: I0e041c6a95a7f53019967f9263df2326b1408c6f\n'}, {'number': 8, 'created': '2020-11-27 11:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9aaf92b093e54574cb0930b92a7f6fbbe4cf59ae', 'message': 'Serialize shutdown of pacemaker nodes\n\nWhen running minor update in a composable HA, different\nroles could run ansible tasks concurrently. However,\nthere is currently a race when pacemaker nodes are\nstopped in parallel [1,2], that could cause nodes to\nincorrectly stop themselves once they reconnect to the\ncluster.\n\nTo prevent concurrent shutdown, use a cluster-wide lock\nto signals that one node is about to shutdown, and block\nthe others until the node disconnects from the cluster.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1791841\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1872404\n\nCloses-Bug: #1904193\nChange-Id: I0e041c6a95a7f53019967f9263df2326b1408c6f\n'}, {'number': 9, 'created': '2020-12-14 09:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/db20453b26f7a357cf4740adcf6f4ff60d1b4d91', 'message': 'Serialize shutdown of pacemaker nodes\n\nWhen running minor update in a composable HA, different\nroles could run ansible tasks concurrently. However,\nthere is currently a race when pacemaker nodes are\nstopped in parallel [1,2], that could cause nodes to\nincorrectly stop themselves once they reconnect to the\ncluster.\n\nTo prevent concurrent shutdown, use a cluster-wide lock\nto signals that one node is about to shutdown, and block\nthe others until the node disconnects from the cluster.\n\nTested the minor update in a composable HA environment:\n  . when run with ""openstack update run"", every role\n    is updated sequentially, and the shutdown lock\n    doesn\'t interfere.\n  . when running multiple ansible tasks in parallel\n    ""openstack update run --limit role<X>"", pacemaker\n    nodes are correctly stopped sequentially thanks\n    to the shutdown lock.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1791841\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1872404\n\nCloses-Bug: #1904193\nChange-Id: I0e041c6a95a7f53019967f9263df2326b1408c6f\n'}, {'number': 10, 'created': '2020-12-14 15:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fe36b261e6f72e0c2bbb0b76a122db810daf3da9', 'message': 'Serialize shutdown of pacemaker nodes\n\nWhen running minor update in a composable HA, different\nroles could run ansible tasks concurrently. However,\nthere is currently a race when pacemaker nodes are\nstopped in parallel [1,2], that could cause nodes to\nincorrectly stop themselves once they reconnect to the\ncluster.\n\nTo prevent concurrent shutdown, use a cluster-wide lock\nto signals that one node is about to shutdown, and block\nthe others until the node disconnects from the cluster.\n\nTested the minor update in a composable HA environment:\n  . when run with ""openstack update run"", every role\n    is updated sequentially, and the shutdown lock\n    doesn\'t interfere.\n  . when running multiple ansible tasks in parallel\n    ""openstack update run --limit role<X>"", pacemaker\n    nodes are correctly stopped sequentially thanks\n    to the shutdown lock.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1791841\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1872404\n\nCloses-Bug: #1904193\nChange-Id: I0e041c6a95a7f53019967f9263df2326b1408c6f\n'}, {'number': 11, 'created': '2020-12-14 15:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7affba644796726a6a3ed061778ec52a562ca245', 'message': 'Serialize shutdown of pacemaker nodes\n\nWhen running minor update in a composable HA, different\nroles could run ansible tasks concurrently. However,\nthere is currently a race when pacemaker nodes are\nstopped in parallel [1,2], that could cause nodes to\nincorrectly stop themselves once they reconnect to the\ncluster.\n\nTo prevent concurrent shutdown, use a cluster-wide lock\nto signals that one node is about to shutdown, and block\nthe others until the node disconnects from the cluster.\n\nTested the minor update in a composable HA environment:\n  . when run with ""openstack update run"", every role\n    is updated sequentially, and the shutdown lock\n    doesn\'t interfere.\n  . when running multiple ansible tasks in parallel\n    ""openstack update run --limit role<X>"", pacemaker\n    nodes are correctly stopped sequentially thanks\n    to the shutdown lock.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1791841\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1872404\n\nCloses-Bug: #1904193\nChange-Id: I0e041c6a95a7f53019967f9263df2326b1408c6f\n'}, {'number': 12, 'created': '2020-12-26 10:01:36.000000000', 'files': ['deployment/containers-common.yaml', 'container_config_scripts/pacemaker_mutex_shutdown.sh', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'container_config_scripts/pacemaker_resource_lock.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cb55cc8ce538f3e075754b0328872ec075f4cde9', 'message': 'Serialize shutdown of pacemaker nodes\n\nWhen running minor update in a composable HA, different\nroles could run ansible tasks concurrently. However,\nthere is currently a race when pacemaker nodes are\nstopped in parallel [1,2], that could cause nodes to\nincorrectly stop themselves once they reconnect to the\ncluster.\n\nTo prevent concurrent shutdown, use a cluster-wide lock\nto signals that one node is about to shutdown, and block\nthe others until the node disconnects from the cluster.\n\nTested the minor update in a composable HA environment:\n  . when run with ""openstack update run"", every role\n    is updated sequentially, and the shutdown lock\n    doesn\'t interfere.\n  . when running multiple ansible tasks in parallel\n    ""openstack update run --limit role<X>"", pacemaker\n    nodes are correctly stopped sequentially thanks\n    to the shutdown lock.\n  . when updating an existing overcloud, the new\n    locking script used in the review is correctly\n    injected on the overcloud, thanks to [3].\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1791841\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=1872404\n[3] I2ac6bb98e1d4183327e888240fc8d5a70e0d6fcb\n\nCloses-Bug: #1904193\nChange-Id: I0e041c6a95a7f53019967f9263df2326b1408c6f\n'}]",11,759242,cb55cc8ce538f3e075754b0328872ec075f4cde9,54,9,12,20778,,,0,"Serialize shutdown of pacemaker nodes

When running minor update in a composable HA, different
roles could run ansible tasks concurrently. However,
there is currently a race when pacemaker nodes are
stopped in parallel [1,2], that could cause nodes to
incorrectly stop themselves once they reconnect to the
cluster.

To prevent concurrent shutdown, use a cluster-wide lock
to signals that one node is about to shutdown, and block
the others until the node disconnects from the cluster.

Tested the minor update in a composable HA environment:
  . when run with ""openstack update run"", every role
    is updated sequentially, and the shutdown lock
    doesn't interfere.
  . when running multiple ansible tasks in parallel
    ""openstack update run --limit role<X>"", pacemaker
    nodes are correctly stopped sequentially thanks
    to the shutdown lock.
  . when updating an existing overcloud, the new
    locking script used in the review is correctly
    injected on the overcloud, thanks to [3].

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1791841
[2] https://bugzilla.redhat.com/show_bug.cgi?id=1872404
[3] I2ac6bb98e1d4183327e888240fc8d5a70e0d6fcb

Closes-Bug: #1904193
Change-Id: I0e041c6a95a7f53019967f9263df2326b1408c6f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/759242/2 && git format-patch -1 --stdout FETCH_HEAD,"['container_config_scripts/pacemaker_mutex_shutdown.sh', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'container_config_scripts/pacemaker_resource_lock.sh']",3,10ee9293243e9a78d661f1f43ae16d67eda10dd4,pcmk-shutdown-lock,"# Retrieve the owner of a lock from the CIB # this is a read-only operation, so no need to log debug info lock_get_owner() { local lockname=$1 local rc local lock local owner pcs cluster cib > $TMP_CIB rc=$? if [ $rc -ne 0 ]; then return 2 fi lock=$(lock_get $TMP_CIB $lockname) rc=$? if [ $rc -ne 0 ]; then return 2 fi if [ -z ""$lock"" ]; then return 1 else lock_owner $lock return 0 fi } if [ -z ""$LOCKNAME"" ]; then error ""You must specific a lock name"" fi if [ $ACTION != ""--owner"" ] && [ $ACTION != ""-o"" ]; then if [ -z ""$REQUESTER"" ]; then error ""You must specific a lock requester"" fi --acquire-once|-A) lock_acquire $LOCKNAME $REQUESTER $TTL;; --owner|-o) lock_get_owner $LOCKNAME;;"," if [ -z ""$LOCKNAME"" ] || [ -z ""$REQUESTER"" ]; then error ""You must specific a lock name and a requester""",163,2
openstack%2Fcloudkitty~master~I7540064f18dbf989aa0d1ee6e4512ff7bcb29948,openstack/cloudkitty,master,I7540064f18dbf989aa0d1ee6e4512ff7bcb29948,remove unicode from code,ABANDONED,2021-01-07 01:05:06.000000000,2021-01-12 02:24:39.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 01:05:06.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/9dd77744e2a6853ac2f0ee19503f5172b3d7c60b', 'message': 'remove unicode from code\n\nChange-Id: I7540064f18dbf989aa0d1ee6e4512ff7bcb29948\n'}]",0,769625,9dd77744e2a6853ac2f0ee19503f5172b3d7c60b,4,2,1,32921,,,0,"remove unicode from code

Change-Id: I7540064f18dbf989aa0d1ee6e4512ff7bcb29948
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/25/769625/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,9dd77744e2a6853ac2f0ee19503f5172b3d7c60b,,"copyright = '2014-present, OpenStack Foundation.' ('index', 'cloudkitty', 'cloudkitty Documentation', ['Objectif Libre'], 1) ('pdf-index', 'doc-cloudkitty.tex', 'Cloudkitty Documentation', 'Cloudkitty Team', 'manual'),","copyright = u'2014-present, OpenStack Foundation.' ('index', 'cloudkitty', u'cloudkitty Documentation', [u'Objectif Libre'], 1) ('pdf-index', 'doc-cloudkitty.tex', u'Cloudkitty Documentation', u'Cloudkitty Team', 'manual'),",5,5
openstack%2Fcloudkitty~master~I72b6231fd3097f06b4f63d52bdf30cc2aad926e5,openstack/cloudkitty,master,I72b6231fd3097f06b4f63d52bdf30cc2aad926e5,remove unicode from code,ABANDONED,2021-01-07 01:11:37.000000000,2021-01-12 02:24:17.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 01:11:37.000000000', 'files': ['cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/4da82e1c11c8_add_per_tenant_hashmap_support.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/644faa4491fd_update_tenant_id_type_from_uuid_to_text.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/54cc17accf2c_fixed_constraint_name.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/93a79d5d2bd331dcc9d42671580c8ffee2d4d869', 'message': 'remove unicode from code\n\nChange-Id: I72b6231fd3097f06b4f63d52bdf30cc2aad926e5\n'}]",0,769627,93a79d5d2bd331dcc9d42671580c8ffee2d4d869,4,2,1,32921,,,0,"remove unicode from code

Change-Id: I72b6231fd3097f06b4f63d52bdf30cc2aad926e5
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/27/769627/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/4da82e1c11c8_add_per_tenant_hashmap_support.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/644faa4491fd_update_tenant_id_type_from_uuid_to_text.py', 'cloudkitty/rating/hash/db/sqlalchemy/alembic/versions/54cc17accf2c_fixed_constraint_name.py']",3,93a79d5d2bd331dcc9d42671580c8ffee2d4d869,," 'uniq_field_mapping', 'uniq_service_mapping', 'uniq_field_mapping', 'uniq_service_mapping',"," u'uniq_field_mapping', u'uniq_service_mapping', u'uniq_field_mapping', u'uniq_service_mapping',",12,12
openstack%2Fcloudkitty~master~I40dc3546d1b59b7298f03440f178d0cdba6b2742,openstack/cloudkitty,master,I40dc3546d1b59b7298f03440f178d0cdba6b2742,remove unicode from code,ABANDONED,2021-01-07 01:07:05.000000000,2021-01-12 02:23:49.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 01:07:05.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/76f6ddbf4ab521a5c197c74dc6e7915e1cf2a9c9', 'message': 'remove unicode from code\n\nChange-Id: I40dc3546d1b59b7298f03440f178d0cdba6b2742\n'}]",0,769626,76f6ddbf4ab521a5c197c74dc6e7915e1cf2a9c9,4,2,1,32921,,,0,"remove unicode from code

Change-Id: I40dc3546d1b59b7298f03440f178d0cdba6b2742
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/26/769626/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/conf.py'],1,76f6ddbf4ab521a5c197c74dc6e7915e1cf2a9c9,,"project = 'Cloudkitty Client Release Notes' copyright = '2016, Cloudkitty developers' ('index', 'PythonCloudkitty.tex', 'Cloudkitty Release Notes Documentation', 'Cloudkitty developers', 'manual'), 'Cloudkitty Release Notes Documentation', ['Cloudkitty developers'], 1) 'Cloudkitty Release Notes Documentation', 'Cloudkitty developers', 'Cloudkitty',","project = u'Cloudkitty Client Release Notes' copyright = u'2016, Cloudkitty developers' ('index', 'PythonCloudkitty.tex', u'Cloudkitty Release Notes Documentation', u'Cloudkitty developers', 'manual'), u'Cloudkitty Release Notes Documentation', [u'Cloudkitty developers'], 1) u'Cloudkitty Release Notes Documentation', u'Cloudkitty developers', 'Cloudkitty',",8,8
openstack%2Ftempest~master~Idac18221086a7e4b133ea9879d40dcff849cc7db,openstack/tempest,master,Idac18221086a7e4b133ea9879d40dcff849cc7db,remove py37,ABANDONED,2021-01-04 02:48:31.000000000,2021-01-12 02:19:27.000000000,,"[{'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-01-04 02:48:31.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c3b93f08b0841a6e015d0716ae393272c0737448', 'message': ""remove py37\n\nRemove python3.7 from setup.cfg, since Wallaby's python\nsupported runtimes are python 3.6 and python 3.8[1]:\n\n[1]: https://governance.openstack.org/tc/reference/runtimes/wallaby.html\n\nChange-Id: Idac18221086a7e4b133ea9879d40dcff849cc7db\n""}]",0,769080,c3b93f08b0841a6e015d0716ae393272c0737448,8,5,1,31412,,,0,"remove py37

Remove python3.7 from setup.cfg, since Wallaby's python
supported runtimes are python 3.6 and python 3.8[1]:

[1]: https://governance.openstack.org/tc/reference/runtimes/wallaby.html

Change-Id: Idac18221086a7e4b133ea9879d40dcff849cc7db
",git fetch https://review.opendev.org/openstack/tempest refs/changes/80/769080/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c3b93f08b0841a6e015d0716ae393272c0737448,,, Programming Language :: Python :: 3.7,0,1
openstack%2Fhorizon~master~Id9d6b6ddd7bfa0c63bb9ad177fed332fd0081d9c,openstack/horizon,master,Id9d6b6ddd7bfa0c63bb9ad177fed332fd0081d9c,remove py37,ABANDONED,2021-01-05 02:45:01.000000000,2021-01-12 01:46:13.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-01-05 02:45:01.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c4c7778dca0c81fe50ab2b14eeaded3b445b48a6', 'message': ""remove py37\n\nRemove python3.7 from setup.cfg, since Wallaby's python\nsupported runtimes are python 3.6 and python 3.8[1]:\n\n[1]: https://governance.openstack.org/tc/reference/runtimes/wallaby.html\n\nChange-Id: Id9d6b6ddd7bfa0c63bb9ad177fed332fd0081d9c\n""}]",0,769237,c4c7778dca0c81fe50ab2b14eeaded3b445b48a6,5,3,1,32326,,,0,"remove py37

Remove python3.7 from setup.cfg, since Wallaby's python
supported runtimes are python 3.6 and python 3.8[1]:

[1]: https://governance.openstack.org/tc/reference/runtimes/wallaby.html

Change-Id: Id9d6b6ddd7bfa0c63bb9ad177fed332fd0081d9c
",git fetch https://review.opendev.org/openstack/horizon refs/changes/37/769237/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c4c7778dca0c81fe50ab2b14eeaded3b445b48a6,,, Programming Language :: Python :: 3.7,0,1
openstack%2Fmanila~master~I6a50ab1a07f1b5b466e134ddc38d74031af2ea8c,openstack/manila,master,I6a50ab1a07f1b5b466e134ddc38d74031af2ea8c,remove py37,ABANDONED,2021-01-03 07:48:14.000000000,2021-01-12 01:45:17.000000000,,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-01-03 07:48:14.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/manila/commit/1e2973a0a18ea7af296143e84d5d9ba4b9775f7c', 'message': ""remove py37\n\nRemove python3.7 from setup.cfg, since Wallaby's python\nsupported runtimes are python 3.6 and python 3.8[1]:\n\n[1]: https://governance.openstack.org/tc/reference/runtimes/wallaby.html\n\nChange-Id: I6a50ab1a07f1b5b466e134ddc38d74031af2ea8c\n""}]",0,768983,1e2973a0a18ea7af296143e84d5d9ba4b9775f7c,12,3,1,32326,,,0,"remove py37

Remove python3.7 from setup.cfg, since Wallaby's python
supported runtimes are python 3.6 and python 3.8[1]:

[1]: https://governance.openstack.org/tc/reference/runtimes/wallaby.html

Change-Id: I6a50ab1a07f1b5b466e134ddc38d74031af2ea8c
",git fetch https://review.opendev.org/openstack/manila refs/changes/83/768983/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1e2973a0a18ea7af296143e84d5d9ba4b9775f7c,,, Programming Language :: Python :: 3.7,0,1
openstack%2Fbarbican~master~Icae02ddb5042e6048ddf85ca6f033b0881e97ba6,openstack/barbican,master,Icae02ddb5042e6048ddf85ca6f033b0881e97ba6,remove py37,ABANDONED,2021-01-04 07:33:51.000000000,2021-01-12 01:43:37.000000000,,"[{'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-01-04 07:33:51.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/barbican/commit/51a503420d64d81035d50773d2e4a382df9e6d31', 'message': ""remove py37\n\nRemove python3.7 from setup.cfg, since Wallaby's python\nsupported runtimes are python 3.6 and python 3.8[1]:\n\n[1]: https://governance.openstack.org/tc/reference/runtimes/wallaby.html\n\nChange-Id: Icae02ddb5042e6048ddf85ca6f033b0881e97ba6\n""}]",0,769091,51a503420d64d81035d50773d2e4a382df9e6d31,5,3,1,32326,,,0,"remove py37

Remove python3.7 from setup.cfg, since Wallaby's python
supported runtimes are python 3.6 and python 3.8[1]:

[1]: https://governance.openstack.org/tc/reference/runtimes/wallaby.html

Change-Id: Icae02ddb5042e6048ddf85ca6f033b0881e97ba6
",git fetch https://review.opendev.org/openstack/barbican refs/changes/91/769091/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,51a503420d64d81035d50773d2e4a382df9e6d31,,, Programming Language :: Python :: 3.7,0,1
openstack%2Ftrove~master~Iae46ceb0011bef99ca629e53059677cb8163e6e2,openstack/trove,master,Iae46ceb0011bef99ca629e53059677cb8163e6e2,fix ci conflicts,ABANDONED,2020-12-23 05:39:45.000000000,2021-01-12 00:58:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-23 05:39:45.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/trove/commit/3d8d03eae6c0efa37845cc0f0e7a3b0e1ae82194', 'message': ""fix ci conflicts\n\nhacking 3.0.1 requires flake8<3.8.0,>=3.6.0, but you'll have flake8 3.8.4 which is incompatible.\n\nChange-Id: Iae46ceb0011bef99ca629e53059677cb8163e6e2\n""}]",0,768299,3d8d03eae6c0efa37845cc0f0e7a3b0e1ae82194,6,1,1,32029,,,0,"fix ci conflicts

hacking 3.0.1 requires flake8<3.8.0,>=3.6.0, but you'll have flake8 3.8.4 which is incompatible.

Change-Id: Iae46ceb0011bef99ca629e53059677cb8163e6e2
",git fetch https://review.opendev.org/openstack/trove refs/changes/99/768299/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,3d8d03eae6c0efa37845cc0f0e7a3b0e1ae82194,ci,"flake8<3.8.0,>=3.6.0",,1,0
openstack%2Fpython-tripleoclient~master~If26234fad0cd982bd7d3dc23c42021b357c6bde9,openstack/python-tripleoclient,master,If26234fad0cd982bd7d3dc23c42021b357c6bde9,Run flake8 using pre-commit,MERGED,2021-01-08 13:27:46.000000000,2021-01-12 00:52:02.000000000,2021-01-12 00:50:02.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 29775}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-01-08 13:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b7db3a45b0986169b06fc38cf6e93d166a98b99a', 'message': 'Run flake8 using pre-commit\n\n- fixes two issues identified by newer flake8\n- upgrades flake8 and keeps it pinned\n- removes hacking as this is no longer needed, as pre-commit does\n  its own pinning.\n- enables us to easily add other linters, pylint would come in\n  follow-up\n\nChange-Id: If26234fad0cd982bd7d3dc23c42021b357c6bde9\n'}, {'number': 2, 'created': '2021-01-08 13:29:00.000000000', 'files': ['test-requirements.txt', 'tripleoclient/utils.py', 'tripleoclient/v2/tripleo_container_image.py', 'setup.cfg', 'tox.ini', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/276bacfb92dd95b2e7f518b68c0d7a9b65c954d7', 'message': 'Run flake8 using pre-commit\n\n- fixes two issues identified by newer flake8\n- upgrades flake8 and keeps it pinned\n- removes hacking as this is no longer needed, as pre-commit does\n  its own pinning.\n- enables us to easily add other linters, pylint would come in\n  follow-up\n\nChange-Id: If26234fad0cd982bd7d3dc23c42021b357c6bde9\nRelated-Bug: #1910543\n'}]",3,769921,276bacfb92dd95b2e7f518b68c0d7a9b65c954d7,16,7,2,24162,,,0,"Run flake8 using pre-commit

- fixes two issues identified by newer flake8
- upgrades flake8 and keeps it pinned
- removes hacking as this is no longer needed, as pre-commit does
  its own pinning.
- enables us to easily add other linters, pylint would come in
  follow-up

Change-Id: If26234fad0cd982bd7d3dc23c42021b357c6bde9
Related-Bug: #1910543
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/21/769921/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tripleoclient/utils.py', 'tripleoclient/v2/tripleo_container_image.py', 'setup.cfg', 'tox.ini', '.pre-commit-config.yaml']",6,b7db3a45b0986169b06fc38cf6e93d166a98b99a,pylint,--- repos: - repo: https://gitlab.com/pycqa/flake8.git rev: 3.8.4 hooks: - id: flake8 language_version: python3 args: ['--config=setup.cfg'] pass_filenames: false ,,27,11
openstack%2Fswift~master~I05aa09064c39517ea80476856412f1b659061b49,openstack/swift,master,I05aa09064c39517ea80476856412f1b659061b49,unit test S3 SigV4Request X-Amz-Content-SHA256 handling,MERGED,2021-01-11 11:41:03.000000000,2021-01-12 00:35:30.000000000,2021-01-12 00:33:53.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-11 11:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9032a4fb399b9973aedcbdc8d5d7e36f5feb0101', 'message': 'unit test S3 SigV4Request X-Amz-Content-SHA256 handling\n\nAdd unit test to verify that upper case UNSIGNED-PAYLOAD is\npreserved in canonical request.\n\nAdd unit test to verify checking of X-Amz-Content-SHA256 for\nzero content-length requests.\n\nChange-Id: I05aa09064c39517ea80476856412f1b659061b49\n'}, {'number': 2, 'created': '2021-01-11 17:40:29.000000000', 'files': ['test/unit/common/middleware/s3api/test_s3request.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a914343830142522cb7e8df75322459c7b049b65', 'message': 'unit test S3 SigV4Request X-Amz-Content-SHA256 handling\n\nAdd unit test to verify that upper case UNSIGNED-PAYLOAD is\npreserved in canonical request.\n\nAdd unit test to verify checking of X-Amz-Content-SHA256 for\nzero content-length requests.\n\nChange-Id: I05aa09064c39517ea80476856412f1b659061b49\n'}]",0,770109,a914343830142522cb7e8df75322459c7b049b65,11,2,2,7847,,,0,"unit test S3 SigV4Request X-Amz-Content-SHA256 handling

Add unit test to verify that upper case UNSIGNED-PAYLOAD is
preserved in canonical request.

Add unit test to verify checking of X-Amz-Content-SHA256 for
zero content-length requests.

Change-Id: I05aa09064c39517ea80476856412f1b659061b49
",git fetch https://review.opendev.org/openstack/swift refs/changes/09/770109/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/middleware/s3api/test_s3request.py'],1,9032a4fb399b9973aedcbdc8d5d7e36f5feb0101,," AccessDenied, SignatureDoesNotMatch, RequestTimeTooSkewed, BadDigest @patch.object(S3Request, '_validate_dates', lambda *a: None) def test_check_signature_sigv4_unsigned_payload(self): environ = { 'HTTP_HOST': 'bucket.s3.test.com', 'REQUEST_METHOD': 'GET'} headers = { 'Authorization': 'AWS4-HMAC-SHA256 ' 'Credential=test/20210104/us-east-1/s3/aws4_request, ' 'SignedHeaders=host;x-amz-content-sha256;x-amz-date,' 'Signature=f721a7941d5b7710344bc62cc45f87e66f4bb1dd00d9075ee61' '5b1a5c72b0f8c', 'X-Amz-Content-SHA256': 'UNSIGNED-PAYLOAD', 'Date': 'Mon, 04 Jan 2021 10:26:23 -0000', 'X-Amz-Date': '20210104T102623Z'} # Virtual hosted-style self.conf.storage_domain = 's3.test.com' req = Request.blank('/', environ=environ, headers=headers) sigv4_req = SigV4Request(req.environ) self.assertTrue( sigv4_req._canonical_request().endswith('UNSIGNED-PAYLOAD')) self.assertTrue(sigv4_req.check_signature('secret')) @patch.object(S3Request, '_validate_dates', lambda *a: None) def test_check_sigv4_req_zero_content_length_sha256(self): # Virtual hosted-style self.conf.storage_domain = 's3.test.com' # bad sha256 environ = { 'HTTP_HOST': 'bucket.s3.test.com', 'REQUEST_METHOD': 'GET'} headers = { 'Authorization': 'AWS4-HMAC-SHA256 ' 'Credential=test/20210104/us-east-1/s3/aws4_request, ' 'SignedHeaders=host;x-amz-content-sha256;x-amz-date,' 'Signature=f721a7941d5b7710344bc62cc45f87e66f4bb1dd00d9075ee61' '5b1a5c72b0f8c', 'X-Amz-Content-SHA256': 'bad', 'Date': 'Mon, 04 Jan 2021 10:26:23 -0000', 'X-Amz-Date': '20210104T102623Z', 'Content-Length': 0, } # lowercase sha256 req = Request.blank('/', environ=environ, headers=headers) self.assertRaises(BadDigest, SigV4Request, req.environ) sha256_of_nothing = hashlib.sha256().hexdigest() headers = { 'Authorization': 'AWS4-HMAC-SHA256 ' 'Credential=test/20210104/us-east-1/s3/aws4_request, ' 'SignedHeaders=host;x-amz-content-sha256;x-amz-date,' 'Signature=d90542e8b4c0d2f803162040a948e8e51db00b62a59ffb16682' 'ef433718fde12', 'X-Amz-Content-SHA256': sha256_of_nothing, 'Date': 'Mon, 04 Jan 2021 10:26:23 -0000', 'X-Amz-Date': '20210104T102623Z', 'Content-Length': 0, } req = Request.blank('/', environ=environ, headers=headers) sigv4_req = SigV4Request(req.environ) self.assertTrue( sigv4_req._canonical_request().endswith(sha256_of_nothing)) self.assertTrue(sigv4_req.check_signature('secret')) # uppercase sha256 headers = { 'Authorization': 'AWS4-HMAC-SHA256 ' 'Credential=test/20210104/us-east-1/s3/aws4_request, ' 'SignedHeaders=host;x-amz-content-sha256;x-amz-date,' 'Signature=4aab5102e58e9e40f331417d322465c24cac68a7ce77260e9bf' '5ce9a6200862b', 'X-Amz-Content-SHA256': sha256_of_nothing.upper(), 'Date': 'Mon, 04 Jan 2021 10:26:23 -0000', 'X-Amz-Date': '20210104T102623Z', 'Content-Length': 0, } req = Request.blank('/', environ=environ, headers=headers) sigv4_req = SigV4Request(req.environ) self.assertTrue( sigv4_req._canonical_request().endswith(sha256_of_nothing.upper())) self.assertTrue(sigv4_req.check_signature('secret')) "," AccessDenied, SignatureDoesNotMatch, RequestTimeTooSkewed",88,1
openstack%2Fneutron~master~Ie4d7f0b85fe8997ea695fb633202c730a31a9b63,openstack/neutron,master,Ie4d7f0b85fe8997ea695fb633202c730a31a9b63,Update path of the ovn extensions doc,MERGED,2021-01-08 09:24:28.000000000,2021-01-12 00:17:35.000000000,2021-01-12 00:15:18.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 09:24:28.000000000', 'files': ['neutron/common/ovn/extensions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a97b20580a4e284f7226bf1cc67586caf3d22fc8', 'message': ""Update path of the ovn extensions doc\n\nIt was changed after migration of the ovn to neutron repo but\npath in the comment wasn't changed.\n\nTrivialFix\n\nChange-Id: Ie4d7f0b85fe8997ea695fb633202c730a31a9b63\n""}]",0,769896,a97b20580a4e284f7226bf1cc67586caf3d22fc8,15,4,1,11975,,,0,"Update path of the ovn extensions doc

It was changed after migration of the ovn to neutron repo but
path in the comment wasn't changed.

TrivialFix

Change-Id: Ie4d7f0b85fe8997ea695fb633202c730a31a9b63
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/769896/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/common/ovn/extensions.py'],1,a97b20580a4e284f7226bf1cc67586caf3d22fc8,fix-ovn-extensions-description,# doc/source/admin/ovn/features.rst and the current release note.,# doc/source/features.rst and the current release note.,1,1
openstack%2Fironic-specs~master~I10e2b232b402ce23e0a690bca4ccd0de87da4ad4,openstack/ironic-specs,master,I10e2b232b402ce23e0a690bca4ccd0de87da4ad4,Add support for anaconda deploy interface,MERGED,2020-08-27 18:16:09.000000000,2021-01-12 00:10:50.000000000,2021-01-12 00:09:07.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 12640}, {'_account_id': 18781}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24245}, {'_account_id': 24828}, {'_account_id': 25733}, {'_account_id': 32369}, {'_account_id': 32370}]","[{'number': 1, 'created': '2020-08-27 18:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/9d781f58990f58fa6b1afc13f9bd18a6bd51e5de', 'message': 'Add support for anaconda deploy interface\n\nThis spec describes implementation of anaconda deploy\ninterface in ironic.\n\nChange-Id: I10e2b232b402ce23e0a690bca4ccd0de87da4ad4\nStory: 2007839\nTask: 40774\n'}, {'number': 2, 'created': '2020-09-01 21:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/96557ef26fdc9ae4dcc993c7ab06edd5d60e00a3', 'message': 'Add support for anaconda deploy interface\n\nThis spec describes implementation of anaconda deploy\ninterface in ironic.\n\nChange-Id: I10e2b232b402ce23e0a690bca4ccd0de87da4ad4\nStory: 2007839\nTask: 40774\n'}, {'number': 3, 'created': '2020-09-04 07:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/a45fcb9bd0866582d08a80a85be44a2befa14194', 'message': 'Add support for anaconda deploy interface\n\nThis spec describes implementation of anaconda deploy\ninterface in ironic.\n\nChange-Id: I10e2b232b402ce23e0a690bca4ccd0de87da4ad4\nStory: 2007839\nTask: 40774\n'}, {'number': 4, 'created': '2020-09-11 03:53:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f96517586e06d78885b94895359c44206443ae60', 'message': 'Add support for anaconda deploy interface\n\nThis spec describes implementation of anaconda deploy\ninterface in ironic.\n\nChange-Id: I10e2b232b402ce23e0a690bca4ccd0de87da4ad4\nStory: 2007839\nTask: 40774\n'}, {'number': 5, 'created': '2020-12-16 02:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/4b5ec3a2b6180c53547d0bca451159fb877bac8f', 'message': 'Add support for anaconda deploy interface\n\nThis spec describes implementation of anaconda deploy\ninterface in ironic.\n\nChange-Id: I10e2b232b402ce23e0a690bca4ccd0de87da4ad4\nStory: 2007839\nTask: 40774\n'}, {'number': 6, 'created': '2020-12-16 02:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/f9c2c057e06e2f914bdcdbc081ac2d006464b74e', 'message': 'Add support for anaconda deploy interface\n\nThis spec describes implementation of anaconda deploy\ninterface in ironic.\n\nChange-Id: I10e2b232b402ce23e0a690bca4ccd0de87da4ad4\nStory: 2007839\nTask: 40774\n'}, {'number': 7, 'created': '2020-12-16 21:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/402f9735e4113248924d6a6f9f54e9293895b9be', 'message': 'Add support for anaconda deploy interface\n\nThis spec describes implementation of anaconda deploy\ninterface in ironic.\n\nChange-Id: I10e2b232b402ce23e0a690bca4ccd0de87da4ad4\nStory: 2007839\nTask: 40774\n'}, {'number': 8, 'created': '2021-01-07 01:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/9ffc417ab9120750a8811c719cb15f5b40b60a1a', 'message': 'Add support for anaconda deploy interface\n\nThis spec describes implementation of anaconda deploy\ninterface in ironic.\n\nChange-Id: I10e2b232b402ce23e0a690bca4ccd0de87da4ad4\nStory: 2007839\nTask: 40774\n'}, {'number': 9, 'created': '2021-01-08 20:31:40.000000000', 'files': ['specs/approved/anaconda-deploy-interface.rst', 'specs/not-implemented/anaconda-deploy-interface.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/a1e51e5b8fe95a5c0445293d562f972790d3839d', 'message': 'Add support for anaconda deploy interface\n\nThis spec describes implementation of anaconda deploy\ninterface in ironic.\n\nChange-Id: I10e2b232b402ce23e0a690bca4ccd0de87da4ad4\nStory: 2007839\nTask: 40774\n'}]",110,748503,a1e51e5b8fe95a5c0445293d562f972790d3839d,53,15,9,12640,,,0,"Add support for anaconda deploy interface

This spec describes implementation of anaconda deploy
interface in ironic.

Change-Id: I10e2b232b402ce23e0a690bca4ccd0de87da4ad4
Story: 2007839
Task: 40774
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/03/748503/6 && git format-patch -1 --stdout FETCH_HEAD,"['specs/approved/anaconda-deploy-interface.rst', 'specs/not-implemented/anaconda-deploy-interface.rst']",2,9d781f58990f58fa6b1afc13f9bd18a6bd51e5de,anaaconda-deploy-driver,../approved/anaconda-deploy-interface.rst,,528,0
openstack%2Fkolla~master~Ibe3d3b7eb9692e84d247ae349d9fb873d5a0c7d8,openstack/kolla,master,Ibe3d3b7eb9692e84d247ae349d9fb873d5a0c7d8,Add proxysql image,ABANDONED,2021-01-11 23:43:25.000000000,2021-01-11 23:50:39.000000000,,[],"[{'number': 1, 'created': '2021-01-11 23:43:25.000000000', 'files': ['docker/proxysql/proxysql_start.sh', 'docker/base/proxysql.repo', 'docker/proxysql/extend_start.sh', 'docker/proxysql/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/proxysql/proxysql_config_sync.py', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/bf7ab5640a7a48f2af9a6b23ee8075ec58b2099b', 'message': 'Add proxysql image\n\nReplacement for MySQL balancing solution\nprovided by haproxy.\n\nChange-Id: I85ebe3b20294cd9dc847a3582053d3e21f6a2216\n\n[1] https://review.opendev.org/c/openstack/kolla-ansible/+/766952\n[2] https://review.opendev.org/c/openstack/kolla-ansible/+/770215\n[3] https://review.opendev.org/c/openstack/kolla-ansible/+/770216\n\nChange-Id: Ibe3d3b7eb9692e84d247ae349d9fb873d5a0c7d8\n'}]",0,770217,bf7ab5640a7a48f2af9a6b23ee8075ec58b2099b,2,0,1,27339,,,0,"Add proxysql image

Replacement for MySQL balancing solution
provided by haproxy.

Change-Id: I85ebe3b20294cd9dc847a3582053d3e21f6a2216

[1] https://review.opendev.org/c/openstack/kolla-ansible/+/766952
[2] https://review.opendev.org/c/openstack/kolla-ansible/+/770215
[3] https://review.opendev.org/c/openstack/kolla-ansible/+/770216

Change-Id: Ibe3d3b7eb9692e84d247ae349d9fb873d5a0c7d8
",git fetch https://review.opendev.org/openstack/kolla refs/changes/17/770217/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/proxysql/proxysql_start.sh', 'docker/base/proxysql.repo', 'docker/proxysql/extend_start.sh', 'docker/proxysql/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/proxysql/proxysql_config_sync.py', 'kolla/common/config.py']",8,bf7ab5640a7a48f2af9a6b23ee8075ec58b2099b,proxysql-image," 'proxysql', 'proxysql', }, 'proxysql-user': { 'uid': 42486, 'gid': 42486, },", },258,4
openstack%2Fkolla~master~I3a446dd4cad569423c78166db4060b487db57e4b,openstack/kolla,master,I3a446dd4cad569423c78166db4060b487db57e4b,Add proxysql image,ABANDONED,2021-01-11 23:48:01.000000000,2021-01-11 23:50:29.000000000,,[],"[{'number': 1, 'created': '2021-01-11 23:48:01.000000000', 'files': ['docker/proxysql/proxysql_start.sh', 'docker/base/proxysql.repo', 'docker/proxysql/extend_start.sh', 'docker/proxysql/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/proxysql/proxysql_config_sync.py', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1388611e8cb748aab4340406f04076985623fb97', 'message': 'Add proxysql image\n\nReplacement for MySQL balancing solution\nprovided by haproxy.\n\nChange-Id: I85ebe3b20294cd9dc847a3582053d3e21f6a2216\n\n[1] https://review.opendev.org/c/openstack/kolla-ansible/+/766952\n[2] https://review.opendev.org/c/openstack/kolla-ansible/+/770215\n[3] https://review.opendev.org/c/openstack/kolla-ansible/+/770216\n\nChange-Id: I3a446dd4cad569423c78166db4060b487db57e4b\n'}]",0,770219,1388611e8cb748aab4340406f04076985623fb97,2,0,1,27339,,,0,"Add proxysql image

Replacement for MySQL balancing solution
provided by haproxy.

Change-Id: I85ebe3b20294cd9dc847a3582053d3e21f6a2216

[1] https://review.opendev.org/c/openstack/kolla-ansible/+/766952
[2] https://review.opendev.org/c/openstack/kolla-ansible/+/770215
[3] https://review.opendev.org/c/openstack/kolla-ansible/+/770216

Change-Id: I3a446dd4cad569423c78166db4060b487db57e4b
",git fetch https://review.opendev.org/openstack/kolla refs/changes/19/770219/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/proxysql/proxysql_start.sh', 'docker/base/proxysql.repo', 'docker/proxysql/extend_start.sh', 'docker/proxysql/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/proxysql/proxysql_config_sync.py', 'kolla/common/config.py']",8,1388611e8cb748aab4340406f04076985623fb97,proxysql-image," 'proxysql', 'proxysql', }, 'proxysql-user': { 'uid': 42486, 'gid': 42486, },", },258,4
openstack%2Fpuppet-openstack-integration~master~Ic9eb5612a1b51a6f68a3f5141514702a80e715a6,openstack/puppet-openstack-integration,master,Ic9eb5612a1b51a6f68a3f5141514702a80e715a6,Updated from Puppet OpenStack modules constraints,MERGED,2021-01-08 06:08:24.000000000,2021-01-11 23:19:26.000000000,2021-01-11 23:19:26.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 06:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0005aeb4b3117175df3a15c94e9b6455b34ac26f', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ic9eb5612a1b51a6f68a3f5141514702a80e715a6\n'}, {'number': 2, 'created': '2021-01-09 06:15:09.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/86b55bf4ef4d6b93b124a97aae46495ac64c60f2', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ic9eb5612a1b51a6f68a3f5141514702a80e715a6\n'}]",0,769870,86b55bf4ef4d6b93b124a97aae46495ac64c60f2,9,3,2,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Ic9eb5612a1b51a6f68a3f5141514702a80e715a6
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/70/769870/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,0005aeb4b3117175df3a15c94e9b6455b34ac26f,openstack/puppet/constraints, :ref => 'v10.9.1', :ref => 'v10.9.0',1,1
openstack%2Fpuppet-neutron~master~I1f2f1a31ca0da0423f407d140aaaf95d9a9035b0,openstack/puppet-neutron,master,I1f2f1a31ca0da0423f407d140aaaf95d9a9035b0,Remove support for plumgrid plugin,MERGED,2021-01-03 08:58:49.000000000,2021-01-11 23:13:55.000000000,2021-01-11 23:12:43.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-03 08:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/cba03aa2fe1b1554770dd02a7b6c8c466895f918', 'message': 'Remove support for plumgrid plugin\n\n... which was deprecated in the previous cycle[1].\n\n[1] 24a5a9aed9bb8dd57adae1ae9315c9fb85e0b6f3\n\nChange-Id: I1f2f1a31ca0da0423f407d140aaaf95d9a9035b0\n'}, {'number': 2, 'created': '2021-01-03 09:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/517901bfd3d96e4a6bdec9a59f9051fe2c86b1f9', 'message': 'Remove support for plumgrid plugin\n\n... which was deprecated in the previous cycle[1].\n\n[1] 24a5a9aed9bb8dd57adae1ae9315c9fb85e0b6f3\n\nChange-Id: I1f2f1a31ca0da0423f407d140aaaf95d9a9035b0\n'}, {'number': 3, 'created': '2021-01-03 11:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/75eb6eca5811c76b8c5b43fdee85340e1df72673', 'message': 'Remove support for plumgrid plugin\n\n... which was deprecated in the previous cycle[1].\n\n[1] 24a5a9aed9bb8dd57adae1ae9315c9fb85e0b6f3\n\nChange-Id: I1f2f1a31ca0da0423f407d140aaaf95d9a9035b0\n'}, {'number': 4, 'created': '2021-01-03 22:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/a9b795443a97f1589c27c12c908b193d834e0799', 'message': 'Remove support for plumgrid plugin\n\n... which was deprecated in the previous cycle[1].\n\n[1] 24a5a9aed9bb8dd57adae1ae9315c9fb85e0b6f3\n\nChange-Id: I1f2f1a31ca0da0423f407d140aaaf95d9a9035b0\n'}, {'number': 5, 'created': '2021-01-04 01:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/b2524d5117f7865cbcf3781acf3c114f716d2a26', 'message': 'Remove support for plumgrid plugin\n\n... which was deprecated in the previous cycle[1].\n\n[1] 24a5a9aed9bb8dd57adae1ae9315c9fb85e0b6f3\n\nChange-Id: I1f2f1a31ca0da0423f407d140aaaf95d9a9035b0\n'}, {'number': 6, 'created': '2021-01-04 01:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/f4c58eb51b81f82f9e4699d7cb7b729f3efbfe5f', 'message': 'Remove support for plumgrid plugin\n\n... which was deprecated in the previous cycle[1].\n\n[1] 24a5a9aed9bb8dd57adae1ae9315c9fb85e0b6f3\n\nChange-Id: I1f2f1a31ca0da0423f407d140aaaf95d9a9035b0\n'}, {'number': 7, 'created': '2021-01-04 01:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/03c66115b663750ea8f578fb2b6e319401c68e44', 'message': 'Remove support for plumgrid plugin\n\n... which was deprecated in the previous cycle[1].\n\n[1] 24a5a9aed9bb8dd57adae1ae9315c9fb85e0b6f3\n\nChange-Id: I1f2f1a31ca0da0423f407d140aaaf95d9a9035b0\n'}, {'number': 8, 'created': '2021-01-04 01:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/0958a3608e58c567a90ad81a24702bd7ec55bece', 'message': 'Remove support for plumgrid plugin\n\n... which was deprecated in the previous cycle[1].\n\n[1] 24a5a9aed9bb8dd57adae1ae9315c9fb85e0b6f3\n\nChange-Id: I1f2f1a31ca0da0423f407d140aaaf95d9a9035b0\n'}, {'number': 9, 'created': '2021-01-04 06:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/adb2ba27dbc0bc042afdf68e7048280c0fcde7d2', 'message': 'Remove support for plumgrid plugin\n\n... which was deprecated in the previous cycle[1].\n\n[1] 24a5a9aed9bb8dd57adae1ae9315c9fb85e0b6f3\n\nChange-Id: I1f2f1a31ca0da0423f407d140aaaf95d9a9035b0\n'}, {'number': 10, 'created': '2021-01-04 06:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/e8a16e1ba6fc2aa03a731243e1c8954e61be3af9', 'message': 'Remove support for plumgrid plugin\n\n... which was deprecated in the previous cycle[1].\n\n[1] 24a5a9aed9bb8dd57adae1ae9315c9fb85e0b6f3\n\nChange-Id: I1f2f1a31ca0da0423f407d140aaaf95d9a9035b0\n'}, {'number': 11, 'created': '2021-01-04 13:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/8bf79f9a86854ed060fd771ab74473db10374dc5', 'message': 'Remove support for plumgrid plugin\n\n... which was deprecated in the previous cycle[1].\n\n[1] 24a5a9aed9bb8dd57adae1ae9315c9fb85e0b6f3\n\nChange-Id: I1f2f1a31ca0da0423f407d140aaaf95d9a9035b0\n'}, {'number': 12, 'created': '2021-01-11 11:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/587ed86a8de5f74a72a2d5a66b3f2a57d016d3ef', 'message': 'Remove support for plumgrid plugin\n\n... which was deprecated in the previous cycle[1].\n\n[1] 24a5a9aed9bb8dd57adae1ae9315c9fb85e0b6f3\n\nChange-Id: I1f2f1a31ca0da0423f407d140aaaf95d9a9035b0\n'}, {'number': 13, 'created': '2021-01-11 14:40:54.000000000', 'files': ['spec/unit/provider/neutron_plugin_plumgrid/ini_setting_spec.rb', 'manifests/init.pp', 'lib/puppet/provider/neutron_plugin_plumgrid/ini_setting.rb', 'manifests/plugins/plumgrid.pp', 'manifests/config.pp', 'spec/classes/neutron_config_spec.rb', 'spec/classes/neutron_plugins_plumgrid_spec.rb', 'lib/puppet/type/neutron_plumlib_plumgrid.rb', 'lib/puppet/provider/neutron_plumlib_plumgrid/ini_setting.rb', 'manifests/params.pp', 'spec/unit/provider/neutron_plumlib_plumgrid/ini_setting_spec.rb', 'spec/unit/type/neutron_plugin_plumgrid_spec.rb', 'lib/puppet/type/neutron_plugin_plumgrid.rb', 'manifests/deps.pp', 'releasenotes/notes/remove-plumgrid-82d978451a5278ae.yaml', 'spec/acceptance/neutron_config_spec.rb', 'spec/unit/type/neutron_plumlib_plumgrid_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/f7c40f7056d16ce69d5e7cce7c5d93794a007a9a', 'message': 'Remove support for plumgrid plugin\n\n... which was deprecated in the previous cycle[1].\n\n[1] 24a5a9aed9bb8dd57adae1ae9315c9fb85e0b6f3\n\nChange-Id: I1f2f1a31ca0da0423f407d140aaaf95d9a9035b0\n'}]",2,769046,f7c40f7056d16ce69d5e7cce7c5d93794a007a9a,36,4,13,9816,,,0,"Remove support for plumgrid plugin

... which was deprecated in the previous cycle[1].

[1] 24a5a9aed9bb8dd57adae1ae9315c9fb85e0b6f3

Change-Id: I1f2f1a31ca0da0423f407d140aaaf95d9a9035b0
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/46/769046/11 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_plugins_plumgrid_spec.rb', 'spec/unit/provider/neutron_plugin_plumgrid/ini_setting_spec.rb', 'lib/puppet/provider/neutron_plugin_plumgrid/ini_setting.rb', 'lib/puppet/provider/neutron_plumlib_plumgrid/ini_setting.rb', 'spec/unit/provider/neutron_plumlib_plumgrid/ini_setting_spec.rb', 'releasenotes/notes/remove-plumgrid-82d978451a5278ae.yaml', 'manifests/plugins/plumgrid.pp', 'manifests/config.pp']",8,cba03aa2fe1b1554770dd02a7b6c8c466895f918,remove-plumgrid,"# [*plugin_plumgrid_config*] # (optional) Manage configuration of plugins/plumgrid/plumgrid.ini # $plugin_plumgrid_config = undef, if $plugin_plumgrid_config != undef { warning('The plugin_plumgrid_config parameter was deprecated and has no effect') } ","# [*plugin_plumgrid_config*] # (optional) Manage configuration of plugins/plumgrid/plumgrid.ini # $plugin_plumgrid_config = {}, validate_legacy(Hash, 'validate_hash', $plugin_plumgrid_config) create_resources('neutron_plugin_plumgrid', $plugin_plumgrid_config)",18,463
openstack%2Fneutron~master~I23c7856efa3968b53608233c05a8ff2491fe68a3,openstack/neutron,master,I23c7856efa3968b53608233c05a8ff2491fe68a3,"Match Linux and Windows ""execute"" signature method",MERGED,2021-01-08 09:51:29.000000000,2021-01-11 23:02:16.000000000,2021-01-11 23:00:31.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 09:51:29.000000000', 'files': ['neutron/agent/windows/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ad1527ff88615add80f7f68f0c74340bfed7836', 'message': 'Match Linux and Windows ""execute"" signature method\n\nRemove ""do_decode"" input parameter from ""utils.execute"" method\nsignature. This input parameter is no longer used.\n\nDespite there is no common API definition for both OS methods\nimplementations, the methods are imported depending on the running OS.\nThat means the signature of the implementations should match.\n\nChange-Id: I23c7856efa3968b53608233c05a8ff2491fe68a3\nStory: #2007686\nTask: #41558\n'}]",0,769899,6ad1527ff88615add80f7f68f0c74340bfed7836,22,4,1,16688,,,0,"Match Linux and Windows ""execute"" signature method

Remove ""do_decode"" input parameter from ""utils.execute"" method
signature. This input parameter is no longer used.

Despite there is no common API definition for both OS methods
implementations, the methods are imported depending on the running OS.
That means the signature of the implementations should match.

Change-Id: I23c7856efa3968b53608233c05a8ff2491fe68a3
Story: #2007686
Task: #41558
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/769899/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/windows/utils.py'],1,6ad1527ff88615add80f7f68f0c74340bfed7836,task/41558," extra_ok_codes=None, run_as_root=False):"," extra_ok_codes=None, run_as_root=False, do_decode=True):",1,1
openstack%2Fnova~stable%2Fvictoria~I8a5035b2fb7d66ca98ee0a936c5c96bc306292b9,openstack/nova,stable/victoria,I8a5035b2fb7d66ca98ee0a936c5c96bc306292b9,DNM: testing minbw new tests,ABANDONED,2020-12-21 18:32:42.000000000,2021-01-11 22:48:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-21 18:32:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/1e03929513c2a6e9b7c7d796d415cc3a733553de', 'message': 'DNM: testing minbw new tests\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/743695\nChange-Id: I8a5035b2fb7d66ca98ee0a936c5c96bc306292b9\n'}]",0,768068,1e03929513c2a6e9b7c7d796d415cc3a733553de,13,1,1,8556,,,0,"DNM: testing minbw new tests

Depends-On: https://review.opendev.org/c/openstack/tempest/+/743695
Change-Id: I8a5035b2fb7d66ca98ee0a936c5c96bc306292b9
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/768068/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1e03929513c2a6e9b7c7d796d415cc3a733553de,,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,# See https://docs.openstack.org/infra/manual/drivers.html#naming-with-zuul-v3,1,1
openstack%2Fnova~master~I515e484ade6c6455f82a3067940a418a0d7d965a,openstack/nova,master,I515e484ade6c6455f82a3067940a418a0d7d965a,api: Drop statistics-style fields from os-hypervisors,MERGED,2020-11-24 17:24:25.000000000,2021-01-11 22:21:53.000000000,2021-01-11 22:19:14.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-11-24 17:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/61df85d8104d4dbe4c22d06ac9a2146ecfc7b0ae', 'message': ""api: Drop statistics-style fields from os-hypervisors\n\nIntroduce API microversion 2.88, which makes the following changes to\na number of 'os-hypervisors'. Specifically, the following fields are\ndropped from both the '/os-hypervisors/detail' (detailed list) and\n'/os-hypervisors/{hypervisor_id}' (show) APIs:\n\n- current_workload\n- cpu_info\n- vcpus\n- vcpus_used\n- free_disk_gb\n- local_gb\n- local_gb_used\n- disk_available_least\n- free_ram_mb\n- memory_mb\n- memory_mb_used\n- running_vms\n\nIn addition, the '/os-hypervisors/statistics' API, which provided a\nsummary of the above stats but for all hypervisors in the deployment, is\ndropped entirely.\n\nPart of blueprint deprecate-os-hypervisors\n\nChange-Id: I515e484ade6c6455f82a3067940a418a0d7d965a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-12-07 12:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4071bc287bac4255ccbef1e36b9cba0fdd95a742', 'message': ""api: Drop statistics-style fields from os-hypervisors\n\nIntroduce API microversion 2.88, which makes the following changes to\na number of 'os-hypervisors'. Specifically, the following fields are\ndropped from both the '/os-hypervisors/detail' (detailed list) and\n'/os-hypervisors/{hypervisor_id}' (show) APIs:\n\n- current_workload\n- cpu_info\n- vcpus\n- vcpus_used\n- free_disk_gb\n- local_gb\n- local_gb_used\n- disk_available_least\n- free_ram_mb\n- memory_mb\n- memory_mb_used\n- running_vms\n\nIn addition, the '/os-hypervisors/statistics' API, which provided a\nsummary of the above stats but for all hypervisors in the deployment, is\ndropped entirely.\n\nPart of blueprint deprecate-os-hypervisors\n\nChange-Id: I515e484ade6c6455f82a3067940a418a0d7d965a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-12-15 17:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4394b01a31095254c0e7bb7b337041eb70e1b0c', 'message': ""api: Drop statistics-style fields from os-hypervisors\n\nIntroduce API microversion 2.88, which makes the following changes to\na number of 'os-hypervisors'. Specifically, the following fields are\ndropped from both the '/os-hypervisors/detail' (detailed list) and\n'/os-hypervisors/{hypervisor_id}' (show) APIs:\n\n- current_workload\n- cpu_info\n- vcpus\n- vcpus_used\n- free_disk_gb\n- local_gb\n- local_gb_used\n- disk_available_least\n- free_ram_mb\n- memory_mb\n- memory_mb_used\n- running_vms\n\nIn addition, the '/os-hypervisors/statistics' API, which provided a\nsummary of the above stats but for all hypervisors in the deployment, is\ndropped entirely.\n\nA small tweak to 'tox.ini' that allows us to share some venvs is\nincluded.\n\nPart of blueprint deprecate-os-hypervisors\n\nChange-Id: I515e484ade6c6455f82a3067940a418a0d7d965a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2021-01-06 11:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b460343061209bb0f851e630606023b020cf5581', 'message': ""api: Drop statistics-style fields from os-hypervisors\n\nIntroduce API microversion 2.88, which makes the following changes to\na number of 'os-hypervisors'. Specifically, the following fields are\ndropped from both the '/os-hypervisors/detail' (detailed list) and\n'/os-hypervisors/{hypervisor_id}' (show) APIs:\n\n- current_workload\n- cpu_info\n- vcpus\n- vcpus_used\n- free_disk_gb\n- local_gb\n- local_gb_used\n- disk_available_least\n- free_ram_mb\n- memory_mb\n- memory_mb_used\n- running_vms\n\nIn addition, the '/os-hypervisors/statistics' API, which provided a\nsummary of the above stats but for all hypervisors in the deployment, is\ndropped entirely.\n\nFinally, the '/os-hypervisors/{hypervisor}/uptime' API, which provided a\nsimilar response to the '/os-hypervisors/{hypervisor}' API but with an\nadditional 'uptime' field, has been removed in favour of including this\nfield in the primary '/os-hypervisors/{hypervisor}' API.\n\nA small tweak to 'tox.ini' that allows us to share some venvs is\nincluded.\n\nPart of blueprint modernize-os-hypervisors-api\n\nChange-Id: I515e484ade6c6455f82a3067940a418a0d7d965a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2021-01-06 12:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0ae1250f0d5cde2bb8502177719d539c5c4fbb6', 'message': ""api: Drop statistics-style fields from os-hypervisors\n\nIntroduce API microversion 2.88, which makes the following changes to\na number of 'os-hypervisors'. Specifically, the following fields are\ndropped from both the '/os-hypervisors/detail' (detailed list) and\n'/os-hypervisors/{hypervisor_id}' (show) APIs:\n\n- current_workload\n- cpu_info\n- vcpus\n- vcpus_used\n- free_disk_gb\n- local_gb\n- local_gb_used\n- disk_available_least\n- free_ram_mb\n- memory_mb\n- memory_mb_used\n- running_vms\n\nIn addition, the '/os-hypervisors/statistics' API, which provided a\nsummary of the above stats but for all hypervisors in the deployment, is\ndropped entirely.\n\nFinally, the '/os-hypervisors/{hypervisor}/uptime' API, which provided a\nsimilar response to the '/os-hypervisors/{hypervisor}' API but with an\nadditional 'uptime' field, has been removed in favour of including this\nfield in the primary '/os-hypervisors/{hypervisor}' API.\n\nA small tweak to 'tox.ini' that allows us to share some venvs is\nincluded.\n\nPart of blueprint modernize-os-hypervisors-api\n\nChange-Id: I515e484ade6c6455f82a3067940a418a0d7d965a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2021-01-06 14:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be6014feb9b3f8366c103e2e64247ca92341e20d', 'message': ""api: Drop statistics-style fields from os-hypervisors\n\nIntroduce API microversion 2.88, which makes the following changes to\na number of 'os-hypervisors'. Specifically, the following fields are\ndropped from both the '/os-hypervisors/detail' (detailed list) and\n'/os-hypervisors/{hypervisor_id}' (show) APIs:\n\n- current_workload\n- cpu_info\n- vcpus\n- vcpus_used\n- free_disk_gb\n- local_gb\n- local_gb_used\n- disk_available_least\n- free_ram_mb\n- memory_mb\n- memory_mb_used\n- running_vms\n\nIn addition, the '/os-hypervisors/statistics' API, which provided a\nsummary of the above stats but for all hypervisors in the deployment, is\ndropped entirely.\n\nFinally, the '/os-hypervisors/{hypervisor}/uptime' API, which provided a\nsimilar response to the '/os-hypervisors/{hypervisor}' API but with an\nadditional 'uptime' field, has been removed in favour of including this\nfield in the primary '/os-hypervisors/{hypervisor}' API.\n\nA small tweak to 'tox.ini' that allows us to share some venvs is\nincluded.\n\nPart of blueprint modernize-os-hypervisors-api\n\nChange-Id: I515e484ade6c6455f82a3067940a418a0d7d965a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2021-01-07 17:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1c2bab0d99e224dc5086a1ae9f4d4ebf6aa9582c', 'message': ""api: Drop statistics-style fields from os-hypervisors\n\nIntroduce API microversion 2.88, which makes the following changes to\na number of 'os-hypervisors'. Specifically, the following fields are\ndropped from both the '/os-hypervisors/detail' (detailed list) and\n'/os-hypervisors/{hypervisor_id}' (show) APIs:\n\n- current_workload\n- cpu_info\n- vcpus\n- vcpus_used\n- free_disk_gb\n- local_gb\n- local_gb_used\n- disk_available_least\n- free_ram_mb\n- memory_mb\n- memory_mb_used\n- running_vms\n\nIn addition, the '/os-hypervisors/statistics' API, which provided a\nsummary of the above stats but for all hypervisors in the deployment, is\ndropped entirely.\n\nFinally, the '/os-hypervisors/{hypervisor}/uptime' API, which provided a\nsimilar response to the '/os-hypervisors/{hypervisor}' API but with an\nadditional 'uptime' field, has been removed in favour of including this\nfield in the primary '/os-hypervisors/{hypervisor}' API.\n\nA small tweak to 'tox.ini' that allows us to share some venvs is\nincluded.\n\nPart of blueprint modernize-os-hypervisors-api\n\nChange-Id: I515e484ade6c6455f82a3067940a418a0d7d965a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2021-01-08 10:10:54.000000000', 'files': ['api-ref/source/parameters.yaml', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.88/hypervisors-with-servers-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.88/hypervisors-without-servers-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.88/hypervisors-search-resp.json.tpl', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.88/hypervisors-detail-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.88/hypervisors-show-with-servers-resp.json.tpl', 'doc/api_samples/os-hypervisors/v2.88/hypervisors-show-with-servers-resp.json', 'doc/api_samples/os-hypervisors/v2.88/hypervisors-show-resp.json', 'doc/api_samples/os-hypervisors/v2.88/hypervisors-search-resp.json', 'releasenotes/notes/microversion-2-88-7063636ed9c11a5d.yaml', 'doc/api_samples/versions/v21-version-get-resp.json', 'api-ref/source/os-hypervisors.inc', 'nova/api/openstack/compute/hypervisors.py', 'nova/api/openstack/compute/rest_api_version_history.rst', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py', 'doc/api_samples/os-hypervisors/v2.88/hypervisors-list-resp.json', 'doc/api_samples/os-hypervisors/v2.88/hypervisors-with-servers-resp.json', 'nova/tests/functional/api_sample_tests/test_hypervisors.py', 'doc/api_samples/os-hypervisors/v2.88/hypervisors-detail-with-servers-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.88/hypervisors-detail-with-servers-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.88/hypervisors-list-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.88/hypervisors-show-resp.json.tpl', 'doc/api_samples/os-hypervisors/v2.88/hypervisors-detail-resp.json', 'nova/tests/functional/test_servers.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/1f67ce24961a156dba56cacc75cbdd0800a7feee', 'message': ""api: Drop statistics-style fields from os-hypervisors\n\nIntroduce API microversion 2.88, which makes the following changes to\na number of 'os-hypervisors'. Specifically, the following fields are\ndropped from both the '/os-hypervisors/detail' (detailed list) and\n'/os-hypervisors/{hypervisor_id}' (show) APIs:\n\n- current_workload\n- cpu_info\n- vcpus\n- vcpus_used\n- free_disk_gb\n- local_gb\n- local_gb_used\n- disk_available_least\n- free_ram_mb\n- memory_mb\n- memory_mb_used\n- running_vms\n\nIn addition, the '/os-hypervisors/statistics' API, which provided a\nsummary of the above stats but for all hypervisors in the deployment, is\ndropped entirely.\n\nFinally, the '/os-hypervisors/{hypervisor}/uptime' API, which provided a\nsimilar response to the '/os-hypervisors/{hypervisor}' API but with an\nadditional 'uptime' field, has been removed in favour of including this\nfield in the primary '/os-hypervisors/{hypervisor}' API.\n\nA small tweak to 'tox.ini' that allows us to share some venvs is\nincluded.\n\nPart of blueprint modernize-os-hypervisors-api\n\nChange-Id: I515e484ade6c6455f82a3067940a418a0d7d965a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",55,764040,1f67ce24961a156dba56cacc75cbdd0800a7feee,80,6,8,15334,,,0,"api: Drop statistics-style fields from os-hypervisors

Introduce API microversion 2.88, which makes the following changes to
a number of 'os-hypervisors'. Specifically, the following fields are
dropped from both the '/os-hypervisors/detail' (detailed list) and
'/os-hypervisors/{hypervisor_id}' (show) APIs:

- current_workload
- cpu_info
- vcpus
- vcpus_used
- free_disk_gb
- local_gb
- local_gb_used
- disk_available_least
- free_ram_mb
- memory_mb
- memory_mb_used
- running_vms

In addition, the '/os-hypervisors/statistics' API, which provided a
summary of the above stats but for all hypervisors in the deployment, is
dropped entirely.

Finally, the '/os-hypervisors/{hypervisor}/uptime' API, which provided a
similar response to the '/os-hypervisors/{hypervisor}' API but with an
additional 'uptime' field, has been removed in favour of including this
field in the primary '/os-hypervisors/{hypervisor}' API.

A small tweak to 'tox.ini' that allows us to share some venvs is
included.

Part of blueprint modernize-os-hypervisors-api

Change-Id: I515e484ade6c6455f82a3067940a418a0d7d965a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/764040/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/api_samples/os-hypervisors/v2.88/hypervisors-uptime-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.88/hypervisors-with-servers-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.88/hypervisors-without-servers-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.88/hypervisors-search-resp.json.tpl', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.88/hypervisors-detail-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.88/hypervisors-show-with-servers-resp.json.tpl', 'doc/api_samples/os-hypervisors/v2.88/hypervisors-show-with-servers-resp.json', 'doc/api_samples/os-hypervisors/v2.88/hypervisors-show-resp.json', 'doc/api_samples/os-hypervisors/v2.88/hypervisors-search-resp.json', 'doc/api_samples/versions/v21-version-get-resp.json', 'nova/api/openstack/compute/hypervisors.py', 'nova/api/openstack/compute/rest_api_version_history.rst', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py', 'doc/api_samples/os-hypervisors/v2.88/hypervisors-list-resp.json', 'doc/api_samples/os-hypervisors/v2.88/hypervisors-with-servers-resp.json', 'nova/tests/functional/api_sample_tests/test_hypervisors.py', 'doc/api_samples/os-hypervisors/v2.88/hypervisors-detail-with-servers-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.88/hypervisors-detail-with-servers-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.88/hypervisors-list-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.88/hypervisors-uptime-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-hypervisors/v2.88/hypervisors-show-resp.json.tpl', 'doc/api_samples/os-hypervisors/v2.88/hypervisors-detail-resp.json', 'tox.ini']",25,61df85d8104d4dbe4c22d06ac9a2146ecfc7b0ae,bp/modernize-os-hypervisors-api,envdir = {toxworkdir}/functional,,424,87
openstack%2Fpuppet-nova~stable%2Fussuri~I3fe97b4d5c9c2bb3709e37c561af353b859495ef,openstack/puppet-nova,stable/ussuri,I3fe97b4d5c9c2bb3709e37c561af353b859495ef,Fix ignored unit tests,MERGED,2021-01-11 11:54:28.000000000,2021-01-11 22:10:15.000000000,2021-01-11 22:10:15.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-11 11:54:28.000000000', 'files': ['spec/classes/nova_cell_v2_map_instances_spec.rb', 'spec/classes/nova_cron_purge_shadow_tables_spec.rb', 'spec/unit/type/nova_cell_v2_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4e8c5f5ddf5ead35cbf289a2d51efbf1bce9bac4', 'message': 'Fix ignored unit tests\n\nUnit test files should be named like *_spec.rb.\n\nChange-Id: I3fe97b4d5c9c2bb3709e37c561af353b859495ef\n(cherry picked from commit 5b135ed130906546980c603b90b3648b80479ff7)\n(cherry picked from commit 6d1e127b015daef162ea8a40c1ed79dec9daef5c)\n'}]",0,770081,4e8c5f5ddf5ead35cbf289a2d51efbf1bce9bac4,8,3,1,9816,,,0,"Fix ignored unit tests

Unit test files should be named like *_spec.rb.

Change-Id: I3fe97b4d5c9c2bb3709e37c561af353b859495ef
(cherry picked from commit 5b135ed130906546980c603b90b3648b80479ff7)
(cherry picked from commit 6d1e127b015daef162ea8a40c1ed79dec9daef5c)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/81/770081/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_cell_v2_map_instances_spec.rb', 'spec/classes/nova_cron_purge_shadow_tables_spec.rb', 'spec/unit/type/nova_cell_v2_spec.rb']",3,4e8c5f5ddf5ead35cbf289a2d51efbf1bce9bac4,ignored-ut-stable/victoria-stable/ussuri,,,4,4
openstack%2Fpuppet-barbican~stable%2Fussuri~I3323204aed1217cc2b0dff9d2955519a6035f7e9,openstack/puppet-barbican,stable/ussuri,I3323204aed1217cc2b0dff9d2955519a6035f7e9,Fix ignored unit tests,MERGED,2021-01-11 11:54:39.000000000,2021-01-11 22:03:21.000000000,2021-01-11 22:03:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-11 11:54:39.000000000', 'files': ['spec/unit/provider/barbican_config/openstackconfig_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/ed1d0e8eaddde028a7df473ef30f81add44c22c6', 'message': 'Fix ignored unit tests\n\nUnit test files should be named like *_spec.rb.\n\nChange-Id: I3323204aed1217cc2b0dff9d2955519a6035f7e9\n(cherry picked from commit 78b23dbf5d693f18fc72a369586eef3280adc44a)\n(cherry picked from commit e124b1c89b71ca486bfd378ab080d9c26022982c)\n'}]",0,770082,ed1d0e8eaddde028a7df473ef30f81add44c22c6,7,3,1,9816,,,0,"Fix ignored unit tests

Unit test files should be named like *_spec.rb.

Change-Id: I3323204aed1217cc2b0dff9d2955519a6035f7e9
(cherry picked from commit 78b23dbf5d693f18fc72a369586eef3280adc44a)
(cherry picked from commit e124b1c89b71ca486bfd378ab080d9c26022982c)
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/82/770082/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/unit/provider/barbican_config/openstackconfig_spec.rb'],1,ed1d0e8eaddde028a7df473ef30f81add44c22c6,ignored-ut-stable/victoria-stable/ussuri,provider_class = Puppet::Type.type(:barbican_config).provider(:openstackconfig),provider_class = Puppet::Type.type(:barbican_config).provider(:ruby),1,1
openstack%2Fdevstack~stable%2Fvictoria~Id1db503c8842477b0716fb75e953240f7982e74b,openstack/devstack,stable/victoria,Id1db503c8842477b0716fb75e953240f7982e74b,Setting available_features for stable branch,MERGED,2021-01-08 08:55:42.000000000,2021-01-11 22:02:01.000000000,2021-01-11 22:00:38.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-08 08:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2a6e2d9d381333c645410d57a5d282c90888f40e', 'message': 'Setting available_features for stable branch\n\navailable_features for Neutron tempest tests is default to ""all"" and\nused from Victoria to enable/disable tests that has no API extension.\nIt is added here to make sure that stable gating will not execute these\ntests (like for IPv6 metadata in neutron-tempest-plugin or updating\nmin_bw QoS values for port already attached to VMs)\n\nChange-Id: Id1db503c8842477b0716fb75e953240f7982e74b\nRelated-Bug: #1882804\n'}, {'number': 2, 'created': '2021-01-11 10:01:58.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e34a8720bfb263a0b4d585929ef9f035c3ba0f36', 'message': 'Setting available_features for stable branch\n\navailable_features for Neutron tempest tests is default to ""all"" and\nused from Victoria to enable/disable tests that has no API extension.\nIt is added here to make sure that stable gating will not execute these\ntests (like for IPv6 metadata in neutron-tempest-plugin or updating\nmin_bw QoS values for port already attached to VMs)\n\nChange-Id: Id1db503c8842477b0716fb75e953240f7982e74b\nRelated-Bug: #1882804\n'}]",5,769885,e34a8720bfb263a0b4d585929ef9f035c3ba0f36,18,3,2,8313,,,0,"Setting available_features for stable branch

available_features for Neutron tempest tests is default to ""all"" and
used from Victoria to enable/disable tests that has no API extension.
It is added here to make sure that stable gating will not execute these
tests (like for IPv6 metadata in neutron-tempest-plugin or updating
min_bw QoS values for port already attached to VMs)

Change-Id: Id1db503c8842477b0716fb75e953240f7982e74b
Related-Bug: #1882804
",git fetch https://review.opendev.org/openstack/devstack refs/changes/85/769885/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,2a6e2d9d381333c645410d57a5d282c90888f40e,support-move-ops-with-qos-ports-ussur," # This feature list for Neutron used from Victoria, the aim is to skip tests # for features in Neutron that has no API extension, or can't be detected # otherwise from the API. # It is added here to avoid stable gating to run these tests (like for IPv6 metadata # in neutron-tempest-plugin or updating min_bw QoS values for ports already attached # to VMs). local network_available_features=""ipv6_metadata"" iniset $TEMPEST_CONFIG network-feature-enabled available_features $network_available_features",,9,0
openstack%2Fdevstack-plugin-ceph~master~Ibcda268021b236bc049e21b7ddd9e99a7c24dace,openstack/devstack-plugin-ceph,master,Ibcda268021b236bc049e21b7ddd9e99a7c24dace,Add tempest.api.identity to tempest blacklist,MERGED,2020-12-24 11:04:12.000000000,2021-01-11 21:54:45.000000000,2021-01-11 21:52:51.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-12-24 11:04:12.000000000', 'files': ['tempest_blacklist.txt'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/14370639a36f8db776467045c69d2927d6aad429', 'message': 'Add tempest.api.identity to tempest blacklist\n\nAs with tempest.api.network the identity tests have nothing to do with\nceph so lets blacklist them and hopefully reduce runtime.\n\nChange-Id: Ibcda268021b236bc049e21b7ddd9e99a7c24dace\n'}]",0,768465,14370639a36f8db776467045c69d2927d6aad429,10,3,1,10135,,,0,"Add tempest.api.identity to tempest blacklist

As with tempest.api.network the identity tests have nothing to do with
ceph so lets blacklist them and hopefully reduce runtime.

Change-Id: Ibcda268021b236bc049e21b7ddd9e99a7c24dace
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/65/768465/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest_blacklist.txt'],1,14370639a36f8db776467045c69d2927d6aad429,,# Skip network and identity API tests since they have no bearing on a Ceph backend. tempest.api.network tempest.api.identity ,# Skip network API tests since they have no bearing on a Ceph backend. tempest.api.network,3,2
openstack%2Fcinder-tempest-plugin~master~I28be989819910828698be94ace17ae402dfc3a28,openstack/cinder-tempest-plugin,master,I28be989819910828698be94ace17ae402dfc3a28,Test fix for bug #1904440,ABANDONED,2020-11-16 20:53:21.000000000,2021-01-11 21:19:05.000000000,,"[{'_account_id': 4523}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-16 20:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/d038f1bf50bcb3e9f4a0d2d743ff8f6f904b4ba0', 'message': 'Test fix for bug #1904440\n\nDepends-On: https://review.opendev.org/#/c/737884/\nDepends-On: https://review.opendev.org/#/c/762884/\nChange-Id: I28be989819910828698be94ace17ae402dfc3a28\n'}, {'number': 2, 'created': '2020-11-17 12:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/d3b421035c79df5fe179500d662e0db2969ba5f6', 'message': 'Test fix for bug #1904440\n\nDepends-On: https://review.opendev.org/#/c/737884/\nDepends-On: https://review.opendev.org/#/c/762884/\nChange-Id: I28be989819910828698be94ace17ae402dfc3a28\n'}, {'number': 3, 'created': '2020-11-18 13:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/8dbfc180282fe58b6a2263289062416638975a22', 'message': 'Test fix for bug #1904440\n\nDepends-On: https://review.opendev.org/#/c/737884/\nDepends-On: https://review.opendev.org/#/c/762884/\nChange-Id: I28be989819910828698be94ace17ae402dfc3a28\n'}, {'number': 4, 'created': '2020-11-18 14:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/239a42620e97a51fa7045f6a24f7d24f2271d00f', 'message': 'Test fix for bug #1904440\n\nDepends-On: https://review.opendev.org/#/c/737884/\nDepends-On: https://review.opendev.org/#/c/762884/\nChange-Id: I28be989819910828698be94ace17ae402dfc3a28\n'}, {'number': 5, 'created': '2020-11-18 19:19:02.000000000', 'files': ['cinder_tempest_plugin/cinder_clients.py', 'README.rst'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/8b1f8d58533ddffd3028f7c50d4b14de55672bdb', 'message': 'Test fix for bug #1904440\n\nDepends-On: I846b96ef925c34162cf462da91d854ceacabe022\nDepends-On: I8c2c58092da4d5801642036a96079da45eafb290\nChange-Id: I28be989819910828698be94ace17ae402dfc3a28\n'}]",1,762917,8b1f8d58533ddffd3028f7c50d4b14de55672bdb,12,3,5,4523,,,0,"Test fix for bug #1904440

Depends-On: I846b96ef925c34162cf462da91d854ceacabe022
Depends-On: I8c2c58092da4d5801642036a96079da45eafb290
Change-Id: I28be989819910828698be94ace17ae402dfc3a28
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/17/762917/5 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,d038f1bf50bcb3e9f4a0d2d743ff8f6f904b4ba0,encrypted-source-volid-test,,,1,0
openstack%2Fmanila~stable%2Fvictoria~If139927730071448abc04e1ea7ebb615749e7e3d,openstack/manila,stable/victoria,If139927730071448abc04e1ea7ebb615749e7e3d,Delete unavailable py2 package,MERGED,2020-12-29 02:26:14.000000000,2021-01-11 21:02:10.000000000,2021-01-11 21:00:35.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-29 02:26:14.000000000', 'files': ['doc/source/install/install-controller-debian.rst', 'doc/source/install/install-controller-rdo.rst', 'doc/source/install/install-share-debian.rst', 'doc/source/install/install-share-ubuntu.rst', 'doc/source/install/install-share-rdo.rst', 'doc/source/install/install-controller-ubuntu.rst', 'doc/source/contributor/development.environment.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/d761b111b4a789f73dda41c518a380af56a3664b', 'message': 'Delete unavailable py2 package\n\nThe openstack Ussuri and Victoria versions no longer support the\nCentos7 and pyrhon2 environment packages. Correct the missing\nproblems in the latest document\n\nChange-Id: If139927730071448abc04e1ea7ebb615749e7e3d\n(cherry picked from commit bab899068c14d83c5a3c476167f6bdfadf23e8e5)\n'}]",0,768415,d761b111b4a789f73dda41c518a380af56a3664b,8,2,1,31506,,,0,"Delete unavailable py2 package

The openstack Ussuri and Victoria versions no longer support the
Centos7 and pyrhon2 environment packages. Correct the missing
problems in the latest document

Change-Id: If139927730071448abc04e1ea7ebb615749e7e3d
(cherry picked from commit bab899068c14d83c5a3c476167f6bdfadf23e8e5)
",git fetch https://review.opendev.org/openstack/manila refs/changes/15/768415/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/install-controller-debian.rst', 'doc/source/install/install-controller-rdo.rst', 'doc/source/install/install-share-debian.rst', 'doc/source/install/install-share-rdo.rst', 'doc/source/install/install-share-ubuntu.rst', 'doc/source/install/install-controller-ubuntu.rst', 'doc/source/contributor/development.environment.rst']",7,d761b111b4a789f73dda41c518a380af56a3664b,,"- On RHEL8/Centos8:: sudo dnf install openssl-devel python3-pip mysql-devel \ python3-tox python3-devel python3 If using RHEL and yum reports ""No package python3-pip available"" and ""No","- On Fedora 21/RHEL7/Centos7:: sudo yum install python-devel openssl-devel python-pip mysql-devel \ python-tox python3-devel python3 If using RHEL and yum reports ""No package python-pip available"" and ""No",10,10
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ic2edabb7f1bd0caf4a5550d03f60fab7c8354d65,openstack/tripleo-heat-templates,stable/ussuri,Ic2edabb7f1bd0caf4a5550d03f60fab7c8354d65,Adding key_size option on the certificate creation,MERGED,2021-01-06 13:22:06.000000000,2021-01-11 20:11:33.000000000,2021-01-09 08:23:04.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8866}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-01-06 13:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/17b239a981714d867d059b81ef807e829edfc442', 'message': ""Adding key_size option on the certificate creation\n\nAdding the ability to specifies the private key size\nused when creating the certificate. We have defined the\ndefault value the same as we have before 2048 bits.\nAlso, it'll be able to override the key_size value\nper service.\n\nDepends-on: I4da96f2164cf1d136f9471f1d6251bdd8cfd2d0b\nChange-Id: Ic2edabb7f1bd0caf4a5550d03f60fab7c8354d65\n(cherry picked from commit 97609775297417620ede0436c80156456a6c41da)\n""}, {'number': 2, 'created': '2021-01-06 15:11:21.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-certmonger.yaml', 'deployment/database/mysql-base.yaml', 'deployment/haproxy/haproxy-internal-tls-certmonger.j2.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-grafana.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/octavia/providers/ovn-provider-config.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/apache/apache-baremetal-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/977fc27fae120779da5e191b2a1cc49a74446d0d', 'message': ""Adding key_size option on the certificate creation\n\nAdding the ability to specifies the private key size\nused when creating the certificate. We have defined the\ndefault value the same as we have before 2048 bits.\nAlso, it'll be able to override the key_size value\nper service.\n\nDepends-on: I4da96f2164cf1d136f9471f1d6251bdd8cfd2d0b\nChange-Id: Ic2edabb7f1bd0caf4a5550d03f60fab7c8354d65\n(cherry picked from commit 97609775297417620ede0436c80156456a6c41da)\n""}]",0,769510,977fc27fae120779da5e191b2a1cc49a74446d0d,19,8,2,9914,,,0,"Adding key_size option on the certificate creation

Adding the ability to specifies the private key size
used when creating the certificate. We have defined the
default value the same as we have before 2048 bits.
Also, it'll be able to override the key_size value
per service.

Depends-on: I4da96f2164cf1d136f9471f1d6251bdd8cfd2d0b
Change-Id: Ic2edabb7f1bd0caf4a5550d03f60fab7c8354d65
(cherry picked from commit 97609775297417620ede0436c80156456a6c41da)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/769510/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/database/redis-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-certmonger.yaml', 'deployment/database/mysql-base.yaml', 'deployment/haproxy/haproxy-internal-tls-certmonger.j2.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-grafana.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/octavia/providers/ovn-provider-config.yaml', 'deployment/metrics/qdr-container-puppet.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/apache/apache-baremetal-puppet.j2.yaml']",22,17b239a981714d867d059b81ef807e829edfc442,key_size_cert-stable/victoria-stable/ussuri," CertificateKeySize: type: string default: '2048' description: Specifies the private key size used when creating the certificate. ApacheCertificateKeySize: type: string default: '' description: Override the private key size used when creating the certificate for this service key_size_override_unset: {equals: [{get_param: ApacheCertificateKeySize}, '']} key_size: if: - key_size_override_unset - {get_param: CertificateKeySize} - {get_param: ApacheCertificateKeySize}",,477,0
openstack%2Fopenstack-helm-infra~master~Ia5922433b1bafdd23719269273ef25a6ccf92b52,openstack/openstack-helm-infra,master,Ia5922433b1bafdd23719269273ef25a6ccf92b52,[ceph-client] Set target size ratio for pg autoscaling,ABANDONED,2020-03-25 19:24:24.000000000,2021-01-11 19:28:36.000000000,,"[{'_account_id': 8863}, {'_account_id': 17119}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 29937}, {'_account_id': 32190}, {'_account_id': 32433}]","[{'number': 1, 'created': '2020-03-25 19:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a08068db8725d4e6746fa7897fd4c13842e5ce7f', 'message': '[DNM][ceph-client] Set target size ratio for pg autoscaling\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 2, 'created': '2020-09-15 16:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/582a1f045facf96664e3fcab235c3fdff6650180', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 3, 'created': '2020-09-22 18:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1e6d73d515d3f57fad80ef72da3a73b6966b8bc2', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nSet the target size ratio for pg autoscaling so\nto reduce the amount of scaling up and possibly\nscaling down (merging) that is required.\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 4, 'created': '2020-09-28 16:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9f32f501740e888b7709bfba025529477387c84a', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nSet the target size ratio for pg autoscaling so\nto reduce the amount of scaling up and possibly\nscaling down (merging) that is required.\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 5, 'created': '2020-09-28 16:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e1e3b5af56be70ea224ad08d9340c85578d03f47', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nSet the target size ratio for pg autoscaling so\nto reduce the amount of scaling up and possibly\nscaling down (merging) that is required.\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 6, 'created': '2020-09-29 16:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/afdbe642e91b4a5e622deb07f679c31a8474467a', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nSet the target size ratio for pg autoscaling so\nto reduce the amount of scaling up and possibly\nscaling down (merging) that is required.\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 7, 'created': '2020-09-29 18:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9c6a433d7668b1a3163812896da641ac2993008a', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nSet the target size ratio for pg autoscaling so\nto reduce the amount of scaling up and possibly\nscaling down (merging) that is required.\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 8, 'created': '2020-09-30 15:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7fbab2ccb9a705568fbec33c2bfff47613bb342e', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nSet the target size ratio for pg autoscaling so\nto reduce the amount of scaling up and possibly\nscaling down (merging) that is required.\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 9, 'created': '2020-10-23 19:28:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/009525578a6ab6582c830601a619c909cc010bfc', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nSet the target size ratio for pg autoscaling so\nto reduce the amount of scaling up and possibly\nscaling down (merging) that is required.\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 10, 'created': '2020-10-23 19:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/65f150bae1e33a0af005bc307fd5499eddd6bfa4', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nSet the target size ratio for pg autoscaling to reduce\nreduce the amount of scaling up and possibly scaling\ndown (merging) that is required.\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 11, 'created': '2020-10-23 19:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/22f0357a74ac294f9e22369988b4788c851fa774', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nSet the target size ratio for pg autoscaling to reduce\nreduce the amount of scaling up and possibly scaling\ndown (merging) that is required.\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 12, 'created': '2020-10-24 00:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/78e63c9bc40c78cc79425fdc72a5ba60709458db', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nSet the target size ratio for pg autoscaling to reduce\nreduce the amount of scaling up and possibly scaling\ndown (merging) that is required.\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 13, 'created': '2020-10-28 17:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3154b804d613f91318c19d1ba1939c699bf16999', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nSet the target size ratio for pg autoscaling to reduce\nreduce the amount of scaling up and possibly scaling\ndown (merging) that is required.\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 14, 'created': '2020-10-29 13:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a440f49961bf4d94298bfd619c51ade2ac59ee25', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nSet the target size ratio for pg autoscaling to reduce\nreduce the amount of scaling up and possibly scaling\ndown (merging) that is required.\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 15, 'created': '2020-11-03 15:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/747915ce89193a0b2931d7354085f8f94e5d86c5', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nSet the target size ratio for pg autoscaling to reduce\nreduce the amount of scaling up and possibly scaling\ndown (merging) that is required.\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 16, 'created': '2020-11-06 18:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/de56bfb8698b64fb3d48a9239d93f9f20bfb22f2', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nSet the target size ratio for pg autoscaling to reduce\nreduce the amount of scaling up and possibly scaling\ndown (merging) that is required.\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 17, 'created': '2020-11-09 14:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5daf471a0a4480f68020e3c50e67c4c4d0eca2c1', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nSet the target size ratio for pg autoscaling to reduce\nreduce the amount of scaling up and possibly scaling\ndown (merging) that is required.\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 18, 'created': '2020-11-09 21:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/200147d5bea8ac6ed11c3473e5156a66de8310ad', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nSet the target size ratio for pg autoscaling to reduce\nreduce the amount of scaling up and possibly scaling\ndown (merging) that is required.\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 19, 'created': '2020-11-10 15:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b626f8dae0735877c74817a63958446878a12645', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nSet the target size ratio for pg autoscaling to reduce\nreduce the amount of scaling up and possibly scaling\ndown (merging) that is required.\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 20, 'created': '2020-11-10 15:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a405b5f6e9c7a67a595f0ba83fc459ee477b5484', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nSet the target size ratio for pg autoscaling to reduce\nreduce the amount of scaling up and possibly scaling\ndown (merging) that is required.\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 21, 'created': '2020-11-10 20:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/90b886f783524a6da72419a175ca1ce32ff42b95', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nSet the target size ratio for pg autoscaling to reduce\nreduce the amount of scaling up and possibly scaling\ndown (merging) that is required.\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 22, 'created': '2020-11-10 20:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/82044322a823e13772f28cd02cc18269ede8ed14', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nSet the target size ratio for pg autoscaling to reduce\nreduce the amount of scaling up and possibly scaling\ndown (merging) that is required.\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 23, 'created': '2020-12-01 15:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9ff958ff24a3523c7c1958d6062854a39c55d6ad', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nSet the target size ratio for pg autoscaling to reduce\nreduce the amount of scaling up and possibly scaling\ndown (merging) that is required.\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 24, 'created': '2020-12-02 15:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7d534125aa220ef97c32f209eecbc66dd7c160fb', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nSet the target size ratio for pg autoscaling to reduce\nreduce the amount of scaling up and possibly scaling\ndown (merging) that is required.\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 25, 'created': '2020-12-04 19:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fcc0c317c4e937f0f7f6ac5b29ef5c816d42f51a', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nSet the target size ratio for pg autoscaling to reduce\nreduce the amount of scaling up and possibly scaling\ndown (merging) that is required.\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}, {'number': 26, 'created': '2021-01-11 15:17:50.000000000', 'files': ['ceph-client/templates/bin/pool/_init.sh.tpl', 'ceph-client/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/912121c27cd767e12e67bae15c1644c38c0a8019', 'message': '[ceph-client] Set target size ratio for pg autoscaling\n\nSet the target size ratio for pg autoscaling to reduce\nreduce the amount of scaling up and possibly scaling\ndown (merging) that is required.\n\nChange-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52\n'}]",3,715042,912121c27cd767e12e67bae15c1644c38c0a8019,77,8,26,18511,,,0,"[ceph-client] Set target size ratio for pg autoscaling

Set the target size ratio for pg autoscaling to reduce
reduce the amount of scaling up and possibly scaling
down (merging) that is required.

Change-Id: Ia5922433b1bafdd23719269273ef25a6ccf92b52
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/42/715042/21 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/templates/bin/pool/_init.sh.tpl'],1,a08068db8725d4e6746fa7897fd4c13842e5ce7f,," TOTAL_DATA_PERCENT=$4 POOL_PLACEMENT_GROUPS=$5 POOL_CRUSH_RULE=$6 POOL_PROTECTION=$7 TARGET_SIZE_RATIO=$(python -c ""print((float($TOTAL_DATA_PERCENT) / 100.0))"") ceph --cluster ""${CLUSTER}"" osd pool set ""${POOL_NAME}"" target_size_ratio ""${TARGET_SIZE_RATIO}"" POOL_PLACEMENT_GROUPS=$(/tmp/pool-calc.py ${POOL_REPLICATION} ${TOTAL_OSDS} ${TOTAL_DATA_PERCENT} ${TARGET_PG_PER_OSD}) create_pool ""${POOL_APPLICATION}"" ""${POOL_NAME}"" ""${POOL_REPLICATION}"" ""${TOTAL_DATA_PERCENT}"" ""${POOL_PLACEMENT_GROUPS}"" ""${POOL_CRUSH_RULE}"" ""${POOL_PROTECTION}"""," POOL_PLACEMENT_GROUPS=$4 POOL_CRUSH_RULE=$5 POOL_PROTECTION=$6 ceph --cluster ""${CLUSTER}"" osd pool set ""${POOL_NAME}"" ""pg_num"" ""${POOL_PLACEMENT_GROUPS}"" # POOL_PLACEMENT_GROUPS=$(/tmp/pool-calc.py ${POOL_REPLICATION} ${TOTAL_OSDS} ${TOTAL_DATA_PERCENT} ${TARGET_PG_PER_OSD}) # This is a workaround for a pg merging bug in ceph. The only reason this works is because the # pg_autoscaler is set to work unconditionally. This will need to change once the autoscaler is optional. POOL_PLACEMENT_GROUPS=4 create_pool ""${POOL_APPLICATION}"" ""${POOL_NAME}"" ""${POOL_REPLICATION}"" ""${POOL_PLACEMENT_GROUPS}"" ""${POOL_CRUSH_RULE}"" ""${POOL_PROTECTION}""",8,9
openstack%2Fnetworking-hyperv~master~I3a3a1d1f50237a68574375a8742174a4519f2cc4,openstack/networking-hyperv,master,I3a3a1d1f50237a68574375a8742174a4519f2cc4,Add doc/requirements,MERGED,2021-01-07 14:54:58.000000000,2021-01-11 19:19:11.000000000,2021-01-11 19:17:34.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 14:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/6250e7e2a0d18176c2bf1d24ac29afa567b1243a', 'message': ""Add doc/requirements\n\nWe need to specify doc requirements in doc/requirements.txt\nto avoid problems with the pip resolver [1] for the release team [2][3].\nRemoving specific doc requirements from test-requirements.txt.\n\nThe problem here is that this repos haven't doc/requirements.txt file\nand by default in this case zuul will use the test-requirements.txt file\nto pull requirements [4].\n\nThis requirements file contains extra requirements like flake8 that\ncollided with those allowed in our job environment and so the new pip\nresolver fails to install these requirements and the job exits in error.\n\nThis project meet the conditions leading to the bug.\n\n[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html\n[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36\n\nChange-Id: I3a3a1d1f50237a68574375a8742174a4519f2cc4\n""}, {'number': 2, 'created': '2021-01-08 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/12c36808116fb871fa736ed78b8ab0e9679649b9', 'message': ""Add doc/requirements\n\nWe need to specify doc requirements in doc/requirements.txt\nto avoid problems with the pip resolver [1] for the release team [2][3].\nRemoving specific doc requirements from test-requirements.txt.\n\nThe problem here is that this repos haven't doc/requirements.txt file\nand by default in this case zuul will use the test-requirements.txt file\nto pull requirements [4].\n\nThis requirements file contains extra requirements like flake8 that\ncollided with those allowed in our job environment and so the new pip\nresolver fails to install these requirements and the job exits in error.\n\nThis project meet the conditions leading to the bug.\n\n[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html\n[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36\n\nChange-Id: I3a3a1d1f50237a68574375a8742174a4519f2cc4\n""}, {'number': 3, 'created': '2021-01-11 11:46:28.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/1f6462a76e7c3f8fc57bf7b1d7d0fc3d39910935', 'message': ""Add doc/requirements\n\nWe need to specify doc requirements in doc/requirements.txt\nto avoid problems with the pip resolver [1] for the release team [2][3].\nRemoving specific doc requirements from test-requirements.txt.\n\nThe problem here is that this repos haven't doc/requirements.txt file\nand by default in this case zuul will use the test-requirements.txt file\nto pull requirements [4].\n\nThis requirements file contains extra requirements like flake8 that\ncollided with those allowed in our job environment and so the new pip\nresolver fails to install these requirements and the job exits in error.\n\nThis project meet the conditions leading to the bug.\n\nWhile at it, we're dropping indirect dependencies from lower-constraints.txt.\n\n[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html\n[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36\n\nChange-Id: I3a3a1d1f50237a68574375a8742174a4519f2cc4\n""}]",0,769758,1f6462a76e7c3f8fc57bf7b1d7d0fc3d39910935,13,3,3,28522,,,0,"Add doc/requirements

We need to specify doc requirements in doc/requirements.txt
to avoid problems with the pip resolver [1] for the release team [2][3].
Removing specific doc requirements from test-requirements.txt.

The problem here is that this repos haven't doc/requirements.txt file
and by default in this case zuul will use the test-requirements.txt file
to pull requirements [4].

This requirements file contains extra requirements like flake8 that
collided with those allowed in our job environment and so the new pip
resolver fails to install these requirements and the job exits in error.

This project meet the conditions leading to the bug.

While at it, we're dropping indirect dependencies from lower-constraints.txt.

[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html
[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36

Change-Id: I3a3a1d1f50237a68574375a8742174a4519f2cc4
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/58/769758/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,6250e7e2a0d18176c2bf1d24ac29afa567b1243a,lower_const,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txtdeps = {[testenv:docs]deps},,7,4
openstack%2Fswift~master~If75803648169f85b854c3d5d8784aaebbd93805b,openstack/swift,master,If75803648169f85b854c3d5d8784aaebbd93805b,Refactor reconstructor probe tests,MERGED,2021-01-11 14:02:10.000000000,2021-01-11 19:06:10.000000000,2021-01-11 19:03:40.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-11 14:02:10.000000000', 'files': ['test/probe/common.py', 'test/probe/test_reconstructor_rebuild.py', 'test/probe/test_reconstructor_revert.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/128f1995088d11e6d41902271b683750fb2e770e', 'message': 'Refactor reconstructor probe tests\n\nRefactor the reconstructor probe test to share common setup and helper\nmethods.\n\nChange-Id: If75803648169f85b854c3d5d8784aaebbd93805b\n'}]",0,770124,128f1995088d11e6d41902271b683750fb2e770e,8,2,1,7847,,,0,"Refactor reconstructor probe tests

Refactor the reconstructor probe test to share common setup and helper
methods.

Change-Id: If75803648169f85b854c3d5d8784aaebbd93805b
",git fetch https://review.opendev.org/openstack/swift refs/changes/24/770124/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/probe/common.py', 'test/probe/test_reconstructor_rebuild.py', 'test/probe/test_reconstructor_revert.py']",3,128f1995088d11e6d41902271b683750fb2e770e,p-ssync-non-durable," self.assert_direct_get_fails(onode, opart, 507) # this node can't serve the data any more self.assert_direct_get_fails(onodes[2], opart, 507) _headers, etag = self.proxy_get() self.assert_direct_get_succeeds(onode, opart) self.assert_direct_get_fails(hnode, opart, 404) _headers, actual_etag = self.proxy_get() self.assertEqual(etag, actual_etag) _hdrs, reverted_fragment_etag = self.direct_get(hnode, opart) _hdrs, handoff_fragment_etag = self.direct_get(node, opart) self.direct_get(primary_node, opart)[1]) _hdrs, rebuilt_fragment_etag = self.direct_get(partner, opart) self.direct_get(partner, opart)[1])","import uuidfrom swift.common.storage_policy import EC_POLICY from swift.common.manager import Manager from swift.common.utils import md5 def setUp(self): super(TestReconstructorRevert, self).setUp() self.container_name = 'container-%s' % uuid.uuid4() self.object_name = 'object-%s' % uuid.uuid4() # sanity self.assertEqual(self.policy.policy_type, EC_POLICY) self.reconstructor = Manager([""object-reconstructor""]) def proxy_get(self): # GET object headers, body = client.get_object(self.url, self.token, self.container_name, self.object_name, resp_chunk_size=64 * 2 ** 10) resp_checksum = md5(usedforsecurity=False) for chunk in body: resp_checksum.update(chunk) return resp_checksum.hexdigest() def direct_get(self, node, part): req_headers = {'X-Backend-Storage-Policy-Index': int(self.policy)} headers, data = direct_client.direct_get_object( node, part, self.account, self.container_name, self.object_name, headers=req_headers, resp_chunk_size=64 * 2 ** 20) hasher = md5(usedforsecurity=False) for chunk in data: hasher.update(chunk) return hasher.hexdigest() try: self.direct_get(onode, opart) except direct_client.DirectClientException as err: self.assertEqual(err.http_status, 507) else: self.fail('Node data on %r was not fully destroyed!' % (onode,)) # this node can't servce the data any more try: self.direct_get(onodes[2], opart) except direct_client.DirectClientException as err: self.assertEqual(err.http_status, 507) else: self.fail('Node data on %r was not fully destroyed!' % (onode,)) etag = self.proxy_get() self.direct_get(onode, opart) try: self.direct_get(hnode, opart) except direct_client.DirectClientException as err: self.assertEqual(err.http_status, 404) else: self.fail('Node data on %r was not fully destroyed!' % (hnode,)) self.assertEqual(etag, self.proxy_get()) reverted_fragment_etag = self.direct_get(hnode, opart) handoff_fragment_etag = self.direct_get(node, opart) self.direct_get(primary_node, opart)) rebuilt_fragment_etag = self.direct_get(partner, opart) self.direct_get(partner, opart))",128,158
openstack%2Ftempest~master~Id4b383f03be4b7d699a00a9ceac798eccb880265,openstack/tempest,master,Id4b383f03be4b7d699a00a9ceac798eccb880265,Create default network for TestServerAdvancedOps,ABANDONED,2020-04-02 01:28:36.000000000,2021-01-11 18:51:23.000000000,,"[{'_account_id': 4690}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-04-02 01:28:36.000000000', 'files': ['tempest/scenario/test_server_advanced_ops.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2fec4d95ba058d6b208153e7e40a11c4b3d3004f', 'message': 'Create default network for TestServerAdvancedOps\n\nNoticed another gate failure with:\n\n  {""code"": 409, ""message"": ""Multiple possible networks found, use a\n   Network ID to be more specific.""}\n\nso adding create_default_network = True to the test class.\n\nPartial-Bug: #1844568\n\n[1] https://bugs.launchpad.net/tempest/+bug/1844568/comments/29\n\nChange-Id: Id4b383f03be4b7d699a00a9ceac798eccb880265\n'}]",3,716809,2fec4d95ba058d6b208153e7e40a11c4b3d3004f,10,7,1,4690,,,0,"Create default network for TestServerAdvancedOps

Noticed another gate failure with:

  {""code"": 409, ""message"": ""Multiple possible networks found, use a
   Network ID to be more specific.""}

so adding create_default_network = True to the test class.

Partial-Bug: #1844568

[1] https://bugs.launchpad.net/tempest/+bug/1844568/comments/29

Change-Id: Id4b383f03be4b7d699a00a9ceac798eccb880265
",git fetch https://review.opendev.org/openstack/tempest refs/changes/09/716809/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_server_advanced_ops.py'],1,2fec4d95ba058d6b208153e7e40a11c4b3d3004f,bug/1844568, create_default_network = True ,,2,0
openstack%2Ftripleo-quickstart~master~I0783342022112ebacdb7f068f5d9b0bb8d62d12d,openstack/tripleo-quickstart,master,I0783342022112ebacdb7f068f5d9b0bb8d62d12d,DNM - Retry connections to rdo trunk,ABANDONED,2021-01-07 16:57:31.000000000,2021-01-11 18:49:26.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-07 16:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b2d17bb6f803b2eaaf5ae14c0eca12c3d9082b87', 'message': 'DNM - Retry connections to rdo trunk\n\nTiming out with ipa\n\nChange-Id: I0783342022112ebacdb7f068f5d9b0bb8d62d12d\n'}, {'number': 2, 'created': '2021-01-07 17:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/65c7861cd3df5c062ac267e6339031abaffd0281', 'message': 'DNM - Retry connections to rdo trunk\n\nTiming out with ipa\n\nChange-Id: I0783342022112ebacdb7f068f5d9b0bb8d62d12d\n'}, {'number': 3, 'created': '2021-01-10 23:03:50.000000000', 'files': ['zuul.d/layout.yaml', 'config/release/tripleo-ci/CentOS-8/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7ce46c36dfce44ec7f164c35d13dd428184afd95', 'message': 'DNM - Retry connections to rdo trunk\n\nTiming out with ipa\n\nChange-Id: I0783342022112ebacdb7f068f5d9b0bb8d62d12d\n'}]",0,769799,7ce46c36dfce44ec7f164c35d13dd428184afd95,14,2,3,9976,,,0,"DNM - Retry connections to rdo trunk

Timing out with ipa

Change-Id: I0783342022112ebacdb7f068f5d9b0bb8d62d12d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/99/769799/2 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/master.yml'],1,b2d17bb6f803b2eaaf5ae14c0eca12c3d9082b87,curl-retry," rdo_dlrn=`curl --silent --retry 5 https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/${DLRN_PATH_TAG_NEWEST}/delorean.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | grep ""component/tripleo"" | cut -d= -f2`"," rdo_dlrn=`curl --silent https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/${DLRN_PATH_TAG_NEWEST}/delorean.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | grep ""component/tripleo"" | cut -d= -f2`",1,1
openstack%2Fironic~master~Ib6e0efd3266e4fb2c5aaf67ef2dfdcc76e6be998,openstack/ironic,master,Ib6e0efd3266e4fb2c5aaf67ef2dfdcc76e6be998,"Rewrite existing ACL tests with ddt, yaml",MERGED,2020-12-16 23:11:41.000000000,2021-01-11 18:37:33.000000000,2021-01-11 18:33:31.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-16 23:11:41.000000000', 'files': ['ironic/tests/unit/api/test_acl.py', 'ironic/tests/unit/api/test_acl_basic.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5ee7185f91eca0f8699e694321ef97677bb5c53d', 'message': 'Rewrite existing ACL tests with ddt, yaml\n\nFor secure-rbac there will need to be a way of testing every endpoint\nand method with multiple scopes and roles. This change uses the\nexisting ACL tests to show how this might be done by defining the\ntests with YAML. This is a minimal implementation, a follow-up would\ninclude:\n- other method verbs\n- other kinds of assert (such as assert response list length)\n- a mechanism to skip tests so we can pre-generate stubs for every\n  endpoint/method\n- tests for every endpoint/method with the existing (soon to be\n  deprecated) roles\n\nChange-Id: Ib6e0efd3266e4fb2c5aaf67ef2dfdcc76e6be998\n'}]",6,767434,5ee7185f91eca0f8699e694321ef97677bb5c53d,9,3,1,4571,,,0,"Rewrite existing ACL tests with ddt, yaml

For secure-rbac there will need to be a way of testing every endpoint
and method with multiple scopes and roles. This change uses the
existing ACL tests to show how this might be done by defining the
tests with YAML. This is a minimal implementation, a follow-up would
include:
- other method verbs
- other kinds of assert (such as assert response list length)
- a mechanism to skip tests so we can pre-generate stubs for every
  endpoint/method
- tests for every endpoint/method with the existing (soon to be
  deprecated) roles

Change-Id: Ib6e0efd3266e4fb2c5aaf67ef2dfdcc76e6be998
",git fetch https://review.opendev.org/openstack/ironic refs/changes/34/767434/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/test_acl.py', 'ironic/tests/unit/api/test_acl_basic.yaml']",2,5ee7185f91eca0f8699e694321ef97677bb5c53d,secure-rbac,non_authenticated: path: &node_path '/v1/nodes/{node_uuid}' assert_status: 401 authenticated: path: *node_path headers: X-Auth-Token: &admin_token '4562138218392831' assert_dict_contains: uuid: '{node_uuid}' driver: 'fake-hardware' non_admin: path: *node_path headers: X-Auth-Token: &member_token '4562138218392832' assert_status: 403 non_admin_with_admin_header: path: *node_path headers: X-Auth-Token: *member_token X-Roles: admin assert_status: 403 public_api: path: / assert_status: 200 public_api_v1: path: /v1 assert_status: 200 public_api_v1_slash: path: /v1/ assert_status: 200 public_api_v1_json: path: /v1.json assert_status: 200 public_api_v1_xml: path: /v1.xml assert_status: 404,,82,56
openstack%2Fironic~master~I6ef3e6e36b96106faf4581509d9219e5c535a6d8,openstack/ironic,master,I6ef3e6e36b96106faf4581509d9219e5c535a6d8,Register all hardware_interfaces together,MERGED,2020-12-01 09:14:40.000000000,2021-01-11 18:35:55.000000000,2021-01-11 18:33:14.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-01 09:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ad469834aa18901c02ece38d7373d1ec1e1f1e2a', 'message': 'WIP: Delay setting conductor online\n\nSet the conductor online after we have register hardare\ninterfaces, to prevent each driver comming online one\nat a time.\n\nChange-Id: I6ef3e6e36b96106faf4581509d9219e5c535a6d8\n'}, {'number': 2, 'created': '2020-12-01 09:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c7784da05725e11567433b4fe7b292fb86916eac', 'message': 'WIP: Delay setting conductor online\n\nSet the conductor online after we have register hardare\ninterfaces, to prevent each driver comming online one\nat a time.\n\nChange-Id: I6ef3e6e36b96106faf4581509d9219e5c535a6d8\n'}, {'number': 3, 'created': '2020-12-10 17:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a2d5bcfb642d422f1e4b9024145e4923606852c3', 'message': 'WIP: Register all hardware_interfaces together\n\nPrevent each driver comming online one at a time. So that\n/driver returns nothign until all interfaces are registered\n\nStory: #2008423\nTask: #41368\n\nChange-Id: I6ef3e6e36b96106faf4581509d9219e5c535a6d8\n'}, {'number': 4, 'created': '2020-12-23 14:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/90a232a7b361b99daaec3dca67f85dc53fc53afd', 'message': 'Register all hardware_interfaces together\n\nPrevent each driver comming online one at a time. So that\n/driver returns nothign until all interfaces are registered\n\nStory: #2008423\nTask: #41368\n\nChange-Id: I6ef3e6e36b96106faf4581509d9219e5c535a6d8\n'}, {'number': 5, 'created': '2021-01-04 16:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/498d5790f8a92179e9ec9185e64b2fecd63c6283', 'message': 'Register all hardware_interfaces together\n\nPrevent each driver comming online one at a time. So that\n/driver returns nothign until all interfaces are registered\n\nStory: #2008423\nTask: #41368\n\nChange-Id: I6ef3e6e36b96106faf4581509d9219e5c535a6d8\n'}, {'number': 6, 'created': '2021-01-06 16:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9e0be1dda1b70d336594dd42e604f91ef9b13419', 'message': 'Register all hardware_interfaces together\n\nPrevent each driver comming online one at a time. So that\n/driver returns nothign until all interfaces are registered\n\nStory: #2008423\nTask: #41368\n\nChange-Id: I6ef3e6e36b96106faf4581509d9219e5c535a6d8\n'}, {'number': 7, 'created': '2021-01-08 15:17:07.000000000', 'files': ['ironic/objects/conductor.py', 'releasenotes/notes/register_hardware_interfaces_together-7b458a59f5e8f41f.yaml', 'ironic/common/exception.py', 'ironic/tests/unit/conductor/test_base_manager.py', 'ironic/tests/unit/db/test_conductor.py', 'ironic/tests/unit/conductor/test_rpcapi.py', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/objects/test_conductor.py', 'ironic/conductor/base_manager.py', 'ironic/tests/unit/api/controllers/v1/test_driver.py', 'ironic/tests/unit/common/test_hash_ring.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7d85b35c8425f10a2fff64dfc82008a93c3a7b98', 'message': 'Register all hardware_interfaces together\n\nPrevent each driver comming online one at a time. So that\n/driver returns nothign until all interfaces are registered\n\nStory: #2008423\nTask: #41368\n\nChange-Id: I6ef3e6e36b96106faf4581509d9219e5c535a6d8\n'}]",15,764911,7d85b35c8425f10a2fff64dfc82008a93c3a7b98,41,4,7,1926,,,0,"Register all hardware_interfaces together

Prevent each driver comming online one at a time. So that
/driver returns nothign until all interfaces are registered

Story: #2008423
Task: #41368

Change-Id: I6ef3e6e36b96106faf4581509d9219e5c535a6d8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/11/764911/7 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/db/sqlalchemy/api.py', 'ironic/conductor/base_manager.py']",2,ad469834aa18901c02ece38d7373d1ec1e1f1e2a,, # always set online and updated_at fields now that hardware # interfaces are registered self.conductor.touch() ,,4,4
openstack%2Fovsdbapp~master~I46230928e316f3d2a1310e649dfa955a0bcf0cbf,openstack/ovsdbapp,master,I46230928e316f3d2a1310e649dfa955a0bcf0cbf,"Fix NB API definition ""lb_add"" method signature",MERGED,2021-01-04 11:25:19.000000000,2021-01-11 18:29:00.000000000,2021-01-11 18:27:32.000000000,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-04 11:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/6556aed78c6a0148f7cb975cf7e87df8aa9a2073', 'message': 'Fix NB API definition ""lb_add"" method signature\n\nInclude ""lb"" and ""**columns"" in ""lb_add"" method signature, defined in\nthe NB API.\n\nChange-Id: I46230928e316f3d2a1310e649dfa955a0bcf0cbf\n'}, {'number': 2, 'created': '2021-01-07 10:42:38.000000000', 'files': ['ovsdbapp/schema/ovn_northbound/api.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/cefb678d028468c55216abfbc1072e3ceca16fd1', 'message': 'Fix NB API definition ""lb_add"" method signature\n\nInclude ""lb"" and ""**columns"" in ""lb_add"" method signature, defined in\nthe NB API.\n\nChange-Id: I46230928e316f3d2a1310e649dfa955a0bcf0cbf\n'}]",0,769129,cefb678d028468c55216abfbc1072e3ceca16fd1,14,3,2,16688,,,0,"Fix NB API definition ""lb_add"" method signature

Include ""lb"" and ""**columns"" in ""lb_add"" method signature, defined in
the NB API.

Change-Id: I46230928e316f3d2a1310e649dfa955a0bcf0cbf
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/29/769129/2 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/schema/ovn_northbound/api.py'],1,6556aed78c6a0148f7cb975cf7e87df8aa9a2073,fix_lb_add_api_signature," def lb_add(self, lb, vip, ips, protocol=const.PROTO_TCP, may_exist=False, **columns): :param columns: Additional columns to directly set on the load balancer"," def lb_add(self, vip, ips, protocol=const.PROTO_TCP, may_exist=False):",4,1
openstack%2Fbifrost~master~I2c323a91cd3859632dd283b3b03cf78095e523ba,openstack/bifrost,master,I2c323a91cd3859632dd283b3b03cf78095e523ba,Update APT metadata before install debootstrap,MERGED,2021-01-04 21:55:06.000000000,2021-01-11 18:21:45.000000000,2021-01-11 18:20:20.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-01-04 21:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6871ccbad9b73e96038d71793d519b2baf9f1262', 'message': 'Update APT metadata before install debootstrap\n\nThere are some scenearios where the Debian package metadata is not\nupdated and it cannot install the debootstrap package. This change\nguarantees that information has been updated.\n\nChange-Id: I2c323a91cd3859632dd283b3b03cf78095e523ba\n'}, {'number': 2, 'created': '2021-01-08 18:58:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/63944ce6559683cf24a3d959b084d8499dbb7394', 'message': 'Update APT metadata before install debootstrap\n\nThere are some scenearios where the Debian package metadata is not\nupdated and it cannot install the debootstrap package. This change\nguarantees that information has been updated.\n\nChange-Id: I2c323a91cd3859632dd283b3b03cf78095e523ba\n'}, {'number': 3, 'created': '2021-01-11 09:18:07.000000000', 'files': ['playbooks/roles/bifrost-create-dib-image/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/491edf30f32703a118a43ffe301d6aabddd9975b', 'message': 'Update APT metadata before install debootstrap\n\nThere are some scenearios where the Debian package metadata is not\nupdated and it cannot install the debootstrap package. This change\nguarantees that information has been updated.\n\nChange-Id: I2c323a91cd3859632dd283b3b03cf78095e523ba\n'}]",2,769219,491edf30f32703a118a43ffe301d6aabddd9975b,17,4,3,8726,,,0,"Update APT metadata before install debootstrap

There are some scenearios where the Debian package metadata is not
updated and it cannot install the debootstrap package. This change
guarantees that information has been updated.

Change-Id: I2c323a91cd3859632dd283b3b03cf78095e523ba
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/19/769219/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-create-dib-image/tasks/main.yml'],1,6871ccbad9b73e96038d71793d519b2baf9f1262,, apt: update_cache: yes, package:,2,1
openstack%2Fopenstack-ansible-os_tacker~master~I1dd906a82e3963d2b4f0497570195885abab0530,openstack/openstack-ansible-os_tacker,master,I1dd906a82e3963d2b4f0497570195885abab0530,Use global service variables,MERGED,2021-01-08 16:58:23.000000000,2021-01-11 18:16:56.000000000,2021-01-11 18:15:14.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-08 16:58:23.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/74db1fd74799c03f815237d787785430102b4db5', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: I1dd906a82e3963d2b4f0497570195885abab0530\n'}]",0,769960,74db1fd74799c03f815237d787785430102b4db5,12,3,1,28619,,,0,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: I1dd906a82e3963d2b4f0497570195885abab0530
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/60/769960/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,74db1fd74799c03f815237d787785430102b4db5,osa/service_variables,"tacker_ceilometer_enabled: ""{{ (groups['ceilometer_all'] is defined) and (groups['ceilometer_all'] | length > 0) }}""tacker_package_state: ""{{ package_state | default('latest') }}""tacker_galera_port: ""{{ galera_port | default('3306') }}""tacker_service_region: ""{{ service_region | default('RegionOne') }}""tacker_service_in_ldap: ""{{ service_ldap_backend_enabled | default(False) }}""","tacker_ceilometer_enabled: Falsetacker_package_state: ""latest"" tacker_pip_package_state: ""latest""tacker_galera_port: 3306tacker_service_region: RegionOnetacker_service_in_ldap: false",5,6
openstack%2Fswift~master~I473664042215ce4ab92617cd71056451a00b64a3,openstack/swift,master,I473664042215ce4ab92617cd71056451a00b64a3,obj: Include devices in per-worker logger prefixes,NEW,2021-01-08 21:23:09.000000000,2021-01-11 18:16:16.000000000,,"[{'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 21:23:09.000000000', 'files': ['swift/obj/replicator.py', 'swift/obj/reconstructor.py', 'test/unit/obj/test_replicator.py', 'test/unit/obj/test_reconstructor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/511c7247879642d7672d12f895582fda91a1b582', 'message': 'obj: Include devices in per-worker logger prefixes\n\nChange-Id: I473664042215ce4ab92617cd71056451a00b64a3\n'}]",1,769993,511c7247879642d7672d12f895582fda91a1b582,6,3,1,15343,,,0,"obj: Include devices in per-worker logger prefixes

Change-Id: I473664042215ce4ab92617cd71056451a00b64a3
",git fetch https://review.opendev.org/openstack/swift refs/changes/93/769993/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/replicator.py', 'swift/obj/reconstructor.py', 'test/unit/obj/test_replicator.py', 'test/unit/obj/test_reconstructor.py']",4,511c7247879642d7672d12f895582fda91a1b582,," prefix = ""[worker 2/4 pid=20641 devices=sda,sdb] """," prefix = ""[worker 2/4 pid=20641] """,29,21
openstack%2Fironic~master~Ib847dbfe96072cfe4137388ba88ef133bd7ab186,openstack/ironic,master,Ib847dbfe96072cfe4137388ba88ef133bd7ab186,Support configdrive when doing ramdisk deploy with redfish-virtual-media,MERGED,2020-11-26 11:56:44.000000000,2021-01-11 18:09:14.000000000,2021-01-11 17:28:39.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-11-26 11:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/91472b0e50f6d1e7e963c56ed2bddf9d96065690', 'message': '[WIP] Support configdrive with ramdisk vmedia deploy\n\nChange-Id: Ib847dbfe96072cfe4137388ba88ef133bd7ab186\n'}, {'number': 2, 'created': '2020-12-02 15:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1c30b7977850689bb849fb583aa7e96740a3c401', 'message': ""Support configdrive when doing ramdisk deploy with redfish-virtual-media\n\nWhen using Redfish virtual media, it's possible to connect a configdrive\nvia a free USB slot when the ramdisk deploy is used.\n\nStory: #2008380\nTask: #41302\nChange-Id: Ib847dbfe96072cfe4137388ba88ef133bd7ab186\n""}, {'number': 3, 'created': '2020-12-23 15:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/94add423241834f80ff9c9616c95f97be731ec0a', 'message': ""Support configdrive when doing ramdisk deploy with redfish-virtual-media\n\nWhen using Redfish virtual media, it's possible to connect a configdrive\nvia a free USB slot when the ramdisk deploy is used.\n\nStory: #2008380\nTask: #41302\nChange-Id: Ib847dbfe96072cfe4137388ba88ef133bd7ab186\n""}, {'number': 4, 'created': '2020-12-23 17:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6fcba39089979a6e6a8e25d6680d615a4ee0e303', 'message': ""[WIP] Support configdrive when doing ramdisk deploy with redfish-virtual-media\n\nWhen using Redfish virtual media, it's possible to connect a configdrive\nvia a free USB slot when the ramdisk deploy is used.\n\nStory: #2008380\nTask: #41302\nChange-Id: Ib847dbfe96072cfe4137388ba88ef133bd7ab186\n""}, {'number': 5, 'created': '2020-12-23 17:30:24.000000000', 'files': ['releasenotes/notes/ramdisk-configdrive-142149339dd00b47.yaml', 'doc/source/admin/drivers/redfish.rst', 'ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/tests/unit/drivers/third_party_driver_mock_specs.py', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'doc/source/admin/ramdisk-boot.rst', 'ironic/drivers/modules/image_utils.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'ironic/drivers/modules/redfish/boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/06a1d38fc12eb09772383ffa954a78d96e52f6e1', 'message': ""Support configdrive when doing ramdisk deploy with redfish-virtual-media\n\nWhen using Redfish virtual media, it's possible to connect a configdrive\nvia a free USB slot when the ramdisk deploy is used.\n\nUsing Swift as configdrive storage is not supported in this case yet.\n\nStory: #2008380\nTask: #41302\nChange-Id: Ib847dbfe96072cfe4137388ba88ef133bd7ab186\n""}]",3,764333,06a1d38fc12eb09772383ffa954a78d96e52f6e1,23,4,5,10239,,,0,"Support configdrive when doing ramdisk deploy with redfish-virtual-media

When using Redfish virtual media, it's possible to connect a configdrive
via a free USB slot when the ramdisk deploy is used.

Using Swift as configdrive storage is not supported in this case yet.

Story: #2008380
Task: #41302
Change-Id: Ib847dbfe96072cfe4137388ba88ef133bd7ab186
",git fetch https://review.opendev.org/openstack/ironic refs/changes/33/764333/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/image_utils.py', 'ironic/drivers/modules/redfish/boot.py']",2,91472b0e50f6d1e7e963c56ed2bddf9d96065690,ramdisk-configdrive," configdrive = node.instance_info.get('configdrive') if configdrive and boot_option == 'ramdisk': eject_vmedia(task, sushy.VIRTUAL_MEDIA_USBSTICK) cd_ref = image_utils.prepare_disk_image(task, configdrive, prefix='configdrive') try: _insert_vmedia(task, cd_ref, sushy.VIRTUAL_MEDIA_USBSTICK) except exception.InvalidParameterValue: raise exception.InstanceDeployFailure( _('Cannot attach configdrive for node %s: no suitable ' 'virtual USB slot has been found') % node.uuid) ",,56,0
openstack%2Fopenstack-ansible-os_glance~master~Idec510b7f2302b6db2fe5aba599e3c258043fee0,openstack/openstack-ansible-os_glance,master,Idec510b7f2302b6db2fe5aba599e3c258043fee0,Use global service variables,MERGED,2021-01-08 14:32:22.000000000,2021-01-11 18:02:41.000000000,2021-01-11 18:01:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-08 14:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/64969f745a486722379f40371be16dcc6f25f2bb', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: Idec510b7f2302b6db2fe5aba599e3c258043fee0\n'}, {'number': 2, 'created': '2021-01-08 17:44:21.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/6c148e0b1caa129d029346f9bbc8e1b870fcb2d0', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: Idec510b7f2302b6db2fe5aba599e3c258043fee0\n'}]",0,769929,6c148e0b1caa129d029346f9bbc8e1b870fcb2d0,16,3,2,28619,,,0,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: Idec510b7f2302b6db2fe5aba599e3c258043fee0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/29/769929/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,64969f745a486722379f40371be16dcc6f25f2bb,osa/service_variables,"glance_install_method: ""{{ service_install_method | default('source') }}""# Set the package install state for distribution packagesglance_package_state: ""{{ package_state | default('latest') }}""glance_ceilometer_enabled: ""{{ (groups['ceilometer_all'] is defined) and (groups['ceilometer_all'] | length > 0) }}""glance_default_store: ""{{ ((groups['swift_all'] is defined) and (groups['swift_all'] | length > 0)) | ternary('swift', 'file') }}""glance_galera_port: ""{{ galera_port | default('3306') }}""glance_service_region: ""{{ service_region | default('RegionOne') }}""glance_service_in_ldap: ""{{ service_ldap_backend_enabled | default(False) }}""","glance_install_method: ""source""# Set the package install state for distribution and pip packagesglance_package_state: ""latest"" glance_pip_package_state: ""latest""glance_ceilometer_enabled: Falseglance_default_store: fileglance_galera_port: 3306glance_service_region: RegionOneglance_service_in_ldap: false",8,9
openstack%2Fironic-lib~stable%2Fvictoria~If435ed0efe034d4bb99f0281ebc73840c0f38fb3,openstack/ironic-lib,stable/victoria,If435ed0efe034d4bb99f0281ebc73840c0f38fb3,Fix other out of memory error for qemu-img convert,MERGED,2020-12-14 18:28:35.000000000,2021-01-11 17:55:27.000000000,2021-01-11 17:53:54.000000000,"[{'_account_id': 4571}, {'_account_id': 6618}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-14 18:28:35.000000000', 'files': ['releasenotes/notes/add-additional-disk-conversion-retry-dfff93cbdf779f81.yaml', 'ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/9790280301ae2903906f2a583ccadec270029793', 'message': 'Fix other out of memory error for qemu-img convert\n\nqemu-img convert makes a number of allocation requests, and less\ncommon than the ""Resource temporarily unavailable"" error is\n""Cannot allocate memory"". The first seems to be largely raised\nupon a thread creation for the image conversion, where the first\nappears to be on buffer setup on the original process.\n\nRegardless, we should check for both and retry conversion\nautomatically.\n\nrhbz# 1892773\n\nChange-Id: If435ed0efe034d4bb99f0281ebc73840c0f38fb3\n(cherry picked from commit 9be6afc751f0dbc251c4b5eeed71fd3b3659976c)\n'}]",0,766814,9790280301ae2903906f2a583ccadec270029793,10,3,1,11655,,,0,"Fix other out of memory error for qemu-img convert

qemu-img convert makes a number of allocation requests, and less
common than the ""Resource temporarily unavailable"" error is
""Cannot allocate memory"". The first seems to be largely raised
upon a thread creation for the image conversion, where the first
appears to be on buffer setup on the original process.

Regardless, we should check for both and retry conversion
automatically.

rhbz# 1892773

Change-Id: If435ed0efe034d4bb99f0281ebc73840c0f38fb3
(cherry picked from commit 9be6afc751f0dbc251c4b5eeed71fd3b3659976c)
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/14/766814/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-additional-disk-conversion-retry-dfff93cbdf779f81.yaml', 'ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py']",3,9790280301ae2903906f2a583ccadec270029793,, and ('Resource temporarily unavailable' in exc.stderr or 'Cannot allocate memory' in exc.stderr)): if ('Resource temporarily unavailable' in e.stderr or 'Cannot allocate memory' in e.stderr):, and 'Resource temporarily unavailable' in exc.stderr): if 'Resource temporarily unavailable' in e.stderr:,38,2
openstack%2Fpython-openstackclient~master~I3c313fc9329837dde67815901528a34dca98ebcc,openstack/python-openstackclient,master,I3c313fc9329837dde67815901528a34dca98ebcc,Support Neutron Address Group CRUD,MERGED,2020-08-20 19:24:38.000000000,2021-01-11 17:47:13.000000000,2021-01-11 17:38:26.000000000,"[{'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28159}]","[{'number': 1, 'created': '2020-08-20 19:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/08ffee1a18edb2828e7648b5d9fe680a004d26f5', 'message': 'Support Neutron Address Group CRUD\n\nAdd support for Neutron address group CRUD operations. Subsequent patches\nwill be added to use address groups in security group rules.\n\nChange-Id: I3c313fc9329837dde67815901528a34dca98ebcc\nImplements: blueprint address-groups-in-sg-rules\nDepends-On: https://review.opendev.org/738274\nDepends-On: https://review.opendev.org/#/c/745594/\n'}, {'number': 2, 'created': '2020-08-20 19:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/24dbeea9d7640c84438ec87e86830e9e92407e81', 'message': 'Support Neutron Address Group CRUD\n\nAdd support for Neutron address group CRUD operations. Subsequent patches\nwill be added to use address groups in security group rules.\n\nChange-Id: I3c313fc9329837dde67815901528a34dca98ebcc\nImplements: blueprint address-groups-in-sg-rules\nDepends-On: https://review.opendev.org/738274\nDepends-On: https://review.opendev.org/745594\n'}, {'number': 3, 'created': '2020-10-02 15:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bf3b1abd4c3df01695b7c3b49ba5f4e46e65d4d9', 'message': 'Support Neutron Address Group CRUD\n\nAdd support for Neutron address group CRUD operations. Subsequent patches\nwill be added to use address groups in security group rules.\n\nChange-Id: I3c313fc9329837dde67815901528a34dca98ebcc\nImplements: blueprint address-groups-in-sg-rules\nDepends-On: https://review.opendev.org/738274\nDepends-On: https://review.opendev.org/745594\n'}, {'number': 4, 'created': '2020-10-14 16:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f65cc129fbc80fb07ff05c4872984c5d4891b1d3', 'message': 'Support Neutron Address Group CRUD\n\nAdd support for Neutron address group CRUD operations. Subsequent patches\nwill be added to use address groups in security group rules.\n\nChange-Id: I3c313fc9329837dde67815901528a34dca98ebcc\nImplements: blueprint address-groups-in-sg-rules\nDepends-On: https://review.opendev.org/738274\nDepends-On: https://review.opendev.org/745594\n'}, {'number': 5, 'created': '2020-12-07 17:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a7f84a610390598970a3d6f824b411bd9e6557c9', 'message': 'Support Neutron Address Group CRUD\n\nAdd support for Neutron address group CRUD operations. Subsequent patches\nwill be added to use address groups in security group rules.\n\nChange-Id: I3c313fc9329837dde67815901528a34dca98ebcc\nImplements: blueprint address-groups-in-sg-rules\nDepends-On: https://review.opendev.org/738274\nDepends-On: https://review.opendev.org/745594\n'}, {'number': 6, 'created': '2020-12-17 20:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4ea4adba9d7d65d9c5d89e97c032296c577017d5', 'message': 'Support Neutron Address Group CRUD\n\nAdd support for Neutron address group CRUD operations. Subsequent patches\nwill be added to use address groups in security group rules.\n\nChange-Id: I3c313fc9329837dde67815901528a34dca98ebcc\nImplements: blueprint address-groups-in-sg-rules\nDepends-On: https://review.opendev.org/738274\nDepends-On: https://review.opendev.org/745594\n'}, {'number': 7, 'created': '2020-12-17 20:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c17388528676cffc07d5eddc14e4a26d34d7e78d', 'message': 'Support Neutron Address Group CRUD\n\nAdd support for Neutron address group CRUD operations. Subsequent patches\nwill be added to use address groups in security group rules.\n\nChange-Id: I3c313fc9329837dde67815901528a34dca98ebcc\nImplements: blueprint address-groups-in-sg-rules\nDepends-On: https://review.opendev.org/738274\nDepends-On: https://review.opendev.org/745594\n'}, {'number': 8, 'created': '2020-12-22 19:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9e8db548198d26f81a0db9c79516b4d0847cd87e', 'message': 'Support Neutron Address Group CRUD\n\nAdd support for Neutron address group CRUD operations. Subsequent patches\nwill be added to use address groups in security group rules.\n\nChange-Id: I3c313fc9329837dde67815901528a34dca98ebcc\nImplements: blueprint address-groups-in-sg-rules\nDepends-On: https://review.opendev.org/738274\nDepends-On: https://review.opendev.org/745594\n'}, {'number': 9, 'created': '2020-12-22 20:57:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/840ce3292cfbf8897b72c6a1feadf6a9171b77c5', 'message': 'Support Neutron Address Group CRUD\n\nAdd support for Neutron address group CRUD operations. Subsequent patches\nwill be added to use address groups in security group rules.\n\nChange-Id: I3c313fc9329837dde67815901528a34dca98ebcc\nImplements: blueprint address-groups-in-sg-rules\nDepends-On: https://review.opendev.org/738274\nDepends-On: https://review.opendev.org/745594\n'}, {'number': 10, 'created': '2020-12-23 19:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8fda7578324c40c2c2db4a745b7fb446d557196e', 'message': 'Support Neutron Address Group CRUD\n\nAdd support for Neutron address group CRUD operations. Subsequent patches\nwill be added to use address groups in security group rules.\n\nChange-Id: I3c313fc9329837dde67815901528a34dca98ebcc\nImplements: blueprint address-groups-in-sg-rules\nDepends-On: https://review.opendev.org/738274\nDepends-On: https://review.opendev.org/745594\n'}, {'number': 11, 'created': '2020-12-24 17:28:53.000000000', 'files': ['openstackclient/network/v2/address_group.py', 'doc/source/cli/command-objects/address-group.rst', 'openstackclient/tests/unit/network/v2/fakes.py', 'openstackclient/tests/unit/network/v2/test_address_group.py', 'openstackclient/tests/functional/network/v2/test_address_group.py', 'releasenotes/notes/bp-address-groups-in-sg-rules-e0dc7e889e107799.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f57e10b903fa71d02a6e104717824d004178bbf5', 'message': 'Support Neutron Address Group CRUD\n\nAdd support for Neutron address group CRUD operations. Subsequent patches\nwill be added to use address groups in security group rules.\n\nChange-Id: I3c313fc9329837dde67815901528a34dca98ebcc\nImplements: blueprint address-groups-in-sg-rules\nDepends-On: https://review.opendev.org/738274\nDepends-On: https://review.opendev.org/745594\n'}]",18,747279,f57e10b903fa71d02a6e104717824d004178bbf5,44,6,11,28159,,,0,"Support Neutron Address Group CRUD

Add support for Neutron address group CRUD operations. Subsequent patches
will be added to use address groups in security group rules.

Change-Id: I3c313fc9329837dde67815901528a34dca98ebcc
Implements: blueprint address-groups-in-sg-rules
Depends-On: https://review.opendev.org/738274
Depends-On: https://review.opendev.org/745594
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/79/747279/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/network/v2/address_group.py', 'doc/source/cli/command-objects/address-group.rst', 'openstackclient/tests/unit/network/v2/fakes.py', 'openstackclient/tests/functional/network/v2/test_address_group.py', 'openstackclient/tests/unit/network/v2/test_address_group.py', 'releasenotes/notes/bp-address-groups-in-sg-rules-e0dc7e889e107799.yaml', 'setup.cfg']",7,08ffee1a18edb2828e7648b5d9fe680a004d26f5,bp/address-groups-in-sg-rules, address_group_create = openstackclient.network.v2.address_group:CreateAddressGroup address_group_delete = openstackclient.network.v2.address_group:DeleteAddressGroup address_group_list = openstackclient.network.v2.address_group:ListAddressGroup address_group_set = openstackclient.network.v2.address_group:SetAddressGroup address_group_show = openstackclient.network.v2.address_group:ShowAddressGroup address_group_add_addresses = openstackclient.network.v2.address_group:AddAddressesToAddressGroup address_group_remove_addresses = openstackclient.network.v2.address_group:RemoveAddressesFromAddressGroup ,,1181,0
openstack%2Fopenstacksdk~master~I0b7d41b407c436dd5583158bc6b5815847cffa31,openstack/openstacksdk,master,I0b7d41b407c436dd5583158bc6b5815847cffa31,Complete compute.service operations,MERGED,2020-12-04 17:43:41.000000000,2021-01-11 17:47:02.000000000,2021-01-11 17:38:03.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-12-04 17:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/60159b8e67c65b1c15c8dcb89f7a8abd8712796f', 'message': 'Complete compute.service operations\n\nComplete the operations on the compute.service resource.\n\nChange-Id: I0b7d41b407c436dd5583158bc6b5815847cffa31\n'}, {'number': 2, 'created': '2020-12-04 18:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b88cbddb9bedd0ca94d132c9adf97d773c5bdeb4', 'message': 'Complete compute.service operations\n\nComplete the operations on the compute.service resource.\n\nChange-Id: I0b7d41b407c436dd5583158bc6b5815847cffa31\n'}, {'number': 3, 'created': '2020-12-04 18:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/82e8b21f523bbc7507a6581ea507f127b0c3e533', 'message': 'Complete compute.service operations\n\nComplete the operations on the compute.service resource.\n\nChange-Id: I0b7d41b407c436dd5583158bc6b5815847cffa31\n'}, {'number': 4, 'created': '2020-12-05 07:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b1977eb5bb2e5d97f688021d25085fdf7c68e654', 'message': 'Complete compute.service operations\n\nComplete the operations on the compute.service resource.\n\nChange-Id: I0b7d41b407c436dd5583158bc6b5815847cffa31\n'}, {'number': 5, 'created': '2020-12-05 09:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/29cb44aa4172396d83d027c4923e70dd4407cf9d', 'message': 'Complete compute.service operations\n\nComplete the operations on the compute.service resource.\n\nChange-Id: I0b7d41b407c436dd5583158bc6b5815847cffa31\n'}, {'number': 6, 'created': '2021-01-07 13:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c5d3642f3e8f1c225bc89ba7a6de39367c722019', 'message': 'Complete compute.service operations\n\nComplete the operations on the compute.service resource.\n\nChange-Id: I0b7d41b407c436dd5583158bc6b5815847cffa31\n'}, {'number': 7, 'created': '2021-01-08 15:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/be8292ab2b0daffc0844b144ddb3bd08caeda4fd', 'message': 'Complete compute.service operations\n\nComplete the operations on the compute.service resource.\n\nChange-Id: I0b7d41b407c436dd5583158bc6b5815847cffa31\n'}, {'number': 8, 'created': '2021-01-08 17:29:19.000000000', 'files': ['openstack/tests/functional/compute/v2/test_service.py', 'openstack/compute/v2/service.py', 'releasenotes/notes/rename-service-force-down-6f462d62959a5315.yaml', 'openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/tests/unit/compute/v2/test_service.py', 'doc/source/user/proxies/compute.rst', 'openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5450c4525313581b2ebc0e1ab6ac6252964c595f', 'message': 'Complete compute.service operations\n\nComplete the operations on the compute.service resource.\n\nChange-Id: I0b7d41b407c436dd5583158bc6b5815847cffa31\n'}]",7,765574,5450c4525313581b2ebc0e1ab6ac6252964c595f,29,3,8,27900,,,0,"Complete compute.service operations

Complete the operations on the compute.service resource.

Change-Id: I0b7d41b407c436dd5583158bc6b5815847cffa31
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/74/765574/5 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/functional/compute/v2/test_service.py', 'openstack/compute/v2/service.py', 'releasenotes/notes/rename-service-force-down-6f462d62959a5315.yaml', 'openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/tests/unit/compute/v2/test_service.py', 'doc/source/user/proxies/compute.rst', 'openstack/compute/v2/_proxy.py']",7,60159b8e67c65b1c15c8dcb89f7a8abd8712796f,osc-first,"from openstack import exceptions # ========== Services ========== def update_service_forced_down(self, service, host, binary, forced=False): """"""Update service forced_down information :class:`~openstack.compute.v2.service.Service` instance. :param bool forced: Whether or not this service was forced down manually by an administrator after the service was fenced. :returns: Updated service instance :rtype: class: `~openstack.compute.v2.service.Service` if utils.supports_microversion(self, '2.53'): return self.update_service( service, forced_down=forced) service = self._get_resource(_service.Service, service) service.set_forced_down(self, host, binary, forced) def disable_service( self, service, host=None, binary=None, disabled_reason=None ): :class:`~openstack.compute.v2.service.Service` instance. :returns: Updated service instance :rtype: class: `~openstack.compute.v2.service.Service` if utils.supports_microversion(self, '2.53'): attrs = { 'status': 'disabled' } if disabled_reason: attrs['disabled_reason'] = disabled_reason return self.update_service( service, **attrs) service = self._get_resource(_service.Service, service) return service.disable( self, host, binary, disabled_reason) def enable_service(self, service, host=None, binary=None): :class:`~openstack.compute.v2.service.Service` instance. :returns: Updated service instance :rtype: class: `~openstack.compute.v2.service.Service` if utils.supports_microversion(self, '2.53'): return self.update_service( service, status='enabled') return service.enable(self, host, binary) def delete_service(self, service, ignore_missing=True): """"""Delete a service :param service: The value can be either the ID of a service or a :class:`~openstack.compute.v2.service.Service` instance. :param bool ignore_missing: When set to ``False`` :class:`~openstack.exceptions.ResourceNotFound` will be raised when the volume attachment does not exist. When set to ``True``, no exception will be set when attempting to delete a nonexistent volume attachment. :returns: ``None`` """""" self._delete( _service.Service, service, ignore_missing=ignore_missing) def update_service(self, service, **attrs): """"""Update a service :param server: Either the ID of a service or a :class:`~openstack.compute.v2.service.Service` instance. :attrs kwargs: The attributes to update on the service represented by ``service``. :returns: The updated service :rtype: :class:`~openstack.compute.v2.service.Service` """""" if utils.supports_microversion(self, '2.53'): return self._update(_service.Service, service, **attrs) raise exceptions.SDKException( 'Method require at least microversion 2.53' ) "," def force_service_down(self, service, host, binary): """"""Force a service down :class:`~openstack.compute.v2.server.Service` instance. :returns: None service = self._get_resource(_service.Service, service) service.force_down(self, host, binary) def disable_service(self, service, host, binary, disabled_reason=None): :class:`~openstack.compute.v2.server.Service` instance. :returns: None service = self._get_resource(_service.Service, service) service.disable(self, host, binary, disabled_reason) def enable_service(self, service, host, binary): :class:`~openstack.compute.v2.server.Service` instance. :returns: None service.enable(self, host, binary)",229,60
openstack%2Fneutron~stable%2Ftrain~Ib0d3a501f88c149baea7d715c7cfe5811bc85e4f,openstack/neutron,stable/train,Ib0d3a501f88c149baea7d715c7cfe5811bc85e4f,Fix migration from the HA to non-HA routers,MERGED,2020-11-19 10:53:33.000000000,2021-01-11 17:42:01.000000000,2021-01-11 17:36:37.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-11-19 10:53:33.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4de222185304cb12fe63615d98bec7ca64234e4e', 'message': ""Fix migration from the HA to non-HA routers\n\nIn case if during switching HA router to be down, there will be any\nfailure, router_info will be stored in L3 agent's cache as HaRouter.\nIn case when next update on the router is migration to non-HA router\nthis is wrong class and it causes other issues, e.g. with\nremove_vip_by_ip_address() which is correct only for HA routers.\n\nThis patch fixes that issue by adding check of the router's ha and\ndistributed flags and update local cache with new router_info class\nin case if at least one of those flags don't match.\n\nChange-Id: Ib0d3a501f88c149baea7d715c7cfe5811bc85e4f\nCloses-Bug: #1892846\n(cherry picked from commit 489e0ead7297e3b17ca2bf8c4bea9701ad14a939)\n""}]",0,763346,4de222185304cb12fe63615d98bec7ca64234e4e,17,5,1,11975,,,0,"Fix migration from the HA to non-HA routers

In case if during switching HA router to be down, there will be any
failure, router_info will be stored in L3 agent's cache as HaRouter.
In case when next update on the router is migration to non-HA router
this is wrong class and it causes other issues, e.g. with
remove_vip_by_ip_address() which is correct only for HA routers.

This patch fixes that issue by adding check of the router's ha and
distributed flags and update local cache with new router_info class
in case if at least one of those flags don't match.

Change-Id: Ib0d3a501f88c149baea7d715c7cfe5811bc85e4f
Closes-Bug: #1892846
(cherry picked from commit 489e0ead7297e3b17ca2bf8c4bea9701ad14a939)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/763346/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/tests/unit/agent/l3/test_agent.py']",2,4de222185304cb12fe63615d98bec7ca64234e4e,bug/1892846-stable/victoria-stable/ussuri-stable/train," def mock_get(name): if name == 'ha': return router.ha if name == 'distributed': return router.distributed return mock.Mock() router_info.router.get.side_effect = mock_get def mock_get(name): if name == 'ha': return router.ha if name == 'distributed': return router.distributed return mock.Mock() router_info.router.get.side_effect = mock_get def test_process_router_if_compatible_type_match(self): agent = l3_agent.L3NATAgent(HOSTNAME, self.conf) router = {'id': _uuid(), 'routes': [], 'admin_state_up': True, 'ha': False, 'distributed': False, 'external_gateway_info': {'network_id': 'aaa'}} ri = mock.Mock(router=router) agent.router_info[router['id']] = ri with mock.patch.object(agent, ""_create_router"") as create_router_mock: agent._process_router_if_compatible(router) create_router_mock.assert_not_called() self.assertIn(router['id'], agent.router_info) self.assertFalse(agent.router_info[router['id']].router['ha']) self.assertFalse(agent.router_info[router['id']].router['distributed']) def test_process_router_if_compatible_type_changed(self): agent = l3_agent.L3NATAgent(HOSTNAME, self.conf) router = {'id': _uuid(), 'routes': [], 'admin_state_up': True, 'revision_number': 1, 'ha': True, 'distributed': False, 'external_gateway_info': {'network_id': 'aaa'}} ri = mock.Mock(router=router) agent.router_info[router['id']] = ri new_router = copy.deepcopy(router) new_router['ha'] = False with mock.patch.object(agent, ""_create_router"") as create_router_mock: agent._process_router_if_compatible(new_router) create_router_mock.assert_called_once_with( new_router['id'], new_router) self.assertIn(router['id'], agent.router_info) self.assertFalse(agent.router_info[router['id']].router['ha']) self.assertFalse(agent.router_info[router['id']].router['distributed']) ",,77,0
openstack%2Fswift~master~I746d8e641c884ccd7838082ff07f958ee101de18,openstack/swift,master,I746d8e641c884ccd7838082ff07f958ee101de18,s3api: Make UNSIGNED-PAYLOAD requests work again,MERGED,2021-01-08 22:25:45.000000000,2021-01-11 17:41:50.000000000,2021-01-11 17:38:43.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 22:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1cab97ab7a09c6a68c11663c2147f66e92f201b7', 'message': 's3api: Make UNSIGNED-PAYLOAD requests work again\n\nChange-Id: I746d8e641c884ccd7838082ff07f958ee101de18\nRelated-Change: I3d6e2e4542a5ed03a6d31ec0ef4837d1de30a045\n'}, {'number': 2, 'created': '2021-01-08 22:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/873d0ae2185c90db11344161c7768895fa6dd2be', 'message': 's3api: Make UNSIGNED-PAYLOAD requests work again\n\nChange-Id: I746d8e641c884ccd7838082ff07f958ee101de18\nRelated-Change: I3d6e2e4542a5ed03a6d31ec0ef4837d1de30a045\n'}, {'number': 3, 'created': '2021-01-08 22:59:29.000000000', 'files': ['test/unit/common/middleware/s3api/test_obj.py', 'swift/common/middleware/s3api/s3request.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/09a2f93933d42342be3ee33096c4dea28b2a29f7', 'message': ""s3api: Make UNSIGNED-PAYLOAD requests work again\n\nPreviously, we unconditionally lower-cased the client-provided\nX-Amz-Content-SHA256 header, which led to SignatureDoesNotMatch errors\nsince the client and server didn't agree on the canonical request.\n\nNow, only lower-case the value when making comparisons; leave it alone\nfor signature-calculation purposes.\n\nChange-Id: I746d8e641c884ccd7838082ff07f958ee101de18\nRelated-Change: I3d6e2e4542a5ed03a6d31ec0ef4837d1de30a045\nCloses-Bug: #1910827\n""}]",3,770004,09a2f93933d42342be3ee33096c4dea28b2a29f7,13,2,3,15343,,,0,"s3api: Make UNSIGNED-PAYLOAD requests work again

Previously, we unconditionally lower-cased the client-provided
X-Amz-Content-SHA256 header, which led to SignatureDoesNotMatch errors
since the client and server didn't agree on the canonical request.

Now, only lower-case the value when making comparisons; leave it alone
for signature-calculation purposes.

Change-Id: I746d8e641c884ccd7838082ff07f958ee101de18
Related-Change: I3d6e2e4542a5ed03a6d31ec0ef4837d1de30a045
Closes-Bug: #1910827
",git fetch https://review.opendev.org/openstack/swift refs/changes/04/770004/3 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/s3api/s3request.py'],1,1cab97ab7a09c6a68c11663c2147f66e92f201b7,, hashed_payload = self.headers['X-Amz-Content-SHA256'] if hashed_payload != 'UNSIGNED-PAYLOAD': if self.content_length == 0: if hashed_payload.lower() != sha256().hexdigest(): hashed_payload.lower()), hashed_payload = self.headers['X-Amz-Content-SHA256'].lower() if hashed_payload != 'unsigned-payload': if self.content_length == 0: if hashed_payload != sha256().hexdigest(): hashed_payload),4,4
openstack%2Fnova~master~Iacabaea31311ae14084b55341608e16e531e6bd5,openstack/nova,master,Iacabaea31311ae14084b55341608e16e531e6bd5,api: Normalize exception handling for os-hypervisors,MERGED,2021-01-06 11:16:10.000000000,2021-01-11 17:41:46.000000000,2021-01-11 17:37:02.000000000,"[{'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-01-06 11:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cdc72bea1fa8d63c38bb3f05e96f0868713c3216', 'message': ""api: Normalize exception handling for os-hypervisors\n\nMany of the functions implementing the various 'os-hypervisors'\nendpoints share common code. In particular any of these functions\ncontain calls to both the 'instance_get_all_by_host' and\n'service_get_by_compute_host' APIs of 'nova.compute.api.HostAPI' so we\ncan include instance and service information in the responses. All of\nthese calls are guarded with exception handlers, but the exceptions\nhandled differ between resources.\n\nThere is one exception we need to care about for\n'instance_get_all_by_host': 'HostMappingNotFound', which is raised\nbecause the API is decorated with the 'target_cell' decorator. The\n'service_get_by_compute_host' API is also decorated by the\n'target_host_cell' decorator, however, it can also raise\n'ComputeHostNotFound'. This exception is possible because the\n'service_get_by_compute_host' API calls\n'nova.objects.Service.get_by_compute_host', which in turns calls\n'nova.db.sqlalchemy.api.service_get_by_compute_host', via the\n'_db_service_get_by_compute_host' helper. Not all of the functions that\ncalled 'service_get_by_compute_host' were correctly guarding against\n'ComputeHostNotFound'.\n\nIn addition to this, the call to the 'get_host_uptime' API used by the\n'/os-hypervisors/uptime' API can raise 'HostNotFound' if the service has\nbeen deleted but the compute node still has to be manually cleaned up.\nConversely, a number of functions were handling 'ValueError' even though\nthis couldn't realistically be raised by the test.\n\nResolve all of the above.\n\nChange-Id: Iacabaea31311ae14084b55341608e16e531e6bd5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1646255\n""}, {'number': 2, 'created': '2021-01-07 17:36:26.000000000', 'files': ['nova/api/openstack/compute/hypervisors.py', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ef7598ac2896d08a89e50ccb82a47244e63d6248', 'message': ""api: Normalize exception handling for os-hypervisors\n\nMany of the functions implementing the various 'os-hypervisors'\nendpoints share common code. In particular any of these functions\ncontain calls to both the 'instance_get_all_by_host' and\n'service_get_by_compute_host' APIs of 'nova.compute.api.HostAPI' so we\ncan include instance and service information in the responses. All of\nthese calls are guarded with exception handlers, but the exceptions\nhandled differ between resources.\n\nThere is one exception we need to care about for\n'instance_get_all_by_host': 'HostMappingNotFound', which is raised\nbecause the API is decorated with the 'target_cell' decorator. The\n'service_get_by_compute_host' API is also decorated by the\n'target_host_cell' decorator, however, it can also raise\n'ComputeHostNotFound'. This exception is possible because the\n'service_get_by_compute_host' API calls\n'nova.objects.Service.get_by_compute_host', which in turns calls\n'nova.db.sqlalchemy.api.service_get_by_compute_host', via the\n'_db_service_get_by_compute_host' helper. Not all of the functions that\ncalled 'service_get_by_compute_host' were correctly guarding against\n'ComputeHostNotFound'.\n\nIn addition to this, the call to the 'get_host_uptime' API used by the\n'/os-hypervisors/uptime' API can raise 'HostNotFound' if the service has\nbeen deleted but the compute node still has to be manually cleaned up.\nConversely, a number of functions were handling 'ValueError' even though\nthis couldn't realistically be raised by the test.\n\nResolve all of the above.\n\nChange-Id: Iacabaea31311ae14084b55341608e16e531e6bd5\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1646255\n""}]",6,769520,ef7598ac2896d08a89e50ccb82a47244e63d6248,32,4,2,15334,,,0,"api: Normalize exception handling for os-hypervisors

Many of the functions implementing the various 'os-hypervisors'
endpoints share common code. In particular any of these functions
contain calls to both the 'instance_get_all_by_host' and
'service_get_by_compute_host' APIs of 'nova.compute.api.HostAPI' so we
can include instance and service information in the responses. All of
these calls are guarded with exception handlers, but the exceptions
handled differ between resources.

There is one exception we need to care about for
'instance_get_all_by_host': 'HostMappingNotFound', which is raised
because the API is decorated with the 'target_cell' decorator. The
'service_get_by_compute_host' API is also decorated by the
'target_host_cell' decorator, however, it can also raise
'ComputeHostNotFound'. This exception is possible because the
'service_get_by_compute_host' API calls
'nova.objects.Service.get_by_compute_host', which in turns calls
'nova.db.sqlalchemy.api.service_get_by_compute_host', via the
'_db_service_get_by_compute_host' helper. Not all of the functions that
called 'service_get_by_compute_host' were correctly guarding against
'ComputeHostNotFound'.

In addition to this, the call to the 'get_host_uptime' API used by the
'/os-hypervisors/uptime' API can raise 'HostNotFound' if the service has
been deleted but the compute node still has to be manually cleaned up.
Conversely, a number of functions were handling 'ValueError' even though
this couldn't realistically be raised by the test.

Resolve all of the above.

Change-Id: Iacabaea31311ae14084b55341608e16e531e6bd5
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Related-Bug: #1646255
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/769520/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/hypervisors.py', 'nova/tests/unit/api/openstack/compute/test_hypervisors.py']",2,cdc72bea1fa8d63c38bb3f05e96f0868713c3216,bp/modernize-os-hypervisors-api," if hyper.uuid == compute_id: return hyper if ( (isinstance(compute_id, int) or compute_id.isdigit()) and hyper.id == int(compute_id) ): def test_uptime(self): with mock.patch.object( self.controller.host_api, 'get_host_uptime', return_value=""fake uptime"" ) as mock_get_uptime: req = self._get_request(True) hyper_id = self._get_hyper_id() result = self.controller.uptime(req, hyper_id) expected_dict = copy.deepcopy(self.INDEX_HYPER_DICTS[0]) expected_dict.update({'uptime': ""fake uptime""}) self.assertEqual(dict(hypervisor=expected_dict), result) self.assertEqual(1, mock_get_uptime.call_count) def test_uptime_not_implemented(self): with mock.patch.object( self.controller.host_api, 'get_host_uptime', side_effect=NotImplementedError, ) as mock_get_uptime: self.assertRaises( exc.HTTPNotImplemented, self.controller.uptime, req, hyper_id) def test_uptime_host_not_found(self): with mock.patch.object( self.controller.host_api, 'get_host_uptime', side_effect=exception.HostNotFound('foo'), ) as mock_get_uptime: self.assertRaises( exc.HTTPBadRequest, self.controller.uptime, req, hyper_id) with mock.patch.object( self.controller.host_api, 'instance_get_all_by_host', side_effect=exception.HostMappingNotFound(name='something'), ): self.assertRaises( exc.HTTPNotFound, self.controller.servers, req, 'hyper') def test_servers_compute_host_not_found(self): req = self._get_request(True) with test.nested( mock.patch.object( self.controller.host_api, 'instance_get_all_by_host', side_effect=fake_instance_get_all_by_host, ), mock.patch.object( self.controller.host_api, 'service_get_by_compute_host', side_effect=exception.ComputeHostNotFound(host='foo'), ), ): # The result should be empty since every attempt to fetch the # service for a hypervisor ""failed"" result = self.controller.servers(req, 'hyper') self.assertEqual({'hypervisors': []}, result) def test_servers_compute_host_not_found(self): req = self._get_request( use_admin_context=True, url='/os-hypervisors?with_servers=1') with test.nested( mock.patch.object( self.controller.host_api, 'instance_get_all_by_host', side_effect=fake_instance_get_all_by_host, ), mock.patch.object( self.controller.host_api, 'service_get_by_compute_host', side_effect=exception.ComputeHostNotFound(host='foo'), ), ): # The result should be empty since every attempt to fetch the # service for a hypervisor ""failed"" result = self.controller.index(req) self.assertEqual({'hypervisors': []}, result) "," if hyper.uuid == compute_id or hyper.id == int(compute_id): def test_uptime_notimplemented(self): with mock.patch.object(self.controller.host_api, 'get_host_uptime', side_effect=exc.HTTPNotImplemented() ) as mock_get_uptime: self.assertRaises(exc.HTTPNotImplemented, self.controller.uptime, req, hyper_id) def test_uptime_implemented(self): with mock.patch.object(self.controller.host_api, 'get_host_uptime', return_value=""fake uptime"" ) as mock_get_uptime: result = self.controller.uptime(req, hyper_id) expected_dict = copy.deepcopy(self.INDEX_HYPER_DICTS[0]) expected_dict.update({'uptime': ""fake uptime""}) self.assertEqual(dict(hypervisor=expected_dict), result) with mock.patch.object(self.controller.host_api, 'instance_get_all_by_host') as m: m.side_effect = exception.HostMappingNotFound(name='something') self.assertRaises(exc.HTTPNotFound, self.controller.servers, req, 'hyper')",173,55
openstack%2Fdevstack~master~I71102095f3603915f0bc7d21f2e18c4eac4e95ec,openstack/devstack,master,I71102095f3603915f0bc7d21f2e18c4eac4e95ec,Remove tempest deprecated img_dir option,MERGED,2020-03-12 10:09:57.000000000,2021-01-11 17:41:37.000000000,2020-07-06 20:07:29.000000000,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-03-12 10:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b945bea8335a07f5386fd24975698c9394cca3fd', 'message': 'Remove tempest deprecated img_dir option\n\nAfter more than 4 years of deprecation period img_dir tempest\noption is being removed.\nimg_file option should contain the full path to the image.\nThis patch removes setting of img_dir option and makes img_file\none contain the full path of an image.\n\nChange-Id: I71102095f3603915f0bc7d21f2e18c4eac4e95ec\nRelated-Bug: #1393881\n'}, {'number': 2, 'created': '2020-03-24 10:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ef80059af019c3eb26e8ee2b3c7960f0dc625c3d', 'message': 'Remove tempest deprecated img_dir option\n\nAfter more than 4 years of deprecation period img_dir tempest\noption is being removed.\nimg_file option should contain the full path to the image.\nThis patch removes setting of img_dir option and makes img_file\none contain the full path of an image.\n\nChange-Id: I71102095f3603915f0bc7d21f2e18c4eac4e95ec\nRelated-Bug: #1393881\n'}, {'number': 3, 'created': '2020-06-11 16:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3335c17022112bf822b397ff2e21785770e2fbc3', 'message': ""Remove tempest deprecated img_dir option\n\nTempest option scenario.img_dir has been deprecated more than 4 years, it's\ntime to remove it from devstack.\nimg_file option should contain the full path to the image.\nThis patch removes setting of img_dir option and makes img_file\none contain the full path of an image.\n\nChange-Id: I71102095f3603915f0bc7d21f2e18c4eac4e95ec\nRelated-Bug: #1393881\n""}, {'number': 4, 'created': '2020-06-11 20:00:27.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/729546a1adfa10c8591e834cc85004d977e1c3dd', 'message': ""Remove tempest deprecated img_dir option\n\nTempest option scenario.img_dir has been deprecated more than 4 years, it's\ntime to remove it from devstack.\nimg_file option should contain the full path to the image.\nThis patch removes setting of img_dir option and makes img_file\none contain the full path of an image.\n\nChange-Id: I71102095f3603915f0bc7d21f2e18c4eac4e95ec\nDepends-On: https://review.opendev.org/#/c/710996/\nRelated-Bug: #1393881\n""}]",2,712634,729546a1adfa10c8591e834cc85004d977e1c3dd,27,5,4,22873,,,0,"Remove tempest deprecated img_dir option

Tempest option scenario.img_dir has been deprecated more than 4 years, it's
time to remove it from devstack.
img_file option should contain the full path to the image.
This patch removes setting of img_dir option and makes img_file
one contain the full path of an image.

Change-Id: I71102095f3603915f0bc7d21f2e18c4eac4e95ec
Depends-On: https://review.opendev.org/#/c/710996/
Related-Bug: #1393881
",git fetch https://review.opendev.org/openstack/devstack refs/changes/34/712634/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,b945bea8335a07f5386fd24975698c9394cca3fd,remove_img_dir, iniset $TEMPEST_CONFIG scenario img_file $SCENARIO_IMAGE_DIR/$SCENARIO_IMAGE_FILE, iniset $TEMPEST_CONFIG scenario img_dir $SCENARIO_IMAGE_DIR iniset $TEMPEST_CONFIG scenario img_file $SCENARIO_IMAGE_FILE,1,2
openstack%2Fneutron~master~Ia37182e572ac4e9ae83cd03d7008aa42c7ea36c8,openstack/neutron,master,Ia37182e572ac4e9ae83cd03d7008aa42c7ea36c8,neutron-server api worker process should be named to their role,MERGED,2021-01-07 05:46:55.000000000,2021-01-11 17:41:33.000000000,2021-01-11 17:36:06.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 30380}]","[{'number': 1, 'created': '2021-01-07 05:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b7db16e5d0e5e56d1315487bd97b777c18fdc752', 'message': 'fix neutron api worker process not show desc\n\nChange-Id: Ia37182e572ac4e9ae83cd03d7008aa42c7ea36c8\n'}, {'number': 2, 'created': '2021-01-07 06:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e27bd882222e6a42c2f9b9712005b90820192f0', 'message': ""fix neutron api worker process not show desc\n\nwhen launch api worker, will call Service.start (in neutron.wsgi) with desc,\nbug function start not pass the parameter to Service._launch, api worker's\nset_proctitle will off and not set proc title.\n\nChange-Id: Ia37182e572ac4e9ae83cd03d7008aa42c7ea36c8\n""}, {'number': 3, 'created': '2021-01-07 06:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7d3646bde308b0fb255ffa2aeb55c16dd1ee96ca', 'message': ""fix neutron api worker process not show desc\n\nwhen launch api worker, will call Service.start (in neutron.wsgi) with\ndesc, bug function start not pass the parameter to Service._launch, api\nworker's set_proctitle will off and not set proc title.\n\nChange-Id: Ia37182e572ac4e9ae83cd03d7008aa42c7ea36c8\n""}, {'number': 4, 'created': '2021-01-07 09:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f7b442d341fe6d68087deaf46ddaa8971a221474', 'message': ""fix neutron api worker process not show desc\n\nwhen launch api worker, will call Service.start (in neutron.wsgi) with\ndesc, bug function start not pass the parameter to Service._launch, api\nworker's set_proctitle will off and not set proc title.\n\nProcessLauncher unable to call neutron.wsgi.WorkerService.start with\ndesc, so WorkerService should set desc in __init__ like RpcWorker\n\nChange-Id: Ia37182e572ac4e9ae83cd03d7008aa42c7ea36c8\n""}, {'number': 5, 'created': '2021-01-07 09:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c6e8b6489edb9404777f59b4536b5c0b6df7fb04', 'message': ""fix neutron api worker process not show desc\n\nwhen launch api worker, will call Service.start (in neutron.wsgi) with\ndesc, bug function start not pass the parameter to Service._launch, api\nworker's set_proctitle will off and not set proc title.\n\nProcessLauncher unable to call neutron.wsgi.WorkerService.start with\ndesc, so WorkerService should set desc in __init__ like RpcWorker\n\nChange-Id: Ia37182e572ac4e9ae83cd03d7008aa42c7ea36c8\n""}, {'number': 6, 'created': '2021-01-08 02:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e12ebcfc2f4bcb797eda25061f9bbd1bc40433df', 'message': 'neutron-server api worker process should names to their role\n\nWhen multiple API processes need to be launched, use ""ProcessLauncher""\n(in module oslo_service.service) manage. call ""launch_service"" with the\nnum of processes and service instance to real launch. when the\n""ProcessLauncher"" launch the service, it calls the ""start"" method of\nthe service directly without passing any parameters.\n\nStarting API processes, the service object passed in is WorkerService\n(in module neutron.wsgi) object. In the current design, pass the ""desc""\nin call ""WorkerService.start"", therefore, the desc cannot be set.\n\nThis patch move the ""desc"" parameter to the initialization, when call\n""start"" method, if set ""desc"", it will be used first. if not, ""desc""\npassed in initialization are used. this design solves the problem and\nkeeps compatibility.\n\nCloses-bug: #1910623\n\nChange-Id: Ia37182e572ac4e9ae83cd03d7008aa42c7ea36c8\n'}, {'number': 7, 'created': '2021-01-08 02:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bf11246e796431fcab2eb5d09542fbc2f64b4d4f', 'message': 'neutron-server api worker process should names to their role\n\nWhen multiple API processes need to be launched, use ""ProcessLauncher""\n(in module oslo_service.service) manage. call ""launch_service"" with the\nnum of processes and service instance to real launch. when the\n""ProcessLauncher"" launch the service, it calls the ""start"" method of\nthe service directly without passing any parameters.\n\nStarting API processes, the service object passed in is WorkerService\n(in module neutron.wsgi) object. In the current design, pass the ""desc""\nin call ""WorkerService.start"", therefore, the desc cannot be set.\n\nThis patch move the ""desc"" parameter to the initialization, when call\n""start"" method, ""desc"" passed in initialization are used.\n\nCloses-bug: #1910623\n\nChange-Id: Ia37182e572ac4e9ae83cd03d7008aa42c7ea36c8\n'}, {'number': 8, 'created': '2021-01-11 00:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2e3c163e70b273c067033bdcb65081b433ccee3b', 'message': 'neutron-server api worker process should be named to their role\n\nThe function of class ""ProcessLauncher"" is to fork multiple processes.\nthe function of ""WorkerService.start"" is provider api service and set\nprocess title according to the parameter desc. when multiple API\nprocesses need to be launched, use ""ProcessLauncher"" (in module\noslo_service.service) manage. call ""ProcessLauncher.launch_service""\nwith the num of processes and service instance to real launch. when the\n""ProcessLauncher"" launch the service, it calls the ""start"" method of\nthe service directly without passing any parameters.\n\nStarting API processes, the service object passed in is WorkerService\n(in module neutron.wsgi) object. In the current design, pass the ""desc""\nin call ""WorkerService.start"", therefore, the desc cannot be set.\n\nThis patch add the ""desc"" parameter to the initialization, when call\n""start"" method, if set ""desc"", it will be used first. if not, ""desc""\npassed in initialization are used. this design solves the problem and\nkeeps compatibility.\n\nCloses-bug: #1910623\n\nChange-Id: Ia37182e572ac4e9ae83cd03d7008aa42c7ea36c8\n'}, {'number': 9, 'created': '2021-01-11 00:28:57.000000000', 'files': ['neutron/wsgi.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/75e030dfbdcf3c76fbc75d7cebf84b0a2ec5e026', 'message': 'neutron-server api worker process should be named to their role\n\nThe function of class ""ProcessLauncher"" is to fork multiple processes.\nthe function of ""WorkerService.start"" is provider api service and set\nprocess title according to the parameter desc. when multiple API\nprocesses need to be launched, use ""ProcessLauncher"" (in module\noslo_service.service) manage. call ""ProcessLauncher.launch_service""\nwith the num of processes and service instance to real launch. when the\n""ProcessLauncher"" launch the service, it calls the ""start"" method of\nthe service directly without passing any parameters.\n\nStarting API processes, the service object passed in is WorkerService\n(in module neutron.wsgi) object. In the current design, pass the ""desc""\nin call ""WorkerService.start"", therefore, the desc cannot be set.\n\nThis patch add the ""desc"" parameter to the initialization, when call\n""start"" method, if set ""desc"", it will be used first. if not, ""desc""\npassed in initialization are used. this design solves the problem and\nkeeps compatibility.\n\nCloses-bug: #1910623\n\nChange-Id: Ia37182e572ac4e9ae83cd03d7008aa42c7ea36c8\n'}]",11,769660,75e030dfbdcf3c76fbc75d7cebf84b0a2ec5e026,47,8,9,30380,,,0,"neutron-server api worker process should be named to their role

The function of class ""ProcessLauncher"" is to fork multiple processes.
the function of ""WorkerService.start"" is provider api service and set
process title according to the parameter desc. when multiple API
processes need to be launched, use ""ProcessLauncher"" (in module
oslo_service.service) manage. call ""ProcessLauncher.launch_service""
with the num of processes and service instance to real launch. when the
""ProcessLauncher"" launch the service, it calls the ""start"" method of
the service directly without passing any parameters.

Starting API processes, the service object passed in is WorkerService
(in module neutron.wsgi) object. In the current design, pass the ""desc""
in call ""WorkerService.start"", therefore, the desc cannot be set.

This patch add the ""desc"" parameter to the initialization, when call
""start"" method, if set ""desc"", it will be used first. if not, ""desc""
passed in initialization are used. this design solves the problem and
keeps compatibility.

Closes-bug: #1910623

Change-Id: Ia37182e572ac4e9ae83cd03d7008aa42c7ea36c8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/769660/6 && git format-patch -1 --stdout FETCH_HEAD,['neutron/wsgi.py'],1,b7db16e5d0e5e56d1315487bd97b777c18fdc752,bug/1910623," self._launch(application, workers, desc)"," self._launch(application, workers)",1,1
openstack%2Fopenstacksdk~master~I5f9d5bcb102c5fd9fe60eb03e218c66f9c49592c,openstack/openstacksdk,master,I5f9d5bcb102c5fd9fe60eb03e218c66f9c49592c,Add support for updating Block Storage Volume type extra_spec attributes,MERGED,2020-10-13 15:19:34.000000000,2021-01-11 17:40:59.000000000,2021-01-11 17:37:54.000000000,"[{'_account_id': 10239}, {'_account_id': 14369}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-10-13 15:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/53ff5bc423d5f80ec485909c2db7362022a3b898', 'message': ""Add support for updating Block Storage Volume type extra_spec attributes\n\nWhile the volume_types/ endpoint returns extra_specs and accepts it on\ncreation it doesn't support updating them through volume_types.  It has\nto be updated through the volume_types/extra_specs endpoint.\n\nChange-Id: I5f9d5bcb102c5fd9fe60eb03e218c66f9c49592c\n""}, {'number': 2, 'created': '2020-11-24 08:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b686420a7e14efb892aba7954c6273c52eeacb01', 'message': ""Add support for updating Block Storage Volume type extra_spec attributes\n\nWhile the volume_types/ endpoint returns extra_specs and accepts it on\ncreation it doesn't support updating them through volume_types.  It has\nto be updated through the volume_types/extra_specs endpoint.\n\nChange-Id: I5f9d5bcb102c5fd9fe60eb03e218c66f9c49592c\n""}, {'number': 3, 'created': '2020-11-24 10:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2d6a1ba77cad7852dff60a098f68cab28bdddb15', 'message': ""Add support for updating Block Storage Volume type extra_spec attributes\n\nWhile the volume_types/ endpoint returns extra_specs and accepts it on\ncreation it doesn't support updating them through volume_types.  It has\nto be updated through the volume_types/extra_specs endpoint.\n\nChange-Id: I5f9d5bcb102c5fd9fe60eb03e218c66f9c49592c\n""}, {'number': 4, 'created': '2020-12-14 08:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/897c4acf2c844db6091f63f8ca85c2ac10028a87', 'message': ""Add support for updating Block Storage Volume type extra_spec attributes\n\nWhile the volume_types/ endpoint returns extra_specs and accepts it on\ncreation it doesn't support updating them through volume_types.  It has\nto be updated through the volume_types/extra_specs endpoint.\n\nChange-Id: I5f9d5bcb102c5fd9fe60eb03e218c66f9c49592c\n""}, {'number': 5, 'created': '2020-12-14 11:46:56.000000000', 'files': ['openstack/block_storage/v3/type.py', 'openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/block_storage/v3/_proxy.py', 'releasenotes/notes/add-volume-type-update-b84f50b7fa3b061d.yaml', 'openstack/tests/unit/block_storage/v3/test_type.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b4813fb83cd7ae547dd7bd5f706af54bd8308ee3', 'message': ""Add support for updating Block Storage Volume type extra_spec attributes\n\nWhile the volume_types/ endpoint returns extra_specs and accepts it on\ncreation it doesn't support updating them through volume_types.  It has\nto be updated through the volume_types/extra_specs endpoint.\n\nChange-Id: I5f9d5bcb102c5fd9fe60eb03e218c66f9c49592c\n""}]",2,757891,b4813fb83cd7ae547dd7bd5f706af54bd8308ee3,24,4,5,14369,,,0,"Add support for updating Block Storage Volume type extra_spec attributes

While the volume_types/ endpoint returns extra_specs and accepts it on
creation it doesn't support updating them through volume_types.  It has
to be updated through the volume_types/extra_specs endpoint.

Change-Id: I5f9d5bcb102c5fd9fe60eb03e218c66f9c49592c
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/91/757891/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/block_storage/v3/extra_specs.py', 'openstack/block_storage/v3/type.py', 'openstack/block_storage/v3/_proxy.py', 'releasenotes/notes/add-volume-type-update-b84f50b7fa3b061d.yaml']",4,53ff5bc423d5f80ec485909c2db7362022a3b898,blockstorage/extra_specs/update,--- features: - Add support for updating block storage volume type objects. ,,140,1
openstack%2Fpython-openstackclient~master~Id226831e3c09bc95c34b222151b27391a844b073,openstack/python-openstackclient,master,Id226831e3c09bc95c34b222151b27391a844b073,"Add 'server shelve --offload', 'server shelve --wait' options",MERGED,2020-11-11 19:26:14.000000000,2021-01-11 17:40:58.000000000,2021-01-11 17:37:32.000000000,"[{'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-11 19:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1074ea015a956f95605e0bac98d039977bb93e2b', 'message': ""Add 'server shelve --offload', 'server shelve --wait' options\n\nThe '--offload' option allows us to explicitly request that the server\nbe offloaded once shelved or if already shelved.\n\nThe '--wait' option allows us to wait for the shelve and/or offload\noperations to complete before returning.\n\nChange-Id: Id226831e3c09bc95c34b222151b27391a844b073\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2020-11-18 11:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c4cbf762b324671a313e47b5f2baf83b930cb12c', 'message': ""Add 'server shelve --offload', 'server shelve --wait' options\n\nThe '--offload' option allows us to explicitly request that the server\nbe offloaded once shelved or if already shelved.\n\nThe '--wait' option allows us to wait for the shelve and/or offload\noperations to complete before returning. It is implied if attempting to\noffload a server than is not yet shelved.\n\nChange-Id: Id226831e3c09bc95c34b222151b27391a844b073\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2021-01-08 18:30:17.000000000', 'files': ['releasenotes/notes/add-shelve-offload-wait-d0a5c8ba92586f72.yaml', 'openstackclient/tests/functional/common/test_help.py', 'doc/source/cli/data/nova.csv', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/64c2a1a453fce8f4e2e7e8441692af007c176459', 'message': ""Add 'server shelve --offload', 'server shelve --wait' options\n\nThe '--offload' option allows us to explicitly request that the server\nbe offloaded once shelved or if already shelved.\n\nThe '--wait' option allows us to wait for the shelve and/or offload\noperations to complete before returning. It is implied when attempting\nto offload a server than is not yet shelved.\n\nChange-Id: Id226831e3c09bc95c34b222151b27391a844b073\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",33,762396,64c2a1a453fce8f4e2e7e8441692af007c176459,28,5,3,15334,,,0,"Add 'server shelve --offload', 'server shelve --wait' options

The '--offload' option allows us to explicitly request that the server
be offloaded once shelved or if already shelved.

The '--wait' option allows us to wait for the shelve and/or offload
operations to complete before returning. It is implied when attempting
to offload a server than is not yet shelved.

Change-Id: Id226831e3c09bc95c34b222151b27391a844b073
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/96/762396/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-shelve-offload-wait-d0a5c8ba92586f72.yaml', 'openstackclient/tests/functional/common/test_help.py', 'doc/source/cli/data/nova.csv', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",5,1074ea015a956f95605e0bac98d039977bb93e2b,shelve-offload," """"""Shelve and optionally offload server(s). Shelving a server creates a snapshot of the server and stores this snapshot before shutting down the server. This shelved server can then be offloaded or deleted from the host, freeing up remaining resources on the host, such as network interfaces. Shelved servers can be unshelved, restoring the server from the snapshot. Shelving is therefore useful where users wish to retain the UUID and IP of a server, without utilizing other resources or disks. Most clouds are configured to automatically offload shelved servers immediately or after some delay. For clouds where this is not configured, offloading can be manually specified. This is an admin-only operation by default. """""" parser.add_argument( '--offload', action='store_true', default=False, help=_( 'Remove the shelved server(s) from the host (admin only). ' ), ) parser.add_argument( '--wait', action='store_true', default=False, help=_('Wait for shelve and/or offload operation to complete'), ) def _show_progress(progress): if progress: self.app.stdout.write('\rProgress: %s' % progress) self.app.stdout.flush() for server in parsed_args.server: server_obj = utils.find_resource( ) if server_obj.status.lower() in ('shelved', 'shelved_offloaded'): continue server_obj.shelve() # if we're also offloading, we need to wait until the shelve is # complete # TODO(stephenfin): This would be more efficient if we could shelve # all servers and then wait on all servers if parsed_args.wait or parsed_args.offload: if utils.wait_for_status( compute_client.servers.get, server_obj.id, success_status=('shelved', 'shelved_offloaded'), callback=_show_progress, ): LOG.error(_('Error shelving server: %s'), server_obj.id) self.app.stdout.write( _('Error shelving server: %s\n') % server_obj.id) raise SystemExit if not parsed_args.offload: return for server_obj in parsed_args.server: server_obj = utils.find_resource( compute_client.servers, server, ) if server_obj.status.lower() == 'shelved_offloaded': continue server_obj.shelve_offload() if parsed_args.wait: if not utils.wait_for_status( compute_client.servers.get, server_obj.id, success_status=('shelved_offloaded',), callback=_show_progress, ): LOG.error( _('Error offloading shelved server %s'), server_obj.id) self.app.stdout.write( _('Error offloading shelved server: %s\n') % ( server_obj.id)) raise SystemExit"," _description = _(""Shelve server(s)"") for server in parsed_args.server: utils.find_resource( ).shelve()",209,11
openstack%2Fpython-openstackclient~master~I633dd85b60cf70b4f8610f414d82669dd6a53111,openstack/python-openstackclient,master,I633dd85b60cf70b4f8610f414d82669dd6a53111,Add 'server unshelve --wait' option,MERGED,2020-11-18 11:36:50.000000000,2021-01-11 17:37:39.000000000,2021-01-11 17:37:39.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-11-18 11:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/43c83938cd32d76172b6762b9c71155e2044c7f3', 'message': ""Add 'server unshelve --wait' option\n\nThis was recently added to the 'server shelve' command. Add it now for\nthe 'unshelve' command.\n\nChange-Id: I633dd85b60cf70b4f8610f414d82669dd6a53111\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-01-08 18:30:17.000000000', 'files': ['releasenotes/notes/add-shelve-offload-wait-d0a5c8ba92586f72.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2b073c2034acdabb8d4097b7f2c0408e53fe2d63', 'message': ""Add 'server unshelve --wait' option\n\nThis was recently added to the 'server shelve' command. Add it now for\nthe 'unshelve' command.\n\nChange-Id: I633dd85b60cf70b4f8610f414d82669dd6a53111\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,763166,2b073c2034acdabb8d4097b7f2c0408e53fe2d63,10,3,2,15334,,,0,"Add 'server unshelve --wait' option

This was recently added to the 'server shelve' command. Add it now for
the 'unshelve' command.

Change-Id: I633dd85b60cf70b4f8610f414d82669dd6a53111
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/66/763166/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-shelve-offload-wait-d0a5c8ba92586f72.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",3,43c83938cd32d76172b6762b9c71155e2044c7f3,shelve-offload," parser.add_argument( '--wait', action='store_true', default=False, help=_('Wait for unshelve operation to complete'), ) def _show_progress(progress): if progress: self.app.stdout.write('\rProgress: %s' % progress) self.app.stdout.flush() kwargs = {} if parsed_args.availability_zone: if compute_client.api_version < api_versions.APIVersion('2.77'): msg = _( '--os-compute-api-version 2.77 or greater is required ' 'to support the --availability-zone option' ) raise exceptions.CommandError(msg) kwargs['availability_zone'] = parsed_args.availability_zone server_obj = utils.find_resource( compute_client.servers, server, ) if server_obj.status.lower() not in ( 'shelved', 'shelved_offloaded', ): continue server_obj.unshelve(**kwargs) if parsed_args.wait: if not utils.wait_for_status( compute_client.servers.get, server_obj.id, success_status=('active', 'shutoff'), callback=_show_progress, ): LOG.error(_('Error unshelving server %s'), server_obj.id) self.app.stdout.write( _('Error unshelving server: %s\n') % server_obj.id) raise SystemExit"," support_az = compute_client.api_version >= api_versions.APIVersion( '2.77') if not support_az and parsed_args.availability_zone: msg = _(""--os-compute-api-version 2.77 or greater is required "" ""to support the '--availability-zone' option."") raise exceptions.CommandError(msg) if support_az: utils.find_resource( compute_client.servers, server ).unshelve(availability_zone=parsed_args.availability_zone) else: utils.find_resource( compute_client.servers, server, ).unshelve()",101,48
openstack%2Fkuryr-libnetwork~master~Iac9a3421c23370f19f57d6aa84c2862ccfce2a94,openstack/kuryr-libnetwork,master,Iac9a3421c23370f19f57d6aa84c2862ccfce2a94,Add doc/requirements,MERGED,2021-01-06 01:27:02.000000000,2021-01-11 17:33:19.000000000,2021-01-11 17:32:08.000000000,"[{'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-01-06 01:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/e6521d0ff30ff2b6f04a69145743c2518a55b738', 'message': 'Add doc/requirements\n\nSpecify doc requirements needs to be moved out from\ntest-requirements.txt to in doc/requirements.txt\nto avoid problems with the pip resolver as announced by\nthe release team [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n\nChange-Id: Iac9a3421c23370f19f57d6aa84c2862ccfce2a94\n'}, {'number': 2, 'created': '2021-01-06 02:05:31.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/8f7866809240acd52667f9e47a5df4a700d9290b', 'message': 'Add doc/requirements\n\nSpecify doc requirements needs to be moved out from\ntest-requirements.txt to in doc/requirements.txt\nto avoid problems with the pip resolver as announced by\nthe release team [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n\nChange-Id: Iac9a3421c23370f19f57d6aa84c2862ccfce2a94\n'}]",0,769442,8f7866809240acd52667f9e47a5df4a700d9290b,13,5,2,27032,,,0,"Add doc/requirements

Specify doc requirements needs to be moved out from
test-requirements.txt to in doc/requirements.txt
to avoid problems with the pip resolver as announced by
the release team [1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html

Change-Id: Iac9a3421c23370f19f57d6aa84c2862ccfce2a94
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/42/769442/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,e6521d0ff30ff2b6f04a69145743c2518a55b738,fix-relmgt-pip-doc,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txtdeps = {[testenv:docs]deps},,6,3
openstack%2Ftripleo-common~stable%2Ftrain~Icd4d9ae60e7f6a93b4ac67c2811fddadb4797852,openstack/tripleo-common,stable/train,Icd4d9ae60e7f6a93b4ac67c2811fddadb4797852,remove c7 update/upgrdae jobs,ABANDONED,2021-01-11 17:31:00.000000000,2021-01-11 17:32:07.000000000,,[],"[{'number': 1, 'created': '2021-01-11 17:31:00.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/84b850a43fcf51692a543c3e0eace4312fdc7e11', 'message': 'remove c7 update/upgrdae jobs\n\nremove c7 update/upgrdae jobs\n\nRelated-Bug: #1911027\nChange-Id: Icd4d9ae60e7f6a93b4ac67c2811fddadb4797852\n'}]",0,770161,84b850a43fcf51692a543c3e0eace4312fdc7e11,2,0,1,9592,,,0,"remove c7 update/upgrdae jobs

remove c7 update/upgrdae jobs

Related-Bug: #1911027
Change-Id: Icd4d9ae60e7f6a93b4ac67c2811fddadb4797852
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/61/770161/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,84b850a43fcf51692a543c3e0eace4312fdc7e11,,, - tripleo-ci-centos-7-scenario000-multinode-oooq-container-upgrades: dependencies: *deps_unit_lint,0,2
openstack%2Fkuryr-libnetwork~master~I214bcb70d05c871dc7e35ce1d0d861911f728650,openstack/kuryr-libnetwork,master,I214bcb70d05c871dc7e35ce1d0d861911f728650,Fix lower-constraints job,MERGED,2021-01-06 01:24:16.000000000,2021-01-11 17:14:10.000000000,2021-01-11 17:12:44.000000000,"[{'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-01-06 01:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/d68264765d663299a737f9aa63202e6da88c2355', 'message': 'Fix lower-constraints job\n\nThis commit upgrades versions of kuryr-lib, MarkupSafe and\npyroute, which were required for the new pip resolver.\n\nChange-Id: I214bcb70d05c871dc7e35ce1d0d861911f728650\n'}, {'number': 2, 'created': '2021-01-06 01:43:30.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/e7bc12e5cbf9c9abe2ef69ffa3113558d60c88a6', 'message': 'Fix lower-constraints job\n\nThis commit upgrades versions of kuryr-lib, MarkupSafe and\npyroute, which were required for the new pip resolver.\n\nChange-Id: I214bcb70d05c871dc7e35ce1d0d861911f728650\n'}]",0,769441,e7bc12e5cbf9c9abe2ef69ffa3113558d60c88a6,11,5,2,27032,,,0,"Fix lower-constraints job

This commit upgrades versions of kuryr-lib, MarkupSafe and
pyroute, which were required for the new pip resolver.

Change-Id: I214bcb70d05c871dc7e35ce1d0d861911f728650
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/41/769441/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'tox.ini']",3,d68264765d663299a737f9aa63202e6da88c2355,fix-lc,install_command = pip install {opts} {packages} deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt,install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages} deps = -r{toxinidir}/requirements.txt,8,8
openstack%2Fopenstack-helm~master~Ief3cc723650a6c42e24dfd6159c0de6f81e56fce,openstack/openstack-helm,master,Ief3cc723650a6c42e24dfd6159c0de6f81e56fce,[cinder] Enable volume backup for iSCSI based volumes,MERGED,2021-01-08 23:16:04.000000000,2021-01-11 17:07:43.000000000,2021-01-09 02:36:43.000000000,"[{'_account_id': 8898}, {'_account_id': 18250}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 30746}]","[{'number': 1, 'created': '2021-01-08 23:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c0eda829d220866410848b0be439993dd1e08885', 'message': '[cinder] Enable volume backup for iSCSI based volumes\n\nThis patchset added the necessary hostPath, hostIpc and\nhostNetwork to enable the volume backup for iSCSI based\nCinder volumes.\n\nChange-Id: Ief3cc723650a6c42e24dfd6159c0de6f81e56fce\n'}, {'number': 2, 'created': '2021-01-08 23:38:14.000000000', 'files': ['cinder/values_overrides/backend_pure.yaml', 'cinder/values.yaml', 'cinder/Chart.yaml', 'cinder/templates/deployment-backup.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0a1d6aeb94937a4be49b29b5387c4ad7791eecfd', 'message': '[cinder] Enable volume backup for iSCSI based volumes\n\nThis patchset added the necessary hostPath, hostIpc and\nhostNetwork to enable the volume backup for iSCSI based\nCinder volumes.\n\nChange-Id: Ief3cc723650a6c42e24dfd6159c0de6f81e56fce\n'}]",0,770008,0a1d6aeb94937a4be49b29b5387c4ad7791eecfd,12,5,2,18236,,,0,"[cinder] Enable volume backup for iSCSI based volumes

This patchset added the necessary hostPath, hostIpc and
hostNetwork to enable the volume backup for iSCSI based
Cinder volumes.

Change-Id: Ief3cc723650a6c42e24dfd6159c0de6f81e56fce
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/08/770008/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/values_overrides/backend_pure.yaml', 'cinder/values.yaml', 'cinder/templates/deployment-backup.yaml']",3,c0eda829d220866410848b0be439993dd1e08885,,"{{- if .Values.pod.useHostNetwork.backup }} hostNetwork: true {{- end }} {{- if .Values.conf.enable_iscsi }} hostIPC: true {{- end }} terminationMessagePath: /var/log/termination-log {{- if .Values.conf.enable_iscsi }} - name: host-rootfs mountPath: /mnt/host-rootfs {{- if or ( gt .Capabilities.KubeVersion.Major ""1"" ) ( ge .Capabilities.KubeVersion.Minor ""10"" ) }} mountPropagation: HostToContainer {{- end }} - name: host-dev mountPath: /dev {{- if or ( gt .Capabilities.KubeVersion.Major ""1"" ) ( ge .Capabilities.KubeVersion.Minor ""10"" ) }} mountPropagation: Bidirectional {{- end }} - name: runlock mountPath: /run/lock - name: etciscsi mountPath: /etc/iscsi {{- if or ( gt .Capabilities.KubeVersion.Major ""1"" ) ( ge .Capabilities.KubeVersion.Minor ""10"" ) }} mountPropagation: Bidirectional {{- end }} - name: usrlocalsbin mountPath: /usr/local/sbin - name: cinder-bin mountPath: /usr/local/sbin/iscsiadm subPath: iscsiadm {{- end }} {{- if .Values.conf.enable_iscsi }} - name: host-rootfs hostPath: path: / - name: host-dev hostPath: path: /dev - name: runlock hostPath: path: /run/lock - name: etciscsi hostPath: path: /etc/iscsi - name: usrlocalsbin emptyDir: {} {{- end }}",,53,0
openstack%2Fnova-specs~master~I36d3b544afb33cdeb70dc3f2a9e067904ebfac05,openstack/nova-specs,master,I36d3b544afb33cdeb70dc3f2a9e067904ebfac05,libvirt: Update instance machine type stash spec,MERGED,2021-01-06 14:42:05.000000000,2021-01-11 16:40:03.000000000,2021-01-11 16:38:03.000000000,"[{'_account_id': 4393}, {'_account_id': 7166}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-06 14:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8c8a26db15cb251fc0b8e980bb013f7ab0118a6a', 'message': 'libvirt: Update instance machine type stash spec\n\nThe original spec wanted to introduce a new attribute to the Instance\nobject when discussions at the PTG had actually been around using the\nexisting system metadata store for this.\n\nSome simple style nits are also addressed in this change.\n\nChange-Id: I36d3b544afb33cdeb70dc3f2a9e067904ebfac05\n'}, {'number': 2, 'created': '2021-01-07 11:45:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/6892b5ed52fbcc6edecfa0f3b6fdeb519f447cae', 'message': 'libvirt: Update instance machine type stash spec\n\n* Replaces references to a new ``hw_machine_type`` Instance object\n  attribute with the existing ``system_metadata`` dict. This was\n  actually agreed to during the PTG but lost and replaced with the new\n  attribute sometime later.\n\n* Drops the move of the hardcoded default machine types into the\n  ``[libvirt]/hw_machine_type`` configurable as on review this is not\n  actually required to achieve the goals of this spec and would if\n  anything make things more complicated when upgrading.\n\n* Lists the new ``nova-manage`` commands and adds ``SHELVED``\n  as an allowed vm_state for the ``update_machine_type`` command.\n\n* Lists the default restrictions around updating the machine type via\n  the ``update_machine_type`` outside of a full rebuild. These include\n  between underlying machine types and from newer to older versions of the\n  same machine type.\n\n* Adds a ``--force`` flag to the ``update_machine_type`` command to\n  allow operators to workaround these restrictions.\n\n* Drops the reference to the versioned machine types from the data model\n  impact section as we are now using ``system_metadata`` that forces us\n  to use strings.\n\n* Replaces the incorrect ``SHUTOFF`` vm_state with the correct ``STOPPED``\n  state.\n\n* Replaces some incorrect uses of the term deployer and operator/admin\n  with operator.\n\nChange-Id: I36d3b544afb33cdeb70dc3f2a9e067904ebfac05\n'}, {'number': 3, 'created': '2021-01-07 12:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ec3614260c44966db3d2849512ff6cb4598131a5', 'message': 'libvirt: Update instance machine type stash spec\n\n* Replaces references to a new ``hw_machine_type`` Instance object\n  attribute with the existing ``system_metadata`` dict. This was\n  actually agreed to during the PTG but lost and replaced with the new\n  attribute sometime later.\n\n* Drops the move of the hardcoded default machine types into the\n  ``[libvirt]/hw_machine_type`` configurable as on review this is not\n  actually required to achieve the goals of this spec and would if\n  anything make things more complicated when upgrading.\n\n* Lists the new ``nova-manage`` commands and adds ``SHELVED``\n  as an allowed vm_state for the ``update_machine_type`` command.\n\n* Lists the default restrictions around updating the machine type via\n  the ``update_machine_type`` outside of a full rebuild. These include\n  between underlying machine types and from newer to older versions of the\n  same machine type.\n\n* Adds a ``--force`` flag to the ``update_machine_type`` command to\n  allow operators to workaround these restrictions.\n\n* Drops the reference to the versioned machine types from the data model\n  impact section as we are now using ``system_metadata`` that forces us\n  to use strings.\n\n* Replaces the incorrect ``SHUTOFF`` vm_state with the correct ``STOPPED``\n  state.\n\n* Replaces some incorrect uses of the term deployer and operator/admin\n  with operator.\n\nChange-Id: I36d3b544afb33cdeb70dc3f2a9e067904ebfac05\n'}, {'number': 4, 'created': '2021-01-11 16:15:03.000000000', 'files': ['specs/wallaby/approved/libvirt-stash-instance-machine-type.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0d58760cdf705f2999bf2aa341df818f20b3df82', 'message': 'libvirt: Update instance machine type stash spec\n\n* Replaces references to a new ``hw_machine_type`` Instance object\n  attribute with the existing ``system_metadata`` dict. This was\n  actually agreed to during the PTG but lost and replaced with the new\n  attribute sometime later.\n\n* Drops the move of the hardcoded default machine types into the\n  ``[libvirt]/hw_machine_type`` configurable as on review this is not\n  actually required to achieve the goals of this spec and would if\n  anything make things more complicated when upgrading.\n\n* Lists the new ``nova-manage`` commands and adds ``SHELVED``\n  as an allowed vm_state for the ``update_machine_type`` command.\n\n* Lists the default restrictions around updating the machine type via\n  the ``update_machine_type`` outside of a full rebuild. These include\n  between underlying machine types and from newer to older versions of the\n  same machine type.\n\n* Adds a ``--force`` flag to the ``update_machine_type`` command to\n  allow operators to workaround these restrictions.\n\n* Drops the reference to the versioned machine types from the data model\n  impact section as we are now using ``system_metadata`` that forces us\n  to use strings.\n\n* Replaces the incorrect ``SHUTOFF`` vm_state with the correct ``STOPPED``\n  state.\n\n* Replaces some incorrect uses of the term deployer and operator/admin\n  with operator.\n\nChange-Id: I36d3b544afb33cdeb70dc3f2a9e067904ebfac05\n'}]",14,769547,0d58760cdf705f2999bf2aa341df818f20b3df82,22,5,4,10135,,,0,"libvirt: Update instance machine type stash spec

* Replaces references to a new ``hw_machine_type`` Instance object
  attribute with the existing ``system_metadata`` dict. This was
  actually agreed to during the PTG but lost and replaced with the new
  attribute sometime later.

* Drops the move of the hardcoded default machine types into the
  ``[libvirt]/hw_machine_type`` configurable as on review this is not
  actually required to achieve the goals of this spec and would if
  anything make things more complicated when upgrading.

* Lists the new ``nova-manage`` commands and adds ``SHELVED``
  as an allowed vm_state for the ``update_machine_type`` command.

* Lists the default restrictions around updating the machine type via
  the ``update_machine_type`` outside of a full rebuild. These include
  between underlying machine types and from newer to older versions of the
  same machine type.

* Adds a ``--force`` flag to the ``update_machine_type`` command to
  allow operators to workaround these restrictions.

* Drops the reference to the versioned machine types from the data model
  impact section as we are now using ``system_metadata`` that forces us
  to use strings.

* Replaces the incorrect ``SHUTOFF`` vm_state with the correct ``STOPPED``
  state.

* Replaces some incorrect uses of the term deployer and operator/admin
  with operator.

Change-Id: I36d3b544afb33cdeb70dc3f2a9e067904ebfac05
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/47/769547/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/wallaby/approved/libvirt-stash-instance-machine-type.rst'],1,8c8a26db15cb251fc0b8e980bb013f7ab0118a6a,spec/libvirt-default-machine-type,"* Store the used machine type in the instance system metadata table during the initial spawn of the instance *or* init_host of the compute service for all running instances that don't have a ``hw_machine_type`` already stored. * Unset the stored machine type during a rebuild allowing a new image defined machine type or host configured default to be used. * Allow operators to set the machine type of ``SHELVE_OFFLOADED`` instances via an admin/operator via a ``nova-manage`` command. Also allowing operators toThe machine type will be stored within the ``Instance`` object under the ``system_metadata`` field that is a ``DictOfNullableStringsField`` using the key ``hw_machine_type``. Note that a string is used here as we cannot enumerate all of the possible values of machine_type as different distributions provide different versioned machine_types. For example Fedora provides machine types versioned by the underlying QEMU version, while RHEL provides machine types versioned by the* Introduce a ``nova-status`` upgrade check to ensure the machine_type has been updated for all instances residing on a given host in the env or across all hosts. ","* Copy the hardcoded machine type defaults from the libvirt driver into the ``[libvirt]/hw_machine_type`` configurable. * Store the used machine type in the instance extras table during the initial spawn of the instance *or* init_host of the compute service for all running instances that don't have a ``machine_type`` listed at present. * Allow operators to set the machine_type of ``SHELVE_OFFLOADED`` instances via an admin/operator via a ``nova-manage`` command. Allowing operators toThe ``Instance`` object will be extended to include a nullable ``hw_machine_type`` attribute that maps to a simple ``StringField`` stored in the instance extras table. A ``StringField`` is used here as we cannot enumerate all of the possible values of machine_type as different distributions provide different versioned machine_types. For example Fedora provides machine types versioned by the underlying QEMU version, while RHEL provides machine types versioned by the* Introduce a ``nova-status`` upgrade check to ensure the machine_type has been updated for all instances residing on a given host in the env or across all hosts. ",18,18
openstack%2Ftempest~master~Ia561c547e90ae834725c308fd5de9259d1830104,openstack/tempest,master,Ia561c547e90ae834725c308fd5de9259d1830104,DNM: tesgting neutron feature flag,ABANDONED,2021-01-11 16:27:17.000000000,2021-01-11 16:29:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-11 16:27:17.000000000', 'files': ['tempest/scenario/test_minbw_allocation_placement.py', 'zuul.d/stable-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c8dc8e5b79030678ec7f819477f334aa511e2183', 'message': 'DNM: tesgting neutron feature flag\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/769885\nChange-Id: Ia561c547e90ae834725c308fd5de9259d1830104\n'}]",0,770144,c8dc8e5b79030678ec7f819477f334aa511e2183,3,1,1,8556,,,0,"DNM: tesgting neutron feature flag

Depends-On: https://review.opendev.org/c/openstack/devstack/+/769885
Change-Id: Ia561c547e90ae834725c308fd5de9259d1830104
",git fetch https://review.opendev.org/openstack/tempest refs/changes/44/770144/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/scenario/test_minbw_allocation_placement.py', 'zuul.d/stable-jobs.yaml']",2,c8dc8e5b79030678ec7f819477f334aa511e2183,testing, vars: devstack_local_conf: test-config: $TEMPEST_CONFIG: network-feature-enabled: available_features: ''<<<<<<< HEAD ======= vars: devstack_local_conf: test-config: $TEMPEST_CONFIG: network-feature-enabled: available_features: '' - job: name: tempest-full-stein-py3 parent: tempest-full-py3 nodeset: openstack-single-node-bionic override-checkout: stable/stein vars: devstack_local_conf: test-config: $TEMPEST_CONFIG: network-feature-enabled: available_features: '' >>>>>>> 0db1b8df1... Test for changing QoS policy with min bw of bound port,,243,28
openstack%2Fcharm-nova-cloud-controller~master~I360f2d72cad374c31ee766065af682e2fa6218d1,openstack/charm-nova-cloud-controller,master,I360f2d72cad374c31ee766065af682e2fa6218d1,Ensure user is aware upgrade has not happened w/ train,MERGED,2021-01-07 20:19:33.000000000,2021-01-11 16:16:10.000000000,2021-01-11 16:16:10.000000000,"[{'_account_id': 14567}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 20:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/d12cc7365cd0fa85f083c95073413d3fe77e2406', 'message': ""Ensure user is aware upgrade has not happened w/ train\n\nThere is a 'hole' in the user experience where if you try to\nopenstack-upgrade from stein to train but have no already related\nplacement to the nova-cc unit, then the openstack upgrade is aborted and\na workload message indicates that the relation is needed.\n\nHowever, if you then subsequently add the placement relation, the\nwarning goes away, but the payload is not upgraded to match the\nopenstack-origin value.\n\nThis patch adds a warning if the openstack-origin is for train, the\npayload is stein, the action-managed-upgrade is false and the placement\nrelation is made; i.e. that the operator fell into the above hole.\n\nChange-Id: I360f2d72cad374c31ee766065af682e2fa6218d1\nCloses-Bug: #1910276\n""}, {'number': 2, 'created': '2021-01-11 14:10:16.000000000', 'files': ['hooks/nova_cc_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/6c5a5cdff330a775c343ab81cac5c45820176a12', 'message': ""Ensure user is aware upgrade has not happened w/ train\n\nThere is a 'hole' in the user experience where if you try to\nopenstack-upgrade from stein to train but have no already related\nplacement to the nova-cc unit, then the openstack upgrade is aborted and\na workload message indicates that the relation is needed.\n\nHowever, if you then subsequently add the placement relation, the\nwarning goes away, but the payload is not upgraded to match the\nopenstack-origin value.\n\nThis patch adds a warning if the openstack-origin is for train, the\npayload is stein, the action-managed-upgrade is false and the placement\nrelation is made; i.e. that the operator fell into the above hole.\n\nChange-Id: I360f2d72cad374c31ee766065af682e2fa6218d1\nCloses-Bug: #1910276\n""}]",1,769828,6c5a5cdff330a775c343ab81cac5c45820176a12,14,4,2,20870,,,0,"Ensure user is aware upgrade has not happened w/ train

There is a 'hole' in the user experience where if you try to
openstack-upgrade from stein to train but have no already related
placement to the nova-cc unit, then the openstack upgrade is aborted and
a workload message indicates that the relation is needed.

However, if you then subsequently add the placement relation, the
warning goes away, but the payload is not upgraded to match the
openstack-origin value.

This patch adds a warning if the openstack-origin is for train, the
payload is stein, the action-managed-upgrade is false and the placement
relation is made; i.e. that the operator fell into the above hole.

Change-Id: I360f2d72cad374c31ee766065af682e2fa6218d1
Closes-Bug: #1910276
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/28/769828/2 && git format-patch -1 --stdout FETCH_HEAD,['hooks/nova_cc_utils.py'],1,d12cc7365cd0fa85f083c95073413d3fe77e2406,bug/1910276," charm is related. If placement does exist, but openstack-origin doesn't match installed payload then order of upgrades may mean that the blocked message has been missed; e.g. the upgrade was attempted, then placement was related, but not the payload version doesn't match the corresponding openstack-origin. Check only performed if action-managed-upgrade is false. if cmp_cur_os_rel == 'stein' and cmp_new_os_rel == 'train': if not hookenv.relation_ids('placement'): return ('blocked', 'placement charm must be related prior to ' 'upgrading to OpenStack Train') if not hookenv.config('action-managed-upgrade'): return ('blocked', ""openstack-origin '{}' doesn't match installed payload"" .format(new_src))"," charm is related. if (cmp_cur_os_rel == 'stein' and cmp_new_os_rel == 'train' and not hookenv.relation_ids('placement')): return ('blocked', 'placement charm must be related prior to ' 'upgrading to OpenStack Train')",14,7
openstack%2Ftripleo-common~master~I8616775584cf0216314109d21dabd32635293a27,openstack/tripleo-common,master,I8616775584cf0216314109d21dabd32635293a27,Fix ImportWarning during importing a module,MERGED,2020-12-17 16:33:13.000000000,2021-01-11 16:12:29.000000000,2020-12-23 12:50:49.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-12-17 16:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e30d90b9ff32a46b400abfb492197ea0212f3754', 'message': 'Fix ImportWarning during importing a module\n\nSet warnings category to filter only DeprecationWarnings\n\nCloses-Bug: #1889380\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I8616775584cf0216314109d21dabd32635293a27\n'}, {'number': 2, 'created': '2020-12-18 17:04:25.000000000', 'files': ['tripleo_common/utils/config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c296d83eaa6edc9d14f76fc2995857f3646dac75', 'message': 'Fix ImportWarning during importing a module\n\nSet warnings category to filter only DeprecationWarnings\nand UserWarning\n\nCloses-Bug: #1889380\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I8616775584cf0216314109d21dabd32635293a27\n'}]",2,767584,c296d83eaa6edc9d14f76fc2995857f3646dac75,16,8,2,32240,,,0,"Fix ImportWarning during importing a module

Set warnings category to filter only DeprecationWarnings
and UserWarning

Closes-Bug: #1889380
Signed-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>
Change-Id: I8616775584cf0216314109d21dabd32635293a27
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/84/767584/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/config.py'],1,e30d90b9ff32a46b400abfb492197ea0212f3754,bug/1889380,"warnings.filterwarnings('once', category=DeprecationWarning)",warnings.filterwarnings('once'),1,1
openstack%2Ftripleo-docs~master~Ia53fb7bf42a6f71d56474500f709f819749682ac,openstack/tripleo-docs,master,Ia53fb7bf42a6f71d56474500f709f819749682ac,[troubleshoot-overcloud] Manual config-download,MERGED,2020-12-15 22:56:37.000000000,2021-01-11 15:55:53.000000000,2021-01-11 15:53:52.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-15 22:56:37.000000000', 'files': ['deploy-guide/source/troubleshooting/troubleshooting-overcloud.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/e8cc72bad956a0746e12c4fe09d1295b99004c31', 'message': '[troubleshoot-overcloud] Manual config-download\n\nSuggest that the Ansible content used for deployment be ran manually.\nAdvice is provided on how to use it along with a link to existing\ndocumentation.\n\nChange-Id: Ia53fb7bf42a6f71d56474500f709f819749682ac\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",0,767229,e8cc72bad956a0746e12c4fe09d1295b99004c31,9,4,1,25877,,,0,"[troubleshoot-overcloud] Manual config-download

Suggest that the Ansible content used for deployment be ran manually.
Advice is provided on how to use it along with a link to existing
documentation.

Change-Id: Ia53fb7bf42a6f71d56474500f709f819749682ac
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/29/767229/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/troubleshooting/troubleshooting-overcloud.rst'],1,e8cc72bad956a0746e12c4fe09d1295b99004c31,," Manually Run the Deployment ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ The deployment can be replicated by `manually running the config-download Ansible playbooks <https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/ansible_config_download.html#manual-config-download>`_. This also allows the Ansible inventory, variables, playbooks, tasks, and more to be modified to help narrow down issues. Consider using ``ansible-playbook --start-at-task`` to more quickly troubleshooting an error.",,9,0
openstack%2Fcharm-ceph-radosgw~stable%2F20.10~I04ca79487085d9088811bc0ffd5f0981db50c42e,openstack/charm-ceph-radosgw,stable/20.10,I04ca79487085d9088811bc0ffd5f0981db50c42e,Fix haproxy not running and race in zone creation,MERGED,2020-11-27 09:36:18.000000000,2021-01-11 15:43:35.000000000,2021-01-11 15:43:35.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-11-27 09:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/d7f95065e387bd9693670c643d9076d47fdcc959', 'message': 'Fix haproxy not running on fresh deployments\n\nAlso add Groovy to the test gate.\n\nChange-Id: I04ca79487085d9088811bc0ffd5f0981db50c42e\nCloses-Bug: #1904411\n(cherry picked from commit a43af5c7e70875386f17fc3043024fd71c318e4a)\n'}, {'number': 2, 'created': '2020-11-27 09:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/7854b5235f0b2b88d8196fbbf427f3270dddf534', 'message': 'Fix haproxy not running on fresh deployments\n\nAlso add Groovy to the test gate.\n\nChange-Id: I04ca79487085d9088811bc0ffd5f0981db50c42e\nCloses-Bug: #1904411\n(cherry picked from commit a43af5c7e70875386f17fc3043024fd71c318e4a)\n'}, {'number': 3, 'created': '2020-11-27 15:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/4597b4316e562addd5b5f7ed85b0f8c3c2bcbb03', 'message': ""Fix haproxy not running on fresh deployments\n\nAlso add Groovy to the test gate and sync static libraries.\n\nNote: the library sync doesn't come from cherry-picking but\nhas been run again instead in order to fetch stable 20.10\nlibraries.\n\nChange-Id: I04ca79487085d9088811bc0ffd5f0981db50c42e\nCloses-Bug: #1904411\n(cherry picked from commit a43af5c7e70875386f17fc3043024fd71c318e4a)\n""}, {'number': 4, 'created': '2021-01-07 09:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/73cc86bf98fc03fb1a4990149b7673ca1085e736', 'message': 'Fix haproxy not running and race in zone creation\n\nThis change cherry-picks two bugfixes at the same time\nas they are both needed in order to get the gate green:\n- Fix haproxy not running on fresh deployments\n- Fix race condition in default zone creation\n\nAlso add Groovy to the test gate.\n\nChange-Id: I04ca79487085d9088811bc0ffd5f0981db50c42e\nCloses-Bug: #1904411\nCloses-Bug: #1905985\n(cherry picked from commit a43af5c7e70875386f17fc3043024fd71c318e4a)\n(cherry picked from commit f35f3e0392e6b841d3899d522d38bd6b3621277b)\n'}, {'number': 5, 'created': '2021-01-07 09:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/e153dd9463aca0a064ff160c7ddcff5680b110f2', 'message': 'Fix haproxy not running and race in zone creation\n\nThis change cherry-picks 3 bugfixes at the same time\nas they are all needed in order to get the gate green:\n- Fix haproxy not running on fresh deployments\n- Sync release-tools\n- Fix race condition in default zone creation\n\nSync release-tools boilerplate containing these changes\nin order to pin pip < 20.3:\nhttps://github.com/openstack-charmers/release-tools/pull/125\nhttps://github.com/openstack-charmers/release-tools/pull/126\nhttps://github.com/openstack-charmers/release-tools/pull/127\nhttps://github.com/openstack-charmers/release-tools/pull/129\n\nAlso add Groovy to the test gate.\n\nChange-Id: I04ca79487085d9088811bc0ffd5f0981db50c42e\nCloses-Bug: #1904411\nCloses-Bug: #1905985\n(cherry picked from commit a43af5c7e70875386f17fc3043024fd71c318e4a)\n(cherry picked from commit 330539066a71e0f6501d7005999635507bf4b977)\n(cherry picked from commit f35f3e0392e6b841d3899d522d38bd6b3621277b)\n'}, {'number': 6, 'created': '2021-01-07 12:22:21.000000000', 'files': ['hooks/hooks.py', 'hooks/utils.py', 'tests/tests.yaml', 'requirements.txt', 'test-requirements.txt', 'unit_tests/test_hooks.py', 'unit_tests/test_multisite.py', 'hooks/multisite.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/975024ea534af87f4bbb9f6980d8e1571aa74666', 'message': 'Fix haproxy not running and race in zone creation\n\nThis change cherry-picks 3 bugfixes at the same time\nas they are all needed in order to get the gate green:\n- Fix haproxy not running on fresh deployments\n- Sync release-tools\n- Fix race condition in default zone creation\n\nSync release-tools boilerplate containing these changes\nin order to pin pip < 20.3:\nhttps://github.com/openstack-charmers/release-tools/pull/125\nhttps://github.com/openstack-charmers/release-tools/pull/126\nhttps://github.com/openstack-charmers/release-tools/pull/127\nhttps://github.com/openstack-charmers/release-tools/pull/129\n\nAlso add Groovy to the test gate.\n\nChange-Id: I04ca79487085d9088811bc0ffd5f0981db50c42e\nCloses-Bug: #1904411\nCloses-Bug: #1905985\n(cherry picked from commit a43af5c7e70875386f17fc3043024fd71c318e4a)\n(cherry picked from commit 330539066a71e0f6501d7005999635507bf4b977)\n(cherry picked from commit f35f3e0392e6b841d3899d522d38bd6b3621277b)\n'}]",0,764305,975024ea534af87f4bbb9f6980d8e1571aa74666,38,5,6,31289,,,0,"Fix haproxy not running and race in zone creation

This change cherry-picks 3 bugfixes at the same time
as they are all needed in order to get the gate green:
- Fix haproxy not running on fresh deployments
- Sync release-tools
- Fix race condition in default zone creation

Sync release-tools boilerplate containing these changes
in order to pin pip < 20.3:
https://github.com/openstack-charmers/release-tools/pull/125
https://github.com/openstack-charmers/release-tools/pull/126
https://github.com/openstack-charmers/release-tools/pull/127
https://github.com/openstack-charmers/release-tools/pull/129

Also add Groovy to the test gate.

Change-Id: I04ca79487085d9088811bc0ffd5f0981db50c42e
Closes-Bug: #1904411
Closes-Bug: #1905985
(cherry picked from commit a43af5c7e70875386f17fc3043024fd71c318e4a)
(cherry picked from commit 330539066a71e0f6501d7005999635507bf4b977)
(cherry picked from commit f35f3e0392e6b841d3899d522d38bd6b3621277b)
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/05/764305/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'hooks/utils.py', 'lib/charms_ceph/utils.py', 'hooks/charmhelpers/core/decorators.py', 'tests/tests.yaml', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'hooks/charmhelpers/contrib/network/ip.py', 'hooks/charmhelpers/contrib/openstack/templates/section-placement', 'lib/charms_ceph/broker.py', 'hooks/charmhelpers/contrib/openstack/ip.py']",13,d7f95065e387bd9693670c643d9076d47fdcc959,groovy-charm-gate-stable/20.10,"# TODO: reconcile 'int' vs 'internal' binding names # Note (thedac) bridge to begin the reconciliation between 'int' vs # 'internal' binding names 'internal': { 'binding': 'internal', 'config': 'os-internal-network', 'fallback': 'private-address', 'override': 'os-internal-hostname', }, def get_default_api_bindings(): _default_bindings = [] for binding in [INTERNAL, ADMIN, PUBLIC]: _default_bindings.append(ADDRESS_MAP[binding]['binding']) return _default_bindings",,254,56
openstack%2Fcharm-masakari~stable%2F20.10~I9607f01a800baded37cfc23b6bc9f8e6aecc2d74,openstack/charm-masakari,stable/20.10,I9607f01a800baded37cfc23b6bc9f8e6aecc2d74,Add config options for expired notifications,MERGED,2020-11-10 22:44:05.000000000,2021-01-11 15:37:36.000000000,2021-01-11 15:37:36.000000000,"[{'_account_id': 8992}, {'_account_id': 10058}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-11-10 22:44:05.000000000', 'files': ['src/config.yaml', 'src/templates/stein/masakari.conf'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/3d1982d0f9c7ec57e9c44a48ad90e0c45a8c2981', 'message': 'Add config options for expired notifications\n\nAdds config options to configure the notification expiration time\nas well as how frequent to check for expired notifications.\n\nChange-Id: I9607f01a800baded37cfc23b6bc9f8e6aecc2d74\nCloses-Bug: #1773765\n(cherry picked from commit 62bc9c05b9cd438d45067e0efafe6fa75ef5b500)\n'}]",0,762216,3d1982d0f9c7ec57e9c44a48ad90e0c45a8c2981,20,6,1,8992,,,0,"Add config options for expired notifications

Adds config options to configure the notification expiration time
as well as how frequent to check for expired notifications.

Change-Id: I9607f01a800baded37cfc23b6bc9f8e6aecc2d74
Closes-Bug: #1773765
(cherry picked from commit 62bc9c05b9cd438d45067e0efafe6fa75ef5b500)
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/16/762216/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/templates/stein/masakari.conf']",2,3d1982d0f9c7ec57e9c44a48ad90e0c45a8c2981,bug/1773765,{% if options.notification_expiration -%} notifications_expired_interval = {{ options.notification_expiration }} {% endif -%} {% if options.check_expired_interval -%} check_expired_notifications_interval = {{ options.check_expired_interval }} {% endif -%} ,,19,0
openstack%2Fcharm-magpie~master~Ib7d5d268becfb2dc803323a6a3d8b0a2f2eefd04,openstack/charm-magpie,master,Ib7d5d268becfb2dc803323a6a3d8b0a2f2eefd04,Add support for iperf action,MERGED,2021-01-08 10:31:46.000000000,2021-01-11 15:35:02.000000000,2021-01-11 15:35:02.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 10:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/06da00807cd36d8880ec160b9027d130e01e45d5', 'message': 'Add support for iperf action\n\nSupport execution of iperf using an action to support\nexpanded performance testing requirements.\n\nThis allows iperf to be run in parallel between multiple\nunits.\n\nThis commit also adds support for collection of metrics\nfrom iperf during testing for collation by Prometheus.\n\nDepends-On: I46f7d3e13c002524bb340988bd6ba163a74ad29c\nChange-Id: Ib7d5d268becfb2dc803323a6a3d8b0a2f2eefd04\n'}, {'number': 2, 'created': '2021-01-08 13:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/bdb75a85cc7bbb04ae80f5c6e22cf920abbe889a', 'message': 'Add support for iperf action\n\nSupport execution of iperf using an action to support\nexpanded performance testing requirements.\n\nThis allows iperf to be run in parallel between multiple\nunits.\n\nThis commit also adds support for collection of metrics\nfrom iperf during testing for collation by Prometheus.\n\nDepends-On: I46f7d3e13c002524bb340988bd6ba163a74ad29c\nChange-Id: Ib7d5d268becfb2dc803323a6a3d8b0a2f2eefd04\n'}, {'number': 3, 'created': '2021-01-08 13:57:44.000000000', 'files': ['src/actions/listen', 'src/actions/run-iperf', 'test-requirements.txt', 'src/lib/charms/layer/magpie_tools.py', 'src/actions.yaml', 'src/wheelhouse.txt', 'src/actions/advertise', 'src/reactive/magpie.py', 'src/metadata.yaml', 'src/actions/actions.py', 'src/layer.yaml'], 'web_link': 'https://opendev.org/openstack/charm-magpie/commit/53bf502f9a5f453ff14e546594f7bfe5e6554f3e', 'message': 'Add support for iperf action\n\nSupport execution of iperf using an action to support\nexpanded performance testing requirements.\n\nThis allows iperf to be run in parallel between multiple\nunits.\n\nThis commit also adds support for collection of metrics\nfrom iperf during testing for collation by Prometheus.\n\nDepends-On: I46f7d3e13c002524bb340988bd6ba163a74ad29c\nChange-Id: Ib7d5d268becfb2dc803323a6a3d8b0a2f2eefd04\n'}]",21,769905,53bf502f9a5f453ff14e546594f7bfe5e6554f3e,12,4,3,935,,,0,"Add support for iperf action

Support execution of iperf using an action to support
expanded performance testing requirements.

This allows iperf to be run in parallel between multiple
units.

This commit also adds support for collection of metrics
from iperf during testing for collation by Prometheus.

Depends-On: I46f7d3e13c002524bb340988bd6ba163a74ad29c
Change-Id: Ib7d5d268becfb2dc803323a6a3d8b0a2f2eefd04
",git fetch https://review.opendev.org/openstack/charm-magpie refs/changes/05/769905/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/actions/listen', 'src/actions/run-iperf', 'src/actions.yaml', 'src/lib/charms/layer/magpie_tools.py', 'src/wheelhouse.txt', 'src/actions/advertise', 'src/reactive/magpie.py', 'src/metadata.yaml', 'src/actions/actions.py', 'src/layer.yaml']",10,06da00807cd36d8880ec160b9027d130e01e45d5,iperf-action,"includes: [ 'layer:basic', 'interface:magpie', 'layer:leadership', 'interface:http' ] options: basic: use_venv: True include_system_packages: False","includes: ['layer:basic', 'interface:magpie', 'layer:leadership']",381,11
openstack%2Fmolteniron~master~Ida560d0390a48bc357287bb140e84931e220afbb,openstack/molteniron,master,Ida560d0390a48bc357287bb140e84931e220afbb,Add doc/requirements,ABANDONED,2021-01-04 18:33:58.000000000,2021-01-11 15:26:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-04 18:33:58.000000000', 'files': ['.gitignore', 'test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/molteniron/commit/48522e56d7d8d9e5264faf200493db69d52bf370', 'message': 'Add doc/requirements\n\nWe need to specify doc requirements in doc/requirements.txt\nto avoid problems with the pip resolver for the release team.\nRemoved specific doc requirements from test-requirements.txt\n\nAlso added .gitignore\n\nChange-Id: Ida560d0390a48bc357287bb140e84931e220afbb\n'}]",0,769203,48522e56d7d8d9e5264faf200493db69d52bf370,3,1,1,15519,,,0,"Add doc/requirements

We need to specify doc requirements in doc/requirements.txt
to avoid problems with the pip resolver for the release team.
Removed specific doc requirements from test-requirements.txt

Also added .gitignore

Change-Id: Ida560d0390a48bc357287bb140e84931e220afbb
",git fetch https://review.opendev.org/openstack/molteniron refs/changes/03/769203/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",4,48522e56d7d8d9e5264faf200493db69d52bf370,fix-relmgt-pip-doc,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txtdeps = {[testenv:docs]deps},,64,5
openstack%2Fcharm-keystone-kerberos~master~I9734b3f5de0720472825b9ee05392bf5dd6080fe,openstack/charm-keystone-kerberos,master,I9734b3f5de0720472825b9ee05392bf5dd6080fe,Add Groovy to the test gate,MERGED,2020-11-05 11:48:11.000000000,2021-01-11 15:18:55.000000000,2021-01-11 15:18:55.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-05 11:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/ce47036874122b2493fc598a8f88151502d813d0', 'message': 'Add Groovy to the test gate\n\nChange-Id: I9734b3f5de0720472825b9ee05392bf5dd6080fe\n'}, {'number': 2, 'created': '2021-01-07 10:11:15.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/a3368a67a14645c2d4995cb0fada50fd3585b374', 'message': 'Add Groovy to the test gate\n\nChange-Id: I9734b3f5de0720472825b9ee05392bf5dd6080fe\n'}]",0,761562,a3368a67a14645c2d4995cb0fada50fd3585b374,15,3,2,31289,,,0,"Add Groovy to the test gate

Change-Id: I9734b3f5de0720472825b9ee05392bf5dd6080fe
",git fetch https://review.opendev.org/openstack/charm-keystone-kerberos refs/changes/62/761562/2 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,ce47036874122b2493fc598a8f88151502d813d0,groovy-charm-gate,,dev_bundles:,0,1
openstack%2Fcharm-deployment-guide~master~Iee49439ea10532efae6b495b6f09811bec0cc44a,openstack/charm-deployment-guide,master,Iee49439ea10532efae6b495b6f09811bec0cc44a,Fix and review Trilio page,MERGED,2021-01-04 19:50:38.000000000,2021-01-11 15:16:15.000000000,2021-01-11 15:14:53.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-04 19:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/2fbdf1ae058d3739ac88367844617ebffc765d08', 'message': 'Fix and review Trilio page\n\nFix the formatting of two lists.\n\nFix a broken hyperlink.\n\nImprove wording and content.\n\nChange-Id: Iee49439ea10532efae6b495b6f09811bec0cc44a\n'}, {'number': 2, 'created': '2021-01-05 17:35:37.000000000', 'files': ['deploy-guide/source/app-trilio-vault.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/0b32b369672133b53c745a056bdf9f692cbcd337', 'message': 'Fix and review Trilio page\n\nFix the formatting of two lists.\n\nFix a broken hyperlink.\n\nImprove wording and content.\n\nChange-Id: Iee49439ea10532efae6b495b6f09811bec0cc44a\n'}]",0,769211,0b32b369672133b53c745a056bdf9f692cbcd337,11,2,2,30561,,,0,"Fix and review Trilio page

Fix the formatting of two lists.

Fix a broken hyperlink.

Improve wording and content.

Change-Id: Iee49439ea10532efae6b495b6f09811bec0cc44a
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/11/769211/2 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-trilio-vault.rst'],1,2fbdf1ae058d3739ac88367844617ebffc765d08,fix-up-trilio-page,"`TrilioVault`_ is a data protection solution that integrates with OpenStack. It allows end-users to backup and restore point-in-time snapshots of their own workloads (cloud instances). TrilioVault is implemented via the `Trilio charms`_. TrilioVault is not part of the OpenStack project. It is a commercially supported propriety product.* Ubuntu 18.04 LTS (only) * OpenStack Queens, Stein, or Train * an NFS server for snapshot storage * a license (see the project's homepage)* TrilioVault Workload Manager: the main API - used to manage snapshots (e.g. creation and restores). This is implemented with the trilio-wlm charm. * TrilioVault Data Mover: deployed alongside OpenStack Nova - responsible for managing the instance snapshot process at the cloud level. This is implemented with the trilio-data-mover charm. * TrilioVault Data Mover API: the API for managing the TrilioVault Data Mover services - used by the Workload Manager. This is implemented with the trilio-dm-api charm. An OpenStack Dashboard plugin is also provided, allowing for snapshot management to take place via a Web UI. This is implemented with the trilio-horizon-plugin charm. An overlay bundle is used to deploy to an existing OpenStack cloud. An example is provided below. .. note:: Ensure that the value for ``openstack-origin`` matches the currently deployed OpenStack release. trilio-wlm: charm: cs:~openstack-charmers/trilio-wlm num_units: 1 options: openstack-origin: cloud:bionic-train - percona-cluster:shared-db - percona-cluster:shared-db ``openstack-origin`` >= 'cloud:bionic-train' - even for Queens deployments. dependency version requirements that are only supported from Train onwards.Once the deployment completes the trilio-wlm and trilio-data-mover applications will be in a blocked state (see :command:`juju status`). To rectify this, both applications must be configured with a valid NFS share (on the provided NFS server). For example:resources from across users and projects to perform backups. This will involve providing it with the cloud's admin password (set up by the keystone application). This is done with the trilio-wlm charm'sThe TrilioVault deployment must be licensed. This is done by uploading the license file (attaching it as a charm resource) and running the trilio-wlm charm's ``create-license`` action:The trilio-wlm and trilio-data-mover applications should now be in the 'active'.. _TrilioVault: https://www.trilio.io/triliovault-for-openstack-2/ .. _Trilio charms: https://opendev.org/openstack?tab=&sort=recentupdate&q=charm-trilio","As of the 20.05 release, the OpenStack charms support deployment of TrilioVault, a data protection solution that integrates with OpenStack. TrilioVault allows end-users to independently backup and restore point-in-time snapshots of their own workloads. TrilioVault is not part of the OpenStack project and is a commercially supported propriety product. For more details visit `trilio.io`_. - Ubuntu 18.04 LTS - OpenStack Queens, Stein or Train - NFS server for storage of snapshots .. note:: TrilioVault requires a license for operation. For more details visit `trilio.io`_. .. warning:: TrilioVault only supports Ubuntu 18.04 LTS... warning:: Throughout this guide make sure ``openstack-origin`` matches the value you used when `deploying OpenStack`_. - TrilioVault Workload Manager: this service provides the main API for TrilioVault and is used to create and manage snapshots and restores. - TrilioVault Data Mover API: this service provides the API for managing the TrilioVault Data Mover services and is used by the TrilioVault Workload Manager. - TrilioVault Data Mover: deployed alongside Nova Compute services this service is responsible for managing the snapshot process for instances running on the OpenStack Cloud. TrilioVault also provides an OpenStack Dashboard plugin providing a Web UI for end users and cloud administrators. TrilioVault may be added to an OpenStack cloud using the following example overlay bundle: options: trilio-wlm: charm: cs:~openstack-charmers/trilio-wlm num_units: 1 options: openstack-origin: cloud:bionic-train - mysql:shared-db - mysql:shared-db openstack-origin >= cloud:bionic-train - even for Queens deployments. dependency version requirements that are only supported from Train onwards.After deployment completes the TrilioVault Data Mover and Workload Manager applications will be in a blocked state (see :command:`juju status`). Both must be configured with a valid NFS share on the NFS server used in the deployment via configuration:resources from across users and projects to perform backups. This will require passing the cloud admin password (setup by the keystone application) to theFinally, the TrilioVault deployment must be licensed. This is completed by uploading the license file from Trilio as a resource and then executing the ``create-license`` action:The trilio-wlm and trilio-data-mover applications should be in the 'active'.. _deploying OpenStack: install-openstack .. _trilio.io: https://www.trilio.io/triliovault/openstack/",52,61
openstack%2Fpuppet-glance~stable%2Ftrain~I4ac04a561746c227b245d11890d02c14a21965d0,openstack/puppet-glance,stable/train,I4ac04a561746c227b245d11890d02c14a21965d0,Use glance-swift.conf by default,MERGED,2021-01-06 02:12:19.000000000,2021-01-11 15:04:46.000000000,2021-01-11 15:02:49.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-06 02:12:19.000000000', 'files': ['spec/defines/glance_backend_multistore_swift_spec.rb', 'manifests/backend/multistore/swift.pp', 'releasenotes/notes/change-default-of-swift_store_config_file-e59ff9753f3612a7.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/aa0e036fc048faf58002b214557ba63a633585ac', 'message': 'Use glance-swift.conf by default\n\nThis patch changes default of the swift_store_config_file parameter,\nso that the configuration file generated by puppet-glance is used by\ndefault, instead of requiring users to set the parameter explicitly.\n\nCloses-Bug: #1908917\nChange-Id: I4ac04a561746c227b245d11890d02c14a21965d0\n(cherry picked from commit 26e26d115d04f6208f316932f18a9b57bde4867d)\n(cherry picked from commit ddb7d4e48ea5fba85b4ae04274d91f7273d4383e)\n(cherry picked from commit a15022400a0001e5041381af266adc3ba810d332)\n'}]",0,769372,aa0e036fc048faf58002b214557ba63a633585ac,8,3,1,9816,,,0,"Use glance-swift.conf by default

This patch changes default of the swift_store_config_file parameter,
so that the configuration file generated by puppet-glance is used by
default, instead of requiring users to set the parameter explicitly.

Closes-Bug: #1908917
Change-Id: I4ac04a561746c227b245d11890d02c14a21965d0
(cherry picked from commit 26e26d115d04f6208f316932f18a9b57bde4867d)
(cherry picked from commit ddb7d4e48ea5fba85b4ae04274d91f7273d4383e)
(cherry picked from commit a15022400a0001e5041381af266adc3ba810d332)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/72/769372/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/glance_backend_multistore_swift_spec.rb', 'manifests/backend/multistore/swift.pp', 'releasenotes/notes/change-default-of-swift_store_config_file-e59ff9753f3612a7.yaml']",3,aa0e036fc048faf58002b214557ba63a633585ac,bug/1908917-stable/victoria-stable/ussuri-stable/train,--- fixes: - | The ``swift::backend::multistore::swift::swift_store_config_file`` is now set to ``/etc/glance/glance-swift.conf`` by default. Because of this change the parameter is automatically set to use the configuration file generated by puppet-glance. ,,12,5
openstack%2Ftelemetry-tempest-plugin~master~I502983f00ca86ba3739e35bba7024a81a952d7c4,openstack/telemetry-tempest-plugin,master,I502983f00ca86ba3739e35bba7024a81a952d7c4,Add doc/requirements,NEW,2021-01-07 16:10:50.000000000,2021-01-11 14:33:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-07 16:10:50.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/telemetry-tempest-plugin/commit/34bda44e3a1e5d2aa8e452c257f32b144161b94b', 'message': ""Add doc/requirements\n\nWe need to specify doc requirements in doc/requirements.txt\nto avoid problems with the pip resolver [1] for the release team [2][3].\nRemoving specific doc requirements from test-requirements.txt.\n\nThe problem here is that this repos haven't doc/requirements.txt file\nand by default in this case zuul will use the test-requirements.txt file\nto pull requirements [4].\n\nThis requirements file contains extra requirements like flake8 that\ncollided with those allowed in our job environment and so the new pip\nresolver fails to install these requirements and the job exits in error.\n\nThis project meet the conditions leading to the bug.\n\n[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html\n[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36\n\nChange-Id: I502983f00ca86ba3739e35bba7024a81a952d7c4\n""}]",0,769783,34bda44e3a1e5d2aa8e452c257f32b144161b94b,4,1,1,28522,,,0,"Add doc/requirements

We need to specify doc requirements in doc/requirements.txt
to avoid problems with the pip resolver [1] for the release team [2][3].
Removing specific doc requirements from test-requirements.txt.

The problem here is that this repos haven't doc/requirements.txt file
and by default in this case zuul will use the test-requirements.txt file
to pull requirements [4].

This requirements file contains extra requirements like flake8 that
collided with those allowed in our job environment and so the new pip
resolver fails to install these requirements and the job exits in error.

This project meet the conditions leading to the bug.

[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html
[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36

Change-Id: I502983f00ca86ba3739e35bba7024a81a952d7c4
",git fetch https://review.opendev.org/openstack/telemetry-tempest-plugin refs/changes/83/769783/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,34bda44e3a1e5d2aa8e452c257f32b144161b94b,fix-relmgt-pip-doc,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txtdeps = {[testenv:docs]deps},,7,5
openstack%2Fpuppet-openstack-integration~stable%2Fqueens~If7653b7991387116ff8a9a3ea3f038ec01a27985,openstack/puppet-openstack-integration,stable/queens,If7653b7991387116ff8a9a3ea3f038ec01a27985,Ubuntu/Debian: Do not use mirror repository for mimic,MERGED,2020-11-16 13:08:10.000000000,2021-01-11 14:32:47.000000000,2021-01-11 14:32:47.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-16 13:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1045a67ba2582abed974a969ba211ece8923b8d9', 'message': 'Ubuntu/Debian: Do not use mirror repository for mimic\n\n... because mimic is no longer hosted in the mirror repository[1].\n\n[1] http://mirror.iad.rax.opendev.org/\n\nCloses-Bug: #1902670\nChange-Id: If7653b7991387116ff8a9a3ea3f038ec01a27985\n(cherry picked from commit 19a526e1bb48d999d55a9572626166f7971c0f40)\n(cherry picked from commit dccdecd4f021cae59bafb991e8214b0efa0f19e9)\n(cherry picked from commit 4584b0259aa35ed23d86c749a148f95012deabad)\n(cherry picked from commit d9227ff0372cc12197a046684a002b4c7a025d52)\n(cherry picked from commit 18fcc881555789d65efd1f9d7d978d4a79c8aec1)\n(cherry picked from commit 3075f79acacabfdf176a48104f853d7fa2488832)\n'}, {'number': 2, 'created': '2020-11-30 23:33:53.000000000', 'files': ['configure_facts.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8b9117a6ffb42f5514ebd5411498ae700abc4bbd', 'message': 'Ubuntu/Debian: Do not use mirror repository for mimic\n\n... because mimic is no longer hosted in the mirror repository[1].\n\n[1] http://mirror.iad.rax.opendev.org/\n\nCloses-Bug: #1902670\nChange-Id: If7653b7991387116ff8a9a3ea3f038ec01a27985\n(cherry picked from commit 19a526e1bb48d999d55a9572626166f7971c0f40)\n(cherry picked from commit dccdecd4f021cae59bafb991e8214b0efa0f19e9)\n(cherry picked from commit 4584b0259aa35ed23d86c749a148f95012deabad)\n(cherry picked from commit d9227ff0372cc12197a046684a002b4c7a025d52)\n(cherry picked from commit 18fcc881555789d65efd1f9d7d978d4a79c8aec1)\n(cherry picked from commit 3075f79acacabfdf176a48104f853d7fa2488832)\n'}]",0,762833,8b9117a6ffb42f5514ebd5411498ae700abc4bbd,14,3,2,9816,,,0,"Ubuntu/Debian: Do not use mirror repository for mimic

... because mimic is no longer hosted in the mirror repository[1].

[1] http://mirror.iad.rax.opendev.org/

Closes-Bug: #1902670
Change-Id: If7653b7991387116ff8a9a3ea3f038ec01a27985
(cherry picked from commit 19a526e1bb48d999d55a9572626166f7971c0f40)
(cherry picked from commit dccdecd4f021cae59bafb991e8214b0efa0f19e9)
(cherry picked from commit 4584b0259aa35ed23d86c749a148f95012deabad)
(cherry picked from commit d9227ff0372cc12197a046684a002b4c7a025d52)
(cherry picked from commit 18fcc881555789d65efd1f9d7d978d4a79c8aec1)
(cherry picked from commit 3075f79acacabfdf176a48104f853d7fa2488832)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/33/762833/1 && git format-patch -1 --stdout FETCH_HEAD,['configure_facts.sh'],1,1045a67ba2582abed974a969ba211ece8923b8d9,bug/1902670-stable/stein-stable/rocky-stable/queens," if [ ""$CEPH_VERSION"" == ""mimic"" ]; then CEPH_MIRROR_HOST=""http://download.ceph.com/debian-${CEPH_VERSION}"" else CEPH_MIRROR_HOST=""${CENTOS_MIRROR_HOST}/ceph-deb-${CEPH_VERSION}"" fi"," CEPH_MIRROR_HOST=""${CENTOS_MIRROR_HOST}/ceph-deb-${CEPH_VERSION}""",5,1
openstack%2Fcloudkitty-tempest-plugin~master~Ibd04c38c084f63e9129f0bfef1df988e410695db,openstack/cloudkitty-tempest-plugin,master,Ibd04c38c084f63e9129f0bfef1df988e410695db,Use tempest's ServiceClients rather than Manager,MERGED,2020-12-18 13:09:18.000000000,2021-01-11 14:27:11.000000000,2021-01-11 14:27:11.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2020-12-18 13:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/e253c4d787999e76e6d939e00d57b5f670323683', 'message': ""Use tempest's ServiceClients rather than Manager\n\ntempest.Manager has been deprecated for more than 4 years already.\nTempest plugins are expected to consume\ntempest.lib.services.clients.ServiceClients directly.\n\nChange-Id: Ibd04c38c084f63e9129f0bfef1df988e410695db\n""}, {'number': 2, 'created': '2020-12-20 23:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/d113e5d4cfd9314a85b876324c34224a85e6b677', 'message': ""Use tempest's ServiceClients rather than Manager\n\ntempest.Manager has been deprecated for more than 4 years already.\nTempest plugins are expected to consume\ntempest.lib.services.clients.ServiceClients directly.\n\nChange-Id: Ibd04c38c084f63e9129f0bfef1df988e410695db\n""}, {'number': 3, 'created': '2020-12-21 11:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/6f6ffe62a126afbb4b931af5f69ddb0c9509689f', 'message': ""Use tempest's ServiceClients rather than Manager\n\ntempest.Manager has been deprecated for more than 4 years already.\nTempest plugins are expected to consume\ntempest.lib.services.clients.ServiceClients directly.\n\nChange-Id: Ibd04c38c084f63e9129f0bfef1df988e410695db\n""}, {'number': 4, 'created': '2020-12-21 14:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/0f94b607b8d99758319557028a996b4d57d0a765', 'message': ""Use tempest's ServiceClients rather than Manager\n\ntempest.Manager has been deprecated for more than 4 years already\nand will be removed by [1].\nTempest plugins are expected to consume\ntempest.lib.services.clients.ServiceClients directly.\n\n[1] https://review.opendev.org/c/openstack/tempest/+/767628\n\nChange-Id: Ibd04c38c084f63e9129f0bfef1df988e410695db\n""}, {'number': 5, 'created': '2021-01-03 11:24:44.000000000', 'files': ['cloudkitty_tempest_plugin/services/client.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty-tempest-plugin/commit/5f4e88bb2fe178dc78a7c3792e167d278b107794', 'message': ""Use tempest's ServiceClients rather than Manager\n\ntempest.Manager has been deprecated for more than 4 years already\nand will be removed by [1].\nTempest plugins are expected to consume\ntempest.lib.services.clients.ServiceClients directly.\n\n[1] https://review.opendev.org/c/openstack/tempest/+/767628\n\nChange-Id: Ibd04c38c084f63e9129f0bfef1df988e410695db\n""}]",0,767714,5f4e88bb2fe178dc78a7c3792e167d278b107794,17,3,5,22873,,,0,"Use tempest's ServiceClients rather than Manager

tempest.Manager has been deprecated for more than 4 years already
and will be removed by [1].
Tempest plugins are expected to consume
tempest.lib.services.clients.ServiceClients directly.

[1] https://review.opendev.org/c/openstack/tempest/+/767628

Change-Id: Ibd04c38c084f63e9129f0bfef1df988e410695db
",git fetch https://review.opendev.org/openstack/cloudkitty-tempest-plugin refs/changes/14/767714/3 && git format-patch -1 --stdout FETCH_HEAD,['cloudkitty_tempest_plugin/services/client.py'],1,e253c4d787999e76e6d939e00d57b5f670323683,tempest_manager,from tempest.lib.services import clientsclass Manager(clients.ServiceClients):,from tempest import managerclass Manager(manager.Manager):,2,2
openstack%2Fopenstack-ansible-os_zun~master~I082f82e55feaa1835a3e6094a7fc1a4992395a0a,openstack/openstack-ansible-os_zun,master,I082f82e55feaa1835a3e6094a7fc1a4992395a0a,Add placement client to zun config file,ABANDONED,2020-07-16 16:48:16.000000000,2021-01-11 14:07:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-16 16:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/4022954343d3149ac54b9055583bf4f7c89d4025', 'message': 'Add placement client to zun config file\n\nThe service fails if the placement client is not defined\n\nChange-Id: I082f82e55feaa1835a3e6094a7fc1a4992395a0a\n'}, {'number': 2, 'created': '2020-07-16 16:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/2342cb2f1b79589c50e6b764cde7211f9aba9222', 'message': 'Add placement client to zun config file\n\nThe service fails if the placement client is not defined\n\nDepends-On: https://review.opendev.org/741493\nChange-Id: I082f82e55feaa1835a3e6094a7fc1a4992395a0a\n'}, {'number': 3, 'created': '2020-10-26 11:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/af30a293a54dc16ef8b7f4a284ff9780e60d6e37', 'message': 'Add placement client to zun config file\n\nThe service fails if the placement client is not defined\n\nDepends-On: https://review.opendev.org/741493\nChange-Id: I082f82e55feaa1835a3e6094a7fc1a4992395a0a\n'}, {'number': 4, 'created': '2021-01-11 14:06:54.000000000', 'files': ['templates/zun.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/eaca7786770aac8a7bc230d4adcd8accef14c5f8', 'message': 'Add placement client to zun config file\n\nThe service fails if the placement client is not defined\n\nDepends-On: https://review.opendev.org/741493\nChange-Id: I082f82e55feaa1835a3e6094a7fc1a4992395a0a\n'}]",0,741494,eaca7786770aac8a7bc230d4adcd8accef14c5f8,7,1,4,25023,,,0,"Add placement client to zun config file

The service fails if the placement client is not defined

Depends-On: https://review.opendev.org/741493
Change-Id: I082f82e55feaa1835a3e6094a7fc1a4992395a0a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/94/741494/4 && git format-patch -1 --stdout FETCH_HEAD,['templates/zun.conf.j2'],1,4022954343d3149ac54b9055583bf4f7c89d4025,,[placement_client] endpoint_type = {{ zun_service_endpoint_type }} insecure = {{ keystone_service_adminuri_insecure | bool }} ,,4,0
openstack%2Fswift~master~Ie95d00231eaad489af5db9ac341b078afc553610,openstack/swift,master,Ie95d00231eaad489af5db9ac341b078afc553610,WIP: ssync: sync non-durable fragments from handoffs (part 1/2),ABANDONED,2021-01-08 20:28:41.000000000,2021-01-11 14:03:05.000000000,,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 20:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fdcc93ac79e82e9f6785fb3907d7336837524fae', 'message': 'WIP:Clean up non-durable handoff fragments after reconstructor revert\n\nThis is part 1 of a series of patches to ultimately send non-durables\nfrom handoffs to primaries via ssync.  Currently non-durable fragments\non handoffs are neither synced nor removed during a reconstructor\nrevert job.\n\nIn this part, the non-durables are yielded to ssync, but not\nsynced. ssync then includes them in the collection of fragments that\nthe reconstructor can clean up, so the non-durable is removed.\n\nCloses-Bug: 1778002\nChange-Id: Ie95d00231eaad489af5db9ac341b078afc553610\n'}, {'number': 2, 'created': '2021-01-09 16:38:01.000000000', 'files': ['test/probe/common.py', 'test/probe/test_reconstructor_rebuild.py', 'test/probe/test_reconstructor_revert.py', 'swift/obj/reconstructor.py', 'test/unit/obj/test_ssync_sender.py', 'test/unit/obj/common.py', 'swift/obj/ssync_sender.py', 'test/unit/obj/test_ssync.py', 'test/unit/obj/test_diskfile.py', 'test/unit/obj/test_reconstructor.py', 'swift/obj/diskfile.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/9a3e41d2a62aac3cb169d5eddc9e427810295bee', 'message': 'WIP: ssync: sync non-durable fragments from handoffs (part 1/2)\n\nClean up non-durable handoff fragments after reconstructor revert\n\nThis is part 1 of a series of patches to ultimately send non-durables\nfrom handoffs to primaries via ssync.  Currently non-durable fragments\non handoffs are neither synced nor removed during a reconstructor\nrevert job.\n\nIn this part, the non-durables are yielded to ssync, but not\nsynced. ssync then includes them in the collection of fragments that\nthe reconstructor can clean up, so the non-durable is removed.\n\nCloses-Bug: 1778002\nChange-Id: Ie95d00231eaad489af5db9ac341b078afc553610\n'}]",0,769988,9a3e41d2a62aac3cb169d5eddc9e427810295bee,6,2,2,7847,,,0,"WIP: ssync: sync non-durable fragments from handoffs (part 1/2)

Clean up non-durable handoff fragments after reconstructor revert

This is part 1 of a series of patches to ultimately send non-durables
from handoffs to primaries via ssync.  Currently non-durable fragments
on handoffs are neither synced nor removed during a reconstructor
revert job.

In this part, the non-durables are yielded to ssync, but not
synced. ssync then includes them in the collection of fragments that
the reconstructor can clean up, so the non-durable is removed.

Closes-Bug: 1778002
Change-Id: Ie95d00231eaad489af5db9ac341b078afc553610
",git fetch https://review.opendev.org/openstack/swift refs/changes/88/769988/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/probe/common.py', 'test/probe/test_reconstructor_rebuild.py', 'test/probe/test_reconstructor_revert.py', 'swift/obj/reconstructor.py', 'test/unit/obj/test_ssync_sender.py', 'test/unit/obj/common.py', 'swift/obj/ssync_sender.py', 'test/unit/obj/test_ssync.py', 'test/unit/obj/test_diskfile.py', 'swift/obj/diskfile.py', 'test/unit/obj/test_reconstructor.py']",11,fdcc93ac79e82e9f6785fb3907d7336837524fae,p-ssync-non-durable," def fake_ssync(daemon, node, job, suffixes, **kwargs): if ssync_calls is not None: call_args = {'node': node, 'job': job, 'suffixes': suffixes} call_args.update(kwargs) ssync_calls.append(call_args) context.update(kwargs) self.assertTrue(context.get('include_non_durable')) else: self.assertFalse(context.get('include_non_durable')) self.assertTrue(True, context.get('include_non_durable')) else: self.assertFalse(context.get('include_non_durable')) ('sda1', 2, 2, True): 1, ('sda1', 2, 0, True): 1, context['job']['frag_index'], context['include_non_durable']) (u'10.0.0.0', REVERT, 2, [u'3c1'], True), (u'10.0.0.2', REVERT, 2, [u'061'], True), c.get('include_non_durable') (sync_to[0]['ip'], 0, set(['123', 'abc']), False), (sync_to[1]['ip'], 0, set(['123', 'abc']), False), (sync_to[2]['ip'], 0, set(['123', 'abc']), False), c.get('include_non_durable'), (sync_to[1]['ip'], 0, ['abc'], False), c.get('include_non_durable') (c['node']['index'], tuple(sorted(c['suffixes'])), c.get('include_non_durable')) {(sync_to[0]['index'], ('123',), False): 1, (sync_to[1]['index'], ('abc',), False): 1, (sync_to[2]['index'], ('123', 'abc'), False): 1, ('10.0.0.0', 0, set(['123', 'abc']), False), ('10.0.0.1', 0, set(['123', 'abc']), False), ('10.0.0.2', 0, set(['123', 'abc']), False), c.get('include_non_durable') tuple(sorted(c['suffixes'])), c.get('include_non_durable')) ('123', 'abc'), True), 1)]) tuple(sorted(c['suffixes'])), c.get('include_non_durable')) ('123', 'abc'), True), 1)]) tuple(sorted(c['suffixes'])), c.get('include_non_durable')) ('123', 'abc'), True), 1)])"," def fake_ssync(daemon, node, job, suffixes): if ssync_calls is not None: ssync_calls.append( {'node': node, 'job': job, 'suffixes': suffixes}) ('sda1', 2, 2): 1, ('sda1', 2, 0): 1, context['job']['frag_index']) (u'10.0.0.0', REVERT, 2, [u'3c1']), (u'10.0.0.2', REVERT, 2, [u'061']), (sync_to[0]['ip'], 0, set(['123', 'abc'])), (sync_to[1]['ip'], 0, set(['123', 'abc'])), (sync_to[2]['ip'], 0, set(['123', 'abc'])), (sync_to[1]['ip'], 0, ['abc']), (c['node']['index'], tuple(sorted(c['suffixes']))) {(sync_to[0]['index'], ('123',)): 1, (sync_to[1]['index'], ('abc',)): 1, (sync_to[2]['index'], ('123', 'abc')): 1, ('10.0.0.0', 0, set(['123', 'abc'])), ('10.0.0.1', 0, set(['123', 'abc'])), ('10.0.0.2', 0, set(['123', 'abc'])), tuple(sorted(c['suffixes']))) ('123', 'abc')), 1)]) tuple(sorted(c['suffixes']))) ('123', 'abc')), 1)]) tuple(sorted(c['suffixes']))) ('123', 'abc')), 1)])",485,240
openstack%2Fcharm-keystone-ldap~master~I7c95672df96ea7fc44d73fd9d01728b6a07d2be4,openstack/charm-keystone-ldap,master,I7c95672df96ea7fc44d73fd9d01728b6a07d2be4,Review README and fix lp1910293,MERGED,2021-01-06 18:29:55.000000000,2021-01-11 13:52:28.000000000,2021-01-11 13:52:28.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-01-06 18:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/9f0138fbad9b57b760c29bd9cd58ad831f43a3a3', 'message': 'Review README and fix lp1910293\n\nCloses-Bug: #1910293\nChange-Id: I7c95672df96ea7fc44d73fd9d01728b6a07d2be4\n'}, {'number': 2, 'created': '2021-01-06 18:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/cc189d476c384ca9e56d4e8c00d43e36ca23b728', 'message': 'Review README and fix lp1910293\n\nImprove config.yaml\n\nCloses-Bug: #1910293\nChange-Id: I7c95672df96ea7fc44d73fd9d01728b6a07d2be4\n'}, {'number': 3, 'created': '2021-01-06 18:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/2843c6c2c238e81c1434b7605ab1949b2f39154e', 'message': 'Review README and fix lp1910293\n\nImprove config.yaml\n\nCloses-Bug: #1910293\nChange-Id: I7c95672df96ea7fc44d73fd9d01728b6a07d2be4\n'}, {'number': 4, 'created': '2021-01-06 20:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/42936d15ac8a1e61ea3efc06ca2e388b46a41aa0', 'message': 'Review README and fix lp1910293\n\nImprove config.yaml\n\nCloses-Bug: #1910293\nChange-Id: I7c95672df96ea7fc44d73fd9d01728b6a07d2be4\n'}, {'number': 5, 'created': '2021-01-08 19:12:23.000000000', 'files': ['src/README.md', 'src/config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-ldap/commit/0ee1f1c7538330d29e35b0d2a64fac89dffb2e87', 'message': 'Review README and fix lp1910293\n\nImprove config.yaml\n\nCloses-Bug: #1910293\nChange-Id: I7c95672df96ea7fc44d73fd9d01728b6a07d2be4\n'}]",2,769600,0ee1f1c7538330d29e35b0d2a64fac89dffb2e87,20,4,5,30561,,,0,"Review README and fix lp1910293

Improve config.yaml

Closes-Bug: #1910293
Change-Id: I7c95672df96ea7fc44d73fd9d01728b6a07d2be4
",git fetch https://review.opendev.org/openstack/charm-keystone-ldap refs/changes/00/769600/5 && git format-patch -1 --stdout FETCH_HEAD,"['src/README.md', 'src/config.yaml']",2,9f0138fbad9b57b760c29bd9cd58ad831f43a3a3,lp1910293-gc-ports, description: Name of the keystone domain to configure; defaults to the deployed application name. ldap://active-directory-host.com:3268/ ldaps://active-directory-host.com:3269/ An ldap:// URL will result in mandatory StartTLS usage if either the charm's tls-ca-ldap option has been specified or if the 'certificates' relation is present., description: Name of the keystone domain to configure; defaults to the deployed application name. Usage of ldap:// urls with tls_ca_ldap option specified or certificates relation presence will result in mandatory StartTLS usage.,160,59
openstack%2Fopenstack-ansible-os_panko~master~Iaeb3d4b698c8c08cea20b59934acae1b40e53afb,openstack/openstack-ansible-os_panko,master,Iaeb3d4b698c8c08cea20b59934acae1b40e53afb,Updated from OpenStack Ansible Tests,MERGED,2020-10-19 09:20:46.000000000,2021-01-11 13:46:19.000000000,2021-01-11 13:44:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-10-19 09:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/e83fd1cc5a936dadeb99fedb6c396b4b6dad2f0b', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Iaeb3d4b698c8c08cea20b59934acae1b40e53afb\n'}, {'number': 2, 'created': '2021-01-11 08:32:20.000000000', 'files': ['tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/8f42bece6bea800c9e19c177544e91766caeabcd', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: Iaeb3d4b698c8c08cea20b59934acae1b40e53afb\n'}]",0,758753,8f42bece6bea800c9e19c177544e91766caeabcd,20,3,2,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: Iaeb3d4b698c8c08cea20b59934acae1b40e53afb
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/53/758753/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/service_setup.yml'],1,e83fd1cc5a936dadeb99fedb6c396b4b6dad2f0b,openstack/openstack-ansible-tests/sync-tests, openstack.cloud.identity_domain: openstack.cloud.project: openstack.cloud.catalog_service: openstack.cloud.identity_role: openstack.cloud.identity_user: openstack.cloud.role_assignment: openstack.cloud.endpoint:, openstack.cloud.os_keystone_domain: openstack.cloud.os_project: openstack.cloud.os_keystone_service: openstack.cloud.os_keystone_role: openstack.cloud.os_user: openstack.cloud.os_user_role: openstack.cloud.os_keystone_endpoint:,7,7
openstack%2Fopenstack-ansible-os_cinder~master~I7cf476e3a7faef1ab66eb84d4117d8c6471e6b95,openstack/openstack-ansible-os_cinder,master,I7cf476e3a7faef1ab66eb84d4117d8c6471e6b95,Updated from OpenStack Ansible Tests,MERGED,2020-10-19 09:19:45.000000000,2021-01-11 13:38:54.000000000,2021-01-11 13:37:29.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-10-19 09:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/fe646f0dca5b9bc8f17533a5dcc68e6280af73dd', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I7cf476e3a7faef1ab66eb84d4117d8c6471e6b95\n'}, {'number': 2, 'created': '2021-01-05 08:35:59.000000000', 'files': ['tasks/service_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/33d4b6464bb7933c1fc868883b7aadeccd55f04c', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I7cf476e3a7faef1ab66eb84d4117d8c6471e6b95\n'}]",0,758742,33d4b6464bb7933c1fc868883b7aadeccd55f04c,18,2,2,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I7cf476e3a7faef1ab66eb84d4117d8c6471e6b95
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/42/758742/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/service_setup.yml'],1,fe646f0dca5b9bc8f17533a5dcc68e6280af73dd,openstack/openstack-ansible-tests/sync-tests, openstack.cloud.identity_domain: openstack.cloud.project: openstack.cloud.catalog_service: openstack.cloud.identity_role: openstack.cloud.identity_user: openstack.cloud.role_assignment: openstack.cloud.endpoint:, openstack.cloud.os_keystone_domain: openstack.cloud.os_project: openstack.cloud.os_keystone_service: openstack.cloud.os_keystone_role: openstack.cloud.os_user: openstack.cloud.os_user_role: openstack.cloud.os_keystone_endpoint:,7,7
openstack%2Frpm-packaging~master~I8bf6d61be0924c59ef10bea1e56543b109d5296b,openstack/rpm-packaging,master,I8bf6d61be0924c59ef10bea1e56543b109d5296b,[DNM] Test changes to RDO CI,ABANDONED,2021-01-11 09:54:54.000000000,2021-01-11 13:30:22.000000000,,"[{'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-11 09:54:54.000000000', 'files': ['openstack/horizon/openstack-dashboard.conf.sample.rdo'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6632dcf5049ceebdb780d7cd006887b9d874799f', 'message': '[DNM] Test changes to RDO CI\n\nDepends-On: https://review.rdoproject.org/r/31515\nChange-Id: I8bf6d61be0924c59ef10bea1e56543b109d5296b\n'}]",0,770074,6632dcf5049ceebdb780d7cd006887b9d874799f,6,4,1,13294,,,0,"[DNM] Test changes to RDO CI

Depends-On: https://review.rdoproject.org/r/31515
Change-Id: I8bf6d61be0924c59ef10bea1e56543b109d5296b
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/74/770074/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/horizon/openstack-dashboard.conf.sample.rdo'],1,6632dcf5049ceebdb780d7cd006887b9d874799f,,"# Just testing, ignore",,1,0
openstack%2Fironic-python-agent~stable%2Fvictoria~I002816c9372fdf1cc32f3c67f420073551479fd9,openstack/ironic-python-agent,stable/victoria,I002816c9372fdf1cc32f3c67f420073551479fd9,Fix default disk label with partition images,MERGED,2021-01-08 14:53:19.000000000,2021-01-11 13:14:00.000000000,2021-01-11 13:12:19.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-01-08 14:53:19.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/fix-agent-determination-of-partition-table-type-3c78bf78266e8cef.yaml', 'ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/extensions/standby.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d9105e4062dfd8f9b5dca3926868890d086744d8', 'message': ""Fix default disk label with partition images\n\nPartition images through the agent have the unfortunate\nside effect of being executed without full node context\nby default. Luckilly we've had a similar problem and\ncache the node.\n\nThis patch changes the lookup from a default of msdos\npartitions to use the cached node object.\n\nChange-Id: I002816c9372fdf1cc32f3c67f420073551479fd9\n(cherry picked from commit cb6c0059b5f5bd428623c461bd69afc793441f7e)\n""}]",0,769748,d9105e4062dfd8f9b5dca3926868890d086744d8,7,2,1,11655,,,0,"Fix default disk label with partition images

Partition images through the agent have the unfortunate
side effect of being executed without full node context
by default. Luckilly we've had a similar problem and
cache the node.

This patch changes the lookup from a default of msdos
partitions to use the cached node object.

Change-Id: I002816c9372fdf1cc32f3c67f420073551479fd9
(cherry picked from commit cb6c0059b5f5bd428623c461bd69afc793441f7e)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/48/769748/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/fix-agent-determination-of-partition-table-type-3c78bf78266e8cef.yaml', 'ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/extensions/standby.py']",4,d9105e4062dfd8f9b5dca3926868890d086744d8,, # Retrieve the cached node as it has the latest information # and allows us to also sanity check the deployment so we don't end # up writing MBR when we're in UEFI mode. cached_node = hardware.get_cached_node() disk_label = utils.get_partition_table_type_from_specs(cached_node)," disk_label = image_info.get('disk_label', 'msdos')",74,1
openstack%2Fansible-collections-openstack~master~I7b1724514aa9e415cff069107c3271f39d6baa42,openstack/ansible-collections-openstack,master,I7b1724514aa9e415cff069107c3271f39d6baa42,Added shelve and unshelve as new server actions,ABANDONED,2021-01-11 10:46:13.000000000,2021-01-11 12:58:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-11 10:46:13.000000000', 'files': ['plugins/modules/server_action.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/63412bfb385f026c81ad39b0c1a9ed37b852d0e4', 'message': 'Added shelve and unshelve as new server actions\n\nTask: 40737\nStory: 2008056\nChange-Id: I7b1724514aa9e415cff069107c3271f39d6baa42\n'}]",0,770098,63412bfb385f026c81ad39b0c1a9ed37b852d0e4,3,1,1,32962,,,0,"Added shelve and unshelve as new server actions

Task: 40737
Story: 2008056
Change-Id: I7b1724514aa9e415cff069107c3271f39d6baa42
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/98/770098/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/server_action.py'],1,63412bfb385f026c81ad39b0c1a9ed37b852d0e4,story_2008056_shelve_server," rebuild, shelve, shelve_offload, unshelve]from openstack import exceptions # If I(action) is set to C(shelve) then according to OpenStack's Compute API, the shelved # server is in one of two possible states: # # SHELVED: The server is in shelved state. Depends on the shelve offload time, # the server will be automatically shelved off loaded. # SHELVED_OFFLOADED: The shelved server is offloaded (removed from the compute host) and # it needs unshelved action to be used again. # # But wait_for_server can only wait for a single server state. If a shelved server is offloaded # immediately, then a exceptions.ResourceTimeout will be raised if I(action) is set to C(shelve). # This is likely to happen because shelved_offload_time in Nova's config is set to 0 by default. # This also applies if you boot the server from volumes. # # Calling C(shelve_offload) instead of C(shelve) will also fail most likely because the default # policy does not allow C(shelve_offload) for non-admin users while C(shelve) is allowed for # admin users and server owners. # # As we cannot retrieve shelved_offload_time from Nova's config, we fall back to waiting for # one state and if that fails then we fetch the server's state and match it against the other # valid states from _action_map. # # Ref.: https://docs.openstack.org/api-guide/compute/server_concepts.html _action_map = {'stop': ['SHUTOFF'], 'start': ['ACTIVE'], 'pause': ['PAUSED'], 'unpause': ['ACTIVE'], 'lock': ['ACTIVE'], # API doesn't show lock/unlock status 'unlock': ['ACTIVE'], 'suspend': ['SUSPENDED'], 'resume': ['ACTIVE'], 'rebuild': ['ACTIVE'], 'shelve': ['SHELVED_OFFLOADED', 'SHELVED'], 'shelve_offload': ['SHELVED_OFFLOADED'], 'unshelve': ['ACTIVE']} _admin_actions = ['pause', 'unpause', 'suspend', 'resume', 'lock', 'unlock', 'shelve_offload'] 'rebuild', 'shelve', 'shelve_offload', 'unshelve']), if self.params['action'] == 'shelve_offload': # shelve_offload is not supported in OpenstackSDK return self._action(os_server, json={'shelveOffload': None}) self._action(os_server, json={'rebuild': {'imageRef': image['id']}}) def _action(self, os_server, json): response = self.conn.compute.post( '/servers/{server_id}/action'.format(server_id=os_server['id']), json=json) exceptions.raise_from_response(response) return response states = _action_map[self.params['action']] try: self.conn.compute.wait_for_server( server, status=states[0], wait=self.params['timeout']) except exceptions.ResourceTimeout: # raise if there is only one valid state if len(states) < 2: raise # fetch current server status and compare to other valid states server = self.conn.compute.get_server(os_server['id']) if server.status not in states: raise return os_server.status not in _action_map[self.params['action']]"," rebuild] _action_map = {'stop': 'SHUTOFF', 'start': 'ACTIVE', 'pause': 'PAUSED', 'unpause': 'ACTIVE', 'lock': 'ACTIVE', # API doesn't show lock/unlock status 'unlock': 'ACTIVE', 'suspend': 'SUSPENDED', 'resume': 'ACTIVE', 'rebuild': 'ACTIVE'} _admin_actions = ['pause', 'unpause', 'suspend', 'resume', 'lock', 'unlock'] 'rebuild']), self.conn.compute.post( '/servers/{server_id}/action'.format( server_id=os_server['id']), json={'rebuild': {'imageRef': image['id']}}) self.conn.compute.wait_for_server( server, status=_action_map[self.params['action']], wait=self.params['timeout']) return os_server.status != _action_map[self.params['action']]",65,21
openstack%2Fosc-lib~master~I744efd75c4cbf8c630c5f95dc254acff581be959,openstack/osc-lib,master,I744efd75c4cbf8c630c5f95dc254acff581be959,Fix lower-constraints job,MERGED,2021-01-11 10:40:46.000000000,2021-01-11 12:47:21.000000000,2021-01-11 12:46:06.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-11 10:40:46.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/2b7a679a4296c45fbc2fea152e3b51029a201143', 'message': ""Fix lower-constraints job\n\npip 20.3 finally includes a proper dependency resolver. Its use is\ncausing the following error messages on the lower-constraints job:\n\n  ERROR: Could not find a version that satisfies the requirement\n  hacking<3.1.0,>=3.0.1\n  ERROR: No matching distribution found for hacking<3.1.0,>=3.0.1\n\nResolve this by moving the 'hacking' and 'flake8-import-order'\ndependencies from 'test-requirements.txt' to 'tox.ini' since we don't\nneed to use our constraints machinery for linters.\n\nWhile we're here, also drop 'bandit' from 'test-requirements.txt'. This\nwas introduced in change I691829c1224557d1d239c9f665ac539d0f13c4d3 but\ncommit f78173f0e1daabccbbe0230fe93df98ac971afbc (there's no change ID)\nremoved the 'bandit' testenv from 'tox.ini' meaning we no longer use\nthis anywhere.\n\nChange-Id: I744efd75c4cbf8c630c5f95dc254acff581be959\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,770097,2b7a679a4296c45fbc2fea152e3b51029a201143,7,2,1,15334,,,0,"Fix lower-constraints job

pip 20.3 finally includes a proper dependency resolver. Its use is
causing the following error messages on the lower-constraints job:

  ERROR: Could not find a version that satisfies the requirement
  hacking<3.1.0,>=3.0.1
  ERROR: No matching distribution found for hacking<3.1.0,>=3.0.1

Resolve this by moving the 'hacking' and 'flake8-import-order'
dependencies from 'test-requirements.txt' to 'tox.ini' since we don't
need to use our constraints machinery for linters.

While we're here, also drop 'bandit' from 'test-requirements.txt'. This
was introduced in change I691829c1224557d1d239c9f665ac539d0f13c4d3 but
commit f78173f0e1daabccbbe0230fe93df98ac971afbc (there's no change ID)
removed the 'bandit' testenv from 'tox.ini' meaning we no longer use
this anywhere.

Change-Id: I744efd75c4cbf8c630c5f95dc254acff581be959
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/97/770097/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,2b7a679a4296c45fbc2fea152e3b51029a201143,pip-20.3,"deps = hacking>=3.0.1,<3.1.0 # Apache-2.0 flake8-import-order>=0.17.1 # LGPLv3",,3,3
openstack%2Fkolla~stable%2Fussuri~Ie54703e6ecf6a3332ef6f769fa500091068ea155,openstack/kolla,stable/ussuri,Ie54703e6ecf6a3332ef6f769fa500091068ea155,Bump prometheus-openstack-exporter version to 1.3.0,MERGED,2021-01-11 09:11:00.000000000,2021-01-11 12:34:17.000000000,2021-01-11 12:32:55.000000000,"[{'_account_id': 2276}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 24072}]","[{'number': 1, 'created': '2021-01-11 09:11:00.000000000', 'files': ['docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/eb5f9c1f6dddcd87350024b94d67e99df7d81e70', 'message': 'Bump prometheus-openstack-exporter version to 1.3.0\n\nChange-Id: Ie54703e6ecf6a3332ef6f769fa500091068ea155\nSigned-off-by: Jorge Niedbalski <jnr@metaklass.org>\n'}]",0,770069,eb5f9c1f6dddcd87350024b94d67e99df7d81e70,9,5,1,22629,,,0,"Bump prometheus-openstack-exporter version to 1.3.0

Change-Id: Ie54703e6ecf6a3332ef6f769fa500091068ea155
Signed-off-by: Jorge Niedbalski <jnr@metaklass.org>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/69/770069/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'],1,eb5f9c1f6dddcd87350024b94d67e99df7d81e70,,ENV prometheus_openstack_exporter_version=1.3.0,ENV prometheus_openstack_exporter_version=1.1.0,1,1
openstack%2Fkolla~stable%2Fvictoria~Ie54703e6ecf6a3332ef6f769fa500091068ea155,openstack/kolla,stable/victoria,Ie54703e6ecf6a3332ef6f769fa500091068ea155,Bump prometheus-openstack-exporter version to 1.3.0,MERGED,2021-01-11 09:15:15.000000000,2021-01-11 12:33:25.000000000,2021-01-11 12:32:09.000000000,"[{'_account_id': 2276}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 24072}]","[{'number': 1, 'created': '2021-01-11 09:15:15.000000000', 'files': ['docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/cf795f3003066be53664a6b2709d20b3f1af07f7', 'message': 'Bump prometheus-openstack-exporter version to 1.3.0\n\nChange-Id: Ie54703e6ecf6a3332ef6f769fa500091068ea155\nSigned-off-by: Jorge Niedbalski <jnr@metaklass.org>\n'}]",0,770070,cf795f3003066be53664a6b2709d20b3f1af07f7,9,5,1,22629,,,0,"Bump prometheus-openstack-exporter version to 1.3.0

Change-Id: Ie54703e6ecf6a3332ef6f769fa500091068ea155
Signed-off-by: Jorge Niedbalski <jnr@metaklass.org>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/70/770070/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'],1,cf795f3003066be53664a6b2709d20b3f1af07f7,,ENV prometheus_openstack_exporter_version=1.3.0,ENV prometheus_openstack_exporter_version=1.1.0,1,1
openstack%2Fpuppet-manila~stable%2Fussuri~I5b6c85b7d7a865a0f281a725f8df8b8f0e3d12e8,openstack/puppet-manila,stable/ussuri,I5b6c85b7d7a865a0f281a725f8df8b8f0e3d12e8,Fix ignored unit tests for manila::volume::cinder,ABANDONED,2021-01-11 11:54:50.000000000,2021-01-11 12:31:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-11 11:54:50.000000000', 'files': ['spec/classes/manila_volume_cinder_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/f5756649c67bdeb5e6c25965a8aeafd1cda18f69', 'message': 'Fix ignored unit tests for manila::volume::cinder\n\nUnit test files should be named like *_spec.rb.\n\nChange-Id: I5b6c85b7d7a865a0f281a725f8df8b8f0e3d12e8\n(cherry picked from commit fea6aabfe2ef829d255e296f966141597eface1e)\n(cherry picked from commit ba0babc70be998de7141d0cd9de84fc84767af26)\n'}]",0,770083,f5756649c67bdeb5e6c25965a8aeafd1cda18f69,3,1,1,9816,,,0,"Fix ignored unit tests for manila::volume::cinder

Unit test files should be named like *_spec.rb.

Change-Id: I5b6c85b7d7a865a0f281a725f8df8b8f0e3d12e8
(cherry picked from commit fea6aabfe2ef829d255e296f966141597eface1e)
(cherry picked from commit ba0babc70be998de7141d0cd9de84fc84767af26)
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/83/770083/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/manila_volume_cinder_spec.rb'],1,f5756649c67bdeb5e6c25965a8aeafd1cda18f69,ignored-ut-stable/victoria-stable/ussuri,"require 'spec_helper' describe 'manila::volume::cinder' do shared_examples 'manila::volume::cinder' do context 'with default parameters' do it 'configures manila volume cinder' do is_expected.to contain_manila_config('cinder/insecure').with_value('<SERVICE DEFAULT>') is_expected.to contain_manila_config('cinder/auth_url').with_value('<SERVICE DEFAULT>') is_expected.to contain_manila_config('cinder/auth_type').with_value('<SERVICE DEFAULT>') is_expected.to contain_manila_config('cinder/cafile').with_value('<SERVICE DEFAULT>') is_expected.to contain_manila_config('cinder/region_name').with_value('<SERVICE DEFAULT>') is_expected.to contain_manila_config('cinder/endpoint_type').with_value('<SERVICE DEFAULT>') is_expected.to contain_manila_config('cinder/user_domain_name').with_value('Default') is_expected.to contain_manila_config('cinder/project_domain_name').with_value('Default') is_expected.to contain_manila_config('cinder/project_name').with_value('services') is_expected.to contain_manila_config('cinder/username').with_value('cinder') is_expected.to contain_manila_config('cinder/password').with_value('<SERVICE DEFAULT>') is_expected.to contain_manila_config('cinder/http_retries').with_value('<SERVICE DEFAULT>') is_expected.to contain_manila_config('cinder/cross_az_attach').with_value('<SERVICE DEFAULT>') end end context 'with overridden parameters' do let :params do { :insecure => true, :auth_url => 'http://127.0.0.2:5000/', :auth_type => 'password', :cafile => '/etc/ssl/certs/ca.crt', :region_name => 'RegionOne', :endpoint_type => 'publicURL', :username => 'cinderv1', :password => '123123', :http_retries => 3, :cross_az_attach => true, } end it 'configures manila cinder with overridden parameters' do is_expected.to contain_manila_config('cinder/insecure').with_value(true) is_expected.to contain_manila_config('cinder/auth_url').with_value('http://127.0.0.2:5000/') is_expected.to contain_manila_config('cinder/auth_type').with_value('password') is_expected.to contain_manila_config('cinder/cafile').with_value('/etc/ssl/certs/ca.crt') is_expected.to contain_manila_config('cinder/user_domain_name').with_value('Default') is_expected.to contain_manila_config('cinder/project_domain_name').with_value('Default') is_expected.to contain_manila_config('cinder/project_name').with_value('services') is_expected.to contain_manila_config('cinder/region_name').with_value('RegionOne') is_expected.to contain_manila_config('cinder/endpoint_type').with_value('publicURL') is_expected.to contain_manila_config('cinder/username').with_value('cinderv1') is_expected.to contain_manila_config('cinder/password').with_value('123123').with_secret(true) is_expected.to contain_manila_config('cinder/http_retries').with_value(3) is_expected.to contain_manila_config('cinder/cross_az_attach').with_value('true') end end context 'with deprecated parameters' do let :params do { :cinder_api_insecure => true, :cinder_ca_certificates_file => '/foo/ssl/certs/ca.crt', :auth_type => 'password', :cinder_admin_tenant_name => 'service2', :cinder_admin_username => 'cinderv2', :cinder_admin_password => '321321', :cinder_http_retries => 3, :cinder_cross_az_attach => true, } end it 'configures manila volume cinder with deprecated parameters' do is_expected.to contain_manila_config('cinder/auth_type').with_value('password') is_expected.to contain_manila_config('cinder/insecure').with_value(true) is_expected.to contain_manila_config('cinder/cafile').with_value('/foo/ssl/certs/ca.crt') is_expected.to contain_manila_config('cinder/project_name').with_value('service2') is_expected.to contain_manila_config('cinder/username').with_value('cinderv2') is_expected.to contain_manila_config('cinder/password').with_value('321321') is_expected.to contain_manila_config('cinder/http_retries').with_value(3) is_expected.to contain_manila_config('cinder/cross_az_attach').with_value('true') end end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_behaves_like 'manila::volume::cinder' end end end ",,94,0
openstack%2Ftripleo-quickstart~master~I2efd7080e7fd2922c7f18ab49ad7aca502a6c3ac,openstack/tripleo-quickstart,master,I2efd7080e7fd2922c7f18ab49ad7aca502a6c3ac,Add octopus repos in master release file,MERGED,2020-12-28 10:47:11.000000000,2021-01-11 12:29:00.000000000,2020-12-29 07:21:30.000000000,"[{'_account_id': 6796}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-12-28 10:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6234e6ddcbc0c4dfb468363b96e49f40556135b0', 'message': 'Update master release file to use octopus repos\n\nWith this patch we are updating master release file to enable ceph\noctopus repository instead of nautilus.\n\nThis is with reference to patch [1] where we added Ceph octopus\nrepository when the release is W+.\n\n[1] https://review.opendev.org/c/openstack/tripleo-repos/+/766683\nCloses-Bug: #1909191\n\nChange-Id: I2efd7080e7fd2922c7f18ab49ad7aca502a6c3ac\n'}, {'number': 2, 'created': '2020-12-28 11:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/33cbdc2fb07b4a0db7b408d75cf87728b8232910', 'message': 'Update master release file to use octopus repos\n\nWith this patch we are updating master release file to enable ceph\noctopus repository instead of nautilus.\n\nThis is with reference to patch [1] where we added Ceph octopus\nrepository when the release is W+.\n\n[1] https://review.opendev.org/c/openstack/tripleo-repos/+/766683\nCloses-Bug: #1909191\n\nChange-Id: I2efd7080e7fd2922c7f18ab49ad7aca502a6c3ac\n'}, {'number': 3, 'created': '2020-12-28 13:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/200b5fbecbc4b3ba319cbf3900b839c8881662a8', 'message': 'Update master release file to use octopus repos\n\nWith this patch we are updating master release file to enable ceph\noctopus repository instead of nautilus.\n\nThis is with reference to patch [1] where we added Ceph octopus\nrepository when the release is W+.\n\n[1] https://review.opendev.org/c/openstack/tripleo-repos/+/766683\nCloses-Bug: #1909191\n\nChange-Id: I2efd7080e7fd2922c7f18ab49ad7aca502a6c3ac\n'}, {'number': 4, 'created': '2020-12-28 14:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ad62179f67c68ec37b1c7f7dc1c4613b0fb4c479', 'message': ""Add octopus repos in master release file\n\nWith this patch we are updating master release file to add ceph\noctopus repository in addition of ceph nautilus repos.\n\nWe haven't disabled ceph nautilus repos because ceph-ansible is not\npresent in Octopus repos. For now we are keeping ceph nautilius repos\nas it is and just installing cephadm from octopus repo.\n\nOnce switch from ceph-ansible to cephadm is complete, We will remove\nceph nautilus repos and pull all the packages from Octopus repos,\n\nThis is with reference to patch [1] where we added Ceph octopus\nrepository when the release is W+.\n\n[1] https://review.opendev.org/c/openstack/tripleo-repos/+/766683\nCloses-Bug: #1909191\n\nChange-Id: I2efd7080e7fd2922c7f18ab49ad7aca502a6c3ac\n""}, {'number': 5, 'created': '2020-12-28 14:19:44.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml', 'config/release/trunk/master.yml', 'config/release/tripleo-ci/CentOS-8/master.yml', 'config/release/centosci/master-current-tripleo.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/77899d3cdbc15cea5e8d4bf5a57c92d901e116b6', 'message': ""Add octopus repos in master release file\n\nWith this patch we are updating master release file to add ceph\noctopus repository in addition of ceph nautilus repository.\n\nWe haven't disabled ceph nautilus repos because ceph-ansible is not\npresent in Octopus repos. For now we are keeping ceph nautilius repos\nas it is and just installing cephadm from octopus repo.\n\nOnce switch from ceph-ansible to cephadm is complete, We will remove\nceph nautilus repo and pull all the packages from Octopus repository.\n\nThis is with reference to patch [1] where we added Ceph octopus\nrepository when the release is W+.\n\n[1] https://review.opendev.org/c/openstack/tripleo-repos/+/766683\nCloses-Bug: #1909191\n\nChange-Id: I2efd7080e7fd2922c7f18ab49ad7aca502a6c3ac\n""}]",2,768599,77899d3cdbc15cea5e8d4bf5a57c92d901e116b6,22,7,5,29775,,,0,"Add octopus repos in master release file

With this patch we are updating master release file to add ceph
octopus repository in addition of ceph nautilus repository.

We haven't disabled ceph nautilus repos because ceph-ansible is not
present in Octopus repos. For now we are keeping ceph nautilius repos
as it is and just installing cephadm from octopus repo.

Once switch from ceph-ansible to cephadm is complete, We will remove
ceph nautilus repo and pull all the packages from Octopus repository.

This is with reference to patch [1] where we added Ceph octopus
repository when the release is W+.

[1] https://review.opendev.org/c/openstack/tripleo-repos/+/766683
Closes-Bug: #1909191

Change-Id: I2efd7080e7fd2922c7f18ab49ad7aca502a6c3ac
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/99/768599/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/master.yml'],1,6234e6ddcbc0c4dfb468363b96e49f40556135b0,bug/1909191, reponame: quickstart-centos-ceph-octopus filename: quickstart-centos-ceph-octopus.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/storage/x86_64/ceph-octopus/, reponame: quickstart-centos-ceph-nautilus filename: quickstart-centos-ceph-nautilus.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/8/storage/x86_64/ceph-nautilus/,3,3
openstack%2Ftripleo-docs~master~I2dbedb715097206ed62aae32c83af9fc19932bd1,openstack/tripleo-docs,master,I2dbedb715097206ed62aae32c83af9fc19932bd1,Document the new CephConfigPath option,MERGED,2021-01-08 15:49:45.000000000,2021-01-11 12:19:23.000000000,2021-01-11 12:18:02.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 15:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/d5c0bd309813197d69fc042b2de81d482870cd89', 'message': 'Document the new CephConfigPath option\n\nThis change is supposed to document the CephConfigPath option\nintroduced by the TripleO Ceph client role.\nThe purpose of this doc change is to make the operators aware\nthat this option changes in tripleo-heat-templates the default\nlocation of the rendered keyfiles and ceph.conf within the host,\nleaving untouched the mountpoint inside the containers.\n\nChange-Id: I2dbedb715097206ed62aae32c83af9fc19932bd1\n'}, {'number': 2, 'created': '2021-01-08 15:50:43.000000000', 'files': ['deploy-guide/source/features/ceph_config.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/5f8badaf384babfdc2c7be9c78877f3752a3d5ac', 'message': 'Document the new CephConfigPath option\n\nThis change is supposed to document the CephConfigPath option\nintroduced by the TripleO Ceph client role.\nThe purpose of this doc change is to make the operators aware\nthat this option changes in tripleo-heat-templates the default\nlocation of the rendered keyfiles and ceph.conf within the host,\nleaving untouched the mountpoint inside the containers.\n\nChange-Id: I2dbedb715097206ed62aae32c83af9fc19932bd1\n'}]",0,769948,5f8badaf384babfdc2c7be9c78877f3752a3d5ac,9,5,2,25402,,,0,"Document the new CephConfigPath option

This change is supposed to document the CephConfigPath option
introduced by the TripleO Ceph client role.
The purpose of this doc change is to make the operators aware
that this option changes in tripleo-heat-templates the default
location of the rendered keyfiles and ceph.conf within the host,
leaving untouched the mountpoint inside the containers.

Change-Id: I2dbedb715097206ed62aae32c83af9fc19932bd1
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/48/769948/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/ceph_config.rst'],1,d5c0bd309813197d69fc042b2de81d482870cd89,,"`ceph.client.openstack.keyring` and it will be stored in `/etc/ceph` within the containers, but on the container host it will be stored in a location defined by a TripleO exposed parameter which defaults to `/var/lib/tripleo-config/ceph`. .. admonition:: Wallaby and newer versions Prior to Wallaby the `CephConfigPath` option didn't exist and the configuration files (keyfiles and ceph.conf) were always stored in /etc/ceph. Wallaby introduces a new tripleo-ansible role which is responsible to create the keyrings and the ceph configuration file and, later in the process, configure the clients pushing the rendered files. The containers will find the Ceph related files inside /etc/ceph, however, TripleO exposes the new parameter that can be used to specify the location where the tripleo-ansible Ceph client role is supposed to render the keyfiles and the ceph.conf file. The keyring file is created using the following defaults:",`/etc/ceph/ceph.client.openstack.keyring` and it will be created using the following defaults:,19,2
openstack%2Fcharm-ceph-radosgw~master~I6a55e46422a19ea27193518a41a48b768b980212,openstack/charm-ceph-radosgw,master,I6a55e46422a19ea27193518a41a48b768b980212,Ensure valid configuration before zone creation,ABANDONED,2020-12-08 05:26:03.000000000,2021-01-11 12:05:07.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-08 05:26:03.000000000', 'files': ['hooks/hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/c6b87ef6245a76bf36a0a80d42501408f3e1459f', 'message': ""Ensure valid configuration before zone creation\n\nCheck that the 'mon' context was listed as complete prior to\nattempting to undertake any type of zone configuration.\n\nThis should ensure that the ceph.conf file is complete.\n\nChange-Id: I6a55e46422a19ea27193518a41a48b768b980212\nCloses-Bug: 1905985\n""}]",0,765908,c6b87ef6245a76bf36a0a80d42501408f3e1459f,4,2,1,935,,,0,"Ensure valid configuration before zone creation

Check that the 'mon' context was listed as complete prior to
attempting to undertake any type of zone configuration.

This should ensure that the ceph.conf file is complete.

Change-Id: I6a55e46422a19ea27193518a41a48b768b980212
Closes-Bug: 1905985
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/08/765908/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/hooks.py'],1,c6b87ef6245a76bf36a0a80d42501408f3e1459f,bug/1905985, elif (ready_for_service(legacy=legacy) and is_leader() and 'mon' in CONFIGS.complete_contexts()):, elif ready_for_service(legacy=legacy) and is_leader():,3,1
openstack%2Fcharm-nova-compute~master~I24be0ed48edd5af517e1699df77ef0d96ef20aa2,openstack/charm-nova-compute,master,I24be0ed48edd5af517e1699df77ef0d96ef20aa2,Handle the extended ceph-access relation,MERGED,2020-11-24 14:38:10.000000000,2021-01-11 12:02:44.000000000,2021-01-11 12:02:44.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-11-24 14:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/a9c9b6be87860649e94af1b423750d377253323e', 'message': 'Handle the extended ceph-access relation\n\nIf more than a single Ceph key is set as part of the relation data,\nmake sure that all of them are configured.\n\nMakes sure that the previous relation data is handled as well\nin order to maintain backwards compatibility.\n\nCo-authored-by: Ionut Balutoiu <ibalutoiu@cloudbasesolutions.com>\nChange-Id: I24be0ed48edd5af517e1699df77ef0d96ef20aa2\n'}, {'number': 2, 'created': '2020-12-16 21:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/5d1058dd4653de03fe4e60a63b7a625e20f958cd', 'message': 'Handle the extended ceph-access relation\n\nIf more than a single Ceph key is set as part of the relation data,\nmake sure that all of them are configured.\n\nMakes sure that the previous relation data is handled as well\nin order to maintain backwards compatibility.\n\nCo-authored-by: Ionut Balutoiu <ibalutoiu@cloudbasesolutions.com>\nChange-Id: I24be0ed48edd5af517e1699df77ef0d96ef20aa2\n'}, {'number': 3, 'created': '2021-01-06 13:18:01.000000000', 'files': ['unit_tests/test_nova_compute_hooks.py', 'hooks/nova_compute_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/308154e53cd75ca9db295b8d569a406ffae9f218', 'message': 'Handle the extended ceph-access relation\n\nIf more than a single Ceph key is set as part of the relation data,\nmake sure that all of them are configured.\n\nMakes sure that the previous relation data is handled as well\nin order to maintain backwards compatibility.\n\nCo-authored-by: Ionut Balutoiu <ibalutoiu@cloudbasesolutions.com>\nChange-Id: I24be0ed48edd5af517e1699df77ef0d96ef20aa2\n'}]",0,763982,308154e53cd75ca9db295b8d569a406ffae9f218,41,3,3,32431,,,0,"Handle the extended ceph-access relation

If more than a single Ceph key is set as part of the relation data,
make sure that all of them are configured.

Makes sure that the previous relation data is handled as well
in order to maintain backwards compatibility.

Co-authored-by: Ionut Balutoiu <ibalutoiu@cloudbasesolutions.com>
Change-Id: I24be0ed48edd5af517e1699df77ef0d96ef20aa2
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/82/763982/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_compute_hooks.py', 'hooks/nova_compute_hooks.py']",2,a9c9b6be87860649e94af1b423750d377253323e,cinder-ceph-replication," def _configure_keyring(service_name, key, uuid): if config('virt-type') in LIBVIRT_TYPES: secrets_filename = CEPH_BACKEND_SECRET.format(service_name) 'service_name': service_name}) ensure_ceph_keyring(service=service_name, ceph_keyrings = relation_get('keyrings') if ceph_keyrings: for keyring in json.loads(ceph_keyrings): _configure_keyring( keyring['name'], keyring['key'], keyring['secret-uuid']) else: # NOTE: keep backwards compatibility with previous relation data key = relation_get('key', unit, rid) uuid = relation_get('secret-uuid', unit, rid) if key and uuid: _configure_keyring(remote_service_name(rid), key, uuid) "," key = relation_get('key', unit, rid) uuid = relation_get('secret-uuid', unit, rid) if key and uuid: remote_service = remote_service_name(rid) if config('virt-type') in LIBVIRT_TYPES: secrets_filename = CEPH_BACKEND_SECRET.format(remote_service) 'service_name': remote_service}) ensure_ceph_keyring(service=remote_service,",65,11
openstack%2Freleases~master~I5ea2e81a835f25083ef65a39d2b4e68724a6463a,openstack/releases,master,I5ea2e81a835f25083ef65a39d2b4e68724a6463a,Release kolla deliverables for Victoria,MERGED,2021-01-05 11:48:38.000000000,2021-01-11 11:59:17.000000000,2021-01-11 11:59:17.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-05 11:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/155975e5554e3f7b3f4d44a98b587751561d02fb', 'message': 'Release kolla deliverables for Victora\n\n* kolla 11.0.0\n* kolla-ansible 11.0.0\n* kayobe 9.0.0\n\nChange-Id: I5ea2e81a835f25083ef65a39d2b4e68724a6463a\n'}, {'number': 2, 'created': '2021-01-05 15:52:18.000000000', 'files': ['deliverables/victoria/kayobe.yaml', 'deliverables/victoria/kolla-ansible.yaml', 'deliverables/victoria/kolla.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/91c226266baa466a0be096c3e7c0d0db7eb1bfd0', 'message': 'Release kolla deliverables for Victoria\n\n* kolla 11.0.0\n* kolla-ansible 11.0.0\n* kayobe 9.0.0\n\nChange-Id: I5ea2e81a835f25083ef65a39d2b4e68724a6463a\n'}]",1,769328,91c226266baa466a0be096c3e7c0d0db7eb1bfd0,16,3,2,14826,,,0,"Release kolla deliverables for Victoria

* kolla 11.0.0
* kolla-ansible 11.0.0
* kayobe 9.0.0

Change-Id: I5ea2e81a835f25083ef65a39d2b4e68724a6463a
",git fetch https://review.opendev.org/openstack/releases refs/changes/28/769328/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/kayobe.yaml', 'deliverables/victoria/kolla-ansible.yaml', 'deliverables/victoria/kolla.yaml']",3,155975e5554e3f7b3f4d44a98b587751561d02fb,, - version: 11.0.0 projects: - repo: openstack/kolla hash: fee9edb2a371a5ea75371ea28ab0979afca70444,,16,0
openstack%2Freleases~master~I6a0d18f94e600dcc9e19589184d5971d6a13af47,openstack/releases,master,I6a0d18f94e600dcc9e19589184d5971d6a13af47,Release ironic-python-agent-builder 2.4.0,MERGED,2021-01-07 17:05:18.000000000,2021-01-11 11:58:36.000000000,2021-01-11 11:58:36.000000000,"[{'_account_id': 308}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-07 17:05:18.000000000', 'files': ['deliverables/_independent/ironic-python-agent-builder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/74b8930da44f0bc51e828a4c3203ca377efb1b8f', 'message': 'Release ironic-python-agent-builder 2.4.0\n\nChange-Id: I6a0d18f94e600dcc9e19589184d5971d6a13af47\n'}]",0,769802,74b8930da44f0bc51e828a4c3203ca377efb1b8f,8,5,1,10239,,,0,"Release ironic-python-agent-builder 2.4.0

Change-Id: I6a0d18f94e600dcc9e19589184d5971d6a13af47
",git fetch https://review.opendev.org/openstack/releases refs/changes/02/769802/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/ironic-python-agent-builder.yaml'],1,74b8930da44f0bc51e828a4c3203ca377efb1b8f,ironic-python-agent-builder, - version: 2.4.0 projects: - repo: openstack/ironic-python-agent-builder hash: 00b8cbbf04ec63bf0c6ad6c1530dd7ea7f59645c,,4,0
openstack%2Freleases~master~Id5dae7ce37a4fdc2109f46bbee0280e7e691a739,openstack/releases,master,Id5dae7ce37a4fdc2109f46bbee0280e7e691a739,Release sushy-tools 0.14.0,MERGED,2021-01-06 11:37:40.000000000,2021-01-11 11:58:26.000000000,2021-01-11 11:58:26.000000000,"[{'_account_id': 308}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-06 11:37:40.000000000', 'files': ['deliverables/_independent/sushy-tools.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/27a8db6387a7b40ca30538334ba4a97d150e4085', 'message': 'Release sushy-tools 0.14.0\n\nChange-Id: Id5dae7ce37a4fdc2109f46bbee0280e7e691a739\n'}]",0,769528,27a8db6387a7b40ca30538334ba4a97d150e4085,11,5,1,10239,,,0,"Release sushy-tools 0.14.0

Change-Id: Id5dae7ce37a4fdc2109f46bbee0280e7e691a739
",git fetch https://review.opendev.org/openstack/releases refs/changes/28/769528/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/sushy-tools.yaml'],1,27a8db6387a7b40ca30538334ba4a97d150e4085,sushy-tools, - version: 0.14.0 projects: - repo: openstack/sushy-tools hash: 4b71614836348b31db996eec319ebe4a4244876b,,4,0
openstack%2Fpython-magnumclient~master~I3dc8e22505556a1142681210af1342d2a9fb29d7,openstack/python-magnumclient,master,I3dc8e22505556a1142681210af1342d2a9fb29d7,Drop lower constraints testing,ABANDONED,2021-01-11 11:28:51.000000000,2021-01-11 11:30:39.000000000,,[],"[{'number': 1, 'created': '2021-01-11 11:28:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/25cb422308b7bb3f26a300e9a4e214b754a39aa8', 'message': 'Drop lower constraints testing\n\nProjects like oslo are dropping lower constraints\ntesting. There is also discussion to drop it until\nwe find a proper setup. For details, please follow\nthe ML thread. TC will have updates soon.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-January/019679.html\n\nstory: 2008482\ntask: 41523\n\nChange-Id: I3dc8e22505556a1142681210af1342d2a9fb29d7\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",0,770106,25cb422308b7bb3f26a300e9a4e214b754a39aa8,2,0,1,20498,,,0,"Drop lower constraints testing

Projects like oslo are dropping lower constraints
testing. There is also discussion to drop it until
we find a proper setup. For details, please follow
the ML thread. TC will have updates soon.

http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019679.html

story: 2008482
task: 41523

Change-Id: I3dc8e22505556a1142681210af1342d2a9fb29d7
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/06/770106/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,25cb422308b7bb3f26a300e9a4e214b754a39aa8,drop_lc,, - openstack-lower-constraints-jobs,0,1
openstack%2Fpython-magnumclient~master~Icb162f918176465911148b35af3714c46cc2327f,openstack/python-magnumclient,master,Icb162f918176465911148b35af3714c46cc2327f,Drop lower constraints testing,ABANDONED,2021-01-11 11:25:56.000000000,2021-01-11 11:27:39.000000000,,[],"[{'number': 1, 'created': '2021-01-11 11:25:56.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-magnumclient/commit/e4a508b80bdbdf3b5dbe3195cfb17a38489d410c', 'message': 'Drop lower constraints testing\n\nProjects like oslo are dropping lower constraints\ntesting. There is also discussion to drop it until\nwe find a proper setup. For details, please follow\nthe ML thread. TC will have updates soon.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-January/019679.html\n\nstory: 2008482\ntask: 41523\n\nChange-Id: Icb162f918176465911148b35af3714c46cc2327f\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",0,770105,e4a508b80bdbdf3b5dbe3195cfb17a38489d410c,2,0,1,20498,,,0,"Drop lower constraints testing

Projects like oslo are dropping lower constraints
testing. There is also discussion to drop it until
we find a proper setup. For details, please follow
the ML thread. TC will have updates soon.

http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019679.html

story: 2008482
task: 41523

Change-Id: Icb162f918176465911148b35af3714c46cc2327f
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/python-magnumclient refs/changes/05/770105/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e4a508b80bdbdf3b5dbe3195cfb17a38489d410c,drop_lc,, - openstack-lower-constraints-jobs,0,1
openstack%2Fpuppet-nova~stable%2Fvictoria~If6a26527a737a7184ebddd5b4bc346d64827e9e3,openstack/puppet-nova,stable/victoria,If6a26527a737a7184ebddd5b4bc346d64827e9e3,Set dhcp_domain for all nova services,MERGED,2021-01-04 12:27:54.000000000,2021-01-11 11:26:09.000000000,2021-01-11 11:24:00.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23811}]","[{'number': 1, 'created': '2021-01-04 12:27:54.000000000', 'files': ['manifests/metadata.pp', 'manifests/init.pp', 'releasenotes/notes/deprecate-metadata-dhcp_domain-963c644692f72ede.yaml', 'spec/classes/nova_init_spec.rb', 'spec/classes/nova_metadata_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/5e4cee430393ff8df1c587112309a54a83189ef0', 'message': 'Set dhcp_domain for all nova services\n\nThis is required for nova-compute so move to init.pp from metadata.pp and set\nDEFAULT/dhcp_domain (which nova should undeprecate) vs api/dhcp_domain.\n\nChange-Id: If6a26527a737a7184ebddd5b4bc346d64827e9e3\nRelated-bug: #1903908\nRelated-bug: #1832537\n(cherry picked from commit 71276558e77c8612397d0e31187cc8eec4554ff9)\n'}]",2,769136,5e4cee430393ff8df1c587112309a54a83189ef0,13,6,1,27419,,,0,"Set dhcp_domain for all nova services

This is required for nova-compute so move to init.pp from metadata.pp and set
DEFAULT/dhcp_domain (which nova should undeprecate) vs api/dhcp_domain.

Change-Id: If6a26527a737a7184ebddd5b4bc346d64827e9e3
Related-bug: #1903908
Related-bug: #1832537
(cherry picked from commit 71276558e77c8612397d0e31187cc8eec4554ff9)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/36/769136/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/metadata.pp', 'manifests/init.pp', 'releasenotes/notes/deprecate-metadata-dhcp_domain-963c644692f72ede.yaml', 'spec/classes/nova_init_spec.rb', 'spec/classes/nova_metadata_spec.rb']",5,5e4cee430393ff8df1c587112309a54a83189ef0,refactor_nova_db_config, is_expected.to_not contain_nova_config('api/dhcp_domain') is_expected.to_not contain_nova_config('api/dhcp_domain'), is_expected.to contain_nova_config('api/dhcp_domain').with('value' => '<SERVICE DEFAULT>') is_expected.to contain_nova_config('api/dhcp_domain').with('value' => 'foo'),29,7
openstack%2Fpuppet-nova~stable%2Fvictoria~I3fe97b4d5c9c2bb3709e37c561af353b859495ef,openstack/puppet-nova,stable/victoria,I3fe97b4d5c9c2bb3709e37c561af353b859495ef,Fix ignored unit tests,MERGED,2021-01-05 23:07:47.000000000,2021-01-11 11:24:03.000000000,2021-01-11 11:24:03.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-05 23:07:47.000000000', 'files': ['spec/classes/nova_cell_v2_map_instances_spec.rb', 'spec/classes/nova_cron_purge_shadow_tables_spec.rb', 'spec/unit/type/nova_cell_v2_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6d1e127b015daef162ea8a40c1ed79dec9daef5c', 'message': 'Fix ignored unit tests\n\nUnit test files should be named like *_spec.rb.\n\nChange-Id: I3fe97b4d5c9c2bb3709e37c561af353b859495ef\n(cherry picked from commit 5b135ed130906546980c603b90b3648b80479ff7)\n'}]",0,769365,6d1e127b015daef162ea8a40c1ed79dec9daef5c,7,3,1,9816,,,0,"Fix ignored unit tests

Unit test files should be named like *_spec.rb.

Change-Id: I3fe97b4d5c9c2bb3709e37c561af353b859495ef
(cherry picked from commit 5b135ed130906546980c603b90b3648b80479ff7)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/65/769365/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_cell_v2_map_instances_spec.rb', 'spec/classes/nova_cron_purge_shadow_tables_spec.rb', 'spec/unit/type/nova_cell_v2_spec.rb']",3,6d1e127b015daef162ea8a40c1ed79dec9daef5c,ignored-ut-stable/victoria,,,4,4
openstack%2Fcharm-mysql-innodb-cluster~master~Id9ca8aae6538c70295e5c4c9720fa8a001a11bcd,openstack/charm-mysql-innodb-cluster,master,Id9ca8aae6538c70295e5c4c9720fa8a001a11bcd,Correct certificate request SAN IP addresses,MERGED,2021-01-07 21:30:52.000000000,2021-01-11 11:21:38.000000000,2021-01-11 11:21:38.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 21:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/7316601f5dc9bb513823cc6f47918c0239f78deb', 'message': 'Use cert_utils.get_certificate_requests\n\nRemove custom certificate request elements and use the standard\ncharmhelpers.contrib.openstack.cert_utils.get_certficate_requests.\n\nPass bindings to get_certificate_requests and create_ip_cert_links to\nguarantee all SAN IPs are included.\n\nLanding this change will build the charm with updated charm-helpers and\ncharms.openstack which will close LP Bug#1908306.\n\nChange-Id: Id9ca8aae6538c70295e5c4c9720fa8a001a11bcd\nClose-Bug: #1908306\n'}, {'number': 2, 'created': '2021-01-08 16:02:31.000000000', 'files': ['src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/reactive/mysql_innodb_cluster_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/7792a6bdf07e97c9a7022457b8240c5fb5826801', 'message': 'Correct certificate request SAN IP addresses\n\nPrior to this change the charm incorrectly used the\ncluster_peer_addresses property. This change uses the cluster_address,\ndb_router_address and shared_db_address properties when requesting\ncertificates SAN IPs.\n\nPass bindings to create_ip_cert_links to guarantee all SAN IPs are\nincluded.\n\nLanding this change will build the charm with updated charm-helpers\nand charms.openstack which will close LP Bug#1908306.\n\nChange-Id: Id9ca8aae6538c70295e5c4c9720fa8a001a11bcd\nClose-Bug: #1908306\n'}]",2,769843,7792a6bdf07e97c9a7022457b8240c5fb5826801,15,3,2,20805,,,0,"Correct certificate request SAN IP addresses

Prior to this change the charm incorrectly used the
cluster_peer_addresses property. This change uses the cluster_address,
db_router_address and shared_db_address properties when requesting
certificates SAN IPs.

Pass bindings to create_ip_cert_links to guarantee all SAN IPs are
included.

Landing this change will build the charm with updated charm-helpers
and charms.openstack which will close LP Bug#1908306.

Change-Id: Id9ca8aae6538c70295e5c4c9720fa8a001a11bcd
Close-Bug: #1908306
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/43/769843/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/reactive/mysql_innodb_cluster_handlers.py']",2,7316601f5dc9bb513823cc6f47918c0239f78deb,bug/1908306," for cn, req in instance.get_certificate_requests( bindings=instance.mysql_server_bindings).items():","import charmhelpers.contrib.openstack.cert_utils as cert_utils req = cert_utils.CertRequest(json_encode=False) req.add_hostname_cn() # TODO: We actually want the db-router bindings for each node and not # the cluster binding. However, deploys will be using 127.0.0.1 with # mysql-router. # Add localhost for mysql-router connections req.add_hostname_cn_ip(instance.cluster_peer_addresses + [""127.0.0.1""]) for cn, req in req.get_request().get('cert_requests', {}).items():",15,30
openstack%2Fpuppet-glance~stable%2Fussuri~I4ac04a561746c227b245d11890d02c14a21965d0,openstack/puppet-glance,stable/ussuri,I4ac04a561746c227b245d11890d02c14a21965d0,Use glance-swift.conf by default,MERGED,2021-01-05 23:46:15.000000000,2021-01-11 11:17:21.000000000,2021-01-11 11:16:01.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-05 23:46:15.000000000', 'files': ['spec/defines/glance_backend_multistore_swift_spec.rb', 'manifests/backend/multistore/swift.pp', 'releasenotes/notes/change-default-of-swift_store_config_file-e59ff9753f3612a7.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/b25937265deca5bcfdbca06960603d198dfab2e0', 'message': 'Use glance-swift.conf by default\n\nThis patch changes default of the swift_store_config_file parameter,\nso that the configuration file generated by puppet-glance is used by\ndefault, instead of requiring users to set the parameter explicitly.\n\nCloses-Bug: #1908917\nChange-Id: I4ac04a561746c227b245d11890d02c14a21965d0\n(cherry picked from commit 26e26d115d04f6208f316932f18a9b57bde4867d)\n(cherry picked from commit ddb7d4e48ea5fba85b4ae04274d91f7273d4383e)\n'}]",0,769369,b25937265deca5bcfdbca06960603d198dfab2e0,12,3,1,9816,,,0,"Use glance-swift.conf by default

This patch changes default of the swift_store_config_file parameter,
so that the configuration file generated by puppet-glance is used by
default, instead of requiring users to set the parameter explicitly.

Closes-Bug: #1908917
Change-Id: I4ac04a561746c227b245d11890d02c14a21965d0
(cherry picked from commit 26e26d115d04f6208f316932f18a9b57bde4867d)
(cherry picked from commit ddb7d4e48ea5fba85b4ae04274d91f7273d4383e)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/69/769369/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/glance_backend_multistore_swift_spec.rb', 'manifests/backend/multistore/swift.pp', 'releasenotes/notes/change-default-of-swift_store_config_file-e59ff9753f3612a7.yaml']",3,b25937265deca5bcfdbca06960603d198dfab2e0,bug/1908917-stable/victoria-stable/ussuri,--- fixes: - | The ``swift::backend::multistore::swift::swift_store_config_file`` is now set to ``/etc/glance/glance-swift.conf`` by default. Because of this change the parameter is automatically set to use the configuration file generated by puppet-glance. ,,12,5
openstack%2Fpuppet-glance~stable%2Fvictoria~Ib188ef46d53ea2ac2adc5deaf0d249f8bdb8f1aa,openstack/puppet-glance,stable/victoria,Ib188ef46d53ea2ac2adc5deaf0d249f8bdb8f1aa,cinder backend: password should be secret,MERGED,2021-01-05 23:50:03.000000000,2021-01-11 11:16:04.000000000,2021-01-11 11:16:04.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-05 23:50:03.000000000', 'files': ['spec/defines/glance_backend_multistore_cinder_spec.rb', 'manifests/backend/multistore/cinder.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/fb6c573c2bde15e61c94e711fcfc713dd09486c2', 'message': 'cinder backend: password should be secret\n\nThis change ensures that password information for cinder backend is\nproperly hidden.\n\nChange-Id: Ib188ef46d53ea2ac2adc5deaf0d249f8bdb8f1aa\n(cherry picked from commit 3a9ae92204091bfb4a16e7d342667a945df9a263)\n'}]",0,769371,fb6c573c2bde15e61c94e711fcfc713dd09486c2,7,3,1,9816,,,0,"cinder backend: password should be secret

This change ensures that password information for cinder backend is
properly hidden.

Change-Id: Ib188ef46d53ea2ac2adc5deaf0d249f8bdb8f1aa
(cherry picked from commit 3a9ae92204091bfb4a16e7d342667a945df9a263)
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/71/769371/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/glance_backend_multistore_cinder_spec.rb', 'manifests/backend/multistore/cinder.pp']",2,fb6c573c2bde15e61c94e711fcfc713dd09486c2,cinder-password-stable/victoria," ""${name}/cinder_store_password"": value => $cinder_store_password, secret => true; ""${name}/cinder_store_password"": value => $cinder_store_password, secret => true;"," ""${name}/cinder_store_password"": value => $cinder_store_password; ""${name}/cinder_store_password"": value => $cinder_store_password;",6,6
openstack%2Fopenstack-ansible-os_horizon~master~Ib652b5cf4f8fb7066ca3e29222ed7b4949d073f8,openstack/openstack-ansible-os_horizon,master,Ib652b5cf4f8fb7066ca3e29222ed7b4949d073f8,Use global service variables,MERGED,2021-01-08 15:08:04.000000000,2021-01-11 11:13:21.000000000,2021-01-11 11:10:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-08 15:08:04.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/bb300f75d934951e8033e1ebf15b6fabd96f7b6b', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: Ib652b5cf4f8fb7066ca3e29222ed7b4949d073f8\n'}]",0,769938,bb300f75d934951e8033e1ebf15b6fabd96f7b6b,8,3,1,28619,,,0,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: Ib652b5cf4f8fb7066ca3e29222ed7b4949d073f8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/38/769938/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,bb300f75d934951e8033e1ebf15b6fabd96f7b6b,osa/service_variables,"# Set the package install state for distribution packageshorizon_package_state: ""{{ package_state | default('latest') }}""horizon_install_method: ""{{ service_install_method | default('source') }}""horizon_service_region: ""{{ service_region | default('RegionOne') }}""horizon_enable_blazar_ui: ""{{ (groups['blazar_all'] is defined) and (groups['blazar_all'] | length > 0) }}""horizon_enable_cloudkitty_ui: ""{{ (groups['cloudkitty_all'] is defined) and (groups['cloudkitty_all'] | length > 0) }}""horizon_enable_designate_ui: ""{{ (groups['designate_all'] is defined) and (groups['designate_all'] | length > 0) }}""horizon_enable_heat_ui: ""{{ (groups['heat_all'] is defined) and (groups['heat_all'] | length > 0) }}"" ## Ironic UI Panel horizon_enable_ironic_ui: ""{{ (groups['ironic_all'] is defined) and (groups['ironic_all'] | length > 0) }}"" ## Magnum UI Panel horizon_enable_magnum_ui: ""{{ (groups['magnum_all'] is defined) and (groups['magnum_all'] | length > 0) }}"" ## Masakari UI Panel horizon_enable_masakari_ui: ""{{ (groups['masakari_all'] is defined) and (groups['masakari_all'] | length > 0) }}"" ## Manila UI Panel horizon_enable_manila_ui: ""{{ (groups['manila_all'] is defined) and (groups['manila_all'] | length > 0) }}"" ## Mistral Ui Panel horizon_enable_mistral_ui: ""{{ (groups['mistral_all'] is defined) and (groups['mistral_all'] | length > 0) }}"" ## Murano UI Panel horizon_enable_murano_ui: ""{{ (groups['murano_all'] is defined) and (groups['murano_all'] | length > 0) }}""horizon_enable_neutron_vpnaas: ""{{ neutron_plugin_base is defined and 'vpnaas' in neutron_plugin_base }}"" ## Octavia UI Panel horizon_enable_octavia_ui: ""{{ (groups['octavia_all'] is defined) and (groups['octavia_all'] | length > 0) }}"" ## Sahara UI Panel horizon_enable_sahara_ui: ""{{ (groups['sahara_all'] is defined) and (groups['sahara_all'] | length > 0) }}"" ## Tacker UI Panel horizon_enable_tacker_ui: ""{{ (groups['tacker_all'] is defined) and (groups['tacker_all'] | length > 0) }}"" ## Trove UI Panel horizon_enable_trove_ui: ""{{ (groups['trove_all'] is defined) and (groups['trove_all'] | length > 0) }}""horizon_enable_zun_ui: ""{{ (groups['zun_all'] is defined) and (groups['zun_all'] | length > 0) }}""","# Set the package install state for distribution and pip packageshorizon_package_state: ""latest"" horizon_pip_package_state: ""latest""horizon_install_method: ""source""horizon_service_region: RegionOnehorizon_enable_blazar_ui: Falsehorizon_enable_cloudkitty_ui: False ## Ironic UI Panel horizon_enable_ironic_ui: False ## Magnum UI Panel horizon_enable_magnum_ui: False ## Mistral Ui Panel horizon_enable_mistral_ui: False ## Manila UI Panel horizon_enable_manila_ui: False ## Masakari UI Panel horizon_enable_masakari_ui: False ## Murano UI Panel horizon_enable_murano_ui: False ## Octavia UI Panel horizon_enable_octavia_ui: False ## Sahara UI Panel horizon_enable_sahara_ui: False ## Tacker UI Panel horizon_enable_tacker_ui: False ## Trove UI Panel horizon_enable_trove_ui: Falsehorizon_enable_designate_ui: Falsehorizon_enable_heat_ui: Falsehorizon_enable_neutron_vpnaas: Falsehorizon_enable_zun_ui: False",40,41
openstack%2Fcharm-masakari~master~I20c955b57f5c4ca868a0bafa82f637d8d3489a3b,openstack/charm-masakari,master,I20c955b57f5c4ca868a0bafa82f637d8d3489a3b,Enable functional tests for train,ABANDONED,2019-10-23 13:42:31.000000000,2021-01-11 11:11:25.000000000,,"[{'_account_id': 7730}, {'_account_id': 11805}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-23 13:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/64cca305c876b656e971484593f9b51463bb2eea', 'message': 'Enable functional tests for train\n\nThis patch also updates the smoke test to run train.\n\nChange-Id: I20c955b57f5c4ca868a0bafa82f637d8d3489a3b\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 2, 'created': '2019-10-23 13:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/a09fdb11644a5e2543604133d7c867a7f23d10a5', 'message': 'Enable functional tests for train\n\nThis patch also updates the smoke test to run train.\n\nChange-Id: I20c955b57f5c4ca868a0bafa82f637d8d3489a3b\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 3, 'created': '2019-10-25 07:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/2c662aa0ec8d4c940e07ac829c2ae9b64c3f8caa', 'message': ""Enable functional tests for train\n\nThis patch also add new train identifier for the MasakariCharm's\nclass.\n\nChange-Id: I20c955b57f5c4ca868a0bafa82f637d8d3489a3b\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n""}, {'number': 4, 'created': '2019-10-29 08:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/2c83f126724d24d7654ddb92498e70c5ea501f36', 'message': ""Enable functional tests for train\n\nThis patch also add new train identifier for the MasakariCharm's\nclass.\n\nChange-Id: I20c955b57f5c4ca868a0bafa82f637d8d3489a3b\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n""}, {'number': 5, 'created': '2019-10-29 08:34:26.000000000', 'files': ['src/lib/charm/openstack/masakari.py', 'src/tests/bundles/bionic-train-pacemaker-remote-ssl.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/212f97de332c50e0b97d891d8fe12212c2c891bf', 'message': ""Enable functional tests for train\n\nThis patch also add new train identifier for the MasakariCharm's\nclass.\n\nChange-Id: I20c955b57f5c4ca868a0bafa82f637d8d3489a3b\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n""}]",0,690569,212f97de332c50e0b97d891d8fe12212c2c891bf,19,5,5,7730,,,0,"Enable functional tests for train

This patch also add new train identifier for the MasakariCharm's
class.

Change-Id: I20c955b57f5c4ca868a0bafa82f637d8d3489a3b
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/69/690569/5 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-train-pacemaker-remote-ssl.yaml', 'src/tests/tests.yaml']",2,64cca305c876b656e971484593f9b51463bb2eea,charms-train-function-test, - bionic-train-pacemaker-remote-ssl, - bionic-rocky-pacemaker-remote-ssl,196,1
openstack%2Fpuppet-neutron~master~I8ccfd7ab762c66510e282ed29bcc8e8539997897,openstack/puppet-neutron,master,I8ccfd7ab762c66510e282ed29bcc8e8539997897,Deprecate support of networking-cisco,MERGED,2021-01-02 03:20:13.000000000,2021-01-11 11:03:20.000000000,2021-01-11 11:02:06.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-02 03:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/0a32d64ee9548859db7b52d876c9252714bc6b9e', 'message': ""Deprecate support for networking-cisco\n\nUnfortunately networking-cisco[1] has not been updated for recent two\nyears. It supports only Python 2.7 and 3.5 according to its setup.cfg,\nand looks very outdated.\nLet's deprecate its support since we don't expect any users still using\nit with recent OpenStack releases.\n\n[1] https://opendev.org/x/networking-cisco/\n\nChange-Id: I8ccfd7ab762c66510e282ed29bcc8e8539997897\n""}, {'number': 2, 'created': '2021-01-02 11:24:32.000000000', 'files': ['spec/classes/neutron_plugins_ml2_cisco_spec.rb', 'releasenotes/notes/deprecate-networking-cisco-0958783aa9326766.yaml', 'manifests/plugins/ml2/cisco/type_nexus_vxlan.pp', 'manifests/plugins/ml2/cisco.pp', 'spec/classes/neutron_plugins_ml2_cisco_ucsm_spec.rb', 'manifests/plugins/ml2/cisco/nexus.pp', 'spec/classes/neutron_plugins_ml2_cisco_type_nexus_vxlan_spec.rb', 'spec/classes/neutron_plugins_ml2_cisco_nexus_spec.rb', 'manifests/plugins/ml2/cisco/ucsm.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/a8d14466a65e453e2026d753c4ef16e6bea047d0', 'message': ""Deprecate support of networking-cisco\n\nUnfortunately networking-cisco[1] has not been updated for recent two\nyears, and it still supports only Python 2.7 and 3.5 according to its\nsetup.cfg file.\nLet's deprecate support of the plugin since we don't expect any users\nstill using that outdated plugin with recent OpenStack releases.\n\n[1] https://opendev.org/x/networking-cisco/\n\nChange-Id: I8ccfd7ab762c66510e282ed29bcc8e8539997897\n""}]",0,768849,a8d14466a65e453e2026d753c4ef16e6bea047d0,20,4,2,9816,,,0,"Deprecate support of networking-cisco

Unfortunately networking-cisco[1] has not been updated for recent two
years, and it still supports only Python 2.7 and 3.5 according to its
setup.cfg file.
Let's deprecate support of the plugin since we don't expect any users
still using that outdated plugin with recent OpenStack releases.

[1] https://opendev.org/x/networking-cisco/

Change-Id: I8ccfd7ab762c66510e282ed29bcc8e8539997897
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/49/768849/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_plugins_ml2_cisco_spec.rb', 'releasenotes/notes/deprecate-networking-cisco-0958783aa9326766.yaml', 'manifests/plugins/ml2/cisco/type_nexus_vxlan.pp', 'manifests/plugins/ml2/cisco.pp', 'spec/classes/neutron_plugins_ml2_cisco_ucsm_spec.rb', 'manifests/plugins/ml2/cisco/nexus.pp', 'spec/classes/neutron_plugins_ml2_cisco_type_nexus_vxlan_spec.rb', 'spec/classes/neutron_plugins_ml2_cisco_nexus_spec.rb', 'manifests/plugins/ml2/cisco/ucsm.pp']",9,0a32d64ee9548859db7b52d876c9252714bc6b9e,networking-cisco, warning('Support for networking-cisco has been deprecated and has no effect')," include neutron::deps include neutron::plugins::ml2::cisco neutron_plugin_ml2 { 'ml2_cisco_ucsm/ucsm_ip' : value => $ucsm_ip; 'ml2_cisco_ucsm/ucsm_username' : value => $ucsm_username; 'ml2_cisco_ucsm/ucsm_password' : value => $ucsm_password, secret => true; 'ml2_cisco_ucsm/ucsm_host_list' : value => $ucsm_host_list; 'ml2_cisco_ucsm/sp_template_list' : value => $sp_template_list; 'ml2_cisco_ucsm/vnic_template_list' : value => $vnic_template_list; 'ml2_cisco_ucsm/supported_pci_devs' : value => $supported_pci_devs; 'ml2_cisco_ucsm/ucsm_https_verify' : value => $ucsm_https_verify; }",12,313
openstack%2Fopenstack-ansible-os_placement~master~I5b8a03d96375d67c8090af182d244495fd0a7f67,openstack/openstack-ansible-os_placement,master,I5b8a03d96375d67c8090af182d244495fd0a7f67,Use global service variables,MERGED,2021-01-08 16:13:01.000000000,2021-01-11 10:58:03.000000000,2021-01-11 10:54:45.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-08 16:13:01.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/ea6a8d38b2e24bd6d3c31b5baec6ef93fc5fbaeb', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: I5b8a03d96375d67c8090af182d244495fd0a7f67\n'}]",0,769954,ea6a8d38b2e24bd6d3c31b5baec6ef93fc5fbaeb,8,3,1,28619,,,0,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: I5b8a03d96375d67c8090af182d244495fd0a7f67
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/54/769954/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,ea6a8d38b2e24bd6d3c31b5baec6ef93fc5fbaeb,osa/service_variables,"placement_install_method: ""{{ service_install_method | default('source') }}""# Set the package install state for distribution packagesplacement_package_state: ""{{ package_state | default('latest') }}""placement_galera_port: ""{{ galera_port | default('3306') }}""placement_service_region: ""{{ service_region | default('RegionOne') }}""placement_service_in_ldap: ""{{ service_ldap_backend_enabled | default(False) }}""","placement_install_method: ""source""# Set the package install state for distribution and pip packagesplacement_package_state: ""latest"" placement_pip_package_state: ""latest""placement_galera_port: 3306placement_service_region: RegionOneplacement_service_in_ldap: false",6,7
openstack%2Fopenstack-ansible-os_heat~master~I73d5e7334c076f4d0dd18b157307aa31cfb541a9,openstack/openstack-ansible-os_heat,master,I73d5e7334c076f4d0dd18b157307aa31cfb541a9,Use global service variables,MERGED,2021-01-08 14:51:29.000000000,2021-01-11 10:58:01.000000000,2021-01-11 10:55:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-08 14:51:29.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/9dc51b5386324dd2353f3b16d6de2681aabc6ec5', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: I73d5e7334c076f4d0dd18b157307aa31cfb541a9\n'}]",0,769933,9dc51b5386324dd2353f3b16d6de2681aabc6ec5,8,3,1,28619,,,0,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: I73d5e7334c076f4d0dd18b157307aa31cfb541a9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/33/769933/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,9dc51b5386324dd2353f3b16d6de2681aabc6ec5,osa/service_variables,"heat_ceilometer_enabled: ""{{ (groups['ceilometer_all'] is defined) and (groups['ceilometer_all'] | length > 0) }}""# Set the package install state for distribution packagesheat_package_state: ""{{ package_state | default('latest') }}""heat_install_method: ""{{ service_install_method | default('source') }}""heat_galera_port: ""{{ galera_port | default('3306') }}""heat_service_region: ""{{ service_region | default('RegionOne') }}""heat_service_in_ldap: ""{{ service_ldap_backend_enabled | default(False) }}""","heat_ceilometer_enabled: False# Set the package install state for distribution and pip packagesheat_package_state: ""latest"" heat_pip_package_state: ""latest""heat_install_method: ""source""heat_galera_port: 3306heat_service_region: RegionOneheat_service_in_ldap: false",7,8
openstack%2Fopenstack-ansible-os_magnum~master~I295b6f99422ba81d14a04129939648d0722dd584,openstack/openstack-ansible-os_magnum,master,I295b6f99422ba81d14a04129939648d0722dd584,Use global service variables,MERGED,2021-01-08 15:18:47.000000000,2021-01-11 10:57:58.000000000,2021-01-11 10:56:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-08 15:18:47.000000000', 'files': ['tasks/magnum_service_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/c87dcebfe01e31bb289bf57a9656febaac112916', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: I295b6f99422ba81d14a04129939648d0722dd584\n'}]",0,769941,c87dcebfe01e31bb289bf57a9656febaac112916,8,3,1,28619,,,0,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: I295b6f99422ba81d14a04129939648d0722dd584
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/41/769941/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/magnum_service_setup.yml', 'defaults/main.yml']",2,c87dcebfe01e31bb289bf57a9656febaac112916,osa/service_variables,"magnum_ceilometer_enabled: ""{{ (groups['ceilometer_all'] is defined) and (groups['ceilometer_all'] | length > 0) }}""# Set the package install state for distribution packagesmagnum_package_state: ""{{ package_state | default('latest') }}""magnum_service_region: ""{{ service_region | default('RegionOne') }}""magnum_service_in_ldap: ""{{ service_ldap_backend_enabled | default(False) }}""magnum_galera_port: ""{{ galera_port | default('3306') }}""","magnum_ceilometer_enabled: False# Set the package install state for distribution and pip packagesmagnum_package_state: ""latest"" magnum_pip_package_state: ""latest""magnum_service_region: RegionOnemagnum_galera_port: 3306",7,6
openstack%2Ftripleo-common~master~I1c1336edce7664f65e0fa2a01492c3544f59a14e,openstack/tripleo-common,master,I1c1336edce7664f65e0fa2a01492c3544f59a14e,pylint: fixed logging,MERGED,2021-01-06 12:39:01.000000000,2021-01-11 10:50:32.000000000,2021-01-11 10:49:09.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-01-06 12:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bd271527e14231f516c1966e193c4586eb32a142', 'message': 'pylint: fixed logging\n\nChange-Id: I1c1336edce7664f65e0fa2a01492c3544f59a14e\n'}, {'number': 2, 'created': '2021-01-06 16:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2e0dde296ccb991871f137dfbf6516ec2e362c4e', 'message': 'pylint: fixed logging\n\nChange-Id: I1c1336edce7664f65e0fa2a01492c3544f59a14e\n'}, {'number': 3, 'created': '2021-01-07 13:33:49.000000000', 'files': ['tripleo_common/utils/tarball.py', '.pylintrc', 'tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_template.py', 'tripleo_common/utils/plan.py', 'tripleo_common/utils/template.py', 'tripleo_common/inventory.py', 'tripleo_common/utils/swift.py', 'tripleo_common/utils/nodes.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d10497246e1b425a23fe87311e4c4c6e825dbe35', 'message': 'pylint: fixed logging\n\nChange-Id: I1c1336edce7664f65e0fa2a01492c3544f59a14e\nRelated-Bug: #1910543\n'}]",2,769539,d10497246e1b425a23fe87311e4c4c6e825dbe35,28,10,3,24162,,,0,"pylint: fixed logging

Change-Id: I1c1336edce7664f65e0fa2a01492c3544f59a14e
Related-Bug: #1910543
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/39/769539/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/tarball.py', '.pylintrc', 'tripleo_common/utils/config.py', 'tripleo_common/utils/plan.py', 'tripleo_common/utils/template.py', 'tripleo_common/inventory.py', 'tripleo_common/utils/swift.py', 'tripleo_common/utils/nodes.py']",8,bd271527e14231f516c1966e193c4586eb32a142,pylint," LOG.debug( 'Creating Bare Metal port for node: %s, with properties: %s.', ironic_node.uuid, port) LOG.debug('Removing extra registered node %s.', node) LOG.debug('Extra registered node %s found.', node)"," LOG.debug('Creating Bare Metal port for node: %s, with properties: %s.' % (ironic_node.uuid, port)) LOG.debug('Removing extra registered node %s.' % node) LOG.debug('Extra registered node %s found.' % node)",65,66
openstack%2Fdevstack~master~Ib41e3b486550200572afd6b3ba783d7644d70d44,openstack/devstack,master,Ib41e3b486550200572afd6b3ba783d7644d70d44,[OVN] Use OVN from packages,MERGED,2020-11-19 16:01:50.000000000,2021-01-11 10:38:57.000000000,2020-12-30 16:29:29.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 29963}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-11-19 16:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d51fd8913e096e1a1d331547c3d7ec038de8d090', 'message': '[OVN] Use OVN from packages\n\nThis patch changes the OVN module from DevStack to allow for using the\nOSapackaged version of OVN instead of compiling it from source.\n\nA new variable called OVN_BUILD_FROM_SOURCE has been introduced and when\nset to False (the default value) OVN will then use the packaged version\nfor setting up DevStack.\n\nChange-Id: Ib41e3b486550200572afd6b3ba783d7644d70d44\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-11-22 12:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7a44ba4a47fa8d6b3c855b10b261454866f12f2c', 'message': '[OVN] Use OVN from packages\n\nThis patch changes the OVN module from DevStack to allow for using the\nOSapackaged version of OVN instead of compiling it from source.\n\nA new variable called OVN_BUILD_FROM_SOURCE has been introduced and when\nset to False (the default value) OVN will then use the packaged version\nfor setting up DevStack.\n\nChange-Id: Ib41e3b486550200572afd6b3ba783d7644d70d44\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2020-11-23 11:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/645355621e64a75700ba45c1315a7c7234777f57', 'message': '[OVN] Use OVN from packages\n\nThis patch changes the OVN module from DevStack to allow for using the\nOSapackaged version of OVN instead of compiling it from source.\n\nA new variable called OVN_BUILD_FROM_SOURCE has been introduced and when\nset to False (the default value) OVN will then use the packaged version\nfor setting up DevStack.\n\nChange-Id: Ib41e3b486550200572afd6b3ba783d7644d70d44\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2020-11-23 14:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1b70211dab439bdf2849228554a69f8dbd862df5', 'message': '[OVN] Use OVN from packages\n\nThis patch changes the OVN module from DevStack to allow for using the\nOSapackaged version of OVN instead of compiling it from source.\n\nA new variable called OVN_BUILD_FROM_SOURCE has been introduced and when\nset to False (the default value) OVN will then use the packaged version\nfor setting up DevStack.\n\nChange-Id: Ib41e3b486550200572afd6b3ba783d7644d70d44\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 5, 'created': '2020-11-23 15:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a99e1c06c18ee3d338b7e40517d2cce0ff8bef1d', 'message': '[OVN] Use OVN from packages\n\nThis patch changes the OVN module from DevStack to allow for using the\nOSapackaged version of OVN instead of compiling it from source.\n\nA new variable called OVN_BUILD_FROM_SOURCE has been introduced and when\nset to False (the default value) OVN will then use the packaged version\nfor setting up DevStack.\n\nChange-Id: Ib41e3b486550200572afd6b3ba783d7644d70d44\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 6, 'created': '2020-11-25 10:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0d6209b6bec2df8f02090289caaa9834730cf559', 'message': '[OVN] Use OVN from packages\n\nThis patch changes the OVN module from DevStack to allow for using the\nOSapackaged version of OVN instead of compiling it from source.\n\nA new variable called OVN_BUILD_FROM_SOURCE has been introduced and when\nset to False (the default value) OVN will then use the packaged version\nfor setting up DevStack.\n\nChange-Id: Ib41e3b486550200572afd6b3ba783d7644d70d44\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 7, 'created': '2020-11-25 10:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a3332f7662fc73d0f92be26bd4cdfc35874083d9', 'message': '[OVN] Use OVN from packages\n\nThis patch changes the OVN module from DevStack to allow for using the\nOSapackaged version of OVN instead of compiling it from source.\n\nA new variable called OVN_BUILD_FROM_SOURCE has been introduced and when\nset to False (the default value) OVN will then use the packaged version\nfor setting up DevStack.\n\nChange-Id: Ib41e3b486550200572afd6b3ba783d7644d70d44\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 8, 'created': '2020-11-25 13:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/26602ccf4ac1e0ae237b10f29d8315b6365e8290', 'message': '[OVN] Use OVN from packages\n\nThis patch changes the OVN module from DevStack to allow for using the\nOSapackaged version of OVN instead of compiling it from source.\n\nA new variable called OVN_BUILD_FROM_SOURCE has been introduced and when\nset to False (the default value) OVN will then use the packaged version\nfor setting up DevStack.\n\nChange-Id: Ib41e3b486550200572afd6b3ba783d7644d70d44\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 9, 'created': '2020-11-26 11:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1f517586e1495d32d4b0730446a189f3ec88cfea', 'message': '[OVN] Use OVN from packages\n\nThis patch changes the OVN module from DevStack to allow for using the\nOSapackaged version of OVN instead of compiling it from source.\n\nA new variable called OVN_BUILD_FROM_SOURCE has been introduced and when\nset to False (the default value) OVN will then use the packaged version\nfor setting up DevStack.\n\nChange-Id: Ib41e3b486550200572afd6b3ba783d7644d70d44\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 10, 'created': '2020-11-30 09:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7eb96f9e9d126462dcd42cd2fca0129f99ac6d33', 'message': '[OVN] Use OVN from packages\n\nThis patch changes the OVN module from DevStack to allow for using the\nOSapackaged version of OVN instead of compiling it from source.\n\nA new variable called OVN_BUILD_FROM_SOURCE has been introduced and when\nset to False (the default value) OVN will then use the packaged version\nfor setting up DevStack.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/764318\nChange-Id: Ib41e3b486550200572afd6b3ba783d7644d70d44\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 11, 'created': '2020-12-03 16:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/32a0d17f1b9feebedb512e713965a91c9ecaee6e', 'message': ""[OVN] Use OVN from packages\n\nThis patch changes the OVN module from DevStack to allow for using the\nOSapackaged version of OVN instead of compiling it from source.\n\nA new variable called OVN_BUILD_FROM_SOURCE has been introduced and when\nset to False (the default value) OVN will then use the packaged version\nfor setting up DevStack.\n\nNote, in the stop_ovn() function, the OVN metadata agent service name\nwas wrong and the service wasn't being stopped as part of ./unstack.sh.\nThis patch also fixed it as well.\n\nChange-Id: Ib41e3b486550200572afd6b3ba783d7644d70d44\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 12, 'created': '2020-12-07 13:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/39d5cb86335fb7849446a80b811e3cff34b3744d', 'message': ""[OVN] Use OVN from packages\n\nThis patch changes the OVN module from DevStack to allow for using the\nOSapackaged version of OVN instead of compiling it from source.\n\nA new variable called OVN_BUILD_FROM_SOURCE has been introduced and when\nset to False (the default value) OVN will then use the packaged version\nfor setting up DevStack.\n\nNote, in the stop_ovn() function, the OVN metadata agent service name\nwas wrong and the service wasn't being stopped as part of ./unstack.sh.\nThis patch also fixed it as well.\n\nChange-Id: Ib41e3b486550200572afd6b3ba783d7644d70d44\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 13, 'created': '2020-12-07 14:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/42e37ad6682301f2cddacf429c82f47937be5df5', 'message': ""[OVN] Use OVN from packages\n\nThis patch changes the OVN module from DevStack to allow for using the\nOSapackaged version of OVN instead of compiling it from source.\n\nA new variable called OVN_BUILD_FROM_SOURCE has been introduced and when\nset to False (the default value) OVN will then use the packaged version\nfor setting up DevStack.\n\nNote, in the stop_ovn() function, the OVN metadata agent service name\nwas wrong and the service wasn't being stopped as part of ./unstack.sh.\nThis patch also fixed it as well.\n\nChange-Id: Ib41e3b486550200572afd6b3ba783d7644d70d44\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 14, 'created': '2020-12-09 15:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/2bc7c74599b1301442d8a97a57fc20338a245380', 'message': ""[OVN] Use OVN from packages\n\nThis patch changes the OVN module from DevStack to allow for using the\nOSapackaged version of OVN instead of compiling it from source.\n\nA new variable called OVN_BUILD_FROM_SOURCE has been introduced and when\nset to False (the default value) OVN will then use the packaged version\nfor setting up DevStack.\n\nNote, in the stop_ovn() function, the OVN metadata agent service name\nwas wrong and the service wasn't being stopped as part of ./unstack.sh.\nThis patch also fixed it as well.\n\nChange-Id: Ib41e3b486550200572afd6b3ba783d7644d70d44\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 15, 'created': '2020-12-17 16:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d03ae03b7ca77a9e8fde75cf41caee78e4c7043e', 'message': ""[OVN] Use OVN from packages\n\nThis patch changes the OVN module from DevStack to allow for using the\nOSapackaged version of OVN instead of compiling it from source.\n\nA new variable called OVN_BUILD_FROM_SOURCE has been introduced and when\nset to False (the default value) OVN will then use the packaged version\nfor setting up DevStack.\n\nNote, in the stop_ovn() function, the OVN metadata agent service name\nwas wrong and the service wasn't being stopped as part of ./unstack.sh.\nThis patch also fixed it as well.\n\nChange-Id: Ib41e3b486550200572afd6b3ba783d7644d70d44\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n""}, {'number': 16, 'created': '2020-12-19 17:50:52.000000000', 'files': ['lib/neutron_plugins/ovn_agent', 'tools/fixup_stuff.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e651d9ef8840bb7dd497b557125ce1cd5290993d', 'message': ""[OVN] Use OVN from packages\n\nThis patch changes the OVN module from DevStack to allow for using the\nOSapackaged version of OVN instead of compiling it from source.\n\nA new variable called OVN_BUILD_FROM_SOURCE has been introduced and when\nset to False (the default value) OVN will then use the packaged version\nfor setting up DevStack.\n\nNote, in the stop_ovn() function, the OVN metadata agent service name\nwas wrong and the service wasn't being stopped as part of ./unstack.sh.\nThis patch also fixed it as well.\n\nChange-Id: Ib41e3b486550200572afd6b3ba783d7644d70d44\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Slawek Kaplonski <skaplons@redhat.com>\n""}]",22,763402,e651d9ef8840bb7dd497b557125ce1cd5290993d,72,7,16,6773,,,0,"[OVN] Use OVN from packages

This patch changes the OVN module from DevStack to allow for using the
OSapackaged version of OVN instead of compiling it from source.

A new variable called OVN_BUILD_FROM_SOURCE has been introduced and when
set to False (the default value) OVN will then use the packaged version
for setting up DevStack.

Note, in the stop_ovn() function, the OVN metadata agent service name
was wrong and the service wasn't being stopped as part of ./unstack.sh.
This patch also fixed it as well.

Change-Id: Ib41e3b486550200572afd6b3ba783d7644d70d44
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Co-Authored-By: Slawek Kaplonski <skaplons@redhat.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/02/763402/15 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/ovn_agent'],1,d51fd8913e096e1a1d331547c3d7ec038de8d090,ovn-packages,"OVN_BUILD_FROM_SOURCE=$(trueorfalse False OVN_BUILD_FROM_SOURCE)OVS_PREFIX= if [[ ""$OVN_BUILD_FROM_SOURCE"" == ""True"" ]]; then OVS_PREFIX=/usr/local fi sudo mkdir -p $OVS_RUNDIR sudo chown $(whoami) $OVS_RUNDIR # NOTE(lucasagomes): To keep things simpler, let's reuse the same # RUNDIR for both OVS and OVN. This way we avoid having to specify the # --db option in the ovn-{n,s}bctl commands while playing with DevStack sudo ln -s $OVS_RUNDIR $OVN_RUNDIR if [[ ""$OVN_BUILD_FROM_SOURCE"" == ""True"" ]]; then # If OVS is already installed, remove it, because we're about to # re-install it from source. for package in openvswitch openvswitch-switch openvswitch-common; do if is_package_installed $package ; then uninstall_package $package fi done remove_ovs_packages sudo rm -f $OVS_RUNDIR/* compile_ovs $OVN_BUILD_MODULES if use_new_ovn_repository; then compile_ovn $OVN_BUILD_MODULES fi else install_package $(get_packages openvswitch) install_package $(get_packages ovn) sudo chown $(whoami) $OVS_RUNDIR/*.sock || true if [[ ""$OVN_BUILD_FROM_SOURCE"" == ""True"" ]]; then if [ ! -f $OVS_DATADIR/conf.db ]; then ovsdb-tool create $OVS_DATADIR/conf.db $OVS_SHAREDIR/vswitch.ovsschema if is_service_enabled ovn-controller-vtep; then if [ ! -f $OVS_DATADIR/vtep.db ]; then ovsdb-tool create $OVS_DATADIR/vtep.db $OVS_SHAREDIR/vtep.ovsschema fi fi local dbcmd=""$OVS_SBINDIR/ovsdb-server --remote=punix:$OVS_RUNDIR/db.sock --remote=ptcp:6640:$OVSDB_SERVER_LOCAL_HOST --pidfile --detach --log-file"" dbcmd+="" --remote=db:Open_vSwitch,Open_vSwitch,manager_options"" if is_service_enabled ovn-controller-vtep; then dbcmd+="" --remote=db:hardware_vtep,Global,managers $OVS_DATADIR/vtep.db"" fi dbcmd+="" $OVS_DATADIR/conf.db"" _run_process ovsdb-server ""$dbcmd"" ovs-vsctl --no-wait set open_vswitch . external-ids:hostname=""$LOCAL_HOSTNAME"" if [[ ""$OVN_BUILD_FROM_SOURCE"" == ""True"" ]]; then # Note: ovn-controller will create and configure br-int once it is started. # So, no need to create it now because nothing depends on that bridge here. local ovscmd=""$OVS_SBINDIR/ovs-vswitchd --log-file --pidfile --detach"" _run_process ovs-vswitchd ""$ovscmd"" """" ""$STACK_GROUP"" ""root"" fi if [[ ""$OVN_BUILD_FROM_SOURCE"" == ""True"" ]]; then _start_process ""devstack@ovsdb-server.service"" _start_process ""devstack@ovs-vswitchd.service"" if is_service_enabled ovn-northd ; then _start_process ""devstack@ovn-northd.service"" fi if is_service_enabled ovn-controller ; then _start_process ""devstack@ovn-controller.service"" fi if is_service_enabled ovn-controller-vtep ; then _start_process ""devstack@ovn-controller-vtep.service"" fi fi if [[ ""$OVN_BUILD_FROM_SOURCE"" == ""True"" ]]; then if is_service_enabled tls-proxy; then local tls_args=""\ --ovn-nb-db-ssl-ca-cert=$INT_CA_DIR/ca-chain.pem \ --ovn-nb-db-ssl-cert=$INT_CA_DIR/$DEVSTACK_CERT_NAME.crt \ --ovn-nb-db-ssl-key=$INT_CA_DIR/private/$DEVSTACK_CERT_NAME.key \ --ovn-sb-db-ssl-ca-cert=$INT_CA_DIR/ca-chain.pem \ --ovn-sb-db-ssl-cert=$INT_CA_DIR/$DEVSTACK_CERT_NAME.crt \ --ovn-sb-db-ssl-key=$INT_CA_DIR/private/$DEVSTACK_CERT_NAME.key \ "" else local tls_args="""" fi local cmd=""/bin/bash $SCRIPTDIR/ovn-ctl --no-monitor $tls_args start_northd"" local stop_cmd=""/bin/bash $SCRIPTDIR/ovn-ctl stop_northd"" _run_process ovn-northd ""$cmd"" ""$stop_cmd"" fi if [[ ""$OVN_BUILD_FROM_SOURCE"" == ""True"" ]]; then if is_service_enabled ovn-controller ; then local cmd=""/bin/bash $SCRIPTDIR/ovn-ctl --no-monitor start_controller"" local stop_cmd=""/bin/bash $SCRIPTDIR/ovn-ctl stop_controller"" _run_process ovn-controller ""$cmd"" ""$stop_cmd"" ""$STACK_GROUP"" ""root"" fi if is_service_enabled ovn-controller-vtep ; then local cmd=""$OVS_BINDIR/ovn-controller-vtep --log-file --pidfile --detach --ovnsb-db=$OVN_SB_REMOTE"" _run_process ovn-controller-vtep ""$cmd"" """" ""$STACK_GROUP"" ""root"" fi","OVS_PREFIX=/usr/local # If OVS is already installed, remove it, because we're about to re-install # it from source. for package in openvswitch openvswitch-switch openvswitch-common; do if is_package_installed $package ; then uninstall_package $package fi done remove_ovs_packages sudo rm -f $OVS_RUNDIR/* compile_ovs $OVN_BUILD_MODULES if use_new_ovn_repository; then compile_ovn $OVN_BUILD_MODULES sudo mkdir -p $OVS_RUNDIR sudo chown $(whoami) $OVS_RUNDIR if [ ! -f $OVS_DATADIR/conf.db ]; then ovsdb-tool create $OVS_DATADIR/conf.db $OVS_SHAREDIR/vswitch.ovsschema fi if is_service_enabled ovn-controller-vtep; then if [ ! -f $OVS_DATADIR/vtep.db ]; then ovsdb-tool create $OVS_DATADIR/vtep.db $OVS_SHAREDIR/vtep.ovsschema fi local dbcmd=""$OVS_SBINDIR/ovsdb-server --remote=punix:$OVS_RUNDIR/db.sock --remote=ptcp:6640:$OVSDB_SERVER_LOCAL_HOST --pidfile --detach --log-file"" dbcmd+="" --remote=db:Open_vSwitch,Open_vSwitch,manager_options"" if is_service_enabled ovn-controller-vtep; then dbcmd+="" --remote=db:hardware_vtep,Global,managers $OVS_DATADIR/vtep.db"" dbcmd+="" $OVS_DATADIR/conf.db"" _run_process ovsdb-server ""$dbcmd"" # Note: ovn-controller will create and configure br-int once it is started. # So, no need to create it now because nothing depends on that bridge here. local ovscmd=""$OVS_SBINDIR/ovs-vswitchd --log-file --pidfile --detach"" _run_process ovs-vswitchd ""$ovscmd"" """" ""$STACK_GROUP"" ""root"" _start_process ""devstack@ovsdb-server.service"" _start_process ""devstack@ovs-vswitchd.service"" if is_service_enabled ovn-northd ; then _start_process ""devstack@ovn-northd.service"" fi if is_service_enabled ovn-controller ; then _start_process ""devstack@ovn-controller.service"" fi if is_service_enabled ovn-controller-vtep ; then _start_process ""devstack@ovn-controller-vtep.service"" fi if is_service_enabled tls-proxy; then local tls_args=""\ --ovn-nb-db-ssl-ca-cert=$INT_CA_DIR/ca-chain.pem \ --ovn-nb-db-ssl-cert=$INT_CA_DIR/$DEVSTACK_CERT_NAME.crt \ --ovn-nb-db-ssl-key=$INT_CA_DIR/private/$DEVSTACK_CERT_NAME.key \ --ovn-sb-db-ssl-ca-cert=$INT_CA_DIR/ca-chain.pem \ --ovn-sb-db-ssl-cert=$INT_CA_DIR/$DEVSTACK_CERT_NAME.crt \ --ovn-sb-db-ssl-key=$INT_CA_DIR/private/$DEVSTACK_CERT_NAME.key \ "" else local tls_args="""" fi local cmd=""/bin/bash $SCRIPTDIR/ovn-ctl --no-monitor $tls_args start_northd"" local stop_cmd=""/bin/bash $SCRIPTDIR/ovn-ctl stop_northd"" _run_process ovn-northd ""$cmd"" ""$stop_cmd"" if is_service_enabled ovn-controller ; then local cmd=""/bin/bash $SCRIPTDIR/ovn-ctl --no-monitor start_controller"" local stop_cmd=""/bin/bash $SCRIPTDIR/ovn-ctl stop_controller"" _run_process ovn-controller ""$cmd"" ""$stop_cmd"" ""$STACK_GROUP"" ""root"" fi if is_service_enabled ovn-controller-vtep ; then local cmd=""$OVS_BINDIR/ovn-controller-vtep --log-file --pidfile --detach --ovnsb-db=$OVN_SB_REMOTE"" _run_process ovn-controller-vtep ""$cmd"" """" ""$STACK_GROUP"" ""root"" # NOTE(lucasagomes): To keep things simpler, let's reuse the same # RUNDIR for both OVS and OVN. This way we avoid having to specify the # --db option in the ovn-{n,s}bctl commands while playing with DevStack if use_new_ovn_repository; then sudo ln -s $OVS_RUNDIR $OVN_RUNDIR fi ",96,76
openstack%2Fnova~master~I8328b9c3d35b8aa931d902287fa7f5c795e3ad47,openstack/nova,master,I8328b9c3d35b8aa931d902287fa7f5c795e3ad47,WIP/DNM libvirt: Increase device detach wait times,ABANDONED,2020-09-03 20:54:22.000000000,2021-01-11 10:33:40.000000000,,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-09-03 20:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a79885c40f4375f68810eb126b2da1cad4e04aa0', 'message': 'WIP/DNM libvirt: Increase device detach wait times\n\nWe are seeing various Focal based jobs fail due to disks not detaching\nwithin the instance guestOS in time. This is a shot in the dark to see\nif increasing time between and the overall number of retries to detach a\ndevice helps reduce these failures given the small amount of resource\nafforded to each instance the overall test hosts.\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I8328b9c3d35b8aa931d902287fa7f5c795e3ad47\nRelated-Bug: #1882521\n'}, {'number': 2, 'created': '2020-09-04 12:06:35.000000000', 'files': ['nova/virt/libvirt/guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/100ace139a6bd9839669b67e68adb034ac150956', 'message': 'WIP/DNM libvirt: Increase device detach wait times\n\nWe are seeing various Focal based jobs fail due to disks not detaching\nwithin the instance guestOS in time. This is a shot in the dark to see\nif increasing time between and the overall number of retries to detach a\ndevice helps reduce these failures given the small amount of resource\nafforded to each instance the overall test hosts.\n\nDepends-On: https://review.opendev.org/#/c/734700/\nChange-Id: I8328b9c3d35b8aa931d902287fa7f5c795e3ad47\nRelated-Bug: #1882521\n'}]",0,749827,100ace139a6bd9839669b67e68adb034ac150956,12,5,2,10135,,,0,"WIP/DNM libvirt: Increase device detach wait times

We are seeing various Focal based jobs fail due to disks not detaching
within the instance guestOS in time. This is a shot in the dark to see
if increasing time between and the overall number of retries to detach a
device helps reduce these failures given the small amount of resource
afforded to each instance the overall test hosts.

Depends-On: https://review.opendev.org/#/c/734700/
Change-Id: I8328b9c3d35b8aa931d902287fa7f5c795e3ad47
Related-Bug: #1882521
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/749827/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/guest.py'],1,a79885c40f4375f68810eb126b2da1cad4e04aa0,," max_retry_count=10, inc_sleep_time=3,"," max_retry_count=7, inc_sleep_time=2,",1,1
openstack%2Fopenstack-ansible-os_nova~master~I6eab9ed6670d0dca149296a81c42ded02db8de6a,openstack/openstack-ansible-os_nova,master,I6eab9ed6670d0dca149296a81c42ded02db8de6a,Use global service variables,MERGED,2021-01-08 16:00:50.000000000,2021-01-11 10:31:05.000000000,2021-01-11 10:28:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-08 16:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/00f0fda9e8897313a6364cbc6e966e9a5aaff00a', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: I6eab9ed6670d0dca149296a81c42ded02db8de6a\n'}, {'number': 2, 'created': '2021-01-08 17:31:10.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/cf19947b53d5c5224a9829588b1080dbb76f5593', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: I6eab9ed6670d0dca149296a81c42ded02db8de6a\n'}]",0,769951,cf19947b53d5c5224a9829588b1080dbb76f5593,9,3,2,28619,,,0,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: I6eab9ed6670d0dca149296a81c42ded02db8de6a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/51/769951/2 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,00f0fda9e8897313a6364cbc6e966e9a5aaff00a,osa/service_variables,"nova_barbican_enabled: ""{{ (groups['barbican_all'] is defined) and (groups['barbican_all'] | length > 0) }}""nova_designate_enabled: ""{{ (groups['designate_all'] is defined) and (groups['designate_all'] | length > 0) }}""nova_ceilometer_enabled: ""{{ (groups['ceilometer_all'] is defined) and (groups['ceilometer_all'] | length > 0) }}""# Set the package install state for distribution packagesnova_package_state: ""{{ package_state | default('latest') }}""nova_install_method: ""{{ service_install_method | default('source') }}""nova_galera_port: ""{{ galera_port | default('3306') }}""nova_service_region: ""{{ service_region | default('RegionOne') }}""nova_console_agent_enabled: ""{{ ansible_architecture != 'aarch64' }}""nova_external_ssl: ""{{ openstack_external_ssl | default(False) }}""nova_service_in_ldap: ""{{ service_ldap_backend_enabled | default(False) }}""","nova_barbican_enabled: Falsenova_designate_enabled: Falsenova_ceilometer_enabled: False# Set the package install state for distribution and pip packagesnova_package_state: ""latest"" nova_pip_package_state: ""latest""nova_install_method: ""source""nova_galera_port: 3306nova_service_region: RegionOnenova_console_agent_enabled: Truenova_external_ssl: falsenova_service_in_ldap: false",11,12
openstack%2Fopenstack-ansible-os_gnocchi~master~I022d52c39c706fd9f82b9efcdcdc589a2e971d24,openstack/openstack-ansible-os_gnocchi,master,I022d52c39c706fd9f82b9efcdcdc589a2e971d24,Use global service variables,MERGED,2021-01-08 14:47:02.000000000,2021-01-11 10:28:55.000000000,2021-01-11 10:26:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-08 14:47:02.000000000', 'files': ['tasks/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/cfa854fd067685d28ef51adc5a2c57514b9f354f', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: I022d52c39c706fd9f82b9efcdcdc589a2e971d24\n'}]",0,769932,cfa854fd067685d28ef51adc5a2c57514b9f354f,10,3,1,28619,,,0,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: I022d52c39c706fd9f82b9efcdcdc589a2e971d24
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/32/769932/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'defaults/main.yml']",2,cfa854fd067685d28ef51adc5a2c57514b9f354f,osa/service_variables,"# Set the package install state for distribution packagesgnocchi_package_state: ""{{ package_state | default('latest') }}""gnocchi_auth_mode: ""keystone""gnocchi_ssl_external: ""{{ openstack_external_ssl | default(True) }}""gnocchi_galera_port: ""{{ galera_port | default('3306') }}""gnocchi_service_region: ""{{ service_region | default('RegionOne') }}""gnocchi_service_in_ldap: ""{{ service_ldap_backend_enabled | default(False) }}"" ","# Set the package install state for distribution and pip packagesgnocchi_package_state: ""latest"" gnocchi_pip_package_state: ""latest""# TODO: (andymccr) Remove the gnocchi_keystone_auth var in Queen cycle. gnocchi_keystone_auth: no gnocchi_auth_mode: ""{{ (gnocchi_keystone_auth | bool) | ternary('keystone', 'basic') }}""gnocchi_ssl_external: truegnocchi_galera_port: 3306gnocchi_service_region: RegionOne",9,9
openstack%2Fopenstack-ansible-os_mistral~master~I0b0fdd8f811af07f112d717879a77d05a36403ed,openstack/openstack-ansible-os_mistral,master,I0b0fdd8f811af07f112d717879a77d05a36403ed,Use global service variables,MERGED,2021-01-08 15:41:24.000000000,2021-01-11 10:19:18.000000000,2021-01-11 10:17:25.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-08 15:41:24.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/81fad9bd3dc1c1290ad243f532a069bc82486815', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: I0b0fdd8f811af07f112d717879a77d05a36403ed\n'}]",0,769946,81fad9bd3dc1c1290ad243f532a069bc82486815,8,3,1,28619,,,0,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: I0b0fdd8f811af07f112d717879a77d05a36403ed
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/46/769946/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,81fad9bd3dc1c1290ad243f532a069bc82486815,osa/service_variables,"mistral_install_method: ""{{ service_install_method | default('source') }}""mistral_package_state: ""{{ package_state | default('latest') }}""mistral_galera_port: ""{{ galera_port | default('3306') }}""mistral_service_in_ldap: ""{{ service_ldap_backend_enabled | default(False) }}""mistral_service_region: ""{{ service_region | default('RegionOne') }}""","mistral_install_method: ""source""mistral_package_state: latestmistral_galera_port: 3306mistral_service_in_ldap: falsemistral_service_region: RegionOne",5,5
openstack%2Fopenstack-ansible-os_designate~master~If3627990a028b4c28c85609f5bf1341b836b0ccd,openstack/openstack-ansible-os_designate,master,If3627990a028b4c28c85609f5bf1341b836b0ccd,Use global service variables,MERGED,2021-01-08 14:19:59.000000000,2021-01-11 10:12:03.000000000,2021-01-11 10:10:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-08 14:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/d9ebe66f2a2edba54735ca063ff8508c54b1d4d4', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: If3627990a028b4c28c85609f5bf1341b836b0ccd\n'}, {'number': 2, 'created': '2021-01-08 14:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/8cbac485ad00585b3fd495bf09599e851e5c578f', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: If3627990a028b4c28c85609f5bf1341b836b0ccd\n'}, {'number': 3, 'created': '2021-01-08 14:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/ebcfedd141bd7b76c34a294fc066584afc16d5a9', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: If3627990a028b4c28c85609f5bf1341b836b0ccd\n'}, {'number': 4, 'created': '2021-01-08 14:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/2e170f24c68b2b728568a30ee8d89c76be00cefb', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: If3627990a028b4c28c85609f5bf1341b836b0ccd\n'}, {'number': 5, 'created': '2021-01-08 14:26:41.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/a5d177dfc99976fb9f99916eaf15b61ccb6b09c5', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: If3627990a028b4c28c85609f5bf1341b836b0ccd\n'}]",0,769925,a5d177dfc99976fb9f99916eaf15b61ccb6b09c5,12,3,5,28619,,,0,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: If3627990a028b4c28c85609f5bf1341b836b0ccd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/25/769925/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,d9ebe66f2a2edba54735ca063ff8508c54b1d4d4,osa/service_variables,"designate_ceilometer_enabled: ""{{ (groups['designate_all'] is defined) and (groups['designate_all'] | length > 0) and (groups['ceilometer_all'] is defined) and (groups['ceilometer_all'] | length > 0) }}""designate_package_state: ""{{ package_state }}""designate_galera_port: ""{{ galera_port | default('3306') }}""designate_service_region: ""{{ service_region | default('RegionOne') }}""designate_service_in_ldap: ""{{ service_ldap_backend_enabled | default(False) }}""","designate_ceilometer_enabled: Falsedesignate_package_state: ""latest"" designate_pip_package_state: ""latest""designate_galera_port: 3306designate_service_region: RegionOnedesignate_service_in_ldap: False",5,6
openstack%2Fopenstack-ansible-os_swift~master~Ia08e7c0c1a7398c6edac32dc04cb90e50b502059,openstack/openstack-ansible-os_swift,master,Ia08e7c0c1a7398c6edac32dc04cb90e50b502059,Use global service variables,MERGED,2021-01-08 16:55:12.000000000,2021-01-11 10:11:04.000000000,2021-01-11 10:09:39.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-08 16:55:12.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/d3f80f734a3ba69da019a9adf853cd541dc8fd84', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: Ia08e7c0c1a7398c6edac32dc04cb90e50b502059\n'}]",0,769959,d3f80f734a3ba69da019a9adf853cd541dc8fd84,8,3,1,28619,,,0,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: Ia08e7c0c1a7398c6edac32dc04cb90e50b502059
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/59/769959/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,d3f80f734a3ba69da019a9adf853cd541dc8fd84,osa/service_variables,"swift_ceilometer_enabled: ""{{ (groups['ceilometer_all'] is defined) and (groups['ceilometer_all'] | length > 0) }}"" swift_gnocchi_enabled: ""{{ (groups['gnocchi_all'] is defined) and (groups['gnocchi_all'] | length > 0) }}""# Set the package install state for distribution packagesswift_package_state: ""{{ package_state | default('latest') }}""swift_install_method: ""{{ service_install_method | default('source') }}""swift_service_region: ""{{ service_region | default('RegionOne') }}""swift_service_in_ldap: ""{{ service_ldap_backend_enabled | default(False) }}""","swift_ceilometer_enabled: False swift_gnocchi_enabled: False# Set the package install state for distribution and pip packagesswift_package_state: ""latest"" swift_pip_package_state: ""latest""swift_install_method: ""source""swift_service_region: RegionOneswift_service_in_ldap: false",7,8
openstack%2Fopenstack-ansible-os_neutron~master~I3b3e400e82e324560a6f75c8f5b9a1bcd67d3ecd,openstack/openstack-ansible-os_neutron,master,I3b3e400e82e324560a6f75c8f5b9a1bcd67d3ecd,Use global service variables,MERGED,2021-01-08 15:44:24.000000000,2021-01-11 10:07:18.000000000,2021-01-11 10:05:55.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-08 15:44:24.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/7ee805049eba68b026eeb46ce64477e831e4907a', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: I3b3e400e82e324560a6f75c8f5b9a1bcd67d3ecd\n'}]",0,769947,7ee805049eba68b026eeb46ce64477e831e4907a,8,3,1,28619,,,0,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: I3b3e400e82e324560a6f75c8f5b9a1bcd67d3ecd
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/47/769947/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,7ee805049eba68b026eeb46ce64477e831e4907a,osa/service_variables,"neutron_package_state: ""{{ package_state | default('latest') }}""neutron_install_method: ""{{ service_install_method | default('source') }}""neutron_galera_port: ""{{ galera_port | default('3306') }}""neutron_service_region: ""{{ service_region | default('RegionOne') }}""neutron_service_in_ldap: ""{{ service_ldap_backend_enabled | default(False) }}""neutron_ceilometer_enabled: ""{{ (groups['ceilometer_all'] is defined) and (groups['ceilometer_all'] | length > 0) }}""neutron_designate_enabled: ""{{ (groups['designate_all'] is defined) and (groups['designate_all'] | length > 0) }}""","neutron_package_state: ""latest""neutron_install_method: ""source""neutron_galera_port: 3306neutron_service_region: RegionOneneutron_service_in_ldap: falseneutron_ceilometer_enabled: Falseneutron_designate_enabled: False",7,7
openstack%2Fopenstack-ansible-os_panko~master~Ic2fd46eacfd67ec89f369068194494edd964a5d1,openstack/openstack-ansible-os_panko,master,Ic2fd46eacfd67ec89f369068194494edd964a5d1,Use global service variables,MERGED,2021-01-08 16:15:48.000000000,2021-01-11 10:02:27.000000000,2021-01-11 10:01:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-08 16:15:48.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/e1650e289e38352d245501d5d2891ffbae6f4644', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: Ic2fd46eacfd67ec89f369068194494edd964a5d1\n'}]",0,769955,e1650e289e38352d245501d5d2891ffbae6f4644,8,3,1,28619,,,0,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: Ic2fd46eacfd67ec89f369068194494edd964a5d1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/55/769955/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,e1650e289e38352d245501d5d2891ffbae6f4644,osa/service_variables,"# Set the package install state for distribution packagespanko_package_state: ""{{ package_state | default('latest') }}""panko_galera_port: ""{{ galera_port | default('3306') }}""panko_service_region: ""{{ service_region | default('RegionOne') }}""panko_service_in_ldap: ""{{ service_ldap_backend_enabled | default(False) }}""","# Set the package install state for distribution and pip packagespanko_package_state: ""latest"" panko_pip_package_state: ""latest""panko_galera_port: 3306panko_service_region: RegionOnepanko_service_in_ldap: false",5,6
openstack%2Fopenstack-ansible-os_trove~master~Ic2fa270a3582db3da01b3c449fbdd8c2d5045062,openstack/openstack-ansible-os_trove,master,Ic2fa270a3582db3da01b3c449fbdd8c2d5045062,Use global service variables,MERGED,2021-01-08 17:02:23.000000000,2021-01-11 09:57:49.000000000,2021-01-11 09:56:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-08 17:02:23.000000000', 'files': ['tasks/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/0629e28768b14ca976cceb4320add64d76420384', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: Ic2fa270a3582db3da01b3c449fbdd8c2d5045062\n'}]",0,769964,0629e28768b14ca976cceb4320add64d76420384,8,3,1,28619,,,0,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: Ic2fa270a3582db3da01b3c449fbdd8c2d5045062
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/64/769964/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'defaults/main.yml']",2,0629e28768b14ca976cceb4320add64d76420384,osa/service_variables,"trove_package_state: ""{{ package_state | default('latest') }}""trove_service_region: ""{{ service_region | default('RegionOne') }}""trove_service_in_ldap: ""{{ service_ldap_backend_enabled | default(False) }}"" trove_ceilometer_enabled: ""{{ (groups['ceilometer_all'] is defined) and (groups['ceilometer_all'] | length > 0) }}""trove_galera_port: ""{{ galera_port | default('3306') }}""","trove_package_state: ""latest"" trove_pip_package_state: ""latest""trove_service_region: RegionOnetrove_ceilometer_enabled: Falsetrove_galera_port: 3306",7,5
openstack%2Fcharm-manila-generic~master~I30a159ae71ce006397a4ce8acdf300c7e9831a82,openstack/charm-manila-generic,master,I30a159ae71ce006397a4ce8acdf300c7e9831a82,Add Groovy to the test gate,MERGED,2020-11-05 11:49:22.000000000,2021-01-11 09:23:46.000000000,2021-01-11 09:23:46.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-05 11:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/c4145dca09e96255f1f4e6b91134650c3d7a578e', 'message': 'Add Groovy to the test gate\n\nChange-Id: I30a159ae71ce006397a4ce8acdf300c7e9831a82\n'}, {'number': 2, 'created': '2021-01-09 21:13:30.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/f4538e65a2fa0ecf5264e75ea646ededf249e884', 'message': 'Add Groovy to the test gate\n\nChange-Id: I30a159ae71ce006397a4ce8acdf300c7e9831a82\n'}]",1,761567,f4538e65a2fa0ecf5264e75ea646ededf249e884,18,3,2,31289,,,0,"Add Groovy to the test gate

Change-Id: I30a159ae71ce006397a4ce8acdf300c7e9831a82
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/67/761567/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,c4145dca09e96255f1f4e6b91134650c3d7a578e,groovy-charm-gate, - groovy-victoria,dev_bundles: - groovy-victoria,1,2
openstack%2Fcharm-octavia-dashboard~master~I5cb8dcfaab8e344f5a08ea786e0fdca07affe89c,openstack/charm-octavia-dashboard,master,I5cb8dcfaab8e344f5a08ea786e0fdca07affe89c,Add Groovy to the test gate,MERGED,2020-11-05 11:52:32.000000000,2021-01-11 09:23:42.000000000,2021-01-11 09:23:42.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-05 11:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/8d45641084307019bdba76e53b2db86442bfa1d0', 'message': 'Add Groovy to the test gate\n\nChange-Id: I5cb8dcfaab8e344f5a08ea786e0fdca07affe89c\n'}, {'number': 2, 'created': '2021-01-09 12:14:19.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-dashboard/commit/565297aa0cbb042e475ab076da220761eab60fcd', 'message': 'Add Groovy to the test gate\n\nChange-Id: I5cb8dcfaab8e344f5a08ea786e0fdca07affe89c\n'}]",1,761580,565297aa0cbb042e475ab076da220761eab60fcd,12,3,2,31289,,,0,"Add Groovy to the test gate

Change-Id: I5cb8dcfaab8e344f5a08ea786e0fdca07affe89c
",git fetch https://review.opendev.org/openstack/charm-octavia-dashboard refs/changes/80/761580/2 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,8d45641084307019bdba76e53b2db86442bfa1d0,groovy-charm-gate,- groovy-victoria,- groovy-victoria,1,1
openstack%2Fcharm-octavia-diskimage-retrofit~master~Ib4088df79158b8ce10377b496f2cb11b46bdacfd,openstack/charm-octavia-diskimage-retrofit,master,Ib4088df79158b8ce10377b496f2cb11b46bdacfd,Add Groovy to the test gate,MERGED,2020-11-05 11:52:46.000000000,2021-01-11 09:23:18.000000000,2021-01-11 09:23:18.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-05 11:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/e95967fb8755fc21a2f34d34d626f92ad69a8aa2', 'message': 'Add Groovy to the test gate\n\nChange-Id: Ib4088df79158b8ce10377b496f2cb11b46bdacfd\n'}, {'number': 2, 'created': '2021-01-09 21:12:51.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/e0189a024707491dc6dd60909e4d5d385548a685', 'message': 'Add Groovy to the test gate\n\nChange-Id: Ib4088df79158b8ce10377b496f2cb11b46bdacfd\n'}]",0,761581,e0189a024707491dc6dd60909e4d5d385548a685,12,3,2,31289,,,0,"Add Groovy to the test gate

Change-Id: Ib4088df79158b8ce10377b496f2cb11b46bdacfd
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/81/761581/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,e95967fb8755fc21a2f34d34d626f92ad69a8aa2,groovy-charm-gate,- groovy-victoria,- groovy-victoria,1,1
openstack%2Fcharm-designate~master~I844125fa63bd43f03faa232ac56981a6d82bf6f1,openstack/charm-designate,master,I844125fa63bd43f03faa232ac56981a6d82bf6f1,Add Groovy to the test gate,MERGED,2020-11-05 11:46:13.000000000,2021-01-11 09:22:38.000000000,2021-01-11 09:22:38.000000000,"[{'_account_id': 19298}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-05 11:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/f60e33181bfd1d935dc1917902b94f4d0bee35f6', 'message': 'Add Groovy to the test gate\n\nChange-Id: I844125fa63bd43f03faa232ac56981a6d82bf6f1\n'}, {'number': 2, 'created': '2021-01-10 16:29:18.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/ed2ed60e0846715a9f59b0189593290ef3c65827', 'message': 'Add Groovy to the test gate\n\nChange-Id: I844125fa63bd43f03faa232ac56981a6d82bf6f1\n'}]",0,761554,ed2ed60e0846715a9f59b0189593290ef3c65827,21,4,2,31289,,,0,"Add Groovy to the test gate

Change-Id: I844125fa63bd43f03faa232ac56981a6d82bf6f1
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/54/761554/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,f60e33181bfd1d935dc1917902b94f4d0bee35f6,groovy-charm-gate,, dev_bundles:,0,2
openstack%2Fpuppet-barbican~stable%2Fvictoria~I3323204aed1217cc2b0dff9d2955519a6035f7e9,openstack/puppet-barbican,stable/victoria,I3323204aed1217cc2b0dff9d2955519a6035f7e9,Fix ignored unit tests,MERGED,2021-01-05 23:08:09.000000000,2021-01-11 08:56:36.000000000,2021-01-11 08:56:36.000000000,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-05 23:08:09.000000000', 'files': ['spec/unit/provider/barbican_config/openstackconfig_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/e124b1c89b71ca486bfd378ab080d9c26022982c', 'message': 'Fix ignored unit tests\n\nUnit test files should be named like *_spec.rb.\n\nChange-Id: I3323204aed1217cc2b0dff9d2955519a6035f7e9\n(cherry picked from commit 78b23dbf5d693f18fc72a369586eef3280adc44a)\n'}]",0,769366,e124b1c89b71ca486bfd378ab080d9c26022982c,6,2,1,9816,,,0,"Fix ignored unit tests

Unit test files should be named like *_spec.rb.

Change-Id: I3323204aed1217cc2b0dff9d2955519a6035f7e9
(cherry picked from commit 78b23dbf5d693f18fc72a369586eef3280adc44a)
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/66/769366/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/unit/provider/barbican_config/openstackconfig_spec.rb'],1,e124b1c89b71ca486bfd378ab080d9c26022982c,ignored-ut-stable/victoria,provider_class = Puppet::Type.type(:barbican_config).provider(:openstackconfig),provider_class = Puppet::Type.type(:barbican_config).provider(:ruby),1,1
openstack%2Fpuppet-manila~stable%2Fvictoria~I5b6c85b7d7a865a0f281a725f8df8b8f0e3d12e8,openstack/puppet-manila,stable/victoria,I5b6c85b7d7a865a0f281a725f8df8b8f0e3d12e8,Fix ignored unit tests for manila::volume::cinder,MERGED,2021-01-05 23:09:01.000000000,2021-01-11 08:56:28.000000000,2021-01-11 08:56:28.000000000,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-05 23:09:01.000000000', 'files': ['spec/classes/manila_volume_cinder_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/ba0babc70be998de7141d0cd9de84fc84767af26', 'message': 'Fix ignored unit tests for manila::volume::cinder\n\nUnit test files should be named like *_spec.rb.\n\nChange-Id: I5b6c85b7d7a865a0f281a725f8df8b8f0e3d12e8\n(cherry picked from commit fea6aabfe2ef829d255e296f966141597eface1e)\n'}]",0,769368,ba0babc70be998de7141d0cd9de84fc84767af26,6,2,1,9816,,,0,"Fix ignored unit tests for manila::volume::cinder

Unit test files should be named like *_spec.rb.

Change-Id: I5b6c85b7d7a865a0f281a725f8df8b8f0e3d12e8
(cherry picked from commit fea6aabfe2ef829d255e296f966141597eface1e)
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/68/769368/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/manila_volume_cinder_spec.rb'],1,ba0babc70be998de7141d0cd9de84fc84767af26,ignored-ut-stable/victoria, shared_examples 'manila::volume::cinder' do it_behaves_like 'manila::volume::cinder', shared_examples 'manila::cinder' do it_behaves_like 'manila::cinder',2,2
openstack%2Fpuppet-designate~stable%2Fvictoria~I4a5f1011f21c25e22f3a087e25d5f2974ec29b7b,openstack/puppet-designate,stable/victoria,I4a5f1011f21c25e22f3a087e25d5f2974ec29b7b,Fix ignored unit tests,MERGED,2021-01-05 23:08:47.000000000,2021-01-11 08:51:37.000000000,2021-01-11 08:51:37.000000000,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-05 23:08:47.000000000', 'files': ['spec/unit/type/designate_api_paste_ini_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/7fe41957f0cc2729e3a57d7cc456354b3f8b9378', 'message': 'Fix ignored unit tests\n\nUnit test files should be named like *_spec.rb.\n\nChange-Id: I4a5f1011f21c25e22f3a087e25d5f2974ec29b7b\n(cherry picked from commit e1d8a9ce89fc9a91fd96801ce676abdb008b2d1b)\n'}]",0,769367,7fe41957f0cc2729e3a57d7cc456354b3f8b9378,6,2,1,9816,,,0,"Fix ignored unit tests

Unit test files should be named like *_spec.rb.

Change-Id: I4a5f1011f21c25e22f3a087e25d5f2974ec29b7b
(cherry picked from commit e1d8a9ce89fc9a91fd96801ce676abdb008b2d1b)
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/67/769367/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/unit/type/designate_api_paste_ini_spec.rb'],1,7fe41957f0cc2729e3a57d7cc456354b3f8b9378,ignored-ut-stable/victoria,,,0,0
openstack%2Fpuppet-ironic~master~Id31370dbc69361f6857e9c9825d7fe1c430954e0,openstack/puppet-ironic,master,Id31370dbc69361f6857e9c9825d7fe1c430954e0,Increase upper constraint of puppetlabs-xinetd,MERGED,2021-01-06 06:24:44.000000000,2021-01-11 08:47:07.000000000,2021-01-11 08:47:07.000000000,"[{'_account_id': 10239}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-06 06:24:44.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/eff29bb202aa4c019a10f0882e13cb1e77caec9e', 'message': 'Increase upper constraint of puppetlabs-xinetd\n\nThe highest version that fits current constraint is 1.5.0, which is > 5\nyears old[1]. Increase the version so that newer version can be\ninstalled.\n\nThe options used for xinetd::service are all present in the newest\nversion (v3.3.0) of xinetd, so this should be fine.\n\n[1]: https://forge.puppet.com/modules/puppetlabs/xinetd/1.5.0\n\nChange-Id: Id31370dbc69361f6857e9c9825d7fe1c430954e0\n'}]",0,769454,eff29bb202aa4c019a10f0882e13cb1e77caec9e,7,3,1,8064,,,0,"Increase upper constraint of puppetlabs-xinetd

The highest version that fits current constraint is 1.5.0, which is > 5
years old[1]. Increase the version so that newer version can be
installed.

The options used for xinetd::service are all present in the newest
version (v3.3.0) of xinetd, so this should be fine.

[1]: https://forge.puppet.com/modules/puppetlabs/xinetd/1.5.0

Change-Id: Id31370dbc69361f6857e9c9825d7fe1c430954e0
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/54/769454/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,eff29bb202aa4c019a10f0882e13cb1e77caec9e,," ""version_requirement"": "">=1.5.0 <=3.3.0"""," ""version_requirement"": "">=1.5.0 <2.0.0""",1,1
openstack%2Foctavia~master~I30e23ca13d033d77c8ebdabbfdc7b54556a9466b,openstack/octavia,master,I30e23ca13d033d77c8ebdabbfdc7b54556a9466b,Fix operating status for empty UDP pools,MERGED,2020-11-20 09:01:10.000000000,2021-01-11 08:08:31.000000000,2021-01-11 08:06:52.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-11-20 09:01:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/590aa114d92b64846e44fa1733dcd191c4639fc8', 'message': 'Fix operating status for empty UDP pools\n\nFix empty UDP pools status: a UDP pool without members went OFFLINE\ninstead of ONLINE.\n\nThis commit changes the keepalived configuration with empty pools:\nthe configuration now contains a virtual_server and a comment about the\nexisting pool. This comment is used by the get_udp_listener_pool_status\nto detect that the pool exists and is not offline.\n\nStory 2007984\nTask 40610\n\nChange-Id: I30e23ca13d033d77c8ebdabbfdc7b54556a9466b\n'}, {'number': 2, 'created': '2020-11-20 13:15:50.000000000', 'files': ['octavia/tests/unit/common/jinja/lvs/test_lvs_jinja_cfg.py', 'octavia/common/jinja/lvs/templates/macros.j2', 'releasenotes/notes/fix-empty-udp-pool-status-3171950628898468.yaml', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2954370e386d54a88763128e2dbfb9c4b2bca96d', 'message': 'Fix operating status for empty UDP pools\n\nFix empty UDP pools status: a UDP pool without members went OFFLINE\ninstead of ONLINE.\n\nThis commit changes the keepalived configuration with empty pools:\nthe configuration now contains a virtual_server and a comment about the\nexisting pool. This comment is used by the get_udp_listener_pool_status\nto detect that the pool exists and is not offline.\n\nStory 2007984\nTask 40610\n\nChange-Id: I30e23ca13d033d77c8ebdabbfdc7b54556a9466b\n'}]",0,763530,2954370e386d54a88763128e2dbfb9c4b2bca96d,14,6,2,29244,,,0,"Fix operating status for empty UDP pools

Fix empty UDP pools status: a UDP pool without members went OFFLINE
instead of ONLINE.

This commit changes the keepalived configuration with empty pools:
the configuration now contains a virtual_server and a comment about the
existing pool. This comment is used by the get_udp_listener_pool_status
to detect that the pool exists and is not offline.

Story 2007984
Task 40610

Change-Id: I30e23ca13d033d77c8ebdabbfdc7b54556a9466b
",git fetch https://review.opendev.org/openstack/octavia refs/changes/30/763530/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/common/jinja/lvs/test_lvs_jinja_cfg.py', 'octavia/common/jinja/lvs/templates/macros.j2', 'releasenotes/notes/fix-empty-udp-pool-status-3171950628898468.yaml', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py']",6,590aa114d92b64846e44fa1733dcd191c4639fc8,," # return UP. 'status': constants.UP,"," # return DOWN. 'status': constants.DOWN,",40,13
openstack%2Fpython-novaclient~master~Idd3eceacda5f3eeaed90249df1f394e238b26dcc,openstack/python-novaclient,master,Idd3eceacda5f3eeaed90249df1f394e238b26dcc,DNM/TEST: function test,ABANDONED,2021-01-11 05:39:21.000000000,2021-01-11 07:15:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-11 05:39:21.000000000', 'files': ['novaclient/tests/functional/v2/test_quotas.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/5c4a9524a730a459db2d47d1e5ed52ad4efe44c0', 'message': 'DNM/TEST: function test\n\nChange-Id: Idd3eceacda5f3eeaed90249df1f394e238b26dcc\n'}]",0,770060,5c4a9524a730a459db2d47d1e5ed52ad4efe44c0,3,1,1,26458,,,0,"DNM/TEST: function test

Change-Id: Idd3eceacda5f3eeaed90249df1f394e238b26dcc
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/60/770060/1 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/tests/functional/v2/test_quotas.py'],1,5c4a9524a730a459db2d47d1e5ed52ad4efe44c0,bp/remove-tenant-id," COMPUTE_API_VERSION = ""2.87"""," COMPUTE_API_VERSION = ""2.latest""",1,1
openstack%2Fswift~master~I47a88afe9f71bce783cf8bd05d4cb7495decadf6,openstack/swift,master,I47a88afe9f71bce783cf8bd05d4cb7495decadf6,gate: Add centos8/py36 experimental jobs,MERGED,2020-11-09 21:23:31.000000000,2021-01-11 06:27:02.000000000,2021-01-11 06:21:37.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-09 21:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/341e611a5544202ba62d7b868126f63ef64932a5', 'message': 'gate: Add centos8/py36 experimental jobs\n\nChange-Id: I47a88afe9f71bce783cf8bd05d4cb7495decadf6\n'}, {'number': 2, 'created': '2020-11-09 21:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e45e0c72dc8a90b797c04a70f31c6207e37b75ab', 'message': 'gate: Add centos8/py36 experimental jobs\n\nChange-Id: I47a88afe9f71bce783cf8bd05d4cb7495decadf6\n'}, {'number': 3, 'created': '2021-01-09 08:19:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/0c0d9d73de3af892d9bb6d6c822cc1abe3bf1d3b', 'message': 'gate: Add centos8/py36 experimental jobs\n\nChange-Id: I47a88afe9f71bce783cf8bd05d4cb7495decadf6\n'}]",2,762000,0c0d9d73de3af892d9bb6d6c822cc1abe3bf1d3b,25,2,3,15343,,,0,"gate: Add centos8/py36 experimental jobs

Change-Id: I47a88afe9f71bce783cf8bd05d4cb7495decadf6
",git fetch https://review.opendev.org/openstack/swift refs/changes/00/762000/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,341e611a5544202ba62d7b868126f63ef64932a5,, name: swift-tox-py36-centos-8 parent: swift-tox-py36 nodeset: centos-8 - job: name: swift-tox-func-py36-centos-8 parent: swift-tox-func-py36 nodeset: centos-8 vars: bindep_profile: test py36 python_version: 3.6 - job: name: swift-tox-func-encryption-py36-centos-8 parent: swift-tox-func-py36-centos-8 vars: tox_envlist: func-encryption-py3 - job: name: swift-tox-func-ec-py36-centos-8 parent: swift-tox-func-py36-centos-8 vars: tox_envlist: func-ec-py3 - job: - swift-tox-py36-centos-8 - swift-tox-func-py36-centos-8 - swift-tox-func-encryption-py36-centos-8 - swift-tox-func-ec-py36-centos-8,,29,0
openstack%2Fkuryr-kubernetes~master~Ia320760807cdffacb91b45d858b90d79354ef962,openstack/kuryr-kubernetes,master,Ia320760807cdffacb91b45d858b90d79354ef962,K8S Services: add support for SCTP,MERGED,2020-12-23 13:16:14.000000000,2021-01-11 03:02:57.000000000,2021-01-11 03:01:54.000000000,"[{'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 28182}]","[{'number': 1, 'created': '2020-12-23 13:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d7924f5b535c829e613883fe2bdff6195ad858dc', 'message': ""K8S Services: add support for SCTP\n\nThe Octavia API already supports SCTP, though the support for\nAmphora driver and OVN driver is still in development. This change\nensures that Octavia loadbalancer has listeners and pools/members\ncreated with SCTP protocol. Kuryr already handles the case where\nlistener's protocol is not supported by Octavia.\n\nPartially-Implements: blueprint sctp-support\nChange-Id: Ia320760807cdffacb91b45d858b90d79354ef962\n""}, {'number': 2, 'created': '2020-12-23 13:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/aa553c6ed98aac7b7d23bab301d592e96b685584', 'message': ""K8S Services: add support for SCTP\n\nThe Octavia API already supports SCTP, though the support for\nAmphora driver and OVN driver is still in development. This change\nensures that Octavia loadbalancer has listeners and pools/members\ncreated with SCTP protocol. Kuryr already handles the case where\nlistener's protocol is not supported by Octavia.\n\nPartially-Implements: blueprint sctp-support\nChange-Id: Ia320760807cdffacb91b45d858b90d79354ef962\n""}, {'number': 3, 'created': '2020-12-24 14:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9778595371181611f9dcacc4ea600f552b05d737', 'message': ""K8S Services: add support for SCTP\n\nThe Octavia API already supports SCTP, though the support for\nAmphora driver and OVN driver is still in development. This change\nensures that Octavia loadbalancer has listeners and pools/members\ncreated with SCTP protocol. Kuryr already handles the case where\nlistener's protocol is not supported by Octavia.\n\nPartially-Implements: blueprint sctp-support\nChange-Id: Ia320760807cdffacb91b45d858b90d79354ef962\n""}, {'number': 4, 'created': '2020-12-25 17:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/036a260683afaf75a6c5cd62fb58708ff6ef6dee', 'message': ""K8S Services: add support for SCTP\n\nThe Octavia API already supports SCTP, though the support for\nAmphora driver and OVN driver is still in development. This change\nensures that Octavia loadbalancer has listeners and pools/members\ncreated with SCTP protocol. Kuryr already handles the case where\nlistener's protocol is not supported by Octavia.\n\nPartially-Implements: blueprint sctp-support\nChange-Id: Ia320760807cdffacb91b45d858b90d79354ef962\n""}, {'number': 5, 'created': '2020-12-27 20:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/29adec9afd8515609aa58b7b5fd82a8bd7c56850', 'message': ""K8S Services: add support for SCTP\n\nThe Octavia API already supports SCTP, though the support for\nAmphora driver and OVN driver is still in development. This change\nensures that Octavia loadbalancer has listeners and pools/members\ncreated with SCTP protocol. Kuryr already handles the case where\nlistener's protocol is not supported by Octavia.\n\nPartially-Implements: blueprint sctp-support\nChange-Id: Ia320760807cdffacb91b45d858b90d79354ef962\n""}, {'number': 6, 'created': '2021-01-04 11:46:08.000000000', 'files': ['kuryr_kubernetes/controller/drivers/lbaasv2.py', 'kuryr_kubernetes/controller/handlers/loadbalancer.py', 'devstack/plugin.sh', 'kuryr_kubernetes/tests/unit/test_utils.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c3e66123a5e77b2d98b7adce51f02a9a262ab225', 'message': ""K8S Services: add support for SCTP\n\nThe Octavia API already supports SCTP, though the support for\nAmphora driver and OVN driver is still in development. This change\nensures that Octavia loadbalancer has listeners and pools/members\ncreated with SCTP protocol. Kuryr already handles the case where\nlistener's protocol is not supported by Octavia.\n\nPartially-Implements: blueprint sctp-support\nChange-Id: Ia320760807cdffacb91b45d858b90d79354ef962\n""}]",7,768336,c3e66123a5e77b2d98b7adce51f02a9a262ab225,48,4,6,32533,,,0,"K8S Services: add support for SCTP

The Octavia API already supports SCTP, though the support for
Amphora driver and OVN driver is still in development. This change
ensures that Octavia loadbalancer has listeners and pools/members
created with SCTP protocol. Kuryr already handles the case where
listener's protocol is not supported by Octavia.

Partially-Implements: blueprint sctp-support
Change-Id: Ia320760807cdffacb91b45d858b90d79354ef962
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/36/768336/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'kuryr_kubernetes/tests/unit/test_utils.py']",2,d7924f5b535c829e613883fe2bdff6195ad858dc,bp/sctp-support," {'port': 2, 'name': 'X', 'protocol': 'UDP', 'targetPort': 2}, {'port': 3, 'name': 'Y', 'protocol': 'SCTP', 'targetPort': 3} {'port': 2, 'name': 'X', 'protocol': 'UDP', 'targetPort': '2'}, {'port': 3, 'name': 'Y', 'protocol': 'SCTP', 'targetPort': '3'}]"," {'port': 2, 'name': 'X', 'protocol': 'UDP', 'targetPort': 2} {'port': 2, 'name': 'X', 'protocol': 'UDP', 'targetPort': '2'}]",15,2
openstack%2Fzaqar~master~Ib89beed50f5d6e63fe6d75bdd24a4c879bd4834a,openstack/zaqar,master,Ib89beed50f5d6e63fe6d75bdd24a4c879bd4834a,update lower constraints,MERGED,2020-12-10 06:41:58.000000000,2021-01-11 01:47:46.000000000,2021-01-08 09:25:54.000000000,"[{'_account_id': 8846}, {'_account_id': 22348}, {'_account_id': 31882}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-12-10 06:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/fa0638f0cb97caeba394c3e28b81da0ec0f22c3d', 'message': 'update lower constraints\n\nBecause autobahn 20.7.1 depends on cryptography>=2.7, we\nneed to update the version of cryptography.\n\nChange-Id: Ib89beed50f5d6e63fe6d75bdd24a4c879bd4834a\n'}, {'number': 2, 'created': '2020-12-14 03:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/0a799fafeaa9535432d5d948540aa23400c01ce2', 'message': 'update lower constraints\n\nBecause autobahn 20.7.1 depends on cryptography>=2.7, we\nneed to update the version of cryptography.\n\nChange-Id: Ib89beed50f5d6e63fe6d75bdd24a4c879bd4834a\n'}, {'number': 3, 'created': '2020-12-14 06:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/ac55fdcc99c05488471c0c479b1b342f56cd807c', 'message': 'update lower constraints\n\nBecause autobahn 20.7.1 depends on cryptography>=2.7, we\nneed to update the version of cryptography.\n\nChange-Id: Ib89beed50f5d6e63fe6d75bdd24a4c879bd4834a\n'}, {'number': 4, 'created': '2020-12-14 09:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/5d225d790fd00bfa5455d2c9450252de49556a78', 'message': 'update lower constraints\n\nBecause autobahn 20.7.1 depends on cryptography>=2.7, we\nneed to update the version of cryptography.\n\nChange-Id: Ib89beed50f5d6e63fe6d75bdd24a4c879bd4834a\n'}, {'number': 5, 'created': '2020-12-15 06:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/5b63553358159b0125a3e51194d63f17c75bcb28', 'message': 'update lower constraints\n\nBecause autobahn 20.7.1 depends on cryptography>=2.7, we\nneed to update the version of cryptography.\n\nChange-Id: Ib89beed50f5d6e63fe6d75bdd24a4c879bd4834a\n'}, {'number': 6, 'created': '2020-12-16 09:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/c66870762b428a2ec883913f777b1734fa1a0a40', 'message': 'update lower constraints\n\nBecause autobahn 20.7.1 depends on cryptography>=2.7, we\nneed to update the version of cryptography.\n\nChange-Id: Ib89beed50f5d6e63fe6d75bdd24a4c879bd4834a\n'}, {'number': 7, 'created': '2020-12-16 14:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/82198145aab66c73a273dd87338a00498a88b5dd', 'message': 'update lower constraints\n\nBecause autobahn 20.7.1 depends on cryptography>=2.7, we\nneed to update the version of cryptography.\n\nChange-Id: Ib89beed50f5d6e63fe6d75bdd24a4c879bd4834a\n'}, {'number': 8, 'created': '2020-12-17 02:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/c31f8c25b2fa230a3a8d5f828c85116b285e5662', 'message': 'update lower constraints\n\nBecause autobahn 20.7.1 depends on cryptography>=2.7, we\nneed to update the version of cryptography.\n\nChange-Id: Ib89beed50f5d6e63fe6d75bdd24a4c879bd4834a\n'}, {'number': 9, 'created': '2020-12-21 01:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/5564b7c1fac99d0ab7b56f044c0f7935640b177d', 'message': 'update lower constraints\n\nBecause autobahn 20.7.1 depends on cryptography>=2.7, we\nneed to update the version of cryptography.\n\nChange-Id: Ib89beed50f5d6e63fe6d75bdd24a4c879bd4834a\n'}, {'number': 10, 'created': '2020-12-21 03:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/bdfd84c31f477615bb55299275e319258e9378a0', 'message': 'update lower constraints\n\nBecause autobahn 20.7.1 depends on cryptography>=2.7, we\nneed to update the version of cryptography.\n\nChange-Id: Ib89beed50f5d6e63fe6d75bdd24a4c879bd4834a\n'}, {'number': 11, 'created': '2020-12-23 05:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/0c115f2b7b5d38a477d4dadb96a91a965fb7bbce', 'message': 'update lower constraints\n\nBecause autobahn 20.7.1 depends on cryptography>=2.7, we\nneed to update the version of cryptography.\n\nChange-Id: Ib89beed50f5d6e63fe6d75bdd24a4c879bd4834a\n'}, {'number': 12, 'created': '2020-12-23 07:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/00bbf6fc867048873d2ccecfae635af3150e110a', 'message': 'update lower constraints\n\nBecause autobahn 20.7.1 depends on cryptography>=2.7, we\nneed to update the version of cryptography.\n\nChange-Id: Ib89beed50f5d6e63fe6d75bdd24a4c879bd4834a\n'}, {'number': 13, 'created': '2020-12-28 01:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/b8016f25a2985d609ad62e98348fe3e21be42a1e', 'message': 'update lower constraints\n\nBecause autobahn 20.7.1 depends on cryptography>=2.7, we\nneed to update the version of cryptography.\n\nChange-Id: Ib89beed50f5d6e63fe6d75bdd24a4c879bd4834a\n'}, {'number': 14, 'created': '2021-01-04 02:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/93f8d4ded382e51e5dfe99f9ba91e2fd5ee02ed8', 'message': 'update lower constraints\n\nBecause autobahn 20.7.1 depends on cryptography>=2.7, we\nneed to update the version of cryptography.\n\nChange-Id: Ib89beed50f5d6e63fe6d75bdd24a4c879bd4834a\n'}, {'number': 15, 'created': '2021-01-07 00:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/f14878df1c605e3c5fbba8b461a5c28509e45f54', 'message': 'update lower constraints\n\nBecause autobahn 20.7.1 depends on cryptography>=2.7, we\nneed to update the version of cryptography.\n\nChange-Id: Ib89beed50f5d6e63fe6d75bdd24a4c879bd4834a\n'}, {'number': 16, 'created': '2021-01-07 10:52:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zaqar/commit/d958dbc05422389cffd0c73ca7ee89f74cc45c99', 'message': 'update lower constraints\n\nBecause autobahn 20.7.1 depends on cryptography>=2.7, we\nneed to update the version of cryptography.\n\nChange-Id: Ib89beed50f5d6e63fe6d75bdd24a4c879bd4834a\n'}, {'number': 17, 'created': '2021-01-08 00:46:12.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/bf086eb7533efc9a91e7022b71f45f32bc8051d8', 'message': 'update lower constraints\n\nBecause autobahn 20.7.1 depends on cryptography>=2.7, we\nneed to update the version of cryptography.\n\nChange-Id: Ib89beed50f5d6e63fe6d75bdd24a4c879bd4834a\n'}]",0,766403,bf086eb7533efc9a91e7022b71f45f32bc8051d8,53,4,17,8846,,,0,"update lower constraints

Because autobahn 20.7.1 depends on cryptography>=2.7, we
need to update the version of cryptography.

Change-Id: Ib89beed50f5d6e63fe6d75bdd24a4c879bd4834a
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/03/766403/17 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt']",3,fa0638f0cb97caeba394c3e28b81da0ec0f22c3d,update-lower-constraints,cryptography==2.7,cryptography==2.1,3,3
openstack%2Fkeystone~master~I903d20fa41270499ca1c39d296120dd97cef5405,openstack/keystone,master,I903d20fa41270499ca1c39d296120dd97cef5405,Use app cred user ID in policy enforcement,MERGED,2020-11-02 17:30:44.000000000,2021-01-11 00:12:50.000000000,2021-01-11 00:11:23.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 9954}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-02 17:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d667f14f6f906c2df9b3ba36ebc810d37fa3da71', 'message': ""Use app cred user ID in policy enforcement\n\nThe application credential policies use the `rule:owner` policy to allow\nusers to manage their own credentials. The policy engine pulled the\nuser_id attribute from the request path instead of the actual\napplication credential. This allowed for users to exploit the\nenforcement and view or delete application credentials they don't own.\n\nThis commit attempts to resolve the issue by updating the flask\nparameters before they're translated to policy arguments and target\ndata, prior to policy enforcement.\n\nChange-Id: I903d20fa41270499ca1c39d296120dd97cef5405\nCloses-Bug: 1901207\n""}, {'number': 2, 'created': '2020-11-03 16:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0e6caae6dd8b8dd7db65998eb6f3bbe25534d58f', 'message': ""Use app cred user ID in policy enforcement\n\nThe application credential policies use the `rule:owner` policy to allow\nusers to manage their own credentials. The policy engine pulled the\nuser_id attribute from the request path instead of the actual\napplication credential. This allowed for users to exploit the\nenforcement and view or delete application credentials they don't own.\n\nThis commit attempts to resolve the issue by updating the flask\nparameters before they're translated to policy arguments and target\ndata, prior to policy enforcement.\n\nChange-Id: I903d20fa41270499ca1c39d296120dd97cef5405\nCloses-Bug: 1901207\n""}, {'number': 3, 'created': '2020-11-03 16:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/78c502289c12b1a9f133f1a4d650f4b844f9070c', 'message': ""Use app cred user ID in policy enforcement\n\nThe application credential policies use the `rule:owner` policy to allow\nusers to manage their own credentials. The policy engine pulled the\nuser_id attribute from the request path instead of the actual\napplication credential. This allowed for users to exploit the\nenforcement and view or delete application credentials they don't own.\n\nThis commit attempts to resolve the issue by updating the flask\nparameters before they're translated to policy arguments and target\ndata, prior to policy enforcement.\n\nChange-Id: I903d20fa41270499ca1c39d296120dd97cef5405\nCloses-Bug: 1901207\n""}, {'number': 4, 'created': '2020-11-11 17:01:38.000000000', 'files': ['keystone/api/users.py', 'keystone/tests/protection/v3/test_application_credential.py', 'releasenotes/notes/bug-1901207-13762f85b8a04481.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/2d7bf10a5a145ed3b6e34c3cb95e05fb7e33e0d1', 'message': ""Use app cred user ID in policy enforcement\n\nThe application credential policies use the `rule:owner` policy to allow\nusers to manage their own credentials. The policy engine pulled the\nuser_id attribute from the request path instead of the actual\napplication credential. This allowed for users to exploit the\nenforcement and view or delete application credentials they don't own.\n\nThis commit attempts to resolve the issue by updating the flask\nparameters before they're translated to policy arguments and target\ndata, prior to policy enforcement.\n\nChange-Id: I903d20fa41270499ca1c39d296120dd97cef5405\nCloses-Bug: 1901207\n""}]",5,760972,2d7bf10a5a145ed3b6e34c3cb95e05fb7e33e0d1,30,5,4,5046,,,0,"Use app cred user ID in policy enforcement

The application credential policies use the `rule:owner` policy to allow
users to manage their own credentials. The policy engine pulled the
user_id attribute from the request path instead of the actual
application credential. This allowed for users to exploit the
enforcement and view or delete application credentials they don't own.

This commit attempts to resolve the issue by updating the flask
parameters before they're translated to policy arguments and target
data, prior to policy enforcement.

Change-Id: I903d20fa41270499ca1c39d296120dd97cef5405
Closes-Bug: 1901207
",git fetch https://review.opendev.org/openstack/keystone refs/changes/72/760972/4 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/api/users.py', 'keystone/tests/protection/v3/test_application_credential.py', 'releasenotes/notes/bug-1901207-13762f85b8a04481.yaml']",3,d667f14f6f906c2df9b3ba36ebc810d37fa3da71,bug/1901207,--- security: - | [`bug 1901207<https://bugs.launchpad.net/keystone/+bug/1901207>`_] Policy enforcement for application credentials has been updated to protect against invalid ownership checks resulting in unauthorized users being able to get and delete application credentials for other users. ,,120,2
openstack%2Fmagnum~master~Id34e6e1383cf2a33d6cb27ac41e18503b4821625,openstack/magnum,master,Id34e6e1383cf2a33d6cb27ac41e18503b4821625,[WIP] Singleton notifier,ABANDONED,2021-01-06 06:52:39.000000000,2021-01-10 23:27:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-06 06:52:39.000000000', 'files': ['magnum/conductor/utils.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/2426897d45b135d3f48603555b344d2ebc9f7c87', 'message': '[WIP] Singleton notifier\n\nChange-Id: Id34e6e1383cf2a33d6cb27ac41e18503b4821625\n'}]",0,769457,2426897d45b135d3f48603555b344d2ebc9f7c87,5,1,1,22623,,,0,"[WIP] Singleton notifier

Change-Id: Id34e6e1383cf2a33d6cb27ac41e18503b4821625
",git fetch https://review.opendev.org/openstack/magnum refs/changes/57/769457/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/conductor/utils.py'],1,2426897d45b135d3f48603555b344d2ebc9f7c87,notifier,"NOTIFIER = None global NOTIFIER if not NOTIFIER: NOTIFIER = rpc.get_notifier() NOTIFIER.error(context, event_type, payload) else: NOTIFIER.info(context, event_type, payload)"," notifier = rpc.get_notifier() method = notifier.error else: method = notifier.info method(context, event_type, payload)",8,5
openstack%2Fkeystone~master~Ic8c9b155a20aea11f74794aeb45a4e92e632148a,openstack/keystone,master,Ic8c9b155a20aea11f74794aeb45a4e92e632148a,Imported Translations from Zanata,MERGED,2020-10-28 07:50:00.000000000,2021-01-10 22:43:32.000000000,2021-01-10 22:41:53.000000000,"[{'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-28 07:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3ae257a95bc657d6fd2120873acad4d747c42aa3', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ic8c9b155a20aea11f74794aeb45a4e92e632148a\n'}, {'number': 2, 'created': '2020-10-30 07:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/dd79067d0e97fea3d589e97870ef2a978c86e964', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ic8c9b155a20aea11f74794aeb45a4e92e632148a\n'}, {'number': 3, 'created': '2020-10-31 07:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d4085743d23ff77b54837230b51e9f54a9b39d55', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ic8c9b155a20aea11f74794aeb45a4e92e632148a\n'}, {'number': 4, 'created': '2020-11-16 07:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e8fbcde2884b756c66f088970f3252a0fde1cd92', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ic8c9b155a20aea11f74794aeb45a4e92e632148a\n'}, {'number': 5, 'created': '2020-12-13 06:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6fc06ffc2b255d773a288a5e54cb5d3c0c390341', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ic8c9b155a20aea11f74794aeb45a4e92e632148a\n'}, {'number': 6, 'created': '2020-12-20 06:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7029cecec0d9ad61f840e60a64638ff068856337', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ic8c9b155a20aea11f74794aeb45a4e92e632148a\n'}, {'number': 7, 'created': '2021-01-09 06:47:41.000000000', 'files': ['keystone/locale/en_GB/LC_MESSAGES/keystone.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9ef800f0bc2593e6025aef00216648c21255ae40', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ic8c9b155a20aea11f74794aeb45a4e92e632148a\n'}]",0,760067,9ef800f0bc2593e6025aef00216648c21255ae40,24,3,7,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ic8c9b155a20aea11f74794aeb45a4e92e632148a
",git fetch https://review.opendev.org/openstack/keystone refs/changes/67/760067/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/locale/en_GB/LC_MESSAGES/keystone.po'],1,3ae257a95bc657d6fd2120873acad4d747c42aa3,zanata/translations,"""POT-Creation-Date: 2020-10-15 20:10+0000\n""""PO-Revision-Date: 2020-10-28 02:12+0000\n""""Unable to create additional credentials, maximum of %(limit)d already "" ""exceeded for user."" msgstr """" ""Unable to create additional credentials, maximum of %(limit)d already "" ""exceeded for user."" #, python-format msgid """"msgid ""Unexpected evaluation type \""%(eval_type)s\"""" msgstr ""Unexpected evaluation type \""%(eval_type)s\"""" #, python-format","""POT-Creation-Date: 2020-06-18 11:23+0000\n""""PO-Revision-Date: 2020-06-15 05:35+0000\n""",14,2
openstack%2Fopenstack-ansible~stable%2Fvictoria~I7a01cb019a32c7d2b0fa8a326826ab2cf288939a,openstack/openstack-ansible,stable/victoria,I7a01cb019a32c7d2b0fa8a326826ab2cf288939a,Gather minimal facts to use ansible_distribution,MERGED,2021-01-09 11:02:35.000000000,2021-01-10 21:31:57.000000000,2021-01-10 21:30:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-01-09 11:02:35.000000000', 'files': ['scripts/get-ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/49dc0f496162a0e65552b3affa2737047b38adb0', 'message': 'Gather minimal facts to use ansible_distribution\n\nWe tried to use `ansible_distribution` variable for localhost but we never\ngathered facts for it, so in real deployments we always fallback\nto rescue block.\n\nChange-Id: I7a01cb019a32c7d2b0fa8a326826ab2cf288939a\n(cherry picked from commit ab8ed8b7c9ca3d5618f8c820746e02521cdbeaaa)\n'}]",0,770018,49dc0f496162a0e65552b3affa2737047b38adb0,8,3,1,28619,,,0,"Gather minimal facts to use ansible_distribution

We tried to use `ansible_distribution` variable for localhost but we never
gathered facts for it, so in real deployments we always fallback
to rescue block.

Change-Id: I7a01cb019a32c7d2b0fa8a326826ab2cf288939a
(cherry picked from commit ab8ed8b7c9ca3d5618f8c820746e02521cdbeaaa)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/18/770018/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/get-ansible-role-requirements.yml'],1,49dc0f496162a0e65552b3affa2737047b38adb0,, - name: Gather minimal facts setup: gather_subset: '!all' ,,4,0
openstack%2Fansible-role-python_venv_build~stable%2Fvictoria~I55306ceeb7ecbc608b0a164c0e6f2b6bc8f3a569,openstack/ansible-role-python_venv_build,stable/victoria,I55306ceeb7ecbc608b0a164c0e6f2b6bc8f3a569,Updated from OpenStack Ansible Tests,MERGED,2020-12-18 16:21:56.000000000,2021-01-10 18:50:29.000000000,2021-01-10 18:49:25.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-12-18 16:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/cdb737ac7685accb1b4dcdd436a8c0e98b227c8c', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I55306ceeb7ecbc608b0a164c0e6f2b6bc8f3a569\n'}, {'number': 2, 'created': '2021-01-09 13:53:26.000000000', 'files': ['run_tests.sh', 'Vagrantfile'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/7a08ccfb5410906d5b9291180fc2cfe7ba382e01', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I55306ceeb7ecbc608b0a164c0e6f2b6bc8f3a569\n'}]",0,767915,7a08ccfb5410906d5b9291180fc2cfe7ba382e01,21,2,2,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I55306ceeb7ecbc608b0a164c0e6f2b6bc8f3a569
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/15/767915/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'Vagrantfile']",2,cdb737ac7685accb1b4dcdd436a8c0e98b227c8c,openstack/openstack-ansible-tests/sync-tests," config.vm.define ""centos8"" do |centos8| centos8.vm.box = ""centos/8"""," config.vm.define ""centos7"" do |centos7| centos7.vm.box = ""centos/7""",3,6
openstack%2Fopenstack-ansible-os_zun~master~I7045fcbb8bcd7a9744cc35fb2668016bacab4f1b,openstack/openstack-ansible-os_zun,master,I7045fcbb8bcd7a9744cc35fb2668016bacab4f1b,Add timed cleanup script to handle old Docker data,MERGED,2021-01-07 09:17:16.000000000,2021-01-10 16:47:44.000000000,2021-01-10 16:46:14.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-01-07 09:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/d1d79020b792168eea0dcfcf625d3af7a223653c', 'message': ""Add cron cleanup script to handle old Docker data\n\nThe Docker image cache does not get emptied automatically and\ncan take up significant disk space. In addition, old networks can\nleave iptables rules, network devices and routing table entries\nbehind.\n\nThis patch adds a periodic cron job to delete this data where it\nis safe to do so and won't impact existing containers.\n\nChange-Id: I7045fcbb8bcd7a9744cc35fb2668016bacab4f1b\n""}, {'number': 2, 'created': '2021-01-08 09:14:47.000000000', 'files': ['tasks/zun_compute.yml', 'templates/zun-docker-cleanup.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/6045bac2e8cdcdb31cc8fdc4fd76074e3c18f489', 'message': ""Add timed cleanup script to handle old Docker data\n\nThe Docker image cache does not get emptied automatically and\ncan take up significant disk space. In addition, old networks can\nleave iptables rules, network devices and routing table entries\nbehind.\n\nThis patch adds a periodic timer job to delete this data where it\nis safe to do so and won't impact existing containers.\n\nChange-Id: I7045fcbb8bcd7a9744cc35fb2668016bacab4f1b\n""}]",2,769688,6045bac2e8cdcdb31cc8fdc4fd76074e3c18f489,21,3,2,31542,,,0,"Add timed cleanup script to handle old Docker data

The Docker image cache does not get emptied automatically and
can take up significant disk space. In addition, old networks can
leave iptables rules, network devices and routing table entries
behind.

This patch adds a periodic timer job to delete this data where it
is safe to do so and won't impact existing containers.

Change-Id: I7045fcbb8bcd7a9744cc35fb2668016bacab4f1b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/88/769688/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/zun_compute.yml', 'templates/zun-docker-cleanup.j2', 'defaults/main.yml']",3,d1d79020b792168eea0dcfcf625d3af7a223653c,zun-prune,"# Clean up old Docker data once per hour, where the data is more than one # hour old zun_docker_prune_images: True zun_docker_prune_networks: True ",,26,0
openstack%2Fopenstack-ansible-os_zun~master~Ie5c741d47d114222934ad01097710fa8dc56dd4c,openstack/openstack-ansible-os_zun,master,Ie5c741d47d114222934ad01097710fa8dc56dd4c,zun: set configuration where compute host shared with nova,MERGED,2021-01-04 09:33:52.000000000,2021-01-10 16:36:48.000000000,2021-01-10 16:35:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-01-04 09:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/4a61fbdaab80100eb7fc399153a2bc0d00649e43', 'message': 'zun: set configuration where compute host shared with nova\n\nThis ensures that only one record is generated in placement\nfor each compute host when both Nova and Zun run alongside\neach other.\n\nChange-Id: Ie5c741d47d114222934ad01097710fa8dc56dd4c\n'}, {'number': 2, 'created': '2021-01-04 13:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/c895c98a17c63b80f0345169962fe2631496d483', 'message': 'zun: set configuration where compute host shared with nova\n\nThis ensures that only one record is generated in placement\nfor each compute host when both Nova and Zun run alongside\neach other.\n\nChange-Id: Ie5c741d47d114222934ad01097710fa8dc56dd4c\n'}, {'number': 3, 'created': '2021-01-08 11:39:29.000000000', 'files': ['templates/zun.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/83c4435950f9ee01c863f36315206dcc57050dad', 'message': 'zun: set configuration where compute host shared with nova\n\nThis ensures that only one record is generated in placement\nfor each compute host when both Nova and Zun run alongside\neach other.\n\nChange-Id: Ie5c741d47d114222934ad01097710fa8dc56dd4c\n'}]",0,769116,83c4435950f9ee01c863f36315206dcc57050dad,39,3,3,31542,,,0,"zun: set configuration where compute host shared with nova

This ensures that only one record is generated in placement
for each compute host when both Nova and Zun run alongside
each other.

Change-Id: Ie5c741d47d114222934ad01097710fa8dc56dd4c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/16/769116/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/zun.conf.j2'],1,4a61fbdaab80100eb7fc399153a2bc0d00649e43,zun-nova,[compute] host_shared_with_nova = {{ inventory_hostname in groups['nova_compute'] | bool }} ,,4,0
openstack%2Fneutron~master~I65584817a22f952da8da979ab68cd6cfaa2143be,openstack/neutron,master,I65584817a22f952da8da979ab68cd6cfaa2143be,Add normalized_cidr column to SG rules,MERGED,2020-08-31 21:52:52.000000000,2021-01-10 16:35:39.000000000,2021-01-10 16:32:05.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28159}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-08-31 21:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/58688b283003122635b058db4cb39b2de8276065', 'message': ""[WIP] Add normalized_cidr column to SG rules\n\nThis is very early WIP state.\n\nTODO:\n* make normalized_cidr to be stored in DB and properly returned to the\n  user,\n* SGRule OVO backward compatibility,\n* unit tests,\n* API tests (additional patch probably to neutron-tempest-plugin repo),\n* store proper values in db during the db migration (or do it in lazy\n  way maybe?)\n* we will see what else...\n\nSo please don't review it for now. There is no need for that at all.\n\nChange-Id: I65584817a22f952da8da979ab68cd6cfaa2143be\n""}, {'number': 2, 'created': '2020-09-01 21:04:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0f0146ebf0a8150c87a9ceafeffff0e89ea73a77', 'message': ""[WIP] Add normalized_cidr column to SG rules\n\nThis is very early WIP state.\n\nTODO:\n* unit tests,\n* API tests (additional patch probably to neutron-tempest-plugin repo),\n* store proper values in db during the db migration (or do it in lazy\n  way maybe?)\n* we will see what else...\n\nSo please don't review it for now. There is no need for that at all.\n\nChange-Id: I65584817a22f952da8da979ab68cd6cfaa2143be\n""}, {'number': 3, 'created': '2020-09-02 20:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2daee59c08613791a7f0a878d82b4a4aefcd0188', 'message': ""[WIP] Add normalized_cidr column to SG rules\n\nThis is very early WIP state.\n\nTODO:\n* unit tests,\n* API tests (additional patch probably to neutron-tempest-plugin repo),\n* store proper values in db during the db migration (or do it in lazy\n  way maybe?)\n* we will see what else...\n\nSo please don't review it for now. There is no need for that at all.\n\nChange-Id: I65584817a22f952da8da979ab68cd6cfaa2143be\n""}, {'number': 4, 'created': '2020-09-02 20:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/50f88da00fc0cf04f94cb7cab1878e363a45eacf', 'message': ""[WIP] Add normalized_cidr column to SG rules\n\nThis is very early WIP state.\n\nTODO:\n* fix unit tests,\n* API tests (additional patch probably to neutron-tempest-plugin repo),\n* store proper values in db during the db migration (or do it in lazy\n  way maybe?)\n* we will see what else...\n\nSo please don't review it for now. There is no need for that at all.\n\nChange-Id: I65584817a22f952da8da979ab68cd6cfaa2143be\n""}, {'number': 5, 'created': '2020-10-13 22:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b18e8897eeec6e0e632e6ed4924b232f97323aa', 'message': '[WIP] Add normalized_cidr column to SG rules\n\nThis is still WIP state.\n\nTODO:\n* store proper values in db during the db migration (or do it in lazy\n  way maybe?)\n* API tests (additional patch probably to neutron-tempest-plugin repo),\n\nSo please don\'t review it for now. There is no need for that at all.\n\nNew API extension was added in [1] to extend security group rules with\n""normalized_cidr"" read only attribute.\nThis patch implements this API extension in Neutron ML2 plugin and\nextends security group rules with ""normalized_cidr"" value.\n\n[1] https://review.opendev.org/#/c/743630/\n\nRelated-Bug: #1869129\n\nChange-Id: I65584817a22f952da8da979ab68cd6cfaa2143be\n'}, {'number': 6, 'created': '2020-10-14 14:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4778961ed29731ce03bd897ba2bbfab5aab1045c', 'message': 'Add normalized_cidr column to SG rules\n\nNew API extension was added in [1] to extend security group rules with\n""normalized_cidr"" read only attribute.\nThis patch implements this API extension in Neutron ML2 plugin and\nextends security group rules with ""normalized_cidr"" value.\n\n[1] https://review.opendev.org/#/c/743630/\n\nRelated-Bug: #1869129\n\nChange-Id: I65584817a22f952da8da979ab68cd6cfaa2143be\n'}, {'number': 7, 'created': '2020-10-22 14:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c0358f49cf804fa15fcd82aa96ac419986c963fe', 'message': 'Add normalized_cidr column to SG rules\n\nNew API extension was added in [1] to extend security group rules with\n""normalized_cidr"" read only attribute.\nThis patch implements this API extension in Neutron ML2 plugin and\nextends security group rules with ""normalized_cidr"" value.\n\n[1] https://review.opendev.org/#/c/743630/\n\nRelated-Bug: #1869129\n\nChange-Id: I65584817a22f952da8da979ab68cd6cfaa2143be\n'}, {'number': 8, 'created': '2020-10-22 14:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e35edead6412c01b3acbc7f75687538987894ca', 'message': 'Add normalized_cidr column to SG rules\n\nNew API extension was added in [1] to extend security group rules with\n""normalized_cidr"" read only attribute.\nThis patch implements this API extension in Neutron ML2 plugin and\nextends security group rules with ""normalized_cidr"" value.\n\n[1] https://review.opendev.org/#/c/743630/\n\nRelated-Bug: #1869129\n\nChange-Id: I65584817a22f952da8da979ab68cd6cfaa2143be\n'}, {'number': 9, 'created': '2020-11-11 22:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/afde5d3cd35d802650e7d88c79cdd558e66c59c4', 'message': 'Add normalized_cidr column to SG rules\n\nNew API extension was added in [1] to extend security group rules with\n""normalized_cidr"" read only attribute.\nThis patch implements this API extension in Neutron ML2 plugin and\nextends security group rules with ""normalized_cidr"" value.\n\n[1] https://review.opendev.org/#/c/743630/\n\nRelated-Bug: #1869129\n\nChange-Id: I65584817a22f952da8da979ab68cd6cfaa2143be\n'}, {'number': 10, 'created': '2020-11-16 21:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/737aa20c43ff34e672694c51866e5e1aee82b917', 'message': 'Add normalized_cidr column to SG rules\n\nNew API extension was added in [1] to extend security group rules with\n""normalized_cidr"" read only attribute.\nThis patch implements this API extension in Neutron ML2 plugin and\nextends security group rules with ""normalized_cidr"" value.\n\n[1] https://review.opendev.org/#/c/743630/\n\nRelated-Bug: #1869129\n\nChange-Id: I65584817a22f952da8da979ab68cd6cfaa2143be\n'}, {'number': 11, 'created': '2020-11-17 22:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bf9548a5abdca9bee27a8924cc7c3921fbb9e4b6', 'message': 'Add normalized_cidr column to SG rules\n\nNew API extension was added in [1] to extend security group rules with\n""normalized_cidr"" read only attribute.\nThis patch implements this API extension in Neutron ML2 plugin and\nextends security group rules with ""normalized_cidr"" value.\n\n[1] https://review.opendev.org/#/c/743630/\n\nRelated-Bug: #1869129\n\nChange-Id: I65584817a22f952da8da979ab68cd6cfaa2143be\n'}, {'number': 12, 'created': '2020-11-19 16:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d8cac7e4b5631204593ed4e02f524c1ba797cf5', 'message': 'Add normalized_cidr column to SG rules\n\nNew API extension was added in [1] to extend security group rules with\n""normalized_cidr"" read only attribute.\nThis patch implements this API extension in Neutron ML2 plugin and\nextends security group rules with ""normalized_cidr"" value.\n\n[1] https://review.opendev.org/#/c/743630/\n\nRelated-Bug: #1869129\n\nChange-Id: I65584817a22f952da8da979ab68cd6cfaa2143be\n'}, {'number': 13, 'created': '2020-11-23 15:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a409b05bea9b114c3279c070221dfdfd9efad7b', 'message': 'Add normalized_cidr column to SG rules\n\nNew API extension was added in [1] to extend security group rules with\n""normalized_cidr"" read only attribute.\nThis patch implements this API extension in Neutron ML2 plugin and\nextends security group rules with ""normalized_cidr"" value.\n\n[1] https://review.opendev.org/#/c/743630/\n\nRelated-Bug: #1869129\n\nChange-Id: I65584817a22f952da8da979ab68cd6cfaa2143be\n'}, {'number': 14, 'created': '2020-11-23 21:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c06cbef04e95149fa28c287dcfab74d0b4060223', 'message': 'Add normalized_cidr column to SG rules\n\nNew API extension was added in [1] to extend security group rules with\n""normalized_cidr"" read only attribute.\nThis patch implements this API extension in Neutron ML2 plugin and\nextends security group rules with ""normalized_cidr"" value.\n\n[1] https://review.opendev.org/#/c/743630/\n\nRelated-Bug: #1869129\n\nChange-Id: I65584817a22f952da8da979ab68cd6cfaa2143be\n'}, {'number': 15, 'created': '2020-11-26 13:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/20a4b40484bcf1936ab4836bdea9dc7be0075fac', 'message': 'Add normalized_cidr column to SG rules\n\nNew API extension was added in [1] to extend security group rules with\n""normalized_cidr"" read only attribute.\nThis patch implements this API extension in Neutron ML2 plugin and\nextends security group rules with ""normalized_cidr"" value.\n\n[1] https://review.opendev.org/#/c/743630/\n\nRelated-Bug: #1869129\n\nChange-Id: I65584817a22f952da8da979ab68cd6cfaa2143be\n'}, {'number': 16, 'created': '2020-11-30 12:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/71130a35bd4c8de31b334209ee710d5ab9366a26', 'message': 'Add normalized_cidr column to SG rules\n\nNew API extension was added in [1] to extend security group rules with\n""normalized_cidr"" read only attribute.\nThis patch implements this API extension in Neutron ML2 plugin and\nextends security group rules with ""normalized_cidr"" value.\n\n[1] https://review.opendev.org/#/c/743630/\n\nRelated-Bug: #1869129\n\nChange-Id: I65584817a22f952da8da979ab68cd6cfaa2143be\n'}, {'number': 17, 'created': '2020-12-03 11:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7049c5073dd6df1b76c71e26a492220909bc51df', 'message': 'Add normalized_cidr column to SG rules\n\nNew API extension was added in [1] to extend security group rules with\n""normalized_cidr"" read only attribute.\nThis patch implements this API extension in Neutron ML2 plugin and\nextends security group rules with ""normalized_cidr"" value.\n\n[1] https://review.opendev.org/#/c/743630/\n\nRelated-Bug: #1869129\n\nChange-Id: I65584817a22f952da8da979ab68cd6cfaa2143be\n'}, {'number': 18, 'created': '2020-12-15 22:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/64c8e3b0a7aeff48af03a7986f281ec800831111', 'message': 'Add normalized_cidr column to SG rules\n\nNew API extension was added in [1] to extend security group rules with\n""normalized_cidr"" read only attribute.\nThis patch implements this API extension in Neutron ML2 plugin and\nextends security group rules with ""normalized_cidr"" value.\n\n[1] https://review.opendev.org/#/c/743630/\n\nRelated-Bug: #1869129\n\nChange-Id: I65584817a22f952da8da979ab68cd6cfaa2143be\n'}, {'number': 19, 'created': '2020-12-16 21:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8023440c0968ccfb9db2e7dfe1676c951f9ded5f', 'message': 'Add normalized_cidr column to SG rules\n\nNew API extension was added in [1] to extend security group rules with\n""normalized_cidr"" read only attribute.\nThis patch implements this API extension in Neutron ML2 plugin and\nextends security group rules with ""normalized_cidr"" value.\n\n[1] https://review.opendev.org/#/c/743630/\n\nRelated-Bug: #1869129\n\nChange-Id: I65584817a22f952da8da979ab68cd6cfaa2143be\n'}, {'number': 20, 'created': '2021-01-07 11:24:32.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/objects/test_securitygroup.py', 'neutron/objects/securitygroup.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/agent/securitygroups_rpc.py', 'neutron/plugins/ml2/plugin.py', 'neutron/tests/unit/extensions/test_securitygroup.py', 'neutron/extensions/security_groups_normalized_cidr.py', 'neutron/tests/unit/objects/test_objects.py', 'releasenotes/notes/add-normalized-cidr-to-sg-rule-066be9154c2ed0b2.yaml', 'neutron/tests/unit/extensions/test_security_groups_normalized_cidr.py', 'neutron/tests/fullstack/test_securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e0c7fa07ef378c580a9a79a9f71b7c15273044a', 'message': 'Add normalized_cidr column to SG rules\n\nNew API extension was added in [1] to extend security group rules with\n""normalized_cidr"" read only attribute.\nThis patch implements this API extension in Neutron ML2 plugin and\nextends security group rules with ""normalized_cidr"" value.\n\n[1] https://review.opendev.org/#/c/743630/\n\nRelated-Bug: #1869129\n\nChange-Id: I65584817a22f952da8da979ab68cd6cfaa2143be\n'}]",36,749158,0e0c7fa07ef378c580a9a79a9f71b7c15273044a,141,12,20,11975,,,0,"Add normalized_cidr column to SG rules

New API extension was added in [1] to extend security group rules with
""normalized_cidr"" read only attribute.
This patch implements this API extension in Neutron ML2 plugin and
extends security group rules with ""normalized_cidr"" value.

[1] https://review.opendev.org/#/c/743630/

Related-Bug: #1869129

Change-Id: I65584817a22f952da8da979ab68cd6cfaa2143be
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/749158/20 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/objects/securitygroup.py', 'neutron/db/models/securitygroup.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/db/migration/alembic_migrations/versions/victoria/expand/7099c094f0c5_add_normalized_cidr_to_sg_rules.py', 'neutron/plugins/ml2/plugin.py', 'neutron/extensions/security_groups_normalized_cidr.py']",7,58688b283003122635b058db4cb39b2de8276065,test,"# Copyright (c) 2018 Nokia. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.api.definitions import security_groups_normalized_cidr from neutron_lib.api import extensions class Security_groups_normalized_cidr(extensions.APIExtensionDescriptor): """"""Extension class supporting filtering port depend on security group."""""" api_definition = security_groups_normalized_cidr ",,78,2
openstack%2Fneutron~master~Id024dabf276e492268e723e526d7a787156eb9c1,openstack/neutron,master,Id024dabf276e492268e723e526d7a787156eb9c1,Ensure XenAPI options are loaded,MERGED,2021-01-03 11:57:59.000000000,2021-01-10 16:34:01.000000000,2021-01-10 16:31:56.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-03 11:57:59.000000000', 'files': ['neutron/opts.py', 'neutron/conf/agent/xenapi_conf.py', 'etc/rootwrap.conf'], 'web_link': 'https://opendev.org/openstack/neutron/commit/459716e644e1e2f245cc61b6c14a78f253c5c592', 'message': 'Ensure XenAPI options are loaded\n\nOptions for XenAPI support are supposed to have been deprecated, but\nactually they were removed by the deprecation patch[1]. This change is\na partial revert of that patch[1], and ensures that these options are\nloaded, so that warning messages about these deprecated options appear\nin logs.\n\nThis change also removes these deprecated options from the example\nrootwrap conf file.\n\n[1] a6dbf97242caa3be646e8eb6b1502b5e59e123fd\n\nChange-Id: Id024dabf276e492268e723e526d7a787156eb9c1\n'}]",0,769064,459716e644e1e2f245cc61b6c14a78f253c5c592,38,5,1,9816,,,0,"Ensure XenAPI options are loaded

Options for XenAPI support are supposed to have been deprecated, but
actually they were removed by the deprecation patch[1]. This change is
a partial revert of that patch[1], and ensures that these options are
loaded, so that warning messages about these deprecated options appear
in logs.

This change also removes these deprecated options from the example
rootwrap conf file.

[1] a6dbf97242caa3be646e8eb6b1502b5e59e123fd

Change-Id: Id024dabf276e492268e723e526d7a787156eb9c1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/769064/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/opts.py', 'neutron/conf/agent/xenapi_conf.py', 'etc/rootwrap.conf']",3,459716e644e1e2f245cc61b6c14a78f253c5c592,xenapi,, [xenapi] # XenAPI configuration is only required by the L2 agent if it is to # target a XenServer/XCP compute host's dom0. xenapi_connection_url=<None> xenapi_connection_username=root xenapi_connection_password=<None>,13,7
openstack%2Fneutron~master~Id5d8ac09a38c656619f88a6f87b8f384fe4c55a8,openstack/neutron,master,Id5d8ac09a38c656619f88a6f87b8f384fe4c55a8,Improve the CIDRs overlap check method for router add interface,MERGED,2020-11-08 07:16:16.000000000,2021-01-10 15:32:54.000000000,2021-01-10 15:31:26.000000000,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-11-08 07:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d9b5a7b4c7eebd54a02a969b6c301eda96c77f8e', 'message': ""[WIP] Modify '_check_for_dup_router_subnets' to achieve more strict cidrs overlap check\n\nChange-Id: Id5d8ac09a38c656619f88a6f87b8f384fe4c55a8\nCloses-Bug: #1903433\n""}, {'number': 2, 'created': '2020-11-15 07:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cac6d7ed0a775ca692fe1060fffe32df321a1d65', 'message': ""Improve the CIDRs overlap checking method for router interface\n\nIf a external network have multiple subnets, the router whose\nexternal gateway at the network will have all routes about those\nsubnets. So, when a internal subnet be added to the router, all subnets\nof the the network which the router's external gateway belong to need\nto be joined to check whether the CIDRs is overlap.\n\nAlso, this patch revert the patch [1]\n[1] https://review.opendev.org/#/c/473356/\n\nChange-Id: Id5d8ac09a38c656619f88a6f87b8f384fe4c55a8\nCloses-Bug: #1903433\n""}, {'number': 3, 'created': '2020-11-22 08:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/06ceffd5516b85621a5907aa29952e131236848c', 'message': ""Improve the CIDRs overlap checking method for router interface\n\nIf a external network have multiple subnets, the router whose\nexternal gateway at the network will have all routes about those\nsubnets. So, when a internal subnet be added to the router, all subnets\nof the the network which the router's external gateway belong to need\nto be joined to check whether the CIDRs is overlap.\n\nAlso, this patch revert the patch [1]\n[1] https://review.opendev.org/#/c/473356/\n\nChange-Id: Id5d8ac09a38c656619f88a6f87b8f384fe4c55a8\nCloses-Bug: #1903433\nDepends-On: https://review.opendev.org/763621\nDepends-On: https://review.opendev.org/763626\n""}, {'number': 4, 'created': '2020-11-23 00:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e9b19dc2f0916f28f8948b6e577050ab91866c4', 'message': ""Improve the CIDRs overlap check method for router add interface\n\nIf a external network have multiple subnets, the router whose\nexternal gateway at the network will have all routes about those\nsubnets. So, when a internal subnet be added to the router, all subnets\nof the the network which the router's external gateway belong to need\nto be joined to check whether the CIDRs is overlap.\n\nAlso, this patch revert the patch [1]\n[1] https://review.opendev.org/#/c/473356/\n\nChange-Id: Id5d8ac09a38c656619f88a6f87b8f384fe4c55a8\nCloses-Bug: #1903433\nDepends-On: https://review.opendev.org/763621\nDepends-On: https://review.opendev.org/763626\n""}, {'number': 5, 'created': '2020-11-26 12:12:27.000000000', 'files': ['neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8ebd54d1bcb6d4437cf9501f1c5993177747fac2', 'message': ""Improve the CIDRs overlap check method for router add interface\n\nIf an external network have multiple subnets, the router whose\nexternal gateway at the network will have all routes about those\nsubnets. So, when a internal subnet was added to the router, all\nsubnets of the the network which the router's external gateway\nbelong to need to be joined to check whether the CIDRs is\noverlapped.\n\nAlso, this patch revert the patch [1]\n[1] https://review.opendev.org/#/c/473356/\n\nChange-Id: Id5d8ac09a38c656619f88a6f87b8f384fe4c55a8\nCloses-Bug: #1903433\nDepends-On: https://review.opendev.org/763621\nDepends-On: https://review.opendev.org/763626\n""}]",15,761829,8ebd54d1bcb6d4437cf9501f1c5993177747fac2,82,9,5,28329,,,0,"Improve the CIDRs overlap check method for router add interface

If an external network have multiple subnets, the router whose
external gateway at the network will have all routes about those
subnets. So, when a internal subnet was added to the router, all
subnets of the the network which the router's external gateway
belong to need to be joined to check whether the CIDRs is
overlapped.

Also, this patch revert the patch [1]
[1] https://review.opendev.org/#/c/473356/

Change-Id: Id5d8ac09a38c656619f88a6f87b8f384fe4c55a8
Closes-Bug: #1903433
Depends-On: https://review.opendev.org/763621
Depends-On: https://review.opendev.org/763626
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/761829/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_db.py'],1,d9b5a7b4c7eebd54a02a969b6c301eda96c77f8e,bug/1903433," subnets) network_id, new_subnets): if p.get('device_owner') == DEVICE_OWNER_ROUTER_GW: ext_subts = self._core_plugin.get_subnets( context.elevated(), filters={'network_id': p['network_id']}) for sub in ext_subts: router_subnets.append(sub['id'])"," subnets, include_gateway=True) network_id, new_subnets, include_gateway=False): gw_owner = (p.get('device_owner') == DEVICE_OWNER_ROUTER_GW) if include_gateway == gw_owner: router_subnets.append(ip['subnet_id'])",8,7
openstack%2Fnova~stable%2Fussuri~Id4ebb06e634a612c8be4be6c678d8265e0b99730,openstack/nova,stable/ussuri,Id4ebb06e634a612c8be4be6c678d8265e0b99730,Update pci stat pools based on PCI device changes,MERGED,2020-11-06 06:23:27.000000000,2021-01-10 09:51:43.000000000,2021-01-10 09:50:22.000000000,"[{'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-11-06 06:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4116c518de54cddbb9d8b4da62d7ab33ad93ff57', 'message': 'Update pci stat pools based on PCI device changes\n\nAt start up of nova-compute service, the PCI stat pools are\npopulated based on information in pci_devices table in Nova\ndatabase. The pools are updated only when new device is added\nor removed but not on any device changes like device type.\n\nIf an existing device is configured as SRIOV and nova-compute\nis restarted, the pci_devices table gets updated but the device\nis still listed under the old pool in pci_tracker.stats.pool\n(in-memory object).\n\nThis patch looks for device type updates in existing devices\nand updates the pools accordingly.\n\nConflicts:\n      nova/tests/functional/libvirt/test_pci_sriov_servers.py\n      nova/tests/unit/virt/libvirt/fakelibvirt.py\n\nTo avoid the conflicts and make the new functional test execute,\nfollowing changes are performed\n- Modified the Neutron fixture to use LibvirtNeutron fixture.\n- nova/tests/functional/libvirt/base.py is modified to include\ntenant_id in the port body.\n\nChange-Id: Id4ebb06e634a612c8be4be6c678d8265e0b99730\nCloses-Bug: #1892361\n(cherry picked from commit b8695de6da56db42b83b9d9d4c330148766644be)\n'}, {'number': 2, 'created': '2020-12-01 05:12:15.000000000', 'files': ['nova/pci/manager.py', 'nova/tests/unit/pci/test_stats.py', 'releasenotes/notes/bug-1892361-pci-deivce-type-update-c407a66fd37f6405.yaml', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/pci/stats.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f58399cf496566e39d11f82a61e0b47900f2eafa', 'message': 'Update pci stat pools based on PCI device changes\n\nAt start up of nova-compute service, the PCI stat pools are\npopulated based on information in pci_devices table in Nova\ndatabase. The pools are updated only when new device is added\nor removed but not on any device changes like device type.\n\nIf an existing device is configured as SRIOV and nova-compute\nis restarted, the pci_devices table gets updated but the device\nis still listed under the old pool in pci_tracker.stats.pool\n(in-memory object).\n\nThis patch looks for device type updates in existing devices\nand updates the pools accordingly.\n\nConflicts:\n      nova/tests/functional/libvirt/test_pci_sriov_servers.py\n      nova/tests/unit/virt/libvirt/fakelibvirt.py\n\nTo avoid the conflicts and make the new functional test execute,\nfollowing changes are performed\n- Modified the Neutron fixture to use LibvirtNeutron fixture.\n- nova/tests/functional/libvirt/base.py is modified to include\ntenant_id in the port body.\n\nChange-Id: Id4ebb06e634a612c8be4be6c678d8265e0b99730\nCloses-Bug: #1892361\n(cherry picked from commit b8695de6da56db42b83b9d9d4c330148766644be)\n(cherry picked from commit d8b8a8193b6b8228f6e7d6bde68b5ea6bb53dd8b)\n'}]",10,761701,f58399cf496566e39d11f82a61e0b47900f2eafa,55,17,2,10366,,,0,"Update pci stat pools based on PCI device changes

At start up of nova-compute service, the PCI stat pools are
populated based on information in pci_devices table in Nova
database. The pools are updated only when new device is added
or removed but not on any device changes like device type.

If an existing device is configured as SRIOV and nova-compute
is restarted, the pci_devices table gets updated but the device
is still listed under the old pool in pci_tracker.stats.pool
(in-memory object).

This patch looks for device type updates in existing devices
and updates the pools accordingly.

Conflicts:
      nova/tests/functional/libvirt/test_pci_sriov_servers.py
      nova/tests/unit/virt/libvirt/fakelibvirt.py

To avoid the conflicts and make the new functional test execute,
following changes are performed
- Modified the Neutron fixture to use LibvirtNeutron fixture.
- nova/tests/functional/libvirt/base.py is modified to include
tenant_id in the port body.

Change-Id: Id4ebb06e634a612c8be4be6c678d8265e0b99730
Closes-Bug: #1892361
(cherry picked from commit b8695de6da56db42b83b9d9d4c330148766644be)
(cherry picked from commit d8b8a8193b6b8228f6e7d6bde68b5ea6bb53dd8b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/761701/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/pci/manager.py', 'nova/tests/unit/pci/test_stats.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'releasenotes/notes/bug-1892361-pci-deivce-type-update-c407a66fd37f6405.yaml', 'nova/tests/functional/libvirt/base.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/pci/stats.py']",7,4116c518de54cddbb9d8b4da62d7ab33ad93ff57,bug/1892361," def _get_pool_with_device_type_mismatch(self, dev): """"""Check for device type mismatch in the pools for a given device. Return (pool, device) if device type does not match or a single None if the device type matches. """""" for pool in self.pools: for device in pool['devices']: if device.address == dev.address: if dev.dev_type != pool[""dev_type""]: return pool, device return None return None def update_device(self, dev): """"""Update a device to its matching pool."""""" pool_device_info = self._get_pool_with_device_type_mismatch(dev) if pool_device_info is None: return pool, device = pool_device_info pool['devices'].remove(device) self._decrease_pool_count(self.pools, pool) self.add_device(dev) ",,256,40
openstack%2Fnova~master~Id2d8d72d30075200d2b07b847c4e5568599b0d3b,openstack/nova,master,Id2d8d72d30075200d2b07b847c4e5568599b0d3b,only wait for plugtime events in pre-live-migration,MERGED,2020-12-16 15:19:31.000000000,2021-01-10 06:56:12.000000000,2021-01-10 06:54:17.000000000,"[{'_account_id': 7634}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-16 15:19:31.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/network/model.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8b33ac064456482158b23c2a2d52f819ebb4c60e', 'message': 'only wait for plugtime events in pre-live-migration\n\nThis change modifies _get_neutron_events_for_live_migration\nto filter the event to just the subset that will be sent\nat plug-time.\n\nCurrently neuton has a bug where by the dhcp agent\nsend a network-vif-plugged event during live migration after\nwe update the port profile with ""migrating-to:""\nthis cause a network-vif-plugged event to be sent for\nconfiguration where vif_plugging in nova/os-vif is a noop.\n\nwhen that is corrected the current logic in nova cause the migration\nto time out as its waiting for an event that will never arrive.\n\nThis change filters the set of events we wait for to just the plug\ntime events.\n\nRelated-Bug: #1815989\nCloses-Bug: #1901707\nChange-Id: Id2d8d72d30075200d2b07b847c4e5568599b0d3b\n'}]",1,767368,8b33ac064456482158b23c2a2d52f819ebb4c60e,50,6,1,11604,,,0,"only wait for plugtime events in pre-live-migration

This change modifies _get_neutron_events_for_live_migration
to filter the event to just the subset that will be sent
at plug-time.

Currently neuton has a bug where by the dhcp agent
send a network-vif-plugged event during live migration after
we update the port profile with ""migrating-to:""
this cause a network-vif-plugged event to be sent for
configuration where vif_plugging in nova/os-vif is a noop.

when that is corrected the current logic in nova cause the migration
to time out as its waiting for an event that will never arrive.

This change filters the set of events we wait for to just the plug
time events.

Related-Bug: #1815989
Closes-Bug: #1901707
Change-Id: Id2d8d72d30075200d2b07b847c4e5568599b0d3b
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/767368/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/network/model.py', 'nova/compute/manager.py']",3,8b33ac064456482158b23c2a2d52f819ebb4c60e,bug/1901707," def _get_neutron_events_for_live_migration(instance, migration): return (instance.get_network_info() .get_live_migration_plug_time_events()) events = self._get_neutron_events_for_live_migration( instance, migration)"," def _get_neutron_events_for_live_migration(instance): return [('network-vif-plugged', vif['id']) for vif in instance.get_network_info()] events = self._get_neutron_events_for_live_migration(instance)",53,15
openstack%2Fnova~master~I7b883348bb610a435ee1b79e921da0e698037534,openstack/nova,master,I7b883348bb610a435ee1b79e921da0e698037534,Remove dead code from SchedulerReportClient,MERGED,2021-01-06 08:21:20.000000000,2021-01-10 03:32:17.000000000,2021-01-10 03:15:43.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-01-06 08:21:20.000000000', 'files': ['nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6c6bca032699329d3ee76c2d6133925bcd42c631', 'message': 'Remove dead code from SchedulerReportClient\n\nThe commit fd351903a1759109f66d0c66d42cd3a1b7f23861 removed the last\nreal user of get_allocations_for_consumer_by_provider() so this function\nis now removed.\n\nChange-Id: I7b883348bb610a435ee1b79e921da0e698037534\n'}]",1,769467,6c6bca032699329d3ee76c2d6133925bcd42c631,55,5,1,9708,,,0,"Remove dead code from SchedulerReportClient

The commit fd351903a1759109f66d0c66d42cd3a1b7f23861 removed the last
real user of get_allocations_for_consumer_by_provider() so this function
is now removed.

Change-Id: I7b883348bb610a435ee1b79e921da0e698037534
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/769467/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/client/report.py'],1,6c6bca032699329d3ee76c2d6133925bcd42c631,dead_code,," def get_allocations_for_consumer_by_provider(self, context, rp_uuid, consumer): """"""Return allocations for a consumer and a resource provider. :param context: The nova.context.RequestContext auth context :param rp_uuid: UUID of the resource provider :param consumer: UUID of the consumer :return: the resources dict of the consumer's allocation keyed by resource classes """""" # NOTE(cdent): This trims to just the allocations being # used on this resource provider. In the future when there # are shared resources there might be other providers. allocations = self.get_allocations_for_consumer(context, consumer) if allocations is None: # safe_connect can return None on 404 allocations = {} return allocations.get( rp_uuid, {}).get('resources', {}) ",0,20
openstack%2Fneutron~master~I4b03151ed10b1c5af36fd803e96e9d2f95e88247,openstack/neutron,master,I4b03151ed10b1c5af36fd803e96e9d2f95e88247,"Implement ""FdbInterface"" with Pyroute2",MERGED,2020-11-19 17:11:22.000000000,2021-01-10 02:38:20.000000000,2021-01-10 02:36:57.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-11-19 17:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/31c73f7ae92d8ffa7093620f155602ee7ae69c9e', 'message': 'Implement ""BridgeDevice"" with Pyroute2\n\nChange-Id: I4b03151ed10b1c5af36fd803e96e9d2f95e88247\nStory: #2007686\nTask: #39975\n'}, {'number': 2, 'created': '2020-11-19 17:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f1cadc05d47e7f04d0f6b6ca551783b6f58e8441', 'message': 'Implement ""BridgeDevice"" with Pyroute2\n\nChange-Id: I4b03151ed10b1c5af36fd803e96e9d2f95e88247\nStory: #2007686\nTask: #39975\n'}, {'number': 3, 'created': '2020-11-20 09:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9a0f2e1139567b9a583c443abcfc82ab206a12d3', 'message': 'Implement ""BridgeDevice"" with Pyroute2\n\nChange-Id: I4b03151ed10b1c5af36fd803e96e9d2f95e88247\nStory: #2007686\nTask: #39975\n'}, {'number': 4, 'created': '2020-11-20 10:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/900ddd146b3b7d2f8cf870418e2ffac01592ee3d', 'message': 'Implement ""BridgeDevice"" with Pyroute2\n\nChange-Id: I4b03151ed10b1c5af36fd803e96e9d2f95e88247\nStory: #2007686\nTask: #39975\n'}, {'number': 5, 'created': '2020-11-23 11:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/595d2cd5fdf3e1a9478a412a49d822cd7fba73fc', 'message': 'Implement ""BridgeDevice"" with Pyroute2\n\nChange-Id: I4b03151ed10b1c5af36fd803e96e9d2f95e88247\nStory: #2007686\nTask: #39975\n'}, {'number': 6, 'created': '2020-11-24 12:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a2961f5db0d90f02bc2286e9d99233abe83fc5c1', 'message': 'Implement ""BridgeDevice"" with Pyroute2\n\nChange-Id: I4b03151ed10b1c5af36fd803e96e9d2f95e88247\nStory: #2007686\nTask: #39975\n'}, {'number': 7, 'created': '2020-12-09 20:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/40b3507a011c20af4ed94d7f4d9e6bf5e5cdf4f2', 'message': 'Implement ""BridgeDevice"" with Pyroute2\n\nChange-Id: I4b03151ed10b1c5af36fd803e96e9d2f95e88247\nStory: #2007686\nTask: #39975\n'}, {'number': 8, 'created': '2020-12-11 15:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab329a89535c952fa623185dc48dee04a94ed379', 'message': 'Implement ""BridgeDevice"" with Pyroute2\n\nChange-Id: I4b03151ed10b1c5af36fd803e96e9d2f95e88247\nStory: #2007686\nTask: #39975\n'}, {'number': 9, 'created': '2020-12-13 22:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9acec879e8957375ad02079c74941294096b7cfe', 'message': '[WIP] Implement ""BridgeDevice"" with Pyroute2\n\nChange-Id: I4b03151ed10b1c5af36fd803e96e9d2f95e88247\nStory: #2007686\nTask: #39975\n'}, {'number': 10, 'created': '2020-12-14 09:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2988a74c599af9b6865a446913ac4d5340ca485e', 'message': '[WIP] Implement ""BridgeDevice"" with Pyroute2\n\nChange-Id: I4b03151ed10b1c5af36fd803e96e9d2f95e88247\nStory: #2007686\nTask: #39975\n'}, {'number': 11, 'created': '2020-12-15 09:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/31d18d091826fb0b4b1a2805af01dc81dc0b5176', 'message': '[WIP] Implement ""BridgeDevice"" with Pyroute2\n\nChange-Id: I4b03151ed10b1c5af36fd803e96e9d2f95e88247\nStory: #2007686\nTask: #39975\n'}, {'number': 12, 'created': '2020-12-15 16:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/880e03c236806943d20be57f60859110abd032d1', 'message': '[WIP] Implement ""BridgeDevice"" with Pyroute2\n\nChange-Id: I4b03151ed10b1c5af36fd803e96e9d2f95e88247\nStory: #2007686\nTask: #39975\n'}, {'number': 13, 'created': '2020-12-17 08:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dc8210e5584b54f9c5021c7ba88d809b1529071b', 'message': '[WIP] Implement ""BridgeDevice"" with Pyroute2\n\nChange-Id: I4b03151ed10b1c5af36fd803e96e9d2f95e88247\nStory: #2007686\nTask: #39975\n'}, {'number': 14, 'created': '2020-12-17 12:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/21567c51c15a082325569928738e7f5d77f3a9a3', 'message': '[WIP] Implement ""BridgeDevice"" with Pyroute2\n\nChange-Id: I4b03151ed10b1c5af36fd803e96e9d2f95e88247\nStory: #2007686\nTask: #39975\n'}, {'number': 15, 'created': '2020-12-18 08:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4dea57d4949ce483a2870ce33d2c7954ae48cf83', 'message': 'Implement ""BridgeDevice"" with Pyroute2\n\nChange-Id: I4b03151ed10b1c5af36fd803e96e9d2f95e88247\nStory: #2007686\nTask: #39975\n'}, {'number': 16, 'created': '2020-12-22 17:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9695d7b142d161e0f4c790d7a3f51c19f79973e0', 'message': 'Implement ""FdbInterface"" with Pyroute2\n\nChange-Id: I4b03151ed10b1c5af36fd803e96e9d2f95e88247\nStory: #2007686\nTask: #41494\n'}, {'number': 17, 'created': '2020-12-23 14:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f2b819a11984d00c4b7c6cba4e2660e794c2ffc8', 'message': 'Implement ""FdbInterface"" with Pyroute2\n\nChange-Id: I4b03151ed10b1c5af36fd803e96e9d2f95e88247\nStory: #2007686\nTask: #41494\n'}, {'number': 18, 'created': '2020-12-24 17:02:39.000000000', 'files': ['neutron/plugins/ml2/drivers/linuxbridge/agent/linuxbridge_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/linuxbridge/agent/test_linuxbridge_neutron_agent.py', 'neutron/agent/linux/bridge_lib.py', 'neutron/tests/unit/agent/l2/extensions/test_fdb_population.py', 'neutron/tests/functional/agent/linux/test_bridge_lib.py', 'neutron/privileged/agent/linux/ip_lib.py', 'neutron/tests/functional/agent/linux/test_tc_lib.py', 'neutron/agent/l2/extensions/fdb_population.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3df21ee4727d9e9c43fa11670637c5f697b2c0c3', 'message': 'Implement ""FdbInterface"" with Pyroute2\n\nChange-Id: I4b03151ed10b1c5af36fd803e96e9d2f95e88247\nStory: #2007686\nTask: #41494\n'}]",41,763410,3df21ee4727d9e9c43fa11670637c5f697b2c0c3,132,8,18,16688,,,0,"Implement ""FdbInterface"" with Pyroute2

Change-Id: I4b03151ed10b1c5af36fd803e96e9d2f95e88247
Story: #2007686
Task: #41494
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/763410/17 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/bridge_lib.py', 'neutron/tests/functional/agent/linux/test_bridge_lib.py', 'neutron/privileged/agent/linux/ip_lib.py', 'neutron/agent/l2/extensions/fdb_population.py']",4,31c73f7ae92d8ffa7093620f155602ee7ae69c9e,task/41494,"from pyroute2.netlink import exceptions as netlink_exceptions except (RuntimeError, netlink_exceptions.NetlinkError) as e: except (RuntimeError, netlink_exceptions.NetlinkError) as e:", except RuntimeError as e: except RuntimeError as e:,204,61
openstack%2Fnova~stable%2Fvictoria~Ie15ec8299ae52ae8f5334d591ed3944e9585cf71,openstack/nova,stable/victoria,Ie15ec8299ae52ae8f5334d591ed3944e9585cf71,Warn when starting services with older than N-1 computes,MERGED,2020-11-09 13:53:00.000000000,2021-01-10 01:56:10.000000000,2021-01-10 01:54:35.000000000,"[{'_account_id': 4393}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-11-09 13:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74f9a041c34e741dbf62c33bb08c500f9096984d', 'message': ""Warn when starting services with older than N-1 computes\n\nNova services only support computes that are not older than\nthe previous major release. This patch introduces a check in the\nservice startup that warns at staring the service if too old computes\nare detected.\n\nThis is a partial backport from master. As we agreed on the Wallaby PTG\n[1] we would like to backport the check but we don't want to make it a\nhard failure of the service startup as that felt too harsh for a stable\nbranch. So this patch changes the behavior from hard failure to emitting\na warning in the log.\n\n[1] https://etherpad.opendev.org/p/nova-wallaby-ptg\n\nChange-Id: Ie15ec8299ae52ae8f5334d591ed3944e9585cf71\n(cherry picked from commit aa7c6f87699ec1340bd446a7d47e1453847a637f)\n""}, {'number': 2, 'created': '2020-11-09 15:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a98a37754c836002994ac0330848e6d47f095550', 'message': ""Warn when starting services with older than N-1 computes\n\nNova services only support computes that are not older than\nthe previous major release. This patch introduces a check in the\nservice startup that warns at staring the service if too old computes\nare detected.\n\nThis is a partial backport from master. As we agreed on the Wallaby PTG\n[1] we would like to backport the check but we don't want to make it a\nhard failure of the service startup as that felt too harsh for a stable\nbranch. So this patch changes the behavior from hard failure to emitting\na warning in the log.\n\n[1] https://etherpad.opendev.org/p/nova-wallaby-ptg\n\nCloses-Bug: #1903545\n\nChange-Id: Ie15ec8299ae52ae8f5334d591ed3944e9585cf71\n(cherry picked from commit aa7c6f87699ec1340bd446a7d47e1453847a637f)\n""}, {'number': 3, 'created': '2020-11-13 10:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/311e5267a69dd0591ebf3591843f830045625ce6', 'message': ""Warn when starting services with older than N-1 computes\n\nNova services only support computes that are not older than\nthe previous major release. This patch introduces a check in the\nservice startup that warns at staring the service if too old computes\nare detected.\n\nThis is a partial backport from master. As we agreed on the Wallaby PTG\n[1] we would like to backport the check but we don't want to make it a\nhard failure of the service startup as that felt too harsh for a stable\nbranch. So this patch changes the behavior from hard failure to emitting\na warning in the log.\n\n[1] https://etherpad.opendev.org/p/nova-wallaby-ptg\n\nCloses-Bug: #1903545\n\nChange-Id: Ie15ec8299ae52ae8f5334d591ed3944e9585cf71\n(cherry picked from commit aa7c6f87699ec1340bd446a7d47e1453847a637f)\n""}, {'number': 4, 'created': '2020-11-24 12:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66ef3fee1666f2c7706cf47479d2bdc02f7127e8', 'message': ""Warn when starting services with older than N-1 computes\n\nNova services only support computes that are not older than\nthe previous major release. This patch introduces a check in the\nservice startup that warns at staring the service if too old computes\nare detected.\n\nThis is a partial backport from master. As we agreed on the Wallaby PTG\n[1] we would like to backport the check but we don't want to make it a\nhard failure of the service startup as that felt too harsh for a stable\nbranch. So this patch changes the behavior from hard failure to emitting\na warning in the log.\n\nThis commit also contains two bugfixes from master squashed into it to\navoid merging broken code:\n\n* Improve error handling during service level check\n  Change-Id: I89cdf3852266ed93a2ac7cd6261fe269932026ac\n  cherry picked from commit 3b44275868e08992a36e9163f533d689f27a0119\n\n* Restore retrying the RPC connection to conductor\n  Change-Id: Iad0ba1a02868eebc2f43b1ac843fcc5096cd5c47\n  cherry picked from commit 433bee58bc8d7d65edb6a0805021e51972e6bed6\n\n  Conflicts:\n      nova/service.py due to Ie15ec8299ae52ae8f5334d591ed3944e9585cf71\n      being only a partial backport to stable/victoria\n\n[1] https://etherpad.opendev.org/p/nova-wallaby-ptg\n\nCloses-Bug: #1903545\nRelated-Bug: #1871482\nCloses-Bug: #1904181\n\nChange-Id: Ie15ec8299ae52ae8f5334d591ed3944e9585cf71\n(cherry picked from commit aa7c6f87699ec1340bd446a7d47e1453847a637f)\n""}, {'number': 5, 'created': '2021-01-05 17:12:33.000000000', 'files': ['releasenotes/notes/warn-when-services-started-with-old-compute-fc80b4ff58a2aaea.yaml', 'nova/api/openstack/wsgi_app.py', 'nova/objects/service.py', 'nova/tests/unit/api/openstack/test_requestlog.py', 'nova/tests/unit/test_utils.py', 'nova/tests/unit/test_fixtures.py', 'nova/tests/functional/test_service.py', 'nova/service.py', 'nova/tests/unit/test_service.py', 'nova/exception.py', 'doc/source/contributor/ptl-guide.rst', 'nova/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0c5ca351e27ca74610478d8af9777de0db5c0acc', 'message': ""Warn when starting services with older than N-1 computes\n\nNova services only support computes that are not older than\nthe previous major release. This patch introduces a check in the\nservice startup that warns at staring the service if too old computes\nare detected.\n\nThis is a partial backport from master. As we agreed on the Wallaby PTG\n[1] we would like to backport the check but we don't want to make it a\nhard failure of the service startup as that felt too harsh for a stable\nbranch. So this patch changes the behavior from hard failure to emitting\na warning in the log.\n\nThis commit also contains two bugfixes from master squashed into it to\navoid merging broken code:\n\n* Improve error handling during service level check\n  Change-Id: I89cdf3852266ed93a2ac7cd6261fe269932026ac\n  cherry picked from commit 3b44275868e08992a36e9163f533d689f27a0119\n\n* Restore retrying the RPC connection to conductor\n  Change-Id: Iad0ba1a02868eebc2f43b1ac843fcc5096cd5c47\n  cherry picked from commit 433bee58bc8d7d65edb6a0805021e51972e6bed6\n\n  Conflicts:\n      nova/service.py due to Ie15ec8299ae52ae8f5334d591ed3944e9585cf71\n      being only a partial backport to stable/victoria\n\n[1] https://etherpad.opendev.org/p/nova-wallaby-ptg\n\nCloses-Bug: #1903545\nRelated-Bug: #1871482\nCloses-Bug: #1904181\n\nChange-Id: Ie15ec8299ae52ae8f5334d591ed3944e9585cf71\n(cherry picked from commit aa7c6f87699ec1340bd446a7d47e1453847a637f)\n""}]",3,761923,0c5ca351e27ca74610478d8af9777de0db5c0acc,78,10,5,9708,,,0,"Warn when starting services with older than N-1 computes

Nova services only support computes that are not older than
the previous major release. This patch introduces a check in the
service startup that warns at staring the service if too old computes
are detected.

This is a partial backport from master. As we agreed on the Wallaby PTG
[1] we would like to backport the check but we don't want to make it a
hard failure of the service startup as that felt too harsh for a stable
branch. So this patch changes the behavior from hard failure to emitting
a warning in the log.

This commit also contains two bugfixes from master squashed into it to
avoid merging broken code:

* Improve error handling during service level check
  Change-Id: I89cdf3852266ed93a2ac7cd6261fe269932026ac
  cherry picked from commit 3b44275868e08992a36e9163f533d689f27a0119

* Restore retrying the RPC connection to conductor
  Change-Id: Iad0ba1a02868eebc2f43b1ac843fcc5096cd5c47
  cherry picked from commit 433bee58bc8d7d65edb6a0805021e51972e6bed6

  Conflicts:
      nova/service.py due to Ie15ec8299ae52ae8f5334d591ed3944e9585cf71
      being only a partial backport to stable/victoria

[1] https://etherpad.opendev.org/p/nova-wallaby-ptg

Closes-Bug: #1903545
Related-Bug: #1871482
Closes-Bug: #1904181

Change-Id: Ie15ec8299ae52ae8f5334d591ed3944e9585cf71
(cherry picked from commit aa7c6f87699ec1340bd446a7d47e1453847a637f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/761923/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/warn-when-services-started-with-old-compute-fc80b4ff58a2aaea.yaml', 'nova/api/openstack/wsgi_app.py', 'nova/objects/service.py', 'nova/tests/unit/api/openstack/test_requestlog.py', 'nova/tests/unit/test_utils.py', 'nova/tests/unit/test_fixtures.py', 'nova/tests/functional/test_service.py', 'nova/service.py', 'nova/tests/unit/test_service.py', 'nova/exception.py', 'doc/source/contributor/ptl-guide.rst', 'nova/utils.py']",12,74f9a041c34e741dbf62c33bb08c500f9096984d,bug/1904181," def raise_if_old_compute(): # to avoid circular imports from nova import context as nova_context from nova.objects import service ctxt = nova_context.get_admin_context() if CONF.api_database.connection is not None: scope = 'system' current_service_version = service.get_minimum_version_all_cells( ctxt, ['nova-compute']) else: scope = 'cell' # We in a cell so target our query to the current cell only current_service_version = service.Service.get_minimum_version( ctxt, 'nova-compute') if current_service_version == 0: # 0 means no compute in the system, # probably a fresh install before the computes are registered return oldest_supported_service_level = service.SERVICE_VERSION_ALIASES[ service.OLDEST_SUPPORTED_SERVICE_VERSION] if current_service_version < oldest_supported_service_level: raise exception.TooOldComputeService( oldest_supported_version=service.OLDEST_SUPPORTED_SERVICE_VERSION, scope=scope, min_service_level=current_service_version, oldest_supported_service=oldest_supported_service_level)",,182,1
openstack%2Fpython-tripleoclient~master~I1e08eb07ce1f0d138f9c5101b9fe770c5da9b3f9,openstack/python-tripleoclient,master,I1e08eb07ce1f0d138f9c5101b9fe770c5da9b3f9,Remove tripleo_validator from tripleoclient,MERGED,2020-12-11 22:00:58.000000000,2021-01-10 00:16:00.000000000,2021-01-10 00:14:41.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-12-11 22:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b97b239ec3cb90fccf3e60fe78d8198704dc2be8', 'message': 'Remove tripleo_validator from tripleoclient\n\nThis patch remove tripleo validator from tripleoclient to\ntripleo-validations repository.\nThe change is related to the effort to make the validation\nact as a plugin/component on top of tripleo and not being\npart of the core of tripleo.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-validations/+/766818\nChange-Id: I1e08eb07ce1f0d138f9c5101b9fe770c5da9b3f9\n'}, {'number': 2, 'created': '2020-12-14 09:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6c8bb4b43a91671a27879433b786269043f634c0', 'message': 'Remove tripleo_validator from tripleoclient\n\nThis patch remove tripleo validator from tripleoclient to\ntripleo-validations repository.\nThe change is related to the effort to make the validation\nact as a plugin/component on top of tripleo and not being\npart of the core of tripleo.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-validations/+/766818\nChange-Id: I1e08eb07ce1f0d138f9c5101b9fe770c5da9b3f9\n'}, {'number': 3, 'created': '2020-12-14 11:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5308864ffc141a5eb769889b2e1871db67d476bb', 'message': 'Remove tripleo_validator from tripleoclient\n\nThis patch remove tripleo validator from tripleoclient to\ntripleo-validations repository.\nThe change is related to the effort to make the validation\nact as a plugin/component on top of tripleo and not being\npart of the core of tripleo.\n\nChange-Id: I1e08eb07ce1f0d138f9c5101b9fe770c5da9b3f9\n'}, {'number': 4, 'created': '2021-01-07 16:07:55.000000000', 'files': ['tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/v1/tripleo_validator.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4b1440bd006a7985a1769589e9dff4afbb92b87d', 'message': 'Remove tripleo_validator from tripleoclient\n\nThis patch remove tripleo validator from tripleoclient to\ntripleo-validations repository.\nThe change is related to the effort to make the validation\nact as a plugin/component on top of tripleo and not being\npart of the core of tripleo.\n\nChange-Id: I1e08eb07ce1f0d138f9c5101b9fe770c5da9b3f9\n'}]",1,766820,4b1440bd006a7985a1769589e9dff4afbb92b87d,22,7,4,16515,,,0,"Remove tripleo_validator from tripleoclient

This patch remove tripleo validator from tripleoclient to
tripleo-validations repository.
The change is related to the effort to make the validation
act as a plugin/component on top of tripleo and not being
part of the core of tripleo.

Change-Id: I1e08eb07ce1f0d138f9c5101b9fe770c5da9b3f9
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/20/766820/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_validator.py', 'setup.cfg']",2,b97b239ec3cb90fccf3e60fe78d8198704dc2be8,move/validation/cli,, tripleo_validator_group_info = tripleoclient.v1.tripleo_validator:TripleOValidatorGroupInfo tripleo_validator_list = tripleoclient.v1.tripleo_validator:TripleOValidatorList tripleo_validator_run = tripleoclient.v1.tripleo_validator:TripleOValidatorRun tripleo_validator_show = tripleoclient.v1.tripleo_validator:TripleOValidatorShow tripleo_validator_show_history = tripleoclient.v1.tripleo_validator:TripleOValidatorShowHistory tripleo_validator_show_parameter = tripleoclient.v1.tripleo_validator:TripleOValidatorShowParameter tripleo_validator_show_run = tripleoclient.v1.tripleo_validator:TripleOValidatorShowRun,0,484
openstack%2Fneutron~master~Idccbd22a1dc9bef81b2cdae0a597c1a587a60ae0,openstack/neutron,master,Idccbd22a1dc9bef81b2cdae0a597c1a587a60ae0,Do not query the DB if QoS policy ID is None,MERGED,2020-12-24 12:23:33.000000000,2021-01-09 21:42:08.000000000,2021-01-09 21:38:36.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 22348}, {'_account_id': 28182}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-12-24 12:23:33.000000000', 'files': ['neutron/objects/qos/rule.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e81fd2bc0e22cf362f0d311f6e1f1e51c0ce6ed', 'message': 'Do not query the DB if QoS policy ID is None\n\nWhen retrieving the QoS policy rules, if the QoS policy ID passed is\nNone, do not query the DB and return an empty rule list for this\nnon existing QoS policy.\n\nChange-Id: Idccbd22a1dc9bef81b2cdae0a597c1a587a60ae0\n'}]",0,768470,1e81fd2bc0e22cf362f0d311f6e1f1e51c0ce6ed,66,6,1,16688,,,0,"Do not query the DB if QoS policy ID is None

When retrieving the QoS policy rules, if the QoS policy ID passed is
None, do not query the DB and return an empty rule list for this
non existing QoS policy.

Change-Id: Idccbd22a1dc9bef81b2cdae0a597c1a587a60ae0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/768470/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/objects/qos/rule.py'],1,1e81fd2bc0e22cf362f0d311f6e1f1e51c0ce6ed,qos_policy_rule_empty_list, if not qos_policy_id: return all_rules ,,3,0
openstack%2Fneutron~stable%2Ftrain~Idb98850d1ef09e4ae82b42a7f1930b99ae74e0a1,openstack/neutron,stable/train,Idb98850d1ef09e4ae82b42a7f1930b99ae74e0a1,[train] Fix tests with new pip resolver,MERGED,2020-12-16 09:38:26.000000000,2021-01-09 21:42:01.000000000,2021-01-09 21:38:26.000000000,"[{'_account_id': 1131}, {'_account_id': 10135}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-16 09:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/430e0339fbebbcd1404a20658a0d7fb7139d9870', 'message': '[train] Fix tests with new pip resolver\n\nBump minimum keystoneauth1 as openstacksdk needs a newer version\nBump minimum debtcollerctor, ovsdbapp as os-vif needs a newer version\nIn lower-constraints, bump os-service-types and drop cffi\n\nNote that pip is currently broken:\nhttps://github.com/pypa/pip/issues/9180\n\nThis will need to be rebased (and maybe with additional requirements\nchanges) with pip 20.3.3\n\nChange-Id: Idb98850d1ef09e4ae82b42a7f1930b99ae74e0a1\n'}, {'number': 2, 'created': '2020-12-17 03:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a6519ea4f802d6545cac7d855bc8dc8d64a40a9', 'message': '[train] Fix tests with new pip resolver\n\nBump minimum keystoneauth1 as openstacksdk needs a newer version\nBump minimum debtcollector, ovsdbapp as os-vif needs a newer version\nIn lower-constraints, bump os-service-types.\n\nNote that pip is currently broken:\nhttps://github.com/pypa/pip/issues/9180\n\nThis will need to be rebased (and maybe with additional requirements\nchanges) with pip 20.3.3\n\nChange-Id: Idb98850d1ef09e4ae82b42a7f1930b99ae74e0a1\n'}, {'number': 3, 'created': '2020-12-17 03:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4d9c535c201d71dcd6897687654406734ffaa156', 'message': '[train] Fix tests with new pip resolver\n\nBump minimum keystoneauth1 as openstacksdk needs a newer version\nBump minimum debtcollector, ovsdbapp as os-vif needs a newer version\nIn lower-constraints, bump os-service-types.\n\nNote that pip is currently broken:\nhttps://github.com/pypa/pip/issues/9180\n\nThis will need to be rebased (and maybe with additional requirements\nchanges) with pip 20.3.3\n\nChange-Id: Idb98850d1ef09e4ae82b42a7f1930b99ae74e0a1\n'}, {'number': 4, 'created': '2020-12-18 15:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c335cd12a72683b01e11a20313acc43fe12faeb6', 'message': '[train] Fix tests with new pip resolver\n\nBump minimum keystoneauth1 as openstacksdk needs a newer version\nBump minimum debtcollerctor, ovsdbapp as os-vif needs a newer version\nIn lower-constraints, bump os-service-types, and fix pycodestyle bound\nto align with test requirements\n\nChange-Id: Idb98850d1ef09e4ae82b42a7f1930b99ae74e0a1\n'}, {'number': 5, 'created': '2020-12-21 16:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/32514767262740285cbe7805e405c5db37e14c7b', 'message': '[train] Fix tests with new pip resolver\n\nBump minimum keystoneauth1 as openstacksdk needs a newer version\nBump minimum debtcollerctor, ovsdbapp as os-vif needs a newer version\nIn lower-constraints, bump os-service-types, and fix pycodestyle bound\nto align with test requirements\n\nThis change also caps bandit to <= 1.6.2 after the now yanked 1.6.3\nrelease dropped py27 support [1][2]. 1.7.0 has since been released [3]\nbut is still present in the universal wheel and thus will be pulled in\nby py27 incorrectly.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/releases/tag/1.7.0\n\nChange-Id: Idb98850d1ef09e4ae82b42a7f1930b99ae74e0a1\n'}, {'number': 6, 'created': '2021-01-04 16:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5301dac008b00916093e97d82db3059cb0c0797d', 'message': '[train] Fix tests with new pip resolver\n\nBump minimum keystoneauth1 as openstacksdk needs a newer version\nBump minimum debtcollerctor, ovsdbapp as os-vif needs a newer version\nIn lower-constraints, bump os-service-types, and fix pycodestyle bound\nto align with test requirements\n\nThis change also caps bandit to <= 1.6.2 after the now yanked 1.6.3\nrelease dropped py27 support [1][2]. 1.7.0 has since been released [3]\nbut is still present in the universal wheel and thus will be pulled in\nby py27 incorrectly.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/releases/tag/1.7.0\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/768256\nDepends-On: https://review.opendev.org/c/openstack/swift/+/766214\n\nChange-Id: Idb98850d1ef09e4ae82b42a7f1930b99ae74e0a1\n'}, {'number': 7, 'created': '2021-01-05 11:21:33.000000000', 'files': ['requirements.txt', 'test-requirements.txt', '.zuul.yaml', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9416b10136ac4c6ba8943431b6b645f8baecfe6', 'message': '[train] Fix tests with new pip resolver\n\nBump minimum keystoneauth1 as openstacksdk needs a newer version\nBump minimum debtcollerctor, ovsdbapp as os-vif needs a newer version\nIn lower-constraints, bump os-service-types, and fix pycodestyle bound\nto align with test requirements\n\nThis change also caps bandit to <= 1.6.2 after the now yanked 1.6.3\nrelease dropped py27 support [1][2]. 1.7.0 has since been released [3]\nbut is still present in the universal wheel and thus will be pulled in\nby py27 incorrectly.\n\nAlso disable networking-ovn-tempest-dsvm-ovs-release job to allow\nhttps://review.opendev.org/c/openstack/networking-ovn/+/767424 fix to\nmerge (they depend on each other), follow-up patch will restore it\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/releases/tag/1.7.0\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/768256\nDepends-On: https://review.opendev.org/c/openstack/swift/+/766214\n\nChange-Id: Idb98850d1ef09e4ae82b42a7f1930b99ae74e0a1\n'}]",0,767287,c9416b10136ac4c6ba8943431b6b645f8baecfe6,71,4,7,21798,,,0,"[train] Fix tests with new pip resolver

Bump minimum keystoneauth1 as openstacksdk needs a newer version
Bump minimum debtcollerctor, ovsdbapp as os-vif needs a newer version
In lower-constraints, bump os-service-types, and fix pycodestyle bound
to align with test requirements

This change also caps bandit to <= 1.6.2 after the now yanked 1.6.3
release dropped py27 support [1][2]. 1.7.0 has since been released [3]
but is still present in the universal wheel and thus will be pulled in
by py27 incorrectly.

Also disable networking-ovn-tempest-dsvm-ovs-release job to allow
https://review.opendev.org/c/openstack/networking-ovn/+/767424 fix to
merge (they depend on each other), follow-up patch will restore it

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/releases/tag/1.7.0

Depends-On: https://review.opendev.org/c/openstack/devstack/+/768256
Depends-On: https://review.opendev.org/c/openstack/swift/+/766214

Change-Id: Idb98850d1ef09e4ae82b42a7f1930b99ae74e0a1
",git fetch https://review.opendev.org/openstack/neutron refs/changes/87/767287/4 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,430e0339fbebbcd1404a20658a0d7fb7139d9870,fix-pip,debtcollector==1.19.0keystoneauth1==3.14.0os-service-types==1.7.0ovsdbapp==0.12.1,cffi==1.7.0debtcollector==1.2.0keystoneauth1==3.4.0os-service-types==1.2.0ovsdbapp==0.9.1,7,8
openstack%2Fneutron~stable%2Fvictoria~I4e546c0e37146b1f34d8b5e6637c407b0c04ad4d,openstack/neutron,stable/victoria,I4e546c0e37146b1f34d8b5e6637c407b0c04ad4d,fix dhcp bulk reload exceptions,MERGED,2020-12-11 10:38:57.000000000,2021-01-09 21:41:58.000000000,2021-01-09 21:38:19.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26613}]","[{'number': 1, 'created': '2020-12-11 10:38:57.000000000', 'files': ['neutron/agent/dhcp/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a61574f812a7e12fa25ee6933c8ddc595849182', 'message': ""fix dhcp bulk reload exceptions\n\n1886969 - The bulk reload code was written for python2 and caused\nan exception running under python3. This change works under python3.\n\n1890027 - There was an additional exception triggered when\ndeleting networks - reading the network from the cache returned 'None'\nand this was not properly checked before use.\n\nChange-Id: I4e546c0e37146b1f34d8b5e6637c407b0c04ad4d\nCloses-Bug: 1886969\nCloses-Bug: 1890027\nSigned-off-by: Matt Vinall <boyvinall@gmail.com>\n(cherry picked from commit 20b138ff3118029e86f0525695160c4c7ca8b551)\n""}]",0,766698,2a61574f812a7e12fa25ee6933c8ddc595849182,18,4,1,11975,,,0,"fix dhcp bulk reload exceptions

1886969 - The bulk reload code was written for python2 and caused
an exception running under python3. This change works under python3.

1890027 - There was an additional exception triggered when
deleting networks - reading the network from the cache returned 'None'
and this was not properly checked before use.

Change-Id: I4e546c0e37146b1f34d8b5e6637c407b0c04ad4d
Closes-Bug: 1886969
Closes-Bug: 1890027
Signed-off-by: Matt Vinall <boyvinall@gmail.com>
(cherry picked from commit 20b138ff3118029e86f0525695160c4c7ca8b551)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/766698/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/dhcp/agent.py'],1,2a61574f812a7e12fa25ee6933c8ddc595849182,bug/1886969-stable/victoria," # No need to lock access to _network_bulk_allocations because # greenthreads multi-task co-operatively. to_reload = self._network_bulk_allocations.keys() self._network_bulk_allocations = {} for network_id in to_reload: if network is not None: self.call_driver('bulk_reload_allocations', network)"," for network_id in self._network_bulk_allocations.keys(): self.call_driver('bulk_reload_allocations', network) del self._network_bulk_allocations[network_id]",8,3
openstack%2Frequirements~master~I4ca6b708665acbe1a6fdcd245f3392d4cf496662,openstack/requirements,master,I4ca6b708665acbe1a6fdcd245f3392d4cf496662,Updated from generate-constraints,MERGED,2021-01-09 06:28:27.000000000,2021-01-09 16:51:34.000000000,2021-01-09 16:50:32.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-09 06:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/54cf35066d53736de1a7387d75af3d361846d363', 'message': 'Updated from generate-constraints\n\nChange-Id: I4ca6b708665acbe1a6fdcd245f3392d4cf496662\n'}, {'number': 2, 'created': '2021-01-09 06:33:49.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b767e3e11f442b12f29fbcc61ba5188353f8f4f4', 'message': 'Updated from generate-constraints\n\nChange-Id: I4ca6b708665acbe1a6fdcd245f3392d4cf496662\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,770014,b767e3e11f442b12f29fbcc61ba5188353f8f4f4,10,3,2,11131,,,0,"Updated from generate-constraints

Change-Id: I4ca6b708665acbe1a6fdcd245f3392d4cf496662
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/14/770014/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,54cf35066d53736de1a7387d75af3d361846d363,openstack/requirements/constraints/noclob,mock===4.0.3docutils===0.16oslo.db===8.5.0pkg-resources===0.0.0fasteners===0.16virtualenv===20.2.2,mock===3.0.5docutils===0.15.2oslo.db===8.4.0fasteners===0.14.1virtualenv===20.2.1setuptools===51.1.1,6,6
openstack%2Fopenstack-ansible-ops~master~I3391021232d7fdd1f4b86a1e2c428c5943ed0bbe,openstack/openstack-ansible-ops,master,I3391021232d7fdd1f4b86a1e2c428c5943ed0bbe,Fix 'str' vs int comparison,ABANDONED,2021-01-07 09:56:35.000000000,2021-01-09 16:03:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-07 09:56:35.000000000', 'files': ['elk_metrics_7x/createElasticIndexes.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/80f5f4b7ec2998e6ea6a3f99758ee1135eb3b3b1', 'message': ""Fix 'str' vs int comparison\n\nChange-Id: I3391021232d7fdd1f4b86a1e2c428c5943ed0bbe\n""}]",0,769698,80f5f4b7ec2998e6ea6a3f99758ee1135eb3b3b1,3,1,1,25600,,,0,"Fix 'str' vs int comparison

Change-Id: I3391021232d7fdd1f4b86a1e2c428c5943ed0bbe
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/98/769698/1 && git format-patch -1 --stdout FETCH_HEAD,['elk_metrics_7x/createElasticIndexes.yml'],1,80f5f4b7ec2998e6ea6a3f99758ee1135eb3b3b1,," elastic_refresh_interval: ""{{ (_elastic_refresh_interval | int > 0) | ternary(30, _elastic_refresh_interval) }}"""," elastic_refresh_interval: ""{{ (_elastic_refresh_interval > 0) | ternary(30, _elastic_refresh_interval) }}""",1,1
openstack%2Fopenstack-ansible-ops~master~Idd8168cb5139bbbecc152f5977acab645aa6cd1a,openstack/openstack-ansible-ops,master,Idd8168cb5139bbbecc152f5977acab645aa6cd1a,Bump ansible version to 2.10.4,ABANDONED,2021-01-09 15:35:15.000000000,2021-01-09 15:55:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-09 15:35:15.000000000', 'files': ['bootstrap-embedded-ansible/bootstrap-embedded-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/34208ef788ff2ee5a1cc53831ed4702eeaeedb4c', 'message': ""Bump ansible version to 2.10.4\n\nThe tests for bionic are expecting to find bin/ansible-galaxy, but\nit's not included in 2.7.5. Bump ansible version, and make it prefer\npython3 over python2.\n\nChange-Id: Idd8168cb5139bbbecc152f5977acab645aa6cd1a\n""}]",0,770044,34208ef788ff2ee5a1cc53831ed4702eeaeedb4c,3,1,1,25600,,,0,"Bump ansible version to 2.10.4

The tests for bionic are expecting to find bin/ansible-galaxy, but
it's not included in 2.7.5. Bump ansible version, and make it prefer
python3 over python2.

Change-Id: Idd8168cb5139bbbecc152f5977acab645aa6cd1a
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/44/770044/1 && git format-patch -1 --stdout FETCH_HEAD,['bootstrap-embedded-ansible/bootstrap-embedded-ansible.sh'],1,34208ef788ff2ee5a1cc53831ed4702eeaeedb4c,,"export ANSIBLE_VERSION=""${ANSIBLE_VERSION:-2.10.4.0}"" apt-get -y install virtualenv yum install -y python3-virtualenv echo ""done installing virtualenv"" if [[ -f ""/usr/bin/python3"" ]]; then elif [[ -f ""/usr/bin/python2"" ]]; then virtualenv --system-site-packages --python=""/usr/bin/python2"" ""${ANSIBLE_EMBED_HOME}""","export ANSIBLE_VERSION=""${ANSIBLE_VERSION:-2.7.5.0}"" apt-get -y install python-virtualenv yum install -y python-virtualenv echo ""done installing python-virtualenv"" if [[ -f ""/usr/bin/python2"" ]]; then virtualenv --system-site-packages --python=""/usr/bin/python2"" ""${ANSIBLE_EMBED_HOME}"" elif [[ -f ""/usr/bin/python3"" ]]; then",7,7
openstack%2Ftrove~stable%2Ftrain~I2b96aca0f773c819c792e503df79ccbf2d151572,openstack/trove,stable/train,I2b96aca0f773c819c792e503df79ccbf2d151572,[stable-only] Remove link from constraint and cap bandit,NEW,2020-12-16 15:18:11.000000000,2021-01-09 13:30:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-16 15:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b9ce3b5cd3508068336b67782de1483eaae39b94', 'message': '[stable-only] Remove link from constraint and cap bandit\n\nThis patch solves two issues to unblock tooz gate:\n- removes the constraints file for python-troveclient, which contained\n  a link to source, as this does not work anymore with the pip 20.3\n  release.\n- cap bandit, as it fails to install for py27 based jobs, as bandit is\n  released incorrectly universal, however it only supports py3 with the\n  latest releases.\n\nChange-Id: I2b96aca0f773c819c792e503df79ccbf2d151572\n'}, {'number': 2, 'created': '2021-01-09 11:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/29b8062848cb4ec7920c39426a7082cbc671afe0', 'message': '[stable-only] Remove link from constraint and cap bandit\n\nThis patch solves two issues to unblock tooz gate:\n- removes the constraints file for python-troveclient, which contained\n  a link to source, as this does not work anymore with the pip 20.3\n  release.\n- cap bandit, as it fails to install for py27 based jobs, as bandit is\n  released incorrectly universal, however it only supports py3 with the\n  latest releases.\n\nChange-Id: I2b96aca0f773c819c792e503df79ccbf2d151572\n'}, {'number': 3, 'created': '2021-01-09 11:35:12.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'test-upper-constraints.txt', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/trove/commit/00dd06b5eb1ecdd3203e6193172b9b2533cf5cb2', 'message': '[stable-only] Remove link from constraint and cap bandit\n\nThis patch solves two issues to unblock tooz gate:\n- removes the constraints file for python-troveclient, which contained\n  a link to source, as this does not work anymore with the pip 20.3\n  release.\n- cap bandit, as it fails to install for py27 based jobs, as bandit is\n  released incorrectly universal, however it only supports py3 with the\n  latest releases.\n\nChange-Id: I2b96aca0f773c819c792e503df79ccbf2d151572\n'}]",0,767366,00dd06b5eb1ecdd3203e6193172b9b2533cf5cb2,5,1,3,17685,,,0,"[stable-only] Remove link from constraint and cap bandit

This patch solves two issues to unblock tooz gate:
- removes the constraints file for python-troveclient, which contained
  a link to source, as this does not work anymore with the pip 20.3
  release.
- cap bandit, as it fails to install for py27 based jobs, as bandit is
  released incorrectly universal, however it only supports py3 with the
  latest releases.

Change-Id: I2b96aca0f773c819c792e503df79ccbf2d151572
",git fetch https://review.opendev.org/openstack/trove refs/changes/66/767366/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'test-upper-constraints.txt', 'tox.ini']",3,b9ce3b5cd3508068336b67782de1483eaae39b94,,, -c{env:TEST_UPPER_CONSTRAINTS_FILE:{toxinidir}/test-upper-constraints.txt} \,1,3
openstack%2Fansible-collections-openstack~master~I8449075b9a0b39bdc9de8fa94cf238e5e8554875,openstack/ansible-collections-openstack,master,I8449075b9a0b39bdc9de8fa94cf238e5e8554875,Add support for new features,MERGED,2020-12-11 18:38:24.000000000,2021-01-09 13:02:13.000000000,2021-01-09 13:02:13.000000000,"[{'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-11 18:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/25dbaa6b5a5943fee151be08cd4f292b110b0f3e', 'message': 'Add support for new features\n\nStory: 2008432\nTask: 41385\nChange-Id: I8449075b9a0b39bdc9de8fa94cf238e5e8554875\n'}, {'number': 2, 'created': '2020-12-14 08:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c09277ae2b89d485c03589b80c6d726dfa5f13ca', 'message': 'Add support for new features\n\nStory: 2008432\nTask: 41385\nChange-Id: I8449075b9a0b39bdc9de8fa94cf238e5e8554875\n'}, {'number': 3, 'created': '2020-12-14 08:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4b97e11600b6355b02fd29c81ea87ad1d8f2e78f', 'message': 'Add support for new features\n\nStory: 2008432\nTask: 41385\nChange-Id: I8449075b9a0b39bdc9de8fa94cf238e5e8554875\n'}, {'number': 4, 'created': '2020-12-14 17:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/671e9e7a88e466ecbaf741924ceac9a35cec07b7', 'message': 'Add support for new features\n\nStory: 2008432\nTask: 41385\nChange-Id: I8449075b9a0b39bdc9de8fa94cf238e5e8554875\n'}, {'number': 5, 'created': '2021-01-04 08:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/6e0b50644f5bf8116e7b8b720975902f84822795', 'message': 'Add support for new features\n\nChange-Id: I8449075b9a0b39bdc9de8fa94cf238e5e8554875\n'}, {'number': 6, 'created': '2021-01-04 11:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/c22adcbf73ddf859541e1693079309669262039c', 'message': 'Add support for new features\n\nChange-Id: I8449075b9a0b39bdc9de8fa94cf238e5e8554875\n'}, {'number': 7, 'created': '2021-01-05 00:01:41.000000000', 'files': ['plugins/modules/baremetal_node.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f6a5433503812015f04c16062a9e8d1fba7f5400', 'message': 'Add support for new features\n\nStory: 2008432\nTask: 41385\nChange-Id: I8449075b9a0b39bdc9de8fa94cf238e5e8554875\n'}]",9,766776,f6a5433503812015f04c16062a9e8d1fba7f5400,32,5,7,32541,,,0,"Add support for new features

Story: 2008432
Task: 41385
Change-Id: I8449075b9a0b39bdc9de8fa94cf238e5e8554875
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/76/766776/4 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/baremetal_node.py'],1,25dbaa6b5a5943fee151be08cd4f292b110b0f3e,ADD-FEATURES," resource_class: description: - The specific resource type to which this node belongs. type: str network_interface: description: - The network interface provider to use when describing connections for this node. type: str boot_interface: description: - The boot interface for this node, e.g. ""pxe"". type: str deploy_interface: description: - The deploy interface for this node, e.g. ""iscsi"". type: str management_interface: description: - The interface for out-of-band management of this node, e.g. ""ipmitool"". type: str power_interface: description: - The interface used to manage power actions on this node, e.g. ""ipmitool"". type: str inspect_interface: description: - The interface used for node inspection, e.g. ""no-inspect"". type: str console_interface: description: - The console interface for this node, e.g.""no-console"". type: str vendor_interface: description: - Interface for all vendor-specific actions on this node, e.g. ""no-vendor"". type: str raid_interface: description: - Interface used for configuring raid on this node. type: str storage_interface: description: - Interface used for attaching and detaching volumes on this node, e.g. ""cinder"". rescue_interface: description: - Interface used for node rescue, e.g. ""no-rescue"". type: str resource_class=module.params['resource_class'], network_interface=module.params['network_interface'], boot_interface=module.params['boot_interface'], deploy_interface=module.params['deploy_interface'], management_interface=module.params['management_interface'], power_interface=module.params['power_interface'], inspect_interface=module.params['inspect_interface'], console_interface=module.params['console_interface'], vendor_interface=module.params['vendor_interface'], raid_interface=module.params['raid_interface'], storage_interface=module.params['storage_interface'], rescue_interface=module.params['rescue_interface'],",,64,0
openstack%2Fswift~master~I8877cf482616404eb7023b2975a24ad827efe2b6,openstack/swift,master,I8877cf482616404eb7023b2975a24ad827efe2b6,Add option to swift-oldies to only print pids,MERGED,2020-12-14 21:59:38.000000000,2021-01-09 09:19:39.000000000,2021-01-09 09:18:03.000000000,"[{'_account_id': 597}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-14 21:59:38.000000000', 'files': ['bin/swift-oldies'], 'web_link': 'https://opendev.org/openstack/swift/commit/cec9cb881b5c96516e27981522186b44185c6a5c', 'message': 'Add option to swift-oldies to only print pids\n\nChange-Id: I8877cf482616404eb7023b2975a24ad827efe2b6\n'}]",0,767022,cec9cb881b5c96516e27981522186b44185c6a5c,8,3,1,15343,,,0,"Add option to swift-oldies to only print pids

Change-Id: I8877cf482616404eb7023b2975a24ad827efe2b6
",git fetch https://review.opendev.org/openstack/swift refs/changes/22/767022/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/swift-oldies'],1,cec9cb881b5c96516e27981522186b44185c6a5c,," parser.add_option('-p', '--pids', action='store_true', help='only print the pids found; for example, to pipe ' 'to xargs kill') if options.pids: for hours, pid, args in listing: print(pid) else: hours_len = len('Hours') pid_len = len('PID') args_len = len('Command') for hours, pid, args in listing: hours_len = max(hours_len, len(hours)) pid_len = max(pid_len, len(pid)) args_len = max(args_len, len(args)) args_len = min(args_len, 78 - hours_len - pid_len) print('%*s %*s %s' % (hours_len, 'Hours', pid_len, 'PID', 'Command')) for hours, pid, args in listing: print('%*s %*s %s' % (hours_len, hours, pid_len, pid, args[:args_len]))"," hours_len = len('Hours') pid_len = len('PID') args_len = len('Command') for hours, pid, args in listing: hours_len = max(hours_len, len(hours)) pid_len = max(pid_len, len(pid)) args_len = max(args_len, len(args)) args_len = min(args_len, 78 - hours_len - pid_len) print('%*s %*s %s' % (hours_len, 'Hours', pid_len, 'PID', 'Command')) for hours, pid, args in listing: print('%*s %*s %s' % (hours_len, hours, pid_len, pid, args[:args_len]))",18,11
openstack%2Fpython-tripleoclient~stable%2Ftrain~I7f7b25aa76bef692991200ba621a536f8868200a,openstack/python-tripleoclient,stable/train,I7f7b25aa76bef692991200ba621a536f8868200a,[TRAIN-Only] Reduce open mock scope,MERGED,2021-01-06 18:24:41.000000000,2021-01-09 08:26:19.000000000,2021-01-09 08:25:14.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-06 18:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4b901553f6e7077dc95d342e6701f732cb6fc73a', 'message': ""[TRAIN-Only] Reduce open mock scope\n\nThere appears to be a race condition related to language parsing that is\nbeing uncovered when we mock open around the arg parse code. This\nhighlights that we're relying to open mock instead of mocking a function\nthat uses open.  Rather than rewrite all the tests, let's reduce the\nscope of the open mock to the action execution instead.  This only\nreally applies to train and older because we rewrote many of these\nactions to ansible executions instead.\n\nChange-Id: I7f7b25aa76bef692991200ba621a536f8868200a\nCloses-Bug: #1909118\n""}, {'number': 2, 'created': '2021-01-07 15:40:11.000000000', 'files': ['tripleoclient/tests/v1/overcloud_external_update/test_overcloud_external_update.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_external_upgrade/test_overcloud_external_upgrade.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e5b8ebde853023bf461d9ca5da937f2bd0d56f6b', 'message': ""[TRAIN-Only] Reduce open mock scope\n\nThere appears to be a race condition related to language parsing that is\nbeing uncovered when we mock open around the arg parse code. This\nhighlights that we're relying to open mock instead of mocking a function\nthat uses open.  Rather than rewrite all the tests, let's reduce the\nscope of the open mock to the action execution instead.  This only\nreally applies to train and older because we rewrote many of these\nactions to ansible executions instead.\n\nChange-Id: I7f7b25aa76bef692991200ba621a536f8868200a\nCloses-Bug: #1909118\n""}]",0,769599,e5b8ebde853023bf461d9ca5da937f2bd0d56f6b,24,6,2,14985,,,0,"[TRAIN-Only] Reduce open mock scope

There appears to be a race condition related to language parsing that is
being uncovered when we mock open around the arg parse code. This
highlights that we're relying to open mock instead of mocking a function
that uses open.  Rather than rewrite all the tests, let's reduce the
scope of the open mock to the action execution instead.  This only
really applies to train and older because we rewrote many of these
actions to ansible executions instead.

Change-Id: I7f7b25aa76bef692991200ba621a536f8868200a
Closes-Bug: #1909118
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/99/769599/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_external_update/test_overcloud_external_update.py', 'tripleoclient/tests/v1/overcloud_upgrade/test_overcloud_upgrade.py', 'tripleoclient/tests/v1/overcloud_external_upgrade/test_overcloud_external_upgrade.py', 'tripleoclient/tests/v1/overcloud_update/test_overcloud_update.py']",4,4b901553f6e7077dc95d342e6701f732cb6fc73a,bug/1909118," def test_update_out(self, mock_deploy, mock_copy, mock_yaml, mock.patch('os.path.isfile') as mock_isfile, \ mock.patch('six.moves.builtins.open'): mock_abspath, mock_update, mock.patch('os.path.isfile') as mock_isfile, \ mock.patch('six.moves.builtins.open'): def test_update_with_playbook_and_user(self, mock_execute, with mock.patch('os.path.exists') as mock_exists, \ mock.patch('six.moves.builtins.open') as mock_open: def test_update_limit_with_all_playbooks(self, mock_execute, with mock.patch('os.path.exists') as mock_exists, \ mock.patch('six.moves.builtins.open') as mock_open: self, mock_execute, mock_expanduser, update_ansible,"," @mock.patch('six.moves.builtins.open') def test_update_out(self, mock_deploy, mock_open, mock_copy, mock_yaml, mock.patch('os.path.isfile') as mock_isfile: @mock.patch('six.moves.builtins.open') mock_abspath, mock_open, mock_update, mock.patch('os.path.isfile') as mock_isfile: @mock.patch('six.moves.builtins.open') def test_update_with_playbook_and_user(self, mock_open, mock_execute, with mock.patch('os.path.exists') as mock_exists: @mock.patch('six.moves.builtins.open') def test_update_limit_with_all_playbooks(self, mock_open, mock_execute, with mock.patch('os.path.exists') as mock_exists: @mock.patch('six.moves.builtins.open') self, mock_open, mock_execute, mock_expanduser, update_ansible,",60,62
openstack%2Fswift~master~I00f3ac12ce5e85d1240a7ab4115d2c802b33241b,openstack/swift,master,I00f3ac12ce5e85d1240a7ab4115d2c802b33241b,probe: Use ostestr as test runner,ABANDONED,2020-11-04 19:26:06.000000000,2021-01-09 08:22:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-11-04 19:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b4431cc8ff6697505083fb73ed1457c80a8e8863', 'message': ""probe: Use ostestr as test runner\n\nWe already use ostestr for func tests, and the testrepository.subunit\nfile it creates in the gate seems useful for collecting stats over time\nabout what failures we see and how they fail. Let's see if we can get\nthe same for probe tests.\n\nNote that .probetests still uses nose.\n\nChange-Id: I00f3ac12ce5e85d1240a7ab4115d2c802b33241b\n""}, {'number': 2, 'created': '2020-11-04 23:17:03.000000000', 'files': ['tools/playbooks/probetests/run.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/e37cd132aa7a8562d6d0dd0df6e1b84b3ebbbcb4', 'message': ""probe: Use ostestr as test runner\n\nWe already use ostestr for func tests, and the testrepository.subunit\nfile it creates in the gate seems useful for collecting stats over time\nabout what failures we see and how they fail. Let's see if we can get\nthe same for probe tests.\n\nNote that .probetests still uses nose.\n\nChange-Id: I00f3ac12ce5e85d1240a7ab4115d2c802b33241b\n""}]",0,761459,e37cd132aa7a8562d6d0dd0df6e1b84b3ebbbcb4,5,1,2,15343,,,0,"probe: Use ostestr as test runner

We already use ostestr for func tests, and the testrepository.subunit
file it creates in the gate seems useful for collecting stats over time
about what failures we see and how they fail. Let's see if we can get
the same for probe tests.

Note that .probetests still uses nose.

Change-Id: I00f3ac12ce5e85d1240a7ab4115d2c802b33241b
",git fetch https://review.opendev.org/openstack/swift refs/changes/59/761459/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/playbooks/probetests/run.yaml'],1,b4431cc8ff6697505083fb73ed1457c80a8e8863,, ostestr --concurrency 1 environment: TEST_DIR: test/probe, nosetests test/probe/,3,1
openstack%2Ftripleo-common~stable%2Fvictoria~I10ab0cbfbaab77b9208e9a5d74d59eb041cb16ee,openstack/tripleo-common,stable/victoria,I10ab0cbfbaab77b9208e9a5d74d59eb041cb16ee,Enable pylint,MERGED,2021-01-07 11:00:48.000000000,2021-01-09 08:17:01.000000000,2021-01-09 08:15:51.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-01-07 11:00:48.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', '.pylintrc', 'tripleo_common/utils/locks/processlock.py', 'tripleo_common/tests/utils/test_template.py', 'tripleo_common/image/image_uploader.py', 'tripleo_common/exception.py', 'tripleo_common/utils/locks/base.py', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6ddd7b388c8fe13ebba642b55ea9142a5d91c83d', 'message': 'Enable pylint\n\nThis is a follow-up from [1] which underlined that the code lacks even basic coverage as it allow\nus to introduce a costly regression which could have being detected by pylint no-member test.\n\n- enables pylint with most checks temporary disabled, so we have time\n  to address them gradually\n- fixes few minor issues reported by the tool\n- adds skips for some known ""no-member"" errors but avoids adding it to the exclude list, as this\n  in order to prevent further regressions.\n- once landed we can easily address the temporary disabled errors, one by one. In fact this is could\n  prove as a very good learning experience for newer team members. They can start by removing on\n  random exclusion and fixing it. As a hint: leave the missing docstrings for the end, some problems\n  are more important to fix first.\n\n1: https://review.opendev.org/c/openstack/tripleo-common/+/762892/6/tripleo_common/image/builder/buildah.py\n\nChange-Id: I10ab0cbfbaab77b9208e9a5d74d59eb041cb16ee\n(cherry picked from commit 13ac87ba36be2d8cddb37cd82d242dcb0a8717f5)\n'}]",0,769594,6ddd7b388c8fe13ebba642b55ea9142a5d91c83d,19,7,1,24162,,,0,"Enable pylint

This is a follow-up from [1] which underlined that the code lacks even basic coverage as it allow
us to introduce a costly regression which could have being detected by pylint no-member test.

- enables pylint with most checks temporary disabled, so we have time
  to address them gradually
- fixes few minor issues reported by the tool
- adds skips for some known ""no-member"" errors but avoids adding it to the exclude list, as this
  in order to prevent further regressions.
- once landed we can easily address the temporary disabled errors, one by one. In fact this is could
  prove as a very good learning experience for newer team members. They can start by removing on
  random exclusion and fixing it. As a hint: leave the missing docstrings for the end, some problems
  are more important to fix first.

1: https://review.opendev.org/c/openstack/tripleo-common/+/762892/6/tripleo_common/image/builder/buildah.py

Change-Id: I10ab0cbfbaab77b9208e9a5d74d59eb041cb16ee
(cherry picked from commit 13ac87ba36be2d8cddb37cd82d242dcb0a8717f5)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/94/769594/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', '.pylintrc', 'tripleo_common/tests/utils/test_template.py', 'tripleo_common/utils/locks/processlock.py', 'tripleo_common/image/image_uploader.py', 'tripleo_common/exception.py', 'tripleo_common/utils/locks/base.py', '.pre-commit-config.yaml']",8,6ddd7b388c8fe13ebba642b55ea9142a5d91c83d,pylint-stable/victoria, rev: v3.4.0 rev: 3.8.4 - repo: https://github.com/PyCQA/pylint rev: pylint-2.6.0 hooks: - id: pylint, rev: v2.5.0 rev: 3.8.1,89,7
openstack%2Fvalidations-libs~master~I72b36d24fff0c621c7b97d93533a593ab68207e0,openstack/validations-libs,master,I72b36d24fff0c621c7b97d93533a593ab68207e0,Dockerfile for installing Validation Framework in a CentOS container,MERGED,2020-11-06 20:58:11.000000000,2021-01-09 07:53:07.000000000,2021-01-09 07:52:00.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-11-06 20:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2bc04af1cde153f74a360926e5a0f7cee883737c', 'message': 'Dockerfile for installing Validation Framework in a Fedora container\n\nChange-Id: I72b36d24fff0c621c7b97d93533a593ab68207e0\n'}, {'number': 2, 'created': '2021-01-06 14:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/1a8c721e9a902c6fc9a46d95fa933bb7acf30d96', 'message': 'Dockerfile for installing Validation Framework in a Fedora container\n\nChange-Id: I72b36d24fff0c621c7b97d93533a593ab68207e0\n'}, {'number': 3, 'created': '2021-01-07 08:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/ae794046026109679f4ac7526fdc8d678d3a7973', 'message': 'Dockerfile for installing Validation Framework in a Fedora container\n\nChange-Id: I72b36d24fff0c621c7b97d93533a593ab68207e0\n'}, {'number': 4, 'created': '2021-01-07 09:07:02.000000000', 'files': ['Dockerfile', 'README.rst'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/5d43279cc4e652838cfe0978815bfea8d5839dd9', 'message': 'Dockerfile for installing Validation Framework in a CentOS container\n\nChange-Id: I72b36d24fff0c621c7b97d93533a593ab68207e0\n'}]",0,761791,5d43279cc4e652838cfe0978815bfea8d5839dd9,17,5,4,16515,,,0,"Dockerfile for installing Validation Framework in a CentOS container

Change-Id: I72b36d24fff0c621c7b97d93533a593ab68207e0
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/91/761791/4 && git format-patch -1 --stdout FETCH_HEAD,['Dockerfile'],1,2bc04af1cde153f74a360926e5a0f7cee883737c,dockerfile,FROM fedora:latest RUN dnf install -y git python3-pip gcc python3-devel RUN git clone https://opendev.org/openstack/validations-libs /root/validations-libs RUN git clone https://opendev.org/openstack/validations-common /root/validations-common RUN cd /root/validations-libs && \ pip3 install -r requirements.txt && \ python3 setup.py install RUN cd /root/validations-common && \ pip3 install -r requirements.txt && \ python3 setup.py install RUN ln -s /usr/local/share/ansible /usr/share/ansible RUN mkdir -p /var/log/validations ,,18,0
openstack%2Fvalidations-common~master~Ied1d9cbbfdf61c622a99205bc8a8ea9f2f5e57a5,openstack/validations-common,master,Ied1d9cbbfdf61c622a99205bc8a8ea9f2f5e57a5,Fix list index out of range,MERGED,2020-12-18 15:40:23.000000000,2021-01-09 07:52:03.000000000,2021-01-09 07:52:03.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-18 15:40:23.000000000', 'files': ['validations_common/callback_plugins/validation_json.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/32e4898cf0cd4429bf84f81bb06ee804d4ea99fd', 'message': ""Fix list index out of range\n\nIf the failure occurs on the first task, ansible throws a warning about\nthe call back because it's attempting to set the end time for the\nprevious task which does not exist.\n\nChange-Id: Ied1d9cbbfdf61c622a99205bc8a8ea9f2f5e57a5\n""}]",0,767802,32e4898cf0cd4429bf84f81bb06ee804d4ea99fd,8,4,1,14985,,,0,"Fix list index out of range

If the failure occurs on the first task, ansible throws a warning about
the call back because it's attempting to set the end time for the
previous task which does not exist.

Change-Id: Ied1d9cbbfdf61c622a99205bc8a8ea9f2f5e57a5
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/02/767802/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/callback_plugins/validation_json.py'],1,32e4898cf0cd4429bf84f81bb06ee804d4ea99fd,fix-fatal, if len(result['tasks']) > 1: result['tasks'][-1]['task']['duration']['end'] = end_time, result['tasks'][-1]['task']['duration']['end'] = end_time,2,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib5478e53eb1f216bf6924ff30ea8502cb8529d00,openstack/tripleo-heat-templates,stable/train,Ib5478e53eb1f216bf6924ff30ea8502cb8529d00,Add NovaDisableImageDownloadToRbd parameter,MERGED,2020-10-28 15:05:17.000000000,2021-01-09 07:51:56.000000000,2021-01-09 07:51:56.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-28 15:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/81254e6f5d45fb618d635207edc6b9686ab58960', 'message': 'Add NovaDisableImageDownloadToRbd parameter\n\nThis exposes the nova workaround to disable downloading images from glance to\nrbd (vs a cheap COW clone) when nova-compute and glance are not backed by the\nsame ceph cluster.\n\nRelated nova change: I069b6b1d28eaf1eee5c7fb8d0fdef9c0c229a1bf\nDepends-On: I8329810d6c047c0d94e7b123e7cdc1263a7856cd\n\nChange-Id: Ib5478e53eb1f216bf6924ff30ea8502cb8529d00\n(cherry picked from commit b756944d454299ad908bddd0fe2ba679c166ec6e)\n(cherry picked from commit 815af694a8065179f4602a67b744a91ceea6d61b)\n'}, {'number': 2, 'created': '2021-01-04 10:06:52.000000000', 'files': ['environments/dcn-hci.yaml', 'environments/dcn.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'sample-env-generator/dcn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c6a5516178726c27f61d088da9b45ebbdd0bcbeb', 'message': 'Add NovaDisableImageDownloadToRbd parameter\n\nThis exposes the nova workaround to disable downloading images from glance to\nrbd (vs a cheap COW clone) when nova-compute and glance are not backed by the\nsame ceph cluster.\n\nRelated nova change: I069b6b1d28eaf1eee5c7fb8d0fdef9c0c229a1bf\nDepends-On: I8329810d6c047c0d94e7b123e7cdc1263a7856cd\n\nChange-Id: Ib5478e53eb1f216bf6924ff30ea8502cb8529d00\n(cherry picked from commit b756944d454299ad908bddd0fe2ba679c166ec6e)\n(cherry picked from commit 815af694a8065179f4602a67b744a91ceea6d61b)\n'}]",0,760163,c6a5516178726c27f61d088da9b45ebbdd0bcbeb,36,3,2,23811,,,0,"Add NovaDisableImageDownloadToRbd parameter

This exposes the nova workaround to disable downloading images from glance to
rbd (vs a cheap COW clone) when nova-compute and glance are not backed by the
same ceph cluster.

Related nova change: I069b6b1d28eaf1eee5c7fb8d0fdef9c0c229a1bf
Depends-On: I8329810d6c047c0d94e7b123e7cdc1263a7856cd

Change-Id: Ib5478e53eb1f216bf6924ff30ea8502cb8529d00
(cherry picked from commit b756944d454299ad908bddd0fe2ba679c166ec6e)
(cherry picked from commit 815af694a8065179f4602a67b744a91ceea6d61b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/760163/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/dcn-hci.yaml', 'environments/dcn.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'sample-env-generator/dcn.yaml']",4,81254e6f5d45fb618d635207edc6b9686ab58960,, deployment/nova/nova-compute-container-puppet.yaml: parameters: - NovaDisableImageDownloadToRbd NovaDisableImageDownloadToRbd: true,,23,0
openstack%2Fneutron~master~Ic8ffa9c4437aab6fb1878b3a1ebf2c3ab86e3d0c,openstack/neutron,master,Ic8ffa9c4437aab6fb1878b3a1ebf2c3ab86e3d0c,[ovn] Add neutron network to metadata namespace names,MERGED,2020-12-24 10:09:06.000000000,2021-01-09 07:47:45.000000000,2021-01-09 07:46:05.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 13686}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 32586}]","[{'number': 1, 'created': '2020-12-24 10:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e495744c18332d7054fef40bca3ee646b2bd9386', 'message': ""[ovn] Add neutron network to metadata namespace names\n\nUntil this patch the metadata namespace had the format\n'ovnmeta-<OVN datapath uuid>' which makes it hard to\nrelate to the Neutron network for which metadata is\nprovisioned to. This applies to the name of the tap\ninterface that connects the network namespace to the\nintegration bridge.\n\nThis patch is changing the name convention and providing\nan upgrade path to include the Neutron network ID to make\ndebugging and troubleshooting easier for developers and\noperators.\n\nThe new name pattern is:\n'ovnmeta-<Neutron network uuid>'\n\nPlease, note that with this patch, the old namespaces will\nbe deleted and new ones will be recreated.\n\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\nChange-Id: Ic8ffa9c4437aab6fb1878b3a1ebf2c3ab86e3d0c\n""}, {'number': 2, 'created': '2020-12-24 13:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7c603cc5a92ad97756ef2ddb1af8d6749918519', 'message': ""[ovn] Add neutron network to metadata namespace names\n\nUntil this patch the metadata namespace had the format\n'ovnmeta-<OVN datapath uuid>' which makes it hard to\nrelate to the Neutron network for which metadata is\nprovisioned to. This applies to the name of the tap\ninterface that connects the network namespace to the\nintegration bridge.\n\nThis patch is changing the name convention and providing\nan upgrade path to include the Neutron network ID to make\ndebugging and troubleshooting easier for developers and\noperators.\n\nThe new name pattern is:\n'ovnmeta-<Neutron network uuid>'\n\nPlease, note that with this patch, the old namespaces will\nbe deleted and new ones will be recreated.\n\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\nChange-Id: Ic8ffa9c4437aab6fb1878b3a1ebf2c3ab86e3d0c\n""}, {'number': 3, 'created': '2020-12-24 14:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d9dfabe9c6e2414834b42c62ae7b036ddb407a85', 'message': ""[ovn] Add neutron network to metadata namespace names\n\nUntil this patch the metadata namespace had the format\n'ovnmeta-<OVN datapath uuid>' which makes it hard to\nrelate to the Neutron network for which metadata is\nprovisioned to. This applies to the name of the tap\ninterface that connects the network namespace to the\nintegration bridge.\n\nThis patch is changing the name convention and providing\nan upgrade path to include the Neutron network ID to make\ndebugging and troubleshooting easier for developers and\noperators.\n\nThe new name pattern is:\n'ovnmeta-<Neutron network uuid>'\n\nPlease, note that with this patch, the old namespaces will\nbe deleted and new ones will be recreated.\n\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\nChange-Id: Ic8ffa9c4437aab6fb1878b3a1ebf2c3ab86e3d0c\n""}, {'number': 4, 'created': '2020-12-24 17:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c8bdb1c243cb9415a8b8de6f7484022177e745e', 'message': ""[ovn] Add neutron network to metadata namespace names\n\nUntil this patch the metadata namespace had the format\n'ovnmeta-<OVN datapath uuid>' which makes it hard to\nrelate to the Neutron network for which metadata is\nprovisioned to. This applies to the name of the tap\ninterface that connects the network namespace to the\nintegration bridge.\n\nThis patch is changing the name convention and providing\nan upgrade path to include the Neutron network ID to make\ndebugging and troubleshooting easier for developers and\noperators.\n\nThe new name pattern is:\n'ovnmeta-<Neutron network uuid>'\n\nPlease, note that with this patch, the old namespaces will\nbe deleted and new ones will be recreated.\n\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\nChange-Id: Ic8ffa9c4437aab6fb1878b3a1ebf2c3ab86e3d0c\n""}, {'number': 5, 'created': '2021-01-08 13:36:09.000000000', 'files': ['neutron/common/ovn/utils.py', 'releasenotes/notes/ovnmeta-namespaces-include-network-name-e6e4e5f6ff69e7ed.yaml', 'neutron/agent/ovn/metadata/agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e4fb06b24299a7ecf10b05ef6ddc2d883c40e5a1', 'message': ""[ovn] Add neutron network to metadata namespace names\n\nUntil this patch the metadata namespace had the format\n'ovnmeta-<OVN datapath uuid>' which makes it hard to\nrelate to the Neutron network for which metadata is\nprovisioned to. This applies to the name of the tap\ninterface that connects the network namespace to the\nintegration bridge.\n\nThis patch is changing the name convention and providing\nan upgrade path to include the Neutron network ID to make\ndebugging and troubleshooting easier for developers and\noperators.\n\nThe new name pattern is:\n'ovnmeta-<Neutron network uuid>'\n\nPlease, note that with this patch, the old namespaces will\nbe deleted and new ones will be recreated.\n\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\nChange-Id: Ic8ffa9c4437aab6fb1878b3a1ebf2c3ab86e3d0c\n""}]",14,768462,e4fb06b24299a7ecf10b05ef6ddc2d883c40e5a1,41,11,5,23804,,,0,"[ovn] Add neutron network to metadata namespace names

Until this patch the metadata namespace had the format
'ovnmeta-<OVN datapath uuid>' which makes it hard to
relate to the Neutron network for which metadata is
provisioned to. This applies to the name of the tap
interface that connects the network namespace to the
integration bridge.

This patch is changing the name convention and providing
an upgrade path to include the Neutron network ID to make
debugging and troubleshooting easier for developers and
operators.

The new name pattern is:
'ovnmeta-<Neutron network uuid>'

Please, note that with this patch, the old namespaces will
be deleted and new ones will be recreated.

Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
Change-Id: Ic8ffa9c4437aab6fb1878b3a1ebf2c3ab86e3d0c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/768462/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ovnmeta-namespaces-include-network-name-e6e4e5f6ff69e7ed.yaml', 'neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py']",3,e495744c18332d7054fef40bca3ee646b2bd9386,metadata_namespace,"DatapathInfo = collections.namedtuple('DatapathInfo', ['uuid', 'external_ids']) ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) ports.append(makePort(datapath=DatapathInfo(uuid='1', external_ids={'name': 'neutron-1'}))) ports.append(makePort(datapath=DatapathInfo(uuid='3', external_ids={'name': 'neutron-3'}), type='external')) ports.append(makePort(datapath=DatapathInfo(uuid='5', external_ids={'name': 'neutron-5'}),type='unknown')) expected_calls = [mock.call(str(i), str(i)) for i in range(0, 4)] ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) ports.append(makePort(datapath=DatapathInfo(uuid='3', external_ids={'name': 'neutron-3'}), type='external')) self.agent.update_datapath('1', 'a') self.agent.update_datapath('3', 'b') expected_calls = [mock.call('1', 'a'), mock.call('3', 'b')] ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) self.agent.update_datapath('5', 'a') tdp.assert_called_once_with('5', 'a') self.agent.provision_datapath('1', '1')","DatapathInfo = collections.namedtuple('DatapathInfo', 'uuid') ports.append(makePort(datapath=DatapathInfo(uuid=str(i)))) ports.append(makePort(datapath=DatapathInfo(uuid='1'))) ports.append(makePort(datapath=DatapathInfo(uuid='3'), type='external')) ports.append(makePort(datapath=DatapathInfo(uuid='5'), type='unknown')) expected_calls = [mock.call(str(i)) for i in range(0, 4)] ports.append(makePort(datapath=DatapathInfo(uuid=str(i)))) ports.append(makePort(datapath=DatapathInfo(uuid='3'), type='external')) self.agent.update_datapath('1') self.agent.update_datapath('3') expected_calls = [mock.call('1'), mock.call('3')] ports.append(makePort(datapath=DatapathInfo(uuid=str(i)))) self.agent.update_datapath('5') tdp.assert_called_once_with('5') self.agent.provision_datapath('1')",61,41
openstack%2Fcinder-tempest-plugin~master~If4857a8beaa46b48c0f7d44ff707dd44425b530c,openstack/cinder-tempest-plugin,master,If4857a8beaa46b48c0f7d44ff707dd44425b530c,"Run the tests on stable/victoria as well, remove stein",MERGED,2020-10-06 15:01:48.000000000,2021-01-09 07:06:04.000000000,2021-01-09 07:06:04.000000000,"[{'_account_id': 5314}, {'_account_id': 8556}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 27615}]","[{'number': 1, 'created': '2020-10-06 15:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/8edd0dac49986401004b3d4fc1d0d6f720924bde', 'message': ""Run the tests on stable/victoria as well\n\nSo that changes to this plugin (at least, most of them) don't break\nthat branch.\n\nChange-Id: If4857a8beaa46b48c0f7d44ff707dd44425b530c\n""}, {'number': 2, 'created': '2021-01-05 20:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/5c2f8bf2c87a6cc1bc2b7cdbb1d85e412804b345', 'message': ""Run the tests on stable/victoria as well, remove stein\n\nSo that changes to this plugin (at least, most of them) don't break\nvictoria.\n\nAs stein moved to EM, remove its job according the common guidelines.\n\nChange-Id: If4857a8beaa46b48c0f7d44ff707dd44425b530c\n""}, {'number': 3, 'created': '2021-01-05 21:09:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/3f52f35e7c2ef40e8c0b30275aa9802b463b8a07', 'message': ""Run the tests on stable/victoria as well, remove stein\n\nSo that changes to this plugin (at least, most of them) don't break\nvictoria.\n\nAs stein moved to EM, remove its job according the common guidelines.\n\nChange-Id: If4857a8beaa46b48c0f7d44ff707dd44425b530c\n""}]",8,756330,3f52f35e7c2ef40e8c0b30275aa9802b463b8a07,31,6,3,10459,,,0,"Run the tests on stable/victoria as well, remove stein

So that changes to this plugin (at least, most of them) don't break
victoria.

As stein moved to EM, remove its job according the common guidelines.

Change-Id: If4857a8beaa46b48c0f7d44ff707dd44425b530c
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/30/756330/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8edd0dac49986401004b3d4fc1d0d6f720924bde,t1, - cinder-tempest-plugin-basic-victoria name: cinder-tempest-plugin-basic-victoria parent: cinder-tempest-plugin-basic override-checkout: stable/victoria - job:,,6,0
openstack%2Fneutron~master~I34766b96cb775356664f5e0d48a08a22ac6898e2,openstack/neutron,master,I34766b96cb775356664f5e0d48a08a22ac6898e2,Get sec group ids after address group update,MERGED,2020-11-23 17:51:54.000000000,2021-01-09 02:02:56.000000000,2021-01-09 02:00:45.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 28159}]","[{'number': 1, 'created': '2020-11-23 17:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c54be7a911eb5443b247d32c62907b2af10d3789', 'message': 'Get sec group ids after address group update\n\nThis change adds code to retrieve for the agent the security group ids\naffected by an update or deletion of an address group.\n\nChange-Id: I34766b96cb775356664f5e0d48a08a22ac6898e2\n'}, {'number': 2, 'created': '2020-11-25 00:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5748676aee612054775196ba0e336334730bad04', 'message': 'Get sec group ids after address group update\n\nThis change adds code to retrieve for the agent the security group ids\naffected by an update or deletion of an address group.\n\nAlso adds event notificatoins to add and remove addresses from address\ngroups.\n\nCo-authored-by: Hang Yang <hangyang@verizonmedia.com>\nChange-Id: I34766b96cb775356664f5e0d48a08a22ac6898e2\n'}, {'number': 3, 'created': '2020-11-25 16:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a3c325b8250f9de3dc1d19f6afdc70090d7bf9d', 'message': 'Get sec group ids after address group update\n\nThis change adds code to retrieve for the agent the security group ids\naffected by an update or deletion of an address group.\n\nAlso adds event notificatoins to add and remove addresses from address\ngroups.\n\nCo-authored-by: Hang Yang <hangyang@verizonmedia.com>\nChange-Id: I34766b96cb775356664f5e0d48a08a22ac6898e2\n'}, {'number': 4, 'created': '2020-11-30 18:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d2fffab1166a702fd330d99e9680404e38c42cc4', 'message': 'Get sec group ids after address group update\n\nThis change adds code to retrieve for the agent the security group ids\naffected by an update or deletion of an address group.\n\nAlso adds event notificatoins to add and remove addresses from address\ngroups.\n\nCo-authored-by: Hang Yang <hangyang@verizonmedia.com>\nChange-Id: I34766b96cb775356664f5e0d48a08a22ac6898e2\n'}, {'number': 5, 'created': '2020-12-02 20:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f2e197d0c33f2c631cbe868fe87a8c5cad5a5cc', 'message': 'Get sec group ids after address group update\n\nThis change adds code to retrieve for the agent the security group ids\naffected by an update or deletion of an address group.\n\nAlso adds event notificatoins to add and remove addresses from address\ngroups.\n\nCo-authored-by: Hang Yang <hangyang@verizonmedia.com>\nChange-Id: I34766b96cb775356664f5e0d48a08a22ac6898e2\n'}, {'number': 6, 'created': '2020-12-04 17:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2cbee303baa1dce9ead34ba38fbb10562159088d', 'message': 'Get sec group ids after address group update\n\nThis change adds code to retrieve for the agent the security group ids\naffected by an update or deletion of an address group.\n\nAlso adds event notificatoins to add and remove addresses from address\ngroups.\n\nCo-authored-by: Hang Yang <hangyang@verizonmedia.com>\nChange-Id: I34766b96cb775356664f5e0d48a08a22ac6898e2\n'}, {'number': 7, 'created': '2020-12-11 00:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4f7d360a04c95862911803fb2180bafc059fe44c', 'message': 'Get sec group ids after address group update\n\nThis change adds code to retrieve for the agent the security group ids\naffected by an update or deletion of an address group.\n\nAlso adds event notificatoins to add and remove addresses from address\ngroups.\n\nCo-authored-by: Hang Yang <hangyang@verizonmedia.com>\nChange-Id: I34766b96cb775356664f5e0d48a08a22ac6898e2\n'}, {'number': 8, 'created': '2020-12-29 16:17:38.000000000', 'files': ['neutron/db/address_group_db.py', 'neutron/tests/unit/api/rpc/handlers/test_securitygroups_rpc.py', 'neutron/tests/unit/plugins/ml2/test_ovo_rpc.py', 'neutron/agent/securitygroups_rpc.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/92359b6fb92b9dbd5dc80dac11f74a56716e28c2', 'message': 'Get sec group ids after address group update\n\nThis change adds code to retrieve for the agent the security group ids\naffected by an update or deletion of an address group.\n\nAlso adds event notificatoins to add and remove addresses from address\ngroups.\n\nCo-authored-by: Hang Yang <hangyang@verizonmedia.com>\nChange-Id: I34766b96cb775356664f5e0d48a08a22ac6898e2\n'}]",8,763828,92359b6fb92b9dbd5dc80dac11f74a56716e28c2,70,5,8,4694,,,0,"Get sec group ids after address group update

This change adds code to retrieve for the agent the security group ids
affected by an update or deletion of an address group.

Also adds event notificatoins to add and remove addresses from address
groups.

Co-authored-by: Hang Yang <hangyang@verizonmedia.com>
Change-Id: I34766b96cb775356664f5e0d48a08a22ac6898e2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/763828/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/api/rpc/handlers/test_securitygroups_rpc.py', 'neutron/agent/securitygroups_rpc.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py']",3,c54be7a911eb5443b247d32c62907b2af10d3789,bp/address-groups-in-sg-rules," def get_secgroup_ids_for_address_group(self, address_group_id): filters = {'remote_address_group_id': (address_group_id, )} return [rule.security_group_id for rule in self.rcache.get_resources('SecurityGroupRule', filters)]"," def get_address_group_details(self, address_group_id): ag_obj = self.rcache.get_resource_by_id(resources.ADDRESSGROUP, address_group_id) if not ag_obj: LOG.debug(""Address group %s does not exist in cache."", address_group_id) return ag_obj",22,20
openstack%2Fnova~stable%2Ftrain~Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a,openstack/nova,stable/train,Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a,"[stable-only] Cap bandit to 1.6.2 and raise hacking, flake8 and stestr",MERGED,2020-12-09 10:11:06.000000000,2021-01-09 02:02:21.000000000,2021-01-09 02:00:28.000000000,"[{'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 17685}, {'_account_id': 21757}, {'_account_id': 22348}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-12-09 10:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78c629bf52e4013e7b79b94ef431f58ff7e9944e', 'message': 'Cap bandit at 1.6.2 when using py2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nChange-Id: Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a\n'}, {'number': 2, 'created': '2020-12-09 10:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8eab227e4d8bc5935aaf8a96993bcea89b29cc7', 'message': 'Cap bandit at 1.6.2 when using py2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nCloses-Bug: #1907438\nChange-Id: Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a\n'}, {'number': 3, 'created': '2020-12-09 11:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60a1744282f1b276176f4a2749467e50fc0b4ca5', 'message': 'Cap bandit and raise hacking lower-constraint\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\nAdditionally the lower-constraint for hacking is out of sync and causing\nthat job to fail with the previous bandit cap in place. This is now\nmoved to 1.1.0 in line with test-requirements.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nCloses-Bug: #1907438\nChange-Id: Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a\n'}, {'number': 4, 'created': '2020-12-09 11:13:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e224b6e8b379b9ebcc2170b138798a34fef2b35b', 'message': 'Cap bandit while also raising hacking and flake lower-constraints\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\nAdditionally the lower-constraints for hacking and flake are out of sync\nand causing that job to fail with the previous bandit cap in place.\nThese are now raised in line with the versions present in\ntest-requirements.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nCloses-Bug: #1907438\nChange-Id: Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a\n'}, {'number': 5, 'created': '2020-12-09 11:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e13acef653eaf02ad2bc0763698e4c132c95b091', 'message': '[stable-only] Cap bandit while also raising hacking and flake lower-constraints\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\nAdditionally the lower-constraints for hacking and flake are out of sync\nand causing that job to fail with the previous bandit cap in place.\nThese are now raised in line with the versions present in\ntest-requirements.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nCloses-Bug: #1907438\nChange-Id: Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a\n'}, {'number': 6, 'created': '2020-12-09 11:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8579d4a9306421c81f53eba7c6561102668a40fd', 'message': '[stable-only] Cap bandit while also raising hacking, flake and stestr LCs\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\nAdditionally the lower-constraints for hacking, flake and stestr are out\nof sync and causing that job to fail with the previous bandit cap in\nplace.  These are now raised in line with the versions present in\ntest-requirements for hacking and flake. stestr is raised in both due to\nrequirements introduced by oslotest 3.8.0.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nCloses-Bug: #1907438\nChange-Id: Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a\n'}, {'number': 7, 'created': '2020-12-09 12:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83076e35b1ea00ebd11ef0d03b0b314db0d4cce9', 'message': '[stable-only] Cap bandit while also raising hacking, flake and stestr LCs\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\nAdditionally the lower-constraints for hacking, flake and stestr are out\nof sync and causing that job to fail with the previous bandit cap in\nplace.  These are now raised in line with the versions present in\ntest-requirements for hacking and flake. stestr is raised in both due to\nrequirements introduced by oslotest 3.8.0.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nDepends-On: https://review.opendev.org/c/openstack/swift/+/766214\n\nCloses-Bug: #1907438\nChange-Id: Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a\n'}, {'number': 8, 'created': '2020-12-09 13:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1b8676b4cdbc099aa434da81f9cff4657de686a', 'message': '[stable-only] Cap bandit to 1.6.2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nDepends-On: https://review.opendev.org/c/openstack/swift/+/766214\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/766218\n\nCloses-Bug: #1907438\nChange-Id: Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a\n'}, {'number': 9, 'created': '2020-12-11 13:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e099d7fa3f2f33dec8867d4213d9c50cc0d9c50', 'message': '[stable-only] Cap bandit to 1.6.2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/766622\n\nCloses-Bug: #1907438\nChange-Id: Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a\n'}, {'number': 10, 'created': '2020-12-11 16:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca5bb61f212ec41f70e213d96cdefd23ea84ed8f', 'message': '[stable-only] Cap bandit to 1.6.2 and raise hacking to 1.1.0 in LC\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\nThis change also raises hacking to 1.1.0 in lower-constraints.txt after\nit was bumped by I35c654bd39f343417e0a1124263ff31dcd0b05c9.\n\nBoth changes are squashed into a single change to pass the gate.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/766622\n\nCloses-Bug: #1907438\nCloses-Bug: #1907756\nChange-Id: Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a\n'}, {'number': 11, 'created': '2020-12-14 10:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/801eb2107415fe4f5bf8d113f27b154e619ae6eb', 'message': '[stable-only] Cap bandit to 1.6.2 and raise hacking and flake8 in LC\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\nThis change also raises hacking to 1.1.0 in lower-constraints.txt after\nit was bumped by I35c654bd39f343417e0a1124263ff31dcd0b05c9. This also\nmeans that flake8 is bumped to 2.6.0.\n\nBoth changes are squashed into a single change to pass the gate.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/766622\n\nCloses-Bug: #1907438\nCloses-Bug: #1907756\nChange-Id: Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a\n'}, {'number': 12, 'created': '2020-12-14 10:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5345e6f0d58b2322c69a32f271048d9075e426f', 'message': '[stable-only] Cap bandit to 1.6.2 and raise hacking and flake8 in LC\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\nThis change also raises hacking to 1.1.0 in lower-constraints.txt after\nit was bumped by I35c654bd39f343417e0a1124263ff31dcd0b05c9. This also\nmeans that flake8 is bumped to 2.6.0.\n\nBoth changes are squashed into a single change to pass the gate.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/766622\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/766623\n\nCloses-Bug: #1907438\nCloses-Bug: #1907756\nChange-Id: Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a\n'}, {'number': 13, 'created': '2020-12-22 08:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4911422fa27d304c9271f2132df828d160a4e7d', 'message': '[stable-only] Cap bandit to 1.6.2 and raise hacking and flake8 in LC\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\nThis change also raises hacking to 1.1.0 in lower-constraints.txt after\nit was bumped by I35c654bd39f343417e0a1124263ff31dcd0b05c9. This also\nmeans that flake8 is bumped to 2.6.0.\n\nBoth changes are squashed into a single change to pass the gate.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nCloses-Bug: #1907438\nCloses-Bug: #1907756\nChange-Id: Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a\n'}, {'number': 14, 'created': '2020-12-22 09:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/443f18ba1cc908c6f0d6b4023346048e6ee9cb2c', 'message': '[stable-only] Cap bandit to 1.6.2 and raise hacking and flake8 in LC\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\nThis change also raises hacking to 1.1.0 in lower-constraints.txt after\nit was bumped by I35c654bd39f343417e0a1124263ff31dcd0b05c9. This also\nmeans that flake8 is bumped to 2.6.0.\n\nBoth changes are squashed into a single change to pass the gate.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/766622\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/766623\n\nCloses-Bug: #1907438\nCloses-Bug: #1907756\nChange-Id: Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a\n'}, {'number': 15, 'created': '2020-12-22 11:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e35038380194b6362c026535aedb32f9597cceb0', 'message': '[stable-only] Cap bandit to 1.6.2 and raise hacking, flake8 and stestr\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\nThis change also raises hacking to 1.1.0 in lower-constraints.txt after\nit was bumped by I35c654bd39f343417e0a1124263ff31dcd0b05c9. This also\nmeans that flake8 is bumped to 2.6.0. stestr is also bumped to 2.0.0 as\nrequired by oslotest 3.8.0.\n\nAll of these changes are squashed into a single change to pass the gate.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nCloses-Bug: #1907438\nCloses-Bug: #1907756\nChange-Id: Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a\n'}, {'number': 16, 'created': '2020-12-22 15:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/643a532433067f0611f65755028b7620e153ec4d', 'message': '[stable-only] Cap bandit to 1.6.2 and raise hacking, flake8 and stestr\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\nThis change also raises hacking to 1.1.0 in lower-constraints.txt after\nit was bumped by I35c654bd39f343417e0a1124263ff31dcd0b05c9. This also\nmeans that flake8 is bumped to 2.6.0. stestr is also bumped to 2.0.0 as\nrequired by oslotest 3.8.0.\n\nAll of these changes are squashed into a single change to pass the gate.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nDepends-On: https://review.opendev.org/c/openstack/grenade/+/768224\n\nCloses-Bug: #1907438\nCloses-Bug: #1907756\nChange-Id: Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a\n'}, {'number': 17, 'created': '2020-12-22 18:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3904c779486e6221d46e7e347587b33d3b3bdb41', 'message': '[stable-only] Cap bandit to 1.6.2 and raise hacking, flake8 and stestr\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\nThis change also raises hacking to 1.1.0 in lower-constraints.txt after\nit was bumped by I35c654bd39f343417e0a1124263ff31dcd0b05c9. This also\nmeans that flake8 is bumped to 2.6.0. stestr is also bumped to 2.0.0 as\nrequired by oslotest 3.8.0.\n\nAll of these changes are squashed into a single change to pass the gate.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/768256\n\nCloses-Bug: #1907438\nCloses-Bug: #1907756\nChange-Id: Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a\n'}, {'number': 18, 'created': '2020-12-23 11:15:08.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/b2037fc4e356b55949339a1358c16431a9ab8930', 'message': '[stable-only] Cap bandit to 1.6.2 and raise hacking, flake8 and stestr\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\nThis change also raises hacking to 1.1.0 in lower-constraints.txt after\nit was bumped by I35c654bd39f343417e0a1124263ff31dcd0b05c9. This also\nmeans that flake8 is bumped to 2.6.0. stestr is also bumped to 2.0.0 as\nrequired by oslotest 3.8.0.\n\nAll of these changes are squashed into a single change to pass the gate.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/768256\nDepends-On: https://review.opendev.org/c/openstack/swift/+/766214\n\nCloses-Bug: #1907438\nCloses-Bug: #1907756\nChange-Id: Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a\n'}]",0,766171,b2037fc4e356b55949339a1358c16431a9ab8930,66,6,18,10135,,,0,"[stable-only] Cap bandit to 1.6.2 and raise hacking, flake8 and stestr

The 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2
when using py2.

This change also raises hacking to 1.1.0 in lower-constraints.txt after
it was bumped by I35c654bd39f343417e0a1124263ff31dcd0b05c9. This also
means that flake8 is bumped to 2.6.0. stestr is also bumped to 2.0.0 as
required by oslotest 3.8.0.

All of these changes are squashed into a single change to pass the gate.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615

Depends-On: https://review.opendev.org/c/openstack/devstack/+/768256
Depends-On: https://review.opendev.org/c/openstack/swift/+/766214

Closes-Bug: #1907438
Closes-Bug: #1907756
Change-Id: Ie5221bf37c6ed9268a4aa0737ffcdd811e39360a
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/766171/13 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,78c629bf52e4013e7b79b94ef431f58ff7e9944e,bug/1907438,"bandit>=1.1.0,<=1.6.2;python_version<'3.0' # Apache-2.0 bandit>=1.1.0;python_version>'3.0'# Apache-2.0",bandit>=1.1.0 # Apache-2.0,2,1
openstack%2Fpython-openstackclient~master~Icb98766f98bd1f2469bdb6df62b4624711f98422,openstack/python-openstackclient,master,Icb98766f98bd1f2469bdb6df62b4624711f98422,compute: Add 'server volume list' command,MERGED,2020-12-03 18:12:39.000000000,2021-01-09 00:46:42.000000000,2021-01-09 00:44:31.000000000,"[{'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-12-03 18:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7bb38166e8b18ff5daa9c28255eb09915c4c568a', 'message': ""WIP: compute: Add 'server volume list' command\n\nThis replaces the old 'nova volume-attachments' command.\n\nWIP because the test is incomplete.\n\nChange-Id: Icb98766f98bd1f2469bdb6df62b4624711f98422\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2020-12-07 18:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ffc57ce4f72bd21677658d9095a90be19243d7ea', 'message': ""WIP: compute: Add 'server volume list' command\n\nThis replaces the old 'nova volume-attachments' command.\n\nWIP because the test is incomplete.\n\nChange-Id: Icb98766f98bd1f2469bdb6df62b4624711f98422\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2020-12-08 16:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f50d5f23eeaa3dbeb9c47a453faf2dc22057a7fa', 'message': ""compute: Add 'server volume list' command\n\nThis replaces the old 'nova volume-attachments' command.\n\nChange-Id: Icb98766f98bd1f2469bdb6df62b4624711f98422\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2020-12-09 18:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c705d6d8308addec84679fcff6b8183e3c3f20d9', 'message': ""compute: Add 'server volume list' command\n\nThis replaces the old 'nova volume-attachments' command.\n\nChange-Id: Icb98766f98bd1f2469bdb6df62b4624711f98422\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2021-01-07 14:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8886e8a94c99710434e2457cde87e99d74b3bae4', 'message': ""compute: Add 'server volume list' command\n\nThis replaces the old 'nova volume-attachments' command.\n\nChange-Id: Icb98766f98bd1f2469bdb6df62b4624711f98422\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2021-01-08 12:14:50.000000000', 'files': ['releasenotes/notes/add-server-volume-update-89740dca61596dd1.yaml', 'openstackclient/tests/unit/compute/v2/test_server_volume.py', 'setup.cfg', 'openstackclient/tests/unit/compute/v2/fakes.py', 'openstackclient/compute/v2/server_volume.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d5026278ede4dbe8126839ec59ec4ca371e806a8', 'message': ""compute: Add 'server volume list' command\n\nThis replaces the old 'nova volume-attachments' command.\n\nChange-Id: Icb98766f98bd1f2469bdb6df62b4624711f98422\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",7,765367,d5026278ede4dbe8126839ec59ec4ca371e806a8,20,4,6,15334,,,0,"compute: Add 'server volume list' command

This replaces the old 'nova volume-attachments' command.

Change-Id: Icb98766f98bd1f2469bdb6df62b4624711f98422
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/67/765367/5 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-server-volume-update-89740dca61596dd1.yaml', 'openstackclient/tests/unit/compute/v2/test_server_volume.py', 'openstackclient/compute/v2/server_volume.py']",3,7bb38166e8b18ff5daa9c28255eb09915c4c568a,osc-first,"class ListServerVolume(command.Lister): """"""List all the volumes attached to a server."""""" def get_parser(self, prog_name): parser = super().get_parser(prog_name) parser.add_argument( 'server', help=_('Server to update volume for (name or ID)'), ) return parser def take_action(self, parsed_args): compute_client = self.app.client_manager.compute server = utils.find_resource( compute_client.servers, parsed_args.server, ) volumes = compute_client.volumes.get_server_volumes(server.id) columns = ( 'id', 'device', 'server_id', 'volume_id', ) column_headers = ( 'ID', 'Device', 'Server ID', 'Volume ID', ) if compute_client.api_version >= api_versions.APIVersion('2.70'): columns += ('tag',) column_headers += ('Tag',) if compute_client.api_version >= api_versions.APIVersion('2.79'): columns += ('delete_on_termination',) column_headers += ('Delete On Termination?',) table = ( column_headers, (utils.get_item_properties(s, columns) for s in volumes), ) return table ",,107,1
openstack%2Fpython-openstackclient~master~I6089c5200737b9319a8e96f2a2fc18b7cdd6b2c6,openstack/python-openstackclient,master,I6089c5200737b9319a8e96f2a2fc18b7cdd6b2c6,tests: Remove unused fake method,MERGED,2020-12-08 16:37:34.000000000,2021-01-09 00:45:43.000000000,2021-01-09 00:44:26.000000000,"[{'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-12-08 16:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e49a468c37391e808fcca557085abdd70c274762', 'message': 'tests: Remove unused fake method\n\nThe FakeServerMigration.get_server_migrations method was added in\nchange I15b4a5aca8d0dee59dd293e7b1c7272cdfbeea20 but has never been\nused. Remove it.\n\nChange-Id: I6089c5200737b9319a8e96f2a2fc18b7cdd6b2c6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2020-12-09 18:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4d9193cc35841f81e01f978639721264c5fc4cc7', 'message': 'tests: Remove unused fake method\n\nThe FakeServerMigration.get_server_migrations method was added in\nchange I15b4a5aca8d0dee59dd293e7b1c7272cdfbeea20 but has never been\nused. Remove it.\n\nChange-Id: I6089c5200737b9319a8e96f2a2fc18b7cdd6b2c6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2021-01-07 14:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6866794ee0a6054a9fbf22d0e8ebd4eac488c50a', 'message': 'tests: Remove unused fake method\n\nThe FakeServerMigration.get_server_migrations method was added in\nchange I15b4a5aca8d0dee59dd293e7b1c7272cdfbeea20 but has never been\nused. Remove it.\n\nChange-Id: I6089c5200737b9319a8e96f2a2fc18b7cdd6b2c6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2021-01-08 12:14:50.000000000', 'files': ['openstackclient/tests/unit/compute/v2/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b34905722015646538c8557f9fa91fc2b5edffdb', 'message': 'tests: Remove unused fake method\n\nThe FakeServerMigration.get_server_migrations method was added in\nchange I15b4a5aca8d0dee59dd293e7b1c7272cdfbeea20 but has never been\nused. Remove it.\n\nChange-Id: I6089c5200737b9319a8e96f2a2fc18b7cdd6b2c6\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,766040,b34905722015646538c8557f9fa91fc2b5edffdb,25,4,4,15334,,,0,"tests: Remove unused fake method

The FakeServerMigration.get_server_migrations method was added in
change I15b4a5aca8d0dee59dd293e7b1c7272cdfbeea20 but has never been
used. Remove it.

Change-Id: I6089c5200737b9319a8e96f2a2fc18b7cdd6b2c6
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/40/766040/4 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/tests/unit/compute/v2/fakes.py'],1,e49a468c37391e808fcca557085abdd70c274762,osc-first,," @staticmethod def get_server_migrations(migrations=None, count=2): """"""Get an iterable MagicMock object with a list of faked migrations. If server migrations list is provided, then initialize the Mock object with the list. Otherwise create one. :param List migrations: A list of FakeResource objects faking server migrations :param int count: The number of server migrations to fake :return: An iterable Mock object with side_effect set to a list of faked server migrations """""" if migrations is None: migrations = FakeServerMigration.create_server_migrations(count) return mock.Mock(side_effect=migrations)",0,19
openstack%2Frequirements~master~I401da8286b35062aed65ed50a757466663386082,openstack/requirements,master,I401da8286b35062aed65ed50a757466663386082,Updated from generate-constraints,MERGED,2021-01-08 06:19:24.000000000,2021-01-09 00:01:37.000000000,2021-01-09 00:00:23.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 06:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b4ff1ceeafbe7bf8808563659bd56b5815a9a567', 'message': 'Updated from generate-constraints\n\nChange-Id: I401da8286b35062aed65ed50a757466663386082\n'}, {'number': 2, 'created': '2021-01-08 06:21:42.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/78bac3cb679ed2487eff6b33c604e505884b103a', 'message': 'Updated from generate-constraints\n\nChange-Id: I401da8286b35062aed65ed50a757466663386082\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,769871,78bac3cb679ed2487eff6b33c604e505884b103a,15,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I401da8286b35062aed65ed50a757466663386082
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/71/769871/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b4ff1ceeafbe7bf8808563659bd56b5815a9a567,openstack/requirements/constraints/noclob,mock===4.0.3docutils===0.16boto3===1.16.51sphinxcontrib-svg2pdfconverter===1.1.1Sphinx===3.4.3PyMySQL===1.0.1botocore===1.19.51oslo.db===8.5.0pkg-resources===0.0.0hyperlink===21.0.0fasteners===0.16virtualenv===20.2.2,mock===3.0.5docutils===0.15.2boto3===1.16.50sphinxcontrib-svg2pdfconverter===1.1.0Sphinx===3.4.1PyMySQL===1.0.0botocore===1.19.50oslo.db===8.4.0hyperlink===20.0.1fasteners===0.14.1virtualenv===20.2.1setuptools===51.1.1,12,12
openstack%2Fopenstack-ansible~master~I7a01cb019a32c7d2b0fa8a326826ab2cf288939a,openstack/openstack-ansible,master,I7a01cb019a32c7d2b0fa8a326826ab2cf288939a,Gather minimal facts to use ansible_distribution,MERGED,2021-01-08 12:06:49.000000000,2021-01-08 23:47:31.000000000,2021-01-08 23:45:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-08 12:06:49.000000000', 'files': ['scripts/get-ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ab8ed8b7c9ca3d5618f8c820746e02521cdbeaaa', 'message': 'Gather minimal facts to use ansible_distribution\n\nWe tried to use `ansible_distribution` variable for localhost but we never\ngathered facts for it, so in real deployments we always fallback\nto rescue block.\n\nChange-Id: I7a01cb019a32c7d2b0fa8a326826ab2cf288939a\n'}]",0,769913,ab8ed8b7c9ca3d5618f8c820746e02521cdbeaaa,12,3,1,28619,,,0,"Gather minimal facts to use ansible_distribution

We tried to use `ansible_distribution` variable for localhost but we never
gathered facts for it, so in real deployments we always fallback
to rescue block.

Change-Id: I7a01cb019a32c7d2b0fa8a326826ab2cf288939a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/13/769913/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/get-ansible-role-requirements.yml'],1,ab8ed8b7c9ca3d5618f8c820746e02521cdbeaaa,, - name: Gather minimal facts setup: gather_subset: '!all' ,,4,0
openstack%2Fironic~stable%2Ftrain~I64da924b84d6a96d0440a562c0a7925406aff4c4,openstack/ironic,stable/train,I64da924b84d6a96d0440a562c0a7925406aff4c4,[stable-only] Fix bandit upper constraint,MERGED,2021-01-08 18:23:10.000000000,2021-01-08 23:20:10.000000000,2021-01-08 23:18:24.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 18:23:10.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/59525df9bd7d131297f26c6ad7538a9c7fd02ef9', 'message': '[stable-only] Fix bandit upper constraint\n\nThe 1.6.3 [1] release has dropped support for py2 [2] but the release\nis faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2\nwhen using py2.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n[3] https://github.com/PyCQA/bandit/issues/663\n[4] https://github.com/PyCQA/bandit/issues/665\n\nChange-Id: I64da924b84d6a96d0440a562c0a7925406aff4c4\n'}]",0,769977,59525df9bd7d131297f26c6ad7538a9c7fd02ef9,7,2,1,17685,,,0,"[stable-only] Fix bandit upper constraint

The 1.6.3 [1] release has dropped support for py2 [2] but the release
is faulty and pip still picks it up for py2 [3][4], so cap to 1.6.2
when using py2.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615
[3] https://github.com/PyCQA/bandit/issues/663
[4] https://github.com/PyCQA/bandit/issues/665

Change-Id: I64da924b84d6a96d0440a562c0a7925406aff4c4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/77/769977/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,59525df9bd7d131297f26c6ad7538a9c7fd02ef9,cap-bandit-1.6.2,"bandit!=1.6.0,>=1.1.0,<=1.6.2 # Apache-2.0","bandit!=1.6.0,>=1.1.0,<2.0.0 # Apache-2.0",1,1
openstack%2Fmanila-specs~master~I649e6ecf6b927ef28497d87763cf923f563ba92e,openstack/manila-specs,master,I649e6ecf6b927ef28497d87763cf923f563ba92e,remove unicode from code,MERGED,2021-01-03 07:58:05.000000000,2021-01-08 22:17:21.000000000,2021-01-08 22:16:02.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-03 07:58:05.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/c8588d0a6f254cf57a1e5bb5b9892c8fee612a2f', 'message': 'remove unicode from code\n\nChange-Id: I649e6ecf6b927ef28497d87763cf923f563ba92e\n'}]",0,768993,c8588d0a6f254cf57a1e5bb5b9892c8fee612a2f,7,2,1,30384,,,0,"remove unicode from code

Change-Id: I649e6ecf6b927ef28497d87763cf923f563ba92e
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/93/768993/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,c8588d0a6f254cf57a1e5bb5b9892c8fee612a2f,,"project = 'manila-specs' copyright = '%s, OpenStack Foundation' % datetime.date.today().year '%s Documentation' % project, 'OpenStack Foundation', 'manual'),","project = u'manila-specs' copyright = u'%s, OpenStack Foundation' % datetime.date.today().year u'%s Documentation' % project, u'OpenStack Foundation', 'manual'),",4,4
openstack%2Fmanila-specs~master~Ie3d4065346bd3f5c7c11b7ab83ffbefdc1783c56,openstack/manila-specs,master,Ie3d4065346bd3f5c7c11b7ab83ffbefdc1783c56,remove unicode from code,ABANDONED,2021-01-05 09:20:04.000000000,2021-01-08 22:09:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-05 09:20:04.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/c5142c4898a3f8f80d040345059c17d939b44fe8', 'message': 'remove unicode from code\n\nChange-Id: Ie3d4065346bd3f5c7c11b7ab83ffbefdc1783c56\n'}]",0,769273,c5142c4898a3f8f80d040345059c17d939b44fe8,3,1,1,32020,,,0,"remove unicode from code

Change-Id: Ie3d4065346bd3f5c7c11b7ab83ffbefdc1783c56
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/73/769273/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,c5142c4898a3f8f80d040345059c17d939b44fe8,,"project = 'manila-specs' copyright = '%s, OpenStack Foundation' % datetime.date.today().year '%s Documentation' % project, 'OpenStack Foundation', 'manual'),","project = u'manila-specs' copyright = u'%s, OpenStack Foundation' % datetime.date.today().year u'%s Documentation' % project, u'OpenStack Foundation', 'manual'),",4,4
openstack%2Fkeystone~master~I99724463a9e0042060c82d70d7ba59bff1fe99d0,openstack/keystone,master,I99724463a9e0042060c82d70d7ba59bff1fe99d0,Add py38 package metadata,NEW,2021-01-03 02:56:37.000000000,2021-01-08 21:58:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-03 02:56:37.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/keystone/commit/8e40d6d23e72f9327bbe3087b9a5ac0a03f4b1a4', 'message': 'Add py38 package metadata\n\nNow that we are running the Wallaby tests that include a\nvoting py38 job from victoria release, we can now add the\nPython 3.8 metadata to the package information to reflect\nthat support.\n\nChange-Id: I99724463a9e0042060c82d70d7ba59bff1fe99d0\n'}]",0,768923,8e40d6d23e72f9327bbe3087b9a5ac0a03f4b1a4,5,1,1,31027,,,0,"Add py38 package metadata

Now that we are running the Wallaby tests that include a
voting py38 job from victoria release, we can now add the
Python 3.8 metadata to the package information to reflect
that support.

Change-Id: I99724463a9e0042060c82d70d7ba59bff1fe99d0
",git fetch https://review.opendev.org/openstack/keystone refs/changes/23/768923/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8e40d6d23e72f9327bbe3087b9a5ac0a03f4b1a4,, Programming Language :: Python :: 3.8,,1,0
openstack%2Fopenstacksdk~stable%2Fussuri~I56edd53f7cb4fa702922e3e34c24fdfed98083e4,openstack/openstacksdk,stable/ussuri,I56edd53f7cb4fa702922e3e34c24fdfed98083e4,OpenStack port decorator variables,MERGED,2020-08-24 11:29:36.000000000,2021-01-08 21:10:55.000000000,2021-01-08 21:09:11.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-08-24 11:29:36.000000000', 'files': ['openstack/cloud/_network.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7149e50a1e2a2e77651727ed16a37822ccfa1daf', 'message': 'OpenStack port decorator variables\n\nThe OpenStack port binding_host_id attribute is modifiable,\nbut an error will be reported when calling ‘def create_port’\nof the OpenStack SDK, because the binding: host_id variable\ndoes not exist in ‘@_utils’ and the binding_host_id attribute\ncannot be changed.\n\nChange-Id: I56edd53f7cb4fa702922e3e34c24fdfed98083e4\n(cherry picked from commit 4f2e76122c86705e42203cb2f0595d79bd78cbfe)\n'}]",0,747688,7149e50a1e2a2e77651727ed16a37822ccfa1daf,9,5,1,31506,,,0,"OpenStack port decorator variables

The OpenStack port binding_host_id attribute is modifiable,
but an error will be reported when calling ‘def create_port’
of the OpenStack SDK, because the binding: host_id variable
does not exist in ‘@_utils’ and the binding_host_id attribute
cannot be changed.

Change-Id: I56edd53f7cb4fa702922e3e34c24fdfed98083e4
(cherry picked from commit 4f2e76122c86705e42203cb2f0595d79bd78cbfe)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/88/747688/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_network.py'],1,7149e50a1e2a2e77651727ed16a37822ccfa1daf,," 'qos_policy_id', 'binding:host_id') 'port_security_enabled', 'qos_policy_id', 'binding:host_id')"," 'qos_policy_id') 'port_security_enabled', 'qos_policy_id')",3,2
openstack%2Fopenstacksdk~stable%2Fussuri~Ia615288da30426c2f689daa3e5f88376aead1d3f,openstack/openstacksdk,stable/ussuri,Ia615288da30426c2f689daa3e5f88376aead1d3f,Support roles 'name' in list_roles call,MERGED,2021-01-06 09:17:21.000000000,2021-01-08 21:09:20.000000000,2021-01-08 21:05:59.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-01-06 09:17:21.000000000', 'files': ['openstack/cloud/_identity.py', 'openstack/tests/unit/cloud/test_identity_roles.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5028f7b7f5b82963cdd9b6cac4b2a2817576ab7d', 'message': ""Support roles 'name' in list_roles call\n\nChange-Id: Ia615288da30426c2f689daa3e5f88376aead1d3f\n""}]",0,769375,5028f7b7f5b82963cdd9b6cac4b2a2817576ab7d,9,3,1,10969,,,0,"Support roles 'name' in list_roles call

Change-Id: Ia615288da30426c2f689daa3e5f88376aead1d3f
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/75/769375/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/cloud/_identity.py', 'openstack/tests/unit/cloud/test_identity_roles.py']",2,5028f7b7f5b82963cdd9b6cac4b2a2817576ab7d,name_roles-stable/ussuri," def test_list_role_by_name(self): role_data = self._get_role_data() self.register_uris([ dict(method='GET', uri=self.get_mock_url( qs_elements=['name={0}'.format(role_data.role_name)]), status_code=200, json={'roles': [role_data.json_response['role']]}) ]) role = self.cloud.list_roles(name=role_data.role_name)[0] self.assertIsNotNone(role) self.assertThat(role.id, matchers.Equals(role_data.role_id)) self.assertThat(role.name, matchers.Equals(role_data.role_name)) self.assert_calls() ",,17,1
openstack%2Fansible-role-collect-logs~master~Id6c892bfcea48dad839d449d5b5ac226264e0aed,openstack/ansible-role-collect-logs,master,Id6c892bfcea48dad839d449d5b5ac226264e0aed,Add another packages failure pattern,MERGED,2021-01-07 22:55:36.000000000,2021-01-08 21:09:02.000000000,2021-01-08 21:09:02.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-07 22:55:36.000000000', 'files': ['vars/sova-patterns.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/28fc4f065973552a5b1c5b1bfbd617d06eedc8a9', 'message': 'Add another packages failure pattern\n\nChange-Id: Id6c892bfcea48dad839d449d5b5ac226264e0aed\n'}]",0,769850,28fc4f065973552a5b1c5b1bfbd617d06eedc8a9,7,3,1,10969,,,0,"Add another packages failure pattern

Change-Id: Id6c892bfcea48dad839d449d5b5ac226264e0aed
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/50/769850/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/sova-patterns.yml'],1,28fc4f065973552a5b1c5b1bfbd617d06eedc8a9,," - id: 93 msg: ""Packages download failure."" pattern: 'Failed to download packages: Cannot download' tag: ""infra"" logstash: ""Failed to download packages: Cannot download""",,5,0
openstack%2Fmanila-tempest-plugin~master~I472c4ba4511e474a7d944769884284c5bc9219ac,openstack/manila-tempest-plugin,master,I472c4ba4511e474a7d944769884284c5bc9219ac,Add doc/requirements,MERGED,2021-01-07 11:55:37.000000000,2021-01-08 20:55:00.000000000,2021-01-08 20:55:00.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2021-01-07 11:55:37.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/8cce66b545025d105dacaf1ee02942a84afcd79d', 'message': ""Add doc/requirements\n\nWe need to specify doc requirements in doc/requirements.txt\nto avoid problems with the pip resolver [1] for the release team [2][3].\n\nRemoving specific doc requirements from test-requirements.txt.\n\nThe problem here is that this repos haven't doc/requirements.txt file\nand by default in this case zuul will use the test-requirements.txt file\nto pull requirements [4].\n\nThis requirements file contains extra requirements like flake8 that\ncollided with those allowed in our job environment and so the new pip\nresolver fails to install these requirements and the job exits in error.\n\nThis project meet the conditions leading to the bug.\n\n[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html\n[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36\n\nChange-Id: I472c4ba4511e474a7d944769884284c5bc9219ac\n""}]",0,769713,8cce66b545025d105dacaf1ee02942a84afcd79d,9,3,1,28522,,,0,"Add doc/requirements

We need to specify doc requirements in doc/requirements.txt
to avoid problems with the pip resolver [1] for the release team [2][3].

Removing specific doc requirements from test-requirements.txt.

The problem here is that this repos haven't doc/requirements.txt file
and by default in this case zuul will use the test-requirements.txt file
to pull requirements [4].

This requirements file contains extra requirements like flake8 that
collided with those allowed in our job environment and so the new pip
resolver fails to install these requirements and the job exits in error.

This project meet the conditions leading to the bug.

[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html
[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36

Change-Id: I472c4ba4511e474a7d944769884284c5bc9219ac
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/13/769713/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,8cce66b545025d105dacaf1ee02942a84afcd79d,fix-relmgt-pip-doc,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txtdeps = {[testenv:docs]deps},,6,3
openstack%2Fswift~master~I5fc696625d69d1ee9218ee2a508a1b9be6cf9685,openstack/swift,master,I5fc696625d69d1ee9218ee2a508a1b9be6cf9685,Use cached shard ranges for container GETs,MERGED,2020-11-05 19:44:30.000000000,2021-01-08 20:52:58.000000000,2021-01-08 20:50:45.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-05 19:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6d8bf951082e5472349e1509de04cc59d8273b62', 'message': 'WIP - cache listing shard ranges\n\nWith this change, when the proxy knows from cached container metadata\nthat the container is sharding or sharded then it will cache shard\nranges fetched from the backend during a container GET. On subsequent\ncontainer GETs the proxy will use the cached shard ranges to gather\nobject listings from shard containers.\n\nThe proxy will only cache listing shard ranges, and will only use\ncached ranges, when an X-Backend-Accept-Cached-Results header with a\ntrue value is present in the container GET request. Currently,\ncontainer GET responses that use cached shard ranges may not have a\ncomplete set of headers as described by the API; a middleware setting\nX-Backend-Accept-Cached-Results should therefore not expect a complete\nset of response headers. Get responses that use cached shard ranges\nwill have an X-Backend-Cached-Results headers with a true value.\n\nChange-Id: I5fc696625d69d1ee9218ee2a508a1b9be6cf9685\n'}, {'number': 2, 'created': '2020-11-11 21:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e23d336505428866a3496fc9293faff96f196550', 'message': ""WIP - Use cached shard ranges for container GETs\n\nThis patch makes three significant changes to the handling of GET\nrequests for sharding or sharded containers:\n  - container server GET requests may now result in the entire list of\n    shard ranges being returned for the 'listing' state regardless of\n    any request parameter constraints.\n  - the proxy server may cache that list of shard ranges in memcache\n    and the requests environ infocache dict, and subsequently use the\n    cached shard ranges when handling GET requests for the same\n    container.\n  - the proxy now caches more container metadata so that it can\n    synthesize a complete set of container GET response headers from\n    cache.\n\nWith this change, when the proxy knows from cached container metadata\nthat the container is sharding or sharded then it will cache shard\nranges fetched from the backend during a container GET in memcache.\nOn subsequent container GETs the proxy will use the cached shard\nranges to gather object listings from shard containers, avoiding\nfurther GET requests to the root container until the cached shard\nranges expire from cache.\n\nCached shard ranges are most useful if they cover the entire object\nname space in the container. The proxy therefore uses a new\nX-Backend-Override-Shard-Name-Filter header to instruct the container\nserver to ignore any request parameters that would constrain the\nreturned shard range listing i.e. 'marker', 'end_marker', 'includes'\nand 'reverse' parameters.  Having obtained the entire shard range\nlisting (either from the server or from cache) the proxy now applies\nthose request parameter constraints itself when constructing the\nclient response.\n\nWhen using cached shard ranges the proxy will synthesize response\nheaders from the container metadata that is also in cache. To enable\nthe full set of container GET response headers to be synthezised in\nthis way, the set of metadata that the proxy caches when handling a\nbackend container GET response is expanded to include various\ntimestamps.\n\nTODO:\n- remove need for X-Accept-Cached-Results header\n  now that response headers are API compliant\n- make code path to use cached shard ranges conditional\n  on shard cache expiry time >0\n- unit test HEAD from cache\n- unit test GET when server does not respect\n  X-Backend-Override-Shard-Name-Filter (e.g. during upgrade)\n- functional test repeated HEADs to check if cached\n- unit test headers_from_container_info\n- unit test get_cache_key\n- more probe test changes\n- tidy up logging\n\nChange-Id: I5fc696625d69d1ee9218ee2a508a1b9be6cf9685\n""}, {'number': 3, 'created': '2020-11-12 15:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/aa14ea3be90943361a8da5a51edf9f21b38da155', 'message': ""WIP - Use cached shard ranges for container GETs\n\nThis patch makes three significant changes to the handling of GET\nrequests for sharding or sharded containers:\n  - container server GET requests may now result in the entire list of\n    shard ranges being returned for the 'listing' state regardless of\n    any request parameter constraints.\n  - the proxy server may cache that list of shard ranges in memcache\n    and the requests environ infocache dict, and subsequently use the\n    cached shard ranges when handling GET requests for the same\n    container.\n  - the proxy now caches more container metadata so that it can\n    synthesize a complete set of container GET response headers from\n    cache.\n\nWith this change, when the proxy knows from cached container metadata\nthat the container is sharded then it will cache shard\nranges fetched from the backend during a container GET in memcache.\nOn subsequent container GETs the proxy will use the cached shard\nranges to gather object listings from shard containers, avoiding\nfurther GET requests to the root container until the cached shard\nranges expire from cache.\n\nCached shard ranges are most useful if they cover the entire object\nname space in the container. The proxy therefore uses a new\nX-Backend-Override-Shard-Name-Filter header to instruct the container\nserver to ignore any request parameters that would constrain the\nreturned shard range listing i.e. 'marker', 'end_marker', 'includes'\nand 'reverse' parameters.  Having obtained the entire shard range\nlisting (either from the server or from cache) the proxy now applies\nthose request parameter constraints itself when constructing the\nclient response.\n\nWhen using cached shard ranges the proxy will synthesize response\nheaders from the container metadata that is also in cache. To enable\nthe full set of container GET response headers to be synthezised in\nthis way, the set of metadata that the proxy caches when handling a\nbackend container GET response is expanded to include various\ntimestamps.\n\nTODO:\n- move the HEAD-from-cache feature to a follow-on patch and unit test\n  HEAD from cache; functional test repeated HEADs to check if cached\n- remove need for X-Accept-Cached-Results header now that response\n  headers are API compliant\n- make code path to use cached shard ranges conditional on shard cache\n  expiry time >0\n- unit test GET when server does not respect\n  X-Backend-Override-Shard-Name-Filter (e.g. during upgrade)\n- unit test headers_from_container_info\n- unit test get_cache_key\n- more probe test changes\n- unit test container/server changes\n\nChange-Id: I5fc696625d69d1ee9218ee2a508a1b9be6cf9685\n""}, {'number': 4, 'created': '2020-11-16 18:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6850a4383ef1661082f976832cf5e5c3482c276d', 'message': ""WIP - Use cached shard ranges for container GETs\n\nThis patch makes three significant changes to the handling of GET\nrequests for sharding or sharded containers:\n  - container server GET requests may now result in the entire list of\n    shard ranges being returned for the 'listing' state regardless of\n    any request parameter constraints.\n  - the proxy server may cache that list of shard ranges in memcache\n    and the requests environ infocache dict, and subsequently use the\n    cached shard ranges when handling GET requests for the same\n    container.\n  - the proxy now caches more container metadata so that it can\n    synthesize a complete set of container GET response headers from\n    cache.\n\nWith this change, when the proxy learns from container metadata\nthat the container is sharded then it will cache shard\nranges fetched from the backend during a container GET in memcache.\nOn subsequent container GETs the proxy will use the cached shard\nranges to gather object listings from shard containers, avoiding\nfurther GET requests to the root container until the cached shard\nranges expire from cache.\n\nCached shard ranges are most useful if they cover the entire object\nname space in the container. The proxy therefore uses a new\nX-Backend-Override-Shard-Name-Filter header to instruct the container\nserver to ignore any request parameters that would constrain the\nreturned shard range listing i.e. 'marker', 'end_marker', 'includes'\nand 'reverse' parameters.  Having obtained the entire shard range\nlisting (either from the server or from cache) the proxy now applies\nthose request parameter constraints itself when constructing the\nclient response.\n\nWhen using cached shard ranges the proxy will synthesize response\nheaders from the container metadata that is also in cache. To enable\nthe full set of container GET response headers to be synthezised in\nthis way, the set of metadata that the proxy caches when handling a\nbackend container GET response is expanded to include various\ntimestamps.\n\nTODO:\n- more probe test changes\n- assert API compliant headers in probe tests (since these are only\n  black box tests against a sharded container)\n\nChange-Id: I5fc696625d69d1ee9218ee2a508a1b9be6cf9685\n""}, {'number': 5, 'created': '2020-11-23 17:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4609bce98f6ee1d1aab06517b6f933657624a411', 'message': ""Use cached shard ranges for container GETs\n\nThis patch makes four significant changes to the handling of GET\nrequests for sharding or sharded containers:\n  - container server GET requests may now result in the entire list of\n    shard ranges being returned for the 'listing' state regardless of\n    any request parameter constraints.\n  - the proxy server may cache that list of shard ranges in memcache\n    and the requests environ infocache dict, and subsequently use the\n    cached shard ranges when handling GET requests for the same\n    container.\n  - the proxy now caches more container metadata so that it can\n    synthesize a complete set of container GET response headers from\n    cache.\n  - the proxy server now enforces more container GET request validity\n    checks that were previously only enforced by the backend server,\n    e.g. checks for valid request parameter values\n\nWith this change, when the proxy learns from container metadata\nthat the container is sharded then it will cache shard\nranges fetched from the backend during a container GET in memcache.\nOn subsequent container GETs the proxy will use the cached shard\nranges to gather object listings from shard containers, avoiding\nfurther GET requests to the root container until the cached shard\nranges expire from cache.\n\nCached shard ranges are most useful if they cover the entire object\nname space in the container. The proxy therefore uses a new\nX-Backend-Override-Shard-Name-Filter header to instruct the container\nserver to ignore any request parameters that would constrain the\nreturned shard range listing i.e. 'marker', 'end_marker', 'includes'\nand 'reverse' parameters.  Having obtained the entire shard range\nlisting (either from the server or from cache) the proxy now applies\nthose request parameter constraints itself when constructing the\nclient response.\n\nWhen using cached shard ranges the proxy will synthesize response\nheaders from the container metadata that is also in cache. To enable\nthe full set of container GET response headers to be synthezised in\nthis way, the set of metadata that the proxy caches when handling a\nbackend container GET response is expanded to include various\ntimestamps.\n\nThe X-Newest header may be used to disable looking up shard ranges\nin cache.\n\nChange-Id: I5fc696625d69d1ee9218ee2a508a1b9be6cf9685\n""}, {'number': 6, 'created': '2020-12-15 20:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c0a08fc3becfa12723275a77844ef80a1feb45d5', 'message': ""Use cached shard ranges for container GETs\n\nThis patch makes four significant changes to the handling of GET\nrequests for sharding or sharded containers:\n  - container server GET requests may now result in the entire list of\n    shard ranges being returned for the 'listing' state regardless of\n    any request parameter constraints.\n  - the proxy server may cache that list of shard ranges in memcache\n    and the requests environ infocache dict, and subsequently use the\n    cached shard ranges when handling GET requests for the same\n    container.\n  - the proxy now caches more container metadata so that it can\n    synthesize a complete set of container GET response headers from\n    cache.\n  - the proxy server now enforces more container GET request validity\n    checks that were previously only enforced by the backend server,\n    e.g. checks for valid request parameter values\n\nWith this change, when the proxy learns from container metadata\nthat the container is sharded then it will cache shard\nranges fetched from the backend during a container GET in memcache.\nOn subsequent container GETs the proxy will use the cached shard\nranges to gather object listings from shard containers, avoiding\nfurther GET requests to the root container until the cached shard\nranges expire from cache.\n\nCached shard ranges are most useful if they cover the entire object\nname space in the container. The proxy therefore uses a new\nX-Backend-Override-Shard-Name-Filter header to instruct the container\nserver to ignore any request parameters that would constrain the\nreturned shard range listing i.e. 'marker', 'end_marker', 'includes'\nand 'reverse' parameters.  Having obtained the entire shard range\nlisting (either from the server or from cache) the proxy now applies\nthose request parameter constraints itself when constructing the\nclient response.\n\nWhen using cached shard ranges the proxy will synthesize response\nheaders from the container metadata that is also in cache. To enable\nthe full set of container GET response headers to be synthezised in\nthis way, the set of metadata that the proxy caches when handling a\nbackend container GET response is expanded to include various\ntimestamps.\n\nThe X-Newest header may be used to disable looking up shard ranges\nin cache.\n\nChange-Id: I5fc696625d69d1ee9218ee2a508a1b9be6cf9685\n""}, {'number': 7, 'created': '2020-12-31 19:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e83a0d9e949e392ff415becff5aa7f820b2ec0a1', 'message': ""Use cached shard ranges for container GETs\n\nThis patch makes four significant changes to the handling of GET\nrequests for sharding or sharded containers:\n  - container server GET requests may now result in the entire list of\n    shard ranges being returned for the 'listing' state regardless of\n    any request parameter constraints.\n  - the proxy server may cache that list of shard ranges in memcache\n    and the requests environ infocache dict, and subsequently use the\n    cached shard ranges when handling GET requests for the same\n    container.\n  - the proxy now caches more container metadata so that it can\n    synthesize a complete set of container GET response headers from\n    cache.\n  - the proxy server now enforces more container GET request validity\n    checks that were previously only enforced by the backend server,\n    e.g. checks for valid request parameter values\n\nWith this change, when the proxy learns from container metadata\nthat the container is sharded then it will cache shard\nranges fetched from the backend during a container GET in memcache.\nOn subsequent container GETs the proxy will use the cached shard\nranges to gather object listings from shard containers, avoiding\nfurther GET requests to the root container until the cached shard\nranges expire from cache.\n\nCached shard ranges are most useful if they cover the entire object\nname space in the container. The proxy therefore uses a new\nX-Backend-Override-Shard-Name-Filter header to instruct the container\nserver to ignore any request parameters that would constrain the\nreturned shard range listing i.e. 'marker', 'end_marker', 'includes'\nand 'reverse' parameters.  Having obtained the entire shard range\nlisting (either from the server or from cache) the proxy now applies\nthose request parameter constraints itself when constructing the\nclient response.\n\nWhen using cached shard ranges the proxy will synthesize response\nheaders from the container metadata that is also in cache. To enable\nthe full set of container GET response headers to be synthezised in\nthis way, the set of metadata that the proxy caches when handling a\nbackend container GET response is expanded to include various\ntimestamps.\n\nThe X-Newest header may be used to disable looking up shard ranges\nin cache.\n\nChange-Id: I5fc696625d69d1ee9218ee2a508a1b9be6cf9685\n""}, {'number': 8, 'created': '2021-01-05 11:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/40cdc7e4e339248bce899ee1f01b92fb7c6d662a', 'message': ""Use cached shard ranges for container GETs\n\nThis patch makes four significant changes to the handling of GET\nrequests for sharding or sharded containers:\n  - container server GET requests may now result in the entire list of\n    shard ranges being returned for the 'listing' state regardless of\n    any request parameter constraints.\n  - the proxy server may cache that list of shard ranges in memcache\n    and the requests environ infocache dict, and subsequently use the\n    cached shard ranges when handling GET requests for the same\n    container.\n  - the proxy now caches more container metadata so that it can\n    synthesize a complete set of container GET response headers from\n    cache.\n  - the proxy server now enforces more container GET request validity\n    checks that were previously only enforced by the backend server,\n    e.g. checks for valid request parameter values\n\nWith this change, when the proxy learns from container metadata\nthat the container is sharded then it will cache shard\nranges fetched from the backend during a container GET in memcache.\nOn subsequent container GETs the proxy will use the cached shard\nranges to gather object listings from shard containers, avoiding\nfurther GET requests to the root container until the cached shard\nranges expire from cache.\n\nCached shard ranges are most useful if they cover the entire object\nname space in the container. The proxy therefore uses a new\nX-Backend-Override-Shard-Name-Filter header to instruct the container\nserver to ignore any request parameters that would constrain the\nreturned shard range listing i.e. 'marker', 'end_marker', 'includes'\nand 'reverse' parameters.  Having obtained the entire shard range\nlisting (either from the server or from cache) the proxy now applies\nthose request parameter constraints itself when constructing the\nclient response.\n\nWhen using cached shard ranges the proxy will synthesize response\nheaders from the container metadata that is also in cache. To enable\nthe full set of container GET response headers to be synthezised in\nthis way, the set of metadata that the proxy caches when handling a\nbackend container GET response is expanded to include various\ntimestamps.\n\nThe X-Newest header may be used to disable looking up shard ranges\nin cache.\n\nChange-Id: I5fc696625d69d1ee9218ee2a508a1b9be6cf9685\n""}, {'number': 9, 'created': '2021-01-06 16:29:13.000000000', 'files': ['test/unit/common/test_request_helpers.py', 'test/unit/proxy/test_server.py', 'test/unit/__init__.py', 'test/unit/proxy/controllers/test_container.py', 'test/probe/test_sharder.py', 'test/unit/proxy/controllers/test_base.py', 'test/unit/container/test_server.py', 'swift/proxy/server.py', 'swift/container/server.py', 'swift/common/utils.py', 'etc/proxy-server.conf-sample', 'swift/common/request_helpers.py', 'swift/container/backend.py', 'swift/proxy/controllers/container.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/077ba77ea6f735c98709b60e1fc9aa9f0f90676a', 'message': ""Use cached shard ranges for container GETs\n\nThis patch makes four significant changes to the handling of GET\nrequests for sharding or sharded containers:\n  - container server GET requests may now result in the entire list of\n    shard ranges being returned for the 'listing' state regardless of\n    any request parameter constraints.\n  - the proxy server may cache that list of shard ranges in memcache\n    and the requests environ infocache dict, and subsequently use the\n    cached shard ranges when handling GET requests for the same\n    container.\n  - the proxy now caches more container metadata so that it can\n    synthesize a complete set of container GET response headers from\n    cache.\n  - the proxy server now enforces more container GET request validity\n    checks that were previously only enforced by the backend server,\n    e.g. checks for valid request parameter values\n\nWith this change, when the proxy learns from container metadata\nthat the container is sharded then it will cache shard\nranges fetched from the backend during a container GET in memcache.\nOn subsequent container GETs the proxy will use the cached shard\nranges to gather object listings from shard containers, avoiding\nfurther GET requests to the root container until the cached shard\nranges expire from cache.\n\nCached shard ranges are most useful if they cover the entire object\nname space in the container. The proxy therefore uses a new\nX-Backend-Override-Shard-Name-Filter header to instruct the container\nserver to ignore any request parameters that would constrain the\nreturned shard range listing i.e. 'marker', 'end_marker', 'includes'\nand 'reverse' parameters.  Having obtained the entire shard range\nlisting (either from the server or from cache) the proxy now applies\nthose request parameter constraints itself when constructing the\nclient response.\n\nWhen using cached shard ranges the proxy will synthesize response\nheaders from the container metadata that is also in cache. To enable\nthe full set of container GET response headers to be synthezised in\nthis way, the set of metadata that the proxy caches when handling a\nbackend container GET response is expanded to include various\ntimestamps.\n\nThe X-Newest header may be used to disable looking up shard ranges\nin cache.\n\nChange-Id: I5fc696625d69d1ee9218ee2a508a1b9be6cf9685\n""}]",148,761659,077ba77ea6f735c98709b60e1fc9aa9f0f90676a,40,5,9,7847,,,0,"Use cached shard ranges for container GETs

This patch makes four significant changes to the handling of GET
requests for sharding or sharded containers:
  - container server GET requests may now result in the entire list of
    shard ranges being returned for the 'listing' state regardless of
    any request parameter constraints.
  - the proxy server may cache that list of shard ranges in memcache
    and the requests environ infocache dict, and subsequently use the
    cached shard ranges when handling GET requests for the same
    container.
  - the proxy now caches more container metadata so that it can
    synthesize a complete set of container GET response headers from
    cache.
  - the proxy server now enforces more container GET request validity
    checks that were previously only enforced by the backend server,
    e.g. checks for valid request parameter values

With this change, when the proxy learns from container metadata
that the container is sharded then it will cache shard
ranges fetched from the backend during a container GET in memcache.
On subsequent container GETs the proxy will use the cached shard
ranges to gather object listings from shard containers, avoiding
further GET requests to the root container until the cached shard
ranges expire from cache.

Cached shard ranges are most useful if they cover the entire object
name space in the container. The proxy therefore uses a new
X-Backend-Override-Shard-Name-Filter header to instruct the container
server to ignore any request parameters that would constrain the
returned shard range listing i.e. 'marker', 'end_marker', 'includes'
and 'reverse' parameters.  Having obtained the entire shard range
listing (either from the server or from cache) the proxy now applies
those request parameter constraints itself when constructing the
client response.

When using cached shard ranges the proxy will synthesize response
headers from the container metadata that is also in cache. To enable
the full set of container GET response headers to be synthezised in
this way, the set of metadata that the proxy caches when handling a
backend container GET response is expanded to include various
timestamps.

The X-Newest header may be used to disable looking up shard ranges
in cache.

Change-Id: I5fc696625d69d1ee9218ee2a508a1b9be6cf9685
",git fetch https://review.opendev.org/openstack/swift refs/changes/59/761659/9 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'test/unit/proxy/test_server.py', 'test/unit/__init__.py', 'etc/proxy-server.conf-sample', 'test/unit/proxy/controllers/test_container.py', 'swift/container/backend.py', 'swift/proxy/controllers/container.py', 'swift/proxy/server.py', 'swift/proxy/controllers/base.py']",9,6d8bf951082e5472349e1509de04cc59d8273b62,p-cache-shard-listings,"DEFAULT_RECHECK_LISTING_SHARD_RANGES = 600 # secondsdef headers_from_container_info(info): headers = HeaderKeyDict({ 'x-container-read': info.get('read_acl'), 'x-container-write': info.get('write_acl'), 'x-container-sync-key': info.get('sync_key'), 'x-container-sync-to': info.get('sync_to'), 'x-container-object-count': info.get('object_count'), 'x-container-bytes-used': info.get('bytes'), 'x-versions-location': info.get('versions'), 'x-backend-storage-policy-index': info.get('storage_policy'), 'x-backend-sharding-state': info.get('sharding_state') }) policy_index = info.get('policy_index') if policy_index is not None: headers['x-storage-policy'] = POLICIES[policy_index].name, headers.update( ('x-container-meta-' + k, v) for k, v in info.get('meta', {}).items()) headers.update( ('x-container-sysmeta-' + k, v) for k, v in info.get('sysmeta', {}).items()) headers = {h: str(v) for h, v in headers.items() if v is not None} return headers keys = [cache_key] if container: # TODO: also purge updating shard ranges keys? keys.append(get_cache_key(account, container, shard='listing')) for key in keys: infocache.pop(key, None) if memcache: memcache.delete(key) return def _parse_listing_response(self, req, response): if not is_success(response.status_int): self.app.logger.warning( 'Failed to get container listing from %s: %s', req.path_qs, response.status_int) return None try: data = json.loads(response.body) if not isinstance(data, list): raise ValueError('not a list') return data except ValueError as err: self.app.logger.error( 'Problem with listing response from %s: %r', req.path_qs, err) return None :param container: container from which listing should be fetched. data = self._parse_listing_response(req, response) return data, response def _parse_shard_ranges(self, req, listing, response): if listing is None: return None record_type = response.headers.get('x-backend-record-type') if record_type != 'shard': err = 'unexpected record type %r' % record_type self.app.logger.error(""Failed to get shard ranges from %s: %s"", req.path_qs, err) return None return [ShardRange.from_dict(shard_range) for shard_range in listing] except (ValueError, TypeError, KeyError) as err: ""Failed to get shard ranges from %s: invalid data: %r"", req.path_qs, err) return None return self._parse_shard_ranges(req, listing, response)"," infocache.pop(cache_key, None) if memcache: memcache.delete(cache_key) return :param container: container from listing should be fetched. if not is_success(response.status_int): self.app.logger.warning( 'Failed to get container listing from %s: %s', subreq.path_qs, response.status_int) return None, response data = json.loads(response.body) if not isinstance(data, list): raise ValueError('not a list') return data, response except ValueError as err: 'Problem with listing response from %s: %r', subreq.path_qs, err) return None, response if listing is None: return None record_type = response.headers.get('x-backend-record-type') if record_type != 'shard': err = 'unexpected record type %r' % record_type self.app.logger.error(""Failed to get shard ranges from %s: %s"", req.path_qs, err) return None try: return [ShardRange.from_dict(shard_range) for shard_range in listing] except (ValueError, TypeError, KeyError) as err: self.app.logger.error( ""Failed to get shard ranges from %s: invalid data: %r"", req.path_qs, err) return None",582,65
openstack%2Fneutron~stable%2Fussuri~I5cbe09e26120905b29351d61bbadb30b5dd14938,openstack/neutron,stable/ussuri,I5cbe09e26120905b29351d61bbadb30b5dd14938,[OVN] Fix inconsistent IGMP configuration,MERGED,2020-11-30 10:38:36.000000000,2021-01-08 20:30:55.000000000,2021-01-08 20:26:45.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-30 10:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b105f23952bf7293f91075a179e327bf6482137', 'message': '[OVN] Fix inconsistent IGMP configuration\n\nPrior to this patch the IGMP configuration for ML2/OVN was inconsistent\nwith the configuration option description and also the ML2/OVS driver\nbecause it was flooding traffic to unregistered VMs [0].\n\nThe ""igmp_snooping_enable"" configuration option says:\n\n""Setting this option to True will also enable Open vSwitch\nmcast-snooping-disable-flood-unregistered flag. This option will disable\nflooding of unregistered multicast packets to all ports.""\n\nBut, in ML2/OVN that behavior was inconsistent prior to this patch\nbecause it allowed traffic to flood to unregistered VMs. This patch\nfixes it.\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py\n    neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\n[0]\nhttps://opendev.org/openstack/neutron/src/branch/master/neutron/conf/agent/ovs_conf.py#L36-L47\n\nChange-Id: I5cbe09e26120905b29351d61bbadb30b5dd14938\nCloses-Bug: #1904399\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 9dc8bca7401106313cb227cb85d07eba7d987cb5)\n'}, {'number': 2, 'created': '2020-12-01 10:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a8ed2de2a6976b0bc81a68f4c8b5ad19719816f', 'message': '[OVN] Fix inconsistent IGMP configuration\n\nPrior to this patch the IGMP configuration for ML2/OVN was inconsistent\nwith the configuration option description and also the ML2/OVS driver\nbecause it was flooding traffic to unregistered VMs [0].\n\nThe ""igmp_snooping_enable"" configuration option says:\n\n""Setting this option to True will also enable Open vSwitch\nmcast-snooping-disable-flood-unregistered flag. This option will disable\nflooding of unregistered multicast packets to all ports.""\n\nBut, in ML2/OVN that behavior was inconsistent prior to this patch\nbecause it allowed traffic to flood to unregistered VMs. This patch\nfixes it.\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py\n    neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\n[0]\nhttps://opendev.org/openstack/neutron/src/branch/master/neutron/conf/agent/ovs_conf.py#L36-L47\n\nChange-Id: I5cbe09e26120905b29351d61bbadb30b5dd14938\nCloses-Bug: #1904399\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 9dc8bca7401106313cb227cb85d07eba7d987cb5)\n'}, {'number': 3, 'created': '2020-12-21 10:07:39.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'doc/source/admin/ovn/igmp.rst', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'releasenotes/notes/ovn-igmp-flood-unregistered-82aeb640f5dded84.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a34783be3b1b6deaa548808f93e39216794718a0', 'message': '[OVN] Fix inconsistent IGMP configuration\n\nPrior to this patch the IGMP configuration for ML2/OVN was inconsistent\nwith the configuration option description and also the ML2/OVS driver\nbecause it was flooding traffic to unregistered VMs [0].\n\nThe ""igmp_snooping_enable"" configuration option says:\n\n""Setting this option to True will also enable Open vSwitch\nmcast-snooping-disable-flood-unregistered flag. This option will disable\nflooding of unregistered multicast packets to all ports.""\n\nBut, in ML2/OVN that behavior was inconsistent prior to this patch\nbecause it allowed traffic to flood to unregistered VMs. This patch\nfixes it.\n\nConflicts:\n    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py\n    neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py\n    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\n[0]\nhttps://opendev.org/openstack/neutron/src/branch/master/neutron/conf/agent/ovs_conf.py#L36-L47\n\nChange-Id: I5cbe09e26120905b29351d61bbadb30b5dd14938\nCloses-Bug: #1904399\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 9dc8bca7401106313cb227cb85d07eba7d987cb5)\n'}]",3,764630,a34783be3b1b6deaa548808f93e39216794718a0,24,3,3,6773,,,0,"[OVN] Fix inconsistent IGMP configuration

Prior to this patch the IGMP configuration for ML2/OVN was inconsistent
with the configuration option description and also the ML2/OVS driver
because it was flooding traffic to unregistered VMs [0].

The ""igmp_snooping_enable"" configuration option says:

""Setting this option to True will also enable Open vSwitch
mcast-snooping-disable-flood-unregistered flag. This option will disable
flooding of unregistered multicast packets to all ports.""

But, in ML2/OVN that behavior was inconsistent prior to this patch
because it allowed traffic to flood to unregistered VMs. This patch
fixes it.

Conflicts:
    neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py
    neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py
    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py

[0]
https://opendev.org/openstack/neutron/src/branch/master/neutron/conf/agent/ovs_conf.py#L36-L47

Change-Id: I5cbe09e26120905b29351d61bbadb30b5dd14938
Closes-Bug: #1904399
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 9dc8bca7401106313cb227cb85d07eba7d987cb5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/764630/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'doc/source/admin/ovn/igmp.rst', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'releasenotes/notes/ovn-igmp-flood-unregistered-82aeb640f5dded84.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",7,0b105f23952bf7293f91075a179e327bf6482137,bug/1904399-igmp-flood-unregistered, ovn_const.MCAST_FLOOD_UNREGISTERED: 'false'}))), ovn_const.MCAST_FLOOD_UNREGISTERED: value}))),20,11
openstack%2Fopenstack-tempest-skiplist~master~I8bbef44447bc84ecf5d587363fe70e198fa770a1,openstack/openstack-tempest-skiplist,master,I8bbef44447bc84ecf5d587363fe70e198fa770a1,Revert Add test_create_server_when_memory_quota_is_full to skiplist,MERGED,2021-01-08 15:11:00.000000000,2021-01-08 20:25:05.000000000,2021-01-08 20:23:52.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 15:11:00.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/ab2935e81e2d38fc9d6361e66dd4af45c6c03673', 'message': 'Revert Add test_create_server_when_memory_quota_is_full to skiplist\n\nThis reverts commit 440e951381cf7a6ed43a2e4e1bdc7463654b542b.\n\nReason for revert: retest\n\nChange-Id: I8bbef44447bc84ecf5d587363fe70e198fa770a1\n'}]",0,769939,ab2935e81e2d38fc9d6361e66dd4af45c6c03673,10,3,1,9592,,,0,"Revert Add test_create_server_when_memory_quota_is_full to skiplist

This reverts commit 440e951381cf7a6ed43a2e4e1bdc7463654b542b.

Reason for revert: retest

Change-Id: I8bbef44447bc84ecf5d587363fe70e198fa770a1
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/39/769939/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,ab2935e81e2d38fc9d6361e66dd4af45c6c03673,, - puppet-neutron-tripleo-standalone , - test: 'tempest.api.compute.admin.test_quotas_negative.QuotasAdminNegativeTest.test_create_server_when_memory_quota_is_full' deployment: - 'overcloud' releases: - name: 'master' reason: 'Nova bug according result output' lp: 'https://bugs.launchpad.net/tripleo/+bug/1905421' jobs: [] - puppet-neutron-tripleo-standalone,1,9
openstack%2Fkeystone~master~I47e747058891596e7717848a0b0bc10f0a235b2f,openstack/keystone,master,I47e747058891596e7717848a0b0bc10f0a235b2f,Drop lower-constraints job,MERGED,2021-01-07 20:11:29.000000000,2021-01-08 19:51:07.000000000,2021-01-08 19:41:27.000000000,"[{'_account_id': 5046}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 20:11:29.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d6610594d1b766a8ee3ac65182b951f2a3d431f7', 'message': 'Drop lower-constraints job\n\nLower-constraints is not a requirement of the OpenStack Python PTI\n[0] and there currently is a discussion on the mailing list [1]\nabout dropping the test, with the oslo team already having done\nso [2].\n\nThe new dependency resolver in pip fails due to incompatible\ndependency versions in our lower-constraints file, meaning that\nwe were never providing any real guarantees with it.\n\nTo unblock the CI, I am disabling lower-constraints job for now,\nwith the option to reenable it in case we fix the constraints,\nand based on the outcome of the mailing list discussions and\nconsensus.\n\n[0]. https://governance.openstack.org/tc/reference/pti/python.html\n[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html\n[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html\n\nChange-Id: I47e747058891596e7717848a0b0bc10f0a235b2f\n'}]",0,769824,d6610594d1b766a8ee3ac65182b951f2a3d431f7,10,3,1,16465,,,0,"Drop lower-constraints job

Lower-constraints is not a requirement of the OpenStack Python PTI
[0] and there currently is a discussion on the mailing list [1]
about dropping the test, with the oslo team already having done
so [2].

The new dependency resolver in pip fails due to incompatible
dependency versions in our lower-constraints file, meaning that
we were never providing any real guarantees with it.

To unblock the CI, I am disabling lower-constraints job for now,
with the option to reenable it in case we fix the constraints,
and based on the outcome of the mailing list discussions and
consensus.

[0]. https://governance.openstack.org/tc/reference/pti/python.html
[1]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019672.html
[2]. http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019659.html

Change-Id: I47e747058891596e7717848a0b0bc10f0a235b2f
",git fetch https://review.opendev.org/openstack/keystone refs/changes/24/769824/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d6610594d1b766a8ee3ac65182b951f2a3d431f7,drop_l-c,, - openstack-lower-constraints-jobs,0,1
openstack%2Fopenstack-ansible-os_nova~stable%2Fussuri~Id73cb67de26c305908d0245551fa57a7e6448784,openstack/openstack-ansible-os_nova,stable/ussuri,Id73cb67de26c305908d0245551fa57a7e6448784,Use systemd sockets for libvirt,MERGED,2021-01-08 13:35:30.000000000,2021-01-08 19:50:26.000000000,2021-01-08 19:45:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-01-08 13:35:30.000000000', 'files': ['handlers/main.yml', 'defaults/main.yml', 'tasks/drivers/kvm/nova_compute_kvm.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/4d64ba37f104a869119f1f3dfc7c62aafcbf3d14', 'message': 'Use systemd sockets for libvirt\n\nSince libvirt 5.7 we should not use traditional mode. Instead systemd\nmode should be choosen. Sockets are provided by libvirt package.\nWe just need to conditionally enable or disable them.\n\nAs addition we changed nova_libvirtd_listen_tls to 0 by default\nbecause listen_tls requires certificate to be provided which is not\nthe case in the current role state. So we also fix behaviour of the role\nwhen nova_libvirtd_listen_tls is 1, supposing that deployer has manually\ndistributed certificates across compute hosts.\n\nChange-Id: Id73cb67de26c305908d0245551fa57a7e6448784\nCloses-Bug: #1903846\n(cherry picked from commit 05ffae0ef06c8d0816b118b35e9cfdf0fc0ed985)\n'}]",0,769747,4d64ba37f104a869119f1f3dfc7c62aafcbf3d14,8,3,1,28619,,,0,"Use systemd sockets for libvirt

Since libvirt 5.7 we should not use traditional mode. Instead systemd
mode should be choosen. Sockets are provided by libvirt package.
We just need to conditionally enable or disable them.

As addition we changed nova_libvirtd_listen_tls to 0 by default
because listen_tls requires certificate to be provided which is not
the case in the current role state. So we also fix behaviour of the role
when nova_libvirtd_listen_tls is 1, supposing that deployer has manually
distributed certificates across compute hosts.

Change-Id: Id73cb67de26c305908d0245551fa57a7e6448784
Closes-Bug: #1903846
(cherry picked from commit 05ffae0ef06c8d0816b118b35e9cfdf0fc0ed985)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/47/769747/1 && git format-patch -1 --stdout FETCH_HEAD,"['handlers/main.yml', 'defaults/main.yml', 'tasks/drivers/kvm/nova_compute_kvm.yml']",3,4d64ba37f104a869119f1f3dfc7c62aafcbf3d14,bug/1903846-stable/ussuri,"- name: Check libvirtd version command: ""libvirtd --version"" register: _libvirtd_version_cmd changed_when: false tags: - nova-install - nova-config - nova-kvm - nova-libvirt - name: Set libvirtd version set_fact: libvirtd_version: ""{{ _libvirtd_version_cmd['stdout'].split()[-1] }}"" tags: - nova-install - nova-config - nova-kvm - nova-libvirt - name: Set libvirt runtime options (Ubuntu) - (nova_libvirtd_listen_tcp == 1) or (nova_libvirtd_listen_tls == 1) - libvirtd_version is version('5.7', '<') - ansible_pkg_mgr == 'apt' notify: Restart libvirt-bin tags: - nova-config - nova-kvm - nova-libvirt - name: Unset libvirt runtime options (Ubuntu) lineinfile: dest: ""/etc/default/libvirtd"" line: 'libvirtd_opts=""""' regexp: ""^libvirtd_opts="" backup: ""yes"" when: - (nova_libvirtd_listen_tcp == 0 and nova_libvirtd_listen_tls == 0) or libvirtd_version is version('5.7', '>=') - (nova_libvirtd_listen_tcp == 1) or (nova_libvirtd_listen_tls == 1) - libvirtd_version is version('5.7', '<')- name: Unset libvirt runtime options (RPM) - (nova_libvirtd_listen_tcp == 0 and nova_libvirtd_listen_tls == 0) or libvirtd_version is version('5.7', '>=')",- name: Set libvirt runtime options when listening on tcp (Ubuntu) - nova_libvirtd_listen_tcp == 1 - nova_libvirtd_listen_tcp == 1- name: Set libvirt runtime options (RPM) - nova_libvirtd_listen_tcp == 0,70,9
openstack%2Fosc-lib~master~I05532f9b391a48ceecc96048cc40af4d89fe5d6c,openstack/osc-lib,master,I05532f9b391a48ceecc96048cc40af4d89fe5d6c,utils: Add 'wait_for_deletes',NEW,2020-11-12 11:14:51.000000000,2021-01-08 19:34:22.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-12 11:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/43f75945feebf7d35680fa961426e74f9d9f757c', 'message': ""utils: Add 'wait_for_deletes'\n\nLike 'wait_for_statuses' before it, this allows us to handle deletion of\nmultiple resources in parallel rather than handling it serially.\n\nChange-Id: I05532f9b391a48ceecc96048cc40af4d89fe5d6c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-01-08 18:23:22.000000000', 'files': ['releasenotes/notes/add-utils-wait_for_statuses-f05a93bc679cd78f.yaml', 'osc_lib/utils/__init__.py', 'osc_lib/tests/utils/test_utils.py'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/53d84b28aef9a64c3c860fd52fef3bfa3b434f5a', 'message': ""utils: Add 'wait_for_deletes'\n\nLike 'wait_for_statuses' before it, this allows us to handle deletion of\nmultiple resources in parallel rather than handling it serially.\n\nChange-Id: I05532f9b391a48ceecc96048cc40af4d89fe5d6c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",4,762504,53d84b28aef9a64c3c860fd52fef3bfa3b434f5a,6,2,2,15334,,,0,"utils: Add 'wait_for_deletes'

Like 'wait_for_statuses' before it, this allows us to handle deletion of
multiple resources in parallel rather than handling it serially.

Change-Id: I05532f9b391a48ceecc96048cc40af4d89fe5d6c
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/04/762504/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-utils-wait_for_statuses-f05a93bc679cd78f.yaml', 'osc_lib/utils/__init__.py', 'osc_lib/tests/utils/test_utils.py']",3,43f75945feebf7d35680fa961426e74f9d9f757c,multiple-waits," def test_wait_for_deletes_ok(self, mock_sleep): # Tests the normal flow that the resource is deleted with a 404 coming # back on the 2nd iteration of the wait loop. resources = { str(uuid.uuid4()): mock.MagicMock(status='ACTIVE', progress=None), str(uuid.uuid4()): mock.MagicMock(status='ACTIVE', progress=None), } def get_resource(res_id): nonlocal resources if res_id in resources: result = resources[res_id] del resources[res_id] return result raise exceptions.NotFound(404) mock_get = mock.Mock(side_effect=get_resource) manager = mock.MagicMock(get=mock_get) res_ids = list(resources) callback = mock.Mock() self.assertIsNone( utils.wait_for_deletes(manager, res_ids, callback=callback)) mock_sleep.assert_called_once_with(5) callback.assert_called_once_with(0) @mock.patch.object(time, 'sleep') def test_wait_for_deletes_timeout(self, mock_sleep): # Tests that we fail if the resources are not deleted before the # timeout resources = { str(uuid.uuid4()): mock.MagicMock(status='ACTIVE', progress=None), str(uuid.uuid4()): mock.MagicMock(status='ACTIVE', progress=None), } def get_resource(res_id): return resources[res_id] mock_get = mock.Mock(side_effect=get_resource) manager = mock.MagicMock(get=mock_get) res_ids = list(resources) self.assertIsNotNone( utils.wait_for_deletes(manager, res_ids, sleep_time=1, timeout=1)) mock_sleep.assert_called_once_with(1) @mock.patch.object(time, 'sleep') def test_wait_for_deletes_error(self, mock_sleep): # Tests that we fail if one of the resources goes to error state while # waiting resources = { str(uuid.uuid4()): mock.MagicMock(status='ACTIVE', progress=None), str(uuid.uuid4()): mock.MagicMock(status='ERROR', progress=None), } def get_resource(res_id): nonlocal resources if res_id in resources: result = resources[res_id] if resources[res_id].status == 'ACTIVE': # we want the resource in 'ACTIVE' state to be ""deleted"", # but the other resource should remain del resources[res_id] return result raise exceptions.NotFound(404) mock_get = mock.Mock(side_effect=get_resource) manager = mock.MagicMock(get=mock_get) res_ids = list(resources) self.assertIsNotNone(utils.wait_for_deletes(manager, res_ids)) mock_sleep.assert_called_once_with(5) @mock.patch.object(time, 'sleep') def test_wait_for_deletes_error_with_overrides(self, mock_sleep): # Tests that we fail if one of the resources is my_status=failed resources = { str(uuid.uuid4()): mock.MagicMock( my_status='ACTIVE', progress=None, ), str(uuid.uuid4()): mock.MagicMock( my_status='FAILED', progress=None, ), } def get_resource(res_id): nonlocal resources if res_id in resources: result = resources[res_id] if resources[res_id].my_status == 'ACTIVE': # we want the resource in 'ACTIVE' state to be ""deleted"", # but the other resource should remain del resources[res_id] return result raise exceptions.NotFound(404) mock_get = mock.Mock(side_effect=get_resource) manager = mock.MagicMock(get=mock_get) res_ids = list(resources) self.assertIsNotNone( utils.wait_for_deletes( manager, res_ids, status_field='my_status', error_status=['failed'])) mock_sleep.assert_called_once_with(5) @mock.patch.object(time, 'sleep')",,201,25
openstack%2Frequirements~stable%2Fussuri~Ie790c42f30a6c19b03e2c5e54ced9530a62f1517,openstack/requirements,stable/ussuri,Ie790c42f30a6c19b03e2c5e54ced9530a62f1517,Add neutron to stable upper-constraints,MERGED,2020-11-24 16:35:54.000000000,2021-01-08 19:34:13.000000000,2021-01-08 19:34:13.000000000,"[{'_account_id': 6547}, {'_account_id': 8313}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28182}]","[{'number': 1, 'created': '2020-11-24 16:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/bdab96e4dff87aceddf3f7e055f49567c3b11bba', 'message': 'Add neutron to stable upper-constraints\n\nSome projects, notably neutron plugins, are using the neutron service as\na library. There is the neutron-lib package, but apparently they have\nnot moved everything needed over to there yet.\n\nThis is being added directly in stable branches only. Master needs to\nget the latest version available, so these will need to be added at each\nrelease so the stable branches use the correct version of neutron for\ntheir respective stable release.\n\nCloses-Bug: #1903689\nChange-Id: Ie790c42f30a6c19b03e2c5e54ced9530a62f1517\n'}, {'number': 2, 'created': '2020-11-25 15:03:24.000000000', 'files': ['blacklist.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c1aed772e26e5d8820fee3fa285fdd1a42f81194', 'message': 'Add neutron to stable upper-constraints\n\nSome projects, notably neutron plugins, are using the neutron service as\na library. There is the neutron-lib package, but apparently they have\nnot moved everything needed over to there yet.\n\nThis is being added directly in stable branches only. Master needs to\nget the latest version available, so these will need to be added at each\nrelease so the stable branches use the correct version of neutron for\ntheir respective stable release.\n\nTo allower upper capping, this commit also drops neutron from blacklist\n\nCloses-Bug: #1903689\nChange-Id: Ie790c42f30a6c19b03e2c5e54ced9530a62f1517\n'}]",0,764021,c1aed772e26e5d8820fee3fa285fdd1a42f81194,32,7,2,21798,,,0,"Add neutron to stable upper-constraints

Some projects, notably neutron plugins, are using the neutron service as
a library. There is the neutron-lib package, but apparently they have
not moved everything needed over to there yet.

This is being added directly in stable branches only. Master needs to
get the latest version available, so these will need to be added at each
release so the stable branches use the correct version of neutron for
their respective stable release.

To allower upper capping, this commit also drops neutron from blacklist

Closes-Bug: #1903689
Change-Id: Ie790c42f30a6c19b03e2c5e54ced9530a62f1517
",git fetch https://review.opendev.org/openstack/requirements refs/changes/21/764021/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,bdab96e4dff87aceddf3f7e055f49567c3b11bba,ussuri-neutron-uc,neutron===16.2.0,,1,0
openstack%2Fosc-lib~master~I132857bd4c96f99363fe380ef4ce688ddf8a2490,openstack/osc-lib,master,I132857bd4c96f99363fe380ef4ce688ddf8a2490,utils: Add 'wait_for_statuses',NEW,2020-11-12 11:14:51.000000000,2021-01-08 19:19:04.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-12 11:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/fcb576d6dd0a921261cc926cd728e3a8d3dd0c61', 'message': ""utils: Add 'wait_for_statuses'\n\nThis allows us to handle updates to multiple resources in parallel,\nrather than handling them serially.\n\nChange-Id: I132857bd4c96f99363fe380ef4ce688ddf8a2490\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-01-08 18:23:22.000000000', 'files': ['releasenotes/notes/add-utils-wait_for_statuses-f05a93bc679cd78f.yaml', 'osc_lib/utils/__init__.py', 'osc_lib/tests/utils/test_utils.py'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/e7fbe4e260591d4f6fa680fb4746a88e1a63233c', 'message': ""utils: Add 'wait_for_statuses'\n\nThis allows us to handle updates to multiple resources in parallel,\nrather than handling them serially.\n\nChange-Id: I132857bd4c96f99363fe380ef4ce688ddf8a2490\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",2,762503,e7fbe4e260591d4f6fa680fb4746a88e1a63233c,6,2,2,15334,,,0,"utils: Add 'wait_for_statuses'

This allows us to handle updates to multiple resources in parallel,
rather than handling them serially.

Change-Id: I132857bd4c96f99363fe380ef4ce688ddf8a2490
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/03/762503/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-utils-wait_for_statuses-f05a93bc679cd78f.yaml', 'osc_lib/utils/__init__.py', 'osc_lib/tests/utils/test_utils.py']",3,fcb576d6dd0a921261cc926cd728e3a8d3dd0c61,multiple-waits," @mock.patch.object(time, 'sleep') def test_wait_for_statuses_ok(self, mock_sleep): # Tests the normal flow with the default success and error statuses resources = { str(uuid.uuid4()): mock.MagicMock(status='ACTIVE'), str(uuid.uuid4()): mock.MagicMock(status='ACTIVE'), } def get_resource(res_id): return resources.get(res_id) status_f = mock.Mock(side_effect=get_resource) res_ids = list(resources) self.assertIsNone(utils.wait_for_statuses(status_f, res_ids,)) mock_sleep.assert_not_called() @mock.patch.object(time, 'sleep') def test_wait_for_statuses_ok_with_overrides(self, mock_sleep): # Tests the normal flow with specific success statuses and a specific # status field resources = { str(uuid.uuid4()): mock.MagicMock(my_status='COMPLETE'), str(uuid.uuid4()): mock.MagicMock(my_status='ACTIVE'), } def get_resource(res_id): return resources.get(res_id) status_f = mock.Mock(side_effect=get_resource) res_ids = list(resources) self.assertIsNone( utils.wait_for_statuses( status_f, res_ids, status_field='my_status', success_status=['complete', 'active']) ) mock_sleep.assert_not_called() @mock.patch.object(time, 'sleep') def test_wait_for_statuses_error(self, mock_sleep): # Tests that we fail if any of the resources are in status=error resources = { str(uuid.uuid4()): mock.MagicMock(status='ACTIVE'), str(uuid.uuid4()): mock.MagicMock(status='ERROR'), } def get_resource(res_id): return resources.get(res_id) status_f = mock.Mock(side_effect=get_resource) res_ids = list(resources) self.assertIsNotNone(utils.wait_for_statuses(status_f, res_ids)) mock_sleep.assert_not_called() @mock.patch.object(time, 'sleep') def test_wait_for_statuses_error_with_overrides(self, mock_sleep): # Tests that we fail if any of the resources are in a custom error # status resources = { str(uuid.uuid4()): mock.MagicMock(my_status='ACTIVE'), str(uuid.uuid4()): mock.MagicMock(my_status='FAILED'), } def get_resource(res_id): return resources.get(res_id) status_f = mock.Mock(side_effect=get_resource) res_ids = list(resources) self.assertIsNotNone( utils.wait_for_statuses( status_f, res_ids, status_field='my_status', error_status=['failed']) ) mock_sleep.assert_not_called() ",,149,17
openstack%2Fironic-specs~master~I7c6c62cc25905882882294cc6e63a6d0aab5a5bc,openstack/ironic-specs,master,I7c6c62cc25905882882294cc6e63a6d0aab5a5bc,Snapshot support,MERGED,2020-08-19 14:15:19.000000000,2021-01-08 19:07:16.000000000,2021-01-08 19:05:31.000000000,"[{'_account_id': 136}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 29100}]","[{'number': 1, 'created': '2020-08-19 14:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/8255fd7b6e95b6f742b60b578691cf7a584c4b5f', 'message': ""Snapshot support\n\nThis is the spec for the feature of snapshot support, it's still\nin a primitive stage and would need more input on the shaping.\n\nChange-Id: I7c6c62cc25905882882294cc6e63a6d0aab5a5bc\nStory: 2008033\nTask: 40689\n""}, {'number': 2, 'created': '2020-08-20 09:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/78c7f58f4746ed01c3157edb8267a575f61e3fb4', 'message': ""Snapshot support\n\nThis is the spec for the feature of snapshot support, it's still\nin a primitive stage and would need more input on the shaping.\n\nChange-Id: I7c6c62cc25905882882294cc6e63a6d0aab5a5bc\nStory: 2008033\nTask: 40689\n""}, {'number': 3, 'created': '2020-08-24 12:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/03b3d944fa22dfc4d5b50acc5f138d45026c1c00', 'message': ""Snapshot support\n\nThis is the spec for the feature of snapshot support, it's still\nin a primitive stage and would need more input on the shaping.\n\nChange-Id: I7c6c62cc25905882882294cc6e63a6d0aab5a5bc\nStory: 2008033\nTask: 40689\n""}, {'number': 4, 'created': '2020-09-02 09:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/4baf15d5aa43dfc45771227a116cb8d552cc5906', 'message': ""Snapshot support\n\nThis is the spec for the feature of snapshot support, it's still\nin a primitive stage and would need more input on the shaping.\n\nChange-Id: I7c6c62cc25905882882294cc6e63a6d0aab5a5bc\nStory: 2008033\nTask: 40689\n""}, {'number': 5, 'created': '2020-11-23 11:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/33306bfd8f7b73baa2032d86c6858205154f0b59', 'message': ""Snapshot support\n\nThis is the spec for the feature of snapshot support, it's still\nin a primitive stage and would need more input on the shaping.\n\nChange-Id: I7c6c62cc25905882882294cc6e63a6d0aab5a5bc\nStory: 2008033\nTask: 40689\n""}, {'number': 6, 'created': '2020-11-23 11:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/c4fe5443bb352ca59d28ce39430c564e054b4826', 'message': ""Snapshot support\n\nThis is the spec for the feature of snapshot support, it's still\nin a primitive stage and would need more input on the shaping.\n\nChange-Id: I7c6c62cc25905882882294cc6e63a6d0aab5a5bc\nStory: 2008033\nTask: 40689\n""}, {'number': 7, 'created': '2020-11-25 05:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/fdaf38e0be65f6ffe2381e4818c57c504efa01c3', 'message': ""Snapshot support\n\nThis is the spec for the feature of snapshot support, it's still\nin a primitive stage and would need more input on the shaping.\n\nChange-Id: I7c6c62cc25905882882294cc6e63a6d0aab5a5bc\nStory: 2008033\nTask: 40689\n""}, {'number': 8, 'created': '2020-12-28 11:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/56be82859bf63dd38b73b23759a9545dcde8f3b1', 'message': 'Snapshot support\n\nThis is the spec for the feature of snapshot support\nfor bare metals.\n\nChange-Id: I7c6c62cc25905882882294cc6e63a6d0aab5a5bc\nStory: 2008033\nTask: 40689\n'}, {'number': 9, 'created': '2020-12-28 11:49:42.000000000', 'files': ['specs/not-implemented/snapshot-support.rst', 'specs/approved/snapshot-support.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/1f8443719296a5d128f74b677feddb6c7fc7dd23', 'message': 'Snapshot support\n\nThis is the spec for the feature of snapshot support\nfor bare metals.\n\nChange-Id: I7c6c62cc25905882882294cc6e63a6d0aab5a5bc\nStory: 2008033\nTask: 40689\n'}]",77,746935,1f8443719296a5d128f74b677feddb6c7fc7dd23,52,8,9,24828,,,0,"Snapshot support

This is the spec for the feature of snapshot support
for bare metals.

Change-Id: I7c6c62cc25905882882294cc6e63a6d0aab5a5bc
Story: 2008033
Task: 40689
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/35/746935/8 && git format-patch -1 --stdout FETCH_HEAD,"['specs/not-implemented/snapshot-support.rst', 'specs/approved/snapshot-support.rst']",2,8255fd7b6e95b6f742b60b578691cf7a584c4b5f,snapshot,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================ Snapshot support ================ https://storyboard.openstack.org/#!/story/2008033 Snapshot is not a new thing, it was available for virtual machines for a long time. Snapshot is useful for instance backup, image reusing, etc. The same is true in the area of bare metals: backing up systems, or building a master image and applying to batch of similar nodes. It may not match with virtual machines in speed and efficiency, but it still has its value. Problem description =================== The problem is obvious, we are lacking the ability of snapshot, and from the nova side it's just a NotImplemented. Proposed change =============== The proposal is to implement a similar process like deployment, when a node is requested to do a snapshot, ironic prepares boot configuration then triggers a netboot to the node, IPA lookups and ironic instructs IPA to streaming the data of root disk to a remote storage. The remote storage could be the host where the conductor is running if proper service like NFS, HTTP, etc is configured. Or another host as long as both conductor and IPA are able to access. The remote storage will act as an intermediate storage, when the snapshot is done, conductor will upload the image to the image service and remove the snapshot in the intermediate storage. Alternatives ------------ None Data model impact ----------------- The impact on data model should be light, probably just a new ``snapshot_interface``. State Machine Impact -------------------- Add following states to the state machine: * snapshot wait * snapshoting * snapshot failed With following transitions: * active -> snapshoting (on snapshot) * snapshoting -> snapshot wait (on wait) * snapshot wait -> snapshoting (on resume) * snapshot wait -> snapshot failed (on abort) * snapshoting -> snapshot failed (on fail) * snapshoting -> active (on done) REST API impact --------------- The existing provision endpoint is used, a new verb ``snapshot`` will be guarded by microversions. * PUT /v1/nodes/{node_ident}/states/provision When requested version allowed, and node is in the active state, start to do a snapshot. Some fields might be required, e.g. ``image_id``. Client (CLI) impact ------------------- ""openstack baremetal"" CLI ~~~~~~~~~~~~~~~~~~~~~~~~~ Add a new command: * ``openstack baremetal node snapshot <node> ...`` ""openstacksdk"" ~~~~~~~~~~~~~~ Changes, if any, to the `OpenStack SDK <https://docs.openstack.org/openstacksdk/latest/>`_, `baremetal <https://opendev.org/openstack/openstacksdk/src/branch/master/openstack/baremetal>`_ methods. RPC API impact -------------- None Driver API impact ----------------- Adds an optional interface ``snapshot_interface``, initially implements ``fake``, ``no-snapshot``, and ``agent``. Nova driver impact ------------------ Nova driver will need to implement the driver interface ``snapshot`` to integrate with ironic. But before the integration the feature can be consumed by ironic standalone. Ramdisk impact -------------- Implements a snapshot extension in the ironic-python-agent, initially using ``qemu-img`` for streaming disk data to the remote storage in the format of QCOW. Other tools also available but can be discussed later. Security impact --------------- The transfer of instance image from the target bare metal to image service could have security risk since the data could be tampered or retrieved during this process. Other end user impact --------------------- None Scalability impact ------------------ None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: <kaifeng, kaifeng.w@gmail.com> Other contributors: <IRC handle, email address, None> Work Items ---------- TBD Dependencies ============ None Testing ======= Will be covered by unit tests. snapshot is a time consuming operation, it's unlikely we want to have tempest tests on it. Upgrades and Backwards Compatibility ==================================== Should be backwards compatible. Documentation Impact ==================== Documentation will be updated on this feature. References ========== * https://etherpad.opendev.org/p/PVG-ironic-snapshot-support ",,211,0
openstack%2Fcharm-neutron-openvswitch~master~I2e3153e90c7a4a1b7dec7d6df427b33a449f414d,openstack/charm-neutron-openvswitch,master,I2e3153e90c7a4a1b7dec7d6df427b33a449f414d,Add disable-mlockall config,MERGED,2020-12-15 19:49:53.000000000,2021-01-08 19:05:06.000000000,2021-01-08 19:05:06.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-15 19:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/5b862e9c6baed05a44782f4781497af079201949', 'message': ""Add disable-mlockall config option\n\nBy default, mlockall() is enabled for ovs-vswitchd. This results in\nlocking all of ovs-vswitchd's process memory into physical RAM and\nprevents paging. This avoids network interruptions but can lead to\nmemory exhaustion in memory-constrained environments. To disable\nmlockall(), the disable-mlockall charm config option can be set to\nTrue.\n\nNote: drop_config.append(OVS_DEFAULT) logic is no longer used as\nit prevents a rewrite of the config template when charm config is\nreset. The new behavior results in /etc/default/openvswitch-switch\nbeing written with comments only when the corresponding config\noptions aren't set (see template). This is very similar to what\nis installed by the package by default, a file full of comments.\n\nCloses-Bug: #1906280\nChange-Id: I2e3153e90c7a4a1b7dec7d6df427b33a449f414d\n""}, {'number': 2, 'created': '2020-12-16 14:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/b5f4abf376a9d040cec4d1a16b219b5eb0e5edb6', 'message': ""Add disable-mlockall config option\n\nBy default, mlockall() is enabled for ovs-vswitchd. This results in\nlocking all of ovs-vswitchd's process memory into physical RAM and\nprevents paging. This avoids network interruptions but can lead to\nmemory exhaustion in memory-constrained environments. To disable\nmlockall(), the disable-mlockall charm config option can be set to\nTrue. If unset, disable-mlockall charm config will result in\ndisabling mlockally if running in a container.\n\nNote: drop_config.append(OVS_DEFAULT) logic is no longer used as\nit prevents a rewrite of the config template when charm config is\nreset. The new behavior results in /etc/default/openvswitch-switch\nbeing written with comments only when the corresponding config\noptions aren't set (see template). This is very similar to what\nis installed by the package by default, a file full of comments.\n\nCloses-Bug: #1906280\nChange-Id: I2e3153e90c7a4a1b7dec7d6df427b33a449f414d\n""}, {'number': 3, 'created': '2020-12-16 14:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/22b789b0b00e26b6b58417a75b75470ee4f79759', 'message': ""Add disable-mlockall config option\n\nBy default, mlockall() is enabled for ovs-vswitchd. This results in\nlocking all of ovs-vswitchd's process memory into physical RAM and\nprevents paging. This avoids network interruptions but can lead to\nmemory exhaustion in memory-constrained environments. To disable\nmlockall(), the disable-mlockall charm config option can be set to\nTrue. If unset, disable-mlockall charm config will result in\ndisabling mlockall if running in a container.\n\nNote: drop_config.append(OVS_DEFAULT) logic is no longer used as\nit prevents a rewrite of the config template when charm config is\nreset. The new behavior results in /etc/default/openvswitch-switch\nbeing written with comments only when the corresponding config\noptions aren't set (see template). This is very similar to what\nis installed by the package by default, a file full of comments.\n\nCloses-Bug: #1906280\nChange-Id: I2e3153e90c7a4a1b7dec7d6df427b33a449f414d\n""}, {'number': 4, 'created': '2021-01-05 15:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/f9b036121e859d4472d9c426e822165756ad3e48', 'message': ""Add disable-mlockall config and pause/resume param.\n\nBy default, mlockall() is enabled for ovs-vswitchd. This results in\nlocking all of ovs-vswitchd's process memory into physical RAM and\nprevents paging. This enables network performance but can lead to\nmemory exhaustion in memory-constrained environments. To disable\nmlockall(), the disable-mlockall charm config option can be set to\nTrue. If unset, disable-mlockall charm config will result in\ndisabling mlockall if running in a container.\n\nThe drop_config.append(OVS_DEFAULT) logic is no longer used as\nit prevents a rewrite of the config template when charm config is\nreset. For example, the new behavior results in\n/etc/default/openvswitch-switch being written with comments only\nwhen the corresponding config options are disabled (see template),\nresulting in openvswitch-switch being restarted.\n\nDue to the removal of drop_config.append(OVS_DEFAULT), pause/resume\nactions need to explicitly remove openswitch-switch to maintain\nprior behavior for non-DPDK deployments. In other words, pause/resume\nwill not restart openvswitch-switch.\n\nA new param is added for both the pause and resume actions to\ninclude openvswitch-switch in the list of services to restart.\n\nCloses-Bug: #1906280\nRelated-Bug: #1908615\nChange-Id: I2e3153e90c7a4a1b7dec7d6df427b33a449f414d\n""}, {'number': 5, 'created': '2021-01-06 14:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/e81b9f883a506dcb13b54c7eb34f732dfbb5efcf', 'message': ""Add disable-mlockall config\n\nBy default, mlockall() is enabled for ovs-vswitchd. This results in\nlocking all of ovs-vswitchd's process memory into physical RAM and\nprevents paging. This enables network performance but can lead to\nmemory exhaustion in memory-constrained environments. To disable\nmlockall(), the disable-mlockall charm config option can be set to\nTrue. If unset, disable-mlockall charm config will result in\ndisabling mlockall if running in a container.\n\nThe drop_config.append(OVS_DEFAULT) logic is no longer used as\nit prevents a rewrite of the config template when charm config is\nreset. For example, the new behavior results in\n/etc/default/openvswitch-switch being written with comments only\nwhen the corresponding config options are disabled (see template),\nresulting in openvswitch-switch being restarted.\n\nDue to the removal of drop_config.append(OVS_DEFAULT), pause/resume\nactions need to explicitly remove openswitch-switch to maintain\nprior behavior for non-DPDK deployments. In other words, pause/resume\nwill not restart openvswitch-switch.\n\nCloses-Bug: #1906280\nRelated-Bug: #1908615\nChange-Id: I2e3153e90c7a4a1b7dec7d6df427b33a449f414d\n""}, {'number': 6, 'created': '2021-01-07 22:37:03.000000000', 'files': ['templates/openvswitch-switch', 'unit_tests/test_neutron_ovs_utils.py', 'actions/pause_resume.py', 'unit_tests/test_neutron_ovs_context.py', 'unit_tests/test_pause_resume.py', 'hooks/neutron_ovs_utils.py', 'hooks/neutron_ovs_context.py', 'config.yaml', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/282f6af3db5bfa12209b48d8ea94471777e3a62d', 'message': ""Add disable-mlockall config\n\nBy default, mlockall() is enabled for ovs-vswitchd. This results in\nlocking all of ovs-vswitchd's process memory into physical RAM and\nprevents paging. This enables network performance but can lead to\nmemory exhaustion in memory-constrained environments. To disable\nmlockall(), the disable-mlockall charm config option can be set to\nTrue. If unset, disable-mlockall charm config will result in\ndisabling mlockall if running in a container.\n\nThe drop_config.append(OVS_DEFAULT) logic is no longer used as\nit prevents a rewrite of the config template when charm config is\nreset. For example, the new behavior results in\n/etc/default/openvswitch-switch being written with comments only\nwhen the corresponding config options are disabled (see template),\nresulting in openvswitch-switch being restarted.\n\nDue to the removal of drop_config.append(OVS_DEFAULT), pause/resume\nactions need to explicitly remove openswitch-switch to maintain\nprior behavior for non-DPDK deployments. In other words, pause/resume\nwill not restart openvswitch-switch.\n\nCloses-Bug: #1906280\nRelated-Bug: #1908615\nChange-Id: I2e3153e90c7a4a1b7dec7d6df427b33a449f414d\n""}]",18,767212,282f6af3db5bfa12209b48d8ea94471777e3a62d,36,4,6,11805,,,0,"Add disable-mlockall config

By default, mlockall() is enabled for ovs-vswitchd. This results in
locking all of ovs-vswitchd's process memory into physical RAM and
prevents paging. This enables network performance but can lead to
memory exhaustion in memory-constrained environments. To disable
mlockall(), the disable-mlockall charm config option can be set to
True. If unset, disable-mlockall charm config will result in
disabling mlockall if running in a container.

The drop_config.append(OVS_DEFAULT) logic is no longer used as
it prevents a rewrite of the config template when charm config is
reset. For example, the new behavior results in
/etc/default/openvswitch-switch being written with comments only
when the corresponding config options are disabled (see template),
resulting in openvswitch-switch being restarted.

Due to the removal of drop_config.append(OVS_DEFAULT), pause/resume
actions need to explicitly remove openswitch-switch to maintain
prior behavior for non-DPDK deployments. In other words, pause/resume
will not restart openvswitch-switch.

Closes-Bug: #1906280
Related-Bug: #1908615
Change-Id: I2e3153e90c7a4a1b7dec7d6df427b33a449f414d
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/12/767212/5 && git format-patch -1 --stdout FETCH_HEAD,"['templates/openvswitch-switch', 'unit_tests/test_neutron_ovs_utils.py', 'unit_tests/test_neutron_ovs_context.py', 'hooks/neutron_ovs_context.py', 'hooks/neutron_ovs_utils.py', 'config.yaml']",6,5b862e9c6baed05a44782f4781497af079201949,bug/1906280," for 'native' driver. The default value is 10 seconds. disable-mlockall: type: boolean default: false description: | Disable Open vSwitch use of mlockall(). By default mlockall() is enabled, locking all of ovs-vswitchd's process memory into physical RAM and preventing paging. This avoids network interruptions but can lead to memory exhaustion in memory-constrained environments. (Available from Mitaka) ", for 'native' driver. The default value is 10 seconds.,39,6
openstack%2Fvitrage-tempest-plugin~master~Ia841a2d4198b43bac46a5b5af01f52e1354eea4a,openstack/vitrage-tempest-plugin,master,Ia841a2d4198b43bac46a5b5af01f52e1354eea4a,Add doc/requirements,MERGED,2021-01-07 16:21:02.000000000,2021-01-08 18:43:31.000000000,2021-01-08 18:40:16.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 16:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/ed287fdf4e84259fccd913296d1398cb381f74cb', 'message': ""Add doc/requirements\n\nWe need to specify doc requirements in doc/requirements.txt\nto avoid problems with the pip resolver [1] for the release team [2][3].\nRemoving specific doc requirements from test-requirements.txt.\n\nThe problem here is that this repos haven't doc/requirements.txt file\nand by default in this case zuul will use the test-requirements.txt file\nto pull requirements [4].\n\nThis requirements file contains extra requirements like flake8 that\ncollided with those allowed in our job environment and so the new pip\nresolver fails to install these requirements and the job exits in error.\n\nThis project meet the conditions leading to the bug.\n\nAlso removing useless requirements, and pulling them from the right\nplace.\n\n[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html\n[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36\n\nChange-Id: Ia841a2d4198b43bac46a5b5af01f52e1354eea4a\n""}, {'number': 2, 'created': '2021-01-08 13:08:17.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/b28edadb242160ba418993abd9901e719e9a1b55', 'message': ""Add doc/requirements\n\nWe need to specify doc requirements in doc/requirements.txt\nto avoid problems with the pip resolver [1] for the release team [2][3].\nRemoving specific doc requirements from test-requirements.txt.\n\nThe problem here is that this repos haven't doc/requirements.txt file\nand by default in this case zuul will use the test-requirements.txt file\nto pull requirements [4].\n\nThis requirements file contains extra requirements like flake8 that\ncollided with those allowed in our job environment and so the new pip\nresolver fails to install these requirements and the job exits in error.\n\nThis project meet the conditions leading to the bug.\n\nAlso removing useless requirements, and pulling them from the right\nplace.\n\n[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html\n[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36\n\nDepends-On: https://review.opendev.org/c/openstack/vitrage-tempest-plugin/+/769917\nChange-Id: Ia841a2d4198b43bac46a5b5af01f52e1354eea4a\n""}]",0,769786,b28edadb242160ba418993abd9901e719e9a1b55,25,2,2,28522,,,0,"Add doc/requirements

We need to specify doc requirements in doc/requirements.txt
to avoid problems with the pip resolver [1] for the release team [2][3].
Removing specific doc requirements from test-requirements.txt.

The problem here is that this repos haven't doc/requirements.txt file
and by default in this case zuul will use the test-requirements.txt file
to pull requirements [4].

This requirements file contains extra requirements like flake8 that
collided with those allowed in our job environment and so the new pip
resolver fails to install these requirements and the job exits in error.

This project meet the conditions leading to the bug.

Also removing useless requirements, and pulling them from the right
place.

[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html
[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36

Depends-On: https://review.opendev.org/c/openstack/vitrage-tempest-plugin/+/769917
Change-Id: Ia841a2d4198b43bac46a5b5af01f52e1354eea4a
",git fetch https://review.opendev.org/openstack/vitrage-tempest-plugin refs/changes/86/769786/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,ed287fdf4e84259fccd913296d1398cb381f74cb,fix-relmgt-pip-doc,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txtdeps = {[testenv:docs]deps},deps = -r{toxinidir}/doc/requirements.txt,3,5
openstack%2Fbifrost~master~I76ba1245fcd41ff836ba2cd853bbc4090bd6a5b7,openstack/bifrost,master,I76ba1245fcd41ff836ba2cd853bbc4090bd6a5b7,"Enable ramdisk deploy by default, disable iscsi",MERGED,2020-12-16 17:26:18.000000000,2021-01-08 18:39:18.000000000,2021-01-08 16:17:11.000000000,"[{'_account_id': 6618}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-16 17:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/831c0e0686aedd2e829ffc29cba005a7a4926dbc', 'message': 'Enable ramdisk deploy by default, disable iscsi\n\nChange-Id: I76ba1245fcd41ff836ba2cd853bbc4090bd6a5b7\n'}, {'number': 2, 'created': '2020-12-16 18:35:55.000000000', 'files': ['releasenotes/notes/deploy-interface-d3ad2575c3d292e5.yaml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Fedora.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Debian_family.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Ubuntu.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Suse_family.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/206149a56b8d07475234048815727c4016fe3271', 'message': 'Enable ramdisk deploy by default, disable iscsi\n\ndosfstools is required for building ESP and thus is moved to\ngeneral dependencies.\n\nChange-Id: I76ba1245fcd41ff836ba2cd853bbc4090bd6a5b7\n'}]",2,767384,206149a56b8d07475234048815727c4016fe3271,13,3,2,10239,,,0,"Enable ramdisk deploy by default, disable iscsi

dosfstools is required for building ESP and thus is moved to
general dependencies.

Change-Id: I76ba1245fcd41ff836ba2cd853bbc4090bd6a5b7
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/84/767384/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deploy-interface-d3ad2575c3d292e5.yaml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml']",2,831c0e0686aedd2e829ffc29cba005a7a4926dbc,ramdisk,"enabled_deploy_interfaces: ""direct,ramdisk""","enabled_deploy_interfaces: ""iscsi,direct""",9,1
openstack%2Fopenstack-helm~master~I92f1700e56517a74b1fbcc8e3a68567045a593ee,openstack/openstack-helm,master,I92f1700e56517a74b1fbcc8e3a68567045a593ee,Use HostToContainer mountPropagation,MERGED,2021-01-07 20:21:11.000000000,2021-01-08 18:38:09.000000000,2021-01-08 18:36:15.000000000,"[{'_account_id': 8898}, {'_account_id': 17896}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2021-01-07 20:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ca36b3dfe555063d508e7059d8e5ca04f0c5c655', 'message': 'Use HostToContainer mountPropagation\n\nFor any host mounts that include /var/lib/kubelet, use HostToContainer\nmountPropagation, which avoids creating extra references to mounts in\nother containers.\n\nAffects the following charts:\n* neutron\n* nova\n\nChange-Id: I92f1700e56517a74b1fbcc8e3a68567045a593ee\n'}, {'number': 2, 'created': '2021-01-07 20:29:10.000000000', 'files': ['neutron/templates/daemonset-lb-agent.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'neutron/Chart.yaml', 'nova/templates/daemonset-compute.yaml', 'neutron/templates/daemonset-sriov-agent.yaml', 'nova/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c7c19e85c016d58bea258c9d867b7cc21f585d3b', 'message': 'Use HostToContainer mountPropagation\n\nFor any host mounts that include /var/lib/kubelet, use HostToContainer\nmountPropagation, which avoids creating extra references to mounts in\nother containers.\n\nAffects the following resources:\n* neutron-lb-agent daemonset\n* neutron-ovs-agent daemonset\n* neutron-sriov-agent daemonset (unused mount removed)\n* nova-compute daemeonset\n\nChange-Id: I92f1700e56517a74b1fbcc8e3a68567045a593ee\n'}]",1,769829,c7c19e85c016d58bea258c9d867b7cc21f585d3b,21,7,2,28719,,,0,"Use HostToContainer mountPropagation

For any host mounts that include /var/lib/kubelet, use HostToContainer
mountPropagation, which avoids creating extra references to mounts in
other containers.

Affects the following resources:
* neutron-lb-agent daemonset
* neutron-ovs-agent daemonset
* neutron-sriov-agent daemonset (unused mount removed)
* nova-compute daemeonset

Change-Id: I92f1700e56517a74b1fbcc8e3a68567045a593ee
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/29/769829/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/daemonset-lb-agent.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'neutron/Chart.yaml', 'nova/templates/daemonset-compute.yaml', 'neutron/templates/daemonset-sriov-agent.yaml', 'nova/Chart.yaml']",6,ca36b3dfe555063d508e7059d8e5ca04f0c5c655,,version: 0.1.7,version: 0.1.6,5,5
openstack%2Fpython-tripleoclient~stable%2Fvictoria~I719904d4d196df5e6d5ea111b8466c3f83a7c8fb,openstack/python-tripleoclient,stable/victoria,I719904d4d196df5e6d5ea111b8466c3f83a7c8fb,Wire up new tripleo upgrades jobs template,MERGED,2021-01-05 12:16:26.000000000,2021-01-08 18:34:10.000000000,2021-01-08 18:28:53.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-01-05 12:16:26.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/80a04fe2c2b8782ddb70a35375f9a099d1ceaee4', 'message': 'Wire up new tripleo upgrades jobs template\n\nThe depends-on adds a new upgrade jobs template which is wired up\nhere. Once wired up across tripleo we can remove excess content\nproviders with [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131\nDepends-On: https://review.opendev.org/761188\n\nChange-Id: I719904d4d196df5e6d5ea111b8466c3f83a7c8fb\n'}]",0,769335,80a04fe2c2b8782ddb70a35375f9a099d1ceaee4,14,8,1,8449,,,0,"Wire up new tripleo upgrades jobs template

The depends-on adds a new upgrade jobs template which is wired up
here. Once wired up across tripleo we can remove excess content
providers with [1].

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131
Depends-On: https://review.opendev.org/761188

Change-Id: I719904d4d196df5e6d5ea111b8466c3f83a7c8fb
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/35/769335/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,80a04fe2c2b8782ddb70a35375f9a099d1ceaee4,reduce-content-providers, - tripleo-upgrades-victoria-pipeline,,1,0
openstack%2Frpm-packaging~master~I50ee13e95b7fe59b9de7927f873635a4dc8a2e66,openstack/rpm-packaging,master,I50ee13e95b7fe59b9de7927f873635a4dc8a2e66,Update keystoneauth1,MERGED,2020-12-05 14:59:58.000000000,2021-01-08 18:24:03.000000000,2021-01-08 18:24:03.000000000,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-12-05 14:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a7d61159af0ef589699510cf6caed7838a5daf03', 'message': 'Update keystoneauth1\n\nChange-Id: I50ee13e95b7fe59b9de7927f873635a4dc8a2e66\n'}, {'number': 2, 'created': '2020-12-07 13:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/cf8cdbf44eb0a66ae8ec6cfd0cc31bc3548a9169', 'message': 'Update keystoneauth1\n\nChange-Id: I50ee13e95b7fe59b9de7927f873635a4dc8a2e66\n'}, {'number': 3, 'created': '2020-12-08 19:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c3e2f491c6310541a9d01d814df4999d842d2754', 'message': 'Update keystoneauth1\n\nChange-Id: I50ee13e95b7fe59b9de7927f873635a4dc8a2e66\n'}, {'number': 4, 'created': '2021-01-06 16:47:34.000000000', 'files': ['openstack/keystoneauth1/keystoneauth1.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/30feaf4a1f7d121f672694032bb0c7136bc511ed', 'message': 'Update keystoneauth1\n\nChange-Id: I50ee13e95b7fe59b9de7927f873635a4dc8a2e66\n'}]",0,765656,30feaf4a1f7d121f672694032bb0c7136bc511ed,32,5,4,26584,,,0,"Update keystoneauth1

Change-Id: I50ee13e95b7fe59b9de7927f873635a4dc8a2e66
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/56/765656/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/keystoneauth1/keystoneauth1.spec.j2'],1,a7d61159af0ef589699510cf6caed7838a5daf03,keyauth1,{% set upstream_version = upstream_version('4.3.0') %},{% set upstream_version = upstream_version('4.2.1') %},1,1
openstack%2Fopenstack-helm-infra~master~I5964c595210af60d54158e6f7c962d5abe77fc2f,openstack/openstack-helm-infra,master,I5964c595210af60d54158e6f7c962d5abe77fc2f,Use HostToContainer mountPropagation,MERGED,2021-01-07 18:37:58.000000000,2021-01-08 17:49:05.000000000,2021-01-08 17:40:59.000000000,"[{'_account_id': 8898}, {'_account_id': 17896}, {'_account_id': 18250}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2021-01-07 18:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fa5648170b820655ee41fb790796b2ed4a35ee33', 'message': 'Ingress: Use HostToContainer mountPropagation\n\nFor any host mounts that include /var/lib/kubelet, use HostToContainer\nmountPropagation, which avoids creating extra references to mounts in\nother containers.\n\nAffects the following charts:\n* ingress\n\nChange-Id: I5964c595210af60d54158e6f7c962d5abe77fc2f\n'}, {'number': 2, 'created': '2021-01-07 19:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fe1b064b19c0313462149c78a6c3f239ed0b29bc', 'message': 'Use HostToContainer mountPropagation\n\nFor any host mounts that include /var/lib/kubelet, use HostToContainer\nmountPropagation, which avoids creating extra references to mounts in\nother containers.\n\nAffects the following charts:\n* ingress\n* openvswitch\n\nChange-Id: I5964c595210af60d54158e6f7c962d5abe77fc2f\n'}, {'number': 3, 'created': '2021-01-07 20:30:22.000000000', 'files': ['ingress/Chart.yaml', 'openvswitch/Chart.yaml', 'ingress/templates/deployment-ingress.yaml', 'openvswitch/templates/daemonset-ovs-vswitchd.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f08d30df6b871044135534eedf76c8f2760d9923', 'message': 'Use HostToContainer mountPropagation\n\nFor any host mounts that include /var/lib/kubelet, use HostToContainer\nmountPropagation, which avoids creating extra references to mounts in\nother containers.\n\nAffects the following resources:\n* ingress deployment\n* openvswitch-vswitchd daemonset\n\nChange-Id: I5964c595210af60d54158e6f7c962d5abe77fc2f\n'}]",0,769810,f08d30df6b871044135534eedf76c8f2760d9923,14,5,3,28719,,,0,"Use HostToContainer mountPropagation

For any host mounts that include /var/lib/kubelet, use HostToContainer
mountPropagation, which avoids creating extra references to mounts in
other containers.

Affects the following resources:
* ingress deployment
* openvswitch-vswitchd daemonset

Change-Id: I5964c595210af60d54158e6f7c962d5abe77fc2f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/10/769810/1 && git format-patch -1 --stdout FETCH_HEAD,"['ingress/Chart.yaml', 'ingress/templates/deployment-ingress.yaml']",2,fa5648170b820655ee41fb790796b2ed4a35ee33,, mountPropagation: HostToContainer,,2,1
openstack%2Fkeystone~master~I4d71d30ccf1918d8412e66d0cd744fd456dc5c99,openstack/keystone,master,I4d71d30ccf1918d8412e66d0cd744fd456dc5c99,Use TOX_CONSTRAINTS_FILE,NEW,2020-12-24 05:51:43.000000000,2021-01-08 17:36:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-24 05:51:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d339774706d731b1bf7b7a86197013f497a06784', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I4d71d30ccf1918d8412e66d0cd744fd456dc5c99\n'}]",1,768390,d339774706d731b1bf7b7a86197013f497a06784,3,1,1,30384,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I4d71d30ccf1918d8412e66d0cd744fd456dc5c99
",git fetch https://review.opendev.org/openstack/keystone refs/changes/90/768390/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d339774706d731b1bf7b7a86197013f497a06784,,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fos-net-config~stable%2Fvictoria~If86618172e7a0f483c44ff4bbc31e29f6c1d4627,openstack/os-net-config,stable/victoria,If86618172e7a0f483c44ff4bbc31e29f6c1d4627,Wire up new tripleo upgrades jobs template,MERGED,2021-01-06 10:39:34.000000000,2021-01-08 17:33:11.000000000,2021-01-08 17:24:58.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-01-06 10:39:34.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/dce4963847b4afe202ebbde72455b70ec3a292a2', 'message': 'Wire up new tripleo upgrades jobs template\n\nThe depends-on adds a new upgrade jobs template which is wired up\nhere. Once wired up across tripleo we can remove excess content\nproviders with [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131\nDepends-On: https://review.opendev.org/761188\n\nChange-Id: If86618172e7a0f483c44ff4bbc31e29f6c1d4627\n'}]",0,769492,dce4963847b4afe202ebbde72455b70ec3a292a2,10,8,1,8449,,,0,"Wire up new tripleo upgrades jobs template

The depends-on adds a new upgrade jobs template which is wired up
here. Once wired up across tripleo we can remove excess content
providers with [1].

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131
Depends-On: https://review.opendev.org/761188

Change-Id: If86618172e7a0f483c44ff4bbc31e29f6c1d4627
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/92/769492/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,dce4963847b4afe202ebbde72455b70ec3a292a2,reduce-content-providers, - tripleo-upgrades-victoria-pipeline,,1,0
openstack%2Ftripleo-common~stable%2Ftrain~I10ab0cbfbaab77b9208e9a5d74d59eb041cb16ee,openstack/tripleo-common,stable/train,I10ab0cbfbaab77b9208e9a5d74d59eb041cb16ee,Enable pylint,MERGED,2020-12-23 11:07:37.000000000,2021-01-08 17:33:06.000000000,2021-01-08 17:25:39.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-23 11:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4cb36d551bf4915740cde1a77f91bdf889d3baea', 'message': 'Enable pylint\n\nThis is a follow-up from [1] which underlined that the code lacks even basic coverage as it allow\nus to introduce a costly regression which could have being detected by pylint no-member test.\n\n- enables pylint with most checks temporary disabled, so we have time\n  to address them gradually\n- fixes few minor issues reported by the tool\n- adds skips for some known ""no-member"" errors but avoids adding it to the exclude list, as this\n  in order to prevent further regressions.\n- once landed we can easily address the temporary disabled errors, one by one. In fact this is could\n  prove as a very good learning experience for newer team members. They can start by removing on\n  random exclusion and fixing it. As a hint: leave the missing docstrings for the end, some problems\n  are more important to fix first.\n\n1: https://review.opendev.org/c/openstack/tripleo-common/+/762892/6/tripleo_common/image/builder/buildah.py\n\nChange-Id: I10ab0cbfbaab77b9208e9a5d74d59eb041cb16ee\n(cherry picked from commit 13ac87ba36be2d8cddb37cd82d242dcb0a8717f5)\n'}, {'number': 2, 'created': '2020-12-23 11:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/abca60e4d289dae031db69775a0a64db48ea1b72', 'message': 'Enable pylint\n\nThis is a follow-up from [1] which underlined that the code lacks even basic coverage as it allow\nus to introduce a costly regression which could have being detected by pylint no-member test.\n\n- enables pylint with most checks temporary disabled, so we have time\n  to address them gradually\n- fixes few minor issues reported by the tool\n- adds skips for some known ""no-member"" errors but avoids adding it to the exclude list, as this\n  in order to prevent further regressions.\n- once landed we can easily address the temporary disabled errors, one by one. In fact this is could\n  prove as a very good learning experience for newer team members. They can start by removing on\n  random exclusion and fixing it. As a hint: leave the missing docstrings for the end, some problems\n  are more important to fix first.\n\n1: https://review.opendev.org/c/openstack/tripleo-common/+/762892/6/tripleo_common/image/builder/buildah.py\n\nChange-Id: I10ab0cbfbaab77b9208e9a5d74d59eb041cb16ee\n(cherry picked from commit 13ac87ba36be2d8cddb37cd82d242dcb0a8717f5)\n'}, {'number': 3, 'created': '2021-01-06 13:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c7c08878c0366ade1f5bb78addc5f4bbb5515507', 'message': 'Enable pylint\n\nThis is a follow-up from [1] which underlined that the code lacks even basic coverage as it allow\nus to introduce a costly regression which could have being detected by pylint no-member test.\n\n- enables pylint with most checks temporary disabled, so we have time\n  to address them gradually\n- fixes few minor issues reported by the tool\n- adds skips for some known ""no-member"" errors but avoids adding it to the exclude list, as this\n  in order to prevent further regressions.\n- once landed we can easily address the temporary disabled errors, one by one. In fact this is could\n  prove as a very good learning experience for newer team members. They can start by removing on\n  random exclusion and fixing it. As a hint: leave the missing docstrings for the end, some problems\n  are more important to fix first.\n\n1: https://review.opendev.org/c/openstack/tripleo-common/+/762892/6/tripleo_common/image/builder/buildah.py\n\nChange-Id: I10ab0cbfbaab77b9208e9a5d74d59eb041cb16ee\n(cherry picked from commit 13ac87ba36be2d8cddb37cd82d242dcb0a8717f5)\n'}, {'number': 4, 'created': '2021-01-06 17:13:45.000000000', 'files': ['tripleo_common/actions/ansible.py', 'tripleo_common/tests/image/test_image_uploader.py', '.pylintrc', 'tripleo_common/actions/deployment.py', 'scripts/container-update.py', 'tripleo_common/utils/locks/processlock.py', 'tripleo_common/actions/undercloud.py', 'setup.py', 'tripleo_common/utils/locks/base.py', '.pre-commit-config.yaml', 'tripleo_common/tests/actions/test_templates.py', 'tripleo_common/tests/actions/test_baremetal_deploy.py', 'tripleo_common/image/image_uploader.py', 'tripleo_common/exception.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/efa167ddfa15252e04537ba8c496ccdb792be8a2', 'message': 'Enable pylint\n\nThis is a follow-up from [1] which underlined that the code lacks even basic coverage as it allow\nus to introduce a costly regression which could have being detected by pylint no-member test.\n\n- enables pylint with most checks temporary disabled, so we have time\n  to address them gradually\n- fixes few minor issues reported by the tool\n- adds skips for some known ""no-member"" errors but avoids adding it to the exclude list, as this\n  in order to prevent further regressions.\n- once landed we can easily address the temporary disabled errors, one by one. In fact this is could\n  prove as a very good learning experience for newer team members. They can start by removing on\n  random exclusion and fixing it. As a hint: leave the missing docstrings for the end, some problems\n  are more important to fix first.\n\n1: https://review.opendev.org/c/openstack/tripleo-common/+/762892/6/tripleo_common/image/builder/buildah.py\n\nChange-Id: I10ab0cbfbaab77b9208e9a5d74d59eb041cb16ee\n(cherry picked from commit 13ac87ba36be2d8cddb37cd82d242dcb0a8717f5)\n'}]",1,768266,efa167ddfa15252e04537ba8c496ccdb792be8a2,25,6,4,24162,,,0,"Enable pylint

This is a follow-up from [1] which underlined that the code lacks even basic coverage as it allow
us to introduce a costly regression which could have being detected by pylint no-member test.

- enables pylint with most checks temporary disabled, so we have time
  to address them gradually
- fixes few minor issues reported by the tool
- adds skips for some known ""no-member"" errors but avoids adding it to the exclude list, as this
  in order to prevent further regressions.
- once landed we can easily address the temporary disabled errors, one by one. In fact this is could
  prove as a very good learning experience for newer team members. They can start by removing on
  random exclusion and fixing it. As a hint: leave the missing docstrings for the end, some problems
  are more important to fix first.

1: https://review.opendev.org/c/openstack/tripleo-common/+/762892/6/tripleo_common/image/builder/buildah.py

Change-Id: I10ab0cbfbaab77b9208e9a5d74d59eb041cb16ee
(cherry picked from commit 13ac87ba36be2d8cddb37cd82d242dcb0a8717f5)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/66/768266/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', '.pylintrc', 'tripleo_common/tests/utils/test_template.py', 'tripleo_common/utils/locks/processlock.py', 'tripleo_common/image/image_uploader.py', 'tripleo_common/exception.py', 'tripleo_common/utils/locks/base.py', '.pre-commit-config.yaml']",8,4cb36d551bf4915740cde1a77f91bdf889d3baea,pylint-stable/train, rev: v3.4.0 rev: 3.8.4 - repo: https://github.com/PyCQA/pylint rev: pylint-2.6.0 hooks: - id: pylint, rev: v2.5.0 rev: 3.8.1,703,3
openstack%2Fkeystone~master~Iaabf176aa2de3e80820e3d8ac1c633ffbcdea3b6,openstack/keystone,master,Iaabf176aa2de3e80820e3d8ac1c633ffbcdea3b6,invalid cache when change password to get updated password_expires_at,NEW,2020-12-14 01:29:31.000000000,2021-01-08 17:32:43.000000000,,"[{'_account_id': 5046}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-14 01:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b9e08bd5ef11c0d289e4106604b4144f826f944d', 'message': 'invalid cache when change password to get updated password_expires_at\n\nChange-Id: Iaabf176aa2de3e80820e3d8ac1c633ffbcdea3b6\n'}, {'number': 2, 'created': '2020-12-15 01:34:57.000000000', 'files': ['keystone/identity/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/4e9ee1568bd6d1af3f9b4d9ade30c45bd70984b7', 'message': 'invalid cache when change password to get updated password_expires_at\n\nChange-Id: Iaabf176aa2de3e80820e3d8ac1c633ffbcdea3b6\n'}]",5,766872,4e9ee1568bd6d1af3f9b4d9ade30c45bd70984b7,11,2,2,27383,,,0,"invalid cache when change password to get updated password_expires_at

Change-Id: Iaabf176aa2de3e80820e3d8ac1c633ffbcdea3b6
",git fetch https://review.opendev.org/openstack/keystone refs/changes/72/766872/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/identity/core.py'],1,b9e08bd5ef11c0d289e4106604b4144f826f944d,bug/1908009," #invalidate cache bacause password_expires_at changed user_ref = self.get_user(user_id) self.get_user.invalidate(self, user_id) self.get_user_by_name.invalidate(self, user_ref['name'], user_ref['domain_id'])",,5,0
openstack%2Ftripleo-ci~master~Ic440ed5551644933f90c162c947c0c24e6c184af,openstack/tripleo-ci,master,Ic440ed5551644933f90c162c947c0c24e6c184af,Fix import error for requests module,MERGED,2021-01-06 12:24:08.000000000,2021-01-08 17:26:25.000000000,2021-01-08 17:26:25.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-06 12:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/774d8900cda53fc6d14179b2aaac40a8bb35b237', 'message': 'DNM : Fix import error for requests module\n\nThis patch fixes the import requests module issue[1].\n\nhttps://logserver.rdoproject.org/openstack-periodic-integration-stable4-5/opendev.org/openstack/tripleo-ci/master/periodic-tripleo-ci-centos-7-multinode-1ctlr-featureset037-updates-stein/96a4566/job-output.txt\n\nChange-Id: Ic440ed5551644933f90c162c947c0c24e6c184af\n'}, {'number': 2, 'created': '2021-01-07 07:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8531bd893d26724f1011c4e77fbe7d58784b119d', 'message': 'Fix import error for requests module\n\nThis patch fixes the import requests module issue\nwhen package manager is ""/usr/bin/yum"".\n\nCloses-Bug: #1910399\nChange-Id: Ic440ed5551644933f90c162c947c0c24e6c184af\n'}, {'number': 3, 'created': '2021-01-07 07:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f2a3871c655e70495766e687f4bb40eff5be9106', 'message': 'Fix import error for requests module\n\nThis patch fixes the import requests module issue\nwhen package manager is ""/usr/bin/yum"" as python3\nrequests rpm is not available in CentOS7 base repos.\n\nCloses-Bug: #1910399\nChange-Id: Ic440ed5551644933f90c162c947c0c24e6c184af\n'}, {'number': 4, 'created': '2021-01-07 07:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6defefec78d8ee346aa4bcd6b48e92044b0e952c', 'message': 'Fix import error for requests module\n\nThis patch fixes the import requests module issue\nwhen package manager is ""/usr/bin/yum"" as python3\nrequests rpm is not available in CentOS7 base repos.\n\nCloses-Bug: #1910399\nChange-Id: Ic440ed5551644933f90c162c947c0c24e6c184af\n'}, {'number': 5, 'created': '2021-01-07 08:26:58.000000000', 'files': ['roles/run-test/templates/toci_gate_test.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f42bbf3d81843a02fa07df73c05d0d048f4938e7', 'message': 'Fix import error for requests module\n\nThis patch fixes the import requests module issue\nwhen package manager is ""/usr/bin/yum"" as python3\nrequests rpm is not available in CentOS7 base repos.\n\nCloses-Bug: #1910399\nChange-Id: Ic440ed5551644933f90c162c947c0c24e6c184af\n'}]",4,769536,f42bbf3d81843a02fa07df73c05d0d048f4938e7,22,6,5,31075,,,0,"Fix import error for requests module

This patch fixes the import requests module issue
when package manager is ""/usr/bin/yum"" as python3
requests rpm is not available in CentOS7 base repos.

Closes-Bug: #1910399
Change-Id: Ic440ed5551644933f90c162c947c0c24e6c184af
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/36/769536/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/templates/toci_gate_test.sh.j2'],1,774d8900cda53fc6d14179b2aaac40a8bb35b237,import_requests_module, sudo $(python_cmd) -m pip install requests,,1,0
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I93cd076a16baaa1a100fd030ec7945fbbe936418,openstack/puppet-tripleo,stable/victoria,I93cd076a16baaa1a100fd030ec7945fbbe936418,Wire up new tripleo upgrades jobs template,MERGED,2021-01-05 12:23:46.000000000,2021-01-08 17:24:19.000000000,2021-01-08 17:24:19.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-05 12:23:46.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8575c3e2bcb33d7436b22136a54c56473818cb33', 'message': 'Wire up new tripleo upgrades jobs template\n\nThe depends-on adds a new upgrade jobs template which is wired up\nhere. Once wired up across tripleo we can remove excess content\nproviders with [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131\nDepends-On: https://review.opendev.org/761188\n\nChange-Id: I93cd076a16baaa1a100fd030ec7945fbbe936418\n'}]",0,769339,8575c3e2bcb33d7436b22136a54c56473818cb33,13,7,1,8449,,,0,"Wire up new tripleo upgrades jobs template

The depends-on adds a new upgrade jobs template which is wired up
here. Once wired up across tripleo we can remove excess content
providers with [1].

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131
Depends-On: https://review.opendev.org/761188

Change-Id: I93cd076a16baaa1a100fd030ec7945fbbe936418
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/39/769339/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,8575c3e2bcb33d7436b22136a54c56473818cb33,reduce-content-providers, - tripleo-upgrades-victoria-pipeline,,1,0
openstack%2Fansible-role-python_venv_build~stable%2Fvictoria~Iec2fd7839605075af1c3b3ab952513b6004c19a6,openstack/ansible-role-python_venv_build,stable/victoria,Iec2fd7839605075af1c3b3ab952513b6004c19a6,Fix tests for Centos8 EPEL repo paths,MERGED,2021-01-06 17:08:34.000000000,2021-01-08 17:09:18.000000000,2021-01-08 17:08:02.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-06 17:08:34.000000000', 'files': ['tests/test.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/3a17e0da9a9e5e30309a8a198a7f259e4efca362', 'message': 'Fix tests for Centos8 EPEL repo paths\n\nChange-Id: Iec2fd7839605075af1c3b3ab952513b6004c19a6\n(cherry picked from commit 036795aa9f72fac4bc31c1f84e2ea17812aeea78)\n'}]",0,769585,3a17e0da9a9e5e30309a8a198a7f259e4efca362,18,3,1,25023,,,0,"Fix tests for Centos8 EPEL repo paths

Change-Id: Iec2fd7839605075af1c3b3ab952513b6004c19a6
(cherry picked from commit 036795aa9f72fac4bc31c1f84e2ea17812aeea78)
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/85/769585/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test.yml'],1,3a17e0da9a9e5e30309a8a198a7f259e4efca362,," baseurl: ""{{ (centos_epel_mirror | default ('http://download.fedoraproject.org/pub/epel')) ~ '/' ~ ansible_distribution_major_version ~ ((ansible_distribution_major_version is version('8', '<')) | ternary('/', '/Everything/')) ~ ansible_architecture }}"" description: 'Extra Packages for Enterprise Linux - $basearch'"," baseurl: ""{{ (centos_epel_mirror | default ('http://download.fedoraproject.org/pub/epel')) ~ '/' ~ ansible_distribution_major_version ~ '/' ~ ansible_architecture }}"" description: 'Extra Packages for Enterprise Linux 7 - $basearch'",2,2
openstack%2Fopenstack-ansible-os_nova~stable%2Fvictoria~Id73cb67de26c305908d0245551fa57a7e6448784,openstack/openstack-ansible-os_nova,stable/victoria,Id73cb67de26c305908d0245551fa57a7e6448784,Use systemd sockets for libvirt,MERGED,2021-01-08 13:08:26.000000000,2021-01-08 17:05:06.000000000,2021-01-08 17:03:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-01-08 13:08:26.000000000', 'files': ['handlers/main.yml', 'defaults/main.yml', 'tasks/drivers/kvm/nova_compute_kvm.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/c24ebc34aa3055d3e8c8cd8c5f3cc92ee8c9869d', 'message': 'Use systemd sockets for libvirt\n\nSince libvirt 5.7 we should not use traditional mode. Instead systemd\nmode should be choosen. Sockets are provided by libvirt package.\nWe just need to conditionally enable or disable them.\n\nAs addition we changed nova_libvirtd_listen_tls to 0 by default\nbecause listen_tls requires certificate to be provided which is not\nthe case in the current role state. So we also fix behaviour of the role\nwhen nova_libvirtd_listen_tls is 1, supposing that deployer has manually\ndistributed certificates across compute hosts.\n\nChange-Id: Id73cb67de26c305908d0245551fa57a7e6448784\nCloses-Bug: #1903846\n(cherry picked from commit 05ffae0ef06c8d0816b118b35e9cfdf0fc0ed985)\n'}]",0,769746,c24ebc34aa3055d3e8c8cd8c5f3cc92ee8c9869d,7,2,1,28619,,,0,"Use systemd sockets for libvirt

Since libvirt 5.7 we should not use traditional mode. Instead systemd
mode should be choosen. Sockets are provided by libvirt package.
We just need to conditionally enable or disable them.

As addition we changed nova_libvirtd_listen_tls to 0 by default
because listen_tls requires certificate to be provided which is not
the case in the current role state. So we also fix behaviour of the role
when nova_libvirtd_listen_tls is 1, supposing that deployer has manually
distributed certificates across compute hosts.

Change-Id: Id73cb67de26c305908d0245551fa57a7e6448784
Closes-Bug: #1903846
(cherry picked from commit 05ffae0ef06c8d0816b118b35e9cfdf0fc0ed985)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/46/769746/1 && git format-patch -1 --stdout FETCH_HEAD,"['handlers/main.yml', 'defaults/main.yml', 'tasks/drivers/kvm/nova_compute_kvm.yml']",3,c24ebc34aa3055d3e8c8cd8c5f3cc92ee8c9869d,bug/1903846-stable/victoria,"- name: Check libvirtd version command: ""libvirtd --version"" register: _libvirtd_version_cmd changed_when: false tags: - nova-install - nova-config - nova-kvm - nova-libvirt - name: Set libvirtd version set_fact: libvirtd_version: ""{{ _libvirtd_version_cmd['stdout'].split()[-1] }}"" tags: - nova-install - nova-config - nova-kvm - nova-libvirt - name: Set libvirt runtime options (Ubuntu) - (nova_libvirtd_listen_tcp == 1) or (nova_libvirtd_listen_tls == 1) - libvirtd_version is version('5.7', '<') - ansible_pkg_mgr == 'apt' notify: Restart libvirt-bin tags: - nova-config - nova-kvm - nova-libvirt - name: Unset libvirt runtime options (Ubuntu) lineinfile: dest: ""/etc/default/libvirtd"" line: 'libvirtd_opts=""""' regexp: ""^libvirtd_opts="" backup: ""yes"" when: - (nova_libvirtd_listen_tcp == 0 and nova_libvirtd_listen_tls == 0) or libvirtd_version is version('5.7', '>=') - (nova_libvirtd_listen_tcp == 1) or (nova_libvirtd_listen_tls == 1) - libvirtd_version is version('5.7', '<')- name: Unset libvirt runtime options (RPM) - (nova_libvirtd_listen_tcp == 0 and nova_libvirtd_listen_tls == 0) or libvirtd_version is version('5.7', '>=')",- name: Set libvirt runtime options when listening on tcp (Ubuntu) - nova_libvirtd_listen_tcp == 1 - nova_libvirtd_listen_tcp == 1- name: Set libvirt runtime options (RPM) - nova_libvirtd_listen_tcp == 0,70,9
openstack%2Ftripleo-common~stable%2Fvictoria~Ic3641c1b0c3013ba00339f1beab647ece572b6fe,openstack/tripleo-common,stable/victoria,Ic3641c1b0c3013ba00339f1beab647ece572b6fe,Wire up new tripleo upgrades jobs template,MERGED,2021-01-04 17:01:20.000000000,2021-01-08 17:01:59.000000000,2021-01-08 16:52:24.000000000,"[{'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-04 17:01:20.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bf325122fd55bd9e72961d208725fee4dc13c89e', 'message': 'Wire up new tripleo upgrades jobs template\n\nThe depends-on adds a new upgrade jobs template which is wired up\nhere. Once wired up across tripleo we can remove excess content\nproviders with [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131\nDepends-On: https://review.opendev.org/761188\n\nChange-Id: Ic3641c1b0c3013ba00339f1beab647ece572b6fe\n'}]",0,769165,bf325122fd55bd9e72961d208725fee4dc13c89e,10,9,1,8449,,,0,"Wire up new tripleo upgrades jobs template

The depends-on adds a new upgrade jobs template which is wired up
here. Once wired up across tripleo we can remove excess content
providers with [1].

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131
Depends-On: https://review.opendev.org/761188

Change-Id: Ic3641c1b0c3013ba00339f1beab647ece572b6fe
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/65/769165/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,bf325122fd55bd9e72961d208725fee4dc13c89e,reduce-content-providers, - tripleo-upgrades-victoria-pipeline,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~Ie1a9decd58f46069c6747b8b96468798498a1b26,openstack/tripleo-heat-templates,stable/victoria,Ie1a9decd58f46069c6747b8b96468798498a1b26,Wire up new tripleo upgrades jobs template,MERGED,2020-11-03 16:56:33.000000000,2021-01-08 16:52:04.000000000,2021-01-08 16:52:04.000000000,"[{'_account_id': 6816}, {'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2020-11-03 16:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/16c53de923622fac31095affced57fc60f005897', 'message': 'WIP - wire up victoria standalone-upgrade content provider template\n\nThe depends-on tries to split the upgrade jobs to a template per\nbranch to prevent redundant content providers.\n\nDepends-On: I728b56e98b376051dc350b0779e656cd12a80c77\nChange-Id: Ie1a9decd58f46069c6747b8b96468798498a1b26\n'}, {'number': 2, 'created': '2020-11-04 13:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38b94ccfceb817452ebd37132998533c3985da93', 'message': 'WIP - wire up victoria standalone-upgrade content provider template\n\nThe depends-on tries to split the upgrade jobs to a template per\nbranch to prevent redundant content providers.\n\nDepends-On: I728b56e98b376051dc350b0779e656cd12a80c77\nChange-Id: Ie1a9decd58f46069c6747b8b96468798498a1b26\n'}, {'number': 3, 'created': '2020-11-24 12:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0b84abb477e61e3ced7766019b74e9192be0650c', 'message': 'WIP - wire up victoria standalone-upgrade content provider template\n\nThe depends-on tries to split the upgrade jobs to a template per\nbranch to prevent redundant content providers.\n\nDepends-On: I728b56e98b376051dc350b0779e656cd12a80c77\nChange-Id: Ie1a9decd58f46069c6747b8b96468798498a1b26\n'}, {'number': 4, 'created': '2020-12-22 16:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bb5a5a68dac042b768056a2351383c5bab0cd9d5', 'message': 'WIP - wire up victoria standalone-upgrade content provider template\n\nThe depends-on tries to split the upgrade jobs to a template per\nbranch to prevent redundant content providers.\n\nDepends-On: I728b56e98b376051dc350b0779e656cd12a80c77\nChange-Id: Ie1a9decd58f46069c6747b8b96468798498a1b26\n'}, {'number': 5, 'created': '2021-01-04 14:22:43.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f75e6d51cc36626ef8b251776f62bd499531f49d', 'message': 'Wire up new tripleo upgrades jobs template\n\nThe depends-on adds a new upgrade jobs template which is wired up\nhere. Once wired up across tripleo we can remove excess content\nproviders with [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131\nDepends-On: https://review.opendev.org/761188\n\nChange-Id: Ie1a9decd58f46069c6747b8b96468798498a1b26\n'}]",0,761199,f75e6d51cc36626ef8b251776f62bd499531f49d,24,10,5,8449,,,0,"Wire up new tripleo upgrades jobs template

The depends-on adds a new upgrade jobs template which is wired up
here. Once wired up across tripleo we can remove excess content
providers with [1].

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131
Depends-On: https://review.opendev.org/761188

Change-Id: Ie1a9decd58f46069c6747b8b96468798498a1b26
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/761199/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,16c53de923622fac31095affced57fc60f005897,reduce-content-providers, - tripleo-standalone-upgrades-victoria-pipeline,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ib5a6fddc44e7c4e0f0a37e3b0f4275cde46a0861,openstack/tripleo-heat-templates,stable/queens,Ib5a6fddc44e7c4e0f0a37e3b0f4275cde46a0861,[FFU] Use output parameter instead of hiera lookup for cell creation,MERGED,2020-06-08 22:32:04.000000000,2021-01-08 16:51:55.000000000,2021-01-08 16:51:55.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 27419}]","[{'number': 1, 'created': '2020-06-08 22:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1fa381c80e400177ce18206584722bc2553f7d6f', 'message': ""[FFU] Use output parameter instead of hiera lookup for cell creation\n\n10-13 FFU step that creates default cell uses hieradata lookup\nwhich evaulates to 'nil' for database_connection which causes\nfailure of ffu steps that follows. The database_connection\nshould be set using output parameter from base template.\n\nChange-Id: Ib5a6fddc44e7c4e0f0a37e3b0f4275cde46a0861\nCloses-Bug: #1882512\n""}, {'number': 2, 'created': '2020-12-22 08:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/093a1cca273bf3e369dc502c22a7be7e6b33d752', 'message': ""[FFU] Use output parameter instead of hiera lookup for cell creation\n\n10-13 FFU step that creates default cell uses hieradata lookup\nwhich evaulates to 'nil' for database_connection which causes\nfailure of ffu steps that follows. The database_connection\nshould be set using output parameter from base template.\n\nChange-Id: Ib5a6fddc44e7c4e0f0a37e3b0f4275cde46a0861\nCloses-Bug: #1882512\n""}, {'number': 3, 'created': '2021-01-05 11:43:39.000000000', 'files': ['docker/services/nova-api.yaml', 'puppet/services/nova-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42f44640195937b1738b09cecf27f7a1ef8187bd', 'message': ""[FFU] Use output parameter instead of hiera lookup for cell creation\n\n10-13 FFU step that creates default cell uses hieradata lookup\nwhich evaulates to 'nil' for database_connection which causes\nfailure of ffu steps that follows. The database_connection\nshould be set using output parameter from base template.\n\nChange-Id: Ib5a6fddc44e7c4e0f0a37e3b0f4275cde46a0861\nCloses-Bug: #1882512\n""}]",6,734341,42f44640195937b1738b09cecf27f7a1ef8187bd,28,9,3,30133,,,0,"[FFU] Use output parameter instead of hiera lookup for cell creation

10-13 FFU step that creates default cell uses hieradata lookup
which evaulates to 'nil' for database_connection which causes
failure of ffu steps that follows. The database_connection
should be set using output parameter from base template.

Change-Id: Ib5a6fddc44e7c4e0f0a37e3b0f4275cde46a0861
Closes-Bug: #1882512
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/734341/3 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/nova-api.yaml', 'puppet/services/nova-api.yaml']",2,1fa381c80e400177ce18206584722bc2553f7d6f,1882512," shell: str_replace: template: nova-manage cell_v2 create_cell --name='default' --database_connection='CELL' params: CELL: {get_attr: [NovaApiBase, role_data, config_settings, ""nova::database_connection""]}", shell: nova-manage cell_v2 create_cell --name='default' --database_connection=$(hiera nova::database_connection),10,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I2dbafdc417f31eb000fbb469ae2c082cda3a5523,openstack/tripleo-heat-templates,stable/train,I2dbafdc417f31eb000fbb469ae2c082cda3a5523,Fix MetricsQdrUseSSL value,MERGED,2020-11-10 11:53:02.000000000,2021-01-08 16:51:50.000000000,2021-01-08 16:51:50.000000000,"[{'_account_id': 5241}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-10 11:53:02.000000000', 'files': ['deployment/metrics/qdr-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/445d159f662374f08b8fd64c7d962124de11320b', 'message': ""Fix MetricsQdrUseSSL value\n\npuppet-qdr expects one of the string values 'yes'/'no' instead of boolean,\nso currently listeners cannot be created with SSL enabled. This patch is fixing\nthis issue.\n\nChange-Id: I2dbafdc417f31eb000fbb469ae2c082cda3a5523\n(cherry picked from commit dfc3322b637c62b85f450d2ad4aab0aaa1990cb7)\n""}]",0,762127,445d159f662374f08b8fd64c7d962124de11320b,20,4,1,5241,,,0,"Fix MetricsQdrUseSSL value

puppet-qdr expects one of the string values 'yes'/'no' instead of boolean,
so currently listeners cannot be created with SSL enabled. This patch is fixing
this issue.

Change-Id: I2dbafdc417f31eb000fbb469ae2c082cda3a5523
(cherry picked from commit dfc3322b637c62b85f450d2ad4aab0aaa1990cb7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/27/762127/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/metrics/qdr-container-puppet.yaml'],1,445d159f662374f08b8fd64c7d962124de11320b,metric_qdr-ssl-enable-fix-stable/victoria-stable/ussuri-stable/train," listener_ssl_enabled: {equals: [{get_param: MetricsQdrUseSSL}, true]} tripleo::profile::base::metrics::qdr::listener_require_ssl: if: - listener_ssl_enabled - 'yes' - 'no'", tripleo::profile::base::metrics::qdr::listener_require_ssl: {get_param: MetricsQdrUseSSL},6,1
openstack%2Fvitrage-tempest-plugin~master~I68dab875e88b6dbdeb9ff453e60035137df7dfbd,openstack/vitrage-tempest-plugin,master,I68dab875e88b6dbdeb9ff453e60035137df7dfbd,skip template add fails sporadically need to investigate,MERGED,2021-01-08 13:04:35.000000000,2021-01-08 16:48:36.000000000,2021-01-08 16:41:54.000000000,"[{'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 13:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/b89f46bc6409ed836ebf20b88db365897bf97e8d', 'message': 'skip template add fails sporadically need to investigate\n\nChange-Id: I68dab875e88b6dbdeb9ff453e60035137df7dfbd\n'}, {'number': 2, 'created': '2021-01-08 13:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/d115b5cc1f0db6b573e9c23d88e70613e865a810', 'message': 'skip template add fails sporadically need to investigate\n\nChange-Id: I68dab875e88b6dbdeb9ff453e60035137df7dfbd\n'}, {'number': 3, 'created': '2021-01-08 14:27:18.000000000', 'files': ['vitrage_tempest_plugin/tests/api/templates/test_template.py'], 'web_link': 'https://opendev.org/openstack/vitrage-tempest-plugin/commit/41c2fd2380569d1156277d0ef29289b5652eda90', 'message': 'skip template add fails sporadically need to investigate\n\nChange-Id: I68dab875e88b6dbdeb9ff453e60035137df7dfbd\n'}]",0,769917,41c2fd2380569d1156277d0ef29289b5652eda90,11,2,3,19134,,,0,"skip template add fails sporadically need to investigate

Change-Id: I68dab875e88b6dbdeb9ff453e60035137df7dfbd
",git fetch https://review.opendev.org/openstack/vitrage-tempest-plugin refs/changes/17/769917/3 && git format-patch -1 --stdout FETCH_HEAD,['vitrage_tempest_plugin/tests/api/templates/test_template.py'],1,b89f46bc6409ed836ebf20b88db365897bf97e8d,template,"import testtools @testtools.skip(""skip for now"")",,2,1
openstack%2Fneutron~master~I6355c9394c23f7d94496e9c06e061d6d3fd4128d,openstack/neutron,master,I6355c9394c23f7d94496e9c06e061d6d3fd4128d,Add standard_attrs to address group,MERGED,2020-11-25 18:38:25.000000000,2021-01-08 16:48:18.000000000,2021-01-08 09:43:19.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2020-11-25 18:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/42d9d3c612e04e7e3a59e439e41a9740eeea6518', 'message': 'Add standard_attrs to address group\n\nNeed the revision_number attribute to work with rpc resource_cache.\n\nChange-Id: I6355c9394c23f7d94496e9c06e061d6d3fd4128d\nImplements: blueprint address-groups-in-sg-rules\n'}, {'number': 2, 'created': '2020-11-30 18:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61a3b33632ed6585da576451c50ce764c589c0f0', 'message': 'Add standard_attrs to address group\n\nNeed the revision_number attribute to support address group update in\nrpc resource_cache.\n\nChange-Id: I6355c9394c23f7d94496e9c06e061d6d3fd4128d\nImplements: blueprint address-groups-in-sg-rules\n'}, {'number': 3, 'created': '2020-12-02 19:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cd88a155065cf397a990b79dedc2a949f113782e', 'message': 'Add standard_attrs to address group\n\nNeed the revision_number attribute to support address group update in\nrpc resource_cache.\n\nChange-Id: I6355c9394c23f7d94496e9c06e061d6d3fd4128d\nImplements: blueprint address-groups-in-sg-rules\n'}, {'number': 4, 'created': '2020-12-03 23:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/65e4d960b5a943fc51d557323d5c5202712c7f0f', 'message': 'Add standard_attrs to address group\n\nNeed the revision_number attribute to support address group update in\nrpc resource_cache.\n\nChange-Id: I6355c9394c23f7d94496e9c06e061d6d3fd4128d\nImplements: blueprint address-groups-in-sg-rules\n'}, {'number': 5, 'created': '2020-12-04 17:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0fa6c7bf891f083e9c50c4c512ac070177c428c7', 'message': 'Add standard_attrs to address group\n\nNeed the revision_number attribute to support address group update in\nrpc resource_cache.\n\nChange-Id: I6355c9394c23f7d94496e9c06e061d6d3fd4128d\nImplements: blueprint address-groups-in-sg-rules\n'}, {'number': 6, 'created': '2020-12-18 19:31:30.000000000', 'files': ['neutron/db/migration/alembic_migrations/versions/wallaby/expand/26d1e9f5c766_add_standard_attributes_to_address_group.py', 'neutron/db/models/address_group.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/tests/unit/objects/test_address_group.py', 'neutron/tests/functional/db/test_migrations.py', 'neutron/objects/address_group.py', 'releasenotes/notes/add-standard-attrs-to-address-groups-f5a8565fd2ed91c6.yaml', 'neutron/tests/unit/objects/test_objects.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6db15a004d37b4f93267147f36e3a1951d6b8475', 'message': 'Add standard_attrs to address group\n\nNeed the revision_number attribute to support address group update in\nrpc resource_cache.\n\nChange-Id: I6355c9394c23f7d94496e9c06e061d6d3fd4128d\nImplements: blueprint address-groups-in-sg-rules\n'}]",11,764228,6db15a004d37b4f93267147f36e3a1951d6b8475,50,6,6,28159,,,0,"Add standard_attrs to address group

Need the revision_number attribute to support address group update in
rpc resource_cache.

Change-Id: I6355c9394c23f7d94496e9c06e061d6d3fd4128d
Implements: blueprint address-groups-in-sg-rules
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/764228/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/models/address_group.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/db/migration/alembic_migrations/versions/wallaby/expand/330212395ce3_add_standard_attributes_to_address_group.py']",3,42d9d3c612e04e7e3a59e439e41a9740eeea6518,bp/address-groups-in-sg-rules,"# Copyright 2020 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # from alembic import op import sqlalchemy as sa """"""Add standard attributes to address group Revision ID: 330212395ce3 Revises: f010820fc498 Create Date: 2020-11-24 01:48:23.142690 """""" # revision identifiers, used by Alembic. revision = '330212395ce3' down_revision = 'f010820fc498' def upgrade(): op.add_column('address_groups', sa.Column( 'standard_attr_id', sa.BigInteger().with_variant(sa.Integer(), 'sqlite'), nullable=False)) op.create_unique_constraint(None, 'address_groups', ['standard_attr_id']) op.create_foreign_key(None, 'address_groups', 'standardattributes', ['standard_attr_id'], ['id'], ondelete='CASCADE') ",,48,2
openstack%2Ftripleo-docs~master~I0f8cb9dc7449ac0d1cf96965abfc6dd8121b2c95,openstack/tripleo-docs,master,I0f8cb9dc7449ac0d1cf96965abfc6dd8121b2c95,Document CinderVolumeEdge service,MERGED,2021-01-06 16:15:37.000000000,2021-01-08 16:33:59.000000000,2021-01-08 16:32:22.000000000,"[{'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-01-06 16:15:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/933fcebca1108a7fea75f95bcff82453c738c77c', 'message': 'Document CinderVolumeEdge service\n\nChange-Id: I0f8cb9dc7449ac0d1cf96965abfc6dd8121b2c95\n'}, {'number': 2, 'created': '2021-01-07 14:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/a1c9fc52ab3f7d979573b161d35fe4dd464dff03', 'message': 'Document CinderVolumeEdge service\n\nChange-Id: I0f8cb9dc7449ac0d1cf96965abfc6dd8121b2c95\n'}, {'number': 3, 'created': '2021-01-07 14:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/c0a45f209da608e337972b16ee14b9af7b5e8d91', 'message': 'Document CinderVolumeEdge service\n\nChange-Id: I0f8cb9dc7449ac0d1cf96965abfc6dd8121b2c95\n'}, {'number': 4, 'created': '2021-01-07 14:24:25.000000000', 'files': ['deploy-guide/source/features/distributed_multibackend_storage.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/fe4766a2687a51bc3c022ffedd5f44f7cab9dd29', 'message': 'Document CinderVolumeEdge service\n\nChange-Id: I0f8cb9dc7449ac0d1cf96965abfc6dd8121b2c95\n'}]",4,769561,fe4766a2687a51bc3c022ffedd5f44f7cab9dd29,15,4,4,18002,,,0,"Document CinderVolumeEdge service

Change-Id: I0f8cb9dc7449ac0d1cf96965abfc6dd8121b2c95
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/61/769561/4 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/distributed_multibackend_storage.rst'],1,933fcebca1108a7fea75f95bcff82453c738c77c,cinder-volume-edge,"`DistributedComputeHCI` and `DistributedComputeScaleOut` for `DistributedComputeHCIScaleOut`, and add `CephAll` nodes (which host both the Mon, Mgr and OSD services). Both the `DistributedCompute` and `DistributedComputeHCI` roles contain `CinderVolumeEdge` and `Etcd` service for running Cinder in active/active mode but this service will not be enabled unless The `environments/dcn-hci.yaml` environment file is included in the deploy command. If the `environments/dcn.yaml` is used in its place, then the CinderVolumeEdge service will remain disabled. The `DistributedCompute` role contains the `GlanceApiEdge` service so that the Compute service uses its the local Glance and local Ceph server at the dcn0 site. The `DistributedComputeScaleOut` contains theThree are needed for the Cinder cluster and if applicable the Ceph Monitor and Manger services.","`DistributedComputeHCI`, `DistributedComputeScaleOut` for `DistributedComputeHCIScaleOut`, and add `CephStorage` nodes. The `DistributedCompute` role contains the `GlanceApiEdge` service so that the Compute service uses its the local Glance and local Ceph server at the dcn0 site. The `DistributedComputeScaleOut` contains theUnlike the `DistributedComputeHCI` role, there is no minimum number of `DistributedCompute` required.",16,7
openstack%2Fcompute-hyperv~master~I03f6930fe19b7077202a90ed708a5e227866323c,openstack/compute-hyperv,master,I03f6930fe19b7077202a90ed708a5e227866323c,remove unicode from code,MERGED,2021-01-07 02:25:22.000000000,2021-01-08 16:25:23.000000000,2021-01-08 16:25:23.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 02:25:22.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/2f9ad1959c967d56078dda324ca6b789a2ef7812', 'message': 'remove unicode from code\n\nChange-Id: I03f6930fe19b7077202a90ed708a5e227866323c\n'}]",0,769642,2f9ad1959c967d56078dda324ca6b789a2ef7812,6,2,1,32921,,,0,"remove unicode from code

Change-Id: I03f6930fe19b7077202a90ed708a5e227866323c
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/42/769642/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/conf.py'],1,2f9ad1959c967d56078dda324ca6b789a2ef7812,,"project = 'compute_hyperv' copyright = '2017, Cloudbase Solutions' 'compute_hyperv Release Notes Documentation', 'Cloudbase Solutions', 'manual'), 'compute_hyperv Release Notes Documentation', ['Cloudbase Solutions'], 1) 'compute_hyperv Release Notes Documentation', 'Cloudbase Solutions', 'compute_hypervReleaseNotes',","project = u'compute_hyperv' copyright = u'2017, Cloudbase Solutions' u'compute_hyperv Release Notes Documentation', u'Cloudbase Solutions', 'manual'), u'compute_hyperv Release Notes Documentation', [u'Cloudbase Solutions'], 1) u'compute_hyperv Release Notes Documentation', u'Cloudbase Solutions', 'compute_hypervReleaseNotes',",8,8
openstack%2Fswift~master~I7dc793f0ec65236c1278fd93d6b1f17c2db98d7b,openstack/swift,master,I7dc793f0ec65236c1278fd93d6b1f17c2db98d7b,Avoid loops when gathering container listings from shards,MERGED,2020-12-16 20:01:43.000000000,2021-01-08 15:51:21.000000000,2021-01-08 15:49:56.000000000,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-16 20:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b9c6719a1c92ac0b123b6794f2a5aabfcfc7d609', 'message': ""Avoid loops when gathering container listings from shards\n\nPreviously the proxy container controller could, in corner cases, get\ninto a loop while building a listing for a sharded container. For\nexample, if a root has a single shard then the proxy will be\nredirected to that shard, but if that shard has shrunk into the root\nthen it will redirect the proxy back to the root, and so on until the\nroot is updated with the shard's shrunken status.\n\nThere is already a guard to prevent the proxy fetching shard ranges\nagain from the same container that it is *currently* querying for\nlisting parts. That deals with the case when a container fills in gaps\nin its listing shard ranges with a reference to itself. This patch\nextends that guard to prevent the proxy fetching shard ranges again\nfrom any container that has previously been queried for listing parts.\n\nThe potential for the looping was increased by shard ranges being cached\ne.g. test.probe.test_sharder.TestContainerSharding.test_shrinking was\nprone to get into a container GET loop after shrinking the final shard\nto its root.\n\nChange-Id: I7dc793f0ec65236c1278fd93d6b1f17c2db98d7b\n""}, {'number': 2, 'created': '2021-01-01 15:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/47bca3bcc48d33c9c8c55e507cbbda4f9fdff4bb', 'message': ""Avoid loops when gathering container listings from shards\n\nPreviously the proxy container controller could, in corner cases, get\ninto a loop while building a listing for a sharded container. For\nexample, if a root has a single shard then the proxy will be\nredirected to that shard, but if that shard has shrunk into the root\nthen it will redirect the proxy back to the root, and so on until the\nroot is updated with the shard's shrunken status.\n\nThere is already a guard to prevent the proxy fetching shard ranges\nagain from the same container that it is *currently* querying for\nlisting parts. That deals with the case when a container fills in gaps\nin its listing shard ranges with a reference to itself. This patch\nextends that guard to prevent the proxy fetching shard ranges again\nfrom any container that has previously been queried for listing parts.\n\nThe potential for the looping was increased by shard ranges being cached\ne.g. test.probe.test_sharder.TestContainerSharding.test_shrinking was\nprone to get into a container GET loop after shrinking the final shard\nto its root.\n\nChange-Id: I7dc793f0ec65236c1278fd93d6b1f17c2db98d7b\n""}, {'number': 3, 'created': '2021-01-05 11:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5a5980e9c4f640e0e99b970ab14431c48be03a60', 'message': ""Avoid loops when gathering container listings from shards\n\nPreviously the proxy container controller could, in corner cases, get\ninto a loop while building a listing for a sharded container. For\nexample, if a root has a single shard then the proxy will be\nredirected to that shard, but if that shard has shrunk into the root\nthen it will redirect the proxy back to the root, and so on until the\nroot is updated with the shard's shrunken status.\n\nThere is already a guard to prevent the proxy fetching shard ranges\nagain from the same container that it is *currently* querying for\nlisting parts. That deals with the case when a container fills in gaps\nin its listing shard ranges with a reference to itself. This patch\nextends that guard to prevent the proxy fetching shard ranges again\nfrom any container that has previously been queried for listing parts.\n\nChange-Id: I7dc793f0ec65236c1278fd93d6b1f17c2db98d7b\n""}, {'number': 4, 'created': '2021-01-06 16:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/77e3487cee9753726abe5c299e87dc69e44f57b8', 'message': ""Avoid loops when gathering container listings from shards\n\nPreviously the proxy container controller could, in corner cases, get\ninto a loop while building a listing for a sharded container. For\nexample, if a root has a single shard then the proxy will be\nredirected to that shard, but if that shard has shrunk into the root\nthen it will redirect the proxy back to the root, and so on until the\nroot is updated with the shard's shrunken status.\n\nThere is already a guard to prevent the proxy fetching shard ranges\nagain from the same container that it is *currently* querying for\nlisting parts. That deals with the case when a container fills in gaps\nin its listing shard ranges with a reference to itself. This patch\nextends that guard to prevent the proxy fetching shard ranges again\nfrom any container that has previously been queried for listing parts.\n\nChange-Id: I7dc793f0ec65236c1278fd93d6b1f17c2db98d7b\n""}, {'number': 5, 'created': '2021-01-06 16:24:23.000000000', 'files': ['test/unit/proxy/controllers/test_container.py', 'swift/common/wsgi.py', 'swift/proxy/controllers/container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/453983764727ba528222a413691a0f0fc5a8f8cf', 'message': ""Avoid loops when gathering container listings from shards\n\nPreviously the proxy container controller could, in corner cases, get\ninto a loop while building a listing for a sharded container. For\nexample, if a root has a single shard then the proxy will be\nredirected to that shard, but if that shard has shrunk into the root\nthen it will redirect the proxy back to the root, and so on until the\nroot is updated with the shard's shrunken status.\n\nThere is already a guard to prevent the proxy fetching shard ranges\nagain from the same container that it is *currently* querying for\nlisting parts. That deals with the case when a container fills in gaps\nin its listing shard ranges with a reference to itself. This patch\nextends that guard to prevent the proxy fetching shard ranges again\nfrom any container that has previously been queried for listing parts.\n\nChange-Id: I7dc793f0ec65236c1278fd93d6b1f17c2db98d7b\n""}]",12,767410,453983764727ba528222a413691a0f0fc5a8f8cf,21,5,5,7847,,,0,"Avoid loops when gathering container listings from shards

Previously the proxy container controller could, in corner cases, get
into a loop while building a listing for a sharded container. For
example, if a root has a single shard then the proxy will be
redirected to that shard, but if that shard has shrunk into the root
then it will redirect the proxy back to the root, and so on until the
root is updated with the shard's shrunken status.

There is already a guard to prevent the proxy fetching shard ranges
again from the same container that it is *currently* querying for
listing parts. That deals with the case when a container fills in gaps
in its listing shard ranges with a reference to itself. This patch
extends that guard to prevent the proxy fetching shard ranges again
from any container that has previously been queried for listing parts.

Change-Id: I7dc793f0ec65236c1278fd93d6b1f17c2db98d7b
",git fetch https://review.opendev.org/openstack/swift refs/changes/10/767410/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/controllers/test_container.py', 'swift/common/wsgi.py', 'swift/proxy/controllers/container.py']",3,b9c6719a1c92ac0b123b6794f2a5aabfcfc7d609,p-shard-listings-loop," # Construct listing using shards described by the response body. # The history of containers that have returned shard ranges is # maintained in the request environ so that loops can be avoided by # forcing an object listing if the same container is visited again. # This can happen in at least two scenarios: # 1. a container has filled a gap in its shard ranges with a # shard range pointing to itself # 2. a root container returns a (stale) shard range pointing to a # shard that has shrunk into the root, in which case the shrunken # shard may return the root's shard range. shard_listing_history = req.environ.setdefault( 'swift.shard_listing_history', []) shard_listing_history.append((self.account_name, self.container_name)) if ((shard_range.account, shard_range.container) in shard_listing_history): # directed back to a container that has previously returned # shard ranges - force GET of objects", # construct listing using shards described by the response body if (shard_range.account == self.account_name and shard_range.container == self.container_name): # directed back to same container - force GET of objects,80,6
openstack%2Fpython-openstackclient~master~I267f3290fce3692cbd1ff6a9af146c2736ee31fe,openstack/python-openstackclient,master,I267f3290fce3692cbd1ff6a9af146c2736ee31fe,compute: Add missing options for 'server image create',MERGED,2020-12-03 18:12:39.000000000,2021-01-08 15:36:48.000000000,2021-01-08 15:32:25.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-12-03 18:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8ec450720eefd3d7deff5893e3ee95abfddac897', 'message': ""compute: Add missing options for 'server image create'\n\nAdd a '--property' option to record arbitrary key/value metadata to\n'meta_data.json' on the metadata server.\n\nChange-Id: I267f3290fce3692cbd1ff6a9af146c2736ee31fe\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2020-12-07 18:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f79e2d97de8f2c2cb04489e1e739acc36cc17a04', 'message': ""compute: Add missing options for 'server image create'\n\nAdd a '--property' option to record arbitrary key/value metadata to\n'meta_data.json' on the metadata server.\n\nChange-Id: I267f3290fce3692cbd1ff6a9af146c2736ee31fe\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2020-12-08 16:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8a1e8131738b8649e0660a4227158983adc8105b', 'message': ""compute: Add missing options for 'server image create'\n\nAdd a '--property' option to record arbitrary key/value metadata to\n'meta_data.json' on the metadata server.\n\nChange-Id: I267f3290fce3692cbd1ff6a9af146c2736ee31fe\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2020-12-09 18:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9d2b48b0ab996708371f6771fe9fc7d1c02944ab', 'message': ""compute: Add missing options for 'server image create'\n\nAdd a '--property' option to record arbitrary key/value metadata to\n'meta_data.json' on the metadata server.\n\nChange-Id: I267f3290fce3692cbd1ff6a9af146c2736ee31fe\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2021-01-07 14:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/48019e3c1e89821608671b1caaac0ee0b02745e3', 'message': ""compute: Add missing options for 'server image create'\n\nAdd a '--property' option to record arbitrary key/value metadata to\n'meta_data.json' on the metadata server.\n\nChange-Id: I267f3290fce3692cbd1ff6a9af146c2736ee31fe\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2021-01-08 12:14:50.000000000', 'files': ['openstackclient/compute/v2/server_image.py', 'openstackclient/tests/unit/compute/v2/test_server_image.py', 'releasenotes/notes/add-missing-server-image-create-opts-3c19a7492dc50fd7.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/958344733aa6d8aea6cb8d06cc4d879fe1ee44a6', 'message': ""compute: Add missing options for 'server image create'\n\nAdd a '--property' option to record arbitrary key/value metadata to\n'meta_data.json' on the metadata server.\n\nChange-Id: I267f3290fce3692cbd1ff6a9af146c2736ee31fe\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,765365,958344733aa6d8aea6cb8d06cc4d879fe1ee44a6,20,3,6,15334,,,0,"compute: Add missing options for 'server image create'

Add a '--property' option to record arbitrary key/value metadata to
'meta_data.json' on the metadata server.

Change-Id: I267f3290fce3692cbd1ff6a9af146c2736ee31fe
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/65/765365/5 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/compute/v2/server_image.py', 'releasenotes/notes/add-missing-server-image-create-opts-3c19a7492dc50fd7.yaml']",2,8ec450720eefd3d7deff5893e3ee95abfddac897,osc-first,"--- features: - | Add ``--property`` option to ``server image create`` command, allowing users to record arbitrary key/value metadata to ``meta_data.json`` on the metadata server. ",,18,0
openstack%2Fpython-openstackclient~master~Ibf8717efdd418a2d95215b4d9ab2acf0d57c4a70,openstack/python-openstackclient,master,Ibf8717efdd418a2d95215b4d9ab2acf0d57c4a70,compute: Add missing options for 'server set',MERGED,2020-12-03 18:12:39.000000000,2021-01-08 15:34:41.000000000,2021-01-08 15:31:42.000000000,"[{'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-12-03 18:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4ca41623e5890f965f69763a246d9448b46e68ad', 'message': ""compute: Add missing options for 'server set'\n\nAdd a new '--no-password' option to unset the password on an existing\nserver. In addition, add a new '--password' option that replaces the\ninteractive '--root-password' option. This makes sense given no other\ncommands uses interactive password options.\n\nChecks that rely on specific API microversions now run before we execute\nany action, to avoid situations where an update is only partially\napplied.\n\nChange-Id: Ibf8717efdd418a2d95215b4d9ab2acf0d57c4a70\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2020-12-07 18:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b45b5c233fb2bbf53b64b3af7b109de71b7e7cb7', 'message': ""compute: Add missing options for 'server set'\n\nAdd a new '--no-password' option to unset the password on an existing\nserver. In addition, add a new '--password' option that replaces the\ninteractive '--root-password' option. This makes sense given no other\ncommands uses interactive password options.\n\nChecks that rely on specific API microversions now run before we execute\nany action, to avoid situations where an update is only partially\napplied.\n\nChange-Id: Ibf8717efdd418a2d95215b4d9ab2acf0d57c4a70\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2020-12-08 16:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d9dc635801e1b814f5855c972f69cec5c6e62404', 'message': ""compute: Add missing options for 'server set'\n\nAdd a new '--no-password' option to unset the password on an existing\nserver. In addition, add a new '--password' option that replaces the\ninteractive '--root-password' option. This makes sense given no other\ncommands uses interactive password options.\n\nChecks that rely on specific API microversions now run before we execute\nany action, to avoid situations where an update is only partially\napplied.\n\nChange-Id: Ibf8717efdd418a2d95215b4d9ab2acf0d57c4a70\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2020-12-09 18:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/149a3d1e10ed4a7685e43c8573c2e3c5ede6ee37', 'message': ""compute: Add missing options for 'server set'\n\nAdd a new '--no-password' option to unset the password on an existing\nserver. In addition, add a new '--password' option that replaces the\ninteractive '--root-password' option. This makes sense given no other\ncommands uses interactive password options.\n\nChecks that rely on specific API microversions now run before we execute\nany action, to avoid situations where an update is only partially\napplied.\n\nChange-Id: Ibf8717efdd418a2d95215b4d9ab2acf0d57c4a70\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2021-01-07 14:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f8dfac91d05aae8ee2c13174389724d7dd450748', 'message': ""compute: Add missing options for 'server set'\n\nAdd a new '--no-password' option to unset the password on an existing\nserver. In addition, add a new '--password' option that replaces the\ninteractive '--root-password' option. This makes sense given no other\ncommands uses interactive password options.\n\nChecks that rely on specific API microversions now run before we execute\nany action, to avoid situations where an update is only partially\napplied.\n\nChange-Id: Ibf8717efdd418a2d95215b4d9ab2acf0d57c4a70\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2021-01-08 12:14:50.000000000', 'files': ['releasenotes/notes/add-missing-server-set-opts-e1b4300f5f42e863.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8a0f3fc6a8b30328c575bb5c3fc21ddc4f500d9d', 'message': ""compute: Add missing options for 'server set'\n\nAdd a new '--no-password' option to unset the password on an existing\nserver. In addition, add a new '--password' option that replaces the\ninteractive '--root-password' option. This makes sense given no other\ncommands uses interactive password options.\n\nChecks that rely on specific API microversions now run before we execute\nany action, to avoid situations where an update is only partially\napplied.\n\nChange-Id: Ibf8717efdd418a2d95215b4d9ab2acf0d57c4a70\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",4,765363,8a0f3fc6a8b30328c575bb5c3fc21ddc4f500d9d,21,3,6,15334,,,0,"compute: Add missing options for 'server set'

Add a new '--no-password' option to unset the password on an existing
server. In addition, add a new '--password' option that replaces the
interactive '--root-password' option. This makes sense given no other
commands uses interactive password options.

Checks that rely on specific API microversions now run before we execute
any action, to avoid situations where an update is only partially
applied.

Change-Id: Ibf8717efdd418a2d95215b4d9ab2acf0d57c4a70
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/63/765363/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-missing-server-set-opts-e1b4300f5f42e863.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",3,4ca41623e5890f965f69763a246d9448b46e68ad,osc-first," password_group = parser.add_mutually_exclusive_group() password_group.add_argument( '--password', help=_('Set the server password'), ) password_group.add_argument( '--no-password', action='store_true', help=_( 'Clear the admin password for the server from the metadata ' 'service; note that this action does not actually change the ' 'server password' ), ) # TODO(stephenfin): Remove this in a future major version password_group.add_argument( help=argparse.SUPPRESS, '--property', dest='properties', help=_( 'Property to add/change for this server ' '(repeat option to set multiple properties)' ), help=_( 'New server description ' '(supported by --os-compute-api-version 2.19 or above)' ), if parsed_args.description: if server.api_version < api_versions.APIVersion(""2.19""): msg = _( '--os-compute-api-version 2.26 or greater is required to ' 'support the --description option' ) raise exceptions.CommandError(msg) if parsed_args.tags: if server.api_version < api_versions.APIVersion('2.26'): msg = _( '--os-compute-api-version 2.26 or greater is required to ' 'support the --tag option' ) raise exceptions.CommandError(msg) if parsed_args.properties: compute_client.servers.set_meta(server, parsed_args.properties) elif parsed_args.password: server.change_password(parsed_args.password) elif parsed_args.no_password: server.clear_password()"," parser.add_argument( help=_('Set new root password (interactive only)'), ""--property"", help=_('Property to add/change for this server ' '(repeat option to set multiple properties)'), help=_('New server description (supported by ' '--os-compute-api-version 2.19 or above)'), if parsed_args.property: compute_client.servers.set_meta( server, parsed_args.property, ) if server.api_version < api_versions.APIVersion(""2.19""): msg = _(""Description is not supported for "" ""--os-compute-api-version less than 2.19"") raise exceptions.CommandError(msg) if server.api_version < api_versions.APIVersion('2.26'): msg = _( '--os-compute-api-version 2.26 or greater is required to ' 'support the --tag option' ) raise exceptions.CommandError(msg) ",93,25
openstack%2Fopenstacksdk~master~I1863095c2c6d6d3e10ef19a5afe00e1526d52c43,openstack/openstacksdk,master,I1863095c2c6d6d3e10ef19a5afe00e1526d52c43,"New volume availability zone resource, new functional and unit tests",MERGED,2020-12-18 13:45:56.000000000,2021-01-08 15:34:24.000000000,2021-01-08 15:31:35.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-12-18 13:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8593b625dc16a0a509e40dbda2c744cfc06c5283', 'message': 'New volume availability zone resource, new functional and unit tests\n\nChange-Id: I1863095c2c6d6d3e10ef19a5afe00e1526d52c43\n'}, {'number': 2, 'created': '2021-01-06 14:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e4ca101062aac5c8d02045422de047070d3ea57c', 'message': 'New volume availability zone resource, new functional and unit tests\n\nChange-Id: I1863095c2c6d6d3e10ef19a5afe00e1526d52c43\n'}, {'number': 3, 'created': '2021-01-07 10:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a726b7c219b1cf2e4a4f6baa15cf1b49eb7e66b1', 'message': 'New volume availability zone resource, new functional and unit tests\n\nChange-Id: I1863095c2c6d6d3e10ef19a5afe00e1526d52c43\n'}, {'number': 4, 'created': '2021-01-07 12:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d5fb2755571f5e86bc53816a1e530e59841d68ad', 'message': 'New volume availability zone resource, new functional and unit tests\n\nChange-Id: I1863095c2c6d6d3e10ef19a5afe00e1526d52c43\n'}, {'number': 5, 'created': '2021-01-07 15:20:09.000000000', 'files': ['openstack/block_storage/v3/_proxy.py', 'openstack/block_storage/v3/availability_zone.py', 'openstack/tests/unit/block_storage/v3/test_availability_zone.py', 'openstack/tests/functional/block_storage/v3/test_availability_zone.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c3ce787389f916d9b7d0e5b7a453fbb652fd870e', 'message': 'New volume availability zone resource, new functional and unit tests\n\nChange-Id: I1863095c2c6d6d3e10ef19a5afe00e1526d52c43\n'}]",18,767720,c3ce787389f916d9b7d0e5b7a453fbb652fd870e,18,3,5,32677,,,0,"New volume availability zone resource, new functional and unit tests

Change-Id: I1863095c2c6d6d3e10ef19a5afe00e1526d52c43
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/20/767720/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/block_storage/v3/_proxy.py', 'openstack/block_storage/v3/availability_zone.py', 'openstack/tests/unit/block_storage/v3/test_availability_zone.py', 'openstack/tests/functional/block_storage/v3/test_availability_zone.py']",4,8593b625dc16a0a509e40dbda2c744cfc06c5283,volume-availability-zone-support,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack.tests.functional import base class TestAvailabilityZone(base.BaseFunctionalTest): def test_list(self): availability_zones = list(self.conn.block_storage.availability_zones()) self.assertGreater(len(availability_zones), 0) for az in availability_zones: self.assertIsInstance(az.name, str) self.assertIsInstance(az.state, dict) ",,106,0
openstack%2Fpython-openstackclient~master~I403cf0fb7aabad4a3dfda5adae62d47ecf7faf5c,openstack/python-openstackclient,master,I403cf0fb7aabad4a3dfda5adae62d47ecf7faf5c,compute: Add missing options for 'keypair list',MERGED,2020-12-03 18:12:39.000000000,2021-01-08 15:31:57.000000000,2021-01-08 15:31:57.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-12-03 18:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0b168e7137094e0bfc55e7fcd05473884556dbe5', 'message': ""compute: Add missing options for 'keypair list'\n\nAdd pagination parameters, '--limit' and '--marker'. This isn't\ncompatible with our client-side '--project' parameter so we error out\nfor that.\n\nChange-Id: I403cf0fb7aabad4a3dfda5adae62d47ecf7faf5c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2020-12-07 18:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/42ad08c4f915ceb1c833318881b83d4edbd4f4ab', 'message': ""compute: Add missing options for 'keypair list'\n\nAdd pagination parameters, '--limit' and '--marker'. This isn't\ncompatible with our client-side '--project' parameter so we error out\nfor that.\n\nChange-Id: I403cf0fb7aabad4a3dfda5adae62d47ecf7faf5c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2020-12-08 16:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8b28c18f94e7f72f8de149560a7e54bad873380f', 'message': ""compute: Add missing options for 'keypair list'\n\nAdd pagination parameters, '--limit' and '--marker'. This isn't\ncompatible with our client-side '--project' parameter so we error out\nfor that.\n\nChange-Id: I403cf0fb7aabad4a3dfda5adae62d47ecf7faf5c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2020-12-09 18:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/de5f83e0afd3852ef58e5b6665508f862229f0ce', 'message': ""compute: Add missing options for 'keypair list'\n\nAdd pagination parameters, '--limit' and '--marker'. This isn't\ncompatible with our client-side '--project' parameter so we error out\nfor that.\n\nChange-Id: I403cf0fb7aabad4a3dfda5adae62d47ecf7faf5c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2021-01-07 14:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/17ff2527eaf0ad20d71e7286b3237bdec767f8dd', 'message': ""compute: Add missing options for 'keypair list'\n\nAdd pagination parameters, '--limit' and '--marker'. This isn't\ncompatible with our client-side '--project' parameter so we error out\nfor that.\n\nChange-Id: I403cf0fb7aabad4a3dfda5adae62d47ecf7faf5c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2021-01-08 12:14:50.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_keypair.py', 'releasenotes/notes/add-missing-keypair-list-opts-243a33d8276f91b8.yaml', 'openstackclient/compute/v2/keypair.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fc24142ed41e15622687558c68d670bdc37223f0', 'message': ""compute: Add missing options for 'keypair list'\n\nAdd pagination parameters, '--limit' and '--marker'. This isn't\ncompatible with our client-side '--project' parameter so we error out\nfor that.\n\nChange-Id: I403cf0fb7aabad4a3dfda5adae62d47ecf7faf5c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,765364,fc24142ed41e15622687558c68d670bdc37223f0,19,3,6,15334,,,0,"compute: Add missing options for 'keypair list'

Add pagination parameters, '--limit' and '--marker'. This isn't
compatible with our client-side '--project' parameter so we error out
for that.

Change-Id: I403cf0fb7aabad4a3dfda5adae62d47ecf7faf5c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/64/765364/6 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_keypair.py', 'releasenotes/notes/add-missing-keypair-list-opts-243a33d8276f91b8.yaml', 'openstackclient/compute/v2/keypair.py']",3,0b168e7137094e0bfc55e7fcd05473884556dbe5,osc-first," parser.add_argument( '--marker', help=_('The last keypair ID of the previous page'), ) parser.add_argument( '--limit', type=int, help=_('Maximum number of keypairs to display'), ) kwargs = {} if parsed_args.marker: if not sdk_utils.supports_microversion(compute_client, '2.35'): msg = _( '--os-compute-api-version 2.35 or greater is required ' 'to support the --marker option' ) raise exceptions.CommandError(msg) kwargs['marker'] = parsed_args.marker if parsed_args.limit: if not sdk_utils.supports_microversion(compute_client, '2.35'): msg = _( '--os-compute-api-version 2.35 or greater is required ' 'to support the --limit option' ) raise exceptions.CommandError(msg) kwargs['limit'] = parsed_args.limit if parsed_args.marker: # NOTE(stephenfin): Because we're doing this client-side, we # can't really rely on the marker, because we don't know what # user the marker is associated with msg = _( '--project is not compatible with --marker' ) kwargs['user_id'] = user.id data.extend(compute_client.keypairs(**kwargs)) kwargs['user_id'] = user.id data = compute_client.keypairs(**kwargs) else: data = compute_client.keypairs(**kwargs)", data.extend(compute_client.keypairs(user_id=user.id)) data = compute_client.keypairs(user_id=user.id) else: data = compute_client.keypairs(),117,3
openstack%2Fironic~master~Ieabbc024d4afc82670d7cee8e39b839b2b7a21df,openstack/ironic,master,Ieabbc024d4afc82670d7cee8e39b839b2b7a21df,docs: Add information on post-branch release tasks for bifrost,MERGED,2020-10-09 14:50:34.000000000,2021-01-08 15:27:08.000000000,2021-01-08 15:25:17.000000000,"[{'_account_id': 4571}, {'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-10-09 14:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/417ce6f2e8b1072543a3bf8c680722114cdd0926', 'message': 'docs: Add information on post-branch release tasks for bifrost\n\nChange-Id: Ieabbc024d4afc82670d7cee8e39b839b2b7a21df\n'}, {'number': 2, 'created': '2020-10-09 15:35:12.000000000', 'files': ['doc/source/contributor/releasing.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a0728ad657d61e3f8d287b9e9f1e68065f7590c6', 'message': 'docs: Add information on post-branch release tasks for bifrost\n\nChange-Id: Ieabbc024d4afc82670d7cee8e39b839b2b7a21df\n'}]",1,757120,a0728ad657d61e3f8d287b9e9f1e68065f7590c6,15,6,2,14826,,,0,"docs: Add information on post-branch release tasks for bifrost

Change-Id: Ieabbc024d4afc82670d7cee8e39b839b2b7a21df
",git fetch https://review.opendev.org/openstack/ironic refs/changes/20/757120/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/releasing.rst'],1,417ce6f2e8b1072543a3bf8c680722114cdd0926,,Bifrost needs to be updated to install dependencies using the stable branch. `Example for Victoria <https://review.opendev.org/#/c/756289/>`_. The upper constraints file referenced in ``scripts/install-deps.sh`` needs to be updated to the new release. ,,5,0
openstack%2Fos-brick~master~I3f32c04c8b3be249fbdfbbcac28271e90a3140fd,openstack/os-brick,master,I3f32c04c8b3be249fbdfbbcac28271e90a3140fd,Fix json logs,ABANDONED,2020-12-18 02:29:11.000000000,2021-01-08 15:19:35.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-18 02:29:11.000000000', 'files': ['os_brick/utils.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/28fa306678551fc429e66b30df7bf4d533827d16', 'message': ""Fix json logs\n\nThis fix format the string before sending it to the logger.\n\nI didn't find an easy way to use the classic %s format\nwithout adding too many lines to convert the DMS number.\n\nCloses-Bug: #1908607\nChange-Id: I3f32c04c8b3be249fbdfbbcac28271e90a3140fd\n""}]",0,767654,28fa306678551fc429e66b30df7bf4d533827d16,12,2,1,20813,,,0,"Fix json logs

This fix format the string before sending it to the logger.

I didn't find an easy way to use the classic %s format
without adding too many lines to convert the DMS number.

Closes-Bug: #1908607
Change-Id: I3f32c04c8b3be249fbdfbbcac28271e90a3140fd
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/54/767654/1 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/utils.py'],1,28fa306678551fc429e66b30df7bf4d533827d16,, logger.debug('<== %(func)s: return (%(time)dms) %(result)r' %," logger.debug('<== %(func)s: return (%(time)dms) %(result)r',",1,1
openstack%2Fopenstack-tempest-skiplist~master~I4bed166d47f463a0f0dd135e25f96374bcd10837,openstack/openstack-tempest-skiplist,master,I4bed166d47f463a0f0dd135e25f96374bcd10837,retest,ABANDONED,2021-01-08 15:04:26.000000000,2021-01-08 15:11:17.000000000,,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 15:04:26.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/184040a62b65a273468cd6297289f02a1769e389', 'message': 'retest\n\nRevert ""Add test_create_server_when_memory_quota_is_full to skiplist""\n\nThis reverts commit 440e951381cf7a6ed43a2e4e1bdc7463654b542b.\n\nReason for revert: <INSERT REASONING HERE>\n\nChange-Id: I4bed166d47f463a0f0dd135e25f96374bcd10837\n'}]",0,769749,184040a62b65a273468cd6297289f02a1769e389,3,4,1,9592,,,0,"retest

Revert ""Add test_create_server_when_memory_quota_is_full to skiplist""

This reverts commit 440e951381cf7a6ed43a2e4e1bdc7463654b542b.

Reason for revert: <INSERT REASONING HERE>

Change-Id: I4bed166d47f463a0f0dd135e25f96374bcd10837
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/49/769749/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,184040a62b65a273468cd6297289f02a1769e389,bug/1905421,, - test: 'tempest.api.compute.admin.test_quotas_negative.QuotasAdminNegativeTest.test_create_server_when_memory_quota_is_full' deployment: - 'overcloud' releases: - name: 'master' reason: 'Nova bug according result output' lp: 'https://bugs.launchpad.net/tripleo/+bug/1905421' jobs: [],0,8
openstack%2Fopenstack-tempest-skiplist~master~Ib726e9e2bb1f0487d3a8c85055934e6f3644a35c,openstack/openstack-tempest-skiplist,master,Ib726e9e2bb1f0487d3a8c85055934e6f3644a35c,Add test_create_server_when_memory_quota_is_full to skiplist,MERGED,2020-11-24 17:56:03.000000000,2021-01-08 15:04:26.000000000,2020-11-24 18:22:50.000000000,"[{'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-24 17:56:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/7040bfff14301702ff63cd2892b1bd5ed50d8e01', 'message': 'Add test_create_server_when_memory_quota_is_full to skiplist\n\nThis test is failing, and according tempest output, it seems to be a\nnova bug.\n\nChange-Id: Ib726e9e2bb1f0487d3a8c85055934e6f3644a35c\n'}, {'number': 2, 'created': '2020-11-24 17:59:58.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/440e951381cf7a6ed43a2e4e1bdc7463654b542b', 'message': 'Add test_create_server_when_memory_quota_is_full to skiplist\n\nThis test is failing, and according tempest output, it seems to be a\nnova bug.\n\nRelated-Bug: #1905421\nChange-Id: Ib726e9e2bb1f0487d3a8c85055934e6f3644a35c\n'}]",0,764047,440e951381cf7a6ed43a2e4e1bdc7463654b542b,9,4,2,8367,,,0,"Add test_create_server_when_memory_quota_is_full to skiplist

This test is failing, and according tempest output, it seems to be a
nova bug.

Related-Bug: #1905421
Change-Id: Ib726e9e2bb1f0487d3a8c85055934e6f3644a35c
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/47/764047/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,7040bfff14301702ff63cd2892b1bd5ed50d8e01,bug/1905421, - test: 'tempest.api.compute.admin.test_quotas_negative.QuotasAdminNegativeTest.test_create_server_when_memory_quota_is_full' deployment: - 'overcloud' releases: - name: 'master' reason: 'Nova bug according result output' lp: 'https://bugs.launchpad.net/tripleo/+bug/1905421' jobs: [],,8,0
openstack%2Fironic-python-agent~bugfix%2F6.3~Ide0f6c38a59ae6486fa33cfb19b383d022e57d5a,openstack/ironic-python-agent,bugfix/6.3,Ide0f6c38a59ae6486fa33cfb19b383d022e57d5a,Remove lower-constraints job,MERGED,2021-01-06 11:00:00.000000000,2021-01-08 15:02:52.000000000,2021-01-08 14:58:10.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-06 11:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/be249cc2238db7b4a32d947a96d60d1380113806', 'message': 'Remove lower-constraints job\n\nAs discussed during the upstream ironic community meeting on\nMonday Dec 14 2020, the lower-constraints job is being removed.\n\nChange-Id: Ide0f6c38a59ae6486fa33cfb19b383d022e57d5a\n(cherry picked from commit 78b356cd44907287af60412113e1e15fe4ccaf0a)\n'}, {'number': 2, 'created': '2021-01-06 11:00:29.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8cc5f69094a88ffed4e299f12bcb64f3b726b6ff', 'message': 'Remove lower-constraints job\n\nAs discussed during the upstream ironic community meeting on\nMonday Dec 14 2020, the lower-constraints job is being removed.\n\nChange-Id: Ide0f6c38a59ae6486fa33cfb19b383d022e57d5a\n(cherry picked from commit 78b356cd44907287af60412113e1e15fe4ccaf0a)\n'}]",0,769506,8cc5f69094a88ffed4e299f12bcb64f3b726b6ff,12,2,2,23851,,,0,"Remove lower-constraints job

As discussed during the upstream ironic community meeting on
Monday Dec 14 2020, the lower-constraints job is being removed.

Change-Id: Ide0f6c38a59ae6486fa33cfb19b383d022e57d5a
(cherry picked from commit 78b356cd44907287af60412113e1e15fe4ccaf0a)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/06/769506/2 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'zuul.d/project.yaml']",2,be249cc2238db7b4a32d947a96d60d1380113806,remove-l-c-job,<<<<<<< HEAD (7b0911 Make WSGI server respect listen_* directives)======= - openstack-python3-wallaby-jobs >>>>>>> CHANGE (78b356 Remove lower-constraints job),,7,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I0cd5a67b9f8e8a6307341df5ad540d4924aa6d4b,openstack/tripleo-ansible,stable/train,I0cd5a67b9f8e8a6307341df5ad540d4924aa6d4b,switch from yum to dnf,ABANDONED,2020-12-25 20:32:59.000000000,2021-01-08 14:23:58.000000000,,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27419}]","[{'number': 1, 'created': '2020-12-25 20:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/10ffa182a3161a39f481b5692cf8b32e9af96cbf', 'message': ""switch from yum to dnf\n\nyum isn't available by default on centos8 so it's failing trying to\nconfigure container tools.\n\nChange-Id: I0cd5a67b9f8e8a6307341df5ad540d4924aa6d4b\n""}, {'number': 2, 'created': '2020-12-25 22:41:19.000000000', 'files': ['zuul.d/playbooks/pre.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c03566798b28b0d72227bc47a5e5cd1193deff81', 'message': ""switch from yum to dnf\n\nyum isn't available by default on centos8 so it's failing trying to\nconfigure container tools.\n\nChange-Id: I0cd5a67b9f8e8a6307341df5ad540d4924aa6d4b\n""}]",1,768518,c03566798b28b0d72227bc47a5e5cd1193deff81,11,7,2,14985,,,0,"switch from yum to dnf

yum isn't available by default on centos8 so it's failing trying to
configure container tools.

Change-Id: I0cd5a67b9f8e8a6307341df5ad540d4924aa6d4b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/18/768518/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/playbooks/pre.yml'],1,10ffa182a3161a39f481b5692cf8b32e9af96cbf,fix-containertools, become: true dnf module disable container-tools:rhel8 dnf module enable container-tools:2.0, yum module disable container-tools:rhel8 yum module enable container-tools:2.0,3,2
openstack%2Fcharm-interface-magpie~master~I46f7d3e13c002524bb340988bd6ba163a74ad29c,openstack/charm-interface-magpie,master,I46f7d3e13c002524bb340988bd6ba163a74ad29c,Get nodes by cidr,MERGED,2021-01-08 10:29:39.000000000,2021-01-08 14:18:29.000000000,2021-01-08 14:18:29.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 10:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-magpie/commit/9891cf6ea0fc08b6bc11eb945ac88d492d49e4e5', 'message': 'Get nodes by cidr\n\nChange-Id: I46f7d3e13c002524bb340988bd6ba163a74ad29c\n'}, {'number': 2, 'created': '2021-01-08 10:41:50.000000000', 'files': ['test-requirements.txt', 'peers.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-magpie/commit/3cba94a520befa0f20f3e88c3aaefcf71c597250', 'message': 'Get nodes by cidr\n\nChange-Id: I46f7d3e13c002524bb340988bd6ba163a74ad29c\n'}]",1,769904,3cba94a520befa0f20f3e88c3aaefcf71c597250,9,3,2,935,,,0,"Get nodes by cidr

Change-Id: I46f7d3e13c002524bb340988bd6ba163a74ad29c
",git fetch https://review.opendev.org/openstack/charm-interface-magpie refs/changes/04/769904/1 && git format-patch -1 --stdout FETCH_HEAD,['peers.py'],1,9891cf6ea0fc08b6bc11eb945ac88d492d49e4e5,get-nodes-by-cidr,"import json import netaddr import netifaces def get_nodes(self, cidr=None): if cidr: network = netaddr.IPNetwork(cidr) for conv in self.conversations(): iperf_addresses = conv.get_remote('iperf_addresses') ip = None if cidr and iperf_addresses: for addr in json.loads(iperf_addresses): if netaddr.IPNetwork(addr) in network: ip = addr break if not ip: ip = conv.get_remote('private-address') nodes.append((conv.scope, ip)) def advertise_addresses(self): addrs = [] for iface in netifaces.interfaces(): for addr in netifaces.ifaddresses(iface).get(netifaces.AF_INET, []): addrs.append(addr['addr']) for conv in self.conversations(): conv.set_remote('iperf_addresses', json.dumps(sorted(addrs)))"," def get_nodes(self): for conv in self.conversations(): nodes.append((conv.scope, conv.get_remote('private-address')))",25,2
openstack%2Foslo.messaging~master~I6039d09533c86d651b5c63b500058aac3c9f0a7f,openstack/oslo.messaging,master,I6039d09533c86d651b5c63b500058aac3c9f0a7f,fix variable name,MERGED,2020-11-24 13:49:52.000000000,2021-01-08 14:17:10.000000000,2021-01-08 14:15:12.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-24 13:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/9221136293960b54aa9de2323fe8d3bd7c88b0b0', 'message': 'fix variable name\n\nChange-Id: I6039d09533c86d651b5c63b500058aac3c9f0a7f\n'}, {'number': 2, 'created': '2020-12-11 15:31:42.000000000', 'files': ['oslo_messaging/_drivers/impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/0e4ec379c0bb44bd2b1dc25a2602ae9a944b8c4d', 'message': 'fix variable name\n\nChange-Id: I6039d09533c86d651b5c63b500058aac3c9f0a7f\n'}]",0,763975,0e4ec379c0bb44bd2b1dc25a2602ae9a944b8c4d,11,2,2,28522,,,0,"fix variable name

Change-Id: I6039d09533c86d651b5c63b500058aac3c9f0a7f
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/75/763975/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/impl_rabbit.py'],1,9221136293960b54aa9de2323fe8d3bd7c88b0b0,fix-var-name," queue_identifier = (exchange.name, routing_key) if queue_identifier not in self._declared_queues: self._declared_queues.add(queue_identifier)"," queue_indentifier = (exchange.name, routing_key) if queue_indentifier not in self._declared_queues: self._declared_queues.add(queue_indentifier)",3,3
openstack%2Ftacker~master~Ie3e48232f6b634fd88d8adbcf2c6ad394a777514,openstack/tacker,master,Ie3e48232f6b634fd88d8adbcf2c6ad394a777514,Modify api schemas of vimConnectionInfo,MERGED,2020-12-16 13:33:34.000000000,2021-01-08 14:03:57.000000000,2021-01-08 14:02:24.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31072}, {'_account_id': 31821}, {'_account_id': 31902}, {'_account_id': 32102}, {'_account_id': 32826}]","[{'number': 1, 'created': '2020-12-16 13:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c70c872668ce69fd33c3ff6fd2003af2562b59fd', 'message': 'Modify api schemas of vimConnectionInfo\n\nWe notice that parameter is not implement at API schemas[1].\n\nAdd parameter in tacker/tacker/api/schemas/vnf_lcm.py\n* interfaceInfo object has been implemented[2]\n\nvimconnectionInfo\n-> interfaceInfo\n\nAt the moment, there are no errors due to this factor.\n\n[1]https://github.com/openstack/tacker/blob/master/\n   api-ref/source/v1/vnflcm.inc\n[2]https://github.com/openstack/tacker/blob/master/\n   tacker/objects/vim_connection.py\n\nCloses-Bug: #1908398\nChange-Id: Ie3e48232f6b634fd88d8adbcf2c6ad394a777514\n'}, {'number': 2, 'created': '2020-12-23 08:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/d3f3c2340461172126942581f179dc8b5b649ceb', 'message': 'Modify api schemas of vimConnectionInfo\n\nWe notice that parameter is not implement at API schemas[1].\n\nAdd parameter in tacker/tacker/api/schemas/vnf_lcm.py\n* interfaceInfo object has been implemented[2]\n\nvimconnectionInfo\n-> interfaceInfo\n\nAt the moment, there are no errors due to this factor.\n\n[1]https://github.com/openstack/tacker/blob/master/\n   api-ref/source/v1/vnflcm.inc\n[2]https://github.com/openstack/tacker/blob/master/\n   tacker/objects/vim_connection.py\n\nCloses-Bug: #1908398\nChange-Id: Ie3e48232f6b634fd88d8adbcf2c6ad394a777514\n'}, {'number': 3, 'created': '2020-12-24 00:07:47.000000000', 'files': ['tacker/api/schemas/vnf_lcm.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/b5253a8b85b41f62586a54e07f8b722b2f56135c', 'message': 'Modify api schemas of vimConnectionInfo\n\nThis patch fix API Schemas. ""interfaceInfo"" parameter is added in\n""vimConnectionInfo"".\n\nCloses-Bug: #1908398\nChange-Id: Ie3e48232f6b634fd88d8adbcf2c6ad394a777514\n'}]",4,767351,b5253a8b85b41f62586a54e07f8b722b2f56135c,33,8,3,32736,,,0,"Modify api schemas of vimConnectionInfo

This patch fix API Schemas. ""interfaceInfo"" parameter is added in
""vimConnectionInfo"".

Closes-Bug: #1908398
Change-Id: Ie3e48232f6b634fd88d8adbcf2c6ad394a777514
",git fetch https://review.opendev.org/openstack/tacker refs/changes/51/767351/3 && git format-patch -1 --stdout FETCH_HEAD,['tacker/api/schemas/vnf_lcm.py'],1,c70c872668ce69fd33c3ff6fd2003af2562b59fd,bug/1908398," 'interfaceInfo': parameter_types.keyvalue_pairs,",,1,0
openstack%2Foslo.messaging~master~I93bab5b1e77e720cbf308a97a9605a9dc98025a0,openstack/oslo.messaging,master,I93bab5b1e77e720cbf308a97a9605a9dc98025a0,Use TOX_CONSTRAINTS_FILE,MERGED,2020-11-04 09:49:10.000000000,2021-01-08 13:58:08.000000000,2021-01-08 13:56:36.000000000,"[{'_account_id': 8770}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-04 09:49:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/7a83dcd5884a4f9d1fd0fc28994639879dbb9dc6', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\n[1] https://review.opendev.org/#/c/722814/\n[2] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nChange-Id: I93bab5b1e77e720cbf308a97a9605a9dc98025a0\n'}]",0,761346,7a83dcd5884a4f9d1fd0fc28994639879dbb9dc6,15,3,1,28522,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

[1] https://review.opendev.org/#/c/722814/
[2] https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

Change-Id: I93bab5b1e77e720cbf308a97a9605a9dc98025a0
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/46/761346/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7a83dcd5884a4f9d1fd0fc28994639879dbb9dc6,tox_constraints_file, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fkeystone~master~I9582c5e8dbb83c37abcb432835dd7b609bd7841c,openstack/keystone,master,I9582c5e8dbb83c37abcb432835dd7b609bd7841c,[api-ref] Clean up OS-EP-FILTER association docs,MERGED,2017-01-06 23:08:20.000000000,2021-01-08 13:54:33.000000000,2017-01-10 05:37:41.000000000,"[{'_account_id': 3}, {'_account_id': 6482}, {'_account_id': 17860}, {'_account_id': 21420}]","[{'number': 1, 'created': '2017-01-06 23:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/91853050ff02d2c95e224dfbcce834f9ea0047cb', 'message': '[api-ref] Clean up OS-EP-FILTER association docs\n\nThis change builds on the previous one by cleaning up all the wording\naround associations and makes them consistent regardless of the\nassociations being direct or via endpoint groups.\n\nChange-Id: I9582c5e8dbb83c37abcb432835dd7b609bd7841c\nCloses-Bug: 1654613\n'}, {'number': 2, 'created': '2017-01-09 15:09:01.000000000', 'files': ['api-ref/source/v3-ext/samples/OS-EP-FILTER/list-associations-by-project-response.json', 'api-ref/source/v3-ext/samples/OS-EP-FILTER/list-associations-by-endpoint-response.json', 'api-ref/source/v3-ext/ep-filter.inc'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d4129c239c88c890f6124614bce6703949f46a0c', 'message': '[api-ref] Clean up OS-EP-FILTER association docs\n\nThis change builds on the previous one by cleaning up all the wording\naround associations and makes them consistent regardless of the\nassociations being direct or via endpoint groups.\n\nChange-Id: I9582c5e8dbb83c37abcb432835dd7b609bd7841c\nCloses-Bug: 1654613\n'}]",6,417533,d4129c239c88c890f6124614bce6703949f46a0c,20,4,2,5046,,,0,"[api-ref] Clean up OS-EP-FILTER association docs

This change builds on the previous one by cleaning up all the wording
around associations and makes them consistent regardless of the
associations being direct or via endpoint groups.

Change-Id: I9582c5e8dbb83c37abcb432835dd7b609bd7841c
Closes-Bug: 1654613
",git fetch https://review.opendev.org/openstack/keystone refs/changes/33/417533/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3-ext/samples/OS-EP-FILTER/list-associations-by-project-response.json', 'api-ref/source/v3-ext/samples/OS-EP-FILTER/list-associations-by-endpoint-response.json', 'api-ref/source/v3-ext/ep-filter.inc']",3,91853050ff02d2c95e224dfbcce834f9ea0047cb,bug/1654613,"Project and Endpoint Associations ================================= As previously noted, projects and be associated with endpoints either directly or by using endpoint groups. The following API calls describe how to associate a project to a single endpoint and an endpoint group. Creates a direct association between ``project_id`` and ``endpoint_id``.Removes a direct association between ``project_id`` and ``endpoint_id``.List Associations by ProjectReturns all endpoints that are currently associated with ``project_id``... literalinclude:: samples/OS-EP-FILTER/list-associations-by-project-response.jsonList Associations by Endpoint =============================.. literalinclude:: samples/OS-EP-FILTER/list-associations-by-endpoint-response.jsonCreates an association between ``endpoint_group_id`` and ``project_id``... literalinclude:: samples/OS-EP-FILTER/list-associations-by-endpoint-response.jsonReturns all the endpoint groups that are currently associated with ``project_id``.",Creates an association between ``project_id`` and ``endpoint_id``.Removes the association between ``project_id`` and ``endpoint_id``.List Associations for ProjectReturns all the endpoints that are currently associated with ``project_id``... literalinclude:: samples/OS-EP-FILTER/list-endpoints-response.jsonGet projects associated with endpoint =====================================.. literalinclude:: samples/OS-EP-FILTER/get-projects-response.jsonCreates an associate between ``endpoint_group_id`` and ``project_id``... literalinclude:: samples/OS-EP-FILTER/get-projects-response.jsonReturns all the endpoints that are currently associated with ``project_id``.,18,11
openstack%2Ftripleo-docs~master~I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57,openstack/tripleo-docs,master,I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57,Introduce new TLS-e guide,MERGED,2020-05-05 14:08:37.000000000,2021-01-08 13:53:04.000000000,2020-08-06 13:24:45.000000000,"[{'_account_id': 5046}, {'_account_id': 7353}, {'_account_id': 9914}, {'_account_id': 9954}, {'_account_id': 13861}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}, {'_account_id': 28011}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-05-05 14:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b5785fb4c90c2e05fd1a33097cc92293a2bb194b', 'message': ""Introduce skeleton TLS-e guide\n\nThis commit lays down the steps you need to take to deploy TLS-e with\nTripleO. I intentionally left it sparse so that we can focus on only the\nsteps required to get a functioning deployment with TLS.\n\nWe can also use this as an opportunity to layout each section and look\nat the document holistically before adding explanation and context. This\nshould help us only add what's essential and later we can fill in the\nnecessary context to explain those steps.\n\nChange-Id: I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57\n""}, {'number': 2, 'created': '2020-05-05 21:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/07374e9e3e81a2390e54ba0e575cf59a3dfbc6ca', 'message': ""Introduce skeleton TLS-e guide\n\nThis commit lays down the steps you need to take to deploy TLS-e with\nTripleO. I intentionally left it sparse so that we can focus on only the\nsteps required to get a functioning deployment with TLS.\n\nWe can also use this as an opportunity to layout each section and look\nat the document holistically before adding explanation and context. This\nshould help us only add what's essential and later we can fill in the\nnecessary context to explain those steps.\n\nChange-Id: I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57\n""}, {'number': 3, 'created': '2020-05-06 19:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/06d3967ce9b3266b0238376a86d047007eee89a1', 'message': ""Introduce skeleton TLS-e guide\n\nThis commit lays down the steps you need to take to deploy TLS-e with\nTripleO. I intentionally left it sparse so that we can focus on only the\nsteps required to get a functioning deployment with TLS.\n\nWe can also use this as an opportunity to layout each section and look\nat the document holistically before adding explanation and context. This\nshould help us only add what's essential and later we can fill in the\nnecessary context to explain those steps.\n\nChange-Id: I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57\n""}, {'number': 4, 'created': '2020-05-07 01:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/3ad8b9e0820d0f217d5f7d47dd3ea708dfc0e827', 'message': 'Introduce skeleton TLS-e guide\n\nThis commit lays down the steps you need to take to deploy TLS-e with\nTripleO. This is needed because we recently replaced novajoin with\ntripleo-ipa and that impacts how people deploy TLS-everywhere.\n\nA subsequent patch will remove the legacy docs.\n\nChange-Id: I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57\n'}, {'number': 5, 'created': '2020-05-07 14:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/a6174ffe62cfe4c59c2a5c0c6081c26dd0e2c15c', 'message': 'Introduce new guide\n\nThis commit lays down the steps you need to take to deploy TLS-e with\nTripleO. This is needed because we recently replaced novajoin with\ntripleo-ipa and that impacts how people deploy TLS-everywhere.\n\nA subsequent patch will remove the legacy docs.\n\nChange-Id: I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57\n'}, {'number': 6, 'created': '2020-05-07 14:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/1af21c079d44af052502e098645b418d681e36e6', 'message': 'Introduce new TLS-e guide\n\nThis commit lays down the steps you need to take to deploy TLS-e with\nTripleO. This is needed because we recently replaced novajoin with\ntripleo-ipa and that impacts how people deploy TLS-everywhere.\n\nA subsequent patch will remove the legacy docs.\n\nChange-Id: I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57\n'}, {'number': 7, 'created': '2020-05-07 15:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/bf565e4b066e215aec5030353a6a5f791742603b', 'message': 'Introduce new TLS-e guide\n\nThis commit lays down the steps you need to take to deploy TLS-e with\nTripleO. This is needed because we recently replaced novajoin with\ntripleo-ipa and that impacts how people deploy TLS-everywhere.\n\nA subsequent patch will remove the legacy docs.\n\nChange-Id: I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57\n'}, {'number': 8, 'created': '2020-05-08 19:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/a20234a5e1b2e0b84fa55417fa7569cfd75455be', 'message': 'Introduce new TLS-e guide\n\nThis commit lays down the steps you need to take to deploy TLS-e with\nTripleO. This is needed because we recently replaced novajoin with\ntripleo-ipa and that impacts how people deploy TLS-everywhere.\n\nA subsequent patch will remove the legacy docs.\n\nChange-Id: I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57\n'}, {'number': 9, 'created': '2020-05-08 19:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/8379ada3f19f5f7896bceeb9378f3995b287e693', 'message': 'Introduce new TLS-e guide\n\nThis commit lays down the steps you need to take to deploy TLS-e with\nTripleO. This is needed because we recently replaced novajoin with\ntripleo-ipa and that impacts how people deploy TLS-everywhere.\n\nA subsequent patch will remove the legacy docs.\n\nChange-Id: I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57\n'}, {'number': 10, 'created': '2020-05-08 21:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/014a54a89ed08ff3c567e23cad1b06be9dd8649f', 'message': 'Introduce new TLS-e guide\n\nThis commit lays down the steps you need to take to deploy TLS-e with\nTripleO. This is needed because we recently replaced novajoin with\ntripleo-ipa and that impacts how people deploy TLS-everywhere.\n\nA subsequent patch will remove the legacy docs.\n\nChange-Id: I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57\n'}, {'number': 11, 'created': '2020-05-08 22:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/8a644535090b1389cb094367fe5e0cec6854daa7', 'message': 'Introduce new TLS-e guide\n\nThis commit lays down the steps you need to take to deploy TLS-e with\nTripleO. This is needed because we recently replaced novajoin with\ntripleo-ipa and that impacts how people deploy TLS-everywhere.\n\nA subsequent patch will remove the legacy docs.\n\nChange-Id: I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57\n'}, {'number': 12, 'created': '2020-05-12 03:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b269e73e802b0bbf25edd6dce32ce05b67c1b4b1', 'message': 'Introduce new TLS-e guide\n\nThis commit lays down the steps you need to take to deploy TLS-e with\nTripleO. This is needed because we recently replaced novajoin with\ntripleo-ipa and that impacts how people deploy TLS-everywhere.\n\nA subsequent patch will remove the legacy docs.\n\nChange-Id: I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57\n'}, {'number': 13, 'created': '2020-05-14 02:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/42dc1a442381c71fe2bef2be8a47a8114d33f129', 'message': 'Introduce new TLS-e guide\n\nThis commit lays down the steps you need to take to deploy TLS-e with\nTripleO. This is needed because we recently replaced novajoin with\ntripleo-ipa and that impacts how people deploy TLS-everywhere.\n\nA subsequent patch will remove the legacy docs.\n\nChange-Id: I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57\n'}, {'number': 14, 'created': '2020-05-15 13:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/2e8596eeddaea51fac169268cea9be4a211356bb', 'message': 'Introduce new TLS-e guide\n\nThis commit lays down the steps you need to take to deploy TLS-e with\nTripleO. This is needed because we recently replaced novajoin with\ntripleo-ipa and that impacts how people deploy TLS-everywhere.\n\nA subsequent patch will remove the legacy docs.\n\nChange-Id: I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57\n'}, {'number': 15, 'created': '2020-05-15 14:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/1993d1a99d786040b52b079f2cab91bf1f1bf27d', 'message': 'Introduce new TLS-e guide\n\nThis commit lays down the steps you need to take to deploy TLS-e with\nTripleO. This is needed because we recently replaced novajoin with\ntripleo-ipa and that impacts how people deploy TLS-everywhere.\n\nA subsequent patch will remove the legacy docs.\n\nChange-Id: I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57\n'}, {'number': 16, 'created': '2020-05-19 01:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/3332b0a1cc90c33d2018dda9f9279eddd41234b2', 'message': 'Introduce new TLS-e guide\n\nThis commit lays down the steps you need to take to deploy TLS-e with\nTripleO. This is needed because we recently replaced novajoin with\ntripleo-ipa and that impacts how people deploy TLS-everywhere.\n\nSubsequent patches will:\n\n  - introduce a guide for public TLS\n  - remove legacy ssl documentation\n\nChange-Id: I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57\n'}, {'number': 17, 'created': '2020-05-20 01:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/a92594948103d97232e65530824c0e05a6ec3bdc', 'message': 'Introduce new TLS-e guide\n\nThis commit lays down the steps you need to take to deploy TLS-e with\nTripleO. This is needed because we recently replaced novajoin with\ntripleo-ipa and that impacts how people deploy TLS-everywhere.\n\nSubsequent patches will:\n\n  - introduce a guide for public TLS\n  - remove legacy ssl documentation\n\nChange-Id: I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57\n'}, {'number': 18, 'created': '2020-06-01 14:23:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/c270f0b81133ab7909d7c4466d1fcdecd0bf5fad', 'message': 'Introduce new TLS-e guide\n\nThis commit lays down the steps you need to take to deploy TLS-e with\nTripleO. This is needed because we recently replaced novajoin with\ntripleo-ipa which changes how people deploy TLS-everywhere.\n\nSubsequent patches will:\n\n  - introduce a guide for public TLS\n  - remove legacy ssl documentation\n\nChange-Id: I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57\n'}, {'number': 19, 'created': '2020-06-17 13:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/9352f3ee715e97ee0833d7403f14ac12ca93c64a', 'message': 'Introduce new TLS-e guide\n\nThis commit lays down the steps you need to take to deploy TLS-e with\nTripleO. This is needed because we recently replaced novajoin with\ntripleo-ipa which changes how people deploy TLS-everywhere.\n\nSubsequent patches will:\n\n  - introduce a guide for public TLS\n  - remove legacy ssl documentation\n\nChange-Id: I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57\n'}, {'number': 20, 'created': '2020-06-23 20:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/94acd62596e37014ed280b8ec8987e9a0454271c', 'message': 'Introduce new TLS-e guide\n\nThis commit lays down the steps you need to take to deploy TLS-e with\nTripleO. This is needed because we recently replaced novajoin with\ntripleo-ipa which changes how people deploy TLS-everywhere.\n\nSubsequent patches will:\n\n  - introduce a guide for public TLS\n  - remove legacy ssl documentation\n\nChange-Id: I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57\n'}, {'number': 21, 'created': '2020-07-16 17:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/095b45c75203494e772a5395a08847a06501e647', 'message': 'Introduce new TLS-e guide\n\nThis commit lays down the steps you need to take to deploy TLS-e with\nTripleO. This is needed because we recently replaced novajoin with\ntripleo-ipa which changes how people deploy TLS-everywhere.\n\nSubsequent patches will:\n\n  - introduce a guide for public TLS\n  - remove legacy ssl documentation\n\nChange-Id: I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57\n'}, {'number': 22, 'created': '2020-08-04 15:56:57.000000000', 'files': ['deploy-guide/source/features/tls-everywhere.rst', '_custom/custom.css', 'deploy-guide/source/features/index.rst', 'deploy-guide/source/deployment/install_undercloud.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/e99368f6c9a375e1a5257cd0e13aad26fcc531a1', 'message': 'Introduce new TLS-e guide\n\nThis commit lays down the steps you need to take to deploy TLS-e with\nTripleO. This is needed because we recently replaced novajoin with\ntripleo-ipa which changes how people deploy TLS-everywhere.\n\nSubsequent patches will:\n\n  - introduce a guide for public TLS\n  - remove legacy ssl documentation\n\nChange-Id: I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57\n'}]",118,725607,e99368f6c9a375e1a5257cd0e13aad26fcc531a1,98,11,22,5046,,,0,"Introduce new TLS-e guide

This commit lays down the steps you need to take to deploy TLS-e with
TripleO. This is needed because we recently replaced novajoin with
tripleo-ipa which changes how people deploy TLS-everywhere.

Subsequent patches will:

  - introduce a guide for public TLS
  - remove legacy ssl documentation

Change-Id: I81f6a3ed542aa59c99ab57a5f2454e85ae7fde57
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/07/725607/16 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/features/index.rst', 'deploy-guide/source/features/tls-overcloud.rst', 'deploy-guide/source/features/tls-undercloud.rst']",3,b5785fb4c90c2e05fd1a33097cc92293a2bb194b,tls-documentation-rewrite,"TLS Undercloud ============== Before Undercloud Installation ------------------------------ Configure DNS ^^^^^^^^^^^^^ Set DNS in /etc/resolv.conf:: search $CLOUD_DOMAIN $IPA_DOMAIN nameserver $FREEIPA_IP_ADDRESS Install TLS-e packages ^^^^^^^^^^^^^^^^^^^^^^ For python3 installations (Ussuri and later): - python3-ipalib - python3-ipaclient - krb5-devel For python2 installations (Train and earlier): - python-ipalib - python-ipaclient - krb5-devel - python-novajoin (optional) Undercloud Enrollment ^^^^^^^^^^^^^^^^^^^^^ Enroll the undercloud as a FreeIPA client Enrollment with Novajoin """""""""""""""""""""""""""""""""""""""""""""""" Using novajoin:: novajoin-ipa-setup --principal {{ freeipa_principal }} --password {{ freeipa_admin_password }} --server {{ ipa_nameserver }} --realm {{ ipa_realm }} --domain {{ cloud_domain }} --hostname {{ undercloud_hostname }} --precreate Enrollment with tripleo-ipa """""""""""""""""""""""""""""""""""""""""""""""""""""" Using tripleo-ipa utility playbooks:: IPA_DOMAIN: ""{{ ipa_domain }}"" IPA_REALM: ""{{ ipa_realm }}"" IPA_ADMIN_USER: ""{{ ipa_user }}"" IPA_ADMIN_PASSWORD: ""{{ ipa_password }}"" IPA_SERVER_HOSTNAME: ""{{ ipa_nameserver }}"" UNDERCLOUD_FQDN: ""{{ undercloud_hostname }}"" USER: stack CLOUD_DOMAIN: ""{{ cloud_domain }}"" ansible-playbook --ssh-extra-args ""-o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null"" /usr/share/ansible/tripleo-playbooks/undercloud-ipa-install.yaml Configure the Undercloud ^^^^^^^^^^^^^^^^^^^^^^^^ For underclouds using novajoin (stable/stein or earlier) set:: enable_novajoin = True ipa_otp = $IPA_OTP For underclouds not using novajoin, just set:: undercloud_nameservers = $FREEIPA_IP_ADDRESS Deploy the Undercloud ^^^^^^^^^^^^^^^^^^^^^ Run:: openstack undercloud install ",,132,0
openstack%2Fpython-tackerclient~master~I1dd2c71760112982abd2b4b7da6dbaafd7077614,openstack/python-tackerclient,master,I1dd2c71760112982abd2b4b7da6dbaafd7077614,Modify operation of scale parameters,MERGED,2020-12-08 15:51:28.000000000,2021-01-08 13:52:05.000000000,2021-01-08 13:50:42.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 27180}, {'_account_id': 27880}, {'_account_id': 31072}, {'_account_id': 31902}]","[{'number': 1, 'created': '2020-12-08 15:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/4083ea1555d0471dd44b8cfc7441b909e53f75a5', 'message': ""Modify operation of scale parameters\n\nScale command cannot be executed\nwithout '--additional-param-file' option,\nbecause there is a problem with branch process.\nModify branch process when using this parameter.\n\nAnd, I uniform cardinality mismatches of\nspecification definition[1] in some arguments are resolved.\nThis change has no impact of the order of setting.\n\n[1]https://specs.openstack.org/openstack/tacker-specs/\n   specs/victoria/support-scale-api-based-on-etsi-nfv-sol.html\n\nCloses-Bug: #1903280\nChange-Id: I1dd2c71760112982abd2b4b7da6dbaafd7077614\n""}, {'number': 2, 'created': '2020-12-16 06:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/74530ec9d4677af8e7eb7d5eff7b48a16bbc3374', 'message': ""Modify operation of scale parameters\n\nScale command cannot be executed\nwithout '--additional-param-file' option,\nbecause there is a problem with branch process.\nModify branch process when using this parameter.\n\nAnd, I uniform cardinality mismatches of\nspecification definition[1] in some arguments are resolved.\nThis change has no impact of the order of setting.\n\n[1]https://specs.openstack.org/openstack/tacker-specs/\n   specs/victoria/support-scale-api-based-on-etsi-nfv-sol.html\n\nCloses-Bug: #1903280\nChange-Id: I1dd2c71760112982abd2b4b7da6dbaafd7077614\n""}, {'number': 3, 'created': '2020-12-22 13:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/9213bbfde25ec5814942bdc96b70643f04ca9e44', 'message': ""Modify operation of scale parameters\n\nScale command cannot be executed without '--additional-param-file'\noption, because there is a problem with branch process. Modify branch\nprocess when using this parameter.\n\nAnd, I uniform cardinality mismatches of specification definition [1]\nin some arguments are resolved. This change has no impact of the order\nof setting.\n\n[1]https://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-scale-api-based-on-etsi-nfv-sol.html\n\nCloses-Bug: #1903280\nChange-Id: I1dd2c71760112982abd2b4b7da6dbaafd7077614\n""}, {'number': 4, 'created': '2021-01-05 05:49:31.000000000', 'files': ['tackerclient/tests/unit/osc/v1/test_vnflcm.py', 'tackerclient/osc/v1/vnflcm/vnflcm.py'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/bbe6d2c7e0348aa6afb7200f0ab6416016305ab4', 'message': ""Modify operation of scale parameters\n\nScale command cannot be executed without '--additional-param-file'\noption, because there is a problem with branch process. Modify branch\nprocess when using this parameter.\n\nAnd, I uniform cardinality mismatches of specification definition [1]\nin some arguments are resolved. This change has no impact of the order\nof setting.\n\n[1]https://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-scale-api-based-on-etsi-nfv-sol.html\n\nCloses-Bug: #1903280\nChange-Id: I1dd2c71760112982abd2b4b7da6dbaafd7077614\n""}]",35,766027,bbe6d2c7e0348aa6afb7200f0ab6416016305ab4,24,8,4,32736,,,0,"Modify operation of scale parameters

Scale command cannot be executed without '--additional-param-file'
option, because there is a problem with branch process. Modify branch
process when using this parameter.

And, I uniform cardinality mismatches of specification definition [1]
in some arguments are resolved. This change has no impact of the order
of setting.

[1]https://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-scale-api-based-on-etsi-nfv-sol.html

Closes-Bug: #1903280
Change-Id: I1dd2c71760112982abd2b4b7da6dbaafd7077614
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/27/766027/4 && git format-patch -1 --stdout FETCH_HEAD,"['tackerclient/tests/unit/osc/v1/test_vnflcm.py', 'tackerclient/osc/v1/vnflcm/vnflcm.py']",2,4083ea1555d0471dd44b8cfc7441b909e53f75a5,bug/1903280," scale_require_parameters = parser.add_argument_group( ""Scaling require arguments"" ) scale_require_parameters.add_argument( '--type', metavar=""<type>"", required=True, choices=['SCALE_OUT', 'SCALE_IN'], help=_(""Indicates the type of the scale operation requested"")) scale_require_parameters.add_argument( '--aspect-id', required=True, metavar=""<aspect-id>"", help=_(""Identifier of the scaling aspect."")) def args2body(self, parsed_args, file_path=None): parsed_args ([Namespace]): arguments of CLI. body ([dict]): Request body is stored body['type'] = parsed_args.type body['aspectId'] = parsed_args.aspect_id if parsed_args.number_of_steps: body['numberOfSteps'] = parsed_args.number_of_steps if file_path: body.update(jsonfile2body(file_path)) parsed_args ([Namespace]): arguments of CLI. result = \ client.scale_vnf_instance( self.args2body( parsed_args, file_path=parsed_args.additional_param_file)) if not result: print((_('Scale request for VNF Instance %(id)s has been' ' accepted.') % {'id': parsed_args.vnf_instance}))"," '--I', metavar=""<param-file>"", help=_(""Specify scale request parameters in a json file."")) parser.add_argument( '--type', metavar=""<type>"", choices=['SCALE_OUT', 'SCALE_IN'], help=_(""Indicates the type of the scale operation requested"")) parser.add_argument( '--aspect-id', metavar=""<aspect-id>"", help=_(""Identifier of the scaling aspect."")) parser.add_argument( def args2body(self, file_path=None): body[dict]: [description] if file_path: return jsonfile2body(file_path) parsed_args ([Namespace]): [description] if parsed_args.additional_param_file: result = client.scale_vnf_instance( self.args2body(file_path=parsed_args.additional_param_file)) if not result: print((_('Scale request for VNF Instance %(id)s has been' ' accepted.') % {'id': parsed_args.vnf_instance}))",70,23
openstack%2Fplacement~master~I6d1e39886d177d8729bc2db9e0018b5c772f8b0e,openstack/placement,master,I6d1e39886d177d8729bc2db9e0018b5c772f8b0e,Bump oslo.log version to 4.3.0,MERGED,2020-10-28 20:28:47.000000000,2021-01-08 13:37:38.000000000,2021-01-08 13:36:03.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9954}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-28 20:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/f0442937d9b91a1e0dc182a82520bab0b3cba7a1', 'message': 'Bump oslo.log version to 4.3.0\n\nThis ensures we have a version available that contains the deprecated\nmarkers for the Wallaby release.\n\nChange-Id: I6d1e39886d177d8729bc2db9e0018b5c772f8b0e\n'}, {'number': 2, 'created': '2020-12-14 20:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/4a3cf543e510393aec7eb670fedef0fadf1f3c2c', 'message': 'Bump oslo.log version to 4.3.0\n\nThis ensures we have a version available that contains the deprecated\nmarkers for the Wallaby release.\n\nChange-Id: I6d1e39886d177d8729bc2db9e0018b5c772f8b0e\n'}, {'number': 3, 'created': '2020-12-16 13:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/bf751919f0343aeb1193e695453bf60263c4f6d5', 'message': 'Bump oslo.log version to 4.3.0\n\nThis ensures we have a version available that contains the deprecated\nmarkers for the Wallaby release.\n\nChange-Id: I6d1e39886d177d8729bc2db9e0018b5c772f8b0e\n'}, {'number': 4, 'created': '2020-12-17 14:52:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/793b2534739cd45db652375a5cc565361a01308b', 'message': ""Bump oslo.log version to 4.3.0\n\nThis ensures we have a version available that contains the deprecated\nmarkers for the Wallaby release.\n\nThis commit also updates the minimum version of oslo.context to 2.21.0.\nThe oslo.log library depends 2.20.0 and we'll need version 2.21.0 in a\nsubsequent patch.\n\nChange-Id: I6d1e39886d177d8729bc2db9e0018b5c772f8b0e\n""}, {'number': 5, 'created': '2020-12-17 23:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/c9cba351ecfdca08023098c7cf5cc150aa5775e6', 'message': ""Bump oslo.log version to 4.3.0\n\nThis ensures we have a version available that contains the deprecated\nmarkers for the Wallaby release.\n\nThis commit also updates the minimum version of oslo.context to 2.21.0.\nThe oslo.log library depends 2.20.0 and we'll need version 2.21.0 in a\nsubsequent patch.\n\nChange-Id: I6d1e39886d177d8729bc2db9e0018b5c772f8b0e\n""}, {'number': 6, 'created': '2021-01-06 20:53:00.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/placement/commit/ed29666ffcf26668a1afb5dd909de399bdc6584c', 'message': ""Bump oslo.log version to 4.3.0\n\nThis ensures we have a version available that contains the deprecated\nmarkers for the Wallaby release.\n\nThis commit also updates the minimum version of oslo.context to 2.21.0.\nThe oslo.log library depends 2.20.0 and we'll need version 2.21.0 in a\nsubsequent patch.\n\nI bumped additional packages to ensure the minimum versions for\nlower-constraints work with the newer oslo dependencies.\n\nChange-Id: I6d1e39886d177d8729bc2db9e0018b5c772f8b0e\n""}]",1,760229,ed29666ffcf26668a1afb5dd909de399bdc6584c,25,5,6,5046,,,0,"Bump oslo.log version to 4.3.0

This ensures we have a version available that contains the deprecated
markers for the Wallaby release.

This commit also updates the minimum version of oslo.context to 2.21.0.
The oslo.log library depends 2.20.0 and we'll need version 2.21.0 in a
subsequent patch.

I bumped additional packages to ensure the minimum versions for
lower-constraints work with the newer oslo dependencies.

Change-Id: I6d1e39886d177d8729bc2db9e0018b5c772f8b0e
",git fetch https://review.opendev.org/openstack/placement refs/changes/29/760229/6 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,f0442937d9b91a1e0dc182a82520bab0b3cba7a1,secure-rbac,oslo.log==4.3.0,oslo.log==3.36.0,2,2
openstack%2Ftripleo-quickstart-extras~master~I7e74acb53ee1c54aa0bedc061f4c27e381d5e6bf,openstack/tripleo-quickstart-extras,master,I7e74acb53ee1c54aa0bedc061f4c27e381d5e6bf,WIP: Update overcloud image with component repo,ABANDONED,2020-03-11 17:51:12.000000000,2021-01-08 13:33:02.000000000,,"[{'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-11 17:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/50e8d6b5e68e8387de14b00676c75966ba19e627', 'message': 'WIP: Update overcloud image with component repo\n\nChange-Id: I7e74acb53ee1c54aa0bedc061f4c27e381d5e6bf\n'}, {'number': 2, 'created': '2020-03-11 18:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2c4790307939bae6042b97e7ed99404747ed4520', 'message': 'WIP: Update overcloud image with component repo\n\nChange-Id: I7e74acb53ee1c54aa0bedc061f4c27e381d5e6bf\n'}, {'number': 3, 'created': '2020-03-12 02:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2c939b54527e73f653787d95e2df47fc2eb21372', 'message': 'WIP: Update overcloud image with component repo\n\nChange-Id: I7e74acb53ee1c54aa0bedc061f4c27e381d5e6bf\n'}, {'number': 4, 'created': '2020-03-12 03:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/dc42108ea2901d34f2aae7a9843609f44b8ab44f', 'message': 'WIP: Update overcloud image with component repo\n\nChange-Id: I7e74acb53ee1c54aa0bedc061f4c27e381d5e6bf\n'}, {'number': 5, 'created': '2020-03-12 03:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6c2a1fe1e13028b2ba8a4439775d28cf8858b59e', 'message': 'WIP: Update overcloud image with component repo\n\nChange-Id: I7e74acb53ee1c54aa0bedc061f4c27e381d5e6bf\n'}, {'number': 6, 'created': '2020-03-12 03:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7e4b194bb98c3e84c440049a4ec379b36b38db8c', 'message': 'WIP: Update overcloud image with component repo\n\nChange-Id: I7e74acb53ee1c54aa0bedc061f4c27e381d5e6bf\n'}, {'number': 7, 'created': '2020-03-12 14:18:20.000000000', 'files': ['roles/overcloud-prep-images/templates/overcloud-prep-images.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/21138b141cf5bd30c13315e906fe28d9b5c9c94a', 'message': 'WIP: Update overcloud image with component repo\n\nChange-Id: I7e74acb53ee1c54aa0bedc061f4c27e381d5e6bf\n'}]",0,712524,21138b141cf5bd30c13315e906fe28d9b5c9c94a,15,4,7,9976,,,0,"WIP: Update overcloud image with component repo

Change-Id: I7e74acb53ee1c54aa0bedc061f4c27e381d5e6bf
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/24/712524/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-images/templates/overcloud-prep-images.sh.j2'],1,50e8d6b5e68e8387de14b00676c75966ba19e627,update-component-images, {% if job.component_update_overcloud_image is defined and job.component_update_overcloud_image|bool %} export LIBGUESTFS_BACKEND=direct virt-customize -a {{ overcloud_full_tar_name }} --upload /etc/yum.repos.d/{{ job.component }}-component.repo:/etc/yum.repos.d/{{ job.component }}-component.repo --run '{{ ansible_pkg_mgr }} clean all; {{ ansible_pkg_mgr }} update -y' {% endif %} ,,8,0
openstack%2Fcharm-placement~master~I3d34e6ec413220e2359198583975385bc98db563,openstack/charm-placement,master,I3d34e6ec413220e2359198583975385bc98db563,Add placement as a required interface,MERGED,2021-01-07 21:44:17.000000000,2021-01-08 13:31:10.000000000,2021-01-08 13:31:10.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 21:44:17.000000000', 'files': ['src/lib/charm/openstack/placement.py'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/ba1aa6e51aa172976c3283eac2ddb7d0f9102a1e', 'message': 'Add placement as a required interface\n\nAt the moment, if you only add relations for shared-db and\nidentity-service then the charm will come out of blocked to ready.\nHowever, there is still no placement (to nova-cloud-controller) and so\nthe cloud will not work.\n\nThis patch makes the charm complain if it has no placement relation\nmade to prompt the operator to add the relation, or indicate if it has\nbeen missed out of the bundle.\n\nChange-Id: I3d34e6ec413220e2359198583975385bc98db563\n'}]",0,769845,ba1aa6e51aa172976c3283eac2ddb7d0f9102a1e,9,3,1,20870,,,0,"Add placement as a required interface

At the moment, if you only add relations for shared-db and
identity-service then the charm will come out of blocked to ready.
However, there is still no placement (to nova-cloud-controller) and so
the cloud will not work.

This patch makes the charm complain if it has no placement relation
made to prompt the operator to add the relation, or indicate if it has
been missed out of the bundle.

Change-Id: I3d34e6ec413220e2359198583975385bc98db563
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/45/769845/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/placement.py'],1,ba1aa6e51aa172976c3283eac2ddb7d0f9102a1e,add-placement-as-required," required_relations = ['shared-db', 'identity-service', 'placement']"," required_relations = ['shared-db', 'identity-service']",1,1
openstack%2Fcharm-interface-keystone-fid-service-provider~master~Ia0170e58f1c1cf55dd24813e5f24ce55c70ddc0a,openstack/charm-interface-keystone-fid-service-provider,master,Ia0170e58f1c1cf55dd24813e5f24ce55c70ddc0a,Add gitreview,MERGED,2020-09-10 21:06:48.000000000,2021-01-08 13:30:37.000000000,2021-01-08 13:30:37.000000000,"[{'_account_id': 6737}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 32438}]","[{'number': 1, 'created': '2020-09-10 21:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-keystone-fid-service-provider/commit/c860a3082cfb9fda8aafd334e75bab23ad5ba7d7', 'message': 'Add gitreview\n\nChange-Id: Ia0170e58f1c1cf55dd24813e5f24ce55c70ddc0a\n'}, {'number': 2, 'created': '2020-11-12 19:45:53.000000000', 'files': ['.gitreview', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-interface-keystone-fid-service-provider/commit/fb9b06d5ca243651c0e08f5dd53021471fe25e50', 'message': 'Add gitreview\n\nChange-Id: Ia0170e58f1c1cf55dd24813e5f24ce55c70ddc0a\n'}]",0,751104,fb9b06d5ca243651c0e08f5dd53021471fe25e50,12,6,2,2424,,,0,"Add gitreview

Change-Id: Ia0170e58f1c1cf55dd24813e5f24ce55c70ddc0a
",git fetch https://review.opendev.org/openstack/charm-interface-keystone-fid-service-provider refs/changes/04/751104/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c860a3082cfb9fda8aafd334e75bab23ad5ba7d7,add-gitreview,[gerrit] host=review.opendev.org port=29418 project=openstack/charm-interface-keystone-fid-service-provider.git ,,4,0
openstack%2Fneutron-lib~master~I3f303583e8b7c56a2759453403eb73940e9ae089,openstack/neutron-lib,master,I3f303583e8b7c56a2759453403eb73940e9ae089,Add `access_as_readonly` sharing action,MERGED,2020-05-26 09:09:14.000000000,2021-01-08 13:19:48.000000000,2021-01-08 13:18:05.000000000,"[{'_account_id': 1131}, {'_account_id': 10273}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-26 09:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ff6f45588393d3cbd3c63a79bad97b021b380354', 'message': 'WIP: Add `access_as_readonly` sharing action\n\nChange-Id: I3f303583e8b7c56a2759453403eb73940e9ae089\nPartial-Bug: 1875516\n'}, {'number': 2, 'created': '2020-05-26 10:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f15462e6fb25c1d99790bb7d51c65c9ac66b8314', 'message': 'WIP: Add `access_as_readonly` sharing action\n\nChange-Id: I3f303583e8b7c56a2759453403eb73940e9ae089\nPartial-Bug: 1875516\n'}, {'number': 3, 'created': '2020-08-25 20:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1404f73e74e6f9ed69bed418f6ec26258b69d778', 'message': 'WIP: Add `access_as_readonly` sharing action\n\nChange-Id: I3f303583e8b7c56a2759453403eb73940e9ae089\nPartial-Bug: 1875516\n'}, {'number': 4, 'created': '2020-09-03 12:56:01.000000000', 'files': ['neutron_lib/db/model_query.py', 'releasenotes/notes/Move-RBAC-share-actions-to-lib-constants-736d881f127c83d7.yaml', 'neutron_lib/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/83019b98b6925998404f0bf37177dac3ff0cd3be', 'message': 'Add `access_as_readonly` sharing action\n\nChange-Id: I3f303583e8b7c56a2759453403eb73940e9ae089\nPartial-Bug: 1875516\n'}]",1,730736,83019b98b6925998404f0bf37177dac3ff0cd3be,22,5,4,10273,,,0,"Add `access_as_readonly` sharing action

Change-Id: I3f303583e8b7c56a2759453403eb73940e9ae089
Partial-Bug: 1875516
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/36/730736/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/db/model_query.py', 'neutron_lib/constants.py']",2,ff6f45588393d3cbd3c63a79bad97b021b380354,, # RBAC Sharing Actions ACCESS_SHARED = 'access_as_shared' ACCESS_READONLY = 'access_as_readonly' ACCESS_EXTERNAL = 'access_as_external',,9,2
openstack%2Fzun-tempest-plugin~master~I813c8d5c20b576911baea15fe9ae106e74500f3b,openstack/zun-tempest-plugin,master,I813c8d5c20b576911baea15fe9ae106e74500f3b,Add doc/requirements,MERGED,2021-01-07 16:32:37.000000000,2021-01-08 12:39:53.000000000,2021-01-08 12:38:40.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 16:32:37.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/zun-tempest-plugin/commit/749acf98d6b72a3a98823e8ed85c4a6e8929712c', 'message': ""Add doc/requirements\n\nWe need to specify doc requirements in doc/requirements.txt\nto avoid problems with the pip resolver [1] for the release team [2][3].\nRemoving specific doc requirements from test-requirements.txt.\n\nThe problem here is that this repos haven't doc/requirements.txt file\nand by default in this case zuul will use the test-requirements.txt file\nto pull requirements [4].\n\nThis requirements file contains extra requirements like flake8 that\ncollided with those allowed in our job environment and so the new pip\nresolver fails to install these requirements and the job exits in error.\n\nThis project meet the conditions leading to the bug.\n\n[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html\n[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36\n\nChange-Id: I813c8d5c20b576911baea15fe9ae106e74500f3b\n""}]",0,769790,749acf98d6b72a3a98823e8ed85c4a6e8929712c,9,2,1,28522,,,0,"Add doc/requirements

We need to specify doc requirements in doc/requirements.txt
to avoid problems with the pip resolver [1] for the release team [2][3].
Removing specific doc requirements from test-requirements.txt.

The problem here is that this repos haven't doc/requirements.txt file
and by default in this case zuul will use the test-requirements.txt file
to pull requirements [4].

This requirements file contains extra requirements like flake8 that
collided with those allowed in our job environment and so the new pip
resolver fails to install these requirements and the job exits in error.

This project meet the conditions leading to the bug.

[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html
[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36

Change-Id: I813c8d5c20b576911baea15fe9ae106e74500f3b
",git fetch https://review.opendev.org/openstack/zun-tempest-plugin refs/changes/90/769790/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,749acf98d6b72a3a98823e8ed85c4a6e8929712c,fix-relmgt-pip-doc,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txtdeps = {[testenv:docs]deps},,8,6
openstack%2Foctavia~stable%2Fussuri~Ia2b49128258b18653865622022e8877489f0087b,openstack/octavia,stable/ussuri,Ia2b49128258b18653865622022e8877489f0087b,Fix lower-constraints,MERGED,2021-01-05 09:14:52.000000000,2021-01-08 12:22:18.000000000,2021-01-08 12:20:49.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 6732}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-05 09:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8b78c9c9e9ef0a42779ba4622d995316f9c86092', 'message': 'Fix lower-constraints\n\nChange-Id: Ia2b49128258b18653865622022e8877489f0087b\n'}, {'number': 2, 'created': '2021-01-05 09:39:35.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7bdf196eee4f8b44e284abcf3190a9b4c153a72d', 'message': 'Fix lower-constraints\n\nChange-Id: Ia2b49128258b18653865622022e8877489f0087b\n'}]",0,769268,7bdf196eee4f8b44e284abcf3190a9b4c153a72d,10,5,2,29244,,,0,"Fix lower-constraints

Change-Id: Ia2b49128258b18653865622022e8877489f0087b
",git fetch https://review.opendev.org/openstack/octavia refs/changes/68/769268/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,8b78c9c9e9ef0a42779ba4622d995316f9c86092,,astroid==2.0.0flake8==3.6.0hacking==3.0MarkupSafe==1.1.0 mccabe==0.6.0networkx==2.1.0oslo.serialization==2.28.1pycodestyle==2.4.0pyflakes==2.0.0pylint==2.2.0warlock==1.3.1,astroid==1.3.8flake8==2.5.5hacking==1.1.0MarkupSafe==1.0 mccabe==0.4.0networkx==1.11oslo.serialization==2.18.0pycodestyle==2.3.1pyflakes==1.0.0pylint==1.9.2warlock==1.3.0,11,12
openstack%2Ftripleo-quickstart-extras~master~I2b6a56d5fb9854e48b6085c4cde483c7d38301d5,openstack/tripleo-quickstart-extras,master,I2b6a56d5fb9854e48b6085c4cde483c7d38301d5,Ensure that DHCP doesn't overwite DNS settings,ABANDONED,2020-07-08 06:59:10.000000000,2021-01-08 11:47:33.000000000,,"[{'_account_id': 6926}, {'_account_id': 7414}, {'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-07-08 06:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f9e8ca99c17007106b97feb247d8cbf6c194e5ae', 'message': ""Remove dhclient before changing /etc/resolv.conf\n\ndhclient can overwrite resolv.conf, so it's best to remove it\nbefore configuring the system resolver.\n\nChange-Id: I2b6a56d5fb9854e48b6085c4cde483c7d38301d5\nCloses-Bug: #1886774\n""}, {'number': 2, 'created': '2020-07-08 13:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/07c769dc9aa8bd1a51162f4d5b0aebe028e5bc93', 'message': ""Make /etc/resolv.conf immutable after modification\n\ndhclient can overwrite resolv.conf, so it's best to make it\nimmutable after configuring the system resolver.\n\nChange-Id: I2b6a56d5fb9854e48b6085c4cde483c7d38301d5\nCloses-Bug: #1886774\n""}, {'number': 3, 'created': '2020-07-09 07:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b0f8c074ae11a0758f9206dc302421215dc91414', 'message': ""Ensure that DHCP doesn't overwite DNS settings\n\ndhclient can overwrite resolv.conf on centos 8.\nWe change the network settings to not change DNS.\n\nChange-Id: I2b6a56d5fb9854e48b6085c4cde483c7d38301d5\nCloses-Bug: #1886774\n""}, {'number': 4, 'created': '2020-07-09 07:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/16a6b62ca2d87bbcb899fb6382acb9b59ef4372a', 'message': ""Ensure that DHCP doesn't overwite DNS settings\n\ndhclient can overwrite resolv.conf on centos 8.\nWe change the network settings to not change DNS.\n\nChange-Id: I2b6a56d5fb9854e48b6085c4cde483c7d38301d5\nCloses-Bug: #1886774\n""}, {'number': 5, 'created': '2020-07-10 06:55:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5cca22f8fac73164f290fc0a4a0416765948665d', 'message': ""Ensure that DHCP doesn't overwite DNS settings\n\ndhclient can overwrite resolv.conf on centos 8.\nWe change the network settings to not change DNS.\n\nChange-Id: I2b6a56d5fb9854e48b6085c4cde483c7d38301d5\nCloses-Bug: #1886774\n""}, {'number': 6, 'created': '2020-07-14 09:05:33.000000000', 'files': ['roles/undercloud-deploy/tasks/novajoin_prep.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ca6eea8908bb36c4267764f7c9b1db7b4b3176e2', 'message': ""Ensure that DHCP doesn't overwite DNS settings\n\ndhclient can overwrite resolv.conf on centos 8.\nWe change the network settings to not change DNS.\n\nDepends-On: https://review.opendev.org/731383\nChange-Id: I2b6a56d5fb9854e48b6085c4cde483c7d38301d5\nCloses-Bug: #1886774\n""}]",12,739905,ca6eea8908bb36c4267764f7c9b1db7b4b3176e2,44,9,6,14250,,,0,"Ensure that DHCP doesn't overwite DNS settings

dhclient can overwrite resolv.conf on centos 8.
We change the network settings to not change DNS.

Depends-On: https://review.opendev.org/731383
Change-Id: I2b6a56d5fb9854e48b6085c4cde483c7d38301d5
Closes-Bug: #1886774
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/05/739905/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-deploy/templates/novajoin_prep.sh.j2'],1,f9e8ca99c17007106b97feb247d8cbf6c194e5ae,fix-unable-discover-domain,## * Remove dhclient so that it doesn't overwrite resolv.conf sudo {{ ansible_pkg_mgr }} remove -y dhclient ,,4,0
openstack%2Ftripleo-quickstart-extras~master~Ice8e0b3092261b3c046adfc59b7aa7ada3aec940,openstack/tripleo-quickstart-extras,master,Ice8e0b3092261b3c046adfc59b7aa7ada3aec940,Add allow-zone-overlap when installing FreeIPA,ABANDONED,2020-06-24 09:53:38.000000000,2021-01-08 11:46:21.000000000,,"[{'_account_id': 7353}, {'_account_id': 9914}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-24 09:53:38.000000000', 'files': ['roles/ipa-multinode/tasks/ipaserver-subnode-install.yml', 'roles/freeipa-setup/templates/deploy_freeipa.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b2dbd94c3115df36569e08ed4763f4166aca1e76', 'message': 'Add allow-zone-overlap when installing FreeIPA\n\nThis should skip the check for already existing\nreverse zones and create it.\n\nChange-Id: Ice8e0b3092261b3c046adfc59b7aa7ada3aec940\nCloses-Bug: #1884923\n'}]",0,737730,b2dbd94c3115df36569e08ed4763f4166aca1e76,4,5,1,14250,,,0,"Add allow-zone-overlap when installing FreeIPA

This should skip the check for already existing
reverse zones and create it.

Change-Id: Ice8e0b3092261b3c046adfc59b7aa7ada3aec940
Closes-Bug: #1884923
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/30/737730/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ipa-multinode/tasks/ipaserver-subnode-install.yml', 'roles/freeipa-setup/templates/deploy_freeipa.sh.j2']",2,b2dbd94c3115df36569e08ed4763f4166aca1e76,allow-zone-overlap, --auto-reverse --allow-zone-overlap \ {{ ipa_server_install_params|default('') }}, --auto-reverse {{ ipa_server_install_params|default('') }},3,1
openstack%2Fneutron-lib~master~I4df8c319308224175a7f735cfc966b1080caa227,openstack/neutron-lib,master,I4df8c319308224175a7f735cfc966b1080caa227,Add desc support to the BaseWorker initialization,MERGED,2021-01-08 02:41:07.000000000,2021-01-08 11:37:04.000000000,2021-01-08 11:35:37.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 02:41:07.000000000', 'files': ['neutron_lib/worker.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1389b632137ed9c3a4ada368a691da4dfd638abe', 'message': 'Add desc support to the BaseWorker initialization\n\nIn some cases, when we call the ""BaseWorker.start"" method (eg: use\noslo_service.service.ProcessLanuch to pull up the worker), we cannot\npass the ""desc"" parameter, so we need to pass in the desc parameter\nduring initialization.\n\nthis patch move the ""desc"" parameter to the initialization, when call\n""start"" method, if set ""desc"", it will be used first. if not, ""desc""\npassed in initialization are used. this design solves the problem and\nkeeps compatibility.\n\nPartial-bug: #1910623\n\nChange-Id: I4df8c319308224175a7f735cfc966b1080caa227\n'}]",0,769861,1389b632137ed9c3a4ada368a691da4dfd638abe,9,4,1,30380,,,0,"Add desc support to the BaseWorker initialization

In some cases, when we call the ""BaseWorker.start"" method (eg: use
oslo_service.service.ProcessLanuch to pull up the worker), we cannot
pass the ""desc"" parameter, so we need to pass in the desc parameter
during initialization.

this patch move the ""desc"" parameter to the initialization, when call
""start"" method, if set ""desc"", it will be used first. if not, ""desc""
passed in initialization are used. this design solves the problem and
keeps compatibility.

Partial-bug: #1910623

Change-Id: I4df8c319308224175a7f735cfc966b1080caa227
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/61/769861/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/worker.py'],1,1389b632137ed9c3a4ada368a691da4dfd638abe,bug/1910623," set_proctitle='on', desc=None): desc: process descriptive string self.desc = desc desc = desc or self.desc", set_proctitle='on'):,5,1
openstack%2Fpython-tripleoclient~master~I641dd1c3426048f5aace0ac695eb8cef7126f8c2,openstack/python-tripleoclient,master,I641dd1c3426048f5aace0ac695eb8cef7126f8c2,Overcloud image has missing kernel_id and ramdisk_id properties,MERGED,2021-01-05 16:23:14.000000000,2021-01-08 11:28:13.000000000,2021-01-08 11:26:56.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-01-05 16:23:14.000000000', 'files': ['tripleoclient/v1/overcloud_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6546970a7304e8d3109e99e980053d15d5769598', 'message': 'Overcloud image has missing kernel_id and ramdisk_id properties\n\nKernel and ramdisk images are found nonexistent when ""file://""\nis prepended to the image path, so replace it with empty\nstring only when checking the existence of the image\n\nCloses-Bug: #1896262\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I641dd1c3426048f5aace0ac695eb8cef7126f8c2\n'}]",0,769395,6546970a7304e8d3109e99e980053d15d5769598,8,4,1,32240,,,0,"Overcloud image has missing kernel_id and ramdisk_id properties

Kernel and ramdisk images are found nonexistent when ""file://""
is prepended to the image path, so replace it with empty
string only when checking the existence of the image

Closes-Bug: #1896262
Signed-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>
Change-Id: I641dd1c3426048f5aace0ac695eb8cef7126f8c2
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/95/769395/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_image.py'],1,6546970a7304e8d3109e99e980053d15d5769598,bug/1896262," if os.path.exists(path.replace(""file://"", """")): if os.path.exists(path.replace(""file://"", """")):", if os.path.exists(path): if os.path.exists(path):,2,2
openstack%2Fneutron~master~I46c282c865bfdf5e88e26ea8fc31b26cdd3f6b2e,openstack/neutron,master,I46c282c865bfdf5e88e26ea8fc31b26cdd3f6b2e,[Docs] Guide about running and debugging tempest tests,MERGED,2020-12-08 10:04:42.000000000,2021-01-08 10:38:43.000000000,2021-01-08 10:35:46.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32067}, {'_account_id': 32291}, {'_account_id': 32761}]","[{'number': 1, 'created': '2020-12-08 10:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa00af336d4e64c508e20c24fc4d09e6faf59512', 'message': '[Docs] Guide about running and debugging tempest tests\n\nMove out tempest related things from TESTING.rst to tempest.rst.\nIt also gives some basics on how to debug tempest in zuul and locally.\n\nChange-Id: I46c282c865bfdf5e88e26ea8fc31b26cdd3f6b2e\n'}, {'number': 2, 'created': '2020-12-08 10:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/274efefbc32750fb6f4e441c67648e93fe97a8a5', 'message': '[Docs] Guide about running and debugging tempest tests\n\nMove out tempest related things from TESTING.rst to tempest.rst.\nIt also gives some basics on how to debug tempest in zuul and locally.\n\nChange-Id: I46c282c865bfdf5e88e26ea8fc31b26cdd3f6b2e\n'}, {'number': 3, 'created': '2020-12-14 08:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e381d077c7ceaccf829700ec3270fde14d1f9b88', 'message': '[Docs] Guide about running and debugging tempest tests\n\nMove out tempest related things from TESTING.rst to tempest.rst.\nIt also gives some basics on how to debug tempest in zuul and locally.\n\nChange-Id: I46c282c865bfdf5e88e26ea8fc31b26cdd3f6b2e\n'}, {'number': 4, 'created': '2020-12-17 16:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d3ef162a44078c31ab9a2027feb7e31b29ba4c13', 'message': '[Docs] Guide about running and debugging tempest tests\n\nMove out tempest related things from TESTING.rst to tempest.rst.\nIt also gives some basics on how to debug tempest in zuul and locally.\n\nChange-Id: I46c282c865bfdf5e88e26ea8fc31b26cdd3f6b2e\n'}, {'number': 5, 'created': '2021-01-06 12:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/87d3304f7084ddb9191ac962369686d744ead091', 'message': '[Docs] Guide about running and debugging tempest tests\n\nMove out tempest related things from TESTING.rst to tempest.rst.\nIt also gives some basics on how to debug tempest in zuul and locally.\n\nChange-Id: I46c282c865bfdf5e88e26ea8fc31b26cdd3f6b2e\n'}, {'number': 6, 'created': '2021-01-06 12:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce671bfb3b18c050a07255e9ddea6be7616fbcca', 'message': '[Docs] Guide about running and debugging tempest tests\n\nMove out tempest related things from TESTING.rst to tempest.rst.\nIt also gives some basics on how to debug tempest in zuul and locally.\n\nChange-Id: I46c282c865bfdf5e88e26ea8fc31b26cdd3f6b2e\n'}, {'number': 7, 'created': '2021-01-07 14:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4cdd398d9d50c2e727b138fe058a9d2def70c476', 'message': '[Docs] Guide about running and debugging tempest tests\n\nMove out tempest related things from TESTING.rst to tempest.rst.\nIt also gives some basics on how to debug tempest in zuul and locally.\n\nChange-Id: I46c282c865bfdf5e88e26ea8fc31b26cdd3f6b2e\n'}, {'number': 8, 'created': '2021-01-07 20:37:33.000000000', 'files': ['doc/source/contributor/testing/tempest.rst', 'TESTING.rst', 'doc/source/contributor/testing/index.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/db740decec80cf73b8ed028dea78dd6bc2271b38', 'message': '[Docs] Guide about running and debugging tempest tests\n\nMove out tempest related things from TESTING.rst to tempest.rst.\nIt also gives some basics on how to debug tempest in zuul and locally.\n\nChange-Id: I46c282c865bfdf5e88e26ea8fc31b26cdd3f6b2e\n'}]",37,765958,db740decec80cf73b8ed028dea78dd6bc2271b38,45,11,8,8313,,,0,"[Docs] Guide about running and debugging tempest tests

Move out tempest related things from TESTING.rst to tempest.rst.
It also gives some basics on how to debug tempest in zuul and locally.

Change-Id: I46c282c865bfdf5e88e26ea8fc31b26cdd3f6b2e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/765958/8 && git format-patch -1 --stdout FETCH_HEAD,"['TESTING.rst', 'doc/source/contributor/testing/tempest.rst', 'doc/source/contributor/testing/index.rst', 'doc/source/contributor/testing/ci_scenario_jobs.rst']",4,fa00af336d4e64c508e20c24fc4d09e6faf59512,new-debugging-guides,.. _ci_scenario_jobs:,,254,0
openstack%2Fzun~master~Ia1b64a4a66a876e38ed2885b543df2acc24a379d,openstack/zun,master,Ia1b64a4a66a876e38ed2885b543df2acc24a379d,Remove __unicode__() from ZunException,MERGED,2021-01-08 02:58:18.000000000,2021-01-08 10:38:23.000000000,2021-01-08 10:36:32.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 02:58:18.000000000', 'files': ['zun/common/exception.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/6ac7a3ee5322164995248f4534f807e897991180', 'message': 'Remove __unicode__() from ZunException\n\nThis is no longer needed in Python 3.\n\nChange-Id: Ia1b64a4a66a876e38ed2885b543df2acc24a379d\n'}]",0,769864,6ac7a3ee5322164995248f4534f807e897991180,7,2,1,30092,,,0,"Remove __unicode__() from ZunException

This is no longer needed in Python 3.

Change-Id: Ia1b64a4a66a876e38ed2885b543df2acc24a379d
",git fetch https://review.opendev.org/openstack/zun refs/changes/64/769864/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/common/exception.py'],1,6ac7a3ee5322164995248f4534f807e897991180,,, def __unicode__(self): return self.message ,0,3
openstack%2Fdevstack~master~I53dc0ae10af6aa13f1349b58373932eb6a15ab02,openstack/devstack,master,I53dc0ae10af6aa13f1349b58373932eb6a15ab02,cinder: Double [DEFAULT]/rpc_response_timeout to 120,MERGED,2020-12-23 10:58:59.000000000,2021-01-08 10:38:08.000000000,2021-01-08 10:35:39.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-12-23 10:58:59.000000000', 'files': ['lib/cinder'], 'web_link': 'https://opendev.org/openstack/devstack/commit/fc41717222da029274236714f1447fcba1277b06', 'message': 'cinder: Double [DEFAULT]/rpc_response_timeout to 120\n\nBug #1873234 documents a number of CI failures caused by RPC requests\nfrom c-api to c-vol timing out due to `lvchange` taking longer than the\ndefault rpc_response_timeout of 60 seconds to complete.\n\nWhile the underlying reason for the slowness should be investigated by\nthe cinder team a trivial workaround to the fallout created by these\ntimeouts is to simply double the client RPC timeout used by c-api,\nallowing c-vol to return and overall the request to succeed.\n\nChange-Id: I53dc0ae10af6aa13f1349b58373932eb6a15ab02\nRelated-Bug: #1873234\n'}]",0,768323,fc41717222da029274236714f1447fcba1277b06,14,3,1,10135,,,0,"cinder: Double [DEFAULT]/rpc_response_timeout to 120

Bug #1873234 documents a number of CI failures caused by RPC requests
from c-api to c-vol timing out due to `lvchange` taking longer than the
default rpc_response_timeout of 60 seconds to complete.

While the underlying reason for the slowness should be investigated by
the cinder team a trivial workaround to the fallout created by these
timeouts is to simply double the client RPC timeout used by c-api,
allowing c-vol to return and overall the request to succeed.

Change-Id: I53dc0ae10af6aa13f1349b58373932eb6a15ab02
Related-Bug: #1873234
",git fetch https://review.opendev.org/openstack/devstack refs/changes/23/768323/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/cinder'],1,fc41717222da029274236714f1447fcba1277b06,, # Avoid RPC timeouts in slow CI and test environments by doubling the # default response timeout set by RPC clients. See bug #1873234 for more # details and example failures. iniset $CINDER_CONF DEFAULT rpc_response_timeout 120 ,,5,0
openstack%2Fcharm-mysql-router~master~I030d7caa8cc41aaf89ade25e5be196fb602d466c,openstack/charm-mysql-router,master,I030d7caa8cc41aaf89ade25e5be196fb602d466c,Add connect_timeout to MySQLHelper.connect call,MERGED,2020-12-17 21:58:06.000000000,2021-01-08 10:37:39.000000000,2021-01-08 10:37:39.000000000,"[{'_account_id': 14567}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-17 21:58:06.000000000', 'files': ['src/lib/charm/openstack/mysql_router.py', 'src/wheelhouse.txt', 'unit_tests/test_lib_charm_openstack_mysql_router.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/19a2c61c575e72a31aaea851b1aed57f230e847b', 'message': 'Add connect_timeout to MySQLHelper.connect call\n\nIf the local mysql router fails to connect (or work) with the clustered\nMySQL8 instance, then the MySQLHelper.connect() call will hang\nindefinitely.  Unfortunately, this happens during an update-status hook,\nwhich is not visible (due to juju status not showing update-status hooks\nexecuting).  Although this has no impact on the running cloud, it does\nmean that nothing else happens on the machine (update-status, upgrades,\nhooks, config-changed, etc.).  This allows the connect to fail and thus\nfor the charm to go into error so that the local mysql router instance\ncan be restarted.\n\nNote that this depends on [1] landing in charm-helpers.\n\n[1]: https://github.com/juju/charm-helpers/pull/550\n\nCloses-bug: #1907250\nChange-Id: I030d7caa8cc41aaf89ade25e5be196fb602d466c\n'}]",0,767640,19a2c61c575e72a31aaea851b1aed57f230e847b,20,5,1,20870,,,0,"Add connect_timeout to MySQLHelper.connect call

If the local mysql router fails to connect (or work) with the clustered
MySQL8 instance, then the MySQLHelper.connect() call will hang
indefinitely.  Unfortunately, this happens during an update-status hook,
which is not visible (due to juju status not showing update-status hooks
executing).  Although this has no impact on the running cloud, it does
mean that nothing else happens on the machine (update-status, upgrades,
hooks, config-changed, etc.).  This allows the connect to fail and thus
for the charm to go into error so that the local mysql router instance
can be restarted.

Note that this depends on [1] landing in charm-helpers.

[1]: https://github.com/juju/charm-helpers/pull/550

Closes-bug: #1907250
Change-Id: I030d7caa8cc41aaf89ade25e5be196fb602d466c
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/40/767640/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/mysql_router.py', 'src/wheelhouse.txt', 'unit_tests/test_lib_charm_openstack_mysql_router.py']",3,19a2c61c575e72a31aaea851b1aed57f230e847b,bug/1907250," _connect_timeout = 30 _user, _pass, _addr, port=_port, connect_timeout=_connect_timeout) _user, _pass, _addr, port=_port, connect_timeout=_connect_timeout)"," _user, _pass, _addr, port=_port) _user, _pass, _addr, port=_port)",8,3
openstack%2Fcharm-rabbitmq-server~master~I0dbfab4819b873e0476879e42fbad1d40cdf699d,openstack/charm-rabbitmq-server,master,I0dbfab4819b873e0476879e42fbad1d40cdf699d,Ensure that python3 really is installed on upgrade charm,MERGED,2020-11-24 12:06:12.000000000,2021-01-08 10:37:16.000000000,2021-01-08 10:37:16.000000000,"[{'_account_id': 14567}, {'_account_id': 19298}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-24 12:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/905cb0d4b5c0a9e59d7094ca6efe9cd492c96937', 'message': 'Ensure that python3 really is installed on upgrade charm\n\nDuring a switch from py2 to py3, need to ensure that the required\npython3 versions of the required libraries are installed.\n\nChange-Id: I0dbfab4819b873e0476879e42fbad1d40cdf699d\n'}, {'number': 2, 'created': '2020-12-10 14:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/595469a82c7901d698cd491029ad8a020a6ac5de', 'message': 'Ensure that python3 really is installed on upgrade charm\n\nDuring a switch from py2 to py3, need to ensure that the required\npython3 versions of the required libraries are installed.\n\nChange-Id: I0dbfab4819b873e0476879e42fbad1d40cdf699d\n'}, {'number': 3, 'created': '2020-12-22 20:20:46.000000000', 'files': ['hooks/upgrade-charm.real', 'hooks/upgrade-charm'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/742f7f812df4c1a5eeb57a959f5dbca9c0b8b57e', 'message': 'Ensure that python3 really is installed on upgrade charm\n\nDuring a switch from py2 to py3, need to ensure that the required\npython3 versions of the required libraries are installed.\n\nChange-Id: I0dbfab4819b873e0476879e42fbad1d40cdf699d\n'}]",1,763964,742f7f812df4c1a5eeb57a959f5dbca9c0b8b57e,35,5,3,20870,,,0,"Ensure that python3 really is installed on upgrade charm

During a switch from py2 to py3, need to ensure that the required
python3 versions of the required libraries are installed.

Change-Id: I0dbfab4819b873e0476879e42fbad1d40cdf699d
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/64/763964/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/upgrade-charm.real', 'hooks/upgrade-charm']",2,905cb0d4b5c0a9e59d7094ca6efe9cd492c96937,ensure-upgrade-installs-py3,"#!/bin/bash -e # Wrapper to deal with newer Ubuntu versions that don't have py2 installed # by default. declare -a DEPS=('apt' 'netaddr' 'netifaces' 'pip' 'yaml' 'dnspython' 'requests') check_and_install() { pkg=""${1}-${2}"" if ! dpkg -s ${pkg} 2>&1 > /dev/null; then apt-get -y install ${pkg} fi } PYTHON=""python3"" for dep in ${DEPS[@]}; do check_and_install ${PYTHON} ${dep} done # python3-croniter not available on trusty [ ""$( lsb_release -sc )"" != ""trusty"" ] && check_and_install ${PYTHON} croniter exec ./hooks/upgrade-charm.real ",,23,0
openstack%2Fopenstack-ansible-os_zun~stable%2Fvictoria~Ib2395c317c34cfbd4b72b1d19932a236bcff7a30,openstack/openstack-ansible-os_zun,stable/victoria,Ib2395c317c34cfbd4b72b1d19932a236bcff7a30,defaults: start kuryr service before docker,MERGED,2021-01-07 08:20:07.000000000,2021-01-08 10:21:22.000000000,2021-01-08 10:19:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-01-07 08:20:07.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/140963a5d90f647dc605eeaa6b5d952b39476054', 'message': 'defaults: start kuryr service before docker\n\nIf Docker starts first, it gets stuck in a starting state waiting\nfor the kuryr service to become available. This change swaps the\norder to start kuryr first instead.\n\nChange-Id: Ib2395c317c34cfbd4b72b1d19932a236bcff7a30\n(cherry picked from commit 1a75a7dfbe9345fa795965fea947237d2e8bec80)\n'}]",0,769593,140963a5d90f647dc605eeaa6b5d952b39476054,8,3,1,31542,,,0,"defaults: start kuryr service before docker

If Docker starts first, it gets stuck in a starting state waiting
for the kuryr service to become available. This change swaps the
order to start kuryr first instead.

Change-Id: Ib2395c317c34cfbd4b72b1d19932a236bcff7a30
(cherry picked from commit 1a75a7dfbe9345fa795965fea947237d2e8bec80)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/93/769593/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,140963a5d90f647dc605eeaa6b5d952b39476054,zun-bootorder-stable/victoria," init_config_overrides: ""{{ zun_kuryr_init_defaults | combine(zun_kuryr_init_overrides) }}""## Default zun+kuryr options used within the systemd unit file. zun_kuryr_init_defaults: Unit: Before: docker.service After: network-online.target ## Tunable overrides for service unit files. zun_api_paste_ini_overrides: {} zun_api_init_overrides: {} zun_wsproxy_init_overrides: {} zun_compute_init_overrides: {} zun_kuryr_init_overrides: {}"," init_config_overrides: ""{{ zun_kuryr_init_overrides }}""## Tubnable overrides for service unit files. zun_api_paste_ini_overrides: {} zun_api_init_overrides: {} zun_wsproxy_init_overrides: {} zun_compute_init_overrides: {} ## Default zun+kuryr options used within the system unit file. # NOTE(cloudnull): These options are used to ensure that kuryr is always # started after docker and has the proper capabilities. zun_kuryr_init_overrides: Unit: After: ? network-online.target ? docker.service PartOf: docker.service",12,15
openstack%2Fdevstack~master~I1f6218a1994e66786ed9a8065e30bcceec7b8956,openstack/devstack,master,I1f6218a1994e66786ed9a8065e30bcceec7b8956,Clean up create_disk() a little,MERGED,2020-11-13 14:58:40.000000000,2021-01-08 10:21:21.000000000,2021-01-08 10:19:27.000000000,"[{'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 29963}, {'_account_id': 30491}, {'_account_id': 31868}]","[{'number': 1, 'created': '2020-11-13 14:58:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/832928344c4582f3e3e541a44180cad32f0963da', 'message': 'Clean up create_disk() a little\n\nThe create_disk() helper had some redundant checks and dead code. This\nrefactors it to put all the stale cleanup at the top, and groups the\nnew actions together with more relevant comments to make it easier\nto understand.\n\nChange-Id: I1f6218a1994e66786ed9a8065e30bcceec7b8956\n'}, {'number': 2, 'created': '2020-11-13 17:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a2462a267cc288e6351b3ab6e9b5ac81c3d782fb', 'message': 'Clean up create_disk() a little\n\nThe create_disk() helper had some redundant checks and dead code. This\nrefactors it to put all the stale cleanup at the top, and groups the\nnew actions together with more relevant comments to make it easier\nto understand.\n\nChange-Id: I1f6218a1994e66786ed9a8065e30bcceec7b8956\n'}, {'number': 3, 'created': '2020-11-13 18:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/73634a5acb53091f8b934dfa663227af6c14ce19', 'message': 'Clean up create_disk() a little\n\nThe create_disk() helper had some redundant checks and dead code. This\nrefactors it to put all the stale cleanup at the top, and groups the\nnew actions together with more relevant comments to make it easier\nto understand.\n\nChange-Id: I1f6218a1994e66786ed9a8065e30bcceec7b8956\n'}, {'number': 4, 'created': '2021-01-05 17:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f0135bbb46c8fef778e94f74c80993277d9bebbd', 'message': 'Clean up create_disk() a little\n\nThe create_disk() helper had some redundant checks and dead code. This\nrefactors it to put all the stale cleanup at the top, and groups the\nnew actions together with more relevant comments to make it easier\nto understand.\n\nChange-Id: I1f6218a1994e66786ed9a8065e30bcceec7b8956\n'}, {'number': 5, 'created': '2021-01-07 18:31:40.000000000', 'files': ['functions'], 'web_link': 'https://opendev.org/openstack/devstack/commit/36a575b036e55c31ab624447c5d73bc56408a672', 'message': 'Clean up create_disk() a little\n\nThe create_disk() helper had some redundant checks and dead code. This\nrefactors it to put all the stale cleanup at the top, and groups the\nnew actions together with more relevant comments to make it easier\nto understand.\n\nChange-Id: I1f6218a1994e66786ed9a8065e30bcceec7b8956\n'}]",7,762667,36a575b036e55c31ab624447c5d73bc56408a672,39,6,5,4393,,,0,"Clean up create_disk() a little

The create_disk() helper had some redundant checks and dead code. This
refactors it to put all the stale cleanup at the top, and groups the
new actions together with more relevant comments to make it easier
to understand.

Change-Id: I1f6218a1994e66786ed9a8065e30bcceec7b8956
",git fetch https://review.opendev.org/openstack/devstack refs/changes/67/762667/1 && git format-patch -1 --stdout FETCH_HEAD,['functions'],1,832928344c4582f3e3e541a44180cad32f0963da,persistent-disk," key=$(echo $disk_image | sed 's#/.##') key=""devstack-$key"" # Unmount and remove any stale copies of this disk sudo rm -f ${disk_image} # Clear any stale fstab entries for this image sudo sed -i '/.*comment=$key.*/ d' /etc/fstab sudo truncate -s ${loopback_disk_size} ${disk_image} # Install a new loopback fstab entry for this disk image, and mount it"," # Create a loopback disk and format it to XFS. sudo rm -f ${disk_image} sudo mkdir -p ${storage_data_dir}/drives/images sudo truncate -s ${loopback_disk_size} ${disk_image} # Unmount the target, if mounted if egrep -q $storage_data_dir /proc/mounts; then sudo umount $storage_data_dir fi # Clear any old fstab rules, install a new one for this disk, and mount it key=$(echo $disk_image | sed 's#/.##') key=""devstack-$key"" sudo sed -i '/.*comment=$key.*/ d' /etc/fstab",9,14
openstack%2Fkuryr-tempest-plugin~master~I0cc13b0cecee2868273bebaeff41f99c60a19af5,openstack/kuryr-tempest-plugin,master,I0cc13b0cecee2868273bebaeff41f99c60a19af5,Make Stein gate non-voting,MERGED,2021-01-07 14:29:57.000000000,2021-01-08 10:21:16.000000000,2021-01-08 10:16:05.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2021-01-07 14:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/b136d9171fed1c6d5e1ea758fe2e9346196e4294', 'message': ""Make Stein gate non-voting\n\nWith the addition of Victoria gate, we're currently supporting\n4 other release jobs. It makes sense to make Stein job at least\nnon-voting.\n\nChange-Id: I0cc13b0cecee2868273bebaeff41f99c60a19af5\n""}, {'number': 2, 'created': '2021-01-07 14:33:48.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/a64609151864687daa2dbb042bfaeaa97bccf4c2', 'message': ""Make Stein gate non-voting\n\nWith the addition of Victoria gate, we're currently supporting\n3 other release jobs. It makes sense to make Stein job at least\nnon-voting.\n\nChange-Id: I0cc13b0cecee2868273bebaeff41f99c60a19af5\n""}]",0,769735,a64609151864687daa2dbb042bfaeaa97bccf4c2,9,4,2,27032,,,0,"Make Stein gate non-voting

With the addition of Victoria gate, we're currently supporting
3 other release jobs. It makes sense to make Stein job at least
non-voting.

Change-Id: I0cc13b0cecee2868273bebaeff41f99c60a19af5
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/35/769735/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b136d9171fed1c6d5e1ea758fe2e9346196e4294,make-stein-nonvoting, voting: false,,1,0
openstack%2Fneutron-lib~master~Idac38dc3b55d4eda6e3e8347722abfc9d6782183,openstack/neutron-lib,master,Idac38dc3b55d4eda6e3e8347722abfc9d6782183,Update TOX_CONSTRAINTS_FILE for master,MERGED,2021-01-07 02:18:38.000000000,2021-01-08 10:19:53.000000000,2021-01-08 10:13:14.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 02:18:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/67d24c6e959d720791fcca0cd3a3e267012be1a8', 'message': 'Update TOX_CONSTRAINTS_FILE for master\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\n  -https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nChange-Id: Idac38dc3b55d4eda6e3e8347722abfc9d6782183\n'}]",0,769639,67d24c6e959d720791fcca0cd3a3e267012be1a8,8,3,1,32238,,,0,"Update TOX_CONSTRAINTS_FILE for master

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

  -https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

Change-Id: Idac38dc3b55d4eda6e3e8347722abfc9d6782183
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/39/769639/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,67d24c6e959d720791fcca0cd3a3e267012be1a8,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},5,5
openstack%2Fos-brick~master~I4c4bd42f68f23d918eba91a577c1789ec6ccd19d,openstack/os-brick,master,I4c4bd42f68f23d918eba91a577c1789ec6ccd19d,Remove __unicode__() from os-brick Exception,ABANDONED,2021-01-08 09:01:45.000000000,2021-01-08 10:18:22.000000000,,[],"[{'number': 1, 'created': '2021-01-08 09:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/3eafa81f552d1a33f397cbb9a3fc7ce0c1db1e5b', 'message': 'Remove __unicode__() from ZunException\n\nThis is no longer needed in Python 3.\n\nChange-Id: I4c4bd42f68f23d918eba91a577c1789ec6ccd19d\n'}, {'number': 2, 'created': '2021-01-08 09:04:49.000000000', 'files': ['os_brick/exception.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/250a74b67c580a49a033b606fe089967bfad6acb', 'message': 'Remove __unicode__() from os-brick Exception\n\nThis is no longer needed in Python 3.\n\nChange-Id: I4c4bd42f68f23d918eba91a577c1789ec6ccd19d\n'}]",0,769887,250a74b67c580a49a033b606fe089967bfad6acb,5,0,2,30384,,,0,"Remove __unicode__() from os-brick Exception

This is no longer needed in Python 3.

Change-Id: I4c4bd42f68f23d918eba91a577c1789ec6ccd19d
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/87/769887/2 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/exception.py'],1,3eafa81f552d1a33f397cbb9a3fc7ce0c1db1e5b,,, def __unicode__(self): return six.text_type(self.msg),0,2
openstack%2Fansible-role-python_venv_build~master~I48b053f98bc89c8dde19b73622cce295095db672,openstack/ansible-role-python_venv_build,master,I48b053f98bc89c8dde19b73622cce295095db672,Remove support for lxc2 config keys,MERGED,2020-10-06 10:39:52.000000000,2021-01-08 10:01:06.000000000,2021-01-08 09:59:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-10-06 10:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/1898361a0b40bf98764194def54c972541c0bfd7', 'message': 'Remove support for lxc2 config keys\n\nChange-Id: I48b053f98bc89c8dde19b73622cce295095db672\n'}, {'number': 2, 'created': '2021-01-06 17:10:19.000000000', 'files': ['tests/group_vars/all_containers.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/919a34298ccfab81bea6d4b7acd595bddfc68dca', 'message': 'Remove support for lxc2 config keys\n\nChange-Id: I48b053f98bc89c8dde19b73622cce295095db672\n'}]",0,756247,919a34298ccfab81bea6d4b7acd595bddfc68dca,20,4,2,25023,,,0,"Remove support for lxc2 config keys

Change-Id: I48b053f98bc89c8dde19b73622cce295095db672
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/47/756247/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/group_vars/all_containers.yml'],1,1898361a0b40bf98764194def54c972541c0bfd7,osa-lxc2,lxc_container_config_list:,"lxc2_container_config_list: - 'lxc.aa_profile=lxc-openstack' lxc3_container_config_list: lxc_container_config_list: ""{{ lookup('pipe', 'lxc-info --version || echo 2.0.0') is version_compare('3.0.0', 'lt') | ternary(lxc2_container_config_list, lxc3_container_config_list) }}""",1,6
openstack%2Fkayobe~master~I87260fd428b428f32e1b544e65ed09eba200c210,openstack/kayobe,master,I87260fd428b428f32e1b544e65ed09eba200c210,DNM: try increasing seed VM SSH timeout,ABANDONED,2021-01-07 19:34:24.000000000,2021-01-08 09:56:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-07 19:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/50ac68d09f29a32925510a03072cb484f523a27f', 'message': 'DNM: try increasing seed VM SSH timeout\n\nChange-Id: I87260fd428b428f32e1b544e65ed09eba200c210\n'}, {'number': 2, 'created': '2021-01-08 09:00:21.000000000', 'files': ['ansible/seed-vm-provision.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a4daac6b9d999f4894847127a6df813df917467d', 'message': 'DNM: try increasing seed VM SSH timeout\n\nChange-Id: I87260fd428b428f32e1b544e65ed09eba200c210\n'}]",0,769820,a4daac6b9d999f4894847127a6df813df917467d,5,1,2,14826,,,0,"DNM: try increasing seed VM SSH timeout

Change-Id: I87260fd428b428f32e1b544e65ed09eba200c210
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/20/769820/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/seed-vm-provision.yml', 'zuul.d/project.yaml']",2,50ac68d09f29a32925510a03072cb484f523a27f,,, templates: - openstack-cover-jobs - openstack-python3-wallaby-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - kayobe-tox-ansible-syntax - kayobe-tox-ansible - kayobe-tox-molecule - kayobe-overcloud-centos8 - kayobe-overcloud-ubuntu-focal - kayobe-overcloud-tls-centos8 - kayobe-overcloud-host-configure-centos8 - kayobe-overcloud-upgrade-centos8 - kayobe-seed-centos8 - kayobe-seed-upgrade-centos8,1,16
openstack%2Fcharm-neutron-api~master~Id829cb4eeb97327a4657888e4309bcf2c217c8fe,openstack/charm-neutron-api,master,Id829cb4eeb97327a4657888e4309bcf2c217c8fe,Add Groovy to the test gate,MERGED,2020-11-05 11:50:34.000000000,2021-01-08 09:54:01.000000000,2021-01-08 09:54:01.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-05 11:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/b4c9bcc47f1db5f17c5052d990964a491cd85cb9', 'message': 'Add Groovy to the test gate\n\nChange-Id: Id829cb4eeb97327a4657888e4309bcf2c217c8fe\n'}, {'number': 2, 'created': '2021-01-08 05:12:06.000000000', 'files': ['tests/tests.yaml', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/a475261db37dae66b57fe009da7e71fbff1b0237', 'message': 'Add Groovy to the test gate\n\nChange-Id: Id829cb4eeb97327a4657888e4309bcf2c217c8fe\n'}]",0,761572,a475261db37dae66b57fe009da7e71fbff1b0237,12,3,2,31289,,,0,"Add Groovy to the test gate

Change-Id: Id829cb4eeb97327a4657888e4309bcf2c217c8fe
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/72/761572/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py']",3,b4c9bcc47f1db5f17c5052d990964a491cd85cb9,groovy-charm-gate," application_name,def send_application_name(relid=None): """"""Send the application name down the relation. :param relid: Relation id to set application name in. :type relid: str """""" relation_set( relation_id=relid, relation_settings={'application-name': application_name()}) Profiles are considered immutable so will not be updated if the named profile already exists. Please refer to [0] for more details. if erasure_profile_exists(service, profile_name): log('EC profile {} exists, skipping update'.format(profile_name), level=WARNING) return relation_set(relation_id=rid, relation_settings={'unit-name': local_unit()})"," Updates the profile if it exists. Please refer to [0] for more details. if erasure_profile_exists(service, profile_name): cmd.append('--force') ",24,7
openstack%2Fcharm-mysql-innodb-cluster~master~I73539b8ef10f6d285a7ee00472829d873e055719,openstack/charm-mysql-innodb-cluster,master,I73539b8ef10f6d285a7ee00472829d873e055719,Ensure cluster and db-router bindings are in cert,ABANDONED,2020-12-18 14:47:33.000000000,2021-01-08 09:52:01.000000000,,"[{'_account_id': 20648}, {'_account_id': 20805}]","[{'number': 1, 'created': '2020-12-18 14:47:33.000000000', 'files': ['unit_tests/__init__.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/reactive/mysql_innodb_cluster_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/98556d59a204ac57a7eb6538c0fa1f14546504f7', 'message': 'Ensure cluster and db-router bindings are in cert\n\nWhen requesting a certificate ensure that the IP addresses\nassociated with db-router and cluster bindings are included in\nthe certificate request.\n\nWhen the charm receives the certificate ensure symlinks for the\ndb-router and cluster IP addresses are created.\n\nCloses-Bug: #1908306\nDepends-On: https://github.com/juju/charm-helpers/pull/551\nChange-Id: I73539b8ef10f6d285a7ee00472829d873e055719\n'}]",6,767757,98556d59a204ac57a7eb6538c0fa1f14546504f7,5,2,1,12549,,,0,"Ensure cluster and db-router bindings are in cert

When requesting a certificate ensure that the IP addresses
associated with db-router and cluster bindings are included in
the certificate request.

When the charm receives the certificate ensure symlinks for the
db-router and cluster IP addresses are created.

Closes-Bug: #1908306
Depends-On: https://github.com/juju/charm-helpers/pull/551
Change-Id: I73539b8ef10f6d285a7ee00472829d873e055719
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/57/767757/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/__init__.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/reactive/mysql_innodb_cluster_handlers.py']",3,98556d59a204ac57a7eb6538c0fa1f14546504f7,bug/1908306," ip_sans = [""127.0.0.1""] for ep in ['db-router', 'cluster']: for bind_addr in ch_core.hookenv.network_get(ep).get( 'bind-addresses', []): for addr_info in bind_addr.get('addresses', []): ip = addr_info.get('address') if ip: ip_sans.append(ip) ip_sans = list(set(ip_sans)) req.add_hostname_cn_ip(ip_sans)"," # TODO: We actually want the db-router bindings for each node and not # the cluster binding. However, deploys will be using 127.0.0.1 with # mysql-router. # Add localhost for mysql-router connections req.add_hostname_cn_ip(instance.cluster_peer_addresses + [""127.0.0.1""])",28,6
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fvictoria~Ib50b8a85cddcfffcfa54dc39580f92f7305c7c4a,openstack/openstack-ansible-lxc_hosts,stable/victoria,Ib50b8a85cddcfffcfa54dc39580f92f7305c7c4a,Add trusted.gpg to the copy_from_host list for 20.04,MERGED,2021-01-07 21:04:41.000000000,2021-01-08 09:49:31.000000000,2021-01-08 09:48:09.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-07 21:04:41.000000000', 'files': ['vars/ubuntu-20.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/57025530f0b7ac0d8c0550ec52288005b2817a9a', 'message': 'Add trusted.gpg to the copy_from_host list for 20.04\n\nWithout this, installing containers on a host that uses a non-default repo\nsource will fail.\n\nChange-Id: Ib50b8a85cddcfffcfa54dc39580f92f7305c7c4a\n(cherry picked from commit 47df1aa66990f4dbb83bd07d1a328af06be5cf57)\n'}]",0,769742,57025530f0b7ac0d8c0550ec52288005b2817a9a,10,4,1,25023,,,0,"Add trusted.gpg to the copy_from_host list for 20.04

Without this, installing containers on a host that uses a non-default repo
source will fail.

Change-Id: Ib50b8a85cddcfffcfa54dc39580f92f7305c7c4a
(cherry picked from commit 47df1aa66990f4dbb83bd07d1a328af06be5cf57)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/42/769742/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu-20.04.yml'],1,57025530f0b7ac0d8c0550ec52288005b2817a9a,fix-apt-gpg-focal-stable/victoria, - /etc/apt/trusted.gpg,,1,0
openstack%2Fneutron-lib~master~I29f5e77ca6ded86248963fae68719ccbaab7c242,openstack/neutron-lib,master,I29f5e77ca6ded86248963fae68719ccbaab7c242,Fix inconsistencies in lower-constraints,ABANDONED,2020-12-11 12:59:50.000000000,2021-01-08 09:41:00.000000000,,"[{'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-11 12:59:50.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/bb9abc0d56a160fca6c44fbea4d056fce1339144', 'message': 'Fix inconsistencies in lower-constraints\n\nPip 20.3 starts to check requirements of all installed python libraries\nare compatibile. It detects some inconsistencies in lower-constraints.\nThis commit fixes them.\n\n* alembic min version is bumped to match oslo.db requirements.\n* oslo.messaging 7.0.0 and kombu 4.6.1 in lower-constraints are\n  incompatible. oslo.messaging requirement is bumped to 12.5.0\n  (which is a branch point of stable/victoria).\n* The min versions of oslo.messaging dependencies are updated accordingly.\n* bandit 1.6.3 is actually used. The min version is bumped to match this.\n* PyYAML lower-constraint is bumped to 5.3.1 to match bandit requirements.\n\nChange-Id: I29f5e77ca6ded86248963fae68719ccbaab7c242\n'}]",0,766729,bb9abc0d56a160fca6c44fbea4d056fce1339144,5,3,1,841,,,0,"Fix inconsistencies in lower-constraints

Pip 20.3 starts to check requirements of all installed python libraries
are compatibile. It detects some inconsistencies in lower-constraints.
This commit fixes them.

* alembic min version is bumped to match oslo.db requirements.
* oslo.messaging 7.0.0 and kombu 4.6.1 in lower-constraints are
  incompatible. oslo.messaging requirement is bumped to 12.5.0
  (which is a branch point of stable/victoria).
* The min versions of oslo.messaging dependencies are updated accordingly.
* bandit 1.6.3 is actually used. The min version is bumped to match this.
* PyYAML lower-constraint is bumped to 5.3.1 to match bandit requirements.

Change-Id: I29f5e77ca6ded86248963fae68719ccbaab7c242
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/29/766729/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt']",3,bb9abc0d56a160fca6c44fbea4d056fce1339144,l-c-fix,alembic==0.9.6 amqp==2.5.2kombu==4.6.6oslo.messaging==12.5.0oslo.utils==3.37.0PyYAML==5.3.1tenacity==4.4.0,alembic==0.8.10 amqp==2.1.1kombu==4.6.1oslo.messaging==7.0.0oslo.utils==3.33.0PyYAML==3.13tenacity==3.2.1,10,10
openstack%2Fcloudkitty~master~Ie19d0cbc298bb1d9995b3eba65a5de9eb88b4775,openstack/cloudkitty,master,Ie19d0cbc298bb1d9995b3eba65a5de9eb88b4775,Remove __unicode__() from cloudkitty common policy file,ABANDONED,2021-01-08 09:20:55.000000000,2021-01-08 09:34:15.000000000,,[],"[{'number': 1, 'created': '2021-01-08 09:20:55.000000000', 'files': ['cloudkitty/common/policy.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/293fe64c886467f9a1b01be65ebfe170ec9d4e47', 'message': 'Remove __unicode__() from cloudkitty common policy file\n\nThis is no longer needed in Python 3.\n\nChange-Id: Ie19d0cbc298bb1d9995b3eba65a5de9eb88b4775\n'}]",0,769893,293fe64c886467f9a1b01be65ebfe170ec9d4e47,2,0,1,30384,,,0,"Remove __unicode__() from cloudkitty common policy file

This is no longer needed in Python 3.

Change-Id: Ie19d0cbc298bb1d9995b3eba65a5de9eb88b4775
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/93/769893/1 && git format-patch -1 --stdout FETCH_HEAD,['cloudkitty/common/policy.py'],1,293fe64c886467f9a1b01be65ebfe170ec9d4e47,,, def __unicode__(self): return six.text_type(self.msg) ,0,3
openstack%2Fcharm-cinder-ceph~master~I5f9139294c63f1adec3bbbe3bb9c99b2e7f5413b,openstack/charm-cinder-ceph,master,I5f9139294c63f1adec3bbbe3bb9c99b2e7f5413b,Implement new relation: 'ceph-replication-device',MERGED,2020-11-24 16:08:01.000000000,2021-01-08 09:30:47.000000000,2021-01-08 09:30:47.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-11-24 16:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/a14a3f6aa2873c7577f66691b6f40ab0bc5f759c', 'message': ""Implement new relation: 'ceph-replication-device'\n\nAdd CephReplicationDeviceContext Class\nAdd CinderCephContext Class\n\nCo-authored-by: Ionut Balutoiu <ibalutoiu@cloudbasesolutions.com>\nChange-Id: I5f9139294c63f1adec3bbbe3bb9c99b2e7f5413b\n""}, {'number': 2, 'created': '2020-11-25 13:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/2a91cf340f600b019d761608fec9db67421b3f4e', 'message': ""Implement new relation: 'ceph-replication-device'\n\nAdd CephReplicationDeviceContext Class\nAdd CinderCephContext Class\n\nCo-authored-by: Ionut Balutoiu <ibalutoiu@cloudbasesolutions.com>\nChange-Id: I5f9139294c63f1adec3bbbe3bb9c99b2e7f5413b\n""}, {'number': 3, 'created': '2020-12-02 10:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/762d9e6b2bbd41f2c75f03d881e0747f338122b3', 'message': ""Implement new relation: 'ceph-replication-device'\n\nAdd CephReplicationDeviceContext Class\nAdd CinderCephContext Class\n\nCo-authored-by: Ionut Balutoiu <ibalutoiu@cloudbasesolutions.com>\nChange-Id: I5f9139294c63f1adec3bbbe3bb9c99b2e7f5413b\n""}, {'number': 4, 'created': '2020-12-02 11:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/5dd45fe61da5a4a8d865eea7d1fc44e90826eab3', 'message': ""Implement new relation: 'ceph-replication-device'\n\nAdd CephReplicationDeviceContext Class\nAdd CinderCephContext Class\n\nCo-authored-by: Ionut Balutoiu <ibalutoiu@cloudbasesolutions.com>\nChange-Id: I5f9139294c63f1adec3bbbe3bb9c99b2e7f5413b\n""}, {'number': 5, 'created': '2020-12-15 13:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/b3c06cc51d7f9054250e36a87b967e768d07e5be', 'message': ""Implement new relation: 'ceph-replication-device'\n\nAdd CephReplicationDeviceContext Class\nAdd CinderCephContext Class\n\nCo-authored-by: Ionut Balutoiu <ibalutoiu@cloudbasesolutions.com>\nChange-Id: I5f9139294c63f1adec3bbbe3bb9c99b2e7f5413b\n""}, {'number': 6, 'created': '2020-12-15 13:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/035e610627bcf0c5fa899571f13c8153959a0ee7', 'message': ""Implement new relation: 'ceph-replication-device'\n\nAdd CephReplicationDeviceContext Class\nAdd CinderCephContext Class\n\nCo-authored-by: Ionut Balutoiu <ibalutoiu@cloudbasesolutions.com>\nChange-Id: I5f9139294c63f1adec3bbbe3bb9c99b2e7f5413b\n""}, {'number': 7, 'created': '2020-12-17 19:49:35.000000000', 'files': ['unit_tests/test_cinder_hooks.py', 'unit_tests/test_cinder_utils.py', 'hooks/cinder_contexts.py', 'unit_tests/test_cinder_contexts.py', 'hooks/cinder_hooks.py', 'hooks/cinder_utils.py', 'hooks/ceph-replication-device-relation-joined', 'hooks/ceph-replication-device-relation-broken', 'metadata.yaml', 'hooks/ceph-replication-device-relation-changed'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/3ff94b3581abcc7a29feaf45f4df324f14c7f272', 'message': ""Implement new relation: 'ceph-replication-device'\n\nAdd CephReplicationDeviceContext Class\nAdd CinderCephContext Class\n\nCo-authored-by: Ionut Balutoiu <ibalutoiu@cloudbasesolutions.com>\nChange-Id: I5f9139294c63f1adec3bbbe3bb9c99b2e7f5413b\n""}]",1,764004,3ff94b3581abcc7a29feaf45f4df324f14c7f272,36,3,7,32431,,,0,"Implement new relation: 'ceph-replication-device'

Add CephReplicationDeviceContext Class
Add CinderCephContext Class

Co-authored-by: Ionut Balutoiu <ibalutoiu@cloudbasesolutions.com>
Change-Id: I5f9139294c63f1adec3bbbe3bb9c99b2e7f5413b
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/04/764004/6 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_cinder_hooks.py', 'unit_tests/test_cinder_utils.py', 'hooks/cinder_contexts.py', 'hooks/cinder_hooks.py', 'unit_tests/test_cinder_contexts.py', 'hooks/cinder_utils.py', 'hooks/ceph-replication-device-relation-joined', 'hooks/ceph-replication-device-relation-broken', 'metadata.yaml', 'hooks/ceph-replication-device-relation-changed']",10,a14a3f6aa2873c7577f66691b6f40ab0bc5f759c,cinder-ceph-replication,cinder_hooks.py,,260,15
openstack%2Fneutron-lib~master~Idab9c736c297e6b4db0eb7ff2504e6ad6c52ac74,openstack/neutron-lib,master,Idab9c736c297e6b4db0eb7ff2504e6ad6c52ac74,Remove Context.session check with new engine facade,ABANDONED,2020-11-06 11:39:38.000000000,2021-01-08 09:30:23.000000000,,"[{'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-06 11:39:38.000000000', 'files': ['neutron_lib/context.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c44b4ea11edc6770c21abbcdc18d886f436b7c35', 'message': 'Remove Context.session check with new engine facade\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: Idab9c736c297e6b4db0eb7ff2504e6ad6c52ac74\n'}]",1,761729,c44b4ea11edc6770c21abbcdc18d886f436b7c35,4,4,1,16688,,,0,"Remove Context.session check with new engine facade

Partially-Implements blueprint: enginefacade-switch

Change-Id: Idab9c736c297e6b4db0eb7ff2504e6ad6c52ac74
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/29/761729/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/context.py'],1,c44b4ea11edc6770c21abbcdc18d886f436b7c35,bp/enginefacade-switch,," # TODO(akamyshnikova): checking for session attribute won't be needed # when reader and writer will be used if hasattr(super(Context, self), 'session'): if self._session: warnings.warn('context.session is used with and without ' 'new enginefacade. Please update the code to ' 'use new enginefacede consistently.', DeprecationWarning) return super(Context, self).session",0,9
openstack%2Fovsdbapp~master~I7f31ee368ad26acd80ebbbd5ffce2fc0fc5eb25a,openstack/ovsdbapp,master,I7f31ee368ad26acd80ebbbd5ffce2fc0fc5eb25a,Add NB_Global get method,ABANDONED,2020-11-14 09:42:32.000000000,2021-01-08 09:30:06.000000000,,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-14 09:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/01c49f381a29c585e22d101f46e9eb35c385c462', 'message': '[WIP] Add NB Global get parameter method\n\nSTILL UNDER DEVELOPMENT\n\nChange-Id: I7f31ee368ad26acd80ebbbd5ffce2fc0fc5eb25a\nRelated-Bug: #1888878\n'}, {'number': 2, 'created': '2020-11-14 15:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/3e2d5bfc9368aa88b0b0ace2858b5b27418ce081', 'message': 'Add NB_Global get parameter method\n\nRetrieve a parameter from the NB_Global single row. This table must\nhave only one single register.\n\nIn case the parameter given is not present in the row,\n""AttributeError"" exception will be raisen.\n\nThis method is based on ""BaseCommand"". The client using this\nimplementation will be constrain to the OVSDB connection lock\nenforced in the API, instead of accessing directly to the\nin-memory DB cache. That could lead to sync errors as reported\nin the related bug.\n\nChange-Id: I7f31ee368ad26acd80ebbbd5ffce2fc0fc5eb25a\nRelated-Bug: #1888878\n'}, {'number': 3, 'created': '2020-11-14 17:01:13.000000000', 'files': ['ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/d5278cf79b3d66cb76cab1142dd6d975a97b6df1', 'message': 'Add NB_Global get method\n\nRetrieves, from the NB_Global table, the first and only row that\nshould be present. If ""parameter"" is passed, only the column\nmatching to this input variable will be returned.\n\nIn case the parameter given is not present in the row,\n""AttributeError"" exception will be raisen.\n\nThis method is based on ""BaseCommand"". The client using this\nimplementation will be constrain to the OVSDB connection lock\nenforced in the API, instead of accessing directly to the\nin-memory DB cache. That could lead to sync errors as reported\nin the related bug.\n\nChange-Id: I7f31ee368ad26acd80ebbbd5ffce2fc0fc5eb25a\nRelated-Bug: #1888878\n'}]",0,762730,d5278cf79b3d66cb76cab1142dd6d975a97b6df1,6,3,3,16688,,,0,"Add NB_Global get method

Retrieves, from the NB_Global table, the first and only row that
should be present. If ""parameter"" is passed, only the column
matching to this input variable will be returned.

In case the parameter given is not present in the row,
""AttributeError"" exception will be raisen.

This method is based on ""BaseCommand"". The client using this
implementation will be constrain to the OVSDB connection lock
enforced in the API, instead of accessing directly to the
in-memory DB cache. That could lead to sync errors as reported
in the related bug.

Change-Id: I7f31ee368ad26acd80ebbbd5ffce2fc0fc5eb25a
Related-Bug: #1888878
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/30/762730/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/schema/ovn_northbound/api.py', 'ovsdbapp/schema/ovn_northbound/impl_idl.py', 'ovsdbapp/schema/ovn_northbound/commands.py', 'ovsdbapp/tests/functional/schema/ovn_northbound/test_impl_idl.py']",4,01c49f381a29c585e22d101f46e9eb35c385c462,bug/1888878," class TestNBGlobalGetParameter(OvnNorthboundTest): def test_get_nb_global_parameter(self): options = self.api.nb_global_get_parameter('options').execute() self.assertTrue(isinstance(options, dict)) connections = self.api.nb_global_get_parameter('connections').execute() self.assertTrue(isinstance(connections, list)) ipsec = self.api.nb_global_get_parameter('ipsec').execute() self.assertTrue(isinstance(ipsec, bool)) name = self.api.nb_global_get_parameter('name').execute() self.assertTrue(isinstance(name, str)) cmd = self.api.nb_global_get_parameter('non_existing_parameter') self.assertRaises(AttributeError, cmd.execute, check_error=True)",,42,0
openstack%2Fdevstack~stable%2Ftrain~I1404bf13ef795de400cb490cdd68a944aef56840,openstack/devstack,stable/train,I1404bf13ef795de400cb490cdd68a944aef56840,Cap setuptools to 44.1.1 with Python 2.7,ABANDONED,2020-10-02 14:01:25.000000000,2021-01-08 09:30:02.000000000,,"[{'_account_id': 5263}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 29963}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-10-02 14:01:25.000000000', 'files': ['tools/cap-pip.txt'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1b83baef91ba861a91ed0ff264290219193986f8', 'message': 'Cap setuptools to 44.1.1 with Python 2.7\n\nThis is a workaround until some CI servers update the pypi cache.\nThis will enforce the installation of the higher setuptools version\nsupported with Python 2.7 when installing pip.\n\nChange-Id: I1404bf13ef795de400cb490cdd68a944aef56840\nRelated-Bug: #1898178\n'}]",2,755794,1b83baef91ba861a91ed0ff264290219193986f8,21,8,1,16688,,,0,"Cap setuptools to 44.1.1 with Python 2.7

This is a workaround until some CI servers update the pypi cache.
This will enforce the installation of the higher setuptools version
supported with Python 2.7 when installing pip.

Change-Id: I1404bf13ef795de400cb490cdd68a944aef56840
Related-Bug: #1898178
",git fetch https://review.opendev.org/openstack/devstack refs/changes/94/755794/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/cap-pip.txt'],1,1b83baef91ba861a91ed0ff264290219193986f8,bug/1898178,setuptools===44.1.1;python_version=='2.7',,1,0
openstack%2Fneutron~master~Ice41cdcfa1fa8fa7195c3b14605d2bea59dab36b,openstack/neutron,master,Ice41cdcfa1fa8fa7195c3b14605d2bea59dab36b,[WIP] Remove unnecesary router DB register retrieval,ABANDONED,2020-12-24 16:17:32.000000000,2021-01-08 09:23:13.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-24 16:17:32.000000000', 'files': ['neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ca94248649db5d6799b8b6d674aa88ca45161a0', 'message': '[WIP] Remove unnecesary router DB register retrieval\n\nChange-Id: Ice41cdcfa1fa8fa7195c3b14605d2bea59dab36b\n'}]",0,768480,7ca94248649db5d6799b8b6d674aa88ca45161a0,6,2,1,16688,,,0,"[WIP] Remove unnecesary router DB register retrieval

Change-Id: Ice41cdcfa1fa8fa7195c3b14605d2bea59dab36b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/768480/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_db.py'],1,7ca94248649db5d6799b8b6d674aa88ca45161a0,remove_router_retrieval," # with db_utils.context_if_transaction( # context, not context.session.is_active, writer=False): # router_db = self._get_router(context, router_id) self._update_router_gw_info(context, router_id, gw_info) # gw_info, router=router_db)"," with db_utils.context_if_transaction( context, not context.session.is_active, writer=False): router_db = self._get_router(context, router_id) self._update_router_gw_info(context, router_id, gw_info, router=router_db)",5,5
openstack%2Fcinder~stable%2Ftrain~I8c445058a25c2eca2fda91bdeb6befedae34ccf2,openstack/cinder,stable/train,I8c445058a25c2eca2fda91bdeb6befedae34ccf2,Do not fail when depth is greater than rbd_max_clone_depth,MERGED,2020-11-03 15:27:31.000000000,2021-01-08 09:13:23.000000000,2021-01-08 04:45:24.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7130}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28182}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-11-03 15:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0a3345cc0589f93e09bf55e02502e14f6e58e70e', 'message': 'Do not fail when depth is greater than rbd_max_clone_depth\n\nRemoved a sanity check in the code that raised an exception\nif the clone depth of a volume to be cloned exceeded the\nrbd_max_clone_depth config value.  A consequence of this\ncheck was that if an operator lowered the value, volumes\nwhose clone depth was greater than the new value (as would\nbe allowed by the previous, higher setting) could no longer\nbe cloned.\n\nChange-Id: I8c445058a25c2eca2fda91bdeb6befedae34ccf2\nCloses-bug: #1901241\n(cherry picked from commit 8d8d242c3924037e6774a681efabce4893a26646)\n(cherry picked from commit 23a821b2a4bbb5696bc27044a455fc7837641111)\n(cherry picked from commit f6e5fe187ea947fd7d4624a4f456dd7e11c35c7d)\n'}, {'number': 2, 'created': '2020-11-24 12:12:12.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'releasenotes/notes/bug-1901241-361b1b361bfa5152.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/07adabef0707620b25e5fd0fd464fa09e4b88ed1', 'message': 'Do not fail when depth is greater than rbd_max_clone_depth\n\nRemoved a sanity check in the code that raised an exception\nif the clone depth of a volume to be cloned exceeded the\nrbd_max_clone_depth config value.  A consequence of this\ncheck was that if an operator lowered the value, volumes\nwhose clone depth was greater than the new value (as would\nbe allowed by the previous, higher setting) could no longer\nbe cloned.\n\nChange-Id: I8c445058a25c2eca2fda91bdeb6befedae34ccf2\nCloses-bug: #1901241\n(cherry picked from commit 8d8d242c3924037e6774a681efabce4893a26646)\n(cherry picked from commit 23a821b2a4bbb5696bc27044a455fc7837641111)\n(cherry picked from commit f6e5fe187ea947fd7d4624a4f456dd7e11c35c7d)\n'}]",0,761183,07adabef0707620b25e5fd0fd464fa09e4b88ed1,351,18,2,10459,,,0,"Do not fail when depth is greater than rbd_max_clone_depth

Removed a sanity check in the code that raised an exception
if the clone depth of a volume to be cloned exceeded the
rbd_max_clone_depth config value.  A consequence of this
check was that if an operator lowered the value, volumes
whose clone depth was greater than the new value (as would
be allowed by the previous, higher setting) could no longer
be cloned.

Change-Id: I8c445058a25c2eca2fda91bdeb6befedae34ccf2
Closes-bug: #1901241
(cherry picked from commit 8d8d242c3924037e6774a681efabce4893a26646)
(cherry picked from commit 23a821b2a4bbb5696bc27044a455fc7837641111)
(cherry picked from commit f6e5fe187ea947fd7d4624a4f456dd7e11c35c7d)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/83/761183/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'releasenotes/notes/bug-1901241-361b1b361bfa5152.yaml']",2,0a3345cc0589f93e09bf55e02502e14f6e58e70e,force_flat_args,--- fixes: - | RBD driver `bug #1901241 <https://bugs.launchpad.net/cinder/+bug/1901241>`_: Fixed an issue where decreasing the ``rbd_max_clone_depth`` configuration option would prevent volumes that had already exceeded that depth from being cloned. ,,12,8
openstack%2Fdevstack~stable%2Fussuri~Id1db503c8842477b0716fb75e953240f7982e74b,openstack/devstack,stable/ussuri,Id1db503c8842477b0716fb75e953240f7982e74b,Make sure that available_features is empty,ABANDONED,2021-01-07 13:28:12.000000000,2021-01-08 09:07:45.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 13:28:12.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/12d64cd8ef3148f2b9ed50422356d1bc0469a79e', 'message': 'Make sure that available_features is empty\n\navailable_features for Neutron tempest tests is used from Victoria to\nenable/disable tests that has no API extension.\nIt is added here to make sure that stable gating will not execute these\ntests (like for IPv6 metadata in neutron-tempest-plugin or updating\nmin_bw QoS values for port already attached to VMs)\n\nChange-Id: Id1db503c8842477b0716fb75e953240f7982e74b\nRelated-Bug: #1882804\n'}]",3,769726,12d64cd8ef3148f2b9ed50422356d1bc0469a79e,6,2,1,8313,,,0,"Make sure that available_features is empty

available_features for Neutron tempest tests is used from Victoria to
enable/disable tests that has no API extension.
It is added here to make sure that stable gating will not execute these
tests (like for IPv6 metadata in neutron-tempest-plugin or updating
min_bw QoS values for port already attached to VMs)

Change-Id: Id1db503c8842477b0716fb75e953240f7982e74b
Related-Bug: #1882804
",git fetch https://review.opendev.org/openstack/devstack refs/changes/26/769726/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,12d64cd8ef3148f2b9ed50422356d1bc0469a79e,support-move-ops-with-qos-ports-ussuri," # This feature list for Neutron used from Victoria, the aim is to skip tests # for features in Neutron that has no API extension, or can't be detected # otherwise from the API. # It is added here to avoid stable gating to run these tests (like for IPv6 metadata # in neutron-tempest-plugin or updating min_bw QoS values for ports already attached # to VMs) local network_available_features="""" iniset $TEMPEST_CONFIG network-feature-enabled available_features $network_available_features",,9,0
openstack%2Fcharm-ceph-iscsi~master~I8850f0998f360c36c7af3e5e430129cd8063309c,openstack/charm-ceph-iscsi,master,I8850f0998f360c36c7af3e5e430129cd8063309c,Permit Four Gateways,MERGED,2020-11-06 14:55:45.000000000,2021-01-08 08:57:33.000000000,2021-01-08 08:57:33.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-11-06 14:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/16f2f68490e77449514816667d9e77fe1d7e13bd', 'message': 'Permit Four Gateways\n\nAllow clusters of 2 or 4 units.\n\nChange-Id: I8850f0998f360c36c7af3e5e430129cd8063309c\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/456\n'}, {'number': 2, 'created': '2021-01-07 09:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/7e24d058a629b2f1273a02d332854d94be64e833', 'message': 'Permit Four Gateways\n\nAllow clusters of 2 or 4 units.\n\nChange-Id: I8850f0998f360c36c7af3e5e430129cd8063309c\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/456\n'}, {'number': 3, 'created': '2021-01-07 15:38:13.000000000', 'files': ['tests/bundles/focal.yaml', 'src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/d6a9516ecbc4cf84a18a3082e154bce25d69aba4', 'message': 'Permit Four Gateways\n\nAllow clusters of 2 or 4 units.\n\nChange-Id: I8850f0998f360c36c7af3e5e430129cd8063309c\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/456\n'}]",1,761753,d6a9516ecbc4cf84a18a3082e154bce25d69aba4,16,4,3,12549,,,0,"Permit Four Gateways

Allow clusters of 2 or 4 units.

Change-Id: I8850f0998f360c36c7af3e5e430129cd8063309c
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/456
",git fetch https://review.opendev.org/openstack/charm-ceph-iscsi refs/changes/53/761753/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal.yaml', 'src/charm.py']",2,16f2f68490e77449514816667d9e77fe1d7e13bd,support-4-gateways," ALLOWED_UNIT_COUNTS = [2, 4]", ALLOWED_UNIT_COUNTS = [2],6,2
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fussuri~Ib50b8a85cddcfffcfa54dc39580f92f7305c7c4a,openstack/openstack-ansible-lxc_hosts,stable/ussuri,Ib50b8a85cddcfffcfa54dc39580f92f7305c7c4a,Add trusted.gpg to the copy_from_host list for 20.04,MERGED,2021-01-07 21:05:08.000000000,2021-01-08 08:50:24.000000000,2021-01-08 08:49:08.000000000,"[{'_account_id': 13252}, {'_account_id': 18675}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-07 21:05:08.000000000', 'files': ['vars/ubuntu-20.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/e247e9544ae91bb28fed4755f05dfb99f3be0769', 'message': 'Add trusted.gpg to the copy_from_host list for 20.04\n\nWithout this, installing containers on a host that uses a non-default repo\nsource will fail.\n\nChange-Id: Ib50b8a85cddcfffcfa54dc39580f92f7305c7c4a\n(cherry picked from commit 47df1aa66990f4dbb83bd07d1a328af06be5cf57)\n'}]",0,769743,e247e9544ae91bb28fed4755f05dfb99f3be0769,10,5,1,25023,,,0,"Add trusted.gpg to the copy_from_host list for 20.04

Without this, installing containers on a host that uses a non-default repo
source will fail.

Change-Id: Ib50b8a85cddcfffcfa54dc39580f92f7305c7c4a
(cherry picked from commit 47df1aa66990f4dbb83bd07d1a328af06be5cf57)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/43/769743/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu-20.04.yml'],1,e247e9544ae91bb28fed4755f05dfb99f3be0769,fix-apt-gpg-focal-stable/ussuri, - /etc/apt/trusted.gpg,,1,0
openstack%2Frpm-packaging~master~I1ca2f2dd5194a3b64fb79755dab2acb0da47e0f4,openstack/rpm-packaging,master,I1ca2f2dd5194a3b64fb79755dab2acb0da47e0f4,horizon: fix path in sample config for suse,MERGED,2021-01-04 15:33:53.000000000,2021-01-08 08:33:41.000000000,2021-01-08 08:33:41.000000000,"[{'_account_id': 1916}, {'_account_id': 6593}, {'_account_id': 8482}, {'_account_id': 13294}, {'_account_id': 17246}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-01-04 15:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bc5124cca12da501e45a2bddb158dd44c54266a8', 'message': 'horizon: fix path in sample config for suse\n\nThe package is installed to a different path when not on rdo, make them\nthe same so it works.\n\nChange-Id: I1ca2f2dd5194a3b64fb79755dab2acb0da47e0f4\n'}, {'number': 2, 'created': '2021-01-04 19:32:08.000000000', 'files': ['openstack/horizon/openstack-dashboard.conf.sample.suse'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f09fa44e2fdacdb741be2810723944428b9f86e0', 'message': 'horizon: fix path in sample config for suse\n\nThe package is installed to a different path when not on rdo, make them\nthe same so it works.\n\nChange-Id: I1ca2f2dd5194a3b64fb79755dab2acb0da47e0f4\n'}]",0,769153,f09fa44e2fdacdb741be2810723944428b9f86e0,21,9,2,12907,,,0,"horizon: fix path in sample config for suse

The package is installed to a different path when not on rdo, make them
the same so it works.

Change-Id: I1ca2f2dd5194a3b64fb79755dab2acb0da47e0f4
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/53/769153/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/horizon/openstack-dashboard.conf.sample.suse'],1,bc5124cca12da501e45a2bddb158dd44c54266a8,, WSGIScriptAlias / /srv/www/openstack-dashboard/openstack_dashboard/wsgi.py DocumentRoot /srv/www/openstack-dashboard/ Alias /media /srv/www/openstack-dashboard/media Alias /static /srv/www/openstack-dashboard/static <Directory /srv/www/openstack-dashboard/> DocumentRoot /srv/www/openstack-dashboard/ Alias /media /srv/www/openstack-dashboard/media Alias /static /srv/www/openstack-dashboard/static <Directory /srv/www/openstack-dashboard/>, WSGIScriptAlias / /var/lib/openstack-dashboard/openstack_dashboard/wsgi.py DocumentRoot /var/lib/openstack-dashboard/ Alias /media /var/lib/openstack-dashboard/media Alias /static /var/lib/openstack-dashboard/static <Directory /var/lib/openstack-dashboard/> DocumentRoot /var/lib/openstack-dashboard/ Alias /media /var/lib/openstack-dashboard/media Alias /static /var/lib/openstack-dashboard/static <Directory /var/lib/openstack-dashboard/>,9,9
openstack%2Frequirements~stable%2Fussuri~I8bd114bd3893663232db74157e1aecac8bbb8b6f,openstack/requirements,stable/ussuri,I8bd114bd3893663232db74157e1aecac8bbb8b6f,update constraint for os-brick to new release 3.0.4,MERGED,2020-12-08 16:00:04.000000000,2021-01-08 08:31:59.000000000,2021-01-08 08:31:59.000000000,"[{'_account_id': 6593}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-08 16:00:04.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8016ad740ca6d72cfa1afb4061e82227285a54fc', 'message': 'update constraint for os-brick to new release 3.0.4\n\nmeta: version: 3.0.4\nmeta: diff-start: -\nmeta: series: ussuri\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Rajat Dhasmana <rajatdhasmana@gmail.com>\nmeta: release:Commit: Rajat Dhasmana <rajatdhasmana@gmail.com>\nmeta: release:Change-Id: I922ad4fb5c5fe5eaeee6467c4d55fddef4fabe86\nmeta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Code-Review+1: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: I8bd114bd3893663232db74157e1aecac8bbb8b6f\n'}]",0,766032,8016ad740ca6d72cfa1afb4061e82227285a54fc,23,4,1,11131,,,0,"update constraint for os-brick to new release 3.0.4

meta: version: 3.0.4
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Rajat Dhasmana <rajatdhasmana@gmail.com>
meta: release:Commit: Rajat Dhasmana <rajatdhasmana@gmail.com>
meta: release:Change-Id: I922ad4fb5c5fe5eaeee6467c4d55fddef4fabe86
meta: release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta: release:Code-Review+1: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta: release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta: release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: I8bd114bd3893663232db74157e1aecac8bbb8b6f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/32/766032/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8016ad740ca6d72cfa1afb4061e82227285a54fc,new-release,os-brick===3.0.4,os-brick===3.0.3,1,1
openstack%2Fswift~stable%2Ftrain~I294d5350e2f418614e54ff7bdd47dff16bfdcdbc,openstack/swift,stable/train,I294d5350e2f418614e54ff7bdd47dff16bfdcdbc,[stable-only] Cap bandit to 1.6.2,MERGED,2020-12-09 12:39:59.000000000,2021-01-08 07:53:57.000000000,2021-01-08 07:50:36.000000000,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-09 12:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1f2326cd7cf5f8e32a55091f976f917093a0bede', 'message': '[stable-only] Cap bandit to 1.6.2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nCloses-Bug: #1907438\nChange-Id: I294d5350e2f418614e54ff7bdd47dff16bfdcdbc\n'}, {'number': 2, 'created': '2020-12-22 13:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/eb50e7e642669c50240be48467d4dd112f339b45', 'message': '[stable-only] Cap bandit to 1.6.2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nDepends-On: https://review.opendev.org/c/openstack/swift/+/766489\nCloses-Bug: #1907438\nChange-Id: I294d5350e2f418614e54ff7bdd47dff16bfdcdbc\n'}, {'number': 3, 'created': '2020-12-22 18:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5462860dea35fbdb184e0e7fb56f13574019335e', 'message': '[stable-only] Cap bandit to 1.6.2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/768256\nCloses-Bug: #1907438\nChange-Id: I294d5350e2f418614e54ff7bdd47dff16bfdcdbc\n'}, {'number': 4, 'created': '2020-12-23 00:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/182982d55b2ac241cb6b35e70bfbf11a7d80cd3c', 'message': '[stable-only] Cap bandit to 1.6.2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/768256\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/768257\nCloses-Bug: #1907438\nChange-Id: I294d5350e2f418614e54ff7bdd47dff16bfdcdbc\n'}, {'number': 5, 'created': '2020-12-23 08:51:20.000000000', 'files': ['test-requirements.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/d63b7013a8e363200ad5c2c5c039b37aa7881878', 'message': '[stable-only] Cap bandit to 1.6.2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\nswift-multinode-rolling-upgrade is also made non-voting in order for\nthis change to land as we cannot deploy from stable/train without this\nchange.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/768256\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/768257\nCloses-Bug: #1907438\nChange-Id: I294d5350e2f418614e54ff7bdd47dff16bfdcdbc\n'}]",0,766214,d63b7013a8e363200ad5c2c5c039b37aa7881878,40,3,5,10135,,,0,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2
when using py2.

swift-multinode-rolling-upgrade is also made non-voting in order for
this change to land as we cannot deploy from stable/train without this
change.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615

Depends-On: https://review.opendev.org/c/openstack/devstack/+/768256
Depends-On: https://review.opendev.org/c/openstack/devstack/+/768257
Closes-Bug: #1907438
Change-Id: I294d5350e2f418614e54ff7bdd47dff16bfdcdbc
",git fetch https://review.opendev.org/openstack/swift refs/changes/14/766214/4 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,1f2326cd7cf5f8e32a55091f976f917093a0bede,bug/1907438,"bandit>=1.1.0,<=1.6.2 # Apache-2.0",bandit>=1.1.0 # Apache-2.0,1,1
openstack%2Fheat~master~I18efbbbe211a42325a946f5ca74b4e26bfb3316e,openstack/heat,master,I18efbbbe211a42325a946f5ca74b4e26bfb3316e,Fix multiple gate issues,MERGED,2021-01-06 11:27:06.000000000,2021-01-08 07:00:50.000000000,2021-01-08 06:58:54.000000000,"[{'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-01-06 11:27:06.000000000', 'files': ['heat/tests/db/test_sqlalchemy_api.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/f4ab9d0bc05e92f5cfb0067435d0acbb7a284695', 'message': 'Fix multiple gate issues\n\n- Remove B322 bandit from exclusions\n- Fix tests for db resource update exposed by SQLAlchemy>=1.3.21\n\nChange-Id: I18efbbbe211a42325a946f5ca74b4e26bfb3316e\n'}]",0,769523,f4ab9d0bc05e92f5cfb0067435d0acbb7a284695,8,3,1,8833,,,0,"Fix multiple gate issues

- Remove B322 bandit from exclusions
- Fix tests for db resource update exposed by SQLAlchemy>=1.3.21

Change-Id: I18efbbbe211a42325a946f5ca74b4e26bfb3316e
",git fetch https://review.opendev.org/openstack/heat refs/changes/23/769523/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/db/test_sqlalchemy_api.py', 'tox.ini']",2,f4ab9d0bc05e92f5cfb0067435d0acbb7a284695,," bandit -r heat -x tests --skip B101,B104,B107,B110,B310,B311,B404,B410,B504,B506,B603,B607"," # B322: The input method is safe in Python 3. bandit -r heat -x tests --skip B101,B104,B107,B110,B310,B311,B322,B404,B410,B504,B506,B603,B607",10,10
openstack%2Fswift~master~I27ff441ed746f2919bcf9ca9a77c26371b18540b,openstack/swift,master,I27ff441ed746f2919bcf9ca9a77c26371b18540b,Remove vendor names from deployment guide,MERGED,2021-01-07 10:11:58.000000000,2021-01-08 05:57:36.000000000,2021-01-08 05:55:54.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 10:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/90361febc72141b854d562b153ecb9b981ad8236', 'message': 'Remove vendor names from deployment guide\n\nChange-Id: I27ff441ed746f2919bcf9ca9a77c26371b18540b\nCloses-Bug: #1719887\n'}, {'number': 2, 'created': '2021-01-07 10:23:29.000000000', 'files': ['doc/source/deployment_guide.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/90c64ba09654b00b80790cfd0aceb2d13b127623', 'message': 'Remove vendor names from deployment guide\n\nAlso fix link to python paste.\n\nCloses-Bug: #1734740\nCloses-Bug: #1719887\nChange-Id: I27ff441ed746f2919bcf9ca9a77c26371b18540b\n'}]",1,769699,90c64ba09654b00b80790cfd0aceb2d13b127623,9,2,2,7847,,,0,"Remove vendor names from deployment guide

Also fix link to python paste.

Closes-Bug: #1734740
Closes-Bug: #1719887
Change-Id: I27ff441ed746f2919bcf9ca9a77c26371b18540b
",git fetch https://review.opendev.org/openstack/swift refs/changes/99/769699/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/deployment_guide.rst'],1,90361febc72141b854d562b153ecb9b981ad8236,p-deployment-guide-cleanup,"Swift is designed to run on commodity hardware. RAID on the storage drives is not required and not recommended. Swift's disk usage pattern is the worst case possible for RAID, and performance degrades very quickly using RAID 5 or 6.Alternatively, one set of servers may be dedicated to the Proxy Services and a different set of servers dedicated to the Storage Services. This allows faster networking to be configured to the proxy than the storage servers, and keeps load balancing to the proxies more manageable. Storage Services scale out horizontally as storage servers are added, and the overall API throughput can be scaled by adding more proxies.Several of the Services rely on Memcached for caching certain types of lookups, such as auth tokens, and container/account existence. Swift does not do any caching of actual object data. Memcached should be able to run on any servers that have available RAM and CPU. Typically Memcached is run on the proxy servers. The ``memcache_servers`` config option in the ``proxy-server.conf`` should contain all memcached servers.it is a good idea for all the servers). Typical deployments use NTP with a local NTP server to ensure that the system times are as close as possible. This should also be monitored to ensure that the times do not vary too much.available. A good starting point is to set the concurrency level for the proxyFor example, one operator reported using the following settings in a production Swift cluster: - Proxy servers have dual quad core processors (i.e. 8 cores); testing has shown 16 workers to be a pretty good balance when saturating a 10g network and gives good CPU utilization. - Storage server processes all run together on the same servers. These servers have dual quad core processors, for 8 cores total. The Account, Container, and Object servers are run with 8 workers each. Most of the background jobs are run at a concurrency of 1, with the exception of the replicators which are run at a concurrency of 2.The following changes have been found to be useful when running Swift on Ubuntu Server 10.04.","Swift is designed to run on commodity hardware. At Rackspace, our storage servers are currently running fairly generic 4U servers with 24 2T SATA drives and 8 cores of processing power. RAID on the storage drives is not required and not recommended. Swift's disk usage pattern is the worst case possible for RAID, and performance degrades very quickly using RAID 5 or 6.At Rackspace, we put the Proxy Services on their own servers and all of the Storage Services on the same server. This allows us to send 10g networking to the proxy and 1g to the storage servers, and keep load balancing to the proxies more manageable. Storage Services scale out horizontally as storage servers are added, and we can scale overall API throughput by adding more Proxies.Several of the Services rely on Memcached for caching certain types of lookups, such as auth tokens, and container/account existence. Swift does not do any caching of actual object data. Memcached should be able to run on any servers that have available RAM and CPU. At Rackspace, we run Memcached on the proxy servers. The ``memcache_servers`` config option in the ``proxy-server.conf`` should contain all memcached servers.it is a good idea for all the servers). At Rackspace, we use NTP with a local NTP server to ensure that the system times are as close as possible. This should also be monitored to ensure that the times do not vary too much.available. A good starting point to set the concurrency level for the proxyAt Rackspace, our Proxy servers have dual quad core processors, giving us 8 cores. Our testing has shown 16 workers to be a pretty good balance when saturating a 10g network and gives good CPU utilization. Our Storage server processes all run together on the same servers. These servers have dual quad core processors, for 8 cores total. We run the Account, Container, and Object servers with 8 workers each. Most of the background jobs are run at a concurrency of 1, with the exception of the replicators which are run at a concurrency of 2.Rackspace currently runs Swift on Ubuntu Server 10.04, and the following changes have been found to be useful for our use cases.",32,32
openstack%2Ftripleo-common~stable%2Fvictoria~Idc49a3ad3f8d52b0709abfa6b4c7eb4103f04410,openstack/tripleo-common,stable/victoria,Idc49a3ad3f8d52b0709abfa6b4c7eb4103f04410,Switch defaults to quay.io,MERGED,2020-12-10 19:54:20.000000000,2021-01-08 05:35:49.000000000,2021-01-08 05:34:06.000000000,"[{'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-10 19:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/67c321699a603ad8c95ee214f4ea57c6b1f083ca', 'message': 'Switch defaults to quay.io\n\nUpdated for victoria\n\nChange-Id: Idc49a3ad3f8d52b0709abfa6b4c7eb4103f04410\n(cherry picked from commit 38392c009022dc76a5ea4413c4b25da3895bd9ff)\n'}, {'number': 2, 'created': '2021-01-04 21:45:46.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f2430025de7ba88ab2b5982f849224ec2812abd7', 'message': 'Switch defaults to quay.io\n\nUpdated for victoria\n\nChange-Id: Idc49a3ad3f8d52b0709abfa6b4c7eb4103f04410\n(cherry picked from commit 38392c009022dc76a5ea4413c4b25da3895bd9ff)\n'}]",0,766540,f2430025de7ba88ab2b5982f849224ec2812abd7,13,5,2,14985,,,0,"Switch defaults to quay.io

Updated for victoria

Change-Id: Idc49a3ad3f8d52b0709abfa6b4c7eb4103f04410
(cherry picked from commit 38392c009022dc76a5ea4413c4b25da3895bd9ff)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/40/766540/2 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'container-images/tripleo_containers.yaml']",2,67c321699a603ad8c95ee214f4ea57c6b1f083ca,quay,- imagename: quay.io/tripleovictoria/openstack-aodh-api:current-tripleo- imagename: quay.io/tripleovictoria/openstack-aodh-evaluator:current-tripleo- imagename: quay.io/tripleovictoria/openstack-aodh-listener:current-tripleo- imagename: quay.io/tripleovictoria/openstack-aodh-notifier:current-tripleo- imagename: quay.io/tripleovictoria/openstack-barbican-api:current-tripleo- imagename: quay.io/tripleovictoria/openstack-barbican-keystone-listener:current-tripleo- imagename: quay.io/tripleovictoria/openstack-barbican-worker:current-tripleo- imagename: quay.io/tripleovictoria/openstack-ceilometer-central:current-tripleo- imagename: quay.io/tripleovictoria/openstack-ceilometer-compute:current-tripleo- imagename: quay.io/tripleovictoria/openstack-ceilometer-notification:current-tripleo- imagename: quay.io/tripleovictoria/openstack-ceilometer-ipmi:current-tripleo- imagename: quay.io/tripleovictoria/openstack-cinder-api:current-tripleo- imagename: quay.io/tripleovictoria/openstack-cinder-backup:current-tripleo- imagename: quay.io/tripleovictoria/openstack-cinder-scheduler:current-tripleo- imagename: quay.io/tripleovictoria/openstack-cinder-volume:current-tripleo- imagename: quay.io/tripleovictoria/openstack-collectd:current-tripleo- imagename: quay.io/tripleovictoria/openstack-cron:current-tripleo- imagename: quay.io/tripleovictoria/openstack-designate-api:current-tripleo- imagename: quay.io/tripleovictoria/openstack-designate-backend-bind9:current-tripleo- imagename: quay.io/tripleovictoria/openstack-designate-central:current-tripleo- imagename: quay.io/tripleovictoria/openstack-designate-mdns:current-tripleo- imagename: quay.io/tripleovictoria/openstack-designate-producer:current-tripleo- imagename: quay.io/tripleovictoria/openstack-designate-sink:current-tripleo- imagename: quay.io/tripleovictoria/openstack-designate-worker:current-tripleo- imagename: quay.io/tripleovictoria/openstack-etcd:current-tripleo- imagename: quay.io/tripleovictoria/openstack-glance-api:current-tripleo- imagename: quay.io/tripleovictoria/openstack-gnocchi-api:current-tripleo- imagename: quay.io/tripleovictoria/openstack-gnocchi-metricd:current-tripleo- imagename: quay.io/tripleovictoria/openstack-gnocchi-statsd:current-tripleo- imagename: quay.io/tripleovictoria/openstack-haproxy:current-tripleo- imagename: quay.io/tripleovictoria/openstack-heat-all:current-tripleo- imagename: quay.io/tripleovictoria/openstack-heat-api-cfn:current-tripleo- imagename: quay.io/tripleovictoria/openstack-heat-api:current-tripleo- imagename: quay.io/tripleovictoria/openstack-heat-engine:current-tripleo- imagename: quay.io/tripleovictoria/openstack-horizon:current-tripleo- imagename: quay.io/tripleovictoria/openstack-ironic-api:current-tripleo- imagename: quay.io/tripleovictoria/openstack-ironic-conductor:current-tripleo- imagename: quay.io/tripleovictoria/openstack-ironic-inspector:current-tripleo- imagename: quay.io/tripleovictoria/openstack-ironic-pxe:current-tripleo- imagename: quay.io/tripleovictoria/openstack-ironic-neutron-agent:current-tripleo- imagename: quay.io/tripleovictoria/openstack-iscsid:current-tripleo- imagename: quay.io/tripleovictoria/openstack-keepalived:current-tripleo- imagename: quay.io/tripleovictoria/openstack-keystone:current-tripleo- imagename: quay.io/tripleovictoria/openstack-manila-api:current-tripleo- imagename: quay.io/tripleovictoria/openstack-manila-scheduler:current-tripleo- imagename: quay.io/tripleovictoria/openstack-manila-share:current-tripleo- imagename: quay.io/tripleovictoria/openstack-mariadb:current-tripleo- imagename: quay.io/tripleovictoria/openstack-memcached:current-tripleo- imagename: quay.io/tripleovictoria/openstack-mistral-api:current-tripleo- imagename: quay.io/tripleovictoria/openstack-mistral-engine:current-tripleo- imagename: quay.io/tripleovictoria/openstack-mistral-executor:current-tripleo- imagename: quay.io/tripleovictoria/openstack-mistral-event-engine:current-tripleo- imagename: quay.io/tripleovictoria/openstack-multipathd:current-tripleo- imagename: quay.io/tripleovictoria/openstack-neutron-dhcp-agent:current-tripleo- imagename: quay.io/tripleovictoria/openstack-neutron-l3-agent:current-tripleo- imagename: quay.io/tripleovictoria/openstack-neutron-metadata-agent:current-tripleo- imagename: quay.io/tripleovictoria/openstack-neutron-openvswitch-agent:current-tripleo- imagename: quay.io/tripleovictoria/openstack-neutron-sriov-agent:current-tripleo- imagename: quay.io/tripleovictoria/openstack-neutron-mlnx-agent:current-tripleo- imagename: quay.io/tripleovictoria/openstack-neutron-server:current-tripleo- imagename: quay.io/tripleovictoria/openstack-neutron-metadata-agent-ovn:current-tripleo- imagename: quay.io/tripleovictoria/openstack-nova-api:current-tripleo- imagename: quay.io/tripleovictoria/openstack-nova-compute-ironic:current-tripleo- imagename: quay.io/tripleovictoria/openstack-nova-compute:current-tripleo- imagename: quay.io/tripleovictoria/openstack-nova-conductor:current-tripleo- imagename: quay.io/tripleovictoria/openstack-nova-libvirt:current-tripleo- imagename: quay.io/tripleovictoria/openstack-nova-novncproxy:current-tripleo- imagename: quay.io/tripleovictoria/openstack-nova-scheduler:current-tripleo- imagename: quay.io/tripleovictoria/openstack-novajoin-notifier:current-tripleo- imagename: quay.io/tripleovictoria/openstack-novajoin-server:current-tripleo- imagename: quay.io/tripleovictoria/openstack-octavia-api:current-tripleo- imagename: quay.io/tripleovictoria/openstack-octavia-health-manager:current-tripleo- imagename: quay.io/tripleovictoria/openstack-octavia-housekeeping:current-tripleo- imagename: quay.io/tripleovictoria/openstack-octavia-worker:current-tripleo- imagename: quay.io/tripleovictoria/openstack-ovn-controller:current-tripleo- imagename: quay.io/tripleovictoria/openstack-ovn-nb-db-server:current-tripleo- imagename: quay.io/tripleovictoria/openstack-ovn-northd:current-tripleo- imagename: quay.io/tripleovictoria/openstack-ovn-sb-db-server:current-tripleo- imagename: quay.io/tripleovictoria/openstack-placement-api:current-tripleo- imagename: quay.io/tripleovictoria/openstack-qdrouterd:current-tripleo- imagename: quay.io/tripleovictoria/openstack-rabbitmq:current-tripleo- imagename: quay.io/tripleovictoria/openstack-redis:current-tripleo- imagename: quay.io/tripleovictoria/openstack-swift-account:current-tripleo- imagename: quay.io/tripleovictoria/openstack-swift-container:current-tripleo- imagename: quay.io/tripleovictoria/openstack-swift-object:current-tripleo- imagename: quay.io/tripleovictoria/openstack-swift-proxy-server:current-tripleo- imagename: quay.io/tripleovictoria/openstack-zaqar-wsgi:current-tripleo- imagename: quay.io/tripleovictoria/openstack-tempest:current-tripleo- imagename: quay.io/tripleovictoria/openstack-rsyslog:current-tripleo,- imagename: docker.io/tripleomaster/openstack-aodh-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-aodh-evaluator:current-tripleo- imagename: docker.io/tripleomaster/openstack-aodh-listener:current-tripleo- imagename: docker.io/tripleomaster/openstack-aodh-notifier:current-tripleo- imagename: docker.io/tripleomaster/openstack-barbican-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-barbican-keystone-listener:current-tripleo- imagename: docker.io/tripleomaster/openstack-barbican-worker:current-tripleo- imagename: docker.io/tripleomaster/openstack-ceilometer-central:current-tripleo- imagename: docker.io/tripleomaster/openstack-ceilometer-compute:current-tripleo- imagename: docker.io/tripleomaster/openstack-ceilometer-notification:current-tripleo- imagename: docker.io/tripleomaster/openstack-ceilometer-ipmi:current-tripleo- imagename: docker.io/tripleomaster/openstack-cinder-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-cinder-backup:current-tripleo- imagename: docker.io/tripleomaster/openstack-cinder-scheduler:current-tripleo- imagename: docker.io/tripleomaster/openstack-cinder-volume:current-tripleo- imagename: docker.io/tripleomaster/openstack-collectd:current-tripleo- imagename: docker.io/tripleomaster/openstack-cron:current-tripleo- imagename: docker.io/tripleomaster/openstack-designate-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-designate-backend-bind9:current-tripleo- imagename: docker.io/tripleomaster/openstack-designate-central:current-tripleo- imagename: docker.io/tripleomaster/openstack-designate-mdns:current-tripleo- imagename: docker.io/tripleomaster/openstack-designate-producer:current-tripleo- imagename: docker.io/tripleomaster/openstack-designate-sink:current-tripleo- imagename: docker.io/tripleomaster/openstack-designate-worker:current-tripleo- imagename: docker.io/tripleomaster/openstack-etcd:current-tripleo- imagename: docker.io/tripleomaster/openstack-glance-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-gnocchi-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-gnocchi-metricd:current-tripleo- imagename: docker.io/tripleomaster/openstack-gnocchi-statsd:current-tripleo- imagename: docker.io/tripleomaster/openstack-haproxy:current-tripleo- imagename: docker.io/tripleomaster/openstack-heat-all:current-tripleo- imagename: docker.io/tripleomaster/openstack-heat-api-cfn:current-tripleo- imagename: docker.io/tripleomaster/openstack-heat-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-heat-engine:current-tripleo- imagename: docker.io/tripleomaster/openstack-horizon:current-tripleo- imagename: docker.io/tripleomaster/openstack-ironic-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-ironic-conductor:current-tripleo- imagename: docker.io/tripleomaster/openstack-ironic-inspector:current-tripleo- imagename: docker.io/tripleomaster/openstack-ironic-pxe:current-tripleo- imagename: docker.io/tripleomaster/openstack-ironic-neutron-agent:current-tripleo- imagename: docker.io/tripleomaster/openstack-iscsid:current-tripleo- imagename: docker.io/tripleomaster/openstack-keepalived:current-tripleo- imagename: docker.io/tripleomaster/openstack-keystone:current-tripleo- imagename: docker.io/tripleomaster/openstack-manila-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-manila-scheduler:current-tripleo- imagename: docker.io/tripleomaster/openstack-manila-share:current-tripleo- imagename: docker.io/tripleomaster/openstack-mariadb:current-tripleo- imagename: docker.io/tripleomaster/openstack-memcached:current-tripleo- imagename: docker.io/tripleomaster/openstack-mistral-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-mistral-engine:current-tripleo- imagename: docker.io/tripleomaster/openstack-mistral-executor:current-tripleo- imagename: docker.io/tripleomaster/openstack-mistral-event-engine:current-tripleo- imagename: docker.io/tripleomaster/openstack-multipathd:current-tripleo- imagename: docker.io/tripleomaster/openstack-neutron-dhcp-agent:current-tripleo- imagename: docker.io/tripleomaster/openstack-neutron-l3-agent:current-tripleo- imagename: docker.io/tripleomaster/openstack-neutron-metadata-agent:current-tripleo- imagename: docker.io/tripleomaster/openstack-neutron-openvswitch-agent:current-tripleo- imagename: docker.io/tripleomaster/openstack-neutron-sriov-agent:current-tripleo- imagename: docker.io/tripleomaster/openstack-neutron-mlnx-agent:current-tripleo- imagename: docker.io/tripleomaster/openstack-neutron-server:current-tripleo- imagename: docker.io/tripleomaster/openstack-neutron-metadata-agent-ovn:current-tripleo- imagename: docker.io/tripleomaster/openstack-nova-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-nova-compute-ironic:current-tripleo- imagename: docker.io/tripleomaster/openstack-nova-compute:current-tripleo- imagename: docker.io/tripleomaster/openstack-nova-conductor:current-tripleo- imagename: docker.io/tripleomaster/openstack-nova-libvirt:current-tripleo- imagename: docker.io/tripleomaster/openstack-nova-novncproxy:current-tripleo- imagename: docker.io/tripleomaster/openstack-nova-scheduler:current-tripleo- imagename: docker.io/tripleomaster/openstack-novajoin-notifier:current-tripleo- imagename: docker.io/tripleomaster/openstack-novajoin-server:current-tripleo- imagename: docker.io/tripleomaster/openstack-octavia-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-octavia-health-manager:current-tripleo- imagename: docker.io/tripleomaster/openstack-octavia-housekeeping:current-tripleo- imagename: docker.io/tripleomaster/openstack-octavia-worker:current-tripleo- imagename: docker.io/tripleomaster/openstack-ovn-controller:current-tripleo- imagename: docker.io/tripleomaster/openstack-ovn-nb-db-server:current-tripleo- imagename: docker.io/tripleomaster/openstack-ovn-northd:current-tripleo- imagename: docker.io/tripleomaster/openstack-ovn-sb-db-server:current-tripleo- imagename: docker.io/tripleomaster/openstack-placement-api:current-tripleo- imagename: docker.io/tripleomaster/openstack-qdrouterd:current-tripleo- imagename: docker.io/tripleomaster/openstack-rabbitmq:current-tripleo- imagename: docker.io/tripleomaster/openstack-redis:current-tripleo- imagename: docker.io/tripleomaster/openstack-swift-account:current-tripleo- imagename: docker.io/tripleomaster/openstack-swift-container:current-tripleo- imagename: docker.io/tripleomaster/openstack-swift-object:current-tripleo- imagename: docker.io/tripleomaster/openstack-swift-proxy-server:current-tripleo- imagename: docker.io/tripleomaster/openstack-zaqar-wsgi:current-tripleo- imagename: docker.io/tripleomaster/openstack-tempest:current-tripleo- imagename: docker.io/tripleomaster/openstack-rsyslog:current-tripleo,90,90
openstack%2Ftripleo-common~master~Ie7a97fd9dae85870db3c41d60f376934b089044c,openstack/tripleo-common,master,Ie7a97fd9dae85870db3c41d60f376934b089044c,Raise error when old network config templates are used,MERGED,2020-12-11 03:43:20.000000000,2021-01-08 05:35:41.000000000,2021-01-08 05:34:27.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-12-11 03:43:20.000000000', 'files': ['tripleo_common/utils/config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3c0966f671ce8255679ba31325f97e30b13ca8e1', 'message': ""Raise error when old network config templates are used\n\nWhen using 'NetworkConfigWithAnsible: False', users still need to\nconvert the old heat config templates using SoftwareConfig\nresources with [1]. Raise a proper error rather than the\ncurrent AttributeError.\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/tools/convert_nic_config.py\n\nChange-Id: Ie7a97fd9dae85870db3c41d60f376934b089044c\n""}]",0,766660,3c0966f671ce8255679ba31325f97e30b13ca8e1,14,6,1,8833,,,0,"Raise error when old network config templates are used

When using 'NetworkConfigWithAnsible: False', users still need to
convert the old heat config templates using SoftwareConfig
resources with [1]. Raise a proper error rather than the
current AttributeError.

[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/tools/convert_nic_config.py

Change-Id: Ie7a97fd9dae85870db3c41d60f376934b089044c
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/60/766660/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/config.py'],1,3c0966f671ce8255679ba31325f97e30b13ca8e1,," if role_network_config is None: raise ValueError( 'Old network config templates are possibly used, ' 'Please convert them before proceeding.') ",,5,0
openstack%2Fpython-tripleoclient~master~I54762eb6881113c67744207f53fd92cf003e0559,openstack/python-tripleoclient,master,I54762eb6881113c67744207f53fd92cf003e0559,Set DeployIndentifier early in tripleoclient-parameters.yaml,MERGED,2020-12-14 09:04:44.000000000,2021-01-08 05:35:36.000000000,2021-01-08 05:34:10.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-14 09:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5480dc8f5e1694a600dc7a91ae945c33ccb937eb', 'message': 'Set DeployIndenfier early in tripleoclient-parameters.yaml\n\nWe can set the heat parameters in the client itslef and there\nwould be no need to update plan environment and can get rid of\nthe ansible tasks for those.\n\nSame applies for RootStackName.\n\nAlso, removes multiple redundant calls to _update_parameters()\n\nChange-Id: I54762eb6881113c67744207f53fd92cf003e0559\n'}, {'number': 2, 'created': '2020-12-21 07:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b0bbc59605d7c62e4ae0a8e3eb45fe293255adef', 'message': 'Set DeployIndenfier early in tripleoclient-parameters.yaml\n\nWe can set the heat parameters in the client itslef and there\nwould be no need to update plan environment and can get rid of\nthe ansible tasks for those.\n\nSame applies for RootStackName.\n\nAlso, removes multiple redundant calls to _update_parameters()\n\nChange-Id: I54762eb6881113c67744207f53fd92cf003e0559\n'}, {'number': 3, 'created': '2021-01-05 04:55:37.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e11dcaea5d1595e15e9b346e922e4958d3e77614', 'message': 'Set DeployIndentifier early in tripleoclient-parameters.yaml\n\nWe can set the heat parameters in the client itslef and there\nwould be no need to update plan environment and can get rid of\nthe ansible tasks for those.\n\nSame applies for RootStackName.\n\nAlso, removes multiple redundant calls to _update_parameters()\n\nChange-Id: I54762eb6881113c67744207f53fd92cf003e0559\n'}]",0,766897,e11dcaea5d1595e15e9b346e922e4958d3e77614,17,4,3,8833,,,0,"Set DeployIndentifier early in tripleoclient-parameters.yaml

We can set the heat parameters in the client itslef and there
would be no need to update plan environment and can get rid of
the ansible tasks for those.

Same applies for RootStackName.

Also, removes multiple redundant calls to _update_parameters()

Change-Id: I54762eb6881113c67744207f53fd92cf003e0559
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/97/766897/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",2,5480dc8f5e1694a600dc7a91ae945c33ccb937eb,env_merging," def _update_args_from_answers_file(self, args): def _update_parameters(self, args, stack): parameters = {} stack_is_new = stack is None parameters['RootStackName'] = args.stack if not args.skip_deploy_identifier: parameters['DeployIdentifier'] = int(time.time()) else: parameters['DeployIdentifier'] = '' parameters['StackAction'] = 'CREATE' if stack_is_new else 'UPDATE' self._update_args_from_answers_file(parsed_args)"," def _update_parameters(self, args, stack): parameters = {} stack_is_new = stack is None parameters['StackAction'] = 'CREATE' if stack_is_new else 'UPDATE' self._update_parameters(parsed_args, stack) ",29,12
openstack%2Fneutron~stable%2Fvictoria~I5cbe09e26120905b29351d61bbadb30b5dd14938,openstack/neutron,stable/victoria,I5cbe09e26120905b29351d61bbadb30b5dd14938,[OVN] Fix inconsistent IGMP configuration,MERGED,2020-11-30 10:38:09.000000000,2021-01-08 05:21:11.000000000,2021-01-08 05:19:51.000000000,"[{'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-30 10:38:09.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'doc/source/admin/ovn/igmp.rst', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'releasenotes/notes/ovn-igmp-flood-unregistered-82aeb640f5dded84.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cf13776a733ebabc6bbc588e6e8ecbd9133cb2d0', 'message': '[OVN] Fix inconsistent IGMP configuration\n\nPrior to this patch the IGMP configuration for ML2/OVN was inconsistent\nwith the configuration option description and also the ML2/OVS driver\nbecause it was flooding traffic to unregistered VMs [0].\n\nThe ""igmp_snooping_enable"" configuration option says:\n\n""Setting this option to True will also enable Open vSwitch\nmcast-snooping-disable-flood-unregistered flag. This option will disable\nflooding of unregistered multicast packets to all ports.""\n\nBut, in ML2/OVN that behavior was inconsistent prior to this patch\nbecause it allowed traffic to flood to unregistered VMs. This patch\nfixes it.\n\nConflicts:\n      neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py\n      neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\n[0]\nhttps://opendev.org/openstack/neutron/src/branch/master/neutron/conf/agent/ovs_conf.py#L36-L47\n\nChange-Id: I5cbe09e26120905b29351d61bbadb30b5dd14938\nCloses-Bug: #1904399\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 9dc8bca7401106313cb227cb85d07eba7d987cb5)\n'}]",0,764629,cf13776a733ebabc6bbc588e6e8ecbd9133cb2d0,20,4,1,6773,,,0,"[OVN] Fix inconsistent IGMP configuration

Prior to this patch the IGMP configuration for ML2/OVN was inconsistent
with the configuration option description and also the ML2/OVS driver
because it was flooding traffic to unregistered VMs [0].

The ""igmp_snooping_enable"" configuration option says:

""Setting this option to True will also enable Open vSwitch
mcast-snooping-disable-flood-unregistered flag. This option will disable
flooding of unregistered multicast packets to all ports.""

But, in ML2/OVN that behavior was inconsistent prior to this patch
because it allowed traffic to flood to unregistered VMs. This patch
fixes it.

Conflicts:
      neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py
      neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py

[0]
https://opendev.org/openstack/neutron/src/branch/master/neutron/conf/agent/ovs_conf.py#L36-L47

Change-Id: I5cbe09e26120905b29351d61bbadb30b5dd14938
Closes-Bug: #1904399
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 9dc8bca7401106313cb227cb85d07eba7d987cb5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/764629/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'doc/source/admin/ovn/igmp.rst', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'releasenotes/notes/ovn-igmp-flood-unregistered-82aeb640f5dded84.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",7,cf13776a733ebabc6bbc588e6e8ecbd9133cb2d0,bug/1904399-igmp-flood-unregistered, ovn_const.MCAST_FLOOD_UNREGISTERED: 'false'}))), ovn_const.MCAST_FLOOD_UNREGISTERED: value}))),19,11
openstack%2Ftripleo-ansible~stable%2Fussuri~I278299f8f20c6b70eb3f26780f7454319059a12f,openstack/tripleo-ansible,stable/ussuri,I278299f8f20c6b70eb3f26780f7454319059a12f,Allow disabling image_params_prepare task,MERGED,2021-01-07 15:48:59.000000000,2021-01-08 05:11:24.000000000,2021-01-08 05:11:24.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-07 15:48:59.000000000', 'files': ['tripleo_ansible/playbooks/cli-create-deployment-plan.yaml', 'tripleo_ansible/playbooks/cli-update-deployment-plan.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6143ac0f60e9596de960a938581e135e2ca9921b', 'message': 'Allow disabling image_params_prepare task\n\nThis patch introduces a new parameter, disable_image_params_prepare, to\nplan management tasks, so that operators can disable the task to\nprepare image parameters during overcloud deployment.\nThis is useful when operators use an environment file to list all\ncontainer images with explicit tags used in deployment.\n\nRelated-Bug: #1896757\nChange-Id: I278299f8f20c6b70eb3f26780f7454319059a12f\n(cherry picked from commit a2632456c1269e86de2da834811f2250a46094c5)\n'}]",0,769774,6143ac0f60e9596de960a938581e135e2ca9921b,8,4,1,14985,,,0,"Allow disabling image_params_prepare task

This patch introduces a new parameter, disable_image_params_prepare, to
plan management tasks, so that operators can disable the task to
prepare image parameters during overcloud deployment.
This is useful when operators use an environment file to list all
container images with explicit tags used in deployment.

Related-Bug: #1896757
Change-Id: I278299f8f20c6b70eb3f26780f7454319059a12f
(cherry picked from commit a2632456c1269e86de2da834811f2250a46094c5)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/74/769774/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cli-create-deployment-plan.yaml', 'tripleo_ansible/playbooks/cli-update-deployment-plan.yaml']",2,6143ac0f60e9596de960a938581e135e2ca9921b,bug/1896757, disable_image_params_prepare: false when: not (disable_image_params_prepare | bool),,4,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I5d4d2b3ab3ac209f93146268f50f624588037d82,openstack/tripleo-ansible,stable/train,I5d4d2b3ab3ac209f93146268f50f624588037d82,Update for a podman_container from collection,MERGED,2021-01-07 20:41:22.000000000,2021-01-08 05:11:21.000000000,2021-01-08 05:11:21.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-07 20:41:22.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'zuul.d/molecule.yaml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/playbook.yml', 'tripleo_ansible/ansible_plugins/module_utils/podman/common.py', 'zuul.d/playbooks/pre.yml', 'tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b7f43f4a195b258c68a32540accfd1b2aeb35a58', 'message': 'Update for a podman_container from collection\n\nAnd remove docker.io from podman container tests.\n\nPodman has conflicts with installed containerd.io and\nblock train jobs. Stop installing docker for podman roles.\n\n(cherry picked from commit b6ca89d194aeb428e58f680a43c4bef700b96831)\nChange-Id: I5d4d2b3ab3ac209f93146268f50f624588037d82\n'}]",0,769831,b7f43f4a195b258c68a32540accfd1b2aeb35a58,8,4,1,10969,,,0,"Update for a podman_container from collection

And remove docker.io from podman container tests.

Podman has conflicts with installed containerd.io and
block train jobs. Stop installing docker for podman roles.

(cherry picked from commit b6ca89d194aeb428e58f680a43c4bef700b96831)
Change-Id: I5d4d2b3ab3ac209f93146268f50f624588037d82
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/31/769831/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'zuul.d/molecule.yaml', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/playbook.yml', 'tripleo_ansible/ansible_plugins/module_utils/podman/common.py', 'zuul.d/playbooks/pre.yml', 'tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py']",6,b7f43f4a195b258c68a32540accfd1b2aeb35a58,newp,"#!/usr/bin/python # Copyright (c) 2019 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from __future__ import (absolute_import, division, print_function) import json # noqa: F402 from distutils.version import LooseVersion # noqa: F402 from ansible.module_utils._text import to_bytes, to_native # noqa: F402 try: from ansible.module_utils.podman.common import lower_keys except ImportError: from tripleo_ansible.ansible_plugins.module_utils.podman.common import lower_keys # noqa: F402 __metaclass__ = type ARGUMENTS_SPEC_CONTAINER = dict( name=dict(required=True, type='str'), executable=dict(default='podman', type='str'), state=dict(type='str', default='started', choices=[ 'absent', 'present', 'stopped', 'started']), image=dict(type='str'), annotation=dict(type='dict'), authfile=dict(type='path'), blkio_weight=dict(type='int'), blkio_weight_device=dict(type='dict'), cap_add=dict(type='list', elements='str', aliases=['capabilities']), cap_drop=dict(type='list', elements='str'), cgroup_parent=dict(type='path'), cgroupns=dict(type='str'), cgroups=dict(type='str', choices=['default', 'disabled']), cidfile=dict(type='path'), cmd_args=dict(type='list', elements='str'), conmon_pidfile=dict(type='path'), command=dict(type='raw'), cpu_period=dict(type='int'), cpu_rt_period=dict(type='int'), cpu_rt_runtime=dict(type='int'), cpu_shares=dict(type='int'), cpus=dict(type='str'), cpuset_cpus=dict(type='str'), cpuset_mems=dict(type='str'), detach=dict(type='bool', default=True), debug=dict(type='bool', default=False), detach_keys=dict(type='str'), device=dict(type='list', elements='str'), device_read_bps=dict(type='list'), device_read_iops=dict(type='list'), device_write_bps=dict(type='list'), device_write_iops=dict(type='list'), dns=dict(type='list', elements='str', aliases=['dns_servers']), dns_option=dict(type='str', aliases=['dns_opts']), dns_search=dict(type='str', aliases=['dns_search_domains']), entrypoint=dict(type='str'), env=dict(type='dict'), env_file=dict(type='path'), env_host=dict(type='bool'), etc_hosts=dict(type='dict', aliases=['add_hosts']), expose=dict(type='list', elements='str', aliases=[ 'exposed', 'exposed_ports']), force_restart=dict(type='bool', default=False, aliases=['restart']), gidmap=dict(type='str'), group_add=dict(type='list', aliases=['groups']), healthcheck=dict(type='str'), healthcheck_interval=dict(type='str'), healthcheck_retries=dict(type='int'), healthcheck_start_period=dict(type='str'), healthcheck_timeout=dict(type='str'), hostname=dict(type='str'), http_proxy=dict(type='bool'), image_volume=dict(type='str', choices=['bind', 'tmpfs', 'ignore']), image_strict=dict(type='bool', default=False), init=dict(type='bool'), init_path=dict(type='str'), interactive=dict(type='bool'), ip=dict(type='str'), ipc=dict(type='str', aliases=['ipc_mode']), kernel_memory=dict(type='str'), label=dict(type='dict', aliases=['labels']), label_file=dict(type='str'), log_driver=dict(type='str', choices=[ 'k8s-file', 'journald', 'json-file']), log_level=dict( type='str', choices=[""debug"", ""info"", ""warn"", ""error"", ""fatal"", ""panic""]), log_opt=dict(type='str', aliases=['log_options']), mac_address=dict(type='str'), memory=dict(type='str'), memory_reservation=dict(type='str'), memory_swap=dict(type='str'), memory_swappiness=dict(type='int'), mount=dict(type='str'), network=dict(type='list', elements='str', aliases=['net', 'network_mode']), no_hosts=dict(type='bool'), oom_kill_disable=dict(type='bool'), oom_score_adj=dict(type='int'), pid=dict(type='str', aliases=['pid_mode']), pids_limit=dict(type='str'), pod=dict(type='str'), privileged=dict(type='bool'), publish=dict(type='list', elements='str', aliases=[ 'ports', 'published', 'published_ports']), publish_all=dict(type='bool'), read_only=dict(type='bool'), read_only_tmpfs=dict(type='bool'), recreate=dict(type='bool', default=False), restart_policy=dict(type='str'), rm=dict(type='bool', aliases=['remove', 'auto_remove']), rootfs=dict(type='bool'), security_opt=dict(type='list', elements='str'), shm_size=dict(type='str'), sig_proxy=dict(type='bool'), stop_signal=dict(type='int'), stop_timeout=dict(type='int'), subgidname=dict(type='str'), subuidname=dict(type='str'), sysctl=dict(type='dict'), systemd=dict(type='bool'), tmpfs=dict(type='dict'), tty=dict(type='bool'), uidmap=dict(type='list'), ulimit=dict(type='list', aliases=['ulimits']), user=dict(type='str'), userns=dict(type='str', aliases=['userns_mode']), uts=dict(type='str'), volume=dict(type='list', elements='str', aliases=['volumes']), volumes_from=dict(type='list', elements='str'), workdir=dict(type='str', aliases=['working_dir']) ) class PodmanModuleParams: """"""Creates list of arguments for podman CLI command. Arguments: action {str} -- action type from 'run', 'stop', 'create', 'delete', 'start' params {dict} -- dictionary of module parameters """""" def __init__(self, action, params, podman_version, module): self.params = params self.action = action self.podman_version = podman_version self.module = module def construct_command_from_params(self): """"""Create a podman command from given module parameters. Returns: list -- list of byte strings for Popen command """""" if self.action in ['start', 'stop', 'delete']: return self.start_stop_delete() if self.action in ['create', 'run']: cmd = [self.action, '--name', self.params['name']] all_param_methods = [func for func in dir(self) if callable(getattr(self, func)) and func.startswith(""addparam"")] params_set = (i for i in self.params if self.params[i] is not None) for param in params_set: func_name = ""_"".join([""addparam"", param]) if func_name in all_param_methods: cmd = getattr(self, func_name)(cmd) cmd.append(self.params['image']) if self.params['command']: if isinstance(self.params['command'], list): cmd += self.params['command'] else: cmd += self.params['command'].split() return [to_bytes(i, errors='surrogate_or_strict') for i in cmd] def start_stop_delete(self): if self.action in ['stop', 'start']: cmd = [self.action, self.params['name']] return [to_bytes(i, errors='surrogate_or_strict') for i in cmd] if self.action == 'delete': cmd = ['rm', '-f', self.params['name']] return [to_bytes(i, errors='surrogate_or_strict') for i in cmd] def check_version(self, param, minv=None, maxv=None): if minv and LooseVersion(minv) > LooseVersion( self.podman_version): self.module.fail_json(msg=""Parameter %s is supported from podman "" ""version %s only! Current version is %s"" % ( param, minv, self.podman_version)) if maxv and LooseVersion(maxv) < LooseVersion( self.podman_version): self.module.fail_json(msg=""Parameter %s is supported till podman "" ""version %s only! Current version is %s"" % ( param, minv, self.podman_version)) def addparam_annotation(self, c): for annotate in self.params['annotation'].items(): c += ['--annotation', '='.join(annotate)] return c def addparam_authfile(self, c): return c + ['--authfile', self.params['authfile']] def addparam_blkio_weight(self, c): return c + ['--blkio-weight', self.params['blkio_weight']] def addparam_blkio_weight_device(self, c): for blkio in self.params['blkio_weight_device'].items(): c += ['--blkio-weight-device', ':'.join(blkio)] return c def addparam_cap_add(self, c): for cap_add in self.params['cap_add']: c += ['--cap-add', cap_add] return c def addparam_cap_drop(self, c): for cap_drop in self.params['cap_drop']: c += ['--cap-drop', cap_drop] return c def addparam_cgroups(self, c): self.check_version('--cgroups', minv='1.6.0') return c + ['--cgroups=%s' % self.params['cgroups']] def addparam_cgroupns(self, c): self.check_version('--cgroupns', minv='1.6.2') return c + ['--cgroupns=%s' % self.params['cgroupns']] def addparam_cgroup_parent(self, c): return c + ['--cgroup-parent', self.params['cgroup_parent']] def addparam_cidfile(self, c): return c + ['--cidfile', self.params['cidfile']] def addparam_conmon_pidfile(self, c): return c + ['--conmon-pidfile', self.params['conmon_pidfile']] def addparam_cpu_period(self, c): return c + ['--cpu-period', self.params['cpu_period']] def addparam_cpu_rt_period(self, c): return c + ['--cpu-rt-period', self.params['cpu_rt_period']] def addparam_cpu_rt_runtime(self, c): return c + ['--cpu-rt-runtime', self.params['cpu_rt_runtime']] def addparam_cpu_shares(self, c): return c + ['--cpu-shares', self.params['cpu_shares']] def addparam_cpus(self, c): return c + ['--cpus', self.params['cpus']] def addparam_cpuset_cpus(self, c): return c + ['--cpuset-cpus', self.params['cpuset_cpus']] def addparam_cpuset_mems(self, c): return c + ['--cpuset-mems', self.params['cpuset_mems']] def addparam_detach(self, c): return c + ['--detach=%s' % self.params['detach']] def addparam_detach_keys(self, c): return c + ['--detach-keys', self.params['detach_keys']] def addparam_device(self, c): for dev in self.params['device']: c += ['--device', dev] return c def addparam_device_read_bps(self, c): for dev in self.params['device_read_bps']: c += ['--device-read-bps', dev] return c def addparam_device_read_iops(self, c): for dev in self.params['device_read_iops']: c += ['--device-read-iops', dev] return c def addparam_device_write_bps(self, c): for dev in self.params['device_write_bps']: c += ['--device-write-bps', dev] return c def addparam_device_write_iops(self, c): for dev in self.params['device_write_iops']: c += ['--device-write-iops', dev] return c def addparam_dns(self, c): return c + ['--dns', ','.join(self.params['dns'])] def addparam_dns_option(self, c): return c + ['--dns-option', self.params['dns_option']] def addparam_dns_search(self, c): return c + ['--dns-search', self.params['dns_search']] def addparam_entrypoint(self, c): return c + ['--entrypoint', self.params['entrypoint']] def addparam_env(self, c): for env_value in self.params['env'].items(): c += ['--env', b""="".join([to_bytes(k, errors='surrogate_or_strict') for k in env_value])] return c def addparam_env_file(self, c): return c + ['--env-file', self.params['env_file']] def addparam_env_host(self, c): self.check_version('--env-host', minv='1.5.0') return c + ['--env-host=%s' % self.params['env_host']] def addparam_etc_hosts(self, c): for host_ip in self.params['etc_hosts'].items(): c += ['--add-host', ':'.join(host_ip)] return c def addparam_expose(self, c): for exp in self.params['expose']: c += ['--expose', exp] return c def addparam_gidmap(self, c): return c + ['--gidmap', self.params['gidmap']] def addparam_group_add(self, c): for g in self.params['group_add']: c += ['--group-add', g] return c def addparam_healthcheck(self, c): return c + ['--healthcheck-command', self.params['healthcheck']] def addparam_healthcheck_interval(self, c): return c + ['--healthcheck-interval', self.params['healthcheck_interval']] def addparam_healthcheck_retries(self, c): return c + ['--healthcheck-retries', self.params['healthcheck_retries']] def addparam_healthcheck_start_period(self, c): return c + ['--healthcheck-start-period', self.params['healthcheck_start_period']] def addparam_healthcheck_timeout(self, c): return c + ['--healthcheck-timeout', self.params['healthcheck_timeout']] def addparam_hostname(self, c): return c + ['--hostname', self.params['hostname']] def addparam_http_proxy(self, c): return c + ['--http-proxy=%s' % self.params['http_proxy']] def addparam_image_volume(self, c): return c + ['--image-volume', self.params['image_volume']] def addparam_init(self, c): if self.params['init']: c += ['--init'] return c def addparam_init_path(self, c): return c + ['--init-path', self.params['init_path']] def addparam_interactive(self, c): return c + ['--interactive=%s' % self.params['interactive']] def addparam_ip(self, c): return c + ['--ip', self.params['ip']] def addparam_ipc(self, c): return c + ['--ipc', self.params['ipc']] def addparam_kernel_memory(self, c): return c + ['--kernel-memory', self.params['kernel_memory']] def addparam_label(self, c): for label in self.params['label'].items(): c += ['--label', b'='.join([to_bytes(la, errors='surrogate_or_strict') for la in label])] return c def addparam_label_file(self, c): return c + ['--label-file', self.params['label_file']] def addparam_log_driver(self, c): return c + ['--log-driver', self.params['log_driver']] def addparam_log_opt(self, c): return c + ['--log-opt', self.params['log_opt']] def addparam_log_level(self, c): return c + ['--log-level', self.params['log_level']] def addparam_mac_address(self, c): return c + ['--mac-address', self.params['mac_address']] def addparam_memory(self, c): return c + ['--memory', self.params['memory']] def addparam_memory_reservation(self, c): return c + ['--memory-reservation', self.params['memory_reservation']] def addparam_memory_swap(self, c): return c + ['--memory-swap', self.params['memory_swap']] def addparam_memory_swappiness(self, c): return c + ['--memory-swappiness', self.params['memory_swappiness']] def addparam_mount(self, c): return c + ['--mount', self.params['mount']] def addparam_network(self, c): return c + ['--network', "","".join(self.params['network'])] def addparam_no_hosts(self, c): return c + ['--no-hosts=%s' % self.params['no_hosts']] def addparam_oom_kill_disable(self, c): return c + ['--oom-kill-disable=%s' % self.params['oom_kill_disable']] def addparam_oom_score_adj(self, c): return c + ['--oom-score-adj', self.params['oom_score_adj']] def addparam_pid(self, c): return c + ['--pid', self.params['pid']] def addparam_pids_limit(self, c): return c + ['--pids-limit', self.params['pids_limit']] def addparam_pod(self, c): return c + ['--pod', self.params['pod']] def addparam_privileged(self, c): return c + ['--privileged=%s' % self.params['privileged']] def addparam_publish(self, c): for pub in self.params['publish']: c += ['--publish', pub] return c def addparam_publish_all(self, c): return c + ['--publish-all=%s' % self.params['publish_all']] def addparam_read_only(self, c): return c + ['--read-only=%s' % self.params['read_only']] def addparam_read_only_tmpfs(self, c): return c + ['--read-only-tmpfs=%s' % self.params['read_only_tmpfs']] def addparam_restart_policy(self, c): return c + ['--restart=%s' % self.params['restart_policy']] def addparam_rm(self, c): if self.params['rm']: c += ['--rm'] return c def addparam_rootfs(self, c): return c + ['--rootfs=%s' % self.params['rootfs']] def addparam_security_opt(self, c): for secopt in self.params['security_opt']: c += ['--security-opt', secopt] return c def addparam_shm_size(self, c): return c + ['--shm-size', self.params['shm_size']] def addparam_sig_proxy(self, c): return c + ['--sig-proxy=%s' % self.params['sig_proxy']] def addparam_stop_signal(self, c): return c + ['--stop-signal', self.params['stop_signal']] def addparam_stop_timeout(self, c): return c + ['--stop-timeout', self.params['stop_timeout']] def addparam_subgidname(self, c): return c + ['--subgidname', self.params['subgidname']] def addparam_subuidname(self, c): return c + ['--subuidname', self.params['subuidname']] def addparam_sysctl(self, c): for sysctl in self.params['sysctl'].items(): c += ['--sysctl', b""="".join([to_bytes(k, errors='surrogate_or_strict') for k in sysctl])] return c def addparam_systemd(self, c): return c + ['--systemd=%s' % self.params['systemd']] def addparam_tmpfs(self, c): for tmpfs in self.params['tmpfs'].items(): c += ['--tmpfs', ':'.join(tmpfs)] return c def addparam_tty(self, c): return c + ['--tty=%s' % self.params['tty']] def addparam_uidmap(self, c): for uidmap in self.params['uidmap']: c += ['--uidmap', uidmap] return c def addparam_ulimit(self, c): for u in self.params['ulimit']: c += ['--ulimit', u] return c def addparam_user(self, c): return c + ['--user', self.params['user']] def addparam_userns(self, c): return c + ['--userns', self.params['userns']] def addparam_uts(self, c): return c + ['--uts', self.params['uts']] def addparam_volume(self, c): for vol in self.params['volume']: if vol: c += ['--volume', vol] return c def addparam_volumes_from(self, c): for vol in self.params['volumes_from']: c += ['--volumes-from', vol] return c def addparam_workdir(self, c): return c + ['--workdir', self.params['workdir']] # Add your own args for podman command def addparam_cmd_args(self, c): return c + self.params['cmd_args'] class PodmanDefaults: def __init__(self, image_info, podman_version): self.version = podman_version self.image_info = image_info self.defaults = { ""blkio_weight"": 0, ""cgroups"": ""default"", ""cidfile"": """", ""cpus"": 0.0, ""cpu_shares"": 0, ""cpu_quota"": 0, ""cpu_period"": 0, ""cpu_rt_runtime"": 0, ""cpu_rt_period"": 0, ""cpuset_cpus"": """", ""cpuset_mems"": """", ""detach"": True, ""device"": [], ""env_host"": False, ""etc_hosts"": {}, ""group_add"": [], ""ipc"": """", ""kernelmemory"": ""0"", ""log_driver"": ""k8s-file"", ""log_level"": ""error"", ""memory"": ""0"", ""memory_swap"": ""0"", ""memory_reservation"": ""0"", # ""memory_swappiness"": -1, ""no_hosts"": False, # libpod issue with networks in inspection ""oom_score_adj"": 0, ""pid"": """", ""privileged"": False, ""rm"": False, ""security_opt"": [], ""stop_signal"": self.image_info['config'].get('stopsignal', ""15""), ""tty"": False, ""user"": self.image_info.get('user', ''), ""workdir"": self.image_info['config'].get('workingdir', '/'), ""uts"": """", } def default_dict(self): # make here any changes to self.defaults related to podman version # https://github.com/containers/libpod/pull/5669 if (LooseVersion(self.version) >= LooseVersion('1.8.0') and LooseVersion(self.version) < LooseVersion('1.9.0')): self.defaults['cpu_shares'] = 1024 if (LooseVersion(self.version) >= LooseVersion('2.0.0')): self.defaults['network'] = [""slirp4netns""] self.defaults['ipc'] = ""private"" self.defaults['uts'] = ""private"" self.defaults['pid'] = ""private"" return self.defaults class PodmanContainerDiff: def __init__(self, module, module_params, info, image_info, podman_version): self.module = module self.module_params = module_params self.version = podman_version self.default_dict = None self.info = lower_keys(info) self.image_info = lower_keys(image_info) self.params = self.defaultize() self.diff = {'before': {}, 'after': {}} self.non_idempotent = { 'env_file', # We can't get env vars from file to check 'env_host', } def defaultize(self): params_with_defaults = {} self.default_dict = PodmanDefaults( self.image_info, self.version).default_dict() for p in self.module_params: if self.module_params[p] is None and p in self.default_dict: params_with_defaults[p] = self.default_dict[p] else: params_with_defaults[p] = self.module_params[p] return params_with_defaults def _diff_update_and_compare(self, param_name, before, after): if before != after: self.diff['before'].update({param_name: before}) self.diff['after'].update({param_name: after}) return True return False def diffparam_annotation(self): before = self.info['config']['annotations'] or {} after = before.copy() if self.module_params['annotation'] is not None: after.update(self.params['annotation']) return self._diff_update_and_compare('annotation', before, after) def diffparam_env_host(self): # It's impossible to get from inspest, recreate it if not default before = False after = self.params['env_host'] return self._diff_update_and_compare('env_host', before, after) def diffparam_blkio_weight(self): before = self.info['hostconfig']['blkioweight'] after = self.params['blkio_weight'] return self._diff_update_and_compare('blkio_weight', before, after) def diffparam_blkio_weight_device(self): before = self.info['hostconfig']['blkioweightdevice'] if before == [] and self.module_params['blkio_weight_device'] is None: after = [] else: after = self.params['blkio_weight_device'] return self._diff_update_and_compare('blkio_weight_device', before, after) def diffparam_cap_add(self): before = self.info['effectivecaps'] or [] after = [] if self.module_params['cap_add'] is not None: after += [""cap_"" + i.lower() for i in self.module_params['cap_add']] after += before before, after = sorted(list(set(before))), sorted(list(set(after))) return self._diff_update_and_compare('cap_add', before, after) def diffparam_cap_drop(self): before = self.info['effectivecaps'] or [] after = before[:] if self.module_params['cap_drop'] is not None: for c in [""cap_"" + i.lower() for i in self.module_params['cap_drop']]: if c in after: after.remove(c) before, after = sorted(list(set(before))), sorted(list(set(after))) return self._diff_update_and_compare('cap_drop', before, after) def diffparam_cgroup_parent(self): before = self.info['hostconfig']['cgroupparent'] after = self.params['cgroup_parent'] if after is None: after = before return self._diff_update_and_compare('cgroup_parent', before, after) def diffparam_cgroups(self): # Cgroups output is not supported in all versions if 'cgroups' in self.info['hostconfig']: before = self.info['hostconfig']['cgroups'] after = self.params['cgroups'] return self._diff_update_and_compare('cgroups', before, after) return False def diffparam_cidfile(self): before = self.info['hostconfig']['containeridfile'] after = self.params['cidfile'] return self._diff_update_and_compare('cidfile', before, after) def diffparam_command(self): # TODO(sshnaidm): to inspect image to get the default command if self.module_params['command'] is not None: before = self.info['config']['cmd'] after = self.params['command'] if isinstance(after, str): after = [i.lower() for i in after.split()] elif isinstance(after, list): after = [i.lower() for i in after] return self._diff_update_and_compare('command', before, after) return False def diffparam_conmon_pidfile(self): before = self.info['conmonpidfile'] if self.module_params['conmon_pidfile'] is None: after = before else: after = self.params['conmon_pidfile'] return self._diff_update_and_compare('conmon_pidfile', before, after) def diffparam_cpu_period(self): before = self.info['hostconfig']['cpuperiod'] after = self.params['cpu_period'] return self._diff_update_and_compare('cpu_period', before, after) def diffparam_cpu_rt_period(self): before = self.info['hostconfig']['cpurealtimeperiod'] after = self.params['cpu_rt_period'] return self._diff_update_and_compare('cpu_rt_period', before, after) def diffparam_cpu_rt_runtime(self): before = self.info['hostconfig']['cpurealtimeruntime'] after = self.params['cpu_rt_runtime'] return self._diff_update_and_compare('cpu_rt_runtime', before, after) def diffparam_cpu_shares(self): before = self.info['hostconfig']['cpushares'] after = self.params['cpu_shares'] return self._diff_update_and_compare('cpu_shares', before, after) def diffparam_cpus(self): before = int(self.info['hostconfig']['nanocpus']) / 1000000000 after = self.params['cpus'] return self._diff_update_and_compare('cpus', before, after) def diffparam_cpuset_cpus(self): before = self.info['hostconfig']['cpusetcpus'] after = self.params['cpuset_cpus'] return self._diff_update_and_compare('cpuset_cpus', before, after) def diffparam_cpuset_mems(self): before = self.info['hostconfig']['cpusetmems'] after = self.params['cpuset_mems'] return self._diff_update_and_compare('cpuset_mems', before, after) def diffparam_device(self): before = ["":"".join([i['pathonhost'], i['pathincontainer']]) for i in self.info['hostconfig']['devices']] after = ["":"".join(i.split("":"")[:2]) for i in self.params['device']] before, after = sorted(list(set(before))), sorted(list(set(after))) return self._diff_update_and_compare('devices', before, after) def diffparam_device_read_bps(self): before = self.info['hostconfig']['blkiodevicereadbps'] or [] before = [""%s:%s"" % (i['path'], i['rate']) for i in before] after = self.params['device_read_bps'] or [] before, after = sorted(list(set(before))), sorted(list(set(after))) return self._diff_update_and_compare('device_read_bps', before, after) def diffparam_device_read_iops(self): before = self.info['hostconfig']['blkiodevicereadiops'] or [] before = [""%s:%s"" % (i['path'], i['rate']) for i in before] after = self.params['device_read_iops'] or [] before, after = sorted(list(set(before))), sorted(list(set(after))) return self._diff_update_and_compare('device_read_iops', before, after) def diffparam_device_write_bps(self): before = self.info['hostconfig']['blkiodevicewritebps'] or [] before = [""%s:%s"" % (i['path'], i['rate']) for i in before] after = self.params['device_write_bps'] or [] before, after = sorted(list(set(before))), sorted(list(set(after))) return self._diff_update_and_compare('device_write_bps', before, after) def diffparam_device_write_iops(self): before = self.info['hostconfig']['blkiodevicewriteiops'] or [] before = [""%s:%s"" % (i['path'], i['rate']) for i in before] after = self.params['device_write_iops'] or [] before, after = sorted(list(set(before))), sorted(list(set(after))) return self._diff_update_and_compare('device_write_iops', before, after) # Limited idempotency, it can't guess default values def diffparam_env(self): env_before = self.info['config']['env'] or {} before = {i.split(""="")[0]: ""="".join(i.split(""="")[1:]) for i in env_before} after = before.copy() if self.params['env']: after.update({ k: v for k, v in self.params['env'].items() }) return self._diff_update_and_compare('env', before, after) def diffparam_etc_hosts(self): if self.info['hostconfig']['extrahosts']: before = dict([i.split("":"") for i in self.info['hostconfig']['extrahosts']]) else: before = {} after = self.params['etc_hosts'] return self._diff_update_and_compare('etc_hosts', before, after) def diffparam_group_add(self): before = self.info['hostconfig']['groupadd'] after = self.params['group_add'] return self._diff_update_and_compare('group_add', before, after) # Healthcheck is only defined in container config if a healthcheck # was configured; otherwise the config key isn't part of the config. def diffparam_healthcheck(self): if 'healthcheck' in self.info['config']: # the ""test"" key is a list of 2 items where the first one is # ""CMD-SHELL"" and the second one is the actual healthcheck command. before = self.info['config']['healthcheck']['test'][1] else: before = '' after = self.params['healthcheck'] or before return self._diff_update_and_compare('healthcheck', before, after) # Because of hostname is random generated, this parameter has partial idempotency only. def diffparam_hostname(self): before = self.info['config']['hostname'] after = self.params['hostname'] or before return self._diff_update_and_compare('hostname', before, after) def diffparam_image(self): before_id = self.info['image'] after_id = self.image_info['id'] if before_id == after_id: return self._diff_update_and_compare('image', before_id, after_id) before = self.info['config']['image'] after = self.params['image'] mode = self.params['image_strict'] if mode is None or not mode: # In a idempotency 'lite mode' assume all images from different registries are the same before = before.replace("":latest"", """") after = after.replace("":latest"", """") before = before.split(""/"")[-1] after = after.split(""/"")[-1] else: return self._diff_update_and_compare('image', before_id, after_id) return self._diff_update_and_compare('image', before, after) def diffparam_ipc(self): before = self.info['hostconfig']['ipcmode'] after = self.params['ipc'] if self.params['pod'] and not self.module_params['ipc']: after = before return self._diff_update_and_compare('ipc', before, after) def diffparam_label(self): before = self.info['config']['labels'] or {} after = self.image_info.get('labels') or {} if self.params['label']: after.update({ str(k).lower(): str(v).lower() for k, v in self.params['label'].items() }) return self._diff_update_and_compare('label', before, after) def diffparam_log_driver(self): before = self.info['hostconfig']['logconfig']['type'] after = self.params['log_driver'] return self._diff_update_and_compare('log_driver', before, after) def diffparam_log_level(self): excom = self.info['exitcommand'] if '--log-level' in excom: before = excom[excom.index('--log-level') + 1].lower() else: before = self.params['log_level'] after = self.params['log_level'] return self._diff_update_and_compare('log_level', before, after) # Parameter has limited idempotency, unable to guess the default log_path def diffparam_log_opt(self): before = self.info['logpath'] if self.module_params['log_opt'] in [None, '']: after = before else: after = self.params['log_opt'].split(""="")[1] return self._diff_update_and_compare('log_opt', before, after) def diffparam_memory(self): before = str(self.info['hostconfig']['memory']) after = self.params['memory'] return self._diff_update_and_compare('memory', before, after) def diffparam_memory_swap(self): # By default it's twice memory parameter before = str(self.info['hostconfig']['memoryswap']) after = self.params['memory_swap'] if (self.module_params['memory_swap'] is None and self.params['memory'] != 0 and self.params['memory'].isdigit()): after = str(int(self.params['memory']) * 2) return self._diff_update_and_compare('memory_swap', before, after) def diffparam_memory_reservation(self): before = str(self.info['hostconfig']['memoryreservation']) after = self.params['memory_reservation'] return self._diff_update_and_compare('memory_reservation', before, after) def diffparam_network(self): net_mode_before = self.info['hostconfig']['networkmode'] net_mode_after = '' before = list(self.info['networksettings'].get('networks', {})) after = self.params['network'] or [] # If container is in pod and no networks are provided if not self.module_params['network'] and self.params['pod']: after = before return self._diff_update_and_compare('network', before, after) # Check special network modes if after in [['bridge'], ['host'], ['slirp4netns'], ['none']]: net_mode_after = after[0] # If changes are only for network mode and container has no networks if net_mode_after and not before: # Remove differences between v1 and v2 net_mode_after = net_mode_after.replace('bridge', 'default') net_mode_after = net_mode_after.replace('slirp4netns', 'default') net_mode_before = net_mode_before.replace('bridge', 'default') net_mode_before = net_mode_before.replace('slirp4netns', 'default') return self._diff_update_and_compare('network', net_mode_before, net_mode_after) before, after = sorted(list(set(before))), sorted(list(set(after))) return self._diff_update_and_compare('network', before, after) def diffparam_no_hosts(self): before = not bool(self.info['hostspath']) after = self.params['no_hosts'] if self.params['network'] == ['none']: after = True return self._diff_update_and_compare('no_hosts', before, after) def diffparam_oom_score_adj(self): before = self.info['hostconfig']['oomscoreadj'] after = self.params['oom_score_adj'] return self._diff_update_and_compare('oom_score_adj', before, after) def diffparam_privileged(self): before = self.info['hostconfig']['privileged'] after = self.params['privileged'] return self._diff_update_and_compare('privileged', before, after) def diffparam_pid(self): before = self.info['hostconfig']['pidmode'] after = self.params['pid'] return self._diff_update_and_compare('pid', before, after) # TODO(sshnaidm) Need to add port ranges support def diffparam_publish(self): ports = self.info['hostconfig']['portbindings'] before = ["":"".join([ j[0]['hostip'], str(j[0][""hostport""]), i.replace('/tcp', '') ]).strip(':') for i, j in ports.items()] after = self.params['publish'] or [] if self.params['publish_all']: image_ports = self.image_info['config'].get('exposedports', {}) if image_ports: after += list(image_ports.keys()) after = [i.replace(""/tcp"", """") for i in after] # No support for port ranges yet for ports in after: if ""-"" in ports: return self._diff_update_and_compare('publish', '', '') before, after = sorted(list(set(before))), sorted(list(set(after))) return self._diff_update_and_compare('publish', before, after) def diffparam_rm(self): before = self.info['hostconfig']['autoremove'] after = self.params['rm'] return self._diff_update_and_compare('rm', before, after) def diffparam_security_opt(self): before = self.info['hostconfig']['securityopt'] # In rootful containers with apparmor there is a default security opt before = [o for o in before if 'apparmor=containers-default' not in o] after = self.params['security_opt'] before, after = sorted(list(set(before))), sorted(list(set(after))) return self._diff_update_and_compare('security_opt', before, after) def diffparam_stop_signal(self): signals = { ""sighup"": ""1"", ""sigint"": ""2"", ""sigquit"": ""3"", ""sigill"": ""4"", ""sigtrap"": ""5"", ""sigabrt"": ""6"", ""sigiot"": ""6"", ""sigbus"": ""7"", ""sigfpe"": ""8"", ""sigkill"": ""9"", ""sigusr1"": ""10"", ""sigsegv"": ""11"", ""sigusr2"": ""12"", ""sigpipe"": ""13"", ""sigalrm"": ""14"", ""sigterm"": ""15"", ""sigstkflt"": ""16"", ""sigchld"": ""17"", ""sigcont"": ""18"", ""sigstop"": ""19"", ""sigtstp"": ""20"", ""sigttin"": ""21"", ""sigttou"": ""22"", ""sigurg"": ""23"", ""sigxcpu"": ""24"", ""sigxfsz"": ""25"", ""sigvtalrm"": ""26"", ""sigprof"": ""27"", ""sigwinch"": ""28"", ""sigio"": ""29"", ""sigpwr"": ""30"", ""sigsys"": ""31"" } before = str(self.info['config']['stopsignal']) if not before.isdigit(): before = signals[before.lower()] after = str(self.params['stop_signal']) if not after.isdigit(): after = signals[after.lower()] return self._diff_update_and_compare('stop_signal', before, after) def diffparam_tty(self): before = self.info['config']['tty'] after = self.params['tty'] return self._diff_update_and_compare('tty', before, after) def diffparam_user(self): before = self.info['config']['user'] after = self.params['user'] return self._diff_update_and_compare('user', before, after) def diffparam_ulimit(self): after = self.params['ulimit'] or [] # In case of latest podman if 'createcommand' in self.info['config']: ulimits = [] for k, c in enumerate(self.info['config']['createcommand']): if c == '--ulimit': ulimits.append(self.info['config']['createcommand'][k + 1]) before = ulimits before, after = sorted(before), sorted(after) return self._diff_update_and_compare('ulimit', before, after) if after: ulimits = self.info['hostconfig']['ulimits'] before = { u['name'].replace('rlimit_', ''): ""%s:%s"" % (u['soft'], u['hard']) for u in ulimits} after = {i.split('=')[0]: i.split('=')[1] for i in self.params['ulimit']} new_before = [] new_after = [] for u in list(after.keys()): # We don't support unlimited ulimits because it depends on platform if u in before and ""-1"" not in after[u]: new_before.append([u, before[u]]) new_after.append([u, after[u]]) return self._diff_update_and_compare('ulimit', new_before, new_after) return self._diff_update_and_compare('ulimit', '', '') def diffparam_uts(self): before = self.info['hostconfig']['utsmode'] after = self.params['uts'] if self.params['pod'] and not self.module_params['uts']: after = before return self._diff_update_and_compare('uts', before, after) def diffparam_volume(self): def clean_volume(x): '''Remove trailing and double slashes from volumes.''' return x.replace(""//"", ""/"").rstrip(""/"") before = self.info['mounts'] before_local_vols = [] if before: volumes = [] local_vols = [] for m in before: if m['type'] != 'volume': volumes.append([m['source'], m['destination']]) elif m['type'] == 'volume': local_vols.append([m['name'], m['destination']]) before = ["":"".join(v) for v in volumes] before_local_vols = ["":"".join(v) for v in local_vols] if self.params['volume'] is not None: after = ["":"".join( [clean_volume(i) for i in v.split("":"")[:2]] ) for v in self.params['volume']] else: after = [] if before_local_vols: after = list(set(after).difference(before_local_vols)) before, after = sorted(list(set(before))), sorted(list(set(after))) return self._diff_update_and_compare('volume', before, after) def diffparam_volumes_from(self): # Possibly volumesfrom is not in config before = self.info['hostconfig'].get('volumesfrom', []) or [] after = self.params['volumes_from'] or [] return self._diff_update_and_compare('volumes_from', before, after) def diffparam_workdir(self): before = self.info['config']['workingdir'] after = self.params['workdir'] return self._diff_update_and_compare('workdir', before, after) def is_different(self): diff_func_list = [func for func in dir(self) if callable(getattr(self, func)) and func.startswith( ""diffparam"")] fail_fast = not bool(self.module._diff) different = False for func_name in diff_func_list: dff_func = getattr(self, func_name) if dff_func(): if fail_fast: return True different = True # Check non idempotent parameters for p in self.non_idempotent: if self.module_params[p] is not None and self.module_params[p] not in [{}, [], '']: different = True return different def ensure_image_exists(module, image, module_params): """"""If image is passed, ensure it exists, if not - pull it or fail. Arguments: module {obj} -- ansible module object image {str} -- name of image Returns: list -- list of image actions - if it pulled or nothing was done """""" image_actions = [] module_exec = module_params['executable'] if not image: return image_actions rc, out, err = module.run_command([module_exec, 'image', 'exists', image]) if rc == 0: return image_actions rc, out, err = module.run_command([module_exec, 'image', 'pull', image]) if rc != 0: module.fail_json(msg=""Can't pull image %s"" % image, stdout=out, stderr=err) image_actions.append(""pulled image %s"" % image) return image_actions class PodmanContainer: """"""Perform container tasks. Manages podman container, inspects it and checks its current state """""" def __init__(self, module, name, module_params): """"""Initialize PodmanContainer class. Arguments: module {obj} -- ansible module object name {str} -- name of container """""" self.module = module self.module_params = module_params self.name = name self.stdout, self.stderr = '', '' self.info = self.get_info() self.version = self._get_podman_version() self.diff = {} self.actions = [] @property def exists(self): """"""Check if container exists."""""" return bool(self.info != {}) @property def different(self): """"""Check if container is different."""""" diffcheck = PodmanContainerDiff( self.module, self.module_params, self.info, self.get_image_info(), self.version) is_different = diffcheck.is_different() diffs = diffcheck.diff if self.module._diff and is_different and diffs['before'] and diffs['after']: self.diff['before'] = ""\n"".join( [""%s - %s"" % (k, v) for k, v in sorted( diffs['before'].items())]) + ""\n"" self.diff['after'] = ""\n"".join( [""%s - %s"" % (k, v) for k, v in sorted( diffs['after'].items())]) + ""\n"" return is_different @property def running(self): """"""Return True if container is running now."""""" return self.exists and self.info['State']['Running'] @property def stopped(self): """"""Return True if container exists and is not running now."""""" return self.exists and not self.info['State']['Running'] def get_info(self): """"""Inspect container and gather info about it."""""" # pylint: disable=unused-variable rc, out, err = self.module.run_command( [self.module_params['executable'], b'container', b'inspect', self.name]) return json.loads(out)[0] if rc == 0 else {} def get_image_info(self): """"""Inspect container image and gather info about it."""""" # pylint: disable=unused-variable rc, out, err = self.module.run_command( [self.module_params['executable'], b'image', b'inspect', self.module_params['image']]) return json.loads(out)[0] if rc == 0 else {} def _get_podman_version(self): # pylint: disable=unused-variable rc, out, err = self.module.run_command( [self.module_params['executable'], b'--version']) if rc != 0 or not out or ""version"" not in out: self.module.fail_json(msg=""%s run failed!"" % self.module_params['executable']) return out.split(""version"")[1].strip() def _perform_action(self, action): """"""Perform action with container. Arguments: action {str} -- action to perform - start, create, stop, run, delete """""" def clean_stderr(err): # Inspect STDERR for logs to avoid modules failures in case of # increased log level verbosity return ""\n"".join( [line for line in err.splitlines() if 'level=' not in line]).strip() b_command = PodmanModuleParams(action, self.module_params, self.version, self.module, ).construct_command_from_params() full_cmd = "" "".join([self.module_params['executable']] + [to_native(i) for i in b_command]) self.actions.append(full_cmd) if self.module.check_mode: self.module.log( ""PODMAN-CONTAINER-DEBUG (check_mode): %s"" % full_cmd) else: rc, out, err = self.module.run_command( [self.module_params['executable'], b'container'] + b_command, expand_user_and_vars=False) self.module.log(""PODMAN-CONTAINER-DEBUG: %s"" % full_cmd) if self.module_params['debug']: self.module.log(""PODMAN-CONTAINER-DEBUG STDOUT: %s"" % out) self.module.log(""PODMAN-CONTAINER-DEBUG STDERR: %s"" % err) self.module.log(""PODMAN-CONTAINER-DEBUG RC: %s"" % rc) self.stdout = out self.stderr = err if rc != 0 or clean_stderr(err) != '': self.module.fail_json( msg=""Failed %s container %s"" % (action, self.name), stdout=out, stderr=err) def run(self): """"""Run the container."""""" self._perform_action('run') def delete(self): """"""Delete the container."""""" self._perform_action('delete') def stop(self): """"""Stop the container."""""" self._perform_action('stop') def start(self): """"""Start the container."""""" self._perform_action('start') def create(self): """"""Create the container."""""" self._perform_action('create') def recreate(self): """"""Recreate the container."""""" self.delete() self.run() def restart(self): """"""Restart the container."""""" self.stop() self.start() class PodmanManager: """"""Module manager class. Defines according to parameters what actions should be applied to container """""" def __init__(self, module, params): """"""Initialize PodmanManager class. Arguments: module {obj} -- ansible module object """""" self.module = module self.results = { 'changed': False, 'actions': [], 'container': {}, } self.module_params = params self.name = self.module_params['name'] self.executable = \ self.module.get_bin_path(self.module_params['executable'], required=True) self.image = self.module_params['image'] image_actions = ensure_image_exists( self.module, self.image, self.module_params) self.results['actions'] += image_actions self.state = self.module_params['state'] self.restart = self.module_params['force_restart'] self.recreate = self.module_params['recreate'] self.container = PodmanContainer( self.module, self.name, self.module_params) def update_container_result(self, changed=True): """"""Inspect the current container, update results with last info, exit. Keyword Arguments: changed {bool} -- whether any action was performed (default: {True}) """""" facts = self.container.get_info() if changed else self.container.info out, err = self.container.stdout, self.container.stderr self.results.update({'changed': changed, 'container': facts, 'podman_actions': self.container.actions}, stdout=out, stderr=err) if self.container.diff: self.results.update({'diff': self.container.diff}) if self.module.params['debug'] or self.module_params['debug']: self.results.update({'podman_version': self.container.version}) def make_started(self): """"""Run actions if desired state is 'started'."""""" if self.container.running and \ (self.container.different or self.recreate): self.container.recreate() self.results['actions'].append('recreated %s' % self.container.name) self.update_container_result() return elif self.container.running and not self.container.different: if self.restart: self.container.restart() self.results['actions'].append('restarted %s' % self.container.name) self.update_container_result() return self.update_container_result(changed=False) return elif not self.container.exists: self.container.run() self.results['actions'].append('started %s' % self.container.name) self.update_container_result() return elif self.container.stopped and self.container.different: self.container.recreate() self.results['actions'].append('recreated %s' % self.container.name) self.update_container_result() return elif self.container.stopped and not self.container.different: self.container.start() self.results['actions'].append('started %s' % self.container.name) self.update_container_result() return def make_stopped(self): """"""Run actions if desired state is 'stopped'."""""" if not self.container.exists and not self.image: self.module.fail_json(msg='Cannot create container when image' ' is not specified!') if not self.container.exists: self.container.create() self.results['actions'].append('created %s' % self.container.name) self.update_container_result() return if self.container.stopped: self.update_container_result(changed=False) return elif self.container.running: self.container.stop() self.results['actions'].append('stopped %s' % self.container.name) self.update_container_result() return def make_absent(self): """"""Run actions if desired state is 'absent'."""""" if not self.container.exists: self.results.update({'changed': False}) elif self.container.exists: self.container.delete() self.results['actions'].append('deleted %s' % self.container.name) self.results.update({'changed': True}) self.results.update({'container': {}, 'podman_actions': self.container.actions}) def execute(self): """"""Execute the desired action according to map of actions & states."""""" states_map = { 'present': self.make_started, 'started': self.make_started, 'absent': self.make_absent, 'stopped': self.make_stopped } process_action = states_map[self.state] process_action() return self.results ",,1565,1307
openstack%2Fswift~master~I3d6e2e4542a5ed03a6d31ec0ef4837d1de30a045,openstack/swift,master,I3d6e2e4542a5ed03a6d31ec0ef4837d1de30a045,s3api: Better-handle SHA mismatches during CompleteMultipartUpload,MERGED,2020-12-17 23:19:15.000000000,2021-01-08 04:53:58.000000000,2021-01-08 04:52:39.000000000,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-17 23:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/22878d8374f7b9ec8f7f5a090879011b9bb2231d', 'message': 's3api: Better-handle SHA mismatches during CompleteMultipartUpload\n\nAlso, allow upper-cased (and mixed-case) SHAs.\n\nChange-Id: I3d6e2e4542a5ed03a6d31ec0ef4837d1de30a045\n'}, {'number': 2, 'created': '2021-01-07 19:14:36.000000000', 'files': ['swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_multi_upload.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/87e88782aa14df5fe112fb0921aa9e4db74a153e', 'message': 's3api: Better-handle SHA mismatches during CompleteMultipartUpload\n\nAlso, allow upper-cased (and mixed-case) SHAs.\n\nChange-Id: I3d6e2e4542a5ed03a6d31ec0ef4837d1de30a045\n'}]",4,767644,87e88782aa14df5fe112fb0921aa9e4db74a153e,15,3,2,15343,,,0,"s3api: Better-handle SHA mismatches during CompleteMultipartUpload

Also, allow upper-cased (and mixed-case) SHAs.

Change-Id: I3d6e2e4542a5ed03a6d31ec0ef4837d1de30a045
",git fetch https://review.opendev.org/openstack/swift refs/changes/44/767644/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_multi_upload.py']",2,22878d8374f7b9ec8f7f5a090879011b9bb2231d,," def test_object_multipart_upload_invalid_sha256(self): bad_sha = hashlib.sha256( XML.encode('ascii') + b'some junk').hexdigest() authz_header = 'AWS4-HMAC-SHA256 ' + ', '.join([ 'Credential=test:tester/%s/us-east-1/s3/aws4_request' % self.get_v4_amz_date_header().split('T', 1)[0], 'SignedHeaders=host;x-amz-date', 'Signature=X', ]) req = Request.blank( '/bucket/object?uploadId=X', environ={'REQUEST_METHOD': 'POST'}, headers={'Authorization': authz_header, 'X-Amz-Date': self.get_v4_amz_date_header(), 'X-Amz-Content-SHA256': bad_sha, }, body=XML) status, headers, body = self.call_s3api(req) self.assertEqual('400 Bad Request', status) self.assertEqual(self._get_error_code(body), 'BadDigest') def test_object_multipart_upload_upper_sha256(self): upper_sha = hashlib.sha256( XML.encode('ascii')).hexdigest().upper() authz_header = 'AWS4-HMAC-SHA256 ' + ', '.join([ 'Credential=test:tester/%s/us-east-1/s3/aws4_request' % self.get_v4_amz_date_header().split('T', 1)[0], 'SignedHeaders=host;x-amz-date', 'Signature=X', ]) req = Request.blank( '/bucket/object?uploadId=X', environ={'REQUEST_METHOD': 'POST'}, headers={'Authorization': authz_header, 'X-Amz-Date': self.get_v4_amz_date_header(), 'X-Amz-Content-SHA256': upper_sha, }, body=XML) status, headers, body = self.call_s3api(req) self.assertEqual('200 OK', status) ",,50,3
openstack%2Fansible-role-collect-logs~master~Icb0dfd17d5f885728d1ab042b59ef4a2fd0a3821,openstack/ansible-role-collect-logs,master,Icb0dfd17d5f885728d1ab042b59ef4a2fd0a3821,Add pattern for proxy failure,MERGED,2021-01-07 22:25:24.000000000,2021-01-08 04:28:31.000000000,2021-01-08 04:28:31.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-07 22:25:24.000000000', 'files': ['vars/sova-patterns.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/29be5e2c224414948359bad0537e75a7a83a8dd1', 'message': 'Add pattern for proxy failure\n\nChange-Id: Icb0dfd17d5f885728d1ab042b59ef4a2fd0a3821\n'}]",0,769847,29be5e2c224414948359bad0537e75a7a83a8dd1,7,3,1,10969,,,0,"Add pattern for proxy failure

Change-Id: Icb0dfd17d5f885728d1ab042b59ef4a2fd0a3821
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/47/769847/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/sova-patterns.yml'],1,29be5e2c224414948359bad0537e75a7a83a8dd1,," - id: 539 logstash: 'Errors during downloading metadata for repository' msg: ""Packages download failure."" pattern: 'Errors during downloading metadata for repository' tag: ""infra""",,5,0
openstack%2Ftripleo-quickstart-extras~master~I297cc0a2c2242b020b662184d24436f59ea5c3f9,openstack/tripleo-quickstart-extras,master,I297cc0a2c2242b020b662184d24436f59ea5c3f9,Add retries to push,MERGED,2021-01-06 19:42:26.000000000,2021-01-08 04:28:27.000000000,2021-01-08 04:28:27.000000000,"[{'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-06 19:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ffcc04b4adf071b8cef78312e3ab6016b1740c6c', 'message': ""Add retires to push\n\nWe're seeing issues storing layers in the local registry for the content\nproviders. Let's add a retry to the push logic to see if that makes it\nmore reliable.\n\nChange-Id: I297cc0a2c2242b020b662184d24436f59ea5c3f9\nRelated-Bug: #1908844\n""}, {'number': 2, 'created': '2021-01-06 19:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b5bbea7fa9b841757e86acfdcf8e83d6252a6dde', 'message': ""Add retires to push\n\nWe're seeing issues storing layers in the local registry for the content\nproviders. Let's add a retry to the push logic to see if that makes it\nmore reliable.\n\nChange-Id: I297cc0a2c2242b020b662184d24436f59ea5c3f9\nRelated-Bug: #1908844\n""}, {'number': 3, 'created': '2021-01-06 19:46:51.000000000', 'files': ['roles/container-build/tasks/non_tripleo_containers.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e832456462f1fe4ccdc75300bb09797e89f3b7ba', 'message': ""Add retries to push\n\nWe're seeing issues storing layers in the local registry for the content\nproviders. Let's add a retry to the push logic to see if that makes it\nmore reliable.\n\nChange-Id: I297cc0a2c2242b020b662184d24436f59ea5c3f9\nRelated-Bug: #1908844\n""}]",1,769613,e832456462f1fe4ccdc75300bb09797e89f3b7ba,16,5,3,14985,,,0,"Add retries to push

We're seeing issues storing layers in the local registry for the content
providers. Let's add a retry to the push logic to see if that makes it
more reliable.

Change-Id: I297cc0a2c2242b020b662184d24436f59ea5c3f9
Related-Bug: #1908844
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/13/769613/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/container-build/tasks/non_tripleo_containers.yml'],1,ffcc04b4adf071b8cef78312e3ab6016b1740c6c,bug/1908844, - name: List buildah images shell: > buildah images; changed_when: false tags: - skip_ansible_lint retries: 3 delay: 5, buildah images;,9,1
openstack%2Fstorlets~master~Ic8f66e48619fe2c367fe4612fbe0184b74a7ff06,openstack/storlets,master,Ic8f66e48619fe2c367fe4612fbe0184b74a7ff06,Get back py36 to tox envlist,MERGED,2021-01-08 02:16:09.000000000,2021-01-08 04:22:10.000000000,2021-01-08 04:20:39.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-08 02:16:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/storlets/commit/95067b915747c866c281b73584745034e3a7798f', 'message': ""Get back py36 to tox envlist\n\nCurrent openstack-wallaby-jobs will run python 3.6 job\non bionic. However we don't have the env in tox definition,\nthen that results into no unit tests run on the job.\n\nLet's get back py36 to the envlist until we drop bionic/py36\n\nChange-Id: Ic8f66e48619fe2c367fe4612fbe0184b74a7ff06\n""}]",0,769859,95067b915747c866c281b73584745034e3a7798f,7,2,1,4608,,,0,"Get back py36 to tox envlist

Current openstack-wallaby-jobs will run python 3.6 job
on bionic. However we don't have the env in tox definition,
then that results into no unit tests run on the job.

Let's get back py36 to the envlist until we drop bionic/py36

Change-Id: Ic8f66e48619fe2c367fe4612fbe0184b74a7ff06
",git fetch https://review.opendev.org/openstack/storlets refs/changes/59/769859/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,95067b915747c866c281b73584745034e3a7798f,py36,"envlist = py27,py36,py38,pep8","envlist = py27,py38,pep8",1,1
openstack%2Fstorlets~master~I22f5759428cfe9b889a42fd287e9ed4550c77536,openstack/storlets,master,I22f5759428cfe9b889a42fd287e9ed4550c77536,remove unicode from code,NEW,2021-01-03 07:50:19.000000000,2021-01-08 02:48:32.000000000,,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-03 07:50:19.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py', 'tests/functional/ipython/test_notebook.ipynb'], 'web_link': 'https://opendev.org/openstack/storlets/commit/e766d652ce9ca0109c23dd70d75c4bb57170787f', 'message': 'remove unicode from code\n\nChange-Id: I22f5759428cfe9b889a42fd287e9ed4550c77536\n'}]",2,768985,e766d652ce9ca0109c23dd70d75c4bb57170787f,3,2,1,31319,,,0,"remove unicode from code

Change-Id: I22f5759428cfe9b889a42fd287e9ed4550c77536
",git fetch https://review.opendev.org/openstack/storlets refs/changes/85/768985/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py', 'tests/functional/ipython/test_notebook.ipynb']",3,e766d652ce9ca0109c23dd70d75c4bb57170787f,," ""{'x-object-meta-storlet-language': 'python', 'x-trans-id': 'tx39de631f32cf42d58f407-0058f89455', 'x-object-meta-storlet-main': 'test.TestStorlet', 'transfer-encoding': 'chunked', 'x-object-meta-storlet-interface-version': '1.0', 'x-object-meta-storlet-object-metadata': 'no', 'x-object-meta-storlet_execution_path': '/home/swift/test.TestStorlet', 'last-modified': 'Thu, 20 Apr 2017 10:58:29 GMT', 'etag': '43106d4a48a1f33745e11bd71596d8c4', 'x-timestamp': '1492685908.66304', 'x-object-meta-color': 'red', 'date': 'Thu, 20 Apr 2017 10:58:29 GMT', 'x-openstack-request-id': 'tx39de631f32cf42d58f407-0058f89455', 'content-type': 'application/octet-stream', 'accept-ranges': 'bytes'}\n"", ""{'content-length': '0', 'x-storlet-generated-from-last-modified': 'Thu, 20 Apr 2017 10:58:29 GMT', 'x-storlet-generated-from-account': 'AUTH_6dbd182dfa9f4ad6ace88992683ee483', 'last-modified': 'Thu, 20 Apr 2017 10:58:32 GMT', 'etag': '43106d4a48a1f33745e11bd71596d8c4', 'x-trans-id': 'tx8cc66cd8cda643508bee7-0058f89457', 'date': 'Thu, 20 Apr 2017 10:58:31 GMT', 'content-type': 'text/html; charset=UTF-8', 'x-openstack-request-id': 'tx8cc66cd8cda643508bee7-0058f89457', 'x-storlet-generated-from': 'storlet/test.py'}\n"", ""{'content-length': '0', 'last-modified': 'Thu, 20 Apr 2017 10:58:34 GMT', 'etag': 'faccc93089c22cafce9b64e7cc9f2047', 'x-trans-id': 'tx9577116d45ee4e43bc3fd-0058f89458', 'date': 'Thu, 20 Apr 2017 10:58:33 GMT', 'content-type': 'text/html; charset=UTF-8', 'x-openstack-request-id': 'tx9577116d45ee4e43bc3fd-0058f89458'}\n"","," ""{u'x-object-meta-storlet-language': u'python', u'x-trans-id': u'tx39de631f32cf42d58f407-0058f89455', u'x-object-meta-storlet-main': u'test.TestStorlet', u'transfer-encoding': u'chunked', u'x-object-meta-storlet-interface-version': u'1.0', u'x-object-meta-storlet-object-metadata': u'no', u'x-object-meta-storlet_execution_path': u'/home/swift/test.TestStorlet', u'last-modified': u'Thu, 20 Apr 2017 10:58:29 GMT', u'etag': u'43106d4a48a1f33745e11bd71596d8c4', u'x-timestamp': u'1492685908.66304', u'x-object-meta-color': u'red', u'date': u'Thu, 20 Apr 2017 10:58:29 GMT', u'x-openstack-request-id': u'tx39de631f32cf42d58f407-0058f89455', u'content-type': u'application/octet-stream', u'accept-ranges': u'bytes'}\n"", ""{u'content-length': u'0', u'x-storlet-generated-from-last-modified': u'Thu, 20 Apr 2017 10:58:29 GMT', u'x-storlet-generated-from-account': u'AUTH_6dbd182dfa9f4ad6ace88992683ee483', u'last-modified': u'Thu, 20 Apr 2017 10:58:32 GMT', u'etag': u'43106d4a48a1f33745e11bd71596d8c4', u'x-trans-id': u'tx8cc66cd8cda643508bee7-0058f89457', u'date': u'Thu, 20 Apr 2017 10:58:31 GMT', u'content-type': u'text/html; charset=UTF-8', u'x-openstack-request-id': u'tx8cc66cd8cda643508bee7-0058f89457', u'x-storlet-generated-from': u'storlet/test.py'}\n"", ""{u'content-length': u'0', u'last-modified': u'Thu, 20 Apr 2017 10:58:34 GMT', u'etag': u'faccc93089c22cafce9b64e7cc9f2047', u'x-trans-id': u'tx9577116d45ee4e43bc3fd-0058f89458', u'date': u'Thu, 20 Apr 2017 10:58:33 GMT', u'content-type': u'text/html; charset=UTF-8', u'x-openstack-request-id': u'tx9577116d45ee4e43bc3fd-0058f89458'}\n"",",13,13
openstack%2Fstorlets~master~Id8a1e7d2e3e8a17df5a43aa71c1a3e95171d0b43,openstack/storlets,master,Id8a1e7d2e3e8a17df5a43aa71c1a3e95171d0b43,remove py37,MERGED,2021-01-03 07:08:01.000000000,2021-01-08 02:40:04.000000000,2021-01-08 02:38:40.000000000,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-03 07:08:01.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/storlets/commit/e4df37f77ca275ca29c27a0c9067b7e0948f29ce', 'message': 'remove py37\n\nChange-Id: Id8a1e7d2e3e8a17df5a43aa71c1a3e95171d0b43\n'}]",0,768968,e4df37f77ca275ca29c27a0c9067b7e0948f29ce,7,2,1,31319,,,0,"remove py37

Change-Id: Id8a1e7d2e3e8a17df5a43aa71c1a3e95171d0b43
",git fetch https://review.opendev.org/openstack/storlets refs/changes/68/768968/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e4df37f77ca275ca29c27a0c9067b7e0948f29ce,,, Programming Language :: Python :: 3.7,0,1
openstack%2Frequirements~master~Ic0edce86ab63238dea7f99b2790fc527c6e080ef,openstack/requirements,master,Ic0edce86ab63238dea7f99b2790fc527c6e080ef,Updated from generate-constraints,MERGED,2021-01-07 06:21:00.000000000,2021-01-08 02:38:01.000000000,2021-01-08 02:36:48.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 06:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3329bebea34a7d53b23dc558f474974593db5a7b', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic0edce86ab63238dea7f99b2790fc527c6e080ef\n'}, {'number': 2, 'created': '2021-01-07 06:36:15.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/597caa49471f8572377d7ceaa32f5c249ebed138', 'message': 'Updated from generate-constraints\n\nChange-Id: Ic0edce86ab63238dea7f99b2790fc527c6e080ef\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,769664,597caa49471f8572377d7ceaa32f5c249ebed138,13,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: Ic0edce86ab63238dea7f99b2790fc527c6e080ef
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/64/769664/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3329bebea34a7d53b23dc558f474974593db5a7b,openstack/requirements/constraints/noclob,croniter===1.0.1mock===4.0.3docutils===0.16boto3===1.16.50Sphinx===3.4.1PyMySQL===1.0.0botocore===1.19.50GitPython===3.1.12oslo.db===8.5.0pkg-resources===0.0.0jaeger-client===4.4.0fasteners===0.16virtualenv===20.2.2,croniter===0.3.37mock===3.0.5docutils===0.15.2boto3===1.16.49Sphinx===3.4.2PyMySQL===0.10.1botocore===1.19.49GitPython===3.1.11oslo.db===8.4.0jaeger-client===4.3.0fasteners===0.14.1virtualenv===20.2.1setuptools===51.1.1,13,13
openstack%2Fpython-openstackclient~master~Ieeb1f22df7092e66a411b6a36eafb3e16efc2fc2,openstack/python-openstackclient,master,Ieeb1f22df7092e66a411b6a36eafb3e16efc2fc2,compute: Add missing options for 'server list',MERGED,2020-12-03 18:12:39.000000000,2021-01-08 02:28:01.000000000,2021-01-08 02:26:08.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-12-03 18:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/adb6b0f06145671fe67d917f51ac2493ee1119fd', 'message': ""compute: Add missing options for 'server list'\n\nThis accepts a large number of options that we weren't exposing. Add the\nfollowing options: '--availability-zone', '--key-name',\n'--config-drive' and '--no-config-drive', '--progress', '--vm-state',\n'--task-state' and '--power-state'.\n\nChange-Id: Ieeb1f22df7092e66a411b6a36eafb3e16efc2fc2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2020-12-07 18:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a38c8d5a07eb1976a29e257bd47c6b7acfceb617', 'message': ""compute: Add missing options for 'server list'\n\nThis accepts a large number of options that we weren't exposing. Add the\nfollowing options: '--availability-zone', '--key-name',\n'--config-drive' and '--no-config-drive', '--progress', '--vm-state',\n'--task-state' and '--power-state'.\n\nChange-Id: Ieeb1f22df7092e66a411b6a36eafb3e16efc2fc2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2020-12-08 16:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e890bb9d3a095d4c1c23661a5de25b6b2b9f91b8', 'message': ""compute: Add missing options for 'server list'\n\nThis accepts a large number of options that we weren't exposing. Add the\nfollowing options: '--availability-zone', '--key-name',\n'--config-drive' and '--no-config-drive', '--progress', '--vm-state',\n'--task-state' and '--power-state'.\n\nIn addition, refine the 'openstack server list --status' parameter to\nrestrict users to the actual choices supported by the server.\n\nChange-Id: Ieeb1f22df7092e66a411b6a36eafb3e16efc2fc2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2020-12-09 18:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/926879078774ff0ad90af7604f18f99fbb7a79d7', 'message': ""compute: Add missing options for 'server list'\n\nThis accepts a large number of options that we weren't exposing. Add the\nfollowing options: '--availability-zone', '--key-name',\n'--config-drive' and '--no-config-drive', '--progress', '--vm-state',\n'--task-state' and '--power-state'.\n\nIn addition, refine the 'openstack server list --status' parameter to\nrestrict users to the actual choices supported by the server.\n\nChange-Id: Ieeb1f22df7092e66a411b6a36eafb3e16efc2fc2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2021-01-07 14:14:32.000000000', 'files': ['releasenotes/notes/add-missing-server-list-opts-c41e97e86ff1e1ca.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d0112a801a20c810d92dfcdf1f8fb71df3bd1d26', 'message': ""compute: Add missing options for 'server list'\n\nThis accepts a large number of options that we weren't exposing. Add the\nfollowing options: '--availability-zone', '--key-name',\n'--config-drive' and '--no-config-drive', '--progress', '--vm-state',\n'--task-state' and '--power-state'.\n\nIn addition, refine the 'openstack server list --status' parameter to\nrestrict users to the actual choices supported by the server.\n\nChange-Id: Ieeb1f22df7092e66a411b6a36eafb3e16efc2fc2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",5,765362,d0112a801a20c810d92dfcdf1f8fb71df3bd1d26,22,4,5,15334,,,0,"compute: Add missing options for 'server list'

This accepts a large number of options that we weren't exposing. Add the
following options: '--availability-zone', '--key-name',
'--config-drive' and '--no-config-drive', '--progress', '--vm-state',
'--task-state' and '--power-state'.

In addition, refine the 'openstack server list --status' parameter to
restrict users to the actual choices supported by the server.

Change-Id: Ieeb1f22df7092e66a411b6a36eafb3e16efc2fc2
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/62/765362/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-missing-server-list-opts-c41e97e86ff1e1ca.yaml', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",3,adb6b0f06145671fe67d917f51ac2493ee1119fd,osc-first,"def percent_type(x): x = int(x) if not 0 < x <= 100: raise argparse.ArgumentTypeError(""Must be between 0 and 100"") return x # taken from 'task_and_vm_state_from_status' function in nova choices=( 'active', 'build', 'deleted', 'error', 'hard_reboot', 'migrating', 'password', 'paused', 'reboot', 'rebuild', 'rescue', 'resize', 'revert_resize', 'shelved', 'shelved_offloaded', 'shutoff', 'soft_deleted', 'suspended', 'verify_resize' ), '--availability-zone', default=None, help=_( 'Search by availability zone ' '(admin only until microversion 2.82)' ), ) parser.add_argument( '--key-name', help=_( 'Search by keypair name ' '(admin only until microversion 2.82)' ), ) config_drive_group = parser.add_mutually_exclusive_group() config_drive_group.add_argument( '--config-drive', action='store_true', dest='has_config_drive', default=None, help=_( 'Search by keypair name ' '(admin only until microversion 2.82)' ), ) # NOTE(gibi): this won't actually do anything until bug 1871409 is # fixed and the REST API is cleaned up regarding the values of # config_drive config_drive_group.add_argument( '--no-config-drive', action='store_false', dest='has_config_drive', help=_( 'Search by keypair name ' '(admin only until microversion 2.82)' ), ) parser.add_argument( '--progress', type=percent_type, default=None, help=_( 'Search by progress value (%%) ' '(admin only until microversion 2.82)' ), ) parser.add_argument( '--vm-state', metavar='<state>', # taken from 'InstanceState' object field in nova choices=( 'active', 'building', 'deleted', 'error', 'paused', 'stopped', 'suspended', 'rescued', 'resized', 'shelved', 'shelved_offloaded', 'soft-delete', ), help=_( 'Search by vm_state value ' '(admin only until microversion 2.82)' ), ) parser.add_argument( '--task-state', metavar='<state>', # taken from 'InstanceTaskState' object field in nova choices=( 'block_device_mapping', 'deleting', 'image_backup', 'image_pending_upload', 'image_snapshot', 'image_snapshot_pending', 'image_uploading', 'migrating', 'networking', 'pausing', 'powering-off', 'powering-on', 'rebooting', 'reboot_pending', 'reboot_started', 'reboot_pending_hard', 'reboot_started_hard', 'rebooting_hard', 'rebuilding', 'rebuild_block_device_mapping', 'rebuild_spawning', 'rescuing', 'resize_confirming', 'resize_finish', 'resize_migrated', 'resize_migrating', 'resize_prep', 'resize_reverting', 'restoring', 'resuming', 'scheduling', 'shelving', 'shelving_image_pending_upload', 'shelving_image_uploading', 'shelving_offloading', 'soft-deleting', 'spawning', 'suspending', 'updating_password', 'unpausing', 'unrescuing', 'unshelving', ), help=_( 'Search by task_state value ' '(admin only until microversion 2.82)' ), ) parser.add_argument( '--power-state', metavar='<state>', # taken from 'InstancePowerState' object field in nova choices=( 'pending', 'running', 'paused', 'shutdown', 'crashed', 'suspended', ), help=_( 'Search by power_state value ' '(admin only until microversion 2.82)' ), ) parser.add_argument( if parsed_args.availability_zone: search_opts['availability_zone'] = parsed_args.availability_zone if parsed_args.key_name: search_opts['key_name'] = parsed_args.key_name if parsed_args.has_config_drive is not None: search_opts['config_drive'] = parsed_args.has_config_drive if parsed_args.progress is not None: search_opts['progress'] = str(parsed_args.progress) if parsed_args.vm_state: search_opts['vm_state'] = parsed_args.vm_state if parsed_args.task_state: search_opts['task_state'] = parsed_args.task_state if parsed_args.power_state: # taken from 'InstancePowerState' object field in nova power_state = { 'pending': 0, 'running': 1, 'paused': 3, 'shutdown': 4, 'crashed': 6, 'suspended': 7, }[parsed_args.power_state] search_opts['power_state'] = power_state ", # FIXME(dhellmann): Add choices?,353,2
openstack%2Fswift~stable%2Fussuri~I294d5350e2f418614e54ff7bdd47dff16bfdcdbc,openstack/swift,stable/ussuri,I294d5350e2f418614e54ff7bdd47dff16bfdcdbc,[stable-only] Cap bandit to 1.6.2,MERGED,2021-01-05 23:40:47.000000000,2021-01-08 02:27:52.000000000,2021-01-08 02:26:13.000000000,"[{'_account_id': 10135}, {'_account_id': 14288}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-05 23:40:47.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/swift/commit/41bec521f09c3711b819404470090e186477b6e6', 'message': '[stable-only] Cap bandit to 1.6.2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nCloses-Bug: #1907438\nChange-Id: I294d5350e2f418614e54ff7bdd47dff16bfdcdbc\n'}]",0,769439,41bec521f09c3711b819404470090e186477b6e6,17,4,1,15343,,,0,"[stable-only] Cap bandit to 1.6.2

The 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2
when using py2.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615

Closes-Bug: #1907438
Change-Id: I294d5350e2f418614e54ff7bdd47dff16bfdcdbc
",git fetch https://review.opendev.org/openstack/swift refs/changes/39/769439/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,41bec521f09c3711b819404470090e186477b6e6,,"bandit>=1.1.0,<=1.6.2 # Apache-2.0",bandit>=1.1.0 # Apache-2.0,1,1
openstack%2Ftripleo-docs~master~I3a49630d0d8c1bb583497ae459d4f506bb76c280,openstack/tripleo-docs,master,I3a49630d0d8c1bb583497ae459d4f506bb76c280,Added Victoria release,MERGED,2020-12-07 00:55:25.000000000,2021-01-08 02:06:41.000000000,2021-01-08 02:05:13.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-07 00:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/1decbc6159a65c44af0a4cf34a99c1e8893a2e6a', 'message': 'Added Victoria release\n\nAdded how to enable Victoria. Will do a follow-up patch to remove\nany older releases no longer supported once confirmed.\n\nChange-Id: I3a49630d0d8c1bb583497ae459d4f506bb76c280\n'}, {'number': 2, 'created': '2020-12-07 19:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/dd0ca1c60c16f15060ef56f77746ae25c5fd73d4', 'message': 'Added Victoria release\n\nAdded how to enable Victoria. Will do a follow-up patch to remove\nany older releases no longer supported once confirmed.\n\nChange-Id: I3a49630d0d8c1bb583497ae459d4f506bb76c280\n'}, {'number': 3, 'created': '2020-12-09 00:08:48.000000000', 'files': ['deploy-guide/source/repositories.rst', 'deploy-guide/source/deployment/install_overcloud.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/d55d13cd530b2de1e7be8c35010b4d20d14eaa7a', 'message': 'Added Victoria release\n\nAdded how to enable Victoria. Will do a follow-up patch to remove\nany older releases no longer supported once confirmed.\n\nChange-Id: I3a49630d0d8c1bb583497ae459d4f506bb76c280\n'}]",1,765692,d55d13cd530b2de1e7be8c35010b4d20d14eaa7a,14,3,3,15993,,,0,"Added Victoria release

Added how to enable Victoria. Will do a follow-up patch to remove
any older releases no longer supported once confirmed.

Change-Id: I3a49630d0d8c1bb583497ae459d4f506bb76c280
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/92/765692/3 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/repositories.rst'],1,1decbc6159a65c44af0a4cf34a99c1e8893a2e6a,v-repos, .. admonition:: Victoria :class: victoria utov Enable the current Victoria repositories .. code-block:: bash sudo -E tripleo-repos -b victoria current .. admonition:: Ceph :class: ceph Include the Ceph repo in the tripleo-repos call .. code-block:: bash sudo -E tripleo-repos -b victoria current ceph ,,18,0
openstack%2Fpython-openstackclient~master~If393836925fa736404527d9abd212b8ac9931027,openstack/python-openstackclient,master,If393836925fa736404527d9abd212b8ac9931027,trivial: Use plural for appended parameters,MERGED,2020-11-05 12:34:54.000000000,2021-01-08 01:52:08.000000000,2021-01-08 01:49:21.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-11-05 12:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/70f0e9a3918c5319825ae5e43f980ef671b481ca', 'message': ""trivial: Use plural for appended parameters\n\nMultiple compute commands take a '--property' parameter or variant\nthereof. These should be stored in a 'properties' (plural) dest for\nsanity's sake. Correct this.\n\nChange-Id: If393836925fa736404527d9abd212b8ac9931027\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2020-11-06 09:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f15ff6976f0720c9f70cf8909c7caf19b6e1f30d', 'message': ""trivial: Use plural for appended parameters\n\nMultiple compute commands take a '--property' parameter or variant\nthereof. These should be stored in a 'properties' (plural) dest for\nsanity's sake. Correct this.\n\nChange-Id: If393836925fa736404527d9abd212b8ac9931027\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2020-11-06 13:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/01b2db8527629dad23808030f36209100bdb9fe6', 'message': ""trivial: Use plural for appended parameters\n\nMultiple compute commands take a '--property' parameter or variant\nthereof. These should be stored in a 'properties' (plural) dest for\nsanity's sake. Correct this.\n\nChange-Id: If393836925fa736404527d9abd212b8ac9931027\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2020-11-12 15:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1416c80dff4b4010a76102cc3e77af2da847cb0a', 'message': ""trivial: Use plural for appended parameters\n\nMultiple compute commands take a '--property' parameter or variant\nthereof. These should be stored in a 'properties' (plural) dest for\nsanity's sake. Correct this.\n\nChange-Id: If393836925fa736404527d9abd212b8ac9931027\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2020-11-17 17:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4a49952017af0865e63f2e77287145a06ee3e32f', 'message': ""trivial: Use plural for appended parameters\n\nMultiple compute commands take a '--property' parameter or variant\nthereof. These should be stored in a 'properties' (plural) dest for\nsanity's sake. Correct this.\n\nChange-Id: If393836925fa736404527d9abd212b8ac9931027\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2020-11-18 10:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/527e51e80a1978125fc890a83819f201f460f4b3', 'message': ""trivial: Use plural for appended parameters\n\nMultiple compute commands take a '--property' parameter or variant\nthereof. These should be stored in a 'properties' (plural) dest for\nsanity's sake. Correct this.\n\nChange-Id: If393836925fa736404527d9abd212b8ac9931027\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2020-11-19 14:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a1fc37eb5c2b38181e1e9ad3fd276fa08e31e4ed', 'message': ""trivial: Use plural for appended parameters\n\nMultiple compute commands take a '--property' parameter or variant\nthereof. These should be stored in a 'properties' (plural) dest for\nsanity's sake. Correct this.\n\nChange-Id: If393836925fa736404527d9abd212b8ac9931027\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2020-12-08 16:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/54cc5c45f8bf65b5ba97448ee95044830a56165e', 'message': ""trivial: Use plural for appended parameters\n\nMultiple compute commands take a '--property' parameter or variant\nthereof. These should be stored in a 'properties' (plural) dest for\nsanity's sake. Correct this.\n\nChange-Id: If393836925fa736404527d9abd212b8ac9931027\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 9, 'created': '2020-12-09 15:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f2635c9c160b06e6f3feb22bc13b4e95040e98e6', 'message': ""trivial: Use plural for appended parameters\n\nMultiple compute commands take a '--property' parameter or variant\nthereof. These should be stored in a 'properties' (plural) dest for\nsanity's sake. Correct this.\n\nChange-Id: If393836925fa736404527d9abd212b8ac9931027\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 10, 'created': '2021-01-06 12:03:06.000000000', 'files': ['openstackclient/tests/unit/compute/v2/test_aggregate.py', 'openstackclient/compute/v2/flavor.py', 'openstackclient/tests/unit/compute/v2/test_flavor.py', 'openstackclient/compute/v2/aggregate.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bbf7de83ff83b7c124ff30e421bd3eea6f1a8765', 'message': ""trivial: Use plural for appended parameters\n\nMultiple compute commands take a '--property' parameter or variant\nthereof. These should be stored in a 'properties' (plural) dest for\nsanity's sake. Correct this.\n\nChange-Id: If393836925fa736404527d9abd212b8ac9931027\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,761598,bbf7de83ff83b7c124ff30e421bd3eea6f1a8765,29,2,10,15334,,,0,"trivial: Use plural for appended parameters

Multiple compute commands take a '--property' parameter or variant
thereof. These should be stored in a 'properties' (plural) dest for
sanity's sake. Correct this.

Change-Id: If393836925fa736404527d9abd212b8ac9931027
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/98/761598/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/compute/v2/test_aggregate.py', 'openstackclient/compute/v2/flavor.py', 'openstackclient/tests/unit/compute/v2/test_flavor.py', 'openstackclient/compute/v2/aggregate.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",6,70f0e9a3918c5319825ae5e43f980ef671b481ca,trivial," dest='image_properties', dest='properties', if not image and parsed_args.image_properties: def emit_duplicated_warning(img): images = _match_image(image_client, parsed_args.image_properties) if len(images) > 1: emit_duplicated_warning(images, parsed_args.image_properties) meta=parsed_args.properties, dest='properties', if parsed_args.properties: kwargs['meta'] = parsed_args.properties '--property', metavar='<key=value>', dest='properties', if parsed_args.properties: compute_client.servers.set_meta(server, parsed_args.properties) dest='properties', if parsed_args.properties: compute_client.servers.delete_meta(server, parsed_args.properties)"," if not image and parsed_args.image_property: def emit_duplicated_warning(img, image_property): images = _match_image(image_client, parsed_args.image_property) if len(images) > 1: emit_duplicated_warning(images, parsed_args.image_property) meta=parsed_args.property, if parsed_args.property: kwargs['meta'] = parsed_args.property ""--property"", metavar=""<key=value>"", if parsed_args.property: compute_client.servers.set_meta( server, parsed_args.property, ) if parsed_args.property: compute_client.servers.delete_meta( server, parsed_args.property, )",75,73
openstack%2Fpython-openstackclient~master~Ide31466cbb9e89c96d6bd542fe039ab5ed1fac1f,openstack/python-openstackclient,master,Ide31466cbb9e89c96d6bd542fe039ab5ed1fac1f,compute: Fix 'hypervisor show -f yaml' output,MERGED,2020-11-17 12:49:37.000000000,2021-01-08 01:51:11.000000000,2021-01-08 01:48:49.000000000,"[{'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-11-17 12:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/226c16c93312f2fd718b532be8cd168a9adab978', 'message': ""compute: Format 'cpu_info' field of 'hypervisor show'\n\nThis is a stringified object on microversion < 2.28 and an actual object\non anything later. Handle the conversion from the string for older\nmicroversions and display things correctly for all releases.\n\nChange-Id: Ide31466cbb9e89c96d6bd542fe039ab5ed1fac1f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2020-11-17 17:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/85b235e0c4d265cda3b451c5c5e2f5c67beeef83', 'message': ""compute: Fix 'hypervisor show -f yaml' output\n\nThe 'cpu_info' field returned by the 'os-hypervisors' API is an object\nand should be formatted as such.  However, this is complicated by the\nfact that the object in this field is stringified until microversion <\n2.28 and is only returned as an actual object on later microversions.\nHandle the conversion from the string for older microversions and\ndisplay things correctly for all releases.\n\nChange-Id: Ide31466cbb9e89c96d6bd542fe039ab5ed1fac1f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2020-11-18 10:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/627762f9d7a632499d5172dbf2ed8f4504fd5228', 'message': ""compute: Fix 'hypervisor show -f yaml' output\n\nThe 'cpu_info' field returned by the 'os-hypervisors' API is an object\nand should be formatted as such.  However, this is complicated by the\nfact that the object in this field is stringified until microversion\n2.28 and is only returned as an actual object on later microversions.\nHandle the conversion from the string for older microversions and\ndisplay things correctly for all releases.\n\nChange-Id: Ide31466cbb9e89c96d6bd542fe039ab5ed1fac1f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2020-11-19 14:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/59abf56bed278d3077f33ce4f729c3d3710f0d16', 'message': ""compute: Fix 'hypervisor show -f yaml' output\n\nThe 'cpu_info' field returned by the 'os-hypervisors' API is an object\nand should be formatted as such.  However, this is complicated by the\nfact that the object in this field is stringified until microversion\n2.28 and is only returned as an actual object on later microversions.\nHandle the conversion from the string for older microversions and\ndisplay things correctly for all releases.\n\nChange-Id: Ide31466cbb9e89c96d6bd542fe039ab5ed1fac1f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2020-12-08 16:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/58b67379e38bd42746af575338a665350b04591d', 'message': ""compute: Fix 'hypervisor show -f yaml' output\n\nThe 'cpu_info' field returned by the 'os-hypervisors' API is an object\nand should be formatted as such.  However, this is complicated by the\nfact that the object in this field is stringified until microversion\n2.28 and is only returned as an actual object on later microversions.\nHandle the conversion from the string for older microversions and\ndisplay things correctly for all releases.\n\nChange-Id: Ide31466cbb9e89c96d6bd542fe039ab5ed1fac1f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2020-12-09 15:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c8e102ce1c68d71d875cb57d46a74d7ca2fccc08', 'message': ""compute: Fix 'hypervisor show -f yaml' output\n\nThe 'cpu_info' field returned by the 'os-hypervisors' API is an object\nand should be formatted as such.  However, this is complicated by the\nfact that the object in this field is stringified until microversion\n2.28 and is only returned as an actual object on later microversions.\nHandle the conversion from the string for older microversions and\ndisplay things correctly for all releases.\n\nChange-Id: Ide31466cbb9e89c96d6bd542fe039ab5ed1fac1f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2021-01-06 12:03:06.000000000', 'files': ['releasenotes/notes/improved-server-output-6965b664f6abda8d.yaml', 'openstackclient/compute/v2/hypervisor.py', 'openstackclient/tests/unit/compute/v2/test_hypervisor.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bf834f6d7582009672fc65aa983f314684dc4380', 'message': ""compute: Fix 'hypervisor show -f yaml' output\n\nThe 'cpu_info' field returned by the 'os-hypervisors' API is an object\nand should be formatted as such.  However, this is complicated by the\nfact that the object in this field is stringified until microversion\n2.28 and is only returned as an actual object on later microversions.\nHandle the conversion from the string for older microversions and\ndisplay things correctly for all releases.\n\nChange-Id: Ide31466cbb9e89c96d6bd542fe039ab5ed1fac1f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,763004,bf834f6d7582009672fc65aa983f314684dc4380,25,3,7,15334,,,0,"compute: Fix 'hypervisor show -f yaml' output

The 'cpu_info' field returned by the 'os-hypervisors' API is an object
and should be formatted as such.  However, this is complicated by the
fact that the object in this field is stringified until microversion
2.28 and is only returned as an actual object on later microversions.
Handle the conversion from the string for older microversions and
display things correctly for all releases.

Change-Id: Ide31466cbb9e89c96d6bd542fe039ab5ed1fac1f
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/04/763004/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-hypervisors-show-cpu_info-4961261bc5b976f6.yaml', 'openstackclient/compute/v2/hypervisor.py', 'openstackclient/tests/unit/compute/v2/test_hypervisor.py']",3,226c16c93312f2fd718b532be8cd168a9adab978,trivial,"import json from novaclient import api_versionsfrom osc_lib.cli import format_columns format_columns.DictColumn({'aaa': 'aaa'}), self.app.client_manager.compute.api_version = \ api_versions.APIVersion('2.28') self.assertItemEqual(self.data, data) def test_hypervisor_show_pre_v228(self): self.app.client_manager.compute.api_version = \ api_versions.APIVersion('2.27') # before microversion 2.28, nova returned a stringified version of this # field self.hypervisor._info['cpu_info'] = json.dumps( self.hypervisor._info['cpu_info']) self.hypervisors_mock.get.return_value = self.hypervisor arglist = [ self.hypervisor.hypervisor_hostname, ] verifylist = [ ('hypervisor', self.hypervisor.hypervisor_hostname), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) # In base command class ShowOne in cliff, abstract method take_action() # returns a two-part tuple with a tuple of column names and a tuple of # data to be shown. columns, data = self.cmd.take_action(parsed_args) self.assertEqual(self.columns, columns) self.assertItemEqual(self.data, data) def test_hypervisor_show_uptime_not_implemented(self): self.app.client_manager.compute.api_version = \ api_versions.APIVersion('2.28') format_columns.DictColumn({'aaa': 'aaa'}), self.assertItemEqual(expected_data, data)"," {'aaa': 'aaa'}, self.assertEqual(self.data, data) def test_hyprvisor_show_uptime_not_implemented(self): {'aaa': 'aaa'}, self.assertEqual(expected_data, data)",66,8
openstack%2Fswift~master~Ic1d699c077ac2aa582d799b3c9ebc61bc4338049,openstack/swift,master,Ic1d699c077ac2aa582d799b3c9ebc61bc4338049,"Have PrefixLoggerAdapter prefix exceptions, as well",MERGED,2020-10-27 16:09:50.000000000,2021-01-08 01:50:53.000000000,2021-01-08 01:48:35.000000000,"[{'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-27 16:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c6bbe01a7a5e60068a693d5e49d6c4dcaf2cba2b', 'message': 'Have PrefixLoggerAdapter prefix exceptions, as well\n\nIDK why this had a carve-out before.\n\nChange-Id: Ic1d699c077ac2aa582d799b3c9ebc61bc4338049\n'}, {'number': 2, 'created': '2020-12-31 05:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/37698768f9e96ddedafa4bca032f358d2b75d6ed', 'message': 'Have PrefixLoggerAdapter prefix exceptions, as well\n\nLooks like this was overlooked while we were getting support for\nTimeouts (etc.) without tracebacks?\n\nChange-Id: Ic1d699c077ac2aa582d799b3c9ebc61bc4338049\n'}, {'number': 3, 'created': '2021-01-06 00:06:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d0fa0abaf0d478ba9a90647110bf32dc1880ce30', 'message': 'Have PrefixLoggerAdapter prefix exceptions, as well\n\nLooks like this was overlooked while we were getting support for\nTimeouts (etc.) without tracebacks?\n\nChange-Id: Ic1d699c077ac2aa582d799b3c9ebc61bc4338049\n'}, {'number': 4, 'created': '2021-01-06 05:51:13.000000000', 'files': ['swift/common/utils.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/cc69e5b08cd7bd42715eaff25120612e93c8a59a', 'message': 'Have PrefixLoggerAdapter prefix exceptions, as well\n\nLooks like this was overlooked while we were getting support for\nTimeouts (etc.) without tracebacks?\n\nChange-Id: Ic1d699c077ac2aa582d799b3c9ebc61bc4338049\n'}]",1,759898,cc69e5b08cd7bd42715eaff25120612e93c8a59a,16,3,4,15343,,,0,"Have PrefixLoggerAdapter prefix exceptions, as well

Looks like this was overlooked while we were getting support for
Timeouts (etc.) without tracebacks?

Change-Id: Ic1d699c077ac2aa582d799b3c9ebc61bc4338049
",git fetch https://review.opendev.org/openstack/swift refs/changes/98/759898/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/utils.py'],1,c6bbe01a7a5e60068a693d5e49d6c4dcaf2cba2b,,," def exception(self, *a, **kw): self.logger.exception(*a, **kw) ",0,3
openstack%2Fpython-openstackclient~master~Ie22979df2ea9082ca64a4d43b571bd4025684825,openstack/python-openstackclient,master,Ie22979df2ea9082ca64a4d43b571bd4025684825,compute: Add 'server show --topology' option,MERGED,2019-09-09 07:31:20.000000000,2021-01-08 01:49:12.000000000,2021-01-08 01:49:12.000000000,"[{'_account_id': 2}, {'_account_id': 970}, {'_account_id': 6873}, {'_account_id': 7543}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-09-09 07:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3c90214a59963b5a0f2bae09447d98150febe9b6', 'message': 'Microversion 2.78 - show server topology\n\nAdd a ``--topology`` option to\n``openstack server show`` command that retrieves server NUMA information.\n\nDepends-on: https://review.opendev.org/#/c/670790/\nChange-Id: Ie22979df2ea9082ca64a4d43b571bd4025684825\n'}, {'number': 2, 'created': '2019-09-09 07:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bb7ac86781a26e7b16796c1fe762f9666bbb444d', 'message': 'Microversion 2.78 - server show topology\n\nAdd a ``--topology`` option to\n``openstack server show`` command that retrieves server NUMA information.\n\nDepends-on: https://review.opendev.org/#/c/670790/\nChange-Id: Ie22979df2ea9082ca64a4d43b571bd4025684825\n'}, {'number': 3, 'created': '2019-09-10 13:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f2492a344276bd1f3e4b4156123f3a3f272d29bc', 'message': 'Microversion 2.78 - server show topology\n\nAdd a ``--topology`` option to\n``openstack server show`` command that retrieves server NUMA information.\n\nDepends-on: https://review.opendev.org/#/c/670790/\nChange-Id: Ie22979df2ea9082ca64a4d43b571bd4025684825\n'}, {'number': 4, 'created': '2019-09-11 08:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d37621e8c80dbc29b3b49f64d765df0933ff2e6f', 'message': 'Microversion 2.78 - server show topology\n\nAdd a ``--topology`` option to\n``openstack server show`` command that retrieves server NUMA information.\n\nDepends-on: https://review.opendev.org/#/c/670790/\nDepends-on: https://review.opendev.org/#/c/681267/\nChange-Id: Ie22979df2ea9082ca64a4d43b571bd4025684825\n'}, {'number': 5, 'created': '2019-09-24 14:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/36dc7c22a7f6952451bead4763bc81dda57aff02', 'message': 'Microversion 2.78 - server show topology\n\nAdd a ``--topology`` option to\n``openstack server show`` command that retrieves server NUMA information.\n\nDepends-on: https://review.opendev.org/#/c/670790/\nDepends-on: https://review.opendev.org/#/c/681267/\nChange-Id: Ie22979df2ea9082ca64a4d43b571bd4025684825\n'}, {'number': 6, 'created': '2019-10-23 06:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0154d1afc517fcca1822518eddcc7bf1b68d6742', 'message': 'Microversion 2.78 - server show topology\n\nAdd a ``--topology`` option to\n``openstack server show`` command that retrieves server NUMA information.\n\nDepends-on: https://review.opendev.org/#/c/670790/\nDepends-on: https://review.opendev.org/#/c/681267/\nChange-Id: Ie22979df2ea9082ca64a4d43b571bd4025684825\n'}, {'number': 7, 'created': '2019-10-23 06:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/afbab3c70cf892a494ecbb3f25195ae9ae35b614', 'message': 'Microversion 2.78 - server show topology\n\nAdd a ``--topology`` option to\n``openstack server show`` command that retrieves server NUMA information.\n\nDepends-on: https://review.opendev.org/#/c/670790/\nDepends-on: https://review.opendev.org/#/c/681267/\nChange-Id: Ie22979df2ea9082ca64a4d43b571bd4025684825\n'}, {'number': 8, 'created': '2019-10-24 01:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/039f6cdb36c5e8dfbd8d5f92ff286406b8a0d7e6', 'message': 'Microversion 2.78 - server show topology\n\nAdd a ``--topology`` option to\n``openstack server show`` command that retrieves server NUMA information.\n\nDepends-on: https://review.opendev.org/#/c/670790/\nDepends-on: https://review.opendev.org/#/c/681267/\nChange-Id: Ie22979df2ea9082ca64a4d43b571bd4025684825\n'}, {'number': 9, 'created': '2019-11-15 08:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/44a00fd735024437ee82a1475a085fbc9c9e9036', 'message': 'Microversion 2.78 - server show topology\n\nAdd a ``--topology`` option to\n``openstack server show`` command that retrieves server NUMA information.\n\nDepends-on: https://review.opendev.org/#/c/670790/\nDepends-on: https://review.opendev.org/#/c/681267/\nChange-Id: Ie22979df2ea9082ca64a4d43b571bd4025684825\n'}, {'number': 10, 'created': '2019-11-25 06:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bac7b280e3034c4200fd0df46cae146c75d7df43', 'message': 'Microversion 2.78 - server show topology\n\nAdd a ``--topology`` option to\n``openstack server show`` command that retrieves server NUMA information.\n\nDepends-on: https://review.opendev.org/#/c/670790/\nDepends-on: https://review.opendev.org/#/c/681267/\nChange-Id: Ie22979df2ea9082ca64a4d43b571bd4025684825\n'}, {'number': 11, 'created': '2019-11-26 00:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/73f1fa1da236acec872e7bcb1a72ccc574ca10b1', 'message': 'Microversion 2.78 - server show topology\n\nAdd a ``--topology`` option to\n``openstack server show`` command that retrieves server NUMA information.\n\nDepends-on: https://review.opendev.org/#/c/670790/\nDepends-on: https://review.opendev.org/#/c/681267/\nChange-Id: Ie22979df2ea9082ca64a4d43b571bd4025684825\n'}, {'number': 12, 'created': '2020-11-06 11:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f25d0ef618f63aeb2af03a266407e665ff64b244', 'message': ""compute: Add 'server show --topology' option\n\nAdd support for compute microversion 2.78 by adding a '--topology'\noption to 'openstack server show' command that retrieves server NUMA\ninformation.\n\nChange-Id: Ie22979df2ea9082ca64a4d43b571bd4025684825\n""}, {'number': 13, 'created': '2020-11-06 11:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c8a302758252a32e3c1c38a721b5e13938be15a3', 'message': ""compute: Add 'server show --topology' option\n\nAdd support for compute microversion 2.78 by adding a '--topology'\noption to 'openstack server show' command that retrieves server NUMA\ninformation.\n\nChange-Id: Ie22979df2ea9082ca64a4d43b571bd4025684825\n""}, {'number': 14, 'created': '2020-11-18 11:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8f4c862366004959cb4762280d456e04c4142c7c', 'message': ""compute: Add 'server show --topology' option\n\nAdd support for compute microversion 2.78 by adding a '--topology'\noption to 'openstack server show' command that retrieves server NUMA\ninformation.\n\nChange-Id: Ie22979df2ea9082ca64a4d43b571bd4025684825\n""}, {'number': 15, 'created': '2020-11-19 14:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b6a265ef1f8ca03c174c179acf24bf7476290a0c', 'message': ""compute: Add 'server show --topology' option\n\nAdd support for compute microversion 2.78 by adding a '--topology'\noption to 'openstack server show' command that retrieves server NUMA\ninformation.\n\nChange-Id: Ie22979df2ea9082ca64a4d43b571bd4025684825\n""}, {'number': 16, 'created': '2020-12-08 16:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d291b0d5d355e403994351d7af9dd2bddd5a928f', 'message': ""compute: Add 'server show --topology' option\n\nAdd support for compute microversion 2.78 by adding a '--topology'\noption to 'openstack server show' command that retrieves server NUMA\ninformation.\n\nChange-Id: Ie22979df2ea9082ca64a4d43b571bd4025684825\n""}, {'number': 17, 'created': '2020-12-09 15:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a4245553633d22d1c2c2d55f66391bd7e7fc08ad', 'message': ""compute: Add 'server show --topology' option\n\nAdd support for compute microversion 2.78 by adding a '--topology'\noption to 'openstack server show' command that retrieves server NUMA\ninformation.\n\nChange-Id: Ie22979df2ea9082ca64a4d43b571bd4025684825\n""}, {'number': 18, 'created': '2021-01-06 12:03:06.000000000', 'files': ['releasenotes/notes/show-server-topology-microversion-v2_78-3891fc67f767177e.yaml', 'doc/source/cli/data/nova.csv', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f200799848831a00f350c324bb77c00efa50da1c', 'message': ""compute: Add 'server show --topology' option\n\nAdd support for compute microversion 2.78 by adding a '--topology'\noption to 'openstack server show' command that retrieves server NUMA\ninformation.\n\nChange-Id: Ie22979df2ea9082ca64a4d43b571bd4025684825\n""}]",21,680928,f200799848831a00f350c324bb77c00efa50da1c,58,8,18,7543,,,0,"compute: Add 'server show --topology' option

Add support for compute microversion 2.78 by adding a '--topology'
option to 'openstack server show' command that retrieves server NUMA
information.

Change-Id: Ie22979df2ea9082ca64a4d43b571bd4025684825
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/28/680928/18 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/show-server-topology-microversion-v2_78-3891fc67f767177e.yaml', 'doc/source/cli/data/nova.csv', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/compute/v2/server.py']",4,3c90214a59963b5a0f2bae09447d98150febe9b6,trivial," parser.add_argument( '--topology', action='store_true', default=False, help=_('Display server NUMA topology information'), ) elif parsed_args.topology: (resp, data) = server.topology() if not resp.status_code == 200: self.app.stderr.write(_( ""Error retrieving NUMA topology data\n"" )) return ({}, {})",,50,0
openstack%2Fpython-openstackclient~master~Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c,openstack/python-openstackclient,master,Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c,compute: Add 'server group create --rule' option,MERGED,2020-11-05 12:34:54.000000000,2021-01-08 01:48:59.000000000,2021-01-08 01:48:59.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-11-05 12:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bbe97315d2e80d1b3c0f6b462a46d6bc127130a0', 'message': ""Add support for 'server group create --rule' parameter\n\nThis closes the remaining gap with the 2.64 compute API microversion.\n\nChange-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2020-11-06 09:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/9184ff52b5c32f1a464e32b4e4ed3da0ff8379f7', 'message': ""Add support for 'server group create --rule' parameter\n\nThis closes the remaining gap with the 2.64 compute API microversion.\n\nChange-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2020-11-06 13:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/059c2a53be4d4713b153ff07b173eebcbc2075ee', 'message': ""Add support for 'server group create --rule' parameter\n\nThis closes the remaining gap with the 2.64 compute API microversion.\n\nChange-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2020-11-12 15:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/23dca50c9d5159c8943b560dde18b62b9a4b442a', 'message': ""Add support for 'server group create --rule' parameter\n\nThis closes the remaining gap with the 2.64 compute API microversion.\n\nChange-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2020-11-17 17:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3fcfae173fae21f798fbb1b05cb7cfb02bd09724', 'message': ""Add support for 'server group create --rule' parameter\n\nThis closes the remaining gap with the 2.64 compute API microversion.\n\nChange-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2020-11-18 10:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/be229d9eb0ab4ec53a799de108f24529444288b3', 'message': ""Add support for 'server group create --rule' parameter\n\nThis closes the remaining gap with the 2.64 compute API microversion.\n\nChange-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2020-11-19 14:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/cbbf84d9f1cd92e7bfd3093174f0a57e910f917d', 'message': ""compute: Add 'server group create --rule' option\n\nThis closes the remaining gap with the 2.64 compute API microversion.\n\nChange-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2020-12-08 16:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/69db2b55fb95bb57dd4997e01954adb748aa5f6f', 'message': ""compute: Add 'server group create --rule' option\n\nThis closes the remaining gap with the 2.64 compute API microversion.\n\nChange-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 9, 'created': '2020-12-09 15:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/1be84193f20159a4c0cfaf1686d15fc5d96e803e', 'message': ""compute: Add 'server group create --rule' option\n\nThis closes the remaining gap with the 2.64 compute API microversion.\n\nChange-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 10, 'created': '2021-01-06 12:03:06.000000000', 'files': ['openstackclient/compute/v2/server_group.py', 'releasenotes/notes/server-group-create_rule_option-9f84e52f35e7c3ba.yaml', 'openstackclient/tests/unit/compute/v2/test_server_group.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a5c6470f2d76afb9ac87d05c4326bebf925a55da', 'message': ""compute: Add 'server group create --rule' option\n\nThis closes the remaining gap with the 2.64 compute API microversion.\n\nChange-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",2,761597,a5c6470f2d76afb9ac87d05c4326bebf925a55da,34,4,10,15334,,,0,"compute: Add 'server group create --rule' option

This closes the remaining gap with the 2.64 compute API microversion.

Change-Id: Ia42b23d813b7af6ddb1a41f4e9bdc8a6160b908c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/97/761597/9 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/compute/v2/server_group.py', 'releasenotes/notes/server-group-create_rule_option-9f84e52f35e7c3ba.yaml', 'openstackclient/tests/unit/compute/v2/test_server_group.py']",3,bbe97315d2e80d1b3c0f6b462a46d6bc127130a0,trivial," def test_server_group_create_with_rules(self): '--rule', 'max_server_per_host=2', ('rules', {'max_server_per_host': '2'}), policy=parsed_args.policy, # should be 'policy', not 'policies' rules=parsed_args.rules, def test_server_group_create_with_rules_pre_v264(self): self.app.client_manager.compute.api_version = api_versions.APIVersion( '2.63') arglist = [ '--policy', 'soft-anti-affinity', '--rule', 'max_server_per_host=2', 'affinity_group', ] verifylist = [ ('policy', 'soft-anti-affinity'), ('rules', {'max_server_per_host': '2'}), ('name', 'affinity_group'), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) ex = self.assertRaises( exceptions.CommandError, self.cmd.take_action, parsed_args) self.assertIn( '--os-compute-api-version 2.64 or greater is required', str(ex)) "," def test_server_group_create_v264(self): policy=parsed_args.policy,",65,7
openstack%2Fpython-openstackclient~master~Id6d25a0a348596d5a0430ff7afbf87b049a76bc8,openstack/python-openstackclient,master,Id6d25a0a348596d5a0430ff7afbf87b049a76bc8,compute: Fix 'server group * -f yaml' output,MERGED,2020-11-05 12:34:54.000000000,2021-01-08 01:42:40.000000000,2021-01-08 01:40:29.000000000,"[{'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-11-05 12:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/19a47fdbd38783b7e02e310d8ce5fb7b32903a22', 'message': ""compute: Fix 'server group * -f yaml' output\n\nMake use of 'FormattableColumn'-derived formatters, which provide better\noutput than what we were using before, particularly for the YAML output\nformat.\n\nChange-Id: Id6d25a0a348596d5a0430ff7afbf87b049a76bc8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2020-11-06 09:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6402fa0da7236bd858267be076750053eb55b8db', 'message': ""compute: Fix 'server group * -f yaml' output\n\nMake use of 'FormattableColumn'-derived formatters, which provide better\noutput than what we were using before, particularly for the YAML output\nformat.\n\nChange-Id: Id6d25a0a348596d5a0430ff7afbf87b049a76bc8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2020-11-06 13:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/27967c605aff85dd990d42b6f543a8560ce43e3e', 'message': ""compute: Fix 'server group * -f yaml' output\n\nMake use of 'FormattableColumn'-derived formatters, which provide better\noutput than what we were using before, particularly for the YAML output\nformat.\n\nChange-Id: Id6d25a0a348596d5a0430ff7afbf87b049a76bc8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2020-11-12 15:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6bada2171d5efe32eb1f18bc084c6d23b19ad56a', 'message': ""compute: Fix 'server group * -f yaml' output\n\nMake use of 'FormattableColumn'-derived formatters, which provide better\noutput than what we were using before, particularly for the YAML output\nformat.\n\nChange-Id: Id6d25a0a348596d5a0430ff7afbf87b049a76bc8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2020-11-17 17:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/01b409b6408807e9cd1f4e4c169dae22c009e7d1', 'message': ""compute: Fix 'server group * -f yaml' output\n\nMake use of 'FormattableColumn'-derived formatters, which provide better\noutput than what we were using before, particularly for the YAML output\nformat.\n\nChange-Id: Id6d25a0a348596d5a0430ff7afbf87b049a76bc8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2020-11-18 10:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c654b1d5fe5f918df07ccd862923db803f6e980c', 'message': ""compute: Fix 'server group * -f yaml' output\n\nMake use of 'FormattableColumn'-derived formatters, which provide better\noutput than what we were using before, particularly for the YAML output\nformat.\n\nChange-Id: Id6d25a0a348596d5a0430ff7afbf87b049a76bc8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2020-11-19 14:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/a254b9c1d4f8a26811e19995726473f2a0f6371d', 'message': ""compute: Fix 'server group * -f yaml' output\n\nMake use of 'FormattableColumn'-derived formatters, which provide better\noutput than what we were using before, particularly for the YAML output\nformat.\n\nChange-Id: Id6d25a0a348596d5a0430ff7afbf87b049a76bc8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2020-12-08 16:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c924357360e2485d606e72a4bc973a6cf2a7bf9c', 'message': ""compute: Fix 'server group * -f yaml' output\n\nMake use of 'FormattableColumn'-derived formatters, which provide better\noutput than what we were using before, particularly for the YAML output\nformat.\n\nChange-Id: Id6d25a0a348596d5a0430ff7afbf87b049a76bc8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 9, 'created': '2020-12-09 15:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ceb011a57bd3fdc51f22f12408a37339495e8d46', 'message': ""compute: Fix 'server group * -f yaml' output\n\nMake use of 'FormattableColumn'-derived formatters, which provide better\noutput than what we were using before, particularly for the YAML output\nformat.\n\nChange-Id: Id6d25a0a348596d5a0430ff7afbf87b049a76bc8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 10, 'created': '2021-01-06 12:03:06.000000000', 'files': ['releasenotes/notes/improved-server-output-6965b664f6abda8d.yaml', 'openstackclient/compute/v2/server_group.py', 'openstackclient/tests/functional/compute/v2/test_server_group.py', 'openstackclient/tests/unit/compute/v2/test_server_group.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e2a9a9607cc84c0afc2fc5524681a3adebdc68ec', 'message': ""compute: Fix 'server group * -f yaml' output\n\nMake use of 'FormattableColumn'-derived formatters, which provide better\noutput than what we were using before, particularly for the YAML output\nformat.\n\nChange-Id: Id6d25a0a348596d5a0430ff7afbf87b049a76bc8\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,761596,e2a9a9607cc84c0afc2fc5524681a3adebdc68ec,30,3,10,15334,,,0,"compute: Fix 'server group * -f yaml' output

Make use of 'FormattableColumn'-derived formatters, which provide better
output than what we were using before, particularly for the YAML output
format.

Change-Id: Id6d25a0a348596d5a0430ff7afbf87b049a76bc8
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/96/761596/10 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/compute/v2/server_group.py', 'openstackclient/tests/unit/compute/v2/test_server_group.py']",2,19a47fdbd38783b7e02e310d8ce5fb7b32903a22,trivial,"from openstackclient.common import format_columns format_columns.ListColumn(fake_server_group.members), format_columns.ListColumn(fake_server_group.policies), format_columns.ListColumn(fake_server_group.members), self.assertCountEqual(self.columns, columns) self.assertCountEqual(self.data, data) self.assertCountEqual(self.columns, columns) self.assertCountEqual(self.data, data) self.assertCountEqual(self.columns, columns) self.assertCountEqual(self.data, data) format_columns.ListColumn(TestServerGroup.fake_server_group.policies), format_columns.ListColumn(TestServerGroup.fake_server_group.policies), format_columns.ListColumn(TestServerGroup.fake_server_group.members), self.assertCountEqual(self.list_columns, columns) self.assertCountEqual(self.list_data, tuple(data)) self.assertCountEqual(self.list_columns_long, columns) self.assertCountEqual(self.list_data_long, tuple(data)) format_columns.ListColumn( TestServerGroupV264.fake_server_group.members), self.assertCountEqual(self.list_columns, columns) self.assertCountEqual(self.list_data, tuple(data)) self.assertCountEqual(self.list_columns_long, columns) self.assertCountEqual(self.list_data_long, tuple(data)) self.assertCountEqual(self.columns, columns) self.assertCountEqual(self.data, data)"," utils.format_list(fake_server_group.members), utils.format_list(fake_server_group.policies), utils.format_list(fake_server_group.members), self.assertEqual(self.columns, columns) self.assertEqual(self.data, data) self.assertEqual(self.columns, columns) self.assertEqual(self.data, data) self.assertEqual(self.columns, columns) self.assertEqual(self.data, data) utils.format_list(TestServerGroup.fake_server_group.policies), utils.format_list(TestServerGroup.fake_server_group.policies), utils.format_list(TestServerGroup.fake_server_group.members), self.assertEqual(self.list_columns, columns) self.assertEqual(self.list_data, tuple(data)) self.assertEqual(self.list_columns_long, columns) self.assertEqual(self.list_data_long, tuple(data)) utils.format_list(TestServerGroupV264.fake_server_group.members), self.assertEqual(self.list_columns, columns) self.assertEqual(self.list_data, tuple(data)) self.assertEqual(self.list_columns_long, columns) self.assertEqual(self.list_data_long, tuple(data)) self.assertEqual(self.columns, columns) self.assertEqual(self.data, data)",41,34
openstack%2Fpython-openstackclient~master~Ic770f27cb1f74222636f05350f97400808adffbf,openstack/python-openstackclient,master,Ic770f27cb1f74222636f05350f97400808adffbf,compute: Fix 'usage * -f yaml' output,MERGED,2020-11-05 12:34:54.000000000,2021-01-08 01:41:28.000000000,2021-01-08 01:40:04.000000000,"[{'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32761}]","[{'number': 1, 'created': '2020-11-05 12:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/50c2a204d87f41367c2ab803231673f38c8daccd', 'message': ""compute: Fix 'usage * -f yaml' output\n\nMake use of 'FormattableColumn'-derived formatters, which provide better\noutput than what we were using before, particularly for the YAML output\nformat.\n\nChange-Id: Ic770f27cb1f74222636f05350f97400808adffbf\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2020-11-06 09:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bea94f69270508a7f805459bd0e6681b7d52d9c8', 'message': ""compute: Fix 'usage * -f yaml' output\n\nMake use of 'FormattableColumn'-derived formatters, which provide better\noutput than what we were using before, particularly for the YAML output\nformat.\n\nChange-Id: Ic770f27cb1f74222636f05350f97400808adffbf\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2020-11-06 13:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c14f30905dcb944a1437c3e10cefbb690a5f5d13', 'message': ""compute: Fix 'usage * -f yaml' output\n\nMake use of 'FormattableColumn'-derived formatters, which provide better\noutput than what we were using before, particularly for the YAML output\nformat.\n\nChange-Id: Ic770f27cb1f74222636f05350f97400808adffbf\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2020-11-17 17:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/3cb1d839da9cef7203d6fbe270eefe58007fa050', 'message': ""compute: Fix 'usage * -f yaml' output\n\nMake use of 'FormattableColumn'-derived formatters, which provide better\noutput than what we were using before, particularly for the YAML output\nformat.\n\nChange-Id: Ic770f27cb1f74222636f05350f97400808adffbf\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 5, 'created': '2020-11-18 10:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d518a72eae9a7526cc8ca53273163a454f2b8017', 'message': ""compute: Fix 'usage * -f yaml' output\n\nMake use of 'FormattableColumn'-derived formatters, which provide better\noutput than what we were using before, particularly for the YAML output\nformat.\n\nChange-Id: Ic770f27cb1f74222636f05350f97400808adffbf\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 6, 'created': '2020-11-19 14:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/df5ecb9454209fd4952aa83043b75506aa754f28', 'message': ""compute: Fix 'usage * -f yaml' output\n\nMake use of 'FormattableColumn'-derived formatters, which provide better\noutput than what we were using before, particularly for the YAML output\nformat.\n\nChange-Id: Ic770f27cb1f74222636f05350f97400808adffbf\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 7, 'created': '2020-12-08 16:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/885ec25082a5ac735d8187fa5ffc586a232576a3', 'message': ""compute: Fix 'usage * -f yaml' output\n\nMake use of 'FormattableColumn'-derived formatters, which provide better\noutput than what we were using before, particularly for the YAML output\nformat.\n\nChange-Id: Ic770f27cb1f74222636f05350f97400808adffbf\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 8, 'created': '2020-12-09 15:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/8e6ef6d3265fc063b1d41b125215204ad485b811', 'message': ""compute: Fix 'usage * -f yaml' output\n\nMake use of 'FormattableColumn'-derived formatters, which provide better\noutput than what we were using before, particularly for the YAML output\nformat.\n\nChange-Id: Ic770f27cb1f74222636f05350f97400808adffbf\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 9, 'created': '2021-01-06 12:03:06.000000000', 'files': ['openstackclient/compute/v2/usage.py', 'releasenotes/notes/improved-server-output-6965b664f6abda8d.yaml', 'openstackclient/tests/unit/compute/v2/test_usage.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/af5e9d16e8a00c0d382b7090c66df211fefc0b3c', 'message': ""compute: Fix 'usage * -f yaml' output\n\nMake use of 'FormattableColumn'-derived formatters, which provide better\noutput than what we were using before, particularly for the YAML output\nformat.\n\nChange-Id: Ic770f27cb1f74222636f05350f97400808adffbf\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,761595,af5e9d16e8a00c0d382b7090c66df211fefc0b3c,32,5,9,15334,,,0,"compute: Fix 'usage * -f yaml' output

Make use of 'FormattableColumn'-derived formatters, which provide better
output than what we were using before, particularly for the YAML output
format.

Change-Id: Ic770f27cb1f74222636f05350f97400808adffbf
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/95/761595/9 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/compute/v2/usage.py', 'openstackclient/tests/unit/compute/v2/test_usage.py']",2,50c2a204d87f41367c2ab803231673f38c8daccd,trivial,"from openstackclient.compute.v2 import usage as usage_cmds usage_cmds.ProjectColumn(usages[0].tenant_id), usage_cmds.CountColumn(usages[0].server_usages), usage_cmds.FloatColumn(usages[0].total_memory_mb_usage), usage_cmds.FloatColumn(usages[0].total_vcpus_usage), usage_cmds.FloatColumn(usages[0].total_local_gb_usage), self.cmd = usage_cmds.ListUsage(self.app, None) self.assertCountEqual(self.columns, columns) self.assertCountEqual(tuple(self.data), tuple(data)) self.assertCountEqual(self.columns, columns) self.assertCountEqual(tuple(self.data), tuple(data)) self.assertCountEqual(self.columns, columns) self.assertCountEqual(tuple(self.data), tuple(data)) 'Project', 'Servers', 'RAM MB-Hours', usage_cmds.ProjectColumn(usage.tenant_id), usage_cmds.CountColumn(usage.server_usages), usage_cmds.FloatColumn(usage.total_memory_mb_usage), usage_cmds.FloatColumn(usage.total_vcpus_usage), usage_cmds.FloatColumn(usage.total_local_gb_usage), self.cmd = usage_cmds.ShowUsage(self.app, None)","from openstackclient.compute.v2 import usage usages[0].tenant_id, len(usages[0].server_usages), float(""%.2f"" % usages[0].total_memory_mb_usage), float(""%.2f"" % usages[0].total_vcpus_usage), float(""%.2f"" % usages[0].total_local_gb_usage), self.cmd = usage.ListUsage(self.app, None) self.assertEqual(self.columns, columns) self.assertEqual(tuple(self.data), tuple(data)) self.assertEqual(self.columns, columns) self.assertEqual(tuple(self.data), tuple(data)) self.assertEqual(self.columns, columns) self.assertEqual(tuple(self.data), tuple(data)) 'RAM MB-Hours', 'Servers', float(""%.2f"" % usage.total_vcpus_usage), float(""%.2f"" % usage.total_local_gb_usage), float(""%.2f"" % usage.total_memory_mb_usage), len(usage.server_usages), self.cmd = usage.ShowUsage(self.app, None)",101,44
openstack%2Fpython-manilaclient~master~I867a5332cb808b747333db4e3d3158cb90cf9039,openstack/python-manilaclient,master,I867a5332cb808b747333db4e3d3158cb90cf9039,remove py37,ABANDONED,2021-01-03 08:29:21.000000000,2021-01-08 00:34:11.000000000,,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 32635}]","[{'number': 1, 'created': '2021-01-03 08:29:21.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/2d6b1eb827923c3aa2e5e4bc1ff268fdc6f70800', 'message': ""remove py37\n\nRemove python3.7 from setup.cfg, since Wallaby's python\nsupported runtimes are python 3.6 and python 3.8[1]:\n\n[1]: https://governance.openstack.org/tc/reference/runtimes/wallaby.html\n\nChange-Id: I867a5332cb808b747333db4e3d3158cb90cf9039\n""}]",0,769027,2d6b1eb827923c3aa2e5e4bc1ff268fdc6f70800,5,3,1,31825,,,0,"remove py37

Remove python3.7 from setup.cfg, since Wallaby's python
supported runtimes are python 3.6 and python 3.8[1]:

[1]: https://governance.openstack.org/tc/reference/runtimes/wallaby.html

Change-Id: I867a5332cb808b747333db4e3d3158cb90cf9039
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/27/769027/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,2d6b1eb827923c3aa2e5e4bc1ff268fdc6f70800,,, Programming Language :: Python :: 3.7,0,1
openstack%2Fpython-neutronclient~master~I84a087baa69d67e436642d0fd77444aa24228ca8,openstack/python-neutronclient,master,I84a087baa69d67e436642d0fd77444aa24228ca8,remove py37,ABANDONED,2021-01-03 06:57:08.000000000,2021-01-08 00:33:26.000000000,,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-03 06:57:08.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/a5c9a2244b2efd0745055f2aa9c674f8f347df7f', 'message': ""remove py37\n\nRemove python3.7 from setup.cfg, since Wallaby's python\nsupported runtimes are python 3.6 and python 3.8[1]:\n\n[1]: https://governance.openstack.org/tc/reference/runtimes/wallaby.html\n\nChange-Id: I84a087baa69d67e436642d0fd77444aa24228ca8\n""}]",0,768965,a5c9a2244b2efd0745055f2aa9c674f8f347df7f,10,3,1,31825,,,0,"remove py37

Remove python3.7 from setup.cfg, since Wallaby's python
supported runtimes are python 3.6 and python 3.8[1]:

[1]: https://governance.openstack.org/tc/reference/runtimes/wallaby.html

Change-Id: I84a087baa69d67e436642d0fd77444aa24228ca8
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/65/768965/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a5c9a2244b2efd0745055f2aa9c674f8f347df7f,,, Programming Language :: Python :: 3.7,0,1
openstack%2Foctavia~stable%2Fvictoria~I5edd05f549d4317b2c6186c35c6fc64cb54facac,openstack/octavia,stable/victoria,I5edd05f549d4317b2c6186c35c6fc64cb54facac,Fix lower-constraints,MERGED,2020-12-24 11:02:31.000000000,2021-01-08 00:22:59.000000000,2021-01-08 00:21:10.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-12-24 11:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/90a634b521a4fcfe082532b90ef7f0d3e5cdacf4', 'message': 'Fix lower-constraints\n\nBump hacking and pylint requirements to unlock gates.\n\nChange-Id: I5edd05f549d4317b2c6186c35c6fc64cb54facac\n'}, {'number': 2, 'created': '2020-12-24 14:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a44342f39294863e1b284fd32470273f7f918ad0', 'message': 'Fix lower-constraints\n\nBump several requirements to unlock gates.\n\nChange-Id: I5edd05f549d4317b2c6186c35c6fc64cb54facac\n'}, {'number': 3, 'created': '2020-12-28 07:29:09.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e5c8aeffd6bb0bad0c0c0829b90d20b148f156bb', 'message': 'Fix lower-constraints\n\nBump several requirements to unlock gates.\n\nChange-Id: I5edd05f549d4317b2c6186c35c6fc64cb54facac\n'}]",0,768464,e5c8aeffd6bb0bad0c0c0829b90d20b148f156bb,14,6,3,7249,,,0,"Fix lower-constraints

Bump several requirements to unlock gates.

Change-Id: I5edd05f549d4317b2c6186c35c6fc64cb54facac
",git fetch https://review.opendev.org/openstack/octavia refs/changes/64/768464/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,90a634b521a4fcfe082532b90ef7f0d3e5cdacf4,,hacking==3.0pylint==2.2.0,hacking==1.1.0pylint==1.9.2,2,2
openstack%2Ftripleo-common~master~I2b0aa3fe171d73b25031a4a807a2389f9d0dff0e,openstack/tripleo-common,master,I2b0aa3fe171d73b25031a4a807a2389f9d0dff0e,Wire up new tripleo upgrades jobs template,MERGED,2021-01-04 16:59:23.000000000,2021-01-07 23:55:10.000000000,2021-01-07 23:45:36.000000000,"[{'_account_id': 6816}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-04 16:59:23.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ad83b39e2b5774560567846101e54d607b22c7e5', 'message': 'Wire up new tripleo upgrades jobs template\n\nThe depends-on adds a new upgrade jobs template which is wired up\nhere. Once wired up across tripleo we can remove excess content\nproviders with [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131\nDepends-On: https://review.opendev.org/761188\n\nChange-Id: I2b0aa3fe171d73b25031a4a807a2389f9d0dff0e\n'}]",0,769164,ad83b39e2b5774560567846101e54d607b22c7e5,14,10,1,8449,,,0,"Wire up new tripleo upgrades jobs template

The depends-on adds a new upgrade jobs template which is wired up
here. Once wired up across tripleo we can remove excess content
providers with [1].

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131
Depends-On: https://review.opendev.org/761188

Change-Id: I2b0aa3fe171d73b25031a4a807a2389f9d0dff0e
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/64/769164/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,ad83b39e2b5774560567846101e54d607b22c7e5,reduce-content-providers, - tripleo-upgrades-master-pipeline,,1,0
openstack%2Fpython-tripleoclient~master~I29b34ecfbbfc193a5c10c1b8a252660ebb5c4905,openstack/python-tripleoclient,master,I29b34ecfbbfc193a5c10c1b8a252660ebb5c4905,Wire up new tripleo upgrades jobs template,MERGED,2021-01-05 12:15:10.000000000,2021-01-07 23:54:45.000000000,2021-01-07 23:45:26.000000000,"[{'_account_id': 6816}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-05 12:15:10.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/48bedd76038b6c811ac387d726f114536bd5f6b1', 'message': 'Wire up new tripleo upgrades jobs template\n\nThe depends-on adds a new upgrade jobs template which is wired up\nhere. Once wired up across tripleo we can remove excess content\nproviders with [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131\nDepends-On: https://review.opendev.org/761188\n\nChange-Id: I29b34ecfbbfc193a5c10c1b8a252660ebb5c4905\n'}]",0,769334,48bedd76038b6c811ac387d726f114536bd5f6b1,10,8,1,8449,,,0,"Wire up new tripleo upgrades jobs template

The depends-on adds a new upgrade jobs template which is wired up
here. Once wired up across tripleo we can remove excess content
providers with [1].

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131
Depends-On: https://review.opendev.org/761188

Change-Id: I29b34ecfbbfc193a5c10c1b8a252660ebb5c4905
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/34/769334/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,48bedd76038b6c811ac387d726f114536bd5f6b1,reduce-content-providers, - tripleo-upgrades-master-pipeline,,1,0
openstack%2Fpython-tripleoclient~stable%2Fvictoria~Ide062e65b0a76078b5d3ce55a60df3cb5be34a0e,openstack/python-tripleoclient,stable/victoria,Ide062e65b0a76078b5d3ce55a60df3cb5be34a0e,[UX] Align to left the table for the validations run results,MERGED,2021-01-05 16:33:14.000000000,2021-01-07 23:54:43.000000000,2021-01-07 23:44:37.000000000,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-01-05 16:33:14.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cdaf01d1058e9070dcc57f768f532e55b222c225', 'message': '[UX] Align to left the table for the validations run results\n\nAll the PrettyTables are aligned to left and this patch standardizes all\nthe tables.\n\nChange-Id: Ide062e65b0a76078b5d3ce55a60df3cb5be34a0e\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit c6f22c1f3c0ed775b8276895eb017616cf46c033)\n'}]",0,769361,cdaf01d1058e9070dcc57f768f532e55b222c225,17,6,1,11491,,,0,"[UX] Align to left the table for the validations run results

All the PrettyTables are aligned to left and this patch standardizes all
the tables.

Change-Id: Ide062e65b0a76078b5d3ce55a60df3cb5be34a0e
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
(cherry picked from commit c6f22c1f3c0ed775b8276895eb017616cf46c033)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/61/769361/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,cdaf01d1058e9070dcc57f768f532e55b222c225,UX-stable/victoria, t.align = 'l',,1,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I7f583d18e558b95922a66eb539cc91de74409c96,openstack/tripleo-heat-templates,stable/queens,I7f583d18e558b95922a66eb539cc91de74409c96,Use bind mounts for tls certificates,MERGED,2020-12-18 09:47:26.000000000,2021-01-07 23:54:41.000000000,2021-01-07 23:44:41.000000000,"[{'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 27419}]","[{'number': 1, 'created': '2020-12-18 09:47:26.000000000', 'files': ['releasenotes/notes/libvirtd_use_bind_mounts_for_certs-64cb88f78538a64b.yaml', 'docker/services/nova-libvirt.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/855e61ceb2da43cd75747fabd88176cd9af75f44', 'message': 'Use bind mounts for tls certificates\n\npartial backport from train to use bind mounts for certificates.\nThe UseTLSTransportForNbd is not available in queens.\n\nCertificates get merged into the containers using kolla_config\nmechanism. If a certificate changes, or e.g. UseTLSTransportForNbd\ngets disabled and enabled at a later point the containers running\nthe qemu process miss the required certificates and live migration\nfails.\nThis change moves to use bind mount for the certificates and in\ncase of UseTLSTransportForNbd ans creates the required certificates even\nif UseTLSTransportForNbd is set to False. With this UseTLSTransportForNbd\ncan be enabled/disabled as the required bind mounts/certificates\nare already present.\n\nRelated-Bug: #1900986\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1888951\n\nConflicts:\n  deployment/nova/nova-libvirt-container-puppet.yaml\n\nChange-Id: I7f583d18e558b95922a66eb539cc91de74409c96\n(cherry picked from commit e07e571ba205097a23d9dc4e1fb9a6645351c248)\n(cherry picked from commit 6e59a84ec0082b17b54acbc0374700217a3f684b)\n(cherry picked from commit a2510a5e149733244f0c97ec07f3f81ff50ac174)\n'}]",0,767688,855e61ceb2da43cd75747fabd88176cd9af75f44,13,8,1,17216,,,0,"Use bind mounts for tls certificates

partial backport from train to use bind mounts for certificates.
The UseTLSTransportForNbd is not available in queens.

Certificates get merged into the containers using kolla_config
mechanism. If a certificate changes, or e.g. UseTLSTransportForNbd
gets disabled and enabled at a later point the containers running
the qemu process miss the required certificates and live migration
fails.
This change moves to use bind mount for the certificates and in
case of UseTLSTransportForNbd ans creates the required certificates even
if UseTLSTransportForNbd is set to False. With this UseTLSTransportForNbd
can be enabled/disabled as the required bind mounts/certificates
are already present.

Related-Bug: #1900986
Related: https://bugzilla.redhat.com/show_bug.cgi?id=1888951

Conflicts:
  deployment/nova/nova-libvirt-container-puppet.yaml

Change-Id: I7f583d18e558b95922a66eb539cc91de74409c96
(cherry picked from commit e07e571ba205097a23d9dc4e1fb9a6645351c248)
(cherry picked from commit 6e59a84ec0082b17b54acbc0374700217a3f684b)
(cherry picked from commit a2510a5e149733244f0c97ec07f3f81ff50ac174)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/767688/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/libvirtd_use_bind_mounts_for_certs-64cb88f78538a64b.yaml', 'docker/services/nova-libvirt.yaml']",2,855e61ceb2da43cd75747fabd88176cd9af75f44,1888951-queens," - /etc/pki/libvirt:/etc/pki/libvirt/:ro - str_replace: template: ""CACERT:/etc/pki/CA/cacert.pem:ro"" - /etc/pki/libvirt-vnc/server-cert.pem:/etc/pki/libvirt-vnc/server-cert.pem:ro - /etc/pki/libvirt-vnc/server-key.pem:/etc/pki/libvirt-vnc/server-key.pem:ro - str_replace: template: ""CACERT:/etc/pki/libvirt-vnc/ca-cert.pem:ro"""," - if: - use_tls_for_vnc - - source: /var/lib/kolla/config_files/src-libvirt-vnc-pki/server-*.pem dest: /etc/pki/libvirt-vnc/ merge: true preserve_properties: true - null - if: - use_tls_for_vnc - - path: /etc/pki/libvirt-vnc/server-key.pem owner: root:qemu perm: '0640' - null - str_replace: template: ""CACERT:/var/lib/kolla/config_files/src-tls/etc/pki/CA/cacert.pem:ro"" - /etc/pki/libvirt/:/var/lib/kolla/config_files/src-tls/etc/pki/libvirt/:ro - str_replace: template: ""CACERT:/var/lib/kolla/config_files/src-tls/etc/pki/libvirt-vnc/ca-cert.pem:ro"" - /etc/pki/libvirt-vnc:/var/lib/kolla/config_files/src-libvirt-vnc-pki:ro",21,19
openstack%2Ftripleo-quickstart~master~I3ac185c37428499048a8927b7e3c4766d0a53f74,openstack/tripleo-quickstart,master,I3ac185c37428499048a8927b7e3c4766d0a53f74,Wire up new tripleo upgrades jobs template,MERGED,2021-01-06 10:37:17.000000000,2021-01-07 23:54:39.000000000,2021-01-07 23:45:18.000000000,"[{'_account_id': 6816}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-06 10:37:17.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/86403e0d743d6d8fd89a43bc74ebe2d91384cdbb', 'message': 'Wire up new tripleo upgrades jobs template\n\nThe depends-on adds a new upgrade jobs template which is wired up\nhere. Once wired up across tripleo we can remove excess content\nproviders with [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131\nDepends-On: https://review.opendev.org/761188\n\nChange-Id: I3ac185c37428499048a8927b7e3c4766d0a53f74\n'}]",0,769489,86403e0d743d6d8fd89a43bc74ebe2d91384cdbb,13,10,1,8449,,,0,"Wire up new tripleo upgrades jobs template

The depends-on adds a new upgrade jobs template which is wired up
here. Once wired up across tripleo we can remove excess content
providers with [1].

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131
Depends-On: https://review.opendev.org/761188

Change-Id: I3ac185c37428499048a8927b7e3c4766d0a53f74
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/89/769489/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,86403e0d743d6d8fd89a43bc74ebe2d91384cdbb,reduce-content-providers, - tripleo-upgrades-master-pipeline,,1,0
openstack%2Fos-net-config~master~I64f6b74763fb9de3813e4558ce176851e479f30f,openstack/os-net-config,master,I64f6b74763fb9de3813e4558ce176851e479f30f,Wire up new tripleo upgrades jobs template,MERGED,2021-01-06 10:37:25.000000000,2021-01-07 23:54:32.000000000,2021-01-07 23:45:04.000000000,"[{'_account_id': 6816}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 24162}]","[{'number': 1, 'created': '2021-01-06 10:37:25.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/1a1b1b710fe4ff0a32b6d396d93ded1307c636a7', 'message': 'Wire up new tripleo upgrades jobs template\n\nThe depends-on adds a new upgrade jobs template which is wired up\nhere. Once wired up across tripleo we can remove excess content\nproviders with [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131\nDepends-On: https://review.opendev.org/761188\n\nChange-Id: I64f6b74763fb9de3813e4558ce176851e479f30f\n'}]",0,769491,1a1b1b710fe4ff0a32b6d396d93ded1307c636a7,10,9,1,8449,,,0,"Wire up new tripleo upgrades jobs template

The depends-on adds a new upgrade jobs template which is wired up
here. Once wired up across tripleo we can remove excess content
providers with [1].

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131
Depends-On: https://review.opendev.org/761188

Change-Id: I64f6b74763fb9de3813e4558ce176851e479f30f
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/91/769491/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,1a1b1b710fe4ff0a32b6d396d93ded1307c636a7,reduce-content-providers, - tripleo-upgrades-master-pipeline,,1,0
openstack%2Ftripleo-heat-templates~master~I784e6a476752ed701192b3a0155c42edd4836d97,openstack/tripleo-heat-templates,master,I784e6a476752ed701192b3a0155c42edd4836d97,Configure Ceph clients via tripleo-ceph-client (not ceph-ansible),MERGED,2020-11-02 13:12:59.000000000,2021-01-07 23:52:52.000000000,2021-01-07 23:52:52.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-11-02 13:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/56c9eac7983b6f9252a3f5354dc590d8f5f1cb9c', 'message': '(WIP) Disable ceph client role execution\n\nDepends-on: Ia1d629b13d87debb4d3d297d5dbfcd31a6ef4c3d\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n'}, {'number': 2, 'created': '2020-11-02 17:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/113c9f70836d3af4a0598cc769f59b1e7d1cf3f6', 'message': '(WIP) Disable ceph client role execution\n\nDepends-on: Ia1d629b13d87debb4d3d297d5dbfcd31a6ef4c3d\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n'}, {'number': 3, 'created': '2020-11-02 18:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c5f3d9a7264152a3d8ab5970a7273d163c864a0e', 'message': ""Disable ceph client role execution\n\nThis change adds a bool to prevent the ceph-ansible client role being\nexecuted.\nWhen this boolean is true, the 'ceph_ansible_limit' option is set and\nan exclude list containing the 'clients' section is built.\nBy doing this, ceph-ansible shouldn't run the client role [1] because\nno hosts are matched.\n\n[1] https://github.com/ceph/ceph-ansible/blob/master/site-container.yml.sample#L269\n\nDepends-on: Ia1d629b13d87debb4d3d297d5dbfcd31a6ef4c3d\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n""}, {'number': 4, 'created': '2020-11-06 10:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/83028c4b48cd06e5151fa751b2175541bcf4abec', 'message': ""Disable ceph client role execution\n\nThis change adds a bool to prevent the ceph-ansible client role being\nexecuted.\nWhen this boolean is true, the 'ceph_ansible_limit' option is set and\nan exclude list containing the 'clients' section is built.\nBy doing this, ceph-ansible shouldn't run the client role [1] because\nno hosts are matched.\n\n[1] https://github.com/ceph/ceph-ansible/blob/master/site-container.yml.sample#L269\n\nDepends-on: Ia1d629b13d87debb4d3d297d5dbfcd31a6ef4c3d\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n""}, {'number': 5, 'created': '2020-11-06 16:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a57a95d93409d8e2a6ca6eddc6d69456ba212a75', 'message': ""Disable ceph client role execution\n\nThis change adds a bool to prevent the ceph-ansible client role being\nexecuted.\nWhen this boolean is true, the 'ceph_ansible_limit' option is set and\nan exclude list containing the 'clients' section is built.\nBy doing this, ceph-ansible shouldn't run the client role [1] because\nno hosts are matched.\n\n[1] https://github.com/ceph/ceph-ansible/blob/master/site-container.yml.sample#L269\n\nDepends-on: Ia1d629b13d87debb4d3d297d5dbfcd31a6ef4c3d\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n""}, {'number': 6, 'created': '2020-11-07 08:28:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aff181492817120b3831e39f27d22416c3b56a30', 'message': ""(WIP) - Disable ceph client role execution\n\nThis change adds a bool to prevent the ceph-ansible client role being\nexecuted.\nWhen this boolean is true, the 'ceph_ansible_limit' option is set and\nan exclude list containing the 'clients' section is built.\nBy doing this, ceph-ansible shouldn't run the client role [1] because\nno hosts are matched.\n\n[1] https://github.com/ceph/ceph-ansible/blob/master/site-container.yml.sample#L269\n\nDepends-on: Ia1d629b13d87debb4d3d297d5dbfcd31a6ef4c3d\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n""}, {'number': 7, 'created': '2020-11-09 17:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/26ac52dad83cccd9edd77381cdbee5174cc774d0', 'message': ""(WIP) - Disable ceph client role execution\n\nThis change adds a bool to prevent the ceph-ansible client role being\nexecuted.\nWhen this boolean is true, the 'ceph_ansible_limit' option is set and\nthe 'clients' section will be excluded.\nThen, to make sure all the use cases are covered, the 'ceph_client' tag\nis is added to the list of tasks that should be skipped in ceph-ansible.\nBy doing this, ceph-ansible shouldn't run the client role [1].\n\n[1] https://github.com/ceph/ceph-ansible/blob/master/site-container.yml.sample#L269\n\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n""}, {'number': 8, 'created': '2020-11-09 17:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8eba0946d67931b9b741eddf852aa3fa0dab8d07', 'message': ""(WIP) - Disable ceph client role execution\n\nThis change adds a bool to prevent the ceph-ansible client role being\nexecuted.\nWhen this boolean is true, the 'ceph_ansible_limit' option is set and\nthe 'clients' section will be excluded.\nThen, to make sure all the use cases are covered, the 'ceph_client' tag\nis is added to the list of tasks that should be skipped in ceph-ansible.\nBy doing this, ceph-ansible shouldn't run the client role [1].\n\n[1] https://github.com/ceph/ceph-ansible/blob/master/site-container.yml.sample#L269\n\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n""}, {'number': 9, 'created': '2020-11-16 06:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/313ba302cabec5179601e04d5730946f3d0c3649', 'message': ""Disable ceph client role execution\n\nThis change adds a bool to prevent the ceph-ansible client role being\nexecuted.\nWhen this boolean is true, the 'ceph_client' tag is added to the list\nof tags that should be skipped in ceph-ansible.\nBy doing this, ceph-ansible won't run the client role [1] and the new,\ntripleo_ceph_client role is imported and executed.\n\n[1] https://github.com/ceph/ceph-ansible/blob/master/site-container.yml.sample#L269\n\nDepends-On: Ia60bc6d5d1a04bd560f2fcb05a4b64078015ae9d\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n""}, {'number': 10, 'created': '2020-11-17 11:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c3385e63635b8fa5676fc91820489912a49093ea', 'message': ""Disable ceph client role execution\n\nThis change adds a bool to prevent the ceph-ansible client role being\nexecuted.\nWhen this boolean is true, the 'ceph_client' tag is added to the list\nof tags that should be skipped in ceph-ansible.\nBy doing this, ceph-ansible won't run the client role [1] and the new,\ntripleo_ceph_client role is imported and executed.\n\n[1] https://github.com/ceph/ceph-ansible/blob/master/site-container.yml.sample#L269\n\nDepends-On: Ia60bc6d5d1a04bd560f2fcb05a4b64078015ae9d\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n""}, {'number': 11, 'created': '2020-11-18 15:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ab3dff7f26132540349a00a98b79c0ef25ce931', 'message': ""Disable ceph client role execution\n\nThis change adds a bool to prevent the ceph-ansible client role being\nexecuted.\nWhen this boolean is true, the 'ceph_client' tag is added to the list\nof tags that should be skipped in ceph-ansible.\nBy doing this, ceph-ansible won't run the client role [1] and the new,\ntripleo_ceph_client role is imported and executed.\n\n[1] https://github.com/ceph/ceph-ansible/blob/master/site-container.yml.sample#L269\n\nDepends-On: Ia60bc6d5d1a04bd560f2fcb05a4b64078015ae9d\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n""}, {'number': 12, 'created': '2020-11-20 09:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6b4ec64be74c151028dfd1c437c72645f5c3b2a8', 'message': ""WIP - Disable ceph client role execution, customize the Ceph config path\n\nThis change adds a bool to prevent the ceph-ansible client role being\nexecuted.\nWhen this boolean is true, the 'ceph_client' tag is added to the list\nof tags that should be skipped in ceph-ansible.\nBy doing this, ceph-ansible won't run the client role [1] and the new,\ntripleo_ceph_client role is imported and executed.\n\n[1] https://github.com/ceph/ceph-ansible/blob/master/site-container.yml.sample#L269\n\nDepends-On: Ia60bc6d5d1a04bd560f2fcb05a4b64078015ae9d\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n""}, {'number': 13, 'created': '2020-11-20 09:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c6ab0a34075a20f89f5e2e7e34bf78cea43a6e9c', 'message': ""WIP - Disable ceph client role execution, customize the Ceph config path\n\nThis change adds a bool to prevent the ceph-ansible client role being\nexecuted.\nWhen this boolean is true, the 'ceph_client' tag is added to the list\nof tags that should be skipped in ceph-ansible.\nBy doing this, ceph-ansible won't run the client role [1] and the new,\ntripleo_ceph_client role is imported and executed.\n\n[1] https://github.com/ceph/ceph-ansible/blob/master/site-container.yml.sample#L269\n\nDepends-On: Ia60bc6d5d1a04bd560f2fcb05a4b64078015ae9d\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n""}, {'number': 14, 'created': '2020-11-20 09:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33d3642c77bf9f57b77c1bad763da1fef610c34e', 'message': ""WIP - Disable ceph client role execution, customize the Ceph config path\n\nThis change adds a bool to prevent the ceph-ansible client role being\nexecuted.\nWhen this boolean is true, the 'ceph_client' tag is added to the list\nof tags that should be skipped in ceph-ansible.\nBy doing this, ceph-ansible won't run the client role [1] and the new,\ntripleo_ceph_client role is imported and executed.\n\n[1] https://github.com/ceph/ceph-ansible/blob/master/site-container.yml.sample#L269\n\nDepends-On: Ia60bc6d5d1a04bd560f2fcb05a4b64078015ae9d\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n""}, {'number': 15, 'created': '2020-11-20 10:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b42b20387e0ba1f926248c6d83b7fd14099d219', 'message': ""Disable ceph client role execution\n\nThis change adds a bool to prevent the ceph-ansible client role being\nexecuted.\nWhen this boolean is true, the 'ceph_client' tag is added to the list\nof tags that should be skipped in ceph-ansible.\nBy doing this, ceph-ansible won't run the client role [1] and the new,\ntripleo_ceph_client role is imported and executed.\n\n[1] https://github.com/ceph/ceph-ansible/blob/master/site-container.yml.sample#L269\n\nDepends-On: Ia60bc6d5d1a04bd560f2fcb05a4b64078015ae9d\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n""}, {'number': 16, 'created': '2020-11-26 13:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4686bf7e4152e29a25b3e3228655d2187b2efc58', 'message': 'Disable ceph client role execution\n\nThis change adds the new CephConfigPath and CephClientDisable parameters\nto the scenario00{1,4}, preventint the ceph-ansible client role being\nexecuted and configuring a different path where all the Openstack\nclients can find the ceph related info.\n\nDepends-On: Ia60bc6d5d1a04bd560f2fcb05a4b64078015ae9d\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n'}, {'number': 17, 'created': '2020-11-26 13:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ed352ed6e7945a3b1cb8621aea28d2550281dec5', 'message': 'Disable ceph client role execution\n\nThis change adds the new CephConfigPath and CephClientDisable parameters\nto the scenario00{1,4}, preventint the ceph-ansible client role being\nexecuted and configuring a different path where all the Openstack\nclients can find the ceph related info.\n\nDepends-On: Ia60bc6d5d1a04bd560f2fcb05a4b64078015ae9d\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n'}, {'number': 18, 'created': '2020-11-26 14:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/06f3889cf09df8b5da26102504d4a48d35c11dbe', 'message': 'WIP - Disable ceph client role execution\n\nThis change adds the new CephConfigPath and CephClientDisable parameters\nto the scenario00{1,4}, preventint the ceph-ansible client role being\nexecuted and configuring a different path where all the Openstack\nclients can find the ceph related info.\n\nDepends-On: Ia60bc6d5d1a04bd560f2fcb05a4b64078015ae9d\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n'}, {'number': 19, 'created': '2020-11-28 14:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/773d49e1147a8aabdf3e2fe25b33add48cdbd994', 'message': 'WIP - Disable ceph client role execution\n\nThis change adds the new CephConfigPath and CephClientDisable parameters\nto the scenario00{1,4}, preventint the ceph-ansible client role being\nexecuted and configuring a different path where all the Openstack\nclients can find the ceph related info.\n\nDepends-On: Ia60bc6d5d1a04bd560f2fcb05a4b64078015ae9d\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n'}, {'number': 20, 'created': '2020-12-01 15:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aeda1916a2bcb786be2bebc9a1a19265cac927d7', 'message': 'WIP - Disable ceph client role execution\n\nThis change adds the new CephConfigPath and CephClientDisable parameters\nto the scenario00{1,4}, preventint the ceph-ansible client role being\nexecuted and configuring a different path where all the Openstack\nclients can find the ceph related info.\n\nDepends-On: Ia60bc6d5d1a04bd560f2fcb05a4b64078015ae9d\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n'}, {'number': 21, 'created': '2020-12-04 15:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8385f485fb91f0866bdc155e16749f2e492e2ffc', 'message': 'WIP - Disable ceph client role execution\n\nThis change adds the new CephConfigPath and CephClientDisable parameters\nto the scenario00{1,4}, preventint the ceph-ansible client role being\nexecuted and configuring a different path where all the Openstack\nclients can find the ceph related info.\n\nDepends-On: Ia60bc6d5d1a04bd560f2fcb05a4b64078015ae9d\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n'}, {'number': 22, 'created': '2020-12-05 07:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/51bc7afbf1a9c31a781486a2711c41db39f57013', 'message': 'WIP - Disable ceph client role execution\n\nThis change adds the new CephConfigPath and CephClientDisable parameters\nto the scenario00{1,4}, preventint the ceph-ansible client role being\nexecuted and configuring a different path where all the Openstack\nclients can find the ceph related info.\n\nDepends-On: Ia60bc6d5d1a04bd560f2fcb05a4b64078015ae9d\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n'}, {'number': 23, 'created': '2020-12-08 22:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/88660f400b1a17a8bd9c2be8dedf6b583c8566f3', 'message': 'WIP: Configure Ceph clients via tripleo-ceph-client (not ceph-ansible)\n\nDefault CephAnsibleSkipClient to True and CephConfigPath to\n/var/lib/tripleo-config/ceph (instead of /etc/ceph) and set\nthese paramters explicitly in scenario00{1,4}. This will\nresult in all Ceph client configuration being done not by\nceph-ansible but by the new tripleo-ceph-client role from\ntripleo-ansible.\n\nAdd the CephClient service to all Controller* roles which will\nuse Ceph. The service could have always been there as there are\nCeph clients on the these controllers, but it was not because\nceph-ansible configured clients as a side effect. With new\nCephConfigPath default they no longer overlap so the service\nis required.\n\nAdd support for CephExternalMultiConfig via tripleo-ceph-client\nby looping on the contents of the CephExternalMultiConfig list\nand passing each map as the dcn variable while including the\ntripleo-ceph-client role each time.\n\nRelated-Bug: #1708302\nDepends-On: I938ab604859fda88f3491399444841a3a373d162\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n'}, {'number': 24, 'created': '2020-12-09 07:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d6de7a052792fc2d521a2d2c02bb00e19818aa7a', 'message': 'Configure Ceph clients via tripleo-ceph-client (not ceph-ansible)\n\nDefault CephAnsibleSkipClient to True and CephConfigPath to\n/var/lib/tripleo-config/ceph (instead of /etc/ceph) and set\nthese paramters explicitly in scenario00{1,4}. This will\nresult in all Ceph client configuration being done not by\nceph-ansible but by the new tripleo-ceph-client role from\ntripleo-ansible.\n\nAdd the CephClient service to all Controller* roles which will\nuse Ceph. The service could have always been there as there are\nCeph clients on the these controllers, but it was not because\nceph-ansible configured clients as a side effect. With new\nCephConfigPath default they no longer overlap so the service\nis required.\n\nAdd support for CephExternalMultiConfig via tripleo-ceph-client\nby looping on the contents of the CephExternalMultiConfig list\nand passing each map as the dcn variable while including the\ntripleo-ceph-client role each time.\n\nRelated-Bug: #1708302\nDepends-On: I938ab604859fda88f3491399444841a3a373d162\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n'}, {'number': 25, 'created': '2020-12-10 18:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2b77b79fe4292da2c690c7027500eae387ec1fbf', 'message': 'Configure Ceph clients via tripleo-ceph-client (not ceph-ansible)\n\nDefault CephAnsibleSkipClient to True and CephConfigPath to\n/var/lib/tripleo-config/ceph (instead of /etc/ceph) and set\nthese paramters explicitly in scenario00{1,4}. This will\nresult in all Ceph client configuration being done not by\nceph-ansible but by the new tripleo-ceph-client role from\ntripleo-ansible.\n\nAdd the CephClient service to all Controller* roles which will\nuse Ceph. The service could have always been there as there are\nCeph clients on the these controllers, but it was not because\nceph-ansible configured clients as a side effect. With new\nCephConfigPath default they no longer overlap so the service\nis required.\n\nAdd support for CephExternalMultiConfig via tripleo-ceph-client\nby looping on the contents of the CephExternalMultiConfig list\nand passing each map as the dcn variable while including the\ntripleo-ceph-client role each time.\n\nCo-Authored-By: John Fulton <fulton@redhat.com>\nRelated-Bug: #1708302\nDepends-On: I938ab604859fda88f3491399444841a3a373d162\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n'}, {'number': 26, 'created': '2020-12-21 19:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64f4f4cdffc3edabe7a4193303bc177e5e86cb40', 'message': 'Configure Ceph clients via tripleo-ceph-client (not ceph-ansible)\n\nDefault CephAnsibleSkipClient to True and CephConfigPath to\n/var/lib/tripleo-config/ceph (instead of /etc/ceph) and set\nthese paramters explicitly in scenario00{1,4}. This will\nresult in all Ceph client configuration being done not by\nceph-ansible but by the new tripleo-ceph-client role from\ntripleo-ansible.\n\nAdd the CephClient service to all Controller* roles which will\nuse Ceph. The service could have always been there as there are\nCeph clients on the these controllers, but it was not because\nceph-ansible configured clients as a side effect. With new\nCephConfigPath default they no longer overlap so the service\nis required.\n\nAdd support for CephExternalMultiConfig via tripleo-ceph-client\nby looping on the contents of the CephExternalMultiConfig list\nand passing each map as the dcn variable while including the\ntripleo-ceph-client role each time.\n\nCo-Authored-By: John Fulton <fulton@redhat.com>\nRelated-Bug: #1708302\nDepends-On: I938ab604859fda88f3491399444841a3a373d162\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n'}, {'number': 27, 'created': '2020-12-23 14:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/453f36aa5f267eda755e7ff804c14fea9856eb6f', 'message': 'Configure Ceph clients via tripleo-ceph-client (not ceph-ansible)\n\nDefault CephAnsibleSkipClient to True and CephConfigPath to\n/var/lib/tripleo-config/ceph (instead of /etc/ceph) and set\nthese paramters explicitly in scenario00{1,4}. This will\nresult in all Ceph client configuration being done not by\nceph-ansible but by the new tripleo-ceph-client role from\ntripleo-ansible.\n\nAdd the CephClient service to all Controller* roles which will\nuse Ceph. The service could have always been there as there are\nCeph clients on the these controllers, but it was not because\nceph-ansible configured clients as a side effect. With new\nCephConfigPath default they no longer overlap so the service\nis required.\n\nAdd support for CephExternalMultiConfig via tripleo-ceph-client\nby looping on the contents of the CephExternalMultiConfig list\nand passing each map as the dcn variable while including the\ntripleo-ceph-client role each time.\n\nRelated-Bug: #1708302\nDepends-On: I938ab604859fda88f3491399444841a3a373d162\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n'}, {'number': 28, 'created': '2021-01-04 15:16:11.000000000', 'files': ['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'roles/ControllerNovaStandalone.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/manila/manila-share-common.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'ci/environments/scenario001-standalone.yaml', 'deployment/manila/manila-backend-cephfs.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'roles/Controller.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'tools/yaml-validate.py', 'roles/ControllerOpenstack.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'roles/ControllerStorageNfs.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'roles/ControllerSriov.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/79686663e89d4689f9caca828a9105b3dff11a5f', 'message': 'Configure Ceph clients via tripleo-ceph-client (not ceph-ansible)\n\nDefault CephAnsibleSkipClient to True and CephConfigPath to\n/var/lib/tripleo-config/ceph (instead of /etc/ceph) and set\nthese paramters explicitly in scenario00{1,4}. This will\nresult in all Ceph client configuration being done not by\nceph-ansible but by the new tripleo-ceph-client role from\ntripleo-ansible.\n\nAdd the CephClient service to all Controller* roles which will\nuse Ceph. The service could have always been there as there are\nCeph clients on the these controllers, but it was not because\nceph-ansible configured clients as a side effect. With new\nCephConfigPath default they no longer overlap so the service\nis required.\n\nAdd support for CephExternalMultiConfig via tripleo-ceph-client\nby looping on the contents of the CephExternalMultiConfig list\nand passing each map as the dcn variable while including the\ntripleo-ceph-client role each time.\n\nRelated-Bug: #1708302\nDepends-On: I938ab604859fda88f3491399444841a3a373d162\nChange-Id: I784e6a476752ed701192b3a0155c42edd4836d97\n'}]",21,760915,79686663e89d4689f9caca828a9105b3dff11a5f,150,6,28,25402,,,0,"Configure Ceph clients via tripleo-ceph-client (not ceph-ansible)

Default CephAnsibleSkipClient to True and CephConfigPath to
/var/lib/tripleo-config/ceph (instead of /etc/ceph) and set
these paramters explicitly in scenario00{1,4}. This will
result in all Ceph client configuration being done not by
ceph-ansible but by the new tripleo-ceph-client role from
tripleo-ansible.

Add the CephClient service to all Controller* roles which will
use Ceph. The service could have always been there as there are
Ceph clients on the these controllers, but it was not because
ceph-ansible configured clients as a side effect. With new
CephConfigPath default they no longer overlap so the service
is required.

Add support for CephExternalMultiConfig via tripleo-ceph-client
by looping on the contents of the CephExternalMultiConfig list
and passing each map as the dcn variable while including the
tripleo-ceph-client role each time.

Related-Bug: #1708302
Depends-On: I938ab604859fda88f3491399444841a3a373d162
Change-Id: I784e6a476752ed701192b3a0155c42edd4836d97
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/760915/13 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,56c9eac7983b6f9252a3f5354dc590d8f5f1cb9c,tripleo_ceph_client," CephAnsibleClientDisable: type: boolean default: false ceph_ansible_client_disabled: {equals: [{get_param: CephAnsibleClientDisable}, true]} ceph_ansible_exclude_list: if: - ceph_ansible_client_disabled - ':!client' - ''",,9,0
openstack%2Ftripleo-quickstart-extras~master~I97aa46ebc6d472f68fdf38cff92bacecc109a05d,openstack/tripleo-quickstart-extras,master,I97aa46ebc6d472f68fdf38cff92bacecc109a05d,Wire up new tripleo upgrades jobs template,MERGED,2021-01-06 10:37:20.000000000,2021-01-07 23:45:13.000000000,2021-01-07 23:45:13.000000000,"[{'_account_id': 6816}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-06 10:37:20.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/be04d9246ba2891140c12299d5a5649117faea43', 'message': 'Wire up new tripleo upgrades jobs template\n\nThe depends-on adds a new upgrade jobs template which is wired up\nhere. Once wired up across tripleo we can remove excess content\nproviders with [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131\nDepends-On: https://review.opendev.org/761188\n\nChange-Id: I97aa46ebc6d472f68fdf38cff92bacecc109a05d\n'}]",0,769490,be04d9246ba2891140c12299d5a5649117faea43,10,10,1,8449,,,0,"Wire up new tripleo upgrades jobs template

The depends-on adds a new upgrade jobs template which is wired up
here. Once wired up across tripleo we can remove excess content
providers with [1].

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131
Depends-On: https://review.opendev.org/761188

Change-Id: I97aa46ebc6d472f68fdf38cff92bacecc109a05d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/90/769490/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,be04d9246ba2891140c12299d5a5649117faea43,reduce-content-providers, - tripleo-upgrades-master-pipeline,,1,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~If7ebd5b0fed0c84b720729e1e75f659bae2355fe,openstack/tripleo-heat-templates,stable/queens,If7ebd5b0fed0c84b720729e1e75f659bae2355fe,[Queens] Handle ceph service restart during update.,MERGED,2021-01-04 17:24:04.000000000,2021-01-07 23:44:47.000000000,2021-01-07 23:44:47.000000000,"[{'_account_id': 6796}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 13861}, {'_account_id': 14270}, {'_account_id': 15205}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-01-04 17:24:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e82b80c43db40f1e39760bd84c2134e2fc5883da', 'message': ""Ensure no rebalance during ceph update if docker is updated.\n\nWhen docker is updated, a full restart of ceph-osd is triggered. It's\nbecause there is a systemd dependency on docker service in ceph-osd\nservice definition.\n\nMake sure we set the necessary flag to avoid any rebalance action, all\nthe time.\n\nNote that we don't check for docker restart. That's to avoid code\nduplication and because setting/unsetting those flags shouldn't hurt\neven when docker is not updated.\n\nDocker is restarted at step 2 and yum upgrade happens at step 3, so we\nchoose step 1 for setting the flags and step 4 (to be on the safe\nside) to unset them.\n\nQueens-Only because it happens only when using docker.\n\nChange-Id: If7ebd5b0fed0c84b720729e1e75f659bae2355fe\nCloses-Bug: #1910124\n""}, {'number': 2, 'created': '2021-01-05 17:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3d42296c010920a76da112200fd93686cfd4ba34', 'message': ""Ensure no rebalance during ceph update if docker is updated.\n\nWhen docker is updated, a full restart of ceph-osd is triggered. It's\nbecause there is a systemd dependency on docker service in ceph-osd\nservice definition.\n\nMake sure we set the necessary flag to avoid any rebalance action, all\nthe time.\n\nNote that we don't check for docker restart. That's to avoid code\nduplication and because setting/unsetting those flags shouldn't hurt\neven when docker is not updated.\n\nDocker is restarted at step 2 and yum upgrade happens at step 3, so we\nchoose step 1 for setting the flags and step 4 (to be on the safe\nside) to unset them.\n\nQueens-Only because it happens only when using docker.\n\nChange-Id: If7ebd5b0fed0c84b720729e1e75f659bae2355fe\nCloses-Bug: #1910124\n""}, {'number': 3, 'created': '2021-01-05 22:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a4e34f5c0bf68988f0c8b97e611869a0d818f670', 'message': ""Ensure no rebalance during ceph update if docker is updated.\n\nWhen docker is updated, a full restart of ceph-osd is triggered. It's\nbecause there is a systemd dependency on docker service in ceph-osd\nservice definition.\n\nMake sure we set the necessary flag to avoid any rebalance action, all\nthe time.\n\nNote that we don't check for docker restart. That's to avoid code\nduplication and because setting/unsetting those flags shouldn't hurt\neven when docker is not updated.\n\nDocker is restarted at step 2 and yum upgrade happens at step 3, so we\nchoose step 1 for setting the flags and step 4 (to be on the safe\nside) to unset them.\n\nQueens-Only because it happens only when using docker.\n\nChange-Id: If7ebd5b0fed0c84b720729e1e75f659bae2355fe\nCloses-Bug: #1910124\n""}, {'number': 4, 'created': '2021-01-06 18:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f735e35efb1e29dae031a26f913abf6b6247eefd', 'message': '[Queens] Handle ceph service restart during update.\n\nSince this change[1] in ceph-ansible the ceph services are stopped if\ndocker is stopped. This happens during the update steps when docker\nneeds to be updated[2].\n\nThis in turn breaks the update in several ways.\n\nTo avoid any problem, when docker need a restart, we:\n 1. make sure we restart the ceph services if docker was stopped;\n 2. set the necessary flags so that no rebalance action happens when\n    osd services are stopped.\n\nTo achieve this we make sure to set the docker restart related facts\nin steps 0 so that they are available for step1,2,4.\n\nI resuffle the when conditional on top of the blocks to work around\nlp#1910418.\n\n[1] https://github.com/ceph/ceph-ansible/pull/5444\n[2] https://opendev.org/openstack/tripleo-heat-templates/src/branch/stable/queens/puppet/services/docker.yaml#L178-L184\n\nQueens-Only because it happens only when using docker.\n\nChange-Id: If7ebd5b0fed0c84b720729e1e75f659bae2355fe\nCloses-Bug: #1910124\n'}, {'number': 5, 'created': '2021-01-06 18:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f30b6530dda6e2ce5b77a20da98dc2664b4f80d7', 'message': '[Queens] Handle ceph service restart during update.\n\nSince this change[1] in ceph-ansible the ceph services are stopped if\ndocker is stopped. This happens during the update steps when docker\nneeds to be updated[2].\n\nThis in turn breaks the update in several ways.\n\nTo avoid any problem, when docker need a restart, we:\n 1. make sure we restart the ceph services if docker was stopped;\n 2. set the necessary flags so that no rebalance action happens when\n    osd services are stopped.\n\nTo achieve this we make sure to set the docker restart related facts\nin steps 0 so that they are available for step1,2,4.\n\nI resuffle the when conditional on top of the blocks to work around\nlp#1910418.\n\n[1] https://github.com/ceph/ceph-ansible/pull/5444\n[2] https://opendev.org/openstack/tripleo-heat-templates/src/branch/stable/queens/puppet/services/docker.yaml#L178-L184\n\nQueens-Only because it happens only when using docker.\n\nChange-Id: If7ebd5b0fed0c84b720729e1e75f659bae2355fe\nCloses-Bug: #1910124\n'}, {'number': 6, 'created': '2021-01-07 09:21:43.000000000', 'files': ['docker/services/ceph-ansible/ceph-osd.yaml', 'puppet/services/docker.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/287f0295f268e45b019949b98de0de7adf90a2fe', 'message': '[Queens] Handle ceph service restart during update.\n\nSince this change[1] in ceph-ansible the ceph services are stopped if\ndocker is stopped. This happens during the update steps when docker\nneeds to be updated[2].\n\nThis in turn breaks the update in several ways.\n\nTo avoid any problem, when docker need a restart, we:\n 1. make sure we restart the ceph services if docker was stopped;\n 2. set the necessary flags so that no rebalance action happens when\n    osd services are stopped.\n\nTo achieve this we make sure to set the docker restart related facts\nin steps 0 so that they are available for step1,2,4.\n\nFor the flag we also set ""run_once"" so that setting the flags happens\nonly once if the ceph-osd are updated in batch[3].\n\nI resuffle the when conditional on top of the blocks to work around\nlp#1910418.\n\n[1] https://github.com/ceph/ceph-ansible/pull/5444\n[2] https://opendev.org/openstack/tripleo-heat-templates/src/branch/stable/queens/puppet/services/docker.yaml#L178-L184\n[3] Shouldn\'t be the default as osd should be updated serially, but it\'s cleaner this way.\n\nQueens-Only because it happens only when using docker.\n\nChange-Id: If7ebd5b0fed0c84b720729e1e75f659bae2355fe\nCloses-Bug: #1910124\n'}]",17,769169,287f0295f268e45b019949b98de0de7adf90a2fe,39,10,6,8297,,,0,"[Queens] Handle ceph service restart during update.

Since this change[1] in ceph-ansible the ceph services are stopped if
docker is stopped. This happens during the update steps when docker
needs to be updated[2].

This in turn breaks the update in several ways.

To avoid any problem, when docker need a restart, we:
 1. make sure we restart the ceph services if docker was stopped;
 2. set the necessary flags so that no rebalance action happens when
    osd services are stopped.

To achieve this we make sure to set the docker restart related facts
in steps 0 so that they are available for step1,2,4.

For the flag we also set ""run_once"" so that setting the flags happens
only once if the ceph-osd are updated in batch[3].

I resuffle the when conditional on top of the blocks to work around
lp#1910418.

[1] https://github.com/ceph/ceph-ansible/pull/5444
[2] https://opendev.org/openstack/tripleo-heat-templates/src/branch/stable/queens/puppet/services/docker.yaml#L178-L184
[3] Shouldn't be the default as osd should be updated serially, but it's cleaner this way.

Queens-Only because it happens only when using docker.

Change-Id: If7ebd5b0fed0c84b720729e1e75f659bae2355fe
Closes-Bug: #1910124
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/69/769169/5 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/ceph-ansible/ceph-osd.yaml'],1,e82b80c43db40f1e39760bd84c2134e2fc5883da,," update_tasks: - name: Set noout flag shell: ""docker exec -u root ceph-mon-${HOSTNAME} ceph osd set {{ item }}"" become: true with_items: - noout - norecover - nobackfill - norebalance - nodeep-scrub when: - step|int == 1 - name: Unset noout flag shell: ""docker exec -u root ceph-mon-${HOSTNAME} ceph osd unset {{ item }}"" become: true with_items: - noout - norecover - nobackfill - norebalance - nodeep-scrub when: - step|int == 4",,23,0
openstack%2Fpuppet-openstacklib~master~Ib075ced2a854763d401a9f5a9402fd1749627bdb,openstack/puppet-openstacklib,master,Ib075ced2a854763d401a9f5a9402fd1749627bdb,Deprecate support for policy.json,ABANDONED,2020-12-29 08:07:17.000000000,2021-01-07 23:34:30.000000000,,"[{'_account_id': 8556}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-29 08:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/6a5742ca892528069a8675e28a06b9e4fbcaec6a', 'message': 'Deprecate support for policy.json\n\nBecause usage of json for policy file will be deprecated and replaced\nby yaml[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: Ib075ced2a854763d401a9f5a9402fd1749627bdb\n'}, {'number': 2, 'created': '2021-01-04 14:50:02.000000000', 'files': ['releasenotes/notes/migrate-policy-format-from-json-to-yaml-f52394d9f6ef3524.yaml', 'manifests/policy/base.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/3c49809681cf5093ae3eabbc0cc664cad6e169f8', 'message': 'Deprecate support for policy.json\n\nBecause usage of json for policy file will be deprecated and replaced\nby yaml[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html\n\nChange-Id: Ib075ced2a854763d401a9f5a9402fd1749627bdb\n'}]",4,768715,3c49809681cf5093ae3eabbc0cc664cad6e169f8,13,3,2,9816,,,0,"Deprecate support for policy.json

Because usage of json for policy file will be deprecated and replaced
by yaml[1].

[1] https://governance.openstack.org/tc/goals/selected/wallaby/migrate-policy-format-from-json-to-yaml.html

Change-Id: Ib075ced2a854763d401a9f5a9402fd1749627bdb
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/15/768715/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/migrate-policy-format-from-json-to-yaml-f52394d9f6ef3524.yaml', 'manifests/policy/base.pp']",2,6a5742ca892528069a8675e28a06b9e4fbcaec6a,policy-json-to-yaml, warning('Json format is deprecated and will be removed in a future release'),,6,0
openstack%2Fpuppet-openstacklib~master~I362d486704906bcfc058e152e271cded2858b180,openstack/puppet-openstacklib,master,I362d486704906bcfc058e152e271cded2858b180,DNM: Debug acceptance test for policy management,ABANDONED,2021-01-07 02:53:35.000000000,2021-01-07 23:31:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-07 02:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/d6ec9b72c9006fa426f92cfe8f2b329708c919c9', 'message': 'DNM: Debug acceptance test for policy management\n\nChange-Id: I362d486704906bcfc058e152e271cded2858b180\n'}, {'number': 2, 'created': '2021-01-07 03:06:24.000000000', 'files': ['spec/acceptance/openstacklib_policy_base_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/6404b399d5730b3f9ac84459da12b004349efd37', 'message': 'DNM: Debug acceptance test for policy management\n\nChange-Id: I362d486704906bcfc058e152e271cded2858b180\n'}]",0,769648,6404b399d5730b3f9ac84459da12b004349efd37,4,1,2,9816,,,0,"DNM: Debug acceptance test for policy management

Change-Id: I362d486704906bcfc058e152e271cded2858b180
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/48/769648/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/openstacklib_policy_base_spec.rb'],1,d6ec9b72c9006fa426f92cfe8f2b329708c919c9,, its(:content) { should match /foo/ } its(:content) { should match /foo/ },,2,0
openstack%2Fpuppet-openstacklib~master~I6309319d6133501d78b61b9c572e684d334c2f3a,openstack/puppet-openstacklib,master,I6309319d6133501d78b61b9c572e684d334c2f3a,Fix support for policy.yaml,ABANDONED,2021-01-04 14:50:02.000000000,2021-01-07 23:30:44.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-04 14:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/5a9bc1903cb208095d349d83d636424e3372ed28', 'message': 'Use proper default content for policy file\n\nThis change ensures that a policy file is initialized with proper\ncontent according to its file format (json or yaml).\n\nChange-Id: I6309319d6133501d78b61b9c572e684d334c2f3a\n'}, {'number': 2, 'created': '2021-01-04 23:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/e38afe41df9d61ab3482b730412f95e723a25c95', 'message': 'Fix support for policy.yaml\n\nThis change solves the following two problems we have with support of\npolicy.yaml.\n  - Use proper default content according to file format\n  - Use proper updates to manipulate yaml files\n\nAlso, name of the resource to manage a policy rule was updated so that\nit can detect duplicated keys.\n\nChange-Id: I6309319d6133501d78b61b9c572e684d334c2f3a\n'}, {'number': 3, 'created': '2021-01-05 01:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/67608d8ac3115cfd33d9bef3df85e6dd1956b623', 'message': 'Fix support for policy.yaml\n\nThis change solves the following two problems we have with support of\npolicy.yaml.\n  - Use proper default content according to file format\n  - Use proper updates to manipulate yaml files\n\nAlso, name of the resource to manage a policy rule was updated so that\nit can detect duplicated keys.\n\nChange-Id: I6309319d6133501d78b61b9c572e684d334c2f3a\n'}, {'number': 4, 'created': '2021-01-05 01:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/a3334037275bff17dadc6e9d758686ae8112f406', 'message': 'Fix support for policy.yaml\n\nThis change solves the following two problems we have with support of\npolicy.yaml.\n  - Use proper default content according to file format\n  - Use proper updates to manipulate yaml files\n\nAlso, name of the resource to manage a policy rule is updated by this\nchange so that duplicated keys are detected and result in errors.\n\nChange-Id: I6309319d6133501d78b61b9c572e684d334c2f3a\n'}, {'number': 5, 'created': '2021-01-05 04:33:49.000000000', 'files': ['spec/defines/openstacklib_policy_base_spec.rb', 'manifests/policy/base.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/7c5531a786e3c32297eb00c4063221dc819bd05b', 'message': 'Fix support for policy.yaml\n\nThis change solves the following two problems we have with support of\npolicy.yaml.\n  - Use proper default content according to file format\n  - Use proper updates to manipulate yaml files\n\nAlso, name of the resource to manage a policy rule is updated by this\nchange so that duplicated keys are detected and result in errors.\n\nChange-Id: I6309319d6133501d78b61b9c572e684d334c2f3a\n'}]",1,769149,7c5531a786e3c32297eb00c4063221dc819bd05b,14,2,5,9816,,,0,"Fix support for policy.yaml

This change solves the following two problems we have with support of
policy.yaml.
  - Use proper default content according to file format
  - Use proper updates to manipulate yaml files

Also, name of the resource to manage a policy rule is updated by this
change so that duplicated keys are detected and result in errors.

Change-Id: I6309319d6133501d78b61b9c572e684d334c2f3a
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/49/769149/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/policy/base.pp'],1,5a9bc1903cb208095d349d83d636424e3372ed28,policy-yaml," $content = '{}' $content = '' ensure_resource('file', $file_path, { mode => $file_mode, owner => $file_user, group => $file_group, replace => false, # augeas will manage the content, we just need to make sure it exists content => $content })"," ensure_resource('file', $file_path, { mode => $file_mode, owner => $file_user, group => $file_group, replace => false, # augeas will manage the content, we just need to make sure it exists content => '{}' }) ",9,8
openstack%2Fopenstack-helm~master~I0f2a0ca7d26320d599fac69ee091ca34b455c481,openstack/openstack-helm,master,I0f2a0ca7d26320d599fac69ee091ca34b455c481,Add null check condition in placement deployment manifest,MERGED,2020-11-25 17:46:15.000000000,2021-01-07 23:02:48.000000000,2021-01-07 23:00:30.000000000,"[{'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 18511}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 32067}]","[{'number': 1, 'created': '2020-11-25 17:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6eda87e1ac2598fea6b3b3ef150a3f663bcbb90e', 'message': 'Add null check condition in placement deployment manifest\n\nChecking log_config_append vaule is missing in deloyment template\nfor Placement.\n\nChange-Id: I0f2a0ca7d26320d599fac69ee091ca34b455c481\n'}, {'number': 2, 'created': '2020-11-25 19:12:30.000000000', 'files': ['placement/Chart.yaml', 'placement/templates/deployment.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d5882e97ff47244a2e776e0900bf8441b8b03c51', 'message': 'Add null check condition in placement deployment manifest\n\nChecking log_config_append vaule is missing in deloyment template\nfor Placement.\n\nChange-Id: I0f2a0ca7d26320d599fac69ee091ca34b455c481\n'}]",0,764224,d5882e97ff47244a2e776e0900bf8441b8b03c51,27,7,2,31746,,,0,"Add null check condition in placement deployment manifest

Checking log_config_append vaule is missing in deloyment template
for Placement.

Change-Id: I0f2a0ca7d26320d599fac69ee091ca34b455c481
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/24/764224/2 && git format-patch -1 --stdout FETCH_HEAD,['placement/templates/deployment.yaml'],1,6eda87e1ac2598fea6b3b3ef150a3f663bcbb90e,, {{- if .Values.conf.placement.DEFAULT.log_config_append }} {{- end }},,2,0
openstack%2Fopenstack-helm~master~I0fac4e4ba1cd643a75d5341b3d6a920f07cc3dde,openstack/openstack-helm,master,I0fac4e4ba1cd643a75d5341b3d6a920f07cc3dde,Resolves mount issue with termination-log,MERGED,2021-01-07 15:10:35.000000000,2021-01-07 22:54:39.000000000,2021-01-07 22:52:55.000000000,"[{'_account_id': 18236}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24780}]","[{'number': 1, 'created': '2021-01-07 15:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b8c60018bfc2eed86ed9d294929f6d6c30aaa8eb', 'message': 'Resolves mount issue with termination-log\n\n[0] introduced an error with the terminiation message path.\nThis patchset mimics the solution used elsewhere such as from [1].\n\n[0] https://review.opendev.org/c/openstack/openstack-helm/+/769575\n[1] https://review.opendev.org/plugins/gitiles/openstack/openstack-helm/+/refs/heads/master/nova/templates/daemonset-compute.yaml#95\n\nChange-Id: I0fac4e4ba1cd643a75d5341b3d6a920f07cc3dde\n'}, {'number': 2, 'created': '2021-01-07 15:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d27087e781b403d090abc47962f2877696f470f4', 'message': 'Resolves mount issue with termination-log\n\n[0] introduced an error with the terminiation message path.\nThis patchset mimics the solution used elsewhere such as from [1].\n\n[0] https://review.opendev.org/c/openstack/openstack-helm/+/769575\n[1] https://review.opendev.org/plugins/gitiles/openstack/openstack-helm/+/refs/heads/master/nova/templates/daemonset-compute.yaml#95\n\nChange-Id: I0fac4e4ba1cd643a75d5341b3d6a920f07cc3dde\n'}, {'number': 3, 'created': '2021-01-07 16:57:38.000000000', 'files': ['cinder/templates/deployment-volume.yaml', 'cinder/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f75208290fc01d3c9cf482cf44a1e7396b30b273', 'message': 'Resolves mount issue with termination-log\n\n[0] introduced an error with the terminiation message path.\nThis patchset mimics the solution used elsewhere such as from [1].\n\n[0] https://review.opendev.org/c/openstack/openstack-helm/+/769575\n[1] https://review.opendev.org/plugins/gitiles/openstack/openstack-helm/+/refs/heads/master/nova/templates/daemonset-compute.yaml#95\n\nChange-Id: I0fac4e4ba1cd643a75d5341b3d6a920f07cc3dde\n'}]",6,769763,f75208290fc01d3c9cf482cf44a1e7396b30b273,29,7,3,30746,,,0,"Resolves mount issue with termination-log

[0] introduced an error with the terminiation message path.
This patchset mimics the solution used elsewhere such as from [1].

[0] https://review.opendev.org/c/openstack/openstack-helm/+/769575
[1] https://review.opendev.org/plugins/gitiles/openstack/openstack-helm/+/refs/heads/master/nova/templates/daemonset-compute.yaml#95

Change-Id: I0fac4e4ba1cd643a75d5341b3d6a920f07cc3dde
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/63/769763/3 && git format-patch -1 --stdout FETCH_HEAD,['cinder/templates/deployment-volume.yaml'],1,b8c60018bfc2eed86ed9d294929f6d6c30aaa8eb,, terminationMessagePath: /var/log/termination-log terminationMessagePath: /var/log/termination-log terminationMessagePath: /var/log/termination-log terminationMessagePath: /var/log/termination-log,,4,0
openstack%2Fcharm-cinder-ceph~master~I95e4e62acb77e60c45ecfe3d772507def5199e3f,openstack/charm-cinder-ceph,master,I95e4e62acb77e60c45ecfe3d772507def5199e3f,Add Groovy to the test gate,MERGED,2020-11-05 11:45:44.000000000,2021-01-07 22:31:16.000000000,2021-01-07 22:31:16.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-05 11:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/b9b3319cdd133df019f935ce8e35b264e59c0dbe', 'message': 'Add Groovy to the test gate\n\nChange-Id: I95e4e62acb77e60c45ecfe3d772507def5199e3f\n'}, {'number': 2, 'created': '2021-01-07 09:27:02.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/57d5d6f26b30e9d9184930eee4f6859139d64f83', 'message': 'Add Groovy to the test gate\n\nChange-Id: I95e4e62acb77e60c45ecfe3d772507def5199e3f\n'}]",0,761552,57d5d6f26b30e9d9184930eee4f6859139d64f83,21,3,2,31289,,,0,"Add Groovy to the test gate

Change-Id: I95e4e62acb77e60c45ecfe3d772507def5199e3f
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/52/761552/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'charmhelpers/contrib/openstack/utils.py']",2,b9b3319cdd133df019f935ce8e35b264e59c0dbe,groovy-charm-gate," ['2.25.0', '2.26.0']),"," ['2.25.0']),",3,4
openstack%2Fcharm-heat~master~I72f7d3821f95ac2ff6bb998935e92833fa50622f,openstack/charm-heat,master,I72f7d3821f95ac2ff6bb998935e92833fa50622f,Add Groovy to the test gate,MERGED,2020-11-05 11:47:42.000000000,2021-01-07 22:27:09.000000000,2021-01-07 22:27:09.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-05 11:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/a0367328cbe3e2251268640314523ec55e34463c', 'message': 'Add Groovy to the test gate\n\nChange-Id: I72f7d3821f95ac2ff6bb998935e92833fa50622f\n'}, {'number': 2, 'created': '2021-01-07 10:11:45.000000000', 'files': ['tests/tests.yaml', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/7fff0b68176e37f65fe1e4bc8685258b91096713', 'message': 'Add Groovy to the test gate\n\nChange-Id: I72f7d3821f95ac2ff6bb998935e92833fa50622f\n'}]",0,761560,7fff0b68176e37f65fe1e4bc8685258b91096713,12,3,2,31289,,,0,"Add Groovy to the test gate

Change-Id: I72f7d3821f95ac2ff6bb998935e92833fa50622f
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/60/761560/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py']",3,a0367328cbe3e2251268640314523ec55e34463c,groovy-charm-gate," application_name,def send_application_name(relid=None): """"""Send the application name down the relation. :param relid: Relation id to set application name in. :type relid: str """""" relation_set( relation_id=relid, relation_settings={'application-name': application_name()}) Profiles are considered immutable so will not be updated if the named profile already exists. Please refer to [0] for more details. if erasure_profile_exists(service, profile_name): log('EC profile {} exists, skipping update'.format(profile_name), level=WARNING) return relation_set(relation_id=rid, relation_settings={'unit-name': local_unit()})"," Updates the profile if it exists. Please refer to [0] for more details. if erasure_profile_exists(service, profile_name): cmd.append('--force') ",23,6
openstack%2Fcharm-gnocchi~master~I3cea0f3331c225b030c3ff458150454d56f5d779,openstack/charm-gnocchi,master,I3cea0f3331c225b030c3ff458150454d56f5d779,Add Groovy to the test gate,MERGED,2020-11-05 11:47:12.000000000,2021-01-07 22:24:40.000000000,2021-01-07 22:24:40.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-05 11:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/2ea19ff71b6df14eac0bd43fe38626c7e9db75ca', 'message': 'Add Groovy to the test gate\n\nChange-Id: I3cea0f3331c225b030c3ff458150454d56f5d779\n'}, {'number': 2, 'created': '2021-01-07 10:11:55.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/e8ba4d06bc6998dd33edb0b3dcfa51106195c1ab', 'message': 'Add Groovy to the test gate\n\nChange-Id: I3cea0f3331c225b030c3ff458150454d56f5d779\n'}]",0,761558,e8ba4d06bc6998dd33edb0b3dcfa51106195c1ab,12,3,2,31289,,,0,"Add Groovy to the test gate

Change-Id: I3cea0f3331c225b030c3ff458150454d56f5d779
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/58/761558/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,2ea19ff71b6df14eac0bd43fe38626c7e9db75ca,groovy-charm-gate, - groovy-victoria - test-s3: groovy-victoria-s3, - groovy-victoria - test-s3: groovy-victoria-s3,2,2
openstack%2Ftripleo-validations~master~I39283d724864230ebd504d662cbfd377a533cdc6,openstack/tripleo-validations,master,I39283d724864230ebd504d662cbfd377a533cdc6,Restrict Ansible dependency,MERGED,2020-12-09 13:57:43.000000000,2021-01-07 22:07:36.000000000,2021-01-07 22:06:03.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2020-12-09 13:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b810a033836b2b63e8b70eed2b9d5749707bbabb', 'message': 'Restrict Ansible dependency\n\nThis patch adds some version specifiers in the molecule-requirements.txt\nto restrict to specific Ansible release.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I39283d724864230ebd504d662cbfd377a533cdc6\n'}, {'number': 2, 'created': '2020-12-10 12:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2606303c8e6f9fae8b407895774f9c76c0b99afb', 'message': 'Restrict Ansible dependency\n\nThis patch adds some version specifiers in the molecule-requirements.txt\nto restrict to specific Ansible release.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I39283d724864230ebd504d662cbfd377a533cdc6\n'}, {'number': 3, 'created': '2020-12-10 13:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c7402d029c96731b3c4eeee63ac81c2d13f08f5e', 'message': 'Restrict Ansible dependency\n\nThis patch adds some version specifiers in the molecule-requirements.txt\nto restrict to specific Ansible release.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I39283d724864230ebd504d662cbfd377a533cdc6\n'}, {'number': 4, 'created': '2020-12-10 16:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2eb7fc7bf18f0e4e1fb207ca65a876d033db1449', 'message': 'Restrict Ansible dependency\n\nThis patch adds some version specifiers in the molecule-requirements.txt\nto restrict to specific Ansible release.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I39283d724864230ebd504d662cbfd377a533cdc6\n'}, {'number': 5, 'created': '2020-12-10 16:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c78d07e34512c01385cdfa64b4560dbb2862c327', 'message': 'Restrict Ansible dependency\n\nThis patch adds some version specifiers in the molecule-requirements.txt\nto restrict to specific Ansible release.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I39283d724864230ebd504d662cbfd377a533cdc6\n'}, {'number': 6, 'created': '2020-12-11 08:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c3cc0a15c5f44d8549081456bd3fdeb63c37ccc3', 'message': 'Restrict Ansible dependency\n\nThis patch adds some version specifiers in the molecule-requirements.txt\nto restrict to specific Ansible release.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I39283d724864230ebd504d662cbfd377a533cdc6\n'}, {'number': 7, 'created': '2020-12-11 09:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6e622fc675346d2aa661a052aa17731cec65a667', 'message': 'Restrict Ansible dependency\n\nThis patch adds some version specifiers in the molecule-requirements.txt\nto restrict to specific Ansible release.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I39283d724864230ebd504d662cbfd377a533cdc6\n'}, {'number': 8, 'created': '2020-12-15 09:20:38.000000000', 'files': ['molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e4909982d729ee634094650a3d08552c412843a8', 'message': 'Restrict Ansible dependency\n\nThis patch adds some version specifiers in the molecule-requirements.txt\nto restrict to specific Ansible release.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I39283d724864230ebd504d662cbfd377a533cdc6\n'}]",0,766224,e4909982d729ee634094650a3d08552c412843a8,20,8,8,11491,,,0,"Restrict Ansible dependency

This patch adds some version specifiers in the molecule-requirements.txt
to restrict to specific Ansible release.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I39283d724864230ebd504d662cbfd377a533cdc6
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/24/766224/5 && git format-patch -1 --stdout FETCH_HEAD,['molecule-requirements.txt'],1,b810a033836b2b63e8b70eed2b9d5749707bbabb,,"ansible>=2.8,!=2.8.9,!=2.9.12,<2.10.0",ansible,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0161e6d9c76424b301e48b73f1d7b4b071af0676,openstack/tripleo-heat-templates,stable/train,I0161e6d9c76424b301e48b73f1d7b4b071af0676,Add possibility to set logging source for Horizon,MERGED,2020-11-10 22:47:52.000000000,2021-01-07 22:05:56.000000000,2021-01-07 22:05:56.000000000,"[{'_account_id': 5241}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-10 22:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7aa2955234db8ebce9e1fb6013ffd7d4bd97c2e0', 'message': 'Add possibility to set logging source for Horizon\n\nThis patch adds HorizonLoggingSource parameter to enable fluentd to tail logs\nfrom Horizon.\n\nTo keep consistency with other services the default value is set as single log located\nin appropriate log directory, but we also need to enable customer to pass multiple\nhorizon log files also used by httpd.\n\nChange-Id: I0161e6d9c76424b301e48b73f1d7b4b071af0676\n(cherry picked from commit f2fc8c8fafd1c29c8ddfa0c78b875cb9f48291a7)\n'}, {'number': 2, 'created': '2020-12-07 16:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/107db116021bd5ba61c236c03959010e97ffa6fd', 'message': 'Add possibility to set logging source for Horizon\n\nThis patch adds HorizonLoggingSource parameter to enable fluentd to tail logs\nfrom Horizon.\n\nTo keep consistency with other services the default value is set as single log located\nin appropriate log directory, but we also need to enable customer to pass multiple\nhorizon log files also used by httpd.\n\nChange-Id: I0161e6d9c76424b301e48b73f1d7b4b071af0676\n(cherry picked from commit f2fc8c8fafd1c29c8ddfa0c78b875cb9f48291a7)\n'}, {'number': 3, 'created': '2020-12-08 16:09:52.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/95ec1f23b51983c647dc9a11e2909eaa12113569', 'message': 'Add possibility to set logging source for Horizon\n\nThis patch adds HorizonLoggingSource parameter to enable fluentd to tail logs\nfrom Horizon.\n\nTo keep consistency with other services the default value is set as single log located\nin appropriate log directory, but we also need to enable customer to pass multiple\nhorizon log files also used by httpd.\n\nChange-Id: I0161e6d9c76424b301e48b73f1d7b4b071af0676\n(cherry picked from commit f2fc8c8fafd1c29c8ddfa0c78b875cb9f48291a7)\n'}]",0,762217,95ec1f23b51983c647dc9a11e2909eaa12113569,41,5,3,5241,,,0,"Add possibility to set logging source for Horizon

This patch adds HorizonLoggingSource parameter to enable fluentd to tail logs
from Horizon.

To keep consistency with other services the default value is set as single log located
in appropriate log directory, but we also need to enable customer to pass multiple
horizon log files also used by httpd.

Change-Id: I0161e6d9c76424b301e48b73f1d7b4b071af0676
(cherry picked from commit f2fc8c8fafd1c29c8ddfa0c78b875cb9f48291a7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/762217/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/horizon/horizon-container-puppet.yaml'],1,7aa2955234db8ebce9e1fb6013ffd7d4bd97c2e0,horizon-logging-source-stable/train, HorizonLoggingSource: type: json default: tag: openstack.horizon file: /var/log/containers/horizon/horizon.log service_config_settings: rsyslog: tripleo_logging_sources_horizon: yaql: expression: $.data.sources.flatten() data: sources: - {get_param: HorizonLoggingSource},,13,0
openstack%2Ftrove-dashboard~master~Icb617eca8d87463e85822439f0ba4c8e30a3463c,openstack/trove-dashboard,master,Icb617eca8d87463e85822439f0ba4c8e30a3463c,Add 'Delete' button for backup strategy,MERGED,2020-12-21 17:16:16.000000000,2021-01-07 22:02:11.000000000,2021-01-07 22:02:11.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-21 17:16:16.000000000', 'files': ['trove_dashboard/content/backup_strategies/tables.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/1408db303f5736469d61b73658a33af283f6f0e8', 'message': ""Add 'Delete' button for backup strategy\n\nChange-Id: Icb617eca8d87463e85822439f0ba4c8e30a3463c\n""}]",0,768110,1408db303f5736469d61b73658a33af283f6f0e8,6,2,1,1736,,,0,"Add 'Delete' button for backup strategy

Change-Id: Icb617eca8d87463e85822439f0ba4c8e30a3463c
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/10/768110/1 && git format-patch -1 --stdout FETCH_HEAD,['trove_dashboard/content/backup_strategies/tables.py'],1,1408db303f5736469d61b73658a33af283f6f0e8,bs-delete," row_actions = (DeleteBackupStrategy,)",,1,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I0161e6d9c76424b301e48b73f1d7b4b071af0676,openstack/tripleo-heat-templates,stable/ussuri,I0161e6d9c76424b301e48b73f1d7b4b071af0676,Add possibility to set logging source for Horizon,MERGED,2020-10-19 13:17:15.000000000,2021-01-07 21:41:13.000000000,2021-01-07 21:41:13.000000000,"[{'_account_id': 5241}, {'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-10-19 13:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e560fbec3145c148e7f27b2dffb85b30aff2fc35', 'message': 'Add possibility to set logging source for Horizon\n\nThis patch adds HorizonLoggingSource parameter to enable fluentd to tail logs\nfrom Horizon.\n\nTo keep consistency with other services the default value is set as single log located\nin appropriate log directory, but we also need to enable customer to pass multiple\nhorizon log files also used by httpd.\n\nChange-Id: I0161e6d9c76424b301e48b73f1d7b4b071af0676\n(cherry picked from commit f2fc8c8fafd1c29c8ddfa0c78b875cb9f48291a7)\n'}, {'number': 2, 'created': '2020-10-21 09:06:20.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/256f92d2556a2d4a777f23b3b64907eaf990a91a', 'message': 'Add possibility to set logging source for Horizon\n\nThis patch adds HorizonLoggingSource parameter to enable fluentd to tail logs\nfrom Horizon.\n\nTo keep consistency with other services the default value is set as single log located\nin appropriate log directory, but we also need to enable customer to pass multiple\nhorizon log files also used by httpd.\n\nChange-Id: I0161e6d9c76424b301e48b73f1d7b4b071af0676\n(cherry picked from commit f2fc8c8fafd1c29c8ddfa0c78b875cb9f48291a7)\n'}]",0,758812,256f92d2556a2d4a777f23b3b64907eaf990a91a,16,6,2,5241,,,0,"Add possibility to set logging source for Horizon

This patch adds HorizonLoggingSource parameter to enable fluentd to tail logs
from Horizon.

To keep consistency with other services the default value is set as single log located
in appropriate log directory, but we also need to enable customer to pass multiple
horizon log files also used by httpd.

Change-Id: I0161e6d9c76424b301e48b73f1d7b4b071af0676
(cherry picked from commit f2fc8c8fafd1c29c8ddfa0c78b875cb9f48291a7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/758812/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/horizon/horizon-container-puppet.yaml'],1,e560fbec3145c148e7f27b2dffb85b30aff2fc35,horizon-logging-source-stable/ussuri, HorizonLoggingSource: type: json default: tag: openstack.horizon file: /var/log/containers/horizon/horizon.log service_config_settings: rsyslog: tripleo_logging_sources_horizon: yaql: expression: $.data.sources.flatten() data: sources: - {get_param: HorizonLoggingSource},,13,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I2dbafdc417f31eb000fbb469ae2c082cda3a5523,openstack/tripleo-heat-templates,stable/ussuri,I2dbafdc417f31eb000fbb469ae2c082cda3a5523,Fix MetricsQdrUseSSL value,MERGED,2020-11-10 11:52:50.000000000,2021-01-07 21:41:08.000000000,2021-01-07 21:41:08.000000000,"[{'_account_id': 5241}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-10 11:52:50.000000000', 'files': ['deployment/metrics/qdr-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8d186938d88d1052e9963b99be91e6800c904598', 'message': ""Fix MetricsQdrUseSSL value\n\npuppet-qdr expects one of the string values 'yes'/'no' instead of boolean,\nso currently listeners cannot be created with SSL enabled. This patch is fixing\nthis issue.\n\nChange-Id: I2dbafdc417f31eb000fbb469ae2c082cda3a5523\n(cherry picked from commit dfc3322b637c62b85f450d2ad4aab0aaa1990cb7)\n""}]",0,762126,8d186938d88d1052e9963b99be91e6800c904598,25,5,1,5241,,,0,"Fix MetricsQdrUseSSL value

puppet-qdr expects one of the string values 'yes'/'no' instead of boolean,
so currently listeners cannot be created with SSL enabled. This patch is fixing
this issue.

Change-Id: I2dbafdc417f31eb000fbb469ae2c082cda3a5523
(cherry picked from commit dfc3322b637c62b85f450d2ad4aab0aaa1990cb7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/762126/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/metrics/qdr-container-puppet.yaml'],1,8d186938d88d1052e9963b99be91e6800c904598,metric_qdr-ssl-enable-fix-stable/victoria-stable/ussuri," listener_ssl_enabled: {equals: [{get_param: MetricsQdrUseSSL}, true]} tripleo::profile::base::metrics::qdr::listener_require_ssl: if: - listener_ssl_enabled - 'yes' - 'no'", tripleo::profile::base::metrics::qdr::listener_require_ssl: {get_param: MetricsQdrUseSSL},6,1
openstack%2Fmanila-specs~master~I168d2a4730f5ff03ed613c6ca38d2e9d97f709b2,openstack/manila-specs,master,I168d2a4730f5ff03ed613c6ca38d2e9d97f709b2,DNM: testing gate on ubuntu focal,ABANDONED,2020-07-27 00:41:19.000000000,2021-01-07 21:17:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-27 00:41:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/753336608fd588593ff02cd8cc5ad32ad20d8c79', 'message': 'DNM: testing gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\nStory: #2007865\nTask: #40194\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: I168d2a4730f5ff03ed613c6ca38d2e9d97f709b2\n'}]",0,743138,753336608fd588593ff02cd8cc5ad32ad20d8c79,3,1,1,8556,,,0,"DNM: testing gate on ubuntu focal

This tests:
- unit tests jobs
- functional tests jobs
- docs jobs
Story: #2007865
Task: #40194
Depends-On: https://review.opendev.org/#/c/734700/

Change-Id: I168d2a4730f5ff03ed613c6ca38d2e9d97f709b2
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/38/743138/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,753336608fd588593ff02cd8cc5ad32ad20d8c79,,#test focal,,1,0
openstack%2Freleases~master~Id575b270e3e3299bf191619bf7e0c9fe8d42a7f4,openstack/releases,master,Id575b270e3e3299bf191619bf7e0c9fe8d42a7f4,Allow branchless repo to release EM tag,ABANDONED,2020-12-26 19:26:18.000000000,2021-01-07 21:15:34.000000000,,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28182}]","[{'number': 1, 'created': '2020-12-26 19:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e1880f13a52381949d7d622fe90d79b6f06d19bf', 'message': 'Allow branchless repo to release EM tag\n\nTempest and its plugins are branchless but\nneed to release the EM tag\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019565.html\n\nThis commit allow to tag EM for branchless repo too.\n\nChange-Id: Id575b270e3e3299bf191619bf7e0c9fe8d42a7f4\n'}, {'number': 2, 'created': '2020-12-26 20:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/362db163bd198e298a6282ebf6b857df332e0629', 'message': 'Allow branchless repo to release EM tag\n\nTempest and its plugins are branchless but\nneed to release the EM tag\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019565.html\n\nThis commit allow to tag EM for branchless repo with\nlatest hash.\n\nChange-Id: Id575b270e3e3299bf191619bf7e0c9fe8d42a7f4\n'}, {'number': 3, 'created': '2020-12-30 19:01:58.000000000', 'files': ['openstack_releases/tests/test_validate.py', 'openstack_releases/cmds/validate.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/ffe0d892090b13c7ce7f24dda650c565f9fb2188', 'message': 'Allow branchless repo to release EM tag\n\nTempest and its plugins are branchless but\nneed to release the EM tag\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019565.html\n\nThis commit allow to tag EM for branchless repo with\nlatest hash.\n\nChange-Id: Id575b270e3e3299bf191619bf7e0c9fe8d42a7f4\n'}]",2,768566,ffe0d892090b13c7ce7f24dda650c565f9fb2188,17,5,3,8556,,,0,"Allow branchless repo to release EM tag

Tempest and its plugins are branchless but
need to release the EM tag
- http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019565.html

This commit allow to tag EM for branchless repo with
latest hash.

Change-Id: Id575b270e3e3299bf191619bf7e0c9fe8d42a7f4
",git fetch https://review.opendev.org/openstack/releases refs/changes/66/768566/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_releases/tests/test_validate.py', 'openstack_releases/cmds/validate.py']",2,e1880f13a52381949d7d622fe90d79b6f06d19bf,,, if len(deliv.branches) == 0: context.error('only branched deliverables can be tagged EM') ,0,31
openstack%2Fswift~stable%2Ftrain~I2301a562d920aeb8b7edd9ac8f9bddaeaea36922,openstack/swift,stable/train,I2301a562d920aeb8b7edd9ac8f9bddaeaea36922,Memcached client TLS support,ABANDONED,2021-01-07 21:00:05.000000000,2021-01-07 21:05:20.000000000,,[],"[{'number': 1, 'created': '2021-01-07 21:00:05.000000000', 'files': ['test/unit/common/middleware/test_memcache.py', 'swift/common/memcached.py', 'etc/proxy-server.conf-sample', 'test/unit/common/test_memcached.py', 'swift/common/middleware/memcache.py', 'etc/memcache.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/dadc9dc036b0cc4a1f363f9d42dd7f0813ff5420', 'message': 'Memcached client TLS support\n\nThis patch specifies a set of configuration options required to build\na TLS context, which is used to wrap the client connection socket.\n\nCloses-Bug: #1906846\n\n(cherry picked from commit 6930bc24b2f7613bc56bee3d2c34f7bb4890ec39)\n\nChange-Id: I2301a562d920aeb8b7edd9ac8f9bddaeaea36922\n'}]",0,769839,dadc9dc036b0cc4a1f363f9d42dd7f0813ff5420,2,0,1,14250,,,0,"Memcached client TLS support

This patch specifies a set of configuration options required to build
a TLS context, which is used to wrap the client connection socket.

Closes-Bug: #1906846

(cherry picked from commit 6930bc24b2f7613bc56bee3d2c34f7bb4890ec39)

Change-Id: I2301a562d920aeb8b7edd9ac8f9bddaeaea36922
",git fetch https://review.opendev.org/openstack/swift refs/changes/39/769839/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_memcache.py', 'swift/common/memcached.py', 'etc/proxy-server.conf-sample', 'test/unit/common/test_memcached.py', 'swift/common/middleware/memcache.py', 'etc/memcache.conf-sample']",6,dadc9dc036b0cc4a1f363f9d42dd7f0813ff5420,,"# # (Optional) Global toggle for TLS usage when comunicating with # the caching servers. # tls_enabled = false # # (Optional) Path to a file of concatenated CA certificates in PEM # format necessary to establish the caching server's authenticity. # If tls_enabled is False, this option is ignored. # tls_cafile = # # (Optional) Path to a single file in PEM format containing the # client's certificate as well as any number of CA certificates # needed to establish the certificate's authenticity. This file # is only required when client side authentication is necessary. # If tls_enabled is False, this option is ignored. # tls_certfile = # # (Optional) Path to a single file containing the client's private # key in. Otherwhise the private key will be taken from the file # specified in tls_certfile. If tls_enabled is False, this option # is ignored. # tls_keyfile =",,86,7
openstack%2Fswift~stable%2Fussuri~I2301a562d920aeb8b7edd9ac8f9bddaeaea36922,openstack/swift,stable/ussuri,I2301a562d920aeb8b7edd9ac8f9bddaeaea36922,Memcached client TLS support,ABANDONED,2021-01-07 20:59:34.000000000,2021-01-07 21:05:16.000000000,,[],"[{'number': 1, 'created': '2021-01-07 20:59:34.000000000', 'files': ['test/unit/common/middleware/test_memcache.py', 'swift/common/memcached.py', 'etc/proxy-server.conf-sample', 'test/unit/common/test_memcached.py', 'swift/common/middleware/memcache.py', 'etc/memcache.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/9b3d2b896c9b4ff296847780d2e9442fe2d31d27', 'message': 'Memcached client TLS support\n\nThis patch specifies a set of configuration options required to build\na TLS context, which is used to wrap the client connection socket.\n\nCloses-Bug: #1906846\n\n(cherry picked from commit 6930bc24b2f7613bc56bee3d2c34f7bb4890ec39)\n\nChange-Id: I2301a562d920aeb8b7edd9ac8f9bddaeaea36922\n'}]",0,769838,9b3d2b896c9b4ff296847780d2e9442fe2d31d27,2,0,1,14250,,,0,"Memcached client TLS support

This patch specifies a set of configuration options required to build
a TLS context, which is used to wrap the client connection socket.

Closes-Bug: #1906846

(cherry picked from commit 6930bc24b2f7613bc56bee3d2c34f7bb4890ec39)

Change-Id: I2301a562d920aeb8b7edd9ac8f9bddaeaea36922
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/769838/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_memcache.py', 'swift/common/memcached.py', 'etc/proxy-server.conf-sample', 'test/unit/common/test_memcached.py', 'swift/common/middleware/memcache.py', 'etc/memcache.conf-sample']",6,9b3d2b896c9b4ff296847780d2e9442fe2d31d27,,"# # (Optional) Global toggle for TLS usage when comunicating with # the caching servers. # tls_enabled = false # # (Optional) Path to a file of concatenated CA certificates in PEM # format necessary to establish the caching server's authenticity. # If tls_enabled is False, this option is ignored. # tls_cafile = # # (Optional) Path to a single file in PEM format containing the # client's certificate as well as any number of CA certificates # needed to establish the certificate's authenticity. This file # is only required when client side authentication is necessary. # If tls_enabled is False, this option is ignored. # tls_certfile = # # (Optional) Path to a single file containing the client's private # key in. Otherwhise the private key will be taken from the file # specified in tls_certfile. If tls_enabled is False, this option # is ignored. # tls_keyfile =",,86,7
openstack%2Fswift~stable%2Fvictoria~I2301a562d920aeb8b7edd9ac8f9bddaeaea36922,openstack/swift,stable/victoria,I2301a562d920aeb8b7edd9ac8f9bddaeaea36922,Memcached client TLS support,ABANDONED,2021-01-07 20:56:50.000000000,2021-01-07 21:04:53.000000000,,[],"[{'number': 1, 'created': '2021-01-07 20:56:50.000000000', 'files': ['test/unit/common/middleware/test_memcache.py', 'swift/common/memcached.py', 'etc/proxy-server.conf-sample', 'test/unit/common/test_memcached.py', 'swift/common/middleware/memcache.py', 'etc/memcache.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/8c0744a57a3e371f2b0ba8ff88d9f09f20de1d28', 'message': 'Memcached client TLS support\n\nThis patch specifies a set of configuration options required to build\na TLS context, which is used to wrap the client connection socket.\n\nCloses-Bug: #1906846\nChange-Id: I03a92168b90508956f367fbb60b7712f95b97f60\n\n(cherry picked from commit 6930bc24b2f7613bc56bee3d2c34f7bb4890ec39)\n\nChange-Id: I2301a562d920aeb8b7edd9ac8f9bddaeaea36922\n'}]",0,769837,8c0744a57a3e371f2b0ba8ff88d9f09f20de1d28,2,0,1,14250,,,0,"Memcached client TLS support

This patch specifies a set of configuration options required to build
a TLS context, which is used to wrap the client connection socket.

Closes-Bug: #1906846
Change-Id: I03a92168b90508956f367fbb60b7712f95b97f60

(cherry picked from commit 6930bc24b2f7613bc56bee3d2c34f7bb4890ec39)

Change-Id: I2301a562d920aeb8b7edd9ac8f9bddaeaea36922
",git fetch https://review.opendev.org/openstack/swift refs/changes/37/769837/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_memcache.py', 'swift/common/memcached.py', 'etc/proxy-server.conf-sample', 'test/unit/common/test_memcached.py', 'swift/common/middleware/memcache.py', 'etc/memcache.conf-sample']",6,8c0744a57a3e371f2b0ba8ff88d9f09f20de1d28,,"# # (Optional) Global toggle for TLS usage when comunicating with # the caching servers. # tls_enabled = false # # (Optional) Path to a file of concatenated CA certificates in PEM # format necessary to establish the caching server's authenticity. # If tls_enabled is False, this option is ignored. # tls_cafile = # # (Optional) Path to a single file in PEM format containing the # client's certificate as well as any number of CA certificates # needed to establish the certificate's authenticity. This file # is only required when client side authentication is necessary. # If tls_enabled is False, this option is ignored. # tls_certfile = # # (Optional) Path to a single file containing the client's private # key in. Otherwhise the private key will be taken from the file # specified in tls_certfile. If tls_enabled is False, this option # is ignored. # tls_keyfile =",,85,7
openstack%2Fopenstack-ansible-lxc_hosts~master~Ib50b8a85cddcfffcfa54dc39580f92f7305c7c4a,openstack/openstack-ansible-lxc_hosts,master,Ib50b8a85cddcfffcfa54dc39580f92f7305c7c4a,Add trusted.gpg to the copy_from_host list for 20.04,MERGED,2020-12-23 13:39:42.000000000,2021-01-07 21:04:12.000000000,2021-01-07 21:02:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-12-23 13:39:42.000000000', 'files': ['vars/ubuntu-20.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/47df1aa66990f4dbb83bd07d1a328af06be5cf57', 'message': 'Add trusted.gpg to the copy_from_host list for 20.04\n\nWithout this, installing containers on a host that uses a non-default repo\nsource will fail.\n\nChange-Id: Ib50b8a85cddcfffcfa54dc39580f92f7305c7c4a\n'}]",0,768337,47df1aa66990f4dbb83bd07d1a328af06be5cf57,12,3,1,13252,,,0,"Add trusted.gpg to the copy_from_host list for 20.04

Without this, installing containers on a host that uses a non-default repo
source will fail.

Change-Id: Ib50b8a85cddcfffcfa54dc39580f92f7305c7c4a
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/37/768337/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu-20.04.yml'],1,47df1aa66990f4dbb83bd07d1a328af06be5cf57,fix-apt-gpg-focal, - /etc/apt/trusted.gpg,,1,0
openstack%2Fswift~stable%2Fussuri~I624f914c6155178cbe474f1eae2871e2aef721eb,openstack/swift,stable/ussuri,I624f914c6155178cbe474f1eae2871e2aef721eb,Use local py2 upper-constraints,ABANDONED,2020-12-14 20:22:21.000000000,2021-01-07 21:03:47.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-14 20:22:21.000000000', 'files': ['py2-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/6f8a7698687c2a58d22a37a8b164339acba88cb3', 'message': 'Use local py2 upper-constraints\n\nThe global upper constraints repo will no longer track py2 packages,\nmeaning upper constraints for the py2.7 runtime will need to be handled\nlocally.\n\nThis adds an in-repo file for upper constraints enforcement using the\nlast py27 constraints from openstack/requirements to validate\nfunctionality.\n\nChange-Id: I624f914c6155178cbe474f1eae2871e2aef721eb\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit 0f2da2aee6805afbdadfd1e8fa8e993cd6a0196d)\n'}]",0,767013,6f8a7698687c2a58d22a37a8b164339acba88cb3,3,2,1,15343,,,0,"Use local py2 upper-constraints

The global upper constraints repo will no longer track py2 packages,
meaning upper constraints for the py2.7 runtime will need to be handled
locally.

This adds an in-repo file for upper constraints enforcement using the
last py27 constraints from openstack/requirements to validate
functionality.

Change-Id: I624f914c6155178cbe474f1eae2871e2aef721eb
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit 0f2da2aee6805afbdadfd1e8fa8e993cd6a0196d)
",git fetch https://review.opendev.org/openstack/swift refs/changes/13/767013/1 && git format-patch -1 --stdout FETCH_HEAD,"['py2-constraints.txt', 'tox.ini']",2,6f8a7698687c2a58d22a37a8b164339acba88cb3,,[testenv:py27] deps = -c{toxinidir}/py2-constraints.txt -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt deps = {[testenv:py27]deps}deps = {[testenv:py27]deps}deps = {[testenv:py27]deps}deps = {[testenv:py27]deps}deps = {[testenv:py27]deps}deps = {[testenv:py27]deps},,84,0
openstack%2Fswift~stable%2Fussuri~If7f3ad8b275271d748426133232ed06c2a1cd1de,openstack/swift,stable/ussuri,If7f3ad8b275271d748426133232ed06c2a1cd1de,Pin Bandit on py2,ABANDONED,2020-12-14 20:22:21.000000000,2021-01-07 21:03:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-14 20:22:21.000000000', 'files': ['.zuul.yaml', 'py2-constraints.txt'], 'web_link': 'https://opendev.org/openstack/swift/commit/f32b12f175d1204dd67e951b681b6aca415e606a', 'message': 'Pin Bandit on py2\n\nSee also: https://github.com/PyCQA/bandit/issues/654\n\nChange-Id: If7f3ad8b275271d748426133232ed06c2a1cd1de\n(cherry picked from commit 8e744ba24a9ae64a4c921f1029b72635db37c7c6)\n'}]",0,767014,f32b12f175d1204dd67e951b681b6aca415e606a,3,1,1,15343,,,0,"Pin Bandit on py2

See also: https://github.com/PyCQA/bandit/issues/654

Change-Id: If7f3ad8b275271d748426133232ed06c2a1cd1de
(cherry picked from commit 8e744ba24a9ae64a4c921f1029b72635db37c7c6)
",git fetch https://review.opendev.org/openstack/swift refs/changes/14/767014/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'py2-constraints.txt']",2,f32b12f175d1204dd67e951b681b6aca415e606a,, # Projects that are known to have had a final py2-supporting release bandit===1.6.2,,3,1
openstack%2Fcharms.openstack~master~I7b3c4e11ab04cc133ffe6a718d5b505f27edad68,openstack/charms.openstack,master,I7b3c4e11ab04cc133ffe6a718d5b505f27edad68,Send bindings for get_certificate_requests,MERGED,2021-01-07 18:38:01.000000000,2021-01-07 20:57:35.000000000,2021-01-07 20:57:35.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 18:38:01.000000000', 'files': ['charms_openstack/charm/classes.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/21cd9a561f87b81cfab601516b23e9786dcd4b49', 'message': 'Send bindings for get_certificate_requests\n\nCharm-helpers PR must land first:\nhttps://github.com/juju/charm-helpers/pull/556\n\nCloses-Bug: #1908306\nChange-Id: I7b3c4e11ab04cc133ffe6a718d5b505f27edad68\n'}]",0,769811,21cd9a561f87b81cfab601516b23e9786dcd4b49,6,2,1,20805,,,0,"Send bindings for get_certificate_requests

Charm-helpers PR must land first:
https://github.com/juju/charm-helpers/pull/556

Closes-Bug: #1908306
Change-Id: I7b3c4e11ab04cc133ffe6a718d5b505f27edad68
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/11/769811/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_openstack/charm/classes.py'],1,21cd9a561f87b81cfab601516b23e9786dcd4b49,bug/1908306," def get_certificate_requests(self, bindings=None): """"""Return a dict of certificate requests :param bindings: List of binding string names for cert requests :type bindings: List[str] """""" json_encode=False, bindings=bindings).get('cert_requests', {})"," def get_certificate_requests(self): """"""Return a dict of certificate requests"""""" json_encode=False).get('cert_requests', {})",7,3
openstack%2Ftripleo-operator-ansible~master~I8f8c7ee090280a2229bb7b123ebd619776db15b2,openstack/tripleo-operator-ansible,master,I8f8c7ee090280a2229bb7b123ebd619776db15b2,Backup previous log file when retries task,ABANDONED,2021-01-07 15:45:25.000000000,2021-01-07 20:47:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-07 15:45:25.000000000', 'files': ['roles/tripleo_container_image_build/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/61f74f5a17de8c06045cafa5d8931bd27020bbe1', 'message': 'Backup previous log file when retries task\n\nChange-Id: I8f8c7ee090280a2229bb7b123ebd619776db15b2\n'}]",0,769773,61f74f5a17de8c06045cafa5d8931bd27020bbe1,3,1,1,10969,,,0,"Backup previous log file when retries task

Change-Id: I8f8c7ee090280a2229bb7b123ebd619776db15b2
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/73/769773/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo_container_image_build/tasks/main.yml'],1,61f74f5a17de8c06045cafa5d8931bd27020bbe1,bkp," {{ tripleo_container_image_build_log_output | ternary(( ""test -f "" ~ tripleo_container_image_build_log ~ "" && cp "" ~ tripleo_container_image_build_log ~ "" "" ~ tripleo_container_image_build_log ~ "".backup.log || true""), '') }};",,4,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I29f94783637264b6938c1f03925ed700bd8acafc,openstack/tripleo-ansible,stable/train,I29f94783637264b6938c1f03925ed700bd8acafc,Update for a podman_container from collection,ABANDONED,2021-01-05 22:11:12.000000000,2021-01-07 20:44:11.000000000,,"[{'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-05 22:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/50672421cfdda54645a16e57ad3c57c0be318e90', 'message': 'Update for a podman_container from collection\n\nAnd removing docker.io from podman container tests.\n\nChange-Id: I29f94783637264b6938c1f03925ed700bd8acafc\n(cherry picked from commit b6ca89d194aeb428e58f680a43c4bef700b96831)\n'}, {'number': 2, 'created': '2021-01-05 22:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d6fcab1f297ae47cfbe9f15cf8f9af36f9f3f495', 'message': 'Update for a podman_container from collection\n\nAnd removing docker.io from podman container tests.\n\nChange-Id: I29f94783637264b6938c1f03925ed700bd8acafc\n(cherry picked from commit b6ca89d194aeb428e58f680a43c4bef700b96831)\n'}, {'number': 3, 'created': '2021-01-05 22:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3f0f31e433ca4ed7659fbddbfb48fd5a10f585af', 'message': 'Update for a podman_container from collection\n\nAnd removing docker.io from podman container tests.\n\nChange-Id: I29f94783637264b6938c1f03925ed700bd8acafc\n(cherry picked from commit b6ca89d194aeb428e58f680a43c4bef700b96831)\n'}, {'number': 4, 'created': '2021-01-06 09:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1b654257d14bc0178a73f652269d8f34ff52ee88', 'message': 'Update for a podman_container from collection\n\nAnd removing docker.io from podman container tests.\n\nChange-Id: I29f94783637264b6938c1f03925ed700bd8acafc\n(cherry picked from commit b6ca89d194aeb428e58f680a43c4bef700b96831)\n'}, {'number': 5, 'created': '2021-01-06 13:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/717e63e138a84cc39b324889ab947f305d2a3048', 'message': 'Update for a podman_container from collection\n\nAnd removing docker.io from podman container tests.\n\nChange-Id: I29f94783637264b6938c1f03925ed700bd8acafc\n(cherry picked from commit b6ca89d194aeb428e58f680a43c4bef700b96831)\n'}, {'number': 6, 'created': '2021-01-06 16:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cedf3e625bfd756560c684e0e3a7f035057ddf03', 'message': 'Update for a podman_container from collection\n\nAnd removing docker.io from podman container tests.\n\nChange-Id: I29f94783637264b6938c1f03925ed700bd8acafc\n(cherry picked from commit b6ca89d194aeb428e58f680a43c4bef700b96831)\n'}, {'number': 7, 'created': '2021-01-06 21:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ae73467fd0010cf911b98d089cab7ddc5ef2d20e', 'message': 'Update for a podman_container from collection\n\nAnd removing docker.io from podman container tests.\n\nChange-Id: I29f94783637264b6938c1f03925ed700bd8acafc\n(cherry picked from commit b6ca89d194aeb428e58f680a43c4bef700b96831)\n'}, {'number': 8, 'created': '2021-01-07 17:08:40.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/playbook.yml', 'tripleo_ansible/ansible_plugins/module_utils/podman/common.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/62d7e660996c12da8389cc3a4996dd9a3143823a', 'message': 'Update for a podman_container from collection\n\nAnd removing docker.io from podman container tests.\n\nChange-Id: I29f94783637264b6938c1f03925ed700bd8acafc\n(cherry picked from commit b6ca89d194aeb428e58f680a43c4bef700b96831)\n'}]",0,769364,62d7e660996c12da8389cc3a4996dd9a3143823a,22,4,8,10969,,,0,"Update for a podman_container from collection

And removing docker.io from podman container tests.

Change-Id: I29f94783637264b6938c1f03925ed700bd8acafc
(cherry picked from commit b6ca89d194aeb428e58f680a43c4bef700b96831)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/64/769364/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/podman_container.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/common.py', 'tripleo_ansible/ansible_plugins/module_utils/podman/podman_container_lib.py', 'tripleo_ansible/ansible_plugins/tests/molecule/podman_container/converge.yml']",4,50672421cfdda54645a16e57ad3c57c0be318e90,next_p-stable/ussuri-stable/train,"<<<<<<< HEAD (c876e3 Pin container tools for CI) ======= --- - name: Converge hosts: all tasks: - name: Test podman_container become: true block: - name: Delete all container leftovers from tests podman_container: name: ""{{ item }}"" state: absent loop: - ""ubi-minimal"" - ""container"" - ""container2"" - name: Test no image with default action podman_container: name: container ignore_errors: true register: no_image - name: Test no image with state 'started' podman_container: name: container state: started ignore_errors: true register: no_image1 - name: Test no image with state 'present' podman_container: name: container state: present ignore_errors: true register: no_image2 - name: Check no image assert: that: - no_image is failed - no_image1 is failed - no_image2 is failed - no_image.msg == ""State 'started' required image to be configured!"" - no_image1.msg == ""State 'started' required image to be configured!"" - no_image2.msg == ""State 'present' required image to be configured!"" fail_msg: No image test failed! success_msg: No image test passed! - name: Ensure image doesn't exist podman_image: name: registry.access.redhat.com/ubi8/ubi-minimal state: absent - name: Check pulling image podman_container: name: container image: registry.access.redhat.com/ubi8/ubi-minimal state: present command: sleep 1d register: image - name: Check using already pulled image podman_container: name: container2 image: registry.access.redhat.com/ubi8/ubi-minimal state: present command: sleep 1d register: image2 - name: Check output is correct assert: that: - image is changed - image.container is defined - image.container['State']['Running'] - ""'pulled image registry.access.redhat.com/ubi8/ubi-minimal' in image.actions"" - ""'started container' in image.actions"" - image2 is changed - image2.container is defined - image2.container['State']['Running'] - ""'pulled image registry.access.redhat.com/ubi8/ubi-minimal' not in image2.actions"" - ""'started container2' in image2.actions"" fail_msg: Pulling image test failed! success_msg: Pulling image test passed! - name: Check failed image pull podman_container: name: container image: ineverneverneverexist state: present command: sleep 1d register: imagefail ignore_errors: true - name: Check output is correct assert: that: - imagefail is failed - imagefail.msg == ""Can't pull image ineverneverneverexist"" - name: Force container recreate podman_container: name: container image: registry.access.redhat.com/ubi8/ubi-minimal state: present command: sleep 1d recreate: true register: recreated - name: Check output is correct assert: that: - recreated is changed - recreated.container is defined - recreated.container['State']['Running'] - ""'recreated container' in recreated.actions"" fail_msg: Force recreate test failed! success_msg: Force recreate test passed! - name: Stop container podman_container: name: container state: stopped register: stopped - name: Stop the same container again (idempotency) podman_container: name: container state: stopped register: stopped_again - name: Check output is correct assert: that: - stopped is changed - stopped.container is defined - not stopped.container['State']['Running'] - ""'stopped container' in stopped.actions"" - stopped_again is not changed - stopped_again.container is defined - not stopped_again.container['State']['Running'] - stopped_again.actions == [] fail_msg: Stopping container test failed! success_msg: Stopping container test passed! - name: Delete stopped container podman_container: name: container state: absent register: deleted - name: Delete again container (idempotency) podman_container: name: container state: absent register: deleted_again - name: Check output is correct assert: that: - deleted is changed - deleted.container is defined - deleted.container == {} - ""'deleted container' in deleted.actions"" - deleted_again is not changed - deleted_again.container is defined - deleted_again.container == {} - deleted_again.actions == [] fail_msg: Deleting stopped container test failed! success_msg: Deleting stopped container test passed! - name: Create container, but don't run podman_container: name: container image: registry.access.redhat.com/ubi8/ubi-minimal state: stopped command: sleep 1d register: created - name: Check output is correct assert: that: - created is changed - created.container is defined - created.container != {} - not created.container['State']['Running'] - ""'created container' in created.actions"" fail_msg: ""Creating stopped container test failed!"" success_msg: ""Creating stopped container test passed!"" - name: Delete created container podman_container: name: container state: absent - name: Start container that was deleted podman_container: name: container image: registry.access.redhat.com/ubi8/ubi-minimal state: started command: sleep 1d register: started - name: Check output is correct assert: that: - started is changed - started.container is defined - started.container['State']['Running'] - ""'pulled image registry.access.redhat.com/ubi8/ubi-minimal' not in started.actions"" - name: Delete started container podman_container: name: container state: absent register: deleted - name: Delete again container (idempotency) podman_container: name: container state: absent register: deleted_again - name: Check output is correct assert: that: - deleted is changed - deleted.container is defined - deleted.container == {} - ""'deleted container' in deleted.actions"" - deleted_again is not changed - deleted_again.container is defined - deleted_again.container == {} - deleted_again.actions == [] fail_msg: Deleting started container test failed! success_msg: Deleting started container test passed! - name: Recreate container with parameters podman_container: name: container image: registry.access.redhat.com/ubi8/ubi-minimal state: started command: sleep 1d recreate: true etc_hosts: host1: 127.0.0.1 host2: 127.0.0.1 annotation: this: ""annotation_value"" dns: - 1.1.1.1 - 8.8.4.4 dns_search: example.com cap_add: - SYS_TIME - NET_ADMIN publish: - ""9000:80"" - ""9001:8000"" workdir: ""/bin"" env: FOO: bar BAR: foo TEST: 1 BOOL: false label: somelabel: labelvalue otheralbe: othervalue volumes: - /tmp:/data register: test - name: Check output is correct assert: that: - test is changed - test.container is defined - test.container != {} - test.container['State']['Running'] # test capabilities - ""'CAP_SYS_TIME' in test.container['BoundingCaps']"" - ""'CAP_NET_ADMIN' in test.container['BoundingCaps']"" # test annotations - test.container['Config']['Annotations']['this'] is defined - test.container['Config']['Annotations']['this'] == ""annotation_value"" # test DNS - >- (test.container['HostConfig']['Dns'] is defined and test.container['HostConfig']['Dns'] == ['1.1.1.1', '8.8.4.4']) or (test.container['HostConfig']['DNS'] is defined and test.container['HostConfig']['DNS'] == ['1.1.1.1', '8.8.4.4']) # test ports - test.container['NetworkSettings']['Ports']|length == 2 # test working dir - test.container['Config']['WorkingDir'] == ""/bin"" # test dns search - >- (test.container['HostConfig']['DnsSearch'] is defined and test.container['HostConfig']['DnsSearch'] == ['example.com']) or (test.container['HostConfig']['DNSSearch'] is defined and test.container['HostConfig']['DNSSearch'] == ['example.com']) # test environment variables - ""'FOO=bar' in test.container['Config']['Env']"" - ""'BAR=foo' in test.container['Config']['Env']"" - ""'TEST=1' in test.container['Config']['Env']"" - ""'BOOL=False' in test.container['Config']['Env']"" # test labels - test.container['Config']['Labels'] | length >= 2 - test.container['Config']['Labels']['somelabel'] == ""labelvalue"" - test.container['Config']['Labels']['otheralbe'] == ""othervalue"" # test mounts - >- (test.container['Mounts'][0]['Destination'] is defined and '/data' in test.container['Mounts'] | map(attribute='Destination') | list) or (test.container['Mounts'][0]['destination'] is defined and '/data' in test.container['Mounts'] | map(attribute='destination') | list) - >- (test.container['Mounts'][0]['Source'] is defined and '/tmp' in test.container['Mounts'] | map(attribute='Source') | list) or (test.container['Mounts'][0]['source'] is defined and '/tmp' in test.container['Mounts'] | map(attribute='source') | list) fail_msg: Parameters container test failed! success_msg: Parameters container test passed! - name: Check basic idempotency of running container podman_container: name: testidem image: registry.access.redhat.com/ubi8/ubi-minimal state: present command: sleep 20m - name: Check basic idempotency of running container - run it again podman_container: name: testidem image: ubi-minimal:latest state: present command: sleep 20m register: idem - name: Check that nothing was changed assert: that: - not idem.changed - name: Run changed container (with tty enabled) podman_container: name: testidem image: ubi-minimal state: present command: sleep 20m tty: true register: idem1 - name: Check that container is recreated when changed assert: that: - idem1 is changed - name: Run changed container without specifying an option, use defaults podman_container: name: testidem image: ubi-minimal state: present command: sleep 20m register: idem2 - name: Check that container is recreated when changed to default value assert: that: - idem2 is changed - name: Remove container podman_container: name: testidem state: absent register: remove - name: Check podman_actions assert: that: - ""'podman rm -f testidem' in remove.podman_actions"" - name: Check basic idempotency of pod container podman_container: name: testidem-pod image: registry.access.redhat.com/ubi8/ubi-minimal state: present command: sleep 20m pod: ""new:testidempod"" - name: Check basic idempotency of pod container - run it again podman_container: name: testidem-pod image: ubi-minimal:latest state: present command: sleep 20m pod: testidempod register: idem - name: Check that nothing was changed in pod containers assert: that: - not idem.changed - name: Run changed pod container (with tty enabled) podman_container: name: testidem-pod image: ubi-minimal state: present command: sleep 20m tty: true pod: testidempod register: idem1 - name: Check that container is recreated when changed assert: that: - idem1 is changed - name: Remove container podman_container: name: testidem-pod state: absent always: - name: Delete all container leftovers from tests podman_container: name: ""{{ item }}"" state: absent loop: - ""container"" - ""container2"" <<<<<<< HEAD (3559d1 Merge ""Run LVM filter tasks when enabled, regardless of allo) ======= - ""ubi-minimal"" - ""web"" - ""test"" - ""testidem"" >>>>>>> CHANGE (b6ca89 Update for a podman_container from collection) - name: Remove pod shell: podman pod rm -f testidempod >>>>>>> CHANGE (ab9f2f Update for a podman_container from collection) ",,1974,17
openstack%2Ftripleo-ansible~stable%2Ftrain~Ib260ade7e1c871729ec788e6a242a6f6b139b73d,openstack/tripleo-ansible,stable/train,Ib260ade7e1c871729ec788e6a242a6f6b139b73d,Don't install docker on centos 8,ABANDONED,2021-01-06 09:14:57.000000000,2021-01-07 20:43:20.000000000,,"[{'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-06 09:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6cd29a136f9b328f3a85fb7086027540b0b52683', 'message': 'Replace yum by dnf in CentOS 8 jobs\n\nChange-Id: Ib260ade7e1c871729ec788e6a242a6f6b139b73d\n'}, {'number': 2, 'created': '2021-01-06 13:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e05b516cd0cc9005516de08d84e5477fe7582327', 'message': 'Replace yum by dnf in CentOS 8 jobs\n\nChange-Id: Ib260ade7e1c871729ec788e6a242a6f6b139b73d\n'}, {'number': 3, 'created': '2021-01-06 21:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b0ac512111ef8cf2931644837f4f3bef0d370eaf', 'message': 'Replace yum by dnf in CentOS 8 jobs\n\nChange-Id: Ib260ade7e1c871729ec788e6a242a6f6b139b73d\n'}, {'number': 4, 'created': '2021-01-07 08:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/582190e6c7f1d8c5b2bf0282abf12362a759112c', 'message': 'Remove pin of container tools\n\nPodman from 2.0 has conflicts with installed containerd.io and\nblock train jobs, remove pin now. We can add it when remove\ndocker completely.\n\nChange-Id: Ib260ade7e1c871729ec788e6a242a6f6b139b73d\n'}, {'number': 5, 'created': '2021-01-07 09:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/98491c31e33f96fd75633afa233ede49674cbd52', 'message': ""Don't install docker on centos 8\n\nPodman has conflicts with installed containerd.io and\nblock train jobs. Stop installing docker for centos8.\n\nChange-Id: Ib260ade7e1c871729ec788e6a242a6f6b139b73d\n""}, {'number': 6, 'created': '2021-01-07 10:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f312b5154f8288ba3ebe1a9192a7d6c0f3cbfdeb', 'message': ""Don't install docker on centos 8\n\nPodman has conflicts with installed containerd.io and\nblock train jobs. Stop installing docker for centos8.\n\nChange-Id: Ib260ade7e1c871729ec788e6a242a6f6b139b73d\n""}, {'number': 7, 'created': '2021-01-07 11:44:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c3da00dddacd7dd309db3c854be5bab48899e5c1', 'message': ""Don't install docker on centos 8\n\nPodman has conflicts with installed containerd.io and\nblock train jobs. Stop installing docker for centos8.\n\nChange-Id: Ib260ade7e1c871729ec788e6a242a6f6b139b73d\n""}, {'number': 8, 'created': '2021-01-07 16:21:11.000000000', 'files': ['zuul.d/molecule.yaml', 'zuul.d/playbooks/pre.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5867ae149a985b8957d79312f5821aba7afea92f', 'message': ""Don't install docker on centos 8\n\nPodman has conflicts with installed containerd.io and\nblock train jobs. Stop installing docker for podman roles.\n\nChange-Id: Ib260ade7e1c871729ec788e6a242a6f6b139b73d\n""}]",0,769478,5867ae149a985b8957d79312f5821aba7afea92f,21,5,8,10969,,,0,"Don't install docker on centos 8

Podman has conflicts with installed containerd.io and
block train jobs. Stop installing docker for podman roles.

Change-Id: Ib260ade7e1c871729ec788e6a242a6f6b139b73d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/78/769478/8 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/playbooks/pre.yml'],1,6cd29a136f9b328f3a85fb7086027540b0b52683,train, dnf module disable container-tools:rhel8 dnf module enable container-tools:2.0, yum module disable container-tools:rhel8 yum module enable container-tools:2.0,2,2
openstack%2Fpython-brick-cinderclient-ext~master~Id3dc8bdfd7db0fb23128af80ef8e4327dcb1450c,openstack/python-brick-cinderclient-ext,master,Id3dc8bdfd7db0fb23128af80ef8e4327dcb1450c,Update requirements and lower-constraints,MERGED,2020-12-26 17:24:59.000000000,2021-01-07 20:42:57.000000000,2021-01-07 20:40:42.000000000,"[{'_account_id': 1736}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 28182}]","[{'number': 1, 'created': '2020-12-26 17:24:59.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/0259467434f628dbf43fc716c83523bf3035cf8b', 'message': 'Update requirements and lower-constraints\n\nMajor changes:\n- python-cinderclient 3.3.0 -> 7.2.0 (update to victoria client)\n- os-brick 2.5.0 -> 4.1.0 (update to first wallaby brick release)\n\nOther changes to satisfy dependencies for the above.\n\nChange-Id: Id3dc8bdfd7db0fb23128af80ef8e4327dcb1450c\n'}]",0,768536,0259467434f628dbf43fc716c83523bf3035cf8b,13,5,1,5314,,,0,"Update requirements and lower-constraints

Major changes:
- python-cinderclient 3.3.0 -> 7.2.0 (update to victoria client)
- os-brick 2.5.0 -> 4.1.0 (update to first wallaby brick release)

Other changes to satisfy dependencies for the above.

Change-Id: Id3dc8bdfd7db0fb23128af80ef8e4327dcb1450c
",git fetch https://review.opendev.org/openstack/python-brick-cinderclient-ext refs/changes/36/768536/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt']",3,0259467434f628dbf43fc716c83523bf3035cf8b,update-l-c,cffi==1.14.2doc8==0.8.1eventlet==0.26.1greenlet==0.4.16msgpack==1.0.0os-brick==4.1.0os-win==5.1.0 oslo.concurrency==4.3.0oslo.context==3.1.1 oslo.i18n==5.0.1 oslo.log==4.4.0 oslo.privsep==2.4.0 oslo.serialization==4.0.1 oslo.service==2.4.0 oslo.utils==4.7.0pbr==5.5.0python-cinderclient==7.2.0,cffi==1.13.2doc8==0.6.0eventlet==0.25.1greenlet==0.4.13msgpack==0.5.6os-brick==2.5.0os-win==4.0.0 oslo.concurrency==3.26.0oslo.context==2.20.0 oslo.i18n==3.20.0 oslo.log==3.37.0 oslo.privsep==1.28.0 oslo.serialization==2.25.0 oslo.service==1.30.0 oslo.utils==3.36.0pbr==2.0.0python-cinderclient==3.3.0,22,24
openstack%2Ftripleo-common~stable%2Fussuri~I66cb4fa785a28cc0a30711ffe834e210c11c7f89,openstack/tripleo-common,stable/ussuri,I66cb4fa785a28cc0a30711ffe834e210c11c7f89,Fix localization for horizon container,MERGED,2020-12-18 01:01:06.000000000,2021-01-07 20:02:52.000000000,2021-01-07 20:01:31.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-12-18 01:01:06.000000000', 'files': ['container-images/tcib/base/os/horizon/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0701428ee904801a4b8aafd90b03a152e9b209ac', 'message': ""Fix localization for horizon container\n\nThere's a macro that removes localization data from containers in\norder to save space. In order to install localized web apps it\nhas to be moved the app installed and then moved back\n\nalso the packages were being installed twice I also fixed that\n\nIt was being done only for openstack-dashboard before now I changed to do\nthat for all UI web apps.\n\nCloses-Bug: 1905250\n\n/1905250\n\nChange-Id: I66cb4fa785a28cc0a30711ffe834e210c11c7f89\n(cherry picked from commit 956c0a2ee67f24ca29c431a7b58c0c9ccbc44f81)\n""}]",0,767545,0701428ee904801a4b8aafd90b03a152e9b209ac,14,6,1,25613,,,0,"Fix localization for horizon container

There's a macro that removes localization data from containers in
order to save space. In order to install localized web apps it
has to be moved the app installed and then moved back

also the packages were being installed twice I also fixed that

It was being done only for openstack-dashboard before now I changed to do
that for all UI web apps.

Closes-Bug: 1905250

/1905250

Change-Id: I66cb4fa785a28cc0a30711ffe834e210c11c7f89
(cherry picked from commit 956c0a2ee67f24ca29c431a7b58c0c9ccbc44f81)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/45/767545/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/horizon/horizon.yaml'],1,0701428ee904801a4b8aafd90b03a152e9b209ac,bz_1892550-stable/ussuri,- run: mv /etc/rpm/macros.image-language-conf /tmp && dnf -y install {{ tcib_packages.with_localization | join(' ') }} && mv /tmp/macros.image-language-conf /etc/rpm && dnf -y install {{ tcib_packages.common | join(' ') }} && dnf clean all && rm -rf /var/cache/dnf - python3-mod_wsgi with_localization: - openstack-dashboard,- run: mv /etc/rpm/macros.image-language-conf /tmp && dnf -y install openstack-dashboard && mv /tmp/macros.image-language-conf /etc/rpm && dnf -y install {{ tcib_packages.common | join(' ') }} && dnf clean all && rm -rf /var/cache/dnf - run: dnf -y install {{ tcib_packages['common'] | join(' ') }} && dnf clean all && rm -rf /var/cache/dnf - python3-mod_wsgi,4,3
openstack%2Ftripleo-upgrade~stable%2Fvictoria~I02243028a5ba3c6450e7633740fcfd757d9b20b6,openstack/tripleo-upgrade,stable/victoria,I02243028a5ba3c6450e7633740fcfd757d9b20b6,[ffwd] Disable scheduling on computes before upgrade,MERGED,2020-12-23 11:03:23.000000000,2021-01-07 19:42:20.000000000,2021-01-07 19:42:20.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-23 11:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7f21736f876bd3bf0607f61c289b8fadcc8562ab', 'message': '[ffwd] Disable scheduling on computes before upgrade\n\nWhen testing OCP on OSP it was noticed that our automation is too\ncrude and does not disable scheduling on upgraded computes. This\nresults with few dead workloads that got scheduled on the compute\nright before the upgrade.\n\nChange-Id: I02243028a5ba3c6450e7633740fcfd757d9b20b6\nResolves: UPG-2447\n(cherry picked from commit c4193adc62a613c2dafad711dbe0e331e44b2578)\n'}, {'number': 2, 'created': '2020-12-23 11:06:27.000000000', 'files': ['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/91659afe289c1c2f6ac84b6ee361345cb5e30713', 'message': '[ffwd] Disable scheduling on computes before upgrade\n\nWhen testing OCP on OSP it was noticed that our automation is too\ncrude and does not disable scheduling on upgraded computes. This\nresults with few dead workloads that got scheduled on the compute\nright before the upgrade.\n\nChange-Id: I02243028a5ba3c6450e7633740fcfd757d9b20b6\nResolves: UPG-2447\n(cherry picked from commit c4193adc62a613c2dafad711dbe0e331e44b2578)\n'}]",0,768265,91659afe289c1c2f6ac84b6ee361345cb5e30713,8,2,2,11166,,,0,"[ffwd] Disable scheduling on computes before upgrade

When testing OCP on OSP it was noticed that our automation is too
crude and does not disable scheduling on upgraded computes. This
results with few dead workloads that got scheduled on the compute
right before the upgrade.

Change-Id: I02243028a5ba3c6450e7633740fcfd757d9b20b6
Resolves: UPG-2447
(cherry picked from commit c4193adc62a613c2dafad711dbe0e331e44b2578)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/65/768265/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml'],1,7f21736f876bd3bf0607f61c289b8fadcc8562ab,master,"- name: Disable scheduling on {{ host }} when: - compute_present|bool shell: | set -o pipefail source {{ overcloud_rc }} HOST=""$(openstack compute service list -f value -c Host | grep {{ host }})"" openstack compute service set --disable --disable-reason FFWD ""$HOST"" nova-compute <<<<<<< HEAD (4ff24c Update zuul layout with content provider jobs + improve cove)======= ######## check overcloud is up up after system upgrade ######## - name: check {{ host }} is up after boot wait_for_connection: delay: 30 sleep: 30 timeout: 600 ######## overcloud upgrade run ######## - name: Enable scheduling on {{ host }} when: - compute_present|bool shell: | set -o pipefail source {{ overcloud_rc }} HOST=""$(openstack compute service list -f value -c Host | grep {{ host }})"" openstack compute service set --enable ""$HOST"" nova-compute >>>>>>> CHANGE (c4193a [ffwd] Disable scheduling on computes before upgrade)",,29,0
openstack%2Ftripleo-upgrade~stable%2Fvictoria~Ie11acbf29fc8b9025756b5516fe2d9b4326b5425,openstack/tripleo-upgrade,stable/victoria,Ie11acbf29fc8b9025756b5516fe2d9b4326b5425,[ffwd] Don't run healthcheck on redis if it's not present,MERGED,2021-01-06 16:58:50.000000000,2021-01-07 19:42:10.000000000,2021-01-07 19:42:10.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-06 16:58:50.000000000', 'files': ['tasks/upgrade/controller_node_upgrade.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/dece8d63759c318914ba0e00fc95f0934403c174', 'message': ""[ffwd] Don't run healthcheck on redis if it's not present\n\nRedis might not be present on the deployment so we shouldn't\ncheck it's status post upgrade.\n\nChange-Id: Ie11acbf29fc8b9025756b5516fe2d9b4326b5425\nResolves: UPG-2446\n(cherry picked from commit 87c31a948b88d978b9b0c2dd252e73eee35eb8ae)\n""}]",0,769578,dece8d63759c318914ba0e00fc95f0934403c174,6,2,1,11166,,,0,"[ffwd] Don't run healthcheck on redis if it's not present

Redis might not be present on the deployment so we shouldn't
check it's status post upgrade.

Change-Id: Ie11acbf29fc8b9025756b5516fe2d9b4326b5425
Resolves: UPG-2446
(cherry picked from commit 87c31a948b88d978b9b0c2dd252e73eee35eb8ae)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/78/769578/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/upgrade/controller_node_upgrade.yml'],1,dece8d63759c318914ba0e00fc95f0934403c174,," - name: Running post upgrade scripts for {{ node_name | splitext | first }} shell: ""set -o pipefail && {{ working_dir }}/{{ node_name | splitext | first }}_post/{{ item }}.sh"" when: - item in inventory_hostmap loop:",,6,0
openstack%2Ftripleo-upgrade~stable%2Fvictoria~I95e7feef641e7107c349e4d1185f88b2e57eb143,openstack/tripleo-upgrade,stable/victoria,I95e7feef641e7107c349e4d1185f88b2e57eb143,Host evacuate dynamic limit,MERGED,2021-01-06 17:05:54.000000000,2021-01-07 19:42:06.000000000,2021-01-07 19:42:06.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-06 17:05:54.000000000', 'files': ['templates/node_upgrade_pre.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/af30a363f080010bcd9cedd569c256e208a2f15f', 'message': 'Host evacuate dynamic limit\n\nInstead of hardcoded 120 seconds limit we wait 60 + 60 * VMs of\nthe compute for the evacuation.\n\nChange-Id: I95e7feef641e7107c349e4d1185f88b2e57eb143\n(cherry picked from commit 5ddecd46e063a65a2b49ccacd01a0e4f4cc594d0)\n'}]",0,769582,af30a363f080010bcd9cedd569c256e208a2f15f,6,2,1,11166,,,0,"Host evacuate dynamic limit

Instead of hardcoded 120 seconds limit we wait 60 + 60 * VMs of
the compute for the evacuation.

Change-Id: I95e7feef641e7107c349e4d1185f88b2e57eb143
(cherry picked from commit 5ddecd46e063a65a2b49ccacd01a0e4f4cc594d0)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/82/769582/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/node_upgrade_pre.sh.j2'],1,af30a363f080010bcd9cedd569c256e208a2f15f,,"INSTANCE_COUNT=$(openstack server list --host ${HOST} -f json | jq -r -c '[.[] | select(.Status | contains(""ACTIVE"") or contains(""PAUSED"") or contains(""MIGRATING""))] | length') timeout_seconds=$(( 60 * ( $INSTANCE_COUNT + 1 ) ))",timeout_seconds=120,2,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I2ac6bb98e1d4183327e888240fc8d5a70e0d6fcb,openstack/tripleo-heat-templates,stable/victoria,I2ac6bb98e1d4183327e888240fc8d5a70e0d6fcb,Update container-config-scripts/ folder content before update_tasks.,MERGED,2021-01-06 07:38:56.000000000,2021-01-07 19:41:59.000000000,2021-01-07 19:41:59.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-01-06 07:38:56.000000000', 'files': ['common/common-container-config-scripts.yaml', 'common/deploy-steps.j2', 'common/deploy-steps-tasks-step-1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c45e3e8c0a791df3e9eddd09fb2689d354c129e', 'message': ""Update container-config-scripts/ folder content before update_tasks.\n\nCurrently, multiple scripts are being stored in\n/var/lib/container-config-scripts directory if any of theses scripts\nare being used during the update_tasks the content won't be up to\ndate (or the script will be fully missing if added in a new release),\nas the content of this folder is being updated during the deploy tasks\n(step 1), which occurs after all the update_tasks.\n\nThis patch gathers the tasks responsible for the folder creation and\ncontent update into a new playbook named common_container_config_scripts.yaml,\nthis way we can reference the tasks from the deploy-tasks step1 playbook\n(as it was happening up to now) and invoke them before the update_tasks\nplaybook gets called.\n\nChange-Id: I2ac6bb98e1d4183327e888240fc8d5a70e0d6fcb\nRelated-Bug: #1904193\n(cherry picked from commit bb8cb15d20c1d61be92a68ac8fe840e5d6fe1584)\n""}]",0,769373,6c45e3e8c0a791df3e9eddd09fb2689d354c129e,7,4,1,20778,,,0,"Update container-config-scripts/ folder content before update_tasks.

Currently, multiple scripts are being stored in
/var/lib/container-config-scripts directory if any of theses scripts
are being used during the update_tasks the content won't be up to
date (or the script will be fully missing if added in a new release),
as the content of this folder is being updated during the deploy tasks
(step 1), which occurs after all the update_tasks.

This patch gathers the tasks responsible for the folder creation and
content update into a new playbook named common_container_config_scripts.yaml,
this way we can reference the tasks from the deploy-tasks step1 playbook
(as it was happening up to now) and invoke them before the update_tasks
playbook gets called.

Change-Id: I2ac6bb98e1d4183327e888240fc8d5a70e0d6fcb
Related-Bug: #1904193
(cherry picked from commit bb8cb15d20c1d61be92a68ac8fe840e5d6fe1584)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/769373/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/common-container-config-scripts.yaml', 'common/deploy-steps.j2', 'common/deploy-steps-tasks-step-1.yaml']",3,6c45e3e8c0a791df3e9eddd09fb2689d354c129e,pcmk-shutdown-lock-stable/victoria,- import_tasks: common_container_config_scripts.yaml,"- name: Create /var/lib/container-config-scripts become: true file: path: /var/lib/container-config-scripts state: directory setype: container_file_t tags: - container_config_scripts - name: Write container config scripts become: true no_log: True tripleo_container_config_scripts: config_data: ""{{ lookup('file', tripleo_role_name + '/container_config_scripts.yaml', errors='ignore') | default({}, True) | from_yaml }}"" config_dir: /var/lib/container-config-scripts tags: - container_config_scripts",20,17
openstack%2Fpython-tripleoclient~stable%2Fussuri~If7ef6eb53fe1de66a3a21424ed4e64318e680dd0,openstack/python-tripleoclient,stable/ussuri,If7ef6eb53fe1de66a3a21424ed4e64318e680dd0,[Validator Show] Properly throwing an exception for unknown validation,MERGED,2020-10-30 09:35:13.000000000,2021-01-07 19:33:39.000000000,2021-01-07 19:32:22.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-10-30 09:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e71e5381738964e6708603780c3104084ceb56aa', 'message': '[Validator Show] Properly throwing an exception for unknown validation\n\nWhen running validator show subcommand with a non-existing validation,\nthe subcommand was outputting multiple tracebacks instead of giving a\nsimple message to the user.\n\nThe patch adds a proper management result when displaying informations\nof a non-existing validation.\n\nChange-Id: If7ef6eb53fe1de66a3a21424ed4e64318e680dd0\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit eb6839a7022b90873d5adc770413548b2b9b6c86)\n'}, {'number': 2, 'created': '2021-01-05 17:07:18.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1233ce37972bae978473e07acefcfe6a72be80d7', 'message': '[Validator Show] Properly throwing an exception for unknown validation\n\nWhen running validator show subcommand with a non-existing validation,\nthe subcommand was outputting multiple tracebacks instead of giving a\nsimple message to the user.\n\nThe patch adds a proper management result when displaying informations\nof a non-existing validation.\n\nChange-Id: If7ef6eb53fe1de66a3a21424ed4e64318e680dd0\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n(cherry picked from commit eb6839a7022b90873d5adc770413548b2b9b6c86)\n'}]",0,760519,1233ce37972bae978473e07acefcfe6a72be80d7,16,6,2,11491,,,0,"[Validator Show] Properly throwing an exception for unknown validation

When running validator show subcommand with a non-existing validation,
the subcommand was outputting multiple tracebacks instead of giving a
simple message to the user.

The patch adds a proper management result when displaying informations
of a non-existing validation.

Change-Id: If7ef6eb53fe1de66a3a21424ed4e64318e680dd0
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
(cherry picked from commit eb6839a7022b90873d5adc770413548b2b9b6c86)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/19/760519/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,e71e5381738964e6708603780c3104084ceb56aa,validator_run/params-stable/ussuri," actions = ValidationActions(constants.ANSIBLE_VALIDATION_DIR) try: except Exception as e: raise exceptions.CommandError(e) if data: return data.keys(), data.values()"," try: actions = ValidationActions(constants.ANSIBLE_VALIDATION_DIR) return data.keys(), data.values() except Exception as e: raise RuntimeError(_(""Validations listing finished with errors\n"" ""Output: {}"").format(e))",6,4
openstack%2Fswift~master~Ieec92727d2ca214f79f2e7bd8eb027f7be200123,openstack/swift,master,Ieec92727d2ca214f79f2e7bd8eb027f7be200123,Add storage policy support for sorting method,ABANDONED,2015-03-03 16:39:28.000000000,2021-01-07 19:03:20.000000000,,"[{'_account_id': 330}, {'_account_id': 1179}, {'_account_id': 4608}, {'_account_id': 6968}, {'_account_id': 7479}, {'_account_id': 7847}, {'_account_id': 9625}, {'_account_id': 13052}, {'_account_id': 14271}, {'_account_id': 14966}, {'_account_id': 14967}, {'_account_id': 15090}]","[{'number': 1, 'created': '2015-03-03 16:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/be717cd128f0e581cd712c350419387f8afd04f1', 'message': 'Add storage policy support for sorting method\n\nInitial commit for getting feedback about current implementation\n\nImplements: blueprint sorting-method-storage-policy\n\nChange-Id: Ieec92727d2ca214f79f2e7bd8eb027f7be200123\n'}, {'number': 2, 'created': '2015-03-10 11:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f6ac33eb14650045c1f488963e2e7afd1f0c8966', 'message': 'Add storage policy support for sorting method\n\nIt adds the option for a storage policy to override the ""sorting""\nstrategy defined at proxy-server.conf according to its storage\npolicy section at swift.conf.\n\nImplements: blueprint sorting-method-storage-policy\n\nChange-Id: Ieec92727d2ca214f79f2e7bd8eb027f7be200123\n'}, {'number': 3, 'created': '2015-03-12 11:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a1aef00c83ef48ae0e59ca8ed73c2ed869990687', 'message': 'Add storage policy support for sorting method\n\nIt adds the option for a storage policy to override the ""sorting""\nstrategy defined at proxy-server.conf according to its storage\npolicy section at swift.conf.\n\nImplements: blueprint sorting-method-storage-policy\n\nChange-Id: Ieec92727d2ca214f79f2e7bd8eb027f7be200123\n'}, {'number': 4, 'created': '2015-03-25 00:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3ada2693014a57dba35534af74f5fc4c3054f99d', 'message': 'Add storage policy support for sorting method\n\nIt adds the option for a storage policy to override the ""sorting""\nstrategy defined at proxy-server.conf according to its storage\npolicy section at swift.conf.\n\nImplements: blueprint sorting-method-storage-policy\n\nChange-Id: Ieec92727d2ca214f79f2e7bd8eb027f7be200123\n'}, {'number': 5, 'created': '2015-03-25 01:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/88395656674ee1b3144a872e7b249d6c5f34043f', 'message': 'Add storage policy support for sorting method\n\nIt adds the option for a storage policy to override the ""sorting""\nstrategy defined at proxy-server.conf according to its storage\npolicy section at swift.conf.\n\nImplements: blueprint sorting-method-storage-policy\n\nChange-Id: Ieec92727d2ca214f79f2e7bd8eb027f7be200123\n'}, {'number': 6, 'created': '2015-04-16 11:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b53ec88899748f3368eeaf0b3475a7bd420d8604', 'message': 'Add storage policy support for sorting method\n\nIt adds the option for a storage policy to override the ""sorting""\nstrategy defined at proxy-server.conf according to its storage\npolicy section at swift.conf.\n\nImplements: blueprint sorting-method-storage-policy\n\nChange-Id: Ieec92727d2ca214f79f2e7bd8eb027f7be200123\n'}, {'number': 7, 'created': '2015-04-16 18:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ba7fb513e7bf4ed43062350b62503ce450a48d93', 'message': 'Add storage policy support for sorting method\n\nIt adds the option for a storage policy to override the ""sorting""\nstrategy defined at proxy-server.conf according to its storage\npolicy section at swift.conf.\n\nImplements: blueprint sorting-method-storage-policy\n\nChange-Id: Ieec92727d2ca214f79f2e7bd8eb027f7be200123\n'}, {'number': 8, 'created': '2015-04-16 18:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/584e225120bb63d3d6e7bfaf216a4eb63f63902d', 'message': 'Add storage policy support for sorting method\n\nIt adds the option for a storage policy to override the ""sorting""\nstrategy defined at proxy-server.conf according to its storage\npolicy section at swift.conf.\n\nImplements: blueprint sorting-method-storage-policy\n\nChange-Id: Ieec92727d2ca214f79f2e7bd8eb027f7be200123\n'}, {'number': 9, 'created': '2015-04-22 22:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ece1e0d71e5d7eff55a677790f32b8bffeedc7f0', 'message': 'Add storage policy support for sorting method\n\nIt adds the option for a storage policy to override the ""sorting""\nstrategy defined at proxy-server.conf according to its storage\npolicy section at swift.conf.\n\nImplements: blueprint sorting-method-storage-policy\n\nChange-Id: Ieec92727d2ca214f79f2e7bd8eb027f7be200123\n'}, {'number': 10, 'created': '2015-04-22 22:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/98fc17a1c97b86946b5b8f046a25d039f1fbc564', 'message': 'Add storage policy support for sorting method\n\nIt adds the option for a storage policy to override the ""sorting""\nstrategy defined at proxy-server.conf according to its storage\npolicy section at swift.conf.\n\nImplements: blueprint sorting-method-storage-policy\n\nChange-Id: Ieec92727d2ca214f79f2e7bd8eb027f7be200123\n'}, {'number': 11, 'created': '2015-04-22 23:08:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8509495cbc51dd54a5f12bcc5f74732f13bd3c8d', 'message': 'Add storage policy support for sorting method\n\nIt adds the option for a storage policy to override the ""sorting""\nstrategy defined at proxy-server.conf according to its storage\npolicy section at swift.conf.\n\nImplements: blueprint sorting-method-storage-policy\n\nChange-Id: Ieec92727d2ca214f79f2e7bd8eb027f7be200123\n'}, {'number': 12, 'created': '2015-04-24 17:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/26f1a4104d83be38b895e88cb620eb8e532980dc', 'message': 'Add storage policy support for sorting method\n\nIt adds the option for a storage policy to override the ""sorting""\nstrategy defined at proxy-server.conf according to its storage\npolicy section at swift.conf.\n\nImplements: blueprint sorting-method-storage-policy\n\nChange-Id: Ieec92727d2ca214f79f2e7bd8eb027f7be200123\n'}, {'number': 13, 'created': '2015-04-27 22:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4dd03688083699074b4f90f4aa56d250d4158537', 'message': 'Add storage policy support for sorting method\n\nIt adds the option for a storage policy to override the ""sorting""\nstrategy defined at proxy-server.conf according to its storage\npolicy section at swift.conf.\n\nImplements: blueprint sorting-method-storage-policy\n\nChange-Id: Ieec92727d2ca214f79f2e7bd8eb027f7be200123\n'}, {'number': 14, 'created': '2015-10-06 01:36:31.000000000', 'files': ['test/unit/common/test_storage_policy.py', 'swift/common/utils.py', 'test/unit/proxy/test_server.py', 'test/unit/proxy/controllers/test_obj.py', 'test/unit/proxy/controllers/test_container.py', 'swift/common/storage_policy.py', 'etc/swift.conf-sample', 'swift/proxy/controllers/obj.py', 'swift/proxy/server.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/86b301567ef5f9f65f194b24b418e3acd423943a', 'message': 'Add storage policy support for sorting method\n\nIt adds the option for a storage policy to override the ""sorting""\nstrategy defined at proxy-server.conf according to its storage\npolicy section at swift.conf.\n\nImplements: blueprint sorting-method-storage-policy\n\nChange-Id: Ieec92727d2ca214f79f2e7bd8eb027f7be200123\n'}]",28,160877,86b301567ef5f9f65f194b24b418e3acd423943a,75,12,14,14966,,,0,"Add storage policy support for sorting method

It adds the option for a storage policy to override the ""sorting""
strategy defined at proxy-server.conf according to its storage
policy section at swift.conf.

Implements: blueprint sorting-method-storage-policy

Change-Id: Ieec92727d2ca214f79f2e7bd8eb027f7be200123
",git fetch https://review.opendev.org/openstack/swift refs/changes/77/160877/12 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'test/unit/proxy/controllers/test_container.py', 'swift/common/storage_policy.py', 'swift/proxy/controllers/obj.py', 'swift/proxy/server.py', 'swift/proxy/controllers/base.py']",6,be717cd128f0e581cd712c350419387f8afd04f1,bp/sorting-method-storage-policy," def _make_app_iter(self, req, node, source, policy_index): new_source, new_node = self._get_source_and_node( policy_index) def _get_source_and_node(self, policy_index): for node in self.app.iter_nodes(self.ring, self.partition, policy_index=policy_index): def get_working_response(self, req, policy_index): source, node = self._get_source_and_node(policy_index) res.app_iter = self._make_app_iter(req, node, source, policy_index) query_string='', overrides=None, policy_index=0): nodes = GreenthreadSafeIterator(self.app.iter_nodes( ring, part, policy_index=policy_index)) def GETorHEAD_base(self, req, server_type, ring, partition, path, policy_index=0): res = handler.get_working_response(req, policy_index)"," def _make_app_iter(self, req, node, source): new_source, new_node = self._get_source_and_node() def _get_source_and_node(self): for node in self.app.iter_nodes(self.ring, self.partition): def get_working_response(self, req): source, node = self._get_source_and_node() res.app_iter = self._make_app_iter(req, node, source) query_string='', overrides=None): nodes = GreenthreadSafeIterator(self.app.iter_nodes(ring, part)) def GETorHEAD_base(self, req, server_type, ring, partition, path): res = handler.get_working_response(req)",71,47
openstack%2Ftrove-dashboard~master~I77bbf9eac7bfe707aeed40980cfddfb5f0be2f91,openstack/trove-dashboard,master,I77bbf9eac7bfe707aeed40980cfddfb5f0be2f91,Add doc/requirements,MERGED,2021-01-07 16:16:18.000000000,2021-01-07 18:51:55.000000000,2021-01-07 18:49:06.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 16:16:18.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/16cc6428f298de9a52d40eff4973a7f34ee6d6d9', 'message': ""Add doc/requirements\n\nWe need to specify doc requirements in doc/requirements.txt\nto avoid problems with the pip resolver [1] for the release team [2][3].\nRemoving specific doc requirements from test-requirements.txt.\n\nThe problem here is that this repos haven't doc/requirements.txt file\nand by default in this case zuul will use the test-requirements.txt file\nto pull requirements [4].\n\nThis requirements file contains extra requirements like flake8 that\ncollided with those allowed in our job environment and so the new pip\nresolver fails to install these requirements and the job exits in error.\n\nThis project meet the conditions leading to the bug.\n\n/!\\/!\\/!\\\nNotice that I voluntarily added the doc directory even if no docs\nare generated here because zuul will try to pull this requirements from\nthere first and the contained requirements are needed for reno but AFAIK\nthe releasenotes dir is ignored by zuul. c.f [4] for further details.\n/!\\/!\\/!\\\n\n[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html\n[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36\n\nChange-Id: I77bbf9eac7bfe707aeed40980cfddfb5f0be2f91\n""}]",0,769784,16cc6428f298de9a52d40eff4973a7f34ee6d6d9,7,2,1,28522,,,0,"Add doc/requirements

We need to specify doc requirements in doc/requirements.txt
to avoid problems with the pip resolver [1] for the release team [2][3].
Removing specific doc requirements from test-requirements.txt.

The problem here is that this repos haven't doc/requirements.txt file
and by default in this case zuul will use the test-requirements.txt file
to pull requirements [4].

This requirements file contains extra requirements like flake8 that
collided with those allowed in our job environment and so the new pip
resolver fails to install these requirements and the job exits in error.

This project meet the conditions leading to the bug.

/!\/!\/!\
Notice that I voluntarily added the doc directory even if no docs
are generated here because zuul will try to pull this requirements from
there first and the contained requirements are needed for reno but AFAIK
the releasenotes dir is ignored by zuul. c.f [4] for further details.
/!\/!\/!\

[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html
[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36

Change-Id: I77bbf9eac7bfe707aeed40980cfddfb5f0be2f91
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/84/769784/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,16cc6428f298de9a52d40eff4973a7f34ee6d6d9,fix-relmgt-pip-doc,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txtdeps = {[testenv:docs]deps},,6,3
openstack%2Fblazar-nova~master~Idec7e542c286e3d9746e58286ffd4ef6561db47b,openstack/blazar-nova,master,Idec7e542c286e3d9746e58286ffd4ef6561db47b,Add doc/requirements,MERGED,2021-01-05 10:33:20.000000000,2021-01-07 17:31:11.000000000,2021-01-07 17:31:11.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-05 10:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-nova/commit/ead6259dc2a8be49b925c8555c7c4259d7072971', 'message': ""Add doc/requirements\n\nWe need to specify doc requirements in doc/requirements.txt\nto avoid problems with the pip resolver [1] for the release team [2][3].\nRemoved specific doc requirements from test-requirements.txt.\n\nThe problem here is that this repos haven't doc/requirements.txt file\nand by default in this case zuul will use the test-requirements.txt file\nto pull requirements [4].\n\nThis requirements file contains extra requirements like flake8 that\ncollided with those allowed in our job environment and so the new pip\nresolver fails to install these requirements and the job exits in error.\n\nThis project meet the conditions leading to the bug however it doesn't\nproduce any doc or releasenotes, but uniformization can't hurt and help\nus in the future.\n\n[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html\n[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36\n\nChange-Id: Idec7e542c286e3d9746e58286ffd4ef6561db47b\n""}, {'number': 2, 'created': '2021-01-05 10:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-nova/commit/8d4246abec65a0ea0140666e48b1e29b5fc5539b', 'message': ""Add doc/requirements\n\nWe need to specify doc requirements in doc/requirements.txt\nto avoid problems with the pip resolver [1] for the release team [2][3].\nRemoved specific doc requirements from test-requirements.txt.\n\nThe problem here is that this repos haven't doc/requirements.txt file\nand by default in this case zuul will use the test-requirements.txt file\nto pull requirements [4].\n\nThis requirements file contains extra requirements like flake8 that\ncollided with those allowed in our job environment and so the new pip\nresolver fails to install these requirements and the job exits in error.\n\nThis project meet the conditions leading to the bug however it doesn't\nproduce any doc or releasenotes, but uniformization can't hurt and help\nus in the future.\n\n[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html\n[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36\n\nChange-Id: Idec7e542c286e3d9746e58286ffd4ef6561db47b\n""}, {'number': 3, 'created': '2021-01-05 21:06:30.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/blazar-nova/commit/ae65a5ce2c78750c10dd14f815ae4b78052c1b79', 'message': ""Add doc/requirements\n\nWe need to specify doc requirements in doc/requirements.txt\nto avoid problems with the pip resolver [1] for the release team [2][3].\nRemoved specific doc requirements from test-requirements.txt.\n\nThe problem here is that this repos haven't doc/requirements.txt file\nand by default in this case zuul will use the test-requirements.txt file\nto pull requirements [4].\n\nThis requirements file contains extra requirements like flake8 that\ncollided with those allowed in our job environment and so the new pip\nresolver fails to install these requirements and the job exits in error.\n\nThis project meet the conditions leading to the bug however it doesn't\nproduce any doc or releasenotes, but uniformization can't hurt and help\nus in the future.\n\n[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html\n[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36\n\nChange-Id: Idec7e542c286e3d9746e58286ffd4ef6561db47b\n""}]",0,769313,ae65a5ce2c78750c10dd14f815ae4b78052c1b79,12,2,3,28522,,,0,"Add doc/requirements

We need to specify doc requirements in doc/requirements.txt
to avoid problems with the pip resolver [1] for the release team [2][3].
Removed specific doc requirements from test-requirements.txt.

The problem here is that this repos haven't doc/requirements.txt file
and by default in this case zuul will use the test-requirements.txt file
to pull requirements [4].

This requirements file contains extra requirements like flake8 that
collided with those allowed in our job environment and so the new pip
resolver fails to install these requirements and the job exits in error.

This project meet the conditions leading to the bug however it doesn't
produce any doc or releasenotes, but uniformization can't hurt and help
us in the future.

[1] http://lists.openstack.org/pipermail/release-job-failures/2021-January/001500.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019611.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-January/019612.html
[4] https://opendev.org/zuul/zuul-jobs/src/branch/master/roles/ensure-sphinx/tasks/main.yaml#L36

Change-Id: Idec7e542c286e3d9746e58286ffd4ef6561db47b
",git fetch https://review.opendev.org/openstack/blazar-nova refs/changes/13/769313/3 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt', 'tox.ini']",3,ead6259dc2a8be49b925c8555c7c4259d7072971,fix-relmgt-pip-doc, -r{toxinidir}/doc/requirements.txt,,3,2
openstack%2Fopenstack-ansible-os_ceilometer~master~I65ae80452c81c62ef111d0941624ece166f15ed8,openstack/openstack-ansible-os_ceilometer,master,I65ae80452c81c62ef111d0941624ece166f15ed8,Use global service variables,MERGED,2021-01-05 16:49:50.000000000,2021-01-07 17:19:14.000000000,2021-01-07 17:17:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-05 16:49:50.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/131dd677eff3a495f5e6e64c07cd21353e258751', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: I65ae80452c81c62ef111d0941624ece166f15ed8\n'}]",0,769400,131dd677eff3a495f5e6e64c07cd21353e258751,10,3,1,28619,,,0,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: I65ae80452c81c62ef111d0941624ece166f15ed8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/00/769400/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,131dd677eff3a495f5e6e64c07cd21353e258751,osa/service_variables,"# Set the package install state for distribution packagesceilometer_package_state: ""{{ package_state | default('latest') }}""ceilometer_service_region: ""{{ service_region | default('RegionOne') }}""ceilometer_service_in_ldap: ""{{ service_ldap_backend_enabled | default(False) }}""ceilometer_aodh_enabled: ""{{ groups['aodh_all'] is defined and groups['aodh_all'] | length > 0 }}"" ceilometer_gnocchi_enabled: ""{{ groups['gnocchi_all'] is defined and groups['gnocchi_all'] | length > 0 }}""","# Set the package install state for distribution and pip packagesceilometer_package_state: ""latest"" ceilometer_pip_package_state: ""latest""ceilometer_service_region: RegionOneceilometer_service_in_ldap: falseceilometer_aodh_enabled: false ceilometer_gnocchi_enabled: false",6,7
openstack%2Fopenstack-ansible-os_nova~master~Id73cb67de26c305908d0245551fa57a7e6448784,openstack/openstack-ansible-os_nova,master,Id73cb67de26c305908d0245551fa57a7e6448784,Use systemd sockets for libvirt,MERGED,2021-01-06 15:31:40.000000000,2021-01-07 17:15:30.000000000,2021-01-07 17:13:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-06 15:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/bbcfb1126d484ef985a48dcf07df75bf1d56d016', 'message': 'Use systemd sockets for libvirt\n\nSince libvirt 5.7 we should not use traditional mode. Instead systemd\nmode should be choosen. Sockets are provided by libvirt package.\nWe just need to conditionally enable or disable them.\n\nAs addition we changed nova_libvirtd_listen_tls to 0 by default\nbecause listen_tls requires certificate to be provided which is not\nthe case in the current role state. So we also fix behaviour of the role\nwhen nova_libvirtd_listen_tls is 1, supposing that deployer has manually\ndistributed certificates across compute hosts.\n\nChange-Id: Id73cb67de26c305908d0245551fa57a7e6448784\nCloses-Bug: #1903846\n'}, {'number': 2, 'created': '2021-01-06 16:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/38868ed591082d448d144d14ceee1c0d5fb5cedf', 'message': 'Use systemd sockets for libvirt\n\nSince libvirt 5.7 we should not use traditional mode. Instead systemd\nmode should be choosen. Sockets are provided by libvirt package.\nWe just need to conditionally enable or disable them.\n\nAs addition we changed nova_libvirtd_listen_tls to 0 by default\nbecause listen_tls requires certificate to be provided which is not\nthe case in the current role state. So we also fix behaviour of the role\nwhen nova_libvirtd_listen_tls is 1, supposing that deployer has manually\ndistributed certificates across compute hosts.\n\nChange-Id: Id73cb67de26c305908d0245551fa57a7e6448784\nCloses-Bug: #1903846\n'}, {'number': 3, 'created': '2021-01-06 19:18:21.000000000', 'files': ['handlers/main.yml', 'defaults/main.yml', 'tasks/drivers/kvm/nova_compute_kvm.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/05ffae0ef06c8d0816b118b35e9cfdf0fc0ed985', 'message': 'Use systemd sockets for libvirt\n\nSince libvirt 5.7 we should not use traditional mode. Instead systemd\nmode should be choosen. Sockets are provided by libvirt package.\nWe just need to conditionally enable or disable them.\n\nAs addition we changed nova_libvirtd_listen_tls to 0 by default\nbecause listen_tls requires certificate to be provided which is not\nthe case in the current role state. So we also fix behaviour of the role\nwhen nova_libvirtd_listen_tls is 1, supposing that deployer has manually\ndistributed certificates across compute hosts.\n\nChange-Id: Id73cb67de26c305908d0245551fa57a7e6448784\nCloses-Bug: #1903846\n'}]",0,769556,05ffae0ef06c8d0816b118b35e9cfdf0fc0ed985,11,3,3,28619,,,0,"Use systemd sockets for libvirt

Since libvirt 5.7 we should not use traditional mode. Instead systemd
mode should be choosen. Sockets are provided by libvirt package.
We just need to conditionally enable or disable them.

As addition we changed nova_libvirtd_listen_tls to 0 by default
because listen_tls requires certificate to be provided which is not
the case in the current role state. So we also fix behaviour of the role
when nova_libvirtd_listen_tls is 1, supposing that deployer has manually
distributed certificates across compute hosts.

Change-Id: Id73cb67de26c305908d0245551fa57a7e6448784
Closes-Bug: #1903846
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/56/769556/3 && git format-patch -1 --stdout FETCH_HEAD,"['handlers/main.yml', 'defaults/main.yml', 'tasks/drivers/kvm/nova_compute_kvm.yml']",3,bbcfb1126d484ef985a48dcf07df75bf1d56d016,bug/1903846,"- name: Check libvirtd version command: ""libvirtd --version"" register: _libvirtd_version_cmd tags: - nova-install - nova-config - nova-kvm - nova-libvirt - name: Set libvirtd version set_fact: libvirtd_version: ""{{ _libvirtd_version_cmd['stdout'].split()[-1] }}"" tags: - nova-install - nova-config - nova-kvm - nova-libvirt - name: Set libvirt runtime options (Ubuntu) - (nova_libvirtd_listen_tcp == 1) or (nova_libvirtd_listen_tls == 1) - libvirtd_version is version('5.7', '<') - ansible_pkg_mgr == 'apt' notify: Restart libvirt-bin tags: - nova-config - nova-kvm - nova-libvirt - name: Unset libvirt runtime options (Ubuntu) lineinfile: dest: ""/etc/default/libvirtd"" line: 'libvirtd_opts=""""' regexp: ""^libvirtd_opts="" backup: ""yes"" when: - (nova_libvirtd_listen_tcp == 0 and nova_libvirtd_listen_tls == 0) or libvirtd_version is version('5.7', '>=') - (nova_libvirtd_listen_tcp == 1) or (nova_libvirtd_listen_tls == 1) - libvirtd_version is version('5.7', '<')- name: Unset libvirt runtime options (RPM) - (nova_libvirtd_listen_tcp == 0 and nova_libvirtd_listen_tls == 0) or libvirtd_version is version('5.7', '>=')",- name: Set libvirt runtime options when listening on tcp (Ubuntu) - nova_libvirtd_listen_tcp == 1 - nova_libvirtd_listen_tcp == 1- name: Set libvirt runtime options (RPM) - nova_libvirtd_listen_tcp == 0,69,9
openstack%2Fopenstack-ansible-os_aodh~master~I74376cc3c20df54663ffbec5daa7413853391714,openstack/openstack-ansible-os_aodh,master,I74376cc3c20df54663ffbec5daa7413853391714,Use global service variables,MERGED,2021-01-05 15:58:39.000000000,2021-01-07 17:12:43.000000000,2021-01-07 17:06:49.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-05 15:58:39.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/d6d0cd22ed0b35f787ca135d6d3ced4d129244e8', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: I74376cc3c20df54663ffbec5daa7413853391714\n'}]",0,769389,d6d0cd22ed0b35f787ca135d6d3ced4d129244e8,8,3,1,28619,,,0,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: I74376cc3c20df54663ffbec5daa7413853391714
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/89/769389/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,d6d0cd22ed0b35f787ca135d6d3ced4d129244e8,osa/service_variables,"# Set the package install state for distribution packagesaodh_package_state: ""{{ package_state | default('latest') }}""aodh_install_method: ""{{ service_install_method | default('source') }}""aodh_galera_port: ""{{ galera_port | default('3306') }}""aodh_service_region: ""{{ service_region | default('RegionOne') }}""aodh_service_in_ldap: ""{{ service_ldap_backend_enabled | default(False) }}""","# Set the package install state for distribution and pip packagesaodh_package_state: ""latest"" aodh_pip_package_state: ""latest""aodh_install_method: ""source""aodh_galera_port: 3306aodh_service_region: RegionOneaodh_service_in_ldap: false",6,7
openstack%2Fopenstack-ansible-os_blazar~master~Ifb25edf453f04594303d391c4e1dd245f6400c2b,openstack/openstack-ansible-os_blazar,master,Ifb25edf453f04594303d391c4e1dd245f6400c2b,Use global service variables,MERGED,2021-01-05 16:40:55.000000000,2021-01-07 17:12:42.000000000,2021-01-07 17:02:36.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-05 16:40:55.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/b7a54b18494f0db8197cebd19098ea94cec2d6a9', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: Ifb25edf453f04594303d391c4e1dd245f6400c2b\n'}]",0,769398,b7a54b18494f0db8197cebd19098ea94cec2d6a9,8,3,1,28619,,,0,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: Ifb25edf453f04594303d391c4e1dd245f6400c2b
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/98/769398/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,b7a54b18494f0db8197cebd19098ea94cec2d6a9,osa/service_variables,"blazar_package_state: ""{{ package_state | default('latest') }}""blazar_ceilometer_enabled: ""{{ (groups['ceilometer_all'] is defined) and (groups['ceilometer_all'] | length > 0) }}""blazar_galera_port: ""{{ galera_port | default('3306') }}""blazar_service_region: ""{{ service_region | default('RegionOne') }}""blazar_service_in_ldap: ""{{ service_ldap_backend_enabled | default(False) }}""",blazar_package_state: latest blazar_pip_package_state: latestblazar_ceilometer_enabled: Falseblazar_galera_port: 3306blazar_service_region: RegionOne#NOTE: move password to tests/test-vars.yml blazar_service_password: password blazar_service_in_ldap: false,5,9
openstack%2Fdesignate~stable%2Ftrain~I35780af8c858d44c3c5cb780af72d28e85693352,openstack/designate,stable/train,I35780af8c858d44c3c5cb780af72d28e85693352,[stable-only] Cap bandit to 1.6.2 and fix requirements,MERGED,2021-01-06 14:00:38.000000000,2021-01-07 17:06:57.000000000,2021-01-07 16:55:14.000000000,"[{'_account_id': 13252}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-06 14:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b5f9a24091acad7a62a89ef3c9dddbf1fd618502', 'message': '[stable-only] Cap bandit to 1.6.2\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615\n\nChange-Id: I35780af8c858d44c3c5cb780af72d28e85693352\n'}, {'number': 2, 'created': '2021-01-06 15:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3e123028bcf1888ebf38e679ad33e7723503d798', 'message': '[stable-only] Cap bandit to 1.6.2 and fix requirements\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\npython-memcached versions needed to be fixed to make check-requirements\njob passed.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615o\n\nChange-Id: I35780af8c858d44c3c5cb780af72d28e85693352\n'}, {'number': 3, 'created': '2021-01-06 16:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/345231919bb8e19d793450fe02b35a2886e2acfe', 'message': '[stable-only] Cap bandit to 1.6.2 and fix requirements\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\npython-memcached versions needed to be fixed to make check-requirements\njob passed.\n\nContradicting hacking lower constraint needed to be fixed to match.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615o\n\nChange-Id: I35780af8c858d44c3c5cb780af72d28e85693352\n'}, {'number': 4, 'created': '2021-01-06 17:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/38e4d424942fd119719cf8b8c8360c3fe6153c65', 'message': '[stable-only] Cap bandit to 1.6.2 and fix requirements\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\npython-memcached versions needed to be fixed to make check-requirements\njob passed.\n\nContradicting hacking (and thus flake8) lower constraint needed to be\nfixed to match and make lower-constraints job pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615o\n\nChange-Id: I35780af8c858d44c3c5cb780af72d28e85693352\n'}, {'number': 5, 'created': '2021-01-07 09:47:52.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/designate/commit/e285c09c5a2daa119d2c4163af3b75c1b23dfb27', 'message': '[stable-only] Cap bandit to 1.6.2 and fix requirements\n\nThe 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2\nwhen using py2.\n\npython-memcached versions needed to be fixed to make check-requirements\njob passed.\n\nContradicting hacking (and thus flake8) lower constraint needed to be\nfixed to match and make lower-constraints job pass.\n\n[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3\n[2] https://github.com/PyCQA/bandit/pull/615o\n\nChange-Id: I35780af8c858d44c3c5cb780af72d28e85693352\n'}]",2,769544,e285c09c5a2daa119d2c4163af3b75c1b23dfb27,18,3,5,17685,,,0,"[stable-only] Cap bandit to 1.6.2 and fix requirements

The 1.6.3 [1] release has dropped support for py2 [2] so cap to 1.6.2
when using py2.

python-memcached versions needed to be fixed to make check-requirements
job passed.

Contradicting hacking (and thus flake8) lower constraint needed to be
fixed to match and make lower-constraints job pass.

[1] https://github.com/PyCQA/bandit/releases/tag/1.6.3
[2] https://github.com/PyCQA/bandit/pull/615o

Change-Id: I35780af8c858d44c3c5cb780af72d28e85693352
",git fetch https://review.opendev.org/openstack/designate refs/changes/44/769544/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,b5f9a24091acad7a62a89ef3c9dddbf1fd618502,cap-bandit-1.6.2,"bandit>=1.1.0,<1.6.3;python_version=='2.7' # Apache-2.0 bandit>=1.1.0;python_version>='3.5' # Apache-2.0",bandit>=1.1.0 # Apache-2.0,2,1
openstack%2Fopenstack-ansible-os_cinder~master~If14b89d4c795ba7e129af6a2f4b4bcbc10208986,openstack/openstack-ansible-os_cinder,master,If14b89d4c795ba7e129af6a2f4b4bcbc10208986,Use global service variables,MERGED,2021-01-05 17:09:16.000000000,2021-01-07 17:06:55.000000000,2021-01-07 17:00:40.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-05 17:09:16.000000000', 'files': ['releasenotes/notes/internaluri_insecure-0a463d3c80420d48.yaml', 'tasks/cinder_backends.yml', 'tasks/cinder_qos.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/d9bfa963e8f94ef8b905c28fa479f4bb2e6a7623', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: If14b89d4c795ba7e129af6a2f4b4bcbc10208986\n'}]",0,769406,d9bfa963e8f94ef8b905c28fa479f4bb2e6a7623,8,3,1,28619,,,0,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: If14b89d4c795ba7e129af6a2f4b4bcbc10208986
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/06/769406/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/internaluri_insecure-0a463d3c80420d48.yaml', 'tasks/cinder_backends.yml', 'tasks/cinder_qos.yml', 'defaults/main.yml']",4,d9bfa963e8f94ef8b905c28fa479f4bb2e6a7623,osa/service_variables,"# Set the package install state for distribution packagescinder_package_state: ""{{ package_state | default('latest') }}""cinder_install_method: ""{{ service_install_method | default('source') }}""cinder_barbican_enabled: ""{{ (groups['barbican_all'] is defined) and (groups['barbican_all'] | length > 0) }}""cinder_ceilometer_enabled: ""{{ (groups['ceilometer_all'] is defined) and (groups['ceilometer_all'] | length > 0) }}""cinder_galera_port: ""{{ galera_port | default('3306') }}""cinder_service_region: ""{{ service_region | default('RegionOne') }}""cinder_service_in_ldap: ""{{ service_ldap_backend_enabled | default(False) }}""","# Set the package install state for distribution and pip packagescinder_package_state: ""latest"" cinder_pip_package_state: ""latest""cinder_install_method: ""source""cinder_barbican_enabled: Falsecinder_ceilometer_enabled: Falsecinder_galera_port: 3306## Cinder API check cert validation cinder_service_internaluri_insecure: false cinder_service_region: RegionOnecinder_service_in_ldap: false",19,17
openstack%2Fopenstack-ansible-os_barbican~master~Idea74ec31c3a5a9edbf9f32b81563256e0d496b9,openstack/openstack-ansible-os_barbican,master,Idea74ec31c3a5a9edbf9f32b81563256e0d496b9,Use global service variables,MERGED,2021-01-05 16:31:26.000000000,2021-01-07 17:06:54.000000000,2021-01-07 16:50:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-01-05 16:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/d04a5c856c2a3857b99011692d40b70a65b3bdfe', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: Idea74ec31c3a5a9edbf9f32b81563256e0d496b9\n'}, {'number': 2, 'created': '2021-01-05 16:34:51.000000000', 'files': ['tasks/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/f43f76e27a5b83e0c1bf2b3ce686f1e80afba3fb', 'message': 'Use global service variables\n\nInstead of overriding each service separatelly it might make\nsense for deployers to define some higher level variable that\nwill be used first or fallback to default variable.\n\nChange-Id: Idea74ec31c3a5a9edbf9f32b81563256e0d496b9\n'}]",0,769397,f43f76e27a5b83e0c1bf2b3ce686f1e80afba3fb,9,3,2,28619,,,0,"Use global service variables

Instead of overriding each service separatelly it might make
sense for deployers to define some higher level variable that
will be used first or fallback to default variable.

Change-Id: Idea74ec31c3a5a9edbf9f32b81563256e0d496b9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/97/769397/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'defaults/main.yml']",2,d04a5c856c2a3857b99011692d40b70a65b3bdfe,osa/service_variables,"# Set the package install state for distribution packagesbarbican_package_state: ""{{ package_state | default('latest') }}""barbican_keystone_auth: ""{{ (groups['keystone_all'] is defined) and (groups['keystone_all'] | length > 0) }}""barbican_service_region: ""{{ service_region | default('RegionOne') }}""barbican_service_in_ldap: ""{{ service_ldap_backend_enabled | default(False) }}"" barbican_galera_port: ""{{ galera_port | default('3306') }}""barbican_ceilometer_enabled: ""{{ (groups['ceilometer_all'] is defined) and (groups['ceilometer_all'] | length > 0) }}""","# Set the package install state for distribution and pip packagesbarbican_package_state: ""latest"" barbican_pip_package_state: ""latest""barbican_keystone_auth: nobarbican_service_region: RegionOnebarbican_galera_port: 3306barbican_ceilometer_enabled: False",9,7
openstack%2Freleases~master~I87acd805fbb52b6ef1adf3d5f2317a441b4e0fcf,openstack/releases,master,I87acd805fbb52b6ef1adf3d5f2317a441b4e0fcf,Release kolla deliverables for Train,MERGED,2021-01-05 11:43:46.000000000,2021-01-07 17:01:39.000000000,2021-01-07 17:01:39.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-05 11:43:46.000000000', 'files': ['deliverables/train/kolla-ansible.yaml', 'deliverables/train/kayobe.yaml', 'deliverables/train/kolla.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/02662350d44dafa851031a0aed47d2f0282c3973', 'message': 'Release kolla deliverables for Train\n\n* kolla 9.3.0\n* kolla-ansible 9.3.0\n* kayobe 7.2.0\n\nChange-Id: I87acd805fbb52b6ef1adf3d5f2317a441b4e0fcf\n'}]",2,769325,02662350d44dafa851031a0aed47d2f0282c3973,13,5,1,14826,,,0,"Release kolla deliverables for Train

* kolla 9.3.0
* kolla-ansible 9.3.0
* kayobe 7.2.0

Change-Id: I87acd805fbb52b6ef1adf3d5f2317a441b4e0fcf
",git fetch https://review.opendev.org/openstack/releases refs/changes/25/769325/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/kolla-ansible.yaml', 'deliverables/train/kayobe.yaml', 'deliverables/train/kolla.yaml']",3,02662350d44dafa851031a0aed47d2f0282c3973,, - version: 9.3.0 projects: - repo: openstack/kolla hash: 3e020fdf2a26ad640a56134c25a5060c48bb190b,,14,0
openstack%2Freleases~master~I7ebec73041126850711747a94a64a8790a1f9028,openstack/releases,master,I7ebec73041126850711747a94a64a8790a1f9028,Release kolla deliverables for Ussuri,MERGED,2021-01-05 11:32:33.000000000,2021-01-07 17:01:31.000000000,2021-01-07 17:01:31.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-05 11:32:33.000000000', 'files': ['deliverables/ussuri/kayobe.yaml', 'deliverables/ussuri/kolla-ansible.yaml', 'deliverables/ussuri/kolla.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0b3792855fde3f5e06c92f6ef304cbbc271f7e64', 'message': 'Release kolla deliverables for Ussuri\n\n* kolla 10.2.0\n* kolla-ansible 10.2.0\n* kayobe 8.1.0\n\nChange-Id: I7ebec73041126850711747a94a64a8790a1f9028\n'}]",0,769324,0b3792855fde3f5e06c92f6ef304cbbc271f7e64,11,5,1,14826,,,0,"Release kolla deliverables for Ussuri

* kolla 10.2.0
* kolla-ansible 10.2.0
* kayobe 8.1.0

Change-Id: I7ebec73041126850711747a94a64a8790a1f9028
",git fetch https://review.opendev.org/openstack/releases refs/changes/24/769324/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ussuri/kayobe.yaml', 'deliverables/ussuri/kolla-ansible.yaml', 'deliverables/ussuri/kolla.yaml']",3,0b3792855fde3f5e06c92f6ef304cbbc271f7e64,, - version: 10.2.0 projects: - repo: openstack/kolla hash: e0d8772efa25b478467afcd3e2ecf2643ea471ff,,16,0
openstack%2Freleases~master~Id4143d48e41c665e1f3a7630e8f3cf4be557fbd6,openstack/releases,master,Id4143d48e41c665e1f3a7630e8f3cf4be557fbd6,Release kolla deliverables Victoria RC2,MERGED,2021-01-05 11:17:53.000000000,2021-01-07 16:55:18.000000000,2021-01-07 16:55:18.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-05 11:17:53.000000000', 'files': ['deliverables/victoria/kayobe.yaml', 'deliverables/victoria/kolla-ansible.yaml', 'deliverables/victoria/kolla.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/91dabad33365138c8a30d957d19d394c163c6903', 'message': 'Release kolla deliverables Victoria RC2\n\n* kolla 11.0.0.0rc2\n* kolla-ansible 11.0.0.0rc2\n* kayobe 9.0.0.0rc2\n\nChange-Id: Id4143d48e41c665e1f3a7630e8f3cf4be557fbd6\n'}]",2,769322,91dabad33365138c8a30d957d19d394c163c6903,12,5,1,14826,,,0,"Release kolla deliverables Victoria RC2

* kolla 11.0.0.0rc2
* kolla-ansible 11.0.0.0rc2
* kayobe 9.0.0.0rc2

Change-Id: Id4143d48e41c665e1f3a7630e8f3cf4be557fbd6
",git fetch https://review.opendev.org/openstack/releases refs/changes/22/769322/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/kayobe.yaml', 'deliverables/victoria/kolla-ansible.yaml', 'deliverables/victoria/kolla.yaml']",3,91dabad33365138c8a30d957d19d394c163c6903,, - version: 11.0.0.0rc2 projects: - repo: openstack/kolla hash: fee9edb2a371a5ea75371ea28ab0979afca70444,,16,0
openstack%2Fpuppet-tripleo~master~I79736ee7f923363bfd15efe2da1db7423f5803d5,openstack/puppet-tripleo,master,I79736ee7f923363bfd15efe2da1db7423f5803d5,Wire up new tripleo upgrades jobs template,MERGED,2021-01-05 12:22:56.000000000,2021-01-07 16:50:09.000000000,2021-01-07 16:50:09.000000000,"[{'_account_id': 6816}, {'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 11090}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-05 12:22:56.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4c334c0cb24bbc72b2745d017c12d9fc93ad0ba7', 'message': 'Wire up new tripleo upgrades jobs template\n\nThe depends-on adds a new upgrade jobs template which is wired up\nhere. Once wired up across tripleo we can remove excess content\nproviders with [1].\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131\nDepends-On: https://review.opendev.org/761188\n\nChange-Id: I79736ee7f923363bfd15efe2da1db7423f5803d5\n'}]",0,769338,4c334c0cb24bbc72b2745d017c12d9fc93ad0ba7,12,9,1,8449,,,0,"Wire up new tripleo upgrades jobs template

The depends-on adds a new upgrade jobs template which is wired up
here. Once wired up across tripleo we can remove excess content
providers with [1].

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/769131
Depends-On: https://review.opendev.org/761188

Change-Id: I79736ee7f923363bfd15efe2da1db7423f5803d5
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/38/769338/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,4c334c0cb24bbc72b2745d017c12d9fc93ad0ba7,reduce-content-providers, - tripleo-upgrades-master-pipeline,,1,0
openstack%2Fcharm-ceph-iscsi~master~I4aed8f5c25ad98312cb5701c774ad50cf4af7929,openstack/charm-ceph-iscsi,master,I4aed8f5c25ad98312cb5701c774ad50cf4af7929,Fix VMware links in README again,MERGED,2020-12-18 20:33:01.000000000,2021-01-07 16:33:59.000000000,2021-01-07 16:33:59.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-12-18 20:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/991b4d1cd54c7c8a0915db37b73c1df0dd51d6d2', 'message': 'Fix VMware links in README again\n\nChange-Id: I4aed8f5c25ad98312cb5701c774ad50cf4af7929\n'}, {'number': 2, 'created': '2020-12-18 21:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/42ae26356d07b61ebdbc4fb67818833e24fcfabd', 'message': 'Fix VMware links in README again\n\nChange-Id: I4aed8f5c25ad98312cb5701c774ad50cf4af7929\n'}, {'number': 3, 'created': '2021-01-07 08:43:44.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-ceph-iscsi/commit/db87c47c50b3d71121f6c26aa52cb67eff9ddd57', 'message': 'Fix VMware links in README again\n\nChange-Id: I4aed8f5c25ad98312cb5701c774ad50cf4af7929\n'}]",0,767949,db87c47c50b3d71121f6c26aa52cb67eff9ddd57,17,5,3,30561,,,0,"Fix VMware links in README again

Change-Id: I4aed8f5c25ad98312cb5701c774ad50cf4af7929
",git fetch https://review.opendev.org/openstack/charm-ceph-iscsi refs/changes/49/767949/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,991b4d1cd54c7c8a0915db37b73c1df0dd51d6d2,fix-vmware-link-in-readme,documented under [VMware integration][ceph-docs-vmware-integration] in the [Charmed Ceph documentation][ceph-docs].[ceph-docs-vmware-integration]: https://ubuntu.com/ceph/docs/integration-vmware [ceph-docs]: https://ubuntu.com/ceph/docs,documented under [Ceph iSCSI][cdg-ceph-iscsi] in the [OpenStack Charms Deployment Guide][cdg].[cg-preview-charms]: https://docs.openstack.org/charm-guide/latest/openstack-charms.html#tech-preview-charms-beta [cdg-ceph-iscsi]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-ceph-iscsi.html,4,4
