id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fheat~stable%2Fqueens~Id851530b424f68b5e0e967fe34431483bfffd852,openstack/heat,stable/queens,Id851530b424f68b5e0e967fe34431483bfffd852,Allow scale-down of ASG as part of update,MERGED,2020-05-29 03:38:54.000000000,2020-07-27 17:33:07.000000000,2020-07-27 17:33:07.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-29 03:38:54.000000000', 'files': ['heat/engine/resources/aws/autoscaling/autoscaling_group.py', 'heat/engine/resources/openstack/heat/instance_group.py', 'heat/tests/openstack/heat/test_instance_group.py', 'heat/tests/openstack/heat/test_instance_group_update_policy.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/8cd36d08203a0f39125dbf7de143766ed3bcaa6d', 'message': ""Allow scale-down of ASG as part of update\n\nWhen user wants to do manual scale-up of ASG by increasing the\ndesired_capacity and also update some member properties as\npart of a stack update, if it fails due to insufficient\nresources when resizing, trying to manually scale-down by\ndecreasing the desired_capacity won't work, as it would\nalways expect to update the group with the earlier size\nbefore scaling down.\n\nThis patch uses the target_size when building the batches.\n\nConflicts:\n\theat/engine/resources/openstack/heat/instance_group.py\n\theat/tests/openstack/heat/test_instance_group_update_policy.py\n\nTask: 39867\nChange-Id: Id851530b424f68b5e0e967fe34431483bfffd852\n(cherry picked from commit 26d8f64fc90ed9b3ad0413ed0c932fb91b51d666)\n""}]",0,731647,8cd36d08203a0f39125dbf7de143766ed3bcaa6d,13,3,1,8833,,,0,"Allow scale-down of ASG as part of update

When user wants to do manual scale-up of ASG by increasing the
desired_capacity and also update some member properties as
part of a stack update, if it fails due to insufficient
resources when resizing, trying to manually scale-down by
decreasing the desired_capacity won't work, as it would
always expect to update the group with the earlier size
before scaling down.

This patch uses the target_size when building the batches.

Conflicts:
	heat/engine/resources/openstack/heat/instance_group.py
	heat/tests/openstack/heat/test_instance_group_update_policy.py

Task: 39867
Change-Id: Id851530b424f68b5e0e967fe34431483bfffd852
(cherry picked from commit 26d8f64fc90ed9b3ad0413ed0c932fb91b51d666)
",git fetch https://review.opendev.org/openstack/heat refs/changes/47/731647/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/aws/autoscaling/autoscaling_group.py', 'heat/engine/resources/openstack/heat/instance_group.py', 'heat/tests/openstack/heat/test_instance_group.py', 'heat/tests/openstack/heat/test_instance_group_update_policy.py']",4,8cd36d08203a0f39125dbf7de143766ed3bcaa6d,, group.get_size = mock.Mock(return_value=12),,54,39
openstack%2Fneutron~master~I4227cc3ceb2a17f40df86dadd71d99198b6b26e9,openstack/neutron,master,I4227cc3ceb2a17f40df86dadd71d99198b6b26e9,[ovn]: port forwarding -- extend support for OVN usage (cont.),MERGED,2020-07-14 15:40:23.000000000,2020-07-27 17:23:57.000000000,2020-07-27 17:20:46.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 9531}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-07-14 15:40:23.000000000', 'files': ['neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/61bf68de3185c48363a6c6c9187773368152ffdd', 'message': '[ovn]: port forwarding -- extend support for OVN usage (cont.)\n\nThis is a follow up from commit eb46081150a4ca4e2007cabfcadd134cbc85435e\n\nIn order to be used by functional tests -- or anything that does not use\nstevedore that can map from ""ovn-router"" value -- pf_plugin also needs to\nrecognize ""neutron.services.ovn_l3.plugin.OVNL3RouterPlugin"" as a way for\nspecifying the OVN L3 service plugin.\n\nChange-Id: I4227cc3ceb2a17f40df86dadd71d99198b6b26e9\nRelated-Bug: #1877447\n'}]",2,740993,61bf68de3185c48363a6c6c9187773368152ffdd,13,8,1,11952,,,0,"[ovn]: port forwarding -- extend support for OVN usage (cont.)

This is a follow up from commit eb46081150a4ca4e2007cabfcadd134cbc85435e

In order to be used by functional tests -- or anything that does not use
stevedore that can map from ""ovn-router"" value -- pf_plugin also needs to
recognize ""neutron.services.ovn_l3.plugin.OVNL3RouterPlugin"" as a way for
specifying the OVN L3 service plugin.

Change-Id: I4227cc3ceb2a17f40df86dadd71d99198b6b26e9
Related-Bug: #1877447
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/740993/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/portforwarding/pf_plugin.py', 'neutron/tests/unit/services/portforwarding/test_pf_plugin.py']",2,61bf68de3185c48363a6c6c9187773368152ffdd,ovn/port_forwarding," ovn_rtr_full = 'neutron.services.ovn_l3.plugin.OVNL3RouterPlugin' supported_plugins = ['router', 'ovn-router', ovn_rtr_full] TC([ovn_rtr_full], same_as_input, False, ""valid cfg 3""), TC(['ovn-router', ovn_rtr_full, 'router'], supported_plugins, True, TC(['router', 'ovn-router'], same_as_input, True, ""valid cfg 5""), TC(['router', ovn_rtr_full], same_as_input, True, TC([ovn_rtr_full, 'ovn-router'], ['ovn-router', ovn_rtr_full], False, ""valid cfg 7""), TC(['bar', 'router', 'foo'], ['router'], True, ""valid cfg 8""), TC(['bar', 'ovn-router', 'foo'], ['ovn-router'], False, ""valid cfg 9""), TC(['bar', ovn_rtr_full, 'foo'], [ovn_rtr_full], False, ""valid cfg 10""), TC(['bar', 'router', 123, 'ovn-router', 'foo', 'kitchen', 'sink', ovn_rtr_full], supported_plugins, True, ""valid cfg 11""),"," supported_plugins = ['router', 'ovn-router'] TC(['router'], same_as_input, True, ""valid cfg 1""), TC(['ovn-router', 'router'], supported_plugins, True, ""valid cfg 3""), TC(['router', 'ovn-router'], supported_plugins, True, TC(['bar', 'router', 'foo'], ['router'], True, ""valid cfg 5""), TC(['bar', 'ovn-router', 'foo'], ['ovn-router'], False, TC(['bar', 'router', 123, 'ovn-router', 'foo', 'kitchen', 'sink'], supported_plugins, True, ""valid cfg 7""),",20,10
openstack%2Fpycadf~master~Ib3d13c83dcc9f660d89669c53c7782ca68da8e64,openstack/pycadf,master,Ib3d13c83dcc9f660d89669c53c7782ca68da8e64,Fix hacking min version to 3.0.1,MERGED,2020-05-13 00:31:18.000000000,2020-07-27 17:05:58.000000000,2020-07-27 17:03:59.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-05-13 00:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pycadf/commit/c45f4c780c77c73b316712aea6c03bee9a322d92', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: Ib3d13c83dcc9f660d89669c53c7782ca68da8e64\n'}, {'number': 2, 'created': '2020-05-15 16:14:19.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/pycadf/commit/3fdfb00bc7c3656786d80b1c4881d016d0b86550', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\nAlso removing the hacking and other related dep from lower-constraints file\nas theose are blacklisted requirements and does not need to be present\nthere.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: Ib3d13c83dcc9f660d89669c53c7782ca68da8e64\n'}]",0,727530,3fdfb00bc7c3656786d80b1c4881d016d0b86550,11,4,2,8556,,,0,"Fix hacking min version to 3.0.1

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, we need to bump the hacking min
version.

Also removing the hacking and other related dep from lower-constraints file
as theose are blacklisted requirements and does not need to be present
there.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: Ib3d13c83dcc9f660d89669c53c7782ca68da8e64
",git fetch https://review.opendev.org/openstack/pycadf refs/changes/30/727530/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c45f4c780c77c73b316712aea6c03bee9a322d92,,"hacking>=3.0.1,<3.1.0 # Apache-2.0","hacking>=3.0,<3.1.0 # Apache-2.0",1,1
openstack%2Fswift~master~I918ab4ccbf4d081b26f4117937410cdad1caf8d3,openstack/swift,master,I918ab4ccbf4d081b26f4117937410cdad1caf8d3,Stop syncing empty suffixes list,MERGED,2020-07-16 20:13:18.000000000,2020-07-27 16:46:07.000000000,2020-07-22 04:22:32.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-16 20:13:18.000000000', 'files': ['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/907942eb4743e5a4213b1f84fd57a58386594bb6', 'message': 'Stop syncing empty suffixes list\n\nChange-Id: I918ab4ccbf4d081b26f4117937410cdad1caf8d3\nCloses-Bug: #1862645\nCloses-Bug: #1886782\n'}]",4,741538,907942eb4743e5a4213b1f84fd57a58386594bb6,15,3,1,15343,,,0,"Stop syncing empty suffixes list

Change-Id: I918ab4ccbf4d081b26f4117937410cdad1caf8d3
Closes-Bug: #1862645
Closes-Bug: #1886782
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/741538/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/replicator.py', 'test/unit/obj/test_replicator.py']",2,907942eb4743e5a4213b1f84fd57a58386594bb6,bug/1862645," resp.read.return_value = b'garbage' self.assertEqual(stats.hashmatch, 0) self.assertEqual(stats.hashmatch, 0) @mock.patch('swift.obj.replicator.tpool.execute') @mock.patch('swift.obj.replicator.http_connect', autospec=True) @mock.patch('swift.obj.replicator._do_listdir') def test_update_local_hash_changes_during_replication( self, mock_do_listdir, mock_http, mock_tpool_execute): mock_http.return_value = answer = mock.MagicMock() answer.getresponse.return_value = resp = mock.MagicMock() resp.status = 200 resp.read.return_value = pickle.dumps({ 'a83': 'c130a2c17ed45102aada0f4eee69494ff'}) self.replicator.sync = fake_sync = \ mock.MagicMock(return_value=(True, [])) local_job = [ job for job in self.replicator.collect_jobs() if not job['delete'] and job['partition'] == '0' and int(job['policy']) == 0 ][0] mock_tpool_execute.side_effect = [ (1, {'a83': 'ba47fd314242ec8c7efb91f5d57336e4'}), (1, {'a83': 'c130a2c17ed45102aada0f4eee69494ff'}), ] self.replicator.update(local_job) self.assertEqual(fake_sync.call_count, 0) self.assertEqual(mock_http.call_count, 2) stats = self.replicator.total_stats self.assertEqual(stats.attempted, 1) self.assertEqual(stats.suffix_sync, 0) self.assertEqual(stats.suffix_hash, 1) self.assertEqual(stats.suffix_count, 1) self.assertEqual(stats.hashmatch, 2) ", resp.read.return_value = 'garbage',39,1
openstack%2Fsphinx-feature-classification~master~If9e97bfea07b66a213e39fc9b4877fde9f8f30e5,openstack/sphinx-feature-classification,master,If9e97bfea07b66a213e39fc9b4877fde9f8f30e5,Cleanup misplaced release note,MERGED,2020-07-14 19:30:10.000000000,2020-07-27 16:18:09.000000000,2020-07-27 16:16:41.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-14 19:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sphinx-feature-classification/commit/bfdc2dc8f178de6dd48bfad054409f32ee8e1fa6', 'message': ""Cleanup misplaces release note\n\nA release note was added in the wrong location, so it was missed for\nthat release. Since moving it to the correct location now would cause it\nto show up in the next release's release notes, potentially causing\nconfusion, this just removes the note.\n\nAdded over a year ago in:\nI0f2bdee6eb67753f5f365b2681c4c7e3ae35c3ec\n\nChange-Id: If9e97bfea07b66a213e39fc9b4877fde9f8f30e5\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}, {'number': 2, 'created': '2020-07-27 15:41:34.000000000', 'files': ['sphinx_feature_classification/releasenotes/notes/update-summary-table-style-cb5a00eb45cce78a.yaml'], 'web_link': 'https://opendev.org/openstack/sphinx-feature-classification/commit/9c9548918daef21def73048fd7a5384c75156109', 'message': ""Cleanup misplaced release note\n\nA release note was added in the wrong location, so it was missed for\nthat release. Since moving it to the correct location now would cause it\nto show up in the next release's release notes, potentially causing\nconfusion, this just removes the note.\n\nAdded over a year ago in:\nI0f2bdee6eb67753f5f365b2681c4c7e3ae35c3ec\n\nChange-Id: If9e97bfea07b66a213e39fc9b4877fde9f8f30e5\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",1,741036,9c9548918daef21def73048fd7a5384c75156109,11,4,2,11904,,,0,"Cleanup misplaced release note

A release note was added in the wrong location, so it was missed for
that release. Since moving it to the correct location now would cause it
to show up in the next release's release notes, potentially causing
confusion, this just removes the note.

Added over a year ago in:
I0f2bdee6eb67753f5f365b2681c4c7e3ae35c3ec

Change-Id: If9e97bfea07b66a213e39fc9b4877fde9f8f30e5
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/sphinx-feature-classification refs/changes/36/741036/1 && git format-patch -1 --stdout FETCH_HEAD,['sphinx_feature_classification/releasenotes/notes/update-summary-table-style-cb5a00eb45cce78a.yaml'],1,bfdc2dc8f178de6dd48bfad054409f32ee8e1fa6,reno,,--- fixes: - | Fixed the summary table border not rendering and improved the table font sizing. ,0,5
openstack%2Fsushy~master~I6600309a72ed63649f8d0be71b9038fdaab78dfd,openstack/sushy,master,I6600309a72ed63649f8d0be71b9038fdaab78dfd,Update version of hacking,MERGED,2020-07-23 17:06:16.000000000,2020-07-27 16:03:00.000000000,2020-07-27 16:00:47.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 17:06:16.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/sushy/commit/2029f820476c69443596608736a47f4c8d132f1e', 'message': 'Update version of hacking\n\nNow with a safe version of flake8!\n\nChange-Id: I6600309a72ed63649f8d0be71b9038fdaab78dfd\n'}]",0,742712,2029f820476c69443596608736a47f4c8d132f1e,10,4,1,23851,,,0,"Update version of hacking

Now with a safe version of flake8!

Change-Id: I6600309a72ed63649f8d0be71b9038fdaab78dfd
",git fetch https://review.opendev.org/openstack/sushy refs/changes/12/742712/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,2029f820476c69443596608736a47f4c8d132f1e,hacking-310,hacking==3.1.0,hacking==3.0.0,2,2
openstack%2Fsphinx-feature-classification~master~I11afa559bdaae91766c0d3bbaaaf5619151553af,openstack/sphinx-feature-classification,master,I11afa559bdaae91766c0d3bbaaaf5619151553af,Switch to victoria test template,MERGED,2020-07-14 18:50:25.000000000,2020-07-27 16:00:49.000000000,2020-07-27 15:51:00.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-14 18:50:25.000000000', 'files': ['.zuul.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/sphinx-feature-classification/commit/daafae04a55098ad0cbd28724daffdf708fd4393', 'message': 'Switch to victoria test template\n\nThis switches to the victoria template to pick up py38 and drop py37\nunit tests. With the addition of py38 testing, it also adds that\nmetadata to the package.\n\nChange-Id: I11afa559bdaae91766c0d3bbaaaf5619151553af\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741029,daafae04a55098ad0cbd28724daffdf708fd4393,8,3,1,11904,,,0,"Switch to victoria test template

This switches to the victoria template to pick up py38 and drop py37
unit tests. With the addition of py38 testing, it also adds that
metadata to the package.

Change-Id: I11afa559bdaae91766c0d3bbaaaf5619151553af
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/sphinx-feature-classification refs/changes/29/741029/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg']",2,daafae04a55098ad0cbd28724daffdf708fd4393,victoria, Programming Language :: Python :: 3.8,,2,1
openstack%2Fwhitebox-tempest-plugin~master~Icd051ea26cc7eff57d65e5876997dbe9055ff387,openstack/whitebox-tempest-plugin,master,Icd051ea26cc7eff57d65e5876997dbe9055ff387,Added host topology and cell data structure,ABANDONED,2020-01-28 17:16:39.000000000,2020-07-27 15:59:18.000000000,,"[{'_account_id': 7020}, {'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 27478}, {'_account_id': 31033}, {'_account_id': 31239}]","[{'number': 1, 'created': '2020-01-28 17:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/96fc820c39de1236d3e80035d99ba462a891f7c0', 'message': 'Added host topology and cell data structure\n\nAdded two new classes: HostTopology and HostCell. HostCell acts as a\ndatastructure describing an individual NUMA node from a compute host.\nHostCell currently stores the NUMA node’s cell id, the xml element\ndescription of its capabilities, core count, list of cpus, list of nic’s\nwith affinity, and total memory as well as memory page information.\nHostTopology is a datastructure used to describe a compute node. It\naggregates all NUMA nodes of the compute host and instantiates a\nrespective HostCell object to describe the cell. HostTopology also\nprovides multiple functions for parsing topology information. Both\nclasses are stored in host_cells.py, which is located at\nwhtiebox_tempest_plugin.lib.models. The lib and models directories were\nintroduced into this commit to store current and future potential\ndatastructure models used to describe resources, e.g. datastructre\nmodel(s) for NICs.\n\nChange-Id: Icd051ea26cc7eff57d65e5876997dbe9055ff387\n'}, {'number': 2, 'created': '2020-03-19 01:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/b2c655bbde376c95bad93222b71cc0176785a60d', 'message': 'Added host topology and cell data structure\n\nAdded two new classes: HostTopology and HostCell. HostCell acts as a\ndatastructure describing an individual NUMA node from a compute host.\nHostCell currently stores the NUMA node’s cell id, the xml element\ndescription of its capabilities, core count, list of cpus, list of nic’s\nwith affinity, and total memory as well as memory page information.\nHostTopology is a datastructure used to describe a compute node. It\naggregates all NUMA nodes of the compute host and instantiates a\nrespective HostCell object to describe the cell. HostTopology also\nprovides multiple functions for parsing topology information. Both\nclasses are stored in host_cells.py, which is located at\nwhtiebox_tempest_plugin.lib.models. The lib and models directories were\nintroduced into this commit to store current and future potential\ndatastructure models used to describe resources, e.g. datastructre\nmodel(s) for NICs.\n\nAlso repurposed get_siblings_list and get_host_cpu_siblings from\ntest_cpu_pinning.CPUThreadPolicyTest to gather sibling information and\nvalidate if smt is enabled\n\nChange-Id: Icd051ea26cc7eff57d65e5876997dbe9055ff387\n'}, {'number': 3, 'created': '2020-03-19 19:30:06.000000000', 'files': ['whitebox_tempest_plugin/lib/__init__.py', 'whitebox_tempest_plugin/lib/models/host_cells.py', 'whitebox_tempest_plugin/lib/models/__init__.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/a43d4ee59c839d7accff697ef3d8b67c8f0cf648', 'message': ""Added host topology and cell data structure\n\nAdded two new classes: HostTopology and HostCell. HostCell acts as a\ndatastructure that derives most of it's information from parsing the\nhost capabilities provided by 'virsh capabilites'. HostCell captures\ncell specific information about memory, hugepages, cpu ids, and cpu\nsibilings. Certain information gathering not provided via parsing the\nxml capabilites of the underlying host come from command output parsing\nvia SSHClient. The SSHClient is provided by HostTopology.\n\nHostTopology contains aggregate host level information and also\nrepresents information about each of it's NUMA nodes as a HostCell\nobject. HostTopology provides methods that describe the underlying hosts\nmemory and cpu capabilites. It also can check nic NUMA affinity and\nvalidate if SMT is enabled.\n\nBoth classes are stored in host_cells.py, which is located at\nwhtiebox_tempest_plugin.lib.models. The lib and models directories were\nintroduced into this commit to store current and future potential\ndatastructure models used to describe resources, e.g. datastructre\nmodel(s) for NICs.\n\nAlso repurposed get_siblings_list and get_host_cpu_siblings from\ntest_cpu_pinning.CPUThreadPolicyTest to gather sibling information and\nvalidate if smt is enabled. In addition began 'migrating' certain\nfunctions from NUMAClient to HostTopology, such as get_hugepages.\n\nChange-Id: Icd051ea26cc7eff57d65e5876997dbe9055ff387\n""}]",19,704638,a43d4ee59c839d7accff697ef3d8b67c8f0cf648,28,7,3,31033,,,0,"Added host topology and cell data structure

Added two new classes: HostTopology and HostCell. HostCell acts as a
datastructure that derives most of it's information from parsing the
host capabilities provided by 'virsh capabilites'. HostCell captures
cell specific information about memory, hugepages, cpu ids, and cpu
sibilings. Certain information gathering not provided via parsing the
xml capabilites of the underlying host come from command output parsing
via SSHClient. The SSHClient is provided by HostTopology.

HostTopology contains aggregate host level information and also
represents information about each of it's NUMA nodes as a HostCell
object. HostTopology provides methods that describe the underlying hosts
memory and cpu capabilites. It also can check nic NUMA affinity and
validate if SMT is enabled.

Both classes are stored in host_cells.py, which is located at
whtiebox_tempest_plugin.lib.models. The lib and models directories were
introduced into this commit to store current and future potential
datastructure models used to describe resources, e.g. datastructre
model(s) for NICs.

Also repurposed get_siblings_list and get_host_cpu_siblings from
test_cpu_pinning.CPUThreadPolicyTest to gather sibling information and
validate if smt is enabled. In addition began 'migrating' certain
functions from NUMAClient to HostTopology, such as get_hugepages.

Change-Id: Icd051ea26cc7eff57d65e5876997dbe9055ff387
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/38/704638/1 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/lib/__init__.py', 'whitebox_tempest_plugin/lib/models/host_cells.py', 'whitebox_tempest_plugin/lib/models/__init__.py']",3,96fc820c39de1236d3e80035d99ba462a891f7c0,host_cells,,,143,0
openstack%2Fglance~master~I20e7ae2a6e4cd555fba837b9d6071a8bdfd51c4d,openstack/glance,master,I20e7ae2a6e4cd555fba837b9d6071a8bdfd51c4d,Remove -u root as mysql is executed with root user,ABANDONED,2018-08-19 14:29:58.000000000,2020-07-27 15:51:28.000000000,,"[{'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27738}]","[{'number': 1, 'created': '2018-08-19 14:29:58.000000000', 'files': ['doc/source/install/install-ubuntu.rst', 'doc/source/install/install-debian.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/83352b784c289e54bdd9667b56aeeca4f14f42c7', 'message': 'Remove -u root as mysql is executed with root user\n\nAs openstack installation guides suggest to run mysql with root shell\nuser, mysql will not ask for password, so the ""-u root -p"" is useless.\n\nChange-Id: I20e7ae2a6e4cd555fba837b9d6071a8bdfd51c4d\nRelated-Bug: #1785025\n'}]",0,593397,83352b784c289e54bdd9667b56aeeca4f14f42c7,8,4,1,16523,,,0,"Remove -u root as mysql is executed with root user

As openstack installation guides suggest to run mysql with root shell
user, mysql will not ask for password, so the ""-u root -p"" is useless.

Change-Id: I20e7ae2a6e4cd555fba837b9d6071a8bdfd51c4d
Related-Bug: #1785025
",git fetch https://review.opendev.org/openstack/glance refs/changes/97/593397/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/install-ubuntu.rst', 'doc/source/install/install-debian.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst']",4,83352b784c289e54bdd9667b56aeeca4f14f42c7,bug/1785025, # mysql, $ mysql -u root -p,4,4
openstack%2Fcinder~master~Id717406bdb34bec20c57ae9ae0e50607738fb91d,openstack/cinder,master,Id717406bdb34bec20c57ae9ae0e50607738fb91d,Enable MySQL Cluster Support for Cinder,ABANDONED,2017-07-28 21:18:54.000000000,2020-07-27 15:50:46.000000000,,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11600}, {'_account_id': 11611}, {'_account_id': 11816}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17386}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19283}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23479}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26277}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-07-28 21:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/343f493a119071547947b43d39ff6fd6e8971bb0', 'message': 'Enable MySQL Cluster Support for Cinder\n\nImplements minor fixes to the SQL Alchemy scripts in Cinder to support the\nMySQL Cluster DB. This includes the usage of the boolean mysql_enable_ndb\nsetting from oslo.db from bug 1564110. This allows operators to select from\nMySQL (InnoDB) or MySQL Cluster (NDB) as the storage engine backend.\nAdditionally, this fixes the models.py to support this enhancement.\n\nChange-Id: Id717406bdb34bec20c57ae9ae0e50607738fb91d\nDepends-On: I7f9c830073bf9a30abce0aa4bb55b5c9cf661afe\n'}, {'number': 2, 'created': '2017-07-28 21:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8a1b5bbe2aa0070c1856ddb323887c26802243ed', 'message': 'Enable MySQL Cluster Support for Cinder\n\nImplements minor fixes to the SQL Alchemy scripts in Cinder\nto support the MySQL Cluster DB. This includes the usage of\nthe boolean mysql_enable_ndb setting from oslo.db from bug\n1564110. This allows operators to select from MySQL (InnoDB)\nMySQL Cluster (NDB) as the storage engine backend.\nAdditionally, this fixes the models.py to support this\nenhancement.\n\nChange-Id: Id717406bdb34bec20c57ae9ae0e50607738fb91d\nDepends-On: I7f9c830073bf9a30abce0aa4bb55b5c9cf661afe\n'}, {'number': 3, 'created': '2017-08-14 19:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a58c1565b8a1d6bd8eae10791f6c61717b9d7f33', 'message': 'Enable MySQL Cluster Support for Cinder\n\nImplements minor fixes to the SQL Alchemy scripts in Cinder\nto support the MySQL Cluster DB. This includes the usage of\nthe boolean mysql_enable_ndb setting from oslo.db from bug\n1564110. This allows operators to select from MySQL (InnoDB)\nMySQL Cluster (NDB) as the storage engine backend.\nAdditionally, this fixes the models.py to support this\nenhancement.\n\nChange-Id: Id717406bdb34bec20c57ae9ae0e50607738fb91d\nDepends-On: I7f9c830073bf9a30abce0aa4bb55b5c9cf661afe\n'}, {'number': 4, 'created': '2017-10-23 14:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/175f620ae76b9c1d3b8fb148bc1170a08d598c57', 'message': 'Enable MySQL Cluster Support for Cinder\n\nImplements minor fixes to the SQL Alchemy scripts in Cinder\nto support the MySQL Cluster DB. This includes the usage of\nthe boolean mysql_enable_ndb setting from oslo.db from bug\n1564110. This allows operators to select from MySQL (InnoDB)\nMySQL Cluster (NDB) as the storage engine backend.\nAdditionally, this fixes the models.py to support this\nenhancement.\n\nChange-Id: Id717406bdb34bec20c57ae9ae0e50607738fb91d\nDepends-On: I7f9c830073bf9a30abce0aa4bb55b5c9cf661afe\n'}, {'number': 5, 'created': '2017-10-23 14:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5ce6925237bb8073339d0ba568137b092e884b7b', 'message': 'Enable MySQL Cluster Support for Cinder\n\nImplements minor fixes to the SQL Alchemy scripts in Cinder\nto support the MySQL Cluster DB. This includes the usage of\nthe boolean mysql_enable_ndb setting from oslo.db from bug\n1564110. This allows operators to select from MySQL (InnoDB)\nMySQL Cluster (NDB) as the storage engine backend.\nAdditionally, this fixes the models.py to support this\nenhancement.\n\nChange-Id: Id717406bdb34bec20c57ae9ae0e50607738fb91d\nDepends-On: I7f9c830073bf9a30abce0aa4bb55b5c9cf661afe\n'}, {'number': 6, 'created': '2017-11-09 16:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/754733d477294a2a6c26f0d51628ffd5032a0c0f', 'message': 'Enable MySQL Cluster Support for Cinder\n\nImplements minor fixes to the SQL Alchemy scripts in Cinder\nto support the MySQL Cluster DB. This includes the usage of\nthe boolean mysql_enable_ndb setting from oslo.db from bug\n1564110. This allows operators to select from MySQL (InnoDB)\nMySQL Cluster (NDB) as the storage engine backend.\nAdditionally, this fixes the models.py to support this\nenhancement.\n\nChange-Id: Id717406bdb34bec20c57ae9ae0e50607738fb91d\nDepends-On: I7f9c830073bf9a30abce0aa4bb55b5c9cf661afe\nImplements: blueprint mysql-cluster-support\nCloses-Bug: 1707288\n'}, {'number': 7, 'created': '2017-12-12 14:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3ca5fb60a2515a43d2a71ab427147157c862324f', 'message': 'Enable MySQL Cluster Support for Cinder\n\nImplements minor fixes to the SQL Alchemy scripts in Cinder\nto support the MySQL Cluster DB. This includes the usage of\nthe boolean mysql_enable_ndb setting from oslo.db from bug\n1564110. This allows operators to select from MySQL (InnoDB)\nMySQL Cluster (NDB) as the storage engine backend.\nAdditionally, this fixes the models.py to support this\nenhancement.\n\nChange-Id: Id717406bdb34bec20c57ae9ae0e50607738fb91d\nDepends-On: I7f9c830073bf9a30abce0aa4bb55b5c9cf661afe\nImplements: blueprint mysql-cluster-support\nCloses-Bug: 1707288\n'}, {'number': 8, 'created': '2018-02-15 16:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b153af94e2942000195caa6158dfa34d85eb05df', 'message': 'Enable MySQL Cluster Support for Cinder\n\nImplements minor fixes to the SQL Alchemy scripts in Cinder\nto support the MySQL Cluster DB. This includes the usage of\nthe boolean mysql_enable_ndb setting from oslo.db from bug\n1564110. This allows operators to select from MySQL (InnoDB)\nMySQL Cluster (NDB) as the storage engine backend.\nAdditionally, this fixes the models.py to support this\nenhancement.\n\nChange-Id: Id717406bdb34bec20c57ae9ae0e50607738fb91d\nDepends-On: I7f9c830073bf9a30abce0aa4bb55b5c9cf661afe\nImplements: blueprint mysql-cluster-support\nCloses-Bug: 1707288\n'}, {'number': 9, 'created': '2018-07-12 15:24:40.000000000', 'files': ['cinder/db/sqlalchemy/migrate_repo/versions/085_cinder_init.py', 'cinder/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c9431639c0014d5a98a0fba2a35acd730ea77eb1', 'message': 'Enable MySQL Cluster Support for Cinder\n\nImplements minor fixes to the SQL Alchemy scripts in Cinder\nto support the MySQL Cluster DB. This includes the usage of\nthe boolean mysql_enable_ndb setting from oslo.db from bug\n1564110. This allows operators to select from MySQL (InnoDB)\nMySQL Cluster (NDB) as the storage engine backend.\nAdditionally, this fixes the models.py to support this\nenhancement.\n\nChange-Id: Id717406bdb34bec20c57ae9ae0e50607738fb91d\nDepends-On: I7f9c830073bf9a30abce0aa4bb55b5c9cf661afe\nImplements: blueprint mysql-cluster-support\nCloses-Bug: 1707288\n'}]",1,488849,c9431639c0014d5a98a0fba2a35acd730ea77eb1,167,53,9,19283,,,0,"Enable MySQL Cluster Support for Cinder

Implements minor fixes to the SQL Alchemy scripts in Cinder
to support the MySQL Cluster DB. This includes the usage of
the boolean mysql_enable_ndb setting from oslo.db from bug
1564110. This allows operators to select from MySQL (InnoDB)
MySQL Cluster (NDB) as the storage engine backend.
Additionally, this fixes the models.py to support this
enhancement.

Change-Id: Id717406bdb34bec20c57ae9ae0e50607738fb91d
Depends-On: I7f9c830073bf9a30abce0aa4bb55b5c9cf661afe
Implements: blueprint mysql-cluster-support
Closes-Bug: 1707288
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/488849/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/db/sqlalchemy/migrate_repo/versions/073_cinder_init.py', 'cinder/db/sqlalchemy/models.py']",2,343f493a119071547947b43d39ff6fd6e8971bb0,bug/1707288,"from oslo_db.sqlalchemy.types import String as _Stringfrom sqlalchemy.dialects.mysql import TINYTEXT # TODO(vish): foreign key? availability_zone = Column(_String(255, mysql_ndb_type=TINYTEXT)) status = Column(_String(255, mysql_ndb_length=64)) # TODO(vish): enum? # TODO(vish): enum attach_status = Column(_String(255, mysql_ndb_length=64)) migration_status = Column(_String(255, mysql_ndb_length=64)) display_description = Column(_String(255, mysql_ndb_type=TINYTEXT)) replication_status = Column(_String(255, mysql_ndb_length=64)) replication_extended_status = Column(_String(255, mysql_ndb_type=TINYTEXT)) replication_driver_data = Column(_String(255, mysql_ndb_type=TINYTEXT))", availability_zone = Column(String(255)) # TODO(vish): foreign key? status = Column(String(255)) # TODO(vish): enum? attach_status = Column(String(255)) # TODO(vish): enum migration_status = Column(String(255)) display_description = Column(String(255)) replication_status = Column(String(255)) replication_extended_status = Column(String(255)) replication_driver_data = Column(String(255)),24,16
openstack%2Ftripleo-heat-templates~master~I70560f80775dacddd82262e8079c13f86b0eb0e6,openstack/tripleo-heat-templates,master,I70560f80775dacddd82262e8079c13f86b0eb0e6,Ensure redis_tls_proxy starts after all redis instances,MERGED,2020-06-11 11:56:05.000000000,2020-07-27 15:50:27.000000000,2020-07-23 04:31:17.000000000,"[{'_account_id': 3153}, {'_account_id': 9914}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-06-11 11:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5b2bb3d3627f3be7b6306bf7e9dc5e9a30f1a091', 'message': ""Ensure redis_tls_proxy starts after all redis instances\n\nWhen converting a HA control plane to TLS-e, 1) the bootstrap node\ntells pacemaker to restart all redis instances to take into\naccount the new TLS-e config; 2) a new container redis_tls_proxy\nis started on every controller to encapsulate redis traffic in TLS\ntunnels. This happens during step 2.\n\nRedis servers have to be restarted everywhere for redis_tls_proxy\nto be able to start tunnels properly. Since we can't guarantee that\nacross several nodes during the same step, tweak the startup of\nredis_tls_proxy instead; make sure to only create the tunnels once\nthe targeted host:port can be bound (i.e. redis was restarted).\n\nChange-Id: I70560f80775dacddd82262e8079c13f86b0eb0e6\nCloses-Bug: #1883096\n""}, {'number': 2, 'created': '2020-06-15 12:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c6b2b5632b14b42f126bad4fce719a7d10345f7c', 'message': ""Ensure redis_tls_proxy starts after all redis instances\n\nWhen converting a HA control plane to TLS-e, 1) the bootstrap node\ntells pacemaker to restart all redis instances to take into\naccount the new TLS-e config; 2) a new container redis_tls_proxy\nis started on every controller to encapsulate redis traffic in TLS\ntunnels. This happens during step 2.\n\nRedis servers have to be restarted everywhere for redis_tls_proxy\nto be able to start tunnels properly. Since we can't guarantee that\nacross several nodes during the same step, tweak the startup of\nredis_tls_proxy instead; make sure to only create the tunnels once\nthe targeted host:port can be bound (i.e. redis was restarted).\n\nChange-Id: I70560f80775dacddd82262e8079c13f86b0eb0e6\nCloses-Bug: #1883096\n""}, {'number': 3, 'created': '2020-06-16 16:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a74758da68a1687be73d0d08e9f139fc7f01fdc3', 'message': ""Ensure redis_tls_proxy starts after all redis instances\n\nWhen converting a HA control plane to TLS-e, 1) the bootstrap node\ntells pacemaker to restart all redis instances to take into\naccount the new TLS-e config; 2) a new container redis_tls_proxy\nis started on every controller to encapsulate redis traffic in TLS\ntunnels. This happens during step 2.\n\nRedis servers have to be restarted everywhere for redis_tls_proxy\nto be able to start tunnels properly. Since we can't guarantee that\nacross several nodes during the same step, tweak the startup of\nredis_tls_proxy instead; make sure to only create the tunnels once\nthe targeted host:port can be bound (i.e. redis was restarted).\n\nChange-Id: I70560f80775dacddd82262e8079c13f86b0eb0e6\nCloses-Bug: #1883096\n""}, {'number': 4, 'created': '2020-06-17 13:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/19a3c3bc3f0be5a49cfff713e128fa0c655c4bbb', 'message': ""Ensure redis_tls_proxy starts after all redis instances\n\nWhen converting a HA control plane to TLS-e, 1) the bootstrap node\ntells pacemaker to restart all redis instances to take into\naccount the new TLS-e config; 2) a new container redis_tls_proxy\nis started on every controller to encapsulate redis traffic in TLS\ntunnels. This happens during step 2.\n\nRedis servers have to be restarted everywhere for redis_tls_proxy\nto be able to start tunnels properly. Since we can't guarantee that\nacross several nodes during the same step, tweak the startup of\nredis_tls_proxy instead; make sure to only create the tunnels once\nthe targeted host:port can be bound (i.e. redis was restarted).\n\nChange-Id: I70560f80775dacddd82262e8079c13f86b0eb0e6\nCloses-Bug: #1883096\n""}, {'number': 5, 'created': '2020-07-03 06:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bf5086e07d4eaa1347c1992f6852d3b7a58003fb', 'message': ""Ensure redis_tls_proxy starts after all redis instances\n\nWhen converting a HA control plane to TLS-e, 1) the bootstrap node\ntells pacemaker to restart all redis instances to take into\naccount the new TLS-e config; 2) a new container redis_tls_proxy\nis started on every controller to encapsulate redis traffic in TLS\ntunnels. This happens during step 2.\n\nRedis servers have to be restarted everywhere for redis_tls_proxy\nto be able to start tunnels properly. Since we can't guarantee that\nacross several nodes during the same step, tweak the startup of\nredis_tls_proxy instead; make sure to only create the tunnels once\nthe targeted host:port can be bound (i.e. redis was restarted).\n\nChange-Id: I70560f80775dacddd82262e8079c13f86b0eb0e6\nCloses-Bug: #1883096\n""}, {'number': 6, 'created': '2020-07-07 05:36:43.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/containers-common.yaml', 'container_config_scripts/wait-port-and-run.sh', 'tools/yaml-validate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b91a1a09cb25f042adb7094947eb3416c80af88f', 'message': ""Ensure redis_tls_proxy starts after all redis instances\n\nWhen converting a HA control plane to TLS-e, 1) the bootstrap node\ntells pacemaker to restart all redis instances to take into\naccount the new TLS-e config; 2) a new container redis_tls_proxy\nis started on every controller to encapsulate redis traffic in TLS\ntunnels. This happens during step 2.\n\nRedis servers have to be restarted everywhere for redis_tls_proxy\nto be able to start tunnels properly. Since we can't guarantee that\nacross several nodes during the same step, tweak the startup of\nredis_tls_proxy instead; make sure to only create the tunnels once\nthe targeted host:port can be bound (i.e. redis was restarted).\n\nChange-Id: I70560f80775dacddd82262e8079c13f86b0eb0e6\nCloses-Bug: #1883096\n""}]",1,735122,b91a1a09cb25f042adb7094947eb3416c80af88f,50,7,6,20778,,,0,"Ensure redis_tls_proxy starts after all redis instances

When converting a HA control plane to TLS-e, 1) the bootstrap node
tells pacemaker to restart all redis instances to take into
account the new TLS-e config; 2) a new container redis_tls_proxy
is started on every controller to encapsulate redis traffic in TLS
tunnels. This happens during step 2.

Redis servers have to be restarted everywhere for redis_tls_proxy
to be able to start tunnels properly. Since we can't guarantee that
across several nodes during the same step, tweak the startup of
redis_tls_proxy instead; make sure to only create the tunnels once
the targeted host:port can be bound (i.e. redis was restarted).

Change-Id: I70560f80775dacddd82262e8079c13f86b0eb0e6
Closes-Bug: #1883096
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/735122/6 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/redis-pacemaker-puppet.yaml', 'container_config_scripts/wait-port-and-run.sh']",2,5b2bb3d3627f3be7b6306bf7e9dc5e9a30f1a091,bug/1883096,"#!/bin/bash set -eu HOST=$1 PORT=$2 while (ss -Htnl src ""${HOST}"" ""sport = :${PORT}"" | grep -wq ""${PORT}""); do echo ""Wait until ${HOST}:${PORT} is no longer bound...""; sleep 10; done shift 2 COMMAND=""$*"" if [ -z ""${COMMAND}"" ]; then COMMAND=""true"" fi exec $COMMAND ",,21,2
openstack%2Fopenstack-helm~master~I068dfcb23d596d4b9bcde1944fb4def010490452,openstack/openstack-helm,master,I068dfcb23d596d4b9bcde1944fb4def010490452,feat(tls): Make openstack services compatible with mariadb with TLS,MERGED,2020-07-24 23:04:26.000000000,2020-07-27 15:49:48.000000000,2020-07-27 15:47:42.000000000,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 23:04:26.000000000', 'files': ['cinder/templates/secret-db.yaml', 'heat/templates/secret-db.yaml', 'glance/templates/secret-db.yaml', 'keystone/templates/secret-db.yaml', 'neutron/templates/secret-db.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7b720184e3bc512c0e1a1e89742f5dcf0df0b400', 'message': 'feat(tls): Make openstack services compatible with mariadb with TLS\n\nChange database scerets.\n\nChange-Id: I068dfcb23d596d4b9bcde1944fb4def010490452\n'}]",0,743010,7b720184e3bc512c0e1a1e89742f5dcf0df0b400,8,3,1,24780,,,0,"feat(tls): Make openstack services compatible with mariadb with TLS

Change database scerets.

Change-Id: I068dfcb23d596d4b9bcde1944fb4def010490452
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/10/743010/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/templates/secret-db.yaml', 'heat/templates/secret-db.yaml', 'glance/templates/secret-db.yaml', 'keystone/templates/secret-db.yaml', 'neutron/templates/secret-db.yaml']",5,7b720184e3bc512c0e1a1e89742f5dcf0df0b400,,"{{- $connection := tuple ""oslo_db"" ""internal"" $userClass ""mysql"" $envAll | include ""helm-toolkit.endpoints.authenticated_endpoint_uri_lookup"" }}{{- if $envAll.Values.manifests.certificates }} DB_CONNECTION: {{ (printf ""%s?charset=utf8&ssl_ca=/etc/mysql/certs/ca.crt&ssl_key=/etc/mysql/certs/tls.key&ssl_cert=/etc/mysql/certs/tls.crt&ssl_verify_cert"" $connection ) | b64enc -}} {{- else }} DB_CONNECTION: {{ $connection | b64enc -}} {{- end }}"," DB_CONNECTION: {{ tuple ""oslo_db"" ""internal"" $userClass ""mysql"" $envAll | include ""helm-toolkit.endpoints.authenticated_endpoint_uri_lookup"" | b64enc -}}",30,5
openstack%2Fglance~master~Ie15028b75fb8518ec2b0c0c0386d21782166f759,openstack/glance,master,Ie15028b75fb8518ec2b0c0c0386d21782166f759,Make glance-api able to do async tasks in WSGI mode,MERGED,2020-07-21 03:55:52.000000000,2020-07-27 15:39:47.000000000,2020-07-27 15:33:04.000000000,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 9373}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-21 03:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/2ba6fe0b0730d5cdb31ddcf2b95542422f200a13', 'message': ""WIP: Make glance-api able to do async tasks in WSGI mode\n\nThis is the result of me trying to investigate how infeasible it is to\nactually properly support the async task infrastructure under uwsgi. I\nwas pretty surprised to find that it seems not very hard. I'm sure there\nare some gotchas still, but at the very least, I can do image imports\nin uwsgi mode with this with some hand testing.\n\nThis needs unit tests and probaly some more surveying of things like\nthe scrubber (I dunno what that is) to see if it should be converted.\nThat said, this seems to be more trivial than I thought and makes me\nreconsider the work we've done recently to make standalone glance-api\nthe preferred mechanism.\n\nAnyway, I'm putting this up to get some test runs and for discussion,\nand will work on the remaining bits.\n\nChange-Id: Ie15028b75fb8518ec2b0c0c0386d21782166f759\n""}, {'number': 2, 'created': '2020-07-21 04:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7134469ee4cc8e110e722870cedf735a1e62c992', 'message': ""WIP: Make glance-api able to do async tasks in WSGI mode\n\nThis is the result of me trying to investigate how infeasible it is to\nactually properly support the async task infrastructure under uwsgi. I\nwas pretty surprised to find that it seems not very hard. I'm sure there\nare some gotchas still, but at the very least, I can do image imports\nin uwsgi mode with this with some hand testing.\n\nThis needs unit tests and probaly some more surveying of things like\nthe scrubber (I dunno what that is) to see if it should be converted.\nThat said, this seems to be more trivial than I thought and makes me\nreconsider the work we've done recently to make standalone glance-api\nthe preferred mechanism.\n\nAnyway, I'm putting this up to get some test runs and for discussion,\nand will work on the remaining bits.\n\nChange-Id: Ie15028b75fb8518ec2b0c0c0386d21782166f759\n""}, {'number': 3, 'created': '2020-07-21 13:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/003885d9eea0bf9b12b4c056a021498ddfb39052', 'message': ""WIP: Make glance-api able to do async tasks in WSGI mode\n\nThis is the result of me trying to investigate how infeasible it is to\nactually properly support the async task infrastructure under uwsgi. I\nwas pretty surprised to find that it seems not very hard. I'm sure there\nare some gotchas still, but at the very least, I can do image imports\nin uwsgi mode with this with some hand testing.\n\nThis needs unit tests and probaly some more surveying of things like\nthe scrubber (I dunno what that is) to see if it should be converted.\nThat said, this seems to be more trivial than I thought and makes me\nreconsider the work we've done recently to make standalone glance-api\nthe preferred mechanism.\n\nAnyway, I'm putting this up to get some test runs and for discussion,\nand will work on the remaining bits.\n\nChange-Id: Ie15028b75fb8518ec2b0c0c0386d21782166f759\n""}, {'number': 4, 'created': '2020-07-21 18:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f112f9e2e300fdcaa3415ec8bf0cb1c06b6fbdbd', 'message': 'Make glance-api able to do async tasks in WSGI mode\n\nThis teaches glance-api how to do async threading things when it is\nrunning in pure-WSGI mode. In order to do that, a refactoring of things\nthat currently depend on eventlet is required.\n\nTODO:\n - Does scrubber need to change?\n - Any processutils.exec()s we do probably need some attention\n\nDepends-On: https://review.opendev.org/#/c/742047/\nChange-Id: Ie15028b75fb8518ec2b0c0c0386d21782166f759\n'}, {'number': 5, 'created': '2020-07-22 13:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0e68345521c43d28570385f4599c45a3df7d0a24', 'message': 'Make glance-api able to do async tasks in WSGI mode\n\nThis teaches glance-api how to do async threading things when it is\nrunning in pure-WSGI mode. In order to do that, a refactoring of things\nthat currently depend on eventlet is required.\n\nTODO:\n - Does scrubber need to change?\n - Any processutils.exec()s we do probably need some attention\n\nDepends-On: https://review.opendev.org/#/c/742047/\nChange-Id: Ie15028b75fb8518ec2b0c0c0386d21782166f759\n'}, {'number': 6, 'created': '2020-07-22 14:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/53819ba9beb80ea3a1ce9879419ae198af699189', 'message': 'Make glance-api able to do async tasks in WSGI mode\n\nThis teaches glance-api how to do async threading things when it is\nrunning in pure-WSGI mode. In order to do that, a refactoring of things\nthat currently depend on eventlet is required.\n\nTODO:\n - Does scrubber need to change?\n - Any processutils.exec()s we do probably need some attention\n\nDepends-On: https://review.opendev.org/#/c/742047/\nChange-Id: Ie15028b75fb8518ec2b0c0c0386d21782166f759\n'}, {'number': 7, 'created': '2020-07-23 17:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6a063a17a08e5a819483479fffd50e8cff6f6b2d', 'message': 'Make glance-api able to do async tasks in WSGI mode\n\nThis teaches glance-api how to do async threading things when it is\nrunning in pure-WSGI mode. In order to do that, a refactoring of things\nthat currently depend on eventlet is required.\n\nIt adds a [wsgi]/task_pool_threads configuration knob, which is used\nin the case of pure-WSGI and native threads to constrain the number\nof threads in that pool (and thus the task parallelism). This will\nallow tuning by the operator, but also lets us default that to just\na single thread in the backport of these fixes so that we can avoid\nintroducing a new larger footprint in the backport unexpectedly.\n\nPartial-Bug: #1888713\nDepends-On: https://review.opendev.org/#/c/742047/\nChange-Id: Ie15028b75fb8518ec2b0c0c0386d21782166f759\n'}, {'number': 8, 'created': '2020-07-24 17:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/86ca2bd6442e7b0a21193f2d39e7f5516aa50ef9', 'message': 'Make glance-api able to do async tasks in WSGI mode\n\nThis teaches glance-api how to do async threading things when it is\nrunning in pure-WSGI mode. In order to do that, a refactoring of things\nthat currently depend on eventlet is required.\n\nIt adds a [wsgi]/task_pool_threads configuration knob, which is used\nin the case of pure-WSGI and native threads to constrain the number\nof threads in that pool (and thus the task parallelism). This will\nallow tuning by the operator, but also lets us default that to just\na single thread in the backport of these fixes so that we can avoid\nintroducing a new larger footprint in the backport unexpectedly.\n\nPartial-Bug: #1888713\nDepends-On: https://review.opendev.org/#/c/742047/\nChange-Id: Ie15028b75fb8518ec2b0c0c0386d21782166f759\n'}, {'number': 9, 'created': '2020-07-24 18:13:53.000000000', 'files': ['glance/api/v2/tasks.py', 'glance/tests/unit/async_/test_async.py', '.zuul.yaml', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/unit/v2/test_tasks_resource.py', 'glance/tests/unit/api/test_common.py', 'glance/tests/__init__.py', 'glance/tests/unit/api/test_cmd.py', 'glance/api/v2/images.py', 'glance/common/config.py', 'glance/api/common.py', 'glance/tests/unit/async_/test_taskflow_executor.py', 'glance/cmd/api.py', 'glance/tests/functional/__init__.py', 'glance/async_/taskflow_executor.py', 'glance/async_/__init__.py', 'glance/common/wsgi_app.py', 'glance/tests/unit/common/test_wsgi_app.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/16a5431c665adadbfcb9909cf3a73334d796c19a', 'message': 'Make glance-api able to do async tasks in WSGI mode\n\nThis teaches glance-api how to do async threading things when it is\nrunning in pure-WSGI mode. In order to do that, a refactoring of things\nthat currently depend on eventlet is required.\n\nIt adds a [wsgi]/task_pool_threads configuration knob, which is used\nin the case of pure-WSGI and native threads to constrain the number\nof threads in that pool (and thus the task parallelism). This will\nallow tuning by the operator, but also lets us default that to just\na single thread in the backport of these fixes so that we can avoid\nintroducing a new larger footprint in the backport unexpectedly.\n\nPartial-Bug: #1888713\nDepends-On: https://review.opendev.org/#/c/742047/\nChange-Id: Ie15028b75fb8518ec2b0c0c0386d21782166f759\n'}]",8,742065,16a5431c665adadbfcb9909cf3a73334d796c19a,57,8,9,4393,,,0,"Make glance-api able to do async tasks in WSGI mode

This teaches glance-api how to do async threading things when it is
running in pure-WSGI mode. In order to do that, a refactoring of things
that currently depend on eventlet is required.

It adds a [wsgi]/task_pool_threads configuration knob, which is used
in the case of pure-WSGI and native threads to constrain the number
of threads in that pool (and thus the task parallelism). This will
allow tuning by the operator, but also lets us default that to just
a single thread in the backport of these fixes so that we can avoid
introducing a new larger footprint in the backport unexpectedly.

Partial-Bug: #1888713
Depends-On: https://review.opendev.org/#/c/742047/
Change-Id: Ie15028b75fb8518ec2b0c0c0386d21782166f759
",git fetch https://review.opendev.org/openstack/glance refs/changes/65/742065/4 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/images.py', 'glance/api/v2/tasks.py', 'glance/api/common.py', '.zuul.yaml', 'glance/cmd/api.py', 'glance/async_/taskflow_executor.py', 'glance/async_/__init__.py', 'glance/common/wsgi_app.py']",8,2ba6fe0b0730d5cdb31ddcf2b95542422f200a13,async-native-threads,"import glance.async_ # NOTE(danms): We are running inside uwsgi or mod_wsgi, so no eventlet; # use native threading instead. glance.async_.set_threadpool_model('native') ",,133,15
openstack%2Fkolla-ansible~stable%2Fstein~Id52668ba8dab460ad4c33fad430fc8611e70825e,openstack/kolla-ansible,stable/stein,Id52668ba8dab460ad4c33fad430fc8611e70825e,Load br_netfilter module in nova-cell role,MERGED,2020-07-13 09:44:01.000000000,2020-07-27 15:37:35.000000000,2020-07-27 15:32:24.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-13 09:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c2d2066ae391e8db05144a7e27ce826d79e72ea0', 'message': ""Load br_netfilter module in nova-cell role\n\nThe nova-cell role sets the following sysctls on compute hosts, which\nrequire the br_netfilter kernel module to be loaded:\n\n    net.bridge.bridge-nf-call-iptables\n    net.bridge.bridge-nf-call-ip6tables\n\nIf it is not loaded, then we see the following errors:\n\n    Failed to reload sysctl:\n    sysctl: cannot stat /proc/sys/net/bridge/bridge-nf-call-iptables: No such file or directory\n    sysctl: cannot stat /proc/sys/net/bridge/bridge-nf-call-ip6tables: No such file or directory\n\nLoading the br_netfilter module resolves this issue.\n\nTypically we do not see this since installing Docker and configuring it\nto manage iptables rules causes the br_netfilter module to be loaded.\nThere are good reasons [1] to disable Docker's iptables management\nhowever, in which case we are likely to hit this issue.\n\nThis change loads the br_netfilter module in the nova-cell role for\ncompute hosts.\n\n[1] https://bugs.launchpad.net/kolla-ansible/+bug/1849275\n\nCo-Authored-By: Dincer Celik <hello@dincercelik.com>\n\nCloses-Bug: #1886796\n\nChange-Id: Id52668ba8dab460ad4c33fad430fc8611e70825e\n(cherry picked from commit 2f91be9f391f3aa5ef80248ca821b3f34e73bf24)\n""}, {'number': 2, 'created': '2020-07-20 12:15:39.000000000', 'files': ['releasenotes/notes/load-br-netfilter-4ce9facd93e96af7.yaml', 'ansible/roles/nova/tasks/config-host.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/29b6bc128ebcb3dd446fd9869ea2358d2fa5314d', 'message': ""Load br_netfilter module in nova-cell role\n\nThe nova-cell role sets the following sysctls on compute hosts, which\nrequire the br_netfilter kernel module to be loaded:\n\n    net.bridge.bridge-nf-call-iptables\n    net.bridge.bridge-nf-call-ip6tables\n\nIf it is not loaded, then we see the following errors:\n\n    Failed to reload sysctl:\n    sysctl: cannot stat /proc/sys/net/bridge/bridge-nf-call-iptables: No such file or directory\n    sysctl: cannot stat /proc/sys/net/bridge/bridge-nf-call-ip6tables: No such file or directory\n\nLoading the br_netfilter module resolves this issue.\n\nTypically we do not see this since installing Docker and configuring it\nto manage iptables rules causes the br_netfilter module to be loaded.\nThere are good reasons [1] to disable Docker's iptables management\nhowever, in which case we are likely to hit this issue.\n\nThis change loads the br_netfilter module in the nova-cell role for\ncompute hosts.\n\n[1] https://bugs.launchpad.net/kolla-ansible/+bug/1849275\n\nCo-Authored-By: Dincer Celik <hello@dincercelik.com>\n\nCloses-Bug: #1886796\n\nChange-Id: Id52668ba8dab460ad4c33fad430fc8611e70825e\n(cherry picked from commit 2f91be9f391f3aa5ef80248ca821b3f34e73bf24)\n""}]",0,740650,29b6bc128ebcb3dd446fd9869ea2358d2fa5314d,21,3,2,14826,,,0,"Load br_netfilter module in nova-cell role

The nova-cell role sets the following sysctls on compute hosts, which
require the br_netfilter kernel module to be loaded:

    net.bridge.bridge-nf-call-iptables
    net.bridge.bridge-nf-call-ip6tables

If it is not loaded, then we see the following errors:

    Failed to reload sysctl:
    sysctl: cannot stat /proc/sys/net/bridge/bridge-nf-call-iptables: No such file or directory
    sysctl: cannot stat /proc/sys/net/bridge/bridge-nf-call-ip6tables: No such file or directory

Loading the br_netfilter module resolves this issue.

Typically we do not see this since installing Docker and configuring it
to manage iptables rules causes the br_netfilter module to be loaded.
There are good reasons [1] to disable Docker's iptables management
however, in which case we are likely to hit this issue.

This change loads the br_netfilter module in the nova-cell role for
compute hosts.

[1] https://bugs.launchpad.net/kolla-ansible/+bug/1849275

Co-Authored-By: Dincer Celik <hello@dincercelik.com>

Closes-Bug: #1886796

Change-Id: Id52668ba8dab460ad4c33fad430fc8611e70825e
(cherry picked from commit 2f91be9f391f3aa5ef80248ca821b3f34e73bf24)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/50/740650/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/load-br-netfilter-4ce9facd93e96af7.yaml', 'ansible/roles/nova/tasks/config-host.yml']",2,c2d2066ae391e8db05144a7e27ce826d79e72ea0,bug/1886796,- name: Load and persist br_netfilter module include_role: name: module-load vars: modules: - { name: br_netfilter } when: - inventory_hostname in groups[nova_cell_compute_group] ,,15,0
openstack%2Frequirements~master~Iaab886da7a3fcc1a8ee64ad492fa3abb7c088f10,openstack/requirements,master,Iaab886da7a3fcc1a8ee64ad492fa3abb7c088f10,update constraint for XStatic-moment to new release 2.8.4.3,MERGED,2020-07-27 06:25:38.000000000,2020-07-27 15:33:11.000000000,2020-07-27 15:30:28.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-27 06:25:38.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/74becbee80210556440e96b34586d4fa36b61110', 'message': 'update constraint for XStatic-moment to new release 2.8.4.3\n\nChange-Id: Iaab886da7a3fcc1a8ee64ad492fa3abb7c088f10\nmeta:version: 2.8.4.3\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Thierry Carrez <thierry@openstack.org>\nmeta:release:Commit: Thierry Carrez <thierry@openstack.org>\nmeta:release:Change-Id: I340dc838d5049b85750e622a5fdefdd847b4954f\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Ivan Kolodyazhny <e0ne@e0ne.info>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+1: Eyal <eyal.bar-ilan@nokia.com>\nmeta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\n'}]",0,743155,74becbee80210556440e96b34586d4fa36b61110,9,3,1,11131,,,0,"update constraint for XStatic-moment to new release 2.8.4.3

Change-Id: Iaab886da7a3fcc1a8ee64ad492fa3abb7c088f10
meta:version: 2.8.4.3
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Thierry Carrez <thierry@openstack.org>
meta:release:Commit: Thierry Carrez <thierry@openstack.org>
meta:release:Change-Id: I340dc838d5049b85750e622a5fdefdd847b4954f
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Ivan Kolodyazhny <e0ne@e0ne.info>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+1: Eyal <eyal.bar-ilan@nokia.com>
meta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/55/743155/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,74becbee80210556440e96b34586d4fa36b61110,new-release,XStatic-moment===2.8.4.3,XStatic-moment===2.8.4.2,1,1
openstack%2Frequirements~master~Id76b91f8a490152beaeacc3904ac15f6562357dd,openstack/requirements,master,Id76b91f8a490152beaeacc3904ac15f6562357dd,update constraint for os-net-config to new release 12.4.0,MERGED,2020-07-27 06:16:32.000000000,2020-07-27 15:31:51.000000000,2020-07-27 15:26:34.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-27 06:16:32.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7430270eb6abd4e4a54995f779fdd7632c045055', 'message': 'update constraint for os-net-config to new release 12.4.0\n\nChange-Id: Id76b91f8a490152beaeacc3904ac15f6562357dd\nmeta:version: 12.4.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: yes\nmeta:release:Author: Wes Hayutin <weshayutin@gmail.com>\nmeta:release:Commit: wes hayutin <whayutin@redhat.com>\nmeta:release:Change-Id: I65232a3102b8a061006524b7f9b967dfbb38e8f6\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: wes hayutin <whayutin@redhat.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\n'}]",0,743152,7430270eb6abd4e4a54995f779fdd7632c045055,9,3,1,11131,,,0,"update constraint for os-net-config to new release 12.4.0

Change-Id: Id76b91f8a490152beaeacc3904ac15f6562357dd
meta:version: 12.4.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: no
meta:first: yes
meta:release:Author: Wes Hayutin <weshayutin@gmail.com>
meta:release:Commit: wes hayutin <whayutin@redhat.com>
meta:release:Change-Id: I65232a3102b8a061006524b7f9b967dfbb38e8f6
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: wes hayutin <whayutin@redhat.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/52/743152/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7430270eb6abd4e4a54995f779fdd7632c045055,new-release,os-net-config===12.4.0,os-net-config===12.3.0,1,1
openstack%2Fwhitebox-tempest-plugin~master~I7b0c3635298b68981d9c460769a4d4ac9805357a,openstack/whitebox-tempest-plugin,master,I7b0c3635298b68981d9c460769a4d4ac9805357a,Smarter Nova service management,MERGED,2020-06-18 19:54:25.000000000,2020-07-27 15:30:48.000000000,2020-07-27 15:30:48.000000000,"[{'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-18 19:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/d759c7fb76b1893f601d00413f92203b1bdf91c5', 'message': ""WIP: Smarter Nova service management\n\nThis patch introduces a new NovaServiceManager class. This class uses\nNova's os-services API to make sure the service is actually up or\ndown, instead of dumbly sleep()ing.\n\nChange-Id: I7b0c3635298b68981d9c460769a4d4ac9805357a\n""}, {'number': 2, 'created': '2020-06-19 01:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/bbe3544d37024c5a1ec20d6f425dfa1553f82545', 'message': ""WIP: Smarter Nova service management\n\nThis patch introduces a new NovaServiceManager class. This class uses\nNova's os-services API to make sure the service is actually up or\ndown, instead of dumbly sleep()ing.\n\nChange-Id: I7b0c3635298b68981d9c460769a4d4ac9805357a\n""}, {'number': 3, 'created': '2020-06-19 02:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/18ef17f173a6ffe86eefb79c0f88257d1c931756', 'message': ""WIP: Smarter Nova service management\n\nThis patch introduces a new NovaServiceManager class. This class uses\nNova's os-services API to make sure the service is actually up or\ndown, instead of dumbly sleep()ing.\n\nChange-Id: I7b0c3635298b68981d9c460769a4d4ac9805357a\n""}, {'number': 4, 'created': '2020-06-19 13:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/980b56232be92ce9297df6a98e46c17e538c2de5', 'message': ""Smarter Nova service management\n\nThis patch introduces a new NovaServiceManager class. This class uses\nNova's os-services API to make sure the service is actually up or\ndown, instead of dumbly sleep()ing.\n\nChange-Id: I7b0c3635298b68981d9c460769a4d4ac9805357a\n""}, {'number': 5, 'created': '2020-06-22 14:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/aacc40a178ef46171cc94c4f242ef5cfb83343be', 'message': ""Smarter Nova service management\n\nThis patch introduces a new NovaServiceManager class. This class uses\nNova's os-services API to make sure the service is actually up or\ndown, instead of dumbly sleep()ing.\n\nChange-Id: I7b0c3635298b68981d9c460769a4d4ac9805357a\n""}, {'number': 6, 'created': '2020-06-22 16:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/b06ff18fceb127cf3d8fed348c84d710c5a67985', 'message': ""Smarter Nova service management\n\nThis patch introduces a new NovaServiceManager class. This class uses\nNova's os-services API to make sure the service is actually up or\ndown, instead of dumbly sleep()ing.\n\nChange-Id: I7b0c3635298b68981d9c460769a4d4ac9805357a\n""}, {'number': 7, 'created': '2020-06-22 17:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/e874f620dcd9fe326269d29fa2e88d82b0488042', 'message': ""Smarter Nova service management\n\nThis patch introduces a new NovaServiceManager class. This class uses\nNova's os-services API to make sure the service is actually up or\ndown, instead of dumbly sleep()ing.\n\nChange-Id: I7b0c3635298b68981d9c460769a4d4ac9805357a\n""}, {'number': 8, 'created': '2020-06-22 19:24:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/e07d8028c0c37ac74f0f6e74f7b96c882c038b21', 'message': ""Smarter Nova service management\n\nThis patch introduces a new NovaServiceManager class. This class uses\nNova's os-services API to make sure the service is actually up or\ndown, instead of dumbly sleep()ing.\n\nBecause the restart() method now calls stop and start in sequence, the\n[whitebox-nova-compute]/restart_command config option is no longer\nnecessary, and has been removed. In its place, a new\n[whitebox-nova-compute]/start_command option is needed.\n\nChange-Id: I7b0c3635298b68981d9c460769a4d4ac9805357a\n""}, {'number': 9, 'created': '2020-06-22 20:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/720ddcaeea315102311a23616b576809550aca69', 'message': ""Smarter Nova service management\n\nThis patch introduces a new NovaServiceManager class. This class uses\nNova's os-services API to make sure the service is actually up or\ndown, instead of dumbly sleep()ing.\n\nBecause the restart() method now calls stop and start in sequence, the\n[whitebox-nova-compute]/restart_command config option is no longer\nnecessary, and has been removed. In its place, a new\n[whitebox-nova-compute]/start_command option is needed.\n\nChange-Id: I7b0c3635298b68981d9c460769a4d4ac9805357a\n""}, {'number': 10, 'created': '2020-07-06 20:01:12.000000000', 'files': ['whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/common/__init__.py', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'devstack/plugin.sh', 'whitebox_tempest_plugin/config.py', 'whitebox_tempest_plugin/tests/test_clients.py', 'whitebox_tempest_plugin/common/waiters.py', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/60556a3f857b474428d04db84e7045013cf87545', 'message': ""Smarter Nova service management\n\nThis patch introduces a new NovaServiceManager class. This class uses\nNova's os-services API to make sure the service is actually up or\ndown, instead of dumbly sleep()ing.\n\nBecause the restart() method now calls stop and start in sequence, the\n[whitebox-nova-compute]/restart_command config option is no longer\nnecessary, and has been removed. In its place, a new\n[whitebox-nova-compute]/start_command option is needed.\n\nChange-Id: I7b0c3635298b68981d9c460769a4d4ac9805357a\n""}]",12,736820,60556a3f857b474428d04db84e7045013cf87545,40,3,10,8864,,,0,"Smarter Nova service management

This patch introduces a new NovaServiceManager class. This class uses
Nova's os-services API to make sure the service is actually up or
down, instead of dumbly sleep()ing.

Because the restart() method now calls stop and start in sequence, the
[whitebox-nova-compute]/restart_command config option is no longer
necessary, and has been removed. In its place, a new
[whitebox-nova-compute]/start_command option is needed.

Change-Id: I7b0c3635298b68981d9c460769a4d4ac9805357a
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/20/736820/10 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/common/waiters.py']",3,d759c7fb76b1893f601d00413f92203b1bdf91c5,,"# Copyright 2020 # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import time from tempest.lib import exceptions as lib_exc def wait_for_nova_service_status(client, host, binary, status): timeout = client.build_timeout start_time = int(time.time()) # NOTE(artom) Assumes that the (host, binary) combination will yield a # unique service. There is no service in Nova that can run multiple copies # on the same host. service = client.list_services(host=host, binary=binary)['services'][0] while service['status'] != status: time.sleep(client.build_interval) timed_out = int(time.time()) - start_time >= timeout if timed_out: raise lib_exc.TimeoutException( 'Service %s on host %s failed to reach status %s within ' 'the required time (%s s)', binary, host, timeout) service = client.list_services(host=host, binary=binary)['services'][0] ",,62,6
openstack%2Fwhitebox-tempest-plugin~master~Ib98ff29a38dfaaeff144958c3e0ac3c141429ba9,openstack/whitebox-tempest-plugin,master,Ib98ff29a38dfaaeff144958c3e0ac3c141429ba9,Trivial: use condition instead of try/except,MERGED,2020-06-19 13:37:02.000000000,2020-07-27 15:30:47.000000000,2020-07-27 15:30:47.000000000,"[{'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-19 13:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/17fc2b17646a0a12c9dc71241c8d9c654a6a327f', 'message': ""Trivial: use condition instead of try/except\n\nWhen getting a service's config, stop using try/except to tell if the\nconf exists, and instead use a cleaner `if hasattr`.\n\nChange-Id: Ib98ff29a38dfaaeff144958c3e0ac3c141429ba9\n""}, {'number': 2, 'created': '2020-06-22 14:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/3e7cd22022cedca456687c745ae673f92830d9c3', 'message': ""Trivial: use condition instead of try/except\n\nWhen getting a service's config, stop using try/except to tell if the\nconf exists, and instead use a cleaner `if hasattr`.\n\nChange-Id: Ib98ff29a38dfaaeff144958c3e0ac3c141429ba9\n""}, {'number': 3, 'created': '2020-06-22 19:24:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/9acacffc535de5a03bedb87decdbda9f1106c91c', 'message': ""Trivial: use condition instead of try/except\n\nWhen getting a service's config, stop using try/except to tell if the\nconf exists, and instead use a cleaner `if hasattr`.\n\nChange-Id: Ib98ff29a38dfaaeff144958c3e0ac3c141429ba9\n""}, {'number': 4, 'created': '2020-07-06 20:01:12.000000000', 'files': ['whitebox_tempest_plugin/services/clients.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/345b440b2b8f4d3062d38a17e5de7d4688cb9485', 'message': ""Trivial: use condition instead of try/except\n\nWhen getting a service's config, stop using try/except to tell if the\nconf exists, and instead use a cleaner `if hasattr`.\n\nChange-Id: Ib98ff29a38dfaaeff144958c3e0ac3c141429ba9\n""}]",3,737005,345b440b2b8f4d3062d38a17e5de7d4688cb9485,24,3,4,8864,,,0,"Trivial: use condition instead of try/except

When getting a service's config, stop using try/except to tell if the
conf exists, and instead use a cleaner `if hasattr`.

Change-Id: Ib98ff29a38dfaaeff144958c3e0ac3c141429ba9
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/05/737005/2 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/services/clients.py'],1,17fc2b17646a0a12c9dc71241c8d9c654a6a327f,," if hasattr(CONF, 'whitebox-%s' % service): else:", try: except AttributeError:,2,2
openstack%2Frequirements~master~I7539eb1c12627b8d27d2ab45648dc72457eb9728,openstack/requirements,master,I7539eb1c12627b8d27d2ab45648dc72457eb9728,update constraint for XStatic-Dagre to new release 0.6.4.1,MERGED,2020-07-27 06:18:45.000000000,2020-07-27 15:26:36.000000000,2020-07-27 15:26:35.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-27 06:18:45.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8ed77c4aaf2713335eab61e290748fce455ca03f', 'message': 'update constraint for XStatic-Dagre to new release 0.6.4.1\n\nChange-Id: I7539eb1c12627b8d27d2ab45648dc72457eb9728\nmeta:version: 0.6.4.1\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Thierry Carrez <thierry@openstack.org>\nmeta:release:Commit: Thierry Carrez <thierry@openstack.org>\nmeta:release:Change-Id: I340dc838d5049b85750e622a5fdefdd847b4954f\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Ivan Kolodyazhny <e0ne@e0ne.info>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+1: Eyal <eyal.bar-ilan@nokia.com>\nmeta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\n'}]",0,743154,8ed77c4aaf2713335eab61e290748fce455ca03f,8,3,1,11131,,,0,"update constraint for XStatic-Dagre to new release 0.6.4.1

Change-Id: I7539eb1c12627b8d27d2ab45648dc72457eb9728
meta:version: 0.6.4.1
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Thierry Carrez <thierry@openstack.org>
meta:release:Commit: Thierry Carrez <thierry@openstack.org>
meta:release:Change-Id: I340dc838d5049b85750e622a5fdefdd847b4954f
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Ivan Kolodyazhny <e0ne@e0ne.info>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+1: Eyal <eyal.bar-ilan@nokia.com>
meta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/54/743154/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8ed77c4aaf2713335eab61e290748fce455ca03f,new-release,XStatic-Dagre===0.6.4.1,XStatic-Dagre===0.6.4.0,1,1
openstack%2Fpuppet-cinder~master~I520af0a537236234347ad74b15cd51d72fcec05d,openstack/puppet-cinder,master,I520af0a537236234347ad74b15cd51d72fcec05d,Support for Dell EMC PowerStore Cinder Backend,MERGED,2020-07-20 21:36:03.000000000,2020-07-27 15:24:58.000000000,2020-07-27 15:22:55.000000000,"[{'_account_id': 3153}, {'_account_id': 7160}, {'_account_id': 9816}, {'_account_id': 10379}, {'_account_id': 13671}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 31016}]","[{'number': 1, 'created': '2020-07-20 21:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/dae8434aff6dccdd3d084614043d2dc01f57013b', 'message': 'Support for Dell EMC PowerStore Cinder Backend\n\nAdding support for PowerStore Volume Backend Driver\n\nChange-Id: I520af0a537236234347ad74b15cd51d72fcec05d\n'}, {'number': 2, 'created': '2020-07-20 21:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/61eec11c9705b411dbf4d1a75dc8238c90f49433', 'message': 'Support for Dell EMC PowerStore Cinder Backend\n\nAdding support for PowerStore Volume Backend Driver\n\nChange-Id: I520af0a537236234347ad74b15cd51d72fcec05d\n'}, {'number': 3, 'created': '2020-07-22 20:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/18f0234128157ba6ad6560365bb8caf1de5d563c', 'message': 'Support for Dell EMC PowerStore Cinder Backend\n\nAdding support for PowerStore Volume Backend Driver\n\nDepends-On: https://review.opendev.org/#/c/741158/\nChange-Id: I520af0a537236234347ad74b15cd51d72fcec05d\n'}, {'number': 4, 'created': '2020-07-22 21:33:54.000000000', 'files': ['manifests/backend/dellemc_powerstore.pp', 'releasenotes/notes/powerstore-driver-c6cd300a24a64b01.yaml', 'spec/defines/cinder_backend_dellemc_powerstore_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/e13e0985807a4bfed1bc9d28410d7dd0a88674a1', 'message': 'Support for Dell EMC PowerStore Cinder Backend\n\nAdding support for PowerStore Volume Backend Driver\n\nDepends-On: https://review.opendev.org/#/c/741158/\nChange-Id: I520af0a537236234347ad74b15cd51d72fcec05d\n'}]",4,742031,e13e0985807a4bfed1bc9d28410d7dd0a88674a1,20,8,4,10379,,,0,"Support for Dell EMC PowerStore Cinder Backend

Adding support for PowerStore Volume Backend Driver

Depends-On: https://review.opendev.org/#/c/741158/
Change-Id: I520af0a537236234347ad74b15cd51d72fcec05d
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/31/742031/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/dellemc_powerstore.pp', 'releasenotes/notes/powerstore-driver-c6cd300a24a64b01.yaml', 'spec/defines/cinder_backend_dellemc_powerstore_spec.rb']",3,dae8434aff6dccdd3d084614043d2dc01f57013b,powerstore,"require 'spec_helper' describe 'cinder::backend::dellemc_powerstore' do let (:config_group_name) { 'dellemc_powerstore' } let (:title) { config_group_name } let :params do { :san_ip => '172.23.8.101', :san_login => 'Admin', :san_password => '12345', :powerstore_appliances => 'Appliance-1', :powerstore_ports => '58:cc:f0:98:49:22:07:02,58:cc:f0:98:49:23:07:02', } end let :default_params do { :backend_availability_zone => '<SERVICE DEFAULT>', :storage_protocol => 'iSCSI' , } end let :custom_params do { :backend_availability_zone => 'my_zone', :storage_protocol => 'iSCSI' , } end shared_examples 'dellemc_powerstore volume driver' do let :params_hash do default_params.merge(params) end it { is_expected.to contain_cinder__backend__dellemc_powerstore(config_group_name) is_expected.to contain_cinder_config(""#{title}/volume_driver"").with_value('cinder.volume.drivers.dell_emc.powerstore.driver.PowerStoreDriver') } it { params_hash.each_pair do |config,value| is_expected.to contain_cinder_config(""#{config_group_name}/#{config}"").with_value( value ) end } end context 'with storage_protocol set to FC' do before do params.merge!(:storage_protocol => 'FC',) end it 'should configure the FC driver' do is_expected.to contain_cinder_config(""#{title}/volume_driver"").with_value( 'cinder.volume.drivers.dell_emc.powerstore.driver.PowerStoreDriver' ) end end context 'with an invalid storage_protocol' do before do params.merge!(:storage_protocol => 'BAD',) end it 'should raise an error' do is_expected.to compile.and_raise_error( /The cinder::backend::dellemc_powerstore storage_protocol specified is not valid. It should be iSCSI or FC/ ) end end shared_examples 'cinder::backend::dellemc_powerstore' do context 'with default parameters' do it_behaves_like 'dellemc_powerstore volume driver' end context 'with custom parameters' do before do params.merge(custom_params) end it_behaves_like 'dellemc_powerstore volume driver' end context 'dellemc_powerstore backend with additional configuration' do before do params.merge!( :extra_options => {'dellemc_powerstore/param1' => { 'value' => 'value1' }} ) end it { is_expected.to contain_cinder_config('dellemc_powerstore/param1').with_value('value1') } end context 'dellemc_powerstore backend with cinder type' do before do params.merge!({:manage_volume_type => true}) end it { is_expected.to contain_cinder_type('dellemc_powerstore').with( :ensure => 'present', :properties => ['volume_backend_name=dellemc_powerstore'] )} end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end it_behaves_like 'cinder::backend::dellemc_powerstore' end end end ",,216,0
openstack%2Fopenstack-ansible~stable%2Fussuri~I3a99bfb3fec9f47d407ec6f6555094836aedb785,openstack/openstack-ansible,stable/ussuri,I3a99bfb3fec9f47d407ec6f6555094836aedb785,Ensure distro packages are present for utility wheel build,MERGED,2020-07-22 13:40:16.000000000,2020-07-27 15:21:37.000000000,2020-07-27 15:19:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-22 13:40:16.000000000', 'files': ['inventory/group_vars/utility_all.yml', 'playbooks/utility-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/621705d7229c435cd9082d158ac92ce05766709d', 'message': 'Ensure distro packages are present for utility wheel build\n\nThe python packages installed into the utility container require\ngcc and the python development packages to be present in order to\nbuild the wheels.\n\nChange-Id: I3a99bfb3fec9f47d407ec6f6555094836aedb785\n(cherry picked from commit abf978005752c75032f362f3bd1eaa4f70155ad4)\n'}]",0,742429,621705d7229c435cd9082d158ac92ce05766709d,10,3,1,28619,,,0,"Ensure distro packages are present for utility wheel build

The python packages installed into the utility container require
gcc and the python development packages to be present in order to
build the wheels.

Change-Id: I3a99bfb3fec9f47d407ec6f6555094836aedb785
(cherry picked from commit abf978005752c75032f362f3bd1eaa4f70155ad4)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/29/742429/1 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/utility_all.yml', 'playbooks/utility-install.yml']",2,621705d7229c435cd9082d158ac92ce05766709d,," venv_build_distro_package_list: ""{{ utility_devel_distro_packages }}""",,12,0
openstack%2Frequirements~master~I7c7eb8b7876fedd381ff9fa5e64fb7edbf2d1e5f,openstack/requirements,master,I7c7eb8b7876fedd381ff9fa5e64fb7edbf2d1e5f,update constraint for tripleo-common to new release 12.5.0,MERGED,2020-07-27 06:09:43.000000000,2020-07-27 14:59:43.000000000,2020-07-27 14:58:17.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-27 06:09:43.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d207f5ad0f66e5d299c0dc1c5ed158c765511977', 'message': 'update constraint for tripleo-common to new release 12.5.0\n\nChange-Id: I7c7eb8b7876fedd381ff9fa5e64fb7edbf2d1e5f\nmeta:version: 12.5.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: yes\nmeta:release:Author: Wes Hayutin <weshayutin@gmail.com>\nmeta:release:Commit: wes hayutin <whayutin@redhat.com>\nmeta:release:Change-Id: I65232a3102b8a061006524b7f9b967dfbb38e8f6\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: wes hayutin <whayutin@redhat.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\n'}]",0,743150,d207f5ad0f66e5d299c0dc1c5ed158c765511977,9,3,1,11131,,,0,"update constraint for tripleo-common to new release 12.5.0

Change-Id: I7c7eb8b7876fedd381ff9fa5e64fb7edbf2d1e5f
meta:version: 12.5.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: no
meta:first: yes
meta:release:Author: Wes Hayutin <weshayutin@gmail.com>
meta:release:Commit: wes hayutin <whayutin@redhat.com>
meta:release:Change-Id: I65232a3102b8a061006524b7f9b967dfbb38e8f6
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: wes hayutin <whayutin@redhat.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/50/743150/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d207f5ad0f66e5d299c0dc1c5ed158c765511977,new-release,tripleo-common===12.5.0,tripleo-common===12.4.0,1,1
openstack%2Fovn-octavia-provider~master~I0611c41b472e2d3c02f50e5569088471a3419314,openstack/ovn-octavia-provider,master,I0611c41b472e2d3c02f50e5569088471a3419314,Omit tests directory while couting the coverage report,MERGED,2020-07-27 12:55:58.000000000,2020-07-27 14:52:33.000000000,2020-07-27 14:50:51.000000000,"[{'_account_id': 6773}, {'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2020-07-27 12:55:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/0ab18680d33e01933521dd12f7e1aca8971521fb', 'message': 'Omit tests directory while couting the coverage report\n\nWe forgot to omit tests directory.\n\nChange-Id: I0611c41b472e2d3c02f50e5569088471a3419314\n'}, {'number': 2, 'created': '2020-07-27 13:23:44.000000000', 'files': ['.coveragerc', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/2da9f3df10c22d1fc5590fb30736d55287dbf21c', 'message': 'Omit tests directory while couting the coverage report\n\nWe forgot to omit tests directory.\nBy side-effect of it we can increase the coverage to 90% :D\n\nChange-Id: I0611c41b472e2d3c02f50e5569088471a3419314\n'}]",0,743218,2da9f3df10c22d1fc5590fb30736d55287dbf21c,12,4,2,24791,,,0,"Omit tests directory while couting the coverage report

We forgot to omit tests directory.
By side-effect of it we can increase the coverage to 90% :D

Change-Id: I0611c41b472e2d3c02f50e5569088471a3419314
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/18/743218/2 && git format-patch -1 --stdout FETCH_HEAD,['.coveragerc'],1,0ab18680d33e01933521dd12f7e1aca8971521fb,,[run] branch = True source = ovn_octavia_provider omit = ovn_octavia_provider/tests/* [report] ignore_errors = True ,,7,0
openstack%2Fdevstack-plugin-ceph~master~I4e5233df826af6eeddc4e77820958909d4fe7d45,openstack/devstack-plugin-ceph,master,I4e5233df826af6eeddc4e77820958909d4fe7d45,Set the bluestore block size,MERGED,2020-07-24 18:24:05.000000000,2020-07-27 14:34:11.000000000,2020-07-27 14:32:19.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 9003}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-07-24 18:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/8f61f93c64fe2ec1eebd5f4b84575329f25987f6', 'message': 'WIP: Try setting the bluestore block size\n\nIt looks like the default bluestore that came with nautilus\nis limiting us to a for-testing size of 10G regardless of what the\nactual ceph volume is supposed to be. Try setting it to the size\nwe want (minus some room for overhead).\n\nChange-Id: I4e5233df826af6eeddc4e77820958909d4fe7d45\n'}, {'number': 2, 'created': '2020-07-24 19:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/131bfcd834ae7d478797b63e2fb06dda8bb734df', 'message': 'WIP: Try setting the bluestore block size\n\nIt looks like the default bluestore that came with nautilus\nis limiting us to a for-testing size of 10G regardless of what the\nactual ceph volume is supposed to be. Try setting it to the size\nwe want (minus some room for overhead).\n\nChange-Id: I4e5233df826af6eeddc4e77820958909d4fe7d45\n'}, {'number': 3, 'created': '2020-07-24 21:46:52.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/5a0a36f1591d71c0a95a6f04e80d5c503c958646', 'message': 'Set the bluestore block size\n\nIt looks like the default bluestore that came with nautilus\nis limiting us to a for-testing size of 10G regardless of what the\nactual ceph volume is supposed to be. Try setting it to the size\nwe want (minus some room for overhead).\n\nCloses-Bug: #1888895\nChange-Id: I4e5233df826af6eeddc4e77820958909d4fe7d45\n'}]",4,742961,5a0a36f1591d71c0a95a6f04e80d5c503c958646,25,9,3,4393,,,0,"Set the bluestore block size

It looks like the default bluestore that came with nautilus
is limiting us to a for-testing size of 10G regardless of what the
actual ceph volume is supposed to be. Try setting it to the size
we want (minus some room for overhead).

Closes-Bug: #1888895
Change-Id: I4e5233df826af6eeddc4e77820958909d4fe7d45
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/61/742961/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,8f61f93c64fe2ec1eebd5f4b84575329f25987f6,bug/1888895," iniset -sudo ${CEPH_CONF_FILE} global ""bluestore_block_size"" $((($CEPH_LOOPBACK_DISK_SIZE - 4) << 30))",,1,0
openstack%2Fopenstack-ansible~master~I3617f0905c65c8da741057c09d90d9f53968f081,openstack/openstack-ansible,master,I3617f0905c65c8da741057c09d90d9f53968f081,Bump SHAs for master,MERGED,2020-07-26 15:54:00.000000000,2020-07-27 13:59:57.000000000,2020-07-27 13:53:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-26 15:54:00.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/glance_registry-0a1a1f8c60f5a368.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'releasenotes/notes/drop-machinectl-5053dc9833535cd9.yaml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'playbooks/defaults/repo_packages/openstack_testing.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a7aa4c72c4c091f27486c205155b77162b78a484', 'message': 'Bump SHAs for master\n\nChange-Id: I3617f0905c65c8da741057c09d90d9f53968f081\n'}]",0,743061,a7aa4c72c4c091f27486c205155b77162b78a484,10,3,1,28619,,,0,"Bump SHAs for master

Change-Id: I3617f0905c65c8da741057c09d90d9f53968f081
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/61/743061/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/glance_registry-0a1a1f8c60f5a368.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'releasenotes/notes/drop-machinectl-5053dc9833535cd9.yaml', 'playbooks/defaults/repo_packages/openstack_testing.yml']",6,a7aa4c72c4c091f27486c205155b77162b78a484,bump_osa,tempest_git_install_branch: 50ec7d74c392d364c18aaf0faaca26b8ff7a4809 # HEAD as of 26.07.2020,tempest_git_install_branch: fdde1314db23e907159ad1288a6189aa0e577abf # HEAD as of 28.06.2020,62,50
openstack%2Fopenstack-ansible~stable%2Fussuri~I4130e762ef92103d2fb95b1efe3e2f2cfc5479a6,openstack/openstack-ansible,stable/ussuri,I4130e762ef92103d2fb95b1efe3e2f2cfc5479a6,Fix gate job for aio_metal template,MERGED,2020-07-25 14:00:00.000000000,2020-07-27 13:59:49.000000000,2020-07-27 13:53:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-25 14:00:00.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d25d301c3d47abfcf24f18e43d422b8f718d9c97', 'message': 'Fix gate job for aio_metal template\n\nCentOS 8 gate job has been mistakingly set to lxc one inside\nmetal template.\n\nChange-Id: I4130e762ef92103d2fb95b1efe3e2f2cfc5479a6\n(cherry picked from commit d1577b9585df8deabddc794cb5527a81e554e82b)\n'}]",0,743031,d25d301c3d47abfcf24f18e43d422b8f718d9c97,8,3,1,28619,,,0,"Fix gate job for aio_metal template

CentOS 8 gate job has been mistakingly set to lxc one inside
metal template.

Change-Id: I4130e762ef92103d2fb95b1efe3e2f2cfc5479a6
(cherry picked from commit d1577b9585df8deabddc794cb5527a81e554e82b)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/31/743031/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,d25d301c3d47abfcf24f18e43d422b8f718d9c97,, - openstack-ansible-deploy-aio_metal-centos-8, - openstack-ansible-deploy-aio_lxc-centos-8,1,1
openstack%2Fnova~master~I7496ce2e11959331a3e78b7d3bfbb748122c1876,openstack/nova,master,I7496ce2e11959331a3e78b7d3bfbb748122c1876,DNM - test Nova UT that depends on os-brick patch,ABANDONED,2020-05-28 02:18:58.000000000,2020-07-27 13:56:56.000000000,,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-28 02:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/930bb1e590c838ab17dd201e09970013746cecd9', 'message': 'DNM - test Nova UT that depends on os-brick patch\n\nDepends-On: https://review.opendev.org/#/c/663549/\nDepends-On: https://review.opendev.org/#/c/700799/\nChange-Id: I7496ce2e11959331a3e78b7d3bfbb748122c1876\n'}, {'number': 2, 'created': '2020-05-28 10:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0fc88c41b442f140b73c378daf98c8d5a0fa585', 'message': 'DNM - test Nova UT that depends on os-brick patch\n\nDepends-On: https://review.opendev.org/#/c/663549/\nDepends-On: https://review.opendev.org/#/c/700799/\nChange-Id: I7496ce2e11959331a3e78b7d3bfbb748122c1876\n'}, {'number': 3, 'created': '2020-05-28 10:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7bdd6996f62804c95a0485e0c0ff104e6bb8eca', 'message': 'DNM - test Nova UT that depends on os-brick patch\n\nDepends-On: https://review.opendev.org/#/c/663549/\nDepends-On: https://review.opendev.org/#/c/700799/\nChange-Id: I7496ce2e11959331a3e78b7d3bfbb748122c1876\n'}, {'number': 4, 'created': '2020-05-28 10:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1a1238269eac6fa288d5df0bad8280b89eae110', 'message': 'DNM - test Nova UT that depends on os-brick patch\n\nDepends-On: https://review.opendev.org/#/c/663549/\nDepends-On: https://review.opendev.org/#/c/700799/\nChange-Id: I7496ce2e11959331a3e78b7d3bfbb748122c1876\n'}, {'number': 5, 'created': '2020-05-28 14:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef2cb66835418e91a863547c7132e4a67743ef48', 'message': 'DNM - test Nova UT that depends on os-brick patch\n\nDepends-On: https://review.opendev.org/#/c/663549/\nDepends-On: https://review.opendev.org/#/c/700799/\nChange-Id: I7496ce2e11959331a3e78b7d3bfbb748122c1876\n'}, {'number': 6, 'created': '2020-05-29 03:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59e5d1b887f4feb672314510b494ab0c8a856976', 'message': 'DNM - test Nova UT that depends on os-brick patch\n\nDepends-On: https://review.opendev.org/#/c/663549/\nDepends-On: https://review.opendev.org/#/c/700799/\nChange-Id: I7496ce2e11959331a3e78b7d3bfbb748122c1876\n'}, {'number': 7, 'created': '2020-05-29 04:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d1d218eb8ff32e0b94ef2f09436239e7e307445', 'message': 'DNM - test Nova UT that depends on os-brick patch\n\nDepends-On: https://review.opendev.org/#/c/663549/\nDepends-On: https://review.opendev.org/#/c/700799/\nChange-Id: I7496ce2e11959331a3e78b7d3bfbb748122c1876\n'}, {'number': 8, 'created': '2020-05-29 10:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4545cccd263bd160fc5db585ff7632fe07d4328d', 'message': 'DNM - test Nova UT that depends on os-brick patch\n\nDepends-On: https://review.opendev.org/#/c/663549/\nDepends-On: https://review.opendev.org/#/c/700799/\nChange-Id: I7496ce2e11959331a3e78b7d3bfbb748122c1876\n'}, {'number': 9, 'created': '2020-05-29 10:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8580c5fe109091b649a5d249c6b7459e37df7521', 'message': 'DNM - test Nova UT that depends on os-brick patch\n\nDepends-On: https://review.opendev.org/#/c/663549/\nDepends-On: https://review.opendev.org/#/c/700799/\nChange-Id: I7496ce2e11959331a3e78b7d3bfbb748122c1876\n'}, {'number': 10, 'created': '2020-05-29 15:24:43.000000000', 'files': ['nova/conf/compute.py', 'playbooks/legacy/nova-live-migration/run.yaml', 'nova/virt/libvirt/driver.py', 'playbooks/legacy/nova-grenade-multinode/run.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/8a9bd3c95ef22c657efcd20c48c010c2782abfee', 'message': 'DNM - test Nova UT that depends on os-brick patch\n\nDepends-On: https://review.opendev.org/#/c/663549/\nDepends-On: https://review.opendev.org/#/c/700799/\nChange-Id: I7496ce2e11959331a3e78b7d3bfbb748122c1876\n'}]",0,731388,8a9bd3c95ef22c657efcd20c48c010c2782abfee,68,9,10,28948,,,0,"DNM - test Nova UT that depends on os-brick patch

Depends-On: https://review.opendev.org/#/c/663549/
Depends-On: https://review.opendev.org/#/c/700799/
Change-Id: I7496ce2e11959331a3e78b7d3bfbb748122c1876
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/731388/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conf/compute.py', 'nova/virt/libvirt/driver.py', '.zuul.yaml']",3,930bb1e590c838ab17dd201e09970013746cecd9,, - openstack/os-brick,,65,0
openstack%2Ftripleo-heat-templates~master~I5a337a67893241e1443ca2c3721f4c9dd78b95c8,openstack/tripleo-heat-templates,master,I5a337a67893241e1443ca2c3721f4c9dd78b95c8,Generated passthrough_whitelist shall use all the user_configs fields,MERGED,2020-07-21 14:16:22.000000000,2020-07-27 13:50:23.000000000,2020-07-27 10:40:27.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-21 14:16:22.000000000', 'files': ['deployment/neutron/derive_pci_passthrough_whitelist.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d5820dba4abc9fc531b4155cb9f95038f956710c', 'message': ""Generated passthrough_whitelist shall use all the user_configs fields\n\nEarlier, the derived pci passthrough whitelist includes the address,\nvendor and product details only. This is not sufficient for nova to\nallocate the VFs to the guests. Now, all the fields of the user_config\nshall be used in the derived passthrough_whitelist. Only either of 'address'\nor 'devname' shall be provided in passthrough_whitelist, and since the\n'address' fields are must have to specify the induvidual VF's, the\n'devname' is removed if present.\n\nChange-Id: I5a337a67893241e1443ca2c3721f4c9dd78b95c8\n""}]",0,742204,d5820dba4abc9fc531b4155cb9f95038f956710c,31,6,1,18904,,,0,"Generated passthrough_whitelist shall use all the user_configs fields

Earlier, the derived pci passthrough whitelist includes the address,
vendor and product details only. This is not sufficient for nova to
allocate the VFs to the guests. Now, all the fields of the user_config
shall be used in the derived passthrough_whitelist. Only either of 'address'
or 'devname' shall be provided in passthrough_whitelist, and since the
'address' fields are must have to specify the induvidual VF's, the
'devname' is removed if present.

Change-Id: I5a337a67893241e1443ca2c3721f4c9dd78b95c8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/742204/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/derive_pci_passthrough_whitelist.py'],1,d5820dba4abc9fc531b4155cb9f95038f956710c,nicp_failing_vfs, pci_passthrough = dict(user_config) # devname and address fields can't co exist if 'devname' in pci_passthrough: del pci_passthrough['devname'] , pci_passthrough = {} pci_passthrough['vendor_id'] = device_info[pf][0] pci_passthrough['product_id'] = device_info[pf][1] if 'trusted' in user_config: pci_passthrough['trusted'] = user_config['trusted'],6,5
openstack%2Fwhitebox-tempest-plugin~master~If62d3a23044bf17f35a370e2f84fb459c166c9b2,openstack/whitebox-tempest-plugin,master,If62d3a23044bf17f35a370e2f84fb459c166c9b2,Use nested-virt nodepool label,MERGED,2020-03-11 18:31:50.000000000,2020-07-27 13:23:21.000000000,2020-07-27 13:23:21.000000000,"[{'_account_id': 8864}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-11 18:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/9d2899c93912a5d684bcb5f75e1462d678bc5c13', 'message': '[WIP] Use nested-virt nodepool label\n\nTo avoid being 100% dependant on the Fort Nebula nodepool provider (at\nleast for now, for tests that do not involve live migration), this\npatch starts using the nested-virt label. This means we need to split\nour jobs into single- and multi-node and split out NUMA live migraiton\ntests into their own file.\n\nChange-Id: If62d3a23044bf17f35a370e2f84fb459c166c9b2\nStory: 2007395\n'}, {'number': 2, 'created': '2020-03-11 18:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/6aa544b7c4a2b01e9086535a4bc340187dd616d4', 'message': '[WIP] Use nested-virt nodepool label\n\nTo avoid being 100% dependant on the Fort Nebula nodepool provider (at\nleast for now, for tests that do not involve live migration), this\npatch starts using the nested-virt label. This means we need to split\nour jobs into single- and multi-node and split out NUMA live migraiton\ntests into their own file.\n\nChange-Id: If62d3a23044bf17f35a370e2f84fb459c166c9b2\nStory: 2007395\n'}, {'number': 3, 'created': '2020-03-16 18:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/b47ab3e2e4dc7492915262e3d1ced0d813459eff', 'message': '[WIP] Use nested-virt nodepool label\n\nTo avoid being 100% dependant on the Fort Nebula nodepool provider (at\nleast for now, for tests that do not involve NUMA live migration),\nthis patch starts using the nested-virt label. This means we need to\nsplit our jobs into single- and multi-NUMA and split out NUMA live\nmigration tests into their own file.\n\nChange-Id: If62d3a23044bf17f35a370e2f84fb459c166c9b2\nStory: 2007395\n'}, {'number': 4, 'created': '2020-03-16 18:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/0f12767207e58ee4694f6905406084cf774e2aea', 'message': '[WIP] Use nested-virt nodepool label\n\nTo avoid being 100% dependant on the Fort Nebula nodepool provider (at\nleast for now, for tests that do not involve NUMA live migration),\nthis patch starts using the nested-virt label. This means we need to\nsplit our jobs into single- and multi-NUMA and split out NUMA live\nmigration tests into their own file.\n\nChange-Id: If62d3a23044bf17f35a370e2f84fb459c166c9b2\nStory: 2007395\n'}, {'number': 5, 'created': '2020-03-30 18:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/eb3f34b4e347fadfbb5105d51c353a35593481c3', 'message': 'Use nested-virt nodepool label\n\nTo avoid being 100% dependant on the Fort Nebula nodepool provider (at\nleast for now, for tests that do not involve NUMA live migration),\nthis patch starts using the nested-virt label. This means we need to\nsplit our jobs into single- and multi-NUMA and split out NUMA live\nmigration tests into their own file.\n\nChange-Id: If62d3a23044bf17f35a370e2f84fb459c166c9b2\nStory: 2007395\n'}, {'number': 6, 'created': '2020-03-30 18:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/feb009fb588aef606b40efa9f939fb0d25b7c470', 'message': 'Use nested-virt nodepool label\n\nTo avoid being 100% dependant on the Fort Nebula nodepool provider (at\nleast for now, for tests that do not involve NUMA live migration),\nthis patch starts using the nested-virt label. This means we need to\nsplit our jobs into single- and multi-NUMA and split out NUMA live\nmigration tests into their own file.\n\nChange-Id: If62d3a23044bf17f35a370e2f84fb459c166c9b2\nStory: 2007395\n'}, {'number': 7, 'created': '2020-03-30 18:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/ba73be40fc833dab57c9fb5db063ab1a462d07c1', 'message': 'Use nested-virt nodepool label\n\nTo avoid being 100% dependant on the Fort Nebula nodepool provider (at\nleast for now, for tests that do not involve NUMA live migration),\nthis patch starts using the nested-virt label. This means we need to\nsplit our jobs into single- and multi-NUMA and split out NUMA live\nmigration tests into their own file.\n\nChange-Id: If62d3a23044bf17f35a370e2f84fb459c166c9b2\nStory: 2007395\n'}, {'number': 8, 'created': '2020-03-30 20:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/0ee6d8b638a2eb0bee72ece1ecf99768836f7ce5', 'message': 'Use nested-virt nodepool label\n\nTo avoid being 100% dependant on the Fort Nebula nodepool provider (at\nleast for now, for tests that do not involve NUMA live migration),\nthis patch starts using the nested-virt label. This means we need to\nsplit our jobs into single- and multi-NUMA and split out NUMA live\nmigration tests into their own file.\n\nChange-Id: If62d3a23044bf17f35a370e2f84fb459c166c9b2\nStory: 2007395\n'}, {'number': 9, 'created': '2020-03-31 14:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/0dcfe60521bab2f04e9a353b6b1a62eb7de59938', 'message': 'Use nested-virt nodepool label\n\nTo avoid being 100% dependant on the Fort Nebula nodepool provider (at\nleast for now, for tests that do not involve NUMA live migration),\nthis patch starts using the nested-virt label. This means we need to\nsplit our jobs into single- and multi-NUMA and split out NUMA live\nmigration tests into their own file.\n\nChange-Id: If62d3a23044bf17f35a370e2f84fb459c166c9b2\nStory: 2007395\n'}, {'number': 10, 'created': '2020-07-10 18:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/5600239db457c89c9157f657336268e6c03ebf7d', 'message': ""Use nested-virt nodepool label\n\nTo avoid being 100% dependant on the Fort Nebula nodepool provider,\nthis patch starts using the nested-virt label. The only test that\nrequired multi-numa, NUMALiveMigrationTest.test_cpu_pinning, is\nskipped until it's refactored.\n\nStory: 2007395\nChange-Id: If62d3a23044bf17f35a370e2f84fb459c166c9b2\n""}, {'number': 11, 'created': '2020-07-10 18:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/ae73f2e1935993ccd10f68444bdbf3073fd8e376', 'message': ""Use nested-virt nodepool label\n\nTo avoid being 100% dependant on the Fort Nebula nodepool provider,\nthis patch starts using the nested-virt label. The only test that\nrequired multi-numa, NUMALiveMigrationTest.test_cpu_pinning, is\nskipped until it's refactored.\n\nStory: 2007395\nChange-Id: If62d3a23044bf17f35a370e2f84fb459c166c9b2\n""}, {'number': 12, 'created': '2020-07-13 19:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/3014fa005dde316b0130007723297ac36544f638', 'message': ""Use nested-virt nodepool label\n\nTo avoid being 100% dependant on the Fort Nebula nodepool provider,\nthis patch starts using the nested-virt label. The only test that\nrequired multi-numa, NUMALiveMigrationTest.test_cpu_pinning, is\nskipped until it's refactored.\n\nStory: 2007395\nChange-Id: If62d3a23044bf17f35a370e2f84fb459c166c9b2\n""}, {'number': 13, 'created': '2020-07-13 19:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/e69e79f05e82a70a9677864bad5f713aabd04d5b', 'message': ""Use nested-virt nodepool label\n\nTo avoid being 100% dependant on the OpenEdge (formerly Fort Nebula)\nnodepool provider, this patch starts using the nested-virt label. The\nonly test that required multi-numa,\nNUMALiveMigrationTest.test_cpu_pinning, is skipped until it gets\nrefactored.\n\nIn addition, because we can no longer expect SMT (aka Hyper-Threading)\nto be present with the new nodepool label, the new configurable\n[whitebox-hardware]/smt_hosts is introduced. It lists the hostnames of\ncompute hosts that support SMT. Tests that require SMT (but previously\nassumed it was present and blew up if it wasn't) are able to skip if\nno SMT hosts exist in the deployment.\n\nStory: 2007395\nChange-Id: If62d3a23044bf17f35a370e2f84fb459c166c9b2\n""}, {'number': 14, 'created': '2020-07-20 19:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/454835700c97dae5cdeda5b24e20b32fcf69035a', 'message': 'Use nested-virt nodepool label\n\nTo avoid being 100% dependant on the OpenEdge (formerly Fort Nebula)\nnodepool provider, this patch starts using the nested-virt label. In\naddition, because we can no longer expect SMT (aka Hyper-Threading)\nto be present with the new nodepool label, the new configurable\n[whitebox-hardware]/smt_hosts is introduced. It lists the hostnames of\ncompute hosts that support SMT.\n\nWe do have tests that require multi-NUMA and/or SMT. Those are moved\nto a new non-voting job that runs on the multi-numa label provided by\nOpenEdge.\n\nStory: 2007395\nChange-Id: If62d3a23044bf17f35a370e2f84fb459c166c9b2\n'}, {'number': 15, 'created': '2020-07-20 20:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/9a8401cefc9693aca86c91431d05db69b6115a2d', 'message': 'Use nested-virt nodepool label\n\nTo avoid being 100% dependant on the OpenEdge (formerly Fort Nebula)\nnodepool provider, this patch starts using the nested-virt label. In\naddition, because we can no longer expect SMT (aka Hyper-Threading)\nto be present with the new nodepool label, the new configurable\n[whitebox-hardware]/smt_hosts is introduced. It lists the hostnames of\ncompute hosts that support SMT.\n\nWe do have tests that require multi-NUMA and/or SMT. Those are moved\nto a new non-voting job that runs on the multi-numa label provided by\nOpenEdge.\n\nStory: 2007395\nChange-Id: If62d3a23044bf17f35a370e2f84fb459c166c9b2\n'}, {'number': 16, 'created': '2020-07-20 23:09:17.000000000', 'files': ['.zuul.yaml', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'devstack/plugin.sh', 'whitebox_tempest_plugin/config.py', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/b3a4ae122de2344c6b043ce8fbb493abc6df5704', 'message': 'Use nested-virt nodepool label\n\nTo avoid being 100% dependant on the OpenEdge (formerly Fort Nebula)\nnodepool provider, this patch starts using the nested-virt label. In\naddition, because we can no longer expect SMT (aka Hyper-Threading)\nto be present with the new nodepool label, the new configurable\n[whitebox-hardware]/smt_hosts is introduced. It lists the hostnames of\ncompute hosts that support SMT.\n\nWe do have tests that require multi-NUMA and/or SMT. Those are moved\nto a new non-voting job that runs on the multi-numa label provided by\nOpenEdge.\n\nStory: 2007395\nChange-Id: If62d3a23044bf17f35a370e2f84fb459c166c9b2\n'}]",19,712530,b3a4ae122de2344c6b043ce8fbb493abc6df5704,51,3,16,8864,,,0,"Use nested-virt nodepool label

To avoid being 100% dependant on the OpenEdge (formerly Fort Nebula)
nodepool provider, this patch starts using the nested-virt label. In
addition, because we can no longer expect SMT (aka Hyper-Threading)
to be present with the new nodepool label, the new configurable
[whitebox-hardware]/smt_hosts is introduced. It lists the hostnames of
compute hosts that support SMT.

We do have tests that require multi-NUMA and/or SMT. Those are moved
to a new non-voting job that runs on the multi-numa label provided by
OpenEdge.

Story: 2007395
Change-Id: If62d3a23044bf17f35a370e2f84fb459c166c9b2
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/30/712530/15 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/api/compute/test_numa.py', '.zuul.yaml', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/api/compute/test_numa_live_migration.py']",4,9d2899c93912a5d684bcb5f75e1462d678bc5c13,nested-virt-label,"# Copyright 2019 Red Hat Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from itertools import chain import testtools import xml.etree.ElementTree as ET from oslo_serialization import jsonutils from tempest.common import compute from tempest.common import utils from tempest.common import waiters from tempest import config from whitebox_tempest_plugin.api.compute import test_numa as numa_base from whitebox_tempest_plugin import exceptions from whitebox_tempest_plugin.services import clients from oslo_log import log as logging CONF = config.CONF LOG = logging.getLogger(__name__) class NUMALiveMigrationTest(numa_base.BasePinningTest): # Don't bother with old microversions where disk_over_commit was required # for the live migration request. min_microversion = '2.25' @classmethod def skip_checks(cls): super(NUMALiveMigrationTest, cls).skip_checks() if (CONF.compute.min_compute_nodes < 2 or CONF.whitebox.max_compute_nodes > 2): raise cls.skipException('Exactly 2 compute nodes required.') if not compute.is_scheduler_filter_enabled('DifferentHostFilter'): raise cls.skipException('DifferentHostFilter required.') def get_pinning_as_set(self, server_id): pinset = set() root = self.get_server_xml(server_id) vcpupins = root.findall('./cputune/vcpupin') for pin in vcpupins: pinset |= numa_base.parse_cpu_spec(pin.get('cpuset')) return pinset def _get_cpu_spec(self, cpu_list): """"""Returns a libvirt-style CPU spec from the provided list of integers. For example, given [0, 2, 3], returns ""0,2,3"". """""" return ','.join(map(str, cpu_list)) def _get_cpu_pins_from_db_topology(self, db_topology): """"""Given a JSON object representing a instance's database NUMA topology, returns a dict of dicts indicating CPU pinning, for example: {0: {'1': 2, '3': 4}, 1: {'2': 6, '7': 8}} """""" pins = {} cell_count = 0 for cell in db_topology['nova_object.data']['cells']: pins[cell_count] = cell['nova_object.data']['cpu_pinning_raw'] cell_count += 1 return pins def _get_pcpus_from_cpu_pins(self, cpu_pins): """"""Given a dict of dicts of CPU pins, return just the host pCPU IDs for all cells and guest vCPUs. """""" pcpus = set() for cell, pins in cpu_pins.items(): pcpus.update(set(pins.values())) return pcpus def _get_cpus_per_node(self, *args): """"""Given a list of iterables, each containing the CPU IDs for a certain NUMA node, return a set containing the number of CPUs in each node. This is only used to make sure all NUMA nodes have the same number of CPUs - which cannot happen on real hardware, but could happen in virtual machines. """""" return set([len(cpu_list) for cpu_list in chain(*args)]) def test_cpu_pinning(self): hv1, hv2 = self.get_all_hypervisors() numaclient_1 = clients.NUMAClient(hv1) numaclient_2 = clients.NUMAClient(hv2) # Get hosts's topology topo_1 = numaclient_1.get_host_topology() topo_2 = numaclient_2.get_host_topology() # Need at least 2 NUMA nodes per host if len(topo_1) < 2 or len(topo_2) < 2: raise self.skipException('At least 2 NUMA nodes per host required') # All NUMA nodes need to have same number of CPUs cpus_per_node = self._get_cpus_per_node(topo_1.values(), topo_2.values()) if len(cpus_per_node) != 1: raise self.skipException('NUMA nodes must have same number of ' 'CPUs') # Set both hosts's vcpu_pin_set to the CPUs in the first NUMA node to # force instances to land there hv1_sm = clients.ServiceManager(hv1, 'nova-compute') hv2_sm = clients.ServiceManager(hv2, 'nova-compute') with hv1_sm.config_option('DEFAULT', 'vcpu_pin_set', self._get_cpu_spec(topo_1[0])), \ hv2_sm.config_option('DEFAULT', 'vcpu_pin_set', self._get_cpu_spec(topo_2[0])): # Boot 2 servers such that their vCPUs ""fill"" a NUMA node. specs = {'hw:cpu_policy': 'dedicated'} flavor = self.create_flavor(vcpus=cpus_per_node.pop(), extra_specs=specs) server_a = self.create_test_server(flavor=flavor['id']) # TODO(artom) As of 2.68 we can no longer force a live-migration, # and having the different_host hint in the RequestSpec will # prevent live migration. Start enabling/disabling # DifferentHostFilter as needed? server_b = self.create_test_server( flavor=flavor['id'], scheduler_hints={'different_host': server_a['id']}) # At this point we expect CPU pinning in the database to be # identical for both servers db_topo_a = self._get_db_numa_topology(server_a['id']) db_pins_a = self._get_cpu_pins_from_db_topology(db_topo_a) db_topo_b = self._get_db_numa_topology(server_b['id']) db_pins_b = self._get_cpu_pins_from_db_topology(db_topo_b) self.assertEqual(db_pins_a, db_pins_b, 'Expected servers to have identical CPU pins, ' 'instead have %s and %s' % (db_pins_a, db_pins_b)) # They should have identical (non-null) CPU pins pin_a = self.get_pinning_as_set(server_a['id']) pin_b = self.get_pinning_as_set(server_b['id']) self.assertTrue(pin_a and pin_b, 'Pinned servers are actually unpinned: ' '%s, %s' % (pin_a, pin_b)) self.assertEqual( pin_a, pin_b, 'Pins should be identical: %s, %s' % (pin_a, pin_b)) # Live migrate server_b to server_a's compute, adding the second # NUMA node's CPUs to vcpu_pin_set host_a = self.get_host_other_than(server_b['id']) # NOTE (jparker) since certain deployment's execution hosts # may not have DNS mappings for their respective compute and # controllers nodes, attempt to determine and use the hv ip # when setting up the ServiceManager host_a_ip = self.get_hypervisor_ip(server_a['id']) host_a_sm = clients.ServiceManager(host_a_ip, 'nova-compute') numaclient_a = clients.NUMAClient(host_a_ip) topo_a = numaclient_a.get_host_topology() with host_a_sm.config_option( 'DEFAULT', 'vcpu_pin_set', self._get_cpu_spec(topo_a[0] + topo_a[1])): self.live_migrate(server_b['id'], host_a, 'ACTIVE') # They should have disjoint (non-null) CPU pins in their XML pin_a = self.get_pinning_as_set(server_a['id']) pin_b = self.get_pinning_as_set(server_b['id']) self.assertTrue(pin_a and pin_b, 'Pinned servers are actually unpinned: ' '%s, %s' % (pin_a, pin_b)) self.assertTrue(pin_a.isdisjoint(pin_b), 'Pins overlap: %s, %s' % (pin_a, pin_b)) # Same for their topologies in the database db_topo_a = self._get_db_numa_topology(server_a['id']) pcpus_a = self._get_pcpus_from_cpu_pins( self._get_cpu_pins_from_db_topology(db_topo_a)) db_topo_b = self._get_db_numa_topology(server_b['id']) pcpus_b = self._get_pcpus_from_cpu_pins( self._get_cpu_pins_from_db_topology(db_topo_b)) self.assertTrue(pcpus_a and pcpus_b) self.assertTrue( pcpus_a.isdisjoint(pcpus_b), 'Expected servers to have disjoint CPU pins in the ' 'database, instead have %s and %s' % (pcpus_a, pcpus_b)) # NOTE(artom) At this point we have to manually delete both # servers before the config_option() context manager reverts # any config changes it made. This is Nova bug 1836945. self.delete_server(server_a['id']) self.delete_server(server_b['id']) def test_emulator_threads(self): # Need 4 CPUs on each host for hv in self.get_all_hypervisors(): numaclient = clients.NUMAClient(hv) num_cpus = numaclient.get_num_cpus() if num_cpus < 4: raise self.skipException('%s has %d CPUs, need 4', hv, num_cpus) hv1, hv2 = self.get_all_hypervisors() hv1_sm = clients.ServiceManager(hv1, 'nova-compute') hv2_sm = clients.ServiceManager(hv2, 'nova-compute') with hv1_sm.config_option('DEFAULT', 'vcpu_pin_set', '0,1'), \ hv1_sm.config_option('compute', 'cpu_shared_set', '2'), \ hv2_sm.config_option('DEFAULT', 'vcpu_pin_set', '0,1'), \ hv2_sm.config_option('compute', 'cpu_shared_set', '3'): # Boot two servers specs = {'hw:cpu_policy': 'dedicated', 'hw:emulator_threads_policy': 'share'} flavor = self.create_flavor(vcpus=1, extra_specs=specs) server_a = self.create_test_server(flavor=flavor['id']) server_b = self.create_test_server( flavor=flavor['id'], scheduler_hints={'different_host': server_a['id']}) # They should have different (non-null) emulator pins threads_a = self.get_server_emulator_threads(server_a['id']) threads_b = self.get_server_emulator_threads(server_b['id']) self.assertTrue(threads_a and threads_b, 'Emulator threads should be pinned, are unpinned: ' '%s, %s' % (threads_a, threads_b)) self.assertTrue(threads_a.isdisjoint(threads_b)) # Live migrate server_b compute_a = self.get_host_other_than(server_b['id']) self.live_migrate(server_b['id'], compute_a, 'ACTIVE') # They should have identical (non-null) emulator pins and disjoint # (non-null) CPU pins threads_a = self.get_server_emulator_threads(server_a['id']) threads_b = self.get_server_emulator_threads(server_b['id']) self.assertTrue(threads_a and threads_b, 'Emulator threads should be pinned, are unpinned: ' '%s, %s' % (threads_a, threads_b)) self.assertEqual(threads_a, threads_b) pin_a = self.get_pinning_as_set(server_a['id']) pin_b = self.get_pinning_as_set(server_b['id']) self.assertTrue(pin_a and pin_b, 'Pinned servers are actually unpinned: ' '%s, %s' % (pin_a, pin_b)) self.assertTrue(pin_a.isdisjoint(pin_b), 'Pins overlap: %s, %s' % (pin_a, pin_b)) # NOTE(artom) At this point we have to manually delete both # servers before the config_option() context manager reverts # any config changes it made. This is Nova bug 1836945. self.delete_server(server_a['id']) self.delete_server(server_b['id']) def test_hugepages(self): hv_a, hv_b = self.get_all_hypervisors() numaclient_a = clients.NUMAClient(hv_a) numaclient_b = clients.NUMAClient(hv_b) # Get the first host's topology and hugepages config topo_a = numaclient_a.get_host_topology() pagesize_a = numaclient_a.get_pagesize() pages_a = numaclient_a.get_hugepages() # Same for second host topo_b = numaclient_b.get_host_topology() pagesize_b = numaclient_b.get_pagesize() pages_b = numaclient_b.get_hugepages() # Need hugepages for pages_config in pages_a, pages_b: for numa_cell, pages in pages_config.items(): if pages['total'] == 0: raise self.skipException('Hugepages required') # Need at least 2 NUMA nodes per host if len(topo_a) < 2 or len(topo_b) < 2: raise self.skipException('At least 2 NUMA nodes per host required') # The hosts need to have the same pagesize if not pagesize_a == pagesize_b: raise self.skipException('Hosts must have same pagesize') # All NUMA nodes need to have same number of CPUs if len(self._get_cpus_per_node(topo_a.values(), topo_b.values())) != 1: raise self.skipException('NUMA nodes must have same number of ' 'CPUs') # Same idea, but for hugepages total pagecounts = chain(pages_a.values(), pages_b.values()) if not len(set([count['total'] for count in pagecounts])) == 1: raise self.skipException('NUMA nodes must have same number of ' 'total hugepages') # NOTE(jparker) due to the check to validate each NUMA node has the # same number of hugepages, the pagecounts iterator becomes empty. # 'Resetting' pagecounts to calculate minimum free huge pages pagecounts = chain(pages_a.values(), pages_b.values()) # The smallest available number of hugepages must be bigger than # total / 2 to ensure no node can accept more than 1 instance with that # many hugepages min_free = min([count['free'] for count in pagecounts]) min_free_required = pages_a[0]['total'] / 2 if min_free < min_free_required: raise self.skipException( 'Need enough free hugepages to effectively ""fill"" a NUMA ' 'node. Need: %d. Have: %d' % (min_free_required, min_free)) # Create a flavor that'll ""fill"" a NUMA node ram = pagesize_a / 1024 * min_free specs = {'hw:numa_nodes': '1', 'hw:mem_page_size': 'large'} flavor = self.create_flavor(vcpus=len(topo_a[0]), ram=ram, extra_specs=specs) # Boot two servers server_a = self.create_test_server(flavor=flavor['id']) server_b = self.create_test_server( flavor=flavor['id'], scheduler_hints={'different_host': server_a['id']}) # We expect them to end up with the same cell pin - specifically, guest # cell 0 to host cell 0. pin_a = self.get_server_cell_pinning(server_a['id']) pin_b = self.get_server_cell_pinning(server_b['id']) self.assertTrue(pin_a and pin_b, 'Cells not actually pinned: %s, %s' % (pin_a, pin_b)) self.assertEqual(pin_a, pin_b, 'Servers ended up on different host cells. ' 'This is OK, but is unexpected and the test cannot ' 'continue. Pins: %s, %s' % (pin_a, pin_b)) # Live migrate server_b compute_a = self.get_host_other_than(server_b['id']) self.live_migrate(server_b['id'], compute_a, 'ACTIVE') # Their guest NUMA node 0 should be on different host nodes pin_a = self.get_server_cell_pinning(server_a['id']) pin_b = self.get_server_cell_pinning(server_b['id']) self.assertTrue(pin_a[0] and pin_b[0], 'Cells not actually pinned: %s, %s' % (pin_a, pin_b)) self.assertTrue(pin_a[0].isdisjoint(pin_b[0])) ",,858,790
openstack%2Fcharm-neutron-api-plugin-arista~master~I650fa3462193bdea4f36426b904e26c936c4e24e,openstack/charm-neutron-api-plugin-arista,master,I650fa3462193bdea4f36426b904e26c936c4e24e,Add upgrade procedure for release notes,MERGED,2020-07-27 12:22:09.000000000,2020-07-27 13:22:05.000000000,2020-07-27 13:22:05.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 12:22:09.000000000', 'files': ['docs/upgrading-to-stable.md'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/2700abababb836b0b4cee5b8b2b951391b8377ed', 'message': 'Add upgrade procedure for release notes\n\nChange-Id: I650fa3462193bdea4f36426b904e26c936c4e24e\n'}]",0,743210,2700abababb836b0b4cee5b8b2b951391b8377ed,7,3,1,31289,,,0,"Add upgrade procedure for release notes

Change-Id: I650fa3462193bdea4f36426b904e26c936c4e24e
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-arista refs/changes/10/743210/1 && git format-patch -1 --stdout FETCH_HEAD,['docs/upgrading-to-stable.md'],1,2700abababb836b0b4cee5b8b2b951391b8377ed,upgrade,<!-- WARNING: the release notes ( https://docs.openstack.org/charm-guide/latest/2008.html ) point to this file. Do not delete or move it. --> # Upgrading to the first stable revision Prior to the [first stable revision](https://jaas.ai/u/openstack-charmers-next/neutron-api-plugin-arista/2) the [prototype charm](https://jaas.ai/u/openstack-charmers-next/neutron-api-plugin-arista/1) relied on a [special neutron-api fork](https://jaas.ai/u/aurelien-lourot/neutron-api-arista-test-fixture): ``` applications: neutron-api: charm: cs:~aurelien-lourot/neutron-api-arista-test-fixture options: enable-arista: True manage-neutron-plugin-legacy-mode: True [...] neutron-api-plugin-arista: charm: cs:~openstack-charmers-next/neutron-api-plugin-arista-1 num_units: 0 options: eapi-host: 192.0.2.42 eapi-username: admin eapi-password: password123 api-type: EAPI service-plugins: router [...] relations: - - neutron-api - neutron-api-plugin-arista - - neutron-api:neutron-plugin-api-subordinate - neutron-api-plugin-arista:neutron-plugin-api-subordinate [...] ``` The [first stable revision](https://jaas.ai/u/openstack-charmers-next/neutron-api-plugin-arista/2) is now a real neutron-api plugin: ``` applications: neutron-api: charm: cs:~openstack-charmers-next/neutron-api options: manage-neutron-plugin-legacy-mode: False # No need for `enable-arista` anymore neutron-api-plugin-arista: charm: cs:~openstack-charmers-next/neutron-api-plugin-arista-2 num_units: 0 options: eapi-host: 192.0.2.42 eapi-username: admin eapi-password: password123 api-type: EAPI # The misbehaving `service-plugins` option has been removed [...] relations: - - neutron-api - neutron-api-plugin-arista - - neutron-api:neutron-plugin-api-subordinate - neutron-api-plugin-arista:neutron-plugin-api-subordinate [...] ``` ,,74,0
openstack%2Fceilometer~stable%2Fussuri~I7c4f03b5d4412ec2844cb24d32ce575442c9fd3c,openstack/ceilometer,stable/ussuri,I7c4f03b5d4412ec2844cb24d32ce575442c9fd3c,Remove [ and ] around parameter values in http url,MERGED,2020-07-24 09:26:05.000000000,2020-07-27 13:20:47.000000000,2020-07-27 08:07:03.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2020-07-24 09:26:05.000000000', 'files': ['ceilometer/publisher/http.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/af90111c142ba171fe0b8ce497414687a6a3bd58', 'message': ""Remove [ and ] around parameter values in http url\n\nWithout this patch, using a publisher like\n  - http://host.com/?a=b&c=d\nleads to calling a http post to\nhttp://host.com/?a=['b']&c=['d']\nURLs without additional parameters are not affected.\n\nChange-Id: I7c4f03b5d4412ec2844cb24d32ce575442c9fd3c\n(cherry picked from commit 4c859ad4dfe7a704fc596c041de5b67db7b065ce)\n""}]",0,742834,af90111c142ba171fe0b8ce497414687a6a3bd58,9,3,1,4264,,,0,"Remove [ and ] around parameter values in http url

Without this patch, using a publisher like
  - http://host.com/?a=b&c=d
leads to calling a http post to
http://host.com/?a=['b']&c=['d']
URLs without additional parameters are not affected.

Change-Id: I7c4f03b5d4412ec2844cb24d32ce575442c9fd3c
(cherry picked from commit 4c859ad4dfe7a704fc596c041de5b67db7b065ce)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/34/742834/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/publisher/http.py'],1,af90111c142ba171fe0b8ce497414687a6a3bd58,querystring-stable/ussuri," urlparse.urlencode(params, doseq=True),"," urlparse.urlencode(params),",1,1
openstack%2Fcinder~stable%2Fqueens~If15948a19a0df2d57f2da84c0774bc4ceb1fff60,openstack/cinder,stable/queens,If15948a19a0df2d57f2da84c0774bc4ceb1fff60,nimble: Fix missing ssl support,MERGED,2020-06-10 00:25:47.000000000,2020-07-27 13:16:31.000000000,2020-07-27 13:16:31.000000000,"[{'_account_id': 24}, {'_account_id': 1736}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 17685}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-06-10 00:25:47.000000000', 'files': ['cinder/volume/drivers/nimble.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b94d1455514be0e90e2ccdf1f865dc1fe570a1d2', 'message': 'nimble: Fix missing ssl support\n\nThe requests.get in the get_query method was always disabling the\nssl certificate checck. Use the ""nimble_verify_certificate""\nconfiguration option to allow the user to enable or disable it\nlike the rest of the requests usage in the driver.\n\nChange-Id: If15948a19a0df2d57f2da84c0774bc4ceb1fff60\nSigned-off-by: Chuck Short <chucks@redhat.com>\n(cherry picked from commit c25c30245c7bf53687f71af43b78b7414ac022c5)\n'}]",0,734722,b94d1455514be0e90e2ccdf1f865dc1fe570a1d2,45,19,1,14892,,,0,"nimble: Fix missing ssl support

The requests.get in the get_query method was always disabling the
ssl certificate checck. Use the ""nimble_verify_certificate""
configuration option to allow the user to enable or disable it
like the rest of the requests usage in the driver.

Change-Id: If15948a19a0df2d57f2da84c0774bc4ceb1fff60
Signed-off-by: Chuck Short <chucks@redhat.com>
(cherry picked from commit c25c30245c7bf53687f71af43b78b7414ac022c5)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/734722/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/nimble.py'],1,b94d1455514be0e90e2ccdf1f865dc1fe570a1d2,ssl-stable/queens," params=query, verify=self.verify)"," params=query, verify=False)",1,1
openstack%2Fkolla-ansible~master~I2e22ec47f644de2f1509a0111c9e1fffe8da0a1a,openstack/kolla-ansible,master,I2e22ec47f644de2f1509a0111c9e1fffe8da0a1a,Remove Hyper-V integration,MERGED,2020-06-10 08:36:44.000000000,2020-07-27 12:52:25.000000000,2020-07-27 12:47:32.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-10 08:36:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/db8ae66a77b8a1a4cf3247df63799a5bdc180ba3', 'message': 'Remove Hyper-V integration\n\nChange-Id: I2e22ec47f644de2f1509a0111c9e1fffe8da0a1a\n'}, {'number': 2, 'created': '2020-07-27 09:26:04.000000000', 'files': ['ansible/inventory/multinode', 'ansible/roles/nova-hyperv/tasks/config.yml', 'doc/source/reference/compute/index.rst', 'ansible/roles/nova-hyperv/tasks/check.yml', 'ansible/roles/nova-hyperv/templates/neutron_hyperv_agent.conf.j2', 'ansible/roles/nova-hyperv/tasks/copy-certs.yml', 'ansible/roles/nova-hyperv/tasks/install.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/site.yml', 'releasenotes/notes/remove-hyperv-fbffba997e1abb61.yaml', 'ansible/inventory/all-in-one', 'ansible/roles/nova-hyperv/handlers/main.yml', 'doc/source/reference/compute/nova-guide.rst', 'ansible/roles/nova-hyperv/tasks/stop.yml', 'etc/kolla/globals.yml', 'ansible/roles/nova-hyperv/tasks/main.yml', 'ansible/roles/nova-hyperv/tasks/reconfigure.yml', 'ansible/roles/nova-hyperv/templates/nova_hyperv.conf.j2', 'ansible/roles/nova-hyperv/tasks/deploy.yml', 'ansible/roles/nova-hyperv/defaults/main.yml', 'ansible/roles/nova-hyperv/templates/wsgate.ini.j2', 'ansible/roles/nova-hyperv/tasks/precheck.yml', 'ansible/roles/nova-hyperv/tasks/pull.yml', 'ansible/group_vars/all.yml', 'ansible/roles/nova/defaults/main.yml', 'doc/source/reference/compute/hyperv-guide.rst', 'tests/templates/inventory.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6eb02245d6e3a6188a6fbfce6196a42f823799e5', 'message': 'Remove Hyper-V integration\n\nChange-Id: I2e22ec47f644de2f1509a0111c9e1fffe8da0a1a\n'}]",0,734766,6eb02245d6e3a6188a6fbfce6196a42f823799e5,15,5,2,167,,,0,"Remove Hyper-V integration

Change-Id: I2e22ec47f644de2f1509a0111c9e1fffe8da0a1a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/66/734766/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/nova-hyperv/tasks/config.yml', 'doc/source/reference/compute/index.rst', 'ansible/roles/nova-hyperv/tasks/check.yml', 'ansible/roles/nova-hyperv/templates/neutron_hyperv_agent.conf.j2', 'ansible/roles/nova-hyperv/tasks/copy-certs.yml', 'ansible/roles/nova-hyperv/tasks/install.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/site.yml', 'releasenotes/notes/remove-hyperv-fbffba997e1abb61.yaml', 'ansible/inventory/all-in-one', 'ansible/roles/nova-hyperv/handlers/main.yml', 'doc/source/reference/compute/nova-guide.rst', 'ansible/roles/nova-hyperv/tasks/stop.yml', 'etc/kolla/globals.yml', 'ansible/roles/nova-hyperv/tasks/main.yml', 'ansible/roles/nova-hyperv/tasks/reconfigure.yml', 'ansible/roles/nova-hyperv/templates/nova_hyperv.conf.j2', 'ansible/roles/nova-hyperv/tasks/deploy.yml', 'ansible/roles/nova-hyperv/defaults/main.yml', 'ansible/roles/nova-hyperv/meta/main.yml', 'ansible/roles/nova-hyperv/templates/wsgate.ini.j2', 'ansible/roles/nova-hyperv/tasks/precheck.yml', 'ansible/roles/nova-hyperv/tasks/pull.yml', 'ansible/group_vars/all.yml', 'ansible/roles/nova/defaults/main.yml', 'doc/source/reference/compute/hyperv-guide.rst', 'tests/templates/inventory.j2']",28,db8ae66a77b8a1a4cf3247df63799a5bdc180ba3,remove-hyperv,,[hyperv] #hyperv_host [hyperv:vars] #ansible_user=user #ansible_password=password #ansible_port=5986 #ansible_connection=winrm #ansible_winrm_server_cert_validation=ignore ,10,516
openstack%2Fcharm-masakari~master~I87ae67fb969e22849adb4a055f1d45726796ab0f,openstack/charm-masakari,master,I87ae67fb969e22849adb4a055f1d45726796ab0f,Add Victoria test bundles,MERGED,2020-07-15 10:28:26.000000000,2020-07-27 12:44:17.000000000,2020-07-27 12:44:17.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-15 10:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/ce03d9ae59f2bf491e1b976ed4539b465254157a', 'message': 'Add Victoria test bundles\n\nChange-Id: I87ae67fb969e22849adb4a055f1d45726796ab0f\n'}, {'number': 2, 'created': '2020-07-27 09:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/1caba7f5019792967d3ac4774ba7a9ecdea84325', 'message': 'Add Victoria test bundles\n\nChange-Id: I87ae67fb969e22849adb4a055f1d45726796ab0f\n'}, {'number': 3, 'created': '2020-07-27 11:22:00.000000000', 'files': ['src/tests/bundles/overlays/focal-victoria-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/groovy-victoria-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/focal-victoria-pacemaker-remote-ssl.yaml', 'src/tests/bundles/groovy-victoria-pacemaker-remote-ssl.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/9fbb8718fe7f6ee623668922bd44864a385552af', 'message': 'Add Victoria test bundles\n\nChange-Id: I87ae67fb969e22849adb4a055f1d45726796ab0f\n'}]",1,741144,9fbb8718fe7f6ee623668922bd44864a385552af,15,4,3,31289,,,0,"Add Victoria test bundles

Change-Id: I87ae67fb969e22849adb4a055f1d45726796ab0f
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/44/741144/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/focal-victoria-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/overlays/groovy-victoria-pacemaker-remote-ssl.yaml.j2', 'src/tests/bundles/focal-victoria-pacemaker-remote-ssl.yaml', 'src/tests/bundles/groovy-victoria-pacemaker-remote-ssl.yaml', 'src/tests/tests.yaml']",5,ce03d9ae59f2bf491e1b976ed4539b465254157a,victoria-charm-tests, - focal-victoria-pacemaker-remote-ssl - groovy-victoria-pacemaker-remote-ssl - groovy-victoria-pacemaker-remote-ssl, - focal-ussuri-pacemaker-remote-ssl,793,1
openstack%2Foctavia-tempest-plugin~master~Ice85389d27d6668bbb9994f878cefd09a0d455be,openstack/octavia-tempest-plugin,master,Ice85389d27d6668bbb9994f878cefd09a0d455be,DNM check UDP pool fix,ABANDONED,2020-06-22 14:51:38.000000000,2020-07-27 12:41:30.000000000,,"[{'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-06-22 14:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/3675d7acc6f37c5adc91e4c5707afa24e53fc9a5', 'message': 'DNM check UDP pool fix\n\nDepends-On: https://review.opendev.org/#/c/736818/\nChange-Id: Ice85389d27d6668bbb9994f878cefd09a0d455be\n'}, {'number': 2, 'created': '2020-06-23 09:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f2476df467c882bffd2e3f7bec4197548fd26c5b', 'message': 'DNM check UDP pool fix\n\nDepends-On: https://review.opendev.org/#/c/736818/\nChange-Id: Ice85389d27d6668bbb9994f878cefd09a0d455be\n'}, {'number': 3, 'created': '2020-06-23 17:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/64d4f2a64710ba0976b9dd46b785cb90ca702566', 'message': 'DNM check UDP pool fix\n\nDepends-On: https://review.opendev.org/#/c/736818/\nChange-Id: Ice85389d27d6668bbb9994f878cefd09a0d455be\n'}, {'number': 4, 'created': '2020-06-25 08:41:42.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/26ce16e05ecc25319418a9735814c94428b92589', 'message': 'DNM check UDP pool fix\n\nDepends-On: https://review.opendev.org/#/c/736818/\nChange-Id: Ice85389d27d6668bbb9994f878cefd09a0d455be\n'}]",0,737283,26ce16e05ecc25319418a9735814c94428b92589,24,2,4,29244,,,0,"DNM check UDP pool fix

Depends-On: https://review.opendev.org/#/c/736818/
Change-Id: Ice85389d27d6668bbb9994f878cefd09a0d455be
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/83/737283/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,3675d7acc6f37c5adc91e4c5707afa24e53fc9a5,, #- octavia-v2-dsvm-noop-api #- octavia-v2-dsvm-noop-api-stable-train #- octavia-v2-dsvm-noop-api-stable-stein #- octavia-v2-dsvm-scenario-ipv6-only: # voting: false #- octavia-v2-act-stdby-dsvm-scenario-two-node: # voting: false #- octavia-v2-act-stdby-dsvm-scenario: # voting: false #- octavia-v2-act-stdby-dsvm-scenario-stable-train: # voting: false #- octavia-v2-act-stdby-dsvm-scenario-stable-stein: # voting: false #- octavia-v2-dsvm-tls-barbican: # voting: false #- octavia-v2-dsvm-tls-barbican-stable-train: # voting: false #- octavia-v2-dsvm-tls-barbican-stable-stein: # voting: false #- octavia-v2-dsvm-spare-pool: # voting: false #- octavia-v2-dsvm-spare-pool-stable-train: # voting: false #- octavia-v2-dsvm-spare-pool-stable-stein: # voting: false #- octavia-v2-dsvm-cinder-amphora: # voting: false, - octavia-v2-dsvm-noop-api - octavia-v2-dsvm-noop-api-stable-train - octavia-v2-dsvm-noop-api-stable-stein - octavia-v2-dsvm-scenario-ipv6-only: voting: false - octavia-v2-act-stdby-dsvm-scenario-two-node: voting: false - octavia-v2-act-stdby-dsvm-scenario: voting: false - octavia-v2-act-stdby-dsvm-scenario-stable-train: voting: false - octavia-v2-act-stdby-dsvm-scenario-stable-stein: voting: false - octavia-v2-dsvm-tls-barbican: voting: false - octavia-v2-dsvm-tls-barbican-stable-train: voting: false - octavia-v2-dsvm-tls-barbican-stable-stein: voting: false - octavia-v2-dsvm-spare-pool: voting: false - octavia-v2-dsvm-spare-pool-stable-train: voting: false - octavia-v2-dsvm-spare-pool-stable-stein: voting: false - octavia-v2-dsvm-cinder-amphora: voting: false,27,27
openstack%2Fheat~stable%2Fqueens~If70d457fba5c64611173e3f9a0ae6b155ec69e06,openstack/heat,stable/queens,If70d457fba5c64611173e3f9a0ae6b155ec69e06,Merge before/after 'requires' list on update failure,MERGED,2020-07-14 11:03:33.000000000,2020-07-27 12:34:44.000000000,2020-07-27 12:34:44.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-14 11:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c24068a8dda86728619d5b006f36e70c4203aec1', 'message': ""Merge before/after 'requires' list on update failure\n\nIf an update of a resource fails, its 'requires' should be set to a union\nof the previous and new requires lists. This is because if the resource\ndepends on a resource that has been replaced in this stack update, we can't\nknow if the current resource now depends on the new or old version of the\nreplaced resource if the current resource failed.\n\nThis is achieved by splitting up the setting of 'requires' and\n'current_template_id', and changing them directly in the update() method\ninstead of via a callback.\n\nWhen the resource state is changed to UPDATE_IN_PROGRESS, the new\nrequirements are added to the old ones. When the state is changed to\nUPDATE_COMPLETE, the new requirements replace the old ones altogether. If\nthe update fails or handle_update() raises UpdateReplace, the union of the\nrequirements is kept. If _needs_update() raises UpdateReplace, the old\nrequirements are kept.\n\nThe current_template_id is updated when the state is changed to either\nUPDATE_COMPLETE or UPDATE_FAILED, or when no update is required\n(_needs_update() returns False).\n\nThis also saves an extra database write when the update fails.\n\nChange-Id: If70d457fba5c64611173e3f9a0ae6b155ec69e06\nCloses-Bug: #1663388\n(cherry picked from commit e649574d4751ffd8578f63787621c3a26d383a34)\n""}, {'number': 2, 'created': '2020-07-24 07:54:06.000000000', 'files': ['heat/engine/resource.py', 'heat/tests/test_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/da991316e4ac4813797b96c129ba35f6ddd0a043', 'message': ""Merge before/after 'requires' list on update failure\n\nIf an update of a resource fails, its 'requires' should be set to a union\nof the previous and new requires lists. This is because if the resource\ndepends on a resource that has been replaced in this stack update, we can't\nknow if the current resource now depends on the new or old version of the\nreplaced resource if the current resource failed.\n\nThis is achieved by splitting up the setting of 'requires' and\n'current_template_id', and changing them directly in the update() method\ninstead of via a callback.\n\nWhen the resource state is changed to UPDATE_IN_PROGRESS, the new\nrequirements are added to the old ones. When the state is changed to\nUPDATE_COMPLETE, the new requirements replace the old ones altogether. If\nthe update fails or handle_update() raises UpdateReplace, the union of the\nrequirements is kept. If _needs_update() raises UpdateReplace, the old\nrequirements are kept.\n\nThe current_template_id is updated when the state is changed to either\nUPDATE_COMPLETE or UPDATE_FAILED, or when no update is required\n(_needs_update() returns False).\n\nThis also saves an extra database write when the update fails.\n\nChange-Id: If70d457fba5c64611173e3f9a0ae6b155ec69e06\nCloses-Bug: #1663388\n(cherry picked from commit e649574d4751ffd8578f63787621c3a26d383a34)\n""}]",0,740940,da991316e4ac4813797b96c129ba35f6ddd0a043,21,4,2,7353,,,0,"Merge before/after 'requires' list on update failure

If an update of a resource fails, its 'requires' should be set to a union
of the previous and new requires lists. This is because if the resource
depends on a resource that has been replaced in this stack update, we can't
know if the current resource now depends on the new or old version of the
replaced resource if the current resource failed.

This is achieved by splitting up the setting of 'requires' and
'current_template_id', and changing them directly in the update() method
instead of via a callback.

When the resource state is changed to UPDATE_IN_PROGRESS, the new
requirements are added to the old ones. When the state is changed to
UPDATE_COMPLETE, the new requirements replace the old ones altogether. If
the update fails or handle_update() raises UpdateReplace, the union of the
requirements is kept. If _needs_update() raises UpdateReplace, the old
requirements are kept.

The current_template_id is updated when the state is changed to either
UPDATE_COMPLETE or UPDATE_FAILED, or when no update is required
(_needs_update() returns False).

This also saves an extra database write when the update fails.

Change-Id: If70d457fba5c64611173e3f9a0ae6b155ec69e06
Closes-Bug: #1663388
(cherry picked from commit e649574d4751ffd8578f63787621c3a26d383a34)
",git fetch https://review.opendev.org/openstack/heat refs/changes/40/740940/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resource.py', 'heat/tests/test_resource.py']",2,c24068a8dda86728619d5b006f36e70c4203aec1,," self.assertItemsEqual([2, 3, 4], res.requires) self._assert_resource_lock(res.id, None, 2)"," self.assertItemsEqual([3, 4], res.requires) self._assert_resource_lock(res.id, None, 3)",37,41
openstack%2Fironic-python-agent-builder~master~I3d34d65b5536a0a06184da44e12b8534c29300e5,openstack/ironic-python-agent-builder,master,I3d34d65b5536a0a06184da44e12b8534c29300e5,Add dynamic-login to our published images by default,MERGED,2020-07-23 15:14:54.000000000,2020-07-27 12:32:18.000000000,2020-07-27 12:28:46.000000000,"[{'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-23 15:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/af9307c6b328ca1f1138ba24533f6286cdf2c4c2', 'message': ""Add dynamic-login to our published images by default\n\nIt's very useful for debugging and does not expose access by default.\n\nChange-Id: I3d34d65b5536a0a06184da44e12b8534c29300e5\n""}, {'number': 2, 'created': '2020-07-23 20:35:32.000000000', 'files': ['roles/ipa-build-dib-image/tasks/main.yaml', 'doc/source/admin/dib.rst', 'roles/ipa-build-dib-image/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/4a415504f3e94a964b1caaab5eb3988508315ea6', 'message': ""Add dynamic-login to our published images by default\n\nIt's very useful for debugging and does not expose access by default.\n\nChange-Id: I3d34d65b5536a0a06184da44e12b8534c29300e5\n""}]",0,742692,4a415504f3e94a964b1caaab5eb3988508315ea6,14,6,2,10239,,,0,"Add dynamic-login to our published images by default

It's very useful for debugging and does not expose access by default.

Change-Id: I3d34d65b5536a0a06184da44e12b8534c29300e5
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/92/742692/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ipa-build-dib-image/tasks/main.yaml', 'doc/source/admin/dib.rst', 'roles/ipa-build-dib-image/defaults/main.yaml']",3,af9307c6b328ca1f1138ba24533f6286cdf2c4c2,dynamic-login,"extra_elements: [""dynamic-login""]",,7,0
openstack%2Fopenstack-ansible-tests~stable%2Ftrain~Id65322050db9f0e1d963eb7606a761925e7d79cb,openstack/openstack-ansible-tests,stable/train,Id65322050db9f0e1d963eb7606a761925e7d79cb,Bump ansible version to 2.8.13,MERGED,2020-06-18 06:49:44.000000000,2020-07-27 12:31:47.000000000,2020-07-27 12:28:51.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-06-18 06:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/7ad2dac81febf533c132f545deae6e807a966152', 'message': 'Bump ansible version to 2.8.12\n\nChange-Id: Id65322050db9f0e1d963eb7606a761925e7d79cb\n'}, {'number': 2, 'created': '2020-07-21 15:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/9ab7e56a53a82186d755044daae4547e69046793', 'message': 'Bump ansible version to 2.8.13\n\nChange-Id: Id65322050db9f0e1d963eb7606a761925e7d79cb\n'}, {'number': 3, 'created': '2020-07-21 15:06:24.000000000', 'files': ['test-ansible-deps.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/5c6e0f8860ed8fab5add97ff9b98a656f1035baf', 'message': 'Bump ansible version to 2.8.13\n\nChange-Id: Id65322050db9f0e1d963eb7606a761925e7d79cb\n'}]",0,736467,5c6e0f8860ed8fab5add97ff9b98a656f1035baf,18,4,3,25023,,,0,"Bump ansible version to 2.8.13

Change-Id: Id65322050db9f0e1d963eb7606a761925e7d79cb
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/67/736467/1 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-deps.txt'],1,7ad2dac81febf533c132f545deae6e807a966152,,ansible==2.8.12,ansible==2.8.8,1,1
openstack%2Frpm-packaging~master~I63692795cf2dd5a61119169afbb46d66427a4069,openstack/rpm-packaging,master,I63692795cf2dd5a61119169afbb46d66427a4069,update keystoneauth1 to 4.2.0,MERGED,2020-07-24 07:19:11.000000000,2020-07-27 12:30:39.000000000,2020-07-27 12:30:39.000000000,"[{'_account_id': 6593}, {'_account_id': 17246}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 07:19:11.000000000', 'files': ['openstack/keystoneauth1/keystoneauth1.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1d1ed5d1ecd20e2d2a7f684c948db85c9b7cc99d', 'message': 'update keystoneauth1 to 4.2.0\n\nChange-Id: I63692795cf2dd5a61119169afbb46d66427a4069\n'}]",0,742802,1d1ed5d1ecd20e2d2a7f684c948db85c9b7cc99d,10,6,1,28654,,,0,"update keystoneauth1 to 4.2.0

Change-Id: I63692795cf2dd5a61119169afbb46d66427a4069
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/02/742802/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/keystoneauth1/keystoneauth1.spec.j2'],1,1d1ed5d1ecd20e2d2a7f684c948db85c9b7cc99d,keystoneauth1,{% set upstream_version = upstream_version('4.2.0') %},{% set upstream_version = upstream_version('4.0.0') %},1,1
openstack%2Fos-brick~master~I35b8c30f94c36f2fbdaffe031073c87244dfe95b,openstack/os-brick,master,I35b8c30f94c36f2fbdaffe031073c87244dfe95b,rbd: Handle unmounted device,ABANDONED,2020-07-22 15:54:57.000000000,2020-07-27 12:18:52.000000000,,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-07-22 15:54:57.000000000', 'files': ['os_brick/tests/initiator/connectors/test_rbd.py', 'os_brick/initiator/connectors/rbd.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/0557ed5892e7e0548c2962590699c79917b576aa', 'message': 'rbd: Handle unmounted device\n\nAdd a sanity check to ensure the ceph volume is actually mounted\nlocally.\n\nChange-Id: I35b8c30f94c36f2fbdaffe031073c87244dfe95b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",2,742469,0557ed5892e7e0548c2962590699c79917b576aa,16,13,1,15334,,,0,"rbd: Handle unmounted device

Add a sanity check to ensure the ceph volume is actually mounted
locally.

Change-Id: I35b8c30f94c36f2fbdaffe031073c87244dfe95b
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/69/742469/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_rbd.py', 'os_brick/initiator/connectors/rbd.py']",2,0557ed5892e7e0548c2962590699c79917b576aa,bug/1884114," # Sanity check if device is mounted root_device = self._find_root_device(connection_properties) if not root_device: msg = _(""Device does not appear to be mounted"") LOG.error(msg) raise exception.BrickException(message=msg) ",,42,4
openstack%2Fansible-hardening~master~I1d485edac47a29c48e280f99bb2a3839739d7a7b,openstack/ansible-hardening,master,I1d485edac47a29c48e280f99bb2a3839739d7a7b,Stop to use the __future__ module.,MERGED,2020-06-02 17:33:01.000000000,2020-07-27 12:08:19.000000000,2020-07-27 12:04:52.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-06-02 17:33:01.000000000', 'files': ['doc/source/_exts/metadata-docs-rhel7.py'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/b2b89afb082d498ad7b9cfdf14d7efa996f4cc34', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I1d485edac47a29c48e280f99bb2a3839739d7a7b\n""}]",0,732751,b2b89afb082d498ad7b9cfdf14d7efa996f4cc34,9,4,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I1d485edac47a29c48e280f99bb2a3839739d7a7b
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/51/732751/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/_exts/metadata-docs-rhel7.py'],1,b2b89afb082d498ad7b9cfdf14d7efa996f4cc34,drop_future_imports,,"from __future__ import print_function, unicode_literals",0,1
openstack%2Fopenstack-ansible-os_glance~stable%2Ftrain~Icf572c656c24b646110ce3fd90727205c22eff15,openstack/openstack-ansible-os_glance,stable/train,Icf572c656c24b646110ce3fd90727205c22eff15,Make possible to run glance-api not with uwsgi,MERGED,2020-07-22 13:50:32.000000000,2020-07-27 12:06:35.000000000,2020-07-27 12:04:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-22 13:50:32.000000000', 'files': ['templates/glance-api.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/68f9ccab1cad0ac3422b7294598e09a4d05a2edf', 'message': 'Make possible to run glance-api not with uwsgi\n\nWhile running as uwsgi glance has malfunctioning interoperable image\nimport feature. So we add new variable `glance_use_uwsgi` based on which\nglance will be either started via uwsgi or as a regular service.\nAlso once glance_use_uwsgi is true, enable_image_import will be disabled\n\nChange-Id: Icf572c656c24b646110ce3fd90727205c22eff15\n(cherry picked from commit fbe7177e7d7cd09ae602941bfb1be86a6a14ae99)\n'}]",0,742433,68f9ccab1cad0ac3422b7294598e09a4d05a2edf,11,4,1,28619,,,0,"Make possible to run glance-api not with uwsgi

While running as uwsgi glance has malfunctioning interoperable image
import feature. So we add new variable `glance_use_uwsgi` based on which
glance will be either started via uwsgi or as a regular service.
Also once glance_use_uwsgi is true, enable_image_import will be disabled

Change-Id: Icf572c656c24b646110ce3fd90727205c22eff15
(cherry picked from commit fbe7177e7d7cd09ae602941bfb1be86a6a14ae99)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/33/742433/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/glance-api.conf.j2', 'defaults/main.yml']",2,68f9ccab1cad0ac3422b7294598e09a4d05a2edf,,"# With enabled uwsgi glance has broken functionality of # the interoperable import feature (and maybe smth else) glance_use_uwsgi: True execstarts: ""{{ glance_bin }}/glance-api --config-file /etc/glance/glance.conf"" wsgi_app: ""{{ glance_use_uwsgi }}"" execstarts: ""{{ glance_bin }}/glance-registry"""," wsgi_app: True execstarts: ""{{ _glance_bin }}/glance-registry""",8,2
openstack%2Fopenstack-ansible~stable%2Fstein~I59a25003bd81c95d911f5e4ced3b3a339203fb7f,openstack/openstack-ansible,stable/stein,I59a25003bd81c95d911f5e4ced3b3a339203fb7f,Bump SHAs for stable/stein,MERGED,2020-07-26 15:56:27.000000000,2020-07-27 12:06:22.000000000,2020-07-27 12:02:10.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-26 15:56:27.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0195dace9abf20ee5abb3ab500d5cc806208277a', 'message': 'Bump SHAs for stable/stein\n\nChange-Id: I59a25003bd81c95d911f5e4ced3b3a339203fb7f\n'}]",0,743062,0195dace9abf20ee5abb3ab500d5cc806208277a,8,3,1,28619,,,0,"Bump SHAs for stable/stein

Change-Id: I59a25003bd81c95d911f5e4ced3b3a339203fb7f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/62/743062/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,0195dace9abf20ee5abb3ab500d5cc806208277a,bump_osa, version: c801daedaf07d4df36869685a27637e4de7768e0, version: 3fb6a0357747af68fc23775f077d318481dae741,49,49
openstack%2Fkolla-ansible~master~I3e0e077ba6a6f43667df042eb593107418a06c39,openstack/kolla-ansible,master,I3e0e077ba6a6f43667df042eb593107418a06c39,Improve Grafana DB bootstrap,MERGED,2020-07-23 14:49:36.000000000,2020-07-27 12:03:41.000000000,2020-07-27 11:57:49.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-23 14:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e59e073e36141a62fe5696bed64e3ef15ea31f4f', 'message': ""Improve Grafana DB bootstrap\n\nThis fixes an issue where multiple Grafana instances would race\nto bootstrap the Grafana DB. The following changes are made:\n\n- Only start additional Grafana instances after the DB has been\n  configured.\n\n- During upgrade, don't allow old instances to run with an\n  upgraded DB schema.\n\nChange-Id: I3e0e077ba6a6f43667df042eb593107418a06c39\nCloses-Bug: #1888681\n""}, {'number': 2, 'created': '2020-07-23 14:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d98ab05aef059a009475da1dc29aeaaa9b7b4fe8', 'message': ""Improve Grafana DB bootstrap\n\nThis fixes an issue where multiple Grafana instances would race\nto bootstrap the Grafana DB. The following changes are made:\n\n- Only start additional Grafana instances after the DB has been\n  configured.\n\n- During upgrade, don't allow old instances to run with an\n  upgraded DB schema.\n\nChange-Id: I3e0e077ba6a6f43667df042eb593107418a06c39\nCloses-Bug: #1888681\n""}, {'number': 3, 'created': '2020-07-24 15:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/55d0ffcf426446959d8157fcbc54cd0c78cb58f8', 'message': ""Improve Grafana DB bootstrap\n\nThis fixes an issue where multiple Grafana instances would race\nto bootstrap the Grafana DB. The following changes are made:\n\n- Only start additional Grafana instances after the DB has been\n  configured.\n\n- During upgrade, don't allow old instances to run with an\n  upgraded DB schema.\n\nChange-Id: I3e0e077ba6a6f43667df042eb593107418a06c39\nCloses-Bug: #1888681\n""}, {'number': 4, 'created': '2020-07-27 08:24:53.000000000', 'files': ['ansible/roles/monasca/handlers/main.yml', 'releasenotes/notes/fix-multi-instance-grafana-db-bootstrap-298feba3e1750aca.yaml', 'ansible/roles/monasca/tasks/upgrade.yml', 'ansible/roles/grafana/tasks/upgrade.yml', 'ansible/roles/grafana/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2c730590d72e7b6d3056c53804f924d43dab8363', 'message': ""Improve Grafana DB bootstrap\n\nThis fixes an issue where multiple Grafana instances would race\nto bootstrap the Grafana DB. The following changes are made:\n\n- Only start additional Grafana instances after the DB has been\n  configured.\n\n- During upgrade, don't allow old instances to run with an\n  upgraded DB schema.\n\nChange-Id: I3e0e077ba6a6f43667df042eb593107418a06c39\nCloses-Bug: #1888681\n""}]",2,742688,2c730590d72e7b6d3056c53804f924d43dab8363,20,4,4,17669,,,0,"Improve Grafana DB bootstrap

This fixes an issue where multiple Grafana instances would race
to bootstrap the Grafana DB. The following changes are made:

- Only start additional Grafana instances after the DB has been
  configured.

- During upgrade, don't allow old instances to run with an
  upgraded DB schema.

Change-Id: I3e0e077ba6a6f43667df042eb593107418a06c39
Closes-Bug: #1888681
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/742688/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/monasca/handlers/main.yml', 'releasenotes/notes/fix-multi-instance-grafana-db-bootstrap-298feba3e1750aca.yaml', 'ansible/roles/monasca/tasks/upgrade.yml', 'ansible/roles/grafana/tasks/upgrade.yml', 'ansible/roles/grafana/handlers/main.yml']",5,e59e073e36141a62fe5696bed64e3ef15ea31f4f,bug/1888681,"- name: Restart first grafana container listen: Restart grafana container - inventory_hostname == groups[service.group]|first - name: Waiting for grafana to start on first node listen: Restart grafana container vars: service_name: ""grafana"" service: ""{{ grafana_services[service_name] }}"" become: true kolla_toolbox: module_name: uri module_args: url: ""{{ internal_protocol }}://{{ api_interface_address | put_address_in_context('url') }}:{{ grafana_server_port }}/login"" status_code: 200 register: result until: result.get('status') == 200 retries: 10 delay: 2 when: - inventory_hostname == groups[service.group]|first - name: Restart remaining grafana containers listen: Restart grafana container vars: service_name: ""grafana"" service: ""{{ grafana_services[service_name] }}"" become: true kolla_docker: action: ""recreate_or_restart_container"" common_options: ""{{ docker_common_options }}"" name: ""{{ service.container_name }}"" image: ""{{ service.image }}"" volumes: ""{{ service.volumes }}"" dimensions: ""{{ service.dimensions }}"" when: - kolla_action != ""config"" - inventory_hostname != groups[service.group]|first",- name: Restart grafana container,136,2
openstack%2Fcinder~stable%2Fqueens~I3a40a5865cfed8e29dd58d31d955840ec6370a69,openstack/cinder,stable/queens,I3a40a5865cfed8e29dd58d31d955840ec6370a69,tintri: Enable SSL with requests,MERGED,2020-06-10 00:33:29.000000000,2020-07-27 11:49:25.000000000,2020-07-27 11:49:25.000000000,"[{'_account_id': 24}, {'_account_id': 1736}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 17685}, {'_account_id': 19933}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-06-10 00:33:29.000000000', 'files': ['cinder/volume/drivers/tintri.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/abdfc35f37520f94f7d6b99c1bc786a9120aa11c', 'message': 'tintri: Enable SSL with requests\n\nSSL requests are not being verified when contacting the\nREST API. Use the driver_ssl_cert_verify config option\nto turn on or off. Defaults to False.\n\nChange-Id: I3a40a5865cfed8e29dd58d31d955840ec6370a69\nSigned-off-by: Chuck Short <chucks@redhat.com>\n(cherry picked from commit 7d85fa9a0cc484af24a688f6db568e15d82acaa0)\n'}]",0,734724,abdfc35f37520f94f7d6b99c1bc786a9120aa11c,43,18,1,14892,,,0,"tintri: Enable SSL with requests

SSL requests are not being verified when contacting the
REST API. Use the driver_ssl_cert_verify config option
to turn on or off. Defaults to False.

Change-Id: I3a40a5865cfed8e29dd58d31d955840ec6370a69
Signed-off-by: Chuck Short <chucks@redhat.com>
(cherry picked from commit 7d85fa9a0cc484af24a688f6db568e15d82acaa0)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/24/734724/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/tintri.py'],1,abdfc35f37520f94f7d6b99c1bc786a9120aa11c,," self.verify_ssl = getattr(self.configuration, 'driver_ssl_cert_verify') self.ssl_cert_path = getattr(self.configuration, 'driver_ssl_cert_path') params=query, verify=self.verify_ssl, cert=self.ssl_cert_path) return requests.delete(url, headers=self.headers, verify=self.verify_ssl, cert=self.ssl_cert_path) headers=self.headers, verify=self.verify_ssl, cert=self.ssl_cert_path) headers=self.headers, verify=self.verify_ssl, cert=self.ssl_cert_path) headers=headers, verify=self.verify_ssl, cert=self.ssl_cert_path) requests.get(url, headers=self.headers, verify=self.verify_ssl, cert=self.ssl_cert_path)"," params=query, verify=False) return requests.delete(url, headers=self.headers, verify=False) headers=self.headers, verify=False) headers=self.headers, verify=False) headers=headers, verify=False) requests.get(url, headers=self.headers, verify=False)",20,6
openstack%2Ftripleo-ansible~master~I5110a9e2bd3888c9aae174fd27cede0e89d1046a,openstack/tripleo-ansible,master,I5110a9e2bd3888c9aae174fd27cede0e89d1046a,Stop caturing stdout for container-image-prepare,MERGED,2020-07-24 20:16:25.000000000,2020-07-27 11:46:56.000000000,2020-07-27 11:29:33.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-24 20:16:25.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_image_prepare/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/569b4284982f21f9e0fc9592912de28884e2cb28', 'message': 'Stop caturing stdout for container-image-prepare\n\nWe log container-image-prepare to a file so we should just /dev/null\nstdout. stderr will still be captured if something goes wrong but the\nstdout is excessively large especially with --debug enabled.\n\nChange-Id: I5110a9e2bd3888c9aae174fd27cede0e89d1046a\n'}]",0,742990,569b4284982f21f9e0fc9592912de28884e2cb28,10,5,1,14985,,,0,"Stop caturing stdout for container-image-prepare

We log container-image-prepare to a file so we should just /dev/null
stdout. stderr will still be captured if something goes wrong but the
stdout is excessively large especially with --debug enabled.

Change-Id: I5110a9e2bd3888c9aae174fd27cede0e89d1046a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/90/742990/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_image_prepare/tasks/main.yml'],1,569b4284982f21f9e0fc9592912de28884e2cb28,collect-image-prepare-no-stdout, shell: >- >/dev/null, command: >-,2,1
openstack%2Frpm-packaging~master~I10a90e92c4d8421a34211a9e3a4eb8e24bf7c772,openstack/rpm-packaging,master,I10a90e92c4d8421a34211a9e3a4eb8e24bf7c772,oslo.* release version updates,MERGED,2020-07-22 07:30:08.000000000,2020-07-27 11:43:33.000000000,2020-07-27 11:43:33.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 17246}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-22 07:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/189a7d182738e87c3fa544831efacdaa2f3dc73b', 'message': 'oslo.* release version updates\n\nChange-Id: I10a90e92c4d8421a34211a9e3a4eb8e24bf7c772\n'}, {'number': 2, 'created': '2020-07-22 18:22:10.000000000', 'files': ['openstack/oslo.utils/oslo.utils.spec.j2', 'openstack/oslo.vmware/oslo.vmware.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/718de0c7f8280381f4e0ccde9bf0973c0b21113d', 'message': 'oslo.* release version updates\n\nChange-Id: I10a90e92c4d8421a34211a9e3a4eb8e24bf7c772\n'}]",0,742358,718de0c7f8280381f4e0ccde9bf0973c0b21113d,15,7,2,6593,,,0,"oslo.* release version updates

Change-Id: I10a90e92c4d8421a34211a9e3a4eb8e24bf7c772
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/58/742358/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/oslo.utils/oslo.utils.spec.j2', 'openstack/oslo.vmware/oslo.vmware.spec.j2']",2,189a7d182738e87c3fa544831efacdaa2f3dc73b,,{% set upstream_version = upstream_version('3.5.0') %},{% set upstream_version = upstream_version('3.4.0') %},2,2
openstack%2Fpython-cyborgclient~master~Iefcfc4b0f1ca9dd9e779c85ee2ec4fd97d0efe3d,openstack/python-cyborgclient,master,Iefcfc4b0f1ca9dd9e779c85ee2ec4fd97d0efe3d,Enable openstackdocs config to storyboard,MERGED,2020-06-09 01:20:28.000000000,2020-07-27 11:43:08.000000000,2020-07-27 11:40:02.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2020-06-09 01:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/d004e738cab9d802c4c069b85ebb9d1f3ab99230', 'message': 'Remove openstackdocs bug config\n\nhttps://review.opendev.org/#/c/729007/3 added some config related to\nlaunchpad, but Cyborg does not enable launchpad, using storyboard.\nIMO, These configurations have no effect.\n\nTalked in Ussuri PTG in Cyborg, whether launchpad is enabled for Cyborg,\nwe have not reached a consensus agreement.\n\nSee line 291: https://etherpad.opendev.org/p/cyborg-victoria-goals\n\nChange-Id: Iefcfc4b0f1ca9dd9e779c85ee2ec4fd97d0efe3d\n'}, {'number': 2, 'created': '2020-06-09 06:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/08c7bf6f79a2c94fdc04134d62d620c55f8bbf59', 'message': 'Remove openstackdocs bug config\n\nhttps://review.opendev.org/#/c/729007/3 renamed some config related to\nlaunchpad, but Cyborg does not enable launchpad, using storyboard.\nIf the configuration is incorrect, they will add the bug icon to allow\nreporting from a page.\n\nTalked in Ussuri PTG in Cyborg, whether launchpad is enabled for Cyborg,\nwe have not reached a consensus agreement.\n\nSee line 291: https://etherpad.opendev.org/p/cyborg-victoria-goals\n\nChange-Id: Iefcfc4b0f1ca9dd9e779c85ee2ec4fd97d0efe3d\n'}, {'number': 3, 'created': '2020-06-09 06:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/f5041f7c8d0820c2c33e8896b0407f8ec5b95951', 'message': 'Enable openstackdocs config to storyboard\n\nhttps://review.opendev.org/#/c/729007/3 renamed some config related to\nlaunchpad, but Cyborg does not enable launchpad, using storyboard.\nIf the configuration is incorrect, they will add the bug icon to allow\nreporting from a page.\n\nUsing openstackdocs_use_storyboard = True in the docs config file.\n\nTalked in Ussuri PTG in Cyborg, whether launchpad is enabled for Cyborg,\nwe have not reached a consensus agreement.\n\nSee line 291: https://etherpad.opendev.org/p/cyborg-victoria-goals\n\nChange-Id: Iefcfc4b0f1ca9dd9e779c85ee2ec4fd97d0efe3d\n'}, {'number': 4, 'created': '2020-07-16 09:28:20.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/92bab3c19c771a05755390f460e3236382ab2184', 'message': 'Enable openstackdocs config to storyboard\n\nhttps://review.opendev.org/#/c/729007/3 renamed some config related to\nlaunchpad, but Cyborg does not enable launchpad, using storyboard.\nIf the configuration is incorrect, they will add the bug icon to allow\nreporting from a page.\n\nUsing openstackdocs_use_storyboard = True in the docs config file.\n\nTalked in Ussuri PTG in Cyborg, whether launchpad is enabled for Cyborg,\nwe have not reached a consensus agreement.\n\nSee line 291: https://etherpad.opendev.org/p/cyborg-victoria-goals\n\nChange-Id: Iefcfc4b0f1ca9dd9e779c85ee2ec4fd97d0efe3d\n'}]",9,734403,92bab3c19c771a05755390f460e3236382ab2184,20,6,4,26458,,,0,"Enable openstackdocs config to storyboard

https://review.opendev.org/#/c/729007/3 renamed some config related to
launchpad, but Cyborg does not enable launchpad, using storyboard.
If the configuration is incorrect, they will add the bug icon to allow
reporting from a page.

Using openstackdocs_use_storyboard = True in the docs config file.

Talked in Ussuri PTG in Cyborg, whether launchpad is enabled for Cyborg,
we have not reached a consensus agreement.

See line 291: https://etherpad.opendev.org/p/cyborg-victoria-goals

Change-Id: Iefcfc4b0f1ca9dd9e779c85ee2ec4fd97d0efe3d
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/03/734403/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,d004e738cab9d802c4c069b85ebb9d1f3ab99230,,,openstackdocs_bug_project = 'https://bugs.launchpad.net/python-cyborgclient' openstackdocs_bug_tag = '',0,4
openstack%2Fcharm-ceph-proxy~master~I45a84f4b252118527a0991a61b526960864dacd7,openstack/charm-ceph-proxy,master,I45a84f4b252118527a0991a61b526960864dacd7,Add Victoria test bundles,MERGED,2020-07-27 09:06:56.000000000,2020-07-27 11:42:05.000000000,2020-07-27 11:42:05.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 09:06:56.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/7c5254a8184f1ffbe33a85a98cd5aea364ccbb12', 'message': 'Add Victoria test bundles\n\nChange-Id: I45a84f4b252118527a0991a61b526960864dacd7\n'}]",0,743168,7c5254a8184f1ffbe33a85a98cd5aea364ccbb12,7,3,1,31289,,,0,"Add Victoria test bundles

Change-Id: I45a84f4b252118527a0991a61b526960864dacd7
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/68/743168/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml']",3,7c5254a8184f1ffbe33a85a98cd5aea364ccbb12,victoria-charm-tests,"variables: openstack-origin: &openstack-origin distro series: groovy comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': '7': '8': '9': '10': '11': '12': '13': '14': '15': applications: cinder-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: expected-osd-count: 3 source: *openstack-origin to: - '3' - '4' - '5' ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 storage: osd-devices: 10G options: source: *openstack-origin to: - '6' - '7' - '8' ceph-proxy: charm: ceph-proxy num_units: 1 options: source: *openstack-origin to: - '9' ceph-radosgw: charm: cs:~openstack-charmers-next/ceph-radosgw num_units: 1 options: source: *openstack-origin to: - '10' cinder: charm: cs:~openstack-charmers-next/cinder num_units: 1 options: openstack-origin: *openstack-origin block-device: """" ephemeral-unmount: """" glance-api-version: 2 overwrite: ""false"" constraints: mem=2048 to: - '11' cinder-ceph: charm: cs:~openstack-charmers-next/cinder-ceph options: restrict-ceph-pools: True keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin admin-password: openstack constraints: mem=1024 to: - '12' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 constraints: mem=1024 options: source: *openstack-origin to: - '13' glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '14' nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 1 options: openstack-origin: *openstack-origin to: - '15' relations: - - 'ceph-osd:mon' - 'ceph-mon:osd' - - 'ceph-proxy:radosgw' - 'ceph-radosgw:mon' - - 'cinder:amqp' - 'rabbitmq-server:amqp' - - 'cinder:shared-db' - 'cinder-mysql-router:shared-db' - - 'cinder-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'cinder:identity-service' - 'keystone:identity-service' - - 'cinder-ceph:storage-backend' - 'cinder:storage-backend' - - 'cinder-ceph:ceph' - 'ceph-proxy:client' - - 'glance:image-service' - 'nova-compute:image-service' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-compute:ceph-access' - 'cinder-ceph:ceph-access' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' ",,375,1
openstack%2Frally-openstack~master~I343a582c2ebed729cddebcb6ae8c660c29fec221,openstack/rally-openstack,master,I343a582c2ebed729cddebcb6ae8c660c29fec221,Fix for KeyError during config preparation,MERGED,2020-07-25 20:18:19.000000000,2020-07-27 11:41:14.000000000,2020-07-27 11:41:14.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-25 20:18:19.000000000', 'files': ['rally_openstack/verification/tempest/context.py'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/59493879491f5d37282789e26bab2ac13afe14f7', 'message': 'Fix for KeyError during config preparation\n\nIn this context, res has keys [\'network\', \'subnets\', \'routers\'] -\nit looks like the correct reference should be res[""network""][""name""]\n\nChange-Id: I343a582c2ebed729cddebcb6ae8c660c29fec221\nCloses-Bug: 1888866\n'}]",0,743044,59493879491f5d37282789e26bab2ac13afe14f7,6,2,1,10910,,,0,"Fix for KeyError during config preparation

In this context, res has keys ['network', 'subnets', 'routers'] -
it looks like the correct reference should be res[""network""][""name""]

Change-Id: I343a582c2ebed729cddebcb6ae8c660c29fec221
Closes-Bug: 1888866
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/44/743044/1 && git format-patch -1 --stdout FETCH_HEAD,['rally_openstack/verification/tempest/context.py'],1,59493879491f5d37282789e26bab2ac13afe14f7,bug/1888866," value = res[""network""][""name""] if (""network"" in option) else res.id"," value = res[""name""] if ""network"" in option else res.id",2,1
openstack%2Fcyborg-tempest-plugin~master~I02be5a7248a8b7476049bee120c78f8ff1a4c622,openstack/cyborg-tempest-plugin,master,I02be5a7248a8b7476049bee120c78f8ff1a4c622,Switch to newer openstackdocstheme and reno versions,MERGED,2020-06-09 01:30:15.000000000,2020-07-27 11:38:55.000000000,2020-07-27 11:38:55.000000000,"[{'_account_id': 14131}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2020-06-09 01:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/3d20f72158aecae3527b9290f3c722a9be3ffbec', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: I02be5a7248a8b7476049bee120c78f8ff1a4c622\n""}, {'number': 2, 'created': '2020-06-09 05:54:09.000000000', 'files': ['test-requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/12cf488a685de278f5a5c08c53f83df4448d7e2f', 'message': ""Switch to newer openstackdocstheme and reno versions\n\nSwitch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using\nthese versions will allow especially:\n* Linking from HTML to PDF document\n* Allow parallel building of documents\n* Fix some rendering problems\n\nUpdate Sphinx version as well.\n\nopenstackdocstheme renames some variables, so follow the renames\nbefore the next release removes them. A couple of variables are also\nnot needed anymore, remove them.\n\nChange pygments_style to 'native' since old theme version always used\n'native' and the theme now respects the setting and using 'sphinx' can\nlead to some strange rendering.\n\nAdd openstackdocs_use_storyboard = True in releasenotes docs conf.\n\nSee also\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html\n\nChange-Id: I02be5a7248a8b7476049bee120c78f8ff1a4c622\n""}]",1,734406,12cf488a685de278f5a5c08c53f83df4448d7e2f,11,7,2,26458,,,0,"Switch to newer openstackdocstheme and reno versions

Switch to openstackdocstheme 2.2.1 and reno 3.1.0 versions. Using
these versions will allow especially:
* Linking from HTML to PDF document
* Allow parallel building of documents
* Fix some rendering problems

Update Sphinx version as well.

openstackdocstheme renames some variables, so follow the renames
before the next release removes them. A couple of variables are also
not needed anymore, remove them.

Change pygments_style to 'native' since old theme version always used
'native' and the theme now respects the setting and using 'sphinx' can
lead to some strange rendering.

Add openstackdocs_use_storyboard = True in releasenotes docs conf.

See also
http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014971.html

Change-Id: I02be5a7248a8b7476049bee120c78f8ff1a4c622
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/06/734406/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'releasenotes/source/conf.py']",2,3d20f72158aecae3527b9290f3c722a9be3ffbec,,openstackdocs_repo_name = 'openstack/cyborg-tempest-plugin'pygments_style = 'native',repository_name = 'cyborg/cyborg-tempest-plugin' bug_project = '968' bug_tag = ''pygments_style = 'sphinx',5,7
openstack%2Fcharm-neutron-api-plugin-ovn~master~I4cc4b1f10e4bfc9f2a19c3782d826328d59a97c8,openstack/charm-neutron-api-plugin-ovn,master,I4cc4b1f10e4bfc9f2a19c3782d826328d59a97c8,Add Victoria test bundles,MERGED,2020-07-27 09:12:54.000000000,2020-07-27 11:37:27.000000000,2020-07-27 11:37:27.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-27 09:12:54.000000000', 'files': ['src/tests/bundles/overlays/focal-victoria.j2', 'src/tests/bundles/overlays/groovy-victoria.j2', 'src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/e9967a675524a3c95e52212039c4055d50ac4fed', 'message': 'Add Victoria test bundles\n\nChange-Id: I4cc4b1f10e4bfc9f2a19c3782d826328d59a97c8\n'}]",0,743170,e9967a675524a3c95e52212039c4055d50ac4fed,7,3,1,31289,,,0,"Add Victoria test bundles

Change-Id: I4cc4b1f10e4bfc9f2a19c3782d826328d59a97c8
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/70/743170/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/focal-victoria.j2', 'src/tests/bundles/overlays/groovy-victoria.j2', 'src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml']",5,e9967a675524a3c95e52212039c4055d50ac4fed,victoria-charm-tests,dev_bundles: - focal-victoria - groovy-victoria - groovy-victoria, - focal-ussuri,306,1
openstack%2Fbifrost~master~I6f5f08083782f162b6de2db4cc5832fa44d5c8ec,openstack/bifrost,master,I6f5f08083782f162b6de2db4cc5832fa44d5c8ec,Support installing the openstack collection from a local location,MERGED,2020-07-27 08:45:18.000000000,2020-07-27 11:36:26.000000000,2020-07-27 11:34:31.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-27 08:45:18.000000000', 'files': ['scripts/env-setup.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/29cbe1b362760330e6ba1c886f3bf63ba0e799e8', 'message': 'Support installing the openstack collection from a local location\n\nThis is needed for a bifrost CI on the collections.\n\nChange-Id: I6f5f08083782f162b6de2db4cc5832fa44d5c8ec\n'}]",2,743167,29cbe1b362760330e6ba1c886f3bf63ba0e799e8,12,4,1,10239,,,0,"Support installing the openstack collection from a local location

This is needed for a bifrost CI on the collections.

Change-Id: I6f5f08083782f162b6de2db4cc5832fa44d5c8ec
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/67/743167/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/env-setup.sh'],1,29cbe1b362760330e6ba1c886f3bf63ba0e799e8,collections-ci,"ANSIBLE_COLLECTION_SOURCE_PATH= if [[ -d ""${WORKSPACE:-}/openstack/ansible-collections-openstack"" ]]; then ANSIBLE_COLLECTION_SOURCE_PATH=""${WORKSPACE}/openstack/ansible-collections-openstack"" fi if [[ -n ""$ANSIBLE_COLLECTION_SOURCE_PATH"" ]]; then mkdir -p ""$BIFROST_COLLECTIONS_PATHS/ansible_collections/openstack"" ln -s ""$ANSIBLE_COLLECTION_SOURCE_PATH"" ""$BIFROST_COLLECTIONS_PATHS/ansible_collections/openstack/cloud"" fiif [[ -n ""$ANSIBLE_COLLECTION_SOURCE_PATH"" ]]; then echo ""Using openstack ansible collection from $ANSIBLE_COLLECTION_SOURCE_PATH"" elif [[ -z $BIFROST_COLLECTIONS_PATHS ]]; then",if [[ -z $BIFROST_COLLECTIONS_PATHS ]]; then,11,2
openstack%2Fbifrost~master~I062865b1dac4aa437a9d742f1d59e8210d224b46,openstack/bifrost,master,I062865b1dac4aa437a9d742f1d59e8210d224b46,[WIP] Support HTTP basic auth and switch bifrost-cli to it,ABANDONED,2020-07-27 11:09:47.000000000,2020-07-27 11:34:56.000000000,,[],"[{'number': 1, 'created': '2020-07-27 11:09:47.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-keystone-client-config/templates/openrc.j2', 'playbooks/roles/bifrost-keystone-client-config/templates/clouds.yaml.j2', 'playbooks/roles/bifrost-ironic-install/templates/ironic-inspector.conf.j2', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Debian_family.yml', 'releasenotes/notes/http-basic-40df399ea63956aa.yaml', 'lower-constraints.txt', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Suse_family.yml', 'zuul.d/bifrost-jobs.yaml', 'scripts/test-bifrost.sh', 'bifrost/cli.py', 'requirements.txt', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Fedora.yml', 'playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-cloud-config/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Ubuntu.yml', 'playbooks/ci/run.yaml', 'playbooks/roles/bifrost-ironic-install/README.md', 'playbooks/roles/bifrost-keystone-client-config/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2f76b4fe5198777dacbc0b52d96b260213a5184c', 'message': '[WIP] Support HTTP basic auth and switch bifrost-cli to it\n\nChange-Id: I062865b1dac4aa437a9d742f1d59e8210d224b46\n'}]",0,743197,2f76b4fe5198777dacbc0b52d96b260213a5184c,2,0,1,10239,,,0,"[WIP] Support HTTP basic auth and switch bifrost-cli to it

Change-Id: I062865b1dac4aa437a9d742f1d59e8210d224b46
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/97/743197/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/roles/bifrost-keystone-client-config/templates/openrc.j2', 'playbooks/roles/bifrost-keystone-client-config/templates/clouds.yaml.j2', 'playbooks/roles/bifrost-ironic-install/templates/ironic-inspector.conf.j2', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Debian_family.yml', 'releasenotes/notes/http-basic-40df399ea63956aa.yaml', 'lower-constraints.txt', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Suse_family.yml', 'zuul.d/bifrost-jobs.yaml', 'scripts/test-bifrost.sh', 'bifrost/cli.py', 'requirements.txt', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_RedHat_family.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Fedora.yml', 'playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2', 'playbooks/roles/bifrost-ironic-install/tasks/bootstrap.yml', 'playbooks/roles/bifrost-cloud-config/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/defaults/required_defaults_Ubuntu.yml', 'playbooks/ci/run.yaml', 'playbooks/roles/bifrost-ironic-install/README.md', 'playbooks/roles/bifrost-keystone-client-config/defaults/main.yml']",21,2f76b4fe5198777dacbc0b52d96b260213a5184c,http-basic," enable_keystone: false noauth_mode: true # Directory (on the controller) to keep the passwords password_dir: ""{{ lookup('env', 'HOME') }}/.config/bifrost"" # Various credentials default_username: bifrost_user default_password: ""{{ lookup('password', password_dir + '/default_password') }}"" admin_username: admin admin_password: ""{{ lookup('password', password_dir + '/admin_password') }}""",,167,21
openstack%2Fbifrost~master~I5327b67d42b196c1e16d97ba562d1f7845ab407f,openstack/bifrost,master,I5327b67d42b196c1e16d97ba562d1f7845ab407f,Add ansible collections symlink to .gitignore,MERGED,2020-07-27 00:19:41.000000000,2020-07-27 11:32:28.000000000,2020-07-27 11:30:29.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 32177}]","[{'number': 1, 'created': '2020-07-27 00:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6dab43c87973f30d9de6e8ec03a44f9b766a45b2', 'message': 'Add ansible collections symlink to .gitignore\n\nhttps://review.opendev.org/#/c/742192/ added the creation of\nsymbolic link to Ansible Collections to env-setup.sh script\nhowever it overlooked adding the symbolic link to .gitignore.\nThis change resolves this issue.\n\nChange-Id: I5327b67d42b196c1e16d97ba562d1f7845ab407f\n'}, {'number': 2, 'created': '2020-07-27 00:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ca06b09f590e3ab8727270b982515e608dd235cb', 'message': 'Add ansible collections symlink to .gitignore\n\nhttps://review.opendev.org/#/c/742192/ added the creation of\nsymbolic link to Ansible Collections to env-setup.sh script\nhowever it overlooked adding the symbolic link to .gitignore.\nThis change resolves this issue.\n\nChange-Id: I5327b67d42b196c1e16d97ba562d1f7845ab407f\n'}, {'number': 3, 'created': '2020-07-27 00:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/6005fc5b575891e73bde9562ba2f1d1ef5a686f5', 'message': 'Add ansible collections symlink to .gitignore\n\nhttps://review.opendev.org/#/c/742192/ added the creation of\nsymbolic link to Ansible Collections to env-setup.sh script\nhowever it overlooked adding the symbolic link to .gitignore.\nThis change resolves this issue.\n\nChange-Id: I5327b67d42b196c1e16d97ba562d1f7845ab407f\n'}, {'number': 4, 'created': '2020-07-27 02:00:32.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/fbb66d1bc3666077390d6a06d56d61c41c460f44', 'message': 'Add ansible collections symlink to .gitignore\n\nhttps://review.opendev.org/#/c/742192/ added the creation of\nsymbolic link to Ansible Collections to env-setup.sh script\nhowever it overlooked adding the symbolic link to .gitignore.\nThis change resolves this issue.\n\nChange-Id: I5327b67d42b196c1e16d97ba562d1f7845ab407f\n'}]",2,743125,fbb66d1bc3666077390d6a06d56d61c41c460f44,16,5,4,32177,,,0,"Add ansible collections symlink to .gitignore

https://review.opendev.org/#/c/742192/ added the creation of
symbolic link to Ansible Collections to env-setup.sh script
however it overlooked adding the symbolic link to .gitignore.
This change resolves this issue.

Change-Id: I5327b67d42b196c1e16d97ba562d1f7845ab407f
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/25/743125/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,6dab43c87973f30d9de6e8ec03a44f9b766a45b2,collections-symlink-gitignore-fix,playbooks/collections,,1,0
openstack%2Fopenstack-helm-infra~master~I4899a69ef2c961094d808821b8a14d58ed02d621,openstack/openstack-helm-infra,master,I4899a69ef2c961094d808821b8a14d58ed02d621,Use zuul docker mirror for functional jobs,MERGED,2020-07-19 22:43:45.000000000,2020-07-27 11:20:04.000000000,2020-07-27 11:18:08.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2020-07-19 22:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9848866ac018e18cfe6e0c30b53c995ed796aaa7', 'message': 'Use zuul docker mirror for functional jobs\n\nChange-Id: I4899a69ef2c961094d808821b8a14d58ed02d621\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-07-20 01:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/03b0e75090f3af25e3b34c711985b364115b1e99', 'message': 'Use zuul docker mirror for functional jobs\n\nChange-Id: I4899a69ef2c961094d808821b8a14d58ed02d621\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-07-22 05:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3c22fadd37bd45ae7c856f67b5c23de0d2a95e89', 'message': 'Use zuul docker mirror for functional jobs\n\nChange-Id: I4899a69ef2c961094d808821b8a14d58ed02d621\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2020-07-22 05:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8a8266fa3d01463652fc8a31a49e795559f3996f', 'message': 'Use zuul docker mirror for functional jobs\n\nChange-Id: I4899a69ef2c961094d808821b8a14d58ed02d621\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 5, 'created': '2020-07-22 05:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c60f8405d0bd06ba95fa3a976a5ec401648ad442', 'message': 'Use zuul docker mirror for functional jobs\n\nChange-Id: I4899a69ef2c961094d808821b8a14d58ed02d621\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 6, 'created': '2020-07-22 05:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e8b7e97432b1eb3927252b07c58ed41e0bea810c', 'message': 'Use zuul docker mirror for functional jobs\n\nChange-Id: I4899a69ef2c961094d808821b8a14d58ed02d621\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 7, 'created': '2020-07-22 13:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c940c3bd68c3d8c8a21ef748eac65b2ac1654443', 'message': 'Use zuul docker mirror for functional jobs\n\nChange-Id: I4899a69ef2c961094d808821b8a14d58ed02d621\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 8, 'created': '2020-07-22 14:06:37.000000000', 'files': ['playbooks/osh-infra-gate-runner.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e3f14aaff35364b84acedf53b3778111cbae0373', 'message': 'Use zuul docker mirror for functional jobs\n\nChange-Id: I4899a69ef2c961094d808821b8a14d58ed02d621\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,741857,e3f14aaff35364b84acedf53b3778111cbae0373,29,6,8,8863,,,0,"Use zuul docker mirror for functional jobs

Change-Id: I4899a69ef2c961094d808821b8a14d58ed02d621
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/57/741857/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/osh-infra-gate-runner.yaml'],1,9848866ac018e18cfe6e0c30b53c995ed796aaa7,, - name: Use docker mirror include_role: name: use-docker-mirror,,3,0
openstack%2Fansible-collections-openstack~master~I01dc55684ead18fed526b41bc83b284e0539a475,openstack/ansible-collections-openstack,master,I01dc55684ead18fed526b41bc83b284e0539a475,DNM try breaking ironic,ABANDONED,2020-07-27 09:40:23.000000000,2020-07-27 11:10:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-27 09:40:23.000000000', 'files': ['plugins/modules/baremetal_node.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d9f22ebe2530211c9ad6c85285dd7f8bfadd0795', 'message': 'DNM try breaking ironic\n\nChange-Id: I01dc55684ead18fed526b41bc83b284e0539a475\n'}]",0,743177,d9f22ebe2530211c9ad6c85285dd7f8bfadd0795,3,1,1,10239,,,0,"DNM try breaking ironic

Change-Id: I01dc55684ead18fed526b41bc83b284e0539a475
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/77/743177/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/baremetal_node.py'],1,d9f22ebe2530211c9ad6c85285dd7f8bfadd0795,test," module.fail_json(msg=""You shall not pass!"")",,1,0
openstack%2Fopenstack-ansible~master~I9aaca445d135b574753722d6b8de28e4f99c427b,openstack/openstack-ansible,master,I9aaca445d135b574753722d6b8de28e4f99c427b,Fix management address lookup for metal hosts in some deployments,MERGED,2020-07-15 12:39:02.000000000,2020-07-27 11:08:26.000000000,2020-07-24 23:51:16.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2020-07-15 12:39:02.000000000', 'files': ['playbooks/common-playbooks/nova.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fc1b6f3bf69c360ff475e035a24a29c6791a8843', 'message': ""Fix management address lookup for metal hosts in some deployments\n\nGit history indicates that when Nova runs on metal hosts its\naddress was identified via the management bridge and an IP lookup.\nWhen the dynamic-address-fact was added this link was broken\nand metal hosts have been using the fallback of ansible_host\ndefined in dynamic-address-fact\n\nNote that originally the 'management_bridge' host var was relied\nupon, but this change pulls this bridge from the\n'container_networks.container_address.bridge'\n\nChange-Id: I9aaca445d135b574753722d6b8de28e4f99c427b\n""}]",0,741167,fc1b6f3bf69c360ff475e035a24a29c6791a8843,28,4,1,31542,,,0,"Fix management address lookup for metal hosts in some deployments

Git history indicates that when Nova runs on metal hosts its
address was identified via the management bridge and an IP lookup.
When the dynamic-address-fact was added this link was broken
and metal hosts have been using the fallback of ansible_host
defined in dynamic-address-fact

Note that originally the 'management_bridge' host var was relied
upon, but this change pulls this bridge from the
'container_networks.container_address.bridge'

Change-Id: I9aaca445d135b574753722d6b8de28e4f99c427b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/67/741167/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/common-playbooks/nova.yml'],1,fc1b6f3bf69c360ff475e035a24a29c6791a8843,nova-mgmt-address," network_address: ""container_address"" nova_management_address: ""{{ container_address }}"""," network_address: ""management_address"" nova_management_address: ""{{ management_address }}""",2,2
openstack%2Fopenstack-ansible-os_nova~master~I3f284e6d32f4aa614f311d3e4e754830be2f11a6,openstack/openstack-ansible-os_nova,master,I3f284e6d32f4aa614f311d3e4e754830be2f11a6,Avoid rebuilding the venv with every run,MERGED,2020-07-22 08:27:38.000000000,2020-07-27 11:08:00.000000000,2020-07-24 22:32:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-22 08:27:38.000000000', 'files': ['vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/40bf388734a15d348100417d66bdc3de8fcd799d', 'message': ""Avoid rebuilding the venv with every run\n\nUntil now the necessary pip packages differ between nova-api and\ncompute hosts, when novnc is used, because 'websockify' was only\nadded to nova-api containers. As a result, the venv is rebuilt twice\nfor each run. With this change 'websockify' is always added to\nthe needed pip packages.\n\nChange-Id: I3f284e6d32f4aa614f311d3e4e754830be2f11a6\n""}]",0,742369,40bf388734a15d348100417d66bdc3de8fcd799d,18,3,1,30660,,,0,"Avoid rebuilding the venv with every run

Until now the necessary pip packages differ between nova-api and
compute hosts, when novnc is used, because 'websockify' was only
added to nova-api containers. As a result, the venv is rebuilt twice
for each run. With this change 'websockify' is always added to
the needed pip packages.

Change-Id: I3f284e6d32f4aa614f311d3e4e754830be2f11a6
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/69/742369/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/main.yml'],1,40bf388734a15d348100417d66bdc3de8fcd799d,avoid-rebuilding-venv-with-each-run, {%- if (nova_console_type == 'novnc') %}, {%- if (nova_services['nova-novncproxy']['group'] in group_names) and (nova_console_type == 'novnc') %},1,2
openstack%2Fopenstack-ansible~master~I2c184d6d65eb8eb21abc7929e4d07bf30337be69,openstack/openstack-ansible,master,I2c184d6d65eb8eb21abc7929e4d07bf30337be69,Add rsync package for New CentOS-8 minimal installs,MERGED,2020-07-14 02:01:56.000000000,2020-07-27 11:06:53.000000000,2020-07-24 22:15:07.000000000,"[{'_account_id': 10068}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-14 02:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/37cbc23b0e7950ac2fb0e17c61779cf6c64faeab', 'message': 'Add rsync package for New CentOS-8 minimal installs\n\nMinimal install of new CentOS 8 systems does not come with rsync installed.\nAnd scripts/bootstrap-ansible.sh pulls in scripts/scripts-library.sh.\nBut scripts-library.sh calls/needs rsync binary. Missing rsync binary makes bootstrap-ansible.sh fail.\n\nChange-Id: I2c184d6d65eb8eb21abc7929e4d07bf30337be69\n'}, {'number': 2, 'created': '2020-07-14 16:56:19.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7478bd28bf224ba03f7b19599321ec83ae7ce95a', 'message': 'Add rsync package for New CentOS-8 minimal installs\n\nMinimal install of new CentOS 8 systems does not come with rsync installed.\nscripts/bootstrap-ansible.sh pulls in scripts/scripts-library.sh.\nscripts-library.sh calls/needs rsync binary.\nMissing rsync binary makes bootstrap-ansible.sh fail.\n\nChange-Id: I2c184d6d65eb8eb21abc7929e4d07bf30337be69\n'}]",0,740843,7478bd28bf224ba03f7b19599321ec83ae7ce95a,23,4,2,32197,,,0,"Add rsync package for New CentOS-8 minimal installs

Minimal install of new CentOS 8 systems does not come with rsync installed.
scripts/bootstrap-ansible.sh pulls in scripts/scripts-library.sh.
scripts-library.sh calls/needs rsync binary.
Missing rsync binary makes bootstrap-ansible.sh fail.

Change-Id: I2c184d6d65eb8eb21abc7929e4d07bf30337be69
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/43/740843/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,37cbc23b0e7950ac2fb0e17c61779cf6c64faeab,wsoyinka-patch1, git curl autoconf gcc gcc-c++ nc rsync \, git curl autoconf gcc gcc-c++ nc \,1,1
openstack%2Fironic-python-agent-builder~master~I7627e8a3d4924a672af37a468870ba92604e2e66,openstack/ironic-python-agent-builder,master,I7627e8a3d4924a672af37a468870ba92604e2e66,Strip some excess from the centos dib image,MERGED,2020-07-18 20:54:18.000000000,2020-07-27 11:03:41.000000000,2020-07-27 11:00:31.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-18 20:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/8b6d7b7bbdb4c0f0ea2b87e590d1e52d78fe33bf', 'message': 'WIP: Strip some excess from the centos dib image\n\nChange-Id: I7627e8a3d4924a672af37a468870ba92604e2e66\n'}, {'number': 2, 'created': '2020-07-18 21:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/5924b0d610ff538b90299992c9d8fa772f184a5c', 'message': 'WIP: Strip some excess from the centos dib image\n\nChange-Id: I7627e8a3d4924a672af37a468870ba92604e2e66\n'}, {'number': 3, 'created': '2020-07-19 21:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/61fc515eb9613009e40c40c86da94b73ab081310', 'message': 'WIP: Strip some excess from the centos dib image\n\nChange-Id: I7627e8a3d4924a672af37a468870ba92604e2e66\n'}, {'number': 4, 'created': '2020-07-20 20:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/07b5f2114c9afd20bd7d526151071d07c195e582', 'message': 'Strip some excess from the centos dib image\n\nStrips postfix gcc git git-core make from Centos based builds in\nan attempt to reduce the overall sie of the ramdisk as C development\nutilties are not needed on a ramdisk and better to not have present\non a machine as it complicates attacks to take over and launch to\nadditional hosts. Also removes git and git-core as they are only needed\nfor download and installation of the agent, but not after installation\nas pbr uses the package metadata and returns that for version data\ninstead of requiring git to be present.\n\nPostfix is also present in the ramdisk and is not needed as the\nramdisk has no use for a mail transport agent.\n\nAlso removes the GeoIP data files which are not needed by the ramdisk.\n\nOverall, these changes reduces the ramdisk size by over 100 MB with the\npresent builds, taking the images from 427M to 320M.\n\nChange-Id: I7627e8a3d4924a672af37a468870ba92604e2e66\n'}, {'number': 5, 'created': '2020-07-21 19:58:53.000000000', 'files': ['dib/ironic-python-agent-ramdisk/cleanup.d/99-ramdisk-create', 'dib/ironic-python-agent-ramdisk/post-install.d/99-remove-extra-packages'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/a1c3a1668a96abdef0e316c7ceadb71176b1b010', 'message': 'Strip some excess from the centos dib image\n\nStrips postfix gcc make from Centos based builds in\nan attempt to reduce the overall sie of the ramdisk as C development\nutilties are not needed on a ramdisk and better to not have present\non a machine as it complicates attacks to take over and launch to\nadditional hosts.\n\nPostfix is also present in the ramdisk and is not needed as the\nramdisk has no use for a mail transport agent.\n\nAlso removes the GeoIP data files which are not needed by the ramdisk.\n\nChange-Id: I7627e8a3d4924a672af37a468870ba92604e2e66\n'}]",8,741819,a1c3a1668a96abdef0e316c7ceadb71176b1b010,27,4,5,11655,,,0,"Strip some excess from the centos dib image

Strips postfix gcc make from Centos based builds in
an attempt to reduce the overall sie of the ramdisk as C development
utilties are not needed on a ramdisk and better to not have present
on a machine as it complicates attacks to take over and launch to
additional hosts.

Postfix is also present in the ramdisk and is not needed as the
ramdisk has no use for a mail transport agent.

Also removes the GeoIP data files which are not needed by the ramdisk.

Change-Id: I7627e8a3d4924a672af37a468870ba92604e2e66
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/19/741819/4 && git format-patch -1 --stdout FETCH_HEAD,"['dib/ironic-python-agent-ramdisk/cleanup.d/99-ramdisk-create', 'dib/ironic-python-agent-ramdisk/post-install.d/99-remove-extra-packages']",2,8b6d7b7bbdb4c0f0ea2b87e590d1e52d78fe33bf,707913, yum remove postfix gcc git git-core make,,2,0
openstack%2Fkolla~master~Ifde221e807df75d884a3f8cc4fc29eb0cb303472,openstack/kolla,master,Ifde221e807df75d884a3f8cc4fc29eb0cb303472,Remove neutron-server-ovn and neutron-ovn-metadata-agent images,MERGED,2020-06-09 15:50:48.000000000,2020-07-27 10:56:55.000000000,2020-07-27 10:54:52.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-09 15:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/72af4701bfc2884c1128cc064dae27698e9f72ad', 'message': 'Remove Neutron OVN images\n\nChange-Id: Ifde221e807df75d884a3f8cc4fc29eb0cb303472\n'}, {'number': 2, 'created': '2020-07-23 11:17:24.000000000', 'files': ['docker/neutron/neutron-server-ovn/Dockerfile.j2', 'docker/neutron/neutron-metadata-agent-ovn/Dockerfile.j2', 'releasenotes/notes/remove-neutron-server-ovn-b3c1315912ca0f94.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a7f92df4eb045072b95ee226e642db13a36eead3', 'message': 'Remove neutron-server-ovn and neutron-ovn-metadata-agent images\n\nThose have been deprecated in previous cycle - see [1].\n\n[1]: https://review.opendev.org/#/c/701074/\n\nChange-Id: Ifde221e807df75d884a3f8cc4fc29eb0cb303472\n'}]",0,734633,a7f92df4eb045072b95ee226e642db13a36eead3,20,7,2,167,,,0,"Remove neutron-server-ovn and neutron-ovn-metadata-agent images

Those have been deprecated in previous cycle - see [1].

[1]: https://review.opendev.org/#/c/701074/

Change-Id: Ifde221e807df75d884a3f8cc4fc29eb0cb303472
",git fetch https://review.opendev.org/openstack/kolla refs/changes/33/734633/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/neutron/neutron-server-ovn/Dockerfile.j2', 'docker/neutron/neutron-metadata-agent-ovn/Dockerfile.j2']",2,72af4701bfc2884c1128cc064dae27698e9f72ad,remove_neutron_server_ovn,,"FROM {{ namespace }}/{{ image_prefix }}neutron-base:{{ tag }} {% block labels %} LABEL maintainer=""{{ maintainer }}"" name=""{{ image_name }}"" build-date=""{{ build_date }}"" {% endblock %} {% block neutron_metadata_agent_ovn_header %}{% endblock %} {% import ""macros.j2"" as macros with context %} {% block neutron_metadata_agent_ovn_footer %}{% endblock %} {% block footer %}{% endblock %} USER neutron ",0,26
openstack%2Ftripleo-ci~master~If857fb4a2c0c362c4fb8bf447bfa1db8fef37cd8,openstack/tripleo-ci,master,If857fb4a2c0c362c4fb8bf447bfa1db8fef37cd8,DNM try operators,ABANDONED,2020-06-23 09:33:24.000000000,2020-07-27 10:46:52.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-23 09:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/20f7a0fb943e092f4b2f7ea4bbbd6062ca190573', 'message': 'DNM try operators\n\nChange-Id: If857fb4a2c0c362c4fb8bf447bfa1db8fef37cd8\n'}, {'number': 2, 'created': '2020-06-23 09:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f40126ed79a5f44654f5bf97a3a32a670a65da9f', 'message': 'DNM try operators\n\nChange-Id: If857fb4a2c0c362c4fb8bf447bfa1db8fef37cd8\n'}, {'number': 3, 'created': '2020-06-23 13:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/10c03ab524ba89deb1b7efc763124ecd383f45d1', 'message': 'DNM try operators\n\nDepends-On: https://review.opendev.org/737536\nChange-Id: If857fb4a2c0c362c4fb8bf447bfa1db8fef37cd8\n'}, {'number': 4, 'created': '2020-06-24 05:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0b8d04d313dc0798c9b3e25214ccaf1c456a7d87', 'message': 'DNM try operators\n\nDepends-On: https://review.opendev.org/737536\nChange-Id: If857fb4a2c0c362c4fb8bf447bfa1db8fef37cd8\n'}, {'number': 5, 'created': '2020-06-27 18:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9750dce231067dcb2fc286c24a1b7c210d70bc16', 'message': 'DNM try operators\n\nDepends-On: https://review.opendev.org/737536\nChange-Id: If857fb4a2c0c362c4fb8bf447bfa1db8fef37cd8\n'}, {'number': 6, 'created': '2020-06-28 07:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0f63d01b9e43edea2d0357bb86ac560854677047', 'message': 'DNM try operators\n\nDepends-On: https://review.opendev.org/737536\nChange-Id: If857fb4a2c0c362c4fb8bf447bfa1db8fef37cd8\n'}, {'number': 7, 'created': '2020-06-29 17:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ef676743d220a6f0c5fcb2b5e6c0545604c302d9', 'message': 'DNM try operators\n\nDepends-On: https://review.opendev.org/737536\nChange-Id: If857fb4a2c0c362c4fb8bf447bfa1db8fef37cd8\n'}, {'number': 8, 'created': '2020-06-29 18:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3a27c0dbeffa920acf3dfb5f3f018e0057307852', 'message': 'DNM try operators\n\nDepends-On: https://review.opendev.org/737536\nChange-Id: If857fb4a2c0c362c4fb8bf447bfa1db8fef37cd8\n'}, {'number': 9, 'created': '2020-06-30 07:14:08.000000000', 'files': ['roles/oooci-build-images/tasks/post.yaml', 'roles/oooci-build-images/tasks/main.yaml', 'zuul.d/base.yaml', 'zuul.d/layout.yaml', 'zuul.d/build-image.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2506b12d1a818ef40b92af615802efe57c7db1c1', 'message': 'DNM try operators\n\nDepends-On: https://review.opendev.org/737536\nChange-Id: If857fb4a2c0c362c4fb8bf447bfa1db8fef37cd8\n'}]",0,737470,2506b12d1a818ef40b92af615802efe57c7db1c1,38,3,9,10969,,,0,"DNM try operators

Depends-On: https://review.opendev.org/737536
Change-Id: If857fb4a2c0c362c4fb8bf447bfa1db8fef37cd8
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/70/737470/8 && git format-patch -1 --stdout FETCH_HEAD,"['roles/oooci-build-images/tasks/main.yaml', 'zuul.d/base.yaml']",2,20f7a0fb943e092f4b2f7ea4bbbd6062ca190573,testops, - zuul: opendev.org/openstack/tripleo-operator-ansible,,15,12
openstack%2Ftripleo-operator-ansible~master~I8a0676de72af05bc0b7b8035fdab8527cd6e695e,openstack/tripleo-operator-ansible,master,I8a0676de72af05bc0b7b8035fdab8527cd6e695e,DNM test symlinks,ABANDONED,2020-06-23 13:16:46.000000000,2020-07-27 10:46:39.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-23 13:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/d62fad1ebef2c2fdf1631709ec8674c5d0399bfb', 'message': 'DNM test symlinks\n\nChange-Id: I8a0676de72af05bc0b7b8035fdab8527cd6e695e\n'}, {'number': 2, 'created': '2020-06-23 16:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/8973826fa43b982b11a4670184b3e0caa0edaedd', 'message': 'DNM test symlinks\n\nChange-Id: I8a0676de72af05bc0b7b8035fdab8527cd6e695e\n'}, {'number': 3, 'created': '2020-06-23 21:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/c4035873ff73130cf0565782c07bb57e7a93d89f', 'message': 'DNM test symlinks\n\nChange-Id: I8a0676de72af05bc0b7b8035fdab8527cd6e695e\n'}, {'number': 4, 'created': '2020-06-24 06:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/ceda312acf0994f9ae3fcd17ed5bb9486bb66779', 'message': 'DNM test symlinks\n\nChange-Id: I8a0676de72af05bc0b7b8035fdab8527cd6e695e\n'}, {'number': 5, 'created': '2020-06-24 10:44:35.000000000', 'files': ['roles/tripleo_overcloud_image_build/tasks/main.yml', 'roles/tripleo_overcloud_image_build/library'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/0773c91d708c932eaa4bbe84a88a00182e5402cd', 'message': 'DNM test symlinks\n\nChange-Id: I8a0676de72af05bc0b7b8035fdab8527cd6e695e\n'}]",0,737536,0773c91d708c932eaa4bbe84a88a00182e5402cd,13,2,5,10969,,,0,"DNM test symlinks

Change-Id: I8a0676de72af05bc0b7b8035fdab8527cd6e695e
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/36/737536/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_image_build/action_plugins', 'roles/tripleo_overcloud_image_build/library', 'roles/tripleo_overcloud_image_build/filter_plugins']",3,d62fad1ebef2c2fdf1631709ec8674c5d0399bfb,,../../plugins/filter,,3,0
openstack%2Fansible-collections-openstack~master~I6a76f322fc13884b4f38faad3331c4b9b29ebf8d,openstack/ansible-collections-openstack,master,I6a76f322fc13884b4f38faad3331c4b9b29ebf8d,WIP remove hacks for ansible 2.10,ABANDONED,2020-07-05 09:24:24.000000000,2020-07-27 10:46:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-05 09:24:24.000000000', 'files': ['test-requirements-2.9.txt', 'test-requirements.txt', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ac33aa60b571992cfb7a564dcd021d2d3a26605d', 'message': 'WIP remove hacks for ansible 2.10\n\nChange-Id: I6a76f322fc13884b4f38faad3331c4b9b29ebf8d\n'}]",0,739348,ac33aa60b571992cfb7a564dcd021d2d3a26605d,3,1,1,10969,,,0,"WIP remove hacks for ansible 2.10

Change-Id: I6a76f322fc13884b4f38faad3331c4b9b29ebf8d
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/48/739348/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements-2.9.txt', 'test-requirements.txt', '.zuul.yaml', 'tox.ini']",4,ac33aa60b571992cfb7a564dcd021d2d3a26605d,nohacks, -r{toxinidir}/test-requirements.txt,[testenv:linters-2.9] passenv = {[testenv:linters]passenv} commands = {[testenv:linters]commands} deps = -r{toxinidir}/test-requirements-2.9.txt -r{toxinidir}/test-requirements-2.9.txt [testenv:ansible-2.9] deps = -r{toxinidir}/test-requirements-2.9.txt passenv = {[testenv:ansible]passenv} commands = {[testenv:ansible]commands},2,41
openstack%2Fpython-cyborgclient~master~Ic91179bdeb6f8ee86ada51f47db149769b2ed985,openstack/python-cyborgclient,master,Ic91179bdeb6f8ee86ada51f47db149769b2ed985,Fix hacking min version to 3.0.1,ABANDONED,2020-06-02 12:08:04.000000000,2020-07-27 10:38:38.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-02 12:08:04.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/e66d34b60b6ea80770b0cd5b63631d1b80c43cfd', 'message': 'Fix hacking min version to 3.0.1\n\nChange-Id: Ic91179bdeb6f8ee86ada51f47db149769b2ed985\n'}]",0,732554,e66d34b60b6ea80770b0cd5b63631d1b80c43cfd,4,2,1,30384,,,0,"Fix hacking min version to 3.0.1

Change-Id: Ic91179bdeb6f8ee86ada51f47db149769b2ed985
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/54/732554/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,e66d34b60b6ea80770b0cd5b63631d1b80c43cfd,,"hacking>=3.0.1,<3.1.0 # Apache-2.0","hacking>=3.0,<3.1.0 # Apache-2.0",1,1
openstack%2Frally~master~I3a7cc7e279dc8aa2d78d93697de68f2cf8a62404,openstack/rally,master,I3a7cc7e279dc8aa2d78d93697de68f2cf8a62404,print completed workloads progress while running,MERGED,2020-07-15 12:05:18.000000000,2020-07-27 10:29:08.000000000,2020-07-27 10:29:07.000000000,"[{'_account_id': 9545}, {'_account_id': 21528}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 12:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/57786576935fae5ef089022a5c68419a9fcb6a97', 'message': 'print rate of workloads process while running\n\nChange-Id: I3a7cc7e279dc8aa2d78d93697de68f2cf8a62404\n'}, {'number': 2, 'created': '2020-07-16 01:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/9c6882a3e63a8d19a50e75c75ed6bbfa7ccc2eef', 'message': 'print rate of workloads process while running\n\nChange-Id: I3a7cc7e279dc8aa2d78d93697de68f2cf8a62404\n'}, {'number': 3, 'created': '2020-07-16 01:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/9a4625c667120f9be16bdc20480ae7b05b40aa05', 'message': 'print rate of workloads process while running\n\nChange-Id: I3a7cc7e279dc8aa2d78d93697de68f2cf8a62404\n'}, {'number': 4, 'created': '2020-07-16 03:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/d226bcdf2a36e5de0441fa2867800d653638aa09', 'message': 'print rate of workloads process while running\n\nChange-Id: I3a7cc7e279dc8aa2d78d93697de68f2cf8a62404\n'}, {'number': 5, 'created': '2020-07-16 06:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/3969957116a1f6f3da443c7310ee0ec9066fcc23', 'message': 'print rate of workloads process while running\n\nChange-Id: I3a7cc7e279dc8aa2d78d93697de68f2cf8a62404\n'}, {'number': 6, 'created': '2020-07-16 08:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b4e433f474a441fff3b0e5896249dff88343eb10', 'message': 'print rate of workloads process while running\n\nChange-Id: I3a7cc7e279dc8aa2d78d93697de68f2cf8a62404\n'}, {'number': 7, 'created': '2020-07-24 10:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/666348ca490823b5942c458071afb73ab6f2d759', 'message': 'print completed workloads progress while running\n\nChange-Id: I3a7cc7e279dc8aa2d78d93697de68f2cf8a62404\n'}, {'number': 8, 'created': '2020-07-24 10:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c9d7da89df05742632c9866f0991222c102db88e', 'message': 'print completed workloads progress while running\n\nChange-Id: I3a7cc7e279dc8aa2d78d93697de68f2cf8a62404\n'}, {'number': 9, 'created': '2020-07-25 02:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a499be0f328e5ed78088e9f39e089b78c88a7517', 'message': 'print completed workloads progress while running\n\nExpect to see the completed and uncompeted workloads count while rally\nis running.\nChange-Id: I3a7cc7e279dc8aa2d78d93697de68f2cf8a62404\n'}, {'number': 10, 'created': '2020-07-25 02:32:39.000000000', 'files': ['rally/task/engine.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/112f9ca3bbf8bf429e5a26db6c8106a07283cc84', 'message': 'print completed workloads progress while running\n\nExpect to see the completed and uncompeted workloads count while rally\nis running.\nChange-Id: I3a7cc7e279dc8aa2d78d93697de68f2cf8a62404\n'}]",3,741162,112f9ca3bbf8bf429e5a26db6c8106a07283cc84,24,3,10,21528,,,0,"print completed workloads progress while running

Expect to see the completed and uncompeted workloads count while rally
is running.
Change-Id: I3a7cc7e279dc8aa2d78d93697de68f2cf8a62404
",git fetch https://review.opendev.org/openstack/rally refs/changes/62/741162/10 && git format-patch -1 --stdout FETCH_HEAD,['rally/task/engine.py'],1,57786576935fae5ef089022a5c68419a9fcb6a97,," workloads_count = len(subtask[""workloads""]) for index, workload in enumerate(subtask[""workloads""]): LOG.info(""Workload process: %(process)s%(index)d/%(total)d"" % { ""process"": ""="" * (index/workloads_count * 100), ""index"": index, ""total"": workloads_count })"," for workload in subtask[""workloads""]:",7,1
openstack%2Fhorizon~master~Ibecb11c886a167a68a5821ee007065ee34741f51,openstack/horizon,master,Ibecb11c886a167a68a5821ee007065ee34741f51,Imported Translations from Zanata,MERGED,2020-07-25 06:51:22.000000000,2020-07-27 10:14:22.000000000,2020-07-27 10:12:32.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-25 06:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d3242846232aa499a3e762d7ce86d098565abc52', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibecb11c886a167a68a5821ee007065ee34741f51\n'}, {'number': 2, 'created': '2020-07-27 06:56:27.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'horizon/locale/id/LC_MESSAGES/django.po', 'doc/source/locale/id/LC_MESSAGES/doc-configuration.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'doc/source/locale/id/LC_MESSAGES/doc-install.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f6226c97d07878cd604bc7375190e07face01e68', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibecb11c886a167a68a5821ee007065ee34741f51\n'}]",0,743024,f6226c97d07878cd604bc7375190e07face01e68,9,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ibecb11c886a167a68a5821ee007065ee34741f51
",git fetch https://review.opendev.org/openstack/horizon refs/changes/24/743024/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,d3242846232aa499a3e762d7ce86d098565abc52,zanata/translations,"""POT-Creation-Date: 2020-07-21 09:30+0000\n""""PO-Revision-Date: 2020-07-24 11:19+0000\n""msgid ""18.4.1-8"" msgstr ""18.4.1-8""","""POT-Creation-Date: 2020-07-13 05:40+0000\n""""PO-Revision-Date: 2020-07-20 03:35+0000\n""msgid ""18.4.1-7"" msgstr ""18.4.1-7""",4,4
openstack%2Fkolla-ansible~stable%2Ftrain~I7c22dd380fd5b1dff7b421109c4ae37bab11834a,openstack/kolla-ansible,stable/train,I7c22dd380fd5b1dff7b421109c4ae37bab11834a,fix deploy freezer failed when kolla_dev_mod enabled,MERGED,2020-07-23 05:45:01.000000000,2020-07-27 09:57:16.000000000,2020-07-27 09:55:50.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-23 05:45:01.000000000', 'files': ['releasenotes/notes/bug-freezer-dev-mod-failed-af5bebb6c3eaabad.yaml', 'ansible/roles/freezer/tasks/deploy.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c30ed83fb5c94172490628aff08641ac605d8d92', 'message': 'fix deploy freezer failed when kolla_dev_mod enabled\n\nwe should clone freezer code before run bootstray,\notherwise, the directory /opt/stack/freezer which is empty will\nmount into freezer_api container.\n\nCloses-Bug: #1888242\n\nChange-Id: I7c22dd380fd5b1dff7b421109c4ae37bab11834a\n(cherry picked from commit 7dc471323c8e5248b2b739573c2472f427cb4fc6)\n'}]",0,742591,c30ed83fb5c94172490628aff08641ac605d8d92,11,4,1,26285,,,0,"fix deploy freezer failed when kolla_dev_mod enabled

we should clone freezer code before run bootstray,
otherwise, the directory /opt/stack/freezer which is empty will
mount into freezer_api container.

Closes-Bug: #1888242

Change-Id: I7c22dd380fd5b1dff7b421109c4ae37bab11834a
(cherry picked from commit 7dc471323c8e5248b2b739573c2472f427cb4fc6)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/91/742591/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-freezer-dev-mod-failed-af5bebb6c3eaabad.yaml', 'ansible/roles/freezer/tasks/deploy.yml']",2,c30ed83fb5c94172490628aff08641ac605d8d92,bug/1888242-stable/ussuri-stable/train,- include_tasks: clone.yml when: freezer_dev_mode | bool ,- include_tasks: clone.yml when: freezer_dev_mode | bool ,8,3
openstack%2Ftempest~master~I09e7fb4e7758edd5256ae70ceeea6f143466c3e3,openstack/tempest,master,I09e7fb4e7758edd5256ae70ceeea6f143466c3e3,Tempest tests for glance import workflow,MERGED,2020-07-16 10:34:32.000000000,2020-07-27 09:46:26.000000000,2020-07-27 09:42:11.000000000,"[{'_account_id': 4393}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-16 10:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2fdf78f75c170111f23a054e1f3e063454d8dd39', 'message': 'WIP Tempest tests for glance import workflow\n\nDepends-On: https://review.opendev.org/#/c/741276/\nChange-Id: I09e7fb4e7758edd5256ae70ceeea6f143466c3e3\n'}, {'number': 2, 'created': '2020-07-16 18:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1fa2d143921b62df5cb53afbe648da5a1500d8a8', 'message': 'WIP Tempest tests for glance import workflow\n\nDepends-On: https://review.opendev.org/#/c/741276/\nDepends-On: https://review.opendev.org/#/c/741507/\nChange-Id: I09e7fb4e7758edd5256ae70ceeea6f143466c3e3\n'}, {'number': 3, 'created': '2020-07-16 19:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fbeb394aced58943bb6afda4b756922a64124f41', 'message': 'WIP Tempest tests for glance import workflow\n\nDepends-On: https://review.opendev.org/#/c/741276/\nDepends-On: https://review.opendev.org/#/c/741507/\nChange-Id: I09e7fb4e7758edd5256ae70ceeea6f143466c3e3\n'}, {'number': 4, 'created': '2020-07-16 21:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8784c151a6610bc318d485cda463dc6afb696723', 'message': 'WIP Tempest tests for glance import workflow\n\nDepends-On: https://review.opendev.org/#/c/741276/\nDepends-On: https://review.opendev.org/#/c/741507/\nChange-Id: I09e7fb4e7758edd5256ae70ceeea6f143466c3e3\n'}, {'number': 5, 'created': '2020-07-16 23:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a2b1101964072c383164d946cc9cdf1cff157e0d', 'message': 'WIP Tempest tests for glance import workflow\n\nDepends-On: https://review.opendev.org/#/c/741276/\nDepends-On: https://review.opendev.org/#/c/741507/\nChange-Id: I09e7fb4e7758edd5256ae70ceeea6f143466c3e3\n'}, {'number': 6, 'created': '2020-07-17 01:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/83e033df94541f26d5e258d476493c38f8141470', 'message': 'WIP Tempest tests for glance import workflow\n\nDepends-On: https://review.opendev.org/#/c/741276/\nDepends-On: https://review.opendev.org/#/c/741507/\nChange-Id: I09e7fb4e7758edd5256ae70ceeea6f143466c3e3\n'}, {'number': 7, 'created': '2020-07-21 00:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3663bfaf0fe0a168bd2114eb23f834ea315b8f21', 'message': 'WIP Tempest tests for glance import workflow\n\nDepends-On: https://review.opendev.org/#/c/741276/\nDepends-On: https://review.opendev.org/#/c/742047/\nChange-Id: I09e7fb4e7758edd5256ae70ceeea6f143466c3e3\n'}, {'number': 8, 'created': '2020-07-21 22:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b7ea531fcee81d01b857c284a20a84bbe7340c23', 'message': 'Tempest tests for glance import workflow\n\nThis adds an initial test for glance image interoperable import\nthat uses the glance-direct method. It will skip if the server\ndoes not support glance-direct.\n\nDepends-On: https://review.opendev.org/#/c/742047/\nChange-Id: I09e7fb4e7758edd5256ae70ceeea6f143466c3e3\n'}, {'number': 9, 'created': '2020-07-21 22:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/821fda02f182bd5d42d5e44313e041f8216a6e81', 'message': 'Tempest tests for glance import workflow\n\nThis adds an initial test for glance image interoperable import\nthat uses the glance-direct method. It will skip if the server\ndoes not support glance-direct.\n\nDepends-On: https://review.opendev.org/#/c/742047/\nChange-Id: I09e7fb4e7758edd5256ae70ceeea6f143466c3e3\n'}, {'number': 10, 'created': '2020-07-22 15:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bf89a61c354de8bace32394d6df93529cb249625', 'message': 'Tempest tests for glance import workflow\n\nThis adds an initial test for glance image interoperable import\nthat uses the glance-direct method. It will skip if the server\ndoes not support glance-direct.\n\nDepends-On: https://review.opendev.org/#/c/742047/\nChange-Id: I09e7fb4e7758edd5256ae70ceeea6f143466c3e3\n'}, {'number': 11, 'created': '2020-07-22 18:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/eb9fa0b079f566e526771fe442f256c59c6d6a58', 'message': 'Tempest tests for glance import workflow\n\nThis adds an initial test for glance image interoperable import\nthat uses the glance-direct method. It will skip if the server\ndoes not support glance-direct.\n\nDepends-On: https://review.opendev.org/#/c/742047/\nChange-Id: I09e7fb4e7758edd5256ae70ceeea6f143466c3e3\n'}, {'number': 12, 'created': '2020-07-22 18:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dbf89e6373a0dde7a56c4fb285fbdf43d913ff62', 'message': 'Tempest tests for glance import workflow\n\nThis adds an initial test for glance image interoperable import\nthat uses the glance-direct method. It will skip if the server\ndoes not support glance-direct.\n\nDepends-On: https://review.opendev.org/#/c/742047/\nChange-Id: I09e7fb4e7758edd5256ae70ceeea6f143466c3e3\n'}, {'number': 13, 'created': '2020-07-22 18:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d7baf768ef7efa612df95a7c0619ff41b88da5e5', 'message': 'Tempest tests for glance import workflow\n\nThis adds an initial test for glance image interoperable import\nthat uses the glance-direct method. It will skip if the server\ndoes not support glance-direct.\n\nDepends-On: https://review.opendev.org/#/c/742047/\nChange-Id: I09e7fb4e7758edd5256ae70ceeea6f143466c3e3\n'}, {'number': 14, 'created': '2020-07-22 19:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f75ab80a9e9d24906c15bac11d22d45eacef627b', 'message': 'Tempest tests for glance import workflow\n\nThis adds an initial test for glance image interoperable import\nthat uses the glance-direct method. It will skip if the server\ndoes not support glance-direct.\n\nDepends-On: https://review.opendev.org/#/c/742047/\nChange-Id: I09e7fb4e7758edd5256ae70ceeea6f143466c3e3\n'}, {'number': 15, 'created': '2020-07-22 22:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/40d0b8264efbd4c37b7602635a87e0bc4a487208', 'message': 'Tempest tests for glance import workflow\n\nThis adds an initial test for glance image interoperable import\nthat uses the glance-direct method. It will skip if the server\ndoes not support glance-direct.\n\nDepends-On: https://review.opendev.org/#/c/742047/\nChange-Id: I09e7fb4e7758edd5256ae70ceeea6f143466c3e3\n'}, {'number': 16, 'created': '2020-07-23 01:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9c76affc152ecdd6e3fa16fe36100c299bb5d4c5', 'message': 'Tempest tests for glance import workflow\n\nThis adds an initial test for glance image interoperable import\nthat uses the glance-direct method. It will skip if the server\ndoes not support glance-direct.\n\nAdding feature flag to enable the import tests as devstack on\nstable branches cannot support image import feature.\n\nChange-Id: I09e7fb4e7758edd5256ae70ceeea6f143466c3e3\n'}, {'number': 17, 'created': '2020-07-24 18:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0ac0b9a30ed855974af11a68b3eee629c612ba13', 'message': 'Tempest tests for glance import workflow\n\nThis adds an initial test for glance image interoperable import\nthat uses the glance-direct method. It will skip if the server\ndoes not support glance-direct.\n\nAdding feature flag to enable the import tests as devstack on\nstable branches cannot support image import feature.\n\nChange-Id: I09e7fb4e7758edd5256ae70ceeea6f143466c3e3\n'}, {'number': 18, 'created': '2020-07-24 18:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f10ae440c7f8e4341c0bc20d6a9b38b4554b5de4', 'message': 'Tempest tests for glance import workflow\n\nThis adds an initial test for glance image interoperable import\nthat uses the glance-direct method. It will skip if the server\ndoes not support glance-direct.\n\nAdding feature flag to enable the import tests as devstack on\nstable branches cannot support image import feature.\n\nChange-Id: I09e7fb4e7758edd5256ae70ceeea6f143466c3e3\n'}, {'number': 19, 'created': '2020-07-24 18:09:19.000000000', 'files': ['tempest/lib/services/image/v2/images_client.py', 'tempest/lib/common/rest_client.py', 'tempest/api/image/v2/test_images.py', 'releasenotes/notes/image_import_testing_support-22ba4bcb9f2fb848.yaml', '.zuul.yaml', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7cff130795798f0f7d122ffca7791fce72f21357', 'message': 'Tempest tests for glance import workflow\n\nThis adds an initial test for glance image interoperable import\nthat uses the glance-direct method. It will skip if the server\ndoes not support glance-direct.\n\nAdding feature flag to enable the import tests as devstack on\nstable branches cannot support image import feature.\n\nChange-Id: I09e7fb4e7758edd5256ae70ceeea6f143466c3e3\n'}]",19,741425,7cff130795798f0f7d122ffca7791fce72f21357,57,5,19,9303,,,0,"Tempest tests for glance import workflow

This adds an initial test for glance image interoperable import
that uses the glance-direct method. It will skip if the server
does not support glance-direct.

Adding feature flag to enable the import tests as devstack on
stable branches cannot support image import feature.

Change-Id: I09e7fb4e7758edd5256ae70ceeea6f143466c3e3
",git fetch https://review.opendev.org/openstack/tempest refs/changes/25/741425/18 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/image/v2/images_client.py', 'tempest/lib/common/rest_client.py', 'tempest/api/image/v2/test_images.py']",3,2fdf78f75c170111f23a054e1f3e063454d8dd39,image-import-tests,"class ImportImagesTest(base.BaseV2ImageTest): """"""Here we test the import operations for image"""""" @decorators.attr(type='smoke') @decorators.idempotent_id('32ca0c20-e16f-44ac-8590-07869c9b4cc2') def test_image_import_inject_metadata(self): """"""Here we test these functionalities Create image, stage image data, import image and verify metadata is injected to image. """""" # Create image uuid = '00000000-1111-2222-3333-444455556666' image_name = data_utils.rand_name('image') container_format = CONF.image.container_formats[0] disk_format = CONF.image.disk_formats[0] image = self.create_image(name=image_name, container_format=container_format, disk_format=disk_format, visibility='private', ramdisk_id=uuid) self.assertIn('name', image) self.assertEqual(image_name, image['name']) self.assertIn('visibility', image) self.assertEqual('private', image['visibility']) self.assertIn('status', image) self.assertEqual('queued', image['status']) # Stage image data file_content = data_utils.random_bytes() image_file = six.BytesIO(file_content) self.client.stage_image_file(image['id'], image_file) # Now try to get image details body = self.client.show_image(image['id']) self.assertEqual(image['id'], body['id']) self.assertEqual(image_name, body['name']) self.assertEqual(uuid, body['ramdisk_id']) self.assertEqual('uploading', body['status']) # import image from staging to backend self.client.image_import(image['id']) self.client.wait_for_resource_activation(image['id']) # Check metadata is injected to image body = self.client.show_image(image['id']) self.assertEqual('active', body['status']) self.assertEqual('doyouseeme?', body['glance_devstack_test']) ",,131,0
openstack%2Foctavia~stable%2Fstein~I335287da66524d026f0c42086d885b478c568bbd,openstack/octavia,stable/stein,I335287da66524d026f0c42086d885b478c568bbd,Fix the interface filenames for Red Hat amphora images,MERGED,2020-01-28 18:19:36.000000000,2020-07-27 09:44:37.000000000,2020-07-27 09:40:48.000000000,"[{'_account_id': 1131}, {'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 10850}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 30657}]","[{'number': 1, 'created': '2020-01-28 18:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/35a7bc0ff58c03e8f2ba7310cae1a611765f284b', 'message': ""Fix the interface filenames for Red Hat amphora images\n\nCode was not using the correct filenames for the 'route',\n'route6', 'rule' and 'rule6' files on Red Hat images.\nChanged to use config option 'agent_server_network_file'\nif it's specified, else the file of the correct name, and\nadded unit tests for each.\n\nChange-Id: I335287da66524d026f0c42086d885b478c568bbd\nTask: 37881\nStory: 2007051\n(cherry picked from commit 93cd9fc075b3d77490090b89e449f18938710b26)\n""}, {'number': 2, 'created': '2020-01-28 21:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cf5d46d74dd0fccded3ab92211b8f5513f112b79', 'message': ""Fix the interface filenames for Red Hat amphora images\n\nCode was not using the correct filenames for the 'route',\n'route6', 'rule' and 'rule6' files on Red Hat images.\nChanged to use config option 'agent_server_network_file'\nif it's specified, else the file of the correct name, and\nadded unit tests for each.\n\nConflicts:\n  octavia/tests/unit/amphorae/backends/agent/api_server/test_osutils.py\n\nChange-Id: I335287da66524d026f0c42086d885b478c568bbd\nTask: 37881\nStory: 2007051\n(cherry picked from commit 93cd9fc075b3d77490090b89e449f18938710b26)\n""}, {'number': 3, 'created': '2020-02-18 22:10:46.000000000', 'files': ['releasenotes/notes/fix-redhat-amphora-images-interface-files-5ba1be40c65940d9.yaml', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_osutils.py', 'octavia/amphorae/backends/agent/api_server/osutils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/22b1ff45558eecaa37e769c0e1fbe7b2eacbd79c', 'message': ""Fix the interface filenames for Red Hat amphora images\n\nCode was not using the correct filenames for the 'route',\n'route6', 'rule' and 'rule6' files on Red Hat images.\nChanged to use config option 'agent_server_network_file'\nif it's specified, else the file of the correct name, and\nadded unit tests for each.\n\nConflicts:\n  octavia/tests/unit/amphorae/backends/agent/api_server/test_osutils.py\n\nChange-Id: I335287da66524d026f0c42086d885b478c568bbd\nTask: 37881\nStory: 2007051\n(cherry picked from commit 93cd9fc075b3d77490090b89e449f18938710b26)\n""}]",0,704652,22b1ff45558eecaa37e769c0e1fbe7b2eacbd79c,23,7,3,1131,,,0,"Fix the interface filenames for Red Hat amphora images

Code was not using the correct filenames for the 'route',
'route6', 'rule' and 'rule6' files on Red Hat images.
Changed to use config option 'agent_server_network_file'
if it's specified, else the file of the correct name, and
added unit tests for each.

Conflicts:
  octavia/tests/unit/amphorae/backends/agent/api_server/test_osutils.py

Change-Id: I335287da66524d026f0c42086d885b478c568bbd
Task: 37881
Story: 2007051
(cherry picked from commit 93cd9fc075b3d77490090b89e449f18938710b26)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/52/704652/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-redhat-amphora-images-interface-files-5ba1be40c65940d9.yaml', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_osutils.py']",3,35a7bc0ff58c03e8f2ba7310cae1a611765f284b,fix_route_file_rh-stable/stein," def _test_RH_get_static_routes_interface_file(self, version): conf = self.useFixture(oslo_fixture.Config(config.cfg.CONF)) fake_agent_server_network_dir = ""/path/to/interface"" fake_agent_server_network_file = ""/path/to/interfaces_file"" route = 'route6' if version == 6 else 'route' rh_route_name = '{route}-{nic}'.format( route=route, nic=consts.NETNS_PRIMARY_INTERFACE) rh_fake_route_path = os.path.join(fake_agent_server_network_dir, rh_route_name) rh_real_route_path = os.path.join( consts.RH_AMP_NET_DIR_TEMPLATE.format( netns=consts.AMPHORA_NAMESPACE), rh_route_name) # Check that agent_server_network_file is returned, when provided conf.config(group=""amphora_agent"", agent_server_network_file=fake_agent_server_network_file) rh_route_file = ( self.rh_os_util. get_static_routes_interface_file(consts.NETNS_PRIMARY_INTERFACE, version)) self.assertEqual(fake_agent_server_network_file, rh_route_file) # Check that agent_server_network_dir is used, when provided conf.config(group=""amphora_agent"", agent_server_network_file=None) conf.config(group=""amphora_agent"", agent_server_network_dir=fake_agent_server_network_dir) rh_route_file = ( self.rh_os_util. get_static_routes_interface_file(consts.NETNS_PRIMARY_INTERFACE, version)) self.assertEqual(rh_fake_route_path, rh_route_file) # Check When neither agent_server_network_dir or # agent_server_network_file where provided. conf.config(group=""amphora_agent"", agent_server_network_file=None) conf.config(group=""amphora_agent"", agent_server_network_dir=None) rh_route_file = ( self.rh_os_util. get_static_routes_interface_file(consts.NETNS_PRIMARY_INTERFACE, version)) self.assertEqual(rh_real_route_path, rh_route_file) def test_RH_get_static_routes_interface_file(self): self._test_RH_get_static_routes_interface_file(4) def test_RH_get_static_routes_interface_file_ipv6(self): self._test_RH_get_static_routes_interface_file(6) def _test_RH_get_route_rules_interface_file(self, version): conf = self.useFixture(oslo_fixture.Config(config.cfg.CONF)) fake_agent_server_network_dir = ""/path/to/interface"" fake_agent_server_network_file = ""/path/to/interfaces_file"" rule = 'rule6' if version == 6 else 'rule' rh_route_rules_name = '{rule}-{nic}'.format( rule=rule, nic=consts.NETNS_PRIMARY_INTERFACE) rh_fake_route_rules_path = os.path.join(fake_agent_server_network_dir, rh_route_rules_name) rh_real_route_rules_path = os.path.join( consts.RH_AMP_NET_DIR_TEMPLATE.format( netns=consts.AMPHORA_NAMESPACE), rh_route_rules_name) # Check that agent_server_network_file is returned, when provided conf.config(group=""amphora_agent"", agent_server_network_file=fake_agent_server_network_file) rh_route_rules_file = ( self.rh_os_util. get_route_rules_interface_file(consts.NETNS_PRIMARY_INTERFACE, version)) self.assertEqual(fake_agent_server_network_file, rh_route_rules_file) # Check that agent_server_network_dir is used, when provided conf.config(group=""amphora_agent"", agent_server_network_file=None) conf.config(group=""amphora_agent"", agent_server_network_dir=fake_agent_server_network_dir) rh_route_rules_file = ( self.rh_os_util. get_route_rules_interface_file(consts.NETNS_PRIMARY_INTERFACE, version)) self.assertEqual(rh_fake_route_rules_path, rh_route_rules_file) # Check When neither agent_server_network_dir or # agent_server_network_file where provided. conf.config(group=""amphora_agent"", agent_server_network_file=None) conf.config(group=""amphora_agent"", agent_server_network_dir=None) rh_route_rules_file = ( self.rh_os_util. get_route_rules_interface_file(consts.NETNS_PRIMARY_INTERFACE, version)) self.assertEqual(rh_real_route_rules_path, rh_route_rules_file) def test_RH_get_route_rules_interface_file(self): self._test_RH_get_route_rules_interface_file(4) def test_RH_get_route_rules_interface_file_ipv6(self): self._test_RH_get_route_rules_interface_file(6) FIXED_IP = u'192.0.2.2' NEXTHOP = u'192.0.2.1' DEST = u'198.51.100.0/24' host_routes = [ {'nexthop': NEXTHOP, 'destination': ipaddress.ip_network(DEST)} ] FIXED_IP_IPV6 = u'2001:db8::2' NEXTHOP_IPV6 = u'2001:db8::1' DEST_IPV6 = u'2001:db8:51:100::/64' host_routes_ipv6 = [ {'nexthop': NEXTHOP_IPV6, 'destination': ipaddress.ip_network(DEST_IPV6)} ] ip_addr = {'ip_address': FIXED_IP, 'host_routes': host_routes} ipv6_addr = {'ip_address': FIXED_IP_IPV6, 'host_routes': host_routes_ipv6} fixed_ips = [ip_addr, ipv6_addr] mock_local_scripts = mock.MagicMock() mock_wr_fi = mock.MagicMock() mock_gen_text.reset_mock() with mock.patch('os.open'), mock.patch.object( os, 'fdopen', mock_open), mock.patch.object( osutils.BaseOS, '_generate_network_file_text', mock_gen_text), mock.patch.object( osutils.RH, '_write_ifup_ifdown_local_scripts_if_possible', mock_local_scripts), mock.patch.object( osutils.RH, 'write_static_routes_interface_file', mock_wr_fi): self.rh_os_util.write_port_interface_file( netns_interface=netns_interface, fixed_ips=fixed_ips, mtu=MTU, interface_file_path=path, template_port=mock_template) rh_route_name = 'route-{nic}'.format(nic=netns_interface) rh_real_route_path = os.path.join( consts.RH_AMP_NET_DIR_TEMPLATE.format( netns=consts.AMPHORA_NAMESPACE), rh_route_name) rh_route_name_ipv6 = 'route6-{nic}'.format(nic=netns_interface) rh_real_route_path_ipv6 = os.path.join( consts.RH_AMP_NET_DIR_TEMPLATE.format( netns=consts.AMPHORA_NAMESPACE), rh_route_name_ipv6) exp_routes = [ {'network': ipaddress.ip_network(DEST), 'gw': NEXTHOP} ] exp_routes_ipv6 = [ {'network': ipaddress.ip_network(DEST_IPV6), 'gw': NEXTHOP_IPV6} ] expected_calls = [ mock.call(rh_real_route_path, netns_interface, exp_routes, mock.ANY, None, None, None), mock.call(rh_real_route_path_ipv6, netns_interface, exp_routes_ipv6, mock.ANY, None, None, None)] mock_gen_text.assert_called_once_with( netns_interface, fixed_ips, MTU, mock_template) self.assertEqual(2, mock_wr_fi.call_count) mock_wr_fi.assert_has_calls(expected_calls) mock_local_scripts.assert_called_once() ", fixed_ips = [],219,15
openstack%2Fironic-inspector~master~Iefac618d73ccba3b58baefdc6b993758622b8811,openstack/ironic-inspector,master,Iefac618d73ccba3b58baefdc6b993758622b8811,Add variable to set inspection timeout in tempest tests,MERGED,2020-05-06 13:46:23.000000000,2020-07-27 09:43:25.000000000,2020-05-08 14:13:44.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-05-06 13:46:23.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/a02fcd1e75d331d1d212b8ddb41d982d368c4b7e', 'message': 'Add variable to set inspection timeout in tempest tests\n\nInspection can sometimes take longer based on multiple factors.\nThis patch adds a variable to control the node inspection timeout.\n\nChange-Id: Iefac618d73ccba3b58baefdc6b993758622b8811\n'}]",0,725855,a02fcd1e75d331d1d212b8ddb41d982d368c4b7e,15,5,1,23851,,,0,"Add variable to set inspection timeout in tempest tests

Inspection can sometimes take longer based on multiple factors.
This patch adds a variable to control the node inspection timeout.

Change-Id: Iefac618d73ccba3b58baefdc6b993758622b8811
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/55/725855/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,a02fcd1e75d331d1d212b8ddb41d982d368c4b7e,intro-timeout,"IRONIC_INSPECTOR_TEMPEST_INTROSPECTION_TIMEOUT=${IRONIC_INSPECTOR_TEMPEST_INTROSPECTION_TIMEOUT:-} if [[ -n ""${IRONIC_INSPECTOR_TEMPEST_INTROSPECTION_TIMEOUT}"" ]]; then iniset $TEMPEST_CONFIG baremetal_introspection introspection_timeout $IRONIC_INSPECTOR_TEMPEST_INTROSPECTION_TIMEOUT fi",,4,0
openstack%2Ftripleo-quickstart-extras~master~Ia4c84ac4c93466afde68abea19e18ca738e99910,openstack/tripleo-quickstart-extras,master,Ia4c84ac4c93466afde68abea19e18ca738e99910,Remove install_skiplist and set python interpreter,MERGED,2020-07-24 13:00:48.000000000,2020-07-27 09:40:34.000000000,2020-07-27 09:40:34.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-24 13:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6939219152d6c77d82e2e29d095024f7b7e529da', 'message': 'DNM - Testing skiplist\n\nChange-Id: Ia4c84ac4c93466afde68abea19e18ca738e99910\n'}, {'number': 2, 'created': '2020-07-25 10:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5a43b2af0c7242e9d9b97d3a07eeba1fb7366801', 'message': 'DNM - Testing skiplist\n\nChange-Id: Ia4c84ac4c93466afde68abea19e18ca738e99910\n'}, {'number': 3, 'created': '2020-07-25 13:51:09.000000000', 'files': ['playbooks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bd4f23c273ba0cd2408b63a53000b7bbc5c29e0b', 'message': 'Remove install_skiplist and set python interpreter\n\nThe install_skiplist role here is not necessary since tripleo-quickstart\nalready install the openstack-tempest-skiplist in the virtualenv.\nThis also ensure that the ansible_python_interpreter is set to the\nvirtualenv one, because ansible.cfg have the interpreter_python set to\nauto, and it was executing this step with the system python, making the\nimport of tempest_skip fail.\n\nChange-Id: Ia4c84ac4c93466afde68abea19e18ca738e99910\n'}]",1,742873,bd4f23c273ba0cd2408b63a53000b7bbc5c29e0b,17,5,3,8367,,,0,"Remove install_skiplist and set python interpreter

The install_skiplist role here is not necessary since tripleo-quickstart
already install the openstack-tempest-skiplist in the virtualenv.
This also ensure that the ansible_python_interpreter is set to the
virtualenv one, because ansible.cfg have the interpreter_python set to
auto, and it was executing this step with the system python, making the
import of tempest_skip fail.

Change-Id: Ia4c84ac4c93466afde68abea19e18ca738e99910
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/73/742873/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest.yml'],1,6939219152d6c77d82e2e29d095024f7b7e529da,remove-install,# - name: Install tempest-skip tool # include_role: # name: install_skiplist, - name: Install tempest-skip tool include_role: name: install_skiplist,3,3
openstack%2Ftripleo-ci~master~I084b14ee00827ea471e2574bf2ed41c813bb653e,openstack/tripleo-ci,master,I084b14ee00827ea471e2574bf2ed41c813bb653e,Enabled c8 containers undercloud minion job for train,ABANDONED,2020-07-22 05:03:46.000000000,2020-07-27 09:26:29.000000000,,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30750}]","[{'number': 1, 'created': '2020-07-22 05:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/20b272dccfb525c4e0e402b8175bc7d9af191f7c', 'message': 'Added c8 containers undercloud minion train job.\n\nAdded tripleo-ci-centos-8-containers-undercloud-minion-train job in\nupstream. Taiga ticket[1].\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1886\n\nChange-Id: I084b14ee00827ea471e2574bf2ed41c813bb653e\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}, {'number': 2, 'created': '2020-07-22 05:19:06.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b6250d0a700ec650ad527f60906d1103113abf31', 'message': 'Enabled c8 containers undercloud minion job for train\n\nEnabled tripleo-ci-centos-8-containers-undercloud-minion\njob for train in upstream. This job is requirement for\nTaiga ticket[1].\n\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1886\n\nChange-Id: I084b14ee00827ea471e2574bf2ed41c813bb653e\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}]",2,742341,b6250d0a700ec650ad527f60906d1103113abf31,9,6,2,30750,,,0,"Enabled c8 containers undercloud minion job for train

Enabled tripleo-ci-centos-8-containers-undercloud-minion
job for train in upstream. This job is requirement for
Taiga ticket[1].

[1] https://tree.taiga.io/project/tripleo-ci-board/task/1886

Change-Id: I084b14ee00827ea471e2574bf2ed41c813bb653e
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/41/742341/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,20b272dccfb525c4e0e402b8175bc7d9af191f7c,c8_train_minion, - tripleo-ci-centos-8-containers-undercloud-minion-train: irrelevant-files: *multinode_ignored- job: name: tripleo-ci-centos-8-containers-undercloud-minion-train parent: tripleo-ci-base-multinode-centos-8 branches: ^(?!stable/(newton|ocata|pike|queens|rocky|stein)).*$ vars: nodes: 1minion featureset: '061' playbooks: - multinode-minion.yml extra_tags: - undercloud-minion-setup - undercloud-minion-deploy ,,15,0
openstack%2Frequirements~master~I20996ee038dbb1e55c061d7037b7059697301ff7,openstack/requirements,master,I20996ee038dbb1e55c061d7037b7059697301ff7,Add python-binary-memcached package,MERGED,2020-07-21 07:13:28.000000000,2020-07-27 09:17:20.000000000,2020-07-27 07:46:50.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 28522}, {'_account_id': 31827}]","[{'number': 1, 'created': '2020-07-21 07:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/149c48060596de1c19fcc99e146e4b307a59aca0', 'message': 'Add python-binary-memcached package\n\npython-binary-memcached provide the client service, that we want to\nadd sasl protocol for memcached, that we should add this package to\nrequirements.\n\nChange-Id: I20996ee038dbb1e55c061d7037b7059697301ff7\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 2, 'created': '2020-07-22 04:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/a7b1dd967e1a37326cadeb0c4245b5e0c0869f02', 'message': 'Add python-binary-memcached package\n\npython-binary-memcached provide the client service, that we want to\nadd sasl protocol for memcached, that we should add this package to\nrequirements.python-memcached package cannot support the sasl protocol\nto connect with the memcached with sasl enabled. the\npython-binary-memcached package can support this feature very well.the\npython-binary-memcached package need the uhashring package support.\n\n[Q] Is the library actively maintained?\n[A] yes, https://pypi.org/project/python-binary-memcached/\n    and https://pypi.org/project/uhashring/\n\n[Q] Is the library good code?\n[A] yes, code has both tests and documentation\n\n[Q] Is the library python 3 compatible?\n[A] yes\n\n[Q] Is the library license compatible?\n[A] python-binary-memcached #MIT License\n    uhashring #BSD\n\n[Q] Is the library already packaged in the distros we target\n    (Ubuntu latest / Fedora latest)?\n[A] The library distributed through PyPI\n\n[Q] Is the function of this library already covered by other\n    libraries in global-requirements.txt?\n[A] no\n\n[Q] Is the library required for OpenStack project or related dev or\n    infrastructure setup? (Answer to this should be Yes, of course) Which?\n[A] OpenStack project: oslo.cache\n\n[Q] If the library release is managed by the Openstack release process\n    does it use the cycle-with-intermediary release type?\n[A] N/A\n\n[Q] Do I need to update anything else?\n[A] no\n\nChange-Id: I20996ee038dbb1e55c061d7037b7059697301ff7\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 3, 'created': '2020-07-22 06:15:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b6504e9ba5691ca1e36f64b3058bfda1ded47de1', 'message': 'Add python-binary-memcached package\n\npython-binary-memcached provide the client service, that we want to\nadd sasl protocol for memcached, that we should add this package to\nrequirements.python-memcached package cannot support the sasl protocol\nto connect with the memcached with sasl enabled. the\npython-binary-memcached package can support this feature very well.the\npython-binary-memcached package need the uhashring package support.\n\n[Q] Is the library actively maintained?\n[A] yes, https://pypi.org/project/python-binary-memcached/\n    and https://pypi.org/project/uhashring/\n\n[Q] Is the library good code?\n[A] yes, code has both tests and documentation\n\n[Q] Is the library python 3 compatible?\n[A] yes\n\n[Q] Is the library license compatible?\n[A] python-binary-memcached #MIT License\n    uhashring #BSD\n\n[Q] Is the library already packaged in the distros we target\n    (Ubuntu latest / Fedora latest)?\n[A] The library distributed through PyPI\n\n[Q] Is the function of this library already covered by other\n    libraries in global-requirements.txt?\n[A] no\n\n[Q] Is the library required for OpenStack project or related dev or\n    infrastructure setup? (Answer to this should be Yes, of course) Which?\n[A] OpenStack project: oslo.cache\n\n[Q] If the library release is managed by the Openstack release process\n    does it use the cycle-with-intermediary release type?\n[A] N/A\n\n[Q] Do I need to update anything else?\n[A] no\n\nChange-Id: I20996ee038dbb1e55c061d7037b7059697301ff7\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 4, 'created': '2020-07-22 06:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0861ce25e6c8f00b73c82ad3b31fbd9dfa872f24', 'message': 'Add python-binary-memcached package\n\npython-binary-memcached provide the client service, that we want to\nadd sasl protocol for memcached, that we should add this package to\nrequirements.python-memcached package cannot support the sasl protocol\nto connect with the memcached with sasl enabled. the\npython-binary-memcached package can support this feature very well.the\npython-binary-memcached package need the uhashring package support.\n\n[Q] Is the library actively maintained?\n[A] yes, https://pypi.org/project/python-binary-memcached/\n    and https://pypi.org/project/uhashring/\n\n[Q] Is the library good code?\n[A] yes, code has both tests and documentation\n\n[Q] Is the library python 3 compatible?\n[A] yes\n\n[Q] Is the library license compatible?\n[A] python-binary-memcached #MIT License\n    uhashring #BSD\n\n[Q] Is the library already packaged in the distros we target\n    (Ubuntu latest / Fedora latest)?\n[A] The library distributed through PyPI\n\n[Q] Is the function of this library already covered by other\n    libraries in global-requirements.txt?\n[A] no\n\n[Q] Is the library required for OpenStack project or related dev or\n    infrastructure setup? (Answer to this should be Yes, of course) Which?\n[A] OpenStack project: oslo.cache\n\n[Q] If the library release is managed by the Openstack release process\n    does it use the cycle-with-intermediary release type?\n[A] N/A\n\n[Q] Do I need to update anything else?\n[A] no\n\nChange-Id: I20996ee038dbb1e55c061d7037b7059697301ff7\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 5, 'created': '2020-07-27 01:10:13.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7828bed0febabfa11a0a8f6960f4c7cc8acec841', 'message': 'Add python-binary-memcached package\n\npython-binary-memcached provide the client service, that we want to\nadd sasl protocol for memcached, that we should add this package to\nrequirements.python-memcached package cannot support the sasl protocol\nto connect with the memcached with sasl enabled. the\npython-binary-memcached package can support this feature very well.the\npython-binary-memcached package need the uhashring package support.\n\n[Q] Is the library actively maintained?\n[A] yes, https://pypi.org/project/python-binary-memcached/\n    and https://pypi.org/project/uhashring/\n\n[Q] Is the library good code?\n[A] yes, code has both tests and documentation\n\n[Q] Is the library python 3 compatible?\n[A] yes\n\n[Q] Is the library license compatible?\n[A] python-binary-memcached #MIT License\n    uhashring #BSD\n\n[Q] Is the library already packaged in the distros we target\n    (Ubuntu latest / Fedora latest)?\n[A] The library distributed through PyPI\n\n[Q] Is the function of this library already covered by other\n    libraries in global-requirements.txt?\n[A] no\n\n[Q] Is the library required for OpenStack project or related dev or\n    infrastructure setup? (Answer to this should be Yes, of course) Which?\n[A] OpenStack project: oslo.cache\n\n[Q] If the library release is managed by the Openstack release process\n    does it use the cycle-with-intermediary release type?\n[A] N/A\n\n[Q] Do I need to update anything else?\n[A] no\n\nChange-Id: I20996ee038dbb1e55c061d7037b7059697301ff7\nImplements: blueprint enable-sasl-protocol\n'}]",3,742080,7828bed0febabfa11a0a8f6960f4c7cc8acec841,41,6,5,31827,,,0,"Add python-binary-memcached package

python-binary-memcached provide the client service, that we want to
add sasl protocol for memcached, that we should add this package to
requirements.python-memcached package cannot support the sasl protocol
to connect with the memcached with sasl enabled. the
python-binary-memcached package can support this feature very well.the
python-binary-memcached package need the uhashring package support.

[Q] Is the library actively maintained?
[A] yes, https://pypi.org/project/python-binary-memcached/
    and https://pypi.org/project/uhashring/

[Q] Is the library good code?
[A] yes, code has both tests and documentation

[Q] Is the library python 3 compatible?
[A] yes

[Q] Is the library license compatible?
[A] python-binary-memcached #MIT License
    uhashring #BSD

[Q] Is the library already packaged in the distros we target
    (Ubuntu latest / Fedora latest)?
[A] The library distributed through PyPI

[Q] Is the function of this library already covered by other
    libraries in global-requirements.txt?
[A] no

[Q] Is the library required for OpenStack project or related dev or
    infrastructure setup? (Answer to this should be Yes, of course) Which?
[A] OpenStack project: oslo.cache

[Q] If the library release is managed by the Openstack release process
    does it use the cycle-with-intermediary release type?
[A] N/A

[Q] Do I need to update anything else?
[A] no

Change-Id: I20996ee038dbb1e55c061d7037b7059697301ff7
Implements: blueprint enable-sasl-protocol
",git fetch https://review.opendev.org/openstack/requirements refs/changes/80/742080/4 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,149c48060596de1c19fcc99e146e4b307a59aca0,bp/enable-sasl-protocol,python-binary-memcached===0.29.0,,2,0
openstack%2Fcharm-octavia-diskimage-retrofit~master~Idfbf743680b7b4324a6bd0147744a0ab3df40e83,openstack/charm-octavia-diskimage-retrofit,master,Idfbf743680b7b4324a6bd0147744a0ab3df40e83,Add Victoria test bundles,MERGED,2020-07-23 13:28:16.000000000,2020-07-27 08:54:42.000000000,2020-07-27 08:54:42.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 13:28:16.000000000', 'files': ['src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/e0762421bdf3ecee271cd356ffeafca38aaf2316', 'message': 'Add Victoria test bundles\n\nChange-Id: Idfbf743680b7b4324a6bd0147744a0ab3df40e83\n'}]",0,742665,e0762421bdf3ecee271cd356ffeafca38aaf2316,7,3,1,31289,,,0,"Add Victoria test bundles

Change-Id: Idfbf743680b7b4324a6bd0147744a0ab3df40e83
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/65/742665/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml']",3,e0762421bdf3ecee271cd356ffeafca38aaf2316,victoria-charm-tests,- groovy-victoria - focal-victoria - groovy-victoria, - focal-ussuri,221,1
openstack%2Fkuryr-libnetwork~master~I8fa392718c2a747a99639d0bd1fa1e2e97a7b47a,openstack/kuryr-libnetwork,master,I8fa392718c2a747a99639d0bd1fa1e2e97a7b47a,"Remove unnecessary ""run"" and ""post-run""",MERGED,2020-07-25 23:06:26.000000000,2020-07-27 08:38:40.000000000,2020-07-27 08:34:25.000000000,"[{'_account_id': 10459}, {'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-25 23:06:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/b096b19a5fcb2633160bbd9f03a3b69acf379057', 'message': 'Remove unnecessary ""run"" and ""post-run""\n\nChange-Id: I8fa392718c2a747a99639d0bd1fa1e2e97a7b47a\n'}]",0,743047,b096b19a5fcb2633160bbd9f03a3b69acf379057,7,3,1,11536,,,0,"Remove unnecessary ""run"" and ""post-run""

Change-Id: I8fa392718c2a747a99639d0bd1fa1e2e97a7b47a
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/47/743047/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b096b19a5fcb2633160bbd9f03a3b69acf379057,,, run: playbooks/run_fullstack_job.yaml post-run: playbooks/post_fullstack_job.yaml,0,2
openstack%2Fheat~stable%2Fussuri~I2a78b6f6235529a95838307e3d38731d31ff5c4b,openstack/heat,stable/ussuri,I2a78b6f6235529a95838307e3d38731d31ff5c4b,Check external resources after creation,MERGED,2020-07-23 17:56:02.000000000,2020-07-27 08:29:45.000000000,2020-07-27 08:28:14.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 17:56:02.000000000', 'files': ['heat/tests/generic_resource.py', 'heat/engine/resource.py', 'heat/tests/test_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/9d9ca36072461d1b436a104bc6e2a6bb5df175bb', 'message': 'Check external resources after creation\n\nThe method Resource.check() is not a generator function, but it does\nreturn a generator in most cases. Simply calling the function does not\ncause the resource to actually be checked. Only in the case where the\nresource did not provide a handle_check() method would it do anything at\nall - and in that case it simply changes the state to CHECK_COMPLETE.\n\nYield the generator function so that the resource will actually be\nchecked if the resource type supports it.\n\nChange-Id: I2a78b6f6235529a95838307e3d38731d31ff5c4b\nTask: 37828\n(cherry picked from commit 5c6038f7a272238eef8978a4b26ab4ae4efd745b)\n'}]",0,742719,9d9ca36072461d1b436a104bc6e2a6bb5df175bb,13,3,1,7353,,,0,"Check external resources after creation

The method Resource.check() is not a generator function, but it does
return a generator in most cases. Simply calling the function does not
cause the resource to actually be checked. Only in the case where the
resource did not provide a handle_check() method would it do anything at
all - and in that case it simply changes the state to CHECK_COMPLETE.

Yield the generator function so that the resource will actually be
checked if the resource type supports it.

Change-Id: I2a78b6f6235529a95838307e3d38731d31ff5c4b
Task: 37828
(cherry picked from commit 5c6038f7a272238eef8978a4b26ab4ae4efd745b)
",git fetch https://review.opendev.org/openstack/heat refs/changes/19/742719/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/generic_resource.py', 'heat/engine/resource.py', 'heat/tests/test_resource.py']",3,9d9ca36072461d1b436a104bc6e2a6bb5df175bb,," def test_create_from_external_with_check(self): tmpl = rsrc_defn.ResourceDefinition( 'test_resource', 'GenericResourceType', external_id='f00d') res = generic_rsrc.CheckableResource('test_resource', tmpl, self.stack) scheduler.TaskRunner(res.create)() self.assertEqual((res.CHECK, res.COMPLETE), res.state) self.assertEqual('f00d', res.resource_id) ",,16,1
openstack%2Fkolla-ansible~master~I3804c440fe3552950d9d434ef5409f685c39bbcf,openstack/kolla-ansible,master,I3804c440fe3552950d9d434ef5409f685c39bbcf,Performance: remove unnecessary conditions from includes,MERGED,2020-07-02 17:14:56.000000000,2020-07-27 08:24:32.000000000,2020-07-24 07:52:37.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 29543}]","[{'number': 1, 'created': '2020-07-02 17:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/92596b6af65f8a4d384647fba1ac3f01c845db12', 'message': 'Performance: remove unnecessary conditions from includes\n\nThere are a number of tasks where we conditionally use include_tasks\nwith a condition, and the condition is always true. This change removes\nthese conditions, in preparation for switching unconditional task\nincludes to task imports.\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: I3804c440fe3552950d9d434ef5409f685c39bbcf\n'}, {'number': 2, 'created': '2020-07-06 15:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/808d6abd5482e0708c1af076c90ee2f31de4be99', 'message': 'Performance: remove unnecessary conditions from includes\n\nThere are a number of tasks where we conditionally use include_tasks\nwith a condition, and the condition is always true. This change removes\nthese conditions, in preparation for switching unconditional task\nincludes to task imports.\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: I3804c440fe3552950d9d434ef5409f685c39bbcf\n'}, {'number': 3, 'created': '2020-07-07 14:57:04.000000000', 'files': ['ansible/roles/karbor/tasks/deploy.yml', 'ansible/roles/octavia/tasks/deploy.yml', 'ansible/roles/tacker/tasks/deploy.yml', 'ansible/roles/watcher/tasks/deploy.yml', 'ansible/roles/cinder/tasks/deploy.yml', 'ansible/roles/cyborg/tasks/deploy.yml', 'ansible/roles/aodh/tasks/deploy.yml', 'ansible/roles/barbican/tasks/deploy.yml', 'ansible/roles/solum/tasks/deploy.yml', 'ansible/roles/designate/tasks/deploy.yml', 'ansible/roles/senlin/tasks/deploy.yml', 'ansible/roles/freezer/tasks/deploy.yml', 'ansible/roles/vitrage/tasks/deploy.yml', 'ansible/roles/zun/tasks/deploy.yml', 'ansible/roles/qinling/tasks/deploy.yml', 'ansible/roles/manila/tasks/deploy.yml', 'ansible/roles/masakari/tasks/deploy.yml', 'ansible/roles/murano/tasks/deploy.yml', 'ansible/roles/trove/tasks/deploy.yml', 'ansible/roles/vmtp/tasks/deploy.yml', 'ansible/roles/blazar/tasks/deploy.yml', 'ansible/roles/skydive/tasks/deploy.yml', 'ansible/roles/monasca/tasks/deploy.yml', 'ansible/roles/glance/tasks/deploy.yml', 'ansible/roles/gnocchi/tasks/deploy.yml', 'ansible/roles/sahara/tasks/deploy.yml', 'ansible/roles/mistral/tasks/deploy.yml', 'ansible/roles/cloudkitty/tasks/deploy.yml', 'ansible/roles/heat/tasks/deploy.yml', 'ansible/roles/ceilometer/tasks/deploy.yml', 'ansible/roles/ironic/tasks/deploy.yml', 'ansible/roles/magnum/tasks/deploy.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7ff27de7acd573a4ae94a930ec040bd28060918c', 'message': 'Performance: remove unnecessary conditions from includes\n\nThere are a number of tasks where we conditionally use include_tasks\nwith a condition, and the condition is always true. This change removes\nthese conditions, in preparation for switching unconditional task\nincludes to task imports.\n\nPartially-Implements: blueprint performance-improvements\n\nChange-Id: I3804c440fe3552950d9d434ef5409f685c39bbcf\n'}]",5,739107,7ff27de7acd573a4ae94a930ec040bd28060918c,21,6,3,14826,,,0,"Performance: remove unnecessary conditions from includes

There are a number of tasks where we conditionally use include_tasks
with a condition, and the condition is always true. This change removes
these conditions, in preparation for switching unconditional task
includes to task imports.

Partially-Implements: blueprint performance-improvements

Change-Id: I3804c440fe3552950d9d434ef5409f685c39bbcf
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/07/739107/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/karbor/tasks/deploy.yml', 'ansible/roles/octavia/tasks/deploy.yml', 'ansible/roles/tacker/tasks/deploy.yml', 'ansible/roles/watcher/tasks/deploy.yml', 'ansible/roles/cinder/tasks/deploy.yml', 'ansible/roles/cyborg/tasks/deploy.yml', 'ansible/roles/aodh/tasks/deploy.yml', 'ansible/roles/barbican/tasks/deploy.yml', 'ansible/roles/solum/tasks/deploy.yml', 'ansible/roles/designate/tasks/deploy.yml', 'ansible/roles/senlin/tasks/deploy.yml', 'ansible/roles/freezer/tasks/deploy.yml', 'ansible/roles/vitrage/tasks/deploy.yml', 'ansible/roles/zun/tasks/deploy.yml', 'ansible/roles/qinling/tasks/deploy.yml', 'ansible/roles/manila/tasks/deploy.yml', 'ansible/roles/masakari/tasks/deploy.yml', 'ansible/roles/murano/tasks/deploy.yml', 'ansible/roles/trove/tasks/deploy.yml', 'ansible/roles/vmtp/tasks/deploy.yml', 'ansible/roles/blazar/tasks/deploy.yml', 'ansible/roles/skydive/tasks/deploy.yml', 'ansible/roles/monasca/tasks/deploy.yml', 'ansible/roles/glance/tasks/deploy.yml', 'ansible/roles/gnocchi/tasks/deploy.yml', 'ansible/roles/sahara/tasks/deploy.yml', 'ansible/roles/mistral/tasks/deploy.yml', 'ansible/roles/cloudkitty/tasks/deploy.yml', 'ansible/roles/heat/tasks/deploy.yml', 'ansible/roles/ceilometer/tasks/deploy.yml', 'ansible/roles/ironic/tasks/deploy.yml', 'ansible/roles/magnum/tasks/deploy.yml']",32,92596b6af65f8a4d384647fba1ac3f01c845db12,bp/performance-improvements,, when: inventory_hostname in groups['magnum-api'] or inventory_hostname in groups['magnum-conductor'],2,128
openstack%2Fbifrost~master~Ib8272d1a56dc8da68312c77209c08c511a608c52,openstack/bifrost,master,Ib8272d1a56dc8da68312c77209c08c511a608c52,Find authentication from the 'bifrost' cloud instead of calling os_cloud_config,ABANDONED,2020-07-24 14:39:21.000000000,2020-07-27 08:09:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-24 14:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a09480a5f7ea08766997c297a1309988c0e34061', 'message': ""Find authentication from the 'bifrost' cloud instead of calling os_cloud_config\n\nThe current approach of copying auth and auth_type prevents additional cloud\nconfiguration from being passed. Passing baremetal_endpoint_override will be\nimportant for the HTTP basic auth support.\n\nChange-Id: Ib8272d1a56dc8da68312c77209c08c511a608c52\n""}, {'number': 2, 'created': '2020-07-24 15:21:00.000000000', 'files': ['playbooks/roles/ironic-delete-dynamic/defaults/main.yml', 'playbooks/roles/ironic-inspect-node/tasks/main.yml', 'playbooks/roles/bifrost-configdrives-dynamic/README.md', 'playbooks/roles/bifrost-unprovision-node-dynamic/tasks/main.yml', 'playbooks/roles/ironic-enroll-dynamic/README.md', 'playbooks/roles/bifrost-configdrives-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-unprovision-node-dynamic/defaults/main.yml', 'playbooks/roles/ironic-enroll-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-unprovision-node-dynamic/README.md', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/update_facts_from_ironic.yaml', 'playbooks/roles/ironic-delete-dynamic/tasks/main.yml', 'playbooks/roles/ironic-inspect-node/README.md', 'playbooks/roles/bifrost-deploy-nodes-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-deploy-nodes-dynamic/README.md', 'playbooks/roles/bifrost-deploy-nodes-dynamic/tasks/main.yml', 'playbooks/roles/ironic-enroll-dynamic/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/14ca85e2c39b3c5747f179f66522b65c16545b31', 'message': ""Find authentication from the 'bifrost' cloud instead of calling os_cloud_config\n\nThe current approach of copying auth and auth_type prevents additional cloud\nconfiguration from being passed. Passing baremetal_endpoint_override will be\nimportant for the HTTP basic auth support.\n\nAlso avoid passing non-empty ironic_url when passing cloud_name.\n\nChange-Id: Ib8272d1a56dc8da68312c77209c08c511a608c52\n""}]",0,742898,14ca85e2c39b3c5747f179f66522b65c16545b31,4,1,2,10239,,,0,"Find authentication from the 'bifrost' cloud instead of calling os_cloud_config

The current approach of copying auth and auth_type prevents additional cloud
configuration from being passed. Passing baremetal_endpoint_override will be
important for the HTTP basic auth support.

Also avoid passing non-empty ironic_url when passing cloud_name.

Change-Id: Ib8272d1a56dc8da68312c77209c08c511a608c52
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/98/742898/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/ironic-inspect-node/tasks/main.yml', 'playbooks/roles/bifrost-unprovision-node-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/update_facts_from_ironic.yaml', 'playbooks/roles/ironic-delete-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-deploy-nodes-dynamic/tasks/main.yml', 'playbooks/roles/ironic-enroll-dynamic/tasks/main.yml']",6,a09480a5f7ea08766997c297a1309988c0e34061,cloud,"- name: ""Set the default cloud name"" set_fact: cloud_name: ""bifrost"" when: auth is undefined and cloud_name is undefined","- name: ""Execute os_client_config to collect facts"" os_client_config: no_log: yes when: noauth_mode is defined and noauth_mode | bool == false # NOTE(TheJulia): The first record returned by os_client_config # is utilized as the default. A user can still define the parameters # if so desired. - name: ""Set os_client_config's auth parameters if not already set."" set_fact: auth: ""{{ openstack.clouds[0].auth }}"" auth_type: ""{{ openstack.clouds[0].auth_type }}"" when: auth is undefined no_log: yes",18,78
openstack%2Fcharm-octavia~master~Ide04d0343e0c0dbc8f95e72350f89ac1e21da81f,openstack/charm-octavia,master,Ide04d0343e0c0dbc8f95e72350f89ac1e21da81f,[NO NOT MERGE] Validating https://review.opendev.org/741547,ABANDONED,2020-07-17 11:18:07.000000000,2020-07-27 07:25:27.000000000,,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-17 11:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/b684e4f8f866631ee1d8075c48899e417ebd406c', 'message': '[NO NOT MERGE] Validating https://review.opendev.org/741547\n\nChange-Id: Ide04d0343e0c0dbc8f95e72350f89ac1e21da81f\n'}, {'number': 2, 'created': '2020-07-17 12:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/bc67f8e420fa39815815843d54847ff9f6c5b432', 'message': '[NO NOT MERGE] Validating https://review.opendev.org/741547\n\nChange-Id: Ide04d0343e0c0dbc8f95e72350f89ac1e21da81f\n'}, {'number': 3, 'created': '2020-07-17 13:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/33f9726da2273e071e86779b08f8bb9b414958f5', 'message': '[NO NOT MERGE] Validating https://review.opendev.org/741547\n\nChange-Id: Ide04d0343e0c0dbc8f95e72350f89ac1e21da81f\n'}, {'number': 4, 'created': '2020-07-18 06:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/433f26bc73dbf02d3e5be3b73b481eae01980d7a', 'message': '[NO NOT MERGE] Validating https://review.opendev.org/741547\n\nChange-Id: Ide04d0343e0c0dbc8f95e72350f89ac1e21da81f\n'}, {'number': 5, 'created': '2020-07-22 15:05:27.000000000', 'files': ['interfaces/keystone/copyright', 'interfaces/keystone/interface.yaml', 'interfaces/keystone/requires.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/5f84e193faf25a258703cb74587b0034c0b6f015', 'message': '[NO NOT MERGE] Validating https://review.opendev.org/741547\n\nChange-Id: Ide04d0343e0c0dbc8f95e72350f89ac1e21da81f\n'}]",0,741616,5f84e193faf25a258703cb74587b0034c0b6f015,24,4,5,31289,,,0,"[NO NOT MERGE] Validating https://review.opendev.org/741547

Change-Id: Ide04d0343e0c0dbc8f95e72350f89ac1e21da81f
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/16/741616/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-rocky-ha.yaml', 'src/tests/bundles/bionic-ussuri-ha-ovn.yaml', 'src/tests/bundles/focal-ussuri-ha.yaml', 'src/tests/bundles/focal-ussuri-ha-ovn.yaml', 'src/tests/bundles/bionic-rocky-lxd.yaml', 'src/tests/bundles/bionic-stein-ha.yaml', 'interfaces/keystone/interface.yaml', 'src/tests/bundles/bionic-train-ha-ovn.yaml', 'interfaces/keystone/copyright', 'src/tests/bundles/bionic-ussuri-ha.yaml', 'src/tests/bundles/bionic-train-ha.yaml', 'interfaces/keystone/requires.py']",12,b684e4f8f866631ee1d8075c48899e417ebd406c,donotmerge/1818113,"#!/usr/bin/python # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import base64 import json from charms.reactive import RelationBase from charms.reactive import hook from charms.reactive import scopes class KeystoneRequires(RelationBase): scope = scopes.GLOBAL # These remote data fields will be automatically mapped to accessors # with a basic documentation string provided. auto_accessors = ['private-address', 'service_host', 'service_protocol', 'service_port', 'service_tenant', 'service_username', 'service_password', 'service_tenant_id', 'auth_host', 'auth_protocol', 'auth_port', 'admin_token', 'ssl_key', 'ca_cert', 'ssl_cert', 'https_keystone', 'ssl_cert_admin', 'ssl_cert_internal', 'ssl_cert_public', 'ssl_key_admin', 'ssl_key_internal', 'ssl_key_public', 'api_version', 'service_domain', 'service_domain_id', 'ep_changed', 'admin_domain_id', 'admin_user_id', 'admin_project_id'] @hook('{requires:keystone}-relation-joined') def joined(self): self.set_state('{relation_name}.connected') self.update_state() def update_state(self): if self.base_data_complete(): self.set_state('{relation_name}.available') self.set_state('{relation_name}.available.auth') if self.ssl_data_complete(): self.set_state('{relation_name}.available.ssl') else: self.remove_state('{relation_name}.available.ssl') if self.ssl_data_complete_legacy(): self.set_state('{relation_name}.available.ssl_legacy') else: self.remove_state('{relation_name}.available.ssl_legacy') else: self.remove_state('{relation_name}.available') self.remove_state('{relation_name}.available.ssl') self.remove_state('{relation_name}.available.ssl_legacy') self.remove_state('{relation_name}.available.auth') @hook('{requires:keystone}-relation-changed') def changed(self): self.update_state() @hook('{requires:keystone}-relation-{broken,departed}') def departed(self): self.update_state() def base_data_complete(self): data = { 'private-address': self.private_address(), 'service_host': self.service_host(), 'service_protocol': self.service_protocol(), 'service_port': self.service_port(), 'auth_host': self.auth_host(), 'auth_protocol': self.auth_protocol(), 'auth_port': self.auth_port(), 'service_tenant': self.service_tenant(), 'service_username': self.service_username(), 'service_password': self.service_password(), 'service_tenant_id': self.service_tenant_id(), } if all(data.values()): return True return False def ssl_data_complete(self): data = { 'ssl_cert_admin': self.ssl_cert_admin(), 'ssl_cert_internal': self.ssl_cert_internal(), 'ssl_cert_public': self.ssl_cert_public(), 'ssl_key_admin': self.ssl_key_admin(), 'ssl_key_internal': self.ssl_key_internal(), 'ssl_key_public': self.ssl_key_public(), 'ca_cert': self.ca_cert(), } for value in data.values(): if not value or value == '__null__': return False return True def ssl_data_complete_legacy(self): data = { 'ssl_key': self.ssl_key(), 'ssl_cert': self.ssl_cert(), 'ca_cert': self.ca_cert(), } for value in data.values(): if not value or value == '__null__': return False return True def register_endpoints(self, service, region, public_url, internal_url, admin_url, requested_roles=None): """""" Register this service with keystone """""" relation_info = { 'service': service, 'public_url': public_url, 'internal_url': internal_url, 'admin_url': admin_url, 'region': region, } if requested_roles: relation_info.update( {'requested_roles': ','.join(requested_roles)}) self.set_local(**relation_info) self.set_remote(**relation_info) def request_keystone_endpoint_information(self): self.register_endpoints('None', 'None', 'None', 'None', 'None') def request_notification(self, services): """""" Request notification about changes to endpoints :param services: services to request notification about :type: list[str] """""" relation_info = { ""subscribe_ep_change"": "" "".join(services), } self.set_remote(**relation_info) def get_ssl_key(self, cn=None): relation_key = 'ssl_key_{}'.format(cn) if cn else 'ssl_key' key = self.get_remote(relation_key) if key: key = base64.b64decode(key).decode('utf-8') return key def get_ssl_cert(self, cn=None): relation_key = 'ssl_cert_{}'.format(cn) if cn else 'ssl_cert' cert = self.get_remote(relation_key) if cert: cert = base64.b64decode(cert).decode('utf-8') return cert def get_ssl_ca(self, cn=None): ca = None if self.ca_cert(): ca = base64.b64decode(self.ca_cert()).decode('utf-8') return ca def endpoint_checksums(self): """"""Read any endpoint notification checksums from the interface :returns: endpoint->checksum data dictionary :rtype: dict """""" if self.ep_changed(): return json.loads(self.ep_changed()) return {} ",,208,18
openstack%2Fironic-python-agent~master~I304468d57b10d677f2a9d58aec42a1bf414c6cba,openstack/ironic-python-agent,master,I304468d57b10d677f2a9d58aec42a1bf414c6cba,More refactoring of the image module,MERGED,2020-07-21 09:27:07.000000000,2020-07-27 07:17:38.000000000,2020-07-27 07:15:41.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-21 09:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/05860cb9204fee0674af631bcecb33f24955d182', 'message': 'More refactoring of the image module\n\nIntroducing new function _umount_all_partitions to reduce the size\nof _install_grub2\n\nChange-Id: I304468d57b10d677f2a9d58aec42a1bf414c6cba\n'}, {'number': 2, 'created': '2020-07-24 08:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/81d9ad61852f5d54bbf4b2b54e43b530cdeec939', 'message': 'More refactoring of the image module\n\nIntroducing new function _umount_all_partitions to reduce the size\nof _install_grub2\n\nChange-Id: I304468d57b10d677f2a9d58aec42a1bf414c6cba\n'}, {'number': 3, 'created': '2020-07-24 08:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d386ac2d2d33e640b7a37742d652d2a0727bfc2c', 'message': 'More refactoring of the image module\n\nIntroducing new function _umount_all_partitions to reduce the size\nof _install_grub2\n\nChange-Id: I304468d57b10d677f2a9d58aec42a1bf414c6cba\n'}, {'number': 4, 'created': '2020-07-24 12:34:52.000000000', 'files': ['ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/80e11811f5edf86c7fca28d3f3bca8cf42f87621', 'message': 'More refactoring of the image module\n\nIntroducing new function _umount_all_partitions to reduce the size\nof _install_grub2\n\nChange-Id: I304468d57b10d677f2a9d58aec42a1bf414c6cba\n'}]",5,742110,80e11811f5edf86c7fca28d3f3bca8cf42f87621,21,6,4,23851,,,0,"More refactoring of the image module

Introducing new function _umount_all_partitions to reduce the size
of _install_grub2

Change-Id: I304468d57b10d677f2a9d58aec42a1bf414c6cba
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/10/742110/4 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/extensions/image.py'],1,05860cb9204fee0674af631bcecb33f24955d182,image-refactor," # Now lets check the signature ddout, dderr = utils.execute( 'dd', 'if=%s' % device, 'bs=218', 'count=1', binary=True) stdout, stderr = utils.execute('file', '-', process_input=ddout) # The bytes recovered by dd show as a ""dos executable"" when # examined with file. In other words, the bootloader is present. if 'executable' in stdout: return Truedef _umount_all_partitions(path, path_variable, umount_warn_msg): """"""Umount all partitions we may have mounted"""""" umount_binds_fail = False LOG.debug(""Unmounting all vfat partitions inside the image ..."") try: utils.execute('chroot %(path)s /bin/sh -c ""umount -a -t vfat""' % {'path': path}, shell=True, env_variables={'PATH': path_variable}) except processutils.ProcessExecutionError as e: LOG.warning(""Unable to umount vfat partitions. Error: %(error)s"", {'error': e}) for fs in BIND_MOUNTS + ('/sys',): try: utils.execute('umount', path + fs, attempts=3, delay_on_retry=True) except processutils.ProcessExecutionError as e: umount_binds_fail = True LOG.warning(umount_warn_msg, {'path': path + fs, 'error': e}) return umount_binds_fail umount_warn_msg = ""Unable to umount %(path)s. Error: %(error)s"" if not _umount_all_partitions(path, path_variable, umount_warn_msg):"," else: # Now lets check the signature ddout, dderr = utils.execute( 'dd', 'if=%s' % device, 'bs=218', 'count=1', binary=True) stdout, stderr = utils.execute('file', '-', process_input=ddout) # The bytes recovered by dd show as a ""dos executable"" when # examined with file. In other words, the bootloader is present. if 'executable' in stdout: return True efi_partition = None umount_warn_msg = ""Unable to umount %(path)s. Error: %(error)s"" umount_binds_fail = False # Umount the vfat partitions we may have mounted LOG.debug(""Unmounting all partitions inside the image ..."") try: utils.execute('chroot %(path)s /bin/sh -c ""umount -a -t vfat""' % {'path': path}, shell=True, env_variables={'PATH': path_variable}) except processutils.ProcessExecutionError as e: LOG.warning(""Unable to umount vfat partitions. Error: %(error)s"", {'error': e}) for fs in BIND_MOUNTS: try: utils.execute('umount', path + fs, attempts=3, delay_on_retry=True) except processutils.ProcessExecutionError as e: umount_binds_fail = True LOG.warning(umount_warn_msg, {'path': path + fs, 'error': e}) try: utils.execute('umount', path + '/sys', attempts=3, delay_on_retry=True) except processutils.ProcessExecutionError as e: umount_binds_fail = True LOG.warning(umount_warn_msg, {'path': path + '/sys', 'error': e}) if not umount_binds_fail:",33,38
openstack%2Fironic~master~Idb7fe3fc8b220f223d137eaced47a9ded13eba13,openstack/ironic,master,Idb7fe3fc8b220f223d137eaced47a9ded13eba13,Enforce autospec in some api tests,MERGED,2020-07-16 14:28:05.000000000,2020-07-27 06:13:27.000000000,2020-07-27 05:43:03.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-16 14:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d33b5ab474974353a3712e4b5ea7178080c5dcf4', 'message': 'Enforce autospec in some api tests\n\nAnd remove corresping filters.\n\nChange-Id: Idb7fe3fc8b220f223d137eaced47a9ded13eba13\n'}, {'number': 2, 'created': '2020-07-16 14:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/57f062291e03b3a7daa78f4aa3ba6f7d81602874', 'message': 'Enforce autospec in some api tests\n\nAnd remove corresping filters.\n\nChange-Id: Idb7fe3fc8b220f223d137eaced47a9ded13eba13\n'}, {'number': 3, 'created': '2020-07-17 07:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/184294cb831435d18038b65a4c0ecf10d72da2a8', 'message': 'Enforce autospec in some api tests\n\nAnd remove corresping filters.\n\nChange-Id: Idb7fe3fc8b220f223d137eaced47a9ded13eba13\n'}, {'number': 4, 'created': '2020-07-24 21:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e7c30ba4ea2fc3b8244fcd77921b33e308992ee7', 'message': 'Enforce autospec in some api tests\n\nAnd remove corresping filters.\n\nChange-Id: Idb7fe3fc8b220f223d137eaced47a9ded13eba13\n'}, {'number': 5, 'created': '2020-07-24 21:23:30.000000000', 'files': ['ironic/tests/unit/api/test_healthcheck.py', 'ironic/tests/unit/api/test_audit.py', 'ironic/tests/unit/api/controllers/v1/test_root.py', 'ironic/tests/unit/api/test_hooks.py', 'ironic/tests/unit/api/test_ospmiddleware.py', 'ironic/tests/unit/api/base.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7a839569aa5762f70a6a3975d8017fd98145242c', 'message': 'Enforce autospec in some api tests\n\nAnd remove corresping filters.\n\nChange-Id: Idb7fe3fc8b220f223d137eaced47a9ded13eba13\n'}]",0,741468,7a839569aa5762f70a6a3975d8017fd98145242c,29,7,5,23851,,,0,"Enforce autospec in some api tests

And remove corresping filters.

Change-Id: Idb7fe3fc8b220f223d137eaced47a9ded13eba13
",git fetch https://review.opendev.org/openstack/ironic refs/changes/68/741468/5 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/test_healthcheck.py', 'ironic/tests/unit/api/controllers/v1/test_root.py', 'ironic/tests/unit/api/test_audit.py', 'ironic/tests/unit/api/test_hooks.py', 'ironic/tests/unit/api/test_ospmiddleware.py', 'ironic/tests/unit/api/base.py', 'tox.ini']",7,d33b5ab474974353a3712e4b5ea7178080c5dcf4,enforce-autospec, ironic/tests/unit/api/controllers/*:H210, ironic/tests/unit/api/*:H210,16,14
openstack%2Freleases~master~I340dc838d5049b85750e622a5fdefdd847b4954f,openstack/releases,master,I340dc838d5049b85750e622a5fdefdd847b4954f,Re-release recent xstatic packages,MERGED,2020-07-24 10:36:39.000000000,2020-07-27 05:55:50.000000000,2020-07-27 05:55:50.000000000,"[{'_account_id': 308}, {'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 10:36:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4a2c7db39f963000b93f873ae613e46bc40a912c', 'message': 'Re-release recent xstatic packages\n\nThose xstatic packages were added to openstack governance on Feb 21.\nThey were released manually on PyPI before that date. In order to get\nthem properly referenced on tarballs.openstack.org, linked on\nreleases.openstack.org, and signed using the OpenStack release key,\nwe need to re-release them through the OpenStack release automation\nprocess.\n\nThis patch will probably fail until the pkg version is bumped in the\nxstatic source code:\n\nhttps://review.opendev.org/#/q/status:open+topic:refresh-releases\n\nDepends-On: I2b252c3143bc11df044db18654a1c6a7a8f0532e\nDepends-On: Ic1e5024f68eedacc2e6b71aa40152cf48a3d8da7\nDepends-On: I666ea72c1dfcaab0739940008d9468a215d8628e\nDepends-On: I47d3c678ae02e60f4092ef2b3305b2cb80de80dc\nDepends-On: I565c780aace0f749712bda7ff4a3b9a14e1225dd\nChange-Id: I340dc838d5049b85750e622a5fdefdd847b4954f\n'}, {'number': 2, 'created': '2020-07-24 14:21:36.000000000', 'files': ['deliverables/_independent/xstatic-dagre.yaml', 'deliverables/_independent/xstatic-lodash.yaml', 'deliverables/_independent/xstatic-moment-timezone.yaml', 'deliverables/_independent/xstatic-moment.yaml', 'deliverables/_independent/xstatic-dagre-d3.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f06adac4a60159b3599effe8a8647eb705c5c4ec', 'message': 'Re-release recent xstatic packages\n\nThose xstatic packages were added to openstack governance on Feb 21.\nThey were released manually on PyPI before that date. In order to get\nthem properly referenced on tarballs.openstack.org, linked on\nreleases.openstack.org, and signed using the OpenStack release key,\nwe need to re-release them through the OpenStack release automation\nprocess.\n\nThis patch will probably fail until the pkg version is bumped in the\nxstatic source code:\n\nhttps://review.opendev.org/#/q/status:open+topic:refresh-releases\n\nDepends-On: I2b252c3143bc11df044db18654a1c6a7a8f0532e\nDepends-On: Ic1e5024f68eedacc2e6b71aa40152cf48a3d8da7\nDepends-On: I666ea72c1dfcaab0739940008d9468a215d8628e\nDepends-On: I47d3c678ae02e60f4092ef2b3305b2cb80de80dc\nDepends-On: I565c780aace0f749712bda7ff4a3b9a14e1225dd\nChange-Id: I340dc838d5049b85750e622a5fdefdd847b4954f\n'}]",11,742849,f06adac4a60159b3599effe8a8647eb705c5c4ec,20,6,2,308,,,0,"Re-release recent xstatic packages

Those xstatic packages were added to openstack governance on Feb 21.
They were released manually on PyPI before that date. In order to get
them properly referenced on tarballs.openstack.org, linked on
releases.openstack.org, and signed using the OpenStack release key,
we need to re-release them through the OpenStack release automation
process.

This patch will probably fail until the pkg version is bumped in the
xstatic source code:

https://review.opendev.org/#/q/status:open+topic:refresh-releases

Depends-On: I2b252c3143bc11df044db18654a1c6a7a8f0532e
Depends-On: Ic1e5024f68eedacc2e6b71aa40152cf48a3d8da7
Depends-On: I666ea72c1dfcaab0739940008d9468a215d8628e
Depends-On: I47d3c678ae02e60f4092ef2b3305b2cb80de80dc
Depends-On: I565c780aace0f749712bda7ff4a3b9a14e1225dd
Change-Id: I340dc838d5049b85750e622a5fdefdd847b4954f
",git fetch https://review.opendev.org/openstack/releases refs/changes/49/742849/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/_independent/xstatic-dagre.yaml', 'deliverables/_independent/xstatic-lodash.yaml', 'deliverables/_independent/xstatic-moment-timezone.yaml', 'deliverables/_independent/xstatic-moment.yaml', 'deliverables/_independent/xstatic-dagre-d3.yaml']",5,4a2c7db39f963000b93f873ae613e46bc40a912c,refresh-releases,--- launchpad: horizon team: horizon type: other release-type: xstatic include-pypi-link: true repository-settings: openstack/xstatic-dagre-d3: tarball-base: XStatic-Dagre-D3 releases: - version: 0.4.17.1 projects: - repo: openstack/xstatic-dagre-d3 hash: fcd6e551f0a8ddf629c913cb78dc107a53e79ccd ,,70,0
openstack%2Freleases~master~I65232a3102b8a061006524b7f9b967dfbb38e8f6,openstack/releases,master,I65232a3102b8a061006524b7f9b967dfbb38e8f6,tripleo victoria-1 release,MERGED,2020-07-22 17:02:31.000000000,2020-07-27 05:55:49.000000000,2020-07-27 05:55:49.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 11904}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-22 17:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4a851b1958fe484a0c71964528345615c8c7adcf', 'message': 'tripleo victoria-1 release\n\nDepends-On: https://review.opendev.org/#/c/742432\nChange-Id: I65232a3102b8a061006524b7f9b967dfbb38e8f6\n'}, {'number': 2, 'created': '2020-07-23 20:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5ea07a4bd94e6c154e923f2f7f599633c9168a19', 'message': 'tripleo victoria-1 release\n\nDepends-On: https://review.opendev.org/#/c/742432\nChange-Id: I65232a3102b8a061006524b7f9b967dfbb38e8f6\n'}, {'number': 3, 'created': '2020-07-24 14:57:22.000000000', 'files': ['deliverables/victoria/tripleo-heat-templates.yaml', 'deliverables/victoria/tripleo-validations.yaml', 'deliverables/victoria/os-apply-config.yaml', 'deliverables/victoria/os-net-config.yaml', 'deliverables/victoria/tripleo-ansible.yaml', 'deliverables/victoria/puppet-tripleo.yaml', 'deliverables/victoria/tripleo-common.yaml', 'deliverables/victoria/python-tripleoclient.yaml', 'deliverables/victoria/tripleo-puppet-elements.yaml', 'deliverables/victoria/tripleo-image-elements.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ff19cd4c632893f0875b2ee8b33a9a7e37a3ec7a', 'message': 'tripleo victoria-1 release\n\nDepends-On: https://review.opendev.org/#/c/742432\nChange-Id: I65232a3102b8a061006524b7f9b967dfbb38e8f6\n'}]",3,742492,ff19cd4c632893f0875b2ee8b33a9a7e37a3ec7a,26,6,3,9592,,,0,"tripleo victoria-1 release

Depends-On: https://review.opendev.org/#/c/742432
Change-Id: I65232a3102b8a061006524b7f9b967dfbb38e8f6
",git fetch https://review.opendev.org/openstack/releases refs/changes/92/742492/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/tripleo-heat-templates.yaml', 'deliverables/victoria/tripleo-validations.yaml', 'deliverables/victoria/os-apply-config.yaml', 'deliverables/victoria/os-net-config.yaml', 'deliverables/victoria/puppet-tripleo.yaml', 'deliverables/victoria/tripleo-ansible.yaml', 'deliverables/victoria/tripleo-common.yaml', 'deliverables/victoria/python-tripleoclient.yaml', 'deliverables/victoria/tripleo-puppet-elements.yaml', 'deliverables/victoria/tripleo-image-elements.yaml']",10,4a851b1958fe484a0c71964528345615c8c7adcf,,releases: - version: 12.1.0 projects: - repo: openstack/tripleo-image-elements hash: 66d1d0beba1c318ebdf1df5d3678acb1913103e2,,50,0
openstack%2Fheat~stable%2Fqueens~Iab53f4c2a14757e5ceea85c15bade4581385616a,openstack/heat,stable/queens,Iab53f4c2a14757e5ceea85c15bade4581385616a,[stable/queens] Fix py35 job by pinning gnocchi version,MERGED,2020-07-15 07:50:51.000000000,2020-07-27 05:51:25.000000000,2020-07-27 05:51:25.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 07:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/060d571a551b71441176a014a377bd8807ababe7', 'message': 'TEST Remove ceilometer\n\nChange-Id: Iab53f4c2a14757e5ceea85c15bade4581385616a\n'}, {'number': 2, 'created': '2020-07-15 09:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/69e9215df1bfb1e2d999081e08eb52d55cd19ca3', 'message': 'TEST ceilometer backend none\n\nChange-Id: Iab53f4c2a14757e5ceea85c15bade4581385616a\n'}, {'number': 3, 'created': '2020-07-24 05:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6b1173a26d8f74682f6b12b7cc62011c8c579bfb', 'message': 'Test older gnocchi version\n\nChange-Id: Iab53f4c2a14757e5ceea85c15bade4581385616a\n'}, {'number': 4, 'created': '2020-07-24 05:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/578031def66919c8709d85f353737cf695986cbe', 'message': 'Test older gnocchi version\n\nChange-Id: Iab53f4c2a14757e5ceea85c15bade4581385616a\n'}, {'number': 5, 'created': '2020-07-24 07:54:06.000000000', 'files': ['heat_integrationtests/pre_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/bd31211d6f65895a808826025f379610cc2dd8da', 'message': ""[stable/queens] Fix py35 job by pinning gnocchi version\n\nCeilometer uses gnocchi as the default backend and the ceilometer\ndevstack plugin installs gnocchi from master.\n\nThis results in conflict as upper-constraints for pbr for\nstable/queens is very old.\n\nLet's workaround this by setting GNOCCHI_GIT_PATH to unlblock\ngate.\n\nTask: 40437\nChange-Id: Iab53f4c2a14757e5ceea85c15bade4581385616a\n""}]",0,741104,bd31211d6f65895a808826025f379610cc2dd8da,14,4,5,8833,,,0,"[stable/queens] Fix py35 job by pinning gnocchi version

Ceilometer uses gnocchi as the default backend and the ceilometer
devstack plugin installs gnocchi from master.

This results in conflict as upper-constraints for pbr for
stable/queens is very old.

Let's workaround this by setting GNOCCHI_GIT_PATH to unlblock
gate.

Task: 40437
Change-Id: Iab53f4c2a14757e5ceea85c15bade4581385616a
",git fetch https://review.opendev.org/openstack/heat refs/changes/04/741104/5 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/devstack/functional/run.yaml'],1,060d571a551b71441176a014a377bd8807ababe7,,," export PROJECTS=""openstack/ceilometer $PROJECTS"" export DEVSTACK_LOCAL_CONFIG+=$'\n'""enable_plugin ceilometer https://opendev.org/openstack/ceilometer""",0,2
openstack%2Fpuppet-swift~master~Iebb67609a384ee4c6be1d0f8aff86643ff6775c2,openstack/puppet-swift,master,Iebb67609a384ee4c6be1d0f8aff86643ff6775c2,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-15 15:29:54.000000000,2020-07-27 05:50:48.000000000,2020-07-27 05:49:42.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 15:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/3492d03af912c573658b14e2ea4037259d4b0b18', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: Iebb67609a384ee4c6be1d0f8aff86643ff6775c2\n'}, {'number': 2, 'created': '2020-07-15 15:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/fc058c51c3516257d1520a59df952b69edaf44f9', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: Iebb67609a384ee4c6be1d0f8aff86643ff6775c2\n'}, {'number': 3, 'created': '2020-07-15 15:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/51d880f3c7ebf3f25f7323eada996ebaafaf8f3e', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: Iebb67609a384ee4c6be1d0f8aff86643ff6775c2\n'}, {'number': 4, 'created': '2020-07-16 01:27:49.000000000', 'files': ['manifests/proxy/authtoken.pp', 'spec/classes/swift_proxy_authtoken_spec.rb', 'releasenotes/notes/keystone-authtoken-interface-a0cdde390fca1a46.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/a09758194acee428f793abb975fdd92affcb2314', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: Iebb67609a384ee4c6be1d0f8aff86643ff6775c2\n'}]",0,741249,a09758194acee428f793abb975fdd92affcb2314,23,4,4,9816,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: Iebb67609a384ee4c6be1d0f8aff86643ff6775c2
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/49/741249/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/proxy/authtoken.pp', 'spec/classes/swift_proxy_authtoken_spec.rb', 'releasenotes/notes/keystone-authtoken-interface-a0cdde390fca1a46.yaml']",3,3492d03af912c573658b14e2ea4037259d4b0b18,at-interface,"--- features: - | The new ``swift::keystone::authtoken::interface`` parameter has been added, which can be used to set the interface parameter in authtoken middleware. ",,16,1
openstack%2Fpuppet-ceilometer~master~I7ef9b2a05a08312ccb7486bf5e4c3b8bb0ac56ea,openstack/puppet-ceilometer,master,I7ef9b2a05a08312ccb7486bf5e4c3b8bb0ac56ea,Remove ceilometer::keystone::authtoken,MERGED,2020-07-04 15:12:35.000000000,2020-07-27 05:01:32.000000000,2020-07-27 05:00:24.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-04 15:12:35.000000000', 'files': ['releasenotes/notes/remove-keystone-authtoken-90d1ef5d716540d2.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/2a07c94a7f1015bf7184d98f002ec6b56fc77a02', 'message': 'Remove ceilometer::keystone::authtoken\n\n... because this class was deprecated in the previous cycle[1], and\nno longer useful since ceilometer-api was removed.\n\n[1] 0befdba12408242a8b797a00896ebb2cd07f0aab\n\nChange-Id: I7ef9b2a05a08312ccb7486bf5e4c3b8bb0ac56ea\n'}]",0,739304,2a07c94a7f1015bf7184d98f002ec6b56fc77a02,12,4,1,9816,,,0,"Remove ceilometer::keystone::authtoken

... because this class was deprecated in the previous cycle[1], and
no longer useful since ceilometer-api was removed.

[1] 0befdba12408242a8b797a00896ebb2cd07f0aab

Change-Id: I7ef9b2a05a08312ccb7486bf5e4c3b8bb0ac56ea
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/04/739304/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-keystone-authtoken-90d1ef5d716540d2.yaml', 'manifests/keystone/authtoken.pp']",2,2a07c94a7f1015bf7184d98f002ec6b56fc77a02,authtoken,,"# class: ceilometer::keystone::authtoken # # DEPRECATED ! # Configure the keystone_authtoken section in the configuration file # # === Parameters # # [*username*] # (Optional) The name of the service user # Defaults to undef. # # [*password*] # (Optional) Password to create for the service user # Defaults to undef. # # [*auth_url*] # (Optional) The URL to use for authentication. # Defaults to undef. # # [*project_name*] # (Optional) Service project name # Defaults to undef. # # [*user_domain_name*] # (Optional) Name of domain for $username # Defaults to undef # # [*project_domain_name*] # (Optional) Name of domain for $project_name # Defaults to undef # # [*insecure*] # (Optional) If true, explicitly allow TLS without checking server cert # against any certificate authorities. WARNING: not recommended. Use with # caution. # Defaults to undef # # [*auth_section*] # (Optional) Config Section from which to load plugin specific options # Defaults to undef. # # [*auth_type*] # (Optional) Authentication type to load # Defaults to undef # # [*www_authenticate_uri*] # (Optional) Complete public Identity API endpoint. # Defaults to undef # # [*auth_version*] # (Optional) API version of the admin Identity API endpoint. # Defaults to undef. # # [*cache*] # (Optional) Env key for the swift cache. # Defaults to undef. # # [*cafile*] # (Optional) A PEM encoded Certificate Authority to use when verifying HTTPs # connections. # Defaults to undef. # # [*certfile*] # (Optional) Required if identity server requires client certificate # Defaults to undef. # # [*delay_auth_decision*] # (Optional) Do not handle authorization requests within the middleware, but # delegate the authorization decision to downstream WSGI components. Boolean # value # Defaults to undef. # # [*enforce_token_bind*] # (Optional) Used to control the use and type of token binding. Can be set # to: ""disabled"" to not check token binding. ""permissive"" (default) to # validate binding information if the bind type is of a form known to the # server and ignore it if not. ""strict"" like ""permissive"" but if the bind # type is unknown the token will be rejected. ""required"" any form of token # binding is needed to be allowed. Finally the name of a binding method that # must be present in tokens. String value. # Defaults to undef. # # [*http_connect_timeout*] # (Optional) Request timeout value for communicating with Identity API # server. # Defaults to undef. # # [*http_request_max_retries*] # (Optional) How many times are we trying to reconnect when communicating # with Identity API Server. Integer value # Defaults to undef. # # [*include_service_catalog*] # (Optional) Indicate whether to set the X-Service-Catalog header. If False, # middleware will not ask for service catalog on token validation and will # not set the X-Service-Catalog header. Boolean value. # Defaults to undef. # # [*keyfile*] # (Optional) Required if identity server requires client certificate # Defaults to undef. # # [*memcache_pool_conn_get_timeout*] # (Optional) Number of seconds that an operation will wait to get a memcached # client connection from the pool. Integer value # Defaults to undef. # # [*memcache_pool_dead_retry*] # (Optional) Number of seconds memcached server is considered dead before it # is tried again. Integer value # Defaults to undef. # # [*memcache_pool_maxsize*] # (Optional) Maximum total number of open connections to every memcached # server. Integer value # Defaults to undef. # # [*memcache_pool_socket_timeout*] # (Optional) Number of seconds a connection to memcached is held unused in # the pool before it is closed. Integer value # Defaults to undef. # # [*memcache_pool_unused_timeout*] # (Optional) Number of seconds a connection to memcached is held unused in # the pool before it is closed. Integer value # Defaults to undef. # # [*memcache_secret_key*] # (Optional, mandatory if memcache_security_strategy is defined) This string # is used for key derivation. # Defaults to undef. # # [*memcache_security_strategy*] # (Optional) If defined, indicate whether token data should be authenticated # or authenticated and encrypted. If MAC, token data is authenticated (with # HMAC) in the cache. If ENCRYPT, token data is encrypted and authenticated in the # cache. If the value is not one of these options or empty, auth_token will # raise an exception on initialization. # Defaults to undef. # # [*memcache_use_advanced_pool*] # (Optional) Use the advanced (eventlet safe) memcached client pool. The # advanced pool will only work under python 2.x Boolean value # Defaults to undef. # # [*memcached_servers*] # (Optional) Optionally specify a list of memcached server(s) to use for # caching. If left undefined, tokens will instead be cached in-process. # Defaults to undef. # # [*manage_memcache_package*] # (Optional) Whether to install the python-memcache package. # Defaults to undef. # # [*region_name*] # (Optional) The region in which the identity server can be found. # Defaults to undef. # # [*token_cache_time*] # (Optional) In order to prevent excessive effort spent validating tokens, # the middleware caches previously-seen tokens for a configurable duration # (in seconds). Set to -1 to disable caching completely. Integer value # Defaults to undef. # # [*service_token_roles_required*] # (optional) backwards compatibility to ensure that the service tokens are # compared against a list of possible roles for validity # true/false # Defaults to undef. # class ceilometer::keystone::authtoken( $username = undef, $password = undef, $auth_url = undef, $project_name = undef, $user_domain_name = undef, $project_domain_name = undef, $insecure = undef, $auth_section = undef, $auth_type = undef, $www_authenticate_uri = undef, $auth_version = undef, $cache = undef, $cafile = undef, $certfile = undef, $delay_auth_decision = undef, $enforce_token_bind = undef, $http_connect_timeout = undef, $http_request_max_retries = undef, $include_service_catalog = undef, $keyfile = undef, $memcache_pool_conn_get_timeout = undef, $memcache_pool_dead_retry = undef, $memcache_pool_maxsize = undef, $memcache_pool_socket_timeout = undef, $memcache_pool_unused_timeout = undef, $memcache_secret_key = undef, $memcache_security_strategy = undef, $memcache_use_advanced_pool = undef, $memcached_servers = undef, $manage_memcache_package = undef, $region_name = undef, $token_cache_time = undef, $service_token_roles_required = undef, ) { include ceilometer::deps warning('ceilometer::keystone::authtoken is deprecated and has not effect') } ",4,210
openstack%2Fpython-tripleoclient~master~I1e3955f29bc5ec7d90430774bee68e22ecba40ba,openstack/python-tripleoclient,master,I1e3955f29bc5ec7d90430774bee68e22ecba40ba,Change 'overcloud node delete' help string,ABANDONED,2020-04-03 06:27:45.000000000,2020-07-27 04:33:17.000000000,,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-04-03 06:27:45.000000000', 'files': ['releasenotes/notes/node-delete-options-dbda9a7b7f3852f0.yaml', 'tripleoclient/v1/overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7b4dcd3b0f14c9451d19d8057aa8c516068d8f68', 'message': ""Change 'overcloud node delete' help string\n\nAfter introduction of scale_tasks[1] and it's use for node delete,\nwe no longer can delete nodes by providing instance ids as\nscale_playbook.yaml would match hostnames. This patch changes\nthe command help string and adds a releasenote for it.\n\nThis needs to be backported to stable/train and relevant\ndocumentation also need to be updated.\n\n[1] https://review.opendev.org/651507\n\nRelated-Bug: #1869089\nChange-Id: I1e3955f29bc5ec7d90430774bee68e22ecba40ba\n""}]",0,717183,7b4dcd3b0f14c9451d19d8057aa8c516068d8f68,5,4,1,8833,,,0,"Change 'overcloud node delete' help string

After introduction of scale_tasks[1] and it's use for node delete,
we no longer can delete nodes by providing instance ids as
scale_playbook.yaml would match hostnames. This patch changes
the command help string and adds a releasenote for it.

This needs to be backported to stable/train and relevant
documentation also need to be updated.

[1] https://review.opendev.org/651507

Related-Bug: #1869089
Change-Id: I1e3955f29bc5ec7d90430774bee68e22ecba40ba
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/83/717183/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/node-delete-options-dbda9a7b7f3852f0.yaml', 'tripleoclient/v1/overcloud_node.py']",2,7b4dcd3b0f14c9451d19d8057aa8c516068d8f68,, help=_('Node hostnames to delete (otherwise ' 'specified in the --baremetal-deployment ' 'file)')), help=_('Node ID(s) to delete (otherwise specified ' 'in the --baremetal-deployment file)')),9,2
openstack%2Ftrove~master~Icadc95ea54e4509dc148f8e84f2eaac5840509f3,openstack/trove,master,Icadc95ea54e4509dc148f8e84f2eaac5840509f3,Using same config with primary for replicas,MERGED,2020-07-26 23:25:21.000000000,2020-07-27 04:09:11.000000000,2020-07-27 04:08:07.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-26 23:25:21.000000000', 'files': ['trove/instance/models.py', 'doc/source/user/set-up-replication.rst', 'trove/taskmanager/manager.py', 'doc/source/user/upgrade-datastore.rst', 'trove/tests/api/replication.py', 'trove/common/apischema.py', 'trove/instance/service.py', 'doc/source/user/backup-db.rst', 'trove/tests/unittests/instance/test_instance_models.py', 'doc/source/user/create-db.rst', 'trove/tests/scenario/runners/replication_runners.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/efb6a811bedd07819d95ff462195929dd1a33922', 'message': 'Using same config with primary for replicas\n\nChange-Id: Icadc95ea54e4509dc148f8e84f2eaac5840509f3\n'}]",0,743093,efb6a811bedd07819d95ff462195929dd1a33922,7,2,1,6732,,,0,"Using same config with primary for replicas

Change-Id: Icadc95ea54e4509dc148f8e84f2eaac5840509f3
",git fetch https://review.opendev.org/openstack/trove refs/changes/93/743093/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/instance/models.py', 'doc/source/user/set-up-replication.rst', 'doc/source/user/upgrade-datastore.rst', 'trove/taskmanager/manager.py', 'trove/tests/api/replication.py', 'trove/common/apischema.py', 'trove/instance/service.py', 'doc/source/user/backup-db.rst', 'doc/source/user/create-db.rst', 'trove/tests/unittests/instance/test_instance_models.py', 'trove/tests/scenario/runners/replication_runners.py']",11,efb6a811bedd07819d95ff462195929dd1a33922,replica-same-size," replica_of=master_id,"," self.instance_info.dbaas_flavor_href, self.instance_info.volume, replica_of=master_id, datastore=self.instance_info.dbaas_datastore, datastore_version=self.instance_info.dbaas_datastore_version, self.instance_info.dbaas_flavor_href, self.instance_info.volume, datastore=self.instance_info.dbaas_datastore, datastore_version=self.instance_info.dbaas_datastore_version,",288,276
openstack%2Fpuppet-swift~master~Ia0cc5d8aa3e4daaf2be0889f82d2186e92553348,openstack/puppet-swift,master,Ia0cc5d8aa3e4daaf2be0889f82d2186e92553348,Eliminate remaining class inclusions by absolute names,MERGED,2020-07-16 01:26:45.000000000,2020-07-27 03:52:00.000000000,2020-07-27 03:52:00.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-16 01:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/c6febe3667707967ca9823b04cf591d167a6d1cf', 'message': 'Eeliminate remaining class inclusions by absolute names\n\nChange-Id: Ia0cc5d8aa3e4daaf2be0889f82d2186e92553348\n'}, {'number': 2, 'created': '2020-07-16 01:27:44.000000000', 'files': ['examples/site.pp', 'manifests/storage.pp', 'examples/all.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/7a6fa33e77406a7fcc0c28b71eff1fb9b8f1a115', 'message': 'Eliminate remaining class inclusions by absolute names\n\nChange-Id: Ia0cc5d8aa3e4daaf2be0889f82d2186e92553348\n'}]",0,741352,7a6fa33e77406a7fcc0c28b71eff1fb9b8f1a115,30,4,2,9816,,,0,"Eliminate remaining class inclusions by absolute names

Change-Id: Ia0cc5d8aa3e4daaf2be0889f82d2186e92553348
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/52/741352/2 && git format-patch -1 --stdout FETCH_HEAD,"['examples/site.pp', 'manifests/storage.pp', 'examples/all.pp']",3,c6febe3667707967ca9823b04cf591d167a6d1cf,relative-name-inclusion,"class { ['swift::proxy::healthcheck', 'swift::proxy::cache']: }","class { ['::swift::proxy::healthcheck', '::swift::proxy::cache']: }",8,8
openstack%2Fpuppet-tripleo~master~I05597cfdac80a6a617672ba0ee6345ce40f950f5,openstack/puppet-tripleo,master,I05597cfdac80a6a617672ba0ee6345ce40f950f5,Remove Sahara support,ABANDONED,2020-06-20 15:46:20.000000000,2020-07-27 03:04:00.000000000,,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-20 15:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c4fb78cb397e8460f2696cac5ef549aa85917a23', 'message': 'Remove Sahara support\n\nDepends-on: https://review.opendev.org/#/c/734119/\nChange-Id: I05597cfdac80a6a617672ba0ee6345ce40f950f5\n'}, {'number': 2, 'created': '2020-06-30 14:40:10.000000000', 'files': ['manifests/haproxy.pp', 'manifests/profile/base/sahara/api.pp', 'manifests/profile/base/sahara.pp', 'manifests/profile/base/database/mysql.pp', 'manifests/profile/base/sahara/engine.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/aa71f1651003be5e4c3092ef679533f43c3ca8bd', 'message': 'Remove Sahara support\n\nDepends-on: https://review.opendev.org/#/c/734119/\nChange-Id: I05597cfdac80a6a617672ba0ee6345ce40f950f5\n'}]",0,737138,aa71f1651003be5e4c3092ef679533f43c3ca8bd,15,4,2,9816,,,0,"Remove Sahara support

Depends-on: https://review.opendev.org/#/c/734119/
Change-Id: I05597cfdac80a6a617672ba0ee6345ce40f950f5
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/38/737138/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/haproxy.pp', 'manifests/profile/base/sahara/api.pp', 'manifests/profile/base/sahara.pp', 'manifests/profile/base/database/mysql.pp', 'manifests/profile/base/sahara/engine.pp']",5,c4fb78cb397e8460f2696cac5ef549aa85917a23,remove-sahara,,"# Copyright 2016 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::base::sahara::engine # # Sahara API profile for tripleo # # === Parameters # # [*bootstrap_node*] # (Optional) The hostname of the node responsible for bootstrapping tasks # Defaults to hiera('sahara_engine_short_bootstrap_node_name') # # [*step*] # (Optional) The current step in deployment. See tripleo-heat-templates # for more details. # Defaults to hiera('step') # class tripleo::profile::base::sahara::engine ( $bootstrap_node = hiera('sahara_engine_short_bootstrap_node_name', undef), $step = Integer(hiera('step')), ) { if $bootstrap_node and $::hostname == downcase($bootstrap_node) { $sync_db = true } else { $sync_db = false } include tripleo::profile::base::sahara if $step >= 4 or ($step >= 3 and $sync_db) { include sahara::service::engine } } ",0,236
openstack%2Fpython-cyborgclient~master~I85a0adf95923af560605f0e91b6f85489aaf7600,openstack/python-cyborgclient,master,I85a0adf95923af560605f0e91b6f85489aaf7600,Fix hacking min version to 3.0.1,MERGED,2020-05-13 00:31:19.000000000,2020-07-27 01:42:09.000000000,2020-07-27 01:41:00.000000000,"[{'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-05-13 00:31:19.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/09528877742ecaa20dc9b07a4b14734476a52449', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: I85a0adf95923af560605f0e91b6f85489aaf7600\n'}]",0,727531,09528877742ecaa20dc9b07a4b14734476a52449,11,6,1,8556,,,0,"Fix hacking min version to 3.0.1

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, we need to bump the hacking min
version.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: I85a0adf95923af560605f0e91b6f85489aaf7600
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/31/727531/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,09528877742ecaa20dc9b07a4b14734476a52449,,"hacking>=3.0.1,<3.1.0 # Apache-2.0","hacking>=3.0,<3.1.0 # Apache-2.0",1,1
openstack%2Fpuppet-openstack_extras~master~Ibebaf17c82cf399859aa2f05df3f95bd25b81ea1,openstack/puppet-openstack_extras,master,Ibebaf17c82cf399859aa2f05df3f95bd25b81ea1,Update parameters for apt::source,MERGED,2020-07-20 05:34:50.000000000,2020-07-27 01:14:43.000000000,2020-07-27 01:14:42.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-20 05:34:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/8081a481f020c0e900ecf3afe09f28b47274450b', 'message': 'Update parameters for apt::source\n\nChange-Id: Ibebaf17c82cf399859aa2f05df3f95bd25b81ea1\n'}, {'number': 2, 'created': '2020-07-20 05:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/7f3b21e86206039b003e1968d1dfc56b701c2702', 'message': 'Update parameters for apt::source\n\nChange-Id: Ibebaf17c82cf399859aa2f05df3f95bd25b81ea1\n'}, {'number': 3, 'created': '2020-07-20 06:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/ae71557d366a12732d3ef8f4d34625380799db60', 'message': 'Update parameters for apt::source\n\nChange-Id: Ibebaf17c82cf399859aa2f05df3f95bd25b81ea1\n'}, {'number': 4, 'created': '2020-07-20 07:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/89018d7d99121e453fd9c793176f0507c276bb58', 'message': 'Update parameters for apt::source\n\nChange-Id: Ibebaf17c82cf399859aa2f05df3f95bd25b81ea1\n'}, {'number': 5, 'created': '2020-07-20 07:37:29.000000000', 'files': ['spec/classes/openstack_extras_repo_debian_debian_spec.rb', 'spec/classes/openstack_extras_repo_debian_ubuntu_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/d6aeb8c9eebbab1771138b1108a81d40de8d6bb3', 'message': 'Update parameters for apt::source\n\nChange-Id: Ibebaf17c82cf399859aa2f05df3f95bd25b81ea1\n'}]",0,741871,d6aeb8c9eebbab1771138b1108a81d40de8d6bb3,14,3,5,9816,,,0,"Update parameters for apt::source

Change-Id: Ibebaf17c82cf399859aa2f05df3f95bd25b81ea1
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/71/741871/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/repo/redhat/redhat.pp', 'spec/classes/openstack_extras_repo_debian_debian_spec.rb', 'spec/classes/openstack_extras_repo_debian_ubuntu_spec.rb']",3,8081a481f020c0e900ecf3afe09f28b47274450b,apt-source," 'location' => 'http://apt.puppetlabs.com', 'repos' => 'main', 'release' => 'trusty', 'key' => { 'id' => '4BD6EC30', 'server' => 'pgp.mit.edu'} :location => 'http://apt.puppetlabs.com', :release => 'trusty', :repos => 'main', :key => { :id => '4BD6EC30', :server => 'pgp.mit.edu'} 'include' => { 'src' => 'true' } :include => { 'src' => 'true' }, :location => 'http://mymirror/ubuntu/', :release => 'trusty', :repos => 'main',"," 'location' => 'http://apt.puppetlabs.com', 'repos' => 'main', 'release' => 'trusty', 'key' => '4BD6EC30', 'key_server' => 'pgp.mit.edu' :location => 'http://apt.puppetlabs.com', :release => 'trusty', :repos => 'main', :key => '4BD6EC30', :key_server => 'pgp.mit.edu' 'include_src' => 'true' :include_src => 'true', :location => 'http://mymirror/ubuntu/', :release => 'trusty', :repos => 'main',",60,30
openstack%2Fproject-config~master~I061e82b2cd8becf992d7fb0ba9e37ebc90ed4239,openstack/project-config,master,I061e82b2cd8becf992d7fb0ba9e37ebc90ed4239,Update ceph grafana for nova,MERGED,2020-07-22 19:11:39.000000000,2020-07-27 00:59:54.000000000,2020-07-27 00:59:54.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 19:11:39.000000000', 'files': ['grafana/ceph.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d5c97811f34a9a43f80af934e518ae1934ceb849', 'message': 'Update ceph grafana for nova\n\nThe name of the ceph job on the master branch has changed from\ndevstack-plugin-ceph-tempest-py3 -> nova-ceph-multistore. This updates\nthe panel to reflect that.\n\nAnother panel has also been added for the stable/ussuri branch.\n\nChange-Id: I061e82b2cd8becf992d7fb0ba9e37ebc90ed4239\n'}]",0,742516,d5c97811f34a9a43f80af934e518ae1934ceb849,7,3,1,4690,,,0,"Update ceph grafana for nova

The name of the ceph job on the master branch has changed from
devstack-plugin-ceph-tempest-py3 -> nova-ceph-multistore. This updates
the panel to reflect that.

Another panel has also been added for the stable/ussuri branch.

Change-Id: I061e82b2cd8becf992d7fb0ba9e37ebc90ed4239
",git fetch https://review.opendev.org/openstack/project-config refs/changes/16/742516/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/ceph.yaml'],1,d5c97811f34a9a43f80af934e518ae1934ceb849,update-ceph-grafana," - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.master.job.nova-ceph-multistore.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.master.job.nova-ceph-multistore.{SUCCESS,FAILURE})),'24hours'), 'nova-ceph-multistore') - title: Nova Tempest Full Failure Rates (Check queue) stable/ussuri span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.stable_train.job.tempest-integrated-compute.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.stable_train.job.tempest-integrated-compute.{SUCCESS,FAILURE})),'24hours'), 'tempest-integrated-compute') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.stable_train.job.devstack-plugin-ceph-tempest-py3.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.stable_train.job.devstack-plugin-ceph-tempest-py3.{SUCCESS,FAILURE})),'24hours'), 'devstack-plugin-ceph-tempest-py3') type: graph"," - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.master.job.devstack-plugin-ceph-tempest-py3.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_nova.master.job.devstack-plugin-ceph-tempest-py3.{SUCCESS,FAILURE})),'24hours'), 'devstack-plugin-ceph-tempest-py3')",7,1
openstack%2Frpm-packaging~master~Ic47050938f581ef1bcb5a86750e2b62c02ec1425,openstack/rpm-packaging,master,Ic47050938f581ef1bcb5a86750e2b62c02ec1425,update os-vif to 2.1.0,ABANDONED,2020-07-24 08:01:15.000000000,2020-07-27 00:56:27.000000000,,"[{'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 08:01:15.000000000', 'files': ['openstack/os-vif/os-vif.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2eeb8d5d86d83906736e2dd25ad67032c3d44b31', 'message': 'update os-vif to 2.1.0\n\nChange-Id: Ic47050938f581ef1bcb5a86750e2b62c02ec1425\n'}]",0,742811,2eeb8d5d86d83906736e2dd25ad67032c3d44b31,7,4,1,28654,,,0,"update os-vif to 2.1.0

Change-Id: Ic47050938f581ef1bcb5a86750e2b62c02ec1425
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/11/742811/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/os-vif/os-vif.spec.j2'],1,2eeb8d5d86d83906736e2dd25ad67032c3d44b31,os-vif,{% set upstream_version = upstream_version('2.1.0') %},{% set upstream_version = upstream_version('2.0.0') %},1,1
openstack%2Fironic~master~Ib2d739f4275fbc6cd9c3b64420331c8a4f05a292,openstack/ironic,master,Ib2d739f4275fbc6cd9c3b64420331c8a4f05a292,wip: kexec to ramdisk,NEW,2020-03-08 16:00:07.000000000,2020-07-27 00:43:07.000000000,,"[{'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-03-08 16:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f72e8267f03fa5e0a6b9db4ff4204664e5b32081', 'message': 'wip: kexec to ramdisk\n\nChange-Id: Ib2d739f4275fbc6cd9c3b64420331c8a4f05a292\n'}, {'number': 2, 'created': '2020-03-22 02:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d08c21f760942779542f00f1ecad64522ff30075', 'message': 'wip: kexec to ramdisk\n\nChange-Id: Ib2d739f4275fbc6cd9c3b64420331c8a4f05a292\n'}, {'number': 3, 'created': '2020-07-26 23:33:24.000000000', 'files': ['ironic/drivers/modules/pxe_base.py', 'ironic/drivers/modules/agent.py', 'ironic/conductor/manager.py', 'ironic/conductor/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5f463984db05cdacb54b93f6dd922a647611a542', 'message': 'wip: kexec to ramdisk\n\nChange-Id: Ib2d739f4275fbc6cd9c3b64420331c8a4f05a292\n'}]",0,711853,5f463984db05cdacb54b93f6dd922a647611a542,10,4,3,11655,,,0,"wip: kexec to ramdisk

Change-Id: Ib2d739f4275fbc6cd9c3b64420331c8a4f05a292
",git fetch https://review.opendev.org/openstack/ironic refs/changes/53/711853/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/pxe_base.py', 'ironic/drivers/modules/agent.py', 'ironic/conductor/manager.py', 'ironic/conductor/utils.py']",4,f72e8267f03fa5e0a6b9db4ff4204664e5b32081,kexec-ramdisk,from ironic.common import utilsdef is_fast_track_to_cleaning(task): # NOTE(TheJulia): Active node management may be the big scary knob # required... seems redundant to have two controls. return (is_fast_track(task) and CONF.deploy.active_node_management and utils.kexec_enabled(task.node) and CONF.conductor.automated_clean) ,,20,4
openstack%2Fironic~master~I72c5803bc22df70d8a5369246afcc0770e515b2d,openstack/ironic,master,I72c5803bc22df70d8a5369246afcc0770e515b2d,Allow Active nodes to heartbeat,NEW,2020-03-08 16:00:07.000000000,2020-07-27 00:34:04.000000000,,"[{'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-03-08 16:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/84c239ace8beea363d3287d6991c626467783cf3', 'message': 'WIP Allow Active nodes to heartbeat\n\nFast track unprovisioning could be kexec to the ramdisk,\nand then perform cleaning.\n\nChange-Id: I72c5803bc22df70d8a5369246afcc0770e515b2d\n'}, {'number': 2, 'created': '2020-03-22 02:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1105c8e04f76ca515d6997859cc6b5f107e40be8', 'message': 'WIP Allow Active nodes to heartbeat\n\nFast track unprovisioning could be kexec to the ramdisk,\nand then perform cleaning.\n\nChange-Id: I72c5803bc22df70d8a5369246afcc0770e515b2d\n'}, {'number': 3, 'created': '2020-07-26 23:33:24.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_ramdisk.py', 'devstack/lib/ironic', 'ironic/tests/unit/drivers/modules/test_agent_base.py', 'ironic/drivers/modules/agent_base.py', 'ironic/api/controllers/v1/ramdisk.py', 'ironic/conf/deploy.py', 'ironic/common/states.py', 'releasenotes/notes/permit_active_heartbeat-41c1b380d7f82090.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/14d518b2c6bc118f422e3c608306e485c892ab46', 'message': 'Allow Active nodes to heartbeat\n\nFast track unprovisioning could be an eventual kexec to the\nramdisk to perform cleaning and then enable re-provisoning.\n\nThe first logical step, record the heartbeat.\n\nChange-Id: I72c5803bc22df70d8a5369246afcc0770e515b2d\n'}]",0,711852,14d518b2c6bc118f422e3c608306e485c892ab46,10,4,3,11655,,,0,"Allow Active nodes to heartbeat

Fast track unprovisioning could be an eventual kexec to the
ramdisk to perform cleaning and then enable re-provisoning.

The first logical step, record the heartbeat.

Change-Id: I72c5803bc22df70d8a5369246afcc0770e515b2d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/52/711852/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent_base.py', 'ironic/conf/deploy.py']",2,84c239ace8beea363d3287d6991c626467783cf3,kexec-ramdisk," cfg.BoolOpt('active_node_management', default=False, help=_('Magical Option to take over the world')),",,8,1
openstack%2Floci~master~Ic1860f4ef01fff60ea24232fb06822941e87f10d,openstack/loci,master,Ic1860f4ef01fff60ea24232fb06822941e87f10d,Add purestorage to requirements image,MERGED,2020-01-18 01:02:30.000000000,2020-07-27 00:25:34.000000000,2020-07-27 00:25:34.000000000,"[{'_account_id': 1736}, {'_account_id': 17068}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29911}]","[{'number': 1, 'created': '2020-01-18 01:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/2532e21e5ff4121d32dced8b4019f72c8864adcb', 'message': 'Add purestorage to requirements image\n\nPurestorage is a supported profile, however is not available from PyPi\nin wheel form and not a part of UC\n\nChange-Id: Ic1860f4ef01fff60ea24232fb06822941e87f10d\n'}, {'number': 2, 'created': '2020-01-18 14:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/dff9f4ca498f17a580e8ac18ca805679e59e1a4f', 'message': 'Add purestorage to requirements image\n\nPurestorage is a supported profile, however is not available from PyPi\nin wheel form and not a part of UC\n\nChange-Id: Ic1860f4ef01fff60ea24232fb06822941e87f10d\n'}, {'number': 3, 'created': '2020-01-18 15:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/39fe4c599512e86aa1fff20452cd809c5aee2e82', 'message': 'Add purestorage to requirements image\n\nPurestorage is a supported profile, however is not available from PyPi\nin wheel form and not a part of UC\n\nChange-Id: Ic1860f4ef01fff60ea24232fb06822941e87f10d\n'}, {'number': 4, 'created': '2020-01-18 16:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/2e554e59ae7850c67fa1faf82dfb90135793b8d4', 'message': 'Add purestorage to requirements image\n\nPurestorage is a supported profile, however is not available from PyPi\nin wheel form and not a part of UC\n\nChange-Id: Ic1860f4ef01fff60ea24232fb06822941e87f10d\n'}, {'number': 5, 'created': '2020-01-18 17:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/7fd84733061fb04b2f002062a6caf159f989b1ff', 'message': 'Add purestorage to requirements image\n\nPurestorage is a supported profile, however is not available from PyPi\nin wheel form and not a part of UC\n\nChange-Id: Ic1860f4ef01fff60ea24232fb06822941e87f10d\n'}, {'number': 6, 'created': '2020-01-20 15:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/21f923fead23876559f85818b2a1debfa6dc7bdf', 'message': 'Add purestorage to requirements image\n\nPurestorage is a supported profile, however is not available from PyPi\nin wheel form and not a part of UC\n\nChange-Id: Ic1860f4ef01fff60ea24232fb06822941e87f10d\n'}, {'number': 7, 'created': '2020-01-27 18:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/29d8aac5955d735e3d0337f952b1af24948c7a32', 'message': 'Add purestorage to requirements image\n\nPurestorage is a supported profile, however is not available from PyPi\nin wheel form and not a part of UC\n\nChange-Id: Ic1860f4ef01fff60ea24232fb06822941e87f10d\n'}, {'number': 8, 'created': '2020-02-05 17:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/8ad278564eb2e6a10a1be78f1c5dcea68132ff16', 'message': 'Add purestorage to requirements image\n\nPurestorage is a supported profile, however is not available from PyPi\nin wheel form and not a part of UC\n\nChange-Id: Ic1860f4ef01fff60ea24232fb06822941e87f10d\n'}, {'number': 9, 'created': '2020-07-24 04:44:10.000000000', 'files': ['pydep.txt'], 'web_link': 'https://opendev.org/openstack/loci/commit/e3f6a436de871d186993dfbe9f8a56149cff9b70', 'message': 'Add purestorage to requirements image\n\nPurestorage is a supported profile, however is not available from PyPi\nin wheel form and not a part of UC\n\nChange-Id: Ic1860f4ef01fff60ea24232fb06822941e87f10d\n'}]",0,703224,e3f6a436de871d186993dfbe9f8a56149cff9b70,26,6,9,8863,,,0,"Add purestorage to requirements image

Purestorage is a supported profile, however is not available from PyPi
in wheel form and not a part of UC

Change-Id: Ic1860f4ef01fff60ea24232fb06822941e87f10d
",git fetch https://review.opendev.org/openstack/loci refs/changes/24/703224/2 && git format-patch -1 --stdout FETCH_HEAD,['pydep.txt'],1,2532e21e5ff4121d32dced8b4019f72c8864adcb,,purestorage [(cinder purestorage) (nova purestorage) requirements],purestorage [(cinder purestorage) (nova purestorage)],1,1
openstack%2Fpuppet-swift~master~I83ac4bea1d7282c48e87535000ec040668c5d477,openstack/puppet-swift,master,I83ac4bea1d7282c48e87535000ec040668c5d477,DNM: Test Beaker job,ABANDONED,2020-07-21 11:53:27.000000000,2020-07-27 00:11:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-21 11:53:27.000000000', 'files': ['dnm'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/288093a55edd63261d7316e81873970f6dd2be50', 'message': 'DNM: Test Beaker job\n\nDepends-on: https://review.opendev.org/#/c/742146/\nChange-Id: I83ac4bea1d7282c48e87535000ec040668c5d477\n'}]",0,742163,288093a55edd63261d7316e81873970f6dd2be50,3,1,1,9816,,,0,"DNM: Test Beaker job

Depends-on: https://review.opendev.org/#/c/742146/
Change-Id: I83ac4bea1d7282c48e87535000ec040668c5d477
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/63/742163/1 && git format-patch -1 --stdout FETCH_HEAD,['dnm'],1,288093a55edd63261d7316e81873970f6dd2be50,test-beaker,,,0,0
openstack%2Fironic~master~I2ea792f115432cf57b275862b19f4590cbda3117,openstack/ironic,master,I2ea792f115432cf57b275862b19f4590cbda3117,WIP: kexec,NEW,2019-10-16 16:57:12.000000000,2020-07-27 00:03:50.000000000,,"[{'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2019-10-16 16:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e0e9226a7783db8d9f2ad68828db8d0ab11ea293', 'message': 'WIP of a crazy idea: kexec\n\nNeeds tests, and needs likely a refeactor of\nbuild_instance_info_for_deploy to be usable in\nany magical way.\n\nChange-Id: I2ea792f115432cf57b275862b19f4590cbda3117\n'}, {'number': 2, 'created': '2019-10-16 16:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e8b904a75fb9f1c5fc0c5abdd3975283feab2967', 'message': 'WIP of a crazy idea: kexec\n\nNeeds tests, and needs likely a refeactor of\nbuild_instance_info_for_deploy to be usable in\nany magical way.\n\nDepends-On: I5293e38f119de367d4fc8a68029ee8d98c4fb6e5\nChange-Id: I2ea792f115432cf57b275862b19f4590cbda3117\n'}, {'number': 3, 'created': '2019-10-16 23:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9c19d44cd8333a76a1db24ec6c93646e995a27d5', 'message': 'WIP of a crazy idea: kexec\n\nNeeds tests, and needs likely a refeactor of\nbuild_instance_info_for_deploy to be usable in\nany magical way.\n\nDepends-On: I5293e38f119de367d4fc8a68029ee8d98c4fb6e5\nChange-Id: I2ea792f115432cf57b275862b19f4590cbda3117\n'}, {'number': 4, 'created': '2020-03-08 16:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b8a37e6b2e40cc32f2d93d143987ebb6de49c13e', 'message': 'WIP of a crazy idea: kexec\n\nNeeds tests, and needs likely a refeactor of\nbuild_instance_info_for_deploy to be usable in\nany magical way... that or additional magic elsewhere.\n\nDepends-On: I5293e38f119de367d4fc8a68029ee8d98c4fb6e5\nChange-Id: I2ea792f115432cf57b275862b19f4590cbda3117\n'}, {'number': 5, 'created': '2020-03-22 02:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/da6dc63d7285e0932a0d8e33990705d06129fb84', 'message': 'WIP of a crazy idea: kexec\n\nNeeds tests, and needs likely a refeactor of\nbuild_instance_info_for_deploy to be usable in\nany magical way... that or additional magic elsewhere.\n\nDepends-On: I5293e38f119de367d4fc8a68029ee8d98c4fb6e5\nChange-Id: I2ea792f115432cf57b275862b19f4590cbda3117\n'}, {'number': 6, 'created': '2020-07-26 23:33:24.000000000', 'files': ['ironic/conf/agent.py', 'ironic/drivers/modules/agent_client.py', 'ironic/drivers/modules/agent_base.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/tests/unit/common/test_utils.py', 'ironic/common/utils.py', 'ironic/tests/unit/drivers/modules/test_agent_client.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e8e25ac5e3e462b3ff7fc8284002a4aa692e23bd', 'message': 'WIP: kexec\n\nNeeds tests, and needs likely a refeactor of\nbuild_instance_info_for_deploy to be usable in\nany magical way... that or additional magic elsewhere.\n\nDepends-On: I5293e38f119de367d4fc8a68029ee8d98c4fb6e5\nChange-Id: I2ea792f115432cf57b275862b19f4590cbda3117\n'}]",2,688977,e8e25ac5e3e462b3ff7fc8284002a4aa692e23bd,20,6,6,11655,,,0,"WIP: kexec

Needs tests, and needs likely a refeactor of
build_instance_info_for_deploy to be usable in
any magical way... that or additional magic elsewhere.

Depends-On: I5293e38f119de367d4fc8a68029ee8d98c4fb6e5
Change-Id: I2ea792f115432cf57b275862b19f4590cbda3117
",git fetch https://review.opendev.org/openstack/ironic refs/changes/77/688977/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/agent.py', 'ironic/drivers/modules/agent_base_vendor.py', 'ironic/drivers/modules/agent_client.py']",3,e0e9226a7783db8d9f2ad68828db8d0ab11ea293,kexec-ramdisk," @METRICS.timer('AgentClient.kexec') def kexec(self, node, kernel_info, ramdisk_info, root_uuid, kernel_extra_arguments, kexec_extra_arguments): params = { 'kernel_info': kernel_info, 'ramdisk_info': ramdisk_info, 'root_uuid': root_uuid, 'kernel_extra_arguments': kernel_extra_arguments, 'kexec_kernel_arguments': kexec_extra_arguments, } return self._command(node=node, method='standby.kexec', params=params, wait=True)",,121,1
openstack%2Fglance_store~master~I482ac98bc56f0e3cfb8b767f47649da11ed1afab,openstack/glance_store,master,I482ac98bc56f0e3cfb8b767f47649da11ed1afab,[goal] Migrate glance_store jobs to focal,ABANDONED,2020-07-26 23:26:49.000000000,2020-07-26 23:48:01.000000000,,[],"[{'number': 1, 'created': '2020-07-26 23:26:49.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/15b26ebf9ad102d2488f07b41702d0de72ccc649', 'message': '[goal] Migrate glance_store jobs to focal\n\nAs per victoria cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Focal(20.04).\n\nSet bionic nodeset for py36 job and focal nodeset for rest all.\n\nDepends-On: https://review.opendev.org/#/c/731207/\n\n[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-fo$\n\nStory: #2007865\nTask: #40185\n\nChange-Id: I482ac98bc56f0e3cfb8b767f47649da11ed1afab\n'}]",0,743094,15b26ebf9ad102d2488f07b41702d0de72ccc649,2,0,1,8556,,,0,"[goal] Migrate glance_store jobs to focal

As per victoria cycle testing runtime and community goal[1]
we need to migrate upstream CI/CD to Ubuntu Focal(20.04).

Set bionic nodeset for py36 job and focal nodeset for rest all.

Depends-On: https://review.opendev.org/#/c/731207/

[1] https://governance.openstack.org/tc/goals/selected/victoria/migrate-ci-cd-jobs-to-ubuntu-fo$

Story: #2007865
Task: #40185

Change-Id: I482ac98bc56f0e3cfb8b767f47649da11ed1afab
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/94/743094/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,15b26ebf9ad102d2488f07b41702d0de72ccc649,migrate-to-focal,#test focal nodeset: ubuntu-focal nodeset: ubuntu-bionic nodeset: ubuntu-focal nodeset: ubuntu-bionic nodeset: ubuntu-focal nodeset: ubuntu-bionic nodeset: ubuntu-focal nodeset: ubuntu-bionic,,9,0
openstack%2Fdevstack-plugin-open-cas~master~Idef4789ee796887e3f96e876bb7c5bc620c8da00,openstack/devstack-plugin-open-cas,master,Idef4789ee796887e3f96e876bb7c5bc620c8da00,DNM: testing focal,ABANDONED,2020-07-09 20:49:27.000000000,2020-07-26 22:25:43.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 20:49:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-open-cas/commit/72dd3a8acc38bbf73d782790673098a3de101140', 'message': 'DNM: testing focal\n\nDepends-On: https://review.opendev.org/#/c/734700\n\nChange-Id: Idef4789ee796887e3f96e876bb7c5bc620c8da00\nStory: #2007865\nTask: #40212\n'}]",0,740374,72dd3a8acc38bbf73d782790673098a3de101140,5,2,1,8556,,,0,"DNM: testing focal

Depends-On: https://review.opendev.org/#/c/734700

Change-Id: Idef4789ee796887e3f96e876bb7c5bc620c8da00
Story: #2007865
Task: #40212
",git fetch https://review.opendev.org/openstack/devstack-plugin-open-cas refs/changes/74/740374/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,72dd3a8acc38bbf73d782790673098a3de101140,migrate-to-focal, Base integration tests that runs with the open-cas devstack plugin and py3., Base integration tests that runs with the open-cas devstack plugin and py3.,1,1
openstack%2Fcinder~stable%2Fussuri~I8a52d67cea80a5a4eb03f25a0913b1ba6cc24b3a,openstack/cinder,stable/ussuri,I8a52d67cea80a5a4eb03f25a0913b1ba6cc24b3a,PowerMax Driver - Rep validation fix & Retype suspension fix,MERGED,2020-06-25 17:01:07.000000000,2020-07-26 19:32:15.000000000,2020-07-26 11:47:36.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 12670}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 26561}, {'_account_id': 28801}, {'_account_id': 30165}, {'_account_id': 31981}]","[{'number': 1, 'created': '2020-06-25 17:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0bd0e3b28b4e2ff33785707de5b919fc20bea494', 'message': 'PowerMax Driver - Rep validation fix & Retype suspension fix\n\nMoved replication status validation call into create_rep_enabled_volume\nlower in _create_volume which has additional locking based on\narray+storage group to prevent race condition with multiple\ncreate volume requests.\nAdded additional resume rdfg call during retype as when moving\nfrom from rep_enabled to another rep_enabled type the original\nstorage group was being left in a suspended state.\n\nCloses-Bug: 1875433\nChange-Id: I8a52d67cea80a5a4eb03f25a0913b1ba6cc24b3a\n(cherry picked from commit 465a1d8ab4a082caa136c963d242d8666ef551ca)\n'}, {'number': 2, 'created': '2020-07-10 14:56:28.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cc0c69bd59f047646e52199b92c37eb7b7cddeec', 'message': 'PowerMax Driver - Rep validation fix & Retype suspension fix\n\nMoved replication status validation call into create_rep_enabled_volume\nlower in _create_volume which has additional locking based on\narray+storage group to prevent race condition with multiple\ncreate volume requests.\nAdded additional resume rdfg call during retype as when moving\nfrom from rep_enabled to another rep_enabled type the original\nstorage group was being left in a suspended state.\n\nCloses-Bug: 1875433\nChange-Id: I8a52d67cea80a5a4eb03f25a0913b1ba6cc24b3a\n(cherry picked from commit 465a1d8ab4a082caa136c963d242d8666ef551ca)\n'}]",0,738068,cc0c69bd59f047646e52199b92c37eb7b7cddeec,78,22,2,12670,,,0,"PowerMax Driver - Rep validation fix & Retype suspension fix

Moved replication status validation call into create_rep_enabled_volume
lower in _create_volume which has additional locking based on
array+storage group to prevent race condition with multiple
create volume requests.
Added additional resume rdfg call during retype as when moving
from from rep_enabled to another rep_enabled type the original
storage group was being left in a suspended state.

Closes-Bug: 1875433
Change-Id: I8a52d67cea80a5a4eb03f25a0913b1ba6cc24b3a
(cherry picked from commit 465a1d8ab4a082caa136c963d242d8666ef551ca)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/68/738068/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py']",4,0bd0e3b28b4e2ff33785707de5b919fc20bea494,," mck_valid.assert_not_called() @mock.patch.object(common.PowerMaxCommon, 'get_volume_metadata', return_value='') @mock.patch.object(common.PowerMaxCommon, 'update_metadata', return_value=tpd.PowerMaxData.replication_model) @mock.patch.object(provision.PowerMaxProvision, 'verify_slo_workload', return_value=(True, True)) @mock.patch.object(rest.PowerMaxRest, 'srdf_resume_replication') @mock.patch.object(common.PowerMaxCommon, '_retype_volume', return_value=(True, 'storage_group')) @mock.patch.object(common.PowerMaxCommon, 'configure_volume_replication', return_value=('status', 'data', tpd.PowerMaxData.rep_info_dict, tpd.PowerMaxData.rep_extra_specs_mgmt, True)) @mock.patch.object(common.PowerMaxCommon, '_sync_check') @mock.patch.object(common.PowerMaxCommon, 'break_rdf_device_pair_session', return_value=(tpd.PowerMaxData.rep_extra_specs_mgmt, True)) def test_migrate_volume_success_rep_to_rep( self, mck_valid, mck_break, mck_sync, mck_rep, mck_retype, mck_resume, mck_slo, mck_upd_meta, mck_get_meta): array = self.data.array extra_specs[utils.REP_CONFIG] = self.data.rep_config_sync extra_specs[utils.REPLICATION_DEVICE_BACKEND_ID] = ( self.data.rep_config_sync[utils.BACKEND_ID]) target_extra_specs = deepcopy(self.data.rep_extra_specs) target_extra_specs['rep_extra_specs'] = utils.REP_ASYNC target_extra_specs['rdf_group_no'] = self.data.rdf_group_name_2 target_extra_specs[utils.REP_CONFIG] = self.data.rep_config_async target_extra_specs[utils.REPLICATION_DEVICE_BACKEND_ID] = ( self.data.rep_config_async[utils.BACKEND_ID]) new_type = {'extra_specs': target_extra_specs} array, volume, device_id, srp, target_slo, target_workload, self.assertEqual(2, mck_valid.call_count) mck_valid.assert_called_with(array, target_extra_specs) mck_break.assert_called_once_with( array, device_id, volume_name, extra_specs) mck_sync.assert_called_once_with(array, device_id, extra_specs) mck_rep.assert_called_once_with( array, volume, device_id, target_extra_specs) mck_retype.assert_called_once() self.assertEqual(2, mck_resume.call_count) mck_resume.assert_called_with( array, self.data.rep_extra_specs_mgmt['mgmt_sg_name'], extra_specs['rdf_group_no'], self.data.rep_extra_specs_mgmt) self.assertEqual(self.data.replication_model, model_update)"," @mock.patch.object( common.PowerMaxCommon, 'get_volume_metadata', return_value='') @mock.patch.object( common.PowerMaxCommon, '_retype_remote_volume', return_value=True) @mock.patch.object( common.PowerMaxCommon, '_retype_volume', return_value=(True, tpd.PowerMaxData.defaultstoragegroup_name)) def test_migrate_volume_success_rep_to_rep(self, mck_retype, mck_remote, mck_get, mck_valid): self.common.rep_config = {'mode': utils.REP_SYNC, 'array': self.data.array} array_id = self.data.array rep_config_sync = deepcopy(self.data.rep_config_sync) rep_config_sync[utils.RDF_CONS_EXEMPT] = False extra_specs[utils.SLO] = self.data.slo_diamond new_type = {'extra_specs': self.data.rep_extra_specs} target_extra_specs = deepcopy(new_type['extra_specs']) target_extra_specs.update({ utils.SRP: srp, utils.ARRAY: array_id, utils.SLO: target_slo, utils.WORKLOAD: target_workload, utils.INTERVAL: extra_specs[utils.INTERVAL], utils.RETRIES: extra_specs[utils.RETRIES], utils.DISABLECOMPRESSION: False, utils.REP_MODE: utils.REP_SYNC, utils.REP_CONFIG: rep_config_sync}) array_id, volume, device_id, srp, target_slo, target_workload, mck_retype.assert_called_once_with( array_id, srp, device_id, volume, volume_name, extra_specs, target_slo, target_workload, target_extra_specs) mck_remote.assert_called_once_with( array_id, volume, device_id, volume_name, utils.REP_SYNC, True, target_extra_specs)",74,43
openstack%2Ftripleo-heat-templates~master~If249bbe8e93075d37e84cc050767515b89345020,openstack/tripleo-heat-templates,master,If249bbe8e93075d37e84cc050767515b89345020,Add missing config_files kolla directives,MERGED,2020-07-14 13:00:50.000000000,2020-07-26 19:30:19.000000000,2020-07-23 13:13:42.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-14 13:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6db63246299f38578a63107db1bb334355e70150', 'message': 'Fix missing config files in novajoin\n\nFixing the way puppet configs are mounted in\n53900ae3a9c15cfd6fe283bcb5baba8c21f2f70b caused other files to\nbe overwritten and thus missing. This patch is bind-mounting\nthose from the host.\n\nChange-Id: If249bbe8e93075d37e84cc050767515b89345020\n'}, {'number': 2, 'created': '2020-07-15 09:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e1b2fda16ec25ae10f704b5e27b9447128233edc', 'message': 'Fix missing config files in novajoin\n\nFixing the way puppet configs are mounted in\n53900ae3a9c15cfd6fe283bcb5baba8c21f2f70b caused other files to\nbe overwritten and thus missing. This patch is bind-mounting\nthose from the host.\n\nCloses-Bug: #1887644\nResolves: rhbz#1853268\nChange-Id: If249bbe8e93075d37e84cc050767515b89345020\n'}, {'number': 3, 'created': '2020-07-15 09:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a476a8409f4b1af103fc649d9874a78f8a05ee0', 'message': 'Fix missing config files in novajoin\n\nFixing the way puppet configs are mounted in\n53900ae3a9c15cfd6fe283bcb5baba8c21f2f70b caused other files to\nbe overwritten and thus missing. This patch is bind-mounting\nthose from the host.\n\nCloses-Bug: #1887644\nResolves: rhbz#1853268\nChange-Id: If249bbe8e93075d37e84cc050767515b89345020\nDepends-On: https://review.opendev.org/731383\n'}, {'number': 4, 'created': '2020-07-16 10:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/83df96a97c43fa2a15d4dff8a4dd38f1b9a6c672', 'message': ""Add missing config_files kolla directives\n\nThis is an update to 53900ae3a9c15cfd6fe283bcb5baba8c21f2f70b\nwhich didn't add the config_files instructions to copy the\nconfig files.\n\nCloses-Bug: #1887644\nResolves: rhbz#1853268\nChange-Id: If249bbe8e93075d37e84cc050767515b89345020\nDepends-On: https://review.opendev.org/731383\n""}, {'number': 5, 'created': '2020-07-17 09:45:13.000000000', 'files': ['deployment/nova/novajoin-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/86d5adf3afae9028c22f77a760df505fe66d98c3', 'message': ""Add missing config_files kolla directives\n\nThis is an update to 53900ae3a9c15cfd6fe283bcb5baba8c21f2f70b\nwhich didn't add the config_files instructions to copy the\nconfig files.\n\nCloses-Bug: #1887644\nResolves: rhbz#1853268\nChange-Id: If249bbe8e93075d37e84cc050767515b89345020\nDepends-On: https://review.opendev.org/731383\n""}]",14,740951,86d5adf3afae9028c22f77a760df505fe66d98c3,43,7,5,14250,,,0,"Add missing config_files kolla directives

This is an update to 53900ae3a9c15cfd6fe283bcb5baba8c21f2f70b
which didn't add the config_files instructions to copy the
config files.

Closes-Bug: #1887644
Resolves: rhbz#1853268
Change-Id: If249bbe8e93075d37e84cc050767515b89345020
Depends-On: https://review.opendev.org/731383
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/740951/5 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/novajoin-container-puppet.yaml'],1,6db63246299f38578a63107db1bb334355e70150,fix-novajoin-config, - /etc/novajoin/novajoin/join-api-paste.ini:/etc/novajoin/join-api-paste.ini:ro - /etc/novajoin/novajoin/cloud-config-novajoin.json:/etc/novajoin/cloud-config-novajoin.json:ro,,2,0
openstack%2Ftempest-stress~master~Ia24eea5d474b2923628e45881bfcba6781a8917c,openstack/tempest-stress,master,Ia24eea5d474b2923628e45881bfcba6781a8917c,DNM: testing focal,ABANDONED,2020-07-09 20:39:28.000000000,2020-07-26 17:04:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-09 20:39:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest-stress/commit/3929c2c32593656e5f34b993e6a3dbb1ff7fc39d', 'message': 'DNM: testing focal\n\nDepends-On: https://review.opendev.org/#/c/734700\n\nChange-Id: Ia24eea5d474b2923628e45881bfcba6781a8917c\nStory: #2007865\nTask: #40212\n'}]",0,740370,3929c2c32593656e5f34b993e6a3dbb1ff7fc39d,3,1,1,8556,,,0,"DNM: testing focal

Depends-On: https://review.opendev.org/#/c/734700

Change-Id: Ia24eea5d474b2923628e45881bfcba6781a8917c
Story: #2007865
Task: #40212
",git fetch https://review.opendev.org/openstack/tempest-stress refs/changes/70/740370/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3929c2c32593656e5f34b993e6a3dbb1ff7fc39d,migrate-to-focal,#test,,1,0
openstack%2Fos-performance-tools~master~I4d6c4f80d46071519ee27d676c55d27f9e4f75db,openstack/os-performance-tools,master,I4d6c4f80d46071519ee27d676c55d27f9e4f75db,DNM: testing focal,ABANDONED,2020-07-09 20:33:09.000000000,2020-07-26 17:03:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-09 20:33:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-performance-tools/commit/18670d85b1f1419e87e08d9f7c21c6f4f8b94ebd', 'message': 'DNM: testing focal\n\nDepends-On: https://review.opendev.org/#/c/734700\n\nChange-Id: I4d6c4f80d46071519ee27d676c55d27f9e4f75db\nStory: #2007865\nTask: #40212\n'}]",0,740366,18670d85b1f1419e87e08d9f7c21c6f4f8b94ebd,3,1,1,8556,,,0,"DNM: testing focal

Depends-On: https://review.opendev.org/#/c/734700

Change-Id: I4d6c4f80d46071519ee27d676c55d27f9e4f75db
Story: #2007865
Task: #40212
",git fetch https://review.opendev.org/openstack/os-performance-tools refs/changes/66/740366/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,18670d85b1f1419e87e08d9f7c21c6f4f8b94ebd,migrate-to-focal,#test focal,,1,0
openstack%2Fbashate~master~I141495468ddeb970eb30ee83b1528a6bd09a6556,openstack/bashate,master,I141495468ddeb970eb30ee83b1528a6bd09a6556,DNM: testing focal,ABANDONED,2020-07-09 20:25:18.000000000,2020-07-26 17:03:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-09 20:25:18.000000000', 'files': ['.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/bashate/commit/30ac832b8681dfa9436e4b5a7ab8d013d59ab50b', 'message': 'DNM: testing focal\n\nDepends-On: https://review.opendev.org/#/c/734700\n\nChange-Id: I141495468ddeb970eb30ee83b1528a6bd09a6556\nStory: #2007865\nTask: #40212\n'}]",0,740362,30ac832b8681dfa9436e4b5a7ab8d013d59ab50b,3,1,1,8556,,,0,"DNM: testing focal

Depends-On: https://review.opendev.org/#/c/734700

Change-Id: I141495468ddeb970eb30ee83b1528a6bd09a6556
Story: #2007865
Task: #40212
",git fetch https://review.opendev.org/openstack/bashate refs/changes/62/740362/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/jobs.yaml'],1,30ac832b8681dfa9436e4b5a7ab8d013d59ab50b,migrate-to-focal,#test focal,,1,0
openstack%2Fansible-collections-openstack~master~I72c6b60225cacf598ddb9b7df142eced429b7226,openstack/ansible-collections-openstack,master,I72c6b60225cacf598ddb9b7df142eced429b7226,Add support for setting the Flavor when creating a load balancer,MERGED,2020-07-14 12:36:21.000000000,2020-07-26 16:41:19.000000000,2020-07-26 16:41:18.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 12:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7d2eb1348f5a8667887e58ae4094640eb5ce7098', 'message': 'Add support for setting the Flavor when creating a load balancer\n\nChange-Id: I72c6b60225cacf598ddb9b7df142eced429b7226\n'}, {'number': 2, 'created': '2020-07-14 12:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8bb8ea74e77c7fba1aa13c147b58350fddac3691', 'message': 'Add support for setting the Flavor when creating a load balancer\n\nChange-Id: I72c6b60225cacf598ddb9b7df142eced429b7226\n'}, {'number': 3, 'created': '2020-07-26 11:22:24.000000000', 'files': ['plugins/modules/loadbalancer.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/88b86be33e7cedd63554d3713fe8453e30a7a5d0', 'message': 'Add support for setting the Flavor when creating a load balancer\n\nChange-Id: I72c6b60225cacf598ddb9b7df142eced429b7226\n'}]",0,740948,88b86be33e7cedd63554d3713fe8453e30a7a5d0,12,2,3,14369,,,0,"Add support for setting the Flavor when creating a load balancer

Change-Id: I72c6b60225cacf598ddb9b7df142eced429b7226
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/48/740948/3 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/loadbalancer.py'],1,7d2eb1348f5a8667887e58ae4094640eb5ce7098,loadbalancer/flavor," - The name of the load balancer. flavor: description: - The flavor of the load balancer. choices: [present, absent] default: present type: str flavor=dict(required=False), flavor = module.params['flavor'] flavor_id = None if flavor: _flavor = cloud.load_balancer.find_flavor(flavor) if not _flavor: module.fail_json( msg='flavor %s not found' % flavor ) flavor_id = _flavor.id flavor_id=flavor_id,", - Name that has to be given to the load balancer,19,1
openstack%2Fcinder~stable%2Fussuri~I3a0640e5f68bcfe4031562f1a6a2485ba4763e91,openstack/cinder,stable/ussuri,I3a0640e5f68bcfe4031562f1a6a2485ba4763e91,PowerMax Driver - Create vol suspend fix & DeviceID check,MERGED,2020-07-10 15:03:42.000000000,2020-07-26 16:10:03.000000000,2020-07-26 16:08:45.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 19933}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 30165}, {'_account_id': 31981}]","[{'number': 1, 'created': '2020-07-10 15:03:42.000000000', 'files': ['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/daf45b9860e3ffeb79f14b889133c92eb45e2490', 'message': 'PowerMax Driver - Create vol suspend fix & DeviceID check\n\nMoved exception handling from _create_volume into create\nrdf/non-rdf vol helper methods. Added RDFG resume attempts\nto exception handling of RDF enabled vol creates and deletes.\nAdded device ID check before return from volume create to\nverify returned device ID against device label on PowerMAX.\n\nChange-Id: I3a0640e5f68bcfe4031562f1a6a2485ba4763e91\nCloses-Bug: 1877976\n(cherry picked from commit ee2d3189bda913161c9ac3dc11cf09c60bf7f022)\n'}]",0,740489,daf45b9860e3ffeb79f14b889133c92eb45e2490,35,17,1,12670,,,0,"PowerMax Driver - Create vol suspend fix & DeviceID check

Moved exception handling from _create_volume into create
rdf/non-rdf vol helper methods. Added RDFG resume attempts
to exception handling of RDF enabled vol creates and deletes.
Added device ID check before return from volume create to
verify returned device ID against device label on PowerMAX.

Change-Id: I3a0640e5f68bcfe4031562f1a6a2485ba4763e91
Closes-Bug: 1877976
(cherry picked from commit ee2d3189bda913161c9ac3dc11cf09c60bf7f022)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/740489/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/volume/drivers/dell_emc/powermax/fc.py']",5,daf45b9860e3ffeb79f14b889133c92eb45e2490,," 4.2.5 - Create vol suspend fix & DeviceID check (bug #1877976) VERSION = ""4.2.5"""," VERSION = ""4.2.4""",336,106
openstack%2Fmanila-tempest-plugin~master~Ife4fd77a48b4aab1d9a6ecf3117f1d963b55c2fb,openstack/manila-tempest-plugin,master,Ife4fd77a48b4aab1d9a6ecf3117f1d963b55c2fb,DNM,ABANDONED,2020-07-26 12:59:13.000000000,2020-07-26 15:56:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-26 12:59:13.000000000', 'files': ['DNM'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/6c22d3c5a41962901fa915d16f8c820b63b24643', 'message': 'DNM\n\nChange-Id: Ife4fd77a48b4aab1d9a6ecf3117f1d963b55c2fb\n'}]",0,743057,6c22d3c5a41962901fa915d16f8c820b63b24643,3,1,1,19262,,,0,"DNM

Change-Id: Ife4fd77a48b4aab1d9a6ecf3117f1d963b55c2fb
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/57/743057/1 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,6c22d3c5a41962901fa915d16f8c820b63b24643,DNM,,,0,0
openstack%2Fcinder~stable%2Fqueens~Ie79528b33070e6c60f9f5e1f2219084a2f0cb039,openstack/cinder,stable/queens,Ie79528b33070e6c60f9f5e1f2219084a2f0cb039,Change check_uptodate.sh to not call tox,MERGED,2020-06-19 22:02:25.000000000,2020-07-26 15:32:58.000000000,2020-07-26 15:32:58.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 17685}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-06-19 22:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5e9e51190dc1751356475c4df2feb785de4089cd', 'message': 'Change check_uptodate.sh to not call tox\n\nBase nodepool images now no longer include tox. This causes a failure in\nour pep8 jobs because the tools/config/check_uptodate.sh script had been\ncalling ""tox -e genopts"" to look for config file changes.\n\nThis is a partial backport of a change that switched our default\nbasepython to python3. That part of the change was removed from tox.ini,\nso the only other part was an update to the check_uptodate.sh script\nthat refactored things to be more reliable, including the removal of\ncalling tox.\n\nThe part from the original commit included is:\n\nThere was also a difference in behavior with the genopts job\nwhere it ends up trying to recreate the venv under which it\nis currently running under, resulting in a corrupted venv\nand a failure. This cleans up that script and changes it so\nrather than a tox job calling a tox job it just runs the\nscript.\n\nChange-Id: Ie79528b33070e6c60f9f5e1f2219084a2f0cb039\n(cherry picked from commit 37510ac03478704bafba89e8c4f4e0e9041d661d)\n'}, {'number': 2, 'created': '2020-06-19 22:05:28.000000000', 'files': ['tools/config/check_uptodate.sh'], 'web_link': 'https://opendev.org/openstack/cinder/commit/81d75bc032e637ce26461c4dc2d1937322fbe3c8', 'message': 'Change check_uptodate.sh to not call tox\n\nBase nodepool images now no longer include tox. This causes a failure in\nour pep8 jobs because the tools/config/check_uptodate.sh script had been\ncalling ""tox -e genopts"" to look for config file changes.\n\nThis is a partial backport of a change that switched our default\nbasepython to python3. That part of the change was removed from tox.ini,\nso the only other part was an update to the check_uptodate.sh script\nthat refactored things to be more reliable, including the removal of\ncalling tox.\n\nThe part from the original commit included is:\n\nThere was also a difference in behavior with the genopts job\nwhere it ends up trying to recreate the venv under which it\nis currently running under, resulting in a corrupted venv\nand a failure. This cleans up that script and changes it so\nrather than a tox job calling a tox job it just runs the\nscript.\n\nChange-Id: Ie79528b33070e6c60f9f5e1f2219084a2f0cb039\n(cherry picked from commit 37510ac03478704bafba89e8c4f4e0e9041d661d)\n'}]",0,737093,81d75bc032e637ce26461c4dc2d1937322fbe3c8,43,18,2,11904,,,0,"Change check_uptodate.sh to not call tox

Base nodepool images now no longer include tox. This causes a failure in
our pep8 jobs because the tools/config/check_uptodate.sh script had been
calling ""tox -e genopts"" to look for config file changes.

This is a partial backport of a change that switched our default
basepython to python3. That part of the change was removed from tox.ini,
so the only other part was an update to the check_uptodate.sh script
that refactored things to be more reliable, including the removal of
calling tox.

The part from the original commit included is:

There was also a difference in behavior with the genopts job
where it ends up trying to recreate the venv under which it
is currently running under, resulting in a corrupted venv
and a failure. This cleans up that script and changes it so
rather than a tox job calling a tox job it just runs the
script.

Change-Id: Ie79528b33070e6c60f9f5e1f2219084a2f0cb039
(cherry picked from commit 37510ac03478704bafba89e8c4f4e0e9041d661d)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/737093/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/config/check_uptodate.sh', 'tox.ini']",2,5e9e51190dc1751356475c4df2feb785de4089cd,unblock-gate,basepython = python2.7,,51,30
openstack%2Fansible-collections-openstack~master~Ie90547cb17e5c52558b6068e7128f90abffc2e25,openstack/ansible-collections-openstack,master,Ie90547cb17e5c52558b6068e7128f90abffc2e25,Add periodic jobs for collections,MERGED,2020-07-22 05:42:50.000000000,2020-07-26 15:04:51.000000000,2020-07-26 15:04:51.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 05:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/26ae43432613d542fc0fc95814aa4d323041f67a', 'message': 'Add periodic jobs for collections\n\nAdd periodic pipeline jobs, add to it another queens jobs with\ndifferent ansible versions to increase the coverage.\n\nChange-Id: Ie90547cb17e5c52558b6068e7128f90abffc2e25\n'}, {'number': 2, 'created': '2020-07-26 06:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5b207e18348d074ff2ec76e1474e1e1982b2b64b', 'message': 'Add periodic jobs for collections\n\nAdd periodic pipeline jobs, add to it another queens jobs with\ndifferent ansible versions to increase the coverage.\n\nDepends-On: https://review.opendev.org/743052\nChange-Id: Ie90547cb17e5c52558b6068e7128f90abffc2e25\n'}, {'number': 3, 'created': '2020-07-26 11:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7e5cc7678200a8c95e23816a18b057be8fe4d3e1', 'message': 'Add periodic jobs for collections\n\nAdd periodic pipeline jobs, add to it another queens jobs with\ndifferent ansible versions to increase the coverage.\n\nDepends-On: https://review.opendev.org/743052\nChange-Id: Ie90547cb17e5c52558b6068e7128f90abffc2e25\n'}, {'number': 4, 'created': '2020-07-26 12:32:48.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fcf6fae4997e66a0c559016e58ad47a76f13c483', 'message': 'Add periodic jobs for collections\n\nAdd periodic pipeline jobs, add to it another queens jobs with\ndifferent ansible versions to increase the coverage.\n\nChange-Id: Ie90547cb17e5c52558b6068e7128f90abffc2e25\n'}]",0,742346,fcf6fae4997e66a0c559016e58ad47a76f13c483,14,2,4,10969,,,0,"Add periodic jobs for collections

Add periodic pipeline jobs, add to it another queens jobs with
different ansible versions to increase the coverage.

Change-Id: Ie90547cb17e5c52558b6068e7128f90abffc2e25
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/46/742346/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,26ae43432613d542fc0fc95814aa4d323041f67a,,- job: name: ansible-collections-openstack-functional-devstack-queens-ansible-2.10 parent: ansible-collections-openstack-functional-devstack-ansible-devel description: | Run openstack collections functional tests against a queens devstack using master brach of openstacksdk and stable 2.10 branch of ansible voting: true required-projects: - name: github.com/ansible/ansible override-checkout: stable-2.10 - name: openstack/openstacksdk override-branch: master - name: openstack/devstack override-checkout: queens vars: tox_envlist: ansible - job: name: ansible-collections-openstack-functional-devstack-queens-ansible-devel parent: ansible-collections-openstack-functional-devstack-ansible-devel description: | Run openstack collections functional tests against a queens devstack using master brach of openstacksdk and devel branch of ansible voting: true required-projects: - name: github.com/ansible/ansible override-checkout: devel - name: openstack/openstacksdk override-branch: master - name: openstack/devstack override-checkout: queens vars: tox_envlist: ansible periodic: jobs: - openstack-tox-linters-ansible-devel - openstack-tox-linters-ansible-2.10 - openstack-tox-linters-ansible-2.9 - ansible-collections-openstack-functional-devstack - ansible-collections-openstack-functional-devstack-releases - ansible-collections-openstack-functional-devstack-ansible-2.9 - ansible-collections-openstack-functional-devstack-ansible-2.10 - ansible-collections-openstack-functional-devstack-ansible-devel - ansible-collections-openstack-functional-devstack-ansible-pip - ansible-collections-openstack-functional-devstack-ussuri-ansible-2.9 - ansible-collections-openstack-functional-devstack-train-ansible-2.9 - ansible-collections-openstack-functional-devstack-stein-ansible-2.9 - ansible-collections-openstack-functional-devstack-rocky-ansible-2.9 - ansible-collections-openstack-functional-devstack-queens-ansible-2.9 - ansible-collections-openstack-functional-devstack-queens-ansible-2.10 - ansible-collections-openstack-functional-devstack-queens-ansible-devel,,54,0
openstack%2Fcinder~master~I73b25777611cad2afd09a57755cf445318cf9797,openstack/cinder,master,I73b25777611cad2afd09a57755cf445318cf9797,Add revert to snapshot support for Pure Storage drivers,MERGED,2020-05-08 15:30:54.000000000,2020-07-26 14:44:12.000000000,2020-06-12 19:11:07.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 13425}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 31254}]","[{'number': 1, 'created': '2020-05-08 15:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/612be8147657b2465b185c1569e86007a1d7364e', 'message': '[WIP] Add revert to snapshot support for Pure Storage drivers\n\nAdd support for reverting to snapshot in the Pure Storage iSCSI\nand FC drivers\n\nChange-Id: I73b25777611cad2afd09a57755cf445318cf9797\nImplements: bluepint purestorage-revert-snapshot\n'}, {'number': 2, 'created': '2020-05-08 15:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fb28cff33401c48ff9c15014ad36312d493e13cf', 'message': '[WIP] Add revert to snapshot support for Pure Storage drivers\n\nAdd support for reverting to snapshot in the Pure Storage iSCSI\nand FC drivers\n\nChange-Id: I73b25777611cad2afd09a57755cf445318cf9797\nImplements: bluepint purestorage-revert-snapshot\n'}, {'number': 3, 'created': '2020-05-11 19:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2562eee4d130583da7743106a057fcefb6655d9d', 'message': 'Add revert to snapshot support for Pure Storage drivers\n\nAdd support for reverting to snapshot in the Pure Storage iSCSI\nand FC drivers\n\nChange-Id: I73b25777611cad2afd09a57755cf445318cf9797\nImplements: bluepint purestorage-revert-snapshot\n'}, {'number': 4, 'created': '2020-05-11 19:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6f84d6535450e006d2b382520aaaabe52ee636f5', 'message': 'Add revert to snapshot support for Pure Storage drivers\n\nAdd support for reverting to snapshot in the Pure Storage iSCSI\nand FC drivers\n\nChange-Id: I73b25777611cad2afd09a57755cf445318cf9797\nImplements: blueprint purestorage-revert-snapshot\n'}, {'number': 5, 'created': '2020-06-04 13:05:42.000000000', 'files': ['cinder/volume/drivers/pure.py', 'releasenotes/notes/pure-storage-revert-snapshot-b7e0ec4f958418c4.yaml', 'cinder/tests/unit/volume/drivers/test_pure.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8116de89ea8cc410150b3b9006aaa8d7b0a365fd', 'message': 'Add revert to snapshot support for Pure Storage drivers\n\nAdd support for reverting to snapshot in the Pure Storage iSCSI\nand FC drivers\n\nChange-Id: I73b25777611cad2afd09a57755cf445318cf9797\nImplements: blueprint purestorage-revert-snapshot\n'}]",4,726417,8116de89ea8cc410150b3b9006aaa8d7b0a365fd,166,37,5,13425,,,0,"Add revert to snapshot support for Pure Storage drivers

Add support for reverting to snapshot in the Pure Storage iSCSI
and FC drivers

Change-Id: I73b25777611cad2afd09a57755cf445318cf9797
Implements: blueprint purestorage-revert-snapshot
",git fetch https://review.opendev.org/openstack/cinder refs/changes/17/726417/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/pure.py', 'releasenotes/notes/pure-storage-revert-snapshot-b7e0ec4f958418c4.yaml']",2,612be8147657b2465b185c1569e86007a1d7364e,bp/purestorage-revert-snapshot,--- features: - Add reverting to snapshot support in Pure Storage Cinder driver. ,,29,0
openstack%2Fansible-collections-openstack~master~Ide46a8a6b45677e82e57eb6a4c5dfe412d7b37fd,openstack/ansible-collections-openstack,master,Ide46a8a6b45677e82e57eb6a4c5dfe412d7b37fd,Temporarly disable check-import,MERGED,2020-07-26 06:33:20.000000000,2020-07-26 11:09:52.000000000,2020-07-26 11:09:52.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-26 06:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/71198f8a32b7f5d753fec57958fd3e2570e1e96f', 'message': 'Temporarly disable check-import\n\ncheck-import has ansible as a dependency, which installs only\n2.9 ansible version and it conflicts with higher ansible versions\nIssue to check-import will be submitted to have ansible-test as\na dep.\nChange-Id: Ide46a8a6b45677e82e57eb6a4c5dfe412d7b37fd\n'}, {'number': 2, 'created': '2020-07-26 07:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/8bb2bdf91a32a6392ab3df43f6b99d6f187b017f', 'message': 'Temporarly disable check-import\n\ncheck-import has ansible as a dependency, which installs only\n2.9 ansible version and it conflicts with higher ansible versions\nIssue to check-import will be submitted to have ansible-test as\na dep.\n\nDepends-On: https://review.opendev.org/#/c/743052/\nChange-Id: Ide46a8a6b45677e82e57eb6a4c5dfe412d7b37fd\n'}, {'number': 3, 'created': '2020-07-26 07:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/dcffe0c7d02512cfc4a6cbdc86a7faf015094411', 'message': 'Temporarly disable check-import\n\ncheck-import has ansible as a dependency, which installs only\n2.9 ansible version and it conflicts with higher ansible versions\nIssue to check-import will be submitted to have ansible-test as\na dep.\nChange-Id: Ide46a8a6b45677e82e57eb6a4c5dfe412d7b37fd\n'}, {'number': 4, 'created': '2020-07-26 08:49:31.000000000', 'files': ['tools/check-import.sh', 'test-requirements-2.9.txt', 'test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1f3417cdef4b55fa6cfb241815a2531358fa286f', 'message': 'Temporarly disable check-import\n\ncheck-import has ansible as a dependency, which installs only\n2.9 ansible version and it conflicts with higher ansible versions\nIssue to check-import will be submitted to have ansible-test as\na dep.\nChange-Id: Ide46a8a6b45677e82e57eb6a4c5dfe412d7b37fd\n'}]",0,743054,1f3417cdef4b55fa6cfb241815a2531358fa286f,10,2,4,10969,,,0,"Temporarly disable check-import

check-import has ansible as a dependency, which installs only
2.9 ansible version and it conflicts with higher ansible versions
Issue to check-import will be submitted to have ansible-test as
a dep.
Change-Id: Ide46a8a6b45677e82e57eb6a4c5dfe412d7b37fd
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/54/743054/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements-2.9.txt', 'tools/check-import.sh']",2,71198f8a32b7f5d753fec57958fd3e2570e1e96f,,#output=$(python -m galaxy_importer.main $TOXDIR/build_artifact/*) #if echo $output | grep ERROR: ; then # exit 1 #fi,output=$(python -m galaxy_importer.main $TOXDIR/build_artifact/*) if echo $output | grep ERROR: ; then exit 1 fi,5,5
openstack%2Fpython-troveclient~master~Ia9b43a464763234b84ba163d8c773b21f53f4ee7,openstack/python-troveclient,master,Ia9b43a464763234b84ba163d8c773b21f53f4ee7,Flavor is optional for creating instance,MERGED,2020-07-26 08:42:51.000000000,2020-07-26 10:19:49.000000000,2020-07-26 10:18:38.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-26 08:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/ed57296cc49f70d649702d73306a06e2f7074f2b', 'message': 'Flavor is optional for creating instance\n\nWhen creating replicas, flavor is not needed. Replica has the same\nserver settings as the primary.\n\nChange-Id: Ia9b43a464763234b84ba163d8c773b21f53f4ee7\n'}, {'number': 2, 'created': '2020-07-26 09:57:21.000000000', 'files': ['troveclient/v1/instances.py', 'releasenotes/notes/victoria-flavor-optional.yaml', 'troveclient/osc/v1/database_instances.py', 'troveclient/tests/osc/v1/test_database_instances.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/c23da586e9466cf77a8fca314871b3cba58028f9', 'message': 'Flavor is optional for creating instance\n\nWhen creating replicas, flavor is not needed. Replica has the same\nserver settings as the primary.\n\nChange-Id: Ia9b43a464763234b84ba163d8c773b21f53f4ee7\n'}]",0,743055,c23da586e9466cf77a8fca314871b3cba58028f9,9,2,2,6732,,,0,"Flavor is optional for creating instance

When creating replicas, flavor is not needed. Replica has the same
server settings as the primary.

Change-Id: Ia9b43a464763234b84ba163d8c773b21f53f4ee7
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/55/743055/1 && git format-patch -1 --stdout FETCH_HEAD,"['troveclient/v1/instances.py', 'troveclient/osc/v1/database_instances.py', 'troveclient/tests/osc/v1/test_database_instances.py']",3,ed57296cc49f70d649702d73306a06e2f7074f2b,flavor-optional," args = ['test-name', '--flavor', '103', '--datastore-version', ""datastore_version"", '--replica-of', 'test', '--replica-count', '4',"," args = ['test-name', '103', '--datastore_version', ""datastore_version"", '--replica_of', 'test', '--replica_count', '4',",19,18
openstack%2Fkolla-ansible~stable%2Fstein~I11158bbfd2006e3574e165b6afc9c223b018d4bc,openstack/kolla-ansible,stable/stein,I11158bbfd2006e3574e165b6afc9c223b018d4bc,Fix some CloudKitty API responses when behind SSL,MERGED,2020-07-24 14:40:09.000000000,2020-07-26 09:45:37.000000000,2020-07-26 09:44:24.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-24 14:40:09.000000000', 'files': ['ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'releasenotes/notes/cloudkitty-proxy-headers-da4ea3297063e2e8.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/07d1a44434f6589c09806ed4ab1066f5a746790c', 'message': 'Fix some CloudKitty API responses when behind SSL\n\nSome CloudKitty API responses include a Location header using http\ninstead of https. Seen with `openstack rating module enable hashmap`.\n\nChange-Id: I11158bbfd2006e3574e165b6afc9c223b018d4bc\nCloses-Bug: #1888544\n(cherry picked from commit cd55c8f4b22947348e6947ff93a6d66f836363a3)\n'}]",0,742901,07d1a44434f6589c09806ed4ab1066f5a746790c,9,4,1,14826,,,0,"Fix some CloudKitty API responses when behind SSL

Some CloudKitty API responses include a Location header using http
instead of https. Seen with `openstack rating module enable hashmap`.

Change-Id: I11158bbfd2006e3574e165b6afc9c223b018d4bc
Closes-Bug: #1888544
(cherry picked from commit cd55c8f4b22947348e6947ff93a6d66f836363a3)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/01/742901/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'releasenotes/notes/cloudkitty-proxy-headers-da4ea3297063e2e8.yaml']",2,07d1a44434f6589c09806ed4ab1066f5a746790c,cloudkitty-proxy-headers-stable/stein,--- fixes: - | Fixes issues with some CloudKitty commands trying to connect to an external TLS endpoint using HTTP. `LP#1888544 <https://launchpad.net/bugs/1888544>`__ ,,8,0
openstack%2Fkolla-ansible~stable%2Ftrain~I11158bbfd2006e3574e165b6afc9c223b018d4bc,openstack/kolla-ansible,stable/train,I11158bbfd2006e3574e165b6afc9c223b018d4bc,Fix some CloudKitty API responses when behind SSL,MERGED,2020-07-24 14:40:02.000000000,2020-07-26 09:45:35.000000000,2020-07-26 09:44:22.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-24 14:40:02.000000000', 'files': ['ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'releasenotes/notes/cloudkitty-proxy-headers-da4ea3297063e2e8.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5433cbd8cebd433551a63e5369a757d23fd1af3f', 'message': 'Fix some CloudKitty API responses when behind SSL\n\nSome CloudKitty API responses include a Location header using http\ninstead of https. Seen with `openstack rating module enable hashmap`.\n\nChange-Id: I11158bbfd2006e3574e165b6afc9c223b018d4bc\nCloses-Bug: #1888544\n(cherry picked from commit cd55c8f4b22947348e6947ff93a6d66f836363a3)\n'}]",0,742900,5433cbd8cebd433551a63e5369a757d23fd1af3f,9,4,1,14826,,,0,"Fix some CloudKitty API responses when behind SSL

Some CloudKitty API responses include a Location header using http
instead of https. Seen with `openstack rating module enable hashmap`.

Change-Id: I11158bbfd2006e3574e165b6afc9c223b018d4bc
Closes-Bug: #1888544
(cherry picked from commit cd55c8f4b22947348e6947ff93a6d66f836363a3)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/742900/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'releasenotes/notes/cloudkitty-proxy-headers-da4ea3297063e2e8.yaml']",2,5433cbd8cebd433551a63e5369a757d23fd1af3f,cloudkitty-proxy-headers-stable/train,--- fixes: - | Fixes issues with some CloudKitty commands trying to connect to an external TLS endpoint using HTTP. `LP#1888544 <https://launchpad.net/bugs/1888544>`__ ,,8,0
openstack%2Fkolla-ansible~stable%2Fussuri~I11158bbfd2006e3574e165b6afc9c223b018d4bc,openstack/kolla-ansible,stable/ussuri,I11158bbfd2006e3574e165b6afc9c223b018d4bc,Fix some CloudKitty API responses when behind SSL,MERGED,2020-07-24 14:39:47.000000000,2020-07-26 09:45:34.000000000,2020-07-26 09:44:21.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-24 14:39:47.000000000', 'files': ['ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'releasenotes/notes/cloudkitty-proxy-headers-da4ea3297063e2e8.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b973ff7d83430b0d8ab8f7ed9d34a940afc446a0', 'message': 'Fix some CloudKitty API responses when behind SSL\n\nSome CloudKitty API responses include a Location header using http\ninstead of https. Seen with `openstack rating module enable hashmap`.\n\nChange-Id: I11158bbfd2006e3574e165b6afc9c223b018d4bc\nCloses-Bug: #1888544\n(cherry picked from commit cd55c8f4b22947348e6947ff93a6d66f836363a3)\n'}]",0,742899,b973ff7d83430b0d8ab8f7ed9d34a940afc446a0,10,4,1,14826,,,0,"Fix some CloudKitty API responses when behind SSL

Some CloudKitty API responses include a Location header using http
instead of https. Seen with `openstack rating module enable hashmap`.

Change-Id: I11158bbfd2006e3574e165b6afc9c223b018d4bc
Closes-Bug: #1888544
(cherry picked from commit cd55c8f4b22947348e6947ff93a6d66f836363a3)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/99/742899/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'releasenotes/notes/cloudkitty-proxy-headers-da4ea3297063e2e8.yaml']",2,b973ff7d83430b0d8ab8f7ed9d34a940afc446a0,cloudkitty-proxy-headers-stable/ussuri,--- fixes: - | Fixes issues with some CloudKitty commands trying to connect to an external TLS endpoint using HTTP. `LP#1888544 <https://launchpad.net/bugs/1888544>`__ ,,8,0
openstack%2Fkolla-ansible~master~Ic72fe587a36ce5e623ca79b54b462c0eee807d88,openstack/kolla-ansible,master,Ic72fe587a36ce5e623ca79b54b462c0eee807d88,Optimization configration file for gnocchi,ABANDONED,2020-07-24 03:31:44.000000000,2020-07-26 02:42:43.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-24 03:31:44.000000000', 'files': ['ansible/roles/gnocchi/templates/gnocchi.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0c2e6e0a44710f77902bc716e0dc9314b21875ab', 'message': ""Optimization configration file for gnocchi\n\nThis is better when it isn't redis for gnocchi_incoming_storage\n\nChange-Id: Ic72fe587a36ce5e623ca79b54b462c0eee807d88\n""}]",0,742787,0c2e6e0a44710f77902bc716e0dc9314b21875ab,5,2,1,32029,,,0,"Optimization configration file for gnocchi

This is better when it isn't redis for gnocchi_incoming_storage

Change-Id: Ic72fe587a36ce5e623ca79b54b462c0eee807d88
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/87/742787/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/gnocchi/templates/gnocchi.conf.j2'],1,0c2e6e0a44710f77902bc716e0dc9314b21875ab,configure-optimization,[incoming],[incoming],1,1
openstack%2Fsenlin~stable%2Fussuri~I5c2fbe1827195d670a67dd62cdadce5ee3513ace,openstack/senlin,stable/ussuri,I5c2fbe1827195d670a67dd62cdadce5ee3513ace,Monkey patch original current_thread _active,MERGED,2020-05-12 12:57:48.000000000,2020-07-26 02:03:34.000000000,2020-07-26 02:02:34.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 27224}]","[{'number': 1, 'created': '2020-05-12 12:57:48.000000000', 'files': ['senlin/cmd/__init__.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/fb738fcd276e3d0aeee975964aaa576c51c0842e', 'message': 'Monkey patch original current_thread _active\n\nMonkey patch the original current_thread to use the up-to-date _active\nglobal variable. This solution is based on that documented at:\nhttps://github.com/eventlet/eventlet/issues/592\n\nChange-Id: I5c2fbe1827195d670a67dd62cdadce5ee3513ace\nCloses-Bug: #1863021\n(cherry picked from commit 666fd70b6100e329e7eaec82e808ad0722d67048)\n'}]",0,727186,fb738fcd276e3d0aeee975964aaa576c51c0842e,10,5,1,11805,,,0,"Monkey patch original current_thread _active

Monkey patch the original current_thread to use the up-to-date _active
global variable. This solution is based on that documented at:
https://github.com/eventlet/eventlet/issues/592

Change-Id: I5c2fbe1827195d670a67dd62cdadce5ee3513ace
Closes-Bug: #1863021
(cherry picked from commit 666fd70b6100e329e7eaec82e808ad0722d67048)
",git fetch https://review.opendev.org/openstack/senlin refs/changes/86/727186/1 && git format-patch -1 --stdout FETCH_HEAD,['senlin/cmd/__init__.py'],1,fb738fcd276e3d0aeee975964aaa576c51c0842e,bug/1863021-stable/ussuri,# Monkey patch the original current_thread to use the up-to-date _active # global variable. See https://bugs.launchpad.net/bugs/1863021 and # https://github.com/eventlet/eventlet/issues/592 import __original_module_threading as orig_threading # noqa import threading # noqa orig_threading.current_thread.__globals__['_active'] = threading._active,,6,0
openstack%2Fsenlin~stable%2Fussuri~Idd108d9575b276f3d78a7c3c6dbc5f3ed3205411,openstack/senlin,stable/ussuri,Idd108d9575b276f3d78a7c3c6dbc5f3ed3205411,Fix hacking min version to 3.0.1,MERGED,2020-05-18 18:36:47.000000000,2020-07-26 02:02:06.000000000,2020-07-26 02:01:00.000000000,"[{'_account_id': 8246}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 27224}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-05-18 18:36:47.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/senlin/commit/29d84ca4eb8e49a15e4d8e94b0ae71203a1a17df', 'message': 'Fix hacking min version to 3.0.1\n\nflake8 new release 3.8.0 added new checks and gate pep8\njob start failing. hacking 3.0.1 fix the pinning of flake8 to\navoid bringing in a new version with new checks.\n\nThough it is fixed in latest hacking but 2.0 and 3.0 has cap for\nflake8 as <4.0.0 which mean flake8 new version 3.9.0 can also\nbreak the pep8 job if new check are added.\n\nTo avoid similar gate break in future, we need to bump the hacking min\nversion.\n\nAlso removing the hacking and other related dep from lower-constraints file\nas theose are blacklisted requirements and does not need to be present\nthere.\n\n- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html\n\nChange-Id: Idd108d9575b276f3d78a7c3c6dbc5f3ed3205411\n'}]",0,728980,29d84ca4eb8e49a15e4d8e94b0ae71203a1a17df,11,6,1,8556,,,0,"Fix hacking min version to 3.0.1

flake8 new release 3.8.0 added new checks and gate pep8
job start failing. hacking 3.0.1 fix the pinning of flake8 to
avoid bringing in a new version with new checks.

Though it is fixed in latest hacking but 2.0 and 3.0 has cap for
flake8 as <4.0.0 which mean flake8 new version 3.9.0 can also
break the pep8 job if new check are added.

To avoid similar gate break in future, we need to bump the hacking min
version.

Also removing the hacking and other related dep from lower-constraints file
as theose are blacklisted requirements and does not need to be present
there.

- http://lists.openstack.org/pipermail/openstack-discuss/2020-May/014828.html

Change-Id: Idd108d9575b276f3d78a7c3c6dbc5f3ed3205411
",git fetch https://review.opendev.org/openstack/senlin refs/changes/80/728980/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,29d84ca4eb8e49a15e4d8e94b0ae71203a1a17df,,,flake8==3.7.9hacking==2.0.0pyflakes==1.0.0,1,4
openstack%2Fkuryr-libnetwork~master~I54d784fe0bded5f461ba9f26ed901ec042a6bd0d,openstack/kuryr-libnetwork,master,I54d784fe0bded5f461ba9f26ed901ec042a6bd0d,Migrate jobs to zuulv3 native,MERGED,2020-07-19 03:52:09.000000000,2020-07-26 00:41:31.000000000,2020-07-24 03:28:57.000000000,"[{'_account_id': 10459}, {'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-19 03:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/d3bbbc40c8458da86e050f1487d1e2b49e8f22f9', 'message': '[WIP] Migrate jobs to zuul v3 syntax\n\nChange-Id: I54d784fe0bded5f461ba9f26ed901ec042a6bd0d\n'}, {'number': 2, 'created': '2020-07-19 03:57:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/a66ac1f7a575285d1d1fda9fc7f8778f29eded5b', 'message': '[WIP] Migrate jobs to zuul v3 syntax\n\nChange-Id: I54d784fe0bded5f461ba9f26ed901ec042a6bd0d\n'}, {'number': 3, 'created': '2020-07-19 19:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/b2352702d5dfccf46248b01ea2e1104f032a7e21', 'message': '[WIP] Migrate jobs to zuul v3 syntax\n\nChange-Id: I54d784fe0bded5f461ba9f26ed901ec042a6bd0d\n'}, {'number': 4, 'created': '2020-07-19 19:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/7e3c7efe16193067bb9c28fee6fc5f5244aac255', 'message': '[WIP] Migrate jobs to zuul v3 syntax\n\nChange-Id: I54d784fe0bded5f461ba9f26ed901ec042a6bd0d\n'}, {'number': 5, 'created': '2020-07-19 20:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/be2cc723a1ffe30794c5dedeb22578cd5465b073', 'message': '[WIP] Migrate jobs to zuul v3 syntax\n\nChange-Id: I54d784fe0bded5f461ba9f26ed901ec042a6bd0d\n'}, {'number': 6, 'created': '2020-07-19 20:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/9d23022b3b55bd3a818eb01e9cfd593ed2db9c93', 'message': '[WIP] Migrate jobs to zuul v3 syntax\n\nChange-Id: I54d784fe0bded5f461ba9f26ed901ec042a6bd0d\n'}, {'number': 7, 'created': '2020-07-19 22:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/973aae77675a344fd89eb1ae1b8cca3fd2234136', 'message': '[WIP] Migrate jobs to zuul v3 syntax\n\nChange-Id: I54d784fe0bded5f461ba9f26ed901ec042a6bd0d\n'}, {'number': 8, 'created': '2020-07-19 23:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/01cfd8fc208aec252c11020304a57935b8df319c', 'message': '[WIP] Migrate jobs to zuul v3 syntax\n\nChange-Id: I54d784fe0bded5f461ba9f26ed901ec042a6bd0d\n'}, {'number': 9, 'created': '2020-07-20 01:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/e4d8b43e086e0e271d4cec4b8ea90e106cb324fd', 'message': '[WIP] Migrate jobs to zuul v3 syntax\n\nChange-Id: I54d784fe0bded5f461ba9f26ed901ec042a6bd0d\n'}, {'number': 10, 'created': '2020-07-20 01:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/3f766bb2b0688b173820eafea255a3fee27ea14d', 'message': '[WIP] Migrate jobs to zuul v3 syntax\n\nChange-Id: I54d784fe0bded5f461ba9f26ed901ec042a6bd0d\n'}, {'number': 11, 'created': '2020-07-20 02:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/08409761620e1122cb2b5b2627ac6beaff8b5ef9', 'message': 'Migrate jobs to zuulv3 native\n\nMigrate the following jobs to zuul v3:\n* kuryr-libnetwork-fullstack-py3\n* kuryr-libnetwork-kuryr_lib-src-fullstack\n* kuryr-libnetwork-install\n* kuryr-libnetwork-fullstack-ipv6-only\n\nRemove the following unused jobs:\n* kuryr-libnetwork-install-multinode\n\nChange-Id: I54d784fe0bded5f461ba9f26ed901ec042a6bd0d\n'}, {'number': 12, 'created': '2020-07-22 02:06:54.000000000', 'files': ['playbooks/post_fullstack_job.yaml', 'playbooks/kuryr-libnetwork-install/run.yaml', 'playbooks/kuryr-libnetwork-fullstack-base/post.yaml', '.zuul.yaml', 'playbooks/kuryr-libnetwork-install-multinode/post.yaml', 'playbooks/run_fullstack_job.yaml', 'playbooks/kuryr-libnetwork-fullstack-base/run.yaml', 'playbooks/kuryr-libnetwork-fullstack-base/run-ipv6.yaml', 'playbooks/kuryr-libnetwork-install/post.yaml', 'playbooks/kuryr-libnetwork-install-multinode/run.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/055745136e5715f0f5bb1828cbcc46cf9be145ba', 'message': 'Migrate jobs to zuulv3 native\n\nMigrate the following jobs to zuul v3:\n* kuryr-libnetwork-fullstack-py3\n* kuryr-libnetwork-kuryr_lib-src-fullstack\n* kuryr-libnetwork-install\n* kuryr-libnetwork-fullstack-ipv6-only\n\nRemove the following unused jobs:\n* kuryr-libnetwork-install-multinode\n\nChange-Id: I54d784fe0bded5f461ba9f26ed901ec042a6bd0d\n'}]",13,741832,055745136e5715f0f5bb1828cbcc46cf9be145ba,40,5,12,11536,,,0,"Migrate jobs to zuulv3 native

Migrate the following jobs to zuul v3:
* kuryr-libnetwork-fullstack-py3
* kuryr-libnetwork-kuryr_lib-src-fullstack
* kuryr-libnetwork-install
* kuryr-libnetwork-fullstack-ipv6-only

Remove the following unused jobs:
* kuryr-libnetwork-install-multinode

Change-Id: I54d784fe0bded5f461ba9f26ed901ec042a6bd0d
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/32/741832/11 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d3bbbc40c8458da86e050f1487d1e2b49e8f22f9,," parent: devstack-minimal #vars: # use_python3: 0 # use_src: 0 #run: playbooks/kuryr-libnetwork-fullstack-base/run.yaml #post-run: playbooks/kuryr-libnetwork-fullstack-base/post.yaml - openstack-dev/devstack roles: - zuul: openstack-dev/devstack vars: use_python3: 0 use_src: 0 devstack_services: # Ignore any default set by devstack. Emit a ""disable_all_services"". base: false devstack_localrc: KURYR_CONFIG_DIR: /etc/kuryr-libnetwork tox_envlist: fullstack tox_install_siblings: false #zuul_copy_output: # # We need to copy directory with logs to have it in job artifacts also, # # /opt/stack/logs is default logs directory defined in neutron's # # tox.ini file # '{{ devstack_base_dir }}/logs/dsvm-functional-logs': logs devstack_plugins: devstack-plugin-container: https://git.openstack.org/openstack/devstack-plugin-container #parent: legacy-dsvm-base parent: devstack-minimal #run: playbooks/kuryr-libnetwork-install/run.yaml #post-run: playbooks/kuryr-libnetwork-install/post.yaml - openstack-dev/devstack roles: - zuul: openstack-dev/devstack vars: devstack_services: # Ignore any default set by devstack. Emit a ""disable_all_services"". base: false devstack_localrc: KURYR_CONFIG_DIR: /etc/kuryr-libnetwork KURYR_CAPABILITY_SCOPE: global devstack_plugins: devstack-plugin-container: https://git.openstack.org/openstack/devstack-plugin-container #run: playbooks/kuryr-libnetwork-fullstack-base/run-ipv6.yaml roles: - role: ipv6-only-deployments-verification", parent: legacy-dsvm-base vars: use_python3: 0 use_src: 0 run: playbooks/kuryr-libnetwork-fullstack-base/run.yaml post-run: playbooks/kuryr-libnetwork-fullstack-base/post.yaml - openstack/devstack-gate parent: legacy-dsvm-base run: playbooks/kuryr-libnetwork-install/run.yaml post-run: playbooks/kuryr-libnetwork-install/post.yaml - openstack/devstack-gate name: kuryr-libnetwork-install-multinode parent: legacy-dsvm-base-multinode run: playbooks/kuryr-libnetwork-install-multinode/run.yaml post-run: playbooks/kuryr-libnetwork-install-multinode/post.yaml timeout: 7800 required-projects: - openstack/devstack-gate - openstack/devstack-plugin-container - openstack/kuryr - openstack/kuryr-libnetwork - job: run: playbooks/kuryr-libnetwork-fullstack-base/run-ipv6.yaml experimental: jobs: - kuryr-libnetwork-install-multinode,45,27
openstack%2Fpython-novaclient~master~I48801985b611dc0968c05388a39ab19da72b08f3,openstack/python-novaclient,master,I48801985b611dc0968c05388a39ab19da72b08f3,DNM: testing novaclient gate on ubuntu focal,ABANDONED,2020-07-03 21:22:31.000000000,2020-07-26 00:05:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-03 21:22:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/4b2be52056120730f929ae2aebdfafb7346ab37a', 'message': 'DNM: testing novaclient gate on ubuntu focal\n\nThis tests:\n- unit tests jobs\n- functional tests jobs\n- docs jobs\n\nDepends-On: https://review.opendev.org/#/c/734700/\n\nChange-Id: I48801985b611dc0968c05388a39ab19da72b08f3\nStory: #2007865\nTask: #40200\n'}]",0,739285,4b2be52056120730f929ae2aebdfafb7346ab37a,3,1,1,8556,,,0,"DNM: testing novaclient gate on ubuntu focal

This tests:
- unit tests jobs
- functional tests jobs
- docs jobs

Depends-On: https://review.opendev.org/#/c/734700/

Change-Id: I48801985b611dc0968c05388a39ab19da72b08f3
Story: #2007865
Task: #40200
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/85/739285/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4b2be52056120730f929ae2aebdfafb7346ab37a,migrate-to-focal, # TODO(efried): Cut over to zuulv3, # TODO(efried): Cut over to zuulv3,1,1
openstack%2Fmanila~stable%2Frocky~Ib71a6cec939288498e48736f129fbfdacaabe9da,openstack/manila,stable/rocky,Ib71a6cec939288498e48736f129fbfdacaabe9da,[NetApp] Fix svm scoped account,MERGED,2020-06-23 12:20:52.000000000,2020-07-25 23:26:07.000000000,2020-07-25 23:24:58.000000000,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-06-23 12:20:52.000000000', 'files': ['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/tests/share/drivers/netapp/dataontap/fakes.py', 'releasenotes/notes/bug-1882590-fix-svm-scoped-netapp-85b53830135f7558.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/a9bc395407fcc897c689911842c4bd277c5728fc', 'message': '[NetApp] Fix svm scoped account\n\nWhen the NetApp backend starts, it needs to know whether the\n`revert_to_snapshot` support exist. So, it was retrieving the\nlicenses and checking if the `SnapRestore` is included. Using a\nscoped account, the backend cannot retrieve that information,\nthough. So, this patch solves it by sending a fake operation\n`revert_to_snapshot` that must fail. Analyzing the given error, it\nsets the backend support field.\n\nCloses-Bug: #1882590\nChange-Id: Ib71a6cec939288498e48736f129fbfdacaabe9da\n(cherry picked from commit 6f58af1ae39b4151db5feaa72deecafb9365ca16)\n(cherry picked from commit b5e541a6284200d28c7e6298ec46cb1f2f1eb9b9)\n(cherry picked from commit b252cb801d547c9a9717d705303c3206a079c27f)\n(cherry picked from commit 036908dd59684e9f5f44e305535cdc81dc563f2c)\n'}]",0,737514,a9bc395407fcc897c689911842c4bd277c5728fc,21,5,1,30002,,,0,"[NetApp] Fix svm scoped account

When the NetApp backend starts, it needs to know whether the
`revert_to_snapshot` support exist. So, it was retrieving the
licenses and checking if the `SnapRestore` is included. Using a
scoped account, the backend cannot retrieve that information,
though. So, this patch solves it by sending a fake operation
`revert_to_snapshot` that must fail. Analyzing the given error, it
sets the backend support field.

Closes-Bug: #1882590
Change-Id: Ib71a6cec939288498e48736f129fbfdacaabe9da
(cherry picked from commit 6f58af1ae39b4151db5feaa72deecafb9365ca16)
(cherry picked from commit b5e541a6284200d28c7e6298ec46cb1f2f1eb9b9)
(cherry picked from commit b252cb801d547c9a9717d705303c3206a079c27f)
(cherry picked from commit 036908dd59684e9f5f44e305535cdc81dc563f2c)
",git fetch https://review.opendev.org/openstack/manila refs/changes/14/737514/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/tests/share/drivers/netapp/dataontap/fakes.py', 'releasenotes/notes/bug-1882590-fix-svm-scoped-netapp-85b53830135f7558.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py']",4,a9bc395407fcc897c689911842c4bd277c5728fc,bug/1882590," self.mock_object( self.library, '_check_snaprestore_license', mock.Mock(return_value=True)) self.mock_object( self.library, '_get_licenses', mock.Mock(return_value=fake.LICENSES)) self.assertEqual(fake.LICENSES, self.library._licenses) self.mock_object( self.library, '_check_snaprestore_license', mock.Mock(return_value=True)) def test_check_snaprestore_license_admin_notfound(self): self.library._have_cluster_creds = True def test_check_snaprestore_license_admin_found(self): self.library._have_cluster_creds = True self.library._licenses = fake.LICENSES def test_check_snaprestore_license_svm_scoped_notfound(self): self.library._have_cluster_creds = False self.mock_object(self.library._client, 'restore_snapshot', mock.Mock(side_effect=netapp_api.NaApiError( code=netapp_api.EAPIERROR, message=fake.NO_SNAPRESTORE_LICENSE))) result = self.library._check_snaprestore_license() self.assertIs(False, result) def test_check_snaprestore_license_svm_scoped_found(self): self.library._have_cluster_creds = False self.mock_object(self.library._client, 'restore_snapshot', mock.Mock(side_effect=netapp_api.NaApiError( code=netapp_api.EAPIERROR, message='Other error'))) result = self.library._check_snaprestore_license() self.assertIs(True, result) def test_check_snaprestore_license_svm_scoped_found_exception(self): self.mock_object(lib_base.LOG, 'exception') self.library._have_cluster_creds = False self.mock_object(self.library._client, 'restore_snapshot', mock.Mock(return_value=None)) self.assertRaises( exception.NetAppException, self.library._check_snaprestore_license) lib_base.LOG.exception.assert_called_once() self.library._revert_to_snapshot_support = True self.library._revert_to_snapshot_support = True"," self.library._licenses = [] self.mock_object(self.library, '_get_licenses', mock.Mock(return_value=['fake_license'])) self.assertEqual(['fake_license'], self.library._licenses) def test_check_snaprestore_license_notfound(self): def test_check_snaprestore_license_found(self): self.mock_object(self.client, 'get_licenses', mock.Mock(return_value=fake.LICENSES)) self.mock_object(self.library, '_check_snaprestore_license', mock.Mock(return_value=True)) self.mock_object(self.library, '_check_snaprestore_license', mock.Mock(return_value=True))",86,26
openstack%2Floci~master~If180168fb2f60ecc4c7da3074409ea2ae3d354d8,openstack/loci,master,If180168fb2f60ecc4c7da3074409ea2ae3d354d8,Enable placement service gate,MERGED,2020-03-20 19:30:03.000000000,2020-07-25 21:56:04.000000000,2020-07-25 21:56:04.000000000,"[{'_account_id': 1736}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2020-03-20 19:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/4bf72c75ead88256d62f6c8dbbff543a6903dd40', 'message': 'Enable placement service gate\n\nThis patch set makes the placement service voting and publish the\nplacement image for OpenStack releases: stein, train and master.\n\nChange-Id: If180168fb2f60ecc4c7da3074409ea2ae3d354d8\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2020-03-24 10:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/b44e859caad1c5d7a59fb2b88113f3bbff36169b', 'message': 'Enable placement service gate\n\nThis patch set makes the placement service voting and publish the\nplacement image for OpenStack releases: stein, train and master.\n\nChange-Id: If180168fb2f60ecc4c7da3074409ea2ae3d354d8\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2020-07-25 20:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/d5e4051dd9e9b09a1b32704b98894c7f442f49a0', 'message': 'Enable placement service gate\n\nThis patch set makes the placement service voting and publish the\nplacement image for OpenStack releases: stein, train and master.\n\nChange-Id: If180168fb2f60ecc4c7da3074409ea2ae3d354d8\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2020-07-25 20:25:55.000000000', 'files': ['.zuul.d/placement.yaml'], 'web_link': 'https://opendev.org/openstack/loci/commit/baa006471c7bc4c929ddce79370997a8d48ac767', 'message': 'Enable placement service gate\n\nThis patch set makes the placement service voting and publish the\nplacement image for OpenStack releases: stein, train and master.\n\nChange-Id: If180168fb2f60ecc4c7da3074409ea2ae3d354d8\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,714199,baa006471c7bc4c929ddce79370997a8d48ac767,46,7,4,20466,,,0,"Enable placement service gate

This patch set makes the placement service voting and publish the
placement image for OpenStack releases: stein, train and master.

Change-Id: If180168fb2f60ecc4c7da3074409ea2ae3d354d8
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/loci refs/changes/99/714199/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/placement.yaml'],1,4bf72c75ead88256d62f6c8dbbff543a6903dd40,stein/placement, - loci-placement gate: jobs: - loci-placement post: jobs: - publish-loci-placement, - loci-placement: voting: false #gate: # jobs: # - loci-placement #post: # jobs: # - publish-loci-placement,7,8
openstack%2Fbifrost~master~Id8e2f9c735c6c9d4b7ab2a7e902cd8f9d389d568,openstack/bifrost,master,Id8e2f9c735c6c9d4b7ab2a7e902cd8f9d389d568,Switch bifrost to openstack.cloud collections,MERGED,2020-07-24 19:37:27.000000000,2020-07-25 19:19:39.000000000,2020-07-25 19:18:35.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-24 19:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/06ea3399faf8f59ed3f05330ad64221067cef5ce', 'message': 'Switch bifrost to openstack.cloud collections\n\nThe following changes were made:\n- `os_client_config` is `openstack.cloud.config`\n- `os_ironic` is `openstack.cloud.baremetal_node`\n- `os_ironic_inspect` is `openstack.cloud.baremetal_inspect`\n- `os_ironic_node` is `openstack.cloud.baremetal_node_action`\n- `os_keystone_role` is `openstack.cloud.identity_role`\n- `os_keystone_service` is `openstack.cloud.catalog_service`\n- `os_user` is `openstack.cloud.identity_user`\n- `os_user_role` is `openstack.cloud.role_assignment`\n\nChange-Id: Id8e2f9c735c6c9d4b7ab2a7e902cd8f9d389d568\n'}, {'number': 2, 'created': '2020-07-24 21:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5f883b7436cf0ae28eebc1fc3e14c402a2ea1f79', 'message': 'Switch bifrost to openstack.cloud collections\n\nThe following changes were made:\n- `os_client_config` is `openstack.cloud.config`\n- `os_ironic` is `openstack.cloud.baremetal_node`\n- `os_ironic_inspect` is `openstack.cloud.baremetal_inspect`\n- `os_ironic_node` is `openstack.cloud.baremetal_node_action`\n- `os_keystone_role` is `openstack.cloud.identity_role`\n- `os_keystone_service` is `openstack.cloud.catalog_service`\n- `os_user` is `openstack.cloud.identity_user`\n- `os_user_role` is `openstack.cloud.role_assignment`\n\nChange-Id: Id8e2f9c735c6c9d4b7ab2a7e902cd8f9d389d568\n'}, {'number': 3, 'created': '2020-07-24 23:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b285621181389027e1457b6edc9afe49a1e3c4dc', 'message': 'Switch bifrost to openstack.cloud collections\n\nThe following changes were made:\n- `os_client_config` is `openstack.cloud.config`\n- `os_ironic` is `openstack.cloud.baremetal_node`\n- `os_ironic_inspect` is `openstack.cloud.baremetal_inspect`\n- `os_ironic_node` is `openstack.cloud.baremetal_node_action`\n- `os_keystone_role` is `openstack.cloud.identity_role`\n- `os_keystone_service` is `openstack.cloud.catalog_service`\n- `os_user` is `openstack.cloud.identity_user`\n- `os_user_role` is `openstack.cloud.role_assignment`\n\nChange-Id: Id8e2f9c735c6c9d4b7ab2a7e902cd8f9d389d568\n'}, {'number': 4, 'created': '2020-07-25 12:55:09.000000000', 'files': ['playbooks/roles/ironic-inspect-node/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/keystone_setup.yml', 'playbooks/roles/bifrost-unprovision-node-dynamic/tasks/main.yml', 'releasenotes/notes/switch_to_openstack_collection-a6eb3e24a68a1a82.yaml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/update_facts_from_ironic.yaml', 'playbooks/redeploy-dynamic.yaml', 'playbooks/roles/ironic-delete-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-deploy-nodes-dynamic/README.md', 'playbooks/roles/bifrost-deploy-nodes-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/keystone_setup_inspector.yml', 'playbooks/roles/ironic-enroll-dynamic/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/90ec3890fe49b4e463fa538e5032ce508e28f714', 'message': 'Switch bifrost to openstack.cloud collections\n\nThe following changes were made:\n- `os_client_config` is `openstack.cloud.config`\n- `os_ironic` is `openstack.cloud.baremetal_node`\n- `os_ironic_inspect` is `openstack.cloud.baremetal_inspect`\n- `os_ironic_node` is `openstack.cloud.baremetal_node_action`\n- `os_keystone_role` is `openstack.cloud.identity_role`\n- `os_keystone_service` is `openstack.cloud.catalog_service`\n- `os_user` is `openstack.cloud.identity_user`\n- `os_user_role` is `openstack.cloud.role_assignment`\n\nChange-Id: Id8e2f9c735c6c9d4b7ab2a7e902cd8f9d389d568\n'}]",6,742983,90ec3890fe49b4e463fa538e5032ce508e28f714,16,4,4,15519,,,0,"Switch bifrost to openstack.cloud collections

The following changes were made:
- `os_client_config` is `openstack.cloud.config`
- `os_ironic` is `openstack.cloud.baremetal_node`
- `os_ironic_inspect` is `openstack.cloud.baremetal_inspect`
- `os_ironic_node` is `openstack.cloud.baremetal_node_action`
- `os_keystone_role` is `openstack.cloud.identity_role`
- `os_keystone_service` is `openstack.cloud.catalog_service`
- `os_user` is `openstack.cloud.identity_user`
- `os_user_role` is `openstack.cloud.role_assignment`

Change-Id: Id8e2f9c735c6c9d4b7ab2a7e902cd8f9d389d568
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/83/742983/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/keystone_setup.yml', 'playbooks/roles/ironic-inspect-node/tasks/main.yml', 'playbooks/roles/bifrost-unprovision-node-dynamic/tasks/main.yml', 'releasenotes/notes/switch_to_openstack_collection-a6eb3e24a68a1a82.yaml', 'playbooks/roles/bifrost-configdrives-dynamic/tasks/update_facts_from_ironic.yaml', 'playbooks/redeploy-dynamic.yaml', 'playbooks/roles/ironic-delete-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-deploy-nodes-dynamic/README.md', 'playbooks/roles/bifrost-deploy-nodes-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/keystone_setup_inspector.yml', 'playbooks/roles/ironic-enroll-dynamic/tasks/main.yml']",11,06ea3399faf8f59ed3f05330ad64221067cef5ce,openstack_collection,"- name: ""Execute openstack.cloud.config to collect facts"" openstack.cloud.config:# NOTE(TheJulia): The first record returned by openstack.cloud.config- name: ""Set openstack.cloud.config auth parameters if not already set.""","- name: ""Execute os_client_config to collect facts"" os_client_config:# NOTE(TheJulia): The first record returned by os_client_config- name: ""Set os_client_config's auth parameters if not already set.""",56,48
openstack%2Fbifrost~master~If6f714c23a1f7f2c2580e2d11cdffecf3a2159f5,openstack/bifrost,master,If6f714c23a1f7f2c2580e2d11cdffecf3a2159f5,[WIP] Refactor 'when' statements,ABANDONED,2020-07-15 14:16:30.000000000,2020-07-25 17:59:53.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-15 14:16:30.000000000', 'files': ['playbooks/roles/ironic-inspect-node/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/keystone_setup.yml', 'playbooks/roles/bifrost-unprovision-node-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/download_ipa_image.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/test-bifrost.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/start.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-deploy-nodes-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-prep-for-install/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/68c60bfb42c3fba3fea1a5aac06bd4510ae54ed1', 'message': ""[WIP] Refactor 'when' statements\n\nChange-Id: If6f714c23a1f7f2c2580e2d11cdffecf3a2159f5\n""}]",8,741217,68c60bfb42c3fba3fea1a5aac06bd4510ae54ed1,8,3,1,10239,,,0,"[WIP] Refactor 'when' statements

Change-Id: If6f714c23a1f7f2c2580e2d11cdffecf3a2159f5
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/17/741217/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/keystone_setup.yml', 'playbooks/roles/ironic-inspect-node/tasks/main.yml', 'playbooks/roles/bifrost-unprovision-node-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/download_ipa_image.yml', 'playbooks/roles/bifrost-ironic-install/tasks/inspector_bootstrap.yml', 'playbooks/test-bifrost.yaml', 'playbooks/roles/bifrost-ironic-install/tasks/start.yml', 'playbooks/roles/bifrost-ironic-install/tasks/install.yml', 'playbooks/roles/bifrost-deploy-nodes-dynamic/tasks/main.yml', 'playbooks/roles/bifrost-prep-for-install/tasks/main.yml']",10,68c60bfb42c3fba3fea1a5aac06bd4510ae54ed1,when, when: - not (copy_from_local_path | bool) - item.source_install | default(true) | bool when: - copy_from_local_path | bool - item.source_install | default(true) | bool, when: copy_from_local_path | bool == false and item.source_install | default(true) | bool when: copy_from_local_path | bool == true and item.source_install | default(true) | bool,85,44
openstack%2Fironic~stable%2Fussuri~I173e6b1a8037698d41f355c7ef55f7389594be1e,openstack/ironic,stable/ussuri,I173e6b1a8037698d41f355c7ef55f7389594be1e,Fixes to skip validation of in-band deploy steps before agent boot,MERGED,2020-07-24 09:58:02.000000000,2020-07-25 17:11:16.000000000,2020-07-25 17:09:57.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-24 09:58:02.000000000', 'files': ['ironic/tests/unit/conductor/test_deployments.py', 'ironic/conductor/deployments.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/bc4024faccdc49d682d66aa0d1ebc3e6c86cf8ed', 'message': 'Fixes to skip validation of in-band deploy steps before agent boot\n\nValidation should not fail even if any deploy step requested in the deployment\ntemplate is not available, unless inband deploy steps are retrieved.\n\nChange-Id: I173e6b1a8037698d41f355c7ef55f7389594be1e\n(cherry picked from commit 8c191ceb5a16b967a4b2929fc86afafaf5bce157)\n'}]",0,742840,bc4024faccdc49d682d66aa0d1ebc3e6c86cf8ed,17,6,1,10239,,,0,"Fixes to skip validation of in-band deploy steps before agent boot

Validation should not fail even if any deploy step requested in the deployment
template is not available, unless inband deploy steps are retrieved.

Change-Id: I173e6b1a8037698d41f355c7ef55f7389594be1e
(cherry picked from commit 8c191ceb5a16b967a4b2929fc86afafaf5bce157)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/40/742840/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/conductor/test_deployments.py', 'ironic/conductor/deployments.py']",2,bc4024faccdc49d682d66aa0d1ebc3e6c86cf8ed,conductor_fix-stable/ussuri," conductor_steps.validate_deploy_templates(task, skip_missing=True)", conductor_steps.validate_deploy_templates(task),35,1
openstack%2Fironic-python-agent~master~Id3b1ae5e59282f4109f6246d5614d44c93aefa7c,openstack/ironic-python-agent,master,Id3b1ae5e59282f4109f6246d5614d44c93aefa7c,Prevent un-needed iscsi cleanup,MERGED,2020-07-20 21:28:57.000000000,2020-07-25 15:07:26.000000000,2020-07-25 13:54:51.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-20 21:28:57.000000000', 'files': ['ironic_python_agent/extensions/iscsi.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/agent.py', 'ironic_python_agent/tests/unit/extensions/test_iscsi.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/prevent-needless-iscsi-cleanup-f8d602c0abc7e8ba.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2a56ee03b6ffb2d8c8f5ff553e90ecf6ee07f9af', 'message': ""Prevent un-needed iscsi cleanup\n\nWhen we added software raid support, we started calling bootloader\ninstallation. As time went on, we ehnanced that code path for non\nRAID cases in order to ensure that UEFI nvram was setup\nfor the instance to boot properly.\n\nSomewhere in this process, we missed a possible failure case where\nthe iscsi client tgtadm may return failures. Obviously, the correct\npath is to not call iscsi teardown if we don't need to.\n\nSince it was always semi-opportunistic teardown, we can't blindly\ncatch any error, and if we started iSCSI and failed to tear the\nconnection down, we might want to still fail, so this change\nmoves the logic over to use a flag on the agent object which\none extension to set the flag and the other to read it and take\naction based upon that.\n\nChange-Id: Id3b1ae5e59282f4109f6246d5614d44c93aefa7c\nStory: 2007937\nTask: 40395\n""}]",0,742029,2a56ee03b6ffb2d8c8f5ff553e90ecf6ee07f9af,13,5,1,11655,,,0,"Prevent un-needed iscsi cleanup

When we added software raid support, we started calling bootloader
installation. As time went on, we ehnanced that code path for non
RAID cases in order to ensure that UEFI nvram was setup
for the instance to boot properly.

Somewhere in this process, we missed a possible failure case where
the iscsi client tgtadm may return failures. Obviously, the correct
path is to not call iscsi teardown if we don't need to.

Since it was always semi-opportunistic teardown, we can't blindly
catch any error, and if we started iSCSI and failed to tear the
connection down, we might want to still fail, so this change
moves the logic over to use a flag on the agent object which
one extension to set the flag and the other to read it and take
action based upon that.

Change-Id: Id3b1ae5e59282f4109f6246d5614d44c93aefa7c
Story: 2007937
Task: 40395
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/29/742029/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/extensions/iscsi.py', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/agent.py', 'ironic_python_agent/tests/unit/extensions/test_iscsi.py', 'ironic_python_agent/extensions/image.py', 'releasenotes/notes/prevent-needless-iscsi-cleanup-f8d602c0abc7e8ba.yaml']",6,2a56ee03b6ffb2d8c8f5ff553e90ecf6ee07f9af,,"--- fixes: - | Fixes an issue with the ironic-python-agent where we would call to setup the bootloader, which is necessary with software raid, but also attempt to clean up iSCSI. This can cause issues when using the ``direct`` ``deploy_interface``. Now the agent will only clean up iSCSI connections if iSCSI was explicitly started. For more information, please see `story 2007937 <https://storyboard.openstack.org/#!/story/2007937>`_. ",,47,2
openstack%2Fcinder~stable%2Fpike~If15948a19a0df2d57f2da84c0774bc4ceb1fff60,openstack/cinder,stable/pike,If15948a19a0df2d57f2da84c0774bc4ceb1fff60,nimble: Fix missing ssl support,MERGED,2020-06-10 00:26:05.000000000,2020-07-25 15:02:05.000000000,2020-07-25 15:02:05.000000000,"[{'_account_id': 24}, {'_account_id': 5314}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 19933}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-06-10 00:26:05.000000000', 'files': ['cinder/volume/drivers/nimble.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/267c05e938edb9a496d4e746cb1d2e6418136765', 'message': 'nimble: Fix missing ssl support\n\nThe requests.get in the get_query method was always disabling the\nssl certificate checck. Use the ""nimble_verify_certificate""\nconfiguration option to allow the user to enable or disable it\nlike the rest of the requests usage in the driver.\n\nChange-Id: If15948a19a0df2d57f2da84c0774bc4ceb1fff60\nSigned-off-by: Chuck Short <chucks@redhat.com>\n(cherry picked from commit c25c30245c7bf53687f71af43b78b7414ac022c5)\n'}]",0,734723,267c05e938edb9a496d4e746cb1d2e6418136765,31,16,1,14892,,,0,"nimble: Fix missing ssl support

The requests.get in the get_query method was always disabling the
ssl certificate checck. Use the ""nimble_verify_certificate""
configuration option to allow the user to enable or disable it
like the rest of the requests usage in the driver.

Change-Id: If15948a19a0df2d57f2da84c0774bc4ceb1fff60
Signed-off-by: Chuck Short <chucks@redhat.com>
(cherry picked from commit c25c30245c7bf53687f71af43b78b7414ac022c5)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/23/734723/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/nimble.py'],1,267c05e938edb9a496d4e746cb1d2e6418136765,ssl-stable/pike," params=query, verify=self.verify)"," params=query, verify=False)",1,1
openstack%2Fcinder~stable%2Fpike~I3a40a5865cfed8e29dd58d31d955840ec6370a69,openstack/cinder,stable/pike,I3a40a5865cfed8e29dd58d31d955840ec6370a69,tintri: Enable SSL with requests,MERGED,2020-06-10 00:33:50.000000000,2020-07-25 15:02:03.000000000,2020-07-25 15:02:03.000000000,"[{'_account_id': 24}, {'_account_id': 5314}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 19933}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-06-10 00:33:50.000000000', 'files': ['cinder/volume/drivers/tintri.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/aaa07495e80278b91492b5033f81a32d9eb37c8d', 'message': 'tintri: Enable SSL with requests\n\nSSL requests are not being verified when contacting the\nREST API. Use the driver_ssl_cert_verify config option\nto turn on or off. Defaults to False.\n\nChange-Id: I3a40a5865cfed8e29dd58d31d955840ec6370a69\nSigned-off-by: Chuck Short <chucks@redhat.com>\n(cherry picked from commit 7d85fa9a0cc484af24a688f6db568e15d82acaa0)\n'}]",0,734725,aaa07495e80278b91492b5033f81a32d9eb37c8d,31,16,1,14892,,,0,"tintri: Enable SSL with requests

SSL requests are not being verified when contacting the
REST API. Use the driver_ssl_cert_verify config option
to turn on or off. Defaults to False.

Change-Id: I3a40a5865cfed8e29dd58d31d955840ec6370a69
Signed-off-by: Chuck Short <chucks@redhat.com>
(cherry picked from commit 7d85fa9a0cc484af24a688f6db568e15d82acaa0)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/734725/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/tintri.py'],1,aaa07495e80278b91492b5033f81a32d9eb37c8d,," self.verify_ssl = getattr(self.configuration, 'driver_ssl_cert_verify') self.ssl_cert_path = getattr(self.configuration, 'driver_ssl_cert_path') params=query, verify=self.verify_ssl, cert=self.ssl_cert_path) return requests.delete(url, headers=self.headers, verify=self.verify_ssl, cert=self.ssl_cert_path) headers=self.headers, verify=self.verify_ssl, cert=self.ssl_cert_path) headers=self.headers, verify=self.verify_ssl, cert=self.ssl_cert_path) headers=headers, verify=self.verify_ssl, cert=self.ssl_cert_path) requests.get(url, headers=self.headers, verify=self.verify_ssl, cert=self.ssl_cert_path)"," params=query, verify=False) return requests.delete(url, headers=self.headers, verify=False) headers=self.headers, verify=False) headers=self.headers, verify=False) headers=headers, verify=False) requests.get(url, headers=self.headers, verify=False)",20,6
openstack%2Fnetworking-ovn~stable%2Ftrain~I3d7e70a4a110c68a89d6c575abf121cd9b97e439,openstack/networking-ovn,stable/train,I3d7e70a4a110c68a89d6c575abf121cd9b97e439,[OVN] Fix logic issue while deleting port with QoS,MERGED,2020-07-20 10:45:56.000000000,2020-07-25 14:54:15.000000000,2020-07-25 14:53:05.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-07-20 10:45:56.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/common/client_extensions/qos.py', 'networking_ovn/tests/unit/common/client_extensions/test_qos.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5edaa33a5c46fc07e379d3199c67a4bf4e0a933e', 'message': ""[OVN] Fix logic issue while deleting port with QoS\n\nWhile port has QoS policy configured the policy wasn't deleted\nbecause of logic issue.\n\nBackported from Neutron master branch (Victoria):\nhttps://review.opendev.org/#/c/740967/\n\nChange-Id: I3d7e70a4a110c68a89d6c575abf121cd9b97e439\nCloses-Bug: #1886962\n(cherry picked from commit 0e53673c5d4f49846bb439b2e1ab8e984c20d6f8)\n(cherry picked from commit 5554d620d14175b9bade595226bdc797ba498cf3)\n""}]",0,741918,5edaa33a5c46fc07e379d3199c67a4bf4e0a933e,27,6,1,16688,,,0,"[OVN] Fix logic issue while deleting port with QoS

While port has QoS policy configured the policy wasn't deleted
because of logic issue.

Backported from Neutron master branch (Victoria):
https://review.opendev.org/#/c/740967/

Change-Id: I3d7e70a4a110c68a89d6c575abf121cd9b97e439
Closes-Bug: #1886962
(cherry picked from commit 0e53673c5d4f49846bb439b2e1ab8e984c20d6f8)
(cherry picked from commit 5554d620d14175b9bade595226bdc797ba498cf3)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/18/741918/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/common/client_extensions/qos.py', 'networking_ovn/tests/unit/common/client_extensions/test_qos.py']",3,5edaa33a5c46fc07e379d3199c67a4bf4e0a933e,bug/1886962," def test_delete_port(self): self.mock_rules.reset_mock() self.qos_driver.delete_port(mock.ANY, self.ports[1]) # Assert that rules are deleted self.mock_rules.assert_called_once_with( mock.ANY, self.ports[1].id, self.ports[1].network_id, None, None) ",,13,9
openstack%2Fopenstacksdk~master~I90d966a150d128e177f157e292035cfb71d89ad1,openstack/openstacksdk,master,I90d966a150d128e177f157e292035cfb71d89ad1,Use unittest.mock instead of mock,MERGED,2020-06-09 08:52:11.000000000,2020-07-25 14:03:09.000000000,2020-07-25 14:01:50.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-09 08:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ec5744d5b4c9a095b9f02a6b05007eb121b9bc2a', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I90d966a150d128e177f157e292035cfb71d89ad1\n'}, {'number': 2, 'created': '2020-06-16 22:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/13bc17a803a1d0689bb32e6412fba72157e88138', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I90d966a150d128e177f157e292035cfb71d89ad1\n'}, {'number': 3, 'created': '2020-06-17 17:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/98ba48eea3c8cc934ab6fa048eabba170996b78a', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I90d966a150d128e177f157e292035cfb71d89ad1\n'}, {'number': 4, 'created': '2020-06-17 17:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e4a715559302b92913ff98801660af792a0b95e6', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I90d966a150d128e177f157e292035cfb71d89ad1\n'}, {'number': 5, 'created': '2020-07-17 07:55:55.000000000', 'files': ['test-requirements.txt', 'openstack/tests/unit/test_exceptions.py', 'openstack/tests/unit/compute/v2/test_metadata.py', 'openstack/tests/unit/block_storage/v2/test_backup.py', 'openstack/tests/unit/cloud/test_meta.py', 'openstack/tests/unit/baremetal/v1/test_node.py', 'openstack/tests/unit/object_store/v1/test_proxy.py', 'openstack/tests/unit/cloud/test_object.py', 'openstack/tests/unit/config/test_cloud_config.py', 'openstack/tests/unit/orchestration/v1/test_template.py', 'openstack/tests/unit/load_balancer/test_proxy.py', 'openstack/tests/unit/cloud/test_fwaas.py', 'openstack/tests/unit/dns/v2/test_zone.py', 'openstack/tests/unit/baremetal/v1/test_allocation.py', 'openstack/tests/unit/image/v2/test_proxy.py', 'openstack/tests/unit/cloud/test_shade.py', 'openstack/tests/unit/load_balancer/test_load_balancer.py', 'openstack/tests/unit/message/v2/test_proxy.py', 'openstack/tests/unit/dns/v2/test_zone_export.py', 'openstack/tests/unit/network/v2/test_agent.py', 'openstack/tests/unit/orchestration/v1/test_stack.py', 'openstack/tests/unit/message/v2/test_claim.py', 'openstack/tests/unit/network/v2/test_trunk.py', 'lower-constraints.txt', 'openstack/tests/unit/compute/v2/test_server_ip.py', 'openstack/tests/unit/identity/v2/test_extension.py', 'openstack/tests/unit/test_proxy_base.py', 'openstack/tests/unit/compute/v2/test_limits.py', 'openstack/tests/unit/database/v1/test_instance.py', 'openstack/tests/unit/test_connection.py', 'openstack/tests/unit/baremetal_introspection/v1/test_proxy.py', 'openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/tests/unit/clustering/v1/test_service.py', 'openstack/tests/unit/test_utils.py', 'openstack/tests/unit/network/v2/test_router.py', 'openstack/tests/unit/cloud/test__utils.py', 'openstack/tests/unit/clustering/v1/test_profile_type.py', 'openstack/tests/unit/cloud/test_operator.py', 'openstack/tests/unit/fakes.py', 'openstack/tests/unit/clustering/v1/test_node.py', 'openstack/tests/unit/network/v2/test_floating_ip.py', 'openstack/tests/unit/baremetal/test_configdrive.py', 'openstack/tests/unit/identity/test_version.py', 'openstack/tests/unit/cloud/test_inventory.py', 'openstack/tests/unit/test_proxy.py', 'openstack/tests/unit/block_storage/v2/test_proxy.py', 'openstack/tests/unit/orchestration/v1/test_stack_files.py', 'openstack/tests/unit/block_storage/v2/test_volume.py', 'openstack/tests/unit/compute/v2/test_aggregate.py', 'openstack/tests/unit/orchestration/v1/test_proxy.py', 'openstack/tests/unit/compute/v2/test_server.py', 'openstack/tests/unit/dns/v2/test_zone_import.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/tests/unit/message/v2/test_queue.py', 'openstack/tests/unit/key_manager/v1/test_secret.py', 'openstack/tests/unit/block_storage/v3/test_volume.py', 'openstack/tests/unit/network/v2/test_proxy.py', 'openstack/tests/unit/clustering/v1/test_proxy.py', 'openstack/tests/unit/compute/v2/test_service.py', 'openstack/tests/unit/test_proxy_base2.py', 'openstack/tests/unit/image/v2/test_image.py', 'openstack/tests/unit/message/v2/test_message.py', 'openstack/tests/unit/clustering/v1/test_cluster.py', 'openstack/tests/unit/baremetal/v1/test_proxy.py', 'openstack/tests/unit/cloud/test_create_server.py', 'openstack/tests/unit/message/v2/test_subscription.py', 'openstack/tests/unit/network/v2/test_flavor.py', 'openstack/tests/unit/test_resource.py', 'openstack/tests/unit/cloud/test_floating_ip_common.py', 'openstack/tests/unit/block_storage/v3/test_backup.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6f9cd3f7a7b7823195c4b6fa564e094618afbdff', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I90d966a150d128e177f157e292035cfb71d89ad1\n'}]",0,734455,6f9cd3f7a7b7823195c4b6fa564e094618afbdff,21,6,5,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I90d966a150d128e177f157e292035cfb71d89ad1
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/55/734455/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'openstack/tests/unit/test_exceptions.py', 'openstack/tests/unit/compute/v2/test_metadata.py', 'openstack/tests/unit/block_storage/v2/test_backup.py', 'openstack/tests/unit/cloud/test_meta.py', 'openstack/tests/unit/baremetal/v1/test_node.py', 'openstack/tests/unit/object_store/v1/test_proxy.py', 'openstack/tests/unit/cloud/test_object.py', 'openstack/tests/unit/config/test_cloud_config.py', 'openstack/tests/unit/orchestration/v1/test_template.py', 'openstack/tests/unit/load_balancer/test_proxy.py', 'openstack/tests/unit/cloud/test_fwaas.py', 'openstack/tests/unit/dns/v2/test_zone.py', 'openstack/tests/unit/baremetal/v1/test_allocation.py', 'openstack/tests/unit/image/v2/test_proxy.py', 'openstack/tests/unit/cloud/test_shade.py', 'openstack/tests/unit/load_balancer/test_load_balancer.py', 'openstack/tests/unit/message/v2/test_proxy.py', 'openstack/tests/unit/dns/v2/test_zone_export.py', 'openstack/tests/unit/network/v2/test_agent.py', 'openstack/tests/unit/orchestration/v1/test_stack.py', 'openstack/tests/unit/message/v2/test_claim.py', 'openstack/tests/unit/network/v2/test_trunk.py', 'lower-constraints.txt', 'openstack/tests/unit/compute/v2/test_server_ip.py', 'openstack/tests/unit/identity/v2/test_extension.py', 'openstack/tests/unit/test_proxy_base.py', 'openstack/tests/unit/compute/v2/test_limits.py', 'openstack/tests/unit/database/v1/test_instance.py', 'openstack/tests/unit/test_connection.py', 'openstack/tests/unit/baremetal_introspection/v1/test_proxy.py', 'openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/tests/unit/clustering/v1/test_service.py', 'openstack/tests/unit/test_utils.py', 'openstack/tests/unit/network/v2/test_router.py', 'openstack/tests/unit/cloud/test__utils.py', 'openstack/tests/unit/clustering/v1/test_profile_type.py', 'openstack/tests/unit/cloud/test_operator.py', 'openstack/tests/unit/fakes.py', 'openstack/tests/unit/clustering/v1/test_node.py', 'openstack/tests/unit/network/v2/test_floating_ip.py', 'openstack/tests/unit/baremetal/test_configdrive.py', 'openstack/tests/unit/identity/test_version.py', 'openstack/tests/unit/cloud/test_inventory.py', 'openstack/tests/unit/test_proxy.py', 'openstack/tests/unit/block_storage/v2/test_proxy.py', 'openstack/tests/unit/orchestration/v1/test_stack_files.py', 'openstack/tests/unit/block_storage/v2/test_volume.py', 'openstack/tests/unit/compute/v2/test_aggregate.py', 'openstack/tests/unit/orchestration/v1/test_proxy.py', 'openstack/tests/unit/compute/v2/test_server.py', 'openstack/tests/unit/dns/v2/test_zone_import.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/tests/unit/message/v2/test_queue.py', 'openstack/tests/unit/key_manager/v1/test_secret.py', 'openstack/tests/unit/block_storage/v3/test_volume.py', 'openstack/tests/unit/network/v2/test_proxy.py', 'openstack/tests/unit/clustering/v1/test_proxy.py', 'openstack/tests/unit/compute/v2/test_service.py', 'openstack/tests/unit/test_proxy_base2.py', 'openstack/tests/unit/image/v2/test_image.py', 'openstack/tests/unit/message/v2/test_message.py', 'openstack/tests/unit/clustering/v1/test_cluster.py', 'openstack/tests/unit/baremetal/v1/test_proxy.py', 'openstack/tests/unit/cloud/test_create_server.py', 'openstack/tests/unit/message/v2/test_subscription.py', 'openstack/tests/unit/network/v2/test_flavor.py', 'openstack/tests/unit/test_resource.py', 'openstack/tests/unit/cloud/test_floating_ip_common.py', 'openstack/tests/unit/block_storage/v3/test_backup.py']",70,ec5744d5b4c9a095b9f02a6b05007eb121b9bc2a,unittest.mock,from unittest import mock,import mock,68,70
openstack%2Fopenstack-ansible~master~I4130e762ef92103d2fb95b1efe3e2f2cfc5479a6,openstack/openstack-ansible,master,I4130e762ef92103d2fb95b1efe3e2f2cfc5479a6,Fix gate job for aio_metal template,MERGED,2020-07-25 05:55:13.000000000,2020-07-25 14:00:00.000000000,2020-07-25 12:24:28.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-25 05:55:13.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d1577b9585df8deabddc794cb5527a81e554e82b', 'message': 'Fix gate job for aio_metal template\n\nCentOS 8 gate job has been mistakingly set to lxc one inside\nmetal template.\n\nChange-Id: I4130e762ef92103d2fb95b1efe3e2f2cfc5479a6\n'}]",0,743023,d1577b9585df8deabddc794cb5527a81e554e82b,9,3,1,28619,,,0,"Fix gate job for aio_metal template

CentOS 8 gate job has been mistakingly set to lxc one inside
metal template.

Change-Id: I4130e762ef92103d2fb95b1efe3e2f2cfc5479a6
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/23/743023/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,d1577b9585df8deabddc794cb5527a81e554e82b,, - openstack-ansible-deploy-aio_metal-centos-8, - openstack-ansible-deploy-aio_lxc-centos-8,1,1
openstack%2Fcinder~stable%2Fpike~Ibdfbd4170b478e0f5ee38319ebdfc37c98e4c744,openstack/cinder,stable/pike,Ibdfbd4170b478e0f5ee38319ebdfc37c98e4c744,DNM: check status of Pike jobs,ABANDONED,2020-05-26 19:57:07.000000000,2020-07-25 13:07:50.000000000,,"[{'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-05-26 19:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7b378f3f6d40c2f7398a8f8d399745417d642eed', 'message': 'DNM: check status of Pike jobs\n\nChange-Id: Ibdfbd4170b478e0f5ee38319ebdfc37c98e4c744\n'}, {'number': 2, 'created': '2020-07-23 18:41:22.000000000', 'files': ['cinder/exception.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3975c22b716650647f574a968ad7f28daf647e34', 'message': 'DNM: check status of Pike jobs\n\nDepends-on: https://review.opendev.org/#/c/737094/\nChange-Id: Ibdfbd4170b478e0f5ee38319ebdfc37c98e4c744\n'}]",0,730959,3975c22b716650647f574a968ad7f28daf647e34,56,16,2,5314,,,0,"DNM: check status of Pike jobs

Depends-on: https://review.opendev.org/#/c/737094/
Change-Id: Ibdfbd4170b478e0f5ee38319ebdfc37c98e4c744
",git fetch https://review.opendev.org/openstack/cinder refs/changes/59/730959/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/exception.py'],1,7b378f3f6d40c2f7398a8f8d399745417d642eed,check-gate,"""""""Cinder base exception handling","""""""Cinder base exception handling.",1,1
openstack%2Fos-brick~stable%2Fpike~If8a80e6d99dfbc41659b7c5a163877afa2c4eaba,openstack/os-brick,stable/pike,If8a80e6d99dfbc41659b7c5a163877afa2c4eaba,DNM: Check status of Pike jobs,ABANDONED,2020-05-27 13:05:40.000000000,2020-07-25 13:07:21.000000000,,"[{'_account_id': 5314}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-05-27 13:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/ed98c8411e3c083b7e0fb2501e63da40013a9670', 'message': 'DNM: Check status of Pike jobs\n\nChange-Id: If8a80e6d99dfbc41659b7c5a163877afa2c4eaba\n'}, {'number': 2, 'created': '2020-07-23 18:42:31.000000000', 'files': ['os_brick/exception.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/37021fe0630cba3abe40d34bba4ffd2e53bf4f5d', 'message': 'DNM: Check status of Pike jobs\n\nChange-Id: If8a80e6d99dfbc41659b7c5a163877afa2c4eaba\n'}]",0,731196,37021fe0630cba3abe40d34bba4ffd2e53bf4f5d,21,8,2,5314,,,0,"DNM: Check status of Pike jobs

Change-Id: If8a80e6d99dfbc41659b7c5a163877afa2c4eaba
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/96/731196/2 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/exception.py'],1,ed98c8411e3c083b7e0fb2501e63da40013a9670,check-gate,"""""""Exceptions for the Brick library""""""","""""""Exceptions for the Brick library.""""""",1,1
openstack%2Fironic~master~I82e34a6d00b338e96869705aadde8bb162fa60a4,openstack/ironic,master,I82e34a6d00b338e96869705aadde8bb162fa60a4,Add ``ipxe_template`` override option,NEW,2020-07-07 19:44:34.000000000,2020-07-25 12:37:39.000000000,,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-07 19:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3b5658f2e8e9170ec2873ef568d0bf6bb86b8d53', 'message': 'Add ``ipxe_template`` override option\n\nAlso documents the ``pxe_template`` option, which we never\ndocumented it seems. :(\n\nChange-Id: I82e34a6d00b338e96869705aadde8bb162fa60a4\n'}, {'number': 2, 'created': '2020-07-07 22:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e66af4068bdd5de34179216098509a1b56e66d48', 'message': 'Add ``ipxe_template`` override option\n\nAlso documents the ``pxe_template`` option, which we never\ndocumented it seems. :(\n\nChange-Id: I82e34a6d00b338e96869705aadde8bb162fa60a4\n'}, {'number': 3, 'created': '2020-07-13 18:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/49e5b539a366813c26b2ed1563fef1462d9055d6', 'message': 'Add ``ipxe_template`` override option\n\nAlso documents the ``pxe_template`` option, which we never\ndocumented it seems. :(\n\nChange-Id: I82e34a6d00b338e96869705aadde8bb162fa60a4\n'}, {'number': 4, 'created': '2020-07-16 19:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/71ad8efdf98e61e62e1df798fe5af41e697f0c10', 'message': 'Add ``ipxe_template`` override option\n\nAlso documents the ``pxe_template`` option, which we never\ndocumented it seems. :(\n\nChange-Id: I82e34a6d00b338e96869705aadde8bb162fa60a4\n'}, {'number': 5, 'created': '2020-07-20 23:38:50.000000000', 'files': ['ironic/drivers/modules/pxe_base.py', 'ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/ipxe_template-driver-info-parameter-3d2277f6bc83374c.yaml', 'doc/source/install/configure-pxe.rst', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'ironic/tests/unit/drivers/test_generic.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/14332e3620b797395e0f662836491abe7d513a4f', 'message': 'Add ``ipxe_template`` override option\n\nAlso documents the ``pxe_template`` option, which we never\ndocumented it seems. :(\n\nChange-Id: I82e34a6d00b338e96869705aadde8bb162fa60a4\n'}]",2,739841,14332e3620b797395e0f662836491abe7d513a4f,45,8,5,11655,,,0,"Add ``ipxe_template`` override option

Also documents the ``pxe_template`` option, which we never
documented it seems. :(

Change-Id: I82e34a6d00b338e96869705aadde8bb162fa60a4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/41/739841/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/pxe_base.py', 'ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/tests/unit/conductor/test_manager.py', 'releasenotes/notes/ipxe_template-driver-info-parameter-3d2277f6bc83374c.yaml', 'doc/source/install/configure-pxe.rst', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'ironic/tests/unit/drivers/test_generic.py']",8,3b5658f2e8e9170ec2873ef568d0bf6bb86b8d53,pxe_base," 'force_persistent_boot_device', 'rescue_kernel', 'rescue_ramdisk', 'pxe_template']"," 'force_persistent_boot_device', 'rescue_kernel', 'rescue_ramdisk']",42,6
openstack%2Fopenstack-helm~master~I36308d6d23b9b08db1fa44a199cdd233a0f1d676,openstack/openstack-helm,master,I36308d6d23b9b08db1fa44a199cdd233a0f1d676,Imported Translations from Zanata,MERGED,2020-07-25 07:53:10.000000000,2020-07-25 12:30:06.000000000,2020-07-25 12:28:48.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-25 07:53:10.000000000', 'files': ['doc/source/locale/en_GB/LC_MESSAGES/doc-install.po'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5199ef9f68f7f2f0544ba597e700c75f2adfe2db', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I36308d6d23b9b08db1fa44a199cdd233a0f1d676\n'}]",0,743025,5199ef9f68f7f2f0544ba597e700c75f2adfe2db,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I36308d6d23b9b08db1fa44a199cdd233a0f1d676
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/25/743025/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/locale/en_GB/LC_MESSAGES/doc-install.po'],1,5199ef9f68f7f2f0544ba597e700c75f2adfe2db,zanata/translations,"""Project-Id-Version: openstack-helm 0.1.1.dev3109\n""""POT-Creation-Date: 2020-07-24 20:46+0000\n""""PO-Revision-Date: 2020-07-24 11:19+0000\n""""Alternatively, these steps can be performed by running the script directly::"" msgstr """" ""Alternatively, these steps can be performed by running the script directly::"" msgid """"""As a final validation step, re-run the **openstack helm stack list** and "" ""**openstack helm keypair list** commands and confirm the returned results "" ""are shown as empty.::"" msgstr """" ""As a final validation step, re-run the **openstack helm stack list** and "" ""**openstack helm keypair list** commands and confirm the returned results "" ""are shown as empty.::"" msgid """"""for block DB and block WAL. If loop0 and loop1 devices are busy in your "" ""case , feel free to change them in parameters by using --ceph-osd-data and --"" ""ceph-osd-dbwal options.""""Create two loopback devices for Ceph as one disk for OSD data and other disk "" ""for block DB and block WAL. If loop0 and loop1 devices are busy in your "" ""case , feel free to change them in parameters by using --ceph-osd-data and --"" ""ceph-osd-dbwal options.""msgid ""Delete the keypair(s) returned from the list command above::"" msgstr ""Delete the keypair(s) returned from the list command above::"" msgid """" ""Delete the stacks returned from the *openstack helm stack list* command "" ""above::"" msgstr """" ""Delete the stacks returned from the *openstack helm stack list* command "" ""above::"" msgid """" ""Execution of the **900-use-it.sh** script results in the creation of 4 heat "" ""stacks and a unique keypair enabling access to a newly created VM. "" ""Subsequent runs of the **900-use-it.sh** script requires deletion of the "" ""stacks, a keypair, and key files, generated during the initial script "" ""execution."" msgstr """" ""Execution of the **900-use-it.sh** script results in the creation of 4 heat "" ""stacks and a unique keypair enabling access to a newly created VM. "" ""Subsequent runs of the **900-use-it.sh** script requires deletion of the "" ""stacks, a keypair, and key files, generated during the initial script "" ""execution."" msgid ""List the keypair(s) generated during the script execution::"" msgstr ""List the keypair(s) generated during the script execution::"" msgid """" ""List the stacks created during script execution which will need to be "" ""deleted::"" msgstr """" ""List the stacks created during script execution which will need to be "" ""deleted::"" ""Manually remove the keypair directories created from the script in the ~/."" ""ssh directory::"" msgstr """" ""Manually remove the keypair directories created from the script in the ~/."" ""ssh directory::"" msgid """"msgid ""Subsequent Runs & Post Clean-up"" msgstr ""Subsequent Runs & Post Clean-up"" ""The following steps serve as a guide to clean-up the client environment by "" ""deleting stacks and respective artifacts created during the **900-use-it."" ""sh** script:"" msgstr """" ""The following steps serve as a guide to clean-up the client environment by "" ""deleting stacks and respective artefacts created during the **900-use-it."" ""sh** script:"" msgid """"""This script will create two loopback devices for ceph as one disk for OSD "" ""data and other disk for block DB and block WAL. If loop0 and loop1 devices "" ""are busy in your case , feel free to change them in parameters."" msgstr """" ""This script will create two loopback devices for Ceph as one disk for OSD "" ""data and other disk for block DB and block WAL. If loop0 and loop1 devices "" ""are busy in your case , feel free to change them in parameters."" msgid """"","""Project-Id-Version: openstack-helm 0.1.1.dev3067\n""""POT-Creation-Date: 2020-07-09 22:40+0000\n""""PO-Revision-Date: 2020-07-09 08:02+0000\n""""for block DB and block WAL.""""Create two loopback devices for ceph as one disk for OSD data and other disk "" ""for block DB and block WAL.""",85,6
openstack%2Foslo.concurrency~master~I358b62b45096cfbcafe0e665d92e6b05fb36b153,openstack/oslo.concurrency,master,I358b62b45096cfbcafe0e665d92e6b05fb36b153,Bump bandit version,MERGED,2020-07-24 15:32:08.000000000,2020-07-25 11:57:53.000000000,2020-07-25 10:00:17.000000000,"[{'_account_id': 708}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 15:32:08.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/2f7880383987f18861338e9c59b598bc98fa385e', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: I358b62b45096cfbcafe0e665d92e6b05fb36b153\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",0,742910,2f7880383987f18861338e9c59b598bc98fa385e,10,4,1,27954,,,0,"Bump bandit version

This patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to
avoid the errors detailed here https://github.com/PyCQA/bandit/pull/393

Change-Id: I358b62b45096cfbcafe0e665d92e6b05fb36b153
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/10/742910/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,2f7880383987f18861338e9c59b598bc98fa385e,bump-bandit,"bandit>=1.6.0,<1.7.0 # Apache-2.0","bandit>=1.1.0,<1.6.0 # Apache-2.0",1,1
openstack%2Fmanila-image-elements~master~I65379ffcf06e9de111d69cd3b5bc4acc7af0547e,openstack/manila-image-elements,master,I65379ffcf06e9de111d69cd3b5bc4acc7af0547e,Native Zuulv3 container scenario test job,MERGED,2020-07-24 05:32:35.000000000,2020-07-25 11:39:47.000000000,2020-07-25 11:39:47.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 05:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/a88df07c2b9e3bcc3c73b64bca9b838fb1e15799', 'message': '[DNM] Native Zuulv3 container scenario test job\n\nChange-Id: I65379ffcf06e9de111d69cd3b5bc4acc7af0547e\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2020-07-24 06:42:28.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/manila-image-elements-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/6a026e72b4e4554d8aae7612f6a5034f5e40e060', 'message': 'Native Zuulv3 container scenario test job\n\nReplace the ""manila-tempest-dsvm-container-scenario-custom-image""\njob with a native Zuulv3 style job that does not use\nthe deprecated devstack-gate project. This new test\njob runs backend tests at the moment with the container\ndriver. Scenario tests that include mounting shares to\ntenant VMs aren\'t yet enabled, and doing so is a TODO\nitem for the future.\n\nChange-Id: I65379ffcf06e9de111d69cd3b5bc4acc7af0547e\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,742796,6a026e72b4e4554d8aae7612f6a5034f5e40e060,8,2,2,16643,,,0,"Native Zuulv3 container scenario test job

Replace the ""manila-tempest-dsvm-container-scenario-custom-image""
job with a native Zuulv3 style job that does not use
the deprecated devstack-gate project. This new test
job runs backend tests at the moment with the container
driver. Scenario tests that include mounting shares to
tenant VMs aren't yet enabled, and doing so is a TODO
item for the future.

Change-Id: I65379ffcf06e9de111d69cd3b5bc4acc7af0547e
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-image-elements refs/changes/96/742796/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/manila-image-elements-jobs.yaml']",2,a88df07c2b9e3bcc3c73b64bca9b838fb1e15799,native-zuulv3-migration," name: manila-image-elements-container-scenario parent: manila-tempest-plugin-container pre-run: playbooks/manila-buildimage-docker/run.yaml required-projects: - openstack/manila-image-elements - openstack/manila - openstack/manila-tempest-plugin - openstack/python-manilaclient - openstack/tempest vars: tempest_test_regex: '(^manila_tempest_tests.tests)(?=.*\[.*\bbackend\b.*\])' devstack_localrc: MANILA_DOCKER_IMAGE_URL: ""file:///home/zuul/src/opendev.org/openstack/manila-image-elements/manila-docker-container.tar.gz"" - job:",,33,18
openstack%2Fmanila-image-elements~master~I3d2345e80f3bc18558d4cc6cc58108ff63119460,openstack/manila-image-elements,master,I3d2345e80f3bc18558d4cc6cc58108ff63119460,Native Zuulv3 scenario test job,MERGED,2020-07-23 05:55:43.000000000,2020-07-25 11:38:51.000000000,2020-07-25 11:38:51.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 05:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/ecf8b7e36461d9087fdf311ffae80f5bc7ac1077', 'message': 'DNM: Custom image job\n\nChange-Id: I3d2345e80f3bc18558d4cc6cc58108ff63119460\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2020-07-23 06:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/a0772374b08cc8a3d549e51bf7a590d654147ad6', 'message': 'DNM: Custom image job\n\nChange-Id: I3d2345e80f3bc18558d4cc6cc58108ff63119460\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2020-07-23 06:32:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/15984dd8106f493d6c5a0e6e407062b525bc7f42', 'message': 'DNM: Custom image job\n\nChange-Id: I3d2345e80f3bc18558d4cc6cc58108ff63119460\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 4, 'created': '2020-07-23 16:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/f4ced336d36773aeb33f21432fbcf036a34a6df3', 'message': 'DNM: Custom image job\n\nChange-Id: I3d2345e80f3bc18558d4cc6cc58108ff63119460\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 5, 'created': '2020-07-23 17:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/c901d66888603f2703e65895079ebb97edfd2b87', 'message': 'DNM: Custom image job\n\nChange-Id: I3d2345e80f3bc18558d4cc6cc58108ff63119460\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 6, 'created': '2020-07-23 17:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/75dd056445136cfc764f0b06b18054e811fc658d', 'message': 'DNM: Custom image job\n\nChange-Id: I3d2345e80f3bc18558d4cc6cc58108ff63119460\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 7, 'created': '2020-07-23 18:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/a5e69fcff086c3b9528721ea2f13187c66613104', 'message': 'DNM: Custom image job\n\nChange-Id: I3d2345e80f3bc18558d4cc6cc58108ff63119460\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 8, 'created': '2020-07-23 22:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/2caf5e7be5ef56aa661bb4767d1abd0e18262bf6', 'message': 'DNM: Custom image job\n\nChange-Id: I3d2345e80f3bc18558d4cc6cc58108ff63119460\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 9, 'created': '2020-07-23 23:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/dca5733e255d80ff5787bb69c6dce060b96c8162', 'message': 'DNM: Custom image job\n\nChange-Id: I3d2345e80f3bc18558d4cc6cc58108ff63119460\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 10, 'created': '2020-07-24 05:20:53.000000000', 'files': ['roles/build-mie-images/defaults/main.yml', '.gitignore', 'roles/build-mie-images/tasks/main.yml', 'roles/build-mie-images/README.rst', 'playbooks/manila-buildimages/run-generic-scenario.yaml', 'tools/run_bashate.sh', '.zuul.yaml', 'zuul.d/project.yaml', 'zuul.d/manila-image-elements-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-image-elements/commit/873527d74613d100afcffea6c4d53eb9139f7399', 'message': 'Native Zuulv3 scenario test job\n\nReplace the ""manila-tempest-dsvm-generic-scenario-custom-image""\njob with a native Zuulv3 style job that does not use\nthe deprecated devstack-gate project. This new test\njob runs integration NFS and CIFS tests against a newly\ncreated test image that is used as the service\ninstance image, as well as the client image.\n\nChange-Id: I3d2345e80f3bc18558d4cc6cc58108ff63119460\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",23,742592,873527d74613d100afcffea6c4d53eb9139f7399,21,2,10,16643,,,0,"Native Zuulv3 scenario test job

Replace the ""manila-tempest-dsvm-generic-scenario-custom-image""
job with a native Zuulv3 style job that does not use
the deprecated devstack-gate project. This new test
job runs integration NFS and CIFS tests against a newly
created test image that is used as the service
instance image, as well as the client image.

Change-Id: I3d2345e80f3bc18558d4cc6cc58108ff63119460
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-image-elements refs/changes/92/742592/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-mie-images/defaults/main.yml', 'roles/build-mie-images/README.rst', 'roles/build-mie-images/tasks/main.yml', 'playbooks/manila-buildimages/run-custom.yaml', '.zuul.yaml']",5,ecf8b7e36461d9087fdf311ffae80f5bc7ac1077,native-zuulv3-migration,,"- project: templates: - check-requirements - build-openstack-docs-pti - openstack-lower-constraints-jobs check: jobs: - openstack-tox-pep8 - manila-image-elements-buildimages - manila-image-elements-buildimage-docker: voting: false - manila-tempest-dsvm-container-scenario-custom-image: voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - manila-tempest-dsvm-generic-scenario-custom-image: voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ gate: jobs: - openstack-tox-pep8 - manila-image-elements-buildimages post: jobs: - manila-image-elements-publish-artifacts - job: name: manila-image-elements-buildimage-docker description: | Build docker image for the ""container"" manila back end. parent: unittests timeout: 1800 required-projects: - openstack/manila-image-elements run: playbooks/manila-buildimage-docker/run.yaml - job: name: manila-image-elements-buildimages description: | Build service image for the ""generic"" manila back end, and any other images specified in the role ""build-mie-images"" parent: unittests timeout: 1800 required-projects: - openstack/manila-image-elements run: playbooks/manila-buildimages/run.yaml - job: name: manila-image-elements-publish-artifacts description: | Build image artifacts and publish to tarballs.openstack.org parent: publish-openstack-artifacts timeout: 3600 final: true required-projects: - openstack/manila-image-elements run: playbooks/manila-buildimages/run.yaml post-run: playbooks/manila-publish-artifacts/post.yaml ",18,68
openstack%2Fopenstack-ansible-os_mistral~stable%2Fussuri~Idedaa4729e01cb787bd06af3dc3427113fc0bfe3,openstack/openstack-ansible-os_mistral,stable/ussuri,Idedaa4729e01cb787bd06af3dc3427113fc0bfe3,Add centos-8 support,MERGED,2020-07-24 16:31:13.000000000,2020-07-25 11:33:30.000000000,2020-07-25 11:32:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-07-24 16:31:13.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/1e7caea88de4d85a16e71eb58ffea4d5eb533440', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nChange-Id: Idedaa4729e01cb787bd06af3dc3427113fc0bfe3\n(cherry picked from commit 22701d0aebb467c6d81e91512463e0484d21cca2)\n'}]",0,742940,1e7caea88de4d85a16e71eb58ffea4d5eb533440,12,4,1,28619,,,0,"Add centos-8 support

Renaming redhat-7.yml to redhat.yml for centos-8 support.

Change-Id: Idedaa4729e01cb787bd06af3dc3427113fc0bfe3
(cherry picked from commit 22701d0aebb467c6d81e91512463e0484d21cca2)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/40/742940/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,1e7caea88de4d85a16e71eb58ffea4d5eb533440,osa/el8-stable/ussuri," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('systemd-python', 'python3-systemd') }}""", - systemd-python,1,1
openstack%2Ftrove~master~I000a4e90800454972dd39f2f82d286571bc0b96c,openstack/trove,master,I000a4e90800454972dd39f2f82d286571bc0b96c,Support online volume resize,MERGED,2020-07-23 02:30:59.000000000,2020-07-25 11:13:25.000000000,2020-07-25 11:12:17.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-23 02:30:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ee6fead9dc0a605f28f786c0954034efb864e808', 'message': 'Support online volume resize\n\nChange-Id: I000a4e90800454972dd39f2f82d286571bc0b96c\n'}, {'number': 2, 'created': '2020-07-24 02:08:06.000000000', 'files': ['trove/tests/fakes/guestagent.py', 'trove/common/clients_admin.py', 'trove/tests/unittests/taskmanager/test_models.py', 'trove/tests/unittests/common/test_notification.py', 'trove/guestagent/datastore/manager.py', 'trove/tests/api/instances_actions.py', 'trove/common/cfg.py', 'trove/common/notification.py', 'trove/taskmanager/models.py', 'trove/guestagent/api.py', 'releasenotes/notes/victoria-support-online-resize.yaml', 'trove/guestagent/volume.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/ba046b2a14459132ca10d30a1d2cc0a01126bb1d', 'message': 'Support online volume resize\n\nTrove now supports to resize volume without downtime. To use this\nfeature, the version of Nova and Cinder needs to be at least Pike, the\nconfig option ``cinder_service_type`` needs to be set to ``volumev3``.\nThe cloud admin can disable this feature by setting\n``online_volume_resize=False``, default is enabled.\n\nChange-Id: I000a4e90800454972dd39f2f82d286571bc0b96c\n'}]",2,742577,ba046b2a14459132ca10d30a1d2cc0a01126bb1d,11,3,2,6732,,,0,"Support online volume resize

Trove now supports to resize volume without downtime. To use this
feature, the version of Nova and Cinder needs to be at least Pike, the
config option ``cinder_service_type`` needs to be set to ``volumev3``.
The cloud admin can disable this feature by setting
``online_volume_resize=False``, default is enabled.

Change-Id: I000a4e90800454972dd39f2f82d286571bc0b96c
",git fetch https://review.opendev.org/openstack/trove refs/changes/77/742577/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/tests/unittests/common/test_notification.py', 'trove/common/cfg.py', 'trove/common/notification.py', 'trove/taskmanager/models.py', 'trove/common/clients_admin.py', 'releasenotes/notes/victoria-support-online-resize.yaml', 'trove/tests/unittests/taskmanager/test_models.py']",7,ee6fead9dc0a605f28f786c0954034efb864e808,online-resize-volume,"from trove.common import exception def test_resize_volume_verify_extend_no_volume(self): self.assertRaises(exception.TroveError,","from trove.common.notification import TroveInstanceModifyVolume @patch('trove.taskmanager.models.LOG') def test_resize_volume_verify_extend_no_volume(self, mock_logging): self.assertRaises(cinder_exceptions.ClientException, @patch.object(TroveInstanceModifyVolume, 'notify') self.assertEqual(1, self.instance.guest.stop_db.call_count) self.assertEqual(1, self.instance.guest.unmount_volume.call_count) detach_count = ( self.instance.nova_client.volumes.delete_server_volume.call_count) self.assertEqual(1, detach_count) attach_count = ( self.instance.nova_client.volumes.create_server_volume.call_count) self.assertEqual(1, attach_count) self.assertEqual(1, self.instance.guest.resize_fs.call_count) self.assertEqual(1, self.instance.guest.mount_volume.call_count) self.assertEqual(1, self.instance.restart.call_count)",70,110
openstack%2Foctavia~stable%2Ftrain~I670087163b265e7098af35063572d6aa9d068bb9,openstack/octavia,stable/train,I670087163b265e7098af35063572d6aa9d068bb9,Prioritize policy validation,MERGED,2020-07-20 15:51:45.000000000,2020-07-25 11:11:58.000000000,2020-07-25 11:10:41.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-07-20 15:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/52632c984cd9d583d027af26b5ff072015395946', 'message': 'Prioritize policy validation\n\nThis patch makes sure that we validate RBAC compliance before\nother validation tasks.\n\nChange-Id: I670087163b265e7098af35063572d6aa9d068bb9\n(cherry picked from commit 8394633635af1045131b1ba5eeeafea8aa98416b)\n'}, {'number': 2, 'created': '2020-07-20 16:23:05.000000000', 'files': ['octavia/api/v2/controllers/pool.py', 'octavia/api/v2/controllers/l7policy.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/api/v2/controllers/member.py', 'octavia/api/v2/controllers/health_monitor.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d9981d17765a2c9ab966434acfff9af71fe6e7aa', 'message': 'Prioritize policy validation\n\nThis patch makes sure that we validate RBAC compliance before\nother validation tasks.\n\nChange-Id: I670087163b265e7098af35063572d6aa9d068bb9\n(cherry picked from commit 8394633635af1045131b1ba5eeeafea8aa98416b)\n'}]",2,741974,d9981d17765a2c9ab966434acfff9af71fe6e7aa,14,4,2,11628,,,0,"Prioritize policy validation

This patch makes sure that we validate RBAC compliance before
other validation tasks.

Change-Id: I670087163b265e7098af35063572d6aa9d068bb9
(cherry picked from commit 8394633635af1045131b1ba5eeeafea8aa98416b)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/74/741974/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/v2/controllers/pool.py', 'octavia/api/v2/controllers/l7policy.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/api/v2/controllers/member.py', 'octavia/api/v2/controllers/health_monitor.py']",5,52632c984cd9d583d027af26b5ff072015395946,," self._auth_validate_action(context, health_monitor.project_id, consts.RBAC_POST) if (not CONF.api_settings.allow_ping_health_monitors and health_monitor.type == consts.HEALTH_MONITOR_PING): raise exceptions.DisabledOption( option='type', value=consts.HEALTH_MONITOR_PING) "," if (not CONF.api_settings.allow_ping_health_monitors and health_monitor.type == consts.HEALTH_MONITOR_PING): raise exceptions.DisabledOption( option='type', value=consts.HEALTH_MONITOR_PING) self._auth_validate_action(context, health_monitor.project_id, consts.RBAC_POST) ",65,59
openstack%2Foctavia~stable%2Fstein~I670087163b265e7098af35063572d6aa9d068bb9,openstack/octavia,stable/stein,I670087163b265e7098af35063572d6aa9d068bb9,Prioritize policy validation,MERGED,2020-07-20 15:52:07.000000000,2020-07-25 11:11:54.000000000,2020-07-25 11:10:42.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-07-20 15:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/501c102f1e88a4d4ebffc3069a14a9916ed4d452', 'message': 'Prioritize policy validation\n\nThis patch makes sure that we validate RBAC compliance before\nother validation tasks.\n\nChange-Id: I670087163b265e7098af35063572d6aa9d068bb9\n(cherry picked from commit 8394633635af1045131b1ba5eeeafea8aa98416b)\n'}, {'number': 2, 'created': '2020-07-20 16:26:15.000000000', 'files': ['octavia/api/v2/controllers/pool.py', 'octavia/api/v2/controllers/l7policy.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/api/v2/controllers/member.py', 'octavia/api/v2/controllers/health_monitor.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/fb1a594f5e8c0d314c5c0224fa987bee10662eca', 'message': 'Prioritize policy validation\n\nThis patch makes sure that we validate RBAC compliance before\nother validation tasks.\n\nChange-Id: I670087163b265e7098af35063572d6aa9d068bb9\n(cherry picked from commit 8394633635af1045131b1ba5eeeafea8aa98416b)\n'}]",2,741975,fb1a594f5e8c0d314c5c0224fa987bee10662eca,11,4,2,11628,,,0,"Prioritize policy validation

This patch makes sure that we validate RBAC compliance before
other validation tasks.

Change-Id: I670087163b265e7098af35063572d6aa9d068bb9
(cherry picked from commit 8394633635af1045131b1ba5eeeafea8aa98416b)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/75/741975/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/v2/controllers/pool.py', 'octavia/api/v2/controllers/l7policy.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/api/v2/controllers/member.py', 'octavia/api/v2/controllers/health_monitor.py']",5,501c102f1e88a4d4ebffc3069a14a9916ed4d452,," self._auth_validate_action(context, health_monitor.project_id, consts.RBAC_POST) if (not CONF.api_settings.allow_ping_health_monitors and health_monitor.type == consts.HEALTH_MONITOR_PING): raise exceptions.DisabledOption( option='type', value=consts.HEALTH_MONITOR_PING) "," if (not CONF.api_settings.allow_ping_health_monitors and health_monitor.type == consts.HEALTH_MONITOR_PING): raise exceptions.DisabledOption( option='type', value=consts.HEALTH_MONITOR_PING) self._auth_validate_action(context, health_monitor.project_id, consts.RBAC_POST) ",65,59
openstack%2Fmanila~stable%2Frocky~I2cbf959d7cb849d3ead1655b1a0932fd428a9e9f,openstack/manila,stable/rocky,I2cbf959d7cb849d3ead1655b1a0932fd428a9e9f,CIFS extension failing because of volume in use,MERGED,2020-07-01 16:45:03.000000000,2020-07-25 11:10:39.000000000,2020-07-25 00:29:54.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26768}]","[{'number': 1, 'created': '2020-07-01 16:45:03.000000000', 'files': ['manila/share/drivers/helpers.py', 'releasenotes/notes/bug-1703581-cifs-extension-failing-because-of-volume-in-use-3fea31c4a58e2f1b.yaml', 'manila/tests/share/drivers/test_helpers.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/a627a29e7225202475a8cdc927911b3cd80b487c', 'message': 'CIFS extension failing because of volume in use\n\nUnmouting of the volume from service instance sometimes fails because\nWindows clients tends to check the availability of shares even if not\nmounted and the volume is in use then.\n\nFix finds out processes via smbstatus and kill them before unmounting.\n\nCloses-Bug: 1703581\nChange-Id: I2cbf959d7cb849d3ead1655b1a0932fd428a9e9f\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 2c9fbc75059ac724cd845317473b7df4a8dcdc35)\n(cherry picked from commit 95d251e38b4b4526c862a428da93f568fe7a23ad)\n(cherry picked from commit b07c2484b6f0d5165d867651fbc123280e7b012d)\n(cherry picked from commit a26b027b73669efb2a99530574051d284595b264)\n'}]",0,738890,a627a29e7225202475a8cdc927911b3cd80b487c,13,6,1,16643,,,0,"CIFS extension failing because of volume in use

Unmouting of the volume from service instance sometimes fails because
Windows clients tends to check the availability of shares even if not
mounted and the volume is in use then.

Fix finds out processes via smbstatus and kill them before unmounting.

Closes-Bug: 1703581
Change-Id: I2cbf959d7cb849d3ead1655b1a0932fd428a9e9f
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 2c9fbc75059ac724cd845317473b7df4a8dcdc35)
(cherry picked from commit 95d251e38b4b4526c862a428da93f568fe7a23ad)
(cherry picked from commit b07c2484b6f0d5165d867651fbc123280e7b012d)
(cherry picked from commit a26b027b73669efb2a99530574051d284595b264)
",git fetch https://review.opendev.org/openstack/manila refs/changes/90/738890/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/helpers.py', 'releasenotes/notes/bug-1703581-cifs-extension-failing-because-of-volume-in-use-3fea31c4a58e2f1b.yaml', 'manila/tests/share/drivers/test_helpers.py']",3,a627a29e7225202475a8cdc927911b3cd80b487c,bug/1703581," kickoff_user_cmd = ['sudo', 'smbstatus', '-S'] self._helper._ssh_exec.assert_any_call( self.server_details, kickoff_user_cmd) self._helper._ssh_exec.assert_any_call( def test__kick_out_users_success(self): smbstatus_return = """"""Service pid machine Connected at ------------------------------------------------------- fake_share_name 1001 fake_machine1 Thu Sep 14 14:59:07 2017 fake_share_name 1002 fake_machine2 Thu Sep 14 14:59:07 2017 """""" self.mock_object(self._helper, '_ssh_exec', mock.Mock( side_effect=[(smbstatus_return, ""fake_stderr""), (""fake"", ""fake"")])) self._helper._kick_out_users(self.server_details, self.share_name) self._helper._ssh_exec.assert_any_call( self.server_details, ['sudo', 'smbstatus', '-S']) self._helper._ssh_exec.assert_any_call( self.server_details, [""sudo"", ""kill"", ""-15"", ""1001"", ""1002""]) def test__kick_out_users_failed(self): smbstatus_return = """"""Service pid machine Connected at ------------------------------------------------------- fake line """""" self.mock_object(self._helper, '_ssh_exec', mock.Mock( return_value=(smbstatus_return, ""fake_stderr""))) self.assertRaises(exception.ShareBackendException, self._helper._kick_out_users, self.server_details, self.share_name) ", self._helper._ssh_exec.assert_called_once_with(,57,1
openstack%2Fmanila~stable%2Frocky~Ibb1c15f997fa60e1ba5bfb7437502d8aa454d35f,openstack/manila,stable/rocky,Ibb1c15f997fa60e1ba5bfb7437502d8aa454d35f,Update NFS helper restart,MERGED,2020-07-22 10:29:01.000000000,2020-07-25 11:09:56.000000000,2020-07-25 00:36:44.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-07-22 10:29:01.000000000', 'files': ['manila/share/drivers/helpers.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/92ea44b393d1d69bcb671eaa0de5b8a21707f146', 'message': 'Update NFS helper restart\n\nBecause ``service`` commands are deprecated in favor of\n``systemctl` commands, the check to see if the service\ncommand succeeds in the NFS helper used by e.g. the\nlvm and generic back ends fails.  The string sought to\nindicate an error is never present.\n\nUpdate the helper to use ``systemctl`` commands instead\nand error check for them correctly.\n\nCloses-bug: #1887695\nChange-Id: Ibb1c15f997fa60e1ba5bfb7437502d8aa454d35f\n(cherry picked from commit 391ec7dffa701f54843b3aafdc6d2f8b4dfe0504)\n(cherry picked from commit eb0de241b395fdc309d3b13b1adac464316f3f10)\n(cherry picked from commit 0a3125439627da84bddfdf075b833f998f1935a7)\n(cherry picked from commit a2f21e25e8796311f395a1e83bac3e3a5769c038)\n'}]",0,742387,92ea44b393d1d69bcb671eaa0de5b8a21707f146,14,4,1,9003,,,0,"Update NFS helper restart

Because ``service`` commands are deprecated in favor of
``systemctl` commands, the check to see if the service
command succeeds in the NFS helper used by e.g. the
lvm and generic back ends fails.  The string sought to
indicate an error is never present.

Update the helper to use ``systemctl`` commands instead
and error check for them correctly.

Closes-bug: #1887695
Change-Id: Ibb1c15f997fa60e1ba5bfb7437502d8aa454d35f
(cherry picked from commit 391ec7dffa701f54843b3aafdc6d2f8b4dfe0504)
(cherry picked from commit eb0de241b395fdc309d3b13b1adac464316f3f10)
(cherry picked from commit 0a3125439627da84bddfdf075b833f998f1935a7)
(cherry picked from commit a2f21e25e8796311f395a1e83bac3e3a5769c038)
",git fetch https://review.opendev.org/openstack/manila refs/changes/87/742387/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/share/drivers/helpers.py'],1,92ea44b393d1d69bcb671eaa0de5b8a21707f146,bug/1887695," server, ['sudo', 'systemctl', 'is-active', 'nfs-kernel-server'], if ""inactive"" in out: server, ['sudo', 'systemctl', 'restart', 'nfs-kernel-server'])"," server, ['sudo', 'service', 'nfs-kernel-server', 'status'], if ""not"" in out: server, ['sudo', 'service', 'nfs-kernel-server', 'restart'])",4,3
openstack%2Fmanila~stable%2Frocky~If5fe32c155fe0861b3ed86b862335e062796056b,openstack/manila,stable/rocky,If5fe32c155fe0861b3ed86b862335e062796056b,Enforce policy checks getting share-type by name,MERGED,2020-07-21 11:18:59.000000000,2020-07-25 11:07:15.000000000,2020-07-25 00:29:55.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-07-21 11:18:59.000000000', 'files': ['manila/db/sqlalchemy/api.py', 'manila/api/v1/shares.py', 'releasenotes/notes/bug-1885956-enforce-policy-check-getting-share-type-by-name-5eca17b02bea5261.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/11971a94d3205b42ee9e2f7c9978b4bb979fdd71', 'message': ""Enforce policy checks getting share-type by name\n\nPolicy checks are skipped when looking up a share-type\nby name.  This causes share creation attempts that specify\na valid share-type to pass the early API check on share type\neven if the share type named is private and not shared with\nthe user's project.  The share creation fails later, but after\nthe database record for the share is created.  Although the\noperation fails with an ERROR, the share is stuck in CREATING\nstate.\n\nFix this issue by checking the user's project in the database\nAPI just as we do for share type lookups by uuid.\n\nCloses-bug: #1885956\nChange-Id: If5fe32c155fe0861b3ed86b862335e062796056b\n(cherry picked from commit f877deed5186cff3a7ecfbce2536e72fc6013895)\n(cherry picked from commit e02cc6d6bc92e354bc7f4220a05ec6fedf2ecc9c)\n(cherry picked from commit 2f2ed258f7c273543495b5476af2c3558d51384d)\n(cherry picked from commit 644cdf4e4ff965cb96b8cce5396042b6ac8abe7e)\n""}]",0,742123,11971a94d3205b42ee9e2f7c9978b4bb979fdd71,13,3,1,9003,,,0,"Enforce policy checks getting share-type by name

Policy checks are skipped when looking up a share-type
by name.  This causes share creation attempts that specify
a valid share-type to pass the early API check on share type
even if the share type named is private and not shared with
the user's project.  The share creation fails later, but after
the database record for the share is created.  Although the
operation fails with an ERROR, the share is stuck in CREATING
state.

Fix this issue by checking the user's project in the database
API just as we do for share type lookups by uuid.

Closes-bug: #1885956
Change-Id: If5fe32c155fe0861b3ed86b862335e062796056b
(cherry picked from commit f877deed5186cff3a7ecfbce2536e72fc6013895)
(cherry picked from commit e02cc6d6bc92e354bc7f4220a05ec6fedf2ecc9c)
(cherry picked from commit 2f2ed258f7c273543495b5476af2c3558d51384d)
(cherry picked from commit 644cdf4e4ff965cb96b8cce5396042b6ac8abe7e)
",git fetch https://review.opendev.org/openstack/manila refs/changes/23/742123/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/sqlalchemy/api.py', 'manila/api/v1/shares.py', 'releasenotes/notes/bug-1885956-enforce-policy-check-getting-share-type-by-name-5eca17b02bea5261.yaml']",3,11971a94d3205b42ee9e2f7c9978b4bb979fdd71,bug/1885956,--- fixes: - | Fixed `launchpad bug #1885956 <https://bugs.launchpad.net/manila/+bug/1885956>`_ by ensuring that policy checks are enforced when looking up a share-type by name. This prevents a problem where shares could be stuck in CREATING status when a user attempts to create a share using the name of a private share-type to which the user lacks access. ,,11,3
openstack%2Foctavia~stable%2Fussuri~I670087163b265e7098af35063572d6aa9d068bb9,openstack/octavia,stable/ussuri,I670087163b265e7098af35063572d6aa9d068bb9,Prioritize policy validation,MERGED,2020-07-20 15:25:06.000000000,2020-07-25 10:59:47.000000000,2020-07-25 10:58:12.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-07-20 15:25:06.000000000', 'files': ['octavia/api/v2/controllers/pool.py', 'octavia/api/v2/controllers/l7policy.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/api/v2/controllers/member.py', 'octavia/api/v2/controllers/health_monitor.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/274393fdd4f157d7c6121b0e2265831f9ff4ca2e', 'message': 'Prioritize policy validation\n\nThis patch makes sure that we validate RBAC compliance before\nother validation tasks.\n\nChange-Id: I670087163b265e7098af35063572d6aa9d068bb9\n(cherry picked from commit 8394633635af1045131b1ba5eeeafea8aa98416b)\n'}]",0,741967,274393fdd4f157d7c6121b0e2265831f9ff4ca2e,9,4,1,11628,,,0,"Prioritize policy validation

This patch makes sure that we validate RBAC compliance before
other validation tasks.

Change-Id: I670087163b265e7098af35063572d6aa9d068bb9
(cherry picked from commit 8394633635af1045131b1ba5eeeafea8aa98416b)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/67/741967/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/v2/controllers/pool.py', 'octavia/api/v2/controllers/l7policy.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/api/v2/controllers/member.py', 'octavia/api/v2/controllers/health_monitor.py']",5,274393fdd4f157d7c6121b0e2265831f9ff4ca2e,," self._auth_validate_action(context, health_monitor.project_id, consts.RBAC_POST) if (not CONF.api_settings.allow_ping_health_monitors and health_monitor.type == consts.HEALTH_MONITOR_PING): raise exceptions.DisabledOption( option='type', value=consts.HEALTH_MONITOR_PING) "," if (not CONF.api_settings.allow_ping_health_monitors and health_monitor.type == consts.HEALTH_MONITOR_PING): raise exceptions.DisabledOption( option='type', value=consts.HEALTH_MONITOR_PING) self._auth_validate_action(context, health_monitor.project_id, consts.RBAC_POST) ",63,56
openstack%2Fkolla-ansible~master~Ibc8314c91113618ce9e92b8933a63eba3cf3bbe1,openstack/kolla-ansible,master,Ibc8314c91113618ce9e92b8933a63eba3cf3bbe1,"Revert ""Remove the waiting for ironic-api to be accessible""",MERGED,2020-07-24 14:55:13.000000000,2020-07-25 09:59:24.000000000,2020-07-25 09:57:55.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-24 14:55:13.000000000', 'files': ['ansible/roles/ironic/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4a6050a3330afa50257dc588a8550425db0b8e94', 'message': 'Revert ""Remove the waiting for ironic-api to be accessible""\n\nThis reverts commit 8fc86893893685e828600e21ddba147b64f0adc3.\n\nIt appears that it is still necessary to wait for ironic to be up, otherwise inspector may fail to start:\n\nThe baremetal service for 192.0.2.10:None exists but does not have any supported versions.\n\nChange-Id: Ibc8314c91113618ce9e92b8933a63eba3cf3bbe1\n'}]",0,742903,4a6050a3330afa50257dc588a8550425db0b8e94,9,4,1,14826,,,0,"Revert ""Remove the waiting for ironic-api to be accessible""

This reverts commit 8fc86893893685e828600e21ddba147b64f0adc3.

It appears that it is still necessary to wait for ironic to be up, otherwise inspector may fail to start:

The baremetal service for 192.0.2.10:None exists but does not have any supported versions.

Change-Id: Ibc8314c91113618ce9e92b8933a63eba3cf3bbe1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/03/742903/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ironic/handlers/main.yml'],1,4a6050a3330afa50257dc588a8550425db0b8e94,,"# Due to a bug in the ironic client, ironic inspector fails to start if ironic # API is not accessible. https://storyboard.openstack.org/#!/story/2006393 # TODO(mgoddard): remove this task when # https://storyboard.openstack.org/#!/story/2006393 has been fixed. - name: Wait for ironic-api to be accessible become: true kolla_toolbox: module_name: uri module_args: url: ""{{ ironic_internal_endpoint }}"" register: result until: result is success retries: 12 delay: 5 listen: Restart ironic-api container when: - kolla_action != ""config"" run_once: True ",,19,0
openstack%2Fswift~master~I033f6fba4ddb3dd502dfd5393dd2e9a2115672e0,openstack/swift,master,I033f6fba4ddb3dd502dfd5393dd2e9a2115672e0,Treat add/remove/rebalance during part-power increase as error,MERGED,2020-07-24 00:00:28.000000000,2020-07-25 06:51:13.000000000,2020-07-25 06:48:04.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 00:00:28.000000000', 'files': ['swift/cli/ringbuilder.py', 'test/unit/cli/test_ringbuilder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/770cc287aa340b5cae0d8750a864b332beaf52ec', 'message': ""Treat add/remove/rebalance during part-power increase as error\n\nWe weren't actually willing to change anything; sure sounds like an\nerror to me.\n\nChange-Id: I033f6fba4ddb3dd502dfd5393dd2e9a2115672e0\n""}]",0,742768,770cc287aa340b5cae0d8750a864b332beaf52ec,21,3,1,15343,,,0,"Treat add/remove/rebalance during part-power increase as error

We weren't actually willing to change anything; sure sounds like an
error to me.

Change-Id: I033f6fba4ddb3dd502dfd5393dd2e9a2115672e0
",git fetch https://review.opendev.org/openstack/swift refs/changes/68/742768/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/ringbuilder.py', 'test/unit/cli/test_ringbuilder.py']",2,770cc287aa340b5cae0d8750a864b332beaf52ec,," self.assertSystemExit(EXIT_ERROR, ringbuilder.main, argv) self.assertSystemExit(EXIT_ERROR, ringbuilder.main, argv) self.assertSystemExit(EXIT_ERROR, ringbuilder.main, argv)"," self.assertSystemExit(EXIT_WARNING, ringbuilder.main, argv) self.assertSystemExit(EXIT_WARNING, ringbuilder.main, argv) self.assertSystemExit(EXIT_WARNING, ringbuilder.main, argv)",6,6
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I4298855fe71b1035df81d5ce9c3cef2e3c96dbb6,openstack/tripleo-heat-templates,stable/ussuri,I4298855fe71b1035df81d5ce9c3cef2e3c96dbb6,Use a single task for fact gathering,MERGED,2020-07-21 13:08:39.000000000,2020-07-25 05:33:21.000000000,2020-07-25 05:33:21.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-21 13:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0f5037561f755c71a9d554a5b1ed260ee189d031', 'message': ""Use a single task for fact gathering\n\nWe don't need to do different plays for fact gathering as we can simply\ninclude both the source/remote hosts in a single pattern.\n\nFor the record, this was added because we were using local connections\nfor the undercloud when running under mistral however this is no longer\nthe case. Additionally I believe we stopped doing that later as well but\nthis may not be able to be backported to run under mistral. Original\ncontext https://review.opendev.org/#/c/518323/\n\nChange-Id: I4298855fe71b1035df81d5ce9c3cef2e3c96dbb6\n(cherry picked from commit 27ec857cf2696a005eedb397207a0e78658b9989)\n""}, {'number': 2, 'created': '2020-07-24 19:14:49.000000000', 'files': ['common/deploy-steps-playbooks-common.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be1184b062462770c7aa7b7fe36824856f434dbc', 'message': ""Use a single task for fact gathering\n\nWe don't need to do different plays for fact gathering as we can simply\ninclude both the source/remote hosts in a single pattern.\n\nFor the record, this was added because we were using local connections\nfor the undercloud when running under mistral however this is no longer\nthe case. Additionally I believe we stopped doing that later as well but\nthis may not be able to be backported to run under mistral. Original\ncontext https://review.opendev.org/#/c/518323/\n\nChange-Id: I4298855fe71b1035df81d5ce9c3cef2e3c96dbb6\n(cherry picked from commit 27ec857cf2696a005eedb397207a0e78658b9989)\n""}]",0,742183,be1184b062462770c7aa7b7fe36824856f434dbc,10,3,2,3153,,,0,"Use a single task for fact gathering

We don't need to do different plays for fact gathering as we can simply
include both the source/remote hosts in a single pattern.

For the record, this was added because we were using local connections
for the undercloud when running under mistral however this is no longer
the case. Additionally I believe we stopped doing that later as well but
this may not be able to be backported to run under mistral. Original
context https://review.opendev.org/#/c/518323/

Change-Id: I4298855fe71b1035df81d5ce9c3cef2e3c96dbb6
(cherry picked from commit 27ec857cf2696a005eedb397207a0e78658b9989)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/742183/2 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-playbooks-common.yaml'],1,0f5037561f755c71a9d554a5b1ed260ee189d031,single,"- hosts: ""{{ deploy_source_host }}:{{ deploy_target_host }}"" name: Gather facts","- hosts: ""{{ deploy_source_host }}"" name: Gather facts from undercloud gather_facts: yes any_errors_fatal: true ignore_unreachable: false become: false tags: - facts - hosts: ""{{ deploy_target_host }}"" name: Gather facts from overcloud",2,11
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I43652972494a9ed1f2b8b483fe19e685cbe4da1b,openstack/tripleo-heat-templates,stable/ussuri,I43652972494a9ed1f2b8b483fe19e685cbe4da1b,Relax facts gathering plays on the overcloud,MERGED,2020-07-20 13:34:36.000000000,2020-07-25 05:33:19.000000000,2020-07-25 05:33:19.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-20 13:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ded218dc9be0eff1964dceae92fcb8eacf940529', 'message': ""Relax facts gathering plays on the overcloud\n\nTolerate failures on all the plays that run on the overcloud and which\npotentially run with facts gathering only (no other tasks).\n\nSince they can't apply a strategy, we want to let them fail without\nerror. In a later play, we have our tripleo strategies which will figure\nout if we have reached the maximum of failures that was configured with\nMaxFailPercentage.\n\nChange-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b\n(cherry picked from commit 107b9c4c903924784a9829a405bbdd05b3cb1931)\n""}, {'number': 2, 'created': '2020-07-24 19:14:43.000000000', 'files': ['common/deploy-steps-playbooks-common.yaml', 'common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a1443bb8271deb8b134c5cd6660ab85cf2f5ed39', 'message': ""Relax facts gathering plays on the overcloud\n\nTolerate failures on all the plays that run on the overcloud and which\npotentially run with facts gathering only (no other tasks).\n\nSince they can't apply a strategy, we want to let them fail without\nerror. In a later play, we have our tripleo strategies which will figure\nout if we have reached the maximum of failures that was configured with\nMaxFailPercentage.\n\nChange-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b\n(cherry picked from commit 107b9c4c903924784a9829a405bbdd05b3cb1931)\n""}]",0,741943,a1443bb8271deb8b134c5cd6660ab85cf2f5ed39,11,4,2,3153,,,0,"Relax facts gathering plays on the overcloud

Tolerate failures on all the plays that run on the overcloud and which
potentially run with facts gathering only (no other tasks).

Since they can't apply a strategy, we want to let them fail without
error. In a later play, we have our tripleo strategies which will figure
out if we have reached the maximum of failures that was configured with
MaxFailPercentage.

Change-Id: I43652972494a9ed1f2b8b483fe19e685cbe4da1b
(cherry picked from commit 107b9c4c903924784a9829a405bbdd05b3cb1931)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/741943/1 && git format-patch -1 --stdout FETCH_HEAD,"['common/deploy-steps-playbooks-common.yaml', 'common/deploy-steps.j2']",2,ded218dc9be0eff1964dceae92fcb8eacf940529,relax/ussuri,, scale_ignore_unreachable: true,16,6
openstack%2Frequirements~stable%2Fstein~I50aa83eb96586857c97ebe9451cb914c1d27194d,openstack/requirements,stable/stein,I50aa83eb96586857c97ebe9451cb914c1d27194d,update constraint for openstacksdk to new release 0.27.1,MERGED,2020-07-24 17:25:52.000000000,2020-07-25 05:23:22.000000000,2020-07-25 05:23:22.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 17:25:52.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/67e9c61698a4cd7b05eec02d9d03edbfc7707170', 'message': 'update constraint for openstacksdk to new release 0.27.1\n\nChange-Id: I50aa83eb96586857c97ebe9451cb914c1d27194d\nmeta:version: 0.27.1\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: I3be85b3e89ffa4668eb38848223b726007fb6adb\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>\n'}]",0,742949,67e9c61698a4cd7b05eec02d9d03edbfc7707170,15,3,1,11131,,,0,"update constraint for openstacksdk to new release 0.27.1

Change-Id: I50aa83eb96586857c97ebe9451cb914c1d27194d
meta:version: 0.27.1
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: I3be85b3e89ffa4668eb38848223b726007fb6adb
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Workflow+1: Hervé Beraud <hberaud@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/49/742949/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,67e9c61698a4cd7b05eec02d9d03edbfc7707170,new-release,openstacksdk===0.27.1,openstacksdk===0.27.0,1,1
openstack%2Fironic~stable%2Fussuri~Ifa81397519833201b737cff89f61178c8835e3ca,openstack/ironic,stable/ussuri,Ifa81397519833201b737cff89f61178c8835e3ca,Force RAX hosts to run tinyipa,MERGED,2020-07-24 17:31:02.000000000,2020-07-25 04:12:53.000000000,2020-07-25 00:52:54.000000000,"[{'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-24 17:31:02.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2a34baa6fdbe3802fbd3ca7cf3a57d8246081454', 'message': ""Force RAX hosts to run tinyipa\n\nThe CPU overhead of nested virtualization on rax hosts simply\nis too much for Ironic's CI to justify using full size IPA images.\n\nThe failure rate is simply too high. As a result, lets use TinyIPA\nimages when we are not building a ramdisk to reduce that failure rate.\n\nChange-Id: Ifa81397519833201b737cff89f61178c8835e3ca\n(cherry picked from commit 6dfc40913306e4e1712dce5c272ce05de4d355ac)\n""}]",0,742950,2a34baa6fdbe3802fbd3ca7cf3a57d8246081454,10,4,1,11655,,,0,"Force RAX hosts to run tinyipa

The CPU overhead of nested virtualization on rax hosts simply
is too much for Ironic's CI to justify using full size IPA images.

The failure rate is simply too high. As a result, lets use TinyIPA
images when we are not building a ramdisk to reduce that failure rate.

Change-Id: Ifa81397519833201b737cff89f61178c8835e3ca
(cherry picked from commit 6dfc40913306e4e1712dce5c272ce05de4d355ac)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/50/742950/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,2a34baa6fdbe3802fbd3ca7cf3a57d8246081454,,"# Prevent a case that will likely result in a failure. if [[ ""$hostdomain"" =~ ""rax"" ]]; then if [[ ""$IRONIC_RAMDISK_TYPE"" == ""dib"" ]] && [[ ""$IRONIC_BUILD_DEPLOY_RAMDISK"" == ""False"" ]]; then echo ""** WARNING ** - DIB based IPA images have been defined, however we are running devstack on RAX VM. Due to virtualization constraints, we are automatically falling back to TinyIPA to ensure CI job passage."" IRONIC_RAMDISK_TYPE=""tinyipa"" fi fi ",,8,0
openstack%2Ftripleo-common~stable%2Ftrain~I985ef22c340c4071866c8c51bf303a6f4ee7713c,openstack/tripleo-common,stable/train,I985ef22c340c4071866c8c51bf303a6f4ee7713c,Don't assume default tag exists in container repo,MERGED,2020-07-17 11:52:41.000000000,2020-07-25 04:08:40.000000000,2020-07-25 04:07:25.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-17 11:52:41.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'container-images/container_image_prepare_defaults.yaml', 'tripleo_common/image/kolla_builder.py', 'releasenotes/notes/check_for_default_tag-09fe34d2ac434890.yaml', 'tripleo_common/image/image_uploader.py', 'tripleo_common/tests/image/test_kolla_builder.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/589ac8ac0d5a14ce4aa831892d3b0a4a31e29674', 'message': ""Don't assume default tag exists in container repo\n\nWhen no tag is set for an entry in ContainerImagePrepare, the default\ntag from container-images/container_image_prepare_defaults.yaml will be\nassumed, which is typically current-tripleo, or a release version such\nas 16.0.\n\nIn most cases, this tag will exist. However, when using a satellite with\na content view that has been filtered on tags, it likely won't exist\nsince content views are often used with container image versions that\nare not the latest.\n\nIn the case where no tag is set in the entry in ContainerImagePrepare,\nand the default tag does not exist in the container repo, the latest tag\nfrom the repo will be assumed instead.\n\nChange-Id: I985ef22c340c4071866c8c51bf303a6f4ee7713c\nCloses-Bug: #1886547\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit 0c4de9c771fad75ebabe2d18f5aef4b76613d52a)\n(cherry picked from commit ec65b686c38f696ac2aefc9d7dc9376f5637aa1d)\n""}]",0,741622,589ac8ac0d5a14ce4aa831892d3b0a4a31e29674,29,4,1,7144,,,0,"Don't assume default tag exists in container repo

When no tag is set for an entry in ContainerImagePrepare, the default
tag from container-images/container_image_prepare_defaults.yaml will be
assumed, which is typically current-tripleo, or a release version such
as 16.0.

In most cases, this tag will exist. However, when using a satellite with
a content view that has been filtered on tags, it likely won't exist
since content views are often used with container image versions that
are not the latest.

In the case where no tag is set in the entry in ContainerImagePrepare,
and the default tag does not exist in the container repo, the latest tag
from the repo will be assumed instead.

Change-Id: I985ef22c340c4071866c8c51bf303a6f4ee7713c
Closes-Bug: #1886547
Signed-off-by: James Slagle <jslagle@redhat.com>
(cherry picked from commit 0c4de9c771fad75ebabe2d18f5aef4b76613d52a)
(cherry picked from commit ec65b686c38f696ac2aefc9d7dc9376f5637aa1d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/22/741622/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/kolla_builder.py', 'releasenotes/notes/check_for_default_tag-09fe34d2ac434890.yaml', 'tripleo_common/image/image_uploader.py', 'tripleo_common/tests/image/test_kolla_builder.py']",6,589ac8ac0d5a14ce4aa831892d3b0a4a31e29674,," 'default_tag': True, 'default_tag': False,",,56,32
openstack%2Ftripleo-quickstart~master~Iea8f2f361013cadb048efaf3174fd18f0ecbc87c,openstack/tripleo-quickstart,master,Iea8f2f361013cadb048efaf3174fd18f0ecbc87c,Remove verbose log output,MERGED,2020-07-23 02:08:57.000000000,2020-07-25 04:08:34.000000000,2020-07-25 04:07:24.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-23 02:08:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/304773516d93218e57f577ace5414030711cd460', 'message': 'Remove verbose log output\n\nThe overcloud deploy logs are now larger than than\nthe should be. Remove the verbose output to\nreduce the log size.\n\nChange-Id: Iea8f2f361013cadb048efaf3174fd18f0ecbc87c\nDepends-On: https://review.opendev.org/#/c/742517/\n'}, {'number': 2, 'created': '2020-07-24 20:09:55.000000000', 'files': ['config/general_config/featureset010.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c19342bc2196dec6620fbe20d832cfe74f69c6db', 'message': 'Remove verbose log output\n\nThe overcloud deploy logs are now larger than than\nthe should be. Remove the verbose output to\nreduce the log size.\n\nChange-Id: Iea8f2f361013cadb048efaf3174fd18f0ecbc87c\nDepends-On: https://review.opendev.org/#/c/742517/\n'}]",0,742575,c19342bc2196dec6620fbe20d832cfe74f69c6db,15,5,2,9976,,,0,"Remove verbose log output

The overcloud deploy logs are now larger than than
the should be. Remove the verbose output to
reduce the log size.

Change-Id: Iea8f2f361013cadb048efaf3174fd18f0ecbc87c
Depends-On: https://review.opendev.org/#/c/742517/
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/75/742575/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset010.yml'],1,304773516d93218e57f577ace5414030711cd460,stdout,, --verbose,0,1
openstack%2Ftripleo-validations~master~I8b8f2a17a4963af46dd2c5407fb089414a804247,openstack/tripleo-validations,master,I8b8f2a17a4963af46dd2c5407fb089414a804247,Add a validation to check the local.,MERGED,2020-04-29 09:41:08.000000000,2020-07-25 03:38:21.000000000,2020-07-25 03:36:31.000000000,"[{'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 25877}, {'_account_id': 28223}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-04-29 09:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/34551a61d197f78ca789d10d760916e6c13c4e90', 'message': 'New validation: ensures we have proper LANG value on the system\n\nChange-Id: I8b8f2a17a4963af46dd2c5407fb089414a804247\n'}, {'number': 2, 'created': '2020-04-30 08:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/db2e2aede7612346090808cecfd44d0d519955d2', 'message': 'New validation: ensures we have proper LANG value on the system\n\nChange-Id: I8b8f2a17a4963af46dd2c5407fb089414a804247\n'}, {'number': 3, 'created': '2020-05-05 07:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/62908cf644a638de2ae6f3826254f86eaa11b32b', 'message': 'New validation: ensures we have proper LANG value on the system\n\nChange-Id: I8b8f2a17a4963af46dd2c5407fb089414a804247\n'}, {'number': 4, 'created': '2020-05-07 08:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/16cbda3eb2705b1afb06841163d07b311914c8b0', 'message': 'New validation: ensures we have proper LANG value on the system\n\nChange-Id: I8b8f2a17a4963af46dd2c5407fb089414a804247\n'}, {'number': 5, 'created': '2020-05-12 08:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/218b4b6e900ca686d35473ca220b33a7e214888d', 'message': 'New validation: ensures we have proper LANG value on the system\n\nChange-Id: I8b8f2a17a4963af46dd2c5407fb089414a804247\n'}, {'number': 6, 'created': '2020-05-13 07:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/573f2ba11ef12de5b014c4c239ff6d37a3bfcbbc', 'message': 'New validation: ensures we have proper LANG value on the system\n\nChange-Id: I8b8f2a17a4963af46dd2c5407fb089414a804247\n'}, {'number': 7, 'created': '2020-05-14 07:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3c5e1d85da67a4b40e27226063de2bd0f236be87', 'message': 'New validation: ensures we have proper LANG value on the system\n\nChange-Id: I8b8f2a17a4963af46dd2c5407fb089414a804247\n'}, {'number': 8, 'created': '2020-05-15 09:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e6b655e3ca06b648613bda65296a09221d763120', 'message': 'New validation: ensures we have proper LANG value on the system\n\nChange-Id: I8b8f2a17a4963af46dd2c5407fb089414a804247\n'}, {'number': 9, 'created': '2020-05-20 09:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7e5dcefb34fd7a93d2f6711abd02b2cf57773804', 'message': 'New validation: ensures we have proper LANG value on the system\n\nChange-Id: I8b8f2a17a4963af46dd2c5407fb089414a804247\n'}, {'number': 10, 'created': '2020-05-28 12:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bbb73b0d6e16215854bf07162bccd148415c61cf', 'message': 'New validation: ensures we have proper LANG value on the system\n\nChange-Id: I8b8f2a17a4963af46dd2c5407fb089414a804247\n'}, {'number': 11, 'created': '2020-06-05 08:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b31e8e23fe56e0da4a40aa42ca05e29d395af598', 'message': 'New validation: ensures we have proper LANG value on the system\n\nChange-Id: I8b8f2a17a4963af46dd2c5407fb089414a804247\n'}, {'number': 12, 'created': '2020-06-18 13:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/429f03ba562672400add786fe6e77f6a03ce97aa', 'message': 'New validation: ensures we have proper LANG value on the system\n\nChange-Id: I8b8f2a17a4963af46dd2c5407fb089414a804247\n'}, {'number': 13, 'created': '2020-06-23 13:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f04d9df0d6a54208b6b4c1723d7cc7fab804e9f2', 'message': ""Add a validation to check the local.\n\nI don't know how to explain how it happens, but we have had several\ncustomers case[1], for example, different local for writing to the database\nand reading. What causes an error during minor update, the keystone\nclient calls the command to list the openstack projects. So we have a\npython unicode error. For rabbitmq we force the utf-8 local, so we\ndecided that we assume that we must be in utf-8 everywhere. Add this\nvalidation to ensure the local system is configure with the good local.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1824513\n\nChange-Id: I8b8f2a17a4963af46dd2c5407fb089414a804247\n""}, {'number': 14, 'created': '2020-07-22 06:54:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2065591752d12f1f08eec2bae8815ff5f2e5f432', 'message': ""Add a validation to check the local.\n\nI don't know how to explain how it happens, but we have had several\ncustomers case[1], for example, different local for writing to the database\nand reading. What causes an error during minor update, the keystone\nclient calls the command to list the openstack projects. So we have a\npython unicode error. For rabbitmq we force the utf-8 local, so we\ndecided that we assume that we must be in utf-8 everywhere. Add this\nvalidation to ensure the local system is configure with the good local.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1824513\n\nChange-Id: I8b8f2a17a4963af46dd2c5407fb089414a804247\n""}, {'number': 15, 'created': '2020-07-23 09:12:27.000000000', 'files': ['roles/system_encoding/tasks/main.yml', 'zuul.d/molecule.yaml', 'doc/source/roles/role-system_encoding.rst', 'roles/system_encoding/molecule/default/converge.yml', 'roles/system_encoding/defaults/main.yml', 'roles/system_encoding/molecule/default/molecule.yml', 'roles/system_encoding/molecule/default/Dockerfile', 'playbooks/system_encoding.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6521f1b81adf9502bc2ab10fa72fd75b20348037', 'message': ""Add a validation to check the local.\n\nI don't know how to explain how it happens, but we have had several\ncustomers case[1], for example, different local for writing to the database\nand reading. What causes an error during minor update, the keystone\nclient calls the command to list the openstack projects. So we have a\npython unicode error. For rabbitmq we force the utf-8 local, so we\ndecided that we assume that we must be in utf-8 everywhere. Add this\nvalidation to ensure the local system is configure with the good local.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1824513\n\nChange-Id: I8b8f2a17a4963af46dd2c5407fb089414a804247\n""}]",11,724269,6521f1b81adf9502bc2ab10fa72fd75b20348037,62,10,15,31245,,,0,"Add a validation to check the local.

I don't know how to explain how it happens, but we have had several
customers case[1], for example, different local for writing to the database
and reading. What causes an error during minor update, the keystone
client calls the command to list the openstack projects. So we have a
python unicode error. For rabbitmq we force the utf-8 local, so we
decided that we assume that we must be in utf-8 everywhere. Add this
validation to ensure the local system is configure with the good local.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1824513

Change-Id: I8b8f2a17a4963af46dd2c5407fb089414a804247
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/69/724269/10 && git format-patch -1 --stdout FETCH_HEAD,"['roles/system_encoding/tasks/main.yml', 'zuul.d/molecule.yaml', 'doc/source/roles/role-system_encoding.rst', 'roles/system_encoding/molecule/default/converge.yml', 'roles/system_encoding/defaults/main.yml', 'roles/system_encoding/molecule/default/verify.yml', 'roles/system_encoding/molecule/default/molecule.yml', 'playbooks/system_encoding.yaml', 'roles/system_encoding/molecule/default/Dockerfile']",9,34551a61d197f78ca789d10d760916e6c13c4e90,system_encoding-patch6,"# Molecule managed # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. {% if item.registry is defined %} FROM {{ item.registry.url }}/{{ item.image }} {% else %} FROM {{ item.image }} {% endif %} RUN if [ $(command -v apt-get) ]; then apt-get update && apt-get install -y python sudo bash ca-certificates && apt-get clean; \ elif [ $(command -v dnf) ]; then dnf makecache && dnf --assumeyes install sudo python*-devel python*-dnf bash {{ item.pkg_extras | default('') }} && dnf clean all; \ elif [ $(command -v yum) ]; then yum makecache fast && yum install -y python sudo yum-plugin-ovl python-setuptools bash {{ item.pkg_extras | default('') }} && sed -i 's/plugins=0/plugins=1/g' /etc/yum.conf && yum clean all; \ elif [ $(command -v zypper) ]; then zypper refresh && zypper install -y python sudo bash python-xml {{ item.pkg_extras | default('') }} && zypper clean -a; \ elif [ $(command -v apk) ]; then apk update && apk add --no-cache python sudo bash ca-certificates {{ item.pkg_extras | default('') }}; \ elif [ $(command -v xbps-install) ]; then xbps-install -Syu && xbps-install -y python sudo bash ca-certificates {{ item.pkg_extras | default('') }} && xbps-remove -O; fi {% for pkg in item.easy_install | default([]) %} # install pip for centos where there is no python-pip rpm in default repos RUN easy_install {{ pkg }} {% endfor %} CMD [""sh"", ""-c"", ""while true; do sleep 10000; done""]",,237,4
openstack%2Fos-brick~stable%2Fpike~Ie2db587c3bc379acd53cfd449788d171ae58dec5,openstack/os-brick,stable/pike,Ie2db587c3bc379acd53cfd449788d171ae58dec5,"Fix ""Remove VxFlex OS credentials"" regression",MERGED,2020-07-09 14:54:49.000000000,2020-07-25 02:33:26.000000000,2020-07-24 23:36:58.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 31039}]","[{'number': 1, 'created': '2020-07-09 14:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/39c0f9d8bd168bac912a388ba1a7df80662f1307', 'message': 'Fix ""Remove VxFlex OS credentials"" regression\n\nChange Ib7778ba9d38a68d8b56ca632c5f1c353d55830b0 uses a ConfigParser\ninstance in a way that is incompatible with python 2.7, resulting in\na ""ConfigParser instance has no attribute \'__getitem__\'"" error.  This\npatch accesses the ConfigParser using the ""old"" API that works in both\nPython 2.7 and Python 3 and adds some tests.\n\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: Ie2db587c3bc379acd53cfd449788d171ae58dec5\nCloses-Bug: 1883654\n(cherry picked from commit 12d252db9cb9deffea3c87b86ea71b3013d93892)\n(cherry picked from commit 750999db0de0fcfc923cd453add808ca42a4e2b4)\nConflicts:\n- remove os_brick/privileged/scaleio.py (function with bug is in the\n  connector in this branch)\n- move the test file to tests/initiator/connectors/\n- modify the unit tests because the config file is accessed differently\n  in this branch\n(cherry picked from commit 867767ffdae124fcdb9b04a9089e226689c476d7)\n(cherry picked from commit f4019f7831e5366f7e5e40e9715f3bd981f2b7df)\n'}, {'number': 2, 'created': '2020-07-24 16:05:59.000000000', 'files': ['releasenotes/notes/bug-1883654-cc069892496bd4a8.yaml', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/connectors/test_scaleio_get_password.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/1e56b950e2984a6829f5e7cced28ab5e82d28d4b', 'message': 'Fix ""Remove VxFlex OS credentials"" regression\n\nChange Ib7778ba9d38a68d8b56ca632c5f1c353d55830b0 uses a ConfigParser\ninstance in a way that is incompatible with python 2.7, resulting in\na ""ConfigParser instance has no attribute \'__getitem__\'"" error.  This\npatch accesses the ConfigParser using the ""old"" API that works in both\nPython 2.7 and Python 3 and adds some tests.\n\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: Ie2db587c3bc379acd53cfd449788d171ae58dec5\nCloses-Bug: 1883654\n(cherry picked from commit 12d252db9cb9deffea3c87b86ea71b3013d93892)\n(cherry picked from commit 750999db0de0fcfc923cd453add808ca42a4e2b4)\nConflicts:\n- remove os_brick/privileged/scaleio.py (function with bug is in the\n  connector in this branch)\n- move the test file to tests/initiator/connectors/\n- modify the unit tests because the config file is accessed differently\n  in this branch\n(cherry picked from commit 867767ffdae124fcdb9b04a9089e226689c476d7)\n(cherry picked from commit f4019f7831e5366f7e5e40e9715f3bd981f2b7df)\n'}]",4,740318,1e56b950e2984a6829f5e7cced28ab5e82d28d4b,32,11,2,14892,,,0,"Fix ""Remove VxFlex OS credentials"" regression

Change Ib7778ba9d38a68d8b56ca632c5f1c353d55830b0 uses a ConfigParser
instance in a way that is incompatible with python 2.7, resulting in
a ""ConfigParser instance has no attribute '__getitem__'"" error.  This
patch accesses the ConfigParser using the ""old"" API that works in both
Python 2.7 and Python 3 and adds some tests.

Co-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>

Change-Id: Ie2db587c3bc379acd53cfd449788d171ae58dec5
Closes-Bug: 1883654
(cherry picked from commit 12d252db9cb9deffea3c87b86ea71b3013d93892)
(cherry picked from commit 750999db0de0fcfc923cd453add808ca42a4e2b4)
Conflicts:
- remove os_brick/privileged/scaleio.py (function with bug is in the
  connector in this branch)
- move the test file to tests/initiator/connectors/
- modify the unit tests because the config file is accessed differently
  in this branch
(cherry picked from commit 867767ffdae124fcdb9b04a9089e226689c476d7)
(cherry picked from commit f4019f7831e5366f7e5e40e9715f3bd981f2b7df)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/18/740318/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1883654-cc069892496bd4a8.yaml', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/connectors/test_scaleio_get_password.py']",3,39c0f9d8bd168bac912a388ba1a7df80662f1307,bug/1823200,"# Copyright 2020, Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock import os from os_brick import exception from os_brick.initiator.connectors import scaleio from os_brick.tests import base EXPECTED_SECTION = ""scalio_test"" EXPECTED_PASSWORD = ""This is not a good password"" FAKE_CONF = """""" [DEFAULT] san_password = not me [{}] san_password = {} [section_2] san_password = not me either """""".format(EXPECTED_SECTION, EXPECTED_PASSWORD) class ScaleioGetPasswordTestCase(base.TestCase): """"""Check the get_connector_password function. Launchpad bug #1883654: a change that worked fine in the python 3-only branches broke when run under py2.7 in the stable branches. """""" def setUp(self): super(ScaleioGetPasswordTestCase, self).setUp() # The actual ScaleIO connector self.connector = scaleio.ScaleIOConnector('sudo') @mock.patch.object(os.path, 'isfile', return_value=False) def test_get_connector_password_bad_filename(self, mock_isfile): self.assertRaises(exception.BrickException, self.connector._get_connector_password, EXPECTED_SECTION) @mock.patch.object(scaleio.ScaleIOConnector, '_execute') @mock.patch.object(os.path, 'isfile', return_value=True) def test_get_connector_password(self, mock_isfile, mock_execute): mock_execute.return_value = (FAKE_CONF, 0) found_password = self.connector._get_connector_password( EXPECTED_SECTION) self.assertEqual(EXPECTED_PASSWORD, found_password) ",,116,0
openstack%2Frequirements~stable%2Fussuri~Iabf57668d9d105ac71dc1c5a76ba71bd2b081844,openstack/requirements,stable/ussuri,Iabf57668d9d105ac71dc1c5a76ba71bd2b081844,update constraint for tripleo-common to new release 12.4.1,MERGED,2020-07-24 18:57:03.000000000,2020-07-25 01:53:40.000000000,2020-07-25 01:53:40.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 18:57:03.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b4a237b97c4fcd2dbdf77e84ba9922addcdfeae3', 'message': 'update constraint for tripleo-common to new release 12.4.1\n\nChange-Id: Iabf57668d9d105ac71dc1c5a76ba71bd2b081844\nmeta:version: 12.4.1\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Wes Hayutin <weshayutin@gmail.com>\nmeta:release:Commit: wes hayutin <whayutin@redhat.com>\nmeta:release:Change-Id: I79f061f57f04c155cf99ba80d8d96c935521e75d\nmeta:release:Code-Review+1: yatin <ykarel@redhat.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,742972,b4a237b97c4fcd2dbdf77e84ba9922addcdfeae3,8,3,1,11131,,,0,"update constraint for tripleo-common to new release 12.4.1

Change-Id: Iabf57668d9d105ac71dc1c5a76ba71bd2b081844
meta:version: 12.4.1
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Wes Hayutin <weshayutin@gmail.com>
meta:release:Commit: wes hayutin <whayutin@redhat.com>
meta:release:Change-Id: I79f061f57f04c155cf99ba80d8d96c935521e75d
meta:release:Code-Review+1: yatin <ykarel@redhat.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/72/742972/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b4a237b97c4fcd2dbdf77e84ba9922addcdfeae3,new-release,tripleo-common===12.4.1,tripleo-common===12.4.0,1,1
openstack%2Ftripleo-ansible~stable%2Fussuri~Ie7234bf113204e8cf847257554b88b899b45d5ee,openstack/tripleo-ansible,stable/ussuri,Ie7234bf113204e8cf847257554b88b899b45d5ee,Use ansible_user only if ANSIBLE_REMOTE_USER is unset,MERGED,2020-07-22 12:09:07.000000000,2020-07-25 01:31:12.000000000,2020-07-25 01:31:12.000000000,"[{'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-07-22 12:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3943239949348269f85f7e30ef8eec2d3690c6d4', 'message': 'Use ansible_user only if ANSIBLE_REMOTE_USER is unset\n\nIn a non-standalone deployment config-download is called\nwith the ANSIBLE_REMOTE_USER defined. This variable is\nundefined when using standalone, which is what caused the\nrelated bug. Unfortunately the fix for the related bug\nintroduced the bug this patch closes. This patch should\nwork for both non-standalone and standalone deployments.\n\nChange-Id: Ie7234bf113204e8cf847257554b88b899b45d5ee\nRelated-Bug: #1886497\nCloses-Bug: #1887708\n'}, {'number': 2, 'created': '2020-07-22 12:12:32.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/create_ceph_ansible_remote_tmp.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f114ce08e290d23f709a0d9b56c5b9084949dd3e', 'message': 'Use ansible_user only if ANSIBLE_REMOTE_USER is unset\n\nIn a non-standalone deployment config-download is called\nwith the ANSIBLE_REMOTE_USER defined. This variable is\nundefined when using standalone, which is what caused the\nrelated bug. Unfortunately the fix for the related bug\nintroduced the bug this patch closes. This patch should\nwork for both non-standalone and standalone deployments.\n\nChange-Id: Ie7234bf113204e8cf847257554b88b899b45d5ee\nRelated-Bug: #1886497\nCloses-Bug: #1887708\n(cherry picked from commit 67c4a4f58e9b8af07c277b1f6c20fa7af116eaf7)\n'}]",0,742405,f114ce08e290d23f709a0d9b56c5b9084949dd3e,19,6,2,18002,,,0,"Use ansible_user only if ANSIBLE_REMOTE_USER is unset

In a non-standalone deployment config-download is called
with the ANSIBLE_REMOTE_USER defined. This variable is
undefined when using standalone, which is what caused the
related bug. Unfortunately the fix for the related bug
introduced the bug this patch closes. This patch should
work for both non-standalone and standalone deployments.

Change-Id: Ie7234bf113204e8cf847257554b88b899b45d5ee
Related-Bug: #1886497
Closes-Bug: #1887708
(cherry picked from commit 67c4a4f58e9b8af07c277b1f6c20fa7af116eaf7)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/05/742405/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/create_ceph_ansible_remote_tmp.yml'],1,3943239949348269f85f7e30ef8eec2d3690c6d4,bug/1887708," owner: ""{{ lookup('env','ANSIBLE_REMOTE_USER') | default(ansible_user, true) }}"" group: ""{{ lookup('env','ANSIBLE_REMOTE_USER') | default(ansible_user, true) }}"""," owner: ""{{ ansible_user | default('tripleo-admin', true) }}"" group: ""{{ ansible_user | default('tripleo-admin', true) }}""",2,2
openstack%2Frequirements~master~I853faa5112d0a14e53fa828c6409906efce94445,openstack/requirements,master,I853faa5112d0a14e53fa828c6409906efce94445,update constraint for ironic-lib to new release 4.3.1,MERGED,2020-07-24 18:43:37.000000000,2020-07-25 01:10:14.000000000,2020-07-25 01:09:08.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 18:43:37.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/de8bb104fb0cfd9503e70ad2a986cf0d54833031', 'message': 'update constraint for ironic-lib to new release 4.3.1\n\nChange-Id: I853faa5112d0a14e53fa828c6409906efce94445\nmeta:version: 4.3.1\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Iury Gregory Melo Ferreira <imelofer@redhat.com>\nmeta:release:Commit: Iury Gregory Melo Ferreira <imelofer@redhat.com>\nmeta:release:Change-Id: Ia7fee655613759169a43bdd9f0a54dfca8860a3c\nmeta:release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+1: Mark Goddard <mark@stackhpc.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,742964,de8bb104fb0cfd9503e70ad2a986cf0d54833031,11,3,1,11131,,,0,"update constraint for ironic-lib to new release 4.3.1

Change-Id: I853faa5112d0a14e53fa828c6409906efce94445
meta:version: 4.3.1
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Iury Gregory Melo Ferreira <imelofer@redhat.com>
meta:release:Commit: Iury Gregory Melo Ferreira <imelofer@redhat.com>
meta:release:Change-Id: Ia7fee655613759169a43bdd9f0a54dfca8860a3c
meta:release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+1: Mark Goddard <mark@stackhpc.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/64/742964/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,de8bb104fb0cfd9503e70ad2a986cf0d54833031,new-release,ironic-lib===4.3.1,ironic-lib===4.3.0,1,1
openstack%2Fneutron~master~I5e98297acefb62f9a9c1200ccfaac0672eeeed2c,openstack/neutron,master,I5e98297acefb62f9a9c1200ccfaac0672eeeed2c,[OVN] Extra DHCP options validation: Log invalid options,MERGED,2020-07-23 12:11:05.000000000,2020-07-25 00:58:41.000000000,2020-07-25 00:56:35.000000000,"[{'_account_id': 6773}, {'_account_id': 9845}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-23 12:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/634e3d8210570d11531fc46a336693699f5c1c45', 'message': '[OVN] Extra DHCP options validation: Log invalid options\n\nBy raising an exception when an option is invalid we broke the Ironic +\nOVN + Neutron DHCP agent combination that enabled deploying baremetal\nmachines.\n\nThis patch is changing the approach to just log the invalid options\ninstead of failing the request so that the OVN driver can still be used\nwith Ironic.\n\nChange-Id: I5e98297acefb62f9a9c1200ccfaac0672eeeed2c\nCloses-Bug: #1888649\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-07-23 13:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0420ae551fe16a4cd139e9a5c8ac357f49e952f1', 'message': '[OVN] Extra DHCP options validation: Log invalid options\n\nBy raising an exception when an option is invalid we broke the Ironic +\nOVN + Neutron DHCP agent combination that enabled deploying baremetal\nmachines.\n\nThis patch is changing the approach to just log the invalid options\ninstead of failing the request so that the OVN driver can still be used\nwith Ironic.\n\nChange-Id: I5e98297acefb62f9a9c1200ccfaac0672eeeed2c\nCloses-Bug: #1888649\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2020-07-24 09:30:38.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8c4b23f8128fa396164293d74837fa3b391e9974', 'message': '[OVN] Extra DHCP options validation: Log invalid options\n\nBy raising an exception when an option is invalid we broke the Ironic +\nOVN + Neutron DHCP agent combination that enabled deploying baremetal\nmachines.\n\nThis patch is changing the approach to just log the invalid options\ninstead of failing the request so that the OVN driver can still be used\nwith Ironic.\n\nChange-Id: I5e98297acefb62f9a9c1200ccfaac0672eeeed2c\nCloses-Bug: #1888649\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",2,742654,8c4b23f8128fa396164293d74837fa3b391e9974,32,7,3,6773,,,0,"[OVN] Extra DHCP options validation: Log invalid options

By raising an exception when an option is invalid we broke the Ironic +
OVN + Neutron DHCP agent combination that enabled deploying baremetal
machines.

This patch is changing the approach to just log the invalid options
instead of failing the request so that the OVN driver can still be used
with Ironic.

Change-Id: I5e98297acefb62f9a9c1200ccfaac0672eeeed2c
Closes-Bug: #1888649
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/742654/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",2,634e3d8210570d11531fc46a336693699f5c1c45,bug/1888649-exta-dhcp-log," LOG.error('The following extra DHCP options for port %(port_id)s ' 'are not supported by OVN. IPv4: ""%(ipv4_opts)s"" and ' 'IPv6: ""%(ipv6_opts)s""', {'port_id': port['id'], 'ipv4_opts': ipv4_opts, 'ipv6_opts': ipv6_opts})"," msg = (_('The following extra DHCP options for port %(port_id)s ' 'are not supported by OVN. IPv4: ""%(ipv4_opts)s"" and ' 'IPv6: ""%(ipv6_opts)s""') % {'port_id': port['id'], 'ipv4_opts': ipv4_opts, 'ipv6_opts': ipv6_opts}) raise OVNPortUpdateError(resource='port', msg=msg)",35,24
openstack%2Fneutron~master~Idd42491dcaa10ec36c963b477438eaa2336ef3a0,openstack/neutron,master,Idd42491dcaa10ec36c963b477438eaa2336ef3a0,Remove some unnecessary usages of verify(),MERGED,2020-05-19 18:55:55.000000000,2020-07-25 00:57:44.000000000,2020-07-25 00:56:28.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-05-19 18:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c45b70196291b7820d25e0947fe4c37c57965ad', 'message': ""Remove some unnecessary usages of verify()\n\nThe general usage of verify() is if you are doing something like:\n\n ports = row.ports\n ports.append('newport')\n row.ports = ports\n\nwhere you read a value from the db, modify it, then overwrite it.\nThe setkey/addvalue/delvalue mutate functions make it largely\nunnecessary to use verify(), so this patch removes those.\n\nChange-Id: Idd42491dcaa10ec36c963b477438eaa2336ef3a0\n""}, {'number': 2, 'created': '2020-07-07 21:11:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bfe0392465f2ad8dc4f987333ed9f47a3fc88b31', 'message': ""Remove some unnecessary usages of verify()\n\nThe general usage of verify() is if you are doing something like:\n\n ports = row.ports\n ports.append('newport')\n row.ports = ports\n\nwhere you read a value from the db, modify it, then overwrite it.\nThe setkey/addvalue/delvalue mutate functions make it largely\nunnecessary to use verify(), so this patch removes those.\n\nChange-Id: Idd42491dcaa10ec36c963b477438eaa2336ef3a0\n""}, {'number': 3, 'created': '2020-07-22 18:15:13.000000000', 'files': ['neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_commands.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b11dd3836eba35d65561f582660fa081abd49c19', 'message': ""Remove some unnecessary usages of verify()\n\nThe general usage of verify() is if you are doing something like:\n\n ports = row.ports\n ports.append('newport')\n row.ports = ports\n\nwhere you read a value from the db, modify it, then overwrite it.\nThe setkey/addvalue/delvalue mutate functions make it largely\nunnecessary to use verify(), so this patch removes those.\n\nChange-Id: Idd42491dcaa10ec36c963b477438eaa2336ef3a0\n""}]",1,729354,b11dd3836eba35d65561f582660fa081abd49c19,55,10,3,5756,,,0,"Remove some unnecessary usages of verify()

The general usage of verify() is if you are doing something like:

 ports = row.ports
 ports.append('newport')
 row.ports = ports

where you read a value from the db, modify it, then overwrite it.
The setkey/addvalue/delvalue mutate functions make it largely
unnecessary to use verify(), so this patch removes those.

Change-Id: Idd42491dcaa10ec36c963b477438eaa2336ef3a0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/729354/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_commands.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py']",3,4c45b70196291b7820d25e0947fe4c37c57965ad,remove_unnecessary_verify,"class UpdateObjectExtIdsCommand(command.BaseCommand): table = None field = 'name' def __init__(self, api, record, external_ids, if_exists): super(UpdateObjectExtIdsCommand, self).__init__(api) self.record = record # api.lookup() would be better as it doesn't rely on hardcoded col obj = idlutils.row_by_value(self.api.idl, self.table, self.field, self.record) msg = _(""%s %s does not exist. "" ""Can't update external IDs"") % (self.table, self.record) for ext_id_key, ext_id_value in self.external_ids.items(): obj.setkey('external_ids', ext_id_key, ext_id_value) class UpdateAddrSetExtIdsCommand(UpdateObjectExtIdsCommand): table = 'Address_Set' class UpdateChassisExtIdsCommand(UpdateObjectExtIdsCommand): table = 'Chassis' class UpdatePortBindingExtIdsCommand(UpdateObjectExtIdsCommand): table = 'Port_Binding' field = 'logical_port' lrouter.addvalue('nat', row.uuid) for nat in lrouter.nat: if (self.type == nat.type and self.external_ip == nat.external_ip and self.logical_ip == nat.logical_ip): lrouter.delvalue('nat', nat) for nat_rule in lrouter.nat: for route in lrouter.static_routes: lrouter.delvalue('static_routes', route) for nat in lrouter.nat: lrouter.delvalue('nat', nat) lrouter.delvalue('ports', lrouter_port)","class UpdateAddrSetExtIdsCommand(command.BaseCommand): def __init__(self, api, name, external_ids, if_exists): super(UpdateAddrSetExtIdsCommand, self).__init__(api) self.name = name addrset = idlutils.row_by_value(self.api.idl, 'Address_Set', 'name', self.name) msg = _(""Address set %s does not exist. "" ""Can't update external IDs"") % self.name addrset.verify('external_ids') addrset_external_ids = getattr(addrset, 'external_ids', {}) for ext_id_key, ext_id_value in self.external_ids.items(): addrset_external_ids[ext_id_key] = ext_id_value addrset.external_ids = addrset_external_ids class UpdateChassisExtIdsCommand(command.BaseCommand): def __init__(self, api, name, external_ids, if_exists): super(UpdateChassisExtIdsCommand, self).__init__(api) self.name = name self.external_ids = external_ids self.if_exists = if_exists def run_idl(self, txn): try: chassis = idlutils.row_by_value(self.api.idl, 'Chassis', 'name', self.name) except idlutils.RowNotFound: if self.if_exists: return msg = _(""Chassis %s does not exist. "" ""Can't update external IDs"") % self.name raise RuntimeError(msg) chassis.verify('external_ids') chassis_external_ids = getattr(chassis, 'external_ids', {}) for ext_id_key, ext_id_value in self.external_ids.items(): chassis_external_ids[ext_id_key] = ext_id_value chassis.external_ids = chassis_external_ids class UpdatePortBindingExtIdsCommand(command.BaseCommand): def __init__(self, api, name, external_ids, if_exists): super(UpdatePortBindingExtIdsCommand, self).__init__(api) self.name = name self.external_ids = external_ids self.if_exists = if_exists def run_idl(self, txn): try: port = idlutils.row_by_value(self.api.idl, 'Port_Binding', 'logical_port', self.name) except idlutils.RowNotFound: if self.if_exists: return msg = _(""Port %s does not exist. "" ""Can't update external IDs"") % self.name raise RuntimeError(msg) port.verify('external_ids') port_external_ids = getattr(port, 'external_ids', {}) for ext_id_key, ext_id_value in self.external_ids.items(): port_external_ids[ext_id_key] = ext_id_value port.external_ids = port_external_ids # TODO(chandrav): convert this to ovs transaction mutate lrouter.verify('nat') nat = getattr(lrouter, 'nat', []) nat.append(row.uuid) setattr(lrouter, 'nat', nat) lrouter.verify('nat') # TODO(chandrav): convert this to ovs transaction mutate nats = getattr(lrouter, 'nat', []) for nat in nats: type = getattr(nat, 'type', '') external_ip = getattr(nat, 'external_ip', '') logical_ip = getattr(nat, 'logical_ip', '') if (self.type == type and self.external_ip == external_ip and self.logical_ip == logical_ip): nats.remove(nat) setattr(lrouter, 'nat', nats) lrouter.verify('nat') nat_rules = getattr(lrouter, 'nat', []) for nat_rule in nat_rules: lrouter.verify('static_routes') static_routes = getattr(lrouter, 'static_routes', []) for route in static_routes: _delvalue_from_list(lrouter, 'static_routes', route) lrouter.verify('nat') nats = getattr(lrouter, 'nat', []) for nat in nats: _delvalue_from_list(lrouter, 'nat', nat) _delvalue_from_list(lrouter, 'ports', lrouter_port)",63,92
openstack%2Frequirements~stable%2Fussuri~I1e07eafc77fbb697f73d57fb5e82ab06dee62b4b,openstack/requirements,stable/ussuri,I1e07eafc77fbb697f73d57fb5e82ab06dee62b4b,update constraint for os-net-config to new release 12.3.1,MERGED,2020-07-24 18:46:03.000000000,2020-07-25 00:56:33.000000000,2020-07-25 00:56:33.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 18:46:03.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ec331f34e8de6aff344543486991c414fec87c0d', 'message': 'update constraint for os-net-config to new release 12.3.1\n\nChange-Id: I1e07eafc77fbb697f73d57fb5e82ab06dee62b4b\nmeta:version: 12.3.1\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Wes Hayutin <weshayutin@gmail.com>\nmeta:release:Commit: wes hayutin <whayutin@redhat.com>\nmeta:release:Change-Id: I79f061f57f04c155cf99ba80d8d96c935521e75d\nmeta:release:Code-Review+1: yatin <ykarel@redhat.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,742966,ec331f34e8de6aff344543486991c414fec87c0d,7,3,1,11131,,,0,"update constraint for os-net-config to new release 12.3.1

Change-Id: I1e07eafc77fbb697f73d57fb5e82ab06dee62b4b
meta:version: 12.3.1
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Wes Hayutin <weshayutin@gmail.com>
meta:release:Commit: wes hayutin <whayutin@redhat.com>
meta:release:Change-Id: I79f061f57f04c155cf99ba80d8d96c935521e75d
meta:release:Code-Review+1: yatin <ykarel@redhat.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/66/742966/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ec331f34e8de6aff344543486991c414fec87c0d,new-release,os-net-config===12.3.1,os-net-config===12.3.0,1,1
openstack%2Frequirements~stable%2Fussuri~Ie900b8446555f6cde01a6f073d950ed5eecdd80d,openstack/requirements,stable/ussuri,Ie900b8446555f6cde01a6f073d950ed5eecdd80d,update constraint for paunch to new release 7.0.1,MERGED,2020-07-24 18:45:50.000000000,2020-07-25 00:56:32.000000000,2020-07-25 00:56:31.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 18:45:50.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3804b6fb48a3746a381d9a427312b206369825eb', 'message': 'update constraint for paunch to new release 7.0.1\n\nChange-Id: Ie900b8446555f6cde01a6f073d950ed5eecdd80d\nmeta:version: 7.0.1\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Wes Hayutin <weshayutin@gmail.com>\nmeta:release:Commit: wes hayutin <whayutin@redhat.com>\nmeta:release:Change-Id: I79f061f57f04c155cf99ba80d8d96c935521e75d\nmeta:release:Code-Review+1: yatin <ykarel@redhat.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,742965,3804b6fb48a3746a381d9a427312b206369825eb,7,3,1,11131,,,0,"update constraint for paunch to new release 7.0.1

Change-Id: Ie900b8446555f6cde01a6f073d950ed5eecdd80d
meta:version: 7.0.1
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Wes Hayutin <weshayutin@gmail.com>
meta:release:Commit: wes hayutin <whayutin@redhat.com>
meta:release:Change-Id: I79f061f57f04c155cf99ba80d8d96c935521e75d
meta:release:Code-Review+1: yatin <ykarel@redhat.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/65/742965/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3804b6fb48a3746a381d9a427312b206369825eb,new-release,paunch===7.0.1,paunch===7.0.0,1,1
openstack%2Frequirements~stable%2Fussuri~I39f70dd216fb8c050ebab9d9bc2fb55220a41adf,openstack/requirements,stable/ussuri,I39f70dd216fb8c050ebab9d9bc2fb55220a41adf,update constraint for os-apply-config to new release 11.2.1,MERGED,2020-07-24 18:41:17.000000000,2020-07-25 00:56:30.000000000,2020-07-25 00:56:30.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 18:41:17.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/72930df77ee2fa7a788037665e1476c2ea04947c', 'message': 'update constraint for os-apply-config to new release 11.2.1\n\nChange-Id: I39f70dd216fb8c050ebab9d9bc2fb55220a41adf\nmeta:version: 11.2.1\nmeta:diff-start: -\nmeta:series: ussuri\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Wes Hayutin <weshayutin@gmail.com>\nmeta:release:Commit: wes hayutin <whayutin@redhat.com>\nmeta:release:Change-Id: I79f061f57f04c155cf99ba80d8d96c935521e75d\nmeta:release:Code-Review+1: yatin <ykarel@redhat.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,742963,72930df77ee2fa7a788037665e1476c2ea04947c,7,3,1,11131,,,0,"update constraint for os-apply-config to new release 11.2.1

Change-Id: I39f70dd216fb8c050ebab9d9bc2fb55220a41adf
meta:version: 11.2.1
meta:diff-start: -
meta:series: ussuri
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Wes Hayutin <weshayutin@gmail.com>
meta:release:Commit: wes hayutin <whayutin@redhat.com>
meta:release:Change-Id: I79f061f57f04c155cf99ba80d8d96c935521e75d
meta:release:Code-Review+1: yatin <ykarel@redhat.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/63/742963/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,72930df77ee2fa7a788037665e1476c2ea04947c,new-release,os-apply-config===11.2.1,os-apply-config===11.2.0,1,1
openstack%2Fmanila~stable%2Fstein~I447e75c79e322728c1f65a54d861137a81ce8cf1,openstack/manila,stable/stein,I447e75c79e322728c1f65a54d861137a81ce8cf1,DNM - Testing drivers on stable/stein branch,ABANDONED,2019-10-19 18:11:19.000000000,2020-07-25 00:39:39.000000000,,"[{'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-10-19 18:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1c029c94d4101a1b7c427ff596b2fc119d3b38f7', 'message': 'DNM - Testing drivers on stable/stein branch\n\nChange-Id: I447e75c79e322728c1f65a54d861137a81ce8cf1\n'}, {'number': 2, 'created': '2020-03-06 00:15:57.000000000', 'files': ['manila/DNM'], 'web_link': 'https://opendev.org/openstack/manila/commit/4c9fb233315e4892cef86eafb4b93c002dd55bcf', 'message': 'DNM - Testing drivers on stable/stein branch\n\nChange-Id: I447e75c79e322728c1f65a54d861137a81ce8cf1\n'}]",0,689634,4c9fb233315e4892cef86eafb4b93c002dd55bcf,12,4,2,30002,,,0,"DNM - Testing drivers on stable/stein branch

Change-Id: I447e75c79e322728c1f65a54d861137a81ce8cf1
",git fetch https://review.opendev.org/openstack/manila refs/changes/34/689634/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/DNM'],1,1c029c94d4101a1b7c427ff596b2fc119d3b38f7,audit_ci,,,0,0
openstack%2Fmanila~stable%2Fstein~I451ae5261db127ebc10f38a66de21fcc3da97cb4,openstack/manila,stable/stein,I451ae5261db127ebc10f38a66de21fcc3da97cb4,DNM - baseline on stable/stein,ABANDONED,2019-09-27 14:35:58.000000000,2020-07-25 00:39:30.000000000,,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-09-27 14:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/414f8710a4de969dfb2c603baa17a08eaa458bb0', 'message': 'DNM - baseline on stable/stein\n\nChange-Id: I451ae5261db127ebc10f38a66de21fcc3da97cb4\n'}, {'number': 2, 'created': '2019-09-27 21:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2d4268754b2db4122506edce26122c632eb87661', 'message': 'DNM - baseline on stable/stein\n\nDepends-On: https://review.opendev.org/#/c/685496/\nChange-Id: I451ae5261db127ebc10f38a66de21fcc3da97cb4\n'}, {'number': 3, 'created': '2019-09-28 01:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b61d9cf17a59b0b20ad81dd897dd8e675b14697e', 'message': 'DNM - baseline on stable/stein\n\nDepends-On: I0591d7d08e09a6a5d4b195f55fa22157207face3\nChange-Id: I451ae5261db127ebc10f38a66de21fcc3da97cb4\n'}, {'number': 4, 'created': '2019-10-10 09:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6551556eb207fd9703c28c8780e85cb664e2ac1d', 'message': 'DNM - baseline on stable/stein\n\nChange-Id: I451ae5261db127ebc10f38a66de21fcc3da97cb4\n'}, {'number': 5, 'created': '2019-10-13 21:56:55.000000000', 'files': ['DNM'], 'web_link': 'https://opendev.org/openstack/manila/commit/1a9b59c26ffcba44b664b5de77d1a970108dd2ae', 'message': 'DNM - baseline on stable/stein\n\nChange-Id: I451ae5261db127ebc10f38a66de21fcc3da97cb4\n'}]",0,685365,1a9b59c26ffcba44b664b5de77d1a970108dd2ae,32,6,5,9003,,,0,"DNM - baseline on stable/stein

Change-Id: I451ae5261db127ebc10f38a66de21fcc3da97cb4
",git fetch https://review.opendev.org/openstack/manila refs/changes/65/685365/1 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,414f8710a4de969dfb2c603baa17a08eaa458bb0,,,,0,0
openstack%2Fmanila~stable%2Frocky~I1b6f4f988631c35cce97be17c494a16504a3a14e,openstack/manila,stable/rocky,I1b6f4f988631c35cce97be17c494a16504a3a14e,DNM - Testing stable/rocky branch,ABANDONED,2019-10-19 18:12:37.000000000,2020-07-25 00:37:56.000000000,,"[{'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-10-19 18:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/31f37fc9413c124b70d1964475d5598f4a9bf6c4', 'message': 'DNM - Testing drivers on stable/rocky branch\n\nChange-Id: I1b6f4f988631c35cce97be17c494a16504a3a14e\n'}, {'number': 2, 'created': '2020-06-18 15:50:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/abc5826d1f635cbd2bb5bda82cf7c6d95dd08c03', 'message': 'DNM - Testing drivers on stable/rocky branch\n\nChange-Id: I1b6f4f988631c35cce97be17c494a16504a3a14e\n'}, {'number': 3, 'created': '2020-07-14 19:09:18.000000000', 'files': ['manila/DNM'], 'web_link': 'https://opendev.org/openstack/manila/commit/5b76c4bb1023b3eb0f5e6ec23f69f68f3c73a99f', 'message': 'DNM - Testing stable/rocky branch\n\nDepends-On: I57e6219d675c951880808ced4e26c2344ef15cee\nChange-Id: I1b6f4f988631c35cce97be17c494a16504a3a14e\n'}]",0,689635,5b76c4bb1023b3eb0f5e6ec23f69f68f3c73a99f,14,4,3,30002,,,0,"DNM - Testing stable/rocky branch

Depends-On: I57e6219d675c951880808ced4e26c2344ef15cee
Change-Id: I1b6f4f988631c35cce97be17c494a16504a3a14e
",git fetch https://review.opendev.org/openstack/manila refs/changes/35/689635/3 && git format-patch -1 --stdout FETCH_HEAD,['manila/DNM'],1,31f37fc9413c124b70d1964475d5598f4a9bf6c4,audit_ci,,,0,0
openstack%2Fmanila~stable%2Frocky~Ic8a1ec1e9a7cffa049c47bb99b04bea14a4d189d,openstack/manila,stable/rocky,Ic8a1ec1e9a7cffa049c47bb99b04bea14a4d189d,[DNM] Testing CephFS jobs (Rocky),ABANDONED,2020-05-15 20:45:06.000000000,2020-07-25 00:37:45.000000000,,"[{'_account_id': 21863}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-15 20:45:06.000000000', 'files': ['dnm'], 'web_link': 'https://opendev.org/openstack/manila/commit/89e93b6cbd3aca107f1b3e86463deaea0f0075c4', 'message': '[DNM] Testing CephFS jobs (Rocky)\n\nChange-Id: Ic8a1ec1e9a7cffa049c47bb99b04bea14a4d189d\n'}]",0,728573,89e93b6cbd3aca107f1b3e86463deaea0f0075c4,4,2,1,6413,,,0,"[DNM] Testing CephFS jobs (Rocky)

Change-Id: Ic8a1ec1e9a7cffa049c47bb99b04bea14a4d189d
",git fetch https://review.opendev.org/openstack/manila refs/changes/73/728573/1 && git format-patch -1 --stdout FETCH_HEAD,['dnm'],1,89e93b6cbd3aca107f1b3e86463deaea0f0075c4,,,,0,0
openstack%2Fmanila~stable%2Frocky~Iaf64ac2896f739ccc5159f8f8dd590c557091038,openstack/manila,stable/rocky,Iaf64ac2896f739ccc5159f8f8dd590c557091038,[DNM] Testing CephFS jobs (Rocky) with updated Ceph,ABANDONED,2020-05-19 12:25:49.000000000,2020-07-25 00:37:35.000000000,,"[{'_account_id': 6413}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2020-05-19 12:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3bf8521d675945f09b2e54167bf3b42555146fc6', 'message': '[DNM] Testing CephFS jobs (Rocky) with updated Ceph\n\nDepends-On: https://review.opendev.org/#/c/676722/\nChange-Id: Iaf64ac2896f739ccc5159f8f8dd590c557091038\n'}, {'number': 2, 'created': '2020-05-19 19:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a75654d06a4636070c36a935c8e1662a8999e86c', 'message': '[DNM] Testing CephFS jobs (Rocky) with updated Ceph\n\nDepends-On: https://review.opendev.org/#/c/676722/\nDepends-On: https://review.opendev.org/#/c/729356/\nChange-Id: Iaf64ac2896f739ccc5159f8f8dd590c557091038\n'}, {'number': 3, 'created': '2020-05-19 22:07:05.000000000', 'files': ['dnm', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/7d6b1f2c2847afff1b3e8c420c5dceb39c630e5b', 'message': '[DNM] Testing CephFS jobs (Rocky) with updated Ceph\n\nDepends-On: https://review.opendev.org/#/c/676722/\nDepends-On: https://review.opendev.org/#/c/729356/\nChange-Id: Iaf64ac2896f739ccc5159f8f8dd590c557091038\n'}]",0,729233,7d6b1f2c2847afff1b3e8c420c5dceb39c630e5b,20,5,3,6413,,,0,"[DNM] Testing CephFS jobs (Rocky) with updated Ceph

Depends-On: https://review.opendev.org/#/c/676722/
Depends-On: https://review.opendev.org/#/c/729356/
Change-Id: Iaf64ac2896f739ccc5159f8f8dd590c557091038
",git fetch https://review.opendev.org/openstack/manila refs/changes/33/729233/2 && git format-patch -1 --stdout FETCH_HEAD,['dnm'],1,3bf8521d675945f09b2e54167bf3b42555146fc6,,,,0,0
openstack%2Fswift~master~Ia9d29822bf07757fc1cf58ded90b49f12b7b2c24,openstack/swift,master,Ia9d29822bf07757fc1cf58ded90b49f12b7b2c24,container-sharding: Stable overlap order,MERGED,2020-07-22 20:21:20.000000000,2020-07-24 23:52:43.000000000,2020-07-24 23:51:13.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 20:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/455f93d3ab2009427c69dd6eac0bd8ea175cdd9b', 'message': 'container-sharding: Stable overlap order\n\nWhen you have overlapping active shard ranges updates will get sent to\n""the first"" database; but when the proxy queries shards for listings\nthey get stitched together end-to-end with markers.\n\nThis means mostly the second shard range is ignored.  But since the\norder of shard ranges is not stable (it seems to depend on the database\nindexes; which can change when rows are added or removed) you could send\nupdates to ""the wrong"" shard.\n\nUsing a stable order leads to more correct and robust behavior under\nfailure; and is also better for cognitive overhead.\n\nChange-Id: Ia9d29822bf07757fc1cf58ded90b49f12b7b2c24\n'}, {'number': 2, 'created': '2020-07-23 17:41:52.000000000', 'files': ['test/unit/container/test_backend.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/cb67f9472d9de0e1ef66caf5004bf24c3e517666', 'message': 'container-sharding: Stable overlap order\n\nWhen you have overlapping active shard ranges updates will get sent to\n""the first"" database; but when the proxy queries shards for listings\nthey get stitched together end-to-end with markers.\n\nThis means mostly the second shard range is ignored.  But since the\norder of shard ranges is not stable (it seems to depend on the database\nindexes; which can change when rows are added or removed) you could send\nupdates to ""the wrong"" shard.\n\nUsing a stable order leads to more correct and robust behavior under\nfailure; and is also better for cognitive overhead.\n\nChange-Id: Ia9d29822bf07757fc1cf58ded90b49f12b7b2c24\n'}]",2,742535,cb67f9472d9de0e1ef66caf5004bf24c3e517666,23,3,2,1179,,,0,"container-sharding: Stable overlap order

When you have overlapping active shard ranges updates will get sent to
""the first"" database; but when the proxy queries shards for listings
they get stitched together end-to-end with markers.

This means mostly the second shard range is ignored.  But since the
order of shard ranges is not stable (it seems to depend on the database
indexes; which can change when rows are added or removed) you could send
updates to ""the wrong"" shard.

Using a stable order leads to more correct and robust behavior under
failure; and is also better for cognitive overhead.

Change-Id: Ia9d29822bf07757fc1cf58ded90b49f12b7b2c24
",git fetch https://review.opendev.org/openstack/swift refs/changes/35/742535/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_backend.py', 'swift/container/backend.py']",2,455f93d3ab2009427c69dd6eac0bd8ea175cdd9b,sr-overlap-order," shard_ranges.sort(key=lambda sr: (sr.upper, sr.state, sr.lower, sr.name))"," shard_ranges.sort(key=lambda sr: (sr.upper, sr.state, sr.lower))",39,1
openstack%2Fos-net-config~stable%2Ftrain~I0a3b374b321ba039c8e0b1c126ac3eb59e6dc980,openstack/os-net-config,stable/train,I0a3b374b321ba039c8e0b1c126ac3eb59e6dc980,Avoid openvswitch restarts during re-run,MERGED,2020-07-24 04:07:39.000000000,2020-07-24 23:44:27.000000000,2020-07-24 23:43:14.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-24 04:07:39.000000000', 'files': ['os_net_config/cli.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/ac8d1b9e0fa7b95a440f6537423dec74ba131dd3', 'message': 'Avoid openvswitch restarts during re-run\n\nFor offload configuration on the first time, opevswitch\nneed to be restarted after the interface configured to\nswitchdev mode to enable VF-LAG. But once it is configured,\nopenvswitch should not be restarted, which will create\nVF-LAG failures. In general, in the TripleO during\nupdates/upgrades, ovs restart will not be triggered\nand it will be allowed to the user to restart or reboot\nthe node. Aligning with it, opevswitch restart has been\navoided on all os-net-config re-runs.\nCloses-Bug: #1887957\n\nChange-Id: I0a3b374b321ba039c8e0b1c126ac3eb59e6dc980\n(cherry picked from commit 4c95f7d08732d8e4f4b865e8c119dee87b8196eb)\n'}]",0,742790,ac8d1b9e0fa7b95a440f6537423dec74ba131dd3,8,3,1,18575,,,0,"Avoid openvswitch restarts during re-run

For offload configuration on the first time, opevswitch
need to be restarted after the interface configured to
switchdev mode to enable VF-LAG. But once it is configured,
openvswitch should not be restarted, which will create
VF-LAG failures. In general, in the TripleO during
updates/upgrades, ovs restart will not be triggered
and it will be allowed to the user to restart or reboot
the node. Aligning with it, opevswitch restart has been
avoided on all os-net-config re-runs.
Closes-Bug: #1887957

Change-Id: I0a3b374b321ba039c8e0b1c126ac3eb59e6dc980
(cherry picked from commit 4c95f7d08732d8e4f4b865e8c119dee87b8196eb)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/90/742790/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/cli.py'],1,ac8d1b9e0fa7b95a440f6537423dec74ba131dd3,avoid_restart_sriov-stable/train," restart_ovs = bool(sriovpf_member_of_bond_ovs_port_list) # Avoid ovs restart for os-net-config re-runs, which will # dirupt the offload configuration if os.path.exists(utils._SRIOV_CONFIG_SERVICE_FILE): restart_ovs = False restart_openvswitch=restart_ovs)", restart_openvswitch=bool(sriovpf_member_of_bond_ovs_port_list)),7,1
openstack%2Fos-net-config~stable%2Fussuri~I0a3b374b321ba039c8e0b1c126ac3eb59e6dc980,openstack/os-net-config,stable/ussuri,I0a3b374b321ba039c8e0b1c126ac3eb59e6dc980,Avoid openvswitch restarts during re-run,MERGED,2020-07-24 04:06:28.000000000,2020-07-24 23:44:25.000000000,2020-07-24 23:43:13.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-24 04:06:28.000000000', 'files': ['os_net_config/cli.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/edad325ab620653b88523967d4d6663742f694e6', 'message': 'Avoid openvswitch restarts during re-run\n\nFor offload configuration on the first time, opevswitch\nneed to be restarted after the interface configured to\nswitchdev mode to enable VF-LAG. But once it is configured,\nopenvswitch should not be restarted, which will create\nVF-LAG failures. In general, in the TripleO during\nupdates/upgrades, ovs restart will not be triggered\nand it will be allowed to the user to restart or reboot\nthe node. Aligning with it, opevswitch restart has been\navoided on all os-net-config re-runs.\nCloses-Bug: #1887957\n\nChange-Id: I0a3b374b321ba039c8e0b1c126ac3eb59e6dc980\n(cherry picked from commit 4c95f7d08732d8e4f4b865e8c119dee87b8196eb)\n'}]",0,742789,edad325ab620653b88523967d4d6663742f694e6,9,4,1,18575,,,0,"Avoid openvswitch restarts during re-run

For offload configuration on the first time, opevswitch
need to be restarted after the interface configured to
switchdev mode to enable VF-LAG. But once it is configured,
openvswitch should not be restarted, which will create
VF-LAG failures. In general, in the TripleO during
updates/upgrades, ovs restart will not be triggered
and it will be allowed to the user to restart or reboot
the node. Aligning with it, opevswitch restart has been
avoided on all os-net-config re-runs.
Closes-Bug: #1887957

Change-Id: I0a3b374b321ba039c8e0b1c126ac3eb59e6dc980
(cherry picked from commit 4c95f7d08732d8e4f4b865e8c119dee87b8196eb)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/89/742789/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/cli.py'],1,edad325ab620653b88523967d4d6663742f694e6,avoid_restart_sriov-stable/ussuri," restart_ovs = bool(sriovpf_member_of_bond_ovs_port_list) # Avoid ovs restart for os-net-config re-runs, which will # dirupt the offload configuration if os.path.exists(utils._SRIOV_CONFIG_SERVICE_FILE): restart_ovs = False restart_openvswitch=restart_ovs)", restart_openvswitch=bool(sriovpf_member_of_bond_ovs_port_list)),7,1
openstack%2Fos-net-config~stable%2Fqueens~I0a3b374b321ba039c8e0b1c126ac3eb59e6dc980,openstack/os-net-config,stable/queens,I0a3b374b321ba039c8e0b1c126ac3eb59e6dc980,Avoid openvswitch restarts during re-run,MERGED,2020-07-24 04:08:30.000000000,2020-07-24 23:43:14.000000000,2020-07-24 23:43:14.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-24 04:08:30.000000000', 'files': ['os_net_config/cli.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/1328184fdb5fff9bc5af26bdc8db88735f384217', 'message': 'Avoid openvswitch restarts during re-run\n\nFor offload configuration on the first time, opevswitch\nneed to be restarted after the interface configured to\nswitchdev mode to enable VF-LAG. But once it is configured,\nopenvswitch should not be restarted, which will create\nVF-LAG failures. In general, in the TripleO during\nupdates/upgrades, ovs restart will not be triggered\nand it will be allowed to the user to restart or reboot\nthe node. Aligning with it, opevswitch restart has been\navoided on all os-net-config re-runs.\nCloses-Bug: #1887957\n\nChange-Id: I0a3b374b321ba039c8e0b1c126ac3eb59e6dc980\n(cherry picked from commit 4c95f7d08732d8e4f4b865e8c119dee87b8196eb)\n'}]",0,742792,1328184fdb5fff9bc5af26bdc8db88735f384217,7,3,1,18575,,,0,"Avoid openvswitch restarts during re-run

For offload configuration on the first time, opevswitch
need to be restarted after the interface configured to
switchdev mode to enable VF-LAG. But once it is configured,
openvswitch should not be restarted, which will create
VF-LAG failures. In general, in the TripleO during
updates/upgrades, ovs restart will not be triggered
and it will be allowed to the user to restart or reboot
the node. Aligning with it, opevswitch restart has been
avoided on all os-net-config re-runs.
Closes-Bug: #1887957

Change-Id: I0a3b374b321ba039c8e0b1c126ac3eb59e6dc980
(cherry picked from commit 4c95f7d08732d8e4f4b865e8c119dee87b8196eb)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/92/742792/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/cli.py'],1,1328184fdb5fff9bc5af26bdc8db88735f384217,avoid_restart_sriov-stable/queens," restart_ovs = bool(sriovpf_member_of_bond_ovs_port_list) # Avoid ovs restart for os-net-config re-runs, which will # dirupt the offload configuration if os.path.exists(utils._SRIOV_CONFIG_SERVICE_FILE): restart_ovs = False restart_openvswitch=restart_ovs)", restart_openvswitch=bool(sriovpf_member_of_bond_ovs_port_list)),7,1
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fussuri~I628c61e4b846bb380640ed96ee4c1909c88898ff,openstack/openstack-ansible-openstack_hosts,stable/ussuri,I628c61e4b846bb380640ed96ee4c1909c88898ff,Fix centos-8 functional tests,MERGED,2020-07-24 16:31:38.000000000,2020-07-24 23:39:43.000000000,2020-07-24 23:38:41.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-24 16:31:38.000000000', 'files': ['tasks/openstack_hosts_configure_dnf.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/5bcdae890467e4c0e35c199c67b4ea10dd42b391', 'message': ""Fix centos-8 functional tests\n\nCentos-8 is the only operating system which excercises the DNF code\npath and for functional rather than integrated tests install_method\nmay be undefined.\n\nDefault the install method to 'source'\n\nChange-Id: I628c61e4b846bb380640ed96ee4c1909c88898ff\n(cherry picked from commit 7f26a27140b2b9855268a08fc336d7c1216d643c)\n""}]",0,742941,5bcdae890467e4c0e35c199c67b4ea10dd42b391,8,3,1,28619,,,0,"Fix centos-8 functional tests

Centos-8 is the only operating system which excercises the DNF code
path and for functional rather than integrated tests install_method
may be undefined.

Default the install method to 'source'

Change-Id: I628c61e4b846bb380640ed96ee4c1909c88898ff
(cherry picked from commit 7f26a27140b2b9855268a08fc336d7c1216d643c)
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/41/742941/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/openstack_hosts_configure_dnf.yml'],1,5bcdae890467e4c0e35c199c67b4ea10dd42b391,osa/el8-stable/ussuri, - (install_method | default('source')) == 'distro', - install_method == 'distro',1,1
openstack%2Fdesignate~stable%2Fqueens~I0a85c5df5c323d6f636c8cb92ee5201c14cdb306,openstack/designate,stable/queens,I0a85c5df5c323d6f636c8cb92ee5201c14cdb306,Worker should send NOTIFY also to all servers in 'also_notifies' pool settings.,MERGED,2020-04-17 16:05:17.000000000,2020-07-24 23:25:43.000000000,2020-07-24 23:25:43.000000000,"[{'_account_id': 8099}, {'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2020-04-17 16:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/234bfcf4adec94a62367245e926377da1b912ff1', 'message': ""Worker should send NOTIFY also to all servers in 'also_notifies' pool settings.\n\nChange-Id: I0a85c5df5c323d6f636c8cb92ee5201c14cdb306\nCloses-Bug: #1785769\n(cherry picked from commit 6e79c2e0816ca59cff9a8b0eb238e1e5add7b943)\n""}, {'number': 2, 'created': '2020-05-04 17:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a43b01a5f7a72bad9032745e3ebd08576c1c0b08', 'message': ""Worker should send NOTIFY also to all servers in 'also_notifies' pool settings.\n\nChange-Id: I0a85c5df5c323d6f636c8cb92ee5201c14cdb306\nCloses-Bug: #1785769\n(cherry picked from commit 6e79c2e0816ca59cff9a8b0eb238e1e5add7b943)\n""}, {'number': 3, 'created': '2020-05-11 16:49:55.000000000', 'files': ['designate/tests/test_workers/test_service.py', 'designate/worker/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/076600dd9107baf567c3dc032a0901dfeda73784', 'message': ""Worker should send NOTIFY also to all servers in 'also_notifies' pool settings.\n\nChange-Id: I0a85c5df5c323d6f636c8cb92ee5201c14cdb306\nCloses-Bug: #1785769\n(cherry picked from commit 6e79c2e0816ca59cff9a8b0eb238e1e5add7b943)\n""}]",0,720766,076600dd9107baf567c3dc032a0901dfeda73784,18,6,3,11628,,,0,"Worker should send NOTIFY also to all servers in 'also_notifies' pool settings.

Change-Id: I0a85c5df5c323d6f636c8cb92ee5201c14cdb306
Closes-Bug: #1785769
(cherry picked from commit 6e79c2e0816ca59cff9a8b0eb238e1e5add7b943)
",git fetch https://review.opendev.org/openstack/designate refs/changes/66/720766/3 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/test_workers/test_service.py', 'designate/worker/service.py']",2,234bfcf4adec94a62367245e926377da1b912ff1,bug/1785769-stable/rocky-stable/queens,"class AlsoNotifyTask(object): """""" Placeholder to define options for also_notify targets """""" pass all_tasks = [] all_tasks.append(zonetasks.ZoneAction( )) # Send a NOTIFY to each also-notifies for also_notify in pool.also_notifies: notify_target = AlsoNotifyTask() notify_target.options = {'host': also_notify.host, 'port': also_notify.port} all_tasks.append(zonetasks.SendNotify(self.executor, zone, notify_target)) return self.executor.run(all_tasks)", task = zonetasks.ZoneAction( ) return self.executor.run(task),23,4
openstack%2Fcinder~master~I05dfc996a635299990fdafba841ab6c4fd7d32c7,openstack/cinder,master,I05dfc996a635299990fdafba841ab6c4fd7d32c7,RBD: Cleanup temporary file during exception,MERGED,2020-04-20 09:01:09.000000000,2020-07-24 22:46:16.000000000,2020-07-24 22:44:22.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9236}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30555}, {'_account_id': 30688}, {'_account_id': 30858}, {'_account_id': 31854}]","[{'number': 1, 'created': '2020-04-20 09:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d4c8152a6cba3a382cf2df8c3b094ce7af800025', 'message': ""RBD: Cleanup temporary files during exception\n\nDuring operations involving temporary files, if an exception occurs,\nthe cleanup isn't done properly.\nThis patch addresses the same.\n\nChange-Id: I05dfc996a635299990fdafba841ab6c4fd7d32c7\nCloses-Bug: 1873738\n""}, {'number': 2, 'created': '2020-05-11 15:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f5257ccfc236e5a6d6db2b01f1adaecb40c8147d', 'message': ""RBD: Cleanup temporary file during exception\n\nDuring copy image to encrypted volume operation, we create a\ntemporary image file to convert source image into an encrypted\nimage and rename it to source image name.\nIf any error occurs during this process, there is no code to\ncleanup the temporary '.luks' file.\nThis patch adds the following cleanup.\n\nChange-Id: I05dfc996a635299990fdafba841ab6c4fd7d32c7\nCloses-Bug: 1873738\n""}, {'number': 3, 'created': '2020-05-11 15:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/928ea3c17544271aa495820b3589e4a5da5120a8', 'message': ""RBD: Cleanup temporary file during exception\n\nDuring copy image to encrypted volume operation, we create a\ntemporary image file to convert source image into an encrypted\nimage and rename it to source image name.\nIf any error occurs during this process, there is no code to\ncleanup the temporary '.luks' file.\nThis patch adds the following cleanup.\n\nChange-Id: I05dfc996a635299990fdafba841ab6c4fd7d32c7\nCloses-Bug: 1873738\n""}, {'number': 4, 'created': '2020-05-11 16:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7da011a527b841f1237a0b351de8c04915ca9e6f', 'message': ""RBD: Cleanup temporary file during exception\n\nDuring copy image to encrypted volume operation, we create a\ntemporary image file to convert source image into an encrypted\nimage and rename it to source image name.\nIf any error occurs during this process, there is no code to\ncleanup the temporary '.luks' file.\nThis patch adds the following cleanup.\n\nChange-Id: I05dfc996a635299990fdafba841ab6c4fd7d32c7\nCloses-Bug: 1873738\n""}, {'number': 5, 'created': '2020-05-12 09:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b6a389a1dba95eec06b6381b0558646d3877078c', 'message': 'Cleanup temporary destination image during exception\n\nDuring convert image operation, if the destination\ndirectory has not enough space left, the operation will\nfail leaving the destination file consuming unnecessary\nspace.\nThis patch deletes the file if such case occurs.\n\nChange-Id: I05dfc996a635299990fdafba841ab6c4fd7d32c7\nCloses-Bug: 1873738\n'}, {'number': 6, 'created': '2020-05-12 14:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1456d455e039d0fd8490bad63d217e1309ebb4a', 'message': 'Cleanup temporary destination image during exception\n\nDuring convert image operation, if the destination\ndirectory has not enough space left, the operation will\nfail leaving the destination file consuming unnecessary\nspace.\nThis patch deletes the file if such case occurs.\n\nChange-Id: I05dfc996a635299990fdafba841ab6c4fd7d32c7\nCloses-Bug: 1873738\n'}, {'number': 7, 'created': '2020-05-13 08:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bfb1c44b2bcd7cd14effa78c34ae159db652f57d', 'message': 'Cleanup temporary destination image during exception\n\nDuring convert image operation, if the destination\ndirectory has not enough space left, the operation will\nfail leaving the destination file consuming unnecessary\nspace.\nThis patch deletes the file if such case occurs.\n\nChange-Id: I05dfc996a635299990fdafba841ab6c4fd7d32c7\nCloses-Bug: 1873738\n'}, {'number': 8, 'created': '2020-05-22 06:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/160eea70d404f993f47d0de99fbb64a104b4aba9', 'message': 'Cleanup temporary destination image during exception\n\nDuring convert image operation, if the destination\ndirectory has not enough space left, the operation will\nfail leaving the destination file consuming unnecessary\nspace.\nThis patch deletes the file if such case occurs.\n\nChange-Id: I05dfc996a635299990fdafba841ab6c4fd7d32c7\nCloses-Bug: 1873738\n'}, {'number': 9, 'created': '2020-05-22 13:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fe60ecabcc3964d863ed0126cf9e7d53026e8057', 'message': 'Cleanup temporary destination image during exception\n\nDuring convert image operation, if the destination\ndirectory has not enough space left, the operation will\nfail leaving the destination file consuming unnecessary\nspace.\nThis patch deletes the file if such case occurs.\n\nChange-Id: I05dfc996a635299990fdafba841ab6c4fd7d32c7\nCloses-Bug: 1873738\n'}, {'number': 10, 'created': '2020-06-10 17:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/df9ea2be3e8ab5952350378ad60fed4c5631a3d3', 'message': ""RBD: Cleanup temporary file during exception\n\nDuring copy image to encrypted volume operation, we create a\ntemporary image file to convert source image into an encrypted\nimage and rename it to source image name.\nIf any error occurs during this process, there is no code to\ncleanup the temporary '.luks' file.\nThis patch adds the following cleanup.\n\nChange-Id: I05dfc996a635299990fdafba841ab6c4fd7d32c7\nCloses-Bug: 1873738\n""}, {'number': 11, 'created': '2020-06-23 09:51:35.000000000', 'files': ['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py', 'cinder/image/image_utils.py', 'releasenotes/notes/cleanup-rbd-temp-file-during-convert-fail-3848e9dbe7e15fc6.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7c95f3969f4c0df5f818f96cb662dddc17a8dd6f', 'message': ""RBD: Cleanup temporary file during exception\n\nDuring copy image to encrypted volume operation, we create a\ntemporary image file to convert source image into an encrypted\nimage and rename it to source image name.\nIf any error occurs during this process, there is no code to\ncleanup the temporary '.luks' file.\nThis patch adds the following cleanup.\n\nChange-Id: I05dfc996a635299990fdafba841ab6c4fd7d32c7\nCloses-Bug: 1873738\n""}]",13,721206,7c95f3969f4c0df5f818f96cb662dddc17a8dd6f,322,40,11,27615,,,0,"RBD: Cleanup temporary file during exception

During copy image to encrypted volume operation, we create a
temporary image file to convert source image into an encrypted
image and rename it to source image name.
If any error occurs during this process, there is no code to
cleanup the temporary '.luks' file.
This patch adds the following cleanup.

Change-Id: I05dfc996a635299990fdafba841ab6c4fd7d32c7
Closes-Bug: 1873738
",git fetch https://review.opendev.org/openstack/cinder refs/changes/06/721206/9 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/rbd.py', 'cinder/tests/unit/volume/drivers/test_rbd.py']",2,d4c8152a6cba3a382cf2df8c3b094ce7af800025,bug/1873738," @mock.patch('cinder.volume.drivers.rbd.fileutils.delete_if_exists') def _copy_image(self, mock_temp_delete): mock_temp_delete.assert_called() self.assertEqual(1, mock_temp_delete.call_count) @mock.patch('cinder.volume.drivers.rbd.fileutils.delete_if_exists') @mock.patch('cinder.volume.volume_utils.check_encryption_provider', return_value={'encryption_key_id': fake.ENCRYPTION_KEY_ID}) @mock.patch('cinder.image.image_utils.convert_image') def _copy_image_encrypted(self, mock_convert, mock_encrypt_key, mock_temp_delete): key_mgr = fake_keymgr.fake_api() self.mock_object(castellan.key_manager, 'API', return_value=key_mgr) key_id = key_mgr.store(self.context, KeyObject()) self.volume_a.encryption_key_id = key_id enc_info = {'encryption_key_id': key_id, 'cipher': 'aes-xts-essiv', 'key_size': 256} with mock.patch('cinder.volume.volume_utils.check_encryption_provider', return_value=enc_info), \ mock.patch('cinder.volume.drivers.rbd.open'), \ mock.patch('os.rename'): with mock.patch.object(tempfile, 'NamedTemporaryFile'): with mock.patch.object(os.path, 'exists') as mock_exists: mock_exists.return_value = True with mock.patch.object(image_utils, 'fetch_to_raw'): with mock.patch.object(self.driver, 'delete_volume'): with mock.patch.object(self.driver, '_resize'): mock_image_service = mock.MagicMock() args = [self.context, self.volume_a, mock_image_service, None] self.driver.copy_image_to_encrypted_volume( *args) mock_temp_delete.assert_called() self.assertEqual(3, mock_temp_delete.call_count) @common_mocks def test_copy_image_volume_tmp_encrypted(self): self.cfg.image_conversion_dir = '/var/run/cinder/tmp' self._copy_image_encrypted() @mock.patch('tempfile.NamedTemporaryFile') @mock.patch('cinder.volume.volume_utils.check_encryption_provider', return_value={'encryption_key_id': fake.ENCRYPTION_KEY_ID}) @mock.patch('cinder.volume.drivers.rbd.fileutils.delete_if_exists') def test_create_encrypted_volume_exception(self, mock_temp_delete, mock_check_enc_prov, mock_temp_file): class DictObj(object): # convert a dict to object w/ attributes def __init__(self, d): self.__dict__ = d mock_temp_file.return_value.__enter__.side_effect = [ DictObj({'name': '/imgfile'}), DictObj({'name': '/passfile'})] key_mgr = fake_keymgr.fake_api() self.mock_object(castellan.key_manager, 'API', return_value=key_mgr) key_id = key_mgr.store(self.context, KeyObject()) self.volume_c.encryption_key_id = key_id enc_info = {'encryption_key_id': key_id, 'cipher': 'aes-xts-essiv', 'key_size': 256} with mock.patch('cinder.volume.volume_utils.check_encryption_provider', return_value=enc_info), \ mock.patch('cinder.volume.drivers.rbd.open'), \ mock.patch.object(self.driver, '_execute') as mock_exec: mock_exec.side_effect = ( exception.VolumeBackendAPIException('No space')) self.assertRaises(exception.VolumeBackendAPIException, self.driver._create_encrypted_volume, self.volume_c, self.context) mock_temp_delete.assert_called() self.assertEqual(2, mock_temp_delete.call_count) ", def _copy_image(self):,148,59
openstack%2Fpaunch~stable%2Fqueens~Id42eb9d550865682078781a04f961c13bfbcde78,openstack/paunch,stable/queens,Id42eb9d550865682078781a04f961c13bfbcde78,[queens-only] Improve volume validation (unclean backport),MERGED,2020-07-23 21:06:08.000000000,2020-07-24 21:58:09.000000000,2020-07-24 21:58:09.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-23 21:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/f91b3a11af4e79afebdecba8fe01dac69fedab4b', 'message': '[queens-only] Improve volume validation (unclean backport)\n\nManually backport I9a55698b04dc2c5f01d776c6bdc2f26d47baf803.\n\nWe need to support both a source filesystem location and container\nvolume for the volume mounts. This change adds the ability to validate\nthat the provided source container is a container volume. Additionally\naligns the validation between the docker/podman methods so they operate\nin the same fashion.\n\nChange-Id: Id42eb9d550865682078781a04f961c13bfbcde78\nCloses-Bug: #1843734\n'}, {'number': 2, 'created': '2020-07-24 14:34:00.000000000', 'files': ['paunch/tests/test_runner.py', 'paunch/tests/test_builder_compose1.py', 'paunch/runner.py', 'paunch/builder/compose1.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/e13226d4cf279071a07d7196c3e631d004031a1b', 'message': '[queens-only] Improve volume validation (unclean backport)\n\nManually backport I9a55698b04dc2c5f01d776c6bdc2f26d47baf803.\n\nWe need to support both a source filesystem location and container\nvolume for the volume mounts. This change adds the ability to validate\nthat the provided source container is a container volume. Additionally\naligns the validation between the docker/podman methods so they operate\nin the same fashion.\n\nChange-Id: Id42eb9d550865682078781a04f961c13bfbcde78\nCloses-Bug: #1843734\n'}]",0,742751,e13226d4cf279071a07d7196c3e631d004031a1b,12,4,2,3153,,,0,"[queens-only] Improve volume validation (unclean backport)

Manually backport I9a55698b04dc2c5f01d776c6bdc2f26d47baf803.

We need to support both a source filesystem location and container
volume for the volume mounts. This change adds the ability to validate
that the provided source container is a container volume. Additionally
aligns the validation between the docker/podman methods so they operate
in the same fashion.

Change-Id: Id42eb9d550865682078781a04f961c13bfbcde78
Closes-Bug: #1843734
",git fetch https://review.opendev.org/openstack/paunch refs/changes/51/742751/2 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/tests/test_runner.py', 'paunch/tests/test_builder_compose1.py', 'paunch/runner.py', 'paunch/builder/compose1.py']",4,f91b3a11af4e79afebdecba8fe01dac69fedab4b,volumes/queens," return self.validate_volumes(cconfig.get('volumes', [])) def validate_volumes(self, volumes): """"""Validate volume sources Validates that the source volume either exists on the filesystem or is a valid container volume. Since docker will error if the source volume filesystem path doesn't exist, we want to catch the error before docker. :param: volumes: list of volume mounts in the format of ""src:path"" """""" valid = True for volume in volumes: if not volume: # ignore when volume is '' continue src_path = volume.split(':', 1)[0] check = self.runner.validate_volume_source(src_path) if not check: self.log.error(""%s is not a valid volume source"" % src_path) valid = False return valid ",,124,4
openstack%2Fcinder~master~I41448202ba1874b90b6865e63eb2c597bf6fda36,openstack/cinder,master,I41448202ba1874b90b6865e63eb2c597bf6fda36,Dell EMC Sc: Add support for whitelisting fault domains,MERGED,2020-05-13 22:45:47.000000000,2020-07-24 21:42:18.000000000,2020-07-24 21:39:58.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 7160}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21129}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 31854}, {'_account_id': 32071}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-05-13 22:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/af24b63499a3e0329adfbfcbcfdb5b9c07e533f1', 'message': 'Dell EMC Sc: Add support for whitelisting fault domains\n\nAdded an ``included_domain_ips`` option to the Dell EMC SC driver. This\noption takes a comma separated list of target IPv4 addresses listed under\nthe fault domains to whitelisted. This option only applies to the ISCSI\ndriver.\n\nChange-Id: I41448202ba1874b90b6865e63eb2c597bf6fda36\n'}, {'number': 2, 'created': '2020-05-13 22:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4e264b87501f74afe2a2b0cc333b19b210eab3a2', 'message': 'Dell EMC Sc: Add support for whitelisting fault domains\n\nAdded an ``included_domain_ips`` option to the Dell EMC SC driver. This\noption takes a comma separated list of target IPv4 addresses listed under\nthe fault domains to whitelisted. This option only applies to the ISCSI\ndriver.\n\nChange-Id: I41448202ba1874b90b6865e63eb2c597bf6fda36\n'}, {'number': 3, 'created': '2020-05-14 15:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1644d2df820327715bfc2c2f109c0513344f8773', 'message': 'Dell EMC Sc: Add support for whitelisting fault domains\n\nAdded an ``included_domain_ips`` option to the Dell EMC SC driver. This\noption takes a comma separated list of target IPv4 addresses listed under\nthe fault domains to whitelisted. This option only applies to the ISCSI\ndriver.\n\nChange-Id: I41448202ba1874b90b6865e63eb2c597bf6fda36\n'}, {'number': 4, 'created': '2020-05-15 16:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1393aaa7286a66e75d3507250adef3f1b7d739c1', 'message': 'Dell EMC Sc: Add support for whitelisting fault domains\n\nAdded an ``included_domain_ips`` option to the Dell EMC SC driver. This\noption takes a comma separated list of target IPv4 addresses listed under\nthe fault domains to whitelisted. This option only applies to the ISCSI\ndriver.\n\nChange-Id: I41448202ba1874b90b6865e63eb2c597bf6fda36\n'}, {'number': 5, 'created': '2020-05-20 23:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e967ca751b67bebd2a5d23a2ec211276703ceb0', 'message': 'Dell EMC Sc: Add support for whitelisting fault domains\n\nAdded an ``included_domain_ips`` option to the Dell EMC SC driver. This\noption takes a comma separated list of target IPv4 addresses listed under\nthe fault domains to whitelisted. This option only applies to the ISCSI\ndriver.\n\nChange-Id: I41448202ba1874b90b6865e63eb2c597bf6fda36\n'}, {'number': 6, 'created': '2020-05-21 00:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a4994f6d232ae92f7f4383e7e916cd91be2835a', 'message': 'Dell EMC Sc: Add support for whitelisting fault domains\n\nAdded an ``included_domain_ips`` option to the Dell EMC SC driver. This\noption takes a comma separated list of target IPv4 addresses listed under\nthe fault domains to whitelisted. This option only applies to the ISCSI\ndriver.\n\nChange-Id: I41448202ba1874b90b6865e63eb2c597bf6fda36\n'}, {'number': 7, 'created': '2020-05-26 19:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b5d2f054e127be70e92f1083df59ec951955856c', 'message': 'Dell EMC Sc: Add support for whitelisting fault domains\n\nAdded an ``included_domain_ips`` option to the Dell EMC SC driver. This\noption takes a comma separated list of target IPv4 addresses listed under\nthe fault domains to whitelisted. This option only applies to the ISCSI\ndriver.\n\nChange-Id: I41448202ba1874b90b6865e63eb2c597bf6fda36\n'}, {'number': 8, 'created': '2020-05-26 19:24:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/44f210906abf8f765ca7ea50b670acefdcee1bd1', 'message': 'Dell EMC Sc: Add support for whitelisting fault domains\n\nAdded an ``included_domain_ips`` option to the Dell EMC SC driver. This\noption takes a comma separated list of target IP addresses listed under\nthe fault domains to whitelisted. This option only applies to the ISCSI\ndriver.\n\nChange-Id: I41448202ba1874b90b6865e63eb2c597bf6fda36\n'}, {'number': 9, 'created': '2020-05-29 15:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/652f4da3dde9033bd2502939c12b79339b4f8016', 'message': 'Dell EMC Sc: Add support for whitelisting fault domains\n\nAdded an ``included_domain_ips`` option to the Dell EMC SC driver. This\noption takes a comma separated list of target IP addresses listed under\nthe fault domains to whitelisted. This option only applies to the ISCSI\ndriver.\n\nChange-Id: I41448202ba1874b90b6865e63eb2c597bf6fda36\n'}, {'number': 10, 'created': '2020-06-02 21:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4aa8500be01695d3babcec3ea75e3108d12a59b1', 'message': 'Dell EMC Sc: Add support for whitelisting fault domains\n\nAdded an ``included_domain_ips`` option to the Dell EMC SC driver. This\noption takes a comma separated list of target IP addresses listed under\nthe fault domains to whitelisted. This option only applies to the ISCSI\ndriver.\n\nChange-Id: I41448202ba1874b90b6865e63eb2c597bf6fda36\n'}, {'number': 11, 'created': '2020-06-02 21:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e0c35e5f52b5442055850600cfd43b1a413c307', 'message': 'Dell EMC Sc: Add support for whitelisting fault domains\n\nAdded an ``included_domain_ips`` option to the Dell EMC SC driver. This\noption takes a comma separated list of target IP addresses listed under\nthe fault domains to whitelisted. This option only applies to the ISCSI\ndriver.\n\nChange-Id: I41448202ba1874b90b6865e63eb2c597bf6fda36\n'}, {'number': 12, 'created': '2020-06-04 19:18:16.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/sc/test_scapi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_iscsi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/sc/test_sc.py', 'cinder/tests/unit/volume/drivers/dell_emc/sc/test_fc.py', 'doc/source/configuration/block-storage/drivers/dell-storagecenter-driver.rst', 'releasenotes/notes/SC-included_domain_ips_ListOpt-61bacddee199ce83.yaml', 'cinder/volume/drivers/dell_emc/sc/storagecenter_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8a997d88ae2b3c1a925ecd107c50fc3122e05029', 'message': 'Dell EMC Sc: Add support for whitelisting fault domains\n\nAdded an ``included_domain_ips`` option to the Dell EMC SC driver. This\noption takes a comma separated list of target IP addresses listed under\nthe fault domains to whitelisted. This option only applies to the ISCSI\ndriver.\n\nChange-Id: I41448202ba1874b90b6865e63eb2c597bf6fda36\n'}]",33,727892,8a997d88ae2b3c1a925ecd107c50fc3122e05029,268,41,12,10379,,,0,"Dell EMC Sc: Add support for whitelisting fault domains

Added an ``included_domain_ips`` option to the Dell EMC SC driver. This
option takes a comma separated list of target IP addresses listed under
the fault domains to whitelisted. This option only applies to the ISCSI
driver.

Change-Id: I41448202ba1874b90b6865e63eb2c597bf6fda36
",git fetch https://review.opendev.org/openstack/cinder refs/changes/92/727892/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/sc/test_scapi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_iscsi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/sc/test_sc.py', 'cinder/tests/unit/volume/drivers/dell_emc/sc/test_fc.py', 'doc/source/configuration/block-storage/drivers/dell-storagecenter-driver.rst', 'releasenotes/notes/SC-included_domain_ips_ListOpt-61bacddee199ce83.yaml', 'cinder/volume/drivers/dell_emc/sc/storagecenter_fc.py']",9,af24b63499a3e0329adfbfcbcfdb5b9c07e533f1,sc_include_domains, 4.1.2 - included_domain_ips support.,,211,2
openstack%2Fswift~master~I0a7d65f64540f99514c52a70f9157ef060a8a892,openstack/swift,master,I0a7d65f64540f99514c52a70f9157ef060a8a892,swift-container-info: Show shard ranges summary,MERGED,2020-06-19 18:12:23.000000000,2020-07-24 21:41:31.000000000,2020-07-24 21:39:52.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-19 18:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/258a6bd3ff1edeffb9c31b2c5c8ab7c484313ccd', 'message': ""swift-container-info: Don't show all shard ranges when there are many\n\nAt least, not by default. Add a -v/--verbose flag if you really want to\nsee them.\n\nThe current behavior is really painful when you've got hundreds of shard\nranges in a DB.\n\nChange-Id: I0a7d65f64540f99514c52a70f9157ef060a8a892\n""}, {'number': 2, 'created': '2020-06-19 20:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/01aef1ed4fa05a89b752990a4c033ebd59b7e4b3', 'message': ""swift-container-info: Don't show all shard ranges when there are many\n\nAt least, not by default. Add a -v/--verbose flag if you really want to\nsee them.\n\nThe current behavior is really painful when you've got hundreds of shard\nranges in a DB.\n\nChange-Id: I0a7d65f64540f99514c52a70f9157ef060a8a892\n""}, {'number': 3, 'created': '2020-07-22 17:29:57.000000000', 'files': ['swift/cli/info.py', 'test/unit/cli/test_info.py', 'bin/swift-container-info'], 'web_link': 'https://opendev.org/openstack/swift/commit/67e3830ab92ff32d16d32320cf30b67dca671515', 'message': ""swift-container-info: Show shard ranges summary\n\nThe current behavior is really painful when you've got hundreds of shard\nranges in a DB.  The new summary with the states is default.  Users can\nadd a -v/--verbose flag to see the old full detail view.\n\nChange-Id: I0a7d65f64540f99514c52a70f9157ef060a8a892\n""}]",8,737056,67e3830ab92ff32d16d32320cf30b67dca671515,26,3,3,15343,,,0,"swift-container-info: Show shard ranges summary

The current behavior is really painful when you've got hundreds of shard
ranges in a DB.  The new summary with the states is default.  Users can
add a -v/--verbose flag to see the old full detail view.

Change-Id: I0a7d65f64540f99514c52a70f9157ef060a8a892
",git fetch https://review.opendev.org/openstack/swift refs/changes/56/737056/3 && git format-patch -1 --stdout FETCH_HEAD,"['swift/cli/info.py', 'test/unit/cli/test_info.py', 'bin/swift-container-info']",3,258a6bd3ff1edeffb9c31b2c5c8ab7c484313ccd,737056," parser.add_option( '-v', '--verbose', default=False, action=""store_true"", help=""Show all shard ranges. By default, only the number of shard "" ""ranges is displayed if there are many shards."")",,91,17
openstack%2Fcinder~stable%2Fpike~I44650912e88808ce56b347633093e05d5741252c,openstack/cinder,stable/pike,I44650912e88808ce56b347633093e05d5741252c,[Unity] Fix TypeError for test case test_delete_host_wo_lock,MERGED,2020-05-20 13:45:07.000000000,2020-07-24 21:39:55.000000000,2020-07-24 21:39:54.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 17685}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-05-20 13:45:07.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/unity/test_client.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/57a518b68b12df5f02f3a6de8f231b9f6ab0506d', 'message': '[Unity] Fix TypeError for test case test_delete_host_wo_lock\n\nFix TypeError ""\'NoneType\' object is not callable"" in test case\ntest_delete_host_wo_lock\n\nChange-Id: I44650912e88808ce56b347633093e05d5741252c\nCloses-bug: #1867619\n(cherry picked from commit f88845d756ebd50713a6533d0e3108c4ff9ce00d)\n(cherry picked from commit c5f4e6aff5b591099dab1f5350b9c6c6494cfccb)\n(cherry picked from commit 25a43b48724477dca44513de153e5a7d50f8ed23)\n(cherry picked from commit 78af5f869ee9421b2fed2c7cdfbf4b3957840f75)\n(cherry picked from commit 8072b321ca444770c0d37fb027ee5e9d5ba835d1)\n'}]",0,729604,57a518b68b12df5f02f3a6de8f231b9f6ab0506d,19,14,1,26114,,,0,"[Unity] Fix TypeError for test case test_delete_host_wo_lock

Fix TypeError ""'NoneType' object is not callable"" in test case
test_delete_host_wo_lock

Change-Id: I44650912e88808ce56b347633093e05d5741252c
Closes-bug: #1867619
(cherry picked from commit f88845d756ebd50713a6533d0e3108c4ff9ce00d)
(cherry picked from commit c5f4e6aff5b591099dab1f5350b9c6c6494cfccb)
(cherry picked from commit 25a43b48724477dca44513de153e5a7d50f8ed23)
(cherry picked from commit 78af5f869ee9421b2fed2c7cdfbf4b3957840f75)
(cherry picked from commit 8072b321ca444770c0d37fb027ee5e9d5ba835d1)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/04/729604/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/dell_emc/unity/test_client.py'],1,57a518b68b12df5f02f3a6de8f231b9f6ab0506d,unity_fix_ut_issue-stable/train-stable/stein-stable/rocky-stable/queens-stable/pike," elif self.name == 'empty-host': self.client.delete_host_wo_lock, host)", elif self.name == 'empty_host': self.client.delete_host_wo_lock(host)),3,2
openstack%2Fcinder~stable%2Fpike~I975922b2ac951988e51743cd9f2f6f76be520840,openstack/cinder,stable/pike,I975922b2ac951988e51743cd9f2f6f76be520840,Remove VxFlex OS credentials from connection_properties,MERGED,2020-06-04 16:58:29.000000000,2020-07-24 21:39:51.000000000,2020-07-24 21:39:51.000000000,"[{'_account_id': 1916}, {'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 17685}, {'_account_id': 19933}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 31016}]","[{'number': 1, 'created': '2020-06-04 16:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2f0a09b78223d719925d0c9d859dc4be0eec262d', 'message': 'Remove VxFlex OS credentials from connection_properties\n\nVxFlex OS password is not stored in block_device_mapping table.\nInstead of this passwords are stored in separate file and are\nretrieved during each attach/detach operation.\n\nThe stable/pike branch is in Extended Maintenance mode and is no\nlonger released from.  If you decide to apply this patch to your\ndeployment, you must make a corresponding change to the os-brick\nlibrary.  You can find the os-brick patch for stable/pike here:\n    https://review.opendev.org/#/c/733615\n\nAdditionally, you must deploy a new configuration file on compute\nnodes, cinder nodes, and anywhere you would perform a volume\nattachment in your deployment.  See the documentation change on\nthis patch for details about the new config file.\n\nSee OSSN-0086 for more information about this change:\n    https://wiki.openstack.org/wiki/OSSN/OSSN-0086\n\nChange-Id: I975922b2ac951988e51743cd9f2f6f76be520840\nCloses-Bug: #1823200\n'}, {'number': 2, 'created': '2020-07-24 15:24:32.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-scaleio-driver.rst', 'cinder/volume/drivers/dell_emc/scaleio/driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ba785eef5f515b869c0d68016e84bb74f76ab45e', 'message': 'Remove VxFlex OS credentials from connection_properties\n\nVxFlex OS password is not stored in block_device_mapping table.\nInstead of this passwords are stored in separate file and are\nretrieved during each attach/detach operation.\n\nThe stable/pike branch is in Extended Maintenance mode and is no\nlonger released from.  If you decide to apply this patch to your\ndeployment, you must make a corresponding change to the os-brick\nlibrary.  You can find the os-brick patch for stable/pike here:\n    https://review.opendev.org/#/c/733615\n\nAdditionally, you must deploy a new configuration file on compute\nnodes, cinder nodes, and anywhere you would perform a volume\nattachment in your deployment.  See the documentation change on\nthis patch for details about the new config file.\n\nSee OSSN-0086 for more information about this change:\n    https://wiki.openstack.org/wiki/OSSN/OSSN-0086\n\nChange-Id: I975922b2ac951988e51743cd9f2f6f76be520840\nCloses-Bug: #1823200\n'}]",0,733662,ba785eef5f515b869c0d68016e84bb74f76ab45e,47,18,2,31016,,,0,"Remove VxFlex OS credentials from connection_properties

VxFlex OS password is not stored in block_device_mapping table.
Instead of this passwords are stored in separate file and are
retrieved during each attach/detach operation.

The stable/pike branch is in Extended Maintenance mode and is no
longer released from.  If you decide to apply this patch to your
deployment, you must make a corresponding change to the os-brick
library.  You can find the os-brick patch for stable/pike here:
    https://review.opendev.org/#/c/733615

Additionally, you must deploy a new configuration file on compute
nodes, cinder nodes, and anywhere you would perform a volume
attachment in your deployment.  See the documentation change on
this patch for details about the new config file.

See OSSN-0086 for more information about this change:
    https://wiki.openstack.org/wiki/OSSN/OSSN-0086

Change-Id: I975922b2ac951988e51743cd9f2f6f76be520840
Closes-Bug: #1823200
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/733662/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/block-storage/drivers/dell-emc-scaleio-driver.rst', 'cinder/volume/drivers/dell_emc/scaleio/driver.py']",2,2f0a09b78223d719925d0c9d859dc4be0eec262d,bug/1823200," 2.0.3.1: Fix for Bug #1823200. See OSSN-0086 for details. VERSION = ""2.0.3.1"" 'config_group': self.configuration.config_group,"," VERSION = ""2.0.3"" 'serverPassword': self.server_password, 'serverToken': self.server_token,",30,3
openstack%2Fcharm-ceph-proxy~master~I35e74aa488f0f67a9f98ea6807f22d503a1467cc,openstack/charm-ceph-proxy,master,I35e74aa488f0f67a9f98ea6807f22d503a1467cc,Sync charm-helpers for Victoria/Groovy updates,MERGED,2020-07-13 18:59:24.000000000,2020-07-24 21:21:27.000000000,2020-07-24 21:21:27.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 18:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/19285cc5715e070883876319c42ae32b9ec17843', 'message': 'Sync charm-helpers for Victoria/Groovy updates\n\nThis sync picks up the release and version details for Victoria/Groovy.\n\nChange-Id: I35e74aa488f0f67a9f98ea6807f22d503a1467cc\n'}, {'number': 2, 'created': '2020-07-15 14:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/27cd961a338cf589063d2f19ebd29b6ee61a7077', 'message': 'Sync charm-helpers for Victoria/Groovy updates\n\nThis sync picks up the release and version details for Victoria/Groovy.\n\nDepends-On: https://review.opendev.org/#/c/733686/\nChange-Id: I35e74aa488f0f67a9f98ea6807f22d503a1467cc\n'}, {'number': 3, 'created': '2020-07-24 17:09:12.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/8f90c601e0b8880549ed43c503d77e404f1a0bc5', 'message': 'Sync charm-helpers for Victoria/Groovy updates\n\nThis sync picks up the release and version details for Victoria/Groovy.\n\nDepends-On: https://review.opendev.org/#/c/733686/\nChange-Id: I35e74aa488f0f67a9f98ea6807f22d503a1467cc\n'}]",0,740756,8f90c601e0b8880549ed43c503d77e404f1a0bc5,17,4,3,11805,,,0,"Sync charm-helpers for Victoria/Groovy updates

This sync picks up the release and version details for Victoria/Groovy.

Depends-On: https://review.opendev.org/#/c/733686/
Change-Id: I35e74aa488f0f67a9f98ea6807f22d503a1467cc
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/56/740756/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/snap.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py']",5,19285cc5715e070883876319c42ae32b9ec17843,batch-update," # Victoria 'victoria': 'focal-updates/victoria', 'focal-victoria': 'focal-updates/victoria', 'focal-victoria/updates': 'focal-updates/victoria', 'focal-updates/victoria': 'focal-updates/victoria', 'victoria/proposed': 'focal-proposed/victoria', 'focal-victoria/proposed': 'focal-proposed/victoria', 'focal-proposed/victoria': 'focal-proposed/victoria',",,32,8
openstack%2Fopenstack-ansible-os_panko~stable%2Fussuri~I5bc1a732cf5c7e3c94dbee613f52e0718fbe482e,openstack/openstack-ansible-os_panko,stable/ussuri,I5bc1a732cf5c7e3c94dbee613f52e0718fbe482e,Add centos-8 support,MERGED,2020-07-24 16:30:43.000000000,2020-07-24 21:02:35.000000000,2020-07-24 20:59:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-07-24 16:30:43.000000000', 'files': ['vars/redhat.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/22b5bdd7a41d8264946fa9b565577ec8ab4efc91', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nChange-Id: I5bc1a732cf5c7e3c94dbee613f52e0718fbe482e\n(cherry picked from commit 52003c2162415761079a98bda934fce31aa986c7)\n'}]",0,742939,22b5bdd7a41d8264946fa9b565577ec8ab4efc91,8,4,1,28619,,,0,"Add centos-8 support

Renaming redhat-7.yml to redhat.yml for centos-8 support.

Change-Id: I5bc1a732cf5c7e3c94dbee613f52e0718fbe482e
(cherry picked from commit 52003c2162415761079a98bda934fce31aa986c7)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/39/742939/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'zuul.d/project.yaml']",2,22b5bdd7a41d8264946fa9b565577ec8ab4efc91,osa/el8-stable/ussuri, check: jobs: - openstack-ansible-deploy-aio_metal-centos-8: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-8: voting: false - openstack-ansible-deploy-aio_metal-ubuntu-focal: voting: false gate: jobs: - openstack-ansible-deploy-aio_metal-centos-8: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-8: voting: false - openstack-ansible-deploy-aio_metal-ubuntu-focal: voting: false,,16,0
openstack%2Fkayobe-config-dev~stable%2Fussuri~Ic67a6e325cfb65422d4020bf6e64f038688fc26f,openstack/kayobe-config-dev,stable/ussuri,Ic67a6e325cfb65422d4020bf6e64f038688fc26f,CI: Add all kayobe jobs,MERGED,2020-07-24 17:25:45.000000000,2020-07-24 20:54:43.000000000,2020-07-24 20:54:43.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 17:25:45.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/f5c45888538861d97102c6806b731e329b887d57', 'message': 'CI: Add all kayobe jobs\n\nEnsure we are properly testing changes to the dev/test config.\n\nChange-Id: Ic67a6e325cfb65422d4020bf6e64f038688fc26f\n(cherry picked from commit a4cd89d5780ee236b5e6bd2cf4eeaa1119266819)\n'}]",0,742948,f5c45888538861d97102c6806b731e329b887d57,6,2,1,14826,,,0,"CI: Add all kayobe jobs

Ensure we are properly testing changes to the dev/test config.

Change-Id: Ic67a6e325cfb65422d4020bf6e64f038688fc26f
(cherry picked from commit a4cd89d5780ee236b5e6bd2cf4eeaa1119266819)
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/48/742948/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,f5c45888538861d97102c6806b731e329b887d57,, - kayobe-overcloud-host-configure-centos8 - kayobe-overcloud-upgrade-centos8 - kayobe-seed-upgrade-centos8 - kayobe-seed-vm-centos8 - kayobe-overcloud-host-configure-centos8 - kayobe-overcloud-upgrade-centos8 - kayobe-seed-upgrade-centos8 - kayobe-seed-vm-centos8,,8,0
openstack%2Ftripleo-heat-templates~master~I2e01c3177a3769032b691e0ee0f056a9602da845,openstack/tripleo-heat-templates,master,I2e01c3177a3769032b691e0ee0f056a9602da845,Remove uuid from hostname_format to align hostname with other plugins,ABANDONED,2020-01-21 21:51:30.000000000,2020-07-24 20:43:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-01-21 21:51:30.000000000', 'files': ['environments/enable-saf.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1701e20af46325ecb9a1f772d63f7c2ff127372b', 'message': 'Remove uuid from hostname_format to align hostname with other plugins\n\nChange-Id: I2e01c3177a3769032b691e0ee0f056a9602da845\n'}]",0,703697,1701e20af46325ecb9a1f772d63f7c2ff127372b,4,2,1,31510,,,0,"Remove uuid from hostname_format to align hostname with other plugins

Change-Id: I2e01c3177a3769032b691e0ee0f056a9602da845
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/703697/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/enable-saf.yaml'],1,1701e20af46325ecb9a1f772d63f7c2ff127372b,enable-saf," collectd::plugin::virt::hostname_format: ""hostname"""," collectd::plugin::virt::hostname_format: ""hostname uuid""",1,1
openstack%2Fopenstack-helm~master~I0a164ed48dd11780b4fdbb8be6b492fb45efe0aa,openstack/openstack-helm,master,I0a164ed48dd11780b4fdbb8be6b492fb45efe0aa,Add missing security context to Glance pods/containers,MERGED,2020-07-22 22:15:08.000000000,2020-07-24 20:42:26.000000000,2020-07-24 20:40:41.000000000,"[{'_account_id': 7769}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29144}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-07-22 22:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0be731c5e4fcfb094c306acdedfb1a1a7a6557db', 'message': '[WIP]\n\nChange-Id: I0a164ed48dd11780b4fdbb8be6b492fb45efe0aa\n'}, {'number': 2, 'created': '2020-07-23 03:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ef305e419004772ed7270b57a7764160d293c261', 'message': 'Add missing security context to Glance pods/containers\n\nThis updates the Glance chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I0a164ed48dd11780b4fdbb8be6b492fb45efe0aa\n'}, {'number': 3, 'created': '2020-07-24 16:09:55.000000000', 'files': ['glance/templates/job-clean.yaml', 'glance/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b850fa0d0c15571bf93a4dd3c802cc0e4eda4b06', 'message': 'Add missing security context to Glance pods/containers\n\nThis updates the Glance chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I0a164ed48dd11780b4fdbb8be6b492fb45efe0aa\n'}]",0,742548,b850fa0d0c15571bf93a4dd3c802cc0e4eda4b06,16,11,3,29144,,,0,"Add missing security context to Glance pods/containers

This updates the Glance chart to include the pod
security context on the pod template.

This also adds the container security context to set
readOnlyRootFilesystem flag to true

Change-Id: I0a164ed48dd11780b4fdbb8be6b492fb45efe0aa
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/48/742548/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/templates/job-clean.yaml', 'glance/values.yaml']",2,0be731c5e4fcfb094c306acdedfb1a1a7a6557db,glance, clean: pod: runAsUser: 42424 container: glance_secret_clean: readOnlyRootFilesystem: true allowPrivilegeEscalation: false,,9,0
openstack%2Fopenstack-helm-images~master~I7e35d110d98d3a49af1ab8513199a6130a51dcc6,openstack/openstack-helm-images,master,I7e35d110d98d3a49af1ab8513199a6130a51dcc6,Update ceph to 14.2.10,ABANDONED,2020-07-24 20:26:34.000000000,2020-07-24 20:35:29.000000000,,[],"[{'number': 1, 'created': '2020-07-24 20:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/485faf260a0d2772399418f993477ee33bfca013', 'message': 'Update ceph to 14.2.10\n\nMirantis does not have 14.2.9 version.\nRef : https://mirror.mirantis.com/testing/ceph-nautilus/bionic/pool/main/c/ceph/\n\nChange-Id: I7e35d110d98d3a49af1ab8513199a6130a51dcc6\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}]",0,742992,485faf260a0d2772399418f993477ee33bfca013,4,0,1,29131,,,0,"Update ceph to 14.2.10

Mirantis does not have 14.2.9 version.
Ref : https://mirror.mirantis.com/testing/ceph-nautilus/bionic/pool/main/c/ceph/

Change-Id: I7e35d110d98d3a49af1ab8513199a6130a51dcc6
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/92/742992/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,485faf260a0d2772399418f993477ee33bfca013,Ceph_Version_Change,,,0,0
openstack%2Fopenstack-helm~master~Ia6e3c56087bae6f8c86db688404c6ce3a1d5d99d,openstack/openstack-helm,master,Ia6e3c56087bae6f8c86db688404c6ce3a1d5d99d,Add missing security context to Cinder pods/containers,MERGED,2020-07-22 19:33:27.000000000,2020-07-24 20:28:09.000000000,2020-07-24 20:26:37.000000000,"[{'_account_id': 7769}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29144}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-07-22 19:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9d3c3250d2da5453c3d33fb64e8283aa2f4e5d41', 'message': '[WIP]\n\nChange-Id: Ia6e3c56087bae6f8c86db688404c6ce3a1d5d99d\n'}, {'number': 2, 'created': '2020-07-23 03:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a570d4ac3428e8b8e4fc2a0b44158d6c216fbe09', 'message': 'Add missing security context to Cinder pods/containers\n\nThis updates the cinder chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: Ia6e3c56087bae6f8c86db688404c6ce3a1d5d99d\n'}, {'number': 3, 'created': '2020-07-24 16:09:49.000000000', 'files': ['cinder/values.yaml', 'cinder/templates/job-clean.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/711631d664ac57a4979d61bff55b0538417a30a1', 'message': 'Add missing security context to Cinder pods/containers\n\nThis updates the cinder chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: Ia6e3c56087bae6f8c86db688404c6ce3a1d5d99d\n'}]",0,742524,711631d664ac57a4979d61bff55b0538417a30a1,14,11,3,29144,,,0,"Add missing security context to Cinder pods/containers

This updates the cinder chart to include the pod
security context on the pod template.

This also adds the container security context to set
readOnlyRootFilesystem flag to true

Change-Id: Ia6e3c56087bae6f8c86db688404c6ce3a1d5d99d
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/24/742524/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/values.yaml', 'cinder/templates/job-clean.yaml']",2,9d3c3250d2da5453c3d33fb64e8283aa2f4e5d41,,"{{ dict ""envAll"" $envAll ""application"" ""clean"" | include ""helm-toolkit.snippets.kubernetes_pod_security_context"" | indent 6 }}{{ dict ""envAll"" $envAll ""application"" ""clean"" ""container"" ""cinder_volume_rbd_secret_clean"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }}",,9,0
openstack%2Fcinder~stable%2Frocky~Icb1289611bf9713dab9aea5e4701ebb84ebfb2ab,openstack/cinder,stable/rocky,Icb1289611bf9713dab9aea5e4701ebb84ebfb2ab,WIP (TESTING ONLY) CoprHD: Handle certificate error,ABANDONED,2020-05-29 16:44:52.000000000,2020-07-24 20:11:55.000000000,,"[{'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22797}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-05-29 16:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/99f97b10b2fe9bda0756f02707360d02adba0897', 'message': 'CoprHD: Handle certificate error\n\nThis fix allows user to have secure communication with CoprHD with\neither self signed certificate or CA verified trusted certificate.\n\nUser needs to mention 2 parameters in the cinder.config file for this.\nThe first parameter to tell if certificate verification is needed at all\nand second parameter specifies the path to the self signed certificate.\n\nIf first parameter is true and the second parameter is set to None\nthen its assumed that the CoprHD CA signed certificate authority is\npresent in the trusted certs store of client.\n\nChange-Id: Icb1289611bf9713dab9aea5e4701ebb84ebfb2ab\nCloses-Bug: #1653626\n(cherry picked from commit e1adc82cdbb4e26ed9aaee1a373a1331fb8ebaae)\n'}, {'number': 2, 'created': '2020-05-29 17:07:40.000000000', 'files': ['cinder/volume/drivers/coprhd/helpers/authentication.py', 'cinder/volume/drivers/coprhd/common.py', 'cinder/volume/drivers/coprhd/helpers/commoncoprhdapi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/199125b0927cd3714765e9757553d9ebb53fe355', 'message': 'WIP (TESTING ONLY) CoprHD: Handle certificate error\n\nThis fix allows user to have secure communication with CoprHD with\neither self signed certificate or CA verified trusted certificate.\n\nUser needs to mention 2 parameters in the cinder.config file for this.\nThe first parameter to tell if certificate verification is needed at all\nand second parameter specifies the path to the self signed certificate.\n\nIf first parameter is true and the second parameter is set to None\nthen its assumed that the CoprHD CA signed certificate authority is\npresent in the trusted certs store of client.\n\nChange-Id: Icb1289611bf9713dab9aea5e4701ebb84ebfb2ab\nCloses-Bug: #1653626\n(cherry picked from commit e1adc82cdbb4e26ed9aaee1a373a1331fb8ebaae)\n'}]",0,731807,199125b0927cd3714765e9757553d9ebb53fe355,24,17,2,14892,,,0,"WIP (TESTING ONLY) CoprHD: Handle certificate error

This fix allows user to have secure communication with CoprHD with
either self signed certificate or CA verified trusted certificate.

User needs to mention 2 parameters in the cinder.config file for this.
The first parameter to tell if certificate verification is needed at all
and second parameter specifies the path to the self signed certificate.

If first parameter is true and the second parameter is set to None
then its assumed that the CoprHD CA signed certificate authority is
present in the trusted certs store of client.

Change-Id: Icb1289611bf9713dab9aea5e4701ebb84ebfb2ab
Closes-Bug: #1653626
(cherry picked from commit e1adc82cdbb4e26ed9aaee1a373a1331fb8ebaae)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/731807/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/coprhd/helpers/authentication.py', 'cinder/volume/drivers/coprhd/common.py', 'cinder/volume/drivers/coprhd/helpers/commoncoprhdapi.py']",3,99f97b10b2fe9bda0756f02707360d02adba0897,add_cert_verification,"global VERIFY_CERT VERIFY_CERT = False response = requests.get(url, headers=headers, verify=VERIFY_CERT, verify=VERIFY_CERT, cookies=cookiejar) verify=VERIFY_CERT, cookies=cookiejar) elif http_method == 'DELETE': response = requests.delete(url, headers=headers, verify=VERIFY_CERT,"," response = requests.get(url, headers=headers, verify=False, verify=False, cookies=cookiejar) verify=False, cookies=cookiejar) elif http_method == 'DELETE': response = requests.delete(url, headers=headers, verify=False,",42,13
openstack%2Ftripleo-heat-templates~master~I733cec2b34ef0bd0780ba5b0520127b911505e1b,openstack/tripleo-heat-templates,master,I733cec2b34ef0bd0780ba5b0520127b911505e1b,Avoid failing on deleted file,MERGED,2020-06-05 18:13:26.000000000,2020-07-24 20:01:24.000000000,2020-07-24 20:01:23.000000000,"[{'_account_id': 3153}, {'_account_id': 7130}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 25877}, {'_account_id': 28223}, {'_account_id': 30133}]","[{'number': 1, 'created': '2020-06-05 18:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/12b3eaf632b88725932638bbcd9730aaee620f92', 'message': 'Avoid failing on deleted file\n\nAvoid failing on deleted file as sometimes file might get\ndeleted while the script run.  Log it as info instead for\ntroubleshooting purposes.\n\nChange-Id: I733cec2b34ef0bd0780ba5b0520127b911505e1b\n'}, {'number': 2, 'created': '2020-06-05 18:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/93d2259202e481819acc4ef8879c0b9cd0420697', 'message': 'Avoid failing on deleted file\n\nAvoid failing on deleted file as sometimes file might get\ndeleted while the script run.  Log it as info instead for\ntroubleshooting purposes.\n\nChange-Id: I733cec2b34ef0bd0780ba5b0520127b911505e1b\n'}, {'number': 3, 'created': '2020-06-16 12:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/733bb9b99ad514e2df80a8221bd4aa5706b1059a', 'message': 'Avoid failing on deleted file\n\nAvoid failing on deleted file as sometimes file might get\ndeleted while the script run.  Log it as info instead for\ntroubleshooting purposes.\n\nChange-Id: I733cec2b34ef0bd0780ba5b0520127b911505e1b\n'}, {'number': 4, 'created': '2020-06-19 15:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2a7c84c0c278cdd79be3038ec0045565b8413441', 'message': 'Avoid failing on deleted file\n\nAvoid failing on deleted file as sometimes file might get\ndeleted while the script run.  Log it as info instead for\ntroubleshooting purposes.\n\nChange-Id: I733cec2b34ef0bd0780ba5b0520127b911505e1b\n'}, {'number': 5, 'created': '2020-06-19 15:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8c24880ac4682d90ee2622a0652e14390a8907c0', 'message': 'Avoid failing on deleted file\n\nAvoid failing on deleted file as sometimes file might get\ndeleted while the script run.  Log it as info instead for\ntroubleshooting purposes.\n\nChange-Id: I733cec2b34ef0bd0780ba5b0520127b911505e1b\n'}, {'number': 6, 'created': '2020-06-23 22:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/16b3541df653da78447e34b404e54d47b06a8661', 'message': 'Avoid failing on deleted file\n\nAvoid failing on deleted file as sometimes file might get\ndeleted while the script run.  Log the exception instead for\ntroubleshooting purposes.\n\nChange-Id: I733cec2b34ef0bd0780ba5b0520127b911505e1b\n'}, {'number': 7, 'created': '2020-07-08 12:24:08.000000000', 'files': ['container_config_scripts/tests/test_nova_statedir_ownership.py', 'container_config_scripts/nova_statedir_ownership.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c3c8b41def1f37847fe1277a14634ccd4beb4f9', 'message': 'Avoid failing on deleted file\n\nAvoid failing on deleted file as sometimes file might get\ndeleted while the script run.  Log the exception instead for\ntroubleshooting purposes.\n\nChange-Id: I733cec2b34ef0bd0780ba5b0520127b911505e1b\n'}]",18,733906,6c3c8b41def1f37847fe1277a14634ccd4beb4f9,64,11,7,7130,,,0,"Avoid failing on deleted file

Avoid failing on deleted file as sometimes file might get
deleted while the script run.  Log the exception instead for
troubleshooting purposes.

Change-Id: I733cec2b34ef0bd0780ba5b0520127b911505e1b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/733906/1 && git format-patch -1 --stdout FETCH_HEAD,['container_config_scripts/nova_statedir_ownership.py'],1,12b3eaf632b88725932638bbcd9730aaee620f92,bug/deleted_file," try: statinfo = os.stat(self.path) self.is_dir = stat.S_ISDIR(statinfo.st_mode) self.uid = statinfo.st_uid self.gid = statinfo.st_gid self.secontext = selinux.lgetfilecon(self.path)[1] except: except Exception: LOG.info('Could not update %s: ', self.path)", statinfo = os.stat(self.path) self.is_dir = stat.S_ISDIR(statinfo.st_mode) self.uid = statinfo.st_uid self.gid = statinfo.st_gid self.secontext = selinux.lgetfilecon(self.path)[1],10,5
openstack%2Fos-brick~stable%2Fpike~Ib7778ba9d38a68d8b56ca632c5f1c353d55830b0,openstack/os-brick,stable/pike,Ib7778ba9d38a68d8b56ca632c5f1c353d55830b0,Remove VxFlex OS credentials from connection_properties,MERGED,2020-06-04 13:49:37.000000000,2020-07-24 19:31:08.000000000,2020-07-24 19:31:08.000000000,"[{'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 31016}]","[{'number': 1, 'created': '2020-06-04 13:49:37.000000000', 'files': ['os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/connectors/test_scaleio.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/4047948f1ac8055a025972ad73ec3ec421450775', 'message': 'Remove VxFlex OS credentials from connection_properties\n\nVxFlex OS password is not stored in block_device_mapping table. Instead of this\npasswords are stored in separate file and are retrieved during each attach/detach\noperation.\n\nCloses-Bug: #1823200\nChange-Id: Ib7778ba9d38a68d8b56ca632c5f1c353d55830b0\n(cherry picked from commit 72c63681178286ed9cd1e1ab48969a64b9004d7c)\n'}]",0,733615,4047948f1ac8055a025972ad73ec3ec421450775,25,10,1,14892,,,0,"Remove VxFlex OS credentials from connection_properties

VxFlex OS password is not stored in block_device_mapping table. Instead of this
passwords are stored in separate file and are retrieved during each attach/detach
operation.

Closes-Bug: #1823200
Change-Id: Ib7778ba9d38a68d8b56ca632c5f1c353d55830b0
(cherry picked from commit 72c63681178286ed9cd1e1ab48969a64b9004d7c)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/15/733615/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/connectors/test_scaleio.py']",2,4047948f1ac8055a025972ad73ec3ec421450775,bug/1823200," 'config_group': 'test', self.get_password_mock = self.mock_object(scaleio.ScaleIOConnector, '_get_connector_password', return_value='fake_password') self.get_password_mock.assert_called_once()"," 'serverPassword': 'fake', 'serverToken': 'fake_token',",39,4
openstack%2Ftripleo-ansible~master~I38fb4b83decf0b434e8f3bea1612662f3db73eab,openstack/tripleo-ansible,master,I38fb4b83decf0b434e8f3bea1612662f3db73eab,tripleo_container_manage: log execs in /var/log/containers/stdouts,ABANDONED,2020-07-13 15:42:06.000000000,2020-07-24 19:16:26.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-13 15:42:06.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/exec.yml', 'tripleo_ansible/tests/plugins/filter/test_helpers.py', 'tripleo_ansible/ansible_plugins/filter/helpers.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b0571279faf226062103a8091904f2a4c54ede44', 'message': 'tripleo_container_manage: log execs in /var/log/containers/stdouts\n\nAs the other containers run/create already use\n/var/log/containers/stdouts location to store their stdout logs, re-use\nthis place to store the logs every time the tripleo_container_manage\nrole runs a container cli exec.\n\nChange-Id: I38fb4b83decf0b434e8f3bea1612662f3db73eab\n'}]",0,740720,b0571279faf226062103a8091904f2a4c54ede44,11,5,1,3153,,,0,"tripleo_container_manage: log execs in /var/log/containers/stdouts

As the other containers run/create already use
/var/log/containers/stdouts location to store their stdout logs, re-use
this place to store the logs every time the tripleo_container_manage
role runs a container cli exec.

Change-Id: I38fb4b83decf0b434e8f3bea1612662f3db73eab
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/20/740720/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/exec.yml', 'tripleo_ansible/tests/plugins/filter/test_helpers.py', 'tripleo_ansible/ansible_plugins/filter/helpers.py']",3,b0571279faf226062103a8091904f2a4c54ede44,exec/logs," """"""Return a command to execute the container exec. to return the full command that will be used by Ansible command module. for cname, cdata in data.items(): cmd = [cli, 'exec'] cmd.append('--user=%s' % cdata.get('user', 'root')) if 'privileged' in cdata: cmd.append('--privileged=%s' % str(cdata['privileged']).lower()) self.list_or_dict_arg(cdata, cmd, 'environment', '--env') cmd.extend(cdata['command']) cmd.extend(['|&', 'tee', '-a', '/var/log/containers/stdouts/' + cname + '.log']) string_cmd = ' '.join(cmd) return string_cmd"," """"""Return a list of all the arguments to execute a container exec. to return the full command in a list of arguments that will be used by Ansible command module. cmd = [cli, 'exec'] cmd.append('--user=%s' % data.get('user', 'root')) if 'privileged' in data: cmd.append('--privileged=%s' % str(data['privileged']).lower()) self.list_or_dict_arg(data, cmd, 'environment', '--env') cmd.extend(data['command']) return cmd",36,31
openstack%2Fopenstack-helm~master~I6bd3c95d837f9b3273868d51c1f5121d96e53e73,openstack/openstack-helm,master,I6bd3c95d837f9b3273868d51c1f5121d96e53e73,Adding clean-up guide for 900-use-it script,MERGED,2020-06-16 16:39:06.000000000,2020-07-24 19:04:30.000000000,2020-07-24 19:03:04.000000000,"[{'_account_id': 8863}, {'_account_id': 10068}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28237}, {'_account_id': 28372}, {'_account_id': 31795}]","[{'number': 1, 'created': '2020-06-16 16:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2e3706a5f3f23594098c801a10f13d7e3c37f4f0', 'message': 'WIP Adding clean-up guide for 900-use-it script\n\nThis change modifies the exerise-the-cloud.rst file to include user\nsteps for cleaning up the client environment to allow for subsequent\nruns of the 900-use-it.sh script.\n\nChange-Id: I6bd3c95d837f9b3273868d51c1f5121d96e53e73\n'}, {'number': 2, 'created': '2020-06-16 16:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f2bb926c6b8d165ed88ce1139224da957fc1c9bb', 'message': 'WIP Adding clean-up guide for 900-use-it script\n\nThis change modifies the exerise-the-cloud.rst file to include user\nsteps for cleaning up the client environment to allow for subsequent\nruns of the 900-use-it.sh script.\n\nChange-Id: I6bd3c95d837f9b3273868d51c1f5121d96e53e73\n'}, {'number': 3, 'created': '2020-06-16 20:47:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4b914b18dd880818a7af51c5670fda3fb13db005', 'message': 'WIP Adding clean-up guide for 900-use-it script\n\nThis change modifies the exerise-the-cloud.rst file to include user\nsteps for cleaning up the client environment to allow for subsequent\nruns of the 900-use-it.sh script.\n\nChange-Id: I6bd3c95d837f9b3273868d51c1f5121d96e53e73\n'}, {'number': 4, 'created': '2020-06-16 22:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3494a1af9d0bd2b16afdee44672462c5ee0d1a23', 'message': 'WIP Adding clean-up guide for 900-use-it script\n\nThis change modifies the exerise-the-cloud.rst file to include user\nsteps for cleaning up the client environment to allow for subsequent\nruns of the 900-use-it.sh script.\n\nChange-Id: I6bd3c95d837f9b3273868d51c1f5121d96e53e73\n'}, {'number': 5, 'created': '2020-06-16 22:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f2fa398550166ba51330ca6244a741078731138a', 'message': 'WIP Adding clean-up guide for 900-use-it script\n\nThis change modifies the exerise-the-cloud.rst file to include user\nsteps for cleaning up the client environment to allow for subsequent\nruns of the 900-use-it.sh script.\n\nChange-Id: I6bd3c95d837f9b3273868d51c1f5121d96e53e73\n'}, {'number': 6, 'created': '2020-06-17 21:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b05551056439be3009c23bfc24ab9e5e31aea739', 'message': 'WIP Adding clean-up guide for 900-use-it script\n\nThis change modifies the exerise-the-cloud.rst file to include user\nsteps for cleaning up the client environment to allow for subsequent\nruns of the 900-use-it.sh script.\n\nChange-Id: I6bd3c95d837f9b3273868d51c1f5121d96e53e73\n'}, {'number': 7, 'created': '2020-06-17 22:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/48a7297bf7e912cc616debbaf85cb3aaf88ace71', 'message': 'WIP Adding clean-up guide for 900-use-it script\n\nThis change modifies the exerise-the-cloud.rst file to include user\nsteps for cleaning up the client environment to allow for subsequent\nruns of the 900-use-it.sh script.\n\nChange-Id: I6bd3c95d837f9b3273868d51c1f5121d96e53e73\n'}, {'number': 8, 'created': '2020-06-17 22:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a2b34cbc12daa087996d09371283f37bfbef96cc', 'message': 'Adding clean-up guide for 900-use-it script\n\nThis change modifies the exerise-the-cloud.rst file to include user\nsteps for cleaning up the client environment to allow for subsequent\nruns of the 900-use-it.sh script.\n\nChange-Id: I6bd3c95d837f9b3273868d51c1f5121d96e53e73\n'}, {'number': 9, 'created': '2020-06-19 19:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/56c663eda05cec4c8a9f2b60d02b48d3ce6d4f5d', 'message': 'Adding clean-up guide for 900-use-it script\n\nThis change modifies the exerise-the-cloud.rst file to include user\nsteps for cleaning up the client environment to allow for subsequent\nruns of the 900-use-it.sh script.\n\nChange-Id: I6bd3c95d837f9b3273868d51c1f5121d96e53e73\n'}, {'number': 10, 'created': '2020-06-22 17:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/544eb69fa3db3ab3926bf47939b61965aff83806', 'message': 'Adding clean-up guide for 900-use-it script\n\nThis change modifies the exerise-the-cloud.rst file to include user\nsteps for cleaning up the client environment to allow for subsequent\nruns of the 900-use-it.sh script.\n\nChange-Id: I6bd3c95d837f9b3273868d51c1f5121d96e53e73\n'}, {'number': 11, 'created': '2020-06-30 18:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/afe47feb345c7893189790d9c9291cb52eaaa433', 'message': 'Adding clean-up guide for 900-use-it script\n\nThis change modifies the exerise-the-cloud.rst file to include user\nsteps for cleaning up the client environment to allow for subsequent\nruns of the 900-use-it.sh script.\n\nChange-Id: I6bd3c95d837f9b3273868d51c1f5121d96e53e73\n'}, {'number': 12, 'created': '2020-06-30 22:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a84b6e74c84adb0690f1da810f150519cad93b51', 'message': 'Adding clean-up guide for 900-use-it script\n\nThis change modifies the exerise-the-cloud.rst file to include user\nsteps for cleaning up the client environment to allow for subsequent\nruns of the 900-use-it.sh script.\n\nChange-Id: I6bd3c95d837f9b3273868d51c1f5121d96e53e73\n'}, {'number': 13, 'created': '2020-06-30 22:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ef4fd6e6667b91909453e848145a1b3f2545b623', 'message': 'Adding clean-up guide for 900-use-it script\n\nThis change modifies the exerise-the-cloud.rst file to include user\nsteps for cleaning up the client environment to allow for subsequent\nruns of the 900-use-it.sh script.\n\nChange-Id: I6bd3c95d837f9b3273868d51c1f5121d96e53e73\n'}, {'number': 14, 'created': '2020-07-01 18:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d08044b765e961be3619c6d0212c42bc9f8a5c78', 'message': 'Adding clean-up guide for 900-use-it script\n\nThis change modifies the exerise-the-cloud.rst file to include user\nsteps for cleaning up the client environment to allow for subsequent\nruns of the 900-use-it.sh script.\n\nChange-Id: I6bd3c95d837f9b3273868d51c1f5121d96e53e73\n'}, {'number': 15, 'created': '2020-07-02 18:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4e90b605fe98e7eb89b4d8a479e76a386803159e', 'message': 'Adding clean-up guide for 900-use-it script\n\nThis change modifies the exerise-the-cloud.rst file to include user\nsteps for cleaning up the client environment to allow for subsequent\nruns of the 900-use-it.sh script.\n\nChange-Id: I6bd3c95d837f9b3273868d51c1f5121d96e53e73\n'}, {'number': 16, 'created': '2020-07-02 19:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f583c5c43b2d9a15e9bebd65398776e6bd074f6c', 'message': 'Adding clean-up guide for 900-use-it script\n\nThis change modifies the exerise-the-cloud.rst file to include user\nsteps for cleaning up the client environment to allow for subsequent\nruns of the 900-use-it.sh script.\n\nChange-Id: I6bd3c95d837f9b3273868d51c1f5121d96e53e73\n'}, {'number': 17, 'created': '2020-07-10 21:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/538c29e084e1246e642b28dfc342e6e7a2209090', 'message': 'Adding clean-up guide for 900-use-it script\n\nThis change modifies the exerise-the-cloud.rst file to include user\nsteps for cleaning up the client environment to allow for subsequent\nruns of the 900-use-it.sh script.\n\nChange-Id: I6bd3c95d837f9b3273868d51c1f5121d96e53e73\n'}, {'number': 18, 'created': '2020-07-20 18:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/63bd678fe4a9a8f4fad3a6bfeb2af0e5d2f29e4e', 'message': 'Adding clean-up guide for 900-use-it script\n\nThis change modifies the exerise-the-cloud.rst file to include user\nsteps for cleaning up the client environment to allow for subsequent\nruns of the 900-use-it.sh script.\n\nChange-Id: I6bd3c95d837f9b3273868d51c1f5121d96e53e73\n'}, {'number': 19, 'created': '2020-07-20 23:41:23.000000000', 'files': ['doc/source/install/developer/exercise-the-cloud.rst', 'tools/deployment/developer/common/910-clean-it.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1fcd52a4840db95fd963757ecba2d811c4f3eb04', 'message': 'Adding clean-up guide for 900-use-it script\n\nThis change modifies the exerise-the-cloud.rst file to include user\nsteps for cleaning up the client environment to allow for subsequent\nruns of the 900-use-it.sh script.\n\nChange-Id: I6bd3c95d837f9b3273868d51c1f5121d96e53e73\n'}]",21,735967,1fcd52a4840db95fd963757ecba2d811c4f3eb04,81,11,19,31795,,,0,"Adding clean-up guide for 900-use-it script

This change modifies the exerise-the-cloud.rst file to include user
steps for cleaning up the client environment to allow for subsequent
runs of the 900-use-it.sh script.

Change-Id: I6bd3c95d837f9b3273868d51c1f5121d96e53e73
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/67/735967/19 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/developer/exercise-the-cloud.rst'],1,2e3706a5f3f23594098c801a10f13d7e3c37f4f0,testing_docs_change, Steps for cleaning up the execution of 900-use-it for subsequent runs.,,2,0
openstack%2Fironic~master~I51da88d32e5e42c0c4e0e489c888d38b31517b59,openstack/ironic,master,I51da88d32e5e42c0c4e0e489c888d38b31517b59,Add subsections to the standalone documentation,MERGED,2020-07-24 10:18:29.000000000,2020-07-24 19:02:25.000000000,2020-07-24 18:52:53.000000000,"[{'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-24 10:18:29.000000000', 'files': ['doc/source/install/standalone.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/946087020ac2e188a405872bd7038ca1149fd44e', 'message': 'Add subsections to the standalone documentation\n\nChange-Id: I51da88d32e5e42c0c4e0e489c888d38b31517b59\n'}]",0,742842,946087020ac2e188a405872bd7038ca1149fd44e,10,4,1,10239,,,0,"Add subsections to the standalone documentation

Change-Id: I51da88d32e5e42c0c4e0e489c888d38b31517b59
",git fetch https://review.opendev.org/openstack/ironic refs/changes/42/742842/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/standalone.rst'],1,946087020ac2e188a405872bd7038ca1149fd44e,standalone-sections,"Service settings ---------------- Preparing images ---------------- .. note:: The Bare Metal service tracks content changes for non-Glance images by checking their modification date and time. For example, for HTTP image, if 'Last-Modified' header value from response to a HEAD request to ""http://my.server.net/images/deploy.ramdisk"" is greater than cached image modification time, Ironic will re-download the content. For ""file://"" images, the file system modification time is used. Using CLI --------- To use the :python-ironicclient-doc:`openstack baremetal CLI <cli/osc_plugin_cli.html>`, set up these environment variables. If the ``noauth`` authentication strategy is being used, the value ``none`` must be set for OS_AUTH_TYPE. OS_ENDPOINT is the URL of the ironic-api process. For example:: export OS_AUTH_TYPE=none export OS_ENDPOINT=http://localhost:6385/ If the ``http_basic`` authentication strategy is being used, the value ``http_basic`` must be set for OS_AUTH_TYPE. For example:: export OS_AUTH_TYPE=http_basic export OS_ENDPOINT=http://localhost:6385/ export OS_USERNAME=myUser export OS_PASSWORD=myPassword Enrolling nodes ---------------Populating instance_info ------------------------ #. For iLO drivers, fields that should be provided are: * ``ilo_deploy_iso`` under ``driver_info``; * ``ilo_boot_iso``, ``image_source``, ``root_gb`` under ``instance_info``. Deployment ---------- ","Steps to start a deployment are pretty similar to those when using Compute: #. To use the :python-ironicclient-doc:`openstack baremetal CLI <cli/osc_plugin_cli.html>`, set up these environment variables. If the ``noauth`` authentication strategy is being used, the value ``none`` must be set for OS_AUTH_TYPE. OS_ENDPOINT is the URL of the ironic-api process. For example:: export OS_AUTH_TYPE=none export OS_ENDPOINT=http://localhost:6385/ If the ``http_basic`` authentication strategy is being used, the value ``http_basic`` must be set for OS_AUTH_TYPE. For example:: export OS_AUTH_TYPE=http_basic export OS_ENDPOINT=http://localhost:6385/ export OS_USERNAME=myUser export OS_PASSWORD=myPasswordFor iLO drivers, fields that should be provided are: * ``ilo_deploy_iso`` under ``driver_info``; * ``ilo_boot_iso``, ``image_source``, ``root_gb`` under ``instance_info``. .. note:: The Bare Metal service tracks content changes for non-Glance images by checking their modification date and time. For example, for HTTP image, if 'Last-Modified' header value from response to a HEAD request to ""http://my.server.net/images/deploy.ramdisk"" is greater than cached image modification time, Ironic will re-download the content. For ""file://"" images, the file system modification time is used. ",45,29
openstack%2Fbifrost~master~I706bc4047b13eafe5639fcddb31085677b91d8db,openstack/bifrost,master,I706bc4047b13eafe5639fcddb31085677b91d8db,Enable debug logging in virtualbmc,MERGED,2020-07-24 13:13:13.000000000,2020-07-24 18:38:53.000000000,2020-07-24 18:36:12.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 13:13:13.000000000', 'files': ['playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'playbooks/roles/bifrost-create-vm-nodes/templates/virtualbmc.conf'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/112932d4512b5d0ab2c68ab5d61fe8b2c833649b', 'message': 'Enable debug logging in virtualbmc\n\nChange-Id: I706bc4047b13eafe5639fcddb31085677b91d8db\n'}]",0,742878,112932d4512b5d0ab2c68ab5d61fe8b2c833649b,8,3,1,10239,,,0,"Enable debug logging in virtualbmc

Change-Id: I706bc4047b13eafe5639fcddb31085677b91d8db
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/78/742878/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-create-vm-nodes/tasks/prepare_libvirt.yml', 'playbooks/roles/bifrost-create-vm-nodes/templates/virtualbmc.conf']",2,112932d4512b5d0ab2c68ab5d61fe8b2c833649b,vbmc-logging,[log] debug = True ,,20,0
openstack%2Fbifrost~master~I7148243b19baa8bfdd652827a9280d469622e3f3,openstack/bifrost,master,I7148243b19baa8bfdd652827a9280d469622e3f3,Make ansible ask for sudo password,MERGED,2020-07-21 12:52:17.000000000,2020-07-24 18:37:32.000000000,2020-07-24 18:36:09.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-21 12:52:17.000000000', 'files': ['bifrost/cli.py'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/639d9a58b3b48d899ca31de1c209b56b99bbab0f', 'message': ""Make ansible ask for sudo password\n\nIf the user used to install and run bifrost can't run sudo\npasswordless, the bifrost-cli appends the --ask-become-pass option\nthat makes ansible ask for the BECOME password, used to run\ncommands with become set to true.\n\nChange-Id: I7148243b19baa8bfdd652827a9280d469622e3f3\n""}]",0,742175,639d9a58b3b48d899ca31de1c209b56b99bbab0f,8,3,1,23851,,,0,"Make ansible ask for sudo password

If the user used to install and run bifrost can't run sudo
passwordless, the bifrost-cli appends the --ask-become-pass option
that makes ansible ask for the BECOME password, used to run
commands with become set to true.

Change-Id: I7148243b19baa8bfdd652827a9280d469622e3f3
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/75/742175/1 && git format-patch -1 --stdout FETCH_HEAD,['bifrost/cli.py'],1,639d9a58b3b48d899ca31de1c209b56b99bbab0f,gimme-the-powa, COMMON_PARAMS.append('--ask-become-pass'), # TODO(dtantsur): tell ansible to ask for password sys.exit('Sudo without password is required for Bifrost'),1,2
openstack%2Fbifrost~master~I0bc6a0ee7519bca0fe81eb74349427681269a740,openstack/bifrost,master,I0bc6a0ee7519bca0fe81eb74349427681269a740,Auto-set ansible_python_interpreter when in venv,MERGED,2020-07-22 03:07:08.000000000,2020-07-24 18:36:10.000000000,2020-07-24 18:36:10.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32177}]","[{'number': 1, 'created': '2020-07-22 03:07:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1bb66645153af065d4f4ee81751d4cca665daa05', 'message': ""Auto-set ansible_python_interpreter when in venv\n\nAnsible doesn't seem to correctly configure python interpreter\nwhile running in a virtual environment and defaults to the system\nwide installation. This can lead to missing dependencies and/or\nversion mismatch issues. This change adds automatic configuration\nof ansible_python_interpreter value based on VIRTUAL_ENV\nenvironment variable.\n\nChange-Id: I0bc6a0ee7519bca0fe81eb74349427681269a740\n""}, {'number': 2, 'created': '2020-07-22 21:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/50419660987e313cb3622e7c42a4c514b6d05aa5', 'message': ""Auto-set ansible_python_interpreter when in venv\n\nAnsible doesn't seem to correctly configure python interpreter\nwhile running in a virtual environment and defaults to the system\nwide installation. This can lead to missing dependencies and/or\nversion mismatch issues. This change adds automatic configuration\nof ansible_python_interpreter value based on VIRTUAL_ENV\nenvironment variable for each of the roles provided by bifrost.\n\nChange-Id: I0bc6a0ee7519bca0fe81eb74349427681269a740\n""}, {'number': 3, 'created': '2020-07-23 01:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/178a003a27d15ebffde3f958e81f4584efeaf650', 'message': ""Auto-set ansible_python_interpreter when in venv\n\nAnsible doesn't seem to correctly configure python interpreter\nwhile running in a virtual environment and defaults to the system\nwide installation. This can lead to missing dependencies and/or\nversion mismatch issues. This change adds automatic configuration\nof ansible_python_interpreter value based on VENV environment\nvariable for each of the roles provided by bifrost.\n\nChange-Id: I0bc6a0ee7519bca0fe81eb74349427681269a740\n""}, {'number': 4, 'created': '2020-07-23 23:39:19.000000000', 'files': ['playbooks/roles/ironic-delete-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-prepare-for-test-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-pip-install/defaults/main.yml', 'playbooks/roles/ironic-inspect-node/defaults/main.yml', 'playbooks/roles/bifrost-configdrives-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-unprovision-node-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-create-vm-nodes/defaults/main.yml', 'playbooks/roles/bifrost-prep-for-install/defaults/main.yml', 'playbooks/roles/ironic-enroll-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-rabbitmq/defaults/main.yml', 'playbooks/roles/bifrost-create-bootable-image/defaults/main.yml', 'playbooks/roles/bifrost-deploy-nodes-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-create-dib-image/defaults/main.yml', 'playbooks/roles/bifrost-keystone-install/defaults/main.yml', 'playbooks/roles/bifrost-keystone-client-config/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/3c5377ce9226022de453d5c3b204c0b2a57012e7', 'message': ""Auto-set ansible_python_interpreter when in venv\n\nAnsible doesn't seem to correctly configure python interpreter\nwhile running in a virtual environment and defaults to the system\nwide installation. This can lead to missing dependencies and/or\nversion mismatch issues. This change adds automatic configuration\nof ansible_python_interpreter value based on VENV environment\nvariable for each of the roles provided by bifrost.\n\nChange-Id: I0bc6a0ee7519bca0fe81eb74349427681269a740\n""}]",2,742335,3c5377ce9226022de453d5c3b204c0b2a57012e7,15,5,4,32177,,,0,"Auto-set ansible_python_interpreter when in venv

Ansible doesn't seem to correctly configure python interpreter
while running in a virtual environment and defaults to the system
wide installation. This can lead to missing dependencies and/or
version mismatch issues. This change adds automatic configuration
of ansible_python_interpreter value based on VENV environment
variable for each of the roles provided by bifrost.

Change-Id: I0bc6a0ee7519bca0fe81eb74349427681269a740
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/35/742335/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/enroll-dynamic.yaml'],1,1bb66645153af065d4f4ee81751d4cca665daa05,ansible-python-interpreter-venv-fix," vars: ansible_python_interpreter: ""{{ lookup('env','VIRTUAL_ENV') }}/bin/python""",,2,0
openstack%2Freleases~master~I452aa5500bda1bf607ba11baa92be3377945a4ab,openstack/releases,master,I452aa5500bda1bf607ba11baa92be3377945a4ab,Add newline between projects in std output format,MERGED,2020-07-22 16:53:28.000000000,2020-07-24 18:31:58.000000000,2020-07-24 18:31:57.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-22 16:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6fcf3be913e4115bed0841395550583531538159', 'message': 'Add newline between projects in std output format\n\nWithout this it is very difficult to visually distinguish between\nthe project outputs.\n\nChange-Id: I452aa5500bda1bf607ba11baa92be3377945a4ab\n'}, {'number': 2, 'created': '2020-07-24 17:13:20.000000000', 'files': ['openstack_releases/cmds/list_unreleased_changes.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/d0bd6e76f35846a6cb907fd1dc183834e2ce23fc', 'message': 'Add newline between projects in std output format\n\nWithout this it is very difficult to visually distinguish between\nthe project outputs.\n\nChange-Id: I452aa5500bda1bf607ba11baa92be3377945a4ab\n'}]",0,742486,d0bd6e76f35846a6cb907fd1dc183834e2ce23fc,10,4,2,6928,,,0,"Add newline between projects in std output format

Without this it is very difficult to visually distinguish between
the project outputs.

Change-Id: I452aa5500bda1bf607ba11baa92be3377945a4ab
",git fetch https://review.opendev.org/openstack/releases refs/changes/86/742486/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/cmds/list_unreleased_changes.py'],1,6fcf3be913e4115bed0841395550583531538159,oslo-master-2, out.append(''),,1,0
openstack%2Freleases~master~Ia7fee655613759169a43bdd9f0a54dfca8860a3c,openstack/releases,master,Ia7fee655613759169a43bdd9f0a54dfca8860a3c,Release 4.3.1 of ironic-lib,MERGED,2020-07-24 15:44:57.000000000,2020-07-24 18:29:00.000000000,2020-07-24 18:29:00.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-24 15:44:57.000000000', 'files': ['deliverables/victoria/ironic-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f73cc6d2a99b07825381d10e3a1d0a36741b66b7', 'message': 'Release 4.3.1 of ironic-lib\n\nFixes for http_basic support in Ironic\n\nChange-Id: Ia7fee655613759169a43bdd9f0a54dfca8860a3c\n'}]",0,742931,f73cc6d2a99b07825381d10e3a1d0a36741b66b7,10,6,1,15519,,,0,"Release 4.3.1 of ironic-lib

Fixes for http_basic support in Ironic

Change-Id: Ia7fee655613759169a43bdd9f0a54dfca8860a3c
",git fetch https://review.opendev.org/openstack/releases refs/changes/31/742931/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/ironic-lib.yaml'],1,f73cc6d2a99b07825381d10e3a1d0a36741b66b7,, - version: 4.3.1 projects: - repo: openstack/ironic-lib hash: 798c1357ca2dbf78297a3d3a78b1ce53150834e0,,4,0
openstack%2Freleases~master~I79f061f57f04c155cf99ba80d8d96c935521e75d,openstack/releases,master,I79f061f57f04c155cf99ba80d8d96c935521e75d,minor update release for tripleo ussuri,MERGED,2020-07-22 16:22:31.000000000,2020-07-24 18:28:59.000000000,2020-07-24 18:28:59.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 11904}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-22 16:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/66f91c8a33b21fe879ec11e06e8ba8cbf6da9b0b', 'message': 'minor update release for tripleo ussuri\n\nDepends-On: https://review.opendev.org/742463\nChange-Id: I79f061f57f04c155cf99ba80d8d96c935521e75d\n'}, {'number': 2, 'created': '2020-07-23 19:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/33a238e223f9c5798f0d578db65da39df4733dfa', 'message': 'minor update release for tripleo ussuri\n\nDepends-On: https://review.opendev.org/742463\nChange-Id: I79f061f57f04c155cf99ba80d8d96c935521e75d\n'}, {'number': 3, 'created': '2020-07-23 20:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8aa726b67f05452835fac7ce06586d0350a0b3c8', 'message': 'minor update release for tripleo ussuri\n\nDepends-On: https://review.opendev.org/742463\nChange-Id: I79f061f57f04c155cf99ba80d8d96c935521e75d\n'}, {'number': 4, 'created': '2020-07-24 14:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c8a721be676e209ac184ecbc7ea0e2a8e3641e05', 'message': 'minor update release for tripleo ussuri\n\nDepends-On: https://review.opendev.org/742463\nChange-Id: I79f061f57f04c155cf99ba80d8d96c935521e75d\n'}, {'number': 5, 'created': '2020-07-24 15:05:38.000000000', 'files': ['deliverables/ussuri/tripleo-heat-templates.yaml', 'deliverables/ussuri/tripleo-ansible.yaml', 'deliverables/ussuri/python-tripleoclient.yaml', 'deliverables/ussuri/tripleo-image-elements.yaml', 'deliverables/ussuri/paunch.yaml', 'deliverables/ussuri/tripleo-validations.yaml', 'deliverables/ussuri/puppet-tripleo.yaml', 'deliverables/ussuri/tripleo-puppet-elements.yaml', 'deliverables/ussuri/os-apply-config.yaml', 'deliverables/ussuri/os-net-config.yaml', 'deliverables/ussuri/tripleo-common.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/882981c2d9bddfe87902eba68c88beae0b79aaf9', 'message': 'minor update release for tripleo ussuri\n\nDepends-On: https://review.opendev.org/742463\nChange-Id: I79f061f57f04c155cf99ba80d8d96c935521e75d\n'}]",6,742478,882981c2d9bddfe87902eba68c88beae0b79aaf9,29,6,5,9592,,,0,"minor update release for tripleo ussuri

Depends-On: https://review.opendev.org/742463
Change-Id: I79f061f57f04c155cf99ba80d8d96c935521e75d
",git fetch https://review.opendev.org/openstack/releases refs/changes/78/742478/5 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ussuri/tripleo-heat-templates.yaml', 'deliverables/ussuri/tripleo-ansible.yaml', 'deliverables/ussuri/python-tripleoclient.yaml', 'deliverables/ussuri/tripleo-image-elements.yaml', 'deliverables/ussuri/paunch.yaml', 'deliverables/ussuri/puppet-tripleo.yaml', 'deliverables/ussuri/tripleo-validations.yaml', 'deliverables/ussuri/os-apply-config.yaml', 'deliverables/ussuri/tripleo-puppet-elements.yaml', 'deliverables/ussuri/os-net-config.yaml', 'deliverables/ussuri/tripleo-common.yaml']",11,66f91c8a33b21fe879ec11e06e8ba8cbf6da9b0b,, - version: 12.4.1 projects: - repo: openstack/tripleo-common hash: 2fc3d1f3ea356a95b7eb08340e498cc6fa5e1608 branches: - location: 12.4.1,branches: - location: 12.4.0,55,11
openstack%2Freleases~master~Iaa4894cd5d832e3e70491bcfc7576b9072fc3f0d,openstack/releases,master,Iaa4894cd5d832e3e70491bcfc7576b9072fc3f0d,Release monasca-transform for stable/stein,MERGED,2020-07-17 22:16:29.000000000,2020-07-24 18:18:02.000000000,2020-07-24 18:18:02.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28062}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:16:29.000000000', 'files': ['deliverables/stein/monasca-transform.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3f3e5e1d585c7f6d681bcfa6bc7c6d1234a281d7', 'message': 'Release monasca-transform for stable/stein\n\nThis release picks up new commits to monasca-transform since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: Iaa4894cd5d832e3e70491bcfc7576b9072fc3f0d\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741751,3f3e5e1d585c7f6d681bcfa6bc7c6d1234a281d7,9,4,1,11904,,,0,"Release monasca-transform for stable/stein

This release picks up new commits to monasca-transform since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: Iaa4894cd5d832e3e70491bcfc7576b9072fc3f0d
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/51/741751/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/monasca-transform.yaml'],1,3f3e5e1d585c7f6d681bcfa6bc7c6d1234a281d7,stein-stable, - version: 0.17.2 projects: - repo: openstack/monasca-transform hash: 863e7f05f62998bc2127684e1e924185f51d1167,,4,0
openstack%2Freleases~master~I1fd6959daf9fc95629bfeeedab4593750bb980c5,openstack/releases,master,I1fd6959daf9fc95629bfeeedab4593750bb980c5,Release monasca-api for stable/stein,MERGED,2020-07-17 22:14:35.000000000,2020-07-24 18:18:01.000000000,2020-07-24 18:18:01.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28062}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:14:35.000000000', 'files': ['deliverables/stein/monasca-api.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/889360f3cbdb05b45cf4a2ed3cd09099f3df4467', 'message': 'Release monasca-api for stable/stein\n\nThis release picks up new commits to monasca-api since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I1fd6959daf9fc95629bfeeedab4593750bb980c5\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741749,889360f3cbdb05b45cf4a2ed3cd09099f3df4467,9,4,1,11904,,,0,"Release monasca-api for stable/stein

This release picks up new commits to monasca-api since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I1fd6959daf9fc95629bfeeedab4593750bb980c5
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/49/741749/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/monasca-api.yaml'],1,889360f3cbdb05b45cf4a2ed3cd09099f3df4467,stein-stable, - version: 3.0.1 projects: - repo: openstack/monasca-api hash: 41871ffd6aeb817d10b42ffac76f6335db7304c2,,4,0
openstack%2Fnetworking-ovn~stable%2Ftrain~I2b9661d06b30eeb7752bdb4fad73778d2ed940d7,openstack/networking-ovn,stable/train,I2b9661d06b30eeb7752bdb4fad73778d2ed940d7,ovn-migration: Remove docker references,MERGED,2020-07-24 07:19:03.000000000,2020-07-24 18:17:48.000000000,2020-07-24 18:14:23.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 07:19:03.000000000', 'files': ['migration/tripleo_environment/playbooks/roles/migration/templates/clone-br-int.sh.j2', 'migration/tripleo_environment/playbooks/roles/migration/templates/activate-ovn.sh.j2', 'migration/tripleo_environment/playbooks/roles/migration/tasks/sync-dbs.yml', 'migration/infrared/tripleo-ovn-migration/main.yml', 'migration/tripleo_environment/playbooks/reduce-dhcp-renewal-time.yml', 'migration/infrared/tripleo-ovn-migration/roles/prepare-migration/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c52ae2cab301316cad9db50c2e288976c64b3894', 'message': 'ovn-migration: Remove docker references\n\nDocker commands are replaced with podman. References to docker resources\nis fixed. Some improvements to avoid storing container ids and\nperforming operations is also done in this patch.\n\nChange-Id: I2b9661d06b30eeb7752bdb4fad73778d2ed940d7\n(cherry picked from commit 0e597a36d3315f67c0d1430f4b363c96115d9d18)\n'}]",0,742801,c52ae2cab301316cad9db50c2e288976c64b3894,8,3,1,8655,,,0,"ovn-migration: Remove docker references

Docker commands are replaced with podman. References to docker resources
is fixed. Some improvements to avoid storing container ids and
performing operations is also done in this patch.

Change-Id: I2b9661d06b30eeb7752bdb4fad73778d2ed940d7
(cherry picked from commit 0e597a36d3315f67c0d1430f4b363c96115d9d18)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/01/742801/1 && git format-patch -1 --stdout FETCH_HEAD,"['migration/tripleo_environment/playbooks/roles/migration/templates/clone-br-int.sh.j2', 'migration/tripleo_environment/playbooks/roles/migration/templates/activate-ovn.sh.j2', 'migration/tripleo_environment/playbooks/roles/migration/tasks/sync-dbs.yml', 'migration/infrared/tripleo-ovn-migration/main.yml', 'migration/infrared/tripleo-ovn-migration/roles/prepare-migration/tasks/main.yml', 'migration/tripleo_environment/playbooks/reduce-dhcp-renewal-time.yml']",6,c52ae2cab301316cad9db50c2e288976c64b3894,remove_docker-stable/train," shell: podman restart $(podman ps --filter ""name=neutron_dhcp"" --format {% raw %}""{{.ID}}""{% endraw %})", - name: Get the neutron dhcp agent docker id shell: docker ps | grep neutron_dhcp | awk '{print $1}' register: dhcp_agent_docker_id ignore_errors: yes command: docker restart {{ dhcp_agent_docker_id.stdout }},27,32
openstack%2Freleases~master~Ib5e8a7dffcf1aad0babe4b07f1c899c0a7d52cd3,openstack/releases,master,Ib5e8a7dffcf1aad0babe4b07f1c899c0a7d52cd3,Release monasca-agent for stable/stein,MERGED,2020-07-17 22:14:21.000000000,2020-07-24 18:16:20.000000000,2020-07-24 18:16:20.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28062}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:14:21.000000000', 'files': ['deliverables/stein/monasca-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ffe607b3b525bfdafa340b2682526accf0598bb6', 'message': 'Release monasca-agent for stable/stein\n\nThis release picks up new commits to monasca-agent since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: Ib5e8a7dffcf1aad0babe4b07f1c899c0a7d52cd3\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741748,ffe607b3b525bfdafa340b2682526accf0598bb6,9,4,1,11904,,,0,"Release monasca-agent for stable/stein

This release picks up new commits to monasca-agent since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: Ib5e8a7dffcf1aad0babe4b07f1c899c0a7d52cd3
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/48/741748/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/monasca-agent.yaml'],1,ffe607b3b525bfdafa340b2682526accf0598bb6,stein-stable, - version: 2.10.1 projects: - repo: openstack/monasca-agent hash: b3ee53d4f5901e517a74920c6d1ba0f5ebfb9e7b,,4,0
openstack%2Freleases~master~I503e32c2d50e0905fa9e6959d0d9c54537b6a3ec,openstack/releases,master,I503e32c2d50e0905fa9e6959d0d9c54537b6a3ec,Release monasca-notification for stable/stein,MERGED,2020-07-17 22:15:01.000000000,2020-07-24 18:16:11.000000000,2020-07-24 18:16:11.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28062}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:15:01.000000000', 'files': ['deliverables/stein/monasca-notification.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e075ba59d446e13234211adb84bd0074498a4671', 'message': 'Release monasca-notification for stable/stein\n\nThis release picks up new commits to monasca-notification since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I503e32c2d50e0905fa9e6959d0d9c54537b6a3ec\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741750,e075ba59d446e13234211adb84bd0074498a4671,9,4,1,11904,,,0,"Release monasca-notification for stable/stein

This release picks up new commits to monasca-notification since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I503e32c2d50e0905fa9e6959d0d9c54537b6a3ec
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/50/741750/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/monasca-notification.yaml'],1,e075ba59d446e13234211adb84bd0074498a4671,stein-stable, - version: 1.17.1 projects: - repo: openstack/monasca-notification hash: 5d573afee6960ff0aa41d8518ccf614846946379,,4,0
openstack%2Fglance~master~I6190aa314e657cb24e0160737efecf6f06245666,openstack/glance,master,I6190aa314e657cb24e0160737efecf6f06245666,Fix release note formatting,MERGED,2020-07-24 14:34:50.000000000,2020-07-24 18:11:20.000000000,2020-07-24 18:09:14.000000000,"[{'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 14:34:50.000000000', 'files': ['releasenotes/notes/no_plugins_for_copy-image-26c0e384a368bf6a.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/94193c0453eda62a93158a1cf92149ca45d96ad0', 'message': 'Fix release note formatting\n\nExtra bullet level added to note, causing resulting HTML output to have\nthis item sub-bulleted.\n\nChange-Id: I6190aa314e657cb24e0160737efecf6f06245666\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,742893,94193c0453eda62a93158a1cf92149ca45d96ad0,9,3,1,11904,,,0,"Fix release note formatting

Extra bullet level added to note, causing resulting HTML output to have
this item sub-bulleted.

Change-Id: I6190aa314e657cb24e0160737efecf6f06245666
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/93/742893/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/no_plugins_for_copy-image-26c0e384a368bf6a.yaml'],1,94193c0453eda62a93158a1cf92149ca45d96ad0,reno, Bug 1885725_: 'copy-image' import job should not run additional plugins, * Bug 1885725_: 'copy-image' import job should not run additional plugins,1,1
openstack%2Fneutron~stable%2Ftrain~I42c33fefaae6a7bee134779c840f35632823472e,openstack/neutron,stable/train,I42c33fefaae6a7bee134779c840f35632823472e,Ensure drop flows on br-int at agent startup for DVR too,MERGED,2020-07-22 07:41:47.000000000,2020-07-24 18:06:30.000000000,2020-07-24 18:02:29.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-22 07:41:47.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/17eded13595b18ab60af5256e0f63c57c3702296', 'message': ""Ensure drop flows on br-int at agent startup for DVR too\n\nCommit 90212b12 changed the OVS agent so adding vital drop flows on\nbr-int (table 0 priority 2) for packets from physical bridges was\ndeferred until DVR initialization later on. But if br-int has no flows\nfrom a previous run (eg after host reboot), then these packets will hit\nthe NORMAL flow in table 60. And if there is more than one physical\nbridge, then the physical interfaces from the different bridges are now\nessentially connected at layer 2 and a network loop is possible in the\ntime before the flows are added by DVR. Also the DVR code won't add them\nuntil after RPC calls to the server, so a loop is more likely if the\nserver is not available.\n\nThis patch restores adding these flows to when the physical bridges are\nfirst configured. Also updated a comment that was no longer correct and\nupdated the unit test.\n\nChange-Id: I42c33fefaae6a7bee134779c840f35632823472e\nCloses-Bug: #1887148\nRelated-Bug: #1869808\n(cherry picked from commit c1a77ef8b74bb9b5abbc5cb03fb3201383122eb8)\n(cherry picked from commit 143fe8ff89ba776618ed6291af9d5e28e4662bdb)\n""}]",0,742359,17eded13595b18ab60af5256e0f63c57c3702296,27,8,1,2733,,,0,"Ensure drop flows on br-int at agent startup for DVR too

Commit 90212b12 changed the OVS agent so adding vital drop flows on
br-int (table 0 priority 2) for packets from physical bridges was
deferred until DVR initialization later on. But if br-int has no flows
from a previous run (eg after host reboot), then these packets will hit
the NORMAL flow in table 60. And if there is more than one physical
bridge, then the physical interfaces from the different bridges are now
essentially connected at layer 2 and a network loop is possible in the
time before the flows are added by DVR. Also the DVR code won't add them
until after RPC calls to the server, so a loop is more likely if the
server is not available.

This patch restores adding these flows to when the physical bridges are
first configured. Also updated a comment that was no longer correct and
updated the unit test.

Change-Id: I42c33fefaae6a7bee134779c840f35632823472e
Closes-Bug: #1887148
Related-Bug: #1869808
(cherry picked from commit c1a77ef8b74bb9b5abbc5cb03fb3201383122eb8)
(cherry picked from commit 143fe8ff89ba776618ed6291af9d5e28e4662bdb)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/742359/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,17eded13595b18ab60af5256e0f63c57c3702296,bug/1887148," def _test_setup_physical_bridges(self, port_exists=False, dvr_enabled=False): self.agent.enable_distributed_routing = dvr_enabled mock.call.int_br.drop_port(in_port='int_ofport') ] if not dvr_enabled: expected_calls += [ mock.call.phys_br.drop_port(in_port='phy_ofport') ] expected_calls += [ def test_setup_physical_bridges_dvr_enabled(self): self._test_setup_physical_bridges(dvr_enabled=True) "," def _test_setup_physical_bridges(self, port_exists=False): mock.call.int_br.drop_port(in_port='int_ofport'), mock.call.phys_br.drop_port(in_port='phy_ofport'),",19,24
openstack%2Fcinder~stable%2Fpike~Ie79528b33070e6c60f9f5e1f2219084a2f0cb039,openstack/cinder,stable/pike,Ie79528b33070e6c60f9f5e1f2219084a2f0cb039,Fix stable/pike gate,MERGED,2020-06-19 22:05:47.000000000,2020-07-24 18:06:18.000000000,2020-07-24 18:02:32.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 14892}, {'_account_id': 17685}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-06-19 22:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/42484f57c18a02d6a21aa9fb99a4f393fde614a6', 'message': 'Change check_uptodate.sh to not call tox\n\nBase nodepool images now no longer include tox. This causes a failure in\nour pep8 jobs because the tools/config/check_uptodate.sh script had been\ncalling ""tox -e genopts"" to look for config file changes.\n\nThis is a partial backport of a change that switched our default\nbasepython to python3. That part of the change was removed from tox.ini,\nso the only other part was an update to the check_uptodate.sh script\nthat refactored things to be more reliable, including the removal of\ncalling tox.\n\nThe part from the original commit included is:\n\nThere was also a difference in behavior with the genopts job\nwhere it ends up trying to recreate the venv under which it\nis currently running under, resulting in a corrupted venv\nand a failure. This cleans up that script and changes it so\nrather than a tox job calling a tox job it just runs the\nscript.\n\nChange-Id: Ie79528b33070e6c60f9f5e1f2219084a2f0cb039\n(cherry picked from commit 37510ac03478704bafba89e8c4f4e0e9041d661d)\n(cherry picked from commit 5e9e51190dc1751356475c4df2feb785de4089cd)\n'}, {'number': 2, 'created': '2020-06-20 13:41:20.000000000', 'files': ['cinder/opts.py', 'tools/config/generate_cinder_opts.py', 'tools/config/check_uptodate.sh', '.zuul.yaml', 'tools/config/__init__.py', 'doc/source/conf.py', 'tools/config/cinder-config-generator.conf', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cinder/commit/3ebea9ed0dcb5cb974e045b41cf6de9395d89544', 'message': 'Fix stable/pike gate\n\nThis is a squash of several changes to get the gate to pass again. As a\nsummary, it updates how our pep8 job handles checking that the opts.py\nfile is up to date, and it disables the grenade jobs since those no\nlonger work on this older extended maintenance branch.\n\nMove config-generator to tools\n(cherry picked from commit d3abafdee4affe457e39705fd9b8e27b0f80f657)\n\n[DOC BLD FIX] Make opts sections lowercase\n(cherry picked from commit 8db6335bb5b2bbb19ff5fddca104be257ba795c8)\n\nUpdate generate_cinder_opts path\n(cherry picked from commit b4485ec09fe327a81c94b44393d1ed2430b6a08f)\n\nAdd another hack from NOVA_GROUP to generate_cinder_opts.py\nCloses-Bug: #1717008\n(cherry picked from commit db6564bb748446785217e5de852ac9a6946ea481)\n\nRemove grenade jobs\n\nThis branch is in extended maintenance. As part of EM, it was agreed we\nwould run jobs as long as we could keep them passing. The grenade jobs\nhave some issues that would take a lot of work to fix up, so given the\nstable status and the lack of resources on these older stable branches,\njust remove them.\n\nChange check_uptodate.sh to not call tox\n\nBase nodepool images now no longer include tox. This causes a failure in\nour pep8 jobs because the tools/config/check_uptodate.sh script had been\ncalling ""tox -e genopts"" to look for config file changes.\n\nThis is a partial backport of a change that switched our default\nbasepython to python3. That part of the change was removed from tox.ini,\nso the only other part was an update to the check_uptodate.sh script\nthat refactored things to be more reliable, including the removal of\ncalling tox.\n\nThe part from the original commit included is:\n\nThere was also a difference in behavior with the genopts job\nwhere it ends up trying to recreate the venv under which it\nis currently running under, resulting in a corrupted venv\nand a failure. This cleans up that script and changes it so\nrather than a tox job calling a tox job it just runs the\nscript.\n\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\nChange-Id: Ie79528b33070e6c60f9f5e1f2219084a2f0cb039\n(cherry picked from commit 37510ac03478704bafba89e8c4f4e0e9041d661d)\n(cherry picked from commit 5e9e51190dc1751356475c4df2feb785de4089cd)\n'}]",0,737094,3ebea9ed0dcb5cb974e045b41cf6de9395d89544,54,19,2,11904,,,0,"Fix stable/pike gate

This is a squash of several changes to get the gate to pass again. As a
summary, it updates how our pep8 job handles checking that the opts.py
file is up to date, and it disables the grenade jobs since those no
longer work on this older extended maintenance branch.

Move config-generator to tools
(cherry picked from commit d3abafdee4affe457e39705fd9b8e27b0f80f657)

[DOC BLD FIX] Make opts sections lowercase
(cherry picked from commit 8db6335bb5b2bbb19ff5fddca104be257ba795c8)

Update generate_cinder_opts path
(cherry picked from commit b4485ec09fe327a81c94b44393d1ed2430b6a08f)

Add another hack from NOVA_GROUP to generate_cinder_opts.py
Closes-Bug: #1717008
(cherry picked from commit db6564bb748446785217e5de852ac9a6946ea481)

Remove grenade jobs

This branch is in extended maintenance. As part of EM, it was agreed we
would run jobs as long as we could keep them passing. The grenade jobs
have some issues that would take a lot of work to fix up, so given the
stable status and the lack of resources on these older stable branches,
just remove them.

Change check_uptodate.sh to not call tox

Base nodepool images now no longer include tox. This causes a failure in
our pep8 jobs because the tools/config/check_uptodate.sh script had been
calling ""tox -e genopts"" to look for config file changes.

This is a partial backport of a change that switched our default
basepython to python3. That part of the change was removed from tox.ini,
so the only other part was an update to the check_uptodate.sh script
that refactored things to be more reliable, including the removal of
calling tox.

The part from the original commit included is:

There was also a difference in behavior with the genopts job
where it ends up trying to recreate the venv under which it
is currently running under, resulting in a corrupted venv
and a failure. This cleans up that script and changes it so
rather than a tox job calling a tox job it just runs the
script.

Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
Change-Id: Ie79528b33070e6c60f9f5e1f2219084a2f0cb039
(cherry picked from commit 37510ac03478704bafba89e8c4f4e0e9041d661d)
(cherry picked from commit 5e9e51190dc1751356475c4df2feb785de4089cd)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/737094/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/config/check_uptodate.sh'],1,42484f57c18a02d6a21aa9fb99a4f393fde614a6,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # This script is used to check if there have been configuration changes that # have not been checked in. # The opts file needs to be present in order to compare it echo """" echo ""#################################################"" echo ""ERROR: cinder/opts.py file is missing."" echo ""#################################################"" # Rename the existing file so we can generate a new one to compare mv cinder/opts.py cinder/opts.py.orig python tools/config/generate_cinder_opts.py &> tox-genops.log if [ $? -ne 0 ]; then cat tox-genops.log >&2 echo """" echo ""#################################################"" echo ""ERROR: Non-zero exit from generate_cinder_opts.py."" echo "" See output above for details."" echo ""#################################################"" mv cinder/opts.py.orig cinder/opts.py exit 1 fi diff cinder/opts.py.orig cinder/opts.py if [ $? -ne 0 ]; then echo """" echo ""########################################################"" echo ""ERROR: Configuration options change detected."" echo "" A new cinder/opts.py file must be generated."" echo "" Run 'tox -e genopts' from the base directory"" echo "" and add the result to your commit."" echo ""########################################################"" rm cinder/opts.py mv cinder/opts.py.orig cinder/opts.py exit 1 fi rm cinder/opts.py.orig"," echo -en ""\n\n#################################################"" echo -en ""\nERROR: cinder/opts.py file is missing."" echo -en ""\n#################################################\n""else mv cinder/opts.py cinder/opts.py.orig tox -e genopts &> /dev/null if [ $? -ne 0 ]; then echo -en ""\n\n#################################################"" echo -en ""\nERROR: Non-zero exit from generate_cinder_opts.py."" echo -en ""\n See output above for details.\n"" echo -en ""#################################################\n"" mv cinder/opts.py.orig cinder/opts.py exit 1 else diff cinder/opts.py.orig cinder/opts.py if [ $? -ne 0 ]; then echo -en ""\n\n########################################################"" echo -en ""\nERROR: Configuration options change detected."" echo -en ""\n A new cinder/opts.py file must be generated."" echo -en ""\n Run 'tox -e genopts' from the base directory"" echo -en ""\n and add the result to your commit."" echo -en ""\n########################################################\n\n"" rm cinder/opts.py mv cinder/opts.py.orig cinder/opts.py exit 1 else rm cinder/opts.py.orig fi fi",50,29
openstack%2Fcharm-octavia~master~I025309dee748db6f6920b64bca6ed014e9921ff2,openstack/charm-octavia,master,I025309dee748db6f6920b64bca6ed014e9921ff2,Updates for 20.08 cycle start for groovy and libs,MERGED,2020-06-02 13:35:06.000000000,2020-07-24 18:01:37.000000000,2020-07-24 09:06:25.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-06-02 13:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/17ba2dda4d767ac24c4b190e6d163906dc7374a8', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: I025309dee748db6f6920b64bca6ed014e9921ff2\n'}, {'number': 2, 'created': '2020-07-23 17:47:27.000000000', 'files': ['rebuild', 'src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/e04a9ecc8009f085bdd7d19eaeec2279db0fe136', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: I025309dee748db6f6920b64bca6ed014e9921ff2\n'}]",0,732665,e04a9ecc8009f085bdd7d19eaeec2279db0fe136,14,5,2,20870,,,0,"Updates for 20.08 cycle start for groovy and libs

- Adds groovy to the series in the metadata
- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild

Change-Id: I025309dee748db6f6920b64bca6ed014e9921ff2
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/65/732665/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'src/metadata.yaml']",2,17ba2dda4d767ac24c4b190e6d163906dc7374a8,batch-groovy-ch-libs,- openstack series: - bionic - eoan - focal - groovy, - openstack series: - bionic - eoan - focal,6,5
openstack%2Fmanila~stable%2Frocky~I4a9ae0744757d1c9bfe4f2b213eb04364992af0d,openstack/manila,stable/rocky,I4a9ae0744757d1c9bfe4f2b213eb04364992af0d,[extended-maintenance-branches-only] Replace LVM job,MERGED,2020-07-23 18:24:38.000000000,2020-07-24 17:52:26.000000000,2020-07-24 17:52:26.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-23 18:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fa19cd938ece251c3be8e231f2050fe8a6c2d4e2', 'message': '[extended-maintenance-branches-only] Replace LVM job\n\nthe voting LVM job (manila-tempest-minimal-dsvm-lvm-centos-7)\nhas been failing for a while due to the issue identified\nin [1]. The fix for the issues didn\'t suffice for CentOS,\nand we use CentOS because of missing IPv6 related fixes\nin Xenial\'s nfs-utils package. to avoid impacting helpful\nbackports to these branches, this commit introduces a\nnew voting job called ""manila-tempest-dsvm-lvm-em-only""\nthat deploys manila with the LVM driver on Xenial and\nruns IPv4 scenario tests.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015432.html\nRelated-Bug: #1888717\nChange-Id: I4a9ae0744757d1c9bfe4f2b213eb04364992af0d\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2020-07-23 20:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f5df4d112b6ed804374e6dc8ef0208f652b22ee8', 'message': '[extended-maintenance-branches-only] Replace LVM job\n\nthe voting LVM job (manila-tempest-minimal-dsvm-lvm-centos-7)\nhas been failing for a while due to the issue identified\nin [1]. The fix for the issues didn\'t suffice for CentOS,\nand we use CentOS because of missing IPv6 related fixes\nin Xenial\'s nfs-utils package. to avoid impacting helpful\nbackports to these branches, this commit introduces a\nnew voting job called ""manila-tempest-dsvm-lvm-em-only""\nthat deploys manila with the LVM driver on Xenial and\nruns IPv4 scenario tests.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015432.html\nRelated-Bug: #1888717\nChange-Id: I4a9ae0744757d1c9bfe4f2b213eb04364992af0d\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2020-07-23 21:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d923ab5db0d2d6cddbfc796fc44a9006e37bd794', 'message': '[extended-maintenance-branches-only] Replace LVM job\n\nthe voting LVM job (manila-tempest-minimal-dsvm-lvm-centos-7)\nhas been failing for a while due to the issue identified\nin [1]. The fix for the issues didn\'t suffice for CentOS,\nand we use CentOS because of missing IPv6 related fixes\nin Xenial\'s nfs-utils package. to avoid impacting helpful\nbackports to these branches, this commit introduces a\nnew voting job called ""manila-tempest-dsvm-lvm-em-only""\nthat deploys manila with the LVM driver on Xenial and\nruns IPv4 scenario tests.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015432.html\nRelated-Bug: #1888717\nChange-Id: I4a9ae0744757d1c9bfe4f2b213eb04364992af0d\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 4, 'created': '2020-07-23 23:17:38.000000000', 'files': ['playbooks/legacy/manila-tempest-dsvm-lvm-em-only/run.yaml', 'contrib/ci/pre_test_hook.sh', 'contrib/ci/post_test_hook.sh', '.zuul.yaml', 'playbooks/legacy/manila-tempest-dsvm-lvm-em-only/post.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/9a1345b2eaa2fefb13f70c54bbcbdef6115e44ce', 'message': '[extended-maintenance-branches-only] Replace LVM job\n\nthe voting LVM job (manila-tempest-minimal-dsvm-lvm-centos-7)\nhas been failing for a while due to the issue identified\nin [1]. The fix for the issues didn\'t suffice for CentOS,\nand we use CentOS because of missing IPv6 related fixes\nin Xenial\'s nfs-utils package. to avoid impacting helpful\nbackports to these branches, this commit introduces a\nnew voting job called ""manila-tempest-dsvm-lvm-em-only""\nthat deploys manila with the LVM driver on Xenial and\nruns IPv4 scenario tests.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015432.html\nRelated-Bug: #1888717\nChange-Id: I4a9ae0744757d1c9bfe4f2b213eb04364992af0d\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,742724,9a1345b2eaa2fefb13f70c54bbcbdef6115e44ce,12,6,4,16643,,,0,"[extended-maintenance-branches-only] Replace LVM job

the voting LVM job (manila-tempest-minimal-dsvm-lvm-centos-7)
has been failing for a while due to the issue identified
in [1]. The fix for the issues didn't suffice for CentOS,
and we use CentOS because of missing IPv6 related fixes
in Xenial's nfs-utils package. to avoid impacting helpful
backports to these branches, this commit introduces a
new voting job called ""manila-tempest-dsvm-lvm-em-only""
that deploys manila with the LVM driver on Xenial and
runs IPv4 scenario tests.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015432.html
Related-Bug: #1888717
Change-Id: I4a9ae0744757d1c9bfe4f2b213eb04364992af0d
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/24/742724/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/manila-tempest-dsvm-lvm-em-only/run.yaml', 'contrib/ci/pre_test_hook.sh', '.zuul.yaml', 'playbooks/legacy/manila-tempest-dsvm-lvm-em-only/post.yaml']",4,fa19cd938ece251c3be8e231f2050fe8a6c2d4e2,bug/1888717,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,,119,3
openstack%2Fironic~master~Ifa81397519833201b737cff89f61178c8835e3ca,openstack/ironic,master,Ifa81397519833201b737cff89f61178c8835e3ca,Force RAX hosts to run tinyipa,MERGED,2020-07-22 17:50:25.000000000,2020-07-24 17:31:02.000000000,2020-07-24 16:30:28.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-22 17:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a42d8832f9bf3093dd06c7bb6a35bb911bc86773', 'message': ""Force RAX hosts to run tinyipa\n\nThe CPU overhead of nested virtualization on rax hosts simply\nis too much for Ironic's CI to justify using full size IPA images.\n\nThe failure rate is simply too high. As a result, lets use TinyIPA\nimages when we are not building a ramdisk to reduce that failure rate.\n\nChange-Id: Ifa81397519833201b737cff89f61178c8835e3ca\n""}, {'number': 2, 'created': '2020-07-22 21:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c204ae54a7fb4b801a17d6bd5ba5eedeae7815db', 'message': ""Force RAX hosts to run tinyipa\n\nThe CPU overhead of nested virtualization on rax hosts simply\nis too much for Ironic's CI to justify using full size IPA images.\n\nThe failure rate is simply too high. As a result, lets use TinyIPA\nimages when we are not building a ramdisk to reduce that failure rate.\n\nChange-Id: Ifa81397519833201b737cff89f61178c8835e3ca\n""}, {'number': 3, 'created': '2020-07-23 16:33:41.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6dfc40913306e4e1712dce5c272ce05de4d355ac', 'message': ""Force RAX hosts to run tinyipa\n\nThe CPU overhead of nested virtualization on rax hosts simply\nis too much for Ironic's CI to justify using full size IPA images.\n\nThe failure rate is simply too high. As a result, lets use TinyIPA\nimages when we are not building a ramdisk to reduce that failure rate.\n\nChange-Id: Ifa81397519833201b737cff89f61178c8835e3ca\n""}]",5,742502,6dfc40913306e4e1712dce5c272ce05de4d355ac,28,7,3,11655,,,0,"Force RAX hosts to run tinyipa

The CPU overhead of nested virtualization on rax hosts simply
is too much for Ironic's CI to justify using full size IPA images.

The failure rate is simply too high. As a result, lets use TinyIPA
images when we are not building a ramdisk to reduce that failure rate.

Change-Id: Ifa81397519833201b737cff89f61178c8835e3ca
",git fetch https://review.opendev.org/openstack/ironic refs/changes/02/742502/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,a42d8832f9bf3093dd06c7bb6a35bb911bc86773,,"# Prevent a case that will likely result in a failure. if [[ ""$hostdomain"" =~ ""rax"" ]]; then if [[ ""$IRONIC_RAMDISK_TYPE"" == ""dib"" ] && [ ""$IRONIC_BUILD_DEPLOY_RAMDISK"" != ""False"" ]]; then echo ""** WARNING ** - DIB based IPA images have been defined, however we are running devstack on RAX VM. Due to virtualization constraints, we are automatically falling back to TinyIPA to ensure CI job passage."" IRONIC_RAMDISK_TYPE=""tinyipa"" fi fi ",,8,0
openstack%2Fkayobe-config-dev~master~Ic67a6e325cfb65422d4020bf6e64f038688fc26f,openstack/kayobe-config-dev,master,Ic67a6e325cfb65422d4020bf6e64f038688fc26f,CI: Add all kayobe jobs,MERGED,2020-07-02 15:58:57.000000000,2020-07-24 17:25:45.000000000,2020-07-24 16:55:56.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 15:58:57.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/a4cd89d5780ee236b5e6bd2cf4eeaa1119266819', 'message': 'CI: Add all kayobe jobs\n\nEnsure we are properly testing changes to the dev/test config.\n\nChange-Id: Ic67a6e325cfb65422d4020bf6e64f038688fc26f\n'}]",0,739082,a4cd89d5780ee236b5e6bd2cf4eeaa1119266819,12,2,1,14826,,,0,"CI: Add all kayobe jobs

Ensure we are properly testing changes to the dev/test config.

Change-Id: Ic67a6e325cfb65422d4020bf6e64f038688fc26f
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/82/739082/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,a4cd89d5780ee236b5e6bd2cf4eeaa1119266819,, - kayobe-overcloud-host-configure-centos8 - kayobe-overcloud-upgrade-centos8 - kayobe-seed-upgrade-centos8 - kayobe-seed-vm-centos8 - kayobe-overcloud-host-configure-centos8 - kayobe-overcloud-upgrade-centos8 - kayobe-seed-upgrade-centos8 - kayobe-seed-vm-centos8,,8,0
openstack%2Fmanila-tempest-plugin~master~I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b,openstack/manila-tempest-plugin,master,I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b,Add Zuulv3 native jobs for the dummy driver,MERGED,2020-07-11 01:02:41.000000000,2020-07-24 17:19:37.000000000,2020-07-24 12:50:24.000000000,"[{'_account_id': 9003}, {'_account_id': 10459}, {'_account_id': 12017}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-11 01:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/da7b17228711e8b44a9ff4e75b9dc1349dfd55b8', 'message': 'WIP: Dummy driver jobs\n\nChange-Id: I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2020-07-11 01:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/7b92f0373a06a262de1f25174033e967bc4121ee', 'message': 'WIP: Dummy driver jobs\n\nChange-Id: I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2020-07-11 02:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/86b30b1ddf0dbb8ed2fffbee0e578a6be35b1957', 'message': 'WIP: Dummy driver jobs\n\nChange-Id: I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 4, 'created': '2020-07-14 02:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/d1c6c6028491eed579f19c27ab184d4790d902b4', 'message': 'WIP: Dummy driver jobs\n\nChange-Id: I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 5, 'created': '2020-07-14 02:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/715cbccd410ea873f829a3286e5163016d50d987', 'message': 'WIP: Dummy driver jobs\n\nChange-Id: I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 6, 'created': '2020-07-14 06:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/a57f6e9a92bc026e641bfd3f4e84f518c9165701', 'message': 'WIP: Dummy driver jobs\n\nChange-Id: I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 7, 'created': '2020-07-14 18:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/296dde65b4a5c1c3c5b862675bf46f380ca2622a', 'message': 'WIP: Dummy driver jobs\n\nChange-Id: I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 8, 'created': '2020-07-14 18:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/2664cce6d681a5725fcbf4a9ffc74a0475f6899a', 'message': 'WIP: Dummy driver jobs\n\nChange-Id: I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 9, 'created': '2020-07-14 23:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/1edaf94c643c80031e002cc9c6d38dfa9a8365f3', 'message': 'WIP: Dummy driver jobs\n\nChange-Id: I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 10, 'created': '2020-07-15 02:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/87a3feb3636450b576031cf7111b99499be8b5f9', 'message': 'WIP: Dummy driver jobs\n\nChange-Id: I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 11, 'created': '2020-07-15 03:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/872db20e418fc9677b0e413c4cf0404d940f4bf1', 'message': 'WIP: Dummy driver jobs\n\nChange-Id: I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 12, 'created': '2020-07-15 04:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/c8cfeb6069cd35faa0ab8efa33777f5935997678', 'message': 'WIP: Dummy driver jobs\n\nDepends-On: https://review.opendev.org/741082\nChange-Id: I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 13, 'created': '2020-07-15 06:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/40b70502a54d33611e03c951b7a1f0ffba394dca', 'message': 'WIP: Dummy driver jobs\n\nDepends-On: https://review.opendev.org/741082\nDepends-On: https://review.opendev.org/741097\nChange-Id: I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 14, 'created': '2020-07-16 00:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/ea1b5dd52566b9e5379370e5fb9fbf6bd35a8002', 'message': 'WIP: Dummy driver jobs\n\nChange-Id: I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 15, 'created': '2020-07-16 00:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/a954bb62c9647a3b2d70e47ec0959a722f5c99a6', 'message': 'WIP: Dummy driver jobs\n\nChange-Id: I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 16, 'created': '2020-07-16 01:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/f4430ce1183c1e168ba293112ee8938c7a2fa737', 'message': 'WIP: Dummy driver jobs\n\nChange-Id: I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 17, 'created': '2020-07-16 01:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/6cb4a790b5bc67b8106defa825dcaf6a00ac3a30', 'message': 'WIP: Dummy driver jobs\n\nChange-Id: I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 18, 'created': '2020-07-16 01:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/2115fc374b6a92e551a4f9746dd4f758870ef723', 'message': 'WIP: Dummy driver jobs\n\nChange-Id: I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 19, 'created': '2020-07-16 05:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/57af157a5e1139ea08d7387c5d0e4ad509c072f5', 'message': 'WIP: Dummy driver jobs\n\nChange-Id: I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 20, 'created': '2020-07-16 06:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/981ac7ec09f416dea0e56071b59a7376590e164f', 'message': 'Add Zuulv3 native jobs for the dummy driver\n\n- Split the existing ""manila-tempest-minimal-dsvm-dummy""\n  functional job into two jobs:\n  * manila-tempest-plugin-dummy-no-dhss (DHSS=False)\n  * manila-tempest-plugin-dummy-dhss (DHSS=True\n  to take advantage of the zuul and tempest ansible\n  roles available to us.\n- Base these new jobs on a minimal devstack, that only\n  runs manila and keystone and no other OpenStack services.\n  This makes these tests run really fast, coupled\n  with the fact that they\'re running against a no-op\n  driver.\n- Introduce a role to copy tempest configuration\n  after orchestrating devstack because devstack\'s\n  ""test-config"" hook [1] misbehaves when the base\n  services are not enabled.\n\nDepends-On: I4fd282673074887cada729b6e4491ee493e230cc\nChange-Id: I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 21, 'created': '2020-07-16 15:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/37ee73501780c02e7fe8b9b772f3c2978acddd52', 'message': 'Add Zuulv3 native jobs for the dummy driver\n\n- Split the existing ""manila-tempest-minimal-dsvm-dummy""\n  functional job into two jobs:\n  * manila-tempest-plugin-dummy-no-dhss (DHSS=False)\n  * manila-tempest-plugin-dummy-dhss (DHSS=True\n  to take advantage of the zuul and tempest ansible\n  roles available to us.\n- Base these new jobs on a minimal devstack, that only\n  runs manila and keystone and no other OpenStack services.\n  This makes these tests run really fast, coupled\n  with the fact that they\'re running against a no-op\n  driver.\n- Introduce a role to copy tempest configuration\n  after orchestrating devstack because devstack\'s\n  ""test-config"" hook [1] misbehaves when the base\n  services are not enabled.\n\nDepends-On: I4fd282673074887cada729b6e4491ee493e230cc\nChange-Id: I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 22, 'created': '2020-07-16 16:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/925925b44578b41b116fa46709289f73abc3a6fe', 'message': 'Add Zuulv3 native jobs for the dummy driver\n\n- Split the existing ""manila-tempest-minimal-dsvm-dummy""\n  functional job into two jobs:\n  * manila-tempest-plugin-dummy-no-dhss (DHSS=False)\n  * manila-tempest-plugin-dummy-dhss (DHSS=True\n  to take advantage of the zuul and tempest ansible\n  roles available to us.\n- Base these new jobs on a minimal devstack, that only\n  runs manila and keystone and no other OpenStack services.\n  This makes these tests run really fast, coupled\n  with the fact that they\'re running against a no-op\n  driver.\n- Introduce a role to copy tempest configuration\n  after orchestrating devstack because devstack\'s\n  ""test-config"" hook [1] misbehaves when the base\n  services are not enabled.\n\nDepends-On: I4fd282673074887cada729b6e4491ee493e230cc\nChange-Id: I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 23, 'created': '2020-07-16 18:02:06.000000000', 'files': ['playbooks/manila-tempest-plugin-standalone/run.yaml', 'playbooks/manila-tempest-plugin-standalone/post.yaml', 'roles/set-tempest-config/README.rst', 'roles/set-tempest-config/tasks/main.yml', 'roles/set-tempest-config/defaults/main.yml', 'zuul.d/project.yaml', 'zuul.d/manila-tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/df804d802010ce2193f779b0dde20d8daa5f12ba', 'message': 'Add Zuulv3 native jobs for the dummy driver\n\n- Split the existing ""manila-tempest-minimal-dsvm-dummy""\n  functional job into two jobs:\n  * manila-tempest-plugin-dummy-no-dhss (DHSS=False)\n  * manila-tempest-plugin-dummy-dhss (DHSS=True\n  to take advantage of the zuul and tempest ansible\n  roles available to us.\n- Base these new jobs on a minimal devstack, that only\n  runs manila and keystone and no other OpenStack services.\n  This makes these tests run really fast, coupled\n  with the fact that they\'re running against a no-op\n  driver.\n- Introduce a role to copy tempest configuration\n  after orchestrating devstack because devstack\'s\n  ""test-config"" hook [1] misbehaves when the base\n  services are not enabled.\n\nDepends-On: I4fd282673074887cada729b6e4491ee493e230cc\nChange-Id: I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",3,740534,df804d802010ce2193f779b0dde20d8daa5f12ba,64,9,23,16643,,,0,"Add Zuulv3 native jobs for the dummy driver

- Split the existing ""manila-tempest-minimal-dsvm-dummy""
  functional job into two jobs:
  * manila-tempest-plugin-dummy-no-dhss (DHSS=False)
  * manila-tempest-plugin-dummy-dhss (DHSS=True
  to take advantage of the zuul and tempest ansible
  roles available to us.
- Base these new jobs on a minimal devstack, that only
  runs manila and keystone and no other OpenStack services.
  This makes these tests run really fast, coupled
  with the fact that they're running against a no-op
  driver.
- Introduce a role to copy tempest configuration
  after orchestrating devstack because devstack's
  ""test-config"" hook [1] misbehaves when the base
  services are not enabled.

Depends-On: I4fd282673074887cada729b6e4491ee493e230cc
Change-Id: I4c9f552e6a495b3d3f9dd63c1657ea40a3f9033b
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/34/740534/7 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/manila-tempest-plugin-standalone/post.yaml', 'playbooks/manila-tempest-plugin-standalone/run.yaml', 'zuul.d/project.yaml', 'zuul.d/manila-tempest-jobs.yaml']",4,da7b17228711e8b44a9ff4e75b9dc1349dfd55b8,native-zuulv3-migration," MANILA_SHARE_MIGRATION_PERIOD_TASK_INTERVAL: 1 MANILA_REPLICA_STATE_UPDATE_INTERVAL: 10 name: manila-tempest-plugin-standalone-base abstract: true description: | Base job for running a minimal devstack with tempest based manila jobs. timeout: 4200 parent: devstack-minimal irrelevant-files: *irrelevant-files required-projects: - openstack/keystone - openstack/manila - openstack/manila-tempest-plugin - openstack/python-manilaclient - openstack/tempest run: playbooks/manila-tempest-plugin-standalone/run.yaml post-run: playbooks/manila-tempest-plugin-standalone/post.yaml vars: tox_envlist: all tempest_test_regex: manila_tempest_tests.api tempest_concurrency: 16 tempest_plugins: - manila-tempest-plugin devstack_plugins: manila: https://opendev.org/openstack/manila manila-tempest-plugin: https://opendev.org/openstack/manila-tempest-plugin devstack_localrc: USE_PYTHON3: true MANILA_INSTALL_TEMPEST_PLUGIN_SYSTEMWIDE: false MANILA_SERVICE_IMAGE_ENABLED: false MANILA_SHARE_MIGRATION_PERIOD_TASK_INTERVAL: 1 MANILA_REPLICA_STATE_UPDATE_INTERVAL: 10 devstack_services: tls-proxy: true key: true tempest: true - job: - job: name: manila-tempest-plugin-dummy-no-dhss description: Test the Dummy driver with DHSS=False parent: manila-tempest-plugin-standalone-base vars: devstack_localrc: MANILA_DEFAULT_SHARE_TYPE_EXTRA_SPECS: 'snapshot_support=True create_share_from_snapshot_support=True revert_to_snapshot_support=True mount_snapshot_support=True' SHARE_DRIVER: manila.tests.share.drivers.dummy.DummyDriver MANILA_CONFIGURE_GROUPS: alpha,beta MANILA_OPTGROUP_alpha_share_driver: manila.tests.share.drivers.dummy.DummyDriver MANILA_OPTGROUP_alpha_driver_handles_share_servers: false MANILA_OPTGROUP_alpha_share_backend_name: ALPHA MANILA_OPTGROUP_alpha_replication_domain: DUMMY_DOMAIN MANILA_OPTGROUP_beta_share_driver: manila.tests.share.drivers.dummy.DummyDriver MANILA_OPTGROUP_beta_driver_handles_share_servers: false MANILA_OPTGROUP_beta_share_backend_name: BETA MANILA_OPTGROUP_beta_replication_domain: DUMMY_DOMAIN devstack_local_conf: test-config: $TEMPEST_CONFIG: share: run_mount_snapshot_tests: true run_migration_with_preserve_snapshots_tests: true run_driver_assisted_migration_tests: true run_replication_tests: true run_manage_unmanage_snapshot_tests: true run_manage_unmanage_tests: true run_revert_to_snapshot_tests: true backend_replication_type: readable multi_backend: true capability_sg_consistent_snapshot_support: pool build_timeout: 180 enable_ro_access_level_for_protocols: nfs,cifs enable_user_rules_for_protocols: cifs enable_ip_rules_for_protocols: nfs multitenancy_enabled: true backend_names: ALPHA,BETA - job: name: manila-tempest-plugin-dummy-dhss description: Test the Dummy driver with DHSS=True parent: manila-tempest-plugin-standalone-base vars: devstack_localrc: MANILA_OPTGROUP_DEFAULT_quota_share_networks: 50 MANILA_DEFAULT_SHARE_TYPE_EXTRA_SPECS: 'snapshot_support=True create_share_from_snapshot_support=True revert_to_snapshot_support=True mount_snapshot_support=True' SHARE_DRIVER: manila.tests.share.drivers.dummy.DummyDriver MANILA_ENABLED_BACKENDS: alpha,beta MANILA_CONFIGURE_GROUPS: alpha,beta,membernet,adminnet MANILA_OPTGROUP_alpha_share_driver: manila.tests.share.drivers.dummy.DummyDriver MANILA_OPTGROUP_alpha_driver_handles_share_servers: true MANILA_OPTGROUP_alpha_share_backend_name: ALPHA MANILA_OPTGROUP_alpha_network_config_group: membernet MANILA_OPTGROUP_alpha_admin_network_config_group: adminnet MANILA_OPTGROUP_alpha_replication_domain: DUMMY_DOMAIN MANILA_OPTGROUP_beta_share_driver: manila.tests.share.drivers.dummy.DummyDriver MANILA_OPTGROUP_beta_driver_handles_share_servers: true MANILA_OPTGROUP_beta_share_backend_name: BETA MANILA_OPTGROUP_beta_network_config_group: membernet MANILA_OPTGROUP_beta_admin_network_config_group: adminnet MANILA_OPTGROUP_beta_replication_domain: DUMMY_DOMAIN MANILA_OPTGROUP_membernet_standalone_network_plugin_gateway: 10.0.0.1 MANILA_OPTGROUP_membernet_standalone_network_plugin_mask: 24 MANILA_OPTGROUP_membernet_standalone_network_plugin_network_type: vlan MANILA_OPTGROUP_membernet_standalone_network_plugin_segmentation_id: 1010 MANILA_OPTGROUP_membernet_standalone_network_plugin_allowed_ip_ranges: 10.0.0.10-10.0.0.209 MANILA_OPTGROUP_membernet_network_plugin_ipv4_enabled: true MANILA_OPTGROUP_adminnet_network_api_class: manila.network.standalone_network_plugin.StandaloneNetworkPlugin MANILA_OPTGROUP_adminnet_standalone_network_plugin_gateway: 11.0.0.1 MANILA_OPTGROUP_adminnet_standalone_network_plugin_mask: 24 MANILA_OPTGROUP_adminnet_standalone_network_plugin_network_type: vlan MANILA_OPTGROUP_adminnet_standalone_network_plugin_segmentation_id: 1011 MANILA_OPTGROUP_adminnet_standalone_network_plugin_allowed_ip_ranges: 11.0.0.10-11.0.0.19,11.0.0.30-11.0.0.39,11.0.0.50-11.0.0.199 MANILA_OPTGROUP_adminnet_network_plugin_ipv4_enabled: true devstack_local_conf: test-config: $TEMPEST_CONFIG: share: run_mount_snapshot_tests: true run_migration_with_preserve_snapshots_tests: true run_driver_assisted_migration_tests: true run_host_assisted_migration_tests: false run_replication_tests: true run_manage_unmanage_snapshot_tests: true run_manage_unmanage_tests: true run_revert_to_snapshot_tests: true backend_replication_type: readable multi_backed: true create_networks_when_multitenancy_enabled: false capability_sg_consistent_snapshot_support: pool build_timeout: 180 enable_ro_access_level_for_protocols: nfs,cifs enable_user_rules_for_protocols: cifs enable_ip_rules_for_protocols: nfs multitenancy_enabled: True backend_names = ALPHA,BETA",,169,14
openstack%2Freleases~master~I3be85b3e89ffa4668eb38848223b726007fb6adb,openstack/releases,master,I3be85b3e89ffa4668eb38848223b726007fb6adb,Release openstacksdk for stable/stein,MERGED,2020-07-17 22:26:21.000000000,2020-07-24 17:05:42.000000000,2020-07-24 17:05:42.000000000,"[{'_account_id': 2}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:26:21.000000000', 'files': ['deliverables/stein/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ecc1533cd348e2e8959c1563d9c224d66b3800f6', 'message': 'Release openstacksdk for stable/stein\n\nThis release picks up new commits to openstacksdk since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I3be85b3e89ffa4668eb38848223b726007fb6adb\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741763,ecc1533cd348e2e8959c1563d9c224d66b3800f6,7,4,1,11904,,,0,"Release openstacksdk for stable/stein

This release picks up new commits to openstacksdk since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I3be85b3e89ffa4668eb38848223b726007fb6adb
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/63/741763/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/openstacksdk.yaml'],1,ecc1533cd348e2e8959c1563d9c224d66b3800f6,stein-stable, - version: 0.27.1 projects: - repo: openstack/openstacksdk hash: 25ae60cd4e5acb1231322fb986784747f03d72e5,,4,0
openstack%2Fcharm-ceph-proxy~master~I1b49dc4f3e24483d7a64c6d9c2c55634e3b526e0,openstack/charm-ceph-proxy,master,I1b49dc4f3e24483d7a64c6d9c2c55634e3b526e0,Updates for 20.08 cycle start for groovy and libs,MERGED,2020-06-02 13:28:36.000000000,2020-07-24 16:58:25.000000000,2020-07-24 16:58:25.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-06-02 13:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/84978490b2d600cc7e2f9bf235c21b0342d5b826', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: I1b49dc4f3e24483d7a64c6d9c2c55634e3b526e0\n'}, {'number': 2, 'created': '2020-07-24 12:57:50.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/snap.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/ce7272e6f63d137bc804a48cd0145270ce35bc57', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: I1b49dc4f3e24483d7a64c6d9c2c55634e3b526e0\n'}]",0,732630,ce7272e6f63d137bc804a48cd0145270ce35bc57,17,5,2,20870,,,0,"Updates for 20.08 cycle start for groovy and libs

- Adds groovy to the series in the metadata
- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild

Change-Id: I1b49dc4f3e24483d7a64c6d9c2c55634e3b526e0
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/30/732630/2 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/snap.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'metadata.yaml']",4,84978490b2d600cc7e2f9bf235c21b0342d5b826,batch-groovy-ch-libs," Ceph is a distributed storage and network file system designed to provide excellent performance, reliability, and scalability. tags: - openstack - storage - file-servers - misc series: - xenial - bionic - eoan - focal - trusty - groovy"," Ceph is a distributed storage and network file system designed to provide excellent performance, reliability, and scalability. tags: - openstack - storage - file-servers - misc series: - xenial - bionic - eoan - focal - trusty",18,17
openstack%2Fopenstack-helm-infra~master~Ia166584eae48c643248f977b959aa6336e3a327e,openstack/openstack-helm-infra,master,Ia166584eae48c643248f977b959aa6336e3a327e,Fix tiller metrics port exposure issue for minikube,MERGED,2020-07-24 04:42:25.000000000,2020-07-24 16:45:54.000000000,2020-07-24 16:43:54.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-07-24 04:42:25.000000000', 'files': ['tools/deployment/common/005-deploy-k8s.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d103da6c06acaa0630221ec5126c3fa113744947', 'message': ""Fix tiller metrics port exposure issue for minikube\n\nAlong with fixing the bug, with this we'll decrease build time for\nall jobs using minikube and collecting tiller metrics for more than\n2 minutes.\n\nChange-Id: Ia166584eae48c643248f977b959aa6336e3a327e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n""}]",0,742793,d103da6c06acaa0630221ec5126c3fa113744947,8,3,1,8863,,,0,"Fix tiller metrics port exposure issue for minikube

Along with fixing the bug, with this we'll decrease build time for
all jobs using minikube and collecting tiller metrics for more than
2 minutes.

Change-Id: Ia166584eae48c643248f977b959aa6336e3a327e
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/93/742793/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/common/005-deploy-k8s.sh'],1,d103da6c06acaa0630221ec5126c3fa113744947,,"tee /tmp/tiller-deploy.yaml << EOF metadata: annotations: prometheus.io/scrape: ""true"" prometheus.io/port: ""44135"" spec: ports: - name: http port: 44135 targetPort: httpkubectl patch service tiller-deploy -n kube-system --patch ""$(cat /tmp/tiller-deploy.yaml)"" kubectl --namespace=kube-system wait --timeout=240s --for=condition=Ready pod -l app=helm,name=tiller "," tee /tmp/tiller-deploy.yaml << EOF metadata: annotations: prometheus.io/scrape: ""true"" prometheus.io/port: ""44135"" spec: ports: - name: http port: 44135 targetPort: http EOF kubectl patch service tiller-deploy -n kube-system --patch ""$(cat /tmp/tiller-deploy.yaml)"" kubectl --namespace=kube-system wait \ --timeout=240s \ --for=condition=Ready \ pod -l app=helm,name=tiller",13,17
openstack%2Fswift~master~I67c5c37c8c669e1e2de2cbfca8bcec02dc98659f,openstack/swift,master,I67c5c37c8c669e1e2de2cbfca8bcec02dc98659f,docs: Clarify request_time in storage logs,MERGED,2020-07-24 04:46:40.000000000,2020-07-24 16:31:54.000000000,2020-07-24 16:29:51.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 04:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6db337ae141389a7ae72403196fd6e657e9bf6db', 'message': ""docs: Clarify request_time in storage logs\n\nIt does *not* include transfer time; it's just the time until response\nis started.\n\nChange-Id: I67c5c37c8c669e1e2de2cbfca8bcec02dc98659f\n""}, {'number': 2, 'created': '2020-07-24 04:48:37.000000000', 'files': ['doc/source/logs.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/e10af5d2634b5e361f57315b3008b51bd5bec128', 'message': ""docs: Clarify request_time in storage logs\n\nIt does *not* include transfer time; it's just the time until response\nis started.\n\nChange-Id: I67c5c37c8c669e1e2de2cbfca8bcec02dc98659f\n""}]",0,742794,e10af5d2634b5e361f57315b3008b51bd5bec128,9,3,2,15343,,,0,"docs: Clarify request_time in storage logs

It does *not* include transfer time; it's just the time until response
is started.

Change-Id: I67c5c37c8c669e1e2de2cbfca8bcec02dc98659f
",git fetch https://review.opendev.org/openstack/swift refs/changes/94/742794/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/logs.rst'],1,6db337ae141389a7ae72403196fd6e657e9bf6db,,request_time The time between request received and response started. **Note**: This does *not* include transfer time.,request_time The duration of the request.,2,1
openstack%2Fopenstack-ansible-openstack_hosts~master~I628c61e4b846bb380640ed96ee4c1909c88898ff,openstack/openstack-ansible-openstack_hosts,master,I628c61e4b846bb380640ed96ee4c1909c88898ff,Fix centos-8 functional tests,MERGED,2020-07-21 12:11:18.000000000,2020-07-24 16:31:38.000000000,2020-07-23 13:42:53.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-21 12:11:18.000000000', 'files': ['tasks/openstack_hosts_configure_dnf.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/7f26a27140b2b9855268a08fc336d7c1216d643c', 'message': ""Fix centos-8 functional tests\n\nCentos-8 is the only operating system which excercises the DNF code\npath and for functional rather than integrated tests install_method\nmay be undefined.\n\nDefault the install method to 'source'\n\nChange-Id: I628c61e4b846bb380640ed96ee4c1909c88898ff\n""}]",0,742166,7f26a27140b2b9855268a08fc336d7c1216d643c,10,3,1,25023,,,0,"Fix centos-8 functional tests

Centos-8 is the only operating system which excercises the DNF code
path and for functional rather than integrated tests install_method
may be undefined.

Default the install method to 'source'

Change-Id: I628c61e4b846bb380640ed96ee4c1909c88898ff
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/66/742166/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/openstack_hosts_configure_dnf.yml'],1,7f26a27140b2b9855268a08fc336d7c1216d643c,osa/el8, - (install_method | default('source')) == 'distro', - install_method == 'distro',1,1
openstack%2Fcinder~master~I4467b6ed7dda01f8bd73428a0d4ee6257b0b3eb7,openstack/cinder,master,I4467b6ed7dda01f8bd73428a0d4ee6257b0b3eb7,Add missing context to function call,MERGED,2020-04-29 19:39:29.000000000,2020-07-24 16:31:32.000000000,2020-07-24 16:29:49.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 28948}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 31854}]","[{'number': 1, 'created': '2020-04-29 19:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/33f5710cf284031a5ab87c032734af1126912e8c', 'message': ""Add missing context to function call\n\nCode doesn't pass the context object to a superclass call\nwhere it is needed in a conditional branch.\n\nCloses-bug: #1875953\nChange-Id: I4467b6ed7dda01f8bd73428a0d4ee6257b0b3eb7\n""}, {'number': 2, 'created': '2020-05-04 12:29:38.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_vzstorage.py', 'cinder/volume/drivers/vzstorage.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a49913222e8d60f795c1681f2dd57814fd21bfcf', 'message': ""Add missing context to function call\n\nCode doesn't pass the context object to a superclass call\nwhere it is needed in a conditional branch.\n\nCloses-bug: #1875953\nChange-Id: I4467b6ed7dda01f8bd73428a0d4ee6257b0b3eb7\n""}]",0,724407,a49913222e8d60f795c1681f2dd57814fd21bfcf,60,30,2,5314,,,0,"Add missing context to function call

Code doesn't pass the context object to a superclass call
where it is needed in a conditional branch.

Closes-bug: #1875953
Change-Id: I4467b6ed7dda01f8bd73428a0d4ee6257b0b3eb7
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/724407/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/vzstorage.py'],1,33f5710cf284031a5ab87c032734af1126912e8c,bug/1875953," return super(VZStorageDriver, self)._create_cloned_volume( volume, src_vref, context)"," return super(VZStorageDriver, self)._create_cloned_volume(volume, src_vref)",2,2
openstack%2Fopenstack-ansible-os_mistral~master~Idedaa4729e01cb787bd06af3dc3427113fc0bfe3,openstack/openstack-ansible-os_mistral,master,Idedaa4729e01cb787bd06af3dc3427113fc0bfe3,Add centos-8 support,MERGED,2020-07-07 03:49:57.000000000,2020-07-24 16:31:13.000000000,2020-07-24 15:16:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-07-07 03:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/af22e97d2a0365f6de7ce25372ca18bc23214d57', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nChange-Id: Idedaa4729e01cb787bd06af3dc3427113fc0bfe3\n'}, {'number': 2, 'created': '2020-07-07 05:30:38.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/22701d0aebb467c6d81e91512463e0484d21cca2', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nChange-Id: Idedaa4729e01cb787bd06af3dc3427113fc0bfe3\n'}]",0,739650,22701d0aebb467c6d81e91512463e0484d21cca2,20,4,2,28752,,,0,"Add centos-8 support

Renaming redhat-7.yml to redhat.yml for centos-8 support.

Change-Id: Idedaa4729e01cb787bd06af3dc3427113fc0bfe3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/50/739650/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,af22e97d2a0365f6de7ce25372ca18bc23214d57,osa/el8," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('python-devel', 'python36-devel') }}"" - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('systemd-python', 'python3-systemd') }}""", - systemd-devel - systemd-python,2,2
openstack%2Fopenstack-ansible-os_panko~master~I5bc1a732cf5c7e3c94dbee613f52e0718fbe482e,openstack/openstack-ansible-os_panko,master,I5bc1a732cf5c7e3c94dbee613f52e0718fbe482e,Add centos-8 support,MERGED,2020-07-22 18:34:02.000000000,2020-07-24 16:30:43.000000000,2020-07-24 14:15:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-22 18:34:02.000000000', 'files': ['vars/redhat.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/52003c2162415761079a98bda934fce31aa986c7', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nChange-Id: I5bc1a732cf5c7e3c94dbee613f52e0718fbe482e\n'}]",0,742507,52003c2162415761079a98bda934fce31aa986c7,9,3,1,28752,,,0,"Add centos-8 support

Renaming redhat-7.yml to redhat.yml for centos-8 support.

Change-Id: I5bc1a732cf5c7e3c94dbee613f52e0718fbe482e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/07/742507/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'zuul.d/project.yaml']",2,52003c2162415761079a98bda934fce31aa986c7,osa/el8, check: jobs: - openstack-ansible-deploy-aio_metal-centos-8: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-8: voting: false - openstack-ansible-deploy-aio_metal-ubuntu-focal: voting: false gate: jobs: - openstack-ansible-deploy-aio_metal-centos-8: voting: false - openstack-ansible-deploy-aio_distro_metal-centos-8: voting: false - openstack-ansible-deploy-aio_metal-ubuntu-focal: voting: false,,16,0
openstack%2Foctavia~stable%2Ftrain~I757d84e4624f488382ec4ff9af3f489cd9a85ed3,openstack/octavia,stable/train,I757d84e4624f488382ec4ff9af3f489cd9a85ed3,Fix missing dependency in amphora create flow,MERGED,2020-07-22 11:58:02.000000000,2020-07-24 16:29:55.000000000,2020-07-24 16:28:18.000000000,"[{'_account_id': 6469}, {'_account_id': 9592}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-07-22 11:58:02.000000000', 'files': ['octavia/tests/unit/controller/worker/v1/test_controller_worker.py', 'octavia/controller/worker/v1/controller_worker.py', 'releasenotes/notes/fix-missing-amphora-create-dependency-a954ded0d260d462.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b3113b33bbcd0603a44047594b7d9979ffaeb3b2', 'message': 'Fix missing dependency in amphora create flow\n\nTask CertComputeCreate requires SERVER_GROUP_ID but this dependency is\nmissing when nova anti-affinity is enabled and load balancer topology is\nSINGLE. This patch fixes this issue.\n\nTask: 40408\nStory: 2007943\nCloses-Bug: #1888397\n\nChange-Id: I757d84e4624f488382ec4ff9af3f489cd9a85ed3\n(cherry picked from commit ae6f3443594390fd543a007d67b78132e697fb29)\n(cherry picked from commit 2da18070a642323ad48c981961284a9534ece4be)\n'}]",0,742402,b3113b33bbcd0603a44047594b7d9979ffaeb3b2,14,7,1,6469,,,0,"Fix missing dependency in amphora create flow

Task CertComputeCreate requires SERVER_GROUP_ID but this dependency is
missing when nova anti-affinity is enabled and load balancer topology is
SINGLE. This patch fixes this issue.

Task: 40408
Story: 2007943
Closes-Bug: #1888397

Change-Id: I757d84e4624f488382ec4ff9af3f489cd9a85ed3
(cherry picked from commit ae6f3443594390fd543a007d67b78132e697fb29)
(cherry picked from commit 2da18070a642323ad48c981961284a9534ece4be)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/02/742402/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v1/test_controller_worker.py', 'octavia/controller/worker/v1/controller_worker.py', 'releasenotes/notes/fix-missing-amphora-create-dependency-a954ded0d260d462.yaml']",3,b3113b33bbcd0603a44047594b7d9979ffaeb3b2,story/2007943,--- fixes: - | Fixed an issue where amphora load balancers fail to create when Nova anti-affinity is enabled and topology is SINGLE. ,,42,6
openstack%2Fcharm-nova-cloud-controller~master~I27de9445d249b0d670543d250bd02f450764a10f,openstack/charm-nova-cloud-controller,master,I27de9445d249b0d670543d250bd02f450764a10f,Use public endpoint binding for console cert and key,MERGED,2020-07-22 09:11:44.000000000,2020-07-24 16:24:03.000000000,2020-07-24 16:24:02.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-22 09:11:44.000000000', 'files': ['hooks/nova_cc_context.py', 'unit_tests/test_nova_cc_contexts.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/f0095ffcbbfd3c84dc410713ea269ea2dd3ea879', 'message': 'Use public endpoint binding for console cert and key\n\nEnsure that the public endpoint binding is used to resolve the\npath to the SSL certificate and key files as the base access\nURL for console access is always via this binding.\n\nAdd unit tests to cover the InstanceConsoleContext class.\n\nChange-Id: I27de9445d249b0d670543d250bd02f450764a10f\nCloses-Bug: 1871428\n'}]",0,742375,f0095ffcbbfd3c84dc410713ea269ea2dd3ea879,12,5,1,935,,,0,"Use public endpoint binding for console cert and key

Ensure that the public endpoint binding is used to resolve the
path to the SSL certificate and key files as the base access
URL for console access is always via this binding.

Add unit tests to cover the InstanceConsoleContext class.

Change-Id: I27de9445d249b0d670543d250bd02f450764a10f
Closes-Bug: 1871428
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/75/742375/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_cc_context.py', 'unit_tests/test_nova_cc_contexts.py']",2,f0095ffcbbfd3c84dc410713ea269ea2dd3ea879,bug/1871428," @mock.patch.object(context, 'ch_cluster') @mock.patch('os.path.exists') @mock.patch('charmhelpers.contrib.openstack.ip.resolve_address') def test_instance_console_context(self, mock_resolve_address, mock_os_path_exists, mock_ch_cluster): mock_os_path_exists.return_value = True mock_resolve_address.return_value = ""10.20.30.40"" mock_ch_cluster.https.return_value = True ctxt = context.InstanceConsoleContext()() self.assertEqual( ctxt, {'ssl_cert': '/etc/apache2/ssl/nova/cert_10.20.30.40', 'ssl_key': '/etc/apache2/ssl/nova/key_10.20.30.40'} ) mock_resolve_address.assert_called_once_with( endpoint_type=context.ch_ip.PUBLIC ) @mock.patch.object(context, 'ch_cluster') @mock.patch('os.path.exists') @mock.patch('charmhelpers.contrib.openstack.ip.resolve_address') def test_instance_console_context_no_https(self, mock_resolve_address, mock_os_path_exists, mock_ch_cluster): mock_os_path_exists.return_value = True mock_resolve_address.return_value = ""10.20.30.40"" mock_ch_cluster.https.return_value = False ctxt = context.InstanceConsoleContext()() self.assertEqual( ctxt, {} ) ",,36,1
openstack%2Fopenstack-ansible~master~I989b5c25790621d240a65abcffb742a9d880eeec,openstack/openstack-ansible,master,I989b5c25790621d240a65abcffb742a9d880eeec,Check libselinux-python3 instead of py2 alternative,ABANDONED,2020-07-24 16:21:55.000000000,2020-07-24 16:23:13.000000000,,[],"[{'number': 1, 'created': '2020-07-24 16:21:55.000000000', 'files': ['playbooks/common-tasks/ceph-server.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/816345ebe23c62f79b59ab19582d233acf06a5b0', 'message': 'Check libselinux-python3 instead of py2 alternative\n\nChange-Id: I989b5c25790621d240a65abcffb742a9d880eeec\n'}]",0,742937,816345ebe23c62f79b59ab19582d233acf06a5b0,2,0,1,28619,,,0,"Check libselinux-python3 instead of py2 alternative

Change-Id: I989b5c25790621d240a65abcffb742a9d880eeec
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/37/742937/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/common-tasks/ceph-server.yml'],1,816345ebe23c62f79b59ab19582d233acf06a5b0,, name: libselinux-python3, name: libselinux-python,1,1
openstack%2Fkolla-ansible~stable%2Fussuri~I9a3633f58e5eb734fa32edc03a3022a500761bbb,openstack/kolla-ansible,stable/ussuri,I9a3633f58e5eb734fa32edc03a3022a500761bbb,Masakari: copy TLS certificates into containers,MERGED,2020-07-24 09:19:47.000000000,2020-07-24 16:20:12.000000000,2020-07-24 16:17:56.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-24 09:19:47.000000000', 'files': ['ansible/roles/masakari/tasks/copy-certs.yml', 'releasenotes/notes/fix-masakari-tls-64f010c037e95bea.yaml', 'ansible/roles/masakari/templates/masakari.conf.j2', 'ansible/roles/masakari/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/26f6db900271fadf288a72548cd978291d303211', 'message': 'Masakari: copy TLS certificates into containers\n\nFrom Ussuri, if CA certificates are copied into\n/etc/kolla/certificates/ca/, these should be copied into all containers.\nThis is not being done for masakari currently.\n\nAdditionally, we are not setting the [DEFAULT] nova_ca_certificates_file\noption in masakari.conf. This depends on masakari bug 1873736 being\nfixed to work.\n\nThis change fixes these issues.\n\nChange-Id: I9a3633f58e5eb734fa32edc03a3022a500761bbb\nCloses-Bug: #1888655\n(cherry picked from commit 0b4c8a3c3d73f5eade2b61730e74e672573ee13b)\n'}]",0,742831,26f6db900271fadf288a72548cd978291d303211,10,3,1,30491,,,0,"Masakari: copy TLS certificates into containers

From Ussuri, if CA certificates are copied into
/etc/kolla/certificates/ca/, these should be copied into all containers.
This is not being done for masakari currently.

Additionally, we are not setting the [DEFAULT] nova_ca_certificates_file
option in masakari.conf. This depends on masakari bug 1873736 being
fixed to work.

This change fixes these issues.

Change-Id: I9a3633f58e5eb734fa32edc03a3022a500761bbb
Closes-Bug: #1888655
(cherry picked from commit 0b4c8a3c3d73f5eade2b61730e74e672573ee13b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/31/742831/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/masakari/tasks/copy-certs.yml', 'releasenotes/notes/fix-masakari-tls-64f010c037e95bea.yaml', 'ansible/roles/masakari/templates/masakari.conf.j2', 'ansible/roles/masakari/tasks/config.yml']",4,26f6db900271fadf288a72548cd978291d303211,bug/1873736-stable/ussuri,- include_tasks: copy-certs.yml when: - kolla_copy_ca_into_containers | bool ,,19,0
openstack%2Fkolla-ansible~stable%2Fstein~I61235b51e2e1325b8a9b4f85bf634f663c7ec3cc,openstack/kolla-ansible,stable/stein,I61235b51e2e1325b8a9b4f85bf634f663c7ec3cc,Make /dev/kvm permissions handling more robust,MERGED,2020-07-22 15:58:03.000000000,2020-07-24 16:19:23.000000000,2020-07-24 16:14:38.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-22 15:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f24db9e24ce8111300d9dad93ac08708966dde17', 'message': 'Make /dev/kvm permissions handling more robust\n\nThis makes use of udev rules to make it smarter and override\nhost-level packages settings.\nAdditionally, this masks Ubuntu-only service that is another\npain point in terms of /dev/kvm permissions.\nFingers crossed for no further surprises.\n\nChange-Id: I61235b51e2e1325b8a9b4f85bf634f663c7ec3cc\nCloses-bug: #1681461\n(cherry picked from commit 202365e70213fe7f23d1d618789e356e24ed0679)\n'}, {'number': 2, 'created': '2020-07-23 09:06:07.000000000', 'files': ['releasenotes/notes/bug-1681461-761f0cdf71bcb962.yaml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/nova/templates/99-kolla-kvm.rules.j2', 'ansible/roles/nova/tasks/config-host.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b0667666262ccb60efddf66126284e2f24e98ccd', 'message': 'Make /dev/kvm permissions handling more robust\n\nThis makes use of udev rules to make it smarter and override\nhost-level packages settings.\nAdditionally, this masks Ubuntu-only service that is another\npain point in terms of /dev/kvm permissions.\nFingers crossed for no further surprises.\n\nChange-Id: I61235b51e2e1325b8a9b4f85bf634f663c7ec3cc\nCloses-bug: #1681461\n(cherry picked from commit 202365e70213fe7f23d1d618789e356e24ed0679)\n'}]",1,742471,b0667666262ccb60efddf66126284e2f24e98ccd,13,4,2,14826,,,0,"Make /dev/kvm permissions handling more robust

This makes use of udev rules to make it smarter and override
host-level packages settings.
Additionally, this masks Ubuntu-only service that is another
pain point in terms of /dev/kvm permissions.
Fingers crossed for no further surprises.

Change-Id: I61235b51e2e1325b8a9b4f85bf634f663c7ec3cc
Closes-bug: #1681461
(cherry picked from commit 202365e70213fe7f23d1d618789e356e24ed0679)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/71/742471/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'releasenotes/notes/bug-1681461-761f0cdf71bcb962.yaml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/nova/templates/99-kolla-kvm.rules.j2', 'ansible/roles/nova/tasks/config-host.yml']",5,f24db9e24ce8111300d9dad93ac08708966dde17,bug/1681461," # NOTE(yoctozepto): Part of bug #1681461 fix. # This part can actually run on any distro and lets us drop the hardcoded # chown and chmod from the nova-libvirt image extend_start and make the process # more robust. - name: Install udev kolla kvm rules become: true template: src: ""99-kolla-kvm.rules.j2"" dest: ""/etc/udev/rules.d/99-kolla-kvm.rules"" mode: ""0644"" when: - nova_compute_virt_type == 'kvm' - inventory_hostname in groups['compute'] # NOTE(yoctozepto): Part of bug #1681461 fix. # This part only really makes sense on Ubuntu and would end up being confusing # on others. This service changes /dev/kvm permissions. - name: Mask qemu-kvm service become: true systemd: name: qemu-kvm.service masked: true when: - nova_compute_virt_type == 'kvm' - ansible_distribution == 'Ubuntu' - inventory_hostname in groups['compute']",,475,0
openstack%2Fkolla-ansible~stable%2Ftrain~Iabad035d583d291169f23be3d71931cb260e87ae,openstack/kolla-ansible,stable/train,Iabad035d583d291169f23be3d71931cb260e87ae,CI: add prometheus-efk scenario,MERGED,2020-07-20 10:17:26.000000000,2020-07-24 16:19:22.000000000,2020-07-24 16:14:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-20 10:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/704fbbe99cede36c283c2927469064ccec0d7a7b', 'message': 'CI: add prometheus-efk scenario\n\nTests prometheus, grafana, and centralised logging.\n\nThe tests could be improved in future by querying logs in elasticsearch,\nand metrics in prometheus.\n\nChange-Id: Iabad035d583d291169f23be3d71931cb260e87ae\n(cherry picked from commit f44876c406fcb7edf28e1d2f9ee894a220c362bc)\n'}, {'number': 2, 'created': '2020-07-20 10:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/313bc3688d78733a5408823baa42adc10288aa3a', 'message': 'CI: add prometheus-efk scenario\n\nTests prometheus, grafana, and centralised logging.\n\nThe tests could be improved in future by querying logs in elasticsearch,\nand metrics in prometheus.\n\nChange-Id: Iabad035d583d291169f23be3d71931cb260e87ae\n(cherry picked from commit f44876c406fcb7edf28e1d2f9ee894a220c362bc)\n'}, {'number': 3, 'created': '2020-07-20 13:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/500fdd47c3da77eb6ca9b264f50f77a773ee6868', 'message': 'CI: add prometheus-efk scenario\n\nTests prometheus, grafana, and centralised logging.\n\nThe tests could be improved in future by querying logs in elasticsearch,\nand metrics in prometheus.\n\nChange-Id: Iabad035d583d291169f23be3d71931cb260e87ae\n(cherry picked from commit f44876c406fcb7edf28e1d2f9ee894a220c362bc)\n'}, {'number': 4, 'created': '2020-07-20 16:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c2508556f3c180a0cd4e9e3b6382984eb407a242', 'message': 'CI: add prometheus-efk scenario\n\nTests prometheus, grafana, and centralised logging.\n\nThe tests could be improved in future by querying logs in elasticsearch,\nand metrics in prometheus.\n\nChange-Id: Iabad035d583d291169f23be3d71931cb260e87ae\n(cherry picked from commit f44876c406fcb7edf28e1d2f9ee894a220c362bc)\n'}, {'number': 5, 'created': '2020-07-20 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ef920ec1de84846ff08d66aeac4c24cbb2380a18', 'message': 'CI: add prometheus-efk scenario\n\nTests prometheus, grafana, and centralised logging.\n\nThe tests could be improved in future by querying logs in elasticsearch,\nand metrics in prometheus.\n\nChange-Id: Iabad035d583d291169f23be3d71931cb260e87ae\n(cherry picked from commit f44876c406fcb7edf28e1d2f9ee894a220c362bc)\n'}, {'number': 6, 'created': '2020-07-23 10:17:47.000000000', 'files': ['tests/test-prometheus-efk.sh', 'tests/run.yml', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'tests/templates/inventory.j2', 'zuul.d/jobs.yaml', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/724c1c807d312194c6e0bc435abb6084fe8edc11', 'message': 'CI: add prometheus-efk scenario\n\nTests prometheus, grafana, and centralised logging.\n\nThe tests could be improved in future by querying logs in elasticsearch,\nand metrics in prometheus.\n\nTrain backport notes:\n* Modified kibana search string to support ELK 5 on CentOS 7 and Ubuntu.\n* Added prometheus groups to test inventory template.\n\nChange-Id: Iabad035d583d291169f23be3d71931cb260e87ae\n(cherry picked from commit f44876c406fcb7edf28e1d2f9ee894a220c362bc)\n'}]",1,741912,724c1c807d312194c6e0bc435abb6084fe8edc11,21,4,6,14826,,,0,"CI: add prometheus-efk scenario

Tests prometheus, grafana, and centralised logging.

The tests could be improved in future by querying logs in elasticsearch,
and metrics in prometheus.

Train backport notes:
* Modified kibana search string to support ELK 5 on CentOS 7 and Ubuntu.
* Added prometheus groups to test inventory template.

Change-Id: Iabad035d583d291169f23be3d71931cb260e87ae
(cherry picked from commit f44876c406fcb7edf28e1d2f9ee894a220c362bc)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/741912/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-prometheus-efk.sh', 'tests/run.yml', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml', 'tools/setup_gate.sh']",7,704fbbe99cede36c283c2927469064ccec0d7a7b,," if [[ $SCENARIO == ""prometheus-efk"" ]]; then GATE_IMAGES=""^cron,^elasticsearch,^fluentd,^grafana,^haproxy,^keepalived,^kibana,^kolla-toolbox,^mariadb,^memcached,^prometheus,^rabbitmq"" fi ",,212,1
openstack%2Fcharm-nova-cloud-controller~master~Ia3fced85bc544c6ee31474b3f68e067bdd8b5dfe,openstack/charm-nova-cloud-controller,master,Ia3fced85bc544c6ee31474b3f68e067bdd8b5dfe,Drop support for xvpvnc at Ussuri,MERGED,2020-07-23 07:25:33.000000000,2020-07-24 16:04:36.000000000,2020-07-24 16:04:36.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 07:25:33.000000000', 'files': ['config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/9a06df27ba65dab4d9e4549b927e48eefbecb1c9', 'message': 'Drop support for xvpvnc at Ussuri\n\nAdd a note to the configuration file that xvpvnc is not supported\nfor bionic/ussuri or focal (or later) releases.\n\nChange-Id: Ia3fced85bc544c6ee31474b3f68e067bdd8b5dfe\nCloses-Bug: 1885158\n'}]",0,742605,9a06df27ba65dab4d9e4549b927e48eefbecb1c9,7,3,1,935,,,0,"Drop support for xvpvnc at Ussuri

Add a note to the configuration file that xvpvnc is not supported
for bionic/ussuri or focal (or later) releases.

Change-Id: Ia3fced85bc544c6ee31474b3f68e067bdd8b5dfe
Closes-Bug: 1885158
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/05/742605/1 && git format-patch -1 --stdout FETCH_HEAD,['config.yaml'],1,9a06df27ba65dab4d9e4549b927e48eefbecb1c9,bug/1885158, . NOTE: xvpvnc is not supported with bionic/ussuri or focal (or later) releases.,,3,0
openstack%2Fheat~master~If136f5e270db5df1f871dc9473afb178e242bc18,openstack/heat,master,If136f5e270db5df1f871dc9473afb178e242bc18,Eliminate Master/Slave terminology from Designate Zone resource,MERGED,2020-07-14 23:51:39.000000000,2020-07-24 15:55:19.000000000,2020-07-24 15:52:10.000000000,"[{'_account_id': 4257}, {'_account_id': 8099}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 29585}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-14 23:51:39.000000000', 'files': ['releasenotes/notes/designate-zone-primaries-c48c37222ea06eb9.yaml', 'heat/tests/openstack/designate/test_zone.py', 'heat/engine/resources/openstack/designate/zone.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/a3eeefb6d7c23ffb02caf241ab9b8a1aa0f59f75', 'message': 'Eliminate Master/Slave terminology from Designate Zone resource\n\nChange-Id: If136f5e270db5df1f871dc9473afb178e242bc18\n'}]",0,741068,a3eeefb6d7c23ffb02caf241ab9b8a1aa0f59f75,28,6,1,4257,,,0,"Eliminate Master/Slave terminology from Designate Zone resource

Change-Id: If136f5e270db5df1f871dc9473afb178e242bc18
",git fetch https://review.opendev.org/openstack/heat refs/changes/68/741068/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/designate-zone-primaries-c48c37222ea06eb9.yaml', 'heat/engine/resources/openstack/designate/zone.py', 'heat/tests/openstack/designate/test_zone.py']",3,a3eeefb6d7c23ffb02caf241ab9b8a1aa0f59f75,," class DesignateSecondaryZoneTest(common.HeatTestCase): def setUp(self): super(DesignateSecondaryZoneTest, self).setUp() self.ctx = utils.dummy_context() self.primaries = ['::1'] def _get_mock_resource(self): value = {} value['id'] = '477e8273-60a7-4c41-b683-fdb0bc7cd152' value['serial'] = '1434596972' return value def test_masters(self): self.do_test({ 'heat_template_version': '2015-04-30', 'resources': { 'test_resource': { 'type': 'OS::Designate::Zone', 'properties': { 'name': 'test-zone.com', 'description': 'Test zone', 'ttl': 3600, 'email': 'abc@test-zone.com', 'type': 'SECONDARY', 'masters': self.primaries, } } } }) def test_primaries(self): self.do_test({ 'heat_template_version': '2015-04-30', 'resources': { 'test_resource': { 'type': 'OS::Designate::Zone', 'properties': { 'name': 'test-zone.com', 'description': 'Test zone', 'ttl': 3600, 'email': 'abc@test-zone.com', 'type': 'SECONDARY', 'primaries': self.primaries, } } } }) def do_test(self, sample_template): self.stack = stack.Stack( self.ctx, 'test_stack', template.Template(sample_template) ) self.test_resource = self.stack['test_resource'] # Mock client plugin self.test_client_plugin = mock.MagicMock() self.test_resource.client_plugin = mock.MagicMock( return_value=self.test_client_plugin) # Mock client self.test_client = mock.MagicMock() self.test_resource.client = mock.MagicMock( return_value=self.test_client) mock_zone_create = self.test_client.zones.create mock_resource = self._get_mock_resource() mock_zone_create.return_value = mock_resource self.test_resource.data_set = mock.Mock() self.test_resource.handle_create() args = dict( name='test-zone.com', description='Test zone', ttl=3600, email='abc@test-zone.com', type_='SECONDARY', masters=self.primaries ) mock_zone_create.assert_called_once_with(**args) # validate physical resource id self.assertEqual(mock_resource['id'], self.test_resource.resource_id)",,125,6
openstack%2Fkayobe-config-dev~master~I71afc71df595b65d57ce09dc625c724a036b0e87,openstack/kayobe-config-dev,master,I71afc71df595b65d57ce09dc625c724a036b0e87,CI: switch to Docker overlay2 storage driver by default,MERGED,2020-04-23 13:38:29.000000000,2020-07-24 15:46:01.000000000,2020-07-24 15:46:00.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2020-04-23 13:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/3852cc5a773c68bf8ca9d2cd852a4a97734efc76', 'message': ""CI: switch to Docker overlay2 storage driver by default\n\nWe are planning to switch to this driver by default. Given that we are\ncurrently not testing the devicemapper default, let's start testing\noverlay2.\n\nChange-Id: I71afc71df595b65d57ce09dc625c724a036b0e87\nStory: 2005667\nTask: 39538\n""}, {'number': 2, 'created': '2020-04-23 14:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/1e05d44c2760a45957b4d46a71b169b732c41ff1', 'message': ""CI: switch to Docker overlay2 storage driver by default\n\nWe are planning to switch to this driver by default. Given that we are\ncurrently not testing the devicemapper default, let's start testing\noverlay2.\n\nChange-Id: I71afc71df595b65d57ce09dc625c724a036b0e87\nStory: 2005667\nTask: 39538\n""}, {'number': 3, 'created': '2020-06-10 11:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/2a3d971bb9d3d9fdad3bf090cf11d6e324fa4c5c', 'message': ""CI: switch to Docker overlay2 storage driver by default\n\nWe are planning to switch to this driver by default. Given that we are\ncurrently not testing the devicemapper default, let's start testing\noverlay2.\n\nChange-Id: I71afc71df595b65d57ce09dc625c724a036b0e87\nStory: 2005667\nTask: 39538\n""}, {'number': 4, 'created': '2020-07-02 10:56:31.000000000', 'files': ['etc/kayobe/docker.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/ae18991c86042f2fda1a60d7dc8ca8e46a8d0937', 'message': ""CI: switch to Docker overlay2 storage driver by default\n\nWe are planning to switch to this driver by default. Given that we are\ncurrently not testing the devicemapper default, let's start testing\noverlay2.\n\nChange-Id: I71afc71df595b65d57ce09dc625c724a036b0e87\nStory: 2005667\nTask: 39538\n""}]",2,722322,ae18991c86042f2fda1a60d7dc8ca8e46a8d0937,20,5,4,14826,,,0,"CI: switch to Docker overlay2 storage driver by default

We are planning to switch to this driver by default. Given that we are
currently not testing the devicemapper default, let's start testing
overlay2.

Change-Id: I71afc71df595b65d57ce09dc625c724a036b0e87
Story: 2005667
Task: 39538
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/22/722322/4 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/docker.yml'],1,3852cc5a773c68bf8ca9d2cd852a4a97734efc76,,docker_storage_driver: overlay2,docker_storage_driver: overlay,1,1
openstack%2Fproject-config~master~Ic8fb712534dc064190bd372a47f6217079cf0554,openstack/project-config,master,Ic8fb712534dc064190bd372a47f6217079cf0554,Fix x/devstack-plugin-tobiko name,MERGED,2020-07-02 08:03:54.000000000,2020-07-24 15:45:36.000000000,2020-07-24 15:37:57.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 27329}]","[{'number': 1, 'created': '2020-07-02 08:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/7d206d0c0e8440286fddef114d26db57d08b09f2', 'message': 'Fix x/devstack-plugin-tobiko name\n\nChange-Id: Ic8fb712534dc064190bd372a47f6217079cf0554\n'}, {'number': 2, 'created': '2020-07-02 10:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3d02156e6f4d5da86ae69c8d2984a79689a0ce9c', 'message': 'Fix x/devstack-plugin-tobiko name\n\nChange-Id: Ic8fb712534dc064190bd372a47f6217079cf0554\n'}, {'number': 3, 'created': '2020-07-02 10:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/782c22f60d0665af1b17a928d93aaf5e329d9b92', 'message': 'Re-create x/devstack-plugin-tobiko project\n\nThe project has been previously created with the wrong name [1]\n\n[1] https://review.opendev.org/738378/\n\nChange-Id: Ic8fb712534dc064190bd372a47f6217079cf0554\n'}, {'number': 4, 'created': '2020-07-02 15:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c7f44d947e61e16f852a01a98d55898ce12853a0', 'message': 'Re-create x/devstack-plugin-tobiko project\n\nThe project has been previously created with the wrong name [1]\n\n[1] https://review.opendev.org/738378/\n\nChange-Id: Ic8fb712534dc064190bd372a47f6217079cf0554\n'}, {'number': 5, 'created': '2020-07-04 09:00:07.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/bd92ad1b8f7979122a278bf9bec00bd68f2b4afd', 'message': 'Fix x/devstack-plugin-tobiko name\n\nRename repo topiko -> tobiko.\n\nChange-Id: Ic8fb712534dc064190bd372a47f6217079cf0554\n'}]",0,738979,bd92ad1b8f7979122a278bf9bec00bd68f2b4afd,32,4,5,27329,,,0,"Fix x/devstack-plugin-tobiko name

Rename repo topiko -> tobiko.

Change-Id: Ic8fb712534dc064190bd372a47f6217079cf0554
",git fetch https://review.opendev.org/openstack/project-config refs/changes/79/738979/5 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,7d206d0c0e8440286fddef114d26db57d08b09f2,project-rename, - x/devstack-plugin-tobiko, - x/devstack-plugin-topiko,2,2
openstack%2Fproject-config~master~I4619a2a67eadf9cd6ae4b044d852084ccc64c316,openstack/project-config,master,I4619a2a67eadf9cd6ae4b044d852084ccc64c316,Rename transparency-policy from openstack/ to osf/ namespace,MERGED,2020-07-03 21:44:50.000000000,2020-07-24 15:42:37.000000000,2020-07-24 15:37:29.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-03 21:44:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/b8336332153c4b77397e52dc8d4ef95ad243cbb6', 'message': ""Rename transparency-policy from openstack/ to osf/ namespace\n\ntransparency-policy repo is not under OpenStack governance but\nwe still have this repo under openstack namespace.\n\nAs part of namespace cleanup, let's move this under osf/\nnamespace:\n- https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I4619a2a67eadf9cd6ae4b044d852084ccc64c316\n""}, {'number': 2, 'created': '2020-07-04 16:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c81f316e3ed556524cddd033e35a42edfd5ba452', 'message': ""Rename transparency-policy from openstack/ to osf/ namespace\n\ntransparency-policy repo is not under OpenStack governance but\nwe still have this repo under openstack namespace.\n\nAs part of namespace cleanup, let's move this under osf/\nnamespace:\n- https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I4619a2a67eadf9cd6ae4b044d852084ccc64c316\n""}, {'number': 3, 'created': '2020-07-23 21:49:01.000000000', 'files': ['zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/osf/transparency-policy.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/03a0b97eece000fb425bb16f41ecc7d22faab143', 'message': ""Rename transparency-policy from openstack/ to osf/ namespace\n\ntransparency-policy repo is not under OpenStack governance but\nwe still have this repo under openstack namespace.\n\nAs part of namespace cleanup, let's move this under osf/\nnamespace:\n- https://etherpad.opendev.org/p/tc-retirement-cleanup\n\nChange-Id: I4619a2a67eadf9cd6ae4b044d852084ccc64c316\n""}]",8,739286,03a0b97eece000fb425bb16f41ecc7d22faab143,19,5,3,8556,,,0,"Rename transparency-policy from openstack/ to osf/ namespace

transparency-policy repo is not under OpenStack governance but
we still have this repo under openstack namespace.

As part of namespace cleanup, let's move this under osf/
namespace:
- https://etherpad.opendev.org/p/tc-retirement-cleanup

Change-Id: I4619a2a67eadf9cd6ae4b044d852084ccc64c316
",git fetch https://review.opendev.org/openstack/project-config refs/changes/86/739286/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/osf/transparency-policy.config']",4,b8336332153c4b77397e52dc8d4ef95ad243cbb6,project-rename,,,7,8
openstack%2Fironic~master~I4724a5efd522c313d2f6dbb14dcdf19700f8cda7,openstack/ironic,master,I4724a5efd522c313d2f6dbb14dcdf19700f8cda7,Enforce autospec in test_notification_utils,MERGED,2020-07-16 09:54:49.000000000,2020-07-24 15:40:21.000000000,2020-07-24 15:06:26.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-16 09:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4f3275e1ff184197f765e3a1da2b67f871d24081', 'message': 'Enforce autospec in test_notification_utils\n\nAnd remove corresponding filter from tox.ini\n\nChange-Id: I4724a5efd522c313d2f6dbb14dcdf19700f8cda7\n'}, {'number': 2, 'created': '2020-07-16 09:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/615fa615bd513c448a15c39cb022eaa7443babcc', 'message': 'Enforce autospec in test_notification_utils\n\nAnd remove corresponding filter from tox.ini\n\nChange-Id: I4724a5efd522c313d2f6dbb14dcdf19700f8cda7\n'}, {'number': 3, 'created': '2020-07-17 07:08:07.000000000', 'files': ['ironic/tests/unit/conductor/test_notification_utils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a7ee205019e5e307b5d5c598dd3518ea6e42348e', 'message': 'Enforce autospec in test_notification_utils\n\nAnd remove corresponding filter from tox.ini\n\nChange-Id: I4724a5efd522c313d2f6dbb14dcdf19700f8cda7\n'}]",0,741419,a7ee205019e5e307b5d5c598dd3518ea6e42348e,17,5,3,23851,,,0,"Enforce autospec in test_notification_utils

And remove corresponding filter from tox.ini

Change-Id: I4724a5efd522c313d2f6dbb14dcdf19700f8cda7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/19/741419/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/conductor/test_notification_utils.py', 'tox.ini']",2,4f3275e1ff184197f765e3a1da2b67f871d24081,enforce-autospec,, ironic/tests/unit/conductor/test_notification_utils.py:H210,12,8
openstack%2Foslo.messaging~stable%2Fpike~Ibbcf21a57ab1e3f90c21901296e5c088b645127c,openstack/oslo.messaging,stable/pike,Ibbcf21a57ab1e3f90c21901296e5c088b645127c,tests: Resolves issues with kombu > 4.6.8,ABANDONED,2020-07-24 11:49:23.000000000,2020-07-24 15:32:50.000000000,,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 11:49:23.000000000', 'files': ['oslo_messaging/tests/drivers/test_impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/41c8b31c6ad2eb458d79284f934c622b6148399f', 'message': ""tests: Resolves issues with kombu > 4.6.8\n\nThe 'kombu.connection.Connection.ensure_connection' method has changed\nfrom calling 'retry_over_time' on 'self.connect' to calling it on\n'self._connection_factory' [1], meaning our mocks are outdated. Address\nthis change.\n\n[1] https://github.com/celery/kombu/pull/1193/commits/398aa5b8cd1fe1fc\n\nChange-Id: Ibbcf21a57ab1e3f90c21901296e5c088b645127c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1885923\n(cherry picked from commit afb035d97185fa9c622bdb9b4c31c71f01160370)\n""}]",0,742862,41c8b31c6ad2eb458d79284f934c622b6148399f,4,3,1,12907,,,0,"tests: Resolves issues with kombu > 4.6.8

The 'kombu.connection.Connection.ensure_connection' method has changed
from calling 'retry_over_time' on 'self.connect' to calling it on
'self._connection_factory' [1], meaning our mocks are outdated. Address
this change.

[1] https://github.com/celery/kombu/pull/1193/commits/398aa5b8cd1fe1fc

Change-Id: Ibbcf21a57ab1e3f90c21901296e5c088b645127c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1885923
(cherry picked from commit afb035d97185fa9c622bdb9b4c31c71f01160370)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/62/742862/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/tests/drivers/test_impl_rabbit.py'],1,41c8b31c6ad2eb458d79284f934c622b6148399f,test_setup.sh-stable/pike,"import kombu.connection # TODO(stephenfin): Drop hasattr when we drop support for kombo < 4.6.8 if hasattr(kombu.connection.Connection, '_connection_factory'): self.useFixture(fixtures.MockPatch( 'kombu.connection.Connection._connection_factory')) # TODO(stephenfin): Remove when we drop support for kombo < 4.6.8 if hasattr(kombu.connection.Connection, 'connect'): self.useFixture(fixtures.MockPatch( 'kombu.connection.Connection.connect'))", self.useFixture(fixtures.MockPatch( 'kombu.connection.Connection.connect')),9,2
openstack%2Foslo.messaging~stable%2Ftrain~Ibbcf21a57ab1e3f90c21901296e5c088b645127c,openstack/oslo.messaging,stable/train,Ibbcf21a57ab1e3f90c21901296e5c088b645127c,tests: Resolves issues with kombu > 4.6.8,ABANDONED,2020-07-24 11:43:36.000000000,2020-07-24 15:32:35.000000000,,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 11:43:36.000000000', 'files': ['oslo_messaging/tests/drivers/test_impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/06257c378778c93e11a607798babc1b570ece623', 'message': ""tests: Resolves issues with kombu > 4.6.8\n\nThe 'kombu.connection.Connection.ensure_connection' method has changed\nfrom calling 'retry_over_time' on 'self.connect' to calling it on\n'self._connection_factory' [1], meaning our mocks are outdated. Address\nthis change.\n\n[1] https://github.com/celery/kombu/pull/1193/commits/398aa5b8cd1fe1fc\n\nChange-Id: Ibbcf21a57ab1e3f90c21901296e5c088b645127c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1885923\n(cherry picked from commit afb035d97185fa9c622bdb9b4c31c71f01160370)\n""}]",0,742857,06257c378778c93e11a607798babc1b570ece623,4,3,1,12907,,,0,"tests: Resolves issues with kombu > 4.6.8

The 'kombu.connection.Connection.ensure_connection' method has changed
from calling 'retry_over_time' on 'self.connect' to calling it on
'self._connection_factory' [1], meaning our mocks are outdated. Address
this change.

[1] https://github.com/celery/kombu/pull/1193/commits/398aa5b8cd1fe1fc

Change-Id: Ibbcf21a57ab1e3f90c21901296e5c088b645127c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1885923
(cherry picked from commit afb035d97185fa9c622bdb9b4c31c71f01160370)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/57/742857/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/tests/drivers/test_impl_rabbit.py'],1,06257c378778c93e11a607798babc1b570ece623,test_setup.sh-stable/train,"import kombu.connection # TODO(stephenfin): Drop hasattr when we drop support for kombo < 4.6.8 if hasattr(kombu.connection.Connection, '_connection_factory'): self.useFixture(fixtures.MockPatch( 'kombu.connection.Connection._connection_factory')) # TODO(stephenfin): Remove when we drop support for kombo < 4.6.8 if hasattr(kombu.connection.Connection, 'connect'): self.useFixture(fixtures.MockPatch( 'kombu.connection.Connection.connect'))", self.useFixture(fixtures.MockPatch( 'kombu.connection.Connection.connect')),9,2
openstack%2Foslo.messaging~stable%2Fstein~Ibbcf21a57ab1e3f90c21901296e5c088b645127c,openstack/oslo.messaging,stable/stein,Ibbcf21a57ab1e3f90c21901296e5c088b645127c,tests: Resolves issues with kombu > 4.6.8,ABANDONED,2020-07-24 11:44:02.000000000,2020-07-24 15:32:15.000000000,,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 11:44:02.000000000', 'files': ['oslo_messaging/tests/drivers/test_impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/d73ea6a41463a5b21fbf5d4913c0dec26baabd44', 'message': ""tests: Resolves issues with kombu > 4.6.8\n\nThe 'kombu.connection.Connection.ensure_connection' method has changed\nfrom calling 'retry_over_time' on 'self.connect' to calling it on\n'self._connection_factory' [1], meaning our mocks are outdated. Address\nthis change.\n\n[1] https://github.com/celery/kombu/pull/1193/commits/398aa5b8cd1fe1fc\n\nChange-Id: Ibbcf21a57ab1e3f90c21901296e5c088b645127c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1885923\n(cherry picked from commit afb035d97185fa9c622bdb9b4c31c71f01160370)\n""}]",0,742858,d73ea6a41463a5b21fbf5d4913c0dec26baabd44,4,3,1,12907,,,0,"tests: Resolves issues with kombu > 4.6.8

The 'kombu.connection.Connection.ensure_connection' method has changed
from calling 'retry_over_time' on 'self.connect' to calling it on
'self._connection_factory' [1], meaning our mocks are outdated. Address
this change.

[1] https://github.com/celery/kombu/pull/1193/commits/398aa5b8cd1fe1fc

Change-Id: Ibbcf21a57ab1e3f90c21901296e5c088b645127c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1885923
(cherry picked from commit afb035d97185fa9c622bdb9b4c31c71f01160370)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/58/742858/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/tests/drivers/test_impl_rabbit.py'],1,d73ea6a41463a5b21fbf5d4913c0dec26baabd44,test_setup.sh-stable/stein,"import kombu.connection # TODO(stephenfin): Drop hasattr when we drop support for kombo < 4.6.8 if hasattr(kombu.connection.Connection, '_connection_factory'): self.useFixture(fixtures.MockPatch( 'kombu.connection.Connection._connection_factory')) # TODO(stephenfin): Remove when we drop support for kombo < 4.6.8 if hasattr(kombu.connection.Connection, 'connect'): self.useFixture(fixtures.MockPatch( 'kombu.connection.Connection.connect'))", self.useFixture(fixtures.MockPatch( 'kombu.connection.Connection.connect')),9,2
openstack%2Fironic~master~I5eae1cbed3abbb6316f67619c499f040f43d11b1,openstack/ironic,master,I5eae1cbed3abbb6316f67619c499f040f43d11b1,Enforce autospec in test_deployments,MERGED,2020-07-16 09:13:43.000000000,2020-07-24 15:32:03.000000000,2020-07-24 15:06:22.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-16 09:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/de90ce9c3175f3818d9d04dfb5f584bf5a197f5b', 'message': 'Force autospec in test_deployments\n\nAnd remove corresponding filter from tox.ini\n\nChange-Id: I5eae1cbed3abbb6316f67619c499f040f43d11b1\n'}, {'number': 2, 'created': '2020-07-16 09:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/47b5f3f9e6f1f07ed15adf3ec490bea53a752dc1', 'message': 'Enforce autospec in test_deployments\n\nAnd remove corresponding filter from tox.ini\n\nChange-Id: I5eae1cbed3abbb6316f67619c499f040f43d11b1\n'}, {'number': 3, 'created': '2020-07-17 07:07:47.000000000', 'files': ['ironic/tests/unit/conductor/test_deployments.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5abb3aedce2ac19e1464d5f24c1846fccb1a54c0', 'message': 'Enforce autospec in test_deployments\n\nAnd remove corresponding filter from tox.ini\n\nChange-Id: I5eae1cbed3abbb6316f67619c499f040f43d11b1\n'}]",2,741408,5abb3aedce2ac19e1464d5f24c1846fccb1a54c0,20,6,3,23851,,,0,"Enforce autospec in test_deployments

And remove corresponding filter from tox.ini

Change-Id: I5eae1cbed3abbb6316f67619c499f040f43d11b1
",git fetch https://review.opendev.org/openstack/ironic refs/changes/08/741408/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/conductor/test_deployments.py', 'tox.ini']",2,de90ce9c3175f3818d9d04dfb5f584bf5a197f5b,enforce-autospec,, ironic/tests/unit/conductor/test_deployments.py:H210,21,16
openstack%2Foslo.messaging~stable%2Fqueens~Ibbcf21a57ab1e3f90c21901296e5c088b645127c,openstack/oslo.messaging,stable/queens,Ibbcf21a57ab1e3f90c21901296e5c088b645127c,tests: Resolves issues with kombu > 4.6.8,ABANDONED,2020-07-24 11:46:08.000000000,2020-07-24 15:31:52.000000000,,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 11:46:08.000000000', 'files': ['oslo_messaging/tests/drivers/test_impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/8d6f3edf94173ff096246e074d496cb4f2cbc352', 'message': ""tests: Resolves issues with kombu > 4.6.8\n\nThe 'kombu.connection.Connection.ensure_connection' method has changed\nfrom calling 'retry_over_time' on 'self.connect' to calling it on\n'self._connection_factory' [1], meaning our mocks are outdated. Address\nthis change.\n\n[1] https://github.com/celery/kombu/pull/1193/commits/398aa5b8cd1fe1fc\n\nChange-Id: Ibbcf21a57ab1e3f90c21901296e5c088b645127c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1885923\n(cherry picked from commit afb035d97185fa9c622bdb9b4c31c71f01160370)\n""}]",0,742860,8d6f3edf94173ff096246e074d496cb4f2cbc352,4,3,1,12907,,,0,"tests: Resolves issues with kombu > 4.6.8

The 'kombu.connection.Connection.ensure_connection' method has changed
from calling 'retry_over_time' on 'self.connect' to calling it on
'self._connection_factory' [1], meaning our mocks are outdated. Address
this change.

[1] https://github.com/celery/kombu/pull/1193/commits/398aa5b8cd1fe1fc

Change-Id: Ibbcf21a57ab1e3f90c21901296e5c088b645127c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1885923
(cherry picked from commit afb035d97185fa9c622bdb9b4c31c71f01160370)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/60/742860/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/tests/drivers/test_impl_rabbit.py'],1,8d6f3edf94173ff096246e074d496cb4f2cbc352,test_setup.sh-stable/queens,"import kombu.connection # TODO(stephenfin): Drop hasattr when we drop support for kombo < 4.6.8 if hasattr(kombu.connection.Connection, '_connection_factory'): self.useFixture(fixtures.MockPatch( 'kombu.connection.Connection._connection_factory')) # TODO(stephenfin): Remove when we drop support for kombo < 4.6.8 if hasattr(kombu.connection.Connection, 'connect'): self.useFixture(fixtures.MockPatch( 'kombu.connection.Connection.connect'))", self.useFixture(fixtures.MockPatch( 'kombu.connection.Connection.connect')),9,2
openstack%2Foslo.messaging~stable%2Frocky~Ibbcf21a57ab1e3f90c21901296e5c088b645127c,openstack/oslo.messaging,stable/rocky,Ibbcf21a57ab1e3f90c21901296e5c088b645127c,tests: Resolves issues with kombu > 4.6.8,ABANDONED,2020-07-24 11:45:22.000000000,2020-07-24 15:31:43.000000000,,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 11:45:22.000000000', 'files': ['oslo_messaging/tests/drivers/test_impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/b4ffe7ab22c01d2abac92746dfe4ff380d370902', 'message': ""tests: Resolves issues with kombu > 4.6.8\n\nThe 'kombu.connection.Connection.ensure_connection' method has changed\nfrom calling 'retry_over_time' on 'self.connect' to calling it on\n'self._connection_factory' [1], meaning our mocks are outdated. Address\nthis change.\n\n[1] https://github.com/celery/kombu/pull/1193/commits/398aa5b8cd1fe1fc\n\nChange-Id: Ibbcf21a57ab1e3f90c21901296e5c088b645127c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1885923\n(cherry picked from commit afb035d97185fa9c622bdb9b4c31c71f01160370)\n""}]",0,742859,b4ffe7ab22c01d2abac92746dfe4ff380d370902,4,3,1,12907,,,0,"tests: Resolves issues with kombu > 4.6.8

The 'kombu.connection.Connection.ensure_connection' method has changed
from calling 'retry_over_time' on 'self.connect' to calling it on
'self._connection_factory' [1], meaning our mocks are outdated. Address
this change.

[1] https://github.com/celery/kombu/pull/1193/commits/398aa5b8cd1fe1fc

Change-Id: Ibbcf21a57ab1e3f90c21901296e5c088b645127c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1885923
(cherry picked from commit afb035d97185fa9c622bdb9b4c31c71f01160370)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/59/742859/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/tests/drivers/test_impl_rabbit.py'],1,b4ffe7ab22c01d2abac92746dfe4ff380d370902,test_setup.sh-stable/rocky,"import kombu.connection # TODO(stephenfin): Drop hasattr when we drop support for kombo < 4.6.8 if hasattr(kombu.connection.Connection, '_connection_factory'): self.useFixture(fixtures.MockPatch( 'kombu.connection.Connection._connection_factory')) # TODO(stephenfin): Remove when we drop support for kombo < 4.6.8 if hasattr(kombu.connection.Connection, 'connect'): self.useFixture(fixtures.MockPatch( 'kombu.connection.Connection.connect'))", self.useFixture(fixtures.MockPatch( 'kombu.connection.Connection.connect')),9,2
openstack%2Ftripleo-ansible~stable%2Fussuri~I97a6819574772835eb4a291b63bb05551fe4439a,openstack/tripleo-ansible,stable/ussuri,I97a6819574772835eb4a291b63bb05551fe4439a,tripleo_container_manage: start systemd services which would be stopped,MERGED,2020-07-23 12:09:46.000000000,2020-07-24 15:28:45.000000000,2020-07-24 15:28:45.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-23 12:09:46.000000000', 'files': ['tripleo_ansible/ansible_plugins/action/container_systemd.py', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/77c5d3103a63842577378924c6a0d72ae8c212b9', 'message': 'tripleo_container_manage: start systemd services which would be stopped\n\nIf an operator would have disabled or stopped the service, we make sure\nthat it is again enabled and started when a deployment occurs.\n\nWe also add test coverage for it in molecule.\n\nChange-Id: I97a6819574772835eb4a291b63bb05551fe4439a\n(cherry picked from commit ddf494a16dd1f508fda3d46e2f7c8c7ab8d5d317)\n'}]",0,742653,77c5d3103a63842577378924c6a0d72ae8c212b9,8,4,1,3153,,,0,"tripleo_container_manage: start systemd services which would be stopped

If an operator would have disabled or stopped the service, we make sure
that it is again enabled and started when a deployment occurs.

We also add test coverage for it in molecule.

Change-Id: I97a6819574772835eb4a291b63bb05551fe4439a
(cherry picked from commit ddf494a16dd1f508fda3d46e2f7c8c7ab8d5d317)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/53/742653/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/action/container_systemd.py', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml']",2,77c5d3103a63842577378924c6a0d72ae8c212b9,restart/ussuri,- name: Test systemd state on fedora container after a manual stop become: true hosts: all gather_facts: false vars: tripleo_container_manage_config: '/tmp/container-configs' tripleo_container_manage_debug: true tripleo_container_manage_config_patterns: '*.json' tripleo_container_manage_systemd_order: true tasks: - name: Stop systemd service for tripleo_fedora in a manual stop systemd: name: tripleo_fedora.service state: stopped enabled: false daemon_reload: true - include_role: name: tripleo_container_manage post_tasks: - name: Check if tripleo_fedora systemd service is active after a manual stop command: systemctl is-active --quiet tripleo_fedora register: tripleo_fedora_active_result - name: Assert that tripleo_fedora systemd service is active after a manual stop when: - not ansible_check_mode|bool assert: that: - tripleo_fedora_active_result.rc == 0 fail_msg: 'tripleo_fedora systemd service is not active after a manual stop' success_msg: 'tripleo_fedora systemd service is active after a manual stop' ,,58,5
openstack%2Ftripleo-ansible~stable%2Ftrain~I97a6819574772835eb4a291b63bb05551fe4439a,openstack/tripleo-ansible,stable/train,I97a6819574772835eb4a291b63bb05551fe4439a,tripleo_container_manage: start systemd services which would be stopped,MERGED,2020-07-23 12:30:51.000000000,2020-07-24 15:28:42.000000000,2020-07-24 15:28:42.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-23 12:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/46e5ee2ed168e2cd249d5c6b2a0a3dc7a7751774', 'message': 'tripleo_container_manage: start systemd services which would be stopped\n\nIf an operator would have disabled or stopped the service, we make sure\nthat it is again enabled and started when a deployment occurs.\n\nWe also add test coverage for it in molecule.\n\nChange-Id: I97a6819574772835eb4a291b63bb05551fe4439a\n(cherry picked from commit ddf494a16dd1f508fda3d46e2f7c8c7ab8d5d317)\n'}, {'number': 2, 'created': '2020-07-23 15:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7aeeb210d6d2c64ee03a4c7e6149352022a9504e', 'message': 'tripleo_container_manage: start systemd services which would be stopped\n\nIf an operator would have disabled or stopped the service, we make sure\nthat it is again enabled and started when a deployment occurs.\n\nWe also add test coverage for it in molecule.\n\nChange-Id: I97a6819574772835eb4a291b63bb05551fe4439a\n(cherry picked from commit ddf494a16dd1f508fda3d46e2f7c8c7ab8d5d317)\n'}, {'number': 3, 'created': '2020-07-23 19:01:22.000000000', 'files': ['tripleo_ansible/ansible_plugins/action/container_systemd.py', 'tripleo_ansible/roles/tripleo-container-manage/molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d842cbd619f5645155c273678f1b1f95b33c6827', 'message': 'tripleo_container_manage: start systemd services which would be stopped\n\nIf an operator would have disabled or stopped the service, we make sure\nthat it is again enabled and started when a deployment occurs.\n\nWe also add test coverage for it in molecule.\n\nChange-Id: I97a6819574772835eb4a291b63bb05551fe4439a\n(cherry picked from commit ddf494a16dd1f508fda3d46e2f7c8c7ab8d5d317)\n'}]",0,742655,d842cbd619f5645155c273678f1b1f95b33c6827,12,4,3,3153,,,0,"tripleo_container_manage: start systemd services which would be stopped

If an operator would have disabled or stopped the service, we make sure
that it is again enabled and started when a deployment occurs.

We also add test coverage for it in molecule.

Change-Id: I97a6819574772835eb4a291b63bb05551fe4439a
(cherry picked from commit ddf494a16dd1f508fda3d46e2f7c8c7ab8d5d317)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/55/742655/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/action/container_systemd.py', 'tripleo_ansible/roles/tripleo-container-manage/molecule/default/playbook.yml']",2,46e5ee2ed168e2cd249d5c6b2a0a3dc7a7751774,restart/train,- name: Test systemd state on fedora container after a manual stop become: true hosts: all gather_facts: false vars: tripleo_container_manage_config: '/tmp/container-configs' tripleo_container_manage_debug: true tripleo_container_manage_config_patterns: '*.json' tripleo_container_manage_systemd_order: true tasks: - name: Stop systemd service for tripleo_fedora in a manual stop systemd: name: tripleo_fedora.service state: stopped enabled: false daemon_reload: true - name: Stop systemd timer for tripleo_fedora in a manual stop systemd: name: tripleo_fedora_healthcheck.timer state: stopped enabled: false daemon_reload: true - include_role: name: tripleo-container-manage post_tasks: - name: Check if tripleo_fedora systemd service is active after a manual stop command: systemctl is-active --quiet tripleo_fedora register: tripleo_fedora_active_result - name: Assert that tripleo_fedora systemd service is active after a manual stop when: - not ansible_check_mode|bool assert: that: - tripleo_fedora_active_result.rc == 0 fail_msg: 'tripleo_fedora systemd service is not active after a manual stop' success_msg: 'tripleo_fedora systemd service is active after a manual stop' - name: Check if tripleo_fedora systemd timer is active after a manual stop command: systemctl is-active --quiet tripleo_fedora_healthcheck.timer register: tripleo_fedora_timer_active_result - name: Assert that tripleo_fedora systemd timer is active after a manual stop when: - not ansible_check_mode|bool assert: that: - tripleo_fedora_timer_active_result.rc == 0 fail_msg: 'tripleo_fedora systemd timer is not active after a manual stop' success_msg: 'tripleo_fedora systemd timer is active after a manual stop' ,,91,8
openstack%2Fsushy~master~I9dc958b0159eff189456b1ba192ebda3471f2f18,openstack/sushy,master,I9dc958b0159eff189456b1ba192ebda3471f2f18,Update system schema to 1.10,MERGED,2020-07-21 16:21:22.000000000,2020-07-24 15:23:45.000000000,2020-07-24 15:23:44.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-21 16:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/a7852183b65aa0661dd33cf425657efc9ec8ec3b', 'message': 'Update system schema to 1.10\n\nUpdates corresponding unit tests.\n\nChange-Id: I9dc958b0159eff189456b1ba192ebda3471f2f18\n'}, {'number': 2, 'created': '2020-07-22 08:10:48.000000000', 'files': ['sushy/resources/system/system.py', 'sushy/tests/unit/resources/oem/test_fake.py', 'sushy/tests/unit/resources/system/test_system.py', 'sushy/tests/unit/json_samples/system.json'], 'web_link': 'https://opendev.org/openstack/sushy/commit/8df68d8f630b1fc1785586df8bb46af478d4de39', 'message': 'Update system schema to 1.10\n\nUpdates corresponding unit tests.\n\nChange-Id: I9dc958b0159eff189456b1ba192ebda3471f2f18\n'}]",1,742236,8df68d8f630b1fc1785586df8bb46af478d4de39,16,6,2,23851,,,0,"Update system schema to 1.10

Updates corresponding unit tests.

Change-Id: I9dc958b0159eff189456b1ba192ebda3471f2f18
",git fetch https://review.opendev.org/openstack/sushy refs/changes/36/742236/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/system/system.py', 'sushy/tests/unit/resources/oem/test_fake.py', 'sushy/tests/unit/resources/system/test_system.py', 'sushy/tests/unit/json_samples/system.json']",4,a7852183b65aa0661dd33cf425657efc9ec8ec3b,update-system," ""@odata.type"": ""#ComputerSystem.v1_10_0.ComputerSystem"", ""Model"": ""3500"", ""SubModel"": ""RX"", ""HostingRoles"": [ ""ApplicationServer"" ], ""@odata.type"": ""#Contoso.ComputerSystem"", ""@odata.type"": ""#Chipwise.ComputerSystem"", ""BiosVersion"": ""P79 v1.45 (12/06/2017)"", ""TotalSystemPersistentMemoryGiB"": 0, ""MemoryMirroring"": ""None"", ""@odata.id"": ""/redfish/v1/Systems/437XR1138R2/Bios"" }, ""SecureBoot"": { ""@odata.id"": ""/redfish/v1/Systems/437XR1138R2/SecureBoot"" ""ForceOn"", ""PushPowerButton"""," ""@odata.type"": ""#ComputerSystem.v1_5_0.ComputerSystem"", ""Model"": ""3500RX"", ""@odata.type"": ""http://Contoso.com/Schema#Contoso.ComputerSystem"", ""@odata.type"": ""http://Chipwise.com/Schema#Chipwise.ComputerSystem"", ""BiosVersion"": ""P79 v1.33 (02/28/2015)"", ""@odata.id"": ""/redfish/v1/Systems/437XR1138R2/BIOS"" ""Storage"": { ""@odata.id"": ""/redfish/v1/Systems/437XR1138R2/Storage"" }, ""ForceOn""",33,22
openstack%2Fironic~master~I52c1ad3e10d9fab3c2366d40af39667a299eb774,openstack/ironic,master,I52c1ad3e10d9fab3c2366d40af39667a299eb774,Adds raid validation for in-band AgentRAID deploy step,MERGED,2020-07-21 15:05:15.000000000,2020-07-24 15:23:22.000000000,2020-07-24 15:06:19.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-21 15:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c54c70c28400c68d70aba72154606e9b36350db7', 'message': ""Adds raid validation for in-band AgentRAID deploy step\n\nThis commit adds support for validation of raid configuration of\nin-band AgentRAID deploy step 'apply_configuration' and adds a post\ndeploy hook to update root device hint.\n\nChange-Id: I52c1ad3e10d9fab3c2366d40af39667a299eb774\n""}, {'number': 2, 'created': '2020-07-21 15:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/17efc55a97cd8282150abb9075500d63e742c780', 'message': ""Adds raid validation for in-band AgentRAID deploy step\n\nThis commit adds support for validation of raid configuration of\nin-band AgentRAID deploy step 'apply_configuration' and adds a post\ndeploy hook to update root device hint.\n\nChange-Id: I52c1ad3e10d9fab3c2366d40af39667a299eb774\n""}, {'number': 3, 'created': '2020-07-21 16:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b23b501a0f4655469898091142fee2d7c32ef72b', 'message': ""Adds raid validation for in-band AgentRAID deploy step\n\nThis commit adds support for validation of raid configuration of\nin-band AgentRAID deploy step 'apply_configuration' and adds a post\ndeploy hook to update root device hint.\n\nChange-Id: I52c1ad3e10d9fab3c2366d40af39667a299eb774\n""}, {'number': 4, 'created': '2020-07-23 15:29:29.000000000', 'files': ['releasenotes/notes/agent-raid-validate-f7348ac034606b83.yaml', 'ironic/drivers/modules/agent.py', 'ironic/tests/unit/drivers/modules/test_agent.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a5ce4dd8d0b6cc383a5c82ef622cde12c16b2918', 'message': ""Adds raid validation for in-band AgentRAID deploy step\n\nThis commit adds support for validation of raid configuration of\nin-band AgentRAID deploy step 'apply_configuration' and adds a post\ndeploy hook to update root device hint.\n\nChange-Id: I52c1ad3e10d9fab3c2366d40af39667a299eb774\n""}]",9,742217,a5ce4dd8d0b6cc383a5c82ef622cde12c16b2918,30,7,4,11076,,,0,"Adds raid validation for in-band AgentRAID deploy step

This commit adds support for validation of raid configuration of
in-band AgentRAID deploy step 'apply_configuration' and adds a post
deploy hook to update root device hint.

Change-Id: I52c1ad3e10d9fab3c2366d40af39667a299eb774
",git fetch https://review.opendev.org/openstack/ironic refs/changes/17/742217/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent.py', 'ironic/tests/unit/drivers/modules/test_agent.py']",2,c54c70c28400c68d70aba72154606e9b36350db7,agent_raid," {'size_gb': 200, 'raid_level': ""0"", 'is_root_volume': True}, {'size_gb': 200, 'raid_level': ""5""} @mock.patch.object(agent_base, 'execute_step', autospec=True) def test_apply_configuration(self, execute_mock): deploy_step = { 'interface': 'raid', 'step': 'apply_configuration', 'args': { 'raid_config': self.target_raid_config, 'delete_existing': True }, 'priority': 82 } with task_manager.acquire(self.context, self.node.uuid) as task: execute_mock.return_value = states.DEPLOYWAIT task.node.deploy_step = deploy_step return_value = task.driver.raid.apply_configuration( task, self.target_raid_config, create_root_volume=True, create_nonroot_volumes=True, delete_existing=True) self.assertEqual(states.DEPLOYWAIT, return_value) execute_mock.assert_called_once_with(task, deploy_step, 'deploy') def _test__create_configuration_final_registered( self, update_raid_info_mock, step_type='clean'): step = {'interface': 'raid'} if step_type == 'clean': step['step'] = 'create_configuration' self.node.clean_step = step state = states.CLEANWAIT command = {'command_result': {'clean_result': 'foo'}} create_hook = agent_base._get_post_step_hook(self.node, 'clean') else: step['step'] = 'apply_configuration' self.node.deploy_step = step command = {'command_result': {'deploy_result': 'foo'}} state = states.DEPLOYWAIT create_hook = agent_base._get_post_step_hook(self.node, 'deploy') with task_manager.acquire(self.context, self.node.uuid) as task: task.node.provision_state = state def test__create_configuration_final_registered_clean(self): self._test__create_configuration_final_registered(step_type='clean') def test__create_configuration_final_registered_deploy(self): self._test__create_configuration_final_registered(step_type='deploy') "," {'size_gb': 200, 'raid_level': 0, 'is_root_volume': True}, {'size_gb': 200, 'raid_level': 5} def test__create_configuration_final_registered( self, update_raid_info_mock): self.node.clean_step = {'interface': 'raid', 'step': 'create_configuration'} command = {'command_result': {'clean_result': 'foo'}} create_hook = agent_base._get_post_step_hook(self.node, 'clean') with task_manager.acquire(self.context, self.node.uuid) as task:",81,13
openstack%2Ftripleo-operator-ansible~master~I5dcc187f9aa293fba9b293a87838fb9f6e90bf3f,openstack/tripleo-operator-ansible,master,I5dcc187f9aa293fba9b293a87838fb9f6e90bf3f,Bump galaxy metadata for release,MERGED,2020-07-24 14:11:50.000000000,2020-07-24 15:19:14.000000000,2020-07-24 15:19:14.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 14:11:50.000000000', 'files': ['galaxy.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/d724d69f5a18041c1fe45d684066ffe1397e38ef', 'message': 'Bump galaxy metadata for release\n\nUpdating the galaxy version so we can cut a 0.3.0 release.\n\nChange-Id: I5dcc187f9aa293fba9b293a87838fb9f6e90bf3f\n'}]",0,742890,d724d69f5a18041c1fe45d684066ffe1397e38ef,7,2,1,14985,,,0,"Bump galaxy metadata for release

Updating the galaxy version so we can cut a 0.3.0 release.

Change-Id: I5dcc187f9aa293fba9b293a87838fb9f6e90bf3f
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/90/742890/1 && git format-patch -1 --stdout FETCH_HEAD,['galaxy.yml'],1,d724d69f5a18041c1fe45d684066ffe1397e38ef,cut-release,version: 0.3.0,version: 0.2.1,1,1
openstack%2Fcharm-placement~master~Ifad5ab8e187fa8ad092223dbc91679badbcc5b17,openstack/charm-placement,master,Ifad5ab8e187fa8ad092223dbc91679badbcc5b17,Trigger openstack upgrades,MERGED,2020-07-23 07:21:10.000000000,2020-07-24 15:17:30.000000000,2020-07-24 15:17:30.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 07:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/05b7e9de5b813d8ad22254d64a99f6aa5e24c9a3', 'message': 'Trigger openstack upgrades\n\nEnsure that openstack upgrades are triggered if the openstack-origin\nconfiguration option is changed and configuration of the placement\nservice is complete.\n\nChange-Id: Ifad5ab8e187fa8ad092223dbc91679badbcc5b17\nCloses-Bug: 1884064\n'}, {'number': 2, 'created': '2020-07-24 11:19:30.000000000', 'files': ['src/reactive/placement_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/ace85daea1902b5f268d6df59fdcbd946ca145b7', 'message': 'Trigger openstack upgrades\n\nEnsure that openstack upgrades are triggered if the openstack-origin\nconfiguration option is changed and configuration of the placement\nservice is complete.\n\nChange-Id: Ifad5ab8e187fa8ad092223dbc91679badbcc5b17\nCloses-Bug: 1884064\n'}]",0,742604,ace85daea1902b5f268d6df59fdcbd946ca145b7,12,3,2,935,,,0,"Trigger openstack upgrades

Ensure that openstack upgrades are triggered if the openstack-origin
configuration option is changed and configuration of the placement
service is complete.

Change-Id: Ifad5ab8e187fa8ad092223dbc91679badbcc5b17
Closes-Bug: 1884064
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/04/742604/2 && git format-patch -1 --stdout FETCH_HEAD,['src/reactive/placement_handlers.py'],1,05b7e9de5b813d8ad22254d64a99f6aa5e24c9a3,bug/1884064, placement_charm.upgrade_if_available(args),,1,0
openstack%2Fironic~master~I568e8d23375239d9c044df95b4bc24d5174c145b,openstack/ironic,master,I568e8d23375239d9c044df95b4bc24d5174c145b,Allow node lessee to see node's ports,MERGED,2020-05-22 15:47:23.000000000,2020-07-24 15:15:02.000000000,2020-07-24 15:06:16.000000000,"[{'_account_id': 7386}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-05-22 15:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5d79dfe21d6efaadc30239fbb4ad4fad111514ff', 'message': ""Allow node lessee to see node's ports\n\nUpdate the port node's filter to allow both owner and lessee to\nsee a node's ports. This filter is only used when listing ports.\n\nChange-Id: I568e8d23375239d9c044df95b4bc24d5174c145b\n""}, {'number': 2, 'created': '2020-06-16 19:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ea6931d8f40bc9c7629fc2faba0a48b2bd4963d6', 'message': ""Allow node lessee to see node's ports\n\nUpdate the port node's filter to allow both owner and lessee to\nsee a node's ports. This filter is only used when listing ports.\n\nChange-Id: I568e8d23375239d9c044df95b4bc24d5174c145b\n""}, {'number': 3, 'created': '2020-06-17 15:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a7785a333a2ac0c0926004ea43423f5e96f71124', 'message': ""Allow node lessee to see node's ports\n\nUpdate the port node's filter to allow both owner and lessee to\nsee a node's ports. This filter is only used when listing ports.\n\nChange-Id: I568e8d23375239d9c044df95b4bc24d5174c145b\n""}, {'number': 4, 'created': '2020-06-29 17:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0fd731bbfb118b9e1db16372121b159dc4c3e6ad', 'message': ""Allow node lessee to see node's ports\n\nUpdate the port node's filter to allow both owner and lessee to\nsee a node's ports. This filter is only used when listing ports.\n\nChange-Id: I568e8d23375239d9c044df95b4bc24d5174c145b\n""}, {'number': 5, 'created': '2020-07-23 15:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f70650e826102f4a1e8eb0c74222d8ac9821d0f6', 'message': ""Allow node lessee to see node's ports\n\nUpdate the port node's filter to allow both owner and lessee to\nsee a node's ports. This filter is only used when listing ports.\n\nChange-Id: I568e8d23375239d9c044df95b4bc24d5174c145b\n""}, {'number': 6, 'created': '2020-07-23 17:02:06.000000000', 'files': ['ironic/tests/unit/objects/test_port.py', 'ironic/api/controllers/v1/port.py', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/api/controllers/v1/test_port.py', 'ironic/objects/port.py', 'releasenotes/notes/port-list-by-project-8cfaf3b2cf0dd627.yaml', 'ironic/tests/unit/db/test_ports.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/cf9188c2d9794a205ec4e09c75d1b890afb86e5d', 'message': ""Allow node lessee to see node's ports\n\nUpdate the port node's filter to allow both owner and lessee to\nsee a node's ports. This filter is only used when listing ports.\n\nChange-Id: I568e8d23375239d9c044df95b4bc24d5174c145b\n""}]",11,730366,cf9188c2d9794a205ec4e09c75d1b890afb86e5d,56,7,6,7386,,,0,"Allow node lessee to see node's ports

Update the port node's filter to allow both owner and lessee to
see a node's ports. This filter is only used when listing ports.

Change-Id: I568e8d23375239d9c044df95b4bc24d5174c145b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/66/730366/4 && git format-patch -1 --stdout FETCH_HEAD,['ironic/db/sqlalchemy/api.py'],1,5d79dfe21d6efaadc30239fbb4ad4fad111514ff,port-list-lessee-fix, return query.filter((models.Node.owner == value) | (models.Node.lessee == value)), return query.filter(models.Node.owner == value),2,1
openstack%2Fcharm-gnocchi~master~Id16a1499702c1641ae878aad49622d6ff66064be,openstack/charm-gnocchi,master,Id16a1499702c1641ae878aad49622d6ff66064be,Rebuild for Victoria enablement,MERGED,2020-07-16 13:51:13.000000000,2020-07-24 15:13:47.000000000,2020-07-24 15:13:47.000000000,"[{'_account_id': 11805}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-16 13:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/0ec4ceb49926d791affd668554cd0b84c0343c25', 'message': 'Rebuild for Victoria enablement\n\nChange-Id: Id16a1499702c1641ae878aad49622d6ff66064be\n'}, {'number': 2, 'created': '2020-07-22 20:11:26.000000000', 'files': ['rebuild', 'src/lib/charm/openstack/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/9e31fcd4e5dd870dd45e5c6f7603ece08109c761', 'message': 'Rebuild for Victoria enablement\n\nChange-Id: Id16a1499702c1641ae878aad49622d6ff66064be\n'}]",0,741454,9e31fcd4e5dd870dd45e5c6f7603ece08109c761,20,5,2,11805,,,0,"Rebuild for Victoria enablement

Change-Id: Id16a1499702c1641ae878aad49622d6ff66064be
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/54/741454/2 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,0ec4ceb49926d791affd668554cd0b84c0343c25,batch-update,75855040-f74a-4c37-82f2-9caf1a265ffe,06fc37a3-f9fe-49d9-92e0-dd7b0f749c1c,1,1
openstack%2Fironic-lib~master~Idf4c6782730549378c03416a118b3b69fa53ca65,openstack/ironic-lib,master,Idf4c6782730549378c03416a118b3b69fa53ca65,Return correct response on HTTP basic failure,MERGED,2020-07-23 11:21:16.000000000,2020-07-24 15:08:36.000000000,2020-07-24 15:06:17.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-23 11:21:16.000000000', 'files': ['requirements.txt', 'ironic_lib/auth_basic.py', 'ironic_lib/exception.py', 'ironic_lib/tests/test_basic_auth.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/c080681df989181aa61da4e6d4bd8218c2050f0b', 'message': ""Return correct response on HTTP basic failure\n\nIt's not allowed to return None from WSGI applications, eventlet fails\nwith TypeError: 'NoneType' object is not iterable.\n\nUse WebOb to build and provide a correct response.\n\nChange-Id: Idf4c6782730549378c03416a118b3b69fa53ca65\n""}]",0,742643,c080681df989181aa61da4e6d4bd8218c2050f0b,9,5,1,10239,,,0,"Return correct response on HTTP basic failure

It's not allowed to return None from WSGI applications, eventlet fails
with TypeError: 'NoneType' object is not iterable.

Use WebOb to build and provide a correct response.

Change-Id: Idf4c6782730549378c03416a118b3b69fa53ca65
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/43/742643/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'ironic_lib/auth_basic.py', 'ironic_lib/exception.py', 'ironic_lib/tests/test_basic_auth.py']",4,c080681df989181aa61da4e6d4bd8218c2050f0b,auth-basic,"import json env = {'REQUEST_METHOD': 'GET'} body = middleware(env, start_response) decoded = json.loads(body[0].decode()) self.assertEqual({'error': {'message': 'Authorization required', 'code': 401}}, decoded) '401 Unauthorized', [('WWW-Authenticate', 'Basic realm=""Baremetal API""'), ('Content-Type', 'application/json'), ('Content-Length', str(len(body[0])))]"," env = {} middleware(env, start_response) '401 Authorization required', [('WWW-Authenticate', 'Basic realm=""Baremetal API""')]",26,10
openstack%2Foslo.messaging~stable%2Fussuri~Ibbcf21a57ab1e3f90c21901296e5c088b645127c,openstack/oslo.messaging,stable/ussuri,Ibbcf21a57ab1e3f90c21901296e5c088b645127c,tests: Resolves issues with kombu > 4.6.8,MERGED,2020-07-23 08:09:47.000000000,2020-07-24 15:08:19.000000000,2020-07-24 12:46:39.000000000,"[{'_account_id': 12907}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-23 08:09:47.000000000', 'files': ['oslo_messaging/tests/drivers/test_impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/6727be7890f64446f1658d79fac196d30b6f1a18', 'message': ""tests: Resolves issues with kombu > 4.6.8\n\nThe 'kombu.connection.Connection.ensure_connection' method has changed\nfrom calling 'retry_over_time' on 'self.connect' to calling it on\n'self._connection_factory' [1], meaning our mocks are outdated. Address\nthis change.\n\n[1] https://github.com/celery/kombu/pull/1193/commits/398aa5b8cd1fe1fc\n\nChange-Id: Ibbcf21a57ab1e3f90c21901296e5c088b645127c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1885923\n(cherry picked from commit afb035d97185fa9c622bdb9b4c31c71f01160370)\n""}]",0,742609,6727be7890f64446f1658d79fac196d30b6f1a18,12,4,1,12907,,,0,"tests: Resolves issues with kombu > 4.6.8

The 'kombu.connection.Connection.ensure_connection' method has changed
from calling 'retry_over_time' on 'self.connect' to calling it on
'self._connection_factory' [1], meaning our mocks are outdated. Address
this change.

[1] https://github.com/celery/kombu/pull/1193/commits/398aa5b8cd1fe1fc

Change-Id: Ibbcf21a57ab1e3f90c21901296e5c088b645127c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1885923
(cherry picked from commit afb035d97185fa9c622bdb9b4c31c71f01160370)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/09/742609/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/tests/drivers/test_impl_rabbit.py'],1,6727be7890f64446f1658d79fac196d30b6f1a18,test_setup.sh-stable/ussuri,"import kombu.connection # TODO(stephenfin): Drop hasattr when we drop support for kombo < 4.6.8 if hasattr(kombu.connection.Connection, '_connection_factory'): self.useFixture(fixtures.MockPatch( 'kombu.connection.Connection._connection_factory')) # TODO(stephenfin): Remove when we drop support for kombo < 4.6.8 if hasattr(kombu.connection.Connection, 'connect'): self.useFixture(fixtures.MockPatch( 'kombu.connection.Connection.connect'))", self.useFixture(fixtures.MockPatch( 'kombu.connection.Connection.connect')),9,2
openstack%2Fkolla-ansible~master~I2553c3c4a6d3c82405c68c52db2e7585477b1dff,openstack/kolla-ansible,master,I2553c3c4a6d3c82405c68c52db2e7585477b1dff,Remove the waiting for ironic-api to be accessible,MERGED,2020-07-08 15:21:45.000000000,2020-07-24 14:55:13.000000000,2020-07-08 22:56:04.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-08 15:21:45.000000000', 'files': ['ansible/roles/ironic/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8fc86893893685e828600e21ddba147b64f0adc3', 'message': 'Remove the waiting for ironic-api to be accessible\n\nThe bug is fixed[1], releated task is unncessary.\n\n[1]: https://storyboard.openstack.org/#!/story/2006393\n\nDepends-On: Ib62ca3ee4626084e5e9b90e93e4fa97938023457\nChange-Id: I2553c3c4a6d3c82405c68c52db2e7585477b1dff\n'}]",0,740018,8fc86893893685e828600e21ddba147b64f0adc3,15,3,1,28614,,,0,"Remove the waiting for ironic-api to be accessible

The bug is fixed[1], releated task is unncessary.

[1]: https://storyboard.openstack.org/#!/story/2006393

Depends-On: Ib62ca3ee4626084e5e9b90e93e4fa97938023457
Change-Id: I2553c3c4a6d3c82405c68c52db2e7585477b1dff
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/18/740018/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ironic/handlers/main.yml'],1,8fc86893893685e828600e21ddba147b64f0adc3,,,"# Due to a bug in the ironic client, ironic inspector fails to start if ironic # API is not accessible. https://storyboard.openstack.org/#!/story/2006393 # TODO(mgoddard): remove this task when # https://storyboard.openstack.org/#!/story/2006393 has been fixed. - name: Wait for ironic-api to be accessible become: true kolla_toolbox: module_name: uri module_args: url: ""{{ ironic_internal_endpoint }}"" register: result until: result is success retries: 12 delay: 5 listen: Restart ironic-api container when: - kolla_action != ""config"" run_once: True ",0,19
openstack%2Freleases~master~Id1f7c0e6e18cd577c0e0c6ccf92c28d16a2e66ae,openstack/releases,master,Id1f7c0e6e18cd577c0e0c6ccf92c28d16a2e66ae,Release monasca-ui for stable/stein,MERGED,2020-07-17 22:16:41.000000000,2020-07-24 14:50:59.000000000,2020-07-24 14:50:59.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28062}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:16:41.000000000', 'files': ['deliverables/stein/monasca-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/540cbe480a5c92eac6441acc2441106fe61d0bce', 'message': 'Release monasca-ui for stable/stein\n\nThis release picks up new commits to monasca-ui since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: Id1f7c0e6e18cd577c0e0c6ccf92c28d16a2e66ae\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741752,540cbe480a5c92eac6441acc2441106fe61d0bce,9,4,1,11904,,,0,"Release monasca-ui for stable/stein

This release picks up new commits to monasca-ui since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: Id1f7c0e6e18cd577c0e0c6ccf92c28d16a2e66ae
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/52/741752/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/monasca-ui.yaml'],1,540cbe480a5c92eac6441acc2441106fe61d0bce,stein-stable, - version: 1.15.1 projects: - repo: openstack/monasca-ui hash: 9ba0b0dced015618eaf9493bbaf52501645aa0ea,,4,0
openstack%2Freleases~master~I3d6e9cc1aaafa640bdd884278d0b7e41d187074b,openstack/releases,master,I3d6e9cc1aaafa640bdd884278d0b7e41d187074b,nova: Release 19.3.0,MERGED,2020-07-17 22:25:09.000000000,2020-07-24 14:50:31.000000000,2020-07-24 14:50:31.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8ddd72715fc107313b5242ae515b31994fc73f26', 'message': 'Release nova for stable/stein\n\nThis release picks up new commits to nova since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I3d6e9cc1aaafa640bdd884278d0b7e41d187074b\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-07-21 11:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/438b35c58a05e3a3d3fe2d2c76e450bf93dfb906', 'message': 'nova: Release 19.2.1\n\nNo minor version bump required with this release.\n\n$ git log --oneline --no-merges --no-decorate 19.2.0..HEAD\nce1287aa7f Guard against missing image cache directory\nc3dd9f86f1 Check cherry-pick hashes in pep8 tox target\n42e6320397 Revert ""Make greande jobs n-v for EM and oldest stable""\n5429fd3d6e Add admin doc information about image cache resource accounting\n86be251451 Reserve DISK_GB resource for the image cache\nb05bf09b2d Make greande jobs n-v for EM and oldest stable\n21642202ff libvirt: avoid cpu check at s390x arch\na7d8aa6997 libvirt: Don\'t delete disks on shared storage during evacuate\nd7a1cb5724 Add functional test for bug 1550919\n86328d1146 fix scsi disk unit number of the attaching volume when cdrom bus is scsi\n4413e9bf56 Make quotas respect instance_list_per_project_cells\ne1116ee3b7 Update scheduler instance info at confirm resize\n2a15e0096b Reproduce bug 1869050\na63c97fd2d Revert ""nova shared storage: rbd is always shared storage""\n1d66884af7 Add retry to cinder API calls related to volume detach\n\nChange-Id: I3d6e9cc1aaafa640bdd884278d0b7e41d187074b\n'}, {'number': 3, 'created': '2020-07-23 16:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6ef2415390d8ae0753bbec1dc75ec96179720219', 'message': 'nova: Release 19.2.1\n\nNo minor version bump required with this release.\n\n7b005f3785 zuul: remove legacy-tempest-dsvm-neutron-dvr-multinode-full\nce1287aa7f Guard against missing image cache directory\neaecf7e737 Remove stale nested backport from InstancePCIRequests\nc3dd9f86f1 Check cherry-pick hashes in pep8 tox target\n42e6320397 Revert ""Make greande jobs n-v for EM and oldest stable""\n5429fd3d6e Add admin doc information about image cache resource accounting\n86be251451 Reserve DISK_GB resource for the image cache\nb05bf09b2d Make greande jobs n-v for EM and oldest stable\n7ff71e6b87 Create instance action when burying in cell0\n21642202ff libvirt: avoid cpu check at s390x arch\na7d8aa6997 libvirt: Don\'t delete disks on shared storage during evacuate\nd7a1cb5724 Add functional test for bug 1550919\n86328d1146 fix scsi disk unit number of the attaching volume when cdrom bus is scsi\n4413e9bf56 Make quotas respect instance_list_per_project_cells\ne1116ee3b7 Update scheduler instance info at confirm resize\n2a15e0096b Reproduce bug 1869050\na63c97fd2d Revert ""nova shared storage: rbd is always shared storage""\n1d66884af7 Add retry to cinder API calls related to volume detach\n\nChange-Id: I3d6e9cc1aaafa640bdd884278d0b7e41d187074b\n'}, {'number': 4, 'created': '2020-07-23 16:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1042d1727b55eaf02a428c5cc19e497a34da8632', 'message': 'nova: Release 19.2.1\n\nNo minor version bump required with this release.\n\n5482dde329 libvirt: Mark e1000e VIF as supported\n7b005f3785 zuul: remove legacy-tempest-dsvm-neutron-dvr-multinode-full\nce1287aa7f Guard against missing image cache directory\neaecf7e737 Remove stale nested backport from InstancePCIRequests\nc3dd9f86f1 Check cherry-pick hashes in pep8 tox target\n42e6320397 Revert ""Make greande jobs n-v for EM and oldest stable""\n5429fd3d6e Add admin doc information about image cache resource accounting\n86be251451 Reserve DISK_GB resource for the image cache\nb05bf09b2d Make greande jobs n-v for EM and oldest stable\n7ff71e6b87 Create instance action when burying in cell0\n21642202ff libvirt: avoid cpu check at s390x arch\na7d8aa6997 libvirt: Don\'t delete disks on shared storage during evacuate\nd7a1cb5724 Add functional test for bug 1550919\n86328d1146 fix scsi disk unit number of the attaching volume when cdrom bus is scsi\n4413e9bf56 Make quotas respect instance_list_per_project_cells\ne1116ee3b7 Update scheduler instance info at confirm resize\n2a15e0096b Reproduce bug 1869050\na63c97fd2d Revert ""nova shared storage: rbd is always shared storage""\n1d66884af7 Add retry to cinder API calls related to volume detach\n\nChange-Id: I3d6e9cc1aaafa640bdd884278d0b7e41d187074b\n'}, {'number': 5, 'created': '2020-07-24 08:06:43.000000000', 'files': ['deliverables/stein/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d0f2d6de509faabd124d2a18c9c61d7323a7c525', 'message': 'nova: Release 19.3.0\n\nMinor version bump required with this release due to patch\n\'libvirt: Mark e1000e VIF as supported\'.\n\n5482dde329 libvirt: Mark e1000e VIF as supported\n04a8399f1d compute: Allow snapshots to be created from PAUSED volume backed instances\n7b005f3785 zuul: remove legacy-tempest-dsvm-neutron-dvr-multinode-full\nce1287aa7f Guard against missing image cache directory\neaecf7e737 Remove stale nested backport from InstancePCIRequests\nc3dd9f86f1 Check cherry-pick hashes in pep8 tox target\n42e6320397 Revert ""Make greande jobs n-v for EM and oldest stable""\n5429fd3d6e Add admin doc information about image cache resource accounting\n86be251451 Reserve DISK_GB resource for the image cache\nb05bf09b2d Make greande jobs n-v for EM and oldest stable\n7ff71e6b87 Create instance action when burying in cell0\n21642202ff libvirt: avoid cpu check at s390x arch\na7d8aa6997 libvirt: Don\'t delete disks on shared storage during evacuate\nd7a1cb5724 Add functional test for bug 1550919\n86328d1146 fix scsi disk unit number of the attaching volume when cdrom bus is scsi\n4413e9bf56 Make quotas respect instance_list_per_project_cells\ne1116ee3b7 Update scheduler instance info at confirm resize\n2a15e0096b Reproduce bug 1869050\na63c97fd2d Revert ""nova shared storage: rbd is always shared storage""\n1d66884af7 Add retry to cinder API calls related to volume detach\n\nChange-Id: I3d6e9cc1aaafa640bdd884278d0b7e41d187074b\n'}]",4,741760,d0f2d6de509faabd124d2a18c9c61d7323a7c525,25,7,5,11904,,,0,"nova: Release 19.3.0

Minor version bump required with this release due to patch
'libvirt: Mark e1000e VIF as supported'.

5482dde329 libvirt: Mark e1000e VIF as supported
04a8399f1d compute: Allow snapshots to be created from PAUSED volume backed instances
7b005f3785 zuul: remove legacy-tempest-dsvm-neutron-dvr-multinode-full
ce1287aa7f Guard against missing image cache directory
eaecf7e737 Remove stale nested backport from InstancePCIRequests
c3dd9f86f1 Check cherry-pick hashes in pep8 tox target
42e6320397 Revert ""Make greande jobs n-v for EM and oldest stable""
5429fd3d6e Add admin doc information about image cache resource accounting
86be251451 Reserve DISK_GB resource for the image cache
b05bf09b2d Make greande jobs n-v for EM and oldest stable
7ff71e6b87 Create instance action when burying in cell0
21642202ff libvirt: avoid cpu check at s390x arch
a7d8aa6997 libvirt: Don't delete disks on shared storage during evacuate
d7a1cb5724 Add functional test for bug 1550919
86328d1146 fix scsi disk unit number of the attaching volume when cdrom bus is scsi
4413e9bf56 Make quotas respect instance_list_per_project_cells
e1116ee3b7 Update scheduler instance info at confirm resize
2a15e0096b Reproduce bug 1869050
a63c97fd2d Revert ""nova shared storage: rbd is always shared storage""
1d66884af7 Add retry to cinder API calls related to volume detach

Change-Id: I3d6e9cc1aaafa640bdd884278d0b7e41d187074b
",git fetch https://review.opendev.org/openstack/releases refs/changes/60/741760/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/nova.yaml'],1,8ddd72715fc107313b5242ae515b31994fc73f26,stein-stable, - version: 19.2.1 projects: - repo: openstack/nova hash: 5e50a0bd7ad776cb0b126883b2634773413fa10d,,4,0
openstack%2Fkolla-ansible~master~I11158bbfd2006e3574e165b6afc9c223b018d4bc,openstack/kolla-ansible,master,I11158bbfd2006e3574e165b6afc9c223b018d4bc,Fix some CloudKitty API responses when behind SSL,MERGED,2020-07-22 17:00:28.000000000,2020-07-24 14:40:09.000000000,2020-07-24 10:38:57.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-22 17:00:28.000000000', 'files': ['ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'releasenotes/notes/cloudkitty-proxy-headers-da4ea3297063e2e8.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cd55c8f4b22947348e6947ff93a6d66f836363a3', 'message': 'Fix some CloudKitty API responses when behind SSL\n\nSome CloudKitty API responses include a Location header using http\ninstead of https. Seen with `openstack rating module enable hashmap`.\n\nChange-Id: I11158bbfd2006e3574e165b6afc9c223b018d4bc\nCloses-Bug: #1888544\n'}]",0,742488,cd55c8f4b22947348e6947ff93a6d66f836363a3,13,4,1,15197,,,0,"Fix some CloudKitty API responses when behind SSL

Some CloudKitty API responses include a Location header using http
instead of https. Seen with `openstack rating module enable hashmap`.

Change-Id: I11158bbfd2006e3574e165b6afc9c223b018d4bc
Closes-Bug: #1888544
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/742488/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'releasenotes/notes/cloudkitty-proxy-headers-da4ea3297063e2e8.yaml']",2,cd55c8f4b22947348e6947ff93a6d66f836363a3,cloudkitty-proxy-headers,--- fixes: - | Fixes issues with some CloudKitty commands trying to connect to an external TLS endpoint using HTTP. `LP#1888544 <https://launchpad.net/bugs/1888544>`__ ,,8,0
openstack%2Fbifrost~master~I0dfc97f5d8aaabbc8d5ba1f83ecc3397d66c8547,openstack/bifrost,master,I0dfc97f5d8aaabbc8d5ba1f83ecc3397d66c8547,Correct handling of inspect_nodes in test-bifrost.yaml,MERGED,2020-07-24 13:11:10.000000000,2020-07-24 14:39:08.000000000,2020-07-24 14:36:11.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 13:11:10.000000000', 'files': ['playbooks/test-bifrost.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/92ec342ce1620ca500bf41de131044d771af1137', 'message': 'Correct handling of inspect_nodes in test-bifrost.yaml\n\nCurrently we run inspection when inspect_nodes is false. WHY.\n\nChange-Id: I0dfc97f5d8aaabbc8d5ba1f83ecc3397d66c8547\n'}]",0,742877,92ec342ce1620ca500bf41de131044d771af1137,7,2,1,10239,,,0,"Correct handling of inspect_nodes in test-bifrost.yaml

Currently we run inspection when inspect_nodes is false. WHY.

Change-Id: I0dfc97f5d8aaabbc8d5ba1f83ecc3397d66c8547
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/77/742877/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/test-bifrost.yaml'],1,92ec342ce1620ca500bf41de131044d771af1137,inspect-nodes, - role: ironic-inspect-node when: inspect_nodes | default(false) | bool when: inspect_nodes | default(false) | bool," - { role: ironic-inspect-node, when: not inspect_nodes | default('false') | bool } when: not inspect_nodes | default('false') | bool",3,2
openstack%2Freleases~master~I74f0f8c7071fbf2c8272fc002f28b793ff8e672d,openstack/releases,master,I74f0f8c7071fbf2c8272fc002f28b793ff8e672d,Fix list_unreleased_changes when repo doesn't exist or haven't been released,MERGED,2020-07-22 14:47:53.000000000,2020-07-24 14:36:41.000000000,2020-07-24 14:36:41.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 14:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a366d8d8924a412e50f590e07b0e33755fe65706', 'message': ""Fix list_unreleased_changes when repo doesn't exist or haven't been released\n\nIndeed during the implementation of this script when user ask for a\nstandard output I missed to handle cases where repo is not found or has\nnot yet been released.\n\nThese changes fix that.\n\nAlso to stay closer of the previous implementation of this tools (the\nshell version), these changes add:\n- colored outputs\n- compared revisions (even when no diff are found,\n  like in the previous shell version).\n\nChange-Id: I74f0f8c7071fbf2c8272fc002f28b793ff8e672d\n""}, {'number': 2, 'created': '2020-07-22 14:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/eb6acf3b991f32d3b8d6bb70a376a4829a32c9e7', 'message': ""Fix list_unreleased_changes when repo doesn't exist or haven't been released\n\nIndeed during my previous implementation of this script, when users ask for a\nstandard output, I missed to handle the cases where repo is not found or has\nnot yet been released.\n\nThese changes fix that.\n\nAlso to stay closer of the previous implementation of this tools (the\nshell version), these changes add:\n- colored outputs\n- compared revisions (even when no diff are found,\n  like in the previous shell version).\n\nChange-Id: I74f0f8c7071fbf2c8272fc002f28b793ff8e672d\n""}, {'number': 3, 'created': '2020-07-22 14:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1db64030ab1b467e635ca060e8172f541300519a', 'message': ""Fix list_unreleased_changes when repo doesn't exist or haven't been released\n\nIndeed during my previous implementation of this script, I missed to handle\nthe cases where repo is not found or has not yet been released when users\nask for a standard output. For yaml and json is not an issue as we dump\nraw dict at the asked format (json or yaml).\n\nThese changes fix that.\n\nAlso to stay closer of the previous implementation of this tools (the\nshell version), these changes add:\n- colored outputs\n- compared revisions (even when no diff are found,\n  like in the previous shell version).\n\nChange-Id: I74f0f8c7071fbf2c8272fc002f28b793ff8e672d\n""}, {'number': 4, 'created': '2020-07-22 15:36:55.000000000', 'files': ['openstack_releases/cmds/list_unreleased_changes.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/9e0b82d82093d90d9da8132166b0f2b70bb3a2ac', 'message': ""Fix list_unreleased_changes when repo doesn't exist or haven't been released\n\nIndeed during my previous implementation of this script, I missed to handle\nthe cases where repo is not found or has not yet been released when users\nask for a standard output. For yaml and json is not an issue as we dump\nraw dict at the asked format (json or yaml).\n\nThese changes fix that.\n\nAlso to stay closer of the previous implementation of this tools (the\nshell version), these changes add:\n- colored outputs\n- compared revisions (even when no diff are found,\n  like in the previous shell version).\n\nChange-Id: I74f0f8c7071fbf2c8272fc002f28b793ff8e672d\n""}]",1,742454,9e0b82d82093d90d9da8132166b0f2b70bb3a2ac,11,3,4,28522,,,0,"Fix list_unreleased_changes when repo doesn't exist or haven't been released

Indeed during my previous implementation of this script, I missed to handle
the cases where repo is not found or has not yet been released when users
ask for a standard output. For yaml and json is not an issue as we dump
raw dict at the asked format (json or yaml).

These changes fix that.

Also to stay closer of the previous implementation of this tools (the
shell version), these changes add:
- colored outputs
- compared revisions (even when no diff are found,
  like in the previous shell version).

Change-Id: I74f0f8c7071fbf2c8272fc002f28b793ff8e672d
",git fetch https://review.opendev.org/openstack/releases refs/changes/54/742454/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/cmds/list_unreleased_changes.py'],1,a366d8d8924a412e50f590e07b0e33755fe65706,," out.append('\033[1m\033[91m[ Unreleased changes in ' '{rep} ({br}) ]\033[0m'.format( rep=repo['repo'], br=repo['branch'])) if repo['not_yet_released'] or repo['error']: out.append(repo['msg']) continue range_msg = 'Changes between {start} and {end}'.format( start=repo['commits']['range'][0], end=repo['commits']['range'][1]) out.append(range_msg) if repo['commits'].get('logs', None): LOG.debug(output) "," out.append('[ Unreleased changes in {rep} ({br}) ]'.format( rep=repo['repo'], br=repo['branch'])) if repo['commits'].get('logs', None): range_msg = 'Changes between {start} and {end}'.format( start=repo['commits']['range'][0], end=repo['commits']['range'][1]) out.append(range_msg)",13,6
openstack%2Freleases~master~I8ba5eaddac69cc7a84e80f4fc8d27b269e3fe939,openstack/releases,master,I8ba5eaddac69cc7a84e80f4fc8d27b269e3fe939,Update Summit to be virtual event,MERGED,2020-07-23 16:37:58.000000000,2020-07-24 14:32:47.000000000,2020-07-24 14:32:47.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-23 16:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d54b2eaa55c26fdfd38ecd62db0806cc4047a38b', 'message': 'Update Summit to be virtual event\n\nChange-Id: I8ba5eaddac69cc7a84e80f4fc8d27b269e3fe939\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-07-24 09:46:32.000000000', 'files': ['doc/source/victoria/schedule.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/4d14035a27cf93288928e1586396b922ba2889fb', 'message': 'Update Summit to be virtual event\n\nChange-Id: I8ba5eaddac69cc7a84e80f4fc8d27b269e3fe939\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,742705,4d14035a27cf93288928e1586396b922ba2889fb,10,4,2,11904,,,0,"Update Summit to be virtual event

Change-Id: I8ba5eaddac69cc7a84e80f4fc8d27b269e3fe939
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/05/742705/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/victoria/schedule.rst'],1,d54b2eaa55c26fdfd38ecd62db0806cc4047a38b,summit,The virtual Open Infrastructure Summit will take place October 19-24.,"The Open Infrastructure Summit will take place October 19-24 in Berlin, Germany.",1,2
openstack%2Fkolla-ansible~stable%2Ftrain~I9a3633f58e5eb734fa32edc03a3022a500761bbb,openstack/kolla-ansible,stable/train,I9a3633f58e5eb734fa32edc03a3022a500761bbb,Masakari: copy TLS certificates into containers,ABANDONED,2020-07-24 09:19:58.000000000,2020-07-24 14:29:59.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 09:19:58.000000000', 'files': ['ansible/roles/masakari/tasks/copy-certs.yml', 'releasenotes/notes/fix-masakari-tls-64f010c037e95bea.yaml', 'ansible/roles/masakari/templates/masakari.conf.j2', 'ansible/roles/masakari/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ee039c9fb40b76355bc35d90f8465eb76c1a927e', 'message': 'Masakari: copy TLS certificates into containers\n\nFrom Ussuri, if CA certificates are copied into\n/etc/kolla/certificates/ca/, these should be copied into all containers.\nThis is not being done for masakari currently.\n\nAdditionally, we are not setting the [DEFAULT] nova_ca_certificates_file\noption in masakari.conf. This depends on masakari bug 1873736 being\nfixed to work.\n\nThis change fixes these issues.\n\nChange-Id: I9a3633f58e5eb734fa32edc03a3022a500761bbb\nCloses-Bug: #1888655\n(cherry picked from commit 0b4c8a3c3d73f5eade2b61730e74e672573ee13b)\n'}]",1,742832,ee039c9fb40b76355bc35d90f8465eb76c1a927e,4,2,1,30491,,,0,"Masakari: copy TLS certificates into containers

From Ussuri, if CA certificates are copied into
/etc/kolla/certificates/ca/, these should be copied into all containers.
This is not being done for masakari currently.

Additionally, we are not setting the [DEFAULT] nova_ca_certificates_file
option in masakari.conf. This depends on masakari bug 1873736 being
fixed to work.

This change fixes these issues.

Change-Id: I9a3633f58e5eb734fa32edc03a3022a500761bbb
Closes-Bug: #1888655
(cherry picked from commit 0b4c8a3c3d73f5eade2b61730e74e672573ee13b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/32/742832/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/masakari/tasks/copy-certs.yml', 'releasenotes/notes/fix-masakari-tls-64f010c037e95bea.yaml', 'ansible/roles/masakari/templates/masakari.conf.j2', 'ansible/roles/masakari/tasks/config.yml']",4,ee039c9fb40b76355bc35d90f8465eb76c1a927e,bug/1873736-stable/ussuri-stable/train,- include_tasks: copy-certs.yml when: - kolla_copy_ca_into_containers | bool ,,19,0
openstack%2Foslo.utils~master~I48720d38649104f9f2f0a8fd208f2aac7548644e,openstack/oslo.utils,master,I48720d38649104f9f2f0a8fd208f2aac7548644e,New method in netutils: get_mac_addr_by_ipv6,MERGED,2020-06-25 14:43:47.000000000,2020-07-24 14:19:34.000000000,2020-07-24 14:18:03.000000000,"[{'_account_id': 8313}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-25 14:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/eb61b5285aabf68bbfcf6c4558ac83fb1bd96fb8', 'message': 'New method in netutils: get_mac_addr_by_ipv6\n\nThis method is practically the reverse of get_ipv6_addr_by_EUI64(),\nso we can extract the MAC address from IPv6 addresses that were\ngenerated from interface identifiers.\n\nChange-Id: I48720d38649104f9f2f0a8fd208f2aac7548644e\nRelated-Change: https://review.opendev.org/718729\n'}, {'number': 2, 'created': '2020-06-29 15:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/a835a769c6ab51a8892baa86200d324cea33c474', 'message': 'New method in netutils: get_mac_addr_by_ipv6\n\nThis method is practically the reverse of get_ipv6_addr_by_EUI64(),\nso we can extract the MAC address from IPv6 addresses that were\ngenerated from interface identifiers.\n\nChange-Id: I48720d38649104f9f2f0a8fd208f2aac7548644e\nRelated-Change: https://review.opendev.org/718729\n'}, {'number': 3, 'created': '2020-06-29 15:18:14.000000000', 'files': ['oslo_utils/tests/test_netutils.py', 'releasenotes/notes/netutils-get_mac_addr_by_ipv6-c3ce6a35a69f7c2b.yaml', 'oslo_utils/netutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/bbf6898b90b78ea36d6f70e4af21ccd4cb1a2b46', 'message': 'New method in netutils: get_mac_addr_by_ipv6\n\nThis method is practically the reverse of get_ipv6_addr_by_EUI64(),\nso we can extract the MAC address from IPv6 addresses that were\ngenerated from interface identifiers.\n\nChange-Id: I48720d38649104f9f2f0a8fd208f2aac7548644e\nRelated-Change: https://review.opendev.org/718729\n'}]",9,738047,bbf6898b90b78ea36d6f70e4af21ccd4cb1a2b46,22,6,3,15554,,,0,"New method in netutils: get_mac_addr_by_ipv6

This method is practically the reverse of get_ipv6_addr_by_EUI64(),
so we can extract the MAC address from IPv6 addresses that were
generated from interface identifiers.

Change-Id: I48720d38649104f9f2f0a8fd208f2aac7548644e
Related-Change: https://review.opendev.org/718729
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/47/738047/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_utils/tests/test_netutils.py', 'oslo_utils/netutils.py']",2,eb61b5285aabf68bbfcf6c4558ac83fb1bd96fb8,metadata-ipv6,"def get_mac_addr_by_ipv6(ipv6): """"""Extract MAC address from interface identifier based IPv6 address. For example from link-local addresses (fe80::/10) generated from MAC. :param ipv6: An interface identifier (i.e. mostly MAC) based IPv6 address as a netaddr.IPAddress() object. :returns: A MAC address as a netaddr.EUI() object. See also: * https://tools.ietf.org/html/rfc4291#appendix-A * https://tools.ietf.org/html/rfc4291#section-2.5.6 .. versionadded:: 4.3.0 """""" return netaddr.EUI(int( (((ipv6 & 0xff_ff_ff_00_00_00_00_00) >> 16) + (ipv6 & 0xff_ff_ff)) ^ 0x02_00_00_00_00_00), dialect=netaddr.mac_unix_expanded) ",,54,0
openstack%2Fcinder-specs~master~Ib75d7301149f07868ff84f9e680a36affed016a1,openstack/cinder-specs,master,Ib75d7301149f07868ff84f9e680a36affed016a1,Add wallaby directory for specs,MERGED,2020-07-06 13:39:29.000000000,2020-07-24 14:12:17.000000000,2020-07-24 14:07:56.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 13:39:29.000000000', 'files': ['specs/wallaby/remove-me.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/fb96f3dee0af7d8ec39bd872991b1bacfcb5fa30', 'message': 'Add wallaby directory for specs\n\nChange-Id: Ib75d7301149f07868ff84f9e680a36affed016a1\n'}]",1,739487,fb96f3dee0af7d8ec39bd872991b1bacfcb5fa30,9,4,1,5314,,,0,"Add wallaby directory for specs

Change-Id: Ib75d7301149f07868ff84f9e680a36affed016a1
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/87/739487/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/wallaby/remove-me.rst', 'doc/source/index.rst']",2,fb96f3dee0af7d8ec39bd872991b1bacfcb5fa30,open-wallaby-specs,Wallaby approved specs ======================= .. toctree:: :glob: :maxdepth: 1 specs/wallaby/* ,,15,0
openstack%2Fglance~stable%2Fussuri~I57d473572ca0a341082bacc3883cd9f763d77fa7,openstack/glance,stable/ussuri,I57d473572ca0a341082bacc3883cd9f763d77fa7,Fix broken glance-cache-manage utility,MERGED,2020-07-23 20:35:29.000000000,2020-07-24 14:10:47.000000000,2020-07-24 14:01:22.000000000,"[{'_account_id': 5202}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 20:35:29.000000000', 'files': ['glance/common/wsgi.py', 'glance/tests/functional/test_client_exceptions.py', 'glance/tests/functional/test_wsgi.py', 'glance/tests/functional/test_client_redirects.py', 'glance/tests/unit/test_cache_manage.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/1bb6a32bad7b84f43e54d1f6d7c68e062fcc673a', 'message': ""Fix broken glance-cache-manage utility\n\nglance-cahce-manage is broken due to circilar imports.\nFixed the same by importing 'prefetcher' module right before\n'Prefetcher' object is initialized.\n\nCloses-Bug: #1888349\nChange-Id: I57d473572ca0a341082bacc3883cd9f763d77fa7\n(cherry picked from commit ffd2f5e63f8b7aebc8986c05aea249c75a8a692b)\n""}]",0,742742,1bb6a32bad7b84f43e54d1f6d7c68e062fcc673a,9,3,1,9303,,,0,"Fix broken glance-cache-manage utility

glance-cahce-manage is broken due to circilar imports.
Fixed the same by importing 'prefetcher' module right before
'Prefetcher' object is initialized.

Closes-Bug: #1888349
Change-Id: I57d473572ca0a341082bacc3883cd9f763d77fa7
(cherry picked from commit ffd2f5e63f8b7aebc8986c05aea249c75a8a692b)
",git fetch https://review.opendev.org/openstack/glance refs/changes/42/742742/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/common/wsgi.py', 'glance/tests/functional/test_client_exceptions.py', 'glance/tests/functional/test_wsgi.py', 'glance/tests/functional/test_client_redirects.py', 'glance/tests/unit/test_cache_manage.py']",5,1bb6a32bad7b84f43e54d1f6d7c68e062fcc673a,bug/1888349-stable/ussuri,"# Copyright 2020 Red Hat Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import sys from unittest import mock import fixtures from glance.cmd import cache_manage from glance.image_cache import client as cache_client from glance.tests import utils as test_utils UUID1 = 'c80a1a6c-bd1f-41c5-90ee-81afedb1d58d' class TestCacheManage(test_utils.BaseTestCase): def setUp(self): super(TestCacheManage, self).setUp() def _main_test_helper(self, argv, result=cache_manage.SUCCESS): self.useFixture(fixtures.MonkeyPatch('sys.argv', argv)) with mock.patch.object(cache_client, 'get_client'): with mock.patch.object(sys, 'exit') as mock_exit: cache_manage.main() mock_exit.assert_called_once_with(result) def test_list_cached_images(self): self._main_test_helper(['glance.cmd.cache_manage', 'list-cached']) def test_list_queued_images(self): self._main_test_helper(['glance.cmd.cache_manage', 'list-queued']) @mock.patch.object(cache_manage, 'user_confirm') def test_queue_image(self, mock_user_confirm): self._main_test_helper(['glance.cmd.cache_manage', 'queue-image', UUID1]) self.assertEqual(1, mock_user_confirm.call_count) @mock.patch.object(cache_manage, 'user_confirm') def test_queue_image_invalid_image_id(self, mock_user_confirm): self._main_test_helper(['glance.cmd.cache_manage', 'queue-image', 'fake_id'], result=cache_manage.FAILURE) @mock.patch.object(cache_manage, 'user_confirm') def test_delete_queued_image(self, mock_user_confirm): self._main_test_helper(['glance.cmd.cache_manage', 'delete-queued-image', UUID1]) self.assertEqual(1, mock_user_confirm.call_count) @mock.patch.object(cache_manage, 'user_confirm') def test_delete_queued_image_invalid_image_id(self, mock_user_confirm): self._main_test_helper(['glance.cmd.cache_manage', 'delete-queued-image', 'fake_id'], result=cache_manage.FAILURE) @mock.patch.object(cache_manage, 'user_confirm') def test_delete_cached_image(self, mock_user_confirm): self._main_test_helper(['glance.cmd.cache_manage', 'delete-cached-image', UUID1]) self.assertEqual(1, mock_user_confirm.call_count) @mock.patch.object(cache_manage, 'user_confirm') def test_delete_cached_image_invalid_image_id(self, mock_user_confirm): self._main_test_helper(['glance.cmd.cache_manage', 'delete-cached-image', 'fake_id'], result=cache_manage.FAILURE) @mock.patch.object(cache_manage, 'user_confirm') def test_delete_all_queued_image(self, mock_user_confirm): self._main_test_helper(['glance.cmd.cache_manage', 'delete-all-queued-images']) self.assertEqual(1, mock_user_confirm.call_count) @mock.patch.object(cache_manage, 'user_confirm') def test_delete_all_cached_image(self, mock_user_confirm): self._main_test_helper(['glance.cmd.cache_manage', 'delete-all-cached-images']) self.assertEqual(1, mock_user_confirm.call_count) ",,97,19
openstack%2Fcinder-specs~master~I8b309ef7e84261b9ef114f7d49ac0f078ffc7455,openstack/cinder-specs,master,I8b309ef7e84261b9ef114f7d49ac0f078ffc7455,Default volume type overrides,MERGED,2020-06-04 10:58:00.000000000,2020-07-24 14:09:42.000000000,2020-07-24 14:07:55.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 16643}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2020-06-04 10:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/937cd512284804c1f15a16d8023c9ddfb4b5fea3', 'message': 'Default volume type overrides\n\nAdd dynamically configurable global, per tenant, and per user default\nvolume types.\n\nAPIImpact\nBlueprint multiple-default-volume-types\n\nChange-Id: I8b309ef7e84261b9ef114f7d49ac0f078ffc7455\n'}, {'number': 2, 'created': '2020-06-04 11:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/7937517ee13bb60e3ebdce41bc2cb8870c73750f', 'message': 'Default volume type overrides\n\nAdd dynamically configurable global, per tenant, and per user default\nvolume types.\n\nAPIImpact\nBlueprint multiple-default-volume-types\n\nChange-Id: I8b309ef7e84261b9ef114f7d49ac0f078ffc7455\n'}, {'number': 3, 'created': '2020-06-09 19:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/cca6fddad5bc519241533aff6f4d6c42caa55146', 'message': 'Default volume type overrides\n\nAdd dynamically configurable global, per tenant, and per user default\nvolume types.\n\nAPIImpact\nBlueprint multiple-default-volume-types\n\nChange-Id: I8b309ef7e84261b9ef114f7d49ac0f078ffc7455\n'}, {'number': 4, 'created': '2020-06-17 11:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/c30117536b9dcf6e2d2ff1ec0d3486af10ea5c8a', 'message': 'Default volume type overrides\n\nAdd dynamically configurable global, per tenant, and per user default\nvolume types.\n\nAPIImpact\nBlueprint multiple-default-volume-types\n\nChange-Id: I8b309ef7e84261b9ef114f7d49ac0f078ffc7455\n'}, {'number': 5, 'created': '2020-06-25 11:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/8bd65829e25486aebd35e82656d6ddcde5dcec8e', 'message': 'Default volume type overrides\n\nAdd dynamically configurable global, per tenant, and per user default\nvolume types.\n\nAPIImpact\nBlueprint multiple-default-volume-types\n\nChange-Id: I8b309ef7e84261b9ef114f7d49ac0f078ffc7455\n'}, {'number': 6, 'created': '2020-06-25 11:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/f4143518d0afae83f0d9b3dbbb1e6be6ce96eb6c', 'message': 'Default volume type overrides\n\nAdd dynamically configurable global, per tenant, and per user default\nvolume types.\n\nAPIImpact\nBlueprint multiple-default-volume-types\n\nChange-Id: I8b309ef7e84261b9ef114f7d49ac0f078ffc7455\n'}, {'number': 7, 'created': '2020-07-01 14:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/8344e1e9a10fedd98e5bd8fbd64161b11499baca', 'message': 'Default volume type overrides\n\nAdd dynamically configurable global, per tenant, and per user default\nvolume types.\n\nAPIImpact\nBlueprint multiple-default-volume-types\n\nChange-Id: I8b309ef7e84261b9ef114f7d49ac0f078ffc7455\n'}, {'number': 8, 'created': '2020-07-01 14:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/6ed1ae77b0b6e0d92ee744e3e6850f45a804b368', 'message': 'Default volume type overrides\n\nAdd dynamically configurable global, per tenant, and per user default\nvolume types.\n\nAPIImpact\nBlueprint multiple-default-volume-types\n\nChange-Id: I8b309ef7e84261b9ef114f7d49ac0f078ffc7455\n'}, {'number': 9, 'created': '2020-07-01 16:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/46aa39bddedb2f9f17fc454248162a466258acc8', 'message': 'Default volume type overrides\n\nAdd dynamically configurable global, per tenant, and per user default\nvolume types.\n\nAPIImpact\nBlueprint multiple-default-volume-types\n\nChange-Id: I8b309ef7e84261b9ef114f7d49ac0f078ffc7455\n'}, {'number': 10, 'created': '2020-07-10 14:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/87e13e31fdbc599238238e7959b3ba220b4f1010', 'message': 'Default volume type overrides\n\nAdd dynamically configurable per project default volume types.\n\nAPIImpact\nBlueprint multiple-default-volume-types\n\nChange-Id: I8b309ef7e84261b9ef114f7d49ac0f078ffc7455\n'}, {'number': 11, 'created': '2020-07-10 16:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/97c967f0b0f35a1897cc9b83be979b047e5b1e3e', 'message': 'Default volume type overrides\n\nAdd dynamically configurable per project default volume types.\n\nAPIImpact\nBlueprint multiple-default-volume-types\n\nChange-Id: I8b309ef7e84261b9ef114f7d49ac0f078ffc7455\n'}, {'number': 12, 'created': '2020-07-16 18:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/74d07be80af6a280938ca7f4f444b42a7e70d9bf', 'message': 'Default volume type overrides\n\nAdd dynamically configurable per project default volume types.\n\nAPIImpact\nBlueprint multiple-default-volume-types\n\nChange-Id: I8b309ef7e84261b9ef114f7d49ac0f078ffc7455\n'}, {'number': 13, 'created': '2020-07-20 12:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/5e3f25787d7e304ac3287250af93dfe0b47c9695', 'message': 'Default volume type overrides\n\nAdd dynamically configurable per project default volume types.\n\nAPIImpact\nBlueprint multiple-default-volume-types\n\nChange-Id: I8b309ef7e84261b9ef114f7d49ac0f078ffc7455\n'}, {'number': 14, 'created': '2020-07-21 12:26:07.000000000', 'files': ['specs/victoria/default-volume-type-overrides.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/834992f4d994139781e1eeb38aacaa57b8574dcb', 'message': 'Default volume type overrides\n\nAdd dynamically configurable per project default volume types.\n\nAPIImpact\nBlueprint multiple-default-volume-types\n\nChange-Id: I8b309ef7e84261b9ef114f7d49ac0f078ffc7455\n'}]",92,733555,834992f4d994139781e1eeb38aacaa57b8574dcb,68,8,14,9535,,,0,"Default volume type overrides

Add dynamically configurable per project default volume types.

APIImpact
Blueprint multiple-default-volume-types

Change-Id: I8b309ef7e84261b9ef114f7d49ac0f078ffc7455
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/55/733555/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/default-volume-type-overrides.rst'],1,937cd512284804c1f15a16d8023c9ddfb4b5fea3,default_types,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================= Default volume type overrides ============================= Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/cinder/+spec/multiple-default-volume-types Cinder's current default volume type options are limited and are insufficient for big and/or complex deployments. This spec proposes adding more possibilities such as per project and per user volume types. Problem description =================== On complex and/or big OpenStack deployments we may have multiple availability zones (AZs) and many tenants and users, increasing the complexity of properly structuring and managing resources. One of the problems we encounter when having multiple AZs is that we usually want our users and tenants to have volumes and instances collocated within the same AZ, but we can only define one default volume type, forcing our users to always remember to create volumes with a volume type (if it has the AZ defined in it) or to explicitly pass the AZ. This is error prone, and users forgetting it will lead to unwanted cross AZ attachments, with the consequent performance issues and network throughput costs. Right now there are 2 workarounds that users are adopting to mitigate this situation: - Disabling cross AZ attachments in Nova: For deployments that don't want to do cross AZ instance live migrations, they can disable cross AZ attachments in Nova so the attachment to the instance fails, thus preventing performance issues on running VMs. This solution usually forces users to recreate the volume in the right AZ. - Unusable default volume type: Setting a default volume type with a self explanatory name, such as *Need_To_Select_Volume_Type* and setting it in a way that will fail the scheduling and leave the volume in an error state. This is less wasteful, but still not a nice user experience. This spec addresses this specific problem. Use Cases ========= 1. On a country wide OpenStack deployment that spreads across multiple data centers where each one has its own storage array and OpenStack tenant, an administrator wants to make sure that volumes are created in their own data center by default. For this purpose the admin defines a per tenant default volume type where it that has the appropriate extra specs. 2. On an OpenStack deployment a tenant has access to 3 different volume types (high performance, replicated, compressed) and since each application/department has different requirements it wants to assign a different OpenStack user with a specific volume type to each one of them. 3. An operator wants its users to start using a new backed for most of their workloads by changing the default volume type, but it doesn't want to have any downtime, so it sets the global default volume type override and just like that the next volume that is created uses the new default. Proposed change =============== The proposal is to add default volume type overrides, introducing 3 additional levels of default volume types: per user, per tenant, and global, that will make easier to manage complex deployments. With the introduction of these 3 new default volume types, we'll now have 5 different default volume types. From more specific to more generic these are: - Per user - Per tenant - Global from DB - Defined in cinder.conf - Defined in the database: named *__DEFAULT__* As one would assume, that will also be their preference/priority, from more specific to more generic, which allows us to be backward compatible when nothing has been defined. So when a user creates a new volume that has no defined volume type (explicit or in source), Cinder will look for the appropriate default first by checking if there's one for the specific user and use it, if there's not it will then check if the specific tenant has a default volume, if it doesn't it will check if there's a global default in the DB, and if there's not one it will continue like it does today, using the default type from ``cinder.conf`` or the *__DEFAULT__* volume type if it's ``None``. Administrators and users must still be careful with the normal Cinder behavior when creating volumes, as Cinder will still only resort to using the default volume type if we don't select one on the request or if there's no other volume type source, which means that Cinder **will not** use any of those defaults if we: - Create a volume from a snapshot - Clone a volume - Create a volume from an image that has ``cinder_img_volume_type`` defined in its metadata. There will be 3 policies to determine who can set these new default volume types: - Per user volume type: By default each user will be allowed to set their own default as well as admins. - Per tenant volume type: By default only admins will be allowed to set it. - Global volume type: By default only global admins will be allowed to set it. Alternatives ------------ An alternative would be to only allow per tenant volume type and not per user, as this will simplify the implementation. One of the pieces that would be simplified is the database changes, as we could reuse the ``VolumeTypeProjects`` and just add an ``is_default`` boolean field to indicate the tenant's default without requiring a new table. Data model impact ----------------- We'll use a new table to contain all the defaults for the user and tenant. * User ID (``user_id``) nullable string field (``String(255)``). * Project ID (``project_id``) nullable string field (``String(255)``). * Volume Type (``volume_type_name``), non nullable string (``String(255)``). * ``create_at`` * ``deleted_at`` * ``deleted`` Where the ``user_id`` and ``project_id`` tuple needs to be unique for non deleted entries. In terms of database migrations and initialization of the table, we would not do any kind of initialization. REST API impact --------------- We'll need a new set of REST API calls to provide the CRUD operations: * Set the default volume type (create or update) for everyone, for a specific tenant, or a specific user: * PUT /v3/default-type-override * JSON body to set global default type: .. code-block:: json { ""type_name"": ""lvm"" } * JSON body to set default type for a tenant: .. code-block:: json { ""tenant_id"": ""248592b4-a6da-4c4c-abe0-9d8dbe0b74b4"", ""type_name"": ""lvm"" } * JSON body to set default type for a user: .. code-block:: json { ""tenant_id"": ""248592b4-a6da-4c4c-abe0-9d8dbe0b74b4"", ""user_id"": ""92b42485-4c4c-a6da-abe0-0b74b49d8dbe"", ""type_name"": ""lvm"" } * JSON body to set default type for a user on the current tenant: .. code-block:: json { ""user_id"": ""92b42485-4c4c-a6da-abe0-0b74b49d8dbe"", ""type_name"": ""lvm"" } * Unset a default volume type. It won't fail even if there is not a default volume type. * DELETE /v3/default-type-override * With no body, it removes a global default type: * JSON body to remove the default type for a tenant: .. code-block:: json { ""tenant_id"": ""248592b4-a6da-4c4c-abe0-9d8dbe0b74b4"" } * JSON body to remove the default type for a user: .. code-block:: json { ""tenant_id"": ""248592b4-a6da-4c4c-abe0-9d8dbe0b74b4"", ""user_id"": ""92b42485-4c4c-a6da-abe0-0b74b49d8dbe"", } * Get volume types * GET /v3/default-type-override * A request without a body will return all defaults we can see. Users can see the global default, the tenant default, and the own user's default. A tenant admin would see all the users defaults, and a cloud admin would see everything. A sample response would be: .. code-block:: json [ { ""tenant_id"": null, ""user_id"": null, ""type_name"": ""global_default_type"" }, { ""tenant_id"": ""248592b4-a6da-4c4c-abe0-9d8dbe0b74b4"", ""user_id"": null, ""type_name"": ""tenant_default_type"" }, { ""tenant_id"": ""248592b4-a6da-4c4c-abe0-9d8dbe0b74b4"", ""user_id"": ""92b42485-4c4c-a6da-abe0-0b74b49d8dbe"", ""type_name"": ""user_default_type"" } ] Notice that we only list overrides, so we won't return the value of ``default_volume_type`` or ``__DEFAULT__`` if there's no global default type override. * Passing ``tenant_id`` and ``user_id`` on the request body we can limit what we get. Request body for an admin to get a tenant default and all the tenant's users defaults, or for a normal user to get the tenant's default and its own default. .. code-block:: json { ""tenant_id"": ""248592b4-a6da-4c4c-abe0-9d8dbe0b74b4"" } * If we want just the tenant's default volume type, and not the users, we provide the ``user_id`` field and set it to ``null``: .. code-block:: json { ""tenant_id"": ""248592b4-a6da-4c4c-abe0-9d8dbe0b74b4"", ""user_id"": null } To get **our** effective default type we would use the ``cinder type-default`` command that we already have. An alternative would be to include the tenant and user in the URL: */v3/default-type[/{tenant}[/{user}]]*. In this case we wouldn't be able to make the tenant optional. Security impact --------------- None Active/Active HA impact ----------------------- None Notifications impact -------------------- None Other end user impact --------------------- There will be a new set of commands in the *python-cinderclient* to match the new REST API endpoints: * Set default: ``cinder default-type-set [--tenant <tenant-id>] [--user <user-id>] <type-name>`` * Unset default: ``cinder default-type-unset [--tenant <tenant-id>] [--user <user-id>]`` * List defaults: ``cinder default-type-list [--tenant <tenant-id>] [--user <user-id>]`` Performance Impact ------------------ Create volume operations that don't define a default volume type (explicitly or via a source) will have a tiny performance impact since we'll add a DB query to get the defaults. Other deployer impact --------------------- None Developer impact ---------------- We should no longer refer directly to the ``default_volume_type`` configuration option throughout the code and instead use the ``get_default_volume_type`` method from ``cinder.volume.volume_types``. But this is something that we should already be doing after we introduced the ``__DEFAULT__`` volume type. Implementation ============== Assignee(s) ----------- Primary assignee: <whoami-rajat> Work Items ---------- * Cinder service * Create the database table * Add 4 DB layer methods: * Set volume type: This will set a volume type, first checking that the user is authorized to set the volume type. Confirming that the volume type name exists should be done at the API level. * Unset volume type: This will unset a volume type, first checking that the user is authorized to do so. * Get my default type: Returns our default type name. It's basically a query that looks for the 3 different default types, user (``user_id`` and ``tenant_id`` match the context), tenant (``tenant_id`` matches the context and the ``user_id`` is ``null``), and global (where both are ``null``), orders them in descending order of ``user_id`` and ``project_id`` (this sorts it from more specific to more generic) and then limited to 1 element, the one we want. * Get volume types: This method returns a list with the default volume types as requested by the provided parameters and restricted by the current context privileges. It only receives the ``**kwargs`` parameter, where accepted keys are ``tenant_id`` and ``user_id``, so we can differentiate between the parameter being present or not, while accepting the ``None`` value. When present, they will be used to filter the returned value. To ensure that we don't return information a user shouldn't see, we'll be limiting returned values based on the received ``context``. Taking into consideration there will be 3 different types of users: cloud admins, admins, and normal users. For global admins we won't automatically set any of the parameters in ``kwargs``, when it's an admin we'll add the ``tenant_id`` to match the one present in the ``context`` (failing if it's present and different), and if it's a normal user we'll set the ``user_id`` field to the one from the ``context``. * Update ``get_default_volume_type`` to return the effective volume type for the current tenant and user. Basically calling the *get my default type* DB method, and if it return None, then we'll continue with the current code we have to use the one from the config or the ``__DEFAULT__`` type if not. * Updating the volume type methods to ensure we don't try to delete a volume type that is used as a default and such operations. * Update ``purge_deleted_rows`` from ``cinder.db.sqlalchemy.api`` and make sure we delete the new table's entries before we process the ``volume_types`` table to avoid foreign key constraint errors. * Add a new API microversion and implement the 3 REST API methods. * Write appropriate unit-tests for the DB methods, REST API methods, and update existing tests for the changes we introduced. * Cinder client: Add the 3 commands mentioned earlier in the `Other end user impact`_ section. * Tempest tests: Add tempest tests as describe in the `Testing`_ section. * Documentation as describe in the `Documentation impact`_ section. Dependencies ============ None Testing ======= Besides writing the appropriate unit-tests for the DB methods, REST API methods, and update existing tests for the changes we introduced, we also need a series of Tempest tests to test existing functionality. * Confirm that the priority of the default types are observed: * Cloud admin confirms there are no default overrides * Create 3 custom volume types: #1, #2, and #3. * Cloud admin sets type #1 as the global default type. * Normal user creates an empty volume without a type and confirms it uses type #1. * Admin sets type #2 for the tenant. * Normal user creates an empty volume without a type and confirms it uses type #2. * Normal user sets type #3 for herself (user). * Normal user creates an empty volume without a type and confirms it uses type #3. * Confirm that ``cinder type-default`` works as expected: * Cloud admin confirms there are no default overrides * Create 3 custom volume types: #1, #2, and #3 * Cloud admin sets type #1 as the global default type * Normal, admin, and other tenant users get their default type and confirm it's type #1. * Admin sets type #2 for the tenant. * Normal and Admin users get their default type and confirm it's type #2 * Other tenant user gets its default type and confirms it's type #1 * Normal user sets type #3 for herself (user) * Normal user gets its default type and confirms it's type #3 * Admin gets its default type and confirm it's type #2 * Other tenant user gets its default type and confirms it's type #1 * Confirm that listing default type overrides works as expected: * Cloud admin confirms there are no default overrides * Create 5 custom volume types: #1 through #5 * Cloud admin sets type #1 as the global default type * Admin sets type #2 for the tenant. * Admin sets type #3 for herself (user). * Normal user sets type #4 for herself (user) * Other tenant user sets type #5 for himself (user) * Normal user lists defaults and should get #1, #2, and #4 * Admin lists defaults and should get #1, #2, #3, and #4 * Other tenant user and other admin list defaults and should get #1, #5 * Cloud admin lists defaults and should get #1 through #5 * Remove default types * Confirm that delete default volume type overrides work * Create 3 custom volume types: #1, #2, and #3. * Cloud admin sets type #1 as the global default type and #2 for normal user tenant. * Admin sets type #3 for the normal user. * Normal user lists types and sees #1, #2, and #3 * User deletes its own default type * Normal user lists types and sees #1 and #2 * Admin deletes default tenant type * Normal user lists types and sees #1 * Global admin deletes default global type * Normal user lists types and sees there are no overrides If there is no global cloud admin then tests will skip the global default type part of the tests. Documentation Impact ==================== A description of the default volume types overrides behavior will be added to the admin section, for example on path ``doc/source/admin/default-volume-types.rst``. This file will be linked from ``doc/source/admin/index.rst`` and ``doc/source/configuration/index.rst`` since it is part of the configuration but it's also an administrative task. The new CLI comments will be listed and explained in ``doc/source/cli/cli-manage-volumes.rst`` with examples of the new CLI commands. Additionally the new REST API calls will need to be documented in ``api-ref/source/v3/default-volume-types.inc`` and samples added to ``api-ref/source/v3/samples``. And the microversion history will need to be updated in ``cinder/api/openstack/rest_api_version_history.rst``. References ========== * `Untyped volume to default volume type <https://specs.openstack.org/openstack/cinder-specs/specs/train/untyped-volumes-to-default-volume-type.html>`_ ",,500,0
openstack%2Fceilometer~master~I3bc3cd4a7aa58ca1e2a57d383933493f5dc377ca,openstack/ceilometer,master,I3bc3cd4a7aa58ca1e2a57d383933493f5dc377ca,Dynamic pollster support paging systems that return only a path for the next page,MERGED,2020-05-29 14:45:53.000000000,2020-07-24 14:05:26.000000000,2020-07-24 13:16:33.000000000,"[{'_account_id': 4264}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2020-05-29 14:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/6b583947b28a634f33c729d0faca38bc41096c25', 'message': 'Dynamic pollster support paging systems that return only a path for the next page\n\nThis was found when working with Glance API, where the next page only attribute only\ncontains the context for the next call, and not a full qualified address. Moreover,\nwhile implementing this one, I noticed the there was no paging for the non-openstack\npollster. Therefore, I added it as well.\n\nDepends-On: https://review.opendev.org/#/c/709807/\n\nChange-Id: I3bc3cd4a7aa58ca1e2a57d383933493f5dc377ca\n'}, {'number': 2, 'created': '2020-05-29 14:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/5c73bca1a03d964e5c7e6696788498380f7ca112', 'message': 'Dynamic pollster support paging systems that return only a path for the next page\n\noThis was found when working with Glance API, where the next page attribute only\ncontains the context for the next call, and not a full qualified web address.\nMoreover, while implementing this one, I noticed the there was no paging for\nthe non-openstack pollster. Therefore, I added it as well.\n\nDepends-On: https://review.opendev.org/#/c/709807/\n\nChange-Id: I3bc3cd4a7aa58ca1e2a57d383933493f5dc377ca\n'}, {'number': 3, 'created': '2020-07-22 02:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/cc39dd676acb5b726c5db00c52c4f00cec07e29d', 'message': 'Dynamic pollster support paging systems that return only a path for the next page\n\noThis was found when working with Glance API, where the next page attribute only\ncontains the context for the next call, and not a full qualified web address.\nMoreover, while implementing this one, I noticed the there was no paging for\nthe non-openstack pollster. Therefore, I added it as well.\n\nDepends-On: https://review.opendev.org/#/c/709807/\n\nChange-Id: I3bc3cd4a7aa58ca1e2a57d383933493f5dc377ca\n'}, {'number': 4, 'created': '2020-07-22 11:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d436ad10358b0a9a14142331e23181ef361e264d', 'message': 'Dynamic pollster support paging systems that return only a path for the next page\n\nThis was found when working with Glance API, where the next page attribute only\ncontains the context for the next call, and not a full qualified web address.\nMoreover, while implementing this one, I noticed the there was no paging for\nthe non-openstack pollster. Therefore, I added it as well.\n\nDepends-On: https://review.opendev.org/#/c/709807/\n\nChange-Id: I3bc3cd4a7aa58ca1e2a57d383933493f5dc377ca\n'}, {'number': 5, 'created': '2020-07-22 20:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/da328002308dd926503b7f4560f3c9908d931359', 'message': 'Dynamic pollster support paging systems that return only a path for the next page\n\nThis was found when working with Glance API, where the next page attribute only\ncontains the context for the next call, and not a full qualified web address.\nMoreover, while implementing this one, I noticed the there was no paging for\nthe non-openstack pollster. Therefore, I added it as well.\n\nDepends-On: https://review.opendev.org/#/c/709807/\n\nChange-Id: I3bc3cd4a7aa58ca1e2a57d383933493f5dc377ca\n'}, {'number': 6, 'created': '2020-07-23 10:19:04.000000000', 'files': ['ceilometer/polling/dynamic_pollster.py', 'ceilometer/tests/unit/polling/test_non_openstack_dynamic_pollster.py', 'ceilometer/tests/unit/polling/test_dynamic_pollster.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/9c4f0d9391f6e7ed49b0954bf7ef0f6aa3c4a7a0', 'message': 'Dynamic pollster support paging systems that return only a path for the next page\n\nThis was found when working with Glance API, where the next page attribute only\ncontains the context for the next call, and not a full qualified web address.\nMoreover, while implementing this one, I noticed the there was no paging for\nthe non-openstack pollster. Therefore, I added it as well.\n\nDepends-On: https://review.opendev.org/#/c/709807/\n\nChange-Id: I3bc3cd4a7aa58ca1e2a57d383933493f5dc377ca\n'}]",6,731777,9c4f0d9391f6e7ed49b0954bf7ef0f6aa3c4a7a0,41,4,6,28356,,,0,"Dynamic pollster support paging systems that return only a path for the next page

This was found when working with Glance API, where the next page attribute only
contains the context for the next call, and not a full qualified web address.
Moreover, while implementing this one, I noticed the there was no paging for
the non-openstack pollster. Therefore, I added it as well.

Depends-On: https://review.opendev.org/#/c/709807/

Change-Id: I3bc3cd4a7aa58ca1e2a57d383933493f5dc377ca
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/77/731777/3 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/polling/dynamic_pollster.py', 'ceilometer/tests/unit/polling/test_non_openstack_dynamic_pollster.py', 'ceilometer/tests/unit/polling/test_dynamic_pollster.py']",3,6b583947b28a634f33c729d0faca38bc41096c25,fix_dynamic_pollster_paging_that_return_only_path,"""""""Tests for OpenStack dynamic pollster """""" from six.moves.urllib import parse as url_parse def test_get_request_linked_samples_url_no_next_sample(self): pollster = dynamic_pollster.DynamicPollster( self.pollster_definition_only_required_fields) base_url = ""http://test.com/something_that_we_do_not_care"" expected_url = url_parse.urljoin( base_url, self.pollster_definition_only_required_fields[ 'url_path']) kwargs = {'resource': base_url} url = pollster.definitions.sample_gatherer\ .get_request_linked_samples_url(kwargs) self.assertEqual(expected_url, url) def test_get_request_linked_samples_url_next_sample_url(self): pollster = dynamic_pollster.DynamicPollster( self.pollster_definition_only_required_fields) base_url = ""http://test.com/something_that_we_do_not_care"" expected_url = ""http://test.com/next_page"" kwargs = {'resource': base_url, 'next_sample_url': expected_url} url = pollster.definitions.sample_gatherer\ .get_request_linked_samples_url(kwargs) self.assertEqual(expected_url, url) def test_get_request_linked_samples_url_next_sample_only_url_path(self): pollster = dynamic_pollster.DynamicPollster( self.pollster_definition_only_required_fields) base_url = ""http://test.com/something_that_we_do_not_care"" expected_url = ""http://test.com/next_page"" kwargs = {'resource': base_url, 'next_sample_url': ""/next_page""} url = pollster.definitions.sample_gatherer\ .get_request_linked_samples_url(kwargs) self.assertEqual(expected_url, url)","""""""Tests for ceilometer/polling/dynamic_pollster.py""""""",118,10
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I70560f80775dacddd82262e8079c13f86b0eb0e6,openstack/tripleo-heat-templates,stable/ussuri,I70560f80775dacddd82262e8079c13f86b0eb0e6,Ensure redis_tls_proxy starts after all redis instances,MERGED,2020-07-23 07:48:07.000000000,2020-07-24 13:36:49.000000000,2020-07-24 13:36:49.000000000,"[{'_account_id': 11090}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-23 07:48:07.000000000', 'files': ['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/containers-common.yaml', 'container_config_scripts/wait-port-and-run.sh', 'tools/yaml-validate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/50789844238d784ee5c3dcc1ccf223995a9dad07', 'message': ""Ensure redis_tls_proxy starts after all redis instances\n\nWhen converting a HA control plane to TLS-e, 1) the bootstrap node\ntells pacemaker to restart all redis instances to take into\naccount the new TLS-e config; 2) a new container redis_tls_proxy\nis started on every controller to encapsulate redis traffic in TLS\ntunnels. This happens during step 2.\n\nRedis servers have to be restarted everywhere for redis_tls_proxy\nto be able to start tunnels properly. Since we can't guarantee that\nacross several nodes during the same step, tweak the startup of\nredis_tls_proxy instead; make sure to only create the tunnels once\nthe targeted host:port can be bound (i.e. redis was restarted).\n\nChange-Id: I70560f80775dacddd82262e8079c13f86b0eb0e6\nCloses-Bug: #1883096\n(cherry picked from commit b91a1a09cb25f042adb7094947eb3416c80af88f)\n""}]",2,742606,50789844238d784ee5c3dcc1ccf223995a9dad07,14,5,1,20778,,,0,"Ensure redis_tls_proxy starts after all redis instances

When converting a HA control plane to TLS-e, 1) the bootstrap node
tells pacemaker to restart all redis instances to take into
account the new TLS-e config; 2) a new container redis_tls_proxy
is started on every controller to encapsulate redis traffic in TLS
tunnels. This happens during step 2.

Redis servers have to be restarted everywhere for redis_tls_proxy
to be able to start tunnels properly. Since we can't guarantee that
across several nodes during the same step, tweak the startup of
redis_tls_proxy instead; make sure to only create the tunnels once
the targeted host:port can be bound (i.e. redis was restarted).

Change-Id: I70560f80775dacddd82262e8079c13f86b0eb0e6
Closes-Bug: #1883096
(cherry picked from commit b91a1a09cb25f042adb7094947eb3416c80af88f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/742606/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/redis-pacemaker-puppet.yaml', 'deployment/containers-common.yaml', 'container_config_scripts/wait-port-and-run.sh', 'tools/yaml-validate.py']",4,50789844238d784ee5c3dcc1ccf223995a9dad07,bug/1883096-stable/ussuri, # Omit if it is not a hiera config setting if path[1] in ['kolla_config']: continue ,,34,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I42b48a10512ef817203705a201c0b30d8d1bd50b,openstack/tripleo-heat-templates,stable/train,I42b48a10512ef817203705a201c0b30d8d1bd50b,Fix missing OctaviaClientCert* parameters,MERGED,2020-05-07 09:20:49.000000000,2020-07-24 13:36:47.000000000,2020-07-24 13:36:47.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-05-07 09:20:49.000000000', 'files': ['deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3214bf08c467f74073a4046ee0bd1a1738468f5e', 'message': 'Fix missing OctaviaClientCert* parameters\n\nOctaviaClientCert and OctaviaClientCertFile parameters\nwere incorrectly removed in change\nIa64668f9ef6efc91a05594ca34c35614d338fdb6.\n\nThat breaks the user-provided certificate & key feature in Octavia\ndeployments by not copying the client certificate to the controllers,\nOctavia services are then unable to communicate with running amphorae.\n\nThis commit restores those parameters.\n\nChange-Id: I42b48a10512ef817203705a201c0b30d8d1bd50b\nCloses-Bug: #1874712\n(cherry picked from commit 022c8f84254cd402e7cb3d128ef7c5601baafb55)\n'}]",0,726067,3214bf08c467f74073a4046ee0bd1a1738468f5e,19,7,1,29244,,,0,"Fix missing OctaviaClientCert* parameters

OctaviaClientCert and OctaviaClientCertFile parameters
were incorrectly removed in change
Ia64668f9ef6efc91a05594ca34c35614d338fdb6.

That breaks the user-provided certificate & key feature in Octavia
deployments by not copying the client certificate to the controllers,
Octavia services are then unable to communicate with running amphorae.

This commit restores those parameters.

Change-Id: I42b48a10512ef817203705a201c0b30d8d1bd50b
Closes-Bug: #1874712
(cherry picked from commit 022c8f84254cd402e7cb3d128ef7c5601baafb55)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/726067/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-base.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml']",2,3214bf08c467f74073a4046ee0bd1a1738468f5e,, description: Octavia client certificate for amphorae., description: client certificate for amphoras,18,1
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ia350089a730b9def557dab9170797b18c2ff3081,openstack/tripleo-upgrade,stable/train,Ia350089a730b9def557dab9170797b18c2ff3081,Remove tripleo-ci-centos-7-standalone-upgrade-stein,ABANDONED,2020-07-24 11:29:14.000000000,2020-07-24 13:27:27.000000000,,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-24 11:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9d5774de7d42e9a1c28c422426bc0f008d5357b0', 'message': 'Remove tripleo-ci-centos-7-standalone-upgrade-stein\n\nAs porting jobs from C7 to C8, it will not support upgrade stein job,\nfor stable train\n\nChange-Id: Ia350089a730b9def557dab9170797b18c2ff3081\n'}, {'number': 2, 'created': '2020-07-24 11:31:31.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/bf8b90a4e4d47b1028f3b51093bd6679d03f5f46', 'message': 'Remove tripleo-ci-centos-7-standalone-upgrade-stein\n\nAs porting jobs from C7 to C8, it will not support upgrade stein job,\nfor stable train\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1908?kanban-status=1447275\n\nChange-Id: Ia350089a730b9def557dab9170797b18c2ff3081\n'}]",0,742855,bf8b90a4e4d47b1028f3b51093bd6679d03f5f46,3,3,2,31075,,,0,"Remove tripleo-ci-centos-7-standalone-upgrade-stein

As porting jobs from C7 to C8, it will not support upgrade stein job,
for stable train

https://tree.taiga.io/project/tripleo-ci-board/task/1908?kanban-status=1447275

Change-Id: Ia350089a730b9def557dab9170797b18c2ff3081
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/55/742855/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,9d5774de7d42e9a1c28c422426bc0f008d5357b0,remove_centos-7-standalone-upgrade-stein,, - tripleo-ci-centos-7-standalone-upgrade-stein: dependencies: - tripleo-upgrade-centos-7-molecule - tripleo-ci-centos-7-standalone-upgrade-stein: dependencies: - tripleo-upgrade-centos-7-molecule,0,6
openstack%2Frequirements~stable%2Fstein~I0ff7af1b7042163f7ef16d318962b8e39d3ee1ce,openstack/requirements,stable/stein,I0ff7af1b7042163f7ef16d318962b8e39d3ee1ce,update constraint for neutron to new release 14.3.0,MERGED,2020-07-23 09:39:25.000000000,2020-07-24 13:15:47.000000000,2020-07-24 13:15:47.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-23 09:39:25.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6589526d39bc3c142f9f8f367b5ab6462a128c19', 'message': 'update constraint for neutron to new release 14.3.0\n\nChange-Id: I0ff7af1b7042163f7ef16d318962b8e39d3ee1ce\nmeta:version: 14.3.0\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Change-Id: Ifda2a598131009a531d5c4d545380b3bca0a8259\nmeta:release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>\nmeta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,742629,6589526d39bc3c142f9f8f367b5ab6462a128c19,7,3,1,11131,,,0,"update constraint for neutron to new release 14.3.0

Change-Id: I0ff7af1b7042163f7ef16d318962b8e39d3ee1ce
meta:version: 14.3.0
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Change-Id: Ifda2a598131009a531d5c4d545380b3bca0a8259
meta:release:Code-Review+1: Bernard Cafarelli <bcafarel@redhat.com>
meta:release:Code-Review+2: Hervé Beraud <hberaud@redhat.com>
meta:release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/29/742629/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6589526d39bc3c142f9f8f367b5ab6462a128c19,new-release,neutron===14.3.0,neutron===14.2.0,1,1
openstack%2Foslo.messaging~master~Ibbcf21a57ab1e3f90c21901296e5c088b645127c,openstack/oslo.messaging,master,Ibbcf21a57ab1e3f90c21901296e5c088b645127c,tests: Resolves issues with kombu > 4.6.8,MERGED,2020-07-01 14:03:31.000000000,2020-07-24 13:02:32.000000000,2020-07-03 13:58:07.000000000,"[{'_account_id': 6547}, {'_account_id': 8770}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-01 14:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/059d54098bbc25cb07dea5f3032884b970ef7a27', 'message': ""tests: Resolves issues with kombu > 4.6.8\n\nThe 'kombu.connection.Connection.ensure_connection' method has changed\nfrom calling 'retry_over_time' on 'self.connect' to calling it on\n'self._connection_factory', meaning our mocks are outdated. Address this\nchange.\n\nChange-Id: Ibbcf21a57ab1e3f90c21901296e5c088b645127c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1885923\n""}, {'number': 2, 'created': '2020-07-01 14:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/b1245029e17f317b8735cf92bd65e8f04ca68d70', 'message': ""tests: Resolves issues with kombu > 4.6.8\n\nThe 'kombu.connection.Connection.ensure_connection' method has changed\nfrom calling 'retry_over_time' on 'self.connect' to calling it on\n'self._connection_factory' [1], meaning our mocks are outdated. Address\nthis change.\n\n[1] https://github.com/celery/kombu/pull/1193/commits/398aa5b8cd1fe1fc\n\nChange-Id: Ibbcf21a57ab1e3f90c21901296e5c088b645127c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1885923\n""}, {'number': 3, 'created': '2020-07-02 09:37:24.000000000', 'files': ['oslo_messaging/tests/drivers/test_impl_rabbit.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/afb035d97185fa9c622bdb9b4c31c71f01160370', 'message': ""tests: Resolves issues with kombu > 4.6.8\n\nThe 'kombu.connection.Connection.ensure_connection' method has changed\nfrom calling 'retry_over_time' on 'self.connect' to calling it on\n'self._connection_factory' [1], meaning our mocks are outdated. Address\nthis change.\n\n[1] https://github.com/celery/kombu/pull/1193/commits/398aa5b8cd1fe1fc\n\nChange-Id: Ibbcf21a57ab1e3f90c21901296e5c088b645127c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\nCloses-Bug: #1885923\n""}]",1,738850,afb035d97185fa9c622bdb9b4c31c71f01160370,25,5,3,15334,,,0,"tests: Resolves issues with kombu > 4.6.8

The 'kombu.connection.Connection.ensure_connection' method has changed
from calling 'retry_over_time' on 'self.connect' to calling it on
'self._connection_factory' [1], meaning our mocks are outdated. Address
this change.

[1] https://github.com/celery/kombu/pull/1193/commits/398aa5b8cd1fe1fc

Change-Id: Ibbcf21a57ab1e3f90c21901296e5c088b645127c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
Closes-Bug: #1885923
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/50/738850/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/tests/drivers/test_impl_rabbit.py'],1,059d54098bbc25cb07dea5f3032884b970ef7a27,test_setup.sh, self.useFixture(fixtures.MockPatch( 'kombu.connection.Connection._connection_factory')) # TODO(stephenfin): Remove when we drop support for kombo < 4.6.8," @unittest.skip(""bug #1885923"") @unittest.skip(""bug #1885923"") @unittest.skip(""bug #1885923"")",3,3
openstack%2Fmanila-tempest-plugin~master~Iaef7873e7539045753bb5676fe93f4ded586b5ac,openstack/manila-tempest-plugin,master,Iaef7873e7539045753bb5676fe93f4ded586b5ac,"Zuulv3 native ""standalone"" GlusterFS native, NFS jobs",MERGED,2020-05-29 05:26:07.000000000,2020-07-24 12:50:25.000000000,2020-07-24 12:50:25.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 12017}, {'_account_id': 16643}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30722}]","[{'number': 1, 'created': '2020-05-29 05:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/380fa5ba38c580e21cbd9ec3eeac9f32431602d3', 'message': 'WIP Zuulv3 native GlusterFS native, NFS jobs\n\nChange-Id: Iaef7873e7539045753bb5676fe93f4ded586b5ac\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2020-05-29 05:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/2179de93b75a8b3a4625acd14fd450ee1acd3afb', 'message': 'WIP Zuulv3 native GlusterFS native, NFS jobs\n\nChange-Id: Iaef7873e7539045753bb5676fe93f4ded586b5ac\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2020-05-29 05:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/a1cb71d31ea0e30678646ad6325f4fdc8ced70df', 'message': 'WIP Zuulv3 native GlusterFS native, NFS jobs\n\nChange-Id: Iaef7873e7539045753bb5676fe93f4ded586b5ac\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 4, 'created': '2020-07-16 18:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/42bf52e93d1fa1572d7be172dc5b00312029eaa2', 'message': 'WIP Zuulv3 native GlusterFS native, NFS jobs\n\nChange-Id: Iaef7873e7539045753bb5676fe93f4ded586b5ac\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 5, 'created': '2020-07-16 19:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/751f07b0a58201bd8d69eee9782022683077abb3', 'message': 'WIP Zuulv3 native GlusterFS native, NFS jobs\n\nChange-Id: Iaef7873e7539045753bb5676fe93f4ded586b5ac\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 6, 'created': '2020-07-16 20:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/cae38835491bb84db6236516ca96b2440b895f95', 'message': 'WIP Zuulv3 native GlusterFS native, NFS jobs\n\nDepends-On: https://review.opendev.org/741542\nChange-Id: Iaef7873e7539045753bb5676fe93f4ded586b5ac\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 7, 'created': '2020-07-16 22:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/06cf7abe89340a1a7eed1839d534f58317de21a9', 'message': 'WIP Zuulv3 native GlusterFS native, NFS jobs\n\nDepends-On: https://review.opendev.org/741556/\nDepends-On: https://review.opendev.org/741542\nChange-Id: Iaef7873e7539045753bb5676fe93f4ded586b5ac\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 8, 'created': '2020-07-17 16:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/947429a9771f059a858d18fa86ebe5470a73c0c3', 'message': 'WIP Zuulv3 native GlusterFS native, NFS jobs\n\nChange-Id: Iaef7873e7539045753bb5676fe93f4ded586b5ac\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 9, 'created': '2020-07-17 16:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/28e8e07185ba0b1730f588a5991b0e87cc3d27d1', 'message': 'WIP Zuulv3 native GlusterFS native, NFS jobs\n\nChange-Id: Iaef7873e7539045753bb5676fe93f4ded586b5ac\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 10, 'created': '2020-07-17 18:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/046e5bb9f7a571cbca8e06542a276d0b57b9f14c', 'message': 'WIP Zuulv3 native GlusterFS native, NFS jobs\n\nDepends-On: https://review.opendev.org/741696\nChange-Id: Iaef7873e7539045753bb5676fe93f4ded586b5ac\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 11, 'created': '2020-07-17 21:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/811a74c774712b738922a6e9306ed7ee8bb9251a', 'message': 'WIP Zuulv3 native GlusterFS native, NFS jobs\n\nDepends-On: https://review.opendev.org/741696\nChange-Id: Iaef7873e7539045753bb5676fe93f4ded586b5ac\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 12, 'created': '2020-07-20 20:04:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/2ea19bf077adb5123e28806e7f9e84663e44d1f2', 'message': 'WIP Zuulv3 native GlusterFS native, NFS jobs\n\nDepends-On: https://review.opendev.org/742020\nChange-Id: Iaef7873e7539045753bb5676fe93f4ded586b5ac\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 13, 'created': '2020-07-20 22:04:20.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/manila-tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/842d08b4c868f10cfd24416f4c39041127116ffc', 'message': 'Zuulv3 native ""standalone"" GlusterFS native, NFS jobs\n\nGlusterFS jobs were included in this repository as\nnon-voting experimental jobs. However, they depend\non devstack-gate, a deprecated component. Converting\nthem to native zuulv3 style will allow ease of\nmaintenance. These jobs were only ever running ""api""\ntests and were not testing integration with the rest\nof OpenStack, so to conserve resources, these jobs\ndeploy a minimal devstack with just keystone and manila\nenabled.\n\nThe GlusterFS-NFS job was fixed in the Train release,\nwe can promote it to the regular CI check queue,\nkeeping it non-voting at the moment.\n\nHowever, the GlusterFS-native job has been pretty\nfailure prone. The legacy DSVM job has no history of\nsucceeding as of this commit [1]. We\'ll leave it\nin the experimental queue until we triage what\'s\nwrong with the job.\n\nWhile NFS and Native testing was refreshed in the\nTrain release, ""heketi"" layout remains an unmaintained\ncomponent of the GlusterFS driver for Manila. This\ncommit deletes the experimental jobs for heketi.\nThese can be revived when a maintainer shows up,\nwilling to invest in the heketi layout for GlusterFS.\n\n[1] https://zuul.opendev.org/t/openstack/builds?job_name=manila-tempest-dsvm-glusterfs-native\nChange-Id: Iaef7873e7539045753bb5676fe93f4ded586b5ac\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",2,731651,842d08b4c868f10cfd24416f4c39041127116ffc,48,10,13,16643,,,0,"Zuulv3 native ""standalone"" GlusterFS native, NFS jobs

GlusterFS jobs were included in this repository as
non-voting experimental jobs. However, they depend
on devstack-gate, a deprecated component. Converting
them to native zuulv3 style will allow ease of
maintenance. These jobs were only ever running ""api""
tests and were not testing integration with the rest
of OpenStack, so to conserve resources, these jobs
deploy a minimal devstack with just keystone and manila
enabled.

The GlusterFS-NFS job was fixed in the Train release,
we can promote it to the regular CI check queue,
keeping it non-voting at the moment.

However, the GlusterFS-native job has been pretty
failure prone. The legacy DSVM job has no history of
succeeding as of this commit [1]. We'll leave it
in the experimental queue until we triage what's
wrong with the job.

While NFS and Native testing was refreshed in the
Train release, ""heketi"" layout remains an unmaintained
component of the GlusterFS driver for Manila. This
commit deletes the experimental jobs for heketi.
These can be revived when a maintainer shows up,
willing to invest in the heketi layout for GlusterFS.

[1] https://zuul.opendev.org/t/openstack/builds?job_name=manila-tempest-dsvm-glusterfs-native
Change-Id: Iaef7873e7539045753bb5676fe93f4ded586b5ac
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/51/731651/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/manila-tempest-jobs.yaml']",2,380fa5ba38c580e21cbd9ec3eeac9f32431602d3,native-zuulv3-migration, - job: name: manila-tempest-plugin-glusterfs-native description: | Test the GlusterFS driver (DHSS=False) with the native GlusterFS protocol parent: manila-tempest-plugin-base required-projects: - x/devstack-plugin-glusterfs vars: devstack_plugins: devstack-plugin-glusterfs: https://opendev.org/x/devstack-plugin-glusterfs vars: tempest_test_regex: manila_tempest_tests.tests.api devstack_localrc: CONFIGURE_GLUSTERFS_MANILA: true GLUSTERFS_MANILA_DRIVER_TYPE: glusterfs-native MANILA_SERVICE_IMAGE_ENABLED: false MANILA_DEFAULT_SHARE_TYPE_EXTRA_SPECS: 'snapshot_support=True create_share_from_snapshot_support=True' devstack_local_conf: test-config: $TEMPEST_CONFIG: share: run_share_group_tests: false run_snapshot_tests: true multitenancy_enabled: false run_shrink_tests: false run_extend_tests: false multi_backend: false suppress_errors_in_cleanup: True share_creation_retry_number: 2 backend_names: GLUSTERNATIVE enable_cert_rules_for_protocols: glusterfs capability_storage_protocol: glusterfs enable_protocols: glusterfs - job: name: manila-tempest-plugin-glusterfs-nfs description: | Test the GlusterFS driver (DHSS=False) with the native NFS protocol parent: manila-tempest-plugin-base required-projects: - x/devstack-plugin-glusterfs vars: devstack_plugins: devstack-plugin-glusterfs: https://opendev.org/x/devstack-plugin-glusterfs vars: tempest_test_regex: manila_tempest_tests.tests.api devstack_localrc: CONFIGURE_GLUSTERFS_MANILA: true GLUSTERFS_MANILA_DRIVER_TYPE: glusterfs-nfs MANILA_SERVICE_IMAGE_ENABLED: false MANILA_DEFAULT_SHARE_TYPE_EXTRA_SPECS: 'snapshot_support=False' devstack_local_conf: test-config: $TEMPEST_CONFIG: share: run_share_group_tests: false run_snapshot_tests: false multitenancy_enabled: False run_shrink_tests: true multi_backend: false suppress_errors_in_cleanup: True share_creation_retry_number: 2 backend_names: GLUSTERFS enable_ip_rules_for_protocols: nfs capability_storage_protocol: NFS enable_protocols: nfs,,70,30
openstack%2Ftripleo-common~master~I7ded2cb74afe73eab5c423fcb31ec9046ea47790,openstack/tripleo-common,master,I7ded2cb74afe73eab5c423fcb31ec9046ea47790,Generate a play per step for external_deploy_tasks,MERGED,2020-07-22 13:28:12.000000000,2020-07-24 12:49:42.000000000,2020-07-24 04:14:33.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-22 13:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f12a3dc9470f831a11a0d1edb69845c743c2420b', 'message': 'Add external_deploy_tasks to PER_TASK_STEPS\n\nexternal_deploy_tasks will now be written out in per step files in the\nconfig download directory. This will allow including the task files for\na specific step only at that step, and saving time by not having to skip\nso many tasks.\n\nChange-Id: I7ded2cb74afe73eab5c423fcb31ec9046ea47790\n'}, {'number': 2, 'created': '2020-07-22 13:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/24fe499baf91806d26de1fe1b45ccff897cc2f9f', 'message': 'Add external_deploy_tasks to PER_TASK_STEPS\n\nexternal_deploy_tasks will now be written out in per step files in the\nconfig download directory. This will allow including the task files for\na specific step only at that step, and saving time by not having to skip\nso many tasks.\n\nChange-Id: I7ded2cb74afe73eab5c423fcb31ec9046ea47790\n'}, {'number': 3, 'created': '2020-07-22 20:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/659570e3cf2d32af2c3ed2f1b30f1b230ab114ec', 'message': 'Generate a play per step for external_deploy_tasks\n\nexternal_deploy_tasks will now be written out in per step files in the\nconfig download directory. This will allow including the task files for\na specific step only at that step, and saving time by not having to skip\nso many tasks.\n\nChange-Id: I7ded2cb74afe73eab5c423fcb31ec9046ea47790\n'}, {'number': 4, 'created': '2020-07-22 20:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1c9577172ce53abb2ce0e772312c3f1b0823752d', 'message': 'WIP - Generate a play per step for external_deploy_tasks\n\ntodo: tests\n\nexternal_deploy_tasks will now be written out in per step files in the\nconfig download directory. This will allow including the task files for\na specific step only at that step, and saving time by not having to skip\nso many tasks.\n\nChange-Id: I7ded2cb74afe73eab5c423fcb31ec9046ea47790\n'}, {'number': 5, 'created': '2020-07-23 18:38:46.000000000', 'files': ['tripleo_common/tests/fake_config/fakes.py', 'tripleo_common/constants.py', 'tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/eddc1e60941b96310d96a26bfb8d403993547249', 'message': 'Generate a play per step for external_deploy_tasks\n\nexternal_deploy_tasks will now be written out in per step files in the\nconfig download directory. This will allow including the task files for\na specific step only at that step, and saving time by not having to skip\nso many tasks.\n\nChange-Id: I7ded2cb74afe73eab5c423fcb31ec9046ea47790\n'}]",1,742426,eddc1e60941b96310d96a26bfb8d403993547249,24,7,5,3153,,,0,"Generate a play per step for external_deploy_tasks

external_deploy_tasks will now be written out in per step files in the
config download directory. This will allow including the task files for
a specific step only at that step, and saving time by not having to skip
so many tasks.

Change-Id: I7ded2cb74afe73eab5c423fcb31ec9046ea47790
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/26/742426/5 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/constants.py'],1,f12a3dc9470f831a11a0d1edb69845c743c2420b,external_deploy,"PER_STEP_TASKS = ['upgrade_tasks', 'deploy_steps_tasks', 'external_deploy_tasks']","PER_STEP_TASKS = ['upgrade_tasks', 'deploy_steps_tasks']",2,1
openstack%2Fxstatic-moment~master~I2b252c3143bc11df044db18654a1c6a7a8f0532e,openstack/xstatic-moment,master,I2b252c3143bc11df044db18654a1c6a7a8f0532e,Bump release to 2.8.4.3,MERGED,2020-07-24 10:19:09.000000000,2020-07-24 12:36:08.000000000,2020-07-24 12:36:07.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 10:19:09.000000000', 'files': ['xstatic/pkg/moment/__init__.py'], 'web_link': 'https://opendev.org/openstack/xstatic-moment/commit/7734ce759a6e6d92706e6d9b12111b2fbc6a7bbe', 'message': 'Bump release to 2.8.4.3\n\nThis package was manually released and uploaded to PyPI before it\nwas added to OpenStack release automation. In order to properly\nexercise the release machinery and properly sign the OpenStack\nrelease artifacts, we need to re-release it.\n\nChange-Id: I2b252c3143bc11df044db18654a1c6a7a8f0532e\n'}]",0,742843,7734ce759a6e6d92706e6d9b12111b2fbc6a7bbe,6,2,1,308,,,0,"Bump release to 2.8.4.3

This package was manually released and uploaded to PyPI before it
was added to OpenStack release automation. In order to properly
exercise the release machinery and properly sign the OpenStack
release artifacts, we need to re-release it.

Change-Id: I2b252c3143bc11df044db18654a1c6a7a8f0532e
",git fetch https://review.opendev.org/openstack/xstatic-moment refs/changes/43/742843/1 && git format-patch -1 --stdout FETCH_HEAD,['xstatic/pkg/moment/__init__.py'],1,7734ce759a6e6d92706e6d9b12111b2fbc6a7bbe,refresh-releases,"BUILD = '3' # our package build number, so we can release new builds","BUILD = '2' # our package build number, so we can release new builds",1,1
openstack%2Fxstatic-moment-timezone~master~Ic1e5024f68eedacc2e6b71aa40152cf48a3d8da7,openstack/xstatic-moment-timezone,master,Ic1e5024f68eedacc2e6b71aa40152cf48a3d8da7,Bump release to 0.5.22.1,MERGED,2020-07-24 10:20:30.000000000,2020-07-24 12:35:58.000000000,2020-07-24 12:35:58.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 10:20:30.000000000', 'files': ['xstatic/pkg/moment_timezone/__init__.py'], 'web_link': 'https://opendev.org/openstack/xstatic-moment-timezone/commit/61313b7a415bd1bfa69316d6ffe5a4a41e555b6a', 'message': 'Bump release to 0.5.22.1\n\nThis package was manually released and uploaded to PyPI before it\nwas added to OpenStack release automation. In order to properly\nexercise the release machinery and properly sign the OpenStack\nrelease artifacts, we need to re-release it.\n\nChange-Id: Ic1e5024f68eedacc2e6b71aa40152cf48a3d8da7\n'}]",0,742844,61313b7a415bd1bfa69316d6ffe5a4a41e555b6a,6,2,1,308,,,0,"Bump release to 0.5.22.1

This package was manually released and uploaded to PyPI before it
was added to OpenStack release automation. In order to properly
exercise the release machinery and properly sign the OpenStack
release artifacts, we need to re-release it.

Change-Id: Ic1e5024f68eedacc2e6b71aa40152cf48a3d8da7
",git fetch https://review.opendev.org/openstack/xstatic-moment-timezone refs/changes/44/742844/1 && git format-patch -1 --stdout FETCH_HEAD,['xstatic/pkg/moment_timezone/__init__.py'],1,61313b7a415bd1bfa69316d6ffe5a4a41e555b6a,refresh-releases,"BUILD = '1' # our package build number, so we can release new builds","BUILD = '0' # our package build number, so we can release new builds",1,1
openstack%2Fxstatic-lodash~master~I666ea72c1dfcaab0739940008d9468a215d8628e,openstack/xstatic-lodash,master,I666ea72c1dfcaab0739940008d9468a215d8628e,Bump release to 4.16.4.2,MERGED,2020-07-24 10:21:23.000000000,2020-07-24 12:35:47.000000000,2020-07-24 12:35:46.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 10:21:23.000000000', 'files': ['xstatic/pkg/lodash/__init__.py'], 'web_link': 'https://opendev.org/openstack/xstatic-lodash/commit/3bbd3db102bf786b95dfd7cb62c7c9ba8deca6a0', 'message': 'Bump release to 4.16.4.2\n\nThis package was manually released and uploaded to PyPI before it\nwas added to OpenStack release automation. In order to properly\nexercise the release machinery and properly sign the OpenStack\nrelease artifacts, we need to re-release it.\n\nChange-Id: I666ea72c1dfcaab0739940008d9468a215d8628e\n'}]",0,742845,3bbd3db102bf786b95dfd7cb62c7c9ba8deca6a0,6,2,1,308,,,0,"Bump release to 4.16.4.2

This package was manually released and uploaded to PyPI before it
was added to OpenStack release automation. In order to properly
exercise the release machinery and properly sign the OpenStack
release artifacts, we need to re-release it.

Change-Id: I666ea72c1dfcaab0739940008d9468a215d8628e
",git fetch https://review.opendev.org/openstack/xstatic-lodash refs/changes/45/742845/1 && git format-patch -1 --stdout FETCH_HEAD,['xstatic/pkg/lodash/__init__.py'],1,3bbd3db102bf786b95dfd7cb62c7c9ba8deca6a0,refresh-releases,"BUILD = '2' # our package build number, so we can release new builds","BUILD = '1' # our package build number, so we can release new builds",1,1
openstack%2Fxstatic-dagre-d3~master~I47d3c678ae02e60f4092ef2b3305b2cb80de80dc,openstack/xstatic-dagre-d3,master,I47d3c678ae02e60f4092ef2b3305b2cb80de80dc,Bump release to 0.4.17.1,MERGED,2020-07-24 10:22:17.000000000,2020-07-24 12:35:34.000000000,2020-07-24 12:35:34.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 10:22:17.000000000', 'files': ['xstatic/pkg/dagre_d3/__init__.py'], 'web_link': 'https://opendev.org/openstack/xstatic-dagre-d3/commit/fcd6e551f0a8ddf629c913cb78dc107a53e79ccd', 'message': 'Bump release to 0.4.17.1\n\nThis package was manually released and uploaded to PyPI before it\nwas added to OpenStack release automation. In order to properly\nexercise the release machinery and properly sign the OpenStack\nrelease artifacts, we need to re-release it.\n\nChange-Id: I47d3c678ae02e60f4092ef2b3305b2cb80de80dc\n'}]",0,742846,fcd6e551f0a8ddf629c913cb78dc107a53e79ccd,6,2,1,308,,,0,"Bump release to 0.4.17.1

This package was manually released and uploaded to PyPI before it
was added to OpenStack release automation. In order to properly
exercise the release machinery and properly sign the OpenStack
release artifacts, we need to re-release it.

Change-Id: I47d3c678ae02e60f4092ef2b3305b2cb80de80dc
",git fetch https://review.opendev.org/openstack/xstatic-dagre-d3 refs/changes/46/742846/1 && git format-patch -1 --stdout FETCH_HEAD,['xstatic/pkg/dagre_d3/__init__.py'],1,fcd6e551f0a8ddf629c913cb78dc107a53e79ccd,refresh-releases,"BUILD = '1' # our package build number, so we can release new builds","BUILD = '0' # our package build number, so we can release new builds",1,1
openstack%2Fxstatic-dagre~master~I565c780aace0f749712bda7ff4a3b9a14e1225dd,openstack/xstatic-dagre,master,I565c780aace0f749712bda7ff4a3b9a14e1225dd,Bump release to 0.6.4.1,MERGED,2020-07-24 10:23:01.000000000,2020-07-24 12:35:03.000000000,2020-07-24 12:35:03.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 10:23:01.000000000', 'files': ['xstatic/pkg/dagre/__init__.py'], 'web_link': 'https://opendev.org/openstack/xstatic-dagre/commit/f3fd721b7b7c4e06a729914b2bf47726efb811d6', 'message': 'Bump release to 0.6.4.1\n\nChange-Id: I565c780aace0f749712bda7ff4a3b9a14e1225dd\n'}]",0,742847,f3fd721b7b7c4e06a729914b2bf47726efb811d6,6,2,1,308,,,0,"Bump release to 0.6.4.1

Change-Id: I565c780aace0f749712bda7ff4a3b9a14e1225dd
",git fetch https://review.opendev.org/openstack/xstatic-dagre refs/changes/47/742847/1 && git format-patch -1 --stdout FETCH_HEAD,['xstatic/pkg/dagre/__init__.py'],1,f3fd721b7b7c4e06a729914b2bf47726efb811d6,refresh-releases,"BUILD = '1' # our package build number, so we can release new builds","BUILD = '0' # our package build number, so we can release new builds",1,1
openstack%2Fcharm-octavia~master~I0378220915dc49908ca841e58e0dc3869245accc,openstack/charm-octavia,master,I0378220915dc49908ca841e58e0dc3869245accc,Log traceback on action failure,MERGED,2020-03-09 08:00:10.000000000,2020-07-24 12:33:18.000000000,2020-07-24 12:33:18.000000000,"[{'_account_id': 13686}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-09 08:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/02b6a8fc0c2273bd4114b58949ac90b70bbda9af', 'message': 'Log traceback on action failure\n\nThe information logged by the charm is insuficcient in the event\nof an action failure.\n\nChange-Id: I0378220915dc49908ca841e58e0dc3869245accc\nRelated-Bug: #1866126\n'}, {'number': 2, 'created': '2020-05-28 04:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/28f358d2dc632b58471b349189bc9c3497acc85b', 'message': 'Log traceback on action failure\n\nThe information logged by the charm is insuficcient in the event\nof an action failure.\n\nChange-Id: I0378220915dc49908ca841e58e0dc3869245accc\nRelated-Bug: #1866126\n'}, {'number': 3, 'created': '2020-07-24 09:01:03.000000000', 'files': ['src/actions/actions.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/9e1e95a8daba0254268ebfca74cb7c82e1fc4e38', 'message': 'Log traceback on action failure\n\nThe information logged by the charm is insuficcient in the event\nof an action failure.\n\nChange-Id: I0378220915dc49908ca841e58e0dc3869245accc\nRelated-Bug: #1866126\n'}]",0,711873,9e1e95a8daba0254268ebfca74cb7c82e1fc4e38,16,4,3,13686,,,0,"Log traceback on action failure

The information logged by the charm is insuficcient in the event
of an action failure.

Change-Id: I0378220915dc49908ca841e58e0dc3869245accc
Related-Bug: #1866126
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/73/711873/3 && git format-patch -1 --stdout FETCH_HEAD,['src/actions/actions.py'],1,02b6a8fc0c2273bd4114b58949ac90b70bbda9af,bug/1866126,"import traceback ch_core.hookenv.log('action ""{}"" failed: ""{}"" ""{}""' .format(action_name, str(e), traceback.format_exc()), level=ch_core.hookenv.ERROR)",,5,0
openstack%2Ftripleo-heat-templates~master~I39b8a846145fdc2fb3d0f6853df541c773ee455e,openstack/tripleo-heat-templates,master,I39b8a846145fdc2fb3d0f6853df541c773ee455e,Remove ffwd-upgrade leftovers from THT.,MERGED,2020-07-06 21:07:37.000000000,2020-07-24 12:03:48.000000000,2020-07-24 12:01:51.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 19138}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-06 21:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b6a20f6ad79d76c59f3db7bda030e606f821f2c4', 'message': 'Remove ffwd-upgrade leftovers from THT.\n\nNow that the FFU process relies on the upgrade_tasks and deployment\ntasts there is no need to keep the old fast_forward_upgrade_tasks.\n\nThis patch removes all the fast_forward_upgrade_tasks section from\nthe services, as well as from the common structures.\n\nChange-Id: I39b8a846145fdc2fb3d0f6853df541c773ee455e\n'}, {'number': 2, 'created': '2020-07-07 13:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/532d845833f34a0054c4991431e1756f5cb21722', 'message': 'Remove ffwd-upgrade leftovers from THT.\n\nNow that the FFU process relies on the upgrade_tasks and deployment\ntasts there is no need to keep the old fast_forward_upgrade_tasks.\n\nThis patch removes all the fast_forward_upgrade_tasks section from\nthe services, as well as from the common structures.\n\nChange-Id: I39b8a846145fdc2fb3d0f6853df541c773ee455e\n'}, {'number': 3, 'created': '2020-07-08 10:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/136a84b3f971ae090f9f61c285d9375ae38a18ef', 'message': 'Remove ffwd-upgrade leftovers from THT.\n\nNow that the FFU process relies on the upgrade_tasks and deployment\ntasts there is no need to keep the old fast_forward_upgrade_tasks.\n\nThis patch removes all the fast_forward_upgrade_tasks section from\nthe services, as well as from the common structures.\n\nChange-Id: I39b8a846145fdc2fb3d0f6853df541c773ee455e\n'}, {'number': 4, 'created': '2020-07-08 13:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9064b64e03901368184a2213284dec3640c0bb99', 'message': 'Remove ffwd-upgrade leftovers from THT.\n\nNow that the FFU process relies on the upgrade_tasks and deployment\ntasts there is no need to keep the old fast_forward_upgrade_tasks.\n\nThis patch removes all the fast_forward_upgrade_tasks section from\nthe services, as well as from the common structures.\n\nChange-Id: I39b8a846145fdc2fb3d0f6853df541c773ee455e\n'}, {'number': 5, 'created': '2020-07-15 13:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c5c5c2df60dea5351b67910d640e92522009968c', 'message': 'Remove ffwd-upgrade leftovers from THT.\n\nNow that the FFU process relies on the upgrade_tasks and deployment\ntasts there is no need to keep the old fast_forward_upgrade_tasks.\n\nThis patch removes all the fast_forward_upgrade_tasks section from\nthe services, as well as from the common structures.\n\nChange-Id: I39b8a846145fdc2fb3d0f6853df541c773ee455e\n'}, {'number': 6, 'created': '2020-07-23 15:33:25.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/README.rst', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'environments/lifecycle/ffwd-upgrade-prepare.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'tripleo_heat_templates/tests/test_tht_ansible_syntax.yml', 'deployment/deprecated/sahara/sahara-engine-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/database/mysql-container-puppet.yaml', 'deployment/ironic/ironic-conductor-container-puppet.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'common/deploy-steps.j2', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/manila/manila-scheduler-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/deprecated/sahara/sahara-api-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'common/services/role.role.j2.yaml', 'tools/yaml-validate.py', 'releasenotes/notes/remove_ffwd_tasks-d1ab630d96a66a59.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/heat/heat-api-cloudwatch-disabled-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8783ec9c458aa7d55c523b3b48fdb38caed32384', 'message': 'Remove ffwd-upgrade leftovers from THT.\n\nNow that the FFU process relies on the upgrade_tasks and deployment\ntasts there is no need to keep the old fast_forward_upgrade_tasks.\n\nThis patch removes all the fast_forward_upgrade_tasks section from\nthe services, as well as from the common structures.\n\nChange-Id: I39b8a846145fdc2fb3d0f6853df541c773ee455e\n'}]",4,739604,8783ec9c458aa7d55c523b3b48fdb38caed32384,49,12,6,26343,,,0,"Remove ffwd-upgrade leftovers from THT.

Now that the FFU process relies on the upgrade_tasks and deployment
tasts there is no need to keep the old fast_forward_upgrade_tasks.

This patch removes all the fast_forward_upgrade_tasks section from
the services, as well as from the common structures.

Change-Id: I39b8a846145fdc2fb3d0f6853df541c773ee455e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/739604/3 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/gnocchi/gnocchi-statsd-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/gnocchi/gnocchi-metricd-container-puppet.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'common/deploy-steps.j2', 'deployment/aodh/aodh-notifier-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/aodh/aodh-listener-container-puppet.yaml', 'deployment/heat/heat-api-cloudwatch-disabled-puppet.yaml', 'deployment/aodh/aodh-evaluator-container-puppet.yaml', 'environments/lifecycle/ffwd-upgrade-prepare.yaml', 'deployment/deprecated/sahara/sahara-api-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/deprecated/sahara/sahara-engine-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/ceph-ansible/ceph-base.yaml', 'common/services/role.role.j2.yaml']",21,b6a20f6ad79d76c59f3db7bda030e606f821f2c4,ffwd-upgrade2,," FastForwardUpgradeTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: expression: coalesce($.data, []).where($ != null).select($.get('fast_forward_upgrade_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} FastForwardPostUpgradeTasks: type: OS::Heat::Value properties: type: comma_delimited_list value: yaql: expression: coalesce($.data, []).where($ != null).select($.get('fast_forward_post_upgrade_tasks')).where($ != null).flatten().distinct() data: {get_attr: [ServiceChain, role_data]} fast_forward_upgrade_tasks: {get_attr: [FastForwardUpgradeTasks, value]} fast_forward_post_upgrade_tasks: {get_attr: [FastForwardPostUpgradeTasks, value]}",3,507
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I17d6c3a3af5b192b77d264ff3e94e64ef6064c77,openstack/tripleo-heat-templates,stable/ussuri,I17d6c3a3af5b192b77d264ff3e94e64ef6064c77,Add BarbicanClient service for configuring edge sites,MERGED,2020-07-21 12:57:46.000000000,2020-07-24 12:03:44.000000000,2020-07-24 12:01:46.000000000,"[{'_account_id': 3153}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-21 12:57:46.000000000', 'files': ['roles/DistributedComputeHCI.yaml', 'roles/DistributedCompute.yaml', 'roles/DistributedComputeScaleOut.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/add-barbican-client-for-dcn-7182e8bab41fce21.yaml', 'roles/DistributedComputeHCIScaleOut.yaml', 'environments/services/barbican-edge.yaml', 'deployment/barbican/barbican-client-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5b2bb640b93001ffcfb2d09aaee7d586604aa62', 'message': 'Add BarbicanClient service for configuring edge sites\n\nA new BarbicanClient tripleo service provides a means of configuring\nthe barbican Key Manager settings for cinder, glance and nova services\nrunning at an edge site. This is necessary because the BarbicanApi\ntripleo service is only capable of configuring the Key Manager settings\nfor services running in the control plane.\n\nFor cinder, the BarbicanClient ensures the KeyManager settings are\navailable to the cinder-volume and cinder-backup services. This is\nnecessary because the Key Manager setttings are traditionally associated\nwith the cinder-api service, but cinder-api is not deployed at the edge.\n\nCloses-Bug: #1886070\nChange-Id: I17d6c3a3af5b192b77d264ff3e94e64ef6064c77\n(cherry picked from commit 5080e45fd283c795f973c86719d1959948f642e3)\n'}]",0,742177,b5b2bb640b93001ffcfb2d09aaee7d586604aa62,22,5,1,21129,,,0,"Add BarbicanClient service for configuring edge sites

A new BarbicanClient tripleo service provides a means of configuring
the barbican Key Manager settings for cinder, glance and nova services
running at an edge site. This is necessary because the BarbicanApi
tripleo service is only capable of configuring the Key Manager settings
for services running in the control plane.

For cinder, the BarbicanClient ensures the KeyManager settings are
available to the cinder-volume and cinder-backup services. This is
necessary because the Key Manager setttings are traditionally associated
with the cinder-api service, but cinder-api is not deployed at the edge.

Closes-Bug: #1886070
Change-Id: I17d6c3a3af5b192b77d264ff3e94e64ef6064c77
(cherry picked from commit 5080e45fd283c795f973c86719d1959948f642e3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/742177/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/DistributedComputeHCI.yaml', 'roles/DistributedCompute.yaml', 'roles/DistributedComputeScaleOut.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/add-barbican-client-for-dcn-7182e8bab41fce21.yaml', 'environments/services/barbican-edge.yaml', 'roles/DistributedComputeHCIScaleOut.yaml', 'deployment/barbican/barbican-client-puppet.yaml']",8,b5b2bb640b93001ffcfb2d09aaee7d586604aa62,bug/1886070,"heat_template_version: rocky description: > OpenStack Barbican client configuration parameters: EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. type: json DefaultPasswords: default: {} type: json RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json outputs: role_data: description: Role data for the Barbican client. value: service_name: barbican_client service_config_settings: nova_compute: nova::compute::keymgr_backend: barbican nova::compute::barbican_endpoint: get_param: [EndpointMap, BarbicanInternal, uri] nova::compute::barbican_auth_endpoint: get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] cinder_volume: &cinder_barbican_config cinder::config::cinder_config: key_manager/backend: value: barbican barbican/barbican_endpoint: value: {get_param: [EndpointMap, BarbicanInternal, uri]} barbican/auth_endpoint: value: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} cinder_backup: *cinder_barbican_config glance_api: glance::api::keymgr_backend: barbican glance::api::keymgr_encryption_api_url: get_param: [EndpointMap, BarbicanInternal, uri] glance::api::keymgr_encryption_auth_url: get_param: [EndpointMap, KeystoneInternal, uri_no_suffix] ",,82,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I9d28b5f7f40d43e017153cb274a3f419e23511c3,openstack/tripleo-heat-templates,stable/ussuri,I9d28b5f7f40d43e017153cb274a3f419e23511c3,Fix bind mount volumes for novajoin containers,MERGED,2020-07-13 07:19:18.000000000,2020-07-24 12:01:49.000000000,2020-07-24 12:01:49.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-13 07:19:18.000000000', 'files': ['deployment/nova/novajoin-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/03ab2f26d9c3b4971cea3d9cf1cfb502f6c745e9', 'message': ""Fix bind mount volumes for novajoin containers\n\n/var/lib/config-data/novajoin should not be bind mounted directly.\nThe way it works, is that a step 1 we generate all the config files with\nPuppet and put the /etc/novajoin content into\n/var/lib/config-data/novajoin and then filter out that is actually\nneeded by the containers into\n/var/lib/config-data/puppet-generated/novajoin.\n\n/var/lib/config-data/puppet-generated/novajoin will have\n/var/lib/config-data/puppet-generated/novajoin/etc/novajoin with the\nconfig files but it won't have the files excluded by container-puppet.sh\n(e.g. host files, some CA/PKI files, etc).\n\nIn the container configs, we want to bind mount\n/var/lib/config-data/puppet-generated/novajoin into\n/var/lib/config-data/puppet-generated/novajoin:/var/lib/kolla/config_files/src\nand when the container will start, Kolla will automatically copy the\ncontent of\n/var/lib/config-data/puppet-generated/novajoin:/var/lib/kolla/config_files/src\ninto / by deep merging; so /etc/novajoin will have the config files.\n\nCloses-Bug: #1886047\nResolves: rhbz#1853268\n\nChange-Id: I9d28b5f7f40d43e017153cb274a3f419e23511c3\n(cherry picked from commit 53900ae3a9c15cfd6fe283bcb5baba8c21f2f70b)\n""}]",0,740623,03ab2f26d9c3b4971cea3d9cf1cfb502f6c745e9,24,7,1,14250,,,0,"Fix bind mount volumes for novajoin containers

/var/lib/config-data/novajoin should not be bind mounted directly.
The way it works, is that a step 1 we generate all the config files with
Puppet and put the /etc/novajoin content into
/var/lib/config-data/novajoin and then filter out that is actually
needed by the containers into
/var/lib/config-data/puppet-generated/novajoin.

/var/lib/config-data/puppet-generated/novajoin will have
/var/lib/config-data/puppet-generated/novajoin/etc/novajoin with the
config files but it won't have the files excluded by container-puppet.sh
(e.g. host files, some CA/PKI files, etc).

In the container configs, we want to bind mount
/var/lib/config-data/puppet-generated/novajoin into
/var/lib/config-data/puppet-generated/novajoin:/var/lib/kolla/config_files/src
and when the container will start, Kolla will automatically copy the
content of
/var/lib/config-data/puppet-generated/novajoin:/var/lib/kolla/config_files/src
into / by deep merging; so /etc/novajoin will have the config files.

Closes-Bug: #1886047
Resolves: rhbz#1853268

Change-Id: I9d28b5f7f40d43e017153cb274a3f419e23511c3
(cherry picked from commit 53900ae3a9c15cfd6fe283bcb5baba8c21f2f70b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/740623/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/novajoin-container-puppet.yaml'],1,03ab2f26d9c3b4971cea3d9cf1cfb502f6c745e9,novajoin-stable/ussuri, - /var/lib/config-data/puppet-generated/novajoin:/var/lib/kolla/config_files/src:ro - /var/lib/config-data/puppet-generated/novajoin:/var/lib/kolla/config_files/src:ro, - /var/lib/config-data/novajoin/etc/novajoin/join.conf:/etc/novajoin/join.conf:z - /var/lib/config-data/novajoin/etc/novajoin/join.conf:/etc/novajoin/join.conf:z,2,2
openstack%2Fcinder~stable%2Frocky~Icb621ff5966133f59d9d43ca2dd9f8e1919b1149,openstack/cinder,stable/rocky,Icb621ff5966133f59d9d43ca2dd9f8e1919b1149,Fix cross-project incremental backups,MERGED,2020-07-21 15:08:23.000000000,2020-07-24 11:59:42.000000000,2020-07-24 11:58:02.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-07-21 15:08:23.000000000', 'files': ['releasenotes/notes/bug-1869746-cross-project-incremental-backup-error.yaml', 'cinder/tests/unit/test_db_api.py', 'cinder/backup/api.py', 'cinder/tests/unit/objects/test_backup.py', 'cinder/db/api.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/objects/backup.py', 'cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c4de3a8c838c4053ab60964cee53c6fa5e062d73', 'message': ""Fix cross-project incremental backups\n\nThis patch addresses the scenario where an\nincremental backup can be created having a\nparent backup that was taken in a different\nproject. This scenario ultimately leads to\na silent error when creating/deleting the\nincremental backup and quotas going out of\nsync.\n\nThe proposed fix is to narrow the backup search\ndown to the same project. To achieve this, a\nmethod's signature had to be updated to achieve\nthe desired optimized behavior of passing the\nvolume's project_id parameter.\n\nCloses-bug: #1869746\nCloses-bug: #1873518\n\nChange-Id: Icb621ff5966133f59d9d43ca2dd9f8e1919b1149\n(cherry picked from commit 8ebeafcbbafb700052f3abfc1f7ba004269a92e8)\n(cherry picked from commit 5358c996b40bbb0fd749ec182ff3ef67f5d71c16)\n(cherry picked from commit f3cdc27563766b2f49a1d88500f32c8d86838c96)\n(cherry picked from commit 5983eee1c35ababa1b6e2bad347cf98bd79b226f)\n""}]",0,742221,c4de3a8c838c4053ab60964cee53c6fa5e062d73,49,17,1,14567,,,0,"Fix cross-project incremental backups

This patch addresses the scenario where an
incremental backup can be created having a
parent backup that was taken in a different
project. This scenario ultimately leads to
a silent error when creating/deleting the
incremental backup and quotas going out of
sync.

The proposed fix is to narrow the backup search
down to the same project. To achieve this, a
method's signature had to be updated to achieve
the desired optimized behavior of passing the
volume's project_id parameter.

Closes-bug: #1869746
Closes-bug: #1873518

Change-Id: Icb621ff5966133f59d9d43ca2dd9f8e1919b1149
(cherry picked from commit 8ebeafcbbafb700052f3abfc1f7ba004269a92e8)
(cherry picked from commit 5358c996b40bbb0fd749ec182ff3ef67f5d71c16)
(cherry picked from commit f3cdc27563766b2f49a1d88500f32c8d86838c96)
(cherry picked from commit 5983eee1c35ababa1b6e2bad347cf98bd79b226f)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/742221/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1869746-cross-project-incremental-backup-error.yaml', 'cinder/tests/unit/test_db_api.py', 'cinder/backup/api.py', 'cinder/tests/unit/objects/test_backup.py', 'cinder/db/api.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/objects/backup.py', 'cinder/db/sqlalchemy/api.py']",8,c4de3a8c838c4053ab60964cee53c6fa5e062d73,bug/1869746,"def backup_get_all_by_volume(context, volume_id, vol_project_id, filters=None): authorize_project_context(context, vol_project_id)","def backup_get_all_by_volume(context, volume_id, filters=None): authorize_project_context(context, volume_id)",45,25
openstack%2Foctavia~master~I757d84e4624f488382ec4ff9af3f489cd9a85ed3,openstack/octavia,master,I757d84e4624f488382ec4ff9af3f489cd9a85ed3,Fix missing dependency in amphora create flow,MERGED,2020-07-22 10:01:24.000000000,2020-07-24 11:58:51.000000000,2020-07-24 11:56:24.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 9592}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-07-22 10:01:24.000000000', 'files': ['octavia/tests/unit/controller/worker/v1/test_controller_worker.py', 'octavia/controller/worker/v1/controller_worker.py', 'releasenotes/notes/fix-missing-amphora-create-dependency-a954ded0d260d462.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/ae6f3443594390fd543a007d67b78132e697fb29', 'message': 'Fix missing dependency in amphora create flow\n\nTask CertComputeCreate requires SERVER_GROUP_ID but this dependency is\nmissing when nova anti-affinity is enabled and load balancer topology is\nSINGLE. This patch fixes this issue.\n\nTask: 40408\nStory: 2007943\nCloses-Bug: #1888397\n\nChange-Id: I757d84e4624f488382ec4ff9af3f489cd9a85ed3\n'}]",0,742382,ae6f3443594390fd543a007d67b78132e697fb29,27,8,1,6469,,,0,"Fix missing dependency in amphora create flow

Task CertComputeCreate requires SERVER_GROUP_ID but this dependency is
missing when nova anti-affinity is enabled and load balancer topology is
SINGLE. This patch fixes this issue.

Task: 40408
Story: 2007943
Closes-Bug: #1888397

Change-Id: I757d84e4624f488382ec4ff9af3f489cd9a85ed3
",git fetch https://review.opendev.org/openstack/octavia refs/changes/82/742382/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v1/test_controller_worker.py', 'octavia/controller/worker/v1/controller_worker.py', 'releasenotes/notes/fix-missing-amphora-create-dependency-a954ded0d260d462.yaml']",3,ae6f3443594390fd543a007d67b78132e697fb29,story/2007943,--- fixes: - | Fixed an issue where amphora load balancers fail to create when Nova anti-affinity is enabled and topology is SINGLE. ,,42,6
openstack%2Fopenstack-ansible~stable%2Fussuri~Ibac278398ef533bc8fcf253c67cb983461bd145d,openstack/openstack-ansible,stable/ussuri,Ibac278398ef533bc8fcf253c67cb983461bd145d,Add Centos-8 support,MERGED,2020-07-09 13:37:23.000000000,2020-07-24 11:58:44.000000000,2020-07-24 11:53:29.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-09 13:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6744f32e559328ee6d501de3c6db215fe38134a5', 'message': 'Add Centos-8 support\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 2, 'created': '2020-07-20 17:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7fb4363ce3ca2f5bb7cfd042aa7f82d6a381b9c3', 'message': 'Add Centos-8 support\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 3, 'created': '2020-07-21 10:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/02110312508e80602493dd33cdcc1e222e6b7353', 'message': 'Add Centos-8 support\n\nDepends-On: https://review.opendev.org/742075/\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 4, 'created': '2020-07-21 13:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/65a76a3f695b33d8b1b1f6d0a0d7f0c7fc4eafba', 'message': 'Add Centos-8 support\n\nDepends-On: https://review.opendev.org/742075/\nDepends-On: https://review.opendev.org/742179\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 5, 'created': '2020-07-21 13:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/32e64211175a19b17c60cae406d0166fb908561c', 'message': 'Add Centos-8 support\n\nDepends-On: https://review.opendev.org/742075\nDepends-On: https://review.opendev.org/742188\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 6, 'created': '2020-07-21 17:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/23690700f3d9929446bc389a5c3c724dc33031ec', 'message': 'Add Centos-8 support\n\nDepends-On: https://review.opendev.org/742075\nDepends-On: https://review.opendev.org/742188\nDepends-On: https://review.opendev.org/742254\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 7, 'created': '2020-07-23 10:31:13.000000000', 'files': ['doc/source/user/aio/quickstart.rst', 'releasenotes/notes/add-centos-8-support-af546bd6ca3b10cd.yaml', 'tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'zuul.d/playbooks/pre-gate-cleanup.yml', 'scripts/gate-check-commit.sh', 'tests/roles/bootstrap-host/defaults/main.yml', 'ansible-role-requirements.yml', 'tests/bootstrap-aio.yml', 'tests/roles/bootstrap-host/vars/redhat-8.yml', 'zuul.d/project-templates.yaml', 'tests/roles/bootstrap-host/tasks/check-requirements.yml', 'scripts/scripts-library.sh', 'inventory/group_vars/utility_all.yml', 'scripts/bootstrap-ansible.sh', 'zuul.d/project.yaml', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2', 'zuul.d/jobs.yaml', 'playbooks/openstack-hosts-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2fc0370f9a2813a8d8246f51addd87769b10a776', 'message': 'Add Centos-8 support\n\nDepends-On: https://review.opendev.org/742075\nDepends-On: https://review.opendev.org/742188\nDepends-On: https://review.opendev.org/742254\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}]",0,740289,2fc0370f9a2813a8d8246f51addd87769b10a776,33,4,7,28619,,,0,"Add Centos-8 support

Depends-On: https://review.opendev.org/742075
Depends-On: https://review.opendev.org/742188
Depends-On: https://review.opendev.org/742254
Change-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/89/740289/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/aio/quickstart.rst', 'releasenotes/notes/add-centos-8-support-af546bd6ca3b10cd.yaml', 'tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'zuul.d/playbooks/pre-gate-cleanup.yml', 'scripts/gate-check-commit.sh', 'tests/roles/bootstrap-host/defaults/main.yml', 'ansible-role-requirements.yml', 'tests/bootstrap-aio.yml', 'tests/roles/bootstrap-host/vars/redhat-8.yml', 'zuul.d/project-templates.yaml', 'tests/roles/bootstrap-host/tasks/check-requirements.yml', 'scripts/scripts-library.sh', 'inventory/group_vars/utility_all.yml', 'scripts/bootstrap-ansible.sh', 'zuul.d/project.yaml', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2', 'zuul.d/jobs.yaml', 'playbooks/openstack-hosts-setup.yml']",18,6744f32e559328ee6d501de3c6db215fe38134a5,osa/el8-stable/ussuri, (ansible_os_family == 'RedHat' and ansible_distribution_major_version == '8') or,,159,40
openstack%2Fopenstack-ansible~stable%2Fussuri~Iee8c1f982ab4acfc3b163fe7127a220fda9725dc,openstack/openstack-ansible,stable/ussuri,Iee8c1f982ab4acfc3b163fe7127a220fda9725dc,Bump role SHA for ussuri,MERGED,2020-07-20 13:31:34.000000000,2020-07-24 11:53:41.000000000,2020-07-24 11:50:38.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-20 13:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/45a1d0870eb52fe0ce3ad6f343e65d3e378d7fe9', 'message': 'Bump role SHA for ussuri\n\nWe need to bring forward the role SHA so that centos-8 support can merge\n\nChange-Id: Iee8c1f982ab4acfc3b163fe7127a220fda9725dc\n'}, {'number': 2, 'created': '2020-07-20 14:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/49398fa5e3a4a558deab4d1426ec1597362db537', 'message': 'Bump role SHA for ussuri\n\nWe need to bring forward the role SHA so that centos-8 support can merge.\n\nSwitch trackbranch from master to stable/ussuri so that release tooling\nworks properly.\n\nChange-Id: Iee8c1f982ab4acfc3b163fe7127a220fda9725dc\n'}, {'number': 3, 'created': '2020-07-23 06:52:06.000000000', 'files': ['releasenotes/notes/drop-machinectl-5053dc9833535cd9.yaml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/739f0d82cf997255498d0093bb3fe942bb1d9395', 'message': 'Bump role SHA for ussuri\n\nWe need to bring forward the role SHA so that centos-8 support can merge.\n\nSwitch trackbranch from master to stable/ussuri so that release tooling\nworks properly.\n\nChange-Id: Iee8c1f982ab4acfc3b163fe7127a220fda9725dc\n'}]",0,741939,739f0d82cf997255498d0093bb3fe942bb1d9395,24,4,3,25023,,,0,"Bump role SHA for ussuri

We need to bring forward the role SHA so that centos-8 support can merge.

Switch trackbranch from master to stable/ussuri so that release tooling
works properly.

Change-Id: Iee8c1f982ab4acfc3b163fe7127a220fda9725dc
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/39/741939/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-machinectl-5053dc9833535cd9.yaml', 'ansible-role-requirements.yml']",2,45a1d0870eb52fe0ce3ad6f343e65d3e378d7fe9,, version: 4ed672e3992f41dc4020ba68b8ea12d657a11710 version: 645f1241e86a0d87bc66d63a9f0e1b24637dfecb version: 065ca5ddf1732ac68b07a30cc7e866351167bdec version: 1a50abbc24268d237789167bf0d8187a296f3fad version: eaae389a4bf9708eb32bb820429da6343edeb7d5 version: 1b0a0c79bc352785cc7b40acb1800e4529054d9a version: 4c9642765e632d409c6d9028aae26f4514af7033 version: d61db1e68b77a1d7d9752af22efe990a2f12516e version: dbbb34e4c96b92e53f437690a9741d0357aef5bf version: 18c54d70648547a758395180e244f4c4b5084deb version: d649d1a362eec9502568be219eb3c4b3fffb5814 version: 08d2b28bd2206d06b1607cb5be3c13fb52fca7bc version: 4c2cc73d571dd86303bc16063951c13bec8af8c5 version: 372069994d0abfbca0e88a2cab469c7ad1a74c22 version: 37353286f42ff06053f114127d411771af85ac6e version: 842c899d8e28c4f05236a9f18acedcdba7067eec version: 8a134fd493fd858cb4ded1cf9beae049e8b6c53e version: f3ae47e349c31c338983faf99540abdec5ad2712 version: 9e5a7d7fc8b72ad4aa73280a7638b0554cf20d5c version: b7fd3bc844f445c694449b1ee22c14798a522551 version: 7461a113ad8275c11c692fd5405c9a9746e63172 version: 438e946a064074765b8dda560ff0ad5a2bee5bb8 version: aabd3c07c29fd89a56cadc01ec3a2e3b682e5e14 version: aad1a016968af473b81c66c36b74f9a5fe3e9751, version: 51356b811c0ab318572011e638ecdf61cfe3fd71 version: 662bf12050dfb429517db74624ae6b35807eea42 version: 6574de7090c70b12317bda0fc1a863cbee85f67a version: 1cb7920aff171fe1f5d4aa43ec6a00f1542e1d2a version: 3f015e6fed9adf44b96d8d6ccaaceaa881ab0295 version: fc6b619b73e4a2f2b1a5e9d0cd1667c323a74ba5 version: eda646382a53364078d87bf30877a5ea22f5a082 version: 774c41934eb86302cfbd4c84efcf966ffd0f863c version: c6b9f011b777aa0513e99a35fba7d976a4c9d4c1 version: dc0a9588b12bbf1e9d6427c0d6e4bd1b2d1aef47 version: 912a8346047207a4f3c3473e3760baf4c987158e version: 87a369485c75e8421947d9f0bf378ca704f9e357 version: de5066a8a87843a816ad64761861ddfcd56f2906 version: 6188087fba7d8e0ba4c3a16191ec51a2b4e6cf85 version: 6390c3b0ef6ad0ac8490d6afea62b7d26af1b38f version: 682f65d8ba534787f67388c263df3ff5cfb46407 version: 91181f7c4b55e992b1eb16493a9973ab9d02a057 version: 8f7b6b7749e4a271db670e438b52c6c44bbe6e55 version: c755eb300b12ecb659e92375fa0572efec74846f version: 48fd6e6b163f0a8c80f3a993cedcdae9ca754190 version: b701c30e62f005f0b1f4dc1a7753e00b24601bc4 version: 15a0be8cbb725c42b201dcf54f95b309b9b13305 version: cf3b1dbe7b3bdbe5632a88db5cac894ec8e7bb1e version: fe4d46af1001a5426205612eb7a68a83abe143be,32,24
openstack%2Fpython-tripleoclient~stable%2Fussuri~I7c43563381b694573801e6a54e973fdbd36e0798,openstack/python-tripleoclient,stable/ussuri,I7c43563381b694573801e6a54e973fdbd36e0798,Throw warning if --limit used with a skip list in Heat,MERGED,2020-07-21 12:34:30.000000000,2020-07-24 11:53:32.000000000,2020-07-24 11:52:01.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-21 12:34:30.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1f00cc641ddab3ee5016bde364af44256bc49d3d', 'message': 'Throw warning if --limit used with a skip list in Heat\n\nWe have recently switched the --limit option to take precedence over the\ndefined skip list via a Heat parameter. In order to prevent confusion\nbetween these two, we should throw a warning indicating that the\nparameter in Heat will be ignored when running ansible.\n\nDepends-On: https://review.opendev.org/#/c/741271/\nChange-Id: I7c43563381b694573801e6a54e973fdbd36e0798\nRelated-Bug: #1857298\n(cherry picked from commit 47dc9aae0e04856d8ffccd8c8c9b50d02c554aea)\n'}]",0,742168,1f00cc641ddab3ee5016bde364af44256bc49d3d,20,6,1,14985,,,0,"Throw warning if --limit used with a skip list in Heat

We have recently switched the --limit option to take precedence over the
defined skip list via a Heat parameter. In order to prevent confusion
between these two, we should throw a warning indicating that the
parameter in Heat will be ignored when running ansible.

Depends-On: https://review.opendev.org/#/c/741271/
Change-Id: I7c43563381b694573801e6a54e973fdbd36e0798
Related-Bug: #1857298
(cherry picked from commit 47dc9aae0e04856d8ffccd8c8c9b50d02c554aea)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/68/742168/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py', 'tripleoclient/v1/overcloud_deploy.py']",4,1f00cc641ddab3ee5016bde364af44256bc49d3d,bug/1857298-stable/ussuri," def _check_limit_skiplist_warning(self, env): if env.get('parameter_defaults').get('DeploymentServerBlacklist'): msg = _('[WARNING] DeploymentServerBlacklist is defined and will ' 'be ignored because --limit has been specified.') self.log.warning(msg) if parsed_args.limit: # check if skip list is defined while using --limit and throw a # warning if necessary self._check_limit_skiplist_warning(env) ",,103,0
openstack%2Foctavia~stable%2Fstein~I2346c8a3f2fa4b4eb8a004b4aaab93986228c371,openstack/octavia,stable/stein,I2346c8a3f2fa4b4eb8a004b4aaab93986228c371,Enabling SG customization on loadbalancer listerners,ABANDONED,2019-03-27 10:16:47.000000000,2020-07-24 11:50:25.000000000,,"[{'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-03-27 10:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f837da04d240351ff4d4a6e36eac2025586cbfe4', 'message': 'Enabling SG customization on loadbalancer listerners\n\nBy changing the SG ownership to belong to the tenant creating the\nloadbalancer we allow the tenant to define more fine grain access\npolicies their loadbalancer, such as only enabling access to a given\nport/protocol from a given remote id or subnet CIDR -- instead of\nhaving to open that port/protocol from everywhere.\n\nAs this security group is only used for the amphora VM created for\nthe specific load balancer, and the user could already open access\nto it through listeners on any port, protocol, giving full access to\nmodify the SG will not entitle any extra security concern.\n\nNote this can be a temporal solution until Octavia enables this\nflexibility through their own API\n\nChange-Id: I2346c8a3f2fa4b4eb8a004b4aaab93986228c371\nStory: 2003686\n'}, {'number': 2, 'created': '2019-09-18 13:48:58.000000000', 'files': ['octavia/common/config.py', 'octavia/tests/unit/network/drivers/neutron/test_base.py', 'doc/source/contributor/guides/dev-quick-start.rst', 'octavia/network/drivers/neutron/base.py', 'releasenotes/notes/vrrp-sg-project-id-14c323bc5e2077bb.yaml', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'etc/octavia.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d9a259f0341040f81aa4c015d5cf3fac20c21e46', 'message': 'Enabling SG customization on loadbalancer listerners\n\nBy changing the SG ownership to belong to the tenant creating the\nloadbalancer we allow the tenant to define more fine grain access\npolicies their loadbalancer, such as only enabling access to a given\nport/protocol from a given remote id or subnet CIDR -- instead of\nhaving to open that port/protocol from everywhere.\n\nAs this security group is only used for the amphora VM created for\nthe specific load balancer, and the user could already open access\nto it through listeners on any port, protocol, giving full access to\nmodify the SG will not entitle any extra security concern.\n\nNote this can be a temporal solution until Octavia enables this\nflexibility through their own API\n\nChange-Id: I2346c8a3f2fa4b4eb8a004b4aaab93986228c371\nStory: 2003686\n'}]",0,648069,d9a259f0341040f81aa4c015d5cf3fac20c21e46,8,3,2,23567,,,0,"Enabling SG customization on loadbalancer listerners

By changing the SG ownership to belong to the tenant creating the
loadbalancer we allow the tenant to define more fine grain access
policies their loadbalancer, such as only enabling access to a given
port/protocol from a given remote id or subnet CIDR -- instead of
having to open that port/protocol from everywhere.

As this security group is only used for the amphora VM created for
the specific load balancer, and the user could already open access
to it through listeners on any port, protocol, giving full access to
modify the SG will not entitle any extra security concern.

Note this can be a temporal solution until Octavia enables this
flexibility through their own API

Change-Id: I2346c8a3f2fa4b4eb8a004b4aaab93986228c371
Story: 2003686
",git fetch https://review.opendev.org/openstack/octavia refs/changes/69/648069/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'octavia/tests/unit/network/drivers/neutron/test_base.py', 'doc/source/contributor/guides/dev-quick-start.rst', 'octavia/network/drivers/neutron/base.py', 'releasenotes/notes/vrrp-sg-project-id-14c323bc5e2077bb.yaml', 'octavia/network/drivers/neutron/allowed_address_pairs.py', 'etc/octavia.conf']",7,f837da04d240351ff4d4a6e36eac2025586cbfe4,628016-stable/stein,# List of project ids that are allowed to have Load balancer security groups # belonging to them. # amp_secgroup_allowed_projects = ,,91,8
openstack%2Fcharm-mysql-innodb-cluster~master~Ia33c6263e616657d21b41fcf1a8abfb34e6cb58d,openstack/charm-mysql-innodb-cluster,master,Ia33c6263e616657d21b41fcf1a8abfb34e6cb58d,Set expel timeout to 5 seconds,MERGED,2020-07-23 13:27:45.000000000,2020-07-24 11:44:27.000000000,2020-07-24 11:20:15.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-23 13:27:45.000000000', 'files': ['src/config.yaml', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/reactive/mysql_innodb_cluster_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/5eb43790d4d33671edd8613558043150a84f3135', 'message': 'Set expel timeout to 5 seconds\n\nFocal has MySQL version 8.0.20-0ubuntu0.20.04.1 which sets\ngroup_replication_member_expel_timeout to 0 by default [0]. As a result,\ncluster members are expelled from the cluster 5 seconds after the loss\nof connectivity.\n\nThis proves to be too short for our CI and some other environments in\nthe wild.\n\nMySQL documentation for this option suggests that 5 or even 10 seconds\nmay be too low for congested or overcommitted environments which happens\nto be the case. As of MySQL 8.0.21 the default for\ngroup_replication_member_expel_timeout is set to 5 seconds.\n\n[0] https://dev.mysql.com/doc/refman/8.0/en/group-replication-options.html#sysvar_group_replication_member_expel_timeout\n[1] https://dev.mysql.com/doc/refman/8.0/en/group-replication-responses-failure-expel.html\n\nChange-Id: Ia33c6263e616657d21b41fcf1a8abfb34e6cb58d\nPartial-Bug: #1882205\n'}]",0,742664,5eb43790d4d33671edd8613558043150a84f3135,18,5,1,24824,,,0,"Set expel timeout to 5 seconds

Focal has MySQL version 8.0.20-0ubuntu0.20.04.1 which sets
group_replication_member_expel_timeout to 0 by default [0]. As a result,
cluster members are expelled from the cluster 5 seconds after the loss
of connectivity.

This proves to be too short for our CI and some other environments in
the wild.

MySQL documentation for this option suggests that 5 or even 10 seconds
may be too low for congested or overcommitted environments which happens
to be the case. As of MySQL 8.0.21 the default for
group_replication_member_expel_timeout is set to 5 seconds.

[0] https://dev.mysql.com/doc/refman/8.0/en/group-replication-options.html#sysvar_group_replication_member_expel_timeout
[1] https://dev.mysql.com/doc/refman/8.0/en/group-replication-responses-failure-expel.html

Change-Id: Ia33c6263e616657d21b41fcf1a8abfb34e6cb58d
Partial-Bug: #1882205
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/64/742664/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/reactive/mysql_innodb_cluster_handlers.py']",4,5eb43790d4d33671edd8613558043150a84f3135,bug/1882205," if reactive.is_flag_set('config.changed.expel-timeout'): instance.set_cluster_option( ""expelTimeout"", instance.options.expel_timeout)",,27,4
openstack%2Foctavia~stable%2Frocky~Ia3476ab7b24dc3fd6e29ff2abe6eb6bacd9908ed,openstack/octavia,stable/rocky,Ia3476ab7b24dc3fd6e29ff2abe6eb6bacd9908ed,Fix batch member create for v1 amphora driver,ABANDONED,2020-06-21 01:48:04.000000000,2020-07-24 11:42:11.000000000,,"[{'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-21 01:48:04.000000000', 'files': ['octavia/tests/unit/controller/worker/test_controller_worker.py', 'octavia/controller/worker/controller_worker.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/5cbeef4be4d447881ae20aeb7fea689c2a89397a', 'message': 'Fix batch member create for v1 amphora driver\n\nA previous patch[1] missed batch_member_update when adding database\nrepository ""get"" method retries for new object creation actions.\nThis patch fixes batch member create to retry the database get call\nwhen new members are being created via batch member update.\nThis issue only impacts the v1 amphora driver as the v2 driver\ndoes not need to get these objects from the database.\n\nStory: 2007581\nTask: 39503\n\n[1] https://github.com/openstack/octavia/commit/48e85569f7e43e3dd5f09fd1ef4cb165526a92cd\n\nChange-Id: Ia3476ab7b24dc3fd6e29ff2abe6eb6bacd9908ed\n'}]",0,737157,5cbeef4be4d447881ae20aeb7fea689c2a89397a,3,2,1,10366,,,0,"Fix batch member create for v1 amphora driver

A previous patch[1] missed batch_member_update when adding database
repository ""get"" method retries for new object creation actions.
This patch fixes batch member create to retry the database get call
when new members are being created via batch member update.
This issue only impacts the v1 amphora driver as the v2 driver
does not need to get these objects from the database.

Story: 2007581
Task: 39503

[1] https://github.com/openstack/octavia/commit/48e85569f7e43e3dd5f09fd1ef4cb165526a92cd

Change-Id: Ia3476ab7b24dc3fd6e29ff2abe6eb6bacd9908ed
",git fetch https://review.opendev.org/openstack/octavia refs/changes/57/737157/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/test_controller_worker.py', 'octavia/controller/worker/controller_worker.py']",2,5cbeef4be4d447881ae20aeb7fea689c2a89397a,," @tenacity.retry( retry=tenacity.retry_if_exception_type(db_exceptions.NoResultFound), wait=tenacity.wait_incrementing( RETRY_INITIAL_DELAY, RETRY_BACKOFF, RETRY_MAX), stop=tenacity.stop_after_attempt(RETRY_ATTEMPTS)) # The API may not have commited all of the new member records yet. # Make sure we retry looking them up. if None in new_members or len(new_members) != len(new_member_ids): LOG.warning('Failed to fetch one of the new members from DB. ' 'Retrying for up to 60 seconds.') raise db_exceptions.NoResultFound old_members = [self._member_repo.get(db_apis.get_session(), id=mid) for mid in old_member_ids]"," old_members = [self._member_repo.get(db_apis.get_session(), id=mid) for mid in old_member_ids]",16,3
openstack%2Foctavia~stable%2Frocky~I0213424eaafe079e7f9a9aaee8e29514c7e840f4,openstack/octavia,stable/rocky,I0213424eaafe079e7f9a9aaee8e29514c7e840f4,Remove install DIB from Git option and n-v grenade,ABANDONED,2020-06-18 20:06:33.000000000,2020-07-24 11:42:08.000000000,,"[{'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-18 20:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fd968ab75518fff31540e2690c9b4601f8f540a5', 'message': 'Remove install DIB from Git option\n\nDIB no longer supports Python 2 and is upper constrainted to 2.30.0.\nAllowing to install DIB from Git would cause nothing but trouble. Just\nrely on pip to a functional DIB version.\n\nChange-Id: I0213424eaafe079e7f9a9aaee8e29514c7e840f4\n(cherry picked from commit 0d2c567e3e52cea38f5e56ac10c07e4f13900735)\n'}, {'number': 2, 'created': '2020-06-19 10:35:02.000000000', 'files': ['playbooks/legacy/octavia-v1-dsvm-scenario-lxd/run.yaml', 'playbooks/legacy/octavia-v1-dsvm-scenario-multinode/run.yaml', 'playbooks/legacy/octavia-v1-dsvm-scenario/run.yaml', 'playbooks/legacy/octavia-v1-dsvm-scenario-kvm-centos.7/run.yaml', 'octavia/tests/contrib/gate_hook.sh', 'playbooks/legacy/octavia-v1-dsvm-py3x-scenario-multinode/run.yaml', 'devstack/plugin.sh', 'zuul.d/projects.yaml', 'playbooks/legacy/octavia-v1-dsvm-py3x-scenario/run.yaml', 'zuul.d/jobs.yaml', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/octavia/commit/03f80f6f8d266ce9ccdbc46bf9af11cbdac7162f', 'message': ""Remove install DIB from Git option and n-v grenade\n\nDIB no longer supports Python 2 and is upper constrainted to 2.30.0.\nAllowing to install DIB from Git would cause nothing but trouble. Just\nrely on pip to a functional DIB version.\n\nThis patch also sets octavia-grenade job non-voting.\n\nA recent uWSGI release broke devstack master and stable branches. It's\nbecoming increasingly difficult to maintain branches in Extended\nMaintenance, especially the grenade job which depends on an older\nrelease. The OpenStack QA team has decided [1] that the best thing to do\nis to only perform upgrade testing between the current source contents\nof adjacent Maintained or Development status branches.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html\n\nChange-Id: I0213424eaafe079e7f9a9aaee8e29514c7e840f4\n""}]",0,736825,03f80f6f8d266ce9ccdbc46bf9af11cbdac7162f,6,2,2,6469,,,0,"Remove install DIB from Git option and n-v grenade

DIB no longer supports Python 2 and is upper constrainted to 2.30.0.
Allowing to install DIB from Git would cause nothing but trouble. Just
rely on pip to a functional DIB version.

This patch also sets octavia-grenade job non-voting.

A recent uWSGI release broke devstack master and stable branches. It's
becoming increasingly difficult to maintain branches in Extended
Maintenance, especially the grenade job which depends on an older
release. The OpenStack QA team has decided [1] that the best thing to do
is to only perform upgrade testing between the current source contents
of adjacent Maintained or Development status branches.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html

Change-Id: I0213424eaafe079e7f9a9aaee8e29514c7e840f4
",git fetch https://review.opendev.org/openstack/octavia refs/changes/25/736825/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'zuul.d/jobs.yaml']",2,fd968ab75518fff31540e2690c9b4601f8f540a5,octavia-grenade,, - openstack/diskimage-builder - openstack/diskimage-builder,4,14
openstack%2Foctavia~stable%2Frocky~I96908e6cbdb523f95298aff463a749d15e98e1ad,openstack/octavia,stable/rocky,I96908e6cbdb523f95298aff463a749d15e98e1ad,Fix update API when barbican secret is missing,ABANDONED,2020-04-17 13:01:07.000000000,2020-07-24 11:42:05.000000000,,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-17 13:01:07.000000000', 'files': ['octavia/api/v2/controllers/load_balancer.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/v2/controllers/listener.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d159259d451ce4a893bc75618eb251cf92b04ca0', 'message': 'Fix update API when barbican secret is missing\n\nAPI update calls were blocked if the load balancer had a TLS\nterminated listener that the secret has been removed from barbican.\nThis patch corrects this problem allowing users to update the\ncertificate reference.\n\nChange-Id: I96908e6cbdb523f95298aff463a749d15e98e1ad\nStory: 2006676\nTask: 37322\n(cherry picked from commit 5af97a248b2c20cd12d743b124fec9848b1d965c)\n(cherry picked from commit db75e58e532b08852c3b5a71d835ea42dcf61526)\n'}]",0,720706,d159259d451ce4a893bc75618eb251cf92b04ca0,12,5,1,6469,,,0,"Fix update API when barbican secret is missing

API update calls were blocked if the load balancer had a TLS
terminated listener that the secret has been removed from barbican.
This patch corrects this problem allowing users to update the
certificate reference.

Change-Id: I96908e6cbdb523f95298aff463a749d15e98e1ad
Story: 2006676
Task: 37322
(cherry picked from commit 5af97a248b2c20cd12d743b124fec9848b1d965c)
(cherry picked from commit db75e58e532b08852c3b5a71d835ea42dcf61526)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/06/720706/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/v2/controllers/load_balancer.py', 'octavia/tests/functional/api/v2/test_listener.py', 'octavia/api/v2/controllers/listener.py']",3,d159259d451ce4a893bc75618eb251cf92b04ca0,," old_provider_listener = ( driver_utils.db_listener_to_provider_listener(db_listener, for_delete=True)) old_provider_listener,"," old_provider_llistener = ( driver_utils.db_listener_to_provider_listener(db_listener)) old_provider_llistener,",26,4
openstack%2Foctavia~stable%2Frocky~Ib0fc26877710dea423a5ebcf1f71077665404377,openstack/octavia,stable/rocky,Ib0fc26877710dea423a5ebcf1f71077665404377,Workaround peer name starting with hyphen,ABANDONED,2020-06-01 18:05:23.000000000,2020-07-24 11:41:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-01 18:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/779588b1a57a59dfb08f02ab29622df53b05ebd8', 'message': ""Workaround peer name starting with hyphen\n\nThe base64_sha_string method is used to set a base64-encoded peer name\nin HAProxy. There are cases where the peer name can start with\nan hypen which is troublesome when used in HAProxy CLI. Specifically,\nHAProxy fails to reload when local peer name starts with '-x' [1]. When\nthis is the case, an amphora goes to provisioning status ERROR and later\nis scheduled for failover by the Octavia Health Manager service. A new\namphora UUUID is assigned and base64 encoded, hopefully not starting\nwith '-x' again. However, this is far from being ideal -- we incur in a\ndataplane disruption (single topology) or reduce HA capabilities\n(active-standby topology) for some time.\n\nFour possible options:\n\na) add prefix to peer name\nb) change b64encode altchars\nc) quote peer name in haproxy CLI command\nd) substitute first character if hyphen\n\nOption a) and b) are not backward compatible with running amphorae. Peer\nnames of existing amphorae that do not start with hypen but contain\nhyphen at any other position would get different peer names.\n\nOption c) would nonetheless still require an amphora image update to add\nquotes in the HAProxy init service file. Continuing to generate peer\nnames with hyphens at begininng of the string is avoidable and\nrecommended.\n\nOption d), while also requiring an amphora image update, it would get\nrid of hyphens in begining of the peer names. It is also backward\ncompatible with all running amphorae, except for those starting with\nhyphen but are broken anyways.\n\nThis patch takes option d). It substitutes hyphen with 'x' character.\n\n[1] https://github.com/haproxy/haproxy/issues/644\n\nTask: 39850\nStory: 2007714\n\nChange-Id: Ib0fc26877710dea423a5ebcf1f71077665404377\n(cherry picked from commit acc38391dea12a7f70142077250d15a4eb53cb87)\n(cherry picked from commit df36c2c8ca54e9b8f63bb3c0231e85f1b87b35b3)\n(cherry picked from commit 1975bd1d2926a1e30fe2e21dbf242b8d26e19d50)\n(cherry picked from commit 331393a167c829016fb31df971b06961b499914a)\n""}, {'number': 2, 'created': '2020-06-02 09:01:25.000000000', 'files': ['octavia/common/utils.py', 'releasenotes/notes/fix-peer-name-prefix-hypen-e74a87e9a01b4f4c.yaml', 'octavia/tests/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b1eb5de99c624dfd9e2900b192b74b816bd17d1e', 'message': ""Workaround peer name starting with hyphen\n\nThe base64_sha_string method is used to set a base64-encoded peer name\nin HAProxy. There are cases where the peer name can start with\nan hypen which is troublesome when used in HAProxy CLI. Specifically,\nHAProxy fails to reload when local peer name starts with '-x' [1]. When\nthis is the case, an amphora goes to provisioning status ERROR and later\nis scheduled for failover by the Octavia Health Manager service. A new\namphora UUUID is assigned and base64 encoded, hopefully not starting\nwith '-x' again. However, this is far from being ideal -- we incur in a\ndataplane disruption (single topology) or reduce HA capabilities\n(active-standby topology) for some time.\n\nFour possible options:\n\na) add prefix to peer name\nb) change b64encode altchars\nc) quote peer name in haproxy CLI command\nd) substitute first character if hyphen\n\nOption a) and b) are not backward compatible with running amphorae. Peer\nnames of existing amphorae that do not start with hypen but contain\nhyphen at any other position would get different peer names.\n\nOption c) would nonetheless still require an amphora image update to add\nquotes in the HAProxy init service file. Continuing to generate peer\nnames with hyphens at begininng of the string is avoidable and\nrecommended.\n\nOption d), while also requiring an amphora image update, it would get\nrid of hyphens in begining of the peer names. It is also backward\ncompatible with all running amphorae, except for those starting with\nhyphen but are broken anyways.\n\nThis patch takes option d). It substitutes hyphen with 'x' character.\n\n[1] https://github.com/haproxy/haproxy/issues/644\n\nTask: 39850\nStory: 2007714\n\nChange-Id: Ib0fc26877710dea423a5ebcf1f71077665404377\n(cherry picked from commit acc38391dea12a7f70142077250d15a4eb53cb87)\n(cherry picked from commit df36c2c8ca54e9b8f63bb3c0231e85f1b87b35b3)\n(cherry picked from commit e0b53b2cc7a977d903328e43bac68c0b378439f5)\n(cherry picked from commit b64dcdc38fd76b0bbad23b7b9663425ec6ac0891)\n""}]",1,732433,b1eb5de99c624dfd9e2900b192b74b816bd17d1e,5,1,2,6469,,,0,"Workaround peer name starting with hyphen

The base64_sha_string method is used to set a base64-encoded peer name
in HAProxy. There are cases where the peer name can start with
an hypen which is troublesome when used in HAProxy CLI. Specifically,
HAProxy fails to reload when local peer name starts with '-x' [1]. When
this is the case, an amphora goes to provisioning status ERROR and later
is scheduled for failover by the Octavia Health Manager service. A new
amphora UUUID is assigned and base64 encoded, hopefully not starting
with '-x' again. However, this is far from being ideal -- we incur in a
dataplane disruption (single topology) or reduce HA capabilities
(active-standby topology) for some time.

Four possible options:

a) add prefix to peer name
b) change b64encode altchars
c) quote peer name in haproxy CLI command
d) substitute first character if hyphen

Option a) and b) are not backward compatible with running amphorae. Peer
names of existing amphorae that do not start with hypen but contain
hyphen at any other position would get different peer names.

Option c) would nonetheless still require an amphora image update to add
quotes in the HAProxy init service file. Continuing to generate peer
names with hyphens at begininng of the string is avoidable and
recommended.

Option d), while also requiring an amphora image update, it would get
rid of hyphens in begining of the peer names. It is also backward
compatible with all running amphorae, except for those starting with
hyphen but are broken anyways.

This patch takes option d). It substitutes hyphen with 'x' character.

[1] https://github.com/haproxy/haproxy/issues/644

Task: 39850
Story: 2007714

Change-Id: Ib0fc26877710dea423a5ebcf1f71077665404377
(cherry picked from commit acc38391dea12a7f70142077250d15a4eb53cb87)
(cherry picked from commit df36c2c8ca54e9b8f63bb3c0231e85f1b87b35b3)
(cherry picked from commit e0b53b2cc7a977d903328e43bac68c0b378439f5)
(cherry picked from commit b64dcdc38fd76b0bbad23b7b9663425ec6ac0891)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/33/732433/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/utils.py', 'releasenotes/notes/fix-peer-name-prefix-hypen-e74a87e9a01b4f4c.yaml', 'octavia/tests/unit/common/test_utils.py']",3,779588b1a57a59dfb08f02ab29622df53b05ebd8,," def test_base64_sha1_string(self): str_to_sha1 = [ # no special cases str (no altchars) ('77e7d60d-e137-4246-8a84-a25db33571cd', 'iVZVQ5AKmk2Ae0uGLP0Ue4OseRM='), # backward compat amphorae with - in str[1:] ('9c6e5f27-a0da-4ceb-afe5-5a81230be42e', 'NjrNgt3Egl-H5ScbYM5ChtUH3M8='), # sha1 would start with -, now replaced with x ('4db4a3cf-9fef-4057-b1fd-b2afbf7a8a0f', 'xxqntK8jJ_gE3QEmh-D1-XgCW_E=') ] for str, sha1 in str_to_sha1: self.assertEqual(sha1, utils.base64_sha1_string(str))",,28,1
openstack%2Foctavia~stable%2Frocky~I2fd51664336dca51f134b3fccd3e8c936b809839,openstack/octavia,stable/rocky,I2fd51664336dca51f134b3fccd3e8c936b809839,HTTPS HMs need the same validation path as HTTP,ABANDONED,2020-02-27 00:31:34.000000000,2020-07-24 11:41:55.000000000,,"[{'_account_id': 1916}, {'_account_id': 2733}, {'_account_id': 2846}, {'_account_id': 6469}, {'_account_id': 6593}, {'_account_id': 10273}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 14892}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-27 00:31:34.000000000', 'files': ['octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/api/v2/controllers/health_monitor.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d273100ed72dff6f36dff52745a180a426e3788d', 'message': 'HTTPS HMs need the same validation path as HTTP\n\nChange-Id: I2fd51664336dca51f134b3fccd3e8c936b809839\n(cherry picked from commit 7dd6f8b846015e6fbe75af09ee3a5108741b1626)\n'}]",0,710161,d273100ed72dff6f36dff52745a180a426e3788d,29,11,1,1916,,,0,"HTTPS HMs need the same validation path as HTTP

Change-Id: I2fd51664336dca51f134b3fccd3e8c936b809839
(cherry picked from commit 7dd6f8b846015e6fbe75af09ee3a5108741b1626)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/61/710161/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/api/v2/controllers/health_monitor.py']",2,d273100ed72dff6f36dff52745a180a426e3788d,," if hm_dict[consts.TYPE] not in (consts.HEALTH_MONITOR_HTTP, consts.HEALTH_MONITOR_HTTPS):", if hm_dict[consts.TYPE] != consts.HEALTH_MONITOR_HTTP:,18,1
openstack%2Foctavia~stable%2Frocky~I335287da66524d026f0c42086d885b478c568bbd,openstack/octavia,stable/rocky,I335287da66524d026f0c42086d885b478c568bbd,Fix the interface filenames for Red Hat amphora images,ABANDONED,2020-01-28 18:20:46.000000000,2020-07-24 11:41:50.000000000,,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 30657}]","[{'number': 1, 'created': '2020-01-28 18:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/32eb3a9ec105ff5ef38a26e898a59cdc7450e6df', 'message': ""Fix the interface filenames for Red Hat amphora images\n\nCode was not using the correct filenames for the 'route',\n'route6', 'rule' and 'rule6' files on Red Hat images.\nChanged to use config option 'agent_server_network_file'\nif it's specified, else the file of the correct name, and\nadded unit tests for each.\n\nChange-Id: I335287da66524d026f0c42086d885b478c568bbd\nTask: 37881\nStory: 2007051\n(cherry picked from commit 93cd9fc075b3d77490090b89e449f18938710b26)\n""}, {'number': 2, 'created': '2020-01-28 21:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f5f185bddf27b2cbe4351e436226f48c1691901b', 'message': ""Fix the interface filenames for Red Hat amphora images\n\nCode was not using the correct filenames for the 'route',\n'route6', 'rule' and 'rule6' files on Red Hat images.\nChanged to use config option 'agent_server_network_file'\nif it's specified, else the file of the correct name, and\nadded unit tests for each.\n\nConflicts:\n  octavia/tests/unit/amphorae/backends/agent/api_server/test_osutils.py\n\nChange-Id: I335287da66524d026f0c42086d885b478c568bbd\nTask: 37881\nStory: 2007051\n(cherry picked from commit 93cd9fc075b3d77490090b89e449f18938710b26)\n""}, {'number': 3, 'created': '2020-02-18 22:11:02.000000000', 'files': ['releasenotes/notes/fix-redhat-amphora-images-interface-files-5ba1be40c65940d9.yaml', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_osutils.py', 'octavia/amphorae/backends/agent/api_server/osutils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/61b95a330d25932ed87f9658e983d2b2bdd65586', 'message': ""Fix the interface filenames for Red Hat amphora images\n\nCode was not using the correct filenames for the 'route',\n'route6', 'rule' and 'rule6' files on Red Hat images.\nChanged to use config option 'agent_server_network_file'\nif it's specified, else the file of the correct name, and\nadded unit tests for each.\n\nConflicts:\n  octavia/tests/unit/amphorae/backends/agent/api_server/test_osutils.py\n\nChange-Id: I335287da66524d026f0c42086d885b478c568bbd\nTask: 37881\nStory: 2007051\n(cherry picked from commit 93cd9fc075b3d77490090b89e449f18938710b26)\n""}]",0,704653,61b95a330d25932ed87f9658e983d2b2bdd65586,23,6,3,1131,,,0,"Fix the interface filenames for Red Hat amphora images

Code was not using the correct filenames for the 'route',
'route6', 'rule' and 'rule6' files on Red Hat images.
Changed to use config option 'agent_server_network_file'
if it's specified, else the file of the correct name, and
added unit tests for each.

Conflicts:
  octavia/tests/unit/amphorae/backends/agent/api_server/test_osutils.py

Change-Id: I335287da66524d026f0c42086d885b478c568bbd
Task: 37881
Story: 2007051
(cherry picked from commit 93cd9fc075b3d77490090b89e449f18938710b26)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/53/704653/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-redhat-amphora-images-interface-files-5ba1be40c65940d9.yaml', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_osutils.py']",3,32eb3a9ec105ff5ef38a26e898a59cdc7450e6df,fix_route_file_rh-stable/rocky," def _test_RH_get_static_routes_interface_file(self, version): conf = self.useFixture(oslo_fixture.Config(config.cfg.CONF)) fake_agent_server_network_dir = ""/path/to/interface"" fake_agent_server_network_file = ""/path/to/interfaces_file"" route = 'route6' if version == 6 else 'route' rh_route_name = '{route}-{nic}'.format( route=route, nic=consts.NETNS_PRIMARY_INTERFACE) rh_fake_route_path = os.path.join(fake_agent_server_network_dir, rh_route_name) rh_real_route_path = os.path.join( consts.RH_AMP_NET_DIR_TEMPLATE.format( netns=consts.AMPHORA_NAMESPACE), rh_route_name) # Check that agent_server_network_file is returned, when provided conf.config(group=""amphora_agent"", agent_server_network_file=fake_agent_server_network_file) rh_route_file = ( self.rh_os_util. get_static_routes_interface_file(consts.NETNS_PRIMARY_INTERFACE, version)) self.assertEqual(fake_agent_server_network_file, rh_route_file) # Check that agent_server_network_dir is used, when provided conf.config(group=""amphora_agent"", agent_server_network_file=None) conf.config(group=""amphora_agent"", agent_server_network_dir=fake_agent_server_network_dir) rh_route_file = ( self.rh_os_util. get_static_routes_interface_file(consts.NETNS_PRIMARY_INTERFACE, version)) self.assertEqual(rh_fake_route_path, rh_route_file) # Check When neither agent_server_network_dir or # agent_server_network_file where provided. conf.config(group=""amphora_agent"", agent_server_network_file=None) conf.config(group=""amphora_agent"", agent_server_network_dir=None) rh_route_file = ( self.rh_os_util. get_static_routes_interface_file(consts.NETNS_PRIMARY_INTERFACE, version)) self.assertEqual(rh_real_route_path, rh_route_file) def test_RH_get_static_routes_interface_file(self): self._test_RH_get_static_routes_interface_file(4) def test_RH_get_static_routes_interface_file_ipv6(self): self._test_RH_get_static_routes_interface_file(6) def _test_RH_get_route_rules_interface_file(self, version): conf = self.useFixture(oslo_fixture.Config(config.cfg.CONF)) fake_agent_server_network_dir = ""/path/to/interface"" fake_agent_server_network_file = ""/path/to/interfaces_file"" rule = 'rule6' if version == 6 else 'rule' rh_route_rules_name = '{rule}-{nic}'.format( rule=rule, nic=consts.NETNS_PRIMARY_INTERFACE) rh_fake_route_rules_path = os.path.join(fake_agent_server_network_dir, rh_route_rules_name) rh_real_route_rules_path = os.path.join( consts.RH_AMP_NET_DIR_TEMPLATE.format( netns=consts.AMPHORA_NAMESPACE), rh_route_rules_name) # Check that agent_server_network_file is returned, when provided conf.config(group=""amphora_agent"", agent_server_network_file=fake_agent_server_network_file) rh_route_rules_file = ( self.rh_os_util. get_route_rules_interface_file(consts.NETNS_PRIMARY_INTERFACE, version)) self.assertEqual(fake_agent_server_network_file, rh_route_rules_file) # Check that agent_server_network_dir is used, when provided conf.config(group=""amphora_agent"", agent_server_network_file=None) conf.config(group=""amphora_agent"", agent_server_network_dir=fake_agent_server_network_dir) rh_route_rules_file = ( self.rh_os_util. get_route_rules_interface_file(consts.NETNS_PRIMARY_INTERFACE, version)) self.assertEqual(rh_fake_route_rules_path, rh_route_rules_file) # Check When neither agent_server_network_dir or # agent_server_network_file where provided. conf.config(group=""amphora_agent"", agent_server_network_file=None) conf.config(group=""amphora_agent"", agent_server_network_dir=None) rh_route_rules_file = ( self.rh_os_util. get_route_rules_interface_file(consts.NETNS_PRIMARY_INTERFACE, version)) self.assertEqual(rh_real_route_rules_path, rh_route_rules_file) def test_RH_get_route_rules_interface_file(self): self._test_RH_get_route_rules_interface_file(4) def test_RH_get_route_rules_interface_file_ipv6(self): self._test_RH_get_route_rules_interface_file(6) FIXED_IP = u'192.0.2.2' NEXTHOP = u'192.0.2.1' DEST = u'198.51.100.0/24' host_routes = [ {'nexthop': NEXTHOP, 'destination': ipaddress.ip_network(DEST)} ] FIXED_IP_IPV6 = u'2001:db8::2' NEXTHOP_IPV6 = u'2001:db8::1' DEST_IPV6 = u'2001:db8:51:100::/64' host_routes_ipv6 = [ {'nexthop': NEXTHOP_IPV6, 'destination': ipaddress.ip_network(DEST_IPV6)} ] ip_addr = {'ip_address': FIXED_IP, 'host_routes': host_routes} ipv6_addr = {'ip_address': FIXED_IP_IPV6, 'host_routes': host_routes_ipv6} fixed_ips = [ip_addr, ipv6_addr] mock_local_scripts = mock.MagicMock() mock_wr_fi = mock.MagicMock() mock_gen_text.reset_mock() with mock.patch('os.open'), mock.patch.object( os, 'fdopen', mock_open), mock.patch.object( osutils.BaseOS, '_generate_network_file_text', mock_gen_text), mock.patch.object( osutils.RH, '_write_ifup_ifdown_local_scripts_if_possible', mock_local_scripts), mock.patch.object( osutils.RH, 'write_static_routes_interface_file', mock_wr_fi): self.rh_os_util.write_port_interface_file( netns_interface=netns_interface, fixed_ips=fixed_ips, mtu=MTU, interface_file_path=path, template_port=mock_template) rh_route_name = 'route-{nic}'.format(nic=netns_interface) rh_real_route_path = os.path.join( consts.RH_AMP_NET_DIR_TEMPLATE.format( netns=consts.AMPHORA_NAMESPACE), rh_route_name) rh_route_name_ipv6 = 'route6-{nic}'.format(nic=netns_interface) rh_real_route_path_ipv6 = os.path.join( consts.RH_AMP_NET_DIR_TEMPLATE.format( netns=consts.AMPHORA_NAMESPACE), rh_route_name_ipv6) exp_routes = [ {'network': ipaddress.ip_network(DEST), 'gw': NEXTHOP} ] exp_routes_ipv6 = [ {'network': ipaddress.ip_network(DEST_IPV6), 'gw': NEXTHOP_IPV6} ] expected_calls = [ mock.call(rh_real_route_path, netns_interface, exp_routes, mock.ANY, None, None, None), mock.call(rh_real_route_path_ipv6, netns_interface, exp_routes_ipv6, mock.ANY, None, None, None)] mock_gen_text.assert_called_once_with( netns_interface, fixed_ips, MTU, mock_template) self.assertEqual(2, mock_wr_fi.call_count) mock_wr_fi.assert_has_calls(expected_calls) mock_local_scripts.assert_called_once() ", fixed_ips = [],219,15
openstack%2Foctavia~stable%2Fqueens~Ia3476ab7b24dc3fd6e29ff2abe6eb6bacd9908ed,openstack/octavia,stable/queens,Ia3476ab7b24dc3fd6e29ff2abe6eb6bacd9908ed,Allow DB retries on controller_worker creates,ABANDONED,2020-06-21 01:48:24.000000000,2020-07-24 11:41:22.000000000,,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-21 01:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/27d83ca016340f329ac1303bfbde71c82043e37b', 'message': 'Fix batch member create for v1 amphora driver\n\nA previous patch[1] missed batch_member_update when adding database\nrepository ""get"" method retries for new object creation actions.\nThis patch fixes batch member create to retry the database get call\nwhen new members are being created via batch member update.\nThis issue only impacts the v1 amphora driver as the v2 driver\ndoes not need to get these objects from the database.\n\nStory: 2007581\nTask: 39503\n\n[1] https://github.com/openstack/octavia/commit/48e85569f7e43e3dd5f09fd1ef4cb165526a92cd\n\nChange-Id: Ia3476ab7b24dc3fd6e29ff2abe6eb6bacd9908ed\n'}, {'number': 2, 'created': '2020-06-21 03:05:01.000000000', 'files': ['octavia/tests/unit/controller/worker/test_controller_worker.py', 'requirements.txt', 'octavia/controller/worker/controller_worker.py', 'octavia/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c54cb8f201526d17742f9f49da2f725e37f70e25', 'message': 'Allow DB retries on controller_worker creates\n\nTemporary workaround for commit ordering issues with the amphora driver,\nuntil the driver can be rewritten against the real driver interface.\n\nStory: 2002127\nTask: 19809\nChange-Id: Idfaca392b278a6efad36e51adaedc6c80372a006\n\nFix batch member create for v1 amphora driver\n\nA previous patch[1] missed batch_member_update when adding database\nrepository ""get"" method retries for new object creation actions.\nThis patch fixes batch member create to retry the database get call\nwhen new members are being created via batch member update.\nThis issue only impacts the v1 amphora driver as the v2 driver\ndoes not need to get these objects from the database.\n\nStory: 2007581\nTask: 39503\n\n[1] https://github.com/openstack/octavia/commit/48e85569f7e43e3dd5f09fd1ef4cb165526a92cd\n\nChange-Id: Ia3476ab7b24dc3fd6e29ff2abe6eb6bacd9908ed\n'}]",10,737158,c54cb8f201526d17742f9f49da2f725e37f70e25,6,3,2,10366,,,0,"Allow DB retries on controller_worker creates

Temporary workaround for commit ordering issues with the amphora driver,
until the driver can be rewritten against the real driver interface.

Story: 2002127
Task: 19809
Change-Id: Idfaca392b278a6efad36e51adaedc6c80372a006

Fix batch member create for v1 amphora driver

A previous patch[1] missed batch_member_update when adding database
repository ""get"" method retries for new object creation actions.
This patch fixes batch member create to retry the database get call
when new members are being created via batch member update.
This issue only impacts the v1 amphora driver as the v2 driver
does not need to get these objects from the database.

Story: 2007581
Task: 39503

[1] https://github.com/openstack/octavia/commit/48e85569f7e43e3dd5f09fd1ef4cb165526a92cd

Change-Id: Ia3476ab7b24dc3fd6e29ff2abe6eb6bacd9908ed
",git fetch https://review.opendev.org/openstack/octavia refs/changes/58/737158/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/test_controller_worker.py', 'octavia/controller/worker/controller_worker.py']",2,27d83ca016340f329ac1303bfbde71c82043e37b,," @tenacity.retry( retry=tenacity.retry_if_exception_type(db_exceptions.NoResultFound), wait=tenacity.wait_incrementing( RETRY_INITIAL_DELAY, RETRY_BACKOFF, RETRY_MAX), stop=tenacity.stop_after_attempt(RETRY_ATTEMPTS)) # The API may not have commited all of the new member records yet. # Make sure we retry looking them up. if None in new_members or len(new_members) != len(new_member_ids): LOG.warning('Failed to fetch one of the new members from DB. ' 'Retrying for up to 60 seconds.') raise db_exceptions.NoResultFound old_members = [self._member_repo.get(db_apis.get_session(), id=mid) for mid in old_member_ids]"," old_members = [self._member_repo.get(db_apis.get_session(), id=mid) for mid in old_member_ids]",16,3
openstack%2Foctavia~stable%2Fqueens~I0213424eaafe079e7f9a9aaee8e29514c7e840f4,openstack/octavia,stable/queens,I0213424eaafe079e7f9a9aaee8e29514c7e840f4,Remove install DIB from Git option,ABANDONED,2020-06-18 20:07:15.000000000,2020-07-24 11:41:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-18 20:07:15.000000000', 'files': ['devstack/plugin.sh', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/377861ed6023295ee9c6c17d37a4a0683bff3345', 'message': 'Remove install DIB from Git option\n\nDIB no longer supports Python 2 and is upper constrainted to 2.30.0.\nAllowing to install DIB from Git would cause nothing but trouble. Just\nrely on pip to a functional DIB version.\n\nChange-Id: I0213424eaafe079e7f9a9aaee8e29514c7e840f4\n(cherry picked from commit 0d2c567e3e52cea38f5e56ac10c07e4f13900735)\n(cherry picked from commit fd968ab75518fff31540e2690c9b4601f8f540a5)\n'}]",0,736826,377861ed6023295ee9c6c17d37a4a0683bff3345,3,1,1,6469,,,0,"Remove install DIB from Git option

DIB no longer supports Python 2 and is upper constrainted to 2.30.0.
Allowing to install DIB from Git would cause nothing but trouble. Just
rely on pip to a functional DIB version.

Change-Id: I0213424eaafe079e7f9a9aaee8e29514c7e840f4
(cherry picked from commit 0d2c567e3e52cea38f5e56ac10c07e4f13900735)
(cherry picked from commit fd968ab75518fff31540e2690c9b4601f8f540a5)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/26/736826/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'zuul.d/jobs.yaml']",2,377861ed6023295ee9c6c17d37a4a0683bff3345,octavia-grenade,, - openstack/diskimage-builder - openstack/diskimage-builder,4,14
openstack%2Foctavia~stable%2Fqueens~Ib0fc26877710dea423a5ebcf1f71077665404377,openstack/octavia,stable/queens,Ib0fc26877710dea423a5ebcf1f71077665404377,Workaround peer name starting with hyphen,ABANDONED,2020-06-01 18:06:45.000000000,2020-07-24 11:41:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-01 18:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9f2a011f7c7ad0a074aedfab04006cc231a5f83d', 'message': ""Workaround peer name starting with hyphen\n\nThe base64_sha_string method is used to set a base64-encoded peer name\nin HAProxy. There are cases where the peer name can start with\nan hypen which is troublesome when used in HAProxy CLI. Specifically,\nHAProxy fails to reload when local peer name starts with '-x' [1]. When\nthis is the case, an amphora goes to provisioning status ERROR and later\nis scheduled for failover by the Octavia Health Manager service. A new\namphora UUUID is assigned and base64 encoded, hopefully not starting\nwith '-x' again. However, this is far from being ideal -- we incur in a\ndataplane disruption (single topology) or reduce HA capabilities\n(active-standby topology) for some time.\n\nFour possible options:\n\na) add prefix to peer name\nb) change b64encode altchars\nc) quote peer name in haproxy CLI command\nd) substitute first character if hyphen\n\nOption a) and b) are not backward compatible with running amphorae. Peer\nnames of existing amphorae that do not start with hypen but contain\nhyphen at any other position would get different peer names.\n\nOption c) would nonetheless still require an amphora image update to add\nquotes in the HAProxy init service file. Continuing to generate peer\nnames with hyphens at begininng of the string is avoidable and\nrecommended.\n\nOption d), while also requiring an amphora image update, it would get\nrid of hyphens in begining of the peer names. It is also backward\ncompatible with all running amphorae, except for those starting with\nhyphen but are broken anyways.\n\nThis patch takes option d). It substitutes hyphen with 'x' character.\n\n[1] https://github.com/haproxy/haproxy/issues/644\n\nTask: 39850\nStory: 2007714\n\nChange-Id: Ib0fc26877710dea423a5ebcf1f71077665404377\n(cherry picked from commit acc38391dea12a7f70142077250d15a4eb53cb87)\n(cherry picked from commit df36c2c8ca54e9b8f63bb3c0231e85f1b87b35b3)\n(cherry picked from commit 1975bd1d2926a1e30fe2e21dbf242b8d26e19d50)\n(cherry picked from commit 331393a167c829016fb31df971b06961b499914a)\n(cherry picked from commit 779588b1a57a59dfb08f02ab29622df53b05ebd8)\n""}, {'number': 2, 'created': '2020-06-02 09:02:02.000000000', 'files': ['octavia/common/utils.py', 'releasenotes/notes/fix-peer-name-prefix-hypen-e74a87e9a01b4f4c.yaml', 'octavia/tests/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/ec6ee78067fb6d6b6c2863e9b71cb9afaa8dc8f2', 'message': ""Workaround peer name starting with hyphen\n\nThe base64_sha_string method is used to set a base64-encoded peer name\nin HAProxy. There are cases where the peer name can start with\nan hypen which is troublesome when used in HAProxy CLI. Specifically,\nHAProxy fails to reload when local peer name starts with '-x' [1]. When\nthis is the case, an amphora goes to provisioning status ERROR and later\nis scheduled for failover by the Octavia Health Manager service. A new\namphora UUUID is assigned and base64 encoded, hopefully not starting\nwith '-x' again. However, this is far from being ideal -- we incur in a\ndataplane disruption (single topology) or reduce HA capabilities\n(active-standby topology) for some time.\n\nFour possible options:\n\na) add prefix to peer name\nb) change b64encode altchars\nc) quote peer name in haproxy CLI command\nd) substitute first character if hyphen\n\nOption a) and b) are not backward compatible with running amphorae. Peer\nnames of existing amphorae that do not start with hypen but contain\nhyphen at any other position would get different peer names.\n\nOption c) would nonetheless still require an amphora image update to add\nquotes in the HAProxy init service file. Continuing to generate peer\nnames with hyphens at begininng of the string is avoidable and\nrecommended.\n\nOption d), while also requiring an amphora image update, it would get\nrid of hyphens in begining of the peer names. It is also backward\ncompatible with all running amphorae, except for those starting with\nhyphen but are broken anyways.\n\nThis patch takes option d). It substitutes hyphen with 'x' character.\n\n[1] https://github.com/haproxy/haproxy/issues/644\n\nTask: 39850\nStory: 2007714\n\nChange-Id: Ib0fc26877710dea423a5ebcf1f71077665404377\n(cherry picked from commit acc38391dea12a7f70142077250d15a4eb53cb87)\n(cherry picked from commit df36c2c8ca54e9b8f63bb3c0231e85f1b87b35b3)\n(cherry picked from commit e0b53b2cc7a977d903328e43bac68c0b378439f5)\n(cherry picked from commit b64dcdc38fd76b0bbad23b7b9663425ec6ac0891)\n(cherry picked from commit b1eb5de99c624dfd9e2900b192b74b816bd17d1e)\n""}]",1,732434,ec6ee78067fb6d6b6c2863e9b71cb9afaa8dc8f2,5,1,2,6469,,,0,"Workaround peer name starting with hyphen

The base64_sha_string method is used to set a base64-encoded peer name
in HAProxy. There are cases where the peer name can start with
an hypen which is troublesome when used in HAProxy CLI. Specifically,
HAProxy fails to reload when local peer name starts with '-x' [1]. When
this is the case, an amphora goes to provisioning status ERROR and later
is scheduled for failover by the Octavia Health Manager service. A new
amphora UUUID is assigned and base64 encoded, hopefully not starting
with '-x' again. However, this is far from being ideal -- we incur in a
dataplane disruption (single topology) or reduce HA capabilities
(active-standby topology) for some time.

Four possible options:

a) add prefix to peer name
b) change b64encode altchars
c) quote peer name in haproxy CLI command
d) substitute first character if hyphen

Option a) and b) are not backward compatible with running amphorae. Peer
names of existing amphorae that do not start with hypen but contain
hyphen at any other position would get different peer names.

Option c) would nonetheless still require an amphora image update to add
quotes in the HAProxy init service file. Continuing to generate peer
names with hyphens at begininng of the string is avoidable and
recommended.

Option d), while also requiring an amphora image update, it would get
rid of hyphens in begining of the peer names. It is also backward
compatible with all running amphorae, except for those starting with
hyphen but are broken anyways.

This patch takes option d). It substitutes hyphen with 'x' character.

[1] https://github.com/haproxy/haproxy/issues/644

Task: 39850
Story: 2007714

Change-Id: Ib0fc26877710dea423a5ebcf1f71077665404377
(cherry picked from commit acc38391dea12a7f70142077250d15a4eb53cb87)
(cherry picked from commit df36c2c8ca54e9b8f63bb3c0231e85f1b87b35b3)
(cherry picked from commit e0b53b2cc7a977d903328e43bac68c0b378439f5)
(cherry picked from commit b64dcdc38fd76b0bbad23b7b9663425ec6ac0891)
(cherry picked from commit b1eb5de99c624dfd9e2900b192b74b816bd17d1e)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/34/732434/2 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/utils.py', 'releasenotes/notes/fix-peer-name-prefix-hypen-e74a87e9a01b4f4c.yaml', 'octavia/tests/unit/common/test_utils.py']",3,9f2a011f7c7ad0a074aedfab04006cc231a5f83d,," def test_base64_sha1_string(self): str_to_sha1 = [ # no special cases str (no altchars) ('77e7d60d-e137-4246-8a84-a25db33571cd', 'iVZVQ5AKmk2Ae0uGLP0Ue4OseRM='), # backward compat amphorae with - in str[1:] ('9c6e5f27-a0da-4ceb-afe5-5a81230be42e', 'NjrNgt3Egl-H5ScbYM5ChtUH3M8='), # sha1 would start with -, now replaced with x ('4db4a3cf-9fef-4057-b1fd-b2afbf7a8a0f', 'xxqntK8jJ_gE3QEmh-D1-XgCW_E=') ] for str, sha1 in str_to_sha1: self.assertEqual(sha1, utils.base64_sha1_string(str))",,28,1
openstack%2Foctavia~stable%2Fqueens~I479019a911b5a1acfc1951d1cbbc2a351089cb4d,openstack/octavia,stable/queens,I479019a911b5a1acfc1951d1cbbc2a351089cb4d,Validate resource access when creating loadbalancer or member,ABANDONED,2020-04-22 22:26:14.000000000,2020-07-24 11:41:06.000000000,,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-04-22 22:26:14.000000000', 'files': ['octavia/common/config.py', 'octavia/tests/unit/network/drivers/neutron/test_base.py', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/network/drivers/neutron/base.py', 'octavia/api/v2/controllers/member.py', 'octavia/network/base.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/common/clients.py', 'releasenotes/notes/allow-invisible-subnets-e30b0b5fbd216294.yaml', 'etc/octavia.conf', 'octavia/common/validate.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/28b031054774da29e77f1fdbc6c799465da0054c', 'message': 'Validate resource access when creating loadbalancer or member\n\n* Make sure the user has access to the subnet in the request for\n  creating or updating pool member.\n* Make sure the user has access to port or subnet or network for\n  creating load balancer\n\nStory: 2007531\nTask: 39339\n\nChange-Id: I479019a911b5a1acfc1951d1cbbc2a351089cb4d\n(cherry picked from commit a33d42fa59ada38dd5a5d3114a9a83f03a30d0b2)\n'}]",0,722162,28b031054774da29e77f1fdbc6c799465da0054c,16,3,1,11628,,,0,"Validate resource access when creating loadbalancer or member

* Make sure the user has access to the subnet in the request for
  creating or updating pool member.
* Make sure the user has access to port or subnet or network for
  creating load balancer

Story: 2007531
Task: 39339

Change-Id: I479019a911b5a1acfc1951d1cbbc2a351089cb4d
(cherry picked from commit a33d42fa59ada38dd5a5d3114a9a83f03a30d0b2)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/62/722162/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'octavia/tests/unit/network/drivers/neutron/test_base.py', 'octavia/api/v2/controllers/load_balancer.py', 'octavia/network/drivers/neutron/base.py', 'octavia/api/v2/controllers/member.py', 'octavia/network/base.py', 'octavia/network/drivers/noop_driver/driver.py', 'octavia/common/clients.py', 'releasenotes/notes/allow-invisible-subnets-e30b0b5fbd216294.yaml', 'etc/octavia.conf', 'octavia/common/validate.py']",11,28b031054774da29e77f1fdbc6c799465da0054c,validate-resource,"def port_exists(port_id, context=None): port = network_driver.get_port(port_id, context=context)def subnet_exists(subnet_id, context=None): subnet = network_driver.get_subnet(subnet_id, context=context)def network_exists_optionally_contains_subnet(network_id, subnet_id=None, context=None): network = network_driver.get_network(network_id, context=context)","def port_exists(port_id): port = network_driver.get_port(port_id)def subnet_exists(subnet_id): subnet = network_driver.get_subnet(subnet_id)def network_exists_optionally_contains_subnet(network_id, subnet_id=None): network = network_driver.get_network(network_id)",182,32
openstack%2Fopenstack-ansible-galera_server~stable%2Ftrain~I97e8e9b8cb5aa4901207079c0c45813fe9d7f887,openstack/openstack-ansible-galera_server,stable/train,I97e8e9b8cb5aa4901207079c0c45813fe9d7f887,Ensure python3 mysql client libraries are present,MERGED,2020-05-27 18:31:28.000000000,2020-07-24 11:38:25.000000000,2020-07-24 11:37:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-05-27 18:31:28.000000000', 'files': ['vars/debian.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/021b1621e4a9d4ac5de606884eecd8ffb9efcc7c', 'message': 'Ensure python3 mysql client libraries are present\n\nThese are required when ansible uses python3 on the target host.\n\nChange-Id: I97e8e9b8cb5aa4901207079c0c45813fe9d7f887\n(cherry picked from commit d74863bc52255f2a470b26a160b78f3009de2c2b)\n'}]",1,731290,021b1621e4a9d4ac5de606884eecd8ffb9efcc7c,17,5,1,28619,,,0,"Ensure python3 mysql client libraries are present

These are required when ansible uses python3 on the target host.

Change-Id: I97e8e9b8cb5aa4901207079c0c45813fe9d7f887
(cherry picked from commit d74863bc52255f2a470b26a160b78f3009de2c2b)
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/90/731290/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/debian.yml', 'vars/suse.yml']",2,021b1621e4a9d4ac5de606884eecd8ffb9efcc7c,, - python3-PyMySQL,,2,0
openstack%2Fopenstack-tempest-skiplist~master~I827d9e5efe7817e98669f23560a873025d3deaeb,openstack/openstack-tempest-skiplist,master,I827d9e5efe7817e98669f23560a873025d3deaeb,Improve the filter logic in list command,MERGED,2020-07-17 12:07:56.000000000,2020-07-24 10:46:44.000000000,2020-07-24 10:45:05.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30742}, {'_account_id': 30750}, {'_account_id': 31075}]","[{'number': 1, 'created': '2020-07-17 12:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/731c5dbee72ae842723f4b90bcc6ee9379123fc0', 'message': ""Improve the filter logic in list command\n\nThis patch simplify the logic behind the list command. Now it's easier\nto add more filters. If we kept as before, if we add a new filter, we\nwould need to make more complex if's combinations, and would become\nimpossible to track down changes and tests.\n\nChange-Id: I827d9e5efe7817e98669f23560a873025d3deaeb\n""}, {'number': 2, 'created': '2020-07-24 08:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/9f11749b9c7c28c7cace4b6981c8d449c6eae09a', 'message': ""Improve the filter logic in list command\n\nThis patch simplify the logic behind the list command. Now it's easier\nto add more filters. If we kept as before, if we add a new filter, we\nwould need to make more complex if's combinations, and would become\nimpossible to track down changes and tests.\n\nChange-Id: I827d9e5efe7817e98669f23560a873025d3deaeb\n""}, {'number': 3, 'created': '2020-07-24 09:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/1b844add694719dd6d4037d52dcc87445bdcb8d5', 'message': ""Improve the filter logic in list command\n\nThis patch simplify the logic behind the list command. Now it's easier\nto add more filters. If we kept as before, if we add a new filter, we\nwould need to make more complex if's combinations, and would become\nimpossible to track down changes and tests.\n\nChange-Id: I827d9e5efe7817e98669f23560a873025d3deaeb\n""}, {'number': 4, 'created': '2020-07-24 09:31:47.000000000', 'files': ['tempest_skip/list_yaml.py'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/2d3ba83004f90325d5981a0cf5f753dcbbb14ab9', 'message': ""Improve the filter logic in list command\n\nThis patch simplify the logic behind the list command. Now it's easier\nto add more filters. If we kept as before, if we add a new filter, we\nwould need to make more complex if's combinations, and would become\nimpossible to track down changes and tests.\n\nChange-Id: I827d9e5efe7817e98669f23560a873025d3deaeb\n""}]",2,741625,2d3ba83004f90325d5981a0cf5f753dcbbb14ab9,19,8,4,8367,,,0,"Improve the filter logic in list command

This patch simplify the logic behind the list command. Now it's easier
to add more filters. If we kept as before, if we add a new filter, we
would need to make more complex if's combinations, and would become
impossible to track down changes and tests.

Change-Id: I827d9e5efe7817e98669f23560a873025d3deaeb
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/25/741625/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest_skip/list_yaml.py'],1,731c5dbee72ae842723f4b90bcc6ee9379123fc0,improve-filter," self.log.debug(""Running list_yaml command"") tests = yaml_file.get(""known_failures"", []) if parsed_args.job: tests = list( filter( lambda d: parsed_args.job in d.get(""jobs"", []), tests ) ) if parsed_args.release: new_tests = [] for test in tests: for release in test.get(""releases"", []): if release.get(""name"") == parsed_args.release: new_tests.append(test) tests = new_tests return ((""Test name"",), ((test[""test""],) for test in tests)) parser.add_argument( ""--file"", dest=""file"", required=True, help=""List the tests to be skipped in the "" ""YAML file"", ) parser.add_argument( ""--job"", dest=""job"", help=""List the tests to be skipped in the "" ""given job"", ) parser.add_argument( ""--release"", dest=""release"", help=""List the tests to be skipped in the "" ""given release"", )"," self.log.debug('Running list_yaml command') for test in yaml_file.get('known_failures', []): will_append_job = False will_append_release = False if parsed_args.job: will_append_job = parsed_args.job in test.get('jobs', []) if parsed_args.release: for release in test.get('releases', []): if release.get('name') == parsed_args.release: will_append_release = True break # First case: no job or release passed if not parsed_args.job and not parsed_args.release: tests.append(test.get('test')) # Second case: job parsed, but no release if parsed_args.job and not parsed_args.release: if will_append_job: tests.append(test.get('test')) # Third case: release passed but no job if not parsed_args.job and parsed_args.release: if will_append_release: tests.append(test.get('test')) # Fourth case: release and job passed if parsed_args.job and parsed_args.release: if will_append_job and will_append_release: tests.append(test.get('test')) return (('Test name',), ((test,) for test in tests)) parser.add_argument('--file', dest='file', required=True, help='List the tests to be skipped in the ' 'YAML file' ) parser.add_argument('--job', dest='job', help='List the tests to be skipped in the ' 'given job' ) parser.add_argument('--release', dest='release', help='List the tests to be skipped in the ' 'given release' )",35,40
openstack%2Fneutron~master~Ib51cde89ed873f48db4daebc27a0980da9cc0f19,openstack/neutron,master,Ib51cde89ed873f48db4daebc27a0980da9cc0f19,[OVN] Allow IP allocation with different segments for OVN service ports,MERGED,2020-04-16 12:59:45.000000000,2020-07-24 10:44:41.000000000,2020-07-22 13:15:56.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-04-16 12:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0bc3217ae9bb761077995ee858da87e141c4e0a', 'message': '[DNM][WIP][OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 2, 'created': '2020-04-16 12:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ba8b9d83a2921428531f0c1daea07de7b57f99f5', 'message': '[DNM][WIP][OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 3, 'created': '2020-04-21 12:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/192a1f67e70625f3e346e56cc15ac41ceacf5b76', 'message': '[WIP][OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 4, 'created': '2020-04-27 13:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc4aca6d982152aa4f0a692c4ade856dc67c95a4', 'message': '[WIP][OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 5, 'created': '2020-04-27 15:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/42bec81783200fb625c75afaf4c9bd1197675687', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 6, 'created': '2020-04-28 14:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2430693edd659d970b8c35658106fdfe1a776fb0', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 7, 'created': '2020-05-06 14:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a190ec17f0fba1307be591311b024690464a9e70', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 8, 'created': '2020-05-07 10:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ef712514ef5da2561dacd7b347891c2dc675d5bb', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 9, 'created': '2020-05-07 10:39:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fec9b118e595d4b877dd42aeb122fd772f4d9c4c', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 10, 'created': '2020-06-01 13:42:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/588477f729ce15dc1a1f98eb2c8e3c8d1660c9ba', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 11, 'created': '2020-06-01 13:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc8e009b5e478392806322243356fcf8bd62a9ee', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 12, 'created': '2020-06-03 10:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a724ae2a5079f49db45f04f90fe6985b157bc2b2', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 13, 'created': '2020-06-03 10:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b987cd60df0c50e7b1d0c0534514cc20bd769455', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 14, 'created': '2020-07-03 11:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3bd265aadfb2091208ec648e828ff86da21b45c4', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 15, 'created': '2020-07-03 11:09:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e6b44848789130bbe8d0f79605cc8af1df3e26c7', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 16, 'created': '2020-07-03 11:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0bb34fd2d5b7e56bb33374eddbc61ae031fe38b6', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 17, 'created': '2020-07-03 11:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/384aab79653cc3293963663fcb7710d31231c3f1', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 18, 'created': '2020-07-03 12:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/061cd869af5e50b22a44c25e7f8e094952238ed9', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 19, 'created': '2020-07-03 15:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aad3fab73ff4142ba2cadb4a4f58350b8fbd845a', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 20, 'created': '2020-07-03 15:36:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/91c1aa400a38b4e19a6481c10426db316d1520a2', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 21, 'created': '2020-07-06 10:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b0aad31a8e42665b7fd670edcee5ddfd74b7d1c5', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 22, 'created': '2020-07-06 10:42:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b8cd88887d2abc1d3e9ac1678ec6d00534669ab', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 23, 'created': '2020-07-06 10:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/606966904e8a66fd13e6cc41185762a70c7f63b3', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 24, 'created': '2020-07-06 10:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed081fa8becd7f2211fb2c79c34383e5c531c8cc', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 25, 'created': '2020-07-07 14:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d331e44d19feae1594561102b9dc962b2dbf3961', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 26, 'created': '2020-07-08 12:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c20eb3da02bd3c4d41ef110175668a142ee9cee5', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 27, 'created': '2020-07-08 13:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d601bca71d740c6ea8fd51fa46337ad1ea01c20d', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 28, 'created': '2020-07-20 06:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c86a037fc01e4e4607b99683c80af8ab7667894c', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}, {'number': 29, 'created': '2020-07-22 07:38:49.000000000', 'files': ['neutron/tests/unit/db/test_ipam_backend_mixin.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/db/ipam_backend_mixin.py', 'neutron/objects/subnet.py', 'doc/source/admin/intro-os-networking.rst', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py', 'doc/source/admin/config-routed-networks.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d1512afb07a9a77958c44f2e7f5d47865c8a475', 'message': '[OVN] Allow IP allocation with different segments for OVN service ports\n\nOVN creates localport [1] for each network that has metadata\nand allocate IP address from subnet within this network that has\nDHCP enabled. The traffic from this port will never go outside\nthe chassis.\n\nWhile using multiple segments with subnet linked to each segment\nOVN needs to create an allocation of IP address for each of those\nsubnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.\n\nThe change [3] started to validate that condition, while multiple\nIP addresses from different segments are tried to be allocated on\none port. We can skip this for OVN Metadata port, because there\nis no reason to prevent those kind of allocation for OVN.\n\n[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html\n[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279\n[3] https://review.opendev.org/#/c/709444/\n\nChange-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19\nCloses-Bug: 1871608\n'}]",27,720464,8d1512afb07a9a77958c44f2e7f5d47865c8a475,126,14,29,24791,,,0,"[OVN] Allow IP allocation with different segments for OVN service ports

OVN creates localport [1] for each network that has metadata
and allocate IP address from subnet within this network that has
DHCP enabled. The traffic from this port will never go outside
the chassis.

While using multiple segments with subnet linked to each segment
OVN needs to create an allocation of IP address for each of those
subnets [2] in order to generate data for OVN NBDB IPv4 DHCP Options.

The change [3] started to validate that condition, while multiple
IP addresses from different segments are tried to be allocated on
one port. We can skip this for OVN Metadata port, because there
is no reason to prevent those kind of allocation for OVN.

[1] http://www.openvswitch.org/support/dist-docs/ovn-architecture.7.html
[2] https://github.com/openstack/neutron/blob/5f42488a9a6a7a3afa55a56f53e2f5ef09365115/neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py#L2279
[3] https://review.opendev.org/#/c/709444/

Change-Id: Ib51cde89ed873f48db4daebc27a0980da9cc0f19
Closes-Bug: 1871608
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/720464/17 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/ipam_backend_mixin.py', 'neutron/objects/subnet.py', 'neutron/db/ipam_pluggable_backend.py']",3,d0bc3217ae9bb761077995ee858da87e141c4e0a,bug/1871608," ovn_service_port = ( port.get('device_owner') == 'network:dhcp' and port.get('device_id').startswith('ovn')) distributed_service = True if ovn_service_port else False fixed_ips=fixed_ips, distributed_service=distributed_service) ovn_service_port = ( port.get('device_owner') == 'network:dhcp' and port.get('device_id').startswith('ovn')) distributed_service = True if ovn_service_port else False fixed_ips=changes.add + changes.original, distributed_service=distributed_service)", fixed_ips=fixed_ips) fixed_ips=changes.add + changes.original),30,9
openstack%2Fkolla-ansible~stable%2Ftrain~I83d820efcc7e86bac9f8bda26a8f8bece72159e6,openstack/kolla-ansible,stable/train,I83d820efcc7e86bac9f8bda26a8f8bece72159e6,Fix deployment of fluentd without any enabled OpenStack services,MERGED,2020-07-20 16:42:26.000000000,2020-07-24 10:40:56.000000000,2020-07-24 10:38:59.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-20 16:42:26.000000000', 'files': ['ansible/roles/common/defaults/main.yml', 'releasenotes/notes/bug-1867953-4897a2c05aba43c6.yaml', 'ansible/roles/common/templates/conf/input/00-global.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/678e24e5a54015fbe26b155159ae8298e70d15cf', 'message': ""Fix deployment of fluentd without any enabled OpenStack services\n\nFluentd cannot accept empty 'path' parameter.\n\nI refactored the service list following the general pattern\nwe have.\n\nChange-Id: I83d820efcc7e86bac9f8bda26a8f8bece72159e6\nCloses-bug: #1867953\n(cherry picked from commit 561b33cbb25f46157d4c6d279c04e56e8314a3c1)\n""}]",0,741989,678e24e5a54015fbe26b155159ae8298e70d15cf,14,5,1,14826,,,0,"Fix deployment of fluentd without any enabled OpenStack services

Fluentd cannot accept empty 'path' parameter.

I refactored the service list following the general pattern
we have.

Change-Id: I83d820efcc7e86bac9f8bda26a8f8bece72159e6
Closes-bug: #1867953
(cherry picked from commit 561b33cbb25f46157d4c6d279c04e56e8314a3c1)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/89/741989/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/defaults/main.yml', 'releasenotes/notes/bug-1867953-4897a2c05aba43c6.yaml', 'ansible/roles/common/templates/conf/input/00-global.conf.j2']",3,678e24e5a54015fbe26b155159ae8298e70d15cf,bug/1867953,"{% if fluentd_enabled_input_openstack_services | length > 0 -%} path {% for service in fluentd_enabled_input_openstack_services %}/var/log/kolla/{{ service }}/*.log{% if not loop.last %},{% endif %}{% endfor %}{%- endif %}","{% set services = [ ( 'aodh', enable_aodh ), ( 'barbican', enable_barbican ), ( 'blazar', enable_blazar ), ( 'ceilometer', enable_ceilometer ), ( 'cinder', enable_cinder ), ( 'cloudkitty', enable_cloudkitty ), ( 'congress', enable_congress ), ( 'cyborg', enable_cyborg ), ( 'designate', enable_designate ), ( 'freezer', enable_freezer ), ( 'glance', enable_glance ), ( 'gnocchi', enable_gnocchi ), ( 'heat', enable_heat ), ( 'horizon', enable_horizon ), ( 'ironic', enable_ironic ), ( 'ironic-inspector', enable_ironic ), ( 'karbor', enable_karbor ), ( 'keystone', enable_keystone ), ( 'kuryr', enable_kuryr ), ( 'magnum', enable_magnum ), ( 'manila', enable_manila ), ( 'masakari', enable_masakari ), ( 'mistral', enable_mistral ), ( 'monasca', enable_monasca ), ( 'mongodb', enable_mongodb ), ( 'murano', enable_murano ), ( 'neutron', enable_neutron ), ( 'nova', enable_nova ), ( 'octavia', enable_octavia ), ( 'panko', enable_panko ), ( 'qinling', enable_qinling ), ( 'rally', enable_rally ), ( 'sahara', enable_sahara ), ( 'searchlight', enable_searchlight ), ( 'senlin', enable_senlin ), ( 'solum', enable_solum ), ( 'tacker', enable_tacker ), ( 'trove', enable_trove ), ( 'watcher', enable_watcher ), ( 'zun', enable_zun ) ] %} path {% for service, enabled in services if enabled | bool %}/var/log/kolla/{{ service }}/*.log{% if not loop.last %},{% endif %}{% endfor %}",96,43
openstack%2Fkolla-ansible~stable%2Fussuri~I3afd117633a84d342effb6baadf16fa42c16776c,openstack/kolla-ansible,stable/ussuri,I3afd117633a84d342effb6baadf16fa42c16776c,Update glance configuration file for backend,MERGED,2020-07-23 18:19:17.000000000,2020-07-24 10:38:13.000000000,2020-07-24 10:36:41.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-23 18:19:17.000000000', 'files': ['ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/glance/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c33cd6a3faaeca2d1ab44992d5c3056c9d4d0fe', 'message': 'Update glance configuration file for backend\n\nglobal file glance_backend_file parameters not take effect\n\nCloses-Bug: #1888501\n\nChange-Id: I3afd117633a84d342effb6baadf16fa42c16776c\n(cherry picked from commit 3d0419969263c3ed18bf9cbc4f2e32451c80fcbe)\n'}]",0,742721,3c33cd6a3faaeca2d1ab44992d5c3056c9d4d0fe,9,4,1,14826,,,0,"Update glance configuration file for backend

global file glance_backend_file parameters not take effect

Closes-Bug: #1888501

Change-Id: I3afd117633a84d342effb6baadf16fa42c16776c
(cherry picked from commit 3d0419969263c3ed18bf9cbc4f2e32451c80fcbe)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/21/742721/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/glance/defaults/main.yml']",2,3c33cd6a3faaeca2d1ab44992d5c3056c9d4d0fe,bug/1888501-stable/ussuri," enabled: ""{{ glance_backend_file | bool }}""", enabled: true,3,1
openstack%2Fkolla-ansible~stable%2Ftrain~I3afd117633a84d342effb6baadf16fa42c16776c,openstack/kolla-ansible,stable/train,I3afd117633a84d342effb6baadf16fa42c16776c,Update glance configuration file for backend,MERGED,2020-07-23 18:21:17.000000000,2020-07-24 10:38:08.000000000,2020-07-24 10:36:43.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-23 18:21:17.000000000', 'files': ['ansible/roles/glance/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3525b2c3610be78d8261a73f68864cc171509d64', 'message': 'Update glance configuration file for backend\n\nglobal file glance_backend_file parameters not take effect\n\nCloses-Bug: #1888501\n\nChange-Id: I3afd117633a84d342effb6baadf16fa42c16776c\n(cherry picked from commit 3d0419969263c3ed18bf9cbc4f2e32451c80fcbe)\n'}]",0,742722,3525b2c3610be78d8261a73f68864cc171509d64,9,4,1,14826,,,0,"Update glance configuration file for backend

global file glance_backend_file parameters not take effect

Closes-Bug: #1888501

Change-Id: I3afd117633a84d342effb6baadf16fa42c16776c
(cherry picked from commit 3d0419969263c3ed18bf9cbc4f2e32451c80fcbe)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/22/742722/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/glance/defaults/main.yml'],1,3525b2c3610be78d8261a73f68864cc171509d64,bug/1888501," enabled: ""{{ glance_backend_file | bool }}""", enabled: true,1,1
openstack%2Fkolla-ansible~stable%2Fstein~I3afd117633a84d342effb6baadf16fa42c16776c,openstack/kolla-ansible,stable/stein,I3afd117633a84d342effb6baadf16fa42c16776c,Update glance configuration file for backend,MERGED,2020-07-23 18:21:28.000000000,2020-07-24 10:38:07.000000000,2020-07-24 10:36:44.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-23 18:21:28.000000000', 'files': ['ansible/roles/glance/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2c0284e8b4e9fdf1f99d134685dfc64261cec84d', 'message': 'Update glance configuration file for backend\n\nglobal file glance_backend_file parameters not take effect\n\nCloses-Bug: #1888501\n\nChange-Id: I3afd117633a84d342effb6baadf16fa42c16776c\n(cherry picked from commit 3d0419969263c3ed18bf9cbc4f2e32451c80fcbe)\n'}]",0,742723,2c0284e8b4e9fdf1f99d134685dfc64261cec84d,8,4,1,14826,,,0,"Update glance configuration file for backend

global file glance_backend_file parameters not take effect

Closes-Bug: #1888501

Change-Id: I3afd117633a84d342effb6baadf16fa42c16776c
(cherry picked from commit 3d0419969263c3ed18bf9cbc4f2e32451c80fcbe)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/23/742723/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/glance/defaults/main.yml'],1,2c0284e8b4e9fdf1f99d134685dfc64261cec84d,bug/1888501-stable/stein," enabled: ""{{ glance_backend_file | bool }}""", enabled: true,1,1
openstack%2Fironic~master~Ic168d39f81334f61ff95777100dc0e74bce97476,openstack/ironic,master,Ic168d39f81334f61ff95777100dc0e74bce97476,DNM try sha256 for hash ring,ABANDONED,2020-07-24 09:05:14.000000000,2020-07-24 10:31:51.000000000,,[{'_account_id': 30100}],"[{'number': 1, 'created': '2020-07-24 09:05:14.000000000', 'files': ['ironic/conf/default.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b999e2e8ed2abd1271697c6b403fb2c132a66162', 'message': 'DNM try sha256 for hash ring\n\nChange-Id: Ic168d39f81334f61ff95777100dc0e74bce97476\n'}]",0,742828,b999e2e8ed2abd1271697c6b403fb2c132a66162,3,1,1,10239,,,0,"DNM try sha256 for hash ring

Change-Id: Ic168d39f81334f61ff95777100dc0e74bce97476
",git fetch https://review.opendev.org/openstack/ironic refs/changes/28/742828/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/conf/default.py'],1,b999e2e8ed2abd1271697c6b403fb2c132a66162,test," default='sha256',"," default='md5',",1,1
openstack%2Fkolla-ansible~stable%2Ftrain~I61235b51e2e1325b8a9b4f85bf634f663c7ec3cc,openstack/kolla-ansible,stable/train,I61235b51e2e1325b8a9b4f85bf634f663c7ec3cc,Make /dev/kvm permissions handling more robust,MERGED,2020-07-22 15:54:17.000000000,2020-07-24 10:28:03.000000000,2020-07-24 10:25:03.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-22 15:54:17.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'releasenotes/notes/bug-1681461-761f0cdf71bcb962.yaml', 'ansible/roles/nova-cell/templates/99-kolla-kvm.rules.j2', 'ansible/roles/nova-cell/tasks/config-host.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/574257dc2eb5a0fe9031e7aa0bb79ff0851526c6', 'message': 'Make /dev/kvm permissions handling more robust\n\nThis makes use of udev rules to make it smarter and override\nhost-level packages settings.\nAdditionally, this masks Ubuntu-only service that is another\npain point in terms of /dev/kvm permissions.\nFingers crossed for no further surprises.\n\nChange-Id: I61235b51e2e1325b8a9b4f85bf634f663c7ec3cc\nCloses-bug: #1681461\n(cherry picked from commit 202365e70213fe7f23d1d618789e356e24ed0679)\n'}]",0,742467,574257dc2eb5a0fe9031e7aa0bb79ff0851526c6,11,4,1,14826,,,0,"Make /dev/kvm permissions handling more robust

This makes use of udev rules to make it smarter and override
host-level packages settings.
Additionally, this masks Ubuntu-only service that is another
pain point in terms of /dev/kvm permissions.
Fingers crossed for no further surprises.

Change-Id: I61235b51e2e1325b8a9b4f85bf634f663c7ec3cc
Closes-bug: #1681461
(cherry picked from commit 202365e70213fe7f23d1d618789e356e24ed0679)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/742467/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'releasenotes/notes/bug-1681461-761f0cdf71bcb962.yaml', 'ansible/roles/nova-cell/templates/99-kolla-kvm.rules.j2', 'ansible/roles/nova-cell/tasks/config-host.yml']",4,574257dc2eb5a0fe9031e7aa0bb79ff0851526c6,bug/1681461-stable/train," # NOTE(yoctozepto): Part of bug #1681461 fix. # This part can actually run on any distro and lets us drop the hardcoded # chown and chmod from the nova-libvirt image extend_start and make the process # more robust. - name: Install udev kolla kvm rules become: true template: src: ""99-kolla-kvm.rules.j2"" dest: ""/etc/udev/rules.d/99-kolla-kvm.rules"" mode: ""0644"" when: - nova_compute_virt_type == 'kvm' - inventory_hostname in groups[nova_cell_compute_group] # NOTE(yoctozepto): Part of bug #1681461 fix. # This part only really makes sense on Ubuntu and would end up being confusing # on others. This service changes /dev/kvm permissions. - name: Mask qemu-kvm service become: true systemd: name: qemu-kvm.service masked: true when: - nova_compute_virt_type == 'kvm' - ansible_distribution == 'Ubuntu' - inventory_hostname in groups[nova_cell_compute_group]",,42,0
openstack%2Fkolla-ansible~stable%2Frocky~I3e38946d9dabd5df8bf7c6202a8b739304fe4622,openstack/kolla-ansible,stable/rocky,I3e38946d9dabd5df8bf7c6202a8b739304fe4622,Ignore Python warnings in kolla-toolbox,MERGED,2020-07-23 17:29:27.000000000,2020-07-24 10:27:10.000000000,2020-07-24 10:25:05.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-23 17:29:27.000000000', 'files': ['ansible/roles/common/defaults/main.yml', 'releasenotes/notes/bug-1888657-44e2f6f3aedc20ba.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f430c35907635caf5ddc0968d37d7020c58aff4a', 'message': 'Ignore Python warnings in kolla-toolbox\n\nAnsible 2.2.0.0 used in Stein kolla-toolbox requires paramiko (no version\nconstraints), which installs latest cryptography package. It results in\nPython deprecation warning about Python 2:\n\n/usr/lib64/python2.7/site-packages/cryptography/__init__.py:39: CryptographyDeprecationWarning: Python 2 is no longer supported by the Python core team. Support for it is now deprecated in cryptography, and will be removed in a future release.\n\nThis warning breaks kolla_toolbox module.\n\nCloses-Bug: #1888657\n\nChange-Id: I3e38946d9dabd5df8bf7c6202a8b739304fe4622\n(cherry picked from commit bbaa82619ee404d495ec5aef9468ecd52c5d76d3)\n'}]",0,742714,f430c35907635caf5ddc0968d37d7020c58aff4a,7,2,1,22629,,,0,"Ignore Python warnings in kolla-toolbox

Ansible 2.2.0.0 used in Stein kolla-toolbox requires paramiko (no version
constraints), which installs latest cryptography package. It results in
Python deprecation warning about Python 2:

/usr/lib64/python2.7/site-packages/cryptography/__init__.py:39: CryptographyDeprecationWarning: Python 2 is no longer supported by the Python core team. Support for it is now deprecated in cryptography, and will be removed in a future release.

This warning breaks kolla_toolbox module.

Closes-Bug: #1888657

Change-Id: I3e38946d9dabd5df8bf7c6202a8b739304fe4622
(cherry picked from commit bbaa82619ee404d495ec5aef9468ecd52c5d76d3)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/742714/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/defaults/main.yml', 'releasenotes/notes/bug-1888657-44e2f6f3aedc20ba.yaml']",2,f430c35907635caf5ddc0968d37d7020c58aff4a,,"--- fixes: - | This patch fixes a bug, when kolla_toolbox Ansible module failed due to Python deprecation warnings caused by paramiko/cryptography. `LP#1888657 <https://launchpad.net/bugs/1888657>`__ ",,7,0
openstack%2Fopenstack-ansible-lxc_hosts~stable%2Fussuri~I70f6de497fa3729a1d19540fad03e273f260433d,openstack/openstack-ansible-lxc_hosts,stable/ussuri,I70f6de497fa3729a1d19540fad03e273f260433d,Add remote_src parameter to ansible unarchive module for lxc_hosts task,MERGED,2020-07-24 08:20:19.000000000,2020-07-24 10:05:29.000000000,2020-07-24 10:04:16.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32197}]","[{'number': 1, 'created': '2020-07-24 08:20:19.000000000', 'files': ['tasks/lxc_cache_preparation_simple.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/102b7780e85a354dd8ceff481d31519b1ff7bbba', 'message': 'Add remote_src parameter to ansible unarchive module for lxc_hosts task\n\nlxc_hosts - Unpack base image tasks fails because ansible is\nlooking for CentOS-8-Container*.tar.xz image archive on\nansible controller instead of on remote host. remote_src\nparam fixes and lets job continue.\n\nChange-Id: I70f6de497fa3729a1d19540fad03e273f260433d\n(cherry picked from commit c94eccc383d281bec000980b1f8d4437a2c81558)\n'}]",0,742821,102b7780e85a354dd8ceff481d31519b1ff7bbba,8,4,1,25023,,,0,"Add remote_src parameter to ansible unarchive module for lxc_hosts task

lxc_hosts - Unpack base image tasks fails because ansible is
looking for CentOS-8-Container*.tar.xz image archive on
ansible controller instead of on remote host. remote_src
param fixes and lets job continue.

Change-Id: I70f6de497fa3729a1d19540fad03e273f260433d
(cherry picked from commit c94eccc383d281bec000980b1f8d4437a2c81558)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/21/742821/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/lxc_cache_preparation_simple.yml'],1,102b7780e85a354dd8ceff481d31519b1ff7bbba,wsoyinka-openstack-ansible-lxc_hosts-patch1-stable/ussuri, remote_src: yes,,1,0
openstack%2Fopenstack-ansible~master~I57ad90da8f2547a693a1ffd78bfa702e8d67add6,openstack/openstack-ansible,master,I57ad90da8f2547a693a1ffd78bfa702e8d67add6,Fix mysql binary name,MERGED,2020-06-13 07:36:55.000000000,2020-07-24 10:01:32.000000000,2020-07-03 07:26:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-06-13 07:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ad9e2efa9e909b4a904c462058be070b30b13f93', 'message': 'Fix mysql binary name\n\nWith upgrade of mariadb to 10.4, mysql service is not present anymore\nfor CentOS\n\nChange-Id: I57ad90da8f2547a693a1ffd78bfa702e8d67add6\n'}, {'number': 2, 'created': '2020-06-13 07:37:33.000000000', 'files': ['scripts/upgrade-utilities/galera-cluster-rolling-restart.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dfc5f0f1059fb1daed722a70f3dca146135a38a0', 'message': 'Fix mysql binary name\n\nWith upgrade of mariadb to 10.4, mysql service is not present anymore\nfor CentOS in case of upgrade from 10.3.\n\nChange-Id: I57ad90da8f2547a693a1ffd78bfa702e8d67add6\n'}]",1,735418,dfc5f0f1059fb1daed722a70f3dca146135a38a0,21,5,2,28619,,,0,"Fix mysql binary name

With upgrade of mariadb to 10.4, mysql service is not present anymore
for CentOS in case of upgrade from 10.3.

Change-Id: I57ad90da8f2547a693a1ffd78bfa702e8d67add6
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/18/735418/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/upgrade-utilities/galera-cluster-rolling-restart.yml'],1,ad9e2efa9e909b4a904c462058be070b30b13f93,, name: mariadb name: mariadb, name: mysql name: mysql,2,2
openstack%2Fironic~master~I173e6b1a8037698d41f355c7ef55f7389594be1e,openstack/ironic,master,I173e6b1a8037698d41f355c7ef55f7389594be1e,Fixes to skip validation of in-band deploy steps before agent boot,MERGED,2020-07-15 16:25:32.000000000,2020-07-24 09:58:02.000000000,2020-07-16 15:20:38.000000000,"[{'_account_id': 10239}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-15 16:25:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/947e52c371d48232e053b63628e3e43b4c749537', 'message': 'Fixes to skip validation of in-band deploy steps before agent boot\n\nValidation should not fail even if any deploy step requested in the deployment\ntemplate is not available, unless inband deploy steps are retrieved.\n\nChange-Id: I173e6b1a8037698d41f355c7ef55f7389594be1e\n'}, {'number': 2, 'created': '2020-07-16 04:51:25.000000000', 'files': ['ironic/tests/unit/conductor/test_deployments.py', 'ironic/conductor/deployments.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8c191ceb5a16b967a4b2929fc86afafaf5bce157', 'message': 'Fixes to skip validation of in-band deploy steps before agent boot\n\nValidation should not fail even if any deploy step requested in the deployment\ntemplate is not available, unless inband deploy steps are retrieved.\n\nChange-Id: I173e6b1a8037698d41f355c7ef55f7389594be1e\n'}]",1,741267,8c191ceb5a16b967a4b2929fc86afafaf5bce157,17,5,2,11076,,,0,"Fixes to skip validation of in-band deploy steps before agent boot

Validation should not fail even if any deploy step requested in the deployment
template is not available, unless inband deploy steps are retrieved.

Change-Id: I173e6b1a8037698d41f355c7ef55f7389594be1e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/67/741267/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/conductor/test_deployments.py', 'ironic/conductor/deployments.py']",2,947e52c371d48232e053b63628e3e43b4c749537,conductor_fix," conductor_steps.validate_deploy_templates(task, skip_missing=True)", conductor_steps.validate_deploy_templates(task),34,1
openstack%2Fbifrost~master~Ia7726201d4ceb0f63ea245d38aa230cb683a588c,openstack/bifrost,master,Ia7726201d4ceb0f63ea245d38aa230cb683a588c,Expand advanced install instructions,MERGED,2020-07-17 10:23:52.000000000,2020-07-24 09:53:01.000000000,2020-07-24 09:50:01.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32177}]","[{'number': 1, 'created': '2020-07-17 10:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c70884e32f10efdb0fddc94f68a5b90382bfc668', 'message': 'Expand advanced install instructions (path info)\n\nFor playbook-based installations of bifrost it is important to\ncorrectly specify full path to ansible-playbook executable as\nwell as to use the correct working directory. Adding this\ninformation to the existing document\n\nChange-Id: Ia7726201d4ceb0f63ea245d38aa230cb683a588c\n'}, {'number': 2, 'created': '2020-07-17 10:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/343851150a87161b94c9a7e7f8f55309dc73a234', 'message': 'Expand advanced install instructions (path info)\n\nFor playbook-based installations of bifrost it is important to\ncorrectly specify full path to ansible-playbook executable as\nwell as to use the correct working directory. Adding this\ninformation to the existing document\n\nChange-Id: Ia7726201d4ceb0f63ea245d38aa230cb683a588c\n'}, {'number': 3, 'created': '2020-07-17 10:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/ad97170af0177ef3064c4614f08b3f9225e39888', 'message': 'Expand advanced install instructions (path info)\n\nFor playbook-based installations of bifrost it is important to\ncorrectly specify full path to ansible-playbook executable as\nwell as to use the correct working directory. Adding this\ninformation to the existing document\n\nChange-Id: Ia7726201d4ceb0f63ea245d38aa230cb683a588c\n'}, {'number': 4, 'created': '2020-07-17 10:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2f63556c21fa6bcd291be40c71da01ee38af6a6f', 'message': 'Expand advanced install instructions (path info)\n\nFor playbook-based installations of bifrost it is important to\ncorrectly specify full path to ansible-playbook executable as\nwell as to use the correct working directory. Adding this\ninformation to the existing document\n\nChange-Id: Ia7726201d4ceb0f63ea245d38aa230cb683a588c\n'}, {'number': 5, 'created': '2020-07-20 03:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5fd63477d294534a43a7b2175217e23a3e715594', 'message': 'Expand advanced install instructions (path info)\n\nFor playbook-based installations of bifrost it is important to\nmake sure that the appropriate virtual environment is activated\nand the correct working directory is used. Adding this\ninformation to the existing document\n\nChange-Id: Ia7726201d4ceb0f63ea245d38aa230cb683a588c\n'}, {'number': 6, 'created': '2020-07-20 03:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1b6f055ad986574a9ce6458abd81d478ccb9efc6', 'message': 'Expand advanced install instructions (path info)\n\nFor playbook-based installations of bifrost it is important to\nmake sure that the appropriate virtual environment is activated\nand the correct working directory is used. Adding this\ninformation to the existing document\n\nChange-Id: Ia7726201d4ceb0f63ea245d38aa230cb683a588c\n'}, {'number': 7, 'created': '2020-07-20 04:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/716c812cc43a586e53884af5af2d8967a81d13ac', 'message': 'Expand advanced install instructions (path info)\n\nFor playbook-based installations of bifrost it is important to\nmake sure that the appropriate virtual environment is activated\nand the correct working directory is used. Adding this\ninformation to the existing document\n\nChange-Id: Ia7726201d4ceb0f63ea245d38aa230cb683a588c\n'}, {'number': 8, 'created': '2020-07-21 10:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5a7fa6e310f09d74f317a60aeb341e028be31f43', 'message': 'Expand advanced install instructions\n\nFor playbook-based installations of bifrost it is important to\nmake sure that the appropriate virtual environment is activated\nand the correct working directory is used. Adding this\ninformation to the existing document\n\nChange-Id: Ia7726201d4ceb0f63ea245d38aa230cb683a588c\n'}, {'number': 9, 'created': '2020-07-21 10:47:22.000000000', 'files': ['doc/source/install/index.rst'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/e3f5984209b3d565f501dc37d0b4a274a1625a22', 'message': 'Expand advanced install instructions\n\nFor playbook-based installations of bifrost it is important to\nmake sure that the appropriate virtual environment is activated\nand the correct working directory is used. Adding this\ninformation to the existing document\n\nChange-Id: Ia7726201d4ceb0f63ea245d38aa230cb683a588c\n'}]",6,741611,e3f5984209b3d565f501dc37d0b4a274a1625a22,24,4,9,32177,,,0,"Expand advanced install instructions

For playbook-based installations of bifrost it is important to
make sure that the appropriate virtual environment is activated
and the correct working directory is used. Adding this
information to the existing document

Change-Id: Ia7726201d4ceb0f63ea245d38aa230cb683a588c
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/11/741611/6 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/index.rst'],1,c70884e32f10efdb0fddc94f68a5b90382bfc668,advanced-install-docs,"Playbook based install provides a greater degree of visibility and control over the process and is suitable for advanced installation scenarios. For virtual environment based installations it is recommended to provide full path to the ``ansible-playbook`` command, e.g. ``/opt/stack/bifrost/bin/ansible-playbook``. Calling ``ansible-playbook`` without specifying the full path may result in version mismatch between system-wide and virtual environment specific installations of ansible. In cases where ansible is only installed in bifrost virtual environment, ``ansbile-playbook`` may not be in ``$PATH`` and the command will fail. For the playbooks to work, the command needs to be run from ``playbooks`` subdirectory of cloned bifrost repository. Examples: First, change to the ``playbooks`` subdirectory of the bifrost repository: cd playbooks /opt/stack/bifrost/bin/ansible-playbook -vvvv -i inventory/target install.yaml /opt/stack/bifrost/bin/ansible-playbook -K -vvvv -i inventory/target install.yaml /opt/stack/bifrost/bin/ansible-playbook -K -vvvv -i inventory/target install.yaml -e cleaning=true /opt/stack/bifrost/bin/ansible-playbook -K -vvvv -i inventory/target install.yaml -e staging_drivers_include=true", ansible-playbook -vvvv -i inventory/target install.yaml ansible-playbook -K -vvvv -i inventory/target install.yaml ansible-playbook -K -vvvv -i inventory/target install.yaml -e cleaning=true ansible-playbook -K -vvvv -i inventory/target install.yaml -e staging_drivers_include=true,23,4
openstack%2Fbifrost~master~I07804a88ed11b0adb6c398743905725c6cdb90d4,openstack/bifrost,master,I07804a88ed11b0adb6c398743905725c6cdb90d4,Create symlink to ansible collections on install,MERGED,2020-07-21 13:37:02.000000000,2020-07-24 09:51:37.000000000,2020-07-24 09:50:00.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-21 13:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/648a983a235b09f316336ed742deb988e64ae372', 'message': 'Replace ANSIBLE_COLLECTIONS_PATHS var with symlink\n\nBifrost requires Ansible Collections for certain tasks including\nenrollment of nodes. In order for bifrost playbooks to be able to\nutilise Ansible Collections, it is required to either export\nANSIBLE_COLLECTIONS_PATHS environment variable or to create a\nsymbolic link from the Ansible Collections installation directory\nto the bifrost playbook subdirectory. This change replaces the\nvariable based approach with the symbolic link based approach to\nimprove resiliency and flexibility.\n\nChange-Id: I07804a88ed11b0adb6c398743905725c6cdb90d4\n'}, {'number': 2, 'created': '2020-07-22 07:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/cb91958b30d2f91318538267520d22e1e71cb14b', 'message': 'Replace ANSIBLE_COLLECTIONS_PATHS var with symlink\n\nBifrost requires Ansible Collections for certain tasks including\nenrollment of nodes. In order for bifrost playbooks to be able to\nutilise Ansible Collections, it is required to either export\nANSIBLE_COLLECTIONS_PATHS environment variable or to create a\nsymbolic link from the Ansible Collections installation directory\nto the bifrost playbook subdirectory. This change replaces the\nvariable based approach with the symbolic link based approach to\nimprove resiliency and flexibility.\n\nChange-Id: I07804a88ed11b0adb6c398743905725c6cdb90d4\n'}, {'number': 3, 'created': '2020-07-22 19:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/56f57b40af54d3f8bd6e9d05bb868b1cd436262b', 'message': 'Create symlink to ansible collections on install\n\nBifrost requires Ansible Collections for certain tasks including\nenrollment of nodes. In order for bifrost playbooks to be able to\nutilise Ansible Collections, a symlink or an environment variable\nneeds to point to their install path. This change adds creation of\nthe symlink to the setup script.\n\nChange-Id: I07804a88ed11b0adb6c398743905725c6cdb90d4\n'}, {'number': 4, 'created': '2020-07-24 00:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f91e4b65a08aeb59d0ca617b58a5c941736f2415', 'message': 'Create symlink to ansible collections on install\n\nBifrost requires Ansible Collections for certain tasks including\nenrollment of nodes. In order for bifrost playbooks to be able to\nutilise Ansible Collections, a symlink or an environment variable\nneeds to point to their install path. This change adds creation of\nthe symlink to the setup script and a corresponding documentation\nupdate.\n\nChange-Id: I07804a88ed11b0adb6c398743905725c6cdb90d4\n'}, {'number': 5, 'created': '2020-07-24 00:33:38.000000000', 'files': ['releasenotes/notes/releasenote-4812959d071329fc.yaml', 'doc/source/install/index.rst', 'scripts/env-setup.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/c331093a3dfdf1e62bf4621e75236d325649113d', 'message': 'Create symlink to ansible collections on install\n\nBifrost requires Ansible Collections for certain tasks including\nenrollment of nodes. In order for bifrost playbooks to be able to\nutilise Ansible Collections, a symlink or an environment variable\nneeds to point to their install path. This change adds creation of\nthe symlink to the setup script and a corresponding documentation\nupdate.\n\nChange-Id: I07804a88ed11b0adb6c398743905725c6cdb90d4\n'}]",0,742192,c331093a3dfdf1e62bf4621e75236d325649113d,18,4,5,32177,,,0,"Create symlink to ansible collections on install

Bifrost requires Ansible Collections for certain tasks including
enrollment of nodes. In order for bifrost playbooks to be able to
utilise Ansible Collections, a symlink or an environment variable
needs to point to their install path. This change adds creation of
the symlink to the setup script and a corresponding documentation
update.

Change-Id: I07804a88ed11b0adb6c398743905725c6cdb90d4
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/92/742192/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/env-setup.sh'],1,648a983a235b09f316336ed742deb988e64ae372,ansible-collections-path-fix,"# Symlink Collections to the playbook directory. This removes the need of setting # ANSIBLE_COLLECTIONS_PATHS environment variable if [ ! -L ""$(dirname $0)/../playbooks/collections"" ]; then echo ""Creating a symbolic link to ansible collections in bifrost playbook directory"" ln -s ${ANSIBLE_COLLECTIONS_PATHS} ""$(dirname $0)/../playbooks/collections"" fi",,6,0
openstack%2Fdiskimage-builder~master~Ic1642325e3a59a10453c356d8d839ce649812af8,openstack/diskimage-builder,master,Ic1642325e3a59a10453c356d8d839ce649812af8,Support non-x86_64 DIB_DISTRIBUTION_MIRROR variable for CentOS 7,MERGED,2020-07-09 08:18:52.000000000,2020-07-24 09:41:03.000000000,2020-07-24 09:38:36.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 7488}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-09 08:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/25c5cdb574a11da6e96a6342ec9fec68d250db1b', 'message': 'support non-x86_64 centos7 to change DIB_DISTRIBUTION_MIRROR variable\n\nChange-Id: Ic1642325e3a59a10453c356d8d839ce649812af8\n'}, {'number': 2, 'created': '2020-07-18 01:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1c51a1d4667d8102ed1f822a192efaf9f285efdf', 'message': 'support non-x86_64 centos7 to change DIB_DISTRIBUTION_MIRROR variable\n\nChange-Id: Ic1642325e3a59a10453c356d8d839ce649812af8\n'}, {'number': 3, 'created': '2020-07-20 00:36:16.000000000', 'files': ['diskimage_builder/elements/centos/pre-install.d/01-set-centos-mirror'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/581ffa023b64d129f13ea3c88abed2627c05c0b4', 'message': 'Support non-x86_64 DIB_DISTRIBUTION_MIRROR variable for CentOS 7\n\nOther architectures are stored under ""altarch"" for CentOS 7, update\nthe match.\n\nConvert the delimiters to "","" to avoid a subtle problem with ""|"" --\nPOSIX states\n\n  Within the BRE and the replacement, the BRE delimiter itself can be\n  used as a literal character if it is preceded by a backslash.\n\nSo ""s|\\(foo\\|bar\\)|moo|"" doesn\'t do what you might think; the inner\npipe becomes a literal | and this will *not* match ""foo"" or ""bar"".\n\nChange-Id: Ic1642325e3a59a10453c356d8d839ce649812af8\n'}]",5,740183,581ffa023b64d129f13ea3c88abed2627c05c0b4,38,7,3,7488,,,0,"Support non-x86_64 DIB_DISTRIBUTION_MIRROR variable for CentOS 7

Other architectures are stored under ""altarch"" for CentOS 7, update
the match.

Convert the delimiters to "","" to avoid a subtle problem with ""|"" --
POSIX states

  Within the BRE and the replacement, the BRE delimiter itself can be
  used as a literal character if it is preceded by a backslash.

So ""s|\(foo\|bar\)|moo|"" doesn't do what you might think; the inner
pipe becomes a literal | and this will *not* match ""foo"" or ""bar"".

Change-Id: Ic1642325e3a59a10453c356d8d839ce649812af8
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/83/740183/3 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/centos/pre-install.d/01-set-centos-mirror'],1,25c5cdb574a11da6e96a6342ec9fec68d250db1b,," if [[ $ARCH == 'x86_64' ]]; then BASE_PREFIX=centos else BASE_PREFIX=altarch fi sed -e ""s|^#baseurl=http[s]*://mirror.centos.org/$BASE_PREFIX|baseurl=$DIB_DISTRIBUTION_MIRROR|;/^mirrorlist=/d"" -i /etc/yum.repos.d/CentOS-Base.repo"," sed -e ""s|^#baseurl=http[s]*://mirror.centos.org/centos|baseurl=$DIB_DISTRIBUTION_MIRROR|;/^mirrorlist=/d"" -i /etc/yum.repos.d/CentOS-Base.repo",6,1
openstack%2Fnova~master~I969eb724b12114fde5660b855f359b40c23ccfec,openstack/nova,master,I969eb724b12114fde5660b855f359b40c23ccfec,tests: Make '_IntegratedTestBase' subclass 'PlacementInstanceHelperMixin',MERGED,2020-07-15 17:29:52.000000000,2020-07-24 09:30:38.000000000,2020-07-24 09:25:12.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-15 17:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c6e02ac0dbb17175dbd2eee5ac8d8002c30998d', 'message': ""tests: Make '_IntegratedTestBase' subclass 'PlacementInstanceHelperMixin'\n\nQuerying placement is an increasingly common requirement of good\nfunctional tests. Add the placement helper mixin into our uberclass so\nas many tests as possible can benefit from it.\n\nChange-Id: I969eb724b12114fde5660b855f359b40c23ccfec\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-16 17:04:26.000000000', 'files': ['nova/tests/functional/integrated_helpers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c60f90cb2f8e2a30ffee5abeebd78f9eee3c6b25', 'message': ""tests: Make '_IntegratedTestBase' subclass 'PlacementInstanceHelperMixin'\n\nQuerying placement is an increasingly common requirement of good\nfunctional tests. Add the placement helper mixin into our uberclass so\nas many tests as possible can benefit from it.\n\nChange-Id: I969eb724b12114fde5660b855f359b40c23ccfec\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",2,741284,c60f90cb2f8e2a30ffee5abeebd78f9eee3c6b25,19,9,2,15334,,,0,"tests: Make '_IntegratedTestBase' subclass 'PlacementInstanceHelperMixin'

Querying placement is an increasingly common requirement of good
functional tests. Add the placement helper mixin into our uberclass so
as many tests as possible can benefit from it.

Change-Id: I969eb724b12114fde5660b855f359b40c23ccfec
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/741284/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/integrated_helpers.py'],1,0c6e02ac0dbb17175dbd2eee5ac8d8002c30998d,bp/add-emulated-virtual-tpm," def _get_provider_uuid_by_name(self, name): return self.placement_api.get( '/resource_providers?name=%s' % name, ).body['resource_providers'][0]['uuid'] class _IntegratedTestBase(test.TestCase, PlacementInstanceHelperMixin): # TODO(stephenfin): This is almost identical to '_IntegratedTestBase' now and # could be removed","class _IntegratedTestBase(test.TestCase, InstanceHelperMixin): # TODO(sbauza): Drop this method once test classes inherit from a mixin def _get_provider_uuid_by_name(self, name): return self.placement_api.get( '/resource_providers?name=%s' % name).body[ 'resource_providers'][0]['uuid'] # TODO(sbauza): Drop this method once test classes inherit from a mixin def _get_all_rp_uuids_in_a_tree(self, in_tree_rp_uuid): rps = self.placement_api.get( '/resource_providers?in_tree=%s' % in_tree_rp_uuid, version='1.20').body['resource_providers'] return [rp['uuid'] for rp in rps] # TODO(sbauza): Drop this method once test classes inherit from a mixin def _get_provider_inventory(self, rp_uuid): return self.placement_api.get( '/resource_providers/%s/inventories' % rp_uuid).body['inventories'] # TODO(sbauza): Drop this method once test classes inherit from a mixin def _get_provider_usages(self, provider_uuid): return self.placement_api.get( '/resource_providers/%s/usages' % provider_uuid).body['usages'] # TODO(sbauza): Drop this method once test classes inherit from a mixin def _create_trait(self, trait): return self.placement_api.put('/traits/%s' % trait, {}, version='1.6') # TODO(sbauza): Drop this method once test classes inherit from a mixin def _set_provider_traits(self, rp_uuid, traits): """"""This will overwrite any existing traits. :param rp_uuid: UUID of the resource provider to update :param traits: list of trait strings to set on the provider :returns: APIResponse object with the results """""" provider = self.placement_api.get( '/resource_providers/%s' % rp_uuid).body put_traits_req = { 'resource_provider_generation': provider['generation'], 'traits': traits } return self.placement_api.put( '/resource_providers/%s/traits' % rp_uuid, put_traits_req, version='1.6') ",10,46
openstack%2Fnova~master~I8645c31b4ecb18afea592b2a5b360b0165626009,openstack/nova,master,I8645c31b4ecb18afea592b2a5b360b0165626009,scheduler: Request vTPM trait based on flavor or image,MERGED,2020-07-03 11:16:41.000000000,2020-07-24 09:27:47.000000000,2020-07-24 09:23:53.000000000,"[{'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-03 11:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/293abe3e8558cb67d46028b533e109bef62b2806', 'message': ""scheduler: Request vTPM trait based on flavor or image\n\nAdd support for the 'hw:tpm_version' and 'hw:tpm_model' flavor extra\nspecs along with the equivalent image metadata properties. These are\npicked up by the scheduler and transformed into trait requests. This is\neffectively a no-op for now since we don't yet have a driver that\nreports these traits.\n\nChange-Id: I8645c31b4ecb18afea592b2a5b360b0165626009\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-07 15:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44df093143dd2e127f72cfd4065b0ebff1413f80', 'message': ""scheduler: Request vTPM trait based on flavor or image\n\nAdd support for the 'hw:tpm_version' and 'hw:tpm_model' flavor extra\nspecs along with the equivalent image metadata properties. These are\npicked up by the scheduler and transformed into trait requests. This is\neffectively a no-op for now since we don't yet have a driver that\nreports these traits.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I8645c31b4ecb18afea592b2a5b360b0165626009\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-07-08 14:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54eafd5e7d0a38bc6e132c2604d1fd9f6ab297f9', 'message': ""scheduler: Request vTPM trait based on flavor or image\n\nAdd support for the 'hw:tpm_version' and 'hw:tpm_model' flavor extra\nspecs along with the equivalent image metadata properties. These are\npicked up by the scheduler and transformed into trait requests. This is\neffectively a no-op for now since we don't yet have a driver that\nreports these traits.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I8645c31b4ecb18afea592b2a5b360b0165626009\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-07-09 13:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b30f9ed638cb00c1d0fd484527dbbc0f5370f33', 'message': ""scheduler: Request vTPM trait based on flavor or image\n\nAdd support for the 'hw:tpm_version' and 'hw:tpm_model' flavor extra\nspecs along with the equivalent image metadata properties. These are\npicked up by the scheduler and transformed into trait requests. This is\neffectively a no-op for now since we don't yet have a driver that\nreports these traits.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I8645c31b4ecb18afea592b2a5b360b0165626009\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2020-07-16 17:04:26.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py', 'nova/scheduler/utils.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'doc/notification_samples/common_payloads/ImageMetaPropsPayload.json', 'nova/objects/fields.py', 'nova/api/validation/extra_specs/hw.py', 'nova/notifications/objects/image.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/virt/hardware.py', 'nova/tests/unit/objects/test_image_meta.py', 'nova/objects/image_meta.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5550f866237157e82cad8c6146b486c62f35a0d8', 'message': ""scheduler: Request vTPM trait based on flavor or image\n\nAdd support for the 'hw:tpm_version' and 'hw:tpm_model' flavor extra\nspecs along with the equivalent image metadata properties. These are\npicked up by the scheduler and transformed into trait requests. This is\neffectively a no-op for now since we don't yet have a driver that\nreports these traits.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I8645c31b4ecb18afea592b2a5b360b0165626009\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",17,739210,5550f866237157e82cad8c6146b486c62f35a0d8,51,12,5,15334,,,0,"scheduler: Request vTPM trait based on flavor or image

Add support for the 'hw:tpm_version' and 'hw:tpm_model' flavor extra
specs along with the equivalent image metadata properties. These are
picked up by the scheduler and transformed into trait requests. This is
effectively a no-op for now since we don't yet have a driver that
reports these traits.

Part of blueprint add-emulated-virtual-tpm

Change-Id: I8645c31b4ecb18afea592b2a5b360b0165626009
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/739210/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_hardware.py', 'nova/scheduler/utils.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'doc/notification_samples/common_payloads/ImageMetaPropsPayload.json', 'nova/objects/fields.py', 'nova/api/validation/extra_specs/hw.py', 'nova/notifications/objects/image.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/virt/hardware.py', 'nova/tests/unit/objects/test_image_meta.py', 'nova/objects/image_meta.py']",13,293abe3e8558cb67d46028b533e109bef62b2806,bp/add-emulated-virtual-tpm," # Version 1.26: Added 'hw_tpm_model' and 'hw_tpm_version' fields VERSION = '1.26' if target_version < (1, 26): primitive.pop('hw_tpm_model', None) primitive.pop('hw_tpm_version', None) # name of emulated TPM model to use. 'hw_tpm_model': fields.TPMModelField(), # version of emulated TPM to use. 'hw_tpm_version': fields.TPMVersionField(), ", VERSION = '1.25',282,10
openstack%2Fceilometer~master~I7c4f03b5d4412ec2844cb24d32ce575442c9fd3c,openstack/ceilometer,master,I7c4f03b5d4412ec2844cb24d32ce575442c9fd3c,Remove [ and ] around parameter values in http url,MERGED,2020-07-21 08:10:01.000000000,2020-07-24 09:26:05.000000000,2020-07-24 03:40:55.000000000,"[{'_account_id': 4264}, {'_account_id': 6732}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-21 08:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/d24eac526a52641d86b82806e5e1ace982804672', 'message': ""Remove [ and ] around parameter values in http url\n\nWithout this patch, using a publisher like\n  - http://host.com/?a=b&c=d\nleads to calling a http post to\nhttp://host.com/?a=['b']&c=['d']\nURLs without additional parameters are not affected.\n\nChange-Id: I7c4f03b5d4412ec2844cb24d32ce575442c9fd3c\n""}, {'number': 2, 'created': '2020-07-21 16:52:46.000000000', 'files': ['ceilometer/publisher/http.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/4c859ad4dfe7a704fc596c041de5b67db7b065ce', 'message': ""Remove [ and ] around parameter values in http url\n\nWithout this patch, using a publisher like\n  - http://host.com/?a=b&c=d\nleads to calling a http post to\nhttp://host.com/?a=['b']&c=['d']\nURLs without additional parameters are not affected.\n\nChange-Id: I7c4f03b5d4412ec2844cb24d32ce575442c9fd3c\n""}]",0,742089,4c859ad4dfe7a704fc596c041de5b67db7b065ce,15,5,2,4264,,,0,"Remove [ and ] around parameter values in http url

Without this patch, using a publisher like
  - http://host.com/?a=b&c=d
leads to calling a http post to
http://host.com/?a=['b']&c=['d']
URLs without additional parameters are not affected.

Change-Id: I7c4f03b5d4412ec2844cb24d32ce575442c9fd3c
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/89/742089/2 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/publisher/http.py'],1,d24eac526a52641d86b82806e5e1ace982804672,querystring, params = dict(urlparse.parse_qsl(parsed_url.query)), params = urlparse.parse_qs(parsed_url.query),1,1
openstack%2Fnova~master~Id8dfe06ba0dbd0e5815db822185d93f23fc46528,openstack/nova,master,Id8dfe06ba0dbd0e5815db822185d93f23fc46528,"tests: Add 'PlacementHelperMixin', 'PlacementInstanceHelperMixin'",MERGED,2020-07-15 17:29:52.000000000,2020-07-24 09:25:01.000000000,2020-07-24 09:25:01.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-15 17:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f86ae912fa6890152b01bcd306f7c2c77b50bd2', 'message': ""tests: Add 'PlacementHelperMixin', 'PlacementInstanceHelperMixin'\n\nWith this, we can move towards removing the 'ProviderUsageBaseTestCase'\nbase test case in favour of selective mixins. Some code is moved around\nbut there are no other functional changes in this change.\n\nChange-Id: Id8dfe06ba0dbd0e5815db822185d93f23fc46528\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-16 17:04:26.000000000', 'files': ['nova/tests/functional/integrated_helpers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/58ecd338c1ffe6e9732813204c559b889aa7b5df', 'message': ""tests: Add 'PlacementHelperMixin', 'PlacementInstanceHelperMixin'\n\nWith this, we can move towards removing the 'ProviderUsageBaseTestCase'\nbase test case in favour of selective mixins. Some code is moved around\nbut there are no other functional changes in this change.\n\nChange-Id: Id8dfe06ba0dbd0e5815db822185d93f23fc46528\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,741283,58ecd338c1ffe6e9732813204c559b889aa7b5df,17,8,2,15334,,,0,"tests: Add 'PlacementHelperMixin', 'PlacementInstanceHelperMixin'

With this, we can move towards removing the 'ProviderUsageBaseTestCase'
base test case in favour of selective mixins. Some code is moved around
but there are no other functional changes in this change.

Change-Id: Id8dfe06ba0dbd0e5815db822185d93f23fc46528
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/83/741283/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/integrated_helpers.py'],1,4f86ae912fa6890152b01bcd306f7c2c77b50bd2,bp/add-emulated-virtual-tpm,"class InstanceHelperMixin: if 'resize' not in request and 'migrate' not in request:class PlacementHelperMixin: """"""A helper mixin for interacting with placement. Expects the folllowing attributes be defined on the parent. - admin_api - api - placement_api """""" # TODO(stephenfin): Rename to '_get_server_allocations' def _get_allocations_by_server_uuid(self, server_uuid): return self.placement_api.get( '/allocations/%s' % server_uuid ).body['allocations'] def _wait_for_server_allocations(self, consumer_id, max_retries=20): retry_count = 0 while True: alloc = self._get_allocations_by_server_uuid(consumer_id) if alloc: break retry_count += 1 if retry_count == max_retries: self.fail('Wait for server allocations failed, ' 'server=%s' % (consumer_id)) time.sleep(0.5) return alloc def _get_all_resource_classes(self): resp = self.placement_api.get( '/resource_classes', version='1.2' ).body['resource_classes'] return [d['name'] for d in resp] def _get_all_providers(self): return self.placement_api.get( '/resource_providers', version='1.14' ).body['resource_providers'] def _get_all_rp_uuids_in_a_tree(self, in_tree_rp_uuid): rps = self.placement_api.get( '/resource_providers?in_tree=%s' % in_tree_rp_uuid, version='1.20', ).body['resource_providers'] return [rp['uuid'] for rp in rps] def _post_resource_provider(self, rp_name): return self.placement_api.post( '/resource_providers', version='1.20', body={'name': rp_name} ).body def _get_resource_provider_by_uuid(self, rp_uuid): return self.placement_api.get( '/resource_providers/%s' % rp_uuid, version='1.15', ).body def _get_provider_usages(self, provider_uuid): return self.placement_api.get( '/resource_providers/%s/usages' % provider_uuid ).body['usages'] # TODO(stephenfin): Rename to '_get_provider_allocations' def _get_allocations_by_provider_uuid(self, rp_uuid): return self.placement_api.get( '/resource_providers/%s/allocations' % rp_uuid ).body['allocations'] def _get_provider_traits(self, rp_uuid): """"""Get traits for the specified provider. :param rp_uuid: UUID of the resource provider to update :returns: Dict object with the results. """""" return self.placement_api.get( '/resource_providers/%s/traits' % rp_uuid, version='1.6' ).body['traits'] def _set_provider_traits(self, rp_uuid, traits): """"""Set traits for the specified provider. This will overwrite any existing traits. :param rp_uuid: UUID of the resource provider to update. :param traits: List of trait strings to set on the provider. :returns: APIResponse object with the results. """""" provider = self.placement_api.get( '/resource_providers/%s' % rp_uuid ).body return self.placement_api.put( '/resource_providers/%s/traits' % rp_uuid, { 'resource_provider_generation': provider['generation'], 'traits': traits }, version='1.6', ) def _get_provider_inventory(self, rp_uuid): return self.placement_api.get( '/resource_providers/%s/inventories' % rp_uuid ).body['inventories'] # TODO(stephenfin): Rename '_set_provider_inventory' def _set_inventory(self, rp_uuid, inv_body): """"""This will set the inventory for a given resource provider. :param rp_uuid: UUID of the resource provider to update :param inv_body: inventory to set on the provider :returns: APIResponse object with the results """""" return self.placement_api.post( '/resource_providers/%s/inventories' % rp_uuid, version='1.15', body=inv_body ).body # TODO(stephenfin): Rename '_update_provider_inventory' def _update_inventory(self, rp_uuid, inv_body): """"""This will update the inventory for a given resource provider. :param rp_uuid: UUID of the resource provider to update :param inv_body: inventory to set on the provider :returns: APIResponse object with the results """""" return self.placement_api.put( '/resource_providers/%s/inventories' % rp_uuid, body=inv_body, ).body def _get_provider_aggregates(self, rp_uuid): return self.placement_api.get( '/resource_providers/%s/aggregates' % rp_uuid, version='1.1' ).body['aggregates'] # TODO(stephenfin): Rename '_set_provider_aggregates' def _set_aggregate(self, rp_uuid, agg_id): provider = self.placement_api.get( '/resource_providers/%s' % rp_uuid ).body return self.placement_api.put( '/resource_providers/%s/aggregates' % rp_uuid, body={ 'aggregates': [agg_id], 'resource_provider_generation': provider['generation'], }, version='1.19', ).body def _get_all_traits(self): return self.placement_api.get('/traits', version='1.6').body['traits'] def _create_trait(self, trait): return self.placement_api.put('/traits/%s' % trait, {}, version='1.6') def _delete_trait(self, trait): return self.placement_api.delete('/traits/%s' % trait, version='1.6') def assertRequestMatchesUsage(self, requested_resources, root_rp_uuid): # It matches the usages of the whole tree against the request rp_uuids = self._get_all_rp_uuids_in_a_tree(root_rp_uuid) # NOTE(gibi): flattening the placement usages means we cannot # verify the structure here. However I don't see any way to define this # function for nested and non-nested trees in a generic way. total_usage = collections.defaultdict(int) for rp in rp_uuids: usage = self._get_provider_usages(rp) for rc, amount in usage.items(): total_usage[rc] += amount # Cannot simply do an assertEqual(expected, actual) as usages always # contain every RC even if the usage is 0 and the flavor could also # contain explicit 0 request for some resources. # So if the flavor contains an explicit 0 resource request (e.g. in # case of ironic resources:VCPU=0) then this code needs to assert that # such resource has 0 usage in the tree. In the other hand if the usage # contains 0 value for some resources that the flavor does not request # then that is totally fine. for rc, value in requested_resources.items(): self.assertIn( rc, total_usage, 'The requested resource class not found in the total_usage of ' 'the RP tree') self.assertEqual( value, total_usage[rc], 'The requested resource amount does not match with the total ' 'resource usage of the RP tree') for rc, value in total_usage.items(): if value != 0: self.assertEqual( requested_resources[rc], value, 'The requested resource amount does not match with the ' 'total resource usage of the RP tree') def assertFlavorMatchesUsage(self, root_rp_uuid, *flavors): resources = collections.defaultdict(int) for flavor in flavors: res = self._resources_from_flavor(flavor) for rc, value in res.items(): resources[rc] += value self.assertRequestMatchesUsage(resources, root_rp_uuid) def _resources_from_flavor(self, flavor): resources = collections.defaultdict(int) resources['VCPU'] = flavor['vcpus'] resources['MEMORY_MB'] = flavor['ram'] resources['DISK_GB'] = flavor['disk'] for key, value in flavor['extra_specs'].items(): if key.startswith('resources'): resources[key.split(':')[1]] += value return resources def assertFlavorMatchesAllocation( self, flavor, consumer_uuid, root_rp_uuid, ): # NOTE(gibi): This function does not handle sharing RPs today. expected_rps = self._get_all_rp_uuids_in_a_tree(root_rp_uuid) allocations = self._get_allocations_by_server_uuid(consumer_uuid) # NOTE(gibi): flattening the placement allocation means we cannot # verify the structure here. However I don't see any way to define this # function for nested and non-nested trees in a generic way. total_allocation = collections.defaultdict(int) for rp, alloc in allocations.items(): self.assertIn( rp, expected_rps, 'Unexpected, out of tree RP in the allocation') for rc, value in alloc['resources'].items(): total_allocation[rc] += value self.assertEqual( self._resources_from_flavor(flavor), total_allocation, 'The resources requested in the flavor does not match with total ' 'allocation in the RP tree') def get_migration_uuid_for_instance(self, instance_uuid): # NOTE(danms): This is too much introspection for a test like this, but # we can't see the migration uuid from the API, so we just encapsulate # the peek behind the curtains here to keep it out of the tests. # TODO(danms): Get the migration uuid from the API once it is exposed ctxt = context.get_admin_context() migrations = db.migration_get_all_by_filters( ctxt, {'instance_uuid': instance_uuid}) self.assertEqual( 1, len(migrations), 'Test expected a single migration but found %i' % len(migrations)) return migrations[0].uuid class PlacementInstanceHelperMixin(InstanceHelperMixin, PlacementHelperMixin): """"""A placement-aware variant of InstanceHelperMixin."""""" def _get_provider_uuid_by_host(self, host): # NOTE(gibi): the compute node id is the same as the compute node # provider uuid on that compute return self.admin_api.api_get( 'os-hypervisors?hypervisor_hostname_pattern=%s' % host ).body['hypervisors'][0]['id'] # TODO(stephenfin): Rename to '_create_server_and_check_allocations' def _boot_and_check_allocations( self, flavor, source_hostname, networks='none', ): """"""Boot an instance and check that the resource allocation is correct After booting an instance on the given host with a given flavor it asserts that both the providers usages and resource allocations match with the resources requested in the flavor. It also asserts that running the periodic update_available_resource call does not change the resource state. :param flavor: the flavor the instance will be booted with :param source_hostname: the name of the host the instance will be booted on :param networks: list of network dicts passed to the server create API or ""none"" or ""auto"" :return: the API representation of the booted instance """""" server_req = self._build_server( image_uuid='155d900f-4e14-4e4c-a73d-069cbf4541e6', flavor_id=flavor['id'], networks=networks, ) server_req['availability_zone'] = 'nova:%s' % source_hostname LOG.info('booting on %s', source_hostname) created_server = self.api.post_server({'server': server_req}) server = self._wait_for_state_change(created_server, 'ACTIVE') # Verify that our source host is what the server ended up on self.assertEqual(source_hostname, server['OS-EXT-SRV-ATTR:host']) source_rp_uuid = self._get_provider_uuid_by_host(source_hostname) # Before we run periodics, make sure that we have allocations/usages # only on the source host self.assertFlavorMatchesUsage(source_rp_uuid, flavor) # Check that the other providers has no usage for rp_uuid in [self._get_provider_uuid_by_host(hostname) for hostname in self.computes.keys() if hostname != source_hostname]: self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, rp_uuid) # Check that the server only allocates resource from the host it is # booted on self.assertFlavorMatchesAllocation( flavor, server['id'], source_rp_uuid) self._run_periodics() # After running the periodics but before we start any other operation, # we should have exactly the same allocation/usage information as # before running the periodics # Check usages on the selected host after boot self.assertFlavorMatchesUsage(source_rp_uuid, flavor) # Check that the server only allocates resource from the host it is # booted on self.assertFlavorMatchesAllocation( flavor, server['id'], source_rp_uuid) # Check that the other providers has no usage for rp_uuid in [self._get_provider_uuid_by_host(hostname) for hostname in self.computes.keys() if hostname != source_hostname]: self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, rp_uuid) return server # TODO(stephenfin): Rename to '_delete_server_and_check_allocations' def _delete_and_check_allocations(self, server): """"""Delete the instance and asserts that the allocations are cleaned If the server was moved (resized or live migrated), also checks that migration-based allocations are also cleaned up. :param server: The API representation of the instance to be deleted :returns: The uuid of the migration record associated with the resize or cold migrate operation """""" # First check to see if there is a related migration record so we can # assert its allocations (if any) are not leaked. with utils.temporary_mutation(self.admin_api, microversion='2.59'): migrations = self.admin_api.api_get( '/os-migrations?instance_uuid=%s' % server['id'] ).body['migrations'] if migrations: # If there is more than one migration, they are sorted by # created_at in descending order so we'll get the last one # which is probably what we'd always want anyway. migration_uuid = migrations[0]['uuid'] else: migration_uuid = None self._delete_server(server) # NOTE(gibi): The resource allocation is deleted after the instance is # destroyed in the db so wait_until_deleted might return before the # the resource are deleted in placement. So we need to wait for the # instance.delete.end notification as that is emitted after the # resources are freed. fake_notifier.wait_for_versioned_notifications('instance.delete.end') for rp_uuid in [ self._get_provider_uuid_by_host(hostname) for hostname in self.computes.keys() ]: self.assertRequestMatchesUsage( {'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, rp_uuid) # and no allocations for the deleted server allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(0, len(allocations)) if migration_uuid: # and no allocations for the delete migration allocations = self._get_allocations_by_server_uuid(migration_uuid) self.assertEqual(0, len(allocations)) return migration_uuid def _move_and_check_allocations( self, server, request, old_flavor, new_flavor, source_rp_uuid, dest_rp_uuid, ): self._migrate_or_resize(server, request) def _check_allocation(): self.assertFlavorMatchesUsage(source_rp_uuid, old_flavor) self.assertFlavorMatchesUsage(dest_rp_uuid, new_flavor) # The instance should own the new_flavor allocation against the # destination host created by the scheduler self.assertFlavorMatchesAllocation(new_flavor, server['id'], dest_rp_uuid) # The migration should own the old_flavor allocation against the # source host created by conductor migration_uuid = self.get_migration_uuid_for_instance(server['id']) self.assertFlavorMatchesAllocation(old_flavor, migration_uuid, source_rp_uuid) # OK, so the move operation has run, but we have not yet confirmed or # reverted the move operation. Before we run periodics, make sure # that we have allocations/usages on BOTH the source and the # destination hosts. _check_allocation() self._run_periodics() _check_allocation() # Make sure the RequestSpec.flavor matches the new_flavor. ctxt = context.get_admin_context() reqspec = objects.RequestSpec.get_by_instance_uuid(ctxt, server['id']) self.assertEqual(new_flavor['id'], reqspec.flavor.flavorid) # TODO(stephenfin): Rename to '_migrate_server_and_check_allocations' def _migrate_and_check_allocations( self, server, flavor, source_rp_uuid, dest_rp_uuid, ): request = {'migrate': None} self._move_and_check_allocations( server, request=request, old_flavor=flavor, new_flavor=flavor, source_rp_uuid=source_rp_uuid, dest_rp_uuid=dest_rp_uuid) # TODO(stephenfin): Rename to '_resize_server_and_check_allocations' def _resize_and_check_allocations( self, server, old_flavor, new_flavor, source_rp_uuid, dest_rp_uuid, ): request = { 'resize': { 'flavorRef': new_flavor['id'] } } self._move_and_check_allocations( server, request=request, old_flavor=old_flavor, new_flavor=new_flavor, source_rp_uuid=source_rp_uuid, dest_rp_uuid=dest_rp_uuid) # TODO(stephenfin): Rename to # '_resize_server_to_same_host_and_check_allocations' def _resize_to_same_host_and_check_allocations( self, server, old_flavor, new_flavor, rp_uuid, ): # Resize the server to the same host and check usages in VERIFY_RESIZE # state self.flags(allow_resize_to_same_host=True) self._resize_server(server, new_flavor['id']) self.assertFlavorMatchesUsage(rp_uuid, old_flavor, new_flavor) # The instance should hold a new_flavor allocation self.assertFlavorMatchesAllocation(new_flavor, server['id'], rp_uuid) # The migration should hold an old_flavor allocation migration_uuid = self.get_migration_uuid_for_instance(server['id']) self.assertFlavorMatchesAllocation(old_flavor, migration_uuid, rp_uuid) # We've resized to the same host and have doubled allocations for both # the old and new flavor on the same host. Run the periodic on the # compute to see if it tramples on what the scheduler did. self._run_periodics() # In terms of usage, it's still double on the host because the instance # and the migration each hold an allocation for the new and old # flavors respectively. self.assertFlavorMatchesUsage(rp_uuid, old_flavor, new_flavor) # The instance should hold a new_flavor allocation self.assertFlavorMatchesAllocation(new_flavor, server['id'], rp_uuid) # The migration should hold an old_flavor allocation self.assertFlavorMatchesAllocation(old_flavor, migration_uuid, rp_uuid) def _check_allocation_during_evacuate( self, flavor, server_uuid, source_root_rp_uuid, dest_root_rp_uuid, ): allocations = self._get_allocations_by_server_uuid(server_uuid) self.assertEqual(2, len(allocations)) self.assertFlavorMatchesUsage(source_root_rp_uuid, flavor) self.assertFlavorMatchesUsage(dest_root_rp_uuid, flavor) def assert_hypervisor_usage( self, compute_node_uuid, flavor, volume_backed, ): """"""Asserts the given hypervisor's resource usage matches the given flavor (assumes a single instance on the hypervisor). :param compute_node_uuid: UUID of the ComputeNode to check. :param flavor: ""flavor"" entry dict from from GET /flavors/{flavor_id} :param volume_backed: True if the flavor is used with a volume-backed server, False otherwise. """""" # GET /os-hypervisors/{uuid} requires at least 2.53 with utils.temporary_mutation(self.admin_api, microversion='2.53'): hypervisor = self.admin_api.api_get( '/os-hypervisors/%s' % compute_node_uuid ).body['hypervisor'] if volume_backed: expected_disk_usage = 0 else: expected_disk_usage = flavor['disk'] # Account for reserved_host_disk_mb. expected_disk_usage += compute_utils.convert_mb_to_ceil_gb( CONF.reserved_host_disk_mb) self.assertEqual(expected_disk_usage, hypervisor['local_gb_used']) # Account for reserved_host_memory_mb. expected_ram_usage = CONF.reserved_host_memory_mb + flavor['ram'] self.assertEqual(expected_ram_usage, hypervisor['memory_mb_used']) # Account for reserved_host_cpus. expected_vcpu_usage = CONF.reserved_host_cpus + flavor['vcpus'] self.assertEqual(expected_vcpu_usage, hypervisor['vcpus_used']) class ProviderUsageBaseTestCase( test.TestCase, InstanceHelperMixin, PlacementHelperMixin, ):","class InstanceHelperMixin(object): if not ('resize' in request or 'migrate' in request):# FIXME(sbauza): There is little value to have this be a whole base testclass # instead of a mixin only providing methods for accessing Placement endpoint. class ProviderUsageBaseTestCase(test.TestCase, InstanceHelperMixin): def _get_provider_uuid_by_host(self, host): # NOTE(gibi): the compute node id is the same as the compute node # provider uuid on that compute resp = self.admin_api.api_get( 'os-hypervisors?hypervisor_hostname_pattern=%s' % host).body return resp['hypervisors'][0]['id'] def _get_provider_usages(self, provider_uuid): return self.placement_api.get( '/resource_providers/%s/usages' % provider_uuid).body['usages'] def _get_allocations_by_server_uuid(self, server_uuid): return self.placement_api.get( '/allocations/%s' % server_uuid).body['allocations'] def _wait_for_server_allocations(self, consumer_id, max_retries=20): retry_count = 0 while True: alloc = self._get_allocations_by_server_uuid(consumer_id) if alloc: break retry_count += 1 if retry_count == max_retries: self.fail('Wait for server allocations failed, ' 'server=%s' % (consumer_id)) time.sleep(0.5) return alloc def _get_allocations_by_provider_uuid(self, rp_uuid): return self.placement_api.get( '/resource_providers/%s/allocations' % rp_uuid).body['allocations'] def _get_all_providers(self): return self.placement_api.get( '/resource_providers', version='1.14').body['resource_providers'] def _create_trait(self, trait): return self.placement_api.put('/traits/%s' % trait, {}, version='1.6') def _delete_trait(self, trait): return self.placement_api.delete('/traits/%s' % trait, version='1.6') def _get_provider_traits(self, provider_uuid): return self.placement_api.get( '/resource_providers/%s/traits' % provider_uuid, version='1.6').body['traits'] def _set_provider_traits(self, rp_uuid, traits): """"""This will overwrite any existing traits. :param rp_uuid: UUID of the resource provider to update :param traits: list of trait strings to set on the provider :returns: APIResponse object with the results """""" provider = self.placement_api.get( '/resource_providers/%s' % rp_uuid).body put_traits_req = { 'resource_provider_generation': provider['generation'], 'traits': traits } return self.placement_api.put( '/resource_providers/%s/traits' % rp_uuid, put_traits_req, version='1.6') def _get_all_resource_classes(self): dicts = self.placement_api.get( '/resource_classes', version='1.2').body['resource_classes'] return [d['name'] for d in dicts] def _get_all_traits(self): return self.placement_api.get('/traits', version='1.6').body['traits'] def _get_provider_inventory(self, rp_uuid): return self.placement_api.get( '/resource_providers/%s/inventories' % rp_uuid).body['inventories'] def _get_provider_aggregates(self, rp_uuid): return self.placement_api.get( '/resource_providers/%s/aggregates' % rp_uuid, version='1.1').body['aggregates'] def _post_resource_provider(self, rp_name): return self.placement_api.post( url='/resource_providers', version='1.20', body={'name': rp_name}).body def _set_inventory(self, rp_uuid, inv_body): """"""This will set the inventory for a given resource provider. :param rp_uuid: UUID of the resource provider to update :param inv_body: inventory to set on the provider :returns: APIResponse object with the results """""" return self.placement_api.post( url= ('/resource_providers/%s/inventories' % rp_uuid), version='1.15', body=inv_body).body def _update_inventory(self, rp_uuid, inv_body): """"""This will update the inventory for a given resource provider. :param rp_uuid: UUID of the resource provider to update :param inv_body: inventory to set on the provider :returns: APIResponse object with the results """""" return self.placement_api.put( url= ('/resource_providers/%s/inventories' % rp_uuid), body=inv_body).body def _get_resource_provider_by_uuid(self, rp_uuid): return self.placement_api.get( '/resource_providers/%s' % rp_uuid, version='1.15').body def _set_aggregate(self, rp_uuid, agg_id): provider = self.placement_api.get( '/resource_providers/%s' % rp_uuid).body post_agg_req = {""aggregates"": [agg_id], ""resource_provider_generation"": provider['generation']} return self.placement_api.put( '/resource_providers/%s/aggregates' % rp_uuid, version='1.19', body=post_agg_req).body def _get_all_rp_uuids_in_a_tree(self, in_tree_rp_uuid): rps = self.placement_api.get( '/resource_providers?in_tree=%s' % in_tree_rp_uuid, version='1.20').body['resource_providers'] return [rp['uuid'] for rp in rps] def assertRequestMatchesUsage(self, requested_resources, root_rp_uuid): # It matches the usages of the whole tree against the request rp_uuids = self._get_all_rp_uuids_in_a_tree(root_rp_uuid) # NOTE(gibi): flattening the placement usages means we cannot # verify the structure here. However I don't see any way to define this # function for nested and non-nested trees in a generic way. total_usage = collections.defaultdict(int) for rp in rp_uuids: usage = self._get_provider_usages(rp) for rc, amount in usage.items(): total_usage[rc] += amount # Cannot simply do an assertEqual(expected, actual) as usages always # contain every RC even if the usage is 0 and the flavor could also # contain explicit 0 request for some resources. # So if the flavor contains an explicit 0 resource request (e.g. in # case of ironic resources:VCPU=0) then this code needs to assert that # such resource has 0 usage in the tree. In the other hand if the usage # contains 0 value for some resources that the flavor does not request # then that is totally fine. for rc, value in requested_resources.items(): self.assertIn( rc, total_usage, 'The requested resource class not found in the total_usage of ' 'the RP tree') self.assertEqual( value, total_usage[rc], 'The requested resource amount does not match with the total ' 'resource usage of the RP tree') for rc, value in total_usage.items(): if value != 0: self.assertEqual( requested_resources[rc], value, 'The requested resource amount does not match with the ' 'total resource usage of the RP tree') def assertFlavorMatchesUsage(self, root_rp_uuid, *flavors): resources = collections.defaultdict(int) for flavor in flavors: res = self._resources_from_flavor(flavor) for rc, value in res.items(): resources[rc] += value self.assertRequestMatchesUsage(resources, root_rp_uuid) def _resources_from_flavor(self, flavor): resources = collections.defaultdict(int) resources['VCPU'] = flavor['vcpus'] resources['MEMORY_MB'] = flavor['ram'] resources['DISK_GB'] = flavor['disk'] for key, value in flavor['extra_specs'].items(): if key.startswith('resources'): resources[key.split(':')[1]] += value return resources def assertFlavorMatchesAllocation(self, flavor, consumer_uuid, root_rp_uuid): # NOTE(gibi): This function does not handle sharing RPs today. expected_rps = self._get_all_rp_uuids_in_a_tree(root_rp_uuid) allocations = self._get_allocations_by_server_uuid(consumer_uuid) # NOTE(gibi): flattening the placement allocation means we cannot # verify the structure here. However I don't see any way to define this # function for nested and non-nested trees in a generic way. total_allocation = collections.defaultdict(int) for rp, alloc in allocations.items(): self.assertIn(rp, expected_rps, 'Unexpected, out of tree RP in the' ' allocation') for rc, value in alloc['resources'].items(): total_allocation[rc] += value self.assertEqual( self._resources_from_flavor(flavor), total_allocation, 'The resources requested in the flavor does not match with total ' 'allocation in the RP tree') def get_migration_uuid_for_instance(self, instance_uuid): # NOTE(danms): This is too much introspection for a test like this, but # we can't see the migration uuid from the API, so we just encapsulate # the peek behind the curtains here to keep it out of the tests. # TODO(danms): Get the migration uuid from the API once it is exposed ctxt = context.get_admin_context() migrations = db.migration_get_all_by_filters( ctxt, {'instance_uuid': instance_uuid}) self.assertEqual(1, len(migrations), 'Test expected a single migration, ' 'but found %i' % len(migrations)) return migrations[0].uuid def _boot_and_check_allocations( self, flavor, source_hostname, networks='none'): """"""Boot an instance and check that the resource allocation is correct After booting an instance on the given host with a given flavor it asserts that both the providers usages and resource allocations match with the resources requested in the flavor. It also asserts that running the periodic update_available_resource call does not change the resource state. :param flavor: the flavor the instance will be booted with :param source_hostname: the name of the host the instance will be booted on :param networks: list of network dicts passed to the server create API or ""none"" or ""auto"" :return: the API representation of the booted instance """""" server_req = self._build_server( image_uuid='155d900f-4e14-4e4c-a73d-069cbf4541e6', flavor_id=flavor['id'], networks=networks) server_req['availability_zone'] = 'nova:%s' % source_hostname LOG.info('booting on %s', source_hostname) created_server = self.api.post_server({'server': server_req}) server = self._wait_for_state_change(created_server, 'ACTIVE') # Verify that our source host is what the server ended up on self.assertEqual(source_hostname, server['OS-EXT-SRV-ATTR:host']) source_rp_uuid = self._get_provider_uuid_by_host(source_hostname) # Before we run periodics, make sure that we have allocations/usages # only on the source host self.assertFlavorMatchesUsage(source_rp_uuid, flavor) # Check that the other providers has no usage for rp_uuid in [self._get_provider_uuid_by_host(hostname) for hostname in self.computes.keys() if hostname != source_hostname]: self.assertRequestMatchesUsage({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, rp_uuid) # Check that the server only allocates resource from the host it is # booted on self.assertFlavorMatchesAllocation(flavor, server['id'], source_rp_uuid) self._run_periodics() # After running the periodics but before we start any other operation, # we should have exactly the same allocation/usage information as # before running the periodics # Check usages on the selected host after boot self.assertFlavorMatchesUsage(source_rp_uuid, flavor) # Check that the server only allocates resource from the host it is # booted on self.assertFlavorMatchesAllocation(flavor, server['id'], source_rp_uuid) # Check that the other providers has no usage for rp_uuid in [self._get_provider_uuid_by_host(hostname) for hostname in self.computes.keys() if hostname != source_hostname]: self.assertRequestMatchesUsage({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, rp_uuid) return server def _delete_and_check_allocations(self, server): """"""Delete the instance and asserts that the allocations are cleaned If the server was moved (resized or live migrated), also checks that migration-based allocations are also cleaned up. :param server: The API representation of the instance to be deleted :returns: The uuid of the migration record associated with the resize or cold migrate operation """""" # First check to see if there is a related migration record so we can # assert its allocations (if any) are not leaked. with utils.temporary_mutation(self.admin_api, microversion='2.59'): migrations = self.admin_api.api_get( '/os-migrations?instance_uuid=%s' % server['id']).body['migrations'] if migrations: # If there is more than one migration, they are sorted by # created_at in descending order so we'll get the last one # which is probably what we'd always want anyway. migration_uuid = migrations[0]['uuid'] else: migration_uuid = None self._delete_server(server) # NOTE(gibi): The resource allocation is deleted after the instance is # destroyed in the db so wait_until_deleted might return before the # the resource are deleted in placement. So we need to wait for the # instance.delete.end notification as that is emitted after the # resources are freed. fake_notifier.wait_for_versioned_notifications('instance.delete.end') for rp_uuid in [self._get_provider_uuid_by_host(hostname) for hostname in self.computes.keys()]: self.assertRequestMatchesUsage({'VCPU': 0, 'MEMORY_MB': 0, 'DISK_GB': 0}, rp_uuid) # and no allocations for the deleted server allocations = self._get_allocations_by_server_uuid(server['id']) self.assertEqual(0, len(allocations)) if migration_uuid: # and no allocations for the delete migration allocations = self._get_allocations_by_server_uuid(migration_uuid) self.assertEqual(0, len(allocations)) return migration_uuid def _move_and_check_allocations(self, server, request, old_flavor, new_flavor, source_rp_uuid, dest_rp_uuid): self._migrate_or_resize(server, request) def _check_allocation(): self.assertFlavorMatchesUsage(source_rp_uuid, old_flavor) self.assertFlavorMatchesUsage(dest_rp_uuid, new_flavor) # The instance should own the new_flavor allocation against the # destination host created by the scheduler self.assertFlavorMatchesAllocation(new_flavor, server['id'], dest_rp_uuid) # The migration should own the old_flavor allocation against the # source host created by conductor migration_uuid = self.get_migration_uuid_for_instance(server['id']) self.assertFlavorMatchesAllocation(old_flavor, migration_uuid, source_rp_uuid) # OK, so the move operation has run, but we have not yet confirmed or # reverted the move operation. Before we run periodics, make sure # that we have allocations/usages on BOTH the source and the # destination hosts. _check_allocation() self._run_periodics() _check_allocation() # Make sure the RequestSpec.flavor matches the new_flavor. ctxt = context.get_admin_context() reqspec = objects.RequestSpec.get_by_instance_uuid(ctxt, server['id']) self.assertEqual(new_flavor['id'], reqspec.flavor.flavorid) def _migrate_and_check_allocations(self, server, flavor, source_rp_uuid, dest_rp_uuid): request = { 'migrate': None } self._move_and_check_allocations( server, request=request, old_flavor=flavor, new_flavor=flavor, source_rp_uuid=source_rp_uuid, dest_rp_uuid=dest_rp_uuid) def _resize_and_check_allocations(self, server, old_flavor, new_flavor, source_rp_uuid, dest_rp_uuid): request = { 'resize': { 'flavorRef': new_flavor['id'] } } self._move_and_check_allocations( server, request=request, old_flavor=old_flavor, new_flavor=new_flavor, source_rp_uuid=source_rp_uuid, dest_rp_uuid=dest_rp_uuid) def _resize_to_same_host_and_check_allocations(self, server, old_flavor, new_flavor, rp_uuid): # Resize the server to the same host and check usages in VERIFY_RESIZE # state self.flags(allow_resize_to_same_host=True) self._resize_server(server, new_flavor['id']) self.assertFlavorMatchesUsage(rp_uuid, old_flavor, new_flavor) # The instance should hold a new_flavor allocation self.assertFlavorMatchesAllocation(new_flavor, server['id'], rp_uuid) # The migration should hold an old_flavor allocation migration_uuid = self.get_migration_uuid_for_instance(server['id']) self.assertFlavorMatchesAllocation(old_flavor, migration_uuid, rp_uuid) # We've resized to the same host and have doubled allocations for both # the old and new flavor on the same host. Run the periodic on the # compute to see if it tramples on what the scheduler did. self._run_periodics() # In terms of usage, it's still double on the host because the instance # and the migration each hold an allocation for the new and old # flavors respectively. self.assertFlavorMatchesUsage(rp_uuid, old_flavor, new_flavor) # The instance should hold a new_flavor allocation self.assertFlavorMatchesAllocation(new_flavor, server['id'], rp_uuid) # The migration should hold an old_flavor allocation self.assertFlavorMatchesAllocation(old_flavor, migration_uuid, rp_uuid) def _check_allocation_during_evacuate( self, flavor, server_uuid, source_root_rp_uuid, dest_root_rp_uuid): allocations = self._get_allocations_by_server_uuid(server_uuid) self.assertEqual(2, len(allocations)) self.assertFlavorMatchesUsage(source_root_rp_uuid, flavor) self.assertFlavorMatchesUsage(dest_root_rp_uuid, flavor) def assert_hypervisor_usage(self, compute_node_uuid, flavor, volume_backed): """"""Asserts the given hypervisor's resource usage matches the given flavor (assumes a single instance on the hypervisor). :param compute_node_uuid: UUID of the ComputeNode to check. :param flavor: ""flavor"" entry dict from from GET /flavors/{flavor_id} :param volume_backed: True if the flavor is used with a volume-backed server, False otherwise. """""" # GET /os-hypervisors/{uuid} requires at least 2.53 with utils.temporary_mutation(self.admin_api, microversion='2.53'): hypervisor = self.admin_api.api_get( '/os-hypervisors/%s' % compute_node_uuid).body['hypervisor'] if volume_backed: expected_disk_usage = 0 else: expected_disk_usage = flavor['disk'] # Account for reserved_host_disk_mb. expected_disk_usage += compute_utils.convert_mb_to_ceil_gb( CONF.reserved_host_disk_mb) self.assertEqual(expected_disk_usage, hypervisor['local_gb_used']) # Account for reserved_host_memory_mb. expected_ram_usage = CONF.reserved_host_memory_mb + flavor['ram'] self.assertEqual(expected_ram_usage, hypervisor['memory_mb_used']) # Account for reserved_host_cpus. expected_vcpu_usage = CONF.reserved_host_cpus + flavor['vcpus'] self.assertEqual(expected_vcpu_usage, hypervisor['vcpus_used'])",528,468
openstack%2Fnova~master~I999fc4aaf14cca02e4ed730afb844a043b59530c,openstack/nova,master,I999fc4aaf14cca02e4ed730afb844a043b59530c,tests: Remove 'test_servers.ServersTestBase',MERGED,2020-07-15 17:29:52.000000000,2020-07-24 09:24:53.000000000,2020-07-24 09:24:53.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-15 17:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e36c01b6326de9f63439329fc23cd352095ff97', 'message': ""tests: Remove 'test_servers.ServersTestBase'\n\nWe want to add placement-specific stuff to some libvirt tests.\nCurrently, these tests inherit from 'test_servers.ServersTestBase',\nbut, thanks to earlier refactors, this is now essentially identical\nto '_IntegratedTestBase', which could also benefit from the placement\nfunctionality. Kill two birds with one stone by removing the\n'ServersTestBase' base class in favor of '_IntegratedTestBase'\n\nChange-Id: I999fc4aaf14cca02e4ed730afb844a043b59530c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-16 17:04:26.000000000', 'files': ['nova/tests/functional/test_multiattach.py', 'nova/tests/functional/db/test_archive.py', 'nova/tests/functional/test_images.py', 'nova/tests/functional/test_legacy_v2_compatible_wrapper.py', 'nova/tests/functional/wsgi/test_interfaces.py', 'nova/tests/functional/db/test_virtual_interface.py', 'nova/tests/functional/test_instance_actions.py', 'nova/tests/functional/libvirt/test_vgpu.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/test_boot_from_volume.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/functional/wsgi/test_secgroup.py', 'nova/tests/functional/regressions/test_bug_1823370.py', 'nova/tests/functional/test_conf_max_attach_disk_devices.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1669054.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bfe7b7f3ee340012b3a9f1294ce86b07456ab206', 'message': ""tests: Remove 'test_servers.ServersTestBase'\n\nWe want to add placement-specific stuff to some libvirt tests.\nCurrently, these tests inherit from 'test_servers.ServersTestBase',\nbut, thanks to earlier refactors, this is now essentially identical\nto '_IntegratedTestBase', which could also benefit from the placement\nfunctionality. Kill two birds with one stone by removing the\n'ServersTestBase' base class in favor of '_IntegratedTestBase'. The only\nsignificant fallout from doing to is that the default API version for\n'_IntegratedTestBase' is 'v2.1' versus 'v2' for 'ServersTestBase', but\nthis is relatively easy remedy.\n\nChange-Id: I999fc4aaf14cca02e4ed730afb844a043b59530c\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",13,741282,bfe7b7f3ee340012b3a9f1294ce86b07456ab206,19,9,2,15334,,,0,"tests: Remove 'test_servers.ServersTestBase'

We want to add placement-specific stuff to some libvirt tests.
Currently, these tests inherit from 'test_servers.ServersTestBase',
but, thanks to earlier refactors, this is now essentially identical
to '_IntegratedTestBase', which could also benefit from the placement
functionality. Kill two birds with one stone by removing the
'ServersTestBase' base class in favor of '_IntegratedTestBase'. The only
significant fallout from doing to is that the default API version for
'_IntegratedTestBase' is 'v2.1' versus 'v2' for 'ServersTestBase', but
this is relatively easy remedy.

Change-Id: I999fc4aaf14cca02e4ed730afb844a043b59530c
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/741282/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_multiattach.py', 'nova/tests/functional/db/test_archive.py', 'nova/tests/functional/test_images.py', 'nova/tests/functional/test_legacy_v2_compatible_wrapper.py', 'nova/tests/functional/wsgi/test_interfaces.py', 'nova/tests/functional/db/test_virtual_interface.py', 'nova/tests/functional/test_instance_actions.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/test_boot_from_volume.py', 'nova/tests/functional/libvirt/base.py', 'nova/tests/functional/wsgi/test_secgroup.py', 'nova/tests/functional/regressions/test_bug_1823370.py', 'nova/tests/functional/test_conf_max_attach_disk_devices.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1669054.py']",15,0e36c01b6326de9f63439329fc23cd352095ff97,bp/add-emulated-virtual-tpm,, _image_ref_parameter = 'imageRef' _flavor_ref_parameter = 'flavorRef',58,92
openstack%2Fnova~master~Id30e10eab6697e9543d432a8feb2f50d454b6ac8,openstack/nova,master,Id30e10eab6697e9543d432a8feb2f50d454b6ac8,tests: Define constants in '_IntegratedTestBase',MERGED,2020-07-15 17:29:52.000000000,2020-07-24 09:24:45.000000000,2020-07-24 09:24:45.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-15 17:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d700a74651ddbd3df258143486fbc87ca4f11300', 'message': ""tests: Define constants in '_IntegratedTestBase'\n\nUse a slightly more consistent naming scheme for variables, including\ndocumentation, and add some variables that should always be defined.\n\nChange-Id: Id30e10eab6697e9543d432a8feb2f50d454b6ac8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-16 17:04:26.000000000', 'files': ['nova/tests/functional/api_sample_tests/api_sample_base.py', 'nova/tests/functional/api_sample_tests/test_versions.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/api_samples_test_base.py', 'nova/tests/functional/api_sample_tests/test_compare_result.py', 'nova/tests/functional/api_sample_tests/test_simple_tenant_usage.py', 'nova/tests/functional/test_middleware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c558b58619affccd505d6e69f16267864c6313ec', 'message': ""tests: Define constants in '_IntegratedTestBase'\n\nUse a slightly more consistent naming scheme for variables, including\ndocumentation, and add some variables that should always be defined.\n\nChange-Id: Id30e10eab6697e9543d432a8feb2f50d454b6ac8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,741281,c558b58619affccd505d6e69f16267864c6313ec,19,8,2,15334,,,0,"tests: Define constants in '_IntegratedTestBase'

Use a slightly more consistent naming scheme for variables, including
documentation, and add some variables that should always be defined.

Change-Id: Id30e10eab6697e9543d432a8feb2f50d454b6ac8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/741281/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api_sample_tests/api_sample_base.py', 'nova/tests/functional/api_sample_tests/test_versions.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/api_samples_test_base.py', 'nova/tests/functional/api_sample_tests/test_compare_result.py', 'nova/tests/functional/api_sample_tests/test_simple_tenant_usage.py', 'nova/tests/functional/test_middleware.py']",7,d700a74651ddbd3df258143486fbc87ca4f11300,bp/add-emulated-virtual-tpm, self.exp_version_status = 300 if self.USE_PROJECT_ID else 200, self.exp_version_status = 300 if self._use_project_id else 200,35,18
openstack%2Fnova~master~I27a452bb5e4756dd5a206f875b9e464692b01a12,openstack/nova,master,I27a452bb5e4756dd5a206f875b9e464692b01a12,tests: Move single use constants to their callers,MERGED,2020-07-15 17:29:52.000000000,2020-07-24 09:24:35.000000000,2020-07-24 09:24:35.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-15 17:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba46e194492f3679ec77e5a271f1b47d0402a0df', 'message': ""tests: Move single use constants to their callers\n\nThese two constants don't belong on the parent class until they have at\nleast a second caller.\n\nChange-Id: I27a452bb5e4756dd5a206f875b9e464692b01a12\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-16 17:04:26.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/test_servers_provider_tree.py', 'nova/tests/functional/libvirt/test_report_cpu_traits.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/af5a6aae451a0733ba2eb3fc4ab3cde9b4926927', 'message': ""tests: Move single use constants to their callers\n\nThese two constants don't belong on the parent class until they have at\nleast a second caller.\n\nChange-Id: I27a452bb5e4756dd5a206f875b9e464692b01a12\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,741280,af5a6aae451a0733ba2eb3fc4ab3cde9b4926927,19,8,2,15334,,,0,"tests: Move single use constants to their callers

These two constants don't belong on the parent class until they have at
least a second caller.

Change-Id: I27a452bb5e4756dd5a206f875b9e464692b01a12
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/741280/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/test_servers_provider_tree.py', 'nova/tests/functional/libvirt/test_report_cpu_traits.py']",3,ba46e194492f3679ec77e5a271f1b47d0402a0df,bp/add-emulated-virtual-tpm," # These must match the capabilities in # nova.virt.libvirt.driver.LibvirtDriver.capabilities expected_libvirt_driver_capability_traits = set([ trait for trait in [ ost.COMPUTE_ACCELERATORS, ost.COMPUTE_DEVICE_TAGGING, ost.COMPUTE_NET_ATTACH_INTERFACE, ost.COMPUTE_NET_ATTACH_INTERFACE_WITH_TAG, ost.COMPUTE_VOLUME_ATTACH_WITH_TAG, ost.COMPUTE_VOLUME_EXTEND, ost.COMPUTE_VOLUME_MULTI_ATTACH, ost.COMPUTE_TRUSTED_CERTS, ost.COMPUTE_IMAGE_TYPE_AKI, ost.COMPUTE_IMAGE_TYPE_AMI, ost.COMPUTE_IMAGE_TYPE_ARI, ost.COMPUTE_IMAGE_TYPE_ISO, ost.COMPUTE_IMAGE_TYPE_QCOW2, ost.COMPUTE_IMAGE_TYPE_RAW, ost.COMPUTE_RESCUE_BFV, ] ]) ",,38,40
openstack%2Fnova~master~I2bcb5f34e1b24e38586420ecd95d4c9be2ddca02,openstack/nova,master,I2bcb5f34e1b24e38586420ecd95d4c9be2ddca02,tests: Rename tests for '_create_guest_with_network',MERGED,2020-07-10 13:40:31.000000000,2020-07-24 09:24:25.000000000,2020-07-24 09:24:25.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-10 13:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37779a684592f67cb01ae1ff926ae7e8c07abb45', 'message': ""tests: Rename tests for '_create_guest_with_network'\n\nTurns out we have no tests for the 'LibvirtDriver._create_guest' method,\nthough you wouldn't believe it based on a quick skim of the tests.\nRename some tests to indicate what they're actually testing, with an eye\non adding coverage of '_create_guest' in a future change.\n\nChange-Id: I2bcb5f34e1b24e38586420ecd95d4c9be2ddca02\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-16 17:04:26.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9ae79d3b2914b9925a820a301d85985da271a65e', 'message': ""tests: Rename tests for '_create_guest_with_network'\n\nTurns out we have no tests for the 'LibvirtDriver._create_guest' method,\nthough you wouldn't believe it based on a quick skim of the tests.\nRename some tests to indicate what they're actually testing, with an eye\non adding coverage of '_create_guest' in a future change.\n\nChange-Id: I2bcb5f34e1b24e38586420ecd95d4c9be2ddca02\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,740464,9ae79d3b2914b9925a820a301d85985da271a65e,19,8,2,15334,,,0,"tests: Rename tests for '_create_guest_with_network'

Turns out we have no tests for the 'LibvirtDriver._create_guest' method,
though you wouldn't believe it based on a quick skim of the tests.
Rename some tests to indicate what they're actually testing, with an eye
on adding coverage of '_create_guest' in a future change.

Change-Id: I2bcb5f34e1b24e38586420ecd95d4c9be2ddca02
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/740464/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/libvirt/test_driver.py'],1,37779a684592f67cb01ae1ff926ae7e8c07abb45,bp/add-emulated-virtual-tpm," def test_create_guest_with_network__unmount_fs_if_error_during_lxc_create( self, mock_get_inst_path, mock_ensure_tree, mock_setup_container, mock_get_info, mock_teardown, ): def test_create_guest_with_network__lxc( self, mock_get_inst_path, mock_ensure_tree, mock_setup_container, mock_get_info, mock_clean, ): def test_create_guest_with_network__lxc_id_maps( def test_create_guest_with_network__lxc_not_running( def test_create_guest_with_network__propagates_exceptions(self): def test_create_guest_with_network__without_pause(self): def _test_create_guest_with_network__events( self, neutron_failure=None, power_on=True, events=None, ): def test_create_guest_with_network__events_neutron(self): self._test_create_guest_with_network__events() def test_create_guest_with_network__events_passed_in(self): self._test_create_guest_with_network__events( def test_create_guest_with_network__events_passed_in_0_timeout(self): self._test_create_guest_with_network__events( def test_create_guest_with_network_events_neutron_power_off(self): self._test_create_guest_with_network__events(power_on=False) def test_create_guest_with_network__events_nowait(self): self._test_create_guest_with_network__events() def test_create_guest_with_network__events_failed_nonfatal_timeout(self): self._test_create_guest_with_network__events(neutron_failure='timeout') def test_create_guest_with_network__events_failed_fatal_timeout(self): self._test_create_guest_with_network__events, def test_create_guest_with_network__events_failed_nonfatal_error(self): self._test_create_guest_with_network__events(neutron_failure='error') def test_create_guest_with_network__events_failed_fatal_error(self): self._test_create_guest_with_network__events, def test_create_guest_with_network__with_other_error(self): def test_create_guest_with_network__with_bdm( self, get_info_from_bdm, get_encryption_metadata, ):"," def test_unmount_fs_if_error_during_lxc_create_guest(self, mock_get_inst_path, mock_ensure_tree, mock_setup_container, mock_get_info, mock_teardown): def test_create_guest_lxc(self, mock_get_inst_path, mock_ensure_tree, mock_setup_container, mock_get_info, mock_clean): def test_create_guest_lxc_id_maps( def test_create_guest_lxc_not_running( def test_create_propagates_exceptions(self): def test_create_without_pause(self): def _test_create_with_network_events(self, neutron_failure=None, power_on=True, events=None): def test_create_with_network_events_passed_in(self): self._test_create_with_network_events( def test_create_with_network_events_passed_in_0_timeout(self): self._test_create_with_network_events( def test_create_with_network_events_neutron(self): self._test_create_with_network_events() def test_create_with_network_events_neutron_power_off(self): self._test_create_with_network_events(power_on=False) def test_create_with_network_events_neutron_nowait(self): self._test_create_with_network_events() def test_create_with_network_events_neutron_failed_nonfatal_timeout(self): self._test_create_with_network_events(neutron_failure='timeout') def test_create_with_network_events_neutron_failed_fatal_timeout(self): self._test_create_with_network_events, def test_create_with_network_events_neutron_failed_nonfatal_error(self): self._test_create_with_network_events(neutron_failure='error') def test_create_with_network_events_neutron_failed_fatal_error(self): self._test_create_with_network_events, def test_create_with_other_error(self): def test_create_with_bdm(self, get_info_from_bdm, get_encryption_metadata):",38,32
openstack%2Fnova~master~I4f4446a0b52c3afca9e63a1882e7375c316dc30e,openstack/nova,master,I4f4446a0b52c3afca9e63a1882e7375c316dc30e,manager: Prevent compute startup on invalid vTPM config,MERGED,2020-07-03 11:16:41.000000000,2020-07-24 09:24:14.000000000,2020-07-24 09:24:14.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-03 11:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4c4ef44d547d338867904f6afd1eadfac599b48', 'message': 'manager: Prevent compute startup on invalid vTPM config\n\nIf we have instances requesting vTPM configuration, but not vTPM support\nconfigured, we should crash and burn.\n\nChange-Id: I4f4446a0b52c3afca9e63a1882e7375c316dc30e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2020-07-07 15:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/393573538db9b2d9e07ae36a83d27a71be6b44ff', 'message': 'manager: Prevent compute startup on invalid vTPM config\n\nIf we have instances requesting vTPM configuration, but not vTPM support\nconfigured, we should crash and burn.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I4f4446a0b52c3afca9e63a1882e7375c316dc30e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2020-07-08 14:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad20657b656f8aee16902b8b209dddb702bcda0c', 'message': 'manager: Prevent compute startup on invalid vTPM config\n\nIf we have instances requesting vTPM configuration, but not vTPM support\nconfigured, we should crash and burn.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I4f4446a0b52c3afca9e63a1882e7375c316dc30e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2020-07-09 13:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6ba4cc6f022a51a0a497a99d96a4248666dc626', 'message': 'manager: Prevent compute startup on invalid vTPM config\n\nIf we have instances requesting vTPM configuration, but not vTPM support\nconfigured, we should crash and burn.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I4f4446a0b52c3afca9e63a1882e7375c316dc30e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2020-07-16 17:04:26.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/libvirt/driver.py', 'nova/virt/driver.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/powervm/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bf5eea6fda23cc709e31cedb39e4054fafe923d2', 'message': 'manager: Prevent compute startup on invalid vTPM config\n\nIf we have instances requesting vTPM configuration, but not vTPM support\nconfigured, we should crash and burn.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: I4f4446a0b52c3afca9e63a1882e7375c316dc30e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,739212,bf5eea6fda23cc709e31cedb39e4054fafe923d2,40,10,5,15334,,,0,"manager: Prevent compute startup on invalid vTPM config

If we have instances requesting vTPM configuration, but not vTPM support
configured, we should crash and burn.

Part of blueprint add-emulated-virtual-tpm

Change-Id: I4f4446a0b52c3afca9e63a1882e7375c316dc30e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/739212/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/driver.py', 'nova/compute/manager.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/powervm/driver.py']",5,c4c4ef44d547d338867904f6afd1eadfac599b48,bp/add-emulated-virtual-tpm," 'supports_accelerators': False, 'supports_vtpm': False,"," ""supports_accelerators"": False,",90,1
openstack%2Fnova~master~Iff6195d252b018f008bb9d137e4d80c54b70b2d1,openstack/nova,master,Iff6195d252b018f008bb9d137e4d80c54b70b2d1,"crypto: Add support for creating, destroying vTPM secrets",MERGED,2020-07-03 11:16:41.000000000,2020-07-24 09:24:01.000000000,2020-07-24 09:24:01.000000000,"[{'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-03 11:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f955cf68feef30024476f94a1f851a32ec0b947', 'message': ""crypto: Add support for creating, destroying vTPM secrets\n\nProvide a method to communicate with the configured key manager service\nusing Castellan, a generic key manager interface that supports multiple\nbackends including - but not limited to - Barbican. Once again, there's\nnothing using this yet but tests, though this will change shortly.\n\nChange-Id: Iff6195d252b018f008bb9d137e4d80c54b70b2d1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-07-07 15:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/138b525036cc96d2aeb65b3cc736f087c57f7b25', 'message': ""crypto: Add support for creating, destroying vTPM secrets\n\nProvide a method to communicate with the configured key manager service\nusing Castellan, a generic key manager interface that supports multiple\nbackends including - but not limited to - Barbican. Once again, there's\nnothing using this yet but tests, though this will change shortly.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: Iff6195d252b018f008bb9d137e4d80c54b70b2d1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-07-08 14:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/60e6832ae2443ed3ea3eaad464e802996c254aea', 'message': ""crypto: Add support for creating, destroying vTPM secrets\n\nProvide a method to communicate with the configured key manager service\nusing Castellan, a generic key manager interface that supports multiple\nbackends including - but not limited to - Barbican. Once again, there's\nnothing using this yet but tests, though this will change shortly.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: Iff6195d252b018f008bb9d137e4d80c54b70b2d1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-07-09 13:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/554e14809b5e95ec33ff006d2e844a0329ac4fc4', 'message': ""crypto: Add support for creating, destroying vTPM secrets\n\nProvide a method to communicate with the configured key manager service\nusing Castellan, a generic key manager interface that supports multiple\nbackends including - but not limited to - Barbican. Once again, there's\nnothing using this yet but tests, though this will change shortly.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: Iff6195d252b018f008bb9d137e4d80c54b70b2d1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2020-07-16 17:04:26.000000000', 'files': ['nova/crypto.py', 'nova/tests/unit/test_crypto.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6ac228782651bc319fa149749e0d229f90f47adc', 'message': ""crypto: Add support for creating, destroying vTPM secrets\n\nProvide a method to communicate with the configured key manager service\nusing Castellan, a generic key manager interface that supports multiple\nbackends including - but not limited to - Barbican. Once again, there's\nnothing using this yet but tests, though this will change shortly.\n\nPart of blueprint add-emulated-virtual-tpm\n\nChange-Id: Iff6195d252b018f008bb9d137e4d80c54b70b2d1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",5,739211,6ac228782651bc319fa149749e0d229f90f47adc,42,11,5,15334,,,0,"crypto: Add support for creating, destroying vTPM secrets

Provide a method to communicate with the configured key manager service
using Castellan, a generic key manager interface that supports multiple
backends including - but not limited to - Barbican. Once again, there's
nothing using this yet but tests, though this will change shortly.

Part of blueprint add-emulated-virtual-tpm

Change-Id: Iff6195d252b018f008bb9d137e4d80c54b70b2d1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/739211/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/crypto.py', 'nova/tests/unit/test_crypto.py']",2,0f955cf68feef30024476f94a1f851a32ec0b947,bp/add-emulated-virtual-tpm,"from castellan.common import exception as castellan_exceptionfrom oslo_utils.fixture import uuidsentinel as uuidsfrom nova import context as nova_contextfrom nova import objects class FakePassphrase(): """"""A fake castellan ManagedObject."""""" def __init__(self): self.id = 1 def get_encoded(self): return b'foo' class VTPMTest(test.NoDBTestCase): def setUp(self): super().setUp() self.ctxt = nova_context.get_admin_context() @mock.patch.object(crypto, '_get_key_manager') def test_ensure_vtpm_secret(self, mock_get_manager): """"""Check behavior when instance already has an associated secret. We should attempt to retrieve the details via castellan. """""" instance = objects.Instance() instance.system_metadata = {'vtpm_secret_uuid': uuids.vtpm} passphrase = FakePassphrase() mock_get_manager.return_value.get.return_value = passphrase s_id, s_encoded = crypto.ensure_vtpm_secret(self.ctxt, instance) mock_get_manager.return_value.get.assert_called_once_with( self.ctxt, uuids.vtpm) self.assertEqual(passphrase.id, s_id) self.assertEqual(passphrase.get_encoded(), s_encoded) @mock.patch.object(crypto, '_get_key_manager') def test_ensure_vtpm_secret_error(self, mock_get_manager): """"""Check behavior when we fail to retrieve a secret via castellan. We should bubble up the error. """""" instance = objects.Instance() instance.system_metadata = {'vtpm_secret_uuid': uuids.vtpm} mock_get_manager.return_value.get.side_effect = ( castellan_exception.ManagedObjectNotFoundError(uuid=uuids.vtpm)) self.assertRaises( castellan_exception.ManagedObjectNotFoundError, crypto.ensure_vtpm_secret, self.ctxt, instance) @mock.patch('castellan.common.objects.passphrase.Passphrase') @mock.patch.object(crypto, '_get_key_manager') def test_ensure_vtpm_secret_no_secret(self, mock_get_manager, mock_pass): """"""Check behavior when instance has no associated vTPM secret. We should create a new one. """""" instance = objects.Instance() instance.uuid = uuids.instance instance.system_metadata = {} mock_get_manager.return_value.store.return_value = uuids.secret passphrase = FakePassphrase() mock_pass.return_value = passphrase with mock.patch.object(instance, 'save') as mock_save: secret_uuid, _ = crypto.ensure_vtpm_secret(self.ctxt, instance) mock_pass.assert_called_once_with(mock.ANY, name=mock.ANY) mock_get_manager.return_value.store.assert_called_once_with( self.ctxt, passphrase) mock_save.assert_called_once() self.assertEqual(uuids.secret, secret_uuid) @mock.patch.object(crypto, '_get_key_manager') def test_delete_vtpm_secret(self, mock_get_manager): """"""Check behavior when instance has an associated vTPM secret. We should delete it. """""" instance = objects.Instance() instance.system_metadata = {'vtpm_secret_uuid': uuids.vtpm} with mock.patch.object(instance, 'save') as mock_save: crypto.delete_vtpm_secret(self.ctxt, instance) self.assertNotIn('vtpm_secret_uuid', instance.system_metadata) mock_save.assert_called_once() mock_get_manager.assert_called_once() mock_get_manager.return_value.delete.assert_called_once_with( self.ctxt, uuids.vtpm, ) @mock.patch.object(crypto, '_get_key_manager') def test_delete_vtpm_secret_error(self, mock_get_manager): """"""Check behavior when we fail to retrieve the secret via castellan. We should carry on and delete the reference from the instance. """""" instance = objects.Instance() instance.system_metadata = {'vtpm_secret_uuid': uuids.vtpm} mock_get_manager.return_value.delete.side_effect = ( castellan_exception.ManagedObjectNotFoundError(uuid=uuids.vtpm)) with mock.patch.object(instance, 'save') as mock_save: crypto.delete_vtpm_secret(self.ctxt, instance) self.assertNotIn('vtpm_secret_uuid', instance.system_metadata) mock_save.assert_called_once() mock_get_manager.assert_called_once() mock_get_manager.return_value.delete.assert_called_once_with( self.ctxt, uuids.vtpm, ) @mock.patch.object(crypto, '_get_key_manager') def test_delete_vtpm_secret_no_secret(self, mock_get_manager): """"""Check behavior when instance has no associated vTPM secret. This should be effectively a no-op. """""" instance = objects.Instance() instance.system_metadata = {} crypto.delete_vtpm_secret(self.ctxt, instance) mock_get_manager.assert_not_called()",,237,0
openstack%2Fkuryr-kubernetes~stable%2Frocky~Ieaaa6be1ac3296e6e4596bb5b22f6ba52da34bd3,openstack/kuryr-kubernetes,stable/rocky,Ieaaa6be1ac3296e6e4596bb5b22f6ba52da34bd3,Remove remaining dragonflow job,MERGED,2020-07-23 15:04:18.000000000,2020-07-24 09:21:27.000000000,2020-07-24 09:21:27.000000000,"[{'_account_id': 11600}, {'_account_id': 11904}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-07-23 15:04:18.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/06fb6d06a5d84257e35337b0cbb6f3d3c5131801', 'message': 'Remove remaining dragonflow job\n\nhttps://review.opendev.org/#/c/737797 omitted removal of dragonflow job,\nso we cannot continue with job definition removal on stable/train. This\ncommit solves it.\n\nChange-Id: Ieaaa6be1ac3296e6e4596bb5b22f6ba52da34bd3\n'}]",0,742691,06fb6d06a5d84257e35337b0cbb6f3d3c5131801,9,6,1,11600,,,0,"Remove remaining dragonflow job

https://review.opendev.org/#/c/737797 omitted removal of dragonflow job,
so we cannot continue with job definition removal on stable/train. This
commit solves it.

Change-Id: Ieaaa6be1ac3296e6e4596bb5b22f6ba52da34bd3
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/91/742691/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,06fb6d06a5d84257e35337b0cbb6f3d3c5131801,dragonflow,, - kuryr-kubernetes-tempest-dragonflow,0,1
openstack%2Fkolla-ansible~master~I9a3633f58e5eb734fa32edc03a3022a500761bbb,openstack/kolla-ansible,master,I9a3633f58e5eb734fa32edc03a3022a500761bbb,Masakari: copy TLS certificates into containers,MERGED,2020-07-23 11:06:43.000000000,2020-07-24 09:19:47.000000000,2020-07-24 07:53:48.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-23 11:06:43.000000000', 'files': ['ansible/roles/masakari/tasks/copy-certs.yml', 'releasenotes/notes/fix-masakari-tls-64f010c037e95bea.yaml', 'ansible/roles/masakari/templates/masakari.conf.j2', 'ansible/roles/masakari/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0b4c8a3c3d73f5eade2b61730e74e672573ee13b', 'message': 'Masakari: copy TLS certificates into containers\n\nFrom Ussuri, if CA certificates are copied into\n/etc/kolla/certificates/ca/, these should be copied into all containers.\nThis is not being done for masakari currently.\n\nAdditionally, we are not setting the [DEFAULT] nova_ca_certificates_file\noption in masakari.conf. This depends on masakari bug 1873736 being\nfixed to work.\n\nThis change fixes these issues.\n\nChange-Id: I9a3633f58e5eb734fa32edc03a3022a500761bbb\nCloses-Bug: #1888655\n'}]",0,742640,0b4c8a3c3d73f5eade2b61730e74e672573ee13b,9,3,1,14826,,,0,"Masakari: copy TLS certificates into containers

From Ussuri, if CA certificates are copied into
/etc/kolla/certificates/ca/, these should be copied into all containers.
This is not being done for masakari currently.

Additionally, we are not setting the [DEFAULT] nova_ca_certificates_file
option in masakari.conf. This depends on masakari bug 1873736 being
fixed to work.

This change fixes these issues.

Change-Id: I9a3633f58e5eb734fa32edc03a3022a500761bbb
Closes-Bug: #1888655
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/40/742640/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/masakari/tasks/copy-certs.yml', 'releasenotes/notes/fix-masakari-tls-64f010c037e95bea.yaml', 'ansible/roles/masakari/templates/masakari.conf.j2', 'ansible/roles/masakari/tasks/config.yml']",4,0b4c8a3c3d73f5eade2b61730e74e672573ee13b,bug/1873736,- include_tasks: copy-certs.yml when: - kolla_copy_ca_into_containers | bool ,,19,0
openstack%2Freleases~master~I6d800b8d34e39901caa76fe36014834b62ffcfab,openstack/releases,master,I6d800b8d34e39901caa76fe36014834b62ffcfab,Cinder: EOL Ocata,MERGED,2020-07-22 19:01:46.000000000,2020-07-24 09:17:08.000000000,2020-07-24 09:17:07.000000000,"[{'_account_id': 7198}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-22 19:01:46.000000000', 'files': ['deliverables/ocata/python-brick-cinderclient-ext.yaml', 'deliverables/ocata/os-brick.yaml', 'deliverables/ocata/python-cinderclient.yaml', 'deliverables/ocata/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/37c21052945bf58c041989fa53ff66dc34c15ce8', 'message': ""Cinder: EOL Ocata\n\nAs announced on the mailing list [0], the Cinder project team wishes\nto transition the stable/ocata branches of its deliverables from\n'unmaintained' to EOL, and hereby requests that ocata-eol tags be\napplied to the stable/ocata branches and the branches be deleted.\n\n[0] http://lists.openstack.org/pipermail/openstack-discuss/2020-July/015838.html\n\nChange-Id: I6d800b8d34e39901caa76fe36014834b62ffcfab\n""}]",0,742513,37c21052945bf58c041989fa53ff66dc34c15ce8,10,5,1,5314,,,0,"Cinder: EOL Ocata

As announced on the mailing list [0], the Cinder project team wishes
to transition the stable/ocata branches of its deliverables from
'unmaintained' to EOL, and hereby requests that ocata-eol tags be
applied to the stable/ocata branches and the branches be deleted.

[0] http://lists.openstack.org/pipermail/openstack-discuss/2020-July/015838.html

Change-Id: I6d800b8d34e39901caa76fe36014834b62ffcfab
",git fetch https://review.opendev.org/openstack/releases refs/changes/13/742513/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/python-brick-cinderclient-ext.yaml', 'deliverables/ocata/os-brick.yaml', 'deliverables/ocata/python-cinderclient.yaml', 'deliverables/ocata/cinder.yaml']",4,37c21052945bf58c041989fa53ff66dc34c15ce8,cinder-eol-ocata, - projects: - hash: be583164cbf97aaf4e7cb9bd496bf740f43aa542 repo: openstack/cinder version: ocata-eol,,16,0
openstack%2Fcharm-octavia~master~Ia6effe83d5741e88f0f746dee22563db633366bf,openstack/charm-octavia,master,Ia6effe83d5741e88f0f746dee22563db633366bf,"Add victoria,ussuri,train,stein package versions",MERGED,2020-07-13 19:37:45.000000000,2020-07-24 09:15:53.000000000,2020-07-24 09:15:53.000000000,"[{'_account_id': 11805}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 19:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/acad1625d8a4b0805438cd1454178f89cf67db10', 'message': 'Add victoria,ussuri,train,stein package versions\n\nChange-Id: Ia6effe83d5741e88f0f746dee22563db633366bf\n'}, {'number': 2, 'created': '2020-07-14 13:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/a809bf2e029eb67fe2799a1c3b400872326bc7bc', 'message': 'Add victoria,ussuri,train,stein package versions\n\nThis also drops glance-simplestreams-sync:amqp relation from\ntests in line with the recent ""Drop RabbitMQ support"" commit to\ncharm-glance-simplestreams-sync.\n\nChange-Id: Ia6effe83d5741e88f0f746dee22563db633366bf\n'}, {'number': 3, 'created': '2020-07-14 19:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/41d9f05f80148b1acd2f7caa614017d42205114c', 'message': 'Add victoria,ussuri,train,stein package versions\n\nThis also drops glance-simplestreams-sync:amqp relation from\ntests in line with the recent ""Drop RabbitMQ support"" commit to\ncharm-glance-simplestreams-sync. This enables tests to run\nsuccessfully.\n\nThis also pins cmd2 in wheelhouse.txt to prevent conflict with\nlayer-basic\'s required version of setuptools_scm. This allows a\nnewly build version of this charm to deploy successfully. See\nrelated-bug for more details.\n\nChange-Id: Ia6effe83d5741e88f0f746dee22563db633366bf\nRelated-Bug: #1887567\n'}, {'number': 4, 'created': '2020-07-15 14:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/4a5a553cde9c59e407e3431f8a8395a8fc2d10f2', 'message': ""Add victoria,ussuri,train,stein package versions\n\nThis also pins cmd2 in wheelhouse.txt to prevent conflict with\nlayer-basic's required version of setuptools_scm. This allows a\nnewly build version of this charm to deploy successfully. See\nrelated-bug for more details.\n\nDepends-On: https://review.opendev.org/#/c/737648\nChange-Id: Ia6effe83d5741e88f0f746dee22563db633366bf\nRelated-Bug: #1887567\n""}, {'number': 5, 'created': '2020-07-15 15:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/f337b74a81fb9aa7ac0f718844c9bcbeab60b128', 'message': ""Add victoria,ussuri,train,stein package versions\n\nThis also pins cmd2 in wheelhouse.txt to prevent conflict with\nlayer-basic's required version of setuptools_scm. This allows a\nnewly build version of this charm to deploy successfully. See\nrelated-bug for more details.\n\nDepends-On: https://review.opendev.org/#/c/737648\nChange-Id: Ia6effe83d5741e88f0f746dee22563db633366bf\n""}, {'number': 6, 'created': '2020-07-22 19:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/31a36e07011e541f20ff5d56085c3b065dc8dedb', 'message': ""Add victoria,ussuri,train,stein package versions\n\nThis also pins cmd2 in wheelhouse.txt to prevent conflict with\nlayer-basic's required version of setuptools_scm. This allows a\nnewly build version of this charm to deploy successfully. See\nrelated-bug for more details.\n\nDepends-On: https://review.opendev.org/#/c/737648\nChange-Id: Ia6effe83d5741e88f0f746dee22563db633366bf\n""}, {'number': 7, 'created': '2020-07-23 16:50:03.000000000', 'files': ['src/lib/charm/openstack/octavia.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/4d1295b4eb0ca14891204c331257962000f1e762', 'message': 'Add victoria,ussuri,train,stein package versions\n\nChange-Id: Ia6effe83d5741e88f0f746dee22563db633366bf\n'}]",0,740800,4d1295b4eb0ca14891204c331257962000f1e762,31,5,7,11805,,,0,"Add victoria,ussuri,train,stein package versions

Change-Id: Ia6effe83d5741e88f0f746dee22563db633366bf
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/00/740800/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/octavia.py'],1,acad1625d8a4b0805438cd1454178f89cf67db10,batch-update," ('4', 'stein'), ('5', 'train'), ('6', 'ussuri'), ('7', 'victoria'),",,4,0
openstack%2Freleases~master~Ic29e3e924b1f59fb44f7fd64d9fbc960948b72ce,openstack/releases,master,Ic29e3e924b1f59fb44f7fd64d9fbc960948b72ce,Correct a typo of an annotation,MERGED,2020-07-23 06:26:26.000000000,2020-07-24 09:15:51.000000000,2020-07-24 09:15:51.000000000,"[{'_account_id': 308}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-23 06:26:26.000000000', 'files': ['openstack_releases/_redirections.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/46e30e8196a3f589550fb6365f433e5a94f0e63f', 'message': ""Correct a typo of an annotation\n\nThis patch changes 'begining' to 'beginning'\nin an annotation of the _redirections.py\n\nChange-Id: Ic29e3e924b1f59fb44f7fd64d9fbc960948b72ce\n""}]",0,742597,46e30e8196a3f589550fb6365f433e5a94f0e63f,7,3,1,30696,,,0,"Correct a typo of an annotation

This patch changes 'begining' to 'beginning'
in an annotation of the _redirections.py

Change-Id: Ic29e3e924b1f59fb44f7fd64d9fbc960948b72ce
",git fetch https://review.opendev.org/openstack/releases refs/changes/97/742597/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/_redirections.py'],1,46e30e8196a3f589550fb6365f433e5a94f0e63f,typo, # Insert into the beginning of the list so that redirections are, # Insert into the begining of the list so that redirections are,1,1
openstack%2Fcharm-octavia~master~I14aa6456159a6e7c205ebd0eff62437db9afa13b,openstack/charm-octavia,master,I14aa6456159a6e7c205ebd0eff62437db9afa13b,Set services quotas to unlimited,MERGED,2020-06-18 23:27:52.000000000,2020-07-24 09:05:19.000000000,2020-07-24 09:05:19.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 22799}]","[{'number': 1, 'created': '2020-06-18 23:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/af7b0097ca2b74a0010194e5fd2c69fed2668fbc', 'message': '[WIP] Set services quotas to unlimited\n\nChange-Id: I14aa6456159a6e7c205ebd0eff62437db9afa13b\n'}, {'number': 2, 'created': '2020-06-19 18:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/f7ecdded6db1bc4dc146b13eb1369aafdf02e9d8', 'message': '[WIP] Set services quotas to unlimited\n\nCloses-Bug: #1850985\nChange-Id: I14aa6456159a6e7c205ebd0eff62437db9afa13b\n'}, {'number': 3, 'created': '2020-06-23 23:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/099ebcda8e13032c3aab335e5a4f9238f7d6126b', 'message': 'Set services quotas to unlimited\n\nAutomatically set services project quotas to unlimited to enable production\nreadiness for Octavia loadbalancers.\n\nCloses-Bug: #1850985\nChange-Id: I14aa6456159a6e7c205ebd0eff62437db9afa13b\n'}, {'number': 4, 'created': '2020-06-24 21:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/fdae2b84508e1fe37685480395b09cd1fa43640d', 'message': 'Set services quotas to unlimited\n\nAutomatically set services project quotas to unlimited to enable production\nreadiness for Octavia loadbalancers.\n\nCloses-Bug: #1850985\nChange-Id: I14aa6456159a6e7c205ebd0eff62437db9afa13b\n'}, {'number': 5, 'created': '2020-06-29 07:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/86db76324d3cdc2b79e8e717b111fe0ce389ac93', 'message': 'Set services quotas to unlimited\n\nAutomatically set services project quotas to unlimited to enable production\nreadiness for Octavia loadbalancers.\n\nCloses-Bug: #1850985\nChange-Id: I14aa6456159a6e7c205ebd0eff62437db9afa13b\n'}, {'number': 6, 'created': '2020-07-01 23:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/e8a3686482b4b17fff8299756ac8b0b7b81d3a5b', 'message': 'Set services quotas to unlimited\n\nAutomatically set services project quotas to unlimited to enable production\nreadiness for Octavia loadbalancers.\n\nCloses-Bug: #1850985\nChange-Id: I14aa6456159a6e7c205ebd0eff62437db9afa13b\n'}, {'number': 7, 'created': '2020-07-22 15:01:22.000000000', 'files': ['src/actions/actions.py', 'src/lib/charm/openstack/api_crud.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/32ef4539eb88020cc2c17473273ae8e8d01f9ad6', 'message': 'Set services quotas to unlimited\n\nAutomatically set services project quotas to unlimited to enable production\nreadiness for Octavia loadbalancers.\n\nCloses-Bug: #1850985\nChange-Id: I14aa6456159a6e7c205ebd0eff62437db9afa13b\n'}]",0,736868,32ef4539eb88020cc2c17473273ae8e8d01f9ad6,53,5,7,20805,,,0,"Set services quotas to unlimited

Automatically set services project quotas to unlimited to enable production
readiness for Octavia loadbalancers.

Closes-Bug: #1850985
Change-Id: I14aa6456159a6e7c205ebd0eff62437db9afa13b
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/68/736868/7 && git format-patch -1 --stdout FETCH_HEAD,"['src/actions/actions.py', 'src/lib/charm/openstack/api_crud.py']",2,af7b0097ca2b74a0010194e5fd2c69fed2668fbc,bug/1850985," def set_service_quotas( identity_service, cores=-1, ram=-1, ports=-1, instances=-1, secgroups=-1): """"""Set quotas so for loadbalancers. :param identity_service: reactive Endpoint of type ``identity-service`` :type identity_service: RelationBase class :param cores: Number of cores allowed or -1 for unlimited :type cores: int :param ram: Amount of ram allowed or -1 for unlimited :type ram: int :param ports: Number of ports allowed or -1 for unlimited :type ports: int :param instances: Number of instances allowed or -1 for unlimited :type instances: int :param secgroups: Number of secgroups allowed or -1 for unlimited :type cores: int :returns: None :rtype: None :raises: api_crud.APIUnavailable """""" try: session = session_from_identity_service(identity_service) nova = get_nova_client(session) nova.quotas.update( tenent_id=identity_service.service_tenant_id(), cores=cores, ram=ram, ports=ports, instance=instances, secgroups=secgroups) except (keystone_exceptions.catalog.EndpointNotFound, keystone_exceptions.connection.ConnectFailure, nova_client.exceptions.ClientException) as e: raise APIUnavailable('nova', 'quotas', e)",,69,0
openstack%2Fkolla-ansible~stable%2Fstein~I92242eabf13886ba7aacfcb4a67ed9aa3983dbdb,openstack/kolla-ansible,stable/stein,I92242eabf13886ba7aacfcb4a67ed9aa3983dbdb,octavia: fix undefined variable in register.yml,MERGED,2020-07-20 18:42:21.000000000,2020-07-24 08:51:28.000000000,2020-07-24 08:49:06.000000000,"[{'_account_id': 167}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-07-20 18:42:21.000000000', 'files': ['ansible/roles/octavia/tasks/register.yml', 'releasenotes/notes/fix-octavia-register-f3bd4a66bc2f637a.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8a9e435a3ce2ebbc64f39378d7d8888af400c568', 'message': 'octavia: fix undefined variable in register.yml\n\nStein only.\n\nOctavia deployment is currently failing in Stein due to the backport of\nhttps://review.opendev.org/#/c/737970/, which introduced a reference to\nopenstack_cacert which is not defined in Stein.\n\nThis change fixes the issue by removing the reference to the undefined\nvalue.\n\nCloses-Bug: #1888003\n\nChange-Id: I92242eabf13886ba7aacfcb4a67ed9aa3983dbdb\n'}]",0,742005,8a9e435a3ce2ebbc64f39378d7d8888af400c568,16,7,1,14826,,,0,"octavia: fix undefined variable in register.yml

Stein only.

Octavia deployment is currently failing in Stein due to the backport of
https://review.opendev.org/#/c/737970/, which introduced a reference to
openstack_cacert which is not defined in Stein.

This change fixes the issue by removing the reference to the undefined
value.

Closes-Bug: #1888003

Change-Id: I92242eabf13886ba7aacfcb4a67ed9aa3983dbdb
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/05/742005/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/octavia/tasks/register.yml', 'releasenotes/notes/fix-octavia-register-f3bd4a66bc2f637a.yaml']",2,8a9e435a3ce2ebbc64f39378d7d8888af400c568,bug/1888003,"--- fixes: - | Fixes an issue with Octavia deployment caused by a reference to an undefined variable, ``openstack_cacert``. `LP#1888003 <https://bugs.launchpad.net/kolla-ansible/+bug/1888003>`__ ",,6,1
openstack%2Fopenstack-ansible-lxc_hosts~master~I70f6de497fa3729a1d19540fad03e273f260433d,openstack/openstack-ansible-lxc_hosts,master,I70f6de497fa3729a1d19540fad03e273f260433d,Add remote_src parameter to ansible unarchive module for lxc_hosts task,MERGED,2020-07-23 15:56:59.000000000,2020-07-24 08:20:19.000000000,2020-07-24 08:18:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-23 15:56:59.000000000', 'files': ['tasks/lxc_cache_preparation_simple.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/c94eccc383d281bec000980b1f8d4437a2c81558', 'message': 'Add remote_src parameter to ansible unarchive module for lxc_hosts task\n\nlxc_hosts - Unpack base image tasks fails because ansible is\nlooking for CentOS-8-Container*.tar.xz image archive on\nansible controller instead of on remote host. remote_src\nparam fixes and lets job continue.\n\nChange-Id: I70f6de497fa3729a1d19540fad03e273f260433d\n'}]",0,742698,c94eccc383d281bec000980b1f8d4437a2c81558,9,3,1,32197,,,0,"Add remote_src parameter to ansible unarchive module for lxc_hosts task

lxc_hosts - Unpack base image tasks fails because ansible is
looking for CentOS-8-Container*.tar.xz image archive on
ansible controller instead of on remote host. remote_src
param fixes and lets job continue.

Change-Id: I70f6de497fa3729a1d19540fad03e273f260433d
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/98/742698/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/lxc_cache_preparation_simple.yml'],1,c94eccc383d281bec000980b1f8d4437a2c81558,wsoyinka-openstack-ansible-lxc_hosts-patch1, remote_src: yes,,1,0
openstack%2Fopenstack-ansible-os_ceilometer~master~I2b47b1fde32fcfa14202b94a75c7da5bab26ece0,openstack/openstack-ansible-os_ceilometer,master,I2b47b1fde32fcfa14202b94a75c7da5bab26ece0,Remove installation of python2 distro packages for debian,ABANDONED,2020-07-20 17:47:41.000000000,2020-07-24 08:08:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-20 17:47:41.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/bb9592323fc66e764423901252f3c58337069674', 'message': 'Remove installation of python2 distro packages for debian\n\nWe are now py3 only, and this breaks Ubuntu Focal which does not have\nthe python2 packages available.\n\nChange-Id: I2b47b1fde32fcfa14202b94a75c7da5bab26ece0\n'}]",0,741996,bb9592323fc66e764423901252f3c58337069674,3,1,1,25023,,,0,"Remove installation of python2 distro packages for debian

We are now py3 only, and this breaks Ubuntu Focal which does not have
the python2 packages available.

Change-Id: I2b47b1fde32fcfa14202b94a75c7da5bab26ece0
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/96/741996/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/debian.yml'],1,bb9592323fc66e764423901252f3c58337069674,,, - python-libvirt - python-systemd - python-libvirt,0,3
openstack%2Fopenstack-ansible-os_ceilometer~master~I3f74c5ab122563b96ce797e63d8150e5c17bf3d9,openstack/openstack-ansible-os_ceilometer,master,I3f74c5ab122563b96ce797e63d8150e5c17bf3d9,Add support of CentOS 8 and Focal,ABANDONED,2020-07-07 04:07:25.000000000,2020-07-24 08:07:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-07 04:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/895bae5fb6b7839e92647fc4eea3ad158160c5f6', 'message': 'Add support of CentOS 8 and Focal\n\nDepends-On: https://review.opendev.org/689629\nChange-Id: I3f74c5ab122563b96ce797e63d8150e5c17bf3d9\n'}, {'number': 2, 'created': '2020-07-07 05:18:24.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/1e1809fb8ab3e8e9e79f18a9eba48dd2f5d59d53', 'message': 'Add support of CentOS 8 and Focal\n\nDepends-On: https://review.opendev.org/689629\nChange-Id: I3f74c5ab122563b96ce797e63d8150e5c17bf3d9\n'}]",0,739651,1e1809fb8ab3e8e9e79f18a9eba48dd2f5d59d53,8,2,2,28619,,,0,"Add support of CentOS 8 and Focal

Depends-On: https://review.opendev.org/689629
Change-Id: I3f74c5ab122563b96ce797e63d8150e5c17bf3d9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/51/739651/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml']",2,895bae5fb6b7839e92647fc4eea3ad158160c5f6,,, - python-libvirt - python-libvirt,1,2
openstack%2Fkolla-ansible~master~Ia259f7844b868dbc418ace595c87eb1b278d3d38,openstack/kolla-ansible,master,Ia259f7844b868dbc418ace595c87eb1b278d3d38,Add support for encrypting etcd service,MERGED,2020-06-29 21:11:07.000000000,2020-07-24 07:57:16.000000000,2020-07-24 07:53:49.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-29 21:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4d08cdd7535787effb7114528fa19184e31fecae', 'message': 'Add support for encrypting etcd service\n\nThis patch introduces an optional backend encryption for etcd service.\n\nChange-Id: Ia259f7844b868dbc418ace595c87eb1b278d3d38\n'}, {'number': 2, 'created': '2020-06-30 15:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3758d41bd87adcf554f8cc51f24740eca8114dfa', 'message': 'Add support for encrypting etcd service\n\nThis patch introduces an optional backend encryption for etcd service.\n\nChange-Id: Ia259f7844b868dbc418ace595c87eb1b278d3d38\n'}, {'number': 3, 'created': '2020-06-30 15:24:06.000000000', 'files': ['releasenotes/notes/add-tls-etcd-cd2bd09cd69053be.yaml', 'ansible/roles/etcd/tasks/copy-certs.yml', 'ansible/roles/etcd/templates/etcd.json.j2', 'ansible/roles/etcd/tasks/config.yml', 'ansible/group_vars/all.yml', 'ansible/roles/etcd/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e2b9b2068e98148555527595bae64919ceb67c52', 'message': 'Add support for encrypting etcd service\n\nThis patch introduces an optional backend encryption for etcd service.\n\nChange-Id: Ia259f7844b868dbc418ace595c87eb1b278d3d38\n'}]",3,738514,e2b9b2068e98148555527595bae64919ceb67c52,15,4,3,30810,,,0,"Add support for encrypting etcd service

This patch introduces an optional backend encryption for etcd service.

Change-Id: Ia259f7844b868dbc418ace595c87eb1b278d3d38
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/738514/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/encrypt-backend-haproxy-fb96285d74fb464c.yaml', 'ansible/roles/etcd/tasks/copy-certs.yml', 'ansible/roles/etcd/templates/etcd.json.j2', 'ansible/group_vars/all.yml', 'ansible/roles/etcd/tasks/config.yml', 'ansible/roles/etcd/defaults/main.yml']",6,4d08cdd7535787effb7114528fa19184e31fecae,," ETCD_CERT_FILE: ""{% if kolla_enable_tls_backend | bool %}/etc/etcd/certs/etcd-cert.pem{% endif %}"" ETCD_KEY_FILE: ""{% if kolla_enable_tls_backend | bool %}/etc/etcd/certs/etcd-key.pem{% endif %}"" ETCD_PEER_CERT_FILE: ""{% if kolla_enable_tls_backend | bool %}/etc/etcd/certs/etcd-cert.pem{% endif %}"" ETCD_PEER_KEY_FILE: ""{% if kolla_enable_tls_backend | bool %}/etc/etcd/certs/etcd-key.pem{% endif %}""",,77,4
openstack%2Fneutron~master~I84322face88dae329baf72aa92fcc70257083e49,openstack/neutron,master,I84322face88dae329baf72aa92fcc70257083e49,Remove timecost profiling for port get_objects,MERGED,2020-07-16 20:37:35.000000000,2020-07-24 07:54:08.000000000,2020-07-24 07:51:42.000000000,"[{'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-16 20:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/03cefe4f33223470c3a10c39087294e13c52d3b1', 'message': 'Remove timecost profiling for port get_objects\n\nAdding profiling for the get_objects method for the Port object adds a\nlevel of logging volume that has caused issues with disks filling up.\nRemove it until we have a better solution.\n\nChange-Id: I84322face88dae329baf72aa92fcc70257083e49\n'}, {'number': 2, 'created': '2020-07-17 15:54:57.000000000', 'files': ['neutron/objects/ports.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/39ac4247c5d145ec6df044e802d8839ba752bd0a', 'message': 'Remove timecost profiling for port get_objects\n\nAdding profiling for the get_objects method for the Port object adds a\nlevel of logging volume that has caused issues with disks filling up.\nRemove it until we have a better solution.\n\nChange-Id: I84322face88dae329baf72aa92fcc70257083e49\n'}]",1,741540,39ac4247c5d145ec6df044e802d8839ba752bd0a,48,7,2,13995,,,0,"Remove timecost profiling for port get_objects

Adding profiling for the get_objects method for the Port object adds a
level of logging volume that has caused issues with disks filling up.
Remove it until we have a better solution.

Change-Id: I84322face88dae329baf72aa92fcc70257083e49
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/741540/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/objects/ports.py'],1,03cefe4f33223470c3a10c39087294e13c52d3b1,remove-port-profiling,, @utils.timecost,0,1
openstack%2Fpuppet-tripleo~stable%2Ftrain~I40731728dcb79fde0fbbba42f7e0bab3e4da1729,openstack/puppet-tripleo,stable/train,I40731728dcb79fde0fbbba42f7e0bab3e4da1729,Update Gemfile for stable/train,ABANDONED,2020-07-23 13:49:35.000000000,2020-07-24 07:50:28.000000000,,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-23 13:49:35.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b446036eafb37c3255eff1a73eac60d8936144b0', 'message': 'Update Gemfile for stable/train\n\nRelated-Bug: #1887830\n\nChange-Id: I40731728dcb79fde0fbbba42f7e0bab3e4da1729\n(cherry picked from commit d5c6e1c567a95f9115a3611d4be9d2f3ce2b4822)\n(adapted manually for train)\n'}]",0,742671,b446036eafb37c3255eff1a73eac60d8936144b0,6,4,1,20778,,,0,"Update Gemfile for stable/train

Related-Bug: #1887830

Change-Id: I40731728dcb79fde0fbbba42f7e0bab3e4da1729
(cherry picked from commit d5c6e1c567a95f9115a3611d4be9d2f3ce2b4822)
(adapted manually for train)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/71/742671/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,b446036eafb37c3255eff1a73eac60d8936144b0,lint-ci-fix," :branch => 'stable/train',",,1,0
openstack%2Fkolla-ansible~stable%2Ftrain~I812665059783617d581d748e619b29426f89b353,openstack/kolla-ansible,stable/train,I812665059783617d581d748e619b29426f89b353,Fix deprecation warnings in fluentd,MERGED,2020-07-21 12:41:51.000000000,2020-07-24 07:46:20.000000000,2020-07-24 07:43:20.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-21 12:41:51.000000000', 'files': ['ansible/roles/common/templates/conf/input/01-syslog.conf.j2', 'ansible/roles/common/templates/conf/output/00-local.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0de9de4944ed401161fa339fc448e68e309d1205', 'message': 'Fix deprecation warnings in fluentd\n\nChange-Id: I812665059783617d581d748e619b29426f89b353\n(cherry picked from commit 3611f053ef4a90c56e2c5e41d03a6a83894fff4b)\n'}]",0,742173,0de9de4944ed401161fa339fc448e68e309d1205,14,5,1,15197,,,0,"Fix deprecation warnings in fluentd

Change-Id: I812665059783617d581d748e619b29426f89b353
(cherry picked from commit 3611f053ef4a90c56e2c5e41d03a6a83894fff4b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/73/742173/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/conf/input/01-syslog.conf.j2', 'ansible/roles/common/templates/conf/output/00-local.conf.j2']",2,0de9de4944ed401161fa339fc448e68e309d1205,fluentd-deprecation-warnings, <buffer> timekey_use_utc </buffer> <buffer> timekey_use_utc </buffer>, utc utc,7,3
openstack%2Fironic-inspector~master~If2e7697e3fde58ab0a4193787e29d3acdca81ebf,openstack/ironic-inspector,master,If2e7697e3fde58ab0a4193787e29d3acdca81ebf,Respond so Apache HTTPd doesn't think the request failed,MERGED,2020-07-09 18:10:13.000000000,2020-07-24 07:32:10.000000000,2020-07-24 07:29:38.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-09 18:10:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/4f050546f5a10f706ff2b2c562c452f32c424e92', 'message': ""Additional debugging around inspection start\n\nWe seem to be having intermittent inspection errors with a Bad Gateway\nerror message, but digging deeper we seem to also be getting at least\nthe initial cache population step into Inspector before all trace ends,\nwhich suggests something errored and raised an unexpected exception.\n\nIssue is, we can't tell where this is occuring, so we need a little\nmore in the way of debugging and exception catching.\n\nChange-Id: If2e7697e3fde58ab0a4193787e29d3acdca81ebf\n""}, {'number': 2, 'created': '2020-07-09 21:23:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/1c4e42e5505ef2c6e020baa7aa0e20dc44dbd39a', 'message': ""WIP: Additional debugging around inspection start\n\nWe seem to be having intermittent inspection errors with a Bad Gateway\nerror message, but digging deeper we seem to also be getting at least\nthe initial cache population step into Inspector before all trace ends,\nwhich suggests something errored and raised an unexpected exception.\n\nIssue is, we can't tell where this is occuring, so we need a little\nmore in the way of debugging and exception catching.\n\nChange-Id: If2e7697e3fde58ab0a4193787e29d3acdca81ebf\n""}, {'number': 3, 'created': '2020-07-13 18:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/a130bc4365bf7e8867e382f80764f8381d37356e', 'message': ""Respond so a ContentType is included\n\nWhen sending a literal empty response, Flask does not include a\nContentType in the response. While in many cases, we don't need\nneed a ContentType nor expect one on the API client, Apache\nwebserver can treat this as an error and generate an Error\nindicating a Bad Gateway.\n\nHowever, when this Bad Gateway error occurs, the API/Conductor\nwere proceeding like there was no issue. The API client on the\nother hand thinks that a hard failure has occured.\n\nAlso adds some additional catches to provide additional logging\nwhich turned out not to be needed in this case, but it would be\nuseful for others.\n\nChange-Id: If2e7697e3fde58ab0a4193787e29d3acdca81ebf\n""}, {'number': 4, 'created': '2020-07-15 14:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/06457f154552a74ab2e373fa35be210b05803364', 'message': ""Respond so a ContentType is included\n\nWhen sending a literal empty response, Flask does not include a\nContentType in the response. While in many cases, we don't need\nneed a ContentType nor expect one on the API client, Apache\nwebserver can treat this as an error and generate an Error\nindicating a Bad Gateway.\n\nHowever, when this Bad Gateway error occurs, the API/Conductor\nwere proceeding like there was no issue. The API client on the\nother hand thinks that a hard failure has occured.\n\nAlso adds some additional catches to provide additional logging\nwhich turned out not to be needed in this case, but it would be\nuseful for others.\n\nChange-Id: If2e7697e3fde58ab0a4193787e29d3acdca81ebf\n""}, {'number': 5, 'created': '2020-07-15 14:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c6cc4780f6f48f07cd1ff0d3144a430f66fb1470', 'message': ""Respond so a ContentType is included\n\nWhen sending a literal empty response, Flask does not include a\nContentType in the response. While in many cases, we don't need\nneed a ContentType nor expect one on the API client, Apache\nwebserver can treat this as an error and generate an Error\nindicating a Bad Gateway.\n\nHowever, when this Bad Gateway error occurs, the API/Conductor\nwere proceeding like there was no issue. The API client on the\nother hand thinks that a hard failure has occured.\n\nAlso adds some additional catches to provide additional logging\nwhich turned out not to be needed in this case, but it would be\nuseful for others.\n\nChange-Id: If2e7697e3fde58ab0a4193787e29d3acdca81ebf\n""}, {'number': 6, 'created': '2020-07-15 16:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f5cda854d2798e2350f574671e8faf788bd14afe', 'message': ""Respond so a ContentType is included\n\nWhen sending a literal empty response, Flask does not include a\nContentType in the response. While in many cases, we don't need\nneed a ContentType nor expect one on the API client, Apache\nwebserver can treat this as an error and generate an Error\nindicating a Bad Gateway.\n\nHowever, when this Bad Gateway error occurs, the API/Conductor\nwere proceeding like there was no issue. The API client on the\nother hand thinks that a hard failure has occured.\n\nAlso adds some additional catches to provide additional logging\nwhich turned out not to be needed in this case, but it would be\nuseful for others.\n\nChange-Id: If2e7697e3fde58ab0a4193787e29d3acdca81ebf\n""}, {'number': 7, 'created': '2020-07-16 16:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/1a24facee6b4c20dfd8cfad76ff7b9cc7200f197', 'message': ""DNM: Respond so a ContentType is included\n\nWhen sending a literal empty response, Flask does not include a\nContentType in the response. While in many cases, we don't need\nneed a ContentType nor expect one on the API client, Apache\nwebserver can treat this as an error and generate an Error\nindicating a Bad Gateway.\n\nHowever, when this Bad Gateway error occurs, the API/Conductor\nwere proceeding like there was no issue. The API client on the\nother hand thinks that a hard failure has occured.\n\nAlso adds some additional catches to provide additional logging\nwhich turned out not to be needed in this case, but it would be\nuseful for others.\n\nChange-Id: If2e7697e3fde58ab0a4193787e29d3acdca81ebf\n""}, {'number': 8, 'created': '2020-07-16 19:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/deb4c145f21c1d008a834fccde1766df9c975bb8', 'message': ""DNM: Respond so a ContentType is included\n\nWhen sending a literal empty response, Flask does not include a\nContentType in the response. While in many cases, we don't need\nneed a ContentType nor expect one on the API client, Apache\nwebserver can treat this as an error and generate an Error\nindicating a Bad Gateway.\n\nHowever, when this Bad Gateway error occurs, the API/Conductor\nwere proceeding like there was no issue. The API client on the\nother hand thinks that a hard failure has occured.\n\nAlso adds some additional catches to provide additional logging\nwhich turned out not to be needed in this case, but it would be\nuseful for others.\n\nChange-Id: If2e7697e3fde58ab0a4193787e29d3acdca81ebf\n""}, {'number': 9, 'created': '2020-07-21 20:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/7954be63b48d93c0b3e717d621c79cb26614de8e', 'message': ""Respond so Apache HTTPd doesn't think the request failed\n\nWhen sending a literal empty response, Flask does not include a\nContentType in the response. While in many cases, we don't need\nneed a ContentType nor expect one on the API client, Apache\nwebserver can treat this as an error and generate an Error\nindicating a Bad Gateway. When doing this, we also now include\nan empty JSON body in the response for 202 messages. For 204\nmessage errors, the message body is expected to be empty.\n\nHowever, when this Bad Gateway error occurs, the API/Conductor\nwere proceeding like there was no issue. The API client on the\nother hand thinks that a hard failure has occured.\n\nAlso adds some additional catches to provide additional logging\nwhich turned out not to be needed in this case, but it would be\nuseful for others.\n\nChange-Id: If2e7697e3fde58ab0a4193787e29d3acdca81ebf\n""}, {'number': 10, 'created': '2020-07-22 17:18:09.000000000', 'files': ['ironic_inspector/node_cache.py', 'ironic_inspector/introspect.py', 'requirements.txt', 'ironic_inspector/main.py', 'ironic_inspector/test/functional.py', 'releasenotes/notes/reply-with-content-type-644b741261c87c8c.yaml', 'lower-constraints.txt', 'ironic_inspector/test/unit/test_main.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6e2cb60e778180a40418dbc2011fa25763c32363', 'message': ""Respond so Apache HTTPd doesn't think the request failed\n\nWhen sending a literal empty response, Flask does not include a\nContentType in the response. While in many cases, we don't need\nneed a ContentType nor expect one on the API client, Apache\nwebserver can treat this as an error and generate an Error\nindicating a Bad Gateway. When doing this, we also now include\nan empty JSON body in the response for 202 messages. For 204\nmessage errors, the message body is expected to be empty.\n\nHowever, when this Bad Gateway error occurs, the API/Conductor\nwere proceeding like there was no issue. The API client on the\nother hand thinks that a hard failure has occured.\n\nAlso adds some additional catches to provide additional logging\nwhich turned out not to be needed in this case, but it would be\nuseful for others.\n\nChange-Id: If2e7697e3fde58ab0a4193787e29d3acdca81ebf\n""}]",8,740344,6e2cb60e778180a40418dbc2011fa25763c32363,85,8,10,11655,,,0,"Respond so Apache HTTPd doesn't think the request failed

When sending a literal empty response, Flask does not include a
ContentType in the response. While in many cases, we don't need
need a ContentType nor expect one on the API client, Apache
webserver can treat this as an error and generate an Error
indicating a Bad Gateway. When doing this, we also now include
an empty JSON body in the response for 202 messages. For 204
message errors, the message body is expected to be empty.

However, when this Bad Gateway error occurs, the API/Conductor
were proceeding like there was no issue. The API client on the
other hand thinks that a hard failure has occured.

Also adds some additional catches to provide additional logging
which turned out not to be needed in this case, but it would be
useful for others.

Change-Id: If2e7697e3fde58ab0a4193787e29d3acdca81ebf
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/44/740344/10 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/node_cache.py', 'ironic_inspector/introspect.py']",2,4f050546f5a10f706ff2b2c562c452f32c424e92,740344," try: utils.executor().submit(_do_introspect, node_info, ironic) except Exception as exc: msg = _('Failed to submit introspection job: %s') raise utils.Error(msg % exc, node_info=node)"," utils.executor().submit(_do_introspect, node_info, ironic)",7,1
openstack%2Fopenstack-ansible~master~I98d527b8e804685b8d933de2dc5e2efeb78bbd31,openstack/openstack-ansible,master,I98d527b8e804685b8d933de2dc5e2efeb78bbd31,Remove package cache proxy cleanup,MERGED,2020-07-21 08:29:40.000000000,2020-07-24 06:55:19.000000000,2020-07-23 17:26:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-21 08:29:40.000000000', 'files': ['playbooks/containers-nspawn-create.yml', 'playbooks/os-congress-install.yml', 'playbooks/containers-lxc-create.yml', 'playbooks/os-mistral-install.yml', 'playbooks/os-murano-install.yml', 'playbooks/common-tasks/package-cache-proxy.yml', 'playbooks/os-blazar-install.yml', 'playbooks/os-placement-install.yml', 'playbooks/openstack-hosts-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1b18926bbfda48507eb8b4b883c477661512b1eb', 'message': ""Remove package cache proxy cleanup\n\nThis should have been removed in Train so it's really time to\nget rid of these tasks now. The package cache was retired in Rocky.\n\nChange-Id: I98d527b8e804685b8d933de2dc5e2efeb78bbd31\n""}]",0,742098,1b18926bbfda48507eb8b4b883c477661512b1eb,17,4,1,25023,,,0,"Remove package cache proxy cleanup

This should have been removed in Train so it's really time to
get rid of these tasks now. The package cache was retired in Rocky.

Change-Id: I98d527b8e804685b8d933de2dc5e2efeb78bbd31
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/98/742098/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/containers-nspawn-create.yml', 'playbooks/os-congress-install.yml', 'playbooks/containers-lxc-create.yml', 'playbooks/os-mistral-install.yml', 'playbooks/os-murano-install.yml', 'playbooks/common-tasks/package-cache-proxy.yml', 'playbooks/os-blazar-install.yml', 'playbooks/os-placement-install.yml', 'playbooks/openstack-hosts-setup.yml']",9,1b18926bbfda48507eb8b4b883c477661512b1eb,,," - include_tasks: common-tasks/package-cache-proxy.yml when: install_method == ""source""",0,102
openstack%2Fcharm-ceph-proxy~master~I072b79705a6a7dfb0d5cbd16095e6ececb432ec3,openstack/charm-ceph-proxy,master,I072b79705a6a7dfb0d5cbd16095e6ececb432ec3,Add glance/nova-compute to bundles,MERGED,2020-06-04 19:43:12.000000000,2020-07-24 06:47:55.000000000,2020-07-24 06:47:55.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-06-04 19:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/fdb1a70534f3094030731cbfbf62677c34a39ff2', 'message': ""Add glance/nova-compute to bundles\n\nThis is to resolve the associated bug where cinder-ceph has grown the\ncapability to block if it doesn't have an appropriate relation to\nnova-compute.\n\nChange-Id: I072b79705a6a7dfb0d5cbd16095e6ececb432ec3\nCloses-Bug: #1881246\n""}, {'number': 2, 'created': '2020-07-23 15:45:51.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/trusty-icehouse.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/bionic-queens.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/b71f4fd81d77ba945c7ff56b4d6863e6a57fb100', 'message': ""Add glance/nova-compute to bundles\n\nThis is to resolve the associated bug where cinder-ceph has grown the\ncapability to block if it doesn't have an appropriate relation to\nnova-compute.\n\nAlso remove the trusty-icehouse bundle as it is not longer supported.\nNote, on trusty-mitaka, the nova-cloud-controller is needed as otherwise\nnova-compute complains and then dies, leaving a nova-compute service is\nnot running in the status message.\n\nAlso, change the detection of the status messages for the radosgw charm\nas it has changed during the dev cycle.\n\nChange-Id: I072b79705a6a7dfb0d5cbd16095e6ececb432ec3\nCloses-Bug: #1881246\n""}]",0,733686,b71f4fd81d77ba945c7ff56b4d6863e6a57fb100,18,5,2,20870,,,0,"Add glance/nova-compute to bundles

This is to resolve the associated bug where cinder-ceph has grown the
capability to block if it doesn't have an appropriate relation to
nova-compute.

Also remove the trusty-icehouse bundle as it is not longer supported.
Note, on trusty-mitaka, the nova-cloud-controller is needed as otherwise
nova-compute complains and then dies, leaving a nova-compute service is
not running in the status message.

Also, change the detection of the status messages for the radosgw charm
as it has changed during the dev cycle.

Change-Id: I072b79705a6a7dfb0d5cbd16095e6ececb432ec3
Closes-Bug: #1881246
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/86/733686/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', 'tests/bundles/xenial-ocata.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/bionic-queens.yaml']",12,fdb1a70534f3094030731cbfbf62677c34a39ff2,bug/1881246, glance: charm: cs:~openstack-charmers-next/glance num_units: 1 nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 1 - - 'glance:image-service' - 'nova-compute:image-service' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:shared-db' - 'percona-cluster:shared-db' - - 'nova-compute:ceph-access' - 'cinder-ceph:ceph-access' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp',,230,8
openstack%2Fcharm-neutron-api-plugin-ovn~master~I7706cdb03ec16319987c75c40e00c279853fa6b8,openstack/charm-neutron-api-plugin-ovn,master,I7706cdb03ec16319987c75c40e00c279853fa6b8,Updates for 20.08 cycle start for groovy and libs,MERGED,2020-06-02 13:33:47.000000000,2020-07-24 06:46:12.000000000,2020-07-24 06:46:12.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-06-02 13:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/c9db7747fbfbc7aa35b4b4c1c6a311cd701ed783', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: I7706cdb03ec16319987c75c40e00c279853fa6b8\n'}, {'number': 2, 'created': '2020-07-23 17:44:08.000000000', 'files': ['rebuild', 'src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/616bf0623065ae08b73eafa926f2372cef91d31e', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: I7706cdb03ec16319987c75c40e00c279853fa6b8\n'}]",0,732658,616bf0623065ae08b73eafa926f2372cef91d31e,16,5,2,20870,,,0,"Updates for 20.08 cycle start for groovy and libs

- Adds groovy to the series in the metadata
- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild

Change-Id: I7706cdb03ec16319987c75c40e00c279853fa6b8
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/58/732658/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'src/metadata.yaml']",2,c9db7747fbfbc7aa35b4b4c1c6a311cd701ed783,batch-groovy-ch-libs,- networking series: - bionic - eoan - focal - groovy, - networking series: - bionic - eoan - focal,6,5
openstack%2Fneutron~master~I2b9661d06b30eeb7752bdb4fad73778d2ed940d7,openstack/neutron,master,I2b9661d06b30eeb7752bdb4fad73778d2ed940d7,ovn-migration: Remove docker references,MERGED,2020-06-25 08:52:06.000000000,2020-07-24 06:38:23.000000000,2020-07-23 14:50:28.000000000,"[{'_account_id': 6773}, {'_account_id': 6816}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-25 08:52:06.000000000', 'files': ['tools/ovn_migration/infrared/tripleo-ovn-migration/main.yml', 'tools/ovn_migration/infrared/tripleo-ovn-migration/roles/prepare-migration/tasks/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/reduce-dhcp-renewal-time.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/migration/templates/clone-br-int.sh.j2', 'tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/sync-dbs.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/migration/templates/activate-ovn.sh.j2'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e597a36d3315f67c0d1430f4b363c96115d9d18', 'message': 'ovn-migration: Remove docker references\n\nDocker commands are replaced with podman. References to docker resources\nis fixed. Some improvements to avoid storing container ids and\nperforming operations is also done in this patch.\n\nChange-Id: I2b9661d06b30eeb7752bdb4fad73778d2ed940d7\n'}]",0,737928,0e597a36d3315f67c0d1430f4b363c96115d9d18,13,7,1,8655,,,0,"ovn-migration: Remove docker references

Docker commands are replaced with podman. References to docker resources
is fixed. Some improvements to avoid storing container ids and
performing operations is also done in this patch.

Change-Id: I2b9661d06b30eeb7752bdb4fad73778d2ed940d7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/737928/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/ovn_migration/infrared/tripleo-ovn-migration/main.yml', 'tools/ovn_migration/infrared/tripleo-ovn-migration/roles/prepare-migration/tasks/main.yml', 'tools/ovn_migration/tripleo_environment/playbooks/reduce-dhcp-renewal-time.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/migration/templates/clone-br-int.sh.j2', 'tools/ovn_migration/tripleo_environment/playbooks/roles/migration/tasks/sync-dbs.yml', 'tools/ovn_migration/tripleo_environment/playbooks/roles/migration/templates/activate-ovn.sh.j2']",6,0e597a36d3315f67c0d1430f4b363c96115d9d18,remove_docker,podman stop ovn_controllerpodman start ovn_controller,docker stop ovn_controllerdocker start ovn_controller,27,32
openstack%2Fswift~master~Ie20b60aeba45ee75f5a3cd1208824f71c44deab7,openstack/swift,master,Ie20b60aeba45ee75f5a3cd1208824f71c44deab7,probe: Explore reaping with async pendings,NEW,2020-06-20 05:43:31.000000000,2020-07-24 06:20:20.000000000,,"[{'_account_id': 597}, {'_account_id': 13852}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-20 05:43:31.000000000', 'files': ['test/probe/test_account_reaper.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/13cea88ab4b2f30dc11ff574f8a7ef47b34c3734', 'message': 'probe: Explore reaping with async pendings\n\nChange-Id: Ie20b60aeba45ee75f5a3cd1208824f71c44deab7\n'}]",1,737117,13cea88ab4b2f30dc11ff574f8a7ef47b34c3734,5,4,1,15343,,,0,"probe: Explore reaping with async pendings

Change-Id: Ie20b60aeba45ee75f5a3cd1208824f71c44deab7
",git fetch https://review.opendev.org/openstack/swift refs/changes/17/737117/1 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/test_account_reaper.py'],1,13cea88ab4b2f30dc11ff574f8a7ef47b34c3734,bug/1300850,"import collectionsimport osfrom swift.account.backend import AccountBrokerfrom swift.common.storage_policy import get_policy_string from swift.container.backend import ContainerBrokerclass TestAccountReaperAsyncPendings(ReplProbeTest): def do_setup(self): int_client = self.make_internal_client() # Create container, get it in cache client.put_container(self.url, self.token, 'cont', headers={'X-Storage-Policy': self.policy.name}) client.get_container(self.url, self.token, 'cont') # Do a write, but don't let the container-servers know about it Manager(['container-server']).stop() int_client.upload_object( BytesIO(b'data'), self.account, 'cont', 'obj') Manager(['container-server']).start() Manager(['container-updater']).once() headers = client.head_account(self.url, self.token) self.assertEqual(headers['x-account-container-count'], '1') self.assertEqual(headers['x-account-object-count'], '0') self.assertEqual(headers['x-account-bytes-used'], '0') part, nodes = self.account_ring.get_nodes(self.account) for node in nodes: direct_delete_account(node, part, self.account) # run the reaper Manager(['account-reaper']).once() files = self.gather_files_by_ring() for db_file in files['account']: broker = AccountBroker(db_file) self.assertTrue( broker.is_deleted(), 'Expected account DB %r to be deleted' % db_file) for db_file in files['container']: broker = ContainerBroker(db_file) self.assertTrue( broker.is_deleted(), 'Expected container DB %r to be deleted' % db_file) # TODO: maybe check that our async update is still out there # XXX: for some reason, if we don't explicitly clear the broker, # the next resetswift fails? broker = None def gather_files_by_ring(self): result = collections.defaultdict(set) self.policy.load_ring('/etc/swift') for ring_type, ring in [ ('account', self.account_ring), ('container', self.container_ring), ('object', self.policy.object_ring), ]: for node in ring.devs: ring_dir = ring_type + 's' if ring_type == 'object': ring_dir = get_policy_string(ring_dir, self.policy) for path, _, files in os.walk(os.path.join( self.device_dir(ring_type, node), ring_dir)): for file in files: if file in ('.lock', 'hashes.pkl', 'hashes.invalid'): continue if file.endswith('.pending'): continue result[ring_type].add(os.path.join(path, file)) return result def test_reap_lurking_data(self): self.do_setup() Manager(['object-updater']).once() Manager(['container-updater']).once() files = self.gather_files_by_ring() for db_file in files['account']: broker = AccountBroker(db_file) self.assertTrue( broker.is_deleted(), 'Expected account DB %r to still be deleted' % db_file) for db_file in files['container']: broker = ContainerBroker(db_file) self.assertFalse( broker.is_deleted(), 'Expected container DB %r to be revived' % db_file) Manager(['account-reaper']).once() files = self.gather_files_by_ring() for db_file in files['container']: broker = ContainerBroker(db_file) self.assertTrue( broker.is_deleted(), 'Expected container DB %r to be deleted again' % db_file) for obj_file in files['object']: self.assertTrue( obj_file.endswith('.ts'), 'Expected object file %r to be a tombstone' % obj_file) # XXX: for some reason, if we don't explicitly clear the broker, # the next resetswift fails? broker = None def test_reap_lurking_data_account_reaped(self): self.do_setup() # Simulate account reclaim age passing files = self.gather_files_by_ring() for db_file in files['account']: os.unlink(db_file) # Object finally reports Manager(['object-updater']).once() Manager(['container-updater']).once() files = self.gather_files_by_ring() for db_file in files['container']: broker = ContainerBroker(db_file) self.assertFalse( broker.is_deleted(), 'Expected container DB %r to be revived' % db_file) Manager(['account-reaper']).once() # OK, things have reported without error -- now what?? files = self.gather_files_by_ring() for db_file in files['container']: broker = ContainerBroker(db_file) self.assertFalse(broker.is_deleted()) # We could even make an assertion about object count; w/e for obj_file in files['object']: self.assertTrue(obj_file.endswith('.data')) ",,133,0
openstack%2Fopenstack-helm~master~I5b3650225794704de5433a24f678decc69212997,openstack/openstack-helm,master,I5b3650225794704de5433a24f678decc69212997,Remove stacks created by tempest script before recreating,MERGED,2019-10-07 12:00:06.000000000,2020-07-24 05:55:36.000000000,2020-07-24 05:54:32.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 9963}, {'_account_id': 12281}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 26686}, {'_account_id': 28618}]","[{'number': 1, 'created': '2019-10-07 12:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0d89eabf4435617310ead4da78a01264d122c50d', 'message': 'Remove existing stacks created by tempest script before recreating\n\nIn case user wants to re-run a script that failed (e.g because of\na timeout), next run should not fail just because the stacks were\nalready created.\n\nChange-Id: I5b3650225794704de5433a24f678decc69212997\n'}, {'number': 2, 'created': '2019-10-08 10:09:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/db47b0c660494f1a509ac28f9c2936ce09871e29', 'message': 'Remove existing stacks created by tempest script before recreating\n\nIn case user wants to re-run a script that failed (e.g because of\na timeout), next run should not fail just because the stacks were\nalready created.\n\nChange-Id: I5b3650225794704de5433a24f678decc69212997\n'}, {'number': 3, 'created': '2019-10-08 10:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1509f33a3be65e545a2cfbe34e02e5a0be7e2e7b', 'message': 'Remove existing stacks created by tempest script before recreating\n\nIn case user wants to re-run a script that failed (e.g because of\na timeout), next run should not fail just because the stacks were\nalready created.\n\nChange-Id: I5b3650225794704de5433a24f678decc69212997\n'}, {'number': 4, 'created': '2019-11-11 07:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9f1e01cd8daebd553592bacb54191eb30e358008', 'message': 'Remove existing stacks created by tempest script before recreating\n\nIn case user wants to re-run a script that failed (e.g because of\na timeout), next run should not fail just because the stacks were\nalready created.\n\nChange-Id: I5b3650225794704de5433a24f678decc69212997\n'}, {'number': 5, 'created': '2019-11-22 20:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/51456fe50d38e600c3d463cb22ce11712a470f8b', 'message': 'Remove existing stacks created by tempest script before recreating\n\nIn case user wants to re-run a script that failed (e.g because of\na timeout), next run should not fail just because the stacks were\nalready created.\n\nChange-Id: I5b3650225794704de5433a24f678decc69212997\n'}, {'number': 6, 'created': '2020-06-26 05:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3799584e64378c14553bca211e51501f490e702c', 'message': 'Remove existing stacks created by tempest script before recreating\n\nIn case user wants to re-run a script that failed (e.g because of\na timeout), next run should not fail just because the stacks were\nalready created.\n\nChange-Id: I5b3650225794704de5433a24f678decc69212997\n'}, {'number': 7, 'created': '2020-06-26 05:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cb3166e9bb4449f975123e5bd30399ca05cb3966', 'message': 'Remove stacks created by tempest script before recreating\n\nIn case user wants to re-run a script that failed (e.g because of a\ntimeout), next run should not fail just because the stacks were\nalready created.\n\nChange-Id: I5b3650225794704de5433a24f678decc69212997\n'}, {'number': 8, 'created': '2020-07-13 13:44:56.000000000', 'files': ['tools/deployment/multinode/900-tempest.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/71a6af325c3b16b5a38aed9bf68de2e9c0cf1287', 'message': 'Remove stacks created by tempest script before recreating\n\nIn case user wants to re-run a script that failed (e.g because of a\ntimeout), next run should not fail just because the stacks were\nalready created.\n\nChange-Id: I5b3650225794704de5433a24f678decc69212997\n'}]",9,687007,71a6af325c3b16b5a38aed9bf68de2e9c0cf1287,39,8,8,9963,,,0,"Remove stacks created by tempest script before recreating

In case user wants to re-run a script that failed (e.g because of a
timeout), next run should not fail just because the stacks were
already created.

Change-Id: I5b3650225794704de5433a24f678decc69212997
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/07/687007/3 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/multinode/900-tempest.sh'],1,0d89eabf4435617310ead4da78a01264d122c50d,temptest-remove-stack,openstack stack delete --wait --yes heat-public-net-deploymentopenstack stack delete --wait --yes heat-subnet-pool-deployment,,2,0
openstack%2Fopenstack-helm-infra~master~Ic9ce88f5ddc5096b2eed2ed2286bc73fe6dd5e73,openstack/openstack-helm-infra,master,Ic9ce88f5ddc5096b2eed2ed2286bc73fe6dd5e73,Fluentd & Elasticsaerch: Use the latest openstackhelm image tag,MERGED,2020-07-22 03:05:09.000000000,2020-07-24 05:42:07.000000000,2020-07-24 05:39:09.000000000,"[{'_account_id': 8863}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 03:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eca4bde9418f4321824e737242761f6f5a9d02c7', 'message': 'Fluentd: Use the latest openstackhelm/fluentd image\n\nChange-Id: Ic9ce88f5ddc5096b2eed2ed2286bc73fe6dd5e73\n'}, {'number': 2, 'created': '2020-07-22 21:35:40.000000000', 'files': ['elasticsearch/values.yaml', 'fluentd/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/68cd0027d1530fb05db9c7cc20f421f19bc288f3', 'message': 'Fluentd & Elasticsaerch: Use the latest openstackhelm image tag\n\nAlso, removed an unnecessary image reference from the fluentd chart\n\nChange-Id: Ic9ce88f5ddc5096b2eed2ed2286bc73fe6dd5e73\n'}]",2,742334,68cd0027d1530fb05db9c7cc20f421f19bc288f3,13,4,2,30777,,,0,"Fluentd & Elasticsaerch: Use the latest openstackhelm image tag

Also, removed an unnecessary image reference from the fluentd chart

Change-Id: Ic9ce88f5ddc5096b2eed2ed2286bc73fe6dd5e73
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/34/742334/1 && git format-patch -1 --stdout FETCH_HEAD,['fluentd/values.yaml'],1,eca4bde9418f4321824e737242761f6f5a9d02c7,, fluentd: docker.io/openstackhelm/fluentd:debian-20200722, fluentd: docker.io/openstackhelm/fluentd:debian-20200324,1,1
openstack%2Fopenstack-helm-infra~master~I14d346d74d5a72d67c290571e8b7812f01d4526e,openstack/openstack-helm-infra,master,I14d346d74d5a72d67c290571e8b7812f01d4526e,Correct a typo in the code,MERGED,2020-07-23 11:49:35.000000000,2020-07-24 05:40:48.000000000,2020-07-24 05:39:06.000000000,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 11:49:35.000000000', 'files': ['helm-toolkit/templates/endpoints/_endpoint_host_lookup.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a4fcfaaa1fc1c4ab7f0b6c00905c5defad176ce6', 'message': ""Correct a typo in the code\n\nThis patch changes 'feild' to 'field' in\nhelm-toolkit/templates/endpoints/\n_endpoint_host_lookup.tpl\n\nChange-Id: I14d346d74d5a72d67c290571e8b7812f01d4526e\n""}]",0,742648,a4fcfaaa1fc1c4ab7f0b6c00905c5defad176ce6,8,3,1,30696,,,0,"Correct a typo in the code

This patch changes 'feild' to 'field' in
helm-toolkit/templates/endpoints/
_endpoint_host_lookup.tpl

Change-Id: I14d346d74d5a72d67c290571e8b7812f01d4526e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/48/742648/1 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/endpoints/_endpoint_host_lookup.tpl'],1,a4fcfaaa1fc1c4ab7f0b6c00905c5defad176ce6,typo," Resolves either the fully qualified hostname, of if defined in the host field"," Resolves either the fully qualified hostname, of if defined in the host feild",1,1
openstack%2Fopenstack-helm-infra~master~Iec5e758e4b576dff01e84591a2440d030d5ff3c4,openstack/openstack-helm-infra,master,Iec5e758e4b576dff01e84591a2440d030d5ff3c4,Change for alertmanager v0.20,MERGED,2020-07-20 12:21:06.000000000,2020-07-24 05:39:08.000000000,2020-07-24 05:39:08.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30582}, {'_account_id': 30777}, {'_account_id': 31713}]","[{'number': 1, 'created': '2020-07-20 12:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/76d6276c56cb3981a77546f3c623795c71ad7397', 'message': 'Change for alertmanager v0.20\n\n- Update alertmanger and prometheus discovery port from 6783 to 9094\n- Update to support fqdn for discovery hostname\n\nChange-Id: Iec5e758e4b576dff01e84591a2440d030d5ff3c4\n'}, {'number': 2, 'created': '2020-07-20 14:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3aed0b377f7e358c22eb5521b8579ffbf1def609', 'message': 'Change for alertmanager v0.20\n\n- Update alertmanger and prometheus discovery port from 6783 to 9094\n- Update to support fqdn for discovery hostname\n- Add one test alert to Prometheus to test alert pipeline\n\nChange-Id: Iec5e758e4b576dff01e84591a2440d030d5ff3c4\n'}, {'number': 3, 'created': '2020-07-21 15:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/65d8d25c2705f06773204c244ace30f0644cbfee', 'message': 'Change for alertmanager v0.20\n\n- Update alertmanger and prometheus discovery port from 6783 to 9094\n- Update to support fqdn for discovery hostname\n- Add one test alert to Prometheus to test alert pipeline\n- update container name from alertmanger to prometheus-alertmanager\n\nChange-Id: Iec5e758e4b576dff01e84591a2440d030d5ff3c4\n'}, {'number': 4, 'created': '2020-07-22 21:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3d0b5c2098ecf80e0b83235b828f2aad358b8f59', 'message': 'Change for alertmanager v0.20\n\n- Update alertmanger and prometheus discovery port from 6783 to 9094\n- Update to support fqdn for discovery hostname\n- Add one test alert to Prometheus to test alert pipeline\n- update container name from alertmanger to prometheus-alertmanager\n\nChange-Id: Iec5e758e4b576dff01e84591a2440d030d5ff3c4\n'}, {'number': 5, 'created': '2020-07-22 21:39:19.000000000', 'files': ['prometheus-alertmanager/templates/bin/_alertmanager.sh.tpl', 'prometheus-alertmanager/templates/ingress-alertmanager.yaml', 'prometheus-alertmanager/templates/service.yaml', 'tools/deployment/network-policy/050-prometheus.sh', 'prometheus-alertmanager/templates/clusterrolebinding.yaml', 'prometheus/values.yaml', 'prometheus-alertmanager/templates/service-discovery.yaml', 'prometheus-alertmanager/templates/service-ingress-alertmanager.yaml', 'prometheus-alertmanager/templates/statefulset.yaml', 'tools/deployment/network-policy/060-alertmanager.sh', 'prometheus-alertmanager/templates/secret-ingress-tls.yaml', 'prometheus-alertmanager/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c97c592216854374602d57e8d0bac9919e8af260', 'message': 'Change for alertmanager v0.20\n\n- Update alertmanger and prometheus discovery port from 6783 to 9094\n- Update to support fqdn for discovery hostname\n- Add one test alert to Prometheus to test alert pipeline\n- update container name from alertmanger to prometheus-alertmanager\n\nChange-Id: Iec5e758e4b576dff01e84591a2440d030d5ff3c4\n'}]",54,741926,c97c592216854374602d57e8d0bac9919e8af260,19,5,5,31713,,,0,"Change for alertmanager v0.20

- Update alertmanger and prometheus discovery port from 6783 to 9094
- Update to support fqdn for discovery hostname
- Add one test alert to Prometheus to test alert pipeline
- update container name from alertmanger to prometheus-alertmanager

Change-Id: Iec5e758e4b576dff01e84591a2440d030d5ff3c4
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/26/741926/4 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-alertmanager/templates/statefulset.yaml', 'tools/deployment/network-policy/060-alertmanager.sh', 'prometheus-alertmanager/values.yaml', 'tools/deployment/network-policy/050-prometheus.sh', 'prometheus/values.yaml']",5,76d6276c56cb3981a77546f3c623795c71ad7397,, default: 9094, default: 6783,6,6
openstack%2Floci~master~I6d5410da02ff9717418de55876162d34b6185e1d,openstack/loci,master,I6d5410da02ff9717418de55876162d34b6185e1d,Avoid storing cache in pip install for requirements image,MERGED,2020-01-17 21:20:47.000000000,2020-07-24 05:33:36.000000000,2020-07-24 05:33:35.000000000,"[{'_account_id': 1736}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 17068}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29911}]","[{'number': 1, 'created': '2020-01-17 21:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/f8062f45597a52b639849a128e6773ff6712bb61', 'message': 'Avoid storing cache in pip install for requirements image\n\nIf additional pip packages are provided for requirements image, they\nwill be installed into system before building wheels and, in addition,\nwheel stored to local pip cache. Later, during wheels creation, this\ncached wheel will be used and then deleted as system will think that\npackage is available in wheel form.\n\nThis only matters when package is not available in wheel form and needs\nto be a part of requirements image.\n\nChange-Id: I6d5410da02ff9717418de55876162d34b6185e1d\n'}, {'number': 2, 'created': '2020-01-18 14:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/dfcf5ced1933758603641480bc4075759ba99692', 'message': 'Avoid storing cache in pip install for requirements image\n\nIf additional pip packages are provided for requirements image, they\nwill be installed into system before building wheels and, in addition,\nwheel stored to local pip cache. Later, during wheels creation, this\ncached wheel will be used and then deleted as system will think that\npackage is available in wheel form.\n\nThis only matters when package is not available in wheel form and needs\nto be a part of requirements image.\n\nChange-Id: I6d5410da02ff9717418de55876162d34b6185e1d\n'}, {'number': 3, 'created': '2020-01-20 15:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/cfe5579a294ab572eb9e2ed0edf80295524e3b89', 'message': 'Avoid storing cache in pip install for requirements image\n\nIf additional pip packages are provided for requirements image, they\nwill be installed into system before building wheels and, in addition,\nwheel stored to local pip cache. Later, during wheels creation, this\ncached wheel will be used and then deleted as system will think that\npackage is available in wheel form.\n\nThis only matters when package is not available in wheel form and needs\nto be a part of requirements image.\n\nChange-Id: I6d5410da02ff9717418de55876162d34b6185e1d\n'}, {'number': 4, 'created': '2020-01-21 19:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/9eacb98344735d84e0f72e0a7cfa55e997fc8206', 'message': 'Avoid storing cache in pip install for requirements image\n\nIf additional pip packages are provided for requirements image, they\nwill be installed into system before building wheels and, in addition,\nwheel stored to local pip cache. Later, during wheels creation, this\ncached wheel will be used and then deleted as system will think that\npackage is available in wheel form.\n\nThis only matters when package is not available in wheel form and needs\nto be a part of requirements image.\n\nChange-Id: I6d5410da02ff9717418de55876162d34b6185e1d\n'}, {'number': 5, 'created': '2020-01-27 18:48:42.000000000', 'files': ['scripts/requirements.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/a7b46b1aa59ed65c421ce8d4872d9cc8906c13ec', 'message': 'Avoid storing cache in pip install for requirements image\n\nIf additional pip packages are provided for requirements image, they\nwill be installed into system before building wheels and, in addition,\nwheel stored to local pip cache. Later, during wheels creation, this\ncached wheel will be used and then deleted as system will think that\npackage is available in wheel form.\n\nThis only matters when package is not available in wheel form and needs\nto be a part of requirements image.\n\nChange-Id: I6d5410da02ff9717418de55876162d34b6185e1d\n'}]",0,703196,a7b46b1aa59ed65c421ce8d4872d9cc8906c13ec,20,8,5,8863,,,0,"Avoid storing cache in pip install for requirements image

If additional pip packages are provided for requirements image, they
will be installed into system before building wheels and, in addition,
wheel stored to local pip cache. Later, during wheels creation, this
cached wheel will be used and then deleted as system will think that
package is available in wheel form.

This only matters when package is not available in wheel form and needs
to be a part of requirements image.

Change-Id: I6d5410da02ff9717418de55876162d34b6185e1d
",git fetch https://review.opendev.org/openstack/loci refs/changes/96/703196/3 && git format-patch -1 --stdout FETCH_HEAD,['scripts/requirements.sh'],1,f8062f45597a52b639849a128e6773ff6712bb61,, pip install ${PIP_ARGS} -c /upper-constraints.txt --no-cache ${PIP_PACKAGES}, pip install ${PIP_ARGS} -c /upper-constraints.txt ${PIP_PACKAGES},1,1
openstack%2Floci~master~I869e323413b03ee2f343f1777ea062e27809ab3f,openstack/loci,master,I869e323413b03ee2f343f1777ea062e27809ab3f,Update docs to reflect ubuntu paths,MERGED,2020-02-26 03:11:46.000000000,2020-07-24 05:33:35.000000000,2020-07-24 05:33:34.000000000,"[{'_account_id': 1736}, {'_account_id': 8064}, {'_account_id': 8863}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-02-26 03:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/04dae837d00c71a3eddfcf7e0ec4f6453fcc2c08', 'message': 'Update docs to reflect ubuntu paths\n\nIn Change I7290203d80461f46ed70d5e3bea55c9765f9e746 ubuntu was renamed\nto ubuntu_xenial and ubuntu_bionic was introduced\n\nUpdate docs to reflect this new location\n\nChange-Id: I869e323413b03ee2f343f1777ea062e27809ab3f\n'}, {'number': 2, 'created': '2020-03-05 07:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/d4790d3d0715f634c9f5787df5bef3fd5b40fad0', 'message': 'Update docs to reflect ubuntu paths\n\nIn Change I7290203d80461f46ed70d5e3bea55c9765f9e746 ubuntu was renamed\nto ubuntu_xenial and ubuntu_bionic was introduced\n\nUpdate docs to reflect this new location\n\nChange-Id: I869e323413b03ee2f343f1777ea062e27809ab3f\n'}, {'number': 3, 'created': '2020-06-22 06:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/9657d424eb4cd54a3517b51f268e154cbe459d13', 'message': 'Update docs to reflect ubuntu paths\n\nIn Change I7290203d80461f46ed70d5e3bea55c9765f9e746 ubuntu was renamed\nto ubuntu_xenial and ubuntu_bionic was introduced\n\nUpdate docs to reflect this new location\n\nChange-Id: I869e323413b03ee2f343f1777ea062e27809ab3f\n'}, {'number': 4, 'created': '2020-07-13 18:33:35.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/loci/commit/a3dff124cf1c9e737c6e18c3cea42a04dc395ce2', 'message': 'Update docs to reflect ubuntu paths\n\nIn Change I7290203d80461f46ed70d5e3bea55c9765f9e746 ubuntu was renamed\nto ubuntu_xenial and ubuntu_bionic was introduced\n\nUpdate docs to reflect this new location\n\nChange-Id: I869e323413b03ee2f343f1777ea062e27809ab3f\n'}]",0,709942,a3dff124cf1c9e737c6e18c3cea42a04dc395ce2,21,5,4,8064,,,0,"Update docs to reflect ubuntu paths

In Change I7290203d80461f46ed70d5e3bea55c9765f9e746 ubuntu was renamed
to ubuntu_xenial and ubuntu_bionic was introduced

Update docs to reflect this new location

Change-Id: I869e323413b03ee2f343f1777ea062e27809ab3f
",git fetch https://review.opendev.org/openstack/loci refs/changes/42/709942/4 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,04dae837d00c71a3eddfcf7e0ec4f6453fcc2c08,,$ docker build https://opendev.org/openstack/loci.git#master:dockerfiles/ubuntu_bionic \,$ docker build https://opendev.org/openstack/loci.git#master:dockerfiles/ubuntu \,1,1
openstack%2Floci~master~I00fd3df2ba46072b3f19c9d08f69bb3c1f53d01f,openstack/loci,master,I00fd3df2ba46072b3f19c9d08f69bb3c1f53d01f,Add KEEP_ALL_WHEELS flag,MERGED,2019-10-11 07:32:46.000000000,2020-07-24 05:33:34.000000000,2020-07-24 05:33:34.000000000,"[{'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 8863}, {'_account_id': 9373}, {'_account_id': 14119}, {'_account_id': 14525}, {'_account_id': 17068}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-10-11 07:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/7acedec08dd739a0c62e2c16942c417bf827d138', 'message': 'Add KEEP_ALL_WHEELS flag\n\nThe patch adds KEEP_ALL_WHEELS set to False by default.\nThe flag allows to do not remove wheels after built of\nrequirement image. This is useful where reproducibility\nof builds with the same WHEEL image is needed as will allow\nto keep 3rd party libs (not specified in upper-constraints.txt)\nfile with same versions.\n\nChange-Id: I00fd3df2ba46072b3f19c9d08f69bb3c1f53d01f\n'}, {'number': 2, 'created': '2020-07-13 18:35:26.000000000', 'files': ['Dockerfile', 'scripts/requirements.sh', 'README.md'], 'web_link': 'https://opendev.org/openstack/loci/commit/75bba38822c7c3329cbb6cb8d2736e60a54f2df2', 'message': 'Add KEEP_ALL_WHEELS flag\n\nThe patch adds KEEP_ALL_WHEELS set to False by default.\nThe flag allows to do not remove wheels after built of\nrequirement image. This is useful where reproducibility\nof builds with the same WHEEL image is needed as will allow\nto keep 3rd party libs (not specified in upper-constraints.txt)\nfile with same versions.\n\nChange-Id: I00fd3df2ba46072b3f19c9d08f69bb3c1f53d01f\n'}]",0,688052,75bba38822c7c3329cbb6cb8d2736e60a54f2df2,13,10,2,14525,,,0,"Add KEEP_ALL_WHEELS flag

The patch adds KEEP_ALL_WHEELS set to False by default.
The flag allows to do not remove wheels after built of
requirement image. This is useful where reproducibility
of builds with the same WHEEL image is needed as will allow
to keep 3rd party libs (not specified in upper-constraints.txt)
file with same versions.

Change-Id: I00fd3df2ba46072b3f19c9d08f69bb3c1f53d01f
",git fetch https://review.opendev.org/openstack/loci refs/changes/52/688052/2 && git format-patch -1 --stdout FETCH_HEAD,"['Dockerfile', 'scripts/requirements.sh', 'README.md']",3,7acedec08dd739a0c62e2c16942c417bf827d138,keep_wheels," * `KEEP_ALL_WHEELS` Set this to `True` if you want to keep all packages, even not built ourselfs in the WHEEL image. Is useful for reproducible builts, as 3rd party libraries will be keept in WHEEL image.",,9,3
openstack%2Fopenstack-helm-infra~master~I1c7ba9081ccf396b037861b496110251f2248fd2,openstack/openstack-helm-infra,master,I1c7ba9081ccf396b037861b496110251f2248fd2,Add Application Armor to Ceph-Provisioners-key-generator,MERGED,2020-07-23 00:29:07.000000000,2020-07-24 04:55:38.000000000,2020-07-24 04:54:16.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 28372}, {'_account_id': 29131}, {'_account_id': 29144}, {'_account_id': 29161}, {'_account_id': 29298}, {'_account_id': 29974}]","[{'number': 1, 'created': '2020-07-23 00:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d960dd4f596fc09e85389693c6879be9cd1db5dc', 'message': 'Add App Armor to Ceph-Provisioners-key-generator\n\nChange-Id: I1c7ba9081ccf396b037861b496110251f2248fd2\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>'}, {'number': 2, 'created': '2020-07-23 00:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4fc84ddc7c8070fbed6fbffd38ff35039231a7f3', 'message': 'Add App Armor to Ceph-Provisioners-key-generator\n\n1) Added  to service account name insted of traditional pod name.\n\nChange-Id: I1c7ba9081ccf396b037861b496110251f2248fd2\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}, {'number': 3, 'created': '2020-07-23 14:15:06.000000000', 'files': ['ceph-provisioners/values_overrides/apparmor.yaml', 'ceph-provisioners/templates/job-namespace-client-key.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/936397b36a6a21b76007d28ec18cc6bd1457a724', 'message': 'Add Application Armor to Ceph-Provisioners-key-generator\n\n1) Added  to service account name insted of traditional pod name.\n\nChange-Id: I1c7ba9081ccf396b037861b496110251f2248fd2\nSigned-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>\n'}]",1,742564,936397b36a6a21b76007d28ec18cc6bd1457a724,21,9,3,29131,,,0,"Add Application Armor to Ceph-Provisioners-key-generator

1) Added  to service account name insted of traditional pod name.

Change-Id: I1c7ba9081ccf396b037861b496110251f2248fd2
Signed-off-by: diwakar thyagaraj <diwakar.chitoor.thyagaraj@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/64/742564/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,d960dd4f596fc09e85389693c6879be9cd1db5dc,apparmor,,,0,0
openstack%2Floci~master~Ia2ff838b523fdfd8eb2e2d3ae51780d564d9a075,openstack/loci,master,Ia2ff838b523fdfd8eb2e2d3ae51780d564d9a075,Move hardcoded packages for requirements to config,ABANDONED,2020-01-17 22:50:05.000000000,2020-07-24 04:44:18.000000000,,"[{'_account_id': 8863}, {'_account_id': 9373}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29911}]","[{'number': 1, 'created': '2020-01-17 22:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/c23aba77fd0d9e8856b71f8c4ee6fb2b2c944c1f', 'message': 'Add purestorage installation for requirements\n\nPurestorage is not available in wheel form from PyPi.\n\nChange-Id: Ia2ff838b523fdfd8eb2e2d3ae51780d564d9a075\n'}, {'number': 2, 'created': '2020-01-17 23:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/b60a3f9d949bb2a6cc241c188e30245c35470742', 'message': 'Add purestorage installation for requirements\n\nPurestorage is not available in wheel form from PyPi.\nAlso adds required code to process pydep for requirements image build.\n\nChange-Id: Ia2ff838b523fdfd8eb2e2d3ae51780d564d9a075\n'}, {'number': 3, 'created': '2020-01-17 23:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/fef73d79c632c0b0ccd9bec0b60c6867decdb7be', 'message': 'Move hardcoded packages for requirements to config\n\nMoves packages to pydep and adds related code to process pydep\nconfiguration for requirements image build.\nAlso adds purestorage to pydep for requirement image as it is not\navailable in wheel form from PyPi.\n\nChange-Id: Ia2ff838b523fdfd8eb2e2d3ae51780d564d9a075\n'}, {'number': 4, 'created': '2020-01-18 00:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/9d0e03b3c72997d827437808acebd3b9578a344c', 'message': 'Move hardcoded packages for requirements to config\n\nMoves packages to pydep and adds related code to process pydep\nconfiguration for requirements image build.\nAlso adds purestorage to pydep for requirement image as it is not\navailable in wheel form from PyPi.\n\nChange-Id: Ia2ff838b523fdfd8eb2e2d3ae51780d564d9a075\n'}, {'number': 5, 'created': '2020-01-18 00:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/59362c24b00912d6f1dc9962f99366bd28ff4517', 'message': 'Move hardcoded packages for requirements to config\n\nMoves packages to pydep and adds related code to process pydep\nconfiguration for requirements image build.\nAlso adds purestorage to pydep for requirement image as it is not\navailable in wheel form from PyPi.\n\nChange-Id: Ia2ff838b523fdfd8eb2e2d3ae51780d564d9a075\n'}, {'number': 6, 'created': '2020-01-18 00:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/f1d6f1b94c0e8e5fc4cd6f33f8dfb2b7cb973cec', 'message': 'Move hardcoded packages for requirements to config\n\nMoves packages to pydep and adds related code to process pydep\nconfiguration for requirements image build.\nAlso adds purestorage to pydep for requirement image as it is not\navailable in wheel form from PyPi.\n\nChange-Id: Ia2ff838b523fdfd8eb2e2d3ae51780d564d9a075\n'}, {'number': 7, 'created': '2020-01-18 01:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/6c58b06e3d4cf6db17e4b343c6d884338cbe10c8', 'message': 'Move hardcoded packages for requirements to config\n\nMoves packages to pydep and adds related code to process pydep\nconfiguration for requirements image build.\n\nChange-Id: Ia2ff838b523fdfd8eb2e2d3ae51780d564d9a075\n'}, {'number': 8, 'created': '2020-01-18 14:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/2d86f67859ef1ad3ebe3097d48da942b4f8db222', 'message': 'Move hardcoded packages for requirements to config\n\nMoves packages to pydep and adds related code to process pydep\nconfiguration for requirements image build.\n\nChange-Id: Ia2ff838b523fdfd8eb2e2d3ae51780d564d9a075\n'}, {'number': 9, 'created': '2020-01-18 15:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/84b28d00f7b74308f071392815574dbfffade681', 'message': 'Move hardcoded packages for requirements to config\n\nMoves packages to pydep and adds related code to process pydep\nconfiguration for requirements image build.\n\nChange-Id: Ia2ff838b523fdfd8eb2e2d3ae51780d564d9a075\n'}, {'number': 10, 'created': '2020-01-18 15:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/214da4b2f9d1c7983020ccb0c8d57cb02c072e67', 'message': 'Move hardcoded packages for requirements to config\n\nMoves packages to pydep and adds related code to process pydep\nconfiguration for requirements image build.\n\nChange-Id: Ia2ff838b523fdfd8eb2e2d3ae51780d564d9a075\n'}, {'number': 11, 'created': '2020-01-18 17:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/85aa7bbfc10899184d2e4566eefca9d85e589863', 'message': 'Move hardcoded packages for requirements to config\n\nMoves packages to pydep and adds related code to process pydep\nconfiguration for requirements image build.\n\nChange-Id: Ia2ff838b523fdfd8eb2e2d3ae51780d564d9a075\n'}, {'number': 12, 'created': '2020-01-18 17:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/5c9c35ff8d1e40dab4a5f0f9b19afa32f64ca361', 'message': 'Move hardcoded packages for requirements to config\n\nMoves packages to pydep and adds related code to process pydep\nconfiguration for requirements image build.\n\nDefault PROFILES in Dockerfile is defined to deal with set -u in\nrequirements.sh.\n\nChange-Id: Ia2ff838b523fdfd8eb2e2d3ae51780d564d9a075\n'}, {'number': 13, 'created': '2020-01-20 15:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/00be04d8a8a7e1756d81faccefe42e0921b9a045', 'message': 'Move hardcoded packages for requirements to config\n\nMoves packages to pydep and adds related code to process pydep\nconfiguration for requirements image build.\n\nDefault PROFILES in Dockerfile is defined to deal with set -u in\nrequirements.sh.\n\nChange-Id: Ia2ff838b523fdfd8eb2e2d3ae51780d564d9a075\n'}, {'number': 14, 'created': '2020-01-27 18:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/d4d92cfe6189991871d3dc0c67da71f53f79c561', 'message': 'Move hardcoded packages for requirements to config\n\nMoves packages to pydep and adds related code to process pydep\nconfiguration for requirements image build.\n\nDefault PROFILES in Dockerfile is defined to deal with set -u in\nrequirements.sh.\n\nChange-Id: Ia2ff838b523fdfd8eb2e2d3ae51780d564d9a075\n'}, {'number': 15, 'created': '2020-02-05 17:32:05.000000000', 'files': ['pydep.txt', 'Dockerfile', 'scripts/requirements.sh', 'scripts/install.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/449d6ecd5f91405d506de2669f7a5a6969754b86', 'message': 'Move hardcoded packages for requirements to config\n\nMoves packages to pydep and adds related code to process pydep\nconfiguration for requirements image build.\n\nDefault PROFILES in Dockerfile is defined to deal with set -u in\nrequirements.sh.\n\nChange-Id: Ia2ff838b523fdfd8eb2e2d3ae51780d564d9a075\n'}]",4,703205,449d6ecd5f91405d506de2669f7a5a6969754b86,34,6,15,8863,,,0,"Move hardcoded packages for requirements to config

Moves packages to pydep and adds related code to process pydep
configuration for requirements image build.

Default PROFILES in Dockerfile is defined to deal with set -u in
requirements.sh.

Change-Id: Ia2ff838b523fdfd8eb2e2d3ae51780d564d9a075
",git fetch https://review.opendev.org/openstack/loci refs/changes/05/703205/7 && git format-patch -1 --stdout FETCH_HEAD,['pydep.txt'],1,c23aba77fd0d9e8856b71f8c4ee6fb2b2c944c1f,,purestorage [(cinder purestorage) (nova purestorage) (requirements purestorage)],purestorage [(cinder purestorage) (nova purestorage)],1,1
openstack%2Fopenstack-helm-images~master~I6b490472354e7f14ecafa64a566337d828bb3ca2,openstack/openstack-helm-images,master,I6b490472354e7f14ecafa64a566337d828bb3ca2,Support for source built OpenVSwitch components,ABANDONED,2019-04-09 03:25:23.000000000,2020-07-24 04:43:09.000000000,,"[{'_account_id': 8898}, {'_account_id': 10068}, {'_account_id': 16353}, {'_account_id': 16881}, {'_account_id': 17068}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 30220}, {'_account_id': 30232}]","[{'number': 1, 'created': '2019-04-09 03:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/08399d9ba34556f9aea79947ece432a9eb8ad206', 'message': 'Support for source built OpenVSwitch components\n\nDefault OpenStack nova and neutron uses 2.5.x version of OpenVSwitch\nhowever if the source build is used to compile a later version of\nOpenVSwitch, nova and neutron also needs to have its corresponding\ncomponents built from OpenVSwitch source.\n\nChange triggers build for corresponding nova and neutron using the\nsame version of OpenVSwitch image.\n\nDPDK libraries for component build of neutron/nova is delibrately\nleft out to optimize the size of container image\n\nChange-Id: I6b490472354e7f14ecafa64a566337d828bb3ca2\n'}, {'number': 2, 'created': '2019-04-09 12:45:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/fa88c6743e8c4749d5bfd21fb6b41da9fed8033c', 'message': 'Support for source built OpenVSwitch components\n\nDefault OpenStack nova and neutron uses 2.5.x version of OpenVSwitch\nhowever if the source build is used to compile a later version of\nOpenVSwitch, nova and neutron also needs to have its corresponding\ncomponents built from OpenVSwitch source.\n\nChange triggers build for corresponding nova and neutron using the\nsame version of OpenVSwitch image.\n\nDPDK libraries for component build of neutron/nova is delibrately\nleft out to optimize the size of container image\n\nChange-Id: I6b490472354e7f14ecafa64a566337d828bb3ca2\n'}, {'number': 3, 'created': '2019-04-30 08:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/703c882c5c3a4775387f28d8e234798ea74f6b2a', 'message': 'Support for source built OpenVSwitch components\n\nDefault OpenStack nova and neutron uses 2.5.x version of OpenvSwitch\nas available under distribution, however if the source build is used\nto compile a later version of OpenvSwitch container image, nova and\nneutron also needs to have its corresponding components built from\nOpenvSwitch source.\n\nChange uses a container to build .deb files needed and then generate\nupdated component build for nova and neutron with same version as of\nOpenVSwitch image.\n\nChange-Id: I6b490472354e7f14ecafa64a566337d828bb3ca2\n'}, {'number': 4, 'created': '2019-05-20 16:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/a86a289af97b86273b0bf3bea6f68d6341b85059', 'message': 'Support for source built OpenVSwitch components\n\nDefault OpenStack nova and neutron uses 2.5.x version of OpenVSwitch\nhowever if the source build is used to compile a later version of\nOpenVSwitch, nova and neutron also needs to have its corresponding\ncomponents built from OpenVSwitch source.\n\nChange triggers build for corresponding nova and neutron using the\nsame version of OpenVSwitch image.\n\nDPDK libraries for component build of neutron/nova is delibrately\nleft out to optimize the size of container image\n\nChange-Id: I6b490472354e7f14ecafa64a566337d828bb3ca2\n'}, {'number': 5, 'created': '2019-07-23 11:27:44.000000000', 'files': ['openvswitch/build.sh', 'openvswitch/Dockerfile.debian-component'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/6ba6340aed8e4d00275e76df824482b4de5b6efb', 'message': 'Support for source built OpenVSwitch components\n\nDefault OpenStack nova and neutron comes with distribution\nprovided OpenVSwitch. however if the source build is used\nto compile a later version of OpenVSwitch, nova and neutron\nalso needs to have its corresponding components built from\nOpenVSwitch source.\n\nChange triggers build for corresponding nova and neutron\nusing the same version of OpenVSwitch image.\n\nDPDK libraries for component build of neutron/nova is delibrately\nleft out to optimize the size of container image\n\nChange-Id: I6b490472354e7f14ecafa64a566337d828bb3ca2\n'}]",7,651060,6ba6340aed8e4d00275e76df824482b4de5b6efb,34,11,5,30232,,,0,"Support for source built OpenVSwitch components

Default OpenStack nova and neutron comes with distribution
provided OpenVSwitch. however if the source build is used
to compile a later version of OpenVSwitch, nova and neutron
also needs to have its corresponding components built from
OpenVSwitch source.

Change triggers build for corresponding nova and neutron
using the same version of OpenVSwitch image.

DPDK libraries for component build of neutron/nova is delibrately
left out to optimize the size of container image

Change-Id: I6b490472354e7f14ecafa64a566337d828bb3ca2
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/60/651060/5 && git format-patch -1 --stdout FETCH_HEAD,"['openvswitch/build.sh', 'openvswitch/Dockerfile.debian']",2,08399d9ba34556f9aea79947ece432a9eb8ad206,,"ARG FROM=k8s.gcr.io/debian-iptables-amd64:v10 FROM ${FROM}ARG OPENSTACK_COMPONENT=0 if [ ""x$OPENSTACK_COMPONENT"" = ""x0"" ] ;\ then \ apt-get upgrade -y ;\ fi ;\ if [ ""x$OPENSTACK_COMPONENT"" = ""x1"" ] ;\ then \ apt-get install --no-install-recommends -y \ util-linux ;\ apt-get purge --auto-remove -y \ openvswitch-switch \ openvswitch-common ;\ else \ apt-get install --no-install-recommends -y \ libssl1.1 \ libnuma-dev \ linux-headers-amd64 ;\ fi ;\ python-zopeinterface ;\ if [ ""x$OPENSTACK_COMPONENT"" = ""x0"" ] ;\ then \ TMP_DIR=$(mktemp -d) ;\ curl -sSL http://fast.dpdk.org/rel/dpdk-${DPDK_VERSION}.tar.xz | tar xJ -C ${TMP_DIR} --strip-components=1 ;\ export DPDK_DIR=${TMP_DIR} ;\ cd ${DPDK_DIR} ;\ export DPDK_TARGET=x86_64-native-linuxapp-gcc ;\ export DPDK_BUILD=${DPDK_DIR}/${DPDK_TARGET} ;\ export RTE_KERNELDIR=/usr/src/$(ls -1 /usr/src/ | grep amd64) ;\ make install T=${DPDK_TARGET} DESTDIR=install ;\ fi ;\ if [ ""x$OPENSTACK_COMPONENT"" = ""x0"" ] ;\ then \ ./configure --prefix=/usr --localstatedir=/var --sysconfdir=/etc --with-dpdk=$DPDK_BUILD ;\ else \ ./configure --prefix=/usr --localstatedir=/var --sysconfdir=/etc ;\ fi ;\ if [ ""x$OPENSTACK_COMPONENT"" = ""x0"" ] ;\ then \ rm -rf ${DPDK_DIR} ;\ fi ;\ if [ ""x$OPENSTACK_COMPONENT"" = ""x0"" ] ;\ then \ clean-install \ iproute2 ;\ else \ apt-get purge --auto-remove --allow-remove-essential -y \ util-linux ;\ fi ;\",FROM k8s.gcr.io/debian-iptables-amd64:v10 apt-get upgrade -y ;\ libssl1.1 \ python-zopeinterface \ libnuma-dev \ linux-headers-amd64 ;\ TMP_DIR=$(mktemp -d) ;\ curl -sSL http://fast.dpdk.org/rel/dpdk-${DPDK_VERSION}.tar.xz | tar xJ -C ${TMP_DIR} --strip-components=1 ;\ export DPDK_DIR=${TMP_DIR} ;\ cd ${DPDK_DIR} ;\ export DPDK_TARGET=x86_64-native-linuxapp-gcc ;\ export DPDK_BUILD=${DPDK_DIR}/${DPDK_TARGET} ;\ export RTE_KERNELDIR=/usr/src/$(ls -1 /usr/src/ | grep amd64) ;\ make install T=${DPDK_TARGET} DESTDIR=install ;\ ./configure --prefix=/usr --localstatedir=/var --sysconfdir=/etc --with-dpdk=$DPDK_BUILD ;\ rm -rf ${DPDK_DIR} ;\ clean-install \ iproute2 ;\,75,21
openstack%2Fopenstack-helm~master~Ibe7e39b09dccec6bba2cc450bc59cffe84ee8b24,openstack/openstack-helm,master,Ibe7e39b09dccec6bba2cc450bc59cffe84ee8b24,Remove the logic to set glance APIv1,ABANDONED,2019-10-03 09:35:42.000000000,2020-07-24 04:43:02.000000000,,"[{'_account_id': 8898}, {'_account_id': 9963}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28618}]","[{'number': 1, 'created': '2019-10-03 09:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f7b742ead1915e67e965fa8314bb800faf50c235', 'message': 'Remove the logic to set glance APIv1\n\nglance APIv1 must be used for openstack Newton. However, that version\nshould not be supported anymore. Therefore, there is no need to have\nthat code in the scripts\n\nChange-Id: Ibe7e39b09dccec6bba2cc450bc59cffe84ee8b24\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}, {'number': 2, 'created': '2019-10-04 14:25:44.000000000', 'files': ['tools/deployment/component/glance/glance.sh', 'tools/deployment/multinode/100-glance.sh', 'tools/deployment/developer/ceph/120-glance.sh', 'tools/deployment/developer/nfs/120-glance.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e49156662d8dc763a6d6fea89d53352f0ade7a25', 'message': 'Remove the logic to set glance APIv1\n\nglance APIv1 must be used for openstack Newton. However, that version\nshould not be supported anymore. Therefore, there is no need to have\nthat code in the scripts\n\nChange-Id: Ibe7e39b09dccec6bba2cc450bc59cffe84ee8b24\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}]",3,686365,e49156662d8dc763a6d6fea89d53352f0ade7a25,8,9,2,21883,,,0,"Remove the logic to set glance APIv1

glance APIv1 must be used for openstack Newton. However, that version
should not be supported anymore. Therefore, there is no need to have
that code in the scripts

Change-Id: Ibe7e39b09dccec6bba2cc450bc59cffe84ee8b24
Signed-off-by: Manuel Buil <mbuil@suse.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/65/686365/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/component/glance/glance.sh', 'tools/deployment/developer/ceph/120-glance.sh', 'tools/deployment/multinode/100-glance.sh', 'tools/deployment/developer/nfs/120-glance.sh']",4,f7b742ead1915e67e965fa8314bb800faf50c235,,,": ${OSH_OPENSTACK_RELEASE:=""newton""}if [ ""x${OSH_OPENSTACK_RELEASE}"" == ""xnewton"" ]; then # NOTE(portdirect): glance APIv1 is required for heat in Newton tee -a /tmp/glance.yaml <<EOF conf: glance: DEFAULT: enable_v1_api: true enable_v2_registry: true manifests: deployment_registry: true ingress_registry: true pdb_registry: true service_ingress_registry: true service_registry: true EOF fi",5,67
openstack%2Fopenstack-helm~master~I4ca524ed7462f945a245e9dbe1d69493dbc4211d,openstack/openstack-helm,master,I4ca524ed7462f945a245e9dbe1d69493dbc4211d,Ceilometer chart: add the ability to publish events to panko,ABANDONED,2019-03-06 23:37:36.000000000,2020-07-24 04:42:50.000000000,,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28435}, {'_account_id': 28570}]","[{'number': 1, 'created': '2019-03-06 23:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/95af362190d67463e4e6c414628749be0b5067f5', 'message': 'Ceilometer chart: add the ability to publish events to panko\n\nCeilometer notification agent sends the events to panko via panko\ndispatcher/publisher which requires the db connection information\nin /etc/panko/panko.conf.\nThis commit updates to mount the configuration file for panko in\nceilometer notification pod if panko is selected for the event\nstorage.\n\nChange-Id: I4ca524ed7462f945a245e9dbe1d69493dbc4211d\nStory: 2005019\nTask: 29498\nDepends-On: https://review.openstack.org/#/c/641144/\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 2, 'created': '2019-03-11 20:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8cfd77ef3c252112b1a2e87b5115d251f2ba01f4', 'message': 'Ceilometer chart: add the ability to publish events to panko\n\nCeilometer notification agent sends the events to panko via panko\ndispatcher/publisher which requires the db connection information\nin /etc/panko/panko.conf.\nThis commit updates to mount the configuration file for panko in\nceilometer notification pod if panko is selected for the event\nstorage.\n\nChange-Id: I4ca524ed7462f945a245e9dbe1d69493dbc4211d\nStory: 2005019\nTask: 29498\nDepends-On: https://review.openstack.org/#/c/641144/\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 3, 'created': '2019-03-21 18:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1929d2b05a5c5f6f1683f4a79e04dbd69026a863', 'message': 'Ceilometer chart: add the ability to publish events to panko\n\nCeilometer notification agent sends the events to panko via panko\ndispatcher/publisher which requires the db connection information\nin /etc/panko/panko.conf.\nThis commit updates to mount the configuration file for panko in\nceilometer notification pod.\n\nChange-Id: I4ca524ed7462f945a245e9dbe1d69493dbc4211d\nStory: 2005019\nTask: 29498\nDepends-On: https://review.openstack.org/#/c/641144/\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 4, 'created': '2019-03-21 18:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/33889dff5927da9ac664c36fc09871eeaf2c9610', 'message': 'Ceilometer chart: add the ability to publish events to panko\n\nCeilometer notification agent sends the events to panko via panko\ndispatcher/publisher which requires the db connection information\nin /etc/panko/panko.conf.\nThis commit updates to mount the configuration file for panko in\nceilometer notification pod.\n\nChange-Id: I4ca524ed7462f945a245e9dbe1d69493dbc4211d\nStory: 2005019\nTask: 29498\nDepends-On: https://review.openstack.org/#/c/641144/\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 5, 'created': '2019-03-26 15:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0181ba39363357fa958afae810b936bedc97d9cc', 'message': 'Ceilometer chart: add the ability to publish events to panko\n\nCeilometer notification agent sends the events to panko via panko\ndispatcher/publisher which requires the db connection information\nin /etc/panko/panko.conf.\nThis commit updates to mount the configuration file for panko in\nceilometer notification pod.\n\nChange-Id: I4ca524ed7462f945a245e9dbe1d69493dbc4211d\nStory: 2005019\nTask: 29498\nDepends-On: https://review.openstack.org/#/c/641144/\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 6, 'created': '2019-03-28 18:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/52dc311d56137edcd9dd7f775b30adcf55151dda', 'message': 'Ceilometer chart: add the ability to publish events to panko\n\nCeilometer notification agent sends the events to panko via panko\ndispatcher/publisher which requires the db connection information\nin /etc/panko/panko.conf.\nThis commit updates to mount the configuration file for panko in\nceilometer notification pod.\n\nChange-Id: I4ca524ed7462f945a245e9dbe1d69493dbc4211d\nStory: 2005019\nTask: 29498\nDepends-On: https://review.openstack.org/#/c/641144/\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 7, 'created': '2019-03-29 14:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/95f39b3a32338ef2fcb868d94d215f66c69c9087', 'message': 'Ceilometer chart: add the ability to publish events to panko\n\nCeilometer notification agent sends the events to panko via panko\ndispatcher/publisher which requires the db connection information\nin /etc/panko/panko.conf.\nThis commit updates to mount the configuration file for panko in\nceilometer notification pod.\n\nChange-Id: I4ca524ed7462f945a245e9dbe1d69493dbc4211d\nStory: 2005019\nTask: 29498\nDepends-On: https://review.openstack.org/#/c/641144/\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 8, 'created': '2019-04-03 03:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/507bc47f1447808c57c1c8aa82b0639543083656', 'message': 'Ceilometer chart: add the ability to publish events to panko\n\nCeilometer notification agent sends the events to panko via panko\ndispatcher/publisher which requires the db connection information\nin /etc/panko/panko.conf.\nThis commit updates to mount the configuration file for panko in\nceilometer notification pod.\n\nChange-Id: I4ca524ed7462f945a245e9dbe1d69493dbc4211d\nStory: 2005019\nTask: 29498\nDepends-On: https://review.openstack.org/#/c/641144/\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}, {'number': 9, 'created': '2019-07-10 16:26:45.000000000', 'files': ['ceilometer/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/32c6e614159d0e900fca9555c772721bb989a4a4', 'message': 'Ceilometer chart: add the ability to publish events to panko\n\nCeilometer notification agent sends the events to panko via panko\ndispatcher/publisher which requires the db connection information\nin /etc/panko/panko.conf.\nThis commit updates to mount the configuration file for panko in\nceilometer notification pod.\n\nChange-Id: I4ca524ed7462f945a245e9dbe1d69493dbc4211d\nStory: 2005019\nTask: 29498\nDepends-On: https://review.openstack.org/#/c/641144/\nSigned-off-by: Angie Wang <angie.wang@windriver.com>\n'}]",0,641519,32c6e614159d0e900fca9555c772721bb989a4a4,26,5,9,28435,,,0,"Ceilometer chart: add the ability to publish events to panko

Ceilometer notification agent sends the events to panko via panko
dispatcher/publisher which requires the db connection information
in /etc/panko/panko.conf.
This commit updates to mount the configuration file for panko in
ceilometer notification pod.

Change-Id: I4ca524ed7462f945a245e9dbe1d69493dbc4211d
Story: 2005019
Task: 29498
Depends-On: https://review.openstack.org/#/c/641144/
Signed-off-by: Angie Wang <angie.wang@windriver.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/19/641519/9 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/templates/deployment-notification.yaml', 'ceilometer/values.yaml']",2,95af362190d67463e4e6c414628749be0b5067f5,bp/support-docker-registry-with-authentication-turned-on,"# ceilometer, panko # NOTE: ceilometer storage was removed in the queens release event_storage: ""panko"" # The following publisher will enable to publish events to panko. # Ocata: # - direct://?dispatcher=panko # Pike: # - panko:// - endpoint: internal service: event event: name: panko hosts: default: panko-api public: panko host_fqdn_override: default: null path: default: null scheme: default: 'http' port: api: default: 8977 public: 80",,42,0
openstack%2Fopenstack-helm-infra~master~Ie3b166dd69104b57664bf6bfef5cb0e16bf00737,openstack/openstack-helm-infra,master,Ie3b166dd69104b57664bf6bfef5cb0e16bf00737,Add snippet and manifest for ssl k8s objects,ABANDONED,2019-08-30 07:55:50.000000000,2020-07-24 04:42:37.000000000,,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 14525}, {'_account_id': 17591}, {'_account_id': 18795}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29954}]","[{'number': 1, 'created': '2019-08-30 07:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4c1a94add1f26c1064451810b8f0bc473060af69', 'message': 'Add snippet and manifest for ssl k8s objects\n\nThe snippet adds kubernetes objects (mount point, volume)\nand also adds code block in pod start script for passing CA\ncertificate inside pods for further requests validation against\nit. For specifying the type of object need to pass ""script_sh""\nor ""mountpoint"" or ""volume"" value in ""objectType"" key.\nThe manifest should be used for ca bundle secret creation.\n\nChange-Id: Ie3b166dd69104b57664bf6bfef5cb0e16bf00737\n'}, {'number': 2, 'created': '2019-09-16 10:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/45fe254cff439480fbc1bd6147f8847652497159', 'message': 'Add snippet and manifest for ssl k8s objects\n\nThe snippet adds kubernetes objects (mount point, volume)\nand also adds code block in pod start script for passing CA\ncertificate inside pods for further requests validation against\nit. For specifying the type of object need to pass ""script_sh""\nor ""mountpoint"" or ""volume"" value in ""objectType"" key.\nThe manifest should be used for ca bundle secret creation.\n\nChange-Id: Ie3b166dd69104b57664bf6bfef5cb0e16bf00737\n'}, {'number': 3, 'created': '2019-09-25 09:51:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/87a69ea0a3d54574dc95392ede8bc40f99fe6be5', 'message': 'Add snippet and manifest for ssl k8s objects\n\nThe snippet adds kubernetes objects (mount point, volume)\nand also adds code block in pod start script for passing CA\ncertificate inside pods for further requests validation against\nit. For specifying the type of object need to pass ""script_sh""\nor ""mountpoint"" or ""volume"" value in ""objectType"" key.\nThe manifest should be used for ca bundle secret creation.\n\nChange-Id: Ie3b166dd69104b57664bf6bfef5cb0e16bf00737\n'}, {'number': 4, 'created': '2019-10-02 17:19:11.000000000', 'files': ['helm-toolkit/templates/manifests/_secret_ca_bundle.tpl', 'helm-toolkit/templates/snippets/_kubernetes_ssl_objects.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5dd320618272b5d422836a03a916a8b13a4fa749', 'message': 'Add snippet and manifest for ssl k8s objects\n\nThe snippet adds kubernetes objects (mount point, volume)\nand also adds code block in pod start script for passing CA\ncertificate inside pods for further requests validation against\nit. For specifying the type of object need to pass ""script_sh""\nor ""mountpoint"" or ""volume"" value in ""objectType"" key.\nThe manifest should be used for ca bundle secret creation.\n\nChange-Id: Ie3b166dd69104b57664bf6bfef5cb0e16bf00737\n'}]",0,679387,5dd320618272b5d422836a03a916a8b13a4fa749,15,11,4,29013,,,0,"Add snippet and manifest for ssl k8s objects

The snippet adds kubernetes objects (mount point, volume)
and also adds code block in pod start script for passing CA
certificate inside pods for further requests validation against
it. For specifying the type of object need to pass ""script_sh""
or ""mountpoint"" or ""volume"" value in ""objectType"" key.
The manifest should be used for ca bundle secret creation.

Change-Id: Ie3b166dd69104b57664bf6bfef5cb0e16bf00737
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/87/679387/4 && git format-patch -1 --stdout FETCH_HEAD,"['helm-toolkit/templates/manifests/_secret_ca_bundle.tpl', 'helm-toolkit/templates/snippets/_kubernetes_ssl_objects.tpl']",2,4c1a94add1f26c1064451810b8f0bc473060af69,ssl_snippet_manifest,"{{/* Copyright 2019 Mirantis Inc. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{/* abstract: | This snippet adds kubernetes objects (mount point, volume) and also adds code block in pod start script for passing CA certificate inside pods for further requests validation against it. For specifying the type of object need to pass ""script_sh"" or ""mountpoint"" or ""volume"" value in ""objectType"" key examples: - values: | manifests: configmap_ca_bundle: true usage_mountpoint: | {{ dict ""envAll"" $envAll ""objectType"" ""mountpoint"" ""secretPrefix"" ""horizon"" | include ""helm-toolkit.snippets.kubernetes_ssl_objects"" | indent 12 }} return_mountpoint: | - name: ca-cert-bundle mountPath: /etc/ssl/certs/openstack-ca-bundle.pem readOnly: true subPath: ca_bundle - name: ca-cert mountPath: /certs usage_volume: | {{ dict ""envAll"" $envAll ""objectType"" ""volume"" ""secretPrefix"" ""horizon"" | include ""helm-toolkit.snippets.kubernetes_ssl_objects"" | indent 8 }} return_volume: | - name: ca-cert-bundle secret: secretName: horizon-ca-bundle - name: ca-cert emptyDir: {} usage_script_sh: | {{ dict ""envAll"" $envAll ""objectType"" ""script_sh"" ""secretPrefix"" ""horizon"" | include ""helm-toolkit.snippets.kubernetes_ssl_objects"" }} return_script_sh: | CERTIFI_CA_BUNDLE=`python -c ""import certifi; print(certifi.where())""` OPENSTACK_CA_BUNDLE=""/etc/ssl/certs/openstack-ca-bundle.pem"" if [[ -f ""${CERTIFI_CA_BUNDLE}"" && -f ""${OPENSTACK_CA_BUNDLE}"" ]] ; then cat ${CERTIFI_CA_BUNDLE} > /certs/ca-bundle.pem cat ${OPENSTACK_CA_BUNDLE} >> /certs/ca-bundle.pem export REQUESTS_CA_BUNDLE=/certs/ca-bundle.pem fi */}} {{- define ""helm-toolkit.snippets.kubernetes_ssl_objects"" -}} {{- $envAll := index . ""envAll"" -}} {{- if $envAll.Values.manifests.secret_ca_bundle }} {{- $objectType := index . ""objectType"" -}} {{- $secretPrefix := index . ""secretPrefix"" -}} {{- if eq $objectType ""mountpoint"" }} - name: ca-cert-bundle mountPath: /etc/ssl/certs/openstack-ca-bundle.pem readOnly: true subPath: ca_bundle - name: ca-cert mountPath: /certs {{- end }} {{- if eq $objectType ""volume"" }} - name: ca-cert-bundle secret: secretName: {{ $secretPrefix }}-ca-bundle - name: ca-cert emptyDir: {} {{- end }} {{- if eq $objectType ""script_sh"" }} CERTIFI_CA_BUNDLE=`python -c ""import certifi; print(certifi.where())""` OPENSTACK_CA_BUNDLE=""/etc/ssl/certs/openstack-ca-bundle.pem"" if [[ -f ""${CERTIFI_CA_BUNDLE}"" && -f ""${OPENSTACK_CA_BUNDLE}"" ]] ; then cat ${CERTIFI_CA_BUNDLE} > /certs/ca-bundle.pem cat ${OPENSTACK_CA_BUNDLE} >> /certs/ca-bundle.pem export REQUESTS_CA_BUNDLE=/certs/ca-bundle.pem fi {{- end }} {{- end }} {{- end }} ",,148,0
openstack%2Fopenstack-helm~master~I8a5d953098dfeaad5d95df7801bdf6569dc2d5e5,openstack/openstack-helm,master,I8a5d953098dfeaad5d95df7801bdf6569dc2d5e5,Updating Network Policy for Glance,ABANDONED,2019-10-01 13:55:24.000000000,2020-07-24 04:42:24.000000000,,"[{'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-01 13:55:24.000000000', 'files': ['tools/deployment/common/test-networkpolicy.sh', 'glance/values_overrides/netpol.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/52ddc2e205926733c54a83518c429840c84c0b15', 'message': 'Updating Network Policy for Glance\n\n  * update the tcp ports\n  * update the test negative and positive test cases\n\nChange-Id: I8a5d953098dfeaad5d95df7801bdf6569dc2d5e5\n'}]",1,685972,52ddc2e205926733c54a83518c429840c84c0b15,4,2,1,28875,,,0,"Updating Network Policy for Glance

  * update the tcp ports
  * update the test negative and positive test cases

Change-Id: I8a5d953098dfeaad5d95df7801bdf6569dc2d5e5
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/72/685972/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/common/test-networkpolicy.sh', 'glance/values_overrides/netpol.yaml']",2,52ddc2e205926733c54a83518c429840c84c0b15,netpol,network_policy: glance: ingress: - from: - podSelector: matchLabels: application: glance - podSelector: matchLabels: application: nova - podSelector: matchLabels: application: horizon - podSelector: matchLabels: application: ingress - podSelector: matchLabels: application: heat - podSelector: matchLabels: application: ironic - podSelector: matchLabels: application: cinder ports: - protocol: TCP port: 9191 - protocol: TCP port: 9292 egress: - {},#network_policy: # glance: # ingress: # - from: # - podSelector: # matchLabels: # application: glance # - podSelector: # matchLabels: # application: nova # - podSelector: # matchLabels: # application: horizon # - podSelector: # matchLabels: # application: ingress # - podSelector: # matchLabels: # application: heat # - podSelector: # matchLabels: # application: ironic # - podSelector: # matchLabels: # application: cinder # ports: # - protocol: TCP # port: 80 # - protocol: TCP # port: 9191 # - protocol: TCP # port: 9292,51,32
openstack%2Fopenstack-helm~master~Id62271beebdf21868262352ad89872915c24a8ba,openstack/openstack-helm,master,Id62271beebdf21868262352ad89872915c24a8ba,Implement East-West ingress policy for Neutron.,ABANDONED,2018-12-13 17:06:24.000000000,2020-07-24 04:42:20.000000000,,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 16881}, {'_account_id': 17591}, {'_account_id': 17966}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 20889}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 27455}, {'_account_id': 27589}, {'_account_id': 27977}, {'_account_id': 29198}, {'_account_id': 29397}]","[{'number': 1, 'created': '2018-12-13 17:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/09a3c6445b4b0c77ee76db40a2b481d95f70cfb6', 'message': 'Implement East-West ingress policy for Neutron.\n\nThis patch is to add the network policies to Neutron.\nAdded tests for the same.\n\nChange-Id: Id62271beebdf21868262352ad89872915c24a8ba\n'}, {'number': 2, 'created': '2018-12-17 09:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f68e8a628c809d2af25884e9dc7b246fb9700469', 'message': 'Implement East-West ingress policy for Neutron.\n\nThis patch is to add the network policies to Neutron.\nAdded tests for the same.\n\nChange-Id: Id62271beebdf21868262352ad89872915c24a8ba\n'}, {'number': 3, 'created': '2018-12-18 08:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cd714a47f115a8455280536975789f2ffddc55fc', 'message': 'Implement East-West ingress policy for Neutron.\n\nThis patch is to add the network policies to Neutron.\nAdded tests for the same.\n\nChange-Id: Id62271beebdf21868262352ad89872915c24a8ba\n'}, {'number': 4, 'created': '2019-02-08 08:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2ef84707ba3a674f53e6aaba6c68a7495cac6ce9', 'message': 'Implement East-West ingress policy for Neutron.\n\nThis patch is to add the network policies to Neutron.\nAdded tests for the same.\n\nChange-Id: Id62271beebdf21868262352ad89872915c24a8ba\n'}, {'number': 5, 'created': '2019-02-10 19:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/104042741c75cae9aa04c457bf2b3f248bcb647b', 'message': 'Implement East-West ingress policy for Neutron.\n\nThis patch is to add the network policies to Neutron.\nAdded tests for the same.\n\nChange-Id: Id62271beebdf21868262352ad89872915c24a8ba\n'}, {'number': 6, 'created': '2019-03-06 03:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e352261efd64135356d9e153b21874eb941f3c81', 'message': 'Implement East-West ingress policy for Neutron.\n\nThis patch is to add the network policies to Neutron.\nAdded tests for the same.\n\nChange-Id: Id62271beebdf21868262352ad89872915c24a8ba\n'}, {'number': 7, 'created': '2019-03-28 19:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4157bb2662f725e506b6896f2482b5dd26e7c30b', 'message': 'Implement East-West ingress policy for Neutron.\n\nThis patch is to add the network policies to Neutron.\nAdded tests for the same.\n\nChange-Id: Id62271beebdf21868262352ad89872915c24a8ba\n'}, {'number': 8, 'created': '2019-04-20 19:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b6f76ce161d8d398316755c14367452e2dca5a6b', 'message': 'Implement East-West ingress policy for Neutron.\n\nThis patch is to add the network policies to Neutron.\nAdded tests for the same.\n\nChange-Id: Id62271beebdf21868262352ad89872915c24a8ba\n'}, {'number': 9, 'created': '2019-09-20 10:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c3622cf60289989622ac9ddda068b4b8d3835f9f', 'message': 'Implement East-West ingress policy for Neutron.\n\nThis patch is to add the network policies to Neutron.\nAdded tests for the same.\n\nChange-Id: Id62271beebdf21868262352ad89872915c24a8ba\n'}, {'number': 10, 'created': '2019-09-20 11:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5574bc10b759105931d58f19f340fbaa01407393', 'message': 'Implement East-West ingress policy for Neutron.\n\nThis patch is to add the network policies to Neutron.\nAdded tests for the same. Also adds changes to the netpol\nfuction such that it accepts pod labels to fetch pod info.\n\nChange-Id: Id62271beebdf21868262352ad89872915c24a8ba\n'}, {'number': 11, 'created': '2019-09-20 11:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ccbaa4b5e435e42e2529b2b2f200ec61402f7d37', 'message': 'Implement East-West ingress policy for Neutron.\n\nThis patch is to add the network policies to Neutron.\nAdded tests for the same. Also adds changes to the netpol\nfuction such that it accepts pod labels to fetch pod info.\n\nDepends-On: https://review.opendev.org/#/c/681539\n\nChange-Id: Id62271beebdf21868262352ad89872915c24a8ba\n'}, {'number': 12, 'created': '2019-09-20 11:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b639d387bde61f14357264f385643a06229af270', 'message': 'Implement East-West ingress policy for Neutron.\n\nThis patch is to add the network policies to Neutron.\n\nDepends-On: https://review.opendev.org/#/c/681539\n\nChange-Id: Id62271beebdf21868262352ad89872915c24a8ba\n'}, {'number': 13, 'created': '2019-10-01 09:11:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a78898354576c26d49864222bf855e14f097fc78', 'message': 'Implement East-West ingress policy for Neutron.\n\nThis patch is to add the network policies to Neutron.\nAdded tests for the same.\n\nChange-Id: Id62271beebdf21868262352ad89872915c24a8ba\n'}, {'number': 14, 'created': '2019-10-01 10:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6b9f028bfa0af583f364e4771100ab6d324407b8', 'message': 'Implement East-West ingress policy for Neutron.\n\nThis patch is to add the network policies to Neutron.\nAdded tests for the same.\n\nChange-Id: Id62271beebdf21868262352ad89872915c24a8ba\n'}, {'number': 15, 'created': '2019-10-01 11:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2ce8836400d77a85ae143cce6fb860ea1376220b', 'message': 'Implement East-West ingress policy for Neutron.\n\nThis patch is to add the network policies to Neutron.\nAdded tests for the same.\n\nChange-Id: Id62271beebdf21868262352ad89872915c24a8ba\n'}, {'number': 16, 'created': '2019-10-01 13:20:46.000000000', 'files': ['tools/deployment/common/test-networkpolicy.sh', 'neutron/values_overrides/netpol.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8ec405be5bdf6553219e7008613c053a01621d2d', 'message': 'Implement East-West ingress policy for Neutron.\n\nThis patch is to add the network policies to Neutron.\nAdded tests for the same.\n\nChange-Id: Id62271beebdf21868262352ad89872915c24a8ba\n'}]",5,625055,8ec405be5bdf6553219e7008613c053a01621d2d,44,19,16,27977,,,0,"Implement East-West ingress policy for Neutron.

This patch is to add the network policies to Neutron.
Added tests for the same.

Change-Id: Id62271beebdf21868262352ad89872915c24a8ba
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/55/625055/16 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/common/test-networkpolicy.sh', 'neutron/values.yaml']",2,09a3c6445b4b0c77ee76db40a2b481d95f70cfb6,, - from: - podSelector: matchLabels: application: neutron - podSelector: matchLabels: application: ingress - podSelector: matchLabels: application: nova - podSelector: matchLabels: application: heat - podSelector: matchLabels: application: horizon ports: - protocol: TCP port: 80 - protocol: TCP port: 443 - protocol: TCP port: 9696, - {},25,1
openstack%2Floci~master~I278f2eb264668becdf9eba479d3f1ddf8da563e9,openstack/loci,master,I278f2eb264668becdf9eba479d3f1ddf8da563e9,allow pass custom service name,ABANDONED,2019-10-01 02:42:14.000000000,2020-07-24 04:42:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 29071}]","[{'number': 1, 'created': '2019-10-01 02:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/b126c56105551b88ba4af795c2cd246e754921e6', 'message': 'allow pass custom service name\n\nfor harbor registry, domain name may not equal\nto service name\n\nChange-Id: I278f2eb264668becdf9eba479d3f1ddf8da563e9\n'}, {'number': 2, 'created': '2019-10-01 03:28:36.000000000', 'files': ['Dockerfile', 'scripts/fetch_wheels.py'], 'web_link': 'https://opendev.org/openstack/loci/commit/788221e52968a5d551473ea2d4d803850a3d99dd', 'message': 'allow pass custom service name\n\nfor harbor registry, domain name may not equal\nto service name\n\nChange-Id: I278f2eb264668becdf9eba479d3f1ddf8da563e9\n'}]",0,685870,788221e52968a5d551473ea2d4d803850a3d99dd,6,2,2,29071,,,0,"allow pass custom service name

for harbor registry, domain name may not equal
to service name

Change-Id: I278f2eb264668becdf9eba479d3f1ddf8da563e9
",git fetch https://review.opendev.org/openstack/loci refs/changes/70/685870/2 && git format-patch -1 --stdout FETCH_HEAD,"['Dockerfile', 'scripts/fetch_wheels.py']",2,b126c56105551b88ba4af795c2cd246e754921e6,allow_custom_service," if os.environ.get('REGISTRY_SERVICE', None): service = os.environ.get('REGISTRY_SERVICE') else: service = registry.split(':')[0] if os.environ.get('REGISTRY_AUTHSERVER', None): authserver = os.environ.get('REGISTRY_AUTHSERVER') else: authserver = ""{}/v2"".format(registry) "," authserver = ""{}/v2"".format(registry) service = registry.split(':')[0]",15,3
openstack%2Fswift~master~Ie77d7d4c490552f298c4ccbb21b6b0ba58b0f5d4,openstack/swift,master,Ie77d7d4c490552f298c4ccbb21b6b0ba58b0f5d4,Give internal clients the option of getting container HEADs from memcache,ABANDONED,2019-06-27 22:10:47.000000000,2020-07-24 04:41:43.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 22:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b538132cbff84b3e318e14c2cf226bbdec95dd18', 'message': 'WIP: Give operators the option of serving container HEADs from memcache\n\nChange-Id: Ie77d7d4c490552f298c4ccbb21b6b0ba58b0f5d4\n'}, {'number': 2, 'created': '2019-06-27 23:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/302a001f6facb4ea1e795b84be9d1db3ae9e1dc4', 'message': 'WIP: Give operators the option of serving container HEADs from memcache\n\nUpdate versioned_writes func tests to stop relying on object counts from\ncontainer HEADs (as they may now be stale), and update some unit tests\nto provide Last-Modified headers (which needed to get added to container\ninfo responses).\n\nChange-Id: Ie77d7d4c490552f298c4ccbb21b6b0ba58b0f5d4\n'}, {'number': 3, 'created': '2019-07-01 23:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/229715a68be65c212dc7986c5cc968579d843163', 'message': 'WIP: Give operators the option of serving container HEADs from memcache\n\nUpdate versioned_writes func tests to stop relying on object counts from\ncontainer HEADs (as they may now be stale), and update some unit tests\nto provide Last-Modified headers (which needed to get added to container\ninfo responses).\n\nChange-Id: Ie77d7d4c490552f298c4ccbb21b6b0ba58b0f5d4\n'}, {'number': 4, 'created': '2019-07-25 22:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5a826bfeee7caf90b582091f690feb5e2674ca49', 'message': ""Give internal clients the option of getting container HEADs from memcache\n\nThis includes things like middlewares in the proxy-server pipeline.\n\nIn some contexts, the standard get_container_info doesn't quite suffice\nand middlewares fall back to doing a container HEAD. In particular,\ns3api requires at least one auth'ed request before trying to hit\nmemcache so the auth middlewares have a chance to map the access_key_id\nto a Swift account.\n\nFortunately, after it's done that once, it can re-use the result for the\nrest of the client-request lifecycle; this is what led S3Request to grow\nits own form of get_container_info.\n\nAllow the HEAD to get served from memcache so we don't have to go\ncontacting a container server for every request.\n\nChange-Id: Ie77d7d4c490552f298c4ccbb21b6b0ba58b0f5d4\n""}, {'number': 5, 'created': '2020-04-24 22:10:39.000000000', 'files': ['swift/common/middleware/s3api/s3request.py', 'swift/proxy/controllers/container.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/54301310932eb163e312d6cbf9facee2b3095a62', 'message': ""Give internal clients the option of getting container HEADs from memcache\n\nThis includes things like middlewares in the proxy-server pipeline.\n\nIn some contexts, the standard get_container_info doesn't quite suffice\nand middlewares fall back to doing a container HEAD. In particular,\ns3api requires at least one auth'ed request before trying to hit\nmemcache so the auth middlewares have a chance to map the access_key_id\nto a Swift account.\n\nFortunately, after it's done that once, it can re-use the result for the\nrest of the client-request lifecycle; this is what led S3Request to grow\nits own form of get_container_info.\n\nAllow the HEAD to get served from memcache so we don't have to go\ncontacting a container server for every request.\n\nChange-Id: Ie77d7d4c490552f298c4ccbb21b6b0ba58b0f5d4\n""}]",6,668064,54301310932eb163e312d6cbf9facee2b3095a62,16,3,5,15343,,,0,"Give internal clients the option of getting container HEADs from memcache

This includes things like middlewares in the proxy-server pipeline.

In some contexts, the standard get_container_info doesn't quite suffice
and middlewares fall back to doing a container HEAD. In particular,
s3api requires at least one auth'ed request before trying to hit
memcache so the auth middlewares have a chance to map the access_key_id
to a Swift account.

Fortunately, after it's done that once, it can re-use the result for the
rest of the client-request lifecycle; this is what led S3Request to grow
its own form of get_container_info.

Allow the HEAD to get served from memcache so we don't have to go
contacting a container server for every request.

Change-Id: Ie77d7d4c490552f298c4ccbb21b6b0ba58b0f5d4
",git fetch https://review.opendev.org/openstack/swift refs/changes/64/668064/4 && git format-patch -1 --stdout FETCH_HEAD,"['etc/proxy-server.conf-sample', 'swift/common/middleware/s3api/controllers/bucket.py', 'swift/proxy/controllers/container.py', 'swift/proxy/server.py', 'swift/proxy/controllers/base.py']",5,b538132cbff84b3e318e14c2cf226bbdec95dd18,head-from-cache," 'last_modified': headers.get('last-modified'), req.headers['X-Backend-Bypass-Memcache'] = 'True'",,64,4
openstack%2Fheat~stable%2Frocky~Id851530b424f68b5e0e967fe34431483bfffd852,openstack/heat,stable/rocky,Id851530b424f68b5e0e967fe34431483bfffd852,Allow scale-down of ASG as part of update,MERGED,2020-05-29 01:53:10.000000000,2020-07-24 04:25:47.000000000,2020-07-24 04:25:47.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-29 01:53:10.000000000', 'files': ['heat/engine/resources/aws/autoscaling/autoscaling_group.py', 'heat/engine/resources/openstack/heat/instance_group.py', 'heat/tests/openstack/heat/test_instance_group.py', 'heat/tests/openstack/heat/test_instance_group_update_policy.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/5386d51040fede7d5a60fd34a7fbf4c39984f152', 'message': ""Allow scale-down of ASG as part of update\n\nWhen user wants to do manual scale-up of ASG by increasing the\ndesired_capacity and also update some member properties as\npart of a stack update, if it fails due to insufficient\nresources when resizing, trying to manually scale-down by\ndecreasing the desired_capacity won't work, as it would\nalways expect to update the group with the earlier size\nbefore scaling down.\n\nThis patch uses the target_size when building the batches.\n\nTask: 39867\nChange-Id: Id851530b424f68b5e0e967fe34431483bfffd852\n(cherry picked from commit 26d8f64fc90ed9b3ad0413ed0c932fb91b51d666)\n""}]",0,731641,5386d51040fede7d5a60fd34a7fbf4c39984f152,6,2,1,8833,,,0,"Allow scale-down of ASG as part of update

When user wants to do manual scale-up of ASG by increasing the
desired_capacity and also update some member properties as
part of a stack update, if it fails due to insufficient
resources when resizing, trying to manually scale-down by
decreasing the desired_capacity won't work, as it would
always expect to update the group with the earlier size
before scaling down.

This patch uses the target_size when building the batches.

Task: 39867
Change-Id: Id851530b424f68b5e0e967fe34431483bfffd852
(cherry picked from commit 26d8f64fc90ed9b3ad0413ed0c932fb91b51d666)
",git fetch https://review.opendev.org/openstack/heat refs/changes/41/731641/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/aws/autoscaling/autoscaling_group.py', 'heat/engine/resources/openstack/heat/instance_group.py', 'heat/tests/openstack/heat/test_instance_group.py', 'heat/tests/openstack/heat/test_instance_group_update_policy.py']",4,5386d51040fede7d5a60fd34a7fbf4c39984f152,, group.get_size = mock.Mock(return_value=12),,55,39
openstack%2Fneutron~stable%2Fussuri~I3d7e70a4a110c68a89d6c575abf121cd9b97e439,openstack/neutron,stable/ussuri,I3d7e70a4a110c68a89d6c575abf121cd9b97e439,[OVN] Fix logic issue while deleting port with QoS,MERGED,2020-07-20 10:39:22.000000000,2020-07-24 04:21:39.000000000,2020-07-24 04:20:07.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-07-20 10:39:22.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5554d620d14175b9bade595226bdc797ba498cf3', 'message': ""[OVN] Fix logic issue while deleting port with QoS\n\nWhile port has QoS policy configured the policy wasn't deleted\nbecause of logic issue.\n\nChange-Id: I3d7e70a4a110c68a89d6c575abf121cd9b97e439\nCloses-Bug: #1886962\n(cherry picked from commit 0e53673c5d4f49846bb439b2e1ab8e984c20d6f8)\n""}]",0,741915,5554d620d14175b9bade595226bdc797ba498cf3,12,6,1,16688,,,0,"[OVN] Fix logic issue while deleting port with QoS

While port has QoS policy configured the policy wasn't deleted
because of logic issue.

Change-Id: I3d7e70a4a110c68a89d6c575abf121cd9b97e439
Closes-Bug: #1886962
(cherry picked from commit 0e53673c5d4f49846bb439b2e1ab8e984c20d6f8)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/741915/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/qos.py']",3,5554d620d14175b9bade595226bdc797ba498cf3,bug/1886962, if (not reset and not original_port) and not delete:, if not reset and not original_port:,13,9
openstack%2Fcinderlib~master~I9dcbe2557fbacb1281a74eaba695844144585897,openstack/cinderlib,master,I9dcbe2557fbacb1281a74eaba695844144585897,Update master for stable/ussuri,MERGED,2020-07-23 09:21:28.000000000,2020-07-24 04:20:21.000000000,2020-07-23 16:11:18.000000000,"[{'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 09:21:28.000000000', 'files': ['releasenotes/source/ussuri.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/55e78be3b6fb37fea19487daab0a9788073719ad', 'message': 'Update master for stable/ussuri\n\nAdd file to the reno documentation build to show release notes for\nstable/ussuri.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/ussuri.\n\nChange-Id: I9dcbe2557fbacb1281a74eaba695844144585897\nSem-Ver: feature\n'}]",0,742621,55e78be3b6fb37fea19487daab0a9788073719ad,9,4,1,22816,,,0,"Update master for stable/ussuri

Add file to the reno documentation build to show release notes for
stable/ussuri.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/ussuri.

Change-Id: I9dcbe2557fbacb1281a74eaba695844144585897
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/21/742621/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/ussuri.rst', 'releasenotes/source/index.rst']",2,55e78be3b6fb37fea19487daab0a9788073719ad,reno-ussuri, ussuri,,7,0
openstack%2Fos-net-config~master~I0a3b374b321ba039c8e0b1c126ac3eb59e6dc980,openstack/os-net-config,master,I0a3b374b321ba039c8e0b1c126ac3eb59e6dc980,Avoid openvswitch restarts during re-run,MERGED,2020-07-17 13:25:38.000000000,2020-07-24 04:08:30.000000000,2020-07-23 23:31:49.000000000,"[{'_account_id': 3153}, {'_account_id': 12171}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25241}, {'_account_id': 25877}, {'_account_id': 28714}]","[{'number': 1, 'created': '2020-07-17 13:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/c7a0fbceb01c0028c9901d332bc8108c98a3f4ec', 'message': 'Avoid openvswitch restarts during re-run\n\nFor offload configuration on the first time, opevswitch\nneed to be restarted after the interface configured to\nswitchdev mode to enable VF-LAG. But once it is configured,\nopenvswitch should not be restarted, which will create\nVF-LAG failures. In general, in the TripleO during\nupdates/upgrades, ovs restart will not be triggered\nand it will be allowed to the user to restart or reboot\nthe node. Aligning with it, opevswitch restart has been\navoided on all os-net-config re-runs.\nCloses-Bug: #1887957\n\nChange-Id: I0a3b374b321ba039c8e0b1c126ac3eb59e6dc980\n'}, {'number': 2, 'created': '2020-07-22 07:39:11.000000000', 'files': ['os_net_config/cli.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/4c95f7d08732d8e4f4b865e8c119dee87b8196eb', 'message': 'Avoid openvswitch restarts during re-run\n\nFor offload configuration on the first time, opevswitch\nneed to be restarted after the interface configured to\nswitchdev mode to enable VF-LAG. But once it is configured,\nopenvswitch should not be restarted, which will create\nVF-LAG failures. In general, in the TripleO during\nupdates/upgrades, ovs restart will not be triggered\nand it will be allowed to the user to restart or reboot\nthe node. Aligning with it, opevswitch restart has been\navoided on all os-net-config re-runs.\nCloses-Bug: #1887957\n\nChange-Id: I0a3b374b321ba039c8e0b1c126ac3eb59e6dc980\n'}]",6,741636,4c95f7d08732d8e4f4b865e8c119dee87b8196eb,31,12,2,18575,,,0,"Avoid openvswitch restarts during re-run

For offload configuration on the first time, opevswitch
need to be restarted after the interface configured to
switchdev mode to enable VF-LAG. But once it is configured,
openvswitch should not be restarted, which will create
VF-LAG failures. In general, in the TripleO during
updates/upgrades, ovs restart will not be triggered
and it will be allowed to the user to restart or reboot
the node. Aligning with it, opevswitch restart has been
avoided on all os-net-config re-runs.
Closes-Bug: #1887957

Change-Id: I0a3b374b321ba039c8e0b1c126ac3eb59e6dc980
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/36/741636/1 && git format-patch -1 --stdout FETCH_HEAD,['os_net_config/utils.py'],1,c7a0fbceb01c0028c9901d332bc8108c98a3f4ec,avoid_restart_sriov," if os.path.exists(sriov_config._SRIOV_CONFIG_FILE): restart_openvswitch = False logger.info(""PFs has been configured, do not restart ovs on re-run"") ",,4,0
openstack%2Ftripleo-common~master~I2781cae14663094d531ad70c3d412b3153b46612,openstack/tripleo-common,master,I2781cae14663094d531ad70c3d412b3153b46612,config-download remove role arg from _write_tasks_per_step(),MERGED,2020-07-23 18:29:29.000000000,2020-07-24 04:07:32.000000000,2020-07-24 04:06:12.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-23 18:29:29.000000000', 'files': ['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d9811e94eaaaad9109caba79d5a2bc582c83cc6c', 'message': ""config-download remove role arg from _write_tasks_per_step()\n\nThis arg has never been used, let's just remove it.\n\nChange-Id: I2781cae14663094d531ad70c3d412b3153b46612\n""}]",0,742725,d9811e94eaaaad9109caba79d5a2bc582c83cc6c,10,4,1,3153,,,0,"config-download remove role arg from _write_tasks_per_step()

This arg has never been used, let's just remove it.

Change-Id: I2781cae14663094d531ad70c3d412b3153b46612
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/25/742725/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py']",2,d9811e94eaaaad9109caba79d5a2bc582c83cc6c,role," ['upgrade_tasks'], filepath, step)"," ['upgrade_tasks'], role, filepath, step) 'Compute', 'Compute', 'Compute', 'Compute',",4,9
openstack%2Fpuppet-aodh~master~Ife6f06c19028824213e910673009767124047318,openstack/puppet-aodh,master,Ife6f06c19028824213e910673009767124047318,Fix beaker-rspec url,MERGED,2020-07-24 03:18:10.000000000,2020-07-24 03:46:07.000000000,2020-07-24 03:46:06.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 03:18:10.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/be2342c637194f88772d0ee055e651319347c3cf', 'message': 'Fix beaker-rspec url\n\nChange-Id: Ife6f06c19028824213e910673009767124047318\n'}]",0,742786,be2342c637194f88772d0ee055e651319347c3cf,6,2,1,9414,,,0,"Fix beaker-rspec url

Change-Id: Ife6f06c19028824213e910673009767124047318
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/86/742786/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,be2342c637194f88772d0ee055e651319347c3cf,fix-breaker-test-url,* https://github.com/puppetlabs/beaker-rspec/blob/master/README.md,* https://github.com/puppetlabs/beaker/wiki/How-to-Write-a-Beaker-Test-for-a-Module,1,1
openstack%2Fpuppet-ovn~master~I847ae6a69a4f81539d3006197a0a53019cd9c7f7,openstack/puppet-ovn,master,I847ae6a69a4f81539d3006197a0a53019cd9c7f7,Fix beaker-rspec url,MERGED,2020-07-24 03:33:46.000000000,2020-07-24 03:45:48.000000000,2020-07-24 03:45:47.000000000,"[{'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 03:33:46.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/f64067083b7f145c5717b3778ad1837ee59592b6', 'message': 'Fix beaker-rspec url\n\nChange-Id: I847ae6a69a4f81539d3006197a0a53019cd9c7f7\n'}]",0,742788,f64067083b7f145c5717b3778ad1837ee59592b6,6,2,1,9414,,,0,"Fix beaker-rspec url

Change-Id: I847ae6a69a4f81539d3006197a0a53019cd9c7f7
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/88/742788/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,f64067083b7f145c5717b3778ad1837ee59592b6,fix-breaker-test-url,* https://github.com/puppetlabs/beaker-rspec/blob/master/README.md,* https://github.com/puppetlabs/beaker/wiki/How-to-Write-a-Beaker-Test-for-a-Module,1,1
openstack%2Ftripleo-common~master~I968e4c52dd0b63e26dd86ff137b0b8f1dfbcb311,openstack/tripleo-common,master,I968e4c52dd0b63e26dd86ff137b0b8f1dfbcb311,Replace overcloud-secure with overcloud-partition,MERGED,2020-07-23 11:30:08.000000000,2020-07-24 03:41:08.000000000,2020-07-24 03:39:57.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 7130}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-23 11:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a1297d4342da92bd7d9e77abcd393b74cf903b8d', 'message': 'Switch from overcloud-secure-uefi to overcloud-partition-uefi\n\nhttps://review.opendev.org/#/c/741319/ in tripleo-image-elements\nmoves partition handling from overcloud-secure-uefi to\novercloud-partition-uefi to create whole disk image.\n\nIt breaks the overclodu hardened images jobs with\nDIB_BLOCK_DEVICE: unbound variable.\n\nBy updating the element to overcloud-partition-uefi\nfixes the issue.\n\nCloses-Bug: #1888613\n\nChange-Id: I968e4c52dd0b63e26dd86ff137b0b8f1dfbcb311\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-07-23 11:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4fdf4b5a38e7301c0b76075bddb6e5e8babff294', 'message': 'Add overcloud-partition-uefi for hardened images\n\nhttps://review.opendev.org/#/c/741319/ in tripleo-image-elements\nmoves partition handling from overcloud-secure-uefi to\novercloud-partition-uefi to create whole disk image.\n\nIt breaks the overclodu hardened images jobs with\nDIB_BLOCK_DEVICE: unbound variable.\n\nBy updating and adding the element to overcloud-partition-uefi\nfixes the issue.\n\nCloses-Bug: #1888613\n\nChange-Id: I968e4c52dd0b63e26dd86ff137b0b8f1dfbcb311\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-07-23 11:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0f0bd4d6946bbdb16cbcfecbcc3974a6f5f76672', 'message': 'Replace overcloud-secure with overcloud-partition\n\nhttps://review.opendev.org/#/c/741319/ in tripleo-image-elements\nmoves partition handling from overcloud-secure to\novercloud-partition to create whole disk image.\n\nIt breaks the overclodu hardened images jobs with\nDIB_BLOCK_DEVICE: unbound variable.\n\nBy updating the element to overcloud-partition\nfixes the issue.\n\nCloses-Bug: #1888613\n\nChange-Id: I968e4c52dd0b63e26dd86ff137b0b8f1dfbcb311\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-07-23 11:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/23e735ad5f478d235fba172267670215e2c234d0', 'message': 'Replace overcloud-secure with overcloud-partition\n\nhttps://review.opendev.org/#/c/741319/ in tripleo-image-elements\nmoves partition handling from overcloud-secure to\novercloud-partition to create whole disk image.\n\nIt breaks the overclodu hardened images jobs with\nDIB_BLOCK_DEVICE: unbound variable.\n\nBy updating the element to overcloud-partition\nfixes the issue.\n\nIt also updates the elements foir uefi.\n\nCloses-Bug: #1888613\n\nChange-Id: I968e4c52dd0b63e26dd86ff137b0b8f1dfbcb311\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2020-07-23 11:52:50.000000000', 'files': ['image-yaml/overcloud-hardened-images-uefi.yaml', 'image-yaml/overcloud-hardened-images-python3.yaml', 'image-yaml/overcloud-hardened-images-uefi-python3.yaml', 'image-yaml/overcloud-hardened-images.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8978eef74c633afc9873bfb0c8ddfa6da6c6e364', 'message': 'Replace overcloud-secure with overcloud-partition\n\nhttps://review.opendev.org/#/c/741319/ in tripleo-image-elements\nmoves partition handling from overcloud-secure to\novercloud-partition to create whole disk image.\n\nIt breaks the overclodu hardened images jobs with\nDIB_BLOCK_DEVICE: unbound variable.\n\nBy updating the element to overcloud-partition\nfixes the issue.\n\nIt also updates the elements for uefi.\n\nCloses-Bug: #1888613\n\nChange-Id: I968e4c52dd0b63e26dd86ff137b0b8f1dfbcb311\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,742645,8978eef74c633afc9873bfb0c8ddfa6da6c6e364,17,10,5,12393,,,0,"Replace overcloud-secure with overcloud-partition

https://review.opendev.org/#/c/741319/ in tripleo-image-elements
moves partition handling from overcloud-secure to
overcloud-partition to create whole disk image.

It breaks the overclodu hardened images jobs with
DIB_BLOCK_DEVICE: unbound variable.

By updating the element to overcloud-partition
fixes the issue.

It also updates the elements for uefi.

Closes-Bug: #1888613

Change-Id: I968e4c52dd0b63e26dd86ff137b0b8f1dfbcb311
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/45/742645/4 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-hardened-images-uefi.yaml', 'image-yaml/overcloud-hardened-images-uefi-python3.yaml']",2,a1297d4342da92bd7d9e77abcd393b74cf903b8d,fix_hardend, - overcloud-partition-uefi, - overcloud-secure-uefi,2,2
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ifad07edb4496b0e3ea5b34aee3933ece4bb2dfc6,openstack/tripleo-heat-templates,stable/ussuri,Ifad07edb4496b0e3ea5b34aee3933ece4bb2dfc6,Remove strategy comment,MERGED,2020-07-23 12:04:37.000000000,2020-07-24 03:39:53.000000000,2020-07-24 03:39:53.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-23 12:04:37.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1ed3cef0450d9baf5ec45511ad202dc35daa7c0f', 'message': 'Remove strategy comment\n\nWe switched to our free version which does work with any_errors_fatal\nnow so this comment is no longer relevant.\n\nChange-Id: Ifad07edb4496b0e3ea5b34aee3933ece4bb2dfc6\n(cherry picked from commit 7a46a91e75c5a1c689974b7bdf9ee8c94e9bf7e9)\n'}]",0,742649,1ed3cef0450d9baf5ec45511ad202dc35daa7c0f,7,3,1,3153,,,0,"Remove strategy comment

We switched to our free version which does work with any_errors_fatal
now so this comment is no longer relevant.

Change-Id: Ifad07edb4496b0e3ea5b34aee3933ece4bb2dfc6
(cherry picked from commit 7a46a91e75c5a1c689974b7bdf9ee8c94e9bf7e9)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/742649/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,1ed3cef0450d9baf5ec45511ad202dc35daa7c0f,remove-comment-stable/ussuri,," # FIXME(shardy) - it would be nice to use strategy: free to # allow the tasks per-step to run in parallel on each role, # but that doesn't work with any_errors_fatal: yes",0,3
openstack%2Fkuryr-libnetwork~master~I823085b73ec816177a1f63c22eb4b7438bbd560a,openstack/kuryr-libnetwork,master,I823085b73ec816177a1f63c22eb4b7438bbd560a,Use python3 by default in all jobs,MERGED,2020-07-19 22:33:20.000000000,2020-07-24 03:32:33.000000000,2020-07-24 03:28:56.000000000,"[{'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-19 22:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/6bf545ff5c8640d8259930f5d9104634c9b73e1a', 'message': 'Use python3 by default in all jobs\n\nChange-Id: I823085b73ec816177a1f63c22eb4b7438bbd560a\n'}, {'number': 2, 'created': '2020-07-20 01:27:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/8eee0968b9b3a8b4c7bca2d0e1dbce465bb9bbdd', 'message': 'Use python3 by default in all jobs\n\nChange-Id: I823085b73ec816177a1f63c22eb4b7438bbd560a\n'}]",0,741856,8eee0968b9b3a8b4c7bca2d0e1dbce465bb9bbdd,12,4,2,11536,,,0,"Use python3 by default in all jobs

Change-Id: I823085b73ec816177a1f63c22eb4b7438bbd560a
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/56/741856/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6bf545ff5c8640d8259930f5d9104634c9b73e1a,, use_python3: 1, use_python3: 0 vars: use_python3: 1,1,3
openstack%2Fcinder~stable%2Frocky~I1870633a5505bdb60d529fbda3147378b75e2b07,openstack/cinder,stable/rocky,I1870633a5505bdb60d529fbda3147378b75e2b07,Rollback the quota_usages table when failed to create a incremental backup,MERGED,2020-07-21 15:08:23.000000000,2020-07-24 02:55:51.000000000,2020-07-24 02:54:36.000000000,"[{'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27190}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-07-21 15:08:23.000000000', 'files': ['cinder/backup/api.py', 'releasenotes/notes/bug-1809323-fix-invalid-backup-4a341dc362ded88e.yaml', 'cinder/tests/unit/backup/test_backup.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/29d956c0cee09465730f304cee7cc69dd137f2be', 'message': 'Rollback the quota_usages table when failed to create a incremental backup\n\nIf we firstly create a incremental backup without parent backup\nor using unavailable backup file, like execute the command:\n``cinder backup-create --name test_backup --incremental\n2e3d9d0b-6b33-4cfe-a7c2-656415ee6f61``.\n\nTo satisfy one of the above reasons, we will be received an error\ninfo: ""Invalid backup: No backups available to do an incremental\nbackup. (HTTP 400)"". But the reserved value of the ``quota_usages``\ntable has been updated, so we need to roll back the ``quota_usages``\ntable. Otherwise, after repetitive operation for many times,\ncreate backup will be failed.\n\nCo-Authored-By: Brin Zhang <zhangbailin@inspur.com>\n\nCloses-Bug: #1809323\nChange-Id: I1870633a5505bdb60d529fbda3147378b75e2b07\n(cherry picked from commit a62fabfa65bf02ab91ff61ad2b74a6eb7509ee24)\n(cherry picked from commit ef07bc95471101e42d531908a00c242710834784)\n'}]",0,742220,29d956c0cee09465730f304cee7cc69dd137f2be,37,18,1,14567,,,0,"Rollback the quota_usages table when failed to create a incremental backup

If we firstly create a incremental backup without parent backup
or using unavailable backup file, like execute the command:
``cinder backup-create --name test_backup --incremental
2e3d9d0b-6b33-4cfe-a7c2-656415ee6f61``.

To satisfy one of the above reasons, we will be received an error
info: ""Invalid backup: No backups available to do an incremental
backup. (HTTP 400)"". But the reserved value of the ``quota_usages``
table has been updated, so we need to roll back the ``quota_usages``
table. Otherwise, after repetitive operation for many times,
create backup will be failed.

Co-Authored-By: Brin Zhang <zhangbailin@inspur.com>

Closes-Bug: #1809323
Change-Id: I1870633a5505bdb60d529fbda3147378b75e2b07
(cherry picked from commit a62fabfa65bf02ab91ff61ad2b74a6eb7509ee24)
(cherry picked from commit ef07bc95471101e42d531908a00c242710834784)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/20/742220/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/backup/api.py', 'releasenotes/notes/bug-1809323-fix-invalid-backup-4a341dc362ded88e.yaml', 'cinder/tests/unit/backup/test_backup.py']",3,29d956c0cee09465730f304cee7cc69dd137f2be,bug/1869746,"from cinder.tests.unit.api.v2 import fakes as v2_fakes @mock.patch('cinder.db.backup_get_all_by_volume') @mock.patch('cinder.backup.rpcapi.BackupAPI.create_backup') @mock.patch.object(api.API, '_get_available_backup_service_host', return_value='fake_host') @mock.patch.object(quota.QUOTAS, 'rollback') @mock.patch.object(quota.QUOTAS, 'reserve') def test_create_backup_failed_with_empty_backup_objects( self, mock_reserve, mock_rollback, mock_get_service, mock_create, mock_get_backups): mock_get_backups.return_value = [v2_fakes.fake_backup('fake-1')] backups = objects.BackupList.get_all_by_volume(self.ctxt, fake.VOLUME_ID) backups.objects = [] is_incremental = True self.ctxt.user_id = 'fake_user' self.ctxt.project_id = 'fake_project' mock_reserve.return_value = 'fake_reservation' volume_id = self._create_volume_db_entry(status='available', host='testhost#rbd', size=1) self.assertRaises(exception.InvalidBackup, self.api.create, self.ctxt, None, None, volume_id, None, incremental=is_incremental) mock_rollback.assert_called_with(self.ctxt, ""fake_reservation"") @mock.patch('cinder.db.backup_get_all_by_volume', return_value=[v2_fakes.fake_backup('fake-1')]) @mock.patch('cinder.backup.rpcapi.BackupAPI.create_backup') @mock.patch.object(api.API, '_get_available_backup_service_host', return_value='fake_host') @mock.patch.object(quota.QUOTAS, 'rollback') @mock.patch.object(quota.QUOTAS, 'reserve') def test_create_backup_failed_with_backup_status_not_available( self, mock_reserve, mock_rollback, mock_get_service, mock_createi, mock_get_backups): is_incremental = True self.ctxt.user_id = 'fake_user' self.ctxt.project_id = 'fake_project' mock_reserve.return_value = 'fake_reservation' volume_id = self._create_volume_db_entry(status='available', host='testhost#rbd', size=1) self.assertRaises(exception.InvalidBackup, self.api.create, self.ctxt, None, None, volume_id, None, incremental=is_incremental) mock_rollback.assert_called_with(self.ctxt, ""fake_reservation"")",,65,0
openstack%2Ftrove~master~Iaa4a1793e6ed9e42e516c72545c04278b1fcd291,openstack/trove,master,Iaa4a1793e6ed9e42e516c72545c04278b1fcd291,Fix oslo-config-generator command example in doc,MERGED,2020-07-24 02:10:03.000000000,2020-07-24 02:53:11.000000000,2020-07-24 02:51:42.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-24 02:10:03.000000000', 'files': ['doc/source/admin/run_trove_in_production.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/309555210a887854bcd62cd5e3bb74f16d32535d', 'message': 'Fix oslo-config-generator command example in doc\n\nChange-Id: Iaa4a1793e6ed9e42e516c72545c04278b1fcd291\n'}]",0,742780,309555210a887854bcd62cd5e3bb74f16d32535d,7,2,1,6732,,,0,"Fix oslo-config-generator command example in doc

Change-Id: Iaa4a1793e6ed9e42e516c72545c04278b1fcd291
",git fetch https://review.opendev.org/openstack/trove refs/changes/80/742780/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/run_trove_in_production.rst'],1,309555210a887854bcd62cd5e3bb74f16d32535d,fix-doc, oslo-config-generator --namespace trove.config --namespace oslo.messaging --namespace oslo.log --namespace oslo.policy --output-file /etc/trove/trove.conf.sample, oslo-config-generator --namespace trove.config --namespace oslo.messaging --namespace oslo.log --namespace oslo.log oslo.policy --output-file /etc/trove/trove.conf.sample,1,1
openstack%2Fcinder~master~Icef5b38ba39eec761c1cfa70e2a66bc28ddf4cd6,openstack/cinder,master,Icef5b38ba39eec761c1cfa70e2a66bc28ddf4cd6,Add Cinder driver for Dell EMC PowerStore,MERGED,2020-07-15 11:23:58.000000000,2020-07-24 02:52:33.000000000,2020-07-24 02:50:48.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 7160}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13671}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 18058}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21129}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 31016}, {'_account_id': 31779}, {'_account_id': 32159}]","[{'number': 1, 'created': '2020-07-15 11:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2fc6eae95c17d3978e7f9a8645ea9af8b374229b', 'message': 'Add Cinder driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-cinder-driver\nChange-Id: Icef5b38ba39eec761c1cfa70e2a66bc28ddf4cd6\n'}, {'number': 2, 'created': '2020-07-15 17:18:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/38725da45a8b7323b6df6f9d625d9e8e77ddd452', 'message': 'Add Cinder driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-cinder-driver\nChange-Id: Icef5b38ba39eec761c1cfa70e2a66bc28ddf4cd6\n'}, {'number': 3, 'created': '2020-07-15 17:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2ff207a59ced8ed927c4e74bb153287d33ffac0b', 'message': 'Add Cinder driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-cinder-driver\nChange-Id: Icef5b38ba39eec761c1cfa70e2a66bc28ddf4cd6\n'}, {'number': 4, 'created': '2020-07-16 12:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/06aafab43acf42cc2bec8d95c85e1fafe94c174a', 'message': 'Add Cinder driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-cinder-driver\nChange-Id: Icef5b38ba39eec761c1cfa70e2a66bc28ddf4cd6\n'}, {'number': 5, 'created': '2020-07-16 20:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fba5a0b10e4910c5af8391d0d87208254d5d3013', 'message': 'Add Cinder driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-cinder-driver\nChange-Id: Icef5b38ba39eec761c1cfa70e2a66bc28ddf4cd6\n'}, {'number': 6, 'created': '2020-07-17 13:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d8831866936c00f37f54252e858bc9a04c7e0e15', 'message': 'Add Cinder driver for Dell EMC PowerStore\n\nImplements: blueprint powerstore-cinder-driver\nChange-Id: Icef5b38ba39eec761c1cfa70e2a66bc28ddf4cd6\n'}, {'number': 7, 'created': '2020-07-20 09:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0f43707ce33a9a03eefb073d51776106f82993f7', 'message': 'Add Cinder driver for Dell EMC PowerStore\n\n* Supported Protocols\n - FC\n - iSCSI\n\n* Supported Features\n - Volume Create/Delete\n - Volume Attach/Detach\n - Snapshot Create/Delete\n - Create Volume from Snapshot\n - Get Volume Stats\n - Copy Image to Volume\n - Copy Volume to Image\n - Clone Volume\n - Extend Volume\n\nImplements: blueprint powerstore-cinder-driver\nChange-Id: Icef5b38ba39eec761c1cfa70e2a66bc28ddf4cd6\n'}, {'number': 8, 'created': '2020-07-20 13:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/23f51e7dc3f8fb3ff6cc56baee953bf70ad35eac', 'message': 'Add Cinder driver for Dell EMC PowerStore\n\n* Supported Protocols\n - FC\n - iSCSI\n\n* Supported Features\n - Volume Create/Delete\n - Volume Attach/Detach\n - Snapshot Create/Delete\n - Create Volume from Snapshot\n - Get Volume Stats\n - Copy Image to Volume\n - Copy Volume to Image\n - Clone Volume\n - Extend Volume\n\nImplements: blueprint powerstore-cinder-driver\nChange-Id: Icef5b38ba39eec761c1cfa70e2a66bc28ddf4cd6\n'}, {'number': 9, 'created': '2020-07-21 11:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0e9130846a3fbe2ddbf86b2b6ac8543e9fa1fb47', 'message': 'Add Cinder driver for Dell EMC PowerStore\n\n* Supported Protocols\n - FC\n - iSCSI\n\n* Supported Features\n - Volume Create/Delete\n - Volume Attach/Detach\n - Snapshot Create/Delete\n - Create Volume from Snapshot\n - Get Volume Stats\n - Copy Image to Volume\n - Copy Volume to Image\n - Clone Volume\n - Extend Volume\n\nImplements: blueprint powerstore-cinder-driver\nChange-Id: Icef5b38ba39eec761c1cfa70e2a66bc28ddf4cd6\n'}, {'number': 10, 'created': '2020-07-22 11:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/83cc2b4b08ea8304e609feee543fc59d7237605e', 'message': 'Add Cinder driver for Dell EMC PowerStore\n\n* Supported Protocols\n - FC\n - iSCSI\n\n* Supported Features\n - Volume Create/Delete\n - Volume Attach/Detach\n - Snapshot Create/Delete\n - Create Volume from Snapshot\n - Get Volume Stats\n - Copy Image to Volume\n - Copy Volume to Image\n - Clone Volume\n - Extend Volume\n\nImplements: blueprint powerstore-cinder-driver\nChange-Id: Icef5b38ba39eec761c1cfa70e2a66bc28ddf4cd6\n'}, {'number': 11, 'created': '2020-07-22 11:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4e61c6beecc922280df6378f5d21591ddcef1e7d', 'message': 'Add Cinder driver for Dell EMC PowerStore\n\n* Supported Protocols\n - FC\n - iSCSI\n\n* Supported Features\n - Volume Create/Delete\n - Volume Attach/Detach\n - Snapshot Create/Delete\n - Create Volume from Snapshot\n - Get Volume Stats\n - Copy Image to Volume\n - Copy Volume to Image\n - Clone Volume\n - Extend Volume\n - Revert Volume to Snapshot\n\nImplements: blueprint powerstore-cinder-driver\nChange-Id: Icef5b38ba39eec761c1cfa70e2a66bc28ddf4cd6\n'}, {'number': 12, 'created': '2020-07-22 19:40:57.000000000', 'files': ['cinder/volume/drivers/dell_emc/powerstore/options.py', 'cinder/volume/drivers/dell_emc/powerstore/utils.py', 'cinder/volume/drivers/dell_emc/powerstore/__init__.py', 'cinder/volume/drivers/dell_emc/powerstore/client.py', 'cinder/volume/drivers/dell_emc/powerstore/adapter.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_snapshot_create_delete_revert.py', 'cinder/opts.py', 'doc/source/reference/support-matrix.ini', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/__init__.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_base.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_volume_create_delete_extend.py', 'cinder/volume/drivers/dell_emc/powerstore/driver.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_volume_attach_detach.py', 'doc/source/configuration/block-storage/drivers/dell-emc-powerstore-driver.rst', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_volume_create_from_source.py', 'releasenotes/notes/bp-powerstore-cinder-driver-94f8c7f1371eafe7.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/517cb6448b613b888476f5da75ae4ad28f60f744', 'message': 'Add Cinder driver for Dell EMC PowerStore\n\n* Supported Protocols\n - FC\n - iSCSI\n\n* Supported Features\n - Volume Create/Delete\n - Volume Attach/Detach\n - Snapshot Create/Delete\n - Create Volume from Snapshot\n - Get Volume Stats\n - Copy Image to Volume\n - Copy Volume to Image\n - Clone Volume\n - Extend Volume\n - Revert Volume to Snapshot\n\nImplements: blueprint powerstore-cinder-driver\nChange-Id: Icef5b38ba39eec761c1cfa70e2a66bc28ddf4cd6\n'}]",17,741158,517cb6448b613b888476f5da75ae4ad28f60f744,359,42,12,31016,,,0,"Add Cinder driver for Dell EMC PowerStore

* Supported Protocols
 - FC
 - iSCSI

* Supported Features
 - Volume Create/Delete
 - Volume Attach/Detach
 - Snapshot Create/Delete
 - Create Volume from Snapshot
 - Get Volume Stats
 - Copy Image to Volume
 - Copy Volume to Image
 - Clone Volume
 - Extend Volume
 - Revert Volume to Snapshot

Implements: blueprint powerstore-cinder-driver
Change-Id: Icef5b38ba39eec761c1cfa70e2a66bc28ddf4cd6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/58/741158/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/opts.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/__init__.py', 'cinder/volume/drivers/dell_emc/powerstore/options.py', 'cinder/volume/drivers/dell_emc/powerstore/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_base.py', 'cinder/volume/drivers/dell_emc/powerstore/__init__.py', 'cinder/volume/drivers/dell_emc/powerstore/client.py', 'cinder/volume/drivers/dell_emc/powerstore/driver.py', 'cinder/volume/drivers/dell_emc/powerstore/adapter.py']",9,2fc6eae95c17d3978e7f9a8645ea9af8b374229b,victoria-drivers,"# Copyright (c) 2020 Dell Inc. or its subsidiaries. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Adapter for Dell EMC PowerStore. """""" from oslo_log import log as logging from cinder import exception from cinder.i18n import _ from cinder.objects.snapshot import Snapshot from cinder.volume.drivers.dell_emc.powerstore import client from cinder.volume.drivers.dell_emc.powerstore import options from cinder.volume.drivers.dell_emc.powerstore import utils from cinder.volume import volume_utils LOG = logging.getLogger(__name__) PROTOCOL_FC = ""FC"" PROTOCOL_ISCSI = ""iSCSI"" class CommonAdapter(object): def __init__(self, active_backend_id, configuration): self.active_backend_id = active_backend_id self.appliances = None self.appliances_to_ids_map = {} self.client = None self.configuration = configuration self.storage_protocol = None @staticmethod def initiators(connector): raise NotImplementedError def _get_connection_properties(self, appliance_id, volume_logical_number): raise NotImplementedError def do_setup(self): powerstore_appliances = ( self.configuration.safe_get(options.POWERSTORE_APPLIANCES) ) if powerstore_appliances: self.appliances = [ name.strip() for name in powerstore_appliances.split("","") ] self.client = client.PowerStoreClient(configuration=self.configuration) self.client.do_setup() def check_for_setup_error(self): self.client.check_for_setup_error() if not self.appliances: msg = _(""PowerStore appliances must be set."") raise exception.VolumeBackendAPIException(data=msg) self.appliances_to_ids_map = {} for appliance_name in self.appliances: self.appliances_to_ids_map[appliance_name] = ( self.client.get_appliance_id_by_name(appliance_name) ) LOG.debug(""Successfully initialized PowerStore %(protocol)s adapter. "" ""PowerStore appliances: %(appliances)s."", { ""protocol"": self.storage_protocol, ""appliances"": self.appliances, }) def create_volume(self, volume): appliance_name = volume_utils.extract_host(volume.host, ""pool"") appliance_id = self.appliances_to_ids_map[appliance_name] LOG.debug(""Create PowerStore volume %(volume_name)s of size "" ""%(volume_size)s GiB with id %(volume_id)s on appliance "" ""%(appliance_name)s."", { ""volume_name"": volume.name, ""volume_size"": volume.size, ""volume_id"": volume.id, ""appliance_name"": appliance_name, }) size_in_bytes = utils.gib_to_bytes(volume.size) description = volume.display_description or volume.display_name provider_id = self.client.create_volume(appliance_id, description, volume.name, size_in_bytes) LOG.debug(""Successfully created PowerStore volume %(volume_name)s of "" ""size %(volume_size)s GiB with id %(volume_id)s on "" ""appliance %(appliance_name)s. "" ""PowerStore volume id: %(volume_provider_id)s."", { ""volume_name"": volume.name, ""volume_size"": volume.size, ""volume_id"": volume.id, ""appliance_name"": appliance_name, ""volume_provider_id"": provider_id, }) return { ""provider_id"": provider_id, } def delete_volume(self, volume): if not volume.provider_id: LOG.warning(""Volume %(volume_name)s with id %(volume_id)s "" ""does not have provider_id thus does not "" ""map to PowerStore volume."", { ""volume_name"": volume.name, ""volume_id"": volume.id, }) return LOG.debug(""Delete PowerStore volume %(volume_name)s with id "" ""%(volume_id)s. PowerStore volume id: "" ""%(volume_provider_id)s."", { ""volume_name"": volume.name, ""volume_id"": volume.id, ""volume_provider_id"": volume.provider_id, }) self._detach_volume_from_hosts(volume) self.client.delete_volume_or_snapshot(volume.provider_id) LOG.debug(""Successfully deleted PowerStore volume %(volume_name)s "" ""with id %(volume_id)s. PowerStore volume id: "" ""%(volume_provider_id)s."", { ""volume_name"": volume.name, ""volume_id"": volume.id, ""volume_provider_id"": volume.provider_id, }) def extend_volume(self, volume, new_size): LOG.debug(""Extend PowerStore volume %(volume_name)s of size "" ""%(volume_size)s GiB with id %(volume_id)s to "" ""%(volume_new_size)s GiB. "" ""PowerStore volume id: %(volume_provider_id)s."", { ""volume_name"": volume.name, ""volume_size"": volume.size, ""volume_id"": volume.id, ""volume_new_size"": new_size, ""volume_provider_id"": volume.provider_id, }) size_in_bytes = utils.gib_to_bytes(new_size) self.client.extend_volume(volume.provider_id, size_in_bytes) LOG.debug(""Successfully extended PowerStore volume %(volume_name)s "" ""of size %(volume_size)s GiB with id "" ""%(volume_id)s to %(volume_new_size)s GiB. "" ""PowerStore volume id: %(volume_provider_id)s."", { ""volume_name"": volume.name, ""volume_size"": volume.size, ""volume_id"": volume.id, ""volume_new_size"": new_size, ""volume_provider_id"": volume.provider_id, }) def create_snapshot(self, snapshot): LOG.debug(""Create PowerStore snapshot %(snapshot_name)s with id "" ""%(snapshot_id)s of volume %(volume_name)s with id "" ""%(volume_id)s. PowerStore volume id: "" ""%(volume_provider_id)s."", { ""snapshot_name"": snapshot.name, ""snapshot_id"": snapshot.id, ""volume_name"": snapshot.volume.name, ""volume_id"": snapshot.volume.id, ""volume_provider_id"": snapshot.volume.provider_id, }) description = snapshot.display_description or snapshot.display_name snapshot_provider_id = self.client.create_snapshot( snapshot.volume.provider_id, description, snapshot.name) LOG.debug(""Successfully created PowerStore snapshot %(snapshot_name)s "" ""with id %(snapshot_id)s of volume %(volume_name)s with "" ""id %(volume_id)s. PowerStore snapshot id: "" ""%(snapshot_provider_id)s, volume id: "" ""%(volume_provider_id)s."", { ""snapshot_name"": snapshot.name, ""snapshot_id"": snapshot.id, ""volume_name"": snapshot.volume.name, ""volume_id"": snapshot.volume.id, ""snapshot_provider_id"": snapshot_provider_id, ""volume_provider_id"": snapshot.volume.provider_id, }) return { ""provider_id"": snapshot_provider_id, } def delete_snapshot(self, snapshot): LOG.debug(""Delete PowerStore snapshot %(snapshot_name)s with id "" ""%(snapshot_id)s of volume %(volume_name)s with "" ""id %(volume_id)s. PowerStore snapshot id: "" ""%(snapshot_provider_id)s, volume id: "" ""%(volume_provider_id)s."", { ""snapshot_name"": snapshot.name, ""snapshot_id"": snapshot.id, ""volume_name"": snapshot.volume.name, ""volume_id"": snapshot.volume.id, ""snapshot_provider_id"": snapshot.provider_id, ""volume_provider_id"": snapshot.volume.provider_id, }) self.client.delete_volume_or_snapshot(snapshot.provider_id, entity=""snapshot"") LOG.debug(""Successfully deleted PowerStore snapshot %(snapshot_name)s "" ""with id %(snapshot_id)s of volume %(volume_name)s with "" ""id %(volume_id)s. PowerStore snapshot id: "" ""%(snapshot_provider_id)s, volume id: "" ""%(volume_provider_id)s."", { ""snapshot_name"": snapshot.name, ""snapshot_id"": snapshot.id, ""volume_name"": snapshot.volume.name, ""volume_id"": snapshot.volume.id, ""snapshot_provider_id"": snapshot.provider_id, ""volume_provider_id"": snapshot.volume.provider_id, }) def create_cloned_volume(self, volume, src_vref): LOG.debug(""Clone PowerStore volume %(source_volume_name)s with id "" ""%(source_volume_id)s to volume %(cloned_volume_name)s of "" ""size %(cloned_volume_size)s GiB with id "" ""%(cloned_volume_id)s. PowerStore source volume id: "" ""%(source_volume_provider_id)s."", { ""source_volume_name"": src_vref.name, ""source_volume_id"": src_vref.id, ""cloned_volume_name"": volume.name, ""cloned_volume_size"": volume.size, ""cloned_volume_id"": volume.id, ""source_volume_provider_id"": src_vref.provider_id, }) cloned_provider_id = self._create_volume_from_source(volume, src_vref) LOG.debug(""Successfully cloned PowerStore volume "" ""%(source_volume_name)s with id %(source_volume_id)s to "" ""volume %(cloned_volume_name)s of size "" ""%(cloned_volume_size)s GiB with id %(cloned_volume_id)s. "" ""PowerStore source volume id: "" ""%(source_volume_provider_id)s, "" ""cloned volume id: %(cloned_volume_provider_id)s."", { ""source_volume_name"": src_vref.name, ""source_volume_id"": src_vref.id, ""cloned_volume_name"": volume.name, ""cloned_volume_size"": volume.size, ""cloned_volume_id"": volume.id, ""source_volume_provider_id"": src_vref.provider_id, ""cloned_volume_provider_id"": cloned_provider_id, }) return { ""provider_id"": cloned_provider_id, } def create_volume_from_snapshot(self, volume, snapshot): LOG.debug(""Create PowerStore volume %(volume_name)s of size "" ""%(volume_size)s GiB with id %(volume_id)s from snapshot "" ""%(snapshot_name)s with id %(snapshot_id)s. PowerStore "" ""snapshot id: %(snapshot_provider_id)s."", { ""volume_name"": volume.name, ""volume_id"": volume.id, ""volume_size"": volume.size, ""snapshot_name"": snapshot.name, ""snapshot_id"": snapshot.id, ""snapshot_provider_id"": snapshot.provider_id, }) volume_provider_id = self._create_volume_from_source(volume, snapshot) LOG.debug(""Successfully created PowerStore volume %(volume_name)s "" ""of size %(volume_size)s GiB with id %(volume_id)s from "" ""snapshot %(snapshot_name)s with id %(snapshot_id)s. "" ""PowerStore volume id: %(volume_provider_id)s, "" ""snapshot id: %(snapshot_provider_id)s."", { ""volume_name"": volume.name, ""volume_id"": volume.id, ""volume_size"": volume.size, ""snapshot_name"": snapshot.name, ""snapshot_id"": snapshot.id, ""volume_provider_id"": volume_provider_id, ""snapshot_provider_id"": snapshot.provider_id, }) return { ""provider_id"": volume_provider_id, } def initialize_connection(self, volume, connector, **kwargs): connection_properties = self._connect_volume(volume, connector) LOG.debug(""Connection properties for volume %(volume_name)s with id "" ""%(volume_id)s: %(connection_properties)s."", { ""volume_name"": volume.name, ""volume_id"": volume.id, ""connection_properties"": connection_properties, }) return connection_properties def terminate_connection(self, volume, connector, **kwargs): self._disconnect_volume(volume, connector) return {} def update_volume_stats(self): stats = { ""volume_backend_name"": ( self.configuration.safe_get(""volume_backend_name"") or ""powerstore"" ), ""storage_protocol"": self.storage_protocol, ""thick_provisioning_support"": False, ""thin_provisioning_support"": True, ""compression_support"": True, ""multiattach"": True, ""pools"": [], } backend_total_capacity = 0 backend_free_capacity = 0 for appliance_name in self.appliances: appliance_stats = self.client.get_appliance_metrics( self.appliances_to_ids_map[appliance_name] ) appliance_total_capacity = utils.bytes_to_gib( appliance_stats[""physical_total""] ) appliance_free_capacity = ( appliance_total_capacity - utils.bytes_to_gib(appliance_stats[""physical_used""]) ) pool = { ""pool_name"": appliance_name, ""total_capacity_gb"": appliance_total_capacity, ""free_capacity_gb"": appliance_free_capacity, ""thick_provisioning_support"": False, ""thin_provisioning_support"": True, ""compression_support"": True, ""multiattach"": True, } backend_total_capacity += appliance_total_capacity backend_free_capacity += appliance_free_capacity stats[""pools""].append(pool) stats[""total_capacity_gb""] = backend_total_capacity stats[""free_capacity_gb""] = backend_free_capacity LOG.debug(""Free capacity for backend '%(backend)s': "" ""%(free)s GiB, total capacity: %(total)s GiB."", { ""backend"": stats[""volume_backend_name""], ""free"": backend_free_capacity, ""total"": backend_total_capacity, }) return stats def _create_volume_from_source(self, volume, source): """"""Create PowerStore volume from source (snapshot or another volume). :param volume: OpenStack volume object :param source: OpenStack source snapshot or volume :return: newly created PowerStore volume id """""" if isinstance(source, Snapshot): entity = ""snapshot"" source_size = source.volume_size else: entity = ""volume"" source_size = source.size description = volume.display_description or volume.display_name volume_provider_id = self.client.clone_volume_or_snapshot( description, volume.name, source.provider_id, entity ) if volume.size > source_size: size_in_bytes = utils.gib_to_bytes(volume.size) self.client.extend_volume(volume_provider_id, size_in_bytes) return volume_provider_id def _create_host_if_not_exist(self, host_name, initiators): """"""Create PowerStore host if it does not exist. :param host_name: PowerStore host name :param initiators: list of initiators :return: PowerStore host id """""" LOG.debug(""Query PowerStore host %(host_name)s."", { ""host_name"": host_name, }) try: host_id = self.client.get_host_id_by_name(host_name) except exception.VolumeBackendAPIException: LOG.debug(""Create PowerStore host %(host_name)s. "" ""Initiators: %(initiators)s."", { ""host_name"": host_name, ""initiators"": initiators, }) ports = [ { ""port_name"": initiator, ""port_type"": self.storage_protocol, } for initiator in initiators ] host_id = self.client.create_host(host_name, ports) LOG.debug(""Successfully created PowerStore host %(host_name)s. "" ""Initiators: %(initiators)s. PowerStore host id: "" ""%(host_provider_id)s."", { ""host_name"": host_name, ""initiators"": initiators, ""host_provider_id"": host_id, }) return host_id def _add_host_initiators(self, host_name, host_id, initiators): """"""Query PowerStore host and update initiators if needed. :param host_name: PowerStore host name :param host_id: PowerStore host id :param initiators: list of initiators :return: None """""" LOG.debug(""Query PowerStore host %(host_name)s initiators."", { ""host_name"": host_name, }) host_initiators = self.client.get_host_initiators(host_id) initiators_added = [ initiator[""port_name""] for initiator in host_initiators ] initiators_to_add = [ { ""port_name"": initiator, ""port_type"": self.storage_protocol, } for initiator in initiators if initiator not in initiators_added ] if initiators_to_add: LOG.debug(""Add initiators to PowerStore host %(host_name)s. "" ""Initiators: %(initiators_to_add)s. PowerStore host id: "" ""%(host_provider_id)s."", { ""host_name"": host_name, ""initiators_to_add"": initiators_to_add, ""host_provider_id"": host_id, }) self.client.modify_host_initiators(host_id, initiators_to_add) LOG.debug(""Successfully added initiators to PowerStore host "" ""%(host_name)s. Initiators: %(initiators_to_add)s. "" ""PowerStore host id: %(host_provider_id)s."", { ""host_name"": host_name, ""initiators_to_add"": initiators_to_add, ""host_provider_id"": host_id, }) def _attach_volume_to_host(self, host_name, host_id, volume): """"""Attach PowerStore volume to host. :param host_name: PowerStore host name :param host_id: PowerStore host id :param volume: OpenStack volume object :return: attached volume logical number """""" LOG.debug(""Attach PowerStore volume %(volume_name)s with id "" ""%(volume_id)s to host %(host_name)s. PowerStore volume id: "" ""%(volume_provider_id)s, host id: %(host_provider_id)s."", { ""volume_name"": volume.name, ""volume_id"": volume.id, ""host_name"": host_name, ""volume_provider_id"": volume.provider_id, ""host_provider_id"": host_id, }) self.client.attach_volume_to_host(host_id, volume.provider_id) volume_logical_number = self.client.get_volume_logical_unit_number( host_id, volume.provider_id ) LOG.debug(""Successfully attached PowerStore volume %(volume_name)s "" ""with id %(volume_id)s to host %(host_name)s. "" ""PowerStore volume id: %(volume_provider_id)s, "" ""host id: %(host_provider_id)s. Volume logical number: "" ""%(volume_logical_number)s."", { ""volume_name"": volume.name, ""volume_id"": volume.id, ""host_name"": host_name, ""volume_provider_id"": volume.provider_id, ""host_provider_id"": host_id, ""volume_logical_number"": volume_logical_number, }) return volume_logical_number def _create_host_and_attach(self, host_name, initiators, volume): """"""Create PowerStore host and attach volume. :param host_name: PowerStore host name :param initiators: list of initiators :param volume: OpenStack volume object :return: attached volume logical number """""" host_id = self._create_host_if_not_exist(host_name, initiators) self._add_host_initiators(host_name, host_id, initiators) return self._attach_volume_to_host(host_name, host_id, volume) def _connect_volume(self, volume, connector): """"""Attach PowerStore volume and return it's connection properties. :param volume: OpenStack volume object :param connector: connection properties :return: volume connection properties """""" appliance_name = volume_utils.extract_host(volume.host, ""pool"") appliance_id = self.appliances_to_ids_map[appliance_name] initiators = self.initiators(connector) host_name = utils.gen_connector_unique_host_name(connector, self.storage_protocol) volume_logical_number = self._create_host_and_attach( host_name, initiators, volume ) return self._get_connection_properties(appliance_id, volume_logical_number) def _detach_volume_from_hosts(self, volume, hosts_to_detach=None): """"""Detach volume from PowerStore hosts. If hosts_to_detach is None, detach volume from all hosts. :param volume: OpenStack volume object :param hosts_to_detach: list of hosts to detach from :return: None """""" if hosts_to_detach is None: # Force detach. Get all mapped hosts and detach. hosts_to_detach = self.client.get_volume_mapped_hosts( volume.provider_id ) if not hosts_to_detach: # Volume is not attached to any host. return LOG.debug(""Detach PowerStore volume %(volume_name)s with id "" ""%(volume_id)s from hosts. PowerStore volume id: "" ""%(volume_provider_id)s, hosts ids: %(hosts_provider_ids)s."", { ""volume_name"": volume.name, ""volume_id"": volume.id, ""volume_provider_id"": volume.provider_id, ""hosts_provider_ids"": hosts_to_detach, }) for host_id in hosts_to_detach: self.client.detach_volume_from_host(host_id, volume.provider_id) LOG.debug(""Successfully detached PowerStore volume "" ""%(volume_name)s with id %(volume_id)s from hosts. "" ""PowerStore volume id: %(volume_provider_id)s, "" ""hosts ids: %(hosts_provider_ids)s."", { ""volume_name"": volume.name, ""volume_id"": volume.id, ""volume_provider_id"": volume.provider_id, ""hosts_provider_ids"": hosts_to_detach, }) def _disconnect_volume(self, volume, connector): """"""Detach PowerStore volume. :param volume: OpenStack volume object :param connector: connection properties :return: None """""" if connector is None: self._detach_volume_from_hosts(volume) else: host_name = utils.gen_connector_unique_host_name( connector, self.storage_protocol ) host_id = self.client.get_host_id_by_name(host_name) self._detach_volume_from_hosts(volume, [host_id]) class FibreChannelAdapter(CommonAdapter): def __init__(self, active_backend_id, configuration): super(FibreChannelAdapter, self).__init__(active_backend_id, configuration) self.storage_protocol = PROTOCOL_FC self.driver_volume_type = ""fibre_channel"" @staticmethod def initiators(connector): return utils.extract_fc_wwpns(connector) def _get_fc_targets(self, appliance_id): """"""Get available FC WWNs for PowerStore appliance. :param appliance_id: PowerStore appliance id :return: list of FC WWNs """""" wwns = [] fc_ports = self.client.get_fc_port(appliance_id) if not fc_ports: msg = _(""There are no accessible Fibre Channel targets on the "" ""system."") raise exception.VolumeBackendAPIException(data=msg) for port in fc_ports: wwns.append(utils.fc_wwn_to_string(port[""wwn""])) return wwns def _get_connection_properties(self, appliance_id, volume_logical_number): """"""Fill connection properties dict with data to attach volume. :param appliance_id: PowerStore appliance id :param volume_logical_number: attached volume logical number :return: connection properties """""" target_wwns = self._get_fc_targets(appliance_id) return { ""driver_volume_type"": self.driver_volume_type, ""data"": { ""target_discovered"": True, ""target_lun"": volume_logical_number, ""target_wwn"": target_wwns, } } class iSCSIAdapter(CommonAdapter): def __init__(self, active_backend_id, configuration): super(iSCSIAdapter, self).__init__(active_backend_id, configuration) self.storage_protocol = PROTOCOL_ISCSI self.driver_volume_type = ""iscsi"" @staticmethod def initiators(connector): return [connector[""initiator""]] def _get_iscsi_targets(self, appliance_id): """"""Get available iSCSI portals and IQNs for PowerStore appliance. :param appliance_id: PowerStore appliance id :return: iSCSI portals and IQNs """""" iqns = [] portals = [] ip_pool_addresses = self.client.get_ip_pool_address(appliance_id) if not ip_pool_addresses: msg = _(""There are no accessible iSCSI targets on the "" ""system."") raise exception.VolumeBackendAPIException(data=msg) for address in ip_pool_addresses: portals.append(utils.iscsi_portal_with_port(address[""address""])) iqns.append(address[""ip_port""][""target_iqn""]) return iqns, portals def _get_connection_properties(self, appliance_id, volume_logical_number): """"""Fill connection properties dict with data to attach volume. :param appliance_id: PowerStore appliance id :param volume_logical_number: attached volume logical number :return: connection properties """""" iqns, portals = self._get_iscsi_targets(appliance_id) return { ""driver_volume_type"": self.driver_volume_type, ""data"": { ""target_discovered"": True, ""target_portals"": portals, ""target_iqns"": iqns, ""target_luns"": [volume_logical_number] * len(portals), }, } ",,1549,0
openstack%2Frequirements~master~I34fcd17bd1bbe246f94bd282a6d2a092fa76c9a8,openstack/requirements,master,I34fcd17bd1bbe246f94bd282a6d2a092fa76c9a8,update constraint for oslo.messaging to new release 12.2.2,MERGED,2020-07-23 17:29:17.000000000,2020-07-24 02:52:10.000000000,2020-07-24 02:50:46.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 17:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f8b8cc38d594b1865e7ab70d37a9d12eff400e37', 'message': 'update constraint for oslo.messaging to new release 12.2.2\n\nChange-Id: I34fcd17bd1bbe246f94bd282a6d2a092fa76c9a8\nmeta:version: 12.2.2\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I3412422241f78b28eded22412300b6b7df09f726\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}, {'number': 2, 'created': '2020-07-23 18:57:18.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/614d950132849f2940b618d776fad77bb936c3c8', 'message': 'update constraint for oslo.messaging to new release 12.2.2\n\nChange-Id: I34fcd17bd1bbe246f94bd282a6d2a092fa76c9a8\nmeta:version: 12.2.2\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I3412422241f78b28eded22412300b6b7df09f726\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,742713,614d950132849f2940b618d776fad77bb936c3c8,15,2,2,11904,,,0,"update constraint for oslo.messaging to new release 12.2.2

Change-Id: I34fcd17bd1bbe246f94bd282a6d2a092fa76c9a8
meta:version: 12.2.2
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: I3412422241f78b28eded22412300b6b7df09f726
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/13/742713/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f8b8cc38d594b1865e7ab70d37a9d12eff400e37,new-release,oslo.messaging===12.2.2,oslo.messaging===12.2.1,1,1
openstack%2Fnova~stable%2Fstein~I9f95a054de9d43ecaa50ff7ffc9343490e212d53,openstack/nova,stable/stein,I9f95a054de9d43ecaa50ff7ffc9343490e212d53,compute: Allow snapshots to be created from PAUSED volume backed instances,MERGED,2020-05-19 08:48:48.000000000,2020-07-24 02:32:00.000000000,2020-07-24 02:30:13.000000000,"[{'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-19 08:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd456f4aed8ced14b044b3a7b885cc268ee61682', 'message': 'compute: Allow snapshots to be created from PAUSED volume backed instances\n\nIabeb44f843c3c04f767c4103038fcf6c52966ff3 allowed snapshots to be\ncreated from PAUSED non-volume backed instances but missed the volume\nbacked use case.\n\nThis change simply adds PAUSED to the list of acceptable vm_states when\ncreating a snapshot from a volume backed instance in addition to the\nalready supported ACTIVE, STOPPED and SUSPENDED vm_states.\n\nCloses-Bug: #1878583\nChange-Id: I9f95a054de9d43ecaa50ff7ffc9343490e212d53\n(cherry picked from commit cfde53e4b402e71d7f53b6e0ab232854dba160dc)\n(cherry picked from commit a270eeeb9b1a65045c3a8bf3cfad5eee6415f63c)\n(cherry picked from commit 3d6a468f7cbcf58a3617a94df259cb74e9066cac)\n'}, {'number': 2, 'created': '2020-07-21 15:01:55.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/04a8399f1d0ce38bb3089c6c4cb3e11da924b2ae', 'message': 'compute: Allow snapshots to be created from PAUSED volume backed instances\n\nIabeb44f843c3c04f767c4103038fcf6c52966ff3 allowed snapshots to be\ncreated from PAUSED non-volume backed instances but missed the volume\nbacked use case.\n\nThis change simply adds PAUSED to the list of acceptable vm_states when\ncreating a snapshot from a volume backed instance in addition to the\nalready supported ACTIVE, STOPPED and SUSPENDED vm_states.\n\nCloses-Bug: #1878583\nChange-Id: I9f95a054de9d43ecaa50ff7ffc9343490e212d53\n(cherry picked from commit cfde53e4b402e71d7f53b6e0ab232854dba160dc)\n(cherry picked from commit a270eeeb9b1a65045c3a8bf3cfad5eee6415f63c)\n(cherry picked from commit c93ca609568bac73210f39207c821867620b2f0e)\n'}]",0,729176,04a8399f1d0ce38bb3089c6c4cb3e11da924b2ae,24,8,2,10135,,,0,"compute: Allow snapshots to be created from PAUSED volume backed instances

Iabeb44f843c3c04f767c4103038fcf6c52966ff3 allowed snapshots to be
created from PAUSED non-volume backed instances but missed the volume
backed use case.

This change simply adds PAUSED to the list of acceptable vm_states when
creating a snapshot from a volume backed instance in addition to the
already supported ACTIVE, STOPPED and SUSPENDED vm_states.

Closes-Bug: #1878583
Change-Id: I9f95a054de9d43ecaa50ff7ffc9343490e212d53
(cherry picked from commit cfde53e4b402e71d7f53b6e0ab232854dba160dc)
(cherry picked from commit a270eeeb9b1a65045c3a8bf3cfad5eee6415f63c)
(cherry picked from commit c93ca609568bac73210f39207c821867620b2f0e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/729176/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/compute/api.py']",2,fd456f4aed8ced14b044b3a7b885cc268ee61682,bug/1878583," vm_states.PAUSED, vm_states.SUSPENDED])", vm_states.SUSPENDED]),6,1
openstack%2Fswift~stable%2Ftrain~I87fe3477d8b7ef186421ef2d08bc3b205c18a0c1,openstack/swift,stable/train,I87fe3477d8b7ef186421ef2d08bc3b205c18a0c1,py3: Stop munging RAW_PATH_INFO,MERGED,2020-07-22 03:44:46.000000000,2020-07-24 01:38:55.000000000,2020-07-24 01:37:44.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 03:44:46.000000000', 'files': ['swift/common/wsgi.py', 'test/unit/common/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/19b90974117b2d96c32f19c5faea42bc0124b3ec', 'message': ""py3: Stop munging RAW_PATH_INFO\n\nWe rely on having byte-accurate representations of the request path\nas-seen-on-the-wire to compute signatures in s3api; the unquoting /\nrequoting madness to make non-ascii paths work with python's stdlib can\nlead to erroneous SignatureDoesNotMatch responses.\n\nChange-Id: I87fe3477d8b7ef186421ef2d08bc3b205c18a0c1\nCloses-Bug: #1884991\n""}]",0,742339,19b90974117b2d96c32f19c5faea42bc0124b3ec,14,2,1,15343,,,0,"py3: Stop munging RAW_PATH_INFO

We rely on having byte-accurate representations of the request path
as-seen-on-the-wire to compute signatures in s3api; the unquoting /
requoting madness to make non-ascii paths work with python's stdlib can
lead to erroneous SignatureDoesNotMatch responses.

Change-Id: I87fe3477d8b7ef186421ef2d08bc3b205c18a0c1
Closes-Bug: #1884991
",git fetch https://review.opendev.org/openstack/swift refs/changes/39/742339/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/wsgi.py', 'test/unit/common/test_wsgi.py']",2,19b90974117b2d96c32f19c5faea42bc0124b3ec,bug/1884991-stable/ussuri-stable/train,"from swift.common.swob import Request, wsgi_to_bytesclass ProtocolTest(unittest.TestCase): def _run_bytes_through_protocol(self, bytes_from_client): fake_listen_socket, self.app, protocol=self.protocol_class, class TestSwiftHttpProtocolSomeMore(ProtocolTest): protocol_class = wsgi.SwiftHttpProtocol @staticmethod def app(env, start_response): start_response(""200 OK"", []) return [wsgi_to_bytes(env['RAW_PATH_INFO'])] def test_simple(self): bytes_out = self._run_bytes_through_protocol(( b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-1], b'/someurl') def test_quoted(self): bytes_out = self._run_bytes_through_protocol(( b""GET /some%fFpath%D8%AA HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-1], b'/some%fFpath%D8%AA') def test_messy(self): bytes_out = self._run_bytes_through_protocol(( b""GET /oh\xffboy%what$now%E2%80%bd HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[-1], b'/oh\xffboy%what$now%E2%80%bd') class TestProxyProtocol(ProtocolTest): protocol_class = wsgi.SwiftHttpProxiedProtocol @staticmethod def app(env, start_response): start_response(""200 OK"", []) body = '\r\n'.join([ 'got addr: %s %s' % ( env.get(""REMOTE_ADDR"", ""<missing>""), env.get(""REMOTE_PORT"", ""<missing>"")), 'on addr: %s %s' % ( env.get(""SERVER_ADDR"", ""<missing>""), env.get(""SERVER_PORT"", ""<missing>"")), 'https is %s (scheme %s)' % ( env.get(""HTTPS"", ""<missing>""), env.get(""wsgi.url_scheme"", ""<missing>"")), ]) + '\r\n' return [body.encode(""utf-8"")] )) )) )) )) bytes_out = self._run_bytes_through_protocol(bad_line) ))","from swift.common.swob import Requestclass TestProxyProtocol(unittest.TestCase): def _run_bytes_through_protocol(self, bytes_from_client, protocol_class): def dinky_app(env, start_response): start_response(""200 OK"", []) body = '\r\n'.join([ 'got addr: %s %s' % ( env.get(""REMOTE_ADDR"", ""<missing>""), env.get(""REMOTE_PORT"", ""<missing>"")), 'on addr: %s %s' % ( env.get(""SERVER_ADDR"", ""<missing>""), env.get(""SERVER_PORT"", ""<missing>"")), 'https is %s (scheme %s)' % ( env.get(""HTTPS"", ""<missing>""), env.get(""wsgi.url_scheme"", ""<missing>"")), ]) + '\r\n' return [body.encode(""utf-8"")] fake_listen_socket, dinky_app, protocol=protocol_class, ), wsgi.SwiftHttpProxiedProtocol) ), wsgi.SwiftHttpProxiedProtocol) ), wsgi.SwiftHttpProxiedProtocol) ), wsgi.SwiftHttpProxiedProtocol) bytes_out = self._run_bytes_through_protocol( bad_line, wsgi.SwiftHttpProxiedProtocol) ), wsgi.SwiftHttpProxiedProtocol)",81,30
openstack%2Fopenstack-ansible~master~Ia95aa733865f491fca2f499d737a1d0630e14a69,openstack/openstack-ansible,master,Ia95aa733865f491fca2f499d737a1d0630e14a69,Add zun to required-projects,MERGED,2020-07-16 16:45:52.000000000,2020-07-24 00:39:16.000000000,2020-07-24 00:36:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-16 16:45:52.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/07222b7dbcd3c871c9f2a1738d5f30279f38ad16', 'message': 'Add zun to required-projects\n\nChange-Id: Ia95aa733865f491fca2f499d737a1d0630e14a69\n'}]",0,741493,07222b7dbcd3c871c9f2a1738d5f30279f38ad16,14,4,1,25023,,,0,"Add zun to required-projects

Change-Id: Ia95aa733865f491fca2f499d737a1d0630e14a69
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/93/741493/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,07222b7dbcd3c871c9f2a1738d5f30279f38ad16,, - name: openstack/zun,,1,0
openstack%2Fironic~master~If5fd848bf3fddeb1ae66dc9aafa882588b83f41a,openstack/ironic,master,If5fd848bf3fddeb1ae66dc9aafa882588b83f41a,Update how to release section,MERGED,2020-07-23 14:15:41.000000000,2020-07-24 00:33:43.000000000,2020-07-23 17:31:02.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-23 14:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1f81b2fe44da9fd5cc2cd38f28312d82f0be7b38', 'message': 'Update how to release section\n\nBased on latest changes in the releases project that changed the\nbehavior of list_unreleased_changes.\n\nChange-Id: If5fd848bf3fddeb1ae66dc9aafa882588b83f41a\n'}, {'number': 2, 'created': '2020-07-23 14:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/879d94f459b96c489b07b3d1a0d0da5852622920', 'message': 'Update how to release section\n\nBased on latest changes [1] in the releases project that changed the\nbehavior of list_unreleased_changes.\n\n[1] https://opendev.org/openstack/releases/commit/4912f7d5d0a60b09ea54a5e6835c00847455f2dd\n\nChange-Id: If5fd848bf3fddeb1ae66dc9aafa882588b83f41a\n'}, {'number': 3, 'created': '2020-07-23 14:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/55e4eb65a6f424843aa78c9d9313079ac338fff8', 'message': 'Update how to release section\n\nBased on latest changes [1] in the releases project that changed the\nbehavior of list_unreleased_changes.\n\n[1] https://opendev.org/openstack/releases/commit/4912f7d5d0a60b09ea54a5e6835c00847455f2dd\n\nChange-Id: If5fd848bf3fddeb1ae66dc9aafa882588b83f41a\n'}, {'number': 4, 'created': '2020-07-23 14:18:38.000000000', 'files': ['doc/source/contributor/releasing.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/271d85e99844bd49862b8514e4345181ae151fab', 'message': 'Update how to release section\n\nBased on latest changes [1] in the releases project that changed the\nbehavior of list_unreleased_changes.\n\n[1] https://opendev.org/openstack/releases/commit/4912f7d5d0a60b09ea54a5e6835c00847455f2dd\n\nChange-Id: If5fd848bf3fddeb1ae66dc9aafa882588b83f41a\n'}]",0,742682,271d85e99844bd49862b8514e4345181ae151fab,17,5,4,23851,,,0,"Update how to release section

Based on latest changes [1] in the releases project that changed the
behavior of list_unreleased_changes.

[1] https://opendev.org/openstack/releases/commit/4912f7d5d0a60b09ea54a5e6835c00847455f2dd

Change-Id: If5fd848bf3fddeb1ae66dc9aafa882588b83f41a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/82/742682/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/releasing.rst'],1,1f81b2fe44da9fd5cc2cd38f28312d82f0be7b38,how-to-release-fix,"* To check the changes we're about to release we can use the tox environment ``list_unreleased_changes``, with this syntax: tox -e venv -- list-unreleased-changes <series> <deliverable> The ``branch`` argument is a release series (i.e. master or train, not stable/ussuri or stable/train). to check the changes in the ussuri series for ironic-python-agent tox -e venv -- list-unreleased-changes ussuri openstack/ironic-python-agent","* To check the changes we're about to release we can use the script ``list_unreleased_changes.sh``, that can be found under the ``tools`` directory, with this syntax: list_unreleased_changes.sh <branch> <deliverable> The ``branch`` argument is a branch, not a release series (i.e. master or stable/train, not ussuri or train). to check the changes in the train branch for ironic-python-agent ./tools/list_unreleased_changes.sh stable/train openstack/ironic-python-agent",7,8
openstack%2Fvalidations-libs~master~I7b9251caecc0ef5f4c07814ef17c7a025631ab85,openstack/validations-libs,master,I7b9251caecc0ef5f4c07814ef17c7a025631ab85,Switch legacy Zuul jobs to native Zuul v3 jobs,MERGED,2020-07-15 13:46:05.000000000,2020-07-24 00:23:39.000000000,2020-07-24 00:23:38.000000000,"[{'_account_id': 9592}, {'_account_id': 10459}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-15 13:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9f84c40fb3f01f522bb686cda86c7b639025feab', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 2, 'created': '2020-07-16 09:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/fd43e5f26eccde5aa1345d24fbe014d3b9469298', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 3, 'created': '2020-07-16 09:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/46e45e8b4e6e8ece1cff698fe761989579cd9be8', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 4, 'created': '2020-07-16 09:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/ec7dedbba4bb8ca43c0f3844570f5458d349b167', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 5, 'created': '2020-07-16 09:51:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/725db09c79ea3bf98adc5524155c3c6d5752af13', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 6, 'created': '2020-07-16 12:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f4718b3af02b218dd9c7af8f658798a0a7361880', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 7, 'created': '2020-07-16 13:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/43ca8de342088cd60ca1fc81648b1cd5cc619653', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 8, 'created': '2020-07-16 17:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/dca2b9c62d10fa26f53cd698c058513836e18d85', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 9, 'created': '2020-07-16 21:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/16a9df2596175447faf3faaccc50f2f70d136161', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 10, 'created': '2020-07-16 21:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e2e448c9831f257d55934f950903a1fea1f7720b', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 11, 'created': '2020-07-16 22:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/33361ff35926f7393bc76730c97b79cf886bd2aa', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 12, 'created': '2020-07-16 23:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/8f4c5521b8a49f8c8b96be446648e57666bd3ecd', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 13, 'created': '2020-07-16 23:31:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e9dc3ff7e6e619143ce736ed9aab7020f187fb0d', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 14, 'created': '2020-07-16 23:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/ffc105ac2e3b2be60d37c3cf205eab7148f7f732', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 15, 'created': '2020-07-17 09:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/d1ecaf7ae59d55e01ea3118a8be461dc8da3a616', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 16, 'created': '2020-07-17 14:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/09e5dc823ea3073d19e37f801b1ec965b59e9b94', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 17, 'created': '2020-07-17 14:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/4a89c6d4272ac0bf01f748830d95497053cf99e1', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 18, 'created': '2020-07-17 19:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/83f5e104fc6a861d4349dcbbb1c5e6ca39ec31fc', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 19, 'created': '2020-07-20 08:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/dd3c48492cd3a8176e0153ee7abb35ff3d3ae289', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 20, 'created': '2020-07-20 08:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/60762934d307d7a1e9ee18a07299b7efae9e6201', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 21, 'created': '2020-07-20 08:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c2903e4100158463341745d21f4ee2a2cfd1b361', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 22, 'created': '2020-07-21 16:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/78b4f97ac181d1b2657a8b128188af9cd4c72fa9', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 23, 'created': '2020-07-21 20:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/8d60ed5ee5f04f5620d298fc57dff7700dc2d224', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 24, 'created': '2020-07-22 07:04:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b797ea98ae5c9564bc95f1bc318347b7ebd9a031', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 25, 'created': '2020-07-22 07:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/0e0aa928545b2ce230c51480da7e0e1f8b5d3dc2', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 26, 'created': '2020-07-22 08:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/6eff91c3b20b816fef7641f1aca624e4583f63bf', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 27, 'created': '2020-07-22 08:19:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/c178c954865f443942db1712625386fb273b5f87', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 28, 'created': '2020-07-22 08:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/33fbc0453762847c94fd6c7a058b8d3ab3cc9c69', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 29, 'created': '2020-07-22 09:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b828ae6d6576cf2b0f6e9bbd579dd11dee1109fc', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 30, 'created': '2020-07-22 09:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/1db909e100397b9e9210e165552c16e5af930ddb', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 31, 'created': '2020-07-22 10:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/13119f19a31394e60e03da34d5f0709ea315f779', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 32, 'created': '2020-07-22 11:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/feb8d621254504b9748cae7888ee8c4d0c929017', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 33, 'created': '2020-07-22 12:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/dc13b5e14945b3b7838807bc9f855ccca5832009', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 34, 'created': '2020-07-22 13:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/14803e93199359d77a3ed0e89d148e83de8363d0', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 35, 'created': '2020-07-22 14:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/0aecd6e2a2b2125a121682bef968e01c5cc2c87f', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 36, 'created': '2020-07-22 21:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/402c6d65cd003fb82a353ffe97e79341ed0295a9', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 37, 'created': '2020-07-22 21:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/3dc5631fdf7e9e142cb83f5ec0b40a9148652df4', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 38, 'created': '2020-07-22 21:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/99950a6b29d9a21cb140389be31ca086217b2418', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}, {'number': 39, 'created': '2020-07-22 22:19:33.000000000', 'files': ['roles/validations/tasks/main.yaml', 'playbooks/legacy/validations-dsvm-functional/setup.yaml', 'roles/fetch-validations/tasks/main.yaml', 'playbooks/post.yaml', 'roles/validations/tasks/validations.yaml', 'playbooks/validations-libs-functional.yaml', 'roles/validations/defaults/main.yaml', '.zuul.yaml', 'playbooks/legacy/validations-dsvm-functional/run.yaml', 'roles/fetch-validations/defaults/main.yaml', 'playbooks/legacy/validations-dsvm-functional/post.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/f686e205f5225e52454aebdaa7b9d9b58285ae92', 'message': 'Switch legacy Zuul jobs to native Zuul v3 jobs\n\nSee\nhttps://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html\nfor more details.\n\nChange-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85\n'}]",3,741204,f686e205f5225e52454aebdaa7b9d9b58285ae92,78,5,39,16515,,,0,"Switch legacy Zuul jobs to native Zuul v3 jobs

See
https://governance.openstack.org/tc/goals/selected/victoria/native-zuulv3-jobs.html
for more details.

Change-Id: I7b9251caecc0ef5f4c07814ef17c7a025631ab85
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/04/741204/33 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/setup.yaml', 'playbooks/post.yaml', 'playbooks/validations-libs-functional.yaml', '.zuul.yaml', 'playbooks/validations.yaml']",5,9f84c40fb3f01f522bb686cda86c7b639025feab,native-zuulv3-migration,,,10,8
openstack%2Fopenstack-helm~master~I02f78ee44492ea36a2ebb66211fa488034e74b5e,openstack/openstack-helm,master,I02f78ee44492ea36a2ebb66211fa488034e74b5e,[test],ABANDONED,2020-07-13 18:15:04.000000000,2020-07-23 23:40:46.000000000,,"[{'_account_id': 8863}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 18:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b303637e75f929c2903037b43561d6b2834bee6f', 'message': '[test]\n\nChange-Id: I02f78ee44492ea36a2ebb66211fa488034e74b5e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-07-19 22:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/97435a12e421825c6778f8e80dcb1c684bae638e', 'message': '[test]\n\nDepends-On: https://review.opendev.org/#/c/741857/\nChange-Id: I02f78ee44492ea36a2ebb66211fa488034e74b5e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-07-19 22:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a68760ef99358136f8cc236975e934303a0be5b1', 'message': '[test]\n\nDepends-On: https://review.opendev.org/#/c/741857/\nChange-Id: I02f78ee44492ea36a2ebb66211fa488034e74b5e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2020-07-20 01:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/db7ba7da9de12dc24cc5ff2d2ec70637079d34be', 'message': '[test]\n\nDepends-On: https://review.opendev.org/#/c/741857/\nChange-Id: I02f78ee44492ea36a2ebb66211fa488034e74b5e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 5, 'created': '2020-07-20 02:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/53c6f0293040527aacc4ffd001dcdb6f78c4c6b0', 'message': '[test]\n\nDepends-On: https://review.opendev.org/#/c/741857/\nChange-Id: I02f78ee44492ea36a2ebb66211fa488034e74b5e\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,740737,53c6f0293040527aacc4ffd001dcdb6f78c4c6b0,22,2,5,8863,,,0,"[test]

Depends-On: https://review.opendev.org/#/c/741857/
Change-Id: I02f78ee44492ea36a2ebb66211fa488034e74b5e
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/37/740737/4 && git format-patch -1 --stdout FETCH_HEAD,[],0,b303637e75f929c2903037b43561d6b2834bee6f,,,,0,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Ic625bc5dd7bbd964d36eab0a3f81eca31c533716,openstack/tripleo-ansible,stable/train,Ic625bc5dd7bbd964d36eab0a3f81eca31c533716,tripleo_container_manage: continue to reduce tasks,MERGED,2020-07-23 00:09:34.000000000,2020-07-23 23:34:48.000000000,2020-07-23 23:34:48.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-23 00:09:34.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/ansible_plugins/action/container_systemd.py', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/shutdown.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/create.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/df453988709d603ae42a029c7b8c293581cbd78c', 'message': ""tripleo_container_manage: continue to reduce tasks\n\n1) shutdown: include tasks without a block. this should remove the stat\n   and include task; to only have one task that include the shutdown\n   playbook if needed.\n\n2) Remove containers_changed tasks. This is not useful to restart a\n   container just because its podman_container resource changed.\n   when podman_container module applies a change to the container, this\n   one is already restarted.\n\n3) Remove all_containers_commands tasks, there aren't needed. Ansible\n   output already provides the commands that are run via the\n   container_status module.\n\nChange-Id: Ic625bc5dd7bbd964d36eab0a3f81eca31c533716\n(cherry picked from commit ca8fae62e410b9381bf8a411184f6a452120778c)\n""}]",0,742560,df453988709d603ae42a029c7b8c293581cbd78c,12,5,1,3153,,,0,"tripleo_container_manage: continue to reduce tasks

1) shutdown: include tasks without a block. this should remove the stat
   and include task; to only have one task that include the shutdown
   playbook if needed.

2) Remove containers_changed tasks. This is not useful to restart a
   container just because its podman_container resource changed.
   when podman_container module applies a change to the container, this
   one is already restarted.

3) Remove all_containers_commands tasks, there aren't needed. Ansible
   output already provides the commands that are run via the
   container_status module.

Change-Id: Ic625bc5dd7bbd964d36eab0a3f81eca31c533716
(cherry picked from commit ca8fae62e410b9381bf8a411184f6a452120778c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/60/742560/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/ansible_plugins/action/container_systemd.py', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/create.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/podman/exec.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/shutdown.yml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/create.yml']",6,df453988709d603ae42a029c7b8c293581cbd78c,train/optim,," restart_containers: ""{{ containers_changed | default([]) }}""",4,59
openstack%2Fheat~stable%2Fstein~Id851530b424f68b5e0e967fe34431483bfffd852,openstack/heat,stable/stein,Id851530b424f68b5e0e967fe34431483bfffd852,Allow scale-down of ASG as part of update,MERGED,2020-05-29 01:52:46.000000000,2020-07-23 22:31:33.000000000,2020-07-23 22:30:15.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-29 01:52:46.000000000', 'files': ['heat/engine/resources/aws/autoscaling/autoscaling_group.py', 'heat/engine/resources/openstack/heat/instance_group.py', 'heat/tests/openstack/heat/test_instance_group.py', 'heat/tests/openstack/heat/test_instance_group_update_policy.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/0f8a34ff0f28591de09b469b8a20ceb5b741749a', 'message': ""Allow scale-down of ASG as part of update\n\nWhen user wants to do manual scale-up of ASG by increasing the\ndesired_capacity and also update some member properties as\npart of a stack update, if it fails due to insufficient\nresources when resizing, trying to manually scale-down by\ndecreasing the desired_capacity won't work, as it would\nalways expect to update the group with the earlier size\nbefore scaling down.\n\nThis patch uses the target_size when building the batches.\n\nTask: 39867\nChange-Id: Id851530b424f68b5e0e967fe34431483bfffd852\n(cherry picked from commit 26d8f64fc90ed9b3ad0413ed0c932fb91b51d666)\n""}]",0,731640,0f8a34ff0f28591de09b469b8a20ceb5b741749a,7,2,1,8833,,,0,"Allow scale-down of ASG as part of update

When user wants to do manual scale-up of ASG by increasing the
desired_capacity and also update some member properties as
part of a stack update, if it fails due to insufficient
resources when resizing, trying to manually scale-down by
decreasing the desired_capacity won't work, as it would
always expect to update the group with the earlier size
before scaling down.

This patch uses the target_size when building the batches.

Task: 39867
Change-Id: Id851530b424f68b5e0e967fe34431483bfffd852
(cherry picked from commit 26d8f64fc90ed9b3ad0413ed0c932fb91b51d666)
",git fetch https://review.opendev.org/openstack/heat refs/changes/40/731640/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/aws/autoscaling/autoscaling_group.py', 'heat/engine/resources/openstack/heat/instance_group.py', 'heat/tests/openstack/heat/test_instance_group.py', 'heat/tests/openstack/heat/test_instance_group_update_policy.py']",4,0f8a34ff0f28591de09b469b8a20ceb5b741749a,, group.get_size = mock.Mock(return_value=12),,55,39
openstack%2Fheat~stable%2Fussuri~I0540923755ac3969b584eeba2e19c037a7f2c261,openstack/heat,stable/ussuri,I0540923755ac3969b584eeba2e19c037a7f2c261,Monkey patch original current_thread _active,MERGED,2020-05-12 12:51:19.000000000,2020-07-23 21:53:17.000000000,2020-07-23 21:51:45.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-12 12:51:19.000000000', 'files': ['heat/cmd/api_cfn.py', 'heat/cmd/all.py', 'heat/cmd/api.py', 'heat/cmd/engine.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/2e6ae73932e288952e52417d11818ed006f82bbc', 'message': 'Monkey patch original current_thread _active\n\nMonkey patch the original current_thread to use the up-to-date _active\nglobal variable. This solution is based on that documented at:\nhttps://github.com/eventlet/eventlet/issues/592\n\nChange-Id: I0540923755ac3969b584eeba2e19c037a7f2c261\nStory: 2007614\n(cherry picked from commit 8fd17214a97322a8a0136e50ced1d65a7d9dd75e)\n'}]",0,727181,2e6ae73932e288952e52417d11818ed006f82bbc,20,2,1,11805,,,0,"Monkey patch original current_thread _active

Monkey patch the original current_thread to use the up-to-date _active
global variable. This solution is based on that documented at:
https://github.com/eventlet/eventlet/issues/592

Change-Id: I0540923755ac3969b584eeba2e19c037a7f2c261
Story: 2007614
(cherry picked from commit 8fd17214a97322a8a0136e50ced1d65a7d9dd75e)
",git fetch https://review.opendev.org/openstack/heat refs/changes/81/727181/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/cmd/api_cfn.py', 'heat/cmd/all.py', 'heat/cmd/api.py', 'heat/cmd/engine.py']",4,2e6ae73932e288952e52417d11818ed006f82bbc,bug/1863021-stable/ussuri,# Monkey patch the original current_thread to use the up-to-date _active # global variable. See https://bugs.launchpad.net/bugs/1863021 and # https://github.com/eventlet/eventlet/issues/592 import __original_module_threading as orig_threading import threading # noqa orig_threading.current_thread.__globals__['_active'] = threading._active,,24,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Id0487e4649ef1f6aaf2591e003746b385f592095,openstack/tripleo-ansible,stable/train,Id0487e4649ef1f6aaf2591e003746b385f592095,BaR: Deleted duplicated variables,MERGED,2020-07-22 06:17:56.000000000,2020-07-23 21:43:27.000000000,2020-07-23 21:43:27.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-22 06:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/22daa1abc348507dd219bce55f2ea19811126d57', 'message': ""BaR: Deleted duplicated variables\n\nThe backup_and_restore has the same name for a\nfact and a register variable, both of them named the same.\nThat variable is used later on a template (local.conf.j2), which\nis using the register one.\n\nThis patch removed the register variable, as it's not used.\n\nChange-Id: Id0487e4649ef1f6aaf2591e003746b385f592095\nCloses-Bug: 1888404\n""}, {'number': 2, 'created': '2020-07-22 18:07:17.000000000', 'files': ['tripleo_ansible/roles/backup-and-restore/setup_rear/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/824b23daed17510bf7ca8078674e4a3b6e7f62a3', 'message': ""BaR: Deleted duplicated variables\n\nThe backup_and_restore has the same name for a\nfact and a register variable, both of them named the same.\nThat variable is used later on a template (local.conf.j2), which\nis using the register one.\n\nThis patch removed the register variable, as it's not used.\n\nChange-Id: Id0487e4649ef1f6aaf2591e003746b385f592095\nCloses-Bug: 1888404\n(cherry picked from commit c384348f5586bb5fb47bf59b7bb9e0a61f8178bf)\n""}]",0,742348,824b23daed17510bf7ca8078674e4a3b6e7f62a3,19,9,2,22954,,,0,"BaR: Deleted duplicated variables

The backup_and_restore has the same name for a
fact and a register variable, both of them named the same.
That variable is used later on a template (local.conf.j2), which
is using the register one.

This patch removed the register variable, as it's not used.

Change-Id: Id0487e4649ef1f6aaf2591e003746b385f592095
Closes-Bug: 1888404
(cherry picked from commit c384348f5586bb5fb47bf59b7bb9e0a61f8178bf)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/48/742348/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup-and-restore/setup_rear/tasks/main.yml'],1,22daa1abc348507dd219bce55f2ea19811126d57,bug/1888404-stable/train,, register: tripleo_backup_and_restore_exclude_paths,0,1
openstack%2Fswift~master~Ica2b41a52d11cb10c94fa8ad780a201318c4fc87,openstack/swift,master,Ica2b41a52d11cb10c94fa8ad780a201318c4fc87,Allow replication servers to handle all request methods,MERGED,2020-07-14 04:51:52.000000000,2020-07-23 21:24:43.000000000,2020-07-23 21:23:07.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-14 04:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cefddda9a7404e8a73ea6a95672eb62556e050c7', 'message': ""Make blank replication_server behave same as missing\n\nLeaving the option blank seems to signal very different intent than\nsetting it explicitly true or false.\n\nFWIW, this behavior seems to go back to the original replication server\nimplementation. It seems very wrong, though, that there's no value you\ncan set to get the default behavior.\n\nChange-Id: Ica2b41a52d11cb10c94fa8ad780a201318c4fc87\nRelated-Change: Ie9af5bdcdf9241c355e36053ca4adfe49dc35bd0\n""}, {'number': 2, 'created': '2020-07-17 21:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bda3c4cec0218cbbacc4338bab1931c2a9336611', 'message': 'Allow replication servers to handle all request methods\n\nPreviously, the replication_server setting could take one of three\nstates:\n\n * If unspecified, the server would handle all available methods.\n * If ""true"", ""yes"", ""on"", etc. it would only handle replication\n   methods (REPLICATE, SSYNC).\n * If any other value (including blank), it would only handle\n   non-replication methods.\n\nHowever, because SSYNC tunnels PUTs, POSTs, and DELETEs through\nthe same object-server app that\'s responding to SSYNC, setting\n`replication_server = true` would break the protocol. This has\nbeen the case ever since ssync was introduced.\n\nNow, get rid of that second state -- operators can still set\n`replication_server = false` as a principle-of-least-privilege guard\nto ensure proxy-servers can\'t make replication requests, but replication\nservers will be able to serve all traffic. This will allow replication\nservers to be used as general internal-to-the-cluster endpoints, leaving\nnon-replication servers to handle client-driven traffic.\n\nCloses-Bug: #1446873\nChange-Id: Ica2b41a52d11cb10c94fa8ad780a201318c4fc87\n'}, {'number': 3, 'created': '2020-07-22 20:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/347d5ffc5e2a610cb52a6c072a3d1738ce5f68ba', 'message': 'Allow replication servers to handle all request methods\n\nPreviously, the replication_server setting could take one of three\nstates:\n\n * If unspecified, the server would handle all available methods.\n * If ""true"", ""yes"", ""on"", etc. it would only handle replication\n   methods (REPLICATE, SSYNC).\n * If any other value (including blank), it would only handle\n   non-replication methods.\n\nHowever, because SSYNC tunnels PUTs, POSTs, and DELETEs through\nthe same object-server app that\'s responding to SSYNC, setting\n`replication_server = true` would break the protocol. This has\nbeen the case ever since ssync was introduced.\n\nNow, get rid of that second state -- operators can still set\n`replication_server = false` as a principle-of-least-privilege guard\nto ensure proxy-servers can\'t make replication requests, but replication\nservers will be able to serve all traffic. This will allow replication\nservers to be used as general internal-to-the-cluster endpoints, leaving\nnon-replication servers to handle client-driven traffic.\n\nCloses-Bug: #1446873\nChange-Id: Ica2b41a52d11cb10c94fa8ad780a201318c4fc87\n'}, {'number': 4, 'created': '2020-07-23 16:11:19.000000000', 'files': ['swift/common/base_storage_server.py', 'test/unit/account/test_server.py', 'etc/container-server.conf-sample', 'test/unit/obj/test_server.py', 'test/unit/container/test_server.py', 'test/unit/common/test_base_storage_server.py', 'etc/account-server.conf-sample', 'etc/object-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/9eb81f6e698ef8ac8855c413b0b1bf4e030cb687', 'message': 'Allow replication servers to handle all request methods\n\nPreviously, the replication_server setting could take one of three\nstates:\n\n * If unspecified, the server would handle all available methods.\n * If ""true"", ""yes"", ""on"", etc. it would only handle replication\n   methods (REPLICATE, SSYNC).\n * If any other value (including blank), it would only handle\n   non-replication methods.\n\nHowever, because SSYNC tunnels PUTs, POSTs, and DELETEs through\nthe same object-server app that\'s responding to SSYNC, setting\n`replication_server = true` would break the protocol. This has\nbeen the case ever since ssync was introduced.\n\nNow, get rid of that second state -- operators can still set\n`replication_server = false` as a principle-of-least-privilege guard\nto ensure proxy-servers can\'t make replication requests, but replication\nservers will be able to serve all traffic. This will allow replication\nservers to be used as general internal-to-the-cluster endpoints, leaving\nnon-replication servers to handle client-driven traffic.\n\nCloses-Bug: #1446873\nChange-Id: Ica2b41a52d11cb10c94fa8ad780a201318c4fc87\n'}]",4,740867,9eb81f6e698ef8ac8855c413b0b1bf4e030cb687,19,3,4,15343,,,0,"Allow replication servers to handle all request methods

Previously, the replication_server setting could take one of three
states:

 * If unspecified, the server would handle all available methods.
 * If ""true"", ""yes"", ""on"", etc. it would only handle replication
   methods (REPLICATE, SSYNC).
 * If any other value (including blank), it would only handle
   non-replication methods.

However, because SSYNC tunnels PUTs, POSTs, and DELETEs through
the same object-server app that's responding to SSYNC, setting
`replication_server = true` would break the protocol. This has
been the case ever since ssync was introduced.

Now, get rid of that second state -- operators can still set
`replication_server = false` as a principle-of-least-privilege guard
to ensure proxy-servers can't make replication requests, but replication
servers will be able to serve all traffic. This will allow replication
servers to be used as general internal-to-the-cluster endpoints, leaving
non-replication servers to handle client-driven traffic.

Closes-Bug: #1446873
Change-Id: Ica2b41a52d11cb10c94fa8ad780a201318c4fc87
",git fetch https://review.opendev.org/openstack/swift refs/changes/67/740867/4 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/base_storage_server.py'],1,cefddda9a7404e8a73ea6a95672eb62556e050c7,replication-network, if replication_server:, if replication_server is not None:,1,1
openstack%2Fcinder~stable%2Ftrain~Ibe1796e1380add34b6d8f19606bb55fda13c3c08,openstack/cinder,stable/train,Ibe1796e1380add34b6d8f19606bb55fda13c3c08,zuul: collect cinderlib logs from tempest node(s) only,MERGED,2020-07-21 21:31:22.000000000,2020-07-23 21:24:36.000000000,2020-07-23 21:23:05.000000000,"[{'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 19933}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-07-21 21:31:22.000000000', 'files': ['playbooks/post-cinderlib.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b8138986ab28d0c1767cf470de535faee1371613', 'message': 'zuul: collect cinderlib logs from tempest node(s) only\n\nThe functional tests are executed from the tempest node(s), which means\nthat the collection must happen from the same place, not all nodes;\notherwise the playbook code fails on pure compute nodes.\n\nChange-Id: Ibe1796e1380add34b6d8f19606bb55fda13c3c08\n(cherry picked from commit 9487f0f4087cecd08ae5beaf354a11ae0f8b609c)\n(cherry picked from commit b584cb95bea7d138abb9d38690ee08e4e4f0de62)\n'}]",0,742288,b8138986ab28d0c1767cf470de535faee1371613,22,15,1,10459,,,0,"zuul: collect cinderlib logs from tempest node(s) only

The functional tests are executed from the tempest node(s), which means
that the collection must happen from the same place, not all nodes;
otherwise the playbook code fails on pure compute nodes.

Change-Id: Ibe1796e1380add34b6d8f19606bb55fda13c3c08
(cherry picked from commit 9487f0f4087cecd08ae5beaf354a11ae0f8b609c)
(cherry picked from commit b584cb95bea7d138abb9d38690ee08e4e4f0de62)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/742288/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/post-cinderlib.yaml'],1,b8138986ab28d0c1767cf470de535faee1371613,native-zuulv3-migration,- hosts: tempest,- hosts: all,1,1
openstack%2Fironic~master~Ie7971692758f3a5421f0826fdaf3d2366f652236,openstack/ironic,master,Ie7971692758f3a5421f0826fdaf3d2366f652236,iPXE ISO Ramdisk booting,MERGED,2020-05-20 01:27:35.000000000,2020-07-23 21:20:14.000000000,2020-07-23 21:10:53.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-05-20 01:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cf12278301f8c9a08b2af160e0ec8dfe891466c5', 'message': 'WIP iPXE ISO Ramdisk booting\n\nChange-Id: Ie7971692758f3a5421f0826fdaf3d2366f652236\n'}, {'number': 2, 'created': '2020-05-20 23:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/53b5d2471ce3f68369b3d91d057d9e28ebcbf8e6', 'message': 'WIP iPXE ISO Ramdisk booting\n\nChange-Id: Ie7971692758f3a5421f0826fdaf3d2366f652236\n'}, {'number': 3, 'created': '2020-05-21 23:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/45e500a4a9872859d503f467aa8fc5fef3e8bf0b', 'message': 'WIP iPXE ISO Ramdisk booting\n\nChange-Id: Ie7971692758f3a5421f0826fdaf3d2366f652236\n'}, {'number': 4, 'created': '2020-05-28 13:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/352b705c7f8b411fd15a3061f52e5ee75c2c981a', 'message': 'iPXE ISO Ramdisk booting\n\nAdds an iPXE interface to boot via a virtual media ISO as if it\nwas virtual media.\n\nStory: 2007644\nTask: 39823\nChange-Id: Ie7971692758f3a5421f0826fdaf3d2366f652236\n'}, {'number': 5, 'created': '2020-06-15 22:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/40803106619b69c598a81aa1ca7ac3b57165e321', 'message': 'iPXE ISO Ramdisk booting\n\nAdds an iPXE interface to boot via a virtual media ISO as if it\nwas virtual media.\n\nStory: 2007644\nTask: 39823\nChange-Id: Ie7971692758f3a5421f0826fdaf3d2366f652236\n'}, {'number': 6, 'created': '2020-06-17 17:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4bb1181e9ef99444614f9dd486436f9893a2b0d3', 'message': 'iPXE ISO Ramdisk booting\n\nAdds an iPXE interface to boot via a virtual media ISO as if it\nwas virtual media.\n\nStory: 2007644\nTask: 39823\nChange-Id: Ie7971692758f3a5421f0826fdaf3d2366f652236\n'}, {'number': 7, 'created': '2020-07-02 21:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5cde4559716a9be2f411737a56952ed546f408a9', 'message': 'iPXE ISO Ramdisk booting\n\nAdds an iPXE interface to boot via a virtual media ISO as if it\nwas virtual media.\n\nStory: 2007644\nTask: 39823\nChange-Id: Ie7971692758f3a5421f0826fdaf3d2366f652236\n'}, {'number': 8, 'created': '2020-07-10 16:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/def1d70e57876edc968b724ad7de4971280eb1b0', 'message': 'iPXE ISO Ramdisk booting\n\nAdds an iPXE interface to boot via a virtual media ISO as if it\nwas virtual media.\n\nStory: 2007644\nTask: 39823\nChange-Id: Ie7971692758f3a5421f0826fdaf3d2366f652236\n'}, {'number': 9, 'created': '2020-07-10 20:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/73254bd512b4043e9147a84fb979cec893b4b174', 'message': 'iPXE ISO Ramdisk booting\n\nAdds an iPXE interface to boot via a virtual media ISO as if it\nwas virtual media.\n\nStory: 2007644\nTask: 39823\nChange-Id: Ie7971692758f3a5421f0826fdaf3d2366f652236\n'}, {'number': 10, 'created': '2020-07-16 21:37:41.000000000', 'files': ['releasenotes/notes/add-ipxe-boot-iso-support-6ae2f5cc2250be3e.yaml', 'ironic/drivers/modules/pxe_base.py', 'ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/common/pxe_utils.py', 'doc/source/install/standalone.rst', 'ironic/tests/unit/drivers/ipxe_config_boot_from_iso.template', 'ironic/drivers/modules/ipxe_config.template', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0cbb0397b15493152a2eba63a87d4ebf7d2308fe', 'message': 'iPXE ISO Ramdisk booting\n\nAdds an iPXE interface to boot via a virtual media ISO as if it\nwas virtual media.\n\nStory: 2007644\nTask: 39823\nChange-Id: Ie7971692758f3a5421f0826fdaf3d2366f652236\n'}]",25,729464,0cbb0397b15493152a2eba63a87d4ebf7d2308fe,70,8,10,11655,,,0,"iPXE ISO Ramdisk booting

Adds an iPXE interface to boot via a virtual media ISO as if it
was virtual media.

Story: 2007644
Task: 39823
Change-Id: Ie7971692758f3a5421f0826fdaf3d2366f652236
",git fetch https://review.opendev.org/openstack/ironic refs/changes/64/729464/10 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/pxe_base.py', 'ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/common/pxe_utils.py', 'ironic/drivers/modules/ipxe_config.template', 'ironic/tests/unit/common/test_pxe_utils.py', 'ironic/tests/unit/drivers/ipxe_config_boot_from_iso.template']",7,cf12278301f8c9a08b2af160e0ec8dfe891466c5,727480,"#!ipxe set attempts:int32 10 set i:int32 0 goto deploy :deploy imgfree kernel http://1.2.3.4:1234/deploy_kernel selinux=0 troubleshoot=0 text test_param BOOTIF=${mac} initrd=deploy_ramdisk || goto retry initrd http://1.2.3.4:1234/deploy_ramdisk || goto retry boot :retry iseq ${i} ${attempts} && goto fail || inc i echo No response, retrying in {i} seconds. sleep ${i} goto deploy :fail echo Failed to get a response after ${attempts} attempts echo Powering off in 30 seconds. sleep 30 poweroff :boot_partition imgfree kernel http://1.2.3.4:1234/kernel root={{ ROOT }} ro text test_param initrd=ramdisk || goto boot_partition initrd http://1.2.3.4:1234/ramdisk || goto boot_partition boot :boot_ramdisk imgfree sanboot http://1.2.3.4:1234/uuid/iso :boot_whole_disk sanboot --no-describe ",,126,4
openstack%2Fglance~master~I57d473572ca0a341082bacc3883cd9f763d77fa7,openstack/glance,master,I57d473572ca0a341082bacc3883cd9f763d77fa7,Fix broken glance-cache-manage utility,MERGED,2020-07-21 09:42:40.000000000,2020-07-23 20:35:29.000000000,2020-07-23 20:03:55.000000000,"[{'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-21 09:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a8a6d0d2baca1b56366798fdde0d0c8f016c5f59', 'message': ""Fix broken glance-cache-manage utility\n\nglance-cahce-manage is broken due to circilar imports.\nFixed the same by importing 'prefetcher' module right before\n'Prefetcher' object is initialized.\n\nNOTE: Need to improve test coverage for cache-manage so that\nsuch regression should be caught in advance.\n\nChange-Id: I57d473572ca0a341082bacc3883cd9f763d77fa7\n""}, {'number': 2, 'created': '2020-07-21 09:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0f33ed0a9b591ddcdae4a61f7d0bafeb4650ffb7', 'message': ""Fix broken glance-cache-manage utility\n\nglance-cahce-manage is broken due to circilar imports.\nFixed the same by importing 'prefetcher' module right before\n'Prefetcher' object is initialized.\n\nNOTE: Need to improve test coverage for cache-manage so that\nsuch regression should be caught in advance.\n\nCloses-Bug: #1888349\nChange-Id: I57d473572ca0a341082bacc3883cd9f763d77fa7\n""}, {'number': 3, 'created': '2020-07-23 07:19:33.000000000', 'files': ['glance/common/wsgi.py', 'glance/tests/functional/test_client_exceptions.py', 'glance/tests/functional/test_wsgi.py', 'glance/tests/functional/test_client_redirects.py', 'glance/tests/unit/test_cache_manage.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/ffd2f5e63f8b7aebc8986c05aea249c75a8a692b', 'message': ""Fix broken glance-cache-manage utility\n\nglance-cahce-manage is broken due to circilar imports.\nFixed the same by importing 'prefetcher' module right before\n'Prefetcher' object is initialized.\n\nCloses-Bug: #1888349\nChange-Id: I57d473572ca0a341082bacc3883cd9f763d77fa7\n""}]",0,742115,ffd2f5e63f8b7aebc8986c05aea249c75a8a692b,17,5,3,9303,,,0,"Fix broken glance-cache-manage utility

glance-cahce-manage is broken due to circilar imports.
Fixed the same by importing 'prefetcher' module right before
'Prefetcher' object is initialized.

Closes-Bug: #1888349
Change-Id: I57d473572ca0a341082bacc3883cd9f763d77fa7
",git fetch https://review.opendev.org/openstack/glance refs/changes/15/742115/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/common/wsgi.py', 'glance/tests/functional/test_client_exceptions.py', 'glance/tests/functional/test_wsgi.py', 'glance/tests/functional/test_client_redirects.py']",4,a8a6d0d2baca1b56366798fdde0d0c8f016c5f59,bug/1888349,,"import os self.image_cache_dir = os.path.join(self.test_dir, 'cache') self.config(image_cache_dir=self.image_cache_dir) self.config(image_cache_driver='sqlite')",3,19
openstack%2Ftripleo-ansible~stable%2Fussuri~Ic625bc5dd7bbd964d36eab0a3f81eca31c533716,openstack/tripleo-ansible,stable/ussuri,Ic625bc5dd7bbd964d36eab0a3f81eca31c533716,tripleo_container_manage: continue to reduce tasks,MERGED,2020-07-23 00:07:18.000000000,2020-07-23 20:04:05.000000000,2020-07-23 20:04:04.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-23 00:07:18.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/create.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/exec.yml', 'tripleo_ansible/ansible_plugins/action/container_systemd.py', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/shutdown.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d0f531b9a1f580965f80d26bd500eaeb6480727a', 'message': ""tripleo_container_manage: continue to reduce tasks\n\n1) shutdown: include tasks without a block. this should remove the stat\n   and include task; to only have one task that include the shutdown\n   playbook if needed.\n\n2) Remove containers_changed tasks. This is not useful to restart a\n   container just because its podman_container resource changed.\n   when podman_container module applies a change to the container, this\n   one is already restarted.\n\n3) Remove all_containers_commands tasks, there aren't needed. Ansible\n   output already provides the commands that are run via the\n   container_status module.\n\nChange-Id: Ic625bc5dd7bbd964d36eab0a3f81eca31c533716\n(cherry picked from commit ca8fae62e410b9381bf8a411184f6a452120778c)\n""}]",0,742559,d0f531b9a1f580965f80d26bd500eaeb6480727a,10,5,1,3153,,,0,"tripleo_container_manage: continue to reduce tasks

1) shutdown: include tasks without a block. this should remove the stat
   and include task; to only have one task that include the shutdown
   playbook if needed.

2) Remove containers_changed tasks. This is not useful to restart a
   container just because its podman_container resource changed.
   when podman_container module applies a change to the container, this
   one is already restarted.

3) Remove all_containers_commands tasks, there aren't needed. Ansible
   output already provides the commands that are run via the
   container_status module.

Change-Id: Ic625bc5dd7bbd964d36eab0a3f81eca31c533716
(cherry picked from commit ca8fae62e410b9381bf8a411184f6a452120778c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/59/742559/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_container_manage/tasks/create.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/exec.yml', 'tripleo_ansible/ansible_plugins/action/container_systemd.py', 'tripleo_ansible/roles/tripleo_container_manage/tasks/main.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/shutdown.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml']",6,d0f531b9a1f580965f80d26bd500eaeb6480727a,improv-stable/ussuri,," register: container_status_results - name: ""Create fact for containers which changed"" set_fact: # List of containers which have changed (created or updated) containers_changed: ""{{ container_status_results.changed_containers | default([]) }}"" - name: ""Append the list of all podman commands that are run for containers with changes"" set_fact: all_containers_commands: ""{{ container_status_results.commands | default([]) + (all_containers_commands | default([]) | list) }}"" when: - ansible_check_mode|bool",4,59
openstack%2Fmanila-ui~stable%2Fstein~Ibf35d7196d83e1018881776110ce173e68cf8286,openstack/manila-ui,stable/stein,Ibf35d7196d83e1018881776110ce173e68cf8286,Drop legacy dsvm job & change zuulv3 integration job,MERGED,2020-07-20 22:43:47.000000000,2020-07-23 19:44:07.000000000,2020-07-23 19:40:30.000000000,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 29632}]","[{'number': 1, 'created': '2020-07-20 22:43:47.000000000', 'files': ['playbooks/legacy/manila-ui-dsvm/run.yaml', '.zuul.yaml', 'playbooks/legacy/manila-ui-dsvm/post.yaml'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/8e62f28386db7272c1a7079d64fec4e23e5d90d9', 'message': 'Drop legacy dsvm job & change zuulv3 integration job\n\nThe legacy job in this repository was just\nsetting up devstack with manila-ui enabled\nand doing nothing else.\n\nWe added an integration gate job a couple of\nreleases ago that does exactly what the above\njob does, and goes a step beyond by executing\ntests that check whether manila-ui is working.\n\nWe can make this job use the fake driver from\nmanila so we can add more interesting and useful\ntest cases without having to worry about any\nlacking capabilities.\n\nAlso make this integration job voting.\n\nChange-Id: Ibf35d7196d83e1018881776110ce173e68cf8286\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 1f0754ff32660c3b669a1e12d302d4c4eea090a2)\n(cherry picked from commit c29dd15b4d0ed04968001919c3c25536d6d7c9f7)\n(cherry picked from commit 209943752ab922075e1dfc716b9eba4b693b7427)\n'}]",0,742042,8e62f28386db7272c1a7079d64fec4e23e5d90d9,9,3,1,16643,,,0,"Drop legacy dsvm job & change zuulv3 integration job

The legacy job in this repository was just
setting up devstack with manila-ui enabled
and doing nothing else.

We added an integration gate job a couple of
releases ago that does exactly what the above
job does, and goes a step beyond by executing
tests that check whether manila-ui is working.

We can make this job use the fake driver from
manila so we can add more interesting and useful
test cases without having to worry about any
lacking capabilities.

Also make this integration job voting.

Change-Id: Ibf35d7196d83e1018881776110ce173e68cf8286
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 1f0754ff32660c3b669a1e12d302d4c4eea090a2)
(cherry picked from commit c29dd15b4d0ed04968001919c3c25536d6d7c9f7)
(cherry picked from commit 209943752ab922075e1dfc716b9eba4b693b7427)
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/42/742042/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/manila-ui-dsvm/run.yaml', '.zuul.yaml', 'playbooks/legacy/manila-ui-dsvm/post.yaml']",3,8e62f28386db7272c1a7079d64fec4e23e5d90d9,native-zuulv3-migration,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*nose_results.html - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testr_results.html.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.testrepository/tmp* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testrepository.subunit.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}/tox' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.tox/*/log/* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,49,181
openstack%2Fheat~stable%2Ftrain~Id851530b424f68b5e0e967fe34431483bfffd852,openstack/heat,stable/train,Id851530b424f68b5e0e967fe34431483bfffd852,Allow scale-down of ASG as part of update,MERGED,2020-05-29 01:52:14.000000000,2020-07-23 19:42:53.000000000,2020-07-23 19:40:07.000000000,"[{'_account_id': 4257}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-29 01:52:14.000000000', 'files': ['heat/engine/resources/aws/autoscaling/autoscaling_group.py', 'heat/engine/resources/openstack/heat/instance_group.py', 'heat/tests/openstack/heat/test_instance_group.py', 'heat/tests/openstack/heat/test_instance_group_update_policy.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/a0ff3081e257df7978972a20abd6c7c98ab4966e', 'message': ""Allow scale-down of ASG as part of update\n\nWhen user wants to do manual scale-up of ASG by increasing the\ndesired_capacity and also update some member properties as\npart of a stack update, if it fails due to insufficient\nresources when resizing, trying to manually scale-down by\ndecreasing the desired_capacity won't work, as it would\nalways expect to update the group with the earlier size\nbefore scaling down.\n\nThis patch uses the target_size when building the batches.\n\nTask: 39867\nChange-Id: Id851530b424f68b5e0e967fe34431483bfffd852\n(cherry picked from commit 26d8f64fc90ed9b3ad0413ed0c932fb91b51d666)\n""}]",0,731639,a0ff3081e257df7978972a20abd6c7c98ab4966e,7,2,1,8833,,,0,"Allow scale-down of ASG as part of update

When user wants to do manual scale-up of ASG by increasing the
desired_capacity and also update some member properties as
part of a stack update, if it fails due to insufficient
resources when resizing, trying to manually scale-down by
decreasing the desired_capacity won't work, as it would
always expect to update the group with the earlier size
before scaling down.

This patch uses the target_size when building the batches.

Task: 39867
Change-Id: Id851530b424f68b5e0e967fe34431483bfffd852
(cherry picked from commit 26d8f64fc90ed9b3ad0413ed0c932fb91b51d666)
",git fetch https://review.opendev.org/openstack/heat refs/changes/39/731639/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/resources/aws/autoscaling/autoscaling_group.py', 'heat/engine/resources/openstack/heat/instance_group.py', 'heat/tests/openstack/heat/test_instance_group.py', 'heat/tests/openstack/heat/test_instance_group_update_policy.py']",4,a0ff3081e257df7978972a20abd6c7c98ab4966e,, group.get_size = mock.Mock(return_value=12),,55,39
openstack%2Fopenstack-ansible-os_designate~stable%2Fussuri~I60ed1a2415b4d145c3d4fc4207c30b384291a0e0,openstack/openstack-ansible-os_designate,stable/ussuri,I60ed1a2415b4d145c3d4fc4207c30b384291a0e0,Add Centos-8 support,MERGED,2020-07-21 17:29:01.000000000,2020-07-23 19:08:00.000000000,2020-07-23 19:06:50.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}]","[{'number': 1, 'created': '2020-07-21 17:29:01.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/14a1e2d8225ca8047d39d13e59e4290635e0c49c', 'message': 'Add Centos-8 support\n\ncreating redhat-8.yml file for c8 support.\n\nChange-Id: I60ed1a2415b4d145c3d4fc4207c30b384291a0e0\n(cherry picked from commit 18c54d70648547a758395180e244f4c4b5084deb)\n'}]",0,742256,14a1e2d8225ca8047d39d13e59e4290635e0c49c,12,4,1,25023,,,0,"Add Centos-8 support

creating redhat-8.yml file for c8 support.

Change-Id: I60ed1a2415b4d145c3d4fc4207c30b384291a0e0
(cherry picked from commit 18c54d70648547a758395180e244f4c4b5084deb)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/56/742256/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,14a1e2d8225ca8047d39d13e59e4290635e0c49c,osa/el8-stable/ussuri," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('systemd-python', 'python3-systemd') }}""", - systemd-python,1,1
openstack%2Fironic~stable%2Fussuri~Idde2891b2f15190f327e4298131a6069c58163c0,openstack/ironic,stable/ussuri,Idde2891b2f15190f327e4298131a6069c58163c0,Stop running test_schedule_to_all_nodes in the multinode job,MERGED,2020-07-21 14:51:45.000000000,2020-07-23 18:41:07.000000000,2020-07-23 18:36:49.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-21 14:51:45.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1db4f007e7c2c75cf8aaed8b36d2a45af1b1cbdf', 'message': ""Stop running test_schedule_to_all_nodes in the multinode job\n\nAfter the recent changes we're running 5 tests already, some of them\nusing several VMs. This should cover scheduling to different conductors\nwell enough, the nova test just adds random failures on top.\n\nThis allows reducing the number of test VMs to 3 per testing node\n(6 totally), reducing the resource pressure and allowing giving\neach VM a bit more RAM.\n\nAlso adding missing VM_SPECS_DISK to the subnode configuration.\n\nConflicts:\n\tzuul.d/ironic-jobs.yaml\n\nChange-Id: Idde2891b2f15190f327e4298131a6069c58163c0\n(cherry picked from commit 1cb1df76d96810b0cb4204cb54503b83532ef7c9)\n""}]",0,742214,1db4f007e7c2c75cf8aaed8b36d2a45af1b1cbdf,32,5,1,10239,,,0,"Stop running test_schedule_to_all_nodes in the multinode job

After the recent changes we're running 5 tests already, some of them
using several VMs. This should cover scheduling to different conductors
well enough, the nova test just adds random failures on top.

This allows reducing the number of test VMs to 3 per testing node
(6 totally), reducing the resource pressure and allowing giving
each VM a bit more RAM.

Also adding missing VM_SPECS_DISK to the subnode configuration.

Conflicts:
	zuul.d/ironic-jobs.yaml

Change-Id: Idde2891b2f15190f327e4298131a6069c58163c0
(cherry picked from commit 1cb1df76d96810b0cb4204cb54503b83532ef7c9)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/14/742214/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,1db4f007e7c2c75cf8aaed8b36d2a45af1b1cbdf,," tempest_test_regex: ""ironic_tempest_plugin.tests.scenario"" IRONIC_VM_COUNT: 3 IRONIC_VM_SPECS_RAM: 512 IRONIC_VM_COUNT: 3 IRONIC_VM_SPECS_RAM: 512 IRONIC_VM_SPECS_DISK: 4"," tempest_test_regex: ""(ironic_tempest_plugin.tests.scenario|test_schedule_to_all_nodes)"" IRONIC_VM_COUNT: 6 IRONIC_VM_SPECS_RAM: 384 IRONIC_VM_COUNT: 6 IRONIC_VM_SPECS_RAM: 384",6,5
openstack%2Fmagnum-ui~stable%2Ftrain~I7a03dfea2c84a423f15cfbe4194a8492f72dbd35,openstack/magnum-ui,stable/train,I7a03dfea2c84a423f15cfbe4194a8492f72dbd35,Fix cluster resize,MERGED,2020-07-10 13:45:59.000000000,2020-07-23 18:29:04.000000000,2020-07-23 18:27:56.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-10 13:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/b9a1ed24022e1cc2bcdbfacd7f1923cc1fb39349', 'message': ""Fix cluster resize\n\nThere are two fixes included in this patch:\n\n1. List nodes correctly. We have renamed minion to node, which\n   cause the filter doesn't work correctly.\n2. The response from magnumclient resize method is not a json,\n   so we need to convert it to dict before return. Rolling upgrade\n   has the same issue.\n\nTask: 39810\nStory: 2007697\n\nChange-Id: I7a03dfea2c84a423f15cfbe4194a8492f72dbd35\n(cherry picked from commit 96312eaf09dfec4424938a09d63a7190b2808d20)\n""}, {'number': 2, 'created': '2020-07-10 13:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/71f84204d46d9e7b98b7c10e19c45b0594d655a0', 'message': ""Fix cluster resize\n\nThere are two fixes included in this patch:\n\n1. List nodes correctly. We have renamed minion to node, which\n   cause the filter doesn't work correctly.\n2. The response from magnumclient resize method is not a json,\n   so we need to convert it to dict before return. Rolling upgrade\n   has the same issue.\n\nTask: 39810\nStory: 2007697\n\nChange-Id: I7a03dfea2c84a423f15cfbe4194a8492f72dbd35\n(cherry picked from commit 96312eaf09dfec4424938a09d63a7190b2808d20)\n""}, {'number': 3, 'created': '2020-07-23 06:35:16.000000000', 'files': ['magnum_ui/api/rest/magnum.py'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/7f07bd31c9924440dd9da4de51ec175d02b1ff22', 'message': ""Fix cluster resize\n\nThere are two fixes included in this patch:\n\n1. List nodes correctly. We have renamed minion to node, which\n   cause the filter doesn't work correctly.\n2. The response from magnumclient resize method is not a json,\n   so we need to convert it to dict before return. Rolling upgrade\n   has the same issue.\n\nTask: 39810\nStory: 2007697\n\nChange-Id: I7a03dfea2c84a423f15cfbe4194a8492f72dbd35\n(cherry picked from commit 96312eaf09dfec4424938a09d63a7190b2808d20)\n""}]",0,740468,7f07bd31c9924440dd9da4de51ec175d02b1ff22,11,3,3,28022,,,0,"Fix cluster resize

There are two fixes included in this patch:

1. List nodes correctly. We have renamed minion to node, which
   cause the filter doesn't work correctly.
2. The response from magnumclient resize method is not a json,
   so we need to convert it to dict before return. Rolling upgrade
   has the same issue.

Task: 39810
Story: 2007697

Change-Id: I7a03dfea2c84a423f15cfbe4194a8492f72dbd35
(cherry picked from commit 96312eaf09dfec4424938a09d63a7190b2808d20)
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/68/740468/2 && git format-patch -1 --stdout FETCH_HEAD,['magnum_ui/api/rest/magnum.py'],1,b9a1ed24022e1cc2bcdbfacd7f1923cc1fb39349,story/2007697-39810-stable/ussuri-stable/train," search_opts = {""name"": ""%s-"" % stack.stack_name} if (server.name.startswith(""%s-minion"" % stack.stack_name) or server.name.startswith(""%s-node"" % stack.stack_name)): worker_nodes.append({""name"": server.name, ""id"": server.id}) nodes_to_remove=nodes_to_remove, nodegroup=nodegroup).to_dict() max_batch_size=max_batch_size, nodegroup=nodegroup).to_dict()"," search_opts = {""name"": ""%s-minion"" % stack.stack_name} worker_nodes.append({""name"": server.name, ""id"": server.id}) nodes_to_remove=nodes_to_remove, nodegroup=nodegroup) max_batch_size=max_batch_size, nodegroup=nodegroup)",7,5
openstack%2Fneutron~master~Ie070f3c4d75272d12f295a2ea4f7fa6548a7b002,openstack/neutron,master,Ie070f3c4d75272d12f295a2ea4f7fa6548a7b002,[OVN] Bump OVN version to v20.06.1,MERGED,2020-06-16 08:16:56.000000000,2020-07-23 18:28:55.000000000,2020-07-23 18:22:20.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-16 08:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e78aadc095db11904e7ac4584bc97b8bfa067a4', 'message': '[OVN] Bump OVN version to v20.06.0\n\nThis commit bumps the OVN version used in the gate from v20.03.0 to the\nlatest tagged version, v20.06.0.\n\nChange-Id: Ie070f3c4d75272d12f295a2ea4f7fa6548a7b002\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2020-06-22 13:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c54e3a83f8b51778ddb35f14f8cb601940cf40c3', 'message': '[OVN] Bump OVN version to v20.06.0\n\nThis commit bumps the OVN version used in the gate from v20.03.0 to the\nlatest tagged version, v20.06.0.\n\nChange-Id: Ie070f3c4d75272d12f295a2ea4f7fa6548a7b002\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2020-07-14 08:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a5e8a7864d69b4b95a975c19faf4be4688c7f81', 'message': '[OVN] Bump OVN version to v20.06.1\n\nThis commit bumps the OVN version used in the gate from v20.03.0 to the\nlatest tagged version, v20.06.1.\n\nChange-Id: Ie070f3c4d75272d12f295a2ea4f7fa6548a7b002\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2020-07-22 07:55:21.000000000', 'files': ['zuul.d/tempest-singlenode.yaml', 'zuul.d/base.yaml', 'devstack/lib/ovn_agent'], 'web_link': 'https://opendev.org/openstack/neutron/commit/164755264b4b4ec6830d1e9f94e46482f9d9dd7f', 'message': '[OVN] Bump OVN version to v20.06.1\n\nThis commit bumps the OVN version used in the gate from v20.03.0 to the\nlatest tagged version, v20.06.1.\n\nChange-Id: Ie070f3c4d75272d12f295a2ea4f7fa6548a7b002\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,735802,164755264b4b4ec6830d1e9f94e46482f9d9dd7f,61,8,4,6773,,,0,"[OVN] Bump OVN version to v20.06.1

This commit bumps the OVN version used in the gate from v20.03.0 to the
latest tagged version, v20.06.1.

Change-Id: Ie070f3c4d75272d12f295a2ea4f7fa6548a7b002
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/735802/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-singlenode.yaml', 'devstack/lib/ovn_agent']",2,5e78aadc095db11904e7ac4584bc97b8bfa067a4,ovn-tag-20.06,OVN_BRANCH=${OVN_BRANCH:-v20.06.0},OVN_BRANCH=${OVN_BRANCH:-v20.03.0},3,3
openstack%2Fswift~stable%2Fussuri~I87fe3477d8b7ef186421ef2d08bc3b205c18a0c1,openstack/swift,stable/ussuri,I87fe3477d8b7ef186421ef2d08bc3b205c18a0c1,py3: Stop munging RAW_PATH_INFO,MERGED,2020-07-22 03:44:37.000000000,2020-07-23 18:27:18.000000000,2020-07-23 18:25:27.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 03:44:37.000000000', 'files': ['swift/common/wsgi.py', 'test/unit/common/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5aefa86a1830179e7e44466b5f5db71223530aa8', 'message': ""py3: Stop munging RAW_PATH_INFO\n\nWe rely on having byte-accurate representations of the request path\nas-seen-on-the-wire to compute signatures in s3api; the unquoting /\nrequoting madness to make non-ascii paths work with python's stdlib can\nlead to erroneous SignatureDoesNotMatch responses.\n\nChange-Id: I87fe3477d8b7ef186421ef2d08bc3b205c18a0c1\nCloses-Bug: #1884991\n""}]",0,742338,5aefa86a1830179e7e44466b5f5db71223530aa8,12,2,1,15343,,,0,"py3: Stop munging RAW_PATH_INFO

We rely on having byte-accurate representations of the request path
as-seen-on-the-wire to compute signatures in s3api; the unquoting /
requoting madness to make non-ascii paths work with python's stdlib can
lead to erroneous SignatureDoesNotMatch responses.

Change-Id: I87fe3477d8b7ef186421ef2d08bc3b205c18a0c1
Closes-Bug: #1884991
",git fetch https://review.opendev.org/openstack/swift refs/changes/38/742338/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/wsgi.py', 'test/unit/common/test_wsgi.py']",2,5aefa86a1830179e7e44466b5f5db71223530aa8,bug/1884991-stable/ussuri,"from swift.common.swob import Request, wsgi_to_bytesclass ProtocolTest(unittest.TestCase): def _run_bytes_through_protocol(self, bytes_from_client): fake_listen_socket, self.app, protocol=self.protocol_class, class TestSwiftHttpProtocolSomeMore(ProtocolTest): protocol_class = wsgi.SwiftHttpProtocol @staticmethod def app(env, start_response): start_response(""200 OK"", []) return [wsgi_to_bytes(env['RAW_PATH_INFO'])] def test_simple(self): bytes_out = self._run_bytes_through_protocol(( b""GET /someurl HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-1], b'/someurl') def test_quoted(self): bytes_out = self._run_bytes_through_protocol(( b""GET /some%fFpath%D8%AA HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[0], b""HTTP/1.1 200 OK"") # sanity check self.assertEqual(lines[-1], b'/some%fFpath%D8%AA') def test_messy(self): bytes_out = self._run_bytes_through_protocol(( b""GET /oh\xffboy%what$now%E2%80%bd HTTP/1.0\r\n"" b""User-Agent: something or other\r\n"" b""\r\n"" )) lines = [l for l in bytes_out.split(b""\r\n"") if l] self.assertEqual(lines[-1], b'/oh\xffboy%what$now%E2%80%bd') class TestProxyProtocol(ProtocolTest): protocol_class = wsgi.SwiftHttpProxiedProtocol @staticmethod def app(env, start_response): start_response(""200 OK"", []) body = '\r\n'.join([ 'got addr: %s %s' % ( env.get(""REMOTE_ADDR"", ""<missing>""), env.get(""REMOTE_PORT"", ""<missing>"")), 'on addr: %s %s' % ( env.get(""SERVER_ADDR"", ""<missing>""), env.get(""SERVER_PORT"", ""<missing>"")), 'https is %s (scheme %s)' % ( env.get(""HTTPS"", ""<missing>""), env.get(""wsgi.url_scheme"", ""<missing>"")), ]) + '\r\n' return [body.encode(""utf-8"")] )) )) )) )) bytes_out = self._run_bytes_through_protocol(bad_line) ))","from swift.common.swob import Requestclass TestProxyProtocol(unittest.TestCase): def _run_bytes_through_protocol(self, bytes_from_client, protocol_class): def dinky_app(env, start_response): start_response(""200 OK"", []) body = '\r\n'.join([ 'got addr: %s %s' % ( env.get(""REMOTE_ADDR"", ""<missing>""), env.get(""REMOTE_PORT"", ""<missing>"")), 'on addr: %s %s' % ( env.get(""SERVER_ADDR"", ""<missing>""), env.get(""SERVER_PORT"", ""<missing>"")), 'https is %s (scheme %s)' % ( env.get(""HTTPS"", ""<missing>""), env.get(""wsgi.url_scheme"", ""<missing>"")), ]) + '\r\n' return [body.encode(""utf-8"")] fake_listen_socket, dinky_app, protocol=protocol_class, ), wsgi.SwiftHttpProxiedProtocol) ), wsgi.SwiftHttpProxiedProtocol) ), wsgi.SwiftHttpProxiedProtocol) ), wsgi.SwiftHttpProxiedProtocol) bytes_out = self._run_bytes_through_protocol( bad_line, wsgi.SwiftHttpProxiedProtocol) ), wsgi.SwiftHttpProxiedProtocol)",81,30
openstack%2Fkolla-ansible~master~I3afd117633a84d342effb6baadf16fa42c16776c,openstack/kolla-ansible,master,I3afd117633a84d342effb6baadf16fa42c16776c,Update glance configuration file for backend,MERGED,2020-07-22 11:15:06.000000000,2020-07-23 18:19:17.000000000,2020-07-23 14:31:50.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-22 11:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/703325ec9bfd9aedfe6e042399031d50a4898da0', 'message': 'Update glance configuration file for backend\n\nThere should be only one session in the configuration file,\nWhen there is only one backend.\n\nChange-Id: I3afd117633a84d342effb6baadf16fa42c16776c\n'}, {'number': 2, 'created': '2020-07-22 11:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a000b08498ab773a6bf4506e75d28aaab8dc3e81', 'message': 'Update glance configuration file for backend\n\nglobal file glance_backend_file parameters not take effect\n\nChange-Id: I3afd117633a84d342effb6baadf16fa42c16776c\n'}, {'number': 3, 'created': '2020-07-22 12:34:30.000000000', 'files': ['ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/glance/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3d0419969263c3ed18bf9cbc4f2e32451c80fcbe', 'message': 'Update glance configuration file for backend\n\nglobal file glance_backend_file parameters not take effect\n\nCloses-Bug: #1888501\n\nChange-Id: I3afd117633a84d342effb6baadf16fa42c16776c\n'}]",2,742395,3d0419969263c3ed18bf9cbc4f2e32451c80fcbe,14,3,3,32029,,,0,"Update glance configuration file for backend

global file glance_backend_file parameters not take effect

Closes-Bug: #1888501

Change-Id: I3afd117633a84d342effb6baadf16fa42c16776c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/95/742395/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'ansible/roles/glance/defaults/main.yml', 'etc/kolla/globals.yml']",3,703325ec9bfd9aedfe6e042399031d50a4898da0,bug/1888501,"#glance_backend_http: ""no""",,5,3
openstack%2Fkolla-ansible~stable%2Fstein~I3e38946d9dabd5df8bf7c6202a8b739304fe4622,openstack/kolla-ansible,stable/stein,I3e38946d9dabd5df8bf7c6202a8b739304fe4622,Ignore Python warnings in kolla-toolbox,MERGED,2020-07-23 11:15:04.000000000,2020-07-23 18:18:05.000000000,2020-07-23 15:30:11.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-23 11:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/535a2b73f2bb50e867829f053e7e243c2ccf1596', 'message': 'Ignore Python warnings in kolla-toolbox\n\nAnsible 2.2.0.0 used in Stein kolla-toolbox requires paramiko (no version\nconstraints), which installs latest cryptography package. It results in\nPython deprecation warning about Python 2:\n\n/usr/lib64/python2.7/site-packages/cryptography/__init__.py:39: CryptographyDeprecationWarning: Python 2 is no longer supported by the Python core team. Support for it is now deprecated in cryptography, and will be removed in a future release.\n\nThis warning breaks kolla_toolbox module.\n\nChange-Id: I3e38946d9dabd5df8bf7c6202a8b739304fe4622\n'}, {'number': 2, 'created': '2020-07-23 11:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3cdbaafda8abc0e73a8d71c27de4d9eccf1d2f74', 'message': 'Ignore Python warnings in kolla-toolbox\n\nAnsible 2.2.0.0 used in Stein kolla-toolbox requires paramiko (no version\nconstraints), which installs latest cryptography package. It results in\nPython deprecation warning about Python 2:\n\n/usr/lib64/python2.7/site-packages/cryptography/__init__.py:39: CryptographyDeprecationWarning: Python 2 is no longer supported by the Python core team. Support for it is now deprecated in cryptography, and will be removed in a future release.\n\nThis warning breaks kolla_toolbox module.\n\nCloses-Bug: #1888657\n\nChange-Id: I3e38946d9dabd5df8bf7c6202a8b739304fe4622\n'}, {'number': 3, 'created': '2020-07-23 12:39:30.000000000', 'files': ['ansible/roles/common/defaults/main.yml', 'releasenotes/notes/bug-1888657-44e2f6f3aedc20ba.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bbaa82619ee404d495ec5aef9468ecd52c5d76d3', 'message': 'Ignore Python warnings in kolla-toolbox\n\nAnsible 2.2.0.0 used in Stein kolla-toolbox requires paramiko (no version\nconstraints), which installs latest cryptography package. It results in\nPython deprecation warning about Python 2:\n\n/usr/lib64/python2.7/site-packages/cryptography/__init__.py:39: CryptographyDeprecationWarning: Python 2 is no longer supported by the Python core team. Support for it is now deprecated in cryptography, and will be removed in a future release.\n\nThis warning breaks kolla_toolbox module.\n\nCloses-Bug: #1888657\n\nChange-Id: I3e38946d9dabd5df8bf7c6202a8b739304fe4622\n'}]",1,742642,bbaa82619ee404d495ec5aef9468ecd52c5d76d3,17,4,3,22629,,,0,"Ignore Python warnings in kolla-toolbox

Ansible 2.2.0.0 used in Stein kolla-toolbox requires paramiko (no version
constraints), which installs latest cryptography package. It results in
Python deprecation warning about Python 2:

/usr/lib64/python2.7/site-packages/cryptography/__init__.py:39: CryptographyDeprecationWarning: Python 2 is no longer supported by the Python core team. Support for it is now deprecated in cryptography, and will be removed in a future release.

This warning breaks kolla_toolbox module.

Closes-Bug: #1888657

Change-Id: I3e38946d9dabd5df8bf7c6202a8b739304fe4622
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/42/742642/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/defaults/main.yml'],1,535a2b73f2bb50e867829f053e7e243c2ccf1596,," PYTHONWARNINGS: ""ignore::UserWarning""",,1,0
openstack%2Fmanila-specs~master~I535efdc6d8f5517163b6c285e7c1503a4313b6ee,openstack/manila-specs,master,I535efdc6d8f5517163b6c285e7c1503a4313b6ee,Share server migration,MERGED,2020-06-16 16:58:54.000000000,2020-07-23 18:15:56.000000000,2020-07-23 18:14:10.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-06-16 16:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/ab904a235ba403a9c16d17f3312bb1aea6d1b7e7', 'message': 'Share server migration\n\nThis patch adds a specification for migrating shares servers\nand all its resources to a new destination. This spec proposes\na mechanism similar to the existent share migration.\n\nAPIImpact\nPartially-Implements: bp share-server-migration\n\nChange-Id: I535efdc6d8f5517163b6c285e7c1503a4313b6ee\n'}, {'number': 2, 'created': '2020-07-06 18:01:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/866389deb1c0dee19c015342d5e848140a04062f', 'message': 'Share server migration\n\nThis patch adds a specification for migrating shares servers\nand all its resources to a new destination. This spec proposes\na mechanism similar to the existent share migration.\n\nAPIImpact\nPartially-Implements: bp share-server-migration\n\nChange-Id: I535efdc6d8f5517163b6c285e7c1503a4313b6ee\nSigned-off-by: Douglas Viroel <viroel@gmail.com>\n'}, {'number': 3, 'created': '2020-07-06 18:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/a1f4c9865a18674255a9383b3699bc03c20d5460', 'message': 'Share server migration\n\nThis patch adds a specification for migrating shares servers\nand all its resources to a new destination. This spec proposes\na mechanism similar to the existent share migration.\n\nAPIImpact\nPartially-Implements: bp share-server-migration\n\nChange-Id: I535efdc6d8f5517163b6c285e7c1503a4313b6ee\nSigned-off-by: Douglas Viroel <viroel@gmail.com>\n'}, {'number': 4, 'created': '2020-07-13 16:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/f99783c45defffca1d11bf93d225d4d7d7be87e1', 'message': 'Share server migration\n\nThis patch adds a specification for migrating shares servers\nand all its resources to a new destination. This spec proposes\na mechanism similar to the existent share migration.\n\nAPIImpact\nPartially-Implements: bp share-server-migration\n\nChange-Id: I535efdc6d8f5517163b6c285e7c1503a4313b6ee\nSigned-off-by: Douglas Viroel <viroel@gmail.com>\n'}, {'number': 5, 'created': '2020-07-13 16:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/b5313e8de9af7e17acf24124da6b5ca0652ffd84', 'message': 'Share server migration\n\nThis patch adds a specification for migrating shares servers\nand all its resources to a new destination. This spec proposes\na mechanism similar to the existent share migration.\n\nAPIImpact\nPartially-Implements: bp share-server-migration\n\nChange-Id: I535efdc6d8f5517163b6c285e7c1503a4313b6ee\nSigned-off-by: Douglas Viroel <viroel@gmail.com>\n'}, {'number': 6, 'created': '2020-07-15 21:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/50f39dfa0c4e0f90aa434388f1b04f7ebb56981d', 'message': 'Share server migration\n\nThis patch adds a specification for migrating shares servers\nand all its resources to a new destination. This spec proposes\na mechanism similar to the existent share migration.\n\nAPIImpact\nPartially-Implements: bp share-server-migration\n\nChange-Id: I535efdc6d8f5517163b6c285e7c1503a4313b6ee\nSigned-off-by: Douglas Viroel <viroel@gmail.com>\n'}, {'number': 7, 'created': '2020-07-20 22:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/da1d2037a77e65909aadde26ab54d89da11f8cd1', 'message': 'Share server migration\n\nThis patch adds a specification for migrating shares servers\nand all its resources to a new destination. This spec proposes\na mechanism similar to the existent share migration.\n\nAPIImpact\nPartially-Implements: bp share-server-migration\n\nChange-Id: I535efdc6d8f5517163b6c285e7c1503a4313b6ee\nSigned-off-by: Douglas Viroel <viroel@gmail.com>\n'}, {'number': 8, 'created': '2020-07-20 22:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/db6a000cc6c838816a7ac33d2443ba4be812fdf5', 'message': 'Share server migration\n\nThis patch adds a specification for migrating shares servers\nand all its resources to a new destination. This spec proposes\na mechanism similar to the existent share migration.\n\nAPIImpact\nPartially-Implements: bp share-server-migration\n\nChange-Id: I535efdc6d8f5517163b6c285e7c1503a4313b6ee\nSigned-off-by: Douglas Viroel <viroel@gmail.com>\n'}, {'number': 9, 'created': '2020-07-21 11:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/3bd76590748d9752314ee2792532a514bc95eb93', 'message': 'Share server migration\n\nThis patch adds a specification for migrating shares servers\nand all its resources to a new destination. This spec proposes\na mechanism similar to the existent share migration.\n\nAPIImpact\nPartially-Implements: bp share-server-migration\n\nChange-Id: I535efdc6d8f5517163b6c285e7c1503a4313b6ee\nSigned-off-by: Douglas Viroel <viroel@gmail.com>\n'}, {'number': 10, 'created': '2020-07-21 11:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/2d6018f40f474b15c7d20ea1e030a541ba9bbe26', 'message': 'Share server migration\n\nThis patch adds a specification for migrating share servers\nand all its resources to a new destination. This spec proposes\na mechanism similar to the existent share migration.\n\nAPIImpact\nPartially-Implements: bp share-server-migration\n\nChange-Id: I535efdc6d8f5517163b6c285e7c1503a4313b6ee\nSigned-off-by: Douglas Viroel <viroel@gmail.com>\n'}, {'number': 11, 'created': '2020-07-21 21:34:56.000000000', 'files': ['specs/victoria/share-server-migration.rst'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/a84a5d061073b1743b56e687c0780e7a117a9f42', 'message': 'Share server migration\n\nThis patch adds a specification for migrating share servers\nand all its resources to a new destination. This spec proposes\na mechanism similar to the existent share migration.\n\nAPIImpact\nPartially-Implements: bp share-server-migration\n\nChange-Id: I535efdc6d8f5517163b6c285e7c1503a4313b6ee\nSigned-off-by: Douglas Viroel <viroel@gmail.com>\n'}]",83,735970,a84a5d061073b1743b56e687c0780e7a117a9f42,45,7,11,30002,,,0,"Share server migration

This patch adds a specification for migrating share servers
and all its resources to a new destination. This spec proposes
a mechanism similar to the existent share migration.

APIImpact
Partially-Implements: bp share-server-migration

Change-Id: I535efdc6d8f5517163b6c285e7c1503a4313b6ee
Signed-off-by: Douglas Viroel <viroel@gmail.com>
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/70/735970/10 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/share-server-migration.rst'],1,ab904a235ba403a9c16d17f3312bb1aea6d1b7e7,bp/share-server-migration,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================== Share Server Migration ====================== https://blueprints.launchpad.net/manila/+spec/share-server-migration Manila supports the deployment model where share drivers are able to handle the creation and the management of share servers as well as shares and their capabilities[1]. By managing different share servers per tenant level, Manila leverages its capability of configuring storage entities and provides more manageability for administrators. As presented in Liberty release, and later improved on Mitaka, Newton and Ocata releases, share migration operation allows administrators to move a share across backends, in a non-disruptive manner, by implementing a 2-phase migration approach. This spec now proposes to extend this migration concept to the share server entity, relying on share drivers that can do this operation in an atomic and efficient way. Problem description =================== Administrators might need to handle situations like back end evacuation or rebalancing, and face the problem of migrating lots of shares, one by one, to a specific, and probably common, destination. Even with additional tools or scripts this task can be hard to manage and mainly, to recover from failure states. The lack of a feature that helps administrators to rebalance/evacuate large storage systems is the reason for proposing the following solution. Use Cases ========= There are several scenarios where share server migration comes handy and provides benefits to cloud administrators: * **Rebalance**: move shares to a back end that has more free capacity, freeing up space for other shares to grow over the time; * **Optimization**: move shares and spare a back end in order to conserve power. Move data closer to the hosts for a better network performance; * **Evacuation**: evacuate a back end that is too old or that is experiencing failures; * **Maintenance**: move shares to a newer hardware version/model; * **Others**: change shares' configuration like: share type, share network, availability zone, etc. Proposed change =============== As designed for share migration on Newton release[2], the 2-phase migration logic will be also implemented for share servers. By invoking `share-server-migration-start`, the share server migration can start to copy all data, from source to destination, including all shares, snapshots and shares' access, if supported by the driver that implements it. After finishing the 1st phase, administrators can plan and start the 2nd phase, by invoking 'share-server-migration-complete' to finish the operation, that usually causes the disruption of share's access, since share's export locations might be updated. It is important to note that when migrating a share server, many share attributes won't be modified during the process, while share server attributes might change depending on the parameters, when provided by the administrator, in 'Share Network', 'Share Type' and 'Availability Zone' entities. Share API and Manager's Changes ------------------------------- The share API will hold all validations needed before proceeding with driver's calls and database updates. The API will check if any of the shares within the share server being migrated are in an invalid state or have any dependent resource that cannot be migrated together with the share. The migration can fail earlier if one of those validations cannot be satisfied. Before starting the migration, the share server and all its shares will have their status updated to reflect the operation that is being executed and to block any other operation that could be triggered after this one started. By changing all shares' status, users will be able to identify that a group of shares are blocked for receiving any other operation. After running through all validations with success, the share server `task_state` will be updated to `MIGRATION_STARTING` and the scheduler will be invoked to validate if the host matches with the provided share type. By reaching share manager's migration start method, a driver's call will be triggered to analyze if the destination back end can handle such operation before starting the migration. If one of the capabilities can't be satisfied, the migration will fail. The share manager will update the share server's `task_state` to `MIGRATION_IN_PROGRESS` and all its instances' status to `MIGRATING`. A new share server might be requested in the destination back end to hold all the data from source. It is expected that drivers will be able to identify that a new server is being requested for migration purposes. After that, the driver will be called to start the share server migration and to return asynchronously. A share manager's periodic task will continuously check share servers that have the status set to `MIGRATION_IN_PROGRESS` to invoke the driver's call `share_server_migration_continue` to track the progress of share servers that are in the 1st phase of the migration. After successfully finishing the 1st phase, the share server status will be updated to `MIGRATION_PHASE1_DONE`. Finally, shares manager's `share_server_migration_complete` method can be invoked for share servers that already completed the 1st phase, to finish the migration. In this phase, the driver is called to finish the share server migration and perform the last steps in the back end and return the list of export locations for all its shares. The `task_state` is set to `MIGRATION_SUCCESS` and all its shares have their export paths updated before they become `available` again. Before moving to the 2nd phase, during the data copy or at the 1st phase completed, administrators can cancel the operation by invoking the `share_server_migration_cancel` API. If supported by the driver, the cancel operation will delete everything new that was created during the process, and the share server and all its shares will go back to the initial state. Alternatives ------------ The alternative is to use scripts or any other automation tool to move all shares to a new destination, one by one, using share migration feature. Data model impact ----------------- A new field will be added to `Share Server` table to help tracking the states of a share server migration. The new field `task_state` will work like the same field that already exists on `Share` table. Administrator will be able to reset the `task_state` by issuing the API `share-server-reset-task-state`, as shown in the next section. REST API impact --------------- For admin-only, new API methods will be implemented: 1) `share-server-migration-start` Migrates a share server:: POST /share-servers/{share_server_id}/action Body:: { 'migration_start': { 'preserve_metadata': true, 'writable': true, 'nondisruptive': true, 'preserve_snapshots': true, 'host': 'host@dummy1#pool2', 'new_share_type_id': 'new_share_type_id', 'new_share_network_id': 'new_share_network_id' } } The mandatory parameters are `share_server_id` and `host`. The `host` contains the string host where the share server will be migrated to. The capabilities `preserve_metadata`, `writable`, `nondisruptive` and `preserve_snapshots`, if configured, must be supported by the drivers that implement the feature. If one of the capabilities isn't supported, the migration will fail later in the driver's compatibility check. Both `new_share_type_id` and `new_share_network_id` can be provided to match host destination properties. Drivers will need to validate if they are able to perform such modification efficiently before starting the migration. If the provided `share_server_id` doesn't exist, the API will respond with ``404 Not Found``. If one of the optional parameters are invalid or doesn't exist, the API will respond with ``400 Bad Request``. If during the initial validations in the Share API, one of the resources is busy or has an invalid status, the API will respond with ``409 Conflict``. 2) `share-server-migration-complete` Start the 2nd phase of migration:: POST /share-servers/{share_server_id}/action Body:: {""migration_complete"": {}} Triggers the start of the 2nd phase of migration on a share server that already finished the 1st phase. If the provided `share_server_id` doesn't exist, the API will respond with ``404 Not Found``. If the operation can't be performed due to unsupported migration state, the API will respond with ``400 Bad Request``. 3) `share-server-migration-cancel` Attempts to cancel migration:: POST /share-servers/{share_server_id}/action Body:: {""migration_cancel"": {}} To cancel a migration in progress, the operation must not be in the 2nd phase and the driver must support such operation. If the provided `share_server_id` doesn't exist, the API will respond with with ``404 Not Found``. If the operation can't be performed due to unsupported migration state, the API will respond with ``400 Bad Request``. 4) `share-server-migration-get-progress` Attempts to obtain migration progress:: POST /share-servers/{share_server_id}/action Body:: {""migration_get_progress"": {}} Response:: Body: { ""total_progress"": 30, } Gives the current migration progress in a percentage value. Drivers might also provide additional information together with `total_progress` info. If the provided `share_server_id` doesn't exist, the API will respond with ``404 Not Found``. If the provided `share_server_id` isn't performing a migration, the API will respond with ``400 Bad Request``. 5) `share-server-reset-task-state` Reset task state field value:: POST /share-servers/{share_server_id}/action Body:: {""reset_task_state"": {""task_state"": ""migration_error}} If the provided `share_server_id` doesn't exist, the API will respond with ``404 Not Found``. Driver impact ------------- Vendors that want to support share server migration must implement the following interfaces: * **share_server_migration_check_compatibility**: it will be always called before starting the migration to check if the driver supports migrating the share server to the required destination, and answer which kind of capabilities will be supported on such operation; * **share_server_migration_start**: called to start the first phase of migration. The procedure should be started in the back end and return asynchronously. * **share_server_migration_continue**: will be called to monitor the progress of a share server migration. Drivers will answer if the 1st phase was already finished or raise an exception in case of failure. * **share_server_migration_complete**: starts the 2nd phase of the migration, to complete the operation by cutting over the access from the source and providing access through the destination. * **share_server_migration_get_progress**: drivers will implement this call to provide the total progress of the migration. As implemented in share migration approach, drivers will be invoked to check the compatibility with the destination back end before starting the migration. During this validation, driver will be able to return the capabilities supported for migrating a share server to the provided destination, such as remaining writable, preserving snapshots and others. After that, `share_server_migration_start` will take place and ask drivers to start the 1st phase of the migration, that should be answered asynchronously. Manila will reuse the same periodic task from share migration to continuously check if the 1st phase is already completed by calling the driver interface `share_server_migration_continue`. Finally, the driver will need to perform the last steps to complete the share server migration when the `share_server_migration_complete` is invoked. At this moment, the access to the source share server shares should be interrupted and moved to the new destination. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ A minor performance impact is expected since all the data copy will be performed in the storage back end. Depending on how many shares are placed within a share server, the database updates can take some time to finish, blocking other updates. Other deployer impact --------------------- Drivers that implement share server migration might need to retrieve the configuration from other back ends in order to access it and provide a way of copying all the data. Administrators will need to keep these files up to date in all its share service instances. Developer impact ---------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: dviroel Work Items ---------- * Implement main patch that contains: * New API methods for share server; * Share Manager implementation for share server migration; * Database updates for Share Server model; * New driver interfaces for migration share servers. * Update python-manilaclient with new share server's CLI commands. * For testing: * Improve and implement the container driver to support share server migration across different back ends. * New functional tests in manila-tempest-plugin. * Documentation updates. Dependencies ============ None. Testing ======= The container driver will need to be improved to support share server migration across different back ends. New functional tests will be added to perform share server migration on the same back end and across different back ends. Vendors that implement support for this feature will be encouraged to run these tests in their CI. Documentation Impact ==================== The following documentation will be updated: * API reference: Will update the Share Server API by adding the new actions for share server migration procedure. * Admin reference: Will add information on how the functionality works and which drivers supports it. * Developer reference: Will add information on how the new functionality works, and which interfaces need to be implemented. References ========== [1] https://docs.openstack.org/manila/ussuri/admin/shared-file-systems-share-server-management.html [2] https://opendev.org/openstack/manila-specs/src/branch/master/specs/newton/newton-migration-improvements.rst [3] https://etherpad.opendev.org/p/share-server-migration",,389,0
openstack%2Fmanila-specs~master~I23053fcc2cdf8fd7e099c8ccab0785d864b3e7dd,openstack/manila-specs,master,I23053fcc2cdf8fd7e099c8ccab0785d864b3e7dd,Add lite spec for share server limits,MERGED,2020-07-02 19:25:01.000000000,2020-07-23 18:13:20.000000000,2020-07-23 18:12:03.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 22348}, {'_account_id': 26768}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2020-07-02 19:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/00e43b865b24cfac55175957b27615d5dbf285ad', 'message': 'Add lite spec for share server limits\n\nAdd a new lite-spec that proposes two new backend capabilities\nto Manila. The capabilities ``max_shares_per_share_server`` and\n``max_share_server_size`` are being added to help the\nadministrator to control the size of share servers.\n\nChange-Id: I23053fcc2cdf8fd7e099c8ccab0785d864b3e7dd\n'}, {'number': 2, 'created': '2020-07-15 19:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/0525228881a3894537070d30eb40acd94202afea', 'message': 'Add lite spec for share server limits\n\nAdd a new lite-spec that proposes two new backend capabilities\nto Manila. The capabilities ``max_shares_per_share_server`` and\n``max_share_server_size`` are being added to help the\nadministrator to control the size of share servers.\n\nChange-Id: I23053fcc2cdf8fd7e099c8ccab0785d864b3e7dd\n'}, {'number': 3, 'created': '2020-07-16 18:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/2c2e680e107b8400ffdcff07e920d2e8892431f9', 'message': 'Add lite spec for share server limits\n\nAdd a new lite-spec that proposes two new backend capabilities\nto Manila. The capabilities ``max_shares_per_share_server`` and\n``max_share_server_size`` are being added to help the\nadministrator to control the size of share servers.\n\nPartially-implements: bp new-share-server-limits\nChange-Id: I23053fcc2cdf8fd7e099c8ccab0785d864b3e7dd\n'}, {'number': 4, 'created': '2020-07-21 13:26:21.000000000', 'files': ['specs/victoria/spec-lite-add-max-shares-on-share-server-limit.rst'], 'web_link': 'https://opendev.org/openstack/manila-specs/commit/ed1c6aaad80778b2be2ac14b705aa1f40d5344e3', 'message': 'Add lite spec for share server limits\n\nAdd a new lite-spec that proposes two new backend capabilities\nto Manila. The capabilities ``max_shares_per_share_server`` and\n``max_share_server_size`` are being added to help the\nadministrator to control the size of share servers.\n\nPartially-implements: bp new-share-server-limits\nChange-Id: I23053fcc2cdf8fd7e099c8ccab0785d864b3e7dd\n'}]",30,739136,ed1c6aaad80778b2be2ac14b705aa1f40d5344e3,28,8,4,29632,,,0,"Add lite spec for share server limits

Add a new lite-spec that proposes two new backend capabilities
to Manila. The capabilities ``max_shares_per_share_server`` and
``max_share_server_size`` are being added to help the
administrator to control the size of share servers.

Partially-implements: bp new-share-server-limits
Change-Id: I23053fcc2cdf8fd7e099c8ccab0785d864b3e7dd
",git fetch https://review.opendev.org/openstack/manila-specs refs/changes/36/739136/2 && git format-patch -1 --stdout FETCH_HEAD,['spec-lite-add-max-shares-on-share-server-limit.rst'],1,00e43b865b24cfac55175957b27615d5dbf285ad,bp/new-share-server-limits,":problem: An administrator is not able to specify how many shares can be created in a given share server, nor the maximum size that a share server can hit. The current behavior allows the system to allocate a bunch of shares in a single share server and it allows the share server to reach a huge size, making it a bit harder to manage. :solution: We could add a limit for the amount of shares that a share server can hold. Administrators can configure this limit for each backend, and have more control over the size of shares servers, which helps them to manage the cloud resources. The proposed solution introduces two new backend properties called ``max_shares_per_share_server`` and ``max_share_server_size``, whereby the administrators are able to determine the amount of shares that can be created upon a given share server. Configuring the ``max_shares_per_share_server`` property means that after hitting the limit of shares in a share server, it will be filtered out from the compatible share server list. For the ``max_share_server_size`` backend capability, the service will understand that when a given share server hits the specified amount of gigabytes, the share server will be filtered out and a new share server is going to be provided. In this case, not only shares are going to be considered in the final gigabytes amount, but share replicas and snapshots will be considered as well. If one of these backend capabilities is not set in the chosen backend, the service will understand that there is no limit for shares or gigabytes in that backend share servers. The share manager ``provide_share_server_for_share`` and ``provide_share_server_for_share_group`` methods will be modified to also check if there is a configured limit in the correspondent backend session in the Manila configuration file. If at least one of the properties was specified, the service will query the amount of existent share server resources using the database layer for performance purposes, and finally, if needed, request the creation of a new share server to place the received request. :impacts: This implementation slightly impacts performance only when at least one of the backend capabilities was set, but there is no expectation to increase significantly the share creation time, specially compared to another possible approach where we ask the drivers to calculate the amount of resources in a given share server. Administrators must be aware that when configuring one of these limits more network allocations may be needed. :alternative: As an alternative we could use share type extra specs to provide driver specific limits for share server shares and max share server size in gigabytes. This approach would work in a project level, but we should consider that it may require the share manager to forward more information to the driver than we do today, in order to avoid driver calls to the storage which would cause a performance deterioration. :timeline: Include in Victoria release. :link: https://etherpad.opendev.org/p/victoria-ptg-manila https://review.opendev.org/#/c/510542/ :assignee: carloss ",,60,0
openstack%2Fheat~master~I2a78b6f6235529a95838307e3d38731d31ff5c4b,openstack/heat,master,I2a78b6f6235529a95838307e3d38731d31ff5c4b,Check external resources after creation,MERGED,2019-12-18 04:46:53.000000000,2020-07-23 17:56:02.000000000,2020-05-01 06:39:46.000000000,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-18 04:46:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/53272ea4b5db1597e819068aeb4bd2001f7e0d89', 'message': 'Check external resources after creation\n\nThe method Resource.check() is not a generator function, but it does\nreturn a generator in most cases. Simply calling the function does not\ncause the resource to actually be checked. Only in the case where the\nresource did not provide a handle_check() method would it do anything at\nall - and in that case it simply changes the state to CHECK_COMPLETE.\n\nYield the generator function so that the resource will actually be\nchecked if the resource type supports it.\n\nChange-Id: I2a78b6f6235529a95838307e3d38731d31ff5c4b\nTask: 37828\n'}, {'number': 2, 'created': '2020-04-30 14:05:22.000000000', 'files': ['heat/tests/generic_resource.py', 'heat/engine/resource.py', 'heat/tests/test_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/5c6038f7a272238eef8978a4b26ab4ae4efd745b', 'message': 'Check external resources after creation\n\nThe method Resource.check() is not a generator function, but it does\nreturn a generator in most cases. Simply calling the function does not\ncause the resource to actually be checked. Only in the case where the\nresource did not provide a handle_check() method would it do anything at\nall - and in that case it simply changes the state to CHECK_COMPLETE.\n\nYield the generator function so that the resource will actually be\nchecked if the resource type supports it.\n\nChange-Id: I2a78b6f6235529a95838307e3d38731d31ff5c4b\nTask: 37828\n'}]",0,699543,5c6038f7a272238eef8978a4b26ab4ae4efd745b,13,3,2,4257,,,0,"Check external resources after creation

The method Resource.check() is not a generator function, but it does
return a generator in most cases. Simply calling the function does not
cause the resource to actually be checked. Only in the case where the
resource did not provide a handle_check() method would it do anything at
all - and in that case it simply changes the state to CHECK_COMPLETE.

Yield the generator function so that the resource will actually be
checked if the resource type supports it.

Change-Id: I2a78b6f6235529a95838307e3d38731d31ff5c4b
Task: 37828
",git fetch https://review.opendev.org/openstack/heat refs/changes/43/699543/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/generic_resource.py', 'heat/engine/resource.py', 'heat/tests/test_resource.py']",3,53272ea4b5db1597e819068aeb4bd2001f7e0d89,," def test_create_from_external_with_check(self): tmpl = rsrc_defn.ResourceDefinition( 'test_resource', 'GenericResourceType', external_id='f00d') res = generic_rsrc.CheckableResource('test_resource', tmpl, self.stack) scheduler.TaskRunner(res.create)() self.assertEqual((res.CHECK, res.COMPLETE), res.state) self.assertEqual('f00d', res.resource_id) ",,16,1
openstack%2Fkayobe~master~I9d7f0bf7daa6d1abe31de0e76a508820ed123c28,openstack/kayobe,master,I9d7f0bf7daa6d1abe31de0e76a508820ed123c28,Set endpoint type variables to publicURL in public-openrc.sh,MERGED,2020-07-23 13:39:11.000000000,2020-07-23 17:47:22.000000000,2020-07-23 17:44:51.000000000,"[{'_account_id': 10910}, {'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 13:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d89f56fed36f6206acb1306c5aac634490f80061', 'message': 'Set OS_ENDPOINT_TYPE to publicURL in public-openrc.sh\n\nChange-Id: I9d7f0bf7daa6d1abe31de0e76a508820ed123c28\nStory: 2007950\nTask: 40426\n'}, {'number': 2, 'created': '2020-07-23 13:43:50.000000000', 'files': ['ansible/roles/public-openrc/templates/public-openrc.sh.j2', 'releasenotes/notes/public-os-endpoint-type-a678a8ddc51ce3b1.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/271bc72dae91cd5d3e0cbf37f9c9931bbaec13f7', 'message': 'Set endpoint type variables to publicURL in public-openrc.sh\n\nChange-Id: I9d7f0bf7daa6d1abe31de0e76a508820ed123c28\nStory: 2007950\nTask: 40426\n'}]",0,742669,271bc72dae91cd5d3e0cbf37f9c9931bbaec13f7,10,4,2,15197,,,0,"Set endpoint type variables to publicURL in public-openrc.sh

Change-Id: I9d7f0bf7daa6d1abe31de0e76a508820ed123c28
Story: 2007950
Task: 40426
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/69/742669/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/public-openrc/templates/public-openrc.sh.j2', 'releasenotes/notes/public-os-endpoint-type-a678a8ddc51ce3b1.yaml']",2,d89f56fed36f6206acb1306c5aac634490f80061,public-os-endpoint-type,"--- fixes: - | Changes the value of ``OS_ENDPOINT_TYPE`` in ``public-openrc.sh`` to use ``publicURL``, which should fix issues with legacy CLI tools on hosts without access to the internal API. See `story 2007950 <https://storyboard.openstack.org/#!/story/2007950>`__ for details. ",,9,0
openstack%2Fironic~master~Ie6e09ac66028cbe18717a7ea7a4c23730e3cb642,openstack/ironic,master,Ie6e09ac66028cbe18717a7ea7a4c23730e3cb642,Add an option to choose the hash ring algorithm,MERGED,2020-07-07 14:39:55.000000000,2020-07-23 17:39:49.000000000,2020-07-23 17:31:00.000000000,"[{'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-07 14:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d7ce07dad038222e9a32b820590cc637cc91ad88', 'message': '[WIP] Add an option to choose the hash ring algorithm\n\nMD5 is not available in FIPS mode, we need a way to use something else.\n\nTODO: update requirements.txt\n\nChange-Id: Ie6e09ac66028cbe18717a7ea7a4c23730e3cb642\nDepends-On: https://review.opendev.org/739725\n'}, {'number': 2, 'created': '2020-07-22 16:28:48.000000000', 'files': ['releasenotes/notes/hash-ring-algo-4337c18117b33070.yaml', 'requirements.txt', 'ironic/common/hash_ring.py', 'lower-constraints.txt', 'ironic/conf/default.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9189b4bb26f2f9bb2b39dffd5881eb2dd04af401', 'message': 'Add an option to choose the hash ring algorithm\n\nMD5 is not available in FIPS mode, we need a way to use something else.\n\nChange-Id: Ie6e09ac66028cbe18717a7ea7a4c23730e3cb642\n'}]",3,739779,9189b4bb26f2f9bb2b39dffd5881eb2dd04af401,26,8,2,10239,,,0,"Add an option to choose the hash ring algorithm

MD5 is not available in FIPS mode, we need a way to use something else.

Change-Id: Ie6e09ac66028cbe18717a7ea7a4c23730e3cb642
",git fetch https://review.opendev.org/openstack/ironic refs/changes/79/739779/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/hash-ring-algo-4337c18117b33070.yaml', 'ironic/common/hash_ring.py', 'ironic/conf/default.py']",3,d7ce07dad038222e9a32b820590cc637cc91ad88,hashring-md5,"import hashlib cfg.StrOpt('hash_ring_algorithm', default='md5', advanced=True, choices=hashlib.algorithms_guaranteed, help=_('Hash function to use when building the hash ring. ' 'If running on a FIPS system, do not use md5. ' 'WARNING: all ironic services in a cluster MUST use ' 'the same algorithm at all times. Changing the ' 'algorithm requires an offline update.')),",,19,1
openstack%2Frequirements~master~I95b5af56b6337b87455cd82d8913c590a4f8ac3c,openstack/requirements,master,I95b5af56b6337b87455cd82d8913c590a4f8ac3c,update constraint for oslo.service to new release 2.3.2,MERGED,2020-07-23 09:39:11.000000000,2020-07-23 17:37:04.000000000,2020-07-23 17:34:12.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 09:39:11.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a98da705239521c9456f34bda0dcc373451069f2', 'message': 'update constraint for oslo.service to new release 2.3.2\n\nChange-Id: I95b5af56b6337b87455cd82d8913c590a4f8ac3c\nmeta:version: 2.3.2\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I3412422241f78b28eded22412300b6b7df09f726\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,742628,a98da705239521c9456f34bda0dcc373451069f2,8,2,1,11131,,,0,"update constraint for oslo.service to new release 2.3.2

Change-Id: I95b5af56b6337b87455cd82d8913c590a4f8ac3c
meta:version: 2.3.2
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: I3412422241f78b28eded22412300b6b7df09f726
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/28/742628/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a98da705239521c9456f34bda0dcc373451069f2,new-release,oslo.service===2.3.2,oslo.service===2.3.1,1,1
openstack%2Frequirements~master~Ibfdae9e6e2d85f2964733ff7e94ab2f42da6ebaa,openstack/requirements,master,Ibfdae9e6e2d85f2964733ff7e94ab2f42da6ebaa,update constraint for osprofiler to new release 3.3.0,MERGED,2020-07-23 09:15:06.000000000,2020-07-23 17:35:42.000000000,2020-07-23 17:34:06.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 09:15:06.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/62858bc22b0a72f71cbf5fcbd8512965f7311593', 'message': 'update constraint for osprofiler to new release 3.3.0\n\nChange-Id: Ibfdae9e6e2d85f2964733ff7e94ab2f42da6ebaa\nmeta:version: 3.3.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I3412422241f78b28eded22412300b6b7df09f726\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,742615,62858bc22b0a72f71cbf5fcbd8512965f7311593,8,2,1,11131,,,0,"update constraint for osprofiler to new release 3.3.0

Change-Id: Ibfdae9e6e2d85f2964733ff7e94ab2f42da6ebaa
meta:version: 3.3.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: I3412422241f78b28eded22412300b6b7df09f726
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/15/742615/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,62858bc22b0a72f71cbf5fcbd8512965f7311593,new-release,osprofiler===3.3.0,osprofiler===3.2.2,1,1
openstack%2Frequirements~master~I4e90fbd5b818db6c0e35a05e1d67e6a5e0c33913,openstack/requirements,master,I4e90fbd5b818db6c0e35a05e1d67e6a5e0c33913,update constraint for oslo.vmware to new release 3.6.0,MERGED,2020-07-23 09:23:02.000000000,2020-07-23 17:34:11.000000000,2020-07-23 17:34:11.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 09:23:02.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/31697d886b09472438ac3df31352ce32abd1fd92', 'message': 'update constraint for oslo.vmware to new release 3.6.0\n\nChange-Id: I4e90fbd5b818db6c0e35a05e1d67e6a5e0c33913\nmeta:version: 3.6.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I3412422241f78b28eded22412300b6b7df09f726\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,742622,31697d886b09472438ac3df31352ce32abd1fd92,7,2,1,11131,,,0,"update constraint for oslo.vmware to new release 3.6.0

Change-Id: I4e90fbd5b818db6c0e35a05e1d67e6a5e0c33913
meta:version: 3.6.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: I3412422241f78b28eded22412300b6b7df09f726
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/22/742622/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,31697d886b09472438ac3df31352ce32abd1fd92,new-release,oslo.vmware===3.6.0,oslo.vmware===3.5.0,1,1
openstack%2Frequirements~master~I8b560a568eaa621693f61a5d0a2259b0e892a029,openstack/requirements,master,I8b560a568eaa621693f61a5d0a2259b0e892a029,update constraint for oslo.utils to new release 4.3.0,MERGED,2020-07-23 09:17:01.000000000,2020-07-23 17:34:09.000000000,2020-07-23 17:34:09.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 09:17:01.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3e7f7dd892da57a6069e394e569ead608b5e66e8', 'message': 'update constraint for oslo.utils to new release 4.3.0\n\nChange-Id: I8b560a568eaa621693f61a5d0a2259b0e892a029\nmeta:version: 4.3.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I3412422241f78b28eded22412300b6b7df09f726\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,742617,3e7f7dd892da57a6069e394e569ead608b5e66e8,7,2,1,11131,,,0,"update constraint for oslo.utils to new release 4.3.0

Change-Id: I8b560a568eaa621693f61a5d0a2259b0e892a029
meta:version: 4.3.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: I3412422241f78b28eded22412300b6b7df09f726
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/17/742617/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3e7f7dd892da57a6069e394e569ead608b5e66e8,new-release,oslo.utils===4.3.0,oslo.utils===4.2.2,1,1
openstack%2Frequirements~master~I8376954701a4a9efa5990b0d8dafd47d2cef159b,openstack/requirements,master,I8376954701a4a9efa5990b0d8dafd47d2cef159b,update constraint for openstack-doc-tools to new release 3.2.0,MERGED,2020-07-23 09:16:20.000000000,2020-07-23 17:34:08.000000000,2020-07-23 17:34:08.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 09:16:20.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b53f69f36aaa4da454c6e71abe550dd9ede546ab', 'message': 'update constraint for openstack-doc-tools to new release 3.2.0\n\nChange-Id: I8376954701a4a9efa5990b0d8dafd47d2cef159b\nmeta:version: 3.2.0\nmeta:diff-start: -\nmeta:series: independent\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I3412422241f78b28eded22412300b6b7df09f726\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,742616,b53f69f36aaa4da454c6e71abe550dd9ede546ab,7,2,1,11131,,,0,"update constraint for openstack-doc-tools to new release 3.2.0

Change-Id: I8376954701a4a9efa5990b0d8dafd47d2cef159b
meta:version: 3.2.0
meta:diff-start: -
meta:series: independent
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: I3412422241f78b28eded22412300b6b7df09f726
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/16/742616/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b53f69f36aaa4da454c6e71abe550dd9ede546ab,new-release,openstack-doc-tools===3.2.0,openstack-doc-tools===3.1.0,1,1
openstack%2Fkayobe~stable%2Fussuri~Icf64b15e58c84f31a11cdefcdb79558b58737da1,openstack/kayobe,stable/ussuri,Icf64b15e58c84f31a11cdefcdb79558b58737da1,Update seed VM image to CentOS 8.2,MERGED,2020-07-22 14:45:48.000000000,2020-07-23 17:30:25.000000000,2020-07-23 17:28:03.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 14:45:48.000000000', 'files': ['ansible/group_vars/all/seed-vm', 'releasenotes/notes/seed-vm-centos-8.2-36b7a480a7725da1.yaml', 'etc/kayobe/seed-vm.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9bbea8ebbbcc763406ccef195ab546edcada8502', 'message': ""Update seed VM image to CentOS 8.2\n\nIf using a CentOS 8.2 bifrost_deploy image on a CentOS 8.1 seed host, we\nmay see an error such as the following:\n\n    TASK [Ensure the overcloud host image has bogus name server entries removed]\n    fatal: [seed]: FAILED!\n\nRunning virt-customize with more debug in the Bifrost container, we see\nthis output:\n\nqemu-kvm: error: failed to set MSR 0x48e to 0xfff9fffe04006172\nqemu-kvm: /builddir/build/BUILD/qemu-4.2.0/target/i386/kvm.c:2695: kvm_buf_set_msrs: Assertion `ret == cpu->kvm_msr_buf->nmsrs' failed.\n\nThis appears to be an incompatibility between qemu/libvirt in CentOS 8.1\nand 8.2.\n\nThis change fixes the issue for new deployments by updating the seed VM\nimage to CentOS 8.2.  Existing deployments will need to update packages\non the seed host to match the bifrost_deploy container.\n\nChange-Id: Icf64b15e58c84f31a11cdefcdb79558b58737da1\nStory: 2007942\nTask: 40407\n(cherry picked from commit f618a2c4b823023c45aeb75df498b514f9483782)\n""}]",0,742453,9bbea8ebbbcc763406ccef195ab546edcada8502,8,3,1,14826,,,0,"Update seed VM image to CentOS 8.2

If using a CentOS 8.2 bifrost_deploy image on a CentOS 8.1 seed host, we
may see an error such as the following:

    TASK [Ensure the overcloud host image has bogus name server entries removed]
    fatal: [seed]: FAILED!

Running virt-customize with more debug in the Bifrost container, we see
this output:

qemu-kvm: error: failed to set MSR 0x48e to 0xfff9fffe04006172
qemu-kvm: /builddir/build/BUILD/qemu-4.2.0/target/i386/kvm.c:2695: kvm_buf_set_msrs: Assertion `ret == cpu->kvm_msr_buf->nmsrs' failed.

This appears to be an incompatibility between qemu/libvirt in CentOS 8.1
and 8.2.

This change fixes the issue for new deployments by updating the seed VM
image to CentOS 8.2.  Existing deployments will need to update packages
on the seed host to match the bifrost_deploy container.

Change-Id: Icf64b15e58c84f31a11cdefcdb79558b58737da1
Story: 2007942
Task: 40407
(cherry picked from commit f618a2c4b823023c45aeb75df498b514f9483782)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/53/742453/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/seed-vm', 'releasenotes/notes/seed-vm-centos-8.2-36b7a480a7725da1.yaml', 'etc/kayobe/seed-vm.yml']",3,9bbea8ebbbcc763406ccef195ab546edcada8502,,"# ""https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.2.2004-20200611.2.x86_64.qcow2"".","# ""https://cloud.centos.org/centos/8/x86_64/images/CentOS-8-GenericCloud-8.1.1911-20200113.3.x86_64.qcow2"".",13,2
openstack%2Fopenstack-ansible~master~I6cfd63e0bac08c769cf59734b84b9f21f6db9250,openstack/openstack-ansible,master,I6cfd63e0bac08c769cf59734b84b9f21f6db9250,Remove fastest-infra-wheel-mirror.py,MERGED,2020-07-21 08:29:40.000000000,2020-07-23 17:29:52.000000000,2020-07-23 17:26:27.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-21 08:29:40.000000000', 'files': ['scripts/fastest-infra-wheel-mirror.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b7b1e47f2099d3180d1c91a6c3b073170f7d3be4', 'message': 'Remove fastest-infra-wheel-mirror.py\n\nThis is not used anywhere so we can remove it.\n\nChange-Id: I6cfd63e0bac08c769cf59734b84b9f21f6db9250\n'}]",0,742099,b7b1e47f2099d3180d1c91a6c3b073170f7d3be4,12,4,1,25023,,,0,"Remove fastest-infra-wheel-mirror.py

This is not used anywhere so we can remove it.

Change-Id: I6cfd63e0bac08c769cf59734b84b9f21f6db9250
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/99/742099/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/fastest-infra-wheel-mirror.py'],1,b7b1e47f2099d3180d1c91a6c3b073170f7d3be4,,,"#!/usr/bin/env python # # Copyright 2016, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # # (c) 2016, Jesse Pretorius <jesse.pretorius@rackspace.co.uk> # # Based on the mirror test script posted at # http://code.activestate.com/recipes/284631-a-python-script-to-test-download-mirrors/ import platform import Queue import re import threading import time import urllib HTTP_TIMEOUT = 10.0 # Max. seconds to wait for a response HTTP_TITLE = ""Wheel Index"" # HTTP Title to look for to validate the page MAX_THREADS = 10 MIRROR_LIST = [ ""http://mirror.dfw.rax.openstack.org/wheel/"", ""http://mirror.ord.rax.openstack.org/wheel/"", ""http://mirror.iad.rax.openstack.org/wheel/"", ""http://mirror.gra1.ovh.openstack.org/wheel/"", ""http://mirror.bhs1.ovh.openstack.org/wheel/"", ""http://mirror.sjc1.bluebox.openstack.org/wheel/"", ""http://mirror.nyj01.internap.openstack.org/wheel/"", ""http://mirror.regionone.infracloud-chocolate.openstack.org/wheel/"", ""http://mirror.regionone.infracloud-vanilla.openstack.org/wheel/"", ""http://mirror.kna1.citycloud.openstack.org/wheel/"", ""http://mirror.la1.citycloud.openstack.org/wheel/"", ""http://mirror.lon1.citycloud.openstack.org/wheel/"", ""http://mirror.sto2.citycloud.openstack.org/wheel/"" ] def TestUrl(workQueue, resultQueue): '''Worker thread procedure. Test how long it takes to return the mirror index page, then return the results into resultQueue. ''' def SubthreadProc(url, result): '''Subthread procedure. Actually get the mirror index page in a subthread, so that we can time out using join rather than wait for a very slow server. Passing in a list for result lets us simulate pass-by-reference, since callers cannot get the return code from a Python thread. ''' startTime = time.time() try: data = urllib.urlopen(url).read() except Exception: # Could be a socket error or an HTTP error--either way, we # don't care--it's a failure to us. result.append(-1) else: if not CheckTitle(data): result.append(-1) else: elapsed = int((time.time() - startTime) * 1000) result.append(elapsed) def CheckTitle(html): '''Check that the HTML title is the expected value. Check the HTML returned for the presence of a specified title. This caters for a situation where a service provider may be redirecting DNS resolution failures to a web search page, or where the returned data is invalid in some other way. ''' titleRegex = re.compile(""<title>(.+?)</title>"") try: title = titleRegex.search(html).group(1) except Exception: # If there is no match, then we consider it a failure. result.append(-1) else: if title == HTTP_TITLE: return True else: return False while 1: # Continue pulling data from the work queue until it's empty try: url = workQueue.get(0) except Queue.Empty: # work queue is empty--exit the thread proc. return # Create a single subthread to do the actual work result = [] subThread = threading.Thread(target=SubthreadProc, args=(url, result)) # Daemonize the subthread so that even if a few are hanging # around when the process is done, the process will exit. subThread.setDaemon(True) # Run the subthread and wait for it to finish, or time out subThread.start() subThread.join(HTTP_TIMEOUT) if [] == result: # Subthread hasn't give a result yet. Consider it timed out. resultQueue.put((url, ""TIMEOUT"")) elif -1 == result[0]: # Subthread returned an error from geturl. resultQueue.put((url, ""FAILED"")) else: # Subthread returned a time. Store it. resultQueue.put((url, result[0])) # Set the number of threads to use numThreads = min(MAX_THREADS, len(MIRROR_LIST)) # Build a queue to feed the worker threads workQueue = Queue.Queue() for url in MIRROR_LIST: # Build the complete URL distro = platform.linux_distribution()[0].split(' ')[0].lower() if distro == 'centos': version = platform.linux_distribution()[1].split('.')[0] else: version = platform.linux_distribution()[1] architecture = platform.machine() fullUrl = url + distro + ""-"" + version + ""-"" + architecture + ""/"" workQueue.put(fullUrl) workers = [] resultQueue = Queue.Queue() # Create worker threads to load-balance the retrieval for threadNum in range(0, numThreads): workers.append(threading.Thread(target=TestUrl, args=(workQueue, resultQueue))) workers[-1].start() # Wait for all the workers to finish for w in workers: w.join() # Separate the successes from failures timings = [] failures = [] while not resultQueue.empty(): url, result = resultQueue.get(0) if isinstance(result, str): failures.append((result, url)) else: timings.append((result, url)) # Sort by increasing time or result string timings.sort() failures.sort() # If all results are failed, then exit silently if len(timings) > 0: # Print out the fastest mirror URL print(timings[0][1]) ",0,181
openstack%2Fkayobe~stable%2Ftrain~Icf64b15e58c84f31a11cdefcdb79558b58737da1,openstack/kayobe,stable/train,Icf64b15e58c84f31a11cdefcdb79558b58737da1,Update seed VM image to CentOS 8.2,MERGED,2020-07-22 14:48:45.000000000,2020-07-23 17:29:33.000000000,2020-07-23 17:28:08.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 14:48:45.000000000', 'files': ['doc/source/centos8.rst', 'releasenotes/notes/seed-vm-centos-8.2-36b7a480a7725da1.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0ce229866d8b0cc773c39eb9d70383d895a0cefc', 'message': ""Update seed VM image to CentOS 8.2\n\nBackport note: This patch only updates documentation, since we use\nCentOS 7 by default in Train.\n\nIf using a CentOS 8.2 bifrost_deploy image on a CentOS 8.1 seed host, we\nmay see an error such as the following:\n\n    TASK [Ensure the overcloud host image has bogus name server entries removed]\n    fatal: [seed]: FAILED!\n\nRunning virt-customize with more debug in the Bifrost container, we see\nthis output:\n\nqemu-kvm: error: failed to set MSR 0x48e to 0xfff9fffe04006172\nqemu-kvm: /builddir/build/BUILD/qemu-4.2.0/target/i386/kvm.c:2695: kvm_buf_set_msrs: Assertion `ret == cpu->kvm_msr_buf->nmsrs' failed.\n\nThis appears to be an incompatibility between qemu/libvirt in CentOS 8.1\nand 8.2.\n\nThis change fixes the issue for new deployments by updating the seed VM\nimage to CentOS 8.2.  Existing deployments will need to update packages\non the seed host to match the bifrost_deploy container.\n\nChange-Id: Icf64b15e58c84f31a11cdefcdb79558b58737da1\nStory: 2007942\nTask: 40407\n(cherry picked from commit f618a2c4b823023c45aeb75df498b514f9483782)\n""}]",0,742455,0ce229866d8b0cc773c39eb9d70383d895a0cefc,8,3,1,14826,,,0,"Update seed VM image to CentOS 8.2

Backport note: This patch only updates documentation, since we use
CentOS 7 by default in Train.

If using a CentOS 8.2 bifrost_deploy image on a CentOS 8.1 seed host, we
may see an error such as the following:

    TASK [Ensure the overcloud host image has bogus name server entries removed]
    fatal: [seed]: FAILED!

Running virt-customize with more debug in the Bifrost container, we see
this output:

qemu-kvm: error: failed to set MSR 0x48e to 0xfff9fffe04006172
qemu-kvm: /builddir/build/BUILD/qemu-4.2.0/target/i386/kvm.c:2695: kvm_buf_set_msrs: Assertion `ret == cpu->kvm_msr_buf->nmsrs' failed.

This appears to be an incompatibility between qemu/libvirt in CentOS 8.1
and 8.2.

This change fixes the issue for new deployments by updating the seed VM
image to CentOS 8.2.  Existing deployments will need to update packages
on the seed host to match the bifrost_deploy container.

Change-Id: Icf64b15e58c84f31a11cdefcdb79558b58737da1
Story: 2007942
Task: 40407
(cherry picked from commit f618a2c4b823023c45aeb75df498b514f9483782)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/55/742455/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/centos8.rst', 'releasenotes/notes/seed-vm-centos-8.2-36b7a480a7725da1.yaml']",2,0ce229866d8b0cc773c39eb9d70383d895a0cefc,,"--- features: - | Updates the default image for the seed VM to CentOS 8.2. fixes: - | Fixes an issue with seed service deployment where modifying the overcloud image fails on a CentOS 8.1 host with a CentOS 8.2 ``bifrost_deploy`` container, by updating the default image for the seed VM to CentOS 8.2. See `story 2007942 <https://storyboard.openstack.org/#!/story/2007942>`__ for details. ",,12,1
openstack%2Frequirements~master~I156c8c5c470f4c700be35bdcdbd2a51602ba5d9f,openstack/requirements,master,I156c8c5c470f4c700be35bdcdbd2a51602ba5d9f,update constraint for oslo.config to new release 8.3.0,MERGED,2020-07-23 09:12:37.000000000,2020-07-23 17:25:40.000000000,2020-07-23 17:22:07.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-23 09:12:37.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/27261ef3bb6548f9016d6ec8477de37f9d0e53e1', 'message': 'update constraint for oslo.config to new release 8.3.0\n\nChange-Id: I156c8c5c470f4c700be35bdcdbd2a51602ba5d9f\nmeta:version: 8.3.0\nmeta:diff-start: -\nmeta:series: victoria\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: I3412422241f78b28eded22412300b6b7df09f726\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,742614,27261ef3bb6548f9016d6ec8477de37f9d0e53e1,8,2,1,11131,,,0,"update constraint for oslo.config to new release 8.3.0

Change-Id: I156c8c5c470f4c700be35bdcdbd2a51602ba5d9f
meta:version: 8.3.0
meta:diff-start: -
meta:series: victoria
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: I3412422241f78b28eded22412300b6b7df09f726
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/14/742614/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,27261ef3bb6548f9016d6ec8477de37f9d0e53e1,new-release,oslo.config===8.3.0,oslo.config===8.2.0,1,1
openstack%2Fpython-zaqarclient~master~I95e8d9564cda2e6a06a3f40b0de6991acb07dd4c,openstack/python-zaqarclient,master,I95e8d9564cda2e6a06a3f40b0de6991acb07dd4c,Use unittest.mock instead of mock,NEW,2020-06-09 10:06:13.000000000,2020-07-23 17:25:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-06-09 10:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/a35f6872718e44d9c156e8a2cae0f7852d0f9ad6', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I95e8d9564cda2e6a06a3f40b0de6991acb07dd4c\n'}, {'number': 2, 'created': '2020-06-09 18:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/9f99d95883c63d9fa3ea768273e4325f91597f9a', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I95e8d9564cda2e6a06a3f40b0de6991acb07dd4c\n'}, {'number': 3, 'created': '2020-06-10 08:49:17.000000000', 'files': ['zaqarclient/tests/queues/claims.py', 'tests/unit/queues/v1/test_core.py', 'zaqarclient/tests/queues/flavor.py', 'zaqarclient/tests/queues/subscriptions.py', 'test-requirements.txt', 'zaqarclient/tests/queues/base.py', 'tests/unit/cli/fakes.py', 'tests/unit/queues/v1/test_client.py', 'tests/unit/queues/v2/test_message.py', 'lower-constraints.txt', 'zaqarclient/tests/queues/queues.py', 'tests/unit/queues/v1/test_message.py', 'zaqarclient/tests/queues/health.py', 'zaqarclient/tests/queues/messages.py', 'requirements.txt', 'tests/unit/transport/test_ws.py', 'tests/unit/transport/test_http.py', 'tests/unit/auth/test_keystone.py', 'tests/unit/common/test_http.py', 'tests/unit/queues/v2/test_client.py', 'zaqarclient/tests/queues/pool.py'], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/1cf4b714aa8b7befc8abd6cb18f058478defa795', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nAlso osc-lib must be cap to 2.1.0 to fix the lower-constraints job issue\nand stop to use mock on osc-lib [1] too.\n\n[1] https://github.com/openstack/osc-lib/commit/2d98486d0619c0729f3962d9c0db50d9ef156a50\n\nChange-Id: I95e8d9564cda2e6a06a3f40b0de6991acb07dd4c\n'}]",4,734531,1cf4b714aa8b7befc8abd6cb18f058478defa795,7,2,3,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Also osc-lib must be cap to 2.1.0 to fix the lower-constraints job issue
and stop to use mock on osc-lib [1] too.

[1] https://github.com/openstack/osc-lib/commit/2d98486d0619c0729f3962d9c0db50d9ef156a50

Change-Id: I95e8d9564cda2e6a06a3f40b0de6991acb07dd4c
",git fetch https://review.opendev.org/openstack/python-zaqarclient refs/changes/31/734531/2 && git format-patch -1 --stdout FETCH_HEAD,"['zaqarclient/tests/queues/claims.py', 'tests/unit/queues/v1/test_core.py', 'zaqarclient/tests/queues/flavor.py', 'zaqarclient/tests/queues/subscriptions.py', 'test-requirements.txt', 'zaqarclient/tests/queues/base.py', 'tests/unit/cli/fakes.py', 'tests/unit/queues/v1/test_client.py', 'tests/unit/queues/v2/test_message.py', 'lower-constraints.txt', 'zaqarclient/tests/queues/queues.py', 'tests/unit/queues/v1/test_message.py', 'zaqarclient/tests/queues/health.py', 'zaqarclient/tests/queues/messages.py', 'tests/unit/transport/test_ws.py', 'tests/unit/transport/test_http.py', 'tests/unit/auth/test_keystone.py', 'tests/unit/common/test_http.py', 'tests/unit/queues/v2/test_client.py', 'zaqarclient/tests/queues/pool.py']",20,a35f6872718e44d9c156e8a2cae0f7852d0f9ad6,drop_mock,from unittest import mock,import mock,18,20
openstack%2Fkuryr-kubernetes~master~I0e4e4ae569e9821c0da36c5821803bc96e9f3ccb,openstack/kuryr-kubernetes,master,I0e4e4ae569e9821c0da36c5821803bc96e9f3ccb,Refactor sriov binding driver,MERGED,2020-07-21 09:40:51.000000000,2020-07-23 17:14:29.000000000,2020-07-23 17:11:45.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}, {'_account_id': 25900}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-07-21 09:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3376b68ba995c58f57cd30e41206cac27d3d27b2', 'message': 'Refactor sriov binding driver\n\nThis commit reduces some redundancy in sriov\nbinding driver and makes some optimizations\n\nChange-Id: I0e4e4ae569e9821c0da36c5821803bc96e9f3ccb\nSigned-off-by: Danil Golov <d.golov@samsung.com>\n'}, {'number': 2, 'created': '2020-07-23 06:49:04.000000000', 'files': ['kuryr_kubernetes/tests/unit/cni/test_binding.py', 'kuryr_kubernetes/cni/binding/sriov.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2761a21e9b9c9d6abe5156aaf505b2260182c718', 'message': 'Refactor sriov binding driver\n\nThis commit reduces some redundancy in sriov\nbinding driver and makes some optimizations\n\nChange-Id: I0e4e4ae569e9821c0da36c5821803bc96e9f3ccb\nSigned-off-by: Danil Golov <d.golov@samsung.com>\n'}]",11,742114,2761a21e9b9c9d6abe5156aaf505b2260182c718,18,7,2,24604,,,0,"Refactor sriov binding driver

This commit reduces some redundancy in sriov
binding driver and makes some optimizations

Change-Id: I0e4e4ae569e9821c0da36c5821803bc96e9f3ccb
Signed-off-by: Danil Golov <d.golov@samsung.com>
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/14/742114/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/cni/test_binding.py', 'kuryr_kubernetes/cni/binding/sriov.py']",2,3376b68ba995c58f57cd30e41206cac27d3d27b2,," resource_name = self._get_resource_by_physnet(vif.physnet) pod_devices = self._get_pod_devices(vif.pod_link) if res.name == vif.pod_name: ""No resources are discovered for pod {}"".format(vif.pod_name)) ""used by pod %s yet ..."", vif.pod_name) LOG.warning(""No devices in container %s"", container.name) pci_info = self._compute_pci(pci, driver, vif.pod_link, vif, ifname, netns) self._move_to_netns(ifname, netns, vif, vf_name, vf_index, pf) old_driver = driver self._annotate_device(pod_link, pci, old_driver, driver, vif.id) def _move_to_netns(self, ifname, netns, vif, vf_name, vf_index, pf): return pci_info = self._get_vf_pci_info(pci) def _get_vf_pci_info(self, pci): override = ""/sys/bus/pci/devices/{}/driver_override"".format(pci) pod_devices[pci] = { constants.K8S_ANNOTATION_OLD_DRIVER: old_driver, constants.K8S_ANNOTATION_CURRENT_DRIVER: new_driver, constants.K8S_ANNOTATION_NEUTRON_PORT: port_id } pod_devices = self._get_pod_devices(vif.pod_link) for pci, info in pod_devices.items(): if info[constants.K8S_ANNOTATION_NEUTRON_PORT] == vif.id: if (info[constants.K8S_ANNOTATION_OLD_DRIVER] != info[constants.K8S_ANNOTATION_CURRENT_DRIVER]): self._bind_device( pci, info[constants.K8S_ANNOTATION_OLD_DRIVER], info[constants.K8S_ANNOTATION_CURRENT_DRIVER] ) annot_name = self._make_annot_name(neutron_port) annot_name = self._make_annot_name(neutron_port) def _make_annot_name(self, neutron_port): annot_name = constants.K8S_ANNOTATION_NODE_PCI_DEVICE_INFO annot_name = annot_name.replace('/', '~1') annot_name = annot_name + '-' + neutron_port return annot_name "," pod_name = vif.pod_name pod_link = vif.pod_link physnet = vif.physnet resource_name = self._get_resource_by_physnet(physnet) pod_devices = self._get_pod_devices(pod_link) if res.name == pod_name: ""No resources are discovered for pod {}"".format(pod_name)) ""used by pod %s yet ..."", pod_name) LOG.warning(""No devices in container %s"", container.name) pci_info = self._compute_pci(pci, driver, pod_link, vif, ifname, netns) port_id = vif.id self._annotate_device(pod_link, pci, old_driver, driver, port_id) pci_info = self._move_to_netns(pci, ifname, netns, vif, vf_name, vf_index, pf, pci_info) self._annotate_device(pod_link, pci, driver, driver, port_id) def _move_to_netns(self, pci, ifname, netns, vif, vf_name, vf_index, pf, pci_info): return pci_info pci_info = self._get_vf_pci_info(pci, vf_name) def _get_vf_pci_info(self, pci, vf_name): override = ""/sys/bus/pci/devices/{}/driver_override"".format(pci) old_driver_title = constants.K8S_ANNOTATION_OLD_DRIVER current_driver_title = constants.K8S_ANNOTATION_CURRENT_DRIVER neutron_port_title = constants.K8S_ANNOTATION_NEUTRON_PORT pod_devices[pci] = {old_driver_title: old_driver, current_driver_title: new_driver, neutron_port_title: port_id} neutron_port_title = constants.K8S_ANNOTATION_NEUTRON_PORT old_driver_title = constants.K8S_ANNOTATION_OLD_DRIVER current_driver_title = constants.K8S_ANNOTATION_CURRENT_DRIVER pod_link = vif.pod_link pod_devices = self._get_pod_devices(pod_link) for pci, info in pod_devices.items(): if info[neutron_port_title] == vif.id: if info[old_driver_title] != info[current_driver_title]: self._bind_device(pci, info[old_driver_title], info[current_driver_title]) pci_slot = '' pci_vendor_info = '' annot_name = constants.K8S_ANNOTATION_NODE_PCI_DEVICE_INFO annot_name = annot_name.replace('/', '~1') annot_name = annot_name + '-' + neutron_port LOG.info('annot_name = %s', annot_name) annot_name = constants.K8S_ANNOTATION_NODE_PCI_DEVICE_INFO annot_name = annot_name.replace('/', '~1') annot_name = annot_name + '-' + neutron_port LOG.info('annot_name = %s', annot_name)",40,57
openstack%2Fironic~master~I8efa3a52188de558a7964d1daafd2225e102e251,openstack/ironic,master,I8efa3a52188de558a7964d1daafd2225e102e251,Extend PXE boot retry timeout for RAX hosts,MERGED,2020-07-22 17:38:02.000000000,2020-07-23 17:03:34.000000000,2020-07-23 16:54:38.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-22 17:38:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0a6601606d6a23661609f0790e9c94ed6d2d2ed2', 'message': ""Extend PXE boot retry timeout for RAX hosts\n\nWhen extending the timeouts for jobs to execute with-in,\nwe've observed a case where RAX hosts are cutting off at\nthe time limit of 900 seconds (as being asserted by another\nchange set). This is both good and bad. We know the timeout\nfeature works, but the agent was not quite online yet.\n\nAs such, we should also auto-extend base retry timeouts\nso there is hope for the job to complete.\n\nChange-Id: I8efa3a52188de558a7964d1daafd2225e102e251\n""}, {'number': 2, 'created': '2020-07-22 17:41:15.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/67e51af6d55b9a7aa91adfd132ad575373229468', 'message': ""Extend PXE boot retry timeout for RAX hosts\n\nWhen extending the timeouts for jobs to execute with-in,\nwe've observed a case where RAX hosts are cutting off at\nthe time limit of 900 seconds (as being asserted by another\nchange set). This is both good and bad. We know the timeout\nfeature works, but the agent was not quite online yet.\n\nAs such, we should also auto-extend base retry timeouts\nso there is hope for the job to complete.\n\nChange-Id: I8efa3a52188de558a7964d1daafd2225e102e251\n""}]",0,742501,67e51af6d55b9a7aa91adfd132ad575373229468,13,5,2,11655,,,0,"Extend PXE boot retry timeout for RAX hosts

When extending the timeouts for jobs to execute with-in,
we've observed a case where RAX hosts are cutting off at
the time limit of 900 seconds (as being asserted by another
change set). This is both good and bad. We know the timeout
feature works, but the agent was not quite online yet.

As such, we should also auto-extend base retry timeouts
so there is hope for the job to complete.

Change-Id: I8efa3a52188de558a7964d1daafd2225e102e251
",git fetch https://review.opendev.org/openstack/ironic refs/changes/01/742501/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,0a6601606d6a23661609f0790e9c94ed6d2d2ed2,," if [ -n ""$IRONIC_PXE_BOOT_RETRY_TIMEOUT"" ]; then new_timeout=$(echo ""$IRONIC_PXE_BOOT_RETRY_TIMEOUT * 1.5 / 1"" | bc) IRONIC_PXE_BOOT_RETRY_TIMEOUT=$new_timeout fi # TODO(TheJulia): If we have to do magically extend timeouts again, # we should make a helper method...",,7,0
openstack%2Foslo.cache~master~I8bce844a47a2af7abf2069bb8105eb7832c678e3,openstack/oslo.cache,master,I8bce844a47a2af7abf2069bb8105eb7832c678e3,Bump bandit version,MERGED,2020-07-22 13:56:34.000000000,2020-07-23 16:37:11.000000000,2020-07-23 16:35:20.000000000,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-22 13:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/cc5ea8e332e53b72d08c3d2ea75d1ae5e4ebd4d4', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: I8bce844a47a2af7abf2069bb8105eb7832c678e3\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}, {'number': 2, 'created': '2020-07-22 15:22:47.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/e36ae6ce650e3e022f9f7f1f8eecbed2cd87c3af', 'message': 'Bump bandit version\n\nThis patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to\navoid the errors detailed here https://github.com/PyCQA/bandit/pull/393\n\nChange-Id: I8bce844a47a2af7abf2069bb8105eb7832c678e3\nSigned-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>\n'}]",1,742436,e36ae6ce650e3e022f9f7f1f8eecbed2cd87c3af,14,4,2,27954,,,0,"Bump bandit version

This patch bumps bandit allowed version to >=1.6.0,<1.7.0 in order to
avoid the errors detailed here https://github.com/PyCQA/bandit/pull/393

Change-Id: I8bce844a47a2af7abf2069bb8105eb7832c678e3
Signed-off-by: Moisés Guimarães de Medeiros <moguimar@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/36/742436/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,cc5ea8e332e53b72d08c3d2ea75d1ae5e4ebd4d4,I8bce844a47a2af7abf2069bb8105eb7832c678e3,"bandit>=1.6.0,<1.7.0 # Apache-2.0pre-commit>=2.6.0 # MIT","bandit>=1.1.0,<1.6.0 # Apache-2.0",2,1
openstack%2Freleases~master~Ib0e3e1a01717cf2bf685cf11e23ad96717e5cff3,openstack/releases,master,Ib0e3e1a01717cf2bf685cf11e23ad96717e5cff3,Octavia: EOL Queens branch,MERGED,2020-04-10 20:18:05.000000000,2020-07-23 16:34:31.000000000,2020-07-23 16:34:31.000000000,"[{'_account_id': 308}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-04-10 20:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b87341ce6b8ae70f2faa16ed35828b786d76176a', 'message': 'Octavia: EOL Queens branch\n\nThis has been announced on the ML and should be merged April 17, 2020.\n\nChange-Id: Ib0e3e1a01717cf2bf685cf11e23ad96717e5cff3\n'}, {'number': 2, 'created': '2020-04-24 07:47:14.000000000', 'files': ['deliverables/queens/octavia.yaml', 'deliverables/queens/python-octaviaclient.yaml', 'deliverables/queens/octavia-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c39b46d6d64b8a5afe0d9ea96c886257a30c379b', 'message': 'Octavia: EOL Queens branch\n\nThis has been announced on the ML and should be merged April 17, 2020.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2020-April/014057.html\n\nChange-Id: Ib0e3e1a01717cf2bf685cf11e23ad96717e5cff3\n'}]",2,719099,c39b46d6d64b8a5afe0d9ea96c886257a30c379b,20,8,2,10273,,,0,"Octavia: EOL Queens branch

This has been announced on the ML and should be merged April 17, 2020.

http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014057.html

Change-Id: Ib0e3e1a01717cf2bf685cf11e23ad96717e5cff3
",git fetch https://review.opendev.org/openstack/releases refs/changes/99/719099/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/queens/octavia.yaml', 'deliverables/queens/python-octaviaclient.yaml', 'deliverables/queens/octavia-dashboard.yaml']",3,b87341ce6b8ae70f2faa16ed35828b786d76176a,, - version: queens-eol projects: - repo: openstack/octavia-dashboard hash: cb757c2fbe26782eb6aad799cc085e2e3c335849,,12,0
openstack%2Freleases~master~Ic03af87408a0e8caefdd9b1d0b8f50d31c0991ae,openstack/releases,master,Ic03af87408a0e8caefdd9b1d0b8f50d31c0991ae,Octavia: EOL Rocky,MERGED,2020-07-15 16:42:38.000000000,2020-07-23 16:34:30.000000000,2020-07-23 16:34:30.000000000,"[{'_account_id': 308}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-15 16:42:38.000000000', 'files': ['deliverables/rocky/python-octaviaclient.yaml', 'deliverables/rocky/octavia-dashboard.yaml', 'deliverables/rocky/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cacbd3f85785ee00c692a091617034b82017e2af', 'message': ""Octavia: EOL Rocky\n\nEOL Rocky has been discussed on the openstack-discuss list [1] and on\nweekly Octavia project meetings.\n\nTesting on this branch has become less and less stable (Python 2 drop in\ndependent projects, broken devstack, etc). Community's interest in this\nbranch is very slim to non-existent, with no volunteers to keep it\nafloat.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014057.html\n\nChange-Id: Ic03af87408a0e8caefdd9b1d0b8f50d31c0991ae\n""}]",0,741272,cacbd3f85785ee00c692a091617034b82017e2af,8,5,1,6469,,,0,"Octavia: EOL Rocky

EOL Rocky has been discussed on the openstack-discuss list [1] and on
weekly Octavia project meetings.

Testing on this branch has become less and less stable (Python 2 drop in
dependent projects, broken devstack, etc). Community's interest in this
branch is very slim to non-existent, with no volunteers to keep it
afloat.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-April/014057.html

Change-Id: Ic03af87408a0e8caefdd9b1d0b8f50d31c0991ae
",git fetch https://review.opendev.org/openstack/releases refs/changes/72/741272/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/python-octaviaclient.yaml', 'deliverables/rocky/octavia-dashboard.yaml', 'deliverables/rocky/octavia.yaml']",3,cacbd3f85785ee00c692a091617034b82017e2af,, - version: rocky-eol projects: - repo: openstack/octavia hash: 126ad303ac998f2fa36de572bb37cb36f366913a,,12,0
openstack%2Foslo.config~master~Ic4b990a387d875a351c9f8e7eaaef726734ff305,openstack/oslo.config,master,Ic4b990a387d875a351c9f8e7eaaef726734ff305,Fix unit tests to work with stevedore > 2.0.1,MERGED,2020-07-23 05:37:19.000000000,2020-07-23 16:23:58.000000000,2020-07-23 16:21:54.000000000,"[{'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-23 05:37:19.000000000', 'files': ['oslo_config/tests/test_generator.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/a2652b3584da06e4c4ebe96261672309b01c1122', 'message': ""Fix unit tests to work with stevedore > 2.0.1\n\nstevedore has switched to importlib_metadata[1] and\nthis breaked unit test as the test relied on internal\nimplementation of it.\n\nInstead we should switch to mock NamedExtensionManager\nthat's what called by oslo_config.\n\n[1] https://review.opendev.org/#/c/739306/\n\nCloses-Bug: #1888208\nChange-Id: Ic4b990a387d875a351c9f8e7eaaef726734ff305\n""}]",0,742589,a2652b3584da06e4c4ebe96261672309b01c1122,8,4,1,13861,,,0,"Fix unit tests to work with stevedore > 2.0.1

stevedore has switched to importlib_metadata[1] and
this breaked unit test as the test relied on internal
implementation of it.

Instead we should switch to mock NamedExtensionManager
that's what called by oslo_config.

[1] https://review.opendev.org/#/c/739306/

Closes-Bug: #1888208
Change-Id: Ic4b990a387d875a351c9f8e7eaaef726734ff305
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/89/742589/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/tests/test_generator.py'],1,a2652b3584da06e4c4ebe96261672309b01c1122,bug/1888208," with mock.patch('stevedore.named.NamedExtensionManager', side_effect=FakeException()):"," fake_eps = mock.Mock(return_value=[fake_ep]) with mock.patch('pkg_resources.iter_entry_points', fake_eps):",2,2
openstack%2Fpython-ironic-inspector-client~master~I40f55794e416f456f1f3140ad69e9ec756be0c9b,openstack/python-ironic-inspector-client,master,I40f55794e416f456f1f3140ad69e9ec756be0c9b,Set min version of tox to 3.2.1,MERGED,2020-07-15 13:32:40.000000000,2020-07-23 16:21:46.000000000,2020-07-23 16:19:07.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-15 13:32:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/d53c27efaee82079e3c64b9ffec4c30c3c55e6e3', 'message': 'Set min version of tox to 3.2.1\n\nAs recommended, since version 3.2.0 tox switches pip invocations\nto use the module -m pip instead of direct invocation.\nWe set min version to 3.2.1 [1] to also fix the behavior of\n--parallel--safe-build\n\n[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10\n\nChange-Id: I40f55794e416f456f1f3140ad69e9ec756be0c9b\n'}]",0,741191,d53c27efaee82079e3c64b9ffec4c30c3c55e6e3,8,3,1,23851,,,0,"Set min version of tox to 3.2.1

As recommended, since version 3.2.0 tox switches pip invocations
to use the module -m pip instead of direct invocation.
We set min version to 3.2.1 [1] to also fix the behavior of
--parallel--safe-build

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10

Change-Id: I40f55794e416f456f1f3140ad69e9ec756be0c9b
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/91/741191/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d53c27efaee82079e3c64b9ffec4c30c3c55e6e3,tox-m-pip,minversion = 3.2.1,minversion = 3.1.0,1,1
openstack%2Fcharm-interface-keystone~master~I494feea5f3ef8706140ce712b1e025e52b0dfbd1,openstack/charm-interface-keystone,master,I494feea5f3ef8706140ce712b1e025e52b0dfbd1,Collapse available and available.auth,MERGED,2020-07-16 21:21:59.000000000,2020-07-23 16:17:02.000000000,2020-07-23 16:17:02.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-16 21:21:59.000000000', 'files': ['requires.py', 'unit_tests/test_requires.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-interface-keystone/commit/a48a1e826ac0a74ab05a16c441cda4e4b34b1241', 'message': 'Collapse available and available.auth\n\nMost reactive charms react on identity-service.available but the\ncurrent interface distinguishes between available and available.auth. It\nis somewhat assumed by most charms that identity-service.available is\nequivalent to identity-service.available.auth, as what charms are\nconcerned with is the ability to authenticate against the cloud.\n\nCollapse the difference between identity-service.available and\nidentity-service.available.auth.\n\nContinue to set identity-service.available.auth for any charms that may\nrely on it.\n\nChange-Id: I494feea5f3ef8706140ce712b1e025e52b0dfbd1\nCloses-Bug: #1818113\n'}]",0,741547,a48a1e826ac0a74ab05a16c441cda4e4b34b1241,8,4,1,20805,,,0,"Collapse available and available.auth

Most reactive charms react on identity-service.available but the
current interface distinguishes between available and available.auth. It
is somewhat assumed by most charms that identity-service.available is
equivalent to identity-service.available.auth, as what charms are
concerned with is the ability to authenticate against the cloud.

Collapse the difference between identity-service.available and
identity-service.available.auth.

Continue to set identity-service.available.auth for any charms that may
rely on it.

Change-Id: I494feea5f3ef8706140ce712b1e025e52b0dfbd1
Closes-Bug: #1818113
",git fetch https://review.opendev.org/openstack/charm-interface-keystone refs/changes/47/741547/1 && git format-patch -1 --stdout FETCH_HEAD,"['requires.py', 'unit_tests/test_requires.py', 'tox.ini']",3,a48a1e826ac0a74ab05a16c441cda4e4b34b1241,bug/1818113,[testenv:py3] basepython = python3 deps = -r{toxinidir}/test-requirements.txt commands = stestr run {posargs} ,,10,25
openstack%2Fcharm-swift-storage~master~Ib396a151250bb8d1733f9b5b9cab7eb506c9f6c6,openstack/charm-swift-storage,master,Ib396a151250bb8d1733f9b5b9cab7eb506c9f6c6,Add config option for fallocate_reserve,MERGED,2020-05-11 20:21:29.000000000,2020-07-23 16:03:44.000000000,2020-07-23 16:03:44.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 27944}]","[{'number': 1, 'created': '2020-05-11 20:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/42461f95fc542e35a3f69a579e7073401fce34d3', 'message': 'Add config option for fallocate_reserve\n\nIn order to prevent disks from filling up, add the option to configure\nfallocate_reserve parameter in account-server.conf,\ncontainer-server.conf, and object-server.conf, as described in\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nThis change adds the config option file-allocation-reserve with a\ndefault of 0.\n\nChange-Id: Ib396a151250bb8d1733f9b5b9cab7eb506c9f6c6\nCloses-Bug: 1872069\n'}, {'number': 2, 'created': '2020-07-22 21:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/ed24019eef8a378e95d38be2761651a88eebb52c', 'message': 'Add config option for fallocate_reserve\n\nIn order to prevent disks from filling up, add the option to configure\nfallocate_reserve parameter in account-server.conf,\ncontainer-server.conf, and object-server.conf, as described in\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nThis change adds the config option file-allocation-reserve with a\ndefault of 0.\n\nChange-Id: Ib396a151250bb8d1733f9b5b9cab7eb506c9f6c6\nCloses-Bug: 1872069\n'}, {'number': 3, 'created': '2020-07-22 21:30:23.000000000', 'files': ['templates/account-server.conf', 'unit_tests/test_swift_storage_context.py', 'lib/swift_storage_context.py', 'config.yaml', 'templates/container-server.conf', 'templates/object-server.conf'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/d31095d482b83a48f3f1724a48856b09cc2d5903', 'message': 'Add config option for fallocate_reserve\n\nIn order to prevent disks from filling up, add the option to configure\nfallocate_reserve parameter in account-server.conf,\ncontainer-server.conf, and object-server.conf, as described in\nhttps://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios\n\nThis change adds the config option file-allocation-reserve with a\ndefault of 0.\n\nChange-Id: Ib396a151250bb8d1733f9b5b9cab7eb506c9f6c6\nCloses-Bug: 1872069\n'}]",0,726944,d31095d482b83a48f3f1724a48856b09cc2d5903,16,5,3,25011,,,0,"Add config option for fallocate_reserve

In order to prevent disks from filling up, add the option to configure
fallocate_reserve parameter in account-server.conf,
container-server.conf, and object-server.conf, as described in
https://docs.openstack.org/swift/latest/admin_guide.html#preventing-disk-full-scenarios

This change adds the config option file-allocation-reserve with a
default of 0.

Change-Id: Ib396a151250bb8d1733f9b5b9cab7eb506c9f6c6
Closes-Bug: 1872069
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/44/726944/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/account-server.conf', 'unit_tests/test_swift_storage_context.py', 'lib/swift_storage_context.py', 'config.yaml', 'templates/container-server.conf', 'templates/object-server.conf']",6,42461f95fc542e35a3f69a579e7073401fce34d3,bug/1872069,{% if fallocate_reserve != 0 %} fallocate_reserve = {{ fallocate_reserve }} {% endif %},,19,0
openstack%2Fironic~master~I4e3b84fb652a74463b44c3ae6c75cdac4d2ab6db,openstack/ironic,master,I4e3b84fb652a74463b44c3ae6c75cdac4d2ab6db,Convert root path / to use plain JSON,MERGED,2020-07-09 01:26:48.000000000,2020-07-23 16:02:20.000000000,2020-07-23 15:45:04.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-09 01:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/73626cf04a3f9e72e32bd826db7bb21907d09196', 'message': ""Convert root path / to use plain JSON\n\nThis change replaces the Version and Root types with simple functions\nthat return data as a JSON dict.\n\nThe API path /v1/ also has a version attribute. This is handled by\nrelaxing the validation in the (ex-WSME) types so that a None type\nmeans that WSME shouldn't serialize that attribute to JSON because it\nalready is. This will allow old style type serialization to be mixed\nwith pure JSON during the transition period. Link types will be\nhandled this way in the next change in this series.\n\nChange-Id: I4e3b84fb652a74463b44c3ae6c75cdac4d2ab6db\nStory: 1651346\nTask: 10551\n""}, {'number': 2, 'created': '2020-07-09 23:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ca7b5e52883dd5a2e1f38e1a5fdd23935f8e1f8d', 'message': ""Convert root path / to use plain JSON\n\nThis change replaces the Version and Root types with simple functions\nthat return data as a JSON dict.\n\nThe API path /v1/ also has a version attribute. This is handled by\nrelaxing the validation in the (ex-WSME) types so that a None type\nmeans that WSME shouldn't serialize that attribute to JSON because it\nalready is. This will allow old style type serialization to be mixed\nwith pure JSON during the transition period. Link types will be\nhandled this way in the next change in this series.\n\nA new @expose decorator is defined in ironic.api.method which\ncurrently only needs to format exceptions. In the future it may also\ndo input validation.\n\nChange-Id: I4e3b84fb652a74463b44c3ae6c75cdac4d2ab6db\nStory: 1651346\nTask: 10551\n""}, {'number': 3, 'created': '2020-07-14 23:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1424b3a5292c2b3c796681dd3cc2122f7fa64064', 'message': ""Convert root path / to use plain JSON\n\nThis change replaces the Version and Root types with simple functions\nthat return data as a JSON dict.\n\nThe API path /v1/ also has a version attribute. This is handled by\nrelaxing the validation in the (ex-WSME) types so that a None type\nmeans that WSME shouldn't serialize that attribute to JSON because it\nalready is. This will allow old style type serialization to be mixed\nwith pure JSON during the transition period. Link types will be\nhandled this way later in this series.\n\nA new @expose decorator is defined in ironic.api.method which\ncurrently only needs to format exceptions. In the future it may also\ndo input validation.\n\nChange-Id: I4e3b84fb652a74463b44c3ae6c75cdac4d2ab6db\nStory: 1651346\nTask: 10551\n""}, {'number': 4, 'created': '2020-07-20 02:15:03.000000000', 'files': ['ironic/api/controllers/v1/__init__.py', 'ironic/api/controllers/version.py', 'ironic/tests/unit/api/test_hooks.py', 'ironic/api/controllers/root.py', 'ironic/api/method.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1e28a056b075e64998fe61069b398d68d1807794', 'message': 'Convert root path / to use plain JSON\n\nThis change replaces the Version and Root types with simple functions\nthat return data as a dict.\n\nA new @expose decorator is defined in ironic.api.method which\ncurrently only needs to format exceptions. In the future it may also\ndo input validation.\n\nChange-Id: I4e3b84fb652a74463b44c3ae6c75cdac4d2ab6db\nStory: 1651346\nTask: 10551\n'}]",5,740142,1e28a056b075e64998fe61069b398d68d1807794,33,7,4,4571,,,0,"Convert root path / to use plain JSON

This change replaces the Version and Root types with simple functions
that return data as a dict.

A new @expose decorator is defined in ironic.api.method which
currently only needs to format exceptions. In the future it may also
do input validation.

Change-Id: I4e3b84fb652a74463b44c3ae6c75cdac4d2ab6db
Story: 1651346
Task: 10551
",git fetch https://review.opendev.org/openstack/ironic refs/changes/42/740142/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/__init__.py', 'ironic/api/controllers/version.py', 'ironic/tests/unit/api/test_hooks.py', 'ironic/api/controllers/link.py', 'ironic/api/types.py', 'ironic/api/controllers/root.py']",6,73626cf04a3f9e72e32bd826db7bb21907d09196,story/1651346,"from ironic.api import method def root(): return { 'name': ""OpenStack Ironic API"", 'description': (""Ironic is an OpenStack project which aims to "" ""provision baremetal machines.""), 'default_version': version.default_version(), 'versions': version.all_versions() } @method.expose() def get(self): return root() if args[0] and args[0] != version.ID_VERSION1: args = [version.ID_VERSION1] + args","from ironic.api.controllers import basefrom ironic.api import expose class Root(base.Base): name = str """"""The name of the API"""""" description = str """"""Some information about this API"""""" versions = [version.Version] """"""Links to all the versions available in this API"""""" default_version = version.Version """"""A link to the default version of the API"""""" @staticmethod def convert(): root = Root() root.name = ""OpenStack Ironic API"" root.description = (""Ironic is an OpenStack project which aims to "" ""provision baremetal machines."") root.default_version = version.default_version() root.versions = [root.default_version] return root _versions = [version.ID_VERSION1] """"""All supported API versions"""""" _default_version = version.ID_VERSION1 """"""The default API version"""""" @expose.expose(Root) def get(self): # NOTE: The reason why convert() it's being called for every # request is because we need to get the host url from # the request object to make the links. return Root.convert() if args[0] and args[0] not in self._versions: args = [self._default_version] + args",56,80
openstack%2Fironic~master~Ibcf7860c4a67f0ec8747e5710d8c1ef7281573d1,openstack/ironic,master,Ibcf7860c4a67f0ec8747e5710d8c1ef7281573d1,Rename Response to PassthruResponse,MERGED,2020-07-20 02:15:03.000000000,2020-07-23 15:53:16.000000000,2020-07-23 15:45:01.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-20 02:15:03.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_utils.py', 'ironic/tests/unit/api/controllers/v1/test_expose.py', 'ironic/api/types.py', 'ironic/api/controllers/v1/utils.py', 'ironic/api/expose.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0ac40173257361bad7a1a93abebbbd559a70c32d', 'message': ""Rename Response to PassthruResponse\n\nThe Reponse type is only used to wrap passthru responses, so this\nchange renames it to PassthruResponse and changes how it is used to\nmake it more clear what is happening.\n\nThe 'return_type' and 'error' fields are removed as they are not used\nby passthru. Now that no Unset usage is required, future removal of\ncore WSME logic won't affect PassthruResponse.\n\nIf the passthru response has 'attach' set then the return\nvalue will be an io.BytesIO object which is handled by the expose\ndecorator. This is preferable to having utils.vendor_passthru have the\nside-effect of setting the pecan Response.app_iter - now all the\nresponse handling is done in the expose decorator.\n\nChange-Id: Ibcf7860c4a67f0ec8747e5710d8c1ef7281573d1\n""}]",1,741864,0ac40173257361bad7a1a93abebbbd559a70c32d,18,7,1,4571,,,0,"Rename Response to PassthruResponse

The Reponse type is only used to wrap passthru responses, so this
change renames it to PassthruResponse and changes how it is used to
make it more clear what is happening.

The 'return_type' and 'error' fields are removed as they are not used
by passthru. Now that no Unset usage is required, future removal of
core WSME logic won't affect PassthruResponse.

If the passthru response has 'attach' set then the return
value will be an io.BytesIO object which is handled by the expose
decorator. This is preferable to having utils.vendor_passthru have the
side-effect of setting the pecan Response.app_iter - now all the
response handling is done in the expose decorator.

Change-Id: Ibcf7860c4a67f0ec8747e5710d8c1ef7281573d1
",git fetch https://review.opendev.org/openstack/ironic refs/changes/64/741864/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/controllers/v1/test_utils.py', 'ironic/tests/unit/api/controllers/v1/test_expose.py', 'ironic/api/types.py', 'ironic/api/controllers/v1/utils.py', 'ironic/api/expose.py']",5,0ac40173257361bad7a1a93abebbbd559a70c32d,story/1651346,"from webob import static if isinstance(result, atypes.PassthruResponse): if callable(getattr(result.obj, 'read', None)): # Stream the files-like data directly to the response pecan.response.app_iter = static.FileIter(result.obj) return_type = None result = None else: result = result.obj"," if isinstance(result, atypes.Response): elif not isinstance(result.return_type, atypes.UnsetType): return_type = result.return_type result = result.obj",22,41
openstack%2Ftripleo-ansible~master~I97a6819574772835eb4a291b63bb05551fe4439a,openstack/tripleo-ansible,master,I97a6819574772835eb4a291b63bb05551fe4439a,tripleo_container_manage: start systemd services which would be stopped,MERGED,2020-07-22 13:19:16.000000000,2020-07-23 15:50:45.000000000,2020-07-23 15:50:44.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-22 13:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2730be6c7b53c0ed80edf1c67e2061f585d13a37', 'message': 'tripleo_container_manage: start systemd services which would be stopped\n\nIf an operator would have disabled or stopped the service, we make sure\nthat it is again enabled and started when a deployment occurs.\n\nWe also add test coverage for it in molecule.\n\nChange-Id: I97a6819574772835eb4a291b63bb05551fe4439a\n'}, {'number': 2, 'created': '2020-07-22 13:20:30.000000000', 'files': ['tripleo_ansible/ansible_plugins/action/container_systemd.py', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ddf494a16dd1f508fda3d46e2f7c8c7ab8d5d317', 'message': 'tripleo_container_manage: start systemd services which would be stopped\n\nIf an operator would have disabled or stopped the service, we make sure\nthat it is again enabled and started when a deployment occurs.\n\nWe also add test coverage for it in molecule.\n\nChange-Id: I97a6819574772835eb4a291b63bb05551fe4439a\n'}]",0,742425,ddf494a16dd1f508fda3d46e2f7c8c7ab8d5d317,12,5,2,3153,,,0,"tripleo_container_manage: start systemd services which would be stopped

If an operator would have disabled or stopped the service, we make sure
that it is again enabled and started when a deployment occurs.

We also add test coverage for it in molecule.

Change-Id: I97a6819574772835eb4a291b63bb05551fe4439a
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/25/742425/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/action/container_systemd.py', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml']",2,2730be6c7b53c0ed80edf1c67e2061f585d13a37,molecule/systemd,- name: Test systemd state on fedora container after a manual stop become: true hosts: all gather_facts: false vars: tripleo_container_manage_config: '/tmp/container-configs' tripleo_container_manage_debug: true tripleo_container_manage_config_patterns: '*.json' tripleo_container_manage_systemd_order: true tasks: - name: Stop systemd service for tripleo_fedora in a manual stop systemd: name: tripleo_fedora.service state: stopped enabled: false daemon_reload: true - include_role: name: tripleo_container_manage post_tasks: - name: Check if tripleo_fedora systemd service is active after a manual stop command: systemctl is-active --quiet tripleo_fedora register: tripleo_fedora_active_result - name: Assert that tripleo_fedora systemd service is active after a manual stop when: - not ansible_check_mode|bool assert: that: - tripleo_fedora_active_result.rc == 0 fail_msg: 'tripleo_fedora systemd service is not active after a manual stop' success_msg: 'tripleo_fedora systemd service is active after a manual stop' ,,57,5
openstack%2Fcharm-neutron-api~master~I588228c7de7974925e430aa7f80b6d83fda6b806,openstack/charm-neutron-api,master,I588228c7de7974925e430aa7f80b6d83fda6b806,Add support for Networking Arista mechanism driver,ABANDONED,2019-07-03 18:03:13.000000000,2020-07-23 15:48:24.000000000,,"[{'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 23969}]","[{'number': 1, 'created': '2019-07-03 18:03:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/8556bb22ca5d9528ba4eaffbe83ea5b566e01b94', 'message': 'Add support for Networking Arista mechanism driver\n\nThis change adds the capability  to support the integration of arista\nmechanism driver to ml2 plugin. It also allows adding the arista\nconfiguration file to the running neutron-server when the relation\nwith arista charm is established.\n\nChange-Id: I588228c7de7974925e430aa7f80b6d83fda6b806\nCloses-Bug: #1834243\n'}, {'number': 2, 'created': '2019-07-03 18:25:52.000000000', 'files': ['hooks/neutron_api_context.py', 'hooks/neutron_api_utils.py', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/9ff19e1600b89bf9a92196bf79d74bac27aaa929', 'message': 'Add support for Networking Arista mechanism driver\n\nThis change adds the capability  to support the integration of arista\nmechanism driver to ml2 plugin. It also allows adding the arista\nconfiguration file to the running neutron-server when the relation\nwith arista charm is established.\n\nChange-Id: I588228c7de7974925e430aa7f80b6d83fda6b806\nCloses-Bug: #1834243\n'}]",1,668969,9ff19e1600b89bf9a92196bf79d74bac27aaa929,18,6,2,23969,,,0,"Add support for Networking Arista mechanism driver

This change adds the capability  to support the integration of arista
mechanism driver to ml2 plugin. It also allows adding the arista
configuration file to the running neutron-server when the relation
with arista charm is established.

Change-Id: I588228c7de7974925e430aa7f80b6d83fda6b806
Closes-Bug: #1834243
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/69/668969/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/neutron_api_context.py', 'hooks/neutron_api_utils.py', 'config.yaml']",3,8556bb22ca5d9528ba4eaffbe83ea5b566e01b94,bug/1834243, enable-arista: type: boolean default: False description: Enable arista mechanism driver.,,13,0
openstack%2Fcharm-placement~master~Iebacf2ca0569975c39d5bcecbb8bffa7be9a308d,openstack/charm-placement,master,Iebacf2ca0569975c39d5bcecbb8bffa7be9a308d,Add TLS support and tests,MERGED,2020-07-22 17:30:41.000000000,2020-07-23 15:25:20.000000000,2020-07-23 15:25:20.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-22 17:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/be25475fd8ff74722b69000609f2354c309b5762', 'message': 'Add TLS support and tests\n\nThe Placement API service needs to be TLS-terminated much like other API\nservices.\n\nChange-Id: Iebacf2ca0569975c39d5bcecbb8bffa7be9a308d\nCloses-Bug: #1871650\n'}, {'number': 2, 'created': '2020-07-22 18:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/b13c0e3ab043ac7868b194592a1ad40cf7089c99', 'message': 'Add TLS support and tests\n\nThe Placement API service needs to be TLS-terminated much like other API\nservices.\n\nChange-Id: Iebacf2ca0569975c39d5bcecbb8bffa7be9a308d\nCloses-Bug: #1871650\n'}, {'number': 3, 'created': '2020-07-22 23:51:15.000000000', 'files': ['src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml', 'src/reactive/placement_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/8701afb1b3b6fa50b128d91c4390507f8d8e78a2', 'message': 'Add TLS support and tests\n\nThe Placement API service needs to be TLS-terminated much like other API\nservices.\n\nChange-Id: Iebacf2ca0569975c39d5bcecbb8bffa7be9a308d\nCloses-Bug: #1871650\n'}]",0,742500,8701afb1b3b6fa50b128d91c4390507f8d8e78a2,27,6,3,24824,,,0,"Add TLS support and tests

The Placement API service needs to be TLS-terminated much like other API
services.

Change-Id: Iebacf2ca0569975c39d5bcecbb8bffa7be9a308d
Closes-Bug: #1871650
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/00/742500/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml', 'src/reactive/placement_handlers.py', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml']",7,be25475fd8ff74722b69000609f2354c309b5762,bug/1871650,- - vault:shared-db - mysql:shared-db - - vault:certificates - keystone:certificates - - vault:certificates - placement:certificates - - vault:certificates - neutron-api:certificates - - vault:certificates - glance:certificates - - vault:certificates - nova-cloud-controller:certificates vault: num_units: 1 charm: cs:~openstack-charmers-next/vault,,111,0
openstack%2Fcharm-keystone~master~Ibac7ea6de013674b570c3de205d95c0a9d1cd8ae,openstack/charm-keystone,master,Ibac7ea6de013674b570c3de205d95c0a9d1cd8ae,notifications: provide complete set of endpoints,MERGED,2020-07-17 11:19:59.000000000,2020-07-23 15:23:54.000000000,2020-07-23 15:23:54.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-07-17 11:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/1b46911911d6e8fc186ab01b0e445e9f4c0c2e7a', 'message': 'notifications: complete set of endpoints\n\nDepending on the order of hook execution its possible for a charm\nrequesting notification of endpoint changes via the subscribe_ep_change\nrelation key will only get a partial set of information based on\nservices which are registered after their service is registered.\n\nIf this situation happens and a subscribed to service already exists\nin the endpoint catalog add these to the JSON dict of information\npassed to the requesting charm.\n\nChange-Id: Ibac7ea6de013674b570c3de205d95c0a9d1cd8ae\nCloses-Bug: 1887394\n'}, {'number': 2, 'created': '2020-07-17 11:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/6b939a423c82bd41e81d8936ff0f000813860e6a', 'message': 'notifications: complete set of endpoints\n\nDepending on the order of hook execution its possible for a charm\nrequesting notification of endpoint changes via the subscribe_ep_change\nrelation key will only get a partial set of information based on\nservices which are registered after their service is registered.\n\nIf this situation happens and a subscribed to service already exists\nin the endpoint catalog add these to the JSON dict of information\npassed to the requesting charm.\n\nChange-Id: Ibac7ea6de013674b570c3de205d95c0a9d1cd8ae\nCloses-Bug: 1887394\n'}, {'number': 3, 'created': '2020-07-17 13:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/65169134060b021d40db6944ed7a4769eb1baf92', 'message': 'notifications: provide complete set of endpoints\n\nDepending on the order of hook execution its possible for a charm\nrequesting notification of endpoint changes via the subscribe_ep_change\nrelation key will only get a partial set of information based on\nservices which are registered after their service is registered.\n\nIf this situation happens and a subscribed to service already exists\nin the endpoint catalog add these to the JSON dict of information\npassed to the requesting charm.\n\nChange-Id: Ibac7ea6de013674b570c3de205d95c0a9d1cd8ae\nCloses-Bug: 1887394\n'}, {'number': 4, 'created': '2020-07-17 13:25:03.000000000', 'files': ['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/0a054f17e1589487d533252e22920385cc490b94', 'message': 'notifications: provide complete set of endpoints\n\nDepending on the order of hook execution its possible for a charm\nrequesting notification of endpoint changes via the subscribe_ep_change\nrelation key will only get a partial set of information based on\nservices which are registered after their service is registered.\n\nIf this situation happens and a subscribed to service already exists\nin the endpoint catalog add these to the JSON dict of information\npassed to the requesting charm.\n\nChange-Id: Ibac7ea6de013674b570c3de205d95c0a9d1cd8ae\nCloses-Bug: 1887394\n'}]",4,741617,0a054f17e1589487d533252e22920385cc490b94,24,4,4,935,,,0,"notifications: provide complete set of endpoints

Depending on the order of hook execution its possible for a charm
requesting notification of endpoint changes via the subscribe_ep_change
relation key will only get a partial set of information based on
services which are registered after their service is registered.

If this situation happens and a subscribed to service already exists
in the endpoint catalog add these to the JSON dict of information
passed to the requesting charm.

Change-Id: Ibac7ea6de013674b570c3de205d95c0a9d1cd8ae
Closes-Bug: 1887394
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/17/741617/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_utils.py', 'hooks/keystone_utils.py']",2,1b46911911d6e8fc186ab01b0e445e9f4c0c2e7a,bug/1887394,"def service_endpoint_dict(service_name): """"""Retrieve endpoint information for a named service Build and return a dict of information for the provided service (by name) including internal, public and admin URL's if they are present in the endpoint catalog. :returns: dict of endpoint information or None if not found """""" manager = get_manager() service_id = manager.resolve_service_id(service_name) if not service_id: return None current_endpoints = manager.list_endpoints() endpoint_dict = {} for endpoint in current_endpoints: if endpoint['service_id'] == service_id: endpoint_dict[endpoint['interface']] = endpoint['url'] return endpoint_dict service_names = relation_get( if service_names: for service_name in service_names.split(): key = '{}-endpoint-changed'.format(service_name) if data.get(key): changed[service_name] = data[key] elif service_name not in changed: service_endpoint = service_endpoint_dict(service_name) if service_endpoint: changed[service_name] = service_endpoint", rs = relation_get( if rs: for r in rs.split(): key = '{}-endpoint-changed'.format(r) if data.get(key): changed[r] = data[key],58,13
openstack%2Fsahara~master~Icd688c42086c45357aacfba681270b2fe9e85ae6,openstack/sahara,master,Icd688c42086c45357aacfba681270b2fe9e85ae6,Correct some typos in some strings,MERGED,2020-07-23 07:15:22.000000000,2020-07-23 15:22:25.000000000,2020-07-23 15:19:17.000000000,"[{'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-07-23 07:15:22.000000000', 'files': ['sahara/utils/ssh_remote.py', 'sahara/tests/unit/utils/test_ssh_remote.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/7cdda56b2cf9f64e78f01bd9156bf0c96c76e243', 'message': ""Correct some typos in some strings\n\nThis patch changes 'begining' to 'beginning'\nin some strings\n\nChange-Id: Icd688c42086c45357aacfba681270b2fe9e85ae6\n""}]",0,742603,7cdda56b2cf9f64e78f01bd9156bf0c96c76e243,7,2,1,30696,,,0,"Correct some typos in some strings

This patch changes 'begining' to 'beginning'
in some strings

Change-Id: Icd688c42086c45357aacfba681270b2fe9e85ae6
",git fetch https://review.opendev.org/openstack/sahara refs/changes/03/742603/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/utils/ssh_remote.py', 'sahara/tests/unit/utils/test_ssh_remote.py']",2,7cdda56b2cf9f64e78f01bd9156bf0c96c76e243,typo," description = ('In file ""file"" replacing line beginning with string '"," description = ('In file ""file"" replacing line begining with string '",2,2
openstack%2Fkolla-ansible~master~Ifd95126da59f649b02ab39c0b209df4750bdcfce,openstack/kolla-ansible,master,Ifd95126da59f649b02ab39c0b209df4750bdcfce,add missing conditional for octavia,MERGED,2020-07-23 12:08:20.000000000,2020-07-23 15:21:57.000000000,2020-07-23 15:18:26.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-23 12:08:20.000000000', 'files': ['ansible/roles/octavia/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5c0f18793c21d2bc50b4394a2388bfc793f09817', 'message': 'add missing conditional for octavia\n\noctavia deploy failed due to mount a empyt directroy into container\n\nChange-Id: Ifd95126da59f649b02ab39c0b209df4750bdcfce\n'}]",0,742652,5c0f18793c21d2bc50b4394a2388bfc793f09817,9,3,1,26285,,,0,"add missing conditional for octavia

octavia deploy failed due to mount a empyt directroy into container

Change-Id: Ifd95126da59f649b02ab39c0b209df4750bdcfce
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/742652/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/octavia/defaults/main.yml'],1,5c0f18793c21d2bc50b4394a2388bfc793f09817,," - ""{{ kolla_dev_repos_directory ~ '/octavia/octavia:/var/lib/kolla/venv/lib/python' ~ distro_python_version ~ '/site-packages/octavia' if octavia_dev_mode | bool else '' }}"""," - ""{{ kolla_dev_repos_directory ~ '/octavia/octavia:/var/lib/kolla/venv/lib/python' ~ distro_python_version ~ '/site-packages/octavia' }}""",1,1
openstack%2Fsahara~stable%2Fstein~If50196185dbe2135faa2ebb58eca1325a8dcd326,openstack/sahara,stable/stein,If50196185dbe2135faa2ebb58eca1325a8dcd326,"Revert ""Make greande jobs n-v for EM and oldest stable""",MERGED,2020-07-13 09:48:39.000000000,2020-07-23 15:19:52.000000000,2020-07-23 15:14:47.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2020-07-13 09:48:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/sahara/commit/c07f98d36281f13e263f2d0f0f6ebd267b6df9f1', 'message': 'Revert ""Make greande jobs n-v for EM and oldest stable""\n\nThis reverts commit 9dde6ae0e5f5ad0249341a744b53640f7d2c6210.\n\nNOTE(elod.illes): devstack in Rocky is fixed and grenade jobs started\nto pass in Stein. We can enable grenades again to restore testing as it\nwas before.\n\nChange-Id: If50196185dbe2135faa2ebb58eca1325a8dcd326\n'}]",0,740654,c07f98d36281f13e263f2d0f0f6ebd267b6df9f1,9,4,1,17685,,,0,"Revert ""Make greande jobs n-v for EM and oldest stable""

This reverts commit 9dde6ae0e5f5ad0249341a744b53640f7d2c6210.

NOTE(elod.illes): devstack in Rocky is fixed and grenade jobs started
to pass in Stein. We can enable grenades again to restore testing as it
was before.

Change-Id: If50196185dbe2135faa2ebb58eca1325a8dcd326
",git fetch https://review.opendev.org/openstack/sahara refs/changes/54/740654/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c07f98d36281f13e263f2d0f0f6ebd267b6df9f1,grenade-em-nv, - sahara-grenade - sahara-grenade, - sahara-grenade: voting: false,2,2
openstack%2Fcharm-ceph-osd~stable%2F20.05~If1425ef837a74212f002985f648ac1ecf9257201,openstack/charm-ceph-osd,stable/20.05,If1425ef837a74212f002985f648ac1ecf9257201,Ensure bootstrapped OSD presented to ceph-mon,ABANDONED,2020-07-22 12:47:40.000000000,2020-07-23 15:14:02.000000000,,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 12:47:40.000000000', 'files': ['hooks/ceph_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/0a9cef7233640e1d7335af8ce0db1d99033886c3', 'message': ""Ensure bootstrapped OSD presented to ceph-mon\n\nOn charm upgrade ensure that the number of bootstrapped OSD's\nis presented to the ceph-mon application.\n\nThis ensures that the ceph-mon application does not switch\ninto a 'waiting' state after upgrade from earlier versions\nof the ceph-* charms.\n\nChange-Id: If1425ef837a74212f002985f648ac1ecf9257201\nCloses-Bug: 1861996\n(cherry picked from commit 21ffd9d18b6d91b0526b1714a0eb029401610266)\n""}]",0,742411,0a9cef7233640e1d7335af8ce0db1d99033886c3,11,4,1,935,,,0,"Ensure bootstrapped OSD presented to ceph-mon

On charm upgrade ensure that the number of bootstrapped OSD's
is presented to the ceph-mon application.

This ensures that the ceph-mon application does not switch
into a 'waiting' state after upgrade from earlier versions
of the ceph-* charms.

Change-Id: If1425ef837a74212f002985f648ac1ecf9257201
Closes-Bug: 1861996
(cherry picked from commit 21ffd9d18b6d91b0526b1714a0eb029401610266)
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/11/742411/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/ceph_hooks.py'],1,0a9cef7233640e1d7335af8ce0db1d99033886c3,bug/1861996, # NOTE(jamespage): https://pad.lv/1861996 # ensure number of bootstrapped OSD's is presented to ceph-mon prepare_disks_and_activate(),,3,0
openstack%2Fpuppet-keystone~stable%2Ftrain~I0f79bc141323515ee912133718555d98914331fa,openstack/puppet-keystone,stable/train,I0f79bc141323515ee912133718555d98914331fa,DNM: Test lint test on stable/train,ABANDONED,2020-07-22 01:49:53.000000000,2020-07-23 14:58:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-22 01:49:53.000000000', 'files': ['dnm'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/63948ab507d347abbf825c4553c7466fceb7f065', 'message': 'DNM: Test lint test on stable/train\n\nChange-Id: I0f79bc141323515ee912133718555d98914331fa\n'}]",0,742329,63948ab507d347abbf825c4553c7466fceb7f065,3,1,1,9816,,,0,"DNM: Test lint test on stable/train

Change-Id: I0f79bc141323515ee912133718555d98914331fa
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/29/742329/1 && git format-patch -1 --stdout FETCH_HEAD,['dnm'],1,63948ab507d347abbf825c4553c7466fceb7f065,dnm,,,0,0
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fussuri~Ic150c2698acc3b78a60de36b4714fe2aafa3e970,openstack/openstack-ansible-openstack_hosts,stable/ussuri,Ic150c2698acc3b78a60de36b4714fe2aafa3e970,Replace yum config manager with dnf alternative,MERGED,2020-07-21 17:26:10.000000000,2020-07-23 14:54:31.000000000,2020-07-23 14:51:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-21 17:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/e1597bcd1c8b2b68f629bb63d5fe524460ed0498', 'message': 'Replace yum config manager with dnf alternative\n\nWe need config-manager to enable repositories for CentOS 8 hosts.\n\nAlso, since we do need PowerTools inside lxc containers, we should\ninstall tooling not only for bare metal, but also for containers.\nSome projects, like manila, also require some packages out of\nPowerTools repository.\n\nChange-Id: Ic150c2698acc3b78a60de36b4714fe2aafa3e970\n(cherry picked from commit 1b0a0c79bc352785cc7b40acb1800e4529054d9a)\n'}, {'number': 2, 'created': '2020-07-23 11:15:50.000000000', 'files': ['vars/redhat-8.yml', 'tasks/openstack_hosts_configure_dnf.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/8404e69581c3f63959fde2f3a6842ef2b625b5de', 'message': 'Replace yum config manager with dnf alternative\n\nWe need config-manager to enable repositories for CentOS 8 hosts.\n\nAlso, since we do need PowerTools inside lxc containers, we should\ninstall tooling not only for bare metal, but also for containers.\nSome projects, like manila, also require some packages out of\nPowerTools repository.\n\nChange-Id: Ic150c2698acc3b78a60de36b4714fe2aafa3e970\n(cherry picked from commit 1b0a0c79bc352785cc7b40acb1800e4529054d9a)\n'}]",0,742255,8404e69581c3f63959fde2f3a6842ef2b625b5de,10,3,2,25023,,,0,"Replace yum config manager with dnf alternative

We need config-manager to enable repositories for CentOS 8 hosts.

Also, since we do need PowerTools inside lxc containers, we should
install tooling not only for bare metal, but also for containers.
Some projects, like manila, also require some packages out of
PowerTools repository.

Change-Id: Ic150c2698acc3b78a60de36b4714fe2aafa3e970
(cherry picked from commit 1b0a0c79bc352785cc7b40acb1800e4529054d9a)
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/55/742255/2 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-8.yml', 'tasks/openstack_hosts_configure_dnf.yml', 'defaults/main.yml']",3,e1597bcd1c8b2b68f629bb63d5fe524460ed0498,osa/el8-stable/ussuri,"openstack_hosts_power_tool_enable: ""{{ ('manila_all' in groups or 'gnocchi_all' in groups or install_method | default('source') == 'distro') }}""",,5,3
openstack%2Fcharm-keystone~master~Ibc9d1d62cbd57c46ef09b566856b5d2efb2f8afc,openstack/charm-keystone,master,Ibc9d1d62cbd57c46ef09b566856b5d2efb2f8afc,Sync charm-helpers for Victoria/Groovy updates,MERGED,2020-07-13 19:00:13.000000000,2020-07-23 14:53:52.000000000,2020-07-23 14:53:52.000000000,"[{'_account_id': 11805}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-13 19:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/e9099bcc56b4fd8b6d9da94a63f60342ff4ecc12', 'message': 'Sync charm-helpers for Victoria/Groovy updates\n\nThis sync picks up the release and version details for Victoria/Groovy.\n\nChange-Id: Ibc9d1d62cbd57c46ef09b566856b5d2efb2f8afc\n'}, {'number': 2, 'created': '2020-07-17 13:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/75e617ea0b95e93a2a2909466c699dc6508fc8be', 'message': 'Sync charm-helpers for Victoria/Groovy updates\n\nThis sync picks up the release and version details for Victoria/Groovy.\n\nChange-Id: Ibc9d1d62cbd57c46ef09b566856b5d2efb2f8afc\n'}, {'number': 3, 'created': '2020-07-22 17:39:25.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/peerstorage/__init__.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/charmsupport/nrpe.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/e70499004c897f9750021f220c8270d64c671fb4', 'message': 'Sync charm-helpers for Victoria/Groovy updates\n\nThis sync picks up the release and version details for Victoria/Groovy.\n\nChange-Id: Ibc9d1d62cbd57c46ef09b566856b5d2efb2f8afc\n'}]",0,740765,e70499004c897f9750021f220c8270d64c671fb4,30,5,3,11805,,,0,"Sync charm-helpers for Victoria/Groovy updates

This sync picks up the release and version details for Victoria/Groovy.

Change-Id: Ibc9d1d62cbd57c46ef09b566856b5d2efb2f8afc
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/65/740765/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/peerstorage/__init__.py', 'charmhelpers/contrib/openstack/amulet/deployment.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/fetch/snap.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py']",9,e9099bcc56b4fd8b6d9da94a63f60342ff4ecc12,batch-update," # Victoria 'victoria': 'focal-updates/victoria', 'focal-victoria': 'focal-updates/victoria', 'focal-victoria/updates': 'focal-updates/victoria', 'focal-updates/victoria': 'focal-updates/victoria', 'victoria/proposed': 'focal-proposed/victoria', 'focal-victoria/proposed': 'focal-proposed/victoria', 'focal-proposed/victoria': 'focal-proposed/victoria',",,100,16
openstack%2Freleases~master~I31b4a265197329394404a6edc7027d78e35c66c5,openstack/releases,master,I31b4a265197329394404a6edc7027d78e35c66c5,Fix handling of unreleased repos,ABANDONED,2020-07-22 16:53:28.000000000,2020-07-23 14:49:22.000000000,,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 16:53:28.000000000', 'files': ['openstack_releases/cmds/list_unreleased_changes.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/587512275f8c999040cd1a0dd8504c589443c52d', 'message': ""Fix handling of unreleased repos\n\nWithout this change list_unreleased_changes explodes when it gets to\na repo that hasn't been released yet because the 'commits' value of\nthe data is None.\n\nAlternatively, we could remove the ability to configure the\n--ignore-not-yet-released so we don't have to handle these cases\nat all, but then those projects won't show up in the output.\n\nChange-Id: I31b4a265197329394404a6edc7027d78e35c66c5\n""}]",0,742485,587512275f8c999040cd1a0dd8504c589443c52d,5,3,1,6928,,,0,"Fix handling of unreleased repos

Without this change list_unreleased_changes explodes when it gets to
a repo that hasn't been released yet because the 'commits' value of
the data is None.

Alternatively, we could remove the ability to configure the
--ignore-not-yet-released so we don't have to handle these cases
at all, but then those projects won't show up in the output.

Change-Id: I31b4a265197329394404a6edc7027d78e35c66c5
",git fetch https://review.opendev.org/openstack/releases refs/changes/85/742485/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/cmds/list_unreleased_changes.py'],1,587512275f8c999040cd1a0dd8504c589443c52d,oslo-master," if repo['commits'] is None: out.append('{repo} has not been released'.format( repo=repo['repo'])) elif repo['commits'].get('logs', None):"," if repo['commits'].get('logs', None):",4,1
openstack%2Fpuppet-openstack-integration~master~If77a8b05f74a65466fb79d7c066e889540acd980,openstack/puppet-openstack-integration,master,If77a8b05f74a65466fb79d7c066e889540acd980,Ensure key format is PEM in beaker tests,MERGED,2020-07-16 18:24:37.000000000,2020-07-23 14:49:11.000000000,2020-07-21 08:17:56.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-16 18:24:37.000000000', 'files': ['playbooks/run-beaker-tests.yaml', 'playbooks/run-libraries-beaker-tests.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a69725e9730d2cc58205dfac415468754c892ded', 'message': 'Ensure key format is PEM in beaker tests\n\nChange-Id: If77a8b05f74a65466fb79d7c066e889540acd980\n'}]",0,741516,a69725e9730d2cc58205dfac415468754c892ded,17,4,1,16137,,,0,"Ensure key format is PEM in beaker tests

Change-Id: If77a8b05f74a65466fb79d7c066e889540acd980
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/16/741516/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/run-beaker-tests.yaml', 'playbooks/run-libraries-beaker-tests.yaml']",2,a69725e9730d2cc58205dfac415468754c892ded,," ssh-keygen -f ~/.ssh/id_rsa -b 2048 -P """" -m PEM"," ssh-keygen -f ~/.ssh/id_rsa -b 2048 -P """"",2,2
openstack%2Fopenstack-ansible~stable%2Ftrain~I8720ce41cc4eae5fba36eb8ef01d15b73040039d,openstack/openstack-ansible,stable/train,I8720ce41cc4eae5fba36eb8ef01d15b73040039d,Bump ansible version to 2.8.13,MERGED,2020-06-18 06:48:35.000000000,2020-07-23 14:42:47.000000000,2020-07-23 14:40:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-06-18 06:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e82330dc3c140f728a83b7e5d4d9801bfae86927', 'message': 'Bump ansible version to 2.8.12\n\nChange-Id: I8720ce41cc4eae5fba36eb8ef01d15b73040039d\n'}, {'number': 2, 'created': '2020-06-18 16:09:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a0f76cf1ca238e0111234a1659db94f7082a9767', 'message': 'Bump ansible version to 2.8.12\n\nChange-Id: I8720ce41cc4eae5fba36eb8ef01d15b73040039d\n'}, {'number': 3, 'created': '2020-07-21 15:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fe550aa8bd273fe6893b7847a39d57eda54a8875', 'message': 'Bump ansible version to 2.8.13\n\nChange-Id: I8720ce41cc4eae5fba36eb8ef01d15b73040039d\n'}, {'number': 4, 'created': '2020-07-21 15:06:01.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/435296788bec6b553ca3b1c9253ff364355c460b', 'message': 'Bump ansible version to 2.8.13\n\nChange-Id: I8720ce41cc4eae5fba36eb8ef01d15b73040039d\n'}]",0,736465,435296788bec6b553ca3b1c9253ff364355c460b,19,4,4,25023,,,0,"Bump ansible version to 2.8.13

Change-Id: I8720ce41cc4eae5fba36eb8ef01d15b73040039d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/65/736465/4 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,e82330dc3c140f728a83b7e5d4d9801bfae86927,,"export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible==2.8.12""}","export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible==2.8.8""}",1,1
openstack%2Fcinder~master~I896f70d204ad103e968ab242ba9045ca984827c4,openstack/cinder,master,I896f70d204ad103e968ab242ba9045ca984827c4,NFS encrypted volume support,MERGED,2018-08-28 14:35:26.000000000,2020-07-23 14:28:06.000000000,2020-06-26 17:40:30.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 12988}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23553}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30112}, {'_account_id': 30555}, {'_account_id': 30590}, {'_account_id': 30688}, {'_account_id': 31416}, {'_account_id': 31868}]","[{'number': 1, 'created': '2018-08-28 14:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/64d067d2a7c051c332a15f61f89c1eaf9bb7aa5a', 'message': 'WIP: NFS encrypted volume support\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n'}, {'number': 2, 'created': '2018-08-30 16:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/64d4e435adca6a490c225135a04282ea39250bcd', 'message': 'WIP: NFS encrypted volume support\n\nNot finished yet.  Want to start getting NFS CI results.\n\nImplements: blueprint nfs-volume-encryption\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n'}, {'number': 3, 'created': '2018-10-15 20:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2829b2e8c43ff6648a2a4b9899369965e7871d71', 'message': 'WIP: NFS encrypted volume support\n\nNot finished yet.  Want to start getting NFS CI results.\n\nRough cut at getting clone from snap working.\n\nImplements: blueprint nfs-volume-encryption\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n'}, {'number': 4, 'created': '2019-01-22 19:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/619062794303ec6b8da411162bbf1b637a877087', 'message': 'WIP: NFS encrypted volume support\n\nNot finished yet.  Want to start getting NFS CI results.\n\nRough cut at getting clone from snap working.\n\nImplements: blueprint nfs-volume-encryption\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n'}, {'number': 5, 'created': '2019-01-23 15:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d926602e50d04fb2fe272e51ed8da165226c9df', 'message': 'WIP: NFS encrypted volume support\n\nNot finished yet.  Want to start getting NFS CI results.\n\nRough cut at getting clone from snap working.\n\nImplements: blueprint nfs-volume-encryption\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n'}, {'number': 6, 'created': '2019-01-23 20:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a57b0fcb6669d99eedb8adfc3fec79e77ddcc611', 'message': 'WIP: NFS encrypted volume support\n\nNot finished yet.  Want to start getting NFS CI results.\n\nRough cut at getting clone from snap working.\n\nImplements: blueprint nfs-volume-encryption\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n'}, {'number': 7, 'created': '2019-01-24 14:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f393d5988f800d5701ad00fb3b21c107f19d9387', 'message': 'WIP: NFS encrypted volume support\n\nNot finished yet.  Want to start getting NFS CI results.\n\nRough cut at getting clone from snap working.\n\nImplements: blueprint nfs-volume-encryption\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n'}, {'number': 8, 'created': '2019-01-24 21:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8b659e54cd47c347742a2b2f3eef48a2afe719d0', 'message': 'WIP: NFS encrypted volume support\n\nNot finished yet.  Want to start getting NFS CI results.\n\nRough cut at getting clone from snap working.\n\nImplements: blueprint nfs-volume-encryption\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n'}, {'number': 9, 'created': '2019-10-29 14:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0428e359a04e1632a2d7c3acd61e157983694c62', 'message': 'WIP: NFS encrypted volume support\n\nNot finished yet.  Want to start getting NFS CI results.\n\nRough cut at getting clone from snap working.\n\nImplements: blueprint nfs-volume-encryption\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n'}, {'number': 10, 'created': '2019-11-26 19:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f92cf8632851c8aab55ec0ab6222d3c836935941', 'message': 'WIP: NFS encrypted volume support\n\nNot finished yet.  Want to start getting NFS CI results.\n\nRough cut at getting clone from snap working.\n\nImplements: blueprint nfs-volume-encryption\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n'}, {'number': 11, 'created': '2019-11-28 15:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b69abaed33d72d3f0ab71254ef94776f4ee0cd8c', 'message': 'NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nImplements: blueprint nfs-volume-encryption\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n'}, {'number': 12, 'created': '2019-11-29 13:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2996e80c2f7c72663bc0b9e91c0319124328919e', 'message': 'NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nImplements: blueprint nfs-volume-encryption\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n'}, {'number': 13, 'created': '2020-01-13 18:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/635a9c6b827fd6a7d1400297dedf82da70d377da', 'message': ""WIP: NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nThis patch don't implement create volumes from encrypted\nsnapshot yet.\n\nImplements: blueprint nfs-volume-encryption\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}, {'number': 14, 'created': '2020-01-19 23:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cf6557a5ad730be6d1718985352b7cb266ffd0e1', 'message': ""WIP: NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nVolume encryption: Check volume encryption key in\n'_do_create_volume' method (remotefs) and use\n'_create_encrypted_volume_file' when encryption is\nrequired.\n\nSnapshot encryption: To create an encrypted volume from a\nsnapshot, we need to pass the Barbican key of the\nsnapshot.volume to 'convert_image' method. Because of this\nI've added 'src_passphrase_file' parameter.\n\nThis patch doesn't handle encrypted volume -> unencrypted\nCurrent error prompted: 'Invalid input received: Invalid\nvolume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0\n(requested type is not compatible; recommend omitting the\ntype argument). (HTTP 400)'\n\nImplements: blueprint nfs-volume-encryption\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}, {'number': 15, 'created': '2020-01-20 14:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/50a44d8ea0f27df26017d6c054673abd83f60cf5', 'message': ""WIP: NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nVolume encryption: Check volume encryption key in\n'_do_create_volume' method (remotefs) and use\n'_create_encrypted_volume_file' when encryption is\nrequired.\n\nSnapshot encryption: To create an encrypted volume from a\nsnapshot, we need to pass the Barbican key of the\nsnapshot.volume to 'convert_image' method. Because of this\nI've added 'src_passphrase_file' parameter.\n\nThis patch doesn't handle encrypted volume -> unencrypted\nCurrent error prompted: 'Invalid input received: Invalid\nvolume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0\n(requested type is not compatible; recommend omitting the\ntype argument). (HTTP 400)'\n\nImplements: blueprint nfs-volume-encryption\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}, {'number': 16, 'created': '2020-01-22 23:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/20cff82a03d0ad0f6bd04ab796b42f2819582a67', 'message': ""WIP: NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nVolume encryption: Check volume encryption key in\n'_do_create_volume' method (remotefs) and use\n'_create_encrypted_volume_file' when encryption is\nrequired.\n\nSnapshot encryption: To create an encrypted volume from a\nsnapshot, we need to pass the Barbican key of the\nsnapshot.volume to 'convert_image' method. Because of this\nI've added 'src_passphrase_file' parameter.\n\nThis patch doesn't handle encrypted volume -> unencrypted\nCurrent error prompted: 'Invalid input received: Invalid\nvolume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0\n(requested type is not compatible; recommend omitting the\ntype argument). (HTTP 400)'\n\nImplements: blueprint nfs-volume-encryption\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}, {'number': 17, 'created': '2020-01-23 14:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/659746a687a82758d124b7b1a1df172ef4a33d5b', 'message': ""WIP: NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nVolume encryption: Check volume encryption key in\n'_do_create_volume' method (remotefs) and use\n'_create_encrypted_volume_file' when encryption is\nrequired.\n\nSnapshot encryption: To create an encrypted volume from a\nsnapshot, we need to pass the Barbican key of the\nsnapshot.volume to 'convert_image' method. Because of this\nI've added 'src_passphrase_file' parameter.\n\nThis patch doesn't handle encrypted volume -> unencrypted\nCurrent error prompted: 'Invalid input received: Invalid\nvolume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0\n(requested type is not compatible; recommend omitting the\ntype argument). (HTTP 400)'\n\nImplements: blueprint nfs-volume-encryption\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}, {'number': 18, 'created': '2020-01-28 18:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/68351ca31b398681e8ad4be150275a2049bc2a5d', 'message': ""WIP: NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nVolume encryption: Check volume encryption key in\n'_do_create_volume' method (remotefs) and use\n'_create_encrypted_volume_file' when encryption is\nrequired.\n\nSnapshot encryption: To create an encrypted volume from a\nsnapshot, we need to pass the Barbican key of the\nsnapshot.volume to 'convert_image' method. Because of this\nI've added 'src_passphrase_file' parameter.\n\nThis patch doesn't handle encrypted volume -> unencrypted\nCurrent error prompted: 'Invalid input received: Invalid\nvolume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0\n(requested type is not compatible; recommend omitting the\ntype argument). (HTTP 400)'\n\nImplements: blueprint nfs-volume-encryption\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}, {'number': 19, 'created': '2020-02-13 13:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7f4861b528737b85bf84b0e115059f0ced8d31d8', 'message': ""WIP: NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nVolume encryption: Check volume encryption key in\n'_do_create_volume' method (remotefs) and use\n'_create_encrypted_volume_file' when encryption is\nrequired.\n\nSnapshot encryption: To create an encrypted volume from a\nsnapshot, we need to pass the Barbican key of the\nsnapshot.volume to 'convert_image' method. Because of this\nI've added 'src_passphrase_file' parameter.\n\nThis patch doesn't handle encrypted volume -> unencrypted\nCurrent error prompted: 'Invalid input received: Invalid\nvolume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0\n(requested type is not compatible; recommend omitting the\ntype argument). (HTTP 400)'\n\nImplements: blueprint nfs-volume-encryption\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}, {'number': 20, 'created': '2020-02-17 13:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7630b335bd504c9a781325a55ad05c5e503809eb', 'message': ""WIP: NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nVolume encryption: Check volume encryption key in\n'_do_create_volume' method (remotefs) and use\n'_create_encrypted_volume_file' when encryption is\nrequired.\n\nSnapshot encryption: To create an encrypted volume from a\nsnapshot, we need to pass the Barbican key of the\nsnapshot.volume to 'convert_image' method. Because of this\nI've added 'src_passphrase_file' parameter.\n\nThis patch doesn't handle encrypted volume -> unencrypted\nCurrent error prompted: 'Invalid input received: Invalid\nvolume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0\n(requested type is not compatible; recommend omitting the\ntype argument). (HTTP 400)'\n\nImplements: blueprint nfs-volume-encryption\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}, {'number': 21, 'created': '2020-02-17 22:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bd781b90d32a4dad623bd8c3197be9ae3c9886f6', 'message': ""WIP: NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nVolume encryption: Check volume encryption key in\n'_do_create_volume' method (remotefs) and use\n'_create_encrypted_volume_file' when encryption is\nrequired.\n\nSnapshot encryption: To create an encrypted volume from a\nsnapshot, we need to pass the Barbican key of the\nsnapshot.volume to 'convert_image' method. Because of this\nI've added 'src_passphrase_file' parameter.\n\nThis patch doesn't handle encrypted volume -> unencrypted\nCurrent error prompted: 'Invalid input received: Invalid\nvolume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0\n(requested type is not compatible; recommend omitting the\ntype argument). (HTTP 400)'\n\nImplements: blueprint nfs-volume-encryption\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}, {'number': 22, 'created': '2020-02-20 14:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dbbf7002c39dfd48d18c39143bc782bfbd0c11a3', 'message': ""WIP: NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nVolume encryption: Check volume encryption key in\n'_do_create_volume' method (remotefs) and use\n'_create_encrypted_volume_file' when encryption is\nrequired.\n\nSnapshot encryption: To create an encrypted volume from a\nsnapshot, we need to pass the Barbican key of the\nsnapshot.volume to 'convert_image' method. Because of this\nI've added 'src_passphrase_file' parameter.\n\nThis patch doesn't handle encrypted volume -> unencrypted\nCurrent error prompted: 'Invalid input received: Invalid\nvolume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0\n(requested type is not compatible; recommend omitting the\ntype argument). (HTTP 400)'\n\nImplements: blueprint nfs-volume-encryption\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}, {'number': 23, 'created': '2020-03-03 23:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3e7c56c9020218c41d0ecff8c66ba5f60588c8eb', 'message': ""NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nVolume encryption: Check volume encryption key in\n'_do_create_volume' method (remotefs) and use\n'_create_encrypted_volume_file' when encryption is\nrequired.\n\nSnapshot encryption: To create an encrypted volume from a\nsnapshot, we need to pass the Barbican key of the\nsnapshot.volume to 'convert_image' method. Because of this\nI've added 'src_passphrase_file' parameter.\n\nThis patch doesn't handle encrypted volume -> unencrypted\nCurrent error prompted: 'Invalid input received: Invalid\nvolume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0\n(requested type is not compatible; recommend omitting the\ntype argument). (HTTP 400)'\n\nImplements: blueprint nfs-volume-encryption\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}, {'number': 24, 'created': '2020-03-04 17:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e16dbc0a024e4f697adbdf52644743a650ffba2d', 'message': ""NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nVolume encryption: Check volume encryption key in\n'_do_create_volume' method (remotefs) and use\n'_create_encrypted_volume_file' when encryption is\nrequired.\n\nSnapshot encryption: To create an encrypted volume from a\nsnapshot, we need to pass the Barbican key of the\nsnapshot.volume to 'convert_image' method. Because of this\nI've added 'src_passphrase_file' parameter.\n\nThis patch doesn't handle encrypted volume -> unencrypted\nCurrent error prompted: 'Invalid input received: Invalid\nvolume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0\n(requested type is not compatible; recommend omitting the\ntype argument). (HTTP 400)'\n\nImplements: blueprint nfs-volume-encryption\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}, {'number': 25, 'created': '2020-03-05 15:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dc299f049486acf37a001b3a0d9afbc0beca8521', 'message': ""NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nVolume encryption: Check volume encryption key in\n'_do_create_volume' method (remotefs) and use\n'_create_encrypted_volume_file' when encryption is\nrequired.\n\nSnapshot encryption: To create an encrypted volume from a\nsnapshot, we need to pass the Barbican key of the\nsnapshot.volume to 'convert_image' method. Because of this\nI've added 'src_passphrase_file' parameter.\n\nThis patch doesn't handle encrypted volume -> unencrypted\nCurrent error prompted: 'Invalid input received: Invalid\nvolume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0\n(requested type is not compatible; recommend omitting the\ntype argument). (HTTP 400)'\n\nImplements: blueprint nfs-volume-encryption\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}, {'number': 26, 'created': '2020-03-09 16:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2a6b13c464200de21355834ec898f7428a1b8887', 'message': ""NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nVolume encryption: Check volume encryption key in\n'_do_create_volume' method (remotefs) and use\n'_create_encrypted_volume_file' when encryption is\nrequired.\n\nSnapshot encryption: To create an encrypted volume from a\nsnapshot, we need to pass the Barbican key of the\nsnapshot.volume to 'convert_image' method. Because of this\nI've added 'src_passphrase_file' parameter.\n\nThis patch doesn't handle encrypted volume -> unencrypted\nCurrent error prompted: 'Invalid input received: Invalid\nvolume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0\n(requested type is not compatible; recommend omitting the\ntype argument). (HTTP 400)'\n\nImplements: blueprint nfs-volume-encryption\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}, {'number': 27, 'created': '2020-03-09 21:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b3c293c30409e277d36bcb9ce35c0a1d2e4648d3', 'message': ""NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nVolume encryption: Check volume encryption key in\n'_do_create_volume' method (remotefs) and use\n'_create_encrypted_volume_file' when encryption is\nrequired.\n\nSnapshot encryption: To create an encrypted volume from a\nsnapshot, we need to pass the Barbican key of the\nsnapshot.volume to 'convert_image' method. Because of this\nI've added 'src_passphrase_file' parameter.\n\nThis patch doesn't handle encrypted volume -> unencrypted\nCurrent error prompted: 'Invalid input received: Invalid\nvolume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0\n(requested type is not compatible; recommend omitting the\ntype argument). (HTTP 400)'\n\nImplements: blueprint nfs-volume-encryption\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}, {'number': 28, 'created': '2020-04-08 19:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3fe7df7f666fe6b9c29ee9250f031a2ee6af35ff', 'message': ""NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nVolume encryption: Check volume encryption key in\n'_do_create_volume' method (remotefs) and use\n'_create_encrypted_volume_file' when encryption is\nrequired.\n\nSnapshot encryption: To create an encrypted volume from a\nsnapshot, we need to pass the Barbican key of the\nsnapshot.volume to 'convert_image' method. Because of this\nI've added 'src_passphrase_file' parameter.\n\nThis patch doesn't handle encrypted volume -> unencrypted\nCurrent error prompted: 'Invalid input received: Invalid\nvolume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0\n(requested type is not compatible; recommend omitting the\ntype argument). (HTTP 400)'\n\nImplements: blueprint nfs-volume-encryption\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}, {'number': 29, 'created': '2020-04-13 19:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/adcc0d39ea7cbceff3729377a38f626a6a31393e', 'message': ""NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nVolume encryption: Check volume encryption key in\n'_do_create_volume' method (remotefs) and use\n'_create_encrypted_volume_file' when encryption is\nrequired.\n\nSnapshot encryption: To create an encrypted volume from a\nsnapshot, we need to pass the Barbican key of the\nsnapshot.volume to 'convert_image' method. Because of this\nI've added 'src_passphrase_file' parameter.\n\nThis patch doesn't handle encrypted volume -> unencrypted\nCurrent error prompted: 'Invalid input received: Invalid\nvolume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0\n(requested type is not compatible; recommend omitting the\ntype argument). (HTTP 400)'\n\nImplements: blueprint nfs-volume-encryption\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}, {'number': 30, 'created': '2020-04-20 18:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3bf9a9f53a7f01f8b18b77b10f27539e0175c67d', 'message': ""NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nVolume encryption: Check volume encryption key in\n'_do_create_volume' method (remotefs) and use\n'_create_encrypted_volume_file' when encryption is\nrequired.\n\nSnapshot encryption: To create an encrypted volume from a\nsnapshot, we need to pass the Barbican key of the\nsnapshot.volume to 'convert_image' method. Because of this\nI've added 'src_passphrase_file' parameter.\n\nThis patch doesn't handle encrypted volume -> unencrypted\nCurrent error prompted: 'Invalid input received: Invalid\nvolume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0\n(requested type is not compatible; recommend omitting the\ntype argument). (HTTP 400)'\n\nImplements: blueprint nfs-volume-encryption\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}, {'number': 31, 'created': '2020-04-23 20:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d9345a24b9f364b3f12b62316e77d6a70ff1bc2e', 'message': ""NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nVolume encryption: Check volume encryption key in\n'_do_create_volume' method (remotefs) and use\n'_create_encrypted_volume_file' when encryption is\nrequired.\n\nSnapshot encryption: To create an encrypted volume from a\nsnapshot, we need to pass the Barbican key of the\nsnapshot.volume to 'convert_image' method. Because of this\nI've added 'src_passphrase_file' parameter.\n\nThis patch doesn't handle encrypted volume -> unencrypted\nCurrent error prompted: 'Invalid input received: Invalid\nvolume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0\n(requested type is not compatible; recommend omitting the\ntype argument). (HTTP 400)'\n\nImplements: blueprint nfs-volume-encryption\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}, {'number': 32, 'created': '2020-04-29 19:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/07b8c103b7daf1f15e158e22612e32ba266985bc', 'message': ""NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nVolume encryption: Check volume encryption key in\n'_do_create_volume' method (remotefs) and use\n'_create_encrypted_volume_file' when encryption is\nrequired.\n\nSnapshot encryption: To create an encrypted volume from a\nsnapshot, we need to pass the Barbican key of the\nsnapshot.volume to 'convert_image' method. Because of this\nI've added 'src_passphrase_file' parameter.\n\nThis patch doesn't handle encrypted volume -> unencrypted\nCurrent error prompted: 'Invalid input received: Invalid\nvolume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0\n(requested type is not compatible; recommend omitting the\ntype argument). (HTTP 400)'\n\nImplements: blueprint nfs-volume-encryption\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}, {'number': 33, 'created': '2020-04-30 21:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b7f3b778e7297d7cb46488395e625d3b861ff0ab', 'message': ""NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nVolume encryption: Check volume encryption key in\n'_do_create_volume' method (remotefs) and use\n'_create_encrypted_volume_file' when encryption is\nrequired.\n\nSnapshot encryption: To create an encrypted volume from a\nsnapshot, we need to pass the Barbican key of the\nsnapshot.volume to 'convert_image' method. Because of this\nI've added 'src_passphrase_file' parameter.\n\nThis patch doesn't handle encrypted volume -> unencrypted\nCurrent error prompted: 'Invalid input received: Invalid\nvolume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0\n(requested type is not compatible; recommend omitting the\ntype argument). (HTTP 400)'\n\nImplements: blueprint nfs-volume-encryption\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}, {'number': 34, 'created': '2020-05-04 16:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/24915ab87528dcabee918840bfe34cc1bf4bf634', 'message': ""NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nVolume encryption: Check volume encryption key in\n'_do_create_volume' method (remotefs) and use\n'_create_encrypted_volume_file' when encryption is\nrequired.\n\nSnapshot encryption: To create an encrypted volume from a\nsnapshot, we need to pass the Barbican key of the\nsnapshot.volume to 'convert_image' method. Because of this\nI've added 'src_passphrase_file' parameter.\n\nThis patch doesn't handle encrypted volume -> unencrypted\nCurrent error prompted: 'Invalid input received: Invalid\nvolume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0\n(requested type is not compatible; recommend omitting the\ntype argument). (HTTP 400)'\n\nImplements: blueprint nfs-volume-encryption\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}, {'number': 35, 'created': '2020-06-01 15:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/427e06b906d27628b644db52f87d17eaf34ce6d1', 'message': ""NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nVolume encryption: Check volume encryption key in\n'_do_create_volume' method (remotefs) and use\n'_create_encrypted_volume_file' when encryption is\nrequired.\n\nSnapshot encryption: To create an encrypted volume from a\nsnapshot, we need to pass the Barbican key of the\nsnapshot.volume to 'convert_image' method. Because of this\nI've added 'src_passphrase_file' parameter.\n\nThis patch doesn't handle encrypted volume -> unencrypted\nCurrent error prompted: 'Invalid input received: Invalid\nvolume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0\n(requested type is not compatible; recommend omitting the\ntype argument). (HTTP 400)'\n\nImplements: blueprint nfs-volume-encryption\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}, {'number': 36, 'created': '2020-06-16 16:22:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4602da74e87d2bd90828390b479de716242c3d22', 'message': ""NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nVolume encryption: Check volume encryption key in\n'_do_create_volume' method (remotefs) and use\n'_create_encrypted_volume_file' when encryption is\nrequired.\n\nSnapshot encryption: To create an encrypted volume from a\nsnapshot, we need to pass the Barbican key of the\nsnapshot.volume to 'convert_image' method. Because of this\nI've added 'src_passphrase_file' parameter.\n\nThis patch doesn't handle encrypted volume -> unencrypted\nCurrent error prompted: 'Invalid input received: Invalid\nvolume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0\n(requested type is not compatible; recommend omitting the\ntype argument). (HTTP 400)'\n\nImplements: blueprint nfs-volume-encryption\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}, {'number': 37, 'created': '2020-06-23 22:01:43.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_nfs.py', 'cinder/volume/volume_utils.py', 'releasenotes/notes/bp-nfs-volume-encryption-3d8362843caeb39c.yaml', 'cinder/image/image_utils.py', 'cinder/tests/unit/volume/drivers/test_remotefs.py', 'cinder/volume/drivers/nfs.py', 'cinder/volume/drivers/remotefs.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/44c7da9a44cc235b514e1b714cc7882683a8491d', 'message': ""NFS encrypted volume support\n\nVolume encryption helps provide basic data protection in\ncase the volume back-end is either compromised or outright\nstolen. The contents of an encrypted volume can only be\nread with the use of a specific key;\n\nVolume encryption: Check volume encryption key in\n'_do_create_volume' method (remotefs) and use\n'_create_encrypted_volume_file' when encryption is\nrequired.\n\nSnapshot encryption: To create an encrypted volume from a\nsnapshot, we need to pass the Barbican key of the\nsnapshot.volume to 'convert_image' method. Because of this\nI've added 'src_passphrase_file' parameter.\n\nThis patch doesn't handle encrypted volume -> unencrypted\nCurrent error prompted: 'Invalid input received: Invalid\nvolume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0\n(requested type is not compatible; recommend omitting the\ntype argument). (HTTP 400)'\n\nImplements: blueprint nfs-volume-encryption\nCo-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>\n\nChange-Id: I896f70d204ad103e968ab242ba9045ca984827c4\n""}]",34,597148,44c7da9a44cc235b514e1b714cc7882683a8491d,966,57,37,4523,,,0,"NFS encrypted volume support

Volume encryption helps provide basic data protection in
case the volume back-end is either compromised or outright
stolen. The contents of an encrypted volume can only be
read with the use of a specific key;

Volume encryption: Check volume encryption key in
'_do_create_volume' method (remotefs) and use
'_create_encrypted_volume_file' when encryption is
required.

Snapshot encryption: To create an encrypted volume from a
snapshot, we need to pass the Barbican key of the
snapshot.volume to 'convert_image' method. Because of this
I've added 'src_passphrase_file' parameter.

This patch doesn't handle encrypted volume -> unencrypted
Current error prompted: 'Invalid input received: Invalid
volume_type provided: aeac5517-6bc8-4b59-9eb2-76e84369bd0
(requested type is not compatible; recommend omitting the
type argument). (HTTP 400)'

Implements: blueprint nfs-volume-encryption
Co-Authored-By: Sofia Enriquez <lsofia.enriquez@gmail.com>

Change-Id: I896f70d204ad103e968ab242ba9045ca984827c4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/597148/34 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/nfs.py'],1,64d067d2a7c051c332a15f61f89c1eaf9bb7aa5a,bp/nfs-volume-encryption, self._supports_encryption = True ,,2,0
openstack%2Ftripleo-ansible~master~I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b,openstack/tripleo-ansible,master,I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b,Scan existing controllers on update to pick up existing certs/private keys,MERGED,2019-11-01 18:21:19.000000000,2020-07-23 14:27:55.000000000,2020-07-23 14:27:55.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-11-01 18:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/16afead73f015800783716ebc7c555e4e7d735dd', 'message': 'Scan existing controllers on update to pick up existing CA/private key pairs\n\nAdds an octavia related role to pick up CA/private key pairs from controllers\nand modifies existing roles to use them instead of generating new ones.\n\nChange-Id: I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b\nRelated-Bug: #1849548\n'}, {'number': 2, 'created': '2019-12-17 18:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f07d0d4d6049f3ab807787eb4a3a9e8c47697d49', 'message': 'Scan existing controllers on update to pick up existing CA/private key pairs\n\nAdds an octavia related role to pick up CA/private key pairs from controllers\nand modifies existing roles to use them instead of generating new ones.\n\nChange-Id: I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b\nRelated-Bug: #1849548\n'}, {'number': 3, 'created': '2019-12-17 19:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f890b42074c391dbba00bbd7569f5706fdefa309', 'message': 'Scan existing controllers on update to pick up existing CA/private key pairs\n\nAdds an octavia related role to pick up CA/private key pairs from controllers\nand modifies existing roles to use them instead of generating new ones.\n\nChange-Id: I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b\nRelated-Bug: #1849548\n'}, {'number': 4, 'created': '2020-03-25 13:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a847884ffa2c5bc4d2e04feb4909c04f482ce6a6', 'message': 'Scan existing controllers on update to pick up existing CA/private key pairs\n\nAdds an octavia related role to pick up CA/private key pairs from\ncontrollers and modifies existing roles to use them instead of\ngenerating new ones.\n\nChange-Id: I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b\nRelated-Bug: #1849548\n'}, {'number': 5, 'created': '2020-03-25 16:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0aa31ab6aa6c0987bb986a47403487ba9438140d', 'message': 'Scan existing controllers on update to pick up existing certs/private keys\n\nAdds an octavia related role to pick up CA (cert and private key pairs)\nand client certificate from controllers and modifies existing roles to\nuse them instead of generating new ones.\n\nDepends-On: https://review.opendev.org/714982\n\nChange-Id: I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b\nRelated-Bug: #1849548\n'}, {'number': 6, 'created': '2020-03-26 13:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/17ecc2e5e745d6e9839a0ba0f188f42d06003992', 'message': 'Scan existing controllers on update to pick up existing certs/private keys\n\nAdds an octavia related role to pick up CA (cert and private key pairs)\nand client certificate from controllers and modifies existing roles to\nuse them instead of generating new ones.\n\nDepends-On: https://review.opendev.org/714982\n\nChange-Id: I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b\nRelated-Bug: #1849548\nRelated-Bug: #1849550\n'}, {'number': 7, 'created': '2020-03-26 17:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b800e9be9f50f5cb87f011efb5f13cf69c301f19', 'message': 'Scan existing controllers on update to pick up existing certs/private keys\n\nAdds an octavia related role to pick up CA (cert and private key pairs)\nand client certificate from controllers and modifies existing roles to\nuse them instead of generating new ones.\n\nDepends-On: https://review.opendev.org/714982\n\nChange-Id: I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b\nRelated-Bug: #1849548\nRelated-Bug: #1849550\n'}, {'number': 8, 'created': '2020-04-27 14:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/eb0e1537b85e972fd9004b614bef2d97c43807ec', 'message': 'Scan existing controllers on update to pick up existing certs/private keys\n\nAdds an octavia related role to pick up CA (cert and private key pairs)\nand client certificate from controllers and modifies existing roles to\nuse them instead of generating new ones.\n\nDepends-On: https://review.opendev.org/714982\n\nChange-Id: I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\nRelated-Bug: #1849548\nRelated-Bug: #1849550\n'}, {'number': 9, 'created': '2020-04-29 06:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9584f3865cadf7ad7e3a8bd7c4b07e1a2a061726', 'message': 'Scan existing controllers on update to pick up existing certs/private keys\n\nAdds an octavia related role to pick up CA (cert and private key pairs)\nand client certificate from controllers and modifies existing roles to\nuse them instead of generating new ones.\n\nDepends-On: https://review.opendev.org/714982\n\nChange-Id: I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\nRelated-Bug: #1849548\nRelated-Bug: #1849550\n'}, {'number': 10, 'created': '2020-05-04 12:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bcbed6183a7929e637f02d8e20595f7d3e93ecb6', 'message': 'Scan existing controllers on update to pick up existing certs/private keys\n\nAdds an octavia related role to pick up CA (cert and private key pairs)\nand client certificate from controllers and modifies existing roles to\nuse them instead of generating new ones.\n\nDepends-On: https://review.opendev.org/714982\n\nChange-Id: I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\nRelated-Bug: #1849548\nRelated-Bug: #1849550\n'}, {'number': 11, 'created': '2020-05-26 13:26:08.000000000', 'files': ['tripleo_ansible/roles/octavia_overcloud_config/tasks/main.yml', 'tripleo_ansible/playbooks/octavia-files.yaml', 'tripleo_ansible/roles/octavia_controller_check/meta/main.yml', 'tripleo_ansible/roles/octavia-controller-check', 'tripleo_ansible/roles/octavia_overcloud_config/tasks/check_existing_certs.yml', 'tripleo_ansible/roles/octavia_controller_check/tasks/main.yml', 'tripleo_ansible/roles/octavia_controller_config/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d3e7a42cdad6a12d63afd23906cffe081f036745', 'message': 'Scan existing controllers on update to pick up existing certs/private keys\n\nAdds an octavia related role to pick up CA (cert and private key pairs)\nand client certificate from controllers and modifies existing roles to\nuse them instead of generating new ones.\n\nDepends-On: https://review.opendev.org/714982\n\nChange-Id: I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b\nCo-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>\nRelated-Bug: #1849548\nRelated-Bug: #1849550\n'}]",29,692599,d3e7a42cdad6a12d63afd23906cffe081f036745,62,9,11,6681,,,0,"Scan existing controllers on update to pick up existing certs/private keys

Adds an octavia related role to pick up CA (cert and private key pairs)
and client certificate from controllers and modifies existing roles to
use them instead of generating new ones.

Depends-On: https://review.opendev.org/714982

Change-Id: I5c18a59bf11e3915ef5f88c1eb2af1b4713af35b
Co-Authored-By: Gregory Thiemonge <gthiemon@redhat.com>
Related-Bug: #1849548
Related-Bug: #1849550
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/99/692599/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/octavia-controller-config/tasks/main.yml', 'tripleo_ansible/roles/octavia-overcloud-config/tasks/certs_gen.yml', 'tripleo_ansible/playbooks/octavia-files.yaml', 'tripleo_ansible/roles/octavia-overcloud-config/tasks/check_existing_certs.yml', 'tripleo_ansible/roles/octavia-controller-check/meta/main.yml', 'tripleo_ansible/roles/octavia-controller-check/tasks/main.yml', 'tripleo_ansible/roles/octavia-overcloud-config/tasks/main.yml']",7,16afead73f015800783716ebc7c555e4e7d735dd,octavia_certs,- import_tasks: check_existing_certs.yml when: - stack_update | bool - manage_certs | bool - cas is defined and cas | length == 0 ,,134,7
openstack%2Fironic-inspector~stable%2Fussuri~Ia96a9a8b85841612fb13616754bfdbf651b212d8,openstack/ironic-inspector,stable/ussuri,Ia96a9a8b85841612fb13616754bfdbf651b212d8,Do not try to set local_gb to -1 when the matched root device size is 0,MERGED,2020-07-20 13:28:57.000000000,2020-07-23 13:54:46.000000000,2020-07-23 13:52:42.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-20 13:28:57.000000000', 'files': ['ironic_inspector/test/unit/test_plugins_standard.py', 'ironic_inspector/plugins/standard.py', 'releasenotes/notes/zero-size-55c4b4f2b9e8384d.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/470c2f41194f2024d9a2cb32fe1b437e5758006d', 'message': ""Do not try to set local_gb to -1 when the matched root device size is 0\n\nApparently, virtual floppies on some machines are represented as normal\nblock devices, but with size = 0. We should filter them out in ironic-lib,\nbut for now at least don't fail miserably.\n\nStory: #2007907\nTask: #40308\nChange-Id: Ia96a9a8b85841612fb13616754bfdbf651b212d8\n(cherry picked from commit 95e103d21cffd9040619ab04edd71a53a650cf34)\n""}]",0,741936,470c2f41194f2024d9a2cb32fe1b437e5758006d,16,3,1,10239,,,0,"Do not try to set local_gb to -1 when the matched root device size is 0

Apparently, virtual floppies on some machines are represented as normal
block devices, but with size = 0. We should filter them out in ironic-lib,
but for now at least don't fail miserably.

Story: #2007907
Task: #40308
Change-Id: Ia96a9a8b85841612fb13616754bfdbf651b212d8
(cherry picked from commit 95e103d21cffd9040619ab04edd71a53a650cf34)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/36/741936/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_plugins_standard.py', 'ironic_inspector/plugins/standard.py', 'releasenotes/notes/zero-size-55c4b4f2b9e8384d.yaml']",3,470c2f41194f2024d9a2cb32fe1b437e5758006d,zero-size-stable/ussuri,--- fixes: - | No longer tries to set ``local_gb`` to -1 if the matched root device has size of zero. ,,26,5
openstack%2Ftripleo-heat-templates~master~I6da3823bdfd73d0bbd2d94289fa50a6b6cdc90d2,openstack/tripleo-heat-templates,master,I6da3823bdfd73d0bbd2d94289fa50a6b6cdc90d2,Prevent ovn dbs related facts to run on each step.,MERGED,2020-07-09 10:52:35.000000000,2020-07-23 13:53:28.000000000,2020-07-22 11:32:11.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-09 10:52:35.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0e8a7ba2002a96747ef7e7a4c72d3642ed19dbde', 'message': 'Prevent ovn dbs related facts to run on each step.\n\nPut them as vars for the relevant block or in the conditional.\n\nPartial-Bug: #1886932\n\nChange-Id: I6da3823bdfd73d0bbd2d94289fa50a6b6cdc90d2\n'}]",2,740241,0e8a7ba2002a96747ef7e7a4c72d3642ed19dbde,16,5,1,8297,,,0,"Prevent ovn dbs related facts to run on each step.

Put them as vars for the relevant block or in the conditional.

Partial-Bug: #1886932

Change-Id: I6da3823bdfd73d0bbd2d94289fa50a6b6cdc90d2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/740241/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,0e8a7ba2002a96747ef7e7a4c72d3642ed19dbde,bug/1886932-nocondtask, vars: ovn_dbs_image: {get_param: ContainerOvnDbsImage} ovn_dbs_image_latest: *ovn_dbs_image_pcmklatest - ovn_dbs_short_bootstrap_node_name|lower == ansible_hostname|lower - ovn_dbs_short_bootstrap_node_name|lower == ansible_hostname|lower, - name: Get docker ovn-dbs image set_fact: ovn_dbs_image: {get_param: ContainerOvnDbsImage} ovn_dbs_image_latest: *ovn_dbs_image_pcmklatest - name: set is_ovn_dbs_bootstrap_node fact set_fact: is_ovn_dbs_bootstrap_node={{ovn_dbs_short_bootstrap_node_name|lower == ansible_hostname|lower}} - is_ovn_dbs_bootstrap_node - name: set is_ovn_dbs_bootstrap_node fact tags: common set_fact: is_ovn_dbs_bootstrap_node={{ovn_dbs_short_bootstrap_node_name|lower == ansible_hostname|lower}} - is_ovn_dbs_bootstrap_node,5,11
openstack%2Ftripleo-heat-templates~master~I980f633989e74ca14784d5985b447334027603b8,openstack/tripleo-heat-templates,master,I980f633989e74ca14784d5985b447334027603b8,Prevent skip package fact to run on all steps.,MERGED,2020-07-09 10:52:35.000000000,2020-07-23 13:53:16.000000000,2020-07-22 04:31:00.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-09 10:52:35.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e75d05263cad2d9fcd9043607ec3953431efd536', 'message': 'Prevent skip package fact to run on all steps.\n\nWe refactor it into a vars for the task for upgrade and update tasks.\n\nPartial-Bug: #1886932\n\nChange-Id: I980f633989e74ca14784d5985b447334027603b8\n'}]",0,740240,e75d05263cad2d9fcd9043607ec3953431efd536,17,7,1,8297,,,0,"Prevent skip package fact to run on all steps.

We refactor it into a vars for the task for upgrade and update tasks.

Partial-Bug: #1886932

Change-Id: I980f633989e74ca14784d5985b447334027603b8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/740240/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,e75d05263cad2d9fcd9043607ec3953431efd536,bug/1886932-nocondtask, vars: skip_package_update: {get_param: SkipPackageUpdate} vars: skip_package_update: {get_param: SkipPackageUpdate}, - name: Set boolean skip_package_update set_fact: skip_package_update: {get_param: SkipPackageUpdate} - name: Set boolean skip_package_update set_fact: skip_package_update: {get_param: SkipPackageUpdate},4,6
openstack%2Fkayobe~master~Ie1b09eb9a7aad680f33b2794bb3b152e35030dae,openstack/kayobe,master,Ie1b09eb9a7aad680f33b2794bb3b152e35030dae,DNM: Debug out of disk space issues during upgrade,ABANDONED,2020-06-19 07:45:50.000000000,2020-07-23 13:50:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-19 07:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c214f32d3ad50fd12789e3840baefbf86d67dbac', 'message': 'DNM: Debug out of disk space issues during upgrade\n\nChange-Id: Ie1b09eb9a7aad680f33b2794bb3b152e35030dae\n'}, {'number': 2, 'created': '2020-06-19 11:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d945e2197b0c51076c478413ab87fb3c93ce5878', 'message': 'DNM: Debug out of disk space issues during upgrade\n\nChange-Id: Ie1b09eb9a7aad680f33b2794bb3b152e35030dae\n'}, {'number': 3, 'created': '2020-06-19 14:14:39.000000000', 'files': ['roles/kayobe-diagnostics/files/get_logs.sh', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6a45cd1480519705b91fee875c1867ae1884d3f2', 'message': 'DNM: Debug out of disk space issues during upgrade\n\nChange-Id: Ie1b09eb9a7aad680f33b2794bb3b152e35030dae\n'}]",0,736947,6a45cd1480519705b91fee875c1867ae1884d3f2,7,1,3,14826,,,0,"DNM: Debug out of disk space issues during upgrade

Change-Id: Ie1b09eb9a7aad680f33b2794bb3b152e35030dae
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/47/736947/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/kayobe-diagnostics/files/get_logs.sh', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",3,c214f32d3ad50fd12789e3840baefbf86d67dbac,, name: kayobe-overcloud-upgrade-centos8-1 parent: kayobe-overcloud-upgrade-base nodeset: kayobe-centos8 - job: name: kayobe-overcloud-upgrade-centos8-2, name: kayobe-overcloud-upgrade-centos8,12,15
openstack%2Fkolla~master~Iae312e24a4ff9ab79979328abac3410fbb1a3cc2,openstack/kolla,master,Iae312e24a4ff9ab79979328abac3410fbb1a3cc2,Remove neutron-server-opendaylight image,MERGED,2020-07-23 09:20:40.000000000,2020-07-23 13:42:54.000000000,2020-07-23 13:41:14.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-23 09:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7cc133961eab0877d302023bcaca628a2744c7cd', 'message': 'Remove neutron-server-opendaylight image\n\nIn [1] we have removed opendaylight image, but left neutron-server-opendaylight\nimage.\n\n[1]: https://review.opendev.org/#/c/739446/\n\nChange-Id: Iae312e24a4ff9ab79979328abac3410fbb1a3cc2\n'}, {'number': 2, 'created': '2020-07-23 09:26:17.000000000', 'files': ['kolla/image/build.py', 'docker/neutron/neutron-server-opendaylight/Dockerfile.j2', 'releasenotes/notes/remove-neutron-server-opendaylight-6cacd3936c0dc91e.yaml', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1781af8b46b103bc47c57a50f7992240a2dd7bad', 'message': 'Remove neutron-server-opendaylight image\n\nIn [1] we have removed opendaylight image, but left neutron-server-opendaylight\nimage.\n\n[1]: https://review.opendev.org/#/c/739446/\n\nChange-Id: Iae312e24a4ff9ab79979328abac3410fbb1a3cc2\n'}]",1,742618,1781af8b46b103bc47c57a50f7992240a2dd7bad,12,4,2,22629,,,0,"Remove neutron-server-opendaylight image

In [1] we have removed opendaylight image, but left neutron-server-opendaylight
image.

[1]: https://review.opendev.org/#/c/739446/

Change-Id: Iae312e24a4ff9ab79979328abac3410fbb1a3cc2
",git fetch https://review.opendev.org/openstack/kolla refs/changes/18/742618/2 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/neutron/neutron-server-opendaylight/Dockerfile.j2', 'releasenotes/notes/remove-neutron-server-opendaylight-6cacd3936c0dc91e.yaml', 'kolla/common/config.py']",4,7cc133961eab0877d302023bcaca628a2744c7cd,remove_neutron_opendaylight,," 'opendaylight', 'neutron-server-opendaylight-plugin-networking-odl': { 'type': 'url', 'location': ('$tarballs_base/openstack/networking-odl/' 'networking-odl-${openstack_branch}.tar.gz')}, 'neutron-server-opendaylight-plugin-networking-bgpvpn': { 'type': 'url', 'location': ('$tarballs_base/openstack/networking-bgpvpn/' 'networking-bgpvpn-${openstack_branch}.tar.gz')}, 'neutron-server-opendaylight-plugin-networking-l2gw': { 'type': 'url', 'location': ('$tarballs_base/openstack/networking-l2gw/' 'networking-l2gw-${openstack_branch}.tar.gz')}, 'neutron-server-opendaylight-plugin-networking-sfc': { 'type': 'url', 'location': ('$tarballs_base/openstack/networking-sfc/' 'networking-sfc-${openstack_branch}.tar.gz')},",4,80
openstack%2Fcharm-glance-simplestreams-sync~master~I820ccdda90e15b4dd8bcc711cdb8d72589c134c2,openstack/charm-glance-simplestreams-sync,master,I820ccdda90e15b4dd8bcc711cdb8d72589c134c2,Add Victoria test bundles,MERGED,2020-07-15 10:10:19.000000000,2020-07-23 13:38:15.000000000,2020-07-23 13:38:14.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-15 10:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/3c052d8156fe2efdf9497fe938541ba390ad87c9', 'message': 'Add Victoria test bundles\n\nChange-Id: I820ccdda90e15b4dd8bcc711cdb8d72589c134c2\n'}, {'number': 2, 'created': '2020-07-23 09:24:47.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/d4af9785f6e7a7d3b15e6a0a36d7906d86c605b4', 'message': 'Add Victoria test bundles\n\nChange-Id: I820ccdda90e15b4dd8bcc711cdb8d72589c134c2\n'}]",0,741134,d4af9785f6e7a7d3b15e6a0a36d7906d86c605b4,11,4,2,31289,,,0,"Add Victoria test bundles

Change-Id: I820ccdda90e15b4dd8bcc711cdb8d72589c134c2
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/34/741134/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml']",3,3c052d8156fe2efdf9497fe938541ba390ad87c9,victoria-charm-tests,"variables: source: &source distro series: groovy comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': '1': '2': '3': '4': '5': '6': '7': '8': constraints: ""mem=2048"" '9': constraints: ""mem=2048"" '10': constraints: ""mem=2048"" '11': '12': '13': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router vault-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *source to: - '0' - '1' - '2' vault: charm: cs:~openstack-charmers-next/vault num_units: 1 to: - '3' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *source to: - '4' glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *source to: - '5' glance-simplestreams-sync: charm: ../../glance-simplestreams-sync num_units: 1 to: - '6' ceph-radosgw: charm: cs:~openstack-charmers-next/ceph-radosgw num_units: 1 options: source: *source to: - '7' ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 storage: osd-devices: 'cinder,10G' options: source: *source to: - '8' - '9' - '10' ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: source: *source to: - '11' - '12' - '13' relations: - ['keystone:certificates', 'vault:certificates'] - ['glance:certificates', 'vault:certificates'] - ['glance-simplestreams-sync:certificates', 'vault:certificates'] - ['glance:identity-service', 'keystone:identity-service'] - ['glance-simplestreams-sync:identity-service', 'keystone:identity-service'] - ['keystone:shared-db','keystone-mysql-router:shared-db'] - ['glance:shared-db','glance-mysql-router:shared-db'] - ['vault:shared-db','vault-mysql-router:shared-db'] - ['keystone-mysql-router:db-router','mysql-innodb-cluster:db-router'] - ['glance-mysql-router:db-router','mysql-innodb-cluster:db-router'] - ['vault-mysql-router:db-router','mysql-innodb-cluster:db-router'] - ['ceph-osd:mon', 'ceph-mon:osd'] - ['ceph-radosgw:mon', 'ceph-mon:radosgw'] - ['ceph-radosgw:identity-service', 'keystone:identity-service'] - ['ceph-radosgw:certificates', 'vault:certificates'] ",,245,2
openstack%2Ftripleo-heat-templates~master~I883e457ea60ebbf5290ab6afa9909386cc2f8f0c,openstack/tripleo-heat-templates,master,I883e457ea60ebbf5290ab6afa9909386cc2f8f0c,Attempt to remove octavia tls proxy service only present,MERGED,2020-07-08 14:33:58.000000000,2020-07-23 13:29:20.000000000,2020-07-23 13:29:19.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8297}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 29244}]","[{'number': 1, 'created': '2020-07-08 14:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df1b3f309286817d6edbcda5b93dfda19e551a36', 'message': 'Attempt to remove octavia tls proxy service only present\n\nIf the cli is podman we try to remove the octavia tls proxy systemd\nservice without checking it if exists, resulting in an error on\nupdates/upgrades. This patch makes those steps conditional on whether\nthe services exists.\n\nChange-Id: I883e457ea60ebbf5290ab6afa9909386cc2f8f0c\nCloses-Bug: #1886833\n'}, {'number': 2, 'created': '2020-07-15 12:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c13141bd4546022dfae5053349507c4559d274e', 'message': 'Attempt to remove octavia tls proxy service only present\n\nIf the cli is podman we try to remove the octavia tls proxy systemd\nservice without checking it if exists, resulting in an error on\nupdates/upgrades. This patch makes those steps conditional on whether\nthe services exists.\n\nChange-Id: I883e457ea60ebbf5290ab6afa9909386cc2f8f0c\nCloses-Bug: #1886833\n'}, {'number': 3, 'created': '2020-07-15 16:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/294ad308655a78914480064278dc3a7ce4b90b9b', 'message': 'Attempt to remove octavia tls proxy service only present\n\nIf the cli is podman we try to remove the octavia tls proxy systemd\nservice without checking it if exists, resulting in an error on\nupdates/upgrades. This patch makes those steps conditional on whether\nthe services exists.\n\nChange-Id: I883e457ea60ebbf5290ab6afa9909386cc2f8f0c\nCloses-Bug: #1886833\n'}, {'number': 4, 'created': '2020-07-17 13:20:31.000000000', 'files': ['deployment/octavia/octavia-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bf279de03f326fa53b31a08e733e15053a896492', 'message': 'Attempt to remove octavia tls proxy service only present\n\nIf the cli is podman we try to remove the octavia tls proxy systemd\nservice without checking it if exists, resulting in an error on\nupdates/upgrades. This patch makes those steps conditional on whether\nthe services exists.\n\nChange-Id: I883e457ea60ebbf5290ab6afa9909386cc2f8f0c\nCloses-Bug: #1886833\n'}]",9,740003,bf279de03f326fa53b31a08e733e15053a896492,53,12,4,6681,,,0,"Attempt to remove octavia tls proxy service only present

If the cli is podman we try to remove the octavia tls proxy systemd
service without checking it if exists, resulting in an error on
updates/upgrades. This patch makes those steps conditional on whether
the services exists.

Change-Id: I883e457ea60ebbf5290ab6afa9909386cc2f8f0c
Closes-Bug: #1886833
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/03/740003/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/octavia/octavia-api-container-puppet.yaml'],1,df1b3f309286817d6edbcda5b93dfda19e551a36,bug/1886833," - name: if podman, check if there is a tripleo_octavia_api_tls_proxy stat: path: ""/etc/systemd/system/tripleo_octavia_api_tls_proxy"" register: octavia_api_proxy_result when: - container_cli == 'podman' - octavia_api_proxy_result.stat.exists when: - container_cli == 'podman' - octavia_api_proxy_result.stat.exists when: - container_cli == 'podman' - octavia_api_proxy_result.stat.exists", when: container_cli == 'podman' when: container_cli == 'podman' when: container_cli == 'podman',13,3
openstack%2Fcharm-octavia-diskimage-retrofit~master~Ia1eb56b1605a4c69b0e79a65dae55d20e02e458c,openstack/charm-octavia-diskimage-retrofit,master,Ia1eb56b1605a4c69b0e79a65dae55d20e02e458c,Updates for 20.08 cycle start for groovy and libs,MERGED,2020-06-02 13:35:32.000000000,2020-07-23 13:17:15.000000000,2020-07-23 13:17:15.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-06-02 13:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/8f00e103f19fb5a1ad0e39dde65c1678546ad95b', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: Ia1eb56b1605a4c69b0e79a65dae55d20e02e458c\n'}, {'number': 2, 'created': '2020-07-14 09:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/b6d79b70c0955b35b09ffa94daf513d92eb42243', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: Ia1eb56b1605a4c69b0e79a65dae55d20e02e458c\n'}, {'number': 3, 'created': '2020-07-23 08:08:51.000000000', 'files': ['rebuild', 'src/tests/bundles/eoan.yaml', 'src/tests/bundles/bionic-stein.yaml', 'src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/bionic-rocky.yaml', 'src/metadata.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia-diskimage-retrofit/commit/c2dd45b8000bad1b2448579b66d4e689aaa2eebb', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: Ia1eb56b1605a4c69b0e79a65dae55d20e02e458c\n'}]",0,732667,c2dd45b8000bad1b2448579b66d4e689aaa2eebb,27,5,3,20870,,,0,"Updates for 20.08 cycle start for groovy and libs

- Adds groovy to the series in the metadata
- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild

Change-Id: Ia1eb56b1605a4c69b0e79a65dae55d20e02e458c
",git fetch https://review.opendev.org/openstack/charm-octavia-diskimage-retrofit refs/changes/67/732667/1 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'src/metadata.yaml']",2,8f00e103f19fb5a1ad0e39dde65c1678546ad95b,batch-groovy-ch-libs,- openstack series: - bionic - eoan - focal - groovy, - openstack series: - bionic - eoan - focal,6,5
openstack%2Fpython-tripleoclient~stable%2Ftrain~I7c43563381b694573801e6a54e973fdbd36e0798,openstack/python-tripleoclient,stable/train,I7c43563381b694573801e6a54e973fdbd36e0798,Throw warning if --limit used with a skip list in Heat,MERGED,2020-07-21 12:36:27.000000000,2020-07-23 12:37:28.000000000,2020-07-23 12:36:01.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-21 12:36:27.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cc4d0599609be754d08f6698872b789be6453ef9', 'message': 'Throw warning if --limit used with a skip list in Heat\n\nWe have recently switched the --limit option to take precedence over the\ndefined skip list via a Heat parameter. In order to prevent confusion\nbetween these two, we should throw a warning indicating that the\nparameter in Heat will be ignored when running ansible.\n\nDepends-On: https://review.opendev.org/#/c/741293/\nChange-Id: I7c43563381b694573801e6a54e973fdbd36e0798\nRelated-Bug: #1857298\n(cherry picked from commit 47dc9aae0e04856d8ffccd8c8c9b50d02c554aea)\n'}]",0,742171,cc4d0599609be754d08f6698872b789be6453ef9,12,4,1,14985,,,0,"Throw warning if --limit used with a skip list in Heat

We have recently switched the --limit option to take precedence over the
defined skip list via a Heat parameter. In order to prevent confusion
between these two, we should throw a warning indicating that the
parameter in Heat will be ignored when running ansible.

Depends-On: https://review.opendev.org/#/c/741293/
Change-Id: I7c43563381b694573801e6a54e973fdbd36e0798
Related-Bug: #1857298
(cherry picked from commit 47dc9aae0e04856d8ffccd8c8c9b50d02c554aea)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/71/742171/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py', 'tripleoclient/v1/overcloud_deploy.py']",4,cc4d0599609be754d08f6698872b789be6453ef9,bug/1857298," def _check_limit_skiplist_warning(self, env): if env.get('parameter_defaults').get('DeploymentServerBlacklist'): msg = _('[WARNING] DeploymentServerBlacklist is defined and will ' 'be ignored because --limit has been specified.') self.log.warning(msg) if parsed_args.limit: # check if skip list is defined while using --limit and throw a # warning if necessary self._check_limit_skiplist_warning(env) ",,103,0
openstack%2Fcastellan~stable%2Frocky~I4b8075429218a494f75f5e3611f48927d18f1700,openstack/castellan,stable/rocky,I4b8075429218a494f75f5e3611f48927d18f1700,Add bindep.txt,ABANDONED,2020-07-13 14:01:32.000000000,2020-07-23 12:36:15.000000000,,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-07-13 14:01:32.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/castellan/commit/395c5f575149b7401441c18131bad0c3723dec28', 'message': 'Add bindep.txt\n\nThe Vault functional tests are currently failing in the gate, and it\nappears to be because the unzip binary is not present. We need to\nadd it to bindep so it will be installed before running tests.\n\nChange-Id: I4b8075429218a494f75f5e3611f48927d18f1700\nCloses-Bug: 1840061\n(cherry picked from commit 2547c8c9f8fa76b01aa133c53bc321bc2625668b)\n(cherry picked from commit a28833518d113b6d33a29c6e301752e6aff4c9b8)\n'}]",0,740698,395c5f575149b7401441c18131bad0c3723dec28,13,3,1,27954,,,0,"Add bindep.txt

The Vault functional tests are currently failing in the gate, and it
appears to be because the unzip binary is not present. We need to
add it to bindep so it will be installed before running tests.

Change-Id: I4b8075429218a494f75f5e3611f48927d18f1700
Closes-Bug: 1840061
(cherry picked from commit 2547c8c9f8fa76b01aa133c53bc321bc2625668b)
(cherry picked from commit a28833518d113b6d33a29c6e301752e6aff4c9b8)
",git fetch https://review.opendev.org/openstack/castellan refs/changes/98/740698/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tox.ini']",2,395c5f575149b7401441c18131bad0c3723dec28,," [testenv:bindep] basepython = python3 # Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above). deps = bindep commands = bindep test usedevelop = False",,16,0
openstack%2Fopenstack-ansible-repo_server~stable%2Fstein~I0c56df1d184553a6128c9645811e7ed6950e893b,openstack/openstack-ansible-repo_server,stable/stein,I0c56df1d184553a6128c9645811e7ed6950e893b,add missing quote to lsyncd.lua template,MERGED,2020-07-20 09:15:45.000000000,2020-07-23 12:30:21.000000000,2020-07-23 12:28:39.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-20 09:15:45.000000000', 'files': ['templates/lsyncd.lua.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/c801daedaf07d4df36869685a27637e4de7768e0', 'message': 'add missing quote to lsyncd.lua template\n\nChange-Id: I0c56df1d184553a6128c9645811e7ed6950e893b\n(cherry picked from commit 220a48107111e7fc33d6342cf71bb8f93d18a523)\n(cherry picked from commit d8c48fe420b83a79595259c91ab31d807ea64c53)\n'}]",0,741896,c801daedaf07d4df36869685a27637e4de7768e0,9,4,1,25023,,,0,"add missing quote to lsyncd.lua template

Change-Id: I0c56df1d184553a6128c9645811e7ed6950e893b
(cherry picked from commit 220a48107111e7fc33d6342cf71bb8f93d18a523)
(cherry picked from commit d8c48fe420b83a79595259c91ab31d807ea64c53)
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/96/741896/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/lsyncd.lua.j2'],1,c801daedaf07d4df36869685a27637e4de7768e0,train/fix-lsyncd-template-quote-stable/stein," exclude = ""{{ repo_build_global_links_dirname }}"","," exclude = {{ repo_build_global_links_dirname }}"",",1,1
openstack%2Ftripleo-heat-templates~master~Ifad07edb4496b0e3ea5b34aee3933ece4bb2dfc6,openstack/tripleo-heat-templates,master,Ifad07edb4496b0e3ea5b34aee3933ece4bb2dfc6,Remove strategy comment,MERGED,2020-07-22 19:45:10.000000000,2020-07-23 12:04:37.000000000,2020-07-23 12:03:39.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-22 19:45:10.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a46a91e75c5a1c689974b7bdf9ee8c94e9bf7e9', 'message': 'Remove strategy comment\n\nWe switched to our free version which does work with any_errors_fatal\nnow so this comment is no longer relevant.\n\nChange-Id: Ifad07edb4496b0e3ea5b34aee3933ece4bb2dfc6\n'}]",0,742528,7a46a91e75c5a1c689974b7bdf9ee8c94e9bf7e9,9,4,1,14985,,,0,"Remove strategy comment

We switched to our free version which does work with any_errors_fatal
now so this comment is no longer relevant.

Change-Id: Ifad07edb4496b0e3ea5b34aee3933ece4bb2dfc6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/742528/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,7a46a91e75c5a1c689974b7bdf9ee8c94e9bf7e9,remove-comment,," # FIXME(shardy) - it would be nice to use strategy: free to # allow the tasks per-step to run in parallel on each role, # but that doesn't work with any_errors_fatal: yes",0,3
openstack%2Fcharm-neutron-api-plugin-arista~master~If17aeca06ef71310b1b918a1fa9a555a636b03f8,openstack/charm-neutron-api-plugin-arista,master,If17aeca06ef71310b1b918a1fa9a555a636b03f8,Make it a proper neutron-api plugin,MERGED,2020-07-22 15:39:33.000000000,2020-07-23 11:13:07.000000000,2020-07-23 11:13:07.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-22 15:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/0e5b9aa4853421cc052c354dc8e6ad2c931137bf', 'message': 'Make it a proper neutron-api plugin\n\nThis removes the need for a special neutron-api fork. Validated that the\ncontent of /etc/neutron/ remained equivalent after this change.\n\nChange-Id: If17aeca06ef71310b1b918a1fa9a555a636b03f8\n'}, {'number': 2, 'created': '2020-07-22 15:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/7718d5ad887d055815c2c112c0e9b9e0eb641d6c', 'message': 'Make it a proper neutron-api plugin\n\nThis removes the need for a special neutron-api fork. Validated that the\ncontent of /etc/neutron/ remained equivalent after this change.\n\nChange-Id: If17aeca06ef71310b1b918a1fa9a555a636b03f8\n'}, {'number': 3, 'created': '2020-07-23 07:55:35.000000000', 'files': ['src/config.yaml', 'unit_tests/test_neutron_arista_handlers.py', 'src/tests/bundles/bionic-rocky.yaml', '.zuul.yaml', 'src/lib/charm/openstack/neutron_arista.py', 'src/reactive/neutron_arista_handlers.py', 'src/tests/bundles/bionic-queens.yaml', 'src/templates/ml2_conf_arista.ini', 'src/tests/bundles/xenial-queens.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/9fa03e8a64eb53075ddec158c9348ecdc0eec2f0', 'message': 'Make it a proper neutron-api plugin\n\nThis removes the need for a special neutron-api fork. Validated that the\ncontent of /etc/neutron/ remained equivalent after this change.\n\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/371\nChange-Id: If17aeca06ef71310b1b918a1fa9a555a636b03f8\n'}]",2,742460,9fa03e8a64eb53075ddec158c9348ecdc0eec2f0,19,4,3,31289,,,0,"Make it a proper neutron-api plugin

This removes the need for a special neutron-api fork. Validated that the
content of /etc/neutron/ remained equivalent after this change.

Func-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/371
Change-Id: If17aeca06ef71310b1b918a1fa9a555a636b03f8
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-arista refs/changes/60/742460/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/tests/bundles/bionic-rocky.yaml', 'unit_tests/test_neutron_arista_handlers.py', 'src/lib/charm/openstack/neutron_arista.py', 'src/reactive/neutron_arista_handlers.py', 'src/tests/bundles/bionic-queens.yaml', 'src/templates/ml2_conf_arista.ini', 'src/tests/bundles/xenial-queens.yaml', 'src/tests/tests.yaml']",9,0e5b9aa4853421cc052c354dc8e6ad2c931137bf,proper-neutron-api-plugin,# NOTE(lourot): on bionic-rocky neutron-server fails to start with:,# NOTE(lourot): on bionic-rocky our special neutron-api fork for Arista fails # to start with:,82,114
openstack%2Fkolla~master~I6a3e5faec77f207a163020cd3694ff6b57c73e5e,openstack/kolla,master,I6a3e5faec77f207a163020cd3694ff6b57c73e5e,Remove neutron-server-ovn and neutron-ovn-metadata-agent images,ABANDONED,2020-07-23 10:41:31.000000000,2020-07-23 11:08:31.000000000,,"[{'_account_id': 14826}, {'_account_id': 22629}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-23 10:41:31.000000000', 'files': ['docker/neutron/neutron-server-ovn/Dockerfile.j2', 'docker/neutron/neutron-metadata-agent-ovn/Dockerfile.j2', 'releasenotes/notes/remove-neutron-server-ovn-b3c1315912ca0f94.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b60995d19012a99b6569d6071b3ddeb96e5c1fd0', 'message': 'Remove neutron-server-ovn and neutron-ovn-metadata-agent images\n\nThose have been deprecated in previous cycle - see [1].\n\n[1]: https://review.opendev.org/#/c/701074/\n\nChange-Id: I6a3e5faec77f207a163020cd3694ff6b57c73e5e\n'}]",0,742635,b60995d19012a99b6569d6071b3ddeb96e5c1fd0,5,3,1,22629,,,0,"Remove neutron-server-ovn and neutron-ovn-metadata-agent images

Those have been deprecated in previous cycle - see [1].

[1]: https://review.opendev.org/#/c/701074/

Change-Id: I6a3e5faec77f207a163020cd3694ff6b57c73e5e
",git fetch https://review.opendev.org/openstack/kolla refs/changes/35/742635/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/neutron/neutron-server-ovn/Dockerfile.j2', 'docker/neutron/neutron-metadata-agent-ovn/Dockerfile.j2', 'releasenotes/notes/remove-neutron-server-ovn-b3c1315912ca0f94.yaml']",3,b60995d19012a99b6569d6071b3ddeb96e5c1fd0,remove_neutron_server_ovn,--- upgrade: - | ``neutron-server-ovn`` and ``neutron-metadata-agent-ovn`` images have been removed. OVN drivers have been moved into Neutron code base in Ussuri release and ``networking-ovn`` bits are no longer required to be installed. ,,6,26
openstack%2Fopenstack-health~master~I328fd430e61b666147095f860d02a2badcfd3072,openstack/openstack-health,master,I328fd430e61b666147095f860d02a2badcfd3072,Use unittest.mock instead of third party mock,MERGED,2020-03-13 17:03:58.000000000,2020-07-23 11:02:35.000000000,2020-07-23 11:02:35.000000000,"[{'_account_id': 5196}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-03-13 17:03:58.000000000', 'files': ['openstack_health/tests/test_api.py', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-health/commit/711c267bca7e2ca3326640f6e9eaee86d57a6a13', 'message': 'Use unittest.mock instead of third party mock\n\nNow that we no longer support py27, we can use the standard library\nunittest.mock modules instead of the third party mock lib.\n\nChange-Id: I328fd430e61b666147095f860d02a2badcfd3072\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,713030,711c267bca7e2ca3326640f6e9eaee86d57a6a13,8,4,1,11904,,,0,"Use unittest.mock instead of third party mock

Now that we no longer support py27, we can use the standard library
unittest.mock modules instead of the third party mock lib.

Change-Id: I328fd430e61b666147095f860d02a2badcfd3072
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-health refs/changes/30/713030/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_health/tests/test_api.py', 'test-requirements.txt']",2,711c267bca7e2ca3326640f6e9eaee86d57a6a13,unittest.mock,,mock>=2.0 # BSD,1,2
openstack%2Ftripleo-ansible~stable%2Fussuri~Id0487e4649ef1f6aaf2591e003746b385f592095,openstack/tripleo-ansible,stable/ussuri,Id0487e4649ef1f6aaf2591e003746b385f592095,BaR: Deleted duplicated variables,MERGED,2020-07-22 04:06:17.000000000,2020-07-23 11:01:45.000000000,2020-07-23 11:01:45.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-22 04:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c63ad7aadd4e4fbef5ed6a0a0b3323b59b446899', 'message': ""BaR: Deleted duplicated variables\n\nThe backup_and_restore has the same name for a\nfact and a register variable, both of them named the same.\nThat variable is used later on a template (local.conf.j2), which\nis using the register one.\n\nThis patch removed the register variable, as it's not used.\n\nChange-Id: Id0487e4649ef1f6aaf2591e003746b385f592095\nCloses-Bug: 1888404\n""}, {'number': 5, 'created': '2020-07-22 17:40:05.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6ac7cc478d6e1a0f63a2caf2d9e1340c28363c04', 'message': ""BaR: Deleted duplicated variables\n\nThe backup_and_restore has the same name for a\nfact and a register variable, both of them named the same.\nThat variable is used later on a template (local.conf.j2), which\nis using the register one.\n\nThis patch removed the register variable, as it's not used.\n\nChange-Id: Id0487e4649ef1f6aaf2591e003746b385f592095\nCloses-Bug: 1888404\n(cherry picked from commit c384348f5586bb5fb47bf59b7bb9e0a61f8178bf)\n""}]",0,742340,6ac7cc478d6e1a0f63a2caf2d9e1340c28363c04,16,7,2,12393,,,0,"BaR: Deleted duplicated variables

The backup_and_restore has the same name for a
fact and a register variable, both of them named the same.
That variable is used later on a template (local.conf.j2), which
is using the register one.

This patch removed the register variable, as it's not used.

Change-Id: Id0487e4649ef1f6aaf2591e003746b385f592095
Closes-Bug: 1888404
(cherry picked from commit c384348f5586bb5fb47bf59b7bb9e0a61f8178bf)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/40/742340/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml'],1,c63ad7aadd4e4fbef5ed6a0a0b3323b59b446899,bug/1888404-stable/ussuri,, register: tripleo_backup_and_restore_exclude_paths,0,1
openstack%2Ftripleo-quickstart~master~Ic139df3fa07fd7faeab8d04eb8505333f8661da8,openstack/tripleo-quickstart,master,Ic139df3fa07fd7faeab8d04eb8505333f8661da8,Set load_balancer.member_role for tempestconf for train,MERGED,2020-07-22 13:45:47.000000000,2020-07-23 10:52:02.000000000,2020-07-23 10:50:29.000000000,"[{'_account_id': 6469}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-22 13:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e6f3b49ebac16cb99ef551ef699a87a0f9ca636c', 'message': 'Set load_balancer.member_role for tempestconf for train\n\nhttps://review.opendev.org/731501 detects the\nload-balancer role automatically via tempestconf but\nhttps://review.opendev.org/740314 removes load-balancer\nmember role from tempestconf extra overrides from fs060.\n\nThe above tempestconf patch does not yet available for train\nas tempestconf needs a new release. So we are making it\nconditional for train release in fs.\n\nChange-Id: Ic139df3fa07fd7faeab8d04eb8505333f8661da8\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-07-22 14:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9423d36704160e39b9e79d1403a6559f6b48db32', 'message': 'Set load_balancer.member_role for tempestconf for train\n\nhttps://review.opendev.org/731501 detects the\nload-balancer role automatically via tempestconf but\nhttps://review.opendev.org/740314 removes load-balancer\nmember role from tempestconf extra overrides from fs060.\n\nThe above tempestconf patch does not yet available for train\nas tempestconf needs a new release. So we are making it\nconditional for train release in fs.\n\nChange-Id: Ic139df3fa07fd7faeab8d04eb8505333f8661da8\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-07-22 16:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/60782a6c64b7fde80b349b9742d2334c8330df1f', 'message': 'Set load_balancer.member_role for tempestconf for train\n\nhttps://review.opendev.org/731501 detects the\nload-balancer role automatically via tempestconf but\nhttps://review.opendev.org/740314 removes load-balancer\nmember role from tempestconf extra overrides from fs060.\n\nThe above tempestconf patch does not yet available for train\nas tempestconf needs a new release. So we are making it\nconditional for train release in fs.\n\nChange-Id: Ic139df3fa07fd7faeab8d04eb8505333f8661da8\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-07-22 16:52:48.000000000', 'files': ['config/general_config/featureset062.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/638b39759a028fd562a49503d5d597c4956cc5b9', 'message': 'Set load_balancer.member_role for tempestconf for train\n\nhttps://review.opendev.org/731501 detects the\nload-balancer role automatically via tempestconf but\nhttps://review.opendev.org/740314 removes load-balancer\nmember role from tempestconf extra overrides from fs060.\n\nThe above tempestconf patch does not yet available for train\nas tempestconf needs a new release. So we are making it\nconditional for train release in fs.\n\nChange-Id: Ic139df3fa07fd7faeab8d04eb8505333f8661da8\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,742432,638b39759a028fd562a49503d5d597c4956cc5b9,18,8,4,12393,,,0,"Set load_balancer.member_role for tempestconf for train

https://review.opendev.org/731501 detects the
load-balancer role automatically via tempestconf but
https://review.opendev.org/740314 removes load-balancer
member role from tempestconf extra overrides from fs060.

The above tempestconf patch does not yet available for train
as tempestconf needs a new release. So we are making it
conditional for train release in fs.

Change-Id: Ic139df3fa07fd7faeab8d04eb8505333f8661da8
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/32/742432/4 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset062.yml'],1,e6f3b49ebac16cb99ef551ef699a87a0f9ca636c,fixoctavia,"tempest_tempestconf_profile_overrides: >- {% if release in ['train'] -%} load_balancer.member_role: '""Member""' {%- endif -%}",tempest_tempestconf_profile_overrides:,4,1
openstack%2Fnova~stable%2Fpike~Id687e11e235fd6c2f99bb647184310dfdce9a08d,openstack/nova,stable/pike,Id687e11e235fd6c2f99bb647184310dfdce9a08d,libvirt: Do not reraise DiskNotFound exceptions during resize,MERGED,2020-07-21 13:01:27.000000000,2020-07-23 10:47:53.000000000,2020-07-23 10:47:53.000000000,"[{'_account_id': 6062}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-21 13:01:27.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9202b2e6cfeb5dd67b54d7eaa6187725a34aeae6', 'message': ""libvirt: Do not reraise DiskNotFound exceptions during resize\n\nWhen an instance has VERIFY_RESIZE status, the instance disk on the\nsource compute host has moved to <instance_path>/<instance_uuid>_resize\nfolder, which leads to disk not found errors if the update available\nresource periodic task on the source compute runs before resize is\nactually confirmed.\n\nIcec2769bf42455853cbe686fb30fda73df791b25 almost fixed this issue but it\nwill only set reraise to False when task_state is not None, that isn't\nthe case when an instance is resized but resize is not yet confirmed.\nThis patch adds a condition based on vm_state to ensure we don't\nreraise DiskNotFound exceptions while resize is not confirmed.\n\nCloses-Bug: 1774249\nCo-Authored-By: Vladyslav Drok <vdrok@mirantis.com>\nChange-Id: Id687e11e235fd6c2f99bb647184310dfdce9a08d\n(cherry picked from commit 966192704c20d1b4e9faf384c8dafac8ea6e06ea)\n(cherry picked from commit f1280ab849d20819791f7c4030f570a917d3e91d)\n(cherry picked from commit fd5c45473823105d8572d7940980163c6f09169c)\n(cherry picked from commit d3bdeb26155c2d3b53850b790d3800a2dd78cada)\n""}]",0,742181,9202b2e6cfeb5dd67b54d7eaa6187725a34aeae6,9,5,1,31575,,,0,"libvirt: Do not reraise DiskNotFound exceptions during resize

When an instance has VERIFY_RESIZE status, the instance disk on the
source compute host has moved to <instance_path>/<instance_uuid>_resize
folder, which leads to disk not found errors if the update available
resource periodic task on the source compute runs before resize is
actually confirmed.

Icec2769bf42455853cbe686fb30fda73df791b25 almost fixed this issue but it
will only set reraise to False when task_state is not None, that isn't
the case when an instance is resized but resize is not yet confirmed.
This patch adds a condition based on vm_state to ensure we don't
reraise DiskNotFound exceptions while resize is not confirmed.

Closes-Bug: 1774249
Co-Authored-By: Vladyslav Drok <vdrok@mirantis.com>
Change-Id: Id687e11e235fd6c2f99bb647184310dfdce9a08d
(cherry picked from commit 966192704c20d1b4e9faf384c8dafac8ea6e06ea)
(cherry picked from commit f1280ab849d20819791f7c4030f570a917d3e91d)
(cherry picked from commit fd5c45473823105d8572d7940980163c6f09169c)
(cherry picked from commit d3bdeb26155c2d3b53850b790d3800a2dd78cada)
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/742181/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,9202b2e6cfeb5dd67b54d7eaa6187725a34aeae6,bug/1774249," vm_state=vm_states.ACTIVE, def test_disk_over_committed_size_total_disk_not_found_ignore_task_state( objects.Instance(uuid=uuids.instance, task_state=None, vm_state=vm_states.RESIZED)])) def test_disk_over_committed_size_total_disk_not_found_ignore_vmstate( self, mock_get, mock_bdms, mock_get_disk_info, mock_list_domains): """"""Tests that we handle DiskNotFound gracefully for an instance that is resized but resize is not confirmed yet. """""" mock_dom = mock.Mock() mock_dom.XMLDesc.return_value = ""<domain/>"" mock_dom.UUIDString.return_value = uuids.instance mock_list_domains.return_value = [mock_dom] drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) self.assertEqual(0, drvr._get_disk_over_committed_size_total()) @mock.patch('nova.virt.libvirt.host.Host.list_instance_domains') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver.' '_get_instance_disk_info_from_config', side_effect=exception.DiskNotFound(location='/opt/stack/foo')) @mock.patch('nova.objects.BlockDeviceMappingList.bdms_by_instance_uuid', return_value=objects.BlockDeviceMappingList()) @mock.patch('nova.objects.InstanceList.get_by_filters', return_value=objects.InstanceList(objects=[ objects.Instance(uuid=uuids.instance, vm_state=vm_states.ACTIVE, task_state=None)]))"," def test_disk_over_committed_size_total_disk_not_found_ignore( objects.Instance(uuid=uuids.instance, task_state=None)]))",37,5
openstack%2Fkolla-ansible~stable%2Fussuri~I7c22dd380fd5b1dff7b421109c4ae37bab11834a,openstack/kolla-ansible,stable/ussuri,I7c22dd380fd5b1dff7b421109c4ae37bab11834a,fix deploy freezer failed when kolla_dev_mod enabled,MERGED,2020-07-23 05:44:47.000000000,2020-07-23 10:23:54.000000000,2020-07-23 10:21:34.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-23 05:44:47.000000000', 'files': ['releasenotes/notes/bug-freezer-dev-mod-failed-af5bebb6c3eaabad.yaml', 'ansible/roles/freezer/tasks/deploy.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b4e22abff35e9ef989e669c5a7f07464302d8a62', 'message': 'fix deploy freezer failed when kolla_dev_mod enabled\n\nwe should clone freezer code before run bootstray,\notherwise, the directory /opt/stack/freezer which is empty will\nmount into freezer_api container.\n\nCloses-Bug: #1888242\n\nChange-Id: I7c22dd380fd5b1dff7b421109c4ae37bab11834a\n(cherry picked from commit 7dc471323c8e5248b2b739573c2472f427cb4fc6)\n'}]",0,742590,b4e22abff35e9ef989e669c5a7f07464302d8a62,11,3,1,26285,,,0,"fix deploy freezer failed when kolla_dev_mod enabled

we should clone freezer code before run bootstray,
otherwise, the directory /opt/stack/freezer which is empty will
mount into freezer_api container.

Closes-Bug: #1888242

Change-Id: I7c22dd380fd5b1dff7b421109c4ae37bab11834a
(cherry picked from commit 7dc471323c8e5248b2b739573c2472f427cb4fc6)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/90/742590/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-freezer-dev-mod-failed-af5bebb6c3eaabad.yaml', 'ansible/roles/freezer/tasks/deploy.yml']",2,b4e22abff35e9ef989e669c5a7f07464302d8a62,bug/1888242-stable/ussuri,- include_tasks: clone.yml when: freezer_dev_mode | bool ,- include_tasks: clone.yml when: freezer_dev_mode | bool ,8,3
openstack%2Fkolla-ansible~stable%2Fussuri~I61235b51e2e1325b8a9b4f85bf634f663c7ec3cc,openstack/kolla-ansible,stable/ussuri,I61235b51e2e1325b8a9b4f85bf634f663c7ec3cc,Make /dev/kvm permissions handling more robust,MERGED,2020-07-22 15:54:10.000000000,2020-07-23 10:22:48.000000000,2020-07-23 10:21:33.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-22 15:54:10.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'releasenotes/notes/bug-1681461-761f0cdf71bcb962.yaml', 'ansible/roles/nova-cell/templates/99-kolla-kvm.rules.j2', 'ansible/roles/nova-cell/tasks/config-host.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6a6ee3df294f38cbba98f4a34a7ac182e8abce71', 'message': 'Make /dev/kvm permissions handling more robust\n\nThis makes use of udev rules to make it smarter and override\nhost-level packages settings.\nAdditionally, this masks Ubuntu-only service that is another\npain point in terms of /dev/kvm permissions.\nFingers crossed for no further surprises.\n\nChange-Id: I61235b51e2e1325b8a9b4f85bf634f663c7ec3cc\nCloses-bug: #1681461\n(cherry picked from commit 202365e70213fe7f23d1d618789e356e24ed0679)\n'}]",0,742466,6a6ee3df294f38cbba98f4a34a7ac182e8abce71,9,3,1,14826,,,0,"Make /dev/kvm permissions handling more robust

This makes use of udev rules to make it smarter and override
host-level packages settings.
Additionally, this masks Ubuntu-only service that is another
pain point in terms of /dev/kvm permissions.
Fingers crossed for no further surprises.

Change-Id: I61235b51e2e1325b8a9b4f85bf634f663c7ec3cc
Closes-bug: #1681461
(cherry picked from commit 202365e70213fe7f23d1d618789e356e24ed0679)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/66/742466/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'releasenotes/notes/bug-1681461-761f0cdf71bcb962.yaml', 'ansible/roles/nova-cell/templates/99-kolla-kvm.rules.j2', 'ansible/roles/nova-cell/tasks/config-host.yml']",4,6a6ee3df294f38cbba98f4a34a7ac182e8abce71,bug/1681461-stable/ussuri," # NOTE(yoctozepto): Part of bug #1681461 fix. # This part can actually run on any distro and lets us drop the hardcoded # chown and chmod from the nova-libvirt image extend_start and make the process # more robust. - name: Install udev kolla kvm rules become: true template: src: ""99-kolla-kvm.rules.j2"" dest: ""/etc/udev/rules.d/99-kolla-kvm.rules"" mode: ""0644"" when: - nova_compute_virt_type == 'kvm' - inventory_hostname in groups[nova_cell_compute_group] # NOTE(yoctozepto): Part of bug #1681461 fix. # This part only really makes sense on Ubuntu and would end up being confusing # on others. This service changes /dev/kvm permissions. - name: Mask qemu-kvm service become: true systemd: name: qemu-kvm.service masked: true when: - nova_compute_virt_type == 'kvm' - ansible_distribution == 'Ubuntu' - inventory_hostname in groups[nova_cell_compute_group]",,42,0
openstack%2Fpuppet-openstack-integration~master~I5acda250e2c134918d8c22e8b010e20cfc3f9b33,openstack/puppet-openstack-integration,master,I5acda250e2c134918d8c22e8b010e20cfc3f9b33,Force overwriting existing ssh keys,MERGED,2020-07-21 11:37:22.000000000,2020-07-23 10:19:57.000000000,2020-07-23 10:19:56.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 10379}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-21 11:37:22.000000000', 'files': ['playbooks/run-beaker-tests.yaml', 'playbooks/run-libraries-beaker-tests.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/25bff52a31baf838ee60a7f2b3ad0aa0b622d008', 'message': 'Force overwriting existing ssh keys\n\nChange-Id: I5acda250e2c134918d8c22e8b010e20cfc3f9b33\n'}]",0,742146,25bff52a31baf838ee60a7f2b3ad0aa0b622d008,8,5,1,9816,,,0,"Force overwriting existing ssh keys

Change-Id: I5acda250e2c134918d8c22e8b010e20cfc3f9b33
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/46/742146/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/run-beaker-tests.yaml', 'playbooks/run-libraries-beaker-tests.yaml']",2,25bff52a31baf838ee60a7f2b3ad0aa0b622d008,keygen," ssh-keygen -f ~/.ssh/id_rsa -b 2048 -P """" -m PEM <<<y"," ssh-keygen -f ~/.ssh/id_rsa -b 2048 -P """" -m PEM",2,2
openstack%2Fkolla-ansible~stable%2Fussuri~I779c2b942d007acbdd43d999f2fc0cdc131d431f,openstack/kolla-ansible,stable/ussuri,I779c2b942d007acbdd43d999f2fc0cdc131d431f,"Fix fluentd warnings caused by ""type copy""",MERGED,2020-07-22 15:51:37.000000000,2020-07-23 10:19:42.000000000,2020-07-23 10:18:15.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-22 15:51:37.000000000', 'files': ['ansible/roles/common/templates/conf/output/00-local.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8fa0af6b53679a823e9b3670742a1f641d784858', 'message': 'Fix fluentd warnings caused by ""type copy""\n\nA ""@type copy"" statement is already present at the beginning of each\nmatch element, so extra ""type copy"" are not needed. They are causing the\nfollowing warnings in fluentd logs:\n\n[warn]: parameter \'type\' in <match syslog.local0.**>\n[warn]: parameter \'type\' in <match syslog.local1.**>\n\nThis commit also harmonizes indentation of the Monasca config block.\n\nChange-Id: I779c2b942d007acbdd43d999f2fc0cdc131d431f\nRelated-Bug: #1885873\n(cherry picked from commit 5b057812416c0c055c57352ca6f1f7964b046428)\n'}]",0,742465,8fa0af6b53679a823e9b3670742a1f641d784858,11,5,1,14826,,,0,"Fix fluentd warnings caused by ""type copy""

A ""@type copy"" statement is already present at the beginning of each
match element, so extra ""type copy"" are not needed. They are causing the
following warnings in fluentd logs:

[warn]: parameter 'type' in <match syslog.local0.**>
[warn]: parameter 'type' in <match syslog.local1.**>

This commit also harmonizes indentation of the Monasca config block.

Change-Id: I779c2b942d007acbdd43d999f2fc0cdc131d431f
Related-Bug: #1885873
(cherry picked from commit 5b057812416c0c055c57352ca6f1f7964b046428)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/65/742465/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/output/00-local.conf.j2'],1,8fa0af6b53679a823e9b3670742a1f641d784858,fluentd-warnings-stable/ussuri, <store> @type monasca keystone_url {{ keystone_internal_url }} monasca_api {{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ monasca_log_api_port }} monasca_api_version v2.0 username {{ monasca_agent_user }} password {{ monasca_agent_password }} domain_id default project_name {{ monasca_control_plane_project }} message_field_name Payload buffer_type file buffer_path /var/lib/fluentd/data/monasca.buffer/{{ syslog_swift_facility }}.* max_retry_wait 1800s disable_retry_limit true <buffer> chunk_limit_size 8m </buffer> </store> <store> @type monasca keystone_url {{ keystone_internal_url }} monasca_api {{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ monasca_log_api_port }} monasca_api_version v2.0 username {{ monasca_agent_user }} password {{ monasca_agent_password }} domain_id default project_name {{ monasca_control_plane_project }} message_field_name Payload buffer_type file buffer_path /var/lib/fluentd/data/monasca.buffer/{{ syslog_haproxy_facility }}.* max_retry_wait 1800s disable_retry_limit true <buffer> chunk_limit_size 8m </buffer> </store> <store> @type monasca keystone_url {{ keystone_internal_url }} monasca_api {{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ monasca_log_api_port }} monasca_api_version v2.0 username {{ monasca_agent_user }} password {{ monasca_agent_password }} domain_id default project_name {{ monasca_control_plane_project }} message_field_name Payload buffer_type file buffer_path /var/lib/fluentd/data/monasca.buffer/{{ syslog_glance_tls_proxy_facility }}.* max_retry_wait 1800s disable_retry_limit true <buffer> chunk_limit_size 8m </buffer> </store>, type copy <store> @type monasca keystone_url {{ keystone_internal_url }} monasca_api {{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ monasca_log_api_port }} monasca_api_version v2.0 username {{ monasca_agent_user }} password {{ monasca_agent_password }} domain_id default project_name {{ monasca_control_plane_project }} message_field_name Payload buffer_type file buffer_path /var/lib/fluentd/data/monasca.buffer/{{ syslog_swift_facility }}.* max_retry_wait 1800s disable_retry_limit true <buffer> chunk_limit_size 8m </buffer> </store> type copy <store> @type monasca keystone_url {{ keystone_internal_url }} monasca_api {{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ monasca_log_api_port }} monasca_api_version v2.0 username {{ monasca_agent_user }} password {{ monasca_agent_password }} domain_id default project_name {{ monasca_control_plane_project }} message_field_name Payload buffer_type file buffer_path /var/lib/fluentd/data/monasca.buffer/{{ syslog_haproxy_facility }}.* max_retry_wait 1800s disable_retry_limit true <buffer> chunk_limit_size 8m </buffer> </store> type copy <store> @type monasca keystone_url {{ keystone_internal_url }} monasca_api {{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ monasca_log_api_port }} monasca_api_version v2.0 username {{ monasca_agent_user }} password {{ monasca_agent_password }} domain_id default project_name {{ monasca_control_plane_project }} message_field_name Payload buffer_type file buffer_path /var/lib/fluentd/data/monasca.buffer/{{ syslog_glance_tls_proxy_facility }}.* max_retry_wait 1800s disable_retry_limit true <buffer> chunk_limit_size 8m </buffer> </store>,54,57
openstack%2Fironic~master~I34701b790ba91431b0b943ae8060a43d7ea9abbb,openstack/ironic,master,I34701b790ba91431b0b943ae8060a43d7ea9abbb,Adds boot mode support to iLO management interface,MERGED,2020-06-17 14:15:02.000000000,2020-07-23 09:58:56.000000000,2020-07-23 09:50:12.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 18781}, {'_account_id': 19339}, {'_account_id': 19604}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-06-17 14:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7b57a4e7577d394d6271900f5a6c647f18e212dd', 'message': ""Adds boot mode support to iLO management interface\n\nThis change adds 'get_boot_mode', 'set_boot_mode' and\n'get_supported_boot_modes' methods to driver management interface of 'ilo'\nand 'ilo5' hardware types.\n\nStory: 2007827\nTask: 40104\nChange-Id: I34701b790ba91431b0b943ae8060a43d7ea9abbb\n""}, {'number': 2, 'created': '2020-06-18 05:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e5fa100e463451b814d11396d5b4bf8814498024', 'message': ""Adds boot mode support to iLO management interface\n\nThis change adds 'get_boot_mode', 'set_boot_mode' and\n'get_supported_boot_modes' methods to driver management interface of 'ilo'\nand 'ilo5' hardware types.\n\nStory: 2007827\nTask: 40104\nChange-Id: I34701b790ba91431b0b943ae8060a43d7ea9abbb\n""}, {'number': 3, 'created': '2020-06-25 05:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/303d9872dc58e6efbd9800e2ed7373135dcc7317', 'message': ""Adds boot mode support to iLO management interface\n\nThis change adds 'get_boot_mode', 'set_boot_mode' and\n'get_supported_boot_modes' methods to driver management interface of 'ilo'\nand 'ilo5' hardware types.\n\nStory: 2007827\nTask: 40104\nChange-Id: I34701b790ba91431b0b943ae8060a43d7ea9abbb\n""}, {'number': 4, 'created': '2020-06-29 05:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/92b954917dc8d636171ccb6ffa5727273d74229d', 'message': ""Adds boot mode support to iLO management interface\n\nThis change adds 'get_boot_mode', 'set_boot_mode' and\n'get_supported_boot_modes' methods to driver management interface of 'ilo'\nand 'ilo5' hardware types.\n\nStory: 2007827\nTask: 40104\nChange-Id: I34701b790ba91431b0b943ae8060a43d7ea9abbb\n""}, {'number': 5, 'created': '2020-06-29 11:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e227d99bc857200d9f931f18282717f54cacbed8', 'message': ""Adds boot mode support to iLO management interface\n\nThis change adds 'get_boot_mode', 'set_boot_mode' and\n'get_supported_boot_modes' methods to driver management interface of 'ilo'\nand 'ilo5' hardware types.\n\nStory: 2007827\nTask: 40104\nChange-Id: I34701b790ba91431b0b943ae8060a43d7ea9abbb\n""}, {'number': 6, 'created': '2020-07-01 07:21:44.000000000', 'files': ['ironic/drivers/modules/ilo/common.py', 'ironic/drivers/modules/ilo/management.py', 'releasenotes/notes/ilo-support-boot-mode-management-apis-8173002daf79894c.yaml', 'ironic/tests/unit/drivers/modules/ilo/test_management.py', 'ironic/tests/unit/drivers/modules/ilo/test_common.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e43aee3db8f1ac95ff1c8683a83a98ac5decb1d8', 'message': ""Adds boot mode support to iLO management interface\n\nThis change adds 'get_boot_mode', 'set_boot_mode' and\n'get_supported_boot_modes' methods to driver management interface of 'ilo'\nand 'ilo5' hardware types.\n\nStory: 2007827\nTask: 40104\nChange-Id: I34701b790ba91431b0b943ae8060a43d7ea9abbb\n""}]",19,736232,e43aee3db8f1ac95ff1c8683a83a98ac5decb1d8,52,10,6,11076,,,0,"Adds boot mode support to iLO management interface

This change adds 'get_boot_mode', 'set_boot_mode' and
'get_supported_boot_modes' methods to driver management interface of 'ilo'
and 'ilo5' hardware types.

Story: 2007827
Task: 40104
Change-Id: I34701b790ba91431b0b943ae8060a43d7ea9abbb
",git fetch https://review.opendev.org/openstack/ironic refs/changes/32/736232/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ilo/common.py', 'ironic/drivers/modules/ilo/management.py', 'releasenotes/notes/ilo-support-boot-mode-management-apis-8173002daf79894c.yaml', 'ironic/tests/unit/drivers/modules/ilo/test_management.py', 'ironic/tests/unit/drivers/modules/ilo/test_common.py']",5,7b57a4e7577d394d6271900f5a6c647f18e212dd,ilo_boot_mode," @mock.patch.object(ilo_common, 'get_ilo_object', spec_set=True, autospec=True) def test_get_current_boot_mode(self, get_ilo_object_mock): ilo_object_mock = get_ilo_object_mock.return_value get_current_boot_mode_mock = ilo_object_mock.get_current_boot_mode get_current_boot_mode_mock.return_value = 'LEGACY' ret = ilo_common.get_current_boot_mode(self.node) self.assertEqual('bios', ret) get_ilo_object_mock.assert_called_once_with(self.node) get_current_boot_mode_mock.assert_called_once_with() @mock.patch.object(ilo_common, 'get_ilo_object', spec_set=True, autospec=True) def test_get_current_boot_mode_fail(self, get_ilo_object_mock): ilo_object_mock = get_ilo_object_mock.return_value get_current_boot_mode_mock = ilo_object_mock.get_current_boot_mode exc = ilo_error.IloError('error') get_current_boot_mode_mock.side_effect = exc self.assertRaises(exception.IloOperationError, ilo_common.get_current_boot_mode, self.node) get_ilo_object_mock.assert_called_once_with(self.node) get_current_boot_mode_mock.assert_called_once_with() @mock.patch.object(ilo_common, 'get_ilo_object', spec_set=True, autospec=True) def test_get_current_boot_mode_cmd_not_supp(self, get_ilo_object_mock): ilo_object_mock = get_ilo_object_mock.return_value get_current_boot_mode_mock = ilo_object_mock.get_current_boot_mode exc = ilo_error.IloCommandNotSupportedError('error') get_current_boot_mode_mock.side_effect = exc ret = ilo_common.get_current_boot_mode(self.node) self.assertEqual('bios', ret) get_ilo_object_mock.assert_called_once_with(self.node) get_current_boot_mode_mock.assert_called_once_with() ",,193,0
openstack%2Fopenstack-helm-infra~master~Ib6de281ea79f284511965e98bdc58488555eaee7,openstack/openstack-helm-infra,master,Ib6de281ea79f284511965e98bdc58488555eaee7,Set 'openstack_release' for zuul jobs,ABANDONED,2020-07-21 13:59:44.000000000,2020-07-23 09:57:08.000000000,,"[{'_account_id': 22348}, {'_account_id': 29397}]","[{'number': 1, 'created': '2020-07-21 13:59:44.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5b35a62a3c050974ad2d159f0cb42a3b34c25e64', 'message': ""Set 'openstack_release' for zuul jobs\n\nBased on the change [0], openstack_release parameter\nis required for the gate job.\n\n[0] https://review.opendev.org/#/c/741006/\n\nChange-Id: Ib6de281ea79f284511965e98bdc58488555eaee7\n""}]",0,742198,5b35a62a3c050974ad2d159f0cb42a3b34c25e64,5,2,1,29397,,,0,"Set 'openstack_release' for zuul jobs

Based on the change [0], openstack_release parameter
is required for the gate job.

[0] https://review.opendev.org/#/c/741006/

Change-Id: Ib6de281ea79f284511965e98bdc58488555eaee7
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/98/742198/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,5b35a62a3c050974ad2d159f0cb42a3b34c25e64,, osh_params: openstack_release: stein,,2,0
openstack%2Fnova~master~I87253c518bd60a3e7cd08af68da9ade96f4a40db,openstack/nova,master,I87253c518bd60a3e7cd08af68da9ade96f4a40db,compute: Do not allow rescue attempts using volume snapshot images,MERGED,2020-05-19 13:44:08.000000000,2020-07-23 09:52:04.000000000,2020-07-23 09:50:04.000000000,"[{'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-19 13:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f97556b27ce1bac0803bd9a23a51c5ac535cd83', 'message': 'compute: Do not allow rescue attempts using volume snapshot images\n\nAs seen in I7356b54bef0c614d9bfd1ed0d7b42574b58966f9 Nova is currently\nunable to rescue instances using volume snapshot based images. This\ncurrently results in zero length files being created on the compute as\nthe images are actually metadata stores and contain no image data.\n\nThis change adds a simple check within the compute API to reject\nrequests that provided an image reference that itself provides an\nimg_block_device_mapping before we cast out to the computes.\n\nCloses-Bug: #1879500\nChange-Id: I87253c518bd60a3e7cd08af68da9ade96f4a40db\n'}, {'number': 2, 'created': '2020-05-19 16:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/751704d9bd25dfa110386c34e626e174b9df42fd', 'message': 'compute: Do not allow rescue attempts using volume snapshot images\n\nAs seen in I7356b54bef0c614d9bfd1ed0d7b42574b58966f9 Nova is currently\nunable to rescue instances using volume snapshot based images. This\ncurrently results in zero length files being created on the compute as\nthe images are actually metadata stores and contain no image data.\n\nThis change adds a simple check within the compute API to reject\nrequests that provided an image reference that itself provides an\nimg_block_device_mapping before we cast out to the computes.\n\nDepends-On: https://review.opendev.org/#/c/725812/\nCloses-Bug: #1879500\nChange-Id: I87253c518bd60a3e7cd08af68da9ade96f4a40db\n'}, {'number': 3, 'created': '2020-05-21 16:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e3e0594033f981848bb7e0f9ab417f06d51990d', 'message': 'compute: Do not allow rescue attempts using volume snapshot images\n\nAs seen in I7356b54bef0c614d9bfd1ed0d7b42574b58966f9 Nova is currently\nunable to rescue instances using volume snapshot based images. This\ncurrently results in zero length files being created on the compute as\nthe images are actually metadata stores and contain no image data.\n\nThis change adds a simple check within the compute API to reject\nrequests that provided an image reference that itself provides an\nimg_block_device_mapping before we cast out to the computes.\n\nDepends-On: https://review.opendev.org/#/c/725812/\nCloses-Bug: #1879500\nChange-Id: I87253c518bd60a3e7cd08af68da9ade96f4a40db\n'}, {'number': 4, 'created': '2020-07-08 13:23:53.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/compute/test_rescue.py', 'nova/api/openstack/compute/rescue.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b9ff0ca94e670a080f82358c2003a0bf4b963bc8', 'message': 'compute: Do not allow rescue attempts using volume snapshot images\n\nAs seen in I7356b54bef0c614d9bfd1ed0d7b42574b58966f9 Nova is currently\nunable to rescue instances using volume snapshot based images. This\ncurrently results in zero length files being created on the compute as\nthe images are actually metadata stores and contain no image data.\n\nThis change adds a simple check within the compute API to reject\nrequests that provided an image reference that itself provides an\nimg_block_device_mapping before we cast out to the computes.\n\nDepends-On: https://review.opendev.org/#/c/725812/\nCloses-Bug: #1879500\nChange-Id: I87253c518bd60a3e7cd08af68da9ade96f4a40db\n'}]",8,729261,b9ff0ca94e670a080f82358c2003a0bf4b963bc8,45,15,4,10135,,,0,"compute: Do not allow rescue attempts using volume snapshot images

As seen in I7356b54bef0c614d9bfd1ed0d7b42574b58966f9 Nova is currently
unable to rescue instances using volume snapshot based images. This
currently results in zero length files being created on the compute as
the images are actually metadata stores and contain no image data.

This change adds a simple check within the compute API to reject
requests that provided an image reference that itself provides an
img_block_device_mapping before we cast out to the computes.

Depends-On: https://review.opendev.org/#/c/725812/
Closes-Bug: #1879500
Change-Id: I87253c518bd60a3e7cd08af68da9ade96f4a40db
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/729261/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/compute/test_rescue.py', 'nova/api/openstack/compute/rescue.py', 'nova/compute/api.py']",5,8f97556b27ce1bac0803bd9a23a51c5ac535cd83,,"from nova.objects import image_meta as image_meta_obj # FIXME(lyarwood): There is currently no support for rescuing instances # using a volume snapshot so fail here before we cast to the compute. if rescue_image_ref: image_meta = image_meta_obj.ImageMeta.from_image_ref( context, self.image_api, rescue_image_ref) if image_meta.properties.get('img_block_device_mapping'): raise exception.UnsupportedRescueImage( image=rescue_image_ref) ",,63,6
openstack%2Fkolla~master~I707dc89269c17892b861cf089a63990568519816,openstack/kolla,master,I707dc89269c17892b861cf089a63990568519816,Remove deployment of networking-l2gw,ABANDONED,2020-07-22 12:27:07.000000000,2020-07-23 09:36:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-22 12:27:07.000000000', 'files': ['docker/neutron/neutron-server-opendaylight/Dockerfile.j2', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/581e3d13c463bfbba6b0d69d1941c0619ee11302', 'message': 'Remove deployment of networking-l2gw\n\nnetworking-l2gw is being retired and not governed by\nopenstack.\n[1] https://review.opendev.org/#/c/741396/\n\nChange-Id: I707dc89269c17892b861cf089a63990568519816\n'}]",0,742408,581e3d13c463bfbba6b0d69d1941c0619ee11302,6,3,1,17130,,,0,"Remove deployment of networking-l2gw

networking-l2gw is being retired and not governed by
openstack.
[1] https://review.opendev.org/#/c/741396/

Change-Id: I707dc89269c17892b861cf089a63990568519816
",git fetch https://review.opendev.org/openstack/kolla refs/changes/08/742408/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/neutron/neutron-server-opendaylight/Dockerfile.j2', 'kolla/common/config.py']",2,581e3d13c463bfbba6b0d69d1941c0619ee11302,,," 'neutron-server-opendaylight-plugin-networking-l2gw': { 'type': 'url', 'location': ('$tarballs_base/openstack/networking-l2gw/' 'networking-l2gw-${openstack_branch}.tar.gz')},",0,6
openstack%2Fkayobe~master~I2b6d62104c9c127cb8f6b4f4930dd695cd00da17,openstack/kayobe,master,I2b6d62104c9c127cb8f6b4f4930dd695cd00da17,Define default variables for Monasca config,MERGED,2020-04-27 08:43:53.000000000,2020-07-23 09:27:03.000000000,2020-04-29 17:33:48.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}, {'_account_id': 30438}]","[{'number': 1, 'created': '2020-04-27 08:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/bda67d740c716a2bd7bebb012f53293ad28c8160', 'message': 'Define default variables for Monasca config\n\nUse default Monasca parameters to flexibly configure\nGrafana post deploy.\n\nChange-Id: I2b6d62104c9c127cb8f6b4f4930dd695cd00da17\n'}, {'number': 2, 'created': '2020-04-27 09:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/44ffae439150da7bab50e27d77760f276fe19a2e', 'message': 'Define default variables for Monasca config\n\nUse default Monasca parameters to flexibly configure\nGrafana post deploy.\n\nChange-Id: I2b6d62104c9c127cb8f6b4f4930dd695cd00da17\n'}, {'number': 3, 'created': '2020-04-27 19:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9e31f9a8b62b735db939253429089865554c6821', 'message': 'Define default variables for Monasca config\n\nUse default Monasca parameters to flexibly configure\nGrafana post deploy.\n\nChange-Id: I2b6d62104c9c127cb8f6b4f4930dd695cd00da17\n'}, {'number': 4, 'created': '2020-04-28 13:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ceb72b1192d94ec46328a83e7a11fd7c21aea388', 'message': 'Define default variables for Monasca config\n\nUse default Monasca parameters to flexibly configure\nGrafana post deploy.\n\nChange-Id: I2b6d62104c9c127cb8f6b4f4930dd695cd00da17\nStory: 2007597\nTask: 39587\n'}, {'number': 5, 'created': '2020-04-28 13:53:53.000000000', 'files': ['ansible/group_vars/all/grafana', 'ansible/group_vars/all/monasca', 'ansible/overcloud-grafana-configure.yml', 'releasenotes/notes/add-monasca-defaults-8486abe37ed3a13b.yaml', 'ansible/roles/kolla-ansible/templates/globals.yml.j2', 'etc/kayobe/monasca.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/39308a45914cc452362b6f4442785ddc7e0c26c7', 'message': ""Define default variables for Monasca config\n\nSets 'monasca_install_type: source' to remove need\nfor kolla-ansible var boilerplate.\n\nAlso use default Monasca parameters to configure\nGrafana post deploy.\n\nChange-Id: I2b6d62104c9c127cb8f6b4f4930dd695cd00da17\nStory: 2007597\nTask: 39587\n""}]",13,723341,39308a45914cc452362b6f4442785ddc7e0c26c7,23,4,5,30438,,,0,"Define default variables for Monasca config

Sets 'monasca_install_type: source' to remove need
for kolla-ansible var boilerplate.

Also use default Monasca parameters to configure
Grafana post deploy.

Change-Id: I2b6d62104c9c127cb8f6b4f4930dd695cd00da17
Story: 2007597
Task: 39587
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/41/723341/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/grafana', 'ansible/group_vars/all/monasca', 'ansible/overcloud-grafana-configure.yml', 'etc/kayobe/monasca.yml']",4,bda67d740c716a2bd7bebb012f53293ad28c8160,monasca-defaults,--- ############################################################################### # Monasca configuration. # Monasca OpenStack Project name #monasca_control_plane_project: # Monasca OpenStack Domain name #monasca_control_plane_domain: # Monasca doesn't support binary type container builds #monasca_install_type: # Roles which grant read/write access to Monasca APIs #monasca_default_authorized_roles: # Roles which grant write access to Monasca APIs #monasca_agent_authorized_roles: ,,45,3
openstack%2Freleases~master~I11755243c0943f5266d1258ad385c0cf18246723,openstack/releases,master,I11755243c0943f5266d1258ad385c0cf18246723,Release barbican for stable/stein,MERGED,2020-07-17 22:03:01.000000000,2020-07-23 09:16:23.000000000,2020-07-23 09:16:23.000000000,"[{'_account_id': 308}, {'_account_id': 7973}, {'_account_id': 11561}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:03:01.000000000', 'files': ['deliverables/stein/barbican.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d65011516c98e4bafdc5294e487a5a2a8133044e', 'message': 'Release barbican for stable/stein\n\nThis release picks up new commits to barbican since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I11755243c0943f5266d1258ad385c0cf18246723\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741728,d65011516c98e4bafdc5294e487a5a2a8133044e,9,5,1,11904,,,0,"Release barbican for stable/stein

This release picks up new commits to barbican since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I11755243c0943f5266d1258ad385c0cf18246723
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/28/741728/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/barbican.yaml'],1,d65011516c98e4bafdc5294e487a5a2a8133044e,stein-stable, - version: 8.0.1 projects: - repo: openstack/barbican hash: 3d23804a6f78f881ac5526bc31e2a7c61b174516,,4,0
openstack%2Freleases~master~I16b51d23682bcb0a5a85a9b9d1a593daf81df061,openstack/releases,master,I16b51d23682bcb0a5a85a9b9d1a593daf81df061,Release designate for stable/stein,MERGED,2020-07-17 22:06:45.000000000,2020-07-23 09:16:20.000000000,2020-07-23 09:16:20.000000000,"[{'_account_id': 308}, {'_account_id': 8099}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:06:45.000000000', 'files': ['deliverables/stein/designate.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bf47a05b77ddb9438349e67d9ac7c26af71c9cc9', 'message': 'Release designate for stable/stein\n\nThis release picks up new commits to designate since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I16b51d23682bcb0a5a85a9b9d1a593daf81df061\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741735,bf47a05b77ddb9438349e67d9ac7c26af71c9cc9,9,4,1,11904,,,0,"Release designate for stable/stein

This release picks up new commits to designate since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I16b51d23682bcb0a5a85a9b9d1a593daf81df061
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/35/741735/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/designate.yaml'],1,bf47a05b77ddb9438349e67d9ac7c26af71c9cc9,stein-stable, - version: 8.0.1 projects: - repo: openstack/designate hash: 6307c84e83530ab27124ab9e6a8117ee44069614,,4,0
openstack%2Freleases~master~If1a7c0237a28680c7608fbdde2edaf686a2eadee,openstack/releases,master,If1a7c0237a28680c7608fbdde2edaf686a2eadee,Release magnum for stable/stein,MERGED,2020-07-17 22:12:39.000000000,2020-07-23 09:16:19.000000000,2020-07-23 09:16:18.000000000,"[{'_account_id': 308}, {'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:12:39.000000000', 'files': ['deliverables/stein/magnum.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/21a3b390e6e5c49f6f9b04fd835c5cad863aaddc', 'message': 'Release magnum for stable/stein\n\nThis release picks up new commits to magnum since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: If1a7c0237a28680c7608fbdde2edaf686a2eadee\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741745,21a3b390e6e5c49f6f9b04fd835c5cad863aaddc,10,5,1,11904,,,0,"Release magnum for stable/stein

This release picks up new commits to magnum since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: If1a7c0237a28680c7608fbdde2edaf686a2eadee
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/741745/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/magnum.yaml'],1,21a3b390e6e5c49f6f9b04fd835c5cad863aaddc,stein-stable, - version: 8.2.1 projects: - repo: openstack/magnum hash: 38a3c879a589d8f73d7912e8fc2f64d7b8c667c0,,4,0
openstack%2Freleases~master~Ifda2a598131009a531d5c4d545380b3bca0a8259,openstack/releases,master,Ifda2a598131009a531d5c4d545380b3bca0a8259,Release neutron for stable/stein,MERGED,2020-07-17 22:21:19.000000000,2020-07-23 09:16:17.000000000,2020-07-23 09:16:17.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:21:19.000000000', 'files': ['deliverables/stein/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/abe2f8ee8017c2a4c9e24372283e4daeddde5eaa', 'message': 'Release neutron for stable/stein\n\nThis release picks up new commits to neutron since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: Ifda2a598131009a531d5c4d545380b3bca0a8259\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741758,abe2f8ee8017c2a4c9e24372283e4daeddde5eaa,10,6,1,11904,,,0,"Release neutron for stable/stein

This release picks up new commits to neutron since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: Ifda2a598131009a531d5c4d545380b3bca0a8259
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/58/741758/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/neutron.yaml'],1,abe2f8ee8017c2a4c9e24372283e4daeddde5eaa,stein-stable, - version: 14.3.0 projects: - repo: openstack/neutron hash: be16e6cde1d2d505cf222aae70038dece6c2acfc,,4,0
openstack%2Freleases~master~I14a18df3838014eddf55002f1252184c0d5558a9,openstack/releases,master,I14a18df3838014eddf55002f1252184c0d5558a9,Release octavia-dashboard for stable/stein,MERGED,2020-07-17 22:25:21.000000000,2020-07-23 09:16:15.000000000,2020-07-23 09:16:15.000000000,"[{'_account_id': 308}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-17 22:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7a4ebb8b95e4e01941120f8ea732658e276dce9a', 'message': 'Release octavia-dashboard for stable/stein\n\nThis release picks up new commits to octavia-dashboard since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I14a18df3838014eddf55002f1252184c0d5558a9\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-07-20 12:02:57.000000000', 'files': ['deliverables/stein/octavia-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ace7cfbc3380a3343efa4fbf570e5f12c37358b5', 'message': 'Release octavia-dashboard for stable/stein\n\nThis release picks up new commits to octavia-dashboard since\nthe last release from stable/stein.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nThis is not a release team activity, it is just to help out with\nstable releases. If there is no response to the patch, we will\nassume a release is not needed and abandon the patch after one\nweek.\n\nChange-Id: I14a18df3838014eddf55002f1252184c0d5558a9\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,741761,ace7cfbc3380a3343efa4fbf570e5f12c37358b5,12,5,2,11904,,,0,"Release octavia-dashboard for stable/stein

This release picks up new commits to octavia-dashboard since
the last release from stable/stein.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

This is not a release team activity, it is just to help out with
stable releases. If there is no response to the patch, we will
assume a release is not needed and abandon the patch after one
week.

Change-Id: I14a18df3838014eddf55002f1252184c0d5558a9
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/61/741761/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/octavia-dashboard.yaml'],1,7a4ebb8b95e4e01941120f8ea732658e276dce9a,stein-stable, - version: 3.0.2 projects: - repo: openstack/octavia-dashboard hash: bea85726eb6c9cea8800f518bb45f53af06cf69d,,4,0
openstack%2Freleases~master~Iabe9c9f95162b47f3a8ade7151ea02dbc456e341,openstack/releases,master,Iabe9c9f95162b47f3a8ade7151ea02dbc456e341,Release cinderlib 2.0.0,MERGED,2020-07-22 17:52:12.000000000,2020-07-23 09:16:14.000000000,2020-07-23 09:16:14.000000000,"[{'_account_id': 308}, {'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 17:52:12.000000000', 'files': ['deliverables/ussuri/cinderlib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/66d9a2292714bb140cd737d1a89784d679ef6ed3', 'message': 'Release cinderlib 2.0.0\n\nThis is the cycle-trailing Ussuri release.\n\nChange-Id: Iabe9c9f95162b47f3a8ade7151ea02dbc456e341\n'}]",0,742503,66d9a2292714bb140cd737d1a89784d679ef6ed3,9,4,1,5314,,,0,"Release cinderlib 2.0.0

This is the cycle-trailing Ussuri release.

Change-Id: Iabe9c9f95162b47f3a8ade7151ea02dbc456e341
",git fetch https://review.opendev.org/openstack/releases refs/changes/03/742503/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/cinderlib.yaml'],1,66d9a2292714bb140cd737d1a89784d679ef6ed3,release-cinderlib-2.0.0,branches: - location: 2.0.0 name: stable/ussuri releases: - version: 2.0.0 projects: - repo: openstack/cinderlib hash: d810da70c89a7066376763c6aeb9317248d85473,,8,0
openstack%2Fceilometer~master~Id108a7cd7bf356156b68324c3d033037a84869fc,openstack/ceilometer,master,Id108a7cd7bf356156b68324c3d033037a84869fc,Enable processing metadata with nested objects,MERGED,2020-03-26 12:07:32.000000000,2020-07-23 09:15:10.000000000,2020-07-23 09:13:49.000000000,"[{'_account_id': 4264}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 30695}]","[{'number': 1, 'created': '2020-03-26 12:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/72e202623f02d16ec9c204d81259f3b6a33ce1f2', 'message': 'Enable processing metadata with nested objects\n\nDepends-On: https://review.opendev.org/#/c/709807/\nChange-Id: Id108a7cd7bf356156b68324c3d033037a84869fc\n'}, {'number': 2, 'created': '2020-07-22 02:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/51c327dcf37fa327cfb0ec2eeb6ec73fdeab3afd', 'message': 'Enable processing metadata with nested objects\n\nDepends-On: https://review.opendev.org/#/c/709807/\nChange-Id: Id108a7cd7bf356156b68324c3d033037a84869fc\n'}, {'number': 3, 'created': '2020-07-22 11:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/face45302b80594bc83ef7beebf6a11d150bb9ef', 'message': 'Enable processing metadata with nested objects\n\nDepends-On: https://review.opendev.org/#/c/709807/\nChange-Id: Id108a7cd7bf356156b68324c3d033037a84869fc\n'}, {'number': 4, 'created': '2020-07-22 20:31:33.000000000', 'files': ['doc/source/admin/telemetry-dynamic-pollster.rst', 'ceilometer/polling/dynamic_pollster.py', 'ceilometer/tests/unit/polling/test_dynamic_pollster.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/51f06518c58ab4e7e658e0b9c6fc924882320adf', 'message': 'Enable processing metadata with nested objects\n\nDepends-On: https://review.opendev.org/#/c/709807/\nChange-Id: Id108a7cd7bf356156b68324c3d033037a84869fc\n'}]",0,715180,51f06518c58ab4e7e658e0b9c6fc924882320adf,20,5,4,28356,,,0,"Enable processing metadata with nested objects

Depends-On: https://review.opendev.org/#/c/709807/
Change-Id: Id108a7cd7bf356156b68324c3d033037a84869fc
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/80/715180/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/telemetry-dynamic-pollster.rst', 'ceilometer/polling/dynamic_pollster.py', 'ceilometer/tests/unit/polling/test_dynamic_pollster.py']",3,72e202623f02d16ec9c204d81259f3b6a33ce1f2,metadataOperations-upstream," @mock.patch('keystoneclient.v2_0.client.Client') def test_metadata_nested_objects(self, keystone_mock): generator = PagedSamplesGeneratorHttpRequestMock(samples_dict={ 'flavor': [{""name"": ""a"", ""ram"": 1}, {""name"": ""b"", ""ram"": 2}, {""name"": ""c"", ""ram"": 3}, {""name"": ""d"", ""ram"": 4}, {""name"": ""e"", ""ram"": 5}, {""name"": ""f"", ""ram"": 6}, {""name"": ""g"", ""ram"": 7}, {""name"": ""h"", ""ram"": 8}], 'name': ['s1', 's2', 's3', 's4', 's5', 's6', 's7', 's8'], 'state': ['Active', 'Error', 'Down', 'Active', 'Active', 'Migrating', 'Active', 'Error'] }, dict_name='servers', page_link_name='server_link') generator.generate_samples('http://test.com/v1/test-servers', { 'marker=c3': 3, 'marker=f6': 3 }, 2) keystone_mock.session.get.side_effect = generator.mock_request fake_manager = self.FakeManager(keystone=keystone_mock) pollster_definition = dict(self.multi_metric_pollster_definition) pollster_definition['name'] = 'test-pollster' pollster_definition['value_attribute'] = 'state' pollster_definition['url_path'] = 'v1/test-servers' pollster_definition['response_entries_key'] = 'servers' pollster_definition['metadata_fields'] = ['flavor.name', 'flavor.ram'] pollster_definition['next_sample_url_attribute'] = \ 'server_link | filter(lambda v: v.get(""rel"") == ""next"", value) |' \ 'list(value)| value [0] | value.get(""href"")' pollster = dynamic_pollster.DynamicPollster(pollster_definition) samples = pollster.get_samples(fake_manager, None, ['http://test.com']) samples = list(samples) self.assertEqual(['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'], list(map(lambda s: s.resource_metadata[""flavor.name""], samples))) self.assertEqual(list(range(1, 9)), list(map(lambda s: s.resource_metadata[""flavor.ram""], samples)))",,66,10
openstack%2Fglance~stable%2Ftrain~Ifd25ed15211ebc864f3a61558834bb1dae16a062,openstack/glance,stable/train,Ifd25ed15211ebc864f3a61558834bb1dae16a062,Fix reloading under PY3,MERGED,2020-03-18 19:23:10.000000000,2020-07-23 09:12:16.000000000,2020-07-23 09:09:59.000000000,"[{'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-03-18 19:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1afeb8cbc1cdf323ef600616d70cd7c3f0a9a1c0', 'message': 'Fix reloading under PY3\n\nThis is not direct backport of I361c9d0b53a67b1cc60f0f3012e22accdcc46055\nbut rather adaptation of it to facilitate SSL/TLS termination under\npy27.\n\nCo-Authored-By: Khuong Luu <lcamkhuong@gmail.com>\n\nChange-Id: Ifd25ed15211ebc864f3a61558834bb1dae16a062\nCloses-Bug: #1855708\n'}, {'number': 2, 'created': '2020-07-22 14:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/5d2719f164ba841d391bf66f73a14220478bb5c5', 'message': 'Fix reloading under PY3\n\nThis is not direct backport of Ussuri fix\nI361c9d0b53a67b1cc60f0f3012e22accdcc46055 but rather\nadaptation of it to facilitate SSL/TLS termination under\npy27.\n\nCo-Authored-By: Khuong Luu <lcamkhuong@gmail.com>\n\nChange-Id: Ifd25ed15211ebc864f3a61558834bb1dae16a062\nCloses-Bug: #1855708\n'}, {'number': 3, 'created': '2020-07-22 18:51:42.000000000', 'files': ['broken-functional-py3-ssl-tests.txt', 'glance/tests/functional/test_reload.py', 'glance/common/utils.py', 'releasenotes/notes/Fix_reload_PY3-e8a5bd337a77be1a.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/f3cbe90b3eab1f1952798937f177f23c4ef34e17', 'message': 'Fix reloading under PY3\n\nThis is not direct backport of Ussuri fix\nI361c9d0b53a67b1cc60f0f3012e22accdcc46055 but rather\nadaptation of it to facilitate SSL/TLS termination under\npy27.\n\nCo-Authored-By: Khuong Luu <lcamkhuong@gmail.com>\n\nChange-Id: Ifd25ed15211ebc864f3a61558834bb1dae16a062\nCloses-Bug: #1855708\n'}]",3,713720,f3cbe90b3eab1f1952798937f177f23c4ef34e17,16,3,3,5202,,,0,"Fix reloading under PY3

This is not direct backport of Ussuri fix
I361c9d0b53a67b1cc60f0f3012e22accdcc46055 but rather
adaptation of it to facilitate SSL/TLS termination under
py27.

Co-Authored-By: Khuong Luu <lcamkhuong@gmail.com>

Change-Id: Ifd25ed15211ebc864f3a61558834bb1dae16a062
Closes-Bug: #1855708
",git fetch https://review.opendev.org/openstack/glance refs/changes/20/713720/3 && git format-patch -1 --stdout FETCH_HEAD,"['broken-functional-py3-ssl-tests.txt', 'glance/tests/functional/test_reload.py', 'glance/common/utils.py']",3,1afeb8cbc1cdf323ef600616d70cd7c3f0a9a1c0,fix_reload," if six.PY2: conf = { 'bind_host': CONF.bind_host, 'bind_port': CONF.bind_port, 'tcp_keepidle': CONF.cert_file, 'backlog': CONF.backlog, 'key_file': CONF.key_file, 'cert_file': CONF.cert_file } else: conf = { 'bind_host': CONF.bind_host, 'bind_port': CONF.bind_port, 'backlog': CONF.backlog, }"," conf = { 'bind_host': CONF.bind_host, 'bind_port': CONF.bind_port, 'tcp_keepidle': CONF.cert_file, 'backlog': CONF.backlog, 'key_file': CONF.key_file, 'cert_file': CONF.cert_file }",86,78
openstack%2Ftripleo-quickstart-extras~master~I305e08fa116439a81250052830e93122393ab568,openstack/tripleo-quickstart-extras,master,I305e08fa116439a81250052830e93122393ab568,Support non-zuul workflow for tempest-skiplist,ABANDONED,2020-07-20 16:09:58.000000000,2020-07-23 09:10:00.000000000,,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-20 16:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1179297635f5b3a027bbab2a6250da3e63f2f28d', 'message': 'Support non-zuul workflow for tempest-skiplist\n\nCurrently, the step to install the tempest-skiplist\nfails on non-zuuul platforms.\nThis review allows the test to source the skiplist\nfile from the local workspace if needed.\n\nChange-Id: I305e08fa116439a81250052830e93122393ab568\n'}, {'number': 2, 'created': '2020-07-20 19:35:29.000000000', 'files': ['playbooks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/63539472b9dff3a8861925d5b4a44984b617f7a2', 'message': 'Support non-zuul workflow for tempest-skiplist\n\nCurrently, the step to install the tempest-skiplist\nfails on non-zuuul platforms.\nThis review allows the test to source the skiplist\nfile from the local workspace if needed.\n\nChange-Id: I305e08fa116439a81250052830e93122393ab568\n'}]",1,741979,63539472b9dff3a8861925d5b4a44984b617f7a2,11,4,2,8367,,,0,"Support non-zuul workflow for tempest-skiplist

Currently, the step to install the tempest-skiplist
fails on non-zuuul platforms.
This review allows the test to source the skiplist
file from the local workspace if needed.

Change-Id: I305e08fa116439a81250052830e93122393ab568
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/79/741979/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest.yml'],1,1179297635f5b3a027bbab2a6250da3e63f2f28d,fix-tempest-skiplist," tempest_skip_path: >- {% if zuul is defined -%} ""{{ zuul.projects['opendev.org/openstack/openstack-tempest-skiplist'].src_dir }}"" {%- else -%} ""{{ local_working_directory }}/usr/local/share/ansible"" {%- endif -%} list_skipped_yaml_file: >- {% if zuul is defined -%} ""{{ zuul.projects['opendev.org/openstack/openstack-tempest-skiplist'].src_dir }}"" {%- else -%} ""{{ local_working_directory }}/usr/local/share/ansible"" {%- endif -%}"," tempest_skip_path: ""{{ zuul.projects['opendev.org/openstack/openstack-tempest-skiplist'].src_dir }}"" list_skipped_yaml_file: ""{{ zuul.projects['opendev.org/openstack/openstack-tempest-skiplist'].src_dir }}/roles/validate-tempest/vars/tempest_skip.yml"" list_skipped_release: ""{{ release }}""",12,3
openstack%2Freleases~master~I3412422241f78b28eded22412300b6b7df09f726,openstack/releases,master,I3412422241f78b28eded22412300b6b7df09f726,Oslo releases for 2020-07-22,MERGED,2020-07-22 16:53:28.000000000,2020-07-23 08:55:43.000000000,2020-07-23 08:55:43.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-22 16:53:28.000000000', 'files': ['deliverables/victoria/oslo.vmware.yaml', 'deliverables/_independent/openstack-doc-tools.yaml', 'deliverables/victoria/osprofiler.yaml', 'deliverables/victoria/oslo.config.yaml', 'deliverables/victoria/oslo.utils.yaml', 'deliverables/victoria/oslo.service.yaml', 'deliverables/victoria/oslo.messaging.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3b9d403a3216eaf57ed6bdd558887ac7bc63ff60', 'message': 'Oslo releases for 2020-07-22\n\nChange-Id: I3412422241f78b28eded22412300b6b7df09f726\n'}]",0,742484,3b9d403a3216eaf57ed6bdd558887ac7bc63ff60,8,4,1,6928,,,0,"Oslo releases for 2020-07-22

Change-Id: I3412422241f78b28eded22412300b6b7df09f726
",git fetch https://review.opendev.org/openstack/releases refs/changes/84/742484/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/_independent/openstack-doc-tools.yaml', 'deliverables/victoria/oslo.vmware.yaml', 'deliverables/victoria/osprofiler.yaml', 'deliverables/victoria/oslo.config.yaml', 'deliverables/victoria/oslo.utils.yaml', 'deliverables/victoria/oslo.service.yaml', 'deliverables/victoria/oslo.messaging.yaml']",7,3b9d403a3216eaf57ed6bdd558887ac7bc63ff60,oslo-master, - version: 12.2.2 projects: - repo: openstack/oslo.messaging hash: a5ae9f4aa0e18787b4bb676b3e725c225deae96d,,28,0
openstack%2Fpython-tripleoclient~master~I264c26f8a63f36cb921c06d1d01db55383394737,openstack/python-tripleoclient,master,I264c26f8a63f36cb921c06d1d01db55383394737,Fall back to local upload when there is no glance endpoint,MERGED,2020-06-19 02:43:31.000000000,2020-07-23 08:42:40.000000000,2020-07-23 08:39:44.000000000,"[{'_account_id': 3153}, {'_account_id': 8125}, {'_account_id': 8833}, {'_account_id': 19138}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-19 02:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e1e37e9e25c0c85442c39d73fad6b2a6a7411b90', 'message': 'Fall back to local upload when there is no glance endpoint\n\nWhen there is no glance endpoint, it is currently necessary to use\nthe --local argument when running ""openstack overcloud image upload""\nto copy the files to /var/lib/ironic/images.\n\nWith this change, if there is no glance endpoint then the upload\ncommand will run as if the --local argument is specified.\n\nChange-Id: I264c26f8a63f36cb921c06d1d01db55383394737\nBlueprint: nova-less-deploy\n'}, {'number': 2, 'created': '2020-07-02 03:16:37.000000000', 'files': ['tripleoclient/v1/overcloud_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ea8db13eeaf907e82aa29838a628a26513654069', 'message': 'Fall back to local upload when there is no glance endpoint\n\nWhen there is no glance endpoint, it is currently necessary to use\nthe --local argument when running ""openstack overcloud image upload""\nto copy the files to /var/lib/ironic/images.\n\nWith this change, if there is no glance endpoint then the upload\ncommand will run as if the --local argument is specified.\n\nChange-Id: I264c26f8a63f36cb921c06d1d01db55383394737\nBlueprint: nova-less-deploy\n'}]",2,736924,ea8db13eeaf907e82aa29838a628a26513654069,13,6,2,4571,,,0,"Fall back to local upload when there is no glance endpoint

When there is no glance endpoint, it is currently necessary to use
the --local argument when running ""openstack overcloud image upload""
to copy the files to /var/lib/ironic/images.

With this change, if there is no glance endpoint then the upload
command will run as if the --local argument is specified.

Change-Id: I264c26f8a63f36cb921c06d1d01db55383394737
Blueprint: nova-less-deploy
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/24/736924/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_image.py'],1,e1e37e9e25c0c85442c39d73fad6b2a6a7411b90,nova-less-deploy,"from keystoneauth1.exceptions import catalog as exc_catalog if not parsed_args.local: try: return GlanceClientAdapter(self.app.client_manager.image, **kwargs) except exc_catalog.EndpointNotFound: # Missing endpoint implies local-only upload pass return FileImageClientAdapter(parsed_args.local_path, **kwargs)"," if parsed_args.local: return FileImageClientAdapter(parsed_args.local_path, **kwargs) return GlanceClientAdapter(self.app.client_manager.image, **kwargs)",9,3
openstack%2Fpython-tripleoclient~master~Id2be00858df975e3ee6f8e12f7650e936d99d46b,openstack/python-tripleoclient,master,Id2be00858df975e3ee6f8e12f7650e936d99d46b,Replace assertItemsEqual with assertCountEqual,MERGED,2020-07-12 03:22:05.000000000,2020-07-23 08:41:31.000000000,2020-07-23 08:39:43.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-12 03:22:05.000000000', 'files': ['tripleoclient/tests/v1/undercloud/minion/test_install.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ee7de7c83944c60c9d6524a99f2895a87e39cdfc', 'message': ""Replace assertItemsEqual with assertCountEqual\n\nassertItemsEqual was removed from Python's unittest.TestCase in\nPython 3.3 [1][2]. We have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: Id2be00858df975e3ee6f8e12f7650e936d99d46b\n""}]",0,740567,ee7de7c83944c60c9d6524a99f2895a87e39cdfc,10,5,1,30356,,,0,"Replace assertItemsEqual with assertCountEqual

assertItemsEqual was removed from Python's unittest.TestCase in
Python 3.3 [1][2]. We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: Id2be00858df975e3ee6f8e12f7650e936d99d46b
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/67/740567/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/undercloud/minion/test_install.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py']",2,ee7de7c83944c60c9d6524a99f2895a87e39cdfc,, self.assertCountEqual( self.assertCountEqual( self.assertCountEqual(, self.assertItemsEqual( self.assertItemsEqual( self.assertItemsEqual(,4,4
openstack%2Fpython-tripleoclient~stable%2Ftrain~I9c52a790b55175310b8cecaeb6d7a23950cff271,openstack/python-tripleoclient,stable/train,I9c52a790b55175310b8cecaeb6d7a23950cff271,[train] manual backport & squash for overcloud_deploy raise changes,MERGED,2020-07-21 14:12:42.000000000,2020-07-23 08:40:54.000000000,2020-07-23 08:39:42.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-07-21 14:12:42.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6f8134b260058fd7793abc62c9301ef0f26e355f', 'message': '[train] manual backport & squash for overcloud_deploy raise changes\n\nThis manual backport and squash allows to backport a feature without a\nregression that was introduced. It has 2 commits:\n\n1) overcloud_deploy: raise at the end if Ansible Runner had exception\n\nIn the context of MaxFailPercentage, if a node (e.g. one of 100\ncomputes) has any fatal error during an Ansible play and we tolerate\nsome percentage of failure; we want to raise the error but at the very\nend of the deployment.\n\nSo this patch puts the following actions in a ""finally"" block so they\nalways execute:\n\n* Create overcloudrc\n* Sets the right permissions to the clouds.yaml\n* Execute _deploy_postconfig\n* Print infos like Keystone entpoint, Horizon URL, RC file location\n  and deploy message (saying if there is an error or not)\n\nAnd at the very end we raise the actual AnsibleRunner trace if the\ndeployment failed.\n\nSo even if a node failed and we tolerate it, we\'ll still finish the\ndeployment until the end, but for UX purpose we want to raise it at\nthe\nvery end.\nNote that when it fails and it\'s tolerated, Ansible prints the node as\n""ignored"":\n\nPLAY RECAP\n******************************************************************\ncompute-0    : ok=555  (...)  failed=0    skipped=484  rescued=0\nignored=0\ncompute-1    : ok=60   (...)  failed=1    skipped=40   rescued=0\nignored=1\ncontroller-0 : ok=960  (...)  failed=0    skipped=709  rescued=0\nignored=0\ncontroller-1 : ok=920  (...)  failed=0    skipped=693  rescued=0\nignored=0\ncontroller-2 : ok=919  (...)  failed=0    skipped=693  rescued=0\nignored=0\nundercloud   : ok=86   (...)  failed=0    skipped=57   rescued=0\nignored=0\n\nTo improve UX, we\'ll investigate an Ansible callback to properly tell\nwhat nodes needs to be re-deployed.\n\nNote: also mock copy_clouds_yaml since it wasn\'t tested before but\nit\'s\nfailing to reach the files on the filesystem.\n\n2) Don\'t run config-download for --stack-only\n\nWe now seem to run config-download irrespective of the\n--stack-only flag. This moves the config-download\nrelated code within the if block.\n\nChange-Id: I9c52a790b55175310b8cecaeb6d7a23950cff271\nCloses-Bug: #1887811\n'}]",0,742202,6f8134b260058fd7793abc62c9301ef0f26e355f,13,4,1,3153,,,0,"[train] manual backport & squash for overcloud_deploy raise changes

This manual backport and squash allows to backport a feature without a
regression that was introduced. It has 2 commits:

1) overcloud_deploy: raise at the end if Ansible Runner had exception

In the context of MaxFailPercentage, if a node (e.g. one of 100
computes) has any fatal error during an Ansible play and we tolerate
some percentage of failure; we want to raise the error but at the very
end of the deployment.

So this patch puts the following actions in a ""finally"" block so they
always execute:

* Create overcloudrc
* Sets the right permissions to the clouds.yaml
* Execute _deploy_postconfig
* Print infos like Keystone entpoint, Horizon URL, RC file location
  and deploy message (saying if there is an error or not)

And at the very end we raise the actual AnsibleRunner trace if the
deployment failed.

So even if a node failed and we tolerate it, we'll still finish the
deployment until the end, but for UX purpose we want to raise it at
the
very end.
Note that when it fails and it's tolerated, Ansible prints the node as
""ignored"":

PLAY RECAP
******************************************************************
compute-0    : ok=555  (...)  failed=0    skipped=484  rescued=0
ignored=0
compute-1    : ok=60   (...)  failed=1    skipped=40   rescued=0
ignored=1
controller-0 : ok=960  (...)  failed=0    skipped=709  rescued=0
ignored=0
controller-1 : ok=920  (...)  failed=0    skipped=693  rescued=0
ignored=0
controller-2 : ok=919  (...)  failed=0    skipped=693  rescued=0
ignored=0
undercloud   : ok=86   (...)  failed=0    skipped=57   rescued=0
ignored=0

To improve UX, we'll investigate an Ansible callback to properly tell
what nodes needs to be re-deployed.

Note: also mock copy_clouds_yaml since it wasn't tested before but
it's
failing to reach the files on the filesystem.

2) Don't run config-download for --stack-only

We now seem to run config-download irrespective of the
--stack-only flag. This moves the config-download
related code within the if block.

Change-Id: I9c52a790b55175310b8cecaeb6d7a23950cff271
Closes-Bug: #1887811
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/02/742202/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",2,6f8134b260058fd7793abc62c9301ef0f26e355f,relax," deploy_status = 'success' deploy_message = 'without error' try: if parsed_args.config_download: print(""Deploying overcloud configuration"") deployment.set_deployment_status( self.clients, 'deploying', plan=stack.stack_name) except Exception as deploy_e: deploy_status = 'failed' deploy_message = 'with error' deploy_trace = deploy_e deployment.set_deployment_status( self.clients, deploy_status, plan=stack.stack_name) finally: # Force fetching of attributes stack.get() overcloudrcs = deployment.create_overcloudrc( self.clients, container=stack.stack_name, no_proxy=parsed_args.no_proxy) # Copy clouds.yaml to the cloud user directory user = getpwuid(os.stat(constants.CLOUD_HOME_DIR).st_uid).pw_name utils.copy_clouds_yaml(user) rcpath = utils.write_overcloudrc(stack.stack_name, overcloudrcs) utils.create_tempest_deployer_input() # Run postconfig on create or force. Use force to makes sure # endpoints are created with deploy reruns and upgrades if (stack_create or parsed_args.force_postconfig and not parsed_args.skip_postconfig): self._deploy_postconfig(stack, parsed_args) overcloud_endpoint = utils.get_overcloud_endpoint(stack) horizon_url = deployment.get_horizon_url( self.clients, stack=stack.stack_name) print(""Overcloud Endpoint: {0}"".format(overcloud_endpoint)) print(""Overcloud Horizon Dashboard URL: {0}"".format(horizon_url)) print(""Overcloud rc file: {0}"".format(rcpath)) print(""Overcloud Deployed {0}"".format(deploy_message)) if deploy_status == 'failed': raise(deploy_trace)"," if parsed_args.config_download: print(""Deploying overcloud configuration"") deployment.set_deployment_status( self.clients, 'deploying', plan=stack.stack_name) try: except Exception: deployment.set_deployment_status( self.clients, 'failed', plan=stack.stack_name) raise # Force fetching of attributes stack.get() overcloudrcs = deployment.create_overcloudrc( self.clients, container=stack.stack_name, no_proxy=parsed_args.no_proxy) # Copy clouds.yaml to the cloud user directory user = getpwuid(os.stat(constants.CLOUD_HOME_DIR).st_uid).pw_name utils.copy_clouds_yaml(user) rcpath = utils.write_overcloudrc(stack.stack_name, overcloudrcs) utils.create_tempest_deployer_input() # Run postconfig on create or force. Use force to makes sure endpoints # are created with deploy reruns and upgrades if (stack_create or parsed_args.force_postconfig and not parsed_args.skip_postconfig): self._deploy_postconfig(stack, parsed_args) overcloud_endpoint = utils.get_overcloud_endpoint(stack) horizon_url = deployment.get_horizon_url( self.clients, stack=stack.stack_name) print(""Overcloud Endpoint: {0}"".format(overcloud_endpoint)) print(""Overcloud Horizon Dashboard URL: {0}"".format(horizon_url)) print(""Overcloud rc file: {0}"".format(rcpath)) print(""Overcloud Deployed"")",44,34
openstack%2Fmagnum~stable%2Fussuri~I0b586f05168ece84fd340ef7493a56688191053d,openstack/magnum,stable/ussuri,I0b586f05168ece84fd340ef7493a56688191053d,Add master_lb_enabled to cluster,MERGED,2020-07-22 14:06:20.000000000,2020-07-23 08:40:02.000000000,2020-07-23 08:38:32.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 14:06:20.000000000', 'files': ['magnum/drivers/heat/k8s_coreos_template_def.py', 'magnum/drivers/heat/template_def.py', 'magnum/tests/unit/conductor/handlers/test_swarm_cluster_conductor.py', 'doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/api/controllers/v1/bay.py', 'magnum/tests/unit/db/utils.py', 'magnum/drivers/heat/swarm_mode_template_def.py', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/db/sqlalchemy/alembic/versions/95096e2334ee_add_master_lb_enabled_to_cluster.py', 'magnum/drivers/common/k8s_monitor.py', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/tests/unit/conductor/test_monitors.py', 'releasenotes/notes/add-master_lb_enabled-to-cluster-c773fac9086b2531.yaml', 'magnum/drivers/heat/swarm_fedora_template_def.py', 'magnum/api/controllers/v1/cluster.py', 'contrib/drivers/heat/dcos_centos_template_def.py', 'contrib/drivers/k8s_opensuse_v1/template_def.py', 'magnum/db/sqlalchemy/models.py', 'magnum/drivers/mesos_ubuntu_v1/template_def.py', 'magnum/objects/cluster.py', 'magnum/tests/unit/objects/test_objects.py', 'magnum/tests/unit/conductor/handlers/test_mesos_cluster_conductor.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/53f6de609d99ec82f96640259ad345fb5262292d', 'message': ""Add master_lb_enabled to cluster\n\nAdding the master_lb_enabled option when creating a cluster,\nwhich will benefit both the cloud provider side and the end\nuser side. For cloud prodiver, they don't have to maintain\nseparate cluster templates with or w/o master_lb_enabled enabled.\nFor end user, they can easily use one single template to create\ndifferent clusters with different configs.\n\nTask: 39680\nStory: 2007634\n\nChange-Id: I0b586f05168ece84fd340ef7493a56688191053d\n(cherry picked from commit 946c1d67c73a1b325dadd27018c38555acfee52f)\n""}]",0,742443,53f6de609d99ec82f96640259ad345fb5262292d,8,3,1,28022,,,0,"Add master_lb_enabled to cluster

Adding the master_lb_enabled option when creating a cluster,
which will benefit both the cloud provider side and the end
user side. For cloud prodiver, they don't have to maintain
separate cluster templates with or w/o master_lb_enabled enabled.
For end user, they can easily use one single template to create
different clusters with different configs.

Task: 39680
Story: 2007634

Change-Id: I0b586f05168ece84fd340ef7493a56688191053d
(cherry picked from commit 946c1d67c73a1b325dadd27018c38555acfee52f)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/43/742443/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/heat/k8s_coreos_template_def.py', 'magnum/drivers/heat/template_def.py', 'magnum/tests/unit/conductor/handlers/test_swarm_cluster_conductor.py', 'doc/source/user/index.rst', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/api/controllers/v1/bay.py', 'magnum/tests/unit/db/utils.py', 'magnum/drivers/heat/swarm_mode_template_def.py', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/db/sqlalchemy/alembic/versions/95096e2334ee_add_master_lb_enabled_to_cluster.py', 'magnum/drivers/common/k8s_monitor.py', 'magnum/drivers/heat/k8s_fedora_template_def.py', 'magnum/tests/unit/conductor/test_monitors.py', 'releasenotes/notes/add-master_lb_enabled-to-cluster-c773fac9086b2531.yaml', 'magnum/drivers/heat/swarm_fedora_template_def.py', 'magnum/api/controllers/v1/cluster.py', 'contrib/drivers/heat/dcos_centos_template_def.py', 'contrib/drivers/k8s_opensuse_v1/template_def.py', 'magnum/db/sqlalchemy/models.py', 'magnum/drivers/mesos_ubuntu_v1/template_def.py', 'magnum/objects/cluster.py', 'magnum/tests/unit/objects/test_objects.py', 'magnum/tests/unit/conductor/handlers/test_mesos_cluster_conductor.py']",23,53f6de609d99ec82f96640259ad345fb5262292d,story/2007634-39680-stable/ussuri," 'master_lb_enabled': False, self.cluster_dict[""master_lb_enabled""] = True self.cluster_dict[""master_lb_enabled""] = True self.cluster_dict[""master_lb_enabled""] = True",,113,73
openstack%2Ftripleo-quickstart-extras~master~Ib3746672eff2715f47a330af5f534c335ea22553,openstack/tripleo-quickstart-extras,master,Ib3746672eff2715f47a330af5f534c335ea22553,Run skip list tests as a tempest tests,MERGED,2020-07-20 08:10:58.000000000,2020-07-23 08:39:40.000000000,2020-07-23 08:39:40.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-20 08:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d95338eb096e8f6eed08d483456da59152093432', 'message': 'Run skip list tests as a tempest tests\n\nIt modifies tempest.yml playbook to generate skip list only\nwhen tempest_run_skipped is set to false.\n\nWhen tempest_run_skipped is set to true via featureset override\nthen pass skipped tests a tempest tests regex to run in order\nto test skipped tests.\n\nChange-Id: Ib3746672eff2715f47a330af5f534c335ea22553\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-07-20 08:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0334463381d8131550fe1b25e0a26d781cfc84a3', 'message': 'Run skip list tests as a tempest tests\n\nIt modifies tempest.yml playbook to generate skip list only\nwhen tempest_run_skipped is set to false.\n\nWhen tempest_run_skipped is set to true via featureset override\nthen pass skipped tests a tempest tests regex to run in order\nto test skipped tests.\n\nChange-Id: Ib3746672eff2715f47a330af5f534c335ea22553\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-07-21 05:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/785273f4683717dba6e7c2ad6d3476c4903150a6', 'message': 'Run skip list tests as a tempest tests\n\nIt modifies tempest.yml playbook to generate skip list only\nwhen tempest_run_skipped is set to false.\n\nWhen tempest_run_skipped is set to true via featureset override\nthen pass skipped tests a tempest tests regex to run in order\nto test skipped tests.\n\nChange-Id: Ib3746672eff2715f47a330af5f534c335ea22553\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-07-21 10:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c7044a71dd924a71898162b23bc2bbfad696610d', 'message': 'Run skip list tests as a tempest tests\n\nIt modifies tempest.yml playbook to generate skip list only\nwhen tempest_run_skipped is set to false.\n\nWhen tempest_run_skipped is set to true via featureset override\nthen pass skipped tests a tempest tests regex to run in order\nto test skipped tests.\n\nThe implementation is tested here:\nhttps://review.rdoproject.org/r/28543\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1894\n\nChange-Id: Ib3746672eff2715f47a330af5f534c335ea22553\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2020-07-22 02:21:37.000000000', 'files': ['playbooks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6f5c629bd97af8dc6ab2fb3801a61f9d7f9090c6', 'message': 'Run skip list tests as a tempest tests\n\nIt modifies tempest.yml playbook to generate skip list only\nwhen tempest_run_skipped is set to false.\n\nWhen tempest_run_skipped is set to true via featureset override\nthen pass skipped tests a tempest tests regex to run in order\nto test skipped tests.\n\nThe implementation is tested here:\nhttps://review.rdoproject.org/r/28543\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1894\n\nChange-Id: Ib3746672eff2715f47a330af5f534c335ea22553\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",4,741885,6f5c629bd97af8dc6ab2fb3801a61f9d7f9090c6,25,9,5,12393,,,0,"Run skip list tests as a tempest tests

It modifies tempest.yml playbook to generate skip list only
when tempest_run_skipped is set to false.

When tempest_run_skipped is set to true via featureset override
then pass skipped tests a tempest tests regex to run in order
to test skipped tests.

The implementation is tested here:
https://review.rdoproject.org/r/28543

https://tree.taiga.io/project/tripleo-ci-board/task/1894

Change-Id: Ib3746672eff2715f47a330af5f534c335ea22553
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/85/741885/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest.yml'],1,d95338eb096e8f6eed08d483456da59152093432,skiplist," when: not tempest_run_skipped | default(false) | bool - name: Run tempest skiplist tests set_fact: tempest_test_whitelist: ""{{ tempest_skip_register.skipped_tests }}"" tempest_test_blacklist: ""[]"" when: tempest_run_skipped | default(false) | bool ",,8,0
openstack%2Fswift~master~I24e417ca7500bc9455d5307e6712517c75b2cd25,openstack/swift,master,I24e417ca7500bc9455d5307e6712517c75b2cd25,Actually interpolate error message,MERGED,2020-07-22 22:43:42.000000000,2020-07-23 08:13:34.000000000,2020-07-23 08:11:28.000000000,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 22:43:42.000000000', 'files': ['swift/container/sync.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0dbf3d0a954522e5f6cc529c6da961ef2f87991d', 'message': 'Actually interpolate error message\n\nAlso, drop translation for the error message to improve search-ability.\n\nChange-Id: I24e417ca7500bc9455d5307e6712517c75b2cd25\nPartial-Bug: 1674543\n'}]",0,742549,0dbf3d0a954522e5f6cc529c6da961ef2f87991d,14,3,1,15343,,,0,"Actually interpolate error message

Also, drop translation for the error message to improve search-ability.

Change-Id: I24e417ca7500bc9455d5307e6712517c75b2cd25
Partial-Bug: 1674543
",git fetch https://review.opendev.org/openstack/swift refs/changes/49/742549/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/sync.py'],1,0dbf3d0a954522e5f6cc529c6da961ef2f87991d,bug/1674543, 'Unknown exception trying to GET: ' '%(account)r %(container)r %(object)r' %," _('Unknown exception trying to GET: ' '%(account)r %(container)r %(object)r'),",2,2
openstack%2Fsahara~master~Ie870a45265f05aaa0bc8b964ce0d3fcbff4a7cc3,openstack/sahara,master,Ie870a45265f05aaa0bc8b964ce0d3fcbff4a7cc3,Correct some typos in some documents,NEW,2020-07-23 08:04:02.000000000,2020-07-23 08:12:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-23 08:04:02.000000000', 'files': ['releasenotes/notes/ntp-config-51ed9d612132e2fa.yaml', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/sahara/commit/2052ddee0d47ba8fea879f7a06e6eea973e40065', 'message': ""Correct some typos in some documents\n\nThis patch changes 'prefered' to 'preferred'\nin some documents\n\nChange-Id: Ie870a45265f05aaa0bc8b964ce0d3fcbff4a7cc3\n""}]",0,742608,2052ddee0d47ba8fea879f7a06e6eea973e40065,2,1,1,30696,,,0,"Correct some typos in some documents

This patch changes 'prefered' to 'preferred'
in some documents

Change-Id: Ie870a45265f05aaa0bc8b964ce0d3fcbff4a7cc3
",git fetch https://review.opendev.org/openstack/sahara refs/changes/08/742608/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ntp-config-51ed9d612132e2fa.yaml', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po']",2,2052ddee0d47ba8fea879f7a06e6eea973e40065,typo,"""This fixes the issue with NTP configuration where a preferred server provided """"deleted. Here we add the preferred server to the top of the file.""","""This fixes the issue with NTP configuration where a prefered server provided """"deleted. Here we add the prefered server to the top of the file.""",4,4
openstack%2Fmistral~master~I8f5ee8ae9542d9a15fb0937b4a9de1db9915a3a7,openstack/mistral,master,I8f5ee8ae9542d9a15fb0937b4a9de1db9915a3a7,Fix Python 3 compatibility issue in V8EvalEvaluator,MERGED,2020-07-20 09:40:11.000000000,2020-07-23 07:47:20.000000000,2020-07-23 07:45:56.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 30755}]","[{'number': 1, 'created': '2020-07-20 09:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/ee85ab6fd5194003c41ad896e25727898c702860', 'message': 'Py3 vs V8EvalEvaluator: encode() is now not only unnecessary but actually\nbreaks the action by converting the input str to bytes\n\nChange-Id: I8f5ee8ae9542d9a15fb0937b4a9de1db9915a3a7\n'}, {'number': 2, 'created': '2020-07-20 09:51:27.000000000', 'files': ['mistral/utils/javascript.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/d0d865063b56c76f45d38bf99c722d2efff02a92', 'message': 'Fix Python 3 compatibility issue in V8EvalEvaluator\n\nstr.encode() is now not only unnecessary but it actually breaks the\naction by converting the input str to bytes. Since Python 2 support has\nbeen dropped, the call to encode() can simply be removed.\n\nChange-Id: I8f5ee8ae9542d9a15fb0937b4a9de1db9915a3a7\n'}]",0,741902,d0d865063b56c76f45d38bf99c722d2efff02a92,14,5,2,23383,,,0,"Fix Python 3 compatibility issue in V8EvalEvaluator

str.encode() is now not only unnecessary but it actually breaks the
action by converting the input str to bytes. Since Python 2 support has
been dropped, the call to encode() can simply be removed.

Change-Id: I8f5ee8ae9542d9a15fb0937b4a9de1db9915a3a7
",git fetch https://review.opendev.org/openstack/mistral refs/changes/02/741902/2 && git format-patch -1 --stdout FETCH_HEAD,['mistral/utils/javascript.py'],1,ee85ab6fd5194003c41ad896e25727898c702860,v8eval-py3-compatibility," '$ = %s; %s' % (ctx_str, script)"," ('$ = %s; %s' % (ctx_str, script)).encode(encoding='UTF-8')",1,1
openstack%2Ftripleo-operator-ansible~master~I99c7a9308e5294c02809a7699893f521010e7396,openstack/tripleo-operator-ansible,master,I99c7a9308e5294c02809a7699893f521010e7396,Correct some typos in the documents,MERGED,2020-06-12 02:19:28.000000000,2020-07-23 07:46:04.000000000,2020-07-23 07:46:04.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 30696}]","[{'number': 1, 'created': '2020-06-12 02:19:28.000000000', 'files': ['roles/tripleo_overcloud_ffwd_upgrade_converge/README.md', 'roles/tripleo_overcloud_deploy/README.md', 'roles/tripleo_overcloud_update_converge/README.md', 'roles/tripleo_overcloud_update_prepare/README.md', 'roles/tripleo_overcloud_upgrade_converge/README.md', 'roles/tripleo_overcloud_upgrade_prepare/README.md', 'roles/tripleo_overcloud_ffwd_upgrade_prepare/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/0dfa2deda92d17387ff9fa5b7e5869d6283029e3', 'message': ""Correct some typos in the documents\n\nThis patch changes 'enabel' to 'enable'\nin some documents\n\nChange-Id: I99c7a9308e5294c02809a7699893f521010e7396\n""}]",0,735274,0dfa2deda92d17387ff9fa5b7e5869d6283029e3,9,4,1,30696,,,0,"Correct some typos in the documents

This patch changes 'enabel' to 'enable'
in some documents

Change-Id: I99c7a9308e5294c02809a7699893f521010e7396
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/74/735274/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_deploy/README.md', 'roles/tripleo_overcloud_ffwd_upgrade_converge/README.md', 'roles/tripleo_overcloud_update_converge/README.md', 'roles/tripleo_overcloud_update_prepare/README.md', 'roles/tripleo_overcloud_upgrade_converge/README.md', 'roles/tripleo_overcloud_upgrade_prepare/README.md', 'roles/tripleo_overcloud_ffwd_upgrade_prepare/README.md']",7,0dfa2deda92d17387ff9fa5b7e5869d6283029e3,typo,* `tripleo_overcloud_ffwd_upgrade_prepare_dry_run`: (Boolean) Flag to enable dry run. Default: false,* `tripleo_overcloud_ffwd_upgrade_prepare_dry_run`: (Boolean) Flag to enabel dry run. Default: false,7,7
openstack%2Fmagnum-ui~master~I4746fd7f06f48d1ed6d2db97553ebd04e2ad9843,openstack/magnum-ui,master,I4746fd7f06f48d1ed6d2db97553ebd04e2ad9843,Fix py36 job setup,MERGED,2020-07-17 12:33:46.000000000,2020-07-23 06:33:08.000000000,2020-07-23 06:29:05.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2020-07-17 12:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/e2127993b7c60c4e2df8d4bdc569dee2017e2143', 'message': ""Remove duplicate py36 job check from .zuul.yaml\n\nThe zuul template 'openstack-python3-victoria-jobs-horizon'\nalready includes py36 job as voting in both check and gate.\n\nSo this patch remove the unnecessary py36 job check as there is\nno point of running the same py36 job again & again.\n\nChange-Id: I4746fd7f06f48d1ed6d2db97553ebd04e2ad9843\n""}, {'number': 2, 'created': '2020-07-17 12:42:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/270f318cf2d0827f64ed49f0ebc256dfc9758984', 'message': ""Fix py36 job setup\n\nThe zuul template 'openstack-python3-victoria-jobs-horizon'\nalready includes py36 job as voting in both check and gate.\n\nThis patch remove the ancient overwrite of non-voting in check\nqueue. The py36 job is running fine and can be voting.\n\nChange-Id: I4746fd7f06f48d1ed6d2db97553ebd04e2ad9843\n""}]",0,741629,270f318cf2d0827f64ed49f0ebc256dfc9758984,9,3,2,29313,,,0,"Fix py36 job setup

The zuul template 'openstack-python3-victoria-jobs-horizon'
already includes py36 job as voting in both check and gate.

This patch remove the ancient overwrite of non-voting in check
queue. The py36 job is running fine and can be voting.

Change-Id: I4746fd7f06f48d1ed6d2db97553ebd04e2ad9843
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/29/741629/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e2127993b7c60c4e2df8d4bdc569dee2017e2143,,, check: jobs: - openstack-tox-py36: voting: false required-projects: - openstack/horizon,0,6
openstack%2Fcharm-neutron-api-plugin-ovn~master~I4238277adece83e08479bb31ee5066117bf8114f,openstack/charm-neutron-api-plugin-ovn,master,I4238277adece83e08479bb31ee5066117bf8114f,[DNM] Test update to zaza,ABANDONED,2020-06-16 08:31:16.000000000,2020-07-23 06:17:44.000000000,,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-16 08:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/7a7e008aa7f6568c09fd1805dbe921e8f0fc54b2', 'message': '[DNM] Test ovn-chassis charm in review 735415\n\nChange-Id: I4238277adece83e08479bb31ee5066117bf8114f\n'}, {'number': 2, 'created': '2020-06-19 07:56:28.000000000', 'files': ['src/tests/bundles/overlays/ha.j2'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/0f132e36adf5222364dd5b9c3aa9366fb9c8079d', 'message': '[DNM] Test update to zaza\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/332\nChange-Id: I4238277adece83e08479bb31ee5066117bf8114f\n'}]",0,735806,0f132e36adf5222364dd5b9c3aa9366fb9c8079d,10,3,2,13686,,,0,"[DNM] Test update to zaza

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/332
Change-Id: I4238277adece83e08479bb31ee5066117bf8114f
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/06/735806/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/bundles/overlays/ha.j2'],1,7a7e008aa7f6568c09fd1805dbe921e8f0fc54b2,test, ovn-chassis: charm: cs:~fnordahl/ovn-chassis-bug1883244,,2,0
openstack%2Fcharm-aodh~master~I36155ed9eb97970f3360669a6b068f080257851e,openstack/charm-aodh,master,I36155ed9eb97970f3360669a6b068f080257851e,[DNM] test charms.openstack update on Trusty,ABANDONED,2020-06-16 07:25:43.000000000,2020-07-23 06:17:36.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-16 07:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/22ce401929c76001004e6ffd99f8fb1da0a26129', 'message': '[DNM] test charms.openstack update on Trusty\n\nChange-Id: I36155ed9eb97970f3360669a6b068f080257851e\n'}, {'number': 2, 'created': '2020-06-16 08:01:15.000000000', 'files': ['wheelhouse-override.txt', 'src/tests/bundles/trusty-mitaka.yaml', 'src/tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/a5707d536e096e6f486c55b42e68a46813435bb4', 'message': '[DNM] test charms.openstack update on Trusty\n\nChange-Id: I36155ed9eb97970f3360669a6b068f080257851e\n'}]",0,735791,a5707d536e096e6f486c55b42e68a46813435bb4,7,2,2,13686,,,0,"[DNM] test charms.openstack update on Trusty

Change-Id: I36155ed9eb97970f3360669a6b068f080257851e
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/91/735791/1 && git format-patch -1 --stdout FETCH_HEAD,"['wheelhouse-override.txt', 'src/tests/tests.yaml', 'tox.ini']",3,22ce401929c76001004e6ffd99f8fb1da0a26129,test, charm-build --log-level DEBUG -o {toxinidir}/build src -w wheelhouse-override.txt {posargs}, charm-build --log-level DEBUG -o {toxinidir}/build src {posargs},3,2
openstack%2Fcharm-octavia~master~I1dee256657290ced167a68ff3fab5bde6b1cc237,openstack/charm-octavia,master,I1dee256657290ced167a68ff3fab5bde6b1cc237,Add workaround for race in subordnate LXD profiles,ABANDONED,2020-06-03 15:19:52.000000000,2020-07-23 06:17:10.000000000,,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-03 15:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/944ea577e8b44dd9c5b173071dc7c1a46228ebe8', 'message': '[WIP] Add workaround for race in subordnate LXD profiles\n\nThe sole purpose of adding the LXD-profile to Octavia\ncharm is to work around LP: #1876849.\n\nOctavia aims at being SDN agnostic and as such expects the\nsubordinate providing transport to the cloud where the\nAmphorae are deployed to provide a LXD profile for kernel\nmodules and other configuration required by the SDN\nsubordinate.\n\nRelated-Bug: #1876849\nChange-Id: I1dee256657290ced167a68ff3fab5bde6b1cc237\n'}, {'number': 2, 'created': '2020-06-04 05:00:24.000000000', 'files': ['src/lxd-profile.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/3a53867091f7b73c6abbe5c796816fecc1f8af23', 'message': 'Add workaround for race in subordnate LXD profiles\n\nThe sole purpose of adding the LXD-profile to Octavia\ncharm is to work around LP: #1876849.\n\nOctavia aims at being SDN agnostic and as such expects the\nsubordinate providing transport to the cloud where the\nAmphorae are deployed to provide a LXD profile for kernel\nmodules and other configuration required by the SDN\nsubordinate.\n\nRelated-Bug: #1876849\nChange-Id: I1dee256657290ced167a68ff3fab5bde6b1cc237\n'}]",0,733171,3a53867091f7b73c6abbe5c796816fecc1f8af23,13,3,2,13686,,,0,"Add workaround for race in subordnate LXD profiles

The sole purpose of adding the LXD-profile to Octavia
charm is to work around LP: #1876849.

Octavia aims at being SDN agnostic and as such expects the
subordinate providing transport to the cloud where the
Amphorae are deployed to provide a LXD profile for kernel
modules and other configuration required by the SDN
subordinate.

Related-Bug: #1876849
Change-Id: I1dee256657290ced167a68ff3fab5bde6b1cc237
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/71/733171/2 && git format-patch -1 --stdout FETCH_HEAD,['src/lxd-profile.yaml'],1,944ea577e8b44dd9c5b173071dc7c1a46228ebe8,bug/1876849,"# NOTE(fnordahl): The existence of this LXD-profile is a workaround for # LP: #1876849. # # Octavia aims at being SDN agnostic and as such expects the subordinate # providing transport to the cloud where the Amphorae are deployed to provide a # LXD profile for kernel modules and other configuration required by the SDN # subordinate. config: linux.kernel_modules: openvswitch,ip_tables,ip6_tables ",,9,0
openstack%2Fcharm-neutron-openvswitch~master~I2ea7e7a536043e8837e9d6d7e70129f77bef7370,openstack/charm-neutron-openvswitch,master,I2ea7e7a536043e8837e9d6d7e70129f77bef7370,Allow post deploy change of firewall driver to work,ABANDONED,2020-04-01 09:56:52.000000000,2020-07-23 06:15:31.000000000,,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-04-01 09:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/4887f445a05dbdae7f1959cb89c0e240b32254d5', 'message': '[WIP] Allow post deploy change of firewall driver to work\n\nDue to a bug in Open vSwitch 2.12 the ``ovsdb-server`` process do\nnot pick up changes to the ``protocols`` property on bridges.\n\nWork around the issue by restarting the ``ovsdb-server`` when\nrequired.\n\nAdd helper to determine firewall driver in use.\n\nUpdate calls to add_bridge to use the new brdata interface.\n\nRemove import of system apt_pkg and use charm-helpers shim instead.\n\nSync charm-helpers.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/213\nChange-Id: I2ea7e7a536043e8837e9d6d7e70129f77bef7370\nRelated-Bug: #1852221\n'}, {'number': 2, 'created': '2020-04-01 14:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/7382c209ec2b77bf744e32a0e8da86407f0b4b36', 'message': 'Allow post deploy change of firewall driver to work\n\nDue to a bug in Open vSwitch 2.12 the ``ovsdb-server`` process do\nnot pick up changes to the ``protocols`` property on bridges.\n\nWork around the issue by restarting the ``ovsdb-server`` when\nrequired.\n\nAdd helper to determine firewall driver in use.\n\nUpdate calls to add_bridge to use the new brdata interface.\n\nRemove import of system apt_pkg and use charm-helpers shim instead.\n\nSync charm-helpers.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/213\nChange-Id: I2ea7e7a536043e8837e9d6d7e70129f77bef7370\nRelated-Bug: #1852221\n'}, {'number': 3, 'created': '2020-04-01 17:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/8a96487a4694c4a65fa2e6866c9e17af93216299', 'message': 'Allow post deploy change of firewall driver to work\n\nDue to a bug in Open vSwitch 2.12 the ``ovsdb-server`` process do\nnot pick up changes to the ``protocols`` property on bridges.\n\nWork around the issue by restarting the ``ovsdb-server`` when\nrequired.\n\nAdd helper to determine firewall driver in use.\n\nUpdate calls to add_bridge to use the new brdata interface.\n\nRemove import of system apt_pkg and use charm-helpers shim instead.\n\nSync charm-helpers.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/213\nChange-Id: I2ea7e7a536043e8837e9d6d7e70129f77bef7370\nRelated-Bug: #1852221\n'}, {'number': 4, 'created': '2020-04-01 18:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/11054a8d7da5cfd708d66ba1efb9c3c42a8d096c', 'message': 'Allow post deploy change of firewall driver to work\n\nDue to a bug in Open vSwitch 2.12 the ``ovsdb-server`` process do\nnot pick up changes to the ``protocols`` property on bridges.\n\nWork around the issue by restarting the ``ovsdb-server`` when\nrequired.\n\nAdd helper to determine firewall driver in use.\n\nUpdate calls to add_bridge to use the new brdata interface.\n\nRemove import of system apt_pkg and use charm-helpers shim instead.\n\nSync charm-helpers.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/213\nChange-Id: I2ea7e7a536043e8837e9d6d7e70129f77bef7370\nRelated-Bug: #1852221\n'}, {'number': 5, 'created': '2020-04-02 13:37:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/e0ccd9699456ac0b6084c472d5eddb92634e8e47', 'message': 'Allow post deploy change of firewall driver to work\n\nDue to a bug in Open vSwitch 2.12 the ``ovsdb-server`` process do\nnot pick up changes to the ``protocols`` property on bridges.\n\nWork around the issue by restarting the ``ovsdb-server`` when\nrequired.\n\nAdd helper to determine firewall driver in use.\n\nUpdate calls to add_bridge to use the new brdata interface.\n\nRemove import of system apt_pkg and use charm-helpers shim instead.\n\nSync charm-helpers.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/213\nChange-Id: I2ea7e7a536043e8837e9d6d7e70129f77bef7370\nRelated-Bug: #1852221\n'}, {'number': 6, 'created': '2020-04-03 06:34:57.000000000', 'files': ['unit_tests/test_neutron_ovs_utils.py', 'hooks/charmhelpers/contrib/network/ovs/ovsdb.py', 'hooks/neutron_ovs_utils.py', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/contrib/storage/linux/loopback.py', 'hooks/charmhelpers/contrib/network/ovs/ovn.py', 'hooks/charmhelpers/contrib/python/__init__.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/network/ovs/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/bba1d31195d4b6fb11c52e04fb499454db36655b', 'message': 'Allow post deploy change of firewall driver to work\n\nDue to a bug in Open vSwitch 2.12 the ``ovsdb-server`` process do\nnot pick up changes to the ``protocols`` property on bridges.\n\nWork around the issue by restarting the ``ovsdb-server`` when\nrequired.\n\nAdd helper to determine firewall driver in use.\n\nUpdate calls to add_bridge to use the new brdata interface.\n\nRemove import of system apt_pkg and use charm-helpers shim instead.\n\nSync charm-helpers.\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/213\nChange-Id: I2ea7e7a536043e8837e9d6d7e70129f77bef7370\nRelated-Bug: #1852221\n'}]",1,716538,bba1d31195d4b6fb11c52e04fb499454db36655b,29,4,6,13686,,,0,"Allow post deploy change of firewall driver to work

Due to a bug in Open vSwitch 2.12 the ``ovsdb-server`` process do
not pick up changes to the ``protocols`` property on bridges.

Work around the issue by restarting the ``ovsdb-server`` when
required.

Add helper to determine firewall driver in use.

Update calls to add_bridge to use the new brdata interface.

Remove import of system apt_pkg and use charm-helpers shim instead.

Sync charm-helpers.

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/213
Change-Id: I2ea7e7a536043e8837e9d6d7e70129f77bef7370
Related-Bug: #1852221
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/38/716538/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_neutron_ovs_utils.py', 'hooks/charmhelpers/contrib/network/ovs/ovsdb.py', 'hooks/neutron_ovs_utils.py', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'hooks/charmhelpers/contrib/network/ovs/ovn.py', 'hooks/charmhelpers/contrib/storage/linux/loopback.py', 'hooks/charmhelpers/contrib/python/__init__.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/network/ovs/utils.py']",9,4887f445a05dbdae7f1959cb89c0e240b32254d5,bug/1852221,"# Copyright 2019 Canonical Ltd # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import subprocess def _run(*args): """"""Run a process, check result, capture decoded output from STDOUT. :param args: Command and arguments to run :type args: Tuple[str, ...] :returns: Information about the completed process :rtype: str :raises subprocess.CalledProcessError """""" return subprocess.check_output(args, universal_newlines=True) ",,657,49
openstack%2Fcharm-octavia~master~Ia517f622c600f8e22dbf8f6df4095122da13400f,openstack/charm-octavia,master,Ia517f622c600f8e22dbf8f6df4095122da13400f,Drop gss amqp-relation and source config,ABANDONED,2020-06-18 09:56:43.000000000,2020-07-23 06:10:05.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-18 09:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/3e28ef4c20b2eab8c768f5ce9ddf25ab9dfbf54d', 'message': 'Drop gss amqp-relation and source config\n\nThe glance-simplestreams-sync charm has dropped the AMQP relation\nand migrated to consuming simplestreams from a snap.\n\nDrop the now redundant relation and source configuration from test\nbundles.\n\nChange-Id: Ia517f622c600f8e22dbf8f6df4095122da13400f\n'}, {'number': 2, 'created': '2020-06-18 11:32:52.000000000', 'files': ['src/tests/bundles/bionic-rocky-ha.yaml', 'src/tests/bundles/bionic-ussuri-ha-ovn.yaml', 'src/tests/bundles/bionic-train-ha-ovn.yaml', 'src/tests/bundles/focal-ussuri-ha.yaml', 'src/tests/bundles/bionic-ussuri-ha.yaml', 'src/tests/bundles/focal-ussuri-ha-ovn.yaml', 'src/tests/bundles/bionic-train-ha.yaml', 'src/tests/bundles/bionic-rocky-lxd.yaml', 'src/tests/bundles/bionic-stein-ha.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/f55beefa9e7fb4597d7da124720cbca996d863fd', 'message': 'Drop gss amqp-relation and source config\n\nThe glance-simplestreams-sync charm has dropped the AMQP relation\nand migrated to consuming simplestreams from a snap.\n\nDrop the now redundant relation and source configuration from test\nbundles.\n\nChange-Id: Ia517f622c600f8e22dbf8f6df4095122da13400f\n'}]",0,736519,f55beefa9e7fb4597d7da124720cbca996d863fd,7,2,2,13686,,,0,"Drop gss amqp-relation and source config

The glance-simplestreams-sync charm has dropped the AMQP relation
and migrated to consuming simplestreams from a snap.

Drop the now redundant relation and source configuration from test
bundles.

Change-Id: Ia517f622c600f8e22dbf8f6df4095122da13400f
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/19/736519/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-rocky-ha.yaml', 'src/tests/bundles/bionic-ussuri-ha-ovn.yaml', 'src/tests/bundles/bionic-train-ha-ovn.yaml', 'src/tests/bundles/focal-ussuri-ha.yaml', 'src/tests/bundles/bionic-ussuri-ha.yaml', 'src/tests/bundles/bionic-train-ha.yaml', 'src/tests/bundles/focal-ussuri-ha-ovn.yaml', 'src/tests/bundles/bionic-rocky-lxd.yaml', 'src/tests/bundles/bionic-stein-ha.yaml', 'src/tests/tests.yaml']",10,3e28ef4c20b2eab8c768f5ce9ddf25ab9dfbf54d,update-tests-gss-charm,- zaza.openstack.charm_tests.glance_simplestreams_sync.setup.sync_images, glance-simplestreams-sync: workload-status: active workload-status-message: Sync completed,1,30
openstack%2Frpm-packaging~master~I90e6b3f84ed7032c3a11d0c875b6b3dc28c8e6ff,openstack/rpm-packaging,master,I90e6b3f84ed7032c3a11d0c875b6b3dc28c8e6ff,neutron: update for netns-cleanup to oslo.privsep conversion,MERGED,2020-07-16 19:09:07.000000000,2020-07-23 06:05:27.000000000,2020-07-23 06:05:27.000000000,"[{'_account_id': 6593}, {'_account_id': 12907}, {'_account_id': 13294}, {'_account_id': 17246}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-16 19:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7faf7c86b25e65f0de9fcc33a6f00a40fa6c2d78', 'message': 'neutron: update for netns-cleanup to oslo.privsep conversion\n\nChange-Id: I90e6b3f84ed7032c3a11d0c875b6b3dc28c8e6ff\n'}, {'number': 2, 'created': '2020-07-23 05:52:18.000000000', 'files': ['openstack/neutron/neutron.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/4590fbe99a12a98b5bc06def138f67d9ff732363', 'message': 'neutron: update for netns-cleanup to oslo.privsep conversion\n\nChange-Id: I90e6b3f84ed7032c3a11d0c875b6b3dc28c8e6ff\n'}]",0,741524,4590fbe99a12a98b5bc06def138f67d9ff732363,18,8,2,6593,,,0,"neutron: update for netns-cleanup to oslo.privsep conversion

Change-Id: I90e6b3f84ed7032c3a11d0c875b6b3dc28c8e6ff
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/24/741524/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/neutron/neutron.spec.j2'],1,7faf7c86b25e65f0de9fcc33a6f00a40fa6c2d78,,,%{_datarootdir}/{{ pypi_name }}/rootwrap/netns-cleanup.filters,0,1
openstack%2Fironic~master~Ia3e3178692c96aaebdd4479e865a56fbe63c820a,openstack/ironic,master,Ia3e3178692c96aaebdd4479e865a56fbe63c820a,Document fast-track and the agent power interface,MERGED,2020-07-17 16:10:38.000000000,2020-07-23 05:57:42.000000000,2020-07-23 04:49:01.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-17 16:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a2f5f2cf8b77213b4bdc0d54d95ee155a8c6d4cc', 'message': ""Document fast-track and the agent power interface\n\nTo prevent the administrator guide from growing too long, split\naway advanced topics (i.e. stuff we don't expect most of admins\nto read, use or understand).\n\nStory: #2007771\nTask: #40382\nChange-Id: Ia3e3178692c96aaebdd4479e865a56fbe63c820a\n""}, {'number': 2, 'created': '2020-07-20 07:45:18.000000000', 'files': ['doc/source/admin/fast-track.rst', 'doc/source/admin/index.rst', 'doc/source/admin/agent-power.rst', 'doc/source/admin/inspection.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4911477525756330cd8b5594e47cbd7188d00aa3', 'message': ""Document fast-track and the agent power interface\n\nTo prevent the administrator guide from growing too long, split\naway advanced topics (i.e. stuff we don't expect most of admins\nto read, use or understand).\n\nStory: #2007771\nTask: #40382\nChange-Id: Ia3e3178692c96aaebdd4479e865a56fbe63c820a\n""}]",3,741668,4911477525756330cd8b5594e47cbd7188d00aa3,17,6,2,10239,,,0,"Document fast-track and the agent power interface

To prevent the administrator guide from growing too long, split
away advanced topics (i.e. stuff we don't expect most of admins
to read, use or understand).

Story: #2007771
Task: #40382
Change-Id: Ia3e3178692c96aaebdd4479e865a56fbe63c820a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/68/741668/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/fast-track.rst', 'doc/source/admin/index.rst', 'doc/source/admin/agent-power.rst', 'doc/source/admin/inspection.rst']",4,a2f5f2cf8b77213b4bdc0d54d95ee155a8c6d4cc,story/2007771,.. _in-band inspection: ,,143,6
openstack%2Fironic~master~I3d7157c1c4464b650adebbd7f894ee33d0f8f25b,openstack/ironic,master,I3d7157c1c4464b650adebbd7f894ee33d0f8f25b,Add agent power interface,MERGED,2020-06-15 13:38:58.000000000,2020-07-23 05:49:08.000000000,2020-07-23 04:48:55.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}, {'_account_id': 31616}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-06-15 13:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/65ae01cd2b05505040038169ad14150da0326913', 'message': '[WIP] Agent power interface\n\nStory: #2007771\nTask: #39995\nChange-Id: I3d7157c1c4464b650adebbd7f894ee33d0f8f25b\n'}, {'number': 2, 'created': '2020-06-17 08:57:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5313c83d22ca2e943f13c091b25791a4cc85ba20', 'message': '[WIP] Agent power interface\n\nStory: #2007771\nTask: #39995\nChange-Id: I3d7157c1c4464b650adebbd7f894ee33d0f8f25b\n'}, {'number': 3, 'created': '2020-06-17 09:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4f3cb96628ea5b48c89eff44531a5a9fe7e577e6', 'message': '[WIP] Agent power interface\n\nStory: #2007771\nTask: #39995\nChange-Id: I3d7157c1c4464b650adebbd7f894ee33d0f8f25b\n'}, {'number': 4, 'created': '2020-06-17 11:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/845db60e6b9fb2a3541b1c1a9de121d2b539ac8f', 'message': '[WIP] Agent power interface\n\nStory: #2007771\nTask: #39995\nChange-Id: I3d7157c1c4464b650adebbd7f894ee33d0f8f25b\n'}, {'number': 5, 'created': '2020-06-17 13:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3cdcde0b39201bf6fe62c6a7e1c739fb8cffdcc7', 'message': '[WIP] Agent power interface\n\nStory: #2007771\nTask: #39995\nChange-Id: I3d7157c1c4464b650adebbd7f894ee33d0f8f25b\n'}, {'number': 6, 'created': '2020-06-19 09:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b420b6489601a6a41a31a2aa4f42d5695231fa75', 'message': '[WIP] Agent power interface\n\nStory: #2007771\nTask: #39995\nChange-Id: I3d7157c1c4464b650adebbd7f894ee33d0f8f25b\n'}, {'number': 7, 'created': '2020-06-19 10:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9ffa18e5d060c57fbbab7f07c399c58a63244134', 'message': ""[WIP] Agent power interface\n\nThis change adds a new 'agent' power interface that can be used together\nwith fast-track to deploy nodes without knowing their power credentials.\nIt relies on the agent staying powered on during the whole pre-deployment\nand deployment process.\n\nStory: #2007771\nTask: #39995\nChange-Id: I3d7157c1c4464b650adebbd7f894ee33d0f8f25b\n""}, {'number': 8, 'created': '2020-06-25 12:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/88c9d9dae40a08e0899191a36e270ee2686440a1', 'message': ""[WIP] Agent power interface\n\nThis change adds a new 'agent' power interface that can be used together\nwith fast-track to deploy nodes without knowing their power credentials.\nIt relies on the agent staying powered on during the whole pre-deployment\nand deployment process.\n\nStory: #2007771\nTask: #39995\nChange-Id: I3d7157c1c4464b650adebbd7f894ee33d0f8f25b\n""}, {'number': 9, 'created': '2020-06-25 12:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b15ef9f23e6d7d2e647182f0aa654e4215eaed4d', 'message': ""[WIP] Agent power interface\n\nThis change adds a new 'agent' power interface that can be used together\nwith fast-track to deploy nodes without knowing their power credentials.\nIt relies on the agent staying powered on during the whole pre-deployment\nand deployment process.\n\nStory: #2007771\nTask: #39995\nChange-Id: I3d7157c1c4464b650adebbd7f894ee33d0f8f25b\n""}, {'number': 10, 'created': '2020-06-26 12:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/22aaa1e11e930c9ddb9ebc562957d39206716b07', 'message': ""[WIP] Agent power interface\n\nThis change adds a new 'agent' power interface that can be used together\nwith fast-track to deploy nodes without knowing their power credentials.\nIt relies on the agent staying powered on during the whole pre-deployment\nand deployment process.\n\nStory: #2007771\nTask: #39995\nChange-Id: I3d7157c1c4464b650adebbd7f894ee33d0f8f25b\n""}, {'number': 11, 'created': '2020-07-08 09:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/464284c93e1e3f1619049f28803540b1a01b50c3', 'message': ""[WIP] Agent power interface\n\nThis change adds a new 'agent' power interface that can be used together\nwith fast-track to deploy nodes without knowing their power credentials.\nIt relies on the agent staying powered on during the whole pre-deployment\nand deployment process.\n\nStory: #2007771\nTask: #39995\nChange-Id: I3d7157c1c4464b650adebbd7f894ee33d0f8f25b\n""}, {'number': 12, 'created': '2020-07-16 14:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/51b0b8b39bd525f42247c51036d5f3e62c42534a', 'message': ""[WIP] Agent power interface\n\nThis change adds a new 'agent' power interface that can be used together\nwith fast-track to deploy nodes without knowing their power credentials.\nIt relies on the agent staying powered on during the whole pre-deployment\nand deployment process.\n\nStory: #2007771\nTask: #39995\nChange-Id: I3d7157c1c4464b650adebbd7f894ee33d0f8f25b\n""}, {'number': 13, 'created': '2020-07-17 13:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b168ceaf91239c0e6a86964dd79a048094825b6f', 'message': ""[WIP] Agent power interface\n\nThis change adds a new 'agent' power interface that can be used together\nwith fast-track to deploy nodes without knowing their power credentials.\nIt relies on the agent staying powered on during the whole pre-deployment\nand deployment process.\n\nStory: #2007771\nTask: #39995\nChange-Id: I3d7157c1c4464b650adebbd7f894ee33d0f8f25b\n""}, {'number': 14, 'created': '2020-07-17 15:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dad081181b2c2afe84a947c3a3baf8ee4ce4fda2', 'message': ""Add agent power interface\n\nThis change adds a new 'agent' power interface that can be used together\nwith fast-track to deploy nodes without knowing their power credentials.\nIt relies on the agent staying powered on during the whole pre-deployment\nand deployment process.\n\nStory: #2007771\nTask: #39995\nChange-Id: I3d7157c1c4464b650adebbd7f894ee33d0f8f25b\n""}, {'number': 15, 'created': '2020-07-20 07:45:18.000000000', 'files': ['releasenotes/notes/agent-power-a000fdf37cb870e4.yaml', 'ironic/tests/unit/drivers/modules/test_agent_power.py', 'ironic/drivers/modules/agent_client.py', 'ironic/conductor/utils.py', 'setup.cfg', 'ironic/conductor/task_manager.py', 'ironic/drivers/generic.py', 'ironic/drivers/modules/agent_power.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/46f8c857524e8a45935836ac97463928a2d9a0a9', 'message': ""Add agent power interface\n\nThis change adds a new 'agent' power interface that can be used together\nwith fast-track to deploy nodes without knowing their power credentials.\nIt relies on the agent staying powered on during the whole pre-deployment\nand deployment process.\n\nStory: #2007771\nTask: #39995\nChange-Id: I3d7157c1c4464b650adebbd7f894ee33d0f8f25b\n""}]",5,735591,46f8c857524e8a45935836ac97463928a2d9a0a9,61,9,15,10239,,,0,"Add agent power interface

This change adds a new 'agent' power interface that can be used together
with fast-track to deploy nodes without knowing their power credentials.
It relies on the agent staying powered on during the whole pre-deployment
and deployment process.

Story: #2007771
Task: #39995
Change-Id: I3d7157c1c4464b650adebbd7f894ee33d0f8f25b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/91/735591/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent_client.py', 'ironic/drivers/modules/agent_base.py', 'ironic/conductor/utils.py', 'setup.cfg', 'ironic/drivers/generic.py', 'ironic/drivers/modules/agent_power.py']",6,65ae01cd2b05505040038169ad14150da0326913,story/2007771,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" The agent power interface. """""" import time from oslo_config import cfg from oslo_log import log import retrying from ironic.common import exception from ironic.common.i18n import _ from ironic.common import states from ironic.common import utils from ironic.conductor import utils as cond_utils from ironic.drivers import base from ironic.drivers.modules import agent_client CONF = cfg.CONF LOG = log.getLogger(__name__) _POWER_WAIT = 60 class AgentPower(base.PowerInterface): """"""Power interface using the running agent for power actions."""""" def __init__(self): super(AgentPower, self).__init__() if not CONF.deploy.fast_track: raise exception.InvalidParameterValue( _('[deploy]fast_track must be True to enable the agent ' 'power interface')) self._client = agent_client.AgentClient() def get_properties(self): """"""Return the properties of the interface. :returns: dictionary of <property name>:<property description> entries. """""" return {} def validate(self, task): """"""Validate the driver-specific Node deployment info. :param task: A TaskManager instance containing the node to act on. :raises: InvalidParameterValue on malformed parameter(s) """""" # TODO(dtantsur): support ACTIVE nodes if not cond_utils.is_fast_track(task, check_power=False): raise exception.InvalidParameterValue( _('Fast-track provisioning is not possible for node %s, ' 'the agent power interface cannot be used') % task.node.uuid) def get_power_state(self, task): """"""Return the power state of the task's node. Essentially, the only known state is POWER ON, everything else is an error (or more precisely ``None``). :param task: A TaskManager instance containing the node to act on. :returns: A power state. One of :mod:`ironic.common.states`. """""" # TODO(dtantsur): support ACTIVE nodes if cond_utils.is_fast_track(task, check_power=False): return states.POWER_ON else: LOG.error('Node %s is not fast-track-able, cannot determine ' 'its power state via the ""agent"" power interface', task.node.uuid) return None def set_power_state(self, task, power_state, timeout=None): """"""Set the power state of the task's node. :param task: A TaskManager instance containing the node to act on. :param power_state: Power state from :mod:`ironic.common.states`. Only REBOOT and SOFT_REBOOT are supported and are synonymous. :param timeout: timeout (in seconds) positive integer (> 0) for any power state. ``None`` indicates to use default timeout. :raises: PowerStateFailure on non-supported power state. """""" if power_state in (states.REBOOT, states.SOFT_REBOOT): return self.reboot(task) else: LOG.error('Power state %(state)s is not implemented for node ' '%(node)s using the ""agent"" power interface', {'node': task.node.uuid, 'state': power_state}) raise exception.PowerStateFailure(pstate=power_state) def reboot(self, task, timeout=None): """"""Perform a reboot of the task's node. Only soft reboot is implemented. :param task: A TaskManager instance containing the node to act on. :param timeout: timeout (in seconds) positive integer (> 0) for any power state. ``None`` indicates to use default timeout. """""" self._client.reboot(task.node) # NOTE(dtantsur): make sure we can detect when the agent is back. This # is potentially racy, but we don't expect the ramdisk to come back up # so quickly. utils.pop_node_nested_field(task.node, 'driver_internal_info', 'agent_last_heartbeat') task.node.save() LOG.debug('Requested reboot of node %(node)s via the agent, waiting ' '%(wait)d seconds for the node to power down', {'node': task.node.uuid, 'wait': _POWER_WAIT}) # FIXME(dtantsur): yes, I know, it's terrible. Do we have better ideas? time.sleep(_POWER_WAIT) wait = CONF.agent.post_deploy_get_power_state_retry_interval if timeout: retries = timeout // wait else: retries = CONF.agent.post_deploy_get_power_state_retries + 1 @retrying.retry( stop_max_attempt_number=retries + 1, retry_on_result=lambda result: not result, wait_fixed=wait * 1000 ) def _wait_until_rebooted(task): return cond_utils.is_fast_track(task) try: _wait_until_rebooted(task) except Exception as exc: LOG.error('Could not reboot node %(node)s with the ""agent"" power ' 'interface: %(exc)s', {'node': task.node.uuid, 'exc': exc}) raise exception.PowerStateFailure(pstate=states.REBOOT) def get_supported_power_states(self, task): """"""Get a list of the supported power states. Only contains REBOOT. :param task: A TaskManager instance containing the node to act on. :returns: A list with the supported power states defined in :mod:`ironic.common.states`. """""" return [states.REBOOT, states.SOFT_REBOOT] ",,201,8
openstack%2Fkolla-ansible~master~I7c22dd380fd5b1dff7b421109c4ae37bab11834a,openstack/kolla-ansible,master,I7c22dd380fd5b1dff7b421109c4ae37bab11834a,fix deploy freezer failed when kolla_dev_mod enabled,MERGED,2020-07-21 01:05:21.000000000,2020-07-23 05:44:47.000000000,2020-07-22 12:32:45.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-21 01:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/425f887067a9dd9346df74efc5ff2e13e1def3b0', 'message': 'fix deploy freezer failed when kolla_dev_mod enabled\n\nwe should clone freezer code before run bootstray,\notherwise, the directory /opt/stack/freezer which is empty will\nmount into freezer_api container.\n\nChange-Id: I7c22dd380fd5b1dff7b421109c4ae37bab11834a\n'}, {'number': 2, 'created': '2020-07-21 01:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/54365dad8b1566d268ee4da5f5b911f220af7383', 'message': 'fix deploy freezer failed when kolla_dev_mod enabled\n\nwe should clone freezer code before run bootstray,\notherwise, the directory /opt/stack/freezer which is empty will\nmount into freezer_api container.\n\nCloses-Bug: #1888242\n\nChange-Id: I7c22dd380fd5b1dff7b421109c4ae37bab11834a\n'}, {'number': 3, 'created': '2020-07-21 02:36:58.000000000', 'files': ['releasenotes/notes/bug-freezer-dev-mod-failed-af5bebb6c3eaabad.yaml', 'ansible/roles/freezer/tasks/deploy.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7dc471323c8e5248b2b739573c2472f427cb4fc6', 'message': 'fix deploy freezer failed when kolla_dev_mod enabled\n\nwe should clone freezer code before run bootstray,\notherwise, the directory /opt/stack/freezer which is empty will\nmount into freezer_api container.\n\nCloses-Bug: #1888242\n\nChange-Id: I7c22dd380fd5b1dff7b421109c4ae37bab11834a\n'}]",0,742052,7dc471323c8e5248b2b739573c2472f427cb4fc6,13,3,3,26285,,,0,"fix deploy freezer failed when kolla_dev_mod enabled

we should clone freezer code before run bootstray,
otherwise, the directory /opt/stack/freezer which is empty will
mount into freezer_api container.

Closes-Bug: #1888242

Change-Id: I7c22dd380fd5b1dff7b421109c4ae37bab11834a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/742052/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'releasenotes/notes/bug-freezer-dev-mod-failed-af5bebb6c3eaabad.yaml', 'ansible/roles/freezer/tasks/deploy.yml']",3,425f887067a9dd9346df74efc5ff2e13e1def3b0,bug/1888242,- include_tasks: clone.yml when: freezer_dev_mode | bool ,- include_tasks: clone.yml when: freezer_dev_mode | bool ,9,4
openstack%2Fcharm-ceph-osd~master~Iefbf57078115181c67b320e0c5b6cbd7dc05ac55,openstack/charm-ceph-osd,master,Iefbf57078115181c67b320e0c5b6cbd7dc05ac55,Improve README,MERGED,2020-07-07 23:06:45.000000000,2020-07-23 05:41:50.000000000,2020-07-23 05:41:50.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 23:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/7d3681cfe68dfcb4c00ef86e584d4663f2d57445', 'message': 'Improve README\n\nThis improvement is part of a wave of polish\nin preparation for the launch of the Ceph product.\n\nChange-Id: Iefbf57078115181c67b320e0c5b6cbd7dc05ac55\n'}, {'number': 2, 'created': '2020-07-08 17:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/d8b4776c031db680f312fb6b9c4683f474361090', 'message': 'Improve README\n\nThis improvement is part of a wave of polish\nin preparation for the launch of the Ceph product.\n\nImproved the `osd-journal` option description in\nconfig.yaml.\n\nChange-Id: Iefbf57078115181c67b320e0c5b6cbd7dc05ac55\n'}, {'number': 3, 'created': '2020-07-08 18:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/376fe5e644fb3750b0329747c0766ae71e63cf13', 'message': 'Improve README\n\nThis improvement is part of a wave of polish\nin preparation for the launch of the Ceph product.\n\nImproved the `osd-journal` option description in\nconfig.yaml.\n\nChange-Id: Iefbf57078115181c67b320e0c5b6cbd7dc05ac55\n'}, {'number': 4, 'created': '2020-07-08 22:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/a586a7b853fc19b630ef7c9409efa09e8a62fda6', 'message': ""Improve README\n\nThis improvement is part of a wave of polish\nin preparation for the launch of the Ceph product.\n\nIn config.yaml, improve 'osd-journal' option description.\nAlso modernise example values for 'source' and use\nconsistent words with the ceph-osd, ceph-mon, and ceph-fs\ncharms.\n\nChange-Id: Iefbf57078115181c67b320e0c5b6cbd7dc05ac55\n""}, {'number': 5, 'created': '2020-07-09 16:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/33b0bd8675bbf760e2c19c9a7d634e81eefcfca2', 'message': ""Improve README\n\nThis improvement is part of a wave of polish\nin preparation for the launch of the Ceph product.\n\nIn config.yaml, improve 'osd-journal' option description.\nAlso modernise example values for 'source' and use\nconsistent words with the ceph-osd, ceph-mon, and ceph-fs\ncharms.\n\nChange-Id: Iefbf57078115181c67b320e0c5b6cbd7dc05ac55\n""}, {'number': 6, 'created': '2020-07-10 22:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/4756fdd2fa12d41ad5e7d976801fa0dc652def1d', 'message': ""Improve README\n\nThis improvement is part of a wave of polish\nin preparation for the launch of the Ceph product.\n\nIn config.yaml, improve 'osd-journal' option description.\nAlso modernise example values for 'source' and use\nconsistent words with the ceph-osd, ceph-mon, and ceph-fs\ncharms.\n\nChange-Id: Iefbf57078115181c67b320e0c5b6cbd7dc05ac55\n""}, {'number': 7, 'created': '2020-07-22 16:35:09.000000000', 'files': ['config.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/07e85175d9bc5e1572bcdeefca55609d29d09c78', 'message': ""Improve README\n\nThis improvement is part of a wave of polish\nin preparation for the launch of the Ceph product.\n\nIn config.yaml, improve 'osd-journal' option description.\nAlso modernise example values for 'source' and use\nconsistent words with the ceph-osd, ceph-mon, and ceph-fs\ncharms.\n\nChange-Id: Iefbf57078115181c67b320e0c5b6cbd7dc05ac55\n""}]",0,739864,07e85175d9bc5e1572bcdeefca55609d29d09c78,23,3,7,30561,,,0,"Improve README

This improvement is part of a wave of polish
in preparation for the launch of the Ceph product.

In config.yaml, improve 'osd-journal' option description.
Also modernise example values for 'source' and use
consistent words with the ceph-osd, ceph-mon, and ceph-fs
charms.

Change-Id: Iefbf57078115181c67b320e0c5b6cbd7dc05ac55
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/64/739864/6 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,7d3681cfe68dfcb4c00ef86e584d4663f2d57445,prep-for-ceph-launch,"## Configuration This section covers common and/or important configuration options. See file `config.yaml` for the full list of options, along with their descriptions and default values. See the [Juju documentation][juju-docs-config-apps] for details on configuring applications. #### `customize-failure-domain` The `customize-failure-domain` option determines how a Ceph CRUSH map is configured. A value of 'false' (the default) will lead to a map that will replicate data across hosts (implemented as [Ceph bucket type][upstream-ceph-buckets] 'host'). With a value of 'true' all MAAS-defined zones will be used to generate a map that will replicate data across Ceph availability zones (implemented as bucket type 'rack'). This option is also supported by the ceph-mon charm. Its value must be the same for both charms. #### `osd-devices` The `osd-devices` option lists what block devices can be used for OSDs across the cluster. See section 'Storage devices' for an elaboration on this fundamental topic. #### `osd-format` The `osd-format` option gives the filesystem format to use on OSD devices. The default value is 'xfs'. Other supported formats are 'ext4' and the experimental 'btrfs'. #### `osd-journal` The `osd-journal` option specifies a block device to use as a shared journal drive on storage nodes, to be used by all of a node's OSDs. By default a journal partition will be created on each OSD device, to be used by that OSD. #### `source` The `source` option states the software sources. The default is determined by the underlying host's default package archive configuration. A common value is an OpenStack UCA release (e.g. 'cloud:bionic-ussuri' or 'cloud:focal-victoria'). See [Ceph and the UCA][cloud-archive-ceph]. ### Storage devices`osd-devices` option (default value is '/dev/vdb'). Configuration is typically juju deploy -n 3 --config ceph-osd.yaml ceph-osd juju deploy -n 3 --to lxd:0,lxd:1,lxd:2 ceph-mon juju add-relation ceph-osd:mon ceph-mon:osd Here, a containerised MON is running alongside each OSD. We've assumed that the machines spawned in the first command are assigned IDs of 0, 1, and 2.configured via the `osd-devices` option and attempt to assign to it all of the* 'public' (front-side) * 'cluster' (back-side)* On any version of Ubuntu older than 16.04 * On any version of Ceph older than Luminous * When OSD journal devices are in use * When Ceph BlueStore is enabled* `disks`: visible (known by udev), unused (not mounted), and not designated as* `blacklist`: like `disks` but blacklisted (see action `blacklist-add-disk`) * `non-pristine`: like `disks` but not eligible for use due to the presence of* `osd-devices` (required) * `bucket` * `osd-devices` (required) * `osd-devices` (required) * `devices` (required) * `i-really-mean-it` (required) [juju-docs-config-apps]: https://juju.is/docs/configuring-applications[upstream-ceph-buckets]: https://docs.ceph.com/docs/master/rados/operations/crush-map/#types-and-buckets [cloud-archive-ceph]: https://wiki.ubuntu.com/OpenStack/CloudArchive#Ceph_and_the_UCA","## Storage devices`osd-devices` option (default value is `/dev/vdb`). Configuration is typically juju deploy --config ceph-osd.yaml -n 3 ceph-osd juju deploy --to lxd:0 ceph-mon juju add-unit --to lxd:1 ceph-mon juju add-unit --to lxd:2 ceph-mon juju add-relation ceph-osd ceph-mon Here, a containerised MON is running alongside each OSD.configured via the `osd-devices` option and attempt to assign to it all the- 'public' (front-side) - 'cluster' (back-side)- On any version of Ubuntu older than 16.04 - On any version of Ceph older than Luminous - When OSD journal devices are in use - When Ceph BlueStore is enabled- `disks`: visible (known by udev), unused (not mounted), and not designated as- `blacklist`: like `disks` but blacklisted (see action `blacklist-add-disk`) - `non-pristine`: like `disks` but not eligible for use due to the presence of- `osd-devices` (required) - `bucket` - `osd-devices` (required) - `osd-devices` (required) - `devices` (required) - `i-really-mean-it` (required) ",72,24
openstack%2Fcharm-ceph-mon~master~I9012cac438a899828ee3f376a765c792d184a94a,openstack/charm-ceph-mon,master,I9012cac438a899828ee3f376a765c792d184a94a,Improve README,MERGED,2020-07-22 16:39:32.000000000,2020-07-23 05:40:06.000000000,2020-07-23 05:40:06.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-22 16:39:32.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/c93ebb64685b6d5504abf92762371453a1671786', 'message': 'Improve README\n\nThis slight change is to sync with the ceph-osd\nREADME.\n\nChange-Id: I9012cac438a899828ee3f376a765c792d184a94a\n'}]",0,742481,c93ebb64685b6d5504abf92762371453a1671786,7,3,1,30561,,,0,"Improve README

This slight change is to sync with the ceph-osd
README.

Change-Id: I9012cac438a899828ee3f376a765c792d184a94a
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/81/742481/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,c93ebb64685b6d5504abf92762371453a1671786,prep-for-ceph-launch,"A cloud with three MON nodes is a typical design whereas three OSDs arethree OSDs (one per ceph-osd unit) and three MONs:Here, a containerised MON is running alongside each storage node. We've assumed that the machines spawned in the first command are assigned IDs of 0, 1, and 2.","A cloud with three MON nodes is a typical design whereas three OSD nodes arethree OSDs and three MONs:Here, a containerised MON is running alongside each OSD. We've assumed that the machines spawned in the first command are assigned IDs of 0, 1, and 2.",4,4
