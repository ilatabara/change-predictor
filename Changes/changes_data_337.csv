id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Ftripleo-validations~stable%2Fstein~I5343e75d3d4edc75c3a590ce72c77786c1a32f9d,openstack/tripleo-validations,stable/stein,I5343e75d3d4edc75c3a590ce72c77786c1a32f9d,Sync 'validations/ctlplane-ip-range.yaml' with the new role,MERGED,2019-10-22 09:39:52.000000000,2019-10-22 14:58:24.000000000,2019-10-22 14:58:24.000000000,"[{'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-10-22 09:39:52.000000000', 'files': ['validations/ctlplane-ip-range.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6abc123d1bf60a1f1274d88e0b83d9ce630f05c1', 'message': ""Sync 'validations/ctlplane-ip-range.yaml' with the new role\n\nTo be able to maintain stable branches, the validations in the 'validations'\ndirectory have to be synchronized with the new role created with the\nvalidation framework.\n\nThis patch synchronizes the ctlplane-ip-range validation.\n\nChange-Id: I5343e75d3d4edc75c3a590ce72c77786c1a32f9d\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}]",0,690024,6abc123d1bf60a1f1274d88e0b83d9ce630f05c1,7,3,1,11491,,,0,"Sync 'validations/ctlplane-ip-range.yaml' with the new role

To be able to maintain stable branches, the validations in the 'validations'
directory have to be synchronized with the new role created with the
validation framework.

This patch synchronizes the ctlplane-ip-range validation.

Change-Id: I5343e75d3d4edc75c3a590ce72c77786c1a32f9d
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/24/690024/1 && git format-patch -1 --stdout FETCH_HEAD,['validations/ctlplane-ip-range.yaml'],1,6abc123d1bf60a1f1274d88e0b83d9ce630f05c1,, ctlplane_iprange_min_size: 20, ctlplane_iprange_min_size: 25,1,1
openstack%2Ftripleo-ci~master~Iee16a28eb79cac661751ce74cd6001e8a53e63be,openstack/tripleo-ci,master,Iee16a28eb79cac661751ce74cd6001e8a53e63be,featureset_override is a dict not a bool,MERGED,2019-10-18 20:31:18.000000000,2019-10-22 14:58:23.000000000,2019-10-22 14:58:23.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-10-18 20:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/eefb61d781256be56bfb1396c7bf8ea32da7ba47', 'message': 'featureset_override is a dict not a bool\n\nCloses-Bug: #1848702\nChange-Id: Iee16a28eb79cac661751ce74cd6001e8a53e63be\n'}, {'number': 2, 'created': '2019-10-22 08:57:07.000000000', 'files': ['roles/run-test/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ec94eeedb9653a6e3c743f837cae9717ec00058e', 'message': 'featureset_override is a dict not a bool\n\nDepends-On: https://review.opendev.org/690007\nCloses-Bug: #1848702\nChange-Id: Iee16a28eb79cac661751ce74cd6001e8a53e63be\n'}]",1,689577,ec94eeedb9653a6e3c743f837cae9717ec00058e,38,8,2,9592,,,0,"featureset_override is a dict not a bool

Depends-On: https://review.opendev.org/690007
Closes-Bug: #1848702
Change-Id: Iee16a28eb79cac661751ce74cd6001e8a53e63be
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/77/689577/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/tasks/main.yaml'],1,eefb61d781256be56bfb1396c7bf8ea32da7ba47,, when: featureset_override is defined and featureset_override, when: featureset_override is defined and featureset_override|bool,1,1
openstack%2Freleases~master~I5d2a039ba3f60d81a67b35592a2e4cbf2be555ca,openstack/releases,master,I5d2a039ba3f60d81a67b35592a2e4cbf2be555ca,python-novaclient: release ussuri 16.0.0,MERGED,2019-10-15 07:15:27.000000000,2019-10-22 14:41:03.000000000,2019-10-22 14:41:03.000000000,"[{'_account_id': 308}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-10-15 07:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/508d24fad9abe53d328e2e5ba08bf4a11640d2e2', 'message': 'python-novaclient: release ussuri 16.0.0\n\nThis is just a minor version bump release that is being done\nmainly for https://review.opendev.org/#/c/675023 that is needed\nfor the OSC change https://review.opendev.org/#/c/675304/.\n\nChange-Id: I5d2a039ba3f60d81a67b35592a2e4cbf2be555ca\n'}, {'number': 2, 'created': '2019-10-15 07:16:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d2a1962b79c024f44a42697bda830ed07869b65d', 'message': 'WIP: python-novaclient: release ussuri 16.0.0\n\nThis is just a minor version bump release that is being done\nmainly for https://review.opendev.org/#/c/675023 that is needed\nfor the OSC change https://review.opendev.org/#/c/675304/.\n\nChange-Id: I5d2a039ba3f60d81a67b35592a2e4cbf2be555ca\n'}, {'number': 3, 'created': '2019-10-16 14:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/42e73c70ba0a8ed0dba9dbe3409248fb2426a4ce', 'message': 'python-novaclient: release ussuri 16.0.0\n\nThis is just a minor version bump release that is being done\nmainly for https://review.opendev.org/#/c/675023 that is needed\nfor the OSC change https://review.opendev.org/#/c/675304/\n\nDepends-on: https://review.opendev.org/#/c/675023\nChange-Id: I5d2a039ba3f60d81a67b35592a2e4cbf2be555ca\n'}, {'number': 4, 'created': '2019-10-17 03:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2f98944ce53d2191d20016fddde1e4197e0fcd6a', 'message': 'python-novaclient: release ussuri 16.0.0\n\nThis is just a minor version bump release that is being done\nmainly for https://review.opendev.org/#/c/675023 that is needed\nfor the OSC change https://review.opendev.org/#/c/675304/\n\nDepends-on: https://review.opendev.org/#/c/675023\nChange-Id: I5d2a039ba3f60d81a67b35592a2e4cbf2be555ca\n'}, {'number': 5, 'created': '2019-10-21 00:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/deac23797b34c6d25f809ec23479b095feb6f416', 'message': 'python-novaclient: release ussuri 16.0.0\n\nThis is just the minor version bump release that is being done\nmainly:\n\nCommit-Id: 8744bea0e3ebe5bc4d0d899189bfa0bcdcb0a08f\n-Add user_id/project_id to migration-list API\n\nCommit-Id: 71c29a184b388b38d81dc609b9883c5e8f7166cf\n-Add aggregate-cache-images command and client routines\n\nDepends-on: https://review.opendev.org/#/c/675023\nChange-Id: I5d2a039ba3f60d81a67b35592a2e4cbf2be555ca\n'}, {'number': 6, 'created': '2019-10-21 00:47:34.000000000', 'files': ['deliverables/ussuri/python-novaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7b8f3df270c578dd7862e95b8271de6af6f37dad', 'message': 'python-novaclient: release ussuri 16.0.0\n\nThis is just the minor version bump release that is being done\nmainly:\n\nCommit-Id: 8744bea0e3ebe5bc4d0d899189bfa0bcdcb0a08f\n  - Add user_id/project_id to migration-list API\n\nCommit-Id: 71c29a184b388b38d81dc609b9883c5e8f7166cf\n  - Add aggregate-cache-images command and client routines\n\nCommit-Id: e1bb4378db1e5be85a59861c2d473388fa336da8\n  - Add images.GlanceManager.find_images() bulk query\n\nCommit-Id: 380fc0851387bd4c875afaebc0858646d061beb5\n  - Add functional test for migration-list\n\nDepends-on: https://review.opendev.org/#/c/675023\nChange-Id: I5d2a039ba3f60d81a67b35592a2e4cbf2be555ca\n'}]",2,688638,7b8f3df270c578dd7862e95b8271de6af6f37dad,26,7,6,26458,,,0,"python-novaclient: release ussuri 16.0.0

This is just the minor version bump release that is being done
mainly:

Commit-Id: 8744bea0e3ebe5bc4d0d899189bfa0bcdcb0a08f
  - Add user_id/project_id to migration-list API

Commit-Id: 71c29a184b388b38d81dc609b9883c5e8f7166cf
  - Add aggregate-cache-images command and client routines

Commit-Id: e1bb4378db1e5be85a59861c2d473388fa336da8
  - Add images.GlanceManager.find_images() bulk query

Commit-Id: 380fc0851387bd4c875afaebc0858646d061beb5
  - Add functional test for migration-list

Depends-on: https://review.opendev.org/#/c/675023
Change-Id: I5d2a039ba3f60d81a67b35592a2e4cbf2be555ca
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/688638/6 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/python-novaclient.yaml'],1,508d24fad9abe53d328e2e5ba08bf4a11640d2e2,novaclient-ussuri-16.0.0,releases: - projects: - hash: f0ed6b6ae823e9ab9fae0ceffa126204d00cac0e repo: openstack/python-novaclient version: 16.0.0,,5,0
openstack%2Freleases~master~Iab182666ea65cdb7ea7e023853b18eaa9c57403b,openstack/releases,master,Iab182666ea65cdb7ea7e023853b18eaa9c57403b,Add Ussuri deliverable files,MERGED,2019-10-14 13:53:54.000000000,2019-10-22 14:41:02.000000000,2019-10-22 14:41:02.000000000,"[{'_account_id': 2}, {'_account_id': 308}, {'_account_id': 5756}, {'_account_id': 6873}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-10-14 13:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6bab0691b7d24342c60415d7d864b6d506be12d9', 'message': 'Add Ussuri deliverable files\n\nAdds deliverable stubs based on what was released in Train.\n\nChange-Id: Iab182666ea65cdb7ea7e023853b18eaa9c57403b\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-10-14 14:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4470561c9110a95599ead79b155ea502380bc34d', 'message': 'Add Ussuri deliverable files\n\nAdds deliverable stubs based on what was released in Train.\n\nChange-Id: Iab182666ea65cdb7ea7e023853b18eaa9c57403b\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2019-10-15 07:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/b49240597e2962d0857d7f43a9cb18e625d51629', 'message': 'Add Ussuri deliverable files\n\nAdds deliverable stubs based on what was released in Train.\n\nChange-Id: Iab182666ea65cdb7ea7e023853b18eaa9c57403b\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 4, 'created': '2019-10-15 13:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/1b17cec93755bb83b3ad43252df256713ff2a0ac', 'message': 'Add Ussuri deliverable files\n\nAdds deliverable stubs based on what was released in Train.\n\nChange-Id: Iab182666ea65cdb7ea7e023853b18eaa9c57403b\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 5, 'created': '2019-10-16 14:21:47.000000000', 'files': ['deliverables/ussuri/devstack-plugin-amqp1.yaml', 'deliverables/ussuri/murano-dashboard.yaml', 'deliverables/ussuri/ironic-tempest-plugin.yaml', 'deliverables/ussuri/puppet-ironic.yaml', 'deliverables/ussuri/tripleo-ansible.yaml', 'deliverables/ussuri/tooz.yaml', 'deliverables/ussuri/designate-dashboard.yaml', 'deliverables/ussuri/heat-tempest-plugin.yaml', 'deliverables/ussuri/python-congressclient.yaml', 'deliverables/ussuri/congress-dashboard.yaml', 'deliverables/ussuri/release-test.yaml', 'deliverables/ussuri/cloudkitty-dashboard.yaml', 'deliverables/ussuri/tacker-horizon.yaml', 'deliverables/ussuri/oslo.vmware.yaml', 'deliverables/ussuri/ironic.yaml', 'deliverables/ussuri/freezer-web-ui.yaml', 'deliverables/ussuri/puppet-heat.yaml', 'deliverables/ussuri/oslo.privsep.yaml', 'deliverables/ussuri/networking-bgpvpn.yaml', 'deliverables/ussuri/puppet-tripleo.yaml', 'deliverables/ussuri/python-vitrageclient.yaml', 'deliverables/ussuri/oslo.rootwrap.yaml', 'deliverables/ussuri/kuryr-libnetwork.yaml', 'deliverables/ussuri/monasca-common.yaml', 'deliverables/ussuri/os-vif.yaml', 'deliverables/ussuri/futurist.yaml', 'deliverables/ussuri/puppet-designate.yaml', 'deliverables/ussuri/blazar-dashboard.yaml', 'deliverables/ussuri/python-senlinclient.yaml', 'deliverables/ussuri/python-mistralclient.yaml', 'deliverables/ussuri/ironic-python-agent.yaml', 'deliverables/ussuri/oslo.serialization.yaml', 'deliverables/ussuri/puppet-cloudkitty.yaml', 'deliverables/ussuri/python-troveclient.yaml', 'deliverables/ussuri/os-refresh-config.yaml', 'deliverables/ussuri/networking-powervm.yaml', 'deliverables/ussuri/sahara-extra.yaml', 'deliverables/ussuri/kolla.yaml', 'deliverables/ussuri/puppet-sahara.yaml', 'deliverables/ussuri/tripleo-image-elements.yaml', 'deliverables/ussuri/searchlight.yaml', 'deliverables/ussuri/taskflow.yaml', 'deliverables/ussuri/oslo.messaging.yaml', 'deliverables/ussuri/oslotest.yaml', 'deliverables/ussuri/python-ironicclient.yaml', 'deliverables/ussuri/stevedore.yaml', 'deliverables/ussuri/blazar-nova.yaml', 'deliverables/ussuri/octavia.yaml', 'deliverables/ussuri/shade.yaml', 'deliverables/ussuri/monasca-statsd.yaml', 'deliverables/ussuri/networking-generic-switch.yaml', 'deliverables/ussuri/oslo.context.yaml', 'deliverables/ussuri/puppet-tempest.yaml', 'deliverables/ussuri/python-zunclient.yaml', 'deliverables/ussuri/congress.yaml', 'deliverables/ussuri/puppet-barbican.yaml', 'deliverables/ussuri/murano.yaml', 'deliverables/ussuri/tempest.yaml', 'deliverables/ussuri/pycadf.yaml', 'deliverables/ussuri/tripleo-common.yaml', 'deliverables/ussuri/puppet-nova.yaml', 'deliverables/ussuri/sahara.yaml', 'deliverables/ussuri/zaqar-tempest-plugin.yaml', 'deliverables/ussuri/python-cinderclient.yaml', 'deliverables/ussuri/sahara-image-elements.yaml', 'deliverables/ussuri/heat-dashboard.yaml', 'deliverables/ussuri/mistral.yaml', 'deliverables/ussuri/puppet-ceilometer.yaml', 'deliverables/ussuri/python-masakariclient.yaml', 'deliverables/ussuri/ironic-ui.yaml', 'deliverables/ussuri/keystone-tempest-plugin.yaml', 'deliverables/ussuri/os-apply-config.yaml', 'deliverables/ussuri/patrole.yaml', 'deliverables/ussuri/puppet-murano.yaml', 'deliverables/ussuri/python-keystoneclient.yaml', 'deliverables/ussuri/python-manilaclient.yaml', 'deliverables/ussuri/python-monascaclient.yaml', 'deliverables/ussuri/ironic-inspector.yaml', 'deliverables/ussuri/python-muranoclient.yaml', 'deliverables/ussuri/os-win.yaml', 'deliverables/ussuri/oswin-tempest-plugin.yaml', 'deliverables/ussuri/heat-agents.yaml', 'deliverables/ussuri/storlets.yaml', 'deliverables/ussuri/manila-tempest-plugin.yaml', 'deliverables/ussuri/devstack-plugin-container.yaml', 'deliverables/ussuri/masakari-monitors.yaml', 'deliverables/ussuri/freezer.yaml', 'deliverables/ussuri/masakari.yaml', 'deliverables/ussuri/monasca-persister.yaml', 'deliverables/ussuri/searchlight-ui.yaml', 'deliverables/ussuri/designate-tempest-plugin.yaml', 'deliverables/ussuri/python-ironic-inspector-client.yaml', 'deliverables/ussuri/sahara-plugin-cdh.yaml', 'deliverables/ussuri/os-client-config.yaml', 'deliverables/ussuri/puppet-swift.yaml', 'deliverables/ussuri/puppet-freezer.yaml', 'deliverables/ussuri/python-swiftclient.yaml', 'deliverables/ussuri/neutron-fwaas.yaml', 'deliverables/ussuri/tripleo-puppet-elements.yaml', 'deliverables/ussuri/watcher-dashboard.yaml', 'deliverables/ussuri/kayobe.yaml', 'deliverables/ussuri/osc-lib.yaml', 'deliverables/ussuri/mistral-tempest-plugin.yaml', 'deliverables/ussuri/networking-hyperv.yaml', 'deliverables/ussuri/qinling-dashboard.yaml', 'deliverables/ussuri/networking-sfc.yaml', 'deliverables/ussuri/zun-ui.yaml', 'deliverables/ussuri/ec2api-tempest-plugin.yaml', 'deliverables/ussuri/karbor.yaml', 'deliverables/ussuri/nova-powervm.yaml', 'deliverables/ussuri/puppet-gnocchi.yaml', 'deliverables/ussuri/heat.yaml', 'deliverables/ussuri/paunch.yaml', 'deliverables/ussuri/glance.yaml', 'deliverables/ussuri/osc-placement.yaml', 'deliverables/ussuri/nova.yaml', 'deliverables/ussuri/python-heatclient.yaml', 'deliverables/ussuri/murano-tempest-plugin.yaml', 'deliverables/ussuri/karbor-dashboard.yaml', 'deliverables/ussuri/vitrage-tempest-plugin.yaml', 'deliverables/ussuri/oslo.service.yaml', 'deliverables/ussuri/python-designateclient.yaml', 'deliverables/ussuri/neutron-dynamic-routing.yaml', 'deliverables/ussuri/devstack-plugin-kafka.yaml', 'deliverables/ussuri/puppet-congress.yaml', 'deliverables/ussuri/puppet-glance.yaml', 'deliverables/ussuri/castellan.yaml', 'deliverables/ussuri/python-pankoclient.yaml', 'deliverables/ussuri/sahara-plugin-spark.yaml', 'deliverables/ussuri/python-karborclient.yaml', 'deliverables/ussuri/python-tricircleclient.yaml', 'deliverables/ussuri/os-ken.yaml', 'deliverables/ussuri/keystoneauth.yaml', 'deliverables/ussuri/monasca-tempest-plugin.yaml', 'deliverables/ussuri/kuryr-tempest-plugin.yaml', 'deliverables/ussuri/openstack-ansible.yaml', 'deliverables/ussuri/oslo.cache.yaml', 'deliverables/ussuri/puppet-ec2api.yaml', 'deliverables/ussuri/puppet-openstack_spec_helper.yaml', 'deliverables/ussuri/networking-midonet.yaml', 'deliverables/ussuri/solum.yaml', 'deliverables/ussuri/ironic-prometheus-exporter.yaml', 'deliverables/ussuri/debtcollector.yaml', 'deliverables/ussuri/python-zaqarclient.yaml', 'deliverables/ussuri/monasca-thresh.yaml', 'deliverables/ussuri/puppet-openstack_extras.yaml', 'deliverables/ussuri/ceilometer.yaml', 'deliverables/ussuri/metalsmith.yaml', 'deliverables/ussuri/puppet-cinder.yaml', 'deliverables/ussuri/python-openstackclient.yaml', 'deliverables/ussuri/python-watcherclient.yaml', 'deliverables/ussuri/requirements.yaml', 'deliverables/ussuri/tosca-parser.yaml', 'deliverables/ussuri/sahara-plugin-storm.yaml', 'deliverables/ussuri/watcher-tempest-plugin.yaml', 'deliverables/ussuri/oslo.reports.yaml', 'deliverables/ussuri/cinder.yaml', 'deliverables/ussuri/horizon.yaml', 'deliverables/ussuri/devstack.yaml', 'deliverables/ussuri/solum-tempest-plugin.yaml', 'deliverables/ussuri/compute-hyperv.yaml', 'deliverables/ussuri/neutron-fwaas-dashboard.yaml', 'deliverables/ussuri/zaqar.yaml', 'deliverables/ussuri/mox3.yaml', 'deliverables/ussuri/python-tripleoclient.yaml', 'deliverables/ussuri/puppet-placement.yaml', 'deliverables/ussuri/ec2-api.yaml', 'deliverables/ussuri/networking-bagpipe.yaml', 'deliverables/ussuri/swift.yaml', 'deliverables/ussuri/puppet-horizon.yaml', 'deliverables/ussuri/openstacksdk.yaml', 'deliverables/ussuri/python-cyborgclient.yaml', 'deliverables/ussuri/manila.yaml', 'deliverables/ussuri/kolla-ansible.yaml', 'deliverables/ussuri/puppet-monasca.yaml', 'deliverables/ussuri/senlin-tempest-plugin.yaml', 'deliverables/ussuri/cloudkitty.yaml', 'deliverables/ussuri/tacker.yaml', 'deliverables/ussuri/cliff.yaml', 'deliverables/ussuri/python-brick-cinderclient-ext.yaml', 'deliverables/ussuri/os-brick.yaml', 'deliverables/ussuri/python-saharaclient.yaml', 'deliverables/ussuri/sushy.yaml', 'deliverables/ussuri/rpm-packaging.yaml', 'deliverables/ussuri/automaton.yaml', 'deliverables/ussuri/puppet-rally.yaml', 'deliverables/ussuri/magnum-ui.yaml', 'deliverables/ussuri/kuryr-kubernetes.yaml', 'deliverables/ussuri/cinder-tempest-plugin.yaml', 'deliverables/ussuri/tempest-horizon.yaml', 'deliverables/ussuri/cyborg.yaml', 'deliverables/ussuri/octavia-dashboard.yaml', 'deliverables/ussuri/puppet-neutron.yaml', 'deliverables/ussuri/puppet-aodh.yaml', 'deliverables/ussuri/ovsdbapp.yaml', 'deliverables/ussuri/monasca-ui.yaml', 'deliverables/ussuri/tripleo-validations.yaml', 'deliverables/ussuri/freezer-tempest-plugin.yaml', 'deliverables/ussuri/puppet-manila.yaml', 'deliverables/ussuri/senlin-dashboard.yaml', 'deliverables/ussuri/glance-store.yaml', 'deliverables/ussuri/keystone.yaml', 'deliverables/ussuri/networking-odl.yaml', 'deliverables/ussuri/zaqar-ui.yaml', 'deliverables/ussuri/congress-tempest-plugin.yaml', 'deliverables/ussuri/zun.yaml', 'deliverables/ussuri/oslo.policy.yaml', 'deliverables/ussuri/manila-ui.yaml', 'deliverables/ussuri/puppet-glare.yaml', 'deliverables/ussuri/designate.yaml', 'deliverables/ussuri/keystonemiddleware.yaml', 'deliverables/ussuri/monasca-events-api.yaml', 'deliverables/ussuri/octavia-lib.yaml', 'deliverables/ussuri/ceilometermiddleware.yaml', 'deliverables/ussuri/python-blazarclient.yaml', 'deliverables/ussuri/magnum.yaml', 'deliverables/ussuri/neutron.yaml', 'deliverables/ussuri/python-tackerclient.yaml', 'deliverables/ussuri/heat-translator.yaml', 'deliverables/ussuri/cinderlib.yaml', 'deliverables/ussuri/openstack-ansible-roles.yaml', 'deliverables/ussuri/python-aodhclient.yaml', 'deliverables/ussuri/sahara-dashboard.yaml', 'deliverables/ussuri/trove-dashboard.yaml', 'deliverables/ussuri/oslo.limit.yaml', 'deliverables/ussuri/barbican-tempest-plugin.yaml', 'deliverables/ussuri/oslo.config.yaml', 'deliverables/ussuri/puppet-magnum.yaml', 'deliverables/ussuri/python-barbicanclient.yaml', 'deliverables/ussuri/python-freezerclient.yaml', 'deliverables/ussuri/monasca-notification.yaml', 'deliverables/ussuri/tripleo-heat-templates.yaml', 'deliverables/ussuri/python-octaviaclient.yaml', 'deliverables/ussuri/osprofiler.yaml', 'deliverables/ussuri/sahara-plugin-vanilla.yaml', 'deliverables/ussuri/blazar.yaml', 'deliverables/ussuri/puppet-mistral.yaml', 'deliverables/ussuri/oslo.upgradecheck.yaml', 'deliverables/ussuri/networking-ovn.yaml', 'deliverables/ussuri/sahara-plugin-ambari.yaml', 'deliverables/ussuri/puppet-trove.yaml', 'deliverables/ussuri/python-searchlightclient.yaml', 'deliverables/ussuri/panko.yaml', 'deliverables/ussuri/placement.yaml', 'deliverables/ussuri/puppet-vswitch.yaml', 'deliverables/ussuri/puppet-qdr.yaml', 'deliverables/ussuri/tripleo-ui.yaml', 'deliverables/ussuri/sahara-tests.yaml', 'deliverables/ussuri/ironic-lib.yaml', 'deliverables/ussuri/murano-agent.yaml', 'deliverables/ussuri/blazar-tempest-plugin.yaml', 'deliverables/ussuri/oslo.i18n.yaml', 'deliverables/ussuri/aodh.yaml', 'deliverables/ussuri/sahara-plugin-mapr.yaml', 'deliverables/ussuri/python-novaclient.yaml', 'deliverables/ussuri/kolla-cli.yaml', 'deliverables/ussuri/oslo.versionedobjects.yaml', 'deliverables/ussuri/networking-baremetal.yaml', 'deliverables/ussuri/barbican.yaml', 'deliverables/ussuri/monasca-transform.yaml', 'deliverables/ussuri/puppet-zaqar.yaml', 'deliverables/ussuri/puppet-keystone.yaml', 'deliverables/ussuri/watcher.yaml', 'deliverables/ussuri/puppet-openstack-integration.yaml', 'deliverables/ussuri/python-magnumclient.yaml', 'deliverables/ussuri/monasca-kibana-plugin.yaml', 'deliverables/ussuri/tricircle.yaml', 'deliverables/ussuri/oslo.utils.yaml', 'deliverables/ussuri/vitrage.yaml', 'deliverables/ussuri/puppet-octavia.yaml', 'deliverables/ussuri/puppet-tacker.yaml', 'deliverables/ussuri/neutron-lib.yaml', 'deliverables/ussuri/puppet-ovn.yaml', 'deliverables/ussuri/python-cloudkittyclient.yaml', 'deliverables/ussuri/neutron-vpnaas.yaml', 'deliverables/ussuri/solum-dashboard.yaml', 'deliverables/ussuri/qinling.yaml', 'deliverables/ussuri/python-neutronclient.yaml', 'deliverables/ussuri/vitrage-dashboard.yaml', 'deliverables/ussuri/python-glanceclient.yaml', 'deliverables/ussuri/senlin.yaml', 'deliverables/ussuri/octavia-tempest-plugin.yaml', 'deliverables/ussuri/kuryr.yaml', 'deliverables/ussuri/mistral-lib.yaml', 'deliverables/ussuri/os-collect-config.yaml', 'deliverables/ussuri/puppet-oslo.yaml', 'deliverables/ussuri/ceilometer-powervm.yaml', 'deliverables/ussuri/masakari-dashboard.yaml', 'deliverables/ussuri/monasca-ceilometer.yaml', 'deliverables/ussuri/monasca-agent.yaml', 'deliverables/ussuri/oslo.middleware.yaml', 'deliverables/ussuri/neutron-vpnaas-dashboard.yaml', 'deliverables/ussuri/bifrost.yaml', 'deliverables/ussuri/python-solumclient.yaml', 'deliverables/ussuri/oslo.log.yaml', 'deliverables/ussuri/cyborg-tempest-plugin.yaml', 'deliverables/ussuri/puppet-panko.yaml', 'deliverables/ussuri/puppet-senlin.yaml', 'deliverables/ussuri/os-net-config.yaml', 'deliverables/ussuri/telemetry-tempest-plugin.yaml', 'deliverables/ussuri/trove-tempest-plugin.yaml', 'deliverables/ussuri/grenade.yaml', 'deliverables/ussuri/magnum-tempest-plugin.yaml', 'deliverables/ussuri/tripleo-ipsec.yaml', 'deliverables/ussuri/puppet-openstacklib.yaml', 'deliverables/ussuri/monasca-api.yaml', 'deliverables/ussuri/neutron-tempest-plugin.yaml', 'deliverables/ussuri/oslo.concurrency.yaml', 'deliverables/ussuri/puppet-vitrage.yaml', 'deliverables/ussuri/zun-tempest-plugin.yaml', 'deliverables/ussuri/monasca-log-api.yaml', 'deliverables/ussuri/python-qinlingclient.yaml', 'deliverables/ussuri/trove.yaml', 'deliverables/ussuri/cloudkitty-tempest-plugin.yaml', 'deliverables/ussuri/puppet-watcher.yaml', 'deliverables/ussuri/oslo.db.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f2559a011abd90eb89527c54b51ae5b42cba2241', 'message': 'Add Ussuri deliverable files\n\nAdds deliverable stubs based on what was released in Train.\n\nChange-Id: Iab182666ea65cdb7ea7e023853b18eaa9c57403b\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,688407,f2559a011abd90eb89527c54b51ae5b42cba2241,21,7,5,11904,,,0,"Add Ussuri deliverable files

Adds deliverable stubs based on what was released in Train.

Change-Id: Iab182666ea65cdb7ea7e023853b18eaa9c57403b
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/07/688407/5 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ussuri/devstack-plugin-amqp1.yaml', 'deliverables/ussuri/murano-dashboard.yaml', 'deliverables/ussuri/ironic-tempest-plugin.yaml', 'deliverables/ussuri/puppet-ironic.yaml', 'deliverables/ussuri/tripleo-ansible.yaml', 'deliverables/ussuri/tooz.yaml', 'deliverables/ussuri/designate-dashboard.yaml', 'deliverables/ussuri/heat-tempest-plugin.yaml', 'deliverables/ussuri/python-congressclient.yaml', 'deliverables/ussuri/congress-dashboard.yaml', 'deliverables/ussuri/release-test.yaml', 'deliverables/ussuri/cloudkitty-dashboard.yaml', 'deliverables/ussuri/tacker-horizon.yaml', 'deliverables/ussuri/oslo.vmware.yaml', 'deliverables/ussuri/ironic.yaml', 'deliverables/ussuri/freezer-web-ui.yaml', 'deliverables/ussuri/puppet-heat.yaml', 'deliverables/ussuri/oslo.privsep.yaml', 'deliverables/ussuri/networking-bgpvpn.yaml', 'deliverables/ussuri/puppet-tripleo.yaml', 'deliverables/ussuri/python-vitrageclient.yaml', 'deliverables/ussuri/oslo.rootwrap.yaml', 'deliverables/ussuri/kuryr-libnetwork.yaml', 'deliverables/ussuri/monasca-common.yaml', 'deliverables/ussuri/os-vif.yaml', 'deliverables/ussuri/futurist.yaml', 'deliverables/ussuri/puppet-designate.yaml', 'deliverables/ussuri/blazar-dashboard.yaml', 'deliverables/ussuri/python-senlinclient.yaml', 'deliverables/ussuri/python-mistralclient.yaml', 'deliverables/ussuri/ironic-python-agent.yaml', 'deliverables/ussuri/oslo.serialization.yaml', 'deliverables/ussuri/puppet-cloudkitty.yaml', 'deliverables/ussuri/python-troveclient.yaml', 'deliverables/ussuri/os-refresh-config.yaml', 'deliverables/ussuri/networking-powervm.yaml', 'deliverables/ussuri/sahara-extra.yaml', 'deliverables/ussuri/kolla.yaml', 'deliverables/ussuri/puppet-sahara.yaml', 'deliverables/ussuri/tripleo-image-elements.yaml', 'deliverables/ussuri/searchlight.yaml', 'deliverables/ussuri/taskflow.yaml', 'deliverables/ussuri/oslo.messaging.yaml', 'deliverables/ussuri/oslotest.yaml', 'deliverables/ussuri/python-ironicclient.yaml', 'deliverables/ussuri/stevedore.yaml', 'deliverables/ussuri/blazar-nova.yaml', 'deliverables/ussuri/octavia.yaml', 'deliverables/ussuri/shade.yaml', 'deliverables/ussuri/monasca-statsd.yaml', 'deliverables/ussuri/networking-generic-switch.yaml', 'deliverables/ussuri/oslo.context.yaml', 'deliverables/ussuri/puppet-tempest.yaml', 'deliverables/ussuri/python-zunclient.yaml', 'deliverables/ussuri/congress.yaml', 'deliverables/ussuri/puppet-barbican.yaml', 'deliverables/ussuri/murano.yaml', 'deliverables/ussuri/tempest.yaml', 'deliverables/ussuri/pycadf.yaml', 'deliverables/ussuri/tripleo-common.yaml', 'deliverables/ussuri/puppet-nova.yaml', 'deliverables/ussuri/sahara.yaml', 'deliverables/ussuri/zaqar-tempest-plugin.yaml', 'deliverables/ussuri/python-cinderclient.yaml', 'deliverables/ussuri/sahara-image-elements.yaml', 'deliverables/ussuri/heat-dashboard.yaml', 'deliverables/ussuri/mistral.yaml', 'deliverables/ussuri/puppet-ceilometer.yaml', 'deliverables/ussuri/python-masakariclient.yaml', 'deliverables/ussuri/ironic-ui.yaml', 'deliverables/ussuri/keystone-tempest-plugin.yaml', 'deliverables/ussuri/os-apply-config.yaml', 'deliverables/ussuri/patrole.yaml', 'deliverables/ussuri/puppet-murano.yaml', 'deliverables/ussuri/python-keystoneclient.yaml', 'deliverables/ussuri/python-manilaclient.yaml', 'deliverables/ussuri/python-monascaclient.yaml', 'deliverables/ussuri/ironic-inspector.yaml', 'deliverables/ussuri/python-muranoclient.yaml', 'deliverables/ussuri/os-win.yaml', 'deliverables/ussuri/oswin-tempest-plugin.yaml', 'deliverables/ussuri/heat-agents.yaml', 'deliverables/ussuri/storlets.yaml', 'deliverables/ussuri/manila-tempest-plugin.yaml', 'deliverables/ussuri/devstack-plugin-container.yaml', 'deliverables/ussuri/masakari-monitors.yaml', 'deliverables/ussuri/freezer.yaml', 'deliverables/ussuri/masakari.yaml', 'deliverables/ussuri/monasca-persister.yaml', 'deliverables/ussuri/searchlight-ui.yaml', 'deliverables/ussuri/designate-tempest-plugin.yaml', 'deliverables/ussuri/python-ironic-inspector-client.yaml', 'deliverables/ussuri/sahara-plugin-cdh.yaml', 'deliverables/ussuri/os-client-config.yaml', 'deliverables/ussuri/puppet-swift.yaml', 'deliverables/ussuri/puppet-freezer.yaml', 'deliverables/ussuri/python-swiftclient.yaml', 'deliverables/ussuri/neutron-fwaas.yaml', 'deliverables/ussuri/tripleo-puppet-elements.yaml', 'deliverables/ussuri/watcher-dashboard.yaml', 'deliverables/ussuri/kayobe.yaml', 'deliverables/ussuri/osc-lib.yaml', 'deliverables/ussuri/mistral-tempest-plugin.yaml', 'deliverables/ussuri/networking-hyperv.yaml', 'deliverables/ussuri/qinling-dashboard.yaml', 'deliverables/ussuri/networking-sfc.yaml', 'deliverables/ussuri/zun-ui.yaml', 'deliverables/ussuri/ec2api-tempest-plugin.yaml', 'deliverables/ussuri/karbor.yaml', 'deliverables/ussuri/nova-powervm.yaml', 'deliverables/ussuri/puppet-gnocchi.yaml', 'deliverables/ussuri/heat.yaml', 'deliverables/ussuri/paunch.yaml', 'deliverables/ussuri/glance.yaml', 'deliverables/ussuri/osc-placement.yaml', 'deliverables/ussuri/nova.yaml', 'deliverables/ussuri/python-heatclient.yaml', 'deliverables/ussuri/murano-tempest-plugin.yaml', 'deliverables/ussuri/karbor-dashboard.yaml', 'deliverables/ussuri/vitrage-tempest-plugin.yaml', 'deliverables/ussuri/oslo.service.yaml', 'deliverables/ussuri/python-designateclient.yaml', 'deliverables/ussuri/neutron-dynamic-routing.yaml', 'deliverables/ussuri/devstack-plugin-kafka.yaml', 'deliverables/ussuri/puppet-congress.yaml', 'deliverables/ussuri/puppet-glance.yaml', 'deliverables/ussuri/castellan.yaml', 'deliverables/ussuri/python-pankoclient.yaml', 'deliverables/ussuri/sahara-plugin-spark.yaml', 'deliverables/ussuri/python-karborclient.yaml', 'deliverables/ussuri/python-tricircleclient.yaml', 'deliverables/ussuri/os-ken.yaml', 'deliverables/ussuri/keystoneauth.yaml', 'deliverables/ussuri/monasca-tempest-plugin.yaml', 'deliverables/ussuri/kuryr-tempest-plugin.yaml', 'deliverables/ussuri/openstack-ansible.yaml', 'deliverables/ussuri/oslo.cache.yaml', 'deliverables/ussuri/puppet-ec2api.yaml', 'deliverables/ussuri/puppet-openstack_spec_helper.yaml', 'deliverables/ussuri/networking-midonet.yaml', 'deliverables/ussuri/solum.yaml', 'deliverables/ussuri/ironic-prometheus-exporter.yaml', 'deliverables/ussuri/debtcollector.yaml', 'deliverables/ussuri/python-zaqarclient.yaml', 'deliverables/ussuri/monasca-thresh.yaml', 'deliverables/ussuri/puppet-openstack_extras.yaml', 'deliverables/ussuri/ceilometer.yaml', 'deliverables/ussuri/metalsmith.yaml', 'deliverables/ussuri/puppet-cinder.yaml', 'deliverables/ussuri/python-openstackclient.yaml', 'deliverables/ussuri/python-watcherclient.yaml', 'deliverables/ussuri/requirements.yaml', 'deliverables/ussuri/tosca-parser.yaml', 'deliverables/ussuri/sahara-plugin-storm.yaml', 'deliverables/ussuri/watcher-tempest-plugin.yaml', 'deliverables/ussuri/oslo.reports.yaml', 'deliverables/ussuri/cinder.yaml', 'deliverables/ussuri/horizon.yaml', 'deliverables/ussuri/devstack.yaml', 'deliverables/ussuri/solum-tempest-plugin.yaml', 'deliverables/ussuri/compute-hyperv.yaml', 'deliverables/ussuri/neutron-fwaas-dashboard.yaml', 'deliverables/ussuri/zaqar.yaml', 'deliverables/ussuri/mox3.yaml', 'deliverables/ussuri/python-tripleoclient.yaml', 'deliverables/ussuri/puppet-placement.yaml', 'deliverables/ussuri/ec2-api.yaml', 'deliverables/ussuri/networking-bagpipe.yaml', 'deliverables/ussuri/swift.yaml', 'deliverables/ussuri/puppet-horizon.yaml', 'deliverables/ussuri/openstacksdk.yaml', 'deliverables/ussuri/python-cyborgclient.yaml', 'deliverables/ussuri/manila.yaml', 'deliverables/ussuri/kolla-ansible.yaml', 'deliverables/ussuri/puppet-monasca.yaml', 'deliverables/ussuri/senlin-tempest-plugin.yaml', 'deliverables/ussuri/cloudkitty.yaml', 'deliverables/ussuri/tacker.yaml', 'deliverables/ussuri/cliff.yaml', 'deliverables/ussuri/python-brick-cinderclient-ext.yaml', 'deliverables/ussuri/os-brick.yaml', 'deliverables/ussuri/python-saharaclient.yaml', 'deliverables/ussuri/sushy.yaml', 'deliverables/ussuri/rpm-packaging.yaml', 'deliverables/ussuri/automaton.yaml', 'deliverables/ussuri/puppet-rally.yaml', 'deliverables/ussuri/magnum-ui.yaml', 'deliverables/ussuri/kuryr-kubernetes.yaml', 'deliverables/ussuri/cinder-tempest-plugin.yaml', 'deliverables/ussuri/tempest-horizon.yaml', 'deliverables/ussuri/cyborg.yaml', 'deliverables/ussuri/octavia-dashboard.yaml', 'deliverables/ussuri/puppet-neutron.yaml', 'deliverables/ussuri/puppet-aodh.yaml', 'deliverables/ussuri/ovsdbapp.yaml', 'deliverables/ussuri/monasca-ui.yaml', 'deliverables/ussuri/tripleo-validations.yaml', 'deliverables/ussuri/freezer-tempest-plugin.yaml', 'deliverables/ussuri/puppet-manila.yaml', 'deliverables/ussuri/senlin-dashboard.yaml', 'deliverables/ussuri/glance-store.yaml', 'deliverables/ussuri/keystone.yaml', 'deliverables/ussuri/networking-odl.yaml', 'deliverables/ussuri/zaqar-ui.yaml', 'deliverables/ussuri/congress-tempest-plugin.yaml', 'deliverables/ussuri/zun.yaml', 'deliverables/ussuri/oslo.policy.yaml', 'deliverables/ussuri/manila-ui.yaml', 'deliverables/ussuri/puppet-glare.yaml', 'deliverables/ussuri/designate.yaml', 'deliverables/ussuri/keystonemiddleware.yaml', 'deliverables/ussuri/monasca-events-api.yaml', 'deliverables/ussuri/octavia-lib.yaml', 'deliverables/ussuri/ceilometermiddleware.yaml', 'deliverables/ussuri/python-blazarclient.yaml', 'deliverables/ussuri/magnum.yaml', 'deliverables/ussuri/neutron.yaml', 'deliverables/ussuri/python-tackerclient.yaml', 'deliverables/ussuri/heat-translator.yaml', 'deliverables/ussuri/cinderlib.yaml', 'deliverables/ussuri/openstack-ansible-roles.yaml', 'deliverables/ussuri/python-aodhclient.yaml', 'deliverables/ussuri/sahara-dashboard.yaml', 'deliverables/ussuri/trove-dashboard.yaml', 'deliverables/ussuri/oslo.limit.yaml', 'deliverables/ussuri/barbican-tempest-plugin.yaml', 'deliverables/ussuri/oslo.config.yaml', 'deliverables/ussuri/puppet-magnum.yaml', 'deliverables/ussuri/python-barbicanclient.yaml', 'deliverables/ussuri/python-freezerclient.yaml', 'deliverables/ussuri/monasca-notification.yaml', 'deliverables/ussuri/tripleo-heat-templates.yaml', 'deliverables/ussuri/python-octaviaclient.yaml', 'deliverables/ussuri/osprofiler.yaml', 'deliverables/ussuri/sahara-plugin-vanilla.yaml', 'deliverables/ussuri/blazar.yaml', 'deliverables/ussuri/puppet-mistral.yaml', 'deliverables/ussuri/oslo.upgradecheck.yaml', 'deliverables/ussuri/networking-ovn.yaml', 'deliverables/ussuri/sahara-plugin-ambari.yaml', 'deliverables/ussuri/puppet-trove.yaml', 'deliverables/ussuri/python-searchlightclient.yaml', 'deliverables/ussuri/panko.yaml', 'deliverables/ussuri/placement.yaml', 'deliverables/ussuri/puppet-vswitch.yaml', 'deliverables/ussuri/puppet-qdr.yaml', 'deliverables/ussuri/tripleo-ui.yaml', 'deliverables/ussuri/sahara-tests.yaml', 'deliverables/ussuri/ironic-lib.yaml', 'deliverables/ussuri/murano-agent.yaml', 'deliverables/ussuri/blazar-tempest-plugin.yaml', 'deliverables/ussuri/oslo.i18n.yaml', 'deliverables/ussuri/aodh.yaml', 'deliverables/ussuri/sahara-plugin-mapr.yaml', 'deliverables/ussuri/python-novaclient.yaml', 'deliverables/ussuri/kolla-cli.yaml', 'deliverables/ussuri/oslo.versionedobjects.yaml', 'deliverables/ussuri/networking-baremetal.yaml', 'deliverables/ussuri/barbican.yaml', 'deliverables/ussuri/monasca-transform.yaml', 'deliverables/ussuri/puppet-zaqar.yaml', 'deliverables/ussuri/puppet-keystone.yaml', 'deliverables/ussuri/watcher.yaml', 'deliverables/ussuri/puppet-openstack-integration.yaml', 'deliverables/ussuri/python-magnumclient.yaml', 'deliverables/ussuri/monasca-kibana-plugin.yaml', 'deliverables/ussuri/tricircle.yaml', 'deliverables/ussuri/oslo.utils.yaml', 'deliverables/ussuri/vitrage.yaml', 'deliverables/ussuri/puppet-octavia.yaml', 'deliverables/ussuri/puppet-tacker.yaml', 'deliverables/ussuri/neutron-lib.yaml', 'deliverables/ussuri/puppet-ovn.yaml', 'deliverables/ussuri/python-cloudkittyclient.yaml', 'deliverables/ussuri/neutron-vpnaas.yaml', 'deliverables/ussuri/solum-dashboard.yaml', 'deliverables/ussuri/qinling.yaml', 'deliverables/ussuri/python-neutronclient.yaml', 'deliverables/ussuri/vitrage-dashboard.yaml', 'deliverables/ussuri/python-glanceclient.yaml', 'deliverables/ussuri/senlin.yaml', 'deliverables/ussuri/octavia-tempest-plugin.yaml', 'deliverables/ussuri/kuryr.yaml', 'deliverables/ussuri/mistral-lib.yaml', 'deliverables/ussuri/os-collect-config.yaml', 'deliverables/ussuri/puppet-oslo.yaml', 'deliverables/ussuri/ceilometer-powervm.yaml', 'deliverables/ussuri/masakari-dashboard.yaml', 'deliverables/ussuri/monasca-ceilometer.yaml', 'deliverables/ussuri/monasca-agent.yaml', 'deliverables/ussuri/oslo.middleware.yaml', 'deliverables/ussuri/neutron-vpnaas-dashboard.yaml', 'deliverables/ussuri/bifrost.yaml', 'deliverables/ussuri/python-solumclient.yaml', 'deliverables/ussuri/oslo.log.yaml', 'deliverables/ussuri/cyborg-tempest-plugin.yaml', 'deliverables/ussuri/puppet-panko.yaml', 'deliverables/ussuri/puppet-senlin.yaml', 'deliverables/ussuri/os-net-config.yaml', 'deliverables/ussuri/telemetry-tempest-plugin.yaml', 'deliverables/ussuri/trove-tempest-plugin.yaml', 'deliverables/ussuri/grenade.yaml', 'deliverables/ussuri/magnum-tempest-plugin.yaml', 'deliverables/ussuri/tripleo-ipsec.yaml', 'deliverables/ussuri/puppet-openstacklib.yaml', 'deliverables/ussuri/monasca-api.yaml', 'deliverables/ussuri/neutron-tempest-plugin.yaml', 'deliverables/ussuri/oslo.concurrency.yaml', 'deliverables/ussuri/puppet-vitrage.yaml', 'deliverables/ussuri/zun-tempest-plugin.yaml', 'deliverables/ussuri/monasca-log-api.yaml', 'deliverables/ussuri/python-qinlingclient.yaml', 'deliverables/ussuri/trove.yaml', 'deliverables/ussuri/cloudkitty-tempest-plugin.yaml', 'deliverables/ussuri/puppet-watcher.yaml', 'deliverables/ussuri/oslo.db.yaml']",316,6bab0691b7d24342c60415d7d864b6d506be12d9,train-final,--- include-pypi-link: true launchpad: oslo.db release-model: cycle-with-intermediary team: oslo type: library repository-settings: openstack/oslo.db: {} ,,2547,0
openstack%2Fopenstack-helm~master~I3d5c78732d8a8bb9110117130f0d886fea609526,openstack/openstack-helm,master,I3d5c78732d8a8bb9110117130f0d886fea609526,Keystone Authtoken Cache: allow universal secret key to be set,MERGED,2018-03-04 13:27:22.000000000,2019-10-22 14:40:35.000000000,2018-03-05 19:26:37.000000000,"[{'_account_id': 14119}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2018-03-04 13:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fcebcbbd7f5fb1dc4d0bf37cbab2bffe7bd399f7', 'message': 'Keystone Authtoken Cache: allow universal secret key to be set\n\nThis PS allows a cache secret key for all instances of keystone\nmiddleware to be defined in a single location.\n\nChange-Id: I3d5c78732d8a8bb9110117130f0d886fea609526\nPartial-Bug: 1753251\n'}, {'number': 2, 'created': '2018-03-04 13:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8610298d93dbcd95427cf278ef72222e913258d8', 'message': 'Keystone Authtoken Cache: allow universal secret key to be set\n\nThis PS allows a cache secret key for all instances of keystone\nmiddleware to be defined in a single location.\n\nChange-Id: I3d5c78732d8a8bb9110117130f0d886fea609526\nPartial-Bug: 1753251\n'}, {'number': 3, 'created': '2018-03-05 13:49:36.000000000', 'files': ['cinder/templates/configmap-etc.yaml', 'nova/templates/configmap-etc.yaml', 'glance/values.yaml', 'rally/templates/configmap-etc.yaml', 'ceilometer/values.yaml', 'gnocchi/templates/configmap-etc.yaml', 'ironic/templates/configmap-etc.yaml', 'gnocchi/values.yaml', 'heat/templates/configmap-etc.yaml', 'ironic/values.yaml', 'barbican/templates/configmap-etc.yaml', 'senlin/values.yaml', 'neutron/templates/configmap-etc.yaml', 'mistral/values.yaml', 'congress/values.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'congress/templates/configmap-etc.yaml', 'mistral/templates/configmap-etc.yaml', 'glance/templates/configmap-etc.yaml', 'magnum/templates/configmap-etc.yaml', 'senlin/templates/configmap-etc.yaml', 'nova/values.yaml', 'ceilometer/templates/configmap-etc.yaml', 'neutron/values.yaml', 'rally/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1c85fdc390e05eb578874e77fad9d4ec942da791', 'message': 'Keystone Authtoken Cache: allow universal secret key to be set\n\nThis PS allows a cache secret key for all instances of keystone\nmiddleware to be defined in a single location.\n\nChange-Id: I3d5c78732d8a8bb9110117130f0d886fea609526\nPartial-Bug: 1753251\n'}]",0,549607,1c85fdc390e05eb578874e77fad9d4ec942da791,13,6,3,23928,,,0,"Keystone Authtoken Cache: allow universal secret key to be set

This PS allows a cache secret key for all instances of keystone
middleware to be defined in a single location.

Change-Id: I3d5c78732d8a8bb9110117130f0d886fea609526
Partial-Bug: 1753251
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/07/549607/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/templates/configmap-etc.yaml', 'nova/templates/configmap-etc.yaml', 'glance/values.yaml', 'rally/templates/configmap-etc.yaml', 'ceilometer/values.yaml', 'gnocchi/templates/configmap-etc.yaml', 'ironic/templates/configmap-etc.yaml', 'gnocchi/values.yaml', 'heat/templates/configmap-etc.yaml', 'ironic/values.yaml', 'barbican/templates/configmap-etc.yaml', 'senlin/values.yaml', 'neutron/templates/configmap-etc.yaml', 'mistral/values.yaml', 'congress/values.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'congress/templates/configmap-etc.yaml', 'mistral/templates/configmap-etc.yaml', 'glance/templates/configmap-etc.yaml', 'magnum/templates/configmap-etc.yaml', 'senlin/templates/configmap-etc.yaml', 'nova/values.yaml', 'ceilometer/templates/configmap-etc.yaml', 'neutron/values.yaml', 'rally/values.yaml']",28,fcebcbbd7f5fb1dc4d0bf37cbab2bffe7bd399f7,bug/1753251, auth: keystone_authtoken: secret_key: insecure-key,,124,88
openstack%2Fnova~master~I6cceacb79b99f2946bacf4043a6077fbd855a30e,openstack/nova,master,I6cceacb79b99f2946bacf4043a6077fbd855a30e,Remove TODO from get_provider_tree_and_ensure_root,ABANDONED,2018-11-01 18:48:30.000000000,2019-10-22 14:38:03.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-01 18:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df9a44292c301ed6588cbab2c64e0d25ad68de66', 'message': 'Remove TODO from get_provider_tree_and_ensure_root\n\nThe ResourceTracker knows when it created a new compute\nnode record and thus would need to create its corresponding\nresource provider in placement. So one would think that the\nRT could just avoid doing that ""ensure resource provider"" check\non each periodic for an existing compute node record, but\nbecause of nested resource providers, we need to continue to\nalways call _ensure_resource_provider which also fetches\nany nested providers via GET /resource_providers?in_tree=<uuid>,\nand nested providers can be added/removed from the tree out\nof band by other projects like neutron and cyborg. So since\nwe can\'t avoid the in_tree call on each periodic, we might as\nwell just remove the TODO associated with it.\n\nChange-Id: I6cceacb79b99f2946bacf4043a6077fbd855a30e\n'}, {'number': 2, 'created': '2018-11-01 19:00:27.000000000', 'files': ['nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/79dd50f21324ce00c6d1f8fff7e77e06c1c8446f', 'message': 'Remove TODO from get_provider_tree_and_ensure_root\n\nThe ResourceTracker knows when it created a new compute\nnode record and thus would need to create its corresponding\nresource provider in placement. So one would think that the\nRT could just avoid doing that ""ensure resource provider"" check\non each periodic for an existing compute node record, but\nbecause of nested resource providers, we need to continue to\nalways call _ensure_resource_provider which also fetches\nany nested providers via GET /resource_providers?in_tree=<uuid>,\nand nested providers can be added/removed from the tree out\nof band by other projects like neutron and cyborg. So since\nwe can\'t avoid the in_tree call on each periodic, we might as\nwell just remove the TODO associated with it.\n\nChange-Id: I6cceacb79b99f2946bacf4043a6077fbd855a30e\n'}]",1,614835,79dd50f21324ce00c6d1f8fff7e77e06c1c8446f,23,16,2,6873,,,0,"Remove TODO from get_provider_tree_and_ensure_root

The ResourceTracker knows when it created a new compute
node record and thus would need to create its corresponding
resource provider in placement. So one would think that the
RT could just avoid doing that ""ensure resource provider"" check
on each periodic for an existing compute node record, but
because of nested resource providers, we need to continue to
always call _ensure_resource_provider which also fetches
any nested providers via GET /resource_providers?in_tree=<uuid>,
and nested providers can be added/removed from the tree out
of band by other projects like neutron and cyborg. So since
we can't avoid the in_tree call on each periodic, we might as
well just remove the TODO associated with it.

Change-Id: I6cceacb79b99f2946bacf4043a6077fbd855a30e
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/614835/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/client/report.py'],1,df9a44292c301ed6588cbab2c64e0d25ad68de66,get_provider_tree_and_ensure_root,," # TODO(efried): We would like to have the caller handle create-and/or- # cache-if-not-already, but the resource tracker is currently # structured to handle initialization and update in a single path. At # some point this should be refactored, and this method can *just* # return a deep copy of the local _provider_tree cache. # (Re)populate the local ProviderTree",0,6
openstack%2Fnova~master~Ic64f5362de9a930e68e1649eaca4619ecde122de,openstack/nova,master,Ic64f5362de9a930e68e1649eaca4619ecde122de,ironic: complete the flavor data migration started in pike,ABANDONED,2019-02-15 16:06:49.000000000,2019-10-22 14:32:19.000000000,,"[{'_account_id': 7}, {'_account_id': 782}, {'_account_id': 2033}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10343}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14826}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 26936}]","[{'number': 1, 'created': '2019-02-15 16:06:49.000000000', 'files': ['releasenotes/notes/bug-1816034-ironic-partial-flavor-migration-daa7ce20f9a934c8.yaml', 'nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ca9335c6bea33acd7f585cb2be4c4ae303d1f41e', 'message': 'ironic: complete the flavor data migration started in pike\n\nBlueprint custom-resource-classes-in-flavors in Pike added\nsupport for reporting custom resource class inventory for\nironic instances and the ability to schedule to ironic nodes\nbased on that custom resource class being in flavor extra specs.\nThe goal was to eventually stop scheduling ironic instances based\non the standard VCPU, MEMORY_MB and DISK_GB resource classes and\njust use the single custom resource class defined on the node\nitself.\n\nAs part of that work, a data migration was added for existing\nironic instances to report their custom resource class usage\nin the embedded instance.flavor.extra_specs.\n\nAlso in Pike the nova-scheduler started creating resource\nallocations during scheduling, which before Pike was handled\nby the ResourceTracker in the nova-compute service. Once all\ncomputes were upgraded to at least Pike, the ResourceTracker\nwould no longer report those allocations. This was problematic\nfor existing ironic instances created before Pike since their\nallocations were no longer being reported to placement which\nmeant the scheduler could incorrectly try to schedule new instances\nto an already at-capacity node. This was fixed with change\nIbbf65a8d817d359786abcdffa6358089ed1107f6 to always report\nallocations from nova-compute for ironic instances.\n\nAnother problem existed because even if ironic instances had\ntheir embedded flavor migrated to report custom resource usage,\nthe driver would still report standard resource class inventory\nwhich meant the scheduler could incorrectly try to schedule\nnon-baremetal flavors to ironic nodes. Since the code that reported\nstandard resource class inventory was removed in Stein with change\nIf2b8c1a76d7dbabbac7bb359c9e572cfed510800, a stable-branch only\nworkaround was added in Id3c74c019da29070811ffc368351e2238b3f6da5\nso deployments that had completed the data migration for their\nironic instances could configure nova-compute to set\n[workarounds]/report_ironic_standard_resource_class_inventory=False\nso the driver would no longer report standard resource class inventory.\nNote that the code to always report ironic instance allocations from\nthe compute service was also removed in Stein with change\nIf272365e58a583e2831a15a5c2abad2d77921729.\n\nHowever (now we get to the current bug), if the driver no longer\nreports standard resource class inventory but the standard resource\nclass usage on existing embedded instances does not have zeroed out\nvalues for those standard resource classes, because of the fix for\nIbbf65a8d817d359786abcdffa6358089ed1107f6 the ResourceTracker will\ntry to report allocations to placement for the standard resource\nclasses which will fail if the ironic node resource provider does\nnot have standard resource class inventory - which happens if\nreport_ironic_standard_resource_class_inventory=False.\n\nGiven reporting standard resource class inventory and usage has been\nremoved in Stein this is not really an issue for Stein, but the\nembedded flavor data migration code still exists in Stein and this\nchange deals with zero\'ing out the embedded standard resource class\nusage so it does not get reported to the scheduler (which as noted\nabove can fail depending on configuration). It should also be noted\nthat the standard resource class zero\'ing out should have always\nbeen a part of the data migration introduced in Pike, there is even\na comment about it in the code itself:\n\n""This code can be removed in Queens, and will need to be updated to\nalso alter extra_specs to zero-out the old-style standard resource\nclasses of VCPU, MEMORY_MB, and DISK_GB.""\n\nThis change implements the latter part of that statement. Note that\neven though the standard resource classes will be zeroed out in\nthe embedded instance flavor, that only overrides what is reported\nto placement (it actually causes those resource classes to *not* be\nreported for allocations - which is the fix), the vcpus/ram/disk\nattributes on the flavor itself are left untouched so the user can\nstill get them as display information about their instance in the API.\n\nChange-Id: Ic64f5362de9a930e68e1649eaca4619ecde122de\nCloses-Bug: #1816034\n'}]",19,637217,ca9335c6bea33acd7f585cb2be4c4ae303d1f41e,27,18,1,6873,,,0,"ironic: complete the flavor data migration started in pike

Blueprint custom-resource-classes-in-flavors in Pike added
support for reporting custom resource class inventory for
ironic instances and the ability to schedule to ironic nodes
based on that custom resource class being in flavor extra specs.
The goal was to eventually stop scheduling ironic instances based
on the standard VCPU, MEMORY_MB and DISK_GB resource classes and
just use the single custom resource class defined on the node
itself.

As part of that work, a data migration was added for existing
ironic instances to report their custom resource class usage
in the embedded instance.flavor.extra_specs.

Also in Pike the nova-scheduler started creating resource
allocations during scheduling, which before Pike was handled
by the ResourceTracker in the nova-compute service. Once all
computes were upgraded to at least Pike, the ResourceTracker
would no longer report those allocations. This was problematic
for existing ironic instances created before Pike since their
allocations were no longer being reported to placement which
meant the scheduler could incorrectly try to schedule new instances
to an already at-capacity node. This was fixed with change
Ibbf65a8d817d359786abcdffa6358089ed1107f6 to always report
allocations from nova-compute for ironic instances.

Another problem existed because even if ironic instances had
their embedded flavor migrated to report custom resource usage,
the driver would still report standard resource class inventory
which meant the scheduler could incorrectly try to schedule
non-baremetal flavors to ironic nodes. Since the code that reported
standard resource class inventory was removed in Stein with change
If2b8c1a76d7dbabbac7bb359c9e572cfed510800, a stable-branch only
workaround was added in Id3c74c019da29070811ffc368351e2238b3f6da5
so deployments that had completed the data migration for their
ironic instances could configure nova-compute to set
[workarounds]/report_ironic_standard_resource_class_inventory=False
so the driver would no longer report standard resource class inventory.
Note that the code to always report ironic instance allocations from
the compute service was also removed in Stein with change
If272365e58a583e2831a15a5c2abad2d77921729.

However (now we get to the current bug), if the driver no longer
reports standard resource class inventory but the standard resource
class usage on existing embedded instances does not have zeroed out
values for those standard resource classes, because of the fix for
Ibbf65a8d817d359786abcdffa6358089ed1107f6 the ResourceTracker will
try to report allocations to placement for the standard resource
classes which will fail if the ironic node resource provider does
not have standard resource class inventory - which happens if
report_ironic_standard_resource_class_inventory=False.

Given reporting standard resource class inventory and usage has been
removed in Stein this is not really an issue for Stein, but the
embedded flavor data migration code still exists in Stein and this
change deals with zero'ing out the embedded standard resource class
usage so it does not get reported to the scheduler (which as noted
above can fail depending on configuration). It should also be noted
that the standard resource class zero'ing out should have always
been a part of the data migration introduced in Pike, there is even
a comment about it in the code itself:

""This code can be removed in Queens, and will need to be updated to
also alter extra_specs to zero-out the old-style standard resource
classes of VCPU, MEMORY_MB, and DISK_GB.""

This change implements the latter part of that statement. Note that
even though the standard resource classes will be zeroed out in
the embedded instance flavor, that only overrides what is reported
to placement (it actually causes those resource classes to *not* be
reported for allocations - which is the fix), the vcpus/ram/disk
attributes on the flavor itself are left untouched so the user can
still get them as display information about their instance in the API.

Change-Id: Ic64f5362de9a930e68e1649eaca4619ecde122de
Closes-Bug: #1816034
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/637217/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1816034-ironic-partial-flavor-migration-daa7ce20f9a934c8.yaml', 'nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py']",3,ca9335c6bea33acd7f585cb2be4c4ae303d1f41e,bug/1816034," expected_specs = {""resources:CUSTOM_FIRST"": ""1"", ""resources:VCPU"": ""0"", ""resources:MEMORY_MB"": ""0"", ""resources:DISK_GB"": ""0""} expected_specs = {""resources:CUSTOM_SECOND"": ""1"", ""resources:VCPU"": ""0"", ""resources:MEMORY_MB"": ""0"", ""resources:DISK_GB"": ""0""} fake_flavor1.extra_specs = {""resources:CUSTOM_FIRST"": ""1"", ""resources:VCPU"": ""0"", ""resources:MEMORY_MB"": ""0"", ""resources:DISK_GB"": ""0""} expected_specs = {""resources:CUSTOM_FIRST"": ""1"", ""resources:VCPU"": ""0"", ""resources:MEMORY_MB"": ""0"", ""resources:DISK_GB"": ""0""} expected_specs = {""resources:CUSTOM_SECOND"": ""1"", ""resources:VCPU"": ""0"", ""resources:MEMORY_MB"": ""0"", ""resources:DISK_GB"": ""0""} @mock.patch.object(ironic_driver.IronicDriver, '_get_node_list') @mock.patch.object(objects.ServiceList, 'get_all_computes_by_hv_type') @mock.patch.object(objects.InstanceList, 'get_uuids_by_host') @mock.patch.object(objects.Instance, 'get_by_uuid') @mock.patch.object(objects.Instance, 'save') def test_pike_flavor_migration_partial_migrated(self, mock_save, mock_get_by_uuid, mock_get_uuids_by_host, mock_svc_by_hv, mock_get_node_list): """"""Tests the case that the instance embedded flavor was partially migrated to set the ""resources:CUSTOM_FIRST"" extra spec but the standard resource classes were not overridden. """""" node_uuid = uuidutils.generate_uuid() hostname = ""ironic-compute"" fake_flavor = objects.Flavor() fake_flavor.extra_specs = {""resources:CUSTOM_FIRST"": ""1""} inst = fake_instance.fake_instance_obj(self.ctx, node=node_uuid, host=hostname, flavor=fake_flavor) node = _get_cached_node( uuid=node_uuid, instance_uuid=inst.uuid, instance_type_id=1, resource_class=""first"", network_interface=""flat"") inst_dict = {inst.uuid: inst} mock_get_uuids_by_host.return_value = [inst.uuid] self.driver.node_cache = {} mock_get_node_list.return_value = [node] mock_svc_by_hv.return_value = [] def fake_inst_by_uuid(ctx, uuid, expected_attrs=None): return inst_dict.get(uuid) mock_get_by_uuid.side_effect = fake_inst_by_uuid self.driver._refresh_cache() # The instance already had the custom resource class extra spec set # but not the standard resource class overrides so it should have been # updatd. self.assertEqual(1, mock_save.call_count) expected_specs = {""resources:CUSTOM_FIRST"": ""1"", ""resources:VCPU"": ""0"", ""resources:MEMORY_MB"": ""0"", ""resources:DISK_GB"": ""0""} self.assertEqual(expected_specs, inst.flavor.extra_specs) expected_specs = {""resources:CUSTOM_SECOND"": ""1"", ""resources:VCPU"": ""0"", ""resources:MEMORY_MB"": ""0"", ""resources:DISK_GB"": ""0""}"," expected_specs = {""resources:CUSTOM_FIRST"": ""1""} expected_specs = {""resources:CUSTOM_SECOND"": ""1""} fake_flavor1.extra_specs = {""resources:CUSTOM_FIRST"": ""1""} expected_specs = {""resources:CUSTOM_FIRST"": ""1""} expected_specs = {""resources:CUSTOM_SECOND"": ""1""} expected_specs = {""resources:CUSTOM_SECOND"": ""1""}",110,13
openstack%2Ftripleo-validations~stable%2Ftrain~I0d19327a576646e40228b3e622280501c3b9e229,openstack/tripleo-validations,stable/train,I0d19327a576646e40228b3e622280501c3b9e229,Add workaround for the ansible-lint installation failure,MERGED,2019-10-22 08:12:03.000000000,2019-10-22 14:32:07.000000000,2019-10-22 14:30:56.000000000,"[{'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-10-22 08:12:03.000000000', 'files': ['tox.ini', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/beadf5a3a0973c7feaac5d3fe9ae76170fcccd2a', 'message': 'Add workaround for the ansible-lint installation failure\n\nhttps://bugs.launchpad.net/tripleo/+bug/1848512\n\nChange-Id: I0d19327a576646e40228b3e622280501c3b9e229\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit bcfaf81332ef1414da6deab4027d4d5ebc196e21)\n'}]",0,690005,beadf5a3a0973c7feaac5d3fe9ae76170fcccd2a,9,3,1,11491,,,0,"Add workaround for the ansible-lint installation failure

https://bugs.launchpad.net/tripleo/+bug/1848512

Change-Id: I0d19327a576646e40228b3e622280501c3b9e229
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit bcfaf81332ef1414da6deab4027d4d5ebc196e21)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/05/690005/1 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', '.pre-commit-config.yaml']",2,beadf5a3a0973c7feaac5d3fe9ae76170fcccd2a,Fix_ansible-lint_installation_failure-stable/train, rev: v2.3.0 rev: v4.1.1a0, rev: v2.1.0 rev: v4.1.0a0,5,3
openstack%2Ftripleo-validations~stable%2Fstein~I601bb81540719f195915ab8298fd1f2c3fb65f39,openstack/tripleo-validations,stable/stein,I601bb81540719f195915ab8298fd1f2c3fb65f39,Set validation defaults to match undercloud default settings,MERGED,2019-10-21 19:07:29.000000000,2019-10-22 14:30:57.000000000,2019-10-22 14:30:57.000000000,"[{'_account_id': 11491}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-10-21 19:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7e8a1dc1ea8c1f963a00963bf2ec48b9dd04a72d', 'message': ""Set validation defaults to match undercloud default settings\n\nIn undercloud.conf, by default the dhcp ip address range is 20\n(dhcp_start = 192.168.24.5, dhcp_end = 192.168.24.24).\nThis can be changed but is reasonable for POCs.  The validation\ndefault should match this, otherwise there will be validation\nfailures when run on existing deployments that haven't\nchanged the default.\n\nChange-Id: I601bb81540719f195915ab8298fd1f2c3fb65f39\n(cherry picked from commit 96492aac15169d6ce7bad19192cdc800782fdb57)\n""}, {'number': 2, 'created': '2019-10-22 09:39:52.000000000', 'files': ['playbooks/ctlplane-ip-range.yaml', 'roles/ctlplane-ip-range/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5777701d5d411ce3d215513f0988738cf24e2826', 'message': ""Set validation defaults to match undercloud default settings\n\nIn undercloud.conf, by default the dhcp ip address range is 20\n(dhcp_start = 192.168.24.5, dhcp_end = 192.168.24.24).\nThis can be changed but is reasonable for POCs.  The validation\ndefault should match this, otherwise there will be validation\nfailures when run on existing deployments that haven't\nchanged the default.\n\nChange-Id: I601bb81540719f195915ab8298fd1f2c3fb65f39\n(cherry picked from commit 96492aac15169d6ce7bad19192cdc800782fdb57)\n""}]",0,689865,5777701d5d411ce3d215513f0988738cf24e2826,9,4,2,21909,,,0,"Set validation defaults to match undercloud default settings

In undercloud.conf, by default the dhcp ip address range is 20
(dhcp_start = 192.168.24.5, dhcp_end = 192.168.24.24).
This can be changed but is reasonable for POCs.  The validation
default should match this, otherwise there will be validation
failures when run on existing deployments that haven't
changed the default.

Change-Id: I601bb81540719f195915ab8298fd1f2c3fb65f39
(cherry picked from commit 96492aac15169d6ce7bad19192cdc800782fdb57)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/65/689865/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/ctlplane-ip-range.yaml', 'roles/ctlplane-ip-range/defaults/main.yml']",2,7e8a1dc1ea8c1f963a00963bf2ec48b9dd04a72d,Fix_ansible-lint_installation_failure-stable/stein,ctlplane_iprange_min_size: 20,ctlplane_iprange_min_size: 25,2,2
openstack%2Ftempest~master~I2c71e47222d1de725c37464061aba6c8b6abd2a5,openstack/tempest,master,I2c71e47222d1de725c37464061aba6c8b6abd2a5,WIP: Run n-api-meta on subnodes in tempest-multinode-full jobs,ABANDONED,2019-02-07 16:20:33.000000000,2019-10-22 14:30:31.000000000,,"[{'_account_id': 6873}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-07 16:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2a2784ecd06cb0ea97c9a7d4bdca177cde5d593a', 'message': ""WIP: Run n-api-meta on subnodes in tempest-multinode-full jobs\n\nIf we follow the multinode guide, the subnode should have the\nn-api-meta service enabled. This is just trying to recreate the\nbug and if it does, this should probably actually exist in\nthe base 'devstack' job configuration where the other subnode\nservices are enabled like n-cpu.\n\nChange-Id: I2c71e47222d1de725c37464061aba6c8b6abd2a5\nRelated-Bug: #1815082\n""}, {'number': 2, 'created': '2019-02-08 16:18:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/184e1d725027aef18c01a01496e5a7eff8029463', 'message': ""WIP: Run n-api-meta on subnodes in tempest-multinode-full jobs\n\nIf we follow the multinode guide, the subnode should have the\nn-api-meta service enabled. This is just trying to recreate the\nbug and if it does, this should probably actually exist in\nthe base 'devstack' job configuration where the other subnode\nservices are enabled like n-cpu.\n\nDepends-On: https://review.openstack.org/635577/\n\nChange-Id: I2c71e47222d1de725c37464061aba6c8b6abd2a5\nRelated-Bug: #1815082\n""}]",1,635559,184e1d725027aef18c01a01496e5a7eff8029463,13,3,2,6873,,,0,"WIP: Run n-api-meta on subnodes in tempest-multinode-full jobs

If we follow the multinode guide, the subnode should have the
n-api-meta service enabled. This is just trying to recreate the
bug and if it does, this should probably actually exist in
the base 'devstack' job configuration where the other subnode
services are enabled like n-cpu.

Depends-On: https://review.openstack.org/635577/

Change-Id: I2c71e47222d1de725c37464061aba6c8b6abd2a5
Related-Bug: #1815082
",git fetch https://review.opendev.org/openstack/tempest refs/changes/59/635559/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2a2784ecd06cb0ea97c9a7d4bdca177cde5d593a,bug/1815082, subnode: devstack_services: # Run the nova-metadata service standalone on the subnode per the # multinode guide: https://docs.openstack.org/devstack/latest/guides/multinode-lab.html#configure-compute-nodes n-api-meta: true,,5,0
openstack%2Fnova~stable%2Fpike~Id3c74c019da29070811ffc368351e2238b3f6da5,openstack/nova,stable/pike,Id3c74c019da29070811ffc368351e2238b3f6da5,[stable-only] Add report_ironic_standard_resource_class_inventory option,ABANDONED,2018-11-26 17:31:08.000000000,2019-10-22 14:28:44.000000000,,"[{'_account_id': 10118}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-26 17:31:08.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'releasenotes/notes/bug-1796920-report_ironic_standard_resource_class_inventory-85c1fc629a08038d.yaml', 'nova/conf/workarounds.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a54c1e69fb33e70f308e8113486f6b88c1f94100', 'message': '[stable-only] Add report_ironic_standard_resource_class_inventory option\n\nSince Pike it has been possible to schedule ironic nodes\nusing custom resource classes. As part of that change, existing\nironic instances needed to undergo a data migration and until\nthat data migration was complete, ironic compute services needed\nto continue reporting standard resource class inventory.\n\nOnce the data migration is complete, the problem with continuing\nto report standard resource class inventory is non-baremetal\nflavors can get scheduled to ironic nodes.\n\nThe standard resource class inventory reporting was removed\nfrom the ironic driver in Stein:\n\n  If2b8c1a76d7dbabbac7bb359c9e572cfed510800\n\nTherefore as a stable-only workaround, this change adds an\noption for operators to disable reporting standard resource\nclass inventory for ironic nodes once they have confirmed that\ntheir ironic instance data migrations are complete, which they\ncan do via the related ""nova-status upgrade check"" added in\nchange Ifd22325e849db2353b1b1eedfe998e3d6a79591c.\n\nChange-Id: Id3c74c019da29070811ffc368351e2238b3f6da5\nCloses-Bug: #1796920\n(cherry picked from commit f7d0a7671fb73983a1853b0d2f3ce7552d752c31)\n(cherry picked from commit de1c80f0e46999f558ebbe24fe745b2367d0aab4)\n'}]",0,620113,a54c1e69fb33e70f308e8113486f6b88c1f94100,8,6,1,6873,,,0,"[stable-only] Add report_ironic_standard_resource_class_inventory option

Since Pike it has been possible to schedule ironic nodes
using custom resource classes. As part of that change, existing
ironic instances needed to undergo a data migration and until
that data migration was complete, ironic compute services needed
to continue reporting standard resource class inventory.

Once the data migration is complete, the problem with continuing
to report standard resource class inventory is non-baremetal
flavors can get scheduled to ironic nodes.

The standard resource class inventory reporting was removed
from the ironic driver in Stein:

  If2b8c1a76d7dbabbac7bb359c9e572cfed510800

Therefore as a stable-only workaround, this change adds an
option for operators to disable reporting standard resource
class inventory for ironic nodes once they have confirmed that
their ironic instance data migrations are complete, which they
can do via the related ""nova-status upgrade check"" added in
change Ifd22325e849db2353b1b1eedfe998e3d6a79591c.

Change-Id: Id3c74c019da29070811ffc368351e2238b3f6da5
Closes-Bug: #1796920
(cherry picked from commit f7d0a7671fb73983a1853b0d2f3ce7552d752c31)
(cherry picked from commit de1c80f0e46999f558ebbe24fe745b2367d0aab4)
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/620113/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'releasenotes/notes/bug-1796920-report_ironic_standard_resource_class_inventory-85c1fc629a08038d.yaml', 'nova/conf/workarounds.py']",4,a54c1e69fb33e70f308e8113486f6b88c1f94100,bug/1796920," cfg.BoolOpt( 'report_ironic_standard_resource_class_inventory', default=True, help="""""" Starting in the 16.0.0 Pike release, ironic nodes can be scheduled using custom resource classes rather than the standard resource classes VCPU, MEMORY_MB and DISK_GB: https://docs.openstack.org/ironic/rocky/install/configure-nova-flavors.html However, existing ironic instances require a data migration which can be achieved either by restarting ``nova-compute`` services managing ironic nodes or running ``nova-manage db ironic_flavor_migration``. The completion of the data migration can be checked by running the ``nova-status upgrade check`` command and checking the ""Ironic Flavor Migration"" result. Once all data migrations are complete, you can set this option to False to stop reporting VCPU, MEMORY_MB and DISK_GB resource class inventory to the Placement service so that scheduling will only rely on the custom resource class for each ironic node, as described in the document above. Note that this option does not apply starting in the 19.0.0 Stein release since the ironic compute driver no longer reports standard resource class inventory regardless of configuration. Alternatives to this workaround would be unsetting ``memory_mb`` and/or ``vcpus`` properties from ironic nodes, or using host aggregates to segregate VM from BM compute hosts and restrict flavors to those aggregates, but those alternatives might not be feasible at large scale. See related bug https://bugs.launchpad.net/nova/+bug/1796920 for more details. """"""),",,130,14
openstack%2Fnova~stable%2Fqueens~Id3c74c019da29070811ffc368351e2238b3f6da5,openstack/nova,stable/queens,Id3c74c019da29070811ffc368351e2238b3f6da5,[stable-only] Add report_ironic_standard_resource_class_inventory option,ABANDONED,2018-11-26 17:11:48.000000000,2019-10-22 14:28:36.000000000,,"[{'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11904}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-11-26 17:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de1c80f0e46999f558ebbe24fe745b2367d0aab4', 'message': '[stable-only] Add report_ironic_standard_resource_class_inventory option\n\nSince Pike it has been possible to schedule ironic nodes\nusing custom resource classes. As part of that change, existing\nironic instances needed to undergo a data migration and until\nthat data migration was complete, ironic compute services needed\nto continue reporting standard resource class inventory.\n\nOnce the data migration is complete, the problem with continuing\nto report standard resource class inventory is non-baremetal\nflavors can get scheduled to ironic nodes.\n\nThe standard resource class inventory reporting was removed\nfrom the ironic driver in Stein:\n\n  If2b8c1a76d7dbabbac7bb359c9e572cfed510800\n\nTherefore as a stable-only workaround, this change adds an\noption for operators to disable reporting standard resource\nclass inventory for ironic nodes once they have confirmed that\ntheir ironic instance data migrations are complete, which they\ncan do via the related ""nova-status upgrade check"" added in\nchange Ifd22325e849db2353b1b1eedfe998e3d6a79591c.\n\nConflicts:\n      nova/conf/workarounds.py\n      nova/tests/unit/virt/ironic/test_driver.py\n      nova/virt/ironic/driver.py\n\nNOTE(mriedem): The workarounds.py conflict is due to not having\nchange If1b6e5f20d2ea82d94f5f0550f13189fc9bc16c4 in Queens. The\ndriver.py conflict is due to not having change\nIea182341f9419cb514a044f76864d6bec60a3683 in Queens. The\ntest_driver.py conflict is due to not having change\nI7bcc19e60e9a56bddeae15af7b6b161b66191db3 in Queens. Based on\nthe last conflict in the test, the test in the cherry-pick, which\nwas using update_provider_tree, is changed to use get_inventory.\n\nChange-Id: Id3c74c019da29070811ffc368351e2238b3f6da5\nCloses-Bug: #1796920\n(cherry picked from commit f7d0a7671fb73983a1853b0d2f3ce7552d752c31)\n'}, {'number': 2, 'created': '2019-04-01 10:13:44.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'releasenotes/notes/bug-1796920-report_ironic_standard_resource_class_inventory-85c1fc629a08038d.yaml', 'nova/conf/workarounds.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9ed94e841ecea60e0f17826464efdbae5a67da9f', 'message': '[stable-only] Add report_ironic_standard_resource_class_inventory option\n\nSince Pike it has been possible to schedule ironic nodes\nusing custom resource classes. As part of that change, existing\nironic instances needed to undergo a data migration and until\nthat data migration was complete, ironic compute services needed\nto continue reporting standard resource class inventory.\n\nOnce the data migration is complete, the problem with continuing\nto report standard resource class inventory is non-baremetal\nflavors can get scheduled to ironic nodes.\n\nThe standard resource class inventory reporting was removed\nfrom the ironic driver in Stein:\n\n  If2b8c1a76d7dbabbac7bb359c9e572cfed510800\n\nTherefore as a stable-only workaround, this change adds an\noption for operators to disable reporting standard resource\nclass inventory for ironic nodes once they have confirmed that\ntheir ironic instance data migrations are complete, which they\ncan do via the related ""nova-status upgrade check"" added in\nchange Ifd22325e849db2353b1b1eedfe998e3d6a79591c.\n\nConflicts:\n      nova/conf/workarounds.py\n      nova/tests/unit/virt/ironic/test_driver.py\n      nova/virt/ironic/driver.py\n\nNOTE(mriedem): The workarounds.py conflict is due to not having\nchange If1b6e5f20d2ea82d94f5f0550f13189fc9bc16c4 in Queens. The\ndriver.py conflict is due to not having change\nIea182341f9419cb514a044f76864d6bec60a3683 in Queens. The\ntest_driver.py conflict is due to not having change\nI7bcc19e60e9a56bddeae15af7b6b161b66191db3 in Queens. Based on\nthe last conflict in the test, the test in the cherry-pick, which\nwas using update_provider_tree, is changed to use get_inventory.\n\nChange-Id: Id3c74c019da29070811ffc368351e2238b3f6da5\nCloses-Bug: #1796920\n(cherry picked from commit f7d0a7671fb73983a1853b0d2f3ce7552d752c31)\n'}]",0,620111,9ed94e841ecea60e0f17826464efdbae5a67da9f,17,10,2,6873,,,0,"[stable-only] Add report_ironic_standard_resource_class_inventory option

Since Pike it has been possible to schedule ironic nodes
using custom resource classes. As part of that change, existing
ironic instances needed to undergo a data migration and until
that data migration was complete, ironic compute services needed
to continue reporting standard resource class inventory.

Once the data migration is complete, the problem with continuing
to report standard resource class inventory is non-baremetal
flavors can get scheduled to ironic nodes.

The standard resource class inventory reporting was removed
from the ironic driver in Stein:

  If2b8c1a76d7dbabbac7bb359c9e572cfed510800

Therefore as a stable-only workaround, this change adds an
option for operators to disable reporting standard resource
class inventory for ironic nodes once they have confirmed that
their ironic instance data migrations are complete, which they
can do via the related ""nova-status upgrade check"" added in
change Ifd22325e849db2353b1b1eedfe998e3d6a79591c.

Conflicts:
      nova/conf/workarounds.py
      nova/tests/unit/virt/ironic/test_driver.py
      nova/virt/ironic/driver.py

NOTE(mriedem): The workarounds.py conflict is due to not having
change If1b6e5f20d2ea82d94f5f0550f13189fc9bc16c4 in Queens. The
driver.py conflict is due to not having change
Iea182341f9419cb514a044f76864d6bec60a3683 in Queens. The
test_driver.py conflict is due to not having change
I7bcc19e60e9a56bddeae15af7b6b161b66191db3 in Queens. Based on
the last conflict in the test, the test in the cherry-pick, which
was using update_provider_tree, is changed to use get_inventory.

Change-Id: Id3c74c019da29070811ffc368351e2238b3f6da5
Closes-Bug: #1796920
(cherry picked from commit f7d0a7671fb73983a1853b0d2f3ce7552d752c31)
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/620111/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'releasenotes/notes/bug-1796920-report_ironic_standard_resource_class_inventory-85c1fc629a08038d.yaml', 'nova/conf/workarounds.py']",4,de1c80f0e46999f558ebbe24fe745b2367d0aab4,bug/1761062," cfg.BoolOpt( 'report_ironic_standard_resource_class_inventory', default=True, help="""""" Starting in the 16.0.0 Pike release, ironic nodes can be scheduled using custom resource classes rather than the standard resource classes VCPU, MEMORY_MB and DISK_GB: https://docs.openstack.org/ironic/rocky/install/configure-nova-flavors.html However, existing ironic instances require a data migration which can be achieved either by restarting ``nova-compute`` services managing ironic nodes or running ``nova-manage db ironic_flavor_migration``. The completion of the data migration can be checked by running the ``nova-status upgrade check`` command and checking the ""Ironic Flavor Migration"" result. Once all data migrations are complete, you can set this option to False to stop reporting VCPU, MEMORY_MB and DISK_GB resource class inventory to the Placement service so that scheduling will only rely on the custom resource class for each ironic node, as described in the document above. Note that this option does not apply starting in the 19.0.0 Stein release since the ironic compute driver no longer reports standard resource class inventory regardless of configuration. Alternatives to this workaround would be unsetting ``memory_mb`` and/or ``vcpus`` properties from ironic nodes, or using host aggregates to segregate VM from BM compute hosts and restrict flavors to those aggregates, but those alternatives might not be feasible at large scale. See related bug https://bugs.launchpad.net/nova/+bug/1796920 for more details. """"""),",,130,14
openstack%2Fironic~master~I62b59e8148171c72de0ccf63a1517e754b520c76,openstack/ironic,master,I62b59e8148171c72de0ccf63a1517e754b520c76,Do not ignore 'fields' query parameter when building next url,MERGED,2019-10-14 23:34:16.000000000,2019-10-22 14:27:30.000000000,2019-10-19 05:50:11.000000000,"[{'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 12640}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 23:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/791767a61dc4a93aa667738d85d4f508a1164a90', 'message': ""Do not ignore 'fields' query parameter when building next url\n\nWhen an user calls the GET on an ironic resource it returns\nMAX_LIMIT number of resources at a time along with a next url.\nThe default MAX_LIMIT is 1000.\n\nIf the user requested specific set of fields from ironic API\nusing the fields query parameter (eg: /v1/resource?fields=f1,f2,f3)\nThe next url returned by the API ignores fields query parameter.\nThis results in fields missing from the results after MAX_LIMIT\nis reached.\n\nThis change fixes this problem by passing the fields as parameter\nto collections.get_next method and using the fields argument to\nbuild the query parameter.\n\nChange-Id: I62b59e8148171c72de0ccf63a1517e754b520c76\nStory: 2006721\nTask: 37093\n""}, {'number': 2, 'created': '2019-10-16 19:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a024ca190e688bc4778b5b8b3839bbdcdcc2f278', 'message': ""Do not ignore 'fields' query parameter when building next url\n\nWhen an user calls the GET on an ironic resource it returns\nMAX_LIMIT number of resources at a time along with a next url.\nThe default MAX_LIMIT is 1000.\n\nIf the user requested specific set of fields from ironic API\nusing the fields query parameter (eg: /v1/resource?fields=f1,f2,f3)\nThe next url returned by the API ignores fields query parameter.\nThis results in fields missing from the results after MAX_LIMIT\nis reached.\n\nThis change fixes this problem by passing the fields as parameter\nto collections.get_next method and using the fields argument to\nbuild the query parameter.\n\nChange-Id: I62b59e8148171c72de0ccf63a1517e754b520c76\nStory: 2006721\nTask: 37093\n""}, {'number': 3, 'created': '2019-10-18 01:24:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cfb14d0e3a5ab28feb20a64a75a03418169a143d', 'message': ""Do not ignore 'fields' query parameter when building next url\n\nWhen an user calls the GET on an ironic resource it returns\nMAX_LIMIT number of resources at a time along with a next url.\nThe default MAX_LIMIT is 1000.\n\nIf the user requested specific set of fields from ironic API\nusing the fields query parameter (eg: /v1/resource?fields=f1,f2,f3)\nThe next url returned by the API ignores fields query parameter.\nThis results in fields missing from the results after MAX_LIMIT\nis reached.\n\nThis change fixes this problem by passing the fields as parameter\nto collections.get_next method and using the fields argument to\nbuild the query parameter.\n\nChange-Id: I62b59e8148171c72de0ccf63a1517e754b520c76\nStory: 2006721\nTask: 37093\n""}, {'number': 4, 'created': '2019-10-18 18:38:03.000000000', 'files': ['ironic/api/controllers/v1/port.py', 'ironic/api/controllers/v1/collection.py', 'ironic/tests/unit/api/controllers/v1/test_portgroup.py', 'ironic/tests/unit/api/controllers/v1/test_conductor.py', 'ironic/api/controllers/v1/conductor.py', 'ironic/tests/unit/api/controllers/v1/test_deploy_template.py', 'releasenotes/notes/fix-fields-missing-from-next-url-fd9fddf8e70b65ea.yaml', 'ironic/api/controllers/v1/portgroup.py', 'ironic/api/controllers/v1/volume_connector.py', 'ironic/tests/unit/api/controllers/v1/test_port.py', 'ironic/tests/unit/api/controllers/v1/test_volume_connector.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/allocation.py', 'ironic/tests/unit/api/controllers/v1/test_allocation.py', 'ironic/api/controllers/v1/chassis.py', 'ironic/api/controllers/v1/deploy_template.py', 'ironic/api/controllers/v1/volume_target.py', 'ironic/tests/unit/api/controllers/v1/test_chassis.py', 'ironic/tests/unit/api/controllers/v1/test_volume_target.py', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e36f72d36da53ff5439d0e5a19561bed9e792b06', 'message': ""Do not ignore 'fields' query parameter when building next url\n\nWhen an user calls the GET on an ironic resource it returns\nMAX_LIMIT number of resources at a time along with a next url.\nThe default MAX_LIMIT is 1000.\n\nIf the user requested specific set of fields from ironic API\nusing the fields query parameter (eg: /v1/resource?fields=f1,f2,f3)\nThe next url returned by the API ignores fields query parameter.\nThis results in fields missing from the results after MAX_LIMIT\nis reached.\n\nThis change fixes this problem by passing the fields as parameter\nto collections.get_next method and using the fields argument to\nbuild the query parameter.\n\nChange-Id: I62b59e8148171c72de0ccf63a1517e754b520c76\nStory: 2006721\nTask: 37093\n""}]",7,688583,e36f72d36da53ff5439d0e5a19561bed9e792b06,32,6,4,12640,,,0,"Do not ignore 'fields' query parameter when building next url

When an user calls the GET on an ironic resource it returns
MAX_LIMIT number of resources at a time along with a next url.
The default MAX_LIMIT is 1000.

If the user requested specific set of fields from ironic API
using the fields query parameter (eg: /v1/resource?fields=f1,f2,f3)
The next url returned by the API ignores fields query parameter.
This results in fields missing from the results after MAX_LIMIT
is reached.

This change fixes this problem by passing the fields as parameter
to collections.get_next method and using the fields argument to
build the query parameter.

Change-Id: I62b59e8148171c72de0ccf63a1517e754b520c76
Story: 2006721
Task: 37093
",git fetch https://review.opendev.org/openstack/ironic refs/changes/83/688583/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/port.py', 'ironic/api/controllers/v1/collection.py', 'ironic/tests/unit/api/controllers/v1/test_portgroup.py', 'ironic/tests/unit/api/controllers/v1/test_conductor.py', 'ironic/api/controllers/v1/conductor.py', 'ironic/tests/unit/api/controllers/v1/test_deploy_template.py', 'ironic/api/controllers/v1/portgroup.py', 'ironic/api/controllers/v1/volume_connector.py', 'ironic/tests/unit/api/controllers/v1/test_port.py', 'ironic/tests/unit/api/controllers/v1/test_volume_connector.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/api/controllers/v1/allocation.py', 'ironic/tests/unit/api/controllers/v1/test_allocation.py', 'ironic/api/controllers/v1/chassis.py', 'ironic/api/controllers/v1/deploy_template.py', 'ironic/api/controllers/v1/volume_target.py', 'ironic/tests/unit/api/controllers/v1/test_chassis.py', 'ironic/tests/unit/api/controllers/v1/test_volume_target.py', 'ironic/api/controllers/v1/node.py']",19,791767a61dc4a93aa667738d85d4f508a1164a90,do_not_ignore_fields," collection.next = collection.get_next(limit, url=url, fields=fields, **kwargs)"," collection.next = collection.get_next(limit, url=url, **kwargs)",193,11
openstack%2Fhorizon~master~Ie36e05a1e59eb88b779c9f3249a714c20b5f5fe0,openstack/horizon,master,Ie36e05a1e59eb88b779c9f3249a714c20b5f5fe0,Fix aes-xts key length in Horizon Admin Guide / Manage Volumes,MERGED,2019-10-21 20:41:59.000000000,2019-10-22 14:22:11.000000000,2019-10-22 14:09:36.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 10607}, {'_account_id': 12156}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-21 20:41:59.000000000', 'files': ['doc/source/admin/manage-volumes.rst'], 'web_link': 'https://opendev.org/openstack/horizon/commit/85a1dddf126691921924edcecaee5c054c7df6c2', 'message': 'Fix aes-xts key length in Horizon Admin Guide / Manage Volumes\n\nWhen using aes-xts-plain64, a 512 bit key produces an error as this\nis not a supported barbican key length for aes-xts-plain64. This patch\nupdates the horzion admin doc to remove the reference of a 512 bit key.\n\nChange-Id: Ie36e05a1e59eb88b779c9f3249a714c20b5f5fe0\nCloses-Bug: #1708505\nCloses-Bug: #1849196\n'}]",0,689871,85a1dddf126691921924edcecaee5c054c7df6c2,15,9,1,14892,,,0,"Fix aes-xts key length in Horizon Admin Guide / Manage Volumes

When using aes-xts-plain64, a 512 bit key produces an error as this
is not a supported barbican key length for aes-xts-plain64. This patch
updates the horzion admin doc to remove the reference of a 512 bit key.

Change-Id: Ie36e05a1e59eb88b779c9f3249a714c20b5f5fe0
Closes-Bug: #1708505
Closes-Bug: #1849196
",git fetch https://review.opendev.org/openstack/horizon refs/changes/71/689871/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/manage-volumes.rst'],1,85a1dddf126691921924edcecaee5c054c7df6c2,1708505_1849196_update_key_size,"| Key Size (bits)| 256 (Recommended for |Using this selection for | | | aes-xts-plain64 and |aes-xts, the underlying key | | | aes-cbc-essiv) |size would only be 128-bits*|","| Key Size (bits)| 512 (Recommended for |Using this selection for | | | aes-xts-plain64. 256 |aes-xts, the underlying key | | | should be used for |size would only be 256-bits*| | | aes-cbc-essiv) | | + +-----------------------+----------------------------+ | | 256 |Using this selection for | | | |aes-xts, the underlying key | | | |size would only be 128-bits*|",3,8
openstack%2Fpuppet-ovn~stable%2Frocky~I98c7b16c6051e174e515bfa9a81a3fb55267aacf,openstack/puppet-ovn,stable/rocky,I98c7b16c6051e174e515bfa9a81a3fb55267aacf,Add posibilities to set ovn_openflow_probe_interval for controller,MERGED,2019-10-22 09:49:03.000000000,2019-10-22 14:11:29.000000000,2019-10-22 14:10:10.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 09:49:03.000000000', 'files': ['spec/classes/ovn_controller_spec.rb', 'manifests/controller.pp', 'releasenotes/notes/ovn_openflow_probe_interval-a465fbbde158c6b0.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/9fdaad0e769107247c15de7f42308aa7f3c145ed', 'message': 'Add posibilities to set ovn_openflow_probe_interval for controller\n\nChange-Id: I98c7b16c6051e174e515bfa9a81a3fb55267aacf\n(cherry picked from commit d1331a6254bc0d86a4fb6be78b6bc8dbe97ec021)\n(cherry picked from commit a5b784df19a61ec423d09c2549cefca00c586314)\n'}]",0,690027,9fdaad0e769107247c15de7f42308aa7f3c145ed,8,2,1,11082,,,0,"Add posibilities to set ovn_openflow_probe_interval for controller

Change-Id: I98c7b16c6051e174e515bfa9a81a3fb55267aacf
(cherry picked from commit d1331a6254bc0d86a4fb6be78b6bc8dbe97ec021)
(cherry picked from commit a5b784df19a61ec423d09c2549cefca00c586314)
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/27/690027/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ovn_controller_spec.rb', 'manifests/controller.pp', 'releasenotes/notes/ovn_openflow_probe_interval-a465fbbde158c6b0.yaml']",3,9fdaad0e769107247c15de7f42308aa7f3c145ed,ovn_openflow_probe_interval,"--- features: - | Added new param for puppet to set ovn_openflow_probe_interval which is inactivity probe interval of the OpenFlow connection to the OpenvSwitch integration bridge, in seconds. If the value is zero, it disables the connection keepalive feature, by default this value is set on 60s. If the value is nonzero, then it will be forced to a value of at least 5s.",,48,25
openstack%2Ftripleo-common~stable%2Ftrain~I6bb4ef5d3d0e53b12f8636b998d7f7c2426c2b60,openstack/tripleo-common,stable/train,I6bb4ef5d3d0e53b12f8636b998d7f7c2426c2b60,Add OS_COMPUTE_API_VERSION to overcloudrc,MERGED,2019-10-18 14:50:19.000000000,2019-10-22 13:25:34.000000000,2019-10-22 13:23:21.000000000,"[{'_account_id': 3153}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-18 14:50:19.000000000', 'files': ['tripleo_common/utils/overcloudrc.py', 'releasenotes/notes/export_os_nova_api_version-d5d1501306f8013b.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d9e8e90640dc48b5d1326dabc2ed7dbccd7951ed', 'message': ""Add OS_COMPUTE_API_VERSION to overcloudrc\n\nopenstack cli doesn't negotiate a microversion. Live migration and\nmultiattach are 2 examples of operations which require arcane\nincantations\nto make them work correctly, and therefore usually don't.\nThis adds ``OS_COMPUTE_API_VERSION=2.latest`` to the overcloudrc\nfile to fix it.\n\nChange-Id: I6bb4ef5d3d0e53b12f8636b998d7f7c2426c2b60\n(cherry picked from commit f3e3208fb784ec1d726b3a7252ec8825d64d7103)\n""}]",0,689503,d9e8e90640dc48b5d1326dabc2ed7dbccd7951ed,13,4,1,17216,,,0,"Add OS_COMPUTE_API_VERSION to overcloudrc

openstack cli doesn't negotiate a microversion. Live migration and
multiattach are 2 examples of operations which require arcane
incantations
to make them work correctly, and therefore usually don't.
This adds ``OS_COMPUTE_API_VERSION=2.latest`` to the overcloudrc
file to fix it.

Change-Id: I6bb4ef5d3d0e53b12f8636b998d7f7c2426c2b60
(cherry picked from commit f3e3208fb784ec1d726b3a7252ec8825d64d7103)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/03/689503/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/overcloudrc.py', 'releasenotes/notes/export_os_nova_api_version-d5d1501306f8013b.yaml']",2,d9e8e90640dc48b5d1326dabc2ed7dbccd7951ed,os_compute_api_version-stable/train,"--- fixes: - | openstack cli doesn't negotiate a microversion. Live migration and multiattach are 2 examples of operations which require arcane incantations to make them work correctly, and therefore usually don't. This adds ``OS_COMPUTE_API_VERSION=2.latest`` to the overcloudrc file to fix it. ",,9,0
openstack%2Fkuryr-kubernetes~master~I0c4852f5bb816756cc1bf536354da20aa3948dc7,openstack/kuryr-kubernetes,master,I0c4852f5bb816756cc1bf536354da20aa3948dc7,Remove namespace leftover upon kuryr-controller restart,MERGED,2019-10-18 12:31:03.000000000,2019-10-22 13:20:33.000000000,2019-10-22 12:43:36.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-10-18 12:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/254c58839f5b2785d12a7e04e3e3c145047053f5', 'message': '[WIP] Remove namespace leftover upon kuryr-controller restart\n\nWhen a namespace is deleted, kuryr-controller is in charge of\ndeleting its associated openstack resources (net, subnet and ports)\nas well as the associated KuryrNet CRD.\n\nAs removing OpenStack resources may take some time, if the\nkuryr-controller is restarted by any different reason during that\nprocess, the resources will be left behind as no new events for the\nnamespace (already deleted) will happen after the restart. This\npatch fixes this problem by ensuring upon reboot that there are no\norphan KuryrNet CRDs for unexisting namespaces, and deleting them\nin case there are (including its associated OpenStack resources).\n\nChange-Id: I0c4852f5bb816756cc1bf536354da20aa3948dc7\n'}, {'number': 2, 'created': '2019-10-18 16:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3c4c00b3d3fb895e0ab19ecc8f44ce2fcb8d6fa1', 'message': 'Remove namespace leftover upon kuryr-controller restart\n\nWhen a namespace is deleted, kuryr-controller is in charge of\ndeleting its associated openstack resources (net, subnet and ports)\nas well as the associated KuryrNet CRD.\n\nAs removing OpenStack resources may take some time, if the\nkuryr-controller is restarted by any different reason during that\nprocess, the resources will be left behind as no new events for the\nnamespace (already deleted) will happen after the restart. This\npatch fixes this problem by ensuring upon reboot that there are no\norphan KuryrNet CRDs for unexisting namespaces, and deleting them\nin case there are (including its associated OpenStack resources).\n\nCloses-Bug: 1848761\n\nChange-Id: I0c4852f5bb816756cc1bf536354da20aa3948dc7\n'}, {'number': 3, 'created': '2019-10-21 09:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8b22757aa7a910aaec0512dae0920d6670fdea24', 'message': 'Remove namespace leftover upon kuryr-controller restart\n\nWhen a namespace is deleted, kuryr-controller is in charge of\ndeleting its associated openstack resources (net, subnet and ports)\nas well as the associated KuryrNet CRD.\n\nAs removing OpenStack resources may take some time, if the\nkuryr-controller is restarted by any different reason during that\nprocess, the resources will be left behind as no new events for the\nnamespace (already deleted) will happen after the restart. This\npatch fixes this problem by ensuring upon reboot that there are no\norphan KuryrNet CRDs for unexisting namespaces, and deleting them\nin case there are (including its associated OpenStack resources).\n\nCloses-Bug: 1848761\n\nChange-Id: I0c4852f5bb816756cc1bf536354da20aa3948dc7\n'}, {'number': 4, 'created': '2019-10-21 14:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/60bf02b801a0f2580269542f6da271cb0739cd95', 'message': 'Remove namespace leftover upon kuryr-controller restart\n\nWhen a namespace is deleted, kuryr-controller is in charge of\ndeleting its associated openstack resources (net, subnet and ports)\nas well as the associated KuryrNet CRD.\n\nAs removing OpenStack resources may take some time, if the\nkuryr-controller is restarted by any different reason during that\nprocess, the resources will be left behind as no new events for the\nnamespace (already deleted) will happen after the restart. This\npatch fixes this problem by ensuring upon reboot that there are no\norphan KuryrNet CRDs for unexisting namespaces, and deleting them\nin case there are (including its associated OpenStack resources).\n\nCloses-Bug: 1848761\n\nChange-Id: I0c4852f5bb816756cc1bf536354da20aa3948dc7\n'}, {'number': 5, 'created': '2019-10-21 14:45:29.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/handlers/test_namespace.py', 'kuryr_kubernetes/controller/drivers/namespace_subnet.py', 'kuryr_kubernetes/controller/handlers/namespace.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6d43ad4c787a553e99ebaf5827dbd70e385db14c', 'message': 'Remove namespace leftover upon kuryr-controller restart\n\nWhen a namespace is deleted, kuryr-controller is in charge of\ndeleting its associated openstack resources (net, subnet and ports)\nas well as the associated KuryrNet CRD.\n\nAs removing OpenStack resources may take some time, if the\nkuryr-controller is restarted by any different reason during that\nprocess, the resources will be left behind as no new events for the\nnamespace (already deleted) will happen after the restart. This\npatch fixes this problem by ensuring upon reboot that there are no\norphan KuryrNet CRDs for unexisting namespaces, and deleting them\nin case there are (including its associated OpenStack resources).\n\nCloses-Bug: 1848761\n\nChange-Id: I0c4852f5bb816756cc1bf536354da20aa3948dc7\n'}]",4,689440,6d43ad4c787a553e99ebaf5827dbd70e385db14c,27,6,5,23567,,,0,"Remove namespace leftover upon kuryr-controller restart

When a namespace is deleted, kuryr-controller is in charge of
deleting its associated openstack resources (net, subnet and ports)
as well as the associated KuryrNet CRD.

As removing OpenStack resources may take some time, if the
kuryr-controller is restarted by any different reason during that
process, the resources will be left behind as no new events for the
namespace (already deleted) will happen after the restart. This
patch fixes this problem by ensuring upon reboot that there are no
orphan KuryrNet CRDs for unexisting namespaces, and deleting them
in case there are (including its associated OpenStack resources).

Closes-Bug: 1848761

Change-Id: I0c4852f5bb816756cc1bf536354da20aa3948dc7
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/40/689440/3 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/handlers/test_namespace.py', 'kuryr_kubernetes/controller/handlers/namespace.py']",2,254c58839f5b2785d12a7e04e3e3c145047053f5,kuryrnet-leftovers,"import eventlet # NOTE(ltomasbo): Checks and clean up leftovers due to # kuryr-controller retarts eventlet.spawn(self._cleanup_namespace_leftovers) net_crd_name = net_crd['metadata']['name'] def _cleanup_namespace_leftovers(self): k8s = clients.get_kubernetes_client() try: net_crds = k8s.get(constants.K8S_API_CRD_KURYRNETS) namespaces = k8s.get(constants.K8S_API_NAMESPACES) except exceptions.K8sClientException: LOG.debug(""Error retriving namespace information"") return ns_dict = {'ns-' + ns['metadata']['name']: ns for ns in namespaces.get('items')} for net_crd in net_crds.get('items'): try: ns_dict[net_crd['metadata']['name']] except KeyError: # Note(ltomasbo): The CRD does not have an associated # namespace. It must be deleted LOG.debug(""Removing namespace leftovers associated to: %s"", net_crd) # removing the 'ns-' preceding the namespace name on the net # CRDs ns_name = net_crd['metadata']['name'][3:] # only namespace name is needed for on_deleted, faking the # unexisting object ns_to_delete = {'metadata': {'name': ns_name}} self.on_deleted(ns_to_delete, net_crd)", net_crd_name = 'ns-' + namespace['metadata']['name'],36,2
openstack%2Fkolla-ansible~stable%2Fstein~Ifa2aa387be46beb6da1d3c5a5e0da1b561af8cee,openstack/kolla-ansible,stable/stein,Ifa2aa387be46beb6da1d3c5a5e0da1b561af8cee,Fix placement being enabled always instead of with nova,MERGED,2019-10-21 09:20:33.000000000,2019-10-22 13:19:57.000000000,2019-10-22 13:18:24.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-10-21 09:20:33.000000000', 'files': ['ansible/group_vars/all.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e250a8bb31180b3250eb53ce96935881bd611fda', 'message': 'Fix placement being enabled always instead of with nova\n\nAdds ""| bool"".\n\nBackportable to Stein.\n\nChange-Id: Ifa2aa387be46beb6da1d3c5a5e0da1b561af8cee\nCloses-bug: #1848937\n(cherry picked from commit 4d398f4b7f4e2b15284641244839463c51550747)\n'}]",0,689695,e250a8bb31180b3250eb53ce96935881bd611fda,8,3,1,30491,,,0,"Fix placement being enabled always instead of with nova

Adds ""| bool"".

Backportable to Stein.

Change-Id: Ifa2aa387be46beb6da1d3c5a5e0da1b561af8cee
Closes-bug: #1848937
(cherry picked from commit 4d398f4b7f4e2b15284641244839463c51550747)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/95/689695/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'etc/kolla/globals.yml']",2,e250a8bb31180b3250eb53ce96935881bd611fda,,"#enable_placement: ""{{ enable_nova | bool }}""","#enable_placement: ""{{ enable_nova }}""",2,2
openstack%2Fcharm-ceph-mon~master~Idc1a75f423f9f87dc957bffa405bf701d079b3f5,openstack/charm-ceph-mon,master,Idc1a75f423f9f87dc957bffa405bf701d079b3f5,fix user when creating keyring for ceph-manager,ABANDONED,2019-10-22 11:29:12.000000000,2019-10-22 13:14:39.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 11:29:12.000000000', 'files': ['lib/ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/f9b7a3d86d07224f62232875badd51b4f829d3c1', 'message': 'fix user when creating keyring for ceph-manager\n\nChange-Id: Idc1a75f423f9f87dc957bffa405bf701d079b3f5\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}]",0,690047,f9b7a3d86d07224f62232875badd51b4f829d3c1,4,2,1,7730,,,0,"fix user when creating keyring for ceph-manager

Change-Id: Idc1a75f423f9f87dc957bffa405bf701d079b3f5
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/47/690047/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/ceph/utils.py'],1,f9b7a3d86d07224f62232875badd51b4f829d3c1,charms-train-function-test," subprocess.check_call(['sudo', '-u', ceph_user(), 'ceph', 'auth', 'get-or-create', 'mgr.{}'.format(hostname), 'mon', 'allow profile mgr', 'osd', 'allow *',"," subprocess.check_call(['ceph', 'auth', 'get-or-create', 'mgr.{}'.format(hostname), 'mon', 'allow profile mgr', 'osd', 'allow *',",3,3
openstack%2Fcharm-ceph-mon~master~Ie5421e63fff165a90b5327c7975c1e4362d8a7fa,openstack/charm-ceph-mon,master,Ie5421e63fff165a90b5327c7975c1e4362d8a7fa,replace ceph auth get with get-or-create,ABANDONED,2019-10-22 08:05:57.000000000,2019-10-22 13:14:32.000000000,,"[{'_account_id': 935}, {'_account_id': 7730}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 08:05:57.000000000', 'files': ['lib/ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/952171eb96123500a047e1e038e841cd4c52f89c', 'message': 'replace ceph auth get with get-or-create\n\nThe key may be stored in internal db using get-or-create ensure they\nwill be stored locally if not already\n\nChange-Id: Ie5421e63fff165a90b5327c7975c1e4362d8a7fa\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}]",0,690001,952171eb96123500a047e1e038e841cd4c52f89c,6,4,1,7730,,,0,"replace ceph auth get with get-or-create

The key may be stored in internal db using get-or-create ensure they
will be stored locally if not already

Change-Id: Ie5421e63fff165a90b5327c7975c1e4362d8a7fa
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/01/690001/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/ceph/utils.py'],1,952171eb96123500a047e1e038e841cd4c52f89c,charms-train-function-test," 'auth', 'get-or-create', 'client.admin',"," 'auth', 'get', 'client.admin',",1,1
openstack%2Fnetworking-ovn~stable%2Frocky~I8c1174df562a7164d4a96ce2e733279723827dcd,openstack/networking-ovn,stable/rocky,I8c1174df562a7164d4a96ce2e733279723827dcd,Avoid port group creation race,MERGED,2019-10-09 13:55:11.000000000,2019-10-22 13:13:16.000000000,2019-10-22 13:13:16.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-10-09 13:55:11.000000000', 'files': ['networking_ovn/common/ovn_client.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/fa0d4773b2e47cea7f52109ff0aa6f6c211e4e31', 'message': ""Avoid port group creation race\n\nThe neutron_pg_drop Porg Group is created with some ACLs to drop\nall the traffic by default. This group doesn't match any Neutron\nresource and it's created once the first Neutron port with\nport_security enabled gets created.\n\nA race condition exists whn the first two ports get created\nsimultaneously by different works as both may attempt to create\nthis Port Group. The result is that one of the port creations will\nfail. Setting may_exist=True should avoid this race\n\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nCloses-Bug: 1838969\nChange-Id: I8c1174df562a7164d4a96ce2e733279723827dcd\n(cherry picked from commit e946836b208a5ddc3a17f2dba53658c4b9a3f8f7)\n""}]",0,687568,fa0d4773b2e47cea7f52109ff0aa6f6c211e4e31,19,5,1,24791,,,0,"Avoid port group creation race

The neutron_pg_drop Porg Group is created with some ACLs to drop
all the traffic by default. This group doesn't match any Neutron
resource and it's created once the first Neutron port with
port_security enabled gets created.

A race condition exists whn the first two ports get created
simultaneously by different works as both may attempt to create
this Port Group. The result is that one of the port creations will
fail. Setting may_exist=True should avoid this race

Co-authored-by: Daniel Alvarez <dalvarez@redhat.com>
Closes-Bug: 1838969
Change-Id: I8c1174df562a7164d4a96ce2e733279723827dcd
(cherry picked from commit e946836b208a5ddc3a17f2dba53658c4b9a3f8f7)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/68/687568/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/common/ovn_client.py'],1,fa0d4773b2e47cea7f52109ff0aa6f6c211e4e31,," txn.add(self._nb_idl.pg_add(pg_name, acls=[], may_exist=True)) txn.add(self._nb_idl.pg_acl_add(may_exist=True, **acl))"," txn.add(self._nb_idl.pg_add(pg_name, acls=[])) txn.add(self._nb_idl.pg_acl_add(**acl))",2,2
openstack%2Fkolla-ansible~master~I2c4aa666ff9f952e32c450347d31ddbf2e58209e,openstack/kolla-ansible,master,I2c4aa666ff9f952e32c450347d31ddbf2e58209e,Zun: add Cinder (volume) iSCSI support,MERGED,2019-09-18 13:48:56.000000000,2019-10-22 12:58:15.000000000,2019-10-22 12:56:44.000000000,"[{'_account_id': 11536}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-18 13:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0ab17a6a39e86d534d896711dfe5cf20dc2f2d55', 'message': 'Zun: add volume support\n\nThis makes iSCSI work out-of-the-box.\nCeph requires more work to be done but this change adds\npreliminary RBD support.\n\nChange-Id: I2c4aa666ff9f952e32c450347d31ddbf2e58209e\nRelated-bug: #1797448\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-10-20 16:27:46.000000000', 'files': ['releasenotes/notes/zun-iscsi-7ca24c2c4eb9d5a5.yaml', 'ansible/roles/zun/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2447c161b8887e130ff2586dee2413c2850572a6', 'message': 'Zun: add Cinder (volume) iSCSI support\n\nThis makes iSCSI with Zun and Cinder work out-of-the-box.\n(LVM included)\n\nChange-Id: I2c4aa666ff9f952e32c450347d31ddbf2e58209e\nRelated-bug: #1797448\nCloses-bug: #1848933\n'}]",4,682900,2447c161b8887e130ff2586dee2413c2850572a6,20,7,2,30491,,,0,"Zun: add Cinder (volume) iSCSI support

This makes iSCSI with Zun and Cinder work out-of-the-box.
(LVM included)

Change-Id: I2c4aa666ff9f952e32c450347d31ddbf2e58209e
Related-bug: #1797448
Closes-bug: #1848933
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/682900/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/zun/templates/zun-compute.json.j2', 'ansible/roles/zun/defaults/main.yml']",2,0ab17a6a39e86d534d896711dfe5cf20dc2f2d55,bug/1848933," - ""/lib/modules:/lib/modules:ro"" - ""{% if enable_iscsid | bool %}iscsi_info:/etc/iscsi{% endif %}"" - ""{% if enable_cinder | bool and cinder_backend_ceph | bool %}{{ node_config_directory }}/cinder-volume:{{ container_config_directory }}-cinder_volume:ro{% endif %}""",,10,0
openstack%2Fkolla~stable%2Fqueens~Iaad8f6de767388a66c91c3580db5e2570e5703dd,openstack/kolla,stable/queens,Iaad8f6de767388a66c91c3580db5e2570e5703dd,Bump OpenStack versions for Queens EM,MERGED,2019-10-21 13:19:54.000000000,2019-10-22 12:56:45.000000000,2019-10-22 12:56:45.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-10-21 13:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4ccca52570d83a0cf5fe2a6a65b787a9359aac35', 'message': 'Bump OpenStack versions for Queens EM\n\nChange-Id: Iaad8f6de767388a66c91c3580db5e2570e5703dd\n'}, {'number': 2, 'created': '2019-10-21 15:21:03.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1facd88195459dc4bbb35b1b8bd54c777e26aa3f', 'message': 'Bump OpenStack versions for Queens EM\n\nChange-Id: Iaad8f6de767388a66c91c3580db5e2570e5703dd\n'}]",0,689741,1facd88195459dc4bbb35b1b8bd54c777e26aa3f,11,4,2,14826,,,0,"Bump OpenStack versions for Queens EM

Change-Id: Iaad8f6de767388a66c91c3580db5e2570e5703dd
",git fetch https://review.opendev.org/openstack/kolla refs/changes/41/689741/2 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,4ccca52570d83a0cf5fe2a6a65b787a9359aac35,," 'cinder-12.0.9.tar.gz')}, 'heat-10.0.3.tar.gz')}, 'networking-baremetal-1.0.1.tar.gz')},"," 'cinder-12.0.8.tar.gz')}, 'heat-10.0.2.tar.gz')}, 'networking-baremetal-1.0.0.tar.gz')},",3,3
openstack%2Fironic~master~I49082656880dbfcdb54ad0d2808e57eaa4070a56,openstack/ironic,master,I49082656880dbfcdb54ad0d2808e57eaa4070a56,Switch to ussuri job,MERGED,2019-10-21 09:57:14.000000000,2019-10-22 12:31:41.000000000,2019-10-22 12:26:23.000000000,"[{'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-10-21 09:57:14.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3db445ab5de109262b3dceb5b7d5204d4f18fcbc', 'message': 'Switch to ussuri job\n\nChange-Id: I49082656880dbfcdb54ad0d2808e57eaa4070a56\n'}]",0,689705,3db445ab5de109262b3dceb5b7d5204d4f18fcbc,15,5,1,15519,,,0,"Switch to ussuri job

Change-Id: I49082656880dbfcdb54ad0d2808e57eaa4070a56
",git fetch https://review.opendev.org/openstack/ironic refs/changes/05/689705/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,3db445ab5de109262b3dceb5b7d5204d4f18fcbc,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fblazar-dashboard~master~I26f289ff1c08380b9c67a1a28fcbb809fbeecd13,openstack/blazar-dashboard,master,I26f289ff1c08380b9c67a1a28fcbb809fbeecd13,Switch to official Ussuri jobs,MERGED,2019-10-14 07:02:04.000000000,2019-10-22 12:31:18.000000000,2019-10-22 12:28:50.000000000,"[{'_account_id': 13192}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-14 07:02:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/blazar-dashboard/commit/388ef09fff4a144f63960137237f4049ece89f3c', 'message': 'Switch to official Ussuri jobs\n\nChange-Id: I26f289ff1c08380b9c67a1a28fcbb809fbeecd13\n'}]",0,688337,388ef09fff4a144f63960137237f4049ece89f3c,13,5,1,29313,,,0,"Switch to official Ussuri jobs

Change-Id: I26f289ff1c08380b9c67a1a28fcbb809fbeecd13
",git fetch https://review.opendev.org/openstack/blazar-dashboard refs/changes/37/688337/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,388ef09fff4a144f63960137237f4049ece89f3c,, - openstack-python3-ussuri-jobs-horizon, - openstack-python3-train-jobs-horizon,1,1
openstack%2Fironic-lib~master~I779bd55b11c3b719f96fa4e071588634afefa74b,openstack/ironic-lib,master,I779bd55b11c3b719f96fa4e071588634afefa74b,Switch to Ussuri job,MERGED,2019-10-21 14:30:14.000000000,2019-10-22 12:30:08.000000000,2019-10-22 12:26:25.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:30:14.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/6cba73a8208a91cc0b876c8059e05ce7cf00c106', 'message': 'Switch to Ussuri job\n\nChange-Id: I779bd55b11c3b719f96fa4e071588634afefa74b\n'}]",0,689791,6cba73a8208a91cc0b876c8059e05ce7cf00c106,12,4,1,15519,,,0,"Switch to Ussuri job

Change-Id: I779bd55b11c3b719f96fa4e071588634afefa74b
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/91/689791/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,6cba73a8208a91cc0b876c8059e05ce7cf00c106,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fironic~stable%2Fstein~I0bf38321b0135ea17439d35081b5727fd4d827c8,openstack/ironic,stable/stein,I0bf38321b0135ea17439d35081b5727fd4d827c8,Read in non-blocking fashion when starting console,MERGED,2019-10-18 17:38:20.000000000,2019-10-22 12:26:12.000000000,2019-10-22 12:24:26.000000000,"[{'_account_id': 12356}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-10-18 17:38:20.000000000', 'files': ['releasenotes/notes/fix-shellinabox-pipe-not-ready-f860c4b7a1ef71a8.yaml', 'ironic/tests/unit/drivers/modules/test_console_utils.py', 'ironic/drivers/modules/console_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/899a0d3784284fb6c2b09e61fe2293eaaa7ac93f', 'message': 'Read in non-blocking fashion when starting console\n\nAs PID file is created by daemon, it might happen that although the\nreturn code is 0, the PID file does not exist yet. And afterwards,\ncommunicate() call might hang for some reason. As there is no way to\nput timeout on communicate call in python2, and in order to make\nthis change more backportable, this patch uses non-blocking read to\nget the values of stdout and stderr of the call.\n\nStory: 2006514\nTask: 36511\nChange-Id: I0bf38321b0135ea17439d35081b5727fd4d827c8\n(cherry picked from commit efc2d5fcd3e4c3d8e24801b45f61f7f747b7f340)\n'}]",0,689555,899a0d3784284fb6c2b09e61fe2293eaaa7ac93f,21,5,1,11655,,,0,"Read in non-blocking fashion when starting console

As PID file is created by daemon, it might happen that although the
return code is 0, the PID file does not exist yet. And afterwards,
communicate() call might hang for some reason. As there is no way to
put timeout on communicate call in python2, and in order to make
this change more backportable, this patch uses non-blocking read to
get the values of stdout and stderr of the call.

Story: 2006514
Task: 36511
Change-Id: I0bf38321b0135ea17439d35081b5727fd4d827c8
(cherry picked from commit efc2d5fcd3e4c3d8e24801b45f61f7f747b7f340)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/55/689555/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-shellinabox-pipe-not-ready-f860c4b7a1ef71a8.yaml', 'ironic/tests/unit/drivers/modules/test_console_utils.py', 'ironic/drivers/modules/console_utils.py']",3,899a0d3784284fb6c2b09e61fe2293eaaa7ac93f,another-fix-to-console-stable/train-stable/stein,"import fcntlclass _PopenNonblockingPipe(object): def __init__(self, source): self._source = source self._output = b'' self._wait = False self._finished = False self._set_async() def _set_async(self): flags = fcntl.fcntl(self._source, fcntl.F_GETFL) fcntl.fcntl(self._source, fcntl.F_SETFL, flags | os.O_NONBLOCK) def read(self, num_bytes=4096): if self._finished: return try: if self._wait: time.sleep(1) self._wait = False data = os.read(self._source.fileno(), num_bytes) self._output += data if len(data) < num_bytes: self._wait = True except OSError: self._finished = True @property def output(self): return self._output @property def finished(self): return self._finished stdout_pipe, stderr_pipe = ( _PopenNonblockingPipe(obj.stdout), _PopenNonblockingPipe(obj.stderr)) watched = (stdout_pipe, stderr_pipe) while time.time() < expiration and not all( (i.finished for i in watched)): for pipe in watched: pipe.read() ""Exit code: %(return_code)s.\nStdout: %(stdout)r\n"" 'stdout': stdout_pipe.output, 'stderr': stderr_pipe.output}"," (stdout, stderr) = popen_obj.communicate() ""Exit code: %(return_code)s.\n"" ""Stdout: %(stdout)r\n"" 'stdout': stdout, 'stderr': stderr}",108,23
openstack%2Fironic~master~I4210492bc7cb42b205d2b93a018bfaa25bfe5752,openstack/ironic,master,I4210492bc7cb42b205d2b93a018bfaa25bfe5752,Mask secrets when logging in json_rpc,MERGED,2019-10-21 13:49:55.000000000,2019-10-22 12:23:50.000000000,2019-10-22 04:22:25.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-10-21 13:49:55.000000000', 'files': ['releasenotes/notes/jsonrpc-logging-21670015bb845182.yaml', 'ironic/common/json_rpc/client.py', 'ironic/common/json_rpc/server.py', 'ironic/tests/unit/common/test_json_rpc.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3ab93f0c84a5a8e2551f31c7f6ea24fc62ae79a9', 'message': 'Mask secrets when logging in json_rpc\n\nOtherwise passwords are displayed in plain text in the DEBUG logs.\n\nChange-Id: I4210492bc7cb42b205d2b93a018bfaa25bfe5752\nStory: #2006744\nTask: #37216\n'}]",3,689751,3ab93f0c84a5a8e2551f31c7f6ea24fc62ae79a9,13,6,1,10239,,,0,"Mask secrets when logging in json_rpc

Otherwise passwords are displayed in plain text in the DEBUG logs.

Change-Id: I4210492bc7cb42b205d2b93a018bfaa25bfe5752
Story: #2006744
Task: #37216
",git fetch https://review.opendev.org/openstack/ironic refs/changes/51/689751/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/jsonrpc-logging-21670015bb845182.yaml', 'ironic/common/json_rpc/client.py', 'ironic/common/json_rpc/server.py', 'ironic/tests/unit/common/test_json_rpc.py']",4,3ab93f0c84a5a8e2551f31c7f6ea24fc62ae79a9,story/2006744,"from ironic.tests.unit.db import utils as db_utils @mock.patch.object(server.LOG, 'debug', autospec=True) def test_mask_secrets(self, mock_log): node = obj_utils.get_test_node( self.context, driver_info=db_utils.get_test_ipmi_info()) node = self.serializer.serialize_entity(self.context, node) body = self._request('with_node', {'context': self.ctx, 'node': node}) node = self.serializer.deserialize_entity(self.context, body['result']) logged_params = mock_log.call_args_list[0][0][2] logged_node = logged_params['node']['ironic_object.data'] self.assertEqual('***', logged_node['driver_info']['ipmi_password']) logged_resp = mock_log.call_args_list[1][0][2] logged_node = logged_resp['ironic_object.data'] self.assertEqual('***', logged_node['driver_info']['ipmi_password']) # The result is not affected, only logging self.assertEqual(db_utils.get_test_ipmi_info(), node.driver_info) @mock.patch.object(client.LOG, 'debug', autospec=True) def test_mask_secrets(self, mock_log, mock_session): request = { 'redfish_username': 'admin', 'redfish_password': 'passw0rd' } body = """"""{ ""jsonrpc"": ""2.0"", ""result"": { ""driver_info"": { ""ipmi_username"": ""admin"", ""ipmi_password"": ""passw0rd"" } } }"""""" response = mock_session.return_value.post.return_value response.text = body cctx = self.client.prepare('foo.example.com') cctx.cast(self.context, 'do_something', node=request) mock_session.return_value.post.assert_called_once_with( 'http://example.com:8089', json={'jsonrpc': '2.0', 'method': 'do_something', 'params': {'node': request, 'context': self.ctx_json}}) self.assertEqual(2, mock_log.call_count) node = mock_log.call_args_list[0][0][2]['params']['node'] self.assertEqual(node, {'redfish_username': 'admin', 'redfish_password': '***'}) resp_text = mock_log.call_args_list[1][0][2] self.assertEqual(body.replace('passw0rd', '***'), resp_text)",,63,4
openstack%2Foctavia-dashboard~stable%2Frocky~Idd173a9c518f99de58e63f5cc6d3b0ccae0d80a1,openstack/octavia-dashboard,stable/rocky,Idd173a9c518f99de58e63f5cc6d3b0ccae0d80a1,Honor OPENSTACK_ENDPOINT_TYPE in Horizon's local_settings.py,MERGED,2019-10-01 13:13:10.000000000,2019-10-22 12:19:24.000000000,2019-10-22 12:19:24.000000000,"[{'_account_id': 2245}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29820}]","[{'number': 1, 'created': '2019-10-01 13:13:10.000000000', 'files': ['octavia_dashboard/api/rest/lbaasv2.py'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/0e14846f712fedfdc8b56686bde2114d26b241fe', 'message': ""Honor OPENSTACK_ENDPOINT_TYPE in Horizon's local_settings.py\n\n    Story: 2003777\n    Task: 26470\n\nChange-Id: Idd173a9c518f99de58e63f5cc6d3b0ccae0d80a1\n(cherry picked from commit 124e6827a8d790594812385ba39d43f7cdbc1aa4)\n""}]",0,685960,0e14846f712fedfdc8b56686bde2114d26b241fe,8,4,1,6469,,,0,"Honor OPENSTACK_ENDPOINT_TYPE in Horizon's local_settings.py

    Story: 2003777
    Task: 26470

Change-Id: Idd173a9c518f99de58e63f5cc6d3b0ccae0d80a1
(cherry picked from commit 124e6827a8d790594812385ba39d43f7cdbc1aa4)
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/60/685960/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_dashboard/api/rest/lbaasv2.py'],1,0e14846f712fedfdc8b56686bde2114d26b241fe,," # Pass interface to honor 'OPENSTACK_ENDPOINT_TYPE' interface = getattr(settings, 'OPENSTACK_ENDPOINT_TYPE', 'publicURL') interface=interface,",,3,0
openstack%2Foctavia-dashboard~stable%2Fqueens~Idd173a9c518f99de58e63f5cc6d3b0ccae0d80a1,openstack/octavia-dashboard,stable/queens,Idd173a9c518f99de58e63f5cc6d3b0ccae0d80a1,Honor OPENSTACK_ENDPOINT_TYPE in Horizon's local_settings.py,MERGED,2019-10-01 13:13:19.000000000,2019-10-22 12:13:46.000000000,2019-10-22 12:13:46.000000000,"[{'_account_id': 2245}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29820}]","[{'number': 1, 'created': '2019-10-01 13:13:19.000000000', 'files': ['octavia_dashboard/api/rest/lbaasv2.py'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/cb757c2fbe26782eb6aad799cc085e2e3c335849', 'message': ""Honor OPENSTACK_ENDPOINT_TYPE in Horizon's local_settings.py\n\n    Story: 2003777\n    Task: 26470\n\nChange-Id: Idd173a9c518f99de58e63f5cc6d3b0ccae0d80a1\n(cherry picked from commit 124e6827a8d790594812385ba39d43f7cdbc1aa4)\n""}]",0,685961,cb757c2fbe26782eb6aad799cc085e2e3c335849,7,4,1,6469,,,0,"Honor OPENSTACK_ENDPOINT_TYPE in Horizon's local_settings.py

    Story: 2003777
    Task: 26470

Change-Id: Idd173a9c518f99de58e63f5cc6d3b0ccae0d80a1
(cherry picked from commit 124e6827a8d790594812385ba39d43f7cdbc1aa4)
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/61/685961/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_dashboard/api/rest/lbaasv2.py'],1,cb757c2fbe26782eb6aad799cc085e2e3c335849,," # Pass interface to honor 'OPENSTACK_ENDPOINT_TYPE' interface = getattr(settings, 'OPENSTACK_ENDPOINT_TYPE', 'publicURL') interface=interface,",,3,0
openstack%2Fnetworking-calico~master~I692e30ebfb16a6cc73373834c49a4cd4cf1557ee,openstack/networking-calico,master,I692e30ebfb16a6cc73373834c49a4cd4cf1557ee,"Incorporate Extraroute_Db_mixin, as openstackclient assumes this",ABANDONED,2019-09-26 17:37:33.000000000,2019-10-22 12:03:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-26 17:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/6e30907bd003259b5a70097e4729b5fd49a9caf5', 'message': 'Try to debug openstack router create issue\n\nChange-Id: I692e30ebfb16a6cc73373834c49a4cd4cf1557ee\n'}, {'number': 2, 'created': '2019-09-26 18:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/d18a8883016e0b05f322027d9183635017297025', 'message': ""Incorporate Extraroute_Db_mixin, as openstackclient assumes this\n\nSee\nhttps://github.com/openstack/python-openstackclient/blob/master/openstackclient/network/v2/router.py#L52\n\nAlso debug openstack router create, until we're sure about this.\n\nChange-Id: I692e30ebfb16a6cc73373834c49a4cd4cf1557ee\n""}, {'number': 3, 'created': '2019-09-26 20:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/0c4fb406b4ac282f48846aa3d2cb589276e4512c', 'message': ""Incorporate Extraroute_Db_mixin, as openstackclient assumes this\n\nSee\nhttps://github.com/openstack/python-openstackclient/blob/master/openstackclient/network/v2/router.py#L52\n\nAlso debug openstack router create, until we're sure about this.\n\nChange-Id: I692e30ebfb16a6cc73373834c49a4cd4cf1557ee\n""}, {'number': 4, 'created': '2019-09-26 23:33:59.000000000', 'files': ['networking_calico/plugins/calico/plugin.py', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/656b89827419ba9ee0d189709e59dc15244b66d4', 'message': ""Incorporate Extraroute_Db_mixin, as openstackclient assumes this\n\nSee\nhttps://github.com/openstack/python-openstackclient/blob/master/openstackclient/network/v2/router.py#L52\n\nAlso debug openstack router create, until we're sure about this.\n\nChange-Id: I692e30ebfb16a6cc73373834c49a4cd4cf1557ee\n""}]",0,685139,656b89827419ba9ee0d189709e59dc15244b66d4,9,1,4,13734,,,0,"Incorporate Extraroute_Db_mixin, as openstackclient assumes this

See
https://github.com/openstack/python-openstackclient/blob/master/openstackclient/network/v2/router.py#L52

Also debug openstack router create, until we're sure about this.

Change-Id: I692e30ebfb16a6cc73373834c49a4cd4cf1557ee
",git fetch https://review.opendev.org/openstack/networking-calico refs/changes/39/685139/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,6e30907bd003259b5a70097e4729b5fd49a9caf5,fix-ci-breakage," alias openstack=""oscwrap --debug"" ",,2,0
openstack%2Fmonasca-agent~master~Ie91add9af39f2ab0e5b575390c0c6355563c0bfc,openstack/monasca-agent,master,Ie91add9af39f2ab0e5b575390c0c6355563c0bfc,Add swift_handoffs check plugin to monasca,MERGED,2018-07-24 02:07:36.000000000,2019-10-22 11:41:16.000000000,2019-10-22 11:41:16.000000000,"[{'_account_id': 7233}, {'_account_id': 12542}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-24 02:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/8356db74c29289da75c48489f0cc6eff9b50a6a0', 'message': ""Add swift_handoffs check plugin to monasca\n\nA powerful metric to watch for a swift cluster is the\nnumber of handoff partitions on a drive on a storage node.\n\nA build up of handoff nodes on a particular server could\nindicate a disk problem somewhere in the cluster. A bottleneck\nsomewhere. Or better, when would be a good time to rebalance\nthe ring (as you'd want to do it when existing backend data\nmovement is at a minimum.\n\nSo it turns out to be a great visualisation of the health of\na cluster.\n\nThat's what this check plugin does. Each instance check takes\nthe following values:\n\n  ring: <path to a Swift ring file>\n  devices: <path to the directory of mountpoints>\n  granularity: <either server or device>\n\nTo be able to determine primary vs handoff partitions on a drive\nthe swift ring needs to be consulted. If a storage node stores\nmore then 1 ring, and an instance would be defined for each.\n\nYou give swift a bunch of disks. These disks are placed in what\nswift calls the 'devices' location. That is a directory where a\nmount point for each mounted swift drive is located.\n\nFinally, you can decide on the granularity, which defaults to\n`server` if not defined. Only 2 metrics are created from this\ncheck:\n\n  swift_handoffs.handoffs\n  swift_handoffs.primary\n\nBut with the hostname dimension a ring dimension will also be set.\nAllowing the graphing of the handoff vs partitions of each ring.\nWhen the granularity is set to device, then an additional\ndimension to the metric is added, the device name (the name of\nthe devices mount point). This allows the graphing and monitoring\nof each device in a server if a finer granularity is required.\n\nBecause we need to consult the Swift ring there is a runtime\nrequirement on the Python Swift module being installed. But\nthis isn't required for the unit tests. Making it a runtime\ndependency means when the check is loaded it'll log an error\nand then exit if it can't import the swift module.\n\nThis is the second of two Swift check plugins I've been working on.\nFor more details see my blog post[1]\n\n[1] - https://oliver.net.au/?p=358\n\nChange-Id: Ie91add9af39f2ab0e5b575390c0c6355563c0bfc\n""}, {'number': 2, 'created': '2018-07-24 06:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/b2402056975a039f42aab4611fffc4709857d3cb', 'message': ""Add swift_handoffs check plugin to monasca\n\nA powerful metric to watch for a swift cluster is the\nnumber of handoff partitions on a drive on a storage node.\n\nA build up of handoff nodes on a particular server could\nindicate a disk problem somewhere in the cluster. A bottleneck\nsomewhere. Or better, when would be a good time to rebalance\nthe ring (as you'd want to do it when existing backend data\nmovement is at a minimum.\n\nSo it turns out to be a great visualisation of the health of\na cluster.\n\nThat's what this check plugin does. Each instance check takes\nthe following values:\n\n  ring: <path to a Swift ring file>\n  devices: <path to the directory of mountpoints>\n  granularity: <either server or device>\n\nTo be able to determine primary vs handoff partitions on a drive\nthe swift ring needs to be consulted. If a storage node stores\nmore then 1 ring, and an instance would be defined for each.\n\nYou give swift a bunch of disks. These disks are placed in what\nswift calls the 'devices' location. That is a directory where a\nmount point for each mounted swift drive is located.\n\nFinally, you can decide on the granularity, which defaults to\n`server` if not defined. Only 2 metrics are created from this\ncheck:\n\n  swift_handoffs.handoffs\n  swift_handoffs.primary\n\nBut with the hostname dimension a ring dimension will also be set.\nAllowing the graphing of the handoff vs partitions of each ring.\nWhen the granularity is set to device, then an additional\ndimension to the metric is added, the device name (the name of\nthe devices mount point). This allows the graphing and monitoring\nof each device in a server if a finer granularity is required.\n\nBecause we need to consult the Swift ring there is a runtime\nrequirement on the Python Swift module being installed. But\nthis isn't required for the unit tests. Making it a runtime\ndependency means when the check is loaded it'll log an error\nand then exit if it can't import the swift module.\n\nThis is the second of two Swift check plugins I've been working on.\nFor more details see my blog post[1]\n\nThe handoff/primary scanning code and idea for these metrics is\ntaken from a gist provided by Clay Gerrard from SwiftStack. So thanks\nClay for sharing the code.\n\n[1] - https://oliver.net.au/?p=358\n\nChange-Id: Ie91add9af39f2ab0e5b575390c0c6355563c0bfc\n""}, {'number': 3, 'created': '2018-08-21 03:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/8f9860c96ee208de02785cce1cc21f507dc24fc8', 'message': ""Add swift_handoffs check plugin to monasca\n\nA powerful metric to watch for a swift cluster is the\nnumber of handoff partitions on a drive on a storage node.\n\nA build up of handoff nodes on a particular server could\nindicate a disk problem somewhere in the cluster. A bottleneck\nsomewhere. Or better, when would be a good time to rebalance\nthe ring (as you'd want to do it when existing backend data\nmovement is at a minimum.\n\nSo it turns out to be a great visualisation of the health of\na cluster.\n\nThat's what this check plugin does. Each instance check takes\nthe following values:\n\n  ring: <path to a Swift ring file>\n  devices: <path to the directory of mountpoints>\n  granularity: <either server or device>\n\nTo be able to determine primary vs handoff partitions on a drive\nthe swift ring needs to be consulted. If a storage node stores\nmore then 1 ring, and an instance would be defined for each.\n\nYou give swift a bunch of disks. These disks are placed in what\nswift calls the 'devices' location. That is a directory where a\nmount point for each mounted swift drive is located.\n\nFinally, you can decide on the granularity, which defaults to\n`server` if not defined. Only 2 metrics are created from this\ncheck:\n\n  swift.partitions.primary_count\n  swift.partitions.handoff_count\n\nBut with the hostname dimension a ring dimension will also be set.\nAllowing the graphing of the handoff vs partitions of each ring.\nWhen the granularity is set to device, then an additional\ndimension to the metric is added, the device name (the name of\nthe devices mount point). This allows the graphing and monitoring\nof each device in a server if a finer granularity is required.\n\nBecause we need to consult the Swift ring there is a runtime\nrequirement on the Python Swift module being installed. But\nthis isn't required for the unit tests. Making it a runtime\ndependency means when the check is loaded it'll log an error\nand then exit if it can't import the swift module.\n\nThis is the second of two Swift check plugins I've been working on.\nFor more details see my blog post[1]\n\n[1] - https://oliver.net.au/?p=358\n\nChange-Id: Ie91add9af39f2ab0e5b575390c0c6355563c0bfc\n""}, {'number': 4, 'created': '2019-04-03 09:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/b58eaa9f83571e2379e906c7c40e7434a2242d72', 'message': ""Add swift_handoffs check plugin to monasca\n\nA powerful metric to watch for a swift cluster is the\nnumber of handoff partitions on a drive on a storage node.\n\nA build up of handoff nodes on a particular server could\nindicate a disk problem somewhere in the cluster. A bottleneck\nsomewhere. Or better, when would be a good time to rebalance\nthe ring (as you'd want to do it when existing backend data\nmovement is at a minimum.\n\nSo it turns out to be a great visualisation of the health of\na cluster.\n\nThat's what this check plugin does. Each instance check takes\nthe following values:\n\n  ring: <path to a Swift ring file>\n  devices: <path to the directory of mountpoints>\n  granularity: <either server or device>\n\nTo be able to determine primary vs handoff partitions on a drive\nthe swift ring needs to be consulted. If a storage node stores\nmore then 1 ring, and an instance would be defined for each.\n\nYou give swift a bunch of disks. These disks are placed in what\nswift calls the 'devices' location. That is a directory where a\nmount point for each mounted swift drive is located.\n\nFinally, you can decide on the granularity, which defaults to\n`server` if not defined. Only 2 metrics are created from this\ncheck:\n\n  swift.partitions.primary_count\n  swift.partitions.handoff_count\n\nBut with the hostname dimension a ring dimension will also be set.\nAllowing the graphing of the handoff vs partitions of each ring.\nWhen the granularity is set to device, then an additional\ndimension to the metric is added, the device name (the name of\nthe devices mount point). This allows the graphing and monitoring\nof each device in a server if a finer granularity is required.\n\nBecause we need to consult the Swift ring there is a runtime\nrequirement on the Python Swift module being installed. But\nthis isn't required for the unit tests. Making it a runtime\ndependency means when the check is loaded it'll log an error\nand then exit if it can't import the swift module.\n\nThis is the second of two Swift check plugins I've been working on.\nFor more details see my blog post[1]\n\n[1] - https://oliver.net.au/?p=358\n\nChange-Id: Ie91add9af39f2ab0e5b575390c0c6355563c0bfc\n""}, {'number': 5, 'created': '2019-10-09 04:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/8e723532170235f364d12126543ab2ba526c221e', 'message': ""Add swift_handoffs check plugin to monasca\n\nA powerful metric to watch for a swift cluster is the\nnumber of handoff partitions on a drive on a storage node.\n\nA build up of handoff nodes on a particular server could\nindicate a disk problem somewhere in the cluster. A bottleneck\nsomewhere. Or better, when would be a good time to rebalance\nthe ring (as you'd want to do it when existing backend data\nmovement is at a minimum.\n\nSo it turns out to be a great visualisation of the health of\na cluster.\n\nThat's what this check plugin does. Each instance check takes\nthe following values:\n\n  ring: <path to a Swift ring file>\n  devices: <path to the directory of mountpoints>\n  granularity: <either server or device>\n\nTo be able to determine primary vs handoff partitions on a drive\nthe swift ring needs to be consulted. If a storage node stores\nmore then 1 ring, and an instance would be defined for each.\n\nYou give swift a bunch of disks. These disks are placed in what\nswift calls the 'devices' location. That is a directory where a\nmount point for each mounted swift drive is located.\n\nFinally, you can decide on the granularity, which defaults to\n`server` if not defined. Only 2 metrics are created from this\ncheck:\n\n  swift.partitions.primary_count\n  swift.partitions.handoff_count\n\nBut with the hostname dimension a ring dimension will also be set.\nAllowing the graphing of the handoff vs partitions of each ring.\nWhen the granularity is set to device, then an additional\ndimension to the metric is added, the device name (the name of\nthe devices mount point). This allows the graphing and monitoring\nof each device in a server if a finer granularity is required.\n\nBecause we need to consult the Swift ring there is a runtime\nrequirement on the Python Swift module being installed. But\nthis isn't required for the unit tests. Making it a runtime\ndependency means when the check is loaded it'll log an error\nand then exit if it can't import the swift module.\n\nThis is the second of two Swift check plugins I've been working on.\nFor more details see my blog post[1]\n\n[1] - https://oliver.net.au/?p=358\n\nChange-Id: Ie91add9af39f2ab0e5b575390c0c6355563c0bfc\n""}, {'number': 6, 'created': '2019-10-18 15:16:38.000000000', 'files': ['monasca_agent/collector/checks_d/swift_handoffs.py', 'conf.d/swift_handoffs.yaml.example', 'docs/Plugins.md', 'setup.cfg', 'tests/checks_d/test_swift_handoffs.py'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/833e5946fe3ceb221414c96fbd7bb743c202d720', 'message': ""Add swift_handoffs check plugin to monasca\n\nA powerful metric to watch for a swift cluster is the\nnumber of handoff partitions on a drive on a storage node.\n\nA build up of handoff nodes on a particular server could\nindicate a disk problem somewhere in the cluster. A bottleneck\nsomewhere. Or better, when would be a good time to rebalance\nthe ring (as you'd want to do it when existing backend data\nmovement is at a minimum.\n\nSo it turns out to be a great visualisation of the health of\na cluster.\n\nThat's what this check plugin does. Each instance check takes\nthe following values:\n\n  ring: <path to a Swift ring file>\n  devices: <path to the directory of mountpoints>\n  granularity: <either server or device>\n\nTo be able to determine primary vs handoff partitions on a drive\nthe swift ring needs to be consulted. If a storage node stores\nmore then 1 ring, and an instance would be defined for each.\n\nYou give swift a bunch of disks. These disks are placed in what\nswift calls the 'devices' location. That is a directory where a\nmount point for each mounted swift drive is located.\n\nFinally, you can decide on the granularity, which defaults to\n`server` if not defined. Only 2 metrics are created from this\ncheck:\n\n  swift.partitions.primary_count\n  swift.partitions.handoff_count\n\nBut with the hostname dimension a ring dimension will also be set.\nAllowing the graphing of the handoff vs partitions of each ring.\nWhen the granularity is set to device, then an additional\ndimension to the metric is added, the device name (the name of\nthe devices mount point). This allows the graphing and monitoring\nof each device in a server if a finer granularity is required.\n\nBecause we need to consult the Swift ring there is a runtime\nrequirement on the Python Swift module being installed. But\nthis isn't required for the unit tests. Making it a runtime\ndependency means when the check is loaded it'll log an error\nand then exit if it can't import the swift module.\n\nThis is the second of two Swift check plugins I've been working on.\nFor more details see my blog post[1]\n\n[1] - https://oliver.net.au/?p=358\n\nChange-Id: Ie91add9af39f2ab0e5b575390c0c6355563c0bfc\n""}]",15,585067,833e5946fe3ceb221414c96fbd7bb743c202d720,25,4,6,7233,,,0,"Add swift_handoffs check plugin to monasca

A powerful metric to watch for a swift cluster is the
number of handoff partitions on a drive on a storage node.

A build up of handoff nodes on a particular server could
indicate a disk problem somewhere in the cluster. A bottleneck
somewhere. Or better, when would be a good time to rebalance
the ring (as you'd want to do it when existing backend data
movement is at a minimum.

So it turns out to be a great visualisation of the health of
a cluster.

That's what this check plugin does. Each instance check takes
the following values:

  ring: <path to a Swift ring file>
  devices: <path to the directory of mountpoints>
  granularity: <either server or device>

To be able to determine primary vs handoff partitions on a drive
the swift ring needs to be consulted. If a storage node stores
more then 1 ring, and an instance would be defined for each.

You give swift a bunch of disks. These disks are placed in what
swift calls the 'devices' location. That is a directory where a
mount point for each mounted swift drive is located.

Finally, you can decide on the granularity, which defaults to
`server` if not defined. Only 2 metrics are created from this
check:

  swift.partitions.primary_count
  swift.partitions.handoff_count

But with the hostname dimension a ring dimension will also be set.
Allowing the graphing of the handoff vs partitions of each ring.
When the granularity is set to device, then an additional
dimension to the metric is added, the device name (the name of
the devices mount point). This allows the graphing and monitoring
of each device in a server if a finer granularity is required.

Because we need to consult the Swift ring there is a runtime
requirement on the Python Swift module being installed. But
this isn't required for the unit tests. Making it a runtime
dependency means when the check is loaded it'll log an error
and then exit if it can't import the swift module.

This is the second of two Swift check plugins I've been working on.
For more details see my blog post[1]

[1] - https://oliver.net.au/?p=358

Change-Id: Ie91add9af39f2ab0e5b575390c0c6355563c0bfc
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/67/585067/1 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_agent/collector/checks_d/swift_handoffs.py', 'conf.d/swift_handoffs.yaml.example', 'tests/checks_d/test_swift_handoffs.py']",3,8356db74c29289da75c48489f0cc6eff9b50a6a0,swift_handoffs,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock import unittest from collections import defaultdict from tempfile import mkdtemp import shutil import os from array import array from monasca_agent.collector.checks_d import swift_handoffs class FakeLogger(object): def __init__(self): self.log = {'error': [], 'warning': []} def _write_msg(self, msg, key): self.log[key].append(msg) def error(self, msg): self._write_msg(msg, 'error') def warning(self, msg): self._write_msg(msg, 'warning') def get_loglines(self, key): return self.log[key] class MockSwiftHandoffs(swift_handoffs.SwiftHandoffs): def __init__(self): swift_handoffs.swift_loaded = True super(MockSwiftHandoffs, self).__init__( name='swift_handoffs', init_config={}, instances=[], agent_config={} ) self.log = FakeLogger() self.reset_gauge() def gauge(self, key, value, dimensions, *args, **kwargs): self.gauge_called = True self.gauge_calls[key].append(value) for k, v in dimensions.items(): self.dimensions[k].add(v) def reset_gauge(self): self.gauge_called = False self.gauge_calls = defaultdict(list) self.dimensions = defaultdict(set) class MockRing(object): def __init__(self, *args): self.devs = [ {u'device': u'sdb1', u'id': 0, u'ip': u'127.0.0.1', u'meta': u'', u'port': 6010, u'region': 1, u'replication_ip': u'127.0.0.1', u'replication_port': 6010, u'weight': 1.0, u'zone': 1}, {u'device': u'sdb2', u'id': 1, u'ip': u'127.0.0.1', u'meta': u'', u'port': 6010, u'region': 1, u'replication_ip': u'127.0.0.1', u'replication_port': 6010, u'weight': 1.0, u'zone': 1}, {u'device': u'sdb3', u'id': 2, u'ip': u'127.0.0.2', u'meta': u'', u'port': 6010, u'region': 1, u'replication_ip': u'127.0.0.2', u'replication_port': 6010, u'weight': 1.0, u'zone': 1}, {u'device': u'sdb4', u'id': 3, u'ip': u'127.0.0.2', u'meta': u'', u'port': 6010, u'region': 1, u'replication_ip': u'127.0.0.2', u'replication_port': 6010, u'weight': 1.0, u'zone': 1}] self._replica2part2dev_id = [ array('H', [3, 0, 2, 1, 2, 3, 0, 1, 3, 3, 0, 1, 2, 1, 0, 2]), array('H', [0, 2, 1, 3, 1, 0, 2, 3, 0, 0, 2, 3, 1, 3, 2, 1]), array('H', [2, 1, 3, 0, 3, 2, 1, 0, 2, 2, 1, 0, 3, 0, 1, 3])] class SwiftHandoffsTest(unittest.TestCase): def setUp(self): super(SwiftHandoffsTest, self).setUp() self.swift_handoffs = MockSwiftHandoffs() self.tmpdir = mkdtemp() self.datadir = os.path.join(self.tmpdir, 'datadir') self.ring = os.path.join(self.tmpdir, 'object.ring.gz') os.mkdir(self.datadir) os.mknod(self.ring) self.expected_dev2part = { u'sdb1': {0, 1, 3, 5, 6, 7, 8, 9, 10, 11, 13, 14}, u'sdb2': {1, 2, 3, 4, 6, 7, 10, 11, 12, 13, 14, 15}, u'sdb3': {0, 1, 2, 4, 5, 6, 8, 9, 10, 12, 14, 15}, u'sdb4': {0, 2, 3, 4, 5, 7, 8, 9, 11, 12, 13, 15}} self.expected_handoffs = { u'sdb1': {2, 4, 12, 15}, u'sdb2': {0, 5, 8, 9}, u'sdb3': {3, 7, 11, 13}, u'sdb4': {1, 6, 10, 14}} def tearDown(self): shutil.rmtree(self.tmpdir, ignore_errors=True) @mock.patch('monasca_agent.collector.checks_d.swift_handoffs.Ring', MockRing) def test_get_ring_and_datadir(self): def do_test(path, expected_ringname, expected_datadir): _ring, name, datadir = swift_handoffs.get_ring_and_datadir(path) self.assertEqual(name, expected_ringname) self.assertEqual(datadir, expected_datadir) for prefix in ('/etc/swift/{}', './{}', 'some/other/loc/{}'): test_cases = ( (prefix.format('object.ring.gz'), 'object', 'objects'), (prefix.format('object-1.ring.gz'), 'object-1', 'objects-1'), (prefix.format('object-2.ring.gz'), 'object-2', 'objects-2'), (prefix.format('object-50.ring.gz'), 'object-50', 'objects-50'), (prefix.format('container.ring.gz'), 'container', 'containers'), (prefix.format('account.ring.gz'), 'account', 'accounts')) for path, ex_ringname, ex_datadir in test_cases: do_test(path, ex_ringname, ex_datadir) def test_check_missing_options(self): # missing device (path to devices mount point), and default doesn't # exist instance = {'ring': self.ring} with mock.patch('os.path.exists', return_value=False): self.swift_handoffs.check(instance) self.assertIn('devices must exist or be a directory', self.swift_handoffs.log.get_loglines('error')) self.swift_handoffs.log = FakeLogger() # a device that isn't a dir instance = {'ring': self.ring, 'devices': '{}/random'.format(self.datadir)} with mock.patch('os.path.exists', return_value=True), \ mock.patch('os.path.isdir', return_value=False): self.swift_handoffs.check(instance) self.assertIn('devices must exist or be a directory', self.swift_handoffs.log.get_loglines('error')) self.swift_handoffs.log = FakeLogger() # missing ring instance = {'devices': self.datadir} self.swift_handoffs.check(instance) self.assertIn('ring must exist', self.swift_handoffs.log.get_loglines('error')) self.swift_handoffs.log = FakeLogger() instance = {'devices': self.datadir, 'ring': self.ring} with mock.patch('os.path.isfile', return_value=False): self.swift_handoffs.check(instance) self.assertIn('ring must exist', self.swift_handoffs.log.get_loglines('error')) self.swift_handoffs.log = FakeLogger() # granularity defaults to server. If specified it only allows either # server or drive. Anything else will be an error. instance = {'devices': self.datadir, 'ring': self.ring, 'granularity': 'something else'} self.swift_handoffs.check(instance) self.assertIn(""granularity must be either 'server' or 'drive'"", self.swift_handoffs.log.get_loglines('error')) def setup_partitions(self, devices): for dev in devices: for part in devices[dev]: path = os.path.join(self.datadir, dev, 'objects', str(part)) os.makedirs(path) @mock.patch('monasca_agent.collector.checks_d.swift_handoffs.Ring', MockRing) def test_all_paritions_in_correct_place(self): self.setup_partitions(self.expected_dev2part) instances = {'devices': self.datadir, 'ring': self.ring, 'granularity': 'device'} self.swift_handoffs.check(instances) self.assertTrue(self.swift_handoffs.gauge_called) for metric in ('swift_handoffs.primary', 'swift_handoffs.handoffs'): # metric was called self.assertIn(metric, self.swift_handoffs.gauge_calls) # Each metric was called once per device, so 4 times. self.assertEqual(len(self.swift_handoffs.gauge_calls[metric]), 4) self.assertListEqual( self.swift_handoffs.gauge_calls['swift_handoffs.primary'], [12, 12, 12, 12]) self.assertListEqual( self.swift_handoffs.gauge_calls['swift_handoffs.handoffs'], [0, 0, 0, 0]) # each device should be a device metric self.assertSetEqual(self.swift_handoffs.dimensions['device'], {'sdb3', 'sdb2', 'sdb1', 'sdb4'}) @mock.patch('monasca_agent.collector.checks_d.swift_handoffs.Ring', MockRing) def test_all_paritions_and_all_handoffs(self): for device in self.expected_dev2part: self.expected_dev2part[device].update( self.expected_handoffs[device]) self.setup_partitions(self.expected_dev2part) instances = {'devices': self.datadir, 'ring': self.ring, 'granularity': 'device'} self.swift_handoffs.check(instances) self.assertTrue(self.swift_handoffs.gauge_called) for metric in ('swift_handoffs.primary', 'swift_handoffs.handoffs'): # metric was called self.assertIn(metric, self.swift_handoffs.gauge_calls) # Each metric was called once per device, so 4 times. self.assertEqual(len(self.swift_handoffs.gauge_calls[metric]), 4) # all primaries were on each drive self.assertListEqual( self.swift_handoffs.gauge_calls['swift_handoffs.primary'], [12, 12, 12, 12]) # so were 4 handoffs self.assertListEqual( self.swift_handoffs.gauge_calls['swift_handoffs.handoffs'], [4, 4, 4, 4]) # each device should be a device metric self.assertSetEqual(self.swift_handoffs.dimensions['device'], {'sdb3', 'sdb2', 'sdb1', 'sdb4'}) @mock.patch('monasca_agent.collector.checks_d.swift_handoffs.Ring', MockRing) def test_some_paritions_in_correct_no_handoffs(self): # Are parition will only be created on a drive if an object in that # partition has a been PUT into the cluster. So a partition missing # on a drive isn't bad (though in a realy cluster weird) but isn't # a failure. # let's remove a bunch of partitions from each cluster. for drive in self.expected_dev2part: self.expected_dev2part[drive].difference_update( list(self.expected_dev2part[drive])[:5]) self.setup_partitions(self.expected_dev2part) instances = {'devices': self.datadir, 'ring': self.ring, 'granularity': 'device'} self.swift_handoffs.check(instances) self.assertTrue(self.swift_handoffs.gauge_called) for metric in ('swift_handoffs.primary', 'swift_handoffs.handoffs'): # metric was called self.assertIn(metric, self.swift_handoffs.gauge_calls) # Each metric was called once per device, so 4 times. self.assertEqual(len(self.swift_handoffs.gauge_calls[metric]), 4) self.assertListEqual( self.swift_handoffs.gauge_calls['swift_handoffs.primary'], [7, 7, 7, 7]) self.assertListEqual( self.swift_handoffs.gauge_calls['swift_handoffs.handoffs'], [0, 0, 0, 0]) # each device should be a device metric self.assertSetEqual(self.swift_handoffs.dimensions['device'], {'sdb3', 'sdb2', 'sdb1', 'sdb4'}) @mock.patch('monasca_agent.collector.checks_d.swift_handoffs.Ring', MockRing) def test_some_paritions_and_some_handoffs_less_devices(self): # Are parition will only be created on a drive if an object in that # partition has a been PUT into the cluster. So a partition missing # on a drive isn't bad (though in a realy cluster weird) but isn't # a failure. # let's remove a bunch of partitions from each cluster and 2 of the # devices for drive in 'sdb1', 'sdb4': self.expected_dev2part.pop(drive) for drive in self.expected_dev2part: self.expected_dev2part[drive].difference_update( list(self.expected_dev2part[drive])[:5]) self.expected_dev2part[drive].update( list(self.expected_handoffs[drive])[:1]) self.setup_partitions(self.expected_dev2part) instances = {'devices': self.datadir, 'ring': self.ring, 'granularity': 'device'} self.swift_handoffs.check(instances) self.assertTrue(self.swift_handoffs.gauge_called) for metric in ('swift_handoffs.primary', 'swift_handoffs.handoffs'): # metric was called self.assertIn(metric, self.swift_handoffs.gauge_calls) # Each metric was called once per device, so 4 times. self.assertEqual(len(self.swift_handoffs.gauge_calls[metric]), 2) self.assertListEqual( self.swift_handoffs.gauge_calls['swift_handoffs.primary'], [7, 7]) self.assertListEqual( self.swift_handoffs.gauge_calls['swift_handoffs.handoffs'], [1, 1]) # each device should be a device metric self.assertSetEqual(self.swift_handoffs.dimensions['device'], {'sdb3', 'sdb2'}) ",,458,0
openstack%2Fsenlin-tempest-plugin~master~I8b96ee793eee8a8802cd9bd3993714768df27cb7,openstack/senlin-tempest-plugin,master,I8b96ee793eee8a8802cd9bd3993714768df27cb7,Replace Chinese punctuation with English punctuation,MERGED,2019-08-23 02:55:33.000000000,2019-10-22 11:39:03.000000000,2019-10-22 11:39:03.000000000,"[{'_account_id': 5689}, {'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 27224}, {'_account_id': 27565}]","[{'number': 1, 'created': '2019-08-23 02:55:33.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/4c573a4f0778ebc8eed431cafc5053b1690e20bf', 'message': 'Replace Chinese punctuation with English punctuation\n\nCurly quotes(Chinese punctuation) usually input from Chinese input method.\nWhen read from english context, it makes some confusion.\n\nChange-Id: I8b96ee793eee8a8802cd9bd3993714768df27cb7\n'}]",0,678127,4c573a4f0778ebc8eed431cafc5053b1690e20bf,9,5,1,27565,,,0,"Replace Chinese punctuation with English punctuation

Curly quotes(Chinese punctuation) usually input from Chinese input method.
When read from english context, it makes some confusion.

Change-Id: I8b96ee793eee8a8802cd9bd3993714768df27cb7
",git fetch https://review.opendev.org/openstack/senlin-tempest-plugin refs/changes/27/678127/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4c573a4f0778ebc8eed431cafc5053b1690e20bf,,# H106 Don't put vim configuration in source files,# H106 Dont put vim configuration in source files,1,1
openstack%2Fmonasca-persister~master~I21fa71d8471fcce5994439dc4558d3b54077f7d2,openstack/monasca-persister,master,I21fa71d8471fcce5994439dc4558d3b54077f7d2,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-10-09 08:36:22.000000000,2019-10-22 11:22:08.000000000,2019-10-22 11:20:59.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 08:36:22.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/71e4101187d5a4b5239396ac605afc40c51cfbfc', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I21fa71d8471fcce5994439dc4558d3b54077f7d2\n'}]",0,687489,71e4101187d5a4b5239396ac605afc40c51cfbfc,7,2,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I21fa71d8471fcce5994439dc4558d3b54077f7d2
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/89/687489/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,71e4101187d5a4b5239396ac605afc40c51cfbfc,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fmonasca-persister~master~I56c61bfda9fa68c6068ec008f81a8d04f28b2bbb,openstack/monasca-persister,master,I56c61bfda9fa68c6068ec008f81a8d04f28b2bbb,Bump the openstackdocstheme extension to 1.20,MERGED,2019-10-11 08:59:04.000000000,2019-10-22 11:19:11.000000000,2019-10-22 11:17:59.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-11 08:59:04.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/3b6e17c0b61a9a5b43e990bcc245b836878fd6ce', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I56c61bfda9fa68c6068ec008f81a8d04f28b2bbb\n'}]",0,688080,3b6e17c0b61a9a5b43e990bcc245b836878fd6ce,7,2,1,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I56c61bfda9fa68c6068ec008f81a8d04f28b2bbb
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/80/688080/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'releasenotes/source/conf.py']",3,3b6e17c0b61a9a5b43e990bcc245b836878fd6ce,openstackdocstheme,,"project = u'Monitoring Persister Release Notes'# If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. html_last_updated_fmt = '%Y-%m-%d %H:%M' latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",2,18
openstack%2Fkolla-ansible~master~I92599e501506fdacaf3adb94cc6fffcf6fea2af3,openstack/kolla-ansible,master,I92599e501506fdacaf3adb94cc6fffcf6fea2af3,Update documentation on overriding config files,MERGED,2019-09-10 16:41:40.000000000,2019-10-22 11:18:36.000000000,2019-10-22 11:16:21.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-10 16:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ccd09da21cff0df9a15e21dbaf4521c65e306023', 'message': 'Update configuration on overriding config files\n\nThe main motivation here is to document a mechanism which can be\nused to configure Nova cells on a per-cell basis without introducing\na myriad of additional locations to put config files. The\nfollowing changes are made:\n\n- Remove the note about only ini files being supported because\n  merge_yaml is now used\n- Expand on supported config file locations\n- Add a section on using conditionals in the config file\n\nPartially Implements: blueprint support-nova-cells\nChange-Id: I92599e501506fdacaf3adb94cc6fffcf6fea2af3\n'}, {'number': 2, 'created': '2019-09-16 09:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b4ef27569b4e4ebd0035de582567a83c9777f33c', 'message': 'Update configuration on overriding config files\n\nThe main motivation here is to document a mechanism which can be\nused to configure Nova cells on a per-cell basis without introducing\na myriad of additional locations to put config files. The\nfollowing changes are made:\n\n- Remove the note about only ini files being supported because\n  merge_yaml is now used\n- Expand on supported config file locations\n- Add a section on using conditionals in the config file\n\nPartially Implements: blueprint support-nova-cells\nChange-Id: I92599e501506fdacaf3adb94cc6fffcf6fea2af3\n'}, {'number': 3, 'created': '2019-09-16 09:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/145af5a6f5f26547669994d16759734ff44797fb', 'message': 'Update configuration on overriding config files\n\nThe main motivation here is to document a mechanism which can be\nused to configure Nova cells on a per-cell basis without introducing\na myriad of additional locations to put config files. The\nfollowing changes are made:\n\n- Remove the note about only ini files being supported because\n  merge_yaml is now used\n- Expand on supported config file locations\n- Add a section on using conditionals in the config file\n\nPartially Implements: blueprint support-nova-cells\nChange-Id: I92599e501506fdacaf3adb94cc6fffcf6fea2af3\n'}, {'number': 4, 'created': '2019-09-17 17:08:56.000000000', 'files': ['doc/source/admin/advanced-configuration.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/98bed6c2bf17f72648c895882949966b5847296c', 'message': 'Update documentation on overriding config files\n\nThe main motivation here is to document a mechanism which can be\nused to configure Nova cells on a per-cell basis without introducing\na myriad of additional locations to put config files. The\nfollowing changes are made:\n\n- Remove the note about only ini files being supported because\n  merge_yaml is now used\n- Expand on supported config file locations\n- Add a section on using conditionals in the config file\n\nPartially Implements: blueprint support-nova-cells\nChange-Id: I92599e501506fdacaf3adb94cc6fffcf6fea2af3\n'}]",8,681301,98bed6c2bf17f72648c895882949966b5847296c,19,6,4,17669,,,0,"Update documentation on overriding config files

The main motivation here is to document a mechanism which can be
used to configure Nova cells on a per-cell basis without introducing
a myriad of additional locations to put config files. The
following changes are made:

- Remove the note about only ini files being supported because
  merge_yaml is now used
- Expand on supported config file locations
- Add a section on using conditionals in the config file

Partially Implements: blueprint support-nova-cells
Change-Id: I92599e501506fdacaf3adb94cc6fffcf6fea2af3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/01/681301/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/advanced-configuration.rst'],1,ccd09da21cff0df9a15e21dbaf4521c65e306023,bp/support-nova-cells,"generally look for a file in ``/etc/kolla/config/<< config file >>``, ``/etc/kolla/config/<< service name >>/<< config file >>`` or ``/etc/kolla/config/<< service name >>/<< hostname >>/<< config file >>``, but these locations sometimes vary and you should check the config task in the appropriate Ansible role for a full list of supported locations. Using this mechansim overrides can be configured per-project, per-project-service or per-project-service-on-specified-host. For example, to override scheduler_max_attempts in nova scheduler, the operator needs to create ``/etc/kolla/config/nova/nova-scheduler.conf`` with content:Additional flexibility can be introduced by using Jinja conditionals in the config files. For example, you may create Nova cells which are homogeneous with respect to the hypervisor model. In each cell, you may wish to configure the hypervisors differently, for example the following override shows one way of setting the ``bandwidth_poll_interval`` variable as a function of the cell: .. path /etc/kolla/config/nova.conf .. code-block:: ini [DEFAULT] {% if 'cell0001' in group_names %} bandwidth_poll_interval = 100 {% elif 'cell0002' in group_names %} bandwidth_poll_interval = -1 {% else %} bandwidth_poll_interval = 300 {% endif %} ",".. note:: As of now kolla only supports config overrides for ini based configs. look for a file in ``/etc/kolla/config/<< service name >>/<< config file >>``. This can be done per-project, per-service or per-service-on-specified-host. For example to override scheduler_max_attempts in nova scheduler, the operator needs to create ``/etc/kolla/config/nova/nova-scheduler.conf`` with content:",27,8
openstack%2Fkolla~master~I5901890f78e6358fdda4c80fd277726b4bd2c1f4,openstack/kolla,master,I5901890f78e6358fdda4c80fd277726b4bd2c1f4,Switch OPENSTACK_RELEASE to train,MERGED,2019-10-21 12:20:03.000000000,2019-10-22 11:17:49.000000000,2019-10-22 11:16:20.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28743}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-21 12:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/392f1c53a5310daa98e7535579319b4cf19743fd', 'message': 'Switch OPENSTACK_RELEASE to train\n\nThis controls the upper constraints file used in the kolla-toolbox\nimage.\n\nChange-Id: I5901890f78e6358fdda4c80fd277726b4bd2c1f4\n'}, {'number': 2, 'created': '2019-10-21 13:35:38.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/19922c02796e1db4fa65c2aeba2be6b159dbf6f4', 'message': 'Switch OPENSTACK_RELEASE to train\n\nThis controls the upper constraints file used in the kolla-toolbox\nimage.\n\nChange-Id: I5901890f78e6358fdda4c80fd277726b4bd2c1f4\n'}]",0,689729,19922c02796e1db4fa65c2aeba2be6b159dbf6f4,23,6,2,14826,,,0,"Switch OPENSTACK_RELEASE to train

This controls the upper constraints file used in the kolla-toolbox
image.

Change-Id: I5901890f78e6358fdda4c80fd277726b4bd2c1f4
",git fetch https://review.opendev.org/openstack/kolla refs/changes/29/689729/2 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,392f1c53a5310daa98e7535579319b4cf19743fd,kolla-train-release,OPENSTACK_RELEASE = 'train',OPENSTACK_RELEASE = 'master',1,1
openstack%2Fkolla~master~I1902a5039cb9318d7d70387dd2dc142d915fd298,openstack/kolla,master,I1902a5039cb9318d7d70387dd2dc142d915fd298,Switch upper constraints in kolla-toolbox to use releases.o.o,MERGED,2019-10-21 13:35:03.000000000,2019-10-22 11:16:39.000000000,2019-10-22 11:14:59.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 28743}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-21 13:35:03.000000000', 'files': ['docker/kolla-toolbox/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4b6027a50ec79840ab4d33abe0158e448db25677', 'message': 'Switch upper constraints in kolla-toolbox to use releases.o.o\n\nThis ensures we can use just the release name in OPENSTACK_RELEASE,\nrather than the branch name.\n\nTrivialFix\n\nChange-Id: I1902a5039cb9318d7d70387dd2dc142d915fd298\n'}]",0,689744,4b6027a50ec79840ab4d33abe0158e448db25677,17,7,1,14826,,,0,"Switch upper constraints in kolla-toolbox to use releases.o.o

This ensures we can use just the release name in OPENSTACK_RELEASE,
rather than the branch name.

TrivialFix

Change-Id: I1902a5039cb9318d7d70387dd2dc142d915fd298
",git fetch https://review.opendev.org/openstack/kolla refs/changes/44/689744/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/kolla-toolbox/Dockerfile.j2'],1,4b6027a50ec79840ab4d33abe0158e448db25677,kolla-train-release, && curl -sSL -o /requirements/upper-constraints.txt https://releases.openstack.org/constraints/upper/{{ openstack_release }} \, && curl -sSL -o /requirements/upper-constraints.txt https://opendev.org/openstack/requirements/raw/branch/{{openstack_release}}/upper-constraints.txt \,1,1
openstack%2Fnetworking-calico~master~I698f932d2d944053d04e6404d719c83734e41139,openstack/networking-calico,master,I698f932d2d944053d04e6404d719c83734e41139,Run CI against OpenStack stable/rocky (voting) and master (non-voting),MERGED,2019-10-21 17:01:55.000000000,2019-10-22 11:13:34.000000000,2019-10-22 11:13:34.000000000,"[{'_account_id': 13734}, {'_account_id': 19461}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 17:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/14d2a969300d99e81f74e86b64f8f0e84b8edc67', 'message': 'Try running CI against stable/queens OpenStack\n\nChange-Id: I698f932d2d944053d04e6404d719c83734e41139\n'}, {'number': 2, 'created': '2019-10-21 18:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/13870186188108a293d390d0094683b2da2087ca', 'message': 'Try running CI against stable/queens OpenStack\n\nChange-Id: I698f932d2d944053d04e6404d719c83734e41139\n'}, {'number': 3, 'created': '2019-10-21 19:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/e1c1bd1db2fc0d025b5d33f7386515b94a15238c', 'message': 'Try running CI against stable/rocky OpenStack\n\nChange-Id: I698f932d2d944053d04e6404d719c83734e41139\n'}, {'number': 4, 'created': '2019-10-21 21:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/24e250aa9d7cf6d159b0e0ee885dc9a4fa4bc081', 'message': 'Run CI against OpenStack stable/rocky (voting) and master (non-voting)\n\nChange-Id: I698f932d2d944053d04e6404d719c83734e41139\n'}, {'number': 5, 'created': '2019-10-21 22:18:01.000000000', 'files': ['.zuul.yaml', 'playbooks/legacy/tempest-dsvm-networking-calico/run.yaml'], 'web_link': 'https://opendev.org/openstack/networking-calico/commit/6a7caabdd3871e2f09ec6c89d0d45920b6520da0', 'message': ""Run CI against OpenStack stable/rocky (voting) and master (non-voting)\n\nThis change works around the current problem of networking-calico\nbeing incompatible with OpenStack master CI (because of [1]), so that\nwe can get other useful changes into networking-calico.  It changes\nthe master devstack CI run to be non-voting, and adds a voting\ndevstack run against OpenStack Rocky.  I've chosen Rocky because\n\n- it was the earliest release where the devstack code supports running\non Bionic, and the OpenStack CI VMs are all now Bionic\n\n- networking-calico's tempest testing passes with Rocky.\n\nBut it's possible that we'd be OK with Stein as well.\n\n(Train has just been released, and I'm pretty sure the latest breakage\n[1] was introduced before that release, so I expect that we would not\nbe OK testing against Train.)\n\n[1] I believe the problem in master is an incorrect assumption in\npython-openstackclient, that the Neutron plugin provides the 'routes'\nextension.  In fact that extension is optional and the Calico Neutron\nplugin does not provide it.  I've posted\nhttps://review.opendev.org/#/c/685312/ to correct that assumption.\n\nChange-Id: I698f932d2d944053d04e6404d719c83734e41139\n""}]",0,689845,6a7caabdd3871e2f09ec6c89d0d45920b6520da0,18,3,5,13734,,,0,"Run CI against OpenStack stable/rocky (voting) and master (non-voting)

This change works around the current problem of networking-calico
being incompatible with OpenStack master CI (because of [1]), so that
we can get other useful changes into networking-calico.  It changes
the master devstack CI run to be non-voting, and adds a voting
devstack run against OpenStack Rocky.  I've chosen Rocky because

- it was the earliest release where the devstack code supports running
on Bionic, and the OpenStack CI VMs are all now Bionic

- networking-calico's tempest testing passes with Rocky.

But it's possible that we'd be OK with Stein as well.

(Train has just been released, and I'm pretty sure the latest breakage
[1] was introduced before that release, so I expect that we would not
be OK testing against Train.)

[1] I believe the problem in master is an incorrect assumption in
python-openstackclient, that the Neutron plugin provides the 'routes'
extension.  In fact that extension is optional and the Calico Neutron
plugin does not provide it.  I've posted
https://review.opendev.org/#/c/685312/ to correct that assumption.

Change-Id: I698f932d2d944053d04e6404d719c83734e41139
",git fetch https://review.opendev.org/openstack/networking-calico refs/changes/45/689845/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/tempest-dsvm-networking-calico/run.yaml'],1,14d2a969300d99e81f74e86b64f8f0e84b8edc67,run-ci-against-queens, export BRANCH_OVERRIDE=stable/queens, export BRANCH_OVERRIDE=default,1,1
openstack%2Fpython-blazarclient~master~If7bb34575b5dae5896503b8e134bb5721cff21f3,openstack/python-blazarclient,master,If7bb34575b5dae5896503b8e134bb5721cff21f3,Switch to Ussuri jobs,MERGED,2019-10-22 05:43:13.000000000,2019-10-22 11:12:03.000000000,2019-10-22 11:12:03.000000000,"[{'_account_id': 13192}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 05:43:13.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-blazarclient/commit/69e7d6a1476d0c05052ac1b0df2c15e51070546d', 'message': 'Switch to Ussuri jobs\n\nChange-Id: If7bb34575b5dae5896503b8e134bb5721cff21f3\n'}]",0,689936,69e7d6a1476d0c05052ac1b0df2c15e51070546d,7,3,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: If7bb34575b5dae5896503b8e134bb5721cff21f3
",git fetch https://review.opendev.org/openstack/python-blazarclient refs/changes/36/689936/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,69e7d6a1476d0c05052ac1b0df2c15e51070546d,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fsenlin-tempest-plugin~master~Iee5f537677098e1db0e42b86c21833472bdea9de,openstack/senlin-tempest-plugin,master,Iee5f537677098e1db0e42b86c21833472bdea9de,update http link to https,MERGED,2019-08-26 09:40:27.000000000,2019-10-22 11:00:35.000000000,2019-10-22 11:00:34.000000000,"[{'_account_id': 5689}, {'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 27224}]","[{'number': 1, 'created': '2019-08-26 09:40:27.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/79c2f7a148b515f5e5b01ca791415fb58f445dd0', 'message': 'update http link to https\n\nChange-Id: Iee5f537677098e1db0e42b86c21833472bdea9de\n'}]",0,678506,79c2f7a148b515f5e5b01ca791415fb58f445dd0,8,4,1,30814,,,0,"update http link to https

Change-Id: Iee5f537677098e1db0e42b86c21833472bdea9de
",git fetch https://review.opendev.org/openstack/senlin-tempest-plugin refs/changes/06/678506/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,79c2f7a148b515f5e5b01ca791415fb58f445dd0,,* Source: https://opendev.org/openstack/senlin-tempest-plugin,* Source: http://opendev.org/openstack/senlin-tempest-plugin,1,1
openstack%2Fpuppet-tripleo~stable%2Fqueens~If6b19ad05e0f91425f93a1c123947e92cf2ba949,openstack/puppet-tripleo,stable/queens,If6b19ad05e0f91425f93a1c123947e92cf2ba949,Allow the IHA OCF and fencing resource to be moved to the nova service user,MERGED,2019-10-21 09:35:14.000000000,2019-10-22 10:55:50.000000000,2019-10-22 10:55:50.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-21 09:35:14.000000000', 'files': ['manifests/profile/base/pacemaker/instance_ha.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0f27a41b7bf053a4ee55e0de2615fb7d6a053d61', 'message': 'Allow the IHA OCF and fencing resource to be moved to the nova service user\n\nCurrently both nova evacuate and fence compute in the Instance HA\nsetup of tripleo user the keystone admin user in order to query nova,\nevacuate instances, disable/enable the nova-compute service and\ncall the nova force-down API.\n\nWith this patch we introduce the keystone_tenant parameter which is\nneeded when moving to the nova service user as it is different than\nkeystone_admin in that case.\n\nTested as follows:\n1. Deployed a normal unpatched OSP13 with IHA\n2. Run a redeploy with the following addition:\nparameter_defaults:\n  ExtraConfig:\n    tripleo::profile::base::pacemaker::instance_ha::keystone_password: ""%{hiera(\'nova::keystone::authtoken::password\')}""\n    tripleo::profile::base::pacemaker::instance_ha::keystone_admin: \'nova\'\n    tripleo::profile::base::pacemaker::instance_ha::keystone_tenant: \'service\'\n3. Observe the following:\n3.1. Both the fence_compute and nova evacuate resources have updated attributes\n3.2. IHA still works correctly\n\nCloses-Bug: #1848451\n\nChange-Id: If6b19ad05e0f91425f93a1c123947e92cf2ba949\n(cherry picked from commit 066a360ee5d966be027130d85d6ab6296dd0d3e5)\n(cherry picked from commit 4e785257bd77c7f5ef3e091f30c55b76c2fbc7bb)\n'}]",0,689702,0f27a41b7bf053a4ee55e0de2615fb7d6a053d61,17,4,1,20172,,,0,"Allow the IHA OCF and fencing resource to be moved to the nova service user

Currently both nova evacuate and fence compute in the Instance HA
setup of tripleo user the keystone admin user in order to query nova,
evacuate instances, disable/enable the nova-compute service and
call the nova force-down API.

With this patch we introduce the keystone_tenant parameter which is
needed when moving to the nova service user as it is different than
keystone_admin in that case.

Tested as follows:
1. Deployed a normal unpatched OSP13 with IHA
2. Run a redeploy with the following addition:
parameter_defaults:
  ExtraConfig:
    tripleo::profile::base::pacemaker::instance_ha::keystone_password: ""%{hiera('nova::keystone::authtoken::password')}""
    tripleo::profile::base::pacemaker::instance_ha::keystone_admin: 'nova'
    tripleo::profile::base::pacemaker::instance_ha::keystone_tenant: 'service'
3. Observe the following:
3.1. Both the fence_compute and nova evacuate resources have updated attributes
3.2. IHA still works correctly

Closes-Bug: #1848451

Change-Id: If6b19ad05e0f91425f93a1c123947e92cf2ba949
(cherry picked from commit 066a360ee5d966be027130d85d6ab6296dd0d3e5)
(cherry picked from commit 4e785257bd77c7f5ef3e091f30c55b76c2fbc7bb)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/02/689702/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker/instance_ha.pp'],1,0f27a41b7bf053a4ee55e0de2615fb7d6a053d61,iha_queens,"# [*keystone_tenant*] # The keystone tenant # Defaults to hiera('keystone::roles::admin::admin_tenant', 'admin') ## [*deep_compare_fencing*] # (Optional) Boolean, should fence_compute be deep compared in order to # update the existing fencing resource when puppet is being rerun # Defaults to hiera('tripleo::fencing', true) # # [*deep_compare_ocf*] # (Optional) Boolean, should the IHA ocf resource nova evacuate be deep # compared in order to update the resource when puppet is being rerun # Defaults to hiera('pacemaker::resource::ocf::deep_compare', true) # $keystone_tenant = hiera('keystone::roles::admin::admin_tenant', 'admin'), $deep_compare_fencing = hiera('tripleo::fencing', true), $deep_compare_ocf = hiera('pacemaker::resource::ocf::deep_compare', true), deep_compare => $deep_compare_fencing, deep_compare => $deep_compare_ocf, resource_params => ""auth_url=${keystone_endpoint_url} username=${keystone_admin} password=${keystone_password} user_domain=${user_domain} project_domain=${project_domain} tenant_name=${keystone_tenant} ${iha_no_shared_storage}${evacuate_param}"", deep_compare => $deep_compare_ocf,"," resource_params => ""auth_url=${keystone_endpoint_url} username=${keystone_admin} password=${keystone_password} user_domain=${user_domain} project_domain=${project_domain} tenant_name=${keystone_admin} ${iha_no_shared_storage}${evacuate_param}"",",21,1
openstack%2Fblazar-nova~master~Id87d0ff6abd33fae66cc12912a5b9009cb343362,openstack/blazar-nova,master,Id87d0ff6abd33fae66cc12912a5b9009cb343362,Switch to Ussuri jobs,MERGED,2019-10-22 02:46:18.000000000,2019-10-22 10:52:38.000000000,2019-10-22 10:52:38.000000000,"[{'_account_id': 13192}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 02:46:18.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/blazar-nova/commit/4856c7209f5e227828073b2da1fd07c44137b373', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Id87d0ff6abd33fae66cc12912a5b9009cb343362\n'}]",0,689900,4856c7209f5e227828073b2da1fd07c44137b373,7,3,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: Id87d0ff6abd33fae66cc12912a5b9009cb343362
",git fetch https://review.opendev.org/openstack/blazar-nova refs/changes/00/689900/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4856c7209f5e227828073b2da1fd07c44137b373,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fpython-monascaclient~master~Ia888ea1358c4132f7f154ab616b93247f8051d31,openstack/python-monascaclient,master,Ia888ea1358c4132f7f154ab616b93247f8051d31,Sync Sphinx requirement,MERGED,2019-10-10 06:50:58.000000000,2019-10-22 10:45:01.000000000,2019-10-22 10:43:05.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 06:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/f0efb7d480945dc5d4f3b2788ac734661f255882', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Ia888ea1358c4132f7f154ab616b93247f8051d31\n'}, {'number': 2, 'created': '2019-10-10 07:22:02.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/50e38ad677751bcaac7d9b6d0494a913cf8f0373', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Ia888ea1358c4132f7f154ab616b93247f8051d31\n'}]",0,687796,50e38ad677751bcaac7d9b6d0494a913cf8f0373,9,2,2,27822,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ia888ea1358c4132f7f154ab616b93247f8051d31
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/96/687796/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f0efb7d480945dc5d4f3b2788ac734661f255882,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.5 # BSD",2,1
openstack%2Fpython-cloudkittyclient~master~I40dbc3c66164725bc4a8af4d0bf9ab481a7d72e7,openstack/python-cloudkittyclient,master,I40dbc3c66164725bc4a8af4d0bf9ab481a7d72e7,Switch to Ussuri jobs,MERGED,2019-10-22 05:46:02.000000000,2019-10-22 10:43:12.000000000,2019-10-22 10:39:42.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}]","[{'number': 1, 'created': '2019-10-22 05:46:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/be0a9861d02697b5894638e1c4c8c0c2f32ab8f4', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I40dbc3c66164725bc4a8af4d0bf9ab481a7d72e7\n'}]",0,689938,be0a9861d02697b5894638e1c4c8c0c2f32ab8f4,7,2,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: I40dbc3c66164725bc4a8af4d0bf9ab481a7d72e7
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/38/689938/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,be0a9861d02697b5894638e1c4c8c0c2f32ab8f4,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fmonasca-notification~master~Ia8c60dfacd03a3e1aa983ae8ea9ca2eeb452a463,openstack/monasca-notification,master,Ia8c60dfacd03a3e1aa983ae8ea9ca2eeb452a463,Bump the openstackdocstheme extension to 1.20,MERGED,2019-10-11 08:57:14.000000000,2019-10-22 10:43:10.000000000,2019-10-22 10:41:15.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-11 08:57:14.000000000', 'files': ['doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/f92e2100fcab2bb85571efef0984e8ef1266a207', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Ia8c60dfacd03a3e1aa983ae8ea9ca2eeb452a463\n'}]",0,688079,f92e2100fcab2bb85571efef0984e8ef1266a207,7,2,1,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: Ia8c60dfacd03a3e1aa983ae8ea9ca2eeb452a463
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/79/688079/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'releasenotes/source/conf.py']",2,f92e2100fcab2bb85571efef0984e8ef1266a207,openstackdocstheme,,"project = u'Monasca Notification Engine Release Notes'# If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. html_last_updated_fmt = '%Y-%m-%d %H:%M' latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",1,17
openstack%2Fcloudkitty~master~I81cad128e05a3276ef3f0b3f8580890682158416,openstack/cloudkitty,master,I81cad128e05a3276ef3f0b3f8580890682158416,Switch to Ussuri jobs,MERGED,2019-10-22 02:49:07.000000000,2019-10-22 10:39:13.000000000,2019-10-22 10:36:34.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}]","[{'number': 1, 'created': '2019-10-22 02:49:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/06436aaaf4307da4a03c5c796b90b6dc20e1f800', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I81cad128e05a3276ef3f0b3f8580890682158416\n'}]",0,689901,06436aaaf4307da4a03c5c796b90b6dc20e1f800,7,2,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: I81cad128e05a3276ef3f0b3f8580890682158416
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/01/689901/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,06436aaaf4307da4a03c5c796b90b6dc20e1f800,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fblazar~master~I5866df2a73a46bde1abc429c7f0515f0b7074c54,openstack/blazar,master,I5866df2a73a46bde1abc429c7f0515f0b7074c54,Switch to Ussuri jobs,MERGED,2019-10-21 09:28:41.000000000,2019-10-22 10:38:09.000000000,2019-10-22 10:35:02.000000000,"[{'_account_id': 13192}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 09:28:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/651f52be5998ec7b82c65975c854a562890ae602', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I5866df2a73a46bde1abc429c7f0515f0b7074c54\n'}]",0,689700,651f52be5998ec7b82c65975c854a562890ae602,8,3,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: I5866df2a73a46bde1abc429c7f0515f0b7074c54
",git fetch https://review.opendev.org/openstack/blazar refs/changes/00/689700/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,651f52be5998ec7b82c65975c854a562890ae602,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fopenstack-doc-tools~master~Ie9ac3a7c1e69b82b97f85db9182cccb178c45179,openstack/openstack-doc-tools,master,Ie9ac3a7c1e69b82b97f85db9182cccb178c45179,Switch to ussuri python3 jobs,MERGED,2019-10-16 19:47:28.000000000,2019-10-22 10:32:32.000000000,2019-10-22 10:29:11.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-10-16 19:47:28.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-doc-tools/commit/baa6740dbce226287c02e2f3a26d52eb005e0b8b', 'message': 'Switch to ussuri python3 jobs\n\nTrain is out, we test Ussuri jobs now.\n\nChange-Id: Ie9ac3a7c1e69b82b97f85db9182cccb178c45179\n'}]",0,689023,baa6740dbce226287c02e2f3a26d52eb005e0b8b,10,4,1,6547,,,0,"Switch to ussuri python3 jobs

Train is out, we test Ussuri jobs now.

Change-Id: Ie9ac3a7c1e69b82b97f85db9182cccb178c45179
",git fetch https://review.opendev.org/openstack/openstack-doc-tools refs/changes/23/689023/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,baa6740dbce226287c02e2f3a26d52eb005e0b8b,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fdesignate~master~Iaeae4497e3eb1ebe5888e9646acbf409c5332d9b,openstack/designate,master,Iaeae4497e3eb1ebe5888e9646acbf409c5332d9b,Switch to Ussuri jobs,MERGED,2019-10-22 02:54:38.000000000,2019-10-22 10:30:49.000000000,2019-10-22 10:27:06.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-10-22 02:54:38.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/d8c2718e4fc04633eb192483561ff1bf9294a5f7', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Iaeae4497e3eb1ebe5888e9646acbf409c5332d9b\n'}]",0,689904,d8c2718e4fc04633eb192483561ff1bf9294a5f7,12,4,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: Iaeae4497e3eb1ebe5888e9646acbf409c5332d9b
",git fetch https://review.opendev.org/openstack/designate refs/changes/04/689904/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d8c2718e4fc04633eb192483561ff1bf9294a5f7,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fwhereto~master~Ib984e54b202312dfbeb7c7829c8b22229e15eed5,openstack/whereto,master,Ib984e54b202312dfbeb7c7829c8b22229e15eed5,Switch to Ussuri jobs,MERGED,2019-10-16 19:48:30.000000000,2019-10-22 10:25:07.000000000,2019-10-22 10:22:33.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-10-16 19:48:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/whereto/commit/e7326af1b19cc7b34c569aa05ded2423fa447e7a', 'message': 'Switch to Ussuri jobs\n\nTrain is released, update testing for Ussuri.\n\nChange-Id: Ib984e54b202312dfbeb7c7829c8b22229e15eed5\n'}]",0,689024,e7326af1b19cc7b34c569aa05ded2423fa447e7a,9,4,1,6547,,,0,"Switch to Ussuri jobs

Train is released, update testing for Ussuri.

Change-Id: Ib984e54b202312dfbeb7c7829c8b22229e15eed5
",git fetch https://review.opendev.org/openstack/whereto refs/changes/24/689024/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e7326af1b19cc7b34c569aa05ded2423fa447e7a,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Ftripleo-common~stable%2Ftrain~I6fb51796d6c6b2efa82a0e96fa954f479a1641f2,openstack/tripleo-common,stable/train,I6fb51796d6c6b2efa82a0e96fa954f479a1641f2,Fix py3 issue in get_undercloud_registry(),MERGED,2019-10-22 04:29:07.000000000,2019-10-22 10:22:03.000000000,2019-10-22 10:20:29.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-22 04:29:07.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9408c68f7f8f7057c7217a187567294a3004bad9', 'message': ""Fix py3 issue in get_undercloud_registry()\n\nIn python3 subprocess returns <class 'bytes'> type,\nin python2 this was <type 'str'>. Add universal_newlines\nargument to subprocess.Popen() call to ensure we get a\nstring.\n\nRelated: RHBZ#1762303\nCloses-Bug: #1849140\nChange-Id: I6fb51796d6c6b2efa82a0e96fa954f479a1641f2\n(cherry picked from commit 195ce10a2e49905d89442780d489bece003d3470)\n""}]",0,689928,9408c68f7f8f7057c7217a187567294a3004bad9,9,3,1,24245,,,0,"Fix py3 issue in get_undercloud_registry()

In python3 subprocess returns <class 'bytes'> type,
in python2 this was <type 'str'>. Add universal_newlines
argument to subprocess.Popen() call to ensure we get a
string.

Related: RHBZ#1762303
Closes-Bug: #1849140
Change-Id: I6fb51796d6c6b2efa82a0e96fa954f479a1641f2
(cherry picked from commit 195ce10a2e49905d89442780d489bece003d3470)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/28/689928/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,9408c68f7f8f7057c7217a187567294a3004bad9,bug/1849140-stable/train," process = subprocess.Popen(cmd, stdout=subprocess.PIPE, universal_newlines=True)"," process = subprocess.Popen(cmd, stdout=subprocess.PIPE)",2,1
openstack%2Fneutron~master~I08e4d81e1d311efd08af66a6d304ea6adcc09480,openstack/neutron,master,I08e4d81e1d311efd08af66a6d304ea6adcc09480,Increase timeout for spawning DHCP process,ABANDONED,2019-10-15 12:12:31.000000000,2019-10-22 10:10:23.000000000,,"[{'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-10-15 12:12:31.000000000', 'files': ['neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5435f6c9b1899a5da29d3a8d7bbb15f79764bebe', 'message': 'Increase timeout for spawning DHCP process\n\nIt seems that this function often requires longer than the default\n60 seconds. This mitigates the linked bug, but why is this taking so\nlong, and what could cause it to increase further?\n\nChange-Id: I08e4d81e1d311efd08af66a6d304ea6adcc09480\nPartial-Bug: 1848187\n'}]",5,688693,5435f6c9b1899a5da29d3a8d7bbb15f79764bebe,16,8,1,28048,,,0,"Increase timeout for spawning DHCP process

It seems that this function often requires longer than the default
60 seconds. This mitigates the linked bug, but why is this taking so
long, and what could cause it to increase further?

Change-Id: I08e4d81e1d311efd08af66a6d304ea6adcc09480
Partial-Bug: 1848187
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/688693/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/dhcp.py'],1,5435f6c9b1899a5da29d3a8d7bbb15f79764bebe,," common_utils.wait_until_true(self._enable, timeout=120)", common_utils.wait_until_true(self._enable),1,1
openstack%2Fcloudkitty-dashboard~master~I9c6a1e249c6fc639942e434d9a2781dab6e2b5a3,openstack/cloudkitty-dashboard,master,I9c6a1e249c6fc639942e434d9a2781dab6e2b5a3,Switch to Ussuri jobs,MERGED,2019-10-22 02:50:25.000000000,2019-10-22 10:09:37.000000000,2019-10-22 10:06:36.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-22 02:50:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/fb81743c6b1f80d6766596f8731dd29ae8ba37bd', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I9c6a1e249c6fc639942e434d9a2781dab6e2b5a3\n'}]",0,689902,fb81743c6b1f80d6766596f8731dd29ae8ba37bd,8,3,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: I9c6a1e249c6fc639942e434d9a2781dab6e2b5a3
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/02/689902/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fb81743c6b1f80d6766596f8731dd29ae8ba37bd,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fha-guide~master~Ic1b16e454e957aab11bf8bab320c4509e1abf29f,openstack/ha-guide,master,Ic1b16e454e957aab11bf8bab320c4509e1abf29f,setup.cfg: Cleanup and update some urls to latest,MERGED,2019-10-20 15:08:10.000000000,2019-10-22 09:56:28.000000000,2019-10-22 09:55:21.000000000,"[{'_account_id': 2394}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-10-20 15:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/707c9ce85c5621a6d111b21453ce44cdde5eec9b', 'message': ""setup.cfg: Cleanup\n\n- pbr hasn't need the hook configuration since forever [1]\n- The 'wheel' group is renamed to 'bdist_wheel' [2]\n- Update url to latest\n\n[1] https://github.com/openstack/pbr/commit/c84876dc0f559a66fec19b2f81f5717204b253e2\n[2] https://github.com/pypa/wheel/commit/f7c9878712390414c03c64e9afa55ea4f30e965b\n\nChange-Id: Ic1b16e454e957aab11bf8bab320c4509e1abf29f\n""}, {'number': 2, 'created': '2019-10-20 15:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/6a02fa89a7dd68623127a9109b2bbda552a9fa1d', 'message': ""setup.cfg: Cleanup\n\n- pbr hasn't need the hook configuration since forever [1]\n- The 'wheel' group is renamed to 'bdist_wheel' [2]\n- Update url to latest\n\n[1] https://github.com/openstack/pbr/commit/c84876dc0f559a66fec19b2f81f5717204b253e2\n[2] https://github.com/pypa/wheel/commit/f7c9878712390414c03c64e9afa55ea4f30e965b\n\nChange-Id: Ic1b16e454e957aab11bf8bab320c4509e1abf29f\n""}, {'number': 3, 'created': '2019-10-22 03:31:05.000000000', 'files': ['doc/source/storage-ha-backend.rst', 'README.rst', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/ha-guide/commit/cd21310d1e23cb32f5fb0f0adca4172d7cee0ec8', 'message': ""setup.cfg: Cleanup and update some urls to latest\n\n- pbr hasn't need the hook configuration since forever [1]\n- The 'wheel' group is renamed to 'bdist_wheel' [2]\n- Update the urls to latest\n\n[1] https://opendev.org/openstack/pbr/commit/c84876dc0f559a66fec19b2f81f5717204b253e2\n[2] https://github.com/pypa/wheel/commit/f7c9878712390414c03c64e9afa55ea4f30e965b\n\nChange-Id: Ic1b16e454e957aab11bf8bab320c4509e1abf29f\n""}]",0,689648,cd21310d1e23cb32f5fb0f0adca4172d7cee0ec8,14,4,3,22165,,,0,"setup.cfg: Cleanup and update some urls to latest

- pbr hasn't need the hook configuration since forever [1]
- The 'wheel' group is renamed to 'bdist_wheel' [2]
- Update the urls to latest

[1] https://opendev.org/openstack/pbr/commit/c84876dc0f559a66fec19b2f81f5717204b253e2
[2] https://github.com/pypa/wheel/commit/f7c9878712390414c03c64e9afa55ea4f30e965b

Change-Id: Ic1b16e454e957aab11bf8bab320c4509e1abf29f
",git fetch https://review.opendev.org/openstack/ha-guide refs/changes/48/689648/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'setup.cfg']",2,707c9ce85c5621a6d111b21453ce44cdde5eec9b,,[bdist_wheel],[global] setup-hooks = pbr.hooks.setup_hook [wheel],2,6
openstack%2Fironic~stable%2Frocky~I5e026754ed5aa6fb0ffaff086cda0bfa0aca2211,openstack/ironic,stable/rocky,I5e026754ed5aa6fb0ffaff086cda0bfa0aca2211,devstack: wait for conductor to start and register itself,ABANDONED,2019-09-23 09:09:56.000000000,2019-10-22 09:46:00.000000000,,"[{'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-09-23 09:09:56.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/365cd4cc588957b8e710e4edf362f43f0a93a738', 'message': 'devstack: wait for conductor to start and register itself\n\nChange-Id: I5e026754ed5aa6fb0ffaff086cda0bfa0aca2211\n(cherry picked from commit 3f3508f0d02eef0487cd898744213ab240e45dee)\n'}]",0,683901,365cd4cc588957b8e710e4edf362f43f0a93a738,18,5,1,10239,,,0,"devstack: wait for conductor to start and register itself

Change-Id: I5e026754ed5aa6fb0ffaff086cda0bfa0aca2211
(cherry picked from commit 3f3508f0d02eef0487cd898744213ab240e45dee)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/01/683901/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,365cd4cc588957b8e710e4edf362f43f0a93a738,gate-stable/rocky," # Wait up to 30 seconds for ironic-conductor to start and register itself local attempt local max_attempts=7 for attempt in $(seq 1 $max_attempts); do if openstack baremetal driver list | grep -q $IRONIC_DEPLOY_DRIVER; then break fi if [ $attempt -eq $max_attempts ]; then die $LINENO ""Driver $IRONIC_DEPLOY_DRIVER did not appear in the driver list"" fi echo ""Still waiting for ironic-conductor to start, current state:"" openstack baremetal driver list sleep 5 done", # TODO(romcheg): Find a way to check whether the conductor has started.,17,1
openstack%2Fironic~stable%2Fstein~I5e026754ed5aa6fb0ffaff086cda0bfa0aca2211,openstack/ironic,stable/stein,I5e026754ed5aa6fb0ffaff086cda0bfa0aca2211,devstack: wait for conductor to start and register itself,ABANDONED,2019-09-23 09:09:33.000000000,2019-10-22 09:45:55.000000000,,"[{'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-09-23 09:09:33.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8a65b65afe8551a6c9aaa79ef5e1f4d7bb724698', 'message': 'devstack: wait for conductor to start and register itself\n\nChange-Id: I5e026754ed5aa6fb0ffaff086cda0bfa0aca2211\n(cherry picked from commit 3f3508f0d02eef0487cd898744213ab240e45dee)\n'}]",0,683900,8a65b65afe8551a6c9aaa79ef5e1f4d7bb724698,18,5,1,10239,,,0,"devstack: wait for conductor to start and register itself

Change-Id: I5e026754ed5aa6fb0ffaff086cda0bfa0aca2211
(cherry picked from commit 3f3508f0d02eef0487cd898744213ab240e45dee)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/00/683900/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,8a65b65afe8551a6c9aaa79ef5e1f4d7bb724698,gate-stable/stein," # Wait up to 30 seconds for ironic-conductor to start and register itself local attempt local max_attempts=7 for attempt in $(seq 1 $max_attempts); do if openstack baremetal driver list | grep -q $IRONIC_DEPLOY_DRIVER; then break fi if [ $attempt -eq $max_attempts ]; then die $LINENO ""Driver $IRONIC_DEPLOY_DRIVER did not appear in the driver list"" fi echo ""Still waiting for ironic-conductor to start, current state:"" openstack baremetal driver list sleep 5 done", # TODO(romcheg): Find a way to check whether the conductor has started.,17,1
openstack%2Fmonasca-ui~master~Ibe6e1a965179022873630e61529a3318ece7e66b,openstack/monasca-ui,master,Ibe6e1a965179022873630e61529a3318ece7e66b,Use Horizon project template for django jobs,MERGED,2019-10-09 16:46:48.000000000,2019-10-22 09:43:43.000000000,2019-10-22 09:43:43.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-09 16:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/89e8bfbd8ead626c092061a07240f030eb3dc517', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: Ibe6e1a965179022873630e61529a3318ece7e66b\n""}, {'number': 2, 'created': '2019-10-17 11:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/a86efc5bda617e5a77e393f9dd3bfaf99eb3ecb5', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1].\n\nThis patch also fixes test settings and Django 2.2 support.\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: Ibe6e1a965179022873630e61529a3318ece7e66b\n""}, {'number': 3, 'created': '2019-10-21 07:18:51.000000000', 'files': ['monitoring/test/settings.py', '.zuul.yaml', 'tox.ini', 'monitoring/alarmdefs/forms.py'], 'web_link': 'https://opendev.org/openstack/monasca-ui/commit/a3b46a1ab03f69ebf9a4cb31fffaea09954340a4', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs [1]. This patch use that template to run django jobs\nhere and also fixes the failed test cases for django2.2 support\nby adding renederer argument[2] and fix setting.py.\n\n[1] https://review.opendev.org/#/c/681969/\n\n[2] https://docs.djangoproject.com/en/2.1/releases/2.1/#features-removed-in-2-1\nChange-Id: Ibe6e1a965179022873630e61529a3318ece7e66b\n""}]",2,687621,a3b46a1ab03f69ebf9a4cb31fffaea09954340a4,19,6,3,29313,,,0,"Use Horizon project template for django jobs

Horizon defined a project template 'horizon-non-primary-django-jobs'
for django jobs [1]. This patch use that template to run django jobs
here and also fixes the failed test cases for django2.2 support
by adding renederer argument[2] and fix setting.py.

[1] https://review.opendev.org/#/c/681969/

[2] https://docs.djangoproject.com/en/2.1/releases/2.1/#features-removed-in-2-1
Change-Id: Ibe6e1a965179022873630e61529a3318ece7e66b
",git fetch https://review.opendev.org/openstack/monasca-ui refs/changes/21/687621/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,89e8bfbd8ead626c092061a07240f030eb3dc517,django22,"envlist = py27,py37,py3-{dj111,dj22},pep8 dj111: pip install django>=1.11,<2 dj22: pip install django>=2.2,<2.3","envlist = py27,py37,pep8",4,1
openstack%2Fpython-monascaclient~master~I7c38bbe089608ce3b7ddd1b43e1bd8db69fe5e1c,openstack/python-monascaclient,master,I7c38bbe089608ce3b7ddd1b43e1bd8db69fe5e1c,Switch to Ussuri jobs,MERGED,2019-10-22 06:18:19.000000000,2019-10-22 09:43:00.000000000,2019-10-22 09:40:04.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 06:18:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-monascaclient/commit/118611756f2950115b391fab938d459ce95aff54', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I7c38bbe089608ce3b7ddd1b43e1bd8db69fe5e1c\n'}]",0,689966,118611756f2950115b391fab938d459ce95aff54,7,2,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: I7c38bbe089608ce3b7ddd1b43e1bd8db69fe5e1c
",git fetch https://review.opendev.org/openstack/python-monascaclient refs/changes/66/689966/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,118611756f2950115b391fab938d459ce95aff54,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fmonasca-notification~master~Ie7a3bd3074c02430c754deaebfde6d174563b31e,openstack/monasca-notification,master,Ie7a3bd3074c02430c754deaebfde6d174563b31e,Fix the IPv6 address and port parsing,MERGED,2019-07-30 08:33:13.000000000,2019-10-22 09:41:47.000000000,2019-10-22 09:41:47.000000000,"[{'_account_id': 6908}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-30 08:33:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/d88aedc2e62f2bd3c422e412143568f356610e46', 'message': 'Fix the IPv6 address and port parsing\n\nThere can be lot of possibility for IPv6 address with port,\nfor example [::1]:80 or [2001:db8:85a3::8a2e:370]:7334.\n\nParsing that in more standard way is provided by oslo_uilts.netutils\nparse_host_port() method[1].\n\nStory: #2006309\nTask: #36030\n\n[1] https://github.com/openstack/oslo.utils/blob/1b8bafb391b82665b99b3da8205402ec2cd495d1/oslo_utils/netutils.py#L37\n\nChange-Id: Ie7a3bd3074c02430c754deaebfde6d174563b31e\n'}, {'number': 2, 'created': '2019-08-01 03:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/c3c315f686c3fd3d27d8e6d1c01f522f8df5fc51', 'message': 'Fix the IPv6 address and port parsing\n\nThere can be lot of possibility for IPv6 address with port,\nfor example [::1]:80 or [2001:db8:85a3::8a2e:370]:7334.\n\nParsing that in more standard way is provided by oslo_uilts.netutils\nparse_host_port() method[1].\n\nStory: #2006309\nTask: #36030\n\n[1] https://github.com/openstack/oslo.utils/blob/1b8bafb391b82665b99b3da8205402ec2cd495d1/oslo_utils/netutils.py#L37\n\nChange-Id: Ie7a3bd3074c02430c754deaebfde6d174563b31e\n'}, {'number': 3, 'created': '2019-08-18 13:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/f380b9e9f026e77cb1080d801526835619f5ceee', 'message': 'Fix the IPv6 address and port parsing\n\nThere can be lot of possibility for IPv6 address with port,\nfor example [::1]:80 or [2001:db8:85a3::8a2e:370]:7334.\n\nParsing that in more standard way is provided by oslo_uilts.netutils\nparse_host_port() method[1].\n\nStory: #2006309\nTask: #36030\n\n[1] https://github.com/openstack/oslo.utils/blob/1b8bafb391b82665b99b3da8205402ec2cd495d1/oslo_utils/netutils.py#L37\n\nChange-Id: Ie7a3bd3074c02430c754deaebfde6d174563b31e\n'}, {'number': 4, 'created': '2019-10-18 12:00:43.000000000', 'files': ['monasca_notification/conf/types.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/484073ee9c89e0e7da43321d7d5845a8e803b91e', 'message': 'Fix the IPv6 address and port parsing\n\nThere can be lot of possibility for IPv6 address with port,\nfor example [::1]:80 or [2001:db8:85a3::8a2e:370]:7334.\n\nParsing that in more standard way is provided by oslo_uilts.netutils\nparse_host_port() method[1].\n\nStory: #2006309\nTask: #36030\n\n[1] https://github.com/openstack/oslo.utils/blob/1b8bafb391b82665b99b3da8205402ec2cd495d1/oslo_utils/netutils.py#L37\n\nChange-Id: Ie7a3bd3074c02430c754deaebfde6d174563b31e\n'}]",0,673449,484073ee9c89e0e7da43321d7d5845a8e803b91e,17,3,4,8556,,,0,"Fix the IPv6 address and port parsing

There can be lot of possibility for IPv6 address with port,
for example [::1]:80 or [2001:db8:85a3::8a2e:370]:7334.

Parsing that in more standard way is provided by oslo_uilts.netutils
parse_host_port() method[1].

Story: #2006309
Task: #36030

[1] https://github.com/openstack/oslo.utils/blob/1b8bafb391b82665b99b3da8205402ec2cd495d1/oslo_utils/netutils.py#L37

Change-Id: Ie7a3bd3074c02430c754deaebfde6d174563b31e
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/49/673449/4 && git format-patch -1 --stdout FETCH_HEAD,['monasca_notification/conf/types.py'],1,d88aedc2e62f2bd3c422e412143568f356610e46,ipv6-only-deployment-and-testing,"from oslo_utils import netutils addr, port = netutils.parse_host_port(value) LOG.debug('addr: %s port: ' % (addr, port))"," addr, port = value.split(':')",3,1
openstack%2Fironic~master~I40d357e716b589585493824cfd963fd5f579bd81,openstack/ironic,master,I40d357e716b589585493824cfd963fd5f579bd81,Change MTU logic to allow for lower MTUs automatically,MERGED,2019-09-22 00:18:18.000000000,2019-10-22 09:36:42.000000000,2019-10-18 02:35:07.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-09-22 00:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1bc449c23f346d07b4babb87b56e095f191fba31', 'message': 'WIP: Make MTU decision smarter\n\nChange-Id: I40d357e716b589585493824cfd963fd5f579bd81\n'}, {'number': 2, 'created': '2019-10-11 17:08:15.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/ironic/commit/cf074202e50426365c761326c8d2ccfcce4ad916', 'message': 'Change MTU logic to allow for lower MTUs automatically\n\nChange-Id: I40d357e716b589585493824cfd963fd5f579bd81\n'}]",4,683798,cf074202e50426365c761326c8d2ccfcce4ad916,18,8,2,11655,,,0,"Change MTU logic to allow for lower MTUs automatically

Change-Id: I40d357e716b589585493824cfd963fd5f579bd81
",git fetch https://review.opendev.org/openstack/ironic refs/changes/98/683798/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'devstack/settings']",2,1bc449c23f346d07b4babb87b56e095f191fba31,683798,"# NOTE(TheJulia): 50 additional bytes of overhead come into # the OpenStack CI where the VM MTU that neutron discovers # and uses on networks automatically is actually lower in # cases where GRE tunnels are used for conenctivity, effectively # limiting the MTU to 1350 bytes. Linux drops these packets on # vtap interfaces, which means we run into not fun issues. # Thus, lets reduce the MTU by 100. PUBLIC_BRIDGE_MTU=${OVERRIDE_PUBLIC_BRIDGE_MTU:-$((local_mtu - 100))}",PUBLIC_BRIDGE_MTU=${OVERRIDE_PUBLIC_BRIDGE_MTU:-$((local_mtu - 50))},8,3
openstack%2Fkolla-ansible~master~I26bf45997005124e9166b5bf1d44cb276624430b,openstack/kolla-ansible,master,I26bf45997005124e9166b5bf1d44cb276624430b,[nova][train] Remove deprecated RetryFilter,MERGED,2019-10-18 08:31:02.000000000,2019-10-22 09:25:21.000000000,2019-10-22 09:23:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 28743}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-18 08:31:02.000000000', 'files': ['ansible/roles/nova/templates/nova.conf.j2', 'releasenotes/notes/nova-remove-deprecated-retryfilter-2e1c0667148c3c99.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ebf88232ddd8e9b82aadf47b2c9ad2fd18efe52c', 'message': '[nova][train] Remove deprecated RetryFilter\n\nAffects config with Blazar and fake Nova only.\nThe default does not include it.\n\nUpstream docs:\nRetryFilter - Deprecated since version 20.0.0 (Train)\nSince the 17.0.0 (Queens) release, the scheduler has provided\nalternate hosts for rescheduling so the scheduler does not need to\nbe called during a reschedule which makes the RetryFilter useless.\n\nChange-Id: I26bf45997005124e9166b5bf1d44cb276624430b\n'}]",0,689337,ebf88232ddd8e9b82aadf47b2c9ad2fd18efe52c,16,5,1,30491,,,0,"[nova][train] Remove deprecated RetryFilter

Affects config with Blazar and fake Nova only.
The default does not include it.

Upstream docs:
RetryFilter - Deprecated since version 20.0.0 (Train)
Since the 17.0.0 (Queens) release, the scheduler has provided
alternate hosts for rescheduling so the scheduler does not need to
be called during a reschedule which makes the RetryFilter useless.

Change-Id: I26bf45997005124e9166b5bf1d44cb276624430b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/37/689337/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/templates/nova.conf.j2', 'releasenotes/notes/nova-remove-deprecated-retryfilter-2e1c0667148c3c99.yaml']",2,ebf88232ddd8e9b82aadf47b2c9ad2fd18efe52c,train-nova-deprecate-retryfilter,--- other: - | The upstream-deprecated Nova RetryFilter has been removed from Blazar-enabled and fake Nova config. It has no effect since Queens. ,,8,2
openstack%2Fmetalsmith~master~I25219288f1e98fee25b0daefc4eaf7471f230608,openstack/metalsmith,master,I25219288f1e98fee25b0daefc4eaf7471f230608,Switch to Ussuri job,MERGED,2019-10-21 14:37:54.000000000,2019-10-22 09:17:45.000000000,2019-10-22 04:38:55.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-10-21 14:37:54.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/52b777f98e56b64300e13cbf380b9634a2f21177', 'message': 'Switch to Ussuri job\n\nChange-Id: I25219288f1e98fee25b0daefc4eaf7471f230608\n'}]",0,689796,52b777f98e56b64300e13cbf380b9634a2f21177,9,3,1,15519,,,0,"Switch to Ussuri job

Change-Id: I25219288f1e98fee25b0daefc4eaf7471f230608
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/96/689796/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,52b777f98e56b64300e13cbf380b9634a2f21177,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fcharm-specs~master~I8aba7b63275f7b08acbb64f78caf1446f46fdbed,openstack/charm-specs,master,I8aba7b63275f7b08acbb64f78caf1446f46fdbed,Remove openstack-dashboard (horizon) from charms list,MERGED,2019-10-08 14:21:33.000000000,2019-10-22 09:08:54.000000000,2019-10-22 09:07:53.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-08 14:21:33.000000000', 'files': ['specs/train/approved/policy-d-override.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/c03c26072218b69c56b6044bbcd67e79f09c30d5', 'message': ""Remove openstack-dashboard (horizon) from charms list\n\nThe openstack-dashboard has a really different approach to dealing with\npolicy files that actually needs to have a separate approach.  Thus,\nit's not appropriate to have it in this cycle.\n\nChange-Id: I8aba7b63275f7b08acbb64f78caf1446f46fdbed\n""}]",0,687313,c03c26072218b69c56b6044bbcd67e79f09c30d5,7,2,1,20870,,,0,"Remove openstack-dashboard (horizon) from charms list

The openstack-dashboard has a really different approach to dealing with
policy files that actually needs to have a separate approach.  Thus,
it's not appropriate to have it in this cycle.

Change-Id: I8aba7b63275f7b08acbb64f78caf1446f46fdbed
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/13/687313/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/policy-d-override.rst'],1,c03c26072218b69c56b6044bbcd67e79f09c30d5,policy-overrides,,- openstack-dashboard (horizon)- `openstack-dashboard (horizon) charm <https://opendev.org/openstack/charm-openstack-dashboard>`_,0,2
openstack%2Freviewstats~master~I75ad6cb86221f424d4a65e84329b147ed2b0aada,openstack/reviewstats,master,I75ad6cb86221f424d4a65e84329b147ed2b0aada,Drop pypy default tox env,MERGED,2019-04-26 14:02:43.000000000,2019-10-22 08:56:51.000000000,2019-10-22 08:55:27.000000000,"[{'_account_id': 1736}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-04-26 14:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/6f7128fe59911595a860caed8fdd6e78181fabb1', 'message': 'Drop pypy default tox env\n\nChange-Id: I75ad6cb86221f424d4a65e84329b147ed2b0aada\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-08-01 15:03:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/003e743379cef971301346f67df4034fbcddc847', 'message': 'Drop pypy default tox env\n\nChange-Id: I75ad6cb86221f424d4a65e84329b147ed2b0aada\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,655912,003e743379cef971301346f67df4034fbcddc847,13,5,2,11904,,,0,"Drop pypy default tox env

Change-Id: I75ad6cb86221f424d4a65e84329b147ed2b0aada
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/reviewstats refs/changes/12/655912/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6f7128fe59911595a860caed8fdd6e78181fabb1,upstream,"envlist = py27,py35,pep8","envlist = py27,py35,pypy,pep8",1,1
openstack%2Freviewstats~master~Ia3992dd30f83294a96ace155691e50838cd5543b,openstack/reviewstats,master,Ia3992dd30f83294a96ace155691e50838cd5543b,Load subproject data from governance,MERGED,2019-04-16 15:18:36.000000000,2019-10-22 08:55:51.000000000,2019-10-22 08:54:34.000000000,"[{'_account_id': 1736}, {'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-04-16 15:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/f977fbbf8bcb983420f64a3683dab8792f4280d1', 'message': ""Load subproject data from governance\n\nInstead of manually curating a list of all the subprojects in a\nproject, we should use the governance repo that already includes\nmost, if not all, of this information.\n\nFor the moment, this change just adds the governance data to the\ndata already in the json files. This is because I'm not sure whether\nthere is a 1:1 relationship between what is in governance and what\nis in the json files. It's possible we could eliminate the json files\nentirely at some point, but for the moment this gets us updated\nsubproject lists for essentially free, since it's likely that many\nprojects' json files are missing subprojects added in the past few\nyears.\n\nChange-Id: Ia3992dd30f83294a96ace155691e50838cd5543b\n""}, {'number': 2, 'created': '2019-04-16 19:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/97d907797b605701dc6252092f55398e50debc7e', 'message': ""Load subproject data from governance\n\nInstead of manually curating a list of all the subprojects in a\nproject, we should use the governance repo that already includes\nmost, if not all, of this information.\n\nFor the moment, this change just adds the governance data to the\ndata already in the json files. This is because I'm not sure whether\nthere is a 1:1 relationship between what is in governance and what\nis in the json files. It's possible we could eliminate the json files\nentirely at some point, but for the moment this gets us updated\nsubproject lists for essentially free, since it's likely that many\nprojects' json files are missing subprojects added in the past few\nyears.\n\nChange-Id: Ia3992dd30f83294a96ace155691e50838cd5543b\n""}, {'number': 3, 'created': '2019-04-16 19:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/5fd0a7ae886fd469f2c6ce1797053cb4addb60d7', 'message': ""Load subproject data from governance\n\nInstead of manually curating a list of all the subprojects in a\nproject, we should use the governance repo that already includes\nmost, if not all, of this information.\n\nFor the moment, this change just adds the governance data to the\ndata already in the json files. This is because I'm not sure whether\nthere is a 1:1 relationship between what is in governance and what\nis in the json files. It's possible we could eliminate the json files\nentirely at some point, but for the moment this gets us updated\nsubproject lists for essentially free, since it's likely that many\nprojects' json files are missing subprojects added in the past few\nyears.\n\nChange-Id: Ia3992dd30f83294a96ace155691e50838cd5543b\n""}, {'number': 4, 'created': '2019-04-17 15:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/4fb4a1262502f382a64a1fa83462b6d6047f4f1c', 'message': ""Load subproject data from governance\n\nInstead of manually curating a list of all the subprojects in a\nproject, we should use the governance repo that already includes\nmost, if not all, of this information.\n\nFor the moment, this change just adds the governance data to the\ndata already in the json files. This is because I'm not sure whether\nthere is a 1:1 relationship between what is in governance and what\nis in the json files. It's possible we could eliminate the json files\nentirely at some point, but for the moment this gets us updated\nsubproject lists for essentially free, since it's likely that many\nprojects' json files are missing subprojects added in the past few\nyears.\n\nChange-Id: Ia3992dd30f83294a96ace155691e50838cd5543b\n""}, {'number': 5, 'created': '2019-04-17 15:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/2fadb40ffc856e9ec43c5a971ad8975e7023f2b8', 'message': ""Load subproject data from governance\n\nInstead of manually curating a list of all the subprojects in a\nproject, we should use the governance repo that already includes\nmost, if not all, of this information.\n\nFor the moment, this change just adds the governance data to the\ndata already in the json files. This is because I'm not sure whether\nthere is a 1:1 relationship between what is in governance and what\nis in the json files. It's possible we could eliminate the json files\nentirely at some point, but for the moment this gets us updated\nsubproject lists for essentially free, since it's likely that many\nprojects' json files are missing subprojects added in the past few\nyears.\n\nChange-Id: Ia3992dd30f83294a96ace155691e50838cd5543b\n""}, {'number': 6, 'created': '2019-04-24 17:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/a087d53a02feb2918a25f80b59089de9c13a5c84', 'message': ""Load subproject data from governance\n\nInstead of manually curating a list of all the subprojects in a\nproject, we should use the governance repo that already includes\nmost, if not all, of this information.\n\nFor the moment, this change just adds the governance data to the\ndata already in the json files. This is because I'm not sure whether\nthere is a 1:1 relationship between what is in governance and what\nis in the json files. It's possible we could eliminate the json files\nentirely at some point, but for the moment this gets us updated\nsubproject lists for essentially free, since it's likely that many\nprojects' json files are missing subprojects added in the past few\nyears.\n\nChange-Id: Ia3992dd30f83294a96ace155691e50838cd5543b\n""}, {'number': 7, 'created': '2019-05-17 21:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/97af9e4b591a7140d36fcdcc68b58c3ca4fc2165', 'message': ""Load subproject data from governance\n\nInstead of manually curating a list of all the subprojects in a\nproject, we should use the governance repo that already includes\nmost, if not all, of this information.\n\nFor the moment, this change just adds the governance data to the\ndata already in the json files. This is because I'm not sure whether\nthere is a 1:1 relationship between what is in governance and what\nis in the json files. It's possible we could eliminate the json files\nentirely at some point, but for the moment this gets us updated\nsubproject lists for essentially free, since it's likely that many\nprojects' json files are missing subprojects added in the past few\nyears.\n\nChange-Id: Ia3992dd30f83294a96ace155691e50838cd5543b\n""}, {'number': 8, 'created': '2019-05-17 21:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/930efd9c47fbd040a338d8dde091d51e953f5345', 'message': ""Load subproject data from governance\n\nInstead of manually curating a list of all the subprojects in a\nproject, we should use the governance repo that already includes\nmost, if not all, of this information.\n\nFor the moment, this change just adds the governance data to the\ndata already in the json files. This is because I'm not sure whether\nthere is a 1:1 relationship between what is in governance and what\nis in the json files. It's possible we could eliminate the json files\nentirely at some point, but for the moment this gets us updated\nsubproject lists for essentially free, since it's likely that many\nprojects' json files are missing subprojects added in the past few\nyears.\n\nChange-Id: Ia3992dd30f83294a96ace155691e50838cd5543b\n""}, {'number': 9, 'created': '2019-06-06 14:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/48ee1ed39cc5a3e3e56dbb71a04cd8209eb95606', 'message': ""Load subproject data from governance\n\nInstead of manually curating a list of all the subprojects in a\nproject, we should use the governance repo that already includes\nmost, if not all, of this information.\n\nFor the moment, this change just adds the governance data to the\ndata already in the json files. This is because I'm not sure whether\nthere is a 1:1 relationship between what is in governance and what\nis in the json files. It's possible we could eliminate the json files\nentirely at some point, but for the moment this gets us updated\nsubproject lists for essentially free, since it's likely that many\nprojects' json files are missing subprojects added in the past few\nyears.\n\nChange-Id: Ia3992dd30f83294a96ace155691e50838cd5543b\n""}, {'number': 10, 'created': '2019-06-06 14:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/67178e1f9389df0aded6d1ad46eca720b276d993', 'message': ""Load subproject data from governance\n\nInstead of manually curating a list of all the subprojects in a\nproject, we should use the governance repo that already includes\nmost, if not all, of this information.\n\nFor the moment, this change just adds the governance data to the\ndata already in the json files. This is because I'm not sure whether\nthere is a 1:1 relationship between what is in governance and what\nis in the json files. It's possible we could eliminate the json files\nentirely at some point, but for the moment this gets us updated\nsubproject lists for essentially free, since it's likely that many\nprojects' json files are missing subprojects added in the past few\nyears.\n\nChange-Id: Ia3992dd30f83294a96ace155691e50838cd5543b\n""}, {'number': 11, 'created': '2019-08-01 15:03:30.000000000', 'files': ['reviewstats/utils.py', 'requirements.txt', 'test-requirements.txt', 'reviewstats/tests/test_projectinfo.py'], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/39b1e030470d40a775683937056748f31c025ddf', 'message': ""Load subproject data from governance\n\nInstead of manually curating a list of all the subprojects in a\nproject, we should use the governance repo that already includes\nmost, if not all, of this information.\n\nFor the moment, this change just adds the governance data to the\ndata already in the json files. This is because I'm not sure whether\nthere is a 1:1 relationship between what is in governance and what\nis in the json files. It's possible we could eliminate the json files\nentirely at some point, but for the moment this gets us updated\nsubproject lists for essentially free, since it's likely that many\nprojects' json files are missing subprojects added in the past few\nyears.\n\nChange-Id: Ia3992dd30f83294a96ace155691e50838cd5543b\n""}]",6,653024,39b1e030470d40a775683937056748f31c025ddf,47,7,11,6928,,,0,"Load subproject data from governance

Instead of manually curating a list of all the subprojects in a
project, we should use the governance repo that already includes
most, if not all, of this information.

For the moment, this change just adds the governance data to the
data already in the json files. This is because I'm not sure whether
there is a 1:1 relationship between what is in governance and what
is in the json files. It's possible we could eliminate the json files
entirely at some point, but for the moment this gets us updated
subproject lists for essentially free, since it's likely that many
projects' json files are missing subprojects added in the past few
years.

Change-Id: Ia3992dd30f83294a96ace155691e50838cd5543b
",git fetch https://review.opendev.org/openstack/reviewstats refs/changes/24/653024/1 && git format-patch -1 --stdout FETCH_HEAD,['reviewstats/utils.py'],1,f977fbbf8bcb983420f64a3683dab8792f4280d1,upstream,"import urllib2 import yamlPROJECTS_YAML = 'http://git.openstack.org/cgit/openstack/governance/plain/reference/projects.yaml' # Copied from https://github.com/cybertron/zuul-status/blob/master/app.py def get_remote_data(address, datatype='json'): req = urllib2.Request(address) req.add_header('Accept-encoding', 'gzip') try: remote_data = urllib2.urlopen(req, timeout=10) except Exception as e: msg = 'Failed to retrieve data from %s: %s' % (address, str(e)) raise DataRetrievalFailed(msg) data = """" while True: chunk = remote_data.read() if not chunk: break data += chunk if remote_data.info().get('Content-Encoding') == 'gzip': buf = cStringIO.StringIO(data) f = gzip.GzipFile(fileobj=buf) data = f.read() if datatype == 'json': return json.loads(data) else: return yaml.safe_load(data) # Get base project name project_name = os.path.splitext(os.path.basename(fn))[0] project_data = get_remote_data(PROJECTS_YAML, 'yaml') for name, data in project_data.items(): if name == project_name: for d, d_data in data['deliverables'].items(): projects[-1]['subprojects'] += d_data['repos'] projects[-1]['subprojects'] = sorted(list(set(projects[-1]['subprojects'])))",,40,0
openstack%2Freviewstats~master~I9d8637d50067d6618aa408f4dbd9c736956099ed,openstack/reviewstats,master,I9d8637d50067d6618aa408f4dbd9c736956099ed,Raise hacking version and fix pep8 errors,MERGED,2019-04-26 14:02:43.000000000,2019-10-22 08:54:35.000000000,2019-10-22 08:54:35.000000000,"[{'_account_id': 1736}, {'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-04-26 14:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/fbcce7c0a378819ac0ef689dcb069a0a81b83c39', 'message': 'Raise hacking version and fix pep8 errors\n\nVarious issues hit when switching to using stestr to run tests.\nPresumably from other pulled in dependencies. This raises hacking to a\nversion that fixes a pyflakes issue [0] and addresses other pep8\nviolations that are then identified.\n\n[0] https://github.com/PyCQA/pyflakes/pull/80\n\nChange-Id: I9d8637d50067d6618aa408f4dbd9c736956099ed\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-05-01 17:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/7e8372b23a7cd18e177355af714a423a39a33adf', 'message': 'Raise hacking version and fix pep8 errors\n\nVarious issues hit when switching to using stestr to run tests.\nPresumably from other pulled in dependencies. This raises hacking to a\nversion that fixes a pyflakes issue [0] and addresses other pep8\nviolations that are then identified.\n\n[0] https://github.com/PyCQA/pyflakes/pull/80\n\nChange-Id: I9d8637d50067d6618aa408f4dbd9c736956099ed\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2019-05-01 17:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/940f5df96396487fa3fa90c387dd793c3dd2147c', 'message': 'Raise hacking version and fix pep8 errors\n\nVarious issues hit when switching to using stestr to run tests.\nPresumably from other pulled in dependencies. This raises hacking to a\nversion that fixes a pyflakes issue [0] and addresses other pep8\nviolations that are then identified.\n\n[0] https://github.com/PyCQA/pyflakes/pull/80\n\nChange-Id: I9d8637d50067d6618aa408f4dbd9c736956099ed\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 4, 'created': '2019-06-26 14:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/3864566a9732d558ef3d54475c34ff42f01ddfa0', 'message': 'Raise hacking version and fix pep8 errors\n\nVarious issues hit when switching to using stestr to run tests.\nPresumably from other pulled in dependencies. This raises hacking to a\nversion that fixes a pyflakes issue [0] and addresses other pep8\nviolations that are then identified.\n\n[0] https://github.com/PyCQA/pyflakes/pull/80\n\nChange-Id: I9d8637d50067d6618aa408f4dbd9c736956099ed\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 5, 'created': '2019-08-01 15:03:30.000000000', 'files': ['reviewstats/utils.py', 'test-requirements.txt', 'reviewstats/cmd/reviewers.py', 'reviewstats/cmd/bugstats.py', 'reviewstats/tests/__init__.py', 'reviewstats/cmd/openapproved.py', 'reviewstats/cmd/openreviews.py', 'reviewstats/cmd/reviews_for_bugs.py'], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/58f2b4781413a47b336b61d0913113883d31f3a8', 'message': 'Raise hacking version and fix pep8 errors\n\nVarious issues hit when switching to using stestr to run tests.\nPresumably from other pulled in dependencies. This raises hacking to a\nversion that fixes a pyflakes issue [0] and addresses other pep8\nviolations that are then identified.\n\n[0] https://github.com/PyCQA/pyflakes/pull/80\n\nChange-Id: I9d8637d50067d6618aa408f4dbd9c736956099ed\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",2,655911,58f2b4781413a47b336b61d0913113883d31f3a8,25,6,5,11904,,,0,"Raise hacking version and fix pep8 errors

Various issues hit when switching to using stestr to run tests.
Presumably from other pulled in dependencies. This raises hacking to a
version that fixes a pyflakes issue [0] and addresses other pep8
violations that are then identified.

[0] https://github.com/PyCQA/pyflakes/pull/80

Change-Id: I9d8637d50067d6618aa408f4dbd9c736956099ed
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/reviewstats refs/changes/11/655911/1 && git format-patch -1 --stdout FETCH_HEAD,"['reviewstats/utils.py', 'reviewstats/cmd/reviewers.py', 'test-requirements.txt', 'reviewstats/cmd/bugstats.py', 'reviewstats/tests/__init__.py', 'reviewstats/cmd/openapproved.py', 'reviewstats/cmd/openreviews.py', 'reviewstats/cmd/reviews_for_bugs.py']",8,fbcce7c0a378819ac0ef689dcb069a0a81b83c39,upstream," print(""Please specify a project."") print('Reviews for bugs grouped by milestone for project: %s\n' % ( project_name)) print('Milestone: %s' % milestone) for review, bugid in reviews: print('--> %s -- https://bugs.launchpad.net/%s/+bug/%s' % (review, project_name, bugid)) print()"," print ""Please specify a project."" print 'Reviews for bugs grouped by milestone for project: %s\n' % ( project_name) print 'Milestone: %s' % milestone for review, bugid in reviews: print '--> %s -- https://bugs.launchpad.net/%s/+bug/%s' \ % (review, project_name, bugid) print",32,43
openstack%2Freviewstats~master~I44250d8c65af932e035c7ab6fc08f1135a15ab93,openstack/reviewstats,master,I44250d8c65af932e035c7ab6fc08f1135a15ab93,Switch to stestr,MERGED,2019-04-24 17:22:03.000000000,2019-10-22 08:54:35.000000000,2019-10-22 08:54:35.000000000,"[{'_account_id': 1736}, {'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-04-24 17:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/4cf0b90fadbeb6fa59faa01ef47dfd89e69f1244', 'message': 'Switch to stestr\n\nIt works better and pbr will at some point drop support for running\ntests via setup.py.\n\nChange-Id: I44250d8c65af932e035c7ab6fc08f1135a15ab93\n'}, {'number': 2, 'created': '2019-04-26 14:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/f31ce4a30fbb205810063fa333bf79d5bcaeb75f', 'message': 'Switch to stestr\n\nIt works better and pbr will at some point drop support for running\ntests via setup.py.\n\nChange-Id: I44250d8c65af932e035c7ab6fc08f1135a15ab93\n'}, {'number': 3, 'created': '2019-05-17 21:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/028d5ef40933c0ac487a563adc7ec6ef3eee6fb8', 'message': 'Switch to stestr\n\nIt works better and pbr will at some point drop support for running\ntests via setup.py.\n\nChange-Id: I44250d8c65af932e035c7ab6fc08f1135a15ab93\n'}, {'number': 4, 'created': '2019-05-17 21:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/63a9f4489f55bfbf0a2089657ff03cfa2664f8a6', 'message': 'Switch to stestr\n\nIt works better and pbr will at some point drop support for running\ntests via setup.py.\n\nChange-Id: I44250d8c65af932e035c7ab6fc08f1135a15ab93\n'}, {'number': 5, 'created': '2019-06-06 14:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/f9c7e995ac9cce99d5b91cbb6e9f21799349a561', 'message': 'Switch to stestr\n\nIt works better and pbr will at some point drop support for running\ntests via setup.py.\n\nChange-Id: I44250d8c65af932e035c7ab6fc08f1135a15ab93\n'}, {'number': 6, 'created': '2019-06-06 14:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/c01e973f625f92a72fd7a3be8a5b416ce5cb4c23', 'message': 'Switch to stestr\n\nIt works better and pbr will at some point drop support for running\ntests via setup.py.\n\nChange-Id: I44250d8c65af932e035c7ab6fc08f1135a15ab93\n'}, {'number': 7, 'created': '2019-08-01 15:03:30.000000000', 'files': ['.gitignore', 'test-requirements.txt', '.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/reviewstats/commit/e27bb7efdb514cec290dbf8b62db389de2efb925', 'message': 'Switch to stestr\n\nIt works better and pbr will at some point drop support for running\ntests via setup.py.\n\nChange-Id: I44250d8c65af932e035c7ab6fc08f1135a15ab93\n'}]",0,655506,e27bb7efdb514cec290dbf8b62db389de2efb925,28,6,7,6928,,,0,"Switch to stestr

It works better and pbr will at some point drop support for running
tests via setup.py.

Change-Id: I44250d8c65af932e035c7ab6fc08f1135a15ab93
",git fetch https://review.opendev.org/openstack/reviewstats refs/changes/06/655506/7 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', '.testr.conf', 'tox.ini', '.stestr.conf']",5,4cf0b90fadbeb6fa59faa01ef47dfd89e69f1244,upstream,[DEFAULT] test_path=./reviewstats/tests top_path=./ ,,14,12
openstack%2Frequirements~stable%2Ftrain~I727cdb0d87ecb2f2fbde8ad2f59453f352f1a30f,openstack/requirements,stable/train,I727cdb0d87ecb2f2fbde8ad2f59453f352f1a30f,update constraint for os-refresh-config to new release 10.4.0,MERGED,2019-10-21 14:32:33.000000000,2019-10-22 08:31:06.000000000,2019-10-22 08:31:06.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:32:33.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ceff2a7e2ef439ab63cec80afb059b275d05cfbc', 'message': 'update constraint for os-refresh-config to new release 10.4.0\n\nChange-Id: I727cdb0d87ecb2f2fbde8ad2f59453f352f1a30f\nmeta:version: 10.4.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Emilien Macchi <emilien@redhat.com>\nmeta:release:Commit: Emilien Macchi <emilien@redhat.com>\nmeta:release:Change-Id: I240496b0032577d8dc97837dba7bc43a4f5cc2d3\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Alfredo Moralejo <amoralej@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,689794,ceff2a7e2ef439ab63cec80afb059b275d05cfbc,9,2,1,11131,,,0,"update constraint for os-refresh-config to new release 10.4.0

Change-Id: I727cdb0d87ecb2f2fbde8ad2f59453f352f1a30f
meta:version: 10.4.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Emilien Macchi <emilien@redhat.com>
meta:release:Commit: Emilien Macchi <emilien@redhat.com>
meta:release:Change-Id: I240496b0032577d8dc97837dba7bc43a4f5cc2d3
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Alfredo Moralejo <amoralej@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/94/689794/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ceff2a7e2ef439ab63cec80afb059b275d05cfbc,new-release,os-refresh-config===10.4.0,os-refresh-config===10.3.0,1,1
openstack%2Fcyborg~master~I20ee848aceb52d546c39a5ddacde2552d47fdd06,openstack/cyborg,master,I20ee848aceb52d546c39a5ddacde2552d47fdd06,Fix attach_handle status error when creating vm successfully,MERGED,2019-10-19 09:07:02.000000000,2019-10-22 08:31:05.000000000,2019-10-22 08:29:53.000000000,"[{'_account_id': 14107}, {'_account_id': 14131}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 22899}, {'_account_id': 24872}, {'_account_id': 25738}]","[{'number': 1, 'created': '2019-10-19 09:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a3a1c940e6ce64faef9c80e9fbf18f437c4e66a8', 'message': ""Fix attach_handle status error when creating vm successfully\n\nThis bug was caused by one line:\nsession.flush()\n\nActually this line is not needed.\nhttps://github.com/openstack/cyborg/blob/d8bd76ea8d/cyborg/db/sqlalchemy/api.py#L273\n\nAfter we delete this line, the in-use's value changed to 1(True)\nWhen creating vm successfully.\n\nChange-Id: I20ee848aceb52d546c39a5ddacde2552d47fdd06\nStory: 2006745\n""}, {'number': 2, 'created': '2019-10-21 01:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/9cfb57c88d0bc91f0688b9470c4b1867ff919f23', 'message': ""Fix attach_handle status error when creating vm successfully\n\nBug: attach_handle's in-use status should be 1(True) instead of 0(False)\n\nThis bug was caused by one line:\nsession.flush()\n\nActually this line is not needed.\nhttps://github.com/openstack/cyborg/blob/d8bd76ea8d/cyborg/db/sqlalchemy/api.py#L273\n\nAfter we delete this line, the in-use's value changed to 1(True)\nWhen creating vm successfully.\n\nChange-Id: I20ee848aceb52d546c39a5ddacde2552d47fdd06\nStory: 2006745\n""}, {'number': 3, 'created': '2019-10-21 14:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/dabd46046aaf0e40b72e480468f724b4468b8bd8', 'message': ""Fix attach_handle status error when creating vm successfully\n\nBug: attach_handle's in-use status should not be changed from 1(True) to 0(False)\n\nThis bug was caused by:\ndrv_ah_make_diff in cyborg/conductor/manager.py\nhttps://github.com/openstack/cyborg/blob/2bd24b9da0a6f8a16822215eb3b2fe37534b0c72/cyborg/conductor/manager.py#L342\n\nActually we don't need to update attach_handle's in_use state\nwhen doing cycle periodic inspections.\n\nSo just removing this field.\n\nAfter we delete this line, the in-use's value keeps to 1(True)\nWhen creating vm successfully.\n\nChange-Id: I20ee848aceb52d546c39a5ddacde2552d47fdd06\nStory: 2006745\n""}, {'number': 4, 'created': '2019-10-21 14:38:07.000000000', 'files': ['cyborg/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a8357654710eed456314a1b6aceb4f98a615bd91', 'message': ""Fix attach_handle status error when creating vm successfully\n\nBug: attach_handle's in-use status should not be changed from 1(True) to 0(False)\n\nThis bug was caused by:\ndrv_ah_make_diff in cyborg/conductor/manager.py\nhttps://github.com/openstack/cyborg/blob/2bd24b9da0a6f8a16822215eb3b2fe37534b0c72/cyborg/conductor/manager.py#L342\n\nActually we don't need to update attach_handle's in_use state\nwhen doing cycle periodic inspections.\n\nSo just removing this field.\n\nAfter we delete this field, the in-use's value keeps to 1(True)\nWhen creating vm successfully.\n\nChange-Id: I20ee848aceb52d546c39a5ddacde2552d47fdd06\nStory: 2006745\n""}]",0,689617,a8357654710eed456314a1b6aceb4f98a615bd91,14,7,4,28748,,,0,"Fix attach_handle status error when creating vm successfully

Bug: attach_handle's in-use status should not be changed from 1(True) to 0(False)

This bug was caused by:
drv_ah_make_diff in cyborg/conductor/manager.py
https://github.com/openstack/cyborg/blob/2bd24b9da0a6f8a16822215eb3b2fe37534b0c72/cyborg/conductor/manager.py#L342

Actually we don't need to update attach_handle's in_use state
when doing cycle periodic inspections.

So just removing this field.

After we delete this field, the in-use's value keeps to 1(True)
When creating vm successfully.

Change-Id: I20ee848aceb52d546c39a5ddacde2552d47fdd06
Story: 2006745
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/17/689617/4 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/db/sqlalchemy/api.py'],1,a3a1c940e6ce64faef9c80e9fbf18f437c4e66a8,fix_attach_handle_bug,, session.flush(),0,1
openstack%2Ftripleo-validations~master~I859e64f8c469eb8b02af09be7ce4753e41084251,openstack/tripleo-validations,master,I859e64f8c469eb8b02af09be7ce4753e41084251,Fix Molecule tests,MERGED,2019-10-17 13:10:50.000000000,2019-10-22 08:12:22.000000000,2019-10-21 09:33:11.000000000,"[{'_account_id': 17888}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-10-17 13:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b27b87b7640fa496a53ff64b6671368b8109d150', 'message': 'Fix Molecule tests\n\nMolecule tests using our custom modules were failing due to the lack of\nyaml lib. This patch fixes this issue.\n\nChange-Id: I859e64f8c469eb8b02af09be7ce4753e41084251\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2019-10-18 08:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8d1dafe4a74bdf3140a24ba213e47c7dc50aacfe', 'message': 'Fix Molecule tests\n\nMolecule tests using our custom modules were failing due to the lack of\nyaml lib. This patch fixes this issue.\n\nChange-Id: I859e64f8c469eb8b02af09be7ce4753e41084251\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 3, 'created': '2019-10-18 09:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/40edce06db8992fae90f87517cc5016f3f864072', 'message': 'Fix Molecule tests\n\nMolecule tests using our custom modules were failing due to the lack of\nyaml lib. This patch fixes this issue.\n\nThis patch also adds the workaround for the ansible-lint installation\nfailure.\n\nhttps://bugs.launchpad.net/tripleo/+bug/1848512\n\nChange-Id: I859e64f8c469eb8b02af09be7ce4753e41084251\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 4, 'created': '2019-10-18 09:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f9b67e2980f12529c04a41fbc3c98c0979244db7', 'message': 'Fix Molecule tests\n\nMolecule tests using our custom modules were failing due to the lack of\nyaml lib. This patch fixes this issue.\n\nThis patch also adds the workaround for the ansible-lint installation\nfailure.\n\nhttps://bugs.launchpad.net/tripleo/+bug/1848512\n\nChange-Id: I859e64f8c469eb8b02af09be7ce4753e41084251\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 5, 'created': '2019-10-18 09:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9f14d1bd999d3c16c538a1cbc12f957f7ff224d7', 'message': 'Fix Molecule tests\n\nMolecule tests using our custom modules were failing due to the lack of\nyaml lib. This patch fixes this issue.\n\nThis patch also adds the workaround for the ansible-lint installation\nfailure.\n\nhttps://bugs.launchpad.net/tripleo/+bug/1848512\n\nChange-Id: I859e64f8c469eb8b02af09be7ce4753e41084251\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}, {'number': 6, 'created': '2019-10-18 10:50:49.000000000', 'files': ['roles/haproxy/molecule/default/molecule.yml', 'roles/nova-status/molecule/default/molecule.yml', 'roles/image-serve/molecule/default/molecule.yml', 'roles/no-op-firewall-nova-driver/molecule/default/molecule.yml', 'roles/check-latest-packages-version/molecule/default/molecule.yml', 'roles/undercloud-debug/molecule/default/molecule.yml', 'molecule-requirements.txt', 'roles/undercloud-tokenflush/molecule/default/molecule.yml', 'roles/ctlplane-ip-range/molecule/default/molecule.yml', 'roles/controller-token/molecule/default/molecule.yml', 'roles/check-network-gateway/molecule/default/molecule.yml', 'roles/undercloud-heat-purge-deleted/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9991eb2d64961535494ab6b38f9bb8e8dbaad12d', 'message': 'Fix Molecule tests\n\nMolecule tests using our custom modules were failing due to the lack of\nyaml lib. This patch fixes this issue.\n\nChange-Id: I859e64f8c469eb8b02af09be7ce4753e41084251\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",0,689147,9991eb2d64961535494ab6b38f9bb8e8dbaad12d,16,5,6,11491,,,0,"Fix Molecule tests

Molecule tests using our custom modules were failing due to the lack of
yaml lib. This patch fixes this issue.

Change-Id: I859e64f8c469eb8b02af09be7ce4753e41084251
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/47/689147/5 && git format-patch -1 --stdout FETCH_HEAD,"['roles/haproxy/molecule/default/molecule.yml', 'roles/nova-status/molecule/default/molecule.yml', 'roles/image-serve/molecule/default/molecule.yml', 'roles/no-op-firewall-nova-driver/molecule/default/molecule.yml', 'roles/check-latest-packages-version/molecule/default/molecule.yml', 'roles/undercloud-debug/molecule/default/molecule.yml', 'roles/undercloud-tokenflush/molecule/default/molecule.yml', 'requirements.txt', 'roles/ctlplane-ip-range/molecule/default/molecule.yml', 'roles/controller-token/molecule/default/molecule.yml', 'roles/check-network-gateway/molecule/default/molecule.yml', 'roles/undercloud-heat-purge-deleted/molecule/default/molecule.yml']",12,b27b87b7640fa496a53ff64b6671368b8109d150,Fix_ansible-lint_installation_failure, pkg_extras: python-setuptools python-enum34 python-netaddr epel-release ruby PyYAML pkg_extras: python*-setuptools python*-enum python*-netaddr ruby PyYAML, pkg_extras: python-setuptools python-enum34 python-netaddr epel-release ruby pkg_extras: python*-setuptools python*-enum python*-netaddr ruby,23,22
openstack%2Ftripleo-validations~master~I0d19327a576646e40228b3e622280501c3b9e229,openstack/tripleo-validations,master,I0d19327a576646e40228b3e622280501c3b9e229,Add workaround for the ansible-lint installation failure,MERGED,2019-10-18 10:50:49.000000000,2019-10-22 08:12:03.000000000,2019-10-21 09:33:10.000000000,"[{'_account_id': 8449}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 24162}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-10-18 10:50:49.000000000', 'files': ['tox.ini', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bcfaf81332ef1414da6deab4027d4d5ebc196e21', 'message': 'Add workaround for the ansible-lint installation failure\n\nhttps://bugs.launchpad.net/tripleo/+bug/1848512\n\nChange-Id: I0d19327a576646e40228b3e622280501c3b9e229\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",0,689425,bcfaf81332ef1414da6deab4027d4d5ebc196e21,12,5,1,11491,,,0,"Add workaround for the ansible-lint installation failure

https://bugs.launchpad.net/tripleo/+bug/1848512

Change-Id: I0d19327a576646e40228b3e622280501c3b9e229
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/25/689425/1 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', '.pre-commit-config.yaml']",2,bcfaf81332ef1414da6deab4027d4d5ebc196e21,Fix_ansible-lint_installation_failure, rev: v2.3.0 rev: v4.1.1a0, rev: v2.1.0 rev: v4.1.0a0,5,3
openstack%2Fkolla~master~I508bb082a319955b3e008235e158eaa07a1e8a74,openstack/kolla,master,I508bb082a319955b3e008235e158eaa07a1e8a74,Fix python3 compatibility for barbican,MERGED,2019-10-21 14:29:58.000000000,2019-10-22 08:07:42.000000000,2019-10-22 08:03:42.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-10-21 14:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7317c19be690845169f9ba747af421f5fb43d9ac', 'message': 'Fix python3 compatibility for barbican\n\nBarbican refers to python3 but uwsgi refers to python2. This change\nfixes this issue.\n\nChange-Id: I508bb082a319955b3e008235e158eaa07a1e8a74\nCloses-Bug: #1849128\n'}, {'number': 2, 'created': '2019-10-21 15:58:16.000000000', 'files': ['docker/barbican/barbican-base/Dockerfile.j2', 'docker/barbican/barbican-api/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/823e45a6c909437a6530c9f34f9e4f5cce8ab79c', 'message': 'Fix python3 compatibility for barbican\n\nBarbican refers to python3 but uwsgi refers to python2. This change\nfixes this issue.\n\nChange-Id: I508bb082a319955b3e008235e158eaa07a1e8a74\nCloses-Bug: #1849128\n'}]",1,689789,823e45a6c909437a6530c9f34f9e4f5cce8ab79c,16,6,2,30523,,,0,"Fix python3 compatibility for barbican

Barbican refers to python3 but uwsgi refers to python2. This change
fixes this issue.

Change-Id: I508bb082a319955b3e008235e158eaa07a1e8a74
Closes-Bug: #1849128
",git fetch https://review.opendev.org/openstack/kolla refs/changes/89/689789/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/barbican/barbican-base/Dockerfile.j2', 'docker/barbican/barbican-api/Dockerfile.j2']",2,7317c19be690845169f9ba747af421f5fb43d9ac,bug/1849128, 'uwsgi-plugin-python3', 'uwsgi-plugin-python',3,3
openstack%2Ftacker~stable%2Ftrain~I09479d2e077dd5c3cbfadfde85fb0d210d8b8aa2,openstack/tacker,stable/train,I09479d2e077dd5c3cbfadfde85fb0d210d8b8aa2,Update .gitreview for stable/train,MERGED,2019-09-27 08:55:12.000000000,2019-10-22 07:51:26.000000000,2019-10-22 07:50:05.000000000,"[{'_account_id': 11904}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26222}]","[{'number': 1, 'created': '2019-09-27 08:55:12.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/tacker/commit/6e69cdce97a6f17ab549a5628e2c5a6cbdc0a971', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I09479d2e077dd5c3cbfadfde85fb0d210d8b8aa2\n'}]",0,685239,6e69cdce97a6f17ab549a5628e2c5a6cbdc0a971,9,4,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I09479d2e077dd5c3cbfadfde85fb0d210d8b8aa2
",git fetch https://review.opendev.org/openstack/tacker refs/changes/39/685239/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,6e69cdce97a6f17ab549a5628e2c5a6cbdc0a971,create-train,defaultbranch=stable/train,,1,0
openstack%2Fpython-searchlightclient~master~Ic05863767d361a31ec45272e9e5b40df2322efa6,openstack/python-searchlightclient,master,Ic05863767d361a31ec45272e9e5b40df2322efa6,Switch to Ussuri jobs,MERGED,2019-10-22 06:30:12.000000000,2019-10-22 07:00:16.000000000,2019-10-22 06:57:09.000000000,"[{'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-10-22 06:30:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-searchlightclient/commit/1700ee254ebda815e848c953ca00a6592e46353a', 'message': 'Switch to Ussuri jobs\n\nChange-Id: Ic05863767d361a31ec45272e9e5b40df2322efa6\n'}]",0,689972,1700ee254ebda815e848c953ca00a6592e46353a,7,2,1,23312,,,0,"Switch to Ussuri jobs

Change-Id: Ic05863767d361a31ec45272e9e5b40df2322efa6
",git fetch https://review.opendev.org/openstack/python-searchlightclient refs/changes/72/689972/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1700ee254ebda815e848c953ca00a6592e46353a,, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fkayobe~master~I2fb55bcf9366d62f51c9056788f32383905a36d0,openstack/kayobe,master,I2fb55bcf9366d62f51c9056788f32383905a36d0,Switch to Ussuri jobs,ABANDONED,2019-10-22 03:14:19.000000000,2019-10-22 06:35:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-22 03:14:19.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c2d3cf6d5a2c7ef38971f643b56cfa661234e634', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I2fb55bcf9366d62f51c9056788f32383905a36d0\n'}]",0,689913,c2d3cf6d5a2c7ef38971f643b56cfa661234e634,5,3,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: I2fb55bcf9366d62f51c9056788f32383905a36d0
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/13/689913/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,c2d3cf6d5a2c7ef38971f643b56cfa661234e634,ussuri, - openstack-python3-ussuri-jobs, - openstack-python35-jobs - openstack-python36-jobs,1,2
openstack%2Fproject-config~master~I7108bfe7b97064cc3472b1ede60aaa18c0fa4a08,openstack/project-config,master,I7108bfe7b97064cc3472b1ede60aaa18c0fa4a08,Normalize projects.yaml,MERGED,2019-10-22 06:07:17.000000000,2019-10-22 06:35:38.000000000,2019-10-22 06:35:38.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-22 06:07:17.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/abc18610b736ac608bfe096ae97ce882c7d2db18', 'message': 'Normalize projects.yaml\n\nChange-Id: I7108bfe7b97064cc3472b1ede60aaa18c0fa4a08\n'}]",0,689959,abc18610b736ac608bfe096ae97ce882c7d2db18,6,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: I7108bfe7b97064cc3472b1ede60aaa18c0fa4a08
",git fetch https://review.opendev.org/openstack/project-config refs/changes/59/689959/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,abc18610b736ac608bfe096ae97ce882c7d2db18,project-yaml-normalization,, upstream: https://github.com/dmend/barbican-ui.git,0,1
openstack%2Frequirements~stable%2Ftrain~Ia590788af3eb09d232ccdaa8f00af5328172a9dc,openstack/requirements,stable/train,Ia590788af3eb09d232ccdaa8f00af5328172a9dc,update constraint for os-collect-config to new release 10.5.0,MERGED,2019-10-21 14:39:11.000000000,2019-10-22 04:30:35.000000000,2019-10-22 04:30:35.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:39:11.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c3e8ad6d3b46dab23438f5ee893b20a947d2d78f', 'message': 'update constraint for os-collect-config to new release 10.5.0\n\nChange-Id: Ia590788af3eb09d232ccdaa8f00af5328172a9dc\nmeta:version: 10.5.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Emilien Macchi <emilien@redhat.com>\nmeta:release:Commit: Emilien Macchi <emilien@redhat.com>\nmeta:release:Change-Id: I240496b0032577d8dc97837dba7bc43a4f5cc2d3\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Alfredo Moralejo <amoralej@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,689799,c3e8ad6d3b46dab23438f5ee893b20a947d2d78f,6,2,1,11131,,,0,"update constraint for os-collect-config to new release 10.5.0

Change-Id: Ia590788af3eb09d232ccdaa8f00af5328172a9dc
meta:version: 10.5.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Emilien Macchi <emilien@redhat.com>
meta:release:Commit: Emilien Macchi <emilien@redhat.com>
meta:release:Change-Id: I240496b0032577d8dc97837dba7bc43a4f5cc2d3
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Alfredo Moralejo <amoralej@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/99/689799/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c3e8ad6d3b46dab23438f5ee893b20a947d2d78f,new-release,os-collect-config===10.5.0,os-collect-config===10.4.0,1,1
openstack%2Frequirements~stable%2Ftrain~I233ec7b78638c84ab0608da652ca97b14c33f8a3,openstack/requirements,stable/train,I233ec7b78638c84ab0608da652ca97b14c33f8a3,update constraint for os-net-config to new release 11.3.0,MERGED,2019-10-21 14:30:02.000000000,2019-10-22 04:30:34.000000000,2019-10-22 04:30:34.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:30:02.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bce7a8492d1a80dd7dd521277178378f75730a9d', 'message': 'update constraint for os-net-config to new release 11.3.0\n\nChange-Id: I233ec7b78638c84ab0608da652ca97b14c33f8a3\nmeta:version: 11.3.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Emilien Macchi <emilien@redhat.com>\nmeta:release:Commit: Emilien Macchi <emilien@redhat.com>\nmeta:release:Change-Id: I240496b0032577d8dc97837dba7bc43a4f5cc2d3\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Alfredo Moralejo <amoralej@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,689790,bce7a8492d1a80dd7dd521277178378f75730a9d,6,2,1,11131,,,0,"update constraint for os-net-config to new release 11.3.0

Change-Id: I233ec7b78638c84ab0608da652ca97b14c33f8a3
meta:version: 11.3.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Emilien Macchi <emilien@redhat.com>
meta:release:Commit: Emilien Macchi <emilien@redhat.com>
meta:release:Change-Id: I240496b0032577d8dc97837dba7bc43a4f5cc2d3
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Alfredo Moralejo <amoralej@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/90/689790/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,bce7a8492d1a80dd7dd521277178378f75730a9d,new-release,os-net-config===11.3.0,os-net-config===11.2.0,1,1
openstack%2Frequirements~stable%2Ftrain~Idba110519916d85e7df0cd7ac5556d31d2f4b451,openstack/requirements,stable/train,Idba110519916d85e7df0cd7ac5556d31d2f4b451,update constraint for paunch to new release 5.3.0,MERGED,2019-10-21 14:30:28.000000000,2019-10-22 04:30:33.000000000,2019-10-22 04:30:33.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:30:28.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/cb0411b8cb51bc1dda7474f49aae6642dfd98397', 'message': 'update constraint for paunch to new release 5.3.0\n\nChange-Id: Idba110519916d85e7df0cd7ac5556d31d2f4b451\nmeta:version: 5.3.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Emilien Macchi <emilien@redhat.com>\nmeta:release:Commit: Emilien Macchi <emilien@redhat.com>\nmeta:release:Change-Id: I240496b0032577d8dc97837dba7bc43a4f5cc2d3\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Alfredo Moralejo <amoralej@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,689792,cb0411b8cb51bc1dda7474f49aae6642dfd98397,6,2,1,11131,,,0,"update constraint for paunch to new release 5.3.0

Change-Id: Idba110519916d85e7df0cd7ac5556d31d2f4b451
meta:version: 5.3.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Emilien Macchi <emilien@redhat.com>
meta:release:Commit: Emilien Macchi <emilien@redhat.com>
meta:release:Change-Id: I240496b0032577d8dc97837dba7bc43a4f5cc2d3
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Alfredo Moralejo <amoralej@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/92/689792/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,cb0411b8cb51bc1dda7474f49aae6642dfd98397,new-release,paunch===5.3.0,paunch===5.2.0,1,1
openstack%2Ftripleo-common~master~I6fb51796d6c6b2efa82a0e96fa954f479a1641f2,openstack/tripleo-common,master,I6fb51796d6c6b2efa82a0e96fa954f479a1641f2,Fix py3 issue in get_undercloud_registry(),MERGED,2019-10-21 15:04:20.000000000,2019-10-22 04:29:07.000000000,2019-10-22 02:08:19.000000000,"[{'_account_id': 20172}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-21 15:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e929ddcc7a44c6814830a0f9cf7cf4519c794b4b', 'message': ""Fix py3 issue in get_undercloud_registry()\n\nIn python3 subprocess returns <class 'bytes'> type,\nin python2 this was <type 'str'>. Add universal_newlines\nargument to subprocess.Popen() call to ensure we get a\nstring.\n\nRelated: RHBZ#1762303\nCloses-Bug: #1849140\nChange-Id: I6fb51796d6c6b2efa82a0e96fa954f479a1641f2\n""}, {'number': 2, 'created': '2019-10-21 15:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/21ef5137f589c3082b06cb68174c8cda3cfadb7e', 'message': ""Fix py3 issue in get_undercloud_registry()\n\nIn python3 subprocess returns <class 'bytes'> type,\nin python2 this was <type 'str'>. Add universal_newlines\nargument to subprocess.Popen() call to ensure we get a\nstring.\n\nRelated: RHBZ#1762303\nCloses-Bug: #1849140\nChange-Id: I6fb51796d6c6b2efa82a0e96fa954f479a1641f2\n(cherry picked from commit e929ddcc7a44c6814830a0f9cf7cf4519c794b4b)\n""}, {'number': 3, 'created': '2019-10-21 15:30:28.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/195ce10a2e49905d89442780d489bece003d3470', 'message': ""Fix py3 issue in get_undercloud_registry()\n\nIn python3 subprocess returns <class 'bytes'> type,\nin python2 this was <type 'str'>. Add universal_newlines\nargument to subprocess.Popen() call to ensure we get a\nstring.\n\nRelated: RHBZ#1762303\nCloses-Bug: #1849140\nChange-Id: I6fb51796d6c6b2efa82a0e96fa954f479a1641f2\n""}]",0,689815,195ce10a2e49905d89442780d489bece003d3470,13,4,3,24245,,,0,"Fix py3 issue in get_undercloud_registry()

In python3 subprocess returns <class 'bytes'> type,
in python2 this was <type 'str'>. Add universal_newlines
argument to subprocess.Popen() call to ensure we get a
string.

Related: RHBZ#1762303
Closes-Bug: #1849140
Change-Id: I6fb51796d6c6b2efa82a0e96fa954f479a1641f2
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/15/689815/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,e929ddcc7a44c6814830a0f9cf7cf4519c794b4b,bug/1849140," process = subprocess.Popen(cmd, stdout=subprocess.PIPE, universal_newlines=True)"," process = subprocess.Popen(cmd, stdout=subprocess.PIPE)",2,1
openstack%2Frequirements~stable%2Ftrain~Icee35908810738782e1e0a4570024c31f7729617,openstack/requirements,stable/train,Icee35908810738782e1e0a4570024c31f7729617,update constraint for os-apply-config to new release 10.5.0,MERGED,2019-10-21 14:25:28.000000000,2019-10-22 03:36:10.000000000,2019-10-22 03:36:10.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:25:28.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/05961898d6ec1451a9b8b10a8677a51e6eb4ce46', 'message': 'update constraint for os-apply-config to new release 10.5.0\n\nChange-Id: Icee35908810738782e1e0a4570024c31f7729617\nmeta:version: 10.5.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Emilien Macchi <emilien@redhat.com>\nmeta:release:Commit: Emilien Macchi <emilien@redhat.com>\nmeta:release:Change-Id: I240496b0032577d8dc97837dba7bc43a4f5cc2d3\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Alfredo Moralejo <amoralej@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,689787,05961898d6ec1451a9b8b10a8677a51e6eb4ce46,6,2,1,11131,,,0,"update constraint for os-apply-config to new release 10.5.0

Change-Id: Icee35908810738782e1e0a4570024c31f7729617
meta:version: 10.5.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Emilien Macchi <emilien@redhat.com>
meta:release:Commit: Emilien Macchi <emilien@redhat.com>
meta:release:Change-Id: I240496b0032577d8dc97837dba7bc43a4f5cc2d3
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Alfredo Moralejo <amoralej@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/87/689787/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,05961898d6ec1451a9b8b10a8677a51e6eb4ce46,new-release,os-apply-config===10.5.0,os-apply-config===10.4.1,1,1
openstack%2Fcyborg~stable%2Ftrain~I026e882505a20616364d0a6e77abeb4f90cb2e87,openstack/cyborg,stable/train,I026e882505a20616364d0a6e77abeb4f90cb2e87,Update .gitreview for stable/train,MERGED,2019-09-27 09:02:49.000000000,2019-10-22 03:35:06.000000000,2019-10-22 03:34:09.000000000,"[{'_account_id': 11904}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-09-27 09:02:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ce40fb3e73c5216f80c09a89e877c2c4743e1b91', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I026e882505a20616364d0a6e77abeb4f90cb2e87\n'}, {'number': 2, 'created': '2019-10-22 02:52:48.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/1e4b7680191fd9647361ef22dc591b5af43a5361', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I026e882505a20616364d0a6e77abeb4f90cb2e87\n'}]",0,685248,1e4b7680191fd9647361ef22dc591b5af43a5361,12,5,2,22816,,,0,"Update .gitreview for stable/train

Change-Id: I026e882505a20616364d0a6e77abeb4f90cb2e87
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/48/685248/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,ce40fb3e73c5216f80c09a89e877c2c4743e1b91,688367,defaultbranch=stable/train,,1,0
openstack%2Foctavia~master~Iac685b424d6ab03a23c35c9eef8356f50a2fe952,openstack/octavia,master,Iac685b424d6ab03a23c35c9eef8356f50a2fe952,Add Gentoo platform detection in diskimage-create/diskimage-create.sh,MERGED,2019-10-02 08:59:59.000000000,2019-10-22 03:30:39.000000000,2019-10-22 03:28:57.000000000,"[{'_account_id': 6469}, {'_account_id': 10068}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 08:59:59.000000000', 'files': ['diskimage-create/diskimage-create.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d429af5d5347d369c3ca8b52f1d4d9f67b9b2ac9', 'message': 'Add Gentoo platform detection in diskimage-create/diskimage-create.sh\n\nChange-Id: Iac685b424d6ab03a23c35c9eef8356f50a2fe952\nTask: 36882\nStory: 2006646\n'}]",0,686111,d429af5d5347d369c3ca8b52f1d4d9f67b9b2ac9,18,5,1,27316,,,0,"Add Gentoo platform detection in diskimage-create/diskimage-create.sh

Change-Id: Iac685b424d6ab03a23c35c9eef8356f50a2fe952
Task: 36882
Story: 2006646
",git fetch https://review.opendev.org/openstack/octavia refs/changes/11/686111/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage-create/diskimage-create.sh'],1,d429af5d5347d369c3ca8b52f1d4d9f67b9b2ac9,,"elif [[ $platform =~ ""Gentoo"" ]]; then # Gentoo # Check /var/db for dev-vcs/git and app-emulation/[qemu|xen-tools] sys-fs/multipath-tools PKG_LIST=""dev-vcs/git app-emulation/qemu|xen-tools sys-fs/multipath-tools"" for pkg in $PKG_LIST; do if grep -qs '|' <<< ""$pkg""; then c=$(cut -d / -f 1 <<<""$pkg"") for p in $(cut -d / -f 2 <<<""$pkg"" | tr ""|"" "" ""); do if [ -d /var/db/pkg/$c/$p-* ]; then continue 2 fi done echo ""Required package "" ${pkg/\*} "" is not installed. Exiting."" echo ""Binary dependencies on this platform are: ${PKG_LIST}"" exit 1 elif [ ! -d /var/db/pkg/$pkg-* ]; then echo ""Required package "" ${pkg/\*} "" is not installed. Exiting."" echo ""Binary dependencies on this platform are: ${PKG_LIST}"" exit 1 fi done",,21,0
openstack%2Fheat-translator~master~I54ded8c5a69c97d0717c8a9f5c863ca9aadbe146,openstack/heat-translator,master,I54ded8c5a69c97d0717c8a9f5c863ca9aadbe146,Switch to Ussuri jobs,ABANDONED,2019-10-22 03:08:46.000000000,2019-10-22 03:26:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-22 03:08:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/ef87e9e5264ff8186161c99ca8f92de2116a28a3', 'message': 'Switch to Ussuri jobs\n\nChange-Id: I54ded8c5a69c97d0717c8a9f5c863ca9aadbe146\n'}]",0,689911,ef87e9e5264ff8186161c99ca8f92de2116a28a3,3,1,1,27822,,,0,"Switch to Ussuri jobs

Change-Id: I54ded8c5a69c97d0717c8a9f5c863ca9aadbe146
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/11/689911/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ef87e9e5264ff8186161c99ca8f92de2116a28a3,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fdiskimage-builder~master~Ie8173be8690ac0b7164ce9e5b66d3c1c18f844d6,openstack/diskimage-builder,master,Ie8173be8690ac0b7164ce9e5b66d3c1c18f844d6,bootloader: make serial console configurable,MERGED,2019-10-03 21:17:41.000000000,2019-10-22 03:22:43.000000000,2019-10-22 03:19:18.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30927}]","[{'number': 1, 'created': '2019-10-03 21:17:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9871457804ae7286a1a30b3a5626c28e148c9753', 'message': 'bootloader: make serial console configurable\n\nCurrently, the serial console is hardcoded to ttyS0 in the bootloader element.\nThis is a challenge for users that want to build images for some baremetal\nservers. Supermicro servers, for example, use ttyS1 for the serial over lan\ninterface.\n\nThis patch adds a new environment variable DIB_BOOTLOADER_SERIAL_CONSOLE that\ncan be set to override the default.\n\nChange-Id: Ie8173be8690ac0b7164ce9e5b66d3c1c18f844d6\n'}, {'number': 2, 'created': '2019-10-03 21:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3ec29ec4a5f13574be750a80cfa80df4f63f229b', 'message': 'bootloader: make serial console configurable\n\nCurrently, the serial console is hardcoded to ttyS0 in the bootloader\nelement.  This is a challenge for users that want to build images for\nsome baremetal servers. Supermicro servers, for example, use ttyS1 for\nthe serial over lan interface.\n\nThis patch adds a new environment variable DIB_BOOTLOADER_SERIAL_CONSOLE\nthat can be set to override the default.\n\nChange-Id: Ie8173be8690ac0b7164ce9e5b66d3c1c18f844d6\n'}, {'number': 3, 'created': '2019-10-03 21:45:59.000000000', 'files': ['diskimage_builder/elements/bootloader/finalise.d/50-bootloader', 'diskimage_builder/elements/bootloader/environment.d/10-bootloader-default-cmdline', 'diskimage_builder/elements/bootloader/README.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/0e5e35806337933b492267d782dd39a94cac88b9', 'message': 'bootloader: make serial console configurable\n\nCurrently, the serial console is hardcoded to ttyS0 in the bootloader\nelement.  This is a challenge for users that want to build images for\nsome baremetal servers. Supermicro servers, for example, use ttyS1 for\nthe serial over lan interface.\n\nThis patch adds a new environment variable DIB_BOOTLOADER_SERIAL_CONSOLE\nthat can be set to override the default.\n\nChange-Id: Ie8173be8690ac0b7164ce9e5b66d3c1c18f844d6\n'}]",0,686495,0e5e35806337933b492267d782dd39a94cac88b9,18,5,3,30927,,,0,"bootloader: make serial console configurable

Currently, the serial console is hardcoded to ttyS0 in the bootloader
element.  This is a challenge for users that want to build images for
some baremetal servers. Supermicro servers, for example, use ttyS1 for
the serial over lan interface.

This patch adds a new environment variable DIB_BOOTLOADER_SERIAL_CONSOLE
that can be set to override the default.

Change-Id: Ie8173be8690ac0b7164ce9e5b66d3c1c18f844d6
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/95/686495/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/bootloader/finalise.d/50-bootloader', 'diskimage_builder/elements/bootloader/environment.d/10-bootloader-default-cmdline', 'diskimage_builder/elements/bootloader/README.rst']",3,9871457804ae7286a1a30b3a5626c28e148c9753,bootloader-serial-console," * ``DIB_BOOTLOADER_SERIAL_CONSOLE`` sets the serial device to be used as a console. It defaults to ``hvc0`` for PowerPC, ``ttyAMA0,115200`` for ARM64, otherwise ``ttyS0,115200``.",,9,2
openstack%2Fdiskimage-builder~master~I30e018e67f3637ce36b3ef6e20380453fe6b2bb9,openstack/diskimage-builder,master,I30e018e67f3637ce36b3ef6e20380453fe6b2bb9,Update gentoo test to current system profile,MERGED,2019-09-17 12:43:30.000000000,2019-10-22 03:21:48.000000000,2019-10-22 03:19:16.000000000,"[{'_account_id': 4162}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 13252}, {'_account_id': 14288}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-17 12:43:30.000000000', 'files': ['.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fb8258912bdc74309643996dd96e30bc0896f324', 'message': 'Update gentoo test to current system profile\n\nGentoo is at 17.1 now, most code was updated in [0], update the test job\naccordingly.\n\n[0] I0f2e7976845b1d3c55ffe8869eec0bc04a191252\n\nChange-Id: I30e018e67f3637ce36b3ef6e20380453fe6b2bb9\n'}]",0,682635,fb8258912bdc74309643996dd96e30bc0896f324,35,8,1,13252,,,0,"Update gentoo test to current system profile

Gentoo is at 17.1 now, most code was updated in [0], update the test job
accordingly.

[0] I0f2e7976845b1d3c55ffe8869eec0bc04a191252

Change-Id: I30e018e67f3637ce36b3ef6e20380453fe6b2bb9
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/35/682635/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/jobs.yaml'],1,fb8258912bdc74309643996dd96e30bc0896f324,update-gentoo, GENTOO_PROFILE: 'default/linux/amd64/17.1/systemd', GENTOO_PROFILE: 'default/linux/amd64/17.0/systemd',1,1
openstack%2Ftripleo-heat-templates~master~I32524f85ef6a0ca3e87fa9acc8c9e12776225717,openstack/tripleo-heat-templates,master,I32524f85ef6a0ca3e87fa9acc8c9e12776225717,Simplify octavia post deploy configs,MERGED,2019-10-10 11:33:16.000000000,2019-10-22 02:50:54.000000000,2019-10-22 02:49:36.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-10 11:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/29db72dd481e47ede14fad16a24aceb49a6631e4', 'message': 'Simplify octavia post deploy configs\n\nConsolidate post deploy configurations in a single file. Octavia\ncontroller services share many configurations. It is best to consolidate\nthem in the same configuration file. This fixes problems seen like\namphorae not having the controller_ip_port_list config value set on\nfailover triggered by the Health Manager service as that config was only\nbeing loaded for the Worker service.\n\nCloses-Bug: #1836074\nDepends-On: https://review.opendev.org/#/c/687311/\n\nChange-Id: I32524f85ef6a0ca3e87fa9acc8c9e12776225717\n'}, {'number': 2, 'created': '2019-10-10 12:29:43.000000000', 'files': ['deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'releasenotes/notes/consolidate-octavia-post-deploy-configs-bc251a5446e5615d.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c2bb9c0937852d1d5488bc727983fce3435ca898', 'message': 'Simplify octavia post deploy configs\n\nConsolidate post deploy configurations in a single file. Octavia\ncontroller services share many configurations. It is best to consolidate\nthem in the same configuration file. This fixes problems seen like\namphorae not having the controller_ip_port_list config value set on\nfailover triggered by the Health Manager service as that config was only\nbeing loaded for the Worker service.\n\nCloses-Bug: #1836074\nDepends-On: https://review.opendev.org/#/c/687311/\n\nChange-Id: I32524f85ef6a0ca3e87fa9acc8c9e12776225717\n'}]",2,687864,c2bb9c0937852d1d5488bc727983fce3435ca898,19,5,2,6469,,,0,"Simplify octavia post deploy configs

Consolidate post deploy configurations in a single file. Octavia
controller services share many configurations. It is best to consolidate
them in the same configuration file. This fixes problems seen like
amphorae not having the controller_ip_port_list config value set on
failover triggered by the Health Manager service as that config was only
being loaded for the Worker service.

Closes-Bug: #1836074
Depends-On: https://review.opendev.org/#/c/687311/

Change-Id: I32524f85ef6a0ca3e87fa9acc8c9e12776225717
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/687864/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'releasenotes/notes/consolidate-octavia-post-deploy-configs-bc251a5446e5615d.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml']",4,29db72dd481e47ede14fad16a24aceb49a6631e4,," command: /usr/bin/octavia-housekeeping --config-file /usr/share/octavia/octavia-dist.conf --config-file /etc/octavia/octavia.conf --config-file /etc/octavia/post-deploy.conf --log-file /var/log/octavia/housekeeping.log --config-dir /etc/octavia/conf.d/octavia-housekeeping - name: remove directory /etc/octavia/conf.d/common when: step|int == 5 file: path: ""/var/lib/config-data/puppet-generated/octavia/etc/octavia/conf.d/common"" state: absent post_update_tasks: - name: remove directory /etc/octavia/conf.d/common when: step|int == 5 file: path: ""/var/lib/config-data/puppet-generated/octavia/etc/octavia/conf.d/common"" state: absent", command: /usr/bin/octavia-housekeeping --config-file /usr/share/octavia/octavia-dist.conf --config-file /etc/octavia/octavia.conf --log-file /var/log/octavia/housekeeping.log --config-dir /etc/octavia/conf.d/common --config-dir /etc/octavia/conf.d/octavia-housekeeping,41,3
openstack%2Fheat~master~I52d2519399951d959a033d378fae5e93e6f3a662,openstack/heat,master,I52d2519399951d959a033d378fae5e93e6f3a662,Update osprofiler about doc,MERGED,2016-10-14 09:18:59.000000000,2019-10-22 02:40:00.000000000,2019-10-22 02:38:22.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 9323}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-10-14 09:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/279b4c1b0cf891b2f982b863bbc0977c10d27679', 'message': 'Update osprofiler about doc\n\nUpdate doc to use new style conf about osprofiler\n\nChange-Id: I52d2519399951d959a033d378fae5e93e6f3a662\n'}, {'number': 2, 'created': '2016-12-06 08:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3c2a46f5f0100a8251865e57e3039e7e07090d0e', 'message': 'Update osprofiler about doc\n\nUpdate doc to use new style conf about osprofiler\n\nChange-Id: I52d2519399951d959a033d378fae5e93e6f3a662\n'}, {'number': 3, 'created': '2017-01-19 01:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6522060a7f90519b4ccc63d8cbb963336d9ca9a8', 'message': 'Update osprofiler about doc\n\nUpdate doc to use new style conf about osprofiler\n\nChange-Id: I52d2519399951d959a033d378fae5e93e6f3a662\n'}, {'number': 4, 'created': '2017-02-07 03:58:57.000000000', 'files': ['doc/source/getting_started/on_devstack.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/0e6400a15493a4fbbcb25816609ae19f5ff081ec', 'message': 'Update osprofiler about doc\n\nUpdate doc to use new style conf about osprofiler\n\nChange-Id: I52d2519399951d959a033d378fae5e93e6f3a662\n'}]",2,386494,0e6400a15493a4fbbcb25816609ae19f5ff081ec,23,5,4,9323,,,0,"Update osprofiler about doc

Update doc to use new style conf about osprofiler

Change-Id: I52d2519399951d959a033d378fae5e93e6f3a662
",git fetch https://review.opendev.org/openstack/heat refs/changes/94/386494/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/getting_started/on_devstack.rst'],1,279b4c1b0cf891b2f982b863bbc0977c10d27679,update_osprofiler_doc," $ echo -e ""[profiler]\nenabled = True\n""\ ""hmac_keys = SECRET_KEY\n""\ $ osprofiler trace show --html <Trace ID>"," $ echo -e ""[profiler]\nprofiler_enabled = True\n""\Change the default hmac_key in /etc/heat/api-paste.ini:: $ sed -i ""s/hmac_keys =.*/hmac_keys = SECRET_KEY/"" /etc/heat/api-paste.ini $ osprofiler trace show --html <Profile ID>",3,6
openstack%2Fheat~master~Ica3ceb2d01ca04b641fbf3bd430a7095f4ddabd0,openstack/heat,master,Ica3ceb2d01ca04b641fbf3bd430a7095f4ddabd0,"Remove the deprecated ""giturl"" option",ABANDONED,2018-01-15 02:48:39.000000000,2019-10-22 02:22:50.000000000,,"[{'_account_id': 16523}, {'_account_id': 19930}, {'_account_id': 22348}, {'_account_id': 27248}]","[{'number': 1, 'created': '2018-01-15 02:48:39.000000000', 'files': ['api-ref/source/conf.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/319574e9cdb722bbb829b7691d5d26d14a99c75b', 'message': 'Remove the deprecated ""giturl"" option\n\nFrom openstackdocstheme 1.18.0, valid Git URLs can be retrieved by\nopenstackdocstheme[1], we do not need giturl option anymore.\n\n[1] https://review.openstack.org/532163\n\nChange-Id: Ica3ceb2d01ca04b641fbf3bd430a7095f4ddabd0\n'}]",0,533464,319574e9cdb722bbb829b7691d5d26d14a99c75b,7,4,1,16523,,,0,"Remove the deprecated ""giturl"" option

From openstackdocstheme 1.18.0, valid Git URLs can be retrieved by
openstackdocstheme[1], we do not need giturl option anymore.

[1] https://review.openstack.org/532163

Change-Id: Ica3ceb2d01ca04b641fbf3bd430a7095f4ddabd0
",git fetch https://review.opendev.org/openstack/heat refs/changes/64/533464/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/conf.py'],1,319574e9cdb722bbb829b7691d5d26d14a99c75b,giturl,,"# Config logABug feature giturl = u'http://git.openstack.org/cgit/openstack/heat/tree/api-ref/source' # source tree 'giturl': giturl,",0,4
openstack%2Fpaunch~stable%2Ftrain~Iafcf4ff6de4ad0fe5a9bda435b98d94bcf3385bf,openstack/paunch,stable/train,Iafcf4ff6de4ad0fe5a9bda435b98d94bcf3385bf,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-21 14:18:10.000000000,2019-10-22 02:05:03.000000000,2019-10-22 02:03:13.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:18:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/paunch/commit/6a02fa26fafa91493de9c712879dd7afc739f7de', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Iafcf4ff6de4ad0fe5a9bda435b98d94bcf3385bf\n'}]",0,689765,6a02fa26fafa91493de9c712879dd7afc739f7de,7,2,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Iafcf4ff6de4ad0fe5a9bda435b98d94bcf3385bf
",git fetch https://review.opendev.org/openstack/paunch refs/changes/65/689765/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6a02fa26fafa91493de9c712879dd7afc739f7de,create-train,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fpaunch~stable%2Ftrain~Iee8a2d73e898100a42eed1720dcb4a5f42a254d0,openstack/paunch,stable/train,Iee8a2d73e898100a42eed1720dcb4a5f42a254d0,Update .gitreview for stable/train,MERGED,2019-10-21 14:18:05.000000000,2019-10-22 02:04:10.000000000,2019-10-22 02:03:13.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-21 14:18:05.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/paunch/commit/752e994fdc800d592c6727c17d9986352727cae1', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Iee8a2d73e898100a42eed1720dcb4a5f42a254d0\n'}]",0,689764,752e994fdc800d592c6727c17d9986352727cae1,11,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Iee8a2d73e898100a42eed1720dcb4a5f42a254d0
",git fetch https://review.opendev.org/openstack/paunch refs/changes/64/689764/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,752e994fdc800d592c6727c17d9986352727cae1,create-train,defaultbranch=stable/train,,1,0
openstack%2Fsenlin~master~Idebab562d1cd4b6b498d90a93577f34b6f56cd78,openstack/senlin,master,Idebab562d1cd4b6b498d90a93577f34b6f56cd78,Fix api wsgi entrypoint,MERGED,2019-10-14 04:25:44.000000000,2019-10-22 01:56:46.000000000,2019-10-22 01:55:44.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 27224}]","[{'number': 1, 'created': '2019-10-14 04:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/f9c2ca6765d8890b30c0e44ba8fa4cfb3142dc1e', 'message': 'Fix api wsgi entrypoint\n\n* Properly allow application/json.\n* Fix href properly redirecting.\n* Register objects when starting api_wsgi.\n\nChange-Id: Idebab562d1cd4b6b498d90a93577f34b6f56cd78\n'}, {'number': 2, 'created': '2019-10-14 07:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/cdace6801b3e88cdbf6e57d419fd62af417f5466', 'message': 'Fix api wsgi entrypoint\n\n* Properly allow application/json.\n* Fixed href not properly redirecting.\n* Fixed Webhook middleware not handling /cluster.\n* Register objects when starting api_wsgi.\n\nChange-Id: Idebab562d1cd4b6b498d90a93577f34b6f56cd78\n'}, {'number': 3, 'created': '2019-10-14 07:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/5b5a573f8d15e9b7ac8c54a5a71292ec5510d149', 'message': 'Fix api wsgi entrypoint\n\n* Properly allow application/json.\n* Fixed href not properly redirecting.\n* Fixed Webhook middleware not handling /cluster.\n* Register objects when starting api_wsgi.\n\nChange-Id: Idebab562d1cd4b6b498d90a93577f34b6f56cd78\n'}, {'number': 4, 'created': '2019-10-14 08:13:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/7f01abcf39968142f3643dfc8a812bb09da1c353', 'message': 'Fix api wsgi entrypoint\n\n* Properly allow application/json.\n* Fixed href not properly redirecting.\n* Fixed Webhook middleware not handling /cluster.\n* Register objects when starting api_wsgi.\n\nChange-Id: Idebab562d1cd4b6b498d90a93577f34b6f56cd78\n'}, {'number': 5, 'created': '2019-10-14 08:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/899384fd417c2025c893573fe0d6a829acbddbf2', 'message': 'Fix api wsgi entrypoint\n\n* Properly allow application/json.\n* Fixed href not properly redirecting.\n* Fixed Webhook middleware not handling /cluster.\n* Register objects when starting api_wsgi.\n\nChange-Id: Idebab562d1cd4b6b498d90a93577f34b6f56cd78\n'}, {'number': 6, 'created': '2019-10-15 06:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/ca3e746e5f500cdbf0b2103fb7cdce77dec94786', 'message': 'Fix api wsgi entrypoint\n\nThis patch fixes a bunch of issues with the wsgi\nentrypoint and the api implementation in general.\n\n* Fixed issue with versions.\n* Fixed href not properly redirecting.\n* Fixed Webhook middleware not handling /cluster.\n* Register objects when starting api_wsgi.\n\nChange-Id: Idebab562d1cd4b6b498d90a93577f34b6f56cd78\n'}, {'number': 7, 'created': '2019-10-18 01:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/efebff89dfda699b1c39b4009d557d5c7e763b2f', 'message': 'Fix api wsgi entrypoint\n\nThis patch fixes a bunch of issues with the wsgi\nentrypoint and the api implementation in general.\n\n* Fixed issue with versions.\n* Fixed href not properly redirecting.\n* Fixed Webhook middleware not handling /cluster.\n* Register objects when starting api_wsgi.\n\nChange-Id: Idebab562d1cd4b6b498d90a93577f34b6f56cd78\n'}, {'number': 8, 'created': '2019-10-20 23:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/be35226bc784f6b1c7196b1d1c93ce3e42742a34', 'message': 'Fix api wsgi entrypoint\n\nThis patch fixes a bunch of issues with the wsgi\nentrypoint and the api implementation in general.\n\n* Fixed issue with versions and mod_wsgi.\n* Fixed href not properly redirecting under mod_wsgi.\n* Fixed Webhook middleware not handling /cluster/v1 uri.\n* Register objects when starting api_wsgi.\n\nChange-Id: Idebab562d1cd4b6b498d90a93577f34b6f56cd78\n'}, {'number': 9, 'created': '2019-10-20 23:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/39575ae00467c5e88b89196421287482106dff4d', 'message': 'Fix api wsgi entrypoint\n\nThis patch fixes a bunch of issues with the wsgi\nentrypoint and the api implementation in general.\n\n* Fixed issue with versions and mod_wsgi.\n* Fixed href not properly redirecting under mod_wsgi.\n* Fixed Webhook middleware not handling /cluster/v1 uri.\n* Register objects when starting api_wsgi.\n\nChange-Id: Idebab562d1cd4b6b498d90a93577f34b6f56cd78\n'}, {'number': 10, 'created': '2019-10-21 17:20:53.000000000', 'files': ['senlin/api/middleware/webhook.py', 'senlin/tests/unit/api/shared.py', 'senlin/api/middleware/version_negotiation.py', 'senlin/api/openstack/v1/version.py', 'senlin/tests/unit/api/middleware/test_webhook.py', 'senlin/api/openstack/versions.py', 'senlin/cmd/api_wsgi.py', 'senlin/tests/unit/api/openstack/v1/test_version.py'], 'web_link': 'https://opendev.org/openstack/senlin/commit/ba74c647711062870fa4a0b1c7afea1f7802a073', 'message': 'Fix api wsgi entrypoint\n\nThis patch fixes a bunch of issues with the wsgi\nentrypoint and the api implementation in general.\n\n* Fixed issue with versions and mod_wsgi.\n* Fixed href not properly redirecting under mod_wsgi.\n* Fixed Webhook middleware not handling /cluster/v1 uri.\n* Register objects when starting api_wsgi.\n\nCloses-Bug: #1849174\nCloses-Bug: #1849175\n\nChange-Id: Idebab562d1cd4b6b498d90a93577f34b6f56cd78\n'}]",2,688323,ba74c647711062870fa4a0b1c7afea1f7802a073,24,4,10,22623,,,0,"Fix api wsgi entrypoint

This patch fixes a bunch of issues with the wsgi
entrypoint and the api implementation in general.

* Fixed issue with versions and mod_wsgi.
* Fixed href not properly redirecting under mod_wsgi.
* Fixed Webhook middleware not handling /cluster/v1 uri.
* Register objects when starting api_wsgi.

Closes-Bug: #1849174
Closes-Bug: #1849175

Change-Id: Idebab562d1cd4b6b498d90a93577f34b6f56cd78
",git fetch https://review.opendev.org/openstack/senlin refs/changes/23/688323/7 && git format-patch -1 --stdout FETCH_HEAD,"['senlin/tests/unit/api/shared.py', 'senlin/api/middleware/version_negotiation.py', 'senlin/api/openstack/v1/version.py', 'senlin/api/openstack/versions.py', 'senlin/cmd/api_wsgi.py', 'senlin/tests/unit/api/openstack/v1/test_version.py']",6,f9c2ca6765d8890b30c0e44ba8fa4cfb3142dc1e,fix_wsgi," 'href': 'http://server.test:8004/v1',"," 'href': '/v1',",9,8
openstack%2Fdiskimage-builder~master~Ib349592c3fcf2008fcab9ae8875de1c997eef7d5,openstack/diskimage-builder,master,Ib349592c3fcf2008fcab9ae8875de1c997eef7d5,Pause Fedora jobs,MERGED,2019-10-21 22:53:25.000000000,2019-10-22 01:47:06.000000000,2019-10-22 01:35:36.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-21 22:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9235230faf9183c6d27e142f030de9bbb2e9ad25', 'message': 'Pause Fedora jobs\n\nPer the linked bugs, this does not seem to have a quick resolution.\nThe bug mentions that the copr nightly repos have other known issues,\nso there just does not seem to be a good solution until fixed packages\nare imported upstream.  For now, pause Fedora jobs to get the gate\nworking.\n\nChange-Id: Ib349592c3fcf2008fcab9ae8875de1c997eef7d5\n'}, {'number': 2, 'created': '2019-10-21 22:54:12.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/dad99e54f692facf675a9dcef3895a955447a448', 'message': 'Pause Fedora jobs\n\nPer the linked bugs, this does not seem to have a quick resolution.\nThe bug mentions that the copr nightly repos have other known issues,\nso there just does not seem to be a good solution until fixed packages\nare imported upstream.  For now, pause Fedora jobs to get the gate\nworking.\n\nChange-Id: Ib349592c3fcf2008fcab9ae8875de1c997eef7d5\n'}]",0,689893,dad99e54f692facf675a9dcef3895a955447a448,10,4,2,7118,,,0,"Pause Fedora jobs

Per the linked bugs, this does not seem to have a quick resolution.
The bug mentions that the copr nightly repos have other known issues,
so there just does not seem to be a good solution until fixed packages
are imported upstream.  For now, pause Fedora jobs to get the gate
working.

Change-Id: Ib349592c3fcf2008fcab9ae8875de1c997eef7d5
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/93/689893/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', '.zuul.d/jobs.yaml']",2,9235230faf9183c6d27e142f030de9bbb2e9ad25,fedora-pause, # Fedora paused until dnf segfaults resolved: # https://bugzilla.redhat.com/show_bug.cgi?id=1758737 # https://bugzilla.redhat.com/show_bug.cgi?id=1761282 # - fedora-minimal/build-succeeds # - ironic-agent/build-succeeds-fedora # - pip-and-virtualenv/source-install-fedora # - fedora/build-succeeds, - fedora-minimal/build-succeeds - ironic-agent/build-succeeds-fedora - pip-and-virtualenv/source-install-fedora - fedora/build-succeeds,9,7
openstack%2Fneutron-lbaas~stable%2Frocky~I2c56542b667ad2747cbafb6da3e55788bc3b091e,openstack/neutron-lbaas,stable/rocky,I2c56542b667ad2747cbafb6da3e55788bc3b091e,Fix lb stats model,MERGED,2019-10-16 15:20:47.000000000,2019-10-22 00:57:02.000000000,2019-10-22 00:57:02.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-16 15:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/3da0cf3a76eea5b057a07db6fbc0a67092f0dbf4', 'message': 'Fix lb stats model\n\nComparing int < str is always true in py2, but raises an exception in\npy3. So the validation was always broken, now we also fix the exceptions\noccurring in py3.\n\nTask: 37085\nChange-Id: I2c56542b667ad2747cbafb6da3e55788bc3b091e\n'}, {'number': 2, 'created': '2019-10-16 15:21:38.000000000', 'files': ['releasenotes/notes/bug-lb-stats-validation-aa806817c16b22b1.yaml', 'neutron_lbaas/tests/unit/db/loadbalancer/test_models.py', 'neutron_lbaas/db/loadbalancer/models.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/f7aa233108c46ff22b108fda63a74aefdb3e4c64', 'message': 'Fix lb stats model\n\nComparing int < str is always true in py2, but raises an exception in\npy3. So the validation was always broken, now we also fix the exceptions\noccurring in py3.\n\nCherry-picked from 52adf0ac369839dda0ae90d6735bab5e6e62646b\n\nTask: 37085\nChange-Id: I2c56542b667ad2747cbafb6da3e55788bc3b091e\n'}]",0,688959,f7aa233108c46ff22b108fda63a74aefdb3e4c64,10,3,2,13252,,,0,"Fix lb stats model

Comparing int < str is always true in py2, but raises an exception in
py3. So the validation was always broken, now we also fix the exceptions
occurring in py3.

Cherry-picked from 52adf0ac369839dda0ae90d6735bab5e6e62646b

Task: 37085
Change-Id: I2c56542b667ad2747cbafb6da3e55788bc3b091e
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/59/688959/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-lb-stats-validation-aa806817c16b22b1.yaml', 'neutron_lbaas/tests/unit/db/loadbalancer/test_models.py', 'neutron_lbaas/db/loadbalancer/models.py']",3,3da0cf3a76eea5b057a07db6fbc0a67092f0dbf4,fix-stats-model-stein-stable/rocky," if int(value) < 0: data = {'key': key, 'value': int(value)}"," if value < 0: data = {'key': key, 'value': value}",57,2
openstack%2Fproject-config~master~Ia9e8057d1f53901113702f49fb24e1733f368362,openstack/project-config,master,Ia9e8057d1f53901113702f49fb24e1733f368362,Pause Fedora 30 builds,MERGED,2019-10-21 23:18:18.000000000,2019-10-22 00:49:13.000000000,2019-10-22 00:49:13.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 23:18:18.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a1e8e7bfb4cb96f68775127dad8610bde1d333ee', 'message': 'Pause Fedora 30 builds\n\nFedora 30 paused until dnf segfaults resolved; see\n\n https://bugzilla.redhat.com/show_bug.cgi?id=1758737\n https://bugzilla.redhat.com/show_bug.cgi?id=1761282\n\nChange-Id: Ia9e8057d1f53901113702f49fb24e1733f368362\n'}]",0,689895,a1e8e7bfb4cb96f68775127dad8610bde1d333ee,7,3,1,7118,,,0,"Pause Fedora 30 builds

Fedora 30 paused until dnf segfaults resolved; see

 https://bugzilla.redhat.com/show_bug.cgi?id=1758737
 https://bugzilla.redhat.com/show_bug.cgi?id=1761282

Change-Id: Ia9e8057d1f53901113702f49fb24e1733f368362
",git fetch https://review.opendev.org/openstack/project-config refs/changes/95/689895/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,a1e8e7bfb4cb96f68775127dad8610bde1d333ee,pause-fedora, pause: true, pause: false,1,1
openstack%2Ftripleo-heat-templates~master~I139c2c276c8f532d37fceafe06f9547048e76906,openstack/tripleo-heat-templates,master,I139c2c276c8f532d37fceafe06f9547048e76906,Fix missing environment variable in rabbitmq_init_bundle,MERGED,2019-10-21 15:35:13.000000000,2019-10-22 00:23:07.000000000,2019-10-22 00:23:07.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-21 15:35:13.000000000', 'files': ['deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b18c1f554478d717a7f895d4784d4091d80b3d70', 'message': 'Fix missing environment variable in rabbitmq_init_bundle\n\nAfter a template refactoring [2] we lost one environment variable\nin HA container rabbitmq_init_bundle. Redeclare it to fix the issue.\n\n[2] 81258ae551f84237fe9028edd2ac7d3fba28e14b\n\nChange-Id: I139c2c276c8f532d37fceafe06f9547048e76906\n'}]",0,689825,b18c1f554478d717a7f895d4784d4091d80b3d70,8,4,1,20778,,,0,"Fix missing environment variable in rabbitmq_init_bundle

After a template refactoring [2] we lost one environment variable
in HA container rabbitmq_init_bundle. Redeclare it to fix the issue.

[2] 81258ae551f84237fe9028edd2ac7d3fba28e14b

Change-Id: I139c2c276c8f532d37fceafe06f9547048e76906
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/689825/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'],1,b18c1f554478d717a7f895d4784d4091d80b3d70,env-rabbitmq, TRIPLEO_DEPLOY_IDENTIFIER: {get_param: DeployIdentifier},,1,0
openstack%2Fneutron~stable%2Ftrain~Ic7bfafce40b4025f6768121dec37c1d6f3b4c5fc,openstack/neutron,stable/train,Ic7bfafce40b4025f6768121dec37c1d6f3b4c5fc,[nova][train] Docs: Remove deprecated RetryFilter,MERGED,2019-10-20 07:41:57.000000000,2019-10-22 00:22:36.000000000,2019-10-22 00:20:50.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-20 07:41:57.000000000', 'files': ['doc/source/admin/config-sriov.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd04d1e0a597135e797440af0f24ba40028950fe', 'message': '[nova][train] Docs: Remove deprecated RetryFilter\n\nThe default does not include it.\n\nNova docs:\nRetryFilter - Deprecated since version 20.0.0 (Train)\nSince the 17.0.0 (Queens) release, the scheduler has provided\nalternate hosts for rescheduling so the scheduler does not need to\nbe called during a reschedule which makes the RetryFilter useless.\n\nChange-Id: Ic7bfafce40b4025f6768121dec37c1d6f3b4c5fc\n(cherry picked from commit a8fa0853640362f3d1c792b166a487c7b3b7532b)\n'}]",0,689644,bd04d1e0a597135e797440af0f24ba40028950fe,9,4,1,30491,,,0,"[nova][train] Docs: Remove deprecated RetryFilter

The default does not include it.

Nova docs:
RetryFilter - Deprecated since version 20.0.0 (Train)
Since the 17.0.0 (Queens) release, the scheduler has provided
alternate hosts for rescheduling so the scheduler does not need to
be called during a reschedule which makes the RetryFilter useless.

Change-Id: Ic7bfafce40b4025f6768121dec37c1d6f3b4c5fc
(cherry picked from commit a8fa0853640362f3d1c792b166a487c7b3b7532b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/689644/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-sriov.rst'],1,bd04d1e0a597135e797440af0f24ba40028950fe,train-nova-deprecate-retryfilter-stable/train," enabled_filters = AvailabilityZoneFilter, ComputeFilter, ComputeCapabilitiesFilter, ImagePropertiesFilter, ServerGroupAntiAffinityFilter, ServerGroupAffinityFilter, PciPassthroughFilter"," enabled_filters = RetryFilter, AvailabilityZoneFilter, ComputeFilter, ComputeCapabilitiesFilter, ImagePropertiesFilter, ServerGroupAntiAffinityFilter, ServerGroupAffinityFilter, PciPassthroughFilter",1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I5b339d69038db95dc339315511a1e4e949b38cb2,openstack/tripleo-heat-templates,stable/train,I5b339d69038db95dc339315511a1e4e949b38cb2,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-21 14:21:17.000000000,2019-10-22 00:02:39.000000000,2019-10-22 00:01:28.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:21:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/698e7dbd4fc4f1e0c5d7665ca0bda0cb7fb59051', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I5b339d69038db95dc339315511a1e4e949b38cb2\n'}]",0,689775,698e7dbd4fc4f1e0c5d7665ca0bda0cb7fb59051,7,2,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I5b339d69038db95dc339315511a1e4e949b38cb2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/689775/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,698e7dbd4fc4f1e0c5d7665ca0bda0cb7fb59051,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib64586355fb4e1d866a9db0910d4346a7551efff,openstack/tripleo-heat-templates,stable/train,Ib64586355fb4e1d866a9db0910d4346a7551efff,Update .gitreview for stable/train,MERGED,2019-10-21 14:21:11.000000000,2019-10-22 00:01:26.000000000,2019-10-22 00:01:26.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-21 14:21:11.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d3117b85b5be42c7e030c43265a81374dda4331b', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ib64586355fb4e1d866a9db0910d4346a7551efff\n'}]",0,689774,d3117b85b5be42c7e030c43265a81374dda4331b,7,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ib64586355fb4e1d866a9db0910d4346a7551efff
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/689774/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,d3117b85b5be42c7e030c43265a81374dda4331b,create-train,defaultbranch=stable/train,,1,0
openstack%2Fopenstack-helm-infra~master~I7fc82ecd830d460639c718614ce1cca9fd4d1953,openstack/openstack-helm-infra,master,I7fc82ecd830d460639c718614ce1cca9fd4d1953,Update Zuul Selenium to use Python3,MERGED,2019-10-17 14:12:28.000000000,2019-10-21 23:40:40.000000000,2019-10-21 23:39:22.000000000,"[{'_account_id': 8749}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 28618}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-10-17 14:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2d563996ae70def25f7ccfc61181c3583d63f86a', 'message': 'Update Zuul Selenium to use Python3\n\nThis change updates the deploy-selenium playbook\nto install Selenium using pip 3.\n\nThe shell scripts which call our selenium test python\nfiles have been updated to use python 3.\n\nChange-Id: I7fc82ecd830d460639c718614ce1cca9fd4d1953\n'}, {'number': 2, 'created': '2019-10-18 13:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5a1badc903f247f5baabccf1c1de2b8dbb4e5fe5', 'message': 'Update Zuul Selenium to use Python3\n\nThis change updates the deploy-selenium playbook\nto install Selenium using pip 3.\n\nThe shell scripts which call our selenium test python\nfiles have been updated to use python 3.\n\nDepends-on: https://review.opendev.org/687653\nChange-Id: I7fc82ecd830d460639c718614ce1cca9fd4d1953\n'}, {'number': 3, 'created': '2019-10-18 14:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/69cb509dbd61ae86dee9251def632d0cac6f7de7', 'message': 'Update Zuul Selenium to use Python3\n\nThis change updates the deploy-selenium playbook\nto install Selenium using pip 3.\n\nThe shell scripts which call our selenium test python\nfiles have been updated to use python 3.\n\nDepends-on: https://review.opendev.org/687653\nChange-Id: I7fc82ecd830d460639c718614ce1cca9fd4d1953\n'}, {'number': 4, 'created': '2019-10-18 17:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bb338f611977bf2c7bc9ee9bc71cb7e1d130749d', 'message': 'Update Zuul Selenium to use Python3\n\nThis change updates the deploy-selenium playbook\nto install Selenium using pip 3.\n\nThe shell scripts which call our selenium test python\nfiles have been updated to use python 3.\n\nChange-Id: I7fc82ecd830d460639c718614ce1cca9fd4d1953\n'}, {'number': 5, 'created': '2019-10-21 18:27:41.000000000', 'files': ['tools/deployment/common/nagios-selenium.sh', 'tools/deployment/common/grafana-selenium.sh', 'tools/deployment/common/prometheus-selenium.sh', 'tools/deployment/common/kibana-selenium.sh', 'roles/deploy-selenium/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/13f99c1cfa2a775d548e6515046b381162256c74', 'message': 'Update Zuul Selenium to use Python3\n\nThis change updates the deploy-selenium playbook\nto install Selenium using pip 3.\n\nThe shell scripts which call our selenium test python\nfiles have been updated to use python 3.\n\nChange-Id: I7fc82ecd830d460639c718614ce1cca9fd4d1953\n'}]",3,689169,13f99c1cfa2a775d548e6515046b381162256c74,32,7,5,30777,,,0,"Update Zuul Selenium to use Python3

This change updates the deploy-selenium playbook
to install Selenium using pip 3.

The shell scripts which call our selenium test python
files have been updated to use python 3.

Change-Id: I7fc82ecd830d460639c718614ce1cca9fd4d1953
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/69/689169/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/common/nagios-selenium.sh', 'tools/deployment/common/grafana-selenium.sh', 'tools/deployment/common/prometheus-selenium.sh', 'tools/deployment/common/kibana-selenium.sh', 'roles/deploy-selenium/tasks/main.yaml']",5,2d563996ae70def25f7ccfc61181c3583d63f86a,zuul-selenium-python3, executable: pip3,,5,4
openstack%2Fos-collect-config~stable%2Ftrain~If4bd1a0c53be08370428b39c40fdbf27939cf126,openstack/os-collect-config,stable/train,If4bd1a0c53be08370428b39c40fdbf27939cf126,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-21 14:16:29.000000000,2019-10-21 22:52:23.000000000,2019-10-21 22:52:23.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:16:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/0f985b9a658c153627c01810050ccb8d3347392a', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: If4bd1a0c53be08370428b39c40fdbf27939cf126\n'}]",0,689758,0f985b9a658c153627c01810050ccb8d3347392a,6,2,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: If4bd1a0c53be08370428b39c40fdbf27939cf126
",git fetch https://review.opendev.org/openstack/os-collect-config refs/changes/58/689758/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0f985b9a658c153627c01810050ccb8d3347392a,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fos-collect-config~stable%2Ftrain~I7da7988530497290805f0681bc97a3ad8e7c38df,openstack/os-collect-config,stable/train,I7da7988530497290805f0681bc97a3ad8e7c38df,Update .gitreview for stable/train,MERGED,2019-10-21 14:16:24.000000000,2019-10-21 22:52:22.000000000,2019-10-21 22:52:22.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-21 14:16:24.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/07265d6a12811f684eb6fb578ac20250f5cc6a5f', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I7da7988530497290805f0681bc97a3ad8e7c38df\n'}]",0,689757,07265d6a12811f684eb6fb578ac20250f5cc6a5f,7,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I7da7988530497290805f0681bc97a3ad8e7c38df
",git fetch https://review.opendev.org/openstack/os-collect-config refs/changes/57/689757/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,07265d6a12811f684eb6fb578ac20250f5cc6a5f,create-train,defaultbranch=stable/train,,1,0
openstack%2Fdesignate~master~I32d574b304081f6f3c9e61c36564738e978c2863,openstack/designate,master,I32d574b304081f6f3c9e61c36564738e978c2863,[DNM] Test region support,ABANDONED,2019-09-30 01:28:17.000000000,2019-10-21 22:48:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-30 01:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/877bbb09b3ebc451e2c10871c7b2c26336eade63', 'message': '[DNM] Test region support\n\nTest region support by introducing fake regions.\n\nChange-Id: I32d574b304081f6f3c9e61c36564738e978c2863\n'}, {'number': 2, 'created': '2019-10-11 23:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e03e9b8115ed4bfce41299ef0feecaff49eeaef7', 'message': '[DNM] Test region support\n\nTest region support by introducing fake regions.\n\nChange-Id: I32d574b304081f6f3c9e61c36564738e978c2863\n'}, {'number': 3, 'created': '2019-10-18 21:54:19.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/designate/commit/120b99a1d2e849f67d650af6e71d8fc0db51071b', 'message': '[DNM] Test region support\n\nTest region support by introducing fake regions.\n\nChange-Id: I32d574b304081f6f3c9e61c36564738e978c2863\n'}]",0,685633,120b99a1d2e849f67d650af6e71d8fc0db51071b,9,1,3,22623,,,0,"[DNM] Test region support

Test region support by introducing fake regions.

Change-Id: I32d574b304081f6f3c9e61c36564738e978c2863
",git fetch https://review.opendev.org/openstack/designate refs/changes/33/685633/3 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,877bbb09b3ebc451e2c10871c7b2c26336eade63,test_regions," get_or_create_endpoint ""dns"" ""RegionZero"" ""http://$DESIGNATE_SERVICE_HOST:19301/"" get_or_create_endpoint ""dns"" ""RegionO"" ""http://$DESIGNATE_SERVICE_HOST:19302/"" get_or_create_endpoint ""dns"" ""RegionOn"" ""http://$DESIGNATE_SERVICE_HOST:19303/"" get_or_create_endpoint ""dns"" ""RegionTwo"" ""http://$DESIGNATE_SERVICE_HOST:19304/"" get_or_create_endpoint ""dns"" ""RegionThree"" ""http://$DESIGNATE_SERVICE_HOST:19305/"" get_or_create_endpoint ""dns"" ""RegionFour"" ""http://$DESIGNATE_SERVICE_HOST:19306/"" get_or_create_endpoint ""dns"" ""RegionFive"" ""http://$DESIGNATE_SERVICE_HOST:19307/"" get_or_create_endpoint ""dns"" ""RegionSix"" ""http://$DESIGNATE_SERVICE_HOST:19308/"" get_or_create_endpoint ""dns"" ""RegionSeven"" ""http://$DESIGNATE_SERVICE_HOST:19309/"" get_or_create_endpoint ""dns"" ""RegionEight"" ""http://$DESIGNATE_SERVICE_HOST:19310/""",,13,0
openstack%2Fos-refresh-config~stable%2Ftrain~I4d60cf91f5b1b5b8c06a550066fa22ff690fe5b8,openstack/os-refresh-config,stable/train,I4d60cf91f5b1b5b8c06a550066fa22ff690fe5b8,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-21 14:17:31.000000000,2019-10-21 22:42:39.000000000,2019-10-21 22:42:39.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:17:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-refresh-config/commit/b5e8cc434404def00ec03ecfd59ea053ada4eab5', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I4d60cf91f5b1b5b8c06a550066fa22ff690fe5b8\n'}]",0,689762,b5e8cc434404def00ec03ecfd59ea053ada4eab5,6,2,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I4d60cf91f5b1b5b8c06a550066fa22ff690fe5b8
",git fetch https://review.opendev.org/openstack/os-refresh-config refs/changes/62/689762/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b5e8cc434404def00ec03ecfd59ea053ada4eab5,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fos-refresh-config~stable%2Ftrain~I75125ee492108bdc28886a3a9b7a959e6a914c6d,openstack/os-refresh-config,stable/train,I75125ee492108bdc28886a3a9b7a959e6a914c6d,Update .gitreview for stable/train,MERGED,2019-10-21 14:17:26.000000000,2019-10-21 22:42:38.000000000,2019-10-21 22:42:38.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-21 14:17:26.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/os-refresh-config/commit/e24cf15d452bee3f194a7d1e7b25c3384f03cfb6', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I75125ee492108bdc28886a3a9b7a959e6a914c6d\n'}]",0,689761,e24cf15d452bee3f194a7d1e7b25c3384f03cfb6,7,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I75125ee492108bdc28886a3a9b7a959e6a914c6d
",git fetch https://review.opendev.org/openstack/os-refresh-config refs/changes/61/689761/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,e24cf15d452bee3f194a7d1e7b25c3384f03cfb6,create-train,defaultbranch=stable/train,,1,0
openstack%2Fopenstack-helm-addons~master~I25214b0174549c66fc4de01a5703d557cce314ad,openstack/openstack-helm-addons,master,I25214b0174549c66fc4de01a5703d557cce314ad,Enable rabbit HA queues for Ranger-agent pods,MERGED,2019-10-17 22:14:52.000000000,2019-10-21 22:42:09.000000000,2019-10-21 22:42:09.000000000,"[{'_account_id': 8749}, {'_account_id': 17966}, {'_account_id': 18256}, {'_account_id': 18524}, {'_account_id': 19391}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-10-17 22:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/4023e493a3b558ba9755127e6c0bd3ebdbdd6c25', 'message': 'Enable rabbit HA queues for Ranger-agent pods\n\nChange-Id: I25214b0174549c66fc4de01a5703d557cce314ad\n'}, {'number': 2, 'created': '2019-10-18 15:43:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/f4fd6d8867e6dfdf6e9e2163ce29bfb6b439c9ac', 'message': 'Enable rabbit HA queues for Ranger-agent pods\n\nChange-Id: I25214b0174549c66fc4de01a5703d557cce314ad\n'}, {'number': 3, 'created': '2019-10-21 18:53:10.000000000', 'files': ['ranger-agent/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/759acc5fb410dd493149c9cacd44b10d0ba4f6b4', 'message': 'Enable rabbit HA queues for Ranger-agent pods\n\nChange-Id: I25214b0174549c66fc4de01a5703d557cce314ad\n'}]",1,689279,759acc5fb410dd493149c9cacd44b10d0ba4f6b4,17,8,3,19391,,,0,"Enable rabbit HA queues for Ranger-agent pods

Change-Id: I25214b0174549c66fc4de01a5703d557cce314ad
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/79/689279/3 && git format-patch -1 --stdout FETCH_HEAD,['ranger-agent/values.yaml'],1,4023e493a3b558ba9755127e6c0bd3ebdbdd6c25,debug, oslo_messaging_rabbit: rabbit_ha_queues: true,,2,0
openstack%2Fos-net-config~stable%2Ftrain~I9024b38a0e60cd54d33adabdedecd2e5b0d3e0a3,openstack/os-net-config,stable/train,I9024b38a0e60cd54d33adabdedecd2e5b0d3e0a3,Update .gitreview for stable/train,MERGED,2019-10-21 14:16:57.000000000,2019-10-21 22:33:58.000000000,2019-10-21 22:32:29.000000000,"[{'_account_id': 3153}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-21 14:16:57.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/f2a705d3066fe51c80db6c9282dd53b1d6ade709', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I9024b38a0e60cd54d33adabdedecd2e5b0d3e0a3\n'}]",0,689759,f2a705d3066fe51c80db6c9282dd53b1d6ade709,9,4,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I9024b38a0e60cd54d33adabdedecd2e5b0d3e0a3
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/59/689759/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,f2a705d3066fe51c80db6c9282dd53b1d6ade709,create-train,defaultbranch=stable/train,,1,0
openstack%2Fdesignate~master~Ib7e8bf2ad79ffe906698256664be680750f2e1e9,openstack/designate,master,Ib7e8bf2ad79ffe906698256664be680750f2e1e9,Remove wsgi eventlet monkey patch,MERGED,2019-10-03 05:15:02.000000000,2019-10-21 22:15:03.000000000,2019-10-21 22:13:29.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-10-03 05:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4c58b6d7ebc77dde28c85a4b838a1e604ee123ef', 'message': '[WIP] Testing api changes\n\nChange-Id: Ib7e8bf2ad79ffe906698256664be680750f2e1e9\n'}, {'number': 2, 'created': '2019-10-03 05:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3fbcf45a40566027ea3cbb503c5e5547d52c4df6', 'message': '[WIP] Testing api changes\n\nChange-Id: Ib7e8bf2ad79ffe906698256664be680750f2e1e9\n'}, {'number': 3, 'created': '2019-10-03 06:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c6c4efc37d15e07bc5a02e9dc07179561a1646cb', 'message': '[WIP] Testing api changes\n\nChange-Id: Ib7e8bf2ad79ffe906698256664be680750f2e1e9\n'}, {'number': 4, 'created': '2019-10-03 07:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cd906a915e1e304d5d7ca7702f204a7b0a68e55f', 'message': '[WIP] Testing api changes\n\nChange-Id: Ib7e8bf2ad79ffe906698256664be680750f2e1e9\n'}, {'number': 5, 'created': '2019-10-03 07:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/258303ca100d415691562230b3ce901be2cf4170', 'message': '[WIP] Testing api changes\n\nChange-Id: Ib7e8bf2ad79ffe906698256664be680750f2e1e9\n'}, {'number': 6, 'created': '2019-10-04 06:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/dc4a303b82415fea6ec731aa89f5bcafb339bc0c', 'message': '[WIP] Testing api changes\n\nChange-Id: Ib7e8bf2ad79ffe906698256664be680750f2e1e9\n'}, {'number': 7, 'created': '2019-10-04 07:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/76f712a7c9bb335441a79ab6c3af4e1e622c9372', 'message': '[WIP] Testing api changes\n\nChange-Id: Ib7e8bf2ad79ffe906698256664be680750f2e1e9\n'}, {'number': 8, 'created': '2019-10-05 01:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f4b080bcc7af6d6295d3c8aea8f9c819f5234372', 'message': '[WIP] Testing api changes\n\nChange-Id: Ib7e8bf2ad79ffe906698256664be680750f2e1e9\n'}, {'number': 9, 'created': '2019-10-05 02:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a34a7f833122bbd828f229d9fd57f33b70446452', 'message': '[WIP] Testing api changes\n\nChange-Id: Ib7e8bf2ad79ffe906698256664be680750f2e1e9\n'}, {'number': 10, 'created': '2019-10-05 03:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/54d765d2711707d9093d868cebac3b024d02e564', 'message': '[WIP] Testing api changes\n\nChange-Id: Ib7e8bf2ad79ffe906698256664be680750f2e1e9\n'}, {'number': 11, 'created': '2019-10-05 06:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f3f364336317eb5c34af2b13c0f3ef0f38260596', 'message': '[WIP] Testing api changes\n\nChange-Id: Ib7e8bf2ad79ffe906698256664be680750f2e1e9\n'}, {'number': 12, 'created': '2019-10-05 06:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2b838b04f49fdfde35eb22c1a382fb65e1b68af8', 'message': '[WIP] Testing api changes\n\nChange-Id: Ib7e8bf2ad79ffe906698256664be680750f2e1e9\n'}, {'number': 13, 'created': '2019-10-05 09:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/50a069b1135929137689659dcb98a8c5b8b5424e', 'message': '[WIP] Testing api changes\n\nChange-Id: Ib7e8bf2ad79ffe906698256664be680750f2e1e9\n'}, {'number': 14, 'created': '2019-10-05 09:50:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5e0774fa6ffadfd5f5b2ac64a8352d20771d5fcc', 'message': '[WIP] Testing api changes\n\nChange-Id: Ib7e8bf2ad79ffe906698256664be680750f2e1e9\n'}, {'number': 15, 'created': '2019-10-06 04:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4c622fac2376da1db25cf33e5697a5a3d57039e8', 'message': '[WIP] Testing api changes\n\nChange-Id: Ib7e8bf2ad79ffe906698256664be680750f2e1e9\n'}, {'number': 16, 'created': '2019-10-07 04:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5774ee9f5784c3e53bbde2d76c4f796b131f4d6d', 'message': 'Cleaned up api\n\n* Use Pecan Hooks for rpc and cfg.\n* Cleaned up middlewears.\n\nChange-Id: Ib7e8bf2ad79ffe906698256664be680750f2e1e9\n'}, {'number': 17, 'created': '2019-10-07 05:00:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f5557db4f65d620777556912ac62e419a848eed9', 'message': 'Cleaned up api\n\n* Use Pecan Hooks for rpc and cfg.\n* Cleaned up middlewears.\n* Removed monkey patching for wsgi endpoint.\n* Reduced heartbeat threadpool to 1.\n* Moved config pecan config opt to the right place.\n* Re-arranged order of middlewears.\n\nChange-Id: Ib7e8bf2ad79ffe906698256664be680750f2e1e9\n'}, {'number': 18, 'created': '2019-10-21 04:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/fcda541d515184dc654fee5d0b183eeb21800f28', 'message': ""Remove wsgi evenlet patch\n\nWe don't actually need to monkey patch the\napi component.\n\nChange-Id: Ib7e8bf2ad79ffe906698256664be680750f2e1e9\n""}, {'number': 19, 'created': '2019-10-21 04:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cd4f6e6f8cc3a8c2cb3babc597f97bdc479ff560', 'message': ""Remove wsgi evenlet monkey patch\n\nWe don't actually need to monkey patch the\napi component.\n\nChange-Id: Ib7e8bf2ad79ffe906698256664be680750f2e1e9\n""}, {'number': 20, 'created': '2019-10-21 04:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2a05f8d32d47c589f9850d245e54a8094abc40a5', 'message': ""Remove wsgi eventlet monkey patch\n\nWe don't actually need to monkey patch the\napi component.\n\nChange-Id: Ib7e8bf2ad79ffe906698256664be680750f2e1e9\n""}, {'number': 21, 'created': '2019-10-21 19:56:04.000000000', 'files': ['designate/api/wsgi.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/68d8d8f4e5b896ca4c7363972d0ba88a7c5d3d50', 'message': ""Remove wsgi eventlet monkey patch\n\nWe don't actually need to monkey patch the\napi component.\n\nChange-Id: Ib7e8bf2ad79ffe906698256664be680750f2e1e9\n""}]",0,686332,68d8d8f4e5b896ca4c7363972d0ba88a7c5d3d50,45,3,21,22623,,,0,"Remove wsgi eventlet monkey patch

We don't actually need to monkey patch the
api component.

Change-Id: Ib7e8bf2ad79ffe906698256664be680750f2e1e9
",git fetch https://review.opendev.org/openstack/designate refs/changes/32/686332/6 && git format-patch -1 --stdout FETCH_HEAD,"['designate/api/v2/controllers/common.py', 'designate/api/v2/controllers/zones/tasks/imports.py', 'designate/api/v2/controllers/service_status.py', 'designate/api/admin/controllers/extensions/tenants.py', 'designate/api/v2/controllers/zones/tasks/transfer_requests.py', 'designate/api/v2/controllers/zones/tasks/exports.py', 'designate/api/wsgi.py', 'designate/api/v2/controllers/tsigkeys.py', 'designate/api/v2/controllers/tlds.py', 'designate/api/v2/controllers/blacklists.py', 'designate/api/v2/controllers/floatingips.py', 'designate/api/hooks.py', 'designate/api/__init__.py', 'designate/api/v2/controllers/pools.py', 'designate/api/v2/controllers/quotas.py', 'designate/conf/api.py', 'designate/api/v2/controllers/zones/tasks/xfr.py', 'designate/api/v2/controllers/recordsets.py', 'designate/api/v2/controllers/rest.py', 'designate/api/admin/app.py', 'designate/api/v2/controllers/limits.py', 'designate/api/v2/controllers/zones/recordsets.py', 'designate/api/v2/controllers/zones/tasks/abandon.py', 'designate/api/admin/controllers/extensions/quotas.py', 'designate/api/admin/controllers/extensions/export.py', 'designate/api/admin/controllers/extensions/counts.py', 'designate/api/v2/app.py', 'designate/api/v2/controllers/zones/tasks/transfer_accepts.py', 'designate/api/v2/controllers/zones/nameservers.py', 'designate/api/v2/controllers/zones/__init__.py']",30,4c58b6d7ebc77dde28c85a4b838a1e604ee123ef,monkey_patch,"from designate import api zone = api.request.rpcapi.get_zone(context, zone_id) zones = api.request.rpcapi.find_zones( zone = api.request.rpcapi.create_zone(context, zone) zone = api.request.rpcapi.get_zone(context, zone_id) zone = api.request.rpcapi.update_zone( zone = api.request.rpcapi.delete_zone(context, zone_id)"," zone = self.central_api.get_zone(context, zone_id) zones = self.central_api.find_zones( zone = self.central_api.create_zone(context, zone) zone = self.central_api.get_zone(context, zone_id) zone = self.central_api.update_zone( zone = self.central_api.delete_zone(context, zone_id)",155,112
openstack%2Fopenstack-ansible~stable%2Fstein~Ibb7027863e6763ce8f7f0959cd85f8327ebd3128,openstack/openstack-ansible,stable/stein,Ibb7027863e6763ce8f7f0959cd85f8327ebd3128,Bump SHAs for stable/stein,MERGED,2019-10-20 15:15:35.000000000,2019-10-21 22:12:56.000000000,2019-10-21 22:11:14.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-20 15:15:35.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4f394247a3ab6bff18ee22452e4fa0fadd01f175', 'message': 'Bump SHAs for stable/stein\n\nChange-Id: Ibb7027863e6763ce8f7f0959cd85f8327ebd3128\n'}]",0,689653,4f394247a3ab6bff18ee22452e4fa0fadd01f175,10,3,1,17068,,,0,"Bump SHAs for stable/stein

Change-Id: Ibb7027863e6763ce8f7f0959cd85f8327ebd3128
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/53/689653/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,4f394247a3ab6bff18ee22452e4fa0fadd01f175,bump_osa, version: faf60ddb53dd3d345ea3644f818805a3d356b104 version: 06df5a31eadf7b06bc79a55874f4768c099d5e54 version: 50b4ba301fa2d1637966825935a459da8932709a version: 362ce495195732348ca7fc4217e10817f835506a version: eccb5c13fec9d9efcccb821dbcf0f344cd515eec version: 813328058f29a0853f37b100c1164553e9220bcf version: 60bfce9173ca10af23edd38d098ed6f61a21ef68 version: eac5f430863fb71b90fd89a0077558192517da17 version: 52bba29a7ff953a69a73f7bb994bb46f1d02919c version: ddb1b6e69b1660f24f345806cf27dbc86dd4afb3, version: 25ad47732fd45b0f8ea7580e5f053880f2efcf96 version: a706e9c962ca87eaa070a0a6f25379f3c2a35c57 version: 164e55ab26e859077fce454334e8fd1dae02c46c version: 57811decb0198f171c8a8477dd3907862a14b485 version: b868e5d4db1dee73322ca8499ad4480755235eca version: e0583fd473e424c36bc8bad6aae2e19bc896556d version: df6d5d7d507b0c083441ef792e0f44e9f2526acc version: 8c47b77823c5a721c763a3ab3c2ab5e204456d5e version: 2d40e3923f61c24985ae1c4e515048a332672c49 version: 9a601b65884e7bf86e84d1799e3e1dea9a79c997,59,59
openstack%2Fsenlin~master~Iac2b93b2b3d8367170cbef1e264a2e6ebbc83566,openstack/senlin,master,Iac2b93b2b3d8367170cbef1e264a2e6ebbc83566,[DNM] Testing IPv6,ABANDONED,2019-10-18 05:58:35.000000000,2019-10-21 22:00:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-18 05:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/604e96bf187dae9d6a1a31a5172d955db3738542', 'message': '[DNM] Testing IPv6\n\nDepends-On: https://review.opendev.org/#/c/688784/\nChange-Id: Iac2b93b2b3d8367170cbef1e264a2e6ebbc83566\n'}, {'number': 2, 'created': '2019-10-18 06:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/6f962874bea40bf166233f7a408cb88d822da608', 'message': '[DNM] Testing IPv6\n\nDepends-On: https://review.opendev.org/#/c/688784/\nChange-Id: Iac2b93b2b3d8367170cbef1e264a2e6ebbc83566\n'}, {'number': 3, 'created': '2019-10-20 23:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/2f41ae030e67a46ab9f1493b523e350268afa34a', 'message': '[DNM] Testing IPv6\n\nDepends-On: https://review.opendev.org/#/c/688784/\nChange-Id: Iac2b93b2b3d8367170cbef1e264a2e6ebbc83566\n'}, {'number': 4, 'created': '2019-10-20 23:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/senlin/commit/6aa9168d71ad99c3e44fcdd5f8c81dada5d8046a', 'message': '[DNM] Testing IPv6\n\nDepends-On: https://review.opendev.org/#/c/688784/\nChange-Id: Iac2b93b2b3d8367170cbef1e264a2e6ebbc83566\n'}, {'number': 5, 'created': '2019-10-21 17:28:06.000000000', 'files': ['.zuul.yaml', 'devstack/lib/senlin'], 'web_link': 'https://opendev.org/openstack/senlin/commit/2b24ff43472d8fffeec654f82d0f907a60607cf6', 'message': '[DNM] Testing IPv6\n\nChange-Id: Iac2b93b2b3d8367170cbef1e264a2e6ebbc83566\n'}]",0,689315,2b24ff43472d8fffeec654f82d0f907a60607cf6,9,1,5,22623,,,0,"[DNM] Testing IPv6

Change-Id: Iac2b93b2b3d8367170cbef1e264a2e6ebbc83566
",git fetch https://review.opendev.org/openstack/senlin refs/changes/15/689315/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,604e96bf187dae9d6a1a31a5172d955db3738542,test_ipv6, - senlin-tempest-api-ipv6-only - senlin-tempest-api-ipv6-only required-projects: &base_required_projects irrelevant-files: &base_irrelevant_files vars: &base_vars name: senlin-tempest-api-ipv6-only parent: devstack-tempest-ipv6 description: | Senlin devstack tempest tests job for IPv6-only deployment irrelevant-files: *base_irrelevant_files required-projects: *base_required_projects timeout: 7800 vars: <<: *base_vars tempest_test_regex: senlin_tempest_plugin.tests.api devstack_local_conf: post-config: $SENLIN_CONF: DEFAULT: cloud_backend: openstack_test - job:, required-projects: irrelevant-files: vars: health_policy_version: '1.1',22,4
openstack%2Fproject-config~master~I5687c25113c2f821c2d29df0c190b04b631f56c1,openstack/project-config,master,I5687c25113c2f821c2d29df0c190b04b631f56c1,Add openstack/barbican-ui,MERGED,2019-10-15 13:53:40.000000000,2019-10-21 21:51:48.000000000,2019-10-21 21:51:48.000000000,"[{'_account_id': 1736}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-15 13:53:40.000000000', 'files': ['gerritbot/channels.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/35db482c5af4d5a67ca2e457a8b0e7955592ca69', 'message': 'Add openstack/barbican-ui\n\nNeeded-By: If6f64ae6e275e5e235ef0a41f5266fe209db3da4\n\nChange-Id: I5687c25113c2f821c2d29df0c190b04b631f56c1\n'}]",0,688714,35db482c5af4d5a67ca2e457a8b0e7955592ca69,12,5,1,7973,,,0,"Add openstack/barbican-ui

Needed-By: If6f64ae6e275e5e235ef0a41f5266fe209db3da4

Change-Id: I5687c25113c2f821c2d29df0c190b04b631f56c1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/14/688714/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,35db482c5af4d5a67ca2e457a8b0e7955592ca69,barbican-ui, - openstack/barbican-ui,,9,0
openstack%2Foctavia~master~I5962e335acff79152fa49c27c883aef2879593db,openstack/octavia,master,I5962e335acff79152fa49c27c883aef2879593db,Fix log offload file permissions in CentOS devstack,MERGED,2019-10-10 15:37:39.000000000,2019-10-21 21:44:48.000000000,2019-10-21 21:37:37.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-10 15:37:39.000000000', 'files': ['devstack/etc/rsyslog/10-octavia-log-offloading.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d56b9d65c104c70749eb11d9a8c1f883af53a574', 'message': 'Fix log offload file permissions in CentOS devstack\n\nCentOS sets a restrictive umask by default that will override the\nrsyslog file permissions settings. This can cause our tempest tests\nto no be able to read the log offload files in our CentOS gate jobs.\nThis patch clears this umask override in the devstack rsyslog\nconfiguration.\n\nNote: This is a global setting for rsyslog and you probably do not\n      want to set this outside of a testing environment.\n\nChange-Id: I5962e335acff79152fa49c27c883aef2879593db\n'}]",0,687938,d56b9d65c104c70749eb11d9a8c1f883af53a574,19,7,1,11628,,,0,"Fix log offload file permissions in CentOS devstack

CentOS sets a restrictive umask by default that will override the
rsyslog file permissions settings. This can cause our tempest tests
to no be able to read the log offload files in our CentOS gate jobs.
This patch clears this umask override in the devstack rsyslog
configuration.

Note: This is a global setting for rsyslog and you probably do not
      want to set this outside of a testing environment.

Change-Id: I5962e335acff79152fa49c27c883aef2879593db
",git fetch https://review.opendev.org/openstack/octavia refs/changes/38/687938/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/etc/rsyslog/10-octavia-log-offloading.conf'],1,d56b9d65c104c70749eb11d9a8c1f883af53a574,,"# Work around CentOS/RHEL umask override of file permissions # Note: This is a global rsyslog setting, you probably do not want to set # this outside of testing! $umask 0000 ",,5,0
openstack%2Fos-apply-config~stable%2Ftrain~If8e3a51edd776b19dd2ad0eb140a83ae8d5f5f54,openstack/os-apply-config,stable/train,If8e3a51edd776b19dd2ad0eb140a83ae8d5f5f54,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-21 14:15:59.000000000,2019-10-21 21:36:19.000000000,2019-10-21 21:36:19.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:15:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/3c6e3cd638f31bce14344e19ac3ff22d74c0c4af', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: If8e3a51edd776b19dd2ad0eb140a83ae8d5f5f54\n'}]",0,689756,3c6e3cd638f31bce14344e19ac3ff22d74c0c4af,6,2,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: If8e3a51edd776b19dd2ad0eb140a83ae8d5f5f54
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/56/689756/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3c6e3cd638f31bce14344e19ac3ff22d74c0c4af,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fos-apply-config~stable%2Ftrain~I39067ffdd3c7f4e6b37c776e2ba9f055d8684385,openstack/os-apply-config,stable/train,I39067ffdd3c7f4e6b37c776e2ba9f055d8684385,Update .gitreview for stable/train,MERGED,2019-10-21 14:15:55.000000000,2019-10-21 21:36:18.000000000,2019-10-21 21:36:18.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-21 14:15:55.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/os-apply-config/commit/660e33f2702dfe1e6caf769f1c3941a2db55bb62', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I39067ffdd3c7f4e6b37c776e2ba9f055d8684385\n'}]",0,689755,660e33f2702dfe1e6caf769f1c3941a2db55bb62,7,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I39067ffdd3c7f4e6b37c776e2ba9f055d8684385
",git fetch https://review.opendev.org/openstack/os-apply-config refs/changes/55/689755/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,660e33f2702dfe1e6caf769f1c3941a2db55bb62,create-train,defaultbranch=stable/train,,1,0
openstack%2Fproject-config~master~I0f69a0ab5d9919afecc027f5718195e6d86718ac,openstack/project-config,master,I0f69a0ab5d9919afecc027f5718195e6d86718ac,Update neutron-tempest-plugin grafana dashboard,MERGED,2019-10-09 21:42:50.000000000,2019-10-21 21:29:42.000000000,2019-10-21 21:29:41.000000000,"[{'_account_id': 4146}, {'_account_id': 4694}, {'_account_id': 6547}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 17130}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-09 21:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/79fe75141eddddf7f0f7ebcff016c05dc81a48f4', 'message': ""Update neutron-tempest-plugin grafana dashboard\n\nAs discussed in the neutron-ci meeting, there has been an explosion of\njobs in the neutron-tempest-plugin project that have not been reflected\nin it's grafana dashboard.  This provides a long overdue update.\n\nChange-Id: I0f69a0ab5d9919afecc027f5718195e6d86718ac\n""}, {'number': 2, 'created': '2019-10-11 12:25:13.000000000', 'files': ['grafana/neutron-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ad5313168d9a5ab1d3a387fbcec7efea788a0b2f', 'message': ""Update neutron-tempest-plugin grafana dashboard\n\nAs discussed in the neutron-ci meeting, there has been an explosion of\njobs in the neutron-tempest-plugin project that have not been reflected\nin it's grafana dashboard.  This provides a long overdue update.\n\nDepends-On: https://review.opendev.org/685214\nChange-Id: I0f69a0ab5d9919afecc027f5718195e6d86718ac\n""}]",4,687686,ad5313168d9a5ab1d3a387fbcec7efea788a0b2f,23,11,2,13995,,,0,"Update neutron-tempest-plugin grafana dashboard

As discussed in the neutron-ci meeting, there has been an explosion of
jobs in the neutron-tempest-plugin project that have not been reflected
in it's grafana dashboard.  This provides a long overdue update.

Depends-On: https://review.opendev.org/685214
Change-Id: I0f69a0ab5d9919afecc027f5718195e6d86718ac
",git fetch https://review.opendev.org/openstack/project-config refs/changes/86/687686/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/neutron-tempest-plugin.yaml'],1,79fe75141eddddf7f0f7ebcff016c05dc81a48f4,update_neutron_tempest_plugin_grafana," time: from: ""now-7d"" to: ""now"" - title: Scenario Failure Rates (Gate queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid') type: graph - title: Number of Scenario Failures (Gate queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid') type: graph - title: Stable Release Failure Rates (Gate queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-queens.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-queens.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-api-queens') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-rocky.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-rocky.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-api-rocky') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-stein.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-stein.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-api-stein') type: graph - title: Number of Stable Release Failures (Gate queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-queens.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-queens') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-rocky.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-rocky') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-stein.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-stein') type: graph - title: Stadium Failure Rates (Gate queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-bgpvpn-bagpipe.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-bgpvpn-bagpipe.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-bgpvpn-bagpipe') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-dynamic-routing.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-dynamic-routing.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-dynamic-routing') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-fwaas.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-fwaas.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-fwaas') type: graph - title: Number of Stadium Failures (Gate queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-bgpvpn-bagpipe.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-bgpvpn-bagpipe') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-dynamic-routing.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-dynamic-routing') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-fwaas.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-fwaas') type: graph - title: Basic Failure Rates (Gate queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.openstack-tox-docs.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.openstack-tox-docs.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-docs') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.openstack-tox-pep8.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.openstack-tox-pep8.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-pep8') - title: Number of Basic Failures (Gate queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.openstack-tox-docs.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-docs') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.openstack-tox-pep8.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-pep8') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api') type: graph - title: Scenario Failure Rates (Check queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-designate-scenario') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-dvr-multinode-scenario (non-voting)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid') type: graph - title: Number of Scenario Failures (Check queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-designate-scenario') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-dvr-multinode-scenario (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid') type: graph - title: Stein Release Failure Rates (Check queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-stein.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-stein.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-api-stein') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-stein.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-stein.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-designate-scenario-stein') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-stein.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-stein.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-dvr-multinode-scenario-stein (non-voting)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-stein.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-stein.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-stein') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-stein.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-stein.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-stein') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-stein.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-stein.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-stein') type: graph - title: Number of Stein Release Failures (Check queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-stein.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-stein') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-stein.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-designate-scenario-stein') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-stein.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-dvr-multinode-scenario-stein (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-stein.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-stein') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-stein.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-stein') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-stein.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-stein') type: graph - title: Rocky Release Failure Rates (Check queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-rocky.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-rocky.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-api-rocky') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-rocky.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-rocky.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-designate-scenario-rocky') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-rocky.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-rocky.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-dvr-multinode-scenario-rocky (non-voting)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-rocky.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-rocky.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-rocky') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-rocky.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-rocky.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-rocky') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky') type: graph - title: Number of Rocky Release Failures (Check queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-rocky.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-rocky') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-rocky.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-designate-scenario-rocky') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-rocky.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-dvr-multinode-scenario-rocky (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-rocky.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-rocky') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-rocky.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-rocky') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid-rocky') type: graph - title: Queens Release Failure Rates (Check queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-queens.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-queens.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-api-queens') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-queens.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-queens.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-designate-scenario-queens') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-queens.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-queens.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-dvr-multinode-scenario-queens (non-voting)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-queens.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-queens.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-queens') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-queens.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-queens.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-queens') type: graph - title: Number of Queens Release Failures (Check queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api-queens.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api-queens') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario-queens.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-designate-scenario-queens') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-dvr-multinode-scenario-queens.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-dvr-multinode-scenario-queens (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge-queens.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge-queens') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-openvswitch-queens.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-scenario-openvswitch-queens') type: graph - title: Stadium Failure Rates (Check queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-bgpvpn-bagpipe.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-bgpvpn-bagpipe.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-bgpvpn-bagpipe') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-dynamic-routing.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-dynamic-routing.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-dynamic-routing') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-sfc.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-sfc.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-sfc') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-sfc.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-sfc.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-sfc') type: graph - title: Number of Stadium Failures (Check queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-bgpvpn-bagpipe.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-bgpvpn-bagpipe') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-dynamic-routing.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-dynamic-routing') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-fwaas.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-fwaas') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-sfc.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-sfc') type: graph - title: Basic Failure Rates (Check queue) span: 6 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.openstack-tox-docs.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.openstack-tox-docs.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-docs') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.openstack-tox-pep8.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.openstack-tox-pep8.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-pep8') type: graph - title: Number of Basic Failures (Check queue) span: 6 targets: - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.openstack-tox-docs.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-docs') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.openstack-tox-pep8.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'openstack-tox-pep8') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-api.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'neutron-tempest-plugin-api')"," - title: Failure Rates (Gate queue) span: 4 targets: - title: Failure Rates (Check queue) span: 4 targets: - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-designate-scenario.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-designate-scenario (non-voting)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-dvr-multinode-scenario.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-dvr-multinode-scenario.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-dvr-multinode-scenario (non-voting)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron-tempest-plugin.master.job.neutron-tempest-plugin-scenario-linuxbridge.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-plugin-scenario-linuxbridge (non-voting)')",162,7
openstack%2Fproject-config~master~Ib1f3b02d422bd4cb1804c1849311b990fbf24586,openstack/project-config,master,Ib1f3b02d422bd4cb1804c1849311b990fbf24586,Add stable notifications to openstack-glance,MERGED,2019-10-10 15:10:14.000000000,2019-10-21 21:29:40.000000000,2019-10-21 21:29:40.000000000,"[{'_account_id': 4146}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 6547}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 15:10:14.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8e44e20d3d75e154822e4254b97531fe8e11b3b0', 'message': 'Add stable notifications to openstack-glance\n\nChange-Id: Ib1f3b02d422bd4cb1804c1849311b990fbf24586\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,687931,8e44e20d3d75e154822e4254b97531fe8e11b3b0,7,6,1,11904,,,0,"Add stable notifications to openstack-glance

Change-Id: Ib1f3b02d422bd4cb1804c1849311b990fbf24586
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/31/687931/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,8e44e20d3d75e154822e4254b97531fe8e11b3b0,glance-stable, - ^stable/.*,,1,0
openstack%2Fopenstack-helm-infra~master~Ie9fa1d84d899bb4be3cebb32e2a2f5b946490067,openstack/openstack-helm-infra,master,Ie9fa1d84d899bb4be3cebb32e2a2f5b946490067,RFC: Refactor DB backup scripts,ABANDONED,2019-10-15 00:53:16.000000000,2019-10-21 21:28:13.000000000,,"[{'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-15 00:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d615d8b8cdf1c30d968c9edbf24cde3e17873cfb', 'message': 'RFC: Refactor DB backup scripts\n\nThis patch set refactors the DB backup scripts to reduce the logic involved\nin removing old archive files.\n\nChange-Id: Ie9fa1d84d899bb4be3cebb32e2a2f5b946490067\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2019-10-15 00:56:18.000000000', 'files': ['postgresql/templates/bin/_backup_postgresql.sh.tpl', 'mariadb/templates/bin/_backup_mariadb.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4174432991d19782db286d839cbd7098781aa1d1', 'message': 'RFC: Refactor DB backup scripts\n\nThis patch set refactors the DB backup scripts to reduce the logic involved\nin removing old archive files.\n\nChange-Id: Ie9fa1d84d899bb4be3cebb32e2a2f5b946490067\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,688590,4174432991d19782db286d839cbd7098781aa1d1,5,2,2,20466,,,0,"RFC: Refactor DB backup scripts

This patch set refactors the DB backup scripts to reduce the logic involved
in removing old archive files.

Change-Id: Ie9fa1d84d899bb4be3cebb32e2a2f5b946490067
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/90/688590/2 && git format-patch -1 --stdout FETCH_HEAD,"['postgresql/templates/bin/_backup_postgresql.sh.tpl', 'mariadb/templates/bin/_backup_mariadb.sh.tpl']",2,d615d8b8cdf1c30d968c9edbf24cde3e17873cfb,refactor,"if [ $ARCHIVE_RET -eq 0 ]; then if [ ""$MARIADB_BACKUP_DAYS_TO_KEEP"" -gt 0 ] && [ -d $ARCHIVE_DIR ]; then echo ""Deleting backups older than $POSTGRESQL_BACKUP_DAYS_TO_KEEP days"" # Increment this by 1 day to avoid the mtime round-down logic POSTGRESQL_BACKUP_DAYS_TO_KEEP=$(($POSTGRESQL_BACKUP_DAYS_TO_KEEP + 1)) find $ARCHIVE_DIR -name ""*.gz"" -type f -mtime +$POSTGRESQL_BACKUP_DAYS_TO_KEEP -exec rm -f {} \; fi","days_difference() { archive_date=$( date --date=""$1"" +%s ) if [ ""$?"" -ne 0 ] then day_delta=0 fi current_date=$( date +%s ) date_delta=$(($current_date-$archive_date)) if [ ""$date_delta"" -lt 0 ] then day_delta=0 else day_delta=$(($date_delta/86400)) fi echo $day_delta } if [ $ARCHIVE_RET -eq 0 ] then if [ ""$MARIADB_BACKUP_DAYS_TO_KEEP"" -gt 0 ] then echo ""Deleting backups older than $MARIADB_BACKUP_DAYS_TO_KEEP days"" if [ -d $ARCHIVE_DIR ] then for archive_file in $(ls -1 $ARCHIVE_DIR/*.gz) do archive_date=$( echo $archive_file | awk -F/ '{print $NF}' | cut -d'.' -f 3) if [ ""$(days_difference $archive_date)"" -gt ""$MARIADB_BACKUP_DAYS_TO_KEEP"" ] then rm -rf $archive_file fi done fi fi",14,69
openstack%2Ftripleo-common~master~I78d6d753df46c3964b9a4867eb93767230c4dae6,openstack/tripleo-common,master,I78d6d753df46c3964b9a4867eb93767230c4dae6,Don't rely on crudini for octavia config,MERGED,2019-02-15 13:06:09.000000000,2019-10-21 21:18:46.000000000,2019-03-18 11:16:38.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 8449}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-02-15 13:06:09.000000000', 'files': ['playbooks/roles/octavia-controller-post-config/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a2ad746d9de877d6bcc6e9dcc40bdec789630006', 'message': ""Don't rely on crudini for octavia config\n\nRelying on crudini being available on the overcloud nodes has turned out\nto be relatively fragile. This changes octavia playbooks to use awk\ninstead of crudini to lookup a config item on the overcloud node.\n\nChange-Id: I78d6d753df46c3964b9a4867eb93767230c4dae6\nCloses-Bug: #1814320\n""}]",3,637180,a2ad746d9de877d6bcc6e9dcc40bdec789630006,16,7,1,6681,,,0,"Don't rely on crudini for octavia config

Relying on crudini being available on the overcloud nodes has turned out
to be relatively fragile. This changes octavia playbooks to use awk
instead of crudini to lookup a config item on the overcloud node.

Change-Id: I78d6d753df46c3964b9a4867eb93767230c4dae6
Closes-Bug: #1814320
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/80/637180/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/octavia-controller-post-config/tasks/main.yml'],1,a2ad746d9de877d6bcc6e9dcc40bdec789630006,bug/1814320," awk -F '=' -e '/^controller_ip_port_list/ { print $2; }' ""{{octavia_confd_prefix}}/etc/octavia/conf.d/octavia-worker/worker-post-deploy.conf"" failed_when: config_contents.rc != 0"," crudini --get ""{{octavia_confd_prefix}}/etc/octavia/conf.d/octavia-worker/worker-post-deploy.conf"" health_manager controller_ip_port_list failed_when: config_contents.rc != 0 and 'Parameter not found' not in config_contents.stderr",2,2
openstack%2Ftripleo-ansible~master~I8da16dd77b77b8d81510cb1818f5d8c572080825,openstack/tripleo-ansible,master,I8da16dd77b77b8d81510cb1818f5d8c572080825,Simplify octavia post deploy configs,MERGED,2019-10-08 14:12:36.000000000,2019-10-21 20:46:25.000000000,2019-10-21 20:44:15.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-08 14:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/92694c50ba100364be1b3c5374b7c4011a4c5ef5', 'message': 'Simplify octavia post deploy configs\n\nOctavia shares config across multiple services in sometimes unexpected\nways. To avoid problems, this patch merges external deploy tasks\nconfiguration into a single file.\n\nRelated-Bug: #1836074\n\nCo-Authored-By: Brent Eagles <beagles@redhat.com>\nChange-Id: I8da16dd77b77b8d81510cb1818f5d8c572080825\n'}, {'number': 2, 'created': '2019-10-10 11:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ed8e6dabb17339f0a58493a5e6b08a55b1334689', 'message': 'Simplify octavia post deploy configs\n\nOctavia shares config across multiple services in sometimes unexpected\nways. To avoid problems, this patch merges external deploy tasks\nconfiguration into a single file.\n\nRelated-Bug: #1836074\n\nCo-Authored-By: Brent Eagles <beagles@redhat.com>\nChange-Id: I8da16dd77b77b8d81510cb1818f5d8c572080825\n'}, {'number': 3, 'created': '2019-10-21 11:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/891d59a2fad4eacdf35b13c13bbd5583f7290cd7', 'message': 'Simplify octavia post deploy configs\n\nOctavia shares config across multiple services in sometimes unexpected\nways. To avoid problems, this patch merges external deploy tasks\nconfiguration into a single file.\n\nRelated-Bug: #1836074\n\nCo-Authored-By: Brent Eagles <beagles@redhat.com>\nChange-Id: I8da16dd77b77b8d81510cb1818f5d8c572080825\n'}, {'number': 4, 'created': '2019-10-21 14:50:19.000000000', 'files': ['tripleo_ansible/roles/octavia-controller-config/tasks/main.yml', 'releasenotes/notes/fix-scattered-octavia-configs-2ef4f66ed1e02b60.yaml', 'tripleo_ansible/roles/octavia-controller-post-config/tasks/main.yml', 'tripleo_ansible/roles/octavia-controller-config/templates/manager-post-deploy.conf.j2', 'tripleo_ansible/roles/octavia-controller-config/tasks/octavia.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a8bdaf8d55a5ec4536afe9bbc8f87acecbc1f611', 'message': 'Simplify octavia post deploy configs\n\nOctavia shares config across multiple services in sometimes unexpected\nways. To avoid problems, this patch merges external deploy tasks\nconfiguration into a single file.\n\nRelated-Bug: #1836074\n\nCo-Authored-By: Brent Eagles <beagles@redhat.com>\nChange-Id: I8da16dd77b77b8d81510cb1818f5d8c572080825\n'}]",0,687311,a8bdaf8d55a5ec4536afe9bbc8f87acecbc1f611,34,6,4,6469,,,0,"Simplify octavia post deploy configs

Octavia shares config across multiple services in sometimes unexpected
ways. To avoid problems, this patch merges external deploy tasks
configuration into a single file.

Related-Bug: #1836074

Co-Authored-By: Brent Eagles <beagles@redhat.com>
Change-Id: I8da16dd77b77b8d81510cb1818f5d8c572080825
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/11/687311/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-scattered-octavia-configs-2ef4f66ed1e02b60.yaml', 'tripleo_ansible/roles/octavia-controller-post-config/tasks/main.yml', 'tripleo_ansible/roles/octavia-controller-config/templates/manager-post-deploy.conf.j2', 'tripleo_ansible/roles/octavia-controller-config/tasks/octavia.yml']",4,92694c50ba100364be1b3c5374b7c4011a4c5ef5,bug/1836074,"- name: setting [health_manager]/bind_ip ini_file: path: ""{{ octavia_confd_prefix }}/etc/octavia/conf.d/common/post-deploy.conf"" section: health_manager option: bind_ip value: ""{{ mgmt_port_ip }}""","- name: making sure octavia worker configuration directory exists file: path: ""{{ octavia_confd_prefix }}/etc/octavia/conf.d/octavia-worker"" state: directory selevel: s0 setype: svirt_sandbox_file_t become: true - name: making sure octavia health manager configuration directory exists file: path: ""{{ octavia_confd_prefix }}/etc/octavia/conf.d/octavia-health-manager"" state: directory selevel: s0 setype: svirt_sandbox_file_t become: true - name: create octavia health manager configuration file template: dest: ""{{ octavia_confd_prefix }}/etc/octavia/conf.d/octavia-health-manager/manager-post-deploy.conf"" src: ""manager-post-deploy.conf.j2""",14,25
openstack%2Fmanila~stable%2Fqueens~I89659452b0e033631f1318a2eabb7e120c9e5743,openstack/manila,stable/queens,I89659452b0e033631f1318a2eabb7e120c9e5743,Fix pagination does not speed up queries bug,MERGED,2019-10-18 23:22:33.000000000,2019-10-21 20:14:33.000000000,2019-10-21 20:12:08.000000000,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-10-18 23:22:33.000000000', 'files': ['manila/tests/api/v1/test_shares.py', 'releasenotes/notes/bug-1795463-fix-pagination-slowness-8fcda3746aa13940.yaml', 'manila/api/common.py', 'manila/share/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/tests/api/v2/test_shares.py', 'manila/api/v1/shares.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/8263f911beaef26865d30c2cfee760c594175e5e', 'message': 'Fix pagination does not speed up queries bug\n\nThis patch modifies the database api layer to fix the pagination\nslowness bug, which causes a delay while the administrator tries\nto list shares using the `--limit` option.\nThis change was tested in a very busy environment with 800 shares.\nBefore the change, the operation took about 25 seconds to be\nfinished. Now, the operation takes about 3 seconds in the same\nenvironment.\n\nChange-Id: I89659452b0e033631f1318a2eabb7e120c9e5743\nCloses-bug: #1795463\n(cherry picked from commit 57edcbd1da4b61ce1a61db3be0d69755d968c36c)\n(cherry picked from commit 462b0e7461cdd00d51f15aacaa43854aeb0689f4)\n(cherry picked from commit bad03feea9a8470c9fe55f1a925d83e026353989)\n'}]",0,689604,8263f911beaef26865d30c2cfee760c594175e5e,12,6,1,16643,,,0,"Fix pagination does not speed up queries bug

This patch modifies the database api layer to fix the pagination
slowness bug, which causes a delay while the administrator tries
to list shares using the `--limit` option.
This change was tested in a very busy environment with 800 shares.
Before the change, the operation took about 25 seconds to be
finished. Now, the operation takes about 3 seconds in the same
environment.

Change-Id: I89659452b0e033631f1318a2eabb7e120c9e5743
Closes-bug: #1795463
(cherry picked from commit 57edcbd1da4b61ce1a61db3be0d69755d968c36c)
(cherry picked from commit 462b0e7461cdd00d51f15aacaa43854aeb0689f4)
(cherry picked from commit bad03feea9a8470c9fe55f1a925d83e026353989)
",git fetch https://review.opendev.org/openstack/manila refs/changes/04/689604/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/api/v1/test_shares.py', 'releasenotes/notes/bug-1795463-fix-pagination-slowness-8fcda3746aa13940.yaml', 'manila/api/common.py', 'manila/share/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/tests/api/v2/test_shares.py', 'manila/api/v1/shares.py']",8,8263f911beaef26865d30c2cfee760c594175e5e,bug/1795463-stable/stein-stable/rocky-stable/queens," common._validate_pagination_query(req) if is_detail: shares = self._view_builder.detail_list(req, shares, total_count) else: shares = self._view_builder.summary_list(req, shares, total_count) 'display_description', 'limit', 'offset'"," search_opts.pop('limit', None) search_opts.pop('offset', None) limited_list = common.limited(shares, req) if is_detail: shares = self._view_builder.detail_list(req, limited_list, total_count) else: shares = self._view_builder.summary_list(req, limited_list, total_count) 'display_description'",83,26
openstack%2Fansible-hardening~master~I7441d71c52bdb4f215e1976d15e9282d9cd75139,openstack/ansible-hardening,master,I7441d71c52bdb4f215e1976d15e9282d9cd75139,changed disable dccp conf for preventing kernel messages,MERGED,2019-10-21 07:43:31.000000000,2019-10-21 20:08:21.000000000,2019-10-21 20:07:13.000000000,"[{'_account_id': 21715}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-21 07:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/967aca501fa9aee634afd3bcda3c661f9310337b', 'message': 'changed disable dccp conf for preventing kernel messages\n\nChange-Id: I7441d71c52bdb4f215e1976d15e9282d9cd75139\nSigned-off-by: Bernd Mller <mueller@b1-systems.de>\n'}, {'number': 2, 'created': '2019-10-21 07:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/a784f39158011ab752336098792ce2c583ba9238', 'message': 'changed disable dccp conf for preventing kernel messages\n\ndccp_diag: Unknown symbol dccp_hashinfo (err 0)\n\nhttps://access.redhat.com/solutions/2321691\n\n$ cat /etc/modprobe.d/ansible-hardening-disable-dccp.conf\ninstall dccp /bin/true\ninstall dccp_diag /bin/true\n\nChange-Id: I7441d71c52bdb4f215e1976d15e9282d9cd75139\nSigned-off-by: Bernd Mller <mueller@b1-systems.de>\n'}, {'number': 3, 'created': '2019-10-21 11:18:14.000000000', 'files': ['files/ansible-hardening-disable-dccp.conf', 'tasks/rhel7stig/kernel.yml'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/3b95e7fc03310ac127be6a7542eb62c7c9e58777', 'message': 'changed disable dccp conf for preventing kernel messages\n\ndccp_diag: Unknown symbol dccp_hashinfo (err 0)\n\nhttps://access.redhat.com/solutions/2321691\n\n$ cat /etc/modprobe.d/ansible-hardening-disable-dccp.conf\ninstall dccp /bin/true\ninstall dccp_diag /bin/true\n\nChange-Id: I7441d71c52bdb4f215e1976d15e9282d9cd75139\nSigned-off-by: Bernd Mller <mueller@b1-systems.de>\n'}]",1,689682,3b95e7fc03310ac127be6a7542eb62c7c9e58777,13,4,3,21715,,,0,"changed disable dccp conf for preventing kernel messages

dccp_diag: Unknown symbol dccp_hashinfo (err 0)

https://access.redhat.com/solutions/2321691

$ cat /etc/modprobe.d/ansible-hardening-disable-dccp.conf
install dccp /bin/true
install dccp_diag /bin/true

Change-Id: I7441d71c52bdb4f215e1976d15e9282d9cd75139
Signed-off-by: Bernd Mller <mueller@b1-systems.de>
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/82/689682/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/ansible-hardening-disable-dccp.conf', 'tasks/rhel7stig/kernel.yml']",2,967aca501fa9aee634afd3bcda3c661f9310337b,fix/dccp-diag-prevent-kernel-messages, template: src: ansible-hardening-disable-dccp.conf, lineinfile: line: install dccp /bin/true create: yes,4,3
openstack%2Ftripleo-heat-templates~master~I319c01f97a2f6c11674ce7673c75ed4d62a228a0,openstack/tripleo-heat-templates,master,I319c01f97a2f6c11674ce7673c75ed4d62a228a0,Update master for stable/train,MERGED,2019-10-21 14:21:23.000000000,2019-10-21 19:57:08.000000000,2019-10-21 19:52:59.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:21:23.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0299c483a19e76595496c71c06e8757b3b04186a', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I319c01f97a2f6c11674ce7673c75ed4d62a228a0\nSem-Ver: feature\n'}]",0,689776,0299c483a19e76595496c71c06e8757b3b04186a,7,2,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I319c01f97a2f6c11674ce7673c75ed4d62a228a0
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/689776/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,0299c483a19e76595496c71c06e8757b3b04186a,reno-train, train,,7,0
openstack%2Ftripleo-validations~master~I21b89751ccaad7746888ebdf8ab38f4f3a2f4676,openstack/tripleo-validations,master,I21b89751ccaad7746888ebdf8ab38f4f3a2f4676,Update master for stable/train,MERGED,2019-10-21 14:23:12.000000000,2019-10-21 19:56:23.000000000,2019-10-21 19:53:10.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:23:12.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/f79b3c1e84469cd183d408dc92104040a79908bf', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I21b89751ccaad7746888ebdf8ab38f4f3a2f4676\nSem-Ver: feature\n'}]",0,689785,f79b3c1e84469cd183d408dc92104040a79908bf,7,2,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I21b89751ccaad7746888ebdf8ab38f4f3a2f4676
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/85/689785/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,f79b3c1e84469cd183d408dc92104040a79908bf,reno-train, train,,7,0
openstack%2Ftripleo-image-elements~stable%2Ftrain~Ic162c2f1f9ba0785bda4b8e30a36a2bfc6c2fcdd,openstack/tripleo-image-elements,stable/train,Ic162c2f1f9ba0785bda4b8e30a36a2bfc6c2fcdd,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-21 14:21:57.000000000,2019-10-21 19:56:20.000000000,2019-10-21 19:53:06.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:21:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/73384634f741e75f9234f5775b12dc287f75d749', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ic162c2f1f9ba0785bda4b8e30a36a2bfc6c2fcdd\n'}]",0,689778,73384634f741e75f9234f5775b12dc287f75d749,7,2,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ic162c2f1f9ba0785bda4b8e30a36a2bfc6c2fcdd
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/78/689778/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,73384634f741e75f9234f5775b12dc287f75d749,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Ftripleo-puppet-elements~master~Icdb286e7bd749877a3a8b85eb5a1403506878c98,openstack/tripleo-puppet-elements,master,Icdb286e7bd749877a3a8b85eb5a1403506878c98,Update master for stable/train,MERGED,2019-10-21 14:22:36.000000000,2019-10-21 19:55:37.000000000,2019-10-21 19:53:08.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:22:36.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/42160c46038a56ea5a2844f6e3c7ce2747bb266e', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Icdb286e7bd749877a3a8b85eb5a1403506878c98\nSem-Ver: feature\n'}]",0,689782,42160c46038a56ea5a2844f6e3c7ce2747bb266e,7,2,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Icdb286e7bd749877a3a8b85eb5a1403506878c98
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/82/689782/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,42160c46038a56ea5a2844f6e3c7ce2747bb266e,reno-train, train,,7,0
openstack%2Ftripleo-puppet-elements~stable%2Ftrain~Ie9c6882f69db1398ec22c72f6379833a32573260,openstack/tripleo-puppet-elements,stable/train,Ie9c6882f69db1398ec22c72f6379833a32573260,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-21 14:22:31.000000000,2019-10-21 19:55:36.000000000,2019-10-21 19:53:09.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:22:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/b8f3f58a2eb627786cb066f602d59ea5aa7d8b1b', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ie9c6882f69db1398ec22c72f6379833a32573260\n'}]",0,689781,b8f3f58a2eb627786cb066f602d59ea5aa7d8b1b,7,2,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ie9c6882f69db1398ec22c72f6379833a32573260
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/81/689781/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b8f3f58a2eb627786cb066f602d59ea5aa7d8b1b,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Ftripleo-image-elements~master~I1c982d30f765a1138320b574eb88137181af5e2c,openstack/tripleo-image-elements,master,I1c982d30f765a1138320b574eb88137181af5e2c,Update master for stable/train,MERGED,2019-10-21 14:22:02.000000000,2019-10-21 19:55:27.000000000,2019-10-21 19:53:02.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:22:02.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/4e36b418ad221cd74f1bba448c764f1543297101', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I1c982d30f765a1138320b574eb88137181af5e2c\nSem-Ver: feature\n'}]",0,689779,4e36b418ad221cd74f1bba448c764f1543297101,7,2,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I1c982d30f765a1138320b574eb88137181af5e2c
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/79/689779/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,4e36b418ad221cd74f1bba448c764f1543297101,reno-train, train,,7,0
openstack%2Fpuppet-tripleo~master~I4ea46c9bb7b55ef6382cf9d52038e7d26d66e6eb,openstack/puppet-tripleo,master,I4ea46c9bb7b55ef6382cf9d52038e7d26d66e6eb,Update master for stable/train,MERGED,2019-10-21 14:19:18.000000000,2019-10-21 19:55:24.000000000,2019-10-21 19:52:39.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:19:18.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/053d643cb71cf98d098c75819395eac1e63998df', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I4ea46c9bb7b55ef6382cf9d52038e7d26d66e6eb\nSem-Ver: feature\n'}]",0,689769,053d643cb71cf98d098c75819395eac1e63998df,7,2,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I4ea46c9bb7b55ef6382cf9d52038e7d26d66e6eb
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/69/689769/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,053d643cb71cf98d098c75819395eac1e63998df,reno-train, train,,7,0
openstack%2Fpaunch~master~I7000b5d790950d7a2e337a85fa348b4fffd05b31,openstack/paunch,master,I7000b5d790950d7a2e337a85fa348b4fffd05b31,Update master for stable/train,MERGED,2019-10-21 14:18:15.000000000,2019-10-21 19:55:20.000000000,2019-10-21 19:52:37.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:18:15.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/paunch/commit/0ae35290ce0a3f8940f8a31b396320bee3f50e62', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I7000b5d790950d7a2e337a85fa348b4fffd05b31\nSem-Ver: feature\n'}]",0,689766,0ae35290ce0a3f8940f8a31b396320bee3f50e62,7,2,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I7000b5d790950d7a2e337a85fa348b4fffd05b31
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/paunch refs/changes/66/689766/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,0ae35290ce0a3f8940f8a31b396320bee3f50e62,reno-train, train,,7,0
openstack%2Fos-net-config~master~I250f35b72a7da321ac0b45c353327b3f23af4dbe,openstack/os-net-config,master,I250f35b72a7da321ac0b45c353327b3f23af4dbe,Update master for stable/train,MERGED,2019-10-21 14:17:02.000000000,2019-10-21 19:55:17.000000000,2019-10-21 19:52:36.000000000,"[{'_account_id': 3153}, {'_account_id': 21909}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:17:02.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/b349b747529670aa65b703a9c667977e06dc4dcf', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I250f35b72a7da321ac0b45c353327b3f23af4dbe\nSem-Ver: feature\n'}]",0,689760,b349b747529670aa65b703a9c667977e06dc4dcf,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I250f35b72a7da321ac0b45c353327b3f23af4dbe
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/60/689760/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,b349b747529670aa65b703a9c667977e06dc4dcf,reno-train, train,,7,0
openstack%2Ftripleo-heat-templates~master~I95e4c82f53d3cba49b660a9da0ad6e43b0839fb6,openstack/tripleo-heat-templates,master,I95e4c82f53d3cba49b660a9da0ad6e43b0839fb6,Add posibilities to set ovn_openflow_probe_interval for controller,MERGED,2019-09-20 06:40:43.000000000,2019-10-21 19:54:41.000000000,2019-10-21 19:52:29.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-20 06:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c515b26b7e38b39ba00d662e61334835a9916168', 'message': 'Add posibilities to set ovn_openflow_probe_interval for controller\n\nAdd param OVNOpenflowProbeInterval to set ovn_openflow_probe_interval\n\nDepends-On: https://review.opendev.org/#/c/683291/\nChange-Id: I95e4c82f53d3cba49b660a9da0ad6e43b0839fb6\n'}, {'number': 2, 'created': '2019-09-20 08:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aa46e366ca9c049952be87beeade6ec337550927', 'message': 'Add posibilities to set ovn_openflow_probe_interval for controller\n\nAdd param OVNOpenflowProbeInterval to set ovn_openflow_probe_interval\n\nDepends-On: https://review.opendev.org/#/c/683291/\nChange-Id: I95e4c82f53d3cba49b660a9da0ad6e43b0839fb6\n'}, {'number': 3, 'created': '2019-09-23 06:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fb49a84a2afcb58b29d8b0d5c7f837bb2de83b8c', 'message': 'Add posibilities to set ovn_openflow_probe_interval for controller\n\nAdd param OVNOpenflowProbeInterval to set ovn_openflow_probe_interval\n\nDepends-On: https://review.opendev.org/#/c/683291/\nChange-Id: I95e4c82f53d3cba49b660a9da0ad6e43b0839fb6\n'}, {'number': 4, 'created': '2019-10-14 14:20:52.000000000', 'files': ['deployment/ovn/ovn-controller-container-puppet.yaml', 'releasenotes/notes/ovn_openflow_probe_interval-fd99301d95aac62e.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bf3ef6e3b13e9edbc872d93749b5760391142848', 'message': 'Add posibilities to set ovn_openflow_probe_interval for controller\n\nAdd param OVNOpenflowProbeInterval to set ovn_openflow_probe_interval\n\nDepends-On: https://review.opendev.org/#/c/683291/\nChange-Id: I95e4c82f53d3cba49b660a9da0ad6e43b0839fb6\n'}]",0,683294,bf3ef6e3b13e9edbc872d93749b5760391142848,31,8,4,11082,,,0,"Add posibilities to set ovn_openflow_probe_interval for controller

Add param OVNOpenflowProbeInterval to set ovn_openflow_probe_interval

Depends-On: https://review.opendev.org/#/c/683291/
Change-Id: I95e4c82f53d3cba49b660a9da0ad6e43b0839fb6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/683294/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ovn/ovn-controller-container-puppet.yaml', 'releasenotes/notes/ovn_openflow_probe_interval-fd99301d95aac62e.yaml']",2,c515b26b7e38b39ba00d662e61334835a9916168,probe_int,"--- features: - | Added new heat param OVNOpenflowProbeInterval to set ovn_openflow_probe_interval which is inactivity probe interval of the OpenFlow connection to the OpenvSwitch integration bridge, in seconds. If the value is zero, it disables the connection keepalive feature, by default this value is set on 5s. If the value is nonzero, then it will be forced to a value of at least 5s.",,14,0
openstack%2Ftripleo-puppet-elements~stable%2Ftrain~I01f446ae493b846c9d10c0c490bc9d30829adb66,openstack/tripleo-puppet-elements,stable/train,I01f446ae493b846c9d10c0c490bc9d30829adb66,Update .gitreview for stable/train,MERGED,2019-10-21 14:22:26.000000000,2019-10-21 19:53:07.000000000,2019-10-21 19:53:07.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-21 14:22:26.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/104228867c64eaedb70c5c0a213a9ff37c33a097', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I01f446ae493b846c9d10c0c490bc9d30829adb66\n'}]",0,689780,104228867c64eaedb70c5c0a213a9ff37c33a097,7,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I01f446ae493b846c9d10c0c490bc9d30829adb66
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/80/689780/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,104228867c64eaedb70c5c0a213a9ff37c33a097,create-train,defaultbranch=stable/train,,1,0
openstack%2Ftripleo-image-elements~stable%2Ftrain~Ic2b33f5047c8013e41303cd85a761c56a998cb0d,openstack/tripleo-image-elements,stable/train,Ic2b33f5047c8013e41303cd85a761c56a998cb0d,Update .gitreview for stable/train,MERGED,2019-10-21 14:21:52.000000000,2019-10-21 19:53:04.000000000,2019-10-21 19:53:04.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-21 14:21:52.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/cfabb3e77e2faecac7c44775c071aae750698111', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ic2b33f5047c8013e41303cd85a761c56a998cb0d\n'}]",0,689777,cfabb3e77e2faecac7c44775c071aae750698111,7,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ic2b33f5047c8013e41303cd85a761c56a998cb0d
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/77/689777/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,cfabb3e77e2faecac7c44775c071aae750698111,create-train,defaultbranch=stable/train,,1,0
openstack%2Fpuppet-tripleo~stable%2Frocky~If6b19ad05e0f91425f93a1c123947e92cf2ba949,openstack/puppet-tripleo,stable/rocky,If6b19ad05e0f91425f93a1c123947e92cf2ba949,Allow the IHA OCF and fencing resource to be moved to the nova service user,MERGED,2019-10-19 05:49:27.000000000,2019-10-21 19:52:58.000000000,2019-10-21 19:52:58.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-19 05:49:27.000000000', 'files': ['manifests/profile/base/pacemaker/instance_ha.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/02d435397bc026dde1fd8c9510bcff32ba03bab2', 'message': 'Allow the IHA OCF and fencing resource to be moved to the nova service user\n\nCurrently both nova evacuate and fence compute in the Instance HA\nsetup of tripleo user the keystone admin user in order to query nova,\nevacuate instances, disable/enable the nova-compute service and\ncall the nova force-down API.\n\nWith this patch we introduce the keystone_tenant parameter which is\nneeded when moving to the nova service user as it is different than\nkeystone_admin in that case.\n\nTested as follows:\n1. Deployed a normal unpatched OSP13 with IHA\n2. Run a redeploy with the following addition:\nparameter_defaults:\n  ExtraConfig:\n    tripleo::profile::base::pacemaker::instance_ha::keystone_password: ""%{hiera(\'nova::keystone::authtoken::password\')}""\n    tripleo::profile::base::pacemaker::instance_ha::keystone_admin: \'nova\'\n    tripleo::profile::base::pacemaker::instance_ha::keystone_tenant: \'service\'\n3. Observe the following:\n3.1. Both the fence_compute and nova evacuate resources have updated attributes\n3.2. IHA still works correctly\n\nCloses-Bug: #1848451\n\nChange-Id: If6b19ad05e0f91425f93a1c123947e92cf2ba949\n(cherry picked from commit 066a360ee5d966be027130d85d6ab6296dd0d3e5)\n(cherry picked from commit 4e785257bd77c7f5ef3e091f30c55b76c2fbc7bb)\n'}]",0,689615,02d435397bc026dde1fd8c9510bcff32ba03bab2,12,5,1,20172,,,0,"Allow the IHA OCF and fencing resource to be moved to the nova service user

Currently both nova evacuate and fence compute in the Instance HA
setup of tripleo user the keystone admin user in order to query nova,
evacuate instances, disable/enable the nova-compute service and
call the nova force-down API.

With this patch we introduce the keystone_tenant parameter which is
needed when moving to the nova service user as it is different than
keystone_admin in that case.

Tested as follows:
1. Deployed a normal unpatched OSP13 with IHA
2. Run a redeploy with the following addition:
parameter_defaults:
  ExtraConfig:
    tripleo::profile::base::pacemaker::instance_ha::keystone_password: ""%{hiera('nova::keystone::authtoken::password')}""
    tripleo::profile::base::pacemaker::instance_ha::keystone_admin: 'nova'
    tripleo::profile::base::pacemaker::instance_ha::keystone_tenant: 'service'
3. Observe the following:
3.1. Both the fence_compute and nova evacuate resources have updated attributes
3.2. IHA still works correctly

Closes-Bug: #1848451

Change-Id: If6b19ad05e0f91425f93a1c123947e92cf2ba949
(cherry picked from commit 066a360ee5d966be027130d85d6ab6296dd0d3e5)
(cherry picked from commit 4e785257bd77c7f5ef3e091f30c55b76c2fbc7bb)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/15/689615/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker/instance_ha.pp'],1,02d435397bc026dde1fd8c9510bcff32ba03bab2,iha_stein-stable/rocky,"# [*keystone_tenant*] # The keystone tenant # Defaults to hiera('keystone::roles::admin::admin_tenant', 'admin') ## [*deep_compare_fencing*] # (Optional) Boolean, should fence_compute be deep compared in order to # update the existing fencing resource when puppet is being rerun # Defaults to hiera('tripleo::fencing', true) # # [*deep_compare_ocf*] # (Optional) Boolean, should the IHA ocf resource nova evacuate be deep # compared in order to update the resource when puppet is being rerun # Defaults to hiera('pacemaker::resource::ocf::deep_compare', true) # $keystone_tenant = hiera('keystone::roles::admin::admin_tenant', 'admin'), $deep_compare_fencing = hiera('tripleo::fencing', true), $deep_compare_ocf = hiera('pacemaker::resource::ocf::deep_compare', true), deep_compare => $deep_compare_fencing, deep_compare => $deep_compare_ocf, resource_params => ""auth_url=${keystone_endpoint_url} username=${keystone_admin} password=${keystone_password} user_domain=${user_domain} project_domain=${project_domain} tenant_name=${keystone_tenant} ${iha_no_shared_storage}${evacuate_param}"", deep_compare => $deep_compare_ocf,"," resource_params => ""auth_url=${keystone_endpoint_url} username=${keystone_admin} password=${keystone_password} user_domain=${user_domain} project_domain=${project_domain} tenant_name=${keystone_admin} ${iha_no_shared_storage}${evacuate_param}"",",21,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Iaea231cd06a900baa6cfdc9ad69df455623ee120,openstack/tripleo-heat-templates,stable/queens,Iaea231cd06a900baa6cfdc9ad69df455623ee120,Fix missing conditions header in octavia,MERGED,2019-10-15 23:40:20.000000000,2019-10-21 19:52:34.000000000,2019-10-21 19:52:34.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-15 23:40:20.000000000', 'files': ['docker/services/octavia/octavia-deployment-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f9303fb372ebc011173a4f5cd45df48b8c5e277', 'message': 'Fix missing conditions header in octavia\n\nThe ""conditions"" section header got dropped during a backport in change\nI05f69df627e5637fdb254285cb3ad6d3d8328f90\n\nChange-Id: Iaea231cd06a900baa6cfdc9ad69df455623ee120\n(cherry picked from commit 75af368ecee1d5f903bf6c5e36452a8d08013044)\n'}]",1,688835,9f9303fb372ebc011173a4f5cd45df48b8c5e277,9,6,1,6681,,,0,"Fix missing conditions header in octavia

The ""conditions"" section header got dropped during a backport in change
I05f69df627e5637fdb254285cb3ad6d3d8328f90

Change-Id: Iaea231cd06a900baa6cfdc9ad69df455623ee120
(cherry picked from commit 75af368ecee1d5f903bf6c5e36452a8d08013044)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/688835/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/octavia/octavia-deployment-config.yaml'],1,9f9303fb372ebc011173a4f5cd45df48b8c5e277,queens,conditions: ,,2,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I05f69df627e5637fdb254285cb3ad6d3d8328f90,openstack/tripleo-heat-templates,stable/queens,I05f69df627e5637fdb254285cb3ad6d3d8328f90,Only generate Octavia certs on stack create,MERGED,2019-09-17 14:20:06.000000000,2019-10-21 19:52:31.000000000,2019-10-21 19:52:31.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-17 14:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9420534d7d88a6dc4b00a5c3143ade8643614b0c', 'message': ""Only generate Octavia certs on stack create\n\nWe are regenerating octavia certs whenever an overcloud is updated,\nbreaking any deployments using the auto-generated certs. Certificate\nupdates after the initial deployment require special handling and\nshouldn't be performed by stack updates/upgrades at this time.\n\nNote: depends on changed because the dependent patch was a semantic\nbackport.\n\nDepends-On: I8088a0a42094b2d038ba29779535a05195138747\nCloses-Bug: #1838039\nChange-Id: I05f69df627e5637fdb254285cb3ad6d3d8328f90\n(cherry picked from commit b61156785517f767a9ad0ee1613588f6b049fc8c)\n(cherry picked from commit 2f4dd2c927660e1d950e9d6ef49e4cdc628c94df)\n(cherry picked from commit 82bfea421e7f8195b7bd6cd3bbb93e605f82163e)\n""}, {'number': 2, 'created': '2019-10-10 19:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dd4abaf3e1fc7f922294c44a013f57e4f00043e0', 'message': ""Only generate Octavia certs on stack create\n\nWe are regenerating octavia certs whenever an overcloud is updated,\nbreaking any deployments using the auto-generated certs. Certificate\nupdates after the initial deployment require special handling and\nshouldn't be performed by stack updates/upgrades at this time.\n\nNote: depends on changed because the dependent patch was a semantic\nbackport.\n\nDepends-On: I8088a0a42094b2d038ba29779535a05195138747\nCloses-Bug: #1838039\nChange-Id: I05f69df627e5637fdb254285cb3ad6d3d8328f90\n(cherry picked from commit b61156785517f767a9ad0ee1613588f6b049fc8c)\n(cherry picked from commit 2f4dd2c927660e1d950e9d6ef49e4cdc628c94df)\n(cherry picked from commit 82bfea421e7f8195b7bd6cd3bbb93e605f82163e)\n""}, {'number': 3, 'created': '2019-10-15 23:40:20.000000000', 'files': ['docker/services/octavia/octavia-deployment-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/73fa7e2c32b99a6dd819ca31915d3e7e3a1de824', 'message': ""Only generate Octavia certs on stack create\n\nWe are regenerating octavia certs whenever an overcloud is updated,\nbreaking any deployments using the auto-generated certs. Certificate\nupdates after the initial deployment require special handling and\nshouldn't be performed by stack updates/upgrades at this time.\n\nNote: depends on changed because the dependent patch was a semantic\nbackport.\n\nDepends-On: I8088a0a42094b2d038ba29779535a05195138747\nCloses-Bug: #1838039\nChange-Id: I05f69df627e5637fdb254285cb3ad6d3d8328f90\n(cherry picked from commit b61156785517f767a9ad0ee1613588f6b049fc8c)\n(cherry picked from commit 2f4dd2c927660e1d950e9d6ef49e4cdc628c94df)\n(cherry picked from commit 82bfea421e7f8195b7bd6cd3bbb93e605f82163e)\n""}]",0,682660,73fa7e2c32b99a6dd819ca31915d3e7e3a1de824,21,7,3,6681,,,0,"Only generate Octavia certs on stack create

We are regenerating octavia certs whenever an overcloud is updated,
breaking any deployments using the auto-generated certs. Certificate
updates after the initial deployment require special handling and
shouldn't be performed by stack updates/upgrades at this time.

Note: depends on changed because the dependent patch was a semantic
backport.

Depends-On: I8088a0a42094b2d038ba29779535a05195138747
Closes-Bug: #1838039
Change-Id: I05f69df627e5637fdb254285cb3ad6d3d8328f90
(cherry picked from commit b61156785517f767a9ad0ee1613588f6b049fc8c)
(cherry picked from commit 2f4dd2c927660e1d950e9d6ef49e4cdc628c94df)
(cherry picked from commit 82bfea421e7f8195b7bd6cd3bbb93e605f82163e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/682660/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/octavia/octavia-deployment-config.yaml'],1,9420534d7d88a6dc4b00a5c3143ade8643614b0c,queens," StackAction: type: string description: > Heat action on performed top-level stack. Note StackUpdateType is set to UPGRADE when a major-version upgrade is in progress. constraints: - allowed_values: ['CREATE', 'UPDATE'] generate_certs: and: - get_param: OctaviaGenerateCerts - equals: - get_param: StackAction - CREATE generate_certs: {if: [generate_certs, true, false]}", generate_certs: { get_param: OctaviaGenerateCerts },15,1
openstack%2Ftripleo-quickstart-extras~master~Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a,openstack/tripleo-quickstart-extras,master,Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a,Add a tasks to download amphora image for octavia deployments,MERGED,2019-07-05 12:15:29.000000000,2019-10-21 19:52:25.000000000,2019-10-21 19:52:24.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-05 12:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1e79cf136cf5b95da2f75261f6291605d1935805', 'message': 'Add a tasks to download amphora image for octavia deployments\n\nThis patch adds a task to download the Octavia Amphora image to the\nworking directory on the undercloud so that it can be pulled in by the\nOctavia overcloud deployment tasks.\n\nChange-Id: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\n'}, {'number': 2, 'created': '2019-07-05 17:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e94410143013cc8ce7c529499d33ced82b35bbad', 'message': 'Add a tasks to download amphora image for octavia deployments\n\nThis patch adds a task to download the Octavia Amphora image to the\nworking directory on the undercloud so that it can be pulled in by the\nOctavia overcloud deployment tasks.\n\nChange-Id: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\n'}, {'number': 3, 'created': '2019-07-08 13:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1f9deae7d187ed678f84efb7a177bb0db8fb0c61', 'message': 'Add a tasks to download amphora image for octavia deployments\n\nThis patch adds a task to download the Octavia Amphora image to the\nworking directory on the undercloud so that it can be pulled in by the\nOctavia overcloud deployment tasks.\n\nChange-Id: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\n'}, {'number': 4, 'created': '2019-07-15 11:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c9105fb2ca035ceddae0389d64d1c1385f07d5e2', 'message': 'Add a tasks to download amphora image for octavia deployments\n\nThis patch adds a task to download the Octavia Amphora image to the\nworking directory on the undercloud so that it can be pulled in by the\nOctavia overcloud deployment tasks.\n\nChange-Id: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\n'}, {'number': 5, 'created': '2019-07-15 14:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5f2c643237930b56744c75bcefe016ebf79ecb4c', 'message': 'Add a tasks to download amphora image for octavia deployments\n\nThis patch adds a task to download the Octavia Amphora image to the\nworking directory on the undercloud so that it can be pulled in by the\nOctavia overcloud deployment tasks.\n\nChange-Id: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\n'}, {'number': 6, 'created': '2019-07-15 18:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/85f9221141a7b072f9041cd84504fab4f8d32ff5', 'message': 'Add a tasks to download amphora image for octavia deployments\n\nThis patch adds a task to download the Octavia Amphora image to the\nworking directory on the undercloud so that it can be pulled in by the\nOctavia overcloud deployment tasks.\n\nChange-Id: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\n'}, {'number': 7, 'created': '2019-07-16 12:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a702d8c4cbf9accfef28c01989ac9626ed3b8212', 'message': 'Add a tasks to download amphora image for octavia deployments\n\nThis patch adds a task to download the Octavia Amphora image to the\nworking directory on the undercloud so that it can be pulled in by the\nOctavia overcloud deployment tasks.\n\nChange-Id: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\n'}, {'number': 8, 'created': '2019-07-24 15:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/758dad5677f7da8ef2ca4e49bf3bb512dd90c893', 'message': 'Add a tasks to download amphora image for octavia deployments\n\nThis patch adds a task to download the Octavia Amphora image to the\nworking directory on the undercloud so that it can be pulled in by the\nOctavia overcloud deployment tasks.\n\nChange-Id: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\n'}, {'number': 9, 'created': '2019-08-12 12:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/01820bfc278cc1916fb94002c45aed3924926192', 'message': 'Add a tasks to download amphora image for octavia deployments\n\nThis patch adds a task to download the Octavia Amphora image to the\nworking directory on the undercloud so that it can be pulled in by the\nOctavia overcloud deployment tasks.\n\nChange-Id: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\n'}, {'number': 10, 'created': '2019-08-23 18:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c13c33f04b166be665582b5011cca0351c8af5a0', 'message': 'Add a tasks to download amphora image for octavia deployments\n\nThis patch adds a task to download the Octavia Amphora image to the\nworking directory on the undercloud so that it can be pulled in by the\nOctavia overcloud deployment tasks.\n\nChange-Id: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\n'}, {'number': 11, 'created': '2019-09-11 15:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ab4c608cedb28a2f56d8137a78c42a0b820c99d5', 'message': 'Add a tasks to download amphora image for octavia deployments\n\nThis patch adds a task to download the Octavia Amphora image to the\nworking directory on the undercloud so that it can be pulled in by the\nOctavia overcloud deployment tasks.\n\nChange-Id: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\n'}, {'number': 12, 'created': '2019-09-11 15:31:05.000000000', 'files': ['roles/octavia-amphora-download/README.md', 'playbooks/multinode-standalone.yml', 'roles/octavia-amphora-download/defaults/main.yml', 'playbooks/baremetal-full-undercloud.yml', 'playbooks/multinode-undercloud.yml', 'roles/octavia-amphora-download/tasks/main.yml', 'playbooks/quickstart-extras-undercloud.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4612cf32f114801780bd1078e358bfe51179fc86', 'message': 'Add a tasks to download amphora image for octavia deployments\n\nThis patch adds a task to download the Octavia Amphora image to the\nworking directory on the undercloud so that it can be pulled in by the\nOctavia overcloud deployment tasks.\n\nChange-Id: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a\n'}]",5,669344,4612cf32f114801780bd1078e358bfe51179fc86,66,8,12,6681,,,0,"Add a tasks to download amphora image for octavia deployments

This patch adds a task to download the Octavia Amphora image to the
working directory on the undercloud so that it can be pulled in by the
Octavia overcloud deployment tasks.

Change-Id: Ie387f1274059ec80d19c5ef0bf9aed7a3a999e2a
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/44/669344/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/octavia-amphora-download/README.md', 'roles/octavia-amphora-download/defaults/main.yml', 'roles/octavia-amphora-download/tasks/main.yml', 'playbooks/quickstart-extras-undercloud.yml']",4,1e79cf136cf5b95da2f75261f6291605d1935805,octavia-ci," - name: Download amphora image for octavia hosts: undercloud gather_facts: false tags: - octavia roles: - {role: octavia-amphora-download, when: download_amphora|bool}",,63,0
openstack%2Fopenstack-ansible-os_manila~master~Iebf8e1a3c88e039ef824b0c3f73286884f2beaf2,openstack/openstack-ansible-os_manila,master,Iebf8e1a3c88e039ef824b0c3f73286884f2beaf2,PDF Documentation Build tox target,MERGED,2019-10-21 15:25:08.000000000,2019-10-21 19:49:20.000000000,2019-10-21 19:47:44.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-10-21 15:25:08.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_manila/commit/594c00596333772f01aef7694265f237fc7e40aa', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: Iebf8e1a3c88e039ef824b0c3f73286884f2beaf2\nStory: 2006105\n'}]",0,689820,594c00596333772f01aef7694265f237fc7e40aa,8,3,1,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: Iebf8e1a3c88e039ef824b0c3f73286884f2beaf2
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_manila refs/changes/20/689820/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,594c00596333772f01aef7694265f237fc7e40aa,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,28,6
openstack%2Fnetworking-midonet~stable%2Ftrain~Ibb4d6fe6d810b967307242a3c68dd038ab73958c,openstack/networking-midonet,stable/train,Ibb4d6fe6d810b967307242a3c68dd038ab73958c,Switch to use neutron-tempest-plugin for neutron-dynamic-routing tests,MERGED,2019-10-02 13:32:50.000000000,2019-10-21 19:39:10.000000000,2019-10-21 19:37:57.000000000,"[{'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 13:32:50.000000000', 'files': ['devstack/ci/hooks/tempest_plugins_advsvc', 'devstack/ci/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/5425599afccaf5e831798e4204a76dd54093ec08', 'message': 'Switch to use neutron-tempest-plugin for neutron-dynamic-routing tests\n\nDepends-On: https://review.opendev.org/#/c/652099/\nChange-Id: Ibb4d6fe6d810b967307242a3c68dd038ab73958c\n(cherry picked from commit 5ad54cdd3542e02110c2e60616fcde76dee6eee6)\n'}]",0,686163,5425599afccaf5e831798e4204a76dd54093ec08,10,4,1,6854,,,0,"Switch to use neutron-tempest-plugin for neutron-dynamic-routing tests

Depends-On: https://review.opendev.org/#/c/652099/
Change-Id: Ibb4d6fe6d810b967307242a3c68dd038ab73958c
(cherry picked from commit 5ad54cdd3542e02110c2e60616fcde76dee6eee6)
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/63/686163/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/ci/hooks/tempest_plugins_advsvc', 'devstack/ci/gate_hook.sh']",2,5425599afccaf5e831798e4204a76dd54093ec08,tempest-dr-stable/train,"# neutron-dynamic-routing: # Run only bgp-speaker-router-insertion tests for now r=""$r|(?:^neutron_tempest_plugin\.neutron_dynamic_routing\.(?!.*test_simple_bgp))"" ",,4,1
openstack%2Fkeystoneauth~master~I8a33e8a05bed0f18e4e42431f6d16b8a6a5270ef,openstack/keystoneauth,master,I8a33e8a05bed0f18e4e42431f6d16b8a6a5270ef,Fetch discovery documents with auth when needed,MERGED,2019-09-26 11:28:38.000000000,2019-10-21 19:27:02.000000000,2019-10-21 19:25:50.000000000,"[{'_account_id': 2}, {'_account_id': 8482}, {'_account_id': 14070}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-09-26 11:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/87e3d2fd09071349c209a45f77ae3d5f12c6e001', 'message': 'Add support for authenticated endpoint_data\n\nSome services, like Nova, default to requiring auth for their\nversioned discovery documents. This means strict discovery\ndoes not work on them, because discovery as it is now defaults\nto not sending auth. Changing the default would be a behavior\nchange, so plumb through a parameter allowing the requestor\nto indicate they want authenticated discovery.\n\nChange-Id: I8a33e8a05bed0f18e4e42431f6d16b8a6a5270ef\n'}, {'number': 2, 'created': '2019-09-26 11:38:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/e30b5dd3c9cafe54361485527e5b2c36d865408d', 'message': 'Add support for authenticated endpoint_data\n\nSome services, like Nova, default to requiring auth for their\nversioned discovery documents. This means strict discovery\ndoes not work on them, because discovery as it is now defaults\nto not sending auth. Changing the default would be a behavior\nchange, so plumb through a parameter allowing the requestor\nto indicate they want authenticated discovery.\n\nChange-Id: I8a33e8a05bed0f18e4e42431f6d16b8a6a5270ef\n'}, {'number': 3, 'created': '2019-09-27 10:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/b8c65f07bffa306c0a7dcb5caf0ef5c99e2dfff0', 'message': 'Add support for authenticated endpoint_data\n\nSome services, like Nova, default to requiring auth for their\nversioned discovery documents. This means strict discovery\ndoes not work on them, because discovery as it is now defaults\nto not sending auth. Changing the default would be a behavior\nchange, so plumb through a parameter allowing the requestor\nto indicate they want authenticated discovery.\n\nChange-Id: I8a33e8a05bed0f18e4e42431f6d16b8a6a5270ef\n'}, {'number': 4, 'created': '2019-10-01 09:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/81dbb6f947440c970f67500595a1bbe315f63835', 'message': 'Fetch discovery documents with auth when needed\n\nSome services, like Nova, default to requiring auth for their\nversioned discovery documents. This means strict discovery\ndoes not work on them, because discovery as it is now defaults\nto not sending auth. Just changing the default would be a behavior\nchange resulting in sending unneeded data with *every* request.\nInstead, respond to Unauthorized exceptions by retrying the request\nwith auth token. This way discovery will work for services that\nare otherwise blocking unauthenticated access, and will get more\nefficient over time as those services improve.\n\nChange-Id: I8a33e8a05bed0f18e4e42431f6d16b8a6a5270ef\n'}, {'number': 5, 'created': '2019-10-01 15:52:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/200702dffe653b34e33f78d3e26fd5f4a29c5511', 'message': 'Fetch discovery documents with auth when needed\n\nSome services, like Nova, default to requiring auth for their\nversioned discovery documents. This means strict discovery\ndoes not work on them, because discovery as it is now defaults\nto not sending auth. Just changing the default would be a behavior\nchange resulting in sending unneeded data with *every* request.\nInstead, respond to Unauthorized exceptions by retrying the request\nwith auth token. This way discovery will work for services that\nare otherwise blocking unauthenticated access, and will get more\nefficient over time as those services improve.\n\nChange-Id: I8a33e8a05bed0f18e4e42431f6d16b8a6a5270ef\n'}, {'number': 6, 'created': '2019-10-01 16:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/8f764202db688325e979e3a1dddb97d04b1b2d6b', 'message': 'Fetch discovery documents with auth when needed\n\nSome services, like Nova, default to requiring auth for their\nversioned discovery documents. This means strict discovery\ndoes not work on them, because discovery as it is now defaults\nto not sending auth. Just changing the default would be a behavior\nchange resulting in sending unneeded data with *every* request.\nInstead, respond to Unauthorized exceptions by retrying the request\nwith auth token. This way discovery will work for services that\nare otherwise blocking unauthenticated access, and will get more\nefficient over time as those services improve.\n\nChange-Id: I8a33e8a05bed0f18e4e42431f6d16b8a6a5270ef\n'}, {'number': 7, 'created': '2019-10-04 06:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/9a8f4013e25223f09bed33a95cc34c91c1859907', 'message': 'Fetch discovery documents with auth when needed\n\nSome services, like Nova, default to requiring auth for their\nversioned discovery documents. This means strict discovery\ndoes not work on them, because discovery as it is now defaults\nto not sending auth. Just changing the default would be a behavior\nchange resulting in sending unneeded data with *every* request.\nInstead, respond to Unauthorized exceptions by retrying the request\nwith auth token. This way discovery will work for services that\nare otherwise blocking unauthenticated access, and will get more\nefficient over time as those services improve.\n\nDepends-On: https://review.opendev.org/685999\nChange-Id: I8a33e8a05bed0f18e4e42431f6d16b8a6a5270ef\n'}, {'number': 8, 'created': '2019-10-04 13:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/1dec5fdd2db3a5ae93c862ab06aea00567cc31d2', 'message': 'Fetch discovery documents with auth when needed\n\nSome services, like Nova, default to requiring auth for their\nversioned discovery documents. This means strict discovery\ndoes not work on them, because discovery as it is now defaults\nto not sending auth. Just changing the default would be a behavior\nchange resulting in sending unneeded data with *every* request.\nInstead, respond to Unauthorized exceptions by retrying the request\nwith auth token. This way discovery will work for services that\nare otherwise blocking unauthenticated access, and will get more\nefficient over time as those services improve.\n\nDepends-On: https://review.opendev.org/#/c/686600/\nChange-Id: I8a33e8a05bed0f18e4e42431f6d16b8a6a5270ef\n'}, {'number': 9, 'created': '2019-10-04 13:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/170c05937799338f6c5adc67b37ee01dcbd2af40', 'message': 'Fetch discovery documents with auth when needed\n\nSome services, like Nova, default to requiring auth for their\nversioned discovery documents. This means strict discovery\ndoes not work on them, because discovery as it is now defaults\nto not sending auth. Just changing the default would be a behavior\nchange resulting in sending unneeded data with *every* request.\nInstead, respond to Unauthorized exceptions by retrying the request\nwith auth token. This way discovery will work for services that\nare otherwise blocking unauthenticated access, and will get more\nefficient over time as those services improve.\n\nDepends-On: https://review.opendev.org/#/c/685999\nChange-Id: I8a33e8a05bed0f18e4e42431f6d16b8a6a5270ef\n'}, {'number': 10, 'created': '2019-10-04 15:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/155ba12890c3234067514b38577e2e4ee60ca5ae', 'message': 'Fetch discovery documents with auth when needed\n\nSome services, like Nova, default to requiring auth for their\nversioned discovery documents. This means strict discovery\ndoes not work on them, because discovery as it is now defaults\nto not sending auth. Just changing the default would be a behavior\nchange resulting in sending unneeded data with *every* request.\nInstead, respond to Unauthorized exceptions by retrying the request\nwith auth token. This way discovery will work for services that\nare otherwise blocking unauthenticated access, and will get more\nefficient over time as those services improve.\n\nDepends-On: https://review.opendev.org/#/c/685999\nChange-Id: I8a33e8a05bed0f18e4e42431f6d16b8a6a5270ef\n'}, {'number': 11, 'created': '2019-10-04 15:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/5ce0d680a13f0af69e6f2493303a0d6bfbe2c964', 'message': 'Fetch discovery documents with auth when needed\n\nSome services, like Nova, default to requiring auth for their\nversioned discovery documents. This means strict discovery\ndoes not work on them, because discovery as it is now defaults\nto not sending auth. Just changing the default would be a behavior\nchange resulting in sending unneeded data with *every* request.\nInstead, respond to Unauthorized exceptions by retrying the request\nwith auth token. This way discovery will work for services that\nare otherwise blocking unauthenticated access, and will get more\nefficient over time as those services improve.\n\nDepends-On: https://review.opendev.org/#/c/685999\nChange-Id: I8a33e8a05bed0f18e4e42431f6d16b8a6a5270ef\n'}, {'number': 12, 'created': '2019-10-04 16:36:35.000000000', 'files': ['keystoneauth1/discover.py', 'releasenotes/notes/retry-authenticated-discovery-19c4354ff983f507.yaml', 'keystoneauth1/tests/unit/test_discovery.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/26ad02db0f7e974a467a95616e144a9507cf6817', 'message': 'Fetch discovery documents with auth when needed\n\nSome services, like Nova, default to requiring auth for their\nversioned discovery documents. This means strict discovery\ndoes not work on them, because discovery as it is now defaults\nto not sending auth. Just changing the default would be a behavior\nchange resulting in sending unneeded data with *every* request.\nInstead, respond to Unauthorized exceptions by retrying the request\nwith auth token. This way discovery will work for services that\nare otherwise blocking unauthenticated access, and will get more\nefficient over time as those services improve.\n\nDepends-On: https://review.opendev.org/#/c/685999\nChange-Id: I8a33e8a05bed0f18e4e42431f6d16b8a6a5270ef\n'}]",6,685042,26ad02db0f7e974a467a95616e144a9507cf6817,45,6,12,2,,,0,"Fetch discovery documents with auth when needed

Some services, like Nova, default to requiring auth for their
versioned discovery documents. This means strict discovery
does not work on them, because discovery as it is now defaults
to not sending auth. Just changing the default would be a behavior
change resulting in sending unneeded data with *every* request.
Instead, respond to Unauthorized exceptions by retrying the request
with auth token. This way discovery will work for services that
are otherwise blocking unauthenticated access, and will get more
efficient over time as those services improve.

Depends-On: https://review.opendev.org/#/c/685999
Change-Id: I8a33e8a05bed0f18e4e42431f6d16b8a6a5270ef
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/42/685042/8 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneauth1/identity/base.py', 'keystoneauth1/adapter.py', 'releasenotes/notes/expose-authenticated-discovery-19c4354ff983f507.yaml', 'keystoneauth1/discover.py']",4,87e3d2fd09071349c209a45f77ae3d5f12c6e001,fix-auth-discovery," min_version=None, max_version=None, authenticated=False): :param authenticed: Whether to send a token for discovery calls. (optional, defaults to False) max_version=max_version, authenticated=authenticated) min_version=None, max_version=None, authenticated=False): discover_versions=discover_versions, authenticated=authenticated) project_id, allow_version_hack, discover_versions, authenticated): authenticated=authenticated)"," min_version=None, max_version=None): max_version=max_version) min_version=None, max_version=None): discover_versions=discover_versions) project_id, allow_version_hack, discover_versions): authenticated=False)",29,10
openstack%2Fdesignate~master~I8798c04f2bc386aca32bda8961efd29298899890,openstack/designate,master,I8798c04f2bc386aca32bda8961efd29298899890,Switch to apache for designate-api,MERGED,2019-09-25 05:45:59.000000000,2019-10-21 19:16:37.000000000,2019-10-21 19:14:31.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-09-25 05:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/59f7b06754c14c1f465a18843190f6c7749308c9', 'message': '[WIP] Testing apache\n\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}, {'number': 2, 'created': '2019-09-25 06:29:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/936235ae225ae5fee4adb03c957b3f475c1fc5b6', 'message': '[WIP] Testing apache\n\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}, {'number': 3, 'created': '2019-09-25 07:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1b8d587b6b877c100c5964d59817049a742de093', 'message': '[WIP] Testing apache\n\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}, {'number': 4, 'created': '2019-09-25 07:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7a02677566b32d3c92362304577210b0aaba7e11', 'message': '[WIP] Testing apache\n\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}, {'number': 5, 'created': '2019-09-25 07:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/f3d61676dec86936af7650760511629f318d4fbf', 'message': '[WIP] Testing apache\n\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}, {'number': 6, 'created': '2019-09-25 07:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/0f34f38b5130a1a548ecb68efabff63cf605776e', 'message': '[WIP] Use Apache for devstack\n\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}, {'number': 7, 'created': '2019-09-25 08:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/57695ac0dd47674ca9c1756d1354a31a5acaa889', 'message': '[WIP] Use Apache for devstack\n\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}, {'number': 8, 'created': '2019-09-25 17:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4e2889a71e94e84a35d9e214d0fdd813665d05e2', 'message': '[DNM] Use Apache for devstack\n\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}, {'number': 9, 'created': '2019-09-25 17:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/36acad389aededb3d312cc61ecf2dd95bfb1b255', 'message': '[DNM] Use Apache for devstack\n\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}, {'number': 10, 'created': '2019-09-25 18:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/32aa61f32d2351a12570e96ac8ca505fec431545', 'message': '[DNM] Use Apache for devstack\n\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}, {'number': 11, 'created': '2019-09-25 23:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4011f5481666962e70edc481ba16f411bdcf86a2', 'message': '[DNM] Use Apache for devstack\n\nDepends-On: https://review.opendev.org/#/c/684854/\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}, {'number': 12, 'created': '2019-09-28 03:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/db51ff884cb8d8561a1b7656ad84faa598252dad', 'message': 'Switch to apache for designate-api\n\nThis patch switches to uwsgi by default\nfor devstack.\n\nDepends-On: https://review.opendev.org/#/c/684854/\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}, {'number': 13, 'created': '2019-10-01 20:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cec7a7058316e0d77dc641d3d26e31b521fec881', 'message': 'Switch to apache for designate-api\n\nThis patch switches to uwsgi by default\nfor devstack.\n\nDepends-On: https://review.opendev.org/#/c/684854/\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}, {'number': 14, 'created': '2019-10-02 01:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7872afe119133f96d5feded4220f9171f7a6fc1e', 'message': 'Switch to apache for designate-api\n\nThis patch switches to uwsgi by default\nfor devstack.\n\nDepends-On: https://review.opendev.org/#/c/684854/\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}, {'number': 15, 'created': '2019-10-02 03:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/bd336efb08803f63e007d30a4a0b72c3b481ebac', 'message': '[WIP] Switch to apache for designate-api\n\nThis patch switches to uwsgi by default\nfor devstack.\n\nDepends-On: https://review.opendev.org/#/c/684854/\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}, {'number': 16, 'created': '2019-10-02 06:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1f6317989246b388984d8a5d8640fe73b3be76bc', 'message': '[WIP] Switch to apache for designate-api\n\nThis patch switches to uwsgi by default\nfor devstack.\n\nDepends-On: https://review.opendev.org/#/c/684854/\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}, {'number': 17, 'created': '2019-10-02 17:36:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/be41b0b16928f5defaacebe2c424bafeb8decce3', 'message': 'Switch to apache for designate-api\n\nThis patch switches to uwsgi by default\nfor devstack.\n\nDepends-On: https://review.opendev.org/#/c/684854/\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}, {'number': 18, 'created': '2019-10-02 21:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a66ed41cdbdff8bd3641340067a2aeaaa0e2a086', 'message': 'Switch to apache for designate-api\n\nThis patch switches to uwsgi by default\nfor devstack.\n\nDepends-On: https://review.opendev.org/#/c/684854/\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}, {'number': 19, 'created': '2019-10-05 19:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b50af0006413c821b7f55d22c2a86bed75c175a9', 'message': 'Switch to apache for designate-api\n\nThis patch switches to Apache and mod_wsgi by default\nfor devstack.\n\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}, {'number': 20, 'created': '2019-10-05 19:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/44fbd48cec2c801336789518667f92f1a0c465c1', 'message': 'Switch to apache for designate-api\n\nThis patch switches to Apache and mod_wsgi by default\nfor devstack.\n\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}, {'number': 21, 'created': '2019-10-05 19:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a3d0a7d9fa83f99f2f8b58f39c9e186243cd1d44', 'message': 'Switch to apache for designate-api\n\nThis patch switches to Apache and mod_wsgi by default\nfor devstack.\n\nAlso, use memcached as the coordinatior for single node deployments.\n\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}, {'number': 22, 'created': '2019-10-05 20:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a5b1c9bb9122a09295d16165bf5f01059baea94a', 'message': 'Switch to apache for designate-api\n\nThis patch switches to Apache and mod_wsgi by default\nfor devstack.\n\nAlso, use memcached as the coordinatior for single node deployments.\n\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}, {'number': 23, 'created': '2019-10-11 23:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/64600f63cdc1b95661b7c3811032c147f7d807b2', 'message': 'Switch to apache for designate-api\n\nThis patch switches to Apache and mod_wsgi by default\nfor devstack.\n\nAlso, use memcached as the coordinatior for single node deployments.\n\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}, {'number': 24, 'created': '2019-10-18 22:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/91f09996579cbe17420327f1735b05e896cd62ea', 'message': 'Switch to apache for designate-api\n\nThis patch switches to Apache and mod_wsgi by default\nfor devstack.\n\nAlso, use memcached as the coordinatior for single node deployments.\n\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}, {'number': 25, 'created': '2019-10-19 07:16:14.000000000', 'files': ['devstack/files/apache-designate-api.template', 'test-requirements.txt', 'devstack/plugin.sh', 'lower-constraints.txt', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/designate/commit/9e3c2bb65b6111f66e62b6d2b4d9e64edf5a31bb', 'message': 'Switch to apache for designate-api\n\nThis patch switches to Apache and mod_wsgi by default\nfor devstack.\n\nAlso, use memcached as the coordinatior for single node deployments.\n\nChange-Id: I8798c04f2bc386aca32bda8961efd29298899890\n'}]",0,684464,9e3c2bb65b6111f66e62b6d2b4d9e64edf5a31bb,90,3,25,22623,,,0,"Switch to apache for designate-api

This patch switches to Apache and mod_wsgi by default
for devstack.

Also, use memcached as the coordinatior for single node deployments.

Change-Id: I8798c04f2bc386aca32bda8961efd29298899890
",git fetch https://review.opendev.org/openstack/designate refs/changes/64/684464/11 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/files/apache-designate-api.template', 'devstack/plugin.sh', 'devstack/settings']",3,59f7b06754c14c1f465a18843190f6c7749308c9,wsgi_support,DESIGNATE_UWSGI=$DESIGNATE_BIN_DIR/placement-api DESIGNATE_UWSGI_CONF=$DESIGNATE_CONF_DIR/designate-api-uwsgi.ini ,,66,4
openstack%2Ftripleo-validations~master~I601bb81540719f195915ab8298fd1f2c3fb65f39,openstack/tripleo-validations,master,I601bb81540719f195915ab8298fd1f2c3fb65f39,Set validation defaults to match undercloud default settings,MERGED,2019-10-16 20:43:16.000000000,2019-10-21 19:07:29.000000000,2019-10-21 16:47:11.000000000,"[{'_account_id': 11491}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-10-16 20:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/08875bd01b63e153bda07c926d46f89cf3fcd62a', 'message': ""Set validation defaults to match undercloud default settings\n\nIn undercloud.conf, by default the dhcp ip address range is 20\n(dhcp_start = 192.168.24.5, dhcp_end = 192.168.24.24).\nThis can be changed but is reasonable for POCs.  The validation\ndefault should match this, otherwise there will be validation\nfailures when run on existing deployments that haven't\nchanged the default.\n\nChange-Id: I601bb81540719f195915ab8298fd1f2c3fb65f39\n""}, {'number': 2, 'created': '2019-10-17 13:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/be4a99dc8791182d3704cf32efb489d608dd0b87', 'message': ""Set validation defaults to match undercloud default settings\n\nIn undercloud.conf, by default the dhcp ip address range is 20\n(dhcp_start = 192.168.24.5, dhcp_end = 192.168.24.24).\nThis can be changed but is reasonable for POCs.  The validation\ndefault should match this, otherwise there will be validation\nfailures when run on existing deployments that haven't\nchanged the default.\n\nChange-Id: I601bb81540719f195915ab8298fd1f2c3fb65f39\n""}, {'number': 3, 'created': '2019-10-18 08:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2d8a40de4b4561f65b474714e28d7e646a00b40d', 'message': ""Set validation defaults to match undercloud default settings\n\nIn undercloud.conf, by default the dhcp ip address range is 20\n(dhcp_start = 192.168.24.5, dhcp_end = 192.168.24.24).\nThis can be changed but is reasonable for POCs.  The validation\ndefault should match this, otherwise there will be validation\nfailures when run on existing deployments that haven't\nchanged the default.\n\nChange-Id: I601bb81540719f195915ab8298fd1f2c3fb65f39\n""}, {'number': 4, 'created': '2019-10-18 09:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d430c8a9b6d3fe3259abeb2e3723456710e1592c', 'message': ""Set validation defaults to match undercloud default settings\n\nIn undercloud.conf, by default the dhcp ip address range is 20\n(dhcp_start = 192.168.24.5, dhcp_end = 192.168.24.24).\nThis can be changed but is reasonable for POCs.  The validation\ndefault should match this, otherwise there will be validation\nfailures when run on existing deployments that haven't\nchanged the default.\n\nChange-Id: I601bb81540719f195915ab8298fd1f2c3fb65f39\n""}, {'number': 5, 'created': '2019-10-18 09:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4fea288f9a96470a725c0c315df1e75179ec10e6', 'message': ""Set validation defaults to match undercloud default settings\n\nIn undercloud.conf, by default the dhcp ip address range is 20\n(dhcp_start = 192.168.24.5, dhcp_end = 192.168.24.24).\nThis can be changed but is reasonable for POCs.  The validation\ndefault should match this, otherwise there will be validation\nfailures when run on existing deployments that haven't\nchanged the default.\n\nChange-Id: I601bb81540719f195915ab8298fd1f2c3fb65f39\n""}, {'number': 6, 'created': '2019-10-18 09:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/dac276379eca96e38b5bc338af5f87c471d4d561', 'message': ""Set validation defaults to match undercloud default settings\n\nIn undercloud.conf, by default the dhcp ip address range is 20\n(dhcp_start = 192.168.24.5, dhcp_end = 192.168.24.24).\nThis can be changed but is reasonable for POCs.  The validation\ndefault should match this, otherwise there will be validation\nfailures when run on existing deployments that haven't\nchanged the default.\n\nChange-Id: I601bb81540719f195915ab8298fd1f2c3fb65f39\n""}, {'number': 7, 'created': '2019-10-18 10:50:49.000000000', 'files': ['playbooks/ctlplane-ip-range.yaml', 'roles/ctlplane-ip-range/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/96492aac15169d6ce7bad19192cdc800782fdb57', 'message': ""Set validation defaults to match undercloud default settings\n\nIn undercloud.conf, by default the dhcp ip address range is 20\n(dhcp_start = 192.168.24.5, dhcp_end = 192.168.24.24).\nThis can be changed but is reasonable for POCs.  The validation\ndefault should match this, otherwise there will be validation\nfailures when run on existing deployments that haven't\nchanged the default.\n\nChange-Id: I601bb81540719f195915ab8298fd1f2c3fb65f39\n""}]",0,689037,96492aac15169d6ce7bad19192cdc800782fdb57,22,4,7,21909,,,0,"Set validation defaults to match undercloud default settings

In undercloud.conf, by default the dhcp ip address range is 20
(dhcp_start = 192.168.24.5, dhcp_end = 192.168.24.24).
This can be changed but is reasonable for POCs.  The validation
default should match this, otherwise there will be validation
failures when run on existing deployments that haven't
changed the default.

Change-Id: I601bb81540719f195915ab8298fd1f2c3fb65f39
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/37/689037/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/ctlplane-ip-range.yaml', 'roles/ctlplane-ip-range/defaults/main.yml']",2,08875bd01b63e153bda07c926d46f89cf3fcd62a,Fix_ansible-lint_installation_failure,ctlplane_iprange_min_size: 20,ctlplane_iprange_min_size: 25,2,2
openstack%2Fnova~stable%2Ftrain~If5b0c2f28773e0b2fcb008d5251fb69d950ca569,openstack/nova,stable/train,If5b0c2f28773e0b2fcb008d5251fb69d950ca569,Fix exception translation when creating volume,MERGED,2019-10-11 08:41:18.000000000,2019-10-21 18:53:33.000000000,2019-10-21 18:50:19.000000000,"[{'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-11 08:41:18.000000000', 'files': ['nova/tests/unit/volume/test_cinder.py', 'nova/volume/cinder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/821506a50c13c73a2877e20ed9efc37a80e5dff8', 'message': 'Fix exception translation when creating volume\n\nMethod `nova.volume.cinder.API#create` accepts `size` as the 3rd args,\nbut in wrapper of `nova.volume.cinder.translate_volume_exception`, the 3rd\nparameter is volume_id. If we hit cinder exception when creating volumes\nlike the response body down below:\n```\n{""itemNotFound"": {""message"": ""Volume type with name xxx could not be found."",\n""code"": 404}}\n```\nwe may get exception in nova compute log like this:\n```\nBuildAbortException: Build of instance xxx aborted: Volume 40 could not be\nfound.\n```\nactually, `40` is volume size, not voluem id.\n\nThis could be a little misleading.\n\nCloses-Bug: #1846532\n\nChange-Id: If5b0c2f28773e0b2fcb008d5251fb69d950ca569\nSigned-off-by: Fan Zhang <zh.f@outlook.com>\n(cherry picked from commit 0f9311fae19e4e204cdc601acbe7dafc49c73661)\n'}]",0,688072,821506a50c13c73a2877e20ed9efc37a80e5dff8,15,7,1,25113,,,0,"Fix exception translation when creating volume

Method `nova.volume.cinder.API#create` accepts `size` as the 3rd args,
but in wrapper of `nova.volume.cinder.translate_volume_exception`, the 3rd
parameter is volume_id. If we hit cinder exception when creating volumes
like the response body down below:
```
{""itemNotFound"": {""message"": ""Volume type with name xxx could not be found."",
""code"": 404}}
```
we may get exception in nova compute log like this:
```
BuildAbortException: Build of instance xxx aborted: Volume 40 could not be
found.
```
actually, `40` is volume size, not voluem id.

This could be a little misleading.

Closes-Bug: #1846532

Change-Id: If5b0c2f28773e0b2fcb008d5251fb69d950ca569
Signed-off-by: Fan Zhang <zh.f@outlook.com>
(cherry picked from commit 0f9311fae19e4e204cdc601acbe7dafc49c73661)
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/688072/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/volume/test_cinder.py', 'nova/volume/cinder.py']",2,821506a50c13c73a2877e20ed9efc37a80e5dff8,bug/1846532,"def translate_create_exception(method): """"""Transforms the exception for create but keeps its traceback intact. """""" def wrapper(self, ctx, size, *args, **kwargs): try: res = method(self, ctx, size, *args, **kwargs) except (keystone_exception.NotFound, cinder_exception.NotFound) as e: _reraise(exception.NotFound(message=e.message)) except cinder_exception.OverLimit as e: _reraise(exception.OverQuota(message=e.message)) return res return translate_cinder_exception(wrapper) @translate_create_exception", @translate_volume_exception,38,1
openstack%2Fnova~stable%2Ftrain~I6bfa6fa767403fb936a6ae340b8687eb161732fc,openstack/nova,stable/train,I6bfa6fa767403fb936a6ae340b8687eb161732fc,Handle get_host_availability_zone error during reschedule,MERGED,2019-10-02 17:48:39.000000000,2019-10-21 18:39:25.000000000,2019-10-21 18:35:56.000000000,"[{'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-10-02 17:48:39.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b5e6c389d733d4dbd94380add7e3fa6c4d1e3fa8', 'message': 'Handle get_host_availability_zone error during reschedule\n\nIf a build fails and reschedules to a cell conductor which does\nnot have access to the API DB, the call to get_host_availability_zone\nwill fail with a CantStartEngineError because it\'s trying to do an\n""up-call"" to the API DB for host aggregate info. The reschedule\nfails and the instance is stuck in BUILD status without a fault\ninjected for determining what went wrong.\n\nThis change simply handles the failure and cleans up so the instance\nis put into a terminal (ERROR) state.\n\nChange-Id: I6bfa6fa767403fb936a6ae340b8687eb161732fc\nPartial-Bug: #1781286\n(cherry picked from commit 38fb7f82abd7fffc00ebc050ee5230f1137e76d8)\n'}]",0,686226,b5e6c389d733d4dbd94380add7e3fa6c4d1e3fa8,23,6,1,6873,,,0,"Handle get_host_availability_zone error during reschedule

If a build fails and reschedules to a cell conductor which does
not have access to the API DB, the call to get_host_availability_zone
will fail with a CantStartEngineError because it's trying to do an
""up-call"" to the API DB for host aggregate info. The reschedule
fails and the instance is stuck in BUILD status without a fault
injected for determining what went wrong.

This change simply handles the failure and cleans up so the instance
is put into a terminal (ERROR) state.

Change-Id: I6bfa6fa767403fb936a6ae340b8687eb161732fc
Partial-Bug: #1781286
(cherry picked from commit 38fb7f82abd7fffc00ebc050ee5230f1137e76d8)
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/686226/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py']",2,b5e6c389d733d4dbd94380add7e3fa6c4d1e3fa8,bug/1781286," try: instance.availability_zone = ( availability_zones.get_host_availability_zone(context, host.service_host)) except Exception as exc: # Put the instance into ERROR state, set task_state to None, # inject a fault, etc. self._cleanup_when_reschedule_fails( context, instance, exc, legacy_request_spec, requested_networks) continue "," instance.availability_zone = ( availability_zones.get_host_availability_zone(context, host.service_host))",57,3
openstack%2Fironic-python-agent~master~I4fd830fbafa92a0835e5588747424abf1b75286c,openstack/ironic-python-agent,master,I4fd830fbafa92a0835e5588747424abf1b75286c,Switch to Ussuri job,MERGED,2019-10-21 14:31:34.000000000,2019-10-21 18:31:42.000000000,2019-10-21 18:28:55.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-10-21 14:31:34.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/16f3598da4a4b864f6aaa6a4272755a1fb588447', 'message': 'Switch to Ussuri job\n\nChange-Id: I4fd830fbafa92a0835e5588747424abf1b75286c\n'}]",0,689793,16f3598da4a4b864f6aaa6a4272755a1fb588447,10,5,1,15519,,,0,"Switch to Ussuri job

Change-Id: I4fd830fbafa92a0835e5588747424abf1b75286c
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/93/689793/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,16f3598da4a4b864f6aaa6a4272755a1fb588447,ussuri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fnova~stable%2Ftrain~I49196e16819abd1a4ac94619a2909ee523b14215,openstack/nova,stable/train,I49196e16819abd1a4ac94619a2909ee523b14215,Update compute rpc version alias for train,MERGED,2019-10-17 14:05:33.000000000,2019-10-21 18:30:17.000000000,2019-10-21 18:26:58.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-17 14:05:33.000000000', 'files': ['nova/compute/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ed48d932db2c82078c6e3921329f0b726bf83492', 'message': 'Update compute rpc version alias for train\n\nThis adds a compute rpc version alias for the named release train.\n\nChange-Id: I49196e16819abd1a4ac94619a2909ee523b14215\n(cherry picked from commit de373c700748df31ee460f469fa00b48d5eab243)\n'}]",0,689164,ed48d932db2c82078c6e3921329f0b726bf83492,12,7,1,4393,,,0,"Update compute rpc version alias for train

This adds a compute rpc version alias for the named release train.

Change-Id: I49196e16819abd1a4ac94619a2909ee523b14215
(cherry picked from commit de373c700748df31ee460f469fa00b48d5eab243)
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/689164/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/rpcapi.py'],1,ed48d932db2c82078c6e3921329f0b726bf83492,backport/train-rpc-alias," 'train': '5.3',",,1,0
openstack%2Foctavia~master~Ic07629adb9419c74d5ed957a0640fb1dc8253521,openstack/octavia,master,Ic07629adb9419c74d5ed957a0640fb1dc8253521,Delete the periodic Fedora 28 amphora image job,MERGED,2019-09-23 06:38:45.000000000,2019-10-21 18:27:09.000000000,2019-10-21 18:23:43.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-23 06:38:45.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/66aefc22b5bd287f7b61038b2182ad3b1370e73a', 'message': 'Delete the periodic Fedora 28 amphora image job\n\nThe job broke around mid June and has not been fixed since that time.\nPlus, Fedora 28 is no longer supported by the Fedora project and is not\ntested by any of our dsvm scenario jobs. It is time to delete the job\nfrom the periodic queue.\n\nThe community is more than welcome to help restore Fedora-based amphora\nimage builds. One might be interested in picking help change\nhttps://review.opendev.org/#/c/673173/ where the build was successful\nbut was did not pass the dsvm scenario job.\n\nChange-Id: Ic07629adb9419c74d5ed957a0640fb1dc8253521\n'}]",2,683850,66aefc22b5bd287f7b61038b2182ad3b1370e73a,17,5,1,6469,,,0,"Delete the periodic Fedora 28 amphora image job

The job broke around mid June and has not been fixed since that time.
Plus, Fedora 28 is no longer supported by the Fedora project and is not
tested by any of our dsvm scenario jobs. It is time to delete the job
from the periodic queue.

The community is more than welcome to help restore Fedora-based amphora
image builds. One might be interested in picking help change
https://review.opendev.org/#/c/673173/ where the build was successful
but was did not pass the dsvm scenario job.

Change-Id: Ic07629adb9419c74d5ed957a0640fb1dc8253521
",git fetch https://review.opendev.org/openstack/octavia refs/changes/50/683850/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,66aefc22b5bd287f7b61038b2182ad3b1370e73a,,, name: publish-openstack-octavia-amphora-image-fedora28 parent: publish-openstack-octavia-amphora-image description: | Publish Fedora 28 based amphora image to tarballs.o.o. vars: amphora_os: fedora amphora_image_size: 3 amphora_os_release: 28 - job:,0,12
openstack%2Fkeystoneauth~master~I66c0ab254ad9dc0427d4fbdbeea0ffb623284588,openstack/keystoneauth,master,I66c0ab254ad9dc0427d4fbdbeea0ffb623284588,Update master for stable/train,MERGED,2019-09-07 18:24:27.000000000,2019-10-21 17:58:34.000000000,2019-10-21 17:55:54.000000000,"[{'_account_id': 2}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-09-07 18:24:27.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/8289f1501f1cc163b9697482fa17f3de7b290047', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I66c0ab254ad9dc0427d4fbdbeea0ffb623284588\nSem-Ver: feature\n'}]",0,680824,8289f1501f1cc163b9697482fa17f3de7b290047,9,4,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I66c0ab254ad9dc0427d4fbdbeea0ffb623284588
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/24/680824/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,8289f1501f1cc163b9697482fa17f3de7b290047,reno-train, train,,7,0
openstack%2Ftripleo-common~master~I5602aa1298dda998b9a58f7234593683281414c3,openstack/tripleo-common,master,I5602aa1298dda998b9a58f7234593683281414c3,Use port 547 for dhcpv6 healthchecks when using IPv6,MERGED,2019-10-16 00:39:15.000000000,2019-10-21 17:52:34.000000000,2019-10-21 16:46:26.000000000,"[{'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-10-16 00:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e3b66bf3dcb889d28b771fd2c66a92523e3c8a97', 'message': 'Use port 547 for dhcpv6 healthchecks when using IPv6\n\nCheck the listen-address to determine if using IPv6 on\nthe ctlplane and set the DHCP port accordingly.\n\nChange-Id: I5602aa1298dda998b9a58f7234593683281414c3\nCloses-Bug: 1847380\n'}, {'number': 2, 'created': '2019-10-21 07:14:38.000000000', 'files': ['healthcheck/ironic-inspector'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6b3b39f6952da90b2f5374fd7371bc87a01bf220', 'message': 'Use port 547 for dhcpv6 healthchecks when using IPv6\n\nCheck the listen-address to determine if using IPv6 on\nthe ctlplane and set the DHCP port accordingly.\n\nChange-Id: I5602aa1298dda998b9a58f7234593683281414c3\nCloses-Bug: 1847380\n'}]",0,688836,6b3b39f6952da90b2f5374fd7371bc87a01bf220,19,6,2,21909,,,0,"Use port 547 for dhcpv6 healthchecks when using IPv6

Check the listen-address to determine if using IPv6 on
the ctlplane and set the DHCP port accordingly.

Change-Id: I5602aa1298dda998b9a58f7234593683281414c3
Closes-Bug: 1847380
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/36/688836/2 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/ironic-inspector'],1,e3b66bf3dcb889d28b771fd2c66a92523e3c8a97,1847380," listen_address=$(get_config_val /etc/ironic-inspector/inspector.conf DEFAULT listen_address 127.0.0.1) # Check DHCPv6 port if using IPv6 if [[ $listen_address =~ "":"" ]]; then port=""547"" else port=""67"" fi echo ""Checking $process port(s) $port."" if ! healthcheck_listen $process $port; then echo ""There is no $process process listening on port(s) $port in the container."""," ports=""${@:-67}"" if ! healthcheck_listen $process $ports; then echo ""There is no $process process listening on port(s) $ports in the container.""",10,3
openstack%2Fneutron~master~Iead87ba6182d633f0f808032166e02e767fcffae,openstack/neutron,master,Iead87ba6182d633f0f808032166e02e767fcffae,Use admin context when updating router gateway,MERGED,2019-07-10 20:06:07.000000000,2019-10-21 17:44:57.000000000,2019-10-19 22:44:29.000000000,"[{'_account_id': 1131}, {'_account_id': 7016}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-07-10 20:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/95f41992d804208346c7715982523036e5d3ae82', 'message': ""Use admin context when updating router gateway\n\nWhen a router gateway is updated and the subnet changes,\nwe need to use the admin context in order for the operation\nto succeed.  Since the target network has already been\nverified to be external, this is OK. The other operations\nin this area such as create and delete already do the\nsame thing.\n\nAdded a fullstack test that moves a gateway between subnets\nand verifies it's reachable afterwards.\n\nChange-Id: Iead87ba6182d633f0f808032166e02e767fcffae\nCloses-bug: #1812118\n""}, {'number': 2, 'created': '2019-07-11 17:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ecd7ac7a5f3709c17db949e2b78fcbb076b719c', 'message': ""Use admin context when updating router gateway\n\nWhen a router gateway is updated and the subnet changes,\nwe need to use the admin context in order for the operation\nto succeed.  Since the target network has already been\nverified to be external, this is OK. The other operations\nin this area such as create and delete already do the\nsame thing.\n\nAdded a fullstack test that moves a gateway between subnets\nand verifies it's reachable afterwards.\n\nChange-Id: Iead87ba6182d633f0f808032166e02e767fcffae\nCloses-bug: #1812118\n""}, {'number': 3, 'created': '2019-07-12 17:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b7043c5065a2e6170a89c4f9bf7e9a8fcd9fa6eb', 'message': ""Use admin context when updating router gateway\n\nWhen a router gateway is updated and the subnet changes,\nwe need to use the admin context in order for the operation\nto succeed.  Since the target network has already been\nverified to be external, this is OK. The other operations\nin this area such as create and delete already do the\nsame thing.\n\nAdded a fullstack test that moves a gateway between subnets\nand verifies it's reachable afterwards.\n\nChange-Id: Iead87ba6182d633f0f808032166e02e767fcffae\nCloses-bug: #1812118\n""}, {'number': 4, 'created': '2019-07-16 16:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6bc400827fc3374a4132b7e9dd030b4ad7ca0f22', 'message': ""Use admin context when updating router gateway\n\nWhen a router gateway is updated and the subnet changes,\nwe need to use the admin context in order for the operation\nto succeed.  Since the target network has already been\nverified to be external, this is OK. The other operations\nin this area such as create and delete already do the\nsame thing.\n\nAdded a fullstack test that moves a gateway between subnets\nand verifies it's reachable afterwards.\n\nChange-Id: Iead87ba6182d633f0f808032166e02e767fcffae\nCloses-bug: #1812118\n""}, {'number': 5, 'created': '2019-08-01 19:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0f24f258e3a3d20b41f73d9e8f59ebea9629537', 'message': ""Use admin context when updating router gateway\n\nWhen a router gateway is updated and the subnet changes,\nwe need to use the admin context in order for the operation\nto succeed.  Since the target network has already been\nverified to be external, this is OK. The other operations\nin this area such as create and delete already do the\nsame thing.\n\nAdded a fullstack test that moves a gateway between subnets\nand verifies it's reachable afterwards.\n\nChange-Id: Iead87ba6182d633f0f808032166e02e767fcffae\nCloses-bug: #1812118\n""}, {'number': 6, 'created': '2019-08-06 21:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/883921d35cd40f03c41d3ec593ca94ab526f77b6', 'message': ""Use admin context when updating router gateway\n\nWhen a router gateway is updated and the subnet changes,\nwe need to use the admin context in order for the operation\nto succeed.  Since the target network has already been\nverified to be external, this is OK. The other operations\nin this area such as create and delete already do the\nsame thing.\n\nAdded a fullstack test that moves a gateway between subnets\nand verifies it's reachable afterwards.\n\nChange-Id: Iead87ba6182d633f0f808032166e02e767fcffae\nCloses-bug: #1812118\n""}, {'number': 7, 'created': '2019-08-27 16:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/53c9c08a0d45ef6cbf23ccde5229d566e4e21d5c', 'message': ""Use admin context when updating router gateway\n\nWhen a router gateway is updated and the subnet changes,\nwe need to use the admin context in order for the operation\nto succeed.  Since the target network has already been\nverified to be external, this is OK. The other operations\nin this area such as create and delete already do the\nsame thing.\n\nAdded a fullstack test that moves a gateway between subnets\nand verifies it's reachable afterwards.\n\nChange-Id: Iead87ba6182d633f0f808032166e02e767fcffae\nCloses-bug: #1812118\n""}, {'number': 8, 'created': '2019-09-12 21:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e0c06a7ce123e7f2346d63d716cdb67ec887cb6', 'message': ""Use admin context when updating router gateway\n\nWhen a router gateway is updated and the subnet changes,\nwe need to use the admin context in order for the operation\nto succeed.  Since the target network has already been\nverified to be external, this is OK. The other operations\nin this area such as create and delete already do the\nsame thing.\n\nAdded a fullstack test that moves a gateway between subnets\nand verifies it's reachable afterwards.\n\nChange-Id: Iead87ba6182d633f0f808032166e02e767fcffae\nCloses-bug: #1812118\n""}, {'number': 9, 'created': '2019-09-13 14:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/515c16497bc2099bb152ffc56e42987961e54142', 'message': ""Use admin context when updating router gateway\n\nWhen a router gateway is updated and the subnet changes,\nwe need to use the admin context in order for the operation\nto succeed.  Since the target network has already been\nverified to be external, this is OK. The other operations\nin this area such as create and delete already do the\nsame thing.\n\nAdded a fullstack test that moves a gateway between subnets\nand verifies it's reachable afterwards.\n\nChange-Id: Iead87ba6182d633f0f808032166e02e767fcffae\nCloses-bug: #1812118\n""}, {'number': 10, 'created': '2019-09-17 21:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/105e752486b4cff11fc576d8f418fac5846678f1', 'message': ""Use admin context when updating router gateway\n\nWhen a router gateway is updated and the subnet changes,\nwe need to use the admin context in order for the operation\nto succeed.  Since the target network has already been\nverified to be external, this is OK. The other operations\nin this area such as create and delete already do the\nsame thing.\n\nAdded a fullstack test that moves a gateway between subnets\nand verifies it's reachable afterwards.\n\nChange-Id: Iead87ba6182d633f0f808032166e02e767fcffae\nCloses-bug: #1812118\n""}, {'number': 11, 'created': '2019-10-02 21:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cdf2392e9b8d3c750e7b9d0cc1126d310dc7e49b', 'message': ""Use admin context when updating router gateway\n\nWhen a router gateway is updated and the subnet changes,\nwe need to use the admin context in order for the operation\nto succeed.  Since the target network has already been\nverified to be external, this is OK. The other operations\nin this area such as create and delete already do the\nsame thing.\n\nAdded a fullstack test that moves a gateway between subnets\nand verifies it's reachable afterwards.\n\nChange-Id: Iead87ba6182d633f0f808032166e02e767fcffae\nCloses-bug: #1812118\n""}, {'number': 12, 'created': '2019-10-02 21:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/05df3a0cc510275cc880457d9de715670d42b454', 'message': ""Use admin context when updating router gateway\n\nWhen a router gateway is updated and the subnet changes,\nwe need to use the admin context in order for the operation\nto succeed.  Since the target network has already been\nverified to be external, this is OK. The other operations\nin this area such as create and delete already do the\nsame thing.\n\nAdded a fullstack test that moves a gateway between subnets\nand verifies it's reachable afterwards.\n\nChange-Id: Iead87ba6182d633f0f808032166e02e767fcffae\nCloses-bug: #1812118\n""}, {'number': 13, 'created': '2019-10-02 21:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8770e6445ede79a3cb61b7d1fbb9d75c5b03c676', 'message': ""Use admin context when updating router gateway\n\nWhen a router gateway is updated and the subnet changes,\nwe need to use the admin context in order for the operation\nto succeed.  Since the target network has already been\nverified to be external, this is OK. The other operations\nin this area such as create and delete already do the\nsame thing.\n\nAdded a fullstack test that moves a gateway between subnets\nand verifies it's reachable afterwards.\n\nChange-Id: Iead87ba6182d633f0f808032166e02e767fcffae\nCloses-bug: #1812118\n""}, {'number': 14, 'created': '2019-10-03 13:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e2773b59d4173c0be65ade4c619890b0d9468d8', 'message': ""Use admin context when updating router gateway\n\nWhen a router gateway is updated and the subnet changes,\nwe need to use the admin context in order for the operation\nto succeed.  Since the target network has already been\nverified to be external, this is OK. The other operations\nin this area such as create and delete already do the\nsame thing.\n\nAdded a fullstack test that moves a gateway between subnets\nand verifies it's reachable afterwards.\n\nChange-Id: Iead87ba6182d633f0f808032166e02e767fcffae\nCloses-bug: #1812118\n""}, {'number': 15, 'created': '2019-10-03 17:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4512c1eead32f856699d2c17544357e00686f73d', 'message': ""Use admin context when updating router gateway\n\nWhen a router gateway is updated and the subnet changes,\nwe need to use the admin context in order for the operation\nto succeed.  Since the target network has already been\nverified to be external, this is OK. The other operations\nin this area such as create and delete already do the\nsame thing.\n\nAdded a fullstack test that moves a gateway between subnets\nand verifies it's reachable afterwards.\n\nChange-Id: Iead87ba6182d633f0f808032166e02e767fcffae\nCloses-bug: #1812118\n""}, {'number': 16, 'created': '2019-10-03 19:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a31c9e0d0e7f17758903aee21521d6095c9e3dfc', 'message': ""Use admin context when updating router gateway\n\nWhen a router gateway is updated and the subnet changes,\nwe need to use the admin context in order for the operation\nto succeed.  Since the target network has already been\nverified to be external, this is OK. The other operations\nin this area such as create and delete already do the\nsame thing.\n\nAdded a fullstack test that moves a gateway between subnets\nand verifies it's reachable afterwards.\n\nChange-Id: Iead87ba6182d633f0f808032166e02e767fcffae\nCloses-bug: #1812118\n""}, {'number': 17, 'created': '2019-10-04 13:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/127331b21dc343506ad82fb9beb0ed7b0b5dc1c6', 'message': ""Use admin context when updating router gateway\n\nWhen a router gateway is updated and the subnet changes,\nwe need to use the admin context in order for the operation\nto succeed.  Since the target network has already been\nverified to be external, this is OK. The other operations\nin this area such as create and delete already do the\nsame thing.\n\nAdded a fullstack test that moves a gateway between subnets\nand verifies it's reachable afterwards.\n\nChange-Id: Iead87ba6182d633f0f808032166e02e767fcffae\nCloses-bug: #1812118\n""}, {'number': 18, 'created': '2019-10-04 16:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/17a3b4e3292f629824fbf5fdcec62b65151aa92d', 'message': ""Use admin context when updating router gateway\n\nWhen a router gateway is updated and the subnet changes,\nwe need to use the admin context in order for the operation\nto succeed.  Since the target network has already been\nverified to be external, this is OK. The other operations\nin this area such as create and delete already do the\nsame thing.\n\nAdded a fullstack test that moves a gateway between subnets\nand verifies it's reachable afterwards.\n\nChange-Id: Iead87ba6182d633f0f808032166e02e767fcffae\nCloses-bug: #1812118\n""}, {'number': 19, 'created': '2019-10-04 18:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e898d6641474d82095753b93ef15cd2966ddef4', 'message': ""Use admin context when updating router gateway\n\nWhen a router gateway is updated and the subnet changes,\nwe need to use the admin context in order for the operation\nto succeed.  Since the target network has already been\nverified to be external, this is OK. The other operations\nin this area such as create and delete already do the\nsame thing.\n\nAdded a fullstack test that moves a gateway between subnets\nand verifies it's reachable afterwards.\n\nChange-Id: Iead87ba6182d633f0f808032166e02e767fcffae\nCloses-bug: #1812118\n""}, {'number': 20, 'created': '2019-10-07 18:47:46.000000000', 'files': ['neutron/tests/fullstack/resources/client.py', 'neutron/db/l3_db.py', 'neutron/tests/fullstack/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/040b550a861ce321c87ac33e92836a502d9531d3', 'message': ""Use admin context when updating router gateway\n\nWhen a router gateway is updated and the subnet changes,\nwe need to use the admin context in order for the operation\nto succeed.  Since the target network has already been\nverified to be external, this is OK. The other operations\nin this area such as create and delete already do the\nsame thing.\n\nAdded a fullstack test that moves a gateway between subnets\nand verifies it's reachable afterwards.\n\nChange-Id: Iead87ba6182d633f0f808032166e02e767fcffae\nCloses-bug: #1812118\n""}]",8,670177,040b550a861ce321c87ac33e92836a502d9531d3,115,13,20,1131,,,0,"Use admin context when updating router gateway

When a router gateway is updated and the subnet changes,
we need to use the admin context in order for the operation
to succeed.  Since the target network has already been
verified to be external, this is OK. The other operations
in this area such as create and delete already do the
same thing.

Added a fullstack test that moves a gateway between subnets
and verifies it's reachable afterwards.

Change-Id: Iead87ba6182d633f0f808032166e02e767fcffae
Closes-bug: #1812118
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/670177/11 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_db.py', 'neutron/tests/fullstack/test_l3_agent.py']",2,95f41992d804208346c7715982523036e5d3ae82,bug/1812118," subnet = self._create_external_subnet(tenant_id, network['id']) return network, subnet def _create_external_subnet(self, tenant_id, network_id): subnet = self.safe_client.create_subnet(tenant_id, network_id, cidr) return subnet ext_sub_2 = self._create_external_subnet(tenant_id, ext_net) # move router gateway IP to be on second subnet old_gw_ip = ip_1 ip_1, ip_2 = self._find_available_ips(ext_net, ext_sub_2, 2) self.safe_client.update_port(gateway_port['id'], fixed_ips=[ {'ip_address': ip_1}, {'ip_address': ip_2}]) # ping router gateway new IPs external_vm.block_until_ping(ip_1) external_vm.block_until_ping(ip_2) # ping router old gateway IP, should fail now external_vm.block_until_no_ping(old_gw_ip) "," subnet = self.safe_client.create_subnet(tenant_id, network['id'], cidr) return network, subnet",22,4
openstack%2Fnova~stable%2Fstein~I285f68c81b0587c6a197d4791b09234a1697f5e7,openstack/nova,stable/stein,I285f68c81b0587c6a197d4791b09234a1697f5e7,Fix unit of hw_rng:rate_period,MERGED,2019-10-17 13:32:47.000000000,2019-10-21 17:29:17.000000000,2019-10-21 17:26:26.000000000,"[{'_account_id': 6873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-17 13:32:47.000000000', 'files': ['doc/source/user/flavors.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/792ec7c1df7fd5c191da6f2feb961ad43f81dfa4', 'message': 'Fix unit of hw_rng:rate_period\n\nReplace seconds with milliseconds\nin the description of hw_rng:rate_period.\n\n* https://libvirt.org/formatdomain.html#elementsRng\n\nChange-Id: I285f68c81b0587c6a197d4791b09234a1697f5e7\nCloses-Bug: #1843542\n(cherry picked from commit 976120cb20da46258df87b8fa43ba0f8ee6dc675)\n(cherry picked from commit 875826df959bf953609aa66d793793afa5ad618a)\n'}]",0,689153,792ec7c1df7fd5c191da6f2feb961ad43f81dfa4,8,2,1,7634,,,0,"Fix unit of hw_rng:rate_period

Replace seconds with milliseconds
in the description of hw_rng:rate_period.

* https://libvirt.org/formatdomain.html#elementsRng

Change-Id: I285f68c81b0587c6a197d4791b09234a1697f5e7
Closes-Bug: #1843542
(cherry picked from commit 976120cb20da46258df87b8fa43ba0f8ee6dc675)
(cherry picked from commit 875826df959bf953609aa66d793793afa5ad618a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/689153/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/flavors.rst'],1,792ec7c1df7fd5c191da6f2feb961ad43f81dfa4,bug/1843542, - RATE-PERIOD: (integer) Duration of the read period in milliseconds., - RATE-PERIOD: (integer) Duration of the read period in seconds.,1,1
openstack%2Fnova~stable%2Frocky~I633faae47ad5a33b27f5e2eef6e0107f60335146,openstack/nova,stable/rocky,I633faae47ad5a33b27f5e2eef6e0107f60335146,Stop sending bad values from libosinfo to libvirt,MERGED,2019-10-11 08:33:51.000000000,2019-10-21 17:26:21.000000000,2019-10-21 17:26:21.000000000,"[{'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9732}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-11 08:33:51.000000000', 'files': ['nova/virt/osinfo.py', 'nova/tests/unit/virt/test_osinfo.py', 'nova/tests/unit/virt/fakelibosinfo.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/89d2a764d75aad6876551663e8350d301336eb59', 'message': 'Stop sending bad values from libosinfo to libvirt\n\nWhen we try to use either virtio1.0-block or virtio1.0-net it is\ncorrectly rejected by libvirt. We get these returned from libosinfo for\nnewer operating systems that support virtio1.0.\n\nAs we want to support libvirts older than 5.2.0, its best we just request\n""virtio"", please see:\nhttps://libvirt.org/formatdomain.html#elementsVirtioTransitional\n\nYou can see virtio1.0-net and virtio-block being added here:\nhttps://gitlab.com/libosinfo/osinfo-db/blob/master/data/os/fedoraproject.org/fedora-23.xml.in#L31\n\nChange-Id: I633faae47ad5a33b27f5e2eef6e0107f60335146\nCloses-Bug: #1835400\n(cherry picked from commit 6be668e51992df53a4d871bea70bc738a9beacb8)\n(cherry picked from commit a06922d546a26c9e6550a93cbe0718cf841b6b9f)\n'}]",0,688068,89d2a764d75aad6876551663e8350d301336eb59,12,8,1,10135,,,0,"Stop sending bad values from libosinfo to libvirt

When we try to use either virtio1.0-block or virtio1.0-net it is
correctly rejected by libvirt. We get these returned from libosinfo for
newer operating systems that support virtio1.0.

As we want to support libvirts older than 5.2.0, its best we just request
""virtio"", please see:
https://libvirt.org/formatdomain.html#elementsVirtioTransitional

You can see virtio1.0-net and virtio-block being added here:
https://gitlab.com/libosinfo/osinfo-db/blob/master/data/os/fedoraproject.org/fedora-23.xml.in#L31

Change-Id: I633faae47ad5a33b27f5e2eef6e0107f60335146
Closes-Bug: #1835400
(cherry picked from commit 6be668e51992df53a4d871bea70bc738a9beacb8)
(cherry picked from commit a06922d546a26c9e6550a93cbe0718cf841b6b9f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/68/688068/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/osinfo.py', 'nova/tests/unit/virt/test_osinfo.py', 'nova/tests/unit/virt/fakelibosinfo.py']",3,89d2a764d75aad6876551663e8350d301336eb59,bug/1835400," def _get_fedora19(self): devs = [] net = Device() net._class = 'net' net.name = 'rtl8139' devs.append(net) net._class = 'block' net.name = 'ide' devs.append(net) devlist = DeviceList() devlist.devices = devs fedora = Os() fedora.name = 'Fedora 19' fedora.id = 'http://fedoraproject.org/fedora/19' fedora.short_id = 'fedora19' fedora.dev_list = devlist return fedora def _get_fedora22(self): devs = [] net = Device() devs.append(net) devs.append(net) devlist.devices = devs return fedora def _get_fedora23(self): devs = [] net = Device() net._class = 'net' net.name = 'virtio1.0-net' devs.append(net) net = Device() net._class = 'block' net.name = 'virtio1.0-block' devs.append(net) devlist = DeviceList() devlist.devices = devs fedora = Os() fedora.name = 'Fedora 23' fedora.id = 'http://fedoraproject.org/fedora/23' fedora.short_id = 'fedora23' fedora.dev_list = devlist return fedora def __init__(self): self.oslist.os_list = [ self._get_fedora19(), self._get_fedora22(), self._get_fedora23(), ]", def __init__(self): # Generate test devices self.devs = [] self.oslist = None self.devs.append(net) self.devs.append(net) devlist.devices = self.devs self.oslist.os_list = [fedora],99,17
openstack%2Fironic~master~I0d5d445fae8a7ec60f6a9caacede7cc77770b36e,openstack/ironic,master,I0d5d445fae8a7ec60f6a9caacede7cc77770b36e,docs: use openstackdocstheme extlink extension,MERGED,2019-10-03 14:07:21.000000000,2019-10-21 17:15:04.000000000,2019-10-21 17:11:43.000000000,"[{'_account_id': 6618}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-03 14:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4fe0424e24e6075e7094ec1e364e84d435af781c', 'message': 'docs: use openstackdocstheme extlink extension\n\nThe extlink extension [1] ensures the urls have version-specific\nreferences to other projects.\n\n[1] https://docs.openstack.org/openstackdocstheme/latest/#external-link-helper\n\nChange-Id: I0d5d445fae8a7ec60f6a9caacede7cc77770b36e\n'}, {'number': 2, 'created': '2019-10-03 14:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ba3fe0371fa3d5ecdaba4e00a52278709ffb60d6', 'message': 'docs: use openstackdocstheme extlink extension\n\nThe extlink extension [1] ensures the urls have version-specific\nreferences to other projects.\n\n[1] https://docs.openstack.org/openstackdocstheme/latest/#external-link-helper\n\nChange-Id: I0d5d445fae8a7ec60f6a9caacede7cc77770b36e\nStory: 2006621\nTask: 36825\n'}, {'number': 3, 'created': '2019-10-03 15:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9eb8a3a9b438d2b06e0fbf6f726ad06b944dc22d', 'message': 'docs: use openstackdocstheme extlink extension\n\nThe extlink extension [1] ensures the urls have version-specific\nreferences to other projects.\n\n[1] https://docs.openstack.org/openstackdocstheme/latest/#external-link-helper\n\nChange-Id: I0d5d445fae8a7ec60f6a9caacede7cc77770b36e\nStory: 2006621\nTask: 36825\n'}, {'number': 4, 'created': '2019-10-04 10:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fbaa16aa3910f864f9819aed335d9de43ef3be1d', 'message': 'docs: use openstackdocstheme extlink extension\n\nThe extlink extension [1] ensures the urls have version-specific\nreferences to other projects.\n\n[1] https://docs.openstack.org/openstackdocstheme/latest/#external-link-helper\n\nChange-Id: I0d5d445fae8a7ec60f6a9caacede7cc77770b36e\nStory: 2006621\nTask: 36825\n'}, {'number': 5, 'created': '2019-10-08 09:12:15.000000000', 'files': ['doc/source/admin/drivers/ipa.rst', 'doc/source/admin/index.rst', 'doc/source/admin/upgrade-guide.rst', 'doc/source/contributor/faq.rst', 'doc/source/admin/api-audit-support.rst', 'doc/source/install/get_started.rst', 'doc/source/install/enrollment.rst', 'doc/source/admin/drivers/ansible.rst', 'doc/source/install/configure-networking.rst', 'doc/source/contributor/code-contribution-guide.rst', 'doc/source/contributor/notifications.rst', 'doc/source/install/troubleshooting.rst', 'doc/source/contributor/osprofiler-support.rst', 'doc/source/admin/upgrade-to-hardware-types.rst', 'doc/source/contributor/webapi.rst', 'doc/source/install/configure-nova-flavors.rst', 'doc/source/admin/node-deployment.rst', 'doc/source/install/configure-glance-swift.rst', 'doc/source/admin/troubleshooting.rst', 'doc/source/install/enabling-drivers.rst', 'doc/source/admin/raid.rst', 'doc/source/admin/drivers/ilo.rst', 'doc/source/install/configdrive.rst', 'doc/source/install/configure-identity.rst', 'doc/source/install/configure-tenant-networks.rst', 'doc/source/admin/metrics.rst', 'doc/source/install/deploy-ramdisk.rst', 'doc/source/install/refarch/small-cloud-trusted-tenants.rst', 'doc/source/conf.py', 'doc/source/admin/security.rst', 'doc/source/install/enabling-https.rst', 'doc/source/admin/drivers/irmc.rst', 'doc/source/install/standalone.rst', 'doc/source/contributor/dev-quickstart.rst', 'doc/source/admin/console.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a25589b20fcd7ce90d7aa46863d49fb1a67cc2ba', 'message': 'docs: use openstackdocstheme extlink extension\n\nThe extlink extension [1] ensures the urls have version-specific\nreferences to other projects.\n\n[1] https://docs.openstack.org/openstackdocstheme/latest/#external-link-helper\n\nChange-Id: I0d5d445fae8a7ec60f6a9caacede7cc77770b36e\nStory: 2006621\nTask: 36825\n'}]",1,686410,a25589b20fcd7ce90d7aa46863d49fb1a67cc2ba,24,7,5,23851,,,0,"docs: use openstackdocstheme extlink extension

The extlink extension [1] ensures the urls have version-specific
references to other projects.

[1] https://docs.openstack.org/openstackdocstheme/latest/#external-link-helper

Change-Id: I0d5d445fae8a7ec60f6a9caacede7cc77770b36e
Story: 2006621
Task: 36825
",git fetch https://review.opendev.org/openstack/ironic refs/changes/10/686410/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/drivers/ipa.rst', 'doc/source/admin/index.rst', 'doc/source/admin/upgrade-guide.rst', 'doc/source/contributor/faq.rst', 'doc/source/admin/api-audit-support.rst', 'doc/source/install/get_started.rst', 'doc/source/install/enrollment.rst', 'doc/source/admin/drivers/ansible.rst', 'doc/source/install/configure-networking.rst', 'doc/source/contributor/code-contribution-guide.rst', 'doc/source/contributor/notifications.rst', 'doc/source/install/troubleshooting.rst', 'doc/source/contributor/osprofiler-support.rst', 'doc/source/admin/upgrade-to-hardware-types.rst', 'doc/source/contributor/webapi.rst', 'doc/source/install/configure-nova-flavors.rst', 'doc/source/admin/node-deployment.rst', 'doc/source/install/configure-glance-swift.rst', 'doc/source/admin/troubleshooting.rst', 'doc/source/install/enabling-drivers.rst', 'doc/source/admin/raid.rst', 'doc/source/admin/drivers/ilo.rst', 'doc/source/install/configdrive.rst', 'doc/source/install/configure-identity.rst', 'doc/source/install/configure-tenant-networks.rst', 'doc/source/admin/metrics.rst', 'doc/source/install/deploy-ramdisk.rst', 'doc/source/install/refarch/small-cloud-trusted-tenants.rst', 'doc/source/conf.py', 'doc/source/admin/security.rst', 'doc/source/install/enabling-https.rst', 'doc/source/admin/drivers/irmc.rst', 'doc/source/install/standalone.rst', 'doc/source/contributor/dev-quickstart.rst', 'doc/source/admin/console.rst']",35,4fe0424e24e6075e7094ec1e364e84d435af781c,extlink-docs,:nova-doc:`Serial Console <admin/remote-console-access.html#serial>` from the Compute service.,`Serial Console`_ from the Compute service... _`Serial Console`: https://docs.openstack.org/nova/latest/admin/remote-console-access.html#serial,124,123
openstack%2Fkolla~stable%2Fstein~Iccaf4c0bb79e7e33072e37aa83711b37938d6719,openstack/kolla,stable/stein,Iccaf4c0bb79e7e33072e37aa83711b37938d6719,Bump Openstack Exporter version to 0.6.0,MERGED,2019-10-20 20:59:41.000000000,2019-10-21 17:10:05.000000000,2019-10-21 17:07:20.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30272}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-20 20:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8b66618a32a9347e0ad434a92d8e6e62307bc761', 'message': 'Bump Openstack Exporter version to 0.6.0\n\nThere appears to be a bug in the prometheus openstack exporter versions\n<= 0.2.1 causing cinder data to stop being collected after about 24\nhours.\n\nBumping to latest stable version 0.6.0.\n\nChange-Id: Iccaf4c0bb79e7e33072e37aa83711b37938d6719\nSigned-off-by: Keith Plant <kplantjr@gmail.com>\n'}, {'number': 2, 'created': '2019-10-21 06:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6ba86dade6d60b8ac8390fa8a8382aa1a019634c', 'message': 'Bump Openstack Exporter version to 0.6.0\n\nThere appears to be a bug in the prometheus openstack exporter versions\n<= 0.2.1 causing cinder data to stop being collected after about 24\nhours.\n\nBumping to latest stable version 0.6.0.\n\nChange-Id: Iccaf4c0bb79e7e33072e37aa83711b37938d6719\nSigned-off-by: Keith Plant <kplantjr@gmail.com>\n'}, {'number': 3, 'created': '2019-10-21 06:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/afeeb47745fcd228aecc16b07e1249a1c251ac7c', 'message': 'Bump Openstack Exporter version to 0.6.0\n\nThere appears to be a bug in the prometheus openstack exporter versions\n<= 0.2.1 causing cinder data to stop being collected after about 24\nhours.\n\nBumping to latest stable version 0.6.0.\n\nChange-Id: Iccaf4c0bb79e7e33072e37aa83711b37938d6719\nSigned-off-by: Keith Plant <kplantjr@gmail.com>\n(cherry picked from commit cd7f78e8f87b194633b60bcce89852f701a77c90)\n'}, {'number': 4, 'created': '2019-10-21 12:44:43.000000000', 'files': ['docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0f6980d851a92a6b740a590d0c1229384cc763b0', 'message': 'Bump Openstack Exporter version to 0.6.0\n\nThere appears to be a bug in the prometheus openstack exporter versions\n<= 0.2.1 causing cinder data to stop being collected after about 24\nhours.\n\nBumping to latest stable version 0.6.0.\n\nChange-Id: Iccaf4c0bb79e7e33072e37aa83711b37938d6719\nSigned-off-by: Keith Plant <kplantjr@gmail.com>\n(cherry picked from commit cd7f78e8f87b194633b60bcce89852f701a77c90)\n'}]",0,689659,0f6980d851a92a6b740a590d0c1229384cc763b0,16,5,4,30272,,,0,"Bump Openstack Exporter version to 0.6.0

There appears to be a bug in the prometheus openstack exporter versions
<= 0.2.1 causing cinder data to stop being collected after about 24
hours.

Bumping to latest stable version 0.6.0.

Change-Id: Iccaf4c0bb79e7e33072e37aa83711b37938d6719
Signed-off-by: Keith Plant <kplantjr@gmail.com>
(cherry picked from commit cd7f78e8f87b194633b60bcce89852f701a77c90)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/59/689659/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'],1,8b66618a32a9347e0ad434a92d8e6e62307bc761,,ENV prometheus_openstack_exporter_version=0.6.0,ENV prometheus_openstack_exporter_version=0.2.1,1,1
openstack%2Fnova~master~Ifc7dcde8a659710acecb1967da15c632c69d675c,openstack/nova,master,Ifc7dcde8a659710acecb1967da15c632c69d675c,Improve efficiency of Migration.instance property,MERGED,2016-02-01 19:45:49.000000000,2019-10-21 17:07:59.000000000,2016-02-04 15:43:16.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 10385}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16907}]","[{'number': 1, 'created': '2016-02-01 19:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1e1526dd66f688850af2cd3285d7c7706a4f4f8', 'message': ""Improve efficiency of Migration.instance property\n\nIn the resource tracker, we get a list of migrations and rely on the\nMigration.instance property to look up the related instance. This\ndoesn't actually cache the instance, which means repeated calls will\ncontinue to trigger RPC and DB hits. Further, in resource tracker,\nwe have already pulled a list of instances and then proceed to re-query\nthem through lazy-loads from the migration objects, even though we\nalready have them. To add insult to injury, neither this first list\nof instances, nor the ones pulled from Migration.instance contain\ninstances with the 'flavor' property populated, which means we trigger\nyet another lazy load to pull it.\n\nThis patch does a few things:\n - Makes the Migration object cache its instance property\n - Makes the resource tracker request instances with flavors populated\n - Stitches the instance list into the migration list to avoid the\n   two subsequent lazy loads of Instance and Instance.flavor\n\nChange-Id: Ifc7dcde8a659710acecb1967da15c632c69d675c\nPartial-Bug: #1540526\n""}, {'number': 2, 'created': '2016-02-01 20:03:31.000000000', 'files': ['nova/tests/unit/objects/test_migration.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_tracker.py', 'nova/compute/resource_tracker.py', 'nova/objects/migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7a9942c5924d7ccfe321c54d0b5e70cfb3aede57', 'message': ""Improve efficiency of Migration.instance property\n\nIn the resource tracker, we get a list of migrations and rely on the\nMigration.instance property to look up the related instance. This\ndoesn't actually cache the instance, which means repeated calls will\ncontinue to trigger RPC and DB hits. Further, in resource tracker,\nwe have already pulled a list of instances and then proceed to re-query\nthem through lazy-loads from the migration objects, even though we\nalready have them. To add insult to injury, neither this first list\nof instances, nor the ones pulled from Migration.instance contain\ninstances with the 'flavor' or 'migration_context' properties\npopulated, which means we trigger *two* more lazy loads to pull those.\n\nThis patch does a few things:\n - Makes the Migration object cache its instance property\n - Makes the resource tracker request instances with flavors and the\n   migration_context populated\n - Stitches the instance list into the migration list to avoid the\n   two subsequent lazy loads of Instance and Instance.flavor\n\nChange-Id: Ifc7dcde8a659710acecb1967da15c632c69d675c\nPartial-Bug: #1540526\n""}]",7,274870,7a9942c5924d7ccfe321c54d0b5e70cfb3aede57,31,10,2,4393,,,0,"Improve efficiency of Migration.instance property

In the resource tracker, we get a list of migrations and rely on the
Migration.instance property to look up the related instance. This
doesn't actually cache the instance, which means repeated calls will
continue to trigger RPC and DB hits. Further, in resource tracker,
we have already pulled a list of instances and then proceed to re-query
them through lazy-loads from the migration objects, even though we
already have them. To add insult to injury, neither this first list
of instances, nor the ones pulled from Migration.instance contain
instances with the 'flavor' or 'migration_context' properties
populated, which means we trigger *two* more lazy loads to pull those.

This patch does a few things:
 - Makes the Migration object cache its instance property
 - Makes the resource tracker request instances with flavors and the
   migration_context populated
 - Stitches the instance list into the migration list to avoid the
   two subsequent lazy loads of Instance and Instance.flavor

Change-Id: Ifc7dcde8a659710acecb1967da15c632c69d675c
Partial-Bug: #1540526
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/274870/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_migration.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_tracker.py', 'nova/compute/resource_tracker.py', 'nova/objects/migration.py']",5,f1e1526dd66f688850af2cd3285d7c7706a4f4f8,bug/1540526," if not hasattr(self, '_cached_instance'): self._cached_instance = objects.Instance.get_by_uuid( self._context, self.instance_uuid) return self._cached_instance @instance.setter def instance(self, instance): self._cached_instance = instance"," return objects.Instance.get_by_uuid(self._context, self.instance_uuid)",67,8
openstack%2Fnova~master~If7f48933db10fcca3b9a05e1e978dfc51f6dabd0,openstack/nova,master,If7f48933db10fcca3b9a05e1e978dfc51f6dabd0,Claim resources in resource tracker,MERGED,2019-08-26 03:25:40.000000000,2019-10-21 16:48:33.000000000,2019-09-15 20:13:53.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23598}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-26 03:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/132ddc6cc4693c8a524007606976c42f2aa90c13', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.prov_tree\nwill be updated, get availble resources from ResourceTracker.prov_tree\nand assigned resources based on tracked instances and migrations,\nthen claim resources according to allocations from free resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 2, 'created': '2019-08-26 06:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ab149d5206a52de945f5488295412897fe0b5a5', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.prov_tree\nwill be updated, get availble resources from ResourceTracker.prov_tree\nand assigned resources based on tracked instances and migrations,\nthen claim resources according to allocations from free resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 3, 'created': '2019-08-26 12:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1a5f3c119c12a4e9d51691efc599577f0ce0fd6', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.prov_tree\nwill be updated, get availble resources from ResourceTracker.prov_tree\nand assigned resources based on tracked instances and migrations,\nthen claim resources according to allocations from free resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 4, 'created': '2019-08-27 09:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65d7fc96b8a564619b991b642d516dfa8c0c5530', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.prov_tree\nwill be updated, get availble resources from ResourceTracker.prov_tree\nand assigned resources based on tracked instances and migrations,\nthen claim resources according to allocations from free resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 5, 'created': '2019-08-28 05:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1abdf7731f96443254adf6106b315416283c40cc', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.prov_tree\nwill be updated, get availble resources from ResourceTracker.prov_tree\nand assigned resources based on tracked instances and migrations,\nthen claim resources according to allocations from free resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 6, 'created': '2019-08-28 10:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c931e56c023ae6dd1f084cbd7df265ecccd9c1e', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.prov_tree\nwill be updated, get availble resources from ResourceTracker.prov_tree\nand assigned resources based on tracked instances and migrations,\nthen claim resources according to allocations from free resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 7, 'created': '2019-08-29 03:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc0d1b1258d42a20044504a7ee6a1791183e3dd2', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.prov_tree\nwill be updated, get availble resources from ResourceTracker.prov_tree\nand assigned resources based on tracked instances and migrations,\nthen claim resources according to allocations from free resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 8, 'created': '2019-08-30 09:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96c195f0ffa583c4ff6352fb75f617a552b08a9d', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.prov_tree\nwill be updated, get availble resources from ResourceTracker.prov_tree\nand assigned resources based on tracked instances and migrations,\nthen claim resources according to allocations from free resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 9, 'created': '2019-08-30 09:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee2a07b8b0cec57b32daf39811223b90ed7edab8', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.prov_tree\nwill be updated, get availble resources from ResourceTracker.prov_tree\nand assigned resources based on tracked instances and migrations,\nthen claim resources according to allocations from free resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 10, 'created': '2019-08-30 10:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3263c8915f740ac3f311e743ddac63151055114e', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.prov_tree\nwill be updated, get availble resources from ResourceTracker.prov_tree\nand assigned resources based on tracked instances and migrations,\nthen claim resources according to allocations from free resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 11, 'created': '2019-09-02 07:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c88aa44bc75c05894759446bfe83163e919cb031', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.prov_tree\nwill be updated, get available resources from ResourceTracker.prov_tree\nand assigned resources based on tracked instances and migrations,\nthen claim resources according to allocations from free resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 12, 'created': '2019-09-02 13:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a04e92b81d40bba5cfa081b415411479b0138d3b', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.prov_tree\nwill be updated, get available resources from ResourceTracker.prov_tree\nand assigned resources based on tracked instances and migrations,\nthen claim resources according to allocations from free resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 13, 'created': '2019-09-03 06:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6650f2ee650f904d60edb15505eea7edb766a92b', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.prov_tree\nwill be updated, get available resources from ResourceTracker.prov_tree\nand assigned resources based on tracked instances and migrations,\nthen claim resources according to allocations from free resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 14, 'created': '2019-09-04 12:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87cc71d58b2c458be853440546548fb1f6687a20', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.provider_tree\nwill be updated, and ResourceTracker.assigned_resources will be\npopulated. When claiming resources, it will get free resources based on\nResourceTracker.provider_tree and ResourceTracker.assigned_resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 15, 'created': '2019-09-04 14:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/72ead1e17360836862e2566ed7f679102961c28b', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.provider_tree\nwill be updated, and ResourceTracker.assigned_resources will be\npopulated. When claiming resources, it will get free resources based on\nResourceTracker.provider_tree and ResourceTracker.assigned_resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 16, 'created': '2019-09-04 15:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3eaed24d084693034e5c10c0de155bd8df36442', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.provider_tree\nwill be updated, and ResourceTracker.assigned_resources will be\npopulated. When claiming resources, it will get free resources based on\nResourceTracker.provider_tree and ResourceTracker.assigned_resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 17, 'created': '2019-09-04 15:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cdc5f556173cdb1fe738af7e95569bbf31a117b6', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.provider_tree\nwill be updated, and ResourceTracker.assigned_resources will be\npopulated. When claiming resources, it will get free resources based on\nResourceTracker.provider_tree and ResourceTracker.assigned_resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 18, 'created': '2019-09-05 10:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb1366773471f004d06c51487fd670e1364bf2e6', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.provider_tree\nwill be updated, and ResourceTracker.assigned_resources will be\npopulated. When claiming resources, it will get free resources based on\nResourceTracker.provider_tree and ResourceTracker.assigned_resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 19, 'created': '2019-09-05 11:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a3ccc43a203759ba3e958a8d4f0513cbb6bc544', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.provider_tree\nwill be updated, and ResourceTracker.assigned_resources will be\npopulated. When claiming resources, it will get free resources based on\nResourceTracker.provider_tree and ResourceTracker.assigned_resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 20, 'created': '2019-09-06 10:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c5ea26ebe69a2a94e0f447e7ce6d120a81d7cd4', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.provider_tree\nwill be updated, and ResourceTracker.assigned_resources will be\npopulated. When claiming resources, it will get free resources based on\nResourceTracker.provider_tree and ResourceTracker.assigned_resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 21, 'created': '2019-09-06 10:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7d1221ffa382a93cada01cd006965781edec2af', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.provider_tree\nwill be updated, and ResourceTracker.assigned_resources will be\npopulated. When claiming resources, it will get free resources based on\nResourceTracker.provider_tree and ResourceTracker.assigned_resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 22, 'created': '2019-09-09 05:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/34317d58cee9597773f2a54c0634784e7cfd3e01', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.provider_tree\nwill be updated, and ResourceTracker.assigned_resources will be\npopulated. When claiming resources, it will get free resources based on\nResourceTracker.provider_tree and ResourceTracker.assigned_resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 23, 'created': '2019-09-10 06:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0dc8a1b449672feb1422900e8a6ec801ee8a5aa1', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.provider_tree\nwill be updated, and ResourceTracker.assigned_resources will be\npopulated. When claiming resources, it will get free resources based on\nResourceTracker.provider_tree and ResourceTracker.assigned_resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 24, 'created': '2019-09-10 14:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7368314db9cca88c2d1aa3c36703a5282840b805', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.provider_tree\nwill be updated, and ResourceTracker.assigned_resources will be\npopulated. When claiming resources, it will get free resources based on\nResourceTracker.provider_tree and ResourceTracker.assigned_resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 25, 'created': '2019-09-11 08:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/427088d4a3601ac2d14a579a08dc36bb34c1203f', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.provider_tree\nwill be updated, and ResourceTracker.assigned_resources will be\npopulated. When claiming resources, it will get free resources based on\nResourceTracker.provider_tree and ResourceTracker.assigned_resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 26, 'created': '2019-09-11 08:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c74dfa61a03b04800c5fb992cad0d0638d484b67', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.provider_tree\nwill be updated, and ResourceTracker.assigned_resources will be\npopulated. When claiming resources, it will get free resources based on\nResourceTracker.provider_tree and ResourceTracker.assigned_resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 27, 'created': '2019-09-11 11:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d9b11dca1884c2c8e41f00ad3fed97fb1468fbe', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.provider_tree\nwill be updated, and ResourceTracker.assigned_resources will be\npopulated. When claiming resources, it will get free resources based on\nResourceTracker.provider_tree and ResourceTracker.assigned_resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 28, 'created': '2019-09-11 18:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b58347172b1edfd7d25d0f8e0efa7abc2ddd93a8', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.provider_tree\nwill be updated, and ResourceTracker.assigned_resources will be\npopulated. When claiming resources, it will get free resources based on\nResourceTracker.provider_tree and ResourceTracker.assigned_resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 29, 'created': '2019-09-12 03:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e5edb87ff0bbf496a56d293fac2d49b102351b3', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.provider_tree\nwill be updated, and ResourceTracker.assigned_resources will be\npopulated. When claiming resources, it will get free resources based on\nResourceTracker.provider_tree and ResourceTracker.assigned_resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 30, 'created': '2019-09-12 06:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17d4f019cb715b1a774c58ce1a4af04c6bc78f4d', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.provider_tree\nwill be updated, and ResourceTracker.assigned_resources will be\npopulated. When claiming resources, it will get free resources based on\nResourceTracker.provider_tree and ResourceTracker.assigned_resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 31, 'created': '2019-09-12 07:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2955368d4e185e620325d4eeb1a93510c9dbd53a', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.provider_tree\nwill be updated, and ResourceTracker.assigned_resources will be\npopulated. When claiming resources, it will get free resources based on\nResourceTracker.provider_tree and ResourceTracker.assigned_resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 32, 'created': '2019-09-12 08:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce14f7a6ba0f979a18aed285600fd41162618e31', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.provider_tree\nwill be updated, and ResourceTracker.assigned_resources will be\npopulated. When claiming resources, it will get free resources based on\nResourceTracker.provider_tree and ResourceTracker.assigned_resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 33, 'created': '2019-09-13 08:55:20.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/fake_instance.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/04231112d96d80bf85892e8717cf290681ba9a46', 'message': 'Claim resources in resource tracker\n\nIn periodic update_available_resource, ResourceTracker.provider_tree\nwill be updated, and ResourceTracker.assigned_resources will be\npopulated. When claiming resources, it will get free resources based on\nResourceTracker.provider_tree and ResourceTracker.assigned_resources.\n\nChange-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}]",229,678452,04231112d96d80bf85892e8717cf290681ba9a46,331,18,33,23598,,,0,"Claim resources in resource tracker

In periodic update_available_resource, ResourceTracker.provider_tree
will be updated, and ResourceTracker.assigned_resources will be
populated. When claiming resources, it will get free resources based on
ResourceTracker.provider_tree and ResourceTracker.assigned_resources.

Change-Id: If7f48933db10fcca3b9a05e1e978dfc51f6dabd0
Partially-Implements: blueprint virtual-persistent-memory
Co-Authored-By: He Jie Xu <hejie.xu@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/678452/31 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py']",3,132ddc6cc4693c8a524007606976c42f2aa90c13,bp/virtual-persistent-memory," claimed_resources = self._claim_resources(context, allocations, nodename) if claimed_resources: instance.resources = claimed_resources claimed_resources = self._claim_resources(context, allocations, nodename) old_resources = instance.resources if 'resources' in instance else None new_pci_requests=new_pci_requests, old_resources=old_resources, new_resources=claimed_resources) def _claim_resources(self, context, allocations, nodename): """"""Claim resources according to assigned resources from allocations and available resources in provider tree """""" if not allocations: return None claimed_resources = [] assigned_resources = self._get_assigned_resources(context, nodename) for rp_uuid in allocations: resources = allocations[rp_uuid]['resources'] try: # TODO(Luyao) # In many functional tests, provider tree doesn't have # rp uuids in allocations, we believe this won't happen # in real OpenStack enviroment. Still need look into # functional tests, this is not as we expected. provider_data = self.prov_tree.data(rp_uuid) except Exception: continue for rc, amount in resources.items(): if rc not in provider_data.resources: continue available = provider_data.resources.get(rc) assigned = assigned_resources[rp_uuid].get(rc, set()) free = self._get_free_resources(available, assigned) for i in range(amount): try: claimed_resources.append(free.pop()) except Exception: reason = _(""Resouce Class: %s"") % rc raise exception.ClaimResourceFailed(reason=reason) if claimed_resources: return objects.ResourceList(objects=claimed_resources) return None def _get_assigned_resources(self, context, nodename): """"""Return organized assigned resources with resource class and reource provider uuid. :returns: { $RP_UUID: { $RESOURCE_CLASS: [objects.Resource.identifier, ...], $RESOURCE_CLASS: [...]}, ...} """""" resources = [] migrating_inst_uuids = set() def update_resources(instance, migration=None, host=None): if not migration: if instance.resources: resources.extend(instance.resources.objects) return prefix = [] if migration.source_compute == host: prefix.append('old_') if migration.dest_compute == host: prefix.append('new_') migration_ctxt = instance.migration_context for pre in prefix: attr_name = pre + 'resources' if attr_name in migration_ctxt: pre_res = getattr(migration_ctxt, attr_name) resources.extend(pre_res.objects if pre_res else []) migrating_inst_uuids.add(instance.uuid) # Get resources assigned to instances in migrating migrations = self.tracked_migrations for inst_uuid, migration in migrations.items(): update_resources(migration.instance, migration, host=self.host) # Get resources assigned to instances not in migrating instance_uuids = self.tracked_instances - migrating_inst_uuids instances = objects.InstanceList.get_by_filters( context, {'uuid': instance_uuids}, expected_attrs=['resources'], use_slave=True) for instance in instances: update_resources(instance) assigned_resources = collections.defaultdict(dict) for resource in resources: rp_uuid = resource.rp_uuid rc = resource.resource_class identifier = resource.identifier assigned_resources[rp_uuid].setdefault(rc, set()) assigned_resources[rp_uuid][rc].add(identifier) return assigned_resources def _get_free_resources(self, available, assigned): """"""Get free resource of one specific resource class. :param available: list of objects.Resource :param assigned: set of objects.Resource.identifier :returns: list of objects.Resource """""" free = [] for resource in available: if resource.identifier not in assigned: free.append(resource) return free def _check_resources(self, context, nodename): """"""Check if there are assigned resources not found in provider tree"""""" assigned_resources = self._get_assigned_resources(context, nodename) for rp_uuid in assigned_resources: provider_data = self.prov_tree.data(rp_uuid) for rc in assigned_resources[rp_uuid]: available = provider_data.resources.get(rc, []) assigned = assigned_resources[rp_uuid].get(rc, set()) for resource in available: if resource.identifier in assigned: assigned.remove(resource.identifier) if assigned: raise exception.AssignedResourceNotFound( resources=assigned) if startup: self._check_resources(context, nodename) self.prov_tree = prov_tree", new_pci_requests=new_pci_requests),208,1
openstack%2Fpython-senlinclient~stable%2Ftrain~Ib47ba849a9503122727eddd9f548684131417676,openstack/python-senlinclient,stable/train,Ib47ba849a9503122727eddd9f548684131417676,Return meta-data field for events list,MERGED,2019-09-20 19:41:05.000000000,2019-10-21 16:40:19.000000000,2019-10-21 16:39:05.000000000,"[{'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 22998}, {'_account_id': 27224}]","[{'number': 1, 'created': '2019-09-20 19:41:05.000000000', 'files': ['senlinclient/v1/event.py', 'senlinclient/tests/functional/test_events.py', 'senlinclient/tests/unit/v1/test_event.py'], 'web_link': 'https://opendev.org/openstack/python-senlinclient/commit/16e53d463f76e0d2f994caa2b11efbacfa0cc454', 'message': 'Return meta-data field for events list\n\nRetrieve meta-data field for events from openstacksdk\n\nDepends-On: https://review.opendev.org/#/c/678585/\nChange-Id: Ib47ba849a9503122727eddd9f548684131417676\n(cherry picked from commit f6453b4f0f7b5f1ff9359ca1883d3f319d028554)\n'}]",0,683710,16e53d463f76e0d2f994caa2b11efbacfa0cc454,10,4,1,11904,,,0,"Return meta-data field for events list

Retrieve meta-data field for events from openstacksdk

Depends-On: https://review.opendev.org/#/c/678585/
Change-Id: Ib47ba849a9503122727eddd9f548684131417676
(cherry picked from commit f6453b4f0f7b5f1ff9359ca1883d3f319d028554)
",git fetch https://review.opendev.org/openstack/python-senlinclient refs/changes/10/683710/1 && git format-patch -1 --stdout FETCH_HEAD,"['senlinclient/v1/event.py', 'senlinclient/tests/functional/test_events.py', 'senlinclient/tests/unit/v1/test_event.py']",3,16e53d463f76e0d2f994caa2b11efbacfa0cc454,," 'action', 'status', 'level', 'cluster_id', 'meta_data']"," 'action', 'status', 'level', 'cluster_id']",4,3
openstack%2Fmanila~stable%2Fqueens~Iea92feaf5894c10674d2ec4c1a4d7b0191e6d5b4,openstack/manila,stable/queens,Iea92feaf5894c10674d2ec4c1a4d7b0191e6d5b4,[NetApp] Allow extension/shrinking of NetApp replicated share,MERGED,2019-10-19 19:36:01.000000000,2019-10-21 16:33:08.000000000,2019-10-21 16:31:42.000000000,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29831}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-10-19 19:36:01.000000000', 'files': ['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'releasenotes/notes/bug-1700871-ontap-allow-extend-of-replicated-share-2c9709180d954308.yaml', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/71cff225b079b8d7c8f9e5dfce18bfa8e179a75b', 'message': '[NetApp] Allow extension/shrinking of NetApp replicated share\n\nThe NetApp ONTAP driver is now fixed to allow extension\nand shrinking of share replicas after they get promoted.\n\nChange-Id: Iea92feaf5894c10674d2ec4c1a4d7b0191e6d5b4\nCloses-Bug: #1700871\n(cherry picked from commit 75f108b0aee630b54a44d0c27467a85fd8a6af3a)\n(cherry picked from commit e38c8b508ff0cd1f5ea81a0f566fd83fb0b069ce)\n(cherry picked from commit 5255ca20fb2aff3b2548475d4b7914dc02eb8bbf)\n(cherry picked from commit 8ae267e4f144e88dda9b513f104b3244c544caea)\n'}]",0,689638,71cff225b079b8d7c8f9e5dfce18bfa8e179a75b,13,6,1,30002,,,0,"[NetApp] Allow extension/shrinking of NetApp replicated share

The NetApp ONTAP driver is now fixed to allow extension
and shrinking of share replicas after they get promoted.

Change-Id: Iea92feaf5894c10674d2ec4c1a4d7b0191e6d5b4
Closes-Bug: #1700871
(cherry picked from commit 75f108b0aee630b54a44d0c27467a85fd8a6af3a)
(cherry picked from commit e38c8b508ff0cd1f5ea81a0f566fd83fb0b069ce)
(cherry picked from commit 5255ca20fb2aff3b2548475d4b7914dc02eb8bbf)
(cherry picked from commit 8ae267e4f144e88dda9b513f104b3244c544caea)
",git fetch https://review.opendev.org/openstack/manila refs/changes/38/689638/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'releasenotes/notes/bug-1700871-ontap-allow-extend-of-replicated-share-2c9709180d954308.yaml', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py']",4,71cff225b079b8d7c8f9e5dfce18bfa8e179a75b,bug/1700871," def set_volume_filesys_size_fixed(self, volume_name, filesys_size_fixed=False): """"""Set volume file system size fixed to true/false."""""" api_args = { 'query': { 'volume-attributes': { 'volume-id-attributes': { 'name': volume_name, }, }, }, 'attributes': { 'volume-attributes': { 'volume-space-attributes': { 'is-filesys-size-fixed': six.text_type( filesys_size_fixed).lower(), }, }, }, } result = self.send_request('volume-modify-iter', api_args) failures = result.get_child_content('num-failed') if failures and int(failures) > 0: failure_list = result.get_child_by_name( 'failure-list') or netapp_api.NaElement('none') errors = failure_list.get_children() if errors: raise netapp_api.NaApiError( errors[0].get_child_content('error-code'), errors[0].get_child_content('error-message')) @na_utils.trace",,76,0
openstack%2Fnetworking-ovn~master~Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4,openstack/networking-ovn,master,Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4,Exclude all device_ids that belong to Neutron DHCP Agent,MERGED,2019-10-17 14:24:28.000000000,2019-10-21 16:15:01.000000000,2019-10-21 16:13:43.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-10-17 14:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/72fe54c097f2c44adbb27780316c3b3180ef2ae5', 'message': ""Exclude all device_ids that belong to Neutron DHCP Agent\n\nIt looks like sometimes, the device_id for ports created\nby Neutron DHCP Agent can be in the form of:\n\n- dhcp-$hostuuid-$networkid\n- 'reserved_dhcp_port' (DEVICE_ID_RESERVED_DHCP_PORT)\n\nCurrent code is only taking the first form into account when\nskipping Neutron DHCP Agent ports. This patch is changing it\nto include both forms.\n\nCloses-Bug: #1848521\nChange-Id: Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 2, 'created': '2019-10-17 14:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0cc554a0bdb785c0b6a8e520343997209e41b0e0', 'message': ""Exclude all device_ids that belong to Neutron DHCP Agent\n\nIt looks like sometimes, the device_id for ports created\nby Neutron DHCP Agent can be in the form of:\n\n- dhcp-$hostuuid-$networkid\n- 'reserved_dhcp_port' (DEVICE_ID_RESERVED_DHCP_PORT)\n\nCurrent code is only taking the first form into account when\nskipping Neutron DHCP Agent ports. This patch is changing it\nto include both forms.\n\nCloses-Bug: #1848521\nChange-Id: Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 3, 'created': '2019-10-17 15:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e8d71b7d017c27452e78f73ad75ef682849d9a43', 'message': ""Exclude all device_ids that belong to Neutron DHCP Agent\n\nIt looks like sometimes, the device_id for ports created\nby Neutron DHCP Agent can be in the form of:\n\n- dhcp-$hostuuid-$networkid\n- 'reserved_dhcp_port' (DEVICE_ID_RESERVED_DHCP_PORT)\n\nCurrent code is only taking the first form into account when\nskipping Neutron DHCP Agent ports. This patch is changing it\nto include both forms.\n\nCloses-Bug: #1848521\nChange-Id: Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 4, 'created': '2019-10-18 12:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/20413cb3937ea3fb79551e902e56fd0e5e1203a5', 'message': ""Exclude all device_ids that belong to Neutron DHCP Agent\n\nIt looks like sometimes, the device_id for ports created\nby Neutron DHCP Agent can be in the form of:\n\n- dhcp-$hostuuid-$networkid\n- 'reserved_dhcp_port' (DEVICE_ID_RESERVED_DHCP_PORT)\n\nCurrent code is only taking the first form into account when\nskipping Neutron DHCP Agent ports. This patch is changing it\nto include both forms.\n\nCloses-Bug: #1848521\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 5, 'created': '2019-10-18 12:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f52a5d04f20d2901b8de408dbc0d9547d64b4494', 'message': ""Exclude all device_ids that belong to Neutron DHCP Agent\n\nIt looks like sometimes, the device_id for ports created\nby Neutron DHCP Agent can be in the form of:\n\n- dhcp-$hostuuid-$networkid\n- 'reserved_dhcp_port' (DEVICE_ID_RESERVED_DHCP_PORT)\n\nCurrent code is only taking the first form into account when\nskipping Neutron DHCP Agent ports. This patch is changing it\nto include both forms.\n\nCloses-Bug: #1848521\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}, {'number': 6, 'created': '2019-10-21 10:22:52.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/common/utils.py', 'networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/15bf8f265b14c3a1e2c89a17a77cee69cad22b9d', 'message': ""Exclude all device_ids that belong to Neutron DHCP Agent\n\nIt looks like sometimes, the device_id for ports created\nby Neutron DHCP Agent can be in the form of:\n\n- dhcp-$hostuuid-$networkid\n- 'reserved_dhcp_port' (DEVICE_ID_RESERVED_DHCP_PORT)\n\nCurrent code is only taking the first form into account when\nskipping Neutron DHCP Agent ports. This patch is changing it\nto include both forms.\n\nCloses-Bug: #1848521\nCo-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n""}]",17,689174,15bf8f265b14c3a1e2c89a17a77cee69cad22b9d,31,7,6,23804,,,0,"Exclude all device_ids that belong to Neutron DHCP Agent

It looks like sometimes, the device_id for ports created
by Neutron DHCP Agent can be in the form of:

- dhcp-$hostuuid-$networkid
- 'reserved_dhcp_port' (DEVICE_ID_RESERVED_DHCP_PORT)

Current code is only taking the first form into account when
skipping Neutron DHCP Agent ports. This patch is changing it
to include both forms.

Closes-Bug: #1848521
Co-Authored-By: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: Ifbfc551ac68dcc5d3d39a155f7642f2f2d9272c4
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/74/689174/2 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/common/ovn_client.py'],1,72fe54c097f2c44adbb27780316c3b3180ef2ae5,bug/1848521, not 'dhcp' in port['device_id']): # Metadata ports are DHCP ports without a device_id containing 'dhcp' if not 'dhcp' in port['device_id']:, not port['device_id'].startswith('dhcp')): # Metadata ports are DHCP ports without a device_id starting by 'dhcp' if not port['device_id'].startswith('dhcp'):,3,3
openstack%2Fcinder~stable%2Fstein~Id2dd8d4f0dd19116c0fc55433d23af6f17f8fa4b,openstack/cinder,stable/stein,Id2dd8d4f0dd19116c0fc55433d23af6f17f8fa4b,Switch to opensuse-15 nodeset,MERGED,2019-10-18 17:25:21.000000000,2019-10-21 16:02:35.000000000,2019-10-21 15:57:40.000000000,"[{'_account_id': 4523}, {'_account_id': 6547}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30590}]","[{'number': 1, 'created': '2019-10-18 17:25:21.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b4fb27dd29438ea4b43bd1573cf5cb4a8ef7b288', 'message': 'Switch to opensuse-15 nodeset\n\nopensuse-150 nodeset is referring to openSUSE 15.0, which is still in\nmaintenance but openSUSE 15.1 has been released already. ""opensuse-15""\nis going to refer to the ""latest openSUSE 15.x"" build released and\nworking for OpenStack going forward, so add this nodeset and use\nit by default going forward.\n\nThe new job tempest-full-py3-opensuse15 use the opensuse-15 nodeset,\nchange tempest-full-py3-opensuse150 to tempest-full-py3-opensuse15.\n\nChange-Id: Id2dd8d4f0dd19116c0fc55433d23af6f17f8fa4b\n(cherry picked from commit a45dc60c40578645bc41739d6a6c17f8b5175bba)\n'}]",0,689553,b4fb27dd29438ea4b43bd1573cf5cb4a8ef7b288,31,17,1,6547,,,0,"Switch to opensuse-15 nodeset

opensuse-150 nodeset is referring to openSUSE 15.0, which is still in
maintenance but openSUSE 15.1 has been released already. ""opensuse-15""
is going to refer to the ""latest openSUSE 15.x"" build released and
working for OpenStack going forward, so add this nodeset and use
it by default going forward.

The new job tempest-full-py3-opensuse15 use the opensuse-15 nodeset,
change tempest-full-py3-opensuse150 to tempest-full-py3-opensuse15.

Change-Id: Id2dd8d4f0dd19116c0fc55433d23af6f17f8fa4b
(cherry picked from commit a45dc60c40578645bc41739d6a6c17f8b5175bba)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/53/689553/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b4fb27dd29438ea4b43bd1573cf5cb4a8ef7b288,opensuse-150, - tempest-full-py3-opensuse15:, - tempest-full-py3-opensuse150:,1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~Icf7fa97e404d55c815c006a574c92596ffe1b348,openstack/tripleo-ansible,stable/train,Icf7fa97e404d55c815c006a574c92596ffe1b348,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-21 14:19:55.000000000,2019-10-21 16:02:34.000000000,2019-10-21 15:57:42.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:19:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bec4188ebbbbde105975942276ea172de581149c', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Icf7fa97e404d55c815c006a574c92596ffe1b348\n'}]",0,689772,bec4188ebbbbde105975942276ea172de581149c,10,4,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Icf7fa97e404d55c815c006a574c92596ffe1b348
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/72/689772/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bec4188ebbbbde105975942276ea172de581149c,create-train,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fopenstack-helm~master~I8e76cdcc9d4db8975b330e97169754a2a407341f,openstack/openstack-helm,master,I8e76cdcc9d4db8975b330e97169754a2a407341f,Update kubernetes-entrypoint image reference,MERGED,2019-10-14 15:57:26.000000000,2019-10-21 15:56:53.000000000,2019-10-21 15:55:16.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28618}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-10-14 15:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9fcf0df9339751279f6d185b1a056d2dce099627', 'message': 'Update kubernetes-entrypoint image reference\n\nThis updates the kubernetes-entrypoint image reference to consume\nthe publicly available kubernetes-entrypoint image that is built\nand maintained under the airshipit namespace, as the stackanetes\nimage is no longer actively maintainedy\n\nChange-Id: I8e76cdcc9d4db8975b330e97169754a2a407341f\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-10-14 17:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/699e7455227d3e60ca74d4098fa03c0590679748', 'message': 'Update kubernetes-entrypoint image reference\n\nThis updates the kubernetes-entrypoint image reference to consume\nthe publicly available kubernetes-entrypoint image that is built\nand maintained under the airshipit namespace, as the stackanetes\nimage is no longer actively maintainedy\n\nChange-Id: I8e76cdcc9d4db8975b330e97169754a2a407341f\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-10-14 17:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/488f77c4ea777bf20c596f17c26c650e4af5ba0b', 'message': 'Update kubernetes-entrypoint image reference\n\nThis updates the kubernetes-entrypoint image reference to consume\nthe publicly available kubernetes-entrypoint image that is built\nand maintained under the airshipit namespace, as the stackanetes\nimage is no longer actively maintainedy\n\nDepends-On: https://review.opendev.org/688435\n\nChange-Id: I8e76cdcc9d4db8975b330e97169754a2a407341f\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 4, 'created': '2019-10-17 14:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/652fd1874b774f05dd29358fd8de75b1857804d6', 'message': 'Update kubernetes-entrypoint image reference\n\nThis updates the kubernetes-entrypoint image reference to consume\nthe publicly available kubernetes-entrypoint image that is built\nand maintained under the airshipit namespace, as the stackanetes\nimage is no longer actively maintainedy\n\nDepends-On: https://review.opendev.org/688435\n\nChange-Id: I8e76cdcc9d4db8975b330e97169754a2a407341f\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 5, 'created': '2019-10-17 20:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a97419b2c9b55d6440670813e8b56d3538dfe764', 'message': 'Update kubernetes-entrypoint image reference\n\nThis updates the kubernetes-entrypoint image reference to consume\nthe publicly available kubernetes-entrypoint image that is built\nand maintained under the airshipit namespace, as the stackanetes\nimage is no longer actively maintainedy\n\nDepends-On: https://review.opendev.org/688435\n\nChange-Id: I8e76cdcc9d4db8975b330e97169754a2a407341f\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 6, 'created': '2019-10-18 15:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a57f42a20d0c9766e3b9a2552bd2f60760aac122', 'message': 'Update kubernetes-entrypoint image reference\n\nThis updates the kubernetes-entrypoint image reference to consume\nthe publicly available kubernetes-entrypoint image that is built\nand maintained under the airshipit namespace, as the stackanetes\nimage is no longer actively maintainedy\n\nDepends-On: https://review.opendev.org/688435\n\nChange-Id: I8e76cdcc9d4db8975b330e97169754a2a407341f\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 7, 'created': '2019-10-21 13:58:22.000000000', 'files': ['mistral/values.yaml', 'congress/values.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'aodh/values.yaml', 'doc/source/devref/images.rst', 'glance/values.yaml', 'octavia/values.yaml', 'horizon/values.yaml', 'designate/values.yaml', 'ceilometer/values.yaml', 'nova/values.yaml', 'tempest/values.yaml', 'ironic/values.yaml', 'keystone/values.yaml', 'neutron/values.yaml', 'panko/values.yaml', 'senlin/values.yaml', 'rally/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9736f5f54430a5d607df4b1cc13da65ec5204822', 'message': 'Update kubernetes-entrypoint image reference\n\nThis updates the kubernetes-entrypoint image reference to consume\nthe publicly available kubernetes-entrypoint image that is built\nand maintained under the airshipit namespace, as the stackanetes\nimage is no longer actively maintainedy\n\nDepends-On: https://review.opendev.org/688435\n\nChange-Id: I8e76cdcc9d4db8975b330e97169754a2a407341f\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,688437,9736f5f54430a5d607df4b1cc13da65ec5204822,32,7,7,17591,,,0,"Update kubernetes-entrypoint image reference

This updates the kubernetes-entrypoint image reference to consume
the publicly available kubernetes-entrypoint image that is built
and maintained under the airshipit namespace, as the stackanetes
image is no longer actively maintainedy

Depends-On: https://review.opendev.org/688435

Change-Id: I8e76cdcc9d4db8975b330e97169754a2a407341f
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/37/688437/5 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/values.yaml', 'congress/values.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'aodh/values.yaml', 'doc/source/devref/images.rst', 'glance/values.yaml', 'octavia/values.yaml', 'horizon/values.yaml', 'designate/values.yaml', 'ceilometer/values.yaml', 'nova/values.yaml', 'tempest/values.yaml', 'ironic/values.yaml', 'keystone/values.yaml', 'neutron/values.yaml', 'panko/values.yaml', 'senlin/values.yaml', 'rally/values.yaml']",21,9fcf0df9339751279f6d185b1a056d2dce099627,update-k8s-entrypoint, dep_check: quay.io/airshipit/kubernetes-entrypoint:v1.0.0, dep_check: quay.io/stackanetes/kubernetes-entrypoint:v0.3.1,21,21
openstack%2Fopenstack-helm-infra~master~If0276353e38896962697a3f451d25d4930745c53,openstack/openstack-helm-infra,master,If0276353e38896962697a3f451d25d4930745c53,Kill libvirtd proc if any before start libvertd,MERGED,2019-10-11 16:47:59.000000000,2019-10-21 15:44:29.000000000,2019-10-21 15:43:00.000000000,"[{'_account_id': 18236}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26686}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-10-11 16:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3a3b75e99ded0a310d338a1858756415496bc8e4', 'message': 'Check libvirtd processes based on /proc\n\nUpdated the libvirt PreStop lifecycle hook to retrieve processes\nfrom /proc instead of /var/run. /proc is more reliable than /var/run.\n\nIn addition, since no running processes is a pre-condition for startup,\nkill -9 is also attempted after a period of time.\n\nIn the startup script, existing libvirt process, if any, is checked\nfor its state. If exist process is stuck in defunct state, it is ingored\nand new process is create.\n\nChange-Id: If0276353e38896962697a3f451d25d4930745c53\n'}, {'number': 2, 'created': '2019-10-11 21:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/33ce537bdff8fb757a084e936b1fa85d7746e190', 'message': 'Check libvirtd processes based on /proc\n\nUpdated the libvirt PreStop lifecycle hook to retrieve processes\nfrom /proc instead of /var/run. /proc is more reliable than /var/run.\n\nIn addition, since no running processes is a pre-condition for startup,\nkill -9 is also attempted after a period of time.\n\nIn the startup script, existing libvirt process, if any, is checked\nfor its state. If exist process is stuck in defunct state, it is ingored\nand new process is create.\n\nChange-Id: If0276353e38896962697a3f451d25d4930745c53\n'}, {'number': 3, 'created': '2019-10-17 16:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f4cb15ff20919cd566ab3cf7eeb7cb791d71c4b1', 'message': 'Kill libvirtd proc if any before start libvertd\n\nIn the startup script of libvirtd, existing libvirt process,\nif any, is killed before new process is created.\n\nChange-Id: If0276353e38896962697a3f451d25d4930745c53\n'}, {'number': 4, 'created': '2019-10-17 20:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/993002db1fb796f548829e9072b9849360a8b67b', 'message': 'Kill libvirtd proc if any before start libvertd\n\nIn the startup script of libvirtd, existing libvirt process,\nif any, is killed before new process is created.\n\nChange-Id: If0276353e38896962697a3f451d25d4930745c53\n'}, {'number': 5, 'created': '2019-10-17 21:20:52.000000000', 'files': ['libvirt/templates/bin/_libvirt.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4374c3fd748957fbfabce1f6d7e8137b3651ae75', 'message': 'Kill libvirtd proc if any before start libvertd\n\nIn the startup script of libvirtd, existing libvirt process,\nif any, is killed before new process is created.\n\nChange-Id: If0276353e38896962697a3f451d25d4930745c53\n'}]",14,688169,4374c3fd748957fbfabce1f6d7e8137b3651ae75,24,6,5,18236,,,0,"Kill libvirtd proc if any before start libvertd

In the startup script of libvirtd, existing libvirt process,
if any, is killed before new process is created.

Change-Id: If0276353e38896962697a3f451d25d4930745c53
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/69/688169/2 && git format-patch -1 --stdout FETCH_HEAD,"['libvirt/templates/daemonset-libvirt.yaml', 'libvirt/templates/bin/_libvirt_cleanup.sh.tpl', 'libvirt/templates/configmap-bin.yaml', 'libvirt/templates/bin/_libvirt.sh.tpl']",4,3a3b75e99ded0a310d338a1858756415496bc8e4,libvirt," for proc in $(ls /proc/*/comm 2>/dev/null); do if [ ""x$(cat $proc 2>/dev/null | grep -w libvirtd)"" == ""xlibvirtd"" ]; then libvirtpid=$(echo $proc | cut -f 3 -d '/') if [ $(cat ""/proc/${libvirtpid}/status"" 2>/dev/null | grep State \ | awk ' {print $2} ' | grep 'R\|S\|I\|D' | wc -l) -eq 1 ]; then echo ""ERROR: libvirtd daemon already running on host"" 1>&2 exit 1 fi fi done","if [ -n ""$(cat /proc/*/comm 2>/dev/null | grep libvirtd)"" ]; then echo ""ERROR: libvirtd daemon already running on host"" 1>&2 exit 1 fi",51,8
openstack%2Ftripleo-ansible~master~I2c780ee3f133f0e37d2a8fdb8a87f17b53992bd1,openstack/tripleo-ansible,master,I2c780ee3f133f0e37d2a8fdb8a87f17b53992bd1,Update master for stable/train,MERGED,2019-10-21 14:20:00.000000000,2019-10-21 15:26:45.000000000,2019-10-21 15:24:59.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:20:00.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fdc5ae3f86667e6936657f275461a7b02a022944', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I2c780ee3f133f0e37d2a8fdb8a87f17b53992bd1\nSem-Ver: feature\n'}]",0,689773,fdc5ae3f86667e6936657f275461a7b02a022944,9,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I2c780ee3f133f0e37d2a8fdb8a87f17b53992bd1
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/73/689773/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,fdc5ae3f86667e6936657f275461a7b02a022944,reno-train, train,,7,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I26fa196ff9851106c926ae127491b7e464781836,openstack/tripleo-ansible,stable/train,I26fa196ff9851106c926ae127491b7e464781836,Workaround for ansible-lint installation failure,MERGED,2019-10-21 14:49:24.000000000,2019-10-21 15:26:29.000000000,2019-10-21 15:24:59.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-21 14:49:24.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/36c4334060a5744df8f008c4bb45eb9ec776b66d', 'message': 'Workaround for ansible-lint installation failure\n\nBug: https://bugs.launchpad.net/tripleo/+bug/1848512\nBug: https://github.com/ansible/ansible-lint/issues/590\nChange-Id: I26fa196ff9851106c926ae127491b7e464781836\nSigned-off-by: Sorin Sbarnea <ssbarnea@redhat.com>\n(cherry picked from commit cffd4fc9d41b15c31610dee4abd8786916f5933b)\n'}]",0,689803,36c4334060a5744df8f008c4bb45eb9ec776b66d,7,3,1,6816,,,0,"Workaround for ansible-lint installation failure

Bug: https://bugs.launchpad.net/tripleo/+bug/1848512
Bug: https://github.com/ansible/ansible-lint/issues/590
Change-Id: I26fa196ff9851106c926ae127491b7e464781836
Signed-off-by: Sorin Sbarnea <ssbarnea@redhat.com>
(cherry picked from commit cffd4fc9d41b15c31610dee4abd8786916f5933b)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/03/689803/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tox.ini']",2,36c4334060a5744df8f008c4bb45eb9ec776b66d,I26fa196ff9851106c926ae127491b7e464781836-stable/train, #TODO(ekultails): Re-enable after this is fixed # https://github.com/ansible/ansible-lint/issues/590 #{[testenv:ansible-lint]commands}, {[testenv:ansible-lint]commands},9,7
openstack%2Foslo.tools~master~I8bf52a6e10ba6d434764ca0b50227c6030a2fd31,openstack/oslo.tools,master,I8bf52a6e10ba6d434764ca0b50227c6030a2fd31,Remove unused scripts,ABANDONED,2019-07-16 15:31:26.000000000,2019-10-21 15:26:11.000000000,,"[{'_account_id': 6928}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-07-16 15:31:26.000000000', 'files': ['filter_git_history.sh'], 'web_link': 'https://opendev.org/openstack/oslo.tools/commit/b4e46c5b9325be0d59c7731b20a14f1aa87ce26f', 'message': 'Remove unused scripts\n\nCleaning this repo by removing out of date and unused scripts.\n\nChange-Id: I8bf52a6e10ba6d434764ca0b50227c6030a2fd31\n'}]",0,671084,b4e46c5b9325be0d59c7731b20a14f1aa87ce26f,7,4,1,28522,,,0,"Remove unused scripts

Cleaning this repo by removing out of date and unused scripts.

Change-Id: I8bf52a6e10ba6d434764ca0b50227c6030a2fd31
",git fetch https://review.opendev.org/openstack/oslo.tools refs/changes/84/671084/1 && git format-patch -1 --stdout FETCH_HEAD,['filter_git_history.sh'],1,b4e46c5b9325be0d59c7731b20a14f1aa87ce26f,cleaning,,"#!/bin/sh # # Filter the history of a git repository to only include the named # files. set -e if [ $# -lt 1 ]; then echo ""Usage $0 <files to keep>"" exit 1 fi set -x files_to_keep=""$@"" # Build the grep pattern for ignoring files that we want to keep keep_pattern=""\($(echo $files_to_keep | sed -e 's/ /\\|/g')\)"" # Prune all other files in every commit pruner=""git ls-files | grep -v \""$keep_pattern\"" | git update-index --force-remove --stdin; git ls-files > /dev/stderr"" # Find all first commits with listed files and find a subset of them that # predates all others roots="""" for file in $files_to_keep; do file_root=$(git rev-list --reverse HEAD -- $file | head -n1) fail=0 for root in $roots; do if git merge-base --is-ancestor $root $file_root; then fail=1 break elif ! git merge-base --is-ancestor $file_root $root; then new_roots=""$new_roots $root"" fi done if [ $fail -ne 1 ]; then roots=""$new_roots $file_root"" fi done # Purge all parents for those commits set_roots="" if [ 1 -eq 0 $(for root in $roots; do echo -n "" -o \""\$GIT_COMMIT\"" = '$root' ""; done) ]; then echo ''; else cat; fi"" # Enhance git_commit_non_empty_tree to skip merges with: # a) either two equal parents (commit that was about to land got purged as well # as all commits on mainline); # b) or with second parent being an ancestor to the first one (just as with a) # but when there are some commits on mainline). # In both cases drop second parent and let git_commit_non_empty_tree to decide # if commit worth doing (most likely not). skip_empty=$(cat << \EOF if [ $# = 5 ] && git merge-base --is-ancestor $5 $3; then git_commit_non_empty_tree $1 -p $3 else git_commit_non_empty_tree ""$@"" fi EOF ) # Filter out commits for unrelated files echo ""Pruning commits for unrelated files..."" git filter-branch --index-filter ""$pruner"" --parent-filter ""$set_roots"" --commit-filter ""$skip_empty"" HEAD ",0,70
openstack%2Fhorizon~master~I3fd7c7ada9f5a93392f74e20dbc42bbe4efb2872,openstack/horizon,master,I3fd7c7ada9f5a93392f74e20dbc42bbe4efb2872,DNM: testing zuul config,ABANDONED,2019-10-21 12:53:12.000000000,2019-10-21 15:20:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-21 12:53:12.000000000', 'files': ['openstack_dashboard/settings.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/01738199165d6933ee3f35e3e668fa740b0af0ea', 'message': ""DNM: testing zuul config\n\nIt tries to check openstack-tox-pep8 defined\nboth in openstack-python-jobs and openstack-python3-ussuri-jobs.\nLet's see what happens.\n\nDepends-On: https://review.opendev.org/#/c/688997/\n\nChange-Id: I3fd7c7ada9f5a93392f74e20dbc42bbe4efb2872\n""}]",0,689736,01738199165d6933ee3f35e3e668fa740b0af0ea,3,1,1,841,,,0,"DNM: testing zuul config

It tries to check openstack-tox-pep8 defined
both in openstack-python-jobs and openstack-python3-ussuri-jobs.
Let's see what happens.

Depends-On: https://review.opendev.org/#/c/688997/

Change-Id: I3fd7c7ada9f5a93392f74e20dbc42bbe4efb2872
",git fetch https://review.opendev.org/openstack/horizon refs/changes/36/689736/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/settings.py'],1,01738199165d6933ee3f35e3e668fa740b0af0ea,zuul-config-test,,,2,0
openstack%2Ftripleo-heat-templates~master~I2287626aae2c67dcef973e5c0b13f89caad8749b,openstack/tripleo-heat-templates,master,I2287626aae2c67dcef973e5c0b13f89caad8749b,Testing train job tripleo-heat-templates,ABANDONED,2019-10-21 15:05:34.000000000,2019-10-21 15:07:13.000000000,,[{'_account_id': 8449}],"[{'number': 1, 'created': '2019-10-21 15:05:34.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4b22ecca31e1431ae470dbbc79356f77448315f6', 'message': 'Testing train job tripleo-heat-templates\n\nDepends-On: https://review.opendev.org/687004\nChange-Id: I2287626aae2c67dcef973e5c0b13f89caad8749b\n'}]",0,689816,4b22ecca31e1431ae470dbbc79356f77448315f6,3,1,1,8449,,,0,"Testing train job tripleo-heat-templates

Depends-On: https://review.opendev.org/687004
Change-Id: I2287626aae2c67dcef973e5c0b13f89caad8749b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/689816/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud-resource-registry-puppet.j2.yaml'],1,4b22ecca31e1431ae470dbbc79356f77448315f6,stable/train, # TESTING,,1,0
openstack%2Ftripleo-heat-templates~master~I06eb8d4e4ee40b3602a5914239e86176db96b58c,openstack/tripleo-heat-templates,master,I06eb8d4e4ee40b3602a5914239e86176db96b58c,Testing train,ABANDONED,2019-10-21 15:00:48.000000000,2019-10-21 15:06:48.000000000,,[{'_account_id': 8449}],"[{'number': 1, 'created': '2019-10-21 15:00:48.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/874c80a00ebcadd1102b4c528f82c5ab3db75b19', 'message': 'Testing train\n\nDepends-On: https://review.opendev.org/687004\nChange-Id: I06eb8d4e4ee40b3602a5914239e86176db96b58c\n'}]",0,689814,874c80a00ebcadd1102b4c528f82c5ab3db75b19,3,1,1,8449,,,0,"Testing train

Depends-On: https://review.opendev.org/687004
Change-Id: I06eb8d4e4ee40b3602a5914239e86176db96b58c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/689814/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud-resource-registry-puppet.j2.yaml'],1,874c80a00ebcadd1102b4c528f82c5ab3db75b19,stable/train, # TESTING,,1,1
openstack%2Fkolla-ansible~master~I32d35c065812c6b46c64bacdf283a0bdad0f8a0f,openstack/kolla-ansible,master,I32d35c065812c6b46c64bacdf283a0bdad0f8a0f,Add unit tests for Nova Cells filters,MERGED,2019-10-18 10:24:50.000000000,2019-10-21 14:51:17.000000000,2019-10-21 14:48:32.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28743}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-18 10:24:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/725b865a935d3ca4f3a7efe134a9fcadb65de036', 'message': 'Add unit tests for Nova Cells filters\n\nThis moves the Nova Cells filters alongside the service filters\nfor ease of testing.\n\nPartially Implements: blueprint support-nova-cells\nChange-Id: I32d35c065812c6b46c64bacdf283a0bdad0f8a0f\n'}, {'number': 2, 'created': '2019-10-18 13:15:14.000000000', 'files': ['ansible/roles/nova-cell/filter_plugins/filters.py', 'kolla_ansible/nova_filters.py', 'kolla_ansible/tests/unit/data/nova_manage_cli_output_multiple_cells', 'kolla_ansible/tests/unit/data/nova_manage_cli_output_duplicate_cells', 'kolla_ansible/tests/unit/test_nova_filters.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8e068099deed0863cd83987dc856e81ef196b7eb', 'message': 'Add unit tests for Nova Cells filters\n\nThis moves the Nova Cells filters alongside the service filters\nfor ease of testing.\n\nPartially Implements: blueprint support-nova-cells\nChange-Id: I32d35c065812c6b46c64bacdf283a0bdad0f8a0f\n'}]",0,689413,8e068099deed0863cd83987dc856e81ef196b7eb,14,5,2,17669,,,0,"Add unit tests for Nova Cells filters

This moves the Nova Cells filters alongside the service filters
for ease of testing.

Partially Implements: blueprint support-nova-cells
Change-Id: I32d35c065812c6b46c64bacdf283a0bdad0f8a0f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/13/689413/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/filter_plugins/filters.py', 'kolla_ansible/nova_filters.py', 'kolla_ansible/tests/unit/data/nova_manage_cli_output_multiple_cells', 'kolla_ansible/tests/unit/data/nova_manage_cli_output_duplicate_cells', 'kolla_ansible/tests/unit/test_nova_filters.py']",5,725b865a935d3ca4f3a7efe134a9fcadb65de036,bp/support-nova-cells,"# Copyright (c) 2019 StackHPC Ltd. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import unittest import jinja2 import os from kolla_ansible import nova_filters as filters def _to_bool(value): """"""Simplified version of the bool filter. Avoids having a dependency on Ansible in unit tests. """""" if value == 'yes': return True if value == 'no': return False return bool(value) class TestFilters(unittest.TestCase): def setUp(self): # Bandit complains about Jinja2 autoescaping without nosec. self.env = jinja2.Environment() # nosec self.env.filters['bool'] = _to_bool self.context = self._make_context() def _make_context(self, parent=None): if parent is None: parent = {} return self.env.context_class( self.env, parent=parent, name='dummy', blocks={}) def _test_extract_cell(self, test_data, cell_name): nova_manage_output = {} with open(test_data, 'r') as f: nova_manage_output['stdout_lines'] = f.readlines() return filters.extract_cell( self.context, nova_manage_output, cell_name) def test_extract_with_no_name(self): test_data = os.path.join(os.path.dirname( __file__), 'data', 'nova_manage_cli_output_multiple_cells') actual = self._test_extract_cell(test_data, '') expected = {'cell_name': None, 'cell_uuid': '68a3f49e-27ec-422f-9e2e-2a4e5dc8291b', 'cell_message_queue': 'rabbit://openstack:94uCcArVNXEJnhhj4JAAAMI432h5j3k2bb3bbjkB@172.28.128.30:5672', # noqa 'cell_database': 'mysql+pymysql://nova:1nhsVDLWjsFSoCsda453bJBsdsbjkabf77sadsdD@172.28.128.252:3305/nova', # noqa 'cell_disabled': 'False'} self.assertDictEqual(expected, actual) def test_extract_cell0001(self): test_data = os.path.join(os.path.dirname( __file__), 'data', 'nova_manage_cli_output_multiple_cells') actual = self._test_extract_cell(test_data, 'cell0001') expected = {'cell_name': 'cell0001', 'cell_uuid': '5af50f3f-82ed-47b2-9de8-7dd4eafa7648', 'cell_message_queue': 'rabbit://openstack:0flZc3qqwczsisbaT94uCcArVNXEJnhhj4JAAAMI@172.28.128.32:5673/nova_cell0001', # noqa 'cell_database': 'mysql+pymysql://nova:mpyerUgpbQeXjaDV1nhsVDLWjsFSoCss6dHCXK7G@172.28.128.252:3305/nova_cell0001', # noqa 'cell_disabled': 'False'} self.assertDictEqual(expected, actual) def test_extract_cell0002(self): test_data = os.path.join(os.path.dirname( __file__), 'data', 'nova_manage_cli_output_multiple_cells') actual = self._test_extract_cell(test_data, 'cell0002') expected = {'cell_name': 'cell0002', 'cell_uuid': '087697bb-bfc2-471d-befb-0c0fcc7630e4', 'cell_message_queue': 'rabbit://openstack:d9LaCxGrQX9Lla9aMZcS7fQ5xLH8S5HwHFrl6jdJ@172.28.128.31:5672/nova_cell0002', # noqa 'cell_database': 'mysql+pymysql://nova:Dj3f3l4yv2SuhbsJyv3ahGIwUMa9TKchw6EXtQfp@172.28.128.253:3306/nova_cell0002', # noqa 'cell_disabled': 'True'} self.assertDictEqual(expected, actual) def test_extract_missing_cell(self): test_data = os.path.join(os.path.dirname( __file__), 'data', 'nova_manage_cli_output_multiple_cells') actual = self._test_extract_cell(test_data, 'cell0003') self.assertIsNone(actual) def test_extract_duplicate_cell(self): test_data = os.path.join(os.path.dirname( __file__), 'data', 'nova_manage_cli_output_duplicate_cells') self.assertRaisesRegexp(jinja2.TemplateRuntimeError, 'duplicates', self._test_extract_cell, test_data, 'cell0001') def test_namespace_haproxy_for_cell_with_empty_name(self): example_services = { 'nova-novncproxy': { 'group': 'some_group', 'enabled': True, 'haproxy': { 'nova_novncproxy': { 'enabled': True, 'mode': 'http', 'external': False, 'port': '1232', 'listen_port': '1233', 'backend_http_extra': ['timeout tunnel 1h'], }, 'nova_novncproxy_external': { 'enabled': True, 'mode': 'http', 'external': True, 'port': '1234', 'listen_port': '1235', 'backend_http_extra': ['timeout tunnel 1h'], } } } } actual = filters.namespace_haproxy_for_cell( self.context, example_services, '') # No change self.assertDictEqual(example_services, actual) def test_namespace_haproxy_for_cell_with_single_proxy(self): example_services = { 'nova-novncproxy': { 'group': 'some_group', 'enabled': True, 'haproxy': { 'nova_novncproxy': { 'enabled': True, 'mode': 'http', 'external': False, 'port': '1232', 'listen_port': '1233', 'backend_http_extra': ['timeout tunnel 1h'], }, 'nova_novncproxy_external': { 'enabled': True, 'mode': 'http', 'external': True, 'port': '1234', 'listen_port': '1235', 'backend_http_extra': ['timeout tunnel 1h'], } } } } actual = filters.namespace_haproxy_for_cell( self.context, example_services, 'cell0001') expected = { 'nova-novncproxy_cell0001': { 'group': 'some_group', 'enabled': True, 'haproxy': { 'nova_novncproxy_cell0001': { 'enabled': True, 'mode': 'http', 'external': False, 'port': '1232', 'listen_port': '1233', 'backend_http_extra': ['timeout tunnel 1h'], }, 'nova_novncproxy_external_cell0001': { 'enabled': True, 'mode': 'http', 'external': True, 'port': '1234', 'listen_port': '1235', 'backend_http_extra': ['timeout tunnel 1h'], } } } } self.assertDictEqual(expected, actual) def test_namespace_haproxy_for_cell_with_multiple_proxies(self): example_services = { 'nova-novncproxy': { 'haproxy': { 'nova_novncproxy': {}, 'nova_novncproxy_external': {} } }, 'nova-spicehtml5proxy': { 'haproxy': { 'nova_spicehtml5proxy': {}, 'nova_spicehtml5proxy_external': {} } } } actual = filters.namespace_haproxy_for_cell( self.context, example_services, 'cell0002') expected = { 'nova-novncproxy_cell0002': { 'haproxy': { 'nova_novncproxy_cell0002': {}, 'nova_novncproxy_external_cell0002': {} } }, 'nova-spicehtml5proxy_cell0002': { 'haproxy': { 'nova_spicehtml5proxy_cell0002': {}, 'nova_spicehtml5proxy_external_cell0002': {} } } } self.assertDictEqual(expected, actual) ",,329,75
openstack%2Ftripleo-ansible~master~I26fa196ff9851106c926ae127491b7e464781836,openstack/tripleo-ansible,master,I26fa196ff9851106c926ae127491b7e464781836,Workaround for ansible-lint installation failure,MERGED,2019-10-18 15:39:40.000000000,2019-10-21 14:50:23.000000000,2019-10-21 14:48:47.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-18 15:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/db307c7f22ecf4383fb190f9fcec29207bc4b553', 'message': 'Workaround for ansible-lint installation failure\n\nBug: https://bugs.launchpad.net/tripleo/+bug/1848512\nBug: https://github.com/ansible/ansible-lint/issues/590\nChange-Id: I26fa196ff9851106c926ae127491b7e464781836\nSigned-off-by: Sorin Sbarnea <ssbarnea@redhat.com>\n'}, {'number': 2, 'created': '2019-10-18 17:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3e2c8cba1e03b7fc6bfad4ca3173f85f7758c9bd', 'message': 'Workaround for ansible-lint installation failure\n\nBug: https://bugs.launchpad.net/tripleo/+bug/1848512\nBug: https://github.com/ansible/ansible-lint/issues/590\nChange-Id: I26fa196ff9851106c926ae127491b7e464781836\nSigned-off-by: Sorin Sbarnea <ssbarnea@redhat.com>\n'}, {'number': 3, 'created': '2019-10-18 18:54:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b8d747099351042604d2621c9c2324f65a6322c7', 'message': 'Workaround for ansible-lint installation failure\n\nBug: https://bugs.launchpad.net/tripleo/+bug/1848512\nBug: https://github.com/ansible/ansible-lint/issues/590\nChange-Id: I26fa196ff9851106c926ae127491b7e464781836\nSigned-off-by: Sorin Sbarnea <ssbarnea@redhat.com>\n'}, {'number': 4, 'created': '2019-10-21 10:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/98f0d0080314898b8ca92e58bdb99514da3b4485', 'message': 'Workaround for ansible-lint installation failure\n\nBug: https://bugs.launchpad.net/tripleo/+bug/1848512\nBug: https://github.com/ansible/ansible-lint/issues/590\nChange-Id: I26fa196ff9851106c926ae127491b7e464781836\nSigned-off-by: Sorin Sbarnea <ssbarnea@redhat.com>\n'}, {'number': 5, 'created': '2019-10-21 11:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/43c64fc310001a963ea7b4fe445978dd4b12a122', 'message': 'Workaround for ansible-lint installation failure\n\nBug: https://bugs.launchpad.net/tripleo/+bug/1848512\nBug: https://github.com/ansible/ansible-lint/issues/590\nChange-Id: I26fa196ff9851106c926ae127491b7e464781836\nSigned-off-by: Sorin Sbarnea <ssbarnea@redhat.com>\n'}, {'number': 6, 'created': '2019-10-21 11:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f56ae7d985e0968885fa30e192d82c9b81f53409', 'message': 'Workaround for ansible-lint installation failure\n\nBug: https://bugs.launchpad.net/tripleo/+bug/1848512\nBug: https://github.com/ansible/ansible-lint/issues/590\nChange-Id: I26fa196ff9851106c926ae127491b7e464781836\nSigned-off-by: Sorin Sbarnea <ssbarnea@redhat.com>\n'}, {'number': 7, 'created': '2019-10-21 11:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6c70fa376725f0ce2da7b3456574e8f049797eee', 'message': 'Workaround for ansible-lint installation failure\n\nBug: https://bugs.launchpad.net/tripleo/+bug/1848512\nBug: https://github.com/ansible/ansible-lint/issues/590\nChange-Id: I26fa196ff9851106c926ae127491b7e464781836\nSigned-off-by: Sorin Sbarnea <ssbarnea@redhat.com>\n'}, {'number': 8, 'created': '2019-10-21 13:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f060be95c29ffffa67021b2fed7febae24864abd', 'message': 'Workaround for ansible-lint installation failure\n\nBug: https://bugs.launchpad.net/tripleo/+bug/1848512\nBug: https://github.com/ansible/ansible-lint/issues/590\nChange-Id: I26fa196ff9851106c926ae127491b7e464781836\nSigned-off-by: Sorin Sbarnea <ssbarnea@redhat.com>\n'}, {'number': 9, 'created': '2019-10-21 14:04:17.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cffd4fc9d41b15c31610dee4abd8786916f5933b', 'message': 'Workaround for ansible-lint installation failure\n\nBug: https://bugs.launchpad.net/tripleo/+bug/1848512\nBug: https://github.com/ansible/ansible-lint/issues/590\nChange-Id: I26fa196ff9851106c926ae127491b7e464781836\nSigned-off-by: Sorin Sbarnea <ssbarnea@redhat.com>\n'}]",3,689527,cffd4fc9d41b15c31610dee4abd8786916f5933b,39,11,9,24162,,,0,"Workaround for ansible-lint installation failure

Bug: https://bugs.launchpad.net/tripleo/+bug/1848512
Bug: https://github.com/ansible/ansible-lint/issues/590
Change-Id: I26fa196ff9851106c926ae127491b7e464781836
Signed-off-by: Sorin Sbarnea <ssbarnea@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/27/689527/7 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tox.ini']",2,db307c7f22ecf4383fb190f9fcec29207bc4b553,I26fa196ff9851106c926ae127491b7e464781836,install_command = pip install {opts} {packages} # workaround for https://github.com/ansible/ansible-lint/issues/590 virtualenv==16.3.0 # 16.7.6 not working,,7,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I79c4c690e2c1258b01eec9058395b6c6d1851456,openstack/tripleo-ansible,stable/train,I79c4c690e2c1258b01eec9058395b6c6d1851456,Update .gitreview for stable/train,MERGED,2019-10-21 14:19:50.000000000,2019-10-21 14:48:48.000000000,2019-10-21 14:48:48.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 14:19:50.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ad340ba06deff33eff6e65fa9e0264d2ebb80347', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I79c4c690e2c1258b01eec9058395b6c6d1851456\n'}]",0,689770,ad340ba06deff33eff6e65fa9e0264d2ebb80347,6,2,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I79c4c690e2c1258b01eec9058395b6c6d1851456
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/70/689770/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,ad340ba06deff33eff6e65fa9e0264d2ebb80347,create-train,defaultbranch=stable/train,,1,0
openstack%2Freleases~master~I777a468c995c4f90852b9b14f6d188438357bc34,openstack/releases,master,I777a468c995c4f90852b9b14f6d188438357bc34,Fix Train extended maintenance transition date,MERGED,2019-10-17 19:49:02.000000000,2019-10-21 14:46:02.000000000,2019-10-21 14:46:02.000000000,"[{'_account_id': 308}, {'_account_id': 15343}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-17 19:49:02.000000000', 'files': ['data/series_status.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b1dbe53d46f48203c3c0274d2f49143b651deaff', 'message': ""Fix Train extended maintenance transition date\n\nWe didn't actually want Train to go immediately into Extended\nMaintenance. This fixes the transition date for Train to be 18 months\nfrom its original release date.\n\nChange-Id: I777a468c995c4f90852b9b14f6d188438357bc34\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",0,689254,b1dbe53d46f48203c3c0274d2f49143b651deaff,8,4,1,11904,,,0,"Fix Train extended maintenance transition date

We didn't actually want Train to go immediately into Extended
Maintenance. This fixes the transition date for Train to be 18 months
from its original release date.

Change-Id: I777a468c995c4f90852b9b14f6d188438357bc34
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/54/689254/1 && git format-patch -1 --stdout FETCH_HEAD,['data/series_status.yaml'],1,b1dbe53d46f48203c3c0274d2f49143b651deaff,train-em, date: 2021-04-16, date: 2019-10-16,1,1
openstack%2Fopenstack-ansible-os_ceilometer~stable%2Fpike~I605f5527d8ae68e6a6eabbcfdd7fe0c60abd4332,openstack/openstack-ansible-os_ceilometer,stable/pike,I605f5527d8ae68e6a6eabbcfdd7fe0c60abd4332,Adds ceilometer-upgrade task,ABANDONED,2018-07-05 14:11:10.000000000,2019-10-21 14:35:29.000000000,,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23182}, {'_account_id': 26181}]","[{'number': 1, 'created': '2018-07-05 14:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/0b2c7000bed4ab48747393dff919daa295f019c9', 'message': 'Adds ceilometer-upgrade task\n\nRun ceilometer-upgrade task  post ceilometer installation\nto create the resources in gnocchi\n\nImplements: Additonal step to run ceilometer-upgrade during ceilometer-post-install tasks\nCloses-Bug: 1737096\nCloses-Bug: 1778195\n(cherry picked from commit 47e1b7479c43eeea77355d2243a38f69d5d0a613)\n(cherry picked from commit 0772d34100bd48e055442f4696b94d9f08a8e6a7)\n\nChange-Id: I605f5527d8ae68e6a6eabbcfdd7fe0c60abd4332\n'}, {'number': 2, 'created': '2018-07-06 08:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/2c0e8e3acbf697d3d7beb001d65bc947e3ad8040', 'message': 'Adds ceilometer-upgrade task\n\nRun ceilometer-upgrade task  post ceilometer installation\nto create the resources in gnocchi\n\nImplements: Additonal step to run ceilometer-upgrade during ceilometer-post-install tasks\nCloses-Bug: 1737096\nCloses-Bug: 1778195\n(cherry picked from commit 47e1b7479c43eeea77355d2243a38f69d5d0a613)\n(cherry picked from commit 0772d34100bd48e055442f4696b94d9f08a8e6a7)\n\nChange-Id: I605f5527d8ae68e6a6eabbcfdd7fe0c60abd4332\n'}, {'number': 3, 'created': '2018-07-13 12:38:37.000000000', 'files': ['tasks/main.yml', 'tasks/ceilometer_db_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/1617314d5db873cf7e058e6318fd3007e321910c', 'message': 'Adds ceilometer-upgrade task\n\nRun ceilometer-upgrade task  post ceilometer installation\nto create the resources in gnocchi\n\nImplements: Additonal step to run ceilometer-upgrade during ceilometer-post-install tasks\nCloses-Bug: 1737096\nCloses-Bug: 1778195\n(cherry picked from commit ca7cf70eafeb3be784aac9fb8ac21166fd4dbcd2)\n(cherry picked from commit 9d54c79b82a3ce325b0070ffc78f4091c5e33e83)\n\nChange-Id: I605f5527d8ae68e6a6eabbcfdd7fe0c60abd4332\n'}]",0,580390,1617314d5db873cf7e058e6318fd3007e321910c,21,4,3,23182,,,0,"Adds ceilometer-upgrade task

Run ceilometer-upgrade task  post ceilometer installation
to create the resources in gnocchi

Implements: Additonal step to run ceilometer-upgrade during ceilometer-post-install tasks
Closes-Bug: 1737096
Closes-Bug: 1778195
(cherry picked from commit ca7cf70eafeb3be784aac9fb8ac21166fd4dbcd2)
(cherry picked from commit 9d54c79b82a3ce325b0070ffc78f4091c5e33e83)

Change-Id: I605f5527d8ae68e6a6eabbcfdd7fe0c60abd4332
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/90/580390/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/ceilometer_db_post_setup.yml', 'tasks/main.yml', 'tasks/ceilometer_post_install.yml']",3,0b2c7000bed4ab48747393dff919daa295f019c9,bug/1737096,,,20,0
openstack%2Fopenstack-ansible-os_tempest~master~Ica23d0f458b4516e383e016659017112c3e23ed3,openstack/openstack-ansible-os_tempest,master,Ica23d0f458b4516e383e016659017112c3e23ed3,segmentations parameters for network is omit,ABANDONED,2019-06-04 11:56:49.000000000,2019-10-21 14:34:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 23182}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-04 11:56:49.000000000', 'files': ['tasks/tempest_resources.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/c6aaca88a9d33d06e6c4c6f47ed4459c4c3ec2af', 'message': 'segmentations parameters for network is omit\n\nBy default tempest_private_net_seg_id is unset and neutron chose one\navailable for the private network.\n\nAnd tempest_public_net_seg_id is unset, you need to set it only if\ntempest_public_net_provider_type is not flat.\n\nChange-Id: Ica23d0f458b4516e383e016659017112c3e23ed3\n'}]",2,663013,c6aaca88a9d33d06e6c4c6f47ed4459c4c3ec2af,7,3,1,23182,,,0,"segmentations parameters for network is omit

By default tempest_private_net_seg_id is unset and neutron chose one
available for the private network.

And tempest_public_net_seg_id is unset, you need to set it only if
tempest_public_net_provider_type is not flat.

Change-Id: Ica23d0f458b4516e383e016659017112c3e23ed3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/13/663013/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/tempest_resources.yml', 'defaults/main.yml']",2,c6aaca88a9d33d06e6c4c6f47ed4459c4c3ec2af,,# tempest_private_net_seg_id:# tempest_public_net_seg_id:,"tempest_private_net_seg_id: 1tempest_public_net_seg_id: """"",4,4
openstack%2Fkayobe~stable%2Fstein~I5ae37b8f264437a9e49b09da459e604191f9ed3e,openstack/kayobe,stable/stein,I5ae37b8f264437a9e49b09da459e604191f9ed3e,Try running `docker info` again if it fails,MERGED,2019-10-21 10:24:27.000000000,2019-10-21 14:27:05.000000000,2019-10-21 14:23:09.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 10:24:27.000000000', 'files': ['ansible/roles/docker/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/91af67de4c6ff04bc0d12fd24d86790fd4098a58', 'message': 'Try running `docker info` again if it fails\n\nDocker sometimes fails to reply if it has just been started.\n\nChange-Id: I5ae37b8f264437a9e49b09da459e604191f9ed3e\nStory: 2006718\nTask: 37089\n(cherry picked from commit 3993d898390fdd98037e5626cdc34a6ba20a8e92)\n'}]",0,689708,91af67de4c6ff04bc0d12fd24d86790fd4098a58,8,3,1,14826,,,0,"Try running `docker info` again if it fails

Docker sometimes fails to reply if it has just been started.

Change-Id: I5ae37b8f264437a9e49b09da459e604191f9ed3e
Story: 2006718
Task: 37089
(cherry picked from commit 3993d898390fdd98037e5626cdc34a6ba20a8e92)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/08/689708/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/docker/tasks/main.yml'],1,91af67de4c6ff04bc0d12fd24d86790fd4098a58,docker-info-retry-stable/stein, until: docker_info is success retries: 3 delay: 5,,3,0
openstack%2Fironic-prometheus-exporter~master~Id9e2bc8bec0b2b30b922fc8588c06fb0813bb613,openstack/ironic-prometheus-exporter,master,Id9e2bc8bec0b2b30b922fc8588c06fb0813bb613,Switch to Ussuri job,MERGED,2019-10-21 09:35:41.000000000,2019-10-21 14:25:34.000000000,2019-10-21 14:25:34.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-10-21 09:35:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/60c6f1962a999435f72f90df53f745b9f4343cb0', 'message': 'Switch to Ussuri job\n\nChange-Id: Id9e2bc8bec0b2b30b922fc8588c06fb0813bb613\n'}]",0,689703,60c6f1962a999435f72f90df53f745b9f4343cb0,7,3,1,15519,,,0,"Switch to Ussuri job

Change-Id: Id9e2bc8bec0b2b30b922fc8588c06fb0813bb613
",git fetch https://review.opendev.org/openstack/ironic-prometheus-exporter refs/changes/03/689703/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,60c6f1962a999435f72f90df53f745b9f4343cb0,ussri, - openstack-python3-ussuri-jobs, - openstack-python3-train-jobs,1,1
openstack%2Fkolla-ansible~stable%2Fstein~I27fc0159c889bc2e1576fdd69b7d02a320b620f8,openstack/kolla-ansible,stable/stein,I27fc0159c889bc2e1576fdd69b7d02a320b620f8,Fix Python3 compatibility for kolla-genpwd,MERGED,2019-10-21 11:14:29.000000000,2019-10-21 14:03:36.000000000,2019-10-21 14:02:12.000000000,"[{'_account_id': 13178}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-21 11:14:29.000000000', 'files': ['kolla_ansible/cmd/genpwd.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8b464164256689c6d92d2acaf9e080890f894ac3', 'message': 'Fix Python3 compatibility for kolla-genpwd\n\nThe method `Fernet.generate_key()` generates a binary string in Python 3:\n```\n>>> Fernet.generate_key()\nb\'qSMZlOK23pZUw_Uyy-ZRPUfPskMXKGCGmhG6AHCFiV8=\'\n```\n\nUnless properly written as a string to the Kolla `passwords.yml` file,\nthe Fernet key will end up in the final Barbican config like this:\n```\n[simple_crypto_plugin]\nkek = b\'qSMZlOK23pZUw_Uyy-ZRPUfPskMXKGCGmhG6AHCFiV8=\'\n```\n\nDue to the fact that the key is incorrectly written to the barbican\nconfig file (it should be written as a string), every barbican secret\nstore fails with:\n\n```\nbarbican.api.controllers   File ""/var/lib/kolla/venv/lib/python3.6/site-packages/barbican/plugin/store_crypto.py"", line 83, in store_secret\nbarbican.api.controllers     encrypting_plugin, context.project_model)\nbarbican.api.controllers   File ""/var/lib/kolla/venv/lib/python3.6/site-packages/barbican/plugin/store_crypto.py"", line 290, in _find_or_create_kek_objects\nbarbican.api.controllers     kek_meta_dto = plugin_inst.bind_kek_metadata(kek_meta_dto)\nbarbican.api.controllers   File ""/var/lib/kolla/venv/lib/python3.6/site-packages/barbican/plugin/crypto/simple_crypto.py"", line 104, in bind_kek_metadata\nbarbican.api.controllers     encryptor = fernet.Fernet(self.master_kek)\nbarbican.api.controllers   File ""/var/lib/kolla/venv/lib/python3.6/site-packages/cryptography/fernet.py"", line 38, in __init__\nbarbican.api.controllers     ""Fernet key must be 32 url-safe base64-encoded bytes.""\nbarbican.api.controllers ValueError: Fernet key must be 32 url-safe base64-encoded bytes.\n```\n\nThis commit fixes the issue described above by properly writing\nthe Fernet key as a string to the Kolla `passwords.yml` file.\n\nCloses-Bug: #1848191\nChange-Id: I27fc0159c889bc2e1576fdd69b7d02a320b620f8\n(cherry picked from commit e3fccdfa65ba224da9de492e0ea70c35497dff73)\n'}]",0,689718,8b464164256689c6d92d2acaf9e080890f894ac3,8,4,1,14826,,,0,"Fix Python3 compatibility for kolla-genpwd

The method `Fernet.generate_key()` generates a binary string in Python 3:
```
>>> Fernet.generate_key()
b'qSMZlOK23pZUw_Uyy-ZRPUfPskMXKGCGmhG6AHCFiV8='
```

Unless properly written as a string to the Kolla `passwords.yml` file,
the Fernet key will end up in the final Barbican config like this:
```
[simple_crypto_plugin]
kek = b'qSMZlOK23pZUw_Uyy-ZRPUfPskMXKGCGmhG6AHCFiV8='
```

Due to the fact that the key is incorrectly written to the barbican
config file (it should be written as a string), every barbican secret
store fails with:

```
barbican.api.controllers   File ""/var/lib/kolla/venv/lib/python3.6/site-packages/barbican/plugin/store_crypto.py"", line 83, in store_secret
barbican.api.controllers     encrypting_plugin, context.project_model)
barbican.api.controllers   File ""/var/lib/kolla/venv/lib/python3.6/site-packages/barbican/plugin/store_crypto.py"", line 290, in _find_or_create_kek_objects
barbican.api.controllers     kek_meta_dto = plugin_inst.bind_kek_metadata(kek_meta_dto)
barbican.api.controllers   File ""/var/lib/kolla/venv/lib/python3.6/site-packages/barbican/plugin/crypto/simple_crypto.py"", line 104, in bind_kek_metadata
barbican.api.controllers     encryptor = fernet.Fernet(self.master_kek)
barbican.api.controllers   File ""/var/lib/kolla/venv/lib/python3.6/site-packages/cryptography/fernet.py"", line 38, in __init__
barbican.api.controllers     ""Fernet key must be 32 url-safe base64-encoded bytes.""
barbican.api.controllers ValueError: Fernet key must be 32 url-safe base64-encoded bytes.
```

This commit fixes the issue described above by properly writing
the Fernet key as a string to the Kolla `passwords.yml` file.

Closes-Bug: #1848191
Change-Id: I27fc0159c889bc2e1576fdd69b7d02a320b620f8
(cherry picked from commit e3fccdfa65ba224da9de492e0ea70c35497dff73)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/18/689718/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla_ansible/cmd/genpwd.py'],1,8b464164256689c6d92d2acaf9e080890f894ac3,bug/1848191-stable/stein, passwords[k] = fernet.Fernet.generate_key().decode(), passwords[k] = fernet.Fernet.generate_key(),1,1
openstack%2Fkolla-ansible~stable%2Fstein~Iacb1e42307c4de6a7a379e8cf279e073995fd5d3,openstack/kolla-ansible,stable/stein,Iacb1e42307c4de6a7a379e8cf279e073995fd5d3,Extract cephx keys from vault encrypted files,ABANDONED,2019-10-21 13:53:54.000000000,2019-10-21 14:02:17.000000000,,[{'_account_id': 14826}],"[{'number': 1, 'created': '2019-10-21 13:53:54.000000000', 'files': ['ansible/roles/nova/tasks/external_ceph.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a2fb27c4be690e79f887f08080f075edcd7917b9', 'message': 'Extract cephx keys from vault encrypted files\n\nCephx keys are not picked up by ""local_action: shell cat [...]""\nwhen using ansible-vault encrypted keyrings.\nThis commit changes the logic to use the file lookup plugin and\nextracts the key using jinja2 regex filters. The raw keys are then\nset as ansible facts.\n\nChange-Id: Iacb1e42307c4de6a7a379e8cf279e073995fd5d3\n'}]",1,689752,a2fb27c4be690e79f887f08080f075edcd7917b9,3,1,1,30911,,,0,"Extract cephx keys from vault encrypted files

Cephx keys are not picked up by ""local_action: shell cat [...]""
when using ansible-vault encrypted keyrings.
This commit changes the logic to use the file lookup plugin and
extracts the key using jinja2 regex filters. The raw keys are then
set as ansible facts.

Change-Id: Iacb1e42307c4de6a7a379e8cf279e073995fd5d3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/689752/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/nova/tasks/external_ceph.yml'],1,a2fb27c4be690e79f887f08080f075edcd7917b9,bug/encrypted_keyrings," set_fact: nova_cephx_raw_key: ""{{ lookup('file', nova_cephx_keyring_file.stat.path) | regex_search('key\\s*=.*$', multiline=True) | regex_replace('key\\s*=\\s*(.*)\\s*', '\\1') }}"" set_fact: cinder_cephx_raw_key: ""{{ lookup('file', cinder_cephx_keyring_file.stat.path) | regex_search('key\\s*=.*$', multiline=True) | regex_replace('key\\s*=\\s*(.*)\\s*', '\\1') }}"" content: ""{{ item.result }}"""," local_action: shell cat ""{{ nova_cephx_keyring_file.stat.path }}"" | grep -E 'key\s*=' | awk '{ print $3 }' register: nova_cephx_raw_key local_action: shell cat ""{{ cinder_cephx_keyring_file.stat.path }}"" | grep -E 'key\s*=' | awk '{ print $3 }' register: cinder_cephx_raw_key content: ""{{ item.result.stdout }}""",5,5
openstack%2Fneutron-fwaas-dashboard~master~I94874b16744812c9f7b821c07d65dcb7581929af,openstack/neutron-fwaas-dashboard,master,I94874b16744812c9f7b821c07d65dcb7581929af,Switch to official Ussuri jobs,MERGED,2019-10-14 07:02:04.000000000,2019-10-21 13:56:39.000000000,2019-10-21 13:54:16.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-10-14 07:02:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/cfb63bbb896f2ac8aaf3a2c1c3557df3ada6997a', 'message': 'Switch to official Ussuri jobs\n\nChange-Id: I94874b16744812c9f7b821c07d65dcb7581929af\n'}]",0,688340,cfb63bbb896f2ac8aaf3a2c1c3557df3ada6997a,9,4,1,29313,,,0,"Switch to official Ussuri jobs

Change-Id: I94874b16744812c9f7b821c07d65dcb7581929af
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/40/688340/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,cfb63bbb896f2ac8aaf3a2c1c3557df3ada6997a,, - openstack-python3-ussuri-jobs-horizon, - openstack-python3-train-jobs-horizon,1,1
openstack%2Fneutron-vpnaas-dashboard~master~I1b14146648988ecc52566adda0b5df1beb526363,openstack/neutron-vpnaas-dashboard,master,I1b14146648988ecc52566adda0b5df1beb526363,Switch to official Ussuri jobs,MERGED,2019-10-14 07:02:03.000000000,2019-10-21 13:53:42.000000000,2019-10-21 13:51:41.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-10-14 07:02:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/e0d2f96faf1faad905840152d417aa95d03230b2', 'message': 'Switch to official Ussuri jobs\n\nChange-Id: I1b14146648988ecc52566adda0b5df1beb526363\n'}]",0,688332,e0d2f96faf1faad905840152d417aa95d03230b2,11,5,1,29313,,,0,"Switch to official Ussuri jobs

Change-Id: I1b14146648988ecc52566adda0b5df1beb526363
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/32/688332/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e0d2f96faf1faad905840152d417aa95d03230b2,ussuri, - openstack-python3-ussuri-jobs-horizon, - openstack-python3-train-jobs-horizon,1,1
openstack%2Fkayobe~stable%2Fqueens~I5ae37b8f264437a9e49b09da459e604191f9ed3e,openstack/kayobe,stable/queens,I5ae37b8f264437a9e49b09da459e604191f9ed3e,Try running `docker info` again if it fails,MERGED,2019-10-21 10:24:50.000000000,2019-10-21 13:45:21.000000000,2019-10-21 13:45:21.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 10:24:50.000000000', 'files': ['ansible/roles/docker/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a752c10fb8e169802ef9ae94d441092999572559', 'message': 'Try running `docker info` again if it fails\n\nDocker sometimes fails to reply if it has just been started.\n\nChange-Id: I5ae37b8f264437a9e49b09da459e604191f9ed3e\nStory: 2006718\nTask: 37089\n(cherry picked from commit 3993d898390fdd98037e5626cdc34a6ba20a8e92)\n'}]",0,689710,a752c10fb8e169802ef9ae94d441092999572559,7,3,1,14826,,,0,"Try running `docker info` again if it fails

Docker sometimes fails to reply if it has just been started.

Change-Id: I5ae37b8f264437a9e49b09da459e604191f9ed3e
Story: 2006718
Task: 37089
(cherry picked from commit 3993d898390fdd98037e5626cdc34a6ba20a8e92)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/10/689710/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/docker/tasks/main.yml'],1,a752c10fb8e169802ef9ae94d441092999572559,docker-info-retry-stable/queens, until: docker_info is success retries: 3 delay: 5,,3,0
openstack%2Ftripleo-common~master~Ie5d9cf2b63f03b3ab3d1cfd8fb858bc849b8960c,openstack/tripleo-common,master,Ie5d9cf2b63f03b3ab3d1cfd8fb858bc849b8960c,Test for train jobs,ABANDONED,2019-10-21 13:29:12.000000000,2019-10-21 13:34:24.000000000,,[{'_account_id': 8449}],"[{'number': 1, 'created': '2019-10-21 13:29:12.000000000', 'files': ['tripleo_common/actions/deployment.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1023948e767bfa875e4bdac20e001fef5c4d95dc', 'message': 'Test for train jobs\n\nDepends-On: https://review.opendev.org/687004\nChange-Id: Ie5d9cf2b63f03b3ab3d1cfd8fb858bc849b8960c\n'}]",0,689742,1023948e767bfa875e4bdac20e001fef5c4d95dc,3,1,1,8449,,,0,"Test for train jobs

Depends-On: https://review.opendev.org/687004
Change-Id: Ie5d9cf2b63f03b3ab3d1cfd8fb858bc849b8960c
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/42/689742/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/deployment.py'],1,1023948e767bfa875e4bdac20e001fef5c4d95dc,train_test,# # DO NOT MERGE THIS #,,3,0
openstack%2Fneutron~master~I078a2b0fe60344aee0c45c3d6d661f71660b176f,openstack/neutron,master,I078a2b0fe60344aee0c45c3d6d661f71660b176f,Don't call super() in Timer class __init__ method,MERGED,2019-10-15 18:58:20.000000000,2019-10-21 13:33:18.000000000,2019-10-19 04:27:19.000000000,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-15 18:58:20.000000000', 'files': ['neutron/common/utils.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e101652a630c9632e625197c6cb1d11868c5397b', 'message': ""Don't call super() in Timer class __init__ method\n\nTimer class is a base python object, super() is unneeded.\n\nTrivialfix\n\nChange-Id: I078a2b0fe60344aee0c45c3d6d661f71660b176f\n""}]",2,688786,e101652a630c9632e625197c6cb1d11868c5397b,29,6,1,1131,,,0,"Don't call super() in Timer class __init__ method

Timer class is a base python object, super() is unneeded.

Trivialfix

Change-Id: I078a2b0fe60344aee0c45c3d6d661f71660b176f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/86/688786/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/common/utils.py'],1,e101652a630c9632e625197c6cb1d11868c5397b,no-super-object,," super(Timer, self).__init__()",0,1
openstack%2Fproject-config~master~Ifa80ff02dd06a65fd60189c97438554fc4100932,openstack/project-config,master,Ifa80ff02dd06a65fd60189c97438554fc4100932,Fix release jobs to work with prepare-workspace-git,MERGED,2019-10-21 12:04:34.000000000,2019-10-21 13:32:43.000000000,2019-10-21 13:32:43.000000000,"[{'_account_id': 5263}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 12:04:34.000000000', 'files': ['playbooks/release/pre.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/50c3fb9f5993a7458aec0e997c6c530d78d9a91c', 'message': ""Fix release jobs to work with prepare-workspace-git\n\nThe prepare-workspace-git role recently replaced the use-cached-repos\nrole, but its behavior is slightly different. While use-cached-repos\nremoved the 'origin' remote, prepare-workspace-git replaces it with a\nzuul fake origin.\n\nRelease jobs used to add an 'origin' remote to enable notes fetching.\nThose jobs now fail because the 'origin' remote already exists. We\nfix this by resetting the URL for the 'origin' remote, instead of\nadding a new one.\n\nChange-Id: Ifa80ff02dd06a65fd60189c97438554fc4100932\n""}]",0,689725,50c3fb9f5993a7458aec0e997c6c530d78d9a91c,8,3,1,308,,,0,"Fix release jobs to work with prepare-workspace-git

The prepare-workspace-git role recently replaced the use-cached-repos
role, but its behavior is slightly different. While use-cached-repos
removed the 'origin' remote, prepare-workspace-git replaces it with a
zuul fake origin.

Release jobs used to add an 'origin' remote to enable notes fetching.
Those jobs now fail because the 'origin' remote already exists. We
fix this by resetting the URL for the 'origin' remote, instead of
adding a new one.

Change-Id: Ifa80ff02dd06a65fd60189c97438554fc4100932
",git fetch https://review.opendev.org/openstack/project-config refs/changes/25/689725/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/release/pre.yaml'],1,50c3fb9f5993a7458aec0e997c6c530d78d9a91c,fix-release-jobs," - name: Update origin remote to enable notes fetching command: ""git remote set-url origin https://{{ item.canonical_name }}"" # ANSIBLE0006: git remote is not supported by ansible module"," - name: Add origin remote to enable notes fetching command: ""git remote add origin https://{{ item.canonical_name }}"" # ANSIBLE0006: git remote add is not supported by ansible module",3,3
openstack%2Fcharm-ceph-mon~master~Ic8a98c3985596f00ce193619039a76a79484edc0,openstack/charm-ceph-mon,master,Ic8a98c3985596f00ce193619039a76a79484edc0,Resync charmhelpers,MERGED,2019-10-21 12:06:25.000000000,2019-10-21 13:22:51.000000000,2019-10-21 13:22:50.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 12:06:25.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/contrib/python/__init__.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/f69c296d2b13dc4904886757a341ea85c8092cf4', 'message': 'Resync charmhelpers\n\nA fix to the charm which resides in charm-helpers was\ninadvertantly removed by a recent commit. Resync charm-helpers to\nbring it back in.\n\nChange-Id: Ic8a98c3985596f00ce193619039a76a79484edc0\n'}]",0,689726,f69c296d2b13dc4904886757a341ea85c8092cf4,8,4,1,12549,,,0,"Resync charmhelpers

A fix to the charm which resides in charm-helpers was
inadvertantly removed by a recent commit. Resync charm-helpers to
bring it back in.

Change-Id: Ic8a98c3985596f00ce193619039a76a79484edc0
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/26/689726/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/policyd.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/contrib/python/__init__.py', 'hooks/charmhelpers/core/hookenv.py', 'hooks/charmhelpers/contrib/openstack/context.py']",6,f69c296d2b13dc4904886757a341ea85c8092cf4,sync-ch, rel = os_release(self.pkg) ostack = os_release(self.pkg)," rel = os_release(self.pkg, base='icehouse') ostack = os_release(self.pkg, base='icehouse')",112,62
openstack%2Fkolla-ansible~master~Iad391f35105e79fa9319502256528990915df9b7,openstack/kolla-ansible,master,Iad391f35105e79fa9319502256528990915df9b7,[train] Add required Tacker Conductor config and docs,MERGED,2019-09-24 10:59:29.000000000,2019-10-21 13:18:36.000000000,2019-10-21 13:17:00.000000000,"[{'_account_id': 14826}, {'_account_id': 18955}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 28743}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-24 10:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/716bcf7bf388575668440b34372236920b4c7c66', 'message': 'Add required tacker config for Train\n\nTacker requires config for storing CSAR vnf packages.\nThis patch adds those.\n\nChange-Id: Iad391f35105e79fa9319502256528990915df9b7\nCloses-Bug: #1845142\nDepends-On: If1dea66fabc75387ebf92f04dec6f46f57a2cf99\n'}, {'number': 2, 'created': '2019-09-24 11:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/80a0a8d78048053fdb0d4cfafa29b93404b97e56', 'message': 'Add required tacker config for Train\n\nTacker requires config for storing CSAR vnf packages.\nThis patch adds those.\n\nChange-Id: Iad391f35105e79fa9319502256528990915df9b7\nCloses-Bug: #1845142\n'}, {'number': 3, 'created': '2019-10-19 19:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/920cbf6280d4b8bebff56fba6a85684de3a667ea', 'message': 'Add required Tacker Conductor config for Train\n\nTacker requires config for storing CSAR vnf packages.\nThis patch adds it as well as docs.\nOnly one Tacker Conductor is deployed due to\nlack of a shared filesystem.\n\nChange-Id: Iad391f35105e79fa9319502256528990915df9b7\nCo-authored-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\nCloses-Bug: #1845142\n'}, {'number': 4, 'created': '2019-10-21 09:16:19.000000000', 'files': ['ansible/roles/tacker/tasks/pull.yml', 'doc/source/reference/orchestration-and-nfv/tacker-guide.rst', 'ansible/roles/tacker/templates/tacker-conductor.json.j2', 'releasenotes/notes/tacker-train-3f3094b68fdf358e.yaml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/tacker/tasks/check-containers.yml', 'ansible/roles/tacker/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b96ade3cf01009d822f85744efee523127f2674c', 'message': '[train] Add required Tacker Conductor config and docs\n\nTacker requires config for storing CSAR vnf packages.\nThis patch adds it as well as relevant docs.\nOnly one Tacker Conductor is deployed by default due to\nlack of a shared filesystem.\n\nChange-Id: Iad391f35105e79fa9319502256528990915df9b7\nCo-authored-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\nCloses-Bug: #1845142\n'}]",3,684275,b96ade3cf01009d822f85744efee523127f2674c,29,8,4,19316,,,0,"[train] Add required Tacker Conductor config and docs

Tacker requires config for storing CSAR vnf packages.
This patch adds it as well as relevant docs.
Only one Tacker Conductor is deployed by default due to
lack of a shared filesystem.

Change-Id: Iad391f35105e79fa9319502256528990915df9b7
Co-authored-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
Closes-Bug: #1845142
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/75/684275/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/tacker/templates/tacker-conductor.json.j2', 'ansible/roles/tacker/defaults/main.yml']",3,716bcf7bf388575668440b34372236920b4c7c66,bug/1845142," - ""kolla_tacker:/var/lib/tacker/""",,14,0
openstack%2Ftripleo-specs~master~If45c4accd2216ff5b460ccb3ec29e52a8a813f04,openstack/tripleo-specs,master,If45c4accd2216ff5b460ccb3ec29e52a8a813f04,Add ussuri specs to the index,MERGED,2019-10-17 00:20:59.000000000,2019-10-21 12:55:00.000000000,2019-10-21 12:53:45.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-17 00:20:59.000000000', 'files': ['doc/source/index.rst', 'specs/train/0-placeholder.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/88b4a4a203871e584dd12256583e864c30ebf721', 'message': 'Add ussuri specs to the index\n\nAlso removes the old train placeholder file so it does not render in the\nindex.\n\nChange-Id: If45c4accd2216ff5b460ccb3ec29e52a8a813f04\n'}]",0,689057,88b4a4a203871e584dd12256583e864c30ebf721,7,2,1,7144,,,0,"Add ussuri specs to the index

Also removes the old train placeholder file so it does not render in the
index.

Change-Id: If45c4accd2216ff5b460ccb3ec29e52a8a813f04
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/57/689057/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/train/0-placeholder.rst']",2,88b4a4a203871e584dd12256583e864c30ebf721,,,===== Train ===== ,8,3
openstack%2Ftripleo-heat-templates~stable%2Fstein~I53dec308d359b27e62ed44e91a8eaae38d945a4f,openstack/tripleo-heat-templates,stable/stein,I53dec308d359b27e62ed44e91a8eaae38d945a4f,Set bridge-nf-call-* values to 1,MERGED,2019-10-08 18:46:07.000000000,2019-10-21 12:50:01.000000000,2019-10-21 12:48:35.000000000,"[{'_account_id': 3153}, {'_account_id': 5756}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-08 18:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/94a9843cb31ce6547138617ba8dc2be32169c268', 'message': ""Set bridge-nf-call-* values to 1\n\nAlthough the kernel default is 1, some distros override the defaults\nvia sysctl.conf. Loading br_netfilter manually will show values of\n1, but then doing a 'sysctl network restart' will set the values to\n0--so go ahead and override these values.\n\nCo-Author: Luke Short <ekultails@gmail.com>\nDepends-On: I570b996fd8eca8b653c57b43155a6549ba6e5fae\nChange-Id: I53dec308d359b27e62ed44e91a8eaae38d945a4f\nCloses-Bug: #1843259\n(cherry picked from commit 8c23ac8426c50f5be8a88177def63d2200c25fc8)\n""}, {'number': 2, 'created': '2019-10-11 18:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/485d4076d91b95d353b0a6d76e4ff8262122ba85', 'message': ""Set bridge-nf-call-* values to 1\n\nAlthough the kernel default is 1, some distros override the defaults\nvia sysctl.conf. Loading br_netfilter manually will show values of\n1, but then doing a 'sysctl network restart' will set the values to\n0--so go ahead and override these values.\n\nCo-Author: Luke Short <ekultails@gmail.com>\nChange-Id: I53dec308d359b27e62ed44e91a8eaae38d945a4f\nCloses-Bug: #1843259\n(cherry picked from commit 8c23ac8426c50f5be8a88177def63d2200c25fc8)\n""}, {'number': 3, 'created': '2019-10-11 18:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/41f7aece427d91e0a8feb4635deb115d69cad526', 'message': ""Set bridge-nf-call-* values to 1\n\nAlthough the kernel default is 1, some distros override the defaults\nvia sysctl.conf. Loading br_netfilter manually will show values of\n1, but then doing a 'sysctl network restart' will set the values to\n0--so go ahead and override these values.\n\nCo-Author: Luke Short <ekultails@gmail.com>\nChange-Id: I53dec308d359b27e62ed44e91a8eaae38d945a4f\nCloses-Bug: #1843259\n(cherry picked from commit 96302e5d33605f1049ee09efd13a42df9e949156)\n""}, {'number': 4, 'created': '2019-10-18 13:23:38.000000000', 'files': ['releasenotes/notes/fix-bridge-nf-call-defaults.rst', 'deployment/kernel/kernel-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f5c3f9444ae31bbbd65044137853384a12390ad', 'message': ""Set bridge-nf-call-* values to 1\n\nAlthough the kernel default is 1, some distros override the defaults\nvia sysctl.conf. Loading br_netfilter manually will show values of\n1, but then doing a 'sysctl network restart' will set the values to\n0--so go ahead and override these values.\n\nCo-Author: Luke Short <ekultails@gmail.com>\nChange-Id: I53dec308d359b27e62ed44e91a8eaae38d945a4f\nCloses-Bug: #1843259\n(cherry picked from commit 3d722dbc810b0f9521ce1cfc461789bdfe20e36d)\n""}]",0,687386,6f5c3f9444ae31bbbd65044137853384a12390ad,18,5,4,25877,,,0,"Set bridge-nf-call-* values to 1

Although the kernel default is 1, some distros override the defaults
via sysctl.conf. Loading br_netfilter manually will show values of
1, but then doing a 'sysctl network restart' will set the values to
0--so go ahead and override these values.

Co-Author: Luke Short <ekultails@gmail.com>
Change-Id: I53dec308d359b27e62ed44e91a8eaae38d945a4f
Closes-Bug: #1843259
(cherry picked from commit 3d722dbc810b0f9521ce1cfc461789bdfe20e36d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/86/687386/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/kernel/kernel-baremetal-puppet.yaml'],1,94a9843cb31ce6547138617ba8dc2be32169c268,I53dec308d359b27e62ed44e91a8eaae38d945a4f, BridgeNfCallArpTables: default: 1 description: Configures sysctl net.bridge.bridge-nf-call-arptables key type: number BridgeNfCallIpTables: default: 1 description: Configures sysctl net.bridge.bridge-nf-call-iptables key type: number BridgeNfCallIp6Tables: default: 1 description: Configures sysctl net.bridge.bridge-nf-call-ip6tables key type: number - br_netfilter: {} net.bridge.bridge-nf-call-arptables: value: {get_param: BridgeNfCallArpTables} net.bridge.bridge-nf-call-iptables: value: {get_param: BridgeNfCallIpTables} net.bridge.bridge-nf-call-ip6tables: value: {get_param: BridgeNfCallIp6Tables},,19,0
openstack%2Fkolla~stable%2Fstein~Id2ab97bf4c0dc3423268a0ea435b56f4a65f7196,openstack/kolla,stable/stein,Id2ab97bf4c0dc3423268a0ea435b56f4a65f7196,handle push error properly,MERGED,2019-10-16 10:38:14.000000000,2019-10-21 12:49:17.000000000,2019-10-21 12:48:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-10-16 10:38:14.000000000', 'files': ['kolla/image/build.py', 'kolla/tests/test_build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d6f46d544fd757fdc811d738422f85e64a6dc09b', 'message': 'handle push error properly\n\nIf there was some error during pushing then Kolla was greeting with ""all went\nfine"" message anyway:\n\nINFO:kolla.common.utils.aodh-api:Trying to push the image\nERROR:kolla.common.utils.aodh-api:Get http://10.101.16.1:5000/v2/: dial tcp 10.101.16.1:5000: connect: no route to host\nINFO:kolla.common.utils.aodh-api:Pushed successfully\n\nThis patch changes that. Now if there is an error during push then proper\nexception is raised to PushTask and image is marked with PUSH_ERROR status.\n\nThis way at the end of build it is easy to spot which images did not got\npushed to registry:\n\nINFO:kolla.common.utils:===========================\nINFO:kolla.common.utils:Images that failed to build\nINFO:kolla.common.utils:===========================\nERROR:kolla.common.utils:base Failed with status: push_error\nERROR:kolla.common.utils:nova-api Failed with status: push_error\nERROR:kolla.common.utils:nova-base Failed with status: push_error\nERROR:kolla.common.utils:nova-compute Failed with status: push_error\nERROR:kolla.common.utils:nova-compute-ironic Failed with status: push_error\nERROR:kolla.common.utils:nova-conductor Failed with status: push_error\n\nCloses-Bug: #1848019\nChange-Id: Id2ab97bf4c0dc3423268a0ea435b56f4a65f7196\n(cherry picked from commit 52cac09d3d0b8dcdbc8d68a0bcc8092008220309)\n'}]",0,688897,d6f46d544fd757fdc811d738422f85e64a6dc09b,11,4,1,30491,,,0,"handle push error properly

If there was some error during pushing then Kolla was greeting with ""all went
fine"" message anyway:

INFO:kolla.common.utils.aodh-api:Trying to push the image
ERROR:kolla.common.utils.aodh-api:Get http://10.101.16.1:5000/v2/: dial tcp 10.101.16.1:5000: connect: no route to host
INFO:kolla.common.utils.aodh-api:Pushed successfully

This patch changes that. Now if there is an error during push then proper
exception is raised to PushTask and image is marked with PUSH_ERROR status.

This way at the end of build it is easy to spot which images did not got
pushed to registry:

INFO:kolla.common.utils:===========================
INFO:kolla.common.utils:Images that failed to build
INFO:kolla.common.utils:===========================
ERROR:kolla.common.utils:base Failed with status: push_error
ERROR:kolla.common.utils:nova-api Failed with status: push_error
ERROR:kolla.common.utils:nova-base Failed with status: push_error
ERROR:kolla.common.utils:nova-compute Failed with status: push_error
ERROR:kolla.common.utils:nova-compute-ironic Failed with status: push_error
ERROR:kolla.common.utils:nova-conductor Failed with status: push_error

Closes-Bug: #1848019
Change-Id: Id2ab97bf4c0dc3423268a0ea435b56f4a65f7196
(cherry picked from commit 52cac09d3d0b8dcdbc8d68a0bcc8092008220309)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/97/688897/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'kolla/tests/test_build.py']",2,d6f46d544fd757fdc811d738422f85e64a6dc09b,686963-stable/stein," """"""failure on connecting Docker API"""""" """"""failure on connecting Docker API, success on retry"""""" @mock.patch('docker.version', '3.0.0') @mock.patch.dict(os.environ, clear=True) @mock.patch('docker.APIClient') def test_push_image_failure_error(self, mock_client): """"""Docker connected, failure to push"""""" self.dc = mock_client mock_client().push.return_value = [{'errorDetail': {'message': 'mock push fail'}}] pusher = build.PushTask(self.conf, self.image) pusher.run() mock_client().push.assert_called_once_with( self.image.canonical_name, decode=True, stream=True) self.assertFalse(pusher.success) self.assertEqual(build.STATUS_PUSH_ERROR, self.image.status) @mock.patch('docker.version', '3.0.0') @mock.patch.dict(os.environ, clear=True) @mock.patch('docker.APIClient') def test_push_image_failure_error_retry(self, mock_client): """"""Docker connected, failure to push, success on retry"""""" self.dc = mock_client mock_client().push.return_value = [{'errorDetail': {'message': 'mock push fail'}}] pusher = build.PushTask(self.conf, self.image) pusher.run() mock_client().push.assert_called_once_with( self.image.canonical_name, decode=True, stream=True) self.assertFalse(pusher.success) self.assertEqual(build.STATUS_PUSH_ERROR, self.image.status) # Try again, this time without exception. mock_client().push.return_value = [{'stream': 'mock push passes'}] pusher.reset() pusher.run() self.assertEqual(2, mock_client().push.call_count) self.assertTrue(pusher.success) self.assertEqual(build.STATUS_BUILT, self.image.status) ",,49,2
openstack%2Fkolla~stable%2Frocky~Id2ab97bf4c0dc3423268a0ea435b56f4a65f7196,openstack/kolla,stable/rocky,Id2ab97bf4c0dc3423268a0ea435b56f4a65f7196,handle push error properly,MERGED,2019-10-16 10:38:22.000000000,2019-10-21 12:48:04.000000000,2019-10-21 12:48:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-10-16 10:38:22.000000000', 'files': ['kolla/image/build.py', 'kolla/tests/test_build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/40d4d12b219806dc8452c7d7dfcedb77c7d452c5', 'message': 'handle push error properly\n\nIf there was some error during pushing then Kolla was greeting with ""all went\nfine"" message anyway:\n\nINFO:kolla.common.utils.aodh-api:Trying to push the image\nERROR:kolla.common.utils.aodh-api:Get http://10.101.16.1:5000/v2/: dial tcp 10.101.16.1:5000: connect: no route to host\nINFO:kolla.common.utils.aodh-api:Pushed successfully\n\nThis patch changes that. Now if there is an error during push then proper\nexception is raised to PushTask and image is marked with PUSH_ERROR status.\n\nThis way at the end of build it is easy to spot which images did not got\npushed to registry:\n\nINFO:kolla.common.utils:===========================\nINFO:kolla.common.utils:Images that failed to build\nINFO:kolla.common.utils:===========================\nERROR:kolla.common.utils:base Failed with status: push_error\nERROR:kolla.common.utils:nova-api Failed with status: push_error\nERROR:kolla.common.utils:nova-base Failed with status: push_error\nERROR:kolla.common.utils:nova-compute Failed with status: push_error\nERROR:kolla.common.utils:nova-compute-ironic Failed with status: push_error\nERROR:kolla.common.utils:nova-conductor Failed with status: push_error\n\nCloses-Bug: #1848019\nChange-Id: Id2ab97bf4c0dc3423268a0ea435b56f4a65f7196\n(cherry picked from commit 52cac09d3d0b8dcdbc8d68a0bcc8092008220309)\n'}]",0,688898,40d4d12b219806dc8452c7d7dfcedb77c7d452c5,9,4,1,30491,,,0,"handle push error properly

If there was some error during pushing then Kolla was greeting with ""all went
fine"" message anyway:

INFO:kolla.common.utils.aodh-api:Trying to push the image
ERROR:kolla.common.utils.aodh-api:Get http://10.101.16.1:5000/v2/: dial tcp 10.101.16.1:5000: connect: no route to host
INFO:kolla.common.utils.aodh-api:Pushed successfully

This patch changes that. Now if there is an error during push then proper
exception is raised to PushTask and image is marked with PUSH_ERROR status.

This way at the end of build it is easy to spot which images did not got
pushed to registry:

INFO:kolla.common.utils:===========================
INFO:kolla.common.utils:Images that failed to build
INFO:kolla.common.utils:===========================
ERROR:kolla.common.utils:base Failed with status: push_error
ERROR:kolla.common.utils:nova-api Failed with status: push_error
ERROR:kolla.common.utils:nova-base Failed with status: push_error
ERROR:kolla.common.utils:nova-compute Failed with status: push_error
ERROR:kolla.common.utils:nova-compute-ironic Failed with status: push_error
ERROR:kolla.common.utils:nova-conductor Failed with status: push_error

Closes-Bug: #1848019
Change-Id: Id2ab97bf4c0dc3423268a0ea435b56f4a65f7196
(cherry picked from commit 52cac09d3d0b8dcdbc8d68a0bcc8092008220309)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/98/688898/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'kolla/tests/test_build.py']",2,40d4d12b219806dc8452c7d7dfcedb77c7d452c5,686963-stable/stein-stable/rocky," """"""failure on connecting Docker API"""""" """"""failure on connecting Docker API, success on retry"""""" @mock.patch('docker.version', '3.0.0') @mock.patch.dict(os.environ, clear=True) @mock.patch('docker.APIClient') def test_push_image_failure_error(self, mock_client): """"""Docker connected, failure to push"""""" self.dc = mock_client mock_client().push.return_value = [{'errorDetail': {'message': 'mock push fail'}}] pusher = build.PushTask(self.conf, self.image) pusher.run() mock_client().push.assert_called_once_with( self.image.canonical_name, decode=True, stream=True) self.assertFalse(pusher.success) self.assertEqual(build.STATUS_PUSH_ERROR, self.image.status) @mock.patch('docker.version', '3.0.0') @mock.patch.dict(os.environ, clear=True) @mock.patch('docker.APIClient') def test_push_image_failure_error_retry(self, mock_client): """"""Docker connected, failure to push, success on retry"""""" self.dc = mock_client mock_client().push.return_value = [{'errorDetail': {'message': 'mock push fail'}}] pusher = build.PushTask(self.conf, self.image) pusher.run() mock_client().push.assert_called_once_with( self.image.canonical_name, decode=True, stream=True) self.assertFalse(pusher.success) self.assertEqual(build.STATUS_PUSH_ERROR, self.image.status) # Try again, this time without exception. mock_client().push.return_value = [{'stream': 'mock push passes'}] pusher.reset() pusher.run() self.assertEqual(2, mock_client().push.call_count) self.assertTrue(pusher.success) self.assertEqual(build.STATUS_BUILT, self.image.status) ",,49,2
openstack%2Ftripleo-heat-templates~stable%2Fstein~Id4a6326977bebba56c3da2dbf3c4113b6658d433,openstack/tripleo-heat-templates,stable/stein,Id4a6326977bebba56c3da2dbf3c4113b6658d433,Use update_serial as an ansible variable,MERGED,2019-10-18 09:34:18.000000000,2019-10-21 12:40:46.000000000,2019-10-21 12:40:46.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-18 09:34:18.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ef325acaf79a1cf4769dbce7f0d332fc5c9ff62e', 'message': 'Use update_serial as an ansible variable\n\nUse update_serial as ansible variable for being able to\noverride the value with CLI or ansible-playbook command line.\n\nThis should result as the following:\nat the heat level:\n  * if no update_serial in the roles_data is provided, the default\n    value is 1\n  * if update_serial is provided by the roles_data, the default value\n    for the ansible var is the one in the roles_data.\n  * if ansible-playbook -e update_serial=<something> , the serial value\n    is the one provided by the CLI.\n\nChange-Id: Id4a6326977bebba56c3da2dbf3c4113b6658d433\n(cherry picked from commit c6cd605781aef93516732dc85e8b63afb104aea4)\n'}]",0,689345,ef325acaf79a1cf4769dbce7f0d332fc5c9ff62e,8,4,1,16515,,,0,"Use update_serial as an ansible variable

Use update_serial as ansible variable for being able to
override the value with CLI or ansible-playbook command line.

This should result as the following:
at the heat level:
  * if no update_serial in the roles_data is provided, the default
    value is 1
  * if update_serial is provided by the roles_data, the default value
    for the ansible var is the one in the roles_data.
  * if ansible-playbook -e update_serial=<something> , the serial value
    is the one provided by the CLI.

Change-Id: Id4a6326977bebba56c3da2dbf3c4113b6658d433
(cherry picked from commit c6cd605781aef93516732dc85e8b63afb104aea4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/689345/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,ef325acaf79a1cf4769dbce7f0d332fc5c9ff62e,serial/variable-stable/stein," serial: {{ '""{{' }} update_serial | default({{role.update_serial | default(1)}}) {{ '}}""' }}", serial: {{ role.update_serial | default(1) }},1,1
openstack%2Fhorizon~master~If2f100904bdb20233b4b40e1952d0a18c0c20cd4,openstack/horizon,master,If2f100904bdb20233b4b40e1952d0a18c0c20cd4,Imported Translations from Zanata,MERGED,2019-10-21 08:05:46.000000000,2019-10-21 12:09:21.000000000,2019-10-21 12:07:29.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 08:05:46.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ab12da098c4d6484887b7fbe895cd15777d0b935', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If2f100904bdb20233b4b40e1952d0a18c0c20cd4\n'}]",0,689687,ab12da098c4d6484887b7fbe895cd15777d0b935,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If2f100904bdb20233b4b40e1952d0a18c0c20cd4
",git fetch https://review.opendev.org/openstack/horizon refs/changes/87/689687/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po']",2,ab12da098c4d6484887b7fbe895cd15777d0b935,zanata/translations,"""POT-Creation-Date: 2019-10-16 06:30+0000\n""""PO-Revision-Date: 2019-10-20 02:29+0000\n""""Related to the previous item, features available in ``N-4`` releases (which """"Terkait dengan item sebelumnya, fitur yang tersedia dalam rilis ``N-4`` ""","""POT-Creation-Date: 2019-10-03 11:26+0000\n""""PO-Revision-Date: 2019-10-03 01:44+0000\n""""Related to the previous item, features available in ``N-3`` releases (which """"Terkait dengan item sebelumnya, fitur yang tersedia dalam rilis ``N-3`` """,12,12
openstack%2Ftripleo-heat-templates~master~I86c9e3ad56e13c47ece8abfbfbebd361a04b4d2c,openstack/tripleo-heat-templates,master,I86c9e3ad56e13c47ece8abfbfbebd361a04b4d2c,Do not log tripleo-container-image-prepare,ABANDONED,2019-10-08 13:24:48.000000000,2019-10-21 12:02:09.000000000,,"[{'_account_id': 5241}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-10-08 13:24:48.000000000', 'files': ['deployment/container-image-prepare/container-image-prepare-baremetal-ansible.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9091de87299127ead75d684c3dc03bfbdff2b757', 'message': 'Do not log tripleo-container-image-prepare\n\nThe tripleo-container-image-prepare external task, throws a huge\nunreadable JSON on an error.\nDo not log it as it is already logged to:\n/var/log/tripleo-container-image-prepare.log\n\nChange-Id: I86c9e3ad56e13c47ece8abfbfbebd361a04b4d2c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,687294,9091de87299127ead75d684c3dc03bfbdff2b757,8,7,1,6926,,,0,"Do not log tripleo-container-image-prepare

The tripleo-container-image-prepare external task, throws a huge
unreadable JSON on an error.
Do not log it as it is already logged to:
/var/log/tripleo-container-image-prepare.log

Change-Id: I86c9e3ad56e13c47ece8abfbfbebd361a04b4d2c
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/687294/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/container-image-prepare/container-image-prepare-baremetal-ansible.j2.yaml'],1,9091de87299127ead75d684c3dc03bfbdff2b757,, no_log: true,,1,0
openstack%2Fpuppet-tripleo~stable%2Fstein~I394f56ba9b213c75378bdf21999d23509632523c,openstack/puppet-tripleo,stable/stein,I394f56ba9b213c75378bdf21999d23509632523c,Fix missing PXE directories for Conductor,ABANDONED,2019-10-16 07:39:06.000000000,2019-10-21 12:01:52.000000000,,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-16 07:39:06.000000000', 'files': ['manifests/profile/base/ironic/conductor.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1b050776bf12b6ac8a48faa144f0cdbbd9015434', 'message': 'Fix missing PXE directories for Conductor\n\nWhen Ironic Conductor class is called, it expects the\nPXE directories exist. That is only the case for the step 4.\nWhile there is also a case when the conductor class invoked\nfor the step 3 & db sync case. For that case also inlcude\nthe missing ironic::pxe class to ensure the PXE directories\ncreated.\n\nCloses-Bug: #1845222\n\nChange-Id: I394f56ba9b213c75378bdf21999d23509632523c\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 2f69faf666bcb574d59f7c087ac9bcee98693365)\n'}]",0,688867,1b050776bf12b6ac8a48faa144f0cdbbd9015434,5,3,1,6926,,,0,"Fix missing PXE directories for Conductor

When Ironic Conductor class is called, it expects the
PXE directories exist. That is only the case for the step 4.
While there is also a case when the conductor class invoked
for the step 3 & db sync case. For that case also inlcude
the missing ironic::pxe class to ensure the PXE directories
created.

Closes-Bug: #1845222

Change-Id: I394f56ba9b213c75378bdf21999d23509632523c
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 2f69faf666bcb574d59f7c087ac9bcee98693365)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/67/688867/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/ironic/conductor.pp'],1,1b050776bf12b6ac8a48faa144f0cdbbd9015434,bug/1845222-stable/stein,"# [*bootstrap_node*] # (Optional) The hostname of the node responsible for bootstrapping tasks # Defaults to hiera('cinder_backup_short_bootstrap_node_name') # $bootstrap_node = hiera('ironic_api_short_bootstrap_node_name', undef), $step = Integer(hiera('step')), $manage_pxe = true, # Database is accessed by both API and conductor, hence it's here. if $::hostname == downcase($bootstrap_node) { $sync_db = true } else { $sync_db = false } # Ironic conductor class expects PXE directories exist if ($step >= 3 and $sync_db) and $manage_pxe { include ::ironic::pxe }"," $step = Integer(hiera('step')), $manage_pxe = true,",18,2
openstack%2Fkolla-ansible~master~Icd77a0beef9163446cd103b24f68760738ce7588,openstack/kolla-ansible,master,Icd77a0beef9163446cd103b24f68760738ce7588,Set header-buffer-size for wsgi to 32768,ABANDONED,2019-10-21 11:07:10.000000000,2019-10-21 11:56:04.000000000,,"[{'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-21 11:07:10.000000000', 'files': ['ansible/roles/panko/templates/wsgi-panko.conf.j2', 'ansible/roles/qinling/templates/wsgi-qinling.conf.j2', 'ansible/roles/freezer/templates/wsgi-freezer-api.conf.j2', 'ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'ansible/roles/zun/templates/wsgi-zun.conf.j2', 'ansible/roles/monasca/templates/monasca-log-api/wsgi-log-api.conf.j2', 'ansible/roles/placement/templates/placement-api-wsgi.conf.j2', 'ansible/roles/aodh/templates/wsgi-aodh.conf.j2', 'ansible/roles/cloudkitty/templates/wsgi-cloudkitty.conf.j2', 'ansible/roles/masakari/templates/wsgi-masakari.conf.j2', 'ansible/roles/monasca/templates/monasca-api/wsgi-api.conf.j2', 'ansible/roles/cinder/templates/cinder-wsgi.conf.j2', 'ansible/roles/vitrage/templates/wsgi-vitrage.conf.j2', 'ansible/roles/gnocchi/templates/wsgi-gnocchi.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/485338c62725f31bb430990db01353c2e99d08df', 'message': ""Set header-buffer-size for wsgi to 32768\n\n* sometimes we're getting uwsgi header errors from mod_wsgi,\n  especially on keystone\n* according to this - the default in mod_wsgi 4.1 is 32768\n  https://github.com/GrahamDumpleton/mod_wsgi/issues/3\n\nChange-Id: Icd77a0beef9163446cd103b24f68760738ce7588\n""}]",0,689713,485338c62725f31bb430990db01353c2e99d08df,4,2,1,22629,,,0,"Set header-buffer-size for wsgi to 32768

* sometimes we're getting uwsgi header errors from mod_wsgi,
  especially on keystone
* according to this - the default in mod_wsgi 4.1 is 32768
  https://github.com/GrahamDumpleton/mod_wsgi/issues/3

Change-Id: Icd77a0beef9163446cd103b24f68760738ce7588
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/13/689713/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/panko/templates/wsgi-panko.conf.j2', 'ansible/roles/qinling/templates/wsgi-qinling.conf.j2', 'ansible/roles/freezer/templates/wsgi-freezer-api.conf.j2', 'ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'ansible/roles/zun/templates/wsgi-zun.conf.j2', 'ansible/roles/monasca/templates/monasca-log-api/wsgi-log-api.conf.j2', 'ansible/roles/placement/templates/placement-api-wsgi.conf.j2', 'ansible/roles/aodh/templates/wsgi-aodh.conf.j2', 'ansible/roles/cloudkitty/templates/wsgi-cloudkitty.conf.j2', 'ansible/roles/masakari/templates/wsgi-masakari.conf.j2', 'ansible/roles/monasca/templates/monasca-api/wsgi-api.conf.j2', 'ansible/roles/cinder/templates/cinder-wsgi.conf.j2', 'ansible/roles/vitrage/templates/wsgi-vitrage.conf.j2', 'ansible/roles/gnocchi/templates/wsgi-gnocchi.conf.j2']",14,485338c62725f31bb430990db01353c2e99d08df,feature/wsgi_headers, WSGIDaemonProcess gnocchi group=gnocchi processes={{ openstack_service_workers }} threads=1 user=gnocchi python-path={{ python_path }} header-buffer-size=32768, WSGIDaemonProcess gnocchi group=gnocchi processes={{ openstack_service_workers }} threads=1 user=gnocchi python-path={{ python_path }},15,15
openstack%2Fpuppet-ironic~master~I096ac412c015c3ac488d712010aafe52b572cfad,openstack/puppet-ironic,master,I096ac412c015c3ac488d712010aafe52b572cfad,Use client architecture and set bootfile-url for DHCPv6 in inspector,MERGED,2019-10-18 00:45:31.000000000,2019-10-21 11:55:50.000000000,2019-10-21 11:50:22.000000000,"[{'_account_id': 3153}, {'_account_id': 10239}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-10-18 00:45:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/c070dd76979fbbbdec7c8862b81cbd042bf199da', 'message': 'Use client architecture and set bootfile-url for DHCPv6 in inspector\n\nFor DHCPv6 PXE boot, the Client Architecture option uses code 61,\nsee https://tools.ietf.org/html/rfc5970#section-3.3. Use this\nto determine if booting over EFI and set the DHCPv6 bootfile-url\nwhen booting PXE over EFI.\n\nChange-Id: I096ac412c015c3ac488d712010aafe52b572cfad\n'}, {'number': 2, 'created': '2019-10-18 02:02:26.000000000', 'files': ['releasenotes/notes/dhcpv6-pxe-boot-client-arch-ba8857e4f1386710.yaml', 'templates/inspector_dnsmasq_http.erb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/3af894300266428ba3daa243d579680f583c7e96', 'message': 'Use client architecture and set bootfile-url for DHCPv6 in inspector\n\nFor DHCPv6 PXE boot, the Client Architecture option uses code 61,\nsee https://tools.ietf.org/html/rfc5970#section-3.3. Use this\nto determine if booting over EFI and set the DHCPv6 bootfile-url\nwhen booting PXE over EFI.\n\nChange-Id: I096ac412c015c3ac488d712010aafe52b572cfad\n'}]",4,689285,3af894300266428ba3daa243d579680f583c7e96,14,6,2,21909,,,0,"Use client architecture and set bootfile-url for DHCPv6 in inspector

For DHCPv6 PXE boot, the Client Architecture option uses code 61,
see https://tools.ietf.org/html/rfc5970#section-3.3. Use this
to determine if booting over EFI and set the DHCPv6 bootfile-url
when booting PXE over EFI.

Change-Id: I096ac412c015c3ac488d712010aafe52b572cfad
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/85/689285/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/dhcpv6-pxe-boot-client-arch-ba8857e4f1386710.yaml', 'templates/inspector_dnsmasq_http.erb']",2,c070dd76979fbbbdec7c8862b81cbd042bf199da,dhcpv6-client-arch,"# dhcpv6s for Client System Architecture Type (61) dhcp-match=set:efi6,option6:61,0007 dhcp-match=set:efi6,option6:61,0009 dhcp-match=set:efi6,option6:61,0011dhcp-option=tag:efi6,tag:!ipxe6,option6:bootfile-url,tftp://[fe32:dead:beef::4]/ipxe.efi",,13,0
openstack%2Fkuryr-kubernetes~stable%2Ftrain~Ib477213bab7e09bf6520f60b31d7d30584d90199,openstack/kuryr-kubernetes,stable/train,Ib477213bab7e09bf6520f60b31d7d30584d90199,NestedVIFPool: React when status.hostIP is missing,MERGED,2019-10-17 14:04:07.000000000,2019-10-21 11:48:59.000000000,2019-10-21 11:47:20.000000000,"[{'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-10-17 14:04:07.000000000', 'files': ['kuryr_kubernetes/controller/drivers/vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/63d2c7aaa8e0573fe90288b7b607f36b5c858a8c', 'message': ""NestedVIFPool: React when status.hostIP is missing\n\nSeems like there's a race condition or bug in K8s that on DELETE events\nwe can end up with annotated pod that doesn't have `status.hostIP` field\nset. This is problematic for NestedVIFPool driver that used it as one of\nthe pool key elements.\n\nThis patch solves that by looking up host IP through Neutron and trunks\ninfo if the field is missing from the pod.\n\nChange-Id: Ib477213bab7e09bf6520f60b31d7d30584d90199\nCloses-Bug: 1848172\n(cherry picked from commit 5fb1f5908a7f212ff3d84e7928b2ea9e50f03f2d)\n""}]",0,689163,63d2c7aaa8e0573fe90288b7b607f36b5c858a8c,8,3,1,11600,,,0,"NestedVIFPool: React when status.hostIP is missing

Seems like there's a race condition or bug in K8s that on DELETE events
we can end up with annotated pod that doesn't have `status.hostIP` field
set. This is problematic for NestedVIFPool driver that used it as one of
the pool key elements.

This patch solves that by looking up host IP through Neutron and trunks
info if the field is missing from the pod.

Change-Id: Ib477213bab7e09bf6520f60b31d7d30584d90199
Closes-Bug: 1848172
(cherry picked from commit 5fb1f5908a7f212ff3d84e7928b2ea9e50f03f2d)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/63/689163/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/vif_pool.py'],1,63d2c7aaa8e0573fe90288b7b607f36b5c858a8c,bug/1848172-stable/train," def release_vif(self, pod, vif, project_id, security_groups, host_addr=None): if not host_addr: host_addr = self._get_host_addr(pod) def _get_parent_port_id(self, vif): neutron = clients.get_neutron_client() args = {} if config.CONF.neutron_defaults.resource_tags: args['tags'] = config.CONF.neutron_defaults.resource_tags trunks = neutron.list_trunks(**args) for trunk in trunks['trunks']: for sp in trunk['sub_ports']: if sp['port_id'] == vif.id: return trunk['port_id'] return None def release_vif(self, pod, vif, project_id, security_groups): try: host_addr = self._get_host_addr(pod) except KeyError: name = pod['metadata']['name'] LOG.warning(""Pod %s does not have status.hostIP field set when "" ""getting deleted. This is unusual. Trying to "" ""determine the IP by calling Neutron."", name) parent_id = self._get_parent_port_id(vif) if not parent_id: LOG.warning(""Port %s not found, ignoring its release request."", vif.id) return host_addr = self._get_parent_port_ip(parent_id) LOG.debug(""Determined hostIP for pod %s is %s"", name, host_addr) super(NestedVIFPool, self).release_vif( pod, vif, project_id, security_groups, host_addr=host_addr) "," def release_vif(self, pod, vif, project_id, security_groups): host_addr = self._get_host_addr(pod)",39,2
openstack%2Fmagnum~stable%2Ftrain~I0e26682b0b6093b215393eb4ce8e94eae8e5e8f7,openstack/magnum,stable/train,I0e26682b0b6093b215393eb4ce8e94eae8e5e8f7,bug: Cluster should be creatable w/o fixed subnet,MERGED,2019-10-19 10:24:58.000000000,2019-10-21 11:48:01.000000000,2019-10-21 11:46:29.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-19 10:24:58.000000000', 'files': ['magnum/drivers/heat/k8s_template_def.py', 'magnum/common/neutron.py', 'magnum/tests/unit/drivers/test_template_definition.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b8d9eeb483fd585c2184593eef791dff70c62342', 'message': 'bug: Cluster should be creatable w/o fixed subnet\n\nWithout this patch, it is impossible to create a cluster without\ndefining a fixed_network or a fixed_subnet that already exists since we\nget a Fixed{Network,Subnet}NotFound error, and Heat is unable to create\nthese for us.\n\nStory: 2002652\nTask: 37201\n\nChange-Id: I0e26682b0b6093b215393eb4ce8e94eae8e5e8f7\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n(cherry picked from commit 756a85b70cc7fa1b539ec14ab7d1f0e4294264f8)\n'}]",0,689618,b8d9eeb483fd585c2184593eef791dff70c62342,8,4,1,28022,,,0,"bug: Cluster should be creatable w/o fixed subnet

Without this patch, it is impossible to create a cluster without
defining a fixed_network or a fixed_subnet that already exists since we
get a Fixed{Network,Subnet}NotFound error, and Heat is unable to create
these for us.

Story: 2002652
Task: 37201

Change-Id: I0e26682b0b6093b215393eb4ce8e94eae8e5e8f7
Signed-off-by: Bharat Kunwar <brtknr@bath.edu>
(cherry picked from commit 756a85b70cc7fa1b539ec14ab7d1f0e4294264f8)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/18/689618/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/heat/k8s_template_def.py', 'magnum/common/neutron.py', 'magnum/tests/unit/drivers/test_template_definition.py']",3,b8d9eeb483fd585c2184593eef791dff70c62342,fixed-subnet-uuid-stable/train, mock_cluster = mock.MagicMock() mock_cluster.fixed_network = fixed_network mock_cluster.fixed_network fixed_network_name = 'fixed_network' mock_cluster.fixed_network = fixed_network_name, mock_cluster_template.fixed_network = fixed_network mock_cluster = mock.MagicMock() mock_cluster.fixed_network = None mock_cluster_template.fixed_network fixed_network_name = 'fixed_network' mock_cluster_template.fixed_network = fixed_network_name mock_cluster.fixed_network = None,41,40
openstack%2Fcharm-swift-storage~master~Ibdcda179528f6fb807289bd8ee8e644844f99dd6,openstack/charm-swift-storage,master,Ibdcda179528f6fb807289bd8ee8e644844f99dd6,Enable functional tests for train,MERGED,2019-09-09 21:01:00.000000000,2019-10-21 11:39:10.000000000,2019-10-21 11:39:10.000000000,"[{'_account_id': 935}, {'_account_id': 7730}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-09 21:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/a54f8221ae01214bc6c7c0f524bd79bdaee00216', 'message': 'Enable functional tests for train\n\nThis patch also updates the smoke test to run train.\n\nDepends-On: https://review.opendev.org/#/c/680227\nChange-Id: Ibdcda179528f6fb807289bd8ee8e644844f99dd6\n'}, {'number': 2, 'created': '2019-10-18 21:24:50.000000000', 'files': ['tests/gate-basic-bionic-train', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/e2b4b064d5c0500946073d531ec863b433e6c69f', 'message': 'Enable functional tests for train\n\nThis patch also updates the smoke test to run train.\n\nDepends-On: https://review.opendev.org/#/c/680227\nChange-Id: Ibdcda179528f6fb807289bd8ee8e644844f99dd6\n'}]",1,681127,e2b4b064d5c0500946073d531ec863b433e6c69f,14,5,2,11805,,,0,"Enable functional tests for train

This patch also updates the smoke test to run train.

Depends-On: https://review.opendev.org/#/c/680227
Change-Id: Ibdcda179528f6fb807289bd8ee8e644844f99dd6
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/27/681127/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/gate-basic-bionic-train', 'tox.ini']",2,a54f8221ae01214bc6c7c0f524bd79bdaee00216,charms-train-function-test, bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-train --no-destroy, bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-stein --no-destroy,26,1
openstack%2Fnova~master~I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b,openstack/nova,master,I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b,Add PrepResizeAtSourceTask,MERGED,2018-12-31 22:43:20.000000000,2019-10-21 11:33:48.000000000,2019-10-21 11:31:31.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2018-12-31 22:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04830a5170240e57105b4a344f74dd47f18868a7', 'message': 'WIP: Add snapshot task for cross-cell resize\n\nFor non-volume-backed servers, we need to snapshot the\ndisk image out of the source cell and then use that to\nspawn the guest in the target cell. This change adds a\nsub-task to the cross-cell resize flow to perform the\nsnapshot. The snapshot in this case is meant to be\ntemporary and will be deleted at the end of the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 2, 'created': '2019-01-01 17:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/235713c3ab131c5fe2934548ccc12318ddae826c', 'message': 'WIP: Prep source host for cross-cell resize\n\nThis change adds a new conductor sub-task and\ncompute service method for preparing an instance\non the source host for a cross-cell resize. This is\na bit of a hybrid of the resize_instance() and the\n_shelve_offload_instance() methods in the compute\nservice since we snapshot non-volume-backed instances,\ndisconnect volumes/ports from the source host, and\ndestroy the guest. However, we retain the resources\nand allocations claimed on the source host in case\nwe need to revert back.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 3, 'created': '2019-01-16 03:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3c868d819fd45a48b3b6fa06e058ccdc8506911', 'message': 'WIP: Prep source host for cross-cell resize\n\nThis change adds a new conductor sub-task and\ncompute service method for preparing an instance\non the source host for a cross-cell resize. This is\na bit of a hybrid of the resize_instance() and the\n_shelve_offload_instance() methods in the compute\nservice since we snapshot non-volume-backed instances,\ndisconnect volumes/ports from the source host, and\ndestroy the guest. However, we retain the resources\nand allocations claimed on the source host in case\nwe need to revert back.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 4, 'created': '2019-01-17 17:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39bd368c845f12b0886905e278b9d680b73472f5', 'message': 'WIP: Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to a new method\n""prep_snapshot_based_resize_at_source"" on the source compute\nservice which will behave very similar to how shelve works, but\nalso coincides with how the resize_instance method works during\na traditional resize:\n\n* Power off the instance.\n\n* For non-volume-backed instances, create and upload a snapshot\n  image of the root disk. Like shelve, this snapshot image will\n  be used temporarily during the resize and upon successful\n  completion will be deleted. The old/new image_ref will be stored\n  in the migration_context.\n\n* Destroy the guest on the hypervisor but retain disks, i.e. call\n  self.driver.destroy(..., destroy_disks=False). This is necessary\n  to disconnect volumes and unplug VIFs from the source host, and\n  is actually very similar to the migrate_disk_and_power_off method\n  called on the source host during a normal resize. Note that we do\n  not free up tracked resources on the source host at this point nor\n  change the instance host/node values in the database in case we\n  revert or need to recover from a failed migration.\n\n* Delete old volume attachments and update the BlockDeviceMapping\n  records with new placeholder volume attachments which will be used\n  on the dest host.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 5, 'created': '2019-01-21 21:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2a9b8e2ccf721637b62a0585e492030200a08a2', 'message': 'WIP: Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to a new method\n""prep_snapshot_based_resize_at_source"" on the source compute\nservice which will behave very similar to how shelve works, but\nalso coincides with how the resize_instance method works during\na traditional resize:\n\n* Power off the instance.\n\n* For non-volume-backed instances, create and upload a snapshot\n  image of the root disk. Like shelve, this snapshot image will\n  be used temporarily during the resize and upon successful\n  completion will be deleted. The old/new image_ref will be stored\n  in the migration_context.\n\n* Destroy the guest on the hypervisor but retain disks, i.e. call\n  self.driver.destroy(..., destroy_disks=False). This is necessary\n  to disconnect volumes and unplug VIFs from the source host, and\n  is actually very similar to the migrate_disk_and_power_off method\n  called on the source host during a normal resize. Note that we do\n  not free up tracked resources on the source host at this point nor\n  change the instance host/node values in the database in case we\n  revert or need to recover from a failed migration.\n\n* Delete old volume attachments and update the BlockDeviceMapping\n  records with new placeholder volume attachments which will be used\n  on the dest host.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 6, 'created': '2019-01-25 19:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/305f57aaa590221ee3444fd4e571d3ab4c85ab37', 'message': 'WIP: Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to a new method\n""prep_snapshot_based_resize_at_source"" on the source compute\nservice which will behave very similar to how shelve works, but\nalso coincides with how the resize_instance method works during\na traditional resize:\n\n* Power off the instance.\n\n* For non-volume-backed instances, create and upload a snapshot\n  image of the root disk. Like shelve, this snapshot image will\n  be used temporarily during the resize and upon successful\n  completion will be deleted. The old/new image_ref will be stored\n  in the migration_context.\n\n* Destroy the guest on the hypervisor but retain disks, i.e. call\n  self.driver.destroy(..., destroy_disks=False). This is necessary\n  to disconnect volumes and unplug VIFs from the source host, and\n  is actually very similar to the migrate_disk_and_power_off method\n  called on the source host during a normal resize. Note that we do\n  not free up tracked resources on the source host at this point nor\n  change the instance host/node values in the database in case we\n  revert or need to recover from a failed migration.\n\n* Delete old volume attachments and update the BlockDeviceMapping\n  records with new placeholder volume attachments which will be used\n  on the dest host.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 7, 'created': '2019-01-25 22:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/605b51b4758587e64575a6f65496359c244118df', 'message': 'WIP: Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to a new method\n""prep_snapshot_based_resize_at_source"" on the source compute\nservice which will behave very similar to how shelve works, but\nalso coincides with how the resize_instance method works during\na traditional resize:\n\n* Power off the instance.\n\n* For non-volume-backed instances, create and upload a snapshot\n  image of the root disk. Like shelve, this snapshot image will\n  be used temporarily during the resize and upon successful\n  completion will be deleted. The old/new image_ref will be stored\n  in the migration_context.\n\n* Destroy the guest on the hypervisor but retain disks, i.e. call\n  self.driver.destroy(..., destroy_disks=False). This is necessary\n  to disconnect volumes and unplug VIFs from the source host, and\n  is actually very similar to the migrate_disk_and_power_off method\n  called on the source host during a normal resize. Note that we do\n  not free up tracked resources on the source host at this point nor\n  change the instance host/node values in the database in case we\n  revert or need to recover from a failed migration.\n\n* Delete old volume attachments and update the BlockDeviceMapping\n  records with new placeholder volume attachments which will be used\n  on the dest host.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 8, 'created': '2019-01-26 00:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51c908a81b201c5e1636a04902a4a8ff6d1d0b33', 'message': 'WIP: Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to a new method\n""prep_snapshot_based_resize_at_source"" on the source compute\nservice which will behave very similar to how shelve works, but\nalso coincides with how the resize_instance method works during\na traditional resize:\n\n* Power off the instance.\n\n* For non-volume-backed instances, create and upload a snapshot\n  image of the root disk. Like shelve, this snapshot image will\n  be used temporarily during the resize and upon successful\n  completion will be deleted. The old/new image_ref will be stored\n  in the migration_context.\n\n* Destroy the guest on the hypervisor but retain disks, i.e. call\n  self.driver.destroy(..., destroy_disks=False). This is necessary\n  to disconnect volumes and unplug VIFs from the source host, and\n  is actually very similar to the migrate_disk_and_power_off method\n  called on the source host during a normal resize. Note that we do\n  not free up tracked resources on the source host at this point nor\n  change the instance host/node values in the database in case we\n  revert or need to recover from a failed migration.\n\n* Delete old volume attachments and update the BlockDeviceMapping\n  records with new placeholder volume attachments which will be used\n  on the dest host.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 9, 'created': '2019-01-30 00:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27021adef314f3a37e9497f911bafa1b69029e49', 'message': 'WIP: Add PrepResizeAtSourceTask\n\nTODO: split out prep_snapshot_based_resize_at_source and tests\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to a new method\n""prep_snapshot_based_resize_at_source"" on the source compute\nservice which will behave very similar to how shelve works, but\nalso coincides with how the resize_instance method works during\na traditional resize:\n\n* Power off the instance.\n\n* For non-volume-backed instances, create and upload a snapshot\n  image of the root disk. Like shelve, this snapshot image will\n  be used temporarily during the resize and upon successful\n  completion will be deleted. The old/new image_ref will be stored\n  in the migration_context.\n\n* Destroy the guest on the hypervisor but retain disks, i.e. call\n  self.driver.destroy(..., destroy_disks=False). This is necessary\n  to disconnect volumes and unplug VIFs from the source host, and\n  is actually very similar to the migrate_disk_and_power_off method\n  called on the source host during a normal resize. Note that we do\n  not free up tracked resources on the source host at this point nor\n  change the instance host/node values in the database in case we\n  revert or need to recover from a failed migration.\n\n* Delete old volume attachments and update the BlockDeviceMapping\n  records with new placeholder volume attachments which will be used\n  on the dest host.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 10, 'created': '2019-01-31 18:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1fe353760482d7b495dc9d4e6421bd73375e566', 'message': 'WIP: Add PrepResizeAtSourceTask\n\nTODO: split out prep_snapshot_based_resize_at_source and tests\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to a new method\n""prep_snapshot_based_resize_at_source"" on the source compute\nservice which will behave very similar to how shelve works, but\nalso coincides with how the resize_instance method works during\na traditional resize:\n\n* Power off the instance.\n\n* For non-volume-backed instances, create and upload a snapshot\n  image of the root disk. Like shelve, this snapshot image will\n  be used temporarily during the resize and upon successful\n  completion will be deleted. The old/new image_ref will be stored\n  in the migration_context.\n\n* Destroy the guest on the hypervisor but retain disks, i.e. call\n  self.driver.destroy(..., destroy_disks=False). This is necessary\n  to disconnect volumes and unplug VIFs from the source host, and\n  is actually very similar to the migrate_disk_and_power_off method\n  called on the source host during a normal resize. Note that we do\n  not free up tracked resources on the source host at this point nor\n  change the instance host/node values in the database in case we\n  revert or need to recover from a failed migration.\n\n* Delete old volume attachments and update the BlockDeviceMapping\n  records with new placeholder volume attachments which will be used\n  on the dest host.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 11, 'created': '2019-02-01 23:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/806a527a9d435cd66417cc66a3688d6fdcc6a8c9', 'message': 'WIP: Add PrepResizeAtSourceTask\n\nTODO: split out prep_snapshot_based_resize_at_source and tests\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to a new method\n""prep_snapshot_based_resize_at_source"" on the source compute\nservice which will behave very similar to how shelve works, but\nalso coincides with how the resize_instance method works during\na traditional resize:\n\n* Power off the instance.\n\n* For non-volume-backed instances, create and upload a snapshot\n  image of the root disk. Like shelve, this snapshot image will\n  be used temporarily during the resize and upon successful\n  completion will be deleted. The old/new image_ref will be stored\n  in the migration_context.\n\n* Destroy the guest on the hypervisor but retain disks, i.e. call\n  self.driver.destroy(..., destroy_disks=False). This is necessary\n  to disconnect volumes and unplug VIFs from the source host, and\n  is actually very similar to the migrate_disk_and_power_off method\n  called on the source host during a normal resize. Note that we do\n  not free up tracked resources on the source host at this point nor\n  change the instance host/node values in the database in case we\n  revert or need to recover from a failed migration.\n\n* Delete old volume attachments and update the BlockDeviceMapping\n  records with new placeholder volume attachments which will be used\n  on the dest host.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 12, 'created': '2019-02-04 23:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3eeb56a3d41177e767697c86945840979fdb9ff', 'message': 'WIP: Add PrepResizeAtSourceTask\n\nTODO: migration_context stuff and unit tests\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 13, 'created': '2019-02-05 17:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63be710b646b4bf420d216e49de7d999bbd98548', 'message': 'WIP: Add PrepResizeAtSourceTask\n\nTODO: migration_context stuff and unit tests\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 14, 'created': '2019-02-05 21:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/477de78119272782a90618873173d6c745740f7c', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 15, 'created': '2019-02-06 00:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/179c10fd36a42dda3b54fb9266d6747cbbaf6ec9', 'message': 'WIP: Add PrepResizeAtSourceTask\n\nTODO: sort out if we need new MigrationContext fields\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 16, 'created': '2019-02-07 21:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50485515491f5ab6b47be021f7b106ac25ade496', 'message': 'WIP: Add PrepResizeAtSourceTask\n\nTODO: sort out if we need new MigrationContext fields\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 17, 'created': '2019-02-11 19:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/196d5ddc8b1241a8c1fd542501b47bcf9e9cbe04', 'message': 'WIP: Add PrepResizeAtSourceTask\n\nTODO: sort out if we need new MigrationContext fields\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 18, 'created': '2019-02-12 18:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/793371f26c5cee9222681ca75860afea58c801b5', 'message': 'WIP: Add PrepResizeAtSourceTask\n\nTODO: sort out if we need new MigrationContext fields\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 19, 'created': '2019-02-14 18:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e068404fbea540f155ff97e551d658935ebebce', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 20, 'created': '2019-02-18 19:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33707b5a08d7d8f9a4e43dde564db313b2d1af4f', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 21, 'created': '2019-02-19 23:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/36ad8758a67487cb764c7e11dc18afca27fb6901', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 22, 'created': '2019-02-26 22:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a0370c6e00643a677b7c0b617cffb0c4e4df338', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 23, 'created': '2019-03-07 22:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3bb9a185ec17b82d70347842427f5bee9326a342', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 24, 'created': '2019-03-14 20:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c35a2ead15a0034dc7e61aaefe1a50794abe74b2', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 25, 'created': '2019-03-15 11:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f4a31cf754fb4e2bd8b34060bc510b17cb1b9fe', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 26, 'created': '2019-04-01 22:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1804d214ac8a6fe5fdf64aebb6f354d382f49996', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 27, 'created': '2019-04-03 21:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f5b6d952c029715fd283cc277c4ed52e937007e', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 28, 'created': '2019-04-06 01:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62be8c91af2949f5e3d2392140d402a1e31ecf8a', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 29, 'created': '2019-04-08 20:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/caa20307e11d1d95cc4196d35a3214c9a7a06917', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 30, 'created': '2019-04-11 19:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef54cc2263474bd32195824f5da9260426cd7cca', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 31, 'created': '2019-04-17 22:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/732d26a35a52d520f2e7cc46360c921efdfb4b81', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 32, 'created': '2019-04-19 01:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ff1d2dbf50184aa563e07b5ecfbe2499b669329', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 33, 'created': '2019-04-20 22:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7562bc325dd1bfcb3a57bf45179919f1ba631c5a', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 34, 'created': '2019-04-26 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ccba5f02b452cacb084ea92577b8f916b9b10b2', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 35, 'created': '2019-04-30 20:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f37fe35b876c8ea03650aa0694113a6ac9f5e3d4', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 36, 'created': '2019-05-01 15:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc5b62682b0db695efc1f6c7f138452ee39131d3', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 37, 'created': '2019-05-02 03:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cab74599c1f16ea55b1599a60037101f4b0377d1', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 38, 'created': '2019-05-09 22:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da3abfb1a215b3a7c247114478c82f2f76452d5f', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 39, 'created': '2019-05-13 19:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8178ee3c155e18bedd954b90b11ad72529c76c3', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 40, 'created': '2019-05-16 02:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5807b6b53cad23e1501846e84c3166c2a301cb93', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 41, 'created': '2019-05-22 14:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/281793d3ae5b5f3165a18c214afb7ca3636b25bc', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 42, 'created': '2019-05-28 23:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a69999ae04b505f1e9ebdc2402fb5fa362dce2d', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 43, 'created': '2019-05-29 21:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e609c48048c4daabd024903b7db74e7135c505d3', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 44, 'created': '2019-06-10 21:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aaa6f719aa6786ed8932f15e2bdf18f80c5cc88a', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 45, 'created': '2019-06-12 21:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ae21767cb0df0874249d42572d3d3e60042ecf4', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 46, 'created': '2019-06-18 21:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/272718e5cb106c9cb74709e64f20d3b3b5e091f4', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 47, 'created': '2019-06-24 19:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5ea2220cca585fb04d14ed5afd98d7ccae7e698', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 48, 'created': '2019-06-27 16:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b66bdac47c77c03b1e6378dc154e86e7938e2ba', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 49, 'created': '2019-06-28 00:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c3769a0ea8c416d93e317c5d63d5f03515e3252', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 50, 'created': '2019-07-04 01:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/997e8bb21486820ecec3562ea81edad696c83ba8', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 51, 'created': '2019-07-10 01:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2df69a4b1a04e1b7e13def518852735c64beb43c', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 52, 'created': '2019-07-10 19:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eab698baa3d7fcf11cdb436a5f6874a2e252f99b', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 53, 'created': '2019-07-26 23:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ccfd1a69b32c3ea1d1f2e6cbb398dcd32b7c15d', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 54, 'created': '2019-08-07 22:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf5bd49291dd5946135f0e9ca662989553f98430', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 55, 'created': '2019-08-14 21:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6358f0b05a4a89b91aa05708ec95d1baa4c2845d', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 56, 'created': '2019-08-27 19:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba5628bbd626d8b399b16918cfc64553716e4270', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 57, 'created': '2019-09-04 18:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/481b491972edd692266e69737049c2335ad51901', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 58, 'created': '2019-09-21 23:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c6316dcad65de9c40f565329f45202e4e8b4a551', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 59, 'created': '2019-10-03 21:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ca5194ed62fcdfe60ba10caf631e59b6293899f', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 60, 'created': '2019-10-08 15:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32732c2471cdc62350c2797d927bedbfdb92ce2e', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 61, 'created': '2019-10-14 17:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0437716b723fff0b3a39de1893d8d593af8bfed5', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 62, 'created': '2019-10-14 18:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb82a81e502efecb17a34b4d401783879b897b5e', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}, {'number': 63, 'created': '2019-10-16 01:05:12.000000000', 'files': ['nova/tests/unit/conductor/tasks/test_cross_cell_migrate.py', 'nova/conductor/tasks/cross_cell_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/242557333a4a657ba0bc8f5aa0c934820ef26342', 'message': 'Add PrepResizeAtSourceTask\n\nThis change adds a new conductor sub-task which will make a\nsynchronous RPC call (using long_rpc_timeout) to the new method\n""prep_snapshot_based_resize_at_source"" on the source compute.\n\nIf the instance is not volume-backed, the sub-task will create\nan image and pass the image ID to the compute method to upload\nthe snapshot data.\n\nIf the migration fails at this point, any snapshot image created should\nbe deleted. Recovering the guest on the source host should be as simple\nas hard rebooting the server (which is allowed with servers in ERROR\nstatus).\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b\n'}]",30,627891,242557333a4a657ba0bc8f5aa0c934820ef26342,618,20,63,6873,,,0,"Add PrepResizeAtSourceTask

This change adds a new conductor sub-task which will make a
synchronous RPC call (using long_rpc_timeout) to the new method
""prep_snapshot_based_resize_at_source"" on the source compute.

If the instance is not volume-backed, the sub-task will create
an image and pass the image ID to the compute method to upload
the snapshot data.

If the migration fails at this point, any snapshot image created should
be deleted. Recovering the guest on the source host should be as simple
as hard rebooting the server (which is allowed with servers in ERROR
status).

Part of blueprint cross-cell-resize

Change-Id: I5bfcac018c1d1196d4efcb321213eb5a1d4c7a6b
",git fetch https://review.opendev.org/openstack/nova refs/changes/91/627891/12 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/service.py', 'nova/compute/rpcapi.py', 'nova/conductor/tasks/cross_cell_migrate.py']",3,04830a5170240e57105b4a344f74dd47f18868a7,bp/cross-cell-resize,"from oslo_utils import excutils from nova.compute import task_states from nova.compute import utils as compute_utils LOG.debug('Verifying selected host %s for cross-cell resize.', destination, instance=self.instance)class SnapshotTask(base.TaskBase): """"""Task to snapshot an instance in the source cell."""""" def __init__(self, context, instance, compute_rpcapi, image_api): super(SnapshotTask, self).__init__(context, instance) self.compute_rpcapi = compute_rpcapi self.image_api = image_api self._image_id = None def _execute(self): """"""Mimics the compute API snapshot() method :returns: The snapshot image metadata """""" LOG.debug('Creating snapshot of instance.', instance=self.instance) # Create an empty image. name = '%s-resize-temp' % self.instance.display_name # TODO(mriedem): If an admin is resizing the server to move it to # another cell, will the user be able to confirm/revert based on the # image ownership, i.e. bug 1675791? image_meta = compute_utils.create_image( self.context, self.instance, name, 'snapshot', self.image_api) self._image_id = image_meta['id'] # The compute service expects a certain task state. self.instance.task_state = task_states.IMAGE_SNAPSHOT_PENDING self.instance.save(expected_task_state=[task_states.RESIZE_PREP]) # Asynchronously call the compute service to snapshot the guest and # upload the image data. self.compute_rpcapi.snapshot_instance(self.context, self.instance, self._image_id, do_cast=False) return self._image_id def rollback(self): if self._image_id is None: return # Delete the image if it still exists. with excutils.save_and_reraise_exception(): LOG.debug(""Cleaning up image %s"", self._image_id, exc_info=True, instance=self.instance) try: self.image_api.delete(self.context, self._image_id) except exception.ImageNotFound: # Since we're trying to cleanup an image, we don't care if # if it's already gone. pass except Exception: LOG.exception(""Error while trying to clean up image %s"", self._image_id, instance=self.instance) class PowerOffTask(base.TaskBase): """"""Task to power off the instance in the source cell."""""" def __init__(self, context, instance, compute_rpcapi): super(PowerOffTask, self).__init__(context, instance) self.compute_rpcapi = compute_rpcapi def _execute(self): """"""Mimic the compute API stop_instance() method."""""" LOG.debug('Stopping instance.', instance=self.instance) self.instance.task_state = task_states.POWERING_OFF # If the instance was snapshot, the task_state will be None, otherwise # it should be resize_prep. self.instance.save(expected_task_state=[None, task_states.RESIZE_PREP]) self.compute_rpcapi.stop_instance( self.context, self.instance, do_cast=False) def rollback(self): # There is nothing to do here really. The task which called this one # is responsible for fixing the power state. pass self._snapshot_id = None # ID of snapshot for image-backed instance. def _snapshot_instance(self): """"""Snapshots the instance and returns the snapshot image ID."""""" snapshot_task = SnapshotTask( self.context, self.instance, self.compute_rpcapi, self.image_api) return snapshot_task.execute() # If image-backed, snapshot the server from source host and store it # in the migration_context for spawn. # TODO(mriedem): Should we do this in PrepResizeTask? Re-using # compute_rpcapi.snapshot_instance() would be nice but it sets the # task_state=None and sends different notifications from a normal # resize (but do those matter?). if not self.request_spec.is_bfv: self._snapshot_id = self._snapshot_instance() LOG.info('Created (temporary) snapshot image: %s', self._snapshot_id, instance=self.instance) # Since we are going to leave the guest on the source host during # the resize, we need to stop it first so we don't have the guest # running in two locations. # TODO(mriedem): Should we do this in PrepResizeTask? Re-using # compute_rpcapi.stop_instance() would be nice but it sets the # task_state=None and sends different notifications from a normal # resize (but do those matter?). power_off_task = PowerOffTask( self.context, self.instance, self.compute_rpcapi) power_off_task.execute() # migration status to ""error"", delete snapshot image, power on the # instance if it was ACTIVE before the resize, etc."," LOG.info('Verifying selected host %s for cross-cell resize.', destination, instance=self.instance) # TODO(mriedem): If image-backed, snapshot the server from source host # and store it in the migration_context for spawn. Should we do this # in PrepResizeTask? Re-using compute_rpcapi.snapshot_instance() would # be nice but it sets the task_state=None and sends different # notifications from a normal resize (but do those matter?). # TODO(mriedem): Stop the server on the source host. # migration status to ""error"", etc.",130,16
openstack%2Fkolla-ansible~stable%2Fstein~Ic1118760d9192cc15e1ebf37fb8adf3440f18a78,openstack/kolla-ansible,stable/stein,Ic1118760d9192cc15e1ebf37fb8adf3440f18a78,CI: Increase timeout for upgrade jobs by 30 minutes,MERGED,2019-10-19 17:44:14.000000000,2019-10-21 11:23:44.000000000,2019-10-21 11:21:10.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-10-19 17:44:14.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dde4c3a71c8e9eb62e6fc7fa4695677a026f7b46', 'message': 'CI: Increase timeout for upgrade jobs by 30 minutes\n\nUpgrade jobs like to timeout in the 2-hour window when they must\nbuild their images.\nThis increase is already applied in ceph jobs.\n\nChange-Id: Ic1118760d9192cc15e1ebf37fb8adf3440f18a78\n(cherry picked from commit f69a8a9bf4f86f4ad24515e6fe82ecdc59616271)\n'}]",0,689632,dde4c3a71c8e9eb62e6fc7fa4695677a026f7b46,8,3,1,30491,,,0,"CI: Increase timeout for upgrade jobs by 30 minutes

Upgrade jobs like to timeout in the 2-hour window when they must
build their images.
This increase is already applied in ceph jobs.

Change-Id: Ic1118760d9192cc15e1ebf37fb8adf3440f18a78
(cherry picked from commit f69a8a9bf4f86f4ad24515e6fe82ecdc59616271)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/32/689632/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,dde4c3a71c8e9eb62e6fc7fa4695677a026f7b46,ci-upgrade-timeouts-stable/stein, timeout: 9000 timeout: 9000,,2,0
openstack%2Fnova~master~I1887097ae38014dd19fb0ce333d7f223ad3d2130,openstack/nova,master,I1887097ae38014dd19fb0ce333d7f223ad3d2130,Add prep_snapshot_based_resize_at_source compute method,MERGED,2019-02-04 23:33:10.000000000,2019-10-21 11:23:43.000000000,2019-10-21 11:19:02.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-02-04 23:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cd6db6cd510e542f53b3db2562753c670e25f3c', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 2, 'created': '2019-02-05 17:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f10b2856121e4d97edb8cbaced552b7a4ad0c57b', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 3, 'created': '2019-02-05 21:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f937eb9778cb9c4550aca54e9d1fb33039aaccd8', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 4, 'created': '2019-02-06 00:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07d989bd600484f6bc925d0f3a36da4ff8302742', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 5, 'created': '2019-02-07 21:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/81abc53a75266bb12fd0995d5e2d383e7d9cb940', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 6, 'created': '2019-02-11 19:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ae6e0fa85ece20fb7a5e2a28f7458e664caf157', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 7, 'created': '2019-02-12 18:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bec21ac69244600896f8286047fc1154f2d0526d', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 8, 'created': '2019-02-14 18:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a90e45427c26c7617390fb019db4caee0d461e9b', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 9, 'created': '2019-02-18 19:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0bbf1e43b6c47282f9b0e4445767a57074635092', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 10, 'created': '2019-02-19 23:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ace8f6940087dda4e9e20d4cd87bc781057ab15b', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 11, 'created': '2019-02-26 22:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c8fb72b978c35397a1a4529e666c0fcb20b837ae', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 12, 'created': '2019-03-07 22:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91df4e829c4aefe09fba89005bacd033d4ead701', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 13, 'created': '2019-03-14 20:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfcd1f27d9ca17ea68c3c7c8187ddce239df7ea1', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 14, 'created': '2019-03-15 11:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/06f9bfbd8f028962bec8aaf031042ff2f22d4d71', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 15, 'created': '2019-04-01 22:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/038207643879b574a745eb2977d35b31cd9eabf6', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 16, 'created': '2019-04-03 21:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b89262d3a581461799c7a4fd1b5364c24a91dce', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 17, 'created': '2019-04-06 01:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14753b17629b2b69ba419367d990f32bc062c7fc', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 18, 'created': '2019-04-08 20:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79a652a66c56bff074fbd1823f3edc373336bb0a', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 19, 'created': '2019-04-11 19:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c5516193a9dbec4b39b643038bc19d64ff904f9', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 20, 'created': '2019-04-17 22:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/178a1cbb982003090b837a5ea805e9082425c21b', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 21, 'created': '2019-04-19 01:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8bc0803be4b5f57683c794929324b3789d32425e', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 22, 'created': '2019-04-20 22:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9c89a097b900967361ee9ad2a5d5b35cd454e89', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 23, 'created': '2019-04-26 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d2b9a6c068f54a066fe7a26bb21009442b7386d4', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 24, 'created': '2019-04-30 20:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47d922acbf51da4e055405ff4fe9562e5e838e1a', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 25, 'created': '2019-05-01 15:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83d9d4a675ae813078b06ec8c3c361a331e00687', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 26, 'created': '2019-05-02 03:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1fca900df966f7377da22ea6d07bec33c62733dd', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 27, 'created': '2019-05-09 22:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ddff9faae3dae946978ef833bef5d35928d63f8', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 28, 'created': '2019-05-13 19:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47d477f2fcd38880297a7b66d247841bc4f3dc77', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 29, 'created': '2019-05-16 02:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0775237daa99b4938d52075d7465ee0d5e72d65e', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 30, 'created': '2019-05-22 14:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35060b50d4537d4587e66d794e86abdfa40e9371', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 31, 'created': '2019-05-28 23:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/400a61117e36aa3c290f1cd3e431638d87a2a08e', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 32, 'created': '2019-05-29 21:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/592b1f29c516d8ca71e6deddfc954060f4540b1d', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 33, 'created': '2019-06-10 21:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2c7a9cca2c6b2747694337ca26147faffc031dd', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 34, 'created': '2019-06-12 21:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b714934eea110e4da22901161d7fc112b8fee5f5', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 35, 'created': '2019-06-18 21:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54cea8f367594c13d6669ebecc99c5f05e356978', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 36, 'created': '2019-06-24 19:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/953101e2b07c95c81d52cd47487489a2a349149a', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 37, 'created': '2019-06-27 16:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7413cb830e0a40040a9a8e71b1751ee5693e83a6', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 38, 'created': '2019-06-28 00:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9c417514dd58ab33686fde9d715825f8f8961e9', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 39, 'created': '2019-07-04 01:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96b4e9954a7ab3db159b94fcd2c0f696fe43f0b6', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 40, 'created': '2019-07-10 01:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55cdccf72e1c5fd82d138d91333e19b9ce00d248', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 41, 'created': '2019-07-10 19:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8245af79680d14130ea51e5191c83cdec0bdb37f', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 42, 'created': '2019-07-26 23:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2d5a30601492d69cb33f1466498a11dbfcad06b', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 43, 'created': '2019-08-07 22:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3d839c05243aec90b49ea45276392e6769a92ef', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 44, 'created': '2019-08-14 21:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3939cd979dac86ebb3d16a427dfb6fb6cb3c5764', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 45, 'created': '2019-08-27 19:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/612063d1f1e65add34aa90f05dbc043ec797a97b', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 46, 'created': '2019-09-04 18:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05eee6fdb04af601a56cc077d0073d1fc6830aec', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 47, 'created': '2019-09-21 23:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b4446361d14751d077c692459c14d1fc1896426', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 48, 'created': '2019-10-03 21:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15b31f2b6d8644755aef6b2cbf2bb347a8522e5a', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 49, 'created': '2019-10-08 15:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15f1badec2e2554610713c53ea9898c1fea3587b', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 50, 'created': '2019-10-14 17:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df76e9d569d46edb31b6e8cd3ffe6653dc70ec0b', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 51, 'created': '2019-10-14 18:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa487daf093a8b80a6af9aa31957c5c09de5df03', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}, {'number': 52, 'created': '2019-10-16 01:05:12.000000000', 'files': ['nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/objects/service.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b4fb248ad21c99b54c5d44eae784c30e9a565957', 'message': 'Add prep_snapshot_based_resize_at_source compute method\n\nThis adds a new compute service method prep_snapshot_based_resize_at_source\nwhich will be synchronously called over RPC from (super)conductor to the\nsource host during a cross-cell resize which will:\n\n* Power off the instance\n* Upload snapshot data if the instance is not volume-backed\n* Delete the old BDM volume attachment records\n* Destroy the guest on the hypervisor but retain disks in the\n  case of a later fault or revert\n* Activate the dest host port bindings\n\nThink of this as a hybrid of how shelve_instance and resize_instance\nwork, with a lot of the flow matching what the migrate_disk_and_power_off\ncompute driver method does except for transferring disks to the dest host.\n\nAlso note that resources are not freed up from the ResourceTracker on\nthe source host at this point, nor are the instance.host/node values\nnulled out since we are keeping a ""placehoder"" on the source in case\nsomething fails later or the user reverts the resize.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130\n'}]",32,634832,b4fb248ad21c99b54c5d44eae784c30e9a565957,567,18,52,6873,,,0,"Add prep_snapshot_based_resize_at_source compute method

This adds a new compute service method prep_snapshot_based_resize_at_source
which will be synchronously called over RPC from (super)conductor to the
source host during a cross-cell resize which will:

* Power off the instance
* Upload snapshot data if the instance is not volume-backed
* Delete the old BDM volume attachment records
* Destroy the guest on the hypervisor but retain disks in the
  case of a later fault or revert
* Activate the dest host port bindings

Think of this as a hybrid of how shelve_instance and resize_instance
work, with a lot of the flow matching what the migrate_disk_and_power_off
compute driver method does except for transferring disks to the dest host.

Also note that resources are not freed up from the ResourceTracker on
the source host at this point, nor are the instance.host/node values
nulled out since we are keeping a ""placehoder"" on the source in case
something fails later or the user reverts the resize.

Part of blueprint cross-cell-resize

Change-Id: I1887097ae38014dd19fb0ce333d7f223ad3d2130
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/634832/52 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_rpcapi.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/objects/service.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py']",5,7cd6db6cd510e542f53b3db2562753c670e25f3c,bp/cross-cell-resize," * 5.3 - Add prep_snapshot_based_resize_at_source() def prep_snapshot_based_resize_at_source( self, ctxt, instance, migration, snapshot_id=None): """"""Prepares the instance at the source host for cross-cell resize Performs actions like powering off the guest, upload snapshot data if the instance is not volume-backed, disconnecting volumes and unplugging VIFs. :param ctxt: user auth request context targeted at source cell :param instance: nova.objects.Instance; the instance being resized. The expected instance.task_state is ""resize_migrating"" when calling this method, and the expected task_state upon successful completion is ""resize_migrated"". :param migration: nova.objects.Migration object for the operation. The expected migration.status is ""pre-migrating"" when calling this method and the expected status upon successful completion is ""post-migrating"". :param snapshot_id: ID of the image snapshot to upload if not a volume-backed instance :raises: nova.exception.InstancePowerOffFailure if stopping the instance fails :raises: nova.exception.MigrationError if the source compute is too old to perform the operation :raises: oslo_messaging.exceptions.MessagingTimeout if the RPC call times out """""" version = '5.3' client = self.router.client(ctxt) if not client.can_send_version(version): raise exception.MigrationError(reason=_('Compute too old')) cctxt = client.prepare(server=_compute_host(None, instance), version=version, call_monitor_timeout=CONF.rpc_response_timeout, timeout=CONF.long_rpc_timeout) return cctxt.call( ctxt, 'prep_snapshot_based_resize_at_source', instance=instance, migration=migration, snapshot_id=snapshot_id) ",,414,2
openstack%2Fnova~master~I66d8f06f19c5c631e33208580428aa843abb38d2,openstack/nova,master,I66d8f06f19c5c631e33208580428aa843abb38d2,Add PrepResizeAtDestTask,MERGED,2018-12-31 22:43:20.000000000,2019-10-21 11:22:30.000000000,2019-10-21 11:18:56.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2018-12-31 22:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/737e7e1fb8fb513ee7089724284f788a73fae140', 'message': 'WIP: Add initial cross-cell resize tasks\n\nThis adds the initial task for orchestrating a\ncross-cell resize in conductor along with the\nfirst step of that task which is to prep/verify the\ntarget host(s) for the resize in the target cell,\nwhich is run from a sub-task. The PrepResizeTask\nsub-task calls a new compute service method to ensure\nport bindings and volume attachments will work on\nthe target host and resources can be claimed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 2, 'created': '2019-01-01 17:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a78c8419cc58cd1c67aa16fff2155c3598b071a4', 'message': 'WIP: Add initial cross-cell resize tasks\n\nThis adds the initial task for orchestrating a\ncross-cell resize in conductor along with the\nfirst step of that task which is to prep/verify the\ntarget host(s) for the resize in the target cell,\nwhich is run from a sub-task. The PrepResizeTask\nsub-task calls a new compute service method to ensure\nport bindings and volume attachments will work on\nthe target host and resources can be claimed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 3, 'created': '2019-01-16 03:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88b345e37c17d348ea8a5e4c486e814a5c34703c', 'message': 'WIP: Add initial cross-cell resize tasks\n\nThis adds the initial task for orchestrating a\ncross-cell resize in conductor along with the\nfirst step of that task which is to prep/verify the\ntarget host(s) for the resize in the target cell,\nwhich is run from a sub-task. The PrepResizeTask\nsub-task calls a new compute service method to ensure\nport bindings and volume attachments will work on\nthe target host and resources can be claimed.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 4, 'created': '2019-01-17 17:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9cf7a036c6137985e8c47e6b7053718b87baee22', 'message': 'WIP: Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to a new method\n""prep_snapshot_based_resize_at_dest"" on the dest compute\nservice which will:\n\n* Call ResourceTracker.resize_claim() on the potential dest\n  host in the target cell to claim resources prior to starting\n  the resize. Note that VCPU, MEMORY_MB and DISK_GB resources\n  will actually be claimed (allocated) via placement during\n  scheduling, but we need to make the resize_claim() for NUMA/PCI\n  resources which are not yet modeled in placement, and in order\n  to create the MigrationContext record.\n\n* Verify the selected target host to ensure ports and volumes will\n  work. This validation will include creating port bindings on the\n  target host and ensuring volume attachments can be connected to\n  the host.\n\nIf either of these steps fail, the target host will be rejected.\nAt that point, the conductor task will loop through alternate hosts\nlooking for one that works.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the target\ncell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 5, 'created': '2019-01-21 21:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/266d3b5cfe6369ca2e21bea9b4d14a3c7bb0ef05', 'message': 'WIP: Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to a new method\n""prep_snapshot_based_resize_at_dest"" on the dest compute\nservice which will:\n\n* Call ResourceTracker.resize_claim() on the potential dest\n  host in the target cell to claim resources prior to starting\n  the resize. Note that VCPU, MEMORY_MB and DISK_GB resources\n  will actually be claimed (allocated) via placement during\n  scheduling, but we need to make the resize_claim() for NUMA/PCI\n  resources which are not yet modeled in placement, and in order\n  to create the MigrationContext record.\n\n* Verify the selected target host to ensure ports and volumes will\n  work. This validation will include creating port bindings on the\n  target host and ensuring volume attachments can be connected to\n  the host.\n\nIf either of these steps fail, the target host will be rejected.\nAt that point, the conductor task will loop through alternate hosts\nlooking for one that works.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the target\ncell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 6, 'created': '2019-01-25 19:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89dd1323e4e155b50e4e64f0facf81e8b86e8a96', 'message': 'WIP: Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to a new method\n""prep_snapshot_based_resize_at_dest"" on the dest compute\nservice which will:\n\n* Call ResourceTracker.resize_claim() on the potential dest\n  host in the target cell to claim resources prior to starting\n  the resize. Note that VCPU, MEMORY_MB and DISK_GB resources\n  will actually be claimed (allocated) via placement during\n  scheduling, but we need to make the resize_claim() for NUMA/PCI\n  resources which are not yet modeled in placement, and in order\n  to create the MigrationContext record.\n\n* Verify the selected target host to ensure ports and volumes will\n  work. This validation will include creating port bindings on the\n  target host and ensuring volume attachments can be connected to\n  the host.\n\nIf either of these steps fail, the target host will be rejected.\nAt that point, the conductor task will loop through alternate hosts\nlooking for one that works.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the target\ncell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 7, 'created': '2019-01-25 22:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b42a9d88ddc5d165ac8202e288c5054592bdacf4', 'message': 'WIP: Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nCode is also added to check neutron and cinder APIs have the\nsupport we need before we get started.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 8, 'created': '2019-01-26 00:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1e014d65c51e5eadc3dddd06623f057a361d039', 'message': 'WIP: Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nCode is also added to check neutron and cinder APIs have the\nsupport we need before we get started.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 9, 'created': '2019-01-30 00:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/779989d2e267dec1cc57541b5cdbf3c84fc67be1', 'message': 'WIP: Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nCode is also added to check neutron and cinder APIs have the\nsupport we need before we get started.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 10, 'created': '2019-01-31 18:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2c66b43c9a82461d08ada999c2894a70be06ec02', 'message': 'WIP: Add PrepResizeAtDestTask\n\nTODO: tests and rollback handling\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nCode is also added to check neutron and cinder APIs have the\nsupport we need before we get started.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 11, 'created': '2019-02-01 23:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3180fe003cbbf1639635865e77517331f5e3c734', 'message': 'WIP: Add PrepResizeAtDestTask\n\nTODO: try alternate hosts and save MigrationContext in source cell\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nCode is also added to check neutron and cinder APIs have the\nsupport we need before we get started.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 12, 'created': '2019-02-05 17:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/033fe70d783dd2df74a0e53d310dc399c3aef5ef', 'message': 'WIP: Add PrepResizeAtDestTask\n\nTODO: try alternate hosts and save MigrationContext in source cell\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nCode is also added to check neutron and cinder APIs have the\nsupport we need before we get started.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 13, 'created': '2019-02-05 21:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0de8349ffbce0657ddcb9437e4e7540a4e1463df', 'message': 'WIP: Add PrepResizeAtDestTask\n\nTODO: try alternate hosts\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nCode is also added to check neutron and cinder APIs have the\nsupport we need before we get started.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 14, 'created': '2019-02-06 00:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/445b1e2e48efdda18d09f73e5b7a73fd0416f900', 'message': 'WIP: Add PrepResizeAtDestTask\n\nTODO: try alternate hosts\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nCode is also added to check neutron and cinder APIs have the\nsupport we need before we get started.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 15, 'created': '2019-02-07 21:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/548b9001216dfd7bed1e092b92009c6076ffa4ca', 'message': 'WIP: Add PrepResizeAtDestTask\n\nTODO: try alternate hosts\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nCode is also added to check neutron and cinder APIs have the\nsupport we need before we get started.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 16, 'created': '2019-02-11 19:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a9d73b1340359f2f53529b526483574f16c293e', 'message': 'WIP: Add PrepResizeAtDestTask\n\nTODO: try alternate hosts\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nCode is also added to check neutron and cinder APIs have the\nsupport we need before we get started.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 17, 'created': '2019-02-12 18:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1586941115ca9a35c6cafe3695e488d14c0d34a0', 'message': 'WIP: Add PrepResizeAtDestTask\n\nTODO: try alternate hosts\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nCode is also added to check neutron and cinder APIs have the\nsupport we need before we get started.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 18, 'created': '2019-02-14 18:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f08443dbd49c1fe29c3845cf686e78073d1831a5', 'message': 'WIP: Add PrepResizeAtDestTask\n\nTODO: try alternate hosts\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nCode is also added to check neutron and cinder APIs have the\nsupport we need before we get started.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 19, 'created': '2019-02-18 19:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26d8192da91c8f6718aae97d3e75351236a048fc', 'message': 'WIP: Add PrepResizeAtDestTask\n\nTODO: try alternate hosts\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 20, 'created': '2019-02-19 23:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f658a1cbab14b8810eaf38985cb13ccceaa6bc1', 'message': 'WIP: Add PrepResizeAtDestTask\n\nTODO: try alternate hosts\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 21, 'created': '2019-02-26 22:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11a987e7bb092953af54996fcb521a5729b1cf77', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 22, 'created': '2019-03-07 22:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/73e1c2e79d63a8baa4703277878439408184f891', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 23, 'created': '2019-03-14 20:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21f9d8a307309bda319593a5ff430996e165f156', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 24, 'created': '2019-03-15 11:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/167ec24d3d89d909bf8c962bc54fa1e3b0731ad3', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 25, 'created': '2019-04-01 22:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b71a86b6e2805790502df60e27c10346f980b7e', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 26, 'created': '2019-04-03 21:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ff6749cf82ef5af4039426c499f456615c56f70', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 27, 'created': '2019-04-06 01:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf93fbe4627621636876fe4f9a338a5380249700', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 28, 'created': '2019-04-08 20:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0cd12e693586f4a7bf2a4510d1ebd120ab9aca1', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 29, 'created': '2019-04-11 19:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5d8f2a4e3cbe2af7e14894e9a40254fb88f40ff9', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 30, 'created': '2019-04-17 22:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13a23dfe7e0a1dc810d8cb82ac53d3f4793de70f', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 31, 'created': '2019-04-19 01:00:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8637afe44f5458dafd6c139fee5f24a9a28e562b', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 32, 'created': '2019-04-20 22:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1dd29ce6968be2cf5da900a44b4a8cc2ca5ceb82', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 33, 'created': '2019-04-26 20:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58457b50dcbd4009473a6b41d72c03bda36d7492', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 34, 'created': '2019-04-30 20:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1bb310d6b296f008a0a7e7ae1ba604a305b31eb9', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 35, 'created': '2019-05-01 15:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6a657995aa74126836eb6edfa51e715ba44c26e', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 36, 'created': '2019-05-02 03:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/996cd0cc919b95bfead0dedded5aa3158b9ad0aa', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 37, 'created': '2019-05-09 22:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a3e3432496167291440b5eacfbdad3ad561501c', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 38, 'created': '2019-05-13 19:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1240e70f16ce082d6e9f5e9331e25b25dcbb0339', 'message': 'WIP: Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host and validate ports/volumes work properly.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context from the target DB is copied to\nthe source DB. This is necessary for the API to route\nnetwork-vif-plugged events later when spawning the guest in the\ntarget cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 39, 'created': '2019-05-16 02:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3162e5a087e3a8b70ef28fc9c825d89a4cb96c7d', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host. The task also creates (inactive) port\nbindings and volume attachments to be used on the target host.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context is returned from the task so\nit can be copied from the target DB to the source DB. This is\nnecessary for the API to route network-vif-plugged events later\nwhen spawning the guest in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 40, 'created': '2019-05-28 23:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b76b976ea27fb11f328d048273040cc6f0b9a33', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host. The task also creates (inactive) port\nbindings and volume attachments to be used on the target host.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context is returned from the task so\nit can be copied from the target DB to the source DB. This is\nnecessary for the API to route network-vif-plugged events later\nwhen spawning the guest in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 41, 'created': '2019-05-29 21:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa4e76f8afff84a11f57f50a36d376ccaffd9ee3', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host. The task also creates (inactive) port\nbindings and volume attachments to be used on the target host.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context is returned from the task so\nit can be copied from the target DB to the source DB. This is\nnecessary for the API to route network-vif-plugged events later\nwhen spawning the guest in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 42, 'created': '2019-06-10 21:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc7ae8df199307c1f8b27bcc47ccd02d1a7fbb29', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host. The task also creates (inactive) port\nbindings and volume attachments to be used on the target host.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context is returned from the task so\nit can be copied from the target DB to the source DB. This is\nnecessary for the API to route network-vif-plugged events later\nwhen spawning the guest in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 43, 'created': '2019-06-12 21:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99a230421a9e0f71783a0eb8cc4686296f219314', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host. The task also creates (inactive) port\nbindings and volume attachments to be used on the target host.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context is returned from the task so\nit can be copied from the target DB to the source DB. This is\nnecessary for the API to route network-vif-plugged events later\nwhen spawning the guest in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 44, 'created': '2019-06-18 21:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd3c9ffb6bdf13f26194954a9490d51648de3511', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host. The task also creates (inactive) port\nbindings and volume attachments to be used on the target host.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context is returned from the task so\nit can be copied from the target DB to the source DB. This is\nnecessary for the API to route network-vif-plugged events later\nwhen spawning the guest in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 45, 'created': '2019-06-24 19:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20f66162b62fa3cfb2e9188c5f0eb3059b0a8dc3', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host. The task also creates (inactive) port\nbindings and volume attachments to be used on the target host.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context is returned from the task so\nit can be copied from the target DB to the source DB. This is\nnecessary for the API to route network-vif-plugged events later\nwhen spawning the guest in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 46, 'created': '2019-06-27 16:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7237a89377dfe9d737b8b12eec23b06fa6613dee', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host. The task also creates (inactive) port\nbindings and volume attachments to be used on the target host.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context is returned from the task so\nit can be copied from the target DB to the source DB. This is\nnecessary for the API to route network-vif-plugged events later\nwhen spawning the guest in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 47, 'created': '2019-06-28 00:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14a227795de914242cd70614afbe1ee1b4456db4', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host. The task also creates (inactive) port\nbindings and volume attachments to be used on the target host.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context is returned from the task so\nit can be copied from the target DB to the source DB. This is\nnecessary for the API to route network-vif-plugged events later\nwhen spawning the guest in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 48, 'created': '2019-07-04 01:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7bd9160a1c4b4a1de71945246f07766d395deca', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host. The task also creates (inactive) port\nbindings and volume attachments to be used on the target host.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context is returned from the task so\nit can be copied from the target DB to the source DB. This is\nnecessary for the API to route network-vif-plugged events later\nwhen spawning the guest in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 49, 'created': '2019-07-10 01:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb3f6b29b908d43941bd4b005f9c36928d3c9818', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host. The task also creates (inactive) port\nbindings and volume attachments to be used on the target host.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context is returned from the task so\nit can be copied from the target DB to the source DB. This is\nnecessary for the API to route network-vif-plugged events later\nwhen spawning the guest in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 50, 'created': '2019-07-10 19:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43b6ac0c9c8b7af0db2cf87ae09ea7c9858e3303', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host. The task also creates (inactive) port\nbindings and volume attachments to be used on the target host.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context is returned from the task so\nit can be copied from the target DB to the source DB. This is\nnecessary for the API to route network-vif-plugged events later\nwhen spawning the guest in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 51, 'created': '2019-07-26 23:11:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d086797c3063ec0df8d5a1899651ebdf79822c4', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host. The task also creates (inactive) port\nbindings and volume attachments to be used on the target host.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context is returned from the task so\nit can be copied from the target DB to the source DB. This is\nnecessary for the API to route network-vif-plugged events later\nwhen spawning the guest in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 52, 'created': '2019-08-07 22:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ce67d8397970f3878a5b107922a0d380051dc3d', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host. The task also creates (inactive) port\nbindings and volume attachments to be used on the target host.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context is returned from the task so\nit can be copied from the target DB to the source DB. This is\nnecessary for the API to route network-vif-plugged events later\nwhen spawning the guest in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 53, 'created': '2019-08-14 21:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9da02c4abf9b7e9395ab6d19c862c6340f8077f', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host. The task also creates (inactive) port\nbindings and volume attachments to be used on the target host.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context is returned from the task so\nit can be copied from the target DB to the source DB. This is\nnecessary for the API to route network-vif-plugged events later\nwhen spawning the guest in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 54, 'created': '2019-08-27 19:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6104db6a6fcbc60cf38727135348ee26b96f0c3a', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host. The task also creates (inactive) port\nbindings and volume attachments to be used on the target host.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context is returned from the task so\nit can be copied from the target DB to the source DB. This is\nnecessary for the API to route network-vif-plugged events later\nwhen spawning the guest in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 55, 'created': '2019-09-04 18:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/176eeb2e35b5cc8ff0082e76a77bd6820373a2b0', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host. The task also creates (inactive) port\nbindings and volume attachments to be used on the target host.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context is returned from the task so\nit can be copied from the target DB to the source DB. This is\nnecessary for the API to route network-vif-plugged events later\nwhen spawning the guest in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 56, 'created': '2019-09-21 23:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32f120eb992ef12f64c169498d3317f0ad85c217', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host. The task also creates (inactive) port\nbindings and volume attachments to be used on the target host.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context is returned from the task so\nit can be copied from the target DB to the source DB. This is\nnecessary for the API to route network-vif-plugged events later\nwhen spawning the guest in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 57, 'created': '2019-10-03 21:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c10d913022b4e9072aab23755d1830d31b9f22f4', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host. The task also creates (inactive) port\nbindings and volume attachments to be used on the target host.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context is returned from the task so\nit can be copied from the target DB to the source DB. This is\nnecessary for the API to route network-vif-plugged events later\nwhen spawning the guest in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 58, 'created': '2019-10-08 15:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6a1173e8f598481ce4855613a1eb938dccca4c87', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host. The task also creates (inactive) port\nbindings and volume attachments to be used on the target host.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context is returned from the task so\nit can be copied from the target DB to the source DB. This is\nnecessary for the API to route network-vif-plugged events later\nwhen spawning the guest in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 59, 'created': '2019-10-14 17:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/965735ec0e3d731939a402e04c94b995cc5fc07b', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host. The task also creates (inactive) port\nbindings and volume attachments to be used on the target host.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context is returned from the task so\nit can be copied from the target DB to the source DB. This is\nnecessary for the API to route network-vif-plugged events later\nwhen spawning the guest in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 60, 'created': '2019-10-14 18:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1d2d47101de5e23874bf3699e8f2acba47a5ee5', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host. The task also creates (inactive) port\nbindings and volume attachments to be used on the target host.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context is returned from the task so\nit can be copied from the target DB to the source DB. This is\nnecessary for the API to route network-vif-plugged events later\nwhen spawning the guest in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}, {'number': 61, 'created': '2019-10-16 01:05:12.000000000', 'files': ['nova/tests/unit/conductor/tasks/test_cross_cell_migrate.py', 'nova/conductor/tasks/cross_cell_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6d118e2921f8824a23bb731ac58f7ce1c6a816b1', 'message': 'Add PrepResizeAtDestTask\n\nThis adds the sub-task to prep/verify the target host(s)\nfor the resize in the target cell. The PrepResizeAtDestTask\nsub-task will make a synchronous RPC call (using\nlong_rpc_timeout) to method prep_snapshot_based_resize_at_dest\non the dest compute service which will claim resources on\nthe target host. The task also creates (inactive) port\nbindings and volume attachments to be used on the target host.\n\nIf the prep task on the selected target host fails with a\nMigrationPreCheckError, conductor will iterate over alternate\nhosts and check them until a suitable target host is found\nor we raise MaxRetriesExceeded.\n\nThe instance.migration_context is returned from the task so\nit can be copied from the target DB to the source DB. This is\nnecessary for the API to route network-vif-plugged events later\nwhen spawning the guest in the target cell.\n\nPart of blueprint cross-cell-resize\n\nChange-Id: I66d8f06f19c5c631e33208580428aa843abb38d2\n'}]",67,627890,6d118e2921f8824a23bb731ac58f7ce1c6a816b1,651,19,61,6873,,,0,"Add PrepResizeAtDestTask

This adds the sub-task to prep/verify the target host(s)
for the resize in the target cell. The PrepResizeAtDestTask
sub-task will make a synchronous RPC call (using
long_rpc_timeout) to method prep_snapshot_based_resize_at_dest
on the dest compute service which will claim resources on
the target host. The task also creates (inactive) port
bindings and volume attachments to be used on the target host.

If the prep task on the selected target host fails with a
MigrationPreCheckError, conductor will iterate over alternate
hosts and check them until a suitable target host is found
or we raise MaxRetriesExceeded.

The instance.migration_context is returned from the task so
it can be copied from the target DB to the source DB. This is
necessary for the API to route network-vif-plugged events later
when spawning the guest in the target cell.

Part of blueprint cross-cell-resize

Change-Id: I66d8f06f19c5c631e33208580428aa843abb38d2
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/627890/19 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/conductor/tasks/cross_cell_migrate.py']",3,737e7e1fb8fb513ee7089724284f788a73fae140,bp/cross-cell-resize,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log as logging import oslo_messaging as messaging from nova.conductor.tasks import base from nova import conf from nova import exception from nova.i18n import _ from nova import image as nova_image LOG = logging.getLogger(__name__) CONF = conf.CONF class PrepResizeTask(base.TaskBase): """"""Task used to verify a given target host in a target cell. Upon successful completion, port bindings and volume attachments should be created for the target host in the target cell and resources should be claimed on the target host for the resize. """""" def __init__(self, context, instance, flavor, migration, compute_rpcapi, host_selection): """"""Construct the PrepResizeTask instance :param context: The user request auth context. This should be targeted to the source cell in which the instance is currently running. :param instance: The instance being migrated. :param flavor: The new flavor if performing resize and not just a cold migration :param migration: nova.objects.Migration record for this operation :param compute_rpcapi: instance of nova.compute.rpcapi.ComputeAPI :param host_selection: nova.objects.Selection which is a possible target host for the cross-cell resize """""" super(PrepResizeTask, self).__init__(context, instance) self.flavor = flavor self.migration = migration self.compute_rpcapi = compute_rpcapi self.host_selection = host_selection def _execute(self): """"""Performs pre-cross-cell resize checks/claims on the targeted host This ensures things like networking (ports) and storage (volumes) will continue to work on the target host in the other cell before we initiate the migration of the server. Resources are also claimed on the target host which in turn creates the MigrationContext for the instance in the database. :raises: nova.exception.MigrationPreCheckError if the pre-check validation fails for the given host selection """""" destination = self.host_selection.service_host LOG.info('Verifying selected host %s for cross-cell resize.', destination, instance=self.instance) # TODO(mriedem): Maybe conductor should create the port bindings and # volume attachments and pass them to compute to pre-check to save # time and to hold a reference to the bindings/attachments for later # cleanup if the resize fails. try: self.compute_rpcapi.prep_cross_cell_resize( self.context, self.instance, self.flavor, self.host_selection.nodename, self.migration, self.host_selection.limits, destination) except messaging.MessagingTimeout: msg = _('RPC timeout while checking if we can cross-cell migrate ' 'to host: %s') % destination raise exception.MigrationPreCheckError(reason=msg) def rollback(self): # TODO(mriedem): Cleanup any failed port bindings/volume attachments. pass class CrossCellMigrationTask(base.TaskBase): """"""Orchestrates a cross-cell cold migration (resize)."""""" # TODO(mriedem): Need to audit instance actions and notifications since # we won't be hitting the old resize flows in the compute manager. def __init__(self, context, instance, flavor, request_spec, migration, compute_rpcapi, host_selection, alternate_hosts): """"""Construct the CrossCellMigrationTask instance :param context: The user request auth context. This should be targeted to the source cell in which the instance is currently running. :param instance: The instance being migrated. :param flavor: The new flavor if performing resize and not just a cold migration :param request_spec: nova.objects.RequestSpec with scheduling details :param migration: nova.objects.Migration record for this operation :param compute_rpcapi: instance of nova.compute.rpcapi.ComputeAPI :param host_selection: nova.objects.Selection of the initial selected target host from the scheduler where the selected host is in another cell which is different from the cell in which the instance is currently running :param alternate_hosts: list of 0 or more nova.objects.Selection objects representing alternate hosts within the same target cell as ``host_selection``. """""" super(CrossCellMigrationTask, self).__init__(context, instance) self.request_spec = request_spec self.flavor = flavor self.migration = migration self.compute_rpcapi = compute_rpcapi self.host_selection = host_selection self.alternate_hosts = alternate_hosts self.image_api = nova_image.API() def _prep_resize(self, host_selection): # TODO(mriedem): Check alternates if the primary selected host fails; # note that alternates are always in the same cell as the selected host # so if the primary fails pre-checks, the alternates may also fail. We # could reschedule but the scheduler doesn't yet have an ignore_cells # capability like ignore_hosts. It might be easiest to just have # PrepResizeTask iterate the hosts looking for one that works and # return the results. verify_task = PrepResizeTask( self.context, self.instance, self.flavor, self.migration, self.compute_rpcapi, host_selection) verify_task.execute() def _execute(self): self._prep_resize(self.host_selection) # Persist that this migration is a cross-cell resize. This will be # needed in the API to confirm/revert properly. self.migration.cross_cell_move = True self.migration.save() # TODO(mriedem): Figure out how to store old/new volume attachment IDs; # is it OK to put those on the MigrationContext even though they aren't # fields on the Instance object? # TODO(mriedem): Keep track of original power state in the migration # context so we need if we need to keep the server stopped after it # is resized. # TODO(mriedem): If image-backed, snapshot the server from source host # and store it in the migration_context for spawn. Should we do this # in PrepResizeTask? Re-using compute_rpcapi.snapshot_instance() would # be nice but it sets the task_state=None and sends different # notifications from a normal resize (but do those matter?). # TODO(mriedem): Stop the server on the source host. # TODO(mriedem): Copy data to dest cell DB. # TODO(mriedem): Update instance mapping to dest cell DB. # TODO(mriedem): Spawn in target cell host: # - RT instance/move claim # - Use new flavor to spawn guest # - Wait for ACTIVE or keep powered off # - Activate target host port bindings # - Update/complete volume attachments and update BDM.attachment_id. # - Delete the temporary image like unshelve? def rollback(self): # TODO(mriedem): handle things like spawn failing in the target # cell so we need to cleanup the target cell DB (delete records), # cleanup port bindings and volume attachments on the target host, # revert the instance task_state and AZ, the instance mapping, set the # migration status to ""error"", etc. pass ",,317,1
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I78bedde30abe8945e55c55847a005be31abf01ef,openstack/puppet-openstack-integration,stable/train,I78bedde30abe8945e55c55847a005be31abf01ef,Disable Sahara integration testing for Ubuntu,MERGED,2019-10-19 12:19:53.000000000,2019-10-21 11:14:32.000000000,2019-10-21 11:14:32.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-19 12:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/00fdaa9bfc36f9bece129495cec1610fa9833e70', 'message': 'Disable Sahara integration testing for Ubuntu\n\nChange-Id: I78bedde30abe8945e55c55847a005be31abf01ef\n(cherry picked from commit 92ea7e7f1aa6c50c9ad06c69b7126f977e9bebe0)\n'}, {'number': 2, 'created': '2019-10-19 12:20:05.000000000', 'files': ['fixtures/scenario003.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a901f12cc8db5b79fb816e54142bb09224b47a9d', 'message': 'Disable Sahara integration testing for Ubuntu\n\nChange-Id: I78bedde30abe8945e55c55847a005be31abf01ef\n(cherry picked from commit 92ea7e7f1aa6c50c9ad06c69b7126f977e9bebe0)\n'}]",0,689621,a901f12cc8db5b79fb816e54142bb09224b47a9d,8,3,2,16137,,,0,"Disable Sahara integration testing for Ubuntu

Change-Id: I78bedde30abe8945e55c55847a005be31abf01ef
(cherry picked from commit 92ea7e7f1aa6c50c9ad06c69b7126f977e9bebe0)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/21/689621/2 && git format-patch -1 --stdout FETCH_HEAD,['fixtures/scenario003.pp'],1,00fdaa9bfc36f9bece129495cec1610fa9833e70,," # TODO(tobias-urdin): Ubuntu Train packages has not moved out Sahara # plugins to its own packages. if $::operatingsystem == 'Ubuntu' { $sahara_integration_enable = false } else { $sahara_integration_enable = true } $ipv6 = true $mistral_enabled = true $murano_enabled = false $trove_enabled = true $sahara_integration_enable = trueclass { '::openstack_integration::sahara': integration_enable => $sahara_integration_enable, } sahara => $sahara_integration_enable,"," $ipv6 = true $mistral_enabled = true $murano_enabled = false $trove_enabled = trueinclude ::openstack_integration::sahara sahara => true,",17,6
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I85d76a2d21de542c849d01c99c10dbf1778dc3ef,openstack/puppet-openstack-integration,stable/train,I85d76a2d21de542c849d01c99c10dbf1778dc3ef,Move Ubuntu testing to Train packages,MERGED,2019-10-17 13:09:39.000000000,2019-10-21 11:14:32.000000000,2019-10-21 11:14:31.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-17 13:09:39.000000000', 'files': ['manifests/repos.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/fbd0e1be23842b1274de4d9f79d542058d38b017', 'message': 'Move Ubuntu testing to Train packages\n\nChange-Id: I85d76a2d21de542c849d01c99c10dbf1778dc3ef\n'}]",0,689146,fbd0e1be23842b1274de4d9f79d542058d38b017,8,4,1,16137,,,0,"Move Ubuntu testing to Train packages

Change-Id: I85d76a2d21de542c849d01c99c10dbf1778dc3ef
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/46/689146/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repos.pp'],1,fbd0e1be23842b1274de4d9f79d542058d38b017,move-ubuntu-to-train," release => 'train',"," release => 'stein',",1,1
openstack%2Fkolla-ansible~master~I27fc0159c889bc2e1576fdd69b7d02a320b620f8,openstack/kolla-ansible,master,I27fc0159c889bc2e1576fdd69b7d02a320b620f8,Fix Python3 compatibility for kolla-genpwd,MERGED,2019-10-15 09:42:40.000000000,2019-10-21 11:14:29.000000000,2019-10-21 10:39:19.000000000,"[{'_account_id': 13178}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-15 09:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/51f1ef5e49a3b254ec3ca6db3cc0eb8c4d9b46da', 'message': 'Fix Python3 compatibility for kolla-genpwd\n\nThe method `Fernet.generate_key()` generates a binary string in Python 3:\n```\n>>> Fernet.generate_key()\nb\'qSMZlOK23pZUw_Uyy-ZRPUfPskMXKGCGmhG6AHCFiV8=\'\n```\n\nUnless properly written as a string to the Kolla `passwords.yml` file,\nthe Fernet key will end up in the final Barbican config like this:\n```\n[simple_crypto_plugin]\nkek = b\'qSMZlOK23pZUw_Uyy-ZRPUfPskMXKGCGmhG6AHCFiV8=\'\n```\n\nDue to the fact that the key is incorrectly written to the barbican\nconfig file (it should be written as a string), every barbican secret\nstore fails with:\n\n```\nbarbican.api.controllers   File ""/var/lib/kolla/venv/lib/python3.6/site-packages/barbican/plugin/store_crypto.py"", line 83, in store_secret\nbarbican.api.controllers     encrypting_plugin, context.project_model)\nbarbican.api.controllers   File ""/var/lib/kolla/venv/lib/python3.6/site-packages/barbican/plugin/store_crypto.py"", line 290, in _find_or_create_kek_objects\nbarbican.api.controllers     kek_meta_dto = plugin_inst.bind_kek_metadata(kek_meta_dto)\nbarbican.api.controllers   File ""/var/lib/kolla/venv/lib/python3.6/site-packages/barbican/plugin/crypto/simple_crypto.py"", line 104, in bind_kek_metadata\nbarbican.api.controllers     encryptor = fernet.Fernet(self.master_kek)\nbarbican.api.controllers   File ""/var/lib/kolla/venv/lib/python3.6/site-packages/cryptography/fernet.py"", line 38, in __init__\nbarbican.api.controllers     ""Fernet key must be 32 url-safe base64-encoded bytes.""\nbarbican.api.controllers ValueError: Fernet key must be 32 url-safe base64-encoded bytes.\n```\n\nThis commit fixes the issue described above by properly writing\nthe Fernet key as a string to the Kolla `passwords.yml` file.\n\nChange-Id: I27fc0159c889bc2e1576fdd69b7d02a320b620f8\n'}, {'number': 2, 'created': '2019-10-15 11:27:56.000000000', 'files': ['kolla_ansible/cmd/genpwd.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e3fccdfa65ba224da9de492e0ea70c35497dff73', 'message': 'Fix Python3 compatibility for kolla-genpwd\n\nThe method `Fernet.generate_key()` generates a binary string in Python 3:\n```\n>>> Fernet.generate_key()\nb\'qSMZlOK23pZUw_Uyy-ZRPUfPskMXKGCGmhG6AHCFiV8=\'\n```\n\nUnless properly written as a string to the Kolla `passwords.yml` file,\nthe Fernet key will end up in the final Barbican config like this:\n```\n[simple_crypto_plugin]\nkek = b\'qSMZlOK23pZUw_Uyy-ZRPUfPskMXKGCGmhG6AHCFiV8=\'\n```\n\nDue to the fact that the key is incorrectly written to the barbican\nconfig file (it should be written as a string), every barbican secret\nstore fails with:\n\n```\nbarbican.api.controllers   File ""/var/lib/kolla/venv/lib/python3.6/site-packages/barbican/plugin/store_crypto.py"", line 83, in store_secret\nbarbican.api.controllers     encrypting_plugin, context.project_model)\nbarbican.api.controllers   File ""/var/lib/kolla/venv/lib/python3.6/site-packages/barbican/plugin/store_crypto.py"", line 290, in _find_or_create_kek_objects\nbarbican.api.controllers     kek_meta_dto = plugin_inst.bind_kek_metadata(kek_meta_dto)\nbarbican.api.controllers   File ""/var/lib/kolla/venv/lib/python3.6/site-packages/barbican/plugin/crypto/simple_crypto.py"", line 104, in bind_kek_metadata\nbarbican.api.controllers     encryptor = fernet.Fernet(self.master_kek)\nbarbican.api.controllers   File ""/var/lib/kolla/venv/lib/python3.6/site-packages/cryptography/fernet.py"", line 38, in __init__\nbarbican.api.controllers     ""Fernet key must be 32 url-safe base64-encoded bytes.""\nbarbican.api.controllers ValueError: Fernet key must be 32 url-safe base64-encoded bytes.\n```\n\nThis commit fixes the issue described above by properly writing\nthe Fernet key as a string to the Kolla `passwords.yml` file.\n\nCloses-Bug: #1848191\nChange-Id: I27fc0159c889bc2e1576fdd69b7d02a320b620f8\n'}]",2,688663,e3fccdfa65ba224da9de492e0ea70c35497dff73,18,5,2,13178,,,0,"Fix Python3 compatibility for kolla-genpwd

The method `Fernet.generate_key()` generates a binary string in Python 3:
```
>>> Fernet.generate_key()
b'qSMZlOK23pZUw_Uyy-ZRPUfPskMXKGCGmhG6AHCFiV8='
```

Unless properly written as a string to the Kolla `passwords.yml` file,
the Fernet key will end up in the final Barbican config like this:
```
[simple_crypto_plugin]
kek = b'qSMZlOK23pZUw_Uyy-ZRPUfPskMXKGCGmhG6AHCFiV8='
```

Due to the fact that the key is incorrectly written to the barbican
config file (it should be written as a string), every barbican secret
store fails with:

```
barbican.api.controllers   File ""/var/lib/kolla/venv/lib/python3.6/site-packages/barbican/plugin/store_crypto.py"", line 83, in store_secret
barbican.api.controllers     encrypting_plugin, context.project_model)
barbican.api.controllers   File ""/var/lib/kolla/venv/lib/python3.6/site-packages/barbican/plugin/store_crypto.py"", line 290, in _find_or_create_kek_objects
barbican.api.controllers     kek_meta_dto = plugin_inst.bind_kek_metadata(kek_meta_dto)
barbican.api.controllers   File ""/var/lib/kolla/venv/lib/python3.6/site-packages/barbican/plugin/crypto/simple_crypto.py"", line 104, in bind_kek_metadata
barbican.api.controllers     encryptor = fernet.Fernet(self.master_kek)
barbican.api.controllers   File ""/var/lib/kolla/venv/lib/python3.6/site-packages/cryptography/fernet.py"", line 38, in __init__
barbican.api.controllers     ""Fernet key must be 32 url-safe base64-encoded bytes.""
barbican.api.controllers ValueError: Fernet key must be 32 url-safe base64-encoded bytes.
```

This commit fixes the issue described above by properly writing
the Fernet key as a string to the Kolla `passwords.yml` file.

Closes-Bug: #1848191
Change-Id: I27fc0159c889bc2e1576fdd69b7d02a320b620f8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/63/688663/2 && git format-patch -1 --stdout FETCH_HEAD,['kolla_ansible/cmd/genpwd.py'],1,51f1ef5e49a3b254ec3ca6db3cc0eb8c4d9b46da,bug/1848191, passwords[k] = fernet.Fernet.generate_key().decode(), passwords[k] = fernet.Fernet.generate_key(),1,1
openstack%2Fkolla-ansible~stable%2Frocky~I6a95b2bdec268b8f54dd99eeae7c30bb57b01f0d,openstack/kolla-ansible,stable/rocky,I6a95b2bdec268b8f54dd99eeae7c30bb57b01f0d,[rocky-only] Fix Zun Compute access to /var/lib/docker,MERGED,2019-10-20 16:56:29.000000000,2019-10-21 11:07:38.000000000,2019-10-21 11:06:13.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-10-20 16:56:29.000000000', 'files': ['ansible/roles/zun/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/832791e6017167cee79631e026d07511a77d5dc0', 'message': '[rocky-only] Fix Zun Compute access to /var/lib/docker\n\nStein and later were already patched by [1].\n\n[1] https://review.opendev.org/617341\n\nChange-Id: I6a95b2bdec268b8f54dd99eeae7c30bb57b01f0d\nCloses-bug: #1797448\n'}]",0,689654,832791e6017167cee79631e026d07511a77d5dc0,8,3,1,30491,,,0,"[rocky-only] Fix Zun Compute access to /var/lib/docker

Stein and later were already patched by [1].

[1] https://review.opendev.org/617341

Change-Id: I6a95b2bdec268b8f54dd99eeae7c30bb57b01f0d
Closes-bug: #1797448
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/54/689654/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/zun/defaults/main.yml'],1,832791e6017167cee79631e026d07511a77d5dc0,bug/1797448," - ""/var/lib/docker:/var/lib/docker""",,1,0
openstack%2Fopenstack-ansible~master~I9c19bfe74fe2e759f67499ef995394a4ec4e0d2d,openstack/openstack-ansible,master,I9c19bfe74fe2e759f67499ef995394a4ec4e0d2d,Imported Translations from Zanata,MERGED,2019-10-21 08:02:11.000000000,2019-10-21 11:03:43.000000000,2019-10-21 11:01:44.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-21 08:02:11.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/88360784d3d102d29a82f851c4b08062ceb260ef', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I9c19bfe74fe2e759f67499ef995394a4ec4e0d2d\n'}]",0,689684,88360784d3d102d29a82f851c4b08062ceb260ef,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I9c19bfe74fe2e759f67499ef995394a4ec4e0d2d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/84/689684/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'],1,88360784d3d102d29a82f851c4b08062ceb260ef,zanata/translations,"""POT-Creation-Date: 2019-10-16 15:27+0000\n""""PO-Revision-Date: 2019-10-20 02:37+0000\n""msgid ""19.0.0.0rc1-188"" msgstr ""19.0.0.0rc1-188"" msgid """" ""Deployments will now default to using python3 when a python3 interpreter is "" ""present in the operating system. Each openstack-ansible role has a new "" ""variable for the form <role>_venv_python_executable which defaults to "" ""python2 but a global variable openstack_venv_python_executable in the "" ""openstack-ansible group variables sets this to python3 on supporting "" ""operating systems. This enables a deployer is to selectively use python2 or "" ""python3 on a per service basis if required. The ansible-runtime venv is also "" ""created using python3 on the deploy host if possible."" msgstr """" ""Penyebaran sekarang akan default untuk menggunakan python3 ketika python3 "" ""interpreter hadir dalam sistem operasi. Setiap peran yang dimungkinkan "" ""openstack memiliki variabel baru untuk bentuk <role>_venv_python_executable "" ""yang default ke python2 tetapi variabel global "" ""openstack_venv_python_executable dalam variabel-variabel kelompok openstack-"" ""ansible mengatur ini ke python3 pada sistem operasi pendukung. Hal ini "" ""memungkinkan penggelar untuk secara selektif menggunakan python2 atau "" ""python3 berdasarkan layanan jika diperlukan. The ansible-runtime venv juga "" ""dibuat menggunakan python3 pada host deploy jika memungkinkan."" msgid """" ""Each openstack service role has a new variable <role>_bind_address which "" ""defaults to 0.0.0.0. A global override openstack_service_bind_address may be "" ""used by a deployer either in group_vars or user_variables to define an "" ""alternative IP address for services to bind to. This feature allows a "" ""deployer to bind all of the services to a specific network, for example the "" ""openstack management network. In this release the default binding remains "" ""0.0.0.0, and future releases may default the binding to the management "" ""network."" msgstr """" ""Setiap peran layanan openstack memiliki variabel baru <role>_bind_address "" ""yang standarnya adalah 0,0.0.0. Openstack_service_service_bind_address "" ""global dapat digunakan oleh deployer baik dalam group_vars atau "" ""user_variables untuk menentukan alamat IP alternatif untuk mengikat layanan. "" ""Fitur ini memungkinkan penyebar untuk mengikat semua layanan ke jaringan "" ""tertentu, misalnya jaringan manajemen openstack. Dalam rilis ini pengikatan "" ""default tetap 0.0.0.0, dan rilis di masa depan mungkin default pengikatan ke "" ""jaringan manajemen."" ""New virtual environments will be created using python3, giving a "" ""straightforward transition from python2 to python3 during the major upgrade. "" ""The ansible-runtime virtual environment on the deployment host will also be "" ""upgraded from python2 to python3 where the operating system allows."" msgstr """" ""Lingkungan virtual baru akan dibuat menggunakan python3, memberikan transisi "" ""langsung dari python2 ke python3 selama upgrade utama. Lingkungan virtual "" ""ansible-runtime pada host penyebaran juga akan ditingkatkan dari python2 ke "" ""python3 dimana sistem operasi memungkinkan."" msgid """"","""POT-Creation-Date: 2019-10-14 15:52+0000\n""""PO-Revision-Date: 2019-10-12 06:08+0000\n""""Aodh migrated from usage of Apache mod_wsgi or native daemon to uWSGI "" ""daemon. This means, that `aodh_apache_*` variables are not available and has "" ""no effect anymore."" msgstr """" ""Aodh bermigrasi dari penggunaan Apache mod_wsgi atau native daemon ke uWSGI "" ""daemon. . Ini berarti, bahwa variabel `aodh_apache_*` tidak tersedia dan "" ""tidak berpengaruh lagi."" msgid """"""Barbican service was renamed to barbican-api. During upgrade old barbican "" ""service will be stopped and barbican-api will be started instead. Also "" ""`barbican_*_program_name` was removed since had no effect and wasn't used. "" ""Instead variable `barbican_*_enabled` was introduced to ease enabling "" ""barbican services like barbican-worker, barbican-keystone-listener and "" ""barbican-retry."" msgstr """" ""Layanan Barbican diganti namanya menjadi barbican-api. Selama pemutakhiran "" ""layanan barbican lama akan dihentikan dan barbican-api akan dimulai sebagai "" ""gantinya. Juga `barbican_*_program_name` telah dihapus karena tidak memiliki "" ""efek dan tidak digunakan. Sebaliknya variabel `barbican_*_enabled` "" ""diperkenalkan untuk memudahkan mengaktifkan layanan barbican seperti "" ""barbican-worker, barbican-keystone-listener dan barbican-retry."" msgid """"""During upgrade process role will drop `aodh_service_port` from apache "" ""listeners (ports.conf) and aodh virtualhost, which by default means "" ""misconfigured apache service (since it won't have any listeners) unless it's "" ""aio build and this apache server is in use by other role/service. Apache "" ""server won't be dropped from aodh_api hosts, so deployers are encoureged to "" ""remove it manually."" msgstr """" ""Selama proses pemutakhiran, role akan melepaskan `aodh_service_port` dari "" ""apache listeners (ports.conf) dan aodh virtualhost, yang secara default "" ""berarti layanan apache yang tidak terkonfigurasi (karena tidak akan memiliki "" ""listeners) kecuali itu aio build dan server apache ini digunakan oleh role/"" ""layanan lain. Server Apache tidak akan di-drop dari host aodh_api, jadi "" ""deployer disarankan untuk menghapusnya secara manual."" msgid """"msgid """" ""Now you can set up ``octavia_management_net_subnet_gateway`` variable to "" ""create the management subnet with default gateway set. By default the subnet "" ""created without gateway."" msgstr """" ""Sekarang Anda dapat mengatur variabel "" ""``octavia_management_net_subnet_gateway`` untuk membuat subnet manajemen "" ""dengan set gateway default. Secara default, subnet dibuat tanpa gateway."" msgid """" ""Now you can use cinder-volume with Octavia. To enable the feature set "" ""``octavia_cinder_enabled`` to ``True``. Also you may need to override the "" ""default settings:"" msgstr """" ""Sekarang Anda dapat menggunakan volume cinder dengan Octavia. Untuk "" ""mengaktifkan fitur, atur ``octavia_cinder_enabled`` ke ``True``. Anda juga "" ""mungkin perlu mengganti pengaturan default:"" ""Variable `horizon_enable_neutron_lbaas` has been removed because of global "" ""neutron lbaas retirement process. This means that horizon neutron-lbaas-ui "" ""plugin won't be installed."" msgstr """" ""Variabel `horizon_enable_neutron_lbaas` telah dihapus karena proses "" ""retirement (pensiun) lbaas neutron global. Ini berarti bahwa plugin horizon "" ""neutron-lbaas-ui tidak akan diinstal."" msgid """"",55,68
openstack%2Fironic~stable%2Ftrain~I0bf38321b0135ea17439d35081b5727fd4d827c8,openstack/ironic,stable/train,I0bf38321b0135ea17439d35081b5727fd4d827c8,Read in non-blocking fashion when starting console,MERGED,2019-10-18 17:37:55.000000000,2019-10-21 10:30:56.000000000,2019-10-21 10:28:59.000000000,"[{'_account_id': 12356}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-10-18 17:37:55.000000000', 'files': ['releasenotes/notes/fix-shellinabox-pipe-not-ready-f860c4b7a1ef71a8.yaml', 'ironic/tests/unit/drivers/modules/test_console_utils.py', 'ironic/drivers/modules/console_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/680c8b7745499b916c5f7d1614b61df738f40df2', 'message': 'Read in non-blocking fashion when starting console\n\nAs PID file is created by daemon, it might happen that although the\nreturn code is 0, the PID file does not exist yet. And afterwards,\ncommunicate() call might hang for some reason. As there is no way to\nput timeout on communicate call in python2, and in order to make\nthis change more backportable, this patch uses non-blocking read to\nget the values of stdout and stderr of the call.\n\nStory: 2006514\nTask: 36511\nChange-Id: I0bf38321b0135ea17439d35081b5727fd4d827c8\n(cherry picked from commit efc2d5fcd3e4c3d8e24801b45f61f7f747b7f340)\n'}]",0,689554,680c8b7745499b916c5f7d1614b61df738f40df2,10,5,1,11655,,,0,"Read in non-blocking fashion when starting console

As PID file is created by daemon, it might happen that although the
return code is 0, the PID file does not exist yet. And afterwards,
communicate() call might hang for some reason. As there is no way to
put timeout on communicate call in python2, and in order to make
this change more backportable, this patch uses non-blocking read to
get the values of stdout and stderr of the call.

Story: 2006514
Task: 36511
Change-Id: I0bf38321b0135ea17439d35081b5727fd4d827c8
(cherry picked from commit efc2d5fcd3e4c3d8e24801b45f61f7f747b7f340)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/54/689554/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-shellinabox-pipe-not-ready-f860c4b7a1ef71a8.yaml', 'ironic/tests/unit/drivers/modules/test_console_utils.py', 'ironic/drivers/modules/console_utils.py']",3,680c8b7745499b916c5f7d1614b61df738f40df2,another-fix-to-console-stable/train,"import fcntlclass _PopenNonblockingPipe(object): def __init__(self, source): self._source = source self._output = b'' self._wait = False self._finished = False self._set_async() def _set_async(self): flags = fcntl.fcntl(self._source, fcntl.F_GETFL) fcntl.fcntl(self._source, fcntl.F_SETFL, flags | os.O_NONBLOCK) def read(self, num_bytes=4096): if self._finished: return try: if self._wait: time.sleep(1) self._wait = False data = os.read(self._source.fileno(), num_bytes) self._output += data if len(data) < num_bytes: self._wait = True except OSError: self._finished = True @property def output(self): return self._output @property def finished(self): return self._finished stdout_pipe, stderr_pipe = ( _PopenNonblockingPipe(obj.stdout), _PopenNonblockingPipe(obj.stderr)) watched = (stdout_pipe, stderr_pipe) while time.time() < expiration and not all( (i.finished for i in watched)): for pipe in watched: pipe.read() ""Exit code: %(return_code)s.\nStdout: %(stdout)r\n"" 'stdout': stdout_pipe.output, 'stderr': stderr_pipe.output}"," (stdout, stderr) = popen_obj.communicate() ""Exit code: %(return_code)s.\n"" ""Stdout: %(stdout)r\n"" 'stdout': stdout, 'stderr': stderr}",108,23
openstack%2Fpuppet-octavia~stable%2Fstein~I26ad5d41239b6e770e975dc6f78fc46a87803220,openstack/puppet-octavia,stable/stein,I26ad5d41239b6e770e975dc6f78fc46a87803220,Add keepalivd vrrp parameters,MERGED,2019-10-12 18:03:39.000000000,2019-10-21 10:29:14.000000000,2019-10-21 10:27:23.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-12 18:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/511f5cf4cd4b3a646380b8600db079363484b0e7', 'message': 'Add keepalivd vrrp parameters\n\nChange-Id: I26ad5d41239b6e770e975dc6f78fc46a87803220\n(cherry picked from commit 8fd7b2e0ff231a602167af98f8fe7729c872b319)\n(cherry picked from commit f9ec3e241043748698b4c5a0aa023a16bd4d615f)\n'}, {'number': 2, 'created': '2019-10-17 12:58:14.000000000', 'files': ['spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp', 'releasenotes/notes/add-vrrp-keepalived-params-81f235f8cc411c42.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/3de4adbe19bf79e46b4ffc8fa3aafda08684f951', 'message': 'Add keepalivd vrrp parameters\n\nChange-Id: I26ad5d41239b6e770e975dc6f78fc46a87803220\n(cherry picked from commit 8fd7b2e0ff231a602167af98f8fe7729c872b319)\n(cherry picked from commit b659647dbd21a48560750e611a9b7646f39f48be)\n'}]",0,688280,3de4adbe19bf79e46b4ffc8fa3aafda08684f951,10,3,2,6469,,,0,"Add keepalivd vrrp parameters

Change-Id: I26ad5d41239b6e770e975dc6f78fc46a87803220
(cherry picked from commit 8fd7b2e0ff231a602167af98f8fe7729c872b319)
(cherry picked from commit b659647dbd21a48560750e611a9b7646f39f48be)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/80/688280/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp', 'releasenotes/notes/add-vrrp-keepalived-params-81f235f8cc411c42.yaml']",3,511f5cf4cd4b3a646380b8600db079363484b0e7,,--- features: - Added Keepalived VRRP parameters. ,,94,38
openstack%2Fpuppet-octavia~stable%2Fqueens~I26ad5d41239b6e770e975dc6f78fc46a87803220,openstack/puppet-octavia,stable/queens,I26ad5d41239b6e770e975dc6f78fc46a87803220,Add keepalivd vrrp parameters,MERGED,2019-10-12 18:05:25.000000000,2019-10-21 10:29:03.000000000,2019-10-21 10:27:24.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-12 18:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/dacc76049cacbf3c2f0ada1410c1e451ae7a8806', 'message': 'Add keepalivd vrrp parameters\n\nChange-Id: I26ad5d41239b6e770e975dc6f78fc46a87803220\n(cherry picked from commit 8fd7b2e0ff231a602167af98f8fe7729c872b319)\n(cherry picked from commit f9ec3e241043748698b4c5a0aa023a16bd4d615f)\n(cherry picked from commit 511f5cf4cd4b3a646380b8600db079363484b0e7)\n(cherry picked from commit 1deb336080d65869cde9600f06aa09b6e7cd09bc)\n'}, {'number': 2, 'created': '2019-10-12 18:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/41522cfabf237adcf2b780c9857b5f0e6802dd1f', 'message': 'Add keepalivd vrrp parameters\n\nChange-Id: I26ad5d41239b6e770e975dc6f78fc46a87803220\n(cherry picked from commit 8fd7b2e0ff231a602167af98f8fe7729c872b319)\n(cherry picked from commit f9ec3e241043748698b4c5a0aa023a16bd4d615f)\n(cherry picked from commit 511f5cf4cd4b3a646380b8600db079363484b0e7)\n(cherry picked from commit 1deb336080d65869cde9600f06aa09b6e7cd09bc)\n'}, {'number': 3, 'created': '2019-10-17 13:00:53.000000000', 'files': ['spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp', 'releasenotes/notes/add-vrrp-keepalived-params-81f235f8cc411c42.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/251c78b7ae9ded1c27f228a9ea9952988e3fe05b', 'message': 'Add keepalivd vrrp parameters\n\nChange-Id: I26ad5d41239b6e770e975dc6f78fc46a87803220\n(cherry picked from commit 8fd7b2e0ff231a602167af98f8fe7729c872b319)\n(cherry picked from commit b659647dbd21a48560750e611a9b7646f39f48be)\n(cherry picked from commit 3de4adbe19bf79e46b4ffc8fa3aafda08684f951)\n(cherry picked from commit f49cfd3bd0f3cd9347e9381012f72357b37b1468)\n'}]",0,688282,251c78b7ae9ded1c27f228a9ea9952988e3fe05b,11,3,3,6469,,,0,"Add keepalivd vrrp parameters

Change-Id: I26ad5d41239b6e770e975dc6f78fc46a87803220
(cherry picked from commit 8fd7b2e0ff231a602167af98f8fe7729c872b319)
(cherry picked from commit b659647dbd21a48560750e611a9b7646f39f48be)
(cherry picked from commit 3de4adbe19bf79e46b4ffc8fa3aafda08684f951)
(cherry picked from commit f49cfd3bd0f3cd9347e9381012f72357b37b1468)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/82/688282/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp', 'releasenotes/notes/add-vrrp-keepalived-params-81f235f8cc411c42.yaml']",3,dacc76049cacbf3c2f0ada1410c1e451ae7a8806,,--- features: - Added Keepalived VRRP parameters. ,,72,16
openstack%2Fpuppet-octavia~stable%2Frocky~I26ad5d41239b6e770e975dc6f78fc46a87803220,openstack/puppet-octavia,stable/rocky,I26ad5d41239b6e770e975dc6f78fc46a87803220,Add keepalivd vrrp parameters,MERGED,2019-10-12 18:05:02.000000000,2019-10-21 10:28:51.000000000,2019-10-21 10:27:23.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-12 18:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/1deb336080d65869cde9600f06aa09b6e7cd09bc', 'message': 'Add keepalivd vrrp parameters\n\nChange-Id: I26ad5d41239b6e770e975dc6f78fc46a87803220\n(cherry picked from commit 8fd7b2e0ff231a602167af98f8fe7729c872b319)\n(cherry picked from commit f9ec3e241043748698b4c5a0aa023a16bd4d615f)\n(cherry picked from commit 511f5cf4cd4b3a646380b8600db079363484b0e7)\n'}, {'number': 2, 'created': '2019-10-17 13:00:30.000000000', 'files': ['spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp', 'releasenotes/notes/add-vrrp-keepalived-params-81f235f8cc411c42.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/f49cfd3bd0f3cd9347e9381012f72357b37b1468', 'message': 'Add keepalivd vrrp parameters\n\nChange-Id: I26ad5d41239b6e770e975dc6f78fc46a87803220\n(cherry picked from commit 8fd7b2e0ff231a602167af98f8fe7729c872b319)\n(cherry picked from commit b659647dbd21a48560750e611a9b7646f39f48be)\n(cherry picked from commit 3de4adbe19bf79e46b4ffc8fa3aafda08684f951)\n'}]",0,688281,f49cfd3bd0f3cd9347e9381012f72357b37b1468,10,3,2,6469,,,0,"Add keepalivd vrrp parameters

Change-Id: I26ad5d41239b6e770e975dc6f78fc46a87803220
(cherry picked from commit 8fd7b2e0ff231a602167af98f8fe7729c872b319)
(cherry picked from commit b659647dbd21a48560750e611a9b7646f39f48be)
(cherry picked from commit 3de4adbe19bf79e46b4ffc8fa3aafda08684f951)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/81/688281/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp', 'releasenotes/notes/add-vrrp-keepalived-params-81f235f8cc411c42.yaml']",3,1deb336080d65869cde9600f06aa09b6e7cd09bc,,--- features: - Added Keepalived VRRP parameters. ,,72,16
openstack%2Fkayobe~master~I5ae37b8f264437a9e49b09da459e604191f9ed3e,openstack/kayobe,master,I5ae37b8f264437a9e49b09da459e604191f9ed3e,Try running `docker info` again if it fails,MERGED,2019-10-14 17:05:07.000000000,2019-10-21 10:24:50.000000000,2019-10-16 17:17:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-14 17:05:07.000000000', 'files': ['ansible/roles/docker/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3993d898390fdd98037e5626cdc34a6ba20a8e92', 'message': 'Try running `docker info` again if it fails\n\nDocker sometimes fails to reply if it has just been started.\n\nChange-Id: I5ae37b8f264437a9e49b09da459e604191f9ed3e\nStory: 2006718\nTask: 37089\n'}]",0,688474,3993d898390fdd98037e5626cdc34a6ba20a8e92,18,4,1,15197,,,0,"Try running `docker info` again if it fails

Docker sometimes fails to reply if it has just been started.

Change-Id: I5ae37b8f264437a9e49b09da459e604191f9ed3e
Story: 2006718
Task: 37089
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/74/688474/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/docker/tasks/main.yml'],1,3993d898390fdd98037e5626cdc34a6ba20a8e92,docker-info-retry, until: docker_info is success retries: 3 delay: 5,,3,0
openstack%2Fkolla-ansible~master~Iaa8b46a2227b61a729b8d54bbe4b20f389f251d1,openstack/kolla-ansible,master,Iaa8b46a2227b61a729b8d54bbe4b20f389f251d1,Neutron: add support to use legacy iptables,MERGED,2019-10-01 13:15:05.000000000,2019-10-21 10:21:16.000000000,2019-10-18 05:53:20.000000000,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 26768}, {'_account_id': 28374}, {'_account_id': 28743}, {'_account_id': 30356}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-01 13:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/318e6db7e8e2773f71895bde4d5c2191be5d3ebf', 'message': 'Neutron: Added option to force legacy iptables in neutron_openvswitch_agent\n\nneutron_legacy_iptables option sets the KOLLA_LEGACY_IPTABLES\nenvironment variable in the neutron_openvswich_agent container where it\nshould be consumed by kolla_extended_start script resulting in setting\niptables-legacy.\n\nChange-Id: Iaa8b46a2227b61a729b8d54bbe4b20f389f251d1\n'}, {'number': 2, 'created': '2019-10-02 19:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/be7b7312c62e1d66646b56fcdd8da38a4bf29921', 'message': 'Neutron: Added option to force legacy iptables in neutron_openvswitch_agent\n\nneutron_legacy_iptables option sets the KOLLA_LEGACY_IPTABLES\nenvironment variable in the neutron_openvswich_agent container where it\nshould be consumed by kolla_extended_start script resulting in setting\niptables-legacy.\n\nChange-Id: Iaa8b46a2227b61a729b8d54bbe4b20f389f251d1\n'}, {'number': 3, 'created': '2019-10-02 19:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4543ec2cd93bf3bd7193ac0b1d77f1c73bd9812c', 'message': 'Neutron: Added option to force legacy iptables in neutron_openvswitch_agent\n\nneutron_legacy_iptables option sets the KOLLA_LEGACY_IPTABLES\nenvironment variable in the neutron_openvswich_agent container where it\nshould be consumed by kolla_extended_start script resulting in setting\niptables-legacy.\n\nChange-Id: Iaa8b46a2227b61a729b8d54bbe4b20f389f251d1\n'}, {'number': 4, 'created': '2019-10-02 20:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e90a6a11bf4c2f9719442ef594c889489d2da1f1', 'message': 'Neutron: Added option to force legacy iptables in neutron_openvswitch_agent\n\nneutron_legacy_iptables option sets the KOLLA_LEGACY_IPTABLES\nenvironment variable in the neutron_openvswich_agent container where it\nshould be consumed by kolla_extended_start script resulting in setting\niptables-legacy.\n\nDepends-On: https://review.opendev.org/683679\nChange-Id: Iaa8b46a2227b61a729b8d54bbe4b20f389f251d1\n'}, {'number': 5, 'created': '2019-10-03 15:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/76b18c76c8e112e76648aff7e4be97cdda900e29', 'message': 'Neutron: Added option to force legacy iptables in neutron_openvswitch_agent\n\nneutron_legacy_iptables option sets the KOLLA_LEGACY_IPTABLES\nenvironment variable in the neutron_openvswich_agent container where it\nshould be consumed by kolla_extended_start script resulting in setting\niptables-legacy.\n\nDepends-On: https://review.opendev.org/683679\nChange-Id: Iaa8b46a2227b61a729b8d54bbe4b20f389f251d1\n'}, {'number': 6, 'created': '2019-10-03 20:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/644496d4d1893ac8c2140cbb17f4a619503a4715', 'message': 'Neutron: Added option to force legacy iptables in neutron_openvswitch_agent\n\nneutron_legacy_iptables option sets the KOLLA_LEGACY_IPTABLES\nenvironment variable in the neutron_openvswich_agent container where it\nshould be consumed by kolla_extended_start script resulting in setting\niptables-legacy.\n\nChange-Id: Iaa8b46a2227b61a729b8d54bbe4b20f389f251d1\n'}, {'number': 7, 'created': '2019-10-11 18:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d47da9093c1b6b0c27bf7fc46b464fadf281e392', 'message': 'Neutron: Added option to force legacy iptables in neutron_openvswitch_agent\n\nneutron_legacy_iptables option sets the KOLLA_LEGACY_IPTABLES\nenvironment variable in the neutron_openvswich_agent container where it\nshould be consumed by kolla_extended_start script resulting in setting\niptables-legacy.\n\nDepends-On: https://review.opendev.org/#/c/683679/\nChange-Id: Iaa8b46a2227b61a729b8d54bbe4b20f389f251d1\n'}, {'number': 8, 'created': '2019-10-11 19:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cca40e65de6946d10c7feecf73ed507669ccc4f2', 'message': 'Neutron: Added option to force legacy iptables in neutron_openvswitch_agent\n\nneutron_legacy_iptables option sets the KOLLA_LEGACY_IPTABLES\nenvironment variable in the neutron_openvswich_agent container where it\nshould be consumed by kolla_extended_start script resulting in setting\niptables-legacy.\n\nDepends-On: https://review.opendev.org/#/c/683679/\nChange-Id: Iaa8b46a2227b61a729b8d54bbe4b20f389f251d1\n'}, {'number': 9, 'created': '2019-10-12 19:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/789fda44e6b22274f297204b7216131b38f50dbe', 'message': 'Neutron: Added option to force legacy iptables in neutron_openvswitch_agent\n\nneutron_legacy_iptables option sets the KOLLA_LEGACY_IPTABLES\nenvironment variable in the neutron_openvswich_agent container where it\nshould be consumed by kolla_extended_start script resulting in setting\niptables-legacy.\n\nDepends-On: https://review.opendev.org/#/c/683679/\nChange-Id: Iaa8b46a2227b61a729b8d54bbe4b20f389f251d1\n'}, {'number': 10, 'created': '2019-10-14 09:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9a4cff21109ea37fec0f5183fe3da24d95b661d0', 'message': 'Neutron: Added option to force legacy iptables in neutron_openvswitch_agent\n\nneutron_legacy_iptables option sets the KOLLA_LEGACY_IPTABLES\nenvironment variable in the neutron_openvswich_agent container where it\nshould be consumed by kolla_extended_start script resulting in setting\niptables-legacy.\n\nDepends-On: https://review.opendev.org/#/c/683679/\nChange-Id: Iaa8b46a2227b61a729b8d54bbe4b20f389f251d1\n'}, {'number': 11, 'created': '2019-10-14 13:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cc37963ee2b5d5cf23c7ca82aa4b8b5b0dc5d872', 'message': 'Neutron: Added option to force legacy iptables in neutron_openvswitch_agent\n\nneutron_legacy_iptables option sets the KOLLA_LEGACY_IPTABLES\nenvironment variable in the neutron_openvswich_agent container where it\nshould be consumed by kolla_extended_start script resulting in setting\niptables-legacy.\n\nDepends-On: https://review.opendev.org/#/c/683679/\nChange-Id: Iaa8b46a2227b61a729b8d54bbe4b20f389f251d1\n'}, {'number': 12, 'created': '2019-10-14 16:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1eb5a8b96a4a69a20950ec91e9e0275163dbe4cd', 'message': 'Neutron: Added option to force legacy iptables in neutron_openvswitch_agent\n\nneutron_legacy_iptables option sets the KOLLA_LEGACY_IPTABLES\nenvironment variable in the neutron_openvswich_agent container where it\nshould be consumed by kolla_extended_start script resulting in setting\niptables-legacy.\n\nDepends-On: https://review.opendev.org/#/c/683679/\nChange-Id: Iaa8b46a2227b61a729b8d54bbe4b20f389f251d1\n'}, {'number': 13, 'created': '2019-10-15 15:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/731c8acc4b861e962823cbb93c4335bb065a6777', 'message': 'Neutron: Added option to force legacy iptables\n\nneutron_legacy_iptables option sets the KOLLA_LEGACY_IPTABLES\nenvironment variable in the neutron-l3-agent, neutron-linuxbridge-agent\nand neutron_openvswich_agent container where it should be consumed\nby kolla_extended_start script resulting in setting iptables-legacy.\n\nDepends-On: https://review.opendev.org/#/c/683679/\nChange-Id: Iaa8b46a2227b61a729b8d54bbe4b20f389f251d1\n'}, {'number': 14, 'created': '2019-10-16 14:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a32fd912b0c80638d5645e14baaef9a9aabfc272', 'message': 'Neutron: add support to use legacy iptables\n\nneutron_legacy_iptables option sets the KOLLA_LEGACY_IPTABLES\nenvironment variable in the neutron-l3-agent, neutron-linuxbridge-agent\nand neutron_openvswich_agent container where it should be consumed\nby kolla_extended_start script resulting in setting iptables-legacy.\n\nDepends-On: https://review.opendev.org/#/c/683679/\nChange-Id: Iaa8b46a2227b61a729b8d54bbe4b20f389f251d1\n'}, {'number': 15, 'created': '2019-10-16 16:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f69d6d84f5601c002e1040486762b3cb95746c8c', 'message': 'Neutron: add support to use legacy iptables\n\nneutron_legacy_iptables option sets the KOLLA_LEGACY_IPTABLES\nenvironment variable in the neutron-l3-agent, neutron-linuxbridge-agent\nand neutron_openvswich_agent container where it should be consumed\nby kolla_extended_start script resulting in setting iptables-legacy.\n\nDepends-On: https://review.opendev.org/#/c/683679/\nChange-Id: Iaa8b46a2227b61a729b8d54bbe4b20f389f251d1\n'}, {'number': 16, 'created': '2019-10-17 09:42:00.000000000', 'files': ['ansible/roles/neutron/handlers/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e54edb55e4e8583e1a5ba92c21e8e6b82d3faee6', 'message': 'Neutron: add support to use legacy iptables\n\nneutron_legacy_iptables option sets the KOLLA_LEGACY_IPTABLES\nenvironment variable in the neutron-l3-agent, neutron-linuxbridge-agent\nand neutron_openvswich_agent container where it should be consumed\nby kolla_extended_start script resulting in setting iptables-legacy.\n\nDepends-On: https://review.opendev.org/#/c/683679/\nChange-Id: Iaa8b46a2227b61a729b8d54bbe4b20f389f251d1\n'}]",5,685967,e54edb55e4e8583e1a5ba92c21e8e6b82d3faee6,49,7,16,28374,,,0,"Neutron: add support to use legacy iptables

neutron_legacy_iptables option sets the KOLLA_LEGACY_IPTABLES
environment variable in the neutron-l3-agent, neutron-linuxbridge-agent
and neutron_openvswich_agent container where it should be consumed
by kolla_extended_start script resulting in setting iptables-legacy.

Depends-On: https://review.opendev.org/#/c/683679/
Change-Id: Iaa8b46a2227b61a729b8d54bbe4b20f389f251d1
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/685967/16 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/handlers/main.yml', 'ansible/group_vars/all.yml']",2,318e6db7e8e2773f71895bde4d5c2191be5d3ebf,685967,"# Force legacy iptables neutron_legacy_iptables: ""no"" ",,5,0
openstack%2Frpm-packaging~stable%2Frocky~Ibd05a858276f9be2f9999b13ffffd87f57217918,openstack/rpm-packaging,stable/rocky,Ibd05a858276f9be2f9999b13ffffd87f57217918,Update versions based on u-c for stable/rocky,MERGED,2019-10-21 04:04:45.000000000,2019-10-21 10:01:10.000000000,2019-10-21 10:01:10.000000000,"[{'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-21 04:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/984079b0147d61b18093ed5b046313a493bf2e70', 'message': 'Update versions based on u-c for stable/rocky\n\nChange-Id: Ibd05a858276f9be2f9999b13ffffd87f57217918\n'}, {'number': 2, 'created': '2019-10-21 08:47:55.000000000', 'files': ['openstack/ironic-lib/ironic-lib.spec.j2', 'openstack/os-apply-config/os-apply-config.spec.j2', 'openstack/oslo.cache/oslo.cache.spec.j2', 'openstack/os-brick/os-brick.spec.j2', 'openstack/python-octaviaclient/python-octaviaclient.spec.j2', 'openstack/keystonemiddleware/0001-Skip-the-services-with-no-endpoints-when-parsing-ser.patch', 'openstack/keystonemiddleware/keystonemiddleware.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/58f02fb2abb156cf564a6768644149398c2fc1cd', 'message': 'Update versions based on u-c for stable/rocky\n\nChange-Id: Ibd05a858276f9be2f9999b13ffffd87f57217918\n'}]",2,689668,58f02fb2abb156cf564a6768644149398c2fc1cd,16,6,2,7102,,,0,"Update versions based on u-c for stable/rocky

Change-Id: Ibd05a858276f9be2f9999b13ffffd87f57217918
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/68/689668/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/ironic-lib/ironic-lib.spec.j2', 'openstack/os-apply-config/os-apply-config.spec.j2', 'openstack/oslo.cache/oslo.cache.spec.j2', 'openstack/os-brick/os-brick.spec.j2', 'openstack/python-octaviaclient/python-octaviaclient.spec.j2', 'openstack/keystonemiddleware/keystonemiddleware.spec.j2', 'openstack/oslo.messaging/oslo.messaging.spec.j2']",7,984079b0147d61b18093ed5b046313a493bf2e70,stable-rocky,{% set upstream_version = upstream_version('8.1.4') %},{% set upstream_version = upstream_version('8.1.2') %},7,7
openstack%2Fplacement~master~I1dc2ea68a13ea7e6519ecfdef37e8d5c21585d03,openstack/placement,master,I1dc2ea68a13ea7e6519ecfdef37e8d5c21585d03,WIP: Allow configuration and loading of alternate auth handlers,ABANDONED,2019-07-09 12:58:11.000000000,2019-10-21 09:59:17.000000000,,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-09 12:58:11.000000000', 'files': ['placement/tests/functional/fixtures/gabbits.py', 'placement/tests/functional/noauth.py', 'placement/deploy.py', 'placement/conf/api.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/aa90733bce05d206366f14d09533d17e80bf51c8', 'message': 'WIP: Allow configuration and loading of alternate auth handlers\n\nAllowing loading of alternate auth handlers in deploy.py. We test\nthis by creating an auth handler in placement.tests.functional.noauth\nwhich can load the NoAuthMiddleware and using that for all the gabbi\ntests.\n\n[api]/auth_strategy is updated from having only two choices, to\naccepting an open string.\n\nTODO:\n\n* docs\n* I think this is useful, but do other people?\n\nChange-Id: I1dc2ea68a13ea7e6519ecfdef37e8d5c21585d03\n'}]",2,669865,aa90733bce05d206366f14d09533d17e80bf51c8,5,3,1,11564,,,0,"WIP: Allow configuration and loading of alternate auth handlers

Allowing loading of alternate auth handlers in deploy.py. We test
this by creating an auth handler in placement.tests.functional.noauth
which can load the NoAuthMiddleware and using that for all the gabbi
tests.

[api]/auth_strategy is updated from having only two choices, to
accepting an open string.

TODO:

* docs
* I think this is useful, but do other people?

Change-Id: I1dc2ea68a13ea7e6519ecfdef37e8d5c21585d03
",git fetch https://review.opendev.org/openstack/placement refs/changes/65/669865/1 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/functional/fixtures/gabbits.py', 'placement/tests/functional/noauth.py', 'placement/deploy.py', 'placement/conf/api.py']",4,aa90733bce05d206366f14d09533d17e80bf51c8,,"This determines the strategy to use for authentication. Common choices include 'keystone' or 'noauth2'. 'noauth2' is designed for testing only, as it does no actual credential checking. 'noauth2' provides administrative credentials when 'admin' is specified as the username. Other values will be treated as the name of a package to be imported. The package should have a 'filter_factory' method that loads a 'placement.auth.AuthMiddleware' subclass."," choices=(""keystone"", ""noauth2""),This determines the strategy to use for authentication: keystone or noauth2. 'noauth2' is designed for testing only, as it does no actual credential checking. 'noauth2' provides administrative credentials only if 'admin' is specified as the username.",38,8
openstack%2Fplacement~master~I35ad5065b921a7e8cce812e60ba32562fb72c872,openstack/placement,master,I35ad5065b921a7e8cce812e60ba32562fb72c872,WIP: Introduce superclass for NoAuthMiddleware,ABANDONED,2019-07-09 12:58:11.000000000,2019-10-21 09:58:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-09 12:58:11.000000000', 'files': ['placement/auth.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/98e560f8f0ee8ab83bcbbdac3d78dae0bb0d56a0', 'message': 'WIP: Introduce superclass for NoAuthMiddleware\n\nIn non-openstack environment it will be useful to be able to\nmanage real authentication. We can do that by laying in a\nfoundation for building authentication handlers which are\nsubclasses of the superclass introduced here. Loading those\nplugins will come in a subsequent patch.\n\nThe superclasses proves itself in this change because\nNoAuthMiddleware continues to work as designed.\n\nChange-Id: I35ad5065b921a7e8cce812e60ba32562fb72c872\n'}]",0,669864,98e560f8f0ee8ab83bcbbdac3d78dae0bb0d56a0,3,1,1,11564,,,0,"WIP: Introduce superclass for NoAuthMiddleware

In non-openstack environment it will be useful to be able to
manage real authentication. We can do that by laying in a
foundation for building authentication handlers which are
subclasses of the superclass introduced here. Loading those
plugins will come in a subsequent patch.

The superclasses proves itself in this change because
NoAuthMiddleware continues to work as designed.

Change-Id: I35ad5065b921a7e8cce812e60ba32562fb72c872
",git fetch https://review.opendev.org/openstack/placement refs/changes/64/669864/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/auth.py'],1,98e560f8f0ee8ab83bcbbdac3d78dae0bb0d56a0,,"class AuthMiddleware(Middleware): """"""A base class for authentication handlers."""""" if self.skip(req): if not self.prereqs(req): self.auth_and_set_headers(req) return self.application def skip(self, req): """"""Return True if auth should be skipped for this request. """""" return False def prereqs(req): """"""Return True if the requirements to process have been met in this request. """""" return True def auth_and_set_headers(req): """"""Set the required headers in req. The required headers are: X_USER_ID X_PROJECT_ID X_ROLES These map to the information used by oslo_context.context.RequestContext.from_environ. """""" raise NotImplemented # NOTE(cdent): Only to be used in tests where auth is being faked. class NoAuthMiddleware(AuthMiddleware): """"""Require a token if one isn't present."""""" def skip(self, req): return req.environ['PATH_INFO'] == '/' def prereqs(self, req): return 'X-Auth-Token' in req.headers def auth_and_set_headers(self, req):","# NOTE(cdent): Only to be used in tests where auth is being faked. class NoAuthMiddleware(Middleware): """"""Require a token if one isn't present."""""" def __init__(self, application): self.application = application if req.environ['PATH_INFO'] == '/': if 'X-Auth-Token' not in req.headers: return self.application",44,9
openstack%2Ftripleo-common~master~I63bfd1ee9fd40e1c9b80963ccd6fa2adf58031dc,openstack/tripleo-common,master,I63bfd1ee9fd40e1c9b80963ccd6fa2adf58031dc,Introspection function,ABANDONED,2019-08-29 15:06:26.000000000,2019-10-21 09:56:15.000000000,,"[{'_account_id': 9712}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-29 15:06:26.000000000', 'files': ['requirements.txt', 'tripleo_common/utils/baremetal.py', 'tripleo_common/tests/utils/test_baremetal.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/98f74382c4472fe38c2cd1ad4a2d2990da560693', 'message': 'Introspection function\n\nChange-Id: I63bfd1ee9fd40e1c9b80963ccd6fa2adf58031dc\n'}]",0,679286,98f74382c4472fe38c2cd1ad4a2d2990da560693,5,3,1,9712,,,0,"Introspection function

Change-Id: I63bfd1ee9fd40e1c9b80963ccd6fa2adf58031dc
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/86/679286/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tripleo_common/utils/baremetal.py', 'tripleo_common/tests/utils/test_baremetal.py']",3,98f74382c4472fe38c2cd1ad4a2d2990da560693,mistral_to_ansible,,,64,0
openstack%2Fkayobe~master~Ib8a238f5ad4329527147be72331b87f57877f68e,openstack/kayobe,master,Ib8a238f5ad4329527147be72331b87f57877f68e,Build pdf doc,MERGED,2019-09-17 11:08:20.000000000,2019-10-21 09:39:27.000000000,2019-10-21 09:38:07.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 27621}, {'_account_id': 28048}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-17 11:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/42f64865c3c3279b4bf9dafbe1db83d05f01cfcf', 'message': 'Build pdf doc\n\nThe is one of community goals that each project should produce a\nsingle PDF file. The pdf should be in the output of openstack-tox-docs\njob.\n\nTeX packages are required to build PDF locally, following is\nrecommended:\n\n* inkscape\n* texlive-latex-base\n* texlive-latex-extra\n* texlive-fonts-recommended\n\nMore about the goal:\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\nhttps://etherpad.openstack.org/p/train-pdf-support-goal\nhttps://etherpad.openstack.org/p/pdf-goal-train-common-problems\n\nChange-Id: Ib8a238f5ad4329527147be72331b87f57877f68e\n'}, {'number': 2, 'created': '2019-09-26 09:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/27cf53ecc28531c8b58666b01b65c5100ccb1c09', 'message': 'Build pdf doc\n\nThe is one of community goals that each project should produce a\nsingle PDF file. The pdf should be in the output of openstack-tox-docs\njob.\n\nTeX packages are required to build PDF locally, following is\nrecommended:\n\n* inkscape\n* texlive-latex-base\n* texlive-latex-extra\n* texlive-fonts-recommended\n\nMore about the goal:\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\nhttps://etherpad.openstack.org/p/train-pdf-support-goal\nhttps://etherpad.openstack.org/p/pdf-goal-train-common-problems\n\nChange-Id: Ib8a238f5ad4329527147be72331b87f57877f68e\n'}, {'number': 3, 'created': '2019-10-16 13:36:22.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/798b7dfc5396b827f0aba51a67972ff9e61036d6', 'message': 'Build pdf doc\n\nThe is one of community goals that each project should produce a\nsingle PDF file. The pdf should be in the output of openstack-tox-docs\njob.\n\nTeX packages are required to build PDF locally, following is\nrecommended:\n\n* inkscape\n* texlive-latex-base\n* texlive-latex-extra\n* texlive-fonts-recommended\n\nMore about the goal:\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\nhttps://etherpad.openstack.org/p/train-pdf-support-goal\nhttps://etherpad.openstack.org/p/pdf-goal-train-common-problems\n\nChange-Id: Ib8a238f5ad4329527147be72331b87f57877f68e\n'}]",1,682616,798b7dfc5396b827f0aba51a67972ff9e61036d6,21,7,3,14826,,,0,"Build pdf doc

The is one of community goals that each project should produce a
single PDF file. The pdf should be in the output of openstack-tox-docs
job.

TeX packages are required to build PDF locally, following is
recommended:

* inkscape
* texlive-latex-base
* texlive-latex-extra
* texlive-fonts-recommended

More about the goal:
https://governance.openstack.org/tc/goals/train/pdf-doc-generation.html
https://etherpad.openstack.org/p/train-pdf-support-goal
https://etherpad.openstack.org/p/pdf-goal-train-common-problems

Change-Id: Ib8a238f5ad4329527147be72331b87f57877f68e
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/16/682616/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",3,42f64865c3c3279b4bf9dafbe1db83d05f01cfcf,build-pdf-docs,[testenv:pdf-docs] basepython = python3 whitelist_externals = make deps = {[testenv:docs]deps} commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,14,1
openstack%2Fpuppet-tripleo~stable%2Fqueens~I5ec6a5b0c66579e068e811f49aae10a5f406158a,openstack/puppet-tripleo,stable/queens,I5ec6a5b0c66579e068e811f49aae10a5f406158a,Add a configurable delay to Nova Evacuate calls,MERGED,2019-10-17 07:53:27.000000000,2019-10-21 09:33:12.000000000,2019-10-21 09:33:12.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2019-10-17 07:53:27.000000000', 'files': ['manifests/profile/base/pacemaker/instance_ha.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e5d3d2269bb9b38bc5959895b4d302fb8f6f51a7', 'message': 'Add a configurable delay to Nova Evacuate calls\n\nAdd a configurable delay to Nova Evacuate calls\n\nIn case /var/lib/nova/instances resides on NFS we have seen migrations\nfailing with \'Failed to get ""write"" lock - Is another process using the\nimage\' errors.\n\nThis has been tracked down to grace/lease timeouts not having expired\nbefore attempting the migration/evacuate, so in this cases it might be\ndesirable to delay the nova evacuate call to give the storage time to\nrelease the locks.\n\nRelated resource-agents change: https://review.opendev.org/#/c/684777/\n\nNB: cherry-pick not 100% clean due to missing I00d4f97cd24f7c36eeb0a29f9c91422cf7ded3ee\n    (Add region support for instance HA). As there are no current plans\n    to backport that, we chose to adapt this review instead\n\nChange-Id: I5ec6a5b0c66579e068e811f49aae10a5f406158a\nResolves: rhbz#1740069\n(cherry picked from commit 72487d804ef4c64d16889b1b474252f6963a18c2)\n'}]",0,689097,e5d3d2269bb9b38bc5959895b4d302fb8f6f51a7,15,4,1,30126,,,0,"Add a configurable delay to Nova Evacuate calls

Add a configurable delay to Nova Evacuate calls

In case /var/lib/nova/instances resides on NFS we have seen migrations
failing with 'Failed to get ""write"" lock - Is another process using the
image' errors.

This has been tracked down to grace/lease timeouts not having expired
before attempting the migration/evacuate, so in this cases it might be
desirable to delay the nova evacuate call to give the storage time to
release the locks.

Related resource-agents change: https://review.opendev.org/#/c/684777/

NB: cherry-pick not 100% clean due to missing I00d4f97cd24f7c36eeb0a29f9c91422cf7ded3ee
    (Add region support for instance HA). As there are no current plans
    to backport that, we chose to adapt this review instead

Change-Id: I5ec6a5b0c66579e068e811f49aae10a5f406158a
Resolves: rhbz#1740069
(cherry picked from commit 72487d804ef4c64d16889b1b474252f6963a18c2)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/97/689097/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker/instance_ha.pp'],1,e5d3d2269bb9b38bc5959895b4d302fb8f6f51a7,iha_stein-stable/queens,"# [*evacuate_delay*] # (Optional) Integer, seconds to wait before starting the nova evacuate # Defaults to hiera('tripleo::instanceha::evacuate_delay', 0) # $evacuate_delay = hiera('tripleo::instanceha::evacuate_delay', 0), if $evacuate_delay > 0 { $evacuate_param = "" evacuate_delay=${evacuate_delay}"" } else { $evacuate_param = '' } resource_params => ""auth_url=${keystone_endpoint_url} username=${keystone_admin} password=${keystone_password} user_domain=${user_domain} project_domain=${project_domain} tenant_name=${keystone_admin} ${iha_no_shared_storage}${evacuate_param}"","," resource_params => ""auth_url=${keystone_endpoint_url} username=${keystone_admin} password=${keystone_password} user_domain=${user_domain} project_domain=${project_domain} tenant_name=${keystone_admin} ${iha_no_shared_storage}"",",11,1
openstack%2Fkolla-ansible~master~I89ee276917e5b9170746e07b7f644c7593b03da1,openstack/kolla-ansible,master,I89ee276917e5b9170746e07b7f644c7593b03da1,Docs: add nova cells,MERGED,2019-10-14 15:45:56.000000000,2019-10-21 09:25:14.000000000,2019-10-21 09:22:34.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28743}, {'_account_id': 30356}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-14 15:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/97b432f42f5715e4ebb4ade19f006ba5bd015bb7', 'message': 'Docs: add nova cells\n\nAdd documentation about deploying nova with multiple cells.\n\nChange-Id: I89ee276917e5b9170746e07b7f644c7593b03da1\nDepends-On: https://review.opendev.org/#/c/675659/\nRelated: blueprint bp/support-nova-cells\n'}, {'number': 2, 'created': '2019-10-14 16:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1a6fd1355daed8ee7b1ae42ae9a0e2c68926313e', 'message': 'Docs: add nova cells\n\nAdd documentation about deploying nova with multiple cells.\n\nChange-Id: I89ee276917e5b9170746e07b7f644c7593b03da1\nDepends-On: https://review.opendev.org/#/c/675659/\nRelated: blueprint bp/support-nova-cells\n'}, {'number': 3, 'created': '2019-10-15 11:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/00fdea2d05a506b7bcf032631097261b04926f94', 'message': 'Docs: add nova cells\n\nAdd documentation about deploying nova with multiple cells.\n\nChange-Id: I89ee276917e5b9170746e07b7f644c7593b03da1\nDepends-On: https://review.opendev.org/#/c/675659/\nRelated: blueprint bp/support-nova-cells\n'}, {'number': 4, 'created': '2019-10-15 12:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/95ee35c28cbbae90ba591bcf925010fd7a7cb31c', 'message': 'Docs: add nova cells\n\nAdd documentation about deploying nova with multiple cells.\n\nChange-Id: I89ee276917e5b9170746e07b7f644c7593b03da1\nDepends-On: https://review.opendev.org/#/c/675659/\nRelated: blueprint bp/support-nova-cells\n'}, {'number': 5, 'created': '2019-10-15 15:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f0352b23d153eed49aae2fd1300e098b8fe138b9', 'message': 'Docs: add nova cells\n\nAdd documentation about deploying nova with multiple cells.\n\nChange-Id: I89ee276917e5b9170746e07b7f644c7593b03da1\nDepends-On: https://review.opendev.org/#/c/675659/\nRelated: blueprint bp/support-nova-cells\n'}, {'number': 6, 'created': '2019-10-17 08:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/630e5751a2ddad346a678a73b7f216f8198cb4ac', 'message': 'Docs: add nova cells\n\nAdd documentation about deploying nova with multiple cells.\n\nChange-Id: I89ee276917e5b9170746e07b7f644c7593b03da1\nDepends-On: https://review.opendev.org/#/c/675659/\nRelated: blueprint bp/support-nova-cells\n'}, {'number': 7, 'created': '2019-10-17 12:43:52.000000000', 'files': ['doc/source/reference/compute/index.rst', 'doc/source/user/multinode.rst', 'doc/source/reference/compute/nova-cells-guide.rst', 'doc/source/reference/compute/nova-guide.rst', 'doc/source/user/operating-kolla.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/52bc6f609a97a795b95ef60770b66a8ee3380d86', 'message': 'Docs: add nova cells\n\nAdd documentation about deploying nova with multiple cells.\n\nChange-Id: I89ee276917e5b9170746e07b7f644c7593b03da1\nDepends-On: https://review.opendev.org/#/c/675659/\nRelated: blueprint bp/support-nova-cells\n'}]",17,688432,52bc6f609a97a795b95ef60770b66a8ee3380d86,37,7,7,14826,,,0,"Docs: add nova cells

Add documentation about deploying nova with multiple cells.

Change-Id: I89ee276917e5b9170746e07b7f644c7593b03da1
Depends-On: https://review.opendev.org/#/c/675659/
Related: blueprint bp/support-nova-cells
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/32/688432/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/compute/index.rst', 'doc/source/user/multinode.rst', 'doc/source/reference/compute/nova-cells-guide.rst', 'doc/source/reference/compute/nova-guide.rst']",4,97b432f42f5715e4ebb4ade19f006ba5bd015bb7,bp/support-nova-cells, Cells ===== Information on using Nova Cells V2 to scale out can be found in :doc:`nova-cells-guide`.,,264,0
openstack%2Fkolla-ansible~master~I77f691b6b028d1a7f57537442a79557ede5f861e,openstack/kolla-ansible,master,I77f691b6b028d1a7f57537442a79557ede5f861e,Do not disable IPv6 in Tempest,MERGED,2019-10-17 11:58:05.000000000,2019-10-21 09:24:05.000000000,2019-10-21 09:22:32.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 28743}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-17 11:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3444c4b89b0026cbe00ddc8982328fac1723540f', 'message': 'Do not disable IPv6 in Tempest\n\nIPv6 need not have been disabled in Tempest before either.\n\nChange-Id: I77f691b6b028d1a7f57537442a79557ede5f861e\n'}, {'number': 2, 'created': '2019-10-17 11:58:48.000000000', 'files': ['releasenotes/notes/tempest-ipv6-default-966350472d857643.yaml', 'ansible/roles/tempest/templates/tempest.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/baa85527c98095b163fd543a9f26e29f58b287de', 'message': 'Do not disable IPv6 in Tempest\n\nIPv6 need not have been disabled in Tempest before either.\n\nChange-Id: I77f691b6b028d1a7f57537442a79557ede5f861e\n'}]",0,689139,baa85527c98095b163fd543a9f26e29f58b287de,11,5,2,30491,,,0,"Do not disable IPv6 in Tempest

IPv6 need not have been disabled in Tempest before either.

Change-Id: I77f691b6b028d1a7f57537442a79557ede5f861e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/39/689139/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/tempest/templates/tempest.conf.j2'],1,3444c4b89b0026cbe00ddc8982328fac1723540f,tempest-ipv6-default,,[network-feature-enabled] ipv6 = false ,0,3
openstack%2Fkolla-ansible~stable%2Fstein~I3c57c0fe254b6166db55fa33358be646a4a23192,openstack/kolla-ansible,stable/stein,I3c57c0fe254b6166db55fa33358be646a4a23192,Do not install ntp package on host when not used,MERGED,2019-10-18 12:20:10.000000000,2019-10-21 09:23:48.000000000,2019-10-21 09:22:31.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-18 12:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ab06e427b9c3d26a54b6c3733276d6a6ea4df879', 'message': 'Do not install ntp package on host when not used\n\nThis could badly affect containerized chrony\non Debian family distros.\n\nChange-Id: I3c57c0fe254b6166db55fa33358be646a4a23192\nCloses-bug: #1847863\n(cherry picked from commit e91860c35750879078d4e219bf57c329436edbbe)\n'}, {'number': 2, 'created': '2019-10-20 15:00:08.000000000', 'files': ['ansible/roles/baremetal/tasks/install.yml', 'ansible/roles/baremetal/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a1d58df74a3babf12cec91f6f6ffd03e7ae6e7c0', 'message': 'Do not install ntp package on host when not used\n\nThis could badly affect containerized chrony\non Debian family distros.\n\nAdapted for Stein which did not allow empty package names\nas skipped.\nRocky, on the other hand, has already been patched with\nthis functionality due to Ceph on CentOS.\n\nChange-Id: I3c57c0fe254b6166db55fa33358be646a4a23192\nCloses-bug: #1847863\n(cherry picked from commit e91860c35750879078d4e219bf57c329436edbbe)\n'}]",0,689435,a1d58df74a3babf12cec91f6f6ffd03e7ae6e7c0,13,4,2,30491,,,0,"Do not install ntp package on host when not used

This could badly affect containerized chrony
on Debian family distros.

Adapted for Stein which did not allow empty package names
as skipped.
Rocky, on the other hand, has already been patched with
this functionality due to Ceph on CentOS.

Change-Id: I3c57c0fe254b6166db55fa33358be646a4a23192
Closes-bug: #1847863
(cherry picked from commit e91860c35750879078d4e219bf57c329436edbbe)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/35/689435/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/baremetal/defaults/main.yml'],1,ab06e427b9c3d26a54b6c3733276d6a6ea4df879,bug/1847863-stable/stein," - ""{% if enable_host_ntp | bool %}ntp{% endif %}"" - ""{% if enable_host_ntp | bool %}ntp{% endif %}""", - ntp - ntp,2,2
openstack%2Fkolla-ansible~stable%2Frocky~I3c57c0fe254b6166db55fa33358be646a4a23192,openstack/kolla-ansible,stable/rocky,I3c57c0fe254b6166db55fa33358be646a4a23192,Do not install ntp package on host when not used,MERGED,2019-10-18 12:20:16.000000000,2019-10-21 09:22:00.000000000,2019-10-21 09:19:33.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-10-18 12:20:16.000000000', 'files': ['ansible/roles/baremetal/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2675bd353d3af48747a43eb062b83978ccc9e9db', 'message': 'Do not install ntp package on host when not used\n\nThis could badly affect containerized chrony\non Debian family distros.\n\nChange-Id: I3c57c0fe254b6166db55fa33358be646a4a23192\nCloses-bug: #1847863\n(cherry picked from commit e91860c35750879078d4e219bf57c329436edbbe)\n'}]",0,689436,2675bd353d3af48747a43eb062b83978ccc9e9db,8,3,1,30491,,,0,"Do not install ntp package on host when not used

This could badly affect containerized chrony
on Debian family distros.

Change-Id: I3c57c0fe254b6166db55fa33358be646a4a23192
Closes-bug: #1847863
(cherry picked from commit e91860c35750879078d4e219bf57c329436edbbe)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/689436/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/baremetal/defaults/main.yml'],1,2675bd353d3af48747a43eb062b83978ccc9e9db,bug/1847863-stable/stein-stable/rocky," - ""{% if enable_host_ntp | bool %}ntp{% endif %}"" - ""{% if enable_host_ntp | bool %}ntp{% endif %}""", - ntp - ntp,2,2
openstack%2Fkolla-ansible~stable%2Fstein~I17b7f878c742fa8db66f738526855a02ab9f1905,openstack/kolla-ansible,stable/stein,I17b7f878c742fa8db66f738526855a02ab9f1905,CI: Increase job run attempts to 5,MERGED,2019-10-19 17:41:35.000000000,2019-10-21 09:21:50.000000000,2019-10-21 09:19:32.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-10-19 17:41:35.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/713c75f0730c9c9d95c1b899d19e1860dd091428', 'message': 'CI: Increase job run attempts to 5\n\nAttempts affect pre failures.\nThis means we can increase stability of jobs by rejecting nodes\nthat fail pre without failing runs at the same time (unless we\nare really unlucky and hit b0rken nodes 5 times in a row).\n\nChange-Id: I17b7f878c742fa8db66f738526855a02ab9f1905\n(cherry picked from commit f3f4a93e3bc80951bfe6deb00abcb11c34ce9830)\n'}]",0,689630,713c75f0730c9c9d95c1b899d19e1860dd091428,9,3,1,30491,,,0,"CI: Increase job run attempts to 5

Attempts affect pre failures.
This means we can increase stability of jobs by rejecting nodes
that fail pre without failing runs at the same time (unless we
are really unlucky and hit b0rken nodes 5 times in a row).

Change-Id: I17b7f878c742fa8db66f738526855a02ab9f1905
(cherry picked from commit f3f4a93e3bc80951bfe6deb00abcb11c34ce9830)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/30/689630/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,713c75f0730c9c9d95c1b899d19e1860dd091428,ci-attempts-stable/stein, attempts: 5, attempts: 1,1,1
openstack%2Fpuppet-tripleo~master~I1296f3ee6b785acd00ab470311b02da498be6131,openstack/puppet-tripleo,master,I1296f3ee6b785acd00ab470311b02da498be6131,Use MPM prefork for Centos 7/Fedora CI Train jobs,ABANDONED,2019-08-05 13:15:36.000000000,2019-10-21 09:20:00.000000000,,"[{'_account_id': 6926}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-05 13:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8fb1b24cdd2d0618478959dae366e1a81b75d4dc', 'message': 'Allow Centos 7 & Fedora CI passing for Apache base\n\nThere is no /etc/httpd/conf.modules.d path for RHEL 7 OS family.\nAs of RHEL 8, apache module configs reside in /etc/httpd/conf.d.\n\nWhile the latter should be only used as of Train, we have to keep a w/a\nfor the missing former path, unless we get rid of Centos 7 CI/promo\njobs for Train.\n\nRelated-bug: #1838972\n\nChange-Id: I1296f3ee6b785acd00ab470311b02da498be6131\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2019-08-05 13:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/14bc846b1650b32029e2aadd76c1e08c9e77517d', 'message': 'Allow Centos 7 & Fedora CI passing for Apache base\n\nThere is no /etc/httpd/conf.modules.d path for RHEL 7 OS family.\nAs of RHEL 8, apache module configs reside in /etc/httpd/conf.d.\n\nWhile the latter should be only used as of Train, we have to keep a w/a\nfor the missing former path, unless we get rid of Centos 7 CI/promo\njobs for Train.\n\nRevert this patch after no more Centos 7/Fedora CI jobs left for Train\n\nRelated-bug: #1838972\n\nChange-Id: I1296f3ee6b785acd00ab470311b02da498be6131\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2019-08-05 13:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5edce3226d0258680adc0b557f84f54568d69763', 'message': 'Allow Centos 7 & Fedora CI passing for Apache base\n\nThere is no /etc/httpd/conf.modules.d path for RHEL >7 OS family.\nAs of RHEL 8, apache module configs reside in /etc/httpd/conf.d.\n\nWhile the latter should be only used as of Train, we have to keep a w/a\nfor the missing former path, unless we get rid of Centos 7 CI/promo\njobs for Train.\n\nRevert this patch after no more Centos 7/Fedora CI jobs left for Train\n\nRelated-bug: #1838972\n\nChange-Id: I1296f3ee6b785acd00ab470311b02da498be6131\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2019-08-06 09:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f669261c3fda5a83a36bafd66df0e8babc87f56f', 'message': 'Allow Centos 7 & Fedora CI passing for Apache base\n\nThere is no /etc/httpd/conf.modules.d path for RHEL >7 OS family.\nAs of RHEL 8, apache module configs reside in /etc/httpd/conf.d.\n\nWhile the latter should be only used as of Train, we have to keep a w/a\nfor the missing former path, unless we get rid of Centos 7 CI/promo\njobs for Train.\n\nRevert this patch after no more Centos 7/Fedora CI jobs left for Train\n\nRelated-bug: #1838972\nDepends-On: https://review.opendev.org/674604\n\nChange-Id: I1296f3ee6b785acd00ab470311b02da498be6131\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2019-08-06 13:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/99d93fccd7cc472962ca1f70acaa32cc09fec07a', 'message': 'Allow Centos 7 & Fedora CI passing for Apache base\n\nThere is no /etc/httpd/conf.modules.d path for RHEL >7 OS family.\nAs of RHEL 8, apache module configs reside in /etc/httpd/conf.d.\n\nWhile the latter should be only used as of Train, we have to keep a w/a\nfor the missing former path, unless we get rid of Centos 7 CI/promo\njobs for Train.\n\nRevert this patch after no more Centos 7/Fedora CI jobs left for Train\n\nRelated-bug: #1838972\nDepends-On: https://review.opendev.org/674580\n\nChange-Id: I1296f3ee6b785acd00ab470311b02da498be6131\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2019-08-09 13:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5076434107afbc62e4f5132c58b14dc1b13c5aad', 'message': 'Allow Centos 7 & Fedora CI passing for Apache base\n\nThere is no /etc/httpd/conf.modules.d path for RHEL >7 OS family.\nAs of RHEL 8, apache module configs reside in /etc/httpd/conf.d.\n\nWhile the latter should be only used as of Train, we have to keep a w/a\nfor the missing former path, unless we get rid of Centos 7 CI/promo\njobs for Train.\n\nRevert this patch after no more Centos 7/Fedora CI jobs left for Train\n\nRelated-bug: #1838972\n\nChange-Id: I1296f3ee6b785acd00ab470311b02da498be6131\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2019-08-12 07:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0ba1df2303d79ae38c089c1c57734383b5deffe8', 'message': 'Use MPM prefork for Centos 7/Fedora CI Train jobs\n\nFor Centos 7, apache RPM hardcodes prefork MPM in\n/etc/httpd/conf.modules.d/00-mpm.conf. That cannot be properly\nconfigured with container puppet tasks in t-h-t because as of RHEL 8 OS\nfamily, apache module configs reside in /etc/httpd/conf.d and there is\nno more /etc/httpd/conf.modules.d.\n\nTo w/a that for Centos 7 CI in Train, always use MPM prefork, so there\nis no more multiple MPM modules configuration conflicts.\n\nThere is no other/clean way for Kolla startup scripts to pick those OS\nversion dependent paths for kolla configs in t-h-t.\n\nRevert this patch after no more Centos 7/Fedora CI jobs left for Train.\n\nRelated-bug: #1838972\n\nChange-Id: I1296f3ee6b785acd00ab470311b02da498be6131\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 8, 'created': '2019-08-13 13:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/684202c5288bdaaba23af645019c6f076d3e4f89', 'message': 'Use MPM prefork for Centos 7/Fedora CI Train jobs\n\nFor Centos 7, apache RPM hardcodes prefork MPM in\n/etc/httpd/conf.modules.d/00-mpm.conf. That cannot be properly\nconfigured with container puppet tasks in t-h-t because as of RHEL 8 OS\nfamily, apache module configs reside in /etc/httpd/conf.d and there is\nno more /etc/httpd/conf.modules.d.\n\nTo w/a that for Centos 7 CI in Train, always use MPM prefork, so there\nis no more multiple MPM modules configuration conflicts.\n\nThere is no other/clean way for Kolla startup scripts to pick those OS\nversion dependent paths for kolla configs in t-h-t.\n\nRevert this patch after no more Centos 7/Fedora CI jobs left for Train.\n\nRelated-bug: #1838972\n\nChange-Id: I1296f3ee6b785acd00ab470311b02da498be6131\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 9, 'created': '2019-08-14 14:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/85599e6e1b039725c4e4ee6d23f3bafe09b1f11f', 'message': 'Use MPM prefork for Centos 7/Fedora CI Train jobs\n\nFor Centos 7, apache RPM hardcodes prefork MPM in\n/etc/httpd/conf.modules.d/00-mpm.conf. That cannot be properly\nconfigured with container puppet tasks in t-h-t because as of RHEL 8 OS\nfamily, apache module configs reside in /etc/httpd/conf.d and there is\nno more /etc/httpd/conf.modules.d.\n\nTo w/a that for Centos 7 CI in Train, always use MPM prefork, so there\nis no more multiple MPM modules configuration conflicts.\n\nThere is no other/clean way for Kolla startup scripts to pick those OS\nversion dependent paths for kolla configs in t-h-t.\n\nRevert this patch after no more Centos 7/Fedora CI jobs left for Train.\n\nRelated-bug: #1838972\n\nChange-Id: I1296f3ee6b785acd00ab470311b02da498be6131\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 10, 'created': '2019-08-26 07:22:30.000000000', 'files': ['manifests/profile/base/apache.pp', 'spec/classes/tripleo_profile_base_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/da9048b2a967690b9bda88cf1a873777bfd11083', 'message': 'Use MPM prefork for Centos 7/Fedora CI Train jobs\n\nFor Centos 7, apache RPM hardcodes prefork MPM in\n/etc/httpd/conf.modules.d/00-mpm.conf. That cannot be properly\nconfigured with container puppet tasks in t-h-t because as of RHEL 8 OS\nfamily, apache module configs reside in /etc/httpd/conf.d and there is\nno more /etc/httpd/conf.modules.d.\n\nTo w/a that for Centos 7 CI in Train, always use MPM prefork, so there\nis no more multiple MPM modules configuration conflicts.\n\nThere is no other/clean way for Kolla startup scripts to pick those OS\nversion dependent paths for kolla configs in t-h-t.\n\nRevert this patch after no more Centos 7/Fedora CI jobs left for Train.\n\nRelated-bug: #1838972\n\nChange-Id: I1296f3ee6b785acd00ab470311b02da498be6131\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",1,674604,da9048b2a967690b9bda88cf1a873777bfd11083,39,5,10,6926,,,0,"Use MPM prefork for Centos 7/Fedora CI Train jobs

For Centos 7, apache RPM hardcodes prefork MPM in
/etc/httpd/conf.modules.d/00-mpm.conf. That cannot be properly
configured with container puppet tasks in t-h-t because as of RHEL 8 OS
family, apache module configs reside in /etc/httpd/conf.d and there is
no more /etc/httpd/conf.modules.d.

To w/a that for Centos 7 CI in Train, always use MPM prefork, so there
is no more multiple MPM modules configuration conflicts.

There is no other/clean way for Kolla startup scripts to pick those OS
version dependent paths for kolla configs in t-h-t.

Revert this patch after no more Centos 7/Fedora CI jobs left for Train.

Related-bug: #1838972

Change-Id: I1296f3ee6b785acd00ab470311b02da498be6131
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/04/674604/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/apache.pp'],1,8fb1b24cdd2d0618478959dae366e1a81b75d4dc,bug/1838972," } -> # FIXME(bogdando): LP#1838972. Remove this after no more Centos 7/Fedora CI jobs # left for Train exec {'Hack /etc/httpd/conf.modules.d for Centos 7 #1': path => '/usr/bin', refreshonly => true, command => 'rm -f /etc/httpd/conf.modules.d/00-mpm.*' } -> exec {'Hack /etc/httpd/conf.modules.d for Centos 7 #2': path => '/usr/bin', refreshonly => true, command => 'rm -f /etc/httpd/conf.modules.d/prefork.*'",,12,0
openstack%2Fkolla-ansible~master~Ia18fdaf3fbfb2bfcb565eaa0f06447d00a3d46f5,openstack/kolla-ansible,master,Ia18fdaf3fbfb2bfcb565eaa0f06447d00a3d46f5,Add IPv6 control plane feature release note,MERGED,2019-10-20 17:50:03.000000000,2019-10-21 09:17:25.000000000,2019-10-21 09:14:19.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-20 17:50:03.000000000', 'files': ['releasenotes/notes/ipv6-control-plane-3deac29612e901b1.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9e5b3e3fef7e9b8227b3fac9f8b84ce3ff5d7fa9', 'message': 'Add IPv6 control plane feature release note\n\nIPv6 control plane implementation [1] follow-up.\n\n[1] Ia34e6916ea4f99e9522cd2ddde03a0a4776f7e2c\n\nChange-Id: Ia18fdaf3fbfb2bfcb565eaa0f06447d00a3d46f5\n'}]",0,689657,9e5b3e3fef7e9b8227b3fac9f8b84ce3ff5d7fa9,10,5,1,30491,,,0,"Add IPv6 control plane feature release note

IPv6 control plane implementation [1] follow-up.

[1] Ia34e6916ea4f99e9522cd2ddde03a0a4776f7e2c

Change-Id: Ia18fdaf3fbfb2bfcb565eaa0f06447d00a3d46f5
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/689657/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/ipv6-control-plane-3deac29612e901b1.yaml'],1,9e5b3e3fef7e9b8227b3fac9f8b84ce3ff5d7fa9,bp/ipv6-control-plane,--- features: - | Adds support for deployment in an IPv6 networking environment. For details of IPv6 support consult the relevant docs. ,,6,0
openstack%2Fkolla-ansible~stable%2Frocky~I17b7f878c742fa8db66f738526855a02ab9f1905,openstack/kolla-ansible,stable/rocky,I17b7f878c742fa8db66f738526855a02ab9f1905,CI: Increase job run attempts to 5,MERGED,2019-10-19 17:41:45.000000000,2019-10-21 09:16:49.000000000,2019-10-21 09:14:20.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-10-19 17:41:45.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4c3311bb25b21249382591621be5de9abe252932', 'message': 'CI: Increase job run attempts to 5\n\nAttempts affect pre failures.\nThis means we can increase stability of jobs by rejecting nodes\nthat fail pre without failing runs at the same time (unless we\nare really unlucky and hit b0rken nodes 5 times in a row).\n\nChange-Id: I17b7f878c742fa8db66f738526855a02ab9f1905\n(cherry picked from commit f3f4a93e3bc80951bfe6deb00abcb11c34ce9830)\n'}]",0,689631,4c3311bb25b21249382591621be5de9abe252932,8,3,1,30491,,,0,"CI: Increase job run attempts to 5

Attempts affect pre failures.
This means we can increase stability of jobs by rejecting nodes
that fail pre without failing runs at the same time (unless we
are really unlucky and hit b0rken nodes 5 times in a row).

Change-Id: I17b7f878c742fa8db66f738526855a02ab9f1905
(cherry picked from commit f3f4a93e3bc80951bfe6deb00abcb11c34ce9830)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/31/689631/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,4c3311bb25b21249382591621be5de9abe252932,ci-attempts-stable/stein-stable/rocky, attempts: 5, attempts: 1,1,1
openstack%2Fkolla-ansible~master~Ifa2aa387be46beb6da1d3c5a5e0da1b561af8cee,openstack/kolla-ansible,master,Ifa2aa387be46beb6da1d3c5a5e0da1b561af8cee,Fix placement being enabled always instead of with nova,MERGED,2019-10-20 17:24:25.000000000,2019-10-21 09:15:35.000000000,2019-10-21 09:14:17.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-20 17:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/14c5f507b355802f24d380433d6922fb07d7a995', 'message': 'Fix placement being enabled always instead of with nova\n\nAdds ""| bool"".\n\nBackportable to Stein.\n\nChange-Id: Ifa2aa387be46beb6da1d3c5a5e0da1b561af8cee\nCloses-bug: #1848937\n'}, {'number': 2, 'created': '2019-10-20 17:30:51.000000000', 'files': ['ansible/group_vars/all.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4d398f4b7f4e2b15284641244839463c51550747', 'message': 'Fix placement being enabled always instead of with nova\n\nAdds ""| bool"".\n\nBackportable to Stein.\n\nChange-Id: Ifa2aa387be46beb6da1d3c5a5e0da1b561af8cee\nCloses-bug: #1848937\n'}]",0,689655,4d398f4b7f4e2b15284641244839463c51550747,11,5,2,30491,,,0,"Fix placement being enabled always instead of with nova

Adds ""| bool"".

Backportable to Stein.

Change-Id: Ifa2aa387be46beb6da1d3c5a5e0da1b561af8cee
Closes-bug: #1848937
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/689655/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all.yml'],1,14c5f507b355802f24d380433d6922fb07d7a995,bug/1848937,"enable_placement: ""{{ enable_nova | bool }}""","enable_placement: ""{{ enable_nova }}""",1,1
openstack%2Fkolla-ansible~master~Id2a09f702e8503b49d2b9e73e06b2ce9f4d168a9,openstack/kolla-ansible,master,Id2a09f702e8503b49d2b9e73e06b2ce9f4d168a9,[train] Finish configuring Zun to use Placement,MERGED,2019-10-20 17:36:35.000000000,2019-10-21 09:14:18.000000000,2019-10-21 09:14:17.000000000,"[{'_account_id': 11536}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-20 17:36:35.000000000', 'files': ['ansible/roles/zun/templates/zun.conf.j2', 'ansible/group_vars/all.yml', 'tests/templates/globals-default.j2', 'etc/kolla/globals.yml', 'doc/source/reference/compute/zun-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/099a33c87d0fba4d8b9b24479c82178a3827a856', 'message': '[train] Finish configuring Zun to use Placement\n\nThis also enables Placement when Zun is enabled like Kolla Ansible\nalready does with Nova.\n\nChange-Id: Id2a09f702e8503b49d2b9e73e06b2ce9f4d168a9\nCloses-bug: #1840573\n'}]",0,689656,099a33c87d0fba4d8b9b24479c82178a3827a856,8,6,1,30491,,,0,"[train] Finish configuring Zun to use Placement

This also enables Placement when Zun is enabled like Kolla Ansible
already does with Nova.

Change-Id: Id2a09f702e8503b49d2b9e73e06b2ce9f4d168a9
Closes-bug: #1840573
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/56/689656/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/zun/templates/zun.conf.j2', 'ansible/group_vars/all.yml', 'tests/templates/globals-default.j2', 'etc/kolla/globals.yml', 'doc/source/reference/compute/zun-guide.rst']",5,099a33c87d0fba4d8b9b24479c82178a3827a856,bug/1840573,," enable_placement: ""yes""",6,4
openstack%2Fcharm-ceilometer~master~I6cf2fb970bd47a93033a95100720bc4c87529aed,openstack/charm-ceilometer,master,I6cf2fb970bd47a93033a95100720bc4c87529aed,Enable functional tests for train,MERGED,2019-10-21 07:11:43.000000000,2019-10-21 09:00:58.000000000,2019-10-21 09:00:58.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 07:11:43.000000000', 'files': ['tests/gate-basic-bionic-train', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/9cb5185253d1040bfa48f281562eb5b4aa53c268', 'message': 'Enable functional tests for train\n\nThis patch also updates the smoke test to run train.\n\nChange-Id: I6cf2fb970bd47a93033a95100720bc4c87529aed\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}]",0,689679,9cb5185253d1040bfa48f281562eb5b4aa53c268,7,3,1,7730,,,0,"Enable functional tests for train

This patch also updates the smoke test to run train.

Change-Id: I6cf2fb970bd47a93033a95100720bc4c87529aed
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/79/689679/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/gate-basic-bionic-train', 'tox.ini']",2,9cb5185253d1040bfa48f281562eb5b4aa53c268,charms-train-function-test, bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-train --no-destroy, bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-stein --no-destroy,26,1
openstack%2Fproject-config~master~Ida94212913673a9a590f0bc3e345274c148914d8,openstack/project-config,master,Ida94212913673a9a590f0bc3e345274c148914d8,Add gerritbot trigger for OpenDev/x charm projects,MERGED,2019-10-18 06:38:23.000000000,2019-10-21 09:00:20.000000000,2019-10-21 09:00:20.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 06:38:23.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8f7e528403a5a6022ce8d3dd66ad9854ae4b6eeb', 'message': 'Add gerritbot trigger for OpenDev/x charm projects\n\nChange-Id: Ida94212913673a9a590f0bc3e345274c148914d8\n'}]",0,689325,8f7e528403a5a6022ce8d3dd66ad9854ae4b6eeb,7,3,1,13686,,,0,"Add gerritbot trigger for OpenDev/x charm projects

Change-Id: Ida94212913673a9a590f0bc3e345274c148914d8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/25/689325/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,8f7e528403a5a6022ce8d3dd66ad9854ae4b6eeb,charm-gerritbot, - ^x/charm.*,,1,0
openstack%2Freleases~master~I240496b0032577d8dc97837dba7bc43a4f5cc2d3,openstack/releases,master,I240496b0032577d8dc97837dba7bc43a4f5cc2d3,TripleO RC tags + stable/train branches,MERGED,2019-10-18 15:25:48.000000000,2019-10-21 08:57:57.000000000,2019-10-21 08:57:57.000000000,"[{'_account_id': 308}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 11904}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 15:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7c7e138938b56368db2ccd45f702e8eefa5e30d9', 'message': 'TripleO RC tags + stable/train branches\n\nChange-Id: I240496b0032577d8dc97837dba7bc43a4f5cc2d3\n'}, {'number': 2, 'created': '2019-10-18 20:37:42.000000000', 'files': ['deliverables/train/os-net-config.yaml', 'deliverables/train/tripleo-validations.yaml', 'deliverables/train/paunch.yaml', 'deliverables/train/tripleo-image-elements.yaml', 'deliverables/train/os-collect-config.yaml', 'deliverables/train/os-refresh-config.yaml', 'deliverables/train/tripleo-ansible.yaml', 'deliverables/train/tripleo-heat-templates.yaml', 'deliverables/train/puppet-tripleo.yaml', 'deliverables/train/tripleo-puppet-elements.yaml', 'deliverables/train/os-apply-config.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c3e137bc085869faea2b9a053167e6d9abd5a169', 'message': 'TripleO RC tags + stable/train branches\n\nChange-Id: I240496b0032577d8dc97837dba7bc43a4f5cc2d3\n'}]",0,689520,c3e137bc085869faea2b9a053167e6d9abd5a169,11,6,2,3153,,,0,"TripleO RC tags + stable/train branches

Change-Id: I240496b0032577d8dc97837dba7bc43a4f5cc2d3
",git fetch https://review.opendev.org/openstack/releases refs/changes/20/689520/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/os-net-config.yaml', 'deliverables/train/tripleo-validations.yaml', 'deliverables/train/paunch.yaml', 'deliverables/train/tripleo-image-elements.yaml', 'deliverables/train/os-collect-config.yaml', 'deliverables/train/os-refresh-config.yaml', 'deliverables/train/tripleo-ansible.yaml', 'deliverables/train/tripleo-heat-templates.yaml', 'deliverables/train/puppet-tripleo.yaml', 'deliverables/train/os-apply-config.yaml', 'deliverables/train/tripleo-puppet-elements.yaml']",11,7c7e138938b56368db2ccd45f702e8eefa5e30d9,tripleo/branch, - version: 11.2.0 projects: - repo: openstack/tripleo-puppet-elements hash: 32c74e4a66831ea622b081e3e41c74299441e822 branches: - name: stable/train location: 11.2.0,,77,0
openstack%2Fcharm-ceilometer-agent~master~I39938b2cd0f08536ff98314cfda256675f17cdc4,openstack/charm-ceilometer-agent,master,I39938b2cd0f08536ff98314cfda256675f17cdc4,Enable functional tests for train,MERGED,2019-10-21 07:09:49.000000000,2019-10-21 08:57:51.000000000,2019-10-21 08:57:51.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 07:09:49.000000000', 'files': ['tests/gate-basic-bionic-train', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/a4a7488f675b615c587faab749d16494ef0820c1', 'message': 'Enable functional tests for train\n\nThis patch also updates the smoke test to run train.\n\nChange-Id: I39938b2cd0f08536ff98314cfda256675f17cdc4\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}]",0,689678,a4a7488f675b615c587faab749d16494ef0820c1,7,3,1,7730,,,0,"Enable functional tests for train

This patch also updates the smoke test to run train.

Change-Id: I39938b2cd0f08536ff98314cfda256675f17cdc4
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/78/689678/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/gate-basic-bionic-train', 'tox.ini']",2,a4a7488f675b615c587faab749d16494ef0820c1,charms-train-function-test, bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-train --no-destroy, bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-stein --no-destroy,25,1
openstack%2Fpuppet-pacemaker~master~I0140b49fab02a64a3c4e62fa42149931d2e3da0b,openstack/puppet-pacemaker,master,I0140b49fab02a64a3c4e62fa42149931d2e3da0b,Prepare for new release 0.8.0,MERGED,2019-10-17 14:57:29.000000000,2019-10-21 08:55:57.000000000,2019-10-21 08:55:57.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-17 14:57:29.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/018023ab72f5898da4de548c9a8f1ca47dc7b079', 'message': 'Prepare for new release 0.8.0\n\nSome new backwards-compatible features have been added since 0.7.2.\n\nChange-Id: I0140b49fab02a64a3c4e62fa42149931d2e3da0b\n'}]",0,689192,018023ab72f5898da4de548c9a8f1ca47dc7b079,7,4,1,16312,,,0,"Prepare for new release 0.8.0

Some new backwards-compatible features have been added since 0.7.2.

Change-Id: I0140b49fab02a64a3c4e62fa42149931d2e3da0b
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/92/689192/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,018023ab72f5898da4de548c9a8f1ca47dc7b079,," ""version"": ""0.8.0"","," ""version"": ""0.7.2"",",1,1
openstack%2Frpm-packaging~stable%2Ftrain~I612bd05c7393b1ae487e89bd74b61ef7225fd086,openstack/rpm-packaging,stable/train,I612bd05c7393b1ae487e89bd74b61ef7225fd086,openstack-placement: make the template more generic,MERGED,2019-10-14 10:32:51.000000000,2019-10-21 08:54:46.000000000,2019-10-21 08:54:45.000000000,"[{'_account_id': 6593}, {'_account_id': 8482}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-14 10:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f9b931af537dec64912a372536116cc49914c417', 'message': 'openstack-placement: make the template more generic\n\nThe service macros included with the spec do not work fine on RDO, since\nthey are not included for Fedora/CentOS. Moving to the scripts used\nfor both SUSE and RDO.\n\nAlso:\n- Use apache macros instead of hardcoded directories\n- Do not create files under /srv/www on RDO\n\nChange-Id: I612bd05c7393b1ae487e89bd74b61ef7225fd086\n(cherry picked from commit 4c593802397168ba9e3001f7dc2f06be45a65bf8)\n'}, {'number': 2, 'created': '2019-10-21 03:30:37.000000000', 'files': ['openstack/openstack-placement/openstack-placement.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7c83428bfad4c918dc27dbbb47a0353159d9ae1a', 'message': 'openstack-placement: make the template more generic\n\nThe service macros included with the spec do not work fine on RDO, since\nthey are not included for Fedora/CentOS. Moving to the scripts used\nfor both SUSE and RDO.\n\nAlso:\n- Use apache macros instead of hardcoded directories\n- Do not create files under /srv/www on RDO\n\nChange-Id: I612bd05c7393b1ae487e89bd74b61ef7225fd086\n(cherry picked from commit 4c593802397168ba9e3001f7dc2f06be45a65bf8)\n'}]",0,688380,7c83428bfad4c918dc27dbbb47a0353159d9ae1a,24,6,2,13294,,,0,"openstack-placement: make the template more generic

The service macros included with the spec do not work fine on RDO, since
they are not included for Fedora/CentOS. Moving to the scripts used
for both SUSE and RDO.

Also:
- Use apache macros instead of hardcoded directories
- Do not create files under /srv/www on RDO

Change-Id: I612bd05c7393b1ae487e89bd74b61ef7225fd086
(cherry picked from commit 4c593802397168ba9e3001f7dc2f06be45a65bf8)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/80/688380/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstack-placement/openstack-placement.spec.j2'],1,f9b931af537dec64912a372536116cc49914c417,,BuildRequires: systemd-rpm-macrosBuildRequires: systemd Requires(post): systemd Requires(postun): systemdRequires(preun): systemd%if 0%{?suse_version} BuildRequires: apache2-mod_wsgi-python3 Requires: apache2-mod_wsgi-python3 %else BuildRequires: python3-mod_wsgi Requires: python3-mod_wsgi %endif%if 0%{?suse_version}%endif install -d %{buildroot}%apache_site_dirinstall -p -D -m 644 %{SOURCE3} %{buildroot}%apache_site_dir%if 0%{?suse_version}%endif%systemd_post openstack-placement-api.service%systemd_preun openstack-placement-api.service%systemd_postun_with_restart openstack-placement-api.service%{apache_site_dir}/openstack-placement-api.conf.sample %if 0%{?suse_version}%endif,install -d %{buildroot}%{_sysconfdir}/apache2/vhosts.dinstall -p -D -m 644 %{SOURCE3} %{buildroot}%{_sysconfdir}/apache2/vhosts.d/%pre api %service_add_pre openstack-placement-api.service %service_add_post openstack-placement-api.service%service_del_preun openstack-placement-api.service%restart_on_update openstack-placement-api.service %service_del_postun openstack-placement-api.service%{_sysconfdir}/apache2/ %{_sysconfdir}/apache2/vhosts.d/ %{_sysconfdir}/apache2/vhosts.d/openstack-placement-api.conf.sample##/srv/www/openstack-placement-api/app.wsgi,24,13
openstack%2Fcharm-neutron-api-plugin-ovn~master~Icbfe337f5231a39310d0846f3bce38a25925e819,openstack/charm-neutron-api-plugin-ovn,master,Icbfe337f5231a39310d0846f3bce38a25925e819,Expose useful configuration options,MERGED,2019-10-18 04:37:13.000000000,2019-10-21 08:41:30.000000000,2019-10-21 08:41:30.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 04:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/6727c602a808df0e5312da88e23fd559cf3aa0a2', 'message': 'Expose useful configuration options\n\nRemove unuseful configuration options added by layers.\n\nUpdate first supported release to be bionic-train / eoan.\n\nAdd gerrit add zuul bits.\n\nChange-Id: Icbfe337f5231a39310d0846f3bce38a25925e819\n'}, {'number': 2, 'created': '2019-10-18 06:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/73cdf48c874b21050aafd992664f7908521388eb', 'message': 'Expose useful configuration options\n\nRemove unuseful configuration options added by layers.\n\nUpdate first supported release to be bionic-train / eoan.\n\nAdd gerrit add zuul bits.\n\nChange-Id: Icbfe337f5231a39310d0846f3bce38a25925e819\n'}, {'number': 3, 'created': '2019-10-18 11:03:33.000000000', 'files': ['src/tests/bundles/eoan.yaml', '.gitreview', '.zuul.yaml', 'src/reactive/neutron_api_plugin_ovn_handlers.py', 'src/metadata.yaml', 'src/test-requirements.txt', 'src/lib/charm/openstack/neutron_api_plugin_ovn.py', 'src/tests/tests.yaml', 'unit_tests/test_reactive_neutron_api_plugin_ovn_handlers.py', 'src/layer.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/967ea9b41ba253dbb8e6e2b053186ea538ae0b26', 'message': 'Expose useful configuration options\n\nRemove unuseful configuration options added by layers.\n\nUpdate first supported release to be bionic-train / eoan.\n\nAdd gerrit add zuul bits.\n\nChange-Id: Icbfe337f5231a39310d0846f3bce38a25925e819\n'}]",0,689301,967ea9b41ba253dbb8e6e2b053186ea538ae0b26,20,4,3,13686,,,0,"Expose useful configuration options

Remove unuseful configuration options added by layers.

Update first supported release to be bionic-train / eoan.

Add gerrit add zuul bits.

Change-Id: Icbfe337f5231a39310d0846f3bce38a25925e819
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/01/689301/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/tests/bundles/eoan.yaml', '.gitreview', '.zuul.yaml', 'src/reactive/neutron_api_plugin_ovn_handlers.py', 'src/lib/charm/openstack/neutron_api_plugin_ovn.py', 'src/tests/tests.yaml', 'unit_tests/test_reactive_neutron_api_plugin_ovn_handlers.py', 'src/layer.yaml', 'src/tests/bundles/bionic-train.yaml']",10,6727c602a808df0e5312da88e23fd559cf3aa0a2,ovn-charm, openstack-origin: cloud:bionic-train openstack-origin: cloud:bionic-train charm: cs:~openstack-charmers-next/neutron-api-plugin-ovn source: cloud:bionic-train, openstack-origin: cloud:bionic-stein series: bionic openstack-origin: cloud:bionic-stein charm: neutron-api-plugin-ovn series: bionic source: cloud:bionic-stein,191,56
openstack%2Ftacker~master~Ieaa8853b0ccd85907088b733f91a80e8eaf0f62d,openstack/tacker,master,Ieaa8853b0ccd85907088b733f91a80e8eaf0f62d,PDF documentation build,NEW,2019-09-04 11:06:17.000000000,2019-10-21 08:38:10.000000000,,"[{'_account_id': 6547}, {'_account_id': 18955}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-04 11:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/559bfd60f1fce01da6eb4e3371aa4842460ab9e1', 'message': 'PDF documentation build\n\nChange-Id: Ieaa8853b0ccd85907088b733f91a80e8eaf0f62d\nStory: 2006099\nTask: 35129\n'}, {'number': 2, 'created': '2019-09-04 12:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/12f5fa1b6985a9de9e0a9e7d78046b973c1295ef', 'message': 'PDF documentation build\n\nChange-Id: Ieaa8853b0ccd85907088b733f91a80e8eaf0f62d\nStory: 2006099\n'}, {'number': 3, 'created': '2019-09-05 06:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/3b8076840069bdf9bcee880363b13665cb4ecf37', 'message': 'PDF documentation build\n\nChange-Id: Ieaa8853b0ccd85907088b733f91a80e8eaf0f62d\nStory: 2006099\n'}, {'number': 4, 'created': '2019-09-13 08:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ba8c29818b5c5aac685dd58a366bb573a39eeacd', 'message': 'PDF documentation build\n\nChange-Id: Ieaa8853b0ccd85907088b733f91a80e8eaf0f62d\nStory: 2006123\nTask: 35519\n'}, {'number': 5, 'created': '2019-09-16 09:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/bc4e448fef1d207ec5ea72bc404e1bc7fcc62736', 'message': 'PDF documentation build\n\nChange-Id: Ieaa8853b0ccd85907088b733f91a80e8eaf0f62d\nStory: 2006123\nTask: 35519\n'}, {'number': 6, 'created': '2019-09-23 13:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/295b4ff2657b3257f1ddb0bdc4e2ebfb49289fdb', 'message': 'PDF documentation build\n\nChange-Id: Ieaa8853b0ccd85907088b733f91a80e8eaf0f62d\nStory: 2006123\nTask: 35519\n'}, {'number': 7, 'created': '2019-10-03 11:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f58d27b8447a8813abcd0c33392b68c53f29a332', 'message': 'PDF documentation build\n\nChange-Id: Ieaa8853b0ccd85907088b733f91a80e8eaf0f62d\nStory: 2006123\nTask: 35519\n'}, {'number': 8, 'created': '2019-10-16 19:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/80e0e07d50243c45974400df4bcb9da70a8f132a', 'message': 'PDF documentation build\n\nChange-Id: Ieaa8853b0ccd85907088b733f91a80e8eaf0f62d\nStory: 2006123\nTask: 35519\n'}, {'number': 9, 'created': '2019-10-16 19:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/fefe2b144ee3d5582d54959d8509a41cc9780a06', 'message': 'PDF documentation build\n\nChange-Id: Ieaa8853b0ccd85907088b733f91a80e8eaf0f62d\nStory: 2006123\nTask: 35519\n'}, {'number': 10, 'created': '2019-10-18 09:56:55.000000000', 'files': ['doc/source/configuration/index.rst', 'doc/source/conf.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tacker/commit/787dbe0c465ccf175abab3dc22c0893b8056f711', 'message': 'PDF documentation build\n\nChange-Id: Ieaa8853b0ccd85907088b733f91a80e8eaf0f62d\nStory: 2006123\nTask: 35519\n'}]",6,679964,787dbe0c465ccf175abab3dc22c0893b8056f711,27,3,10,18955,,,0,"PDF documentation build

Change-Id: Ieaa8853b0ccd85907088b733f91a80e8eaf0f62d
Story: 2006123
Task: 35519
",git fetch https://review.opendev.org/openstack/tacker refs/changes/64/679964/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'tox.ini']",2,559bfd60f1fce01da6eb4e3371aa4842460ab9e1,build-pdf-docs,[testenv:pdf-docs] basepython = python3 envdir = {toxworkdir}/docs deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,21,0
openstack%2Fcharm-glance~master~I7ae6552f9feb3484cad46c189e4f290679e2535d,openstack/charm-glance,master,I7ae6552f9feb3484cad46c189e4f290679e2535d,Enable functional tests for train,MERGED,2019-10-18 08:25:25.000000000,2019-10-21 08:29:20.000000000,2019-10-21 08:29:19.000000000,"[{'_account_id': 935}, {'_account_id': 7730}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 08:25:25.000000000', 'files': ['tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/24071f1eb181c12066be737a4d18b1de6271573d', 'message': 'Enable functional tests for train\n\nThis patch also updates the smoke test to run train.\n\nChange-Id: I7ae6552f9feb3484cad46c189e4f290679e2535d\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}]",0,689334,24071f1eb181c12066be737a4d18b1de6271573d,13,5,1,7730,,,0,"Enable functional tests for train

This patch also updates the smoke test to run train.

Change-Id: I7ae6552f9feb3484cad46c189e4f290679e2535d
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/34/689334/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,24071f1eb181c12066be737a4d18b1de6271573d,charms-train-function-test, - bionic-train - bionic-train, - bionic-stein,2,1
openstack%2Fkolla~master~Ib95106c96127a81dd757dbd839080a47bff725db,openstack/kolla,master,Ib95106c96127a81dd757dbd839080a47bff725db,DNM: Train RDO RC testing,ABANDONED,2019-10-09 16:24:14.000000000,2019-10-21 08:27:32.000000000,,"[{'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-09 16:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/51e32daf207a686d206d28c00a5adc8153456b58', 'message': 'DNM: Train RDO RC testing\n\nChange-Id: Ib95106c96127a81dd757dbd839080a47bff725db\n'}, {'number': 2, 'created': '2019-10-10 06:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6e8ac4802637bdc414f9e45cd57d9b8101b1ea6f', 'message': 'DNM: Train RDO RC testing\n\nChange-Id: Ib95106c96127a81dd757dbd839080a47bff725db\n'}, {'number': 3, 'created': '2019-10-10 06:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1648db13877c432ce73f920796c9a50821576749', 'message': 'DNM: Train RDO RC testing\n\nChange-Id: Ib95106c96127a81dd757dbd839080a47bff725db\n'}, {'number': 4, 'created': '2019-10-14 07:41:11.000000000', 'files': ['docker/base/train_rdo_rc.repo', 'docker/base/Dockerfile.j2', 'docker/collectd/Dockerfile.j2', 'tests/templates/template_overrides.j2', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4f650204af83ac1482a008bd9c59c216e161d615', 'message': 'DNM: Train RDO RC testing\n\nChange-Id: Ib95106c96127a81dd757dbd839080a47bff725db\n'}]",0,687615,4f650204af83ac1482a008bd9c59c216e161d615,17,4,4,22629,,,0,"DNM: Train RDO RC testing

Change-Id: Ib95106c96127a81dd757dbd839080a47bff725db
",git fetch https://review.opendev.org/openstack/kolla refs/changes/15/687615/4 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/train_rdo_rc.repo', 'docker/base/Dockerfile.j2', 'kolla/common/config.py']",3,51e32daf207a686d206d28c00a5adc8153456b58,train_rdo_rc," cfg.ListOpt('rpm_setup_config', default=[],"," cfg.ListOpt('rpm_setup_config', default=[DELOREAN, DELOREAN_DEPS],",7,1
openstack%2Fplacement~master~I7001ad47b3da0e9b8fa9e9f2b7e5037b945e3694,openstack/placement,master,I7001ad47b3da0e9b8fa9e9f2b7e5037b945e3694,Remove unused import statement.,MERGED,2019-10-11 03:16:33.000000000,2019-10-21 07:54:20.000000000,2019-10-21 07:53:05.000000000,"[{'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 11564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-11 03:16:33.000000000', 'files': ['placement/tests/unit/test_microversion.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/abf91549aa08376eec3e01512ed8ca28d350ac05', 'message': 'Remove unused import statement.\n\nChange-Id: I7001ad47b3da0e9b8fa9e9f2b7e5037b945e3694\n'}]",1,688026,abf91549aa08376eec3e01512ed8ca28d350ac05,9,5,1,30200,,,0,"Remove unused import statement.

Change-Id: I7001ad47b3da0e9b8fa9e9f2b7e5037b945e3694
",git fetch https://review.opendev.org/openstack/placement refs/changes/26/688026/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/tests/unit/test_microversion.py'],1,abf91549aa08376eec3e01512ed8ca28d350ac05,,,# import the handlers to load up handler decorators import placement.handler # noqa,0,2
openstack%2Frpm-packaging~master~I08d30c3a70971d54a618a548ae0cc66736dfc3c2,openstack/rpm-packaging,master,I08d30c3a70971d54a618a548ae0cc66736dfc3c2,heat-agents: convert to python 3,ABANDONED,2019-10-11 15:11:38.000000000,2019-10-21 07:34:42.000000000,,"[{'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-11 15:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e3ecca5ffc5b9f930a86a60ae74aa149d965554d', 'message': 'heat-agents: convert to python 3\n\nChange-Id: I08d30c3a70971d54a618a548ae0cc66736dfc3c2\n'}, {'number': 2, 'created': '2019-10-11 15:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5b4bcf933bb4ba75faa0e6d66d8083b312272e79', 'message': 'heat-agents: convert to python 3\n\nChange-Id: I08d30c3a70971d54a618a548ae0cc66736dfc3c2\n'}, {'number': 3, 'created': '2019-10-15 10:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1aa0047ffc6dfa5e9473bff61bb35bb3162a9bec', 'message': 'heat-agents: convert to python 3\n\nChange-Id: I08d30c3a70971d54a618a548ae0cc66736dfc3c2\n'}, {'number': 4, 'created': '2019-10-15 12:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/51938586cb4b05fe1789648fa9ba32e4e0841ba5', 'message': 'heat-agents: convert to python 3\n\nChange-Id: I08d30c3a70971d54a618a548ae0cc66736dfc3c2\n'}, {'number': 5, 'created': '2019-10-15 13:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/0db01c800544fc080d2145f559aabe05523bf072', 'message': 'heat-agents: convert to python 3\n\nChange-Id: I08d30c3a70971d54a618a548ae0cc66736dfc3c2\n'}, {'number': 6, 'created': '2019-10-21 07:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/1f55ff21b0db0170df375d41f2835abf72444879', 'message': 'heat-agents: convert to python 3\n\nChange-Id: I08d30c3a70971d54a618a548ae0cc66736dfc3c2\n'}]",1,688143,1f55ff21b0db0170df375d41f2835abf72444879,23,5,6,13294,,,0,"heat-agents: convert to python 3

Change-Id: I08d30c3a70971d54a618a548ae0cc66736dfc3c2
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/43/688143/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/heat-agents/heat-agents.spec.j2'],1,e3ecca5ffc5b9f930a86a60ae74aa149d965554d,,BuildRequires: {{ py3('os-apply-config') }} BuildRequires: {{ py3('os-refresh-config') }} BuildRequires: {{ py3('pbr') }}%package -n python3-heat-agentRequires: {{ py3('dib-utils') }} Requires: {{ py3('heat-cfntools') }} Requires: {{ py3('python-heatclient') }} Requires: {{ py3('os-apply-config') }} Requires: {{ py3('os-collect-config') }} Requires: {{ py3('os-refresh-config') }} Requires: {{ py3('requests') }} Requires: {{ py3('python-zaqarclient') }} %description -n python3-heat-agent%package -n python3-heat-agent-puppetRequires: python3-heat-agent %description -n python3-heat-agent-puppet%package -n python3-heat-agent-ansibleRequires: python3-heat-agent %description -n python3-heat-agent-ansible%package -n python3-heat-agent-apply-configRequires: python3-heat-agent%description -n python3-heat-agent-apply-config%package -n python3-heat-agent-hieraRequires: python3-heat-agent %description -n python3-heat-agent-hiera%package -n python3-heat-agent-json-fileRequires: python3-heat-agent %description -n python3-heat-agent-json-file%package -n python3-heat-agent-docker-cmdRequires: python3-heat-agent%description -n python3-heat-agent-docker-cmd%files -n python3-heat-agent%files -n python3-heat-agent-puppet%files -n python3-heat-agent-ansible%files -n python3-heat-agent-apply-config%files -n python3-heat-agent-hiera%files -n python3-heat-agent-json-file%files -n python3-heat-agent-docker-cmd,BuildRequires: {{ py2pkg('os-apply-config') }} BuildRequires: {{ py2pkg('os-refresh-config') }} BuildRequires: {{ py2pkg('pbr') }}%package -n python-heat-agentRequires: {{ py2pkg('dib-utils') }} Requires: {{ py2pkg('heat-cfntools') }} Requires: {{ py2pkg('python-heatclient') }} Requires: {{ py2pkg('os-apply-config') }} Requires: {{ py2pkg('os-collect-config') }} Requires: {{ py2pkg('os-refresh-config') }} Requires: {{ py2pkg('requests') }} Requires: {{ py2pkg('python-zaqarclient') }} %description -n python-heat-agent%package -n python-heat-agent-puppetRequires: python-heat-agent %description -n python-heat-agent-puppet%package -n python-heat-agent-ansibleRequires: python-heat-agent %description -n python-heat-agent-ansible%package -n python-heat-agent-apply-configRequires: python-heat-agent%description -n python-heat-agent-apply-config%package -n python-heat-agent-hieraRequires: python-heat-agent %description -n python-heat-agent-hiera%package -n python-heat-agent-json-fileRequires: python-heat-agent %description -n python-heat-agent-json-file%package -n python-heat-agent-docker-cmdRequires: python-heat-agent%description -n python-heat-agent-docker-cmd%files -n python-heat-agent%files -n python-heat-agent-puppet%files -n python-heat-agent-ansible%files -n python-heat-agent-apply-config%files -n python-heat-agent-hiera%files -n python-heat-agent-json-file%files -n python-heat-agent-docker-cmd,38,38
openstack%2Fopenstack-helm-infra~master~I5bfdc156ae228ab16da57569ac6b05a9a125cb6a,openstack/openstack-helm-infra,master,I5bfdc156ae228ab16da57569ac6b05a9a125cb6a,Update kubernetes-entrypoint image reference,MERGED,2019-10-14 15:55:56.000000000,2019-10-21 07:18:02.000000000,2019-10-21 07:16:29.000000000,"[{'_account_id': 8749}, {'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 28618}, {'_account_id': 28743}, {'_account_id': 29131}]","[{'number': 1, 'created': '2019-10-14 15:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b38fac115754c40b317cd4a141cc90e2f4446044', 'message': 'Update kubernetes-entrypoint image reference\n\nThis updates the kubernetes-entrypoint image reference to consume\nthe publicly available kubernetes-entrypoint image that is built\nand maintained under the airshipit namespace, as the stackanetes\nimage is no longer actively maintained\n\nChange-Id: I5bfdc156ae228ab16da57569ac6b05a9a125cb6a\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-10-14 17:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eeb1769541e5352572af76c1d52f4372fbe2cbcc', 'message': 'Update kubernetes-entrypoint image reference\n\nThis updates the kubernetes-entrypoint image reference to consume\nthe publicly available kubernetes-entrypoint image that is built\nand maintained under the airshipit namespace, as the stackanetes\nimage is no longer actively maintained\n\nChange-Id: I5bfdc156ae228ab16da57569ac6b05a9a125cb6a\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-10-17 14:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/398bff22ccd4221f12843c7aba6f3394c36402a4', 'message': 'Update kubernetes-entrypoint image reference\n\nThis updates the kubernetes-entrypoint image reference to consume\nthe publicly available kubernetes-entrypoint image that is built\nand maintained under the airshipit namespace, as the stackanetes\nimage is no longer actively maintained\n\nChange-Id: I5bfdc156ae228ab16da57569ac6b05a9a125cb6a\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 4, 'created': '2019-10-17 17:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/54e8f9aac75aa2b4a17c7ddd80af5fb15b8673ef', 'message': 'Update kubernetes-entrypoint image reference\n\nThis updates the kubernetes-entrypoint image reference to consume\nthe publicly available kubernetes-entrypoint image that is built\nand maintained under the airshipit namespace, as the stackanetes\nimage is no longer actively maintained\n\nChange-Id: I5bfdc156ae228ab16da57569ac6b05a9a125cb6a\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 5, 'created': '2019-10-18 14:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7bf51a86f4e22d3a2effb83e1e6e2364a20ea78e', 'message': 'Update kubernetes-entrypoint image reference\n\nThis updates the kubernetes-entrypoint image reference to consume\nthe publicly available kubernetes-entrypoint image that is built\nand maintained under the airshipit namespace, as the stackanetes\nimage is no longer actively maintained\n\nChange-Id: I5bfdc156ae228ab16da57569ac6b05a9a125cb6a\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 6, 'created': '2019-10-18 18:20:11.000000000', 'files': ['prometheus-openstack-exporter/values.yaml', 'ceph-osd/values.yaml', 'elastic-packetbeat/values.yaml', 'elasticsearch/values.yaml', 'mongodb/values.yaml', 'prometheus-process-exporter/values.yaml', 'ceph-rgw/values.yaml', 'libvirt/values.yaml', 'fluentbit/values.yaml', 'helm-toolkit/templates/snippets/_image.tpl', 'etcd/values.yaml', 'elastic-apm-server/values.yaml', 'gnocchi/values.yaml', 'flannel/values.yaml', 'ldap/values.yaml', 'prometheus-alertmanager/values.yaml', 'kubernetes-keystone-webhook/values.yaml', 'elastic-metricbeat/values.yaml', 'elastic-filebeat/values.yaml', 'helm-toolkit/templates/snippets/_kubernetes_entrypoint_init_container.tpl', 'rabbitmq/values.yaml', 'ceph-mon/values.yaml', 'openvswitch/values.yaml', 'grafana/values.yaml', 'memcached/values.yaml', 'powerdns/values.yaml', 'registry/values.yaml', 'fluentd/values.yaml', 'ceph-client/values.yaml', 'mariadb/values.yaml', 'nfs-provisioner/values.yaml', 'postgresql/values.yaml', 'prometheus/values.yaml', 'redis/values.yaml', 'calico/values.yaml', 'falco/values.yaml', 'ceph-provisioners/values.yaml', 'kube-dns/values.yaml', 'prometheus-kube-state-metrics/values.yaml', 'prometheus-node-exporter/values.yaml', 'tiller/values.yaml', 'ingress/values.yaml', 'kibana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b50fae62a4ad0992ce877cd632800e1eed5f71a9', 'message': 'Update kubernetes-entrypoint image reference\n\nThis updates the kubernetes-entrypoint image reference to consume\nthe publicly available kubernetes-entrypoint image that is built\nand maintained under the airshipit namespace, as the stackanetes\nimage is no longer actively maintained\n\nChange-Id: I5bfdc156ae228ab16da57569ac6b05a9a125cb6a\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,688435,b50fae62a4ad0992ce877cd632800e1eed5f71a9,40,8,6,17591,,,0,"Update kubernetes-entrypoint image reference

This updates the kubernetes-entrypoint image reference to consume
the publicly available kubernetes-entrypoint image that is built
and maintained under the airshipit namespace, as the stackanetes
image is no longer actively maintained

Change-Id: I5bfdc156ae228ab16da57569ac6b05a9a125cb6a
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/35/688435/2 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-openstack-exporter/values.yaml', 'ceph-osd/values.yaml', 'elastic-packetbeat/values.yaml', 'elasticsearch/values.yaml', 'mongodb/values.yaml', 'prometheus-process-exporter/values.yaml', 'ceph-rgw/values.yaml', 'libvirt/values.yaml', 'fluentbit/values.yaml', 'helm-toolkit/templates/snippets/_image.tpl', 'etcd/values.yaml', 'elastic-apm-server/values.yaml', 'gnocchi/values.yaml', 'flannel/values.yaml', 'ldap/values.yaml', 'prometheus-alertmanager/values.yaml', 'kubernetes-keystone-webhook/values.yaml', 'elastic-metricbeat/values.yaml', 'elastic-filebeat/values.yaml', 'helm-toolkit/templates/snippets/_kubernetes_entrypoint_init_container.tpl', 'rabbitmq/values.yaml', 'ceph-mon/values.yaml', 'openvswitch/values.yaml', 'grafana/values.yaml', 'memcached/values.yaml', 'powerdns/values.yaml', 'registry/values.yaml', 'fluentd/values.yaml', 'ceph-client/values.yaml', 'mariadb/values.yaml', 'nfs-provisioner/values.yaml', 'postgresql/values.yaml', 'prometheus/values.yaml', 'redis/values.yaml', 'calico/values.yaml', 'falco/values.yaml', 'ceph-provisioners/values.yaml', 'kube-dns/values.yaml', 'prometheus-kube-state-metrics/values.yaml', 'prometheus-node-exporter/values.yaml', 'tiller/values.yaml', 'ingress/values.yaml', 'kibana/values.yaml']",43,b38fac115754c40b317cd4a141cc90e2f4446044,update-k8s-entrypoint, dep_check: quay.io/airshipit/kubernetes-entrypoint:v1.0.0, dep_check: quay.io/stackanetes/kubernetes-entrypoint:v0.3.1,46,46
openstack%2Fblazar~stable%2Ftrain~I7af4d407b183578617131f0de42becb3dc2bc415,openstack/blazar,stable/train,I7af4d407b183578617131f0de42becb3dc2bc415,Fix issue moving hosts back to freepool,MERGED,2019-10-18 16:26:30.000000000,2019-10-21 07:08:27.000000000,2019-10-21 07:07:08.000000000,"[{'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 29100}]","[{'number': 1, 'created': '2019-10-18 16:26:30.000000000', 'files': ['blazar/utils/openstack/nova.py', 'releasenotes/notes/bug-1847821-2f9d6e61f438dc4f.yaml', 'blazar/tests/utils/openstack/test_nova.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/b30cece36ea143a97544799fb807644a51fd1c60', 'message': 'Fix issue moving hosts back to freepool\n\nIf an aggregate fails to be created for some reason, for example because\nthe requested node is not in the freepool, some cleanup occurs. Part of\nthe cleanup is ensuring the target node is moved _back_ to the freepool.\nThis should theoretically ""heal"" cases where the node wasn\'t in the\nfreepool but also wasn\'t in some lease aggregate.\n\nHowever, this call to Nova\'s API refers to the freepool aggregate by its\nname, which is not supported here: the ID must be used[1]. This caused\nthis operation to fail and raise a NotFound, confusingly (because Nova\ncouldn\'t find an aggregate with ID=\'freepool\' for example.)\n\n[1]:\nhttps://docs.openstack.org/api-ref/compute/?expanded=add-host-detail#add-host\n\nCloses-Bug: #1847821\nChange-Id: I7af4d407b183578617131f0de42becb3dc2bc415\n(cherry picked from commit 0346b02ccea75b992d0b72a6dbaa1f05864450e0)\n'}]",0,689541,b30cece36ea143a97544799fb807644a51fd1c60,8,3,1,15197,,,0,"Fix issue moving hosts back to freepool

If an aggregate fails to be created for some reason, for example because
the requested node is not in the freepool, some cleanup occurs. Part of
the cleanup is ensuring the target node is moved _back_ to the freepool.
This should theoretically ""heal"" cases where the node wasn't in the
freepool but also wasn't in some lease aggregate.

However, this call to Nova's API refers to the freepool aggregate by its
name, which is not supported here: the ID must be used[1]. This caused
this operation to fail and raise a NotFound, confusingly (because Nova
couldn't find an aggregate with ID='freepool' for example.)

[1]:
https://docs.openstack.org/api-ref/compute/?expanded=add-host-detail#add-host

Closes-Bug: #1847821
Change-Id: I7af4d407b183578617131f0de42becb3dc2bc415
(cherry picked from commit 0346b02ccea75b992d0b72a6dbaa1f05864450e0)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/41/689541/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/utils/openstack/nova.py', 'releasenotes/notes/bug-1847821-2f9d6e61f438dc4f.yaml', 'blazar/tests/utils/openstack/test_nova.py']",3,b30cece36ea143a97544799fb807644a51fd1c60,bug/1847821-stable/train," mock.call(self.fake_freepool.id, 'host1'), mock.call(self.fake_freepool.id, 'host2')])"," mock.call('freepool', 'host1'), mock.call('freepool', 'host2')])",11,3
openstack%2Frpm-packaging~stable%2Ftrain~I836c172ee465f815b04050e319a307051a5a2b33,openstack/rpm-packaging,stable/train,I836c172ee465f815b04050e319a307051a5a2b33,virtualbmc: Fix python3 package name,MERGED,2019-10-21 03:35:48.000000000,2019-10-21 06:57:00.000000000,2019-10-21 06:57:00.000000000,"[{'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-21 03:35:48.000000000', 'files': ['openstack/virtualbmc/virtualbmc.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8be5930784bbe61f200da15c151a3bfe93bd3a13', 'message': 'virtualbmc: Fix python3 package name\n\nChange-Id: I836c172ee465f815b04050e319a307051a5a2b33\n'}]",0,689666,8be5930784bbe61f200da15c151a3bfe93bd3a13,10,6,1,7102,,,0,"virtualbmc: Fix python3 package name

Change-Id: I836c172ee465f815b04050e319a307051a5a2b33
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/66/689666/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/virtualbmc/virtualbmc.spec.j2'],1,8be5930784bbe61f200da15c151a3bfe93bd3a13,,Name: {{ py2name(py_versions='py3') }},Name: {{ py2name() }},1,1
openstack%2Frpm-packaging~master~I836c172ee465f815b04050e319a307051a5a2b33,openstack/rpm-packaging,master,I836c172ee465f815b04050e319a307051a5a2b33,virtualbmc: Fix python3 package name,MERGED,2019-10-21 03:34:55.000000000,2019-10-21 06:56:53.000000000,2019-10-21 06:56:53.000000000,"[{'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-21 03:34:55.000000000', 'files': ['openstack/virtualbmc/virtualbmc.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/588be51cb122eaa31b06fcd2e03c745c0108debe', 'message': 'virtualbmc: Fix python3 package name\n\nChange-Id: I836c172ee465f815b04050e319a307051a5a2b33\n'}]",0,689665,588be51cb122eaa31b06fcd2e03c745c0108debe,11,6,1,7102,,,0,"virtualbmc: Fix python3 package name

Change-Id: I836c172ee465f815b04050e319a307051a5a2b33
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/65/689665/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/virtualbmc/virtualbmc.spec.j2'],1,588be51cb122eaa31b06fcd2e03c745c0108debe,,Name: {{ py2name(py_versions='py3') }},Name: {{ py2name() }},1,1
openstack%2Ftraining-guides~master~Ifd36427f53b97fab4500ea091264367c056dee19,openstack/training-guides,master,Ifd36427f53b97fab4500ea091264367c056dee19,Imported Translations from Zanata,MERGED,2019-10-21 06:26:58.000000000,2019-10-21 06:55:49.000000000,2019-10-21 06:53:41.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 06:26:58.000000000', 'files': ['doc/upstream-training/source/locale/ja/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/tr_TR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/ko_KR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/en_GB/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/id/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/de/LC_MESSAGES/upstream-training.po'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/1449b2997213ab531cc540fd800d99f54d25c78c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ifd36427f53b97fab4500ea091264367c056dee19\n'}]",0,689675,1449b2997213ab531cc540fd800d99f54d25c78c,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ifd36427f53b97fab4500ea091264367c056dee19
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/75/689675/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/upstream-training/source/locale/ja/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/tr_TR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/ko_KR/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/en_GB/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/id/LC_MESSAGES/upstream-training.po', 'doc/upstream-training/source/locale/de/LC_MESSAGES/upstream-training.po']",6,1449b2997213ab531cc540fd800d99f54d25c78c,zanata/translations,"""POT-Creation-Date: 2019-10-17 17:44+0000\n""","# Robert Simai <robert.simai@suse.com>, 2016. #zanata""POT-Creation-Date: 2019-10-10 21:43+0000\n""msgid ""Added unit tests to cover untested methods"" msgstr ""Hinzufgen von Unit-Tests, um nicht getestete Methoden zu checken"" msgid """" ""Compare the deadlines between two different project teams and discuss the "" ""differences with your group"" msgstr """" ""Vergleichen Sie die Fristen zwischen zwei verschiedenen Projektteams und "" ""diskutieren Sie die Unterschiede zu Ihrer Gruppe"" msgid """" ""Create a board with at least two worklists (one manual and one automatic) "" ""for organizing tasks you are going to create. For the automatic worklist, "" ""give at least two criteria for the items that will go into the worklist."" msgstr """" ""Erstellen Sie ein Board mit mindestens zwei Arbeitslisten (eine manuelle und "" ""eine automatische), um die zu erstellenden Aufgaben zu organisieren. Geben "" ""Sie fr die automatischen Arbeitsliste mindestens zwei Kriterien fr die "" ""Elemente an, die in die Arbeitsliste aufgenommen werden."" msgid """" ""Create three stories for your worklists. At least one of them should meet "" ""the criteria that enables it to appear in your automatic worklist. Each "" ""story must have a minimum of two tasks that are named differently than the "" ""story name."" msgstr """" ""Erstellen Sie drei Storys fr Ihre Arbeitsliste. Mindestens einer von ihnen "" ""sollte die Kriterien erfllen, die es ermglichen, in Ihrem automatischen "" ""Arbeitsliste zu erscheinen. Jede Story muss mindestens zwei Aufgaben haben, "" ""die anders benannt sind als der Name der Story."" msgid ""Describe and contrast them"" msgstr ""Beschreibe und unterscheide diese"" msgid """" ""Find some of the feature proposal freeze deadlines in the current release "" ""schedule"" msgstr """" ""Finde einige der Fristen fr Funktionsvorschlge im aktuellen Releaseplan"" msgid ""Find the latest election results for the TC and UC."" msgstr ""Finde die letzten Wahlergebnisse zu TC und UC."" msgid ""How many OpenStack releases are currently maintained by the community?"" msgstr """" ""Wieviele OpenStack-Versionen werden aktuell von der Community untersttzt?"" msgid ""Identify common characteristics of these cycles"" msgstr ""Finden Sie Gemeinsamkeiten dieser Zyklen"" msgid """" ""In case there are no events planned, how about organizing one in your area?"" msgstr """" ""Wie wre es ein Event in Ihrer Umgebung zu organisieren, wenn bislang keine "" ""geplant sind?"" msgid """" ""Look up an OpenStack Days event close to where you live that you would be "" ""interested in attending"" msgstr ""Schauen Sie nach Veranstaltungen \""OpenStack Days\"" in Ihrer Nhe"" ""Look up the release schedule for the current and past two OpenStack release "" ""cycles & share links"" msgstr """" ""Schauen Sie sich den Release-Plan fr die aktuellen und vergangenen zwei "" ""OpenStack Release-Zyklen an & teilen Sie die Links"" msgid """"msgid ""Minimize database queries"" msgstr ""Minimieren von Datenbankabfragen"" msgid ""Post the information on the IRC channel"" msgstr ""Posten Sie die Informationen auf dem IRC-Kanal"" msgid ""Share both in our IRC channel."" msgstr ""Teilen Sie beides in unserem IRC Kanal."" msgid """" ""Share the commit message with one or two people at your table. Give them "" ""feedback on their commit messages."" msgstr """" ""Teilen Sie die Commit-Nachricht mit einem oder zwei Personen an Ihrem Tisch. "" ""Geben Sie ihnen Feedback zu ihren Commit-Nachrichten."" msgid """" ""Share your board with your group. Assign yourself to three tasks on other "" ""people's stories. Comment on one story."" msgstr """" ""Teilen Sie Ihr Board mit Ihrer Gruppe. Weisen Sie sich selbst drei Aufgaben "" ""von anderer Leute Storys zu. Kommentieren Sie eine Story."" msgid """" ""Someone left a print statement that was used for testing during development "" ""that is being added to the logs"" msgstr """" ""Jemand hat eine Druckanweisung hinterlassen, die zum Testen whrend der "" ""Entwicklung verwendet wurde, die den Protokollen hinzugefgt wird"" ""There are unused arguments being passed into a method that is used in "" ""several different files"" msgstr """" ""Es werden nicht verwendete Argumente in eine Methode bergeben, die in "" ""mehreren verschiedenen Dateien verwendet werden"" msgid """"msgid """" ""What are some of the different freeze dates for different activities in the "" ""release?"" msgstr """" ""Was sind die unterschiedliche Fristen fr die unterschiedlichen Aktivitten "" ""im Release?"" msgid ""What else can you do with a OpenStack Foundation membership?"" msgstr """" ""Was knnen Sie noch mit einer OpenStack Foundation Mitgliedschaft mache?"" msgid ""Where can you find a list of all of the OpenStack irc channels?"" msgstr ""Wo knnen Sie eine List aller OpenStack IRC Channel finden?"" msgid ""Why are there different dates for some teams?"" msgstr ""Warum gibe es unterschiedliche Termine fr manche Teams?"" msgid """" ""Write a commit message body to expand on each of the following summary "" ""lines. Feel free to make up details to make the context more realistic. "" ""Share your favorite in IRC."" msgstr """" ""Schreiben Sie einen Commit Message Body, um auf jeder der folgenden "" ""Zusammenfassungszeilen zu erweitern. Fhlen Sie sich frei, Details "" ""anzugeben, um den Kontext realistischer zu machen. Teilen Sie Ihren "" ""Favoriten im IRC."" msgid """" ""Write a commit message for the bug you created during our earlier exercise. "" ""Include a summary line, body, and the required exernal references along with "" ""any optional external references you think it may benefit from."" msgstr """" ""Schreiben Sie eine Commit-Nachricht fr den Bug, den Sie whrend unserer "" ""frheren bung erstellt haben. Fgen Sie eine zusammenfassende Linie, "" ""Krper, und die erforderlichen exernal Referenzen zusammen mit allen "" ""optionalen externen Referenzen, bei denen Sie denken, dass sie davon "" ""profitieren knnen."" msgid ""Write a summary line for each of the following scenarios:"" msgstr """" ""Schreiben Sie eine Zusammenfassungszeile fr jedes der folgenden Szenarien:"" ",110,585
openstack%2Frpm-packaging-tools~master~I87a77ceb0ba2578900d69d1b4b3d86e88e356a64,openstack/rpm-packaging-tools,master,I87a77ceb0ba2578900d69d1b4b3d86e88e356a64,Switch master to Ussuri,MERGED,2019-10-21 03:54:00.000000000,2019-10-21 06:54:59.000000000,2019-10-21 06:54:59.000000000,"[{'_account_id': 2062}, {'_account_id': 7102}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-21 03:54:00.000000000', 'files': ['tools/rpm-packaging-status.py'], 'web_link': 'https://opendev.org/openstack/rpm-packaging-tools/commit/b90f6aed2007d0018162c41d77cda7f997eb7b60', 'message': 'Switch master to Ussuri\n\nChange-Id: I87a77ceb0ba2578900d69d1b4b3d86e88e356a64\n'}]",0,689667,b90f6aed2007d0018162c41d77cda7f997eb7b60,7,3,1,7102,,,0,"Switch master to Ussuri

Change-Id: I87a77ceb0ba2578900d69d1b4b3d86e88e356a64
",git fetch https://review.opendev.org/openstack/rpm-packaging-tools refs/changes/67/689667/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/rpm-packaging-status.py'],1,b90f6aed2007d0018162c41d77cda7f997eb7b60,,CURRENT_MASTER = 'ussuri',CURRENT_MASTER = 'train',1,1
openstack%2Fkolla~master~Iccaf4c0bb79e7e33072e37aa83711b37938d6719,openstack/kolla,master,Iccaf4c0bb79e7e33072e37aa83711b37938d6719,Bump Openstack Exporter version to 0.6.0,MERGED,2019-10-18 12:21:24.000000000,2019-10-21 06:54:19.000000000,2019-10-21 06:53:03.000000000,"[{'_account_id': 2276}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 28743}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-18 12:21:24.000000000', 'files': ['docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/cd7f78e8f87b194633b60bcce89852f701a77c90', 'message': 'Bump Openstack Exporter version to 0.6.0\n\nThere appears to be a bug in the prometheus openstack exporter versions\n<= 0.2.1 causing cinder data to stop being collected after about 24\nhours.\n\nBumping to latest stable version 0.6.0.\n\nChange-Id: Iccaf4c0bb79e7e33072e37aa83711b37938d6719\nSigned-off-by: Keith Plant <kplantjr@gmail.com>\n'}]",0,689437,cd7f78e8f87b194633b60bcce89852f701a77c90,12,6,1,30272,,,0,"Bump Openstack Exporter version to 0.6.0

There appears to be a bug in the prometheus openstack exporter versions
<= 0.2.1 causing cinder data to stop being collected after about 24
hours.

Bumping to latest stable version 0.6.0.

Change-Id: Iccaf4c0bb79e7e33072e37aa83711b37938d6719
Signed-off-by: Keith Plant <kplantjr@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/37/689437/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/prometheus/prometheus-openstack-exporter/Dockerfile.j2'],1,cd7f78e8f87b194633b60bcce89852f701a77c90,,ENV prometheus_openstack_exporter_version=0.6.0,ENV prometheus_openstack_exporter_version=0.2.1,1,1
openstack%2Frequirements~master~I55ab3132087bba02aa22ed0393e6bc23c1d6da5f,openstack/requirements,master,I55ab3132087bba02aa22ed0393e6bc23c1d6da5f,Updated from generate-constraints,ABANDONED,2019-10-21 06:30:58.000000000,2019-10-21 06:31:39.000000000,,[],"[{'number': 1, 'created': '2019-10-21 06:30:58.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/54d5d600c4cff63956afce07790ceb6c6f274528', 'message': 'Updated from generate-constraints\n\nChange-Id: I55ab3132087bba02aa22ed0393e6bc23c1d6da5f\n'}]",0,689676,54d5d600c4cff63956afce07790ceb6c6f274528,2,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I55ab3132087bba02aa22ed0393e6bc23c1d6da5f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/76/689676/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,54d5d600c4cff63956afce07790ceb6c6f274528,openstack/requirements/constraints,psycopg2===2.8.4networkx===2.4;python_version=='3.4' networkx===2.4;python_version=='3.5' networkx===2.4;python_version=='3.6' networkx===2.4;python_version=='3.7'psycopg2-binary===2.8.4amqp===2.5.2salt===2019.2.1,psycopg2===2.8.3networkx===2.3;python_version=='3.4' networkx===2.3;python_version=='3.5' networkx===2.3;python_version=='3.6' networkx===2.3;python_version=='3.7'psycopg2-binary===2.8.3amqp===2.5.1salt===2019.2.0,8,8
openstack%2Frpm-packaging~stable%2Fqueens~I7c36f3d673725a944996488490e21c01adc9a7c1,openstack/rpm-packaging,stable/queens,I7c36f3d673725a944996488490e21c01adc9a7c1,fix provides epoch on singlespec based packages & patch levelupdate,MERGED,2018-10-24 15:22:50.000000000,2019-10-21 06:24:58.000000000,2019-10-21 06:24:58.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23735}]","[{'number': 1, 'created': '2018-10-24 15:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/97a103fc8a17c0081e3d3e50917717597477cdd7', 'message': ""fix provides epoch on singlespec based packages\n\nwithout this epoch is never part of provides which fails on comparision\nwith 'old' epoch based packages\n\nChange-Id: I7c36f3d673725a944996488490e21c01adc9a7c1\n(cherry picked from commit cc903f2bf1a984279d644235d3d3fdcc5967cb8a)\n""}, {'number': 2, 'created': '2018-11-21 15:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/037db595e1e5e34d1e113ae48ecb56423bf7731a', 'message': ""fix provides epoch on singlespec based packages & patch levelupdate\n\nwithout this epoch is never part of provides which fails on comparision\nwith 'old' epoch based packages\n\n(cherry picked from commit cc903f2bf1a984279d644235d3d3fdcc5967cb8a)\n\nopenstack-macros: patch level update for changes to be reflected\n\nthis will help the latest changes related to epoch get delivered\n\n(cherry picked from commit d33841a074bcbaf10fa87c7415b63b15950c9362)\n\nChange-Id: I7c36f3d673725a944996488490e21c01adc9a7c1\n""}, {'number': 3, 'created': '2019-03-05 09:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/803e8073a2a3a12228265b37dd91126c3791416d', 'message': ""fix provides epoch on singlespec based packages & patch levelupdate\n\nwithout this epoch is never part of provides which fails on comparision\nwith 'old' epoch based packages\n\n(cherry picked from commit cc903f2bf1a984279d644235d3d3fdcc5967cb8a)\n\nopenstack-macros: patch level update for changes to be reflected\n\nthis will help the latest changes related to epoch get delivered\n\n(cherry picked from commit d33841a074bcbaf10fa87c7415b63b15950c9362)\n\nChange-Id: I7c36f3d673725a944996488490e21c01adc9a7c1\n""}, {'number': 4, 'created': '2019-10-08 13:20:33.000000000', 'files': ['openstack/openstack-macros/openstack-macros.spec.j2', 'openstack/openstack-macros/macros.openstack-singlespec'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ef1d99c0018530c02c6e834845b819793f8b5c51', 'message': ""fix provides epoch on singlespec based packages & patch levelupdate\n\nwithout this epoch is never part of provides which fails on comparision\nwith 'old' epoch based packages\n\n(cherry picked from commit cc903f2bf1a984279d644235d3d3fdcc5967cb8a)\n\nopenstack-macros: patch level update for changes to be reflected\n\nthis will help the latest changes related to epoch get delivered\n\n(cherry picked from commit d33841a074bcbaf10fa87c7415b63b15950c9362)\n\nChange-Id: I7c36f3d673725a944996488490e21c01adc9a7c1\n""}]",1,613075,ef1d99c0018530c02c6e834845b819793f8b5c51,27,6,4,23735,,,0,"fix provides epoch on singlespec based packages & patch levelupdate

without this epoch is never part of provides which fails on comparision
with 'old' epoch based packages

(cherry picked from commit cc903f2bf1a984279d644235d3d3fdcc5967cb8a)

openstack-macros: patch level update for changes to be reflected

this will help the latest changes related to epoch get delivered

(cherry picked from commit d33841a074bcbaf10fa87c7415b63b15950c9362)

Change-Id: I7c36f3d673725a944996488490e21c01adc9a7c1
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/75/613075/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstack-macros/macros.openstack-singlespec'],1,97a103fc8a17c0081e3d3e50917717597477cdd7,," print(rpm.expand(""Obsoletes: python-"" .. modname .. "" < %{?epoch:%{epoch}:}%{version}-%{release}\\n""))\ print(rpm.expand(""Provides: python-"" .. modname .. "" = %{?epoch:%{epoch}:}%{version}-%{release}\\n""))\ print(rpm.expand(""Provides: python2-"" .. modname .. "" = %{?epoch:%{epoch}:}%{version}-%{release}\\n""))\"," print(rpm.expand(""Obsoletes: python-"" .. modname .. "" < %{version}-%{release}\\n""))\ print(rpm.expand(""Provides: python-"" .. modname .. "" = %{version}-%{release}\\n""))\ print(rpm.expand(""Provides: python2-"" .. modname .. "" = %{version}-%{release}\\n""))\",3,3
openstack%2Fnova~master~If9c459a9a0aa752c478949e4240286cbdb146494,openstack/nova,master,If9c459a9a0aa752c478949e4240286cbdb146494,Remove Stein compute compat checks for volume type support,MERGED,2019-10-08 21:42:07.000000000,2019-10-21 03:40:31.000000000,2019-10-21 00:08:09.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-08 21:42:07.000000000', 'files': ['nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4ac308f0aed1f2a9a9dce44428b940446d03dbbe', 'message': ""Remove Stein compute compat checks for volume type support\n\nSupport for boot from volume where nova creates the volume\nwith a specified volume type was added in Stein [1] and an API\nvalidation check was added to only allow that if the computes\nwere upgraded to Stein [2]. Now that we're in Ussuri and don't\nneed to support pre-Stein computes we can drop that API compat\ncheck.\n\n[1] Icc301230fe7c8e3ebbbcc7f4a807e562db7f93e3\n[2] I45bd42908d44a0f05e1231febab926b23232b57b\n\nChange-Id: If9c459a9a0aa752c478949e4240286cbdb146494\n""}]",1,687428,4ac308f0aed1f2a9a9dce44428b940446d03dbbe,39,13,1,6873,,,0,"Remove Stein compute compat checks for volume type support

Support for boot from volume where nova creates the volume
with a specified volume type was added in Stein [1] and an API
validation check was added to only allow that if the computes
were upgraded to Stein [2]. Now that we're in Ussuri and don't
need to support pre-Stein computes we can drop that API compat
check.

[1] Icc301230fe7c8e3ebbbcc7f4a807e562db7f93e3
[2] I45bd42908d44a0f05e1231febab926b23232b57b

Change-Id: If9c459a9a0aa752c478949e4240286cbdb146494
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/687428/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py']",5,4ac308f0aed1f2a9a9dce44428b940446d03dbbe,_validate_bdm, exception.NoUniqueMatch) as error:," exception.NoUniqueMatch, exception.VolumeTypeSupportNotYetAvailable) as error:",7,80
openstack%2Fkolla-ansible~stable%2Frocky~Id70c3dd9cdcf681e955931f18a054e19cc284c0a,openstack/kolla-ansible,stable/rocky,Id70c3dd9cdcf681e955931f18a054e19cc284c0a,Fixes Monasca log transformer UTC offset exception,MERGED,2019-10-18 16:48:05.000000000,2019-10-21 03:17:29.000000000,2019-10-21 03:16:23.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30438}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-18 16:48:05.000000000', 'files': ['ansible/roles/monasca/templates/monasca-log-transformer/log-transformer.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c24c7bd049e666e890c6f7c21cf7187c4f1961e2', 'message': 'Fixes Monasca log transformer UTC offset exception\n\nMonasca log transformer currently throws exceptions on encountering a\nnon-UTC time offset (+0000):\n""""""\n""exception"": ""Invalid format: \\""2019-08-08 17:39:45 +0100\\"" is malformed at \\"" +0100\\"""",\n""config_parsers"":""yyyy-MM-dd HH:mm:ss +0000,ISO8601""}\n""""""\n\nThis fix allows logstash to interpret any valid ISO8601 offset.\n\nChange-Id: Id70c3dd9cdcf681e955931f18a054e19cc284c0a\nCloses-Bug: #1839597\n(cherry picked from commit 3010d4c3911db175facec519ffce51a7c0498003)\n'}]",0,689545,c24c7bd049e666e890c6f7c21cf7187c4f1961e2,9,4,1,15197,,,0,"Fixes Monasca log transformer UTC offset exception

Monasca log transformer currently throws exceptions on encountering a
non-UTC time offset (+0000):
""""""
""exception"": ""Invalid format: \""2019-08-08 17:39:45 +0100\"" is malformed at \"" +0100\"""",
""config_parsers"":""yyyy-MM-dd HH:mm:ss +0000,ISO8601""}
""""""

This fix allows logstash to interpret any valid ISO8601 offset.

Change-Id: Id70c3dd9cdcf681e955931f18a054e19cc284c0a
Closes-Bug: #1839597
(cherry picked from commit 3010d4c3911db175facec519ffce51a7c0498003)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/45/689545/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/monasca/templates/monasca-log-transformer/log-transformer.conf.j2'],1,c24c7bd049e666e890c6f7c21cf7187c4f1961e2,bug/1839597-stable/rocky," match => [ ""[log][dimensions][timestamp]"", ""yyyy-MM-dd HH:mm:ss Z"", ""ISO8601""]"," match => [ ""[log][dimensions][timestamp]"", ""yyyy-MM-dd HH:mm:ss +0000"", ""ISO8601""]",1,1
openstack%2Fkolla-ansible~stable%2Fstein~Id70c3dd9cdcf681e955931f18a054e19cc284c0a,openstack/kolla-ansible,stable/stein,Id70c3dd9cdcf681e955931f18a054e19cc284c0a,Fixes Monasca log transformer UTC offset exception,MERGED,2019-10-18 16:47:38.000000000,2019-10-21 03:17:28.000000000,2019-10-21 03:16:22.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30438}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-18 16:47:38.000000000', 'files': ['ansible/roles/monasca/templates/monasca-log-transformer/log-transformer.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e29bdd6a357eea20d0e1f4bf824822af49ace2fc', 'message': 'Fixes Monasca log transformer UTC offset exception\n\nMonasca log transformer currently throws exceptions on encountering a\nnon-UTC time offset (+0000):\n""""""\n""exception"": ""Invalid format: \\""2019-08-08 17:39:45 +0100\\"" is malformed at \\"" +0100\\"""",\n""config_parsers"":""yyyy-MM-dd HH:mm:ss +0000,ISO8601""}\n""""""\n\nThis fix allows logstash to interpret any valid ISO8601 offset.\n\nChange-Id: Id70c3dd9cdcf681e955931f18a054e19cc284c0a\nCloses-Bug: #1839597\n(cherry picked from commit 3010d4c3911db175facec519ffce51a7c0498003)\n'}]",0,689544,e29bdd6a357eea20d0e1f4bf824822af49ace2fc,10,4,1,15197,,,0,"Fixes Monasca log transformer UTC offset exception

Monasca log transformer currently throws exceptions on encountering a
non-UTC time offset (+0000):
""""""
""exception"": ""Invalid format: \""2019-08-08 17:39:45 +0100\"" is malformed at \"" +0100\"""",
""config_parsers"":""yyyy-MM-dd HH:mm:ss +0000,ISO8601""}
""""""

This fix allows logstash to interpret any valid ISO8601 offset.

Change-Id: Id70c3dd9cdcf681e955931f18a054e19cc284c0a
Closes-Bug: #1839597
(cherry picked from commit 3010d4c3911db175facec519ffce51a7c0498003)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/44/689544/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/monasca/templates/monasca-log-transformer/log-transformer.conf.j2'],1,e29bdd6a357eea20d0e1f4bf824822af49ace2fc,bug/1839597-stable/stein," match => [ ""[log][dimensions][timestamp]"", ""yyyy-MM-dd HH:mm:ss Z"", ""ISO8601""]"," match => [ ""[log][dimensions][timestamp]"", ""yyyy-MM-dd HH:mm:ss +0000"", ""ISO8601""]",1,1
openstack%2Fwatcher-specs~master~I48924a5438395af77531c0b7f20137069415d5c2,openstack/watcher-specs,master,I48924a5438395af77531c0b7f20137069415d5c2,Add Ussuri cycle specs,MERGED,2019-10-17 07:56:05.000000000,2019-10-21 03:05:47.000000000,2019-10-21 03:04:40.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-10-17 07:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/8a4d38ab5154cdb85eded589cb8c210ad3b50c3d', 'message': 'Add Ussuri cycle specs\n\nChange-Id: I48924a5438395af77531c0b7f20137069415d5c2\n'}, {'number': 2, 'created': '2019-10-17 08:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/d68b851cbd99bcfcd9f75d989d141b54c7df730a', 'message': 'Add Ussuri cycle specs\n\nChange-Id: I48924a5438395af77531c0b7f20137069415d5c2\n'}, {'number': 3, 'created': '2019-10-17 08:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/95ffb35467d16eae53298ec7c84cab9de4b0cf18', 'message': 'Add Ussuri cycle specs\n\nChange-Id: I48924a5438395af77531c0b7f20137069415d5c2\n'}, {'number': 4, 'created': '2019-10-18 02:37:21.000000000', 'files': ['priorities/ussuri-priorities.rst', 'specs/ussuri/approved/general-purpose-decision-engine-threadpool.rst', 'doc/source/specs/ussuri/approved', 'specs/ussuri/redirects', 'doc/source/specs/ussuri/redirects', 'specs/ussuri-template.rst', 'specs/ussuri/approved/ussuri-template.rst', 'specs/ussuri/implemented/ussuri-template.rst', 'doc/source/index.rst', 'doc/source/specs/ussuri/template.rst', 'doc/source/specs/ussuri/implemented', 'doc/source/specs/ussuri/index.rst'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/15f51154f8b6d28f9a5c5aeaaa475674c4db6211', 'message': 'Add Ussuri cycle specs\n\nChange-Id: I48924a5438395af77531c0b7f20137069415d5c2\n'}]",4,689098,15f51154f8b6d28f9a5c5aeaaa475674c4db6211,15,4,4,21692,,,0,"Add Ussuri cycle specs

Change-Id: I48924a5438395af77531c0b7f20137069415d5c2
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/98/689098/4 && git format-patch -1 --stdout FETCH_HEAD,"['priorities/ussuri-priorities.rst', 'specs/ussuri/approved/approved', 'specs/ussuri/approved/general-purpose-decision-engine-threadpool.rst', 'doc/source/specs/ussuri/approved', 'specs/ussuri/redirects', 'doc/source/specs/ussuri/redirects', 'specs/ussuri-template.rst', 'specs/ussuri/approved/ussuri-template.rst', 'specs/ussuri/implemented/ussuri-template.rst', 'doc/source/index.rst', 'doc/source/specs/ussuri/template.rst', 'doc/source/specs/ussuri/implemented', 'doc/source/specs/ussuri/index.rst']",13,8a4d38ab5154cdb85eded589cb8c210ad3b50c3d,ussuri,============================ Watcher Ussuri Specifications ============================ Template: .. toctree:: :maxdepth: 1 Specification Template (Ussuri release) <template> Ussuri implemented specs: .. toctree:: :glob: :maxdepth: 1 implemented/* Ussuri approved (but not implemented) specs: .. toctree:: :glob: :maxdepth: 1 approved/* ,,595,0
openstack%2Fwatcher~stable%2Fstein~I1b0e6b78b3bba4df9ba16e093b3910aab1de922e,openstack/watcher,stable/stein,I1b0e6b78b3bba4df9ba16e093b3910aab1de922e,Don't throw exception when missing metrics,MERGED,2019-10-18 08:43:37.000000000,2019-10-21 02:31:44.000000000,2019-10-21 02:08:56.000000000,"[{'_account_id': 22348}, {'_account_id': 28014}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-10-18 08:43:37.000000000', 'files': ['watcher/datasource/gnocchi.py', 'watcher/datasource/ceilometer.py', 'watcher/datasource/monasca.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/306224f70cfa3adcd2e17ea5d88eff7cd37ac2a2', 'message': ""Don't throw exception when missing metrics\n\nWhen querying data from datasource, it's possible to miss some data.\nIn this case if we throw an exception, Audit will failed because of\nthe exception. We should remove the exception and give the decision\nto the strategy.\n\nChange-Id: I1b0e6b78b3bba4df9ba16e093b3910aab1de922e\nCloses-Bug: #1847434\ncan not cherry picke from master because of code refactoring\n""}]",0,689339,306224f70cfa3adcd2e17ea5d88eff7cd37ac2a2,10,4,1,21692,,,0,"Don't throw exception when missing metrics

When querying data from datasource, it's possible to miss some data.
In this case if we throw an exception, Audit will failed because of
the exception. We should remove the exception and give the decision
to the strategy.

Change-Id: I1b0e6b78b3bba4df9ba16e093b3910aab1de922e
Closes-Bug: #1847434
can not cherry picke from master because of code refactoring
",git fetch https://review.opendev.org/openstack/watcher refs/changes/39/689339/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/datasource/gnocchi.py', 'watcher/datasource/ceilometer.py', 'watcher/datasource/monasca.py']",3,306224f70cfa3adcd2e17ea5d88eff7cd37ac2a2,bug/1847434,from oslo_log import logLOG = log.getLogger(__name__) except Exception as e: LOG.exception(e) status = self.query_retry(self.monasca.metrics.list) if status: return 'available' else:, except Exception: raise try: self.query_retry(self.monasca.metrics.list) except Exception: return 'available',26,26
openstack%2Fopenstack-helm~master~Ia76153b50e2e22cb606b8c0f811119b3f71217d2,openstack/openstack-helm,master,Ia76153b50e2e22cb606b8c0f811119b3f71217d2,Include additional filters_path in rootwrap.conf,MERGED,2019-10-03 15:26:07.000000000,2019-10-21 02:28:17.000000000,2019-10-21 02:26:43.000000000,"[{'_account_id': 8749}, {'_account_id': 8863}, {'_account_id': 12281}, {'_account_id': 16881}, {'_account_id': 17591}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 27589}, {'_account_id': 28719}]","[{'number': 1, 'created': '2019-10-03 15:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/44d53e558d6cb70687dfedd825068606124487be', 'message': 'Include additional filters_path in rootwrap.conf\n\nNeutron plugins (for ex. TaaS) using their own rootwrap filters install\nthose filter files in /var/lib/openstack/etc/neutron/rootwrap.d directory.\nTherefore this path should be added to neutron values.conf file to let\nthese plugins function correctly.\n\nChange-Id: Ia76153b50e2e22cb606b8c0f811119b3f71217d2\n'}, {'number': 2, 'created': '2019-10-03 18:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cbdf7596867225582743a8b2fa31de50d74a4c64', 'message': 'Include additional filters_path in rootwrap.conf\n\nNeutron plugins (for ex. TaaS) using their own rootwrap filters install\nthose filter files in /var/lib/openstack/etc/neutron/rootwrap.d directory.\nTherefore this path should be added to neutron values.conf file to let\nthese plugins function correctly.\n\nChange-Id: Ia76153b50e2e22cb606b8c0f811119b3f71217d2\n'}, {'number': 3, 'created': '2019-10-10 13:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4eb4cfab7dff500be7f7e5c564fcf28debfc0add', 'message': 'Include additional filters_path in rootwrap.conf\n\nNeutron plugins (for ex. TaaS) using their own rootwrap filters install\nthose filter files in /var/lib/openstack/etc/neutron/rootwrap.d directory.\nTherefore this path should be added to neutron values.conf file to let\nthese plugins function correctly.\n\nChange-Id: Ia76153b50e2e22cb606b8c0f811119b3f71217d2\n'}, {'number': 4, 'created': '2019-10-16 15:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8a3d7236ecb1c59fb467c58ea3866b69e54ad03f', 'message': 'Include additional filters_path in rootwrap.conf\n\nNeutron plugins (for ex. TaaS) using their own rootwrap filters install\nthose filter files in /var/lib/openstack/etc/neutron/rootwrap.d directory.\nTherefore this path should be added to neutron values.conf file to let\nthese plugins function correctly.\n\nChange-Id: Ia76153b50e2e22cb606b8c0f811119b3f71217d2\n'}, {'number': 5, 'created': '2019-10-19 16:00:56.000000000', 'files': ['neutron/templates/daemonset-ovs-agent.yaml', 'neutron/values.yaml', 'neutron/templates/daemonset-sriov-agent.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/adee9c4fe45d50351c0369baece6fab66dc21a17', 'message': 'Include additional filters_path in rootwrap.conf\n\nNeutron plugins (for ex. TaaS) using their own rootwrap filters install\nthose filter files in /var/lib/openstack/etc/neutron/rootwrap.d directory.\nTherefore this path should be added to neutron values.conf file to let\nthese plugins function correctly.\n\nChange-Id: Ia76153b50e2e22cb606b8c0f811119b3f71217d2\n'}]",0,686422,adee9c4fe45d50351c0369baece6fab66dc21a17,33,12,5,27589,,,0,"Include additional filters_path in rootwrap.conf

Neutron plugins (for ex. TaaS) using their own rootwrap filters install
those filter files in /var/lib/openstack/etc/neutron/rootwrap.d directory.
Therefore this path should be added to neutron values.conf file to let
these plugins function correctly.

Change-Id: Ia76153b50e2e22cb606b8c0f811119b3f71217d2
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/22/686422/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron/values.yaml'],1,44d53e558d6cb70687dfedd825068606124487be,rootwrap," filters_path=/etc/neutron/rootwrap.d,/usr/share/neutron/rootwrap,/var/lib/openstack/etc/neutron/rootwrap.d"," filters_path=/etc/neutron/rootwrap.d,/usr/share/neutron/rootwrap",1,1
openstack%2Fpython-freezerclient~stable%2Ftrain~Ia6bdf4cce2e27bd3da2c4f6f71ef70bb202ffe34,openstack/python-freezerclient,stable/train,Ia6bdf4cce2e27bd3da2c4f6f71ef70bb202ffe34,Update .gitreview for stable/train,MERGED,2019-09-20 17:40:08.000000000,2019-10-21 02:16:17.000000000,2019-10-21 02:15:14.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2019-09-20 17:40:08.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/17b7365da987f245d69ede6895ac0baf56483dac', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ia6bdf4cce2e27bd3da2c4f6f71ef70bb202ffe34\n'}]",0,683601,17b7365da987f245d69ede6895ac0baf56483dac,9,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ia6bdf4cce2e27bd3da2c4f6f71ef70bb202ffe34
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/01/683601/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,17b7365da987f245d69ede6895ac0baf56483dac,create-train,defaultbranch=stable/train,,1,0
openstack%2Ffreezer-api~master~I4699541618869e2513386cfaa9cf6cf413c0aeab,openstack/freezer-api,master,I4699541618869e2513386cfaa9cf6cf413c0aeab,Update master for stable/train,MERGED,2019-09-27 17:04:06.000000000,2019-10-21 02:10:00.000000000,2019-10-21 02:08:56.000000000,"[{'_account_id': 17499}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-27 17:04:06.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/45c3351b90ca7089a94e371ab3a06be0a1ffa507', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I4699541618869e2513386cfaa9cf6cf413c0aeab\nSem-Ver: feature\n'}]",0,685420,45c3351b90ca7089a94e371ab3a06be0a1ffa507,12,6,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I4699541618869e2513386cfaa9cf6cf413c0aeab
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/20/685420/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,45c3351b90ca7089a94e371ab3a06be0a1ffa507,reno-train, train,,7,0
openstack%2Fwatcher~stable%2Ftrain~I1b0e6b78b3bba4df9ba16e093b3910aab1de922e,openstack/watcher,stable/train,I1b0e6b78b3bba4df9ba16e093b3910aab1de922e,Don't throw exception when missing metrics,MERGED,2019-10-18 02:54:10.000000000,2019-10-21 02:08:44.000000000,2019-10-21 02:07:33.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28014}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-10-18 02:54:10.000000000', 'files': ['watcher/decision_engine/datasources/monasca.py', 'watcher/decision_engine/datasources/grafana.py', 'watcher/decision_engine/datasources/base.py', 'watcher/decision_engine/datasources/ceilometer.py', 'watcher/tests/decision_engine/datasources/test_base.py', 'watcher/tests/decision_engine/datasources/test_grafana_helper.py', 'watcher/decision_engine/datasources/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/e5884a963bf7239d6a0c580ef8f101834e7f3242', 'message': ""Don't throw exception when missing metrics\n\nWhen querying data from datasource, it's possible to miss some data.\nIn this case if we throw an exception, Audit will failed because of\nthe exception. We should remove the exception and give the decision\nto the strategy.\n\nChange-Id: I1b0e6b78b3bba4df9ba16e093b3910aab1de922e\nCloses-Bug: #1847434\n(cherry picked from commit f685bf62abf5c37765d8bc48b4cdb38df2147190)\n""}]",0,689300,e5884a963bf7239d6a0c580ef8f101834e7f3242,11,5,1,21692,,,0,"Don't throw exception when missing metrics

When querying data from datasource, it's possible to miss some data.
In this case if we throw an exception, Audit will failed because of
the exception. We should remove the exception and give the decision
to the strategy.

Change-Id: I1b0e6b78b3bba4df9ba16e093b3910aab1de922e
Closes-Bug: #1847434
(cherry picked from commit f685bf62abf5c37765d8bc48b4cdb38df2147190)
",git fetch https://review.opendev.org/openstack/watcher refs/changes/00/689300/1 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/decision_engine/datasources/grafana.py', 'watcher/decision_engine/datasources/monasca.py', 'watcher/decision_engine/datasources/base.py', 'watcher/decision_engine/datasources/ceilometer.py', 'watcher/tests/decision_engine/datasources/test_base.py', 'watcher/tests/decision_engine/datasources/test_grafana_helper.py', 'watcher/decision_engine/datasources/gnocchi.py']",7,e5884a963bf7239d6a0c580ef8f101834e7f3242,bug/1847434-stable/train," status = self.query_retry(self.gnocchi.status.get) if status: return 'available' else: response = self.query_retry(f=self.gnocchi.metric.list) if not response: LOG.warning(""The {0} resource {1} could not be "" ""found"".format(self.NAME, resource_id)) return return_value = None return return_value"," try: self.query_retry(self.gnocchi.status.get) except Exception: return 'available' try: response = self.query_retry(f=self.gnocchi.metric.list) except Exception: raise exception.ResourceNotFound(name='gnocchi', id=resource_id) return return_value",27,33
openstack%2Ffreezer-dr~stable%2Ftrain~I3985a7e35d357f5ae04f11e25514b14ba7c9c00e,openstack/freezer-dr,stable/train,I3985a7e35d357f5ae04f11e25514b14ba7c9c00e,Update .gitreview for stable/train,MERGED,2019-09-27 17:04:12.000000000,2019-10-21 01:46:23.000000000,2019-10-21 01:45:20.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2019-09-27 17:04:12.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/1a7c45eeaf2ca1bb8fe7bf867d4757c9711d7ddc', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I3985a7e35d357f5ae04f11e25514b14ba7c9c00e\n'}]",0,685421,1a7c45eeaf2ca1bb8fe7bf867d4757c9711d7ddc,9,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I3985a7e35d357f5ae04f11e25514b14ba7c9c00e
",git fetch https://review.opendev.org/openstack/freezer-dr refs/changes/21/685421/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,1a7c45eeaf2ca1bb8fe7bf867d4757c9711d7ddc,create-train,defaultbranch=stable/train,,1,0
openstack%2Fmagnum~stable%2Ftrain~I1b278d221d0f15d92d67869cd3ac897d041eaf90,openstack/magnum,stable/train,I1b278d221d0f15d92d67869cd3ac897d041eaf90,Return default quota from API,MERGED,2019-10-07 21:53:11.000000000,2019-10-20 22:47:15.000000000,2019-10-20 22:45:52.000000000,"[{'_account_id': 6484}, {'_account_id': 8064}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-07 21:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8d182855313d9da0ad21a211f2b38e3eeed841b9', 'message': 'Return default quota from API\n\nCurrently the dashboard and magnum clients are unable to get the default\nquota of a project, if a project does not have a quota set. This is due\nto the API returning a QuotaNotFound exception, rather than falling back\nto the default quota.\n\nThe result is that dashboard is not displaying quotas correctly. It also\nmeans users are not able to see their default quota.\n\nThis patch updates the API by returning the default quota instead of a\nQuotaNotFound exception. This makes magnum behave similarly to how other\nprojects like designate handles quota.\n\nStory: 2006307\nTask: 36029\nChange-Id: I1b278d221d0f15d92d67869cd3ac897d041eaf90\n'}, {'number': 2, 'created': '2019-10-07 22:00:52.000000000', 'files': ['magnum/tests/unit/api/controllers/v1/test_quota.py', 'magnum/api/controllers/v1/quota.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/a21f6b8f3c18d30e75a9e7a97f0260ec5f372d20', 'message': 'Return default quota from API\n\nCurrently the dashboard and magnum clients are unable to get the default\nquota of a project, if a project does not have a quota set. This is due\nto the API returning a QuotaNotFound exception, rather than falling back\nto the default quota.\n\nThe result is that dashboard is not displaying quotas correctly. It also\nmeans users are not able to see their default quota.\n\nThis patch updates the API by returning the default quota instead of a\nQuotaNotFound exception. This makes magnum behave similarly to how other\nprojects like designate handles quota.\n\nStory: 2006307\nTask: 36029\nChange-Id: I1b278d221d0f15d92d67869cd3ac897d041eaf90\n(cherry-picked from commit 6bb95dac2e5e8c3abda765a2787194a001681ce0)\n'}]",0,687169,a21f6b8f3c18d30e75a9e7a97f0260ec5f372d20,9,5,2,28022,,,0,"Return default quota from API

Currently the dashboard and magnum clients are unable to get the default
quota of a project, if a project does not have a quota set. This is due
to the API returning a QuotaNotFound exception, rather than falling back
to the default quota.

The result is that dashboard is not displaying quotas correctly. It also
means users are not able to see their default quota.

This patch updates the API by returning the default quota instead of a
QuotaNotFound exception. This makes magnum behave similarly to how other
projects like designate handles quota.

Story: 2006307
Task: 36029
Change-Id: I1b278d221d0f15d92d67869cd3ac897d041eaf90
(cherry-picked from commit 6bb95dac2e5e8c3abda765a2787194a001681ce0)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/69/687169/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/tests/unit/api/controllers/v1/test_quota.py', 'magnum/api/controllers/v1/quota.py']",2,8d182855313d9da0ad21a211f2b38e3eeed841b9,magnum_quotas-stable/train,"import magnum.confCONF = magnum.conf.CONF try: quota = objects.Quota.get_quota_by_project_id_resource(context, project_id, resource) quota = Quota.convert(quota) except exception.QuotaNotFound: # If explicit quota was not set for the project, use default limit quota = Quota(project_id=project_id, hard_limit=CONF.quotas.max_clusters_per_project) return quota"," quota = objects.Quota.get_quota_by_project_id_resource(context, project_id, resource) return Quota.convert(quota)",38,12
openstack%2Frequirements~master~I1091466b849989ae607118bf1a0f2e8bb4656317,openstack/requirements,master,I1091466b849989ae607118bf1a0f2e8bb4656317,Updated from generate-constraints,ABANDONED,2019-10-20 06:20:06.000000000,2019-10-20 16:28:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-20 06:20:06.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7742bffdf56109ea32df1f96e95cb1539b1394a4', 'message': 'Updated from generate-constraints\n\nChange-Id: I1091466b849989ae607118bf1a0f2e8bb4656317\n'}]",0,689642,7742bffdf56109ea32df1f96e95cb1539b1394a4,3,1,1,11131,,,0,"Updated from generate-constraints

Change-Id: I1091466b849989ae607118bf1a0f2e8bb4656317
",git fetch https://review.opendev.org/openstack/requirements refs/changes/42/689642/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7742bffdf56109ea32df1f96e95cb1539b1394a4,openstack/requirements/constraints,networkx===2.4;python_version=='3.4' networkx===2.4;python_version=='3.5' networkx===2.4;python_version=='3.6' networkx===2.4;python_version=='3.7'amqp===2.5.2salt===2019.2.1,networkx===2.3;python_version=='3.4' networkx===2.3;python_version=='3.5' networkx===2.3;python_version=='3.6' networkx===2.3;python_version=='3.7'amqp===2.5.1salt===2019.2.0,6,6
openstack%2Ftripleo-ci~master~Ib1729375d2700e2e6fd97353b85489f0dfcb6adb,openstack/tripleo-ci,master,Ib1729375d2700e2e6fd97353b85489f0dfcb6adb,Remove instackenv.json file from logs,MERGED,2019-10-17 21:23:07.000000000,2019-10-20 08:25:32.000000000,2019-10-20 08:25:32.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-17 21:23:07.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7786dda96528508caec2dc0db7cc906786b56e60', 'message': 'Remove instackenv.json file from logs\n\nIn order to piblish the baremetal logs, the\ninstackenv.json file must be exculuded from\nthe log collection.\n\nChange-Id: Ib1729375d2700e2e6fd97353b85489f0dfcb6adb\n'}]",2,689273,7786dda96528508caec2dc0db7cc906786b56e60,16,5,1,9976,,,0,"Remove instackenv.json file from logs

In order to piblish the baremetal logs, the
instackenv.json file must be exculuded from
the log collection.

Change-Id: Ib1729375d2700e2e6fd97353b85489f0dfcb6adb
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/73/689273/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,7786dda96528508caec2dc0db7cc906786b56e60,exclude-instackenv, - /home/{{ undercloud_user }}/instackenv.json,,1,0
openstack%2Fneutron~master~Ic7bfafce40b4025f6768121dec37c1d6f3b4c5fc,openstack/neutron,master,Ic7bfafce40b4025f6768121dec37c1d6f3b4c5fc,[nova][train] Docs: Remove deprecated RetryFilter,MERGED,2019-10-18 10:48:26.000000000,2019-10-20 07:41:57.000000000,2019-10-19 00:49:19.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-18 10:48:26.000000000', 'files': ['doc/source/admin/config-sriov.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a8fa0853640362f3d1c792b166a487c7b3b7532b', 'message': '[nova][train] Docs: Remove deprecated RetryFilter\n\nThe default does not include it.\n\nNova docs:\nRetryFilter - Deprecated since version 20.0.0 (Train)\nSince the 17.0.0 (Queens) release, the scheduler has provided\nalternate hosts for rescheduling so the scheduler does not need to\nbe called during a reschedule which makes the RetryFilter useless.\n\nChange-Id: Ic7bfafce40b4025f6768121dec37c1d6f3b4c5fc\n'}]",4,689423,a8fa0853640362f3d1c792b166a487c7b3b7532b,14,7,1,30491,,,0,"[nova][train] Docs: Remove deprecated RetryFilter

The default does not include it.

Nova docs:
RetryFilter - Deprecated since version 20.0.0 (Train)
Since the 17.0.0 (Queens) release, the scheduler has provided
alternate hosts for rescheduling so the scheduler does not need to
be called during a reschedule which makes the RetryFilter useless.

Change-Id: Ic7bfafce40b4025f6768121dec37c1d6f3b4c5fc
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/689423/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-sriov.rst'],1,a8fa0853640362f3d1c792b166a487c7b3b7532b,train-nova-deprecate-retryfilter," enabled_filters = AvailabilityZoneFilter, ComputeFilter, ComputeCapabilitiesFilter, ImagePropertiesFilter, ServerGroupAntiAffinityFilter, ServerGroupAffinityFilter, PciPassthroughFilter"," enabled_filters = RetryFilter, AvailabilityZoneFilter, ComputeFilter, ComputeCapabilitiesFilter, ImagePropertiesFilter, ServerGroupAntiAffinityFilter, ServerGroupAffinityFilter, PciPassthroughFilter",1,1
openstack%2Fkolla-ansible~master~Id998ffe9767147cddb219e9f0b80142cd6b31a15,openstack/kolla-ansible,master,Id998ffe9767147cddb219e9f0b80142cd6b31a15,DNM: CI: Run all IPv6,ABANDONED,2019-10-16 09:27:32.000000000,2019-10-20 07:40:23.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-16 09:27:32.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b83401b66746baa3421600f9f0e3458d75fd7e03', 'message': 'DNM: CI: Run all IPv6\n\nChange-Id: Id998ffe9767147cddb219e9f0b80142cd6b31a15\n'}]",0,688887,b83401b66746baa3421600f9f0e3458d75fd7e03,7,2,1,30491,,,0,"DNM: CI: Run all IPv6

Change-Id: Id998ffe9767147cddb219e9f0b80142cd6b31a15
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/87/688887/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,b83401b66746baa3421600f9f0e3458d75fd7e03,dnm-ipv6," api_network_prefix: ""fd::"" api_network_prefix_length: ""64"" kolla_internal_vip_address: ""fd::ff:0"" address_family: 'ipv6'"," api_network_prefix: ""192.0.2."" api_network_prefix_length: ""24"" kolla_internal_vip_address: ""192.0.2.10"" address_family: 'ipv4'",4,4
openstack%2Fkolla~master~I9ff3929cd6f6f466cb8f6228933bfac0b5a8052b,openstack/kolla,master,I9ff3929cd6f6f466cb8f6228933bfac0b5a8052b,CI: Use semaphore to limit strain on Docker Hub,ABANDONED,2019-10-04 11:10:19.000000000,2019-10-20 07:40:01.000000000,,"[{'_account_id': 6547}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-04 11:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/71855fa08b28437e34a5058e2e07188f610fd382', 'message': 'CI: Use semaphore to limit strain on DockerHub\n\nThis needs to be backported to have real effect.\n\nRefactored publish jobs to move post-timeout value.\nIncreased attempts to 2.\n\nChange-Id: I9ff3929cd6f6f466cb8f6228933bfac0b5a8052b\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-10-04 11:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8294d3c0a9dcfb462419b0b4518163370bb7a634', 'message': 'CI: Use semaphore to limit strain on Docker Hub\n\nThis needs to be backported to have real effect.\n\nRefactored publish jobs to move post-timeout value.\nIncreased attempts to 2.\n\nChange-Id: I9ff3929cd6f6f466cb8f6228933bfac0b5a8052b\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 3, 'created': '2019-10-04 11:14:09.000000000', 'files': ['tests/playbooks/run.yml', '.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/base.yaml', '.zuul.d/ubuntu.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ccb658a36c4e29c73c5b5c934a2f69532797d594', 'message': 'CI: Use semaphore to limit strain on Docker Hub\n\nThis needs to be backported to have real effect.\n\nRefactored publish jobs to move post-timeout value.\n\nChange-Id: I9ff3929cd6f6f466cb8f6228933bfac0b5a8052b\nSigned-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\n'}]",10,686569,ccb658a36c4e29c73c5b5c934a2f69532797d594,13,6,3,30491,,,0,"CI: Use semaphore to limit strain on Docker Hub

This needs to be backported to have real effect.

Refactored publish jobs to move post-timeout value.

Change-Id: I9ff3929cd6f6f466cb8f6228933bfac0b5a8052b
Signed-off-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/69/686569/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/playbooks/run.yml', '.zuul.d/debian.yaml', '.zuul.d/centos.yaml', '.zuul.d/base.yaml', '.zuul.d/ubuntu.yaml']",5,71855fa08b28437e34a5058e2e07188f610fd382,ci-semaphore, name: kolla-publish-ubuntu parent: kolla-publish nodeset: kolla-ubuntu-bionic vars: base_distro: ubuntu - job: parent: kolla-publish-ubuntu vars: install_type: binary parent: kolla-publish-ubuntu vars: install_type: source, action: build parent: kolla-build-ubuntu-binary post-run: tests/playbooks/publish.yml vars: publisher: true secrets: - kolla_dockerhub_creds action: build parent: kolla-build-ubuntu-source post-run: tests/playbooks/publish.yml vars: publisher: true secrets: - kolla_dockerhub_creds,51,39
openstack%2Fnova~master~Ia1071ff1cb31e57f73e40eeb9b1531a7b1996cae,openstack/nova,master,Ia1071ff1cb31e57f73e40eeb9b1531a7b1996cae,Remove dead reserve_volume compat code in _validate_bdm,MERGED,2019-10-08 21:30:16.000000000,2019-10-20 00:40:50.000000000,2019-10-20 00:38:24.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-08 21:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b492ac6df178349f1d395e6745f36602290bc9b', 'message': 'Remove dead reserve_volume compat code in _validate_bdm\n\nChange I3cc775fc7dafe691b97a15e50ae2e93c92f355be in Rocky\nadded compat code in _validate_bdm for when a boot-from-volume\nrequest ends up using the legacy attachment flow and\n_check_attach_and_reserve_volume was not called or did not set\nbdm.attachment_id.\n\nThe legacy flow compat code was remove in Train in change\nI6a777b4b7a5729488f939df8c40e49bd40aec3dd so we can remove the\nnow dead condition in _validate_bdm because the bdm.attachment_id\nis always going to be set on a pre-existing volume during boot\nfrom volume.\n\nChange-Id: Ia1071ff1cb31e57f73e40eeb9b1531a7b1996cae\n'}, {'number': 2, 'created': '2019-10-08 21:31:24.000000000', 'files': ['nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/56d3f4657c446360db53779cf025d40a44bf04bb', 'message': 'Remove dead reserve_volume compat code in _validate_bdm\n\nChange I3cc775fc7dafe691b97a15e50ae2e93c92f355be in Rocky\nadded compat code in _validate_bdm for when a boot-from-volume\nrequest ends up using the legacy attachment flow and\n_check_attach_and_reserve_volume was not called or did not set\nbdm.attachment_id.\n\nThe legacy flow compat code was removed in Train in change\nI6a777b4b7a5729488f939df8c40e49bd40aec3dd so we can remove the\nnow dead condition in _validate_bdm because the bdm.attachment_id\nis always going to be set on a pre-existing volume during boot\nfrom volume.\n\nChange-Id: Ia1071ff1cb31e57f73e40eeb9b1531a7b1996cae\n'}]",3,687427,56d3f4657c446360db53779cf025d40a44bf04bb,38,12,2,6873,,,0,"Remove dead reserve_volume compat code in _validate_bdm

Change I3cc775fc7dafe691b97a15e50ae2e93c92f355be in Rocky
added compat code in _validate_bdm for when a boot-from-volume
request ends up using the legacy attachment flow and
_check_attach_and_reserve_volume was not called or did not set
bdm.attachment_id.

The legacy flow compat code was removed in Train in change
I6a777b4b7a5729488f939df8c40e49bd40aec3dd so we can remove the
now dead condition in _validate_bdm because the bdm.attachment_id
is always going to be set on a pre-existing volume during boot
from volume.

Change-Id: Ia1071ff1cb31e57f73e40eeb9b1531a7b1996cae
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/687427/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,4b492ac6df178349f1d395e6745f36602290bc9b,_validate_bdm,," # NOTE(mnaser): If we end up reserving the volume, it will # not have an attachment_id which is needed # for cleanups. This can be removed once # all calls to reserve_volume are gone. if 'attachment_id' not in bdm: bdm.attachment_id = None",0,7
openstack%2Fnova~master~I2d0a4461081f5284d16df73a783cb7dae3ff0ef5,openstack/nova,master,I2d0a4461081f5284d16df73a783cb7dae3ff0ef5,Add support for cloud-init on LXC instances,MERGED,2019-06-27 16:13:41.000000000,2019-10-20 00:14:08.000000000,2019-10-20 00:12:22.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 19490}, {'_account_id': 20754}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-06-27 16:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/038448bf9a412a1674ff9a99d4ad4cea6da5ac64', 'message': 'Add support for cloud-init on LXC instances\n\nImages that use cloud-init are not correctly initialized when using\nlibvirt LXC nova driver.\n\nOne way cloud-init checks if the OpenStack datasource should be used\nis by checking DMI data that is meaningful for virtual machines but\nnot for containers.\n\nAnother way cloud-init is using is to check if the \'product_name\'\nenv variable for init process (PID 1) is ""OpenStack Nova"" [1][2].\n\nThis commit add that env variable to the instance when the driver\nis LXC.\n\n[1] https://cloudinit.readthedocs.io/en/latest/topics/datasources/openstack.html\n[2] https://git.launchpad.net/cloud-init/tree/tools/ds-identify#n974\n\nChange-Id: I2d0a4461081f5284d16df73a783cb7dae3ff0ef5\nSigned-off-by: Miguel Herranz <miguel@midokura.com>\n'}, {'number': 2, 'created': '2019-06-27 16:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ee5492922078ff454421150c27c5bdbc1007f905', 'message': 'Add support for cloud-init on LXC instances\n\nImages that use cloud-init are not correctly initialized when using\nlibvirt LXC nova driver.\n\nOne way cloud-init checks if the OpenStack datasource should be used\nis by checking DMI data that is meaningful for virtual machines but\nnot for containers.\n\nAnother way cloud-init is using is to check if the \'product_name\'\nenv variable for init process (PID 1) is ""OpenStack Nova"" [1][2].\n\nThis commit add that env variable to the instance when the driver\nis LXC.\n\n[1] https://cloudinit.readthedocs.io/en/latest/topics/datasources/openstack.html\n[2] https://git.launchpad.net/cloud-init/tree/tools/ds-identify#n974\n\nCloses-Bug: 1834506\n\nChange-Id: I2d0a4461081f5284d16df73a783cb7dae3ff0ef5\nSigned-off-by: Miguel Herranz <miguel@midokura.com>\n'}, {'number': 3, 'created': '2019-08-25 19:39:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f93eea62b4a1695155f4939e4c233f8691bcccc', 'message': 'Add support for cloud-init on LXC instances\n\nImages that use cloud-init are not correctly initialized when using\nlibvirt LXC nova driver.\n\nOne way cloud-init checks if the OpenStack datasource should be used\nis by checking DMI data that is meaningful for virtual machines but\nnot for containers.\n\nAnother way cloud-init is using is to check if the \'product_name\'\nenv variable for init process (PID 1) is ""OpenStack Nova"" [1][2].\n\nThis commit add that env variable to the instance when the driver\nis LXC.\n\n[1] https://cloudinit.readthedocs.io/en/latest/topics/datasources/openstack.html\n[2] https://git.launchpad.net/cloud-init/tree/tools/ds-identify#n974\n\nCloses-Bug: 1834506\n\nChange-Id: I2d0a4461081f5284d16df73a783cb7dae3ff0ef5\nSigned-off-by: Miguel Herranz <miguel@midokura.com>\n'}, {'number': 4, 'created': '2019-10-09 16:32:04.000000000', 'files': ['nova/virt/libvirt/driver.py', 'releasenotes/notes/bug-1834506-7c6875bbdc32ab0b.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8f975bc8287d980f3e6c5da601051cf626c081dd', 'message': 'Add support for cloud-init on LXC instances\n\nImages that use cloud-init are not correctly initialized when using\nlibvirt LXC nova driver.\n\nOne way cloud-init checks if the OpenStack datasource should be used\nis by checking DMI data that is meaningful for virtual machines but\nnot for containers.\n\nAnother way cloud-init is using is to check if the \'product_name\'\nenv variable for init process (PID 1) is ""OpenStack Nova"" [1][2].\n\nThis commit add that env variable to the instance when the driver\nis LXC.\n\n[1] https://cloudinit.readthedocs.io/en/latest/topics/datasources/openstack.html\n[2] https://git.launchpad.net/cloud-init/tree/tools/ds-identify#n974\n\nCloses-Bug: 1834506\n\nChange-Id: I2d0a4461081f5284d16df73a783cb7dae3ff0ef5\nSigned-off-by: Miguel Herranz <miguel@midokura.com>\n'}]",5,667976,8f975bc8287d980f3e6c5da601051cf626c081dd,79,20,4,19490,,,0,"Add support for cloud-init on LXC instances

Images that use cloud-init are not correctly initialized when using
libvirt LXC nova driver.

One way cloud-init checks if the OpenStack datasource should be used
is by checking DMI data that is meaningful for virtual machines but
not for containers.

Another way cloud-init is using is to check if the 'product_name'
env variable for init process (PID 1) is ""OpenStack Nova"" [1][2].

This commit add that env variable to the instance when the driver
is LXC.

[1] https://cloudinit.readthedocs.io/en/latest/topics/datasources/openstack.html
[2] https://git.launchpad.net/cloud-init/tree/tools/ds-identify#n974

Closes-Bug: 1834506

Change-Id: I2d0a4461081f5284d16df73a783cb7dae3ff0ef5
Signed-off-by: Miguel Herranz <miguel@midokura.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/76/667976/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,038448bf9a412a1674ff9a99d4ad4cea6da5ac64,bug/1834506," self.assertEqual(""OpenStack Nova"", cfg.os_init_env['product_name']) (lambda t: t.find(""./os/initenv[@name='product_name']"").text, 'OpenStack Nova'),",,4,0
openstack%2Fzun-ui~master~Ic3dd0f949c3937f0e5b5d4f81aed7ca30ab271ff,openstack/zun-ui,master,Ic3dd0f949c3937f0e5b5d4f81aed7ca30ab271ff,Use labels to identify the cloud-shell container,MERGED,2019-10-13 18:51:15.000000000,2019-10-19 22:31:59.000000000,2019-10-19 22:18:19.000000000,"[{'_account_id': 11536}, {'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-13 18:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/dc162564d3c25ed31278bf457e9470a7d885ff4a', 'message': 'Use labels to identify the cloud-shell container\n\nChange-Id: Ic3dd0f949c3937f0e5b5d4f81aed7ca30ab271ff\nCloses-Bug: #1847227\n'}, {'number': 2, 'created': '2019-10-14 01:19:05.000000000', 'files': ['zun_ui/static/cloud-shell/cloud-shell.controller.js'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/2583d574d278b6bb32f7a3de1c6c1e3bdd0e8869', 'message': 'Use labels to identify the cloud-shell container\n\nChange-Id: Ic3dd0f949c3937f0e5b5d4f81aed7ca30ab271ff\nCloses-Bug: #1847227\n'}]",0,688311,2583d574d278b6bb32f7a3de1c6c1e3bdd0e8869,10,3,2,11536,,,0,"Use labels to identify the cloud-shell container

Change-Id: Ic3dd0f949c3937f0e5b5d4f81aed7ca30ab271ff
Closes-Bug: #1847227
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/11/688311/2 && git format-patch -1 --stdout FETCH_HEAD,['zun_ui/static/cloud-shell/cloud-shell.controller.js'],1,dc162564d3c25ed31278bf457e9470a7d885ff4a,bug/1847227," ctrl.containerLabel = ""cloud-shell-"" + ctrl.user + ""-"" + ctrl.project + zun.getContainers().then(findContainer); function findContainer(response) { var container = response.data.items.find(function(item){ return item.labels['cloud-shell'] == ctrl.containerLabel; }); if (typeof(container) == 'undefined') { onFailGetContainer(); } else { onGetContainer({data: container}); } } labels: ""cloud-shell="" + ctrl.containerLabel"," ctrl.container.name = ""cloud-shell-"" + ctrl.user + ""-"" + ctrl.project + zun.getContainer(ctrl.container.name, true).then(onGetContainer, onFailGetContainer); name: ctrl.container.name, labels: ""cloud-shell="" + ctrl.container.name",15,4
openstack%2Fmanila~stable%2Frocky~Iea92feaf5894c10674d2ec4c1a4d7b0191e6d5b4,openstack/manila,stable/rocky,Iea92feaf5894c10674d2ec4c1a4d7b0191e6d5b4,[NetApp] Allow extension/shrinking of NetApp replicated share,MERGED,2019-10-18 23:38:22.000000000,2019-10-19 19:23:22.000000000,2019-10-19 19:22:02.000000000,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29831}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-10-18 23:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d4a77fa88311303620a7e00a360d1d2561f9f71e', 'message': '[NetApp] Allow extension/shrinking of NetApp replicated share\n\nThe NetApp ONTAP driver is now fixed to allow extension\nand shrinking of share replicas after they get promoted.\n\nChange-Id: Iea92feaf5894c10674d2ec4c1a4d7b0191e6d5b4\nCloses-Bug: #1700871\n(cherry picked from commit 75f108b0aee630b54a44d0c27467a85fd8a6af3a)\n(cherry picked from commit e38c8b508ff0cd1f5ea81a0f566fd83fb0b069ce)\n'}, {'number': 2, 'created': '2019-10-19 09:27:38.000000000', 'files': ['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'releasenotes/notes/bug-1700871-ontap-allow-extend-of-replicated-share-2c9709180d954308.yaml', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/8ae267e4f144e88dda9b513f104b3244c544caea', 'message': '[NetApp] Allow extension/shrinking of NetApp replicated share\n\nThe NetApp ONTAP driver is now fixed to allow extension\nand shrinking of share replicas after they get promoted.\n\nChange-Id: Iea92feaf5894c10674d2ec4c1a4d7b0191e6d5b4\nCloses-Bug: #1700871\n(cherry picked from commit 75f108b0aee630b54a44d0c27467a85fd8a6af3a)\n(cherry picked from commit e38c8b508ff0cd1f5ea81a0f566fd83fb0b069ce)\n(cherry picked from commit 5255ca20fb2aff3b2548475d4b7914dc02eb8bbf)\n'}]",1,689607,8ae267e4f144e88dda9b513f104b3244c544caea,14,6,2,30002,,,0,"[NetApp] Allow extension/shrinking of NetApp replicated share

The NetApp ONTAP driver is now fixed to allow extension
and shrinking of share replicas after they get promoted.

Change-Id: Iea92feaf5894c10674d2ec4c1a4d7b0191e6d5b4
Closes-Bug: #1700871
(cherry picked from commit 75f108b0aee630b54a44d0c27467a85fd8a6af3a)
(cherry picked from commit e38c8b508ff0cd1f5ea81a0f566fd83fb0b069ce)
(cherry picked from commit 5255ca20fb2aff3b2548475d4b7914dc02eb8bbf)
",git fetch https://review.opendev.org/openstack/manila refs/changes/07/689607/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'releasenotes/notes/bug-1700871-ontap-allow-extend-of-replicated-share-2c9709180d954308.yaml', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py']",4,d4a77fa88311303620a7e00a360d1d2561f9f71e,bug/1700871-stable/train-stable/stein-stable/rocky," def set_volume_filesys_size_fixed(self, volume_name, filesys_size_fixed=False): """"""Set volume file system size fixed to true/false."""""" api_args = { 'query': { 'volume-attributes': { 'volume-id-attributes': { 'name': volume_name, }, }, }, 'attributes': { 'volume-attributes': { 'volume-space-attributes': { 'is-filesys-size-fixed': six.text_type( filesys_size_fixed).lower(), }, }, }, } result = self.send_request('volume-modify-iter', api_args) failures = result.get_child_content('num-failed') if failures and int(failures) > 0: failure_list = result.get_child_by_name( 'failure-list') or netapp_api.NaElement('none') errors = failure_list.get_children() if errors: raise netapp_api.NaApiError( errors[0].get_child_content('error-code'), errors[0].get_child_content('error-message')) @na_utils.trace",,76,0
openstack%2Fpython-novaclient~master~I3cfe37b412971dfff4b217fc7cc6cfdf1b118ce0,openstack/python-novaclient,master,I3cfe37b412971dfff4b217fc7cc6cfdf1b118ce0,Add functional test for migration-list in v2.80,MERGED,2019-10-15 06:58:52.000000000,2019-10-19 17:51:01.000000000,2019-10-19 17:48:53.000000000,"[{'_account_id': 679}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-10-15 06:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/a6238360e438ff33f2bd2799a03af5b8db4c9761', 'message': 'Add functional test for migration-list in v2.80\n\nChange-Id: I3cfe37b412971dfff4b217fc7cc6cfdf1b118ce0\n'}, {'number': 2, 'created': '2019-10-15 07:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/d8cf4be0e67372a550c1b6830ba8db9bd7ac7ce5', 'message': 'Add functional test for migration-list in v2.80\n\nChange-Id: I3cfe37b412971dfff4b217fc7cc6cfdf1b118ce0\n'}, {'number': 3, 'created': '2019-10-16 23:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/05593115dee9f9f6fbfa335437b6f980ff9036b0', 'message': 'Add functional test for migration-list in v2.80\n\nChange-Id: I3cfe37b412971dfff4b217fc7cc6cfdf1b118ce0\n'}, {'number': 4, 'created': '2019-10-17 10:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/fdc7371415e0845fea43ec3a454ce1c9467fc494', 'message': 'Add functional test for migration-list in v2.80\n\nIn microversion 2.80 add the functional test for the `nova migration-list`\nand `nova live-migration` CLIs.\n\npart of bp add-user-id-field-to-the-migrations-table\nChange-Id: I3cfe37b412971dfff4b217fc7cc6cfdf1b118ce0\n'}, {'number': 5, 'created': '2019-10-17 12:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/13c46035c3caf7dc9a9d5070aabb56366bb7c93d', 'message': 'Add functional test for migration-list in v2.80\n\nIn microversion 2.80 add the functional test for the `nova migration-list`\nand `nova live-migration` CLIs.\n\npart of bp add-user-id-field-to-the-migrations-table\nChange-Id: I3cfe37b412971dfff4b217fc7cc6cfdf1b118ce0\n'}, {'number': 6, 'created': '2019-10-17 12:53:16.000000000', 'files': ['novaclient/tests/functional/v2/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/f420c058513018132f36a743dcea069e4925370e', 'message': 'Add functional test for migration-list in v2.80\n\nIn microversion 2.80 add the functional test for the `nova migration-list`\nCLI.\n\npart of bp add-user-id-field-to-the-migrations-table\nChange-Id: I3cfe37b412971dfff4b217fc7cc6cfdf1b118ce0\n'}]",7,688635,f420c058513018132f36a743dcea069e4925370e,23,6,6,26458,,,0,"Add functional test for migration-list in v2.80

In microversion 2.80 add the functional test for the `nova migration-list`
CLI.

part of bp add-user-id-field-to-the-migrations-table
Change-Id: I3cfe37b412971dfff4b217fc7cc6cfdf1b118ce0
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/35/688635/6 && git format-patch -1 --stdout FETCH_HEAD,['novaclient/tests/functional/v2/test_migrations.py'],1,a6238360e438ff33f2bd2799a03af5b8db4c9761,bp/add-user-id-field-to-the-migrations-table," server_user_id = self._get_value_from_the_table(server, 'user_id') tenant_id = self._get_value_from_the_table(server, 'tenant_id') # Listing migrations with v2.80 and make sure there are the User ID # and Project ID values in the output. migrations = self.nova('migration-list', flags='--os-compute-api-version 2.80') user_id = self._get_column_value_from_single_row_table( migrations, 'User ID') self.assertEqual(server_user_id, user_id) project_id = self._get_column_value_from_single_row_table( migrations, 'Project ID') self.assertEqual(tenant_id, proejct_id)",,13,0
openstack%2Fpython-novaclient~master~I1c6ce27b65920356df6b7001c581a2922765ce0c,openstack/python-novaclient,master,I1c6ce27b65920356df6b7001c581a2922765ce0c,Add images.GlanceManager.find_images() bulk query,MERGED,2019-10-18 16:16:53.000000000,2019-10-19 17:49:57.000000000,2019-10-19 17:48:52.000000000,"[{'_account_id': 679}, {'_account_id': 4393}, {'_account_id': 9545}, {'_account_id': 22348}, {'_account_id': 29745}]","[{'number': 1, 'created': '2019-10-18 16:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/558a84767f55594770b49c9ddf5ae870559b569e', 'message': 'Add images.GlanceManager.find_images() bulk query\n\nThis adds a bulk query method to GlanceManager that takes multiple\nimage names or ids and attempts to query glance for all of them\nin fewer requests than one-per-image.\n\nNote that this does not include a test for this method as it appears\nthat the find_image() method on which it is based is not tested\nindependently. The subsequent patch introduces a use of this that\nverifies the behavior.\n\nChange-Id: I1c6ce27b65920356df6b7001c581a2922765ce0c\n'}, {'number': 2, 'created': '2019-10-18 17:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/d17c14e256cc2b1a5a51b5595bcb1e22e2f27c09', 'message': 'Add images.GlanceManager.find_images() bulk query\n\nThis adds a bulk query method to GlanceManager that takes multiple\nimage names or ids and attempts to query glance for all of them\nin fewer requests than one-per-image.\n\nNote that this does not include a test for this method as it appears\nthat the find_image() method on which it is based is not tested\nindependently. The subsequent patch introduces a use of this that\nverifies the behavior.\n\nChange-Id: I1c6ce27b65920356df6b7001c581a2922765ce0c\n'}, {'number': 3, 'created': '2019-10-18 17:50:05.000000000', 'files': ['novaclient/tests/unit/v2/fakes.py', 'novaclient/v2/shell.py', 'novaclient/v2/images.py', 'novaclient/tests/unit/v2/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/e1bb4378db1e5be85a59861c2d473388fa336da8', 'message': 'Add images.GlanceManager.find_images() bulk query\n\nThis adds a bulk query method to GlanceManager that takes multiple\nimage names or ids and attempts to query glance for all of them\nin fewer requests than one-per-image.\n\nChange-Id: I1c6ce27b65920356df6b7001c581a2922765ce0c\n'}]",7,689537,e1bb4378db1e5be85a59861c2d473388fa336da8,18,5,3,4393,,,0,"Add images.GlanceManager.find_images() bulk query

This adds a bulk query method to GlanceManager that takes multiple
image names or ids and attempts to query glance for all of them
in fewer requests than one-per-image.

Change-Id: I1c6ce27b65920356df6b7001c581a2922765ce0c
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/37/689537/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/tests/unit/v2/fakes.py', 'novaclient/v2/shell.py', 'novaclient/v2/images.py']",3,558a84767f55594770b49c9ddf5ae870559b569e,bp/image-precache-support," def find_images(self, names_or_ids): """"""Find multiple images by name or id (user provided input). :param names_or_ids: A list of strings to use to find images. :returns: novaclient.v2.images.Image objects for each images found :raises exceptions.NotFound: If one or more images is not found :raises exceptions.ClientException: If the image service returns any unexpected images. NOTE: This method always makes two calls to the image service, even if only one image is provided by ID and is returned in the first query. """""" with self.alternate_service_type( 'image', allowed_types=('image',)): matches = self._list('/v2/images?id=in:%s' % ','.join( names_or_ids), 'images') matches.extend(self._list('/v2/images?names=in:%s' % ','.join( names_or_ids), 'images')) missed = (set(names_or_ids) - set(m.name for m in matches) - set(m.id for m in matches)) if missed: msg = _(""Unable to find image(s): %(images)s"") % { ""images"": "","".join(missed)} raise exceptions.NotFound(404, msg) for match in matches: match.append_request_ids(matches.request_ids) additional = [] for i in matches: if i.name not in names_or_ids and i.id not in names_or_ids: additional.append(i) if additional: msg = _('Additional images found in response') raise exceptions.ClientException(500, msg) return matches ",,56,2
openstack%2Fpython-novaclient~master~Id354ccfa99e500a598685e6b794c12160ea2a990,openstack/python-novaclient,master,Id354ccfa99e500a598685e6b794c12160ea2a990,Add aggregate-cache-images command and client routines,MERGED,2019-10-07 19:08:12.000000000,2019-10-19 17:48:53.000000000,2019-10-19 17:48:52.000000000,"[{'_account_id': 679}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9545}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-10-07 19:08:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/53b9dddb956f17aed982e1511b67330a79a3ce2c', 'message': 'WIP: Add aggregate-cache-images command and client routines\n\nThis adds the ability to request image precache support for an aggregate\nin support of the matching server feature.\n\nRelated to blueprint image-precache-support\n\nChange-Id: Id354ccfa99e500a598685e6b794c12160ea2a990\n'}, {'number': 2, 'created': '2019-10-15 18:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/68915059736069e2ce4a8f838c16c7e87ae78974', 'message': 'Add aggregate-cache-images command and client routines\n\nThis adds the ability to request image precache support for an aggregate\nin support of the matching server feature.\n\nRelated to blueprint image-precache-support\n\nDepends-On: https://review.opendev.org/#/c/687140\nChange-Id: Id354ccfa99e500a598685e6b794c12160ea2a990\n'}, {'number': 3, 'created': '2019-10-16 14:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/81f889f39b3b811676c3a6f9cbccd8815017112d', 'message': 'Add aggregate-cache-images command and client routines\n\nThis adds the ability to request image precache support for an aggregate\nin support of the matching server feature.\n\nRelated to blueprint image-precache-support\n\nDepends-On: https://review.opendev.org/#/c/687140\nChange-Id: Id354ccfa99e500a598685e6b794c12160ea2a990\n'}, {'number': 4, 'created': '2019-10-16 14:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/18b3f9e5e770fda2824be23b30b9cce68a507bb8', 'message': 'Add aggregate-cache-images command and client routines\n\nThis adds the ability to request image precache support for an aggregate\nin support of the matching server feature.\n\nRelated to blueprint image-precache-support\n\nDepends-On: https://review.opendev.org/#/c/687140\nChange-Id: Id354ccfa99e500a598685e6b794c12160ea2a990\n'}, {'number': 5, 'created': '2019-10-16 16:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/3124945e20e3e8b34000623674abfb4e929a8158', 'message': 'Add aggregate-cache-images command and client routines\n\nThis adds the ability to request image precache support for an aggregate\nin support of the matching server feature.\n\nRelated to blueprint image-precache-support\n\nDepends-On: https://review.opendev.org/#/c/687140\nChange-Id: Id354ccfa99e500a598685e6b794c12160ea2a990\n'}, {'number': 6, 'created': '2019-10-16 18:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/07190f91e1f0f4d0701ecfda4de5f104cc322e4c', 'message': 'Add aggregate-cache-images command and client routines\n\nThis adds the ability to request image precache support for an aggregate\nin support of the matching server feature.\n\nRelated to blueprint image-precache-support\n\nDepends-On: https://review.opendev.org/#/c/687140\nChange-Id: Id354ccfa99e500a598685e6b794c12160ea2a990\n'}, {'number': 7, 'created': '2019-10-18 16:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/cffb1b56519700c28596f78584b8528839ddde05', 'message': 'Add aggregate-cache-images command and client routines\n\nThis adds the ability to request image precache support for an aggregate\nin support of the matching server feature.\n\nRelated to blueprint image-precache-support\n\nDepends-On: https://review.opendev.org/#/c/687140\nChange-Id: Id354ccfa99e500a598685e6b794c12160ea2a990\n'}, {'number': 8, 'created': '2019-10-18 17:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/34174dc63fdecf7d9535c3aaf92f7602d0d07543', 'message': 'Add aggregate-cache-images command and client routines\n\nThis adds the ability to request image precache support for an aggregate\nin support of the matching server feature.\n\nRelated to blueprint image-precache-support\n\nDepends-On: https://review.opendev.org/#/c/687140\nChange-Id: Id354ccfa99e500a598685e6b794c12160ea2a990\n'}, {'number': 9, 'created': '2019-10-18 17:50:05.000000000', 'files': ['novaclient/tests/unit/v2/test_aggregates.py', 'novaclient/tests/unit/v2/fakes.py', 'novaclient/v2/shell.py', 'novaclient/__init__.py', 'novaclient/v2/aggregates.py', 'releasenotes/notes/microversion-v2_81-3ddd8e2fc7e45030.yaml', 'novaclient/tests/unit/fixture_data/aggregates.py', 'doc/source/cli/nova.rst', 'novaclient/tests/unit/v2/test_shell.py'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/71c29a184b388b38d81dc609b9883c5e8f7166cf', 'message': 'Add aggregate-cache-images command and client routines\n\nThis adds the ability to request image precache support for an aggregate\nin support of the matching server feature.\n\nRelated to blueprint image-precache-support\n\nDepends-On: https://review.opendev.org/#/c/687140\nChange-Id: Id354ccfa99e500a598685e6b794c12160ea2a990\n'}]",36,687141,71c29a184b388b38d81dc609b9883c5e8f7166cf,48,8,9,4393,,,0,"Add aggregate-cache-images command and client routines

This adds the ability to request image precache support for an aggregate
in support of the matching server feature.

Related to blueprint image-precache-support

Depends-On: https://review.opendev.org/#/c/687140
Change-Id: Id354ccfa99e500a598685e6b794c12160ea2a990
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/41/687141/4 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/tests/unit/v2/test_aggregates.py', 'novaclient/v2/shell.py', 'novaclient/v2/aggregates.py']",3,53b9dddb956f17aed982e1511b67330a79a3ce2c,bp/image-precache-support," def cache_images(self, images): return self.manager.cache_images(self, images) def cache_images(self, aggregate, images): """""" Request images be cached on a given aggregate. :param aggregate: The aggregate to target :param images: A list of image IDs to request caching """""" body = { 'cache': [{'id': image.id} for image in images], } r = self._create(""/os-aggregates/%s/images"" % base.getid(aggregate), body, ""aggregate"") return r",,46,0
openstack%2Fkolla-ansible~master~Ic1118760d9192cc15e1ebf37fb8adf3440f18a78,openstack/kolla-ansible,master,Ic1118760d9192cc15e1ebf37fb8adf3440f18a78,CI: Increase timeout for upgrade jobs by 30 minutes,MERGED,2019-10-16 08:57:32.000000000,2019-10-19 17:44:14.000000000,2019-10-16 13:11:43.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-16 08:57:32.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f69a8a9bf4f86f4ad24515e6fe82ecdc59616271', 'message': 'CI: Increase timeout for upgrade jobs by 30 minutes\n\nUpgrade jobs like to timeout in the 2-hour window when they must\nbuild their images.\nThis increase is already applied in ceph jobs.\n\nChange-Id: Ic1118760d9192cc15e1ebf37fb8adf3440f18a78\n'}]",0,688879,f69a8a9bf4f86f4ad24515e6fe82ecdc59616271,10,5,1,30491,,,0,"CI: Increase timeout for upgrade jobs by 30 minutes

Upgrade jobs like to timeout in the 2-hour window when they must
build their images.
This increase is already applied in ceph jobs.

Change-Id: Ic1118760d9192cc15e1ebf37fb8adf3440f18a78
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/79/688879/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,f69a8a9bf4f86f4ad24515e6fe82ecdc59616271,ci-upgrade-timeouts, timeout: 9000 timeout: 9000,,2,0
openstack%2Fkolla-ansible~master~I17b7f878c742fa8db66f738526855a02ab9f1905,openstack/kolla-ansible,master,I17b7f878c742fa8db66f738526855a02ab9f1905,CI: Increase job run attempts to 5,MERGED,2019-10-16 07:33:49.000000000,2019-10-19 17:41:35.000000000,2019-10-16 12:06:24.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-16 07:33:49.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f3f4a93e3bc80951bfe6deb00abcb11c34ce9830', 'message': 'CI: Increase job run attempts to 5\n\nAttempts affect pre failures.\nThis means we can increase stability of jobs by rejecting nodes\nthat fail pre without failing runs at the same time (unless we\nare really unlucky and hit b0rken nodes 5 times in a row).\n\nChange-Id: I17b7f878c742fa8db66f738526855a02ab9f1905\n'}]",0,688866,f3f4a93e3bc80951bfe6deb00abcb11c34ce9830,10,5,1,30491,,,0,"CI: Increase job run attempts to 5

Attempts affect pre failures.
This means we can increase stability of jobs by rejecting nodes
that fail pre without failing runs at the same time (unless we
are really unlucky and hit b0rken nodes 5 times in a row).

Change-Id: I17b7f878c742fa8db66f738526855a02ab9f1905
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/66/688866/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,f3f4a93e3bc80951bfe6deb00abcb11c34ce9830,ci-attempts, attempts: 5, attempts: 1,1,1
openstack%2Frequirements~master~Icb363802cc553e8335a51fabde12dfd51acb0e44,openstack/requirements,master,Icb363802cc553e8335a51fabde12dfd51acb0e44,Updated from generate-constraints,MERGED,2019-10-19 06:17:25.000000000,2019-10-19 17:31:46.000000000,2019-10-19 17:30:39.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-19 06:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0ee37d761f3eb67fd5860b6819e182dc0ef53f98', 'message': 'Updated from generate-constraints\n\nChange-Id: Icb363802cc553e8335a51fabde12dfd51acb0e44\n'}, {'number': 2, 'created': '2019-10-19 06:25:10.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/94e035e36eea0a3ad813596f9d0cc21da5493613', 'message': 'Updated from generate-constraints\n\nChange-Id: Icb363802cc553e8335a51fabde12dfd51acb0e44\n'}]",0,689616,94e035e36eea0a3ad813596f9d0cc21da5493613,9,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: Icb363802cc553e8335a51fabde12dfd51acb0e44
",git fetch https://review.opendev.org/openstack/requirements refs/changes/16/689616/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0ee37d761f3eb67fd5860b6819e182dc0ef53f98,openstack/requirements/constraints/noclob,ipaddress===1.0.23;python_version=='2.7'networkx===2.4;python_version=='3.4' networkx===2.4;python_version=='3.5' networkx===2.4;python_version=='3.6' networkx===2.4;python_version=='3.7'tripleo-common===11.3.0mypy-extensions===0.4.3;python_version=='3.4' mypy-extensions===0.4.3;python_version=='3.5' mypy-extensions===0.4.3;python_version=='3.6' mypy-extensions===0.4.3;python_version=='3.7'cryptography===2.8amqp===2.5.2boto3===1.9.253numpy===1.17.3;python_version=='3.4' numpy===1.17.3;python_version=='3.5' numpy===1.17.3;python_version=='3.6' numpy===1.17.3;python_version=='3.7'salt===2019.2.1botocore===1.12.253future===0.18.1,ipaddress===1.0.22;python_version=='2.7'networkx===2.3;python_version=='3.4' networkx===2.3;python_version=='3.5' networkx===2.3;python_version=='3.6' networkx===2.3;python_version=='3.7'tripleo-common===11.2.0mypy-extensions===0.4.2;python_version=='3.4' mypy-extensions===0.4.2;python_version=='3.5' mypy-extensions===0.4.2;python_version=='3.6' mypy-extensions===0.4.2;python_version=='3.7'asn1crypto===1.2.0cryptography===2.7amqp===2.5.1boto3===1.9.251numpy===1.17.2;python_version=='3.4' numpy===1.17.2;python_version=='3.5' numpy===1.17.2;python_version=='3.6' numpy===1.17.2;python_version=='3.7'salt===2019.2.0botocore===1.12.251future===0.18.0,20,21
openstack%2Fironic~stable%2Ftrain~I8b0f69d13420fa0a3fc21f044ed2bba6a540e638,openstack/ironic,stable/train,I8b0f69d13420fa0a3fc21f044ed2bba6a540e638,Fix drive sensors collection in `redfish` mgmt interface,MERGED,2019-10-17 21:37:00.000000000,2019-10-19 15:05:01.000000000,2019-10-18 08:09:27.000000000,"[{'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-10-17 21:37:00.000000000', 'files': ['ironic/drivers/modules/redfish/management.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py', 'releasenotes/notes/fix-sensors-storage-ed5d5bbda9b46645.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ba32a5f4bfbd4b7e3ff1ee652b973f6469b57c79', 'message': 'Fix drive sensors collection in `redfish` mgmt interface\n\nFixes drive sensors information collection in `redfish` management\ninterface. Prior to this fix, wrong Redfish schema has been used for\nDrive resource what has been causing exception and ultimately sensor\ndata collection failure.\n\nChange-Id: I8b0f69d13420fa0a3fc21f044ed2bba6a540e638\n(cherry picked from commit a2ae57c457962e6fa5e590c0de19f4d457637881)\n'}]",0,689275,ba32a5f4bfbd4b7e3ff1ee652b973f6469b57c79,9,5,1,11655,,,0,"Fix drive sensors collection in `redfish` mgmt interface

Fixes drive sensors information collection in `redfish` management
interface. Prior to this fix, wrong Redfish schema has been used for
Drive resource what has been causing exception and ultimately sensor
data collection failure.

Change-Id: I8b0f69d13420fa0a3fc21f044ed2bba6a540e638
(cherry picked from commit a2ae57c457962e6fa5e590c0de19f4d457637881)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/75/689275/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/management.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py', 'releasenotes/notes/fix-sensors-storage-ed5d5bbda9b46645.yaml']",3,ba32a5f4bfbd4b7e3ff1ee652b973f6469b57c79,03-fix-sensors-drive-stable/train,"--- fixes: - | Fixes drive sensors information collection in ``redfish`` management interface. Prior to this fix, wrong Redfish schema has been used for Drive resource what has been causing exception and ultimately sensor data collection failure. ",,14,10
openstack%2Fcinder~stable%2Ftrain~Id2dd8d4f0dd19116c0fc55433d23af6f17f8fa4b,openstack/cinder,stable/train,Id2dd8d4f0dd19116c0fc55433d23af6f17f8fa4b,Switch to opensuse-15 nodeset,MERGED,2019-10-18 17:25:08.000000000,2019-10-19 14:50:12.000000000,2019-10-19 14:48:20.000000000,"[{'_account_id': 4523}, {'_account_id': 6547}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30590}]","[{'number': 1, 'created': '2019-10-18 17:25:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4d4abd0eeb1958756af5cc67f0408f06b4278f2e', 'message': 'Switch to opensuse-15 nodeset\n\nopensuse-150 nodeset is referring to openSUSE 15.0, which is still in\nmaintenance but openSUSE 15.1 has been released already. ""opensuse-15""\nis going to refer to the ""latest openSUSE 15.x"" build released and\nworking for OpenStack going forward, so add this nodeset and use\nit by default going forward.\n\nThe new job tempest-full-py3-opensuse15 use the opensuse-15 nodeset,\nchange tempest-full-py3-opensuse150 to tempest-full-py3-opensuse15.\n\nChange-Id: Id2dd8d4f0dd19116c0fc55433d23af6f17f8fa4b\n(cherry picked from commit a45dc60c40578645bc41739d6a6c17f8b5175bba)\n'}]",0,689552,4d4abd0eeb1958756af5cc67f0408f06b4278f2e,32,16,1,6547,,,0,"Switch to opensuse-15 nodeset

opensuse-150 nodeset is referring to openSUSE 15.0, which is still in
maintenance but openSUSE 15.1 has been released already. ""opensuse-15""
is going to refer to the ""latest openSUSE 15.x"" build released and
working for OpenStack going forward, so add this nodeset and use
it by default going forward.

The new job tempest-full-py3-opensuse15 use the opensuse-15 nodeset,
change tempest-full-py3-opensuse150 to tempest-full-py3-opensuse15.

Change-Id: Id2dd8d4f0dd19116c0fc55433d23af6f17f8fa4b
(cherry picked from commit a45dc60c40578645bc41739d6a6c17f8b5175bba)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/52/689552/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4d4abd0eeb1958756af5cc67f0408f06b4278f2e,opensuse-150, - tempest-full-py3-opensuse15:, - tempest-full-py3-opensuse150:,1,1
openstack%2Fdevstack~master~Ie7036d37d79e6aba462b7c97f917e2e7aed108f9,openstack/devstack,master,Ie7036d37d79e6aba462b7c97f917e2e7aed108f9,"Revert ""Remove deprecated PostgreSQL database driver""",MERGED,2019-10-17 19:34:05.000000000,2019-10-19 14:16:57.000000000,2019-10-18 11:20:23.000000000,"[{'_account_id': 4146}, {'_account_id': 5196}, {'_account_id': 7118}, {'_account_id': 8482}, {'_account_id': 8556}, {'_account_id': 11564}, {'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-10-17 19:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4d01ef6ccdf93095b8e1d7291ae13b71e8b68046', 'message': 'Revert ""Remove deprecated PostgreSQL database driver""\n\nThis reverts commit 168ca7f0a474f1207ee01dab0ca2e70f34783e9c.\n\nRemoving postgresql support from devstack was unnecessary\nsince it\'s not broken and not causing maintenance issues\nas far as I know. The commit being reverted said that pg\nsupport was deprecated in Pike but nothing in the docs or\ncommit message refer to official deprecation of postgres\nsupport in devstack or openstack in general. Not to mention\nthat there are still postgres-based jobs that will no\nlonger work *and* the notification to the mailing list about\ndoing this happened *after* it was already done [1] leaving\nstakeholders with no time to reply.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010196.html\n\nChange-Id: Ie7036d37d79e6aba462b7c97f917e2e7aed108f9\n'}, {'number': 2, 'created': '2019-10-17 19:58:50.000000000', 'files': ['functions', 'doc/source/configuration.rst', 'lib/databases/postgresql', 'unstack.sh', 'doc/source/zuul_ci_jobs_migration.rst', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/b14665f0dde0d0862d8755a796b9f680e42f790b', 'message': 'Revert ""Remove deprecated PostgreSQL database driver""\n\nThis reverts commit 168ca7f0a474f1207ee01dab0ca2e70f34783e9c.\n\nRemoving postgresql support from devstack was unnecessary\nsince it\'s not broken and not causing maintenance issues\nas far as I know. The commit being reverted said that pg\nsupport was deprecated in Pike but nothing in the docs or\ncommit message refer to official deprecation of postgres\nsupport in devstack or openstack in general. Not to mention\nthat there are still postgres-based jobs that will no\nlonger work *and* the notification to the mailing list about\ndoing this happened *after* it was already done [1] leaving\nstakeholders with no time to reply.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010196.html\n\nChange-Id: Ie7036d37d79e6aba462b7c97f917e2e7aed108f9\n'}]",0,689250,b14665f0dde0d0862d8755a796b9f680e42f790b,18,12,2,6873,,,0,"Revert ""Remove deprecated PostgreSQL database driver""

This reverts commit 168ca7f0a474f1207ee01dab0ca2e70f34783e9c.

Removing postgresql support from devstack was unnecessary
since it's not broken and not causing maintenance issues
as far as I know. The commit being reverted said that pg
support was deprecated in Pike but nothing in the docs or
commit message refer to official deprecation of postgres
support in devstack or openstack in general. Not to mention
that there are still postgres-based jobs that will no
longer work *and* the notification to the mailing list about
doing this happened *after* it was already done [1] leaving
stakeholders with no time to reply.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-October/010196.html

Change-Id: Ie7036d37d79e6aba462b7c97f917e2e7aed108f9
",git fetch https://review.opendev.org/openstack/devstack refs/changes/50/689250/1 && git format-patch -1 --stdout FETCH_HEAD,"['functions', 'doc/source/configuration.rst', 'lib/databases/postgresql', 'unstack.sh', 'doc/source/zuul_ci_jobs_migration.rst', 'stack.sh']",6,4d01ef6ccdf93095b8e1d7291ae13b71e8b68046,move-db-deps-to-extras,"# To select between database backends, add the following to ``local.conf``:# enable_service postgresql # # The available database backends are listed in ``DATABASE_BACKENDS`` after # ``lib/database`` is sourced. ``mysql`` is the default. ","# DevStack provides a MySQL database backend. Additional backends may be # provided by external plugins and can be enabled using the usual service # functions and ``ENABLED_SERVICES``. For example, to disable MySQL:",166,14
openstack%2Fironic-python-agent~stable%2Ftrain~Ibc3656e32b94004da7e895a27860c1fa3ac0bbb1,openstack/ironic-python-agent,stable/train,Ibc3656e32b94004da7e895a27860c1fa3ac0bbb1,Correct string formatting in logging,MERGED,2019-10-18 09:52:35.000000000,2019-10-19 13:54:36.000000000,2019-10-19 13:53:29.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-10-18 09:52:35.000000000', 'files': ['ironic_python_agent/agent.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/19b0b59e020d15b0df1b8796610b77ab3ef8cb18', 'message': 'Correct string formatting in logging\n\nChange-Id: Ibc3656e32b94004da7e895a27860c1fa3ac0bbb1\n(cherry picked from commit d61887e744a59776e417af6213b949733c3da363)\n'}]",0,689386,19b0b59e020d15b0df1b8796610b77ab3ef8cb18,18,4,1,10239,,,0,"Correct string formatting in logging

Change-Id: Ibc3656e32b94004da7e895a27860c1fa3ac0bbb1
(cherry picked from commit d61887e744a59776e417af6213b949733c3da363)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/86/689386/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/agent.py'],1,19b0b59e020d15b0df1b8796610b77ab3ef8cb18,logging-stable/train," LOG.error('Failed to perform inspection: %s', e) "," LOG.error('Failed to perform inspection: %(err)s', {'error': e})",2,2
openstack%2Fcharm-neutron-dynamic-routing~master~I37c1817d9b5198dfdeee1e7b14e40aec28362385,openstack/charm-neutron-dynamic-routing,master,I37c1817d9b5198dfdeee1e7b14e40aec28362385,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:08:53.000000000,2019-10-19 13:09:50.000000000,2019-10-19 13:09:50.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:08:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/b05b66a67ac36370c0f0444a14ba75362f86ed03', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I37c1817d9b5198dfdeee1e7b14e40aec28362385\n'}, {'number': 2, 'created': '2019-10-01 01:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/5ecc9d98bd891b0e36bd5e6ef6394ef0a929d44c', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I37c1817d9b5198dfdeee1e7b14e40aec28362385\n'}, {'number': 3, 'created': '2019-10-01 02:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/6b3d9605715a32ff347dff33e35641822a2f5fda', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I37c1817d9b5198dfdeee1e7b14e40aec28362385\n'}, {'number': 4, 'created': '2019-10-16 22:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/8d223d2f6de837ac07138b3a41f19f0ea5e5fea8', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/100\nChange-Id: I37c1817d9b5198dfdeee1e7b14e40aec28362385\n'}, {'number': 5, 'created': '2019-10-18 20:32:09.000000000', 'files': ['src/files/.gitkeep', 'requirements.txt', 'test-requirements.txt', 'src/tox.ini', '.zuul.yaml', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/262b5e0752a7062ae62f5c30e94748dd27f93ab0', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I37c1817d9b5198dfdeee1e7b14e40aec28362385\n'}]",0,685839,262b5e0752a7062ae62f5c30e94748dd27f93ab0,47,5,5,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I37c1817d9b5198dfdeee1e7b14e40aec28362385
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/39/685839/5 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'src/files/.gitkeep', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini']",6,b05b66a67ac36370c0f0444a14ba75362f86ed03,batch-update,"# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools envlist = pep8,py3 # NOTE: Avoid build/test env pollution by not enabling sitepackages. sitepackages = False # NOTE: Avoid false positives by not skipping missing interpreters. skip_missing_interpreters = Falsepassenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORYbasepython = python3commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}[testenv:cover] # Technique based heavily upon # https://github.com/openstack/nova/blob/master/tox.ini basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt setenv = {[testenv]setenv} PYTHON=coverage run commands = coverage erase stestr run --slowest {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml coverage report [coverage:run] branch = True concurrency = multiprocessing parallel = True source = . omit = .tox/* */charmhelpers/* unit_tests/* ignore = E402,W504","# within individual charm repos.envlist = pep8,py37 skip_missing_interpreters = Truepassenv = http_proxy https_proxybasepython = python2.7[testenv:py27] basepython = python2.7 deps = # Reactive source charms are Python3-only, but a py27 unit test target # is required by OpenStack Governance. Remove this shim as soon as # permitted. http://governance.openstack.org/reference/cti/python_cti.html whitelist_externals = true commands = true commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs}ignore = E402",83,34
openstack%2Fpuppet-openstack-integration~master~I78bedde30abe8945e55c55847a005be31abf01ef,openstack/puppet-openstack-integration,master,I78bedde30abe8945e55c55847a005be31abf01ef,Disable Sahara integration testing for Ubuntu,MERGED,2019-10-17 14:46:20.000000000,2019-10-19 12:19:53.000000000,2019-10-18 16:49:01.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-17 14:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/142eb5d6b2d721cb89c44a25e55165408029bdca', 'message': 'Disable Sahara integration testing for Ubuntu\n\nChange-Id: I78bedde30abe8945e55c55847a005be31abf01ef\n'}, {'number': 2, 'created': '2019-10-17 14:46:31.000000000', 'files': ['fixtures/scenario003.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/92ea7e7f1aa6c50c9ad06c69b7126f977e9bebe0', 'message': 'Disable Sahara integration testing for Ubuntu\n\nChange-Id: I78bedde30abe8945e55c55847a005be31abf01ef\n'}]",0,689189,92ea7e7f1aa6c50c9ad06c69b7126f977e9bebe0,13,4,2,16137,,,0,"Disable Sahara integration testing for Ubuntu

Change-Id: I78bedde30abe8945e55c55847a005be31abf01ef
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/89/689189/2 && git format-patch -1 --stdout FETCH_HEAD,['fixtures/scenario003.pp'],1,142eb5d6b2d721cb89c44a25e55165408029bdca,," # TODO(tobias-urdin): Ubuntu Train packages has not moved out Sahara # plugins to its own packages. if $::operatingsystem == 'Ubuntu' { $sahara_integration_enable = false } else { $sahara_integration_enable = true } $ipv6 = true $mistral_enabled = true $murano_enabled = false $trove_enabled = true $sahara_integration_enable = trueclass { '::openstack_integration::sahara': integration_enable => $sahara_integration_enable, } sahara => $sahara_integration_enable,"," $ipv6 = true $mistral_enabled = true $murano_enabled = false $trove_enabled = trueinclude ::openstack_integration::sahara sahara => true,",17,6
openstack%2Fneutron-lib~master~I76ab222da64589528defe434589b92a033ef8cdf,openstack/neutron-lib,master,I76ab222da64589528defe434589b92a033ef8cdf,install neutron_lib international messages,MERGED,2019-10-10 11:22:34.000000000,2019-10-19 11:27:23.000000000,2019-10-19 10:36:44.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 27079}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-10-10 11:22:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/89ce2523f814da4c71ee5ea1444de33a1aeddd8c', 'message': 'install neutron_lib international information dictionary\n\nneutron-lib needs to load internationalized file at initialization,\notherwise, internationalization will not work.\n\nChange-Id: I76ab222da64589528defe434589b92a033ef8cdf\nCloses-Bug: #1847586\n'}, {'number': 2, 'created': '2019-10-11 03:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a91f73614799377478e3f2816964e11d334243f0', 'message': 'install neutron_lib international messages\n\nneutron-lib needs to load internationalized file at initialization,\notherwise, international logging message will not work. refer to [1]\nzh_CN neutron_lib.po has been completed.\n\n[1] https://review.opendev.org/#/c/536011/\n\nChange-Id: I76ab222da64589528defe434589b92a033ef8cdf\nCloses-Bug: #1847586\n'}, {'number': 3, 'created': '2019-10-11 06:49:48.000000000', 'files': ['neutron_lib/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/66cbfc813ac5caa29b35b659e54935917471f00c', 'message': 'install neutron_lib international messages\n\nneutron-lib needs to load internationalized file at initialization,\notherwise, international logging message will not work. refer to [1]\nzh_CN neutron_lib.po has been completed.\n\n[1] https://review.opendev.org/#/c/536011/\n\nChange-Id: I76ab222da64589528defe434589b92a033ef8cdf\nCloses-Bug: #1847586\n'}]",3,687861,66cbfc813ac5caa29b35b659e54935917471f00c,23,7,3,27079,,,0,"install neutron_lib international messages

neutron-lib needs to load internationalized file at initialization,
otherwise, international logging message will not work. refer to [1]
zh_CN neutron_lib.po has been completed.

[1] https://review.opendev.org/#/c/536011/

Change-Id: I76ab222da64589528defe434589b92a033ef8cdf
Closes-Bug: #1847586
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/61/687861/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/exceptions/__init__.py'],1,89ce2523f814da4c71ee5ea1444de33a1aeddd8c,bug/1847586,"import gettext if six.PY2: # pylint: disable=unexpected-keyword-arg gettext.install('neutron_lib', unicode=1) else: gettext.install('neutron_lib') ",,9,0
openstack%2Fcinder~master~If94944b33bed4f766e49fa1b50cd4ab7e8bfffb4,openstack/cinder,master,If94944b33bed4f766e49fa1b50cd4ab7e8bfffb4,Fix 'detach.end' notify with old volume status,NEW,2019-09-06 07:03:01.000000000,2019-10-19 11:13:55.000000000,,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 26693}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-09-06 07:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/91c347fc6c0aa5ca610c23128302f0ebd5d5000b', 'message': ""Fix 'detach.end' notify with old volume status\n\n'attachemnt_delete' update volume status in\nvolume/api.py:attachemnt_delete method.\n\nBut the 'detach.end' notify is still sent in\nvolume/manage.py:attachment_delete so that\nold volume status in 'detach.volume' notification.\n\nMove 'detach.end' notify to volume/api.py:attachment_delete\nfor fixing the issue.\n\nChange-Id: If94944b33bed4f766e49fa1b50cd4ab7e8bfffb4\n""}, {'number': 2, 'created': '2019-09-11 03:33:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d9426589cc71c9a4ed406e1fc2e80056eefb7247', 'message': ""Fix 'detach.end' notify with old volume status\n\n'attachemnt_delete' update volume status in\nvolume/api.py:attachemnt_delete method.\n\nBut the 'detach.end' notify is still sent in\nvolume/manage.py:attachment_delete so that\nold volume status in 'detach.volume' notification.\n\nMove 'detach.end' notify to volume/api.py:attachment_delete\nfor fixing the issue.\n\nChange-Id: If94944b33bed4f766e49fa1b50cd4ab7e8bfffb4\n""}, {'number': 3, 'created': '2019-10-09 02:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8d6ddf225a11873a677c308b71434b2b3b1d4c50', 'message': ""Fix 'detach.end' notify with old volume status\n\n'attachemnt_delete' update volume status in\nvolume/api.py:attachemnt_delete method.\n\nBut the 'detach.end' notify is still sent in\nvolume/manage.py:attachment_delete so that\nold volume status in 'detach.volume' notification.\n\nMove 'detach.end' notify to volume/api.py:attachment_delete\nfor fixing the issue.\n\nChange-Id: If94944b33bed4f766e49fa1b50cd4ab7e8bfffb4\n""}, {'number': 4, 'created': '2019-10-15 14:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6c67fbf3f184bbe7234a1ec46abbb6574f95d68e', 'message': ""Fix 'detach.end' notify with old volume status\n\n'attachment_delete' update volume status in\nvolume/api.py:attachment_delete method.\n\nBut the 'detach.end' notify is still sent in\nvolume/manage.py:attachment_delete so that\nold volume status in 'detach.volume' notification.\n\nMove 'detach.end' notify to volume/api.py:attachment_delete\nfor fixing the issue.\n\nChange-Id: If94944b33bed4f766e49fa1b50cd4ab7e8bfffb4\n""}, {'number': 5, 'created': '2019-10-17 02:59:18.000000000', 'files': ['cinder/volume/manager.py', 'cinder/tests/unit/api/v3/test_attachments.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/05aff9fa27cad20f51ff6281cd90e1937fe39c2a', 'message': ""Fix 'detach.end' notify with old volume status\n\n'attachment_delete' update volume status in\nvolume/api.py:attachment_delete method.\n\nBut the 'detach.end' notify is still sent in\nvolume/manage.py:attachment_delete so that\nold volume status in 'detach.volume' notification.\n\nMove 'detach.end' notify to volume/api.py:attachment_delete\nfor fixing the issue.\n\nChange-Id: If94944b33bed4f766e49fa1b50cd4ab7e8bfffb4\n""}]",4,680588,05aff9fa27cad20f51ff6281cd90e1937fe39c2a,165,39,5,8037,,,0,"Fix 'detach.end' notify with old volume status

'attachment_delete' update volume status in
volume/api.py:attachment_delete method.

But the 'detach.end' notify is still sent in
volume/manage.py:attachment_delete so that
old volume status in 'detach.volume' notification.

Move 'detach.end' notify to volume/api.py:attachment_delete
for fixing the issue.

Change-Id: If94944b33bed4f766e49fa1b50cd4ab7e8bfffb4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/88/680588/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/tests/unit/api/v3/test_attachments.py', 'cinder/volume/api.py']",3,91c347fc6c0aa5ca610c23128302f0ebd5d5000b,fix_detach_end," volume_utils.notify_about_volume_usage(ctxt, volume, ""detach.end"")",,15,2
openstack%2Fmagnum~master~I0e26682b0b6093b215393eb4ce8e94eae8e5e8f7,openstack/magnum,master,I0e26682b0b6093b215393eb4ce8e94eae8e5e8f7,bug: Cluster should be creatable w/o fixed subnet,MERGED,2019-10-16 13:35:09.000000000,2019-10-19 10:24:58.000000000,2019-10-19 08:25:20.000000000,"[{'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 27057}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-16 13:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/6aa0817156e7f1106c504fc431716ed32d550cc3', 'message': 'Ensure cluster creation proceeds when fixed subnet is not defined\n\nChange-Id: I0e26682b0b6093b215393eb4ce8e94eae8e5e8f7\n'}, {'number': 2, 'created': '2019-10-16 13:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/33df9f3f2ee3b368704489af1383618dd67a7337', 'message': 'Ensure cluster can be created when fixed subnet is undefined\n\nChange-Id: I0e26682b0b6093b215393eb4ce8e94eae8e5e8f7\n'}, {'number': 3, 'created': '2019-10-16 16:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/51cf7eed44b0b731ba0f4c9bcef1927d36e27c08', 'message': 'Ensure cluster can be created when fixed subnet is undefined\n\nChange-Id: I0e26682b0b6093b215393eb4ce8e94eae8e5e8f7\n'}, {'number': 4, 'created': '2019-10-16 16:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ffdc0213379303f7054a659e99c4fde53ce6643b', 'message': 'Ensure cluster can be created without fixed subnet\n\nChange-Id: I0e26682b0b6093b215393eb4ce8e94eae8e5e8f7\n'}, {'number': 5, 'created': '2019-10-17 09:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/1709d85849f21571496f8b60702806368736aa2e', 'message': 'bug: Cluster should be creatable w/o fixed subnet\n\nStory: 2002652\nTask: 37201\n\nChange-Id: I0e26682b0b6093b215393eb4ce8e94eae8e5e8f7\n'}, {'number': 6, 'created': '2019-10-17 10:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/4d8b7d70f2ba8a06ed139ee901914c50ce59d623', 'message': 'bug: Cluster should be creatable w/o fixed subnet\n\nStory: 2002652\nTask: 37201\n\nChange-Id: I0e26682b0b6093b215393eb4ce8e94eae8e5e8f7\n'}, {'number': 7, 'created': '2019-10-17 10:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/e9cd579f41cbdffb97646456129cc4e3905b2eed', 'message': 'bug: Cluster should be creatable w/o fixed subnet\n\nStory: 2002652\nTask: 37201\n\nChange-Id: I0e26682b0b6093b215393eb4ce8e94eae8e5e8f7\n'}, {'number': 8, 'created': '2019-10-17 13:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/2afd1638b9f39daa57e44f6c9687d587675f339e', 'message': 'bug: Cluster should be creatable w/o fixed subnet\n\nStory: 2002652\nTask: 37201\n\nChange-Id: I0e26682b0b6093b215393eb4ce8e94eae8e5e8f7\n'}, {'number': 9, 'created': '2019-10-17 22:33:38.000000000', 'files': ['magnum/drivers/heat/k8s_template_def.py', 'magnum/common/neutron.py', 'magnum/tests/unit/drivers/test_template_definition.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/756a85b70cc7fa1b539ec14ab7d1f0e4294264f8', 'message': 'bug: Cluster should be creatable w/o fixed subnet\n\nWithout this patch, it is impossible to create a cluster without\ndefining a fixed_network or a fixed_subnet that already exists since we\nget a Fixed{Network,Subnet}NotFound error, and Heat is unable to create\nthese for us.\n\nStory: 2002652\nTask: 37201\n\nChange-Id: I0e26682b0b6093b215393eb4ce8e94eae8e5e8f7\nSigned-off-by: Bharat Kunwar <brtknr@bath.edu>\n'}]",6,688928,756a85b70cc7fa1b539ec14ab7d1f0e4294264f8,32,5,9,28022,,,0,"bug: Cluster should be creatable w/o fixed subnet

Without this patch, it is impossible to create a cluster without
defining a fixed_network or a fixed_subnet that already exists since we
get a Fixed{Network,Subnet}NotFound error, and Heat is unable to create
these for us.

Story: 2002652
Task: 37201

Change-Id: I0e26682b0b6093b215393eb4ce8e94eae8e5e8f7
Signed-off-by: Bharat Kunwar <brtknr@bath.edu>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/28/688928/8 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/heat/k8s_template_def.py'],1,6aa0817156e7f1106c504fc431716ed32d550cc3,fixed-subnet-uuid," cluster_template.fixed_network) if fixed_network: extra_params['fixed_network_name'] = \ neutron.get_fixed_network_name(context, fixed_network) else: fixed_network = ""private"" cluster_template.fixed_subnet) if fixed_subnet: extra_params['fixed_subnet'] = \ neutron.get_fixed_subnet_id(context, fixed_subnet) else: fixed_subnet = ""private"""," cluster_template.fixed_network or ""private"") extra_params['fixed_network_name'] = \ neutron.get_fixed_network_name(context, fixed_network) cluster_template.fixed_subnet or ""private"") extra_params['fixed_subnet'] = \ neutron.get_fixed_subnet_id(context, fixed_subnet)",12,8
openstack%2Fironic~master~Ia4d6ef705b0183c35c29ec53cef213aa5185651b,openstack/ironic,master,Ia4d6ef705b0183c35c29ec53cef213aa5185651b,Minor string formatting follow-up to idrac jbod patch,MERGED,2019-10-17 20:46:18.000000000,2019-10-19 10:04:11.000000000,2019-10-18 12:35:28.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-10-17 20:46:18.000000000', 'files': ['ironic/drivers/modules/drac/job.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/43dd29d81623da1b89ca489e1024d70cc2837dd9', 'message': 'Minor string formatting follow-up to idrac jbod patch\n\nChange-Id: Ia4d6ef705b0183c35c29ec53cef213aa5185651b\n'}]",0,689261,43dd29d81623da1b89ca489e1024d70cc2837dd9,14,6,1,11655,,,0,"Minor string formatting follow-up to idrac jbod patch

Change-Id: Ia4d6ef705b0183c35c29ec53cef213aa5185651b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/61/689261/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/drac/job.py'],1,43dd29d81623da1b89ca489e1024d70cc2837dd9,drives_conversion_2, 'queue on node %(node_uuid)s.') % {'node_uuid': node.uuid}, 'queue on node %(node_uuid)r ') % {'node_uuid': node.uuid},1,1
openstack%2Fopenstack-ansible-os_mistral~master~Ieb6f66fa2f18536a6d3ebefdcac32a7ba5e37879,openstack/openstack-ansible-os_mistral,master,Ieb6f66fa2f18536a6d3ebefdcac32a7ba5e37879,Add example playbook,MERGED,2019-10-18 14:24:00.000000000,2019-10-19 09:49:21.000000000,2019-10-19 09:48:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-18 14:24:00.000000000', 'files': ['examples/playbook.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_mistral/commit/f78a3f3483c269ad74b440580acb1838140a846f', 'message': 'Add example playbook\n\nChange-Id: Ieb6f66fa2f18536a6d3ebefdcac32a7ba5e37879\n'}]",0,689478,f78a3f3483c269ad74b440580acb1838140a846f,13,4,1,28619,,,0,"Add example playbook

Change-Id: Ieb6f66fa2f18536a6d3ebefdcac32a7ba5e37879
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_mistral refs/changes/78/689478/1 && git format-patch -1 --stdout FETCH_HEAD,['examples/playbook.yml'],1,f78a3f3483c269ad74b440580acb1838140a846f,example-playbook,"--- - name: Install mistral server hosts: mistral_all user: root roles: - { role: ""os_mistral"", tags: [ ""os-mistral"" ] } ",,6,0
openstack%2Fopenstack-ansible-os_congress~master~I9d2a55fb50c7786cb3a5df7a2840b8b2bc53ac75,openstack/openstack-ansible-os_congress,master,I9d2a55fb50c7786cb3a5df7a2840b8b2bc53ac75,PDF Documentation Build tox target,MERGED,2019-10-18 13:02:51.000000000,2019-10-19 09:28:30.000000000,2019-10-19 09:26:27.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-18 13:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/9507012f3616a7d8fbbe1d0ecda2bf7f425c4ee4', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I9d2a55fb50c7786cb3a5df7a2840b8b2bc53ac75\nStory: 2006105\n'}, {'number': 2, 'created': '2019-10-18 13:36:06.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/6ff69c6f5632f00258e06f137b3cd83c1e31ac47', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I9d2a55fb50c7786cb3a5df7a2840b8b2bc53ac75\nStory: 2006105\n'}]",0,689445,6ff69c6f5632f00258e06f137b3cd83c1e31ac47,10,3,2,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: I9d2a55fb50c7786cb3a5df7a2840b8b2bc53ac75
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_congress refs/changes/45/689445/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,9507012f3616a7d8fbbe1d0ecda2bf7f425c4ee4,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,28,6
openstack%2Fopenstack-ansible-os_blazar~master~Ic5d3234ca20699222eb7c866e269fec9690a4f49,openstack/openstack-ansible-os_blazar,master,Ic5d3234ca20699222eb7c866e269fec9690a4f49,PDF Documentation Build tox target,MERGED,2019-10-18 11:19:53.000000000,2019-10-19 09:27:27.000000000,2019-10-19 09:25:43.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-18 11:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/e20d3f03d22e8688230cb197eb1954b6cb7dfe6d', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: Ic5d3234ca20699222eb7c866e269fec9690a4f49\nStory: 2006105\n'}, {'number': 2, 'created': '2019-10-18 12:56:37.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/23ed64b6fce0af1ba9e6290a1fdd8544ea98e089', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: Ic5d3234ca20699222eb7c866e269fec9690a4f49\nStory: 2006105\n'}]",0,689428,23ed64b6fce0af1ba9e6290a1fdd8544ea98e089,10,3,2,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: Ic5d3234ca20699222eb7c866e269fec9690a4f49
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/28/689428/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,e20d3f03d22e8688230cb197eb1954b6cb7dfe6d,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,28,6
openstack%2Fopenstack-ansible-os_congress~master~I5aeda1bfe73c3e69e6f917eb76cb634999eae901,openstack/openstack-ansible-os_congress,master,I5aeda1bfe73c3e69e6f917eb76cb634999eae901,Add example playbook,MERGED,2019-10-18 13:35:28.000000000,2019-10-19 09:27:26.000000000,2019-10-19 09:26:26.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-18 13:35:28.000000000', 'files': ['examples/playbook.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_congress/commit/e5ec9dc4bba5aff3b4c939a57d2aac466a7f151f', 'message': 'Add example playbook\n\nChange-Id: I5aeda1bfe73c3e69e6f917eb76cb634999eae901\n'}]",0,689455,e5ec9dc4bba5aff3b4c939a57d2aac466a7f151f,11,4,1,28619,,,0,"Add example playbook

Change-Id: I5aeda1bfe73c3e69e6f917eb76cb634999eae901
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_congress refs/changes/55/689455/1 && git format-patch -1 --stdout FETCH_HEAD,['examples/playbook.yml'],1,e5ec9dc4bba5aff3b4c939a57d2aac466a7f151f,example-playbook,"--- - name: Install congress server hosts: congress_all user: root roles: - { role: ""os_congress"", tags: [ ""os-congress"" ] } ",,6,0
openstack%2Fopenstack-ansible-os_blazar~master~I2b0395cda0b8ed0f4a54b80d177215e8bc021141,openstack/openstack-ansible-os_blazar,master,I2b0395cda0b8ed0f4a54b80d177215e8bc021141,Add example playbook,MERGED,2019-10-18 12:55:10.000000000,2019-10-19 09:26:40.000000000,2019-10-19 09:25:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-18 12:55:10.000000000', 'files': ['examples/playbook.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_blazar/commit/e2f6ab2a75e99adc92ecc56acba72cf25f0e41e2', 'message': 'Add example playbook\n\nChange-Id: I2b0395cda0b8ed0f4a54b80d177215e8bc021141\n'}]",0,689444,e2f6ab2a75e99adc92ecc56acba72cf25f0e41e2,11,4,1,28619,,,0,"Add example playbook

Change-Id: I2b0395cda0b8ed0f4a54b80d177215e8bc021141
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_blazar refs/changes/44/689444/1 && git format-patch -1 --stdout FETCH_HEAD,['examples/playbook.yml'],1,e2f6ab2a75e99adc92ecc56acba72cf25f0e41e2,example-playbook,"--- - name: Install blazar server hosts: blazar_all user: root roles: - { role: ""os_blazar"", tags: [ ""os-blazar"" ] } ",,6,0
openstack%2Fmanila~stable%2Fstein~I89de02af7d739bbe70f1d893cc2b6ced0157d120,openstack/manila,stable/stein,I89de02af7d739bbe70f1d893cc2b6ced0157d120,NeutronBindNetworkPlugin: fix multi segment mtu,MERGED,2019-07-11 23:05:11.000000000,2019-10-19 09:22:03.000000000,2019-10-19 09:20:51.000000000,"[{'_account_id': 16643}, {'_account_id': 18816}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 28743}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-07-11 23:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/57a31c47c67e1c31d4e14e2c9a31dd23109bb01c', 'message': 'NeutronBindNetworkPlugin: fix multi segment mtu\n\nNeutron mtu value for network allocation is taken from share network,\nso the share network needs to be updated with the mtu\nbefore the allocation is created.\n\nThis prevents the mtu being empty on the first network allocation in\na share network.\n\nChange-Id: I89de02af7d739bbe70f1d893cc2b6ced0157d120\nCloses-Bug: #1822099\n(cherry picked from commit bc87926e60bca11a1bc91dfaadb8e571a38c0e5f)\n'}, {'number': 2, 'created': '2019-07-25 10:54:52.000000000', 'files': ['manila/tests/network/neutron/test_neutron_plugin.py', 'manila/network/neutron/neutron_network_plugin.py', 'releasenotes/notes/bug-1822099-fix-multisegment-mtu.yaml-ac2e31c084d8bbb6.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/677bb330bf302649a85bb3ae590b61df0a045685', 'message': 'NeutronBindNetworkPlugin: fix multi segment mtu\n\nNeutron mtu value for network allocation is taken from share network,\nso the share network needs to be updated with the mtu\nbefore the allocation is created.\n\nThis prevents the mtu being empty on the first network allocation in\na share network.\n\nChange-Id: I89de02af7d739bbe70f1d893cc2b6ced0157d120\nCloses-Bug: #1822099\n(cherry picked from commit bc87926e60bca11a1bc91dfaadb8e571a38c0e5f)\n'}]",0,670410,677bb330bf302649a85bb3ae590b61df0a045685,32,7,2,16643,,,0,"NeutronBindNetworkPlugin: fix multi segment mtu

Neutron mtu value for network allocation is taken from share network,
so the share network needs to be updated with the mtu
before the allocation is created.

This prevents the mtu being empty on the first network allocation in
a share network.

Change-Id: I89de02af7d739bbe70f1d893cc2b6ced0157d120
Closes-Bug: #1822099
(cherry picked from commit bc87926e60bca11a1bc91dfaadb8e571a38c0e5f)
",git fetch https://review.opendev.org/openstack/manila refs/changes/10/670410/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/network/neutron/test_neutron_plugin.py', 'manila/network/neutron/neutron_network_plugin.py', 'releasenotes/notes/bug-1822099-fix-multisegment-mtu.yaml-ac2e31c084d8bbb6.yaml']",3,57a31c47c67e1c31d4e14e2c9a31dd23109bb01c,bug/1822099-stable/stein,--- fixes: - | Update share networks with MTU before creating network allocations so that the first allocation in a share network is correct. ,,28,4
openstack%2Fopenstack-ansible-os_tacker~master~I8b8d50dbf2329f8f972a0d9d734d788009dbc852,openstack/openstack-ansible-os_tacker,master,I8b8d50dbf2329f8f972a0d9d734d788009dbc852,PDF Documentation Build tox target,MERGED,2019-10-18 15:08:21.000000000,2019-10-19 09:10:33.000000000,2019-10-19 09:08:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-18 15:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/a8f65dbb8503fb65b53c5ff716468b220b121cc9', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I8b8d50dbf2329f8f972a0d9d734d788009dbc852\nStory: 2006105\n'}, {'number': 2, 'created': '2019-10-18 15:31:59.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/fbb709dc96909697ae28b7a4c4bfcfa2beb4f19e', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I8b8d50dbf2329f8f972a0d9d734d788009dbc852\nStory: 2006105\n'}]",0,689514,fbb709dc96909697ae28b7a4c4bfcfa2beb4f19e,10,3,2,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: I8b8d50dbf2329f8f972a0d9d734d788009dbc852
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/14/689514/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,a8f65dbb8503fb65b53c5ff716468b220b121cc9,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,28,6
openstack%2Fopenstack-ansible-os_tacker~master~Idea751c4ae05f805a84ea2ab6d3a3bc61a2b49ed,openstack/openstack-ansible-os_tacker,master,Idea751c4ae05f805a84ea2ab6d3a3bc61a2b49ed,Add example playbook,MERGED,2019-10-18 15:31:39.000000000,2019-10-19 09:09:37.000000000,2019-10-19 09:08:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-18 15:31:39.000000000', 'files': ['examples/playbook.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tacker/commit/175b43a90d85d383e4ead4017c2f83569bf472e6', 'message': 'Add example playbook\n\nChange-Id: Idea751c4ae05f805a84ea2ab6d3a3bc61a2b49ed\n'}]",0,689525,175b43a90d85d383e4ead4017c2f83569bf472e6,9,3,1,28619,,,0,"Add example playbook

Change-Id: Idea751c4ae05f805a84ea2ab6d3a3bc61a2b49ed
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tacker refs/changes/25/689525/1 && git format-patch -1 --stdout FETCH_HEAD,['examples/playbook.yml'],1,175b43a90d85d383e4ead4017c2f83569bf472e6,example-playbook,"--- - name: Install tacker server hosts: tacker_all user: root roles: - { role: ""os_tacker"", tags: [ ""os-tacker"" ] } ",,6,0
openstack%2Fopenstack-ansible-os_barbican~master~Ib69ba147028abcc64f69d31aa5756e5b832d54aa,openstack/openstack-ansible-os_barbican,master,Ib69ba147028abcc64f69d31aa5756e5b832d54aa,PDF Documentation Build tox target,MERGED,2019-10-18 11:16:14.000000000,2019-10-19 07:58:08.000000000,2019-10-19 07:56:59.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-18 11:16:14.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_barbican/commit/1c6095ff02e2c19cc7445ad5fc485e366fcbbaaa', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: Ib69ba147028abcc64f69d31aa5756e5b832d54aa\nStory: 2006105\n'}]",0,689427,1c6095ff02e2c19cc7445ad5fc485e366fcbbaaa,8,3,1,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: Ib69ba147028abcc64f69d31aa5756e5b832d54aa
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_barbican refs/changes/27/689427/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,1c6095ff02e2c19cc7445ad5fc485e366fcbbaaa,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,28,6
openstack%2Fopenstack-zuul-jobs~master~I15d64ac5425c0a7b981f75669cc43debae78bec7,openstack/openstack-zuul-jobs,master,I15d64ac5425c0a7b981f75669cc43debae78bec7,Migrate ldap job to keystone repo,MERGED,2019-10-09 03:06:09.000000000,2019-10-19 07:35:36.000000000,2019-10-19 07:33:36.000000000,"[{'_account_id': 6547}, {'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 03:06:09.000000000', 'files': ['playbooks/legacy/tempest-dsvm-ldap-domain-specific-driver/post.yaml', 'zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/tempest-dsvm-ldap-domain-specific-driver/run.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/18ae9c9f2cc59f1f2ec3a570e5464ae6e2323b05', 'message': 'Migrate ldap job to keystone repo\n\nThe legacy-tempest-dsvm-ldap-domain-specific-driver job is only used by\nkeystone, so remove it from the global jobs config and move it to the\nkeystone repo where it can be Zuulv3ified.\n\nDepends-on: https://review.opendev.org/687436\nChange-Id: I15d64ac5425c0a7b981f75669cc43debae78bec7\n'}]",0,687444,18ae9c9f2cc59f1f2ec3a570e5464ae6e2323b05,11,3,1,8482,,,0,"Migrate ldap job to keystone repo

The legacy-tempest-dsvm-ldap-domain-specific-driver job is only used by
keystone, so remove it from the global jobs config and move it to the
keystone repo where it can be Zuulv3ified.

Depends-on: https://review.opendev.org/687436
Change-Id: I15d64ac5425c0a7b981f75669cc43debae78bec7
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/44/687444/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/tempest-dsvm-ldap-domain-specific-driver/post.yaml', 'zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/tempest-dsvm-ldap-domain-specific-driver/run.yaml']",3,18ae9c9f2cc59f1f2ec3a570e5464ae6e2323b05,ldap-zuulv3,,"- hosts: all name: Autoconverted job legacy-tempest-dsvm-ldap-domain-specific-driver from old job gate-tempest-dsvm-ldap-domain-specific-driver-ubuntu-xenial-nv tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ https://opendev.org \ openstack/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x cat << 'EOF' >>""/tmp/dg-local.conf"" [[local|localrc]] # Enables ldap service and sets its password enable_service ldap KEYSTONE_CLEAR_LDAP=yes LDAP_PASSWORD='nomoresecret' EOF executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PYTHONUNBUFFERED=true export DEVSTACK_GATE_TEMPEST=1 export DEVSTACK_GATE_TEMPEST_FULL=1 export BRANCH_OVERRIDE=default if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",0,84
openstack%2Fpuppet-tripleo~stable%2Fstein~If6b19ad05e0f91425f93a1c123947e92cf2ba949,openstack/puppet-tripleo,stable/stein,If6b19ad05e0f91425f93a1c123947e92cf2ba949,Allow the IHA OCF and fencing resource to be moved to the nova service user,MERGED,2019-10-17 07:53:04.000000000,2019-10-19 05:49:27.000000000,2019-10-18 09:50:23.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2019-10-17 07:53:04.000000000', 'files': ['manifests/profile/base/pacemaker/instance_ha.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4e785257bd77c7f5ef3e091f30c55b76c2fbc7bb', 'message': 'Allow the IHA OCF and fencing resource to be moved to the nova service user\n\nCurrently both nova evacuate and fence compute in the Instance HA\nsetup of tripleo user the keystone admin user in order to query nova,\nevacuate instances, disable/enable the nova-compute service and\ncall the nova force-down API.\n\nWith this patch we introduce the keystone_tenant parameter which is\nneeded when moving to the nova service user as it is different than\nkeystone_admin in that case.\n\nTested as follows:\n1. Deployed a normal unpatched OSP13 with IHA\n2. Run a redeploy with the following addition:\nparameter_defaults:\n  ExtraConfig:\n    tripleo::profile::base::pacemaker::instance_ha::keystone_password: ""%{hiera(\'nova::keystone::authtoken::password\')}""\n    tripleo::profile::base::pacemaker::instance_ha::keystone_admin: \'nova\'\n    tripleo::profile::base::pacemaker::instance_ha::keystone_tenant: \'service\'\n3. Observe the following:\n3.1. Both the fence_compute and nova evacuate resources have updated attributes\n3.2. IHA still works correctly\n\nCloses-Bug: #1848451\n\nChange-Id: If6b19ad05e0f91425f93a1c123947e92cf2ba949\n(cherry picked from commit 066a360ee5d966be027130d85d6ab6296dd0d3e5)\n'}]",0,689094,4e785257bd77c7f5ef3e091f30c55b76c2fbc7bb,12,5,1,20172,,,0,"Allow the IHA OCF and fencing resource to be moved to the nova service user

Currently both nova evacuate and fence compute in the Instance HA
setup of tripleo user the keystone admin user in order to query nova,
evacuate instances, disable/enable the nova-compute service and
call the nova force-down API.

With this patch we introduce the keystone_tenant parameter which is
needed when moving to the nova service user as it is different than
keystone_admin in that case.

Tested as follows:
1. Deployed a normal unpatched OSP13 with IHA
2. Run a redeploy with the following addition:
parameter_defaults:
  ExtraConfig:
    tripleo::profile::base::pacemaker::instance_ha::keystone_password: ""%{hiera('nova::keystone::authtoken::password')}""
    tripleo::profile::base::pacemaker::instance_ha::keystone_admin: 'nova'
    tripleo::profile::base::pacemaker::instance_ha::keystone_tenant: 'service'
3. Observe the following:
3.1. Both the fence_compute and nova evacuate resources have updated attributes
3.2. IHA still works correctly

Closes-Bug: #1848451

Change-Id: If6b19ad05e0f91425f93a1c123947e92cf2ba949
(cherry picked from commit 066a360ee5d966be027130d85d6ab6296dd0d3e5)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/94/689094/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker/instance_ha.pp'],1,4e785257bd77c7f5ef3e091f30c55b76c2fbc7bb,iha_stein,"# [*keystone_tenant*] # The keystone tenant # Defaults to hiera('keystone::roles::admin::admin_tenant', 'admin') ## [*deep_compare_fencing*] # (Optional) Boolean, should fence_compute be deep compared in order to # update the existing fencing resource when puppet is being rerun # Defaults to hiera('tripleo::fencing', true) # # [*deep_compare_ocf*] # (Optional) Boolean, should the IHA ocf resource nova evacuate be deep # compared in order to update the resource when puppet is being rerun # Defaults to hiera('pacemaker::resource::ocf::deep_compare', true) # $keystone_tenant = hiera('keystone::roles::admin::admin_tenant', 'admin'), $deep_compare_fencing = hiera('tripleo::fencing', true), $deep_compare_ocf = hiera('pacemaker::resource::ocf::deep_compare', true), deep_compare => $deep_compare_fencing, deep_compare => $deep_compare_ocf, resource_params => ""auth_url=${keystone_endpoint_url} username=${keystone_admin} password=${keystone_password} user_domain=${user_domain} project_domain=${project_domain} tenant_name=${keystone_tenant} ${iha_no_shared_storage}${evacuate_param}"", deep_compare => $deep_compare_ocf,"," resource_params => ""auth_url=${keystone_endpoint_url} username=${keystone_admin} password=${keystone_password} user_domain=${user_domain} project_domain=${project_domain} tenant_name=${keystone_admin} ${iha_no_shared_storage}${evacuate_param}"",",21,1
openstack%2Fironic-inspector~master~Ie9a06c577523cd3dd4c7b74a33642790eb89a8fb,openstack/ironic-inspector,master,Ie9a06c577523cd3dd4c7b74a33642790eb89a8fb,Stop logging the iptables command line,MERGED,2019-10-18 10:14:39.000000000,2019-10-19 05:42:13.000000000,2019-10-19 05:41:05.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-10-18 10:14:39.000000000', 'files': ['ironic_inspector/pxe_filter/iptables.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6023270c93b603596da91bfa937bb66305890798', 'message': ""Stop logging the iptables command line\n\nIt's already done by processutils (with stdout and stderr as well),\nso it only leads to duplicate log records.\n\nChange-Id: Ie9a06c577523cd3dd4c7b74a33642790eb89a8fb\n""}]",0,689403,6023270c93b603596da91bfa937bb66305890798,9,4,1,10239,,,0,"Stop logging the iptables command line

It's already done by processutils (with stdout and stderr as well),
so it only leads to duplicate log records.

Change-Id: Ie9a06c577523cd3dd4c7b74a33642790eb89a8fb
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/03/689403/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/pxe_filter/iptables.py'],1,6023270c93b603596da91bfa937bb66305890798,iptables-log,," LOG.debug('Running iptables %s', args)",0,1
openstack%2Fheat~stable%2Ftrain~I3b1ed30967e9235e9e830c5e4156f739303be618,openstack/heat,stable/train,I3b1ed30967e9235e9e830c5e4156f739303be618,Fix cfn-init-data path in ignition,MERGED,2019-10-17 04:23:37.000000000,2019-10-19 05:32:07.000000000,2019-10-19 05:30:42.000000000,"[{'_account_id': 4257}, {'_account_id': 6484}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-17 04:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5f95046ecd1d6427526e0731bf1937d52856895f', 'message': ""Fix cfn-init-data path in ignition\n\nThe 'local-data' in path /var/lib/os-collect-config/local-data should\nbe a directory, not a file. However, even if we can fix this, now\nos-apply-config will merge configs based on the order [ec2, heat and\nlocal], but actually there is no deployments collected local. Then\nunfortunately, the deployments collected from Heat will be\noverwriten because the merging order in os-apply-config. At this\nmoment, we can't change os-apply-config since it's deliberate.\nSo the only reasonable way we can do now is using\n/var/lib/heat-cfntools/cfn-init-data and /var/lib/cloud/data/cfn-init-data.\n\nStory: 2006566\nTask: 36851\n\nChange-Id: I3b1ed30967e9235e9e830c5e4156f739303be618\n""}, {'number': 6, 'created': '2019-10-17 08:13:40.000000000', 'files': ['heat/engine/clients/os/nova.py', 'heat/tests/clients/test_nova_client.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/e11cfb569bf7037f07466059f9404eb1949bbfde', 'message': ""Fix cfn-init-data path in ignition\n\nThe 'local-data' in path /var/lib/os-collect-config/local-data should\nbe a directory, not a file. However, even if we can fix this, now\nos-apply-config will merge configs based on the order [ec2, heat and\nlocal], but actually there is no deployments collected local. Then\nunfortunately, the deployments collected from Heat will be\noverwriten because the merging order in os-apply-config. At this\nmoment, we can't change os-apply-config since it's deliberate.\nSo the only reasonable way we can do now is using\n/var/lib/heat-cfntools/cfn-init-data and /var/lib/cloud/data/cfn-init-data.\n\nStory: 2006566\nTask: 36851\n\nChange-Id: I3b1ed30967e9235e9e830c5e4156f739303be618\n(cherry picked from commit ea18c18188f94fe3e58f9ea423255060a3be45eb)\n""}]",0,689072,e11cfb569bf7037f07466059f9404eb1949bbfde,20,5,2,6484,,,0,"Fix cfn-init-data path in ignition

The 'local-data' in path /var/lib/os-collect-config/local-data should
be a directory, not a file. However, even if we can fix this, now
os-apply-config will merge configs based on the order [ec2, heat and
local], but actually there is no deployments collected local. Then
unfortunately, the deployments collected from Heat will be
overwriten because the merging order in os-apply-config. At this
moment, we can't change os-apply-config since it's deliberate.
So the only reasonable way we can do now is using
/var/lib/heat-cfntools/cfn-init-data and /var/lib/cloud/data/cfn-init-data.

Story: 2006566
Task: 36851

Change-Id: I3b1ed30967e9235e9e830c5e4156f739303be618
(cherry picked from commit ea18c18188f94fe3e58f9ea423255060a3be45eb)
",git fetch https://review.opendev.org/openstack/heat refs/changes/72/689072/6 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/clients/os/nova.py', 'heat/tests/clients/test_nova_client.py']",2,5f95046ecd1d6427526e0731bf1937d52856895f,story/2006566-36851-stable/train," self.assertEqual(""/var/lib/heat-cfntools/cfn-init-data"", self.assertEqual(""/var/lib/cloud/data/cfn-init-data"", ig[""storage""][""files""][1][""path""])"," self.assertEqual(""/var/lib/os-collect-config/local-data"",",18,11
openstack%2Fdesignate~master~Ic372572055736e091ef2c3fe0446e7f278b365b4,openstack/designate,master,Ic372572055736e091ef2c3fe0446e7f278b365b4,Enable graceful shutdown of mdns,MERGED,2019-09-27 08:26:09.000000000,2019-10-19 05:29:53.000000000,2019-10-19 05:28:27.000000000,"[{'_account_id': 8099}, {'_account_id': 15736}, {'_account_id': 17499}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-27 08:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/becf30ac8a140cc1076be8243d6ef9e658490698', 'message': 'Enable graceful shutdown of mdns\n\nWe are currently blocking tcp and udp connections,\nwhich means that the connection will hang until killed.\n\nThis patch changes this by making the connection\nnon-blocking, to allow us to interrupt the flow\nand gracefully shutdown.\n\nChange-Id: Ic372572055736e091ef2c3fe0446e7f278b365b4\n'}, {'number': 2, 'created': '2019-10-01 20:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a4add9a4fad54c07a309d38e9f6075b2b54e68bf', 'message': 'Enable graceful shutdown of mdns\n\nWe are currently blocking tcp and udp connections,\nwhich means that the connection will hang until killed.\n\nThis patch changes this by making the connection\nnon-blocking, to allow us to interrupt the flow\nand gracefully shutdown.\n\nChange-Id: Ic372572055736e091ef2c3fe0446e7f278b365b4\n'}, {'number': 3, 'created': '2019-10-11 23:11:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/11b762860b99a7588d463567eabd0e4fa286ca25', 'message': 'Enable graceful shutdown of mdns\n\nWe are currently blocking tcp and udp connections,\nwhich means that the connection will hang until killed.\n\nThis patch changes this by making the connection\nnon-blocking, to allow us to interrupt the flow\nand gracefully shutdown.\n\nChange-Id: Ic372572055736e091ef2c3fe0446e7f278b365b4\n'}, {'number': 4, 'created': '2019-10-18 22:24:12.000000000', 'files': ['designate/mdns/service.py', 'designate/service.py', 'designate/agent/service.py', 'designate/utils.py', 'designate/tests/unit/test_utils.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/023855b3e965783dc5c5d9913f07a0721a1a3c2d', 'message': 'Enable graceful shutdown of mdns\n\nWe are currently blocking tcp and udp connections,\nwhich means that the connection will hang until killed.\n\nThis patch changes this by making the connection\nnon-blocking, to allow us to interrupt the flow\nand gracefully shutdown.\n\nChange-Id: Ic372572055736e091ef2c3fe0446e7f278b365b4\n'}]",0,685232,023855b3e965783dc5c5d9913f07a0721a1a3c2d,21,9,4,22623,,,0,"Enable graceful shutdown of mdns

We are currently blocking tcp and udp connections,
which means that the connection will hang until killed.

This patch changes this by making the connection
non-blocking, to allow us to interrupt the flow
and gracefully shutdown.

Change-Id: Ic372572055736e091ef2c3fe0446e7f278b365b4
",git fetch https://review.opendev.org/openstack/designate refs/changes/32/685232/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/mdns/service.py', 'designate/service.py', 'designate/agent/service.py', 'designate/utils.py', 'designate/tests/unit/test_utils.py']",5,becf30ac8a140cc1076be8243d6ef9e658490698,graceful_mdns, mock_sock.settimeout.assert_called_once_with(1) mock_sock.settimeout.assert_called_once_with(1), mock_sock.setblocking.assert_called_once_with(True) mock_sock.setblocking.assert_called_once_with(True),17,17
openstack%2Fheat~master~I27267e148c71288b4c7701fe704425b738e3e0b3,openstack/heat,master,I27267e148c71288b4c7701fe704425b738e3e0b3,Add Blazar custom constraint plugin,MERGED,2019-05-31 12:18:54.000000000,2019-10-19 05:18:24.000000000,2019-10-19 05:16:54.000000000,"[{'_account_id': 4257}, {'_account_id': 10068}, {'_account_id': 12404}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28935}, {'_account_id': 30531}]","[{'number': 1, 'created': '2019-05-31 12:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fa686cb397bf9a8b2cafeb49f2dedd246fa3677f', 'message': 'Author:     priteau <pierrel@stackhpc.com>\nAuthorDate: 2017-07-14 18:02:24 +0100\nCommit:     Jacob Colleran <jwcolleran@gmail.com>\nCommitDate: 2019-05-31 05:13:52 -0500\n\nAdd Blazar custom constraint plugin\n\nThis adds a reservation constraint for verifying a blazar\nreservation id.\n\nChange-Id: I27267e148c71288b4c7701fe704425b738e3e0b3\n'}, {'number': 2, 'created': '2019-05-31 12:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e25ac1a2867acd4fd4670ff8013b5c6c6000897a', 'message': 'Add Blazar custom constraint plugin\n\nThis adds a reservation constraint for verifying a blazar\nreservation id.\n\nChange-Id: I27267e148c71288b4c7701fe704425b738e3e0b3\n'}, {'number': 3, 'created': '2019-05-31 12:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f5442ea24def86d222502bde636c54ac8c40d198', 'message': 'Add Blazar custom constraint plugin\n\nThis adds a reservation constraint for verifying a blazar\nreservation id.\n\nChange-Id: I27267e148c71288b4c7701fe704425b738e3e0b3\nStory: 2005654\nTask: 30942\n'}, {'number': 4, 'created': '2019-06-05 20:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1bdf9f558929e86b17282d37af485da94f5c8b38', 'message': 'Add Blazar custom constraint plugin\n\nThis adds a reservation constraint for verifying a blazar\nreservation id.\n\nChange-Id: I27267e148c71288b4c7701fe704425b738e3e0b3\nStory: 2005654\nTask: 30942\n'}, {'number': 5, 'created': '2019-06-07 14:32:09.000000000', 'files': ['heat/engine/clients/os/blazar.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/heat/commit/17138f6a3805ce3f9b290c603ca9431843ec4fcb', 'message': 'Add Blazar custom constraint plugin\n\nThis adds a reservation constraint for verifying a blazar\nreservation id.\n\nChange-Id: I27267e148c71288b4c7701fe704425b738e3e0b3\nStory: 2005654\nTask: 30942\n'}]",2,662445,17138f6a3805ce3f9b290c603ca9431843ec4fcb,19,7,5,30531,,,0,"Add Blazar custom constraint plugin

This adds a reservation constraint for verifying a blazar
reservation id.

Change-Id: I27267e148c71288b4c7701fe704425b738e3e0b3
Story: 2005654
Task: 30942
",git fetch https://review.opendev.org/openstack/heat refs/changes/45/662445/5 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/clients/os/blazar.py', 'setup.cfg']",2,fa686cb397bf9a8b2cafeb49f2dedd246fa3677f,I27267e148c71288b4c7701fe704425b738e3e0b3, blazar.reservation = heat.engine.clients.os.blazar:ReservationConstraint,,10,0
openstack%2Fswift~stable%2Fstein~Id33a7ab9d0b8f33fede73eae540d6137708e1218,openstack/swift,stable/stein,Id33a7ab9d0b8f33fede73eae540d6137708e1218,s3api: Fix ETag when copying a MU part from another MU,MERGED,2019-10-18 20:57:28.000000000,2019-10-19 04:29:03.000000000,2019-10-19 04:27:21.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 20:57:28.000000000', 'files': ['swift/common/middleware/s3api/controllers/multi_upload.py', 'swift/common/middleware/s3api/s3response.py', 'test/functional/s3api/test_multi_upload.py', 'test/unit/common/middleware/s3api/test_multi_upload.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5e838c4f7089b07cebe17c19f190d28ec81f0ca9', 'message': ""s3api: Fix ETag when copying a MU part from another MU\n\nPreviously, we'd preserve the sysmeta that we wrote down with the\noriginal multipart-upload to track its S3-style etag on the new part,\ncausing it to have an ETag like `<MD5>-<N>`. Later, when the client\ntried to complete the new multipart-upload, it would send that etag back\nto the server, which would reject the request because the ETag didn't\nlook like a normal MD5.\n\nNow, have s3api include blank values in the copy request to overwrite\nthe source sysmeta, and treat a blank etag override the same as a\nmissing one.\n\nChange-Id: Id33a7ab9d0b8f33fede73eae540d6137708e1218\nCloses-Bug: #1829959\n(cherry picked from commit e22960fd718c4594bc8a504a12aba3f6a52175bf)\n""}]",0,689589,5e838c4f7089b07cebe17c19f190d28ec81f0ca9,11,2,1,15343,,,0,"s3api: Fix ETag when copying a MU part from another MU

Previously, we'd preserve the sysmeta that we wrote down with the
original multipart-upload to track its S3-style etag on the new part,
causing it to have an ETag like `<MD5>-<N>`. Later, when the client
tried to complete the new multipart-upload, it would send that etag back
to the server, which would reject the request because the ETag didn't
look like a normal MD5.

Now, have s3api include blank values in the copy request to overwrite
the source sysmeta, and treat a blank etag override the same as a
missing one.

Change-Id: Id33a7ab9d0b8f33fede73eae540d6137708e1218
Closes-Bug: #1829959
(cherry picked from commit e22960fd718c4594bc8a504a12aba3f6a52175bf)
",git fetch https://review.opendev.org/openstack/swift refs/changes/89/689589/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/controllers/multi_upload.py', 'swift/common/middleware/s3api/s3response.py', 'test/functional/s3api/test_multi_upload.py', 'test/unit/common/middleware/s3api/test_multi_upload.py']",4,5e838c4f7089b07cebe17c19f190d28ec81f0ca9,bug/1829959," # Some headers *need* to get cleared in case we're copying from # another multipart upload for header in ( 'X-Object-Sysmeta-S3api-Etag', 'X-Object-Sysmeta-Slo-Etag', 'X-Object-Sysmeta-Slo-Size', 'X-Object-Sysmeta-Container-Update-Override-Etag', 'X-Object-Sysmeta-Swift3-Etag', ): self.assertEqual(headers[header], '')",,86,30
openstack%2Fopenstack-ansible-os_horizon~master~Ide5181c14fdc2c67df4df3adaa155d5959b4c468,openstack/openstack-ansible-os_horizon,master,Ide5181c14fdc2c67df4df3adaa155d5959b4c468,Broken panel registration fix,MERGED,2019-10-17 18:18:46.000000000,2019-10-19 04:13:19.000000000,2019-10-19 04:12:15.000000000,"[{'_account_id': 21314}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-17 18:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/ab9c5583b668b1f21b432d27ae11b881e0eead07', 'message': 'Fixes broken panel registration for source install method\ndue to python 3 changes changing the horizon_lib_dir path\ndynamically.  This sets horizon_dashboard_panel_dir\ndynamically based on the changed horizon_lib_dir modification\nin the horizon_install_source.yml playbook.\n\nChange-Id: Ide5181c14fdc2c67df4df3adaa155d5959b4c468\nCloses-Bug: 1848561\n'}, {'number': 2, 'created': '2019-10-17 19:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/4cb198ad6cebe04323d4d64d0b21121de24ba886', 'message': 'Author: Shannon Mitchell <shannon.mitchell@rackspace.com>\nDate: Thu Oct 17 14:07:29 CDT 2019\n\n  Broken panel registration fix\n\n  Fixes broken panel registration for source install method\n  due to python 3 changes changing the horizon_lib_dir path\n  dynamically.  This sets horizon_dashboard_panel_dir\n  dynamically based on the changed horizon_lib_dir modification\n  in the horizon_install_source.yml playbook.\n\n  Closes-Bug: 1848561\n\nChange-Id: Ide5181c14fdc2c67df4df3adaa155d5959b4c468\n'}, {'number': 3, 'created': '2019-10-17 19:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/4ad5643e0fa920bfcfc49687e41717c6bfe74e7f', 'message': 'Broken panel registration fix\n\nFixes broken panel registration for source install method\ndue to python 3 changes changing the horizon_lib_dir path\ndynamically.  This sets horizon_dashboard_panel_dir\ndynamically based on the changed horizon_lib_dir modification\nin the horizon_install_source.yml playbook.\n\nCloses-Bug: 1848561\n\nChange-Id: Ide5181c14fdc2c67df4df3adaa155d5959b4c468\n'}, {'number': 4, 'created': '2019-10-17 19:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/d3df27eb624c5e881cc7cc72766fbe0c8b3e9394', 'message': 'Broken panel registration fix\n\nFixes broken panel registration for source install method\ndue to python 3 changes changing the horizon_lib_dir path\ndynamically.  This sets changes the horizon_dashboard_panel_dir\nvar to utilize the horizon_lib_dir fact being set in in the\nhorizon_install_source.yml playbook.\n\nCloses-Bug: 1848561\n\nChange-Id: Ide5181c14fdc2c67df4df3adaa155d5959b4c468\n'}, {'number': 5, 'created': '2019-10-18 07:50:45.000000000', 'files': ['vars/source_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_horizon/commit/32a9e2b8087b7b7bc7c07c1e691344e5525ca756', 'message': 'Broken panel registration fix\n\nFixes broken panel registration for source install method\ndue to python 3 changes changing the horizon_lib_dir path\ndynamically.  This sets changes the horizon_dashboard_panel_dir\nvar to utilize the horizon_lib_dir fact being set in in the\nhorizon_install_source.yml playbook.\n\nCloses-Bug: 1848561\n\nDepends-On: https://review.opendev.org/689323\nChange-Id: Ide5181c14fdc2c67df4df3adaa155d5959b4c468\n'}]",2,689239,32a9e2b8087b7b7bc7c07c1e691344e5525ca756,25,4,5,21714,,,0,"Broken panel registration fix

Fixes broken panel registration for source install method
due to python 3 changes changing the horizon_lib_dir path
dynamically.  This sets changes the horizon_dashboard_panel_dir
var to utilize the horizon_lib_dir fact being set in in the
horizon_install_source.yml playbook.

Closes-Bug: 1848561

Depends-On: https://review.opendev.org/689323
Change-Id: Ide5181c14fdc2c67df4df3adaa155d5959b4c468
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_horizon refs/changes/39/689239/5 && git format-patch -1 --stdout FETCH_HEAD,"['vars/source_install.yml', 'tasks/horizon_install_source.yml']",2,ab9c5583b668b1f21b432d27ae11b881e0eead07,bug/1848561,"- name: Set the horizon_dashboard_panel_dir to match the new horizon_lib_dir fact set_fact: horizon_dashboard_panel_dir: ""{{ horizon_lib_dir }}/openstack_dashboard/local/enabled"" ",,5,1
openstack%2Fnetworking-ovn~stable%2Fqueens~I8c1174df562a7164d4a96ce2e733279723827dcd,openstack/networking-ovn,stable/queens,I8c1174df562a7164d4a96ce2e733279723827dcd,Avoid port group creation race,MERGED,2019-10-09 13:55:18.000000000,2019-10-19 03:49:30.000000000,2019-10-19 03:49:30.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 13:55:18.000000000', 'files': ['networking_ovn/common/ovn_client.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/528925bb20b622e3355411f57ba2fe8bdcffd386', 'message': ""Avoid port group creation race\n\nThe neutron_pg_drop Porg Group is created with some ACLs to drop\nall the traffic by default. This group doesn't match any Neutron\nresource and it's created once the first Neutron port with\nport_security enabled gets created.\n\nA race condition exists whn the first two ports get created\nsimultaneously by different works as both may attempt to create\nthis Port Group. The result is that one of the port creations will\nfail. Setting may_exist=True should avoid this race\n\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nCloses-Bug: 1838969\nChange-Id: I8c1174df562a7164d4a96ce2e733279723827dcd\n(cherry picked from commit e946836b208a5ddc3a17f2dba53658c4b9a3f8f7)\n""}]",0,687569,528925bb20b622e3355411f57ba2fe8bdcffd386,8,4,1,24791,,,0,"Avoid port group creation race

The neutron_pg_drop Porg Group is created with some ACLs to drop
all the traffic by default. This group doesn't match any Neutron
resource and it's created once the first Neutron port with
port_security enabled gets created.

A race condition exists whn the first two ports get created
simultaneously by different works as both may attempt to create
this Port Group. The result is that one of the port creations will
fail. Setting may_exist=True should avoid this race

Co-authored-by: Daniel Alvarez <dalvarez@redhat.com>
Closes-Bug: 1838969
Change-Id: I8c1174df562a7164d4a96ce2e733279723827dcd
(cherry picked from commit e946836b208a5ddc3a17f2dba53658c4b9a3f8f7)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/69/687569/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/common/ovn_client.py'],1,528925bb20b622e3355411f57ba2fe8bdcffd386,," txn.add(self._nb_idl.pg_add(pg_name, acls=[], may_exist=True)) txn.add(self._nb_idl.pg_acl_add(may_exist=True, **acl))"," txn.add(self._nb_idl.pg_add(pg_name, acls=[])) txn.add(self._nb_idl.pg_acl_add(**acl))",2,2
openstack%2Fironic~master~I03b415ce4f07f9c306bafc05c52527f51061d864,openstack/ironic,master,I03b415ce4f07f9c306bafc05c52527f51061d864,Update sushy library version,MERGED,2019-10-10 20:38:50.000000000,2019-10-19 03:21:19.000000000,2019-10-18 21:12:57.000000000,"[{'_account_id': 7160}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 10343}, {'_account_id': 10379}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-10-10 20:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/42fad74fce3a438db540e2ab877cf338e78d57c8', 'message': 'Update sushy library version\n\nThis patch updates the sushy library version to a version that\ncontains a fix for a critical message registry bug.\n\nSee: https://review.opendev.org/#/c/666253/\n\nChange-Id: I03b415ce4f07f9c306bafc05c52527f51061d864\nStory: #2006702\nTask: #37011\n'}, {'number': 2, 'created': '2019-10-14 19:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d68ed2d9b0e5eece9e19bb77a02869ad3555aad1', 'message': 'Update sushy library version\n\nThis patch updates the sushy library version to a version that\ncontains a fix for a critical message registry bug.  This bug causes\nthe Redfish hardware type to not work against at least some Dell EMC\nhardware.\n\nSee: https://review.opendev.org/#/c/666253/\n\nChange-Id: I03b415ce4f07f9c306bafc05c52527f51061d864\nStory: #2006702\nTask: #37011\n'}, {'number': 3, 'created': '2019-10-15 14:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2fd3af3b0b5c194ff8d408764782394ef79efdb7', 'message': 'Update sushy library version\n\nThis patch updates the sushy library version to a version that\ncontains a fix for a critical message registry bug.  This bug causes\nthe Redfish hardware type to not work against at least some Dell EMC\nhardware.\n\nSee: https://review.opendev.org/#/c/666253/\n\nChange-Id: I03b415ce4f07f9c306bafc05c52527f51061d864\nStory: #2006702\nTask: #37011\n'}, {'number': 4, 'created': '2019-10-16 17:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c2fb66e96b233443a18e96cda6859660577596ee', 'message': 'Update sushy library version\n\nThis patch updates the sushy library version to a version that\ncontains a fix for a critical message registry bug.  This bug causes\nthe Redfish hardware type to not work against at least some Dell EMC\nhardware.\n\nSee: https://review.opendev.org/#/c/666253/\n\nChange-Id: I03b415ce4f07f9c306bafc05c52527f51061d864\nStory: #2006702\nTask: #37011\n'}, {'number': 5, 'created': '2019-10-16 20:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/36e9d4041ea4c63d98ea34bdf350d38609573c2b', 'message': 'Update sushy library version\n\nThis patch updates the sushy library version to a version that\ncontains a fix for a critical message registry bug.  This bug causes\nthe Redfish hardware type to not work against at least some Dell EMC\nhardware.\n\nSee: https://review.opendev.org/#/c/666253/\n\nChange-Id: I03b415ce4f07f9c306bafc05c52527f51061d864\nStory: #2006702\nTask: #37011\n'}, {'number': 6, 'created': '2019-10-18 18:32:42.000000000', 'files': ['releasenotes/notes/min-sushy-version-change-3b697530e0c05dee.yaml', 'driver-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0ab2c08e4741c18d17cfe5a4727b69ed01d64bb5', 'message': 'Update sushy library version\n\nThis patch updates the sushy library version to a version that\ncontains a fix for a critical message registry bug.  This bug causes\nthe Redfish hardware type to not work against at least some Dell EMC\nhardware.\n\nSee: https://review.opendev.org/#/c/666253/\n\nChange-Id: I03b415ce4f07f9c306bafc05c52527f51061d864\nStory: #2006702\nTask: #37011\n'}]",9,687983,0ab2c08e4741c18d17cfe5a4727b69ed01d64bb5,43,11,6,10250,,,0,"Update sushy library version

This patch updates the sushy library version to a version that
contains a fix for a critical message registry bug.  This bug causes
the Redfish hardware type to not work against at least some Dell EMC
hardware.

See: https://review.opendev.org/#/c/666253/

Change-Id: I03b415ce4f07f9c306bafc05c52527f51061d864
Story: #2006702
Task: #37011
",git fetch https://review.opendev.org/openstack/ironic refs/changes/83/687983/6 && git format-patch -1 --stdout FETCH_HEAD,['driver-requirements.txt'],1,42fad74fce3a438db540e2ab877cf338e78d57c8,37011,sushy>=2.0.0,sushy>=1.9.0,1,1
openstack%2Fswift~stable%2Fstein~I43eee7029ca884268c3f2ad74300b94b299fd8d2,openstack/swift,stable/stein,I43eee7029ca884268c3f2ad74300b94b299fd8d2,dlo: Respond 200 on multi-range GETs,MERGED,2019-10-18 19:58:46.000000000,2019-10-19 02:50:48.000000000,2019-10-19 02:48:47.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 19:58:46.000000000', 'files': ['test/functional/test_dlo.py', 'test/unit/common/middleware/test_dlo.py', 'swift/common/middleware/dlo.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/b3cc7417e04900ff30a422fc5675ce18ab169725', 'message': 'dlo: Respond 200 on multi-range GETs\n\nWe already had a unit test for this, but it was inadvertently retesting\nwhat test_get_suffix_range_many_segments tested.\n\nChange-Id: I43eee7029ca884268c3f2ad74300b94b299fd8d2\nCloses-Bug: #1831790\n(cherry picked from commit a21c0be70ca6c200076d274c54f6906e1cf92a61)\n'}]",0,689570,b3cc7417e04900ff30a422fc5675ce18ab169725,13,2,1,15343,,,0,"dlo: Respond 200 on multi-range GETs

We already had a unit test for this, but it was inadvertently retesting
what test_get_suffix_range_many_segments tested.

Change-Id: I43eee7029ca884268c3f2ad74300b94b299fd8d2
Closes-Bug: #1831790
(cherry picked from commit a21c0be70ca6c200076d274c54f6906e1cf92a61)
",git fetch https://review.opendev.org/openstack/swift refs/changes/70/689570/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/functional/test_dlo.py', 'test/unit/common/middleware/test_dlo.py', 'swift/common/middleware/dlo.py']",3,b3cc7417e04900ff30a422fc5675ce18ab169725,bug/1831790, else: req.range = None,,14,3
openstack%2Fswift~stable%2Fstein~Ic7c6278dedef308c9219eb45751abfa5655f144f,openstack/swift,stable/stein,Ic7c6278dedef308c9219eb45751abfa5655f144f,Set Content-Type with s3api metadata updates.,MERGED,2019-10-18 21:00:12.000000000,2019-10-19 02:08:17.000000000,2019-10-19 02:05:55.000000000,"[{'_account_id': 15343}, {'_account_id': 17363}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 21:00:12.000000000', 'files': ['doc/s3api/conf/ceph-known-failures-keystone.yaml', 'test/unit/common/middleware/s3api/test_obj.py', 'doc/s3api/conf/ceph-known-failures-tempauth.yaml', 'swift/common/middleware/s3api/s3request.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/40f9114679e02bcbd870d285dfb31041362632b9', 'message': ""Set Content-Type with s3api metadata updates.\n\nS3 supports two metadata operations on object copy: COPY and REPLACE.\nWhen using REPLACE, the Content-Type should be set to the one supplied\nby the caller. When using COPY, the existing object's Content-Type value\nis used.\n\nChange-Id: Ic7c6278dedef308c9219eb45751abfa5655f144f\nCloses-Bug: #1828907\n(cherry picked from commit 8b64381371b542d46fadba428d3b910dcbcd8d93)\n""}]",0,689591,40f9114679e02bcbd870d285dfb31041362632b9,7,3,1,15343,,,0,"Set Content-Type with s3api metadata updates.

S3 supports two metadata operations on object copy: COPY and REPLACE.
When using REPLACE, the Content-Type should be set to the one supplied
by the caller. When using COPY, the existing object's Content-Type value
is used.

Change-Id: Ic7c6278dedef308c9219eb45751abfa5655f144f
Closes-Bug: #1828907
(cherry picked from commit 8b64381371b542d46fadba428d3b910dcbcd8d93)
",git fetch https://review.opendev.org/openstack/swift refs/changes/91/689591/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/s3api/conf/ceph-known-failures-keystone.yaml', 'test/unit/common/middleware/s3api/test_obj.py', 'doc/s3api/conf/ceph-known-failures-tempauth.yaml', 'swift/common/middleware/s3api/s3request.py']",4,40f9114679e02bcbd870d285dfb31041362632b9,bug/1828907," 'CONTENT_TYPE',"," # Content type cannot be modified on COPY env.pop('CONTENT_TYPE', None)",3,6
openstack%2Fswift~stable%2Fstein~I106b94c77da220c762869aa800c31b87c3dffeeb,openstack/swift,stable/stein,I106b94c77da220c762869aa800c31b87c3dffeeb,slo: Better handle non-manifest responses when refetching manifest,MERGED,2019-10-18 20:41:06.000000000,2019-10-19 02:07:22.000000000,2019-10-19 02:05:51.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 20:41:06.000000000', 'files': ['swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f353b78b92ad7a3f15aa6b21d1f8be592e8ca212', 'message': ""slo: Better handle non-manifest responses when refetching manifest\n\nPreviously, we never checked whether the response we get when refetching\nis even successful, much less whether it's still coming from an SLO.\n\nNow, if the refetched data is newer, act on it. If it's older, 503.\n\nCloses-Bug: #1837270\nChange-Id: I106b94c77da220c762869aa800c31b87c3dffeeb\n(cherry picked from commit ef5a37c2bf5a32b0fa6404974aa76332a88c0841)\n""}]",0,689580,f353b78b92ad7a3f15aa6b21d1f8be592e8ca212,9,2,1,15343,,,0,"slo: Better handle non-manifest responses when refetching manifest

Previously, we never checked whether the response we get when refetching
is even successful, much less whether it's still coming from an SLO.

Now, if the refetched data is newer, act on it. If it's older, 503.

Closes-Bug: #1837270
Change-Id: I106b94c77da220c762869aa800c31b87c3dffeeb
(cherry picked from commit ef5a37c2bf5a32b0fa6404974aa76332a88c0841)
",git fetch https://review.opendev.org/openstack/swift refs/changes/80/689580/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/slo.py', 'test/unit/common/middleware/test_slo.py']",2,f353b78b92ad7a3f15aa6b21d1f8be592e8ca212,bug/1837270," def test_range_get_beyond_manifest_refetch_fails(self): big = 'e' * 1024 * 1024 big_etag = md5hex(big) big_manifest = json.dumps( [{'name': '/gettest/big_seg', 'hash': big_etag, 'bytes': 1024 * 1024, 'content_type': 'application/foo'}]) self.app.register_responses( 'GET', '/v1/AUTH_test/gettest/big_manifest', [(swob.HTTPOk, {'Content-Type': 'application/octet-stream', 'X-Static-Large-Object': 'true', 'X-Backend-Timestamp': '1234', 'Etag': md5hex(big_manifest)}, big_manifest), (swob.HTTPNotFound, {}, None)]) req = Request.blank( '/v1/AUTH_test/gettest/big_manifest', environ={'REQUEST_METHOD': 'GET'}, headers={'Range': 'bytes=100000-199999'}) status, headers, body = self.call_slo(req) headers = HeaderKeyDict(headers) self.assertEqual(status, '503 Service Unavailable') self.assertNotIn('X-Static-Large-Object', headers) self.assertEqual(self.app.calls, [ # has Range header, gets 416 ('GET', '/v1/AUTH_test/gettest/big_manifest'), # retry the first one ('GET', '/v1/AUTH_test/gettest/big_manifest'), ]) def test_range_get_beyond_manifest_refetch_finds_old(self): big = 'e' * 1024 * 1024 big_etag = md5hex(big) big_manifest = json.dumps( [{'name': '/gettest/big_seg', 'hash': big_etag, 'bytes': 1024 * 1024, 'content_type': 'application/foo'}]) self.app.register_responses( 'GET', '/v1/AUTH_test/gettest/big_manifest', [(swob.HTTPOk, {'Content-Type': 'application/octet-stream', 'X-Static-Large-Object': 'true', 'X-Backend-Timestamp': '1234', 'Etag': md5hex(big_manifest)}, big_manifest), (swob.HTTPOk, {'X-Backend-Timestamp': '1233'}, [b'small body'])]) req = Request.blank( '/v1/AUTH_test/gettest/big_manifest', environ={'REQUEST_METHOD': 'GET'}, headers={'Range': 'bytes=100000-199999'}) status, headers, body = self.call_slo(req) headers = HeaderKeyDict(headers) self.assertEqual(status, '503 Service Unavailable') self.assertNotIn('X-Static-Large-Object', headers) self.assertEqual(self.app.calls, [ # has Range header, gets 416 ('GET', '/v1/AUTH_test/gettest/big_manifest'), # retry the first one ('GET', '/v1/AUTH_test/gettest/big_manifest'), ]) def test_range_get_beyond_manifest_refetch_small_non_slo(self): big = 'e' * 1024 * 1024 big_etag = md5hex(big) big_manifest = json.dumps( [{'name': '/gettest/big_seg', 'hash': big_etag, 'bytes': 1024 * 1024, 'content_type': 'application/foo'}]) self.app.register_responses( 'GET', '/v1/AUTH_test/gettest/big_manifest', [(swob.HTTPOk, {'Content-Type': 'application/octet-stream', 'X-Static-Large-Object': 'true', 'X-Backend-Timestamp': '1234', 'Etag': md5hex(big_manifest)}, big_manifest), (swob.HTTPOk, {'X-Backend-Timestamp': '1235'}, [b'small body'])]) req = Request.blank( '/v1/AUTH_test/gettest/big_manifest', environ={'REQUEST_METHOD': 'GET'}, headers={'Range': 'bytes=100000-199999'}) status, headers, body = self.call_slo(req) headers = HeaderKeyDict(headers) self.assertEqual(status, '416 Requested Range Not Satisfiable') self.assertNotIn('X-Static-Large-Object', headers) self.assertEqual(self.app.calls, [ # has Range header, gets 416 ('GET', '/v1/AUTH_test/gettest/big_manifest'), # retry the first one ('GET', '/v1/AUTH_test/gettest/big_manifest'), ]) def test_range_get_beyond_manifest_refetch_big_non_slo(self): big = 'e' * 1024 * 1024 big_etag = md5hex(big) big_manifest = json.dumps( [{'name': '/gettest/big_seg', 'hash': big_etag, 'bytes': 1024 * 1024, 'content_type': 'application/foo'}]) self.app.register_responses( 'GET', '/v1/AUTH_test/gettest/big_manifest', [(swob.HTTPOk, {'Content-Type': 'application/octet-stream', 'X-Static-Large-Object': 'true', 'X-Backend-Timestamp': '1234', 'Etag': md5hex(big_manifest)}, big_manifest), (swob.HTTPOk, {'X-Backend-Timestamp': '1235'}, [b'x' * 1024 * 1024])]) req = Request.blank( '/v1/AUTH_test/gettest/big_manifest', environ={'REQUEST_METHOD': 'GET'}, headers={'Range': 'bytes=100000-199999'}) status, headers, body = self.call_slo(req) headers = HeaderKeyDict(headers) self.assertEqual(status, '200 OK') # NOT 416 or 206! self.assertNotIn('X-Static-Large-Object', headers) self.assertEqual(len(body), 1024 * 1024) self.assertEqual(body, b'x' * 1024 * 1024) self.assertEqual(self.app.calls, [ # has Range header, gets 416 ('GET', '/v1/AUTH_test/gettest/big_manifest'), # retry the first one ('GET', '/v1/AUTH_test/gettest/big_manifest'), ]) def test_range_get_beyond_manifest_refetch_tombstone(self): big = 'e' * 1024 * 1024 big_etag = md5hex(big) big_manifest = json.dumps( [{'name': '/gettest/big_seg', 'hash': big_etag, 'bytes': 1024 * 1024, 'content_type': 'application/foo'}]) self.app.register_responses( 'GET', '/v1/AUTH_test/gettest/big_manifest', [(swob.HTTPOk, {'Content-Type': 'application/octet-stream', 'X-Static-Large-Object': 'true', 'X-Backend-Timestamp': '1234', 'Etag': md5hex(big_manifest)}, big_manifest), (swob.HTTPNotFound, {'X-Backend-Timestamp': '1345'}, None)]) req = Request.blank( '/v1/AUTH_test/gettest/big_manifest', environ={'REQUEST_METHOD': 'GET'}, headers={'Range': 'bytes=100000-199999'}) status, headers, body = self.call_slo(req) headers = HeaderKeyDict(headers) self.assertEqual(status, '404 Not Found') self.assertNotIn('X-Static-Large-Object', headers) self.assertEqual(self.app.calls, [ # has Range header, gets 416 ('GET', '/v1/AUTH_test/gettest/big_manifest'), # retry the first one ('GET', '/v1/AUTH_test/gettest/big_manifest'), ]) ",,196,5
openstack%2Fneutron~master~Ie9a6fbf04d453a3c1c0bddf9ecaa3d4d6467e8ff,openstack/neutron,master,Ie9a6fbf04d453a3c1c0bddf9ecaa3d4d6467e8ff,Add radvd_user config option,MERGED,2019-09-19 17:14:43.000000000,2019-10-19 02:07:21.000000000,2019-10-19 02:05:49.000000000,"[{'_account_id': 1131}, {'_account_id': 6854}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-19 17:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/745e037b0d512f4c192e28672eb31490058182c1', 'message': '[WIP] Add radvd_user config option\n\nChange-Id: Ie9a6fbf04d453a3c1c0bddf9ecaa3d4d6467e8ff\nCloses-Bug: #1844688\n'}, {'number': 2, 'created': '2019-09-20 09:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a5dfd9461a8bc6e84dd3540f9f55a4033843933', 'message': 'Add radvd_user config option\n\nIn some deployments, the ""neutron"" user does not have the permissions\nto modify the kernel interfaces. In those cases the radvd user should\nbe defined. This patch introduces a new config option: ""radvd_user"".\n\nThis config option is the username passed to radvd, used to drop root\nprivileges and change user ID to username and group ID to the primary\ngroup of username. If no user specified (by default is an empty string),\nthe user executing the L3 agent will be passed. If ""root"" specified,\nbecause radvd is spawned as root, no ""username"" parameter will be\npassed.\n\nChange-Id: Ie9a6fbf04d453a3c1c0bddf9ecaa3d4d6467e8ff\nCloses-Bug: #1844688\n'}, {'number': 3, 'created': '2019-09-26 14:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4708bb93db5762bcf2a9abf42dd046ee37be0401', 'message': 'Add radvd_user config option\n\nIn some deployments, the ""neutron"" user does not have the permissions\nto modify the kernel interfaces. In those cases the radvd user should\nbe defined. This patch introduces a new config option: ""radvd_user"".\n\nThis config option is the username passed to radvd, used to drop root\nprivileges and change user ID to username and group ID to the primary\ngroup of username. If no user specified (by default is an empty string),\nthe user executing the L3 agent will be passed. If ""root"" specified,\nbecause radvd is spawned as root, no ""username"" parameter will be\npassed.\n\nChange-Id: Ie9a6fbf04d453a3c1c0bddf9ecaa3d4d6467e8ff\nCloses-Bug: #1844688\n'}, {'number': 4, 'created': '2019-09-27 14:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3552eb0af2a73ceb360eeec5dd341b5cc77c196', 'message': 'Add radvd_user config option\n\nIn some deployments, the ""neutron"" user does not have the permissions\nto modify the kernel interfaces. In those cases the radvd user should\nbe defined. This patch introduces a new config option: ""radvd_user"".\n\nThis config option is the username passed to radvd, used to drop root\nprivileges and change user ID to username and group ID to the primary\ngroup of username. If no user specified (by default is an empty string),\nthe user executing the L3 agent will be passed. If ""root"" specified,\nbecause radvd is spawned as root, no ""username"" parameter will be\npassed.\n\nChange-Id: Ie9a6fbf04d453a3c1c0bddf9ecaa3d4d6467e8ff\nCloses-Bug: #1844688\n'}, {'number': 5, 'created': '2019-10-05 07:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e77d31efa12101aaa9bf147d4c2dedf58322340', 'message': 'Add radvd_user config option\n\nIn some deployments, the ""neutron"" user does not have the permissions\nto modify the kernel interfaces. In those cases the radvd user should\nbe defined. This patch introduces a new config option: ""radvd_user"".\n\nThis config option is the username passed to radvd, used to drop root\nprivileges and change user ID to username and group ID to the primary\ngroup of username. If no user specified (by default is an empty string),\nthe user executing the L3 agent will be passed. If ""root"" specified,\nbecause radvd is spawned as root, no ""username"" parameter will be\npassed.\n\nChange-Id: Ie9a6fbf04d453a3c1c0bddf9ecaa3d4d6467e8ff\nCloses-Bug: #1844688\n'}, {'number': 6, 'created': '2019-10-14 13:01:53.000000000', 'files': ['neutron/agent/linux/ra.py', 'releasenotes/notes/radvd_user-config-option-24730a6d686fee18.yaml', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/conf/agent/l3/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a5a75d5a6d4af08310774cef1b091d2ce2551d4', 'message': 'Add radvd_user config option\n\nIn some deployments, the ""neutron"" user does not have the permissions\nto modify the kernel interfaces. In those cases the radvd user should\nbe defined. This patch introduces a new config option: ""radvd_user"".\n\nThis config option is the username passed to radvd, used to drop root\nprivileges and change user ID to username and group ID to the primary\ngroup of username. If no user specified (by default is an empty string),\nthe user executing the L3 agent will be passed. If ""root"" specified,\nbecause radvd is spawned as root, no ""username"" parameter will be\npassed.\n\nChange-Id: Ie9a6fbf04d453a3c1c0bddf9ecaa3d4d6467e8ff\nCloses-Bug: #1844688\n'}]",6,683207,6a5a75d5a6d4af08310774cef1b091d2ce2551d4,79,11,6,16688,,,0,"Add radvd_user config option

In some deployments, the ""neutron"" user does not have the permissions
to modify the kernel interfaces. In those cases the radvd user should
be defined. This patch introduces a new config option: ""radvd_user"".

This config option is the username passed to radvd, used to drop root
privileges and change user ID to username and group ID to the primary
group of username. If no user specified (by default is an empty string),
the user executing the L3 agent will be passed. If ""root"" specified,
because radvd is spawned as root, no ""username"" parameter will be
passed.

Change-Id: Ie9a6fbf04d453a3c1c0bddf9ecaa3d4d6467e8ff
Closes-Bug: #1844688
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/683207/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/ra.py', 'neutron/conf/agent/l3/config.py']",2,745e037b0d512f4c192e28672eb31490058182c1,bug/1844688," cfg.StrOpt('radvd_user', default='', help=_('The username passed to radvd, used to drop root ' 'privileges and change user ID to username and group ID ' 'to the primary group of username. If no user specified ' '(by default), the user executing the L3 agent will be ' 'passed. If ""root"" specified, because radvd is spawned ' 'as root, no ""username"" parameter will be passed.')),",,17,3
openstack%2Fswift~stable%2Fstein~I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc,openstack/swift,stable/stein,I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc,versioned_writes: checks for SLO object before copy,MERGED,2019-10-18 19:54:24.000000000,2019-10-19 02:05:54.000000000,2019-10-19 02:05:54.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 30970}]","[{'number': 1, 'created': '2019-10-18 19:54:24.000000000', 'files': ['swift/common/middleware/versioned_writes.py', 'test/functional/test_versioned_writes.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a556c2b5f739db863c1bcb8cea2dc6c31144ff13', 'message': ""versioned_writes: checks for SLO object before copy\n\nPreviously, versioned_writes middleware copy an already existing\nobject using PUT. However, SLO requires the additional query\nto properly update the object size when listing.\n\nPropose fix: In _put_versioned_obj - which is called when on\ncreating version obj and also on restoring obj,\nif 'X-Object-Sysmeta-Slo-Size' header is present it will\nadd needed headers for container to update obj size\n\nAdded a new functional test case with size assertion for slo\n\nChange-Id: I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc\nCloses-Bug: #1840322\n(cherry picked from commit b4288b4aa6e6be2222f5f0e9ca8360c07040d5c0)\n""}]",0,689568,a556c2b5f739db863c1bcb8cea2dc6c31144ff13,6,3,1,15343,,,0,"versioned_writes: checks for SLO object before copy

Previously, versioned_writes middleware copy an already existing
object using PUT. However, SLO requires the additional query
to properly update the object size when listing.

Propose fix: In _put_versioned_obj - which is called when on
creating version obj and also on restoring obj,
if 'X-Object-Sysmeta-Slo-Size' header is present it will
add needed headers for container to update obj size

Added a new functional test case with size assertion for slo

Change-Id: I47e0663e67daea8f1cf4eaf3c47e7c8429fd81bc
Closes-Bug: #1840322
(cherry picked from commit b4288b4aa6e6be2222f5f0e9ca8360c07040d5c0)
",git fetch https://review.opendev.org/openstack/swift refs/changes/68/689568/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/versioned_writes.py', 'test/functional/test_versioned_writes.py']",2,a556c2b5f739db863c1bcb8cea2dc6c31144ff13,bug/1840322," def test_slo_manifest_version_size(self): file_item = self._create_manifest('a') # sanity check: read the manifest, then the large object self._assert_is_manifest(file_item, 'a') self._assert_is_object(file_item, b'a') # original manifest size primary_list = self.container.files(parms={'format': 'json'}) self.assertEqual(1, len(primary_list)) org_size = primary_list[0]['bytes'] # upload new manifest file_item = self._create_manifest('b') # sanity check: read the manifest, then the large object self._assert_is_manifest(file_item, 'b') self._assert_is_object(file_item, b'b') versions_list = self.versions_container.files(parms={'format': 'json'}) self.assertEqual(1, len(versions_list)) version_file = self.versions_container.file(versions_list[0]['name']) version_file_size = versions_list[0]['bytes'] # check the version is still a manifest self._assert_is_manifest(version_file, 'a') self._assert_is_object(version_file, b'a') # check the version size is correct self.assertEqual(version_file_size, org_size) # delete the newest manifest file_item.delete() # expect the original manifest file to be restored self._assert_is_manifest(file_item, 'a') self._assert_is_object(file_item, b'a') primary_list = self.container.files(parms={'format': 'json'}) self.assertEqual(1, len(primary_list)) primary_file_size = primary_list[0]['bytes'] # expect the original manifest file size to be the same self.assertEqual(primary_file_size, org_size)",,47,1
openstack%2Fswift~stable%2Fstein~Ib3124ea079a73a577b86de97657603a64b16f965,openstack/swift,stable/stein,Ib3124ea079a73a577b86de97657603a64b16f965,S3Api: handle non-ASCII markers in v1 listings.,MERGED,2019-10-18 21:01:36.000000000,2019-10-19 02:05:53.000000000,2019-10-19 02:05:53.000000000,"[{'_account_id': 15343}, {'_account_id': 17363}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 21:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/f4491f5abdbff8e4af0e45132e1f29e5975d335e', 'message': 'S3Api: handle non-ASCII markers in v1 listings.\n\nAdded a test for S3 v1 listings that use URL encoding and have non-ASCII\ncharacters. In the process discovered that the XML schema for\nListBucketResult had a small problem: Delimiter and EncodingType needed\nto be reordered.\n\nChange-Id: Ib3124ea079a73a577b86de97657603a64b16f965\n(cherry picked from commit dade632b0fbb10ef9419f2f9bcd063f3f962dbbf)\n'}, {'number': 2, 'created': '2019-10-18 21:20:14.000000000', 'files': ['swift/common/middleware/s3api/schema/list_bucket_result.rng', 'test/unit/common/middleware/s3api/test_bucket.py', 'doc/s3api/rnc/list_bucket_result.rnc', 'swift/common/middleware/s3api/controllers/bucket.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/d919719297e3d4759c58b432712d31ba395c1f0b', 'message': 'S3Api: handle non-ASCII markers in v1 listings.\n\nAdded a test for S3 v1 listings that use URL encoding and have non-ASCII\ncharacters. In the process discovered that the XML schema for\nListBucketResult had a small problem: Delimiter and EncodingType needed\nto be reordered.\n\nChange-Id: Ib3124ea079a73a577b86de97657603a64b16f965\n(cherry picked from commit dade632b0fbb10ef9419f2f9bcd063f3f962dbbf)\n'}]",0,689592,d919719297e3d4759c58b432712d31ba395c1f0b,7,3,2,15343,,,0,"S3Api: handle non-ASCII markers in v1 listings.

Added a test for S3 v1 listings that use URL encoding and have non-ASCII
characters. In the process discovered that the XML schema for
ListBucketResult had a small problem: Delimiter and EncodingType needed
to be reordered.

Change-Id: Ib3124ea079a73a577b86de97657603a64b16f965
(cherry picked from commit dade632b0fbb10ef9419f2f9bcd063f3f962dbbf)
",git fetch https://review.opendev.org/openstack/swift refs/changes/92/689592/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/schema/list_bucket_result.rng', 'test/unit/common/middleware/s3api/test_bucket.py', 'doc/s3api/rnc/list_bucket_result.rnc', 'swift/common/middleware/s3api/controllers/bucket.py']",4,f4491f5abdbff8e4af0e45132e1f29e5975d335e,689592, name = quote(name.encode('utf-8')) b64encode(objects[-1]['name'].encode('utf-8')) b64encode(objects[-1]['subdir'].encode('utf-8')), name = quote(name) b64encode(objects[-1]['name'].encode('utf8')) b64encode(objects[-1]['subdir'].encode('utf8')),47,8
openstack%2Fneutron~master~I2ec953228d1d45e1d4c493c0b261901e6dbec0f7,openstack/neutron,master,I2ec953228d1d45e1d4c493c0b261901e6dbec0f7,"Log the IPTables rules if ""debug_iptables_rules""",MERGED,2019-09-12 17:18:46.000000000,2019-10-19 01:57:53.000000000,2019-10-19 01:56:23.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17499}, {'_account_id': 21798}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-09-12 17:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ae00192a9335e999bc5fac9e0a208a4a50e08de', 'message': 'Log the IPTables rules if ""debug_iptables_rules""\n\nIf the configuration flag ""debug_iptables_rules"" is enabled, the\nIPTables rules applied will be logged.\n\nSimilar to [1], when the IPTables firewall is enabled, it checks the\nstatus of the following sysctl knobs:\n\n* net.bridge.bridge-nf-call-arptables\n* net.bridge.bridge-nf-call-ip6tables\n* net.bridge.bridge-nf-call-iptables\n\nIn this case, the firewall is not enabling them but just checking the\nstatus and logging it, to make easier the debugging process.\n\n[1] https://review.opendev.org/#/c/371523/\n\nChange-Id: I2ec953228d1d45e1d4c493c0b261901e6dbec0f7\nRelated-Bug: #1843259\n'}, {'number': 2, 'created': '2019-09-13 10:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/688249116c7686b88c99720ec9340f931f88f1ea', 'message': 'Log the IPTables rules if ""debug_iptables_rules""\n\nIf the configuration flag ""debug_iptables_rules"" is enabled, the\nIPTables rules applied will be logged.\n\nSimilar to [1], when the IPTables firewall is enabled, it checks the\nstatus of the following sysctl knobs:\n\n* net.bridge.bridge-nf-call-arptables\n* net.bridge.bridge-nf-call-ip6tables\n* net.bridge.bridge-nf-call-iptables\n\nIn this case, the firewall is not enabling them but just checking the\nstatus and logging it, to make easier the debugging process.\n\n[1] https://review.opendev.org/#/c/371523/\n\nChange-Id: I2ec953228d1d45e1d4c493c0b261901e6dbec0f7\nRelated-Bug: #1843259\n'}, {'number': 3, 'created': '2019-09-15 16:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/91f7110da697acbc2eef32e5600305263cf4e4d7', 'message': 'Log the IPTables rules if ""debug_iptables_rules""\n\nIf the configuration flag ""debug_iptables_rules"" is enabled, the\nIPTables rules applied will be logged.\n\nSimilar to [1], when the IPTables firewall is enabled, it checks the\nstatus of the following sysctl knobs:\n\n* net.bridge.bridge-nf-call-arptables\n* net.bridge.bridge-nf-call-ip6tables\n* net.bridge.bridge-nf-call-iptables\n\nIn this case, the firewall is not enabling them but just checking the\nstatus and logging it, to make easier the debugging process.\n\n[1] https://review.opendev.org/#/c/371523/\n\nChange-Id: I2ec953228d1d45e1d4c493c0b261901e6dbec0f7\nRelated-Bug: #1843259\n'}, {'number': 4, 'created': '2019-09-15 19:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca2daeb6148979a1dd058e02cba958891c464cbb', 'message': 'Log the IPTables rules if ""debug_iptables_rules""\n\nIf the configuration flag ""debug_iptables_rules"" is enabled, the\nIPTables rules applied will be logged.\n\nSimilar to [1], when the IPTables firewall is enabled, it checks the\nstatus of the following sysctl knobs:\n\n* net.bridge.bridge-nf-call-arptables\n* net.bridge.bridge-nf-call-ip6tables\n* net.bridge.bridge-nf-call-iptables\n\nIn this case, the firewall is not enabling them but just checking the\nstatus and logging it, to make easier the debugging process.\n\n[1] https://review.opendev.org/#/c/371523/\n\nChange-Id: I2ec953228d1d45e1d4c493c0b261901e6dbec0f7\nRelated-Bug: #1843259\n'}, {'number': 5, 'created': '2019-09-23 09:58:51.000000000', 'files': ['neutron/agent/linux/iptables_firewall.py', 'neutron/agent/linux/iptables_manager.py', 'etc/neutron/rootwrap.d/iptables-firewall.filters', 'neutron/tests/unit/agent/linux/test_iptables_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2bb241b7a28834db0f8b9eff7a3f79c05e316a00', 'message': 'Log the IPTables rules if ""debug_iptables_rules""\n\nIf the configuration flag ""debug_iptables_rules"" is enabled, the\nIPTables rules applied will be logged.\n\nSimilar to [1], when the IPTables firewall is enabled, it checks the\nstatus of the following sysctl knobs:\n\n* net.bridge.bridge-nf-call-arptables\n* net.bridge.bridge-nf-call-ip6tables\n* net.bridge.bridge-nf-call-iptables\n\nIn this case, the firewall is not enabling them but just checking the\nstatus and logging it, to make easier the debugging process.\n\n[1] https://review.opendev.org/#/c/371523/\n\nChange-Id: I2ec953228d1d45e1d4c493c0b261901e6dbec0f7\nRelated-Bug: #1843259\n'}]",11,681846,2bb241b7a28834db0f8b9eff7a3f79c05e316a00,66,13,5,16688,,,0,"Log the IPTables rules if ""debug_iptables_rules""

If the configuration flag ""debug_iptables_rules"" is enabled, the
IPTables rules applied will be logged.

Similar to [1], when the IPTables firewall is enabled, it checks the
status of the following sysctl knobs:

* net.bridge.bridge-nf-call-arptables
* net.bridge.bridge-nf-call-ip6tables
* net.bridge.bridge-nf-call-iptables

In this case, the firewall is not enabling them but just checking the
status and logging it, to make easier the debugging process.

[1] https://review.opendev.org/#/c/371523/

Change-Id: I2ec953228d1d45e1d4c493c0b261901e6dbec0f7
Related-Bug: #1843259
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/681846/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/iptables_firewall.py', 'neutron/agent/linux/iptables_manager.py', 'etc/neutron/rootwrap.d/iptables-firewall.filters']",3,6ae00192a9335e999bc5fac9e0a208a4a50e08de,bug/1843259,"# neutron/agent/linux/iptables_firewall.py sysctl: CommandFilter, sysctl, root ",,30,0
openstack%2Fneutron-fwaas~stable%2Fqueens~If5fde4fc9475f468860b0c1fb29db66f1c44f74e,openstack/neutron-fwaas,stable/queens,If5fde4fc9475f468860b0c1fb29db66f1c44f74e,Fix AttributeError with third-party L3 service plugins,MERGED,2019-10-16 17:30:18.000000000,2019-10-19 01:49:50.000000000,2019-10-19 01:49:50.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 7016}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-16 17:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/19dd2de27f28e6e05eecc068fa28a5bb8b730b43', 'message': 'Fix AttributeError with third-party L3 service plugins\n\nA recent patch fix for the Rocky branch from\ncommit 20fd02611674da5365e93d06f330d1f76fd71e3e have introduced an\nAttributeError on Third Party Plugins that does not implement\ncertain extensions.\n\nThis is just related to FWaaSv1 and only applicable to Rocky and below\nreleases.\n\nThis change fixes an issue where in the course of sending firewall\nupdate notifications to the appropriate agents an AttributeError\nis encountered due to unsafe assumption of the availability of L3\nextensions on the l3_plugin.\n\nThis change puts protections in place to avoid this issue.\n\nChange-Id: If5fde4fc9475f468860b0c1fb29db66f1c44f74e\nCloses-Bug: #1847019\n(cherry picked from commit fc59b08ff78456c98fee0cc187f8888bc99c333e)\n'}, {'number': 2, 'created': '2019-10-17 21:12:19.000000000', 'files': ['neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin.py', 'neutron_fwaas/services/firewall/fwaas_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/4c05f1f6617b49f6cc2dfb6c976e93c2a54d41bf', 'message': 'Fix AttributeError with third-party L3 service plugins\n\nA recent patch fix for the Rocky branch from\ncommit 20fd02611674da5365e93d06f330d1f76fd71e3e have introduced an\nAttributeError on Third Party Plugins that does not implement\ncertain extensions.\n\nThis is just related to FWaaSv1 and only applicable to Rocky and below\nreleases.\n\nThis change fixes an issue where in the course of sending firewall\nupdate notifications to the appropriate agents an AttributeError\nis encountered due to unsafe assumption of the availability of L3\nextensions on the l3_plugin.\n\nThis change puts protections in place to avoid this issue.\n\nChange-Id: If5fde4fc9475f468860b0c1fb29db66f1c44f74e\nCloses-Bug: #1847019\n(cherry picked from commit fc59b08ff78456c98fee0cc187f8888bc99c333e)\n'}]",0,688988,4c05f1f6617b49f6cc2dfb6c976e93c2a54d41bf,10,5,2,7016,,,0,"Fix AttributeError with third-party L3 service plugins

A recent patch fix for the Rocky branch from
commit 20fd02611674da5365e93d06f330d1f76fd71e3e have introduced an
AttributeError on Third Party Plugins that does not implement
certain extensions.

This is just related to FWaaSv1 and only applicable to Rocky and below
releases.

This change fixes an issue where in the course of sending firewall
update notifications to the appropriate agents an AttributeError
is encountered due to unsafe assumption of the availability of L3
extensions on the l3_plugin.

This change puts protections in place to avoid this issue.

Change-Id: If5fde4fc9475f468860b0c1fb29db66f1c44f74e
Closes-Bug: #1847019
(cherry picked from commit fc59b08ff78456c98fee0cc187f8888bc99c333e)
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/88/688988/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin.py', 'neutron_fwaas/services/firewall/fwaas_plugin.py']",2,19dd2de27f28e6e05eecc068fa28a5bb8b730b43,bug/1845557-stable/queens," def _check_dvr_extensions(self, l3plugin): return ( extensions.is_extension_supported( l3plugin, nl_constants.L3_AGENT_SCHEDULER_EXT_ALIAS) and extensions.is_extension_supported( l3plugin, nl_constants.L3_DISTRIBUTED_EXT_ALIAS) and getattr(l3plugin, '_get_dvr_hosts_for_router', False)) scheduled_hosts = set() scheduled_hosts = set([a.host for a in agents]) # Now check for unscheduled DVR router on distributed compute hosts unscheduled_dvr_hosts = set() dvr_broadcast = self._check_dvr_extensions(l3_plugin) if (dvr_broadcast): if no_broadcast or dvr_broadcast: scheduled_hosts = scheduled_hosts.union(unscheduled_dvr_hosts) return scheduled_hosts", scheduled_rtr_hosts = set([a.host for a in agents]) # Now check for unscheduled DVR router on distributed compute hosts unscheduled_dvr_hosts = set() total_hosts = scheduled_rtr_hosts.union(unscheduled_dvr_hosts) return total_hosts,29,5
openstack%2Fopenstack-helm-infra~master~I964bac9e85db28c8af926158f13c99883029ac84,openstack/openstack-helm-infra,master,I964bac9e85db28c8af926158f13c99883029ac84,Prometheus fix label mismatch for netpol,MERGED,2019-10-15 22:47:56.000000000,2019-10-19 01:48:51.000000000,2019-10-19 01:47:32.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 17966}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28618}, {'_account_id': 28719}, {'_account_id': 28849}]","[{'number': 1, 'created': '2019-10-15 22:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ee6b0368d3d18206f33974c3b881feea70e80845', 'message': 'Prometheus fix label mismatch for netpol\n\nEnsures that the label selectors match the labels actually applied to\nthe pods, to allow network policies to be applied correctly.\n\nprometheus-kube-state-metrics deployment:\n    application=kube-state-metrics\n\nprometheus-process-exporter daemonset:\n    application=process_exporter\n\nChange-Id: I964bac9e85db28c8af926158f13c99883029ac84\n'}, {'number': 2, 'created': '2019-10-16 21:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/63d684ef13dfda42cfa8ef466cd134a32b6f38c8', 'message': 'Prometheus fix label mismatch for netpol\n\nEnsures that the label selectors match the labels actually applied to\nthe pods, to allow network policies to be applied correctly.\n\nprometheus-kube-state-metrics deployment:\n    application=kube-state-metrics\n\nprometheus-process-exporter daemonset:\n    application=process_exporter\n\nChange-Id: I964bac9e85db28c8af926158f13c99883029ac84\n'}, {'number': 3, 'created': '2019-10-19 00:06:09.000000000', 'files': ['prometheus-process-exporter/templates/network_policy.yaml', 'prometheus-kube-state-metrics/templates/network_policy.yaml', 'prometheus-kube-state-metrics/values.yaml', 'prometheus-process-exporter/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d607caf6e19a8fd1c6ee0de43a52da0cc892fc45', 'message': 'Prometheus fix label mismatch for netpol\n\nEnsures that the label selectors match the labels actually applied to\nthe pods, to allow network policies to be applied correctly.\n\nprometheus-kube-state-metrics deployment:\n    application=kube-state-metrics\n\nprometheus-process-exporter daemonset:\n    application=process_exporter\n\nChange-Id: I964bac9e85db28c8af926158f13c99883029ac84\n'}]",0,688830,d607caf6e19a8fd1c6ee0de43a52da0cc892fc45,17,9,3,28719,,,0,"Prometheus fix label mismatch for netpol

Ensures that the label selectors match the labels actually applied to
the pods, to allow network policies to be applied correctly.

prometheus-kube-state-metrics deployment:
    application=kube-state-metrics

prometheus-process-exporter daemonset:
    application=process_exporter

Change-Id: I964bac9e85db28c8af926158f13c99883029ac84
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/30/688830/1 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-process-exporter/templates/network_policy.yaml', 'prometheus-kube-state-metrics/templates/network_policy.yaml', 'prometheus-kube-state-metrics/values.yaml', 'prometheus-process-exporter/values.yaml']",4,ee6b0368d3d18206f33974c3b881feea70e80845,netpol, process_exporter:, prometheus_process_exporter:,4,4
openstack%2Fneutron-fwaas~stable%2Fqueens~I7ef193baba9447d0f09cd9544cce9d05a956b920,openstack/neutron-fwaas,stable/queens,I7ef193baba9447d0f09cd9544cce9d05a956b920,FWaaS-DVR: FWaaS rules not updated in DVR routers on compute host,MERGED,2019-10-04 18:26:08.000000000,2019-10-19 01:34:15.000000000,2019-10-19 01:34:15.000000000,"[{'_account_id': 1131}, {'_account_id': 6854}, {'_account_id': 7016}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 18:26:08.000000000', 'files': ['neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin.py', 'neutron_fwaas/services/firewall/fwaas_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/eab443dc098c8b50d7540274e147058cd03275c8', 'message': 'FWaaS-DVR: FWaaS rules not updated in DVR routers on compute host\n\nWhen a firewall is created after the routers have been deployed,\nwe are supposed to manually do a firewall-update on specific routers\nwhere we wanted the firewall policy to be applied in the case of\nFWaaS-v1.\nBut in the case of DVR routers, we have seen the firewall-update\nfor routers that are deployed in the compute hosts are not getting\npropagated properly.\nThe reason is the firewall update, firewall delete and firewall\ncreate events are not notified to all the respective router hosts.\nThe original code only handles getting the host information from\nthe routers that are scheduled to the l3 agent, but in the case of\nDVR routers, the routers are only scheduled to the network node l3\nagents and the other distributed routers on compute are created\nbased on the service port binding.\n\nThis bug is applicable only for FWaaS-v1 and the patch should be\napplied for Rocky release and below, since FWaaS-v1 is not supported\nin Stein and Train release.\n\nThis patch fixes the problem described above by taking care of\ncollecting all the hosts involved with DVR routers and notifying\nthem.\n\nChange-Id: I7ef193baba9447d0f09cd9544cce9d05a956b920\nCloses-Bug: #1845557\n(cherry picked from commit 20fd02611674da5365e93d06f330d1f76fd71e3e)\n'}]",0,686819,eab443dc098c8b50d7540274e147058cd03275c8,12,5,1,7016,,,0,"FWaaS-DVR: FWaaS rules not updated in DVR routers on compute host

When a firewall is created after the routers have been deployed,
we are supposed to manually do a firewall-update on specific routers
where we wanted the firewall policy to be applied in the case of
FWaaS-v1.
But in the case of DVR routers, we have seen the firewall-update
for routers that are deployed in the compute hosts are not getting
propagated properly.
The reason is the firewall update, firewall delete and firewall
create events are not notified to all the respective router hosts.
The original code only handles getting the host information from
the routers that are scheduled to the l3 agent, but in the case of
DVR routers, the routers are only scheduled to the network node l3
agents and the other distributed routers on compute are created
based on the service port binding.

This bug is applicable only for FWaaS-v1 and the patch should be
applied for Rocky release and below, since FWaaS-v1 is not supported
in Stein and Train release.

This patch fixes the problem described above by taking care of
collecting all the hosts involved with DVR routers and notifying
them.

Change-Id: I7ef193baba9447d0f09cd9544cce9d05a956b920
Closes-Bug: #1845557
(cherry picked from commit 20fd02611674da5365e93d06f330d1f76fd71e3e)
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/19/686819/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/tests/unit/services/firewall/test_fwaas_plugin.py', 'neutron_fwaas/services/firewall/fwaas_plugin.py']",2,eab443dc098c8b50d7540274e147058cd03275c8,bug/1845557-stable/queens," # This call checks for all scheduled routers to the network node scheduled_rtr_hosts = set([a.host for a in agents]) # Now check for unscheduled DVR router on distributed compute hosts unscheduled_dvr_hosts = set() for router_id in router_ids: hosts = set(l3_plugin._get_dvr_hosts_for_router( context, router_id)) unscheduled_dvr_hosts |= hosts total_hosts = scheduled_rtr_hosts.union(unscheduled_dvr_hosts) return total_hosts", return [a.host for a in agents],37,1
openstack%2Foctavia~master~I4941df3894148482c597d30f3a8db70659fd1b7a,openstack/octavia,master,I4941df3894148482c597d30f3a8db70659fd1b7a,"Revert ""Clean up requirements.txt from tox.ini""",MERGED,2019-10-18 20:55:45.000000000,2019-10-19 01:04:05.000000000,2019-10-19 01:02:47.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 10343}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-18 20:55:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/fce2cd4f4996824c5512270138cb8f237457acec', 'message': 'Revert ""Clean up requirements.txt from tox.ini""\n\nIt appears that these are required to have the upper constraints properly applied. We need to revert this change.\n\nThis reverts commit 7b8e6de1b8230e5d31ca36624e7fdfba25e3e077.\n\nChange-Id: I4941df3894148482c597d30f3a8db70659fd1b7a\n'}]",0,689588,fce2cd4f4996824c5512270138cb8f237457acec,8,6,1,11628,,,0,"Revert ""Clean up requirements.txt from tox.ini""

It appears that these are required to have the upper constraints properly applied. We need to revert this change.

This reverts commit 7b8e6de1b8230e5d31ca36624e7fdfba25e3e077.

Change-Id: I4941df3894148482c597d30f3a8db70659fd1b7a
",git fetch https://review.opendev.org/openstack/octavia refs/changes/88/689588/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fce2cd4f4996824c5512270138cb8f237457acec,tox-cleanup, -r{toxinidir}/requirements.txt -r{toxinidir}/requirements.txt -r{toxinidir}/requirements.txt -r{toxinidir}/requirements.txt,,4,0
openstack%2Fkuryr~master~I12e448999cf1c6ee6d3ad5190ae0c52e7ee7a263,openstack/kuryr,master,I12e448999cf1c6ee6d3ad5190ae0c52e7ee7a263,Update the constraints url,MERGED,2019-09-20 08:58:45.000000000,2019-10-19 01:01:37.000000000,2019-10-19 01:00:18.000000000,"[{'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27781}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-09-20 08:58:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/a2bde50b12edc0e74fa31a8164a3d83877f3dcee', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I12e448999cf1c6ee6d3ad5190ae0c52e7ee7a263\n'}]",0,683325,a2bde50b12edc0e74fa31a8164a3d83877f3dcee,12,7,1,27822,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I12e448999cf1c6ee6d3ad5190ae0c52e7ee7a263
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/25/683325/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a2bde50b12edc0e74fa31a8164a3d83877f3dcee,constraints, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},1,1
openstack%2Fkeystone~stable%2Fqueens~Ib9e161411f0985785eec46c51d721ef7421ee090,openstack/keystone,stable/queens,Ib9e161411f0985785eec46c51d721ef7421ee090,Add retry for DBDeadlock in credential delete,MERGED,2019-09-06 04:38:12.000000000,2019-10-19 00:51:09.000000000,2019-10-19 00:49:17.000000000,"[{'_account_id': 5046}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-06 04:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e440ae0e0f513179384f99a5012ee8c17c328c5a', 'message': 'Add retry for DBDeadlock in credential delete\n\nAdds oslo.db retry wrapper to delete_credential_for_user method.\n\nChange-Id: Ib9e161411f0985785eec46c51d721ef7421ee090\nCloses-Bug: #1840291\n(cherry picked from commit e989bd0637629b0fb15976186b0941fec0f13b25)\n'}, {'number': 2, 'created': '2019-09-09 03:32:11.000000000', 'files': ['keystone/credential/backends/sql.py', 'releasenotes/notes/bug-1840291-35af1ac7ba06e166.yaml', 'keystone/tests/unit/test_v3_credential.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/686d52930bd1d9f10bcad265f2282ebe2055fd93', 'message': 'Add retry for DBDeadlock in credential delete\n\nAdds oslo.db retry wrapper to delete_credential_for_user method.\n\nChange-Id: Ib9e161411f0985785eec46c51d721ef7421ee090\nCloses-Bug: #1840291\n(cherry picked from commit e989bd0637629b0fb15976186b0941fec0f13b25)\n'}]",0,680572,686d52930bd1d9f10bcad265f2282ebe2055fd93,11,3,2,8833,,,0,"Add retry for DBDeadlock in credential delete

Adds oslo.db retry wrapper to delete_credential_for_user method.

Change-Id: Ib9e161411f0985785eec46c51d721ef7421ee090
Closes-Bug: #1840291
(cherry picked from commit e989bd0637629b0fb15976186b0941fec0f13b25)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/72/680572/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/credential/backends/sql.py', 'keystone/tests/unit/test_v3_credential.py', 'releasenotes/notes/bug-1840291-35af1ac7ba06e166.yaml']",3,e440ae0e0f513179384f99a5012ee8c17c328c5a,,--- fixes: - | [`bug 1840291 <https://bugs.launchpad.net/keystone/+bug/1840291>`_] Adds retries for ``delete_credential_for_user`` method to avoid DBDeadlocks when deleting large number of credentials concurrently. ,,43,0
openstack%2Fneutron~stable%2Ftrain~I93f35eade6aa081160902d9d47278123815c04d1,openstack/neutron,stable/train,I93f35eade6aa081160902d9d47278123815c04d1,Handle ports assigned to routers without routerports,MERGED,2019-10-15 09:11:23.000000000,2019-10-19 00:51:00.000000000,2019-10-19 00:49:15.000000000,"[{'_account_id': 1131}, {'_account_id': 7016}, {'_account_id': 9732}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-15 09:11:23.000000000', 'files': ['neutron/db/l3_db.py', 'neutron/objects/ports.py', 'neutron/tests/unit/db/test_l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e5650d19bf6ccb87dd7a4c67153a23cca70b3ab3', 'message': 'Handle ports assigned to routers without routerports\n\nIn the case of having a port attached to a router but the routerport\nregister is missing (as seen in the bug reported), this patch retrieves\nthe full list of ports attached to a router, filtering by router ID\nand network ID or port ID. In case of having a port attached to this\nrouter with missing routerport register, a warning message is logged.\n\nCloses-Bug: #1842937\n\nChange-Id: I93f35eade6aa081160902d9d47278123815c04d1\n(cherry picked from commit c952b5960001faf98186b630fde75deafe5a7b8f)\n'}]",0,688657,e5650d19bf6ccb87dd7a4c67153a23cca70b3ab3,35,7,1,16688,,,0,"Handle ports assigned to routers without routerports

In the case of having a port attached to a router but the routerport
register is missing (as seen in the bug reported), this patch retrieves
the full list of ports attached to a router, filtering by router ID
and network ID or port ID. In case of having a port attached to this
router with missing routerport register, a warning message is logged.

Closes-Bug: #1842937

Change-Id: I93f35eade6aa081160902d9d47278123815c04d1
(cherry picked from commit c952b5960001faf98186b630fde75deafe5a7b8f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/57/688657/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_db.py', 'neutron/objects/ports.py', 'neutron/tests/unit/db/test_l3_db.py']",3,e5650d19bf6ccb87dd7a4c67153a23cca70b3ab3,bug/1842937-stable/train,"from neutron_lib.plugins import constants as plugin_constantsfrom neutron.objects import network as network_obj from neutron.objects import ports as port_objfrom neutron.objects import subnet as subnet_objfrom neutron.tests.unit.db import test_db_base_plugin_v2 class FakeL3Plugin(l3_db.L3_NAT_dbonly_mixin): pass class L3TestCase(test_db_base_plugin_v2.NeutronDbPluginV2TestCase): GET_PORTS_BY_ROUTER_MSG = ( 'The following ports, assigned to router %(router_id)s, do not have a ' '""routerport"" register: %(port_ids)s') def setUp(self, *args, **kwargs): super(L3TestCase, self).setUp(plugin='ml2') self.core_plugin = directory.get_plugin() self.ctx = context.get_admin_context() self.mixin = FakeL3Plugin() directory.add_plugin(plugin_constants.L3, self.mixin) self.network = self.create_network() self.subnets = [] self.subnets.append(self.create_subnet(self.network, '1.1.1.1', '1.1.1.0/24')) self.subnets.append(self.create_subnet(self.network, '1.1.2.1', '1.1.2.0/24')) router = {'router': {'name': 'foo_router', 'admin_state_up': True, 'tenant_id': 'foo_tenant'}} self.router = self.create_router(router) self.ports = [] for subnet in self.subnets: ipa = str(netaddr.IPNetwork(subnet['subnet']['cidr']).ip + 10) fixed_ips = [{'subnet_id': subnet['subnet']['id'], 'ip_address': ipa}] self.ports.append(self.create_port( self.network['network']['id'], {'fixed_ips': fixed_ips})) self.addCleanup(self._clean_objs) def _clean_objs(self): port_obj.Port.delete_objects( self.ctx, network_id=self.network['network']['id']) subnet_obj.Subnet.delete_objects( self.ctx, network_id=self.network['network']['id']) network_obj.Network.get_object( self.ctx, id=self.network['network']['id']).delete() l3_obj.Router.get_object(self.ctx, id=self.router['id']).delete() def create_router(self, router): with self.ctx.session.begin(subtransactions=True): return self.mixin.create_router(self.ctx, router) def create_port(self, net_id, port_info): with self.ctx.session.begin(subtransactions=True): return self._make_port(self.fmt, net_id, **port_info) def create_network(self, name=None, **kwargs): name = name or 'network1' with self.ctx.session.begin(subtransactions=True): return self._make_network(self.fmt, name, True, **kwargs) def create_subnet(self, network, gateway, cidr, **kwargs): with self.ctx.session.begin(subtransactions=True): return self._make_subnet(self.fmt, network, gateway, cidr, **kwargs) def _add_router_interfaces(self): return [self.mixin.add_router_interface( self.ctx, self.router['id'], interface_info={'port_id': port['port']['id']}) for port in self.ports] def _check_routerports(self, ri_statuses): port_ids = [] for idx, ri_status in enumerate(ri_statuses): rp_obj = l3_obj.RouterPort.get_object( self.ctx, port_id=self.ports[idx]['port']['id'], router_id=self.router['id']) if ri_status: self.assertEqual(self.ports[idx]['port']['id'], rp_obj.port_id) port_ids.append(rp_obj.port_id) else: self.assertIsNone(rp_obj) _router_obj = l3_obj.Router.get_object(self.ctx, id=self.router['id']) router_port_ids = [rp.port_id for rp in _router_obj.db_obj.attached_ports] self.assertEqual(sorted(port_ids), sorted(router_port_ids)) @mock.patch.object(port_obj, 'LOG') def test_remove_router_interface_by_port(self, mock_log): self._add_router_interfaces() self._check_routerports((True, True)) interface_info = {'port_id': self.ports[0]['port']['id']} self.mixin.remove_router_interface(self.ctx, self.router['id'], interface_info) mock_log.warning.assert_not_called() self._check_routerports((False, True)) @mock.patch.object(port_obj, 'LOG') def test_remove_router_interface_by_port_removed_rport(self, mock_log): self._add_router_interfaces() self._check_routerports((True, True)) rp_obj = l3_obj.RouterPort.get_object( self.ctx, router_id=self.router['id'], port_id=self.ports[0]['port']['id']) rp_obj.delete() interface_info = {'port_id': self.ports[0]['port']['id']} self.mixin.remove_router_interface(self.ctx, self.router['id'], interface_info) msg_vars = {'router_id': self.router['id'], 'port_ids': {self.ports[0]['port']['id']}} mock_log.warning.assert_called_once_with(self.GET_PORTS_BY_ROUTER_MSG, msg_vars) self._check_routerports((False, True)) @mock.patch.object(port_obj, 'LOG') def test_remove_router_interface_by_subnet(self, mock_log): self._add_router_interfaces() self._check_routerports((True, True)) interface_info = {'subnet_id': self.subnets[1]['subnet']['id']} self.mixin.remove_router_interface(self.ctx, self.router['id'], interface_info) mock_log.warning.not_called_once() self._check_routerports((True, False)) @mock.patch.object(port_obj, 'LOG') def test_remove_router_interface_by_subnet_removed_rport(self, mock_log): self._add_router_interfaces() self._check_routerports((True, True)) rp_obj = l3_obj.RouterPort.get_object( self.ctx, router_id=self.router['id'], port_id=self.ports[0]['port']['id']) rp_obj.delete() interface_info = {'subnet_id': self.subnets[0]['subnet']['id']} self.mixin.remove_router_interface(self.ctx, self.router['id'], interface_info) msg_vars = {'router_id': self.router['id'], 'port_ids': {self.ports[0]['port']['id']}} mock_log.warning.assert_called_once_with(self.GET_PORTS_BY_ROUTER_MSG, msg_vars) self._check_routerports((False, True))",,240,53
openstack%2Fswift~stable%2Fstein~I51889d7b19370ceaa66168103cb31d27a8ee3a4a,openstack/swift,stable/stein,I51889d7b19370ceaa66168103cb31d27a8ee3a4a,Fix incorrect setting of symlink_target_account,MERGED,2019-10-18 20:54:37.000000000,2019-10-19 00:50:57.000000000,2019-10-19 00:49:22.000000000,"[{'_account_id': 396}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 20:54:37.000000000', 'files': ['swift/common/middleware/symlink.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/01c48bc6c3f2c4c44e518e70132e3de769b0f082', 'message': 'Fix incorrect setting of symlink_target_account\n\nThe value of the symlink_target_account in etag override. It was previously\nbeing set to the object value, rather than the account value.\n\nChange-Id: I51889d7b19370ceaa66168103cb31d27a8ee3a4a\nCloses-Bug: #1829085\n(cherry picked from commit e28bc3c292a3c6fba67ba5f4c92068686994184f)\n'}]",0,689587,01c48bc6c3f2c4c44e518e70132e3de769b0f082,9,3,1,15343,,,0,"Fix incorrect setting of symlink_target_account

The value of the symlink_target_account in etag override. It was previously
being set to the object value, rather than the account value.

Change-Id: I51889d7b19370ceaa66168103cb31d27a8ee3a4a
Closes-Bug: #1829085
(cherry picked from commit e28bc3c292a3c6fba67ba5f4c92068686994184f)
",git fetch https://review.opendev.org/openstack/swift refs/changes/87/689587/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/symlink.py'],1,01c48bc6c3f2c4c44e518e70132e3de769b0f082,bug/1829085, req.headers[TGT_ACCT_SYSMETA_SYMLINK_HDR]), req.headers[TGT_OBJ_SYSMETA_SYMLINK_HDR]),1,1
openstack%2Fmanila~stable%2Fstein~Iea92feaf5894c10674d2ec4c1a4d7b0191e6d5b4,openstack/manila,stable/stein,Iea92feaf5894c10674d2ec4c1a4d7b0191e6d5b4,[NetApp] Allow extension/shrinking of NetApp replicated share,MERGED,2019-10-17 11:55:39.000000000,2019-10-19 00:50:52.000000000,2019-10-19 00:49:30.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29831}]","[{'number': 1, 'created': '2019-10-17 11:55:39.000000000', 'files': ['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'releasenotes/notes/bug-1700871-ontap-allow-extend-of-replicated-share-2c9709180d954308.yaml', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/5255ca20fb2aff3b2548475d4b7914dc02eb8bbf', 'message': '[NetApp] Allow extension/shrinking of NetApp replicated share\n\nThe NetApp ONTAP driver is now fixed to allow extension\nand shrinking of share replicas after they get promoted.\n\nChange-Id: Iea92feaf5894c10674d2ec4c1a4d7b0191e6d5b4\nCloses-Bug: #1700871\n(cherry picked from commit 75f108b0aee630b54a44d0c27467a85fd8a6af3a)\n(cherry picked from commit e38c8b508ff0cd1f5ea81a0f566fd83fb0b069ce)\n'}]",0,689137,5255ca20fb2aff3b2548475d4b7914dc02eb8bbf,10,6,1,30002,,,0,"[NetApp] Allow extension/shrinking of NetApp replicated share

The NetApp ONTAP driver is now fixed to allow extension
and shrinking of share replicas after they get promoted.

Change-Id: Iea92feaf5894c10674d2ec4c1a4d7b0191e6d5b4
Closes-Bug: #1700871
(cherry picked from commit 75f108b0aee630b54a44d0c27467a85fd8a6af3a)
(cherry picked from commit e38c8b508ff0cd1f5ea81a0f566fd83fb0b069ce)
",git fetch https://review.opendev.org/openstack/manila refs/changes/37/689137/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'releasenotes/notes/bug-1700871-ontap-allow-extend-of-replicated-share-2c9709180d954308.yaml', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py']",4,5255ca20fb2aff3b2548475d4b7914dc02eb8bbf,bug/1700871-stable/train-stable/stein," def set_volume_filesys_size_fixed(self, volume_name, filesys_size_fixed=False): """"""Set volume file system size fixed to true/false."""""" api_args = { 'query': { 'volume-attributes': { 'volume-id-attributes': { 'name': volume_name, }, }, }, 'attributes': { 'volume-attributes': { 'volume-space-attributes': { 'is-filesys-size-fixed': six.text_type( filesys_size_fixed).lower(), }, }, }, } result = self.send_request('volume-modify-iter', api_args) failures = result.get_child_content('num-failed') if failures and int(failures) > 0: failure_list = result.get_child_by_name( 'failure-list') or netapp_api.NaElement('none') errors = failure_list.get_children() if errors: raise netapp_api.NaApiError( errors[0].get_child_content('error-code'), errors[0].get_child_content('error-message')) @na_utils.trace",,76,0
openstack%2Fneutron-fwaas~master~I5af5a8109a213e7f7e7cff9fa5e0a1bb637450f9,openstack/neutron-fwaas,master,I5af5a8109a213e7f7e7cff9fa5e0a1bb637450f9,Switch to official Ussuri jobs,MERGED,2019-10-15 02:14:18.000000000,2019-10-19 00:50:31.000000000,2019-10-19 00:47:35.000000000,"[{'_account_id': 1131}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-10-15 02:14:18.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/b76709009155131b933b2adc7608165413572d71', 'message': 'Switch to official Ussuri jobs\n\nChange-Id: I5af5a8109a213e7f7e7cff9fa5e0a1bb637450f9\n'}]",0,688602,b76709009155131b933b2adc7608165413572d71,9,4,1,22165,,,0,"Switch to official Ussuri jobs

Change-Id: I5af5a8109a213e7f7e7cff9fa5e0a1bb637450f9
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/02/688602/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b76709009155131b933b2adc7608165413572d71,, - openstack-python3-ussuri-jobs-neutron, - openstack-python3-train-jobs-neutron,1,1
openstack%2Fnetworking-odl~stable%2Frocky~I782a89d493f4bcea4118a5d2625b2629bed0b69f,openstack/networking-odl,stable/rocky,I782a89d493f4bcea4118a5d2625b2629bed0b69f,[rocky-only] Constrain l2gw to Rocky version,MERGED,2019-10-12 07:38:15.000000000,2019-10-19 00:28:29.000000000,2019-10-19 00:27:14.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-12 07:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/46ad0cafd0b3d00fc555ff851640090fd37b3520', 'message': ""[rocky-only] Constrain l2gw to Rocky version\n\nSince Train version of l2gw (15.0.0) was released, which requires newer\nneuton-lib (1.29.0) than the version in upper-constaints.txt (1.18.0)\nin rocky, the CI jobs started to fail with:\n\nContextualVersionConflict: (neutron-lib 1.18.0 (/home/zuul/src/opendev.org/openstack/networking-odl/.tox/py27/lib/python2.7/site-packages), Requirement.parse('neutron-lib>=1.29.0'), set(['networking-l2gw']))\n\nChange-Id: I782a89d493f4bcea4118a5d2625b2629bed0b69f\n""}, {'number': 2, 'created': '2019-10-12 08:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/ea2be47fda11c6cf4748310b4b9091fe0c4e7e94', 'message': ""[rocky-only] Constrain l2gw to Rocky version\n\nSince Train version of l2gw (15.0.0) was released, which requires newer\nneuton-lib (1.29.0) than the version in upper-constaints.txt (1.18.0)\nin rocky, the CI jobs started to fail with:\n\nContextualVersionConflict: (neutron-lib 1.18.0 (/home/zuul/src/opendev.org/openstack/networking-odl/.tox/py27/lib/python2.7/site-packages), Requirement.parse('neutron-lib>=1.29.0'), set(['networking-l2gw']))\n\nSphinx requirement needs to be updated to pass requirements-check job.\n\nChange-Id: I782a89d493f4bcea4118a5d2625b2629bed0b69f\n""}, {'number': 3, 'created': '2019-10-14 14:57:29.000000000', 'files': ['requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9ef63ea47bf64150878920444fb059349af5fef0', 'message': ""[rocky-only] Constrain l2gw to Rocky version\n\nSince Train version of l2gw (15.0.0) was released, which requires newer\nneutron-lib (1.29.0) than the version in upper-constraints.txt (1.18.0)\nin rocky, the CI jobs started to fail with:\n\nContextualVersionConflict: (neutron-lib 1.18.0 (/home/zuul/src/opendev.org/openstack/networking-odl/.tox/py27/lib/python2.7/site-packages), Requirement.parse('neutron-lib>=1.29.0'), set(['networking-l2gw']))\n\nSphinx requirement needs to be updated to pass requirements-check job.\n\nChange-Id: I782a89d493f4bcea4118a5d2625b2629bed0b69f\n""}]",0,688252,9ef63ea47bf64150878920444fb059349af5fef0,13,6,3,17685,,,0,"[rocky-only] Constrain l2gw to Rocky version

Since Train version of l2gw (15.0.0) was released, which requires newer
neutron-lib (1.29.0) than the version in upper-constraints.txt (1.18.0)
in rocky, the CI jobs started to fail with:

ContextualVersionConflict: (neutron-lib 1.18.0 (/home/zuul/src/opendev.org/openstack/networking-odl/.tox/py27/lib/python2.7/site-packages), Requirement.parse('neutron-lib>=1.29.0'), set(['networking-l2gw']))

Sphinx requirement needs to be updated to pass requirements-check job.

Change-Id: I782a89d493f4bcea4118a5d2625b2629bed0b69f
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/52/688252/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,46ad0cafd0b3d00fc555ff851640090fd37b3520,,"networking-l2gw>=12.0.0,<14.0.0 # Apache-2.0",networking-l2gw>=12.0.0 # Apache-2.0,1,1
openstack%2Fkeystone~stable%2Fpike~Ie0b9f13d6fb06b776d6a58d5d1087c20df8a7cda,openstack/keystone,stable/pike,Ie0b9f13d6fb06b776d6a58d5d1087c20df8a7cda,Import LDAP job into project,MERGED,2019-10-15 17:29:54.000000000,2019-10-19 00:13:17.000000000,2019-10-19 00:13:17.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-15 17:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/45ef2b6700a640ec3a6350503d53587979d9e0a1', 'message': 'Import LDAP job into project\n\nImport the legacy-tempest-dsvm-ldap-domain-specific-driver job[1] into the\nkeystone repo and convert it to be Zuulv3 native.\n\n[1] https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/playbooks/legacy/tempest-dsvm-ldap-domain-specific-driver\n\nChange-Id: Ie0b9f13d6fb06b776d6a58d5d1087c20df8a7cda\nNeeded-by: https://review.opendev.org/687444\n(cherry picked from commit 52ab0cf579445190483f3a6f0e3aa5db0a9ebdef)\n(cherry picked from commit 0f6c6061b3026dc7a33bffad20848ebd3341af4b)\n(cherry picked from commit 429923fbb3be7229b0c6c1b6136b230d86672bcf)\n(cherry picked from commit 2f7155065456a3142ea05317dd82b370c70a7fdf)\n(cherry picked from commit 8b8a8f2c54820e13403746784843df017812896f)\n'}, {'number': 2, 'created': '2019-10-17 21:36:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/5ba1b6ace597e9ce5fd25edac874c73abfabf743', 'message': ""Import LDAP job into project\n\nImport the legacy-tempest-dsvm-ldap-domain-specific-driver job[1] into the\nkeystone repo and convert it to be Zuulv3 native.\n\nThis cherry-pick removes the explicit use of python3 since it doesn't\nquite work on this old of a branch.\n\n[1] https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/playbooks/legacy/tempest-dsvm-ldap-domain-specific-driver\n\nChange-Id: Ie0b9f13d6fb06b776d6a58d5d1087c20df8a7cda\nNeeded-by: https://review.opendev.org/687444\n(cherry picked from commit 52ab0cf579445190483f3a6f0e3aa5db0a9ebdef)\n(cherry picked from commit 0f6c6061b3026dc7a33bffad20848ebd3341af4b)\n(cherry picked from commit 429923fbb3be7229b0c6c1b6136b230d86672bcf)\n(cherry picked from commit 2f7155065456a3142ea05317dd82b370c70a7fdf)\n(cherry picked from commit 8b8a8f2c54820e13403746784843df017812896f)\n""}]",0,688759,5ba1b6ace597e9ce5fd25edac874c73abfabf743,14,4,2,8482,,,0,"Import LDAP job into project

Import the legacy-tempest-dsvm-ldap-domain-specific-driver job[1] into the
keystone repo and convert it to be Zuulv3 native.

This cherry-pick removes the explicit use of python3 since it doesn't
quite work on this old of a branch.

[1] https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/playbooks/legacy/tempest-dsvm-ldap-domain-specific-driver

Change-Id: Ie0b9f13d6fb06b776d6a58d5d1087c20df8a7cda
Needed-by: https://review.opendev.org/687444
(cherry picked from commit 52ab0cf579445190483f3a6f0e3aa5db0a9ebdef)
(cherry picked from commit 0f6c6061b3026dc7a33bffad20848ebd3341af4b)
(cherry picked from commit 429923fbb3be7229b0c6c1b6136b230d86672bcf)
(cherry picked from commit 2f7155065456a3142ea05317dd82b370c70a7fdf)
(cherry picked from commit 8b8a8f2c54820e13403746784843df017812896f)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/59/688759/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,45ef2b6700a640ec3a6350503d53587979d9e0a1,ldap-zuulv3-stable/pike,- job: name: keystone-dsvm-ldap-domain-specific-driver parent: devstack-tempest vars: devstack_localrc: KEYSTONE_CLEAR_LDAP: 'yes' LDAP_PASSWORD: 'nomoresecret' USE_PYTHON3: True devstack_services: ldap: true - keystone-dsvm-ldap-domain-specific-driver:, - legacy-tempest-dsvm-ldap-domain-specific-driver:,12,1
openstack%2Fmanila~stable%2Ftrain~Iea92feaf5894c10674d2ec4c1a4d7b0191e6d5b4,openstack/manila,stable/train,Iea92feaf5894c10674d2ec4c1a4d7b0191e6d5b4,[NetApp] Allow extension/shrinking of NetApp replicated share,MERGED,2019-10-11 17:02:02.000000000,2019-10-18 23:35:50.000000000,2019-10-16 15:24:58.000000000,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29831}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-10-11 17:02:02.000000000', 'files': ['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'releasenotes/notes/bug-1700871-ontap-allow-extend-of-replicated-share-2c9709180d954308.yaml', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/e38c8b508ff0cd1f5ea81a0f566fd83fb0b069ce', 'message': '[NetApp] Allow extension/shrinking of NetApp replicated share\n\nThe NetApp ONTAP driver is now fixed to allow extension\nand shrinking of share replicas after they get promoted.\n\nChange-Id: Iea92feaf5894c10674d2ec4c1a4d7b0191e6d5b4\nCloses-Bug: #1700871\n(cherry picked from commit 75f108b0aee630b54a44d0c27467a85fd8a6af3a)\n'}]",0,688176,e38c8b508ff0cd1f5ea81a0f566fd83fb0b069ce,18,6,1,30002,,,0,"[NetApp] Allow extension/shrinking of NetApp replicated share

The NetApp ONTAP driver is now fixed to allow extension
and shrinking of share replicas after they get promoted.

Change-Id: Iea92feaf5894c10674d2ec4c1a4d7b0191e6d5b4
Closes-Bug: #1700871
(cherry picked from commit 75f108b0aee630b54a44d0c27467a85fd8a6af3a)
",git fetch https://review.opendev.org/openstack/manila refs/changes/76/688176/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'releasenotes/notes/bug-1700871-ontap-allow-extend-of-replicated-share-2c9709180d954308.yaml', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py']",4,e38c8b508ff0cd1f5ea81a0f566fd83fb0b069ce,bug/1700871-stable/train," def set_volume_filesys_size_fixed(self, volume_name, filesys_size_fixed=False): """"""Set volume file system size fixed to true/false."""""" api_args = { 'query': { 'volume-attributes': { 'volume-id-attributes': { 'name': volume_name, }, }, }, 'attributes': { 'volume-attributes': { 'volume-space-attributes': { 'is-filesys-size-fixed': six.text_type( filesys_size_fixed).lower(), }, }, }, } result = self.send_request('volume-modify-iter', api_args) failures = result.get_child_content('num-failed') if failures and int(failures) > 0: failure_list = result.get_child_by_name( 'failure-list') or netapp_api.NaElement('none') errors = failure_list.get_children() if errors: raise netapp_api.NaApiError( errors[0].get_child_content('error-code'), errors[0].get_child_content('error-message')) @na_utils.trace",,76,0
openstack%2Fmanila~stable%2Fstein~I0c8468c72e15c1d27f5cdfa50cfc379a9207c5f1,openstack/manila,stable/stein,I0c8468c72e15c1d27f5cdfa50cfc379a9207c5f1,[NetApp] Fix race condition issues on vserver deletion,MERGED,2019-06-24 18:50:08.000000000,2019-10-18 23:33:01.000000000,2019-06-27 13:33:24.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 29631}, {'_account_id': 30002}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-24 18:50:08.000000000', 'files': ['manila/share/drivers/netapp/dataontap/cluster_mode/lib_multi_svm.py', 'releasenotes/notes/bug-1831092-netapp-fix-race-condition-524555133aaa6ca8.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_multi_svm.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/49a86d743e5e76513f342250189e9ee3fd1571d4', 'message': '[NetApp] Fix race condition issues on vserver deletion\n\nThis patch updates the NetApp driver handling with an issue that\nhappens when the driver tries to delete the vserver, during a\nrollback operation inside the vserver creation method.\n\nChange-Id: I0c8468c72e15c1d27f5cdfa50cfc379a9207c5f1\nCloses-bug: #1831092\n(cherry picked from commit 4fbf1a2d9ddfd2bb48deaaa264a1dad1aced5370)\n'}]",0,667179,49a86d743e5e76513f342250189e9ee3fd1571d4,18,9,1,30002,,,0,"[NetApp] Fix race condition issues on vserver deletion

This patch updates the NetApp driver handling with an issue that
happens when the driver tries to delete the vserver, during a
rollback operation inside the vserver creation method.

Change-Id: I0c8468c72e15c1d27f5cdfa50cfc379a9207c5f1
Closes-bug: #1831092
(cherry picked from commit 4fbf1a2d9ddfd2bb48deaaa264a1dad1aced5370)
",git fetch https://review.opendev.org/openstack/manila refs/changes/79/667179/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_multi_svm.py', 'releasenotes/notes/bug-1831092-netapp-fix-race-condition-524555133aaa6ca8.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_multi_svm.py']",3,49a86d743e5e76513f342250189e9ee3fd1571d4,bug/1831092-stable/stein," needs_lock=False,",,21,5
openstack%2Frpm-packaging~stable%2Ftrain~I5421360507bfd5d8f309d50e7a04cee6595b17b0,openstack/rpm-packaging,stable/train,I5421360507bfd5d8f309d50e7a04cee6595b17b0,openstacksdk: Fix suse_version detection for mkisofs,MERGED,2019-10-10 06:05:57.000000000,2019-10-18 23:32:10.000000000,2019-10-18 23:32:10.000000000,"[{'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-10 06:05:57.000000000', 'files': ['openstack/openstacksdk/openstacksdk.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7ddfa181d30183e23e7cef6b50645f4a09bced37', 'message': 'openstacksdk: Fix suse_version detection for mkisofs\n\nCurrently on openSUSE Tumbleweed, the build for packages which\nBuildRequires openstacksdk fails with:\n\nNothing provides genisoimage\n\nChange-Id: I5421360507bfd5d8f309d50e7a04cee6595b17b0\n'}]",0,687779,7ddfa181d30183e23e7cef6b50645f4a09bced37,11,5,1,7102,,,0,"openstacksdk: Fix suse_version detection for mkisofs

Currently on openSUSE Tumbleweed, the build for packages which
BuildRequires openstacksdk fails with:

Nothing provides genisoimage

Change-Id: I5421360507bfd5d8f309d50e7a04cee6595b17b0
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/79/687779/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstacksdk/openstacksdk.spec.j2'],1,7ddfa181d30183e23e7cef6b50645f4a09bced37,,%if 0%{?sle_version} >= 150000 || 0%{?suse_version} > 1500,%if 0%{?sle_version} >= 150000,1,1
openstack%2Fdesignate~master~Id67fbb9adee7593a03475f3bbabbb15d9a9cd4bd,openstack/designate,master,Id67fbb9adee7593a03475f3bbabbb15d9a9cd4bd,fix Secondary zone can not xfr,MERGED,2019-09-26 02:21:15.000000000,2019-10-18 23:28:38.000000000,2019-10-18 23:27:21.000000000,"[{'_account_id': 15736}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 30380}]","[{'number': 1, 'created': '2019-09-26 02:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/592cde6d4c6b7fbcc55b1aba16969d288d8b00da', 'message': 'fix Secondary zone can not xfr\n\n``DesignateObject update`` method not judged whether the value\nhas changed, but directly override. ``zone name`` will be marked\nas changed. But central api not allow update name. zone will be\nPENDING for a long time and will eventually become ERROR.\n\nChange-Id: Id67fbb9adee7593a03475f3bbabbb15d9a9cd4bd\n'}, {'number': 2, 'created': '2019-09-26 08:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d6155d229c98882b449e5fd13c30774855cf1b20', 'message': 'fix Secondary zone can not xfr\n\n``DesignateObject update`` method not judged whether the value\nhas changed, but directly override. ``zone name`` will be marked\nas changed. But central api not allow update name. zone will be\nPENDING for a long time and will eventually become ERROR.\n\nChange-Id: Id67fbb9adee7593a03475f3bbabbb15d9a9cd4bd\n'}, {'number': 3, 'created': '2019-09-26 09:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4f0f5a5fef61f1206b2ddbdd08de362591941f77', 'message': 'fix Secondary zone can not xfr\n\n``DesignateObject update`` method not judged whether the value\nhas changed, but directly override. ``zone name`` will be marked\nas changed. But central api not allow update name. zone will be\nPENDING for a long time and will eventually become ERROR.\n\nChange-Id: Id67fbb9adee7593a03475f3bbabbb15d9a9cd4bd\n'}, {'number': 4, 'created': '2019-10-03 07:37:43.000000000', 'files': ['designate/mdns/xfr.py', 'designate/tests/unit/mdns/test_xfr.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/2f86440507a05fab7bebefac2c17999c3f78b945', 'message': 'fix Secondary zone can not xfr\n\n``DesignateObject update`` method not judged whether the value\nhas changed, but directly override. ``zone name`` will be marked\nas changed. But central api not allow update name. zone will be\nPENDING for a long time and will eventually become ERROR.\n\nChange-Id: Id67fbb9adee7593a03475f3bbabbb15d9a9cd4bd\n'}]",2,684875,2f86440507a05fab7bebefac2c17999c3f78b945,19,4,4,30380,,,0,"fix Secondary zone can not xfr

``DesignateObject update`` method not judged whether the value
has changed, but directly override. ``zone name`` will be marked
as changed. But central api not allow update name. zone will be
PENDING for a long time and will eventually become ERROR.

Change-Id: Id67fbb9adee7593a03475f3bbabbb15d9a9cd4bd
",git fetch https://review.opendev.org/openstack/designate refs/changes/75/684875/3 && git format-patch -1 --stdout FETCH_HEAD,['designate/mdns/xfr.py'],1,592cde6d4c6b7fbcc55b1aba16969d288d8b00da,," """""" ``DesignateObject update`` method not judged whether the value has changed, but directly override. ``zone name`` will be marked as changed. But central api not allow update name. zone will be PENDING for a long time and will eventually become ERROR. """""" zone.obj_reset_changes([""name""])",,7,1
openstack%2Fmanila~stable%2Fstein~Ia85736693d7f536766e0e0980f88805c61aa8325,openstack/manila,stable/stein,Ia85736693d7f536766e0e0980f88805c61aa8325,Adding documentation for User Messages in Manila Documentation,MERGED,2019-06-27 01:11:34.000000000,2019-10-18 23:26:25.000000000,2019-06-27 02:42:19.000000000,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}]","[{'number': 1, 'created': '2019-06-27 01:11:34.000000000', 'files': ['doc/source/cli/manila.rst', 'doc/source/user/index.rst', 'doc/source/user/troubleshooting-asynchronous-failures.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/bf829be9999c97acd260bbc16aa4e6a921637886', 'message': 'Adding documentation for User Messages in Manila Documentation\n\n-Reference to the User Messages CLI usage at:\nhttps://docs.openstack.org/manila/latest/cli/manila.html\nhttps://docs.openstack.org/manila/latest/user/create-and-manage-shares.\n\nCloses-Bug: #1796986\nChange-Id: Ia85736693d7f536766e0e0980f88805c61aa8325\n(cherry picked from commit 84e7f4e5426fcee5941b8e4cb6d53040be8cd0ee)\n'}]",0,667764,bf829be9999c97acd260bbc16aa4e6a921637886,10,4,1,29958,,,0,"Adding documentation for User Messages in Manila Documentation

-Reference to the User Messages CLI usage at:
https://docs.openstack.org/manila/latest/cli/manila.html
https://docs.openstack.org/manila/latest/user/create-and-manage-shares.

Closes-Bug: #1796986
Change-Id: Ia85736693d7f536766e0e0980f88805c61aa8325
(cherry picked from commit 84e7f4e5426fcee5941b8e4cb6d53040be8cd0ee)
",git fetch https://review.opendev.org/openstack/manila refs/changes/64/667764/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/cli/manila.rst', 'doc/source/user/index.rst', 'doc/source/user/troubleshooting-asynchronous-failures.rst']",3,bf829be9999c97acd260bbc16aa4e6a921637886,bug/1796986-stable/stein,"===================================== Troubleshooting asynchronous failures ===================================== The Shared File Systems service performs many user actions asynchronously. For example, when a new share is created, the request is immediately acknowledged with a response containing the metadata of the share. Users can then query the resource and check the ``status`` attribute of the share. Usually an ``...ing`` status indicates that actions are performed asynchronously. For example, a new share's ``status`` attribute is set to ``creating`` by the service. If these asynchronous operations fail, the resource's status will be set to ``error``. More information about the error can be obtained with the help of the CLI client. Scenario ~~~~~~~~ In this example, the user wants to create a share to host software libraries on several virtual machines. The example deliberately introduces two share creation failures to illustrate how to use the command line to retrieve user support messages. #. In order to create a share, you need to specify the share type that meets your requirements. Cloud administrators create share types; see these available share types: .. code-block:: console clouduser1@client:~$ manila type-list +--------------------------------------+-------------+------------+------------+--------------------------------------+--------------------------------------------+-------------+ | ID | Name | visibility | is_default | required_extra_specs | optional_extra_specs | Description | +--------------------------------------+-------------+------------+------------+--------------------------------------+--------------------------------------------+-------------+ | 1cf5d45a-61b3-44d1-8ec7-89a21f51a4d4 | dhss_false | public | YES | driver_handles_share_servers : False | create_share_from_snapshot_support : True | None | | | | | | | mount_snapshot_support : False | | | | | | | | revert_to_snapshot_support : False | | | | | | | | snapshot_support : True | | | 277c1089-127f-426e-9b12-711845991ea1 | dhss_true | public | - | driver_handles_share_servers : True | create_share_from_snapshot_support : True | None | | | | | | | mount_snapshot_support : False | | | | | | | | revert_to_snapshot_support : False | | | | | | | | snapshot_support : True | | +--------------------------------------+-------------+------------+------------+--------------------------------------+--------------------------------------------+-------------+ In this example, two share types are available. #. To use a share type that specifies driver_handles_share_servers=True capability, you must create a ""share network"" on which to export the share. .. code-block:: console clouduser1@client:~$ openstack subnet list +--------------------------------------+---------------------+--------------------------------------+---------------------+ | ID | Name | Network | Subnet | +--------------------------------------+---------------------+--------------------------------------+---------------------+ | 78c6ac57-bba7-4922-ab81-16cde31c2d06 | private-subnet | 74d5cfb3-5dd0-43f7-b1b2-5b544cb16212 | 10.0.0.0/26 | | a344682c-718d-4825-a87a-3622b4d3a771 | ipv6-private-subnet | 74d5cfb3-5dd0-43f7-b1b2-5b544cb16212 | fd36:18fc:a8e9::/64 | +--------------------------------------+---------------------+--------------------------------------+---------------------+ #. Create a ""share network"" from a private tenant network: .. code-block:: console clouduser1@client:~$ manila share-network-create --name mynet --neutron-net-id 74d5cfb3-5dd0-43f7-b1b2-5b544cb16212 --neutron-subnet-id 78c6ac57-bba7-4922-ab81-16cde31c2d06 +-------------------+--------------------------------------+ | Property | Value | +-------------------+--------------------------------------+ | network_type | None | | name | mynet | | segmentation_id | None | | created_at | 2018-10-09T21:32:22.485399 | | neutron_subnet_id | 78c6ac57-bba7-4922-ab81-16cde31c2d06 | | updated_at | None | | mtu | None | | gateway | None | | neutron_net_id | 74d5cfb3-5dd0-43f7-b1b2-5b544cb16212 | | ip_version | None | | cidr | None | | project_id | cadd7139bc3148b8973df097c0911016 | | id | 0b0fc320-d4b5-44a1-a1ae-800c56de550c | | description | None | +-------------------+--------------------------------------+ clouduser1@client:~$ manila share-network-list +--------------------------------------+-------+ | id | name | +--------------------------------------+-------+ | 6c7ef9ef-3591-48b6-b18a-71a03059edd5 | mynet | +--------------------------------------+-------+ #. Create the share: .. code-block:: console clouduser1@client:~$ manila create nfs 1 --name software_share --share-network mynet --share-type dhss_true +---------------------------------------+--------------------------------------+ | Property | Value | +---------------------------------------+--------------------------------------+ | status | creating | | share_type_name | dhss_true | | description | None | | availability_zone | None | | share_network_id | 6c7ef9ef-3591-48b6-b18a-71a03059edd5 | | share_server_id | None | | share_group_id | None | | host | | | revert_to_snapshot_support | False | | access_rules_status | active | | snapshot_id | None | | create_share_from_snapshot_support | False | | is_public | False | | task_state | None | | snapshot_support | False | | id | 243f3a51-0624-4bdd-950e-7ed190b53b67 | | size | 1 | | source_share_group_snapshot_member_id | None | | user_id | 61aef4895b0b41619e67ae83fba6defe | | name | software_share | | share_type | 277c1089-127f-426e-9b12-711845991ea1 | | has_replicas | False | | replication_type | None | | created_at | 2018-10-09T21:12:21.000000 | | share_proto | NFS | | mount_snapshot_support | False | | project_id | cadd7139bc3148b8973df097c0911016 | | metadata | {} | +---------------------------------------+--------------------------------------+ #. View the status of the share: .. code-block:: console clouduser1@client:~$ manila list +--------------------------------------+----------------+------+-------------+--------+-----------+-----------------+------+-------------------+ | ID | Name | Size | Share Proto | Status | Is Public | Share Type Name | Host | Availability Zone | +--------------------------------------+----------------+------+-------------+--------+-----------+-----------------+------+-------------------+ | 243f3a51-0624-4bdd-950e-7ed190b53b67 | software_share | 1 | NFS | error | False | dhss_true | | None | +--------------------------------------+----------------+------+-------------+--------+-----------+-----------------+------+-------------------+ In this example, an error occurred during the share creation. #. To view the generated user message, use the ``message-list`` command. Use ``--resource-id`` to filter messages for a specific share resource. .. code-block:: console clouduser1@client:~$ manila message-list +--------------------------------------+---------------+--------------------------------------+-----------+----------------------------------------------------------------------------------------------------------+-----------+----------------------------+ | ID | Resource Type | Resource ID | Action ID | User Message | Detail ID | Created At | +--------------------------------------+---------------+--------------------------------------+-----------+----------------------------------------------------------------------------------------------------------+-----------+----------------------------+ | 7d411c3c-46d9-433f-9e21-c04ca30b209c | SHARE | 243f3a51-0624-4bdd-950e-7ed190b53b67 | 001 | allocate host: No storage could be allocated for this share request, Capabilities filter didn't succeed. | 008 | 2018-10-09T21:12:21.000000 | +--------------------------------------+---------------+--------------------------------------+-----------+----------------------------------------------------------------------------------------------------------+-----------+----------------------------+ In User Message column, you can see that the Shared File System service failed to create the share because of a capabilities mismatch. #. To view more information, use the ``message-show`` command, followed by the ID of the message from the message-list command: .. code-block:: console clouduser1@client:~$ manila message-show 7d411c3c-46d9-433f-9e21-c04ca30b209c +---------------+----------------------------------------------------------------------------------------------------------+ | Property | Value | +---------------+----------------------------------------------------------------------------------------------------------+ | request_id | req-0a875292-6c52-458b-87d4-1f945556feac | | detail_id | 008 | | expires_at | 2018-11-08T21:12:21.000000 | | resource_id | 243f3a51-0624-4bdd-950e-7ed190b53b67 | | user_message | allocate host: No storage could be allocated for this share request, Capabilities filter didn't succeed. | | created_at | 2018-10-09T21:12:21.000000 | | message_level | ERROR | | id | 7d411c3c-46d9-433f-9e21-c04ca30b209c | | resource_type | SHARE | | action_id | 001 | +---------------+----------------------------------------------------------------------------------------------------------+ As the cloud user, you know the related specs your share type has, so you can review the share types available. The difference between the two share types is the value of driver_handles_share_servers: .. code-block:: console clouduser1@client:~$ manila type-list +--------------------------------------+-------------+------------+------------+--------------------------------------+--------------------------------------------+-------------+ | ID | Name | visibility | is_default | required_extra_specs | optional_extra_specs | Description | +--------------------------------------+-------------+------------+------------+--------------------------------------+--------------------------------------------+-------------+ | 1cf5d45a-61b3-44d1-8ec7-89a21f51a4d4 | dhss_false | public | YES | driver_handles_share_servers : False | create_share_from_snapshot_support : True | None | | | | | | | mount_snapshot_support : False | | | | | | | | revert_to_snapshot_support : False | | | | | | | | snapshot_support : True | | | 277c1089-127f-426e-9b12-711845991ea1 | dhss_true | public | - | driver_handles_share_servers : True | create_share_from_snapshot_support : True | None | | | | | | | mount_snapshot_support : False | | | | | | | | revert_to_snapshot_support : False | | | | | | | | snapshot_support : True | | +--------------------------------------+-------------+------------+------------+--------------------------------------+--------------------------------------------+-------------+ #. Create a share with the other available share type: .. code-block:: console clouduser1@client:~$ manila create nfs 1 --name software_share --share-network mynet --share-type dhss_false +---------------------------------------+--------------------------------------+ | Property | Value | +---------------------------------------+--------------------------------------+ | status | creating | | share_type_name | dhss_false | | description | None | | availability_zone | None | | share_network_id | 6c7ef9ef-3591-48b6-b18a-71a03059edd5 | | share_group_id | None | | revert_to_snapshot_support | False | | access_rules_status | active | | snapshot_id | None | | create_share_from_snapshot_support | True | | is_public | False | | task_state | None | | snapshot_support | True | | id | 2d03d480-7cba-4122-ac9d-edc59c8df698 | | size | 1 | | source_share_group_snapshot_member_id | None | | user_id | 5c7bdb6eb0504d54a619acf8375c08ce | | name | software_share | | share_type | 1cf5d45a-61b3-44d1-8ec7-89a21f51a4d4 | | has_replicas | False | | replication_type | None | | created_at | 2018-10-09T21:24:40.000000 | | share_proto | NFS | | mount_snapshot_support | False | | project_id | cadd7139bc3148b8973df097c0911016 | | metadata | {} | +---------------------------------------+--------------------------------------+ In this example, the second share creation attempt fails. #. View the user support message: .. code-block:: console clouduser1@client:~$ manila list +--------------------------------------+----------------+------+-------------+--------+-----------+-----------------+------+-------------------+ | ID | Name | Size | Share Proto | Status | Is Public | Share Type Name | Host | Availability Zone | +--------------------------------------+----------------+------+-------------+--------+-----------+-----------------+------+-------------------+ | 2d03d480-7cba-4122-ac9d-edc59c8df698 | software_share | 1 | NFS | error | False | dhss_false | | nova | | 243f3a51-0624-4bdd-950e-7ed190b53b67 | software_share | 1 | NFS | error | False | dhss_true | | None | +--------------------------------------+----------------+------+-------------+--------+-----------+-----------------+------+-------------------+ clouduser1@client:~$ manila message-list +--------------------------------------+---------------+--------------------------------------+-----------+----------------------------------------------------------------------------------------------------------+-----------+----------------------------+ | ID | Resource Type | Resource ID | Action ID | User Message | Detail ID | Created At | +--------------------------------------+---------------+--------------------------------------+-----------+----------------------------------------------------------------------------------------------------------+-----------+----------------------------+ | ed7e02a2-0cdb-4ff9-b64f-e4d2ec1ef069 | SHARE | 2d03d480-7cba-4122-ac9d-edc59c8df698 | 002 | create: Driver does not expect share-network to be provided with current configuration. | 003 | 2018-10-09T21:24:40.000000 | | 7d411c3c-46d9-433f-9e21-c04ca30b209c | SHARE | 243f3a51-0624-4bdd-950e-7ed190b53b67 | 001 | allocate host: No storage could be allocated for this share request, Capabilities filter didn't succeed. | 008 | 2018-10-09T21:12:21.000000 | +--------------------------------------+---------------+--------------------------------------+-----------+----------------------------------------------------------------------------------------------------------+-----------+----------------------------+ You can see that the service does not expect a share network for the share type used. Without consulting the administrator, you can discover that the administrator has not made available a storage back end that supports exporting shares directly on to your private neutron network. #. Create the share without the ``--share-network`` parameter: .. code-block:: console clouduser1@client:~$ manila create nfs 1 --name software_share --share-type dhss_false +---------------------------------------+--------------------------------------+ | Property | Value | +---------------------------------------+--------------------------------------+ | status | creating | | share_type_name | dhss_false | | description | None | | availability_zone | None | | share_network_id | None | | share_group_id | None | | revert_to_snapshot_support | False | | access_rules_status | active | | snapshot_id | None | | create_share_from_snapshot_support | True | | is_public | False | | task_state | None | | snapshot_support | True | | id | 4d3d7fcf-5fb7-4209-90eb-9e064659f46d | | size | 1 | | source_share_group_snapshot_member_id | None | | user_id | 5c7bdb6eb0504d54a619acf8375c08ce | | name | software_share | | share_type | 1cf5d45a-61b3-44d1-8ec7-89a21f51a4d4 | | has_replicas | False | | replication_type | None | | created_at | 2018-10-09T21:25:40.000000 | | share_proto | NFS | | mount_snapshot_support | False | | project_id | cadd7139bc3148b8973df097c0911016 | | metadata | {} | +---------------------------------------+--------------------------------------+ #. To ensure that the share was created successfully, use the `manila list` command: .. code-block:: console clouduser1@client:~$ manila list +--------------------------------------+----------------+------+-------------+-----------+-----------+-----------------+------+-------------------+ | ID | Name | Size | Share Proto | Status | Is Public | Share Type Name | Host | Availability Zone | +--------------------------------------+----------------+------+-------------+-----------+-----------+-----------------+------+-------------------+ | 4d3d7fcf-5fb7-4209-90eb-9e064659f46d | software_share | 1 | NFS | available | False | dhss_false | | nova | | 2d03d480-7cba-4122-ac9d-edc59c8df698 | software_share | 1 | NFS | error | False | dhss_false | | nova | | 243f3a51-0624-4bdd-950e-7ed190b53b67 | software_share | 1 | NFS | error | False | dhss_true | | None | +--------------------------------------+----------------+------+-------------+-----------+-----------+-----------------+------+-------------------+ #. Delete shares that failed to be created and corresponding support messages: .. code-block:: console clouduser1@client:~$ manila delete 2d03d480-7cba-4122-ac9d-edc59c8df698 243f3a51-0624-4bdd-950e-7ed190b53b67 clouduser1@client:~$ manila message-list +--------------------------------------+---------------+--------------------------------------+-----------+----------------------------------------------------------------------------------------------------------+-----------+----------------------------+ | ID | Resource Type | Resource ID | Action ID | User Message | Detail ID | Created At | +--------------------------------------+---------------+--------------------------------------+-----------+----------------------------------------------------------------------------------------------------------+-----------+----------------------------+ | ed7e02a2-0cdb-4ff9-b64f-e4d2ec1ef069 | SHARE | 2d03d480-7cba-4122-ac9d-edc59c8df698 | 002 | create: Driver does not expect share-network to be provided with current configuration. | 003 | 2018-10-09T21:24:40.000000 | | 7d411c3c-46d9-433f-9e21-c04ca30b209c | SHARE | 243f3a51-0624-4bdd-950e-7ed190b53b67 | 001 | allocate host: No storage could be allocated for this share request, Capabilities filter didn't succeed. | 008 | 2018-10-09T21:12:21.000000 | +--------------------------------------+---------------+--------------------------------------+-----------+----------------------------------------------------------------------------------------------------------+-----------+----------------------------+ clouduser1@client:~$ manila message-delete ed7e02a2-0cdb-4ff9-b64f-e4d2ec1ef069 7d411c3c-46d9-433f-9e21-c04ca30b209c clouduser1@client:~$ manila message-list +----+---------------+-------------+-----------+--------------+-----------+------------+ | ID | Resource Type | Resource ID | Action ID | User Message | Detail ID | Created At | +----+---------------+-------------+-----------+--------------+-----------+------------+ +----+---------------+-------------+-----------+--------------+-----------+------------+ ",,444,0
openstack%2Fmanila~stable%2Frocky~I89659452b0e033631f1318a2eabb7e120c9e5743,openstack/manila,stable/rocky,I89659452b0e033631f1318a2eabb7e120c9e5743,Fix pagination does not speed up queries bug,MERGED,2019-10-14 19:22:40.000000000,2019-10-18 23:22:33.000000000,2019-10-18 02:04:33.000000000,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-10-14 19:22:40.000000000', 'files': ['manila/tests/api/v1/test_shares.py', 'releasenotes/notes/bug-1795463-fix-pagination-slowness-8fcda3746aa13940.yaml', 'manila/api/common.py', 'manila/share/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/tests/api/v2/test_shares.py', 'manila/api/v1/shares.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/bad03feea9a8470c9fe55f1a925d83e026353989', 'message': 'Fix pagination does not speed up queries bug\n\nThis patch modifies the database api layer to fix the pagination\nslowness bug, which causes a delay while the administrator tries\nto list shares using the `--limit` option.\nThis change was tested in a very busy environment with 800 shares.\nBefore the change, the operation took about 25 seconds to be\nfinished. Now, the operation takes about 3 seconds in the same\nenvironment.\n\nChange-Id: I89659452b0e033631f1318a2eabb7e120c9e5743\nCloses-bug: #1795463\n(cherry picked from commit 57edcbd1da4b61ce1a61db3be0d69755d968c36c)\n(cherry picked from commit 462b0e7461cdd00d51f15aacaa43854aeb0689f4)\n'}]",0,688542,bad03feea9a8470c9fe55f1a925d83e026353989,19,6,1,29632,,,0,"Fix pagination does not speed up queries bug

This patch modifies the database api layer to fix the pagination
slowness bug, which causes a delay while the administrator tries
to list shares using the `--limit` option.
This change was tested in a very busy environment with 800 shares.
Before the change, the operation took about 25 seconds to be
finished. Now, the operation takes about 3 seconds in the same
environment.

Change-Id: I89659452b0e033631f1318a2eabb7e120c9e5743
Closes-bug: #1795463
(cherry picked from commit 57edcbd1da4b61ce1a61db3be0d69755d968c36c)
(cherry picked from commit 462b0e7461cdd00d51f15aacaa43854aeb0689f4)
",git fetch https://review.opendev.org/openstack/manila refs/changes/42/688542/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/api/v1/test_shares.py', 'releasenotes/notes/bug-1795463-fix-pagination-slowness-8fcda3746aa13940.yaml', 'manila/api/common.py', 'manila/share/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/tests/api/v2/test_shares.py', 'manila/api/v1/shares.py']",8,bad03feea9a8470c9fe55f1a925d83e026353989,bug/1795463-stable/stein-stable/rocky," common._validate_pagination_query(req) if is_detail: shares = self._view_builder.detail_list(req, shares, total_count) else: shares = self._view_builder.summary_list(req, shares, total_count) 'display_description', 'limit', 'offset'"," search_opts.pop('limit', None) search_opts.pop('offset', None) limited_list = common.limited(shares, req) if is_detail: shares = self._view_builder.detail_list(req, limited_list, total_count) else: shares = self._view_builder.summary_list(req, limited_list, total_count) 'display_description'",83,26
openstack%2Ftripleo-heat-templates~stable%2Frocky~I53dec308d359b27e62ed44e91a8eaae38d945a4f,openstack/tripleo-heat-templates,stable/rocky,I53dec308d359b27e62ed44e91a8eaae38d945a4f,Set bridge-nf-call-* values to 1,MERGED,2019-10-08 18:46:45.000000000,2019-10-18 23:11:19.000000000,2019-10-18 23:10:08.000000000,"[{'_account_id': 3153}, {'_account_id': 5756}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-08 18:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/68dc8e09f614186a75afc2a46afb14ee5c4e96fa', 'message': ""Set bridge-nf-call-* values to 1\n\nAlthough the kernel default is 1, some distros override the defaults\nvia sysctl.conf. Loading br_netfilter manually will show values of\n1, but then doing a 'sysctl network restart' will set the values to\n0--so go ahead and override these values.\n\nCo-Author: Luke Short <ekultails@gmail.com>\nDepends-On: I570b996fd8eca8b653c57b43155a6549ba6e5fae\nChange-Id: I53dec308d359b27e62ed44e91a8eaae38d945a4f\nCloses-Bug: #1843259\n(cherry picked from commit 8c23ac8426c50f5be8a88177def63d2200c25fc8)\n(cherry picked from commit 94a9843cb31ce6547138617ba8dc2be32169c268)\n""}, {'number': 2, 'created': '2019-10-11 18:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ed35fd68493c97eed4c414e7b5381452751844b', 'message': ""Set bridge-nf-call-* values to 1\n\nAlthough the kernel default is 1, some distros override the defaults\nvia sysctl.conf. Loading br_netfilter manually will show values of\n1, but then doing a 'sysctl network restart' will set the values to\n0--so go ahead and override these values.\n\nCo-Author: Luke Short <ekultails@gmail.com>\nChange-Id: I53dec308d359b27e62ed44e91a8eaae38d945a4f\nCloses-Bug: #1843259\n(cherry picked from commit 96302e5d33605f1049ee09efd13a42df9e949156)\n""}, {'number': 3, 'created': '2019-10-18 13:24:30.000000000', 'files': ['releasenotes/notes/fix-bridge-nf-call-defaults.rst', 'puppet/services/kernel.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d5eae2651dc544c7948afed2f50c2c59e347428', 'message': ""Set bridge-nf-call-* values to 1\n\nAlthough the kernel default is 1, some distros override the defaults\nvia sysctl.conf. Loading br_netfilter manually will show values of\n1, but then doing a 'sysctl network restart' will set the values to\n0--so go ahead and override these values.\n\nCo-Author: Luke Short <ekultails@gmail.com>\nChange-Id: I53dec308d359b27e62ed44e91a8eaae38d945a4f\nCloses-Bug: #1843259\n(cherry picked from commit 3d722dbc810b0f9521ce1cfc461789bdfe20e36d)\n""}]",0,687387,1d5eae2651dc544c7948afed2f50c2c59e347428,20,6,3,25877,,,0,"Set bridge-nf-call-* values to 1

Although the kernel default is 1, some distros override the defaults
via sysctl.conf. Loading br_netfilter manually will show values of
1, but then doing a 'sysctl network restart' will set the values to
0--so go ahead and override these values.

Co-Author: Luke Short <ekultails@gmail.com>
Change-Id: I53dec308d359b27e62ed44e91a8eaae38d945a4f
Closes-Bug: #1843259
(cherry picked from commit 3d722dbc810b0f9521ce1cfc461789bdfe20e36d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/687387/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/kernel.yaml'],1,68dc8e09f614186a75afc2a46afb14ee5c4e96fa,I53dec308d359b27e62ed44e91a8eaae38d945a4f, BridgeNfCallArpTables: default: 1 description: Configures sysctl net.bridge.bridge-nf-call-arptables key type: number BridgeNfCallIpTables: default: 1 description: Configures sysctl net.bridge.bridge-nf-call-iptables key type: number BridgeNfCallIp6Tables: default: 1 description: Configures sysctl net.bridge.bridge-nf-call-ip6tables key type: number - br_netfilter: {} net.bridge.bridge-nf-call-arptables: value: {get_param: BridgeNfCallArpTables} net.bridge.bridge-nf-call-iptables: value: {get_param: BridgeNfCallIpTables} net.bridge.bridge-nf-call-ip6tables: value: {get_param: BridgeNfCallIp6Tables},,19,0
openstack%2Fpuppet-placement~stable%2Ftrain~Ie80fb4e7d0514b65ec6a798a10cd7079c3ffa813,openstack/puppet-placement,stable/train,Ie80fb4e7d0514b65ec6a798a10cd7079c3ffa813,New placement::keystone::authtoken::interface parameter,MERGED,2019-10-17 20:35:49.000000000,2019-10-18 23:09:16.000000000,2019-10-18 23:08:03.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-17 20:35:49.000000000', 'files': ['spec/classes/placement_keystone_authtoken_spec.rb', 'releasenotes/notes/keystone_authtoken_interface-4537941bc250a05d.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/afddd5664e58e4e5ed22054372e5de60173f67c7', 'message': 'New placement::keystone::authtoken::interface parameter\n\nAdds interface parameter to placement::keystone::authtoken to configure\nthe interface to use for the Identity API endpoint. Valid values are\n""public"", ""internal"" or ""admin""(default).\n\nDepends-On: I90584d3b5900d2dc74ae8ae1ff293822e5d6ecd9\n\nChange-Id: Ie80fb4e7d0514b65ec6a798a10cd7079c3ffa813\n(cherry picked from commit 5e5d7deffadfd93434e2b6d68339ae136686e308)\n'}]",0,689260,afddd5664e58e4e5ed22054372e5de60173f67c7,12,4,1,17216,,,0,"New placement::keystone::authtoken::interface parameter

Adds interface parameter to placement::keystone::authtoken to configure
the interface to use for the Identity API endpoint. Valid values are
""public"", ""internal"" or ""admin""(default).

Depends-On: I90584d3b5900d2dc74ae8ae1ff293822e5d6ecd9

Change-Id: Ie80fb4e7d0514b65ec6a798a10cd7079c3ffa813
(cherry picked from commit 5e5d7deffadfd93434e2b6d68339ae136686e308)
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/60/689260/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/placement_keystone_authtoken_spec.rb', 'releasenotes/notes/keystone_authtoken_interface-4537941bc250a05d.yaml', 'manifests/keystone/authtoken.pp']",3,afddd5664e58e4e5ed22054372e5de60173f67c7,interface-stable/train,"# [*interface*] # (Optional) Interface to use for the Identity API endpoint. Valid values are # ""public"", ""internal"" or ""admin""(default). # Defaults to $::os_service_default. # $interface = $::os_service_default, interface => $interface,",,16,0
openstack%2Fswift~stable%2Fstein~I023b8a46c06e9a2755b5aa890a7992ef9633cba9,openstack/swift,stable/stein,I023b8a46c06e9a2755b5aa890a7992ef9633cba9,sharding: better handle get_shard_ranges failures,MERGED,2019-10-18 20:45:12.000000000,2019-10-18 23:05:39.000000000,2019-10-18 23:04:14.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 20:45:12.000000000', 'files': ['swift/container/replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/657ee1092d8caeb0b9be8a011741cfcdfba6dc99', 'message': ""sharding: better handle get_shard_ranges failures\n\nThe contract for ReplConnection.replicate() is that if we can get a\nresponse, we return it, and if we can't (because of a timeout, or a\nsocket error, or some other http_client error like BadStatusLine), we\nreturn None to indicate the error.\n\nPreviously, _fetch_and_merge_shard_ranges() always assumed the\nresponse would have a `status` attribute and raise an AttributeError\nwhen response was None. Now it will treat that case like other\nget_shard_range failures.\n\nChange-Id: I023b8a46c06e9a2755b5aa890a7992ef9633cba9\n(cherry picked from commit bc5f4c061122aee5965cfb055beb3cb079073536)\n""}]",0,689582,657ee1092d8caeb0b9be8a011741cfcdfba6dc99,7,2,1,15343,,,0,"sharding: better handle get_shard_ranges failures

The contract for ReplConnection.replicate() is that if we can get a
response, we return it, and if we can't (because of a timeout, or a
socket error, or some other http_client error like BadStatusLine), we
return None to indicate the error.

Previously, _fetch_and_merge_shard_ranges() always assumed the
response would have a `status` attribute and raise an AttributeError
when response was None. Now it will treat that case like other
get_shard_range failures.

Change-Id: I023b8a46c06e9a2755b5aa890a7992ef9633cba9
(cherry picked from commit bc5f4c061122aee5965cfb055beb3cb079073536)
",git fetch https://review.opendev.org/openstack/swift refs/changes/82/689582/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/replicator.py'],1,657ee1092d8caeb0b9be8a011741cfcdfba6dc99,, if response and is_success(response.status):, if is_success(response.status):,1,1
openstack%2Fswift~stable%2Fstein~Ide5af2ae68fae0e5d6eb5c233a24388bb9942144,openstack/swift,stable/stein,Ide5af2ae68fae0e5d6eb5c233a24388bb9942144,Fix invalid assert states,MERGED,2019-10-18 20:46:29.000000000,2019-10-18 23:01:58.000000000,2019-10-18 23:00:18.000000000,"[{'_account_id': 15343}, {'_account_id': 20190}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 20:46:29.000000000', 'files': ['test/unit/container/test_sync.py', 'test/unit/obj/test_replicator.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/60bcf8f548de308a27b57a3cc6619ef5f6af78ae', 'message': ""Fix invalid assert states\n\nThis is to fix invalid assert states like:\n    self.assertTrue('sync_point2: 5', lines.pop().strip())\n    self.assertTrue('sync_point1: 5', lines.pop().strip())\n    self.assertTrue('bytes: 1100', lines.pop().strip())\n    self.assertTrue('deletes: 2', lines.pop().strip())\n    self.assertTrue('puts: 3', lines.pop().strip())\n    self.assertTrue('1', jobs_to_delete[0]['partition'])\nin which assertEqual should be used.\n\nChange-Id: Ide5af2ae68fae0e5d6eb5c233a24388bb9942144\n(cherry picked from commit 0fec28ab155276d099d1d4c9fd377f3da539077b)\n""}]",0,689583,60bcf8f548de308a27b57a3cc6619ef5f6af78ae,7,3,1,15343,,,0,"Fix invalid assert states

This is to fix invalid assert states like:
    self.assertTrue('sync_point2: 5', lines.pop().strip())
    self.assertTrue('sync_point1: 5', lines.pop().strip())
    self.assertTrue('bytes: 1100', lines.pop().strip())
    self.assertTrue('deletes: 2', lines.pop().strip())
    self.assertTrue('puts: 3', lines.pop().strip())
    self.assertTrue('1', jobs_to_delete[0]['partition'])
in which assertEqual should be used.

Change-Id: Ide5af2ae68fae0e5d6eb5c233a24388bb9942144
(cherry picked from commit 0fec28ab155276d099d1d4c9fd377f3da539077b)
",git fetch https://review.opendev.org/openstack/swift refs/changes/83/689583/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sync.py', 'test/unit/obj/test_replicator.py']",2,60bcf8f548de308a27b57a3cc6619ef5f6af78ae,," self.assertEqual('1', jobs_to_delete[0]['partition'])"," self.assertTrue('1', jobs_to_delete[0]['partition'])",8,6
openstack%2Ftripleo-ci~master~I87e24a5f776fd37951e96814a68d58e91c24e685,openstack/tripleo-ci,master,I87e24a5f776fd37951e96814a68d58e91c24e685,"Revert ""Tolerate None featureset_override""",ABANDONED,2019-10-18 10:03:59.000000000,2019-10-18 22:25:23.000000000,,"[{'_account_id': 4571}, {'_account_id': 8175}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-10-18 10:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d4af18c917322133751ac979abc2303da67473a9', 'message': 'Revert ""Tolerate None featureset_override""\n\nThis reverts commit 65c963b6c429b7d7bbe6f327826636723aaa4369.\n\nChange-Id: I87e24a5f776fd37951e96814a68d58e91c24e685\n'}, {'number': 2, 'created': '2019-10-18 10:15:22.000000000', 'files': ['roles/run-test/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a9918e569dded892ea25276d08f6e228e040f570', 'message': 'Revert ""Tolerate None featureset_override""\n\nThis reverts commit 65c963b6c429b7d7bbe6f327826636723aaa4369.\nCloses-Bug: 1848702\nChange-Id: I87e24a5f776fd37951e96814a68d58e91c24e685\n'}]",1,689395,a9918e569dded892ea25276d08f6e228e040f570,9,10,2,8449,,,0,"Revert ""Tolerate None featureset_override""

This reverts commit 65c963b6c429b7d7bbe6f327826636723aaa4369.
Closes-Bug: 1848702
Change-Id: I87e24a5f776fd37951e96814a68d58e91c24e685
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/95/689395/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/tasks/main.yaml'],1,d4af18c917322133751ac979abc2303da67473a9,reproducer, when: featureset_override is defined, when: featureset_override is defined and featureset_override|bool,1,1
openstack%2Fkeystone~stable%2Frocky~Ib9e161411f0985785eec46c51d721ef7421ee090,openstack/keystone,stable/rocky,Ib9e161411f0985785eec46c51d721ef7421ee090,Add retry for DBDeadlock in credential delete,MERGED,2019-09-06 04:35:48.000000000,2019-10-18 22:10:48.000000000,2019-10-18 22:08:40.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 8833}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-06 04:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/fd305074757065b4a12de1c31d019c958c7ed69c', 'message': 'Add retry for DBDeadlock in credential delete\n\nAdds oslo.db retry wrapper to delete_credential_for_user method.\n\nChange-Id: Ib9e161411f0985785eec46c51d721ef7421ee090\nCloses-Bug: #1840291\n(cherry picked from commit e989bd0637629b0fb15976186b0941fec0f13b25)\n'}, {'number': 2, 'created': '2019-09-09 03:23:04.000000000', 'files': ['keystone/credential/backends/sql.py', 'releasenotes/notes/bug-1840291-35af1ac7ba06e166.yaml', 'keystone/tests/unit/test_v3_credential.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/09547696f2bb952f29b5dc95cbb572b9d1d0b72b', 'message': 'Add retry for DBDeadlock in credential delete\n\nAdds oslo.db retry wrapper to delete_credential_for_user method.\n\nChange-Id: Ib9e161411f0985785eec46c51d721ef7421ee090\nCloses-Bug: #1840291\n(cherry picked from commit e989bd0637629b0fb15976186b0941fec0f13b25)\n'}]",0,680570,09547696f2bb952f29b5dc95cbb572b9d1d0b72b,14,6,2,8833,,,0,"Add retry for DBDeadlock in credential delete

Adds oslo.db retry wrapper to delete_credential_for_user method.

Change-Id: Ib9e161411f0985785eec46c51d721ef7421ee090
Closes-Bug: #1840291
(cherry picked from commit e989bd0637629b0fb15976186b0941fec0f13b25)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/70/680570/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/credential/backends/sql.py', 'keystone/tests/unit/test_v3_credential.py', 'releasenotes/notes/bug-1840291-35af1ac7ba06e166.yaml']",3,fd305074757065b4a12de1c31d019c958c7ed69c,,--- fixes: - | [`bug 1840291 <https://bugs.launchpad.net/keystone/+bug/1840291>`_] Adds retries for ``delete_credential_for_user`` method to avoid DBDeadlocks when deleting large number of credentials concurrently. ,,42,0
openstack%2Fopenstack-ansible-os_masakari~master~Ibfaa68bd814d9dd40c2beba244e732f03b1193b3,openstack/openstack-ansible-os_masakari,master,Ibfaa68bd814d9dd40c2beba244e732f03b1193b3,PDF Documentation Build tox target,MERGED,2019-10-18 13:49:04.000000000,2019-10-18 22:03:00.000000000,2019-10-18 22:01:34.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-18 13:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/f759a287f64497bacd1a3b01f57bdf847b7ba18b', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: Ibfaa68bd814d9dd40c2beba244e732f03b1193b3\nStory: 2006105\n'}, {'number': 2, 'created': '2019-10-18 15:37:50.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/configure-masakari.rst', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/f5c1defc5a7387dee55470f18d7195937fb014c0', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: Ibfaa68bd814d9dd40c2beba244e732f03b1193b3\nStory: 2006105\n'}]",1,689464,f5c1defc5a7387dee55470f18d7195937fb014c0,11,3,2,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: Ibfaa68bd814d9dd40c2beba244e732f03b1193b3
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/64/689464/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,f759a287f64497bacd1a3b01f57bdf847b7ba18b,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,28,6
openstack%2Frpm-packaging~stable%2Ftrain~Iff7e536f9c35eac9e5bc68e3f4c30fdd2fd3d880,openstack/rpm-packaging,stable/train,Iff7e536f9c35eac9e5bc68e3f4c30fdd2fd3d880,"Convert dib-utils to python3, fix os-apply-config name",MERGED,2019-10-14 10:32:59.000000000,2019-10-18 22:02:56.000000000,2019-10-18 17:57:26.000000000,"[{'_account_id': 6593}, {'_account_id': 8482}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-14 10:32:59.000000000', 'files': ['openstack/os-apply-config/os-apply-config.spec.j2', 'openstack/dib-utils/dib-utils.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/41722ca21dc22eef89791e27bace10659e9149a9', 'message': 'Convert dib-utils to python3, fix os-apply-config name\n\nWe did not have a python2 name for os-apply-config, even though it\nhad already been converted.\n\nChange-Id: Iff7e536f9c35eac9e5bc68e3f4c30fdd2fd3d880\n(cherry picked from commit 4c43d3c0e44acafd8902019c3eb0aff2c15adde0)\n'}]",0,688381,41722ca21dc22eef89791e27bace10659e9149a9,16,6,1,13294,,,0,"Convert dib-utils to python3, fix os-apply-config name

We did not have a python2 name for os-apply-config, even though it
had already been converted.

Change-Id: Iff7e536f9c35eac9e5bc68e3f4c30fdd2fd3d880
(cherry picked from commit 4c43d3c0e44acafd8902019c3eb0aff2c15adde0)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/81/688381/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/os-apply-config/os-apply-config.spec.j2', 'openstack/dib-utils/dib-utils.spec.j2']",2,41722ca21dc22eef89791e27bace10659e9149a9,,"{% set pypi_name = 'dib-utils' %} {% set upstream_version = upstream_version('0.0.11') %} {% set rpm_release = '1' %} {% set source = url_pypi() %} Name: {{ py2name('dib-utils', py_versions='py3') }} Version: {{ py2rpmversion() }} Release: {{ py2rpmrelease() }}URL: https://launchpad.net/{{ pypi_name }} Source0: {{ source }}BuildRequires: {{ py3('pbr') }}%autosetup -n {{ pypi_name }}-{{ upstream_version }}%{py3_build}%{py3_install}%{python3_sitelib}/*.egg-info",%global sname dib-utils Name: {{ py2name('dib-utils') }} Version: 0.0.11 Release: 0URL: https://launchpad.net/%{sname} Source0: https://tarballs.openstack.org//%{sname}/%{sname}-%{version}.tar.gzBuildRequires: {{ py2pkg('d2to1') }} BuildRequires: {{ py2pkg('pbr') }}%autosetup -n %{sname}-%{version}sed -i 's/^warning-is-error.*/warning-is-error = 0/g' setup.cfg%py2_build%py2_install%{python2_sitelib}/*.egg-info,17,15
openstack%2Freleases~master~I3119445e6d44885763328a555dab317bd5142308,openstack/releases,master,I3119445e6d44885763328a555dab317bd5142308,Include link to Train release notes for keystone,MERGED,2019-10-18 20:59:52.000000000,2019-10-18 21:25:49.000000000,2019-10-18 21:25:49.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 20:59:52.000000000', 'files': ['deliverables/train/keystone.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8b8c97aef6e434f0d70c016dfa53e45bef050309', 'message': ""Include link to Train release notes for keystone\n\nCurrently, the index page for the Train releases doesn't include a link\nto the release notes for the keystone entry[1]. Keystone does have\nrelease notes for Train, so include the link the way other projects do.\n\n[1] https://releases.openstack.org/train/index.html#keystone\n\nChange-Id: I3119445e6d44885763328a555dab317bd5142308\n""}]",0,689590,8b8c97aef6e434f0d70c016dfa53e45bef050309,6,2,1,8482,,,0,"Include link to Train release notes for keystone

Currently, the index page for the Train releases doesn't include a link
to the release notes for the keystone entry[1]. Keystone does have
release notes for Train, so include the link the way other projects do.

[1] https://releases.openstack.org/train/index.html#keystone

Change-Id: I3119445e6d44885763328a555dab317bd5142308
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/689590/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/keystone.yaml'],1,8b8c97aef6e434f0d70c016dfa53e45bef050309,keystone-release-notes,release-notes: https://docs.openstack.org/releasenotes/keystone/train.html,,1,0
openstack%2Fproject-config~master~Ib82552520b99ffcf213962e917315b0b82c3f1b0,openstack/project-config,master,Ib82552520b99ffcf213962e917315b0b82c3f1b0,Update nodepool element for disk cache update,MERGED,2019-10-18 20:35:18.000000000,2019-10-18 20:58:15.000000000,2019-10-18 20:58:15.000000000,"[{'_account_id': 1}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 20:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/887507cc466461732c3f5dcfc6544483e86ab561', 'message': 'Update nodepool element for disk cache update\n\nThings are in /opt/git/opendev.org/ now\n\nChange-Id: Ib82552520b99ffcf213962e917315b0b82c3f1b0\n'}, {'number': 2, 'created': '2019-10-18 20:35:52.000000000', 'files': ['nodepool/elements/nodepool-base/README.rst', 'nodepool/elements/nodepool-base/extra-data.d/99-copy-nodepool-scripts', 'nodepool/elements/nodepool-base/post-install.d/89-data-files'], 'web_link': 'https://opendev.org/openstack/project-config/commit/66b12be818bf678ba72c8f9f374d301e40e7bfd2', 'message': 'Update nodepool element for disk cache update\n\nThings are in /opt/git/opendev.org/ now\n\nChange-Id: Ib82552520b99ffcf213962e917315b0b82c3f1b0\n'}]",0,689579,66b12be818bf678ba72c8f9f374d301e40e7bfd2,9,3,2,2,,,0,"Update nodepool element for disk cache update

Things are in /opt/git/opendev.org/ now

Change-Id: Ib82552520b99ffcf213962e917315b0b82c3f1b0
",git fetch https://review.opendev.org/openstack/project-config refs/changes/79/689579/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/elements/nodepool-base/extra-data.d/99-copy-nodepool-scripts', 'nodepool/elements/nodepool-base/post-install.d/89-data-files']",2,887507cc466461732c3f5dcfc6544483e86ab561,,cp -a /opt/git/opendev.org/openstack/project-config/nodepool/elements/bindep-fallback.txt \,cp -a /opt/git/openstack/project-config/nodepool/elements/bindep-fallback.txt \,2,2
openstack%2Foctavia~master~I31bdb2956ae37d1116069c2b37656ce2ee3c2dd5,openstack/octavia,master,I31bdb2956ae37d1116069c2b37656ce2ee3c2dd5,Clean up requirements.txt from tox.ini,MERGED,2019-10-10 20:17:02.000000000,2019-10-18 20:55:45.000000000,2019-10-14 13:43:39.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-10 20:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4fe93511820410d9c78588d3bc0e8384f834ff03', 'message': ""Clean up requirements.txt from tox.ini\n\nSince the base testenv tox target sets `usedevelop=True`, tox will\ninstall the application (Octavia) into the virtualenv as well. Since\ninstalling Octavia will install everything in requirements.txt, we don't\nneed to specify it again in tox.ini.\n\nChange-Id: I31bdb2956ae37d1116069c2b37656ce2ee3c2dd5\n""}, {'number': 2, 'created': '2019-10-11 01:41:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7b8e6de1b8230e5d31ca36624e7fdfba25e3e077', 'message': ""Clean up requirements.txt from tox.ini\n\nSince the base testenv tox target sets `usedevelop=True`, tox will\ninstall the application (Octavia) into the virtualenv as well. Since\ninstalling Octavia will install everything in requirements.txt, we don't\nneed to specify it again in tox.ini.\n\nChange-Id: I31bdb2956ae37d1116069c2b37656ce2ee3c2dd5\n""}]",0,687978,7b8e6de1b8230e5d31ca36624e7fdfba25e3e077,24,6,2,10343,,,0,"Clean up requirements.txt from tox.ini

Since the base testenv tox target sets `usedevelop=True`, tox will
install the application (Octavia) into the virtualenv as well. Since
installing Octavia will install everything in requirements.txt, we don't
need to specify it again in tox.ini.

Change-Id: I31bdb2956ae37d1116069c2b37656ce2ee3c2dd5
",git fetch https://review.opendev.org/openstack/octavia refs/changes/78/687978/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4fe93511820410d9c78588d3bc0e8384f834ff03,tox-cleanup,, -r{toxinidir}/requirements.txt -r{toxinidir}/requirements.txt -r{toxinidir}/requirements.txt -r{toxinidir}/requirements.txt -r{toxinidir}/requirements.txt,0,5
openstack%2Fkeystone~stable%2Fstein~If1bf5bd785a494923303265797311d42018ba7af,openstack/keystone,stable/stein,If1bf5bd785a494923303265797311d42018ba7af,Allows to use application credentials through group membership,MERGED,2019-08-13 14:10:00.000000000,2019-10-18 20:29:05.000000000,2019-10-18 20:10:26.000000000,"[{'_account_id': 5046}, {'_account_id': 5575}, {'_account_id': 8482}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 30322}]","[{'number': 1, 'created': '2019-08-13 14:10:00.000000000', 'files': ['keystone/models/token_model.py', 'keystone/tests/unit/test_v3_auth.py', 'releasenotes/notes/bug-1773967-b59517a09e0e6141.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/933ea511d150ed2cbbd4265fc7513a9b3435baa2', 'message': 'Allows to use application credentials through group membership\n\nWhen using role assignment through groups, the user cannot use\nthe application credentials created. This allows to look up\nthe membership by checking inherited and group assignments.\n\nChange-Id: If1bf5bd785a494923303265797311d42018ba7af\nCloses-Bug: #1773967\n(cherry picked from commit 14b25bc5d18842210cfffe1afdca475e848b84aa)\n'}]",0,676200,933ea511d150ed2cbbd4265fc7513a9b3435baa2,15,9,1,8482,,,0,"Allows to use application credentials through group membership

When using role assignment through groups, the user cannot use
the application credentials created. This allows to look up
the membership by checking inherited and group assignments.

Change-Id: If1bf5bd785a494923303265797311d42018ba7af
Closes-Bug: #1773967
(cherry picked from commit 14b25bc5d18842210cfffe1afdca475e848b84aa)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/00/676200/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/models/token_model.py', 'keystone/tests/unit/test_v3_auth.py', 'releasenotes/notes/bug-1773967-b59517a09e0e6141.yaml']",3,933ea511d150ed2cbbd4265fc7513a9b3435baa2,bug/1773967-patch1-stable/stein,--- fixes: - | [`bug 1773967 <https://bugs.launchpad.net/keystone/+bug/1773967>`_] Fixes an issue where users who had role assignments only via a group membership and not via direct assignment could create but not use application credentials. It is important to note that federated users who only have role assignments via a mapped group membership still cannot create application credentials. ,,50,7
openstack%2Fkeystone~stable%2Focata~Ie0b9f13d6fb06b776d6a58d5d1087c20df8a7cda,openstack/keystone,stable/ocata,Ie0b9f13d6fb06b776d6a58d5d1087c20df8a7cda,Import LDAP job into project,MERGED,2019-10-15 17:30:28.000000000,2019-10-18 20:10:25.000000000,2019-10-18 20:10:24.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-15 17:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/253fbf1c98b8ff0bbfaeb4bd8d8cf853df38f9a0', 'message': 'Import LDAP job into project\n\nImport the legacy-tempest-dsvm-ldap-domain-specific-driver job[1] into the\nkeystone repo and convert it to be Zuulv3 native.\n\n[1] https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/playbooks/legacy/tempest-dsvm-ldap-domain-specific-driver\n\nChange-Id: Ie0b9f13d6fb06b776d6a58d5d1087c20df8a7cda\nNeeded-by: https://review.opendev.org/687444\n(cherry picked from commit 52ab0cf579445190483f3a6f0e3aa5db0a9ebdef)\n(cherry picked from commit 0f6c6061b3026dc7a33bffad20848ebd3341af4b)\n(cherry picked from commit 429923fbb3be7229b0c6c1b6136b230d86672bcf)\n(cherry picked from commit 2f7155065456a3142ea05317dd82b370c70a7fdf)\n(cherry picked from commit 8b8a8f2c54820e13403746784843df017812896f)\n(cherry picked from commit 45ef2b6700a640ec3a6350503d53587979d9e0a1)\n'}, {'number': 2, 'created': '2019-10-17 21:37:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/be9b642575c9736be617e8ebc31babf6f97c7dcd', 'message': ""Import LDAP job into project\n\nImport the legacy-tempest-dsvm-ldap-domain-specific-driver job[1] into the\nkeystone repo and convert it to be Zuulv3 native.\n\nThis cherry-pick removes the explicit use of python3 since it doesn't\nquite work on this old of a branch.\n\n[1] https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/playbooks/legacy/tempest-dsvm-ldap-domain-specific-driver\n\nChange-Id: Ie0b9f13d6fb06b776d6a58d5d1087c20df8a7cda\nNeeded-by: https://review.opendev.org/687444\n(cherry picked from commit 52ab0cf579445190483f3a6f0e3aa5db0a9ebdef)\n(cherry picked from commit 0f6c6061b3026dc7a33bffad20848ebd3341af4b)\n(cherry picked from commit 429923fbb3be7229b0c6c1b6136b230d86672bcf)\n(cherry picked from commit 2f7155065456a3142ea05317dd82b370c70a7fdf)\n(cherry picked from commit 8b8a8f2c54820e13403746784843df017812896f)\n(cherry picked from commit 45ef2b6700a640ec3a6350503d53587979d9e0a1)\n""}]",0,688760,be9b642575c9736be617e8ebc31babf6f97c7dcd,17,4,2,8482,,,0,"Import LDAP job into project

Import the legacy-tempest-dsvm-ldap-domain-specific-driver job[1] into the
keystone repo and convert it to be Zuulv3 native.

This cherry-pick removes the explicit use of python3 since it doesn't
quite work on this old of a branch.

[1] https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/playbooks/legacy/tempest-dsvm-ldap-domain-specific-driver

Change-Id: Ie0b9f13d6fb06b776d6a58d5d1087c20df8a7cda
Needed-by: https://review.opendev.org/687444
(cherry picked from commit 52ab0cf579445190483f3a6f0e3aa5db0a9ebdef)
(cherry picked from commit 0f6c6061b3026dc7a33bffad20848ebd3341af4b)
(cherry picked from commit 429923fbb3be7229b0c6c1b6136b230d86672bcf)
(cherry picked from commit 2f7155065456a3142ea05317dd82b370c70a7fdf)
(cherry picked from commit 8b8a8f2c54820e13403746784843df017812896f)
(cherry picked from commit 45ef2b6700a640ec3a6350503d53587979d9e0a1)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/60/688760/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,253fbf1c98b8ff0bbfaeb4bd8d8cf853df38f9a0,ldap-zuulv3-stable/ocata,- job: name: keystone-dsvm-ldap-domain-specific-driver parent: devstack-tempest vars: devstack_localrc: KEYSTONE_CLEAR_LDAP: 'yes' LDAP_PASSWORD: 'nomoresecret' USE_PYTHON3: True devstack_services: ldap: true - keystone-dsvm-ldap-domain-specific-driver:, - legacy-tempest-dsvm-ldap-domain-specific-driver:,12,1
openstack%2Fkeystone~stable%2Fqueens~Ie0b9f13d6fb06b776d6a58d5d1087c20df8a7cda,openstack/keystone,stable/queens,Ie0b9f13d6fb06b776d6a58d5d1087c20df8a7cda,Import LDAP job into project,MERGED,2019-10-15 17:27:08.000000000,2019-10-18 20:10:23.000000000,2019-10-18 20:10:23.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-15 17:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8b8a8f2c54820e13403746784843df017812896f', 'message': 'Import LDAP job into project\n\nImport the legacy-tempest-dsvm-ldap-domain-specific-driver job[1] into the\nkeystone repo and convert it to be Zuulv3 native.\n\n[1] https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/playbooks/legacy/tempest-dsvm-ldap-domain-specific-driver\n\nChange-Id: Ie0b9f13d6fb06b776d6a58d5d1087c20df8a7cda\nNeeded-by: https://review.opendev.org/687444\n(cherry picked from commit 52ab0cf579445190483f3a6f0e3aa5db0a9ebdef)\n(cherry picked from commit 0f6c6061b3026dc7a33bffad20848ebd3341af4b)\n(cherry picked from commit 429923fbb3be7229b0c6c1b6136b230d86672bcf)\n(cherry picked from commit 2f7155065456a3142ea05317dd82b370c70a7fdf)\n'}, {'number': 2, 'created': '2019-10-17 16:16:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/a6a438c9f82f49c7c516cdf480cf5f1f75a7e836', 'message': ""Import LDAP job into project\n\nImport the legacy-tempest-dsvm-ldap-domain-specific-driver job[1] into the\nkeystone repo and convert it to be Zuulv3 native.\n\nThis cherry-pick removes the explicit use of python3 since it doesn't\nquite work on this old of a branch.\n\n[1] https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/playbooks/legacy/tempest-dsvm-ldap-domain-specific-driver\n\nChange-Id: Ie0b9f13d6fb06b776d6a58d5d1087c20df8a7cda\nNeeded-by: https://review.opendev.org/687444\n(cherry picked from commit 52ab0cf579445190483f3a6f0e3aa5db0a9ebdef)\n(cherry picked from commit 0f6c6061b3026dc7a33bffad20848ebd3341af4b)\n(cherry picked from commit 429923fbb3be7229b0c6c1b6136b230d86672bcf)\n(cherry picked from commit 2f7155065456a3142ea05317dd82b370c70a7fdf)\n""}]",0,688758,a6a438c9f82f49c7c516cdf480cf5f1f75a7e836,15,4,2,8482,,,0,"Import LDAP job into project

Import the legacy-tempest-dsvm-ldap-domain-specific-driver job[1] into the
keystone repo and convert it to be Zuulv3 native.

This cherry-pick removes the explicit use of python3 since it doesn't
quite work on this old of a branch.

[1] https://opendev.org/openstack/openstack-zuul-jobs/src/branch/master/playbooks/legacy/tempest-dsvm-ldap-domain-specific-driver

Change-Id: Ie0b9f13d6fb06b776d6a58d5d1087c20df8a7cda
Needed-by: https://review.opendev.org/687444
(cherry picked from commit 52ab0cf579445190483f3a6f0e3aa5db0a9ebdef)
(cherry picked from commit 0f6c6061b3026dc7a33bffad20848ebd3341af4b)
(cherry picked from commit 429923fbb3be7229b0c6c1b6136b230d86672bcf)
(cherry picked from commit 2f7155065456a3142ea05317dd82b370c70a7fdf)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/58/688758/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,8b8a8f2c54820e13403746784843df017812896f,ldap-zuulv3-stable/queens,- job: name: keystone-dsvm-ldap-domain-specific-driver parent: devstack-tempest vars: devstack_localrc: KEYSTONE_CLEAR_LDAP: 'yes' LDAP_PASSWORD: 'nomoresecret' USE_PYTHON3: True devstack_services: ldap: true - keystone-dsvm-ldap-domain-specific-driver:, - legacy-tempest-dsvm-ldap-domain-specific-driver:,12,1
openstack%2Fsahara~stable%2Fqueens~Ib2499312df6ad0514a6d67214a84b975fb8c1425,openstack/sahara,stable/queens,Ib2499312df6ad0514a6d67214a84b975fb8c1425,Enforce python 2 for documentation build,MERGED,2019-10-18 15:04:17.000000000,2019-10-18 20:03:55.000000000,2019-10-18 20:02:14.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 15:04:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara/commit/99a76f281eee9a41597178217ae48f4cfb4c090d', 'message': 'Enforce python 2 for documentation build\n\nThe global goal which changed the building system has been\nintroduced in the rocky cycle.\nWithout this change, the docs target fails on modern systems\nwith python3. As queens is approaching Extended Maintenance,\nthis is probably the safest option.\n\nChange-Id: Ib2499312df6ad0514a6d67214a84b975fb8c1425\n'}]",0,689510,99a76f281eee9a41597178217ae48f4cfb4c090d,7,2,1,10459,,,0,"Enforce python 2 for documentation build

The global goal which changed the building system has been
introduced in the rocky cycle.
Without this change, the docs target fails on modern systems
with python3. As queens is approaching Extended Maintenance,
this is probably the safest option.

Change-Id: Ib2499312df6ad0514a6d67214a84b975fb8c1425
",git fetch https://review.opendev.org/openstack/sahara refs/changes/10/689510/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,99a76f281eee9a41597178217ae48f4cfb4c090d,,basepython = python2.7 rm -rf doc/build/html rm -rf api-ref/build/html, rm -rf doc/html doc/build rm -rf api-ref/build api-ref/html,3,2
openstack%2Fcongress~master~Ief3d927a65e1e1d179c6bfa78c822bfc388529d0,openstack/congress,master,Ief3d927a65e1e1d179c6bfa78c822bfc388529d0,Add Release Admin guide Contributing and RESTClient notes link to README,MERGED,2019-10-06 00:28:37.000000000,2019-10-18 20:03:24.000000000,2019-10-18 20:01:36.000000000,"[{'_account_id': 18591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-06 00:28:37.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/congress/commit/3d26fffc56e8df334a77ab386a1c6ea7f168be57', 'message': 'Add Release Admin guide Contributing and RESTClient notes link to README\n\nChange-Id: Ief3d927a65e1e1d179c6bfa78c822bfc388529d0\n'}]",0,686905,3d26fffc56e8df334a77ab386a1c6ea7f168be57,8,2,1,27190,,,0,"Add Release Admin guide Contributing and RESTClient notes link to README

Change-Id: Ief3d927a65e1e1d179c6bfa78c822bfc388529d0
",git fetch https://review.opendev.org/openstack/congress refs/changes/05/686905/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,3d26fffc56e8df334a77ab386a1c6ea7f168be57,,* Release notes: https://docs.openstack.org/releasenotes/congress * Admin guide: https://docs.openstack.org/congress/latest/admin/index.html * Contributing: https://docs.openstack.org/congress/latest/contributor/index.html * REST Clienthttps://opendev.org/openstack/python-congressclient,,4,0
openstack%2Fsahara~stable%2Fqueens~I1009205ee8298065cece5f0cda228b06a1281f14,openstack/sahara,stable/queens,I1009205ee8298065cece5f0cda228b06a1281f14,Fixing broken links and removing outdated driver,MERGED,2019-10-18 15:06:36.000000000,2019-10-18 20:02:15.000000000,2019-10-18 20:02:15.000000000,"[{'_account_id': 8932}, {'_account_id': 10607}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 15:06:36.000000000', 'files': ['doc/source/admin/advanced-configuration-guide.rst', 'doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/ca9345d0358995f28ee0e94375b349b665d66e75', 'message': 'Fixing broken links and removing outdated driver\n\nzmq is deprecated, removing unnecessary content\n\nChange-Id: I1009205ee8298065cece5f0cda228b06a1281f14\nBackport: stein rocky\nSigned-off-by: Alexandra Settle <asettle@suse.com>\nCo-Authored-By: Jeremy Freudberg <jeremyfreudberg@gmail.com>\n(cherry picked from commit 6e3e4b91c2068f7db3b360286560b1d19636856f)\n'}]",0,689512,ca9345d0358995f28ee0e94375b349b665d66e75,6,3,1,10459,,,0,"Fixing broken links and removing outdated driver

zmq is deprecated, removing unnecessary content

Change-Id: I1009205ee8298065cece5f0cda228b06a1281f14
Backport: stein rocky
Signed-off-by: Alexandra Settle <asettle@suse.com>
Co-Authored-By: Jeremy Freudberg <jeremyfreudberg@gmail.com>
(cherry picked from commit 6e3e4b91c2068f7db3b360286560b1d19636856f)
",git fetch https://review.opendev.org/openstack/sahara refs/changes/12/689512/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/advanced-configuration-guide.rst', 'doc/source/conf.py']",2,ca9345d0358995f28ee0e94375b349b665d66e75,zmq-long-deprecated,openstack_projects = [ 'oslo.messaging' ] ,,11,33
openstack%2Fcongress-dashboard~master~I7615b8fdf4793f5229725fc6502e0ed8e94aaddd,openstack/congress-dashboard,master,I7615b8fdf4793f5229725fc6502e0ed8e94aaddd,Use Horizon project template for django jobs,MERGED,2019-10-05 09:56:52.000000000,2019-10-18 20:01:44.000000000,2019-10-18 19:59:36.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 17130}, {'_account_id': 18591}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-10-05 09:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/9a651b6768554faf91f96d511cecb1b677ed0c75', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I7615b8fdf4793f5229725fc6502e0ed8e94aaddd\n""}, {'number': 2, 'created': '2019-10-05 10:06:29.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/40ee8ed1dd51cd0d9ddcc2bc420f5324aedf886c', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I7615b8fdf4793f5229725fc6502e0ed8e94aaddd\n""}]",0,686878,40ee8ed1dd51cd0d9ddcc2bc420f5324aedf886c,14,6,2,29313,,,0,"Use Horizon project template for django jobs

Horizon defined a project template 'horizon-non-primary-django-jobs'
for django jobs. This patch use that template to run django jobs
here. For information please refer [1]

[1] https://review.opendev.org/#/c/681969/

Change-Id: I7615b8fdf4793f5229725fc6502e0ed8e94aaddd
",git fetch https://review.opendev.org/openstack/congress-dashboard refs/changes/78/686878/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,9a651b6768554faf91f96d511cecb1b677ed0c75,django22,"envlist = py37,py36,py27,py3-{dj111,dj22},pep8commands = dj111: pip install django>=1.11,<2 dj22: pip install django>=2.2,<2.3 python manage.py test {posargs} --settings=congress_dashboard.test.settings","envlist = py37,py36,py27,pep8commands = python manage.py test {posargs} --settings=congress_dashboard.test.settings [testenv:py3-dj111] basepython = python3 commands = pip install django>=1.11,<2 {[testenv]commands}",6,14
openstack%2Fopenstack-ansible-os_nova~master~I6f3b5967ad906632d325b002b510e3fa96aac227,openstack/openstack-ansible-os_nova,master,I6f3b5967ad906632d325b002b510e3fa96aac227,PDF Documentation Build tox target,MERGED,2019-10-18 14:18:57.000000000,2019-10-18 19:59:24.000000000,2019-10-18 19:56:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-18 14:18:57.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/283a6c0181ce0d5612df737cdc4dd836ef255aac', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I6f3b5967ad906632d325b002b510e3fa96aac227\nStory: 2006105\n'}]",0,689476,283a6c0181ce0d5612df737cdc4dd836ef255aac,8,3,1,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: I6f3b5967ad906632d325b002b510e3fa96aac227
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/76/689476/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,283a6c0181ce0d5612df737cdc4dd836ef255aac,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,28,6
openstack%2Fopenstack-helm~master~I6f89ffb44ad805039c4074889a7c15fbef6fc95e,openstack/openstack-helm,master,I6f89ffb44ad805039c4074889a7c15fbef6fc95e,Horizon  API Handling  HTTP Security Headers Not Present,MERGED,2019-10-09 19:55:57.000000000,2019-10-18 19:58:56.000000000,2019-10-18 19:57:32.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 18295}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27623}, {'_account_id': 29942}, {'_account_id': 30445}]","[{'number': 1, 'created': '2019-10-09 19:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0827e0fa9ecd65feac366dbaecb3743e676654f8', 'message': 'Horizon  API Handling  HTTP Security Headers Not Present\n\nAdded new X-Content-Type-Options: nosniff header to make sure the browser\ndoes not try to detect a different Content-Type than what is actually\nsent (can lead to XSS)\n\nAdded new X-Frame-Options: sameorigin header to protect against\ndrag and drop clickjacking attacks in older browsers\n\nAdded new Content-Security-Policy: script-src self for implementation\n\nAdded new HTTP Security header X-XSS-Protection:1 mode=block to\nsanitize the page, when a XSS attack is detected, the browser will\nprevent rendering of the page\n\nChange-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e\n'}, {'number': 2, 'created': '2019-10-10 01:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6b0a23ab35e6584e67cb03b5f0d6b1c61013bf0a', 'message': 'Horizon  API Handling  HTTP Security Headers Not Present\n\nAdded new X-Content-Type-Options: nosniff header to make sure the browser\ndoes not try to detect a different Content-Type than what is actually\nsent (can lead to XSS)\n\nAdded new X-Frame-Options: sameorigin header to protect against\ndrag and drop clickjacking attacks in older browsers\n\nAdded new Content-Security-Policy: script-src self for implementation\n\nAdded new HTTP Security header X-XSS-Protection:1 mode=block to\nsanitize the page, when a XSS attack is detected, the browser will\nprevent rendering of the page\n\nChange-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e\n'}, {'number': 3, 'created': '2019-10-10 16:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eb83bbb75d9a217f7a62227f2678f6047e1e3cfa', 'message': 'Horizon  API Handling  HTTP Security Headers Not Present\n\nAdded new X-Content-Type-Options: nosniff header to make sure the browser\ndoes not try to detect a different Content-Type than what is actually\nsent (can lead to XSS)\n\nAdded new X-Frame-Options: sameorigin header to protect against\ndrag and drop clickjacking attacks in older browsers\n\nAdded new Content-Security-Policy: script-src self for implementation\n\nAdded new HTTP Security header X-XSS-Protection:1 mode=block to\nsanitize the page, when a XSS attack is detected, the browser will\nprevent rendering of the page\n\nChange-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e\n'}, {'number': 4, 'created': '2019-10-10 17:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dee5a111b214fd635a81261d92a62262f861036c', 'message': 'Horizon  API Handling  HTTP Security Headers Not Present\n\nAdded new X-Content-Type-Options: nosniff header to make sure the browser\ndoes not try to detect a different Content-Type than what is actually\nsent (can lead to XSS)\n\nAdded new X-Frame-Options: sameorigin header to protect against\ndrag and drop clickjacking attacks in older browsers\n\nAdded new Content-Security-Policy: script-src self for implementation\n\nAdded new HTTP Security header X-XSS-Protection:1 mode=block to\nsanitize the page, when a XSS attack is detected, the browser will\nprevent rendering of the page\n\nChange-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e\n'}, {'number': 5, 'created': '2019-10-10 17:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8a93e8637cb4e9a9f858f3546a9ed6ad17d8f0c9', 'message': 'Horizon  API Handling  HTTP Security Headers Not Present\n\nAdded new X-Content-Type-Options: nosniff header to make sure the browser\ndoes not try to detect a different Content-Type than what is actually\nsent (can lead to XSS)\n\nAdded new X-Frame-Options: sameorigin header to protect against\ndrag and drop clickjacking attacks in older browsers\n\nAdded new Content-Security-Policy: script-src self for implementation\n\nAdded new HTTP Security header X-XSS-Protection:1 mode=block to\nsanitize the page, when a XSS attack is detected, the browser will\nprevent rendering of the page\n\nChange-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e\n'}, {'number': 6, 'created': '2019-10-10 18:58:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/56de04f6441b8c0c1fb18b4af825fcc832824a7e', 'message': 'Horizon  API Handling  HTTP Security Headers Not Present\n\nAdded new X-Content-Type-Options: nosniff header to make sure the browser\ndoes not try to detect a different Content-Type than what is actually\nsent (can lead to XSS)\n\nAdded new X-Frame-Options: sameorigin header to protect against\ndrag and drop clickjacking attacks in older browsers\n\nAdded new Content-Security-Policy: script-src self for implementation\n\nAdded new HTTP Security header X-XSS-Protection:1 mode=block to\nsanitize the page, when a XSS attack is detected, the browser will\nprevent rendering of the page\n\nChange-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e\n'}, {'number': 7, 'created': '2019-10-10 19:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/94fdf54aaeb1be245c3d2c4d03b70f9bbd963b37', 'message': 'Horizon  API Handling  HTTP Security Headers Not Present\n\nAdded new X-Content-Type-Options: nosniff header to make sure the browser\ndoes not try to detect a different Content-Type than what is actually\nsent (can lead to XSS)\n\nAdded new X-Frame-Options: sameorigin header to protect against\ndrag and drop clickjacking attacks in older browsers\n\nAdded new Content-Security-Policy: script-src self for implementation\n\nAdded new HTTP Security header X-XSS-Protection:1 mode=block to\nsanitize the page, when a XSS attack is detected, the browser will\nprevent rendering of the page\n\nChange-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e\n'}, {'number': 8, 'created': '2019-10-10 20:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/87a3b2dd6459f23c54d6460310c287a2c3800712', 'message': 'Horizon  API Handling  HTTP Security Headers Not Present\n\nAdded new X-Content-Type-Options: nosniff header to make sure the browser\ndoes not try to detect a different Content-Type than what is actually\nsent (can lead to XSS)\n\nAdded new X-Frame-Options: sameorigin header to protect against\ndrag and drop clickjacking attacks in older browsers\n\nAdded new Content-Security-Policy: script-src self for implementation\n\nAdded new HTTP Security header X-XSS-Protection:1 mode=block to\nsanitize the page, when a XSS attack is detected, the browser will\nprevent rendering of the page\n\nChange-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e\n'}, {'number': 9, 'created': '2019-10-16 17:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/61f70f22e883bb8c009d3643c12b04248e19d606', 'message': 'Horizon  API Handling  HTTP Security Headers Not Present\n\nAdded new X-Content-Type-Options: nosniff header to make sure the browser\ndoes not try to detect a different Content-Type than what is actually\nsent (can lead to XSS)\n\nAdded new X-Frame-Options: sameorigin header to protect against\ndrag and drop clickjacking attacks in older browsers\n\nAdded new Content-Security-Policy: script-src self for implementation\n\nAdded new HTTP Security header X-XSS-Protection:1 mode=block to\nsanitize the page, when a XSS attack is detected, the browser will\nprevent rendering of the page\n\nChange-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e\n'}, {'number': 10, 'created': '2019-10-16 18:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/50a925f53e8826588e80796d1b781c587f65b4e8', 'message': 'Horizon  API Handling  HTTP Security Headers Not Present\n\nAdded new X-Content-Type-Options: nosniff header to make sure the browser\ndoes not try to detect a different Content-Type than what is actually\nsent (can lead to XSS)\n\nAdded new X-Frame-Options: sameorigin header to protect against\ndrag and drop clickjacking attacks in older browsers\n\nAdded new Content-Security-Policy: script-src self for implementation\n\nAdded new HTTP Security header X-XSS-Protection:1 mode=block to\nsanitize the page, when a XSS attack is detected, the browser will\nprevent rendering of the page\n\nChange-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e\n'}, {'number': 11, 'created': '2019-10-16 18:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5fc93b09a3418dc59b12f68d8e22d7f81126c73e', 'message': 'Horizon  API Handling  HTTP Security Headers Not Present\n\nAdded new X-Content-Type-Options: nosniff header to make sure the\nbrowser does not try to detect a different Content-Type than what is\nactually sent (can lead to XSS)\n\nComment that ""X-Frame-Options: sameorigin"" header already exists, this\nis to protect against drag and drop clickjacking attacks in older\nbrowsers\n\nAdded new Content-Security-Policy: script-src self for implementation\n\nAdded new HTTP Security header X-XSS-Protection:1 mode=block to\nsanitize the page, when a XSS attack is detected, the browser will\nprevent rendering of the page\n\nChange-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e\n'}, {'number': 12, 'created': '2019-10-17 02:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/58344ecc3864d6606813fc00a74f6f214deae7f2', 'message': 'Horizon  API Handling  HTTP Security Headers Not Present\n\nAdded new X-Content-Type-Options: nosniff header to make sure the browser\ndoes not try to detect a different Content-Type than what is actually\nsent (can lead to XSS)\n\nAdded new X-Frame-Options: sameorigin header to protect against\ndrag and drop clickjacking attacks in older browsers\n\nAdded new Content-Security-Policy: script-src self for implementation\n\nAdded new HTTP Security header X-XSS-Protection:1 mode=block to\nsanitize the page, when a XSS attack is detected, the browser will\nprevent rendering of the page\n\nChange-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e\n'}, {'number': 13, 'created': '2019-10-17 03:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/850364496930616f4171af8d7bf481a99b7b2f17', 'message': 'Horizon  API Handling  HTTP Security Headers Not Present\n\nAdded new X-Content-Type-Options: nosniff header to make sure the browser\ndoes not try to detect a different Content-Type than what is actually\nsent (can lead to XSS)\n\nAdded new X-Frame-Options: sameorigin header to protect against\ndrag and drop clickjacking attacks in older browsers\n\nAdded new Content-Security-Policy: script-src self for implementation\n\nAdded new HTTP Security header X-XSS-Protection:1 mode=block to\nsanitize the page, when a XSS attack is detected, the browser will\nprevent rendering of the page\n\nChange-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e\n'}, {'number': 14, 'created': '2019-10-17 04:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/276ee43306f9c430ab0746ff2eb410149ff779dd', 'message': 'Horizon  API Handling  HTTP Security Headers Not Present\n\nAdded new X-Content-Type-Options: nosniff header to make sure the browser\ndoes not try to detect a different Content-Type than what is actually\nsent (can lead to XSS)\n\nAdded new X-Frame-Options: sameorigin header to protect against\ndrag and drop clickjacking attacks in older browsers\n\nAdded new Content-Security-Policy: script-src self for implementation\n\nAdded new HTTP Security header X-XSS-Protection:1 mode=block to\nsanitize the page, when a XSS attack is detected, the browser will\nprevent rendering of the page\n\nChange-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e\n'}, {'number': 15, 'created': '2019-10-17 06:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6e2b1f2390035877f0fffb10b5d74c3705aa1715', 'message': 'Horizon  API Handling  HTTP Security Headers Not Present\n\nAdded new X-Content-Type-Options: nosniff header to make sure the browser\ndoes not try to detect a different Content-Type than what is actually\nsent (can lead to XSS)\n\nAdded new X-Frame-Options: sameorigin header to protect against\ndrag and drop clickjacking attacks in older browsers\n\nAdded new Content-Security-Policy: script-src self for implementation\n\nAdded new HTTP Security header X-XSS-Protection:1 mode=block to\nsanitize the page, when a XSS attack is detected, the browser will\nprevent rendering of the page\n\nChange-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e\n'}, {'number': 16, 'created': '2019-10-17 07:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/743f8dec7f28f3fa4bdf9f179d63642c1b85bf6a', 'message': 'Horizon  API Handling  HTTP Security Headers Not Present\n\nAdded new X-Content-Type-Options: nosniff header to make sure the browser\ndoes not try to detect a different Content-Type than what is actually\nsent (can lead to XSS)\n\nAdded new X-Frame-Options: sameorigin header to protect against\ndrag and drop clickjacking attacks in older browsers\n\nAdded new Content-Security-Policy: script-src self for implementation\n\nAdded new HTTP Security header X-XSS-Protection:1 mode=block to\nsanitize the page, when a XSS attack is detected, the browser will\nprevent rendering of the page\n\nChange-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e\n'}, {'number': 17, 'created': '2019-10-17 08:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0f61a227ff8edeb8dc79a499c94ef3950dcddad5', 'message': 'Horizon  API Handling  HTTP Security Headers Not Present\n\nAdded new X-Content-Type-Options: nosniff header to make sure the browser\ndoes not try to detect a different Content-Type than what is actually\nsent (can lead to XSS)\n\nAdded new X-Frame-Options: sameorigin header to protect against\ndrag and drop clickjacking attacks in older browsers\n\nAdded new Content-Security-Policy: script-src self for implementation\n\nAdded new HTTP Security header X-XSS-Protection:1 mode=block to\nsanitize the page, when a XSS attack is detected, the browser will\nprevent rendering of the page\n\nChange-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e\n'}, {'number': 18, 'created': '2019-10-17 09:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/86357ac5b9f2ab05bf73e9781ab51bfe18be4a36', 'message': 'Horizon  API Handling  HTTP Security Headers Not Present\n\nAdded new X-Content-Type-Options: nosniff header to make sure the browser\ndoes not try to detect a different Content-Type than what is actually\nsent (can lead to XSS)\n\nAdded new X-Frame-Options: sameorigin header to protect against\ndrag and drop clickjacking attacks in older browsers\n\nAdded new Content-Security-Policy: script-src self for implementation\n\nAdded new HTTP Security header X-XSS-Protection:1 mode=block to\nsanitize the page, when a XSS attack is detected, the browser will\nprevent rendering of the page\n\nChange-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e\n'}, {'number': 19, 'created': '2019-10-17 10:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/811f16f46db827e50a4c26deb91802a39ec202b8', 'message': 'Horizon  API Handling  HTTP Security Headers Not Present\n\nAdded new X-Content-Type-Options: nosniff header to make sure the browser\ndoes not try to detect a different Content-Type than what is actually\nsent (can lead to XSS)\n\nAdded new X-Frame-Options: sameorigin header to protect against\ndrag and drop clickjacking attacks in older browsers\n\nAdded new Content-Security-Policy: script-src self for implementation\n\nAdded new HTTP Security header X-XSS-Protection:1 mode=block to\nsanitize the page, when a XSS attack is detected, the browser will\nprevent rendering of the page\n\nChange-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e\n'}, {'number': 20, 'created': '2019-10-17 12:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/74bd718b6585fbd8de9354847f5f381c812b1560', 'message': 'Horizon  API Handling  HTTP Security Headers Not Present\n\nAdded new X-Content-Type-Options: nosniff header to make sure the browser\ndoes not try to detect a different Content-Type than what is actually\nsent (can lead to XSS)\n\nAdded new X-Frame-Options: sameorigin header to protect against\ndrag and drop clickjacking attacks in older browsers\n\nAdded new Content-Security-Policy: script-src self for implementation\n\nAdded new HTTP Security header X-XSS-Protection:1 mode=block to\nsanitize the page, when a XSS attack is detected, the browser will\nprevent rendering of the page\n\nChange-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e\n'}, {'number': 21, 'created': '2019-10-17 15:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6603766c39befd956c01a1d128d0adbe788ae914', 'message': 'Horizon  API Handling  HTTP Security Headers Not Present\n\nAdded new X-Content-Type-Options: nosniff header to make sure the browser\ndoes not try to detect a different Content-Type than what is actually\nsent (can lead to XSS)\n\nAdded new Header and set X-Permitted-Cross-Domain-Policies: ""none""\n\nChange-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e\n'}, {'number': 22, 'created': '2019-10-17 16:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/efaca990538cd3ef736605b90d4be0709b83f0f5', 'message': 'Horizon  API Handling  HTTP Security Headers Not Present\n\nAdded new X-Content-Type-Options: nosniff header to make sure the browser\ndoes not try to detect a different Content-Type than what is actually\nsent (can lead to XSS)\n\nAdded new Header and set X-Permitted-Cross-Domain-Policies: ""none""\n\nChange-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e\n'}, {'number': 23, 'created': '2019-10-18 15:31:14.000000000', 'files': ['horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/243f74f10d9d6098c046fdd6316aad6bcde2c331', 'message': 'Horizon  API Handling  HTTP Security Headers Not Present\n\nAdded new X-Content-Type-Options: nosniff header to make sure the browser\ndoes not try to detect a different Content-Type than what is actually\nsent (can lead to XSS)\n\nAdded new Header and set X-Permitted-Cross-Domain-Policies: ""none""\n\nChange-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e\n'}]",5,687660,243f74f10d9d6098c046fdd6316aad6bcde2c331,67,9,23,30445,,,0,"Horizon  API Handling  HTTP Security Headers Not Present

Added new X-Content-Type-Options: nosniff header to make sure the browser
does not try to detect a different Content-Type than what is actually
sent (can lead to XSS)

Added new Header and set X-Permitted-Cross-Domain-Policies: ""none""

Change-Id: I6f89ffb44ad805039c4074889a7c15fbef6fc95e
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/60/687660/22 && git format-patch -1 --stdout FETCH_HEAD,['horizon/values.yaml'],1,0827e0fa9ecd65feac366dbaecb3743e676654f8,687660," nginx.ingress.kubernetes.io/configuration-snippet: | more_set_headers ""X-Content-Type-Options: 'nosniff'""; more_set_headers ""X-Frame-Options: SAMEORIGIN""; more_set_headers ""Content-Security-Policy: script-src 'self'""; more_set_headers ""X-Permitted-Cross-Domain-Policies: none""; more_clear_headers ""Server""; more_set_headers ""X-XSS-Protection: 1; mode=block"";",,7,1
openstack%2Fopenstack-ansible-os_nova~master~I935f20565e2ed382be0444eef430fa07575986a9,openstack/openstack-ansible-os_nova,master,I935f20565e2ed382be0444eef430fa07575986a9,Restore debian voting jobs,MERGED,2019-10-03 19:15:41.000000000,2019-10-18 19:58:30.000000000,2019-10-18 19:56:20.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-03 19:15:41.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/83878a09a1a42680f2b40655d648761d9b0979d2', 'message': 'Restore debian voting jobs\n\nIn 656104, we dropped the voting jobs because of infra issues,\nthis patch is to make sure we restore and make jobs voting again.\n\nChange-Id: I935f20565e2ed382be0444eef430fa07575986a9\n'}]",0,686466,83878a09a1a42680f2b40655d648761d9b0979d2,11,3,1,1004,,,0,"Restore debian voting jobs

In 656104, we dropped the voting jobs because of infra issues,
this patch is to make sure we restore and make jobs voting again.

Change-Id: I935f20565e2ed382be0444eef430fa07575986a9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/66/686466/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,83878a09a1a42680f2b40655d648761d9b0979d2,,, check: jobs: - openstack-ansible-deploy-aio_metal-debian-stable: voting: false gate: jobs: - openstack-ansible-deploy-aio_metal-debian-stable: voting: false,0,8
openstack%2Fpuppet-tripleo~master~I5ad516f1bf08369045d7729abafedb11e4cfc541,openstack/puppet-tripleo,master,I5ad516f1bf08369045d7729abafedb11e4cfc541,Prepare RC + stable/train,MERGED,2019-10-18 15:18:33.000000000,2019-10-18 19:51:25.000000000,2019-10-18 19:51:25.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 15:18:33.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c97dbd19462672e527e515c32371010b1ac16d34', 'message': 'Prepare RC + stable/train\n\nChange-Id: I5ad516f1bf08369045d7729abafedb11e4cfc541\n'}]",0,689517,c97dbd19462672e527e515c32371010b1ac16d34,6,2,1,3153,,,0,"Prepare RC + stable/train

Change-Id: I5ad516f1bf08369045d7729abafedb11e4cfc541
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/17/689517/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,c97dbd19462672e527e515c32371010b1ac16d34,tripleo/branch," ""version"": ""11.3.0"","," ""version"": ""11.2.0"",",1,1
openstack%2Fpuppet-tripleo~stable%2Frocky~I5ec6a5b0c66579e068e811f49aae10a5f406158a,openstack/puppet-tripleo,stable/rocky,I5ec6a5b0c66579e068e811f49aae10a5f406158a,Add a configurable delay to Nova Evacuate calls,MERGED,2019-10-17 07:53:13.000000000,2019-10-18 19:28:46.000000000,2019-10-18 19:28:46.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-17 07:53:13.000000000', 'files': ['manifests/profile/base/pacemaker/instance_ha.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e657d76762c2affabae09a90139ca39efc64654e', 'message': 'Add a configurable delay to Nova Evacuate calls\n\nAdd a configurable delay to Nova Evacuate calls\n\nIn case /var/lib/nova/instances resides on NFS we have seen migrations\nfailing with \'Failed to get ""write"" lock - Is another process using the\nimage\' errors.\n\nThis has been tracked down to grace/lease timeouts not having expired\nbefore attempting the migration/evacuate, so in this cases it might be\ndesirable to delay the nova evacuate call to give the storage time to\nrelease the locks.\n\nRelated resource-agents change: https://review.opendev.org/#/c/684777/\n\nNB: cherry-pick not 100% clean due to missing I00d4f97cd24f7c36eeb0a29f9c91422cf7ded3ee\n    (Add region support for instance HA). As there are no current plans\n    to backport that, we chose to adapt this review instead\n\nChange-Id: I5ec6a5b0c66579e068e811f49aae10a5f406158a\nResolves: rhbz#1740069\n(cherry picked from commit 72487d804ef4c64d16889b1b474252f6963a18c2)\n'}]",0,689095,e657d76762c2affabae09a90139ca39efc64654e,10,3,1,30126,,,0,"Add a configurable delay to Nova Evacuate calls

Add a configurable delay to Nova Evacuate calls

In case /var/lib/nova/instances resides on NFS we have seen migrations
failing with 'Failed to get ""write"" lock - Is another process using the
image' errors.

This has been tracked down to grace/lease timeouts not having expired
before attempting the migration/evacuate, so in this cases it might be
desirable to delay the nova evacuate call to give the storage time to
release the locks.

Related resource-agents change: https://review.opendev.org/#/c/684777/

NB: cherry-pick not 100% clean due to missing I00d4f97cd24f7c36eeb0a29f9c91422cf7ded3ee
    (Add region support for instance HA). As there are no current plans
    to backport that, we chose to adapt this review instead

Change-Id: I5ec6a5b0c66579e068e811f49aae10a5f406158a
Resolves: rhbz#1740069
(cherry picked from commit 72487d804ef4c64d16889b1b474252f6963a18c2)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/95/689095/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker/instance_ha.pp'],1,e657d76762c2affabae09a90139ca39efc64654e,iha_stein-stable/rocky,"# [*evacuate_delay*] # (Optional) Integer, seconds to wait before starting the nova evacuate # Defaults to hiera('tripleo::instanceha::evacuate_delay', 0) # $evacuate_delay = hiera('tripleo::instanceha::evacuate_delay', 0), if $evacuate_delay > 0 { $evacuate_param = "" evacuate_delay=${evacuate_delay}"" } else { $evacuate_param = '' } resource_params => ""auth_url=${keystone_endpoint_url} username=${keystone_admin} password=${keystone_password} user_domain=${user_domain} project_domain=${project_domain} tenant_name=${keystone_admin} ${iha_no_shared_storage}${evacuate_param}"","," resource_params => ""auth_url=${keystone_endpoint_url} username=${keystone_admin} password=${keystone_password} user_domain=${user_domain} project_domain=${project_domain} tenant_name=${keystone_admin} ${iha_no_shared_storage}"",",11,1
openstack%2Fopenstack-ansible-os_neutron~master~I3435e2ec962b8cc06d520cd818adc3bb9c7173ea,openstack/openstack-ansible-os_neutron,master,I3435e2ec962b8cc06d520cd818adc3bb9c7173ea,PDF Documentation Build tox target,MERGED,2019-10-18 14:13:18.000000000,2019-10-18 19:28:42.000000000,2019-10-18 19:27:22.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-18 14:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/9739731e98dc89a177cf80b69343898ca5501047', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I3435e2ec962b8cc06d520cd818adc3bb9c7173ea\nStory: 2006105\n'}, {'number': 2, 'created': '2019-10-18 15:52:45.000000000', 'files': ['doc/source/index.rst', 'doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/2f1b789e06b3e91201ca312c81c9d2a17fc322f8', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I3435e2ec962b8cc06d520cd818adc3bb9c7173ea\nStory: 2006105\n'}]",0,689475,2f1b789e06b3e91201ca312c81c9d2a17fc322f8,11,3,2,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: I3435e2ec962b8cc06d520cd818adc3bb9c7173ea
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/75/689475/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,9739731e98dc89a177cf80b69343898ca5501047,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,27,5
openstack%2Fpuppet-keystone~stable%2Ftrain~I90584d3b5900d2dc74ae8ae1ff293822e5d6ecd9,openstack/puppet-keystone,stable/train,I90584d3b5900d2dc74ae8ae1ff293822e5d6ecd9,New keystone::resource::authtoken::interface parameter,MERGED,2019-10-17 17:55:31.000000000,2019-10-18 19:25:52.000000000,2019-10-18 19:24:54.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-17 17:55:31.000000000', 'files': ['manifests/resource/authtoken.pp', 'spec/defines/keystone_resource_authtoken_spec.rb', 'releasenotes/notes/authtoken_interface-2e8ccbd3e961e0fb.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/e57542a415024de86df5445a955989be839f04c4', 'message': 'New keystone::resource::authtoken::interface parameter\n\nAdds interface parameter to keystone::resource::authtoken allow\nservices to configure the interface to use for the Identity API\nendpoint.\nValid values are ""public"", ""internal"" or ""admin"".\n\nChange-Id: I90584d3b5900d2dc74ae8ae1ff293822e5d6ecd9\n(cherry picked from commit a8f3616a483db3314dc9b4ed9eeac368814c99fd)\n'}]",0,689235,e57542a415024de86df5445a955989be839f04c4,15,4,1,17216,,,0,"New keystone::resource::authtoken::interface parameter

Adds interface parameter to keystone::resource::authtoken allow
services to configure the interface to use for the Identity API
endpoint.
Valid values are ""public"", ""internal"" or ""admin"".

Change-Id: I90584d3b5900d2dc74ae8ae1ff293822e5d6ecd9
(cherry picked from commit a8f3616a483db3314dc9b4ed9eeac368814c99fd)
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/35/689235/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/resource/authtoken.pp', 'spec/defines/keystone_resource_authtoken_spec.rb', 'releasenotes/notes/authtoken_interface-2e8ccbd3e961e0fb.yaml']",3,e57542a415024de86df5445a955989be839f04c4,authtoken_interface-stable/train,"--- features: - | Adds interface parameter to keystone::resource::authtoken allow services to configure the interface to use for the Identity API endpoint. Valid values are ""public"", ""internal"" or ""admin"". ",,16,0
openstack%2Fheat~master~I34cbd3526aef79132f6d97569d48a347e904ab75,openstack/heat,master,I34cbd3526aef79132f6d97569d48a347e904ab75,DB: Remove unnecessary subtransactions=True,MERGED,2019-10-09 16:34:20.000000000,2019-10-18 19:20:51.000000000,2019-10-18 19:19:00.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 16:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/54f5593eb3a0569fd8a6545dbbf1cd0c8a822b95', 'message': 'DB: Remove unnecessary subtransactions=True\n\nIt is only necessary to pass subtransactions=True to session.begin()\nwhen the new transactions may be called from inside an existing\ntransaction. There is *no* need to pass it from the top level\ntransaction in anticipation that there may be subtransactions. The\nsqlalchemy docs are not 100% clear on this so we were doing both to be\nsure to be sure, but we have confirmed that the latter is not required.\n\nSince passing subtransactions=True when it is not required may cover up\nother problems, remove it except in those cases where we know the API\nmay be called as a subtransaction.\n\nChange-Id: I34cbd3526aef79132f6d97569d48a347e904ab75\nTask: 37000\n'}, {'number': 2, 'created': '2019-10-09 20:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1aeb8a497644f0afdc5cc5c691f04f97076cc0f4', 'message': 'DB: Remove unnecessary subtransactions=True\n\nIt is only necessary to pass subtransactions=True to session.begin()\nwhen the new transactions may be called from inside an existing\ntransaction. There is *no* need to pass it from the top level\ntransaction in anticipation that there may be subtransactions. The\nsqlalchemy docs are not 100% clear on this so we were doing both to be\nsure to be sure, but we have confirmed that the latter is not required.\n\nSince passing subtransactions=True when it is not required may cover up\nother problems, remove it except in those cases where we know the API\nmay be called as a subtransaction.\n\nChange-Id: I34cbd3526aef79132f6d97569d48a347e904ab75\nTask: 37000\n'}, {'number': 3, 'created': '2019-10-10 01:56:33.000000000', 'files': ['heat/db/sqlalchemy/api.py', 'heat/engine/service.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/df1aad961cd804af46d1039c823533de8da9cec2', 'message': 'DB: Remove unnecessary subtransactions=True\n\nIt is only necessary to pass subtransactions=True to session.begin()\nwhen the new transactions may be called from inside an existing\ntransaction. There is *no* need to pass it from the top level\ntransaction in anticipation that there may be subtransactions. The\nsqlalchemy docs are not 100% clear on this so we were doing both to be\nsure to be sure, but we have confirmed that the latter is not required.\n\nSince passing subtransactions=True when it is not required may cover up\nother problems, remove it except in those cases where we know the API\nmay be called as a subtransaction.\n\nChange-Id: I34cbd3526aef79132f6d97569d48a347e904ab75\nTask: 37000\n'}]",2,687617,df1aad961cd804af46d1039c823533de8da9cec2,22,4,3,4257,,,0,"DB: Remove unnecessary subtransactions=True

It is only necessary to pass subtransactions=True to session.begin()
when the new transactions may be called from inside an existing
transaction. There is *no* need to pass it from the top level
transaction in anticipation that there may be subtransactions. The
sqlalchemy docs are not 100% clear on this so we were doing both to be
sure to be sure, but we have confirmed that the latter is not required.

Since passing subtransactions=True when it is not required may cover up
other problems, remove it except in those cases where we know the API
may be called as a subtransaction.

Change-Id: I34cbd3526aef79132f6d97569d48a347e904ab75
Task: 37000
",git fetch https://review.opendev.org/openstack/heat refs/changes/17/687617/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/db/sqlalchemy/api.py'],1,54f5593eb3a0569fd8a6545dbbf1cd0c8a822b95,, with session.begin(): with context.session.begin(): with session.begin(): with session.begin(): with session.begin(): with session.begin(): with session.begin(): with session.begin(): with session.begin(): with session.begin(): with session.begin(): with session.begin():, with session.begin(subtransactions=True): with context.session.begin(subtransactions=True): with session.begin(subtransactions=True): with session.begin(subtransactions=True): with session.begin(subtransactions=True): with session.begin(subtransactions=True): with session.begin(subtransactions=True): with session.begin(subtransactions=True): with session.begin(subtransactions=True): with session.begin(subtransactions=True): with session.begin(subtransactions=True): with session.begin(subtransactions=True):,12,12
openstack%2Fnetworking-ovn~stable%2Fstein~I8c1174df562a7164d4a96ce2e733279723827dcd,openstack/networking-ovn,stable/stein,I8c1174df562a7164d4a96ce2e733279723827dcd,Avoid port group creation race,MERGED,2019-10-09 13:55:03.000000000,2019-10-18 19:17:23.000000000,2019-10-18 19:16:08.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-10-09 13:55:03.000000000', 'files': ['networking_ovn/common/ovn_client.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ac13fe61310765796b29d33c7df9e8103eddb147', 'message': ""Avoid port group creation race\n\nThe neutron_pg_drop Porg Group is created with some ACLs to drop\nall the traffic by default. This group doesn't match any Neutron\nresource and it's created once the first Neutron port with\nport_security enabled gets created.\n\nA race condition exists whn the first two ports get created\nsimultaneously by different works as both may attempt to create\nthis Port Group. The result is that one of the port creations will\nfail. Setting may_exist=True should avoid this race\n\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nCloses-Bug: 1838969\nChange-Id: I8c1174df562a7164d4a96ce2e733279723827dcd\n(cherry picked from commit e946836b208a5ddc3a17f2dba53658c4b9a3f8f7)\n""}]",0,687567,ac13fe61310765796b29d33c7df9e8103eddb147,20,6,1,24791,,,0,"Avoid port group creation race

The neutron_pg_drop Porg Group is created with some ACLs to drop
all the traffic by default. This group doesn't match any Neutron
resource and it's created once the first Neutron port with
port_security enabled gets created.

A race condition exists whn the first two ports get created
simultaneously by different works as both may attempt to create
this Port Group. The result is that one of the port creations will
fail. Setting may_exist=True should avoid this race

Co-authored-by: Daniel Alvarez <dalvarez@redhat.com>
Closes-Bug: 1838969
Change-Id: I8c1174df562a7164d4a96ce2e733279723827dcd
(cherry picked from commit e946836b208a5ddc3a17f2dba53658c4b9a3f8f7)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/67/687567/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/common/ovn_client.py'],1,ac13fe61310765796b29d33c7df9e8103eddb147,," txn.add(self._nb_idl.pg_add(pg_name, acls=[], may_exist=True)) txn.add(self._nb_idl.pg_acl_add(may_exist=True, **acl))"," txn.add(self._nb_idl.pg_add(pg_name, acls=[])) txn.add(self._nb_idl.pg_acl_add(**acl))",2,2
openstack%2Fopenstack-ansible-os_glance~master~I2efe015a695bc45efe1ae63f62dd55329aa94c31,openstack/openstack-ansible-os_glance,master,I2efe015a695bc45efe1ae63f62dd55329aa94c31,PDF Documentation Build tox target,MERGED,2019-10-18 13:16:13.000000000,2019-10-18 19:15:41.000000000,2019-10-18 19:14:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-18 13:16:13.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/4905fd164056d2a2ac10f25fc3cea07dcbd8ebb2', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I2efe015a695bc45efe1ae63f62dd55329aa94c31\nStory: 2006105\n'}]",0,689448,4905fd164056d2a2ac10f25fc3cea07dcbd8ebb2,8,3,1,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: I2efe015a695bc45efe1ae63f62dd55329aa94c31
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/48/689448/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,4905fd164056d2a2ac10f25fc3cea07dcbd8ebb2,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,27,5
openstack%2Fopenstack-ansible-os_cloudkitty~master~I53f6bcf2f6bd1caf2a020b96c3f59231054bdea6,openstack/openstack-ansible-os_cloudkitty,master,I53f6bcf2f6bd1caf2a020b96c3f59231054bdea6,PDF Documentation Build tox target,MERGED,2019-10-18 13:10:04.000000000,2019-10-18 19:12:46.000000000,2019-10-18 19:11:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-18 13:10:04.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cloudkitty/commit/10556a264c2e9bab30852520e22a064d1f230be1', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I53f6bcf2f6bd1caf2a020b96c3f59231054bdea6\nStory: 2006105\n'}]",0,689446,10556a264c2e9bab30852520e22a064d1f230be1,8,3,1,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: I53f6bcf2f6bd1caf2a020b96c3f59231054bdea6
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cloudkitty refs/changes/46/689446/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,10556a264c2e9bab30852520e22a064d1f230be1,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,28,6
openstack%2Fopenstack-ansible-os_keystone~master~Ie55900a7a2b3f3696588100137847f1950cf72e2,openstack/openstack-ansible-os_keystone,master,Ie55900a7a2b3f3696588100137847f1950cf72e2,PDF Documentation Build tox target,MERGED,2019-10-18 13:32:10.000000000,2019-10-18 18:59:03.000000000,2019-10-18 18:57:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-18 13:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/99fa1519dca5aa614fa7bd27ceaaee4a216df9f3', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: Ie55900a7a2b3f3696588100137847f1950cf72e2\nStory: 2006105\n'}, {'number': 2, 'created': '2019-10-18 16:56:11.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/aac229121fe87422b018716f6e04ad235d8a695e', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: Ie55900a7a2b3f3696588100137847f1950cf72e2\nStory: 2006105\n'}]",0,689453,aac229121fe87422b018716f6e04ad235d8a695e,10,3,2,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: Ie55900a7a2b3f3696588100137847f1950cf72e2
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/53/689453/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,99fa1519dca5aa614fa7bd27ceaaee4a216df9f3,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,26,6
openstack%2Fopenstack-ansible-galera_client~master~I791eb263daca896aa4538f38938b43f2a4a75b5c,openstack/openstack-ansible-galera_client,master,I791eb263daca896aa4538f38938b43f2a4a75b5c,Switch to opensuse-15 nodeset,MERGED,2019-10-16 19:19:20.000000000,2019-10-18 18:57:34.000000000,2019-10-18 18:54:37.000000000,"[{'_account_id': 6547}, {'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-16 19:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/7ed8d3556400869dc483f8a9f804987ccc4e22de', 'message': 'Switch to opensuse-15 nodeset\n\nopensuse-150 nodeset is referring to openSUSE 15.0, which is still in\nmaintenance but openSUSE 15.1 has been released already. ""opensuse-15""\nis going to refer to the ""latest openSUSE 15.x"" build released and\nworking for OpenStack going forward, so add this nodeset and use\nit by default going forward.\n\nChange-Id: I791eb263daca896aa4538f38938b43f2a4a75b5c\n'}, {'number': 2, 'created': '2019-10-18 06:39:26.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/dd4cadbdea8ea0602927571ae9d42aebaa32456f', 'message': 'Switch to opensuse-15 nodeset\n\nopensuse-150 nodeset is referring to openSUSE 15.0, which is still in\nmaintenance but openSUSE 15.1 has been released already. ""opensuse-15""\nis going to refer to the ""latest openSUSE 15.x"" build released and\nworking for OpenStack going forward, so add this nodeset and use\nit by default going forward.\n\nDepends-On: https://review.opendev.org/#/c/689323/\nChange-Id: I791eb263daca896aa4538f38938b43f2a4a75b5c\n'}]",0,689010,dd4cadbdea8ea0602927571ae9d42aebaa32456f,14,5,2,6547,,,0,"Switch to opensuse-15 nodeset

opensuse-150 nodeset is referring to openSUSE 15.0, which is still in
maintenance but openSUSE 15.1 has been released already. ""opensuse-15""
is going to refer to the ""latest openSUSE 15.x"" build released and
working for OpenStack going forward, so add this nodeset and use
it by default going forward.

Depends-On: https://review.opendev.org/#/c/689323/
Change-Id: I791eb263daca896aa4538f38938b43f2a4a75b5c
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/10/689010/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,7ed8d3556400869dc483f8a9f804987ccc4e22de,opensuse-150, nodeset: opensuse-15, nodeset: opensuse-150,1,1
openstack%2Fcharm-deployment-guide~master~I6712faa8162df06743b29b989503744d253e8ba0,openstack/charm-deployment-guide,master,I6712faa8162df06743b29b989503744d253e8ba0,Placement charm upgrade notes for Stein to Train,MERGED,2019-10-18 18:36:30.000000000,2019-10-18 18:50:37.000000000,2019-10-18 18:49:16.000000000,"[{'_account_id': 11805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 18:36:30.000000000', 'files': ['deploy-guide/source/app-upgrade-openstack.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/aac42a60fab58904d06afcb36057bbe922892942', 'message': 'Placement charm upgrade notes for Stein to Train\n\nChange-Id: I6712faa8162df06743b29b989503744d253e8ba0\n'}]",0,689561,aac42a60fab58904d06afcb36057bbe922892942,7,2,1,30561,,,0,"Placement charm upgrade notes for Stein to Train

Change-Id: I6712faa8162df06743b29b989503744d253e8ba0
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/61/689561/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-upgrade-openstack.rst'],1,aac42a60fab58904d06afcb36057bbe922892942,stein-train-upgrade-notes,"Placement charm and nova-cloud-controller: upgrading from Stein to Train ------------------------------------------------------------------------ As of Train, the placement API is managed by the new placement charm and is no longer managed by the nova-cloud-controller charm. The upgrade to Train therefore requires some coordination to transition to the new API endpoints. Prior to upgrading nova-cloud-controller to Train, the placement charm must be deployed for Train and related to the Stein-based nova-cloud-controller. It is important that the nova-cloud-controller unit leader is paused while the API transition occurs (paused prior to adding relations for the placement charm) as the placement charm will migrate existing placement tables from the nova_api database to a new placement database. Once the new placement endpoints are registered, nova-cloud-controller can be resumed. Here's an example of the steps just described: .. code:: juju deploy --series bionic --config openstack-origin=cloud:bionic-train cs:placement juju run-action nova-cloud-controller/leader pause juju add-relation placement mysql juju add-relation placement keystone juju add-relation placement nova-cloud-controller openstack endpoint list # ensure placement endpoints are listening on new placment IP address juju run-action nova-cloud-controller/leader resume Only after these steps have been completed can nova-cloud-controller be upgraded. Here we upgrade all units simultaneously but see `Action managed`_ for a more controlled approach: .. code:: juju config nova-cloud-controller openstack-origin=cloud:bionic-train",,34,0
openstack%2Fopenstack-ansible-os_swift~master~Ic33ce7bd38461dc9b3363f70b1e95baf4e969172,openstack/openstack-ansible-os_swift,master,Ic33ce7bd38461dc9b3363f70b1e95baf4e969172,PDF Documentation Build tox target,MERGED,2019-10-18 15:05:30.000000000,2019-10-18 18:49:00.000000000,2019-10-18 18:47:46.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-18 15:05:30.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/97790114dc89ed1b726b396dc37a2240b2508350', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: Ic33ce7bd38461dc9b3363f70b1e95baf4e969172\nStory: 2006105\n'}]",0,689511,97790114dc89ed1b726b396dc37a2240b2508350,8,3,1,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: Ic33ce7bd38461dc9b3363f70b1e95baf4e969172
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/11/689511/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,97790114dc89ed1b726b396dc37a2240b2508350,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,28,6
openstack%2Fopenstack-ansible-os_designate~master~I9912fa1937def7cca5805f865206a3e9337c56e8,openstack/openstack-ansible-os_designate,master,I9912fa1937def7cca5805f865206a3e9337c56e8,PDF Documentation Build tox target,MERGED,2019-10-18 13:13:41.000000000,2019-10-18 18:47:57.000000000,2019-10-18 18:46:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-18 13:13:41.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/629a0e00cbe2ca8836c52d90036fe249d2426519', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I9912fa1937def7cca5805f865206a3e9337c56e8\nStory: 2006105\n'}]",0,689447,629a0e00cbe2ca8836c52d90036fe249d2426519,8,3,1,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: I9912fa1937def7cca5805f865206a3e9337c56e8
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/47/689447/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,629a0e00cbe2ca8836c52d90036fe249d2426519,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,27,6
openstack%2Fopenstack-ansible-os_octavia~master~I8783737c2fdfd625e9f015a3630d664e2e2e0cc6,openstack/openstack-ansible-os_octavia,master,I8783737c2fdfd625e9f015a3630d664e2e2e0cc6,PDF Documentation Build tox target,MERGED,2019-10-18 14:32:27.000000000,2019-10-18 18:47:06.000000000,2019-10-18 18:45:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-18 14:32:27.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/942a245af6cea7de2c056ad1fe6178b61a812908', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I8783737c2fdfd625e9f015a3630d664e2e2e0cc6\nStory: 2006105\n'}]",0,689480,942a245af6cea7de2c056ad1fe6178b61a812908,8,3,1,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: I8783737c2fdfd625e9f015a3630d664e2e2e0cc6
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/80/689480/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,942a245af6cea7de2c056ad1fe6178b61a812908,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,28,6
openstack%2Fopenstack-ansible-os_gnocchi~master~I26fce963eb6649fd59a8636a80329db15667c73c,openstack/openstack-ansible-os_gnocchi,master,I26fce963eb6649fd59a8636a80329db15667c73c,PDF Documentation Build tox target,MERGED,2019-10-18 13:20:11.000000000,2019-10-18 18:46:08.000000000,2019-10-18 18:44:42.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-18 13:20:11.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/e4babdd7c838e3a26c15daa84c9c0f0391c307d8', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I26fce963eb6649fd59a8636a80329db15667c73c\nStory: 2006105\n'}]",0,689449,e4babdd7c838e3a26c15daa84c9c0f0391c307d8,8,3,1,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: I26fce963eb6649fd59a8636a80329db15667c73c
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/49/689449/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,e4babdd7c838e3a26c15daa84c9c0f0391c307d8,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,28,6
openstack%2Fopenstack-ansible-os_magnum~master~Ie773541548107ebfc971a7f24b05d83fb0b95663,openstack/openstack-ansible-os_magnum,master,Ie773541548107ebfc971a7f24b05d83fb0b95663,PDF Documentation Build tox target,MERGED,2019-10-18 13:41:02.000000000,2019-10-18 18:46:07.000000000,2019-10-18 18:44:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-18 13:41:02.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_magnum/commit/abb576246cfa2802719914355e35928ec85a6ec2', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: Ie773541548107ebfc971a7f24b05d83fb0b95663\nStory: 2006105\n'}]",0,689456,abb576246cfa2802719914355e35928ec85a6ec2,8,3,1,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: Ie773541548107ebfc971a7f24b05d83fb0b95663
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_magnum refs/changes/56/689456/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,abb576246cfa2802719914355e35928ec85a6ec2,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,28,6
openstack%2Fopenstack-ansible-os_ironic~master~I688c5cb2f5e5d0e44b01f41668f1e8dd6fed79f4,openstack/openstack-ansible-os_ironic,master,I688c5cb2f5e5d0e44b01f41668f1e8dd6fed79f4,PDF Documentation Build tox target,MERGED,2019-10-18 13:28:05.000000000,2019-10-18 18:45:18.000000000,2019-10-18 18:44:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-18 13:28:05.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/089a1bd3455052be2f0b65cffda814bafc8933f7', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I688c5cb2f5e5d0e44b01f41668f1e8dd6fed79f4\nStory: 2006105\n'}]",0,689452,089a1bd3455052be2f0b65cffda814bafc8933f7,8,3,1,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: I688c5cb2f5e5d0e44b01f41668f1e8dd6fed79f4
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/52/689452/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,089a1bd3455052be2f0b65cffda814bafc8933f7,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,28,6
openstack%2Fopenstack-ansible-os_sahara~master~Ie14493d5a23bc48a3dc281949df0ba79a5fef31d,openstack/openstack-ansible-os_sahara,master,Ie14493d5a23bc48a3dc281949df0ba79a5fef31d,PDF Documentation Build tox target,MERGED,2019-10-18 15:02:26.000000000,2019-10-18 18:45:16.000000000,2019-10-18 18:44:02.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-18 15:02:26.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/1f404d558cfb1235dc7e5c91cefba3ee390081dc', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: Ie14493d5a23bc48a3dc281949df0ba79a5fef31d\nStory: 2006105\n'}]",0,689509,1f404d558cfb1235dc7e5c91cefba3ee390081dc,8,3,1,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: Ie14493d5a23bc48a3dc281949df0ba79a5fef31d
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/09/689509/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,1f404d558cfb1235dc7e5c91cefba3ee390081dc,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,28,6
openstack%2Fopenstack-ansible-os_placement~master~I8acd14ea70b0f7cfb0e36005bb968e2e1042bbf1,openstack/openstack-ansible-os_placement,master,I8acd14ea70b0f7cfb0e36005bb968e2e1042bbf1,PDF Documentation Build tox target,MERGED,2019-10-18 14:51:11.000000000,2019-10-18 18:45:01.000000000,2019-10-18 18:42:47.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-18 14:51:11.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_placement/commit/34d33864b67da87f3d5659bacbaaa71264e59d20', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I8acd14ea70b0f7cfb0e36005bb968e2e1042bbf1\nStory: 2006105\n'}]",0,689505,34d33864b67da87f3d5659bacbaaa71264e59d20,8,3,1,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: I8acd14ea70b0f7cfb0e36005bb968e2e1042bbf1
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_placement refs/changes/05/689505/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,34d33864b67da87f3d5659bacbaaa71264e59d20,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,28,6
openstack%2Fopenstack-ansible-os_panko~master~I84883e010d0513f569d3f6f626f78ee3b4463a47,openstack/openstack-ansible-os_panko,master,I84883e010d0513f569d3f6f626f78ee3b4463a47,PDF Documentation Build tox target,MERGED,2019-10-18 14:38:57.000000000,2019-10-18 18:44:50.000000000,2019-10-18 18:42:58.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-18 14:38:57.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_panko/commit/bf7140aa240537d0964c32b6a3b36ff2b2a98d07', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I84883e010d0513f569d3f6f626f78ee3b4463a47\nStory: 2006105\n'}]",0,689485,bf7140aa240537d0964c32b6a3b36ff2b2a98d07,8,3,1,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: I84883e010d0513f569d3f6f626f78ee3b4463a47
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_panko refs/changes/85/689485/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,bf7140aa240537d0964c32b6a3b36ff2b2a98d07,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,28,6
openstack%2Fopenstack-ansible-os_glance~master~Ib8def3441b6c3a634cbb53a44d295b71586fed8a,openstack/openstack-ansible-os_glance,master,Ib8def3441b6c3a634cbb53a44d295b71586fed8a,Drop duplicated keys,MERGED,2019-10-16 14:32:33.000000000,2019-10-18 18:37:47.000000000,2019-10-18 18:36:30.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-16 14:32:33.000000000', 'files': ['tasks/glance_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/4e966b4f4a48865b38385245867839b765b5feb8', 'message': 'Drop duplicated keys\n\nChange-Id: Ib8def3441b6c3a634cbb53a44d295b71586fed8a\n'}]",0,688944,4e966b4f4a48865b38385245867839b765b5feb8,17,4,1,28619,,,0,"Drop duplicated keys

Change-Id: Ib8def3441b6c3a634cbb53a44d295b71586fed8a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/44/688944/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/glance_install.yml'],1,4e966b4f4a48865b38385245867839b765b5feb8,,," owner: ""{{ glance_system_user_name }}"" group: ""{{ glance_system_group_name }}""",0,2
openstack%2Fopenstack-ansible-os_heat~master~I4e800844332a878e8c0a73df256519de222dcb5a,openstack/openstack-ansible-os_heat,master,I4e800844332a878e8c0a73df256519de222dcb5a,PDF Documentation Build tox target,MERGED,2019-10-18 13:24:58.000000000,2019-10-18 18:30:53.000000000,2019-10-18 18:29:21.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-18 13:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/40aa186178b2706ed16ef246abee3ee126c70980', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I4e800844332a878e8c0a73df256519de222dcb5a\nStory: 2006105\n'}, {'number': 2, 'created': '2019-10-18 15:57:32.000000000', 'files': ['doc/source/index.rst', 'doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/728666c9de1f835ecc2648a2a1abb43e47501031', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I4e800844332a878e8c0a73df256519de222dcb5a\nStory: 2006105\n'}]",0,689450,728666c9de1f835ecc2648a2a1abb43e47501031,10,3,2,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: I4e800844332a878e8c0a73df256519de222dcb5a
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/50/689450/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,40aa186178b2706ed16ef246abee3ee126c70980,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,28,6
openstack%2Fansible-hardening~master~I04319a1195873d63bfc45ffb0f5c7c89fb797652,openstack/ansible-hardening,master,I04319a1195873d63bfc45ffb0f5c7c89fb797652,PDF Documentation Build tox target,MERGED,2019-10-17 16:58:07.000000000,2019-10-18 18:30:49.000000000,2019-10-18 18:29:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-17 16:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/eebd59efa9b35a616c0ed4ef098275aa02e8c508', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I04319a1195873d63bfc45ffb0f5c7c89fb797652\nStory: 2006105\n'}, {'number': 2, 'created': '2019-10-17 17:37:27.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/9cfc60f3072558e54231d978e5c49b514ffcfa03', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I04319a1195873d63bfc45ffb0f5c7c89fb797652\nStory: 2006105\n'}]",0,689218,9cfc60f3072558e54231d978e5c49b514ffcfa03,10,3,2,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: I04319a1195873d63bfc45ffb0f5c7c89fb797652
Story: 2006105
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/18/689218/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",3,eebd59efa9b35a616c0ed4ef098275aa02e8c508,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,22,6
openstack%2Fopenstack-ansible-haproxy_server~master~I5d6f04dfc81897029200ac67c574af07c28d564f,openstack/openstack-ansible-haproxy_server,master,I5d6f04dfc81897029200ac67c574af07c28d564f,PDF Documentation Build tox target,MERGED,2019-10-15 20:16:45.000000000,2019-10-18 18:30:41.000000000,2019-10-18 18:28:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-15 20:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/b1a2978661fc5fcc260590f51eeba91b4fc2aaa2', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I5d6f04dfc81897029200ac67c574af07c28d564f\nStory: 2006105\n'}, {'number': 2, 'created': '2019-10-15 20:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/efd9559298c9d4701eec2102319cb9398a2cf653', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I5d6f04dfc81897029200ac67c574af07c28d564f\nStory: 2006105\n'}, {'number': 3, 'created': '2019-10-16 11:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/b0d6a0d2c02e04e6350805bd6c5bab0c41f0b9fd', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I5d6f04dfc81897029200ac67c574af07c28d564f\nStory: 2006105\n'}, {'number': 4, 'created': '2019-10-16 11:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/567a7b2b9df8c19a2c378ad1802a93d10fc356ab', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I5d6f04dfc81897029200ac67c574af07c28d564f\nStory: 2006105\n'}, {'number': 5, 'created': '2019-10-17 17:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/e3feee720ab55022c7dc3009e35ea0d88d2c4b66', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I5d6f04dfc81897029200ac67c574af07c28d564f\nStory: 2006105\n'}, {'number': 6, 'created': '2019-10-17 21:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/70dfc21966b0fbb83c84a9efcaa9ca86824cce8a', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I5d6f04dfc81897029200ac67c574af07c28d564f\nStory: 2006105\n'}, {'number': 7, 'created': '2019-10-18 17:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/29c68e63c79962769b1ba8c3380ffe11a3a10725', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I5d6f04dfc81897029200ac67c574af07c28d564f\nStory: 2006105\n'}, {'number': 8, 'created': '2019-10-18 17:35:14.000000000', 'files': ['doc/source/_static/ .gitkeep', 'doc/source/conf.py', 'doc/source/configure-haproxy.rst', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/500398b8195fed344ed376f7c518e8cf7bae56c2', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I5d6f04dfc81897029200ac67c574af07c28d564f\nStory: 2006105\n'}]",0,688810,500398b8195fed344ed376f7c518e8cf7bae56c2,20,3,8,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: I5d6f04dfc81897029200ac67c574af07c28d564f
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/10/688810/8 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/ .gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,b1a2978661fc5fcc260590f51eeba91b4fc2aaa2,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,25,3
openstack%2Ftripleo-ci~master~I85071d5c2a54fe38f47661d62aca6dfb70b685f7,openstack/tripleo-ci,master,I85071d5c2a54fe38f47661d62aca6dfb70b685f7,Ignore error when /opt/git does not exist,MERGED,2019-10-15 13:15:30.000000000,2019-10-18 18:30:26.000000000,2019-10-18 18:30:26.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-15 13:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c16f35c137bdd2f82aa47b8756666728c8c19300', 'message': 'Ignore error when /opt/git does not exist\n\nTry to delete /opt/git with find -delete, but do not die if it\ndoes not exist.\n\nChange-Id: I85071d5c2a54fe38f47661d62aca6dfb70b685f7\nRelated-Bug: #1847814\n'}, {'number': 2, 'created': '2019-10-15 13:23:41.000000000', 'files': ['roles/run-test/templates/toci_gate_test.sh.j2', 'toci_gate_test.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1ea27357396f1ea3dca55d0001c9e967babd5b09', 'message': 'Ignore error when /opt/git does not exist\n\nTry to delete /opt/git with find -delete, but do not die if it\ndoes not exist.\n\nChange-Id: I85071d5c2a54fe38f47661d62aca6dfb70b685f7\nRelated-Bug: #1847814\n'}]",0,688707,1ea27357396f1ea3dca55d0001c9e967babd5b09,26,5,2,8175,,,0,"Ignore error when /opt/git does not exist

Try to delete /opt/git with find -delete, but do not die if it
does not exist.

Change-Id: I85071d5c2a54fe38f47661d62aca6dfb70b685f7
Related-Bug: #1847814
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/07/688707/2 && git format-patch -1 --stdout FETCH_HEAD,['toci_gate_test.sh'],1,c16f35c137bdd2f82aa47b8756666728c8c19300,lp/1847814, sudo find /opt/git -delete || true, sudo find /opt/git -delete,1,1
openstack%2Fopenstack-ansible-os_rally~master~I6ae29f8a01529bd4786547a11b73171e008dfd0b,openstack/openstack-ansible-os_rally,master,I6ae29f8a01529bd4786547a11b73171e008dfd0b,PDF Documentation Build tox target,MERGED,2019-10-18 15:28:39.000000000,2019-10-18 18:28:39.000000000,2019-10-18 18:27:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-18 15:28:39.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/2e31110da3c2bbd520b94c4a9c2d454b00f8b268', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: I6ae29f8a01529bd4786547a11b73171e008dfd0b\nStory: 2006105\n'}]",0,689522,2e31110da3c2bbd520b94c4a9c2d454b00f8b268,8,3,1,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: I6ae29f8a01529bd4786547a11b73171e008dfd0b
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/22/689522/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,2e31110da3c2bbd520b94c4a9c2d454b00f8b268,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,27,5
openstack%2Fopenstack-ansible-os_tempest~master~Ie3a57163d8c4fc00f3c677a8f6c198095de23756,openstack/openstack-ansible-os_tempest,master,Ie3a57163d8c4fc00f3c677a8f6c198095de23756,PDF Documentation Build tox target,MERGED,2019-10-18 15:20:12.000000000,2019-10-18 18:27:01.000000000,2019-10-18 18:25:54.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-18 15:20:12.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/5e554a3fdfb7f33386ea1cf41b4d2267d55dcd2c', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: Ie3a57163d8c4fc00f3c677a8f6c198095de23756\nStory: 2006105\n'}]",0,689518,5e554a3fdfb7f33386ea1cf41b4d2267d55dcd2c,8,3,1,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: Ie3a57163d8c4fc00f3c677a8f6c198095de23756
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/18/689518/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,5e554a3fdfb7f33386ea1cf41b4d2267d55dcd2c,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,27,5
openstack%2Fkayobe~stable%2Frocky~Ie59f0c729381e5bea112ab7f5d0c738a9488b772,openstack/kayobe,stable/rocky,Ie59f0c729381e5bea112ab7f5d0c738a9488b772,Set provisioning and cleaning networks as non-shared,MERGED,2019-10-03 09:17:24.000000000,2019-10-18 18:26:54.000000000,2019-10-18 18:26:54.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-10-03 09:17:24.000000000', 'files': ['ansible/provision-net.yml', 'releasenotes/notes/non-shared-ironic-nets-06a43c9b6dea2a77.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/21c2970c756c7a690c3be8df9b8c45de53002489', 'message': ""Set provisioning and cleaning networks as non-shared\n\nModifies provisioning and cleaning networks in multi-tenant ironic\nenvironments to be non-shared. Flat networks remain shared.\n\nTo apply the change to an existing environment, run 'kayobe overcloud\npost configure'.\n\nChange-Id: Ie59f0c729381e5bea112ab7f5d0c738a9488b772\nStory: 2006409\nTask: 36295\n(cherry picked from commit f91cf43876afa967bcf26c133c7973f84f02341f)\n""}]",0,686361,21c2970c756c7a690c3be8df9b8c45de53002489,7,3,1,14826,,,0,"Set provisioning and cleaning networks as non-shared

Modifies provisioning and cleaning networks in multi-tenant ironic
environments to be non-shared. Flat networks remain shared.

To apply the change to an existing environment, run 'kayobe overcloud
post configure'.

Change-Id: Ie59f0c729381e5bea112ab7f5d0c738a9488b772
Story: 2006409
Task: 36295
(cherry picked from commit f91cf43876afa967bcf26c133c7973f84f02341f)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/61/686361/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/provision-net.yml', 'releasenotes/notes/non-shared-ironic-nets-06a43c9b6dea2a77.yaml']",2,21c2970c756c7a690c3be8df9b8c45de53002489,,"--- fixes: - | Modifies provisioning and cleaning networks in multi-tenant ironic environments to be non-shared. Flat networks remain shared. To apply the change to an existing environment, run `kayobe overcloud post configure`. See `story 2006409 <https://storyboard.openstack.org/#!/story/2006409>`__ for details. ",,71,5
openstack%2Fopenstack-ansible-os_trove~master~Ia7c61e2531721716318b1e1666b33889b6a34808,openstack/openstack-ansible-os_trove,master,Ia7c61e2531721716318b1e1666b33889b6a34808,PDF Documentation Build tox target,MERGED,2019-10-18 15:23:18.000000000,2019-10-18 18:26:16.000000000,2019-10-18 18:25:03.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-18 15:23:18.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/96821b4ba9ceda23d990422fda508f65be23242d', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: Ia7c61e2531721716318b1e1666b33889b6a34808\nStory: 2006105\n'}]",0,689519,96821b4ba9ceda23d990422fda508f65be23242d,8,3,1,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: Ia7c61e2531721716318b1e1666b33889b6a34808
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/19/689519/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,96821b4ba9ceda23d990422fda508f65be23242d,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,28,6
openstack%2Fkolla-ansible~master~I9918ff6a91acde2a7d184e44b8a1014462596e39,openstack/kolla-ansible,master,I9918ff6a91acde2a7d184e44b8a1014462596e39,Use versioned python binary with fetch ceph keyrings,MERGED,2019-10-14 12:07:58.000000000,2019-10-18 18:23:29.000000000,2019-10-18 18:21:52.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 28743}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-14 12:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4b4411ec1a0f3f9f94160ff7a06ec3a6ad1c932d', 'message': 'Allow fetch ceph keyrings to work with unversioned python binary\n\nChange-Id: I9918ff6a91acde2a7d184e44b8a1014462596e39\n'}, {'number': 2, 'created': '2019-10-14 13:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8f8e544efbe2272d45bdf8fbdacf35c390f713e4', 'message': 'Allow fetch ceph keyrings to work with unversioned python binary\n\nChange-Id: I9918ff6a91acde2a7d184e44b8a1014462596e39\n'}, {'number': 3, 'created': '2019-10-14 15:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/611a244de89dd7718f156cbd977593eeb7ad6a50', 'message': 'Allow fetch ceph keyrings to work with unversioned python binary\n\nChange-Id: I9918ff6a91acde2a7d184e44b8a1014462596e39\n'}, {'number': 4, 'created': '2019-10-14 17:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/15bbb79903489017cc9f5415b58fc35b4e2677e6', 'message': 'Allow fetch ceph keyrings to work with unversioned python binary\n\nChange-Id: I9918ff6a91acde2a7d184e44b8a1014462596e39\n'}, {'number': 5, 'created': '2019-10-15 07:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bec216844578f1835416be5514f91758057fc8b5', 'message': 'Allow fetch ceph keyrings to work with unversioned python binary\n\nDepends-On: https://review.opendev.org/688636/\n\nChange-Id: I9918ff6a91acde2a7d184e44b8a1014462596e39\n'}, {'number': 6, 'created': '2019-10-16 08:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0aa7b961c7673509f5afae0f9dcd75c41690de5a', 'message': 'Use versioned python binary with fetch ceph keyrings\n\nDepends-On: https://review.opendev.org/688636/\n\nChange-Id: I9918ff6a91acde2a7d184e44b8a1014462596e39\n'}, {'number': 7, 'created': '2019-10-17 07:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8a8c48b69a16d93a024ef87c26f3ed03e289be72', 'message': 'Use versioned python binary with fetch ceph keyrings\n\nDepends-On: https://review.opendev.org/688636/\n\nChange-Id: I9918ff6a91acde2a7d184e44b8a1014462596e39\n'}, {'number': 8, 'created': '2019-10-17 09:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b1c2d7834c59a64ea310109c43004037a70791bf', 'message': 'Use versioned python binary with fetch ceph keyrings\n\nDepends-On: https://review.opendev.org/688636/\n\nChange-Id: I9918ff6a91acde2a7d184e44b8a1014462596e39\n'}, {'number': 9, 'created': '2019-10-18 10:00:25.000000000', 'files': ['ansible/roles/ceph/tasks/distribute_keyrings.yml', 'ansible/roles/ceph/tasks/deploy.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/25857889828670099438b999ae9d2bf7f931596e', 'message': 'Use versioned python binary with fetch ceph keyrings\n\nDepends-On: https://review.opendev.org/688636/\n\nChange-Id: I9918ff6a91acde2a7d184e44b8a1014462596e39\n'}]",2,688392,25857889828670099438b999ae9d2bf7f931596e,46,6,9,22629,,,0,"Use versioned python binary with fetch ceph keyrings

Depends-On: https://review.opendev.org/688636/

Change-Id: I9918ff6a91acde2a7d184e44b8a1014462596e39
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/92/688392/3 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ceph/tasks/distribute_keyrings.yml'],1,4b4411ec1a0f3f9f94160ff7a06ec3a6ad1c932d,,"- name: Fetch python version in ceph-mon container become: true shell: docker exec ceph_mon ls /usr/bin/python? register: python_versions delegate_to: ""{{ delegate_host }}"" run_once: True command: docker exec ceph_mon {{ python_versions | last }} fetch_ceph_keys.py", command: docker exec ceph_mon fetch_ceph_keys.py,8,1
openstack%2Fnova~stable%2Fqueens~I52c8d038118c858004e17e71b2fba9e9e2714815,openstack/nova,stable/queens,I52c8d038118c858004e17e71b2fba9e9e2714815,Drop source node allocations if finish_resize fails,MERGED,2019-09-17 19:19:05.000000000,2019-10-18 18:17:43.000000000,2019-10-18 18:17:43.000000000,"[{'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-17 19:19:05.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1825537.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/343daa98e006e019ef3ce0bc1ee2a6a7fe03c916', 'message': 'Drop source node allocations if finish_resize fails\n\nBy the time finish_resize runs on the dest host, the instance\nhost/node values are already pointing at the dest (they are\nset by resize_instance on the source compute before casting to\nfinish_resize on the dest). If finish_resize fails, the instance\nis essentially stuck on the dest host so rather than revert the\nallocations (which will drop the new flavor allocations against\nthe dest host where the instance now lives) we should just drop\nthe old flavor allocations on the source node resource provider,\nwhich is what this change does.\n\nThe functional regression recreate test is updated to show this\nworking.\n\nChange-Id: I52c8d038118c858004e17e71b2fba9e9e2714815\nCloses-Bug: #1825537\n(cherry picked from commit ea297d6ffba81c5dc982afe6519de09ff3744cad)\n(cherry picked from commit e6c6178d22db43959103da1400017fa49b18f514)\n(cherry picked from commit cbf6a46d8fcd3236bff44439c8d143a77167dfe2)\n'}]",1,682722,343daa98e006e019ef3ce0bc1ee2a6a7fe03c916,18,10,1,6873,,,0,"Drop source node allocations if finish_resize fails

By the time finish_resize runs on the dest host, the instance
host/node values are already pointing at the dest (they are
set by resize_instance on the source compute before casting to
finish_resize on the dest). If finish_resize fails, the instance
is essentially stuck on the dest host so rather than revert the
allocations (which will drop the new flavor allocations against
the dest host where the instance now lives) we should just drop
the old flavor allocations on the source node resource provider,
which is what this change does.

The functional regression recreate test is updated to show this
working.

Change-Id: I52c8d038118c858004e17e71b2fba9e9e2714815
Closes-Bug: #1825537
(cherry picked from commit ea297d6ffba81c5dc982afe6519de09ff3744cad)
(cherry picked from commit e6c6178d22db43959103da1400017fa49b18f514)
(cherry picked from commit cbf6a46d8fcd3236bff44439c8d143a77167dfe2)
",git fetch https://review.opendev.org/openstack/nova refs/changes/22/682722/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1825537.py']",4,343daa98e006e019ef3ce0bc1ee2a6a7fe03c916,bug/1825537," # ProviderUsageBaseTestCase uses the AllServicesCurrent fixture which # means we'll use migration-based allocations by default. This flag allows # us to control the logic in conductor to handle legacy allocations where # the source (old flavor) and dest (new flavor) node allocations are # doubled up on the instance. migration_based_allocations = True self.stub_out('nova.conductor.tasks.migrate.' 'should_do_migration_allocation', lambda *args, **kwargs: self.migration_based_allocations) self.assertFlavorMatchesAllocation(self.flavor2, dest_rp_usages) # And the source node provider should not have any usage. source_rp_usages = self._get_provider_usages(source_rp_uuid) self.assertEqual(no_usage, source_rp_usages) class FinishResizeErrorAllocationCleanupLegacyTestCase( FinishResizeErrorAllocationCleanupTestCase): """"""Variant of FinishResizeErrorAllocationCleanupTestCase which does not use migration-based allocations, e.g. tests the scenario that there are older computes in the deployment so the source and dest node allocations are doubled up on the instance consumer record rather than the migration record. """""" migration_based_allocations = False"," # FIXME(mriedem): This is bug 1825537 where the allocations are # reverted when finish_resize fails so the dest node resource provider # does not have any allocations and the instance allocations are for # the old flavor on the source node resource provider even though the # instance is not running on the source host nor pointed at the source # host in the DB. # self.assertFlavorMatchesAllocation( # self.flavor2, server['id'], dest_rp_uuid) self.assertEqual(no_usage, dest_rp_usages) source_usages = self._get_provider_usages(source_rp_uuid) self.assertFlavorMatchesAllocation(self.flavor1, source_usages)",82,18
openstack%2Fkolla~master~I7d3db8e43eccc06aaf21e84990317133fa515a1f,openstack/kolla,master,I7d3db8e43eccc06aaf21e84990317133fa515a1f,Fix fetch_ceph_keys to run in python3,MERGED,2019-10-15 07:04:25.000000000,2019-10-18 18:15:22.000000000,2019-10-18 18:14:02.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-15 07:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e2f82c0f1c05c4aae69a7178729a3748181e78be', 'message': 'Fix fetch_ceph_keys to run in python3\n\nQuick fix to convert bytes object to string, that can be serialized by JSON.\n\nChange-Id: I7d3db8e43eccc06aaf21e84990317133fa515a1f\n'}, {'number': 2, 'created': '2019-10-15 10:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/dc23826bba076b537ec7fddcd0cba674c47b8f1a', 'message': 'Fix fetch_ceph_keys to run in python3\n\nQuick fix to convert bytes object to string, that can be serialized by JSON.\n\nChange-Id: I7d3db8e43eccc06aaf21e84990317133fa515a1f\n'}, {'number': 3, 'created': '2019-10-16 14:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/96d70ae8ae796507320137e8ea52363f97afe375', 'message': 'Fix fetch_ceph_keys to run in python3\n\nQuick fix to convert bytes object to string, that can be serialized by JSON.\n\nChange-Id: I7d3db8e43eccc06aaf21e84990317133fa515a1f\n'}, {'number': 4, 'created': '2019-10-17 09:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1f3ca6da4a36dac0c7d7cca29a735cab51803b37', 'message': 'Fix fetch_ceph_keys to run in python3\n\nQuick fix to convert bytes object to string, that can be serialized by JSON.\n\nChange-Id: I7d3db8e43eccc06aaf21e84990317133fa515a1f\n'}, {'number': 5, 'created': '2019-10-17 09:43:01.000000000', 'files': ['docker/ceph/ceph-mon/fetch_ceph_keys.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/577697301f8682293a00a793807687df9d0ce679', 'message': 'Fix fetch_ceph_keys to run in python3\n\nQuick fix to convert bytes object to string, that can be serialized by JSON.\n\nChange-Id: I7d3db8e43eccc06aaf21e84990317133fa515a1f\n'}]",5,688636,577697301f8682293a00a793807687df9d0ce679,35,5,5,22629,,,0,"Fix fetch_ceph_keys to run in python3

Quick fix to convert bytes object to string, that can be serialized by JSON.

Change-Id: I7d3db8e43eccc06aaf21e84990317133fa515a1f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/36/688636/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/ceph/ceph-mon/fetch_ceph_keys.py'],1,e2f82c0f1c05c4aae69a7178729a3748181e78be,, print(json.dumps(str(msg))), print(json.dumps(msg)),1,1
openstack%2Fopenstack-ansible-lxc_container_create~stable%2Fstein~I9e9f0529c01b56f7dc4410910e6ac030f1ad14e7,openstack/openstack-ansible-lxc_container_create,stable/stein,I9e9f0529c01b56f7dc4410910e6ac030f1ad14e7,Remove openSUSE 15 jobs,MERGED,2019-10-18 08:30:52.000000000,2019-10-18 17:41:39.000000000,2019-10-18 17:39:40.000000000,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-18 08:30:52.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/50b4ba301fa2d1637966825935a459da8932709a', 'message': ""Remove openSUSE 15 jobs\n\nopenSUSE does not support lxc, remove all jobs.\nThere's no value testing a use case that will not work.\n\nChange-Id: I9e9f0529c01b56f7dc4410910e6ac030f1ad14e7\n(cherry picked from commit b4c42815129d1788263cd89009977ff8e0710e6b)\n""}]",0,689336,50b4ba301fa2d1637966825935a459da8932709a,10,4,1,6547,,,0,"Remove openSUSE 15 jobs

openSUSE does not support lxc, remove all jobs.
There's no value testing a use case that will not work.

Change-Id: I9e9f0529c01b56f7dc4410910e6ac030f1ad14e7
(cherry picked from commit b4c42815129d1788263cd89009977ff8e0710e6b)
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/36/689336/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,50b4ba301fa2d1637966825935a459da8932709a,opensuse-150,, name: openstack-ansible-dir-opensuse-150 parent: openstack-ansible-functional nodeset: opensuse-150 vars: tox_env: dir - job: name: openstack-ansible-btrfs-opensuse-150 parent: openstack-ansible-functional nodeset: opensuse-150 voting: false vars: tox_env: btrfs - job: name: openstack-ansible-machinectl-opensuse-150 parent: openstack-ansible-functional nodeset: opensuse-150 voting: false vars: tox_env: mnctl - job: name: openstack-ansible-overlayfs-opensuse-150 parent: openstack-ansible-functional nodeset: opensuse-150 voting: false vars: tox_env: ofs - job:,0,36
openstack%2Fironic~master~I0bf38321b0135ea17439d35081b5727fd4d827c8,openstack/ironic,master,I0bf38321b0135ea17439d35081b5727fd4d827c8,Read in non-blocking fashion when starting console,MERGED,2019-09-09 18:24:20.000000000,2019-10-18 17:37:55.000000000,2019-10-18 01:52:40.000000000,"[{'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 19339}, {'_account_id': 21813}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-09-09 18:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e478cd82c74583d89cfe6bdd4d84cb39381b2531', 'message': 'Read in non-blocking fashion when starting console\n\nAs PID file is created by daemon, it might happen that although the\nreturn code is 0, the PID file does not exist yet. And afterwards,\ncommunicate() call might hang for some reason. As there is no way to\nput timeout on communicate call in python2, and in order to make\nthis change more backportable, this patch uses non-blocking read to\nget the values of stdout and stderr of the call.\n\nStory: 2006514\nTask: 36511\nChange-Id: I0bf38321b0135ea17439d35081b5727fd4d827c8\n'}, {'number': 2, 'created': '2019-09-10 16:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/16473ec51083c8668d45b9f4b033e6d8a7300cb4', 'message': 'Read in non-blocking fashion when starting console\n\nAs PID file is created by daemon, it might happen that although the\nreturn code is 0, the PID file does not exist yet. And afterwards,\ncommunicate() call might hang for some reason. As there is no way to\nput timeout on communicate call in python2, and in order to make\nthis change more backportable, this patch uses non-blocking read to\nget the values of stdout and stderr of the call.\n\nStory: 2006514\nTask: 36511\nChange-Id: I0bf38321b0135ea17439d35081b5727fd4d827c8\n'}, {'number': 3, 'created': '2019-09-10 16:22:03.000000000', 'files': ['releasenotes/notes/fix-shellinabox-pipe-not-ready-f860c4b7a1ef71a8.yaml', 'ironic/tests/unit/drivers/modules/test_console_utils.py', 'ironic/drivers/modules/console_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/efc2d5fcd3e4c3d8e24801b45f61f7f747b7f340', 'message': 'Read in non-blocking fashion when starting console\n\nAs PID file is created by daemon, it might happen that although the\nreturn code is 0, the PID file does not exist yet. And afterwards,\ncommunicate() call might hang for some reason. As there is no way to\nput timeout on communicate call in python2, and in order to make\nthis change more backportable, this patch uses non-blocking read to\nget the values of stdout and stderr of the call.\n\nStory: 2006514\nTask: 36511\nChange-Id: I0bf38321b0135ea17439d35081b5727fd4d827c8\n'}]",5,681087,efc2d5fcd3e4c3d8e24801b45f61f7f747b7f340,33,7,3,12356,,,0,"Read in non-blocking fashion when starting console

As PID file is created by daemon, it might happen that although the
return code is 0, the PID file does not exist yet. And afterwards,
communicate() call might hang for some reason. As there is no way to
put timeout on communicate call in python2, and in order to make
this change more backportable, this patch uses non-blocking read to
get the values of stdout and stderr of the call.

Story: 2006514
Task: 36511
Change-Id: I0bf38321b0135ea17439d35081b5727fd4d827c8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/87/681087/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/test_console_utils.py', 'ironic/drivers/modules/console_utils.py']",2,e478cd82c74583d89cfe6bdd4d84cb39381b2531,another-fix-to-console,"import fcntl outputs = {'stdout': {'source': None, 'destination': b''}, 'stderr': {'source': None, 'destination': b''}} for pipe in outputs: pipe_obj = getattr(obj, pipe) outputs[pipe]['source'] = pipe_obj flags = fcntl.fcntl(pipe_obj, fcntl.F_GETFL) fcntl.fcntl(pipe_obj, fcntl.F_SETFL, flags | os.O_NONBLOCK) watched = {'stdout', 'stderr'} while time.time() < expiration and watched: for pipe in outputs: if pipe not in watched: continue try: outputs[pipe]['destination'] += os.read( outputs[pipe]['source'].fileno(), 4096) except OSError: watched.remove(pipe) 'stdout': outputs['stdout']['destination'], 'stderr': outputs['stderr']['destination']}"," (stdout, stderr) = popen_obj.communicate() 'stdout': stdout, 'stderr': stderr}",73,21
openstack%2Fcinder~master~Id2dd8d4f0dd19116c0fc55433d23af6f17f8fa4b,openstack/cinder,master,Id2dd8d4f0dd19116c0fc55433d23af6f17f8fa4b,Switch to opensuse-15 nodeset,MERGED,2019-10-16 19:40:26.000000000,2019-10-18 17:28:08.000000000,2019-10-18 17:24:30.000000000,"[{'_account_id': 4523}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 17130}, {'_account_id': 18120}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22165}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-10-16 19:40:26.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a45dc60c40578645bc41739d6a6c17f8b5175bba', 'message': 'Switch to opensuse-15 nodeset\n\nopensuse-150 nodeset is referring to openSUSE 15.0, which is still in\nmaintenance but openSUSE 15.1 has been released already. ""opensuse-15""\nis going to refer to the ""latest openSUSE 15.x"" build released and\nworking for OpenStack going forward, so add this nodeset and use\nit by default going forward.\n\nThe new job tempest-full-py3-opensuse15 use the opensuse-15 nodeset,\nchange tempest-full-py3-opensuse150 to tempest-full-py3-opensuse15.\n\nChange-Id: Id2dd8d4f0dd19116c0fc55433d23af6f17f8fa4b\n'}]",0,689017,a45dc60c40578645bc41739d6a6c17f8b5175bba,52,33,1,6547,,,0,"Switch to opensuse-15 nodeset

opensuse-150 nodeset is referring to openSUSE 15.0, which is still in
maintenance but openSUSE 15.1 has been released already. ""opensuse-15""
is going to refer to the ""latest openSUSE 15.x"" build released and
working for OpenStack going forward, so add this nodeset and use
it by default going forward.

The new job tempest-full-py3-opensuse15 use the opensuse-15 nodeset,
change tempest-full-py3-opensuse150 to tempest-full-py3-opensuse15.

Change-Id: Id2dd8d4f0dd19116c0fc55433d23af6f17f8fa4b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/17/689017/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a45dc60c40578645bc41739d6a6c17f8b5175bba,opensuse-150, - tempest-full-py3-opensuse15:, - tempest-full-py3-opensuse150:,1,1
openstack%2Fopenstack-ansible-os_aodh~master~Ifb430576505fa0d9d937fb30aa074f15a740d40b,openstack/openstack-ansible-os_aodh,master,Ifb430576505fa0d9d937fb30aa074f15a740d40b,PDF Documentation Build tox target,MERGED,2019-10-18 11:12:50.000000000,2019-10-18 17:27:51.000000000,2019-10-18 17:25:32.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-10-18 11:12:50.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/b633e2127bf3e548a73155e7d3598adb52f60aa4', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: Ifb430576505fa0d9d937fb30aa074f15a740d40b\nStory: 2006105\n'}]",0,689426,b633e2127bf3e548a73155e7d3598adb52f60aa4,8,3,1,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: Ifb430576505fa0d9d937fb30aa074f15a740d40b
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/26/689426/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,b633e2127bf3e548a73155e7d3598adb52f60aa4,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,28,6
openstack%2Fopenstack-ansible-os_ceilometer~master~Ia22c65b101f8e4d0a6f671ef25424f8e7779d0db,openstack/openstack-ansible-os_ceilometer,master,Ia22c65b101f8e4d0a6f671ef25424f8e7779d0db,PDF Documentation Build tox target,MERGED,2019-10-18 11:24:58.000000000,2019-10-18 17:23:19.000000000,2019-10-18 17:22:11.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-10-18 11:24:58.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/9906ecd5bdf592a2233ffdcce4bcc35931488724', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: Ia22c65b101f8e4d0a6f671ef25424f8e7779d0db\nStory: 2006105\n'}]",0,689429,9906ecd5bdf592a2233ffdcce4bcc35931488724,8,3,1,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: Ia22c65b101f8e4d0a6f671ef25424f8e7779d0db
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/29/689429/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,9906ecd5bdf592a2233ffdcce4bcc35931488724,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,28,6
openstack%2Fopenstack-ansible-os_cinder~master~Ic5799f9d176acc0dbe87a1f1bdd984ba8b14ec0c,openstack/openstack-ansible-os_cinder,master,Ic5799f9d176acc0dbe87a1f1bdd984ba8b14ec0c,PDF Documentation Build tox target,MERGED,2019-10-18 11:32:47.000000000,2019-10-18 17:19:16.000000000,2019-10-18 17:17:41.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-10-18 11:32:47.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/402f4f43f4401539c6ba8354ec4e39802abca891', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: Ic5799f9d176acc0dbe87a1f1bdd984ba8b14ec0c\nStory: 2006105\n'}]",0,689431,402f4f43f4401539c6ba8354ec4e39802abca891,8,3,1,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: Ic5799f9d176acc0dbe87a1f1bdd984ba8b14ec0c
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/31/689431/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,402f4f43f4401539c6ba8354ec4e39802abca891,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,28,6
openstack%2Fopenstack-helm-infra~master~Id846161ffa3fb2cd4c6d1d43d4eff6a6f84e2310,openstack/openstack-helm-infra,master,Id846161ffa3fb2cd4c6d1d43d4eff6a6f84e2310,Update selenium scripts for python 3,ABANDONED,2019-10-09 19:09:15.000000000,2019-10-18 17:14:22.000000000,,"[{'_account_id': 22348}, {'_account_id': 28849}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-10-09 19:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d0c42d562bca6c271a1add3fa72932d0f88dd644', 'message': 'Update selenium scripts for python 3\n\nThis change updates the selenium scripts to be\ncompatible with python 3.\n\nChange-Id: Id846161ffa3fb2cd4c6d1d43d4eff6a6f84e2310\n'}, {'number': 2, 'created': '2019-10-18 13:38:50.000000000', 'files': ['tools/gate/selenium/kibanaSelenium.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e1249da728c3aa30193a4cb72b98a965051af8e3', 'message': 'Update selenium scripts for python 3\n\nThis change makes the only essential change to our selenium scripts\nto enable python 3 compatibility. \n\nChange-Id: Id846161ffa3fb2cd4c6d1d43d4eff6a6f84e2310\n'}]",0,687653,e1249da728c3aa30193a4cb72b98a965051af8e3,10,3,2,30777,,,0,"Update selenium scripts for python 3

This change makes the only essential change to our selenium scripts
to enable python 3 compatibility. 

Change-Id: Id846161ffa3fb2cd4c6d1d43d4eff6a6f84e2310
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/53/687653/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/gate/selenium/kibanaSelenium.py'],1,d0c42d562bca6c271a1add3fa72932d0f88dd644,zuul-selenium-python3, except TimeoutException:," except TimeoutException, e:",1,1
openstack%2Fopenstack-helm-infra~master~Ief7f69b952b2f0e33b7b738bb76083247766f662,openstack/openstack-helm-infra,master,Ief7f69b952b2f0e33b7b738bb76083247766f662,OSH-Infra Selenium Tests Refactor,MERGED,2019-10-10 05:24:16.000000000,2019-10-18 17:05:48.000000000,2019-10-18 17:04:02.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 28849}, {'_account_id': 30692}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-10-10 05:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ce89a249578cbe3776f70d8d0a2ec9ca3af8983d', 'message': '[WIP] OSH-Infra Selenium Test Tweaks\n\nThis change would update the LMA selenium tests to share a more similar\nstructure. Additional logging is introduced, and the scripts will fail\ngracefully if the targeted service cannot be reached.\n\nChange-Id: Ief7f69b952b2f0e33b7b738bb76083247766f662\n'}, {'number': 2, 'created': '2019-10-10 14:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f2e80f927eb29f4bfa2bcd47e3ae14c4d2ad6b56', 'message': '[WIP] OSH-Infra Selenium Test Tweaks\n\nThis change would update the LMA selenium tests to share a more similar\nstructure. Additional logging is introduced, and the scripts will fail\ngracefully if the targeted service cannot be reached.\n\nChange-Id: Ief7f69b952b2f0e33b7b738bb76083247766f662\n'}, {'number': 3, 'created': '2019-10-10 16:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/79f3047666415d4816ab9e47490e2e34695f7564', 'message': '[WIP] OSH-Infra Selenium Test Tweaks\n\nThis change would update the LMA selenium tests to share a more similar\nstructure. Additional logging is introduced, and the scripts will fail\ngracefully if the targeted service cannot be reached.\n\nChange-Id: Ief7f69b952b2f0e33b7b738bb76083247766f662\n'}, {'number': 4, 'created': '2019-10-10 20:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8e4df47f770713c5e60f3c5826fb97adc9dad488', 'message': '[WIP] OSH-Infra Selenium Test Tweaks\n\nThis change would update the LMA selenium tests to share a more similar\nstructure. Additional logging is introduced, and the scripts will fail\ngracefully if the targeted service cannot be reached.\n\nChange-Id: Ief7f69b952b2f0e33b7b738bb76083247766f662\n'}, {'number': 5, 'created': '2019-10-11 14:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d6f6f3aa438b02471ff1de0c9eea2856b718d00b', 'message': '[WIP] OSH-Infra Selenium Test Tweaks\n\nThis change would update the LMA selenium tests to share a more similar\nstructure. Additional logging is introduced, and the scripts will fail\ngracefully if the targeted service cannot be reached.\n\nChange-Id: Ief7f69b952b2f0e33b7b738bb76083247766f662\n'}, {'number': 6, 'created': '2019-10-14 13:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3eb35b9a0b01896aabadab36ea39a3b4598c316a', 'message': '[WIP] OSH-Infra Selenium Test Tweaks\n\nThis change would update the LMA selenium tests to share a more similar\nstructure. Additional logging is introduced, and the scripts will fail\ngracefully if the targeted service cannot be reached.\n\nChange-Id: Ief7f69b952b2f0e33b7b738bb76083247766f662\n'}, {'number': 7, 'created': '2019-10-14 15:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c332c5442c5c191d8b29d8b7281151fb55fa5fe9', 'message': '[WIP] OSH-Infra Gates Selenium Test Tweaks\n\nThis change would update the LMA selenium tests to share a more similar\nstructure. Additional logging is introduced, and the scripts will fail\ngracefully if the targeted service cannot be reached.\n\nChange-Id: Ief7f69b952b2f0e33b7b738bb76083247766f662\n'}, {'number': 8, 'created': '2019-10-14 15:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/19b5c2a3da5a5d818e6a144ca820d21ac2c62226', 'message': '[WIP] OSH-Infra Gates Selenium Test Tweaks\n\nThis change would update the LMA selenium tests to share a more similar\nstructure. Additional logging is introduced, and the scripts will fail\ngracefully if the targeted service cannot be reached.\n\nChange-Id: Ief7f69b952b2f0e33b7b738bb76083247766f662\n'}, {'number': 9, 'created': '2019-10-15 12:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/36c98f7cfdcb799ad311abbcd37a226f75bb0f40', 'message': '[WIP] OSH-Infra Gates Selenium Test Tweaks\n\nThis change would update the LMA selenium tests to share a more similar\nstructure. Additional logging is introduced, and the scripts will fail\ngracefully if the targeted service cannot be reached.\n\nChange-Id: Ief7f69b952b2f0e33b7b738bb76083247766f662\n'}, {'number': 10, 'created': '2019-10-15 14:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b7f1018a7ebf4115b408354e9c2bed4a1d9f3924', 'message': 'OSH-Infra Selenium Tests Refactor\n\nThis change would update the LMA selenium tests to share a more similar\nstructure. Additional logging is introduced, and the scripts will fail\ngracefully if the targeted service cannot be reached.\n\nChange-Id: Ief7f69b952b2f0e33b7b738bb76083247766f662\n'}, {'number': 11, 'created': '2019-10-15 15:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/182b7200204b4163e99d3fc7340aec7188d700bd', 'message': 'OSH-Infra Selenium Tests Refactor\n\nThis change would update the LMA selenium tests to share a more similar\nstructure. Additional logging is introduced, and the scripts will fail\ngracefully if the targeted service cannot be reached.\n\nChange-Id: Ief7f69b952b2f0e33b7b738bb76083247766f662\n'}, {'number': 12, 'created': '2019-10-16 17:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/aa54eea6eed04a30fcfd533e038ff77f33e6957c', 'message': 'OSH-Infra Selenium Tests Refactor\n\nThis change would update the LMA selenium tests to share a more similar\nstructure. Additional logging is introduced, and the scripts will fail\ngracefully if the targeted service cannot be reached.\n\nChange-Id: Ief7f69b952b2f0e33b7b738bb76083247766f662\n'}, {'number': 13, 'created': '2019-10-16 20:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7cd8671e61e4961313f2e524eec1009fecb3868e', 'message': '[WIP] OSH-Infra Selenium Tests Refactor\n\nThis change would update the LMA selenium tests to share a more similar\nstructure. Additional logging is introduced, and the scripts will fail\ngracefully if the targeted service cannot be reached.\n\nThe calling shell scripts are updated to use python3\n\nChange-Id: Ief7f69b952b2f0e33b7b738bb76083247766f662\n'}, {'number': 14, 'created': '2019-10-16 21:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/120a186c9de075d3157d77167cc3f617c3f79282', 'message': '[WIP] OSH-Infra Selenium Tests Refactor\n\nThis change would update the LMA selenium tests to share a more similar\nstructure. Additional logging is introduced, and the scripts will fail\ngracefully if the targeted service cannot be reached.\n\nThe calling shell scripts are updated to use python3\n\nChange-Id: Ief7f69b952b2f0e33b7b738bb76083247766f662\n'}, {'number': 15, 'created': '2019-10-16 21:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eb8fbd6a8acdbc88c62281a4c2c573452db23181', 'message': '[WIP] OSH-Infra Selenium Tests Refactor\n\nThis change would update the LMA selenium tests to share a more similar\nstructure. Additional logging is introduced, and the scripts will fail\ngracefully if the targeted service cannot be reached.\n\nThe calling shell scripts are updated to use python3\n\nChange-Id: Ief7f69b952b2f0e33b7b738bb76083247766f662\n'}, {'number': 16, 'created': '2019-10-17 13:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a61b9172bdc846a154f9b2917a9abdad13528397', 'message': '[WIP] OSH-Infra Selenium Tests Refactor\n\nThis change would update the LMA selenium tests to share a more similar\nstructure. Additional logging is introduced, and the scripts will fail\ngracefully if the targeted service cannot be reached.\n\nThe calling shell scripts are updated to use python3\n\nChange-Id: Ief7f69b952b2f0e33b7b738bb76083247766f662\n'}, {'number': 17, 'created': '2019-10-17 14:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/067fafa7fae9bdecfd695bf990a5cbfbe5e73201', 'message': '[WIP] OSH-Infra Selenium Tests Refactor\n\nThis change would update the LMA selenium tests to share a more similar\nstructure. Additional logging is introduced, and the scripts will fail\ngracefully if the targeted service cannot be reached.\n\nThe calling shell scripts are updated to use python3\n\nChange-Id: Ief7f69b952b2f0e33b7b738bb76083247766f662\n'}, {'number': 18, 'created': '2019-10-17 17:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/24a7cdc9e46379db71b34cfbf7a07cd5c36820a4', 'message': 'OSH-Infra Selenium Tests Refactor\n\nThis change would update the LMA selenium tests to share a more similar\nstructure. Additional logging is introduced, and the scripts will fail\ngracefully if the targeted service cannot be reached.\n\nChange-Id: Ief7f69b952b2f0e33b7b738bb76083247766f662\n'}, {'number': 19, 'created': '2019-10-17 18:23:42.000000000', 'files': ['tools/deployment/common/nagios-selenium.sh', 'tools/deployment/common/grafana-selenium.sh', 'tools/deployment/common/prometheus-selenium.sh', 'tools/gate/selenium/prometheusSelenium.py', 'tools/gate/selenium/nagiosSelenium.py', 'tools/gate/selenium/kibanaSelenium.py', 'tools/deployment/common/kibana-selenium.sh', 'tools/gate/selenium/seleniumtester.py', 'tools/gate/selenium/grafanaSelenium.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c2f3486ca4b2d1f9387e21192ea9d5f4ec70e623', 'message': 'OSH-Infra Selenium Tests Refactor\n\nThis change would update the LMA selenium tests to share a more similar\nstructure. Additional logging is introduced, and the scripts will fail\ngracefully if the targeted service cannot be reached.\n\nChange-Id: Ief7f69b952b2f0e33b7b738bb76083247766f662\n'}]",3,687776,c2f3486ca4b2d1f9387e21192ea9d5f4ec70e623,58,7,19,30777,,,0,"OSH-Infra Selenium Tests Refactor

This change would update the LMA selenium tests to share a more similar
structure. Additional logging is introduced, and the scripts will fail
gracefully if the targeted service cannot be reached.

Change-Id: Ief7f69b952b2f0e33b7b738bb76083247766f662
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/76/687776/4 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/common/nagios-selenium.sh', 'tools/deployment/common/grafana-selenium.sh', 'tools/deployment/common/prometheus-selenium.sh', 'tools/gate/selenium/prometheusSelenium.py', 'tools/gate/selenium/kibanaSelenium.py', 'tools/gate/selenium/nagiosSelenium.py', 'tools/deployment/common/kibana-selenium.sh', 'tools/gate/selenium/grafanaSelenium.py']",8,ce89a249578cbe3776f70d8d0a2ec9ca3af8983d,selenium-gates-refactor,"from selenium.common.exceptions import TimeoutExceptionformatter = logging.Formatter( '%(asctime)s - %(name)s - %(levelname)s - %(message)s' )def get_variable(env_var): if env_var in os.environ: logger.info('Found ""{}""'.format(env_var)) return os.environ[env_var] else: logger.critical('Variable ""{}"" is not defined!'.format(env_var)) sys.exit(1) chromedriver = get_variable('CHROMEDRIVER') artifacts_dir = get_variable('ARTIFACTS_DIR') if artifacts_dir and not os.path.exists(artifacts_dir): os.makedirs(artifacts_dir) logger.info('Created {} for test artifacts'.format(artifacts_dir)) username = get_variable('GRAFANA_USER') password = get_variable('GRAFANA_PASSWORD') grafana_uri = get_variable('GRAFANA_URI') grafana_url = 'http://{}'.format(grafana_uri)browser = webdriver.Chrome(chromedriver, chrome_options=options) browser.get(grafana_url) try: el = WebDriverWait(browser, 15).until( EC.title_contains('Grafana') ) logger.info('Connected to Grafana') except TimeoutException: logger.critical('Timed out waiting for Grafana') sys.exit(1) username_field = browser.find_element_by_name('username') username_field.send_keys(username) password_field = browser.find_element_by_name('password') password_field.send_keys(password) login = browser.find_element_by_css_selector( 'body > grafana-app > div.main-view > div > div:nth-child(1) > div > ' 'div > div.login-inner-box > form > div.login-button-group > button' ) EC.presence_of_element_located( (By.XPATH, '/html/body/grafana-app/div[2]/div/div[1]/div/div/div[1]/' 'dashboard-grid/div/div[1]/div/plugin-component/panel-plugin-graph/' 'grafana-panel/div/div[2]') )browser.save_screenshot('{}Grafana_Nodes.png'.format(artifacts_dir)) EC.presence_of_element_located( (By.XPATH, '/html/body/grafana-app/div[2]/div/div[1]/div/' 'div/div[1]/dashboard-grid/div/div[5]/div/plugin-component/' 'panel-plugin-singlestat/grafana-panel/div') )browser.save_screenshot('{}Grafana_ClusterStatus.png'.format(artifacts_dir))","formatter = logging.Formatter('%(asctime)s - %(name)s - %(levelname)s - %(message)s')# Get Grafana admin user name if ""GRAFANA_USER"" in os.environ: grafana_user = os.environ['GRAFANA_USER'] logger.info('Found Grafana username') else: logger.critical('Grafana username environment variable not set') sys.exit(1) if ""GRAFANA_PASSWORD"" in os.environ: grafana_password = os.environ['GRAFANA_PASSWORD'] logger.info('Found Grafana password') else: logger.critical('Grafana password environment variable not set') sys.exit(1) if ""GRAFANA_URI"" in os.environ: grafana_uri = os.environ['GRAFANA_URI'] logger.info('Found Grafana URI') else: logger.critical('Grafana URI environment variable not set') sys.exit(1)browser = webdriver.Chrome('/etc/selenium/chromedriver', chrome_options=options) browser.get(grafana_uri) username = browser.find_element_by_name('username') username.send_keys(grafana_user) password = browser.find_element_by_name('password') password.send_keys(grafana_password) login = browser.find_element_by_css_selector('body > grafana-app > div.main-view > div > div:nth-child(1) > div > div > div.login-inner-box > form > div.login-button-group > button') EC.presence_of_element_located((By.XPATH, '/html/body/grafana-app/div[2]/div/div[1]/div/div/div[1]/dashboard-grid/div/div[1]/div/plugin-component/panel-plugin-graph/grafana-panel/div/div[2]'))browser.save_screenshot('/tmp/artifacts/Grafana_Nodes.png') EC.presence_of_element_located((By.XPATH, '/html/body/grafana-app/div[2]/div/div[1]/div/div/div[1]/dashboard-grid/div/div[5]/div/plugin-component/panel-plugin-singlestat/grafana-panel/div'))browser.save_screenshot('/tmp/artifacts/Grafana_ClusterStatus.png')",202,113
openstack%2Fcharm-nova-cloud-controller~master~I217adfb59aed2e509a56b6559a528ae4c0adaa48,openstack/charm-nova-cloud-controller,master,I217adfb59aed2e509a56b6559a528ae4c0adaa48,Ensure placement charm related before Train upgrade,MERGED,2019-10-17 20:01:49.000000000,2019-10-18 16:55:54.000000000,2019-10-18 16:36:25.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-17 20:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/283d80ed3a6a1100bb6b000750c02d0d958671ec', 'message': 'Ensure placement charm related before Train upgrade\n\nAs of OpenStack Train, the placement charm manages the placement API, and it\nis no longer managed by nova-cloud-controller. This requires the placement\ncharm to be deployed and related to nova-cloud-controller prior to upgrading\nnova-cloud-controller to Train.\n\nThis patch ensures that if an attempt is made to upgrade nova-cloud-controller\nfrom Stein to Train, and placement is not yet related, it will block and\nprevent the upgrade.\n\nChange-Id: I217adfb59aed2e509a56b6559a528ae4c0adaa48\nCloses-Bug: 1848529\n'}, {'number': 2, 'created': '2019-10-17 21:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/622d0a7e7446233e90dfee0029a6f9d7fdd20d9c', 'message': 'Ensure placement charm related before Train upgrade\n\nAs of OpenStack Train, the placement charm manages the placement API, and it\nis no longer managed by nova-cloud-controller. This requires the placement\ncharm to be deployed and related to nova-cloud-controller prior to upgrading\nnova-cloud-controller to Train.\n\nThis patch ensures that if an attempt is made to upgrade nova-cloud-controller\nfrom Stein to Train, and placement is not yet related, it will block and\nprevent the upgrade.\n\nChange-Id: I217adfb59aed2e509a56b6559a528ae4c0adaa48\nCloses-Bug: 1848529\n'}, {'number': 3, 'created': '2019-10-18 13:52:22.000000000', 'files': ['actions/openstack_upgrade.py', 'unit_tests/test_nova_cc_hooks.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'unit_tests/test_actions_openstack_upgrade.py', 'hooks/nova_cc_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/2cfb795490fb5985c24a11741ebb2b40b5d9ac28', 'message': 'Ensure placement charm related before Train upgrade\n\nAs of OpenStack Train, the placement charm manages the placement API, and it\nis no longer managed by nova-cloud-controller. This requires the placement\ncharm to be deployed and related to nova-cloud-controller prior to upgrading\nnova-cloud-controller to Train.\n\nThis patch ensures that if an attempt is made to upgrade nova-cloud-controller\nfrom Stein to Train, and placement is not yet related, it will block and\nprevent the upgrade.\n\nChange-Id: I217adfb59aed2e509a56b6559a528ae4c0adaa48\nCloses-Bug: 1848529\n'}]",0,689258,2cfb795490fb5985c24a11741ebb2b40b5d9ac28,18,3,3,11805,,,0,"Ensure placement charm related before Train upgrade

As of OpenStack Train, the placement charm manages the placement API, and it
is no longer managed by nova-cloud-controller. This requires the placement
charm to be deployed and related to nova-cloud-controller prior to upgrading
nova-cloud-controller to Train.

This patch ensures that if an attempt is made to upgrade nova-cloud-controller
from Stein to Train, and placement is not yet related, it will block and
prevent the upgrade.

Change-Id: I217adfb59aed2e509a56b6559a528ae4c0adaa48
Closes-Bug: 1848529
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/58/689258/3 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_cc_utils.py', 'hooks/nova_cc_hooks.py']",2,283d80ed3a6a1100bb6b000750c02d0d958671ec,bug/1848529, if not ncc_utils.do_openstack_upgrade(CONFIGS): return, ncc_utils.do_openstack_upgrade(CONFIGS),29,2
openstack%2Fpuppet-openstack-integration~master~I85d76a2d21de542c849d01c99c10dbf1778dc3ef,openstack/puppet-openstack-integration,master,I85d76a2d21de542c849d01c99c10dbf1778dc3ef,Move Ubuntu testing to Train packages,MERGED,2019-10-17 14:09:48.000000000,2019-10-18 16:46:34.000000000,2019-10-18 16:46:34.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-17 14:09:48.000000000', 'files': ['manifests/repos.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/11d04a70076d76678979cf96d9c3d13e30aed8d5', 'message': 'Move Ubuntu testing to Train packages\n\nChange-Id: I85d76a2d21de542c849d01c99c10dbf1778dc3ef\n(cherry picked from commit fbd0e1be23842b1274de4d9f79d542058d38b017)\n'}]",0,689167,11d04a70076d76678979cf96d9c3d13e30aed8d5,9,5,1,16137,,,0,"Move Ubuntu testing to Train packages

Change-Id: I85d76a2d21de542c849d01c99c10dbf1778dc3ef
(cherry picked from commit fbd0e1be23842b1274de4d9f79d542058d38b017)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/67/689167/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repos.pp'],1,11d04a70076d76678979cf96d9c3d13e30aed8d5,," release => 'train',"," release => 'stein',",1,1
openstack%2Fheat~stable%2Fpike~I80b703742c22a253f9c198680ee3d4c9be6efab9,openstack/heat,stable/pike,I80b703742c22a253f9c198680ee3d4c9be6efab9,Unskip StackSnapshotRestoreTest,MERGED,2019-10-15 19:36:49.000000000,2019-10-18 16:38:58.000000000,2019-10-18 16:38:57.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-15 19:36:49.000000000', 'files': ['heat_integrationtests/prepare_test_env.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/12c721c21c6a499f9b13e05d0873e44155f843f6', 'message': 'Unskip StackSnapshotRestoreTest\n\nBug #1694371 seems to be fixed now.\n\nChange-Id: I80b703742c22a253f9c198680ee3d4c9be6efab9\n(cherry picked from commit 4c1dac7d3a0780354045ab9aceb4006859fbc3e9)\n'}]",0,688793,12c721c21c6a499f9b13e05d0873e44155f843f6,7,3,1,14567,,,0,"Unskip StackSnapshotRestoreTest

Bug #1694371 seems to be fixed now.

Change-Id: I80b703742c22a253f9c198680ee3d4c9be6efab9
(cherry picked from commit 4c1dac7d3a0780354045ab9aceb4006859fbc3e9)
",git fetch https://review.opendev.org/openstack/heat refs/changes/93/688793/1 && git format-patch -1 --stdout FETCH_HEAD,['heat_integrationtests/prepare_test_env.sh'],1,12c721c21c6a499f9b13e05d0873e44155f843f6,1669608_pike_backport,"iniset $conf_file heat_plugin skip_functional_test_list 'CancelUpdateTest.test_cancel_update_server_with_port, ReloadOnSighupTest'","iniset $conf_file heat_plugin skip_functional_test_list 'CancelUpdateTest.test_cancel_update_server_with_port, ReloadOnSighupTest, StackSnapshotRestoreTest'# StackSnapshotRestoreTest skipped until bug #1694371 is resolved",1,2
openstack%2Fplacement~master~Ifce3b0c0ff11553f32b2d02df07fde81efc34100,openstack/placement,master,Ifce3b0c0ff11553f32b2d02df07fde81efc34100,Drop support for python 2,MERGED,2019-10-14 17:30:10.000000000,2019-10-18 16:34:36.000000000,2019-10-18 16:31:04.000000000,"[{'_account_id': 6873}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-14 17:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/b4abe006cf929c9cec37f24dc995adfb9d4d6191', 'message': 'Drop support for python 2\n\nThis is modelled on the similar change in nova [1] but is\nsimpler because Placement was already using python3 for\n""integration"" style tests.\n\n.zuul.yaml is update to not do a generic \'funtional\' test,\ninstead versioned tests only\n\nsetup.cfg removes indications of support for python 2\n\na reno is added\n\ntox.ini is changed to make the functional environment a\nbase environment for specific functional jobs\n\n[1] Ie1a0cbd82a617dbcc15729647218ac3e9cd0e5a9\n\nChange-Id: Ifce3b0c0ff11553f32b2d02df07fde81efc34100\n'}, {'number': 2, 'created': '2019-10-18 09:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/eede629c64b00582a80f3c6c75f8f243d2c39b0e', 'message': 'Drop support for python 2\n\nThis is modelled on the similar change in nova [1] but is\nsimpler because Placement was already using python3 for\n""integration"" style tests.\n\nThe \'train\' python3 template is replaced with corresponding \'ussuri\'.\n\nThe python template is removed (it is 2.7) and the pep8 job that was\nincluded in that template is now listed in check and gate jobs.\n\n.zuul.yaml is updated to not do a generic \'funtional\' test,\ninstead versioned tests only.\n\nsetup.cfg removes indications of support for python 2.\n\nA reno is added.\n\ntox.ini is changed to make the functional environment a\nbase environment for specific functional jobs.\n\n[1] Ie1a0cbd82a617dbcc15729647218ac3e9cd0e5a9\n\nChange-Id: Ifce3b0c0ff11553f32b2d02df07fde81efc34100\n'}, {'number': 3, 'created': '2019-10-18 12:58:36.000000000', 'files': ['.zuul.yaml', 'releasenotes/notes/drop-python-2-aabea7dcdeca7ebf.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/placement/commit/8436f45d012281a22e0cf5680f34ff71365c1e26', 'message': 'Drop support for python 2\n\nThis is modelled on the similar change in nova [1] but is\nsimpler because Placement was already using python3 for\n""integration"" style tests.\n\nThe \'train\' python3 template is replaced with corresponding \'ussuri\'.\n\nThe python template is removed (it is 2.7) and the pep8 job that was\nincluded in that template is now listed in check and gate jobs.\n\n.zuul.yaml is updated to not do a generic \'funtional\' test,\ninstead versioned tests only.\n\nsetup.cfg removes indications of support for python 2.\n\nA reno is added.\n\ntox.ini is changed to make the functional environment a\nbase environment for specific functional jobs.\n\n[1] Ie1a0cbd82a617dbcc15729647218ac3e9cd0e5a9\n\nChange-Id: Ifce3b0c0ff11553f32b2d02df07fde81efc34100\n'}]",2,688518,8436f45d012281a22e0cf5680f34ff71365c1e26,14,4,3,11564,,,0,"Drop support for python 2

This is modelled on the similar change in nova [1] but is
simpler because Placement was already using python3 for
""integration"" style tests.

The 'train' python3 template is replaced with corresponding 'ussuri'.

The python template is removed (it is 2.7) and the pep8 job that was
included in that template is now listed in check and gate jobs.

.zuul.yaml is updated to not do a generic 'funtional' test,
instead versioned tests only.

setup.cfg removes indications of support for python 2.

A reno is added.

tox.ini is changed to make the functional environment a
base environment for specific functional jobs.

[1] Ie1a0cbd82a617dbcc15729647218ac3e9cd0e5a9

Change-Id: Ifce3b0c0ff11553f32b2d02df07fde81efc34100
",git fetch https://review.opendev.org/openstack/placement refs/changes/18/688518/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'releasenotes/notes/drop-python-2-aabea7dcdeca7ebf.yaml', 'setup.cfg', 'tox.ini']",4,b4abe006cf929c9cec37f24dc995adfb9d4d6191,cd/drop-python2,"envlist = py37,functional-py37,pep8# The functional environment is the base env for functional tests.","envlist = py27,py37,functional,functional-py37,pep8# The functional environment is both the base env for functional tests and # also the python 2.7 version of functional tests. This is a historical # artifact.basepython = python2.7 envdir = {toxworkdir}/py27",7,10
openstack%2Fcharm-ceph-mon~master~Ic3c1e1f7902f7e2052dc4cf432303f874369238d,openstack/charm-ceph-mon,master,Ic3c1e1f7902f7e2052dc4cf432303f874369238d,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:07:19.000000000,2019-10-18 16:33:00.000000000,2019-10-18 16:32:59.000000000,"[{'_account_id': 935}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/20b883705dd3aa4b12c115fade4462e028f80162', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ic3c1e1f7902f7e2052dc4cf432303f874369238d\n'}, {'number': 2, 'created': '2019-10-01 02:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/4778ee685ffc056625bec7295604fb1de3572006', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ic3c1e1f7902f7e2052dc4cf432303f874369238d\n'}, {'number': 3, 'created': '2019-10-01 03:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/d481083a89d33450a6a9a45b4709e0b306355f1d', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Ic3c1e1f7902f7e2052dc4cf432303f874369238d\n'}, {'number': 4, 'created': '2019-10-17 21:37:43.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/policyd.py', 'test-requirements.txt', 'hooks/charmhelpers/fetch/__init__.py', 'lib/ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'hooks/ceph_hooks.py', 'requirements.txt', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'lib/ceph/crush_utils.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/05a9dc6309ca504972ae862e08a520b3a965807e', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nAlso fix for bug where the mgr daemon is not ready.  A wait is\nintroduced if it is not ready before trying to assert pg-autotune.\n\nCloses-Bug: #1848576\nChange-Id: Ic3c1e1f7902f7e2052dc4cf432303f874369238d\n'}]",0,685816,05a9dc6309ca504972ae862e08a520b3a965807e,26,6,4,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Also fix for bug where the mgr daemon is not ready.  A wait is
introduced if it is not ready before trying to assert pg-autotune.

Closes-Bug: #1848576
Change-Id: Ic3c1e1f7902f7e2052dc4cf432303f874369238d
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/16/685816/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/policyd.py', 'test-requirements.txt', 'hooks/charmhelpers/fetch/__init__.py', 'lib/ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/charmhelpers/contrib/openstack/ha/utils.py', 'hooks/charmhelpers/core/host_factory/ubuntu.py', 'hooks/charmhelpers/contrib/hardening/audits/apt.py', 'hooks/charmhelpers/fetch/ubuntu.py', 'requirements.txt', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu_apt_pkg.py', 'hooks/charmhelpers/contrib/storage/linux/ceph.py', 'hooks/charmhelpers/core/host.py', 'lib/ceph/crush_utils.py', 'hooks/charmhelpers/contrib/openstack/amulet/utils.py', 'tox.ini']",17,20b883705dd3aa4b12c115fade4462e028f80162,batch-update,"# Classic charm (with zaza): ./tox.ini# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools # # TODO: Distill the func test requirements from the lint/unit test # requirements. They are intertwined. Also, Zaza itself should specify # all of its own requirements and if it doesn't, fix it there.envlist = pep8,py3# NOTE: Avoid build/test env pollution by not enabling sitepackages. sitepackages = False # NOTE: Avoid false positives by not skipping missing interpreters. skip_missing_interpreters = Falsecommands = stestr run --slowest {posargs}passenv = HOME TERM CS_* OS_* TEST_*[testenv:py3] basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = flake8 {posargs} hooks unit_tests tests actions lib files stestr run --slowest {posargs}[testenv:func-noop] basepython = python3 commands = functest-run-suite --help[testenv:func-target] basepython = python3 commands = functest-run-suite --keep-model --bundle {posargs} ","# Classic charm: ./tox.ini# within individual charm repos.envlist = pep8,py37 AMULET_SETUP_TIMEOUT=5400commands = stestr run {posargs}passenv = HOME TERM AMULET_* CS_API_*[testenv:py27] basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt # temporarily disable py27 commands = /bin/true [testenv:py3] basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt ; keep zuul happy until we change the py35 jobcommands = flake8 {posargs} hooks unit_tests tests actions lib stestr run {posargs}",1194,163
openstack%2Fsahara-dashboard~master~If9e470a744c28d9392c9a3caa1a326fc164b2256,openstack/sahara-dashboard,master,If9e470a744c28d9392c9a3caa1a326fc164b2256,Fix failed test case for django2.2 support,ABANDONED,2019-10-09 10:48:17.000000000,2019-10-18 16:31:40.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-09 10:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/964f51a423ebb62e228bbdc67eafc2c88b65880c', 'message': 'Fix failed test case for django2.2\n\nChange-Id: If9e470a744c28d9392c9a3caa1a326fc164b2256\n'}, {'number': 2, 'created': '2019-10-09 12:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/e19d018a716f5200a18e7904a2ed4bc83d42a2ae', 'message': 'Fix failed test case for django2.\n\nChange-Id: If9e470a744c28d9392c9a3caa1a326fc164b2256\n'}, {'number': 3, 'created': '2019-10-09 12:41:42.000000000', 'files': ['sahara_dashboard/content/data_processing/clusters/nodegroup_templates/tests.py', 'sahara_dashboard/content/data_processing/clusters/nodegroup_templates/workflows/create.py'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/95afc23ffb939a0b9d906d834254f62e669500fa', 'message': 'Fix failed test case for django2.2 support\n\nChange-Id: If9e470a744c28d9392c9a3caa1a326fc164b2256\n'}]",0,687530,95afc23ffb939a0b9d906d834254f62e669500fa,7,1,3,29313,,,0,"Fix failed test case for django2.2 support

Change-Id: If9e470a744c28d9392c9a3caa1a326fc164b2256
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/30/687530/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara_dashboard/content/data_processing/clusters/nodegroup_templates/workflows/create.py'],1,964f51a423ebb62e228bbdc67eafc2c88b65880c,django22," def render(self, name, value, attrs=None, choices=(), renderer=None):"," def render(self, name, value, attrs=None, choices=()):",1,1
openstack%2Fblazar~master~I7af4d407b183578617131f0de42becb3dc2bc415,openstack/blazar,master,I7af4d407b183578617131f0de42becb3dc2bc415,Fix issue moving hosts back to freepool,MERGED,2019-10-11 21:55:01.000000000,2019-10-18 16:25:54.000000000,2019-10-18 16:24:36.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 29100}]","[{'number': 1, 'created': '2019-10-11 21:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/bdd72bd5e3f1d5db095c6ffbe2d0e7a535de419f', 'message': 'Fix issue moving hosts back to freepool\n\nChange-Id: I7af4d407b183578617131f0de42becb3dc2bc415\n'}, {'number': 2, 'created': '2019-10-11 21:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/c45dd767f52b31c823420eeaea9b716fdf7d59bf', 'message': 'Fix issue moving hosts back to freepool\n\nIf an aggregate fails to be created for some reason, for example because\nthe requested node is not in the freepool, some cleanup occurs. Part of\nthe cleanup is ensuring the target node is moved _back_ to the freepool.\nThis should theoretically ""heal"" cases where the node wasn\'t in the\nfreepool but also wasn\'t in some lease aggregate.\n\nHowever, this call to Nova\'s API refers to the freepool aggregate by its\nname, which is not supported here: the ID must be used[1]. This caused\nthis operation to fail and raise a NotFound, confusingly (because Nova\ncouldn\'t find an aggregate with ID=\'freepool\' for example.)\n\nCloses-Bug: #1847821\nChange-Id: I7af4d407b183578617131f0de42becb3dc2bc415\n'}, {'number': 3, 'created': '2019-10-11 21:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/151990f2a263a2620c7fa98f465c4e3cc1435178', 'message': 'Fix issue moving hosts back to freepool\n\nIf an aggregate fails to be created for some reason, for example because\nthe requested node is not in the freepool, some cleanup occurs. Part of\nthe cleanup is ensuring the target node is moved _back_ to the freepool.\nThis should theoretically ""heal"" cases where the node wasn\'t in the\nfreepool but also wasn\'t in some lease aggregate.\n\nHowever, this call to Nova\'s API refers to the freepool aggregate by its\nname, which is not supported here: the ID must be used[1]. This caused\nthis operation to fail and raise a NotFound, confusingly (because Nova\ncouldn\'t find an aggregate with ID=\'freepool\' for example.)\n\n[1]:\nhttps://docs.openstack.org/api-ref/compute/?expanded=add-host-detail#add-host\n\nCloses-Bug: #1847821\nChange-Id: I7af4d407b183578617131f0de42becb3dc2bc415\n'}, {'number': 4, 'created': '2019-10-16 16:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/7799de1a4ed752eb3d1ab4ea16901c2f73153937', 'message': 'Fix issue moving hosts back to freepool\n\nIf an aggregate fails to be created for some reason, for example because\nthe requested node is not in the freepool, some cleanup occurs. Part of\nthe cleanup is ensuring the target node is moved _back_ to the freepool.\nThis should theoretically ""heal"" cases where the node wasn\'t in the\nfreepool but also wasn\'t in some lease aggregate.\n\nHowever, this call to Nova\'s API refers to the freepool aggregate by its\nname, which is not supported here: the ID must be used[1]. This caused\nthis operation to fail and raise a NotFound, confusingly (because Nova\ncouldn\'t find an aggregate with ID=\'freepool\' for example.)\n\n[1]:\nhttps://docs.openstack.org/api-ref/compute/?expanded=add-host-detail#add-host\n\nCloses-Bug: #1847821\nChange-Id: I7af4d407b183578617131f0de42becb3dc2bc415\n'}, {'number': 5, 'created': '2019-10-18 14:30:27.000000000', 'files': ['blazar/utils/openstack/nova.py', 'releasenotes/notes/bug-1847821-2f9d6e61f438dc4f.yaml', 'blazar/tests/utils/openstack/test_nova.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/0346b02ccea75b992d0b72a6dbaa1f05864450e0', 'message': 'Fix issue moving hosts back to freepool\n\nIf an aggregate fails to be created for some reason, for example because\nthe requested node is not in the freepool, some cleanup occurs. Part of\nthe cleanup is ensuring the target node is moved _back_ to the freepool.\nThis should theoretically ""heal"" cases where the node wasn\'t in the\nfreepool but also wasn\'t in some lease aggregate.\n\nHowever, this call to Nova\'s API refers to the freepool aggregate by its\nname, which is not supported here: the ID must be used[1]. This caused\nthis operation to fail and raise a NotFound, confusingly (because Nova\ncouldn\'t find an aggregate with ID=\'freepool\' for example.)\n\n[1]:\nhttps://docs.openstack.org/api-ref/compute/?expanded=add-host-detail#add-host\n\nCloses-Bug: #1847821\nChange-Id: I7af4d407b183578617131f0de42becb3dc2bc415\n'}]",0,688214,0346b02ccea75b992d0b72a6dbaa1f05864450e0,20,4,5,29100,,,0,"Fix issue moving hosts back to freepool

If an aggregate fails to be created for some reason, for example because
the requested node is not in the freepool, some cleanup occurs. Part of
the cleanup is ensuring the target node is moved _back_ to the freepool.
This should theoretically ""heal"" cases where the node wasn't in the
freepool but also wasn't in some lease aggregate.

However, this call to Nova's API refers to the freepool aggregate by its
name, which is not supported here: the ID must be used[1]. This caused
this operation to fail and raise a NotFound, confusingly (because Nova
couldn't find an aggregate with ID='freepool' for example.)

[1]:
https://docs.openstack.org/api-ref/compute/?expanded=add-host-detail#add-host

Closes-Bug: #1847821
Change-Id: I7af4d407b183578617131f0de42becb3dc2bc415
",git fetch https://review.opendev.org/openstack/blazar refs/changes/14/688214/5 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/utils/openstack/nova.py', 'blazar/tests/utils/openstack/test_nova.py']",2,bdd72bd5e3f1d5db095c6ffbe2d0e7a535de419f,bug/1847821," mock.call(self.fake_freepool.id, 'host1'), mock.call(self.fake_freepool.id, 'host2')])"," mock.call('freepool', 'host1'), mock.call('freepool', 'host2')])",3,3
openstack%2Ftripleo-quickstart-extras~master~Ic763d5b39d5059526ee5de99fec82bec7524d460,openstack/tripleo-quickstart-extras,master,Ic763d5b39d5059526ee5de99fec82bec7524d460,fixed linters,MERGED,2019-10-17 12:58:52.000000000,2019-10-18 16:23:02.000000000,2019-10-18 16:21:45.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-10-17 12:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bd0258519aed7527b21edb3b64540b93ed6cdc45', 'message': 'fixed linters\n\n- workaround for ansible-lint failure with new setuptools\n- bumping linters\n- consolidated linters configuration\n\nChange-Id: Ic763d5b39d5059526ee5de99fec82bec7524d460\n'}, {'number': 2, 'created': '2019-10-17 13:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/15b03d27d510fc78dc766a2ff855c3b8a7824d1e', 'message': 'fixed linters\n\n- workaround for ansible-lint failure with new setuptools\n- bumping linters\n- consolidated linters configuration\n\nChange-Id: Ic763d5b39d5059526ee5de99fec82bec7524d460\n'}, {'number': 3, 'created': '2019-10-18 09:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/10a67d24023a041c287804b004d9e4c42ba46b93', 'message': 'fixed linters\n\n- workaround for ansible-lint failure with new setuptools\n- bumping linters\n- consolidated linters configuration\n\nChange-Id: Ic763d5b39d5059526ee5de99fec82bec7524d460\n'}, {'number': 4, 'created': '2019-10-18 09:42:36.000000000', 'files': ['bindep.txt', 'test-requirements.txt', 'ci-scripts/ansible_rules/ShellPipefail.py', 'setup.cfg', 'tox.ini', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6bd8a4df1e97e84cd749b9c44f0a5d90548adeac', 'message': 'fixed linters\n\n- workaround for ansible-lint failure with new setuptools\n- bumping linters\n- consolidated linters configuration\n\nPartial-Bug: https://bugs.launchpad.net/tripleo/+bug/1848512\nChange-Id: Ic763d5b39d5059526ee5de99fec82bec7524d460\n'}]",5,689144,6bd8a4df1e97e84cd749b9c44f0a5d90548adeac,21,9,4,24162,,,0,"fixed linters

- workaround for ansible-lint failure with new setuptools
- bumping linters
- consolidated linters configuration

Partial-Bug: https://bugs.launchpad.net/tripleo/+bug/1848512
Change-Id: Ic763d5b39d5059526ee5de99fec82bec7524d460
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/44/689144/4 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'setup.cfg', 'tox.ini', '.pre-commit-config.yaml']",4,bd0258519aed7527b21edb3b64540b93ed6cdc45,fix/lint, rev: v2.3.0 rev: v1.18.0, rev: v2.0.0 rev: v1.13.0,29,35
openstack%2Ftripleo-ci~master~I4dc893f7e49243496c83197b0aaa04ea2659108c,openstack/tripleo-ci,master,I4dc893f7e49243496c83197b0aaa04ea2659108c,Skip retag/push w/ _arch suffix for rhel8/podman,MERGED,2019-10-14 15:50:24.000000000,2019-10-18 16:21:47.000000000,2019-10-18 16:21:47.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-14 15:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c19864be94475cd61db9cb0b088e69f8162150bf', 'message': 'Skip retag/push w/ _arch suffix for rhel8/podman\n\nrhel8 containers will be retagged and pushed to registry in a\nseparated task in rdo-infra/config repository. podman command\ncan be invoked with --creds from there.\n\nChange-Id: I4dc893f7e49243496c83197b0aaa04ea2659108c\nRelated-Bug: #1847664\n'}, {'number': 2, 'created': '2019-10-17 15:12:19.000000000', 'files': ['roles/build-containers/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7d697643f059d9b5eb31d8d4dfeeae6c701c4b4d', 'message': 'Skip retag/push w/ _arch suffix for rhel8/podman\n\nrhel8 containers will be retagged and pushed to registry in a\nseparated task in rdo-infra/config repository. podman command\ncan be invoked with --creds from there.\n\nChange-Id: I4dc893f7e49243496c83197b0aaa04ea2659108c\nRelated-Bug: #1847664\n'}]",2,688433,7d697643f059d9b5eb31d8d4dfeeae6c701c4b4d,30,5,2,8175,,,0,"Skip retag/push w/ _arch suffix for rhel8/podman

rhel8 containers will be retagged and pushed to registry in a
separated task in rdo-infra/config repository. podman command
can be invoked with --creds from there.

Change-Id: I4dc893f7e49243496c83197b0aaa04ea2659108c
Related-Bug: #1847664
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/33/688433/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/tasks/main.yaml'],1,c19864be94475cd61db9cb0b088e69f8162150bf,lp/1847664, - push_containers | bool - not push_containers_podman | default(false) | bool, - push_containers | bool or push_containers_podman | default(false) | bool,2,2
openstack%2Ftripleo-ci~master~I2e9fc9c0362e4eb1a90b76987c02d88bff0bd002,openstack/tripleo-ci,master,I2e9fc9c0362e4eb1a90b76987c02d88bff0bd002,Fix rhel8 deps repo for buildimage oc,MERGED,2019-10-17 18:35:52.000000000,2019-10-18 16:21:46.000000000,2019-10-18 16:21:46.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-17 18:35:52.000000000', 'files': ['roles/oooci-build-images/tasks/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fec52b4ac69c66314dfc4e64f6a9568462375d4a', 'message': 'Fix rhel8 deps repo for buildimage oc\n\ntripleo-repos installs rhel8-master-deps.repo, not osp15-deps.\n\nChange-Id: I2e9fc9c0362e4eb1a90b76987c02d88bff0bd002\nCloses-Bug: #1848564\n'}]",0,689241,fec52b4ac69c66314dfc4e64f6a9568462375d4a,13,4,1,8175,,,0,"Fix rhel8 deps repo for buildimage oc

tripleo-repos installs rhel8-master-deps.repo, not osp15-deps.

Change-Id: I2e9fc9c0362e4eb1a90b76987c02d88bff0bd002
Closes-Bug: #1848564
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/41/689241/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/tasks/pre.yaml'],1,fec52b4ac69c66314dfc4e64f6a9568462375d4a,lp/1848564," dib_yum_repo_conf: "" /etc/yum.repos.d/delorean.repo /etc/yum.repos.d/rhel8-{{ release|default('master') }}-deps.repo /etc/yum.repos.d/rh-cloud.repo """," dib_yum_repo_conf: "" /etc/yum.repos.d/delorean.repo /etc/yum.repos.d/osp15-deps.repo /etc/yum.repos.d/rh-cloud.repo """,1,1
openstack%2Fopenstack-helm-addons~master~I9a75de99441ad7c0bc7068e720686a3f96e92870,openstack/openstack-helm-addons,master,I9a75de99441ad7c0bc7068e720686a3f96e92870,Ranger/Ranger-Agent: Fix deployment api versions,MERGED,2019-10-18 02:20:29.000000000,2019-10-18 16:17:59.000000000,2019-10-18 16:17:59.000000000,"[{'_account_id': 8898}, {'_account_id': 19391}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 28719}]","[{'number': 1, 'created': '2019-10-18 02:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/ee4fc179ee39fb0cccd33122da8ecd3d227851df', 'message': 'Ranger/Ranger-Agent: Fix deployment api versions\n\nThis updates the kubernetes api version for the ranger and\nranger agent deployment templates to apps/v1\n\nChange-Id: I9a75de99441ad7c0bc7068e720686a3f96e92870\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-10-18 13:40:21.000000000', 'files': ['ranger/templates/deployment-ranger-services.yaml', 'ranger-agent/templates/deployment-ranger-agent-api.yaml', 'ranger-agent/templates/deployment-ranger-agent-engine.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/78d1e49e1e8575cbce5ab390fc280cc4554be422', 'message': 'Ranger/Ranger-Agent: Fix deployment api versions\n\nThis updates the kubernetes api version for the ranger and\nranger agent deployment templates to apps/v1\n\nChange-Id: I9a75de99441ad7c0bc7068e720686a3f96e92870\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,689297,78d1e49e1e8575cbce5ab390fc280cc4554be422,11,5,2,17591,,,0,"Ranger/Ranger-Agent: Fix deployment api versions

This updates the kubernetes api version for the ranger and
ranger agent deployment templates to apps/v1

Change-Id: I9a75de99441ad7c0bc7068e720686a3f96e92870
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/97/689297/2 && git format-patch -1 --stdout FETCH_HEAD,"['ranger-agent/templates/deployment-ranger-agent-api.yaml', 'ranger/templates/deployment-ranger-services.yaml', 'ranger-agent/templates/deployment-ranger-agent-engine.yaml']",3,ee4fc179ee39fb0cccd33122da8ecd3d227851df,k8s-api-version,apiVersion: apps/v1,apiVersion: apps/v1beta1,3,3
openstack%2Fkeystone~stable%2Fstein~Id18ae5f5a001541bfa129347d1b8ba6fa055699b,openstack/keystone,stable/stein,Id18ae5f5a001541bfa129347d1b8ba6fa055699b,Docs: Make robust with using real links,ABANDONED,2019-10-18 16:13:14.000000000,2019-10-18 16:13:32.000000000,,[{'_account_id': 6547}],"[{'number': 1, 'created': '2019-10-18 16:13:14.000000000', 'files': ['doc/source/admin/federation/shibboleth.inc', 'doc/source/admin/domain-specific-config.inc', 'doc/source/admin/endpoint-filtering.inc', 'doc/source/contributor/auth-plugins.rst', 'doc/source/admin/federation/mellon.inc', 'doc/source/admin/resource-options.rst', 'doc/source/contributor/developing-drivers.rst', 'doc/source/admin/configuration.rst', 'doc/source/admin/identity-concepts.rst', 'doc/source/admin/caching-layer.inc', 'doc/source/admin/event_notifications.rst', 'doc/source/admin/identity-sources.rst', 'doc/source/configuration/config-options.rst', 'doc/source/contributor/proposing-features.rst', 'doc/source/admin/security-compliance.inc', 'doc/source/admin/manage-trusts.rst', 'doc/source/contributor/services.rst', 'doc/source/admin/endpoint-policy.inc', 'doc/source/install/keystone-install-rdo.rst', 'doc/source/install/keystone-install-ubuntu.rst', 'doc/source/admin/federation/configure_federation.rst', 'doc/source/admin/limit-list-size.inc', 'doc/source/user/trusts.rst', 'doc/source/admin/manage-services.rst', 'doc/source/admin/federation/openidc.inc', 'doc/source/admin/troubleshoot.inc', 'doc/source/admin/logging.inc', 'doc/source/admin/url-safe-naming.inc', 'doc/source/user/application_credentials.rst', 'doc/source/configuration/index.rst', 'doc/source/admin/tokens-overview.rst', 'doc/source/admin/federation/introduction.rst', 'doc/source/contributor/how-can-i-help.rst', 'doc/source/admin/integrate-with-ldap.inc', 'tox.ini', 'doc/source/admin/performance.inc', 'doc/source/install/keystone-install-obs.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f98f4c801b07e0ef80d6c4756580bc79acb53db8', 'message': 'Docs: Make robust with using real links\n\nThis backport squashes f10f95b and the correction 4ed39d5.\n\nOur tools noticed that keystone links to\nhttps://docs.openstack.org/keystone/latest/admin/identity-domain-specific-config.html\nwhich does not exist anymore.\n\nThe page was removed but the link to it was not changed. Replace this\nand similar links with internal links that will work even if files are\nmoved - and can be verified, thus sphinx will error in case of broken\ntargets.\n\nThese changes include a few other fixes for broken keystone links, e.g.\nto renamed anchors.\n\nFor the include files in admin/configuration.rst and\nadmin/federation/configure_federation.rst: Rename them to *inc.\nThe files were\npublished twice (as separate files and on this page) and thus\nreferencing failed. Renaming avoids this.\n\nAlso, put doctree outside of html tree so that it does not get\npublished.\n\nChange-Id: I3d07637b0046cc88a66bcb51a0a4fe7c146c1549\n(cherry picked from commit f10f95b455806ce28b112827a794618957e1f829)\n\nFix relative links\n\nFix minor errors introduced in f10f95b4.\n\nChange-Id: Id18ae5f5a001541bfa129347d1b8ba6fa055699b\n(cherry picked from commit 4ed39d530f5589aabd880de7917424cca700650f)\n'}]",0,689534,f98f4c801b07e0ef80d6c4756580bc79acb53db8,2,1,1,8482,,,0,"Docs: Make robust with using real links

This backport squashes f10f95b and the correction 4ed39d5.

Our tools noticed that keystone links to
https://docs.openstack.org/keystone/latest/admin/identity-domain-specific-config.html
which does not exist anymore.

The page was removed but the link to it was not changed. Replace this
and similar links with internal links that will work even if files are
moved - and can be verified, thus sphinx will error in case of broken
targets.

These changes include a few other fixes for broken keystone links, e.g.
to renamed anchors.

For the include files in admin/configuration.rst and
admin/federation/configure_federation.rst: Rename them to *inc.
The files were
published twice (as separate files and on this page) and thus
referencing failed. Renaming avoids this.

Also, put doctree outside of html tree so that it does not get
published.

Change-Id: I3d07637b0046cc88a66bcb51a0a4fe7c146c1549
(cherry picked from commit f10f95b455806ce28b112827a794618957e1f829)

Fix relative links

Fix minor errors introduced in f10f95b4.

Change-Id: Id18ae5f5a001541bfa129347d1b8ba6fa055699b
(cherry picked from commit 4ed39d530f5589aabd880de7917424cca700650f)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/34/689534/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/federation/shibboleth.inc', 'doc/source/admin/domain-specific-config.inc', 'doc/source/admin/endpoint-filtering.inc', 'doc/source/contributor/auth-plugins.rst', 'doc/source/admin/federation/mellon.inc', 'doc/source/admin/resource-options.rst', 'doc/source/contributor/developing-drivers.rst', 'doc/source/admin/configuration.rst', 'doc/source/admin/identity-concepts.rst', 'doc/source/admin/caching-layer.inc', 'doc/source/admin/event_notifications.rst', 'doc/source/admin/identity-sources.rst', 'doc/source/configuration/config-options.rst', 'doc/source/contributor/proposing-features.rst', 'doc/source/admin/security-compliance.inc', 'doc/source/admin/manage-trusts.rst', 'doc/source/contributor/services.rst', 'doc/source/admin/endpoint-policy.inc', 'doc/source/install/keystone-install-rdo.rst', 'doc/source/install/keystone-install-ubuntu.rst', 'doc/source/admin/federation/configure_federation.rst', 'doc/source/admin/limit-list-size.inc', 'doc/source/user/trusts.rst', 'doc/source/admin/manage-services.rst', 'doc/source/admin/federation/openidc.inc', 'doc/source/admin/troubleshoot.inc', 'doc/source/admin/logging.inc', 'doc/source/admin/url-safe-naming.inc', 'doc/source/user/application_credentials.rst', 'doc/source/configuration/index.rst', 'doc/source/admin/tokens-overview.rst', 'doc/source/admin/federation/introduction.rst', 'doc/source/contributor/how-can-i-help.rst', 'doc/source/admin/integrate-with-ldap.inc', 'tox.ini', 'doc/source/admin/performance.inc', 'doc/source/install/keystone-install-obs.rst']",37,f98f4c801b07e0ef80d6c4756580bc79acb53db8,stein/backport/675667,.. _suse_configure_apache: ,,138,96
openstack%2Fkeystone~stable%2Fqueens~Ifdb292c2e4bd1bdae449291efe07861e5e3d2afc,openstack/keystone,stable/queens,Ifdb292c2e4bd1bdae449291efe07861e5e3d2afc,DNM get results from legacy ldap job,ABANDONED,2019-10-16 16:23:29.000000000,2019-10-18 15:59:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-16 16:23:29.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/keystone/commit/6f4afac4d244c465509a6d7ea32124dda06c3044', 'message': 'DNM get results from legacy ldap job\n\nChange-Id: Ifdb292c2e4bd1bdae449291efe07861e5e3d2afc\n'}]",0,688970,6f4afac4d244c465509a6d7ea32124dda06c3044,3,1,1,8482,,,0,"DNM get results from legacy ldap job

Change-Id: Ifdb292c2e4bd1bdae449291efe07861e5e3d2afc
",git fetch https://review.opendev.org/openstack/keystone refs/changes/70/688970/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,6f4afac4d244c465509a6d7ea32124dda06c3044,test-queens,,,0,0
openstack%2Fcharm-neutron-openvswitch~master~Ie1e4bb54f4c5c0f7af2c23b2184c0a599dc108c2,openstack/charm-neutron-openvswitch,master,Ie1e4bb54f4c5c0f7af2c23b2184c0a599dc108c2,Enable functional tests for train,MERGED,2019-10-18 07:50:54.000000000,2019-10-18 15:55:13.000000000,2019-10-18 15:55:13.000000000,"[{'_account_id': 7730}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 07:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/c260d80043b36190402368712b30a012e36da3b8', 'message': 'Enable functional tests for train\n\nThis patch also updates the smoke test to run train.\nAlso checked cmp_release.\n\nChange-Id: Ie1e4bb54f4c5c0f7af2c23b2184c0a599dc108c2\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}, {'number': 2, 'created': '2019-10-18 15:38:08.000000000', 'files': ['tests/gate-basic-bionic-train', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/103c1b4b32a9d7135eb15eb0a5d085205c7f994c', 'message': 'Enable functional tests for train\n\nThis patch also updates the smoke test to run train.\n\nChange-Id: Ie1e4bb54f4c5c0f7af2c23b2184c0a599dc108c2\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}]",0,689330,103c1b4b32a9d7135eb15eb0a5d085205c7f994c,12,4,2,7730,,,0,"Enable functional tests for train

This patch also updates the smoke test to run train.

Change-Id: Ie1e4bb54f4c5c0f7af2c23b2184c0a599dc108c2
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/30/689330/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/gate-basic-bionic-train', 'tox.ini']",2,c260d80043b36190402368712b30a012e36da3b8,charms-train-function-test, bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-train --no-destroy, bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-stein --no-destroy,27,1
openstack%2Fswift~master~I7a72be3568c2e8afd7211978cd917810c9af22ad,openstack/swift,master,I7a72be3568c2e8afd7211978cd917810c9af22ad,Imported Translations from Zanata,MERGED,2019-10-16 09:02:38.000000000,2019-10-18 15:54:14.000000000,2019-10-18 15:52:30.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-16 09:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5d35833ceaf90a5df9f759e25b75da0bbfd175ae', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7a72be3568c2e8afd7211978cd917810c9af22ad\n'}, {'number': 2, 'created': '2019-10-18 07:10:35.000000000', 'files': ['swift/locale/ko_KR/LC_MESSAGES/swift.po'], 'web_link': 'https://opendev.org/openstack/swift/commit/739c3704107bd991493472c18bfe7ac5f933077c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7a72be3568c2e8afd7211978cd917810c9af22ad\n'}]",0,688883,739c3704107bd991493472c18bfe7ac5f933077c,9,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I7a72be3568c2e8afd7211978cd917810c9af22ad
",git fetch https://review.opendev.org/openstack/swift refs/changes/83/688883/2 && git format-patch -1 --stdout FETCH_HEAD,['swift/locale/ko_KR/LC_MESSAGES/swift.po'],1,5d35833ceaf90a5df9f759e25b75da0bbfd175ae,zanata/translations,"# SeongSoo Cho <ppiyakk2@printf.kr>, 2019. #zanata""POT-Creation-Date: 2019-10-16 07:24+0000\n""""PO-Revision-Date: 2019-10-14 12:04+0000\n"" ""Last-Translator: SeongSoo Cho <ppiyakk2@printf.kr>\n""msgid ""%(server)s #%(number)d not running (%(conf)s)"" msgstr ""%(server)s #%(number)d    (%(conf)s)"" #, python-format msgid ""%(server)s (%(pid)s) appears to have stopped"" msgstr ""%(server)s (%(pid)s) () "" #, python-format msgid ""%(server)s running (%(pid)s - %(conf)s)"" msgstr ""%(server)s   (%(pid)s - %(conf)s)"" #, python-format msgid ""%(server)s running (%(pid)s - %(pid_file)s)"" msgstr ""%(server)s   (%(pid)s - %(pid_file)s)"" #, python-formatmsgid ""%(type)s: %(value)s"" msgstr ""%(type)s: %(value)s"" #, python-formatmsgid ""Audit Failed for %(path)s: %(err)s"" msgstr ""%(path)s  : %(err)s"" #, python-format msgid ""Audit passed for %s"" msgstr ""%s  "" #, python-formatmsgid ""Connection reset"" msgstr ""Connection reset"" msgid ""Could not load %(conf)r: %(error)s"" msgstr ""%(conf)r   : %(error)s"" #, python-formatmsgid """" ""ERROR There are not enough handoff nodes to reach replica count for "" ""partition %s"" msgstr """" "" -  %s      handoff   "" #, python-format#, python-format msgid ""Error in %(conf)r with mtime_check_interval: %(error)s"" msgstr ""%(conf)r mtime_check_interval  : %(error)s"" #, python-format msgid ""Error sending UDP message to %(target)r: %(err)s"" msgstr ""%(target)r UDP     : %(err)s"" msgid ""Invalid swift_bytes"" msgstr ""swift_bytes   ."" msgid ""More than one part in a single-part response?"" msgstr ""      ?"" msgid ""Network unreachable"" msgstr ""Network unreachable"" msgid ""No cluster endpoint for %(realm)r %(cluster)r"" msgstr ""%(realm)r %(cluster)r     "" #, python-formatmsgid ""Quarantined %(db_dir)s to %(quar_path)s due to %(reason)s"" msgstr ""%(db_dir)s %(quar_path)s . : %(reason)s"" #, python-formatmsgid ""Signal %(server)s pid: %(pid)s signal: %(signal)s"" msgstr ""Signal %(server)s pid: %(pid)s signal: %(signal)s"" #, python-formatmsgid ""Skipping %(datadir)s because %(err)s"" msgstr ""%(datadir)s   : %(err)s"" #, python-formatmsgid ""Unable to find %(section)s config section in %(conf)s"" msgstr ""%(conf)s  %(section)s     "" #, python-format#, python-format msgid ""Unable to locate config number %(number)s for %(server)s"" msgstr ""%(server)s    %(number)s   "" msgid ""Unable to perform fsync() on directory %(dir)s: %(err)s"" msgstr "" fsync()     %(dir)s: %(err)s"" #, python-formatmsgid """" ""WARNING: object-expirer.conf is deprecated. Move object-expirers' "" ""configuration into object-server.conf."" msgstr """" "" - object-expirer.conf deprecate . object-expirer  "" ""object-server.conf   ."" #, python-format msgid ""Waited %(kill_wait)s seconds for %(server)s to die; giving up"" msgstr ""%(kill_wait)s  %(server)s  ,  "" #, python-format msgid ""Waited %(kill_wait)s seconds for %(server)s to die; killing"" msgstr ""%(kill_wait)s  %(server)s() ,   "" ","""POT-Creation-Date: 2019-10-04 06:59+0000\n""""PO-Revision-Date: 2016-04-12 06:43+0000\n"" ""Last-Translator: Copied by Zanata <copied-by-zanata@zanata.org>\n""",106,3
openstack%2Fopenstack-helm~master~If063db5e6f0abfab10cd0195b3633c41d8ed560f,openstack/openstack-helm,master,If063db5e6f0abfab10cd0195b3633c41d8ed560f,Update ceph-config-helper image,MERGED,2019-10-18 02:22:52.000000000,2019-10-18 15:46:34.000000000,2019-10-18 15:45:15.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 02:22:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/18c614d065ea90b56bd483b95dbf4a7e68de0f12', 'message': 'WIP/DNM: Update ceph-config-helper image\n\nChange-Id: If063db5e6f0abfab10cd0195b3633c41d8ed560f\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-10-18 13:37:20.000000000', 'files': ['nova/values_overrides/rocky-ubuntu_xenial.yaml', 'nova/values_overrides/rocky-opensuse_15.yaml', 'nova/values_overrides/queens-ubuntu_xenial.yaml', 'cinder/values.yaml', 'doc/source/testing/ceph-upgrade.rst', 'nova/values_overrides/stein-ubuntu_bionic.yaml', 'nova/values.yaml', 'glance/values.yaml', 'nova/values_overrides/rocky-ubuntu_bionic.yaml', 'nova/values_overrides/pike-ubuntu_xenial.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6e4ab4aa0cc3d6ef4b7b7ff315e4d746889ec965', 'message': 'Update ceph-config-helper image\n\nThis updates the ceph-config-helper image for the ubuntu distro\nbased jobs to use an image that includes kubernetes 1.16.2\n\nChange-Id: If063db5e6f0abfab10cd0195b3633c41d8ed560f\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,689298,6e4ab4aa0cc3d6ef4b7b7ff315e4d746889ec965,11,3,2,17591,,,0,"Update ceph-config-helper image

This updates the ceph-config-helper image for the ubuntu distro
based jobs to use an image that includes kubernetes 1.16.2

Change-Id: If063db5e6f0abfab10cd0195b3633c41d8ed560f
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/98/689298/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/values_overrides/rocky-ubuntu_xenial.yaml', 'nova/values_overrides/rocky-opensuse_15.yaml', 'nova/values_overrides/queens-ubuntu_xenial.yaml', 'cinder/values.yaml', 'doc/source/testing/ceph-upgrade.rst', 'nova/values_overrides/stein-ubuntu_bionic.yaml', 'nova/values.yaml', 'glance/values.yaml', 'nova/values_overrides/pike-ubuntu_xenial.yaml', 'nova/values_overrides/rocky-ubuntu_bionic.yaml']",10,18c614d065ea90b56bd483b95dbf4a7e68de0f12,ceph-config-image, #nova_service_cleaner: 'docker.io/srwilkers/ceph-config-helper:1.16.2', #nova_service_cleaner: 'docker.io/port/ceph-config-helper:v1.10.3',18,18
openstack%2Fopenstack-helm-infra~master~I49e0cfd05f27f868864a98e8e68ffe79e28c0f03,openstack/openstack-helm-infra,master,I49e0cfd05f27f868864a98e8e68ffe79e28c0f03,Update Nagios Helm test to use python3,MERGED,2019-10-14 15:02:07.000000000,2019-10-18 15:39:52.000000000,2019-10-18 15:38:39.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 28618}, {'_account_id': 29131}, {'_account_id': 29161}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-10-14 15:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e55d5f95965eb90191b278ab156f6766ea7483a2', 'message': '[WIP] Update Nagios Helm test to use python3\n\nThis change updates the selenium_tests container image\nto one which installs python3.\n\nThe selenium-test.py template file has been refactored\nto match the structure of the selenium tests in\n/tools/gate/selenium\n\nDepends On:[Corresponding Image Change WIP]\n\nChange-Id: I49e0cfd05f27f868864a98e8e68ffe79e28c0f03\n'}, {'number': 2, 'created': '2019-10-14 15:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7d17523c61ad298551bc4652b63a9a1a4a4d7f83', 'message': '[WIP] Update Nagios Helm test to use python3\n\nThis change updates the selenium_tests container image\nto one which installs python3.\n\nThe selenium-test.py template file has been refactored\nto match the structure of the selenium tests in\n/tools/gate/selenium\n\nDepends On: https://review.opendev.org/688436\nChange-Id: I49e0cfd05f27f868864a98e8e68ffe79e28c0f03\n'}, {'number': 3, 'created': '2019-10-14 16:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/15ea707e7a86da33eddeaf0c04899671aaffbe34', 'message': '[WIP] Update Nagios Helm test to use python3\n\nThis change updates the selenium_tests container image\nto one which installs python3.\n\nThe selenium-test.py template file has been refactored\nto match the structure of the selenium tests in\n/tools/gate/selenium\n\nDepends On: https://review.opendev.org/688436\nChange-Id: I49e0cfd05f27f868864a98e8e68ffe79e28c0f03\n'}, {'number': 4, 'created': '2019-10-14 21:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c0ae93f5ab0470c89d6f73094382bae1c4d1275a', 'message': '[WIP] Update Nagios Helm test to use python3\n\nThis change updates the selenium_tests container image\nto one which installs python3.\n\nThe selenium-test.py template file has been refactored\nto match the structure of the selenium tests in\n/tools/gate/selenium\n\nDepends On: https://review.opendev.org/688436\nChange-Id: I49e0cfd05f27f868864a98e8e68ffe79e28c0f03\n'}, {'number': 5, 'created': '2019-10-15 13:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/93627e02c70584c418d8ef26f21cafe3a1a58a23', 'message': '[WIP] Update Nagios Helm test to use python3\n\nThis change updates the selenium_tests container image\nto one which installs python3.\n\nThe selenium-test.py template file has been refactored\nto match the structure of the selenium tests in\n/tools/gate/selenium\n\nDepends On: https://review.opendev.org/688436\nChange-Id: I49e0cfd05f27f868864a98e8e68ffe79e28c0f03\n'}, {'number': 6, 'created': '2019-10-15 14:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1e67316cd9418c7dfe6cc95c532cbaeef0fb82a7', 'message': 'Update Nagios Helm test to use python3\n\nThis change updates the selenium_tests container image\nto one which installs python3.\n\nThe selenium-test.py template file has been refactored\nto match the structure of the selenium tests in\n/tools/gate/selenium\n\nDepends On: https://review.opendev.org/688436\nChange-Id: I49e0cfd05f27f868864a98e8e68ffe79e28c0f03\n'}, {'number': 7, 'created': '2019-10-16 13:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/00380ce62a527f0468808ec0973c28bef18bf6b9', 'message': 'Update Nagios Helm test to use python3\n\nThis change updates the selenium_tests container image\nto one which installs python3.\n\nThe selenium-test.py template file has been refactored\nto match the structure of the selenium tests in\n/tools/gate/selenium\n\nDepends On: https://review.opendev.org/688436\nChange-Id: I49e0cfd05f27f868864a98e8e68ffe79e28c0f03\n'}, {'number': 8, 'created': '2019-10-16 14:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ca861bf6ee4b7c2fe3f72d4bed92ffc7b475b700', 'message': '[WIP] Update Nagios Helm test to use python3\n\nTagged as WIP while osh-selenium image change is not official\n\nThis change updates the selenium_tests container image\nto one which installs python3.\n\nThe selenium-test.py template file has been refactored\nto match the structure of the selenium tests in\n/tools/gate/selenium\n\nDepends On: https://review.opendev.org/688436\nChange-Id: I49e0cfd05f27f868864a98e8e68ffe79e28c0f03\n'}, {'number': 9, 'created': '2019-10-17 16:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6bcd2986aadf42b356067c614a7aebb83ad5e607', 'message': 'Update Nagios Helm test to use python3\n\nThis change updates the selenium_tests container image\nto one which installs python3.\n\nThe selenium-test.py template file has been refactored\nto match the structure of the selenium tests in\n/tools/gate/selenium\n\nDepends On: https://review.opendev.org/688436\nChange-Id: I49e0cfd05f27f868864a98e8e68ffe79e28c0f03\n'}, {'number': 10, 'created': '2019-10-18 13:31:29.000000000', 'files': ['nagios/templates/bin/_selenium-tests.py.tpl', 'nagios/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b3d2a178ad6728433644db57df0a54f5c4c6f05d', 'message': 'Update Nagios Helm test to use python3\n\nThis change updates the selenium_tests container image\nto one which installs python3.\n\nThe selenium-test.py template file has been refactored\nto match the structure of the selenium tests in\n/tools/gate/selenium\n\nDepends On: https://review.opendev.org/688436\nChange-Id: I49e0cfd05f27f868864a98e8e68ffe79e28c0f03\n'}]",7,688420,b3d2a178ad6728433644db57df0a54f5c4c6f05d,45,7,10,30777,,,0,"Update Nagios Helm test to use python3

This change updates the selenium_tests container image
to one which installs python3.

The selenium-test.py template file has been refactored
to match the structure of the selenium tests in
/tools/gate/selenium

Depends On: https://review.opendev.org/688436
Change-Id: I49e0cfd05f27f868864a98e8e68ffe79e28c0f03
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/20/688420/10 && git format-patch -1 --stdout FETCH_HEAD,"['nagios/templates/bin/_selenium-tests.py.tpl', 'nagios/values.yaml']",2,e55d5f95965eb90191b278ab156f6766ea7483a2,nagios-selenium-py3, selenium_tests: docker.io/openstackhelm/osh-selenium:latest-ubuntu_bionic, selenium_tests: docker.io/openstackhelm/osh-selenium:latest-ubuntu_xenial,69,95
openstack%2Fironic-python-agent-builder~master~I1ce84b2084cac23db871ba1cbe49e4b542699c01,openstack/ironic-python-agent-builder,master,I1ce84b2084cac23db871ba1cbe49e4b542699c01,DNM try changing branch,ABANDONED,2019-10-18 10:50:45.000000000,2019-10-18 15:36:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-18 10:50:45.000000000', 'files': ['roles/ipa-build-dib-image/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/b692d9e815ccc0d30b31d9ab8140205eeec438a2', 'message': 'DNM try changing branch\n\nChange-Id: I1ce84b2084cac23db871ba1cbe49e4b542699c01\n'}]",0,689424,b692d9e815ccc0d30b31d9ab8140205eeec438a2,3,1,1,10239,,,0,"DNM try changing branch

Change-Id: I1ce84b2084cac23db871ba1cbe49e4b542699c01
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/24/689424/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/ipa-build-dib-image/tasks/main.yaml'],1,b692d9e815ccc0d30b31d9ab8140205eeec438a2,test, ironic-python-agent-builder -o {{ image_name }} -b stable/queens, ironic-python-agent-builder -o {{ image_name }} -b HEAD,1,1
openstack%2Fopenstack-ansible-os_nova~master~If0cbd60790935141d52465abe61b40058f1829b1,openstack/openstack-ansible-os_nova,master,If0cbd60790935141d52465abe61b40058f1829b1,Update dependency list for openSUSE 15.x,MERGED,2019-10-18 06:28:49.000000000,2019-10-18 15:31:49.000000000,2019-10-18 15:30:06.000000000,"[{'_account_id': 2062}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-18 06:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/6d057d5e836f47a70fbfd83f598a5ebaa34dc9e7', 'message': 'Update dependency list for openSUSE 15.x\n\nIn openSUSE 15.x genisoimage was replaced by mkisofs. The various\nprojects have added autodetection on either one, so just updating\nthe package list should be enough. Also remove deprecated qemu-kvm\n(alias of qemu-system-x86_64).\n\nChange-Id: If0cbd60790935141d52465abe61b40058f1829b1\n'}, {'number': 2, 'created': '2019-10-18 06:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/cf30458fb7f7915d6475443dd702a8a8d1769aa9', 'message': 'Update dependency list for openSUSE 15.x\n\nIn openSUSE 15.x genisoimage was replaced by mkisofs. Although\nsome projects have added autodetection, nova needs to be explicitly\ntold.\n\nAlso remove deprecated qemu-kvm (wrapper around qemu-system-x86_64).\n\nChange-Id: If0cbd60790935141d52465abe61b40058f1829b1\n'}, {'number': 3, 'created': '2019-10-18 09:41:39.000000000', 'files': ['templates/nova.conf.j2', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/efc6e0ebbb76a4b45688d98465564c026d472df9', 'message': 'Update dependency list for openSUSE 15.x\n\nIn openSUSE 15.x genisoimage was replaced by mkisofs. Although\nsome projects have added autodetection, nova needs to be explicitly\ntold.\n\nAlso remove deprecated qemu-kvm (wrapper around qemu-system-x86_64).\n\nChange-Id: If0cbd60790935141d52465abe61b40058f1829b1\n'}]",1,689323,efc6e0ebbb76a4b45688d98465564c026d472df9,14,4,3,6593,,,0,"Update dependency list for openSUSE 15.x

In openSUSE 15.x genisoimage was replaced by mkisofs. Although
some projects have added autodetection, nova needs to be explicitly
told.

Also remove deprecated qemu-kvm (wrapper around qemu-system-x86_64).

Change-Id: If0cbd60790935141d52465abe61b40058f1829b1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/23/689323/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse.yml'],1,6d057d5e836f47a70fbfd83f598a5ebaa34dc9e7,opensuse-150, - mkisofs - mkisofs - qemu-system-x86_64, - genisoimage - genisoimage - qemu-kvm,3,3
openstack%2Fheat~master~I28bfcc43b108d4d907098b2f0cf3553aab399553,openstack/heat,master,I28bfcc43b108d4d907098b2f0cf3553aab399553,Don't use wrap_db_retry on subtransaction in resource_create_replacement(),MERGED,2019-10-11 20:27:38.000000000,2019-10-18 15:30:01.000000000,2019-10-16 16:14:00.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-11 20:27:38.000000000', 'files': ['heat/tests/db/test_sqlalchemy_api.py', 'heat/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/2398191be91d0dd145a4183f9a025fff1aa3727e', 'message': ""Don't use wrap_db_retry on subtransaction in resource_create_replacement()\n\nThe wrap_db_retry decorator must be used outside the outermost DB\ntransaction. Using it on a subtransaction means that the main\ntransaction gets marked for rollback but not closed, leaving the session\nin the 'inactive' state.\n\nThis change ensures that the decorator is not used when we update the\nprevious resource from within a subtransaction as part of creating a\nreplacement resource, and instead the retry happens outside the main\ntransaction.\n\nChange-Id: I28bfcc43b108d4d907098b2f0cf3553aab399553\nTask: 36957\n""}]",2,688197,2398191be91d0dd145a4183f9a025fff1aa3727e,11,4,1,4257,,,0,"Don't use wrap_db_retry on subtransaction in resource_create_replacement()

The wrap_db_retry decorator must be used outside the outermost DB
transaction. Using it on a subtransaction means that the main
transaction gets marked for rollback but not closed, leaving the session
in the 'inactive' state.

This change ensures that the decorator is not used when we update the
previous resource from within a subtransaction as part of creating a
replacement resource, and instead the retry happens outside the main
transaction.

Change-Id: I28bfcc43b108d4d907098b2f0cf3553aab399553
Task: 36957
",git fetch https://review.opendev.org/openstack/heat refs/changes/97/688197/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/db/test_sqlalchemy_api.py', 'heat/db/sqlalchemy/api.py']",2,2398191be91d0dd145a4183f9a025fff1aa3727e,," return _try_resource_update(context, resource_id, values, atomic_key, expected_engine_id) def _try_resource_update(context, resource_id, values, atomic_key, expected_engine_id=None):@oslo_db_api.wrap_db_retry(max_retries=3, retry_on_deadlock=True, retry_interval=0.5, inc_retry_interval=True) if not _try_resource_update(context, existing_res_id, update_data, atomic_key, expected_engine_id=expected_engine_id):"," if not resource_update(context, existing_res_id, update_data, atomic_key, expected_engine_id=expected_engine_id):",16,8
openstack%2Fkuryr-kubernetes~master~Ia4719e7f98b2f6632f321b215f4a31015cc1ca69,openstack/kuryr-kubernetes,master,Ia4719e7f98b2f6632f321b215f4a31015cc1ca69,Use upper-constraints in docs builds,MERGED,2019-10-15 13:30:48.000000000,2019-10-18 15:25:55.000000000,2019-10-18 15:24:40.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-10-15 13:30:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b95a0c33c91d0740ccd831d53f1f4fc75e89c857', 'message': ""Use upper-constraints in docs builds\n\nWe've just got hit by cffi pypi package upgrade. This is because we're\nnot using upper-constraints in our `docs` tox environment. This commit\nfixes that by adding it to the env.\n\nChange-Id: Ia4719e7f98b2f6632f321b215f4a31015cc1ca69\n""}]",0,688709,b95a0c33c91d0740ccd831d53f1f4fc75e89c857,33,5,1,11600,,,0,"Use upper-constraints in docs builds

We've just got hit by cffi pypi package upgrade. This is because we're
not using upper-constraints in our `docs` tox environment. This commit
fixes that by adding it to the env.

Change-Id: Ia4719e7f98b2f6632f321b215f4a31015cc1ca69
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/09/688709/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b95a0c33c91d0740ccd831d53f1f4fc75e89c857,docs-upper-constraints,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,2,1
openstack%2Fcharms.ceph~master~I6255a2e947053a6f8d545aa3f6be1a8330d8bd57,openstack/charms.ceph,master,I6255a2e947053a6f8d545aa3f6be1a8330d8bd57,Add manager_available() and wait_for_manager() methods,MERGED,2019-10-18 12:49:15.000000000,2019-10-18 15:16:41.000000000,2019-10-18 15:16:41.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 12:49:15.000000000', 'files': ['ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/727a9dd1563c11fbf17a404fe2df6dbe12e6e106', 'message': 'Add manager_available() and wait_for_manager() methods\n\nThese methods combine to provide a mechanism to wait for the mgr\ndaemon to be available before performing commands that rely on the\ndaemon being available; e.g. the adding a mgr module like pg-autotune.\n\nChange-Id: I6255a2e947053a6f8d545aa3f6be1a8330d8bd57\n'}]",0,689443,727a9dd1563c11fbf17a404fe2df6dbe12e6e106,6,2,1,20870,,,0,"Add manager_available() and wait_for_manager() methods

These methods combine to provide a mechanism to wait for the mgr
daemon to be available before performing commands that rely on the
daemon being available; e.g. the adding a mgr module like pg-autotune.

Change-Id: I6255a2e947053a6f8d545aa3f6be1a8330d8bd57
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/43/689443/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph/utils.py'],1,727a9dd1563c11fbf17a404fe2df6dbe12e6e106,add-wait-for-manager-function,"def manager_available(): # if manager daemon isn't on this release, just say it is Fine if cmp_pkgrevno('ceph', '11.0.0') < 0: return True cmd = [""sudo"", ""-u"", ""ceph"", ""ceph"", ""mgr"", ""dump"", ""-f"", ""json""] try: result = json.loads(subprocess.check_output(cmd).decode('UTF-8')) return result['available'] except subprocess.CalledProcessError as e: log(""'{}' failed: {}"".format("" "".join(cmd), str(e))) return False except Exception: return False def wait_for_manager(): while not manager_available(): log(""Waiting for manager to be available"") time.sleep(5) ",,21,0
openstack%2Ftripleo-common~master~Ic5a1f29e25380b1badf653fccce982cd5b8690aa,openstack/tripleo-common,master,Ic5a1f29e25380b1badf653fccce982cd5b8690aa,Do not repeat setting defaults for image layers,MERGED,2019-10-14 12:41:04.000000000,2019-10-18 15:04:07.000000000,2019-10-18 15:02:53.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-14 12:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bcc7ad0db51fdb03661f22d5fe9ba8ac29012ee0', 'message': 'Do not repeat setting defaults for image layers\n\nChange-Id: Ic5a1f29e25380b1badf653fccce982cd5b8690aa\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2019-10-15 15:20:41.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8ddaddea201e2be83833699bb8134a9df7d8a186', 'message': 'Do not repeat setting defaults for image layers\n\nChange-Id: Ic5a1f29e25380b1badf653fccce982cd5b8690aa\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,688398,8ddaddea201e2be83833699bb8134a9df7d8a186,26,7,2,6926,,,0,"Do not repeat setting defaults for image layers

Change-Id: Ic5a1f29e25380b1badf653fccce982cd5b8690aa
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/98/688398/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,bcc7ad0db51fdb03661f22d5fe9ba8ac29012ee0,bug/1847225,," for layer in source_layers: self.image_layers.setdefault(layer, t.target_image_url)",0,2
openstack%2Fneutron~stable%2Ftrain~I4a0e97845a40888f7f2c7267d9adb7be663ee380,openstack/neutron,stable/train,I4a0e97845a40888f7f2c7267d9adb7be663ee380,Add policy config for get_flavor_service_profile operation,MERGED,2019-10-12 08:20:50.000000000,2019-10-18 14:59:20.000000000,2019-10-18 14:57:31.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-12 08:20:50.000000000', 'files': ['neutron/conf/policies/flavor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa0fe1dda846cd83d13cf467648e5d27ffd8d257', 'message': ""Add policy config for get_flavor_service_profile operation\n\nPolicy for this API call was commented out but it is needed\nfor DELETE flavor_service_profile operation as Neutron's policy\nmodule looks for ability for SHOW command when DELETE is rejected\nto ensure what error message should be returned to the user.\n\nThis patch will fix Patrole test failure, see related bug description\nfor details.\n\nChange-Id: I4a0e97845a40888f7f2c7267d9adb7be663ee380\nCloses-Bug: #1843290\n(cherry picked from commit ac0a426017e92d5d73e97c26ef18a888e02da104)\n""}]",0,688256,aa0fe1dda846cd83d13cf467648e5d27ffd8d257,14,6,1,11975,,,0,"Add policy config for get_flavor_service_profile operation

Policy for this API call was commented out but it is needed
for DELETE flavor_service_profile operation as Neutron's policy
module looks for ability for SHOW command when DELETE is rejected
to ensure what error message should be returned to the user.

This patch will fix Patrole test failure, see related bug description
for details.

Change-Id: I4a0e97845a40888f7f2c7267d9adb7be663ee380
Closes-Bug: #1843290
(cherry picked from commit ac0a426017e92d5d73e97c26ef18a888e02da104)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/688256/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/flavor.py'],1,aa0fe1dda846cd83d13cf467648e5d27ffd8d257,bug/1843290-stable/train," policy.RuleDefault( 'get_flavor_service_profile', base.RULE_ANY, ('Get a flavor associated with a given service profiles. ' 'There is no corresponding GET operations in API currently. ' 'This rule is currently referred only in the DELETE ' 'of flavor_service_profile.') ),"," # TODO(amotoki): GET /flavors/{flavor_id}/service_profiles/{profile_id} # does not work and leads to an internal server error. # It is not defined in the API reference either. # It needs investigation and temporarily commented out. # policy.RuleDefault( # 'get_flavor_service_profile', # base.RULE_ANY, # 'Get a flavor associate with a given service profiles', # ),",8,9
openstack%2Ftripleo-common~master~I6bb4ef5d3d0e53b12f8636b998d7f7c2426c2b60,openstack/tripleo-common,master,I6bb4ef5d3d0e53b12f8636b998d7f7c2426c2b60,Add OS_COMPUTE_API_VERSION to overcloudrc,MERGED,2019-10-07 09:09:04.000000000,2019-10-18 14:50:19.000000000,2019-10-18 14:27:55.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 9555}, {'_account_id': 10135}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-07 09:09:04.000000000', 'files': ['tripleo_common/utils/overcloudrc.py', 'releasenotes/notes/export_os_nova_api_version-d5d1501306f8013b.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f3e3208fb784ec1d726b3a7252ec8825d64d7103', 'message': ""Add OS_COMPUTE_API_VERSION to overcloudrc\n\nopenstack cli doesn't negotiate a microversion. Live migration and\nmultiattach are 2 examples of operations which require arcane\nincantations\nto make them work correctly, and therefore usually don't.\nThis adds ``OS_COMPUTE_API_VERSION=2.latest`` to the overcloudrc\nfile to fix it.\n\nChange-Id: I6bb4ef5d3d0e53b12f8636b998d7f7c2426c2b60\n""}]",0,686984,f3e3208fb784ec1d726b3a7252ec8825d64d7103,26,10,1,17216,,,0,"Add OS_COMPUTE_API_VERSION to overcloudrc

openstack cli doesn't negotiate a microversion. Live migration and
multiattach are 2 examples of operations which require arcane
incantations
to make them work correctly, and therefore usually don't.
This adds ``OS_COMPUTE_API_VERSION=2.latest`` to the overcloudrc
file to fix it.

Change-Id: I6bb4ef5d3d0e53b12f8636b998d7f7c2426c2b60
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/84/686984/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/overcloudrc.py', 'releasenotes/notes/export_os_nova_api_version-d5d1501306f8013b.yaml']",2,f3e3208fb784ec1d726b3a7252ec8825d64d7103,os_compute_api_version,"--- fixes: - | openstack cli doesn't negotiate a microversion. Live migration and multiattach are 2 examples of operations which require arcane incantations to make them work correctly, and therefore usually don't. This adds ``OS_COMPUTE_API_VERSION=2.latest`` to the overcloudrc file to fix it. ",,9,0
openstack%2Fnetworking-midonet~stable%2Fpike~Ib865c5b406097c5196d8a95cfefc6e5513c1e40d,openstack/networking-midonet,stable/pike,Ib865c5b406097c5196d8a95cfefc6e5513c1e40d,Remove a few extensions from NETWORK_API_EXTENSIONS,MERGED,2018-10-24 04:09:13.000000000,2019-10-18 14:38:03.000000000,2019-10-18 14:38:03.000000000,"[{'_account_id': 4694}, {'_account_id': 19307}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-24 04:09:13.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/d6cf0b815b6df04f018efd1664d6b15a5880df30', 'message': 'Remove a few extensions from NETWORK_API_EXTENSIONS\n\nThis commit removes the following extensions from the list.\n\ttimestamp_core\n\ttag\n\nThose extensions have been removed long before. [1] [2]\nThe mismatch has been exposed by the recently added\ntempest test case. [3]\n\n[1] I2ee2ed4c713d88345adc55b022feb95653eec663\n[2] I97095453610fff114d999a526d67e78119546ff5\n[3] I4c59f407c30020e3865e96e67a1b61361e699014\n\nCloses-Bug: #1789323\nChange-Id: Ib865c5b406097c5196d8a95cfefc6e5513c1e40d\n(cherry picked from commit 4ff0d09c9e68e7261c02c6f43a92a2e673dede60)\nConflicts:\n    .zuul.yaml\n    devstack/settings\n'}]",0,612881,d6cf0b815b6df04f018efd1664d6b15a5880df30,8,4,1,6854,,,0,"Remove a few extensions from NETWORK_API_EXTENSIONS

This commit removes the following extensions from the list.
	timestamp_core
	tag

Those extensions have been removed long before. [1] [2]
The mismatch has been exposed by the recently added
tempest test case. [3]

[1] I2ee2ed4c713d88345adc55b022feb95653eec663
[2] I97095453610fff114d999a526d67e78119546ff5
[3] I4c59f407c30020e3865e96e67a1b61361e699014

Closes-Bug: #1789323
Change-Id: Ib865c5b406097c5196d8a95cfefc6e5513c1e40d
(cherry picked from commit 4ff0d09c9e68e7261c02c6f43a92a2e673dede60)
Conflicts:
    .zuul.yaml
    devstack/settings
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/81/612881/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,d6cf0b815b6df04f018efd1664d6b15a5880df30,bug/1789323,"NETWORK_API_EXTENSIONS+=,service-type,rbac-policies","NETWORK_API_EXTENSIONS+=,timestamp_core,tag,service-type,rbac-policies",1,1
openstack%2Fopenstack-ansible-tests~master~I4036353519ec65db325aa530d882f7c9a3ce0804,openstack/openstack-ansible-tests,master,I4036353519ec65db325aa530d882f7c9a3ce0804,Switch to opensuse-15 nodeset,MERGED,2019-09-10 13:05:16.000000000,2019-10-18 14:37:32.000000000,2019-10-18 14:34:51.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-09-10 13:05:16.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/9d307895a81a99eacf383097b73667e70bb2f1f4', 'message': ""Switch to opensuse-15 nodeset\n\nWe don't want to rely on opensuse-150 to exist going forward\nbut instead use one single nodeset for opensuse testing called\nopensuse-15 (which will be reflecting the latest stable opensuse 15\nrelease)\n\nChange-Id: I4036353519ec65db325aa530d882f7c9a3ce0804\n""}]",0,681249,9d307895a81a99eacf383097b73667e70bb2f1f4,17,5,1,6593,,,0,"Switch to opensuse-15 nodeset

We don't want to rely on opensuse-150 to exist going forward
but instead use one single nodeset for opensuse testing called
opensuse-15 (which will be reflecting the latest stable opensuse 15
release)

Change-Id: I4036353519ec65db325aa530d882f7c9a3ce0804
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/49/681249/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,9d307895a81a99eacf383097b73667e70bb2f1f4,opensuse-150, nodeset: opensuse-15 nodeset: opensuse-15 nodeset: opensuse-15, nodeset: opensuse-150 nodeset: opensuse-150 nodeset: opensuse-150,3,3
openstack%2Fneutron~stable%2Fqueens~I3482c7c4f00942828cc9396cd2f3d646c9e8c9d1,openstack/neutron,stable/queens,I3482c7c4f00942828cc9396cd2f3d646c9e8c9d1,raise priority of dead vlan drop,MERGED,2019-10-03 08:15:00.000000000,2019-10-18 14:33:48.000000000,2019-10-18 14:33:48.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-03 08:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5e7b29c03489bbf34a27c7cfdab821b43e96db4', 'message': 'raise priority of dead vlan drop\n\n- This change adds a max priority flow to drop\n  all traffic that is associated with the\n  DEAD VLAN 4095.\n- This change is part of a partial mitigation of\n  bug 1734320. Without this change vlan 4095 traffic\n  will be dropped via a low priority flow after being\n  processed by part/all of the openflow pipeline.\n  By raising the priorty and droping in table 0\n  we drop invalid packets as soon as they enter\n  the pipeline.\n\nChange-Id: I3482c7c4f00942828cc9396cd2f3d646c9e8c9d1\nPartial-Bug: #1734320\n(cherry picked from commit e3dc447b908f57e9acc0378111b8e09cbd88ddc5)\n'}, {'number': 2, 'created': '2019-10-03 12:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/91c829ff586460424cace0c81861cecf5f1640a8', 'message': 'raise priority of dead vlan drop\n\n- This change adds a max priority flow to drop\n  all traffic that is associated with the\n  DEAD VLAN 4095.\n- This change is part of a partial mitigation of\n  bug 1734320. Without this change vlan 4095 traffic\n  will be dropped via a low priority flow after being\n  processed by part/all of the openflow pipeline.\n  By raising the priorty and droping in table 0\n  we drop invalid packets as soon as they enter\n  the pipeline.\n\nChange-Id: I3482c7c4f00942828cc9396cd2f3d646c9e8c9d1\nPartial-Bug: #1734320\n(cherry picked from commit e3dc447b908f57e9acc0378111b8e09cbd88ddc5)\n'}, {'number': 3, 'created': '2019-10-18 07:20:27.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/test_br_int.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/br_int.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b0919e64809729f4c0186e9be63b1082510bbb1', 'message': 'raise priority of dead vlan drop\n\n- This change adds a max priority flow to drop\n  all traffic that is associated with the\n  DEAD VLAN 4095.\n- This change is part of a partial mitigation of\n  bug 1734320. Without this change vlan 4095 traffic\n  will be dropped via a low priority flow after being\n  processed by part/all of the openflow pipeline.\n  By raising the priorty and droping in table 0\n  we drop invalid packets as soon as they enter\n  the pipeline.\n\nConflicts:\n    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py\n\nChange-Id: I3482c7c4f00942828cc9396cd2f3d646c9e8c9d1\nPartial-Bug: #1734320\n(cherry picked from commit e3dc447b908f57e9acc0378111b8e09cbd88ddc5)\n'}]",0,686346,9b0919e64809729f4c0186e9be63b1082510bbb1,22,9,3,5948,,,0,"raise priority of dead vlan drop

- This change adds a max priority flow to drop
  all traffic that is associated with the
  DEAD VLAN 4095.
- This change is part of a partial mitigation of
  bug 1734320. Without this change vlan 4095 traffic
  will be dropped via a low priority flow after being
  processed by part/all of the openflow pipeline.
  By raising the priorty and droping in table 0
  we drop invalid packets as soon as they enter
  the pipeline.

Conflicts:
    neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py

Change-Id: I3482c7c4f00942828cc9396cd2f3d646c9e8c9d1
Partial-Bug: #1734320
(cherry picked from commit e3dc447b908f57e9acc0378111b8e09cbd88ddc5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/686346/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/test_br_int.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/br_int.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py']",5,c5e7b29c03489bbf34a27c7cfdab821b43e96db4,bug/1734320," self.install_drop(table_id=constants.LOCAL_SWITCHING, priority=constants.OPENFLOW_MAX_PRIORITY, vlan_vid=constants.DEAD_VLAN_TAG)",,17,0
openstack%2Fcharm-barbican~master~I3112cf697922237ba719d183f2d94b6f92237ebc,openstack/charm-barbican,master,I3112cf697922237ba719d183f2d94b6f92237ebc,Enable functional tests for train,MERGED,2019-10-18 12:15:27.000000000,2019-10-18 14:11:39.000000000,2019-10-18 14:11:39.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 12:15:27.000000000', 'files': ['src/tests/gate-basic-bionic-train', 'src/tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/707369c37d11aa4020fd73382dff31df926e49e0', 'message': 'Enable functional tests for train\n\nThis patch also updates the smoke test to run train.\n\nChange-Id: I3112cf697922237ba719d183f2d94b6f92237ebc\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>\n'}]",0,689434,707369c37d11aa4020fd73382dff31df926e49e0,7,3,1,7730,,,0,"Enable functional tests for train

This patch also updates the smoke test to run train.

Change-Id: I3112cf697922237ba719d183f2d94b6f92237ebc
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/34/689434/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/gate-basic-bionic-train', 'src/tox.ini']",2,707369c37d11aa4020fd73382dff31df926e49e0,charms-train-function-test, bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-train --no-destroy, bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-stein --no-destroy,13,1
openstack%2Ftripleo-ci~master~I9d8ed5b61338db8615002a3d64d100e34344b043,openstack/tripleo-ci,master,I9d8ed5b61338db8615002a3d64d100e34344b043,DNM: Override internal_api network values for vexxhost,ABANDONED,2019-10-17 19:58:34.000000000,2019-10-18 14:09:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-17 19:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7e700cb5f43d28ae5decf47dccf3c360d884f570', 'message': 'DNM: Override internal_api network values for vexxhost\n\nChange-Id: I9d8ed5b61338db8615002a3d64d100e34344b043\n'}, {'number': 2, 'created': '2019-10-17 21:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8403923901e99b5d5c7444bf4dc2256c591eea3f', 'message': 'DNM: Override internal_api network values for vexxhost\n\nChange-Id: I9d8ed5b61338db8615002a3d64d100e34344b043\n'}, {'number': 3, 'created': '2019-10-17 21:49:29.000000000', 'files': ['toci-quickstart/config/testenv/ovb-vexxhost.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/02f555f2b2290ac44acfb3ced56a359e39c2d6d8', 'message': 'DNM: Override internal_api network values for vexxhost\n\nChange-Id: I9d8ed5b61338db8615002a3d64d100e34344b043\n'}]",0,689256,02f555f2b2290ac44acfb3ced56a359e39c2d6d8,6,2,3,9976,,,0,"DNM: Override internal_api network values for vexxhost

Change-Id: I9d8ed5b61338db8615002a3d64d100e34344b043
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/56/689256/3 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/testenv/ovb-vexxhost.yml'],1,7e700cb5f43d28ae5decf47dccf3c360d884f570,adjust_internal_network,"# override 172.17.0.0/24 network # network-environment.yaml settings network_environment_args: InternalApiNetCidr: 172.20.0.0/24 InternalApiAllocationPools: [{""start"": ""172.20.0.10"", ""end"": ""172.20.0.250""}] network_isolation_args: >- -e ~/network-environment.yaml ",,9,0
openstack%2Fbarbican~master~I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd,openstack/barbican,master,I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd,Don't use branch matching,MERGED,2019-09-13 07:05:38.000000000,2019-10-18 13:48:59.000000000,2019-10-18 13:46:29.000000000,"[{'_account_id': 6547}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 11561}, {'_account_id': 17130}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 27954}]","[{'number': 1, 'created': '2019-09-13 07:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/698760673b55c3427fd383381b49666d2dcf0b44', 'message': ""Don't use branch matching\n\nThis is not needed since we have implicit branch matches - and even\nhurts since the master version is used on stable branches\n\nRemove here - this ensures that future stable branches and master are\nfine.\n\nChange-Id: I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd\n""}, {'number': 2, 'created': '2019-09-13 13:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/eeec849abf64913a2b630bf27ee0e84c028b61b2', 'message': ""Don't use branch matching\n\nThis is not needed since we have implicit branch matches - and even\nhurts since the master version is used on stable branches\n\nRemove here - this ensures that future stable branches and master are\nfine.\n\nChange-Id: I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd\n""}, {'number': 3, 'created': '2019-09-20 04:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/f22f1013162dac0856dad4c98f2a4c7b2517660b', 'message': ""Don't use branch matching\n\nThis is not needed since we have implicit branch matches - and even\nhurts since the master version is used on stable branches\n\nRemove here - this ensures that future stable branches and master are\nfine.\n\nChange-Id: I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd\n""}, {'number': 4, 'created': '2019-10-03 15:26:39.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/be537bb79c4f1f999c33d396dcba4adbae2be599', 'message': ""Don't use branch matching\n\nThis is not needed since we have implicit branch matches - and even\nhurts since the master version is used on stable branches\n\nRemove here - this ensures that future stable branches and master are\nfine.\n\nChange-Id: I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd\n""}]",0,681972,be537bb79c4f1f999c33d396dcba4adbae2be599,27,9,4,6547,,,0,"Don't use branch matching

This is not needed since we have implicit branch matches - and even
hurts since the master version is used on stable branches

Remove here - this ensures that future stable branches and master are
fine.

Change-Id: I24a46d0d7476203feccb1250d4ce3ad94b2e0ecd
",git fetch https://review.opendev.org/openstack/barbican refs/changes/72/681972/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,698760673b55c3427fd383381b49666d2dcf0b44,branches,, # start running with Pike branches: ^(?!stable/ocata).*$ # Start testing with pike branches: ^(?!stable/ocata).*$,0,4
openstack%2Fopenstack-ansible-os_nova~master~If6d059b36a6b9456c7dfb15f32204f90d927f6c8,openstack/openstack-ansible-os_nova,master,If6d059b36a6b9456c7dfb15f32204f90d927f6c8,Allow setting mkisofs_cmd in nova.conf,ABANDONED,2019-10-18 11:42:12.000000000,2019-10-18 13:12:58.000000000,,"[{'_account_id': 2062}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-18 11:42:12.000000000', 'files': ['templates/nova.conf.j2', 'defaults/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/823a2ac4f410b7908d39333af01103d7e4c32c8e', 'message': 'Allow setting mkisofs_cmd in nova.conf\n\nopenSUSE no longer includes genisofs. The workaround to include it\nvia the Cloud:OpenStack repositories has also been dropped recently.\nThis commit introduces the ""nova_mkisofs_cmd"" variable to allow\nsetting a custom mkisofs command. It also adjust the default for\nSUSE based distros to use mkisofs now.\n\nChange-Id: If6d059b36a6b9456c7dfb15f32204f90d927f6c8\n'}]",0,689432,823a2ac4f410b7908d39333af01103d7e4c32c8e,3,2,1,2062,,,0,"Allow setting mkisofs_cmd in nova.conf

openSUSE no longer includes genisofs. The workaround to include it
via the Cloud:OpenStack repositories has also been dropped recently.
This commit introduces the ""nova_mkisofs_cmd"" variable to allow
setting a custom mkisofs command. It also adjust the default for
SUSE based distros to use mkisofs now.

Change-Id: If6d059b36a6b9456c7dfb15f32204f90d927f6c8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/32/689432/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/nova.conf.j2', 'defaults/main.yml', 'vars/suse.yml']",3,823a2ac4f410b7908d39333af01103d7e4c32c8e,,nova_mkisofs_cmd: mkisofs - mkisofs, - genisoimage - genisoimage,6,2
openstack%2Fnetworking-ovn~stable%2Frocky~I6b659cbede25f271fa3b6a1c9e72019694ab6608,openstack/networking-ovn,stable/rocky,I6b659cbede25f271fa3b6a1c9e72019694ab6608,Set binding profile directly from OVNTrunkDriver (redo),MERGED,2019-10-10 20:01:09.000000000,2019-10-18 13:06:29.000000000,2019-10-18 13:06:29.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-10-10 20:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c5d97dab248ca5c5cc576f70d4e819bc582bb65a', 'message': 'Set binding profile directly from OVNTrunkDriver (redo)\n\nSetting binding profile for Trunk subports takes\ntime - for 125 subports rally CreateAndListTrunks\nscenario [0] takes about 150 seconds. We need to\nbump up the perfomance because large number of\nsubports is widly used in Kuryr deployments.\n\nTo achieve that I changed setting the binding\nprofile to be saved directly to the neutron DB.\nInstead calling port_update I update only related\nfields in OVN NorthBound DB rows. That gave performance\nimprovement in trunk port creation:\n\nfrom 101 sec to 35.6 for 95%ile\nfrom 99 sec to 34.2 for 50%ile\n\nThe same thing has been done for Trunk deletion.\n\nThis reverts commit 2e0832f7b8bfc31780b657aa0abda4e8b244fbbd\n\n[0] https://github.com/openstack/rally-openstack/blob/master/rally_openstack/scenarios/neutron/trunk.py#L37\n\nChange-Id: I6b659cbede25f271fa3b6a1c9e72019694ab6608\nCloses-Bug: #1834637\nRelated-Bug: #1845479\nCo-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>\n(cherry picked from commit 7bdf2eb824083b6785d78dd67b3effe071e3f7a4)\n(cherry picked from commit e14b6cd76bade8291764a88b6a2fa851a3a86b87)\n(cherry picked from commit e63c5c97ce662656c84988ff2f47616a0e36ca81)\n'}, {'number': 2, 'created': '2019-10-10 20:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6dd274ab06892e8f84f154009ce325588073ce6f', 'message': 'Set binding profile directly from OVNTrunkDriver (redo)\n\nSetting binding profile for Trunk subports takes\ntime - for 125 subports rally CreateAndListTrunks\nscenario [0] takes about 150 seconds. We need to\nbump up the perfomance because large number of\nsubports is widly used in Kuryr deployments.\n\nTo achieve that I changed setting the binding\nprofile to be saved directly to the neutron DB.\nInstead calling port_update I update only related\nfields in OVN NorthBound DB rows. That gave performance\nimprovement in trunk port creation:\n\nfrom 101 sec to 35.6 for 95%ile\nfrom 99 sec to 34.2 for 50%ile\n\nThe same thing has been done for Trunk deletion.\n\nThis reverts commit 2e0832f7b8bfc31780b657aa0abda4e8b244fbbd\n\n[0] https://github.com/openstack/rally-openstack/blob/master/rally_openstack/scenarios/neutron/trunk.py#L37\n\nChange-Id: I6b659cbede25f271fa3b6a1c9e72019694ab6608\nCloses-Bug: #1834637\nRelated-Bug: #1845479\nCo-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>\n(cherry picked from commit 7bdf2eb824083b6785d78dd67b3effe071e3f7a4)\n(cherry picked from commit e14b6cd76bade8291764a88b6a2fa851a3a86b87)\n(cherry picked from commit e63c5c97ce662656c84988ff2f47616a0e36ca81)\n'}, {'number': 3, 'created': '2019-10-10 20:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1ff34c769c7c29f12e757d31178d3e1031a25684', 'message': 'Set binding profile directly from OVNTrunkDriver (redo)\n\nSetting binding profile for Trunk subports takes\ntime - for 125 subports rally CreateAndListTrunks\nscenario [0] takes about 150 seconds. We need to\nbump up the perfomance because large number of\nsubports is widly used in Kuryr deployments.\n\nTo achieve that I changed setting the binding\nprofile to be saved directly to the neutron DB.\nInstead calling port_update I update only related\nfields in OVN NorthBound DB rows. That gave performance\nimprovement in trunk port creation:\n\nfrom 101 sec to 35.6 for 95%ile\nfrom 99 sec to 34.2 for 50%ile\n\nThe same thing has been done for Trunk deletion.\n\nThis reverts commit 2e0832f7b8bfc31780b657aa0abda4e8b244fbbd\n\n[0] https://github.com/openstack/rally-openstack/blob/master/rally_openstack/scenarios/neutron/trunk.py#L37\n\nChange-Id: I6b659cbede25f271fa3b6a1c9e72019694ab6608\nCloses-Bug: #1834637\nRelated-Bug: #1845479\nCo-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>\n(cherry picked from commit 7bdf2eb824083b6785d78dd67b3effe071e3f7a4)\n(cherry picked from commit e14b6cd76bade8291764a88b6a2fa851a3a86b87)\n(cherry picked from commit e63c5c97ce662656c84988ff2f47616a0e36ca81)\n'}, {'number': 4, 'created': '2019-10-14 12:10:22.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_trunk_driver.py', 'networking_ovn/ml2/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/62eb828186f9248e99fa12cc9c0c8397e1520514', 'message': 'Set binding profile directly from OVNTrunkDriver (redo)\n\nSetting binding profile for Trunk subports takes\ntime - for 125 subports rally CreateAndListTrunks\nscenario [0] takes about 150 seconds. We need to\nbump up the perfomance because large number of\nsubports is widly used in Kuryr deployments.\n\nTo achieve that I changed setting the binding\nprofile to be saved directly to the neutron DB.\nInstead calling port_update I update only related\nfields in OVN NorthBound DB rows. That gave performance\nimprovement in trunk port creation:\n\nfrom 101 sec to 35.6 for 95%ile\nfrom 99 sec to 34.2 for 50%ile\n\nThe same thing has been done for Trunk deletion.\n\nThis reverts commit 2e0832f7b8bfc31780b657aa0abda4e8b244fbbd\n\n[0] https://github.com/openstack/rally-openstack/blob/master/rally_openstack/scenarios/neutron/trunk.py#L37\n\nChange-Id: I6b659cbede25f271fa3b6a1c9e72019694ab6608\nCloses-Bug: #1834637\nRelated-Bug: #1845479\nCo-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>\n(cherry picked from commit c6dee38266b662a2bb90c95af891045c731daf41)\n'}]",0,687971,62eb828186f9248e99fa12cc9c0c8397e1520514,25,7,4,11952,,,0,"Set binding profile directly from OVNTrunkDriver (redo)

Setting binding profile for Trunk subports takes
time - for 125 subports rally CreateAndListTrunks
scenario [0] takes about 150 seconds. We need to
bump up the perfomance because large number of
subports is widly used in Kuryr deployments.

To achieve that I changed setting the binding
profile to be saved directly to the neutron DB.
Instead calling port_update I update only related
fields in OVN NorthBound DB rows. That gave performance
improvement in trunk port creation:

from 101 sec to 35.6 for 95%ile
from 99 sec to 34.2 for 50%ile

The same thing has been done for Trunk deletion.

This reverts commit 2e0832f7b8bfc31780b657aa0abda4e8b244fbbd

[0] https://github.com/openstack/rally-openstack/blob/master/rally_openstack/scenarios/neutron/trunk.py#L37

Change-Id: I6b659cbede25f271fa3b6a1c9e72019694ab6608
Closes-Bug: #1834637
Related-Bug: #1845479
Co-authored-by: Maciej Jzefczyk <mjozefcz@redhat.com>
(cherry picked from commit c6dee38266b662a2bb90c95af891045c731daf41)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/71/687971/2 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ml2/test_trunk_driver.py', 'networking_ovn/ml2/trunk_driver.py']",2,c5d97dab248ca5c5cc576f70d4e819bc582bb65a,bug/1834637,"from neutron.objects import ports as port_obj def _set_sub_ports(self, parent_port, subports): txn = self.plugin_driver._nb_ovn.transaction context = n_context.get_admin_context() with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: self._set_binding_profile(context, port, parent_port, ovn_txn) txn = self.plugin_driver._nb_ovn.transaction context = n_context.get_admin_context() with context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: self._unset_binding_profile(context, port, ovn_txn) def _set_binding_profile(self, context, subport, parent_port, ovn_txn): db_port = port_obj.Port.get_object(context, id=subport.port_id) if not db_port: LOG.debug(""Port not found while trying to set "" ""binding_profile: %s"", subport.port_id) return try: for binding in db_port.bindings: binding.profile.update({ 'parent_name': parent_port, 'tag': subport.segmentation_id}) # host + port_id is primary key port_obj.PortBinding.update_object( context, {'profile': binding.profile}, port_id=subport.port_id, host=binding.host) except n_exc.ObjectNotFound: LOG.debug(""Port not found while trying to set "" ""binding_profile: %s"", subport.port_id) return ovn_txn.add(self.plugin_driver._nb_ovn.set_lswitch_port( lport_name=subport.port_id, parent_name=parent_port, tag=subport.segmentation_id)) def _unset_binding_profile(self, context, subport, ovn_txn): db_port = port_obj.Port.get_object(context, id=subport.port_id) if not db_port: LOG.debug(""Port not found while trying to unset "" ""binding_profile: %s"", subport.port_id) return try: for binding in db_port.bindings: binding.profile.pop('tag', None) binding.profile.pop('parent_name', None) # host + port_id is primary key port_obj.PortBinding.update_object( context, {'profile': binding.profile, 'vif_type': portbindings.VIF_TYPE_UNBOUND, 'vif_details': '', 'host': ''}, port_id=subport.port_id, host=binding.host) port_obj.PortBindingLevel.delete_objects( context, port_id=subport.port_id, host=binding.host) except n_exc.ObjectNotFound: LOG.debug(""Port not found while trying to unset "" ""binding_profile: %s"", subport.port_id) return ovn_txn.add(self.plugin_driver._nb_ovn.set_lswitch_port( lport_name=subport.port_id, parent_name=[], up=False, tag=[])) if trunk.sub_ports: self._set_sub_ports(trunk.port_id, trunk.sub_ports) if trunk.sub_ports: self._unset_sub_ports(trunk.sub_ports) if subports: self._set_sub_ports(trunk.port_id, subports) if subports: self._unset_sub_ports(subports)","from oslo_db import exception as os_db_exc def _set_binding_profile(self, port_id, parent_port, tag=None): context = n_context.get_admin_context() binding_profile = {} if parent_port and tag: binding_profile = {'parent_name': parent_port, 'tag': tag} port = {'port': {'binding:profile': binding_profile}} if not tag: port['port']['binding:host_id'] = None try: self.plugin_driver._plugin.update_port(context, port_id, port) except (os_db_exc.DBReferenceError, n_exc.PortNotFound): LOG.debug(""Port not found trying to set binding_profile: %s"", port_id) def _set_sub_ports(self, parent_port, subports): for port in subports: self._set_binding_profile(port.port_id, parent_port, tag=port.segmentation_id) for port in subports: self._set_binding_profile(port.port_id, None) self._set_sub_ports(trunk.port_id, trunk.sub_ports) self._unset_sub_ports(trunk.sub_ports) self._set_sub_ports(trunk.port_id, subports) self._unset_sub_ports(subports)",274,107
openstack%2Fpython-ironicclient~master~Iad6e3997f7f8e3a96208a39b2cec0db9666ce32b,openstack/python-ironicclient,master,Iad6e3997f7f8e3a96208a39b2cec0db9666ce32b,Fix source link.,MERGED,2019-10-17 01:02:14.000000000,2019-10-18 12:36:46.000000000,2019-10-18 12:35:29.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-10-17 01:02:14.000000000', 'files': ['doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/6f150a502d811993853c5c82699f2b68673d9ece', 'message': 'Fix source link.\n\nChange-Id: Iad6e3997f7f8e3a96208a39b2cec0db9666ce32b\n'}]",0,689062,6f150a502d811993853c5c82699f2b68673d9ece,8,3,1,30717,,,0,"Fix source link.

Change-Id: Iad6e3997f7f8e3a96208a39b2cec0db9666ce32b
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/62/689062/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contributing.rst'],1,6f150a502d811993853c5c82699f2b68673d9ece,," https://review.opendev.org/#/q/status:open+project:openstack/python-ironicclient,n,z"," https://review.openstack.org/#/q/status:open+project:openstack/python-ironicclient,n,z",1,1
openstack%2Fkolla-ansible~master~I3c57c0fe254b6166db55fa33358be646a4a23192,openstack/kolla-ansible,master,I3c57c0fe254b6166db55fa33358be646a4a23192,Do not install ntp package on host when not used,MERGED,2019-10-12 15:15:52.000000000,2019-10-18 12:20:10.000000000,2019-10-14 12:32:35.000000000,"[{'_account_id': 14826}, {'_account_id': 17499}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28543}, {'_account_id': 30356}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-12 15:15:52.000000000', 'files': ['ansible/roles/baremetal/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e91860c35750879078d4e219bf57c329436edbbe', 'message': 'Do not install ntp package on host when not used\n\nThis could badly affect containerized chrony\non Debian family distros.\n\nChange-Id: I3c57c0fe254b6166db55fa33358be646a4a23192\nCloses-bug: #1847863\n'}]",3,688270,e91860c35750879078d4e219bf57c329436edbbe,15,8,1,30491,,,0,"Do not install ntp package on host when not used

This could badly affect containerized chrony
on Debian family distros.

Change-Id: I3c57c0fe254b6166db55fa33358be646a4a23192
Closes-bug: #1847863
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/70/688270/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/baremetal/defaults/main.yml'],1,e91860c35750879078d4e219bf57c329436edbbe,bug/1847863," - ""{% if enable_host_ntp | bool %}ntp{% endif %}"" - ""{% if enable_host_ntp | bool %}ntp{% endif %}""", - ntp - ntp,2,2
openstack%2Fmonasca-agent~master~I503d74936f6f37fb261c1592845968319695475a,openstack/monasca-agent,master,I503d74936f6f37fb261c1592845968319695475a,Add swift_recon check plugin to monasca,MERGED,2018-07-19 07:40:14.000000000,2019-10-18 12:10:41.000000000,2019-10-18 12:10:41.000000000,"[{'_account_id': 7233}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-19 07:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/19c5035148a83f91ee0dc24ea8415fdc1eb9fd25', 'message': ""Add swift_recon check plugin to monasca\n\nSwift outputs alot of statsd metrics that you can point directly\nat monasca-agents. However there is another swift endpoint,\nrecon, that is used to gather more metrics.\n\nThe Swift recon (or reconnaissance) API is an endpoint each of the\nstorage node servers make available via a REST API. This API can\neither be hit manually or via the swift-recon tool.\n\nThis patch adds a check plugin that hits the recon REST API and\nand send metrics to monasca.\n\nThis is the first of two Swift check plugins I'm working on.\nFor more details see my blog post[1]\n\n[1] - https://oliver.net.au/?p=358\n\nChange-Id: I503d74936f6f37fb261c1592845968319695475a\n""}, {'number': 2, 'created': '2019-10-09 02:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/d26c9da057041c09fe20bb7cf41aca96c7e0bd6f', 'message': ""Add swift_recon check plugin to monasca\n\nSwift outputs alot of statsd metrics that you can point directly\nat monasca-agents. However there is another swift endpoint,\nrecon, that is used to gather more metrics.\n\nThe Swift recon (or reconnaissance) API is an endpoint each of the\nstorage node servers make available via a REST API. This API can\neither be hit manually or via the swift-recon tool.\n\nThis patch adds a check plugin that hits the recon REST API and\nand send metrics to monasca.\n\nThis is the first of two Swift check plugins I'm working on.\nFor more details see my blog post[1]\n\n[1] - https://oliver.net.au/?p=358\n\nChange-Id: I503d74936f6f37fb261c1592845968319695475a\n""}, {'number': 3, 'created': '2019-10-09 17:06:21.000000000', 'files': ['docs/Plugins.md', 'monasca_agent/collector/checks_d/swift_recon.py', 'tests/checks_d/test_swift_recon.py', 'conf.d/swift_recon.yaml.example'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/0d929d01a864b45b10ed80baef9d4f5b0086dcf8', 'message': ""Add swift_recon check plugin to monasca\n\nSwift outputs alot of statsd metrics that you can point directly\nat monasca-agents. However there is another swift endpoint,\nrecon, that is used to gather more metrics.\n\nThe Swift recon (or reconnaissance) API is an endpoint each of the\nstorage node servers make available via a REST API. This API can\neither be hit manually or via the swift-recon tool.\n\nThis patch adds a check plugin that hits the recon REST API and\nand send metrics to monasca.\n\nThis is the first of two Swift check plugins I'm working on.\nFor more details see my blog post[1]\n\n[1] - https://oliver.net.au/?p=358\n\nChange-Id: I503d74936f6f37fb261c1592845968319695475a\n""}]",5,583876,0d929d01a864b45b10ed80baef9d4f5b0086dcf8,15,3,3,7233,,,0,"Add swift_recon check plugin to monasca

Swift outputs alot of statsd metrics that you can point directly
at monasca-agents. However there is another swift endpoint,
recon, that is used to gather more metrics.

The Swift recon (or reconnaissance) API is an endpoint each of the
storage node servers make available via a REST API. This API can
either be hit manually or via the swift-recon tool.

This patch adds a check plugin that hits the recon REST API and
and send metrics to monasca.

This is the first of two Swift check plugins I'm working on.
For more details see my blog post[1]

[1] - https://oliver.net.au/?p=358

Change-Id: I503d74936f6f37fb261c1592845968319695475a
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/76/583876/3 && git format-patch -1 --stdout FETCH_HEAD,"['monasca_agent/collector/checks_d/swift_recon.py', 'tests/checks_d/test_swift_recon.py', 'conf.d/swift_recon.yaml.example']",3,19c5035148a83f91ee0dc24ea8415fdc1eb9fd25,swift_recon,init_config: collect_period: 300 instances: - name: swift-account server_type: account hostname: localhost port: 6012 timeout: 5 - name: swift-container server_type: container hostname: localhost port: 6011 - name: swift-object server_type: object hostname: localhost port: 6010 ,,896,0
openstack%2Ftripleo-common~master~I1ead42274406270db2c68798562f2f68728a5056,openstack/tripleo-common,master,I1ead42274406270db2c68798562f2f68728a5056,Add missing lock handler when locking a layer,ABANDONED,2019-10-15 09:33:38.000000000,2019-10-18 12:08:24.000000000,,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6926}, {'_account_id': 11082}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-15 09:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e29dcdbc68e40d6fbd97a39bc9521592309d6778', 'message': 'Add missing lock handler when locking a layer\n\nChange-Id: I1ead42274406270db2c68798562f2f68728a5056\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2019-10-15 15:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e14f02628486c48486f33c99b99c8b323a6d52eb', 'message': 'Add missing lock handler when locking a layer\n\nChange-Id: I1ead42274406270db2c68798562f2f68728a5056\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2019-10-16 14:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/75733f0a15211d4efeef5b8db038ed381938a1fd', 'message': ""Add missing lock handler when locking a layer\n\nThe original change I477219b7dca1e6cfa02a278c55a0cc1a9833d007\nintroduced locking of layers. Later the dynamic split\nI60507eba9884a0660fe269da5ad27b0e57a70ca8 came for the multi-process vs\nmulti-threading execution pools and introduced the lock variable that\nmust be passed through all of the locking-mode (MP/MT) dependent\nplaces to never confuse it with the ongoing SMP work types.\n\nIf we loose that locking mode information, like when fetching\na layer lock, things might (and surely will) go awry. Let's fix that\nand always issue locks and unlocks passing the locking method\ninformation into it.\n\nChange-Id: I1ead42274406270db2c68798562f2f68728a5056\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 4, 'created': '2019-10-17 15:38:35.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/40690cc49425805a00421ca0d12100300584576e', 'message': ""Add missing lock handler when locking a layer\n\nThe original change I477219b7dca1e6cfa02a278c55a0cc1a9833d007\nintroduced locking of layers. Later the dynamic split\nI60507eba9884a0660fe269da5ad27b0e57a70ca8 came for the multi-process vs\nmulti-threading execution pools and introduced the lock variable that\nmust be passed through all of the locking-mode (MP/MT) dependent\nplaces to never confuse it with the ongoing SMP work types.\n\nIf we loose that locking mode information, like when fetching\na layer lock, things might (and surely will) go awry. Let's fix that\nand always issue locks and unlocks passing the locking method\ninformation into it.\n\nChange-Id: I1ead42274406270db2c68798562f2f68728a5056\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",2,688660,40690cc49425805a00421ca0d12100300584576e,29,9,4,6926,,,0,"Add missing lock handler when locking a layer

The original change I477219b7dca1e6cfa02a278c55a0cc1a9833d007
introduced locking of layers. Later the dynamic split
I60507eba9884a0660fe269da5ad27b0e57a70ca8 came for the multi-process vs
multi-threading execution pools and introduced the lock variable that
must be passed through all of the locking-mode (MP/MT) dependent
places to never confuse it with the ongoing SMP work types.

If we loose that locking mode information, like when fetching
a layer lock, things might (and surely will) go awry. Let's fix that
and always issue locks and unlocks passing the locking method
information into it.

Change-Id: I1ead42274406270db2c68798562f2f68728a5056
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/60/688660/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,e29dcdbc68e40d6fbd97a39bc9521592309d6778,bug/1847225," cls._layer_fetch_lock(layer, lock)", cls._layer_fetch_lock(layer),1,1
openstack%2Ftripleo-common~master~I3307de1c7a9f45f788e7f715c62ca302678450e4,openstack/tripleo-common,master,I3307de1c7a9f45f788e7f715c62ca302678450e4,Always lock layers being checked for its existance,ABANDONED,2019-10-15 09:38:33.000000000,2019-10-18 12:08:19.000000000,,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-15 09:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c07f5d35268590bccdf87e85a7ddd5dc4a91cc87', 'message': ""Always lock layers being checked for its existance\n\nWhen copying a local layer to registry we do not issue a lock\nfor the layer existance check. But we do, when copying a layer\nfrom registry to registry. This doesn't look like a consistent\nbehavior, therefore issue a lock for both cases.\n\nChange-Id: I3307de1c7a9f45f788e7f715c62ca302678450e4\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2019-10-15 09:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f2fe6b47eb11155da252ab8e1635e1a220ef7ae5', 'message': ""Always lock layers being checked for its existance\n\nWhen copying a local layer to registry we do not issue a lock\nfor the layer existance check. But we do, when copying a layer\nfrom registry to registry. This doesn't look like a consistent\nbehavior, therefore issue a lock for both cases.\n\nChange-Id: I3307de1c7a9f45f788e7f715c62ca302678450e4\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2019-10-15 09:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/138d6819c3873e9b5ff82656cde496ddd9950982', 'message': ""Always lock layers being checked for its existance\n\nWhen copying a local layer to registry we do not issue a lock\nfor the layer existance check. But we do, when copying a layer\nfrom registry to registry. This doesn't look like a consistent\nbehavior, therefore issue a lock for both cases.\n\nChange-Id: I3307de1c7a9f45f788e7f715c62ca302678450e4\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 4, 'created': '2019-10-15 09:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b3f1e58dde2c3b52045fae465c887794c7df0ed1', 'message': ""Always lock layers being checked for its existance\n\nWhen copying a local layer to registry we do not issue a lock\nfor the layer existance check. But we do, when copying a layer\nfrom registry to registry. This doesn't look like a consistent\nbehavior, therefore issue a lock for both cases.\n\nChange-Id: I3307de1c7a9f45f788e7f715c62ca302678450e4\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 5, 'created': '2019-10-15 12:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a62217fdc3d2a697b0f6d74afb22e404fec85329', 'message': ""Always lock layers being checked for its existance\n\nWhen copying a local layer to registry we do not issue a lock\nfor the layer existance check. But we do, when copying a layer\nfrom registry to registry. This doesn't look like a consistent\nbehavior, therefore issue a lock for both cases.\n\nChange-Id: I3307de1c7a9f45f788e7f715c62ca302678450e4\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 6, 'created': '2019-10-15 15:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/80831ee157dee9584c048df6de9147408d98f650', 'message': ""Always lock layers being checked for its existance\n\nWhen copying a local layer to registry we do not issue a lock\nfor the layer existance check. But we do, when copying a layer\nfrom registry to registry. This doesn't look like a consistent\nbehavior, therefore issue a lock for both cases.\n\nChange-Id: I3307de1c7a9f45f788e7f715c62ca302678450e4\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 7, 'created': '2019-10-16 14:31:54.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8ff620c160928e1b89efe1c9c3e20744179140c0', 'message': ""Always lock layers being checked for its existance\n\nWhen copying a local layer to registry we do not issue a lock\nfor the layer existance check. But we do, when copying a layer\nfrom registry to registry. This doesn't look like a consistent\nbehavior, therefore issue a lock for both cases.\n\nChange-Id: I3307de1c7a9f45f788e7f715c62ca302678450e4\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",0,688662,8ff620c160928e1b89efe1c9c3e20744179140c0,25,4,7,6926,,,0,"Always lock layers being checked for its existance

When copying a local layer to registry we do not issue a lock
for the layer existance check. But we do, when copying a layer
from registry to registry. This doesn't look like a consistent
behavior, therefore issue a lock for both cases.

Change-Id: I3307de1c7a9f45f788e7f715c62ca302678450e4
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/62/688662/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,c07f5d35268590bccdf87e85a7ddd5dc4a91cc87,bug/1847225," try: cls._layer_fetch_lock(layer, lock) if cls._target_layer_exists_registry(target_url, layer, check_layers, session): cls._layer_fetch_unlock(layer, lock) return except ImageUploaderThreadException: # skip trying to unlock, because that's what threw the exception raise except Exception: cls._layer_fetch_unlock(layer, lock) raise"," if cls._target_layer_exists_registry(target_url, layer, check_layers, session): return",12,3
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I67e0a321fe2c77e54966cd9b70be56a489dd2007,openstack/tripleo-heat-templates,stable/queens,I67e0a321fe2c77e54966cd9b70be56a489dd2007,Remove all old pcmklatest images,MERGED,2019-10-17 11:12:12.000000000,2019-10-18 12:08:00.000000000,2019-10-18 12:08:00.000000000,"[{'_account_id': 6816}, {'_account_id': 8042}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-10-17 11:12:12.000000000', 'files': ['docker/services/pacemaker/rabbitmq.yaml', 'docker/services/pacemaker/cinder-volume.yaml', 'docker/services/pacemaker/haproxy.yaml', 'docker/services/pacemaker/database/mysql.yaml', 'docker/services/pacemaker/database/redis.yaml', 'docker/services/pacemaker/cinder-backup.yaml', 'docker/services/pacemaker/manila-share.yaml', 'docker/services/pacemaker/ovn-dbs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/af4d4d3c298d7a6d7236bdd28045291c33a9084d', 'message': 'Remove all old pcmklatest images\n\nAn operator may make a mistake when importing images, resulting\nin more than one image being present. This may happen, for example,\nif an image is imported from one source, then another.\n\nTo ensure that all old images are deleted, and to prevent a failure\nin the command executing the deletion if there is more than one\nresult when listing the images, we process the deletion in a loop\nper stdout line.\n\nNote:\nThis patch is not required in more recent branches due to other\nchanges in the process which have eliminated the possibility of\nthere being more than one image to delete.\n\nConflicts:\n>------docker/services/pacemaker/notify-rabbitmq.yaml\n>------docker/services/pacemaker/rpc-rabbitmq.yaml\n\nCloses: rhbz#1727173\nChange-Id: I67e0a321fe2c77e54966cd9b70be56a489dd2007\n(cherry picked from commit 818c7bb118cda9e242aad3bbeb75c02282d7a75d)\n'}]",2,689124,af4d4d3c298d7a6d7236bdd28045291c33a9084d,12,6,1,6816,,,0,"Remove all old pcmklatest images

An operator may make a mistake when importing images, resulting
in more than one image being present. This may happen, for example,
if an image is imported from one source, then another.

To ensure that all old images are deleted, and to prevent a failure
in the command executing the deletion if there is more than one
result when listing the images, we process the deletion in a loop
per stdout line.

Note:
This patch is not required in more recent branches due to other
changes in the process which have eliminated the possibility of
there being more than one image to delete.

Conflicts:
>------docker/services/pacemaker/notify-rabbitmq.yaml
>------docker/services/pacemaker/rpc-rabbitmq.yaml

Closes: rhbz#1727173
Change-Id: I67e0a321fe2c77e54966cd9b70be56a489dd2007
(cherry picked from commit 818c7bb118cda9e242aad3bbeb75c02282d7a75d)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/24/689124/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/pacemaker/rabbitmq.yaml', 'docker/services/pacemaker/cinder-volume.yaml', 'docker/services/pacemaker/database/mysql.yaml', 'docker/services/pacemaker/haproxy.yaml', 'docker/services/pacemaker/database/redis.yaml', 'docker/services/pacemaker/cinder-backup.yaml', 'docker/services/pacemaker/manila-share.yaml', 'docker/services/pacemaker/ovn-dbs.yaml']",8,af4d4d3c298d7a6d7236bdd28045291c33a9084d,," shell: ""docker ps -a -q -f 'ancestor={{ item }}'"" with_items: ""{{ ovn_dbs_image_id.stdout_lines }}"" shell: ""docker rm -fv {{ item }}"" with_items: ""{{ ovn_dbs_containers_to_destroy.results | map(attribute='stdout_lines') | list | flatten }}"" shell: ""docker rmi -f {{ item }}"" with_items: ""{{ ovn_dbs_image_id.stdout_lines }}"""," shell: ""docker ps -a -q -f 'ancestor={{ovn_dbs_image_id.stdout}}'"" shell: ""docker rm -fv {{item}}"" with_items: ""{{ ovn_dbs_containers_to_destroy.stdout_lines }}"" shell: ""docker rmi -f {{ovn_dbs_image_id.stdout}}""",54,38
openstack%2Ftripleo-heat-templates~master~I76b16cd7781ea601778004afa4e0bc3020ce3c59,openstack/tripleo-heat-templates,master,I76b16cd7781ea601778004afa4e0bc3020ce3c59,Fix update of non HA container during update.,MERGED,2019-10-16 16:12:52.000000000,2019-10-18 11:48:51.000000000,2019-10-18 11:48:51.000000000,"[{'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 16515}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-10-16 16:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/84c40dbd0ee8742af0d081927ec6d8112a165405', 'message': 'Fix update of non HA container during update.\n\nAfter the refactoring of step_1 to improve speed during deployment, we\nwere not updating the /var/lib/container-puppet/container-puppet.json\nor the container-startup-configs.json for instance.\n\nNet result is that the configuration is being done on the initially\ndeployed container and non HA container are not updated.\n\nCloses-Bug: #1848359\n\nChange-Id: I76b16cd7781ea601778004afa4e0bc3020ce3c59\n'}, {'number': 2, 'created': '2019-10-17 08:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/307652d580e778dc12b169007d18278852c77293', 'message': 'Fix update of non HA container during update.\n\nAfter the refactoring of step_1 to improve speed during deployment, we\nwere not updating the /var/lib/container-puppet/container-puppet.json\nor the container-startup-configs.json for instance.\n\nNet result is that the configuration is being done on the initially\ndeployed container and non HA container are not updated.\n\nNote that not all step1 tasks were refarctored into the\ndeploy_steps_tasks_step_1. So we still need to loop over step 1 in the\ndeploy_steps_tasks.\n\nCloses-Bug: #1848359\n\nChange-Id: I76b16cd7781ea601778004afa4e0bc3020ce3c59\n'}, {'number': 3, 'created': '2019-10-17 08:22:43.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6e649ccc7e38b32426c6e6704b01a58fe87c1e91', 'message': 'Fix update of non HA container during update.\n\nAfter the refactoring of step_1 to improve speed during deployment, we\nwere not updating the /var/lib/container-puppet/container-puppet.json\nor the container-startup-configs.json for instance.\n\nNet result is that the configuration is being done on the initially\ndeployed container and non HA container are not updated.\n\nNote that not all step1 tasks were refarctored into the\ndeploy_steps_tasks_step_1. So we still need to loop over step 1 in the\ndeploy_steps_tasks.\n\nCloses-Bug: #1848359\n\nChange-Id: I76b16cd7781ea601778004afa4e0bc3020ce3c59\n'}]",3,688967,6e649ccc7e38b32426c6e6704b01a58fe87c1e91,28,11,3,8297,,,0,"Fix update of non HA container during update.

After the refactoring of step_1 to improve speed during deployment, we
were not updating the /var/lib/container-puppet/container-puppet.json
or the container-startup-configs.json for instance.

Net result is that the configuration is being done on the initially
deployed container and non HA container are not updated.

Note that not all step1 tasks were refarctored into the
deploy_steps_tasks_step_1. So we still need to loop over step 1 in the
deploy_steps_tasks.

Closes-Bug: #1848359

Change-Id: I76b16cd7781ea601778004afa4e0bc3020ce3c59
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/688967/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,84c40dbd0ee8742af0d081927ec6d8112a165405,bug/1848359, - include_tasks: common_deploy_steps_tasks_step_1.yaml with_sequence: start=2 end={{deploy_steps_max-1}}, with_sequence: start=1 end={{deploy_steps_max-1}},2,1
openstack%2Fmetalsmith~master~I786f52f02b12c4543b5f6c48a4f4d6e8f7df900a,openstack/metalsmith,master,I786f52f02b12c4543b5f6c48a4f4d6e8f7df900a,DNM testing the CI,ABANDONED,2019-10-01 09:13:26.000000000,2019-10-18 10:51:39.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-01 09:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/7aec6c99ac3bcc24eceee63f23090a2e28b736b3', 'message': 'DNM testing the CI\n\nDepends-On: https://review.opendev.org/#/c/683798/\nChange-Id: I786f52f02b12c4543b5f6c48a4f4d6e8f7df900a\n'}, {'number': 2, 'created': '2019-10-08 15:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/51eb8edd257975fdfa7c394522373b2b4ff33ef5', 'message': 'DNM testing the CI\n\nDepends-On: https://review.opendev.org/#/c/683798/\nChange-Id: I786f52f02b12c4543b5f6c48a4f4d6e8f7df900a\n'}, {'number': 3, 'created': '2019-10-09 08:45:20.000000000', 'files': ['.zuul.yaml', 'metalsmith/sources.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/fe16c4515483b9a84f4909746fc8b2f88677e09c', 'message': 'DNM testing the CI\n\nDepends-On: https://review.opendev.org/#/c/685324/\nChange-Id: I786f52f02b12c4543b5f6c48a4f4d6e8f7df900a\n'}]",0,685911,fe16c4515483b9a84f4909746fc8b2f88677e09c,9,2,3,10239,,,0,"DNM testing the CI

Depends-On: https://review.opendev.org/#/c/685324/
Change-Id: I786f52f02b12c4543b5f6c48a4f4d6e8f7df900a
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/11/685911/3 && git format-patch -1 --stdout FETCH_HEAD,['metalsmith/sources.py'],1,7aec6c99ac3bcc24eceee63f23090a2e28b736b3,test,,,1,0
openstack%2Fmetalsmith~master~Ia2f29fd924095b1a9c0cbd988878901dcb313b85,openstack/metalsmith,master,Ia2f29fd924095b1a9c0cbd988878901dcb313b85,Lower MTU,ABANDONED,2019-09-26 14:32:57.000000000,2019-10-18 10:51:27.000000000,,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-26 14:32:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/a9b46164c3fe76d5a12d3397949f1f1c2572078d', 'message': 'Lower MTU\n\nFor some unknown reason, new networks being created in the\nfortnebula test VMs are defaulting to a MTU size of 1350 bytes.\n\nThis is based upon the physnet MTU, which does appear to be\nlower on the fortnebula cloud.\n\nChange-Id: Ia2f29fd924095b1a9c0cbd988878901dcb313b85\n'}]",0,685100,a9b46164c3fe76d5a12d3397949f1f1c2572078d,5,2,1,10239,,,0,"Lower MTU

For some unknown reason, new networks being created in the
fortnebula test VMs are defaulting to a MTU size of 1350 bytes.

This is based upon the physnet MTU, which does appear to be
lower on the fortnebula cloud.

Change-Id: Ia2f29fd924095b1a9c0cbd988878901dcb313b85
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/00/685100/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a9b46164c3fe76d5a12d3397949f1f1c2572078d,gate, OVERRIDE_PUBLIC_BRIDGE_MTU: 1350,,1,0
openstack%2Fmetalsmith~master~Ie8dadff9fc5df180effd6016e464be280bbf64fa,openstack/metalsmith,master,Ie8dadff9fc5df180effd6016e464be280bbf64fa,DNM testing the CI,ABANDONED,2019-10-17 09:31:27.000000000,2019-10-18 10:51:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-17 09:31:27.000000000', 'files': ['metalsmith/sources.py'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/bdb6bf1a0d45d0b363bd496fa2828bcd02a8bb5b', 'message': 'DNM testing the CI\n\nChange-Id: Ie8dadff9fc5df180effd6016e464be280bbf64fa\n'}]",0,689108,bdb6bf1a0d45d0b363bd496fa2828bcd02a8bb5b,3,1,1,10239,,,0,"DNM testing the CI

Change-Id: Ie8dadff9fc5df180effd6016e464be280bbf64fa
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/08/689108/1 && git format-patch -1 --stdout FETCH_HEAD,['metalsmith/sources.py'],1,bdb6bf1a0d45d0b363bd496fa2828bcd02a8bb5b,test,,,1,0
openstack%2Fplacement~master~I70f22b246d0c0acd1ae87a75bc438a9258b704ad,openstack/placement,master,I70f22b246d0c0acd1ae87a75bc438a9258b704ad,Clarify GET /allocations/$c for nonexistent $c,MERGED,2019-10-16 18:42:47.000000000,2019-10-18 10:44:09.000000000,2019-10-18 10:41:46.000000000,"[{'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-16 18:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/6819e7360963a0c3149ec1afdd1595dc52798c72', 'message': 'Clarify GET /allocations/$c for nonexistent $c\n\nThere was a note in the API reference for ""List allocations"" indicating\nthe response payload when a nonexistent consumer is queried, but the\nparameter table entry for `consumer_generation` was duplicated from the\n""Manage"" and ""Update"" operations, which was confusing.\n\nThis commit clarifies that the `consumer_generation` will be entirely\nabsent from the response payload in this scenario. It also adds the same\nclarification for the `project_id` and `user_id` fields. And tightens up\nthe gabbi coverage proving same.\n\nChange-Id: I70f22b246d0c0acd1ae87a75bc438a9258b704ad\nStory: #2006726\nTask: #37146\n'}, {'number': 2, 'created': '2019-10-18 01:09:45.000000000', 'files': ['api-ref/source/parameters.yaml', 'placement/tests/functional/gabbits/allocations-1.28.yaml', 'api-ref/source/allocations.inc'], 'web_link': 'https://opendev.org/openstack/placement/commit/f3558482abd4f03da9d59347d0e7fda2d300fd93', 'message': 'Clarify GET /allocations/$c for nonexistent $c\n\nThere was a note in the API reference for ""List allocations"" indicating\nthe response payload when a nonexistent consumer is queried, but the\nparameter table entry for `consumer_generation` was duplicated from the\n""Manage"" and ""Update"" operations, which was confusing.\n\nThis commit clarifies that the `consumer_generation` will be entirely\nabsent from the response payload in this scenario. It also adds the same\nclarification for the `project_id` and `user_id` fields. And tightens up\nthe gabbi coverage proving same.\n\nChange-Id: I70f22b246d0c0acd1ae87a75bc438a9258b704ad\nStory: #2006726\nTask: #37146\n'}]",5,689004,f3558482abd4f03da9d59347d0e7fda2d300fd93,21,4,2,14070,,,0,"Clarify GET /allocations/$c for nonexistent $c

There was a note in the API reference for ""List allocations"" indicating
the response payload when a nonexistent consumer is queried, but the
parameter table entry for `consumer_generation` was duplicated from the
""Manage"" and ""Update"" operations, which was confusing.

This commit clarifies that the `consumer_generation` will be entirely
absent from the response payload in this scenario. It also adds the same
clarification for the `project_id` and `user_id` fields. And tightens up
the gabbi coverage proving same.

Change-Id: I70f22b246d0c0acd1ae87a75bc438a9258b704ad
Story: #2006726
Task: #37146
",git fetch https://review.opendev.org/openstack/placement refs/changes/04/689004/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'placement/tests/functional/gabbits/allocations-1.28.yaml', 'api-ref/source/allocations.inc']",3,6819e7360963a0c3149ec1afdd1595dc52798c72,story/2006726, - consumer_generation: consumer_generation_get, - consumer_generation: consumer_generation_min,43,3
openstack%2Fnova~master~I93c1b1c392a100240be0cac0051bbec2aed8242d,openstack/nova,master,I93c1b1c392a100240be0cac0051bbec2aed8242d,Add support for 'initenv' elements,MERGED,2019-06-27 16:13:41.000000000,2019-10-18 10:44:08.000000000,2019-10-18 10:41:41.000000000,"[{'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-06-27 16:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0a5dd5d52de5f3fefe30d638c7484f2e4eb4315', 'message': ""Add support for 'initenv' elements\n\nTo better support container based virtualization, libvirt domain XML\nformat has the 'initenv' element [1] to setup env variables for the\ncontainer's init process.\n\nThis patch add to nova instance configuration a new dictionary called\n'os_init_env' so that its entries are mapped to/from 'initenv'\nelements.\n\n[1] https://libvirt.org/formatdomain.html#elementsOSContainer\n\nChange-Id: I93c1b1c392a100240be0cac0051bbec2aed8242d\nSigned-off-by: Miguel Herranz <miguel@midokura.com>\n""}, {'number': 2, 'created': '2019-08-25 19:39:05.000000000', 'files': ['nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b3aed10ee037770c4e0010594e64b2f3c8abb438', 'message': ""Add support for 'initenv' elements\n\nTo better support container based virtualization, libvirt domain XML\nformat has the 'initenv' element [1] to setup env variables for the\ncontainer's init process.\n\nThis patch add to nova instance configuration a new dictionary called\n'os_init_env' so that its entries are mapped to/from 'initenv'\nelements.\n\n[1] https://libvirt.org/formatdomain.html#elementsOSContainer\n\nChange-Id: I93c1b1c392a100240be0cac0051bbec2aed8242d\nSigned-off-by: Miguel Herranz <miguel@midokura.com>\n""}]",1,667975,b3aed10ee037770c4e0010594e64b2f3c8abb438,50,20,2,19490,,,0,"Add support for 'initenv' elements

To better support container based virtualization, libvirt domain XML
format has the 'initenv' element [1] to setup env variables for the
container's init process.

This patch add to nova instance configuration a new dictionary called
'os_init_env' so that its entries are mapped to/from 'initenv'
elements.

[1] https://libvirt.org/formatdomain.html#elementsOSContainer

Change-Id: I93c1b1c392a100240be0cac0051bbec2aed8242d
Signed-off-by: Miguel Herranz <miguel@midokura.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/667975/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py']",2,d0a5dd5d52de5f3fefe30d638c7484f2e4eb4315,lxc_cloud_init," obj.os_init_env[""foo""] = ""bar"" <initenv name=""foo"">bar</initenv> <initenv name=""foo"">bar</initenv> self.assertEqual('bar', obj.os_init_env['foo'])",,11,0
openstack%2Fplacement~master~I8c7f99b64434eed513d7462b68778b1f0da54d80,openstack/placement,master,I8c7f99b64434eed513d7462b68778b1f0da54d80,Update for os-traits 1.1.0,MERGED,2019-10-17 14:46:06.000000000,2019-10-18 10:43:03.000000000,2019-10-18 10:41:45.000000000,"[{'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-10-17 14:46:06.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'placement/tests/functional/gabbits/traits.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/d958cfa095dd5db58d49d4870a00f6357b8c7d14', 'message': ""Update for os-traits 1.1.0\n\nWe've had three traits added since 0.16.0. Update accordingly.\n\nChange-Id: I8c7f99b64434eed513d7462b68778b1f0da54d80\n""}]",0,689187,d958cfa095dd5db58d49d4870a00f6357b8c7d14,11,4,1,14070,,,0,"Update for os-traits 1.1.0

We've had three traits added since 0.16.0. Update accordingly.

Change-Id: I8c7f99b64434eed513d7462b68778b1f0da54d80
",git fetch https://review.opendev.org/openstack/placement refs/changes/87/689187/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'placement/tests/functional/gabbits/traits.yaml']",3,d958cfa095dd5db58d49d4870a00f6357b8c7d14,os-traits-1.1.0, $.traits.`len`: 273 # Number of standard traits, $.traits.`len`: 270 # Number of standard traits,3,3
openstack%2Ffreezer~master~I0a7bc90aee9919860af1da14d6b6bb3eba3b52d6,openstack/freezer,master,I0a7bc90aee9919860af1da14d6b6bb3eba3b52d6,Update master for stable/train,MERGED,2019-09-27 17:03:53.000000000,2019-10-18 10:37:37.000000000,2019-10-18 10:35:49.000000000,"[{'_account_id': 11151}, {'_account_id': 13940}, {'_account_id': 14101}, {'_account_id': 14340}, {'_account_id': 14509}, {'_account_id': 16768}, {'_account_id': 21069}, {'_account_id': 21387}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22405}, {'_account_id': 22484}, {'_account_id': 27068}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-27 17:03:53.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/freezer/commit/df192be86e0926832d758ab8ef7ebeaa8630fb2e', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I0a7bc90aee9919860af1da14d6b6bb3eba3b52d6\nSem-Ver: feature\n'}]",0,685417,df192be86e0926832d758ab8ef7ebeaa8630fb2e,9,14,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I0a7bc90aee9919860af1da14d6b6bb3eba3b52d6
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/freezer refs/changes/17/685417/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,df192be86e0926832d758ab8ef7ebeaa8630fb2e,reno-train, train,,7,0
openstack%2Fironic~master~Idf1d2ccc54e1bf60a1df249d0e3fb08fbb98a51c,openstack/ironic,master,Idf1d2ccc54e1bf60a1df249d0e3fb08fbb98a51c,Fix EFIBOOT image upload in devstack,MERGED,2019-10-01 10:13:12.000000000,2019-10-18 10:22:23.000000000,2019-10-18 10:20:42.000000000,"[{'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 11929}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-10-01 10:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4a111fbe9658285061d3d3209d0054a930fca236', 'message': 'Fix EFIBOOT image upload in devstack\n\nOn restacking devstack, if EFIBOOT image file already exists on the\nfile system, ironic devstack plugin would not re-upload it to Glance\nfailing further ISO image build for Redfish virtual media boot.\n\nThis change makes Glance upload unconditional.\n\nChange-Id: Idf1d2ccc54e1bf60a1df249d0e3fb08fbb98a51c\n'}, {'number': 2, 'created': '2019-10-03 15:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7ce3fef48b063ea66eb4d89c99fde58d488572ff', 'message': 'Fix EFIBOOT image upload in devstack\n\nOn restacking devstack, if EFIBOOT image file already exists on the\nfile system, ironic devstack plugin would not re-upload it to Glance\nfailing further ISO image build for Redfish virtual media boot.\n\nThis change makes Glance upload unconditional.\n\nChange-Id: Idf1d2ccc54e1bf60a1df249d0e3fb08fbb98a51c\n'}, {'number': 3, 'created': '2019-10-09 13:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/37ea21e5e56dae3a91f75929233784fa5414743a', 'message': 'Fix EFIBOOT image upload in devstack\n\nOn restacking devstack, if EFIBOOT image file already exists on the\nfile system, ironic devstack plugin would not re-upload it to Glance\nfailing further ISO image build for Redfish virtual media boot.\n\nThis change makes Glance upload unconditional.\n\nChange-Id: Idf1d2ccc54e1bf60a1df249d0e3fb08fbb98a51c\n'}, {'number': 4, 'created': '2019-10-14 14:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/608fc4d640fa538b71fa59d7597f72c8f361e4f5', 'message': 'Fix EFIBOOT image upload in devstack\n\nOn restacking devstack, if EFIBOOT image file already exists on the\nfile system, ironic devstack plugin would not re-upload it to Glance\nfailing further ISO image build for Redfish virtual media boot.\n\nThis change makes Glance upload unconditional.\n\nChange-Id: Idf1d2ccc54e1bf60a1df249d0e3fb08fbb98a51c\n'}, {'number': 5, 'created': '2019-10-14 17:29:38.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e339c30a57c3d84bfd150756c73e85ba39deb732', 'message': 'Fix EFIBOOT image upload in devstack\n\nOn restacking devstack, if EFIBOOT image file already exists on the\nfile system, ironic devstack plugin would not re-upload it to Glance\nfailing further ISO image build for Redfish virtual media boot.\n\nThis change makes Glance upload unconditional.\n\nAlso in this patch: fixed UEFI firmware configuration in Redfish\nemulator configuration file produced by devstack plugin.\n\nChange-Id: Idf1d2ccc54e1bf60a1df249d0e3fb08fbb98a51c\n'}]",3,685925,e339c30a57c3d84bfd150756c73e85ba39deb732,32,10,5,26340,,,0,"Fix EFIBOOT image upload in devstack

On restacking devstack, if EFIBOOT image file already exists on the
file system, ironic devstack plugin would not re-upload it to Glance
failing further ISO image build for Redfish virtual media boot.

This change makes Glance upload unconditional.

Also in this patch: fixed UEFI firmware configuration in Redfish
emulator configuration file produced by devstack plugin.

Change-Id: Idf1d2ccc54e1bf60a1df249d0e3fb08fbb98a51c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/25/685925/5 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,4a111fbe9658285061d3d3209d0054a930fca236,04-fix-devstack-efiboot," # load efiboot into glance IRONIC_EFIBOOT_ID=$(openstack \ image create \ $efiboot_name \ --public --disk-format=raw \ --container-format=bare \ -f value -c id \ < $efiboot_path) die_if_not_set $LINENO IRONIC_EFIBOOT_ID ""Failed to load EFI bootloader image into glance"" mv $efiboot_path $IRONIC_EFIBOOT iniset $IRONIC_CONF_FILE conductor bootloader $IRONIC_EFIBOOT_ID"," # load efiboot into glance IRONIC_EFIBOOT_ID=$(openstack \ image create \ $efiboot_name \ --public --disk-format=raw \ --container-format=bare \ -f value -c id \ < $efiboot_path) die_if_not_set $LINENO IRONIC_EFIBOOT_ID ""Failed to load EFI bootloader image into glance"" mv $efiboot_path $IRONIC_EFIBOOT iniset $IRONIC_CONF_FILE conductor bootloader $IRONIC_EFIBOOT_ID",14,14
openstack%2Fcharm-keystone-saml-mellon~master~I3cdc660fca879bd3b70b835a50d3e7757de2bdd9,openstack/charm-keystone-saml-mellon,master,I3cdc660fca879bd3b70b835a50d3e7757de2bdd9,"[TEST, IGNORE] Validating a proposed Zaza OpenStack test change",ABANDONED,2019-10-18 09:18:55.000000000,2019-10-18 10:14:32.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 09:18:55.000000000', 'files': ['src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/50cb9fd841f007c2923b3d9d9eb64f56f9f579b3', 'message': '[TEST, IGNORE] Validating a proposed Zaza OpenStack test change\n\nChange-Id: I3cdc660fca879bd3b70b835a50d3e7757de2bdd9\n'}]",0,689342,50cb9fd841f007c2923b3d9d9eb64f56f9f579b3,4,2,1,13686,,,0,"[TEST, IGNORE] Validating a proposed Zaza OpenStack test change

Change-Id: I3cdc660fca879bd3b70b835a50d3e7757de2bdd9
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/42/689342/1 && git format-patch -1 --stdout FETCH_HEAD,['src/test-requirements.txt'],1,50cb9fd841f007c2923b3d9d9eb64f56f9f579b3,test-zaza-openstack-vault-change,git+https://github.com/openstack-charmers/zaza-openstack-tests.git@add-ovn#egg=zaza.openstack,git+https://github.com/openstack-charmers/zaza-openstack-tests.git#egg=zaza.openstack,1,1
openstack%2Ftripleo-ci~master~I76d05ae0465e24f660f8ce38ee5decc882e35d44,openstack/tripleo-ci,master,I76d05ae0465e24f660f8ce38ee5decc882e35d44,Tolerate None featureset_override,MERGED,2019-09-12 03:08:44.000000000,2019-10-18 10:03:59.000000000,2019-10-18 03:23:38.000000000,"[{'_account_id': 4571}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-12 03:08:44.000000000', 'files': ['roles/run-test/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/65c963b6c429b7d7bbe6f327826636723aaa4369', 'message': 'Tolerate None featureset_override\n\nThe rendered featureset_override[1] can end up evaluating to None,\nin the reproducers for multinode jobs, which breaks this block. This\nchange fixes that.\n\n[1] https://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/create-zuul-based-reproducer/templates/launcher-playbook.yaml.j2#L104\n\nChange-Id: I76d05ae0465e24f660f8ce38ee5decc882e35d44\n'}]",5,681635,65c963b6c429b7d7bbe6f327826636723aaa4369,39,5,1,4571,,,0,"Tolerate None featureset_override

The rendered featureset_override[1] can end up evaluating to None,
in the reproducers for multinode jobs, which breaks this block. This
change fixes that.

[1] https://opendev.org/openstack/tripleo-quickstart-extras/src/branch/master/roles/create-zuul-based-reproducer/templates/launcher-playbook.yaml.j2#L104

Change-Id: I76d05ae0465e24f660f8ce38ee5decc882e35d44
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/35/681635/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/tasks/main.yaml'],1,65c963b6c429b7d7bbe6f327826636723aaa4369,reproducer, when: featureset_override is defined and featureset_override|bool, when: featureset_override is defined,1,1
openstack%2Fironic-python-agent~master~Ibc3656e32b94004da7e895a27860c1fa3ac0bbb1,openstack/ironic-python-agent,master,Ibc3656e32b94004da7e895a27860c1fa3ac0bbb1,Correct string formatting in logging,MERGED,2019-10-17 14:14:32.000000000,2019-10-18 09:53:08.000000000,2019-10-18 09:51:54.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-10-17 14:14:32.000000000', 'files': ['ironic_python_agent/agent.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d61887e744a59776e417af6213b949733c3da363', 'message': 'Correct string formatting in logging\n\nChange-Id: Ibc3656e32b94004da7e895a27860c1fa3ac0bbb1\n'}]",0,689171,d61887e744a59776e417af6213b949733c3da363,19,5,1,10239,,,0,"Correct string formatting in logging

Change-Id: Ibc3656e32b94004da7e895a27860c1fa3ac0bbb1
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/71/689171/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/agent.py'],1,d61887e744a59776e417af6213b949733c3da363,logging," LOG.error('Failed to perform inspection: %s', e) "," LOG.error('Failed to perform inspection: %(err)s', {'error': e})",2,2
openstack%2Fpuppet-tripleo~stable%2Fstein~I5ec6a5b0c66579e068e811f49aae10a5f406158a,openstack/puppet-tripleo,stable/stein,I5ec6a5b0c66579e068e811f49aae10a5f406158a,Add a configurable delay to Nova Evacuate calls,MERGED,2019-10-17 07:42:17.000000000,2019-10-18 09:50:22.000000000,2019-10-18 09:50:22.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2019-10-17 07:42:17.000000000', 'files': ['manifests/profile/base/pacemaker/instance_ha.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/84f22d9171448a1298961163533df1e0014f3752', 'message': 'Add a configurable delay to Nova Evacuate calls\n\nAdd a configurable delay to Nova Evacuate calls\n\nIn case /var/lib/nova/instances resides on NFS we have seen migrations\nfailing with \'Failed to get ""write"" lock - Is another process using the\nimage\' errors.\n\nThis has been tracked down to grace/lease timeouts not having expired\nbefore attempting the migration/evacuate, so in this cases it might be\ndesirable to delay the nova evacuate call to give the storage time to\nrelease the locks.\n\nRelated resource-agents change: https://review.opendev.org/#/c/684777/\n\nNB: cherry-pick not 100% clean due to missing I00d4f97cd24f7c36eeb0a29f9c91422cf7ded3ee\n    (Add region support for instance HA). As there are no current plans\n    to backport that, we chose to adapt this review instead\n\nChange-Id: I5ec6a5b0c66579e068e811f49aae10a5f406158a\nResolves: rhbz#1740069\n(cherry picked from commit 72487d804ef4c64d16889b1b474252f6963a18c2)\n'}]",0,689091,84f22d9171448a1298961163533df1e0014f3752,13,5,1,20172,,,0,"Add a configurable delay to Nova Evacuate calls

Add a configurable delay to Nova Evacuate calls

In case /var/lib/nova/instances resides on NFS we have seen migrations
failing with 'Failed to get ""write"" lock - Is another process using the
image' errors.

This has been tracked down to grace/lease timeouts not having expired
before attempting the migration/evacuate, so in this cases it might be
desirable to delay the nova evacuate call to give the storage time to
release the locks.

Related resource-agents change: https://review.opendev.org/#/c/684777/

NB: cherry-pick not 100% clean due to missing I00d4f97cd24f7c36eeb0a29f9c91422cf7ded3ee
    (Add region support for instance HA). As there are no current plans
    to backport that, we chose to adapt this review instead

Change-Id: I5ec6a5b0c66579e068e811f49aae10a5f406158a
Resolves: rhbz#1740069
(cherry picked from commit 72487d804ef4c64d16889b1b474252f6963a18c2)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/91/689091/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker/instance_ha.pp'],1,84f22d9171448a1298961163533df1e0014f3752,iha_stein,"# [*evacuate_delay*] # (Optional) Integer, seconds to wait before starting the nova evacuate # Defaults to hiera('tripleo::instanceha::evacuate_delay', 0) # $evacuate_delay = hiera('tripleo::instanceha::evacuate_delay', 0), if $evacuate_delay > 0 { $evacuate_param = "" evacuate_delay=${evacuate_delay}"" } else { $evacuate_param = '' } resource_params => ""auth_url=${keystone_endpoint_url} username=${keystone_admin} password=${keystone_password} user_domain=${user_domain} project_domain=${project_domain} tenant_name=${keystone_admin} ${iha_no_shared_storage}${evacuate_param}"","," resource_params => ""auth_url=${keystone_endpoint_url} username=${keystone_admin} password=${keystone_password} user_domain=${user_domain} project_domain=${project_domain} tenant_name=${keystone_admin} ${iha_no_shared_storage}"",",11,1
openstack%2Fovsdbapp~master~I38c3953b02c61f38da0bf7151cac37a12fd8706c,openstack/ovsdbapp,master,I38c3953b02c61f38da0bf7151cac37a12fd8706c,Help with troubleshooting failures from venv.py,MERGED,2019-09-13 17:48:52.000000000,2019-10-18 09:49:26.000000000,2019-10-18 09:48:04.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-09-13 17:48:52.000000000', 'files': ['ovsdbapp/venv.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/75277b82b56b53297836a900c979591a4ec98b22', 'message': 'Help with troubleshooting failures from venv.py\n\nThis patch changes the call() method from the venv.py module to redirect\nthe messages from stderr to stdout. At the moment when commands ran by\ncall() fails we lose the stderr which can give very important hints\nabout what went wrong.\n\nWith the redirection its possible to see the messages from stderr in the\ntox output, for example:\n\n=========================\nFailures during discovery\n=========================\n--- stdout ---\novn-nbctl: unix:/var/run/ovn/ovnnb_db.sock: database connection failed\n(No such file or directory)\n--- import errors ---\nFailed to import test module:\nnetworking_ovn.tests.functional.test_impl_idl\nTraceback (most recent call last):\n  File ""\n\nChange-Id: I38c3953b02c61f38da0bf7151cac37a12fd8706c\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,682125,75277b82b56b53297836a900c979591a4ec98b22,13,6,1,6773,,,0,"Help with troubleshooting failures from venv.py

This patch changes the call() method from the venv.py module to redirect
the messages from stderr to stdout. At the moment when commands ran by
call() fails we lose the stderr which can give very important hints
about what went wrong.

With the redirection its possible to see the messages from stderr in the
tox output, for example:

=========================
Failures during discovery
=========================
--- stdout ---
ovn-nbctl: unix:/var/run/ovn/ovnnb_db.sock: database connection failed
(No such file or directory)
--- import errors ---
Failed to import test module:
networking_ovn.tests.functional.test_impl_idl
Traceback (most recent call last):
  File ""

Change-Id: I38c3953b02c61f38da0bf7151cac37a12fd8706c
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/25/682125/1 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/venv.py'],1,75277b82b56b53297836a900c979591a4ec98b22,venv-stderr," cmd, *args, env=self.env, stderr=subprocess.STDOUT, cwd=cwd, **kwargs)"," cmd, *args, env=self.env, cwd=cwd, **kwargs)",2,1
openstack%2Fnova-powervm~master~Ie99414d31f0fa34c00cb964135a70f1d86979947,openstack/nova-powervm,master,Ie99414d31f0fa34c00cb964135a70f1d86979947,Bump the openstackdocstheme extension to 1.20,NEW,2019-10-12 06:36:20.000000000,2019-10-18 09:37:32.000000000,,"[{'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-12 06:36:20.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/d0dd6964c43e8f403be3b727e6094e1cb6b7d471', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Ie99414d31f0fa34c00cb964135a70f1d86979947\n'}]",0,688235,d0dd6964c43e8f403be3b727e6094e1cb6b7d471,5,4,1,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: Ie99414d31f0fa34c00cb964135a70f1d86979947
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/35/688235/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt']",2,d0dd6964c43e8f403be3b727e6094e1cb6b7d471,openstackdocstheme,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.19.0 # Apache-2.0,1,5
openstack%2Fnetworking-powervm~master~I438f87dad5203e76d88927d72336df509385d945,openstack/networking-powervm,master,I438f87dad5203e76d88927d72336df509385d945,Bump the openstackdocstheme extension to 1.20,NEW,2019-10-11 09:12:01.000000000,2019-10-18 09:37:07.000000000,,"[{'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-11 09:12:01.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/16a414cb4020f9d7e49a72288b290b6d549ae3db', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I438f87dad5203e76d88927d72336df509385d945\n'}]",0,688087,16a414cb4020f9d7e49a72288b290b6d549ae3db,5,4,1,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I438f87dad5203e76d88927d72336df509385d945
",git fetch https://review.opendev.org/openstack/networking-powervm refs/changes/87/688087/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt']",2,16a414cb4020f9d7e49a72288b290b6d549ae3db,openstackdocstheme,openstackdocstheme>=1.20.0 # Apache-2.0,openstackdocstheme>=1.19.0 # Apache-2.0,1,5
openstack%2Ftripleo-heat-templates~master~Id4a6326977bebba56c3da2dbf3c4113b6658d433,openstack/tripleo-heat-templates,master,Id4a6326977bebba56c3da2dbf3c4113b6658d433,Use update_serial as an ansible variable,MERGED,2019-09-24 11:38:35.000000000,2019-10-18 09:34:18.000000000,2019-10-12 04:41:04.000000000,"[{'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-09-24 11:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/42625658a27cc5cc6090e072f9bc167544eba7fe', 'message': 'Use update_serial as an ansible variable\n\nChange-Id: Id4a6326977bebba56c3da2dbf3c4113b6658d433\n'}, {'number': 2, 'created': '2019-09-24 13:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/48c7a7e4d47d9100aa773f4d699bcc6787180b00', 'message': 'Use update_serial as an ansible variable\n\nUse update_serial as ansible variable for being able to\noverride the value with CLI or ansible-playbook command line.\n\nThis should result as the following:\nat the heat level:\n  * if no update_serial in the roles_data is provided, the default\n    value is 1\n  * if update_serial is provided by the roles_data, the default value\n    for the ansible var is the one in the roles_data.\n  * if ansible-playbook -e update_serial=<something> , the serial value\n    is the one provided by the CLI.\n\nChange-Id: Id4a6326977bebba56c3da2dbf3c4113b6658d433\n'}, {'number': 3, 'created': '2019-09-30 13:10:09.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c6cd605781aef93516732dc85e8b63afb104aea4', 'message': 'Use update_serial as an ansible variable\n\nUse update_serial as ansible variable for being able to\noverride the value with CLI or ansible-playbook command line.\n\nThis should result as the following:\nat the heat level:\n  * if no update_serial in the roles_data is provided, the default\n    value is 1\n  * if update_serial is provided by the roles_data, the default value\n    for the ansible var is the one in the roles_data.\n  * if ansible-playbook -e update_serial=<something> , the serial value\n    is the one provided by the CLI.\n\nChange-Id: Id4a6326977bebba56c3da2dbf3c4113b6658d433\n'}]",0,684287,c6cd605781aef93516732dc85e8b63afb104aea4,18,10,3,16515,,,0,"Use update_serial as an ansible variable

Use update_serial as ansible variable for being able to
override the value with CLI or ansible-playbook command line.

This should result as the following:
at the heat level:
  * if no update_serial in the roles_data is provided, the default
    value is 1
  * if update_serial is provided by the roles_data, the default value
    for the ansible var is the one in the roles_data.
  * if ansible-playbook -e update_serial=<something> , the serial value
    is the one provided by the CLI.

Change-Id: Id4a6326977bebba56c3da2dbf3c4113b6658d433
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/684287/3 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,42625658a27cc5cc6090e072f9bc167544eba7fe,serial/variable," serial: {{ '""{{' }} update_serial | default({{role.update_serial | default(1)}}) {{ '}}""' }}", serial: {{ role.update_serial | default(1) }},1,1
openstack%2Fnetworking-onos~master~I09c2029aa40d892dd84b24293c22de3a8c391e7f,openstack/networking-onos,master,I09c2029aa40d892dd84b24293c22de3a8c391e7f,Trivial: Update pypi url to new url,ABANDONED,2018-04-21 10:21:04.000000000,2019-10-18 09:33:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-04-21 10:21:04.000000000', 'files': ['TESTING.rst', 'package/rpm/networking-onos.spec'], 'web_link': 'https://opendev.org/openstack/networking-onos/commit/fd9398fbc7df1c5c234bd549ed876d5508390229', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: I09c2029aa40d892dd84b24293c22de3a8c391e7f\n'}]",0,563408,fd9398fbc7df1c5c234bd549ed876d5508390229,3,1,1,17130,,,0,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I09c2029aa40d892dd84b24293c22de3a8c391e7f
",git fetch https://review.opendev.org/openstack/networking-onos refs/changes/08/563408/1 && git format-patch -1 --stdout FETCH_HEAD,"['TESTING.rst', 'package/rpm/networking-onos.spec']",2,fd9398fbc7df1c5c234bd549ed876d5508390229,pypi-url,URL: https://pypi.org/project/%{name},URL: https://pypi.python.org/pypi/%{name},3,3
openstack%2Fpuppet-pacemaker~master~Ic992df1c361fd432b25b596af0f4a5e499dfc7ee,openstack/puppet-pacemaker,master,Ic992df1c361fd432b25b596af0f4a5e499dfc7ee,Remove the duplicated word,ABANDONED,2018-08-17 06:51:57.000000000,2019-10-18 09:31:31.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-08-17 06:51:57.000000000', 'files': ['lib/puppet/type/pacemaker_order.rb', 'README.md'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/da41956bc6b39990bf7e596205bdcfc8624d631d', 'message': 'Remove the duplicated word\n\nChange-Id: Ic992df1c361fd432b25b596af0f4a5e499dfc7ee\n'}]",0,592880,da41956bc6b39990bf7e596205bdcfc8624d631d,4,2,1,17130,,,0,"Remove the duplicated word

Change-Id: Ic992df1c361fd432b25b596af0f4a5e499dfc7ee
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/80/592880/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/pacemaker_order.rb', 'README.md']",2,da41956bc6b39990bf7e596205bdcfc8624d631d,typo-fix,can be initiated for the resource.The action that the resource can execute only after the the resource.This tiny type can the cluster-wide properties.,can be initiated for the then resource.The action that the then resource can execute only after the the then resource.This tiny type can the the cluster-wide properties.,8,8
openstack%2Fansible-hardening~master~I4ef8f2c004fc5435bfa6bbbf87e41edf4b2db49f,openstack/ansible-hardening,master,I4ef8f2c004fc5435bfa6bbbf87e41edf4b2db49f,fix the url in developer-guide.rst,ABANDONED,2018-12-26 08:20:59.000000000,2019-10-18 09:25:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-12-26 08:20:59.000000000', 'files': ['doc/source/developer-guide.rst'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/5c83003cb143070f54344f0582bdecc62d5b6d68', 'message': 'fix the url in developer-guide.rst\n\nChange-Id: I4ef8f2c004fc5435bfa6bbbf87e41edf4b2db49f\n'}]",0,627373,5c83003cb143070f54344f0582bdecc62d5b6d68,3,1,1,17130,,,0,"fix the url in developer-guide.rst

Change-Id: I4ef8f2c004fc5435bfa6bbbf87e41edf4b2db49f
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/73/627373/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/developer-guide.rst'],1,5c83003cb143070f54344f0582bdecc62d5b6d68,fix-url,`OpenStack-Ansible developer documentation <https://docs.openstack.org/openstack-ansible/latest/#release-notes>`_,`OpenStack-Ansible developer documentation <http://docs.openstack.org/developer/openstack-ansible/developer-docs/contribute.html#release-notes>`_,1,1
openstack%2Fopenstack-ansible-os_gnocchi~master~Ie46ed20de0f6dd33e790691c06f9ab8ab161d548,openstack/openstack-ansible-os_gnocchi,master,Ie46ed20de0f6dd33e790691c06f9ab8ab161d548,Trivial: Fix the pep8 warning,ABANDONED,2018-11-08 11:57:58.000000000,2019-10-18 09:23:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-08 11:57:58.000000000', 'files': ['tests/ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/6c437b83453ff429c21d2b1fc1a7e2d1d7e2ab86', 'message': 'Trivial: Fix the pep8 warning\n\nThe yaml should start with ""---""\n\nChange-Id: Ie46ed20de0f6dd33e790691c06f9ab8ab161d548\n'}]",0,616524,6c437b83453ff429c21d2b1fc1a7e2d1d7e2ab86,3,1,1,17130,,,0,"Trivial: Fix the pep8 warning

The yaml should start with ""---""

Change-Id: Ie46ed20de0f6dd33e790691c06f9ab8ab161d548
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/24/616524/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ansible-role-requirements.yml'],1,6c437b83453ff429c21d2b1fc1a7e2d1d7e2ab86,pep8,---,,1,0
openstack%2Fworkload-ref-archs~master~I4236158bc3a0564686ef3555b286f4c20a855452,openstack/workload-ref-archs,master,I4236158bc3a0564686ef3555b286f4c20a855452,Don't quote {posargs} in tox.ini,ABANDONED,2018-11-11 17:20:05.000000000,2019-10-18 09:23:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-11-11 17:20:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/workload-ref-archs/commit/364b9c30274ce41a23e247cab20210e8a33c54cf', 'message': ""Don't quote {posargs} in tox.ini\n\nChange-Id: I4236158bc3a0564686ef3555b286f4c20a855452\n""}]",0,617157,364b9c30274ce41a23e247cab20210e8a33c54cf,3,1,1,17130,,,0,"Don't quote {posargs} in tox.ini

Change-Id: I4236158bc3a0564686ef3555b286f4c20a855452
",git fetch https://review.opendev.org/openstack/workload-ref-archs refs/changes/57/617157/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,364b9c30274ce41a23e247cab20210e8a33c54cf,,commands = python setup.py test --slowest --testr-args={posargs}commands = python setup.py test --coverage --testr-args={posargs},commands = python setup.py test --slowest --testr-args='{posargs}'commands = python setup.py test --coverage --testr-args='{posargs}',2,2
openstack%2Fmonasca-agent~master~I032426f2cfda9276afce2b09fcabe04b2d79ce6b,openstack/monasca-agent,master,I032426f2cfda9276afce2b09fcabe04b2d79ce6b,Update hacking version to latest,ABANDONED,2019-01-06 09:46:57.000000000,2019-10-18 09:23:17.000000000,,"[{'_account_id': 10311}, {'_account_id': 22348}, {'_account_id': 25553}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-01-06 09:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/ecf4f01ac4329c986dcb532f8d328df67acfdb99', 'message': 'Update hacking version to latest\n\nChange-Id: I032426f2cfda9276afce2b09fcabe04b2d79ce6b\n'}, {'number': 2, 'created': '2019-02-04 09:37:14.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/56d4e9b503fc9aca32de89a0d462f80a9757d0fe', 'message': 'Update hacking version to latest\n\nStory: 2004930\nTask: 29314\n\nChange-Id: I032426f2cfda9276afce2b09fcabe04b2d79ce6b\n'}]",0,628767,56d4e9b503fc9aca32de89a0d462f80a9757d0fe,12,4,2,17130,,,0,"Update hacking version to latest

Story: 2004930
Task: 29314

Change-Id: I032426f2cfda9276afce2b09fcabe04b2d79ce6b
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/67/628767/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,ecf4f01ac4329c986dcb532f8d328df67acfdb99,hacking,"hacking>=1.1.0,<1.2.0 # Apache-2.0","hacking>=1.0.0,<1.1.0 # Apache-2.0",1,1
openstack%2Fnetworking-sfc~master~I33c70eb271a9bb6966545f603e6542636c55b312,openstack/networking-sfc,master,I33c70eb271a9bb6966545f603e6542636c55b312,Fix misspell word,MERGED,2019-10-15 01:57:44.000000000,2019-10-18 09:17:14.000000000,2019-10-18 09:16:04.000000000,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-15 01:57:44.000000000', 'files': ['doc/source/contributor/sfc_ovn_driver.rst'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/0b2d6781a13c145654854a4d4e9285ac68e57065', 'message': 'Fix misspell word\n\nChange-Id: I33c70eb271a9bb6966545f603e6542636c55b312\n'}]",0,688596,0b2d6781a13c145654854a4d4e9285ac68e57065,7,2,1,30717,,,0,"Fix misspell word

Change-Id: I33c70eb271a9bb6966545f603e6542636c55b312
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/96/688596/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/sfc_ovn_driver.rst'],1,0b2d6781a13c145654854a4d4e9285ac68e57065,,briefly here. Refer to openvswitch documentation for details. In addition the,briefly here. Refer to openvwitch documentation for details. In addition the,1,1
openstack%2Ftripleo-common~master~I8674f5b39122b8daa32054b17c356588acfa54c5,openstack/tripleo-common,master,I8674f5b39122b8daa32054b17c356588acfa54c5,Replace git.openstack.org URLs with opendev.org URLs,ABANDONED,2019-05-10 08:08:42.000000000,2019-10-18 09:16:19.000000000,,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-05-10 08:08:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/85a718cc75ada3fb84fcddc56287e0098373c801', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I8674f5b39122b8daa32054b17c356588acfa54c5\n'}, {'number': 2, 'created': '2019-05-10 08:14:52.000000000', 'files': ['scripts/pull-puppet-modules', 'README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5ee61b186e49d3c85410798b9d314f3d1454118b', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I8674f5b39122b8daa32054b17c356588acfa54c5\n'}]",0,658294,5ee61b186e49d3c85410798b9d314f3d1454118b,7,4,2,17130,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I8674f5b39122b8daa32054b17c356588acfa54c5
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/94/658294/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/pull-puppet-modules', 'README.rst', 'tox.ini']",3,85a718cc75ada3fb84fcddc56287e0098373c801,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},4,4
openstack%2Fmasakari~master~Ia724a4b00f2638b6fd255bc5c09bfa213e3e7f66,openstack/masakari,master,Ia724a4b00f2638b6fd255bc5c09bfa213e3e7f66,Remove the redundant word,ABANDONED,2018-08-22 04:01:49.000000000,2019-10-18 09:15:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 25267}]","[{'number': 1, 'created': '2018-08-22 04:01:49.000000000', 'files': ['masakari/tests/unit/test_hacking.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/a7a8d9db9b39e24d119717303d95f5725eda72d4', 'message': 'Remove the redundant word\n\nChange-Id: Ia724a4b00f2638b6fd255bc5c09bfa213e3e7f66\n'}]",0,594784,a7a8d9db9b39e24d119717303d95f5725eda72d4,4,2,1,17130,,,0,"Remove the redundant word

Change-Id: Ia724a4b00f2638b6fd255bc5c09bfa213e3e7f66
",git fetch https://review.opendev.org/openstack/masakari refs/changes/84/594784/1 && git format-patch -1 --stdout FETCH_HEAD,['masakari/tests/unit/test_hacking.py'],1,a7a8d9db9b39e24d119717303d95f5725eda72d4,duplicated," code = ""This is the best comment"""," code = ""This is the then best comment""",1,1
openstack%2Fheat~master~Ie8dcd9902e7b4e690919c21a0a5976afebed06dd,openstack/heat,master,Ie8dcd9902e7b4e690919c21a0a5976afebed06dd,fix error url,ABANDONED,2018-05-21 05:24:38.000000000,2019-10-18 09:15:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-05-21 05:24:38.000000000', 'files': ['rally-scenarios/README.rst'], 'web_link': 'https://opendev.org/openstack/heat/commit/d117ba7561e4b6fb7cf3e00fd05de6189a29aa68', 'message': 'fix error url\n\nChange-Id: Ie8dcd9902e7b4e690919c21a0a5976afebed06dd\n'}]",0,569701,d117ba7561e4b6fb7cf3e00fd05de6189a29aa68,3,1,1,17130,,,0,"fix error url

Change-Id: Ie8dcd9902e7b4e690919c21a0a5976afebed06dd
",git fetch https://review.opendev.org/openstack/heat refs/changes/01/569701/1 && git format-patch -1 --stdout FETCH_HEAD,['rally-scenarios/README.rst'],1,d117ba7561e4b6fb7cf3e00fd05de6189a29aa68,fix-url,* more about rally: https://rally.readthedocs.io/en/latest/ * how to add rally-gates: https://rally.readthedocs.io/en/latest/quick_start/gates.html,* more about rally: https://wiki.openstack.org/wiki/Rally * how to add rally-gates: https://wiki.openstack.org/wiki/Rally/RallyGates,2,2
openstack%2Fnetworking-sfc~master~I53b85b2dbbf927cc67ecc238b7fda99d5f786c6b,openstack/networking-sfc,master,I53b85b2dbbf927cc67ecc238b7fda99d5f786c6b,Update master for stable/train,MERGED,2019-09-25 08:43:36.000000000,2019-10-18 09:10:06.000000000,2019-10-18 09:08:54.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-25 08:43:36.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/98a02bfb774224a305d1964fd0da20c1ec8af63c', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I53b85b2dbbf927cc67ecc238b7fda99d5f786c6b\nSem-Ver: feature\n'}]",0,684576,98a02bfb774224a305d1964fd0da20c1ec8af63c,10,5,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I53b85b2dbbf927cc67ecc238b7fda99d5f786c6b
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/76/684576/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,98a02bfb774224a305d1964fd0da20c1ec8af63c,reno-train, train,,7,0
openstack%2Fdesignate-dashboard~master~I3eafcf156374965fbe3899e0c022eeb6c4d94aa1,openstack/designate-dashboard,master,I3eafcf156374965fbe3899e0c022eeb6c4d94aa1,enable Domains panel and fix duplicate app error,ABANDONED,2017-02-28 22:25:00.000000000,2019-10-18 09:00:07.000000000,,"[{'_account_id': 3}, {'_account_id': 8174}, {'_account_id': 9631}]","[{'number': 1, 'created': '2017-02-28 22:25:00.000000000', 'files': ['designatedashboard/enabled/_1720_project_dns_panel.py'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/2ce6e586f9a8d31e63eda3eeb7a115f5ed09bf6b', 'message': 'enable Domains panel and fix duplicate app error\n\nThis patch enables Domains panel and fixes error\n""ImproperlyConfigured: Application labels aren\'t unique,\nduplicates: designatedashboard""\n\nChange-Id: I3eafcf156374965fbe3899e0c022eeb6c4d94aa1\nCloses-Bug: 1668782\n'}]",0,439192,2ce6e586f9a8d31e63eda3eeb7a115f5ed09bf6b,7,3,1,9631,,,0,"enable Domains panel and fix duplicate app error

This patch enables Domains panel and fixes error
""ImproperlyConfigured: Application labels aren't unique,
duplicates: designatedashboard""

Change-Id: I3eafcf156374965fbe3899e0c022eeb6c4d94aa1
Closes-Bug: 1668782
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/92/439192/1 && git format-patch -1 --stdout FETCH_HEAD,['designatedashboard/enabled/_1720_project_dns_panel.py'],1,2ce6e586f9a8d31e63eda3eeb7a115f5ed09bf6b,bug/1668782,DISABLED = False,ADD_INSTALLED_APPS = ['designatedashboard'] DISABLED = True,1,3
openstack%2Fwatcher~stable%2Ftrain~Ida31237b77e98c803cb1ccb3bd5b190289434207,openstack/watcher,stable/train,Ida31237b77e98c803cb1ccb3bd5b190289434207,Remove print(),MERGED,2019-10-18 06:28:45.000000000,2019-10-18 08:51:22.000000000,2019-10-18 08:49:46.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 06:28:45.000000000', 'files': ['watcher/tests/api/base.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/8e143ca8bf25e67b5f7d870f1f681d7c0039c4d7', 'message': 'Remove print()\n\nChange-Id: Ida31237b77e98c803cb1ccb3bd5b190289434207\n(cherry picked from commit aa36e6a881a273fa9acfc73da5a8f07cb8e4838b)\n'}]",0,689322,8e143ca8bf25e67b5f7d870f1f681d7c0039c4d7,7,2,1,21692,,,0,"Remove print()

Change-Id: Ida31237b77e98c803cb1ccb3bd5b190289434207
(cherry picked from commit aa36e6a881a273fa9acfc73da5a8f07cb8e4838b)
",git fetch https://review.opendev.org/openstack/watcher refs/changes/22/689322/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/tests/api/base.py'],1,8e143ca8bf25e67b5f7d870f1f681d7c0039c4d7,remove_print-stable/train,," print('%s: %s %s' % (method.upper(), full_path, params)) print('GOT:%s' % response) print('DELETE: %s' % (full_path)) print('GOT:%s' % response) print('GET: %s %r' % (full_path, all_params)) print('GOT:%s' % response)",0,6
openstack%2Ffreezer-api~master~I512337b054cf0708ba483c1651517cc5f0cfd3ce,openstack/freezer-api,master,I512337b054cf0708ba483c1651517cc5f0cfd3ce,modify comments,MERGED,2019-10-18 07:08:44.000000000,2019-10-18 08:46:34.000000000,2019-10-18 08:46:34.000000000,"[{'_account_id': 22348}, {'_account_id': 22484}]","[{'number': 1, 'created': '2019-10-18 07:08:44.000000000', 'files': ['freezer_api/api/v1/clients.py', 'freezer_api/api/v2/clients.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/886b6fb7da56733f3aef76c86ec849a48879e456', 'message': 'modify comments\n\nChange-Id: I512337b054cf0708ba483c1651517cc5f0cfd3ce\n'}]",0,689327,886b6fb7da56733f3aef76c86ec849a48879e456,7,2,1,19098,,,0,"modify comments

Change-Id: I512337b054cf0708ba483c1651517cc5f0cfd3ce
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/27/689327/1 && git format-patch -1 --stdout FETCH_HEAD,"['freezer_api/api/v1/clients.py', 'freezer_api/api/v2/clients.py']",2,886b6fb7da56733f3aef76c86ec849a48879e456,, # Deletes the specified client, # Deletes the specified backup,2,2
openstack%2Fblazar~master~I0ad13bb1b7a6ef733e7dc33b096573f146c797fe,openstack/blazar,master,I0ad13bb1b7a6ef733e7dc33b096573f146c797fe,Add Wiki links to readme,ABANDONED,2019-10-18 06:23:25.000000000,2019-10-18 08:45:55.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 06:23:25.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/blazar/commit/80e9d97966f059691c503094b98bf3f2d45b6be2', 'message': 'Add Wiki links to readme\n\nChange-Id: I0ad13bb1b7a6ef733e7dc33b096573f146c797fe\n'}]",0,689321,80e9d97966f059691c503094b98bf3f2d45b6be2,4,2,1,30384,,,0,"Add Wiki links to readme

Change-Id: I0ad13bb1b7a6ef733e7dc33b096573f146c797fe
",git fetch https://review.opendev.org/openstack/blazar refs/changes/21/689321/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,80e9d97966f059691c503094b98bf3f2d45b6be2,,* Wiki for the project: https://wiki.openstack.org/wiki/Blazar ,,1,0
openstack%2Fpuppet-barbican~master~I4cb1e130887fb58d57cee455ee0ef72a7a713e94,openstack/puppet-barbican,master,I4cb1e130887fb58d57cee455ee0ef72a7a713e94,add bug link to readme,ABANDONED,2019-10-18 01:15:32.000000000,2019-10-18 08:35:26.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 01:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/95750094ec9db909e52256a4aaededb24717c8d0', 'message': 'add bug link to readmewq\n\nChange-Id: I4cb1e130887fb58d57cee455ee0ef72a7a713e94\n'}, {'number': 2, 'created': '2019-10-18 01:16:06.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/65135001e37b872e87ab9727ba323ca7c5c0bc27', 'message': 'add bug link to readme\n\nChange-Id: I4cb1e130887fb58d57cee455ee0ef72a7a713e94\n'}]",0,689287,65135001e37b872e87ab9727ba323ca7c5c0bc27,5,2,2,23312,,,0,"add bug link to readme

Change-Id: I4cb1e130887fb58d57cee455ee0ef72a7a713e94
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/87/689287/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,95750094ec9db909e52256a4aaededb24717c8d0,,Bugs ---------- * https://opendev.org/openstack/puppet-barbican ,,5,0
openstack%2Fopenstack-ansible-repo_server~master~If2171bb5ce432ca4576aad85b2b47ea830b8e6a0,openstack/openstack-ansible-repo_server,master,If2171bb5ce432ca4576aad85b2b47ea830b8e6a0,PDF Documentation Build tox target,MERGED,2019-10-17 14:46:08.000000000,2019-10-18 08:30:40.000000000,2019-10-18 08:28:35.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-10-17 14:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/2c640c142ef56c2bb5be3b035ec93d12f95dab29', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: If2171bb5ce432ca4576aad85b2b47ea830b8e6a0\nStory: 2006105\n'}, {'number': 2, 'created': '2019-10-17 15:37:53.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/0f18a223e8363e24c930adf84eeb026573635f41', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: If2171bb5ce432ca4576aad85b2b47ea830b8e6a0\nStory: 2006105\n'}]",0,689188,0f18a223e8363e24c930adf84eeb026573635f41,10,3,2,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: If2171bb5ce432ca4576aad85b2b47ea830b8e6a0
Story: 2006105
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/88/689188/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,2c640c142ef56c2bb5be3b035ec93d12f95dab29,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,26,6
openstack%2Fmagnum~stable%2Ftrain~Icade1a70f160d5ec1c0e6f06ee642e29fe9b02ff,openstack/magnum,stable/train,Icade1a70f160d5ec1c0e6f06ee642e29fe9b02ff,ng-13: Support nodegroup upgrade,MERGED,2019-10-17 15:26:11.000000000,2019-10-18 08:23:11.000000000,2019-10-18 08:20:19.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 27057}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-17 15:26:11.000000000', 'files': ['magnum/tests/unit/api/controllers/v1/test_cluster_actions.py', 'magnum/tests/unit/drivers/test_k8s_fedora_atomic_v1_driver.py', 'releasenotes/notes/upgrade_api-1fecc206e5b0ef99.yaml', 'magnum/api/controllers/v1/cluster_actions.py', 'magnum/conductor/handlers/cluster_conductor.py', 'magnum/tests/unit/db/utils.py', 'magnum/drivers/heat/driver.py', 'magnum/common/exception.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/3c984603fc3b20cf8a19705afe945693a0ba22fe', 'message': 'ng-13: Support nodegroup upgrade\n\nAdds support for upgrading nodegroups. All non-default nodegroups,\nare allowed to be upgraded using the CT set in the cluster. The\nonly label that gets upgraded for now is kube_tag. All other labels\nin the new cluster_template are ignored.\n\n(cherry picked from commit 0ac4db955f6a63a977bea6c2d8946fa46e14b6a2)\nChange-Id: Icade1a70f160d5ec1c0e6f06ee642e29fe9b02ff\n'}]",0,689204,3c984603fc3b20cf8a19705afe945693a0ba22fe,8,4,1,20498,,,0,"ng-13: Support nodegroup upgrade

Adds support for upgrading nodegroups. All non-default nodegroups,
are allowed to be upgraded using the CT set in the cluster. The
only label that gets upgraded for now is kube_tag. All other labels
in the new cluster_template are ignored.

(cherry picked from commit 0ac4db955f6a63a977bea6c2d8946fa46e14b6a2)
Change-Id: Icade1a70f160d5ec1c0e6f06ee642e29fe9b02ff
",git fetch https://review.opendev.org/openstack/magnum refs/changes/04/689204/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/tests/unit/api/controllers/v1/test_cluster_actions.py', 'magnum/tests/unit/drivers/test_k8s_fedora_atomic_v1_driver.py', 'magnum/api/controllers/v1/cluster_actions.py', 'releasenotes/notes/upgrade_api-1fecc206e5b0ef99.yaml', 'magnum/conductor/handlers/cluster_conductor.py', 'magnum/tests/unit/db/utils.py', 'magnum/drivers/heat/driver.py', 'magnum/common/exception.py']",8,3c984603fc3b20cf8a19705afe945693a0ba22fe,train-9.1.0," class InvalidClusterTemplateForUpgrade(Conflict): message = _(""Cluster Template is not valid for upgrade: %(reason)s"")",,351,32
openstack%2Fmagnum~stable%2Ftrain~Ic410a059b19a1252cdf6eed786964c5c7b03d01c,openstack/magnum,stable/train,Ic410a059b19a1252cdf6eed786964c5c7b03d01c,ng-12: Label nodegroup nodes,MERGED,2019-10-17 15:26:11.000000000,2019-10-18 08:21:45.000000000,2019-10-18 08:20:18.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 27057}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-17 15:26:11.000000000', 'files': ['magnum/drivers/k8s_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/k8s_fedora_ironic_v1/templates/kubecluster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/b56b164d99bf25ab34dd7da668c4eab38e24c343', 'message': 'ng-12: Label nodegroup nodes\n\nWith this change each node will be labeled with the following:\n* --node-labels=magnum.openstack.org/role=${NODEGROUP_ROLE}\n* --node-labels=magnum.openstack.org/nodegroup=${NODEGROUP_NAME}\n\n(cherry picked from commit 113fdc44b26b27fb4248e8535e46cb7512207cc4)\nChange-Id: Ic410a059b19a1252cdf6eed786964c5c7b03d01c\n'}]",0,689203,b56b164d99bf25ab34dd7da668c4eab38e24c343,8,4,1,20498,,,0,"ng-12: Label nodegroup nodes

With this change each node will be labeled with the following:
* --node-labels=magnum.openstack.org/role=${NODEGROUP_ROLE}
* --node-labels=magnum.openstack.org/nodegroup=${NODEGROUP_NAME}

(cherry picked from commit 113fdc44b26b27fb4248e8535e46cb7512207cc4)
Change-Id: Ic410a059b19a1252cdf6eed786964c5c7b03d01c
",git fetch https://review.opendev.org/openstack/magnum refs/changes/03/689203/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/write-heat-params-master.sh', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'magnum/drivers/k8s_fedora_ironic_v1/templates/kubecluster.yaml']",14,b56b164d99bf25ab34dd7da668c4eab38e24c343,train-9.1.0," master_nodegroup_name: type: string default: """" description: the name of the nodegroup where the node belongs worker_nodegroup_name: type: string default: """" description: the name of the nodegroup where the node belongs ",,110,0
openstack%2Fwatcher~master~I1b0e6b78b3bba4df9ba16e093b3910aab1de922e,openstack/watcher,master,I1b0e6b78b3bba4df9ba16e093b3910aab1de922e,Don't throw exception when missing metrics,MERGED,2019-10-11 03:51:51.000000000,2019-10-18 08:21:12.000000000,2019-10-17 12:59:18.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28014}, {'_account_id': 28748}, {'_account_id': 29911}, {'_account_id': 30442}]","[{'number': 1, 'created': '2019-10-11 03:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/d95aa08e7ffa3ddcd0cfc843e0a2d068c1c5bb20', 'message': ""Don't throw exception when missing metrics\n\nWhen querying data from datasource, it's possible to miss some data.\nIn this case if we throw an exception, Audit will failed because of\nthe exception. We should remove the exception and give the decision\nto the strategy.\n\nChange-Id: I1b0e6b78b3bba4df9ba16e093b3910aab1de922e\nCloses-Bug: #1847434\n""}, {'number': 2, 'created': '2019-10-11 07:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/19b4f473e72e43b95a78a36571772623a6a9ffbf', 'message': ""Don't throw exception when missing metrics\n\nWhen querying data from datasource, it's possible to miss some data.\nIn this case if we throw an exception, Audit will failed because of\nthe exception. We should remove the exception and give the decision\nto the strategy.\n\nChange-Id: I1b0e6b78b3bba4df9ba16e093b3910aab1de922e\nCloses-Bug: #1847434\n""}, {'number': 3, 'created': '2019-10-17 04:02:06.000000000', 'files': ['watcher/decision_engine/datasources/monasca.py', 'watcher/decision_engine/datasources/grafana.py', 'watcher/decision_engine/datasources/base.py', 'watcher/decision_engine/datasources/ceilometer.py', 'watcher/tests/decision_engine/datasources/test_base.py', 'watcher/tests/decision_engine/datasources/test_grafana_helper.py', 'watcher/decision_engine/datasources/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/f685bf62abf5c37765d8bc48b4cdb38df2147190', 'message': ""Don't throw exception when missing metrics\n\nWhen querying data from datasource, it's possible to miss some data.\nIn this case if we throw an exception, Audit will failed because of\nthe exception. We should remove the exception and give the decision\nto the strategy.\n\nChange-Id: I1b0e6b78b3bba4df9ba16e093b3910aab1de922e\nCloses-Bug: #1847434\n""}]",2,688029,f685bf62abf5c37765d8bc48b4cdb38df2147190,25,6,3,21692,,,0,"Don't throw exception when missing metrics

When querying data from datasource, it's possible to miss some data.
In this case if we throw an exception, Audit will failed because of
the exception. We should remove the exception and give the decision
to the strategy.

Change-Id: I1b0e6b78b3bba4df9ba16e093b3910aab1de922e
Closes-Bug: #1847434
",git fetch https://review.opendev.org/openstack/watcher refs/changes/29/688029/3 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/decision_engine/datasources/grafana.py', 'watcher/decision_engine/datasources/monasca.py', 'watcher/decision_engine/datasources/base.py', 'watcher/decision_engine/datasources/ceilometer.py', 'watcher/tests/decision_engine/datasources/test_base.py', 'watcher/tests/decision_engine/datasources/test_grafana_helper.py', 'watcher/decision_engine/datasources/gnocchi.py']",7,d95aa08e7ffa3ddcd0cfc843e0a2d068c1c5bb20,bug/1847434," status = self.query_retry(self.gnocchi.status.get) if status: return 'available' else: response = self.query_retry(f=self.gnocchi.metric.list) if not response: LOG.warning(""The {0} resource {1} could not be "" ""found"".format('gnocchi', resource_id)) return return_value = None return return_value"," try: self.query_retry(self.gnocchi.status.get) except Exception: return 'available' try: response = self.query_retry(f=self.gnocchi.metric.list) except Exception: raise exception.ResourceNotFound(name='gnocchi', id=resource_id) return return_value",27,33
openstack%2Fmagnum~stable%2Ftrain~I020940e1495f481c840c691cbe9770d14dc050ec,openstack/magnum,stable/train,I020940e1495f481c840c691cbe9770d14dc050ec,ng-11: API microversion 1.9,MERGED,2019-10-17 15:26:11.000000000,2019-10-18 08:18:59.000000000,2019-10-18 08:15:38.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 27057}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-17 15:26:11.000000000', 'files': ['magnum/api/controllers/versions.py', 'magnum/api/controllers/v1/nodegroup.py', 'magnum/tests/unit/api/controllers/test_root.py', 'magnum/tests/unit/api/controllers/v1/test_nodegroup.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/952700e81ec71a8719e6c84b52ae75021c7e38fe', 'message': 'ng-11: API microversion 1.9\n\nThis change bumps the API microversion from 1.8 to 1.9.\n\n(cherry picked from commit f14c50011a1168a92d29c82a6bc7feaff8d2d3b7)\nChange-Id: I020940e1495f481c840c691cbe9770d14dc050ec\n'}]",0,689202,952700e81ec71a8719e6c84b52ae75021c7e38fe,8,4,1,20498,,,0,"ng-11: API microversion 1.9

This change bumps the API microversion from 1.8 to 1.9.

(cherry picked from commit f14c50011a1168a92d29c82a6bc7feaff8d2d3b7)
Change-Id: I020940e1495f481c840c691cbe9770d14dc050ec
",git fetch https://review.opendev.org/openstack/magnum refs/changes/02/689202/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/api/controllers/versions.py', 'magnum/api/controllers/v1/nodegroup.py', 'magnum/tests/unit/api/controllers/test_root.py', 'magnum/tests/unit/api/controllers/v1/test_nodegroup.py']",4,952700e81ec71a8719e6c84b52ae75021c7e38fe,train-9.1.0,"class NodeGroupControllerTest(api_base.FunctionalTest): headers = {""Openstack-Api-Version"": ""container-infra latest""} def _add_headers(self, kwargs): if 'headers' not in kwargs: kwargs['headers'] = self.headers def get_json(self, *args, **kwargs): self._add_headers(kwargs) return super(NodeGroupControllerTest, self).get_json(*args, **kwargs) def post_json(self, *args, **kwargs): self._add_headers(kwargs) return super(NodeGroupControllerTest, self).post_json(*args, **kwargs) def delete(self, *args, **kwargs): self._add_headers(kwargs) return super(NodeGroupControllerTest, self).delete(*args, **kwargs) def patch_json(self, *args, **kwargs): self._add_headers(kwargs) return super(NodeGroupControllerTest, self).patch_json(*args, **kwargs) class TestListNodegroups(NodeGroupControllerTest): def test_get_one_wrong_microversion(self): headers = {""Openstack-Api-Version"": ""container-infra 1.8""} worker = self.cluster.default_ng_worker url = '/clusters/%s/nodegroups/%s' % (self.cluster.uuid, worker.uuid) response = self.get_json(url, headers=headers, expect_errors=True) self.assertEqual(406, response.status_code) def test_get_all_wrong_microversion(self): headers = {""Openstack-Api-Version"": ""container-infra 1.8""} url = '/clusters/%s/nodegroups/' % (self.cluster.uuid) response = self.get_json(url, headers=headers, expect_errors=True) self.assertEqual(406, response.status_code) class TestPost(NodeGroupControllerTest): @mock.patch('oslo_utils.timeutils.utcnow') def test_create_ng_wrong_microversion(self, mock_utcnow): headers = {""Openstack-Api-Version"": ""container-infra 1.8""} ng_dict = apiutils.nodegroup_post_data(name=""new_ng"") response = self.post_json(self.url, ng_dict, headers=headers, expect_errors=True) self.assertEqual('application/json', response.content_type) self.assertEqual(406, response.status_int) class TestDelete(NodeGroupControllerTest): def test_delete_wrong_microversion(self): headers = {""Openstack-Api-Version"": ""container-infra 1.8""} response = self.delete(self.url + self.nodegroup.uuid, headers=headers, expect_errors=True) self.assertEqual(406, response.status_int) class TestPatch(NodeGroupControllerTest): def test_replace_wrong_microversion(self): headers = {""Openstack-Api-Version"": ""container-infra 1.8""} response = self.patch_json(self.url + self.nodegroup.name, [{'path': '/max_node_count', 'value': 4, 'op': 'replace'}], headers=headers, expect_errors=True) self.assertEqual(406, response.status_code) class TestNodeGroupPolicyEnforcement(NodeGroupControllerTest):",class TestListNodegroups(api_base.FunctionalTest): class TestPost(api_base.FunctionalTest): class TestDelete(api_base.FunctionalTest): class TestPatch(api_base.FunctionalTest): class TestNodeGroupPolicyEnforcement(api_base.FunctionalTest):,74,7
openstack%2Fmagnum~stable%2Ftrain~Ie0799373fe492c2e0a0cad903ed6e8c93e6266b5,openstack/magnum,stable/train,Ie0799373fe492c2e0a0cad903ed6e8c93e6266b5,ng-10: Fix cluster template conditions,MERGED,2019-10-17 15:26:11.000000000,2019-10-18 08:17:31.000000000,2019-10-18 08:15:37.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 27057}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-17 15:26:11.000000000', 'files': ['magnum/drivers/heat/template_def.py', 'magnum/drivers/swarm_fedora_atomic_v1/templates/cluster.yaml', 'magnum/tests/unit/conductor/handlers/test_swarm_cluster_conductor.py', 'magnum/drivers/k8s_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/swarm_fedora_atomic_v2/templates/swarmcluster.yaml', 'magnum/drivers/mesos_ubuntu_v1/templates/mesoscluster.yaml', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_ironic_v1/templates/kubecluster.yaml', 'magnum/tests/unit/conductor/handlers/test_mesos_cluster_conductor.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/25dd88c9b1675d51477a52209f81c94b40f10531', 'message': 'ng-10: Fix cluster template conditions\n\nRemoves the role heat param from all templates. Instead and only for\nk8s templates adds the master_role and worker_role params. The new\nworker_only condition should be true for all roles except for master.\nFinally, adds the missing is_cluster_stack param to all templates.\n\n(cherry picked from commit 44631afbbfa662ecd9b37c30e450f191d2178978)\nChange-Id: Ie0799373fe492c2e0a0cad903ed6e8c93e6266b5\n'}]",0,689201,25dd88c9b1675d51477a52209f81c94b40f10531,8,4,1,20498,,,0,"ng-10: Fix cluster template conditions

Removes the role heat param from all templates. Instead and only for
k8s templates adds the master_role and worker_role params. The new
worker_only condition should be true for all roles except for master.
Finally, adds the missing is_cluster_stack param to all templates.

(cherry picked from commit 44631afbbfa662ecd9b37c30e450f191d2178978)
Change-Id: Ie0799373fe492c2e0a0cad903ed6e8c93e6266b5
",git fetch https://review.opendev.org/openstack/magnum refs/changes/01/689201/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/heat/template_def.py', 'magnum/drivers/swarm_fedora_atomic_v1/templates/cluster.yaml', 'magnum/tests/unit/conductor/handlers/test_swarm_cluster_conductor.py', 'magnum/drivers/k8s_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/swarm_fedora_atomic_v2/templates/swarmcluster.yaml', 'magnum/drivers/mesos_ubuntu_v1/templates/mesoscluster.yaml', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/heat/k8s_template_def.py', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_ironic_v1/templates/kubecluster.yaml', 'magnum/tests/unit/conductor/handlers/test_mesos_cluster_conductor.py']",12,25dd88c9b1675d51477a52209f81c94b40f10531,train-9.1.0,, 'role': 'master' 'role': 'master' 'role': 'master' 'role': 'master' 'role': 'master',110,57
openstack%2Fansible-role-systemd_mount~master~Ia9fba86a15acdc050e9014e4d2c44324d8eae692,openstack/ansible-role-systemd_mount,master,Ia9fba86a15acdc050e9014e4d2c44324d8eae692,PDF Documentation Build tox target,MERGED,2019-10-17 15:01:18.000000000,2019-10-18 08:17:14.000000000,2019-10-18 08:15:34.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-10-17 15:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/725993037a3564590a420003fc1fb04bf71eb727', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: Ia9fba86a15acdc050e9014e4d2c44324d8eae692\nStory: 2006105\n'}, {'number': 2, 'created': '2019-10-17 15:36:56.000000000', 'files': ['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_mount/commit/6acf8cb6589ce3e04511c3e8d2484d118c12e8f0', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nChange-Id: Ia9fba86a15acdc050e9014e4d2c44324d8eae692\nStory: 2006105\n'}]",0,689193,6acf8cb6589ce3e04511c3e8d2484d118c12e8f0,10,3,2,28619,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Change-Id: Ia9fba86a15acdc050e9014e4d2c44324d8eae692
Story: 2006105
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_mount refs/changes/93/689193/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_static/.gitkeep', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,725993037a3564590a420003fc1fb04bf71eb727,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,commands=,25,5
openstack%2Fmagnum~stable%2Ftrain~Iffcaa68d385b1b829b577ebce2df465073dfb5a1,openstack/magnum,stable/train,Iffcaa68d385b1b829b577ebce2df465073dfb5a1,Support Fedora CoreOS 30,MERGED,2019-10-17 15:26:11.000000000,2019-10-18 08:14:02.000000000,2019-10-18 08:10:33.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-17 15:26:11.000000000', 'files': ['magnum/drivers/k8s_fedora_coreos_v1/templates/user_data.json', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/flannel-service.sh', 'magnum/drivers/k8s_fedora_atomic_v1/driver.py', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/version.py', 'magnum/drivers/k8s_fedora_coreos_v1/templates/COPYING', 'magnum/drivers/k8s_fedora_coreos_v1/template_def.py', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/heat/driver.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/k8s_fedora_coreos_v1/__init__.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'releasenotes/notes/fedora_coreos-e66b44d86dea380f.yaml', 'setup.cfg', 'magnum/drivers/k8s_fedora_coreos_v1/driver.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/0341f9215ab676c888f06f3f433fc593619bc772', 'message': 'Support Fedora CoreOS 30\n\nAdd fedora coreos driver. To deploy clusters with fedora coreos operators\nor users need to add os_distro=fedora-coreos to the image. The scripts\nto deploy kubernetes on top are the same with fedora atomic. Note that\nthis driver has selinux enabled.\n\nThe startup of the heat-container-agent uses a workaround to copy the\nSoftwareDeployment credentials to /var/lib/cloud/data/cfn-init-data.\nThe fedora coreos driver requires heat train to support ignition.\n\nTask: 29968\nStory: 2005201\n\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n\n(cherry picked from commit 73dc57c319b815badba177c0ab06a4ddc69b4e01)\nChange-Id: Iffcaa68d385b1b829b577ebce2df465073dfb5a1\n'}]",0,689200,0341f9215ab676c888f06f3f433fc593619bc772,8,3,1,20498,,,0,"Support Fedora CoreOS 30

Add fedora coreos driver. To deploy clusters with fedora coreos operators
or users need to add os_distro=fedora-coreos to the image. The scripts
to deploy kubernetes on top are the same with fedora atomic. Note that
this driver has selinux enabled.

The startup of the heat-container-agent uses a workaround to copy the
SoftwareDeployment credentials to /var/lib/cloud/data/cfn-init-data.
The fedora coreos driver requires heat train to support ignition.

Task: 29968
Story: 2005201

Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>

(cherry picked from commit 73dc57c319b815badba177c0ab06a4ddc69b4e01)
Change-Id: Iffcaa68d385b1b829b577ebce2df465073dfb5a1
",git fetch https://review.opendev.org/openstack/magnum refs/changes/00/689200/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_coreos_v1/templates/user_data.json', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubeminion.yaml', 'magnum/drivers/common/templates/kubernetes/fragments/flannel-service.sh', 'magnum/drivers/k8s_fedora_atomic_v1/driver.py', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubecluster.yaml', 'magnum/drivers/k8s_fedora_coreos_v1/version.py', 'magnum/drivers/k8s_fedora_coreos_v1/templates/COPYING', 'magnum/drivers/k8s_fedora_coreos_v1/template_def.py', 'magnum/drivers/k8s_fedora_coreos_v1/templates/kubemaster.yaml', 'magnum/drivers/heat/driver.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-minion.sh', 'magnum/drivers/k8s_fedora_coreos_v1/__init__.py', 'magnum/drivers/common/templates/kubernetes/fragments/configure-kubernetes-master.sh', 'releasenotes/notes/fedora_coreos-e66b44d86dea380f.yaml', 'setup.cfg', 'magnum/drivers/k8s_fedora_coreos_v1/driver.py']",16,0341f9215ab676c888f06f3f433fc593619bc772,train-9.1.0,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_log import log as logging from magnum.drivers.heat import driver from magnum.drivers.k8s_fedora_coreos_v1 import template_def LOG = logging.getLogger(__name__) class Driver(driver.FedoraKubernetesDriver): @property def provides(self): return [ {'server_type': 'vm', 'os': 'fedora-coreos', 'coe': 'kubernetes'}, ] def get_template_definition(self): return template_def.FCOSK8sTemplateDefinition() ",,3155,80
openstack%2Fopenstack-ansible-lxc_container_create~master~I9e9f0529c01b56f7dc4410910e6ac030f1ad14e7,openstack/openstack-ansible-lxc_container_create,master,I9e9f0529c01b56f7dc4410910e6ac030f1ad14e7,Remove openSUSE 15 jobs,MERGED,2019-10-16 19:20:24.000000000,2019-10-18 08:13:49.000000000,2019-10-18 08:11:11.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-16 19:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/2485f134f630c5805aa852377f8810b334faa4aa', 'message': 'Switch to opensuse-15 nodeset\n\nopensuse-150 nodeset is referring to openSUSE 15.0, which is still in\nmaintenance but openSUSE 15.1 has been released already. ""opensuse-15""\nis going to refer to the ""latest openSUSE 15.x"" build released and\nworking for OpenStack going forward, so add this nodeset and use\nit by default going forward.\n\nChange-Id: I9e9f0529c01b56f7dc4410910e6ac030f1ad14e7\n'}, {'number': 2, 'created': '2019-10-18 06:48:21.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/b4c42815129d1788263cd89009977ff8e0710e6b', 'message': ""Remove openSUSE 15 jobs\n\nopenSUSE does not support lxc, remove all jobs.\nThere's no value testing a use case that will not work.\n\nChange-Id: I9e9f0529c01b56f7dc4410910e6ac030f1ad14e7\n""}]",0,689011,b4c42815129d1788263cd89009977ff8e0710e6b,12,4,2,6547,,,0,"Remove openSUSE 15 jobs

openSUSE does not support lxc, remove all jobs.
There's no value testing a use case that will not work.

Change-Id: I9e9f0529c01b56f7dc4410910e6ac030f1ad14e7
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/11/689011/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,2485f134f630c5805aa852377f8810b334faa4aa,opensuse-150, name: openstack-ansible-dir-opensuse-15 nodeset: opensuse-15 name: openstack-ansible-btrfs-opensuse-15 nodeset: opensuse-15 name: openstack-ansible-machinectl-opensuse-15 nodeset: opensuse-15 name: openstack-ansible-overlayfs-opensuse-15 nodeset: opensuse-15, name: openstack-ansible-dir-opensuse-150 nodeset: opensuse-150 name: openstack-ansible-btrfs-opensuse-150 nodeset: opensuse-150 name: openstack-ansible-machinectl-opensuse-150 nodeset: opensuse-150 name: openstack-ansible-overlayfs-opensuse-150 nodeset: opensuse-150,12,12
openstack%2Fmagnum~stable%2Ftrain~I69a31d2b91fed48f07f649fa876e208e268fb339,openstack/magnum,stable/train,I69a31d2b91fed48f07f649fa876e208e268fb339,Fixing typos and spelling errors in driver template files,MERGED,2019-10-17 15:26:11.000000000,2019-10-18 08:12:33.000000000,2019-10-18 08:10:27.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-17 15:26:11.000000000', 'files': ['magnum/drivers/k8s_coreos_v1/template_def.py', 'magnum/drivers/swarm_fedora_atomic_v1/templates/swarmmaster.yaml', 'magnum/drivers/swarm_fedora_atomic_v2/templates/swarmmaster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/f15ee976c9f227705b20c01c6db97b6d89985c4b', 'message': ""Fixing typos and spelling errors in driver template files\n\n* Changing the reference to 'Atomic' in the k8s_coreos_v1 driver\n  to 'Container Linux'\n* Changing a misspelled 'mater' to 'master'\n  in swarm_fedora_atomic_v1/templates/swarmmaster.yaml description\n* Changing a misspelled 'mater' to 'master' in\n  swarm_fedora_atomic_v1/templates/swarmmaster.yaml description\n\n(cherry picked from commit 7dc4c7d904bbf1ea147b4c21ff1d4b29618ddadf)\nChange-Id: I69a31d2b91fed48f07f649fa876e208e268fb339\n""}]",0,689197,f15ee976c9f227705b20c01c6db97b6d89985c4b,8,3,1,20498,,,0,"Fixing typos and spelling errors in driver template files

* Changing the reference to 'Atomic' in the k8s_coreos_v1 driver
  to 'Container Linux'
* Changing a misspelled 'mater' to 'master'
  in swarm_fedora_atomic_v1/templates/swarmmaster.yaml description
* Changing a misspelled 'mater' to 'master' in
  swarm_fedora_atomic_v1/templates/swarmmaster.yaml description

(cherry picked from commit 7dc4c7d904bbf1ea147b4c21ff1d4b29618ddadf)
Change-Id: I69a31d2b91fed48f07f649fa876e208e268fb339
",git fetch https://review.opendev.org/openstack/magnum refs/changes/97/689197/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_coreos_v1/template_def.py', 'magnum/drivers/swarm_fedora_atomic_v1/templates/swarmmaster.yaml', 'magnum/drivers/swarm_fedora_atomic_v2/templates/swarmmaster.yaml']",3,f15ee976c9f227705b20c01c6db97b6d89985c4b,train-9.1.0, This is a nested stack that defines swarm master node. A swarm master node is, This is a nested stack that defines swarm master node. A swarm mater node is,3,3
openstack%2Fmagnum~stable%2Ftrain~Idda0267c5396f0406c5d71bfd97bcfb9905e8bb7,openstack/magnum,stable/train,Idda0267c5396f0406c5d71bfd97bcfb9905e8bb7,update api-ref for clustertemplate,MERGED,2019-10-17 15:26:11.000000000,2019-10-18 08:10:32.000000000,2019-10-18 08:10:32.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 30814}]","[{'number': 1, 'created': '2019-10-17 15:26:11.000000000', 'files': ['api-ref/source/parameters.yaml', 'api-ref/source/clustertemplates.inc'], 'web_link': 'https://opendev.org/openstack/magnum/commit/d4766aa8833c571899c98fdc7e5d28bac1158ea9', 'message': ""update api-ref for clustertemplate\n\nadd param 'hidden' in clustertemplate api-ref,and add param 'floating_ip_enabled' in create clustertemplate request\n\n(cherry picked from commit 25496654b14d30113fd68ec74422498fc5eb08c6)\nChange-Id: Idda0267c5396f0406c5d71bfd97bcfb9905e8bb7\n""}]",0,689199,d4766aa8833c571899c98fdc7e5d28bac1158ea9,7,4,1,20498,,,0,"update api-ref for clustertemplate

add param 'hidden' in clustertemplate api-ref,and add param 'floating_ip_enabled' in create clustertemplate request

(cherry picked from commit 25496654b14d30113fd68ec74422498fc5eb08c6)
Change-Id: Idda0267c5396f0406c5d71bfd97bcfb9905e8bb7
",git fetch https://review.opendev.org/openstack/magnum refs/changes/99/689199/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'api-ref/source/clustertemplates.inc']",2,d4766aa8833c571899c98fdc7e5d28bac1158ea9,train-9.1.0, - floating_ip_enabled: floating_ip_enabled - hidden: hidden - hidden: hidden - hidden: hidden - hidden: hidden - hidden: hidden,,13,0
openstack%2Fmagnum~stable%2Ftrain~Ie70bc00f5617ef94c39c9faea7d39617ee01b07b,openstack/magnum,stable/train,Ie70bc00f5617ef94c39c9faea7d39617ee01b07b,Convert fixed_subnet name to uuid for OCCM,MERGED,2019-10-17 15:26:11.000000000,2019-10-18 08:10:28.000000000,2019-10-18 08:10:27.000000000,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-17 15:26:11.000000000', 'files': ['magnum/drivers/heat/k8s_template_def.py', 'magnum/common/neutron.py', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/tests/unit/common/test_neutron.py', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/common/exception.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/58ae69d81c4ccef25bb4521873c9dd942b537424', 'message': 'Convert fixed_subnet name to uuid for OCCM\n\nSince OpenStack Cloud Controller Manager only accepts fixed_subnet uuid,\nconvert fixed_subnet name to uuid when a cluster is created.\n\nWithout this patch, there is a chance OCCM fails to start in come cases\nwhen fixed_subnet is rendered as name.\n\nStory: 2002652\nTask: 28816\n\n(cherry picked from commit 97dbd49d8207fdac49605fe138e4c68dfb9eb0d1)\nChange-Id: Ie70bc00f5617ef94c39c9faea7d39617ee01b07b\n'}]",0,689198,58ae69d81c4ccef25bb4521873c9dd942b537424,7,3,1,20498,,,0,"Convert fixed_subnet name to uuid for OCCM

Since OpenStack Cloud Controller Manager only accepts fixed_subnet uuid,
convert fixed_subnet name to uuid when a cluster is created.

Without this patch, there is a chance OCCM fails to start in come cases
when fixed_subnet is rendered as name.

Story: 2002652
Task: 28816

(cherry picked from commit 97dbd49d8207fdac49605fe138e4c68dfb9eb0d1)
Change-Id: Ie70bc00f5617ef94c39c9faea7d39617ee01b07b
",git fetch https://review.opendev.org/openstack/magnum refs/changes/98/689198/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/heat/k8s_template_def.py', 'magnum/common/neutron.py', 'magnum/tests/unit/drivers/test_template_definition.py', 'magnum/tests/unit/common/test_neutron.py', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/common/exception.py']",6,58ae69d81c4ccef25bb4521873c9dd942b537424,train-9.1.0,"class FixedSubnetNotFound(ResourceNotFound): """"""The code here changed to 400 according to the latest document."""""" message = _(""Unable to find fixed subnet %(subnet)s."") code = 400 ",,142,12
openstack%2Fmasakari-monitors~master~Ic8af42db2864c00b05fdd16f0186721e2a745a76,openstack/masakari-monitors,master,Ic8af42db2864c00b05fdd16f0186721e2a745a76,Add Wiki and Source links to readme,NEW,2019-10-18 07:46:30.000000000,2019-10-18 07:56:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-18 07:46:30.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/983303f195fac85a8dc02bc40a24d02d8aad6a5d', 'message': 'Add Wiki and Source links to readme\n\nChange-Id: Ic8af42db2864c00b05fdd16f0186721e2a745a76\n'}]",0,689329,983303f195fac85a8dc02bc40a24d02d8aad6a5d,2,1,1,30077,,,0,"Add Wiki and Source links to readme

Change-Id: Ic8af42db2864c00b05fdd16f0186721e2a745a76
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/29/689329/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,983303f195fac85a8dc02bc40a24d02d8aad6a5d,,* Wiki: Wiki: https://wiki.openstack.org/wiki/masakari-monitors,,1,1
openstack%2Fmasakari~master~I0d257a2c61bd6fcbf1170d05f9deeafce011ddf8,openstack/masakari,master,I0d257a2c61bd6fcbf1170d05f9deeafce011ddf8,Add Wiki and Source links to readme,NEW,2019-10-18 07:41:53.000000000,2019-10-18 07:50:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-18 07:41:53.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/masakari/commit/f9e15a6e5ce22808bb8b71b00998b21921b1b3e9', 'message': 'Add Wiki and Source links to readme\n\nChange-Id: I0d257a2c61bd6fcbf1170d05f9deeafce011ddf8\n'}]",0,689328,f9e15a6e5ce22808bb8b71b00998b21921b1b3e9,2,1,1,30077,,,0,"Add Wiki and Source links to readme

Change-Id: I0d257a2c61bd6fcbf1170d05f9deeafce011ddf8
",git fetch https://review.opendev.org/openstack/masakari refs/changes/28/689328/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,f9e15a6e5ce22808bb8b71b00998b21921b1b3e9,,* Wiki: https://wiki.openstack.org/wiki/masakari,,1,0
openstack%2Fironic-python-agent-builder~master~I001aa9c116bfd78afd70a489a69c53c60f6a265b,openstack/ironic-python-agent-builder,master,I001aa9c116bfd78afd70a489a69c53c60f6a265b,Allow extra python pakgs into tinyipa,MERGED,2019-09-03 09:45:08.000000000,2019-10-18 07:46:45.000000000,2019-10-18 07:45:43.000000000,"[{'_account_id': 8125}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-09-03 09:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/848be87b0b499a6739fd82f47efaaad09c8624b9', 'message': ""Allow extra python pakgs into tinyipa\n\nAllow the user to specify additional python packages via the\nPYTHON_EXTRA_SOURCES_DIR_LIST env variable.  The list of packages\nneeds to be a comma separated list of directories of local checkouts.\n\nThis allows additional optional packages, such as 'hardware', to be added\ninto a tinyipa build, even though they aren't specified in a\nrequirements.txt file elsewhere.\n\nChange-Id: I001aa9c116bfd78afd70a489a69c53c60f6a265b\n""}, {'number': 2, 'created': '2019-09-04 23:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/5d273df2271f92a0348005ae10778f480659b7b9', 'message': ""Allow extra python pakgs into tinyipa\n\nAllow the user to specify additional python packages via the\nPYTHON_EXTRA_SOURCES_DIR_LIST env variable.  The list of packages\nneeds to be a comma separated list of directories of local checkouts.\n\nThis allows additional optional packages, such as 'hardware', to be added\ninto a tinyipa build, even though they aren't specified in a\nrequirements.txt file elsewhere.\n\nAlso turn off python package optimisation if 'hardware' is included, due\nto one of its dependencies.\n\nChange-Id: I001aa9c116bfd78afd70a489a69c53c60f6a265b\n""}, {'number': 3, 'created': '2019-10-13 22:42:26.000000000', 'files': ['tinyipa/finalise-tinyipa.sh', 'tinyipa/build-tinyipa.sh'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/c51b43806a497449681bbe151d7c02f266a5e070', 'message': ""Allow extra python pakgs into tinyipa\n\nAllow the user to specify additional python packages via the\nPYTHON_EXTRA_SOURCES_DIR_LIST env variable.  The list of packages\nneeds to be a comma separated list of directories of local checkouts.\n\nThis allows additional optional packages, such as 'hardware', to be added\ninto a tinyipa build, even though they aren't specified in a\nrequirements.txt file elsewhere.\n\nAlso turn off python package optimisation if 'hardware' is included, due\nto one of its dependencies.\n\nChange-Id: I001aa9c116bfd78afd70a489a69c53c60f6a265b\n""}]",14,679735,c51b43806a497449681bbe151d7c02f266a5e070,32,5,3,8125,,,0,"Allow extra python pakgs into tinyipa

Allow the user to specify additional python packages via the
PYTHON_EXTRA_SOURCES_DIR_LIST env variable.  The list of packages
needs to be a comma separated list of directories of local checkouts.

This allows additional optional packages, such as 'hardware', to be added
into a tinyipa build, even though they aren't specified in a
requirements.txt file elsewhere.

Also turn off python package optimisation if 'hardware' is included, due
to one of its dependencies.

Change-Id: I001aa9c116bfd78afd70a489a69c53c60f6a265b
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/35/679735/1 && git format-patch -1 --stdout FETCH_HEAD,"['tinyipa/finalise-tinyipa.sh', 'tinyipa/build-tinyipa.sh']",2,848be87b0b499a6739fd82f47efaaad09c8624b9,allow-extra-python-packages,"# PYTHON_EXTRA_SOURCES_DIR_LIST is a csv separated list of python package dirs to include, e.g. ~/src/hardware PYTHON_EXTRA_SOURCES_DIR_LIST=${PYTHON_EXTRA_SOURCES_DIR_LIST:-} for PKGDIR in $(echo $PYTHON_EXTRA_SOURCES_DIR_LIST | tr "","" "" ""); do PKG=$(basename $PKGDIR) pushd $PKGDIR rm -rf *.egg-info python setup.py sdist --dist-dir ""$BUILDDIR/tmp/localpip"" --quiet if [[ -r requirements.txt ]]; then cp requirements.txt $BUILDDIR/tmp/${PKG}-requirements.txt fi popd done for PKGDIR in $(echo $PYTHON_EXTRA_SOURCES_DIR_LIST | tr "","" "" ""); do PKG=$(basename $PKGDIR) if [[ -r $BUILDDIR/tmp/${PKG}-requirements.txt ]]; then $CHROOT_CMD ${PIP_COMMAND} wheel -c /tmp/upper-constraints.txt --wheel-dir /tmp/wheels -r /tmp/${PKG}-requirements.txt fi $CHROOT_CMD ${PIP_COMMAND} wheel -c /tmp/upper-constraints.txt --no-index --pre --wheel-dir /tmp/wheels --find-links=/tmp/localpip --find-links=/tmp/wheels ${PKG} done ",,39,0
openstack%2Fneutron~master~I3cf3298a5f1d3217f7b3b1fdb345e51007d3cff8,openstack/neutron,master,I3cf3298a5f1d3217f7b3b1fdb345e51007d3cff8,Update list of Neutron lieuetenants,MERGED,2019-10-09 08:25:45.000000000,2019-10-18 07:40:24.000000000,2019-10-18 07:38:18.000000000,"[{'_account_id': 333}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 1561}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 6773}, {'_account_id': 6854}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-10-09 08:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6d85024655e69e87c5da7185c47d93717c63f12', 'message': 'Update list of Neutron lieuetenants\n\nThis patch removes some inactive team members from list of\nliuetenants of various areas in Neutron and some stadium projects\nand sets in their place people who are now actively working on\nthe project.\n\nChange-Id: I3cf3298a5f1d3217f7b3b1fdb345e51007d3cff8\n'}, {'number': 2, 'created': '2019-10-09 08:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/560e2303644af5b8c6d2328e2a3fcadd24fc0316', 'message': 'Update list of Neutron lieuetenants\n\nThis patch removes some inactive team members from list of\nliuetenants of various areas in Neutron and some stadium projects\nand sets in their place people who are now actively working on\nthe project.\n\nChange-Id: I3cf3298a5f1d3217f7b3b1fdb345e51007d3cff8\n'}, {'number': 3, 'created': '2019-10-12 13:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6cf2044bcff0936570c9aeceaff0ac224842fe9e', 'message': 'Update list of Neutron lieuetenants\n\nThis patch removes some inactive team members from list of\nliuetenants of various areas in Neutron and some stadium projects\nand sets in their place people who are now actively working on\nthe project.\n\nChange-Id: I3cf3298a5f1d3217f7b3b1fdb345e51007d3cff8\n'}, {'number': 4, 'created': '2019-10-12 14:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3cfbdea81c2adaa52f4803d7ed9a8563c1112ecf', 'message': 'Update list of Neutron lieuetenants\n\nThis patch removes some inactive team members from list of\nliuetenants of various areas in Neutron and some stadium projects\nand sets in their place people who are now actively working on\nthe project.\n\nChange-Id: I3cf3298a5f1d3217f7b3b1fdb345e51007d3cff8\n'}, {'number': 5, 'created': '2019-10-13 08:40:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3b47fd5f28530abfda72e84a52440a87f5e861a', 'message': 'Update list of Neutron lieuetenants\n\nThis patch removes some inactive team members from list of\nliuetenants of various areas in Neutron and some stadium projects\nand sets in their place people who are now actively working on\nthe project.\n\nChange-Id: I3cf3298a5f1d3217f7b3b1fdb345e51007d3cff8\n'}, {'number': 6, 'created': '2019-10-15 19:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd6f9cf33e59ea56b043af3165508e52c47e2ace', 'message': ""Update list of Neutron lieuetenants\n\nThis patch removes some inactive team members from list of\nliuetenants of various areas in Neutron and some stadium projects\nand sets in their place people who are now actively working on\nthe project.\n\nFor networking-sfc I don't have any info from Cathy who was\nprevious lieutenant if she can handle that role for next cycle\nand I also don't have any response from other members of\nnetworking-sfc-core group so I left this project without\nliuetenant for now.\n\nChange-Id: I3cf3298a5f1d3217f7b3b1fdb345e51007d3cff8\n""}, {'number': 7, 'created': '2019-10-17 07:48:00.000000000', 'files': ['doc/source/contributor/policies/neutron-teams.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/70763c0d1b7c2afbd4a3fe78d11170b20c03c773', 'message': ""Update list of Neutron lieuetenants\n\nThis patch removes some inactive team members from list of\nliuetenants of various areas in Neutron and some stadium projects\nand sets in their place people who are now actively working on\nthe project.\n\nFor networking-sfc I don't have any info from Cathy who was\nprevious lieutenant if she can handle that role for next cycle\nand I also don't have any response from other members of\nnetworking-sfc-core group so I left this project without\nliuetenant for now.\n\nChange-Id: I3cf3298a5f1d3217f7b3b1fdb345e51007d3cff8\n""}]",22,687482,70763c0d1b7c2afbd4a3fe78d11170b20c03c773,58,17,7,11975,,,0,"Update list of Neutron lieuetenants

This patch removes some inactive team members from list of
liuetenants of various areas in Neutron and some stadium projects
and sets in their place people who are now actively working on
the project.

For networking-sfc I don't have any info from Cathy who was
previous lieutenant if she can handle that role for next cycle
and I also don't have any response from other members of
networking-sfc-core group so I left this project without
liuetenant for now.

Change-Id: I3cf3298a5f1d3217f7b3b1fdb345e51007d3cff8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/687482/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/policies/neutron-teams.rst'],1,d6d85024655e69e87c5da7185c47d93717c63f12,update-liuetenants,| Docs | Akihiro Motoki | amotoki || Infra | Rodolfo Alonso Hernandes | ralonsoh || Testing | Rodolfo Alonso Hernandes | ralonsoh |+-------------------------+-----------------------------+-------------------+ | Area | Lieutenant | IRC nick | +=========================+=============================+===================+ | networking-bgpvpn | Mathieu Rohon | matrohon | | networking-bagpipe +-----------------------------+-------------------+ | | Thomas Morin | tmorin | +-------------------------+-----------------------------+-------------------+ | neutron-dynamic-routing | Ryan Tidwell | tidwellr | | +-----------------------------+-------------------+ | | Vikram Choudhary | vikram | +-------------------------+-----------------------------+-------------------+ | neutron-fwaas | Sridar Kandaswamy | SridarK | +-------------------------+-----------------------------+-------------------+ | networking-midonet | Ryu Ishimoto | ryu25 | | +-----------------------------+-------------------+ | | YAMAMOTO Takashi | yamamoto | +-------------------------+-----------------------------+-------------------+ | networking-odl | Lajos Katona | lajoskatona | +-------------------------+-----------------------------+-------------------+ | networking-ovn | Lucas Alvares Gomes Martins | lucasgomes | +-------------------------+-----------------------------+-------------------+ | networking-sfc | Cathy Zhang | cathy | +-------------------------+-----------------------------+-------------------+,| Docs | Boden Russell | boden || Infra | Slawek Kaplonski | slawek || Testing | Hongbin Lu | hongbin |+------------------------+---------------------------+----------------------+ | Area | Lieutenant | IRC nick | +========================+===========================+======================+ | networking-bgpvpn | Mathieu Rohon | matrohon | | networking-bagpipe +---------------------------+----------------------+ | | Thomas Morin | tmorin | +------------------------+---------------------------+----------------------+ | net...-dynamic-routing | Ryan Tidwell | tidwellr | | +---------------------------+----------------------+ | | Vikram Choudhary | vikram | +------------------------+---------------------------+----------------------+ | neutron-fwaas | Sridar Kandaswamy | SridarK | +------------------------+---------------------------+----------------------+ | networking-midonet | Ryu Ishimoto | ryu25 | | +---------------------------+----------------------+ | | YAMAMOTO Takashi | yamamoto | +------------------------+---------------------------+----------------------+ | networking-odl | Isaku Yamahata | yamahata | +------------------------+---------------------------+----------------------+ | networking-ovn | Russell Bryant | russellb | +------------------------+---------------------------+----------------------+ | networking-sfc | Cathy Zhang | cathy | +------------------------+---------------------------+----------------------+,26,26
openstack%2Frequirements~master~I7b3a409a7b76b1d5ee63149143887168d8db24df,openstack/requirements,master,I7b3a409a7b76b1d5ee63149143887168d8db24df,Updated from generate-constraints,MERGED,2019-10-17 06:12:12.000000000,2019-10-18 07:32:20.000000000,2019-10-18 07:31:06.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-17 06:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/356807a51563ca268eaa31f2a7fad3dcd560ba9d', 'message': 'Updated from generate-constraints\n\nChange-Id: I7b3a409a7b76b1d5ee63149143887168d8db24df\n'}, {'number': 2, 'created': '2019-10-17 16:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/124a8176c19885b1577d03982ff825c09769cbc4', 'message': 'Updated from generate-constraints\n\nChange-Id: I7b3a409a7b76b1d5ee63149143887168d8db24df\n'}, {'number': 3, 'created': '2019-10-18 00:04:16.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9f0d9ef478e506334494a906f89bb29ba64f7e59', 'message': 'Updated from generate-constraints\n\ntry holding back networkx\n\nChange-Id: I7b3a409a7b76b1d5ee63149143887168d8db24df\n'}]",0,689079,9f0d9ef478e506334494a906f89bb29ba64f7e59,20,2,3,11131,,,0,"Updated from generate-constraints

try holding back networkx

Change-Id: I7b3a409a7b76b1d5ee63149143887168d8db24df
",git fetch https://review.opendev.org/openstack/requirements refs/changes/79/689079/3 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,356807a51563ca268eaa31f2a7fad3dcd560ba9d,openstack/requirements/constraints/noclob,networkx===2.4;python_version=='3.4' networkx===2.4;python_version=='3.5' networkx===2.4;python_version=='3.6' networkx===2.4;python_version=='3.7'asn1crypto===1.2.0amqp===2.5.2mypy===0.740;python_version=='3.4' mypy===0.740;python_version=='3.5' mypy===0.740;python_version=='3.6' mypy===0.740;python_version=='3.7'boto3===1.9.251Logbook===1.5.3salt===2019.2.1botocore===1.12.251ceilometer===13.0.0virtualenv===16.7.6,networkx===2.3;python_version=='3.4' networkx===2.3;python_version=='3.5' networkx===2.3;python_version=='3.6' networkx===2.3;python_version=='3.7'asn1crypto===1.1.0amqp===2.5.1mypy===0.730;python_version=='3.4' mypy===0.730;python_version=='3.5' mypy===0.730;python_version=='3.6' mypy===0.730;python_version=='3.7'boto3===1.9.250Logbook===1.5.2salt===2019.2.0botocore===1.12.250ceilometer===12.0.0virtualenv===16.7.5,16,16
openstack%2Fkolla-ansible~master~Ibfc02f933ddcc170e9d616d401e294ba0ff5e981,openstack/kolla-ansible,master,Ibfc02f933ddcc170e9d616d401e294ba0ff5e981,Fix OpenSSL template,MERGED,2019-10-17 06:52:46.000000000,2019-10-18 07:15:45.000000000,2019-10-18 07:14:08.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28743}, {'_account_id': 30356}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-17 06:52:46.000000000', 'files': ['ansible/roles/certificates/templates/openssl-kolla.cnf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4443a53b88bc3ad36632447c41d552258f120e4e', 'message': 'Fix OpenSSL template\n\nOpenSSL certificate should default to FQDN if possible.\nUsing IP addresses is not recommended, complicates dual stack\nand limits addressing flexibility.\n\nIPv6 control plane implementation [1] follow-up.\n\n[1] Ia34e6916ea4f99e9522cd2ddde03a0a4776f7e2c\n\nChange-Id: Ibfc02f933ddcc170e9d616d401e294ba0ff5e981\n'}]",0,689086,4443a53b88bc3ad36632447c41d552258f120e4e,12,6,1,30491,,,0,"Fix OpenSSL template

OpenSSL certificate should default to FQDN if possible.
Using IP addresses is not recommended, complicates dual stack
and limits addressing flexibility.

IPv6 control plane implementation [1] follow-up.

[1] Ia34e6916ea4f99e9522cd2ddde03a0a4776f7e2c

Change-Id: Ibfc02f933ddcc170e9d616d401e294ba0ff5e981
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/86/689086/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/certificates/templates/openssl-kolla.cnf.j2'],1,4443a53b88bc3ad36632447c41d552258f120e4e,bp/ipv6-control-plane,{% else %} IP.1 = {{ kolla_external_fqdn }},IP.1 = {{ kolla_external_vip_address }} # NOTE(Xing Zhang): Add IPv6 external VIP address to IP.2 when # ipv6-control-plane is implemented. #IP.2 =,2,4
openstack%2Fkolla-ansible~stable%2Fstein~Iff372025566f37f1c1ce093f39c93e083dec1c8f,openstack/kolla-ansible,stable/stein,Iff372025566f37f1c1ce093f39c93e083dec1c8f,Zun: disable image validation,MERGED,2019-10-06 16:04:32.000000000,2019-10-18 06:45:04.000000000,2019-10-18 06:42:28.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-06 16:04:32.000000000', 'files': ['ansible/roles/zun/templates/zun.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/873e3b49fc4d8887b9f16515ea749363a1eb8fc3', 'message': ""Zun: disable image validation\n\nThere are several reports [1][2] that image validation doesn't\nwork well. Let's disable it in Kolla.\n\n[1] https://bugs.launchpad.net/zun/+bug/1840629\n[2] https://bugs.launchpad.net/zun/+bug/1845650\n\nChange-Id: Iff372025566f37f1c1ce093f39c93e083dec1c8f\n""}]",0,686943,873e3b49fc4d8887b9f16515ea749363a1eb8fc3,11,4,1,11536,,,0,"Zun: disable image validation

There are several reports [1][2] that image validation doesn't
work well. Let's disable it in Kolla.

[1] https://bugs.launchpad.net/zun/+bug/1840629
[2] https://bugs.launchpad.net/zun/+bug/1845650

Change-Id: Iff372025566f37f1c1ce093f39c93e083dec1c8f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/43/686943/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/zun/templates/zun.conf.j2'],1,873e3b49fc4d8887b9f16515ea749363a1eb8fc3,,enable_image_validation = false,,1,0
openstack%2Fproject-config~master~I7bf7fe29cc1a328451d58dee8d14948dac2c14c6,openstack/project-config,master,I7bf7fe29cc1a328451d58dee8d14948dac2c14c6,Normalize projects.yaml,MERGED,2019-10-18 06:12:19.000000000,2019-10-18 06:31:35.000000000,2019-10-18 06:31:34.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-18 06:12:19.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/fe98ca095e33b1902b515fa49c05cd5cdc304117', 'message': 'Normalize projects.yaml\n\nChange-Id: I7bf7fe29cc1a328451d58dee8d14948dac2c14c6\n'}]",0,689318,fe98ca095e33b1902b515fa49c05cd5cdc304117,6,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: I7bf7fe29cc1a328451d58dee8d14948dac2c14c6
",git fetch https://review.opendev.org/openstack/project-config refs/changes/18/689318/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,fe98ca095e33b1902b515fa49c05cd5cdc304117,project-yaml-normalization,, upstream: https://github.com/openstack-charmers/charm-neutron-api-plugin-ovn.git upstream: https://github.com/openstack-charmers/charm-interface-ovsdb.git upstream: https://github.com/openstack-charmers/charm-ovn-central.git upstream: https://github.com/openstack-charmers/charm-ovn-chassis.git upstream: https://github.com/openstack-charmers/charm-ovn-dedicated-chassis.git,0,5
openstack%2Fwatcher~master~Ida31237b77e98c803cb1ccb3bd5b190289434207,openstack/watcher,master,Ida31237b77e98c803cb1ccb3bd5b190289434207,Remove print(),MERGED,2019-10-11 06:59:44.000000000,2019-10-18 06:28:45.000000000,2019-10-14 07:43:25.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-10-11 06:59:44.000000000', 'files': ['watcher/tests/api/base.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/aa36e6a881a273fa9acfc73da5a8f07cb8e4838b', 'message': 'Remove print()\n\nChange-Id: Ida31237b77e98c803cb1ccb3bd5b190289434207\n'}]",0,688044,aa36e6a881a273fa9acfc73da5a8f07cb8e4838b,10,3,1,21692,,,0,"Remove print()

Change-Id: Ida31237b77e98c803cb1ccb3bd5b190289434207
",git fetch https://review.opendev.org/openstack/watcher refs/changes/44/688044/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/tests/api/base.py'],1,aa36e6a881a273fa9acfc73da5a8f07cb8e4838b,remove_print,," print('%s: %s %s' % (method.upper(), full_path, params)) print('GOT:%s' % response) print('DELETE: %s' % (full_path)) print('GOT:%s' % response) print('GET: %s %r' % (full_path, all_params)) print('GOT:%s' % response)",0,6
openstack%2Frequirements~master~Iee0c26f439c0ea117c37a5a1aeb7450da0cc7271,openstack/requirements,master,Iee0c26f439c0ea117c37a5a1aeb7450da0cc7271,Updated from generate-constraints,ABANDONED,2019-10-18 06:18:06.000000000,2019-10-18 06:23:12.000000000,,[],"[{'number': 1, 'created': '2019-10-18 06:18:06.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a88fbedf6325e232166f2193521fd161b08d3703', 'message': 'Updated from generate-constraints\n\nChange-Id: Iee0c26f439c0ea117c37a5a1aeb7450da0cc7271\n'}]",0,689319,a88fbedf6325e232166f2193521fd161b08d3703,2,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: Iee0c26f439c0ea117c37a5a1aeb7450da0cc7271
",git fetch https://review.opendev.org/openstack/requirements refs/changes/19/689319/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a88fbedf6325e232166f2193521fd161b08d3703,openstack/requirements/constraints,ipaddress===1.0.23;python_version=='2.7'networkx===2.4;python_version=='3.4' networkx===2.4;python_version=='3.5' networkx===2.4;python_version=='3.6' networkx===2.4;python_version=='3.7'tripleo-common===11.3.0mypy-extensions===0.4.3;python_version=='3.4' mypy-extensions===0.4.3;python_version=='3.5' mypy-extensions===0.4.3;python_version=='3.6' mypy-extensions===0.4.3;python_version=='3.7'cryptography===2.8amqp===2.5.2mypy===0.740;python_version=='3.4' mypy===0.740;python_version=='3.5' mypy===0.740;python_version=='3.6' mypy===0.740;python_version=='3.7'boto3===1.9.252Logbook===1.5.3numpy===1.17.3;python_version=='3.4' numpy===1.17.3;python_version=='3.5' numpy===1.17.3;python_version=='3.6' numpy===1.17.3;python_version=='3.7'salt===2019.2.1botocore===1.12.252future===0.18.1ceilometer===13.0.0virtualenv===16.7.6,ipaddress===1.0.22;python_version=='2.7'networkx===2.3;python_version=='3.4' networkx===2.3;python_version=='3.5' networkx===2.3;python_version=='3.6' networkx===2.3;python_version=='3.7'tripleo-common===11.2.0mypy-extensions===0.4.2;python_version=='3.4' mypy-extensions===0.4.2;python_version=='3.5' mypy-extensions===0.4.2;python_version=='3.6' mypy-extensions===0.4.2;python_version=='3.7'asn1crypto===1.1.0cryptography===2.7amqp===2.5.1mypy===0.730;python_version=='3.4' mypy===0.730;python_version=='3.5' mypy===0.730;python_version=='3.6' mypy===0.730;python_version=='3.7'boto3===1.9.250Logbook===1.5.2numpy===1.17.2;python_version=='3.4' numpy===1.17.2;python_version=='3.5' numpy===1.17.2;python_version=='3.6' numpy===1.17.2;python_version=='3.7'salt===2019.2.0botocore===1.12.250future===0.18.0ceilometer===12.0.0virtualenv===16.7.5,27,28
openstack%2Fproject-config~master~Id10d4093da162a4496ab0f8aa050d580167bac98,openstack/project-config,master,Id10d4093da162a4496ab0f8aa050d580167bac98,Update neutron stable grafana dashboards,MERGED,2019-10-17 17:54:00.000000000,2019-10-18 05:57:34.000000000,2019-10-18 05:57:34.000000000,"[{'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-17 17:54:00.000000000', 'files': ['grafana/neutron-stable-minusone.yaml', 'grafana/neutron-stable-minustwo.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2f37ec00f386a10224be8a10f3a8fb120c3e596f', 'message': 'Update neutron stable grafana dashboards\n\nUpdated neutron-stable-minusone.yaml and\nneutron-stable-minustwo.yaml now that stable/train exists.\n\nChange-Id: Id10d4093da162a4496ab0f8aa050d580167bac98\n'}]",0,689233,2f37ec00f386a10224be8a10f3a8fb120c3e596f,7,3,1,1131,,,0,"Update neutron stable grafana dashboards

Updated neutron-stable-minusone.yaml and
neutron-stable-minustwo.yaml now that stable/train exists.

Change-Id: Id10d4093da162a4496ab0f8aa050d580167bac98
",git fetch https://review.opendev.org/openstack/project-config refs/changes/33/689233/1 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/neutron-stable-minusone.yaml', 'grafana/neutron-stable-minustwo.yaml']",2,2f37ec00f386a10224be8a10f3a8fb120c3e596f,grafana-move-neutron-minus," **This dashboard is showing statistics for the stable/stein branch.** - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.neutron-tempest-dvr.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.neutron-tempest-dvr.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-dvr') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.neutron-tempest-linuxbridge.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.neutron-tempest-linuxbridge.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-linuxbridge') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.neutron-tempest-iptables_hybrid.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.neutron-tempest-iptables_hybrid.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-iptables_hybrid') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.neutron-tempest-dvr.{SUCCESS,FAILURE}),'24hours'), 'neutron-tempest-dvr') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.neutron-tempest-linuxbridge.{SUCCESS,FAILURE}),'24hours'), 'neutron-tempest-linuxbridge') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.neutron-tempest-iptables_hybrid.{SUCCESS,FAILURE}),'24hours'), 'neutron-tempest-iptables_hybrid') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.neutron-grenade.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.neutron-grenade.{SUCCESS,FAILURE})),'24hours'), 'neutron-grenade') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.neutron-grenade-multinode.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.neutron-grenade-multinode.{SUCCESS,FAILURE})),'24hours'), 'neutron-grenade-multinode') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.neutron-grenade-dvr-multinode.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.neutron-grenade-dvr-multinode.{SUCCESS,FAILURE})),'24hours'), 'neutron-grenade-dvr-multinode') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.neutron-grenade.{SUCCESS,FAILURE}),'24hours'), 'neutron-grenade') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.neutron-grenade-multinode.{SUCCESS,FAILURE}),'24hours'), 'neutron-grenade-multinode') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.neutron-grenade-dvr-multinode.{SUCCESS,FAILURE}),'24hours'), 'neutron-grenade-dvr-multinode') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.neutron-functional.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.neutron-functional.{SUCCESS,FAILURE})),'24hours'), 'neutron-functional') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.neutron-fullstack.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.neutron-fullstack.{SUCCESS,FAILURE})),'24hours'), 'neutron-fullstack') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.neutron-functional.{SUCCESS,FAILURE}),'24hours'), 'neutron-functional') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.neutron-fullstack.{SUCCESS,FAILURE}),'24hours'), 'neutron-fullstack') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-py27.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-py27.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py27') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-py35.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-py35.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py35') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-py27.{SUCCESS,FAILURE}),'24hours'), 'openstack-tox-py27') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-py35.{SUCCESS,FAILURE}),'24hours'), 'openstack-tox-py35') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-cover.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-cover.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-cover') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-cover.{SUCCESS,FAILURE}),'24hours'), 'openstack-tox-cover') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-lower-constraints.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-lower-constraints') - target: alias(summarize(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-lower-constraints.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-lower-constraints') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-tempest-dvr.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-tempest-dvr.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-dvr') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-tempest-linuxbridge.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-tempest-linuxbridge.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-linuxbridge') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-tempest-iptables_hybrid.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-tempest-iptables_hybrid.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-iptables_hybrid') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-tempest-dvr.{SUCCESS,FAILURE}),'24hours'), 'neutron-tempest-dvr') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-tempest-linuxbridge.{SUCCESS,FAILURE}),'24hours'), 'neutron-tempest-linuxbridge') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-tempest-iptables_hybrid.{SUCCESS,FAILURE}),'24hours'), 'neutron-tempest-iptables_hybrid') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-grenade.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-grenade.{SUCCESS,FAILURE})),'24hours'), 'neutron-grenade') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-grenade-multinode.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-grenade-multinode.{SUCCESS,FAILURE})),'24hours'), 'neutron-grenade-multinode') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-grenade-dvr-multinode.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-grenade-dvr-multinode.{SUCCESS,FAILURE})),'24hours'), 'neutron-grenade-dvr-multinode') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-grenade.{SUCCESS,FAILURE}),'24hours'), 'neutron-grenade') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-grenade-multinode.{SUCCESS,FAILURE}),'24hours'), 'neutron-grenade-multinode') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-grenade-dvr-multinode.{SUCCESS,FAILURE}),'24hours'), 'neutron-grenade-dvr-multinode') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-functional.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-functional.{SUCCESS,FAILURE})),'24hours'), 'neutron-functional') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-fullstack.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-fullstack.{SUCCESS,FAILURE})),'24hours'), 'neutron-fullstack') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-fullstack-python35.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-fullstack-python35.{SUCCESS,FAILURE})),'24hours'), 'neutron-fullstack-python35 (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-functional.{SUCCESS,FAILURE}),'24hours'), 'neutron-functional') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-fullstack.{SUCCESS,FAILURE}),'24hours'), 'neutron-fullstack') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.neutron-fullstack-python35.{SUCCESS,FAILURE}),'24hours'), 'neutron-fullstack-python35 (non-voting)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-py27.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-py27.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py27') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-py35.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-py35.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py35') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-py27.{SUCCESS,FAILURE}),'24hours'), 'openstack-tox-py27') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-py35.{SUCCESS,FAILURE}),'24hours'), 'openstack-tox-py35') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-cover.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-cover.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-cover') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-cover.{SUCCESS,FAILURE}),'24hours'), 'openstack-tox-cover') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-lower-constraints.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-lower-constraints') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE}),'24hours'), 'openstack-tox-lower-constraints') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.build-openstack-sphinx-docs.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.build-openstack-sphinx-docs.{SUCCESS,FAILURE})),'24hours'), 'build-openstack-sphinx-docs') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_stein.job.build-openstack-sphinx-docs.{SUCCESS,FAILURE}),'24hours'), 'build-openstack-sphinx-docs') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_stein.job.neutron-tempest-postgres-full.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_stein.job.neutron-tempest-postgres-full.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-postgres-full') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_stein.job.neutron-functional.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_stein.job.neutron-functional.{SUCCESS,FAILURE})),'24hours'), 'neutron-functional') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_stein.job.neutron-tempest-with-ryu-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_stein.job.neutron-tempest-with-ryu-master.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-with-ryu-master')"," **This dashboard is showing statistics for the stable/rocky branch.** - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-tempest-dvr.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-tempest-dvr.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-dvr') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-tempest-linuxbridge.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-tempest-linuxbridge.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-linuxbridge') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-tempest-iptables_hybrid.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-tempest-iptables_hybrid.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-iptables_hybrid') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-tempest-dvr.{SUCCESS,FAILURE}),'24hours'), 'neutron-tempest-dvr') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-tempest-linuxbridge.{SUCCESS,FAILURE}),'24hours'), 'neutron-tempest-linuxbridge') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-tempest-iptables_hybrid.{SUCCESS,FAILURE}),'24hours'), 'neutron-tempest-iptables_hybrid') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-grenade.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-grenade.{SUCCESS,FAILURE})),'24hours'), 'neutron-grenade') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-grenade-multinode.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-grenade-multinode.{SUCCESS,FAILURE})),'24hours'), 'neutron-grenade-multinode') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-grenade-dvr-multinode.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-grenade-dvr-multinode.{SUCCESS,FAILURE})),'24hours'), 'neutron-grenade-dvr-multinode') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-grenade.{SUCCESS,FAILURE}),'24hours'), 'neutron-grenade') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-grenade-multinode.{SUCCESS,FAILURE}),'24hours'), 'neutron-grenade-multinode') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-grenade-dvr-multinode.{SUCCESS,FAILURE}),'24hours'), 'neutron-grenade-dvr-multinode') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-functional.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-functional.{SUCCESS,FAILURE})),'24hours'), 'neutron-functional') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-fullstack.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-fullstack.{SUCCESS,FAILURE})),'24hours'), 'neutron-fullstack') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-functional.{SUCCESS,FAILURE}),'24hours'), 'neutron-functional') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-fullstack.{SUCCESS,FAILURE}),'24hours'), 'neutron-fullstack') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-py27.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-py27.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py27') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-py35.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-py35.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py35') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-py27.{SUCCESS,FAILURE}),'24hours'), 'openstack-tox-py27') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-py35.{SUCCESS,FAILURE}),'24hours'), 'openstack-tox-py35') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-cover.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-cover.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-cover') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-cover.{SUCCESS,FAILURE}),'24hours'), 'openstack-tox-cover') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-lower-constraints.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-lower-constraints') - target: alias(summarize(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-lower-constraints.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.gate.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-lower-constraints') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-tempest-dvr.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-tempest-dvr.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-dvr') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-tempest-linuxbridge.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-tempest-linuxbridge.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-linuxbridge') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-tempest-iptables_hybrid.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-tempest-iptables_hybrid.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-iptables_hybrid') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-tempest-dvr.{SUCCESS,FAILURE}),'24hours'), 'neutron-tempest-dvr') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-tempest-linuxbridge.{SUCCESS,FAILURE}),'24hours'), 'neutron-tempest-linuxbridge') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-tempest-iptables_hybrid.{SUCCESS,FAILURE}),'24hours'), 'neutron-tempest-iptables_hybrid') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-grenade.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-grenade.{SUCCESS,FAILURE})),'24hours'), 'neutron-grenade') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-grenade-multinode.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-grenade-multinode.{SUCCESS,FAILURE})),'24hours'), 'neutron-grenade-multinode') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-grenade-dvr-multinode.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-grenade-dvr-multinode.{SUCCESS,FAILURE})),'24hours'), 'neutron-grenade-dvr-multinode') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-grenade.{SUCCESS,FAILURE}),'24hours'), 'neutron-grenade') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-grenade-multinode.{SUCCESS,FAILURE}),'24hours'), 'neutron-grenade-multinode') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-grenade-dvr-multinode.{SUCCESS,FAILURE}),'24hours'), 'neutron-grenade-dvr-multinode') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-functional.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-functional.{SUCCESS,FAILURE})),'24hours'), 'neutron-functional') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-fullstack.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-fullstack.{SUCCESS,FAILURE})),'24hours'), 'neutron-fullstack') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-fullstack-python35.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-fullstack-python35.{SUCCESS,FAILURE})),'24hours'), 'neutron-fullstack-python35 (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-functional.{SUCCESS,FAILURE}),'24hours'), 'neutron-functional') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-fullstack.{SUCCESS,FAILURE}),'24hours'), 'neutron-fullstack') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-fullstack-python35.{SUCCESS,FAILURE}),'24hours'), 'neutron-fullstack-python35 (non-voting)') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-py27.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-py27.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py27') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-py35.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-py35.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-py35') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-py27.{SUCCESS,FAILURE}),'24hours'), 'openstack-tox-py27') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-py35.{SUCCESS,FAILURE}),'24hours'), 'openstack-tox-py35') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-cover.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-cover.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-cover') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-cover.{SUCCESS,FAILURE}),'24hours'), 'openstack-tox-cover') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-lower-constraints.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE})),'24hours'), 'openstack-tox-lower-constraints') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.openstack-tox-lower-constraints.{SUCCESS,FAILURE}),'24hours'), 'openstack-tox-lower-constraints') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.build-openstack-sphinx-docs.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.build-openstack-sphinx-docs.{SUCCESS,FAILURE})),'24hours'), 'build-openstack-sphinx-docs') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.stable_rocky.job.build-openstack-sphinx-docs.{SUCCESS,FAILURE}),'24hours'), 'build-openstack-sphinx-docs') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-tempest-postgres-full.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-tempest-postgres-full.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-postgres-full') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-functional.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-functional.{SUCCESS,FAILURE})),'24hours'), 'neutron-functional') - target: alias(movingAverage(asPercent(transformNull(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-tempest-with-ryu-master.FAILURE),sum(stats_counts.zuul.tenant.openstack.pipeline.periodic.project.opendev_org.openstack_neutron.stable_rocky.job.neutron-tempest-with-ryu-master.{SUCCESS,FAILURE})),'24hours'), 'neutron-tempest-with-ryu-master')",112,112
openstack%2Ftripleo-common~stable%2Ftrain~I460f5593b66c073a75b713bac848dcd66b639e9c,openstack/tripleo-common,stable/train,I460f5593b66c073a75b713bac848dcd66b639e9c,fix linters,MERGED,2019-10-17 14:13:08.000000000,2019-10-18 05:56:31.000000000,2019-10-18 05:55:26.000000000,"[{'_account_id': 3153}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-17 14:13:08.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d384320b138283531f54989eb27c7808073ffb52', 'message': 'fix linters\n\nPartial-Fix: https://bugs.launchpad.net/tripleo/+bug/1848512\nChange-Id: I460f5593b66c073a75b713bac848dcd66b639e9c\n'}]",0,689170,d384320b138283531f54989eb27c7808073ffb52,10,6,1,24162,,,0,"fix linters

Partial-Fix: https://bugs.launchpad.net/tripleo/+bug/1848512
Change-Id: I460f5593b66c073a75b713bac848dcd66b639e9c
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/70/689170/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tox.ini']",2,d384320b138283531f54989eb27c7808073ffb52,fix/lint-stable/train, CURL_CA_BUNDLE REQUESTS_CA_BUNDLE SSL_CERT_FILEdeps = # workaround for https://github.com/ansible/ansible-lint/issues/590 virtualenv==16.3.0 # 16.7.6 not working pre-commit,deps = pre-commit,10,1
openstack%2Fkolla~master~Ic5dc5fd8ae43997cfc815f2461f709dee30f355e,openstack/kolla,master,Ic5dc5fd8ae43997cfc815f2461f709dee30f355e,Tidy up release notes for Train,MERGED,2019-10-16 16:19:32.000000000,2019-10-18 05:54:28.000000000,2019-10-18 05:53:23.000000000,"[{'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-16 16:19:32.000000000', 'files': ['releasenotes/notes/deprecate-kubernetes-dbabf9f86c15a0ee.yaml', 'releasenotes/notes/masakari-a047b0387a474186.yaml', 'releasenotes/notes/add-hacluster-role-d10bc3918395ccdf.yaml', 'releasenotes/notes/drop-xtrabackup-e58a97b617ff708c.yaml', 'releasenotes/notes/retire-neutron-lbaas-4441ce36928fc375.yaml', 'releasenotes/notes/deprecate-dragonflow-0404a4a1aa5a6644.yaml', 'releasenotes/notes/more-flexible-image-skipping-8e1320ed78976026.yaml', 'releasenotes/notes/remove-tripleo-ui-855da0b4f4c73385.yaml', 'releasenotes/notes/deprecate-almanach-0ca0c9bb8522119a.yaml', 'releasenotes/notes/deprecate-dind-9ed17229d2c3137b.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d39dc8b3ab9cb68d5dca5070e46fdf078b527281', 'message': 'Tidy up release notes for Train\n\nChange-Id: Ic5dc5fd8ae43997cfc815f2461f709dee30f355e\n'}]",0,688968,d39dc8b3ab9cb68d5dca5070e46fdf078b527281,9,5,1,14826,,,0,"Tidy up release notes for Train

Change-Id: Ic5dc5fd8ae43997cfc815f2461f709dee30f355e
",git fetch https://review.opendev.org/openstack/kolla refs/changes/68/688968/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-kubernetes-dbabf9f86c15a0ee.yaml', 'releasenotes/notes/masakari-a047b0387a474186.yaml', 'releasenotes/notes/add-hacluster-role-d10bc3918395ccdf.yaml', 'releasenotes/notes/drop-xtrabackup-e58a97b617ff708c.yaml', 'releasenotes/notes/retire-neutron-lbaas-4441ce36928fc375.yaml', 'releasenotes/notes/deprecate-dragonflow-0404a4a1aa5a6644.yaml', 'releasenotes/notes/more-flexible-image-skipping-8e1320ed78976026.yaml', 'releasenotes/notes/remove-tripleo-ui-855da0b4f4c73385.yaml', 'releasenotes/notes/deprecate-almanach-0ca0c9bb8522119a.yaml', 'releasenotes/notes/deprecate-dind-9ed17229d2c3137b.yaml']",10,d39dc8b3ab9cb68d5dca5070e46fdf078b527281,kolla-train-release," The ``dind`` image is deprecated and will be removed in the Ussuri cycle. It is not used by Kolla downstream projects (Kolla-Ansible, TripleO,"," ``dind`` image is deprecated and will be removed in the Ussuri cycle. It is not used by Kolla downstreams (Kolla-Ansible, TripleO,",23,23
openstack%2Fnova~master~I622a9180d7b53dd35e60e2335fe185da1d6ac019,openstack/nova,master,I622a9180d7b53dd35e60e2335fe185da1d6ac019,Fix up some feedback on image precache support,MERGED,2019-10-11 16:53:46.000000000,2019-10-18 05:08:45.000000000,2019-10-18 05:06:30.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 17499}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29745}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-11 16:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a1f1a6bd4dc347ad7fc32a0737ed1a0635294f2', 'message': 'Fix up some feedback on image precache support\n\nThis addressed a few feedback items from earlier in the stack.\n\nRelated to blueprint image-precache-support\n\nChange-Id: I622a9180d7b53dd35e60e2335fe185da1d6ac019\n'}, {'number': 2, 'created': '2019-10-11 17:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2082d702b9618a04667b2bea7d1e96c682eea94f', 'message': 'Fix up some feedback on image precache support\n\nThis addressed a few feedback items from earlier in the stack.\n\nRelated to blueprint image-precache-support\n\nChange-Id: I622a9180d7b53dd35e60e2335fe185da1d6ac019\n'}, {'number': 3, 'created': '2019-10-16 14:40:43.000000000', 'files': ['nova/conductor/manager.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fee9503ead2ba0348b0a45a1539a13ac9bf62b22', 'message': 'Fix up some feedback on image precache support\n\nThis addressed a few feedback items from earlier in the stack.\n\nRelated to blueprint image-precache-support\n\nChange-Id: I622a9180d7b53dd35e60e2335fe185da1d6ac019\n'}]",0,688172,fee9503ead2ba0348b0a45a1539a13ac9bf62b22,55,16,3,4393,,,0,"Fix up some feedback on image precache support

This addressed a few feedback items from earlier in the stack.

Related to blueprint image-precache-support

Change-Id: I622a9180d7b53dd35e60e2335fe185da1d6ac019
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/688172/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conductor/manager.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,1a1f1a6bd4dc347ad7fc32a0737ed1a0635294f2,bp/image-precache-support," def test_cache_image_uncached_first_time(self): # Test the case where we do need to download the image, # and this is the first time an image cache operation has ever # been performed, so the directory structure has to be created.", def test_cache_image_existing_first_time(self):,7,2
openstack%2Frequirements~stable%2Ftrain~Icfd235850b47b38a3d8348693ce3ab8dfbe54c8c,openstack/requirements,stable/train,Icfd235850b47b38a3d8348693ce3ab8dfbe54c8c,update constraint for tripleo-common to new release 11.3.0,MERGED,2019-10-17 12:03:46.000000000,2019-10-18 05:06:33.000000000,2019-10-18 05:06:33.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-17 12:03:46.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/09d7fe323187645bff016cd64106cdb368def727', 'message': 'update constraint for tripleo-common to new release 11.3.0\n\nChange-Id: Icfd235850b47b38a3d8348693ce3ab8dfbe54c8c\nmeta:version: 11.3.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Emilien Macchi <emilien@redhat.com>\nmeta:release:Commit: Emilien Macchi <emilien@redhat.com>\nmeta:release:Change-Id: Ifee25a01b6296c542feebe6d611ec057729f8fbb\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,689140,09d7fe323187645bff016cd64106cdb368def727,7,2,1,11131,,,0,"update constraint for tripleo-common to new release 11.3.0

Change-Id: Icfd235850b47b38a3d8348693ce3ab8dfbe54c8c
meta:version: 11.3.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Emilien Macchi <emilien@redhat.com>
meta:release:Commit: Emilien Macchi <emilien@redhat.com>
meta:release:Change-Id: Ifee25a01b6296c542feebe6d611ec057729f8fbb
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/40/689140/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,09d7fe323187645bff016cd64106cdb368def727,new-release,tripleo-common===11.3.0,tripleo-common===11.2.0,1,1
openstack%2Fnova~master~I4ab96095106b38737ed355fcad07e758f8b5a9b0,openstack/nova,master,I4ab96095106b38737ed355fcad07e758f8b5a9b0,Add image caching API for aggregates,MERGED,2019-10-07 19:07:17.000000000,2019-10-18 04:43:38.000000000,2019-10-18 04:41:36.000000000,"[{'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-07 19:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/573468cbd9d49c40d07cdcf27aee14ab0e6f9224', 'message': 'WIP: Add image caching API for aggregates\n\nChange-Id: I4ab96095106b38737ed355fcad07e758f8b5a9b0\n'}, {'number': 2, 'created': '2019-10-07 20:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d678bc145bca726628284dae53995408ffa6f39b', 'message': 'WIP: Add image caching API for aggregates\n\nChange-Id: I4ab96095106b38737ed355fcad07e758f8b5a9b0\n'}, {'number': 3, 'created': '2019-10-08 15:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/505d506f445d23bff72064c99dddcb8a57603a88', 'message': 'Add image caching API for aggregates\n\nThis adds a new microversion and support for requesting image pre-caching\non an aggregate.\n\nRelated to blueprint image-precache-support\n\nChange-Id: I4ab96095106b38737ed355fcad07e758f8b5a9b0\n'}, {'number': 4, 'created': '2019-10-08 16:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/082a55f6ac39e971184205510f1a108a7b71d176', 'message': 'Add image caching API for aggregates\n\nThis adds a new microversion and support for requesting image pre-caching\non an aggregate.\n\nRelated to blueprint image-precache-support\n\nChange-Id: I4ab96095106b38737ed355fcad07e758f8b5a9b0\n'}, {'number': 5, 'created': '2019-10-08 17:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7651a5484ce898343bd919e2f518b0fa23cc3b10', 'message': 'Add image caching API for aggregates\n\nThis adds a new microversion and support for requesting image pre-caching\non an aggregate.\n\nRelated to blueprint image-precache-support\n\nChange-Id: I4ab96095106b38737ed355fcad07e758f8b5a9b0\n'}, {'number': 6, 'created': '2019-10-10 14:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2ef99db05f225e46834ce4a84575dba9daebf02', 'message': 'Add image caching API for aggregates\n\nThis adds a new microversion and support for requesting image pre-caching\non an aggregate.\n\nRelated to blueprint image-precache-support\n\nChange-Id: I4ab96095106b38737ed355fcad07e758f8b5a9b0\n'}, {'number': 7, 'created': '2019-10-10 15:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd3137f9bc08215554665950b7713f8796499d27', 'message': 'Add image caching API for aggregates\n\nThis adds a new microversion and support for requesting image pre-caching\non an aggregate.\n\nRelated to blueprint image-precache-support\n\nChange-Id: I4ab96095106b38737ed355fcad07e758f8b5a9b0\n'}, {'number': 8, 'created': '2019-10-10 15:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5ce2a5ea811d793e166701fb756116e0b80dd86', 'message': 'Add image caching API for aggregates\n\nThis adds a new microversion and support for requesting image pre-caching\non an aggregate.\n\nRelated to blueprint image-precache-support\n\nChange-Id: I4ab96095106b38737ed355fcad07e758f8b5a9b0\n'}, {'number': 9, 'created': '2019-10-10 18:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e17c301c33179ab0ded4e1c675460c794c85fa49', 'message': 'Add image caching API for aggregates\n\nThis adds a new microversion and support for requesting image pre-caching\non an aggregate.\n\nRelated to blueprint image-precache-support\n\nChange-Id: I4ab96095106b38737ed355fcad07e758f8b5a9b0\n'}, {'number': 10, 'created': '2019-10-11 14:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4219498918d5d3667fe5933cb5bf7a66fa58b3ce', 'message': 'Add image caching API for aggregates\n\nThis adds a new microversion and support for requesting image pre-caching\non an aggregate.\n\nRelated to blueprint image-precache-support\n\nChange-Id: I4ab96095106b38737ed355fcad07e758f8b5a9b0\n'}, {'number': 11, 'created': '2019-10-11 17:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf3d7699cde87050965b56afb727d806efef923c', 'message': 'Add image caching API for aggregates\n\nThis adds a new microversion and support for requesting image pre-caching\non an aggregate.\n\nRelated to blueprint image-precache-support\n\nChange-Id: I4ab96095106b38737ed355fcad07e758f8b5a9b0\n'}, {'number': 12, 'created': '2019-10-14 15:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2eebb7f31ee74db3265d9fc1d86b7016cf1c383f', 'message': 'Add image caching API for aggregates\n\nThis adds a new microversion and support for requesting image pre-caching\non an aggregate.\n\nRelated to blueprint image-precache-support\n\nChange-Id: I4ab96095106b38737ed355fcad07e758f8b5a9b0\n'}, {'number': 13, 'created': '2019-10-14 16:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5579e64fb1fd6d11f691fdf614166aa37736b5fa', 'message': 'Add image caching API for aggregates\n\nThis adds a new microversion and support for requesting image pre-caching\non an aggregate.\n\nRelated to blueprint image-precache-support\n\nChange-Id: I4ab96095106b38737ed355fcad07e758f8b5a9b0\n'}, {'number': 14, 'created': '2019-10-14 18:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2ae86fef8afa7bd0b41ed6f3a327e327be40a15', 'message': 'Add image caching API for aggregates\n\nThis adds a new microversion and support for requesting image pre-caching\non an aggregate.\n\nRelated to blueprint image-precache-support\n\nChange-Id: I4ab96095106b38737ed355fcad07e758f8b5a9b0\n'}, {'number': 15, 'created': '2019-10-14 18:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dd64617977337b52187a7f6144e36b2b425e41e7', 'message': 'Add image caching API for aggregates\n\nThis adds a new microversion and support for requesting image pre-caching\non an aggregate.\n\nRelated to blueprint image-precache-support\n\nChange-Id: I4ab96095106b38737ed355fcad07e758f8b5a9b0\n'}, {'number': 16, 'created': '2019-10-15 20:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/61e1be5fb24b5f3568d04873090fb4fbee6da486', 'message': 'Add image caching API for aggregates\n\nThis adds a new microversion and support for requesting image pre-caching\non an aggregate.\n\nRelated to blueprint image-precache-support\n\nChange-Id: I4ab96095106b38737ed355fcad07e758f8b5a9b0\n'}, {'number': 17, 'created': '2019-10-15 21:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57897aee20444c4169f926cd897b49a5cdfb824b', 'message': 'Add image caching API for aggregates\n\nThis adds a new microversion and support for requesting image pre-caching\non an aggregate.\n\nRelated to blueprint image-precache-support\n\nChange-Id: I4ab96095106b38737ed355fcad07e758f8b5a9b0\n'}, {'number': 18, 'created': '2019-10-16 01:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/253a316bf1b6e9ae0c321e6abd6050256f6ff5bd', 'message': 'Add image caching API for aggregates\n\nThis adds a new microversion and support for requesting image pre-caching\non an aggregate.\n\nRelated to blueprint image-precache-support\n\nChange-Id: I4ab96095106b38737ed355fcad07e758f8b5a9b0\n'}, {'number': 19, 'created': '2019-10-16 01:22:55.000000000', 'files': ['api-ref/source/parameters.yaml', 'nova/api/openstack/compute/routes.py', 'nova/tests/functional/api_sample_tests/api_samples/os-aggregates/v2.81/aggregates-remove-host-post-resp.json.tpl', 'nova/api/openstack/compute/aggregates.py', 'doc/api_samples/versions/versions-get-resp.json', 'nova/api/openstack/api_version_request.py', 'nova/tests/functional/api_sample_tests/test_aggregates.py', 'doc/api_samples/os-aggregates/v2.81/aggregates-metadata-post-resp.json', 'nova/tests/unit/test_policy.py', 'nova/tests/functional/api_sample_tests/api_samples/os-aggregates/v2.81/aggregate-update-post-resp.json.tpl', 'doc/api_samples/versions/v21-version-get-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-aggregates/v2.81/aggregate-metadata-post-req.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-aggregates/v2.81/aggregate-remove-host-post-req.json.tpl', 'doc/api_samples/os-aggregates/v2.81/aggregates-list-get-resp.json', 'nova/api/openstack/compute/rest_api_version_history.rst', 'doc/api_samples/os-aggregates/v2.81/aggregates-get-resp.json', 'nova/tests/functional/api_sample_tests/api_samples/os-aggregates/v2.81/aggregates-add-host-post-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-aggregates/v2.81/aggregates-list-get-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-aggregates/v2.81/aggregates-metadata-post-resp.json.tpl', 'api-ref/source/os-aggregates.inc', 'doc/api_samples/os-aggregates/v2.81/aggregates-remove-host-post-resp.json', 'doc/api_samples/os-aggregates/v2.81/aggregate-add-host-post-req.json', 'doc/api_samples/os-aggregates/v2.81/aggregate-update-post-resp.json', 'nova/api/openstack/compute/schemas/aggregate_images.py', 'doc/api_samples/os-aggregates/v2.81/aggregate-images-post-req.json', 'doc/api_samples/os-aggregates/v2.81/aggregate-post-req.json', 'nova/tests/functional/api_sample_tests/api_samples/os-aggregates/v2.81/aggregate-update-post-req.json.tpl', 'doc/api_samples/os-aggregates/v2.81/aggregate-update-post-req.json', 'nova/tests/functional/api_sample_tests/api_samples/os-aggregates/v2.81/aggregate-post-resp.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-aggregates/v2.81/aggregate-images-post-req.json.tpl', 'doc/api_samples/os-aggregates/v2.81/aggregate-metadata-post-req.json', 'nova/tests/functional/test_aggregates.py', 'nova/tests/functional/api_sample_tests/api_samples/os-aggregates/v2.81/aggregate-post-req.json.tpl', 'doc/api_samples/os-aggregates/v2.81/aggregate-post-resp.json', 'doc/api_samples/os-aggregates/v2.81/aggregates-add-host-post-resp.json', 'nova/policies/aggregates.py', 'nova/tests/functional/api_sample_tests/api_samples/os-aggregates/v2.81/aggregate-add-host-post-req.json.tpl', 'nova/tests/functional/api_sample_tests/api_samples/os-aggregates/v2.81/aggregates-get-resp.json.tpl', 'releasenotes/notes/image-precaching-d46506568fefa1ea.yaml', 'doc/api_samples/os-aggregates/v2.81/aggregate-remove-host-post-req.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/339129870692467b703220dbc3905fd8bffe6a83', 'message': 'Add image caching API for aggregates\n\nThis adds a new microversion and support for requesting image pre-caching\non an aggregate.\n\nRelated to blueprint image-precache-support\n\nChange-Id: I4ab96095106b38737ed355fcad07e758f8b5a9b0\n'}]",55,687140,339129870692467b703220dbc3905fd8bffe6a83,158,18,19,4393,,,0,"Add image caching API for aggregates

This adds a new microversion and support for requesting image pre-caching
on an aggregate.

Related to blueprint image-precache-support

Change-Id: I4ab96095106b38737ed355fcad07e758f8b5a9b0
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/687140/19 && git format-patch -1 --stdout FETCH_HEAD,"['nova/api/openstack/compute/routes.py', 'nova/api/openstack/compute/schemas/aggregate_images.py', 'nova/policies/aggregates.py', 'nova/api/openstack/compute/aggregates.py', 'nova/api/openstack/api_version_request.py', 'nova/tests/functional/test_aggregates.py']",6,573468cbd9d49c40d07cdcf27aee14ab0e6f9224,bp/image-precache-support," def test_cache_images_on_aggregate(self): agg = {'aggregate': {'name': 'test-aggregate'}} agg = self.api.post_aggregate(agg) body = {'cache': [ {'id': 'image-id'}, ]} self.api.api_post('/os-aggregates/%s/images' % agg['id'], body) raise Exception('hmm') ",,95,0
openstack%2Fcinder~master~If81de71d4719db2e194b95626229a73d1ed4bfb9,openstack/cinder,master,If81de71d4719db2e194b95626229a73d1ed4bfb9,docs: update cinder system architecture page,MERGED,2019-10-16 19:49:36.000000000,2019-10-18 04:19:00.000000000,2019-10-17 17:31:08.000000000,"[{'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}, {'_account_id': 31106}]","[{'number': 1, 'created': '2019-10-16 19:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d60bedd9d3b2bf14a9c87205ec722efc5bb4b0c9', 'message': '    docs: update cinder system architecture page\n\n    Add png detailing interactions between different cinder components\n\n    Related-Bug: 1848361\n\nChange-Id: If81de71d4719db2e194b95626229a73d1ed4bfb9\n'}, {'number': 2, 'created': '2019-10-16 21:32:21.000000000', 'files': ['doc/source/images/architecture.png', 'doc/source/contributor/architecture.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e833ea8b208d15f8786631d596d9ba505c388846', 'message': 'docs: update cinder system architecture page\n\nAdd png detailing interactions between different cinder components\n\nRelated-Bug: 1848361\n\nChange-Id: If81de71d4719db2e194b95626229a73d1ed4bfb9\n'}]",2,689025,e833ea8b208d15f8786631d596d9ba505c388846,53,29,2,31106,,,0,"docs: update cinder system architecture page

Add png detailing interactions between different cinder components

Related-Bug: 1848361

Change-Id: If81de71d4719db2e194b95626229a73d1ed4bfb9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/689025/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/images/architecture.png', 'doc/source/contributor/architecture.rst']",2,d60bedd9d3b2bf14a9c87205ec722efc5bb4b0c9,bug/1848361,.. figure:: ../images/architecture.png :alt: Cinder architecture :align: center :width: 110% ..,:: /- ( LDAP ) [ Auth Manager ] --- | \- ( DB ) | | cinderclient | / \ | /- [ scheduler ] -- [ volume ] -- ( iSCSI ) [ Web Dashboard ]- -[ api ] -- < AMQP > -- \ / | \- [ backup ] novaclient | | | | < REST > ,5,16
openstack%2Fkolla-ansible~master~I4c2bd81e77fc09a04838a62f008e5d6c5dc1483d,openstack/kolla-ansible,master,I4c2bd81e77fc09a04838a62f008e5d6c5dc1483d,Refactor NSS database var,MERGED,2019-10-17 06:39:06.000000000,2019-10-18 03:39:42.000000000,2019-10-18 03:38:34.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28743}, {'_account_id': 30356}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-17 06:39:06.000000000', 'files': ['ansible/roles/qdrouterd/tasks/precheck.yml', 'ansible/roles/rabbitmq/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/75862bc751325e3741782e0840d50e69ccfc9b59', 'message': 'Refactor NSS database var\n\nIPv6 control plane implementation [1] follow-up.\n\n[1] Ia34e6916ea4f99e9522cd2ddde03a0a4776f7e2c\n\nChange-Id: I4c2bd81e77fc09a04838a62f008e5d6c5dc1483d\n'}]",0,689083,75862bc751325e3741782e0840d50e69ccfc9b59,11,6,1,30491,,,0,"Refactor NSS database var

IPv6 control plane implementation [1] follow-up.

[1] Ia34e6916ea4f99e9522cd2ddde03a0a4776f7e2c

Change-Id: I4c2bd81e77fc09a04838a62f008e5d6c5dc1483d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/83/689083/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/qdrouterd/tasks/precheck.yml', 'ansible/roles/rabbitmq/tasks/precheck.yml']",2,75862bc751325e3741782e0840d50e69ccfc9b59,bp/ipv6-control-plane," vars: nss_database: ""{{ 'ahostsv4' if api_address_family == 'ipv4' else 'ahostsv6' }}"" vars: nss_database: ""{{ 'ahostsv4' if api_address_family == 'ipv4' else 'ahostsv6' }}""",- name: Set NSS database for IPv4 set_fact: nss_database: 'ahostsv4' when: - api_address_family == 'ipv4' - name: Set NSS database for IPv6 set_fact: nss_database: 'ahostsv6' when: - api_address_family == 'ipv6' ,6,24
openstack%2Ftripleo-common~master~I460f5593b66c073a75b713bac848dcd66b639e9c,openstack/tripleo-common,master,I460f5593b66c073a75b713bac848dcd66b639e9c,fix linters,MERGED,2019-10-17 13:10:56.000000000,2019-10-18 03:10:15.000000000,2019-10-18 03:09:06.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-17 13:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f692c80e2bb86004bba70baf23c531878fef2630', 'message': 'fix linters\n\nChange-Id: I460f5593b66c073a75b713bac848dcd66b639e9c\n'}, {'number': 2, 'created': '2019-10-17 13:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/69037b0a0aba16ce1ed7bf5e5ba053b613aee768', 'message': 'fix linters\n\nChange-Id: I460f5593b66c073a75b713bac848dcd66b639e9c\n'}, {'number': 3, 'created': '2019-10-17 13:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e813b0382f27152afcdbd2174fdc4a888a18c9a5', 'message': 'fix linters\n\nChange-Id: I460f5593b66c073a75b713bac848dcd66b639e9c\n'}, {'number': 4, 'created': '2019-10-17 13:53:57.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fb3f16a82224d1895cab12ce438c0440a200679b', 'message': 'fix linters\n\nPartial-Fix: https://bugs.launchpad.net/tripleo/+bug/1848512\nChange-Id: I460f5593b66c073a75b713bac848dcd66b639e9c\n'}]",0,689148,fb3f16a82224d1895cab12ce438c0440a200679b,17,5,4,24162,,,0,"fix linters

Partial-Fix: https://bugs.launchpad.net/tripleo/+bug/1848512
Change-Id: I460f5593b66c073a75b713bac848dcd66b639e9c
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/48/689148/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f692c80e2bb86004bba70baf23c531878fef2630,fix/lint, CURL_CA_BUNDLE REQUESTS_CA_BUNDLE SSL_CERT_FILEdeps = # workaround for https://github.com/ansible/ansible-lint/issues/590 virtualenv==16.3.0 # 16.7.6 not working pre-commit,deps = pre-commit,7,1
openstack%2Fopenstack-helm-images~master~I38de55f94ecf286ecf178d940a6723e2d8c5934b,openstack/openstack-helm-images,master,I38de55f94ecf286ecf178d940a6723e2d8c5934b,Update Kubernetes to 1.16.2,MERGED,2019-10-17 21:21:49.000000000,2019-10-18 03:09:00.000000000,2019-10-18 03:07:26.000000000,"[{'_account_id': 8749}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-10-17 21:21:49.000000000', 'files': ['ceph-config-helper/Dockerfile.suse_15', 'ceph-config-helper/Dockerfile.ubuntu_xenial', 'ceph-daemon/Dockerfile.ubuntu_xenial', 'ceph-utility/Dockerfile.ubuntu_xenial'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/17a093839aedbceb79464487c5ad52415c421576', 'message': 'Update Kubernetes to 1.16.2\n\nThis updates the version of Kubernetes to 1.16.2 for images that\nrequire a corresponding client version to function correctly\n\nChange-Id: I38de55f94ecf286ecf178d940a6723e2d8c5934b\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,689272,17a093839aedbceb79464487c5ad52415c421576,9,4,1,17591,,,0,"Update Kubernetes to 1.16.2

This updates the version of Kubernetes to 1.16.2 for images that
require a corresponding client version to function correctly

Change-Id: I38de55f94ecf286ecf178d940a6723e2d8c5934b
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/72/689272/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-config-helper/Dockerfile.suse_15', 'ceph-config-helper/Dockerfile.ubuntu_xenial', 'ceph-daemon/Dockerfile.ubuntu_xenial', 'ceph-utility/Dockerfile.ubuntu_xenial']",4,17a093839aedbceb79464487c5ad52415c421576,update-k8s-clients,ARG KUBE_VERSION=1.16.2,ARG KUBE_VERSION=1.13.4,4,4
openstack%2Foctavia~stable%2Fqueens~I6ad0349dba62b1141be07bfb0e40171e9f7a91b9,openstack/octavia,stable/queens,I6ad0349dba62b1141be07bfb0e40171e9f7a91b9,Improve the error message for bad pkcs12 bundles,MERGED,2019-09-23 14:05:26.000000000,2019-10-18 03:07:34.000000000,2019-10-18 03:06:17.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-23 14:05:26.000000000', 'files': ['octavia/certificates/common/pkcs12.py', 'octavia/certificates/manager/barbican.py', 'octavia/tests/unit/certificates/manager/test_barbican.py', 'octavia/api/v2/controllers/listener.py', 'octavia/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/ec76e763076b845f3808bd6eaa94c789ee0f74cf', 'message': 'Improve the error message for bad pkcs12 bundles\n\nWhen a user loads a bad pkcs12 bundle or one with a pass phrase into\nbarbican and then uses it for a TLS-TERMINATED listener, the error\nwe return the user is misleading[1].\nThis patch improves the error message to point out that we got the\nbundle from barbican, but that it is unreadable and/or protected\nwith a pass phrase.\n\n[1] Could not retrieve certificate: [ ... ] (HTTP 400)\n\nConflicts:\n    octavia/api/v2/controllers/listener.py\n\nChange-Id: I6ad0349dba62b1141be07bfb0e40171e9f7a91b9\nStory: 2006587\nTask: 36713\n(cherry picked from commit a0f4335c38cdf5d5c91877975b8f3c7b28e169eb)\n(cherry picked from commit a501714a76e04b33dfb24c4ead9956ed4696d1df)\n(cherry picked from commit 08916abd2b6c24dc207dfe3560138901661c2922)\n'}]",0,683968,ec76e763076b845f3808bd6eaa94c789ee0f74cf,9,3,1,6469,,,0,"Improve the error message for bad pkcs12 bundles

When a user loads a bad pkcs12 bundle or one with a pass phrase into
barbican and then uses it for a TLS-TERMINATED listener, the error
we return the user is misleading[1].
This patch improves the error message to point out that we got the
bundle from barbican, but that it is unreadable and/or protected
with a pass phrase.

[1] Could not retrieve certificate: [ ... ] (HTTP 400)

Conflicts:
    octavia/api/v2/controllers/listener.py

Change-Id: I6ad0349dba62b1141be07bfb0e40171e9f7a91b9
Story: 2006587
Task: 36713
(cherry picked from commit a0f4335c38cdf5d5c91877975b8f3c7b28e169eb)
(cherry picked from commit a501714a76e04b33dfb24c4ead9956ed4696d1df)
(cherry picked from commit 08916abd2b6c24dc207dfe3560138901661c2922)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/68/683968/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/certificates/common/pkcs12.py', 'octavia/certificates/manager/barbican.py', 'octavia/tests/unit/certificates/manager/test_barbican.py', 'octavia/api/v2/controllers/listener.py', 'octavia/common/exceptions.py']",5,ec76e763076b845f3808bd6eaa94c789ee0f74cf,,"class UnreadablePKCS12(APIException): msg = _(""The PKCS12 bundle is unreadable. Please check the PKCS12 bundle "" ""validity. In addition, make sure it does not require a pass "" ""phrase. Error: %(error)s"") code = 400 ",,34,1
openstack%2Fnetworking-midonet~master~I1472d4481232cbbdb2131319cab53061730d6025,openstack/networking-midonet,master,I1472d4481232cbbdb2131319cab53061730d6025,Fix source link.,MERGED,2019-10-17 00:45:07.000000000,2019-10-18 02:55:27.000000000,2019-10-18 02:54:15.000000000,"[{'_account_id': 156}, {'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-17 00:45:07.000000000', 'files': ['doc/source/contributor/policies.rst'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/afe72a95daabf57ccf85ea7c005cbdb728267022', 'message': 'Fix source link.\n\nChange-Id: I1472d4481232cbbdb2131319cab53061730d6025\n'}]",0,689060,afe72a95daabf57ccf85ea7c005cbdb728267022,8,3,1,30717,,,0,"Fix source link.

Change-Id: I1472d4481232cbbdb2131319cab53061730d6025
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/60/689060/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/policies.rst'],1,afe72a95daabf57ccf85ea7c005cbdb728267022,,.. [#watched_projects] https://review.opendev.org/#/settings/projects,.. [#watched_projects] https://review.openstack.org/#/settings/projects,1,1
