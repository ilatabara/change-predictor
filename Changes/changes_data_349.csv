id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Foctavia~stable%2Fstein~I9f1b6e58004d7c2024f8d60d50ac998240abb6ee,openstack/octavia,stable/stein,I9f1b6e58004d7c2024f8d60d50ac998240abb6ee,elements: add arch property for ``open-vm-tools``,MERGED,2019-08-26 12:50:56.000000000,2019-09-18 08:02:35.000000000,2019-09-18 08:00:40.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 13686}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-26 12:50:56.000000000', 'files': ['elements/amphora-agent/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0571e0e4a0cbfd206fc410625794bd1a3f12f195', 'message': 'elements: add arch property for ``open-vm-tools``\n\nThe ``open-vm-tools`` package only exists for x86-platforms.\n\nTask: 35814\nStory: 2006219\n\nChange-Id: I9f1b6e58004d7c2024f8d60d50ac998240abb6ee\n(cherry picked from commit 5114a9a4f9d037d8ffb75342713fc27ff692235f)\n'}]",0,678537,0571e0e4a0cbfd206fc410625794bd1a3f12f195,9,4,1,6469,,,0,"elements: add arch property for ``open-vm-tools``

The ``open-vm-tools`` package only exists for x86-platforms.

Task: 35814
Story: 2006219

Change-Id: I9f1b6e58004d7c2024f8d60d50ac998240abb6ee
(cherry picked from commit 5114a9a4f9d037d8ffb75342713fc27ff692235f)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/37/678537/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/amphora-agent/package-installs.yaml'],1,0571e0e4a0cbfd206fc410625794bd1a3f12f195,task/35814-stable/stein," arch: i386, amd64",,1,0
openstack%2Fironic~master~I79a49837f4d0dd6a432895e8997158a51feb99c3,openstack/ironic,master,I79a49837f4d0dd6a432895e8997158a51feb99c3,Remove support for CoreOS images,MERGED,2019-09-05 13:14:03.000000000,2019-09-18 08:01:48.000000000,2019-09-18 07:59:29.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-09-05 13:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/700ed253086e205f8b44b81e26199d68ff347bcf', 'message': 'Remove support for CoreOS images\n\nAlso remove the remaining elilo test template.\n\nChange-Id: I79a49837f4d0dd6a432895e8997158a51feb99c3\n'}, {'number': 2, 'created': '2019-09-09 14:59:57.000000000', 'files': ['ironic/tests/unit/drivers/elilo_efi_pxe_config.template', 'ironic/tests/unit/drivers/pxe_config.template', 'doc/source/install/deploy-ramdisk.rst', 'ironic/drivers/modules/pxe_grub_config.template', 'releasenotes/notes/no-coreos-f8717f9bb6a64627.yaml', 'ironic/tests/unit/drivers/ipxe_config_timeout.template', 'ironic/tests/unit/drivers/pxe_grub_config.template', 'ironic/drivers/modules/pxe_config.template', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'doc/source/admin/rescue.rst', 'devstack/lib/ironic', 'ironic/tests/unit/drivers/ipxe_config.template', 'doc/source/install/configure-glance-images.rst', 'ironic/drivers/modules/deploy_utils.py', 'ironic/drivers/modules/agent_config.template', 'ironic/tests/unit/drivers/ipxe_config_boot_from_volume_no_extra_volumes.template', 'doc/source/admin/troubleshooting.rst', 'ironic/tests/unit/drivers/ipxe_config_boot_from_volume_extra_volume.template', 'ironic/drivers/modules/ipxe_config.template'], 'web_link': 'https://opendev.org/openstack/ironic/commit/cbeb9cc79f5d19d57ce81ef305551b7867aad4d0', 'message': 'Remove support for CoreOS images\n\nAlso remove the remaining elilo test template instead of updating it.\n\nChange-Id: I79a49837f4d0dd6a432895e8997158a51feb99c3\n'}]",6,680404,cbeb9cc79f5d19d57ce81ef305551b7867aad4d0,46,8,2,10239,,,0,"Remove support for CoreOS images

Also remove the remaining elilo test template instead of updating it.

Change-Id: I79a49837f4d0dd6a432895e8997158a51feb99c3
",git fetch https://review.opendev.org/openstack/ironic refs/changes/04/680404/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/elilo_efi_pxe_config.template', 'ironic/tests/unit/drivers/pxe_config.template', 'doc/source/install/deploy-ramdisk.rst', 'ironic/drivers/modules/pxe_grub_config.template', 'releasenotes/notes/no-coreos-f8717f9bb6a64627.yaml', 'ironic/tests/unit/drivers/ipxe_config_timeout.template', 'ironic/tests/unit/drivers/pxe_grub_config.template', 'ironic/drivers/modules/pxe_config.template', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'doc/source/admin/rescue.rst', 'devstack/lib/ironic', 'ironic/tests/unit/drivers/ipxe_config.template', 'doc/source/install/configure-glance-images.rst', 'ironic/drivers/modules/deploy_utils.py', 'ironic/drivers/modules/agent_config.template', 'ironic/tests/unit/drivers/ipxe_config_boot_from_volume_no_extra_volumes.template', 'doc/source/admin/troubleshooting.rst', 'ironic/tests/unit/drivers/ipxe_config_boot_from_volume_extra_volume.template', 'ironic/drivers/modules/ipxe_config.template']",19,700ed253086e205f8b44b81e26199d68ff347bcf,no-coreos,"kernel {% if pxe_options.ipxe_timeout > 0 %}--timeout {{ pxe_options.ipxe_timeout }} {% endif %}{{ pxe_options.deployment_aki_path }} selinux=0 troubleshoot=0 text {{ pxe_options.pxe_append_params|default("""", true) }} BOOTIF=${mac} ipa-api-url={{ pxe_options['ipa-api-url'] }} initrd={{ pxe_options.initrd_filename|default(""deploy_ramdisk"", true) }} || goto retry","kernel {% if pxe_options.ipxe_timeout > 0 %}--timeout {{ pxe_options.ipxe_timeout }} {% endif %}{{ pxe_options.deployment_aki_path }} selinux=0 troubleshoot=0 text {{ pxe_options.pxe_append_params|default("""", true) }} BOOTIF=${mac} ipa-api-url={{ pxe_options['ipa-api-url'] }} initrd={{ pxe_options.initrd_filename|default(""deploy_ramdisk"", true) }} coreos.configdrive=0 || goto retry",26,166
openstack%2Fnetworking-odl~master~Ifdcd53e215d6a130767185ca222a3a9c731adb78,openstack/networking-odl,master,Ifdcd53e215d6a130767185ca222a3a9c731adb78,Add new nodesets for ODL,ABANDONED,2019-09-16 09:15:29.000000000,2019-09-18 08:00:29.000000000,,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 09:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2cbc67fd50c8a11d5b3ef6e218e2fa8d2fd5c0b5', 'message': 'Add new nodesets for ODL\n\nODL needs more memory during tempest executions, thus this patch\nintroduces new nodesets which use ubuntu-bionic-expanded from\nFortNebula.\n\nChange-Id: Ifdcd53e215d6a130767185ca222a3a9c731adb78\n'}, {'number': 2, 'created': '2019-09-16 12:55:01.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/8e024eb9fd8dd60ba440134d6a91b6d1e4985362', 'message': 'Add new nodesets for ODL\n\nODL needs more memory during tempest executions, thus this patch\nintroduces new nodesets which use ubuntu-bionic-expanded from\nFortNebula.\n\nChange-Id: Ifdcd53e215d6a130767185ca222a3a9c731adb78\n'}]",0,682304,8e024eb9fd8dd60ba440134d6a91b6d1e4985362,6,2,2,8313,,,0,"Add new nodesets for ODL

ODL needs more memory during tempest executions, thus this patch
introduces new nodesets which use ubuntu-bionic-expanded from
FortNebula.

Change-Id: Ifdcd53e215d6a130767185ca222a3a9c731adb78
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/04/682304/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,2cbc67fd50c8a11d5b3ef6e218e2fa8d2fd5c0b5,use-latest-odl,- nodeset: name: openstack-odl-extra-mem-single-node nodes: - name: controller label: ubuntu-bionic-expanded - nodeset: name: openstack-odl-extra-mem-multi-node nodes: - name: controller label: ubuntu-bionic-expanded - name: compute1 label: ubuntu-bionic,,12,0
openstack%2Fopenstacksdk~master~I411bdabeaf70164ec1020abc2d22fcf1764f7c02,openstack/openstacksdk,master,I411bdabeaf70164ec1020abc2d22fcf1764f7c02,Build PDF docs,MERGED,2018-09-11 17:57:12.000000000,2019-09-18 07:59:42.000000000,2019-09-18 07:57:54.000000000,"[{'_account_id': 2}, {'_account_id': 841}, {'_account_id': 6547}, {'_account_id': 6926}, {'_account_id': 14482}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2018-09-11 17:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7d47c67f220b28a6f0acfcc39e79204a882e49d7', 'message': 'Start building pdfs of docs\n\nDepends-On: https://review.openstack.org/570957\nChange-Id: I411bdabeaf70164ec1020abc2d22fcf1764f7c02\n'}, {'number': 2, 'created': '2018-09-11 18:15:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7debbfa786660e3b037b001b14df045e6e5693e7', 'message': 'Start building pdfs of docs\n\nChange-Id: I411bdabeaf70164ec1020abc2d22fcf1764f7c02\n'}, {'number': 3, 'created': '2018-09-11 18:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cea18c1d298d6d518417a6b43a42f08b1a039aed', 'message': 'Start building pdfs of docs\n\nChange-Id: I411bdabeaf70164ec1020abc2d22fcf1764f7c02\n'}, {'number': 4, 'created': '2018-09-11 18:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/acc81b3190c321233b485dd23ec38ab13cd50fd9', 'message': 'Start building pdfs of docs\n\nChange-Id: I411bdabeaf70164ec1020abc2d22fcf1764f7c02\n'}, {'number': 5, 'created': '2018-09-11 18:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ebab72e19d9a30d7cab9ad09f8ef6d2c9cd9e29d', 'message': 'Start building pdfs of docs\n\nChange-Id: I411bdabeaf70164ec1020abc2d22fcf1764f7c02\n'}, {'number': 6, 'created': '2019-03-27 16:40:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/26f31d0eba9ab6fe24bb24625f853762b266b929', 'message': 'DNM - Start building pdfs of docs\n\nChange-Id: I411bdabeaf70164ec1020abc2d22fcf1764f7c02\n'}, {'number': 7, 'created': '2019-03-28 17:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6d04d6b5d8f29baf8aa02a5220cbed0b767c6fdf', 'message': 'DNM - Start building pdfs of docs\n\nChange-Id: I411bdabeaf70164ec1020abc2d22fcf1764f7c02\n'}, {'number': 8, 'created': '2019-03-29 05:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d3a18794ab8b3da659d05dd0a81f4fff28ba31d7', 'message': 'DNM - Start building pdfs of docs\n\nChange-Id: I411bdabeaf70164ec1020abc2d22fcf1764f7c02\n'}, {'number': 9, 'created': '2019-06-24 14:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/24b12cf5daf7f0adae0b4390c7c8053b20dc9993', 'message': 'DNM - Start building pdfs of docs\n\nChange-Id: I411bdabeaf70164ec1020abc2d22fcf1764f7c02\n'}, {'number': 10, 'created': '2019-06-24 14:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5be4d273cba12f5ae65139b9b1c69984fc073b93', 'message': 'DNM - Start building pdfs of docs\n\nChange-Id: I411bdabeaf70164ec1020abc2d22fcf1764f7c02\n'}, {'number': 11, 'created': '2019-06-25 10:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cee0d53147365390e3da739de795d48735eb59c9', 'message': 'DNM - Start building pdfs of docs\n\nCo-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I411bdabeaf70164ec1020abc2d22fcf1764f7c02\n'}, {'number': 12, 'created': '2019-06-25 15:06:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ea36cc9119bbbf05b828030b0f9f69af4456eef8', 'message': 'DNM - Start building pdfs of docs\n\nCo-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I411bdabeaf70164ec1020abc2d22fcf1764f7c02\n'}, {'number': 13, 'created': '2019-09-04 05:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/074ae31e197520384b076361344a0d3c54aad253', 'message': 'DNM - Start building pdfs of docs\n\nCo-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I411bdabeaf70164ec1020abc2d22fcf1764f7c02\n'}, {'number': 14, 'created': '2019-09-04 05:15:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0b70b96773c50d92eb779040fe7b9ffd82c9ff9b', 'message': ""Build PDF docs\n\nThis commit adds a new tox target to build PDF documentation.\nIt's a community goal[0] to have PDF docs available.\n\nUpdate conf.py for latex building.\n\n[0]\nhttps://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nCo-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I411bdabeaf70164ec1020abc2d22fcf1764f7c02\n""}, {'number': 15, 'created': '2019-09-05 15:21:27.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/363852f80d4e199792f5319d3cb1cdca0fdd7a7a', 'message': ""Build PDF docs\n\nThis commit adds a new tox target to build PDF documentation.\nIt's a community goal[0] to have PDF docs available.\n\nUpdate conf.py for latex building.\n\n[0]\nhttps://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nCo-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>\nChange-Id: I411bdabeaf70164ec1020abc2d22fcf1764f7c02\n""}]",19,601659,363852f80d4e199792f5319d3cb1cdca0fdd7a7a,85,7,15,2,,,0,"Build PDF docs

This commit adds a new tox target to build PDF documentation.
It's a community goal[0] to have PDF docs available.

Update conf.py for latex building.

[0]
https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Co-authored-by: Bogdan Dobrelya <bdobreli@redhat.com>
Change-Id: I411bdabeaf70164ec1020abc2d22fcf1764f7c02
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/59/601659/6 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7d47c67f220b28a6f0acfcc39e79204a882e49d7,build-pdf-docs, sphinx_builders: - html - pdf sphinx_builders: - html - pdf,,6,0
openstack%2Fcinder~master~Id797af4f8ff001ec3d55cb4eda19988a314b700d,openstack/cinder,master,Id797af4f8ff001ec3d55cb4eda19988a314b700d,Rekey volume on clone,MERGED,2019-06-12 16:55:12.000000000,2019-09-18 07:49:23.000000000,2019-09-13 13:50:00.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21129}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-06-12 16:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4771debd94b59adff0ae25e717866a00989935d7', 'message': 'WIP: Rekey volume on clone\n\nWhen cloning an encrypted volume, change the\nencryption key used on the destination volume.\n\nThis is currently implemented for iSCSI/FC\ndrivers only.\n\nChange-Id: Id797af4f8ff001ec3d55cb4eda19988a314b700d\n'}, {'number': 2, 'created': '2019-06-24 21:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b2c2e72c54099307d7ce855025a86aff0a29edbb', 'message': 'WIP: Rekey volume on clone\n\nWhen cloning an encrypted volume, change the\nencryption key used on the destination volume.\n\nThis is currently implemented for iSCSI/FC\ndrivers only.\n\nThis introduces a new driver SUPPORTS_REKEY\nflag, since implementation of rekey is\nprotocol-dependent.\n\nChange-Id: Id797af4f8ff001ec3d55cb4eda19988a314b700d\n'}, {'number': 3, 'created': '2019-07-08 18:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7eed787e5803b26dbfe5f3daa973765af42bd45c', 'message': 'WIP: Rekey volume on clone\n\nWhen cloning an encrypted volume, change the\nencryption key used on the destination volume.\n\nThis is currently implemented for iSCSI/FC\ndrivers only.\n\nTODO: handle case of an encrypted volume that\nwas never written to\n\nChange-Id: Id797af4f8ff001ec3d55cb4eda19988a314b700d\n'}, {'number': 4, 'created': '2019-07-09 20:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/001e99e73f4acbeef340aa836241f12dc4ea112d', 'message': 'WIP: Rekey volume on clone\n\nWhen cloning an encrypted volume, change the\nencryption key used on the destination volume.\n\nThis is currently implemented for iSCSI/FC\ndrivers only.\n\nTODO: write tests\nTODO: try to rework how passphrases are passed to\n      cryptsetup to avoid using local tmp files when\n      possible.  Can two passphrases be passed via stdin\n      for luksChangeKey?\n\nChange-Id: Id797af4f8ff001ec3d55cb4eda19988a314b700d\n'}, {'number': 5, 'created': '2019-07-10 13:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/21e919c0588c8394530cee03c41537c89aba65d1', 'message': 'WIP: Rekey volume on clone\n\nWhen cloning an encrypted volume, change the\nencryption key used on the destination volume.\n\nThis is currently implemented for iSCSI/FC\ndrivers only.\n\nTODO: write tests\nTODO: try to rework how passphrases are passed to\n      cryptsetup to avoid using local tmp files when\n      possible.  Can two passphrases be passed via stdin\n      for luksChangeKey?\n\nChange-Id: Id797af4f8ff001ec3d55cb4eda19988a314b700d\n'}, {'number': 6, 'created': '2019-07-10 19:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0dde31b3d6d5a8f6c80649ed920ad57fb0e919dc', 'message': 'Rekey volume on clone\n\nWhen cloning an encrypted volume, change the\nencryption key used on the destination volume.\n\nThis is currently implemented for iSCSI/FC\ndrivers only.\n\nTODO: write tests\n\nChange-Id: Id797af4f8ff001ec3d55cb4eda19988a314b700d\n'}, {'number': 7, 'created': '2019-08-26 15:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/699b130c885ee7771114ec6115a0fa9333473075', 'message': 'Rekey volume on clone\n\nWhen cloning an encrypted volume, change the\nencryption key used on the destination volume.\n\nThis is currently implemented for iSCSI/FC\ndrivers only.\n\nChange-Id: Id797af4f8ff001ec3d55cb4eda19988a314b700d\n'}, {'number': 8, 'created': '2019-09-06 19:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/654eb4e76ff39652e94e0ff867838cc2f51a1fd9', 'message': 'Rekey volume on clone\n\nWhen cloning an encrypted volume, change the\nencryption key used on the destination volume.\n\nThis is currently implemented for iSCSI/FC\ndrivers only.\n\nChange-Id: Id797af4f8ff001ec3d55cb4eda19988a314b700d\n'}, {'number': 9, 'created': '2019-09-10 14:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5fb084e45fd9d6426e373542559af4805fee6424', 'message': 'Rekey volume on clone\n\nWhen cloning an encrypted volume, change the\nencryption key used on the destination volume.\n\nThis is currently implemented for iSCSI/FC\ndrivers only.\n\nChange-Id: Id797af4f8ff001ec3d55cb4eda19988a314b700d\n'}, {'number': 10, 'created': '2019-09-13 04:10:53.000000000', 'files': ['cinder/volume/flows/manager/create_volume.py', 'cinder/tests/unit/fake_constants.py', 'cinder/tests/unit/volume/test_volume.py', 'etc/cinder/rootwrap.d/volume.filters', 'cinder/volume/flows/api/create_volume.py', 'releasenotes/notes/change-encryption-key-on-clone-3be7cdb0e27386e0.yaml', 'cinder/exception.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/330f1ae453eeb76f9036fb3f73e22f3258d9a8b7', 'message': 'Rekey volume on clone\n\nWhen cloning an encrypted volume, change the\nencryption key used on the destination volume.\n\nThis is currently implemented for iSCSI/FC\ndrivers only.\n\nChange-Id: Id797af4f8ff001ec3d55cb4eda19988a314b700d\n'}]",21,664976,330f1ae453eeb76f9036fb3f73e22f3258d9a8b7,302,44,10,4523,,,0,"Rekey volume on clone

When cloning an encrypted volume, change the
encryption key used on the destination volume.

This is currently implemented for iSCSI/FC
drivers only.

Change-Id: Id797af4f8ff001ec3d55cb4eda19988a314b700d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/76/664976/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/utils.py', 'cinder/volume/drivers/rbd.py', 'cinder/volume/flows/manager/create_volume.py', 'etc/cinder/rootwrap.d/volume.filters', 'cinder/volume/flows/api/create_volume.py', 'cinder/utils.py']",6,4771debd94b59adff0ae25e717866a00989935d7,rekey," def check_encryption_provider(db, volume, context): """"""Check that this is a LUKS encryption provider. :returns: encryption dict """""" encryption = db.volume_encryption_metadata_get(context, volume.id) provider = encryption['provider'] if provider in encryptors.LEGACY_PROVIDER_CLASS_TO_FORMAT_MAP: provider = encryptors.LEGACY_PROVIDER_CLASS_TO_FORMAT_MAP[provider] if provider != encryptors.LUKS: message = _(""Provider %s not supported."") % provider raise exception.VolumeDriverException(message=message) if 'cipher' not in encryption or 'key_size' not in encryption: msg = _('encryption spec must contain ""cipher"" and ' '""key_size""') raise exception.VolumeDriverException(message=msg) return encryption ",,115,39
openstack%2Ftrove-dashboard~master~Ieb30da56109d485f592f94fefa3dd2d629651a6e,openstack/trove-dashboard,master,Ieb30da56109d485f592f94fefa3dd2d629651a6e,Fix failed Unit tests,MERGED,2019-09-18 05:47:44.000000000,2019-09-18 07:37:37.000000000,2019-09-18 07:37:36.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 05:47:44.000000000', 'files': ['trove_dashboard/content/databases/logs/tests.py'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/1879195d64b877e167534ba4371dfda6d4ed1672', 'message': 'Fix failed Unit tests\n\nDue to [1][2] default auth_version change to 3.\nThis patch done the same changes in unit test.\n\n[1] I917e273d3174adf0874e516b3d635ccb8ba58a27\n[2] https://opendev.org/openstack/horizon/src/branch/master/openstack_dashboard/api/swift.py#L131\n\nChange-Id: Ieb30da56109d485f592f94fefa3dd2d629651a6e\n'}]",0,682795,1879195d64b877e167534ba4371dfda6d4ed1672,6,2,1,29313,,,0,"Fix failed Unit tests

Due to [1][2] default auth_version change to 3.
This patch done the same changes in unit test.

[1] I917e273d3174adf0874e516b3d635ccb8ba58a27
[2] https://opendev.org/openstack/horizon/src/branch/master/openstack_dashboard/api/swift.py#L131

Change-Id: Ieb30da56109d485f592f94fefa3dd2d629651a6e
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/95/682795/1 && git format-patch -1 --stdout FETCH_HEAD,['trove_dashboard/content/databases/logs/tests.py'],1,1879195d64b877e167534ba4371dfda6d4ed1672,," auth_version=""3"") auth_version=""3"")"," auth_version=""2.0"") auth_version=""2.0"")",2,2
openstack%2Foctavia~stable%2Fqueens~I4380605bdb346eee824b2ce05fa25175c4cc3034,openstack/octavia,stable/queens,I4380605bdb346eee824b2ce05fa25175c4cc3034,Fix L7 repository create methods,MERGED,2019-08-26 14:10:05.000000000,2019-09-18 07:22:40.000000000,2019-09-18 07:21:19.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-26 14:10:05.000000000', 'files': ['octavia/tests/functional/db/test_repositories.py', 'octavia/db/repositories.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/66d71b015009e2eeb1a71f1211e7ebe27f624a74', 'message': 'Fix L7 repository create methods\n\nSQLAlchemy can get confused if the parent database objects are not\nlinked when creating new records using the repository.\nFor example, when creating an L7 policy, even if you specify the\nlistener_id, sqlalchemy will drop the ID from the final SQL INSERT\nparameter.\nThis patch corrects the L7 policy and rule create methods to have\nthe required parent objects linked.\n\nStory: 2006305\nTask: 36021\n\nChange-Id: I4380605bdb346eee824b2ce05fa25175c4cc3034\n(cherry picked from commit 36afa82d0c9c61aa74ea922fcc769125afebd962)\n'}]",0,678565,66d71b015009e2eeb1a71f1211e7ebe27f624a74,12,4,1,6469,,,0,"Fix L7 repository create methods

SQLAlchemy can get confused if the parent database objects are not
linked when creating new records using the repository.
For example, when creating an L7 policy, even if you specify the
listener_id, sqlalchemy will drop the ID from the final SQL INSERT
parameter.
This patch corrects the L7 policy and rule create methods to have
the required parent objects linked.

Story: 2006305
Task: 36021

Change-Id: I4380605bdb346eee824b2ce05fa25175c4cc3034
(cherry picked from commit 36afa82d0c9c61aa74ea922fcc769125afebd962)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/65/678565/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/db/test_repositories.py', 'octavia/db/repositories.py']",2,66d71b015009e2eeb1a71f1211e7ebe27f624a74,lib-get-stable/stein-stable/rocky-stable/queens, if model_kwargs.get('l7policy_id'): l7policy_db = session.query(models.L7Policy).filter_by( id=model_kwargs.get('l7policy_id')).first() model_kwargs.update(l7policy=l7policy_db) if model_kwargs.get('listener_id'): listener_db = session.query(models.Listener).filter_by( id=model_kwargs.get('listener_id')).first() model_kwargs.update(listener=listener_db),,26,0
openstack%2Foctavia~stable%2Frocky~Icddd2873abeb56a389a35356995df6dde70872b2,openstack/octavia,stable/rocky,Icddd2873abeb56a389a35356995df6dde70872b2,Fix template that generates vrrp check script,MERGED,2019-09-16 07:14:29.000000000,2019-09-18 07:22:21.000000000,2019-09-18 07:21:00.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 30881}]","[{'number': 1, 'created': '2019-09-16 07:14:29.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/templates/keepalived_check_script.conf.j2'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6906f9f88df0d3de1680bfe57563594f728cc718', 'message': ""Fix template that generates vrrp check script\n\nCorrect the inline comment to not include an empty new line at the start\nof generated /var/lib/octavia/vrrp/check_script.sh that leads to this\nkind of error:\n\n>  Aug 26 11:49:32 amphora-12184e15-1ec3-4d80-98a7-c7d1ddb6716f\n> Keepalived_vrrp[15265]: Error exec-ing command\n> '/var/lib/octavia/vrrp/check_script.sh', error 8: Exec format error\n\nChange-Id: Icddd2873abeb56a389a35356995df6dde70872b2\n(cherry picked from commit 905499162b33fbac1fd604688d21b73f559ab70d)\n""}]",0,682282,6906f9f88df0d3de1680bfe57563594f728cc718,16,5,1,6469,,,0,"Fix template that generates vrrp check script

Correct the inline comment to not include an empty new line at the start
of generated /var/lib/octavia/vrrp/check_script.sh that leads to this
kind of error:

>  Aug 26 11:49:32 amphora-12184e15-1ec3-4d80-98a7-c7d1ddb6716f
> Keepalived_vrrp[15265]: Error exec-ing command
> '/var/lib/octavia/vrrp/check_script.sh', error 8: Exec format error

Change-Id: Icddd2873abeb56a389a35356995df6dde70872b2
(cherry picked from commit 905499162b33fbac1fd604688d21b73f559ab70d)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/82/682282/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/amphorae/backends/agent/api_server/templates/keepalived_check_script.conf.j2'],1,6906f9f88df0d3de1680bfe57563594f728cc718,patch-jinja2-stable/stein-stable/rocky,-#},#},1,1
openstack%2Foctavia~master~I7a443df8e6b89d0060f40a55972a295d0ffad911,openstack/octavia,master,I7a443df8e6b89d0060f40a55972a295d0ffad911,Bump fedora amp version to fedora30,ABANDONED,2019-09-18 06:17:47.000000000,2019-09-18 06:22:33.000000000,,[],"[{'number': 1, 'created': '2019-09-18 06:17:47.000000000', 'files': ['diskimage-create/diskimage-create.sh', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/8fca762728e5af56d6319f54ff293f2758ef8354', 'message': 'Bump fedora amp version to fedora30\n\nPreviously using fedora28, but that is old and now archived.\n\nChange-Id: I7a443df8e6b89d0060f40a55972a295d0ffad911\n'}]",0,682800,8fca762728e5af56d6319f54ff293f2758ef8354,2,0,1,10273,,,0,"Bump fedora amp version to fedora30

Previously using fedora28, but that is old and now archived.

Change-Id: I7a443df8e6b89d0060f40a55972a295d0ffad911
",git fetch https://review.opendev.org/openstack/octavia refs/changes/00/682800/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage-create/diskimage-create.sh', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",3,8fca762728e5af56d6319f54ff293f2758ef8354,, name: publish-openstack-octavia-amphora-image-fedora30 Publish Fedora 30 based amphora image to tarballs.o.o. amphora_os_release: 30, name: publish-openstack-octavia-amphora-image-fedora28 Publish Fedora 28 based amphora image to tarballs.o.o. amphora_os_release: 28,5,5
openstack%2Fnetworking-ovn~stable%2Fqueens~I30bee5c5576554b162e66e1b5dfbe734522ab363,openstack/networking-ovn,stable/queens,I30bee5c5576554b162e66e1b5dfbe734522ab363,Drop subnet Port Groups,ABANDONED,2019-09-11 18:15:23.000000000,2019-09-18 06:19:09.000000000,,"[{'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-09-11 18:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c33a1bec316362412fc1df9c0ee849d0634b0bdc', 'message': ""Drop subnet Port Groups\n\nThis patch is dropping the code that creates and handles the\nsubnet Port Groups. Those were used to place the ACLs that\nallowed DHCP traffic to reach the responder in the OVN\npipeline but as explained in the bug description, it's\nnot needed anymore.\n\nChange-Id: I30bee5c5576554b162e66e1b5dfbe734522ab363\nCloses-Bug: #1790900\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit d5a0de261507192b61f2cdf80a537ceaa0792dc3)\n""}, {'number': 2, 'created': '2019-09-12 08:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d7b77df04adb0cc2ea5336b259f9f4e3ae990706', 'message': ""Drop subnet Port Groups\n\nThis patch is dropping the code that creates and handles the\nsubnet Port Groups. Those were used to place the ACLs that\nallowed DHCP traffic to reach the responder in the OVN\npipeline but as explained in the bug description, it's\nnot needed anymore.\n\nChange-Id: I30bee5c5576554b162e66e1b5dfbe734522ab363\nCloses-Bug: #1790900\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit d5a0de261507192b61f2cdf80a537ceaa0792dc3)\n""}, {'number': 3, 'created': '2019-09-16 09:27:22.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/16007caca0732dd6c36daff634713306b8545a10', 'message': ""Drop subnet Port Groups\n\nThis patch is dropping the code that creates and handles the\nsubnet Port Groups. Those were used to place the ACLs that\nallowed DHCP traffic to reach the responder in the OVN\npipeline but as explained in the bug description, it's\nnot needed anymore.\n\nChange-Id: I30bee5c5576554b162e66e1b5dfbe734522ab363\nCloses-Bug: #1790900\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit d5a0de261507192b61f2cdf80a537ceaa0792dc3)\n""}]",0,681564,16007caca0732dd6c36daff634713306b8545a10,8,2,3,24791,,,0,"Drop subnet Port Groups

This patch is dropping the code that creates and handles the
subnet Port Groups. Those were used to place the ACLs that
allowed DHCP traffic to reach the responder in the OVN
pipeline but as explained in the bug description, it's
not needed anymore.

Change-Id: I30bee5c5576554b162e66e1b5dfbe734522ab363
Closes-Bug: #1790900
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit d5a0de261507192b61f2cdf80a537ceaa0792dc3)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/64/681564/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/ovn_db_sync.py']",2,c33a1bec316362412fc1df9c0ee849d0634b0bdc,bug/1802373, # 2. Create a Port Group for every existing Neutron Security Group and # 3. Delete all existing Address Sets in NorthBound database which # 4. Delete all the ACLs in every Logical Switch (Neutron network).," def _create_subnets_port_group(self, ctx, db_ports): filters = {'enable_dhcp': [1]} db_subnets = {} for subnet in self.core_plugin.get_subnets(ctx, filters=filters): if subnet['ip_version'] == constants.IP_VERSION_6 and ( subnet.get('ipv6_address_mode') == constants.IPV6_SLAAC): continue db_subnets[subnet['id']] = subnet with self.ovn_api.transaction(check_error=True) as txn: for subnet_id, subnet in db_subnets.items(): pg_name = utils.ovn_port_group_name(subnet_id) if not self.ovn_api.get_port_group(pg_name): # If subnet Port Group doesn't exist yet, create it. txn.add(self.ovn_api.pg_add(pg_name, acls=[])) # Add ACLs to this Port Group. acls = acl_utils.add_acls_for_subnet_port_group( self.ovn_api, pg_name, subnet) for acl in acls: txn.add(self.ovn_api.pg_acl_add(**acl)) # Add ports to the relevant subnet Port Groups for port in db_ports: for ip in port['fixed_ips']: if ip['subnet_id'] in db_subnets: txn.add(self.ovn_api.pg_add_ports( utils.ovn_port_group_name(ip['subnet_id']), port['id'])) # 2. Create a Port Group for every subnet to allow DHCP traffic. # and add the relevant ports to them. # 3. Create a Port Group for every existing Neutron Security Group and # 4. Delete all existing Address Sets in NorthBound database which # 5. Delete all the ACLs in every Logical Switch (Neutron network). self._create_subnets_port_group(ctx, db_ports)",5,64
openstack%2Fnetworking-ovn~stable%2Fqueens~I706199109a3b7dd5339c90b731f8cb8f04ca4f49,openstack/networking-ovn,stable/queens,I706199109a3b7dd5339c90b731f8cb8f04ca4f49,Fix bug migrating ACLs to Port Groups,ABANDONED,2019-09-11 18:15:23.000000000,2019-09-18 06:19:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-09-11 18:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/054f8547916e0f670d9410ec16af1ed98456ecbb', 'message': 'Fix bug migrating ACLs to Port Groups\n\nWhen migrating to Port Groups, we were installing wrong ACLs\nmatching on old Address Sets. This was because, during migration\ntime, old Address Sets still existed in NB database and we\nwere relying on their existence to figure out which one to use.\n\nThis patch fixes it by simply picking the auto generated\nAddress Set if Port Groups is supported in the OVSDB schema.\n\nChange-Id: I706199109a3b7dd5339c90b731f8cb8f04ca4f49\nCloses-Bug: #1790118\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 26551f85d1102b2de3eab4b468d22bacad3c1f45)\n'}, {'number': 2, 'created': '2019-09-12 08:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f75de3bf539427241b25b61615cef6e87714ac4b', 'message': 'Fix bug migrating ACLs to Port Groups\n\nWhen migrating to Port Groups, we were installing wrong ACLs\nmatching on old Address Sets. This was because, during migration\ntime, old Address Sets still existed in NB database and we\nwere relying on their existence to figure out which one to use.\n\nThis patch fixes it by simply picking the auto generated\nAddress Set if Port Groups is supported in the OVSDB schema.\n\nChange-Id: I706199109a3b7dd5339c90b731f8cb8f04ca4f49\nCloses-Bug: #1790118\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 26551f85d1102b2de3eab4b468d22bacad3c1f45)\n'}, {'number': 3, 'created': '2019-09-16 09:27:18.000000000', 'files': ['networking_ovn/common/acl.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/109727fc36fbcbfc5ed03012dbe8019ece39f5d7', 'message': 'Fix bug migrating ACLs to Port Groups\n\nWhen migrating to Port Groups, we were installing wrong ACLs\nmatching on old Address Sets. This was because, during migration\ntime, old Address Sets still existed in NB database and we\nwere relying on their existence to figure out which one to use.\n\nThis patch fixes it by simply picking the auto generated\nAddress Set if Port Groups is supported in the OVSDB schema.\n\nChange-Id: I706199109a3b7dd5339c90b731f8cb8f04ca4f49\nCloses-Bug: #1790118\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 26551f85d1102b2de3eab4b468d22bacad3c1f45)\n'}]",0,681563,109727fc36fbcbfc5ed03012dbe8019ece39f5d7,8,2,3,24791,,,0,"Fix bug migrating ACLs to Port Groups

When migrating to Port Groups, we were installing wrong ACLs
matching on old Address Sets. This was because, during migration
time, old Address Sets still existed in NB database and we
were relying on their existence to figure out which one to use.

This patch fixes it by simply picking the auto generated
Address Set if Port Groups is supported in the OVSDB schema.

Change-Id: I706199109a3b7dd5339c90b731f8cb8f04ca4f49
Closes-Bug: #1790118
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit 26551f85d1102b2de3eab4b468d22bacad3c1f45)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/63/681563/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/common/acl.py'],1,054f8547916e0f670d9410ec16af1ed98456ecbb,bug/1802373, if (ovn and ovn.is_port_groups_supported()):, # Check if the remote group is modelled as a Port Group or not as the # name of the Address Set differs. if (ovn and ovn.is_port_groups_supported() and not ovn.get_address_set(r['security_group_id'])):,1,4
openstack%2Fnetworking-ovn~stable%2Fqueens~I900e847851d10f7faf474b70eaecb47b2b016a24,openstack/networking-ovn,stable/queens,I900e847851d10f7faf474b70eaecb47b2b016a24,functional: Use different IP addresses for every fake chassis,ABANDONED,2019-09-11 18:15:23.000000000,2019-09-18 06:14:59.000000000,,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-11 18:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f1baa02c53d012e223c3a6eaf22ad291f0abcdd7', 'message': ""functional: Use different IP addresses for every fake chassis\n\nAs of OVS 2.11, the SB schema changed to not allow having two\nEncap rows with the same (ip, type) pairs. Some of our\nfunctional tests need more than one chassis and they all get\ncreated with the same (ip, type) values so they'll fail.\n\nThis patch changes it so that a new IP address is used every\ntime we create a fake chassis. It shouldn't have any impact\nas ovn-controller is not running so tunnels won't be created\nanyways.\n\nChange-Id: I900e847851d10f7faf474b70eaecb47b2b016a24\nCloses-Bug: #1810292\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 0cdd7ad8fe38c263b480b849d625a1ac94bea26a)\n""}, {'number': 2, 'created': '2019-09-16 09:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c383680f2b2953a0d2b356ab10df4bf740d7d44d', 'message': ""functional: Use different IP addresses for every fake chassis\n\nAs of OVS 2.11, the SB schema changed to not allow having two\nEncap rows with the same (ip, type) pairs. Some of our\nfunctional tests need more than one chassis and they all get\ncreated with the same (ip, type) values so they'll fail.\n\nThis patch changes it so that a new IP address is used every\ntime we create a fake chassis. It shouldn't have any impact\nas ovn-controller is not running so tunnels won't be created\nanyways.\n\nChange-Id: I900e847851d10f7faf474b70eaecb47b2b016a24\nCloses-Bug: #1810292\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 0cdd7ad8fe38c263b480b849d625a1ac94bea26a)\n""}, {'number': 3, 'created': '2019-09-17 12:47:47.000000000', 'files': ['networking_ovn/tests/functional/test_impl_idl.py', 'networking_ovn/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f8cfb1c7b43de0fb9a9556ae26fa2269fa79f1f0', 'message': ""functional: Use different IP addresses for every fake chassis\n\nAs of OVS 2.11, the SB schema changed to not allow having two\nEncap rows with the same (ip, type) pairs. Some of our\nfunctional tests need more than one chassis and they all get\ncreated with the same (ip, type) values so they'll fail.\n\nThis patch changes it so that a new IP address is used every\ntime we create a fake chassis. It shouldn't have any impact\nas ovn-controller is not running so tunnels won't be created\nanyways.\n\nChange-Id: I900e847851d10f7faf474b70eaecb47b2b016a24\nCloses-Bug: #1810292\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n(cherry picked from commit 0cdd7ad8fe38c263b480b849d625a1ac94bea26a)\n""}]",0,681561,f8cfb1c7b43de0fb9a9556ae26fa2269fa79f1f0,11,7,3,24791,,,0,"functional: Use different IP addresses for every fake chassis

As of OVS 2.11, the SB schema changed to not allow having two
Encap rows with the same (ip, type) pairs. Some of our
functional tests need more than one chassis and they all get
created with the same (ip, type) values so they'll fail.

This patch changes it so that a new IP address is used every
time we create a fake chassis. It shouldn't have any impact
as ovn-controller is not running so tunnels won't be created
anyways.

Change-Id: I900e847851d10f7faf474b70eaecb47b2b016a24
Closes-Bug: #1810292
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
(cherry picked from commit 0cdd7ad8fe38c263b480b849d625a1ac94bea26a)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/61/681561/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/functional/test_impl_idl.py', 'networking_ovn/tests/functional/base.py']",2,f1baa02c53d012e223c3a6eaf22ad291f0abcdd7,pg-backport-queens," _counter = 0 # We'll be using different IP addresses every time for the Encap of # the fake chassis as the SB schema doesn't allow to have two entries # with same (ip,type) pairs as of OVS 2.11. This shouldn't have any # impact as the tunnels won't get created anyways since ovn-controller # is not running. Ideally we shouldn't be creating more than 255 # fake chassis but from the SB db point of view, 'ip' column can be # any string so we could add entries with ip='172.24.4.1000'. self._counter += 1 name, ['geneve'], '172.24.4.%d' % self._counter, external_ids=external_ids, hostname=host).execute(check_error=True)"," name, ['geneve'], '172.24.4.10', external_ids=external_ids, hostname=host).execute(check_error=True)",13,4
openstack%2Ftempest~master~Ia72c504ac9301a8f908e316c7d29034a3f9dedfe,openstack/tempest,master,Ia72c504ac9301a8f908e316c7d29034a3f9dedfe,Remove API reference,ABANDONED,2019-09-18 03:32:06.000000000,2019-09-18 05:45:01.000000000,,[{'_account_id': 5689}],"[{'number': 1, 'created': '2019-09-18 03:32:06.000000000', 'files': ['tempest/lib/services/compute/agents_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7ab4a5776cc05256096ea32f0852fb2514117611', 'message': 'Remove API reference\n\nRemove unuseful API reference for agents_client.py\n\nChange-Id: Ia72c504ac9301a8f908e316c7d29034a3f9dedfe\n'}]",1,682781,7ab4a5776cc05256096ea32f0852fb2514117611,3,1,1,30643,,,0,"Remove API reference

Remove unuseful API reference for agents_client.py

Change-Id: Ia72c504ac9301a8f908e316c7d29034a3f9dedfe
",git fetch https://review.opendev.org/openstack/tempest refs/changes/81/682781/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/services/compute/agents_client.py'],1,7ab4a5776cc05256096ea32f0852fb2514117611,removeapi," """"""Delete an existing agent build."""""""," """"""Delete an existing agent build. For a full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/compute/#delete-agent-build """"""",1,6
openstack%2Ftempest~master~I6f84abc1b9273f38b99678edaff54deb0fd99e0c,openstack/tempest,master,I6f84abc1b9273f38b99678edaff54deb0fd99e0c,Add irrelevant files to .zuul.yaml,MERGED,2019-09-17 06:35:03.000000000,2019-09-18 05:42:17.000000000,2019-09-18 05:39:59.000000000,"[{'_account_id': 6167}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-09-17 06:35:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3044a29a17c26adacf280c96813a1bbaa042b5f5', 'message': 'Add irrelevant files to .zuul.yaml\n\nThis commit adds 4 irrelevant files to both ""irrelevant-files"" and\n""irrelevant-files-2"". We don\'t need to run tempest tests with updating\nsuch files because they don\'t affect tempest tests.\n\nChange-Id: I6f84abc1b9273f38b99678edaff54deb0fd99e0c\n'}]",0,682552,3044a29a17c26adacf280c96813a1bbaa042b5f5,8,3,1,5689,,,0,"Add irrelevant files to .zuul.yaml

This commit adds 4 irrelevant files to both ""irrelevant-files"" and
""irrelevant-files-2"". We don't need to run tempest tests with updating
such files because they don't affect tempest tests.

Change-Id: I6f84abc1b9273f38b99678edaff54deb0fd99e0c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/52/682552/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3044a29a17c26adacf280c96813a1bbaa042b5f5,add-irrelevant-files, - ^.coveragerc$ - ^.gitignore$ - ^.gitreview$ - ^.mailmap$ - ^.coveragerc$ - ^.gitignore$ - ^.gitreview$ - ^.mailmap$,,8,0
openstack%2Foctavia~stable%2Frocky~I4e8007ff98f585ce6622f7128ecdd53cdfa926a7,openstack/octavia,stable/rocky,I4e8007ff98f585ce6622f7128ecdd53cdfa926a7,Fix l7rule API handling of None updates,MERGED,2019-08-26 13:51:35.000000000,2019-09-18 04:34:16.000000000,2019-09-18 04:31:59.000000000,"[{'_account_id': 2245}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-26 13:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2234394dcea1411ddc6c6c4509be66cec95c1aef', 'message': 'Fix l7rule API handling of None updates\n\nThe current l7rule API does not properly handle\nclearing/reseting values on update.\n\nThis patch corrects this to appropriately handle None/null updates\nto the l7rule parameters.\n\nStory: 2005374\nTask: 36023\n\nChange-Id: I4e8007ff98f585ce6622f7128ecdd53cdfa926a7\n(cherry picked from commit e4e7b4a880c19054b63cd295cb19adee527517e5)\n'}, {'number': 2, 'created': '2019-09-16 08:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b8f68c2da9f8678419b2e4787a19a234ef020b23', 'message': 'Fix l7rule API handling of None updates\n\nThe current l7rule API does not properly handle\nclearing/reseting values on update.\n\nThis patch corrects this to appropriately handle None/null updates\nto the l7rule parameters.\n\nConflicts:\n    octavia/tests/functional/api/v2/test_l7rule.py\n\nStory: 2005374\nTask: 36023\n\nChange-Id: I4e8007ff98f585ce6622f7128ecdd53cdfa926a7\n(cherry picked from commit e4e7b4a880c19054b63cd295cb19adee527517e5)\n(cherry picked from commit 55b04f279bb2587b8e78667f386f582b347f4e03)\n'}, {'number': 3, 'created': '2019-09-17 15:01:48.000000000', 'files': ['octavia/tests/functional/api/v2/test_l7rule.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/common/validate.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e0913562de2a5f23d1dade40d36679736dc25d9d', 'message': 'Fix l7rule API handling of None updates\n\nThe current l7rule API does not properly handle\nclearing/reseting values on update.\n\nThis patch corrects this to appropriately handle None/null updates\nto the l7rule parameters.\n\nConflicts:\n    octavia/tests/functional/api/v2/test_l7rule.py\n\nStory: 2005374\nTask: 36023\n\nChange-Id: I4e8007ff98f585ce6622f7128ecdd53cdfa926a7\n(cherry picked from commit e4e7b4a880c19054b63cd295cb19adee527517e5)\n(cherry picked from commit 55b04f279bb2587b8e78667f386f582b347f4e03)\n'}]",0,678551,e0913562de2a5f23d1dade40d36679736dc25d9d,12,3,3,6469,,,0,"Fix l7rule API handling of None updates

The current l7rule API does not properly handle
clearing/reseting values on update.

This patch corrects this to appropriately handle None/null updates
to the l7rule parameters.

Conflicts:
    octavia/tests/functional/api/v2/test_l7rule.py

Story: 2005374
Task: 36023

Change-Id: I4e8007ff98f585ce6622f7128ecdd53cdfa926a7
(cherry picked from commit e4e7b4a880c19054b63cd295cb19adee527517e5)
(cherry picked from commit 55b04f279bb2587b8e78667f386f582b347f4e03)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/51/678551/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/api/v2/test_l7rule.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/common/validate.py']",3,2234394dcea1411ddc6c6c4509be66cec95c1aef,api-none-stable/stein-stable/rocky, if not l7rule.value: raise exceptions.InvalidL7Rule(msg=_('L7 rule type requires a value')),,19,0
openstack%2Fkeystone~master~Ibb12053bd6864a153f7e3998dbd008b6eec4295b,openstack/keystone,master,Ibb12053bd6864a153f7e3998dbd008b6eec4295b,Split protection unit tests into its own job,MERGED,2019-09-07 00:28:03.000000000,2019-09-18 04:26:44.000000000,2019-09-18 04:22:18.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 15054}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-07 00:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0465ac93605cf55683b3c11074ae05e672c13026', 'message': 'Split protection unit tests into its own job\n\nThere are so many protection tests now, and for the moment they are so\ninefficient, that running them all as part of our main unit test suite\nfor py27, py36, py37, and cover jobs yields a high rate of timeouts\nwhich reduces our own development velocity and negatively impacts every\nproject that co-gates with keystone. This change splits the protection\ntests into their own level of tests outside of the configured stestr\ntest_path and adds a separate tox environment and zuul job to run just\nthe protection tests on their own. Parallelizing these tests should help\nalleviate the timeout issue while we work on making these tests more\nefficient.\n\nChange-Id: Ibb12053bd6864a153f7e3998dbd008b6eec4295b\n'}, {'number': 2, 'created': '2019-09-10 07:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0cc5883926576c412a569d6a10ec6bfdf0228257', 'message': 'Split protection unit tests into its own job\n\nThere are so many protection tests now, and for the moment they are so\ninefficient, that running them all as part of our main unit test suite\nfor py27, py36, py37, and cover jobs yields a high rate of timeouts\nwhich reduces our own development velocity and negatively impacts every\nproject that co-gates with keystone. This change splits the protection\ntests into their own level of tests outside of the configured stestr\ntest_path and adds a separate tox environment and zuul job to run just\nthe protection tests on their own. Parallelizing these tests should help\nalleviate the timeout issue while we work on making these tests more\nefficient.\n\nChange-Id: Ibb12053bd6864a153f7e3998dbd008b6eec4295b\n'}, {'number': 3, 'created': '2019-09-16 17:57:16.000000000', 'files': ['keystone/tests/protection/v3/test_roles.py', 'keystone/tests/protection/v3/test_endpoints.py', 'keystone/tests/protection/v3/test_regions.py', 'keystone/tests/protection/v3/test_service_providers.py', 'keystone/tests/protection/v3/test_services.py', 'keystone/tests/protection/v3/test_credentials.py', 'keystone/tests/protection/v3/test_policy_association.py', 'keystone/tests/protection/v3/test_mappings.py', 'keystone/tests/protection/v3/test_identity_providers.py', 'keystone/tests/protection/__init__.py', 'keystone/tests/protection/v3/test_groups.py', 'keystone/tests/protection/v3/test_policy.py', 'keystone/tests/protection/v3/test_system_assignments.py', 'keystone/tests/protection/v3/test_trusts.py', 'keystone/tests/protection/v3/test_tokens.py', 'keystone/tests/protection/v3/test_grants.py', '.zuul.yaml', 'keystone/tests/protection/v3/test_limits.py', 'keystone/tests/protection/v3/test_users.py', 'keystone/tests/protection/v3/test_assignment.py', 'keystone/tests/protection/v3/test_protocols.py', 'keystone/tests/protection/v3/test_application_credential.py', 'keystone/tests/protection/v3/test_domains.py', 'keystone/tests/protection/v3/test_registered_limits.py', 'tox.ini', 'keystone/tests/protection/v3/__init__.py', 'keystone/tests/protection/v3/test_endpoint_group.py', 'keystone/tests/protection/v3/test_projects.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/5e35efd55f1b674a12e9d7a9da50344d817d342e', 'message': 'Split protection unit tests into its own job\n\nThere are so many protection tests now, and for the moment they are so\ninefficient, that running them all as part of our main unit test suite\nfor py27, py36, py37, and cover jobs yields a high rate of timeouts\nwhich reduces our own development velocity and negatively impacts every\nproject that co-gates with keystone. This change splits the protection\ntests into their own level of tests outside of the configured stestr\ntest_path and adds a separate tox environment and zuul job to run just\nthe protection tests on their own. Parallelizing these tests should help\nalleviate the timeout issue while we work on making these tests more\nefficient.\n\nChange-Id: Ibb12053bd6864a153f7e3998dbd008b6eec4295b\n'}]",0,680788,5e35efd55f1b674a12e9d7a9da50344d817d342e,20,5,3,8482,,,0,"Split protection unit tests into its own job

There are so many protection tests now, and for the moment they are so
inefficient, that running them all as part of our main unit test suite
for py27, py36, py37, and cover jobs yields a high rate of timeouts
which reduces our own development velocity and negatively impacts every
project that co-gates with keystone. This change splits the protection
tests into their own level of tests outside of the configured stestr
test_path and adds a separate tox environment and zuul job to run just
the protection tests on their own. Parallelizing these tests should help
alleviate the timeout issue while we work on making these tests more
efficient.

Change-Id: Ibb12053bd6864a153f7e3998dbd008b6eec4295b
",git fetch https://review.opendev.org/openstack/keystone refs/changes/88/680788/3 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/protection/v3/test_roles.py', 'keystone/tests/protection/v3/test_endpoints.py', 'keystone/tests/protection/v3/test_regions.py', 'keystone/tests/protection/v3/test_service_providers.py', 'keystone/tests/protection/v3/test_services.py', 'keystone/tests/protection/v3/test_credentials.py', 'keystone/tests/protection/v3/test_policy_association.py', 'keystone/tests/protection/v3/test_mappings.py', 'keystone/tests/protection/v3/test_identity_providers.py', 'keystone/tests/protection/__init__.py', 'keystone/tests/protection/v3/test_groups.py', 'keystone/tests/protection/v3/test_policy.py', 'keystone/tests/protection/v3/test_system_assignments.py', 'keystone/tests/protection/v3/test_trusts.py', 'keystone/tests/protection/v3/test_tokens.py', 'keystone/tests/protection/v3/test_grants.py', '.zuul.yaml', 'keystone/tests/protection/v3/test_limits.py', 'keystone/tests/protection/v3/test_users.py', 'keystone/tests/protection/v3/test_assignment.py', 'keystone/tests/protection/v3/test_protocols.py', 'keystone/tests/protection/v3/test_application_credential.py', 'keystone/tests/protection/v3/test_domains.py', 'keystone/tests/protection/v3/test_registered_limits.py', 'tox.ini', 'keystone/tests/protection/v3/__init__.py', 'keystone/tests/protection/v3/test_endpoint_group.py', 'keystone/tests/protection/v3/test_projects.py']",28,0465ac93605cf55683b3c11074ae05e672c13026,split-protection-tests,,,15,1
openstack%2Ftempest~master~Ia656e992e86293339521627acc892f81f7bd6a0b,openstack/tempest,master,Ia656e992e86293339521627acc892f81f7bd6a0b,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-31 09:03:51.000000000,2019-09-18 04:25:43.000000000,2019-09-18 04:22:20.000000000,"[{'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 17887}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-31 09:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3454e7b6dd8eddf9be16fcc1cd2a70200d55265a', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Ia656e992e86293339521627acc892f81f7bd6a0b\n'}, {'number': 2, 'created': '2019-08-01 01:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/47a6c06db54a0970cc6a251d656622eba41cd095', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Ia656e992e86293339521627acc892f81f7bd6a0b\n'}, {'number': 3, 'created': '2019-09-16 02:08:48.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e740d39d049793216524dfc518a4fb7123019208', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Ia656e992e86293339521627acc892f81f7bd6a0b\n'}]",1,673765,e740d39d049793216524dfc518a4fb7123019208,15,4,3,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: Ia656e992e86293339521627acc892f81f7bd6a0b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/65/673765/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py']",3,3454e7b6dd8eddf9be16fcc1cd2a70200d55265a,openstackdocstheme,,"# Must set this variable to include year, month, day, hours, and minutes. html_last_updated_fmt = '%Y-%m-%d %H:%M' project = u'tempest Release Notes'# Release do not need a version number in the title, they # cover multiple versions. # The full version, including alpha/beta/rc tags. release = '' # The short X.Y version. version = '' latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",1,27
openstack%2Foctavia~stable%2Fstein~I4e8007ff98f585ce6622f7128ecdd53cdfa926a7,openstack/octavia,stable/stein,I4e8007ff98f585ce6622f7128ecdd53cdfa926a7,Fix l7rule API handling of None updates,MERGED,2019-08-26 13:51:26.000000000,2019-09-18 04:03:17.000000000,2019-09-18 04:01:05.000000000,"[{'_account_id': 2245}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-26 13:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b74c4be9cb233745919117aaedff6b1051c9c420', 'message': 'Fix l7rule API handling of None updates\n\nThe current l7rule API does not properly handle\nclearing/reseting values on update.\n\nThis patch corrects this to appropriately handle None/null updates\nto the l7rule parameters.\n\nStory: 2005374\nTask: 36023\n\nChange-Id: I4e8007ff98f585ce6622f7128ecdd53cdfa926a7\n(cherry picked from commit e4e7b4a880c19054b63cd295cb19adee527517e5)\n'}, {'number': 2, 'created': '2019-09-16 07:57:55.000000000', 'files': ['octavia/tests/functional/api/v2/test_l7rule.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/common/validate.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/55b04f279bb2587b8e78667f386f582b347f4e03', 'message': 'Fix l7rule API handling of None updates\n\nThe current l7rule API does not properly handle\nclearing/reseting values on update.\n\nThis patch corrects this to appropriately handle None/null updates\nto the l7rule parameters.\n\nStory: 2005374\nTask: 36023\n\nChange-Id: I4e8007ff98f585ce6622f7128ecdd53cdfa926a7\n(cherry picked from commit e4e7b4a880c19054b63cd295cb19adee527517e5)\n'}]",0,678550,55b04f279bb2587b8e78667f386f582b347f4e03,11,3,2,6469,,,0,"Fix l7rule API handling of None updates

The current l7rule API does not properly handle
clearing/reseting values on update.

This patch corrects this to appropriately handle None/null updates
to the l7rule parameters.

Story: 2005374
Task: 36023

Change-Id: I4e8007ff98f585ce6622f7128ecdd53cdfa926a7
(cherry picked from commit e4e7b4a880c19054b63cd295cb19adee527517e5)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/50/678550/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/api/v2/test_l7rule.py', 'octavia/api/v2/controllers/l7rule.py', 'octavia/common/validate.py']",3,b74c4be9cb233745919117aaedff6b1051c9c420,api-none-stable/stein, if not l7rule.value: raise exceptions.InvalidL7Rule(msg=_('L7 rule type requires a value')),,19,0
openstack%2Fcinder~master~I33d691d1dfa835b70726bcfacf868faab52de16a,openstack/cinder,master,I33d691d1dfa835b70726bcfacf868faab52de16a,Dell EMC SC: Handle the mappings of multiattached volume,MERGED,2019-05-02 18:04:56.000000000,2019-09-18 03:09:44.000000000,2019-08-30 18:26:34.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7160}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12983}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22700}, {'_account_id': 23253}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 27679}, {'_account_id': 28801}, {'_account_id': 29466}, {'_account_id': 29627}, {'_account_id': 29637}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30105}, {'_account_id': 30388}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-05-02 18:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5033c0954a82af3e3fcdbd379cef0bc7b0dfbcdd', 'message': 'Dell EMC SC: Handle the mappings of multiattached volume\n\nFor volumes attached to multiple instances, this handles\nthe deletion of mappings in the backend when the volume\nis attached to multiple instances on the same host.\n\nChange-Id: I33d691d1dfa835b70726bcfacf868faab52de16a\nCloses-Bug: #1822229\n'}, {'number': 2, 'created': '2019-05-02 18:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5b9a818fae80b03878a1d23a28c722ef8247eeb9', 'message': 'Dell EMC SC: Handle the mappings of multiattached volume\n\nFor volumes attached to multiple instances, this handles\nthe deletion of mappings in the backend when the volume\nis attached to multiple instances on the same host.\n\nChange-Id: I33d691d1dfa835b70726bcfacf868faab52de16a\nCloses-Bug: #1822229\n'}, {'number': 3, 'created': '2019-05-06 15:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a067ac3b7cbc55665d150fb108dabea4c311441', 'message': 'Dell EMC SC: Handle the mappings of multiattached volume\n\nFor volumes attached to multiple instances, this handles\nthe deletion of mappings in the backend when the volume\nis attached to multiple instances on the same host.\n\nChange-Id: I33d691d1dfa835b70726bcfacf868faab52de16a\nCloses-Bug: #1822229\n'}, {'number': 4, 'created': '2019-05-06 15:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/eca4e9b6580f403cca2e2657b5c5c9324458ebb1', 'message': 'Dell EMC SC: Handle the mappings of multiattached volume\n\nFor volumes attached to multiple instances, this handles\nthe deletion of mappings in the backend when the volume\nis attached to multiple instances on the same host.\n\nChange-Id: I33d691d1dfa835b70726bcfacf868faab52de16a\nCloses-Bug: #1822229\n'}, {'number': 5, 'created': '2019-06-12 03:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/087295ee9627d28557fdc5519f5986e2c470f1f1', 'message': 'Dell EMC SC: Handle the mappings of multiattached volume\n\nFor volumes attached to multiple instances, this handles\nthe deletion of mappings in the backend when the volume\nis attached to multiple instances on the same host.\n\nChange-Id: I33d691d1dfa835b70726bcfacf868faab52de16a\nCloses-Bug: #1822229\n'}, {'number': 6, 'created': '2019-06-26 05:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5c62098a6fc7dab27bd6864803cb165af08ae3c3', 'message': 'Dell EMC SC: Handle the mappings of multiattached volume\n\nFor volumes attached to multiple instances, this handles\nthe deletion of mappings in the backend when the volume\nis attached to multiple instances on the same host.\n\nChange-Id: I33d691d1dfa835b70726bcfacf868faab52de16a\nCloses-Bug: #1822229\n'}, {'number': 7, 'created': '2019-06-26 15:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0885757f881b85bf56841a16c1549603cc979b8b', 'message': 'Dell EMC SC: Handle the mappings of multiattached volume\n\nFor volumes attached to multiple instances, this handles\nthe deletion of mappings in the backend when the volume\nis attached to multiple instances on the same host.\n\nChange-Id: I33d691d1dfa835b70726bcfacf868faab52de16a\nCloses-Bug: #1822229\n'}, {'number': 8, 'created': '2019-06-27 21:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2918ab13bc4dd4f253e3137fbd0b5965a34e3f0d', 'message': 'Dell EMC SC: Handle the mappings of multiattached volume\n\nFor volumes attached to multiple instances, this handles\nthe deletion of mappings in the backend when the volume\nis attached to multiple instances on the same host.\n\nChange-Id: I33d691d1dfa835b70726bcfacf868faab52de16a\nCloses-Bug: #1822229\nCo-Authored-By: Sam Wan <sam_wan@emc.com>\n'}, {'number': 9, 'created': '2019-07-03 18:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/885d353c4e7081c017ecec292a61be4a874c3fc7', 'message': 'Dell EMC SC: Handle the mappings of multiattached volume\n\nFor volumes attached to multiple instances, this handles\nthe deletion of mappings in the backend when the volume\nis attached to multiple instances on the same host.\n\nChange-Id: I33d691d1dfa835b70726bcfacf868faab52de16a\nCloses-Bug: #1822229\nCo-Authored-By: Sam Wan <sam_wan@emc.com>\n'}, {'number': 10, 'created': '2019-07-03 18:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/96373ff0df301d0ba241ca78eafb7eb5aba95f95', 'message': 'Dell EMC SC: Handle the mappings of multiattached volume\n\nFor volumes attached to multiple instances, this handles\nthe deletion of mappings in the backend when the volume\nis attached to multiple instances on the same host.\n\nChange-Id: I33d691d1dfa835b70726bcfacf868faab52de16a\nCloses-Bug: #1822229\nCo-Authored-By: Sam Wan <sam_wan@emc.com>\n'}, {'number': 11, 'created': '2019-07-05 22:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5f2cfc79fcf1bbfb60e1139ad9a5c74a205bc4ad', 'message': 'Dell EMC SC: Handle the mappings of multiattached volume\n\nFor volumes attached to multiple instances, this handles\nthe deletion of mappings in the backend when the volume\nis attached to multiple instances on the same host.\n\nChange-Id: I33d691d1dfa835b70726bcfacf868faab52de16a\nCloses-Bug: #1822229\nCo-Authored-By: Sam Wan <sam_wan@emc.com>\n'}, {'number': 12, 'created': '2019-08-27 18:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/99fe2757b7c9ffbf8812fa3735c2937a8a6c2c48', 'message': 'Dell EMC SC: Handle the mappings of multiattached volume\n\nFor volumes attached to multiple instances, this handles\nthe deletion of mappings in the backend when the volume\nis attached to multiple instances on the same host.\n\nChange-Id: I33d691d1dfa835b70726bcfacf868faab52de16a\nCloses-Bug: #1822229\nCo-Authored-By: Sam Wan <sam_wan@emc.com>\n'}, {'number': 13, 'created': '2019-08-29 16:16:03.000000000', 'files': ['cinder/volume/drivers/dell_emc/sc/storagecenter_iscsi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/sc/test_sc.py', 'releasenotes/notes/sc-handle-multiattach-onterminate-6ab1f96f21bb284d.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/sc/test_fc.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/08d35b099113679eb7d343f7463d63cb6f1adbbc', 'message': 'Dell EMC SC: Handle the mappings of multiattached volume\n\nFor volumes attached to multiple instances, this handles\nthe deletion of mappings in the backend when the volume\nis attached to multiple instances on the same host.\n\nChange-Id: I33d691d1dfa835b70726bcfacf868faab52de16a\nCloses-Bug: #1822229\nCo-Authored-By: Sam Wan <sam_wan@emc.com>\n'}]",29,656835,08d35b099113679eb7d343f7463d63cb6f1adbbc,396,57,13,10379,,,0,"Dell EMC SC: Handle the mappings of multiattached volume

For volumes attached to multiple instances, this handles
the deletion of mappings in the backend when the volume
is attached to multiple instances on the same host.

Change-Id: I33d691d1dfa835b70726bcfacf868faab52de16a
Closes-Bug: #1822229
Co-Authored-By: Sam Wan <sam_wan@emc.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/656835/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/sc/storagecenter_iscsi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/sc/test_sc.py', 'releasenotes/notes/sc-handle-multiattach-onterminate-6ab1f96f21bb284d.yaml']",4,5033c0954a82af3e3fcdbd379cef0bc7b0dfbcdd,bug/1822229,--- fixes: - | Dell EMC SC Driver: Fixes `bug 1822229 <https://bugs.launchpad.net/cinder/+bug/1822229>`__ to handle the volume mappings in the backend when a volume is attached to multiple instances on the same host. ,,111,8
openstack%2Fproject-config~master~I41b345246f2012d15d969524b5879c9da32b708d,openstack/project-config,master,I41b345246f2012d15d969524b5879c9da32b708d,Add system-config and zuul to OpenDev tenant for jobs,MERGED,2019-09-17 21:48:34.000000000,2019-09-18 02:21:46.000000000,2019-09-18 02:21:46.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 21:48:34.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d7c3f55741de79111df3b8e2017049cfa5fb3804', 'message': ""Add system-config and zuul to OpenDev tenant for jobs\n\nThis adds repos to the OpenDev tenant so that jobs defined in their\nrepos may be used in that tenant.  Specifically, we're looking to\nrun third-party-check builds of Gerrit and Zuul on changes to\nupstream Gerrit repos.  The actual jobs we run there are likely to\nbe defined in the system-config and zuul repos.\n\nChange-Id: I41b345246f2012d15d969524b5879c9da32b708d\n""}]",0,682755,d7c3f55741de79111df3b8e2017049cfa5fb3804,9,3,1,1,,,0,"Add system-config and zuul to OpenDev tenant for jobs

This adds repos to the OpenDev tenant so that jobs defined in their
repos may be used in that tenant.  Specifically, we're looking to
run third-party-check builds of Gerrit and Zuul on changes to
upstream Gerrit repos.  The actual jobs we run there are likely to
be defined in the system-config and zuul repos.

Change-Id: I41b345246f2012d15d969524b5879c9da32b708d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/55/682755/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,d7c3f55741de79111df3b8e2017049cfa5fb3804,gerrit-zuul," # Include some projects with job config for cross-tenant # jobs - include: [job, secret, nodeset] projects: - opendev/system-config # TODO: move to this tenant for # real - zuul/zuul",,7,0
openstack%2Fproject-config~master~I9968048024c61bcba5e60d1096e80218e29f2586,openstack/project-config,master,I9968048024c61bcba5e60d1096e80218e29f2586,Add upstream Gerrit projects to OpenDev Zuul tenant,MERGED,2019-09-17 21:48:34.000000000,2019-09-18 02:21:44.000000000,2019-09-18 02:21:44.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 21:48:34.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/b367ae339f80e136bdc986c07aca6d7b5e6b023a', 'message': 'Add upstream Gerrit projects to OpenDev Zuul tenant\n\nThis will allow us to create a third-party-check pipeline in\nthe OpenDev tenant, which is probably a better home than the\nOpenStack tenant (system-config should eventually move here as\nwell).\n\nChange-Id: I9968048024c61bcba5e60d1096e80218e29f2586\n'}]",0,682754,b367ae339f80e136bdc986c07aca6d7b5e6b023a,7,3,1,1,,,0,"Add upstream Gerrit projects to OpenDev Zuul tenant

This will allow us to create a third-party-check pipeline in
the OpenDev tenant, which is probably a better home than the
OpenStack tenant (system-config should eventually move here as
well).

Change-Id: I9968048024c61bcba5e60d1096e80218e29f2586
",git fetch https://review.opendev.org/openstack/project-config refs/changes/54/682754/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,b367ae339f80e136bdc986c07aca6d7b5e6b023a,gerrit-zuul, googlesource: untrusted-projects: - include: [] projects: &googlesource_projects - gerrit - plugins/checks - plugins/codemirror-editor - plugins/commit-message-length-validator - plugins/delete-project - plugins/download-commands - plugins/gitiles - plugins/hooks - plugins/importer - plugins/its-base - plugins/its-storyboard - plugins/javamelody - plugins/plugin-manager - plugins/replication - plugins/reviewnotes - plugins/singleusergroup - plugins/verify-status - plugins/webhooks projects: *googlesource_projects, projects: - gerrit - plugins/checks - plugins/codemirror-editor - plugins/commit-message-length-validator - plugins/delete-project - plugins/download-commands - plugins/gitiles - plugins/hooks - plugins/importer - plugins/its-base - plugins/its-storyboard - plugins/javamelody - plugins/plugin-manager - plugins/replication - plugins/reviewnotes - plugins/singleusergroup - plugins/verify-status - plugins/webhooks,23,19
openstack%2Fproject-config~master~I88ceef2010559a4d11bc9921de122800e7b1e3f3,openstack/project-config,master,I88ceef2010559a4d11bc9921de122800e7b1e3f3,Add the gerrit checks plugin repo to Zuul,MERGED,2019-09-17 21:29:46.000000000,2019-09-18 02:17:57.000000000,2019-09-18 02:17:57.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 21:29:46.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5e315b24c2c99098240d747cd275594bdffd2e73', 'message': ""Add the gerrit checks plugin repo to Zuul\n\nWe'd like to do some cross-project testing between Zuul and the\ngerrit checks plugin, so go ahead and add it to the system.\n\nChange-Id: I88ceef2010559a4d11bc9921de122800e7b1e3f3\n""}]",0,682752,5e315b24c2c99098240d747cd275594bdffd2e73,7,3,1,1,,,0,"Add the gerrit checks plugin repo to Zuul

We'd like to do some cross-project testing between Zuul and the
gerrit checks plugin, so go ahead and add it to the system.

Change-Id: I88ceef2010559a4d11bc9921de122800e7b1e3f3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/52/682752/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,5e315b24c2c99098240d747cd275594bdffd2e73,gerrit-zuul, - plugins/checks,,1,0
openstack%2Fwatcher~master~I1563579486da8912ba8a220bb08a5331e7df910b,openstack/watcher,master,I1563579486da8912ba8a220bb08a5331e7df910b,Build pdf docs,MERGED,2019-09-17 03:51:16.000000000,2019-09-18 02:02:07.000000000,2019-09-18 02:00:24.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-09-17 03:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/789cbc72ef26534700d227485e72aa2314fdc3f3', 'message': 'Build pdf docs\n\n Add a new pdf-docs environment to enable PDF build.\n sphinxcontrib-svg2pdfconverter is used to handle SVG properly.\n\nChange-Id: I1563579486da8912ba8a220bb08a5331e7df910b\n'}, {'number': 2, 'created': '2019-09-17 06:09:42.000000000', 'files': ['doc/source/index.rst', 'doc/source/conf.py', 'doc/source/glossary.rst', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher/commit/ffd8e27bd17cae1094261b5aee43b3a345d3d8f3', 'message': 'Build pdf docs\n\n Add a new pdf-docs environment to enable PDF build.\n sphinxcontrib-svg2pdfconverter is used to handle SVG properly.\n\nChange-Id: I1563579486da8912ba8a220bb08a5331e7df910b\n'}]",0,682530,ffd8e27bd17cae1094261b5aee43b3a345d3d8f3,9,3,2,21692,,,0,"Build pdf docs

 Add a new pdf-docs environment to enable PDF build.
 sphinxcontrib-svg2pdfconverter is used to handle SVG properly.

Change-Id: I1563579486da8912ba8a220bb08a5331e7df910b
",git fetch https://review.opendev.org/openstack/watcher refs/changes/30/682530/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/conf.py', 'doc/source/glossary.rst', 'doc/requirements.txt', 'tox.ini']",5,789cbc72ef26534700d227485e72aa2314fdc3f3,build-pdf-docs,[testenv:pdf-docs] basepython = python3 envdir = {toxworkdir}/docs deps = {[testenv:docs]deps} whitelist_externals = rm make commands = rm -rf doc/build/pdf sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,34,7
openstack%2Fwatcher~stable%2Frocky~I013f9d03978f8716847f8d1ee6888629faf5779b,openstack/watcher,stable/rocky,I013f9d03978f8716847f8d1ee6888629faf5779b,pass default_config_dirs variable for config initialization.,MERGED,2019-09-16 15:29:29.000000000,2019-09-18 02:00:25.000000000,2019-09-18 02:00:25.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 23735}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-09-16 15:29:29.000000000', 'files': ['watcher/common/config.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/4db5a58d0dbe1dd0b65b7ca38ff4acef622e0bd8', 'message': ""pass default_config_dirs variable for config initialization.\n\nCurrently default config files are being for initialization of CONF from\noslo_config. However default config dirs are not being passed as a\nresult watcher components (eg: decision-engine) are unable to load\nfiles from default directories (eg: /etc/watcher/watcher.conf.d)\nsupported by oslo_config. This is a short-coming on watcher's side.\nAlso this forces user to have multiple config for each component.\n\nWithout this default set, oslo_config will search for conf with string\n'python-watcher' in it, eg: /etc/python-watcher/.... Since there is a\nbecause project=python-watcher a couple of lines below\n\nThis patch adds the option after evaluating using project as 'watcher'\nwhich is similar to evaluation of default_config_files and also allows\nit to be passed in as a function parameter.\n\nChange-Id: I013f9d03978f8716847f8d1ee6888629faf5779b\n(cherry picked from commit dce23d7eb43e078729f21791ef758174e530059a)\n(cherry picked from commit ec5780902ff99135e4883a6c45b3190bf6f7c5cb)\n""}]",0,682390,4db5a58d0dbe1dd0b65b7ca38ff4acef622e0bd8,9,4,1,1916,,,0,"pass default_config_dirs variable for config initialization.

Currently default config files are being for initialization of CONF from
oslo_config. However default config dirs are not being passed as a
result watcher components (eg: decision-engine) are unable to load
files from default directories (eg: /etc/watcher/watcher.conf.d)
supported by oslo_config. This is a short-coming on watcher's side.
Also this forces user to have multiple config for each component.

Without this default set, oslo_config will search for conf with string
'python-watcher' in it, eg: /etc/python-watcher/.... Since there is a
because project=python-watcher a couple of lines below

This patch adds the option after evaluating using project as 'watcher'
which is similar to evaluation of default_config_files and also allows
it to be passed in as a function parameter.

Change-Id: I013f9d03978f8716847f8d1ee6888629faf5779b
(cherry picked from commit dce23d7eb43e078729f21791ef758174e530059a)
(cherry picked from commit ec5780902ff99135e4883a6c45b3190bf6f7c5cb)
",git fetch https://review.opendev.org/openstack/watcher refs/changes/90/682390/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/common/config.py'],1,4db5a58d0dbe1dd0b65b7ca38ff4acef622e0bd8,,"def parse_args(argv, default_config_files=None, default_config_dirs=None): default_config_dirs = (default_config_dirs or cfg.find_config_dirs(project='watcher')) default_config_dirs=default_config_dirs,","def parse_args(argv, default_config_files=None):",4,1
openstack%2Fwatcher-dashboard~master~I9691132f542242716992d2f842f1261b7cd30389,openstack/watcher-dashboard,master,I9691132f542242716992d2f842f1261b7cd30389,Build pdf docs,MERGED,2019-09-17 08:26:40.000000000,2019-09-18 01:59:51.000000000,2019-09-18 01:57:13.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 08:26:40.000000000', 'files': ['doc/source/install/index.rst', 'doc/source/contributor/index.rst', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/e0405ceff6d3499e8f3786df9d678ffaab6ad95f', 'message': 'Build pdf docs\n\n Add a new pdf-docs environment to enable PDF build.\n\nChange-Id: I9691132f542242716992d2f842f1261b7cd30389\n'}]",0,682578,e0405ceff6d3499e8f3786df9d678ffaab6ad95f,7,2,1,21692,,,0,"Build pdf docs

 Add a new pdf-docs environment to enable PDF build.

Change-Id: I9691132f542242716992d2f842f1261b7cd30389
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/78/682578/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/index.rst', 'doc/source/install/index.rst', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",5,e0405ceff6d3499e8f3786df9d678ffaab6ad95f,build-pdf-docs,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt[testenv:pdf-docs] basepython = python3 envdir = {toxworkdir}/docs deps = {[testenv:docs]deps} whitelist_externals = rm make commands = rm -rf doc/build/pdf sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,37,3
openstack%2Fwatcher-tempest-plugin~master~I8de5b3eb32532cd95b9ee50b982030147efad107,openstack/watcher-tempest-plugin,master,I8de5b3eb32532cd95b9ee50b982030147efad107,Build pdf docs,MERGED,2019-09-17 08:26:11.000000000,2019-09-18 01:57:12.000000000,2019-09-18 01:57:12.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 08:26:11.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/569bf8541ba0d2a18590045abae6080708e66aba', 'message': 'Build pdf docs\n\n Add a new pdf-docs environment to enable PDF build.\n\nChange-Id: I8de5b3eb32532cd95b9ee50b982030147efad107\n'}]",0,682577,569bf8541ba0d2a18590045abae6080708e66aba,6,2,1,21692,,,0,"Build pdf docs

 Add a new pdf-docs environment to enable PDF build.

Change-Id: I8de5b3eb32532cd95b9ee50b982030147efad107
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/77/682577/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",3,569bf8541ba0d2a18590045abae6080708e66aba,build-pdf-docs,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt[testenv:pdf-docs] basepython = python3 envdir = {toxworkdir}/docs deps = {[testenv:docs]deps} whitelist_externals = rm make commands = rm -rf doc/build/pdf sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,34,0
openstack%2Fpython-watcherclient~master~I59bdc7cf339b022458b3b0d1fa3b694b7998c20f,openstack/python-watcherclient,master,I59bdc7cf339b022458b3b0d1fa3b694b7998c20f,Build pdf docs,MERGED,2019-09-17 07:20:44.000000000,2019-09-18 01:32:20.000000000,2019-09-18 01:31:10.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 07:20:44.000000000', 'files': ['doc/source/conf.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/1d1f28a256f01ec41743977d16ffc9a62cd9362a', 'message': 'Build pdf docs\n\n Add a new pdf-docs environment to enable PDF build.\n\nChange-Id: I59bdc7cf339b022458b3b0d1fa3b694b7998c20f\n'}]",0,682562,1d1f28a256f01ec41743977d16ffc9a62cd9362a,8,2,1,21692,,,0,"Build pdf docs

 Add a new pdf-docs environment to enable PDF build.

Change-Id: I59bdc7cf339b022458b3b0d1fa3b694b7998c20f
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/62/682562/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'tox.ini']",2,1d1f28a256f01ec41743977d16ffc9a62cd9362a,build-pdf-docs,[testenv:pdf-docs] basepython = python3 envdir = {toxworkdir}/docs deps = {[testenv:docs]deps} whitelist_externals = rm make commands = rm -rf doc/build/pdf sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,23,0
openstack%2Ftripleo-common~master~I3743b7212d5c5f0d4496ffb4134a1891587de01a,openstack/tripleo-common,master,I3743b7212d5c5f0d4496ffb4134a1891587de01a,Add reauthentication to sessions,MERGED,2019-08-01 17:25:07.000000000,2019-09-18 01:00:15.000000000,2019-08-05 17:32:00.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-08-01 17:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/77496cda649ed009ab2940995a6a05923eca8114', 'message': 'Change exception retry condition\n\nThe tenacity retry decorator is being used to ensure methods with\na likelihood of failure are retried on exception which helps combat\ntransient failures. This change removes the restrictive exception\ntype rules for methods responsible for layer transport. The intention\nis to have these methods retry on any, and all, failures, which\nshould provide for a better user experience when uploading images.\nImage uploads are especially fragile given the process is subject\nto many external factors, namely networking.\n\nChange-Id: I3743b7212d5c5f0d4496ffb4134a1891587de01a\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-08-01 21:25:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/621b8bc97fa9e0f8a5a3a0b34a4b91ae95a2180a', 'message': ""Add reauthentication to sessions\n\nThis change allows a session to reauthenticate as needed. To accomplish this\na function object for authentication is set within the session which will\nallow any method estabilishing a session to authenticate using the existing\ncredentials as needed. To ensure we're not breaking our workflow or\nexisting retry logic, conditions have been added to check for a 401 status\ncode. If a 401 is found, the session will now reauthenticate and raise an\nHTTPError exception. This will allow our tenacity retry decorators to\nprovide for task retries, in the same way they have been, and to ensure\nthe way requests exceptions are raised are identical.\n\nChange-Id: I3743b7212d5c5f0d4496ffb4134a1891587de01a\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 3, 'created': '2019-08-02 05:21:53.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0775e8d13024b7578f90ecd893ba1fe869fee045', 'message': ""Add reauthentication to sessions\n\nThis change allows a session to reauthenticate as needed. To accomplish this\na function object for authentication is set within the session which will\nallow any method estabilishing a session to authenticate using the existing\ncredentials as needed. To ensure we're not breaking our workflow or\nexisting retry logic, conditions have been added to check for a 401 status\ncode. If a 401 is found, the session will now reauthenticate and raise an\nHTTPError exception. This will allow our tenacity retry decorators to\nprovide for task retries, in the same way they have been, and to ensure\nthe way requests exceptions are raised are identical.\n\nChange-Id: I3743b7212d5c5f0d4496ffb4134a1891587de01a\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",1,674097,0775e8d13024b7578f90ecd893ba1fe869fee045,17,7,3,7353,,,0,"Add reauthentication to sessions

This change allows a session to reauthenticate as needed. To accomplish this
a function object for authentication is set within the session which will
allow any method estabilishing a session to authenticate using the existing
credentials as needed. To ensure we're not breaking our workflow or
existing retry logic, conditions have been added to check for a 401 status
code. If a 401 is found, the session will now reauthenticate and raise an
HTTPError exception. This will allow our tenacity retry decorators to
provide for task retries, in the same way they have been, and to ensure
the way requests exceptions are raised are identical.

Change-Id: I3743b7212d5c5f0d4496ffb4134a1891587de01a
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/97/674097/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,77496cda649ed009ab2940995a6a05923eca8114,, @classmethod," retry=tenacity.retry_if_exception_type( requests.exceptions.RequestException ), retry=tenacity.retry_if_exception_type( IOError ), retry=tenacity.retry_if_exception_type( requests.exceptions.RequestException ),",1,9
openstack%2Foctavia~stable%2Frocky~I7984c85ec98b6b8df00db1b2c58ddc067508b1a5,openstack/octavia,stable/rocky,I7984c85ec98b6b8df00db1b2c58ddc067508b1a5,Fix auto setup Barbican's ACL in the legacy driver.,MERGED,2019-06-17 14:08:43.000000000,2019-09-18 00:39:20.000000000,2019-09-18 00:37:46.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 27256}]","[{'number': 1, 'created': '2019-06-17 14:08:43.000000000', 'files': ['octavia/certificates/manager/barbican_legacy.py', 'octavia/certificates/manager/barbican.py', 'octavia/tests/unit/certificates/manager/test_barbican_legacy.py', 'octavia/tests/unit/certificates/manager/test_barbican.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/931236148b882aeb0005cbc204d1eed1eaf078ae', 'message': ""Fix auto setup Barbican's ACL in the legacy driver.\n\nAdd calls barbican legacy driver for set_acl and unset_acl actions when\nusing certificates in a container.\n\nChange-Id: I7984c85ec98b6b8df00db1b2c58ddc067508b1a5\nStory: 2003905\n(cherry picked from commit dca620ce67d21280e91c8055611e293cb3e59af1)\n""}]",0,665681,931236148b882aeb0005cbc204d1eed1eaf078ae,13,4,1,6579,,,0,"Fix auto setup Barbican's ACL in the legacy driver.

Add calls barbican legacy driver for set_acl and unset_acl actions when
using certificates in a container.

Change-Id: I7984c85ec98b6b8df00db1b2c58ddc067508b1a5
Story: 2003905
(cherry picked from commit dca620ce67d21280e91c8055611e293cb3e59af1)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/81/665681/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/certificates/manager/barbican_legacy.py', 'octavia/certificates/manager/barbican.py', 'octavia/tests/unit/certificates/manager/test_barbican_legacy.py', 'octavia/tests/unit/certificates/manager/test_barbican.py']",4,931236148b882aeb0005cbc204d1eed1eaf078ae,story/2003905-stable/rocky," # if used pkcs12 certificate containers.get raises exception self.bc.containers.get.side_effect = Exception(""container not found"") def test_unset_acls(self): # if used pkcs12 certificate containers.get raises exception self.bc.containers.get.side_effect = Exception(""container not found"") self.cert_manager.unset_acls( context=self.context, cert_ref=self.secret_ref ) # our mock_bc should have one call to revoke_secret_access self.cert_manager.auth.revoke_secret_access.assert_called_once_with( self.context, self.secret_ref )",,54,13
openstack%2Fcinder~master~If8e5f4454f668414c62d07d75a0b69abd742122d,openstack/cinder,master,If8e5f4454f668414c62d07d75a0b69abd742122d,Unsupport IBM DS8k and XIV Drivers,MERGED,2019-08-29 14:57:54.000000000,2019-09-18 00:04:45.000000000,2019-09-13 05:43:57.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-08-29 14:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ffc2b282be779395a70bd0f1ac1042d221ad9753', 'message': 'Unsupport IBM DS8k and XIV Drivers\n\nThe IBM driver CIs stopped reporting some time\nago and attempts to reach out to driver maintainers\nhave failed.\n\nAs a result, we need to mark the drivers unsupported\nfor the T release.\n\nChange-Id: If8e5f4454f668414c62d07d75a0b69abd742122d\n'}, {'number': 2, 'created': '2019-09-03 23:02:06.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'releasenotes/notes/ibm-storage-unsupported-9e8ea6ce9cea503d.yaml', 'cinder/volume/drivers/ibm/ibm_storage/ibm_storage.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/59b0ed9b87e4fcaaa09c26dae1d1edae641cd519', 'message': 'Unsupport IBM DS8k and XIV Drivers\n\nThe IBM driver CIs stopped reporting some time\nago and attempts to reach out to driver maintainers\nhave failed.\n\nAs a result, we need to mark the drivers unsupported\nfor the T release.\n\nChange-Id: If8e5f4454f668414c62d07d75a0b69abd742122d\n'}]",0,679284,59b0ed9b87e4fcaaa09c26dae1d1edae641cd519,76,38,2,7198,,,0,"Unsupport IBM DS8k and XIV Drivers

The IBM driver CIs stopped reporting some time
ago and attempts to reach out to driver maintainers
have failed.

As a result, we need to mark the drivers unsupported
for the T release.

Change-Id: If8e5f4454f668414c62d07d75a0b69abd742122d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/84/679284/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'releasenotes/notes/ibm-storage-unsupported-9e8ea6ce9cea503d.yaml', 'cinder/volume/drivers/ibm/ibm_storage/ibm_storage.py']",3,ffc2b282be779395a70bd0f1ac1042d221ad9753,ci_unsupported, # TODO(jsbryant) Remove driver in the 'U' release if CI is not fixed. SUPPORTED = False ,,19,2
openstack%2Fopenstack-helm-infra~master~I859c711f78e10417d641cae6e78765e8c32d5bd0,openstack/openstack-helm-infra,master,I859c711f78e10417d641cae6e78765e8c32d5bd0,ceph-volume integration to ceph-osd charts,ABANDONED,2019-09-06 20:13:56.000000000,2019-09-17 23:52:10.000000000,,"[{'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-09-06 20:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/85179661251fee783c93adf3c3ee58db3450ad0c', 'message': 'ceph-volume integration to ceph-osd charts\n\nceph-disk has been deprecated and ceph-volume\nis available from luminous release. uplifting\nceph-osd charts to use ceph-volume with minimal\nchanges possible\n\nChange-Id: I859c711f78e10417d641cae6e78765e8c32d5bd0\nStory: ceph-volume-support\nSigned-off-by: Kranthi Guttikonda <kranthi.guttikonda@att.com>\n'}, {'number': 2, 'created': '2019-09-06 20:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/36f6fe8f9f77234e00441b3c1ac1cd693632edf4', 'message': 'ceph-volume integration to ceph-osd charts\n\nceph-disk has been deprecated and ceph-volume\nis available from luminous release. uplifting\nceph-osd charts to use ceph-volume with minimal\nchanges possible\n\nStory: ceph-volume-support\nSigned-off-by: Kranthi Guttikonda <kranthi.guttikonda@att.com>\nChange-Id: I859c711f78e10417d641cae6e78765e8c32d5bd0\n'}, {'number': 3, 'created': '2019-09-06 20:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/90df241a96db78683b6250dfcce50abf6db9c91a', 'message': 'ceph-volume integration to ceph-osd charts\n\nceph-disk has been deprecated and ceph-volume\nis available from luminous release. uplifting\nceph-osd charts to use ceph-volume with minimal\nchanges possible\n\nStory: ceph-volume-support\nSigned-off-by: Kranthi Guttikonda <kranthi.guttikonda@att.com>\nChange-Id: I859c711f78e10417d641cae6e78765e8c32d5bd0\n'}, {'number': 4, 'created': '2019-09-06 21:33:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b6543da60f8c18abedbf5e6d210869a76361e6f1', 'message': 'ceph-volume integration to ceph-osd charts\n\nceph-disk has been deprecated and ceph-volume\nis available from luminous release. uplifting\nceph-osd charts to use ceph-volume with minimal\nchanges possible\n\nStory: ceph-volume-support\nSigned-off-by: Kranthi Guttikonda <kranthi.guttikonda@att.com>\nChange-Id: I859c711f78e10417d641cae6e78765e8c32d5bd0\n'}, {'number': 5, 'created': '2019-09-10 18:05:12.000000000', 'files': ['ceph-osd/templates/daemonset-osd.yaml', 'ceph-osd/templates/bin/osd/_common.sh.tpl', 'ceph-osd/templates/bin/osd/_block.sh.tpl', 'ceph-osd/templates/bin/osd/_init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/068d2b2c90ff1389b29d7df2410ea196b95e6755', 'message': 'ceph-volume integration to ceph-osd charts\n\nceph-disk has been deprecated and ceph-volume\nis available from luminous release. uplifting\nceph-osd charts to use ceph-volume with minimal\nchanges possible\n\nStory: ceph-volume-support\nSigned-off-by: Kranthi Guttikonda <kranthi.guttikonda@att.com>\nChange-Id: I859c711f78e10417d641cae6e78765e8c32d5bd0\n'}]",0,680766,068d2b2c90ff1389b29d7df2410ea196b95e6755,9,3,5,29106,,,0,"ceph-volume integration to ceph-osd charts

ceph-disk has been deprecated and ceph-volume
is available from luminous release. uplifting
ceph-osd charts to use ceph-volume with minimal
changes possible

Story: ceph-volume-support
Signed-off-by: Kranthi Guttikonda <kranthi.guttikonda@att.com>
Change-Id: I859c711f78e10417d641cae6e78765e8c32d5bd0
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/66/680766/5 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/templates/daemonset-osd.yaml', 'ceph-osd/templates/bin/osd/_common.sh.tpl', 'ceph-osd/templates/bin/osd/_block.sh.tpl', 'ceph-osd/templates/bin/osd/_init.sh.tpl']",4,85179661251fee783c93adf3c3ee58db3450ad0c,," if ! jq -er .blockdevices[].children[].name >/dev/null 2>&1 <<<$(lsblk -J ${OSD_DEVICE}); then if jq -er .blockdevices[].children[].name >/dev/null 2>&1 <<<$(lsblk -J ${OSD_DEVICE}); then OSD_DEVICE_LVM=$(lsblk -J ${OSD_DEVICE} | jq -r '.blockdevices[].children[].name') DM_NUM=$(dmsetup ls | grep $(lsblk -J ${OSD_DEVICE} | jq -r '.blockdevices[].children[].name') | awk '{print $2}' | cut -d':' -f2 | cut -d')' -f1) DM_DEV=""/dev/dm-""${DM_NUM} if [ -b $DM_DEV ]; then mount ${DM_DEV} ${tmpmnt} disk_zap ${OSD_DEVICE} ${OSD_DEVICE_LVM} disk_zap ${OSD_DEVICE} ${OSD_DEVICE_LVM} echo ""parted says ${DM_DEV} should exist, but we do not see it."" elif [[ $(parted --script ${OSD_DEVICE} print | egrep ""Partition Table"" | awk '{print$3}') == ""gpt"" ]]; then echo ""No ceph partitions found but disk has GPT headers; Zapping the disk"" disk_zap ${OSD_DEVICE} #if [ ""x$JOURNAL_TYPE"" == ""xdirectory"" ]; then # ceph-volume lvm -v prepare ${CLI_OPTS} --data ${OSD_DEVICE} --journal-file #else # ceph-volume lvm -v prepare ${CLI_OPTS} --data ${OSD_DEVICE} --journal ${OSD_JOURNAL} #fi ceph-volume lvm -v prepare ${CLI_OPTS} --data ${OSD_DEVICE} --journal ${OSD_JOURNAL}"," if ! parted --script ${OSD_DEVICE} print > /dev/null 2>&1; then if [[ ""$(parted --script ${OSD_DEVICE} print | egrep '^ 1.*ceph data')"" ]]; then if [ -b ""${OSD_DEVICE}1"" ]; then mount ${OSD_DEVICE}1 ${tmpmnt} disk_zap ${OSD_DEVICE} disk_zap ${OSD_DEVICE} echo ""parted says ${OSD_DEVICE}1 should exist, but we do not see it."" if [ ""x$JOURNAL_TYPE"" == ""xdirectory"" ]; then ceph-disk -v prepare ${CLI_OPTS} --journal-uuid ${OSD_JOURNAL_UUID} ${OSD_DEVICE} --journal-file else ceph-disk -v prepare ${CLI_OPTS} --journal-uuid ${OSD_JOURNAL_UUID} ${OSD_DEVICE} ${OSD_JOURNAL} fi ",54,31
openstack%2Fneutron~master~Ie5dd13db211b40a43739a65348720ceeca609d69,openstack/neutron,master,Ie5dd13db211b40a43739a65348720ceeca609d69,Metaclass class method should have 'mcs' as first argument,ABANDONED,2019-09-17 07:09:07.000000000,2019-09-17 23:50:33.000000000,,"[{'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-17 07:09:07.000000000', 'files': ['neutron/objects/rbac_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e9e401df7250047485c936f6c62580d8113ce26', 'message': ""Metaclass class method should have 'mcs' as first argument\n\nChange-Id: Ie5dd13db211b40a43739a65348720ceeca609d69\n""}]",0,682560,3e9e401df7250047485c936f6c62580d8113ce26,7,5,1,30380,,,0,"Metaclass class method should have 'mcs' as first argument

Change-Id: Ie5dd13db211b40a43739a65348720ceeca609d69
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/682560/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/objects/rbac_db.py'],1,3e9e401df7250047485c936f6c62580d8113ce26,," def _get_attribute(mcs, attribute_name, bases): def get_attribute(mcs, attribute_name, bases, dct): mcs._get_attribute(attribute_name, bases)) def update_synthetic_fields(mcs, bases, dct): if not dct.get('synthetic_fields', None): synthetic_attr = mcs.get_attribute('synthetic_fields', bases, dct) def replace_class_methods_with_hooks(mcs, bases, dct): orig_method = mcs.get_attribute(orig_method_name, bases, dct) hook_method = mcs.get_replaced_method(orig_method, def __new__(mcs, name, bases, dct): mcs.validate_existing_attrs(name, dct) mcs.update_synthetic_fields(bases, dct) mcs.replace_class_methods_with_hooks(bases, dct) mcs.subscribe_to_rbac_events(klass)"," def _get_attribute(cls, attribute_name, bases): def get_attribute(cls, attribute_name, bases, dct): cls._get_attribute(attribute_name, bases)) def update_synthetic_fields(cls, bases, dct): if not dct.get('synthetic_fields', None): synthetic_attr = cls.get_attribute('synthetic_fields', bases, dct) def replace_class_methods_with_hooks(cls, bases, dct): orig_method = cls.get_attribute(orig_method_name, bases, dct) hook_method = cls.get_replaced_method(orig_method, def __new__(cls, name, bases, dct): cls.validate_existing_attrs(name, dct) cls.update_synthetic_fields(bases, dct) cls.replace_class_methods_with_hooks(bases, dct) cls.subscribe_to_rbac_events(klass)",13,13
openstack%2Fproject-config~master~I03969da4595f4c66db36cab35ef96a33c6766002,openstack/project-config,master,I03969da4595f4c66db36cab35ef96a33c6766002,Fix the zuul main.yaml config checks,MERGED,2019-09-17 22:31:40.000000000,2019-09-17 23:41:28.000000000,2019-09-17 23:41:27.000000000,"[{'_account_id': 1}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 22:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ec78e11ad63acb3f48e9c07b0ae084a7aa808acd', 'message': 'Fix the zuul main.yaml config checks\n\nIt is possible to have two different types of dict listings for zuul\ntenant project lists. The first (which we handled fine) is a dict per\nproject where we list which items we include from that project. The\nother is a dict with global settings and a list of projects. Handle this\nsecond case.\n\nChange-Id: I03969da4595f4c66db36cab35ef96a33c6766002\n'}, {'number': 2, 'created': '2019-09-17 22:40:13.000000000', 'files': ['tools/check_valid_gerrit_projects.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4a94d0debf21acef5f4d2f628c5d99928182525f', 'message': 'Fix the zuul main.yaml config checks\n\nIt is possible to have two different types of dict listings for zuul\ntenant project lists. The first (which we handled fine) is a dict per\nproject where we list which items we include from that project. The\nother is a dict with global settings and a list of projects. Handle this\nsecond case.\n\nChange-Id: I03969da4595f4c66db36cab35ef96a33c6766002\n'}]",1,682759,4a94d0debf21acef5f4d2f628c5d99928182525f,9,3,2,4146,,,0,"Fix the zuul main.yaml config checks

It is possible to have two different types of dict listings for zuul
tenant project lists. The first (which we handled fine) is a dict per
project where we list which items we include from that project. The
other is a dict with global settings and a list of projects. Handle this
second case.

Change-Id: I03969da4595f4c66db36cab35ef96a33c6766002
",git fetch https://review.opendev.org/openstack/project-config refs/changes/59/682759/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/check_valid_gerrit_projects.py'],1,ec78e11ad63acb3f48e9c07b0ae084a7aa808acd,fix-gerrit-config-checks," if 'include' in entry and 'projects' in entry: for x in entry['projects']: found_errors += check_project_exists( x, project_names) else: for x in entry.keys(): found_errors += check_project_exists( x, project_names)"," for x in entry.keys(): found_errors += check_project_exists( x, project_names)",8,3
openstack%2Fgovernance~master~I30d35695b35b002cdf2fb2826b3d1a7d76509250,openstack/governance,master,I30d35695b35b002cdf2fb2826b3d1a7d76509250,Appoint Sundar Nadathur as Cyborg PTL,MERGED,2019-09-05 14:30:21.000000000,2019-09-17 23:00:25.000000000,2019-09-17 22:57:58.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 8556}, {'_account_id': 10607}, {'_account_id': 12404}, {'_account_id': 17068}, {'_account_id': 21672}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-05 14:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/f8ccb5577a1537d40b2bf78018cc59753811d7ce', 'message': 'Appoint Sundar Nadathur as Cyborg PTL\n\nChange-Id: I30d35695b35b002cdf2fb2826b3d1a7d76509250\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}, {'number': 2, 'created': '2019-09-09 11:16:31.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/543d56adeabb923665459fc1143948f080e23082', 'message': 'Appoint Sundar Nadathur as Cyborg PTL\n\nChange-Id: I30d35695b35b002cdf2fb2826b3d1a7d76509250\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}]",0,680426,543d56adeabb923665459fc1143948f080e23082,21,10,2,8099,,,0,"Appoint Sundar Nadathur as Cyborg PTL

Change-Id: I30d35695b35b002cdf2fb2826b3d1a7d76509250
Signed-off-by: Graham Hayes <gr@ham.ie>
",git fetch https://review.opendev.org/openstack/governance refs/changes/26/680426/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,f8ccb5577a1537d40b2bf78018cc59753811d7ce,formal-vote, appointed: - ussuri,,2,0
openstack%2Fgovernance~master~If907b2f4627da289f76e3a8b92d49f08a116535d,openstack/governance,master,If907b2f4627da289f76e3a8b92d49f08a116535d,document house rules for approving election results,MERGED,2019-09-09 17:57:47.000000000,2019-09-17 22:59:29.000000000,2019-09-17 22:57:56.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 4257}, {'_account_id': 8099}, {'_account_id': 10607}, {'_account_id': 13995}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-09 17:57:47.000000000', 'files': ['tools/check_review_status.py', 'reference/house-rules.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/27f9b2fd3ff928c59c8358c4e0de3aae6d60cdde', 'message': 'document house rules for approving election results\n\nThere is no reason to treat election results as requiring a formal\nvote, so document them as a special case under house rules, along with\nthe reasoning. Update the review status tool to reflect this change.\n\nChange-Id: If907b2f4627da289f76e3a8b92d49f08a116535d\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",2,681085,27f9b2fd3ff928c59c8358c4e0de3aae6d60cdde,18,10,1,2472,,,0,"document house rules for approving election results

There is no reason to treat election results as requiring a formal
vote, so document them as a special case under house rules, along with
the reasoning. Update the review status tool to reflect this change.

Change-Id: If907b2f4627da289f76e3a8b92d49f08a116535d
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/governance refs/changes/85/681085/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/check_review_status.py', 'reference/house-rules.rst']",2,27f9b2fd3ff928c59c8358c4e0de3aae6d60cdde,formal-vote,"Election Results ---------------- :Gerrit topic: ``election-results`` The results of elections are documented in the `openstack/governance` repository, but are not subject to ""review"" or ""approval"" by the TC, other than to confirm that they accurately reflect the outcome of the election. Patches to update those results for TC and PTL elections should be reviewed and confirmed by the election officials, and then approved and merged following the normal code review rules (with RollCall votes being considered +-2): change will be approved once 2 `RollCall+1` (other than the change owner) are posted (and no `RollCall-1`). ",,18,1
openstack%2Fnova~stable%2Fstein~I4b606fce473d064b9bb00213696c075cea020aaf,openstack/nova,stable/stein,I4b606fce473d064b9bb00213696c075cea020aaf,Fix 'has_calls' method calls in unit tests,MERGED,2019-08-20 02:23:04.000000000,2019-09-17 22:47:27.000000000,2019-09-17 22:45:11.000000000,"[{'_account_id': 6873}, {'_account_id': 10135}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-08-20 02:23:04.000000000', 'files': ['nova/tests/unit/virt/hyperv/test_hostops.py', 'nova/tests/unit/virt/hyperv/test_vmops.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/unit/virt/hyperv/test_snapshotops.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fa59033c40745febc26399e668ceb9911f8ec45d', 'message': ""Fix 'has_calls' method calls in unit tests\n\nThe 'has_calls' method does not exist in assertion methods of mock.\nReplace the 'has_calls' method with an 'assert_has_calls' method or\nan 'assert_called_once_with' method.\nAdd an 'assertEqual' check before an 'assert_has_calls' method.\n\nChange-Id: I4b606fce473d064b9bb00213696c075cea020aaf\nCloses-Bug: #1840200\n(cherry picked from commit ad482e53fbb956288e73692f6bff5f74d862fe5d)\n""}]",0,677329,fa59033c40745febc26399e668ceb9911f8ec45d,9,4,1,7634,,,0,"Fix 'has_calls' method calls in unit tests

The 'has_calls' method does not exist in assertion methods of mock.
Replace the 'has_calls' method with an 'assert_has_calls' method or
an 'assert_called_once_with' method.
Add an 'assertEqual' check before an 'assert_has_calls' method.

Change-Id: I4b606fce473d064b9bb00213696c075cea020aaf
Closes-Bug: #1840200
(cherry picked from commit ad482e53fbb956288e73692f6bff5f74d862fe5d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/677329/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/hyperv/test_hostops.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/virt/hyperv/test_vmops.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/tests/unit/virt/hyperv/test_snapshotops.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",6,fa59033c40745febc26399e668ceb9911f8ec45d,bug/1840200," ' <address bus=""0x00"" domain=""0x0000"" ' 'function=""0x0"" slot=""0x00""/>\n' ' <address bus=""0x00"" domain=""0x0000"" ' 'function=""0x1"" slot=""0x00""/>\n' self.assertEqual(2, mock_detachDeviceFlags.call_count) mock_detachDeviceFlags.assert_has_calls(["," ' <address bus=""0x00"" domain=""0x0000"" \ function=""0x0"" slot=""0x00""/>\n' ' <address bus=""0x00"" domain=""0x0000"" \ function=""0x1"" slot=""0x00""/>\n' mock_detachDeviceFlags.has_calls([",39,23
openstack%2Ffreezer-api~master~I53a451046f01eecee1aa8b0fa291ffa20411e804,openstack/freezer-api,master,I53a451046f01eecee1aa8b0fa291ffa20411e804,[train][goal] Run 'freezer-tempest-ipv6-only' job in gate,NEW,2019-09-17 20:31:04.000000000,2019-09-17 21:34:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-17 20:31:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/a071950074ec19cc141dddfef860ff1d54749764', 'message': ""[train][goal] Run 'freezer-tempest-ipv6-only' job in gate\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nTempest has defined the base job 'devstack-tempest-ipv6' which will\ndeploy services on IPv6.\n\nThis commit Run 'freezer-tempest-ipv6-only' job in freezer-api gate.\n\nDepends-On: https://review.opendev.org/#/c/682742\n\nStory: #2005477\nTask: #35890\n\n[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html\n\nChange-Id: I53a451046f01eecee1aa8b0fa291ffa20411e804\n""}]",0,682745,a071950074ec19cc141dddfef860ff1d54749764,3,1,1,8556,,,0,"[train][goal] Run 'freezer-tempest-ipv6-only' job in gate

As part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],
Tempest has defined the base job 'devstack-tempest-ipv6' which will
deploy services on IPv6.

This commit Run 'freezer-tempest-ipv6-only' job in freezer-api gate.

Depends-On: https://review.opendev.org/#/c/682742

Story: #2005477
Task: #35890

[1] https://governance.openstack.org/tc/goals/train/ipv6-support-and-testing.html

Change-Id: I53a451046f01eecee1aa8b0fa291ffa20411e804
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/45/682745/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a071950074ec19cc141dddfef860ff1d54749764,ipv6-only-deployment-and-testing, - freezer-tempest-ipv6-only - freezer-tempest-ipv6-only,,2,0
openstack%2Fironic-python-agent~master~I50a9f9dc15f3a782aaf4b8c4096a418136f4ebd4,openstack/ironic-python-agent,master,I50a9f9dc15f3a782aaf4b8c4096a418136f4ebd4,Switch to image building jobs from ironic-python-agent-builder,MERGED,2019-08-28 15:33:55.000000000,2019-09-17 21:23:56.000000000,2019-09-17 21:19:31.000000000,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-28 15:33:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a4a76385852733fc8404500f043f506b5d098784', 'message': 'Switch to image building jobs from ironic-python-agent-builder\n\nDepends-On: https://review.opendev.org/678884\nChange-Id: I50a9f9dc15f3a782aaf4b8c4096a418136f4ebd4\n'}, {'number': 2, 'created': '2019-08-28 17:47:52.000000000', 'files': ['imagebuild/README.rst', 'playbooks/ironic-python-agent-buildimage/post.yaml', 'zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml', 'playbooks/ironic-python-agent-buildimage/pre-dib.yaml', 'playbooks/ironic-python-agent-buildimage/run.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/e73786af9079d17f1893d593c1d0e6d88771a87a', 'message': 'Switch to image building jobs from ironic-python-agent-builder\n\nDepends-On: https://review.opendev.org/678884\nChange-Id: I50a9f9dc15f3a782aaf4b8c4096a418136f4ebd4\n'}]",0,679087,e73786af9079d17f1893d593c1d0e6d88771a87a,14,5,2,10239,,,0,"Switch to image building jobs from ironic-python-agent-builder

Depends-On: https://review.opendev.org/678884
Change-Id: I50a9f9dc15f3a782aaf4b8c4096a418136f4ebd4
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/87/679087/1 && git format-patch -1 --stdout FETCH_HEAD,"['imagebuild/README.rst', 'playbooks/ironic-python-agent-buildimage/post.yaml', 'zuul.d/ironic-python-agent-jobs.yaml', 'zuul.d/project.yaml', 'playbooks/ironic-python-agent-buildimage/pre-dib.yaml', 'playbooks/ironic-python-agent-buildimage/run.yaml']",6,a4a76385852733fc8404500f043f506b5d098784,gate,,"- hosts: all tasks: - shell: cmd: | set -e set -x BRANCH={{ zuul.branch }} export BRANCH_PATH=`echo $BRANCH | tr / -` mkdir UPLOAD_RAW mkdir UPLOAD_TAR JOBNAME='ironic-python-agent-buildimage-{{ image_name }}' TRANS_START_TIME=$(date +%s) SUBUNIT_OUTPUT=testrepository.subunit ERRORS=1 VENV=$(mktemp -d) virtualenv $VENV $VENV/bin/pip install -U os-testr trap ""finish"" EXIT function finish { if [[ ""$ERRORS"" -eq 1 ]]; then $VENV/bin/generate-subunit $TRANS_START_TIME $SECONDS 'fail' $JOBNAME >> $SUBUNIT_OUTPUT else $VENV/bin/generate-subunit $TRANS_START_TIME $SECONDS 'success' $JOBNAME >> $SUBUNIT_OUTPUT fi gzip -9 $SUBUNIT_OUTPUT if [ ""$VENV"" != """" ] ; then rm -rf $VENV VENV="""" fi } type='{{ image_name }}' case $type in tinyipa) export BUILD_AND_INSTALL_TINYIPA=true export IPA_SOURCE_DIR={{ ansible_user_dir }}/src/opendev.org/openstack/ironic-python-agent pushd {{ ansible_user_dir }}/src/opendev.org/openstack/ironic-python-agent-builder/tinyipa make mv tinyipa*.tar.gz* ""$IPA_SOURCE_DIR/UPLOAD_TAR"" mv tinyipa*.* ""$IPA_SOURCE_DIR/UPLOAD_RAW"" mv tiny-instance-uec*.tar.gz ""$IPA_SOURCE_DIR/UPLOAD_TAR"" # NOTE(sambetts) Must clean up chroot directories before # publisher rsync command tries and fails to read them make clean popd ;; dib) NAME=ipa-{{ image_distro }}-$BRANCH_PATH ironic-python-agent-builder -e dhcp-all-interfaces -o $NAME {{ image_distro }} tar -czf UPLOAD_TAR/$NAME.tar.gz ${NAME}* mv ${NAME}* ""$IPA_SOURCE_DIR/UPLOAD_RAW"" ;; esac ERRORS=0 executable: /bin/bash chdir: '{{ ansible_user_dir }}/src/opendev.org/openstack/ironic-python-agent' ",10,158
openstack%2Fironic~master~I6d11dda0132d999b2dbf6bbd47cac55336e1d079,openstack/ironic,master,I6d11dda0132d999b2dbf6bbd47cac55336e1d079,Remove cisco references and add release note,MERGED,2019-09-13 20:18:39.000000000,2019-09-17 21:22:40.000000000,2019-09-17 21:19:26.000000000,"[{'_account_id': 10118}, {'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-09-13 20:18:39.000000000', 'files': ['doc/source/admin/report.txt', 'devstack/lib/ironic', 'releasenotes/notes/cisco-drivers-deleted-5a42a8c508704c64.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7c5839064f170937f5fe5cf6de71d7c0ee93eefe', 'message': 'Remove cisco references and add release note\n\nThe cisco hardware types and interfaces were removed in\nIe12eaf7572ce4d66f6a68025b7fe2d294185ce28. This removes the\nlast few references to them, and adds a release note about\ntheir removal.\n\nChange-Id: I6d11dda0132d999b2dbf6bbd47cac55336e1d079\nStory: 2005033\nTask: 29522\n'}]",0,682153,7c5839064f170937f5fe5cf6de71d7c0ee93eefe,24,6,1,6618,,,0,"Remove cisco references and add release note

The cisco hardware types and interfaces were removed in
Ie12eaf7572ce4d66f6a68025b7fe2d294185ce28. This removes the
last few references to them, and adds a release note about
their removal.

Change-Id: I6d11dda0132d999b2dbf6bbd47cac55336e1d079
Story: 2005033
Task: 29522
",git fetch https://review.opendev.org/openstack/ironic refs/changes/53/682153/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/report.txt', 'devstack/lib/ironic', 'releasenotes/notes/cisco-drivers-deleted-5a42a8c508704c64.yaml']",3,7c5839064f170937f5fe5cf6de71d7c0ee93eefe,story/653282,"--- upgrade: - | The Cisco ``cisco-ucs-managed`` and ``cisco-ucs-standalone`` hardware types and ``cimc`` and ``ucsm`` hardware interfaces were deprecated in Stein. They have been removed in Train. After upgrading, if any of these hardware types or interfaces are specified in ironic's configuration options, the ironic-conductor service will fail to start. Any existing ironic nodes with these hardware types or interfaces will become inoperational via ironic after the upgrade. If these hardware types or interfaces are being used, the affected nodes should be changed to use other hardware types or interfaces; or install these hardware types (and interfaces) from elsewhere separately. For more information, see `story 2005033 <https://storyboard.openstack.org/#!/story/2005033>`_. ",,16,37
openstack%2Foctavia~stable%2Fstein~Icddd2873abeb56a389a35356995df6dde70872b2,openstack/octavia,stable/stein,Icddd2873abeb56a389a35356995df6dde70872b2,Fix template that generates vrrp check script,MERGED,2019-09-03 11:13:45.000000000,2019-09-17 21:18:00.000000000,2019-09-17 21:16:31.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 30881}]","[{'number': 1, 'created': '2019-09-03 11:13:45.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/templates/keepalived_check_script.conf.j2'], 'web_link': 'https://opendev.org/openstack/octavia/commit/896b1cfde1761e78688e9216cb05331baddb1eea', 'message': ""Fix template that generates vrrp check script\n\nCorrect the inline comment to not include an empty new line at the start\nof generated /var/lib/octavia/vrrp/check_script.sh that leads to this\nkind of error:\n\n>  Aug 26 11:49:32 amphora-12184e15-1ec3-4d80-98a7-c7d1ddb6716f\n> Keepalived_vrrp[15265]: Error exec-ing command\n> '/var/lib/octavia/vrrp/check_script.sh', error 8: Exec format error\n\nChange-Id: Icddd2873abeb56a389a35356995df6dde70872b2\n(cherry picked from commit 905499162b33fbac1fd604688d21b73f559ab70d)\n""}]",0,679753,896b1cfde1761e78688e9216cb05331baddb1eea,9,4,1,30619,,,0,"Fix template that generates vrrp check script

Correct the inline comment to not include an empty new line at the start
of generated /var/lib/octavia/vrrp/check_script.sh that leads to this
kind of error:

>  Aug 26 11:49:32 amphora-12184e15-1ec3-4d80-98a7-c7d1ddb6716f
> Keepalived_vrrp[15265]: Error exec-ing command
> '/var/lib/octavia/vrrp/check_script.sh', error 8: Exec format error

Change-Id: Icddd2873abeb56a389a35356995df6dde70872b2
(cherry picked from commit 905499162b33fbac1fd604688d21b73f559ab70d)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/53/679753/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/amphorae/backends/agent/api_server/templates/keepalived_check_script.conf.j2'],1,896b1cfde1761e78688e9216cb05331baddb1eea,patch-jinja2-stable/stein,-#},#},1,1
openstack%2Foctavia~stable%2Fstein~I276188530a83598ed75560f02ed9d80ce9afca2f,openstack/octavia,stable/stein,I276188530a83598ed75560f02ed9d80ce9afca2f,Add support for oslo_middleware http_proxy_to_wsgi,MERGED,2019-08-03 18:00:57.000000000,2019-09-17 20:56:59.000000000,2019-09-17 20:55:04.000000000,"[{'_account_id': 6469}, {'_account_id': 9373}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-03 18:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c4d361fefdf897f38402b7ca9971b46390098412', 'message': ""Add support for oslo_middleware http_proxy_to_wsgi\n\nThis sets up the HTTPProxyToWSGI middleware in front of Octavia API. The\npurpose of this middleware is to set up the request URL correctly in\nthe case there is a proxy (For instance, a loadbalancer such as HAProxy)\nin front of Octavia API.\n\nSo, when TLS connections are terminated at the proxy, and one tries to\nget the versions from the '/' resource from Octavia API, one will notice\nthat the protocol is incorrect; It will show 'http' instead of 'https'.\nSo this middleware handles such cases.\n\nThe HTTPProxyToWSGI is off by default and needs to be enabled via a\nconfiguration value.\n\nIt can be enabled with the option in octavia.conf:\n[oslo_middleware]\nenable_proxy_headers_parsing=True\n\n#Conflicts:\n#\tetc/octavia.conf\nNOTE(s10): conflict is due to I3082962841d3b645f3cbd1a6b41fc7fb28dcf7e6\nnot being in stable branches\n\nStory: 2005105\nTask: 29732\nChange-Id: I276188530a83598ed75560f02ed9d80ce9afca2f\n""}, {'number': 2, 'created': '2019-08-03 18:07:15.000000000', 'files': ['releasenotes/notes/support-oslo_middleware-http_proxy_to_wsgi-928c6fc5ec3d421c.yaml', 'octavia/api/app.py', 'etc/octavia.conf'], 'web_link': 'https://opendev.org/openstack/octavia/commit/6f8932e955863df5c6d1a717822664a0a8b79f97', 'message': ""Add support for oslo_middleware http_proxy_to_wsgi\n\nThis sets up the HTTPProxyToWSGI middleware in front of Octavia API. The\npurpose of this middleware is to set up the request URL correctly in\nthe case there is a proxy (For instance, a loadbalancer such as HAProxy)\nin front of Octavia API.\n\nSo, when TLS connections are terminated at the proxy, and one tries to\nget the versions from the '/' resource from Octavia API, one will notice\nthat the protocol is incorrect; It will show 'http' instead of 'https'.\nSo this middleware handles such cases.\n\nThe HTTPProxyToWSGI is off by default and needs to be enabled via a\nconfiguration value.\n\nIt can be enabled with the option in octavia.conf:\n[oslo_middleware]\nenable_proxy_headers_parsing=True\n\nConflicts:\n\tetc/octavia.conf\nNOTE(s10): conflict is due to I3082962841d3b645f3cbd1a6b41fc7fb28dcf7e6\nnot being in stable branches\n\nStory: 2005105\nTask: 29732\nChange-Id: I276188530a83598ed75560f02ed9d80ce9afca2f\n(cherry picked from commit ec83c69372d647aaeec02fea6eea29c7ee11115a)\n""}]",0,674467,6f8932e955863df5c6d1a717822664a0a8b79f97,11,5,2,9373,,,0,"Add support for oslo_middleware http_proxy_to_wsgi

This sets up the HTTPProxyToWSGI middleware in front of Octavia API. The
purpose of this middleware is to set up the request URL correctly in
the case there is a proxy (For instance, a loadbalancer such as HAProxy)
in front of Octavia API.

So, when TLS connections are terminated at the proxy, and one tries to
get the versions from the '/' resource from Octavia API, one will notice
that the protocol is incorrect; It will show 'http' instead of 'https'.
So this middleware handles such cases.

The HTTPProxyToWSGI is off by default and needs to be enabled via a
configuration value.

It can be enabled with the option in octavia.conf:
[oslo_middleware]
enable_proxy_headers_parsing=True

Conflicts:
	etc/octavia.conf
NOTE(s10): conflict is due to I3082962841d3b645f3cbd1a6b41fc7fb28dcf7e6
not being in stable branches

Story: 2005105
Task: 29732
Change-Id: I276188530a83598ed75560f02ed9d80ce9afca2f
(cherry picked from commit ec83c69372d647aaeec02fea6eea29c7ee11115a)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/67/674467/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/support-oslo_middleware-http_proxy_to_wsgi-928c6fc5ec3d421c.yaml', 'octavia/api/app.py', 'etc/octavia.conf']",3,c4d361fefdf897f38402b7ca9971b46390098412,http_proxy_to_wsgi,[oslo_middleware] # HTTPProxyToWSGI middleware enabled # enable_proxy_headers_parsing = False ,,15,0
openstack%2Fhorizon~stable%2Frocky~I1f68e1e5a3e073e38ac258de5ed9c43f8acb04e9,openstack/horizon,stable/rocky,I1f68e1e5a3e073e38ac258de5ed9c43f8acb04e9,Allow creating ICMPV6 rules,MERGED,2019-08-26 21:17:35.000000000,2019-09-17 20:32:23.000000000,2019-09-17 20:32:23.000000000,"[{'_account_id': 841}, {'_account_id': 8648}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-26 21:17:35.000000000', 'files': ['openstack_dashboard/dashboards/project/security_groups/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/7a5ed4b688c7f69ce63ef600611947e08e14bcd0', 'message': ""Allow creating ICMPV6 rules\n\nRight now, even if we specify a ::/0 (or other IPv6) CIDR in an\nICMP rule, Horizon sets 'icmp' as the ip_protocol of that rule but\nneutron expects 'ipv6-icmp' which is the right ip_protocol for ICMPv6.\nThis results in that rule never matching anything.\n\nThis change makes Horizon set the ip_protocol to ipv6-icmp when\nthe CIDR is an IPv6 one, and icmp when it's IPv4.\n\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nChange-Id: I1f68e1e5a3e073e38ac258de5ed9c43f8acb04e9\nCloses-Bug: #1652619\n(cherry picked from commit d5dcf1be93d9bb26bda7b375e41f03dd297888bb)\n""}]",0,678681,7a5ed4b688c7f69ce63ef600611947e08e14bcd0,14,4,1,13995,,,0,"Allow creating ICMPV6 rules

Right now, even if we specify a ::/0 (or other IPv6) CIDR in an
ICMP rule, Horizon sets 'icmp' as the ip_protocol of that rule but
neutron expects 'ipv6-icmp' which is the right ip_protocol for ICMPv6.
This results in that rule never matching anything.

This change makes Horizon set the ip_protocol to ipv6-icmp when
the CIDR is an IPv6 one, and icmp when it's IPv4.

Co-Authored-By: Akihiro Motoki <amotoki@gmail.com>
Change-Id: I1f68e1e5a3e073e38ac258de5ed9c43f8acb04e9
Closes-Bug: #1652619
(cherry picked from commit d5dcf1be93d9bb26bda7b375e41f03dd297888bb)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/81/678681/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/security_groups/forms.py'],1,7a5ed4b688c7f69ce63ef600611947e08e14bcd0,bug/1652619-stable/rocky," def _adjust_ip_protocol_of_icmp(self, data): # Note that this needs to be called after IPv4/IPv6 is determined. try: ip_protocol = int(data['ip_protocol']) except ValueError: # string representation of IP protocol ip_protocol = data['ip_protocol'] is_ipv6 = data['ethertype'] == 'IPv6' if isinstance(ip_protocol, int): # When IP protocol number is specified, we assume a user # knows more detail on IP protocol number, # so a warning message on a mismatch between IP proto number # and IP version is displayed. if is_ipv6 and ip_protocol == 1: msg = _('58 (ipv6-icmp) should be specified for IPv6 ' 'instead of 1.') self._errors['ip_protocol'] = self.error_class([msg]) elif not is_ipv6 and ip_protocol == 58: msg = _('1 (icmp) should be specified for IPv4 ' 'instead of 58.') self._errors['ip_protocol'] = self.error_class([msg]) else: # ICMPv6 uses different an IP protocol name and number. # To allow 'icmp' for both IPv4 and IPv6 in the form, # we need to replace 'icmp' with 'ipv6-icmp' based on IP version. if is_ipv6 and ip_protocol == 'icmp': data['ip_protocol'] = 'ipv6-icmp' self._adjust_ip_protocol_of_icmp(cleaned_data) ",,31,0
openstack%2Fproject-config~master~I2b3b67332093e12a2f177e177715da9d9a9d00f1,openstack/project-config,master,I2b3b67332093e12a2f177e177715da9d9a9d00f1,Update infra and specs indices,MERGED,2019-09-17 18:28:21.000000000,2019-09-17 20:17:34.000000000,2019-09-17 20:15:42.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 18:28:21.000000000', 'files': ['specs/specs.yaml', 'docs-site/infra-documents.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1450cbdf62019ca00cd515eb999c65eaf0c0708f', 'message': 'Update infra and specs indices\n\nAdd missing entries.\n\nThis also tests that publishing works again.\n\nChange-Id: I2b3b67332093e12a2f177e177715da9d9a9d00f1\n'}]",0,682711,1450cbdf62019ca00cd515eb999c65eaf0c0708f,8,3,1,6547,,,0,"Update infra and specs indices

Add missing entries.

This also tests that publishing works again.

Change-Id: I2b3b67332093e12a2f177e177715da9d9a9d00f1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/11/682711/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/specs.yaml', 'docs-site/infra-documents.yaml']",2,1450cbdf62019ca00cd515eb999c65eaf0c0708f,test-promote, - name: Git Restack directory: git-restack - name: Glean directory: glean - name: Log Processor directory: log_processor,,14,0
openstack%2Ftripleo-common~stable%2Fstein~If4e84a0273e295267248559c63ae994a5a826004,openstack/tripleo-common,stable/stein,If4e84a0273e295267248559c63ae994a5a826004,Log exceptions when checking status,MERGED,2019-08-22 22:56:00.000000000,2019-09-17 19:57:07.000000000,2019-08-24 03:08:56.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-22 22:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5b6089a778fbeec81a1c35f58322fb98743c91e0', 'message': ""Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nSession creation was moved into a single object class to ensure we're\nmanaging sessions in a uniform way.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit e06cf4482da855d63ab21f8183cea66499e6f5f9)\n""}, {'number': 2, 'created': '2019-08-23 14:38:49.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_export.py', 'tripleo_common/image/image_uploader.py', 'tripleo_common/tests/image/test_image_export.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4e6995dc44aae921ff3da0b5e2037d542411ed9c', 'message': ""Log exceptions when checking status\n\nThis change adds logging whenever a request has a status code of >= 300.\nThe check_status method will now create an SHA1 ID from the request URL\nand log the status, reason, text, and headers (in debug) whenever a\nrequest has a return code of >= 300. This will allow us to better debug\nimage processing issues, even when multiprocessing requests. Deployers\nwill now have the ability to track down issues to specific images and\nendpoints.\n\nSession creation was moved into a single object class to ensure we're\nmanaging sessions in a uniform way.\n\nChange-Id: If4e84a0273e295267248559c63ae994a5a826004\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit e06cf4482da855d63ab21f8183cea66499e6f5f9)\n""}]",0,678110,4e6995dc44aae921ff3da0b5e2037d542411ed9c,15,4,2,7353,,,0,"Log exceptions when checking status

This change adds logging whenever a request has a status code of >= 300.
The check_status method will now create an SHA1 ID from the request URL
and log the status, reason, text, and headers (in debug) whenever a
request has a return code of >= 300. This will allow us to better debug
image processing issues, even when multiprocessing requests. Deployers
will now have the ability to track down issues to specific images and
endpoints.

Session creation was moved into a single object class to ensure we're
managing sessions in a uniform way.

Change-Id: If4e84a0273e295267248559c63ae994a5a826004
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit e06cf4482da855d63ab21f8183cea66499e6f5f9)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/10/678110/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_export.py', 'tripleo_common/image/image_uploader.py', 'tripleo_common/tests/image/test_image_export.py']",4,5b6089a778fbeec81a1c35f58322fb98743c91e0,,"import requests self.assertRaises(requests.exceptions.HTTPError, image_export.export_stream,"," self.assertRaises(IOError, image_export.export_stream,",288,108
openstack%2Fhorizon~master~I4c5b77c21ffe1f6669c02d3b203838b3f41c2cd8,openstack/horizon,master,I4c5b77c21ffe1f6669c02d3b203838b3f41c2cd8,Imported Translations from Zanata,MERGED,2019-09-17 09:37:43.000000000,2019-09-17 19:44:25.000000000,2019-09-17 19:41:34.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-09-17 09:37:43.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'horizon/locale/de/LC_MESSAGES/djangojs.po', 'horizon/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'doc/source/locale/de/LC_MESSAGES/doc-user.po', 'doc/source/locale/de/LC_MESSAGES/doc-install.po', 'openstack_auth/locale/de/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/437e32d18e0d5157648940b0b04d96ddeee62d2c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I4c5b77c21ffe1f6669c02d3b203838b3f41c2cd8\n'}]",0,682592,437e32d18e0d5157648940b0b04d96ddeee62d2c,8,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I4c5b77c21ffe1f6669c02d3b203838b3f41c2cd8
",git fetch https://review.opendev.org/openstack/horizon refs/changes/92/682592/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'horizon/locale/de/LC_MESSAGES/djangojs.po', 'horizon/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'doc/source/locale/de/LC_MESSAGES/doc-user.po', 'doc/source/locale/de/LC_MESSAGES/doc-install.po', 'openstack_auth/locale/de/LC_MESSAGES/django.po']",7,437e32d18e0d5157648940b0b04d96ddeee62d2c,zanata/translations,"# Andreas Jaeger <jaegerandi@gmail.com>, 2019. #zanata""POT-Creation-Date: 2019-09-16 12:20+0000\n""""PO-Revision-Date: 2019-09-16 09:34+0000\n"" ""Last-Translator: Andreas Jaeger <jaegerandi@gmail.com>\n""msgid ""Confirm password"" msgstr ""Bestätige Passwort"" msgid ""New password"" msgstr ""Neues Passwort"" msgid ""Old password and new password must be different."" msgstr ""Das alte und das neue Passwort müssen sich unterscheiden."" msgid ""Original password"" msgstr ""Ursprüngliches Passwort"" msgid ""Password changed. Please log in to continue."" msgstr ""Passwort geändert. Bitte loggen Sie sich ein, um fortzufahren."" msgid ""Passwords do not match."" msgstr ""Passwörter stimmen nicht überein."" msgid ""Unable to update the user password."" msgstr ""Das Benutzerpasswort kann nicht aktualisiert werden."" ","""POT-Creation-Date: 2019-09-13 12:32+0000\n""""PO-Revision-Date: 2019-07-04 12:11+0000\n"" ""Last-Translator: Robert Simai <robert.simai@suse.com>\n""",99,20
openstack%2Fnova~stable%2Fpike~I37c8a2edfecb1979058e5a5372afd50270a34a89,openstack/nova,stable/pike,I37c8a2edfecb1979058e5a5372afd50270a34a89,Insert the description of the change.,ABANDONED,2019-08-15 03:13:49.000000000,2019-09-17 19:32:30.000000000,,"[{'_account_id': 7634}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-08-15 03:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d3ab4cc092f0d4328dc486c1187cd8269410195', 'message': 'Insert the description of the change.\n\nChange-Id: I37c8a2edfecb1979058e5a5372afd50270a34a89\n'}]",0,676541,9d3ab4cc092f0d4328dc486c1187cd8269410195,6,4,1,30794,,,0,"Insert the description of the change.

Change-Id: I37c8a2edfecb1979058e5a5372afd50270a34a89
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/676541/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,9d3ab4cc092f0d4328dc486c1187cd8269410195,node_cache,,,0,0
openstack%2Fdevstack-plugin-ceph~master~I3e1f9683a28a2e2e67a0327031f0670f33391126,openstack/devstack-plugin-ceph,master,I3e1f9683a28a2e2e67a0327031f0670f33391126,tempest: re-enable shelve tests for stable queens,MERGED,2019-06-28 09:40:42.000000000,2019-09-17 19:26:55.000000000,2019-09-17 19:26:55.000000000,"[{'_account_id': 4523}, {'_account_id': 6873}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 09:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/46ed9aa35c3798affdc3ae56e64cf8965af84ccd', 'message': 'tempest: re-enable shelve tests for stable queens\n\nRelated-Bug: #1653953\nDepends-On: https://review.opendev.org/#/c/668123/\nChange-Id: I3e1f9683a28a2e2e67a0327031f0670f33391126\n'}, {'number': 2, 'created': '2019-08-13 09:58:36.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/04871bee0cc43902d6e5021f831cb4c3f97465f8', 'message': 'tempest: re-enable shelve tests for stable queens\n\nRelated-Bug: #1653953\nDepends-On: https://review.opendev.org/#/c/668123/\nChange-Id: I3e1f9683a28a2e2e67a0327031f0670f33391126\n'}]",0,668130,04871bee0cc43902d6e5021f831cb4c3f97465f8,14,5,2,10135,,,0,"tempest: re-enable shelve tests for stable queens

Related-Bug: #1653953
Depends-On: https://review.opendev.org/#/c/668123/
Change-Id: I3e1f9683a28a2e2e67a0327031f0670f33391126
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/30/668130/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,46ed9aa35c3798affdc3ae56e64cf8965af84ccd,bug/1653953," if [[ ""$TARGET_BRANCH"" =~ stable/(ocata|pike) ]]; then"," if [[ ""$TARGET_BRANCH"" =~ stable/(ocata|pike|queens) ]]; then",1,1
openstack%2Fnova~stable%2Fqueens~Ibd0d8ec2397e421736bd981c18a393ccf765faa8,openstack/nova,stable/queens,Ibd0d8ec2397e421736bd981c18a393ccf765faa8,DNM - Test rbd unshelve fix on stable queens,ABANDONED,2019-06-28 11:06:49.000000000,2019-09-17 19:16:45.000000000,,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-28 11:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/276636f5be42a04c5abfb6273d7a138322ad9e52', 'message': 'DNM - Test rbd unshelve fix on stable queens\n\nDepends-On: https://review.opendev.org/#/c/668130/\nChange-Id: Ibd0d8ec2397e421736bd981c18a393ccf765faa8\n'}, {'number': 2, 'created': '2019-06-28 11:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/963bb1fe63961bb0a4a994dc85557297de38dab7', 'message': 'DNM - Test rbd unshelve fix on stable queens\n\nDepends-On: https://review.opendev.org/#/c/668130/\nChange-Id: Ibd0d8ec2397e421736bd981c18a393ccf765faa8\n'}, {'number': 3, 'created': '2019-07-29 08:07:02.000000000', 'files': ['.DNM'], 'web_link': 'https://opendev.org/openstack/nova/commit/32fe986160219fda4f76235e165e32e79ec72a9f', 'message': 'DNM - Test rbd unshelve fix on stable queens\n\nDepends-On: https://review.opendev.org/#/c/668130/\nChange-Id: Ibd0d8ec2397e421736bd981c18a393ccf765faa8\n'}]",0,668142,32fe986160219fda4f76235e165e32e79ec72a9f,16,6,3,10135,,,0,"DNM - Test rbd unshelve fix on stable queens

Depends-On: https://review.opendev.org/#/c/668130/
Change-Id: Ibd0d8ec2397e421736bd981c18a393ccf765faa8
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/668142/2 && git format-patch -1 --stdout FETCH_HEAD,['.DNM'],1,276636f5be42a04c5abfb6273d7a138322ad9e52,bug/1653953,,,0,0
openstack%2Ftripleo-common~stable%2Fstein~I0a5160dddb91a1f6c050643db615dbc4a9e36686,openstack/tripleo-common,stable/stein,I0a5160dddb91a1f6c050643db615dbc4a9e36686,Close the http sessions of registry on image prepare,MERGED,2019-08-21 05:43:59.000000000,2019-09-17 19:16:08.000000000,2019-08-26 21:31:09.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-21 05:43:59.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6104789f3c0476ba838e5ad9545762b82b1925cd', 'message': 'Close the http sessions of registry on image prepare\n\nChange-Id: I0a5160dddb91a1f6c050643db615dbc4a9e36686\nCloses-Bug: #1840137\n(cherry picked from commit 0699bf1a213c351ce672d130ba0a02c4cb4717ad)\n'}]",0,677609,6104789f3c0476ba838e5ad9545762b82b1925cd,14,5,1,18575,,,0,"Close the http sessions of registry on image prepare

Change-Id: I0a5160dddb91a1f6c050643db615dbc4a9e36686
Closes-Bug: #1840137
(cherry picked from commit 0699bf1a213c351ce672d130ba0a02c4cb4717ad)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/09/677609/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,6104789f3c0476ba838e5ad9545762b82b1925cd,fix_warnings-stable/stein, target_session.close() target_session.close() source_session.close() session.close(),,5,0
openstack%2Ftripleo-common~master~I0a5160dddb91a1f6c050643db615dbc4a9e36686,openstack/tripleo-common,master,I0a5160dddb91a1f6c050643db615dbc4a9e36686,Close the http sessions of registry on image prepare,MERGED,2019-08-14 10:57:29.000000000,2019-09-17 19:13:57.000000000,2019-08-21 05:27:59.000000000,"[{'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 17499}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26285}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-08-14 10:57:29.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0699bf1a213c351ce672d130ba0a02c4cb4717ad', 'message': 'Close the http sessions of registry on image prepare\n\nChange-Id: I0a5160dddb91a1f6c050643db615dbc4a9e36686\nCloses-Bug: #1840137\n'}]",0,676387,0699bf1a213c351ce672d130ba0a02c4cb4717ad,29,9,1,18575,,,0,"Close the http sessions of registry on image prepare

Change-Id: I0a5160dddb91a1f6c050643db615dbc4a9e36686
Closes-Bug: #1840137
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/87/676387/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,0699bf1a213c351ce672d130ba0a02c4cb4717ad,fix_warnings, target_session.close() target_session.close() source_session.close() session.close(),,5,0
openstack%2Fnova~stable%2Frocky~I11de92b2375e5475b34e613f12a66162ddc7e001,openstack/nova,stable/rocky,I11de92b2375e5475b34e613f12a66162ddc7e001,[WIP] only update port binding if there is not an inactive binding,ABANDONED,2019-04-17 21:21:34.000000000,2019-09-17 18:59:46.000000000,,"[{'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-17 21:21:34.000000000', 'files': ['nova/tests/unit/network/test_neutronv2.py', 'nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ccfd3687494973029137afd16c04ecafbcfa9f7d', 'message': '[WIP] only update port binding if there is not an inactive binding\n\nin rare? cases when we call migrate_instance_finish in post live\nmigrate on the destination host we can have started the migration\nwith the new workflow but have not activated the port binding.\n\nmigrate_instance_finish calls _update_port_binding_for_instance\nwhich updated the old port binding to point to the new host\ninstead of activating the inactive binding. This results in\na violation of the unique constratin on the neutron port bindings\ndb table as it would create both an active and inactive port binding\nfor a singel port on the same host.\n\nThis change checks to see if a port has an inactive port binding\nwhen looping over the ports in _update_port_binding_for_instance\nand call activate_port_binding if there is one and skips adding\nit to the list of port that need to be updated.\n\nThis show prevent the db conflict and correctly activate the inactive\nport binding.\n\nConflicts:\n    nova/network/neutronv2/api.py\n    nova/tests/unit/network/test_neutronv2.py\n\nChange-Id: I11de92b2375e5475b34e613f12a66162ddc7e001\nCloses-Bug: #1822884\n'}]",0,653609,ccfd3687494973029137afd16c04ecafbcfa9f7d,8,6,1,11604,,,0,"[WIP] only update port binding if there is not an inactive binding

in rare? cases when we call migrate_instance_finish in post live
migrate on the destination host we can have started the migration
with the new workflow but have not activated the port binding.

migrate_instance_finish calls _update_port_binding_for_instance
which updated the old port binding to point to the new host
instead of activating the inactive binding. This results in
a violation of the unique constratin on the neutron port bindings
db table as it would create both an active and inactive port binding
for a singel port on the same host.

This change checks to see if a port has an inactive port binding
when looping over the ports in _update_port_binding_for_instance
and call activate_port_binding if there is one and skips adding
it to the list of port that need to be updated.

This show prevent the db conflict and correctly activate the inactive
port binding.

Conflicts:
    nova/network/neutronv2/api.py
    nova/tests/unit/network/test_neutronv2.py

Change-Id: I11de92b2375e5475b34e613f12a66162ddc7e001
Closes-Bug: #1822884
",git fetch https://review.opendev.org/openstack/nova refs/changes/09/653609/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/neutronv2/api.py', 'nova/tests/unit/network/test_neutronv2.py']",2,ccfd3687494973029137afd16c04ecafbcfa9f7d,bug/1822884," @mock.patch.object(neutronapi.API, 'has_port_binding_on_host', return_value=(mock.Mock(),None)) self, get_client_mock, has_binding_mock): @mock.patch.object(neutronapi.API, 'has_port_binding_on_host', return_value=(mock.Mock(),None)) self, get_client_mock, has_binding_mock): @mock.patch.object(neutronapi.API, 'has_port_binding_on_host', return_value=(mock.Mock(),None)) def test_update_port_bindings_for_instance_same_host( self, get_client_mock, has_binding_mock): @mock.patch.object(neutronapi.API, 'has_port_binding_on_host', return_value=(mock.Mock(),None)) def test_update_port_bindings_for_instance_with_pci( self, get_client_mock, get_pci_device_devspec_mock, has_binding_mock): @mock.patch.object(neutronapi.API, 'has_port_binding_on_host', return_value=(mock.Mock(),None)) get_client_mock, get_pci_device_devspec_mock, has_binding_mock): @mock.patch.object(neutronapi.API, 'has_port_binding_on_host', return_value=(mock.Mock(),None)) def test_update_port_bindings_for_instance_with_pci_no_migration( self, get_client_mock, get_pci_device_devspec_mock, has_binding_mock): activate.assert_called_once_with(mock.ANY, uuids.port_id, 'dest') def _test_update_port_true_exception(self,expected_bind_host, @mock.patch.object(neutronapi.API, 'has_port_binding_on_host', return_value=(mock.Mock(), None)) def test_migrate_instance_finish_binding_true(self, has_binding_mock): @mock.patch.object(neutronapi.API, 'has_port_binding_on_host', return_value=(mock.Mock(), None)) def test_setup_instance_network_on_host_true(self, has_binding_mock): def test_activate_port_binding(self): mock_client = mock.MagicMock() mock_client.put.return_value = resp self.api.activate_port_binding(mock_client, uuids.port_id, 'fake-host') mock_client.put.assert_called_once_with( self, mock_log_warning): mock_client = mock.Mock() mock_client.put.return_value = fake_req.FakeResponse(409) self.api.activate_port_binding(mock_client, uuids.port_id, 'fake-host') mock_client.put.assert_called_once_with( def test_activate_port_binding_fails(self): mock_client = mock.MagicMock() mock_client.put.return_value = fake_req.FakeResponse(500) mock_client, uuids.port_id, 'fake-host') mock_client.put.assert_called_once_with("," self, get_client_mock): self, get_client_mock): def test_update_port_bindings_for_instance_same_host(self, get_client_mock): def test_update_port_bindings_for_instance_with_pci(self, get_client_mock, get_pci_device_devspec_mock): get_client_mock, get_pci_device_devspec_mock): def test_update_port_bindings_for_instance_with_pci_no_migration(self, get_client_mock, get_pci_device_devspec_mock): activate.assert_called_once_with(self.context, uuids.port_id, 'dest') def _test_update_port_true_exception(self, expected_bind_host, def test_migrate_instance_finish_binding_true(self): def test_setup_instance_network_on_host_true(self): @mock.patch('nova.network.neutronv2.api._get_ksa_client') def test_activate_port_binding(self, mock_client): ctxt = context.get_context() mock_client.return_value.put.return_value = resp self.api.activate_port_binding(ctxt, uuids.port_id, 'fake-host') mock_client.return_value.put.assert_called_once_with( @mock.patch('nova.network.neutronv2.api._get_ksa_client') self, mock_log_warning, mock_client): """"""Tests the 409 case of activating an already active port binding."""""" ctxt = context.get_context() mock_client.return_value.put.return_value = fake_req.FakeResponse(409) self.api.activate_port_binding(ctxt, uuids.port_id, 'fake-host') mock_client.return_value.put.assert_called_once_with( @mock.patch('nova.network.neutronv2.api._get_ksa_client') def test_activate_port_binding_fails(self, mock_client): ctxt = context.get_context() mock_client.return_value.put.return_value = fake_req.FakeResponse(500) ctxt, uuids.port_id, 'fake-host') mock_client.return_value.put.assert_called_once_with(",99,42
openstack%2Fopenstack-helm~master~Ib30c5ce9d96bc3b92bb5d9724cd959898d4c82fe,openstack/openstack-helm,master,Ib30c5ce9d96bc3b92bb5d9724cd959898d4c82fe,[WIP] Add RabbitMQ ingress Network Policy rules,ABANDONED,2019-09-11 19:46:29.000000000,2019-09-17 18:55:12.000000000,,"[{'_account_id': 8749}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-11 19:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5cc68db6815006c72206197ea14f2fba4afa394e', 'message': '[WIP] Add RabbitMQ ingress Network Policy rules\n\nThe patch adds Network Policy ingress rules for\nRabbitMQ.\n\nDepends-on: Ide2998ebb2af2832f24ca7abc398a82e4a6d70e3\nChange-Id: Ib30c5ce9d96bc3b92bb5d9724cd959898d4c82fe\n'}, {'number': 2, 'created': '2019-09-11 21:07:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/070745ac13b3c98319da8174dcd997faaed6b760', 'message': '[WIP] Add RabbitMQ ingress Network Policy rules\n\nThe patch adds Network Policy ingress rules for\nRabbitMQ.\n\nDepends-on: Ide2998ebb2af2832f24ca7abc398a82e4a6d70e3\nChange-Id: Ib30c5ce9d96bc3b92bb5d9724cd959898d4c82fe\n'}, {'number': 3, 'created': '2019-09-13 20:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/309716c908bd6abf31eda2a88c7e92ddd72e4efd', 'message': '[WIP] Add RabbitMQ ingress Network Policy rules\n\nThe patch adds Network Policy ingress rules for\nRabbitMQ.\n\nDepends-on: Ide2998ebb2af2832f24ca7abc398a82e4a6d70e3\nChange-Id: Ib30c5ce9d96bc3b92bb5d9724cd959898d4c82fe\n'}, {'number': 4, 'created': '2019-09-13 20:08:24.000000000', 'files': ['tools/deployment/netpol/060-rabbitmq.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cb3f7d1946107c055f9821f33b576644964a6f40', 'message': '[WIP] Add RabbitMQ ingress Network Policy rules\n\nThe patch adds Network Policy ingress rules for\nRabbitMQ.\n\nChange-Id: Ib30c5ce9d96bc3b92bb5d9724cd959898d4c82fe\n'}]",1,681586,cb3f7d1946107c055f9821f33b576644964a6f40,14,3,4,8749,,,0,"[WIP] Add RabbitMQ ingress Network Policy rules

The patch adds Network Policy ingress rules for
RabbitMQ.

Change-Id: Ib30c5ce9d96bc3b92bb5d9724cd959898d4c82fe
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/86/681586/4 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/netpol/060-rabbitmq.sh'],1,5cc68db6815006c72206197ea14f2fba4afa394e,netpol, - from: - podSelector: matchLabels: application: heat - podSelector: matchLabels: application: glance - podSelector: matchLabels: application: cinder - podSelector: matchLabels: application: keystone - podSelector: matchLabels: application: nova - podSelector: matchLabels: application: rabbitmq ports: # AMQP port - protocol: TCP port: 5672 # HTTP API ports - protocol: TCP port: 15672 - protocol: TCP port: 80 - from: - podSelector: matchLabels: application: rabbitmq ports: # Clustering port AMQP + 20000 - protocol: TCP port: 25672, - {},37,1
openstack%2Fproject-config~master~I3c227f4229a0572a532009f270d44059698f53e8,openstack/project-config,master,I3c227f4229a0572a532009f270d44059698f53e8,Switch project-config to promote jobs [4]: Add promote jobs,MERGED,2019-09-14 15:49:22.000000000,2019-09-17 18:30:42.000000000,2019-09-17 18:30:42.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-14 15:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/37a24bbc011456bbff956509beca19d6beb52231', 'message': 'Switch project-config to promote jobs [4]: Add promote jobs\n\nCreate new promote jobs for infra-index and docs-site.\nAlso, add promote-openstack-specs job that we can use for publishing\nall specs site later.\n\nAdd the same file list (copied from openstack-zuul-jobs) for the two\nproject-config promote jobs.\n\nRemove the now obsolete publish jobs.\n\nRemove now obsolete playbooks.\n\nChange-Id: I3c227f4229a0572a532009f270d44059698f53e8\n'}, {'number': 2, 'created': '2019-09-14 15:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c56faad8561de872123ea7d5739c64aceb45e407', 'message': 'Switch project-config to promote jobs [4]: Add promote jobs\n\nCreate new promote jobs for infra-index and docs-site.\nAlso, add promote-openstack-specs job that we can use for publishing\nall specs site later.\n\nAdd the same file list (copied from openstack-zuul-jobs) for the two\nproject-config promote jobs.\n\nRemove the now obsolete publish jobs.\n\nRemove now obsolete playbooks.\n\nNeeded-By: https://review.opendev.org/682215\nChange-Id: I3c227f4229a0572a532009f270d44059698f53e8\n'}, {'number': 3, 'created': '2019-09-14 16:02:43.000000000', 'files': ['zuul.d/secrets.yaml', 'zuul.d/projects.yaml', 'playbooks/publish/openstack-specs-site.yaml', 'zuul.d/jobs.yaml', 'playbooks/publish/infra-index.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9de5bbc2243e548c75dfe2769aad44f15952c017', 'message': 'Switch project-config to promote jobs [4]: Add promote jobs\n\nCreate new promote jobs for infra-index and docs-site.\nAlso, add promote-openstack-specs job that we can use for publishing\nall specs site later.\n\nAdd the same file list (copied from openstack-zuul-jobs) for the two\nproject-config promote jobs.\n\nRemove the now obsolete publish jobs.\n\nRemove now obsolete playbooks.\n\nNeeded-By: https://review.opendev.org/682215\nChange-Id: I3c227f4229a0572a532009f270d44059698f53e8\n'}]",0,682214,9de5bbc2243e548c75dfe2769aad44f15952c017,13,4,3,6547,,,0,"Switch project-config to promote jobs [4]: Add promote jobs

Create new promote jobs for infra-index and docs-site.
Also, add promote-openstack-specs job that we can use for publishing
all specs site later.

Add the same file list (copied from openstack-zuul-jobs) for the two
project-config promote jobs.

Remove the now obsolete publish jobs.

Remove now obsolete playbooks.

Needed-By: https://review.opendev.org/682215
Change-Id: I3c227f4229a0572a532009f270d44059698f53e8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/14/682214/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/secrets.yaml', 'zuul.d/projects.yaml', 'playbooks/publish/openstack-specs-site.yaml', 'zuul.d/jobs.yaml', 'playbooks/publish/infra-index.yaml']",5,37a24bbc011456bbff956509beca19d6beb52231,promote-project-config,,"- hosts: all roles: - fetch-tox-output - role: write-root-marker root_marker_dir: ""src/{{ zuul.project.canonical_name }}/docs-site/output"" when: zuul_success | bool - role: fetch-sphinx-output sphinx_output_src: ""src/{{ zuul.project.canonical_name }}/docs-site/output/"" zuul_executor_dest: ""{{ zuul.executor.work_root }}/artifacts"" when: zuul_success | bool ",122,69
openstack%2Ftripleo-specs~master~Ib7b7fdb079a0abc675425d206e7dc1da1e312725,openstack/tripleo-specs,master,Ib7b7fdb079a0abc675425d206e7dc1da1e312725,fix the spelling mistakes,MERGED,2019-09-12 11:12:50.000000000,2019-09-17 18:26:39.000000000,2019-09-17 18:26:39.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-12 11:12:50.000000000', 'files': ['specs/stein/ripleo-routed-networks-templates.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/f3c55b0a6102f544c5cb84f07ad92bd95b49d9bc', 'message': 'fix the spelling mistakes\n\nChange-Id: Ib7b7fdb079a0abc675425d206e7dc1da1e312725\n'}]",0,681717,f3c55b0a6102f544c5cb84f07ad92bd95b49d9bc,6,2,1,30455,,,0,"fix the spelling mistakes

Change-Id: Ib7b7fdb079a0abc675425d206e7dc1da1e312725
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/17/681717/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/ripleo-routed-networks-templates.rst'],1,f3c55b0a6102f544c5cb84f07ad92bd95b49d9bc,,define the IP information for each network. There is no room in the current,define the IP information for each nework. There is no room in the current,1,1
openstack%2Frequirements~stable%2Fqueens~Idb29a8756c31a6dc8df9e8cb205fca2a36b16ef8,openstack/requirements,stable/queens,Idb29a8756c31a6dc8df9e8cb205fca2a36b16ef8,Update global-requirement for ovsdbapp,ABANDONED,2019-09-17 09:06:27.000000000,2019-09-17 18:22:49.000000000,,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 14288}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-17 09:06:27.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8bbb11061ec50a108435edacc49de4412847c851', 'message': 'Update global-requirement for ovsdbapp\n\nThe change in networking-ovn [0] fails on requirement-check\neven the upper-constraints for stable/queens are set to 0.10.4.\n\nLets bump-up the global-requirement here to check if it takes\neffect.\n\n[0] https://review.opendev.org/#/c/681562/\n\nChange-Id: Idb29a8756c31a6dc8df9e8cb205fca2a36b16ef8\n'}]",0,682588,8bbb11061ec50a108435edacc49de4412847c851,7,5,1,24791,,,0,"Update global-requirement for ovsdbapp

The change in networking-ovn [0] fails on requirement-check
even the upper-constraints for stable/queens are set to 0.10.4.

Lets bump-up the global-requirement here to check if it takes
effect.

[0] https://review.opendev.org/#/c/681562/

Change-Id: Idb29a8756c31a6dc8df9e8cb205fca2a36b16ef8
",git fetch https://review.opendev.org/openstack/requirements refs/changes/88/682588/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,8bbb11061ec50a108435edacc49de4412847c851,,ovsdbapp>=0.10.4 # Apache-2.0,ovsdbapp>=0.8.0 # Apache-2.0,1,1
openstack%2Fmanila-tempest-plugin~master~Id1073a964b6d034375b74fa89e3ebb39e2c56220,openstack/manila-tempest-plugin,master,Id1073a964b6d034375b74fa89e3ebb39e2c56220,Add update share type functional tests,MERGED,2019-08-02 08:54:20.000000000,2019-09-17 18:22:09.000000000,2019-09-17 18:22:09.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26458}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}]","[{'number': 1, 'created': '2019-08-02 08:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/59c0c8d4f4ed301067b0643bb7728513bdbca445', 'message': 'wip: Add update share type functional tests\n\nDepends-on: https://review.opendev.org/#/c/669651/\nPart-of blueprint update-share-type-name-or-description\n\nChange-Id: Id1073a964b6d034375b74fa89e3ebb39e2c56220\n'}, {'number': 2, 'created': '2019-08-05 00:55:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/7a3809f9961d7761edf55dbf4e0554066de14b89', 'message': 'Add update share type functional tests\n\nDepends-on: https://review.opendev.org/#/c/669651/\nPart-of blueprint update-share-type-name-or-description\n\nChange-Id: Id1073a964b6d034375b74fa89e3ebb39e2c56220\n'}, {'number': 3, 'created': '2019-08-07 03:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/35ad3b64116fd0db66d8263278594d375383db10', 'message': 'Add update share type functional tests\n\nDepends-on: https://review.opendev.org/#/c/669651/\nPart-of blueprint update-share-type-name-or-description\n\nChange-Id: Id1073a964b6d034375b74fa89e3ebb39e2c56220\n'}, {'number': 4, 'created': '2019-08-08 02:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/ff3a20de3f31bae545573fffd4df97f5aa7dce79', 'message': 'Add update share type functional tests\n\nDepends-on: https://review.opendev.org/#/c/669651/\nPart-of blueprint update-share-type-name-or-description\n\nChange-Id: Id1073a964b6d034375b74fa89e3ebb39e2c56220\n'}, {'number': 5, 'created': '2019-08-12 10:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/6cdfa0513a68d2b1646b6537f92baba704bce32d', 'message': 'Add update share type functional tests\n\nDepends-on: https://review.opendev.org/#/c/669651/\nPart-of blueprint update-share-type-name-or-description\n\nChange-Id: Id1073a964b6d034375b74fa89e3ebb39e2c56220\n'}, {'number': 6, 'created': '2019-08-15 01:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/1e99bdafe169eee2d0c9c5b57976e081f73540bc', 'message': 'Add update share type functional tests\n\nDepends-on: https://review.opendev.org/#/c/669651/\nPart-of blueprint update-share-type-name-or-description\n\nChange-Id: Id1073a964b6d034375b74fa89e3ebb39e2c56220\n'}, {'number': 7, 'created': '2019-08-16 01:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/6c12a7f2d7a2b576fbe70b648338126d576d2839', 'message': 'Add update share type functional tests\n\nDepends-on: https://review.opendev.org/#/c/669651/\nPart-of blueprint update-share-type-name-or-description\n\nChange-Id: Id1073a964b6d034375b74fa89e3ebb39e2c56220\n'}, {'number': 8, 'created': '2019-09-06 05:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/0d1d1a7720f8670d450cc7c6e6eb1300ad160f28', 'message': 'Add update share type functional tests\n\nDepends-on: I4c7bdd601d48b40c01639b5089d4bff259a7b3af\nPart-of blueprint update-share-type-name-or-description\n\nChange-Id: Id1073a964b6d034375b74fa89e3ebb39e2c56220\n'}, {'number': 9, 'created': '2019-09-06 09:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/02f1df7b8d1b574e9077c4ca7d747b1ff87acb39', 'message': 'Add update share type functional tests\n\nDepends-on: I4c7bdd601d48b40c01639b5089d4bff259a7b3af\nPart-of blueprint update-share-type-name-or-description\n\nChange-Id: Id1073a964b6d034375b74fa89e3ebb39e2c56220\n'}, {'number': 10, 'created': '2019-09-10 07:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/cd2eab7ce03fa9a7d12ef1256f5a7f382a1b0ea4', 'message': 'Add update share type functional tests\n\nDepends-on: I4c7bdd601d48b40c01639b5089d4bff259a7b3af\nPart-of blueprint update-share-type-name-or-description\n\nChange-Id: Id1073a964b6d034375b74fa89e3ebb39e2c56220\n'}, {'number': 11, 'created': '2019-09-10 16:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/4fa2b5e25a9e83b93c1508fddecc434e52d1e19d', 'message': 'Add update share type functional tests\n\nDepends-on: I4c7bdd601d48b40c01639b5089d4bff259a7b3af\nPart-of blueprint update-share-type-name-or-description\n\nChange-Id: Id1073a964b6d034375b74fa89e3ebb39e2c56220\n'}, {'number': 12, 'created': '2019-09-11 02:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/1317079df0e636ebb146a4462d85d08308e797f2', 'message': 'Add update share type functional tests\n\nDepends-on: I4c7bdd601d48b40c01639b5089d4bff259a7b3af\nPart-of blueprint update-share-type-name-or-description\n\nChange-Id: Id1073a964b6d034375b74fa89e3ebb39e2c56220\n'}, {'number': 13, 'created': '2019-09-15 07:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/8789143ec2c8f7c61db53901e13891c3e575111e', 'message': 'Add update share type functional tests\n\nDepends-on: I4c7bdd601d48b40c01639b5089d4bff259a7b3af\nPart-of blueprint update-share-type-name-or-description\n\nChange-Id: Id1073a964b6d034375b74fa89e3ebb39e2c56220\n'}, {'number': 14, 'created': '2019-09-16 01:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/b69e89e88fa26d0890e24009b119439cd1c4f861', 'message': 'Add update share type functional tests\n\nDepends-on: I4c7bdd601d48b40c01639b5089d4bff259a7b3af\nPart-of blueprint update-share-type-name-or-description\n\nChange-Id: Id1073a964b6d034375b74fa89e3ebb39e2c56220\n'}, {'number': 15, 'created': '2019-09-17 01:07:48.000000000', 'files': ['manila_tempest_tests/tests/api/base.py', 'manila_tempest_tests/config.py', 'manila_tempest_tests/tests/api/admin/test_share_types.py', 'manila_tempest_tests/tests/api/test_share_types_negative.py', 'manila_tempest_tests/services/share/v2/json/shares_client.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/0d1d29f5618cfbdef31c2acdf537799b01aee232', 'message': 'Add update share type functional tests\n\nDepends-on: I4c7bdd601d48b40c01639b5089d4bff259a7b3af\nPart-of blueprint update-share-type-name-or-description\n\nChange-Id: Id1073a964b6d034375b74fa89e3ebb39e2c56220\n'}]",59,674230,0d1d29f5618cfbdef31c2acdf537799b01aee232,79,8,15,30407,,,0,"Add update share type functional tests

Depends-on: I4c7bdd601d48b40c01639b5089d4bff259a7b3af
Part-of blueprint update-share-type-name-or-description

Change-Id: Id1073a964b6d034375b74fa89e3ebb39e2c56220
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/30/674230/14 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/api/base.py', 'manila_tempest_tests/tests/api/admin/test_share_types.py', 'manila_tempest_tests/services/share/json/shares_client.py', 'manila_tempest_tests/services/share/v2/json/shares_client.py']",4,59c0c8d4f4ed301067b0643bb7728513bdbca445,bp/update-share-type-name-or-description," def update_share_type(self, share_type_id, name=None, is_public=True, description=None, version=LATEST_MICROVERSION): post_body = { ""share_type_access:is_public"": is_public } if name: post_body.update({""name"": name}) if description: post_body.update({""description"": description}) post_body = json.dumps({'share_type': post_body}) resp, body = self.put(""types/%s"" % share_type_id, post_body, version=version) self.expected_success(200, resp.status) return self._parse_resp(body) ",,85,0
openstack%2Foctavia~stable%2Frocky~If6fb3fde9b43ac82af46eaddc48ec7a3a5b95602,openstack/octavia,stable/rocky,If6fb3fde9b43ac82af46eaddc48ec7a3a5b95602,Prevent UDP LBs to use different IP protocol versions in amphora driver,MERGED,2019-08-09 10:24:20.000000000,2019-09-17 18:10:34.000000000,2019-09-17 18:07:50.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-09 10:24:20.000000000', 'files': ['octavia/api/drivers/amphora_driver/driver.py', 'releasenotes/notes/validate-same-ip-protocol-in-udp-lb-2813b545131097ec.yaml', 'octavia/tests/unit/api/drivers/amphora_driver/test_amphora_driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/14169cbcfc1451b2f87464cb23e512216f72c340', 'message': ""Prevent UDP LBs to use different IP protocol versions in amphora driver\n\nThe amphora doesn't support mixing IPv4 and IPv6 addresses for its\nmembers and its VIP when using UDP load balancers.\nThis commit adds a validation step in the member_create and th e\nmember_batch_update functions of the amphora driver to ensure that IP\nprotocol versions are the same in a UDP load balancer.\n\nStory: 2005876\nTask: 33689\n\nChange-Id: If6fb3fde9b43ac82af46eaddc48ec7a3a5b95602\n(cherry picked from commit 56bb1e134d670901bdfe0526495f5794a55f139a)\n(cherry picked from commit 0a39311f88f4a7d2832c640753277158d709cbeb)\n""}]",0,675577,14169cbcfc1451b2f87464cb23e512216f72c340,9,3,1,29244,,,0,"Prevent UDP LBs to use different IP protocol versions in amphora driver

The amphora doesn't support mixing IPv4 and IPv6 addresses for its
members and its VIP when using UDP load balancers.
This commit adds a validation step in the member_create and th e
member_batch_update functions of the amphora driver to ensure that IP
protocol versions are the same in a UDP load balancer.

Story: 2005876
Task: 33689

Change-Id: If6fb3fde9b43ac82af46eaddc48ec7a3a5b95602
(cherry picked from commit 56bb1e134d670901bdfe0526495f5794a55f139a)
(cherry picked from commit 0a39311f88f4a7d2832c640753277158d709cbeb)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/77/675577/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/drivers/amphora_driver/driver.py', 'releasenotes/notes/validate-same-ip-protocol-in-udp-lb-2813b545131097ec.yaml', 'octavia/tests/unit/api/drivers/amphora_driver/test_amphora_driver.py']",3,14169cbcfc1451b2f87464cb23e512216f72c340,," @mock.patch('octavia.db.api.get_session') @mock.patch('octavia.db.repositories.PoolRepository.get') def test_member_create(self, mock_cast, mock_pool_get, mock_session): @mock.patch('octavia.db.api.get_session') @mock.patch('octavia.db.repositories.PoolRepository.get') @mock.patch('oslo_messaging.RPCClient.cast') def test_member_create_udp_ipv4(self, mock_cast, mock_pool_get, mock_session): mock_lb = mock.MagicMock() mock_lb.vip = mock.MagicMock() mock_lb.vip.ip_address = ""192.0.1.1"" mock_listener = mock.MagicMock() mock_listener.load_balancer = mock_lb mock_pool = mock.MagicMock() mock_pool.protocol = consts.PROTOCOL_UDP mock_pool.listeners = [mock_listener] mock_pool_get.return_value = mock_pool provider_member = driver_dm.Member( member_id=self.sample_data.member1_id, address=""192.0.2.1"") self.amp_driver.member_create(provider_member) payload = {consts.MEMBER_ID: self.sample_data.member1_id} mock_cast.assert_called_with({}, 'create_member', **payload) @mock.patch('octavia.db.api.get_session') @mock.patch('octavia.db.repositories.PoolRepository.get') @mock.patch('oslo_messaging.RPCClient.cast') def test_member_create_udp_ipv4_ipv6(self, mock_cast, mock_pool_get, mock_session): mock_lb = mock.MagicMock() mock_lb.vip = mock.MagicMock() mock_lb.vip.ip_address = ""fe80::1"" mock_listener = mock.MagicMock() mock_listener.load_balancer = mock_lb mock_pool = mock.MagicMock() mock_pool.protocol = consts.PROTOCOL_UDP mock_pool.listeners = [mock_listener] mock_pool_get.return_value = mock_pool provider_member = driver_dm.Member( member_id=self.sample_data.member1_id, address=""192.0.2.1"") self.assertRaises(exceptions.UnsupportedOptionError, self.amp_driver.member_create, provider_member) @mock.patch('octavia.db.api.get_session') @mock.patch('octavia.db.repositories.PoolRepository.get') @mock.patch('oslo_messaging.RPCClient.cast') def test_member_batch_update_udp_ipv4(self, mock_cast, mock_pool_get, mock_session): mock_lb = mock.MagicMock() mock_lb.vip = mock.MagicMock() mock_lb.vip.ip_address = ""192.0.1.1"" mock_listener = mock.MagicMock() mock_listener.load_balancer = mock_lb mock_pool = mock.MagicMock() mock_pool.protocol = consts.PROTOCOL_UDP mock_pool.listeners = [mock_listener] mock_pool.members = self.sample_data.db_pool1_members mock_pool_get.return_value = mock_pool prov_mem_update = driver_dm.Member( member_id=self.sample_data.member2_id, pool_id=self.sample_data.pool1_id, admin_state_up=False, address='192.0.2.17', monitor_address='192.0.2.77', protocol_port=80, name='updated-member2') prov_new_member = driver_dm.Member( member_id=self.sample_data.member3_id, pool_id=self.sample_data.pool1_id, address='192.0.2.18', monitor_address='192.0.2.28', protocol_port=80, name='member3') prov_members = [prov_mem_update, prov_new_member] update_mem_dict = {'ip_address': '192.0.2.17', 'name': 'updated-member2', 'monitor_address': '192.0.2.77', 'id': self.sample_data.member2_id, 'enabled': False, 'protocol_port': 80, 'pool_id': self.sample_data.pool1_id} self.amp_driver.member_batch_update(prov_members) payload = {'old_member_ids': [self.sample_data.member1_id], 'new_member_ids': [self.sample_data.member3_id], 'updated_members': [update_mem_dict]} mock_cast.assert_called_with({}, 'batch_update_members', **payload) @mock.patch('octavia.db.api.get_session') @mock.patch('octavia.db.repositories.PoolRepository.get') @mock.patch('oslo_messaging.RPCClient.cast') def test_member_batch_update_udp_ipv4_ipv6(self, mock_cast, mock_pool_get, mock_session): mock_lb = mock.MagicMock() mock_lb.vip = mock.MagicMock() mock_lb.vip.ip_address = ""192.0.1.1"" mock_listener = mock.MagicMock() mock_listener.load_balancer = mock_lb mock_pool = mock.MagicMock() mock_pool.protocol = consts.PROTOCOL_UDP mock_pool.listeners = [mock_listener] mock_pool.members = self.sample_data.db_pool1_members mock_pool_get.return_value = mock_pool prov_mem_update = driver_dm.Member( member_id=self.sample_data.member2_id, pool_id=self.sample_data.pool1_id, admin_state_up=False, address='fe80::1', monitor_address='fe80::2', protocol_port=80, name='updated-member2') prov_new_member = driver_dm.Member( member_id=self.sample_data.member3_id, pool_id=self.sample_data.pool1_id, address='192.0.2.18', monitor_address='192.0.2.28', protocol_port=80, name='member3') prov_members = [prov_mem_update, prov_new_member] self.assertRaises(exceptions.UnsupportedOptionError, self.amp_driver.member_batch_update, prov_members) "," def test_member_create(self, mock_cast):",157,1
openstack%2Foctavia~stable%2Fstein~If6fb3fde9b43ac82af46eaddc48ec7a3a5b95602,openstack/octavia,stable/stein,If6fb3fde9b43ac82af46eaddc48ec7a3a5b95602,Prevent UDP LBs to use different IP protocol versions in amphora driver,MERGED,2019-08-08 14:45:00.000000000,2019-09-17 18:10:16.000000000,2019-09-17 18:07:36.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-08-08 14:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0a39311f88f4a7d2832c640753277158d709cbeb', 'message': ""Prevent UDP LBs to use different IP protocol versions in amphora driver\n\nThe amphora doesn't support mixing IPv4 and IPv6 addresses for its\nmembers and its VIP when using UDP load balancers.\nThis commit adds a validation step in the member_create and th e\nmember_batch_update functions of the amphora driver to ensure that IP\nprotocol versions are the same in a UDP load balancer.\n\nStory: 2005876\nTask: 33689\n\nChange-Id: If6fb3fde9b43ac82af46eaddc48ec7a3a5b95602\n(cherry picked from commit 56bb1e134d670901bdfe0526495f5794a55f139a)\n""}, {'number': 2, 'created': '2019-09-06 06:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9fe794240bf2c3b15ed9399b2702903acf75abe3', 'message': ""Prevent UDP LBs to use different IP protocol versions in amphora driver\n\nThe amphora doesn't support mixing IPv4 and IPv6 addresses for its\nmembers and its VIP when using UDP load balancers.\nThis commit adds a validation step in the member_create and th e\nmember_batch_update functions of the amphora driver to ensure that IP\nprotocol versions are the same in a UDP load balancer.\n\nStory: 2005876\nTask: 33689\n\nChange-Id: If6fb3fde9b43ac82af46eaddc48ec7a3a5b95602\n(cherry picked from commit 56bb1e134d670901bdfe0526495f5794a55f139a)\n""}, {'number': 3, 'created': '2019-09-12 08:43:26.000000000', 'files': ['octavia/api/drivers/amphora_driver/driver.py', 'releasenotes/notes/validate-same-ip-protocol-in-udp-lb-2813b545131097ec.yaml', 'octavia/tests/unit/api/drivers/amphora_driver/test_amphora_driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/46ccfc66f166906bd41836093ae9f6ebe32b8776', 'message': ""Prevent UDP LBs to use different IP protocol versions in amphora driver\n\nThe amphora doesn't support mixing IPv4 and IPv6 addresses for its\nmembers and its VIP when using UDP load balancers.\nThis commit adds a validation step in the member_create and th e\nmember_batch_update functions of the amphora driver to ensure that IP\nprotocol versions are the same in a UDP load balancer.\n\nStory: 2005876\nTask: 33689\n\nChange-Id: If6fb3fde9b43ac82af46eaddc48ec7a3a5b95602\n(cherry picked from commit 56bb1e134d670901bdfe0526495f5794a55f139a)\n""}]",0,675364,46ccfc66f166906bd41836093ae9f6ebe32b8776,26,6,3,29244,,,0,"Prevent UDP LBs to use different IP protocol versions in amphora driver

The amphora doesn't support mixing IPv4 and IPv6 addresses for its
members and its VIP when using UDP load balancers.
This commit adds a validation step in the member_create and th e
member_batch_update functions of the amphora driver to ensure that IP
protocol versions are the same in a UDP load balancer.

Story: 2005876
Task: 33689

Change-Id: If6fb3fde9b43ac82af46eaddc48ec7a3a5b95602
(cherry picked from commit 56bb1e134d670901bdfe0526495f5794a55f139a)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/64/675364/3 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/drivers/amphora_driver/driver.py', 'releasenotes/notes/validate-same-ip-protocol-in-udp-lb-2813b545131097ec.yaml', 'octavia/tests/unit/api/drivers/amphora_driver/test_amphora_driver.py']",3,0a39311f88f4a7d2832c640753277158d709cbeb,," @mock.patch('octavia.db.api.get_session') @mock.patch('octavia.db.repositories.PoolRepository.get') def test_member_create(self, mock_cast, mock_pool_get, mock_session): @mock.patch('octavia.db.api.get_session') @mock.patch('octavia.db.repositories.PoolRepository.get') @mock.patch('oslo_messaging.RPCClient.cast') def test_member_create_udp_ipv4(self, mock_cast, mock_pool_get, mock_session): mock_lb = mock.MagicMock() mock_lb.vip = mock.MagicMock() mock_lb.vip.ip_address = ""192.0.1.1"" mock_listener = mock.MagicMock() mock_listener.load_balancer = mock_lb mock_pool = mock.MagicMock() mock_pool.protocol = consts.PROTOCOL_UDP mock_pool.listeners = [mock_listener] mock_pool_get.return_value = mock_pool provider_member = driver_dm.Member( member_id=self.sample_data.member1_id, address=""192.0.2.1"") self.amp_driver.member_create(provider_member) payload = {consts.MEMBER_ID: self.sample_data.member1_id} mock_cast.assert_called_with({}, 'create_member', **payload) @mock.patch('octavia.db.api.get_session') @mock.patch('octavia.db.repositories.PoolRepository.get') @mock.patch('oslo_messaging.RPCClient.cast') def test_member_create_udp_ipv4_ipv6(self, mock_cast, mock_pool_get, mock_session): mock_lb = mock.MagicMock() mock_lb.vip = mock.MagicMock() mock_lb.vip.ip_address = ""fe80::1"" mock_listener = mock.MagicMock() mock_listener.load_balancer = mock_lb mock_pool = mock.MagicMock() mock_pool.protocol = consts.PROTOCOL_UDP mock_pool.listeners = [mock_listener] mock_pool_get.return_value = mock_pool provider_member = driver_dm.Member( member_id=self.sample_data.member1_id, address=""192.0.2.1"") self.assertRaises(exceptions.UnsupportedOptionError, self.amp_driver.member_create, provider_member) @mock.patch('octavia.db.api.get_session') @mock.patch('octavia.db.repositories.PoolRepository.get') @mock.patch('oslo_messaging.RPCClient.cast') def test_member_batch_update_udp_ipv4(self, mock_cast, mock_pool_get, mock_session): mock_lb = mock.MagicMock() mock_lb.vip = mock.MagicMock() mock_lb.vip.ip_address = ""192.0.1.1"" mock_listener = mock.MagicMock() mock_listener.load_balancer = mock_lb mock_pool = mock.MagicMock() mock_pool.protocol = consts.PROTOCOL_UDP mock_pool.listeners = [mock_listener] mock_pool.members = self.sample_data.db_pool1_members mock_pool_get.return_value = mock_pool prov_mem_update = driver_dm.Member( member_id=self.sample_data.member2_id, pool_id=self.sample_data.pool1_id, admin_state_up=False, address='192.0.2.17', monitor_address='192.0.2.77', protocol_port=80, name='updated-member2') prov_new_member = driver_dm.Member( member_id=self.sample_data.member3_id, pool_id=self.sample_data.pool1_id, address='192.0.2.18', monitor_address='192.0.2.28', protocol_port=80, name='member3') prov_members = [prov_mem_update, prov_new_member] update_mem_dict = {'ip_address': '192.0.2.17', 'name': 'updated-member2', 'monitor_address': '192.0.2.77', 'id': self.sample_data.member2_id, 'enabled': False, 'protocol_port': 80, 'pool_id': self.sample_data.pool1_id} self.amp_driver.member_batch_update(prov_members) payload = {'old_member_ids': [self.sample_data.member1_id], 'new_member_ids': [self.sample_data.member3_id], 'updated_members': [update_mem_dict]} mock_cast.assert_called_with({}, 'batch_update_members', **payload) @mock.patch('octavia.db.api.get_session') @mock.patch('octavia.db.repositories.PoolRepository.get') @mock.patch('oslo_messaging.RPCClient.cast') def test_member_batch_update_udp_ipv4_ipv6(self, mock_cast, mock_pool_get, mock_session): mock_lb = mock.MagicMock() mock_lb.vip = mock.MagicMock() mock_lb.vip.ip_address = ""192.0.1.1"" mock_listener = mock.MagicMock() mock_listener.load_balancer = mock_lb mock_pool = mock.MagicMock() mock_pool.protocol = consts.PROTOCOL_UDP mock_pool.listeners = [mock_listener] mock_pool.members = self.sample_data.db_pool1_members mock_pool_get.return_value = mock_pool prov_mem_update = driver_dm.Member( member_id=self.sample_data.member2_id, pool_id=self.sample_data.pool1_id, admin_state_up=False, address='fe80::1', monitor_address='fe80::2', protocol_port=80, name='updated-member2') prov_new_member = driver_dm.Member( member_id=self.sample_data.member3_id, pool_id=self.sample_data.pool1_id, address='192.0.2.18', monitor_address='192.0.2.28', protocol_port=80, name='member3') prov_members = [prov_mem_update, prov_new_member] self.assertRaises(exceptions.UnsupportedOptionError, self.amp_driver.member_batch_update, prov_members) "," def test_member_create(self, mock_cast):",157,1
openstack%2Foctavia~stable%2Frocky~Idaacfa60a1909d3f5e0f94371a405c8ce8ae9efa,openstack/octavia,stable/rocky,Idaacfa60a1909d3f5e0f94371a405c8ce8ae9efa,"Add support for monitor_{address,port} in UDP members",MERGED,2019-08-08 14:28:50.000000000,2019-09-17 18:09:21.000000000,2019-09-17 18:07:39.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-08-08 14:28:50.000000000', 'files': ['octavia/tests/unit/common/sample_configs/sample_configs.py', 'octavia/tests/unit/common/jinja/lvs/test_lvs_jinja_cfg.py', 'octavia/common/jinja/lvs/templates/macros.j2', 'releasenotes/notes/fix-support-for-monitoring-address-and-port-in-udp-members-ff83395544f228cf.yaml', 'octavia/common/jinja/lvs/jinja_cfg.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b97bfe64708b271177c4a5fdbd4dd0a090b11bc3', 'message': ""Add support for monitor_{address,port} in UDP members\n\nUDP members didn't support monitor_address and monitor_port parameters.\nSetting those values didn't have any effects.\n\nThis commit enables the support of both parameters.\n\nStory: 2005775\nTask: 33492\n\nChange-Id: Idaacfa60a1909d3f5e0f94371a405c8ce8ae9efa\n(cherry picked from commit 65e132a734f005f090a384bfa129482d195c6d6e)\n""}]",0,675351,b97bfe64708b271177c4a5fdbd4dd0a090b11bc3,11,4,1,29244,,,0,"Add support for monitor_{address,port} in UDP members

UDP members didn't support monitor_address and monitor_port parameters.
Setting those values didn't have any effects.

This commit enables the support of both parameters.

Story: 2005775
Task: 33492

Change-Id: Idaacfa60a1909d3f5e0f94371a405c8ce8ae9efa
(cherry picked from commit 65e132a734f005f090a384bfa129482d195c6d6e)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/51/675351/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/common/sample_configs/sample_configs.py', 'octavia/tests/unit/common/jinja/lvs/test_lvs_jinja_cfg.py', 'octavia/common/jinja/lvs/templates/macros.j2', 'releasenotes/notes/fix-support-for-monitoring-address-and-port-in-udp-members-ff83395544f228cf.yaml', 'octavia/common/jinja/lvs/jinja_cfg.py']",5,b97bfe64708b271177c4a5fdbd4dd0a090b11bc3,," 'enabled': member.enabled, 'monitor_address': member.monitor_address, 'monitor_port': member.monitor_port", 'enabled': member.enabled,85,5
openstack%2Fproject-config~master~Ic28f80d6169116a3efdc49df9fc1650297014dea,openstack/project-config,master,Ic28f80d6169116a3efdc49df9fc1650297014dea,Switch project-config to promote jobs [3a]: DNM: Test building,ABANDONED,2019-09-14 15:59:57.000000000,2019-09-17 18:09:03.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-14 15:59:57.000000000', 'files': ['specs/specs.yaml', 'docs-site/infra-documents.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8b7958ce48bf0afcc7f522920c8557e2f638ba1d', 'message': 'Switch project-config to promote jobs [3a]: DNM: Test building\n\nDO NOT MERGE THIS, this is just for testing.\n\nSince this repo is a trusted repository, we need to test this changes.\n\nDepends-On: https://review.opendev.org/682212\nChange-Id: Ic28f80d6169116a3efdc49df9fc1650297014dea\n'}]",0,682217,8b7958ce48bf0afcc7f522920c8557e2f638ba1d,7,2,1,6547,,,0,"Switch project-config to promote jobs [3a]: DNM: Test building

DO NOT MERGE THIS, this is just for testing.

Since this repo is a trusted repository, we need to test this changes.

Depends-On: https://review.opendev.org/682212
Change-Id: Ic28f80d6169116a3efdc49df9fc1650297014dea
",git fetch https://review.opendev.org/openstack/project-config refs/changes/17/682217/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/specs.yaml', 'docs-site/infra-documents.yaml']",2,8b7958ce48bf0afcc7f522920c8557e2f638ba1d,promote-project-config, - name: Bindep - DO NOT MERGE, - name: Bindep,2,2
openstack%2Foctavia~stable%2Frocky~Iaa34db6cb1dfed98e96a585c5d105e263c7efa65,openstack/octavia,stable/rocky,Iaa34db6cb1dfed98e96a585c5d105e263c7efa65,Fixed down server issue after reloading keepalived,MERGED,2019-08-09 10:24:20.000000000,2019-09-17 18:07:47.000000000,2019-09-17 18:07:46.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-08-09 10:24:20.000000000', 'files': ['octavia/common/constants.py', 'releasenotes/notes/fix-udp-server-status-bug-db4d3e38bcdf0554.yaml', 'octavia/amphorae/backends/agent/api_server/keepalivedlvs.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7a2491ad7e1befc1b84f8e427ca546390f61052f', 'message': 'Fixed down server issue after reloading keepalived\n\nWhen removing a UDP health monitor, keepalived is reloaded with a\nconfiguration without any checkers.\nBut if keepalived has previously detected a down server, the state of\nthe server is unchanged and it will never be added to the list of IPVS\nservers.\n\nRestarting keepalived on configuration change works around this issue.\n\nThis issue is fixed in keepalived (>=2.0.14):\nhttps://github.com/acassen/keepalived/issues/1163\n\nStory: 2005774\nTask: 33491\n\nChange-Id: Iaa34db6cb1dfed98e96a585c5d105e263c7efa65\n(cherry picked from commit 0a9f587015176723768a8a861265fda797c5d52e)\n(cherry picked from commit 92b1e38a20da53e37577555e51edb1a1b3f5f6f0)\n'}]",0,675576,7a2491ad7e1befc1b84f8e427ca546390f61052f,10,4,1,29244,,,0,"Fixed down server issue after reloading keepalived

When removing a UDP health monitor, keepalived is reloaded with a
configuration without any checkers.
But if keepalived has previously detected a down server, the state of
the server is unchanged and it will never be added to the list of IPVS
servers.

Restarting keepalived on configuration change works around this issue.

This issue is fixed in keepalived (>=2.0.14):
https://github.com/acassen/keepalived/issues/1163

Story: 2005774
Task: 33491

Change-Id: Iaa34db6cb1dfed98e96a585c5d105e263c7efa65
(cherry picked from commit 0a9f587015176723768a8a861265fda797c5d52e)
(cherry picked from commit 92b1e38a20da53e37577555e51edb1a1b3f5f6f0)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/76/675576/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/constants.py', 'releasenotes/notes/fix-udp-server-status-bug-db4d3e38bcdf0554.yaml', 'octavia/amphorae/backends/agent/api_server/keepalivedlvs.py']",3,7a2491ad7e1befc1b84f8e427ca546390f61052f,," # When octavia requests a reload of keepalived, force a restart since # a keepalived reload doesn't restore members in their initial state. # # TODO(gthiemonge) remove this when keepalived>=2.0.14 is widely use if action == consts.AMP_ACTION_RELOAD: action = consts.AMP_ACTION_RESTART ",,20,0
openstack%2Foctavia~stable%2Frocky~I75cde3ff820f085aebbdffd1e40c5ff40f16835d,openstack/octavia,stable/rocky,I75cde3ff820f085aebbdffd1e40c5ff40f16835d,Fixed pool and members status with UDP loadbalancers,MERGED,2019-08-09 10:24:20.000000000,2019-09-17 18:07:43.000000000,2019-09-17 18:07:43.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-09 10:24:20.000000000', 'files': ['releasenotes/notes/fix-udp-members-status-ef3202849bfda29b.yaml', 'octavia/common/jinja/lvs/templates/macros.j2', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f08e21fd6d59009465763c8049a2a82df8868d56', 'message': 'Fixed pool and members status with UDP loadbalancers\n\nThis commit fixes pool and members status when using UDP loadbalancers.\n\nStory: 2005736\nTask: 33394\n\nChange-Id: I75cde3ff820f085aebbdffd1e40c5ff40f16835d\n(cherry picked from commit 4decb6d53c728ba0e7b15c6f46a9c2b5251b4088)\n(cherry picked from commit edb767399c3d96425591aaebc9a86cd01411d17c)\n'}]",0,675575,f08e21fd6d59009465763c8049a2a82df8868d56,8,3,1,29244,,,0,"Fixed pool and members status with UDP loadbalancers

This commit fixes pool and members status when using UDP loadbalancers.

Story: 2005736
Task: 33394

Change-Id: I75cde3ff820f085aebbdffd1e40c5ff40f16835d
(cherry picked from commit 4decb6d53c728ba0e7b15c6f46a9c2b5251b4088)
(cherry picked from commit edb767399c3d96425591aaebc9a86cd01411d17c)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/75/675575/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-udp-members-status-ef3202849bfda29b.yaml', 'octavia/common/jinja/lvs/templates/macros.j2', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py']",4,f08e21fd6d59009465763c8049a2a82df8868d56,,"# Realserver 10.0.0.45:4444 is not listed because healthcheck failed.# Readlserver [fd79:35e2:9963:0:f816:3eff:fe9d:8f3f]:4444 is not listed # because healthcheck failed. "" MISC_CHECK {\n\n"" "" misc_path \""/usr/bin/check_script.sh\""\n\n"" "" misc_timeout 5\n\n"" "" }\n\n"" "" MISC_CHECK {\n\n"" "" misc_path \""/usr/bin/check_script.sh\""\n\n"" "" misc_timeout 5\n\n"" "" }\n\n"" "" # Configuration for Member %(member_id3)s\n"" "" real_server 10.0.0.45 4444 {\n"" "" weight 2\n"" "" persistence_timeout 5\n"" "" persistence_granularity 255.0.0.0\n\n"" "" MISC_CHECK {\n\n"" "" misc_path \""/usr/bin/check_script.sh\""\n\n"" "" misc_timeout 5\n\n"" "" }\n\n"" "" }\n\n"" "" # Member %(member_id4)s is disabled\n\n"" "" MISC_CHECK {\n\n"" "" misc_path \""/usr/bin/check_script.sh\""\n\n"" "" misc_timeout 5\n\n"" "" }\n\n"" "" MISC_CHECK {\n\n"" "" misc_path \""/usr/bin/check_script.sh\""\n\n"" "" misc_timeout 5\n\n"" "" }\n\n"" "" # Configuration for Member %(member_id3)s\n"" "" real_server fd79:35e2:9963:0:f816:3eff:fe9d:8f3f 4444 {\n"" "" weight 2\n"" "" MISC_CHECK {\n\n"" "" misc_path \""/usr/bin/check_script.sh\""\n\n"" "" misc_timeout 5\n\n"" "" }\n\n"" "" }\n\n"" "" # Member %(member_id4)s is disabled\n\n"" self.member_id3_v4 = uuidutils.generate_uuid() self.member_id4_v4 = uuidutils.generate_uuid() self.member_id3_v6 = uuidutils.generate_uuid() self.member_id4_v6 = uuidutils.generate_uuid() 'member_id2': self.member_id2_v4, 'member_id3': self.member_id3_v4, 'member_id4': self.member_id4_v4, 'member_id2': self.member_id2_v6, 'member_id3': self.member_id3_v6, 'member_id4': self.member_id4_v6 target_ns, input_listener_ip_port, health_monitor_enabled=True) target_ns, input_listener_ip_port, health_monitor_enabled=True) target_ns, listener_ip_port, health_monitor_enabled=True) target_ns, listener_ip_port, health_monitor_enabled=True) 'ipport': '10.0.0.35:3333'}, {'id': self.member_id3_v4, 'ipport': '10.0.0.45:4444'}, {'id': self.member_id4_v4, 'ipport': None}]} 'ipport': '[fd79:35e2:9963:0:f816:3eff:fe9d:94df]:3333'}, {'id': self.member_id3_v6, 'ipport': '[fd79:35e2:9963:0:f816:3eff:fe9d:8f3f]:4444'}, {'id': self.member_id4_v6, 'ipport': None}]} self.member_id2_v4: constants.UP, self.member_id3_v4: constants.DOWN, self.member_id4_v4: constants.MAINT}}} self.member_id2_v6: constants.UP, self.member_id3_v6: constants.DOWN, self.member_id4_v6: constants.MAINT}}} self.member_id2_v4: constants.DOWN, self.member_id3_v4: constants.DOWN, self.member_id4_v4: constants.MAINT}}}"," 'member_id2': self.member_id2_v4 'member_id2': self.member_id2_v6 target_ns, input_listener_ip_port) target_ns, input_listener_ip_port) target_ns, listener_ip_port) target_ns, listener_ip_port) 'ipport': '10.0.0.35:3333'}]} 'ipport': '[fd79:35e2:9963:0:f816:3eff:fe9d:94df]:3333'}]} self.member_id2_v4: constants.UP}}} self.member_id2_v6: constants.UP}}} self.member_id2_v4: constants.DOWN}}}",128,19
openstack%2Fproject-config~master~I8d7032a6e836ec26f347d16abd600514089a677b,openstack/project-config,master,I8d7032a6e836ec26f347d16abd600514089a677b,Switch project-config to promote jobs [3]: Update building,MERGED,2019-09-14 14:57:43.000000000,2019-09-17 17:42:07.000000000,2019-09-17 17:42:07.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-14 14:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/881a97c59f0fdfff9701b4a0fe3fe4a5cf027db3', 'message': 'Switch project-config to promote jobs [3]: Update building\n\nFor using opendev-tox-docs, jobs need to publish to a ""html""\nsubdirectory, update the docs-site and specs jobs.\n\nUpdate .gitignore for this.\n\nRemove unused docs environment from tox.ini.\n\nChange-Id: I8d7032a6e836ec26f347d16abd600514089a677b\n'}, {'number': 2, 'created': '2019-09-14 14:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fc24eb8d895b217796b36928266b4cf33b553996', 'message': 'Switch project-config to promote jobs [3]: Update building\n\nFor using opendev-tox-docs, jobs need to publish to a ""html""\nsubdirectory, update the docs-site and specs jobs.\n\nUpdate .gitignore for this.\n\nRemove unused docs environment from tox.ini.\n\nDepends-On: https://review.opendev.org/682213\nChange-Id: I8d7032a6e836ec26f347d16abd600514089a677b\n'}, {'number': 3, 'created': '2019-09-14 15:01:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/96cb7c759129c642e9b4faed368aaf453783f6d8', 'message': 'Switch project-config to promote jobs [3]: Update building\n\nFor using opendev-tox-docs, jobs need to publish to a ""html""\nsubdirectory, update the docs-site and specs jobs.\n\nUpdate .gitignore for this.\n\nUpdate python files to use yaml.safe_load to avoid a warning.\n\nRemove unused docs environment from tox.ini.\n\nDepends-On: https://review.opendev.org/682213\nChange-Id: I8d7032a6e836ec26f347d16abd600514089a677b\n'}, {'number': 4, 'created': '2019-09-14 15:03:08.000000000', 'files': ['.gitignore', 'docs-site/generate_infra_index.py', 'specs/generate_specs_site.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/project-config/commit/800ea0aa056efab44ad4ef1c7bfb6973d06b4ffc', 'message': 'Switch project-config to promote jobs [3]: Update building\n\nFor using opendev-tox-docs, jobs need to publish to a ""html""\nsubdirectory, update the docs-site and specs jobs.\n\nUpdate .gitignore for this.\n\nUpdate python files to use yaml.safe_load to avoid a warning.\n\nRemove unused docs environment from tox.ini.\n\nDepends-On: https://review.opendev.org/682213\nChange-Id: I8d7032a6e836ec26f347d16abd600514089a677b\n'}]",0,682212,800ea0aa056efab44ad4ef1c7bfb6973d06b4ffc,21,4,4,6547,,,0,"Switch project-config to promote jobs [3]: Update building

For using opendev-tox-docs, jobs need to publish to a ""html""
subdirectory, update the docs-site and specs jobs.

Update .gitignore for this.

Update python files to use yaml.safe_load to avoid a warning.

Remove unused docs environment from tox.ini.

Depends-On: https://review.opendev.org/682213
Change-Id: I8d7032a6e836ec26f347d16abd600514089a677b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/12/682212/4 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'docs-site/generate_infra_index.py', 'specs/generate_specs_site.py', 'tox.ini']",4,881a97c59f0fdfff9701b4a0fe3fe4a5cf027db3,promote-project-config,,[testenv:docs] commands = python setup.py build_sphinx ,4,6
openstack%2Fopenstack-ansible-os_nova~master~I0275f1b41a484c9f8f13aeb8a3ac403c82112706,openstack/openstack-ansible-os_nova,master,I0275f1b41a484c9f8f13aeb8a3ac403c82112706,notifications: stop enabling messagingv2 by default,ABANDONED,2019-01-05 23:18:20.000000000,2019-09-17 17:30:33.000000000,,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-05 23:18:20.000000000', 'files': ['templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/eff3b9eecc4be618706ad091a209b70903c3a5ee', 'message': 'notifications: stop enabling messagingv2 by default\n\nWe should make notifications opt-in but not always on, as that will\ncause a lot of connection errors.\n\nChange-Id: I0275f1b41a484c9f8f13aeb8a3ac403c82112706\n'}]",0,628748,eff3b9eecc4be618706ad091a209b70903c3a5ee,6,3,1,1004,,,0,"notifications: stop enabling messagingv2 by default

We should make notifications opt-in but not always on, as that will
cause a lot of connection errors.

Change-Id: I0275f1b41a484c9f8f13aeb8a3ac403c82112706
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/48/628748/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/nova.conf.j2'],1,eff3b9eecc4be618706ad091a209b70903c3a5ee,oslo-notifications-noop-default,driver = noop,driver = messagingv2,1,1
openstack%2Fopenstack-zuul-jobs~master~I522de9591d3e20ddd634573c42688c38a805d497,openstack/openstack-zuul-jobs,master,I522de9591d3e20ddd634573c42688c38a805d497,Switch project-config to promote jobs [2]: Update build jobs,MERGED,2019-09-14 14:57:46.000000000,2019-09-17 17:29:50.000000000,2019-09-17 17:25:37.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-14 14:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/c27ab32f98ff8389dd412d70fb1ed4ab234a8d8d', 'message': 'Switch project-config to promote jobs [2]: Update build jobs\n\nRebase the project-config build jobs on opendev-tox-docs so that\nwe can collect the generated artifacts and use a promote job.\nNote that opendev-tox-docs expects the content in a ""html"" subdirectory\nof sphinx_build_dir, so next step will be changing the tox environment.\n\nChange-Id: I522de9591d3e20ddd634573c42688c38a805d497\n'}, {'number': 2, 'created': '2019-09-14 14:59:28.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/8da4582fb23380537dc10f49f4fedcba26598091', 'message': 'Switch project-config to promote jobs [2]: Update build jobs\n\nRebase the project-config build jobs on opendev-tox-docs so that\nwe can collect the generated artifacts and use a promote job.\nNote that opendev-tox-docs expects the content in a ""html"" subdirectory\nof sphinx_build_dir, so next step will be changing the tox environment.\n\nDepends-On: https://review.opendev.org/682211\nNeeded-By: https://review.opendev.org/682212\nChange-Id: I522de9591d3e20ddd634573c42688c38a805d497\n'}]",0,682213,8da4582fb23380537dc10f49f4fedcba26598091,12,4,2,6547,,,0,"Switch project-config to promote jobs [2]: Update build jobs

Rebase the project-config build jobs on opendev-tox-docs so that
we can collect the generated artifacts and use a promote job.
Note that opendev-tox-docs expects the content in a ""html"" subdirectory
of sphinx_build_dir, so next step will be changing the tox environment.

Depends-On: https://review.opendev.org/682211
Needed-By: https://review.opendev.org/682212
Change-Id: I522de9591d3e20ddd634573c42688c38a805d497
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/13/682213/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,c27ab32f98ff8389dd412d70fb1ed4ab234a8d8d,promote-project-config, parent: opendev-tox-docs sphinx_build_dir: specs parent: opendev-tox-docs sphinx_build_dir: docs-site, parent: tox parent: tox,4,2
openstack%2Fpython-tripleoclient~master~Id2173c89be889ea2c227e515db0237a1e6674702,openstack/python-tripleoclient,master,Id2173c89be889ea2c227e515db0237a1e6674702,Replace warn with warning method,MERGED,2019-08-02 10:05:55.000000000,2019-09-17 17:24:31.000000000,2019-08-05 12:05:24.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-08-02 10:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f5a10c578ab52d520176bb68a4a88a93d6621efa', 'message': 'Replace warn with warning method\n\nThere is a following deprecation warning\n""DeprecationWarning: The \'warn\' method is deprecated, use \'warning\' instead""\nThis patch changes warn to warning method to fix the DeprecationWarning\n\nChange-Id: Id2173c89be889ea2c227e515db0237a1e6674702\n'}, {'number': 2, 'created': '2019-08-02 10:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f8e36718a2cb6bb286196dc1786bc929222f2f84', 'message': 'Replace warn with warning method\n\nThere is a following deprecation warning\n""DeprecationWarning: The \'warn\' method is deprecated, use \'warning\' instead""\nThis patch changes warn to warning method to fix the DeprecationWarning\n\nChange-Id: Id2173c89be889ea2c227e515db0237a1e6674702\n'}, {'number': 3, 'created': '2019-08-02 12:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/692ef440e982df8878b98c6062b2d2089803c224', 'message': 'Replace warn with warning method\n\nThere is a following deprecation warning\n""DeprecationWarning: The \'warn\' method is deprecated, use \'warning\' instead""\nThis patch changes warn to warning method to fix the DeprecationWarning\n\nChange-Id: Id2173c89be889ea2c227e515db0237a1e6674702\nRelated-Bug: #1838765\n'}, {'number': 4, 'created': '2019-08-02 14:12:09.000000000', 'files': ['tripleoclient/v1/overcloud_image.py', 'tripleoclient/v1/container_image.py', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/299718997c167afa5373fe9d5420e80f260cae0a', 'message': 'Replace warn with warning method\n\nThere is a following deprecation warning\n""DeprecationWarning: The \'warn\' method is deprecated, use \'warning\' instead""\nThis patch changes warn to warning method to fix the DeprecationWarning\n\nChange-Id: Id2173c89be889ea2c227e515db0237a1e6674702\nRelated-Bug: #1838765\n'}]",3,674253,299718997c167afa5373fe9d5420e80f260cae0a,19,8,4,11090,,,0,"Replace warn with warning method

There is a following deprecation warning
""DeprecationWarning: The 'warn' method is deprecated, use 'warning' instead""
This patch changes warn to warning method to fix the DeprecationWarning

Change-Id: Id2173c89be889ea2c227e515db0237a1e6674702
Related-Bug: #1838765
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/53/674253/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_image.py', 'tripleoclient/v1/container_image.py']",2,f5a10c578ab52d520176bb68a4a88a93d6621efa,bug/1838765," self.log.warning(""Output env file exists, moving it to backup."") self.log.warning(""Output env file exists, moving it to backup."") self.log.warning(""Output env file exists, moving it to backup."")"," self.log.warn(""Output env file exists, moving it to backup."") self.log.warn(""Output env file exists, moving it to backup."") self.log.warn(""Output env file exists, moving it to backup."")",4,4
openstack%2Fopenstacksdk~master~I4f068dfafe4bc85ddda6dbc716dffa0c316500f6,openstack/openstacksdk,master,I4f068dfafe4bc85ddda6dbc716dffa0c316500f6,Fix image create with tags,MERGED,2019-09-16 18:41:25.000000000,2019-09-17 17:13:53.000000000,2019-09-17 17:09:16.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-09-16 18:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/59ee9bf556ccaa9b0d8799780528a33874d0e247', 'message': ""Fix image create with tags\n\nWhen passing tags to image create _make_v2_image_params will cast tags\nto string, while those should remain list. This is required to complete\nswitch in OSC from glanceclient to SDK.\nSince we use TagMixin remove tags property from resource (it's anyway\nthere).\n\nChange-Id: I4f068dfafe4bc85ddda6dbc716dffa0c316500f6\n""}, {'number': 2, 'created': '2019-09-16 18:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/678b8c30d49e39de53b67f3d18a8a6c55e5192be', 'message': ""Fix image create with tags\n\nWhen passing tags to image create _make_v2_image_params will cast tags\nto string, while those should remain list. This is required to complete\nswitch in OSC from glanceclient to SDK.\nSince we use TagMixin remove tags property from resource (it's anyway\nthere).\n\nChange-Id: I4f068dfafe4bc85ddda6dbc716dffa0c316500f6\n""}, {'number': 3, 'created': '2019-09-17 14:02:12.000000000', 'files': ['openstack/image/v2/image.py', 'openstack/image/v2/_proxy.py', 'openstack/tests/unit/cloud/test_image.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cb240b1308768a51572864ee675c26cb87fbfe7a', 'message': ""Fix image create with tags\n\nWhen passing tags to image create _make_v2_image_params will cast tags\nto string, while those should remain list. This is required to complete\nswitch in OSC from glanceclient to SDK.\nSince we use TagMixin remove tags property from resource (it's anyway\nthere).\n\nChange-Id: I4f068dfafe4bc85ddda6dbc716dffa0c316500f6\n""}]",3,682454,cb240b1308768a51572864ee675c26cb87fbfe7a,22,4,3,27900,,,0,"Fix image create with tags

When passing tags to image create _make_v2_image_params will cast tags
to string, while those should remain list. This is required to complete
switch in OSC from glanceclient to SDK.
Since we use TagMixin remove tags property from resource (it's anyway
there).

Change-Id: I4f068dfafe4bc85ddda6dbc716dffa0c316500f6
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/54/682454/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/image/v2/image.py', 'openstack/image/v2/_proxy.py', 'openstack/tests/unit/cloud/test_image.py']",3,59ee9bf556ccaa9b0d8799780528a33874d0e247,," u'visibility': u'private', u'tags': [u'tag1', u'tag2']}) tags=['tag1', 'tag2'],", u'visibility': u'private'}),6,3
openstack%2Fproject-config~master~Ia9cb29ff8bd8041aa5f10db146cf22387854a17d,openstack/project-config,master,Ia9cb29ff8bd8041aa5f10db146cf22387854a17d,Switch project-config to promote jobs [1]: Disable publish,MERGED,2019-09-14 14:57:43.000000000,2019-09-17 17:10:21.000000000,2019-09-17 17:10:21.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-14 14:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8fdde11bbf77e094cf4c6082e97452da515e545f', 'message': 'Switch project-config to promote jobs [1]: Disable publish\n\nDisable the publish jobs, so that we can change first the build stack\nand then write promote jobs without any breakage in between.\n\nChange-Id: Ia9cb29ff8bd8041aa5f10db146cf22387854a17d\n'}, {'number': 2, 'created': '2019-09-14 14:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/67ea3720d9c83b6b99cb0a14793c3a2e6ca7cca4', 'message': 'Switch project-config to promote jobs [1]: Disable publish\n\nDisable the publish jobs, so that we can change first the build stack\nand then write promote jobs without any breakage in between.\n\nNeeded-By: https://review.opendev.org/682213\nChange-Id: Ia9cb29ff8bd8041aa5f10db146cf22387854a17d\n'}, {'number': 3, 'created': '2019-09-14 15:03:08.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6cb2ca301f09c954c058a0ce0582d2a25568ee4e', 'message': 'Switch project-config to promote jobs [1]: Disable publish\n\nDisable the publish jobs, so that we can change first the build stack\nand then write promote jobs without any breakage in between.\n\nNeeded-By: https://review.opendev.org/682213\nChange-Id: Ia9cb29ff8bd8041aa5f10db146cf22387854a17d\n'}]",2,682211,6cb2ca301f09c954c058a0ce0582d2a25568ee4e,12,4,3,6547,,,0,"Switch project-config to promote jobs [1]: Disable publish

Disable the publish jobs, so that we can change first the build stack
and then write promote jobs without any breakage in between.

Needed-By: https://review.opendev.org/682213
Change-Id: Ia9cb29ff8bd8041aa5f10db146cf22387854a17d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/11/682211/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,8fdde11bbf77e094cf4c6082e97452da515e545f,promote-project-config, # Temporarily disabled to allow us to update them. # TODO(jaegerandi): Enable in promote pipeline. # - publish-infra-index # - publish-openstack-specs-site, - publish-infra-index - publish-openstack-specs-site,4,2
openstack%2Ftripleo-ci~master~Ic7bd9670a0362f50478d7dd870a93a3f6160146e,openstack/tripleo-ci,master,Ic7bd9670a0362f50478d7dd870a93a3f6160146e,Use the common setting for overcloud_container_cli,ABANDONED,2019-08-29 17:39:16.000000000,2019-09-17 16:36:55.000000000,,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-08-29 17:39:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/276fa66b0da206ea07b26a42eaf094807dac7aa7', 'message': 'Use the common setting for overcloud_container_cli\n\nhttps://review.opendev.org/#/c/679299/ removes the\novercloud_container_cli pointing to docker\nand relies on the setting in common\nswhich stes podman as the default.\n\nAs such, an OVB-specific setting should not be\nneeded.\n\nChange-Id: Ic7bd9670a0362f50478d7dd870a93a3f6160146e\nDepends-On: https://review.opendev.org/#/c/679299/\n'}, {'number': 2, 'created': '2019-09-13 14:24:15.000000000', 'files': ['toci-quickstart/config/testenv/ovb.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3adbe9a5e23805c6f423768b25856ec93e671233', 'message': 'Use the common setting for overcloud_container_cli\n\nhttps://review.opendev.org/#/c/679299/ removes the\novercloud_container_cli pointing to docker\nand relies on the setting in common\nswhich stes podman as the default.\n\nAs such, an OVB-specific setting should not be\nneeded.\n\nChange-Id: Ic7bd9670a0362f50478d7dd870a93a3f6160146e\nDepends-On: https://review.opendev.org/#/c/679299/\n'}]",0,679308,3adbe9a5e23805c6f423768b25856ec93e671233,13,5,2,9976,,,0,"Use the common setting for overcloud_container_cli

https://review.opendev.org/#/c/679299/ removes the
overcloud_container_cli pointing to docker
and relies on the setting in common
swhich stes podman as the default.

As such, an OVB-specific setting should not be
needed.

Change-Id: Ic7bd9670a0362f50478d7dd870a93a3f6160146e
Depends-On: https://review.opendev.org/#/c/679299/
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/08/679308/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/testenv/ovb.yml'],1,276fa66b0da206ea07b26a42eaf094807dac7aa7,remove-role-cli-default,,"# Remove ContainerCli once this scenario is tested on CentOS8 overcloud_container_cli: >- {%- if ansible_distribution == ""RedHat"" and ansible_distribution_major_version|int >= 8 %}podman {%- else %}docker{% endif -%}",0,4
openstack%2Fnova~stable%2Fstein~I868c421a0f5a3329ab36f786f8519accae623f1a,openstack/nova,stable/stein,I868c421a0f5a3329ab36f786f8519accae623f1a,Remove descriptions of nonexistent hacking rules,MERGED,2019-09-03 02:15:41.000000000,2019-09-17 16:17:10.000000000,2019-09-17 16:14:27.000000000,"[{'_account_id': 6873}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-09-03 02:15:41.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/b6c3ff6c77a8e40c616477ee2cff9f7e17a29d5c', 'message': 'Remove descriptions of nonexistent hacking rules\n\nN321, N328, N329, N330 hacking rules have been removed\nsince I9c334162fe1799e7b24563fdc11256b91bbafc9f.\nHowever the descriptions are still in HACKING.rst.\nSo remove them.\nThe rule number N307 is missing in HACKING.rst.\nSo add it.\n\nChange-Id: I868c421a0f5a3329ab36f786f8519accae623f1a\nCloses-Bug: #1841400\n(cherry picked from commit 97a5f0e216ad02bd9ba805436a1b553c3dacf6d2)\n'}]",0,679695,b6c3ff6c77a8e40c616477ee2cff9f7e17a29d5c,9,3,1,7634,,,0,"Remove descriptions of nonexistent hacking rules

N321, N328, N329, N330 hacking rules have been removed
since I9c334162fe1799e7b24563fdc11256b91bbafc9f.
However the descriptions are still in HACKING.rst.
So remove them.
The rule number N307 is missing in HACKING.rst.
So add it.

Change-Id: I868c421a0f5a3329ab36f786f8519accae623f1a
Closes-Bug: #1841400
(cherry picked from commit 97a5f0e216ad02bd9ba805436a1b553c3dacf6d2)
",git fetch https://review.opendev.org/openstack/nova refs/changes/95/679695/1 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,b6c3ff6c77a8e40c616477ee2cff9f7e17a29d5c,bug/1841400,- [N307] ``nova.db`` imports are not allowed in ``nova/virt/*``,"- ``nova.db`` imports are not allowed in ``nova/virt/*``- [N321] Validate that LOG messages, except debug ones, have translations- [N328] Validate that LOG.info messages use _LI. - [N329] Validate that LOG.exception messages use _LE. - [N330] Validate that LOG.warning and LOG.warn messages use _LW.",1,5
openstack%2Fnova~master~Id895223471c9bc1356c5547b8e11d92420f9a956,openstack/nova,master,Id895223471c9bc1356c5547b8e11d92420f9a956,Remove SchedulerReportClient from AggregateRequestFiltersTest,MERGED,2019-09-16 20:47:20.000000000,2019-09-17 16:16:25.000000000,2019-09-17 16:14:20.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-09-16 20:47:20.000000000', 'files': ['nova/tests/functional/test_aggregates.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eddfa6f0e0b155ca633d7a8bc5e9701518085215', 'message': ""Remove SchedulerReportClient from AggregateRequestFiltersTest\n\nBefore Ibd7aa4f8c4ea787774becece324d9051521c44b6 in Rocky the\nAggregateRequestFiltersTest tests were manually mirroring nova\nhost aggregate membership to placement resource provider aggregate\nmembership. But since that change, and I'm not sure why it wasn't\nremoved in that change, the compute API automatically mirrors the\naggregate membership to placement so we don't need that manual\nhack in the test code and is removed here.\n\nChange-Id: Id895223471c9bc1356c5547b8e11d92420f9a956\n""}]",0,682480,eddfa6f0e0b155ca633d7a8bc5e9701518085215,15,9,1,6873,,,0,"Remove SchedulerReportClient from AggregateRequestFiltersTest

Before Ibd7aa4f8c4ea787774becece324d9051521c44b6 in Rocky the
AggregateRequestFiltersTest tests were manually mirroring nova
host aggregate membership to placement resource provider aggregate
membership. But since that change, and I'm not sure why it wasn't
removed in that change, the compute API automatically mirrors the
aggregate membership to placement so we don't need that manual
hack in the test code and is removed here.

Change-Id: Id895223471c9bc1356c5547b8e11d92420f9a956
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/682480/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_aggregates.py'],1,eddfa6f0e0b155ca633d7a8bc5e9701518085215,bug/1844174,,"from nova.scheduler.client import report from nova import context as nova_context self.context = nova_context.get_admin_context() self.report_client = report.SchedulerReportClient() host_uuid = self._get_provider_uuid_by_host(host) # Make sure we have a view of the provider we're about to mess with # FIXME(efried): This should be a thing we can do without internals self.report_client._ensure_resource_provider( self.context, host_uuid, name=host) self.report_client.aggregate_add_host(self.context, agg['uuid'], host_name=host) ",0,15
openstack%2Fironic-python-agent-builder~master~Icad8b0dbaaf9a539ff5fc0772810fd3d9de07794,openstack/ironic-python-agent-builder,master,Icad8b0dbaaf9a539ff5fc0772810fd3d9de07794,Correct a typo in zuul.yaml,MERGED,2019-09-16 10:29:27.000000000,2019-09-17 16:16:20.000000000,2019-09-17 16:11:49.000000000,"[{'_account_id': 10239}, {'_account_id': 11292}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-09-16 10:29:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/46d572799034d834f0484f334847ebe9b6a84750', 'message': 'Correct a typo in zuul.yaml\n\nChange-Id: Icad8b0dbaaf9a539ff5fc0772810fd3d9de07794\n'}]",0,682331,46d572799034d834f0484f334847ebe9b6a84750,11,4,1,10239,,,0,"Correct a typo in zuul.yaml

Change-Id: Icad8b0dbaaf9a539ff5fc0772810fd3d9de07794
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/31/682331/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,46d572799034d834f0484f334847ebe9b6a84750,gate, post-run: playbooks/ironic-python-agent-build-image/post.yaml, post-run: playbooks/ironic-python-build-image/post.yaml,1,1
openstack%2Frpm-packaging~master~Iad93c23d1f7da4c4d75a4b793829114da2618ae4,openstack/rpm-packaging,master,Iad93c23d1f7da4c4d75a4b793829114da2618ae4,nova: Add missing README.config,MERGED,2019-09-17 11:02:12.000000000,2019-09-17 16:11:09.000000000,2019-09-17 16:11:09.000000000,"[{'_account_id': 1916}, {'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-17 11:02:12.000000000', 'files': ['openstack/nova/nova.spec.j2', 'openstack/nova/openstack-nova.README.config'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/cd184ef1b6ffa9d4ae6481a4ea9c3f9587a2a8ac', 'message': 'nova: Add missing README.config\n\nChange-Id: Iad93c23d1f7da4c4d75a4b793829114da2618ae4\n'}]",1,682614,cd184ef1b6ffa9d4ae6481a4ea9c3f9587a2a8ac,12,5,1,2062,,,0,"nova: Add missing README.config

Change-Id: Iad93c23d1f7da4c4d75a4b793829114da2618ae4
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/14/682614/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/nova/nova.spec.j2', 'openstack/nova/openstack-nova.README.config']",2,cd184ef1b6ffa9d4ae6481a4ea9c3f9587a2a8ac,,"The main service configuration (/etc/$project/$project.conf) can still be used for configuration but the preferred way is to add config file snippets into /etc/$project/$project.conf.d/ instead. As part of the packaging, the package itself installs a config snippet at /etc/$project/$project.conf.d/010-$project.conf with basic configuration. This file should not be modified. In case there is a need to overwrite or add settings, a XXX-$project.conf (XXX being a 3 digit number) should be created instead. Config directory file snippet naming should follow these conventions: - snippets should start with ""XXX-"" where ""X"" is a number - snippets must end with "".conf"" - config management systems (Crowbar, Salt, ...) should use numbers between 100 and 499 - users should use numbers starting from 500 Configuring just a single $program (eg for Nova, $project is ""nova"" and $program is ""nova-api"", ""nova-compute"", ""nova-scheduler"", ...) can be done in a similar way. The config snippets should be placed in /etc/$project/$program.conf.d/ . The same snippets rules apply here, too. $program reads the configuration files in the following order: - /etc/$project/$project.conf - /etc/$project/$project.conf.d/*.conf (lexically sorted) - /etc/$project/$program.conf.d/*.conf (lexically sorted) The last configured key overwrites all previous ones. In particular, settings in /etc/$project/$project.conf are overwritten by config values from any file in /etc/$project/$project.conf.d/XXX-$project.conf . ",,33,0
openstack%2Frally-openstack~master~I1de3a8f3db6fdeeab6e8ffeb35c442d46d5bd183,openstack/rally-openstack,master,I1de3a8f3db6fdeeab6e8ffeb35c442d46d5bd183,Upgrade jsonschema upper version and adopt to recent cinderclient,MERGED,2019-09-10 06:53:46.000000000,2019-09-17 16:08:48.000000000,2019-09-17 16:08:48.000000000,"[{'_account_id': 8313}, {'_account_id': 9545}, {'_account_id': 11692}, {'_account_id': 14749}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-09-10 06:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/5a004340914ce490071805abf7ceea3aea4b674d', 'message': 'Upgrade jsonschema upper version\n\nIn [1], requirements.upper-constraints.txt, jsonschema library upper\nversion was bumped to 3.0.1. To avoid CI problems like [2], we should\ndo the same in this repo.\n\n[1]https://review.opendev.org/#/c/649789/\n[2]https://d4b9765f6ab6e1413c28-81a8be848ef91b58aa974b4cb791a408.ssl.cf5.rackcdn.com/680427/2/check/neutron-rally-task/01b2c1c/controller/logs/devstacklog.txt.gz\n\nChange-Id: I1de3a8f3db6fdeeab6e8ffeb35c442d46d5bd183\nCloses-Bug: #1843282\n'}, {'number': 2, 'created': '2019-09-11 08:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/8dbd151e07438d8ae2adc2fa4a5f6e7005e7ed11', 'message': 'Upgrade jsonschema upper version\n\nIn [1], requirements.upper-constraints.txt, jsonschema library upper\nversion was bumped to 3.0.2. To avoid CI problems like [2], we should\ndo the same in this repo.\n\n[1]https://review.opendev.org/#/c/680883/2/upper-constraints.txt@624\n[2]https://d4b9765f6ab6e1413c28-81a8be848ef91b58aa974b4cb791a408.ssl.cf5.rackcdn.com/680427/2/check/neutron-rally-task/01b2c1c/controller/logs/devstacklog.txt.gz\n\nChange-Id: I1de3a8f3db6fdeeab6e8ffeb35c442d46d5bd183\nCloses-Bug: #1843282\n'}, {'number': 3, 'created': '2019-09-16 09:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/bbfcb01d4c2a5ccde0376db9c973540d5921580a', 'message': 'Upgrade jsonschema upper version\n\nIn [1], requirements.upper-constraints.txt, jsonschema library upper\nversion was bumped to 3.0.2. To avoid CI problems like [2], we should\ndo the same in this repo.\n\n[1]https://review.opendev.org/#/c/680883/2/upper-constraints.txt@624\n[2]https://d4b9765f6ab6e1413c28-81a8be848ef91b58aa974b4cb791a408.ssl.cf5.rackcdn.com/680427/2/check/neutron-rally-task/01b2c1c/controller/logs/devstacklog.txt.gz\n\nChange-Id: I1de3a8f3db6fdeeab6e8ffeb35c442d46d5bd183\nCloses-Bug: #1843282\n'}, {'number': 4, 'created': '2019-09-16 14:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/723e711ec394d5d4ff69719615f97ad5cf6a5764', 'message': 'Upgrade jsonschema upper version\n\nIn [1], requirements.upper-constraints.txt, jsonschema library upper\nversion was bumped to 3.0.2. To avoid CI problems like [2], we should\ndo the same in this repo.\n\nIt also removes the former multiattach support dropped in Cinder\nTrain [3].\n\n[1]https://review.opendev.org/#/c/680883/2/upper-constraints.txt@624\n[2]https://d4b9765f6ab6e1413c28-81a8be848ef91b58aa974b4cb791a408.ssl.cf5.rackcdn.com/680427/2/check/neutron-rally-task/01b2c1c/controller/logs/devstacklog.txt.gz\n[3]https://github.com/openstack/python-cinderclient/commit/3c1b417959689c85a2f54505057ca995fedca075\n\nCo-Authored-By: Cédric Ollivier <cedric.ollivier@orange.com>\n\nChange-Id: I1de3a8f3db6fdeeab6e8ffeb35c442d46d5bd183\nCloses-Bug: #1843282\nCloses-Bug: #1844063\nSigned-off-by: Cédric Ollivier <ollivier.cedric@gmail.com>\n'}, {'number': 5, 'created': '2019-09-16 21:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/6eb5cc4ffdf7c1daa05439a6c2321388435a9290', 'message': 'Upgrade jsonschema upper version and adopt to recent cinderclient\n\nIn [1], requirements.upper-constraints.txt, jsonschema library upper\nversion was bumped to 3.0.2. To avoid CI problems like [2], we should\ndo the same in this repo.\n\nIt also removes the former multiattach support dropped in Cinder\nTrain [3] and `sort_key&sort_dir`[4].\n\n[1]https://review.opendev.org/#/c/680883/2/upper-constraints.txt@624\n[2]https://d4b9765f6ab6e1413c28-81a8be848ef91b58aa974b4cb791a408.ssl.cf5.rackcdn.com/680427/2/check/neutron-rally-task/01b2c1c/controller/logs/devstacklog.txt.gz\n[3]https://github.com/openstack/python-cinderclient/commit/3c1b417959689c85a2f54505057ca995fedca075\n[4]https://github.com/openstack/python-cinderclient/commit/a63d4d651ae2f7614224f716b3ef8ebf392a6b78\n\nCo-Authored-By: Cédric Ollivier <cedric.ollivier@orange.com>\nCo-Authored-By: Andrey Kurilin <andr.kurilin@@gmail.com>\n\nCloses-Bug: #1843282\nCloses-Bug: #1844063\n\nChange-Id: I1de3a8f3db6fdeeab6e8ffeb35c442d46d5bd183\nSigned-off-by: Cédric Ollivier <ollivier.cedric@gmail.com>\n'}, {'number': 6, 'created': '2019-09-17 07:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/d2a30cb9ae34d8230d9084685b7dca9c86ec59e3', 'message': 'Upgrade jsonschema upper version and adopt to recent cinderclient\n\nIn [1], requirements.upper-constraints.txt, jsonschema library upper\nversion was bumped to 3.0.2. To avoid CI problems like [2], we should\ndo the same in this repo.\n\nIt also removes the former multiattach support dropped in Cinder\nTrain [3] and `sort_key&sort_dir`[4].\n\n[1]https://review.opendev.org/#/c/680883/2/upper-constraints.txt@624\n[2]https://d4b9765f6ab6e1413c28-81a8be848ef91b58aa974b4cb791a408.ssl.cf5.rackcdn.com/680427/2/check/neutron-rally-task/01b2c1c/controller/logs/devstacklog.txt.gz\n[3]https://github.com/openstack/python-cinderclient/commit/3c1b417959689c85a2f54505057ca995fedca075\n[4]https://github.com/openstack/python-cinderclient/commit/a63d4d651ae2f7614224f716b3ef8ebf392a6b78\n\nCo-Authored-By: Cédric Ollivier <cedric.ollivier@orange.com>\nCo-Authored-By: Andrey Kurilin <andr.kurilin@@gmail.com>\n\nCloses-Bug: #1843282\nCloses-Bug: #1844063\n\nChange-Id: I1de3a8f3db6fdeeab6e8ffeb35c442d46d5bd183\nSigned-off-by: Cédric Ollivier <ollivier.cedric@gmail.com>\n'}, {'number': 7, 'created': '2019-09-17 10:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/722bc38c1bb8844456e084c9191ac8601cb849e7', 'message': 'Upgrade jsonschema upper version and adopt to recent cinderclient\n\nIn [1], requirements.upper-constraints.txt, jsonschema library upper\nversion was bumped to 3.0.2. To avoid CI problems like [2], we should\ndo the same in this repo.\n\nIt also removes the former multiattach support dropped in Cinder\nTrain [3] and `sort_key&sort_dir`[4].\n\n[1]https://review.opendev.org/#/c/680883/2/upper-constraints.txt@624\n[2]https://d4b9765f6ab6e1413c28-81a8be848ef91b58aa974b4cb791a408.ssl.cf5.rackcdn.com/680427/2/check/neutron-rally-task/01b2c1c/controller/logs/devstacklog.txt.gz\n[3]https://github.com/openstack/python-cinderclient/commit/3c1b417959689c85a2f54505057ca995fedca075\n[4]https://github.com/openstack/python-cinderclient/commit/a63d4d651ae2f7614224f716b3ef8ebf392a6b78\n\nCo-Authored-By: Cédric Ollivier <cedric.ollivier@orange.com>\nCo-Authored-By: Andrey Kurilin <andr.kurilin@@gmail.com>\n\nCloses-Bug: #1843282\nCloses-Bug: #1844063\n\nChange-Id: I1de3a8f3db6fdeeab6e8ffeb35c442d46d5bd183\nSigned-off-by: Cédric Ollivier <ollivier.cedric@gmail.com>\n'}, {'number': 8, 'created': '2019-09-17 10:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/a9e9c62b7828b67ce886e2c0f306a63564ab243f', 'message': 'Upgrade jsonschema upper version and adopt to recent cinderclient\n\nIn [1], requirements.upper-constraints.txt, jsonschema library upper\nversion was bumped to 3.0.2. To avoid CI problems like [2], we should\ndo the same in this repo.\n\nIt also removes the former multiattach support dropped in Cinder\nTrain [3] and `sort_key&sort_dir`[4].\n\n[1]https://review.opendev.org/#/c/680883/2/upper-constraints.txt@624\n[2]https://d4b9765f6ab6e1413c28-81a8be848ef91b58aa974b4cb791a408.ssl.cf5.rackcdn.com/680427/2/check/neutron-rally-task/01b2c1c/controller/logs/devstacklog.txt.gz\n[3]https://github.com/openstack/python-cinderclient/commit/3c1b417959689c85a2f54505057ca995fedca075\n[4]https://github.com/openstack/python-cinderclient/commit/a63d4d651ae2f7614224f716b3ef8ebf392a6b78\n\nCo-Authored-By: Cédric Ollivier <cedric.ollivier@orange.com>\nCo-Authored-By: Andrey Kurilin <andr.kurilin@@gmail.com>\n\nCloses-Bug: #1843282\nCloses-Bug: #1844063\n\nChange-Id: I1de3a8f3db6fdeeab6e8ffeb35c442d46d5bd183\nSigned-off-by: Cédric Ollivier <ollivier.cedric@gmail.com>\n'}, {'number': 9, 'created': '2019-09-17 11:37:39.000000000', 'files': ['tests/unit/services/storage/test_cinder_v2.py', 'tests/unit/services/storage/test_cinder_v3.py', 'rally_openstack/services/storage/cinder_v3.py', 'rally_openstack/services/storage/cinder_v1.py', 'rally_openstack/services/storage/cinder_v2.py', 'tests/unit/contexts/dataplane/test_heat.py', 'upper-constraints.txt', 'rally_openstack/services/storage/block.py', 'tests/unit/scenarios/cinder/test_volumes.py', '.zuul.d/zuul.yaml', 'rally_openstack/scenarios/cinder/volumes.py', 'tests/unit/services/storage/test_block.py', 'CHANGELOG.rst', 'rally-jobs/extra/fake-image.img'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/49dbdffd4106a2a44daaeee94378c5c0138765ba', 'message': 'Upgrade jsonschema upper version and adopt to recent cinderclient\n\nIn [1], requirements.upper-constraints.txt, jsonschema library upper\nversion was bumped to 3.0.2. To avoid CI problems like [2], we should\ndo the same in this repo.\n\nIt also removes the former multiattach support dropped in Cinder\nTrain [3] and `sort_key&sort_dir`[4].\n\n[1]https://review.opendev.org/#/c/680883/2/upper-constraints.txt@624\n[2]https://d4b9765f6ab6e1413c28-81a8be848ef91b58aa974b4cb791a408.ssl.cf5.rackcdn.com/680427/2/check/neutron-rally-task/01b2c1c/controller/logs/devstacklog.txt.gz\n[3]https://github.com/openstack/python-cinderclient/commit/3c1b417959689c85a2f54505057ca995fedca075\n[4]https://github.com/openstack/python-cinderclient/commit/a63d4d651ae2f7614224f716b3ef8ebf392a6b78\n\nCo-Authored-By: Cédric Ollivier <cedric.ollivier@orange.com>\nCo-Authored-By: Andrey Kurilin <andr.kurilin@@gmail.com>\n\nCloses-Bug: #1843282\nCloses-Bug: #1844063\n\nChange-Id: I1de3a8f3db6fdeeab6e8ffeb35c442d46d5bd183\nSigned-off-by: Cédric Ollivier <ollivier.cedric@gmail.com>\n'}]",1,681167,49dbdffd4106a2a44daaeee94378c5c0138765ba,35,8,9,11975,,,0,"Upgrade jsonschema upper version and adopt to recent cinderclient

In [1], requirements.upper-constraints.txt, jsonschema library upper
version was bumped to 3.0.2. To avoid CI problems like [2], we should
do the same in this repo.

It also removes the former multiattach support dropped in Cinder
Train [3] and `sort_key&sort_dir`[4].

[1]https://review.opendev.org/#/c/680883/2/upper-constraints.txt@624
[2]https://d4b9765f6ab6e1413c28-81a8be848ef91b58aa974b4cb791a408.ssl.cf5.rackcdn.com/680427/2/check/neutron-rally-task/01b2c1c/controller/logs/devstacklog.txt.gz
[3]https://github.com/openstack/python-cinderclient/commit/3c1b417959689c85a2f54505057ca995fedca075
[4]https://github.com/openstack/python-cinderclient/commit/a63d4d651ae2f7614224f716b3ef8ebf392a6b78

Co-Authored-By: Cédric Ollivier <cedric.ollivier@orange.com>
Co-Authored-By: Andrey Kurilin <andr.kurilin@@gmail.com>

Closes-Bug: #1843282
Closes-Bug: #1844063

Change-Id: I1de3a8f3db6fdeeab6e8ffeb35c442d46d5bd183
Signed-off-by: Cédric Ollivier <ollivier.cedric@gmail.com>
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/67/681167/9 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5a004340914ce490071805abf7ceea3aea4b674d,bug/1843282,jsonschema===3.0.1,jsonschema===2.6.0,1,1
openstack%2Fcloudkitty~master~I848d59b551fe6d5077960dc45554c7281c2372a7,openstack/cloudkitty,master,I848d59b551fe6d5077960dc45554c7281c2372a7,Add support for PDF doc generation,MERGED,2019-09-16 13:43:38.000000000,2019-09-17 15:52:38.000000000,2019-09-17 15:50:36.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-09-16 13:43:38.000000000', 'files': ['doc/source/index.rst', 'doc/source/api-reference/index.rst', 'doc/source/common-index.rst', 'doc/source/pdf-index.rst', 'doc/source/user/rating/hashmap.rst', 'doc/source/conf.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/b7e8323f63b0893b880ce1564ee09fde6db1f40a', 'message': 'Add support for PDF doc generation\n\nThis adds support for pdf documentation generation. Work items:\n\n* Provide a distinct index for pdf doc. This is required as the toctree in a\n  tab fails to render as a pdf document.\n\n* Remove the v2 API reference from the pdf documentation. ""rest_expand_all"",\n  ""rest_method"" and ""rest_parameters"" are not supported.\n\n* Add a pdf-docs tox env\n\n* Update conf.py\n\nStory: 2006075\nTask: 34808\nChange-Id: I848d59b551fe6d5077960dc45554c7281c2372a7\n'}]",0,682364,b7e8323f63b0893b880ce1564ee09fde6db1f40a,12,3,1,23060,,,0,"Add support for PDF doc generation

This adds support for pdf documentation generation. Work items:

* Provide a distinct index for pdf doc. This is required as the toctree in a
  tab fails to render as a pdf document.

* Remove the v2 API reference from the pdf documentation. ""rest_expand_all"",
  ""rest_method"" and ""rest_parameters"" are not supported.

* Add a pdf-docs tox env

* Update conf.py

Story: 2006075
Task: 34808
Change-Id: I848d59b551fe6d5077960dc45554c7281c2372a7
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/64/682364/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/api-reference/index.rst', 'doc/source/common-index.rst', 'doc/source/pdf-index.rst', 'doc/source/user/rating/hashmap.rst', 'doc/source/conf.py', 'tox.ini']",7,b7e8323f63b0893b880ce1564ee09fde6db1f40a,build-pdf-docs,[testenv:pdf-docs] basepython = python3 envdir = {toxworkdir}/docs whitelist_externals = make commands = sphinx-build -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,134,67
openstack%2Fmonasca-persister~master~I3560cc6e9ea5d98f1492cc874c73b90e6083337a,openstack/monasca-persister,master,I3560cc6e9ea5d98f1492cc874c73b90e6083337a,Minor README refresh,ABANDONED,2019-09-11 22:25:30.000000000,2019-09-17 15:50:06.000000000,,"[{'_account_id': 10311}, {'_account_id': 11934}, {'_account_id': 13348}, {'_account_id': 16222}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-11 22:25:30.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/bad8f685408dada19b84f1063d7525b52a000a2d', 'message': 'Minor README refresh\n\nI noticed the README.rst still mentioned tox -e py35, but we now\nsupport py37.  Of course, making just that trivial change leads\nto adding more detail about configuration files.\n\nChange-Id: I3560cc6e9ea5d98f1492cc874c73b90e6083337a\n'}]",0,681620,bad8f685408dada19b84f1063d7525b52a000a2d,7,5,1,10311,,,0,"Minor README refresh

I noticed the README.rst still mentioned tox -e py35, but we now
support py37.  Of course, making just that trivial change leads
to adding more detail about configuration files.

Change-Id: I3560cc6e9ea5d98f1492cc874c73b90e6083337a
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/20/681620/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,bad8f685408dada19b84f1063d7525b52a000a2d,,"A sample configuration file for the Java version is available inThe Python Persister implementation is configured using a .ini file. A sample configuration file can be generated using the Oslo standards used in other OpenStack projects. :: tox -e genconfig # the result will be in ./etc/monasca/monasca-persister.conf.sample If the deployment is using the Docker files, the configuration template can be found in docker/monasca-persister.conf.j2. NOTE the following list is historic. Current work is tracked in `Storyboard`_. $ tox -e py27,py37.. _Storyboard: https://storyboard.openstack.org","A sample configuration file is available in $ tox -e py27,py35",17,2
openstack%2Freleases~master~I085e990ab3e4abd01b530858b7bd52c0378b0588,openstack/releases,master,I085e990ab3e4abd01b530858b7bd52c0378b0588,Release os-win 4.3.2 (train),MERGED,2019-09-16 11:50:30.000000000,2019-09-17 15:30:17.000000000,2019-09-17 15:30:17.000000000,"[{'_account_id': 8543}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 11:50:30.000000000', 'files': ['deliverables/train/os-win.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/dbb6034176d7b0e38751e87202586a7b77951125', 'message': 'Release os-win 4.3.2 (train)\n\nAn important bug fix missed the 4.3.1 release.\n\nChange-Id: I085e990ab3e4abd01b530858b7bd52c0378b0588\n'}]",0,682348,dbb6034176d7b0e38751e87202586a7b77951125,12,4,1,8543,,,0,"Release os-win 4.3.2 (train)

An important bug fix missed the 4.3.1 release.

Change-Id: I085e990ab3e4abd01b530858b7bd52c0378b0588
",git fetch https://review.opendev.org/openstack/releases refs/changes/48/682348/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/os-win.yaml'],1,dbb6034176d7b0e38751e87202586a7b77951125,os-win-train, - version: 4.3.2 projects: - repo: openstack/os-win hash: c5450ed0b5842b959ef0a42adf7a0d9d63db23dc,,4,0
openstack%2Fmonasca-persister~master~I0d7ae536d02db4bbcb155ad3a5d0b84761a31594,openstack/monasca-persister,master,I0d7ae536d02db4bbcb155ad3a5d0b84761a31594,Deprecate Java implementation,MERGED,2019-07-19 12:01:44.000000000,2019-09-17 15:27:36.000000000,2019-09-17 15:27:36.000000000,"[{'_account_id': 10311}, {'_account_id': 11934}, {'_account_id': 13348}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-19 12:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/9b66cd7927a7de45f47cd8ea79ab50f1155dec43', 'message': 'Deprecate Java implementation\n\nThe change adds deprecation notice and updates Readme file.\n\nStory: 2005628\nTask: 30881\nChange-Id: I0d7ae536d02db4bbcb155ad3a5d0b84761a31594\n'}, {'number': 2, 'created': '2019-09-16 21:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/b7d6047de150d8f55f19f2325d1f02c8110544d3', 'message': 'Deprecate Java implementation\n\nThe change adds deprecation notice and updates Readme file.\nAlso include links to Storyboard, and notes on configuration.\n\nStory: 2005628\nTask: 30881\nChange-Id: I0d7ae536d02db4bbcb155ad3a5d0b84761a31594\n'}, {'number': 3, 'created': '2019-09-17 08:29:55.000000000', 'files': ['README.rst', 'java/README.rst'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/f7f3d2e9f86d5324e85af5baceb26f13074aa12c', 'message': 'Deprecate Java implementation\n\nThe change adds deprecation notice and updates Readme file.\nAlso include links to Storyboard, and notes on configuration.\n\nStory: 2005628\nTask: 30881\nChange-Id: I0d7ae536d02db4bbcb155ad3a5d0b84761a31594\n'}]",0,671709,f7f3d2e9f86d5324e85af5baceb26f13074aa12c,14,6,3,16222,,,0,"Deprecate Java implementation

The change adds deprecation notice and updates Readme file.
Also include links to Storyboard, and notes on configuration.

Story: 2005628
Task: 30881
Change-Id: I0d7ae536d02db4bbcb155ad3a5d0b84761a31594
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/09/671709/3 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'java/README.rst']",2,9b66cd7927a7de45f47cd8ea79ab50f1155dec43,671709,"monasca-persister ================= .. warning:: Java implementation of monasca-persister is deprecated as of Train release. The Monasca Persister consumes metrics and alarm state transitions from the Apache Kafka message queue and stores them in the time series database. Although the Persister isn't primarily a Web service it uses DropWizard, https://dropwizard.github.io/dropwizard/, which provides a nice Web application framework to expose an http endpoint that provides an interface through which metrics about the Persister can be queried as well as health status. The basic design of the Persister is to have one Kafka consumer publish to a Disruptor, https://github.com/LMAX-Exchange/disruptor, that has output processors. The output processors use prepared batch statements to write to the Metrics and Alarms database. The number of output processors/threads in the Persister can be specified to scale to more messages. To horizontally scale and provide fault-tolerance any number of Persisters can be started as consumers from the Message Queue. Build ===== Requires monasca-common from https://opendev.org/openstack/monasca-common. Download and build following instructions in its README.rst. Then build monasca-persister by: :: mvn clean package Configuration ============= A sample configuration file is available in java/src/deb/etc/persister-config.yml-sample. A second configuration file is provided in java/src/main/resources/persister-config.yml for use with the `vagrant ""mini-mon"" development environment`_. TODO ==== - Purge metrics on shutdown - Add more robust offset management in Kafka. Currently, the offset is advanced as each message is read. If the Persister stops after the metric has been read and prior to it being committed to the Metrics and Alarms database, the metric will be lost. - Add better handling of SQL exceptions. - Complete health check. - Specify and document the names of the metrics that are available for monitoring of the Persister. - Document the yaml configuration parameters. .. _vagrant ""mini-mon"" development environment: https://github.com/openstack/monasca-vagrant/ ",,82,59
openstack%2Ftripleo-upgrade~master~I2830211fe635434e14ba03900aad435bede1399d,openstack/tripleo-upgrade,master,I2830211fe635434e14ba03900aad435bede1399d,Explicitly make a list,MERGED,2019-09-13 17:03:57.000000000,2019-09-17 15:15:17.000000000,2019-09-16 11:22:23.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-09-13 17:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/43c527f873033f3864dd8368c44c75c6d9f401d9', 'message': 'Explicitly make a list\n\nIn python2 .keys() returns a list when in python3 it returns\n\\""{\'Compute\': dict_keys([\'compute-0\'])}\\""""}\nThis patch adds ""list"" filter to explicitly convert to list. The change\nis python2 and python3 compatible.\n\nChange-Id: I2830211fe635434e14ba03900aad435bede1399d\n'}, {'number': 2, 'created': '2019-09-13 17:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c5679a54470bd9b8c7761df17a3e5dbf26a5ae63', 'message': 'Explicitly make a list\n\nIn python2 .keys() returns a list when in python3 it returns\n\\""{\'Compute\': dict_keys([\'compute-0\'])}\\""""}\nThis patch adds ""list"" filter to explicitly convert to list. The change\nis python2 and python3 compatible.\n\nChange-Id: I2830211fe635434e14ba03900aad435bede1399d\n'}, {'number': 3, 'created': '2019-09-13 17:11:07.000000000', 'files': ['tasks/common/load_roles_from_inventory.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/da75c68ec71f15ae928f6bf4cde1b261861ccb02', 'message': 'Explicitly make a list\n\nIn python2 .keys() returns a list when in python3 it returns\n\\""{\'Compute\': dict_keys([\'compute-0\'])}\\""""}\nThis patch adds ""list"" filter to explicitly convert to list. The change\nis python2 and python3 compatible.\n\nChange-Id: I2830211fe635434e14ba03900aad435bede1399d\n'}]",0,682115,da75c68ec71f15ae928f6bf4cde1b261861ccb02,10,5,3,11090,,,0,"Explicitly make a list

In python2 .keys() returns a list when in python3 it returns
\""{'Compute': dict_keys(['compute-0'])}\""""}
This patch adds ""list"" filter to explicitly convert to list. The change
is python2 and python3 compatible.

Change-Id: I2830211fe635434e14ba03900aad435bede1399d
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/15/682115/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/load_roles_from_inventory.yaml'],1,43c527f873033f3864dd8368c44c75c6d9f401d9,fix_list," oc_roles_hosts: ""{{ oc_roles_hosts | combine({ item.key : inventory_yaml[item.key]['hosts'].keys()|list }) }}"" foo|default([]) + [item | combine(secrets, recursive=True)] with_items: ""{{ inventory_yaml.overcloud.children }}"""," oc_roles_hosts: ""{{ oc_roles_hosts | combine({ item.key : inventory_yaml[item.key]['hosts'].keys() }) }}"" with_dict: ""{{ inventory_yaml.overcloud.children }}""",3,2
openstack%2Fswift~master~I45d4c6bfe07c3772347379634b999e5e79786ba6,openstack/swift,master,I45d4c6bfe07c3772347379634b999e5e79786ba6,WIP: new versioning mode as separate middleware,ABANDONED,2019-09-09 16:00:29.000000000,2019-09-17 15:13:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-09 16:00:29.000000000', 'files': ['swift/common/middleware/versioned_writes.py', 'swift/common/middleware/object_versioning.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/swift/commit/2769ab875d470096d93dce8f93ed174ca22eb498', 'message': 'WIP: new versioning mode as separate middleware\n\nChange-Id: I45d4c6bfe07c3772347379634b999e5e79786ba6\n'}]",0,681054,2769ab875d470096d93dce8f93ed174ca22eb498,3,1,1,9625,,,0,"WIP: new versioning mode as separate middleware

Change-Id: I45d4c6bfe07c3772347379634b999e5e79786ba6
",git fetch https://review.opendev.org/openstack/swift refs/changes/54/681054/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/versioned_writes.py', 'swift/common/middleware/object_versioning.py', 'setup.cfg']",3,2769ab875d470096d93dce8f93ed174ca22eb498,versioning2.0, object_versioning = swift.common.middleware.object_versioning:filter_factory,,1149,0
openstack%2Fopenstack-helm~master~I61f403c09255799f6c529f5d5d8adc456307fdc5,openstack/openstack-helm,master,I61f403c09255799f6c529f5d5d8adc456307fdc5,DNM: Egress policy for compute-kit,ABANDONED,2019-09-17 13:47:19.000000000,2019-09-17 15:12:24.000000000,,[],"[{'number': 1, 'created': '2019-09-17 13:47:19.000000000', 'files': ['nova/values_overrides/netpol.yaml', 'neutron/values_overrides/netpol.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aaea65fddd2b13a636876d5820a4916a8eaf2fc5', 'message': 'DNM: Egress policy for compute-kit\n\nChange-Id: I61f403c09255799f6c529f5d5d8adc456307fdc5\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,682653,aaea65fddd2b13a636876d5820a4916a8eaf2fc5,2,0,1,20466,,,0,"DNM: Egress policy for compute-kit

Change-Id: I61f403c09255799f6c529f5d5d8adc456307fdc5
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/53/682653/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/values_overrides/netpol.yaml', 'neutron/values_overrides/netpol.yaml']",2,aaea65fddd2b13a636876d5820a4916a8eaf2fc5,netpol/egress-compute-kit,network_policy: neutron: egress: - to: - namespaceSelector: {} podSelector: matchLabels: application: ingress ports: - protocol: TCP port: 80 - protocol: TCP port: 443 - to: - ipBlock: cidr: $API_ADDR/32 ports: - protocol: TCP port: $API_PORT,,56,0
openstack%2Fpython-designateclient~master~I5f62500086a807d5082221993c3b491f3b6a1db0,openstack/python-designateclient,master,I5f62500086a807d5082221993c3b491f3b6a1db0,"Fix ""zone list --all-projects"" in interactive OSC",MERGED,2019-09-15 03:35:00.000000000,2019-09-17 14:56:43.000000000,2019-09-17 14:55:29.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-09-15 03:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/5a33a667b0122704077747961ca255def7022365', 'message': 'Fix ""zone list --all-projects"" when run from interactive OSC prompt\n\nThe current zone list function does not check to see if project_id is\nalready a column to be output when adding it during an --all-projects\nlist. This causes a duplicate field name to be added which is then\npassed to prettytables which subsequently throws an exception. Check to\nsee if project_id is already a field before adding it.\n\nChange-Id: I5f62500086a807d5082221993c3b491f3b6a1db0\nCloses-Bug: #1844028\n'}, {'number': 2, 'created': '2019-09-15 03:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/775c869ca0d71d914938ce243a59911bf428bd0b', 'message': 'Fix ""zone list --all-projects"" in interactive OSC\n\nThe current zone list function does not check to see if project_id is\nalready a column to be output when adding it during an --all-projects\nlist. This causes a duplicate field name to be added which is then\npassed to prettytables which subsequently throws an exception. Check to\nsee if project_id is already a field before adding it.\n\nChange-Id: I5f62500086a807d5082221993c3b491f3b6a1db0\nCloses-Bug: #1844028\n'}, {'number': 3, 'created': '2019-09-16 16:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/707d501ddf285112689412a1a83ab02717577bb9', 'message': 'Fix ""zone list --all-projects"" in interactive OSC\n\nThe current zone list function does not check to see if project_id is\nalready a column to be output when adding it during an --all-projects\nlist. This causes a duplicate field name to be added which is then\npassed to prettytables which subsequently throws an exception. Check to\nsee if project_id is already a field before adding it.\n\nChange-Id: I5f62500086a807d5082221993c3b491f3b6a1db0\nCloses-Bug: #1844028\n'}, {'number': 4, 'created': '2019-09-16 22:53:07.000000000', 'files': ['designateclient/v2/cli/zones.py'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/7cc5f8bb2a31524f612e484e0bd4ea4e024e7d2c', 'message': 'Fix ""zone list --all-projects"" in interactive OSC\n\nThe current zone list function does not check to see if project_id is\nalready a column to be output when adding it during an --all-projects\nlist. This causes a duplicate field name to be added which is then\npassed to prettytables which subsequently throws an exception. Create a\ncopy of the columns list so it is not appended to with every\ncommand.\n\nChange-Id: I5f62500086a807d5082221993c3b491f3b6a1db0\nCloses-Bug: #1844028\n'}]",2,682234,7cc5f8bb2a31524f612e484e0bd4ea4e024e7d2c,21,3,4,30740,,,0,"Fix ""zone list --all-projects"" in interactive OSC

The current zone list function does not check to see if project_id is
already a column to be output when adding it during an --all-projects
list. This causes a duplicate field name to be added which is then
passed to prettytables which subsequently throws an exception. Create a
copy of the columns list so it is not appended to with every
command.

Change-Id: I5f62500086a807d5082221993c3b491f3b6a1db0
Closes-Bug: #1844028
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/34/682234/1 && git format-patch -1 --stdout FETCH_HEAD,['designateclient/v2/cli/zones.py'],1,5a33a667b0122704077747961ca255def7022365,bug/1844028, if client.session.all_projects and 'project_id' not in cols:, if client.session.all_projects:,1,1
openstack%2Foctavia~stable%2Fqueens~I1b53076953eaf1a6c6934a10439d00977c875fec,openstack/octavia,stable/queens,I1b53076953eaf1a6c6934a10439d00977c875fec,Split up extra init steps and start processes,ABANDONED,2018-09-27 08:30:30.000000000,2019-09-17 14:54:58.000000000,,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 8289}, {'_account_id': 11628}, {'_account_id': 15309}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-27 08:30:30.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/05fdc4239d666de56f733420e025f2e2089bca7e', 'message': 'Split up extra init steps and start processes\n\nBy spliting them up, we can now start Octavia without going through the\nextra initialization steps, which are not idempotent (or meant to be\nanyway), exiting with error code and preventing from continuing the\nso desired start process of Octavia. The split-up will allow Grenade to\ncall out octavia_start solely for the purpose of starting Octavia\nservices.\n\nThis patch also fixes awk from matching itself when stopping Octavia.\nThis keeps awk from showing itself in the output, grabbing only relevant\nPIDs. Otherwise awk PID is added to PID list resulting in kill command\nexiting with error as awk is no longer running. This is equially\nimportant and required grenading Octavia, else an exit error would be\nthrown.\n\nChange-Id: I1b53076953eaf1a6c6934a10439d00977c875fec\n(cherry picked from commit 303b339836dddc4f9a89826f9786701ace8bafb7)\n'}]",0,605616,05fdc4239d666de56f733420e025f2e2089bca7e,15,6,1,8289,,,0,"Split up extra init steps and start processes

By spliting them up, we can now start Octavia without going through the
extra initialization steps, which are not idempotent (or meant to be
anyway), exiting with error code and preventing from continuing the
so desired start process of Octavia. The split-up will allow Grenade to
call out octavia_start solely for the purpose of starting Octavia
services.

This patch also fixes awk from matching itself when stopping Octavia.
This keeps awk from showing itself in the output, grabbing only relevant
PIDs. Otherwise awk PID is added to PID list resulting in kill command
exiting with error as awk is no longer running. This is equially
important and required grenading Octavia, else an exit error would be
thrown.

Change-Id: I1b53076953eaf1a6c6934a10439d00977c875fec
(cherry picked from commit 303b339836dddc4f9a89826f9786701ace8bafb7)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/16/605616/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,05fdc4239d666de56f733420e025f2e2089bca7e,octavia_grenade-stable/queens," iniset $OCTAVIA_CONF controller_worker amp_image_tag ${OCTAVIA_AMP_IMAGE_TAG} if [ $OCTAVIA_NODE == 'main' ]; then configure_octavia_api_haproxy # make sure octavia is reachable from haproxy iniset $OCTAVIA_CONF DEFAULT bind_port ${OCTAVIA_HA_PORT} iniset $OCTAVIA_CONF DEFAULT bind_host 0.0.0.0 fi if [ $OCTAVIA_NODE != 'main' ] && [ $OCTAVIA_NODE != 'standalone' ] ; then # make sure octavia is reachable from haproxy from main node iniset $OCTAVIA_CONF DEFAULT bind_port ${OCTAVIA_HA_PORT} iniset $OCTAVIA_CONF DEFAULT bind_host 0.0.0.0 fi if ! ps aux | grep -q [o]-hm0 ; then sudo dhclient -v o-hm0 -cf $OCTAVIA_DHCLIENT_CONF pids=$(ps aux | awk '/[o]-hm0/ { print $2 }')function octavia_init { if [ $OCTAVIA_NODE != 'main' ] && [ $OCTAVIA_NODE != 'standalone' ] && [ $OCTAVIA_NODE != 'api' ]; then # without the other services enabled apparently we don't have # credentials at this point TOP_DIR=$(cd $(dirname ""$0"") && pwd) source ${TOP_DIR}/openrc admin admin fi if [ $OCTAVIA_NODE == 'main' ] || [ $OCTAVIA_NODE == 'standalone' ] ; then # things that should only happen on the ha main node / or once if ! openstack keypair show ${OCTAVIA_AMP_SSH_KEY_NAME} ; then openstack keypair create --public-key ${OCTAVIA_AMP_SSH_KEY_PATH}.pub ${OCTAVIA_AMP_SSH_KEY_NAME} fi # Check if an amphora image is already loaded AMPHORA_IMAGE_NAME=$(openstack image list --property name=${OCTAVIA_AMP_IMAGE_NAME} -f value -c Name) export AMPHORA_IMAGE_NAME if [ ""$AMPHORA_IMAGE_NAME"" == ${OCTAVIA_AMP_IMAGE_NAME} ]; then echo ""Found existing amphora image: $AMPHORA_IMAGE_NAME"" echo ""Skipping amphora image build"" export DISABLE_AMP_IMAGE_BUILD=True fi if ! [ ""$DISABLE_AMP_IMAGE_BUILD"" == 'True' ]; then build_octavia_worker_image fi OCTAVIA_AMP_IMAGE_ID=$(openstack image list -f value --property name=${OCTAVIA_AMP_IMAGE_NAME} -c ID) if [ -n ""$OCTAVIA_AMP_IMAGE_ID"" ]; then openstack image set --tag ${OCTAVIA_AMP_IMAGE_TAG} ${OCTAVIA_AMP_IMAGE_ID} fi # Create a management network. build_mgmt_network OCTAVIA_AMP_NETWORK_ID=$(openstack network show lb-mgmt-net -f value -c id) iniset $OCTAVIA_CONF controller_worker amp_boot_network_list ${OCTAVIA_AMP_NETWORK_ID} create_octavia_accounts # Adds service and endpoint if is_service_enabled tempest; then configure_octavia_tempest ${OCTAVIA_AMP_NETWORK_ID} fi add_load-balancer_roles fi if [ $OCTAVIA_NODE != 'api' ] ; then create_mgmt_network_interface create_amphora_flavor configure_lb_mgmt_sec_grp fi if ! [ ""$DISABLE_AMP_IMAGE_BUILD"" == 'True' ]; then set_octavia_worker_image_owner_id fi } echo_summary ""Initializing Octavia"" octavia_init echo_summary ""Starting Octavia"""," sudo dhclient -v o-hm0 -cf $OCTAVIA_DHCLIENT_CONF # Several steps in this function would more logically be in the configure function, but # we need nova, glance, and neutron to be running. if [ $OCTAVIA_NODE != 'main' ] && [ $OCTAVIA_NODE != 'standalone' ] && [ $OCTAVIA_NODE != 'api' ]; then # without the other services enabled apparently we don't have # credentials at this point TOP_DIR=$(cd $(dirname ""$0"") && pwd) source ${TOP_DIR}/openrc admin admin if [ $OCTAVIA_NODE == 'main' ] || [ $OCTAVIA_NODE == 'standalone' ] ; then # things that should only happen on the ha main node / or once openstack keypair create --public-key ${OCTAVIA_AMP_SSH_KEY_PATH}.pub ${OCTAVIA_AMP_SSH_KEY_NAME} # Check if an amphora image is already loaded AMPHORA_IMAGE_NAME=$(openstack image list --property name=${OCTAVIA_AMP_IMAGE_NAME} -f value -c Name) export AMPHORA_IMAGE_NAME if [ ""$AMPHORA_IMAGE_NAME"" == ${OCTAVIA_AMP_IMAGE_NAME} ]; then echo ""Found existing amphora image: $AMPHORA_IMAGE_NAME"" echo ""Skipping amphora image build"" export DISABLE_AMP_IMAGE_BUILD=True fi if ! [ ""$DISABLE_AMP_IMAGE_BUILD"" == 'True' ]; then build_octavia_worker_image fi OCTAVIA_AMP_IMAGE_ID=$(openstack image list -f value --property name=${OCTAVIA_AMP_IMAGE_NAME} -c ID) if [ -n ""$OCTAVIA_AMP_IMAGE_ID"" ]; then openstack image set --tag ${OCTAVIA_AMP_IMAGE_TAG} ${OCTAVIA_AMP_IMAGE_ID} fi # Create a management network. build_mgmt_network create_octavia_accounts # Adds service and endpoint if is_service_enabled tempest; then configure_octavia_tempest ${OCTAVIA_AMP_NETWORK_ID} fi fi if ! [ ""$DISABLE_AMP_IMAGE_BUILD"" == 'True' ]; then set_octavia_worker_image_owner_id fi if [ $OCTAVIA_NODE != 'api' ] ; then create_mgmt_network_interface create_amphora_flavor configure_lb_mgmt_sec_grp fi iniset $OCTAVIA_CONF controller_worker amp_image_tag ${OCTAVIA_AMP_IMAGE_TAG} OCTAVIA_AMP_NETWORK_ID=$(openstack network show lb-mgmt-net -f value -c id) iniset $OCTAVIA_CONF controller_worker amp_boot_network_list ${OCTAVIA_AMP_NETWORK_ID} configure_octavia_api_haproxy # make sure octavia is reachable from haproxy iniset $OCTAVIA_CONF DEFAULT bind_port ${OCTAVIA_HA_PORT} iniset $OCTAVIA_CONF DEFAULT bind_host 0.0.0.0 fi if [ $OCTAVIA_NODE != 'main' ] && [ $OCTAVIA_NODE != 'standalone' ] ; then # make sure octavia is reachable from haproxy from main node iniset $OCTAVIA_CONF DEFAULT bind_port ${OCTAVIA_HA_PORT} iniset $OCTAVIA_CONF DEFAULT bind_host 0.0.0.0 if [ $OCTAVIA_NODE == 'main' ] || [ $OCTAVIA_NODE == 'standalone' ] ; then add_load-balancer_roles fi pids=$(ps aux | awk '/o-hm0/ { print $2 }') echo_summary ""Initializing octavia""",79,77
openstack%2Fopenstacksdk~master~I59f8f85a31395c8a096cd507421cebb36d18198d,openstack/openstacksdk,master,I59f8f85a31395c8a096cd507421cebb36d18198d,baremetal-introspection: fix passing a Node to start_introspection,MERGED,2019-09-10 11:56:18.000000000,2019-09-17 14:54:27.000000000,2019-09-17 14:52:42.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27900}]","[{'number': 1, 'created': '2019-09-10 11:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f4f63a701ebd9a0de543da6a84d50f5a31e56082', 'message': 'baremetal-introspection: fix passing a Node to start_introspection\n\nCurrently only a string ID is supported despite what the docstring claims.\n\nChange-Id: I59f8f85a31395c8a096cd507421cebb36d18198d\n'}, {'number': 2, 'created': '2019-09-10 11:58:30.000000000', 'files': ['openstack/tests/unit/baremetal_introspection/v1/test_proxy.py', 'openstack/baremetal_introspection/v1/_proxy.py', 'releasenotes/notes/introspection-node-6a3b7d55839ef82c.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4a6b5beb77ba2ed53af0cb54def88083cea22cc1', 'message': 'baremetal-introspection: fix passing a Node to start_introspection\n\nCurrently only a string ID is supported despite what the docstring claims.\n\nChange-Id: I59f8f85a31395c8a096cd507421cebb36d18198d\n'}]",0,681229,4a6b5beb77ba2ed53af0cb54def88083cea22cc1,19,5,2,10239,,,0,"baremetal-introspection: fix passing a Node to start_introspection

Currently only a string ID is supported despite what the docstring claims.

Change-Id: I59f8f85a31395c8a096cd507421cebb36d18198d
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/29/681229/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/baremetal_introspection/v1/_proxy.py', 'releasenotes/notes/introspection-node-6a3b7d55839ef82c.yaml']",2,f4f63a701ebd9a0de543da6a84d50f5a31e56082,introspection-node,--- fixes: - | Fixes using a full `Node` object as an argument to `start_introspection`. ,,7,1
openstack%2Fneutron-tempest-plugin~master~I25cb5b159330ac80777f8ea784e98fa06e6e056f,openstack/neutron-tempest-plugin,master,I25cb5b159330ac80777f8ea784e98fa06e6e056f,Skip multicast test if there is no python3 on VM,MERGED,2019-09-05 14:30:33.000000000,2019-09-17 14:41:28.000000000,2019-09-17 14:41:28.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-05 14:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5349f70b14b57f06a45165f1be94fa5062c2459f', 'message': ""Skip multicast test if there is no python3 on VM\n\nFor example RHEL 8 image don't have Python installed by default,\nso this test will fail when it should be skipped.\n\nWith this patch it will be skipped as before trying to start\nmulticast sender/receiver scripts, there is simple check if\npython3 binary exists on VM.\n\nChange-Id: I25cb5b159330ac80777f8ea784e98fa06e6e056f\nCloses-Bug: #1842934\n""}, {'number': 2, 'created': '2019-09-11 10:54:06.000000000', 'files': ['neutron_tempest_plugin/scenario/test_multicast.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2f467caa9821a9e9fbe7d77069a40115337af275', 'message': ""Skip multicast test if there is no python3 on VM\n\nFor example RHEL 8 image don't have Python installed by default,\nso this test will fail when it should be skipped.\n\nWith this patch it will be skipped as before trying to start\nmulticast sender/receiver scripts, there is simple check if\npython3 binary exists on VM.\n\nChange-Id: I25cb5b159330ac80777f8ea784e98fa06e6e056f\nCloses-Bug: #1842934\n""}]",6,680428,2f467caa9821a9e9fbe7d77069a40115337af275,20,7,2,11975,,,0,"Skip multicast test if there is no python3 on VM

For example RHEL 8 image don't have Python installed by default,
so this test will fail when it should be skipped.

With this patch it will be skipped as before trying to start
multicast sender/receiver scripts, there is simple check if
python3 binary exists on VM.

Change-Id: I25cb5b159330ac80777f8ea784e98fa06e6e056f
Closes-Bug: #1842934
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/28/680428/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_multicast.py'],1,5349f70b14b57f06a45165f1be94fa5062c2459f,bug/1842934,"from neutron_tempest_plugin import exceptionsPYTHON_BIN = ""python3"" def _check_python_installed_on_server(self, ssh_client, server_id): try: ssh_client.execute_script('which %s' % PYTHON_BIN) except exceptions.SSHScriptFailed: raise self.skipException( ""%s is not available on server %s"" % (PYTHON_BIN, server_id)) self._check_python_installed_on_server(ssh_client, server['id']) self._check_python_installed_on_server(ssh_client, server['id']) ""%s ~/multicast_traffic_receiver.py &"" % PYTHON_BIN, shell=""bash"") ""%s ~/multicast_traffic_sender.py"" % PYTHON_BIN)"," ""python3 ~/multicast_traffic_receiver.py &"", shell=""bash"") ""python3 ~/multicast_traffic_sender.py"")",14,3
openstack%2Fnova~master~I4b976b7ea60c63ec334b5eb78c1ad7972fbed574,openstack/nova,master,I4b976b7ea60c63ec334b5eb78c1ad7972fbed574,"Use fields=""instance_uuid"" when calling Ironic API",MERGED,2019-09-05 23:51:17.000000000,2019-09-17 14:33:16.000000000,2019-09-07 05:19:48.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 13861}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29745}]","[{'number': 1, 'created': '2019-09-05 23:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f4650e5a83c8eb7f55da420e3abd984e3c6eb4d', 'message': 'Use fields=""instance_uuid"" when calling Ironic API\n\nronicDriver should be using fields=""instance_uuid"" when calling Ironic\nAPI via the OpenStack SDK, but instead is using fields=""instance_id"".\nThis patch corrects the calls and adds new tests to cover it.\n\nChange-Id: I4b976b7ea60c63ec334b5eb78c1ad7972fbed574\nCloses-Bug: #1842989\n'}, {'number': 2, 'created': '2019-09-05 23:52:26.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/19f01023c23b793388d693b7272cac799b5b6ff8', 'message': 'Use fields=""instance_uuid"" when calling Ironic API\n\nIronicDriver should be using fields=""instance_uuid"" when calling Ironic\nAPI via the OpenStack SDK, but instead is using fields=""instance_id"".\nThis patch corrects the calls and adds new tests to cover it.\n\nChange-Id: I4b976b7ea60c63ec334b5eb78c1ad7972fbed574\nCloses-Bug: #1842989\n'}]",6,680542,19f01023c23b793388d693b7272cac799b5b6ff8,34,14,2,29745,,,0,"Use fields=""instance_uuid"" when calling Ironic API

IronicDriver should be using fields=""instance_uuid"" when calling Ironic
API via the OpenStack SDK, but instead is using fields=""instance_id"".
This patch corrects the calls and adds new tests to cover it.

Change-Id: I4b976b7ea60c63ec334b5eb78c1ad7972fbed574
Closes-Bug: #1842989
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/680542/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py']",2,0f4650e5a83c8eb7f55da420e3abd984e3c6eb4d,bp/openstacksdk-in-nova," fields=['instance_uuid']) # NOTE(dustinc) This test ensures we use instance_uuid not instance_id in # 'fields' when calling ironic. @mock.patch.object(objects.Instance, 'get_by_uuid') def test_list_instances_uses_instance_uuid(self, mock_inst_by_uuid): self.driver.list_instances() self.mock_conn.nodes.assert_called_with(associated=True, fields=['instance_uuid']) fields=['instance_uuid']) instance_id=uuidutils.generate_uuid(), fields=['instance_uuid']) # NOTE(dustinc) This test ensures we use instance_uuid not instance_id in # 'fields' when calling ironic. @mock.patch.object(objects.Instance, 'get_by_uuid') def test_list_instance_uuids_uses_instance_uuid(self, mock_inst_by_uuid): self.driver.list_instance_uuids() self.mock_conn.nodes.assert_called_with(associated=True, fields=['instance_uuid']) "," fields=['instance_id']) fields=['instance_id']) instance_uuid=uuidutils.generate_uuid(), fields=['instance_id'])",28,6
openstack%2Fpython-cloudkittyclient~master~I6e4f6372ff026a9eb379ee06c683451f58a99976,openstack/python-cloudkittyclient,master,I6e4f6372ff026a9eb379ee06c683451f58a99976,Generate PDF documentation,MERGED,2019-09-16 16:10:25.000000000,2019-09-17 13:37:22.000000000,2019-09-17 13:35:31.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-09-16 16:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/5416076abf64a53b83d09ace72db5d2fbed8ac86', 'message': ""Generate PDF documentation\n\nThis commit adds a new tox target to build PDF documentation.\nIt's a part of community goal, see storyboard for more\ninformation.\n\nChange-Id: I6e4f6372ff026a9eb379ee06c683451f58a99976\nStory: 2006075\nTask: 34812\n""}, {'number': 2, 'created': '2019-09-16 16:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/d25b72f809b25acf74cffff01020163756056736', 'message': ""Generate PDF documentation\n\nThis commit adds a new tox target to build PDF documentation.\nIt's a part of community goal, see storyboard for more\ninformation.\n\nChange-Id: I6e4f6372ff026a9eb379ee06c683451f58a99976\nStory: 2006075\nTask: 34812\n""}, {'number': 3, 'created': '2019-09-16 16:46:14.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/296fd22640eb9c27814e5c4a9ef505fd8730f903', 'message': ""Generate PDF documentation\n\nThis commit adds a new tox target to build PDF documentation.\nIt's a part of community goal, see storyboard for more\ninformation.\n\nChange-Id: I6e4f6372ff026a9eb379ee06c683451f58a99976\nStory: 2006075\nTask: 34812\n""}]",0,682401,296fd22640eb9c27814e5c4a9ef505fd8730f903,11,3,3,29313,,,0,"Generate PDF documentation

This commit adds a new tox target to build PDF documentation.
It's a part of community goal, see storyboard for more
information.

Change-Id: I6e4f6372ff026a9eb379ee06c683451f58a99976
Story: 2006075
Task: 34812
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/01/682401/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",3,5416076abf64a53b83d09ace72db5d2fbed8ac86,,[testenv:pdf-docs] basepython = python3 envdir = {toxworkdir}/docs deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,31,3
openstack%2Frpm-packaging~master~I327a51d783695f660440e911085216f476cabd41,openstack/rpm-packaging,master,I327a51d783695f660440e911085216f476cabd41,nova: Add missing build dependency for docs,MERGED,2019-09-16 15:09:21.000000000,2019-09-17 13:37:01.000000000,2019-09-17 13:37:01.000000000,"[{'_account_id': 1916}, {'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-16 15:09:21.000000000', 'files': ['openstack/nova/nova.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/19efda65d602763bafed1b0284191782fa74e523', 'message': 'nova: Add missing build dependency for docs\n\nChange-Id: I327a51d783695f660440e911085216f476cabd41\n'}]",0,682383,19efda65d602763bafed1b0284191782fa74e523,13,7,1,2062,,,0,"nova: Add missing build dependency for docs

Change-Id: I327a51d783695f660440e911085216f476cabd41
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/83/682383/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/nova/nova.spec.j2'],1,19efda65d602763bafed1b0284191782fa74e523,,BuildRequires: {{ py3('sphinxcontrib-svg2pdfconverter') }},,1,0
openstack%2Fmanila-ui~master~Ib43e65ac83ae50843cb5f7fca83d139eb4b7c31b,openstack/manila-ui,master,Ib43e65ac83ae50843cb5f7fca83d139eb4b7c31b,Imported Translations from Zanata,MERGED,2019-09-17 09:13:40.000000000,2019-09-17 13:26:01.000000000,2019-09-17 13:24:00.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 09:13:40.000000000', 'files': ['manila_ui/locale/id/LC_MESSAGES/django.po', 'releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'manila_ui/locale/fr/LC_MESSAGES/django.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'manila_ui/locale/ko_KR/LC_MESSAGES/django.po', 'manila_ui/locale/ru/LC_MESSAGES/django.po', 'manila_ui/locale/zh_CN/LC_MESSAGES/django.po', 'manila_ui/locale/cs/LC_MESSAGES/django.po', 'manila_ui/locale/de/LC_MESSAGES/django.po', 'manila_ui/locale/en_GB/LC_MESSAGES/django.po', 'manila_ui/locale/pt_BR/LC_MESSAGES/django.po', 'manila_ui/locale/tr_TR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/82a1e08b25e42f1e8ea99d7c9b6957bb06423a34', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ib43e65ac83ae50843cb5f7fca83d139eb4b7c31b\n'}]",0,682589,82a1e08b25e42f1e8ea99d7c9b6957bb06423a34,9,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ib43e65ac83ae50843cb5f7fca83d139eb4b7c31b
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/89/682589/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_ui/locale/id/LC_MESSAGES/django.po', 'releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'manila_ui/locale/fr/LC_MESSAGES/django.po', 'releasenotes/source/locale/ko_KR/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'manila_ui/locale/ko_KR/LC_MESSAGES/django.po', 'manila_ui/locale/ru/LC_MESSAGES/django.po', 'manila_ui/locale/zh_CN/LC_MESSAGES/django.po', 'manila_ui/locale/cs/LC_MESSAGES/django.po', 'manila_ui/locale/de/LC_MESSAGES/django.po', 'manila_ui/locale/en_GB/LC_MESSAGES/django.po', 'manila_ui/locale/pt_BR/LC_MESSAGES/django.po', 'manila_ui/locale/tr_TR/LC_MESSAGES/django.po']",14,82a1e08b25e42f1e8ea99d7c9b6957bb06423a34,zanata/translations,"""POT-Creation-Date: 2019-09-16 12:05+0000\n""","""POT-Creation-Date: 2018-04-18 02:02+0000\n""msgid ""Unable to retrieve replica %sdetails."" msgstr ""Kopya %s ayrıntıları alınamadı."" #, python-format",40,71
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb,openstack/tripleo-heat-templates,stable/queens,I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb,Move nova cell v2 discovery to deploy_steps_tasks,MERGED,2019-07-09 09:26:03.000000000,2019-09-17 13:18:57.000000000,2019-09-12 15:07:42.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-09 09:26:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c1dabe02486c47331108547bda430bf0cf5a24c2', 'message': 'Move nova cell v2 discovery to deploy_steps_tasks\n\nRecent changes for e.g edge scenarios caused intended move of discovery\nfrom controller to bootstrap compute node. The task is triggered by\ndeploy-identifier to make sure it gets run on any deploy,scale, ... run.\nIf deploy run is triggered with --skip-deploy-identifier flag, discovery\nwill not be triggered at and as result causing failures in previously\nsupported scenarios.\nThis change moves the host discovery task to be an ansible\ndeploy_steps_tasks that it gets triggered even if --skip-deploy-identifier\nis used, or the compute bootstrap node is blacklisted.\n\nCloses-Bug: #1831711\n\n Conflicts:\n\tdeployment/nova/nova-compute-container-puppet.yaml\n\tdocker/services/nova-compute-common.yaml\n\tdocker/services/nova-ironic.yaml\n\tdocker_config_scripts/nova_cell_v2_discover_hosts.py\n\nChange-Id: I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb\n(cherry picked from commit f8779e5023c7b5dd54dd879d4f5431ed4742e9e1)\n(cherry picked from commit b82417126b53d602d3df28ce0d7d2b31a9e5f1c4)\n(cherry picked from commit 58b65c1da8a23f3b210896ca09bbd438de9a3227)\n'}, {'number': 2, 'created': '2019-09-05 16:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/775349c047f7e4b33955d415962066b2057f9918', 'message': 'Move nova cell v2 discovery to deploy_steps_tasks\n\nRecent changes for e.g edge scenarios caused intended move of discovery\nfrom controller to bootstrap compute node. The task is triggered by\ndeploy-identifier to make sure it gets run on any deploy,scale, ... run.\nIf deploy run is triggered with --skip-deploy-identifier flag, discovery\nwill not be triggered at and as result causing failures in previously\nsupported scenarios.\nThis change moves the host discovery task to be an ansible\ndeploy_steps_tasks that it gets triggered even if --skip-deploy-identifier\nis used, or the compute bootstrap node is blacklisted.\n\nCloses-Bug: #1831711\n\n Conflicts:\n\tdeployment/nova/nova-compute-container-puppet.yaml\n\tdocker/services/nova-compute-common.yaml\n\tdocker/services/nova-ironic.yaml\n\tdocker_config_scripts/nova_cell_v2_discover_hosts.py\n\nChange-Id: I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb\n(cherry picked from commit f8779e5023c7b5dd54dd879d4f5431ed4742e9e1)\n(cherry picked from commit b82417126b53d602d3df28ce0d7d2b31a9e5f1c4)\n(cherry picked from commit 58b65c1da8a23f3b210896ca09bbd438de9a3227)\n'}, {'number': 3, 'created': '2019-09-06 11:41:02.000000000', 'files': ['releasenotes/notes/nova_move_host_discovery_to_external_post_deploy_tasks-e978560ee59b8b56.yaml', 'docker/services/nova-ironic.yaml', 'docker_config_scripts/nova_cell_v2_discover_hosts.py', 'docker/services/nova-compute-common.yaml', 'tools/yaml-validate.py', 'docker/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fe26cb764bdc64a5439abe66c2ce4f5cca4165ba', 'message': 'Move nova cell v2 discovery to deploy_steps_tasks\n\nRecent changes for e.g edge scenarios caused intended move of discovery\nfrom controller to bootstrap compute node. The task is triggered by\ndeploy-identifier to make sure it gets run on any deploy,scale, ... run.\nIf deploy run is triggered with --skip-deploy-identifier flag, discovery\nwill not be triggered at and as result causing failures in previously\nsupported scenarios.\nThis change moves the host discovery task to be an ansible\ndeploy_steps_tasks that it gets triggered even if --skip-deploy-identifier\nis used, or the compute bootstrap node is blacklisted.\n\nCloses-Bug: #1831711\n\n Conflicts:\n\tdeployment/nova/nova-compute-container-puppet.yaml\n\tdocker/services/nova-compute-common.yaml\n\tdocker/services/nova-ironic.yaml\n\tdocker_config_scripts/nova_cell_v2_discover_hosts.py\n\nChange-Id: I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb\n(cherry picked from commit f8779e5023c7b5dd54dd879d4f5431ed4742e9e1)\n(cherry picked from commit b82417126b53d602d3df28ce0d7d2b31a9e5f1c4)\n(cherry picked from commit 58b65c1da8a23f3b210896ca09bbd438de9a3227)\n'}]",1,669827,fe26cb764bdc64a5439abe66c2ce4f5cca4165ba,24,10,3,17216,,,0,"Move nova cell v2 discovery to deploy_steps_tasks

Recent changes for e.g edge scenarios caused intended move of discovery
from controller to bootstrap compute node. The task is triggered by
deploy-identifier to make sure it gets run on any deploy,scale, ... run.
If deploy run is triggered with --skip-deploy-identifier flag, discovery
will not be triggered at and as result causing failures in previously
supported scenarios.
This change moves the host discovery task to be an ansible
deploy_steps_tasks that it gets triggered even if --skip-deploy-identifier
is used, or the compute bootstrap node is blacklisted.

Closes-Bug: #1831711

 Conflicts:
	deployment/nova/nova-compute-container-puppet.yaml
	docker/services/nova-compute-common.yaml
	docker/services/nova-ironic.yaml
	docker_config_scripts/nova_cell_v2_discover_hosts.py

Change-Id: I4bd8489e4f79e3e1bfe9338ed3043241dd605dcb
(cherry picked from commit f8779e5023c7b5dd54dd879d4f5431ed4742e9e1)
(cherry picked from commit b82417126b53d602d3df28ce0d7d2b31a9e5f1c4)
(cherry picked from commit 58b65c1da8a23f3b210896ca09bbd438de9a3227)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/27/669827/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/nova_move_host_discovery_to_external_post_deploy_tasks-e978560ee59b8b56.yaml', 'docker/services/nova-ironic.yaml', 'docker_config_scripts/nova_cell_v2_discover_hosts.py', 'docker/services/nova-compute-common.yaml', 'docker/services/nova-compute.yaml']",5,c1dabe02486c47331108547bda430bf0cf5a24c2,bug/1831711," deploy_steps_tasks: {get_attr: [NovaComputeCommon, nova_compute_common_deploy_steps_tasks]}"," step_5: nova_cell_v2_discover_hosts: start_order: 0 image: *nova_compute_image net: host detach: false volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/config-data/nova_libvirt/etc/my.cnf.d/:/etc/my.cnf.d/:ro - /var/lib/config-data/nova_libvirt/etc/nova/:/etc/nova/:ro - /var/log/containers/nova:/var/log/nova - /var/lib/docker-config-scripts/:/docker-config-scripts/ user: root command: ""/usr/bin/bootstrap_host_exec nova_compute su nova -s /bin/bash -c '/docker-config-scripts/nova_cell_v2_discover_hosts.py'"" environment: # NOTE: this should force this container to re-run on each # update (scale-out, etc.) - list_join: - '' - - 'TRIPLEO_DEPLOY_IDENTIFIER=' - {get_param: DeployIdentifier}",38,97
openstack%2Fcloudkitty-specs~master~Ie70aaa076462c7a1f3e4f84a63af5f95f381dfde,openstack/cloudkitty-specs,master,Ie70aaa076462c7a1f3e4f84a63af5f95f381dfde,Add support for PDF documentation,MERGED,2019-09-17 08:02:52.000000000,2019-09-17 13:12:48.000000000,2019-09-17 13:12:48.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-09-17 08:02:52.000000000', 'files': ['requirements.txt', 'doc/source/conf.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/ce74be39338206d8330e216656bada2860108cde', 'message': 'Add support for PDF documentation\n\nChange-Id: Ie70aaa076462c7a1f3e4f84a63af5f95f381dfde\nStory: 2006075\nTask: 34810\n'}]",0,682571,ce74be39338206d8330e216656bada2860108cde,11,3,1,23060,,,0,"Add support for PDF documentation

Change-Id: Ie70aaa076462c7a1f3e4f84a63af5f95f381dfde
Story: 2006075
Task: 34810
",git fetch https://review.opendev.org/openstack/cloudkitty-specs refs/changes/71/682571/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'doc/source/conf.py', 'tox.ini']",3,ce74be39338206d8330e216656bada2860108cde,, [testenv:pdf-docs] basepython = python3 envdir = {toxworkdir}/docs whitelist_externals = make commands = sphinx-build -b latex doc/source doc/build/pdf make -C doc/build/pdf,,21,10
openstack%2Fopenstacksdk~master~Ie39067b6e9217eed63f5ae46331ab8a408f0ace6,openstack/openstacksdk,master,Ie39067b6e9217eed63f5ae46331ab8a408f0ace6,Properly convert baremetal fields to server-side values,MERGED,2019-09-06 10:04:05.000000000,2019-09-17 13:12:26.000000000,2019-09-17 13:11:13.000000000,"[{'_account_id': 2}, {'_account_id': 6873}, {'_account_id': 10239}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27900}, {'_account_id': 29745}]","[{'number': 1, 'created': '2019-09-06 10:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b8fff0ca092fa778f63ac270e6d26263f21336f8', 'message': ""Properly convert baremetal fields to server-side values\n\nCurrently we pass the 'fields' argument as it is. If a caller provides\na client-side name instead of a server-side one (e.g. id instead of uuid),\nit results in a failure. This patch fixes it.\n\nChange-Id: Ie39067b6e9217eed63f5ae46331ab8a408f0ace6\n""}, {'number': 2, 'created': '2019-09-06 12:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5abbe0f9a09402d52d32eded9dbdbe215392f700', 'message': ""Properly convert baremetal fields to server-side values\n\nCurrently we pass the 'fields' argument as it is. If a caller provides\na client-side name instead of a server-side one (e.g. id instead of uuid),\nit results in a failure. This patch fixes it.\n\nChange-Id: Ie39067b6e9217eed63f5ae46331ab8a408f0ace6\n""}, {'number': 3, 'created': '2019-09-06 13:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1793c952407a5acb8f4e3ca972266480a043dede', 'message': ""Properly convert baremetal fields to server-side values\n\nCurrently we pass the 'fields' argument as it is. If a caller provides\na client-side name instead of a server-side one (e.g. id instead of uuid),\nit results in a failure. This patch fixes it.\n\nChange-Id: Ie39067b6e9217eed63f5ae46331ab8a408f0ace6\n""}, {'number': 4, 'created': '2019-09-06 14:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/21133f096e50ef4ff790b660464dab431a84b14b', 'message': ""Properly convert baremetal fields to server-side values\n\nCurrently we pass the 'fields' argument as it is. If a caller provides\na client-side name instead of a server-side one (e.g. id instead of uuid),\nit results in a failure. This patch fixes it.\n\nRelated-Bug: #1842989\nChange-Id: Ie39067b6e9217eed63f5ae46331ab8a408f0ace6\n""}, {'number': 5, 'created': '2019-09-06 15:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e0d8904b082e4fc7d79d3ed2d671e368dd857218', 'message': ""Properly convert baremetal fields to server-side values\n\nCurrently we pass the 'fields' argument as it is. If a caller provides\na client-side name instead of a server-side one (e.g. id instead of uuid),\nit results in a failure. This patch fixes it.\n\nRelated-Bug: #1842989\nChange-Id: Ie39067b6e9217eed63f5ae46331ab8a408f0ace6\n""}, {'number': 6, 'created': '2019-09-06 15:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e53f07c2417ccd237c2e89ef0cadd0af75ed1046', 'message': ""Properly convert baremetal fields to server-side values\n\nCurrently we pass the 'fields' argument as it is. If a caller provides\na client-side name instead of a server-side one (e.g. id instead of uuid),\nit results in a failure. This patch fixes it.\n\nRelated-Bug: #1842989\nChange-Id: Ie39067b6e9217eed63f5ae46331ab8a408f0ace6\n""}, {'number': 7, 'created': '2019-09-09 12:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/be14e9cd181411922fdfa78a10b5103fb131eab1', 'message': ""Properly convert baremetal fields to server-side values\n\nCurrently we pass the 'fields' argument as it is. If a caller provides\na client-side name instead of a server-side one (e.g. id instead of uuid),\nit results in a failure. This patch fixes it.\n\nRelated-Bug: #1842989\nChange-Id: Ie39067b6e9217eed63f5ae46331ab8a408f0ace6\n""}, {'number': 8, 'created': '2019-09-11 11:48:02.000000000', 'files': ['openstack/baremetal/v1/_proxy.py', 'openstack/baremetal/v1/port.py', 'openstack/tests/functional/baremetal/test_baremetal_port.py', 'openstack/message/v2/queue.py', 'openstack/tests/functional/baremetal/test_baremetal_node.py', 'openstack/baremetal/v1/_common.py', 'openstack/baremetal/v1/chassis.py', 'openstack/baremetal/v1/port_group.py', 'openstack/tests/unit/baremetal/v1/test_proxy.py', 'openstack/tests/unit/test_resource.py', 'openstack/resource.py', 'releasenotes/notes/baremetal-fields-convert-857b8804327f1e86.yaml', 'openstack/message/v2/subscription.py', 'openstack/baremetal/v1/allocation.py', 'openstack/baremetal/v1/node.py', 'openstack/message/v2/message.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cdaa1045f976a16d748119c9f7d8ba034970edd7', 'message': ""Properly convert baremetal fields to server-side values\n\nCurrently we pass the 'fields' argument as it is. If a caller provides\na client-side name instead of a server-side one (e.g. id instead of uuid),\nit results in a failure. This patch fixes it.\n\nAlso stops requiring redundant 'name' for QueryParameters that are\nspecified as a dictionary (like fields).\n\nRelated-Bug: #1842989\nChange-Id: Ie39067b6e9217eed63f5ae46331ab8a408f0ace6\n""}]",17,680649,cdaa1045f976a16d748119c9f7d8ba034970edd7,34,8,8,10239,,,0,"Properly convert baremetal fields to server-side values

Currently we pass the 'fields' argument as it is. If a caller provides
a client-side name instead of a server-side one (e.g. id instead of uuid),
it results in a failure. This patch fixes it.

Also stops requiring redundant 'name' for QueryParameters that are
specified as a dictionary (like fields).

Related-Bug: #1842989
Change-Id: Ie39067b6e9217eed63f5ae46331ab8a408f0ace6
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/49/680649/8 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/baremetal/v1/_proxy.py', 'openstack/tests/unit/baremetal/v1/test_proxy.py', 'openstack/resource.py', 'releasenotes/notes/baremetal-fields-convert-857b8804327f1e86.yaml', 'openstack/tests/functional/baremetal/test_baremetal_node.py']",5,b8fff0ca092fa778f63ac270e6d26263f21336f8,baremetal-fields," with_fields = self.conn.baremetal.get_node( 'node-name', fields=['uuid', 'driver', 'instance_id']) result = self.conn.baremetal.nodes( fields=['uuid', 'name', 'instance_id'])"," with_fields = self.conn.baremetal.get_node('node-name', fields=['uuid', 'driver']) result = self.conn.baremetal.nodes(fields=['uuid', 'name'])",33,8
openstack%2Fpymod2pkg~master~I0918126db3f5bf51f2bc327663065b9a6933b6da,openstack/pymod2pkg,master,I0918126db3f5bf51f2bc327663065b9a6933b6da,Add sphinxcontrib-svg2pdfconverter mapping for RDO,MERGED,2019-09-17 08:41:31.000000000,2019-09-17 12:55:22.000000000,2019-09-17 12:54:06.000000000,"[{'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 13294}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 08:41:31.000000000', 'files': ['pymod2pkg/__init__.py'], 'web_link': 'https://opendev.org/openstack/pymod2pkg/commit/caf23616be04e31794aecaa4ffa9456a104b5086', 'message': 'Add sphinxcontrib-svg2pdfconverter mapping for RDO\n\nThe Fedora package for sphinxcontrib-svg2pdfconverter is split into\ntwo main packages: sphinxcontrib-rsvgconverter and\nsphinxcontrib-inkscapeconverter, with a -common subpackage for common\nassets. For the OpenStack use case, we want to use the rsvg-based\nconverter.\n\nChange-Id: I0918126db3f5bf51f2bc327663065b9a6933b6da\n'}]",0,682585,caf23616be04e31794aecaa4ffa9456a104b5086,12,6,1,13294,,,0,"Add sphinxcontrib-svg2pdfconverter mapping for RDO

The Fedora package for sphinxcontrib-svg2pdfconverter is split into
two main packages: sphinxcontrib-rsvgconverter and
sphinxcontrib-inkscapeconverter, with a -common subpackage for common
assets. For the OpenStack use case, we want to use the rsvg-based
converter.

Change-Id: I0918126db3f5bf51f2bc327663065b9a6933b6da
",git fetch https://review.opendev.org/openstack/pymod2pkg refs/changes/85/682585/1 && git format-patch -1 --stdout FETCH_HEAD,['pymod2pkg/__init__.py'],1,caf23616be04e31794aecaa4ffa9456a104b5086,," SingleRule('sphinxcontrib-svg2pdfconverter', 'python-sphinxcontrib-rsvgconverter', py3pkg='python3-sphinxcontrib-rsvgconverter'),",,3,0
openstack%2Frpm-packaging~master~I5400b7c7f94332f0bdcb54d94acc9798afca86ac,openstack/rpm-packaging,master,I5400b7c7f94332f0bdcb54d94acc9798afca86ac,nova: Add new build requires to for doc build,ABANDONED,2019-09-17 11:05:35.000000000,2019-09-17 12:44:14.000000000,,"[{'_account_id': 2062}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-17 11:05:35.000000000', 'files': ['openstack/nova/nova.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b3ac81a1bd92533f2c184f290304817d86c5bf9c', 'message': 'nova: Add new build requires to for doc build\n\nthis was added in I3aaea1d15a357f550f529beaa84fb1a1a7748358\n\nChange-Id: I5400b7c7f94332f0bdcb54d94acc9798afca86ac\n'}]",0,682615,b3ac81a1bd92533f2c184f290304817d86c5bf9c,5,3,1,6593,,,0,"nova: Add new build requires to for doc build

this was added in I3aaea1d15a357f550f529beaa84fb1a1a7748358

Change-Id: I5400b7c7f94332f0bdcb54d94acc9798afca86ac
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/15/682615/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/nova/nova.spec.j2'],1,b3ac81a1bd92533f2c184f290304817d86c5bf9c,,BuildRequires: {{ py3('sphinxcontrib-svg2pdfconverter') }},,1,0
openstack%2Fkayobe~stable%2Frocky~I8efee18cf28344a6af44acbe1ca1d4470f7258fe,openstack/kayobe,stable/rocky,I8efee18cf28344a6af44acbe1ca1d4470f7258fe,Fix after x/kayobe rename,MERGED,2019-09-17 08:00:35.000000000,2019-09-17 12:43:00.000000000,2019-09-17 12:43:00.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-09-17 08:00:35.000000000', 'files': ['playbooks/kayobe-overcloud-upgrade-base/post.yml', '.gitreview', 'playbooks/kayobe-seed-base/run.yml', 'playbooks/kayobe-seed-base/pre.yml', 'playbooks/kayobe-seed-base/post.yml', 'playbooks/kayobe-overcloud-upgrade-base/run.yml', 'playbooks/kayobe-seed-upgrade-base/run.yml', 'playbooks/kayobe-overcloud-base/post.yml', 'playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/pre.yml', 'playbooks/kayobe-overcloud-base/run.yml', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml', 'zuul.d/jobs.yaml', 'playbooks/kayobe-seed-upgrade-base/post.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1e4c002aaff77e87b4ab7643704c07903200267c', 'message': 'Fix after x/kayobe rename\n\nUpdate .git review and zuul configuration.\n\nChange-Id: I8efee18cf28344a6af44acbe1ca1d4470f7258fe\n(cherry picked from commit aea7117764ee3ced0ccb7477c5c962569fa1c926)\n'}]",0,682570,1e4c002aaff77e87b4ab7643704c07903200267c,8,3,1,14826,,,0,"Fix after x/kayobe rename

Update .git review and zuul configuration.

Change-Id: I8efee18cf28344a6af44acbe1ca1d4470f7258fe
(cherry picked from commit aea7117764ee3ced0ccb7477c5c962569fa1c926)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/70/682570/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-overcloud-upgrade-base/post.yml', '.gitreview', 'playbooks/kayobe-seed-base/run.yml', 'playbooks/kayobe-seed-base/pre.yml', 'playbooks/kayobe-seed-base/post.yml', 'playbooks/kayobe-overcloud-upgrade-base/run.yml', 'playbooks/kayobe-seed-upgrade-base/run.yml', 'playbooks/kayobe-overcloud-base/post.yml', 'playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/pre.yml', 'playbooks/kayobe-overcloud-base/run.yml', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml', 'zuul.d/jobs.yaml', 'playbooks/kayobe-seed-upgrade-base/post.yml']",14,1e4c002aaff77e87b4ab7643704c07903200267c,fix-rename," kayobe_diagnostics_config_dir: ""{{ ansible_env.PWD ~ '/' ~ zuul.projects['opendev.org/openstack/kayobe-config-dev'].src_dir }}"""," kayobe_diagnostics_config_dir: ""{{ ansible_env.PWD ~ '/' ~ zuul.projects['opendev.org/x/kayobe-config-dev'].src_dir }}""",29,29
openstack%2Fnetworking-ovn~stable%2Fstein~I5d83c941b0f47720fd69f0bdf24f399e7b9c5f9f,openstack/networking-ovn,stable/stein,I5d83c941b0f47720fd69f0bdf24f399e7b9c5f9f,[trunk_driver] Use neutron_lib constants,ABANDONED,2019-09-17 09:58:56.000000000,2019-09-17 12:43:00.000000000,,[],"[{'number': 1, 'created': '2019-09-17 09:58:56.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_trunk_driver.py', 'networking_ovn/ml2/trunk_driver.py', 'networking_ovn/tests/functional/test_trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0d79f6a5025e8fc74921d542043c64440c1c2a7c', 'message': '[trunk_driver] Use neutron_lib constants\n\nThis patch is making use of the constants defined in neutron-lib\nfor the OVN trunk driver.\n\nChange-Id: I5d83c941b0f47720fd69f0bdf24f399e7b9c5f9f\nRelated-Bug: #1834637\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}]",0,682596,0d79f6a5025e8fc74921d542043c64440c1c2a7c,2,0,1,23804,,,0,"[trunk_driver] Use neutron_lib constants

This patch is making use of the constants defined in neutron-lib
for the OVN trunk driver.

Change-Id: I5d83c941b0f47720fd69f0bdf24f399e7b9c5f9f
Related-Bug: #1834637
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/96/682596/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ml2/test_trunk_driver.py', 'networking_ovn/ml2/trunk_driver.py', 'networking_ovn/tests/functional/test_trunk_driver.py']",3,0d79f6a5025e8fc74921d542043c64440c1c2a7c,bug/1834637,"from neutron_lib.services.trunk import constants as trunk_consts self.trunk_plugin.add_segmentation_type( trunk_consts.SEGMENTATION_TYPE_VLAN, utils.is_valid_vlan_tag) self.assertEqual(trunk_consts.TRUNK_ACTIVE_STATUS, trunk['status'])","from neutron.services.trunk import constants as trunk_consts self.trunk_plugin.add_segmentation_type(trunk_consts.VLAN, utils.is_valid_vlan_tag) self.assertEqual(trunk_consts.ACTIVE_STATUS, trunk['status'])",18,17
openstack%2Ftripleo-ansible~master~Iaf988eaf3136c93703aac972a0e853c98a888e65,openstack/tripleo-ansible,master,Iaf988eaf3136c93703aac972a0e853c98a888e65,Introduce new module for Paunch,MERGED,2019-09-13 15:40:49.000000000,2019-09-17 11:38:11.000000000,2019-09-17 11:36:46.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-13 15:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/37c582789a75d337b98db546b908fcb324b965bf', 'message': 'Introduce new module for Paunch\n\nNow, it only supports ""apply"" which is called by THT but later we could\nadd other actions that are supported by the CLI.\n\nExample of usage:\n\n- name: Start containers for step 1\n  paunch:\n    file: /var/lib/tripleo-config/hashed-container-startup-config-step_1.json\n    config_id: tripleo_step1\n\nChange-Id: Iaf988eaf3136c93703aac972a0e853c98a888e65\n'}, {'number': 2, 'created': '2019-09-13 15:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e39ae57b0c99294c6ca69858665f61a053d8bec0', 'message': 'Introduce new module for Paunch\n\nNow, it only supports ""apply"" which is called by THT but later we could\nadd other actions that are supported by the CLI.\n\nExample of usage:\n\n- name: Start containers for step 1\n  paunch:\n    file: /var/lib/tripleo-config/hashed-container-startup-config-step_1.json\n    config_id: tripleo_step1\n\nChange-Id: Iaf988eaf3136c93703aac972a0e853c98a888e65\n'}, {'number': 3, 'created': '2019-09-13 15:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/06c4a64a14331cc8553e617406d77a2ea78fdbc4', 'message': 'Introduce new module for Paunch\n\nNow, it only supports ""apply"" which is called by THT but later we could\nadd other actions that are supported by the CLI.\n\nExample of usage:\n\n- name: Start containers for step 1\n  paunch:\n    file: /var/lib/tripleo-config/hashed-container-startup-config-step_1.json\n    config_id: tripleo_step1\n\nChange-Id: Iaf988eaf3136c93703aac972a0e853c98a888e65\n'}, {'number': 4, 'created': '2019-09-13 21:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/671c4998c46434fce9dfd2843612ade80924d945', 'message': 'Introduce new module for Paunch\n\nNow, it only supports ""apply"" which is called by THT but later we could\nadd other actions that are supported by the CLI.\n\nExample of usage:\n\n- name: Start containers for step 1\n  paunch:\n    file: /var/lib/tripleo-config/hashed-container-startup-config-step_1.json\n    config_id: tripleo_step1\n\nChange-Id: Iaf988eaf3136c93703aac972a0e853c98a888e65\n'}, {'number': 5, 'created': '2019-09-16 15:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d84743e3b3f7397ebe2290e7800222de0591a1a8', 'message': 'Introduce new module for Paunch\n\nNow, it only supports ""apply"" which is called by THT but later we could\nadd other actions that are supported by the CLI.\n\nExample of usage:\n\n- name: Start containers for step 1\n  paunch:\n    file: /var/lib/tripleo-config/hashed-container-startup-config-step_1.json\n    config_id: tripleo_step1\n\nChange-Id: Iaf988eaf3136c93703aac972a0e853c98a888e65\n'}, {'number': 6, 'created': '2019-09-16 16:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2b67c191cc5b1314dc004494aed2d284b254c34c', 'message': 'Introduce new module for Paunch\n\nNow, it only supports ""apply"" which is called by THT but later we could\nadd other actions that are supported by the CLI.\n\nExample of usage:\n\n- name: Start containers for step 1\n  paunch:\n    config: /var/lib/tripleo-config/hashed-container-startup-config-step_1.json\n    config_id: tripleo_step1\n\nCo-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>\nChange-Id: Iaf988eaf3136c93703aac972a0e853c98a888e65\n'}, {'number': 7, 'created': '2019-09-16 20:32:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d80dae2efb7e2496f37420e86b42b39610eb12ad', 'message': 'Introduce new module for Paunch\n\nNow, it only supports ""apply"" which is called by THT but later we could\nadd other actions that are supported by the CLI.\n\nExample of usage:\n\n- name: Start containers for step 1\n  paunch:\n    config: /var/lib/tripleo-config/hashed-container-startup-config-step_1.json\n    config_id: tripleo_step1\n\nCo-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>\nChange-Id: Iaf988eaf3136c93703aac972a0e853c98a888e65\n'}, {'number': 8, 'created': '2019-09-17 01:38:13.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/paunch.py', 'requirements.txt', 'doc/source/modules/modules-paunch.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e4d6813b0c902a3b84a9c65bdb54eb16dec0924d', 'message': 'Introduce new module for Paunch\n\nNow, it only supports ""apply"" which is called by THT but later we could\nadd other actions that are supported by the CLI.\n\nExample of usage:\n\n- name: Start containers for step 1\n  paunch:\n    config: /var/lib/tripleo-config/hashed-container-startup-config-step_1.json\n    config_id: tripleo_step1\n\nCo-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>\nChange-Id: Iaf988eaf3136c93703aac972a0e853c98a888e65\n'}]",28,682093,e4d6813b0c902a3b84a9c65bdb54eb16dec0924d,37,7,8,3153,,,0,"Introduce new module for Paunch

Now, it only supports ""apply"" which is called by THT but later we could
add other actions that are supported by the CLI.

Example of usage:

- name: Start containers for step 1
  paunch:
    config: /var/lib/tripleo-config/hashed-container-startup-config-step_1.json
    config_id: tripleo_step1

Co-Authored-By: Sagi Shnaidman <sshnaidm@redhat.com>
Change-Id: Iaf988eaf3136c93703aac972a0e853c98a888e65
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/93/682093/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/paunch.py', 'doc/source/modules/modules-paunch.rst']",2,37c582789a75d337b98db546b908fcb324b965bf,paunch,=============== Module - paunch =============== This module provides for the following ansible plugin: * paunch .. ansibleautoplugin:: :module: tripleo_ansible/ansible_plugins/modules/paunch.py :documentation: true :examples: false ,,188,0
openstack%2Frpm-packaging~master~Ie9755ed02aa48f77cefaf7fe5e9b6edec2370446,openstack/rpm-packaging,master,Ie9755ed02aa48f77cefaf7fe5e9b6edec2370446,"Revert ""monasca-ui: Drop python3 subpackage""",MERGED,2019-09-13 09:17:23.000000000,2019-09-17 11:30:30.000000000,2019-09-17 11:30:30.000000000,"[{'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-13 09:17:23.000000000', 'files': ['openstack/monasca-ui/monasca-ui.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/66d537b7577051ee9e0dcb4a3e5aa000d29dd13d', 'message': 'Revert ""monasca-ui: Drop python3 subpackage""\n\nAlso rename the subpackage to python3-$pypi_name and do some minor\ncleanups on the spec template.\n\nThis reverts commit 8619947584699291414c68f32797869f672f65dc.\n\nChange-Id: Ie9755ed02aa48f77cefaf7fe5e9b6edec2370446\n'}]",0,682003,66d537b7577051ee9e0dcb4a3e5aa000d29dd13d,17,6,1,7102,,,0,"Revert ""monasca-ui: Drop python3 subpackage""

Also rename the subpackage to python3-$pypi_name and do some minor
cleanups on the spec template.

This reverts commit 8619947584699291414c68f32797869f672f65dc.

Change-Id: Ie9755ed02aa48f77cefaf7fe5e9b6edec2370446
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/03/682003/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/monasca-ui/monasca-ui.spec.j2'],1,66d537b7577051ee9e0dcb4a3e5aa000d29dd13d,,Requires: python3-{{ pypi_name }} = %{version}-%{release}%package -n python3-{{ pypi_name }} Summary: Monasca Plugin for Horizon - Python module Requires: {{ py3('Django') }} Requires: {{ py3('python-monascaclient') }} Requires: {{ py3('pbr') }} %description -n python3-{{ pypi_name }} The Monasca UI Horizon plugin adds Monitoring panel to the OpenStack dashboard. %files -n python3-{{ pypi_name }} %license LICENSE %doc README.rst %{python3_sitelib}/monitoring %{python3_sitelib}/monasca_ui-*.egg-info ,Requires: {{ py3('Django') }} Requires: {{ py3('python-monascaclient') }} Requires: {{ py3('pbr') }}%{python3_sitelib}/monitoring %{python3_sitelib}/monasca_ui-*.egg-info,16,5
openstack%2Ftripleo-ansible~master~I71a91ef3350bc5d63ff7221f624226391f3e5c69,openstack/tripleo-ansible,master,I71a91ef3350bc5d63ff7221f624226391f3e5c69,Secure podman login,ABANDONED,2019-09-16 10:03:55.000000000,2019-09-17 11:24:09.000000000,,"[{'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13294}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-16 10:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ffa7046f3e587338b739ce5e7fa4ca569cbec5a9', 'message': 'Secure podman login\n\nAvoid using CLI arguments which would eventually expose credentials.\n\nNow, even if an error occurs, the registry_login_podman will not contain\ncredentias.\n\nChange-Id: I71a91ef3350bc5d63ff7221f624226391f3e5c69\n'}, {'number': 2, 'created': '2019-09-16 10:04:43.000000000', 'files': ['tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_login.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e4334c7eb1224bca392b05be7d0aceaf92553b9b', 'message': 'Secure podman login\n\nAvoid using CLI arguments which would eventually expose credentials.\n\nNow, even if an error occurs, the registry_login_podman will not contain\ncredentias.\n\nChange-Id: I71a91ef3350bc5d63ff7221f624226391f3e5c69\n'}]",1,682329,e4334c7eb1224bca392b05be7d0aceaf92553b9b,12,6,2,24162,,,0,"Secure podman login

Avoid using CLI arguments which would eventually expose credentials.

Now, even if an error occurs, the registry_login_podman will not contain
credentias.

Change-Id: I71a91ef3350bc5d63ff7221f624226391f3e5c69
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/29/682329/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_login.yml'],1,ffa7046f3e587338b739ce5e7fa4ca569cbec5a9,," podman login --username={{ lookup('dict', item.value).key }} \ --password-stdin \ {{ item.key }} args: stdin: ""{{ lookup('dict', item.value).value }}"""," podman login --username=$REGISTRY_USERNAME \ --password=$REGISTRY_PASSWORD \ $REGISTRY environment: REGISTRY_USERNAME: ""{{ lookup('dict', item.value).key }}"" REGISTRY_PASSWORD: ""{{ lookup('dict', item.value).value }}"" REGISTRY: ""{{ item.key }}""",5,7
openstack%2Ftripleo-common~master~I77727bbee996d123aea442a76810dcee8e957a8f,openstack/tripleo-common,master,I77727bbee996d123aea442a76810dcee8e957a8f,Ignore failure calling cell_v2_discover_hosts from deployment,MERGED,2019-09-12 23:10:32.000000000,2019-09-17 11:21:11.000000000,2019-09-17 11:19:29.000000000,"[{'_account_id': 3153}, {'_account_id': 10239}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 17499}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-12 23:10:32.000000000', 'files': ['workbooks/deployment.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8a8f6e6e847b8b1a2098c47ca8d0f3b842785082', 'message': 'Ignore failure calling cell_v2_discover_hosts from deployment\n\nThis will fail when there is no nova database configured, as for a\nnova-less undercloud. This call to cell_v2_discover_hosts was added to\nmake sure any recent auto-discovered hosts are mapped to a cell, so I\nthink ignoring all errors is acceptable in this case.\n\nRelated-Bug: #1742179\nChange-Id: I77727bbee996d123aea442a76810dcee8e957a8f\nBlueprint: nova-less-deploy\n'}]",0,681944,8a8f6e6e847b8b1a2098c47ca8d0f3b842785082,15,11,1,4571,,,0,"Ignore failure calling cell_v2_discover_hosts from deployment

This will fail when there is no nova database configured, as for a
nova-less undercloud. This call to cell_v2_discover_hosts was added to
make sure any recent auto-discovered hosts are mapped to a cell, so I
think ignoring all errors is acceptable in this case.

Related-Bug: #1742179
Change-Id: I77727bbee996d123aea442a76810dcee8e957a8f
Blueprint: nova-less-deploy
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/44/681944/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/deployment.yaml'],1,8a8f6e6e847b8b1a2098c47ca8d0f3b842785082,bp/nova-less-deploy, on-complete: send_stack_deployment_message, publish-on-error: message: <% task().result %> on-success: send_stack_deployment_message on-error: set_deployment_failed,1,4
openstack%2Fkayobe~stable%2Fqueens~I8efee18cf28344a6af44acbe1ca1d4470f7258fe,openstack/kayobe,stable/queens,I8efee18cf28344a6af44acbe1ca1d4470f7258fe,Fix after x/kayobe rename,MERGED,2019-09-17 08:03:58.000000000,2019-09-17 11:17:30.000000000,2019-09-17 11:17:30.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-09-17 08:03:58.000000000', 'files': ['playbooks/kayobe-overcloud-upgrade-base/post.yml', '.gitreview', 'playbooks/kayobe-seed-base/run.yml', 'playbooks/kayobe-seed-base/pre.yml', 'playbooks/kayobe-seed-base/post.yml', 'playbooks/kayobe-overcloud-upgrade-base/run.yml', 'playbooks/kayobe-seed-upgrade-base/run.yml', 'playbooks/kayobe-overcloud-base/post.yml', 'playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/pre.yml', 'playbooks/kayobe-overcloud-base/run.yml', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml', 'zuul.d/jobs.yaml', 'playbooks/kayobe-seed-upgrade-base/post.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/317e5c2f5a56bb38d750a47802432d02a2cb4a99', 'message': 'Fix after x/kayobe rename\n\nUpdate .git review and zuul configuration.\n\nChange-Id: I8efee18cf28344a6af44acbe1ca1d4470f7258fe\n(cherry picked from commit aea7117764ee3ced0ccb7477c5c962569fa1c926)\n'}]",0,682572,317e5c2f5a56bb38d750a47802432d02a2cb4a99,8,3,1,14826,,,0,"Fix after x/kayobe rename

Update .git review and zuul configuration.

Change-Id: I8efee18cf28344a6af44acbe1ca1d4470f7258fe
(cherry picked from commit aea7117764ee3ced0ccb7477c5c962569fa1c926)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/72/682572/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-overcloud-upgrade-base/post.yml', '.gitreview', 'playbooks/kayobe-seed-base/run.yml', 'playbooks/kayobe-seed-base/pre.yml', 'playbooks/kayobe-seed-base/post.yml', 'playbooks/kayobe-overcloud-upgrade-base/run.yml', 'playbooks/kayobe-seed-upgrade-base/run.yml', 'playbooks/kayobe-overcloud-base/post.yml', 'playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/pre.yml', 'playbooks/kayobe-overcloud-base/run.yml', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml', 'zuul.d/jobs.yaml', 'playbooks/kayobe-seed-upgrade-base/post.yml']",14,317e5c2f5a56bb38d750a47802432d02a2cb4a99,fix-rename," kayobe_diagnostics_config_dir: ""{{ ansible_env.PWD ~ '/' ~ zuul.projects['opendev.org/openstack/kayobe-config-dev'].src_dir }}"""," kayobe_diagnostics_config_dir: ""{{ ansible_env.PWD ~ '/' ~ zuul.projects['opendev.org/x/kayobe-config-dev'].src_dir }}""",29,29
openstack%2Fkayobe~master~Ia4138179132d3a284b0c4bcc882b87bde22c9cc4,openstack/kayobe,master,Ia4138179132d3a284b0c4bcc882b87bde22c9cc4,Update docs after repo rename x/ to openstack/,MERGED,2019-08-04 17:55:37.000000000,2019-09-17 10:56:50.000000000,2019-09-17 10:55:35.000000000,"[{'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-08-04 17:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/46c04ce67dc7c5fc3d5abd719fd80748337920e7', 'message': 'Update docs after repo rename x/ to openstack/\n\nDepends-On: https://review.opendev.org/669298\nChange-Id: Ia4138179132d3a284b0c4bcc882b87bde22c9cc4\n'}, {'number': 2, 'created': '2019-08-04 18:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/80757a44a93ce1a3fe59e23c2efe70d903368192', 'message': 'Update docs after repo rename x/ to openstack/\n\nDepends-On: https://review.opendev.org/669298\nChange-Id: Ia4138179132d3a284b0c4bcc882b87bde22c9cc4\n'}, {'number': 3, 'created': '2019-09-16 16:41:09.000000000', 'files': ['doc/source/index.rst', 'doc/source/configuration/kayobe.rst', 'doc/source/development/automated.rst', 'doc/source/development/vagrant.rst', 'README.rst', 'doc/source/conf.py', 'doc/source/development/testing.rst', 'doc/source/upgrading.rst', 'doc/source/installation.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7321205c0678b42d41d774a1ff14bec9a4a9c8e1', 'message': 'Update docs after repo rename x/ to openstack/\n\nDepends-On: https://review.opendev.org/669298\nChange-Id: Ia4138179132d3a284b0c4bcc882b87bde22c9cc4\n'}]",0,674505,7321205c0678b42d41d774a1ff14bec9a4a9c8e1,12,4,3,14826,,,0,"Update docs after repo rename x/ to openstack/

Depends-On: https://review.opendev.org/669298
Change-Id: Ia4138179132d3a284b0c4bcc882b87bde22c9cc4
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/05/674505/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/configuration/kayobe.rst', 'doc/source/development/automated.rst', '.gitreview', 'doc/source/development/vagrant.rst', 'README.rst', 'doc/source/conf.py', 'doc/source/development/testing.rst', 'doc/source/upgrading.rst', 'zuul.d/jobs.yaml', 'doc/source/installation.rst']",11,46c04ce67dc7c5fc3d5abd719fd80748337920e7,, $ git clone https://opendev.org/openstack/kayobe.git, $ git clone https://opendev.org/x/kayobe.git,23,22
openstack%2Fkayobe~stable%2Fpike~I8efee18cf28344a6af44acbe1ca1d4470f7258fe,openstack/kayobe,stable/pike,I8efee18cf28344a6af44acbe1ca1d4470f7258fe,Fix after x/kayobe rename,MERGED,2019-09-17 08:07:48.000000000,2019-09-17 10:55:35.000000000,2019-09-17 10:55:35.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-09-17 08:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/58408329adeb5cd6c3de8790a078dbe6c1080699', 'message': 'Fix after x/kayobe rename\n\nUpdate .git review and zuul configuration.\n\nChange-Id: I8efee18cf28344a6af44acbe1ca1d4470f7258fe\n(cherry picked from commit aea7117764ee3ced0ccb7477c5c962569fa1c926)\n'}, {'number': 2, 'created': '2019-09-17 09:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/19530723813e46b913d1246ee4561060d9332da0', 'message': 'Fix after x/kayobe rename\n\nUpdate .git review, docs, and zuul configuration.\n\nChange-Id: I8efee18cf28344a6af44acbe1ca1d4470f7258fe\n(cherry picked from commit aea7117764ee3ced0ccb7477c5c962569fa1c926)\n'}, {'number': 3, 'created': '2019-09-17 10:04:01.000000000', 'files': ['.gitreview', 'playbooks/kayobe-seed-base/run.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f9ad13c59e55f61fb8a9638d0ccbdebaea82df5c', 'message': 'Fix after x/kayobe rename\n\nUpdate .git review and zuul configuration.\n\nChange-Id: I8efee18cf28344a6af44acbe1ca1d4470f7258fe\n(cherry picked from commit aea7117764ee3ced0ccb7477c5c962569fa1c926)\n'}]",0,682573,f9ad13c59e55f61fb8a9638d0ccbdebaea82df5c,12,3,3,14826,,,0,"Fix after x/kayobe rename

Update .git review and zuul configuration.

Change-Id: I8efee18cf28344a6af44acbe1ca1d4470f7258fe
(cherry picked from commit aea7117764ee3ced0ccb7477c5c962569fa1c926)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/73/682573/3 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'playbooks/kayobe-seed-base/run.yml']",2,58408329adeb5cd6c3de8790a078dbe6c1080699,fix-rename," kayobe_src_dir: ""{{ ansible_env.PWD ~ '/' ~ zuul.projects['opendev.org/openstack/kayobe'].src_dir }}"""," kayobe_src_dir: ""{{ ansible_env.PWD ~ '/' ~ zuul.projects['opendev.org/x/kayobe'].src_dir }}""",2,2
openstack%2Fkayobe~stable%2Focata~I8efee18cf28344a6af44acbe1ca1d4470f7258fe,openstack/kayobe,stable/ocata,I8efee18cf28344a6af44acbe1ca1d4470f7258fe,Fix after x/kayobe rename,MERGED,2019-09-17 08:08:59.000000000,2019-09-17 10:13:23.000000000,2019-09-17 10:13:23.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-09-17 08:08:59.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8b7213aadb497dc20831cf7b446b9adc5c00bb95', 'message': 'Fix after x/kayobe rename\n\nUpdate .git review and zuul configuration.\n\nChange-Id: I8efee18cf28344a6af44acbe1ca1d4470f7258fe\n(cherry picked from commit aea7117764ee3ced0ccb7477c5c962569fa1c926)\n'}]",0,682574,8b7213aadb497dc20831cf7b446b9adc5c00bb95,8,3,1,14826,,,0,"Fix after x/kayobe rename

Update .git review and zuul configuration.

Change-Id: I8efee18cf28344a6af44acbe1ca1d4470f7258fe
(cherry picked from commit aea7117764ee3ced0ccb7477c5c962569fa1c926)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/74/682574/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,8b7213aadb497dc20831cf7b446b9adc5c00bb95,fix-rename,project=openstack/kayobe.git,project=x/kayobe.git,1,1
openstack%2Ftripleo-validations~master~I3a027282243db1645361e987cc63f7b6f6fc78ce,openstack/tripleo-validations,master,I3a027282243db1645361e987cc63f7b6f6fc78ce,Add different logic when running against the Undercloud or the Controller,MERGED,2019-06-17 13:11:13.000000000,2019-09-17 10:03:33.000000000,2019-09-10 22:55:51.000000000,"[{'_account_id': 6681}, {'_account_id': 6773}, {'_account_id': 7144}, {'_account_id': 10237}, {'_account_id': 11082}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-17 13:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/626b6e4bf21f4b1e5295f493c92942b82517a81c', 'message': ""Add different logic when running against the Undercloud or the Controller\n\nThe 'neutron-sanity-check role could be executed against the UC but also\nagainst the Controller nodes. However, the 'container_cli' variable comes\nfrom two different sources of information. This roles should manage this.\n\nOVN is now the default ML2 plugin for the OC nodes while the UC is still\nusing OVS. Then, this role has to run the 'neutron-sanity-check' command\non two different containers as well:\n  - Undercloud -> neutron_ovs_agent\n  - Controller -> ovn_controller\n\nThis patches fixes both of these issues.\n\nChange-Id: I3a027282243db1645361e987cc63f7b6f6fc78ce\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 2, 'created': '2019-06-17 14:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/87e0a94ae98a6460551811579a930ee7db4044a8', 'message': ""Add different logic when running against the Undercloud or the Controller\n\nThe 'neutron-sanity-check role could be executed against the UC but also\nagainst the Controller nodes. However, the 'container_cli' variable comes\nfrom two different sources of information. This roles should manage this.\n\nOVN is now the default ML2 plugin for the OC nodes while the UC is still\nusing OVS. Then, this role has to run the 'neutron-sanity-check' command\non two different containers as well:\n  - Undercloud -> neutron_ovs_agent\n  - Controller -> ovn_controller\n\nThis patches fixes both of these issues.\n\nChange-Id: I3a027282243db1645361e987cc63f7b6f6fc78ce\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 3, 'created': '2019-07-05 15:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c86402bedb3d17b9aa8208222e0ed2512676e5ca', 'message': ""Add different logic when running against the Undercloud or the Controller\n\nThe 'neutron-sanity-check role could be executed against the UC but also\nagainst the Controller nodes. However, the 'container_cli' variable comes\nfrom two different sources of information. This roles should manage this.\n\nOVN is now the default ML2 plugin for the OC nodes while the UC is still\nusing OVS. Then, this role has to run the 'neutron-sanity-check' command\non two different containers as well:\n  - Undercloud -> neutron_ovs_agent\n  - Controller -> neutron_api\n\nThis patches fixes both of these issues.\n\nChange-Id: I3a027282243db1645361e987cc63f7b6f6fc78ce\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 4, 'created': '2019-07-22 14:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ae6a2bd4c4afa8ca67e26d7438aa051ad2d7a5a4', 'message': ""Add different logic when running against the Undercloud or the Controller\n\nThe 'neutron-sanity-check role could be executed against the UC but also\nagainst the Controller nodes. However, the 'container_cli' variable comes\nfrom two different sources of information. This roles should manage this.\n\nOVN is now the default ML2 plugin for the OC nodes while the UC is still\nusing OVS. Then, this role has to run the 'neutron-sanity-check' command\non two different containers as well:\n  - Undercloud -> neutron_ovs_agent\n  - Controller -> neutron_api\n\nThis patches fixes both of these issues.\n\nChange-Id: I3a027282243db1645361e987cc63f7b6f6fc78ce\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 5, 'created': '2019-09-09 14:21:19.000000000', 'files': ['roles/neutron-sanity-check/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8657467d74ad4ff6b684f39944607c21f5888dfb', 'message': ""Add different logic when running against the Undercloud or the Controller\n\nThe 'neutron-sanity-check role could be executed against the UC but also\nagainst the Controller nodes. However, the 'container_cli' variable comes\nfrom two different sources of information. This roles should manage this.\n\nOVN is now the default ML2 plugin for the OC nodes while the UC is still\nusing OVS. Then, this role has to run the 'neutron-sanity-check' command\non two different containers as well:\n  - Undercloud -> neutron_ovs_agent\n  - Controller -> neutron_api\n\nThis patches fixes both of these issues.\n\nChange-Id: I3a027282243db1645361e987cc63f7b6f6fc78ce\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}]",0,665661,8657467d74ad4ff6b684f39944607c21f5888dfb,20,10,5,11491,,,0,"Add different logic when running against the Undercloud or the Controller

The 'neutron-sanity-check role could be executed against the UC but also
against the Controller nodes. However, the 'container_cli' variable comes
from two different sources of information. This roles should manage this.

OVN is now the default ML2 plugin for the OC nodes while the UC is still
using OVS. Then, this role has to run the 'neutron-sanity-check' command
on two different containers as well:
  - Undercloud -> neutron_ovs_agent
  - Controller -> neutron_api

This patches fixes both of these issues.

Change-Id: I3a027282243db1645361e987cc63f7b6f6fc78ce
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/61/665661/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/neutron-sanity-check/tasks/main.yml'],1,626b6e4bf21f4b1e5295f493c92942b82517a81c,neutron-sanity-check,"- when: ""'Undercloud' in group_names"" block: - name: Get the path of tripleo undercloud config file become: true hiera: name=""tripleo_undercloud_conf_file"" - name: Get the Container CLI from the undercloud.conf file become: true ini: path: ""{{ tripleo_undercloud_conf_file }}"" section: DEFAULT key: container_cli ignore_missing_file: true register: container_cli - name: Set neutron_container for the Undercloud set_fact: container_name: ""neutron_ovs_agent"" - when: ""'Controller' in group_names"" block: - name: Set container_cli fact from the inventory set_fact: container_cli: ""{{ hostvars[inventory_hostname].container_cli }}"" - name: Set neutron_container for the Undercloud set_fact: container_name: ""ovn_controller"" exec -u root {{ container_name }}","- name: Get the path of tripleo undercloud config file become: true hiera: name=""tripleo_undercloud_conf_file"" - name: Get the Container CLI from the undercloud.conf file become: true ini: path: ""{{ tripleo_undercloud_conf_file }}"" section: DEFAULT key: container_cli ignore_missing_file: true register: container_cli exec -u root neutron_ovs_agent",28,12
openstack%2Foctavia~stable%2Fstein~Iaa34db6cb1dfed98e96a585c5d105e263c7efa65,openstack/octavia,stable/stein,Iaa34db6cb1dfed98e96a585c5d105e263c7efa65,Fixed down server issue after reloading keepalived,MERGED,2019-08-08 14:45:00.000000000,2019-09-17 10:00:12.000000000,2019-09-17 09:58:42.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-08-08 14:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/92b1e38a20da53e37577555e51edb1a1b3f5f6f0', 'message': 'Fixed down server issue after reloading keepalived\n\nWhen removing a UDP health monitor, keepalived is reloaded with a\nconfiguration without any checkers.\nBut if keepalived has previously detected a down server, the state of\nthe server is unchanged and it will never be added to the list of IPVS\nservers.\n\nRestarting keepalived on configuration change works around this issue.\n\nThis issue is fixed in keepalived (>=2.0.14):\nhttps://github.com/acassen/keepalived/issues/1163\n\nStory: 2005774\nTask: 33491\n\nChange-Id: Iaa34db6cb1dfed98e96a585c5d105e263c7efa65\n(cherry picked from commit 0a9f587015176723768a8a861265fda797c5d52e)\n'}, {'number': 2, 'created': '2019-09-06 06:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/379c61a5a290afbd2f0da81c6adc7fb3ac8a8b46', 'message': 'Fixed down server issue after reloading keepalived\n\nWhen removing a UDP health monitor, keepalived is reloaded with a\nconfiguration without any checkers.\nBut if keepalived has previously detected a down server, the state of\nthe server is unchanged and it will never be added to the list of IPVS\nservers.\n\nRestarting keepalived on configuration change works around this issue.\n\nThis issue is fixed in keepalived (>=2.0.14):\nhttps://github.com/acassen/keepalived/issues/1163\n\nStory: 2005774\nTask: 33491\n\nChange-Id: Iaa34db6cb1dfed98e96a585c5d105e263c7efa65\n(cherry picked from commit 0a9f587015176723768a8a861265fda797c5d52e)\n'}, {'number': 3, 'created': '2019-09-12 08:43:26.000000000', 'files': ['octavia/common/constants.py', 'releasenotes/notes/fix-udp-server-status-bug-db4d3e38bcdf0554.yaml', 'octavia/amphorae/backends/agent/api_server/keepalivedlvs.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/cf53bc6543679a33016b1dd4805e6b8c5f4eca28', 'message': 'Fixed down server issue after reloading keepalived\n\nWhen removing a UDP health monitor, keepalived is reloaded with a\nconfiguration without any checkers.\nBut if keepalived has previously detected a down server, the state of\nthe server is unchanged and it will never be added to the list of IPVS\nservers.\n\nRestarting keepalived on configuration change works around this issue.\n\nThis issue is fixed in keepalived (>=2.0.14):\nhttps://github.com/acassen/keepalived/issues/1163\n\nStory: 2005774\nTask: 33491\n\nChange-Id: Iaa34db6cb1dfed98e96a585c5d105e263c7efa65\n(cherry picked from commit 0a9f587015176723768a8a861265fda797c5d52e)\n'}]",0,675363,cf53bc6543679a33016b1dd4805e6b8c5f4eca28,20,7,3,29244,,,0,"Fixed down server issue after reloading keepalived

When removing a UDP health monitor, keepalived is reloaded with a
configuration without any checkers.
But if keepalived has previously detected a down server, the state of
the server is unchanged and it will never be added to the list of IPVS
servers.

Restarting keepalived on configuration change works around this issue.

This issue is fixed in keepalived (>=2.0.14):
https://github.com/acassen/keepalived/issues/1163

Story: 2005774
Task: 33491

Change-Id: Iaa34db6cb1dfed98e96a585c5d105e263c7efa65
(cherry picked from commit 0a9f587015176723768a8a861265fda797c5d52e)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/63/675363/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/constants.py', 'releasenotes/notes/fix-udp-server-status-bug-db4d3e38bcdf0554.yaml', 'octavia/amphorae/backends/agent/api_server/keepalivedlvs.py']",3,92b1e38a20da53e37577555e51edb1a1b3f5f6f0,," # When octavia requests a reload of keepalived, force a restart since # a keepalived reload doesn't restore members in their initial state. # # TODO(gthiemonge) remove this when keepalived>=2.0.14 is widely use if action == consts.AMP_ACTION_RELOAD: action = consts.AMP_ACTION_RESTART ",,20,0
openstack%2Foctavia~stable%2Fstein~I75cde3ff820f085aebbdffd1e40c5ff40f16835d,openstack/octavia,stable/stein,I75cde3ff820f085aebbdffd1e40c5ff40f16835d,Fixed pool and members status with UDP loadbalancers,MERGED,2019-08-08 14:45:00.000000000,2019-09-17 09:58:50.000000000,2019-09-17 09:57:22.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-08-08 14:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/edb767399c3d96425591aaebc9a86cd01411d17c', 'message': 'Fixed pool and members status with UDP loadbalancers\n\nThis commit fixes pool and members status when using UDP loadbalancers.\n\nStory: 2005736\nTask: 33394\n\nChange-Id: I75cde3ff820f085aebbdffd1e40c5ff40f16835d\n(cherry picked from commit 4decb6d53c728ba0e7b15c6f46a9c2b5251b4088)\n'}, {'number': 2, 'created': '2019-09-06 06:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e2b9c4740de060290099040df17a3ad915a1a278', 'message': 'Fixed pool and members status with UDP loadbalancers\n\nThis commit fixes pool and members status when using UDP loadbalancers.\n\nStory: 2005736\nTask: 33394\n\nChange-Id: I75cde3ff820f085aebbdffd1e40c5ff40f16835d\n(cherry picked from commit 4decb6d53c728ba0e7b15c6f46a9c2b5251b4088)\n'}, {'number': 3, 'created': '2019-09-12 08:43:26.000000000', 'files': ['releasenotes/notes/fix-udp-members-status-ef3202849bfda29b.yaml', 'octavia/common/jinja/lvs/templates/macros.j2', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/bf50e3a14b72d1c1a4e881695b91ca0914bc7f70', 'message': 'Fixed pool and members status with UDP loadbalancers\n\nThis commit fixes pool and members status when using UDP loadbalancers.\n\nStory: 2005736\nTask: 33394\n\nChange-Id: I75cde3ff820f085aebbdffd1e40c5ff40f16835d\n(cherry picked from commit 4decb6d53c728ba0e7b15c6f46a9c2b5251b4088)\n'}]",0,675362,bf50e3a14b72d1c1a4e881695b91ca0914bc7f70,20,5,3,29244,,,0,"Fixed pool and members status with UDP loadbalancers

This commit fixes pool and members status when using UDP loadbalancers.

Story: 2005736
Task: 33394

Change-Id: I75cde3ff820f085aebbdffd1e40c5ff40f16835d
(cherry picked from commit 4decb6d53c728ba0e7b15c6f46a9c2b5251b4088)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/62/675362/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-udp-members-status-ef3202849bfda29b.yaml', 'octavia/common/jinja/lvs/templates/macros.j2', 'octavia/amphorae/backends/utils/keepalivedlvs_query.py', 'octavia/tests/unit/amphorae/backends/utils/test_keepalivedlvs_query.py']",4,edb767399c3d96425591aaebc9a86cd01411d17c,,"# Realserver 10.0.0.45:4444 is not listed because healthcheck failed.# Readlserver [fd79:35e2:9963:0:f816:3eff:fe9d:8f3f]:4444 is not listed # because healthcheck failed. "" MISC_CHECK {\n\n"" "" misc_path \""/usr/bin/check_script.sh\""\n\n"" "" misc_timeout 5\n\n"" "" }\n\n"" "" MISC_CHECK {\n\n"" "" misc_path \""/usr/bin/check_script.sh\""\n\n"" "" misc_timeout 5\n\n"" "" }\n\n"" "" # Configuration for Member %(member_id3)s\n"" "" real_server 10.0.0.45 4444 {\n"" "" weight 2\n"" "" persistence_timeout 5\n"" "" persistence_granularity 255.0.0.0\n\n"" "" MISC_CHECK {\n\n"" "" misc_path \""/usr/bin/check_script.sh\""\n\n"" "" misc_timeout 5\n\n"" "" }\n\n"" "" }\n\n"" "" # Member %(member_id4)s is disabled\n\n"" "" MISC_CHECK {\n\n"" "" misc_path \""/usr/bin/check_script.sh\""\n\n"" "" misc_timeout 5\n\n"" "" }\n\n"" "" MISC_CHECK {\n\n"" "" misc_path \""/usr/bin/check_script.sh\""\n\n"" "" misc_timeout 5\n\n"" "" }\n\n"" "" # Configuration for Member %(member_id3)s\n"" "" real_server fd79:35e2:9963:0:f816:3eff:fe9d:8f3f 4444 {\n"" "" weight 2\n"" "" MISC_CHECK {\n\n"" "" misc_path \""/usr/bin/check_script.sh\""\n\n"" "" misc_timeout 5\n\n"" "" }\n\n"" "" }\n\n"" "" # Member %(member_id4)s is disabled\n\n"" self.member_id3_v4 = uuidutils.generate_uuid() self.member_id4_v4 = uuidutils.generate_uuid() self.member_id3_v6 = uuidutils.generate_uuid() self.member_id4_v6 = uuidutils.generate_uuid() 'member_id2': self.member_id2_v4, 'member_id3': self.member_id3_v4, 'member_id4': self.member_id4_v4, 'member_id2': self.member_id2_v6, 'member_id3': self.member_id3_v6, 'member_id4': self.member_id4_v6 target_ns, input_listener_ip_port, health_monitor_enabled=True) target_ns, input_listener_ip_port, health_monitor_enabled=True) target_ns, listener_ip_port, health_monitor_enabled=True) target_ns, listener_ip_port, health_monitor_enabled=True) 'ipport': '10.0.0.35:3333'}, {'id': self.member_id3_v4, 'ipport': '10.0.0.45:4444'}, {'id': self.member_id4_v4, 'ipport': None}]} 'ipport': '[fd79:35e2:9963:0:f816:3eff:fe9d:94df]:3333'}, {'id': self.member_id3_v6, 'ipport': '[fd79:35e2:9963:0:f816:3eff:fe9d:8f3f]:4444'}, {'id': self.member_id4_v6, 'ipport': None}]} self.member_id2_v4: constants.UP, self.member_id3_v4: constants.DOWN, self.member_id4_v4: constants.MAINT}}} self.member_id2_v6: constants.UP, self.member_id3_v6: constants.DOWN, self.member_id4_v6: constants.MAINT}}} self.member_id2_v4: constants.DOWN, self.member_id3_v4: constants.DOWN, self.member_id4_v4: constants.MAINT}}}"," 'member_id2': self.member_id2_v4 'member_id2': self.member_id2_v6 target_ns, input_listener_ip_port) target_ns, input_listener_ip_port) target_ns, listener_ip_port) target_ns, listener_ip_port) 'ipport': '10.0.0.35:3333'}]} 'ipport': '[fd79:35e2:9963:0:f816:3eff:fe9d:94df]:3333'}]} self.member_id2_v4: constants.UP}}} self.member_id2_v6: constants.UP}}} self.member_id2_v4: constants.DOWN}}}",128,19
openstack%2Fnova~master~I45107ff686456d5db91c615830fa443b3902ddfb,openstack/nova,master,I45107ff686456d5db91c615830fa443b3902ddfb,Remove redundancies from AggregateRequestFiltersTest.setUp,MERGED,2019-09-16 20:37:33.000000000,2019-09-17 09:46:09.000000000,2019-09-17 01:41:42.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-09-16 20:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac001b1f78851557ce91ec4092b31b96e554ef3b', 'message': ""Remove redundancies from AggregateRequestFiltersTest.setUp\n\nChange I9ab9d7d65378be564b3731b5227ede8cece71bef made\nAggregateRequestFiltersTest extend ProviderUsageBaseTestCase\nbut left a lot of redundant setUp for fixtures and services\nin it which might be contributing to test_fail_set_az failing\nintermittently. My theory is that we're starting multiple API\nand scheduler workers and when setting an AZ on an aggregate\nthe API will RPC cast to all schedulers to store that metadata\ninformation in the scheduler process. Since we have more than\none scheduler process, and I'm not sure how stable the RPC cast\nfanout capability is in the fake messaging driver, we could be\nhitting a scheduler worker during the test that does not have\nthe AZ metadata and the AvailabilityZoneFilter filters out the\nexpected host.\n\nThis simply removes the redundant setUp. Even if this isn't the\nroot of the problem it at least rules it out.\n\nChange-Id: I45107ff686456d5db91c615830fa443b3902ddfb\nPartial-Bug: #1844174\n""}, {'number': 2, 'created': '2019-09-16 20:41:26.000000000', 'files': ['nova/tests/functional/test_aggregates.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c074a7bd314889024c648e7f6f038242209927d9', 'message': ""Remove redundancies from AggregateRequestFiltersTest.setUp\n\nChange I9ab9d7d65378be564b3731b5227ede8cece71bef made\nAggregateRequestFiltersTest extend ProviderUsageBaseTestCase\nbut left a lot of redundant setUp for fixtures and services\nin it which might be contributing to test_fail_set_az failing\nintermittently. My theory is that we're starting multiple API\nand scheduler workers and when setting an AZ on an aggregate\nthe API will RPC cast to all schedulers to store that metadata\ninformation in the scheduler process. Since we have more than\none scheduler process, and I'm not sure how stable the RPC cast\nfanout capability is in the fake messaging driver, we could be\nhitting a scheduler worker during the test that does not have\nthe AZ metadata and the AvailabilityZoneFilter filters out the\nexpected host.\n\nThis simply removes the redundant setUp. Even if this isn't the\nroot of the problem it at least rules it out.\n\nChange-Id: I45107ff686456d5db91c615830fa443b3902ddfb\nPartial-Bug: #1844174\n""}]",5,682475,c074a7bd314889024c648e7f6f038242209927d9,17,8,2,6873,,,0,"Remove redundancies from AggregateRequestFiltersTest.setUp

Change I9ab9d7d65378be564b3731b5227ede8cece71bef made
AggregateRequestFiltersTest extend ProviderUsageBaseTestCase
but left a lot of redundant setUp for fixtures and services
in it which might be contributing to test_fail_set_az failing
intermittently. My theory is that we're starting multiple API
and scheduler workers and when setting an AZ on an aggregate
the API will RPC cast to all schedulers to store that metadata
information in the scheduler process. Since we have more than
one scheduler process, and I'm not sure how stable the RPC cast
fanout capability is in the fake messaging driver, we could be
hitting a scheduler worker during the test that does not have
the AZ metadata and the AvailabilityZoneFilter filters out the
expected host.

This simply removes the redundant setUp. Even if this isn't the
root of the problem it at least rules it out.

Change-Id: I45107ff686456d5db91c615830fa443b3902ddfb
Partial-Bug: #1844174
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/682475/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_aggregates.py'],1,ac001b1f78851557ce91ec4092b31b96e554ef3b,bug/1844174,, self.useFixture(policy_fixture.RealPolicyFixture()) self.useFixture(nova_fixtures.NeutronFixture(self)) self.useFixture(nova_fixtures.AllServicesCurrent()) placement = self.useFixture(func_fixtures.PlacementFixture()) self.placement_api = placement.api api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.admin_api = api_fixture.admin_api self.admin_api.microversion = self.microversion self.api = self.admin_api # the image fake backend needed for image discovery nova.tests.unit.image.fake.stub_out_image_service(self) self.start_service('conductor') self.scheduler_service = self.start_service('scheduler') ,0,19
openstack%2Fcharm-rabbitmq-server~stable%2F19.07~I28d6cb6c15a4496243fab7ec6c7eedcd1422f4c2,openstack/charm-rabbitmq-server,stable/19.07,I28d6cb6c15a4496243fab7ec6c7eedcd1422f4c2,Use shutil.move rather than os.rename,MERGED,2019-09-06 09:10:06.000000000,2019-09-17 08:59:51.000000000,2019-09-17 08:59:51.000000000,"[{'_account_id': 935}, {'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-06 09:10:06.000000000', 'files': ['hooks/rabbit_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/ba24fa2056ea5e5870470425dd0a99e428f1729c', 'message': 'Use shutil.move rather than os.rename\n\nWhen the source and destination file paths are not on the same partition\nos.rename raises OSError: [Errno 18] Invalid cross-device link.\n\nUse shutil.move instead.\n\nChange-Id: I28d6cb6c15a4496243fab7ec6c7eedcd1422f4c2\nCloses-Bug: #1833804\n(cherry picked from commit fb1b4bec0ff838e4af15058ae015e5ee6842c12a)\n'}]",0,680635,ba24fa2056ea5e5870470425dd0a99e428f1729c,11,6,1,935,,,0,"Use shutil.move rather than os.rename

When the source and destination file paths are not on the same partition
os.rename raises OSError: [Errno 18] Invalid cross-device link.

Use shutil.move instead.

Change-Id: I28d6cb6c15a4496243fab7ec6c7eedcd1422f4c2
Closes-Bug: #1833804
(cherry picked from commit fb1b4bec0ff838e4af15058ae015e5ee6842c12a)
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/35/680635/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/rabbit_utils.py'],1,ba24fa2056ea5e5870470425dd0a99e428f1729c,bug/1833804,"import shutil shutil.move(tmpfile.name, HOSTS_FILE)"," os.rename(tmpfile.name, HOSTS_FILE)",2,1
openstack%2Fkolla~stable%2Frocky~Iebc1f2c05c1f57c2b6f98ca9772f1ae9d9a420fa,openstack/kolla,stable/rocky,Iebc1f2c05c1f57c2b6f98ca9772f1ae9d9a420fa,Add pciutils package to zun-compute,MERGED,2019-09-16 17:29:09.000000000,2019-09-17 08:55:11.000000000,2019-09-17 08:55:11.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-16 17:29:09.000000000', 'files': ['docker/zun/zun-compute/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8b6a7845f331a39e6eaef899b0d2a3ccc7336379', 'message': 'Add pciutils package to zun-compute\n\nIt runs lspci and has this requirement in its bindep.\n\nCentOS images seem to have it installed but Ubuntu not.\nEnsure pciutils package is always installed.\n\nzun-compute seemed to work nonetheless but generated errors\nabout being unable to take host inventory.\n(now we know it would fail for SRIOV)\n\nChange adapted for Rocky by ignoring cyborg (not present).\n\nRelated-bug: #1797448\nChange-Id: Iebc1f2c05c1f57c2b6f98ca9772f1ae9d9a420fa\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit c323c5be7fd4ebcc71ca4e10a5c15b9ab1f29ba6)\n(cherry picked from commit 904f1fcbd7b1bf133547980eed7807b06a51ef3b)\n'}]",0,682436,8b6a7845f331a39e6eaef899b0d2a3ccc7336379,8,6,1,30491,,,0,"Add pciutils package to zun-compute

It runs lspci and has this requirement in its bindep.

CentOS images seem to have it installed but Ubuntu not.
Ensure pciutils package is always installed.

zun-compute seemed to work nonetheless but generated errors
about being unable to take host inventory.
(now we know it would fail for SRIOV)

Change adapted for Rocky by ignoring cyborg (not present).

Related-bug: #1797448
Change-Id: Iebc1f2c05c1f57c2b6f98ca9772f1ae9d9a420fa
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit c323c5be7fd4ebcc71ca4e10a5c15b9ab1f29ba6)
(cherry picked from commit 904f1fcbd7b1bf133547980eed7807b06a51ef3b)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/36/682436/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/zun/zun-compute/Dockerfile.j2'],1,8b6a7845f331a39e6eaef899b0d2a3ccc7336379,,"{% import ""macros.j2"" as macros with context %} {% set zun_compute_packages = [ 'pciutils', ] %} {{ macros.install_packages(zun_compute_packages | customizable(""packages"")) }} ",,8,0
openstack%2Fpython-watcherclient~stable%2Ftrain~I0abb4375f76549f4b06d0acfa257e754955736f7,openstack/python-watcherclient,stable/train,I0abb4375f76549f4b06d0acfa257e754955736f7,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-09-12 09:30:49.000000000,2019-09-17 08:47:53.000000000,2019-09-17 08:46:01.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-12 09:30:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/5ab4ac10a2803af4e088f617714bca0ed5caeeaf', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I0abb4375f76549f4b06d0acfa257e754955736f7\n'}]",0,681680,5ab4ac10a2803af4e088f617714bca0ed5caeeaf,9,2,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I0abb4375f76549f4b06d0acfa257e754955736f7
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/80/681680/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5ab4ac10a2803af4e088f617714bca0ed5caeeaf,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fopenstack-planet~master~I0934c3b5ea30560f32680b26c9bc4cdbbf3a2fd4,openstack/openstack-planet,master,I0934c3b5ea30560f32680b26c9bc4cdbbf3a2fd4,Add Nate Johnston blog to Planet OpenStack,MERGED,2019-09-17 00:52:26.000000000,2019-09-17 08:46:25.000000000,2019-09-17 08:46:25.000000000,"[{'_account_id': 308}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 00:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-planet/commit/97b5255c87ea895a91553798a33c339204ae0658', 'message': 'Add Nate Johnston blog to Planet OpenStack\n\nChange-Id: I0934c3b5ea30560f32680b26c9bc4cdbbf3a2fd4\n'}, {'number': 2, 'created': '2019-09-17 05:28:32.000000000', 'files': ['planet.ini', 'images/njohnston.jpg'], 'web_link': 'https://opendev.org/openstack/openstack-planet/commit/d4ea2aa255064e212750a3f8e56138a2837602df', 'message': ""Add Nate Johnston blog to Planet OpenStack\n\nI think it's a good time to start blogging again.\n\nChange-Id: I0934c3b5ea30560f32680b26c9bc4cdbbf3a2fd4\n""}]",0,682516,d4ea2aa255064e212750a3f8e56138a2837602df,8,2,2,13995,,,0,"Add Nate Johnston blog to Planet OpenStack

I think it's a good time to start blogging again.

Change-Id: I0934c3b5ea30560f32680b26c9bc4cdbbf3a2fd4
",git fetch https://review.opendev.org/openstack/openstack-planet refs/changes/16/682516/2 && git format-patch -1 --stdout FETCH_HEAD,"['planet.ini', 'images/njohnston.jpg']",2,97b5255c87ea895a91553798a33c339204ae0658,add-njohnston,,,5,0
openstack%2Fnova~master~I4205c00311f389907dcc390869414687ac03b7f5,openstack/nova,master,I4205c00311f389907dcc390869414687ac03b7f5,Centralize volume create code during boot from volume,MERGED,2019-09-16 14:48:47.000000000,2019-09-17 08:45:52.000000000,2019-09-17 05:16:54.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-16 14:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21abe0d282ed4bb1a138cb61f1865e52d156cbfd', 'message': 'Centralize volume create code during boot from volume\n\nThis centralizes the code that creates a volume during\nboot from volume and the BDM source_type is one of blank,\nimage or snapshot.\n\nIn a subsequent change [1] the central _create_volume method\nwill be enhanced to create a ""new style"" volume attachment.\n\n[1] I30a49c9e085cffc071d0ba332db67945e116bc80\n\nChange-Id: I4205c00311f389907dcc390869414687ac03b7f5\nRelated-Bug: #1747693\n'}, {'number': 2, 'created': '2019-09-16 15:06:31.000000000', 'files': ['nova/tests/unit/virt/test_block_device.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aae96dc1aca011a49e05aee4c5df0b587bbfea78', 'message': 'Centralize volume create code during boot from volume\n\nThis centralizes the code that creates a volume during\nboot from volume and the BDM source_type is one of blank,\nimage or snapshot.\n\nIn a subsequent change [1] the central _create_volume method\nwill be enhanced to create a ""new style"" volume attachment.\n\n[1] I30a49c9e085cffc071d0ba332db67945e116bc80\n\nChange-Id: I4205c00311f389907dcc390869414687ac03b7f5\nRelated-Bug: #1747693\n'}]",8,682378,aae96dc1aca011a49e05aee4c5df0b587bbfea78,29,14,2,6873,,,0,"Centralize volume create code during boot from volume

This centralizes the code that creates a volume during
boot from volume and the BDM source_type is one of blank,
image or snapshot.

In a subsequent change [1] the central _create_volume method
will be enhanced to create a ""new style"" volume attachment.

[1] I30a49c9e085cffc071d0ba332db67945e116bc80

Change-Id: I4205c00311f389907dcc390869414687ac03b7f5
Related-Bug: #1747693
",git fetch https://review.opendev.org/openstack/nova refs/changes/78/682378/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_block_device.py', 'nova/virt/block_device.py']",2,21abe0d282ed4bb1a138cb61f1865e52d156cbfd,bug/1747693," def _create_volume(self, context, instance, volume_api, size, wait_func=None, **create_kwargs): av_zone = _get_volume_create_az_value(instance) name = create_kwargs.pop('name', '') description = create_kwargs.pop('description', '') vol = volume_api.create( context, size, name, description, volume_type=self.volume_type, availability_zone=av_zone, **create_kwargs) if wait_func: self._call_wait_func(context, wait_func, volume_api, vol['id']) return vol vol = self._create_volume( context, instance, volume_api, self.volume_size, wait_func, snapshot=snapshot) vol = self._create_volume( context, instance, volume_api, self.volume_size, wait_func, image_id=self.image_id) vol = self._create_volume( context, instance, volume_api, self.volume_size, wait_func, name=vol_name)"," av_zone = _get_volume_create_az_value(instance) vol = volume_api.create(context, self.volume_size, '', '', snapshot, volume_type=self.volume_type, availability_zone=av_zone) if wait_func: self._call_wait_func(context, wait_func, volume_api, vol['id']) av_zone = _get_volume_create_az_value(instance) vol = volume_api.create(context, self.volume_size, '', '', image_id=self.image_id, volume_type=self.volume_type, availability_zone=av_zone) if wait_func: self._call_wait_func(context, wait_func, volume_api, vol['id']) av_zone = _get_volume_create_az_value(instance) vol = volume_api.create(context, self.volume_size, vol_name, '', volume_type=self.volume_type, availability_zone=av_zone) if wait_func: self._call_wait_func(context, wait_func, volume_api, vol['id'])",32,27
openstack%2Fkolla-ansible~master~I8e97d72421caebba979df0135fb65879e6ae3903,openstack/kolla-ansible,master,I8e97d72421caebba979df0135fb65879e6ae3903,[designate] Removed deprecated pool manager settings,MERGED,2019-09-15 22:01:03.000000000,2019-09-17 08:42:02.000000000,2019-09-17 08:40:27.000000000,"[{'_account_id': 16006}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-09-15 22:01:03.000000000', 'files': ['ansible/roles/designate/tasks/bootstrap.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/designate/templates/designate.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e07a67bddfb0bc855b2a2bcbe217c82a9d0ea542', 'message': '[designate] Removed deprecated pool manager settings\n\nThe pool manager has long been deperecated and\nkolla-ansible does not currently have an option\nto enable it. So we can safely remove the settings\naround it.\n\nChange-Id: I8e97d72421caebba979df0135fb65879e6ae3903\n'}]",1,682253,e07a67bddfb0bc855b2a2bcbe217c82a9d0ea542,12,5,1,22623,,,0,"[designate] Removed deprecated pool manager settings

The pool manager has long been deperecated and
kolla-ansible does not currently have an option
to enable it. So we can safely remove the settings
around it.

Change-Id: I8e97d72421caebba979df0135fb65879e6ae3903
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/53/682253/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/designate/tasks/bootstrap.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/designate/templates/designate.conf.j2']",3,e07a67bddfb0bc855b2a2bcbe217c82a9d0ea542,,,"# TODO (egonzalez): Remove enabled option in worker section once https://bugs.launchpad.net/designate/+bug/1676827 # is fixed. Enabled is deprecated but without explicitly enabling worker service not start enabled = True notify = True[service:pool_manager] cache_driver = sqlalchemy pool_id = {{ designate_pool_id }} workers = {{ openstack_service_workers }} [pool_manager_cache:sqlalchemy] connection = mysql+pymysql://{{ designate_pool_manager_database_user }}:{{ designate_pool_manager_database_password }}@{{ designate_pool_manager_database_address }}/{{ designate_pool_manager_database_name }} max_retries = 10 idle_timeout = 3600 [pool_manager_cache:memcache] memcached_servers = {% for host in groups['memcached'] %}{{ hostvars[host]['ansible_' + hostvars[host]['api_interface']]['ipv4']['address'] }}:{{ memcached_port }}{% if not loop.last %},{% endif %}{% endfor %} ",0,25
openstack%2Fdesignate~master~Id7972ca5600a202bc885bf5cdb528b9e335e558d,openstack/designate,master,Id7972ca5600a202bc885bf5cdb528b9e335e558d,Add missing RabbitMQ configuration to install guides,MERGED,2019-09-13 16:41:30.000000000,2019-09-17 08:41:10.000000000,2019-09-17 08:39:55.000000000,"[{'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 15736}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-13 16:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/69d7a5bc97854ac14ec8f2a47784f239a8a2de78', 'message': 'Add missing RabbitMQ configuration to install guides\n\nChange-Id: Id7972ca5600a202bc885bf5cdb528b9e335e558d\n'}, {'number': 2, 'created': '2019-09-13 17:53:26.000000000', 'files': ['doc/source/install/install-ubuntu.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/designate/commit/88a8ba5d8baffadf22d1cbce876e180bd5cf885c', 'message': 'Add missing RabbitMQ configuration to install guides\n\nChange-Id: Id7972ca5600a202bc885bf5cdb528b9e335e558d\n'}]",2,682109,88a8ba5d8baffadf22d1cbce876e180bd5cf885c,15,7,2,22623,,,0,"Add missing RabbitMQ configuration to install guides

Change-Id: Id7972ca5600a202bc885bf5cdb528b9e335e558d
",git fetch https://review.opendev.org/openstack/designate refs/changes/09/682109/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/install-ubuntu.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst']",3,69d7a5bc97854ac14ec8f2a47784f239a8a2de78,fix_guide," * In the ``[DEFAULT]`` section, configure ``RabbitMQ`` message queue access: .. code-block:: ini [DEFAULT] # ... transport_url = rabbit://openstack:RABBIT_PASS@controller:5672/ .. end Replace ``RABBIT_PASS`` with the password you chose for the ``openstack`` account in RabbitMQ. ",,42,0
openstack%2Freleases~master~I03d41f5d0d05efcbffe3bf78d399f0b993b79abe,openstack/releases,master,I03d41f5d0d05efcbffe3bf78d399f0b993b79abe,Add deliverable file for Kayobe,MERGED,2019-07-29 08:49:56.000000000,2019-09-17 08:36:02.000000000,2019-09-17 08:36:02.000000000,"[{'_account_id': 308}, {'_account_id': 5263}, {'_account_id': 11904}, {'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-29 08:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d8a7831f4c46120a94fc00a2ba9e01fcf6357df9', 'message': 'Add deliverable file for Kayobe\n\nKayobe has been added as a deliverable of the Kolla project [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007536.html\n\nChange-Id: I03d41f5d0d05efcbffe3bf78d399f0b993b79abe\n'}, {'number': 2, 'created': '2019-07-29 15:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c64020ac68a0fdf237316bf72e74b59ce8647acb', 'message': 'Add deliverable file for Kayobe\n\nKayobe has been added as a deliverable of the Kolla project [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007536.html\n\nChange-Id: I03d41f5d0d05efcbffe3bf78d399f0b993b79abe\n'}, {'number': 3, 'created': '2019-08-02 10:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/dd6b0a1ca3f724a83ca420abac0cd39a607643fb', 'message': 'Add deliverable file for Kayobe\n\nKayobe has been added as a deliverable of the Kolla project [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007536.html\n\nChange-Id: I03d41f5d0d05efcbffe3bf78d399f0b993b79abe\nDepends-On: https://review.opendev.org/669298\n'}, {'number': 4, 'created': '2019-08-02 15:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e495972a5612a67434d853dcac36d76e4742629b', 'message': 'Add Train deliverable file for kolla-cli\n\nThis project went quiet but has now been revived, and contributors from\n99cloud have agreed to help maintain it.\n\nChange-Id: I03d41f5d0d05efcbffe3bf78d399f0b993b79abe\n'}, {'number': 5, 'created': '2019-08-02 15:37:02.000000000', 'files': ['deliverables/train/kayobe.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1ef461be2827184498e65a9df847d68b9019476b', 'message': 'Add deliverable file for Kayobe\n\nKayobe has been added as a deliverable of the Kolla project [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007536.html\n\nChange-Id: I03d41f5d0d05efcbffe3bf78d399f0b993b79abe\nDepends-On: https://review.opendev.org/669298\n'}]",0,673234,1ef461be2827184498e65a9df847d68b9019476b,28,6,5,17669,,,0,"Add deliverable file for Kayobe

Kayobe has been added as a deliverable of the Kolla project [1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007536.html

Change-Id: I03d41f5d0d05efcbffe3bf78d399f0b993b79abe
Depends-On: https://review.opendev.org/669298
",git fetch https://review.opendev.org/openstack/releases refs/changes/34/673234/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/kayobe.yml'],1,d8a7831f4c46120a94fc00a2ba9e01fcf6357df9,,--- storyboard: x/kayobe release-model: cycle-trailing team: kolla type: other repository-settings: x/kayobe: {} ,,7,0
openstack%2Fproject-config~master~Ic9027d41af8d29d2c6a33cc1a0c57204899741d2,openstack/project-config,master,Ic9027d41af8d29d2c6a33cc1a0c57204899741d2,Fedora 30 : add python-path for Python 3,MERGED,2019-09-17 07:58:56.000000000,2019-09-17 08:24:28.000000000,2019-09-17 08:24:28.000000000,"[{'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 07:58:56.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1959618962967a5c81a8b03cba0b43409c10ee02', 'message': 'Fedora 30 : add python-path for Python 3\n\nIt appears there are some issues with Ansible + python2 + Fedora 30,\nparticularly around package installation (e.g. [1]).\n\nSet the python-path to Python 3 for Fedora 30\n\n[1] https://github.com/ansible/ansible/issues/54855\n\nChange-Id: Ic9027d41af8d29d2c6a33cc1a0c57204899741d2\n'}]",0,682569,1959618962967a5c81a8b03cba0b43409c10ee02,7,3,1,7118,,,0,"Fedora 30 : add python-path for Python 3

It appears there are some issues with Ansible + python2 + Fedora 30,
particularly around package installation (e.g. [1]).

Set the python-path to Python 3 for Fedora 30

[1] https://github.com/ansible/ansible/issues/54855

Change-Id: Ic9027d41af8d29d2c6a33cc1a0c57204899741d2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/69/682569/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,1959618962967a5c81a8b03cba0b43409c10ee02,fedora-python3, python-path: /usr/bin/python3,,1,0
openstack%2Fnova~master~Iccc3676e0b6dcb8e6d26385452249971f4613b69,openstack/nova,master,Iccc3676e0b6dcb8e6d26385452249971f4613b69,Follow up for the bandwidth series,MERGED,2019-09-16 15:26:05.000000000,2019-09-17 08:20:00.000000000,2019-09-17 01:41:36.000000000,"[{'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-16 15:26:05.000000000', 'files': ['releasenotes/notes/support-cold-migrating-neutron-ports-with-resource-request-6d23be654a253625.yaml', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3dc277be453ea6631229a06eef658fce874299fb', 'message': 'Follow up for the bandwidth series\n\nDuring the feature freeze day re-check campaign the following two small\nnits was found in and now fixed by this patch:\n\n* As the resize REST API action is end user facing we should not mention\nsource compute in the error message.\n\n* Release notes grammar.\n\nChange-Id: Iccc3676e0b6dcb8e6d26385452249971f4613b69\nblueprint: support-move-ops-with-qos-ports\n'}]",0,682389,3dc277be453ea6631229a06eef658fce874299fb,17,11,1,9708,,,0,"Follow up for the bandwidth series

During the feature freeze day re-check campaign the following two small
nits was found in and now fixed by this patch:

* As the resize REST API action is end user facing we should not mention
source compute in the error message.

* Release notes grammar.

Change-Id: Iccc3676e0b6dcb8e6d26385452249971f4613b69
blueprint: support-move-ops-with-qos-ports
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/682389/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/support-cold-migrating-neutron-ports-with-resource-request-6d23be654a253625.yaml', 'nova/api/openstack/compute/servers.py']",2,3dc277be453ea6631229a06eef658fce874299fb,bp/support-move-ops-with-qos-ports," ""minimum bandwidth policy, is not yet supported."")"," ""minimum bandwidth policy, is not yet supported "" ""on the source compute"")",2,3
openstack%2Fkayobe~stable%2Fstein~I8efee18cf28344a6af44acbe1ca1d4470f7258fe,openstack/kayobe,stable/stein,I8efee18cf28344a6af44acbe1ca1d4470f7258fe,Fix after x/kayobe rename,MERGED,2019-09-16 16:39:08.000000000,2019-09-17 08:19:31.000000000,2019-09-17 08:15:30.000000000,"[{'_account_id': 6547}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 16:39:08.000000000', 'files': ['.gitreview', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/127bd8be6cedf129a1a8f048f3de46964bdcd0ce', 'message': 'Fix after x/kayobe rename\n\nUpdate .git review and zuul configuration.\n\nChange-Id: I8efee18cf28344a6af44acbe1ca1d4470f7258fe\n(cherry picked from commit aea7117764ee3ced0ccb7477c5c962569fa1c926)\n'}]",0,682408,127bd8be6cedf129a1a8f048f3de46964bdcd0ce,11,3,1,14826,,,0,"Fix after x/kayobe rename

Update .git review and zuul configuration.

Change-Id: I8efee18cf28344a6af44acbe1ca1d4470f7258fe
(cherry picked from commit aea7117764ee3ced0ccb7477c5c962569fa1c926)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/08/682408/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'zuul.d/jobs.yaml']",2,127bd8be6cedf129a1a8f048f3de46964bdcd0ce,," - name: openstack/kayobe - name: openstack/kayobe-config-dev kayobe_src_dir: ""{{ ansible_env.PWD ~ '/' ~ zuul.projects['opendev.org/openstack/kayobe'].src_dir }}"" kayobe_config_src_dir: ""{{ ansible_env.PWD ~ '/' ~ zuul.projects['opendev.org/openstack/kayobe-config-dev'].src_dir }}"""," - name: x/kayobe - name: x/kayobe-config-dev kayobe_src_dir: ""{{ ansible_env.PWD ~ '/' ~ zuul.projects['opendev.org/x/kayobe'].src_dir }}"" kayobe_config_src_dir: ""{{ ansible_env.PWD ~ '/' ~ zuul.projects['opendev.org/x/kayobe-config-dev'].src_dir }}""",5,5
openstack%2Fzaqar~master~Ibe4a7c65fd356d69656b19be1716b12ece223d44,openstack/zaqar,master,Ibe4a7c65fd356d69656b19be1716b12ece223d44,Update trollius requirement,ABANDONED,2019-07-30 07:25:32.000000000,2019-09-17 08:18:09.000000000,,"[{'_account_id': 17068}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-07-30 07:25:32.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/e2460cf4da437dca51164dc8185736de6e24c948', 'message': ""Update trollius requirement\n\nTrollius 2.1 isn't available on pypi anymore. We need to adapt\nfor the remaining py2 users, all the way back.\n\nChange-Id: Ibe4a7c65fd356d69656b19be1716b12ece223d44\n""}]",0,673415,e2460cf4da437dca51164dc8185736de6e24c948,7,4,1,17068,,,0,"Update trollius requirement

Trollius 2.1 isn't available on pypi anymore. We need to adapt
for the remaining py2 users, all the way back.

Change-Id: Ibe4a7c65fd356d69656b19be1716b12ece223d44
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/15/673415/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,e2460cf4da437dca51164dc8185736de6e24c948,fix_requirements,trollius==2.1.post2;python_version=='2.7',trollius==2.1;python_version=='2.7',2,2
openstack%2Fopenstack-helm-infra~master~I2dfaf3f3a8981b45e4a283f0ae4161c11f30c016,openstack/openstack-helm-infra,master,I2dfaf3f3a8981b45e4a283f0ae4161c11f30c016,Use new script runner play/role,ABANDONED,2018-10-15 10:25:49.000000000,2019-09-17 08:16:35.000000000,,"[{'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-15 10:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/78a04acbefbf3b8da1668f54edd3d485e1350029', 'message': 'Use script runner play/role instead of current runner\n\n- This replaces the current runner in the job definitions\n  (playbooks/osh-infra-gate-runner.yaml) with the scenario based\n  runner (zuul.d/playbooks/run-scripts.yml).\n\n- This renames some folders to make use of the new runner\n  properties and thefore simplify job definitions.\n\n- This creates cross-repo jobs that can be re-used and inherited.\n\nChange-Id: I2dfaf3f3a8981b45e4a283f0ae4161c11f30c016\n'}, {'number': 2, 'created': '2018-10-15 10:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9f8f4034e8fcab1ab2af8c0aedac2b7ef9ed05a8', 'message': 'Use script runner play/role instead of current runner\n\n- This replaces the current runner in the job definitions\n  (playbooks/osh-infra-gate-runner.yaml) with the scenario based\n  runner (zuul.d/playbooks/run-scripts.yml).\n\n- This renames some folders to make use of the new runner\n  properties and thefore simplify job definitions.\n\n- This creates cross-repo jobs that can be re-used and inherited.\n\nChange-Id: I2dfaf3f3a8981b45e4a283f0ae4161c11f30c016\n'}, {'number': 3, 'created': '2018-10-15 11:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/edfc3a5ecc5a0c47971f956e0099f3abe0da4a64', 'message': 'Use script runner play/role instead of current runner\n\n- This replaces the current runner in the job definitions\n  (playbooks/osh-infra-gate-runner.yaml) with the scenario based\n  runner (zuul.d/playbooks/run-scripts.yml).\n\n- This renames some folders to make use of the new runner\n  properties and thefore simplify job definitions.\n\n- This creates cross-repo jobs that can be re-used and inherited.\n\nChange-Id: I2dfaf3f3a8981b45e4a283f0ae4161c11f30c016\nDepends-On: https://review.openstack.org/610481\n'}, {'number': 4, 'created': '2018-10-19 08:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/70df56efaa6340dc25f4f945f15f80964e1e5c9a', 'message': 'Use new script runner play/role\n\n- This replaces the current runner in the job definitions\n  (playbooks/osh-infra-gate-runner.yaml) with the scenario based\n  runner (zuul.d/playbooks/run-scripts.yml).\n\n- This renames some folders to make use of the new runner\n  properties and thefore simplify job definitions.\n\nChange-Id: I2dfaf3f3a8981b45e4a283f0ae4161c11f30c016\n'}, {'number': 5, 'created': '2018-10-19 08:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1b94fcf1b590ab99fdeafb819c6b2c2957e3351a', 'message': 'Use new script runner play/role\n\n- This replaces the current runner in the job definitions\n  (playbooks/osh-infra-gate-runner.yaml) with the scenario based\n  runner (zuul.d/playbooks/run-scripts.yml).\n\n- This renames some folders to make use of the new runner\n  properties and thefore simplify job definitions.\n\nChange-Id: I2dfaf3f3a8981b45e4a283f0ae4161c11f30c016\n'}, {'number': 6, 'created': '2018-10-19 12:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f5b95c139b3fb5eeae8859bbc160f4b58af829c4', 'message': 'Use new script runner play/role\n\n- This replaces the current runner in the job definitions\n  (playbooks/osh-infra-gate-runner.yaml) with the scenario based\n  runner (zuul.d/playbooks/run-scripts.yml).\n\n- This renames some folders to make use of the new runner\n  properties and thefore simplify job definitions.\n\nChange-Id: I2dfaf3f3a8981b45e4a283f0ae4161c11f30c016\n'}, {'number': 7, 'created': '2018-10-22 12:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c3658c276b99f5a2444403958aba4af0fb233d34', 'message': 'Use new script runner play/role\n\nThis replaces the current runner in the job definitions\n(playbooks/osh-infra-gate-runner.yaml) with the scenario based\nrunner (zuul.d/playbooks/run-scripts.yml).\n\nChange-Id: I2dfaf3f3a8981b45e4a283f0ae4161c11f30c016\n'}, {'number': 8, 'created': '2018-10-22 14:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/57481946e5a97bf6c29f1cce3b4290eb561e6afd', 'message': 'Use new script runner play/role\n\nThis replaces the current runner in the job definitions\n(playbooks/osh-infra-gate-runner.yaml) with the scenario based\nrunner (zuul.d/playbooks/run-scripts.yml).\n\nChange-Id: I2dfaf3f3a8981b45e4a283f0ae4161c11f30c016\n'}, {'number': 9, 'created': '2018-10-23 08:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/796ccbd8ada0b6d6070f3d9dd6bd2bfcbd07fbe8', 'message': 'Use new script runner play/role\n\nThis replaces the current runner in the job definitions\n(playbooks/osh-infra-gate-runner.yaml) with the scenario based\nrunner (zuul.d/playbooks/run-scripts.yml).\n\nChange-Id: I2dfaf3f3a8981b45e4a283f0ae4161c11f30c016\n'}, {'number': 10, 'created': '2018-11-05 08:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/34bc20384d4c3ed532b9289ae231e4ce482eabc9', 'message': 'Use new script runner play/role\n\nThis replaces the current runner in the job definitions\n(playbooks/osh-infra-gate-runner.yaml) with the scenario based\nrunner (zuul.d/playbooks/run-scripts.yml).\n\nChange-Id: I2dfaf3f3a8981b45e4a283f0ae4161c11f30c016\n'}, {'number': 11, 'created': '2018-11-08 19:41:32.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/95421893165b5b6d86c1ccb2396a4eeee86ed143', 'message': 'Use new script runner play/role\n\nThis replaces the current runner in the job definitions\n(playbooks/osh-infra-gate-runner.yaml) with the scenario based\nrunner (zuul.d/playbooks/run-scripts.yml).\n\nChange-Id: I2dfaf3f3a8981b45e4a283f0ae4161c11f30c016\n'}]",10,610473,95421893165b5b6d86c1ccb2396a4eeee86ed143,29,2,11,17068,,,0,"Use new script runner play/role

This replaces the current runner in the job definitions
(playbooks/osh-infra-gate-runner.yaml) with the scenario based
runner (zuul.d/playbooks/run-scripts.yml).

Change-Id: I2dfaf3f3a8981b45e4a283f0ae4161c11f30c016
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/73/610473/9 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/openstacksupport/020-ceph-ns-activate.sh', 'tools/deployment/openstacksupport/035-mariadb.sh', 'tools/deployment/keystoneauth/050-memcached.sh', 'tools/deployment/openstacksupport/045-openvswitch.sh', 'tools/deployment/openstacksupport/000-install-packages.sh', 'tools/deployment/keystoneauth/060-mariadb.sh', 'tools/deployment/openstacksupport/015-ceph.sh', 'tools/deployment/keystoneauth/020-ingress.sh', 'tools/deployment/keystoneauth/070-keystone.sh', 'tools/deployment/openstacksupport/010-ingress.sh', 'tools/deployment/keystoneauth/010-setup-client.sh', 'tools/deployment/keystoneauth/040-rabbitmq.sh', 'tools/deployment/keystoneauth/030-nfs-provisioner.sh', 'tools/deployment/openstacksupport/005-deploy-k8s.sh', 'tools/deployment/openstacksupport/040-libvirt.sh', 'zuul.d/project.yaml', 'tools/deployment/keystoneauth/080-check.sh', 'tools/deployment/openstacksupport/025-rabbitmq.sh', 'tools/deployment/openstacksupport/030-memcached.sh', 'zuul.d/jobs.yaml']",20,78a04acbefbf3b8da1668f54edd3d485e1350029,gate-cleaning," name: openstack-helm-base parent: base abstract: true description: | The base job which all openstack-helm jobs inherit from to ensure all the repositories are in place required-projects: - name: openstack/openstack-helm-infra - name: openstack/openstack-helm-addons - name: openstack/openstack-helm - job: parent: openstack-helm-base# SINGLE NODE JOBS - job: name: openstack-helm-functional abstract: true timeout: 7200 description: | The minimum functional job openstack-helm jobs can inherit from. This is running scripts with a timeout of 2 hours based on job name, and collecting logs. It ignores documentation and runs on a single xenial node. # TODO(evrardjp): Reduce this to multiple plays # in a single playbook. The scope of the pre-run # should be limited to gating extras. The rest # like set up of k8s must go into a different # play inside a shell script inside the run # steps. pre-run: - playbooks/osh-infra-upgrade-host.yaml run: zuul.d/playbooks/run-scripts.yml post-run: playbooks/osh-infra-collect-logs.yaml nodeset: ubuntu-xenial name: openstack-helm-developer_ceph name: openstack-helm-developer_nfs name: openstack-helm-openstacksupport name: openstack-helm-keystoneauth # MULTI NODE JOBS - job: name: openstack-helm-multinode abstract: true parent: openstack-helm-functional # Pre-run inherits from functional parent play # So this only does multi node thingies. # Can probably be moved away. pre-run: - playbooks/osh-infra-deploy-docker.yaml - playbooks/osh-infra-build.yaml - playbooks/osh-infra-deploy-k8s.yaml nodeset: openstack-helm-five-node-ubuntu #TODO(evrardjp): Move to standard job below: #nodeset: ubuntu-xenial-3-node vars: # TODO(evrardjp): Move the excluded scripts into a profile # (job variant like openstack-helm-multinode-no_falco), # or a completely different scenario (different folder) excluded_scripts: - ""falco.sh"" - ""kube-node-subnet.sh"" - job: name: openstack-helm-multinode-ubuntu parent: openstack-helm-multinode # TODO(evrardjp): Migrate to standard nodeset nodeset: openstack-helm-ubuntu - job: name: openstack-helm-multinode-centos parent: openstack-helm-multinode # TODO(evrardjp): Migrate to standard nodeset nodeset: openstack-helm-centos - job: name: openstack-helm-multinode-fedora parent: openstack-helm-multinode # TODO(evrardjp): Migrate to standard nodeset nodeset: openstack-helm-fedora - job: name: openstack-helm-multinode-five-ubuntu parent: openstack-helm-multinode - job: name: openstack-helm-multinode-five-centos parent: openstack-helm-multinode # TODO(evrardjp): Migrate to standard nodeset nodeset: openstack-helm-five-node-centos - job: name: openstack-helm-multinode-five-fedora parent: openstack-helm-multinode # TODO(evrardjp): Migrate to standard nodeset nodeset: openstack-helm-five-node-fedora",- job: name: openstack-helm-infra-functional name: openstack-helm-infra-linter run: playbooks/zuul-linter.yaml nodeset: openstack-helm-single-node - job: name: openstack-helm-infra timeout: 7200 pre-run: - playbooks/osh-infra-upgrade-host.yaml - playbooks/osh-infra-deploy-docker.yaml - playbooks/osh-infra-build.yaml - playbooks/osh-infra-deploy-k8s.yaml run: playbooks/osh-infra-gate-runner.yaml post-run: playbooks/osh-infra-collect-logs.yaml vars: gate_scripts: - ./tools/deployment/multinode/010-deploy-docker-registry.sh - ./tools/deployment/multinode/020-ingress.sh - ./tools/deployment/multinode/030-ceph.sh - ./tools/deployment/multinode/035-ceph-ns-activate.sh - ./tools/deployment/multinode/040-ldap.sh - ./tools/deployment/multinode/045-mariadb.sh - ./tools/deployment/multinode/050-prometheus.sh - ./tools/deployment/multinode/060-alertmanager.sh - ./tools/deployment/multinode/070-kube-state-metrics.sh - ./tools/deployment/multinode/080-node-exporter.sh - ./tools/deployment/multinode/085-process-exporter.sh - ./tools/deployment/multinode/090-openstack-exporter.sh - ./tools/deployment/multinode/100-grafana.sh - ./tools/deployment/multinode/110-nagios.sh - ./tools/deployment/multinode/115-radosgw-osh-infra.sh - ./tools/deployment/multinode/120-elasticsearch.sh - ./tools/deployment/multinode/125-elasticsearch-ldap.sh - ./tools/deployment/multinode/130-fluent-logging.sh - ./tools/deployment/multinode/140-kibana.sh name: openstack-helm-infra-ubuntu parent: openstack-helm-infra nodeset: openstack-helm-ubuntu - job: name: openstack-helm-infra-centos parent: openstack-helm-infra nodeset: openstack-helm-centos - job: name: openstack-helm-infra-fedora parent: openstack-helm-infra nodeset: openstack-helm-fedora - job: name: openstack-helm-infra-dev-deploy-ceph timeout: 7200 pre-run: playbooks/osh-infra-upgrade-host.yaml run: playbooks/osh-infra-gate-runner.yaml post-run: playbooks/osh-infra-collect-logs.yaml nodeset: openstack-helm-single-node vars: gate_scripts: - ./tools/deployment/developer/ceph/000-install-packages.sh - ./tools/deployment/developer/ceph/005-deploy-k8s.sh - ./tools/deployment/developer/ceph/010-deploy-docker-registry.sh - ./tools/deployment/developer/ceph/020-ingress.sh - ./tools/deployment/developer/ceph/030-ceph.sh - ./tools/deployment/developer/ceph/035-ceph-ns-activate.sh - ./tools/deployment/developer/ceph/040-ldap.sh - ./tools/deployment/developer/ceph/045-mariadb.sh - ./tools/deployment/developer/ceph/050-prometheus.sh - ./tools/deployment/developer/ceph/060-alertmanager.sh - ./tools/deployment/developer/ceph/070-kube-state-metrics.sh - ./tools/deployment/developer/ceph/080-node-exporter.sh - ./tools/deployment/developer/ceph/090-process-exporter.sh - ./tools/deployment/developer/ceph/100-grafana.sh - ./tools/deployment/developer/ceph/110-nagios.sh - ./tools/deployment/developer/ceph/115-radosgw-osh-infra.sh - ./tools/deployment/developer/ceph/120-elasticsearch.sh - ./tools/deployment/developer/ceph/125-elasticsearch-ldap.sh - ./tools/deployment/developer/ceph/130-fluent-logging.sh - ./tools/deployment/developer/ceph/140-kibana.sh name: openstack-helm-infra-dev-deploy-nfs timeout: 7200 pre-run: playbooks/osh-infra-upgrade-host.yaml run: playbooks/osh-infra-gate-runner.yaml post-run: playbooks/osh-infra-collect-logs.yaml nodeset: openstack-helm-single-node vars: gate_scripts: - ./tools/deployment/developer/nfs/000-install-packages.sh - ./tools/deployment/developer/nfs/005-deploy-k8s.sh - ./tools/deployment/developer/nfs/010-deploy-docker-registry.sh - ./tools/deployment/developer/nfs/020-ingress.sh - ./tools/deployment/developer/nfs/030-nfs-provisioner.sh - ./tools/deployment/developer/nfs/040-ldap.sh - ./tools/deployment/developer/nfs/045-mariadb.sh - ./tools/deployment/developer/nfs/050-prometheus.sh - ./tools/deployment/developer/nfs/060-alertmanager.sh - ./tools/deployment/developer/nfs/070-kube-state-metrics.sh - ./tools/deployment/developer/nfs/080-node-exporter.sh - ./tools/deployment/developer/nfs/090-process-exporter.sh - ./tools/deployment/developer/nfs/100-grafana.sh - ./tools/deployment/developer/nfs/110-nagios.sh - ./tools/deployment/developer/nfs/120-elasticsearch.sh - ./tools/deployment/developer/nfs/125-elasticsearch-ldap.sh - ./tools/deployment/developer/nfs/130-fluent-logging.sh - ./tools/deployment/developer/nfs/140-kibana.sh name: openstack-helm-infra-openstack-support timeout: 7200 pre-run: playbooks/osh-infra-upgrade-host.yaml run: playbooks/osh-infra-gate-runner.yaml post-run: playbooks/osh-infra-collect-logs.yaml nodeset: openstack-helm-single-node vars: gate_scripts: - ./tools/deployment/openstack-support/000-install-packages.sh - ./tools/deployment/openstack-support/005-deploy-k8s.sh - ./tools/deployment/openstack-support/010-ingress.sh - ./tools/deployment/openstack-support/015-ceph.sh - ./tools/deployment/openstack-support/020-ceph-ns-activate.sh - ./tools/deployment/openstack-support/025-rabbitmq.sh - ./tools/deployment/openstack-support/030-memcached.sh - ./tools/deployment/openstack-support/035-mariadb.sh - ./tools/deployment/openstack-support/040-libvirt.sh - ./tools/deployment/openstack-support/045-openvswitch.sh - job: name: openstack-helm-infra-five-ubuntu parent: openstack-helm-infra nodeset: openstack-helm-five-node-ubuntu - job: name: openstack-helm-infra-five-centos parent: openstack-helm-infra nodeset: openstack-helm-five-node-centos - job: name: openstack-helm-infra-five-fedora parent: openstack-helm-infra nodeset: openstack-helm-five-node-fedora - job: name: openstack-helm-infra-kubernetes-keystone-auth parent: openstack-helm-infra nodeset: openstack-helm-single-node run: playbooks/osh-infra-gate-runner.yaml required-projects: - openstack/openstack-helm gate_scripts: - ./tools/deployment/keystone-auth/010-setup-client.sh - ./tools/deployment/keystone-auth/020-ingress.sh - ./tools/deployment/keystone-auth/030-nfs-provisioner.sh - ./tools/deployment/keystone-auth/040-rabbitmq.sh - ./tools/deployment/keystone-auth/050-memcached.sh - ./tools/deployment/keystone-auth/060-mariadb.sh - ./tools/deployment/keystone-auth/070-keystone.sh,106,165
openstack%2Fopenstack-helm-infra~master~Ifbe93a57066446afc0f3b98ddab3cf330e92fd93,openstack/openstack-helm-infra,master,Ifbe93a57066446afc0f3b98ddab3cf330e92fd93,Add script runner role and play,ABANDONED,2018-10-13 15:27:01.000000000,2019-09-17 08:16:28.000000000,,"[{'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-13 15:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e17139fe9f4ada1e3c9d5c6dcc82058eb35e4ac1', 'message': 'Add script runner role and play\n\nThis adds a new script runner with the following features:\n- Ability to automatically find and trigger shell scripts\n  or alternatively, receive a list of shell scripts to\n  run for a job\n- Ability to run cross-repositories with a single playbook\n- Ability to use scenarios\n- Ability to use environment variables overrides\n  selectively based on shell script name (string matching)\n- Ability to blacklist a script based on name (string matching)\n\nChange-Id: Ifbe93a57066446afc0f3b98ddab3cf330e92fd93\n'}, {'number': 2, 'created': '2018-10-15 09:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ce4f141f868f4e520808c099210bf333ea4a60ea', 'message': 'Add script runner role and play\n\nThis adds a new script runner with the following features:\n- Ability to automatically find and trigger shell scripts\n  or alternatively, receive a list of shell scripts to\n  run for a job\n- Ability to run cross-repositories with a single playbook\n- Ability to use scenarios\n- Ability to use environment variables overrides\n  selectively based on shell script name (string matching)\n- Ability to blacklist a script based on name (string matching)\n\nChange-Id: Ifbe93a57066446afc0f3b98ddab3cf330e92fd93\n'}, {'number': 3, 'created': '2018-10-15 09:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ac21f62719b8caa48e582d9752d30d02444bd5a6', 'message': 'Add script runner role and play\n\nThis adds a new script runner with the following features:\n- Ability to automatically find and trigger shell scripts\n  or alternatively, receive a list of shell scripts to\n  run for a job\n- Ability to run cross-repositories with a single playbook\n- Ability to use scenarios\n- Ability to use environment variables overrides\n  selectively based on shell script name (string matching)\n- Ability to blacklist a script based on name (string matching)\n\nChange-Id: Ifbe93a57066446afc0f3b98ddab3cf330e92fd93\n'}, {'number': 4, 'created': '2018-10-15 10:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f6e787e87cd2046260b8d9b5bbc2f13b5e0d54c6', 'message': 'Add script runner role and play\n\nThis adds a new script runner with the following features:\n- Ability to automatically find and trigger shell scripts\n  or alternatively, receive a list of shell scripts to\n  run for a job\n- Ability to run cross-repositories with a single playbook\n- Ability to use scenarios\n- Ability to use environment variables overrides\n  selectively based on shell script name (string matching)\n- Ability to blacklist a script based on name (string matching)\n\nChange-Id: Ifbe93a57066446afc0f3b98ddab3cf330e92fd93\n'}, {'number': 5, 'created': '2018-10-19 07:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/29d4b393201bc412e8c40946f08c1c7631de2ebc', 'message': 'Add script runner role and play\n\nThis adds a new script runner with the following features:\n- Ability to automatically find and trigger shell scripts\n  or alternatively, receive a list of shell scripts to\n  run for a job\n- Ability to run cross-repositories with a single playbook\n- Ability to use scenarios\n- Ability to use environment variables overrides\n  selectively based on shell script name (string matching)\n- Ability to blacklist a script based on name (string matching)\n\nChange-Id: Ifbe93a57066446afc0f3b98ddab3cf330e92fd93\n'}, {'number': 6, 'created': '2018-10-19 08:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b636ee73f1927e77f29d580a81be4d941d30005e', 'message': 'Add script runner role and play\n\nThis adds a new script runner with the following features:\n- Ability to automatically find and trigger shell scripts\n  or alternatively, receive a list of shell scripts to\n  run for a job\n- Ability to run cross-repositories with a single playbook\n- Ability to use scenarios\n- Ability to use environment variables overrides\n  selectively based on shell script name (string matching)\n- Ability to blacklist a script based on name (string matching)\n\nChange-Id: Ifbe93a57066446afc0f3b98ddab3cf330e92fd93\n'}, {'number': 7, 'created': '2018-10-21 16:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/08795f74a5d25f950c0c7eecf3c1f3268237d579', 'message': 'Add script runner role and play\n\nThis adds a new script runner with the following features:\n- Ability to automatically find and trigger shell scripts\n  or alternatively, receive a list of shell scripts to\n  run for a job\n- Ability to run cross-repositories with a single playbook\n- Ability to use scenarios\n- Ability to use environment variables overrides\n  selectively based on shell script name (string matching)\n- Ability to blacklist a script based on name (string matching)\n\nChange-Id: Ifbe93a57066446afc0f3b98ddab3cf330e92fd93\n'}, {'number': 8, 'created': '2018-11-05 08:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/818f03af53482c5034ba6f5baa5ad5b70b176104', 'message': 'Add script runner role and play\n\nThis adds a new script runner with the following features:\n- Ability to automatically find and trigger shell scripts\n  or alternatively, receive a list of shell scripts to\n  run for a job\n- Ability to run cross-repositories with a single playbook\n- Ability to use scenarios\n- Ability to use environment variables overrides\n  selectively based on shell script name (string matching)\n- Ability to blacklist a script based on name (string matching)\n\nChange-Id: Ifbe93a57066446afc0f3b98ddab3cf330e92fd93\n'}, {'number': 9, 'created': '2018-11-08 19:41:22.000000000', 'files': ['roles/osh-run-script/tasks/run-script.yml', 'zuul.d/playbooks/roles', 'roles/osh-run-script/tasks/main.yml', 'roles/osh-run-script/README.md', 'roles/osh-run-script/tasks/main.yaml', 'roles/osh-run-script/defaults/main.yml', 'zuul.d/playbooks/run-scripts.yml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/79b9b1083d37ec73f38f45a0b7d54ed75ada874b', 'message': 'Add script runner role and play\n\nThis adds a new script runner with the following features:\n- Ability to automatically find and trigger shell scripts\n  or alternatively, receive a list of shell scripts to\n  run for a job\n- Ability to run cross-repositories with a single playbook\n- Ability to use scenarios\n- Ability to use environment variables overrides\n  selectively based on shell script name (string matching)\n- Ability to blacklist a script based on name (string matching)\n\nChange-Id: Ifbe93a57066446afc0f3b98ddab3cf330e92fd93\n'}]",0,610267,79b9b1083d37ec73f38f45a0b7d54ed75ada874b,17,2,9,17068,,,0,"Add script runner role and play

This adds a new script runner with the following features:
- Ability to automatically find and trigger shell scripts
  or alternatively, receive a list of shell scripts to
  run for a job
- Ability to run cross-repositories with a single playbook
- Ability to use scenarios
- Ability to use environment variables overrides
  selectively based on shell script name (string matching)
- Ability to blacklist a script based on name (string matching)

Change-Id: Ifbe93a57066446afc0f3b98ddab3cf330e92fd93
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/67/610267/8 && git format-patch -1 --stdout FETCH_HEAD,"['roles/osh-run-script/tasks/run-script.yml', 'roles/osh-run-script/tasks/main.yml', 'roles/osh-run-script/README.md', 'roles/osh-run-script/tasks/main.yaml', 'roles/osh-run-script/defaults/main.yml', 'zuul.d/playbooks/run-scripts.yml']",6,e17139fe9f4ada1e3c9d5c6dcc82058eb35e4ac1,gate-cleaning,"--- # Copyright 2018 SUSE LINUX GmbH. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # Explanation of its usage is in osh-run-scripts role, README.md - hosts: ""{{ script_host | default('primary') }}"" roles: - osh-run-scripts ",,264,23
openstack%2Fopenstack-helm-infra~master~I257906229459453477d297a9c730e651edc3b700,openstack/openstack-helm-infra,master,I257906229459453477d297a9c730e651edc3b700,[WIP] Cleanup pre-run plays,ABANDONED,2018-10-09 16:25:39.000000000,2019-09-17 08:16:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-10-09 16:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7d06ca60147262585e2834b36e419a259f56dedc', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 2, 'created': '2018-10-09 16:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d6973f0b254cb8b1c91dd458b9e33f1ba48565a1', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 3, 'created': '2018-10-09 16:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d18c7d7abf46f1735cd3fbeff4710f423259a418', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 4, 'created': '2018-10-10 07:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4383f30e7c38728fa98fc116fc20af724a007e66', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 5, 'created': '2018-10-10 07:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8bebf43bd2727a8a8019b160b33173ab8c52aad6', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 6, 'created': '2018-10-10 10:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/04ba36e0bdf26320fa79f8a05cabbac92ebd80e1', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 7, 'created': '2018-10-10 12:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8c43cb66f345890e54ae558e6d95132a6d65276a', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 8, 'created': '2018-10-10 16:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0c3e40ddb43a391c62ab43a5c578223601716765', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 9, 'created': '2018-10-10 16:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/716f302f9d3ed23077e77a57508d771cfb0d40d6', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 10, 'created': '2018-10-10 16:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9ec5c75b32354e459cfe69c1c81eafabb610d350', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 11, 'created': '2018-10-10 20:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/315ace93a299dbab6f4febd5fca33ec4f98eab29', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 12, 'created': '2018-10-11 07:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3182078ee04030fe606d692e6f0390aeece3ccb3', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 13, 'created': '2018-10-11 12:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f6440536934f60da51fd09bdc38142518a2bc0d8', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 14, 'created': '2018-10-11 13:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/497e37a09d939a9db9c32d5ec3ed04adc4d70b8f', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 15, 'created': '2018-10-11 16:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1b641a387b087fe54de1b4cf38afdda6c3840738', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 16, 'created': '2018-10-11 16:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/aa2e8bb63a61930cc5bb69ef099051b6a8feaf92', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 17, 'created': '2018-10-11 16:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b7426d851a6767086543599c1e4943f6f496fcff', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 18, 'created': '2018-10-11 16:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dc01663e676bebf5ece47fcef69cf5909a1e76b2', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 19, 'created': '2018-10-12 08:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/10b1b21800d459f3402fe71fce65c683d34ed615', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 20, 'created': '2018-10-12 10:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5f8286ce180a238c2eda1cda8957215164f41b38', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 21, 'created': '2018-10-12 10:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b3db84990bac28dcee1e39ccb99141d8b73f006e', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 22, 'created': '2018-10-12 13:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/be674a3dd75fefdb75a090af0e5e236f2a112646', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 23, 'created': '2018-10-12 13:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a5ed6822ffff7fa19288cb34dd280bf7d3bad261', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 24, 'created': '2018-10-12 14:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e2e39ebca405f4ab3a461f0e4f414b5756c9eb0a', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 25, 'created': '2018-10-16 11:19:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cd3ee658808ee055f9806d4e29add46701f3b964', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 26, 'created': '2018-10-16 11:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d6740a52961dfc40c3f721441a3ac3dd7303e0de', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 27, 'created': '2018-10-17 07:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/333f6e1f2137c91f0dbdf9493e6d92ee6c4a426e', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 28, 'created': '2018-10-17 09:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cdd12d593955a34114804b2b91cf40ebcdd06c73', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 29, 'created': '2018-10-17 13:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c4efd1148a7f7f7007757d411b76376c0fd67b1c', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}, {'number': 30, 'created': '2018-10-17 13:57:30.000000000', 'files': ['roles/kubeadm/tasks/main.yml', 'roles/osh_bootstrap_host/tasks/nameserver.yml', 'roles/osh_bootstrap_host/vars/suse.yml', 'roles/kubeadm/defaults/main.yml', 'playbooks/osh-install-requirements.yml', 'roles/kubeadm/handlers/main.yml', 'roles/kubeadm/vars/debian.yml', 'playbooks/osh-infra-build.yaml', 'roles/kubeadm/tasks/deploy-kubelet.yml', 'roles/osh_bootstrap_host/vars/ubuntu.yml', 'roles/osh_bootstrap_host/vars/fedora.yml', 'roles/kubeadm/vars/redhat.yml', 'roles/osh_bootstrap_host/tasks/main.yml', 'roles/osh_bootstrap_host/vars/debian.yml', 'roles/osh_bootstrap_host/vars/main.yml', 'roles/kubeadm/tasks/run-util-kubeadm-aio.yml', 'roles/osh_bootstrap_host/tasks/firewall.yml', 'roles/osh_bootstrap_host/defaults/main.yml', 'playbooks/osh-install-k8s.yml', 'roles/osh_bootstrap_host/handlers/main.yml', 'roles/kubeadm/tasks/util-generate-join-command.yaml', 'roles/kubeadm/vars/fedora.yml', 'roles/osh_bootstrap_host/vars/redhat.yml', 'zuul.d/project.yaml', 'roles/kubeadm/vars/main.yml', 'roles/osh_bootstrap_host/tasks/setup_packages.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fe5229fb2891e4ea32502bff13c826f3e3d91a1c', 'message': ""[WIP] Cleanup pre-run plays\n\nThis reimplements the pre-run plays.\nIt makes sure it's easier to read, easier to customize for\nmultiple distros.\n\nIt also adds a first job to test the runner, exercising those\nnew pre-run plays.\n\nTODO: Introduce a gate profile for bypassing some scripts of\nthe multinode folder\n\nChange-Id: I257906229459453477d297a9c730e651edc3b700\n""}]",0,609048,fe5229fb2891e4ea32502bff13c826f3e3d91a1c,47,1,30,17068,,,0,"[WIP] Cleanup pre-run plays

This reimplements the pre-run plays.
It makes sure it's easier to read, easier to customize for
multiple distros.

It also adds a first job to test the runner, exercising those
new pre-run plays.

TODO: Introduce a gate profile for bypassing some scripts of
the multinode folder

Change-Id: I257906229459453477d297a9c730e651edc3b700
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/48/609048/26 && git format-patch -1 --stdout FETCH_HEAD,"['roles/kubeadm/tasks/main.yml', 'roles/osh_bootstrap_host/tasks/nameserver.yml', 'roles/kubeadm/defaults/main.yml', 'playbooks/osh-install-requirements.yml', 'roles/kubeadm/handlers/main.yml', 'roles/kubeadm/vars/debian.yml', 'playbooks/osh-infra-build.yaml', 'roles/osh_bootstrap_host/vars/fedora.yml', 'roles/kubeadm/vars/redhat.yml', 'roles/osh_bootstrap_host/tasks/main.yml', 'roles/osh_bootstrap_host/vars/debian.yml', 'roles/osh_bootstrap_host/vars/main.yml', 'roles/kubeadm/tasks/firewall.yml', 'roles/osh_bootstrap_host/tasks/firewall.yml', 'roles/osh_bootstrap_host/defaults/main.yml', 'playbooks/osh-install-k8s.yml', 'roles/osh_bootstrap_host/handlers/main.yml', 'roles/kubeadm/tasks/nameserver.yml', 'roles/kubeadm/vars/fedora.yml', 'roles/osh_bootstrap_host/vars/redhat.yml', 'zuul.d/project.yaml', 'roles/kubeadm/vars/main.yml', 'roles/osh_bootstrap_host/tasks/setup_packages.yml', 'zuul.d/jobs.yaml']",24,7d06ca60147262585e2834b36e419a259f56dedc,gate-cleaning, name: openstack-helm-base parent: base description: | The base job which all openstack-helm jobs inherit from to ensure all the repositories are in place required-projects: - name: openstack/openstack-helm-infra - name: openstack/openstack-helm-addons - name: openstack/openstack-helm - job: parent: openstack-helm-base - job: name: openstack-helm-multinode-jp_wip parent: openstack-helm-base timeout: 7200 irrelevant-files: - ^.*\.rst$ - ^doc/.*$ - ^releasenotes/.*$ pre-run: #TODO(evrardjp): Cleanup the osh-infra-build play to be # 1) independant of OSH infra naming # 2) separating the chart building from image building - playbooks/osh-install-requirements.yml - playbooks/osh-infra-build.yaml - playbooks/osh-install-k8s.yml run: zuul.d/playbooks/run-scripts.yml post-run: playbooks/osh-infra-collect-logs.yaml,,627,4
openstack%2Fopenstack-helm~master~I97a7afbbe25fa8526f537a355652da28bb19b753,openstack/openstack-helm,master,I97a7afbbe25fa8526f537a355652da28bb19b753,Cleanup project jobs for openstack-helm,ABANDONED,2018-10-05 12:54:05.000000000,2019-09-17 08:16:06.000000000,,"[{'_account_id': 8898}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-05 12:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fa7226718feabe0673dc13d9025e73c3d9946085', 'message': 'Cleanup project jobs for openstack-helm\n\nThis cleans up project jobs for the openstack-helm repo.\nIt will provide better developer experience, at the expense of\nthe need to organise a watch of the periodic jobs.\n\nChange-Id: I97a7afbbe25fa8526f537a355652da28bb19b753\n'}, {'number': 2, 'created': '2018-10-05 12:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2072c6463ccf722bf70cab1aab2e16d00a682221', 'message': 'Cleanup project jobs for openstack-helm\n\nThis cleans up project jobs for the openstack-helm repo.\nIt will provide better developer experience, at the expense of\nthe need to organise a watch of the periodic jobs.\n\nChange-Id: I97a7afbbe25fa8526f537a355652da28bb19b753\n'}, {'number': 3, 'created': '2018-10-06 12:25:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ba851216cda9c820acd1b0b090c2d782f46672a3', 'message': 'Cleanup project jobs for openstack-helm\n\nThis cleans up project jobs for the openstack-helm repo.\nIt will provide better developer experience, at the expense of\nthe need to organise a watch of the periodic jobs.\n\nChange-Id: I97a7afbbe25fa8526f537a355652da28bb19b753\n'}]",1,608256,ba851216cda9c820acd1b0b090c2d782f46672a3,11,3,3,17068,,,0,"Cleanup project jobs for openstack-helm

This cleans up project jobs for the openstack-helm repo.
It will provide better developer experience, at the expense of
the need to organise a watch of the periodic jobs.

Change-Id: I97a7afbbe25fa8526f537a355652da28bb19b753
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/56/608256/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fa7226718feabe0673dc13d9025e73c3d9946085,gate-cleaning," # TODO(evrardjp): Promote one multinode job when possible - openstack-helm-latest-multinode # TODO(evrardjp): Promote tempest as voting or clean its content if too long. # TODO(evrardjp): Promote ironic as voting, or clean its content if too long. # Determine if this is really important to have a specific multi node test # or if we should be more flexible in the scenario tasks instead. - openstack-helm-latest-3node_ironic - openstack-helm-latest-multinode-armada_fullstack_deploy # NOTE(evrardjp): These jobs are to be triggered when a branch conditional # is added in code - openstack-helm-ocata-dev_deploy_ceph - openstack-helm-ocata-dev_deploy_ceph-kolla - openstack-helm-pike-dev_deploy_ceph - openstack-helm-pike-dev_deploy_ceph-kolla periodic: # NOTE(evrardjp): These are the jobs we need to keep an eye on # http://zuul.openstack.org/builds.html?pipeline=periodic&project=openstack%2Fopenstack-helm - openstack-helm-latest-multinode - openstack-helm-latest-3node_ironic - openstack-helm-latest-multinode-armada_fullstack_deploy - openstack-helm-ocata-dev_deploy_ceph - openstack-helm-ocata-dev_deploy_ceph-kolla - openstack-helm-pike-dev_deploy_ceph - openstack-helm-pike-dev_deploy_ceph-kolla ", - openstack-helm-latest-multinode: voting: false - openstack-helm-latest-3node_ironic: voting: false - openstack-helm-latest-multinode-armada_fullstack_deploy: voting: false - openstack-helm-ocata-dev_deploy_ceph: voting: false - openstack-helm-ocata-dev_deploy_ceph-kolla: voting: false - openstack-helm-pike-dev_deploy_ceph: voting: false - openstack-helm-pike-dev_deploy_ceph-kolla: voting: false,25,14
openstack%2Fopenstack-ansible~master~Ica470f4dca1c7c7f2903dcf3d6a45486710381d2,openstack/openstack-ansible,master,Ica470f4dca1c7c7f2903dcf3d6a45486710381d2,[DNM] Test profiling ansible tasks,ABANDONED,2018-05-29 18:14:56.000000000,2019-09-17 08:15:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-05-29 18:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2347d800312cc5056bcb6c47b23efa3702999211', 'message': '[DNM] Test profiling ansible tasks\n\nJust for the sake of the possible improvements. Will probably\nOOM very quick, but worth trying.\n\nChange-Id: Ica470f4dca1c7c7f2903dcf3d6a45486710381d2\n'}, {'number': 2, 'created': '2018-05-31 11:17:14.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d85907858fc6353d6c85e16f6afda7ec44855031', 'message': '[DNM] Test profiling ansible tasks\n\nJust for the sake of the possible improvements. Will probably\nOOM very quick, but worth trying.\n\nChange-Id: Ica470f4dca1c7c7f2903dcf3d6a45486710381d2\n'}]",0,570993,d85907858fc6353d6c85e16f6afda7ec44855031,7,2,2,17068,,,0,"[DNM] Test profiling ansible tasks

Just for the sake of the possible improvements. Will probably
OOM very quick, but worth trying.

Change-Id: Ica470f4dca1c7c7f2903dcf3d6a45486710381d2
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/93/570993/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,2347d800312cc5056bcb6c47b23efa3702999211,add_profiler,"export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""git+https://github.com/evrardjp/ansible@ff1f054a5fff3b3b71b86ffb79258934a92fb6a3""} ansible-profile stat ansible-playbook ""\${@}"" \${VAR1}","export ANSIBLE_PACKAGE=${ANSIBLE_PACKAGE:-""ansible==2.4.4.0""} ansible-playbook ""\${@}"" \${VAR1}",2,2
openstack%2Fopenstack-ansible~master~Ibfd34ebf641dcc80828ba9cba250629569f09073,openstack/openstack-ansible,master,Ibfd34ebf641dcc80828ba9cba250629569f09073,[WIP] Move translations into metal,ABANDONED,2018-05-07 05:31:55.000000000,2019-09-17 08:15:54.000000000,,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2018-05-07 05:31:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/616c3ccfb119b2ca8f5ec21f511931c4ad8a2bf4', 'message': ""[WIP] Move translations into metal\n\nSee if it works better that way. We are getting OOM issues\nall the time, now it's after sahara.\n\nChange-Id: Ibfd34ebf641dcc80828ba9cba250629569f09073\n""}, {'number': 2, 'created': '2018-05-08 07:34:46.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'tests/vars/bootstrap-aio-vars.yml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b9e4800cb0b3713f7fa9e4571eb1cc720b3c2b98', 'message': ""[WIP] Move translations into metal\n\nSee if it works better that way. We are getting OOM issues\nall the time, now it's after sahara.\n\nChange-Id: Ibfd34ebf641dcc80828ba9cba250629569f09073\n""}]",0,566505,b9e4800cb0b3713f7fa9e4571eb1cc720b3c2b98,13,3,2,17068,,,0,"[WIP] Move translations into metal

See if it works better that way. We are getting OOM issues
all the time, now it's after sahara.

Change-Id: Ibfd34ebf641dcc80828ba9cba250629569f09073
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/05/566505/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'tests/vars/bootstrap-aio-vars.yml']",2,616c3ccfb119b2ca8f5ec21f511931c4ad8a2bf4,run_translations_job_on_metal,, - name: haproxy.yml.aio,1,2
openstack%2Fopenstack-ansible-specs~master~I397ce8833689cbf41a69b22d7c8ef48588851974,openstack/openstack-ansible-specs,master,I397ce8833689cbf41a69b22d7c8ef48588851974,Allow non-priviledged users to configure OSA,ABANDONED,2018-04-05 15:09:11.000000000,2019-09-17 08:15:47.000000000,,"[{'_account_id': 1004}, {'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2018-04-05 15:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/e6ccbb39c3f46c03d7f1af1e30e30e489225ce8f', 'message': ""Allow non-priviledged users to configure OSA\n\nNon root users can't work with OSA because of the conventions\nwe've set.\n\nWe can change that.\n\nThis doesn't mean the deployment itself doesn't require root\non the target nodes, but at least it won't require root on\nthe deployment node.\n\nChange-Id: I397ce8833689cbf41a69b22d7c8ef48588851974\n""}, {'number': 2, 'created': '2018-04-17 10:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/03b23f4fe8d036492f23882e799b0d76d297793c', 'message': ""Allow non-priviledged users to configure OSA\n\nNon root users can't work with OSA because of the conventions\nwe've set.\n\nWe can change that.\n\nThis doesn't mean the deployment itself doesn't require root\non the target nodes, but at least it won't require root on\nthe deployment node.\n\nChange-Id: I397ce8833689cbf41a69b22d7c8ef48588851974\n""}, {'number': 3, 'created': '2018-04-17 10:35:02.000000000', 'files': ['specs/rocky/stop_using_openstackdeploy_folder.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/2bfcf6accabbf7cd9c821403550117c4177b7fda', 'message': ""Allow non-priviledged users to configure OSA\n\nNon root users can't work with OSA because of the conventions\nwe've set.\n\nWe can change that.\n\nThis doesn't mean the deployment itself doesn't require root\non the target nodes, but at least it won't require root on\nthe deployment node.\n\nChange-Id: I397ce8833689cbf41a69b22d7c8ef48588851974\n""}]",3,559105,2bfcf6accabbf7cd9c821403550117c4177b7fda,12,6,3,17068,,,0,"Allow non-priviledged users to configure OSA

Non root users can't work with OSA because of the conventions
we've set.

We can change that.

This doesn't mean the deployment itself doesn't require root
on the target nodes, but at least it won't require root on
the deployment node.

Change-Id: I397ce8833689cbf41a69b22d7c8ef48588851974
",git fetch https://review.opendev.org/openstack/openstack-ansible-specs refs/changes/05/559105/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/stop_using_openstackdeploy_folder.rst'],1,e6ccbb39c3f46c03d7f1af1e30e30e489225ce8f,change_the_root_folder_of_configuration,"Stop using /etc/openstack_deploy/ ################################# :date: 2018-04-05 16:49 :tags: user, configuration, in, userspace Right now we put our inventory and user configuration files in ``/etc/openstack_deploy``. I would like to move that to the user directory, so it can be more flexible: Different users can deploy different versions of OSA without overlapping into each other. A test and a production environment should be able to co-exist on the same deployment node. Problem description =================== Our convention to use ``/etc/openstack_deploy`` is not ideal: * The name is not related to openstack-ansible * The etc folder is root owned, which therefore prevents deployment for unpriviledged users of a system. * The convention make overlaps of two deployments on the same system impossible. * The code is spread out in different places: the home folder for cache files (example: role tests, manipulation of files), the ``/etc/openstack_deploy`` for the user configuration, the ``/opt/openstack-ansible`` folder for code, and the ``/etc/ansible/`` folder for ansible roles (for the integrated build). Proposed change =============== Move files into the home directory of the user: * Move all the cache files into ``~/.cache/openstack-ansible``. * Move all the configuration files into ``~/.config/openstack-ansible``. * Use the ansible roles into either the ansible standard location (``~/.ansible/roles/``), or into a sub-folder of openstack-ansible (example: ``playbooks/roles/``) which gets git-ignored (other extra roles should be still allowed from outside this folder). Alternatives ------------ Not changing a thing. Playbook/Role impact -------------------- None. Upgrade impact -------------- The upgrade script should handle the copy of the files from known locations to the user directory, and remove the files at the previous location after a successful upgrade. Security impact --------------- Deployment file manipulation will not require a root account anymore, and other positive improvements for security can be brought to the table. Performance impact ------------------ None End user impact --------------- None Deployer impact --------------- Like with all interface changes, deployer will be impacted. They will need to learn how we do things. Developer impact ---------------- Developer can finally try things without touching their ``/etc/`` folder. Dependencies ------------ None Implementation ============== Assignee(s) ----------- Primary assignee: evrardjp Other contributors: odyssey4me? Work items ---------- See above. Testing ======= Every change will be gate tested, and we'll see the impacts on upgrades. Documentation impact ==================== The documentation needs to be completely reviewed for changing the folders. References ========== None ",,137,0
openstack%2Fopenstack-ansible-specs~master~I5e0590f52ba464b1814fd5a1d4693c3622f885ff,openstack/openstack-ansible-specs,master,I5e0590f52ba464b1814fd5a1d4693c3622f885ff,Auto document required vars.,ABANDONED,2018-02-27 16:49:51.000000000,2019-09-17 08:15:43.000000000,,"[{'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-27 16:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/59e482a390860bab3ced4064c5df4a5f6843985d', 'message': 'Auto document required vars.\n\nChange-Id: I5e0590f52ba464b1814fd5a1d4693c3622f885ff\n'}, {'number': 2, 'created': '2018-03-12 21:20:40.000000000', 'files': ['specs/rocky/required-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/6d428b32dcc672f55792b3bbe045c4c7a8f593ce', 'message': 'Auto document required vars.\n\nChange-Id: I5e0590f52ba464b1814fd5a1d4693c3622f885ff\n'}]",4,548349,6d428b32dcc672f55792b3bbe045c4c7a8f593ce,8,3,2,17068,,,0,"Auto document required vars.

Change-Id: I5e0590f52ba464b1814fd5a1d4693c3622f885ff
",git fetch https://review.opendev.org/openstack/openstack-ansible-specs refs/changes/49/548349/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/rocky/required-vars.yml'],1,59e482a390860bab3ced4064c5df4a5f6843985d,automatic_checking_of_required_vars,"Required vars standardization ############################# :date: 2018-02-27 22:00 :tags: required, vars, simplification, standardization This spec is to standardize the checking and documenting of vars that are required for a role. Problem description =================== Some roles need variables about the environment before deployment. We have different patterns: - Manually define them in the first task of the role, and document them, like https://github.com/openstack/openstack-ansible-os_nova/blob/master/tasks/main.yml#L32 - Define a list of the required secrets into a variable that's useless, like this: https://github.com/openstack/openstack-ansible-os_keystone/blob/16dafa4718a1b1f97e4d46a2359f7b2c4cf3a015/tasks/main.yml#L20 Proposed change =============== - List the vars that are required into a separate file, so that it can be auto-documented by inclusion - Because those vars won't (and can't!) be loaded we won't know how to compare them, so we should load them in a specific namespace, and use that for comparison. Example: https://gist.github.com/evrardjp/36427ce995f04f2d914e229e30b05650 Alternatives ------------ Be better at documenting. Playbook/Role impact -------------------- None Upgrade impact -------------- None Security impact --------------- None Performance impact ------------------ Might be slower depending on the amount of vars to check. End user impact --------------- Better documentation by automating. Deployer impact --------------- Clearer documentation on what is required to run a role. Developer impact ---------------- Need to change all the roles with that pattern. Dependencies ------------ None. Implementation ============== Assignee(s) ----------- Anyone Work items ---------- See above. Testing ======= No change. Documentation impact ==================== Better docs References ========== None ",,103,0
openstack%2Fopenstack-ansible-os_keystone~master~I69082732b26a86c57cc7b014443b8f0c2716f7a8,openstack/openstack-ansible-os_keystone,master,I69082732b26a86c57cc7b014443b8f0c2716f7a8,[WIP] Add ansible modules idempotency testing,ABANDONED,2018-01-29 09:42:05.000000000,2019-09-17 08:15:39.000000000,,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-01-29 09:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/7d7f4a4a3d65eea0baf566c183426ae685fd8a90', 'message': ""[WIP] Add ansible modules idempotency testing\n\nThis adds upstream modules testing. The idea would be to be\nable to trigger from ansible's repo a module test using github's\nzuul module.\n\nChange-Id: I69082732b26a86c57cc7b014443b8f0c2716f7a8\n""}, {'number': 2, 'created': '2018-02-17 07:27:30.000000000', 'files': ['tests/ansible_modules_testing.yml', 'zuul.d/project.yaml', 'tox.ini', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/242fd8b475b265c11c95da4dbc1f5ffaaaacc54e', 'message': ""[WIP] Add ansible modules idempotency testing\n\nThis adds upstream modules testing. The idea would be to be\nable to trigger from ansible's repo a module test using github's\nzuul module.\n\nChange-Id: I69082732b26a86c57cc7b014443b8f0c2716f7a8\n""}]",0,538856,242fd8b475b265c11c95da4dbc1f5ffaaaacc54e,11,3,2,17068,,,0,"[WIP] Add ansible modules idempotency testing

This adds upstream modules testing. The idea would be to be
able to trigger from ansible's repo a module test using github's
zuul module.

Change-Id: I69082732b26a86c57cc7b014443b8f0c2716f7a8
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/56/538856/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/ansible_modules_testing.yml', 'zuul.d/project.yaml', 'tox.ini', 'zuul.d/jobs.yaml']",4,7d7f4a4a3d65eea0baf566c183426ae685fd8a90,test_ansible_modules, - job: name: openstack-ansible-keystone-ansiblemoduletest parent: openstack-ansible-functional-ubuntu-xenial voting: false vars: tox_env: ansible_modules_testing,,135,0
openstack%2Fopenstack-ansible-specs~master~I862bee5511dad0107c5f1f2b623b11fb492c6e13,openstack/openstack-ansible-specs,master,I862bee5511dad0107c5f1f2b623b11fb492c6e13,Cleanup openstack_user_config,ABANDONED,2017-08-31 15:33:50.000000000,2019-09-17 08:15:34.000000000,,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-31 15:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/8b19f33ac6ffcf72bbfa7779f0ec614b4773c28c', 'message': 'Cleanup openstack_user_config\n\nWe could cleanup the openstack_user_config now that we have\nuser level changes like group vars, host vars, and extra variables.\n\nChange-Id: I862bee5511dad0107c5f1f2b623b11fb492c6e13\n'}, {'number': 2, 'created': '2017-08-31 15:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/9b385a56e11020f9f6e62ad9c9991f993e4a1cb5', 'message': 'Cleanup openstack_user_config\n\nWe could cleanup the openstack_user_config now that we have\nuser level changes like group vars, host vars, and extra variables.\n\nChange-Id: I862bee5511dad0107c5f1f2b623b11fb492c6e13\n'}, {'number': 3, 'created': '2017-09-07 09:49:43.000000000', 'files': ['specs/queens/cleanup-openstack-user-config.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/73a8a462c79f39918ebbd5be0fcc9a6074f3f85b', 'message': 'Cleanup openstack_user_config\n\nWe could cleanup the openstack_user_config now that we have\nuser level changes like group vars, host vars, and extra variables.\n\nChange-Id: I862bee5511dad0107c5f1f2b623b11fb492c6e13\n'}]",6,499686,73a8a462c79f39918ebbd5be0fcc9a6074f3f85b,13,6,3,17068,,,0,"Cleanup openstack_user_config

We could cleanup the openstack_user_config now that we have
user level changes like group vars, host vars, and extra variables.

Change-Id: I862bee5511dad0107c5f1f2b623b11fb492c6e13
",git fetch https://review.opendev.org/openstack/openstack-ansible-specs refs/changes/86/499686/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/cleanup-openstack-user-config.rst'],1,8b19f33ac6ffcf72bbfa7779f0ec614b4773c28c,,"Cleanup OpenStack User Config ############################# :date: 2017-08-19 18:00 :tags: simplification, cleanup OpenStack-Ansible has many specifics, all of them for deployer convenience. It's a small step for some of those specifics to become black boxes, and become a less known/more obscure code. Less known code is a risk for the project on the long run, and we should avoid specifics to allow a more broad user base. Since project's inception, Ansible has evolved, and we've introduced many different features that would allow us to remove some of those blackboxes. The openstack_user_config.yml is one of those. We have now the conf.d folders to define the hosts per type of component, the group vars can scope many variables, and the user variables are enough to define variables globally. That should be enough for itself. We could use these features to cleanup the openstack_user_config.yml file. * The filename in the git repository should match the launchpad URL, for example a URL of: https://blueprints.launchpad.net/openstack-ansible/+spec/awesome-thing should be named awesome-thing.rst Problem description =================== One of the regular issues newcomers meet is a problem understanding how things are linked to each other in the openstack_user_config file: * They don't know how to configure keepalived with haproxy: keepalived requires user variables, while the load balancer vip addresses are defined in openstack_user_config * They often don't know how the impact of changing LB vip address, and therefore have a bad experience when we tell them they have to re-run all the playbooks. If they had a clear understanding on what was done, it would simplify their life on the scaling out of their environment. * They sometimes misconfigure external and internal lb vip addresses. * They don't understand the impact of changing a openstack_user_config variable. * They don't know how the openstack_inventory.json and our inventory are linked, which could lead to mess ups and issues. * They don't understand the details/full power of the dictionary used for networking purposes. Proposed change =============== To all these problems, being more clear about where the variables are used would greatly simplify deployer experience. For that, defining safe role defaults, shipping group variables if need be (in order to wire groups/variables), should allow an easier tracking of each of the variable usage. It also streamlines the experience, because OpenStack-Ansible would be closer to Ansible's standard usage. We should therefore: - phase out all the variables that we could define as user_variables or group variables. - Simplify the networking to use group variables where possible. Alternatives ------------ One alternative would be the status quo, with the risk of a possible big/bang later. Another alternative would be to not directly phase out the user interface (openstack_user_config), and create a python script that generates all the appropriate hosts/group/user variables. But it seems it would increase the technical debt, for a reduced advantage. Playbook/Role impact -------------------- Technically each piece of work should be implemented without impact for the playbooks, to pass CI tests. Upgrade impact -------------- If we chose to follow this approach instead of a big/bang approach, each of those work items would need an explained migration path. This could be achieved by release notes and documentation changes, to avoid technical debt of a migration script. Security impact --------------- No impact. Performance impact ------------------ Reducing the variables can only have a positive performance impact. End user impact --------------- No impact. Deployer impact --------------- The deployer would have to update its configuration file to match the new structure. Developer impact ---------------- A developer would have to understand how things are wired together. However, as explained in the problem description, it should make the process easier to understand. Dependencies ------------ None Implementation ============== Assignee(s) ----------- Primary assignee: evrardjp Work items ---------- - phase out all the variables in o_u_c that we could define as user variables. - same for group variables. - Simplify the networking to use group variables where possible. - Split the inventory in two parts internally: One for container name and IP generation, one for the rest of the hosts/group structure. Testing ======= OpenStack-Ansible main repository should pass gate testing, with the appropriate openstack_user_config/variables changes. Documentation impact ==================== Because this impacts the documentation, each of the work items should have a documentation change included. References ========== NA. ",,169,0
openstack%2Fopenstack-ansible~master~I518a4ee4d1ea1ad432dd3fe88b41da564a6ff3d0,openstack/openstack-ansible,master,I518a4ee4d1ea1ad432dd3fe88b41da564a6ff3d0,Include a role skeleton for ansible-galaxy,ABANDONED,2017-04-20 15:48:57.000000000,2019-09-17 08:15:25.000000000,,[],"[{'number': 1, 'created': '2017-04-20 15:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6bc3038a454b7d31af0e79a090238ff6f6291cf2', 'message': '[WIP] Include a role skeleton for ansible-galaxy\n\nThis should make possible for contributors to use\nansible-galaxy init <my_role_name> to generate a role according\nto latest OpenStack-Ansible standards.\n\nThis command line will have the necessary env vars after a\nbootstrap-ansible run. In the mean time, you should use\nthe --role-skeleton CLI argument.\n\nChange-Id: I518a4ee4d1ea1ad432dd3fe88b41da564a6ff3d0\n'}, {'number': 2, 'created': '2017-04-20 16:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/32dfad744ba2a1695382c25b051c489767ccba0c', 'message': '[WIP] Include a role skeleton for ansible-galaxy\n\nThis should make possible for contributors to use\nansible-galaxy init <my_role_name> to generate a role according\nto latest OpenStack-Ansible standards.\n\nThis command line will have the necessary env vars after a\nbootstrap-ansible run. In the mean time, you should use\nthe --role-skeleton CLI argument.\n\nChange-Id: I518a4ee4d1ea1ad432dd3fe88b41da564a6ff3d0\n'}, {'number': 3, 'created': '2017-05-27 16:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/440ee5e88cd8dfa4610961917285977bfd369bc3', 'message': 'Include a role skeleton for ansible-galaxy\n\nThis should make possible for contributors to use\nansible-galaxy init <my_role_name> to generate a role according\nto latest OpenStack-Ansible standards.\n\nThis command line will have the necessary env vars after a\nbootstrap-ansible run. In the mean time, you should use\nthe --role-skeleton CLI argument.\n\nChange-Id: I518a4ee4d1ea1ad432dd3fe88b41da564a6ff3d0\n'}, {'number': 4, 'created': '2017-05-27 16:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4044179351603cee588146296ee29a3ab7259c04', 'message': 'Include a role skeleton for ansible-galaxy\n\nThis should make possible for contributors to use\nansible-galaxy init <my_role_name> to generate a role according\nto latest OpenStack-Ansible standards.\n\nThis command line will have the necessary env vars after a\nbootstrap-ansible run. In the mean time, you should use\nthe --role-skeleton=scripts/role-skeleton CLI argument.\n\nChange-Id: I518a4ee4d1ea1ad432dd3fe88b41da564a6ff3d0\n'}, {'number': 5, 'created': '2017-05-27 16:56:45.000000000', 'files': ['scripts/role-skeleton/vars/ubuntu-16.04.yml.j2', 'scripts/role-skeleton/tasks/main.yml.j2', 'scripts/role-skeleton/tests/test-upgrade.yml.j2', 'scripts/role-skeleton/templates/plugins/README', 'scripts/role-skeleton/doc/source/index.rst.j2', 'scripts/role-skeleton/tests/host_vars/openstack1.yml.j2', 'scripts/role-skeleton/LICENSE.j2', 'scripts/role-skeleton/.gitreview.j2', 'scripts/role-skeleton/tasks/role_pre_install.yml.j2', 'scripts/role-skeleton/manual-test.rc.j2', 'scripts/bootstrap-ansible.sh', 'scripts/role-skeleton/releasenotes/source/index.rst.j2', 'scripts/role-skeleton/doc/Makefile.j2', 'scripts/role-skeleton/templates/api-paste.ini.j2.j2', 'scripts/role-skeleton/templates/sudoers.j2.j2', 'scripts/role-skeleton/.gitignore', 'scripts/role-skeleton/setup.cfg.j2', 'scripts/role-skeleton/templates/rootwrap.conf.j2.j2', 'scripts/role-skeleton/releasenotes/source/unreleased.rst.j2', 'scripts/role-skeleton/tox.ini.j2', 'scripts/role-skeleton/releasenotes/source/_templates/.placeholder.j2', 'scripts/role-skeleton/meta/main.yml.j2', 'scripts/role-skeleton/releasenotes/source/_static/.placeholder.j2', 'scripts/role-skeleton/tasks/role_install.yml.j2', 'scripts/role-skeleton/tests/test.yml.j2', 'scripts/role-skeleton/tests/role-overrides.yml.j2', 'scripts/role-skeleton/tests/ansible-role-requirements.yml.j2', 'scripts/role-skeleton/README.rst.j2', 'scripts/role-skeleton/tests/host_vars/localhost.yml.j2', 'scripts/role-skeleton/bindep.txt.j2', 'scripts/role-skeleton/tasks/role_db_setup.yml.j2', 'scripts/role-skeleton/vars/redhat-7.yml.j2', 'scripts/role-skeleton/templates/role-systemd-tmpfiles.j2.j2', 'scripts/role-skeleton/templates/role.conf.j2.j2', 'scripts/role-skeleton/tasks/role_post_install.yml.j2', 'scripts/role-skeleton/templates/policy.json.j2.j2', 'scripts/openstack-ansible.rc', 'scripts/role-skeleton/tasks/role_service_setup.yml.j2', 'scripts/role-skeleton/examples/playbook.yml.j2', 'scripts/role-skeleton/Vagrantfile.j2', 'scripts/role-skeleton/CONTRIBUTING.rst.j2', 'scripts/role-skeleton/tasks/role_init_systemd.yml.j2', 'scripts/role-skeleton/vars/main.yml.j2', 'scripts/role-skeleton/tests/test-install-previous-role.yml.j2', 'scripts/role-skeleton/templates/role-systemd-init.j2.j2', 'scripts/role-skeleton/tests/group_vars/all_containers.yml.j2', 'scripts/role-skeleton/doc/source/conf.py.j2', 'scripts/role-skeleton/handlers/main.yml.j2', 'scripts/role-skeleton/tests/inventory.j2', 'scripts/role-skeleton/defaults/main.yml.j2', 'scripts/role-skeleton/run_tests.sh', 'scripts/role-skeleton/test-requirements.txt.j2', 'scripts/role-skeleton/tests/tests-repo-clone.sh.j2', 'scripts/role-skeleton/files/rootwrap.d/privsep.filters.j2', 'scripts/role-skeleton/tests/test-role-upgrades.sh.j2', 'scripts/role-skeleton/setup.py.j2', 'scripts/role-skeleton/tests/host_vars/infra1.yml.j2', 'scripts/role-skeleton/releasenotes/source/conf.py.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/69248a5e85dd647035b1af3590d8826afdd0ea93', 'message': 'Include a role skeleton for ansible-galaxy\n\nThis should make possible for contributors to use\nansible-galaxy init <my_role_name> to generate a role according\nto latest OpenStack-Ansible standards.\n\nThis command line will have the necessary env vars after a\nbootstrap-ansible run. In the mean time, you should use\nthe --role-skeleton=scripts/role-skeleton CLI argument.\n\nChange-Id: I518a4ee4d1ea1ad432dd3fe88b41da564a6ff3d0\n'}]",0,458562,69248a5e85dd647035b1af3590d8826afdd0ea93,12,0,5,17068,,,0,"Include a role skeleton for ansible-galaxy

This should make possible for contributors to use
ansible-galaxy init <my_role_name> to generate a role according
to latest OpenStack-Ansible standards.

This command line will have the necessary env vars after a
bootstrap-ansible run. In the mean time, you should use
the --role-skeleton=scripts/role-skeleton CLI argument.

Change-Id: I518a4ee4d1ea1ad432dd3fe88b41da564a6ff3d0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/62/458562/5 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/role-skeleton/.gitreview.j2', 'scripts/role-skeleton/LICENSE', 'scripts/role-skeleton/tests-TODO/ansible-role-requirements.yml', 'scripts/openstack-ansible.rc', 'scripts/role-skeleton/tasks-TODO/main.yml', 'scripts/role-skeleton/bindep.txt', 'scripts/role-skeleton/CONTRIBUTING.rst.j2', 'scripts/role-skeleton/doc-TODO/Makefile', 'scripts/bootstrap-ansible.sh', 'scripts/role-skeleton/doc-TODO/source/configure-newrepo.rst', 'scripts/role-skeleton/tests-TODO/test.yml', 'scripts/role-skeleton/.gitignore', 'scripts/role-skeleton/setup.py', 'scripts/role-skeleton/defaults/main.yml.j2', 'scripts/role-skeleton/setup.cfg.j2', 'scripts/role-skeleton/examples-TODO/playbook.yml', 'scripts/role-skeleton/tox.ini.j2', 'scripts/role-skeleton/doc-TODO/source/conf.py', 'scripts/role-skeleton/Vagrantfile', 'scripts/role-skeleton/run_tests.sh', 'scripts/role-skeleton/test-requirements.txt', 'scripts/role-skeleton/meta/main.yml.j2', 'scripts/role-skeleton/tests-TODO/inventory', 'scripts/role-skeleton/README.rst.j2', 'scripts/role-skeleton/doc-TODO/source/index.rst']",25,6bc3038a454b7d31af0e79a090238ff6f6291cf2,galaxy-init-wonders-when-it-works,======================================== OpenStack-Ansible cookiecutter_repo role ======================================== .. toctree:: :maxdepth: 2 configure-newrepo.rst Default variables ~~~~~~~~~~~~~~~~~ .. literalinclude:: ../../defaults/main.yml :language: yaml :start-after: under the License. Required variables ~~~~~~~~~~~~~~~~~~ None Example playbook ~~~~~~~~~~~~~~~~ .. literalinclude:: ../../examples/playbook.yml :language: yaml Tags ~~~~ This role supports one tag: ``cookiecutter-install``. The ``cookiecutter-install`` is a sample tag to show usage. ,,1525,0
openstack%2Fhorizon~stable%2Fstein~Ibc871c006491728c0cb91fd0779fb3cbad9e42f1,openstack/horizon,stable/stein,Ibc871c006491728c0cb91fd0779fb3cbad9e42f1,Imported Translations from Zanata,MERGED,2019-09-16 09:23:16.000000000,2019-09-17 08:13:05.000000000,2019-09-17 08:11:12.000000000,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 09:23:16.000000000', 'files': ['horizon/locale/de/LC_MESSAGES/djangojs.po', 'horizon/locale/en_GB/LC_MESSAGES/djangojs.po', 'horizon/locale/fr/LC_MESSAGES/djangojs.po', 'horizon/locale/ko_KR/LC_MESSAGES/djangojs.po', 'horizon/locale/ru/LC_MESSAGES/djangojs.po', 'horizon/locale/id/LC_MESSAGES/djangojs.po', 'horizon/locale/zh_CN/LC_MESSAGES/djangojs.po', 'horizon/locale/es/LC_MESSAGES/djangojs.po', 'horizon/locale/ja/LC_MESSAGES/djangojs.po', 'horizon/locale/pt_BR/LC_MESSAGES/djangojs.po', 'horizon/locale/eo/LC_MESSAGES/djangojs.po', 'horizon/locale/ar/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/2feb16764cb8f42cf424740a5f5875a35c0b7fb8', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ibc871c006491728c0cb91fd0779fb3cbad9e42f1\n'}]",0,682314,2feb16764cb8f42cf424740a5f5875a35c0b7fb8,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ibc871c006491728c0cb91fd0779fb3cbad9e42f1
",git fetch https://review.opendev.org/openstack/horizon refs/changes/14/682314/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/locale/de/LC_MESSAGES/djangojs.po', 'horizon/locale/en_GB/LC_MESSAGES/djangojs.po', 'horizon/locale/fr/LC_MESSAGES/djangojs.po', 'horizon/locale/ko_KR/LC_MESSAGES/djangojs.po', 'horizon/locale/ru/LC_MESSAGES/djangojs.po', 'horizon/locale/id/LC_MESSAGES/djangojs.po', 'horizon/locale/zh_CN/LC_MESSAGES/djangojs.po', 'horizon/locale/es/LC_MESSAGES/djangojs.po', 'horizon/locale/ja/LC_MESSAGES/djangojs.po', 'horizon/locale/pt_BR/LC_MESSAGES/djangojs.po', 'horizon/locale/eo/LC_MESSAGES/djangojs.po', 'horizon/locale/ar/LC_MESSAGES/djangojs.po']",12,2feb16764cb8f42cf424740a5f5875a35c0b7fb8,zanata/translations,"""POT-Creation-Date: 2019-09-12 16:42+0000\n""""PO-Revision-Date: 2018-11-30 11:32+0000\n""","""POT-Creation-Date: 2018-11-29 08:54+0000\n""""PO-Revision-Date: 2018-11-29 11:06+0000\n""msgid ""Forbidden. Redirecting to login"" msgstr ""محضور. العودة الى صفحة االدخول"" ",18,50
openstack%2Fcharm-guide~master~Ibb7cc104306945ae063b3d98752e3b5045a5de4d,openstack/charm-guide,master,Ibb7cc104306945ae063b3d98752e3b5045a5de4d,Update testing section for Zaza,MERGED,2019-09-17 06:22:30.000000000,2019-09-17 08:12:30.000000000,2019-09-17 08:11:02.000000000,"[{'_account_id': 935}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2019-09-17 06:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/e16d310461e3d690fcbad1339e539ca0954d3e92', 'message': 'Update testing section for Zaza\n\nChange-Id: Ibb7cc104306945ae063b3d98752e3b5045a5de4d\n'}, {'number': 2, 'created': '2019-09-17 06:24:03.000000000', 'files': ['doc/source/testing.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/2e6e17b35ee6671f690c623ddc4cd7ebb4a85f22', 'message': 'Update testing section for Zaza\n\nChange-Id: Ibb7cc104306945ae063b3d98752e3b5045a5de4d\n'}]",0,682550,2e6e17b35ee6671f690c623ddc4cd7ebb4a85f22,9,3,2,20635,,,0,"Update testing section for Zaza

Change-Id: Ibb7cc104306945ae063b3d98752e3b5045a5de4d
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/50/682550/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/testing.rst'],1,e16d310461e3d690fcbad1339e539ca0954d3e92,update-testing,".. _testing: tox -e py3.. note:: Most of the OpenStack Charms have been converted to use the Zaza_ (Py3) functional test framework, though some may still use the legacy Amulet_ (Py2) framework. Naturally, with the sunset of Py2 overall, newly authored tests should be in the Zaza_ framework. Zaza - Functional Tests ~~~~~~~~~~~~~~~~~~~~~~~ Functional tests for a charm are written using the Zaza_ test framework andTypically each charm will test the OpenStack and Ubuntu release combinations currently supported by Ubuntu. The OpenStack Charms tests in their current form may be specific totest enhancements may include the ability run the tests against the Juju OpenStack provider (a cloud) or the Juju LXD provider (all on one machine). :Full Tests: Executes all Zaza_ gate tests (may take several hours). The full test set does not run automatically on each proposed change. After the lower-cost lint, unit, charm-single and smoke tests have full set of Zaza_ tests (see Rechecking). To manually execute of all Zaza_ tests on your locally-defined cloud: tox -e func :Smoke Tests: Executes a subset (generaly one) of the Zaza_ deployment test sets. The smoke test set runs automatically on every proposed patchset. To manually execute the Zaza smoke test on your locally-defined cloud: tox -e func-smoke tox -e func-noop``OS_HTTP_PROXY`` environment variable must be set. This is unrelatedeach tox target. Zaza_ test calls are defined in the ``tests/`` directory for classic charms, and in the ``src/tests/`` directory for layered source charms.","p.. _testing: tox -e py36.. note:: This section is out of date, we are moving to the Zaza_ framework as part of our effort to modernize the test suite and as a consequence of the Python 2 language nearing is end of life. Amulet ~~~~~~ Functional tests for a charm are written using the Amulet_ test framework andThe OpenStack charm helpers provide some Amulet deployment helpers to ease testing of different OpenStack release combinations; typically each charm will test the OpenStack and Ubuntu release combinations currently supported by Ubuntu. The OpenStack Charms Amulet tests in their current form may be specific totest enhancements include the ability run the tests against the Juju OpenStack provider (a cloud) or the Juju LXD provider (all on one machine). :Full Amulet: Executes all Amulet gate tests (may take several hours). The full Amulet test set does not run automatically on each proposed change. After the lower-cost lint, unit, charm-single and Amulet-smoke tests have full set of Amulet tests (see Rechecking). To manually trigger execution of all Amulet tests on your locally-defined cloud: tox -e func27 :Amulet Smoke: Executes a subset (generaly one) of the Amulet deployment test sets. The Amulet smoke test set does run automatically on every proposed patchset. To manually trigger execution of the Amulet smoke test on your locally-defined cloud: tox -e func27-smoke tox -e func27-noop``AMULET_HTTP_PROXY`` environment variable must be set. This is unrelatedeach tox target. Amulet tests reside in the ``tests/`` directory for classic charms, and in the ``src/tests/`` directory for layered source charms.",28,32
openstack%2Fproject-config~master~I8677c6367816bdd25b4c32b8826a39ef1318d7f8,openstack/project-config,master,I8677c6367816bdd25b4c32b8826a39ef1318d7f8,End gating for os-acc as that project is about to be retired.,MERGED,2019-08-14 05:52:02.000000000,2019-09-17 08:02:49.000000000,2019-09-17 08:02:49.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-08-14 05:52:02.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5b547bac91d65d52ebb89ddd77a4982dab3437f5', 'message': 'End gating for os-acc as that project is about to be retired.\n\nChange-Id: I8677c6367816bdd25b4c32b8826a39ef1318d7f8\n'}]",1,676331,5b547bac91d65d52ebb89ddd77a4982dab3437f5,20,6,1,21672,,,0,"End gating for os-acc as that project is about to be retired.

Change-Id: I8677c6367816bdd25b4c32b8826a39ef1318d7f8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/31/676331/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,5b547bac91d65d52ebb89ddd77a4982dab3437f5,, - noop-jobs, - publish-to-pypi,1,1
openstack%2Fhorizon~stable%2Frocky~I4c6c3b1d0e0c38c8130440c2b6c162fd65532179,openstack/horizon,stable/rocky,I4c6c3b1d0e0c38c8130440c2b6c162fd65532179,Fix quoting in zuul for tempest plugins,MERGED,2019-09-11 12:24:10.000000000,2019-09-17 07:50:49.000000000,2019-09-17 07:50:49.000000000,"[{'_account_id': 1736}, {'_account_id': 8556}, {'_account_id': 8648}, {'_account_id': 11880}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-09-11 12:24:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/fe2b97c3f47b86ff5f822f5475e48de5c8d40865', 'message': 'Fix quoting in zuul for tempest plugins\n\nSomething has changed and the quoting used in the zuul jobs\nconfiguration no longer works. This patch removes the excess\nquoting.\n\nConflicts:\n      .zuul.yaml\n\nChange-Id: I4c6c3b1d0e0c38c8130440c2b6c162fd65532179\n(cherry picked from commit e17325dd3bcedffe0b1a96c02b00e918d191a743)\n'}]",0,681454,fe2b97c3f47b86ff5f822f5475e48de5c8d40865,10,6,1,841,,,0,"Fix quoting in zuul for tempest plugins

Something has changed and the quoting used in the zuul jobs
configuration no longer works. This patch removes the excess
quoting.

Conflicts:
      .zuul.yaml

Change-Id: I4c6c3b1d0e0c38c8130440c2b6c162fd65532179
(cherry picked from commit e17325dd3bcedffe0b1a96c02b00e918d191a743)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/54/681454/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fe2b97c3f47b86ff5f822f5475e48de5c8d40865,tempest-fix-stable/rocky," TEMPEST_PLUGINS: ""{{ ansible_user_dir }}/src/opendev.org/openstack/tempest-horizon"""," TEMPEST_PLUGINS: ""'{{ ansible_user_dir }}/src/opendev.org/openstack/tempest-horizon'""",1,1
openstack%2Fwatcher~master~I86de95886df5d7e9558512569601e9ea3babb0e9,openstack/watcher,master,I86de95886df5d7e9558512569601e9ea3babb0e9,Watcher Planner Selector,MERGED,2018-04-22 20:34:04.000000000,2019-09-17 07:44:47.000000000,2019-09-17 07:42:44.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-22 20:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/d8413172f099656ffc4978b0fa80decf03a68cd2', 'message': 'Watcher Planner Selector\n\nThis component is responsible for selecting an appropriate Planner based\non predefined property value passed to concrete Strategy.\n\nChange-Id: I86de95886df5d7e9558512569601e9ea3babb0e9\nImplements: bp watcher-planner-selector\n'}, {'number': 2, 'created': '2018-04-23 17:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/2106e5d8da435d54c7fa50dbc9d6acca94723d1e', 'message': 'Watcher Planner Selector\n\nThis component is responsible for selecting an appropriate Planner based\non predefined property value passed to concrete Strategy.\n\nChange-Id: I86de95886df5d7e9558512569601e9ea3babb0e9\nImplements: bp watcher-planner-selector\n'}, {'number': 3, 'created': '2018-05-05 12:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/590eb8fb9d4132cb4f8df798dc2c81951f66f7bc', 'message': 'Watcher Planner Selector\n\nThis component is responsible for selecting an appropriate Planner based\non predefined property value passed to concrete Strategy.\n\nChange-Id: I86de95886df5d7e9558512569601e9ea3babb0e9\nImplements: bp watcher-planner-selector\n'}, {'number': 4, 'created': '2019-09-10 07:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/f8513a85ed2d4d17deac04e7f1753e46726c0dae', 'message': 'Watcher Planner Selector\n\nThis component is responsible for selecting an appropriate Planner based\non predefined property value passed to concrete Strategy.\n\nChange-Id: I86de95886df5d7e9558512569601e9ea3babb0e9\nImplements: bp watcher-planner-selector\nCo-Authored-By: Canwei Li <li.canwei2@zte.com.cn>\n'}, {'number': 5, 'created': '2019-09-12 03:07:29.000000000', 'files': ['watcher/tests/decision_engine/planner/test_planner_manager.py', 'watcher/decision_engine/strategy/strategies/base.py', 'watcher/decision_engine/audit/base.py', 'watcher/tests/decision_engine/audit/test_audit_handlers.py', 'watcher/decision_engine/strategy/context/default.py', 'watcher/decision_engine/audit/continuous.py', 'watcher/decision_engine/planner/manager.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/aa2a084d220614e0db79b15e669fae2c2b3423b7', 'message': 'Watcher Planner Selector\n\nThis component is responsible for selecting an appropriate Planner based\non predefined property value passed to concrete Strategy.\n\nChange-Id: I86de95886df5d7e9558512569601e9ea3babb0e9\nImplements: bp watcher-planner-selector\nCo-Authored-By: Canwei Li <li.canwei2@zte.com.cn>\n'}]",0,563477,aa2a084d220614e0db79b15e669fae2c2b3423b7,19,2,5,27947,,,0,"Watcher Planner Selector

This component is responsible for selecting an appropriate Planner based
on predefined property value passed to concrete Strategy.

Change-Id: I86de95886df5d7e9558512569601e9ea3babb0e9
Implements: bp watcher-planner-selector
Co-Authored-By: Canwei Li <li.canwei2@zte.com.cn>
",git fetch https://review.opendev.org/openstack/watcher refs/changes/77/563477/5 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/tests/decision_engine/planner/test_planner_manager.py', 'watcher/decision_engine/strategy/strategies/base.py', 'watcher/decision_engine/audit/base.py', 'watcher/decision_engine/strategy/context/default.py', 'watcher/decision_engine/planner/manager.py']",5,d8413172f099656ffc4978b0fa80decf03a68cd2,bp/watcher-planner-selector," def load(self, planner_name): LOG.debug(""Loading %s"", planner_name) return self.loader.load(name=planner_name)","from watcher import conf CONF = conf.CONF def load(self): selected_planner = CONF.watcher_planner.planner LOG.debug(""Loading %s"", selected_planner) return self.loader.load(name=selected_planner)",28,14
openstack%2Fpython-watcherclient~stable%2Ftrain~I3ec1fb97dd1cd49622381ba475e9882101028054,openstack/python-watcherclient,stable/train,I3ec1fb97dd1cd49622381ba475e9882101028054,Update .gitreview for stable/train,MERGED,2019-09-12 09:30:46.000000000,2019-09-17 07:39:48.000000000,2019-09-17 07:37:34.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-12 09:30:46.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/d7bf948ed57e5c27917d5fa3abeff0cfe9b1ce4c', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I3ec1fb97dd1cd49622381ba475e9882101028054\n'}]",0,681679,d7bf948ed57e5c27917d5fa3abeff0cfe9b1ce4c,7,2,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I3ec1fb97dd1cd49622381ba475e9882101028054
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/79/681679/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,d7bf948ed57e5c27917d5fa3abeff0cfe9b1ce4c,create-train,defaultbranch=stable/train,,1,0
openstack%2Foslo.context~stable%2Fstein~Ib7f8df3fc5b83520b179d0a260c54e015c042b17,openstack/oslo.context,stable/stein,Ib7f8df3fc5b83520b179d0a260c54e015c042b17,Cap Bandit below 1.6.0 and update Sphinx requirement,MERGED,2019-08-29 17:50:26.000000000,2019-09-17 07:39:42.000000000,2019-09-17 07:38:13.000000000,"[{'_account_id': 9796}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-08-29 17:50:26.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/85df3325e1444e686107d877cf5ef2592e75a67b', 'message': 'Cap Bandit below 1.6.0 and update Sphinx requirement\n\nBandit 1.6.0 accidentally changed how the exclusion list option is\nhandled and breaks our use of it. Cap to the previous version until\nBandit has fixed the problem.\n\nSphinx 2.0 no longer works on python 2.7, so we need to start capping\nit there as well.\n\nChange-Id: Ib7f8df3fc5b83520b179d0a260c54e015c042b17\nReference: https://github.com/PyCQA/bandit/pull/489\n(cherry picked from commit 016904f8165105cb05df48a935ad562ff242d2e7)\n'}]",0,679309,85df3325e1444e686107d877cf5ef2592e75a67b,8,3,1,6928,,,0,"Cap Bandit below 1.6.0 and update Sphinx requirement

Bandit 1.6.0 accidentally changed how the exclusion list option is
handled and breaks our use of it. Cap to the previous version until
Bandit has fixed the problem.

Sphinx 2.0 no longer works on python 2.7, so we need to start capping
it there as well.

Change-Id: Ib7f8df3fc5b83520b179d0a260c54e015c042b17
Reference: https://github.com/PyCQA/bandit/pull/489
(cherry picked from commit 016904f8165105cb05df48a935ad562ff242d2e7)
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/09/679309/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt']",2,85df3325e1444e686107d877cf5ef2592e75a67b,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",3,2
openstack%2Fwatcher~stable%2Frocky~Iedb27efc9f296054fcbd485b27736a789cee3496,openstack/watcher,stable/rocky,Iedb27efc9f296054fcbd485b27736a789cee3496,fix test failure with ironic client,MERGED,2019-09-16 17:37:53.000000000,2019-09-17 07:29:20.000000000,2019-09-17 07:29:20.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-09-16 17:37:53.000000000', 'files': ['watcher/tests/common/test_clients.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/5c7fcc22c098cc63b960c3b8a545686d627ec79a', 'message': ""fix test failure with ironic client\n\nThe watcher.tests.common.test_clients.TestClients.test_clients_ironic unit\ntest's been failure since python-ironicclient 2.5.2 release. In that release,\nwe fixed a bug with the interface argument was ignored.\n\nhttps://docs.openstack.org/releasenotes/python-ironicclient/rocky.html#relnotes-2-5-2-stable-rocky\n\nTherefore, we need to adjust the ironic test case in watcher to account for\nthe interface argument.\n\nChange-Id: Iedb27efc9f296054fcbd485b27736a789cee3496\n""}]",2,682438,5c7fcc22c098cc63b960c3b8a545686d627ec79a,9,4,1,1916,,,0,"fix test failure with ironic client

The watcher.tests.common.test_clients.TestClients.test_clients_ironic unit
test's been failure since python-ironicclient 2.5.2 release. In that release,
we fixed a bug with the interface argument was ignored.

https://docs.openstack.org/releasenotes/python-ironicclient/rocky.html#relnotes-2-5-2-stable-rocky

Therefore, we need to adjust the ironic test case in watcher to account for
the interface argument.

Change-Id: Iedb27efc9f296054fcbd485b27736a789cee3496
",git fetch https://review.opendev.org/openstack/watcher refs/changes/38/682438/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/tests/common/test_clients.py'],1,5c7fcc22c098cc63b960c3b8a545686d627ec79a,fix_ironic_test_failure," interface='publicURL',",,1,0
openstack%2Ftripleo-common~master~Ibb94354dfc7053c02a366c4276f9858227b66303,openstack/tripleo-common,master,Ibb94354dfc7053c02a366c4276f9858227b66303,Activate health check script for qdrouterd image,MERGED,2019-07-26 12:26:55.000000000,2019-09-17 07:29:04.000000000,2019-09-17 07:27:19.000000000,"[{'_account_id': 3153}, {'_account_id': 4264}, {'_account_id': 5241}, {'_account_id': 7144}, {'_account_id': 9712}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-07-26 12:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/50a5659542e95859e9ee313461db1023a9b674a6', 'message': 'Activate health check script for qdrouterd image\n\nChange-Id: Ibb94354dfc7053c02a366c4276f9858227b66303\n'}, {'number': 2, 'created': '2019-08-23 13:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1ebfcb046dbbe0a43e5a87137d906f1e0b26342b', 'message': 'Activate health check script for qdrouterd image\n\nChange-Id: Ibb94354dfc7053c02a366c4276f9858227b66303\n'}, {'number': 3, 'created': '2019-09-13 12:56:24.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8dce07ff73ea8c1dce4f1c01303f320af6723a20', 'message': 'Activate health check script for qdrouterd image\n\nChange-Id: Ibb94354dfc7053c02a366c4276f9858227b66303\n'}]",0,672969,8dce07ff73ea8c1dce4f1c01303f320af6723a20,32,11,3,5241,,,0,"Activate health check script for qdrouterd image

Change-Id: Ibb94354dfc7053c02a366c4276f9858227b66303
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/69/672969/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,50a5659542e95859e9ee313461db1023a9b674a6,qdrhc,{% block qdrouterd_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/qdrouterd /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} ,,6,0
openstack%2Fcloudkitty-dashboard~master~I537aaea5c0e3341f8026589fc4b2c56505707ffb,openstack/cloudkitty-dashboard,master,I537aaea5c0e3341f8026589fc4b2c56505707ffb,Generate PDF documentation,MERGED,2019-09-12 10:26:59.000000000,2019-09-17 07:21:01.000000000,2019-09-17 07:19:01.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29313}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-09-12 10:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/0664bfcdaeab96c764af47fcf597926b89740ee7', 'message': '[WIP] Generate PDF documentation\n\nChange-Id: I537aaea5c0e3341f8026589fc4b2c56505707ffb\n'}, {'number': 2, 'created': '2019-09-12 11:03:42.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/00aa16d41e2f27800b35fac799476169df05ab56', 'message': ""Generate PDF documentation\n\nThis commit adds a new tox target to build PDF documentation.\nIt's a part of community goal, see storyboard for more\ninformation.\n\nStory: 2006075\nTask: 34809\n\nChange-Id: I537aaea5c0e3341f8026589fc4b2c56505707ffb\n""}]",0,681703,00aa16d41e2f27800b35fac799476169df05ab56,11,4,2,29313,,,0,"Generate PDF documentation

This commit adds a new tox target to build PDF documentation.
It's a part of community goal, see storyboard for more
information.

Story: 2006075
Task: 34809

Change-Id: I537aaea5c0e3341f8026589fc4b2c56505707ffb
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/03/681703/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",3,0664bfcdaeab96c764af47fcf597926b89740ee7,,[testenv:pdf-docs] basepython = python3 envdir = {toxworkdir}/docs deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,26,12
openstack%2Fneutron~master~Ic768deb84d544db832367f9a4b84a92729eee620,openstack/neutron,master,Ic768deb84d544db832367f9a4b84a92729eee620,Fix creation of vlan network with segmentation_id set to 0,MERGED,2019-08-30 20:37:13.000000000,2019-09-17 07:00:18.000000000,2019-09-16 15:40:20.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24797}, {'_account_id': 26622}, {'_account_id': 27079}]","[{'number': 1, 'created': '2019-08-30 20:37:13.000000000', 'files': ['neutron/plugins/ml2/drivers/type_vlan.py', 'neutron/tests/unit/plugins/ml2/drivers/test_type_vlan.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f01f3ae5dd0dd7dd9aa513a1b50e04e20a08b97b', 'message': 'Fix creation of vlan network with segmentation_id set to 0\n\nIn case when vlan network was created with segmentation_id=0 and without\nphysical_network given, it was passing validation of provider segment\nand first available segmentation_id was choosen for network.\nProblem was that in such case all available segmentation ids where\nallocated and no other vlan network could be created later.\n\nThis patch fixes validation of segmentation_id when it is set to value 0.\n\nChange-Id: Ic768deb84d544db832367f9a4b84a92729eee620\nCloses-bug: #1840895\n'}]",0,679510,f01f3ae5dd0dd7dd9aa513a1b50e04e20a08b97b,79,11,1,11975,,,0,"Fix creation of vlan network with segmentation_id set to 0

In case when vlan network was created with segmentation_id=0 and without
physical_network given, it was passing validation of provider segment
and first available segmentation_id was choosen for network.
Problem was that in such case all available segmentation ids where
allocated and no other vlan network could be created later.

This patch fixes validation of segmentation_id when it is set to value 0.

Change-Id: Ic768deb84d544db832367f9a4b84a92729eee620
Closes-bug: #1840895
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/679510/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/type_vlan.py', 'neutron/tests/unit/plugins/ml2/drivers/test_type_vlan.py']",2,f01f3ae5dd0dd7dd9aa513a1b50e04e20a08b97b,bug/1840895," def test_validate_provider_segment_no_phys_network_seg_id_0(self): segment = {api.NETWORK_TYPE: p_const.TYPE_VLAN, api.SEGMENTATION_ID: 0} self.assertRaises(exc.InvalidInput, self.driver.validate_provider_segment, segment) api.PHYSICAL_NETWORK: PROVIDER_NET} segmentation_ids = [ p_const.MIN_VLAN_TAG - 1, p_const.MAX_VLAN_TAG + 1] for segmentation_id in segmentation_ids: segment[api.SEGMENTATION_ID] = segmentation_id self.assertRaises(exc.InvalidInput, self.driver.validate_provider_segment, segment)"," api.PHYSICAL_NETWORK: PROVIDER_NET, api.SEGMENTATION_ID: 5000} self.assertRaises(exc.InvalidInput, self.driver.validate_provider_segment, segment)",18,7
openstack%2Foslo.context~stable%2Frocky~Ib7f8df3fc5b83520b179d0a260c54e015c042b17,openstack/oslo.context,stable/rocky,Ib7f8df3fc5b83520b179d0a260c54e015c042b17,Cap Bandit below 1.6.0 and update Sphinx requirement,MERGED,2019-08-29 17:54:59.000000000,2019-09-17 06:59:41.000000000,2019-09-17 06:58:28.000000000,"[{'_account_id': 9796}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-08-29 17:54:59.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/a8e8d8c33c148c76fc4b5ea9dcb59d39f4adbecd', 'message': 'Cap Bandit below 1.6.0 and update Sphinx requirement\n\nBandit 1.6.0 accidentally changed how the exclusion list option is\nhandled and breaks our use of it. Cap to the previous version until\nBandit has fixed the problem.\n\nSphinx 2.0 no longer works on python 2.7, so we need to start capping\nit there as well.\n\nChange-Id: Ib7f8df3fc5b83520b179d0a260c54e015c042b17\nReference: https://github.com/PyCQA/bandit/pull/489\n(cherry picked from commit 016904f8165105cb05df48a935ad562ff242d2e7)\n(cherry picked from commit 85df3325e1444e686107d877cf5ef2592e75a67b)\n'}]",0,679310,a8e8d8c33c148c76fc4b5ea9dcb59d39f4adbecd,8,3,1,6928,,,0,"Cap Bandit below 1.6.0 and update Sphinx requirement

Bandit 1.6.0 accidentally changed how the exclusion list option is
handled and breaks our use of it. Cap to the previous version until
Bandit has fixed the problem.

Sphinx 2.0 no longer works on python 2.7, so we need to start capping
it there as well.

Change-Id: Ib7f8df3fc5b83520b179d0a260c54e015c042b17
Reference: https://github.com/PyCQA/bandit/pull/489
(cherry picked from commit 016904f8165105cb05df48a935ad562ff242d2e7)
(cherry picked from commit 85df3325e1444e686107d877cf5ef2592e75a67b)
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/10/679310/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt']",2,a8e8d8c33c148c76fc4b5ea9dcb59d39f4adbecd,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",3,2
openstack%2Fwatcher~master~If6b58133eecf2fcc37e11d8c45eaa58f238ea2a8,openstack/watcher,master,If6b58133eecf2fcc37e11d8c45eaa58f238ea2a8,correct watcher project for oslo_config,MERGED,2019-09-13 22:48:28.000000000,2019-09-17 06:59:00.000000000,2019-09-17 06:57:22.000000000,"[{'_account_id': 1916}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-09-13 22:48:28.000000000', 'files': ['watcher/common/config.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/86af6ab8a20913fff972497b07e8ae592113b273', 'message': 'correct watcher project for oslo_config\n\nIt should\'ve been ""watcher"" instead of ""python-watcher"" as the\nconfig files are expected to be in /etc/watcher/. Though this is\nunlikely to cause problems as this patch corrected the default\nconfig dir.\n\nhttps://review.opendev.org/#/c/658348/\n\nNevertheless, we should be using the correct name.\n\nChange-Id: If6b58133eecf2fcc37e11d8c45eaa58f238ea2a8\n'}]",3,682187,86af6ab8a20913fff972497b07e8ae592113b273,10,4,1,1916,,,0,"correct watcher project for oslo_config

It should've been ""watcher"" instead of ""python-watcher"" as the
config files are expected to be in /etc/watcher/. Though this is
unlikely to cause problems as this patch corrected the default
config dir.

https://review.opendev.org/#/c/658348/

Nevertheless, we should be using the correct name.

Change-Id: If6b58133eecf2fcc37e11d8c45eaa58f238ea2a8
",git fetch https://review.opendev.org/openstack/watcher refs/changes/87/682187/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/common/config.py'],1,86af6ab8a20913fff972497b07e8ae592113b273,correct_project_name," project='watcher',"," project='python-watcher',",1,1
openstack%2Fdesignate~master~Ia9e2bb2cc9d68bea71a19ff8296bbf9bd3cd95a4,openstack/designate,master,Ia9e2bb2cc9d68bea71a19ff8296bbf9bd3cd95a4,Build man pages for the commands that are documented,MERGED,2019-09-12 11:25:04.000000000,2019-09-17 06:55:08.000000000,2019-09-17 06:53:47.000000000,"[{'_account_id': 13252}, {'_account_id': 15736}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-09-12 11:25:04.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/ceaba7d06758fdd130046cb66c014aada924cc25', 'message': 'Build man pages for the commands that are documented\n\nRunning ""sphinx-build -b man doc/source doc/build/man"" allows the\nbuild of man pages which are useful when working from the command\nline.\n\nChange-Id: Ia9e2bb2cc9d68bea71a19ff8296bbf9bd3cd95a4\n'}]",0,681723,ceaba7d06758fdd130046cb66c014aada924cc25,9,4,1,7102,,,0,"Build man pages for the commands that are documented

Running ""sphinx-build -b man doc/source doc/build/man"" allows the
build of man pages which are useful when working from the command
line.

Change-Id: Ia9e2bb2cc9d68bea71a19ff8296bbf9bd3cd95a4
",git fetch https://review.opendev.org/openstack/designate refs/changes/23/681723/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,ceaba7d06758fdd130046cb66c014aada924cc25,," ('cli/designate-manage', 'designate-manage', 'OpenStack DNSaaS', ['OpenStack'], 1), ('cli/designate-status', 'designate-status', 'OpenStack DNSaaS', ['OpenStack'], 1),","# ('index', 'designate', u'Designate Documentation', # [u'Managed I.T.'], 1)",4,2
openstack%2Ftrove~master~I08916ddfba85c0218aeab5bfbad58ce3222521f3,openstack/trove,master,I08916ddfba85c0218aeab5bfbad58ce3222521f3,Fix Trove CI failure,MERGED,2019-09-16 23:12:54.000000000,2019-09-17 06:53:02.000000000,2019-09-17 06:51:22.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 23:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ef72deab749a2c0c6c880d53c8d4845f8a8bed4e', 'message': 'Remove Designate v1 support\n\npython-designateclient removed v1 support in\nhttps://github.com/openstack/python-designateclient/commit/093d8d7170cbf6ef8c7a7c0ff2a4dcd7ecd6361b\n\nChange-Id: I08916ddfba85c0218aeab5bfbad58ce3222521f3\n'}, {'number': 2, 'created': '2019-09-17 01:53:21.000000000', 'files': ['devstack/plugin.sh', 'trove/tests/unittests/domain-name-service/test_designate_driver.py', 'trove/dns/designate/driver.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/f771e939ebe23a0e0e7da20d87b4256f5e3d2bc1', 'message': 'Fix Trove CI failure\n\n- Remove Designate v1 support. python-designateclient removed v1 support\n  in\n  https://github.com/openstack/python-designateclient/commit/093d8d7170cbf6ef8c7a7c0ff2a4dcd7ecd6361b\n- Fix get port IP address error in devstack script.\n\nChange-Id: I08916ddfba85c0218aeab5bfbad58ce3222521f3\n'}]",0,682510,f771e939ebe23a0e0e7da20d87b4256f5e3d2bc1,9,2,2,6732,,,0,"Fix Trove CI failure

- Remove Designate v1 support. python-designateclient removed v1 support
  in
  https://github.com/openstack/python-designateclient/commit/093d8d7170cbf6ef8c7a7c0ff2a4dcd7ecd6361b
- Fix get port IP address error in devstack script.

Change-Id: I08916ddfba85c0218aeab5bfbad58ce3222521f3
",git fetch https://review.opendev.org/openstack/trove refs/changes/10/682510/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/tests/unittests/domain-name-service/test_designate_driver.py', 'trove/dns/designate/driver.py']",2,ef72deab749a2c0c6c880d53c8d4845f8a8bed4e,fix-ci,,"from designateclient.v1.records import RecordDNS_ENDPOINT_URL = CONF.dns_endpoint_url DNS_SERVICE_TYPE = CONF.dns_service_type DNS_REGION = CONF.dns_regionclass DesignateObjectConverter(object): @staticmethod def domain_to_zone(domain): return DesignateDnsZone(id=domain.id, name=domain.name) def record_to_entry(self, record, dns_zone): return driver.DnsEntry(name=record.name, content=record.data, type=record.type, ttl=record.ttl, priority=record.priority, dns_zone=dns_zone) class DesignateDriver(driver.DnsDriver): def __init__(self): self.dns_client = create_designate_client(api_version='1') self.converter = DesignateObjectConverter() self.default_dns_zone = DesignateDnsZone(id=DNS_DOMAIN_ID, name=DNS_DOMAIN_NAME) def create_entry(self, entry, content): """"""Creates the entry in the driver at the given dns zone."""""" dns_zone = entry.dns_zone or self.default_dns_zone if not dns_zone.id: raise TypeError(_(""The entry's dns_zone must have an ID "" ""specified."")) name = entry.name LOG.debug(""Creating DNS entry %s."", name) client = self.dns_client # Record name has to end with a '.' by dns standard record = Record(name=entry.name + '.', type=entry.type, data=content, ttl=entry.ttl, priority=entry.priority) client.records.create(dns_zone.id, record) def delete_entry(self, name, type, dns_zone=None): """"""Deletes an entry with the given name and type from a dns zone."""""" dns_zone = dns_zone or self.default_dns_zone records = self._get_records(dns_zone) matching_record = [rec for rec in records if rec.name == name + '.' and rec.type == type] if not matching_record: raise exception.DnsRecordNotFound(name=name) LOG.debug(""Deleting DNS entry %s."", name) self.dns_client.records.delete(dns_zone.id, matching_record[0].id) def get_entries_by_content(self, content, dns_zone=None): """"""Retrieves all entries in a DNS zone with matching content field."""""" records = self._get_records(dns_zone) return [self.converter.record_to_entry(record, dns_zone) for record in records if record.data == content] def get_entries_by_name(self, name, dns_zone): records = self._get_records(dns_zone) return [self.converter.record_to_entry(record, dns_zone) for record in records if record.name == name] def get_dns_zones(self, name=None): """"""Returns all dns zones (optionally filtered by the name argument."""""" domains = self.dns_client.domains.list() return [self.converter.domain_to_zone(domain) for domain in domains if not name or domain.name == name] def modify_content(self, name, content, dns_zone): # We dont need this in trove for now raise NotImplementedError(_(""Not implemented for Designate DNS."")) def rename_entry(self, content, name, dns_zone): # We dont need this in trove for now raise NotImplementedError(_(""Not implemented for Designate DNS."")) def _get_records(self, dns_zone): dns_zone = dns_zone or self.default_dns_zone if not dns_zone: raise TypeError(_('DNS domain is must be specified')) return self.dns_client.records.list(dns_zone.id) ",0,235
openstack%2Ftacker~master~I0e5afc2613d7f97912c6b9ebafa9aa7f96c38af3,openstack/tacker,master,I0e5afc2613d7f97912c6b9ebafa9aa7f96c38af3,Add release note for bug-1833505,MERGED,2019-09-12 06:14:34.000000000,2019-09-17 06:50:18.000000000,2019-09-17 06:48:28.000000000,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 26588}]","[{'number': 1, 'created': '2019-09-12 06:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/f895de0ab8a0b9e4bfa322474a55ecb78cf7c1bc', 'message': 'Add release note for bug-1833505\n\nChange-Id: I0e5afc2613d7f97912c6b9ebafa9aa7f96c38af3\n'}, {'number': 2, 'created': '2019-09-17 05:24:26.000000000', 'files': ['releasenotes/notes/bug-1833505-bedcdfa7f662a17f.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/a6eb1ca5c175c64161b763817efd5cbc48733d64', 'message': 'Add release note for bug-1833505\n\nChange-Id: I0e5afc2613d7f97912c6b9ebafa9aa7f96c38af3\n'}]",2,681646,a6eb1ca5c175c64161b763817efd5cbc48733d64,12,4,2,18955,,,0,"Add release note for bug-1833505

Change-Id: I0e5afc2613d7f97912c6b9ebafa9aa7f96c38af3
",git fetch https://review.opendev.org/openstack/tacker refs/changes/46/681646/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bug-1833505-bedcdfa7f662a17f.yaml'],1,f895de0ab8a0b9e4bfa322474a55ecb78cf7c1bc,,--- fixes: - | Make non-admin's VIM accessible for admin ,,4,0
openstack%2Fcloudkitty~master~I218ac8a6cc0b2f5baa1f4baf0d4bcac3c32eb0b3,openstack/cloudkitty,master,I218ac8a6cc0b2f5baa1f4baf0d4bcac3c32eb0b3,[WIP]Build pdf doc,ABANDONED,2019-09-16 08:29:19.000000000,2019-09-17 06:23:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-09-16 08:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/767ff9e719f0993b6b73818409ded4fff1a3090f', 'message': '[WIP]Build pdf doc\n\nChange-Id: I218ac8a6cc0b2f5baa1f4baf0d4bcac3c32eb0b3\n'}, {'number': 2, 'created': '2019-09-16 08:30:40.000000000', 'files': ['doc/source/conf.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/de22cda23c16d363207c5182e45dd01207838822', 'message': '[WIP]Build pdf doc\n\nChange-Id: I218ac8a6cc0b2f5baa1f4baf0d4bcac3c32eb0b3\n'}]",0,682297,de22cda23c16d363207c5182e45dd01207838822,5,2,2,27822,,,0,"[WIP]Build pdf doc

Change-Id: I218ac8a6cc0b2f5baa1f4baf0d4bcac3c32eb0b3
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/97/682297/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/configuration/samples/index.rst', 'doc/source/conf.py', 'tox.ini']",3,767ff9e719f0993b6b73818409ded4fff1a3090f,build-pdf-docs,[testenv:pdf-docs] basepython = python3 whitelist_externals = make commands = sphinx-build -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,8,2
openstack%2Fos-acc~master~I371a608e2df363cddcdd14aa833e87d47fd75467,openstack/os-acc,master,I371a608e2df363cddcdd14aa833e87d47fd75467,Fix author-email in setup.cfg,ABANDONED,2019-01-22 11:54:41.000000000,2019-09-17 06:04:11.000000000,,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-01-22 11:54:41.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-acc/commit/5c5cf671468dba91d07b13fb449c6ffe27970fc8', 'message': 'Fix author-email in setup.cfg\n\nChange-Id: I371a608e2df363cddcdd14aa833e87d47fd75467\n'}]",0,632441,5c5cf671468dba91d07b13fb449c6ffe27970fc8,5,3,1,29423,,,0,"Fix author-email in setup.cfg

Change-Id: I371a608e2df363cddcdd14aa833e87d47fd75467
",git fetch https://review.opendev.org/openstack/os-acc refs/changes/41/632441/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5c5cf671468dba91d07b13fb449c6ffe27970fc8,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fos-acc~master~I87af6bf7caba382b78481459ee9a2c7fa39ac731,openstack/os-acc,master,I87af6bf7caba382b78481459ee9a2c7fa39ac731,Update master for stable/stein,ABANDONED,2019-03-18 14:41:30.000000000,2019-09-17 06:04:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-03-18 14:41:30.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/stein.rst'], 'web_link': 'https://opendev.org/openstack/os-acc/commit/68c4d56c57bc6d278058d14c4b3a35973578224b', 'message': 'Update master for stable/stein\n\nAdd file to the reno documentation build to show release notes for\nstable/stein.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/stein.\n\nChange-Id: I87af6bf7caba382b78481459ee9a2c7fa39ac731\nSem-Ver: feature\n'}]",0,644018,68c4d56c57bc6d278058d14c4b3a35973578224b,3,1,1,22816,,,0,"Update master for stable/stein

Add file to the reno documentation build to show release notes for
stable/stein.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/stein.

Change-Id: I87af6bf7caba382b78481459ee9a2c7fa39ac731
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/os-acc refs/changes/18/644018/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/stein.rst']",2,68c4d56c57bc6d278058d14c4b3a35973578224b,reno-stein,=================================== Stein Series Release Notes =================================== .. release-notes:: :branch: stable/stein ,,7,0
openstack%2Fos-acc~stable%2Fstein~I44ea3fa56a95ea568f6a2e70df59cf326ab056ce,openstack/os-acc,stable/stein,I44ea3fa56a95ea568f6a2e70df59cf326ab056ce,Update .gitreview for stable/stein,ABANDONED,2019-03-18 14:41:27.000000000,2019-09-17 06:03:54.000000000,,"[{'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-03-18 14:41:27.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/os-acc/commit/d64b615b15db0b9d43c5992f3491df328264054e', 'message': 'Update .gitreview for stable/stein\n\nChange-Id: I44ea3fa56a95ea568f6a2e70df59cf326ab056ce\n'}]",0,644017,d64b615b15db0b9d43c5992f3491df328264054e,6,4,1,22816,,,0,"Update .gitreview for stable/stein

Change-Id: I44ea3fa56a95ea568f6a2e70df59cf326ab056ce
",git fetch https://review.opendev.org/openstack/os-acc refs/changes/17/644017/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,d64b615b15db0b9d43c5992f3491df328264054e,create-stein,defaultbranch=stable/stein,,1,0
openstack%2Fos-acc~master~I3b8b5e4729a7fdc1121e769cd5d24e665eaf46a6,openstack/os-acc,master,I3b8b5e4729a7fdc1121e769cd5d24e665eaf46a6,Change python3.5 job to python3.7 job on Stein+,ABANDONED,2018-10-12 14:09:14.000000000,2019-09-17 06:03:40.000000000,,"[{'_account_id': 24}, {'_account_id': 11805}, {'_account_id': 15334}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 27336}]","[{'number': 1, 'created': '2018-10-12 14:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-acc/commit/36a9433f761029754565ba31fa5ae9b0bf61b19d', 'message': 'Change python3.5 job to python3.7 job on Stein+\n\npython3.5 was the only supported python3 version on Xenial, now that we have\nBionic Beaver nodes that support python3.7, lets switch to testing with python3.7\nin addition with python3.6 in Stein and beyond. See ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135632.htm\n\nChange-Id: I3b8b5e4729a7fdc1121e769cd5d24e665eaf46a6\nSigned-off-by: Charles Short <chucks@redhat.com>\n'}, {'number': 2, 'created': '2018-10-12 14:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-acc/commit/93f6ab4a36067c0ad1fa70a9fbb178ac8ba19591', 'message': 'Change python3.5 job to python3.7 job on Stein+\n\npython3.5 was the only supported python3 version on Xenial, now that we have\nBionic Beaver nodes that support python3.7, lets switch to testing with python3.7\nin addition with python3.6 in Stein and beyond. See ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135632.htm\n\nChange-Id: I3b8b5e4729a7fdc1121e769cd5d24e665eaf46a6\nSigned-off-by: Charles Short <chucks@redhat.com>\n'}, {'number': 3, 'created': '2018-10-15 16:23:39.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-acc/commit/06772579b65f79000a315d854acbf215c685ad9a', 'message': 'Change python3.5 job to python3.7 job on Stein+\n\npython3.5 was the only supported python3 version on Xenial, now that we have\nBionic Beaver nodes that support python3.7, lets switch to testing with python3.7\nin addition with python3.6 in Stein and beyond. See ML discussion here [1] for context.\n\n[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135632.htm\n\nChange-Id: I3b8b5e4729a7fdc1121e769cd5d24e665eaf46a6\nSigned-off-by: Charles Short <chucks@redhat.com>\nStory: #2004073\n'}]",0,610046,06772579b65f79000a315d854acbf215c685ad9a,15,6,3,24,,,0,"Change python3.5 job to python3.7 job on Stein+

python3.5 was the only supported python3 version on Xenial, now that we have
Bionic Beaver nodes that support python3.7, lets switch to testing with python3.7
in addition with python3.6 in Stein and beyond. See ML discussion here [1] for context.

[1] http://lists.openstack.org/pipermail/openstack-dev/2018-October/135632.htm

Change-Id: I3b8b5e4729a7fdc1121e769cd5d24e665eaf46a6
Signed-off-by: Charles Short <chucks@redhat.com>
Story: #2004073
",git fetch https://review.opendev.org/openstack/os-acc refs/changes/46/610046/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,36a9433f761029754565ba31fa5ae9b0bf61b19d,py37-job,"envlist = py37,py27,pep8","envlist = py35,py27,pep8",2,2
openstack%2Fos-acc~master~I081ef03d418b21bb7c7d95e27d378f55e39c34c3,openstack/os-acc,master,I081ef03d418b21bb7c7d95e27d378f55e39c34c3,Update sphinx version,ABANDONED,2019-06-25 13:47:38.000000000,2019-09-17 06:03:30.000000000,,"[{'_account_id': 21672}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 13:47:38.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-acc/commit/e2a28c2d8813ceb3ad136b9079b84d78392265b5', 'message': ""Update sphinx version\n\nThis commit updates sphinx version which aligns to g-r. Without this\npatch, py27 tests fail because of an error like this:\n\n ERROR: Sphinx requires Python '>=3.5' but the running Python is 2.7.15\n\nChange-Id: I081ef03d418b21bb7c7d95e27d378f55e39c34c3\n""}]",0,667367,e2a28c2d8813ceb3ad136b9079b84d78392265b5,4,2,1,8556,,,0,"Update sphinx version

This commit updates sphinx version which aligns to g-r. Without this
patch, py27 tests fail because of an error like this:

 ERROR: Sphinx requires Python '>=3.5' but the running Python is 2.7.15

Change-Id: I081ef03d418b21bb7c7d95e27d378f55e39c34c3
",git fetch https://review.opendev.org/openstack/os-acc refs/changes/67/667367/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,e2a28c2d8813ceb3ad136b9079b84d78392265b5,,"sphinx!=1.6.6,!=1.6.7,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0;python_version>='3.4' # BSDtesttools>=2.2.0 # MIT ",sphinx>=1.6.2 # BSDtesttools>=2.2.0 # MIT,3,2
openstack%2Fos-acc~master~Iec9acd33984f79b764fc672ea4ec5bf9bf2fc3f1,openstack/os-acc,master,Iec9acd33984f79b764fc672ea4ec5bf9bf2fc3f1,Change openstack-dev to openstack-discuss,ABANDONED,2018-12-04 17:17:06.000000000,2019-09-17 06:03:12.000000000,,"[{'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 26297}]","[{'number': 1, 'created': '2018-12-04 17:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-acc/commit/9b434b99c31d234dbdf650e7d242b7b689106487', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: Iec9acd33984f79b764fc672ea4ec5bf9bf2fc3f1\n'}, {'number': 2, 'created': '2019-01-14 03:25:06.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-acc/commit/d114ef28a83a9c23486105a55267d0d5903c0ede', 'message': 'Change openstack-dev to openstack-discuss\n\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: Iec9acd33984f79b764fc672ea4ec5bf9bf2fc3f1\n'}]",1,622443,d114ef28a83a9c23486105a55267d0d5903c0ede,9,4,2,17499,,,0,"Change openstack-dev to openstack-discuss

Mailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: Iec9acd33984f79b764fc672ea4ec5bf9bf2fc3f1
",git fetch https://review.opendev.org/openstack/os-acc refs/changes/43/622443/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,9b434b99c31d234dbdf650e7d242b7b689106487,,author-email = openstack-discuss@lists.openstack.org pci = os_acc.pci:PciAccelerator ,author-email = openstack-dev@lists.openstack.org pci = os_acc.pci:PciAccelerator,2,2
openstack%2Fnova~master~Idd49b0c70caedfcd42420ffa2ac926a6087d406e,openstack/nova,master,Idd49b0c70caedfcd42420ffa2ac926a6087d406e,libvirt: Enable driver discovering PMEM namespaces,MERGED,2019-08-26 03:25:40.000000000,2019-09-17 05:45:49.000000000,2019-09-15 21:22:49.000000000,"[{'_account_id': 5754}, {'_account_id': 6962}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23598}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-26 03:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c38880bc0025bc635f134b19398914dcc9221ec', 'message': 'libvirt: Enable driver configuring PMEM namespaces\n\nAdd one configuration option CONF.libvirt.pmem_namespaces:\n""$LABEL:$NSNAME[|$NSNAME][,$LABEL:$NSNAME[|$NSNAME]]""\n\ne.g. ""128G:ns0|ns1|ns2|ns3,262144MB:ns4|ns5,MEDIUM:ns6|ns7""\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and config file.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 2, 'created': '2019-08-26 06:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3fc53af00a49c2646f7777c821cbef3588cb2bb2', 'message': 'libvirt: Enable driver configuring PMEM namespaces\n\nAdd one configuration option CONF.libvirt.pmem_namespaces:\n""$LABEL:$NSNAME[|$NSNAME][,$LABEL:$NSNAME[|$NSNAME]]""\n\ne.g. ""128G:ns0|ns1|ns2|ns3,262144MB:ns4|ns5,MEDIUM:ns6|ns7""\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and config file.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 3, 'created': '2019-08-26 12:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7cdf2ed65e039ea65b23b6fa0fafa5e15faed9f1', 'message': 'libvirt: Enable driver configuring PMEM namespaces\n\nAdd one configuration option CONF.libvirt.pmem_namespaces:\n""$LABEL:$NSNAME[|$NSNAME][,$LABEL:$NSNAME[|$NSNAME]]""\n\ne.g. ""128G:ns0|ns1|ns2|ns3,262144MB:ns4|ns5,MEDIUM:ns6|ns7""\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and config file.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 4, 'created': '2019-08-27 09:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0691125e7525f7dcb99f656f1f51df5b63efb3d9', 'message': 'libvirt: Enable driver configuring PMEM namespaces\n\nAdd one configuration option CONF.libvirt.pmem_namespaces:\n""$LABEL:$NSNAME[|$NSNAME][,$LABEL:$NSNAME[|$NSNAME]]""\n\ne.g. ""128G:ns0|ns1|ns2|ns3,262144MB:ns4|ns5,MEDIUM:ns6|ns7""\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and config file.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 5, 'created': '2019-08-28 05:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/150e6630bc97fc25b1d27fa07df232e2149cd70e', 'message': 'libvirt: Enable driver configuring PMEM namespaces\n\nAdd one configuration option CONF.libvirt.pmem_namespaces:\n""$LABEL:$NSNAME[|$NSNAME][,$LABEL:$NSNAME[|$NSNAME]]""\n\ne.g. ""128G:ns0|ns1|ns2|ns3,262144MB:ns4|ns5,MEDIUM:ns6|ns7""\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and config file.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 6, 'created': '2019-08-28 10:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35327e12e6d6c4da47a1528c77c0b49df2455b6e', 'message': 'libvirt: Enable driver configuring PMEM namespaces\n\nAdd one configuration option CONF.libvirt.pmem_namespaces:\n""$LABEL:$NSNAME[|$NSNAME][,$LABEL:$NSNAME[|$NSNAME]]""\n\ne.g. ""128G:ns0|ns1|ns2|ns3,262144MB:ns4|ns5,MEDIUM:ns6|ns7""\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and config file.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 7, 'created': '2019-08-29 03:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c746d2b0e735fd7a7767089312966b53e3ef6d2c', 'message': 'libvirt: Enable driver configuring PMEM namespaces\n\nAdd one configuration option CONF.libvirt.pmem_namespaces:\n""$LABEL:$NSNAME[|$NSNAME][,$LABEL:$NSNAME[|$NSNAME]]""\n\ne.g. ""128G:ns0|ns1|ns2|ns3,262144MB:ns4|ns5,MEDIUM:ns6|ns7""\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and config file.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 8, 'created': '2019-08-30 09:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35a5fd36d30df4fec268d19a06f6e5097fb1b634', 'message': 'libvirt: Enable driver configuring PMEM namespaces\n\nAdd one configuration option CONF.libvirt.pmem_namespaces:\n""$LABEL:$NSNAME[|$NSNAME][,$LABEL:$NSNAME[|$NSNAME]]""\n\ne.g. ""128G:ns0|ns1|ns2|ns3,262144MB:ns4|ns5,MEDIUM:ns6|ns7""\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and config file.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 9, 'created': '2019-08-30 09:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c0c94f1dd0d1b5468541cfa2ab9ef9a84251aa8', 'message': 'libvirt: Enable driver configuring PMEM namespaces\n\nAdd one configuration option CONF.libvirt.pmem_namespaces:\n""$LABEL:$NSNAME[|$NSNAME][,$LABEL:$NSNAME[|$NSNAME]]""\n\ne.g. ""128G:ns0|ns1|ns2|ns3,262144MB:ns4|ns5,MEDIUM:ns6|ns7""\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and config file.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 10, 'created': '2019-08-30 10:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c15656e1bf7876e408a67b82d81f254044123731', 'message': 'libvirt: Enable driver configuring PMEM namespaces\n\nAdd one configuration option CONF.libvirt.pmem_namespaces:\n""$LABEL:$NSNAME[|$NSNAME][,$LABEL:$NSNAME[|$NSNAME]]""\n\ne.g. ""128G:ns0|ns1|ns2|ns3,262144MB:ns4|ns5,MEDIUM:ns6|ns7""\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and config file.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 11, 'created': '2019-09-02 07:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1ac11feeac61fe422b9289f7ada9b9aafc5e864b', 'message': 'libvirt: Enable driver configuring PMEM namespaces\n\nAdd one configuration option CONF.libvirt.pmem_namespaces:\n""$LABEL:$NSNAME[|$NSNAME][,$LABEL:$NSNAME[|$NSNAME]]""\n\ne.g. ""128G:ns0|ns1|ns2|ns3,262144MB:ns4|ns5,MEDIUM:ns6|ns7""\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and config file.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 12, 'created': '2019-09-02 13:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d10b0018447fecd2dcfc038b627b52d2504d61e6', 'message': 'libvirt: Enable driver discovering PMEM namespaces\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and configuration.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 13, 'created': '2019-09-03 06:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da907f17e6cb50c2c6e8e93c725f4d1f21b6b7a9', 'message': 'libvirt: Enable driver discovering PMEM namespaces\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and configuration.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 14, 'created': '2019-09-04 12:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/67512691ec4fbcb2e153b1f9845271f5efd9e943', 'message': 'libvirt: Enable driver discovering PMEM namespaces\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and configuration.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 15, 'created': '2019-09-04 14:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d1944a69ce0849c594e3450386e7800d327df094', 'message': 'libvirt: Enable driver discovering PMEM namespaces\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and configuration.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 16, 'created': '2019-09-04 15:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/75c37299007d40377d626e52e8a2d089c6639f52', 'message': 'libvirt: Enable driver discovering PMEM namespaces\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and configuration.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 17, 'created': '2019-09-04 15:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/796b1e87189a487817abdba1115a1e584c42f3f1', 'message': 'libvirt: Enable driver discovering PMEM namespaces\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and configuration.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 18, 'created': '2019-09-05 10:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d3fb42d8aadee5a6a0e155ec14352aa48b7c162', 'message': 'libvirt: Enable driver discovering PMEM namespaces\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and configuration.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 19, 'created': '2019-09-05 11:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ceb63f35d2b7ebbdb4eb393f3b44eba015dbe2ec', 'message': 'libvirt: Enable driver discovering PMEM namespaces\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and configuration.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 20, 'created': '2019-09-06 10:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d241087998a1a1826fa64af01f427f159007a81', 'message': 'libvirt: Enable driver discovering PMEM namespaces\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and configuration.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 21, 'created': '2019-09-06 10:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f4e492f664f36323acdc9ce75a58a1f594fa117', 'message': 'libvirt: Enable driver discovering PMEM namespaces\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and configuration.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 22, 'created': '2019-09-09 05:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f60fe5b22524d686cf9d6731f05ef2f3fa6aa835', 'message': 'libvirt: Enable driver discovering PMEM namespaces\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and configuration.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 23, 'created': '2019-09-10 06:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca51c3fa65e7d09d4aec42acc9c5b975e1a8345d', 'message': 'libvirt: Enable driver discovering PMEM namespaces\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and configuration.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 24, 'created': '2019-09-10 14:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d533cd38d77bf2ef8f5e25787b89795888cfc34', 'message': 'libvirt: Enable driver discovering PMEM namespaces\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and configuration.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 25, 'created': '2019-09-11 08:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1ab19bf0d6ab415463d5ce8029cde18856e026f', 'message': 'libvirt: Enable driver discovering PMEM namespaces\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and configuration.\n\nnote: PMEM namespaces configuration is not supported yet,\n      so libvirt driver will not get any PMEM namespaces\n      from host.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 26, 'created': '2019-09-11 08:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f76307412bd371b1c6314cf0ea276726335e39b1', 'message': 'libvirt: Enable driver discovering PMEM namespaces\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and configuration.\n\nnote: PMEM namespaces configuration is not supported yet,\n      so libvirt driver will not get any PMEM namespaces\n      from host.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 27, 'created': '2019-09-11 11:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab4be1ec699bc86a7012a1cc863cc8b86b58340d', 'message': 'libvirt: Enable driver discovering PMEM namespaces\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and configuration.\n\nnote: PMEM namespaces configuration is not supported yet,\n      so libvirt driver will not get any PMEM namespaces\n      from host.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 28, 'created': '2019-09-11 13:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/113dff6c0b45ea1ee68ea1fb501b23c4f253038f', 'message': 'libvirt: Enable driver discovering PMEM namespaces\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and configuration.\n\nnote: PMEM namespaces configuration is not supported yet,\n      so libvirt driver will not get any PMEM namespaces\n      from host.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 29, 'created': '2019-09-11 18:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/555363c27d99746cb96cfc06e3790ada0986ad4f', 'message': 'libvirt: Enable driver discovering PMEM namespaces\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and configuration.\n\nnote: PMEM namespaces configuration is not supported yet,\n      so libvirt driver will not get any PMEM namespaces\n      from host.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 30, 'created': '2019-09-12 03:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf1546d476c28675d66fe4f7f1735c727c283c51', 'message': 'libvirt: Enable driver discovering PMEM namespaces\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and configuration.\n\nnote: PMEM namespaces configuration is not supported yet,\n      so libvirt driver will not get any PMEM namespaces\n      from host.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 31, 'created': '2019-09-12 06:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b49bfd88f1346b17baf0269e2b4f8e82b8761d9a', 'message': 'libvirt: Enable driver discovering PMEM namespaces\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and configuration.\n\nnote: PMEM namespaces configuration is not supported yet,\n      so libvirt driver will not get any PMEM namespaces\n      from host.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 32, 'created': '2019-09-12 07:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e2b2c5175fab964f05d005fa8eb0fd9051cf650d', 'message': 'libvirt: Enable driver discovering PMEM namespaces\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and configuration.\n\nnote: PMEM namespaces configuration is not supported yet,\n      so libvirt driver will not get any PMEM namespaces\n      from host.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 33, 'created': '2019-09-12 08:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0eb722767992727fcc67b453703238672cb7f044', 'message': 'libvirt: Enable driver discovering PMEM namespaces\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and configuration.\n\nnote: PMEM namespaces configuration is not supported yet,\n      so libvirt driver will not get any PMEM namespaces\n      from host.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 34, 'created': '2019-09-12 21:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf004ccd6e14c780a19764fe6a7be6f49ccf3d95', 'message': 'libvirt: Enable driver discovering PMEM namespaces\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and configuration.\n\nnote: PMEM namespaces configuration is not supported yet,\n      so libvirt driver will not get any PMEM namespaces\n      from host.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 35, 'created': '2019-09-13 08:55:20.000000000', 'files': ['nova/tests/unit/objects/test_objects.py', 'nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/objects/resource.py', 'nova/privsep/libvirt.py', 'nova/tests/unit/objects/test_resource.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3978b99d8f37643a3b32f6b7ead9274c454095a1', 'message': 'libvirt: Enable driver discovering PMEM namespaces\n\nAdd related functions to enable libvirt driver to get PMEM\nnamespaces(VPMEMs) info from host and configuration.\n\nnote: PMEM namespaces configuration is not supported yet,\n      so libvirt driver will not get any PMEM namespaces\n      from host.\n\nChange-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}]",101,678453,3978b99d8f37643a3b32f6b7ead9274c454095a1,321,18,35,23598,,,0,"libvirt: Enable driver discovering PMEM namespaces

Add related functions to enable libvirt driver to get PMEM
namespaces(VPMEMs) info from host and configuration.

note: PMEM namespaces configuration is not supported yet,
      so libvirt driver will not get any PMEM namespaces
      from host.

Change-Id: Idd49b0c70caedfcd42420ffa2ac926a6087d406e
Partially-Implements: blueprint virtual-persistent-memory
Co-Authored-By: He Jie Xu <hejie.xu@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/678453/13 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_objects.py', 'nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/objects/resource.py', 'nova/privsep/libvirt.py', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",7,0c38880bc0025bc635f134b19398914dcc9221ec,bp/virtual-persistent-memory," class LibvirtPMEMNamespaceTests(test.NoDBTestCase): def setUp(self): super(LibvirtPMEMNamespaceTests, self).setUp() self.useFixture(fakelibvirt.FakeLibvirtFixture()) self.vpmem_0 = objects.LibvirtVPMEMDevice( label='4GB', name='ns_0', devpath='/dev/dax0.0', size=4292870144, align=2097152) self.vpmem_1 = objects.LibvirtVPMEMDevice( label='SMALL', name='ns_1', devpath='/dev/dax0.1', size=4292870144, align=2097152) self.vpmem_2 = objects.LibvirtVPMEMDevice( label='SMALL', name='ns_2', devpath='/dev/dax0.2', size=4292870144, align=2097152) @mock.patch('nova.privsep.libvirt.get_pmem_namespaces') def test_get_vpmems(self, mock_get): mock_get.return_value = ''' [{""dev"":""namespace0.0"", ""mode"":""devdax"", ""map"":""mem"", ""size"":4292870144, ""uuid"":""24ffd5e4-2b39-4f28-88b3-d6dc1ec44863"", ""daxregion"":{""id"": 0, ""size"": 4292870144,""align"": 2097152, ""devices"":[{""chardev"":""dax0.0"", ""size"":4292870144}]}, ""name"":""ns_0"", ""numa_node"":0}, {""dev"":""namespace0.1"", ""mode"":""devdax"", ""map"":""mem"", ""size"":4292870144, ""uuid"":""ac64fe52-de38-465b-b32b-947a6773ac66"", ""daxregion"":{""id"": 0, ""size"": 4292870144,""align"": 2097152, ""devices"":[{""chardev"":""dax0.1"", ""size"":4292870144}]}, ""name"":""ns_1"", ""numa_node"":0}, {""dev"":""namespace0.2"", ""mode"":""devdax"", ""map"":""mem"", ""size"":4292870144, ""uuid"":""48189df5-2599-4001-8696-c260f7460381"", ""daxregion"":{""id"": 0, ""size"": 4292870144,""align"": 2097152, ""devices"":[{""chardev"":""dax0.2"", ""size"":4292870144}]}, ""name"":""ns_2"", ""numa_node"":0}]''' CONF.set_override(""pmem_namespaces"", ['4GB:ns_0', 'SMALL:ns_1|ns_2'], group='libvirt') drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) vpmems = drvr._vpmems_by_name expected_vpmems = { 'ns_0': self.vpmem_0, 'ns_1': self.vpmem_1, 'ns_2': self.vpmem_2} for name, vpmem in expected_vpmems.items(): self.assertEqual(vpmem.devpath, vpmems[name].devpath) @mock.patch('nova.privsep.libvirt.get_pmem_namespaces') def test_get_vpmems_failed(self, mock_get): mock_get.return_value = '''[]''' CONF.set_override(""pmem_namespaces"", ['4GB:ns_0'], group='libvirt') self.assertRaises(exception.PMEMNamespaceConfigInvalid, libvirt_driver.LibvirtDriver, 'fake', True)",,180,0
openstack%2Fneutron~master~I9506f855af118bbbd45b55a711504d6ad0f863cc,openstack/neutron,master,I9506f855af118bbbd45b55a711504d6ad0f863cc,Add info log about ready DHCP config for ports,MERGED,2019-09-05 12:37:55.000000000,2019-09-17 05:42:59.000000000,2019-09-17 05:16:50.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-09-05 12:37:55.000000000', 'files': ['neutron/agent/dhcp/agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/63671411553fe5db474ebc8549bb96f34d32e805', 'message': 'Add info log about ready DHCP config for ports\n\nDHCP agent sends to neutron-server information about\nports for which DHCP configration is finished.\nThere was no logged any information about ports which\nhas got finished this DHCP ports configuration.\n\nThis patch adds such log with INFO level. It is the same as\nit is currently done in e.g. neutron-ovs-agent.\n\nChange-Id: I9506f855af118bbbd45b55a711504d6ad0f863cc\n'}]",0,680393,63671411553fe5db474ebc8549bb96f34d32e805,61,8,1,11975,,,0,"Add info log about ready DHCP config for ports

DHCP agent sends to neutron-server information about
ports for which DHCP configration is finished.
There was no logged any information about ports which
has got finished this DHCP ports configuration.

This patch adds such log with INFO level. It is the same as
it is currently done in e.g. neutron-ovs-agent.

Change-Id: I9506f855af118bbbd45b55a711504d6ad0f863cc
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/680393/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/dhcp/agent.py'],1,63671411553fe5db474ebc8549bb96f34d32e805,improve-dhcp-agent-logs," LOG.info(""DHCP configuration for ports %s is completed"", ports_to_send)",,2,0
openstack%2Fnova~master~Ife2e0721fe6d360d4e2f8c9779b7129cb13b2c14,openstack/nova,master,Ife2e0721fe6d360d4e2f8c9779b7129cb13b2c14,Add the maximum train flag in api version history,ABANDONED,2019-09-17 00:45:30.000000000,2019-09-17 05:36:34.000000000,,"[{'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-09-17 00:45:30.000000000', 'files': ['nova/api/openstack/compute/rest_api_version_history.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/e1bfd064e47d6355cbd9aa432ad665071ad306ad', 'message': ""Add the maximum train flag in api version history\n\nBecause of the Train feature freeze, Train's maximum api version\nends at 2.79.\n\nChange-Id: Ife2e0721fe6d360d4e2f8c9779b7129cb13b2c14\n""}]",0,682513,e1bfd064e47d6355cbd9aa432ad665071ad306ad,9,7,1,26458,,,0,"Add the maximum train flag in api version history

Because of the Train feature freeze, Train's maximum api version
ends at 2.79.

Change-Id: Ife2e0721fe6d360d4e2f8c9779b7129cb13b2c14
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/682513/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/rest_api_version_history.rst'],1,e1bfd064e47d6355cbd9aa432ad665071ad306ad,train_maximum_api_version,2.79 (Maximum in Train) -----------------------,2.79 ----,2,2
openstack%2Fnova~master~I725deb0312c930087c9e60115abe68b4e06e6804,openstack/nova,master,I725deb0312c930087c9e60115abe68b4e06e6804,libvirt: Support VM creation with vpmems and vpmems cleanup,MERGED,2019-08-26 03:25:40.000000000,2019-09-17 05:30:23.000000000,2019-09-15 21:36:52.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23598}, {'_account_id': 26515}, {'_account_id': 28743}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-26 03:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1163658897d6648c4fdd055eb6f94c00a8b4902f', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 2, 'created': '2019-08-26 06:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e08799620361eaf7752bfdc3c51c0cabe719cc3f', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 3, 'created': '2019-08-26 12:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/169e9183e8ff1e969e88567a5b2813ae33eec05b', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 4, 'created': '2019-08-27 09:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4fb974ddb0d8a00806880f97fe87931dd1e6a11', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 5, 'created': '2019-08-28 05:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cccbaa1d1b301811640d5184921a1006904eefb0', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 6, 'created': '2019-08-28 10:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a189e62244aaf7253a750747b8ea7eddee654b3', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 7, 'created': '2019-08-29 03:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15533f16b2fd0c29657df46cc4b0c5e3c8d5ecd2', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 8, 'created': '2019-08-30 09:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d759872b388051b0b9543e8229f892818b52e65', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 9, 'created': '2019-08-30 09:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b371a0e5d8ef5909817008435b6c0bd3ca40d5a', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 10, 'created': '2019-08-30 10:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/48b124541e6bf3f0964e9e8557f54fc9593afc6e', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 11, 'created': '2019-09-02 07:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50e7c63f9ab3ea49c1b70fd25458307f86194dcc', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 12, 'created': '2019-09-02 13:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15490e465c642845aeaed14313d8c055089933c5', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 13, 'created': '2019-09-03 06:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11e876ff291dc97b97d315b8436260bd8d50d3d2', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 14, 'created': '2019-09-04 12:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/527255df5d4b59d8ab30c370f5075dd822ae108a', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 15, 'created': '2019-09-04 14:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad5fb2d1d950c556a38e8d1811a00c455085e2a9', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 16, 'created': '2019-09-04 15:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e32f0ccb0266ad5d05ae4b278b97c5a103efb72', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 17, 'created': '2019-09-04 15:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35aa950977a6e63a561a6a205ec8a43b9e8f2e40', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 18, 'created': '2019-09-05 10:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8427d7e6d2a8a97b88bb747f2aff5755c3a95040', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 19, 'created': '2019-09-05 11:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f25865e9cef09bac17c9e1186a12b42d4d12e52a', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 20, 'created': '2019-09-06 10:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb95604c55cd55dd4c76ef04a60d84a86771db59', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 21, 'created': '2019-09-06 10:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46ea2c7cf1152ac65b0a788214fcc1862f7181e0', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 22, 'created': '2019-09-06 10:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/911bad164422a7e2450a5a69621bfa38e6d594db', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 23, 'created': '2019-09-09 05:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f219f9e6f0efa62f06272098919478e931ee8b4', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 24, 'created': '2019-09-10 06:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebd1ff91d6a3e468ebc4b3fc8c93fcb01f0393a5', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 25, 'created': '2019-09-10 14:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b54e24528884ea3cc9c1914cc376431b91e8cd59', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 26, 'created': '2019-09-11 08:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/750661d54f9b62ad8ce3203c2f10c4a155138c6f', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 27, 'created': '2019-09-11 08:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5d25b8cc89723375cb4c64943206c94d4ecf0da', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 28, 'created': '2019-09-11 11:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c856d82c4310c6c06e1c12db854589ff8353690', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 29, 'created': '2019-09-11 13:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bbc639e8d990494acfa664841155b114456dd4be', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 30, 'created': '2019-09-11 16:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17a024dc7e45ab8ec9cdc2db1f8c07fddc257d04', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 31, 'created': '2019-09-11 16:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/465219dae84d7587fbbdf51d514eb59cbb51437b', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 32, 'created': '2019-09-11 18:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2de971dc1c9be8efb140870fbda556ba6ff1f46b', 'message': 'libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 33, 'created': '2019-09-12 03:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8d958acd1f4efc291f95df31b0463492efd23ef', 'message': ""libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nnote:\nWe modify the root <domain> element generated for libvirt to\ninclude <maxMemory> elements when memory device is used.[1]\n\nRequiring vpmems implies a NUMA topology because libvirt won't let us\nuse vpmem without NUMA.[2]\n\n[1]https://github.com/libvirt/libvirt/blob/master/src/qemu/qemu_domain.c#L11593-L11599\n[2]https://github.com/libvirt/libvirt/blob/master/src/qemu/qemu_domain.c#L11604-L11615\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n""}, {'number': 34, 'created': '2019-09-12 06:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f72cc250ee0402a7d5c1676770c519457d7c5f0c', 'message': ""libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nnote:\nWe modify the root <domain> element generated for libvirt to\ninclude <maxMemory> elements when memory device is used.[1]\n\nRequiring vpmems implies a NUMA topology because libvirt won't let us\nuse vpmem without NUMA.[2]\n\n[1]https://github.com/libvirt/libvirt/blob/master/src/qemu/qemu_domain.c#L11593-L11599\n[2]https://github.com/libvirt/libvirt/blob/master/src/qemu/qemu_domain.c#L11604-L11615\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n""}, {'number': 35, 'created': '2019-09-12 07:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e4cfb263e556a7aa8ed35dcb4953bffb65f4ca53', 'message': ""libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nnote:\nWe modify the root <domain> element generated for libvirt to\ninclude <maxMemory> elements when memory device is used.[1]\n\nRequiring vpmems implies a NUMA topology because libvirt won't let us\nuse vpmem without NUMA.[2]\n\n[1]https://github.com/libvirt/libvirt/blob/master/src/qemu/qemu_domain.c#L11593-L11599\n[2]https://github.com/libvirt/libvirt/blob/master/src/qemu/qemu_domain.c#L11604-L11615\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n""}, {'number': 36, 'created': '2019-09-12 08:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae7680d8f4c35421b82ca998f36ee98bacf4ca2f', 'message': ""libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nnote:\nWe modify the root <domain> element generated for libvirt to\ninclude <maxMemory> elements when memory device is used.[1]\n\nRequiring vpmems implies a NUMA topology because libvirt won't let us\nuse vpmem without NUMA.[2]\n\n[1]https://github.com/libvirt/libvirt/blob/master/src/qemu/qemu_domain.c#L11593-L11599\n[2]https://github.com/libvirt/libvirt/blob/master/src/qemu/qemu_domain.c#L11604-L11615\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n""}, {'number': 37, 'created': '2019-09-12 21:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad2d49a282bec40f7b80534dbbf645011d660cec', 'message': ""libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nnote:\nWe modify the root <domain> element generated for libvirt to\ninclude <maxMemory> elements when memory device is used.[1]\n\nRequiring vpmems implies a NUMA topology because libvirt won't let us\nuse vpmem without NUMA.[2]\n\n[1]https://github.com/libvirt/libvirt/blob/master/src/qemu/qemu_domain.c#L11593-L11599\n[2]https://github.com/libvirt/libvirt/blob/master/src/qemu/qemu_domain.c#L11604-L11615\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n""}, {'number': 38, 'created': '2019-09-13 08:55:20.000000000', 'files': ['nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/virt/hardware.py', 'nova/privsep/libvirt.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c39ad2383c1921bda486d58c8670846518caed72', 'message': ""libvirt: Support VM creation with vpmems and vpmems cleanup\n\nAdd the vpmems config into guest config xml according to\nresources info in the instance object, then users can build\na VM with vpmems. Also this patch add the support for\ndata cleanup on the backend device of the vpmems.\n\nnote:\nWe modify the root <domain> element generated for libvirt to\ninclude <maxMemory> elements when memory device is used.[1]\n\nRequiring vpmems implies a NUMA topology because libvirt won't let us\nuse vpmem without NUMA.[2]\n\n[1]https://github.com/libvirt/libvirt/blob/master/src/qemu/qemu_domain.c#L11593-L11599\n[2]https://github.com/libvirt/libvirt/blob/master/src/qemu/qemu_domain.c#L11604-L11615\n\nChange-Id: I725deb0312c930087c9e60115abe68b4e06e6804\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n""}]",88,678455,c39ad2383c1921bda486d58c8670846518caed72,288,19,38,23598,,,0,"libvirt: Support VM creation with vpmems and vpmems cleanup

Add the vpmems config into guest config xml according to
resources info in the instance object, then users can build
a VM with vpmems. Also this patch add the support for
data cleanup on the backend device of the vpmems.

note:
We modify the root <domain> element generated for libvirt to
include <maxMemory> elements when memory device is used.[1]

Requiring vpmems implies a NUMA topology because libvirt won't let us
use vpmem without NUMA.[2]

[1]https://github.com/libvirt/libvirt/blob/master/src/qemu/qemu_domain.c#L11593-L11599
[2]https://github.com/libvirt/libvirt/blob/master/src/qemu/qemu_domain.c#L11604-L11615

Change-Id: I725deb0312c930087c9e60115abe68b4e06e6804
Partially-Implements: blueprint virtual-persistent-memory
Co-Authored-By: He Jie Xu <hejie.xu@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/678455/21 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/virt/libvirt/driver.py', 'nova/virt/hardware.py', 'nova/privsep/libvirt.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",8,1163658897d6648c4fdd055eb6f94c00a8b4902f,bp/virtual-persistent-memory," 'trusted_certs': None, 'resources': None uuid='875a8070-d0b9-4949-8b31-104d125c9a64', expected_attrs=['resources']) fake_inst = objects.Instance(**self.test_instance) fake_inst = objects.Instance(**self.test_instance) @mock.patch('nova.virt.hardware.get_vpmems') def test_get_guest_config_with_vpmems(self, mock_get_vpmems_label): vpmem_0 = objects.LibvirtVPMEMDevice( label='4GB', name='ns_0', devpath='/dev/dax0.0', size=4292870144, align=2097152) resource_0 = objects.Resource( rp_uuid=uuids.rp, resource_class=""CUSTOM_PMEM_NAMESPACE_4GB"", identifier='ns_0', metadata=jsonutils.dumps( vpmem_0.obj_to_primitive())) resources = objects.ResourceList(objects=[resource_0]) instance_ref = objects.Instance(**self.test_instance) instance_ref.resources = resources image_meta = objects.ImageMeta.from_dict(self.test_image_meta) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) drvr._vpmems_by_name = {""ns_0"": vpmem_0} mock_get_vpmems_label.return_value = ['4GB'] cfg = drvr._get_guest_config(instance_ref, _fake_network_info(self, 1), image_meta, {'mapping': {}}) for device in cfg.devices: if isinstance(device, vconfig.LibvirtConfigGuestVPMEM): self.assertEqual(""nvdimm"", device.model) self.assertEqual(""/dev/dax0.0"", device.source_path) break else: assert False, ""Unable to find any vpmem device for the guest."" for field in ['numa_topology', 'vcpu_model', 'trusted_certs', 'resources', 'migration_context']: ephemeral_key_uuid=uuids.ephemeral_key_uuid, resources=None)"," 'trusted_certs': None uuid='875a8070-d0b9-4949-8b31-104d125c9a64') fake_inst = {'name': 'foo'} fake_inst = {'name': 'foo'} for field in ['numa_topology', 'vcpu_model', 'trusted_certs']: ephemeral_key_uuid=uuids.ephemeral_key_uuid)",262,10
openstack%2Fopenstack-helm~master~Iaa5d0e93e4678f3ef25380d14b8004714f929c00,openstack/openstack-helm,master,Iaa5d0e93e4678f3ef25380d14b8004714f929c00,[WIP] Network Policy Egress Gate,ABANDONED,2019-09-03 16:10:30.000000000,2019-09-17 05:26:06.000000000,,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 24780}]","[{'number': 1, 'created': '2019-09-03 16:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5e12b5e6a7d8529bc3926a81f7785242ed8fc2b7', 'message': '[DNM] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 2, 'created': '2019-09-03 18:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c8f4d52dc899540b0c4073f7aabdece8bc7a7f89', 'message': '[DNM] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 3, 'created': '2019-09-03 18:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4437604f1f5bb8a450b6c18d81bd3ae18c2587b0', 'message': '[DNM] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 4, 'created': '2019-09-03 21:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a0413e6473e2b5564cac632ba31bd20d25fba28a', 'message': '[DNM] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 5, 'created': '2019-09-04 16:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fa71e6c143d281fa852372e8897f4adb36f3e2b8', 'message': '[DNM] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 6, 'created': '2019-09-04 20:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/270f99ab50999f97975d3e95acffd91f462f4c0e', 'message': '[DNM] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 7, 'created': '2019-09-05 13:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a8a22372bb71a5692d2d407819890364fd380bb4', 'message': '[DNM] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 8, 'created': '2019-09-05 16:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5ef530e83e923d0388b8772094dd9021aa52e226', 'message': '[DNM] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 9, 'created': '2019-09-05 21:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e5a375058ff1c084f72c0c1f4d8641a3393ac60f', 'message': '[DNM] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 10, 'created': '2019-09-06 07:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aa63575a526301f8f94855ff14cd851a0b1bece0', 'message': '[DNM] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 11, 'created': '2019-09-06 13:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f358d8f68d5ca1718b10806f02e0d757e2aef60e', 'message': '[DNM] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 12, 'created': '2019-09-06 16:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3a0b16bd0977ccfd5aea6cacf774b4611d597ca5', 'message': '[DNM] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 13, 'created': '2019-09-06 18:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1c27411846e9c9df98b25a658eb7022a46f59056', 'message': '[DNM] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 14, 'created': '2019-09-06 19:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a0cda2811a1c9b0ee2c207f894376c9917f68da6', 'message': '[DNM] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 15, 'created': '2019-09-06 19:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7a838d74406b5f0f663f2c4e495577f09e20e7b7', 'message': '[DNM] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 16, 'created': '2019-09-06 20:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/352a19c82406de907cb588841885973d1a8cebc3', 'message': '[DNM] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 17, 'created': '2019-09-07 09:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f6b8eb93d8ce01a8fc307fa2ae40ad226533add6', 'message': '[DNM] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 18, 'created': '2019-09-07 23:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/da5798f46cbc52202a6a270f0d736c45aa60913c', 'message': '[DNM] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 19, 'created': '2019-09-09 02:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/167fb205c323e89c526d1642b74887ae833150a6', 'message': '[DNM] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 20, 'created': '2019-09-09 13:51:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9165cdf4cb036971752e2f623311dd81ff5f1b80', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 21, 'created': '2019-09-09 18:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/38624d3b343a5568de5004224b67036b8390967f', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 22, 'created': '2019-09-09 21:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b6ade6789007ab46edbef6f880281afa1a6b42e0', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 23, 'created': '2019-09-10 06:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b3105cfb1fd8ef98497cfea904ece1285baf782c', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 24, 'created': '2019-09-10 13:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/652fdff1e6781a993c21cea10dc833a856bfc991', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 25, 'created': '2019-09-10 15:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fe533034d111bb76b167f7c5c369459aa41bc1c9', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 26, 'created': '2019-09-10 17:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bfdd3ec27c2c6cbdcedb496409cf4eaa762b7cfd', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 27, 'created': '2019-09-10 17:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0b75335b917774ae801343bfc1b9e65ddc124956', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 28, 'created': '2019-09-10 19:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cf1589b7c4fc24facefc34ef753d32f9490571be', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 29, 'created': '2019-09-10 20:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1512b0342119e4becf9f55951f63bd5cde0c980c', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 30, 'created': '2019-09-11 03:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/feb90144b65e86324ab2d88b6ea022003866361a', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 31, 'created': '2019-09-11 03:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/60d65c804ca598a39e0b83fd5ccf6b95125d046b', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 32, 'created': '2019-09-11 15:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e0078902d2d3bee581a35b8b618601998a71c5b9', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 33, 'created': '2019-09-11 18:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/df52360ff2ce789f8268103a0f987fc47165573c', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 34, 'created': '2019-09-11 20:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/00a84f352b2f5ed5dc1b2ba0dc00c3e39625bdd8', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 35, 'created': '2019-09-11 21:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7f7b45c50b18846b2a1c2f25d51d39d3295a124f', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 36, 'created': '2019-09-12 00:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/03bcd9fd69113c1ba5c14b71899d7c964df3a3ce', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 37, 'created': '2019-09-12 01:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c5d37445a231850dd13c6cabd5d5a8ad9886ce8b', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 38, 'created': '2019-09-12 02:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/969c46f184ec24e235b9478e34fa557bd1546171', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 39, 'created': '2019-09-12 04:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4f15b62a5c6fa3213c660d59c0f726afe9415c27', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 40, 'created': '2019-09-12 06:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/40902ed0ce06acba4415113efcfe71c4685dab00', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 41, 'created': '2019-09-12 13:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/531f0978bce6d36c2f46771746156ca7c050d826', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 42, 'created': '2019-09-12 16:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b0fbfed7a9ec81e6fe93775b9ff33688608160d0', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 43, 'created': '2019-09-12 17:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a5f4e05379d3f858b281512135fc2cd0f489cf72', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 44, 'created': '2019-09-12 19:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d11670af407073837c44c88a2709f6e7d218bec8', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 45, 'created': '2019-09-12 20:31:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fb35c6cd23f91214f9c8ce0c6b71737321da7dc2', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 46, 'created': '2019-09-12 23:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c9f7b4c340ae590b42ddeb6e1797e481f55a6a6f', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}, {'number': 47, 'created': '2019-09-13 01:16:51.000000000', 'files': ['tools/deployment/netpol/230-setup-gateway.sh', 'tools/deployment/netpol/000-install-packages.sh', 'tools/deployment/common/deploy-k8s.sh', 'tools/deployment/netpol/060-lockdown.sh', 'zuul.d/jobs-openstack-helm.yaml', 'tools/deployment/netpol/020-setup-client.sh', 'glance/values.yaml', 'tools/deployment/netpol/300-horizon.sh', 'horizon/values.yaml', 'tools/deployment/netpol/210-libvirt.sh', 'tools/deployment/netpol/105-ceph-radosgateway.sh', 'tools/deployment/netpol/130-heat.sh', 'tools/deployment/netpol/120-cinder.sh', 'tools/deployment/netpol/080-mariadb.sh', 'tools/deployment/netpol/050-ceph-ns-activate.sh', 'keystone/values.yaml', 'tools/deployment/netpol/030-ingress.sh', 'tools/deployment/netpol/110-glance.sh', 'cinder/values.yaml', 'tools/deployment/netpol/090-rabbitmq.sh', 'tools/deployment/netpol/100-keystone.sh', 'tools/deployment/netpol/010-deploy-k8s.sh', 'tools/deployment/netpol/900-use-it.sh', 'tools/deployment/netpol/070-memcache.sh', 'tools/deployment/netpol/200-openvswitch.sh', 'tools/deployment/netpol/040-ceph.sh', 'tools/deployment/netpol/220-compute-kit.sh', 'tools/deployment/common/install-packages.sh', 'zuul.d/project.yaml', 'tools/deployment/common/setup-client.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/62f1d4c355d58e9fb9c5919036c5986f4a9e9205', 'message': '[WIP] Network Policy Egress Gate\n\nThis patch set adds a gate for egress network policy.\n\nDepends-On: https://review.opendev.org/#/c/679853/\n\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\nCo-Authored-By: Mike Pham <tpham0630@gmail.com>\n\nChange-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,679817,62f1d4c355d58e9fb9c5919036c5986f4a9e9205,104,4,47,20466,,,0,"[WIP] Network Policy Egress Gate

This patch set adds a gate for egress network policy.

Depends-On: https://review.opendev.org/#/c/679853/

Co-Authored-By: Gage Hugo <gagehugo@gmail.com>
Co-Authored-By: Mike Pham <tpham0630@gmail.com>

Change-Id: Iaa5d0e93e4678f3ef25380d14b8004714f929c00
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/17/679817/4 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/netpol/110-horizon.sh', 'tools/deployment/netpol/000-install-packages.sh', 'tools/deployment/netpol/040-lockdown.sh', 'tools/deployment/netpol/080-keystone.sh', 'tools/deployment/netpol/010-deploy-k8s.sh', 'tools/deployment/netpol/060-memcache.sh', 'zuul.d/jobs-openstack-helm.yaml', 'tools/deployment/netpol/020-setup-client.sh', 'tools/deployment/netpol/050-rabbitmq.sh', 'tools/deployment/netpol/090-glance.sh', 'tools/deployment/netpol/100-heat.sh', 'tools/deployment/netpol/070-mariadb.sh', 'zuul.d/project.yaml', 'tools/deployment/netpol/030-ingress.sh']",14,5e12b5e6a7d8529bc3926a81f7785242ed8fc2b7,netpol,"#!/bin/bash # Copyright 2019 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. set -xe #NOTE: Lint and package chart : ${OSH_INFRA_PATH:=""../openstack-helm-infra""} make -C ${OSH_INFRA_PATH} ingress tee /tmp/ingress.yaml <<EOF manifests: network_policy: true network_policy: ingress: ingress: - {} EOF #NOTE: Deploy command : ${OSH_INFRA_PATH:=""../openstack-helm-infra""} : ${OSH_EXTRA_HELM_ARGS:=""""} tee /tmp/ingress-kube-system.yaml << EOF deployment: mode: cluster type: DaemonSet network: host_namespace: true EOF helm upgrade --install ingress-kube-system ${OSH_INFRA_PATH}/ingress \ --namespace=kube-system \ --values=/tmp/ingress-kube-system.yaml \ ${OSH_EXTRA_HELM_ARGS} \ ${OSH_EXTRA_HELM_ARGS_INGRESS_KUBE_SYSTEM} #NOTE: Wait for deploy ./tools/deployment/common/wait-for-pods.sh kube-system #NOTE: Display info helm status ingress-kube-system #NOTE: Deploy namespace ingress helm upgrade --install ingress-openstack ${OSH_INFRA_PATH}/ingress \ --namespace=openstack \ --values=/tmp/ingress.yaml \ ${OSH_EXTRA_HELM_ARGS} \ ${OSH_EXTRA_HELM_ARGS_INGRESS_OPENSTACK} #NOTE: Wait for deploy ./tools/deployment/common/wait-for-pods.sh openstack #NOTE: Display info helm status ingress-openstack helm upgrade --install ingress-ceph ${OSH_INFRA_PATH}/ingress \ --namespace=ceph \ ${OSH_EXTRA_HELM_ARGS} \ ${OSH_EXTRA_HELM_ARGS_INGRESS_CEPH} #NOTE: Wait for deploy ./tools/deployment/common/wait-for-pods.sh ceph #NOTE: Display info helm status ingress-ceph ",,496,33
openstack%2Foctavia~master~I6c5ebdea8149166f8d0ebb69cfe63692892f5ab9,openstack/octavia,master,I6c5ebdea8149166f8d0ebb69cfe63692892f5ab9,Fix openstack port show content handling,MERGED,2019-09-16 09:48:41.000000000,2019-09-17 05:17:01.000000000,2019-09-17 05:15:22.000000000,"[{'_account_id': 6469}, {'_account_id': 6732}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-16 09:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/774f202068c0f8c57f3c9906d07c650f37937a3b', 'message': ""Fix openstack port show content handling\n\nopenstackclient 4.0.0 introduced in\nI9878f327e39f56852cc0fb6e4eee9105b7141da9 a new format for displaying\ncolumns with complex python types.\n\nIt breaks our devstack plugin because we rely on 'openstack port show -c\nfixed_ips -f value' to find the ip address of our management port.\nThis commit fixes the parsing of openstack port show command.\n\nChange-Id: I6c5ebdea8149166f8d0ebb69cfe63692892f5ab9\n""}, {'number': 2, 'created': '2019-09-17 00:08:36.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/926179c97dd2f86ad3476a7f63b10ed121d9bed1', 'message': ""Fix openstack port show content handling\n\nopenstackclient 4.0.0 introduced in\nI9878f327e39f56852cc0fb6e4eee9105b7141da9 a new format for displaying\ncolumns with complex python types.\n\nIt breaks our devstack plugin because we rely on 'openstack port show -c\nfixed_ips -f value' to find the ip address of our management port.\nThis commit fixes the parsing of openstack port show command.\n\nChange-Id: I6c5ebdea8149166f8d0ebb69cfe63692892f5ab9\n""}]",0,682327,926179c97dd2f86ad3476a7f63b10ed121d9bed1,13,6,2,29244,,,0,"Fix openstack port show content handling

openstackclient 4.0.0 introduced in
I9878f327e39f56852cc0fb6e4eee9105b7141da9 a new format for displaying
columns with complex python types.

It breaks our devstack plugin because we rely on 'openstack port show -c
fixed_ips -f value' to find the ip address of our management port.
This commit fixes the parsing of openstack port show command.

Change-Id: I6c5ebdea8149166f8d0ebb69cfe63692892f5ab9
",git fetch https://review.opendev.org/openstack/octavia refs/changes/27/682327/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,774f202068c0f8c57f3c9906d07c650f37937a3b,osc-fix," # TODO(johnsom) This gets the IPv4 address, should be updated for IPv6 (in case of multiple subnets) MGMT_PORT_IP=$(openstack port show -f yaml -c fixed_ips $MGMT_PORT_ID | awk '/ ip_address:/{print $NF}')"," # TODO(johnsom) This gets the IPv4 address, should be updated for IPv6 MGMT_PORT_IP=$(openstack port show -f value -c fixed_ips $MGMT_PORT_ID | awk '{FS="",| ""; gsub("","",""""); gsub(""'\''"",""""); for(i = 1; i <= NF; ++i) {if ($i ~ /^ip_address/) {n=index($i, ""=""); if (substr($i, n+1) ~ ""\\."") print substr($i, n+1)}}}')",2,2
openstack%2Fnova~master~Iaa63b9078950835f59345600754c5df580bdfc54,openstack/nova,master,Iaa63b9078950835f59345600754c5df580bdfc54,libvirt: report VPMEM resources by provider tree,MERGED,2019-08-26 03:25:40.000000000,2019-09-17 05:15:15.000000000,2019-09-15 21:36:45.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23598}, {'_account_id': 26515}, {'_account_id': 28743}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-26 03:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2bbeef995ce025d5980cdf340c8f3663bd50771a', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources are belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 2, 'created': '2019-08-26 06:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e45ee4d15502993daa38a60edebed2ccaf51971e', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources are belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 3, 'created': '2019-08-26 12:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1174fddfa532a6da68bcf3799dfe246c05ed5b22', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources are belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 4, 'created': '2019-08-27 09:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ded331a023f8d80ea637c2b7308c0a26bc4562e5', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources are belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 5, 'created': '2019-08-28 05:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e113d939b247bfcc2c80d8c05fbb5fb897e01e97', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources are belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 6, 'created': '2019-08-28 10:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e685df6cf7daa5c27c3c117d12ec0c6fcac3a69', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources are belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 7, 'created': '2019-08-29 03:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24d801b92990e04943d2e5057e489b0276083499', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources are belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 8, 'created': '2019-08-30 09:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80f8841bc62c9f44db851e7b24a24f75d5eb24a7', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources are belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 9, 'created': '2019-08-30 09:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9b10233db6b6f81b5724c17c13fa52cdb66dad0', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources are belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 10, 'created': '2019-08-30 10:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5cc8c5d43539e0e095c125b147fd22d492bfed65', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources are belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 11, 'created': '2019-09-02 07:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a17fde7ae0101b010ce739b90e9c833919f4bcd5', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources are belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 12, 'created': '2019-09-02 13:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3fc5a8344e419c9391cc0cdde15c9aeb474a9c61', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources are belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 13, 'created': '2019-09-03 06:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/877fe5e7f5cde833846a8a0701a905145d06d3ac', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources are belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 14, 'created': '2019-09-04 12:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a5bd65aa1242d64e0ff1c83c3b54a4c0bce77a3', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources are belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 15, 'created': '2019-09-04 14:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b712daa1abcba1c5187d80b2623a4ae6092775e2', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources are belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 16, 'created': '2019-09-04 15:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1cb7c6dee81b29141f746e459563616cf543f1a5', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources are belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 17, 'created': '2019-09-04 15:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0d18b228b50a54eed55c9cd88337c146fdf35ffb', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources are belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 18, 'created': '2019-09-05 10:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47694729d916ebcb0dfb07b3203f4214c0ca67e0', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources are belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 19, 'created': '2019-09-05 11:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dbe915531e71b5b802566a0230fc3b620e0bacaa', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources are belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 20, 'created': '2019-09-06 10:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0db25ca9ee57e32253ad2ae65ed277213b4622e3', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources are belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 21, 'created': '2019-09-06 10:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc0b552072477d7794920f0cab2ccdb702294e1a', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources are belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 22, 'created': '2019-09-06 10:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33e0f979f4ab1790f873a8626d4884d8ab4aa97a', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 23, 'created': '2019-09-09 05:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/efb6da74e30929b55db300a2d4be0c4aa3c74010', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 24, 'created': '2019-09-10 06:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb16a1c4fddb44c86df6707339f6d4426947eda8', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 25, 'created': '2019-09-10 14:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08c0711be99126ee6964118b0fcf0891050561b4', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 26, 'created': '2019-09-11 08:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7fad5d93b9fd6e7adddadab52d336b9c806e8639', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 27, 'created': '2019-09-11 08:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32f358fc2e03ca3aa900c1cef7a0f9234d74721f', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 28, 'created': '2019-09-11 11:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6a7561fc0050d77689208bc164214ea0c9d72bf', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 29, 'created': '2019-09-11 13:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c96e7ad46ef4de88de3f82708aad469bde05c2e', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 30, 'created': '2019-09-11 18:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2367a9ee50de0e7ed3c054cc680eb0e50b263344', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 31, 'created': '2019-09-12 03:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f68f1ea72f50395c3d008f70f2bf4bbc60c0bed', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 32, 'created': '2019-09-12 06:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a319ae4d3453def6300f5f77ce6e8afa43655760', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 33, 'created': '2019-09-12 07:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6fc93dba787672e23503cc4fee7d472e23a2998', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 34, 'created': '2019-09-12 08:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0ccca71915dd6bae8e68fcc86bbb67024feafaa', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 35, 'created': '2019-09-12 21:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b8a951089643af1383c5aaf12013c87283c34307', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 36, 'created': '2019-09-13 08:55:20.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d7c07584f1f16059049ebe9d9b97d476c3356ef9', 'message': 'libvirt: report VPMEM resources by provider tree\n\nReport VPMEM resources by updating provider tree. Custom\nResource Classes are used to represent PMEM namespace resource\nhere. Currently, VPMEM inventories and resources belong to\ncompute node ResourceProvider directly.\n\nChange-Id: Iaa63b9078950835f59345600754c5df580bdfc54\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}]",25,678454,d7c07584f1f16059049ebe9d9b97d476c3356ef9,280,19,36,23598,,,0,"libvirt: report VPMEM resources by provider tree

Report VPMEM resources by updating provider tree. Custom
Resource Classes are used to represent PMEM namespace resource
here. Currently, VPMEM inventories and resources belong to
compute node ResourceProvider directly.

Change-Id: Iaa63b9078950835f59345600754c5df580bdfc54
Partially-Implements: blueprint virtual-persistent-memory
Co-Authored-By: He Jie Xu <hejie.xu@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/678454/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,2bbeef995ce025d5980cdf340c8f3663bd50771a,bp/virtual-persistent-memory," mock_gpu_invs, gpu_invs=None, vpmems=None): if vpmems: self.driver._vpmems_by_rc = vpmems def test_update_provider_tree_for_vpmem(self): rp_uuid = self.cn_rp['uuid'] vpmem_0 = objects.LibvirtVPMEMDevice(label='4GB', name='ns_0', size=4292870144, devpath='/dev/dax0.0', align=2097152) vpmem_1 = objects.LibvirtVPMEMDevice(label='SMALL', name='ns_1', size=4292870144, devpath='/dev/dax0.1', align=2097152) vpmem_2 = objects.LibvirtVPMEMDevice(label='4GB', name='ns_2', size=4292870144, devpath='/dev/dax0.2', align=2097152) vpmems_by_rc = { 'CUSTOM_PMEM_NAMESPACE_4GB': [vpmem_0], 'CUSTOM_PMEM_NAMESPACE_SMALL': [vpmem_1, vpmem_2] } self._test_update_provider_tree(vpmems=vpmems_by_rc) inventory = self._get_inventory() expect_resources = {} inventory[""CUSTOM_PMEM_NAMESPACE_4GB""] = { 'total': 1, 'max_unit': 1, 'min_unit': 1, 'step_size': 1, 'allocation_ratio': 1.0, 'reserved': 0 } inventory[""CUSTOM_PMEM_NAMESPACE_SMALL""] = { 'total': 2, 'max_unit': 2, 'min_unit': 1, 'step_size': 1, 'allocation_ratio': 1.0, 'reserved': 0 } expect_resources[""CUSTOM_PMEM_NAMESPACE_4GB""] = [ objects.Resource( rp_uuid=rp_uuid, resource_class=""CUSTOM_PMEM_NAMESPACE_4GB"", identifier='ns_0', metadata=jsonutils.dumps( vpmem_0.obj_to_primitive())) ] expect_resources[""CUSTOM_PMEM_NAMESPACE_SMALL""] = [ objects.Resource( rp_uuid=rp_uuid, resource_class=""CUSTOM_PMEM_NAMESPACE_SMALL"", identifier='ns_1', metadata=jsonutils.dumps( vpmem_1.obj_to_primitive())), objects.Resource( rp_uuid=rp_uuid, resource_class=""CUSTOM_PMEM_NAMESPACE_SMALL"", identifier='ns_2', metadata=jsonutils.dumps( vpmem_2.obj_to_primitive())) ] self.assertEqual(inventory, (self.pt.data(self.cn_rp['uuid'])).inventory) resources = self.pt.data(self.cn_rp['uuid']).resources for rc, res_objs in resources.items(): self.assertEqual(len(expect_resources[rc]), len(res_objs)) "," mock_gpu_invs, gpu_invs=None):",98,1
openstack%2Fnova~master~If649218db86a04db744990ec0139b4f0b1e79ad6,openstack/nova,master,If649218db86a04db744990ec0139b4f0b1e79ad6,Deprecate CONF.workarounds.enable_numa_live_migration,MERGED,2019-02-28 12:31:59.000000000,2019-09-17 05:06:18.000000000,2019-09-16 02:17:51.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22056}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-02-28 12:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9c5bdf6d3bbe8833add285f3d1f8cbfd5067e91', 'message': ""CONF.enable_numa_live_migration is not needed >= Stein\n\nOnce a deployment has been fully upgraded to Stein, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch bumps the service version and changes the\nconductor check to only apply if the cell's (cross-cell live migration\nisn't supported) minimum service version is old.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 2, 'created': '2019-06-12 20:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/feab1a325f835a24762a1386f327c52cd8ebfd09', 'message': ""CONF.enable_numa_live_migration is not needed >= Stein\n\nOnce a deployment has been fully upgraded to Stein, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch bumps the service version and changes the\nconductor check to only apply if the cell's (cross-cell live migration\nisn't supported) minimum service version is old.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 3, 'created': '2019-07-03 06:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f1b78132f76b4cd841a9f015db55570274cee869', 'message': ""CONF.enable_numa_live_migration is not needed >= Train\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch bumps the service version and changes the\nconductor check to only apply if the cell's (cross-cell live migration\nisn't supported) minimum service version is old.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 4, 'created': '2019-07-03 11:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58c151d7a165815461e9aca3db78cb93bbb8b394', 'message': ""CONF.enable_numa_live_migration is not needed >= Train\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch bumps the service version and changes the\nconductor check to only apply if the cell's (cross-cell live migration\nisn't supported) minimum service version is old.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 5, 'created': '2019-07-04 12:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c2f11c975cd002a1684eda8c38d3369d276d214', 'message': ""CONF.workarounds.enable_numa_live_migration is not needed >= Train\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch bumps the service version and changes the\nconductor check to only apply if the cell's (cross-cell live migration\nisn't supported) minimum service version is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 6, 'created': '2019-07-05 06:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c27740f14c14c41b10d7646e08457916e156b52e', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch bumps the service version and changes the\nconductor check to only apply if the cell's (cross-cell live migration\nisn't supported) minimum service version is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 7, 'created': '2019-07-10 18:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e6067042968fdfd0b3ae880ffc4b858bf7dbc48', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch bumps the service version and changes the\nconductor check to only apply if the cell's (cross-cell live migration\nisn't supported) minimum service version is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 8, 'created': '2019-07-17 20:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef3a8ccb1256c31a70e5a7b884035168f55364d4', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch bumps the service version and changes the\nconductor check to only apply if the cell's (cross-cell live migration\nisn't supported) minimum service version is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 9, 'created': '2019-07-18 00:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43923e1796776b6c5e3c778e55904efa766cbe1d', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch bumps the service version and changes the\nconductor check to only apply if the cell's (cross-cell live migration\nisn't supported) minimum service version is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 10, 'created': '2019-07-24 21:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4579d59d107762ce6234c9045b91466bfaacf20c', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch bumps the service version and changes the\nconductor check to only apply if the cell's (cross-cell live migration\nisn't supported) minimum service version is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 11, 'created': '2019-07-25 14:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d880e5c772442b98e48a7bdf255a64dd91020c3', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch bumps the service version and changes the\nconductor check to only apply if the cell's (cross-cell live migration\nisn't supported) minimum service version is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 12, 'created': '2019-07-25 21:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f75968ac206a8e20f80f3a9666ebeaaa1025abf4', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch bumps the service version and changes the\nconductor check to only apply if the cell's (cross-cell live migration\nisn't supported) minimum service version is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 13, 'created': '2019-07-29 21:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98b6d882fdc3286a3e315b8696735a8c8866abda', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch bumps the service version and changes the\nconductor check to only apply if the cell's (cross-cell live migration\nisn't supported) minimum service version is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 14, 'created': '2019-08-09 20:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/caadd4289d93c2bccd9d62b020f3e90289b2e99c', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch bumps the service version and changes the\nconductor check to only apply if the cell's (cross-cell live migration\nisn't supported) minimum service version is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 15, 'created': '2019-08-10 12:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1758b26eee3444c41f6107ca65d1b00cfa1f01d9', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch bumps the service version and changes the\nconductor check to only apply if the cell's (cross-cell live migration\nisn't supported) minimum service version is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 16, 'created': '2019-08-22 21:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1caeac4f59d872c6538ff47a3488303c104fdef9', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch bumps the service version and changes the\nconductor check to only apply if the cell's (cross-cell live migration\nisn't supported) minimum service version is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 17, 'created': '2019-08-23 16:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4d7716d739e18d3a1c8f22e9f3835d79b67757a', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch bumps the service version and changes the\nconductor check to only apply if the cell's (cross-cell live migration\nisn't supported) minimum service version is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 18, 'created': '2019-08-23 19:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6184f935fbedc15ac1f4b47412359006a8ee41a', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch bumps the service version and changes the\nconductor check to only apply if the cell's (cross-cell live migration\nisn't supported) minimum service version is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 19, 'created': '2019-08-23 21:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7b9763fd7174c12aac8d4b7e8797867922c00d55', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch bumps the service version and changes the\nconductor check to only apply if the cell's (cross-cell live migration\nisn't supported) minimum service version is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 20, 'created': '2019-08-26 18:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c811d64d08cc5c995e287094996f3218f40b5143', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch bumps the service version and changes the\nconductor check to only apply if the cell's (cross-cell live migration\nisn't supported) minimum service version is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 21, 'created': '2019-08-26 22:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27310e4dcc27efbe73d1d767c454a397300c6953', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch bumps the service version and changes the\nconductor check to only apply if the cell's (cross-cell live migration\nisn't supported) minimum service version is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 22, 'created': '2019-08-27 01:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c1647b9433da9895bceaeb0d57885d0eb1ec1209', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch bumps the service version and changes the\nconductor check to only apply if the cell's (cross-cell live migration\nisn't supported) minimum service version is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 23, 'created': '2019-08-27 03:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf9ba31011c2556effcd28f8077f846b1eb0db43', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch bumps the service version and changes the\nconductor check to only apply if the cell's (cross-cell live migration\nisn't supported) minimum service version is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 24, 'created': '2019-08-27 21:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ed52c72654411598d4890c8715c84291481785a', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 25, 'created': '2019-08-28 03:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/373e82967a364923082d6801425f3da9b430f2ab', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 26, 'created': '2019-08-29 01:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66d7b8fe69092b17f509bb832419ab1ec844831e', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 27, 'created': '2019-08-29 18:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c4eae519b63475a8ecc6f03766553738c401dd4', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 28, 'created': '2019-08-30 18:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93675e33e5995a205fdaef7f64b29345fbdc1268', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 29, 'created': '2019-08-31 14:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/892c6f67c10e0eebce3e75538296c963f5fc8841', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 30, 'created': '2019-09-02 21:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e08b54d1b25055ef790638ad015536e4479fcded', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 31, 'created': '2019-09-02 21:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6c4545395b71b10cd792209c4c45fc0ae574abb', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 32, 'created': '2019-09-03 02:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/700a5cffcb6d4f131a57d1c7356a235b8ea521ca', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 33, 'created': '2019-09-03 14:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dfc0bc3ac5f67e1667ca2cc7362e229b5d7d419f', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 34, 'created': '2019-09-03 15:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d92653116bd9c586760b5f0bc199c12fcc47dd6f', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 35, 'created': '2019-09-03 17:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/43f5f16eac555ca352ab4874f3b6901c6dbd6030', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 36, 'created': '2019-09-03 20:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab1a21e6af9fa881f95aefd0c3e95fc123deb977', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 37, 'created': '2019-09-04 00:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2049de6c6764b38fdb3f2d556aa4acfa6b3bdb20', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 38, 'created': '2019-09-04 02:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c617e4574b903c049e216940898cd335f0647ea0', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 39, 'created': '2019-09-04 19:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4d6e9ca6331d337740855c852ec7889db83ca50', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 40, 'created': '2019-09-05 00:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27c1e07668f9cddbf05b1e959b56ef03409e61b6', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 41, 'created': '2019-09-07 00:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63e1531e2777d258eeea747c7a45f9d4208a55de', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 42, 'created': '2019-09-07 13:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/783a416b152252c61b31a8c95d5b4875be0d7e82', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 43, 'created': '2019-09-08 00:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a54ff8cfbbe66a3bc52aad3a57b5924656cc8f6e', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 44, 'created': '2019-09-08 13:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02ed3d47c9837825ce3491093a2cf11790a8ae23', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 45, 'created': '2019-09-08 14:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f234b6e65cc50e6792c693c24502b2ea00b2da33', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 46, 'created': '2019-09-10 03:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f534f211b3bd07697ccf4f7aefd18e15e4b522e5', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 47, 'created': '2019-09-10 03:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65c6f955131fa9bead28c96502b96c5b8a0404d0', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 48, 'created': '2019-09-10 15:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9cd260e084a7c114747f598f99f48a50879c0e62', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 49, 'created': '2019-09-11 01:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13d112924a3b74b186185f02ef919d3acbe2fafd', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 50, 'created': '2019-09-11 11:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e1e5fd06920b0df8e15819f6c1a12276a70f447', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 51, 'created': '2019-09-11 16:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f3f7471c36ca68a9d421c1c89683d3bbfb6524a', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 52, 'created': '2019-09-11 17:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e65595b83ac039e72a436f630ce570293e6da3de', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}, {'number': 53, 'created': '2019-09-12 21:36:48.000000000', 'files': ['doc/source/common/numa-live-migration-warning.txt', 'releasenotes/notes/numa-aware-live-migration-4297653974458ee1.yaml', 'nova/conductor/tasks/live_migrate.py', 'nova/conf/workarounds.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/083bafc3533c9122347ae13ccbc4a453dfe5b2a9', 'message': ""Deprecate CONF.workarounds.enable_numa_live_migration\n\nOnce a deployment has been fully upgraded to Train, the\nCONF.workarounds.enable_numa_live_migration config option is no longer\nnecessary. This patch changes the conductor check to only apply if the\ncell's (cross-cell live migration isn't supported) minimum service\nversion is old.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: If649218db86a04db744990ec0139b4f0b1e79ad6\n""}]",117,640021,083bafc3533c9122347ae13ccbc4a453dfe5b2a9,447,22,53,8864,,,0,"Deprecate CONF.workarounds.enable_numa_live_migration

Once a deployment has been fully upgraded to Train, the
CONF.workarounds.enable_numa_live_migration config option is no longer
necessary. This patch changes the conductor check to only apply if the
cell's (cross-cell live migration isn't supported) minimum service
version is old.

Implements blueprint numa-aware-live-migration
Change-Id: If649218db86a04db744990ec0139b4f0b1e79ad6
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/640021/41 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/common/numa-live-migration-warning.txt', 'nova/objects/service.py', 'nova/conductor/tasks/live_migrate.py', 'nova/conf/workarounds.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py']",5,e9c5bdf6d3bbe8833add285f3d1f8cbfd5067e91,bp/numa-aware-live-migration," self.task._check_instance_has_no_numa(self.context) self.task._check_instance_has_no_numa(self.context) @mock.patch.object(objects.Service, 'get_minimum_version', return_value=38) def test_check_instance_has_no_numa_passes_workaround(self, mock_get, _): self.task._check_instance_has_no_numa(self.context) @mock.patch.object(objects.Service, 'get_minimum_version', return_value=38) def test_check_instance_has_no_numa_fails(self, mock_get, _): self.task._check_instance_has_no_numa, self.context) @mock.patch.object(objects.Service, 'get_minimum_version', return_value=39) @mock.patch.object(objects.ComputeNode, 'get_by_host_and_nodename') def test_check_instance_has_no_numa_new_svc_passes(self, mock_get, _): self.flags(enable_numa_live_migration=False, group='workarounds') mock_get.return_value = objects.ComputeNode( uuid=uuids.cn1, hypervisor_type='kvm') self.task.instance.numa_topology = objects.InstanceNUMATopology( cells=[objects.InstanceNUMACell(id=0, cpuset=set([0]), memory=1024)]) self.task._check_instance_has_no_numa(self.context)"," self.task._check_instance_has_no_numa() self.task._check_instance_has_no_numa() def test_check_instance_has_no_numa_passes_workaround(self, mock_get): self.task._check_instance_has_no_numa() def test_check_instance_has_no_numa_fails(self, mock_get): self.task._check_instance_has_no_numa)",61,35
openstack%2Fnova~master~Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127,openstack/nova,master,Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127,Parse vpmem related flavor extra spec,MERGED,2019-08-26 03:25:40.000000000,2019-09-17 05:03:34.000000000,2019-09-16 10:40:29.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23598}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 28743}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-26 03:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b48efab10249ca8eda07fdc81c957d1c4297a3c', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then thanslate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 2, 'created': '2019-08-26 06:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/230d61a3315dbfa2390919d5cf0ffee4bd575164', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then thanslate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 3, 'created': '2019-08-26 12:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3e3ddba3866f79edf7a40f89a702b30a5dcc828', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then thanslate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 4, 'created': '2019-08-27 09:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/032b07e90a0341a8a2bb6e930b80e4f3ab853279', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then thanslate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 5, 'created': '2019-08-28 05:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f85f19b3541994162d235a0ec36b080eef393a16', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then thanslate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 6, 'created': '2019-08-28 10:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bf3f6b41e4e31270c384d695a7a69cc6b8d501e', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then thanslate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 7, 'created': '2019-08-29 03:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d30a1bc140db3f79fdeee5904c4e7b5b4937c368', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then thanslate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 8, 'created': '2019-08-30 09:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14ecb9c9434c656db595a0ada3f25a5ad28abf9c', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then thanslate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 9, 'created': '2019-08-30 09:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d7c6f5ac09f16b5c85162faa76e6322e80ba96b4', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then thanslate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 10, 'created': '2019-08-30 10:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9847507d533b07313a33b4397744a4588194134f', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then thanslate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 11, 'created': '2019-09-02 07:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e08bbfc2534cf96e1d9eaa7023d27808887839dd', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then thanslate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 12, 'created': '2019-09-02 13:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44ad4cc4d01523596a5d5be313e97a7ed0f9b0ff', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 13, 'created': '2019-09-03 06:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac7e7c5a24e8e7f1fc086b01738af262a6fc950d', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 14, 'created': '2019-09-04 12:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ef074b40a81925a03bf2b7f417e4053bab5ed1f0', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 15, 'created': '2019-09-04 14:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14aaccd10282cbd2f627a03b7d18a6e6d992a16d', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 16, 'created': '2019-09-04 15:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cc530aaa60744ff5105156e0ad78e7bf7167eb1f', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 17, 'created': '2019-09-04 15:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b83d1f15b071dd89360470ce373220cffbd053b', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 18, 'created': '2019-09-05 10:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7bbdd9730f8fd93f941d365acb17355b172068eb', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 19, 'created': '2019-09-05 11:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d758a8d7edb85dd625f47b2e6a889ffac61f61ba', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 20, 'created': '2019-09-06 10:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/360e30351acf5457427ec12d711152352faf884a', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 21, 'created': '2019-09-06 10:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ffeae170fb2100a2732ded46e8724a66f75801fd', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 22, 'created': '2019-09-06 10:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/974da4d2ae15f1d8300cd7c9b0eda010e09ebd0b', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 23, 'created': '2019-09-09 05:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88a115a20b7b54e2ddad75a92bf70b5d20335445', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 24, 'created': '2019-09-10 06:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c26db76a4cb61b97d3ff1456ecc8fbc2626fcf2c', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 25, 'created': '2019-09-10 14:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71a70443e0cd52ecf22324e448d04985ea14feb6', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 26, 'created': '2019-09-10 14:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/679cf344d65d3a59553980947ea1fb1151ed1887', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 27, 'created': '2019-09-11 08:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2397e6d8f8bd3dead79100742d0adf0f384d904', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 28, 'created': '2019-09-11 08:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/181946ee38c5af8fd7b6577d977bbb04865b281c', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 29, 'created': '2019-09-11 11:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df55f957b65cda76ea1a1032080e35b5e55cc003', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 30, 'created': '2019-09-11 13:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a9b4ef605e851d98c5d250e88fd8220efa774cb', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 31, 'created': '2019-09-11 16:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e5e7941f6905c9eaf427fe4c959b9e9cd7b5b39', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\n\nIn the compute API layer, if the only vpmem is requested without\nexplicitly specifiy the instance NUMA topology, then one cell NUMA\ntopology will be added to instance.\n\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 32, 'created': '2019-09-11 16:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a31de3de4c5a7091529bbc1e3112baa3b8796f89', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\n\nIn the compute API layer, if the only vpmem is requested without\nexplicitly specifiy the instance NUMA topology, then one cell NUMA\ntopology will be added to instance.\n\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 33, 'created': '2019-09-11 18:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe343584415c445fda93b46d84b3b4b7b125b1ca', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\n\nIn the compute API layer, if the only vpmem is requested without\nexplicitly specifiy the instance NUMA topology, then one cell NUMA\ntopology will be added to instance.\n\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 34, 'created': '2019-09-12 03:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1fd55010874e93923d9e45526fb7ec586587c245', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\n\nIn the compute API layer, if the only vpmem is requested without\nexplicitly specifiy the instance NUMA topology, then one cell NUMA\ntopology will be added to instance.\n\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 35, 'created': '2019-09-12 06:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f216e8d6a3a9b68127014d9733a384151a1f38fc', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\n\nIn the compute API layer, if the only vpmem is requested without\nexplicitly specifiy the instance NUMA topology, then one cell NUMA\ntopology will be added to instance.\n\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 36, 'created': '2019-09-12 07:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/114e71d1f204f5df2b279b2320e98e3da22ffa58', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\n\nIn the compute API layer, if the only vpmem is requested without\nexplicitly specifiy the instance NUMA topology, then one cell NUMA\ntopology will be added to instance.\n\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 37, 'created': '2019-09-12 08:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3087944e2ed42d6d89beacaae39bd07d898c55e', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\n\nIn the compute API layer, if the only vpmem is requested without\nexplicitly specifiy the instance NUMA topology, then one cell NUMA\ntopology will be added to instance.\n\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 38, 'created': '2019-09-12 21:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de953b72f400ae27940b8d80ca539e46e9fd9384', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\n\nIn the compute API layer, if the only vpmem is requested without\nexplicitly specifiy the instance NUMA topology, then one cell NUMA\ntopology will be added to instance.\n\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 39, 'created': '2019-09-13 08:55:20.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py', 'nova/scheduler/utils.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/virt/hardware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ae59c331cc10c59ae4f08881bd5dad5537a5c1f6', 'message': 'Parse vpmem related flavor extra spec\n\nSupport parsing extra specs properties as below:\n   hw:pmem=4GB,SMALL\n\nIn the compute API layer, if the only vpmem is requested without\nexplicitly specifiy the instance NUMA topology, then one cell NUMA\ntopology will be added to instance.\n\nAnd then translate it to placement resource request.\n\nChange-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}]",43,678456,ae59c331cc10c59ae4f08881bd5dad5537a5c1f6,323,19,39,23598,,,0,"Parse vpmem related flavor extra spec

Support parsing extra specs properties as below:
   hw:pmem=4GB,SMALL

In the compute API layer, if the only vpmem is requested without
explicitly specifiy the instance NUMA topology, then one cell NUMA
topology will be added to instance.

And then translate it to placement resource request.

Change-Id: Ifeeb7710fb39befbd0d0693ca2b4c3aa79878127
Partially-Implements: blueprint virtual-persistent-memory
Co-Authored-By: He Jie Xu <hejie.xu@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/678456/32 && git format-patch -1 --stdout FETCH_HEAD,"['nova/exception.py', 'nova/tests/unit/scheduler/test_request_filter.py', 'nova/virt/hardware.py', 'nova/scheduler/request_filter.py']",4,4b48efab10249ca8eda07fdc81c957d1c4297a3c,bp/virtual-persistent-memory,"from nova.virt import hardware@trace_request_filter def require_vpmems(ctxt, request_spec): """"""When the hw:pmem extra spec, require hosts which can provide enough vpmem resources. """""" vpmem_list = hardware.get_vpmems(request_spec.flavor) if vpmem_list: amount_by_rc = {} for vpmem_label in vpmem_list: resource_class = ""CUSTOM_PMEM_NAMESPACE_%(label)s"" % \ {'label': vpmem_label} amount_by_rc.setdefault(resource_class, 0) amount_by_rc[resource_class] += 1 for resource_class, amount in amount_by_rc.items(): resource = 'resources:' + resource_class request_spec.flavor.extra_specs[resource] = amount LOG.debug(""require vpmem resources request filter added "" ""required resource CUSTOM_PMEM_NAMESPACE_xxx"") return True require_vpmems,",,48,1
openstack%2Ftripleo-common~stable%2Frocky~Ia3a55ec158b16485cd3ffa56d4931b73502a1058,openstack/tripleo-common,stable/rocky,Ia3a55ec158b16485cd3ffa56d4931b73502a1058,Derives NUMA aware vSwitches parameters,MERGED,2019-09-09 13:04:44.000000000,2019-09-17 04:56:06.000000000,2019-09-16 16:46:46.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 18575}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-09 13:04:44.000000000', 'files': ['tripleo_common/actions/derive_params.py', 'workbooks/derive_params.yaml', 'workbooks/derive_params_formulas.yaml', 'tripleo_common/tests/actions/test_derive_params.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/46ef49bcad9d8105731197acf16e8cd1e9ec454e', 'message': 'Derives NUMA aware vSwitches parameters\n\nDerives the NUMA aware vSwitches parameters NeutronPhysnetNUMANodesMapping\nand NeutronTunnelNUMANodes automatically using host introspection.\n\nChange-Id: Ia3a55ec158b16485cd3ffa56d4931b73502a1058\nCloses-Bug: #1797925\n(cherry picked from commit 675f15376f4ff99c16e59c005ac2ef157baf9431)\n'}]",4,680999,46ef49bcad9d8105731197acf16e8cd1e9ec454e,13,10,1,22865,,,0,"Derives NUMA aware vSwitches parameters

Derives the NUMA aware vSwitches parameters NeutronPhysnetNUMANodesMapping
and NeutronTunnelNUMANodes automatically using host introspection.

Change-Id: Ia3a55ec158b16485cd3ffa56d4931b73502a1058
Closes-Bug: #1797925
(cherry picked from commit 675f15376f4ff99c16e59c005ac2ef157baf9431)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/99/680999/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/derive_params.py', 'workbooks/derive_params.yaml', 'workbooks/derive_params_formulas.yaml', 'tripleo_common/tests/actions/test_derive_params.py']",4,46ef49bcad9d8105731197acf16e8cd1e9ec454e,bug/1797925-stable/rocky," ""type"": ""ovs_user_bridge"", ""addresses"": [{""ip_netmask"": """"}]}] expected_result = [{'bridge_name': 'br-link', 'name': 'ens802f1', 'mtu': 8192, 'numa_node': 1, 'addresses': [{'ip_netmask': ''}]}] ""type"": ""ovs_user_bridge"", ""addresses"": [{""ip_netmask"": ""172.16.10.0/24""}]}] expected_result = [{'bridge_name': 'br-link', 'mtu': 9000, 'numa_node': 1, 'name': 'ens802f0', 'addresses': [{'ip_netmask': '172.16.10.0/24'}]}, {'bridge_name': 'br-link', 'mtu': 9000, 'numa_node': 1, 'name': 'ens802f1', 'addresses': [{'ip_netmask': '172.16.10.0/24'}]}]"," ""type"": ""ovs_user_bridge""}] expected_result = [{'name': 'ens802f1', 'mtu': 8192, 'numa_node': 1}] ""type"": ""ovs_user_bridge""}] expected_result = [{'mtu': 9000, 'numa_node': 1, 'name': 'ens802f0'}, {'mtu': 9000, 'numa_node': 1, 'name': 'ens802f1'}]",73,7
openstack%2Ftripleo-common~stable%2Fstein~If3841210a5d5cf125058cc3e5cf4de2905fae42b,openstack/tripleo-common,stable/stein,If3841210a5d5cf125058cc3e5cf4de2905fae42b,OvS DPDK derive parameters timeout issue,MERGED,2019-09-04 14:50:46.000000000,2019-09-17 04:53:36.000000000,2019-09-06 14:38:58.000000000,"[{'_account_id': 9712}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 18575}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-04 14:50:46.000000000', 'files': ['workbooks/derive_params_formulas.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7efce38a7b754d0999a0a1580598a78d30289d99', 'message': 'OvS DPDK derive parameters timeout issue\n\nThis change is to fix the OvS DPDK derive parameters timeout\nissue. OvS DPDK parameters and NUMA aware vSwitch parameters are not\nderived and getting timeout issue.\n\nChange-Id: If3841210a5d5cf125058cc3e5cf4de2905fae42b\nCloses-Bug: #1842042\n(cherry picked from commit 135e65e02f9382dd0e1aaa131b694dd5f5c8d29a)\n'}]",0,680032,7efce38a7b754d0999a0a1580598a78d30289d99,14,8,1,22865,,,0,"OvS DPDK derive parameters timeout issue

This change is to fix the OvS DPDK derive parameters timeout
issue. OvS DPDK parameters and NUMA aware vSwitch parameters are not
derived and getting timeout issue.

Change-Id: If3841210a5d5cf125058cc3e5cf4de2905fae42b
Closes-Bug: #1842042
(cherry picked from commit 135e65e02f9382dd0e1aaa131b694dd5f5c8d29a)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/32/680032/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/derive_params_formulas.yaml'],1,7efce38a7b754d0999a0a1580598a78d30289d99,numa-aware-vswitch-parameters-issue-stable/stein, phy_nw_numa_nodes_mappings: <% let(br_numa_mappings => $.bridge_numa_nodes_mappings.items()) -> $.phy_nw_bridge_mappings.items().select(dict($[0]=>$br_numa_mappings.select($[1]))).sum() %>," phy_nw_numa_nodes_mappings: <% let(br_numa_mappings => bridge_numa_nodes_mappings) -> $.phy_nw_bridge_mappings.items().select(dict($[0]=>$br_numa_mappings.get($[1], []))).sum() %>",1,1
openstack%2Fwatcher~master~I7a51ddace86d512f2416dfd8af0bd3a31ca2d5c4,openstack/watcher,master,I7a51ddace86d512f2416dfd8af0bd3a31ca2d5c4,Add node resource consolidation planner,MERGED,2019-09-10 11:07:28.000000000,2019-09-17 04:45:57.000000000,2019-09-17 04:44:21.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-09-10 11:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/3f888af23ec72290ddc2355397bc91432944dc71', 'message': '[WiP]Add node resource consolidation planner\n\nPartially Implements: blueprint node-resource-consolidation\n\nChange-Id: I7a51ddace86d512f2416dfd8af0bd3a31ca2d5c4\n'}, {'number': 2, 'created': '2019-09-11 09:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/73baaaf96f7ba53b3b3bfb7e3a3575e3a96057de', 'message': '[WiP]Add node resource consolidation planner\n\nPartially Implements: blueprint node-resource-consolidation\n\nChange-Id: I7a51ddace86d512f2416dfd8af0bd3a31ca2d5c4\n'}, {'number': 3, 'created': '2019-09-12 02:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/088c9347a898f2d641f07083d6305e40499e1f2e', 'message': 'Add node resource consolidation planner\n\nUsed for node resource consolidation strategy\n\nPartially Implements: blueprint node-resource-consolidation\n\nChange-Id: I7a51ddace86d512f2416dfd8af0bd3a31ca2d5c4\n'}, {'number': 4, 'created': '2019-09-12 03:04:15.000000000', 'files': ['watcher/decision_engine/planner/node_resource_consolidation.py', 'setup.cfg', 'watcher/tests/decision_engine/planner/test_node_resource_consolidation.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/605d7f228f394e67cf38d0da4f1ec21b374ae3c3', 'message': 'Add node resource consolidation planner\n\nUsed for node resource consolidation strategy\n\nPartially Implements: blueprint node-resource-consolidation\n\nChange-Id: I7a51ddace86d512f2416dfd8af0bd3a31ca2d5c4\n'}]",0,681222,605d7f228f394e67cf38d0da4f1ec21b374ae3c3,15,3,4,21692,,,0,"Add node resource consolidation planner

Used for node resource consolidation strategy

Partially Implements: blueprint node-resource-consolidation

Change-Id: I7a51ddace86d512f2416dfd8af0bd3a31ca2d5c4
",git fetch https://review.opendev.org/openstack/watcher refs/changes/22/681222/4 && git format-patch -1 --stdout FETCH_HEAD,"['watcher/decision_engine/planner/node_resource_consolidation.py', 'watcher/tests/decision_engine/planner/test_node_resource_consolidation.py']",2,3f888af23ec72290ddc2355397bc91432944dc71,bp/node-resource-consolidation,"# -*- encoding: utf-8 -*- # Copyright (c) 2019 ZTE Corporation # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import mock from watcher.common import exception from watcher.common import nova_helper from watcher.common import utils from watcher.db import api as db_api from watcher.decision_engine.planner import workload_stabilization as pbase from watcher.decision_engine.solution import default as dsol from watcher.decision_engine.strategy import strategies from watcher import objects from watcher.tests.db import base from watcher.tests.db import utils as db_utils from watcher.tests.decision_engine.model import ceilometer_metrics as fake from watcher.tests.decision_engine.model import faker_cluster_state from watcher.tests.objects import utils as obj_utils class SolutionFaker(object): @staticmethod def build(): metrics = fake.FakerMetricsCollector() current_state_cluster = faker_cluster_state.FakerModelCollector() sercon = strategies.BasicConsolidation(config=mock.Mock()) sercon._compute_model = current_state_cluster.generate_scenario_1() sercon.ceilometer = mock.MagicMock( get_statistics=metrics.mock_get_statistics) return sercon.execute() class SolutionFakerSingleHyp(object): @staticmethod def build(): metrics = fake.FakerMetricsCollector() current_state_cluster = faker_cluster_state.FakerModelCollector() sercon = strategies.BasicConsolidation(config=mock.Mock()) sercon._compute_model = ( current_state_cluster.generate_scenario_3_with_2_nodes()) sercon.ceilometer = mock.MagicMock( get_statistics=metrics.mock_get_statistics) return sercon.execute() class TestActionScheduling(base.DbTestCase): def setUp(self): super(TestActionScheduling, self).setUp() self.goal = db_utils.create_test_goal(name=""dummy"") self.strategy = db_utils.create_test_strategy(name=""dummy"") self.audit = db_utils.create_test_audit( uuid=utils.generate_uuid(), strategy_id=self.strategy.id) self.planner = pbase.NodeResourceConsolidationPlanner(mock.Mock()) def test_schedule_actions(self): solution = dsol.DefaultSolution( goal=mock.Mock(), strategy=self.strategy) parameters = { ""source_node"": ""server1"", ""destination_node"": ""server2"", } solution.add_action(action_type=""migrate"", resource_id=""b199db0c-1408-4d52-b5a5-5ca14de0ff36"", input_parameters=parameters) with mock.patch.object( pbase.NodeResourceConsolidationPlanner, ""create_action"", wraps=self.planner.create_action ) as m_create_action: self.planner.config.weights = {'migrate': 3} action_plan = self.planner.schedule( self.context, self.audit.id, solution) self.assertIsNotNone(action_plan.uuid) self.assertEqual(1, m_create_action.call_count) filters = {'action_plan_id': action_plan.id} actions = objects.Action.dbapi.get_action_list(self.context, filters) self.assertEqual(""migrate"", actions[0].action_type) def test_schedule_two_actions(self): solution = dsol.DefaultSolution( goal=mock.Mock(), strategy=self.strategy) parameters = { ""source_node"": ""server1"", ""destination_node"": ""server2"", } solution.add_action(action_type=""migrate"", resource_id=""b199db0c-1408-4d52-b5a5-5ca14de0ff36"", input_parameters=parameters) solution.add_action(action_type=""nop"", input_parameters={""message"": ""Hello world""}) with mock.patch.object( pbase.NodeResourceConsolidationPlanner, ""create_action"", wraps=self.planner.create_action ) as m_create_action: self.planner.config.weights = {'migrate': 3, 'nop': 5} action_plan = self.planner.schedule( self.context, self.audit.id, solution) self.assertIsNotNone(action_plan.uuid) self.assertEqual(2, m_create_action.call_count) # check order filters = {'action_plan_id': action_plan.id} actions = objects.Action.dbapi.get_action_list(self.context, filters) self.assertEqual(""nop"", actions[0].action_type) self.assertEqual(""migrate"", actions[1].action_type) def test_schedule_actions_with_unknown_action(self): solution = dsol.DefaultSolution( goal=mock.Mock(), strategy=self.strategy) parameters = { ""src_uuid_node"": ""server1"", ""dst_uuid_node"": ""server2"", } solution.add_action(action_type=""migrate"", resource_id=""b199db0c-1408-4d52-b5a5-5ca14de0ff36"", input_parameters=parameters) solution.add_action(action_type=""new_action_type"", resource_id="""", input_parameters={}) with mock.patch.object( pbase.NodeResourceConsolidationPlanner, ""create_action"", wraps=self.planner.create_action ) as m_create_action: with mock.patch.object(nova_helper, 'NovaHelper') as m_nova: self.planner.config.weights = {'migrate': 0} self.assertRaises(KeyError, self.planner.schedule, self.context, self.audit.id, solution) assert not m_nova.called self.assertEqual(2, m_create_action.call_count) def test_schedule_actions_with_unsupported_action(self): solution = dsol.DefaultSolution( goal=mock.Mock(), strategy=self.strategy) parameters = { ""src_uuid_node"": ""server1"", ""dst_uuid_node"": ""server2"", } solution.add_action(action_type=""migrate"", resource_id=""b199db0c-1408-4d52-b5a5-5ca14de0ff36"", input_parameters=parameters) solution.add_action(action_type=""new_action_type"", resource_id="""", input_parameters={}) with mock.patch.object( pbase.NodeResourceConsolidationPlanner, ""create_action"", wraps=self.planner.create_action ) as m_create_action: with mock.patch.object(nova_helper, 'NovaHelper') as m_nova: self.planner.config.weights = { 'turn_host_to_acpi_s3_state': 0, 'resize': 1, 'migrate': 2, 'sleep': 3, 'change_nova_service_state': 4, 'nop': 5, 'new_action_type': 6} self.assertRaises(exception.UnsupportedActionType, self.planner.schedule, self.context, self.audit.id, solution) assert not m_nova.called self.assertEqual(2, m_create_action.call_count) @mock.patch.object(nova_helper.NovaHelper, 'get_instance_by_uuid') def test_schedule_migrate_resize_actions(self, mock_nova): mock_nova.return_value = 'server1' solution = dsol.DefaultSolution( goal=mock.Mock(), strategy=self.strategy) parameters = { ""source_node"": ""server1"", ""destination_node"": ""server2"", } solution.add_action(action_type=""migrate"", resource_id=""b199db0c-1408-4d52-b5a5-5ca14de0ff36"", input_parameters=parameters) solution.add_action(action_type=""resize"", resource_id=""b199db0c-1408-4d52-b5a5-5ca14de0ff36"", input_parameters={""flavor"": ""x1""}) with mock.patch.object( pbase.NodeResourceConsolidationPlanner, ""create_action"", wraps=self.planner.create_action ) as m_create_action: with mock.patch.object(nova_helper, 'NovaHelper') as m_nova: self.planner.config.weights = {'migrate': 3, 'resize': 2} action_plan = self.planner.schedule( self.context, self.audit.id, solution) self.assertEqual(1, m_nova.call_count) self.assertIsNotNone(action_plan.uuid) self.assertEqual(2, m_create_action.call_count) # check order filters = {'action_plan_id': action_plan.id} actions = objects.Action.dbapi.get_action_list(self.context, filters) self.assertEqual(""migrate"", actions[0].action_type) self.assertEqual(""resize"", actions[1].action_type) self.assertEqual(actions[0].uuid, actions[1].parents[0]) def test_schedule_migrate_resize_acpi_s3_actions(self): solution = dsol.DefaultSolution( goal=mock.Mock(), strategy=self.strategy) parameters = { ""source_node"": ""server1"", ""destination_node"": ""server2"", } parent_migration = ""b199db0c-1408-4d52-b5a5-5ca14de0ff36"" solution.add_action(action_type=""migrate"", resource_id=""b199db0c-1408-4d52-b5a5-5ca14de0ff36"", input_parameters=parameters) solution.add_action(action_type=""resize"", resource_id=""b199db0c-1408-4d52-b5a5-5ca14de0ff36"", input_parameters={'flavor': 'x1'}) solution.add_action(action_type=""migrate"", resource_id=""f6416850-da28-4047-a547-8c49f53e95fe"", input_parameters={""source_node"": ""server1"", ""destination_node"": ""server2""}) solution.add_action(action_type=""migrate"", resource_id=""bb404e74-2caf-447b-bd1e-9234db386ca5"", input_parameters={""source_node"": ""server2"", ""destination_node"": ""server3""}) solution.add_action(action_type=""turn_host_to_acpi_s3_state"", resource_id=""server1"", input_parameters={}) with mock.patch.object( pbase.NodeResourceConsolidationPlanner, ""create_action"", wraps=self.planner.create_action ) as m_create_action: with mock.patch.object( nova_helper, 'NovaHelper') as m_nova: m_nova().get_hostname.return_value = 'server1' m_nova().get_instance_by_uuid.return_value = ['uuid1'] self.planner.config.weights = { 'turn_host_to_acpi_s3_state': 0, 'resize': 1, 'migrate': 2, 'sleep': 3, 'change_nova_service_state': 4, 'nop': 5} action_plan = self.planner.schedule( self.context, self.audit.id, solution) self.assertEqual(3, m_nova.call_count) self.assertIsNotNone(action_plan.uuid) self.assertEqual(5, m_create_action.call_count) # check order filters = {'action_plan_id': action_plan.id} actions = objects.Action.dbapi.get_action_list(self.context, filters) self.assertEqual(""migrate"", actions[0].action_type) self.assertEqual(""migrate"", actions[1].action_type) self.assertEqual(""migrate"", actions[2].action_type) self.assertEqual(""resize"", actions[3].action_type) self.assertEqual(""turn_host_to_acpi_s3_state"", actions[4].action_type) for action in actions: if action.input_parameters['resource_id'] == parent_migration: parent_migration = action break self.assertEqual(parent_migration.uuid, actions[3].parents[0]) class TestDefaultPlanner(base.DbTestCase): def setUp(self): super(TestDefaultPlanner, self).setUp() self.planner = pbase.NodeResourceConsolidationPlanner(mock.Mock()) self.planner.config.weights = { 'nop': 0, 'sleep': 1, 'change_nova_service_state': 2, 'migrate': 3 } self.goal = obj_utils.create_test_goal(self.context) self.strategy = obj_utils.create_test_strategy( self.context, goal_id=self.goal.id) obj_utils.create_test_audit_template( self.context, goal_id=self.goal.id, strategy_id=self.strategy.id) p = mock.patch.object(db_api.BaseConnection, 'create_action_plan') self.mock_create_action_plan = p.start() self.mock_create_action_plan.side_effect = ( self._simulate_action_plan_create) self.addCleanup(p.stop) q = mock.patch.object(db_api.BaseConnection, 'create_action') self.mock_create_action = q.start() self.mock_create_action.side_effect = ( self._simulate_action_create) self.addCleanup(q.stop) def _simulate_action_plan_create(self, action_plan): action_plan.create() return action_plan def _simulate_action_create(self, action): action.create() return action @mock.patch.object(objects.Strategy, 'get_by_name') def test_scheduler_warning_empty_action_plan(self, m_get_by_name): m_get_by_name.return_value = self.strategy audit = db_utils.create_test_audit( goal_id=self.goal.id, strategy_id=self.strategy.id) fake_solution = mock.MagicMock(efficacy_indicators=[], actions=[]) action_plan = self.planner.schedule( self.context, audit.id, fake_solution) self.assertIsNotNone(action_plan.uuid) class TestActionValidator(base.DbTestCase): INSTANCE_UUID = ""94ae2f92-b7fd-4da7-9e97-f13504ae98c4"" def setUp(self): super(TestActionValidator, self).setUp() self.r_osc_cls = mock.Mock() self.r_helper_cls = mock.Mock() self.r_helper = mock.Mock(spec=nova_helper.NovaHelper) self.r_helper_cls.return_value = self.r_helper r_nova_helper = mock.patch.object( nova_helper, ""NovaHelper"", self.r_helper_cls) r_nova_helper.start() self.addCleanup(r_nova_helper.stop) def test_resize_validate_parents(self): resize_object = pbase.ResizeActionValidator() action = {'uuid': 'fcec56cd-74c1-406b-a7c1-81ef9f0c1393', 'input_parameters': {'resource_id': self.INSTANCE_UUID}} resource_action_map = {self.INSTANCE_UUID: [ ('action_uuid', 'migrate')]} self.r_helper.get_hostname.return_value = 'server1' self.r_helper.get_instance_by_uuid.return_value = ['instance'] result = resize_object.validate_parents(resource_action_map, action) self.assertEqual('action_uuid', result[0]) def test_migrate_validate_parents(self): migrate_object = pbase.MigrationActionValidator() action = {'uuid': '712f1701-4c1b-4076-bfcf-3f23cfec6c3b', 'input_parameters': {'source_node': 'server1', 'resource_id': self.INSTANCE_UUID}} resource_action_map = {} expected_map = { '94ae2f92-b7fd-4da7-9e97-f13504ae98c4': [ ('712f1701-4c1b-4076-bfcf-3f23cfec6c3b', 'migrate')], 'server1': [ ('712f1701-4c1b-4076-bfcf-3f23cfec6c3b', 'migrate')]} migrate_object.validate_parents(resource_action_map, action) self.assertEqual(resource_action_map, expected_map) ",,643,0
openstack%2Fglance~master~I13133c32734751d43cc3afed9b68d015cebd5b6b,openstack/glance,master,I13133c32734751d43cc3afed9b68d015cebd5b6b,Images API version bump and config sync,MERGED,2019-09-12 15:35:07.000000000,2019-09-17 04:38:06.000000000,2019-09-17 04:36:25.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-12 15:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/121019d771187da8213bbbb933476b0c0c3150fd', 'message': 'Images API version bump and config sync\n\nThis change contains minor version bump to Images API to\nindicate latest changes to the API.\n\nAlso has config file sync for for M3 release.\n\nThese two are combined for saving some gating time due to\nbusy infra at Train milestone 3 deadline.\n\nChange-Id: I13133c32734751d43cc3afed9b68d015cebd5b6b\n'}, {'number': 2, 'created': '2019-09-13 03:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/44d851f027b8f84ae796b982f01c4a18c4386179', 'message': 'Images API version bump and config sync\n\nThis change contains minor version bump to Images API to\nindicate latest changes to the API.\n\nAlso has config file sync for for M3 release.\n\nThese two are combined for saving some gating time due to\nbusy infra at Train milestone 3 deadline.\n\nChange-Id: I13133c32734751d43cc3afed9b68d015cebd5b6b\n'}, {'number': 3, 'created': '2019-09-13 12:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/666228df28023170269fe1adf1621f7aa08760f5', 'message': 'Images API version bump and config sync\n\nThis change contains minor version bump to Images API to\nindicate latest changes to the API.\n\nAlso has config file sync for for M3 release.\n\nThese two are combined for saving some gating time due to\nbusy infra at Train milestone 3 deadline.\n\nChange-Id: I13133c32734751d43cc3afed9b68d015cebd5b6b\n'}, {'number': 4, 'created': '2019-09-16 12:26:00.000000000', 'files': ['glance/tests/unit/test_versions.py', 'glance/tests/functional/test_api.py', 'glance/api/middleware/version_negotiation.py', 'etc/glance-api.conf', 'etc/glance-manage.conf', 'glance/api/versions.py', 'etc/glance-scrubber.conf', 'api-ref/source/versions/samples/image-versions-response.json', 'etc/glance-registry.conf', 'etc/glance-cache.conf'], 'web_link': 'https://opendev.org/openstack/glance/commit/d9546dce754c68084944ec01aaabd33790f8990a', 'message': 'Images API version bump and config sync\n\nThis change contains minor version bump to Images API to\nindicate latest changes to the API.\n\nAlso has config file sync for for M3 release.\n\nThese two are combined for saving some gating time due to\nbusy infra at Train milestone 3 deadline.\n\nChange-Id: I13133c32734751d43cc3afed9b68d015cebd5b6b\n'}]",4,681784,d9546dce754c68084944ec01aaabd33790f8990a,26,5,4,5202,,,0,"Images API version bump and config sync

This change contains minor version bump to Images API to
indicate latest changes to the API.

Also has config file sync for for M3 release.

These two are combined for saving some gating time due to
busy infra at Train milestone 3 deadline.

Change-Id: I13133c32734751d43cc3afed9b68d015cebd5b6b
",git fetch https://review.opendev.org/openstack/glance refs/changes/84/681784/4 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_versions.py', 'glance/api/middleware/version_negotiation.py', 'etc/glance-api.conf', 'etc/glance-manage.conf', 'glance/api/versions.py', 'etc/glance-scrubber.conf', 'api-ref/source/versions/samples/image-versions-response.json', 'etc/glance-registry.conf', 'etc/glance-cache.conf']",9,121019d771187da8213bbbb933476b0c0c3150fd,api29-n-configs,"## This option is scheduled for removal in the U development# This option is scheduled for removal in the U development# This configuration option specifies the path to the Ceph configuration# or is set to the empty string, librados will read the standard ceph.conf # file by searching the default Ceph configuration file locations in # sequential order. See the Ceph documentation for details. # # NOTE: If using Cephx authentication, this file should include a reference # to the right keyring in a client.<USER> section # # NOTE 2: If you leave this option empty (the default), the actual Ceph # configuration file used may change depending on what version of librados # is being used. If it is important for you to know exactly which configuration # file is in effect, you may specify that file here using this option.#rbd_store_ceph_conf =# DEPRECATED:# This option is deprecated for removal since Train. # Its value may be silently ignored in the future. # Reason: # The Sheepdog project is no longer actively maintained. The # Sheepdog driver is scheduled for removal in the 'U' development # cycle.# DEPRECATED:# This option is deprecated for removal since Train. # Its value may be silently ignored in the future. # Reason: # The Sheepdog project is no longer actively maintained. The # Sheepdog driver is scheduled for removal in the 'U' development # cycle.# DEPRECATED:# This option is deprecated for removal since Train. # Its value may be silently ignored in the future. # Reason: # The Sheepdog project is no longer actively maintained. The # Sheepdog driver is scheduled for removal in the 'U' development # cycle.# The relative or absolute path of a file that maps roles to permissions for a # given service. Relative paths must be specified in relation to the # configuration file setting this option. (string value)","# ""# This option is scheduled for removal in the Train development# This option is scheduled for removal in the Train development# DEPRECATED: # Minimum interval in seconds to execute updating dynamic storage # capabilities based on current backend status. # # Provide an integer value representing time in seconds to set the # minimum interval before an update of dynamic storage capabilities # for a storage backend can be attempted. Setting # ``store_capabilities_update_min_interval`` does not mean updates # occur periodically based on the set interval. Rather, the update # is performed at the elapse of this interval set, if an operation # of the store is triggered. # # By default, this option is set to zero and is disabled. Provide an # integer value greater than zero to enable this option. # # NOTE 1: For more information on store capabilities and their updates, # please visit: https://specs.openstack.org/openstack/glance- # specs/specs/kilo/store-capabilities.html # # For more information on setting up a particular store in your # deployment and help with the usage of this feature, please contact # the storage driver maintainers listed here: # https://docs.openstack.org/glance_store/latest/user/drivers.html # # NOTE 2: The dynamic store update capability described above is not # implemented by any current store drivers. Thus, this option DOES # NOT DO ANYTHING (and it never has). It is DEPRECATED and scheduled # for removal early in the Stein development cycle. # # Possible values: # * Zero # * Positive integer # # Related Options: # * None # # (integer value) # Minimum value: 0 # This option is deprecated for removal since Rocky. # Its value may be silently ignored in the future. # Reason: # This option configures a stub method that has not been implemented # for any existing store drivers. Hence it is non-operational, and # giving it a value does absolutely nothing. # # This option is scheduled for removal early in the Stein development # cycle. #store_capabilities_update_min_interval = 0 # This configuration option takes in the path to the Ceph configuration# or is set to None, librados will locate the default configuration file # which is located at /etc/ceph/ceph.conf. If using Cephx # authentication, this file should include a reference to the right # keyring in a client.<USER> section#rbd_store_ceph_conf = /etc/ceph/ceph.conf#### The file that defines policies. (string value)",260,339
openstack%2Ftripleo-puppet-elements~master~Ib8ddf81602a52a672cf1197fbaf8c6f41dc5cc0d,openstack/tripleo-puppet-elements,master,Ib8ddf81602a52a672cf1197fbaf8c6f41dc5cc0d,Add proper permissions on script,MERGED,2019-09-13 12:19:10.000000000,2019-09-17 04:32:49.000000000,2019-09-16 18:46:46.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-13 12:19:10.000000000', 'files': ['elements/overcloud-controller/post-install.d/51-disable-libvirtd-service'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/32c74e4a66831ea622b081e3e41c74299441e822', 'message': 'Add proper permissions on script\n\nChange Iaabaf571f6ec3c08db16a309a845d3bd4c150e1a added\nscript to stop and disable libvirtd on controller nodes.\nThis change adds proper permisions (755) on script to make\nit executable.\n\nChange-Id: Ib8ddf81602a52a672cf1197fbaf8c6f41dc5cc0d\n'}]",0,682036,32c74e4a66831ea622b081e3e41c74299441e822,12,8,1,20733,,,0,"Add proper permissions on script

Change Iaabaf571f6ec3c08db16a309a845d3bd4c150e1a added
script to stop and disable libvirtd on controller nodes.
This change adds proper permisions (755) on script to make
it executable.

Change-Id: Ib8ddf81602a52a672cf1197fbaf8c6f41dc5cc0d
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/36/682036/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-controller/post-install.d/51-disable-libvirtd-service'],1,32c74e4a66831ea622b081e3e41c74299441e822,disable_libvirt,,,0,0
openstack%2Fneutron~stable%2Fstein~I97a1d170926bb8a69dc6f7bb78a785bdea80936a,openstack/neutron,stable/stein,I97a1d170926bb8a69dc6f7bb78a785bdea80936a,Increase timeouts for OVSDB in functional tests,MERGED,2019-09-13 10:57:02.000000000,2019-09-17 03:52:24.000000000,2019-09-17 03:50:47.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-13 10:57:02.000000000', 'files': ['neutron/tests/unit/tests/functional/test_base.py', 'neutron/tests/functional/base.py', 'neutron/tests/unit/tests/functional/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5da06d7f4270bc79d4ebfe76e591c649c3268615', 'message': 'Increase timeouts for OVSDB in functional tests\n\nIncreased timeouts for OVSDB connection:\n  - ovsdb_timeout = 30\n\nThis patch will mitigate the intermittent timeouts the CI is\nexperiencing while running the functional tests.\n\nChange-Id: I97a1d170926bb8a69dc6f7bb78a785bdea80936a\nCloses-Bug: #1815142\n(cherry picked from commit 30e901242f71f783fe06f775b20afa01da41d72f)\n'}]",0,682021,5da06d7f4270bc79d4ebfe76e591c649c3268615,16,6,1,11975,,,0,"Increase timeouts for OVSDB in functional tests

Increased timeouts for OVSDB connection:
  - ovsdb_timeout = 30

This patch will mitigate the intermittent timeouts the CI is
experiencing while running the functional tests.

Change-Id: I97a1d170926bb8a69dc6f7bb78a785bdea80936a
Closes-Bug: #1815142
(cherry picked from commit 30e901242f71f783fe06f775b20afa01da41d72f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/682021/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/tests/functional/test_base.py', 'neutron/tests/functional/base.py', 'neutron/tests/unit/tests/functional/__init__.py']",3,5da06d7f4270bc79d4ebfe76e591c649c3268615,bug/1815142-stable/stein,,,80,0
openstack%2Fpython-octaviaclient~master~If7ea05ca56fb29371a550c346191d4b9f4daad8e,openstack/python-octaviaclient,master,If7ea05ca56fb29371a550c346191d4b9f4daad8e,Update master for stable/train,MERGED,2019-09-13 21:49:22.000000000,2019-09-17 03:05:41.000000000,2019-09-17 03:04:37.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28743}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-13 21:49:22.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/97604613f55e3c76a3625f7b34dbf1a8088c1999', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: If7ea05ca56fb29371a550c346191d4b9f4daad8e\nSem-Ver: feature\n'}]",0,682171,97604613f55e3c76a3625f7b34dbf1a8088c1999,13,6,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: If7ea05ca56fb29371a550c346191d4b9f4daad8e
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/71/682171/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,97604613f55e3c76a3625f7b34dbf1a8088c1999,reno-train, train,,7,0
openstack%2Fmagnum~master~I080f9cde21f85e4f49b5963c99a26e58c7d559ad,openstack/magnum,master,I080f9cde21f85e4f49b5963c99a26e58c7d559ad,Test k8s CI,ABANDONED,2019-08-20 23:19:43.000000000,2019-09-17 02:52:19.000000000,,"[{'_account_id': 6484}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-20 23:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7422255e7135c1140287c2991abe80e4b95bb3b5', 'message': 'Test k8s CI\n\nChange-Id: I080f9cde21f85e4f49b5963c99a26e58c7d559ad\n'}, {'number': 2, 'created': '2019-08-21 00:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/34425bbffc87293e5aec3d7d6880740617513cf6', 'message': 'Test k8s CI\n\nChange-Id: I080f9cde21f85e4f49b5963c99a26e58c7d559ad\n'}, {'number': 3, 'created': '2019-08-21 02:34:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/5a9e9887a686be180fe8f5afd1f84e8c6369d589', 'message': 'Test k8s CI\n\nChange-Id: I080f9cde21f85e4f49b5963c99a26e58c7d559ad\n'}, {'number': 4, 'created': '2019-08-21 03:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/fc250edb4dab07fbaa4b148332976517e62f74d0', 'message': 'Test k8s CI\n\nChange-Id: I080f9cde21f85e4f49b5963c99a26e58c7d559ad\n'}, {'number': 5, 'created': '2019-08-21 03:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/1abb0f1751a44980be9d32a821382a0cc5b4600b', 'message': 'Test k8s CI\n\nChange-Id: I080f9cde21f85e4f49b5963c99a26e58c7d559ad\n'}, {'number': 6, 'created': '2019-08-21 21:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/f223d4558f55a935834fd9deb9a23e22a3edfc1c', 'message': 'Test k8s CI\n\nChange-Id: I080f9cde21f85e4f49b5963c99a26e58c7d559ad\n'}, {'number': 7, 'created': '2019-09-11 02:04:30.000000000', 'files': ['test-requirements.txt', 'magnum/tests/functional/python_client_base.py', '.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/magnum/commit/07267faba4bc20fbbd731f060e84ccc1a132fd61', 'message': 'Test k8s CI\n\nChange-Id: I080f9cde21f85e4f49b5963c99a26e58c7d559ad\n'}]",0,677581,07267faba4bc20fbbd731f060e84ccc1a132fd61,18,3,7,6484,,,0,"Test k8s CI

Change-Id: I080f9cde21f85e4f49b5963c99a26e58c7d559ad
",git fetch https://review.opendev.org/openstack/magnum refs/changes/81/677581/7 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,7422255e7135c1140287c2991abe80e4b95bb3b5,test-k8s-ci,basepython = python3,,2,0
openstack%2Fheat~master~I6270d04850878bb5e44a4376a0648e8e9b2cedee,openstack/heat,master,I6270d04850878bb5e44a4376a0648e8e9b2cedee,[WIP] Support CoreOS ignition,ABANDONED,2019-09-03 23:58:35.000000000,2019-09-17 02:52:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-03 23:58:35.000000000', 'files': ['heat/engine/resources/openstack/heat/multi_part.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/697c3639651aa389aba773c9d7db8677d5961cbb', 'message': '[WIP] Support CoreOS ignition\n\nChange-Id: I6270d04850878bb5e44a4376a0648e8e9b2cedee\n'}]",0,679882,697c3639651aa389aba773c9d7db8677d5961cbb,3,1,1,6484,,,0,"[WIP] Support CoreOS ignition

Change-Id: I6270d04850878bb5e44a4376a0648e8e9b2cedee
",git fetch https://review.opendev.org/openstack/heat refs/changes/82/679882/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/heat/multi_part.py'],1,697c3639651aa389aba773c9d7db8677d5961cbb,support-ignition," TEXT, MULTIPART, APPLICATION 'text', 'multipart', 'application'"," TEXT, MULTIPART 'text', 'multipart'",2,2
openstack%2Fcyborg~master~Id7fa5cb28fc2e3b6a11a5863accf981309f18af6,openstack/cyborg,master,Id7fa5cb28fc2e3b6a11a5863accf981309f18af6,Make ResourceNotFound as NotFound exception,MERGED,2019-09-11 03:20:26.000000000,2019-09-17 02:51:41.000000000,2019-09-17 02:50:29.000000000,"[{'_account_id': 17499}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28748}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-11 03:20:26.000000000', 'files': ['cyborg/common/exception.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/369aa5e209abaabdfe0e047b6b592f51f2b1d8b5', 'message': 'Make ResourceNotFound as NotFound exception\n\nChange-Id: Id7fa5cb28fc2e3b6a11a5863accf981309f18af6\n'}]",0,681369,369aa5e209abaabdfe0e047b6b592f51f2b1d8b5,12,6,1,14107,,,0,"Make ResourceNotFound as NotFound exception

Change-Id: Id7fa5cb28fc2e3b6a11a5863accf981309f18af6
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/69/681369/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/common/exception.py'],1,369aa5e209abaabdfe0e047b6b592f51f2b1d8b5,,class ResourceNotFound(NotFound):,class ResourceNotFound(Invalid):,1,1
openstack%2Fcyborg~master~I59c6937759172a09a4bd5a2429b4575de59a6d9c,openstack/cyborg,master,I59c6937759172a09a4bd5a2429b4575de59a6d9c,Update README.rst for cyborg,MERGED,2019-09-02 13:00:49.000000000,2019-09-17 02:14:45.000000000,2019-09-17 02:13:18.000000000,"[{'_account_id': 14107}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 22899}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-09-02 13:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/8b12d553c96b7a5e5925481f93e3707819c19672', 'message': 'Update README.rst for cyborg\n\nAdd WiKi,Documentation,Release notes,Design specifications Links\n\nChange-Id: I59c6937759172a09a4bd5a2429b4575de59a6d9c\n'}, {'number': 2, 'created': '2019-09-03 03:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c282e4f7d44f275c50e9ca6bd22fdfbe37b589be', 'message': 'Update README.rst for cyborg\n\nAdd WiKi,Documentation,Release notes,Design specifications Links\n\nChange-Id: I59c6937759172a09a4bd5a2429b4575de59a6d9c\n'}, {'number': 3, 'created': '2019-09-03 06:07:38.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/bf0e484faa2af53ed678e76b9de5a14c4dad0ed5', 'message': 'Update README.rst for cyborg\n\nAdd WiKi,Documentation,Release notes,Design specifications Links\n\nChange-Id: I59c6937759172a09a4bd5a2429b4575de59a6d9c\n'}]",8,679641,bf0e484faa2af53ed678e76b9de5a14c4dad0ed5,21,7,3,28748,,,0,"Update README.rst for cyborg

Add WiKi,Documentation,Release notes,Design specifications Links

Change-Id: I59c6937759172a09a4bd5a2429b4575de59a6d9c
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/41/679641/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,8b12d553c96b7a5e5925481f93e3707819c19672,update_readme,* Wiki: https://wiki.openstack.org/wiki/Cyborg* Documentation: https://docs.openstack.org/cyborg/latest/ * Release notes: https://docs.openstack.org/releasenotes/cyborg/ * Design specifications: https://specs.openstack.org/openstack/cyborg-specs/,,4,0
openstack%2Fnova~master~I8a2bd6d9a92beb75a11e0b460aa2ad0633e49015,openstack/nova,master,I8a2bd6d9a92beb75a11e0b460aa2ad0633e49015,Fix bug directory left after cold migration,ABANDONED,2019-09-12 07:05:50.000000000,2019-09-17 01:58:57.000000000,,"[{'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27614}, {'_account_id': 29963}, {'_account_id': 29979}]","[{'number': 1, 'created': '2019-09-12 07:05:50.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8e5f962d367b02fac8c83b9754ca7a9f0ad07d25', 'message': 'Fix bug directory left after cold migration\n\nAfter cold migration, there is a directory left every time.\nRemove this shared_storage judge to avoid this directory\nleft.\n\nCloses-Bug: 1824858\nChange-Id: I8a2bd6d9a92beb75a11e0b460aa2ad0633e49015\n'}]",0,681652,8e5f962d367b02fac8c83b9754ca7a9f0ad07d25,14,14,1,29979,,,0,"Fix bug directory left after cold migration

After cold migration, there is a directory left every time.
Remove this shared_storage judge to avoid this directory
left.

Closes-Bug: 1824858
Change-Id: I8a2bd6d9a92beb75a11e0b460aa2ad0633e49015
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/681652/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,8e5f962d367b02fac8c83b9754ca7a9f0ad07d25,bug/1824858,, if CONF.libvirt.images_type == 'rbd': return True,0,2
openstack%2Fnova~master~I41014002d8875932e572ec39e56c17a310f36b48,openstack/nova,master,I41014002d8875932e572ec39e56c17a310f36b48,nova shared storage: rbd is always shared storage,MERGED,2016-06-08 23:49:14.000000000,2019-09-17 01:56:56.000000000,2016-06-16 12:16:50.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1779}, {'_account_id': 5170}, {'_account_id': 9008}, {'_account_id': 9578}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14473}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 19153}]","[{'number': 1, 'created': '2016-06-08 23:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54697946be1244d543e1c8a1a505f3d0f752de1a', 'message': ""nova shared storage: rbd is always shared storage\n\nIf libvirt image_type is set to 'rbd', then there is no need to go\nthrough the steps of writing files and such.\n\nChange-Id: I41014002d8875932e572ec39e56c17a310f36b48\n""}, {'number': 2, 'created': '2016-06-09 14:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f35f39758747868c4ac8d957dac6561543982716', 'message': ""nova shared storage: rbd is always shared storage\n\nIf libvirt image_type is set to 'rbd', then there is no need to go\nthrough the steps of writing files and such.\n\nChange-Id: I41014002d8875932e572ec39e56c17a310f36b48\n""}, {'number': 3, 'created': '2016-06-13 14:31:27.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/05b7f63a42e3512da6fe45d2e6639fb47ed8102b', 'message': ""nova shared storage: rbd is always shared storage\n\nIf libvirt image_type is set to 'rbd', then there is no need to go\nthrough the steps of writing files and such.\n\nChange-Id: I41014002d8875932e572ec39e56c17a310f36b48\n""}]",1,327419,05b7f63a42e3512da6fe45d2e6639fb47ed8102b,41,16,3,14473,,,0,"nova shared storage: rbd is always shared storage

If libvirt image_type is set to 'rbd', then there is no need to go
through the steps of writing files and such.

Change-Id: I41014002d8875932e572ec39e56c17a310f36b48
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/327419/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,54697946be1244d543e1c8a1a505f3d0f752de1a,," # NOTE (drwahl): Actually, there is a 3rd way: if images_type is rbd, # it will always be shared storage if CONF.libvirt.images_type == 'rbd': return True",,4,0
openstack%2Fnova~master~I9e0b7d50cd4d39ad492610cccfe5fd82ebf309aa,openstack/nova,master,I9e0b7d50cd4d39ad492610cccfe5fd82ebf309aa,doc: mark the max microversion for train,MERGED,2019-09-13 07:49:44.000000000,2019-09-17 01:45:51.000000000,2019-09-17 01:42:08.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-09-13 07:49:44.000000000', 'files': ['nova/api/openstack/compute/rest_api_version_history.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/2de07c4c56d98c2a8af3d6edc4e099d28b7feba0', 'message': 'doc: mark the max microversion for train\n\nJust follows the pattern that we do every release.\n\nChange-Id: I9e0b7d50cd4d39ad492610cccfe5fd82ebf309aa\n'}]",1,681982,2de07c4c56d98c2a8af3d6edc4e099d28b7feba0,14,9,1,7634,,,0,"doc: mark the max microversion for train

Just follows the pattern that we do every release.

Change-Id: I9e0b7d50cd4d39ad492610cccfe5fd82ebf309aa
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/681982/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/rest_api_version_history.rst'],1,2de07c4c56d98c2a8af3d6edc4e099d28b7feba0,train-max-microversion,.. Keep a reference for python-novaclient releasenotes .. _id71: 2.79 (Maximum in Train) -----------------------,2.79 ----,5,2
openstack%2Ftripleo-common~master~Id63afbbfb85caf574237586e24dcd1dd77a40f28,openstack/tripleo-common,master,Id63afbbfb85caf574237586e24dcd1dd77a40f28,Breakdown kolla template overrides,ABANDONED,2019-07-10 13:36:33.000000000,2019-09-17 01:36:02.000000000,,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-10 13:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/969bcacac50dffa3931897afdc02eb1ee70527c1', 'message': 'Breakdown kolla template overrides\n\n- Breakdown to have: footers, disabled blocks, packages separated in\n  their own templates.\n- Include a template for OSP, where downstream we do what we need.\n\nWork in progress, I want to:\n- check if we can merge blocks when possible\n- test it downstream and see if it actually helps\n\nChange-Id: Id63afbbfb85caf574237586e24dcd1dd77a40f28\n'}, {'number': 2, 'created': '2019-07-15 12:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/55a350e428d45a2a83b2f15c8b329ff12d45a10d', 'message': 'Breakdown kolla template overrides\n\n- Breakdown to have: footers, disabled blocks, packages separated in\n  their own templates.\n- Include a template for OSP, where downstream we do what we need.\n\nWork in progress, I want to:\n- check if we can merge blocks when possible\n- test it downstream and see if it actually helps\n\nChange-Id: Id63afbbfb85caf574237586e24dcd1dd77a40f28\n'}, {'number': 3, 'created': '2019-07-15 19:36:42.000000000', 'files': ['container-images/tripleo_kolla_template_disabled.j2', 'container-images/tripleo_kolla_template_overrides.j2', 'container-images/tripleo_kolla_template_packages.j2', 'container-images/tripleo_kolla_template_footers.j2', 'container-images/osp_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/89af8280a0fcda9246f299ac354eac977e47323e', 'message': 'Breakdown kolla template overrides\n\n- Breakdown to have: footers, disabled blocks, packages separated in\n  their own templates.\n- Include a template for OSP, where downstream we do what we need.\n\nWork in progress, I want to:\n- check if we can merge blocks when possible\n- test it downstream and see if it actually helps\n\nChange-Id: Id63afbbfb85caf574237586e24dcd1dd77a40f28\n'}]",1,670061,89af8280a0fcda9246f299ac354eac977e47323e,15,4,3,7353,,,0,"Breakdown kolla template overrides

- Breakdown to have: footers, disabled blocks, packages separated in
  their own templates.
- Include a template for OSP, where downstream we do what we need.

Work in progress, I want to:
- check if we can merge blocks when possible
- test it downstream and see if it actually helps

Change-Id: Id63afbbfb85caf574237586e24dcd1dd77a40f28
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/61/670061/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tripleo_kolla_template_disabled.j2', 'container-images/tripleo_kolla_template_overrides.j2', 'container-images/tripleo_kolla_template_packages.j2', 'container-images/tripleo_kolla_template_footers.j2', 'container-images/osp_kolla_template_overrides.j2']",5,969bcacac50dffa3931897afdc02eb1ee70527c1,,# OSP specifics ,,681,747
openstack%2Fmolteniron~master~I9ded6ca53e1622b4976056048c415dfd6a3cb5f0,openstack/molteniron,master,I9ded6ca53e1622b4976056048c415dfd6a3cb5f0,Build pdf doc,ABANDONED,2019-09-06 01:30:26.000000000,2019-09-17 00:40:38.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-09-06 01:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/molteniron/commit/542b645553fc707496f9e458d26e03ed724e38af', 'message': 'Build pdf doc\n\nThe is one of community goals that each project could produce a\nsingle PDF file. The pdf should be in the output of openstack-tox-docs\njob.\n\nTeX packages are required to build PDF locally, following is recommended:\n\n* inkscape\n* texlive-latex-base\n* texlive-latex-extra\n* texlive-fonts-recommended\n\nMore about the goal:\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\nhttps://etherpad.openstack.org/p/train-pdf-support-goal\nhttps://etherpad.openstack.org/p/pdf-goal-train-common-problems\n\nChange-Id: I9ded6ca53e1622b4976056048c415dfd6a3cb5f0\n'}, {'number': 2, 'created': '2019-09-06 02:25:22.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'doc/source/conf.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/molteniron/commit/a8643cac2efe7e679e71f87b3fe380c6b9d4c2ce', 'message': 'Build pdf doc\n\nThe is one of community goals that each project could produce a\nsingle PDF file. The pdf should be in the output of openstack-tox-docs\njob.\n\nTeX packages are required to build PDF locally, following is recommended:\n\n* inkscape\n* texlive-latex-base\n* texlive-latex-extra\n* texlive-fonts-recommended\n\nMore about the goal:\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\nhttps://etherpad.openstack.org/p/train-pdf-support-goal\nhttps://etherpad.openstack.org/p/pdf-goal-train-common-problems\n\nChange-Id: I9ded6ca53e1622b4976056048c415dfd6a3cb5f0\n'}]",0,680556,a8643cac2efe7e679e71f87b3fe380c6b9d4c2ce,7,3,2,24828,,,0,"Build pdf doc

The is one of community goals that each project could produce a
single PDF file. The pdf should be in the output of openstack-tox-docs
job.

TeX packages are required to build PDF locally, following is recommended:

* inkscape
* texlive-latex-base
* texlive-latex-extra
* texlive-fonts-recommended

More about the goal:
https://governance.openstack.org/tc/goals/train/pdf-doc-generation.html
https://etherpad.openstack.org/p/train-pdf-support-goal
https://etherpad.openstack.org/p/pdf-goal-train-common-problems

Change-Id: I9ded6ca53e1622b4976056048c415dfd6a3cb5f0
",git fetch https://review.opendev.org/openstack/molteniron refs/changes/56/680556/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/conf.py', 'tox.ini']",3,542b645553fc707496f9e458d26e03ed724e38af,build-pdf-docs,[testenv:pdf-docs] basepython = python3 whitelist_externals = make commands = sphinx-build -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,17,5
openstack%2Frequirements~master~Ie548a5f8c9876c39214e76d482b9e9f64ae12e11,openstack/requirements,master,Ie548a5f8c9876c39214e76d482b9e9f64ae12e11,update constraint for python-manilaclient to new release 1.29.0,MERGED,2019-09-16 09:43:40.000000000,2019-09-17 00:20:19.000000000,2019-09-17 00:18:51.000000000,"[{'_account_id': 9003}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 09:43:40.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/58b740bfccac2b7ca6d1c6078f4309a597b9d44e', 'message': 'update constraint for python-manilaclient to new release 1.29.0\n\nChange-Id: Ie548a5f8c9876c39214e76d482b9e9f64ae12e11\nmeta:version: 1.29.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Tom Barron <tpb@dyncloud.net>\nmeta:release:Commit: Tom Barron <tpb@dyncloud.net>\nmeta:release:Change-Id: Ief59e009754c3ce96c392e19975a9fd227bc9e05\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,682326,58b740bfccac2b7ca6d1c6078f4309a597b9d44e,12,3,1,11131,,,0,"update constraint for python-manilaclient to new release 1.29.0

Change-Id: Ie548a5f8c9876c39214e76d482b9e9f64ae12e11
meta:version: 1.29.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Tom Barron <tpb@dyncloud.net>
meta:release:Commit: Tom Barron <tpb@dyncloud.net>
meta:release:Change-Id: Ief59e009754c3ce96c392e19975a9fd227bc9e05
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/26/682326/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,58b740bfccac2b7ca6d1c6078f4309a597b9d44e,new-release,python-manilaclient===1.29.0,python-manilaclient===1.28.0,1,1
openstack%2Fkeystoneauth~master~I485c36b7722fe1738a6fb1d4c5cdea5c65cfc91e,openstack/keystoneauth,master,I485c36b7722fe1738a6fb1d4c5cdea5c65cfc91e,Fix misspell word,MERGED,2019-09-06 07:58:49.000000000,2019-09-17 00:10:24.000000000,2019-09-17 00:09:16.000000000,"[{'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-09-06 07:58:49.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/b59ef48a35028fe0804907612e73cf792e9109d2', 'message': 'Fix misspell word\n\nChange-Id: I485c36b7722fe1738a6fb1d4c5cdea5c65cfc91e\n'}]",0,680600,b59ef48a35028fe0804907612e73cf792e9109d2,8,3,1,30408,,,0,"Fix misspell word

Change-Id: I485c36b7722fe1738a6fb1d4c5cdea5c65cfc91e
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/00/680600/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,b59ef48a35028fe0804907612e73cf792e9109d2,,# NOTE(morgan) At no time may any oslo library be added to the keystoneauth,# NOTE(morgan) At no time may any olso library be added to the keystoneauth,1,1
openstack%2Fnetworking-ovn~master~Ia89283c1f6569340a891b40c92405941cbda5800,openstack/networking-ovn,master,Ia89283c1f6569340a891b40c92405941cbda5800,Only notify nova of port status changes if configured,MERGED,2019-09-07 01:47:50.000000000,2019-09-16 23:16:27.000000000,2019-09-16 23:15:12.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-07 01:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/bfe76dcd0d70d934224fb304c89ec87dbb282bd0', 'message': 'Only notify nova of port status changes if configured\n\nAlthough notify_nova_on_port_status_changes defaults to true, it\ncould be to false, making the nova_notifier attribute unsafe to\nuse without checking. In fact, networking-ovn functional tests\ninherit from the neutron base *unit* test which disables this\noption.\n\nThis patch checks both the config option and that the attribute\nexists, since the config could be changed after the plugin is\nalready initialized without the nova_notifier attribute being set.\n\nChange-Id: Ia89283c1f6569340a891b40c92405941cbda5800\n'}, {'number': 2, 'created': '2019-09-07 04:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2ce49d5ec2f4ba626dc5e546d83197cc30f1e5fb', 'message': 'Only notify nova of port status changes if configured\n\nAlthough notify_nova_on_port_status_changes defaults to true, it\ncould be to false, making the nova_notifier attribute unsafe to\nuse without checking. In fact, networking-ovn functional tests\ninherit from the neutron base *unit* test which disables this\noption.\n\nThis patch checks both the config option and that the attribute\nexists, since the config could be changed after the plugin is\nalready initialized without the nova_notifier attribute being set.\n\nChange-Id: Ia89283c1f6569340a891b40c92405941cbda5800\n'}, {'number': 3, 'created': '2019-09-09 23:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/553fb6e980aaed7f70e51752176600708ee0cb6a', 'message': 'Only notify nova of port status changes if configured\n\nAlthough notify_nova_on_port_status_changes defaults to true, it\ncould be to false, making the nova_notifier attribute unsafe to\nuse without checking. In fact, networking-ovn functional tests\ninherit from the neutron base *unit* test which disables this\noption.\n\nThis patch checks both the config option and that the attribute\nexists, since the config could be changed after the plugin is\nalready initialized without the nova_notifier attribute being set.\n\nChange-Id: Ia89283c1f6569340a891b40c92405941cbda5800\n'}, {'number': 4, 'created': '2019-09-09 23:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/881813505360778e01f8fd640b96f72ec4ef8132', 'message': 'Only notify nova of port status changes if configured\n\nAlthough notify_nova_on_port_status_changes defaults to true, it\ncould be to false, making the nova_notifier attribute unsafe to\nuse without checking. In fact, networking-ovn functional tests\ninherit from the neutron base *unit* test which disables this\noption.\n\nThis patch checks both the config option and that the attribute\nexists, since the config could be changed after the plugin is\nalready initialized without the nova_notifier attribute being set.\n\nChange-Id: Ia89283c1f6569340a891b40c92405941cbda5800\n'}, {'number': 5, 'created': '2019-09-09 23:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5f47f0ed977be6a4ca5a16de1b87f55ae203f40a', 'message': 'Only notify nova of port status changes if configured\n\nAlthough notify_nova_on_port_status_changes defaults to true, it\ncould be to false, making the nova_notifier attribute unsafe to\nuse without checking. In fact, networking-ovn functional tests\ninherit from the neutron base *unit* test which disables this\noption.\n\nThis patch checks both the config option and that the attribute\nexists, since the config could be changed after the plugin is\nalready initialized without the nova_notifier attribute being set.\n\nChange-Id: Ia89283c1f6569340a891b40c92405941cbda5800\n'}, {'number': 6, 'created': '2019-09-16 15:10:36.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e039fb1bcdf58d7fb26640089f8260abce7e3a71', 'message': 'Only notify nova of port status changes if configured\n\nAlthough notify_nova_on_port_status_changes defaults to true, it\ncould be set to false, making the nova_notifier attribute unsafe to\nuse without checking. In fact, networking-ovn functional tests\ninherit from the neutron base *unit* test which disables this\noption.\n\nThis patch checks both the config option and that the attribute\nexists, since the config could be changed after the plugin is\nalready initialized without the nova_notifier attribute being set.\n\nPartial-Bug: 1843269\nChange-Id: Ia89283c1f6569340a891b40c92405941cbda5800\n'}]",11,680792,e039fb1bcdf58d7fb26640089f8260abce7e3a71,30,8,6,5756,,,0,"Only notify nova of port status changes if configured

Although notify_nova_on_port_status_changes defaults to true, it
could be set to false, making the nova_notifier attribute unsafe to
use without checking. In fact, networking-ovn functional tests
inherit from the neutron base *unit* test which disables this
option.

This patch checks both the config option and that the attribute
exists, since the config could be changed after the plugin is
already initialized without the nova_notifier attribute being set.

Partial-Bug: 1843269
Change-Id: Ia89283c1f6569340a891b40c92405941cbda5800
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/92/680792/4 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ml2/mech_driver.py'],1,bfe76dcd0d70d934224fb304c89ec87dbb282bd0,," def _should_notify_nova(self, db_port): # NOTE(twilson) It is possible for a test to override a config option # after the plugin has been initialized so the nova_notifier attribute # is not set on the plugin) return (cfg.CONF.notify_nova_on_port_status_changes and hasattr(self._plugin.nova_notifier) and db_port.device_owner.startswith( const.DEVICE_OWNER_COMPUTE_PREFIX)) elif self._should_notify_nova(db_port): if self._should_notify_nova(db_port):", elif db_port.device_owner.startswith( const.DEVICE_OWNER_COMPUTE_PREFIX): if db_port.device_owner.startswith( const.DEVICE_OWNER_COMPUTE_PREFIX):,11,4
openstack%2Fpython-tripleoclient~master~I1e65235017b0b223c53e1c8b48ad2ac573e4ccca,openstack/python-tripleoclient,master,I1e65235017b0b223c53e1c8b48ad2ac573e4ccca,Rename 'undercloud-' to '<stack_name>-',MERGED,2019-09-10 15:52:04.000000000,2019-09-16 22:26:35.000000000,2019-09-16 22:24:53.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 17130}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-09-10 15:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c22458c21b6ea81391304bce5755144d48e503a4', 'message': ""Rename 'undercloud-' to '<stack_name>-'\n\nInstead of hardcoding 'undercloud' for the artifcats and password files,\nlet's name them:\n\n- Directory: <stack_name>-install\n- Archive: <stack_name>-install-%s.tar.bzip2\n- tripleo-<stack_name>-passwords.yaml\n\nChange-Id: I1e65235017b0b223c53e1c8b48ad2ac573e4ccca\n""}, {'number': 2, 'created': '2019-09-10 16:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/821f8f746446ab1ec604aa7e596730e64783f710', 'message': ""Rename 'undercloud-' to '<stack_name>-'\n\nInstead of hardcoding 'undercloud' for the artifacts and password files,\nlet's name them:\n\n- Directory: <stack_name>-install\n- Archive: <stack_name>-install-%s.tar.bzip2\n- tripleo-<stack_name>-passwords.yaml\n\nDepends-On: Iab62ca6bb209524e923ad44a3d8d6079fc976cef\nChange-Id: I1e65235017b0b223c53e1c8b48ad2ac573e4ccca\n""}, {'number': 3, 'created': '2019-09-10 18:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fbc8e032a01c8ae34eff672e2a6bdc10a4b2dbc6', 'message': ""Rename 'undercloud-' to '<stack_name>-'\n\nInstead of hardcoding 'undercloud' for the artifacts and password files,\nlet's name them:\n\n- Directory: <stack_name>-install\n- Archive: <stack_name>-install-%s.tar.bzip2\n- tripleo-<stack_name>-passwords.yaml\n\nDepends-On: Iab62ca6bb209524e923ad44a3d8d6079fc976cef\nChange-Id: I1e65235017b0b223c53e1c8b48ad2ac573e4ccca\n""}, {'number': 4, 'created': '2019-09-11 17:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/da3bbb5944b7889c4862d566ab809130f04cb863', 'message': ""Rename 'undercloud-' to '<stack_name>-'\n\nInstead of hardcoding 'undercloud' for the artifacts and password files,\nlet's name them:\n\n- Directory: <stack_name>-install\n- Archive: <stack_name>-install-%s.tar.bzip2\n- tripleo-<stack_name>-passwords.yaml\n\nDepends-On: Iab62ca6bb209524e923ad44a3d8d6079fc976cef\nChange-Id: I1e65235017b0b223c53e1c8b48ad2ac573e4ccca\n""}, {'number': 5, 'created': '2019-09-11 17:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e9d2a5412d74873cb810af796a177a9a6fd99125', 'message': ""Rename 'undercloud-' to '<stack_name>-'\n\nInstead of hardcoding 'undercloud' for the artifacts and password files,\nlet's name them:\n\n- Directory: <stack_name>-install\n- Archive: <stack_name>-install-%s.tar.bzip2\n- tripleo-<stack_name>-passwords.yaml\n\nDepends-On: Iab62ca6bb209524e923ad44a3d8d6079fc976cef\nChange-Id: I1e65235017b0b223c53e1c8b48ad2ac573e4ccca\n""}, {'number': 6, 'created': '2019-09-12 11:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d39cdd04cefa04dcbed5f322c8bbd935f0c41025', 'message': ""Rename 'undercloud-' to '<stack_name>-'\n\nInstead of hardcoding 'undercloud' for the artifacts and password files,\nlet's name them:\n\n- Directory: <stack_name>-install\n- Archive: <stack_name>-install-%s.tar.bzip2\n- tripleo-<stack_name>-passwords.yaml\n\nDepends-On: Iab62ca6bb209524e923ad44a3d8d6079fc976cef\nChange-Id: I1e65235017b0b223c53e1c8b48ad2ac573e4ccca\n""}, {'number': 7, 'created': '2019-09-14 02:15:29.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/baeb0032efdcd2ea911cc597b1fb2ef29e4ce366', 'message': ""Rename 'undercloud-' to '<stack_name>-'\n\nInstead of hardcoding 'undercloud' for the artifacts and password files,\nlet's name them:\n\n- Directory: <stack_name>-install\n- Archive: <stack_name>-install-%s.tar.bzip2\n- tripleo-<stack_name>-passwords.yaml\n\nDepends-On: Iab62ca6bb209524e923ad44a3d8d6079fc976cef\nChange-Id: I1e65235017b0b223c53e1c8b48ad2ac573e4ccca\n""}]",5,681294,baeb0032efdcd2ea911cc597b1fb2ef29e4ce366,40,9,7,3153,,,0,"Rename 'undercloud-' to '<stack_name>-'

Instead of hardcoding 'undercloud' for the artifacts and password files,
let's name them:

- Directory: <stack_name>-install
- Archive: <stack_name>-install-%s.tar.bzip2
- tripleo-<stack_name>-passwords.yaml

Depends-On: Iab62ca6bb209524e923ad44a3d8d6079fc976cef
Change-Id: I1e65235017b0b223c53e1c8b48ad2ac573e4ccca
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/94/681294/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",2,c22458c21b6ea81391304bce5755144d48e503a4,rename/output," self.cmd._populate_templates_dir('/bar', 'undercloud') def set_tht(templates, stack_name): self.cmd._populate_templates_dir(tht_from, 'undercloud')", self.cmd._populate_templates_dir('/bar') def set_tht(templates): self.cmd._populate_templates_dir(tht_from),33,24
openstack%2Fpuppet-tripleo~master~I3d0c5f163761dd595260620f15fd6f78effca84f,openstack/puppet-tripleo,master,I3d0c5f163761dd595260620f15fd6f78effca84f,Add unit tests for tripleo::profile::base::glance::api,MERGED,2019-09-09 05:19:54.000000000,2019-09-16 22:24:55.000000000,2019-09-16 22:24:55.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-09 05:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2ca096bc2ef5c72b0d4c17f86e2c92ac86d33c29', 'message': 'Add unit tests for tripleo::profile::base::glance::api\n\nAdd missing unit tests for tripleo::profile::base::glance::api .\n\nChange-Id: I3d0c5f163761dd595260620f15fd6f78effca84f\n'}, {'number': 2, 'created': '2019-09-09 06:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3f21fd5329749049ccb5bd9364c52e4946aaa419', 'message': 'Add unit tests for tripleo::profile::base::glance::api\n\nAdd missing unit tests for tripleo::profile::base::glance::api .\n\nChange-Id: I3d0c5f163761dd595260620f15fd6f78effca84f\n'}, {'number': 3, 'created': '2019-09-09 08:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e88d52dcaad33e2dca550282920118cfc74bdcfa', 'message': 'Add unit tests for tripleo::profile::base::glance::api\n\nAdd missing unit tests for tripleo::profile::base::glance::api .\n\nChange-Id: I3d0c5f163761dd595260620f15fd6f78effca84f\n'}, {'number': 4, 'created': '2019-09-09 09:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9b756366c35e62f6d8a935f8ddd6b68deab8ed90', 'message': 'Add unit tests for tripleo::profile::base::glance::api\n\nAdd missing unit tests for tripleo::profile::base::glance::api .\n\nChange-Id: I3d0c5f163761dd595260620f15fd6f78effca84f\n'}, {'number': 5, 'created': '2019-09-09 15:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fcb38aecd613989c9791267fdddb86d3dc0ee7f1', 'message': 'Add unit tests for tripleo::profile::base::glance::api\n\nAdd missing unit tests for tripleo::profile::base::glance::api .\n\nChange-Id: I3d0c5f163761dd595260620f15fd6f78effca84f\n'}, {'number': 6, 'created': '2019-09-10 05:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c2f9043966a3ca4ee38a29d1810c866882a835a6', 'message': 'Add unit tests for tripleo::profile::base::glance::api\n\nAdd missing unit tests for tripleo::profile::base::glance::api .\n\nChange-Id: I3d0c5f163761dd595260620f15fd6f78effca84f\n'}, {'number': 7, 'created': '2019-09-10 05:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2d0016b8c699e6b4c1e88d188820bf4ad9e8d9c8', 'message': 'Add unit tests for tripleo::profile::base::glance::api\n\nAdd missing unit tests for tripleo::profile::base::glance::api .\n\nChange-Id: I3d0c5f163761dd595260620f15fd6f78effca84f\n'}, {'number': 8, 'created': '2019-09-10 06:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bea4c0d44f7c96d05f2978d99765587fa343d699', 'message': 'Add unit tests for tripleo::profile::base::glance::api\n\nAdd missing unit tests for tripleo::profile::base::glance::api .\n\nChange-Id: I3d0c5f163761dd595260620f15fd6f78effca84f\n'}, {'number': 9, 'created': '2019-09-10 10:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1b9528c6230c44f6e3e362ca7832d48143f7209f', 'message': 'Add unit tests for tripleo::profile::base::glance::api\n\nAdd missing unit tests for tripleo::profile::base::glance::api .\n\nChange-Id: I3d0c5f163761dd595260620f15fd6f78effca84f\n'}, {'number': 10, 'created': '2019-09-10 11:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/560eee30d34a2430351ba19ec68772ddbd1a8e1e', 'message': 'Add unit tests for tripleo::profile::base::glance::api\n\nAdd missing unit tests for tripleo::profile::base::glance::api .\n\nChange-Id: I3d0c5f163761dd595260620f15fd6f78effca84f\n'}, {'number': 11, 'created': '2019-09-10 12:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/63f84974b760587e7d7c6f61268aa46131e9f5f0', 'message': 'Add unit tests for tripleo::profile::base::glance::api\n\nAdd missing unit tests for tripleo::profile::base::glance::api .\n\nChange-Id: I3d0c5f163761dd595260620f15fd6f78effca84f\n'}, {'number': 12, 'created': '2019-09-10 12:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5b51d2554344a1b5ae7d391055728f3144aea31d', 'message': 'Add unit tests for tripleo::profile::base::glance::api\n\nAdd missing unit tests for tripleo::profile::base::glance::api .\n\nChange-Id: I3d0c5f163761dd595260620f15fd6f78effca84f\n'}, {'number': 13, 'created': '2019-09-10 13:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a85112e4f4e00874ae4787fcb56daf01dac79b2f', 'message': 'Add unit tests for tripleo::profile::base::glance::api\n\nAdd missing unit tests for tripleo::profile::base::glance::api .\n\nChange-Id: I3d0c5f163761dd595260620f15fd6f78effca84f\n'}, {'number': 14, 'created': '2019-09-10 14:39:39.000000000', 'files': ['spec/classes/tripleo_profile_base_glance_api_spec.rb', 'spec/fixtures/hieradata/default.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/40e01f28f6eeacd35560c3585a8595f7f7c4e1e7', 'message': 'Add unit tests for tripleo::profile::base::glance::api\n\nAdd missing unit tests for tripleo::profile::base::glance::api .\n\nChange-Id: I3d0c5f163761dd595260620f15fd6f78effca84f\n'}]",0,680909,40e01f28f6eeacd35560c3585a8595f7f7c4e1e7,30,3,14,9816,,,0,"Add unit tests for tripleo::profile::base::glance::api

Add missing unit tests for tripleo::profile::base::glance::api .

Change-Id: I3d0c5f163761dd595260620f15fd6f78effca84f
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/09/680909/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_glance_api_spec.rb', 'spec/fixtures/hieradata/default.yaml']",2,2ca096bc2ef5c72b0d4c17f86e2c92ac86d33c29,glance-api-unittests,glance_api_short_bootstrap_node_name : node,,116,0
openstack%2Fgovernance~master~Ib1e1c44c3fe5c5509dbdcb76b2db88323d8c64e5,openstack/governance,master,Ib1e1c44c3fe5c5509dbdcb76b2db88323d8c64e5,Update Project Liasons for new TC roster,MERGED,2019-09-05 12:07:35.000000000,2019-09-16 22:21:18.000000000,2019-09-16 22:20:08.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 4257}, {'_account_id': 7353}, {'_account_id': 8099}, {'_account_id': 10607}, {'_account_id': 13995}, {'_account_id': 16643}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-05 12:07:35.000000000', 'files': ['reference/projects.yaml', 'tools/assign_liaisons.py'], 'web_link': 'https://opendev.org/openstack/governance/commit/9e77ed6816a40f8c16ed2c6a3f4c5226677bfa7d', 'message': 'Update Project Liasons for new TC roster\n\nNew TC members, new project Liasons - a simple run of\n`python ./tools/assign_liaisons.py --replace-all` making this a random\nassignment of TC member -> project.\n\nChange-Id: Ib1e1c44c3fe5c5509dbdcb76b2db88323d8c64e5\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}]",0,680386,9e77ed6816a40f8c16ed2c6a3f4c5226677bfa7d,24,10,1,8099,,,0,"Update Project Liasons for new TC roster

New TC members, new project Liasons - a simple run of
`python ./tools/assign_liaisons.py --replace-all` making this a random
assignment of TC member -> project.

Change-Id: Ib1e1c44c3fe5c5509dbdcb76b2db88323d8c64e5
Signed-off-by: Graham Hayes <gr@ham.ie>
",git fetch https://review.opendev.org/openstack/governance refs/changes/86/680386/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/projects.yaml', 'tools/assign_liaisons.py']",2,9e77ed6816a40f8c16ed2c6a3f4c5226677bfa7d,formal-vote," if not args.replace_all: for _, team in project_data.items(): for member in team.get('liaisons', []): member_counts.update({member: 1})"," for _, team in project_data.items(): for member in team.get('liaisons', []): member_counts.update({member: 1})",124,123
openstack%2Fgovernance~master~I3ec992527a052bf6800c23a381f7af2365e47a62,openstack/governance,master,I3ec992527a052bf6800c23a381f7af2365e47a62,Fix linters job,MERGED,2019-09-16 15:46:14.000000000,2019-09-16 21:21:39.000000000,2019-09-16 21:20:14.000000000,"[{'_account_id': 4257}, {'_account_id': 13995}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 15:46:14.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/1a0e89b3faee1af842482aeb563e81df1bb53e60', 'message': ""Fix linters job\n\n``tox -elinters`` is failing currently because it can't find\nsome recently added projects which apparently need to have\ntheir paths adjusted with ``sed s;x/;openstack/``.\n\nChange-Id: I3ec992527a052bf6800c23a381f7af2365e47a62\n""}]",0,682392,1a0e89b3faee1af842482aeb563e81df1bb53e60,11,4,1,9003,,,0,"Fix linters job

``tox -elinters`` is failing currently because it can't find
some recently added projects which apparently need to have
their paths adjusted with ``sed s;x/;openstack/``.

Change-Id: I3ec992527a052bf6800c23a381f7af2365e47a62
",git fetch https://review.opendev.org/openstack/governance refs/changes/92/682392/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,1a0e89b3faee1af842482aeb563e81df1bb53e60,code-change, - opendev/ansible-role-cloud-launcher - openstack/kayobe - openstack/kayobe-config - openstack/kayobe-config-dev, - x/ansible-role-cloud-launcher - x/kayobe - x/kayobe-config - x/kayobe-config-dev,4,4
openstack%2Foctavia~stable%2Fstein~Idaacfa60a1909d3f5e0f94371a405c8ce8ae9efa,openstack/octavia,stable/stein,Idaacfa60a1909d3f5e0f94371a405c8ce8ae9efa,"Add support for monitor_{address,port} in UDP members",MERGED,2019-08-08 14:28:01.000000000,2019-09-16 21:10:16.000000000,2019-09-16 21:08:36.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2019-08-08 14:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d6bb233b96518ea09e33f6dda40325494cd1e853', 'message': ""Add support for monitor_{address,port} in UDP members\n\nUDP members didn't support monitor_address and monitor_port parameters.\nSetting those values didn't have any effects.\n\nThis commit enables the support of both parameters.\n\nStory: 2005775\nTask: 33492\n\nChange-Id: Idaacfa60a1909d3f5e0f94371a405c8ce8ae9efa\n(cherry picked from commit 65e132a734f005f090a384bfa129482d195c6d6e)\n""}, {'number': 2, 'created': '2019-09-06 06:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c3ae4c56cbcad500a579c48b4c1bcc52932b42a4', 'message': ""Add support for monitor_{address,port} in UDP members\n\nUDP members didn't support monitor_address and monitor_port parameters.\nSetting those values didn't have any effects.\n\nThis commit enables the support of both parameters.\n\nStory: 2005775\nTask: 33492\n\nChange-Id: Idaacfa60a1909d3f5e0f94371a405c8ce8ae9efa\n(cherry picked from commit 65e132a734f005f090a384bfa129482d195c6d6e)\n""}, {'number': 3, 'created': '2019-09-12 08:43:26.000000000', 'files': ['octavia/tests/unit/common/jinja/lvs/test_lvs_jinja_cfg.py', 'octavia/common/jinja/lvs/templates/macros.j2', 'releasenotes/notes/fix-support-for-monitoring-address-and-port-in-udp-members-ff83395544f228cf.yaml', 'octavia/common/jinja/lvs/jinja_cfg.py', 'octavia/tests/unit/common/sample_configs/sample_configs_split.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7f683dc2c568629a3645aeaf603db24f03c3a71a', 'message': ""Add support for monitor_{address,port} in UDP members\n\nUDP members didn't support monitor_address and monitor_port parameters.\nSetting those values didn't have any effects.\n\nThis commit enables the support of both parameters.\n\nStory: 2005775\nTask: 33492\n\nChange-Id: Idaacfa60a1909d3f5e0f94371a405c8ce8ae9efa\n(cherry picked from commit 65e132a734f005f090a384bfa129482d195c6d6e)\n""}]",0,675349,7f683dc2c568629a3645aeaf603db24f03c3a71a,21,4,3,29244,,,0,"Add support for monitor_{address,port} in UDP members

UDP members didn't support monitor_address and monitor_port parameters.
Setting those values didn't have any effects.

This commit enables the support of both parameters.

Story: 2005775
Task: 33492

Change-Id: Idaacfa60a1909d3f5e0f94371a405c8ce8ae9efa
(cherry picked from commit 65e132a734f005f090a384bfa129482d195c6d6e)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/49/675349/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/common/sample_configs/sample_configs.py', 'octavia/tests/unit/common/jinja/lvs/test_lvs_jinja_cfg.py', 'octavia/common/jinja/lvs/templates/macros.j2', 'releasenotes/notes/fix-support-for-monitoring-address-and-port-in-udp-members-ff83395544f228cf.yaml', 'octavia/common/jinja/lvs/jinja_cfg.py']",5,d6bb233b96518ea09e33f6dda40325494cd1e853,," 'enabled': member.enabled, 'monitor_address': member.monitor_address, 'monitor_port': member.monitor_port", 'enabled': member.enabled,85,5
openstack%2Fkeystone~master~I090e2470726d22b2670a2cca89025063419f5262,openstack/keystone,master,I090e2470726d22b2670a2cca89025063419f5262,Implement scope type checking for EC2 credentials,MERGED,2018-10-04 07:15:27.000000000,2019-09-16 21:08:58.000000000,2019-09-15 09:19:58.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2018-10-04 07:15:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4d8bc6ed6b4a35140e30ed2833c85718980e679c', 'message': 'Implement scope_type checking for ec2 credentials\n\nThis change modifies the policies for the ec2\ncredentials API to be more self-service by properly\nchecking for various scopes.\n\nFurther patch will be updated for test cases for\nthe default roles keystone supports at install time.\n\nChange-Id: I090e2470726d22b2670a2cca89025063419f5262\nCloses-Bug: #1750678\n'}, {'number': 2, 'created': '2018-10-04 07:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1a89d9b84b174d7b5920e4659c574d9aa90fc0d4', 'message': '[WIP] Implement scope_type checking for ec2 credentials\n\nThis change modifies the policies for the ec2\ncredentials API to be more self-service by properly\nchecking for various scopes.\n\nFurther patch will be updated for test cases for\nthe default roles keystone supports at install time.\n\nChange-Id: I090e2470726d22b2670a2cca89025063419f5262\nCloses-Bug: #1750678\n'}, {'number': 3, 'created': '2018-10-04 07:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/88ab40d388057e49738b60d15f8e53b7adabaa0e', 'message': '[WIP] Implement scope_type checking for ec2 credentials\n\nThis change modifies the policies for the ec2\ncredentials API to be more self-service by properly\nchecking for various scopes.\n\nFurther patch will be updated for test cases for\nthe default roles keystone supports at install time.\n\nChange-Id: I090e2470726d22b2670a2cca89025063419f5262\nCloses-Bug: #1750678\n'}, {'number': 4, 'created': '2018-11-05 02:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7d681af4b5912dd0cc717351a5c7a1ebcff9578d', 'message': '[WIP] Implement scope_type checking for ec2 credentials\n\nThis change modifies the policies for the ec2\ncredentials API to be more self-service by properly\nchecking for various scopes.\n\nFurther patch will be updated for test cases for\nthe default roles keystone supports at install time.\n\nChange-Id: I090e2470726d22b2670a2cca89025063419f5262\nCloses-Bug: #1750678\n'}, {'number': 5, 'created': '2019-09-08 15:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3d5640da8720a0b26366cb1034ccc846476d0a60', 'message': '[WIP] Implement scope_type checking for ec2 credentials\n\nThis change modifies the policies for the ec2\ncredentials API to be more self-service by properly\nchecking for various scopes.\n\nFurther patch will be updated for test cases for\nthe default roles keystone supports at install time.\n\nChange-Id: I090e2470726d22b2670a2cca89025063419f5262\nCloses-Bug: #1750678\n'}, {'number': 6, 'created': '2019-09-09 10:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/20afd6f85c5ba7518aca12a8fa2594ea13c20a63', 'message': ""Implement system reader and member for EC2 credentials\n\nThis change updates the EC2 credentials policies to understand\nthe system reader and member role. A follow-on change will add\nsupport for system admin.\nFor the time being, we're deferring adding support for domain\nand project users to create EC2 credentials but may add it in\nthe future.\n\nChange-Id: I090e2470726d22b2670a2cca89025063419f5262\nPartial-Bug: #1750678\n""}, {'number': 7, 'created': '2019-09-10 05:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2948b72504e759f770c2c406b022cab4d8f1c995', 'message': 'Implement scope type checking for EC2 credentials\n\nThis change updates the EC2 credentials policies to understand\nthe scope types for EC2 credentials. A follow on patch will\nRemove obsolete credential policies.\n\nTo maintain the compatibility with the old rule the\nequivalent ec2_list_credentials and ec2_get_credentials behaves\ninconsistently. Same for ec2_create_credentials and the\nec2_delete_inconsistently.\n\nChange-Id: I090e2470726d22b2670a2cca89025063419f5262\nPartial-Bug: #1750678\n'}, {'number': 8, 'created': '2019-09-10 16:27:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d9864af2417488edf51ea5b4ca721f54dd289c0d', 'message': 'Implement scope type checking for EC2 credentials\n\nThis change updates the EC2 credentials policies to understand\nthe scope types for EC2 credentials. A follow on patch will\nRemove obsolete credential policies.\n\nTo maintain the compatibility with the old rule the\nequivalent ec2_list_credentials and ec2_get_credentials behaves\ninconsistently. Same for ec2_create_credentials and the\nec2_delete_inconsistently.\n\nAlso removing the test of ec2 credentials from test_v3_protection\nsince new protection file is being added.\n\nChange-Id: I090e2470726d22b2670a2cca89025063419f5262\nPartial-Bug: #1750678\n'}, {'number': 9, 'created': '2019-09-11 07:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6ce03367fe2272bfc89e3f7afe2418c216320a48', 'message': 'Implement scope type checking for EC2 credentials\n\nThis change updates the EC2 credentials policies to understand\nthe scope types for EC2 credentials. A follow on patch will\nRemove obsolete credential policies.\n\nTo maintain the compatibility with the old rule the\nequivalent ec2_list_credentials and ec2_get_credentials behaves\ninconsistently. Same for ec2_create_credentials and the\nec2_delete_inconsistently.\n\nChange-Id: I090e2470726d22b2670a2cca89025063419f5262\nPartial-Bug: #1750678\n'}, {'number': 10, 'created': '2019-09-11 18:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9ad31b2650b37df30db3ccb9e4a9bb173516f6d0', 'message': 'Implement scope type checking for EC2 credentials\n\nThis change updates the EC2 credentials policies to understand\nthe scope types for EC2 credentials. A follow on patch will\nRemove obsolete credential policies.\n\nTo maintain the compatibility with the old rule the\nequivalent ec2_list_credentials and ec2_get_credentials behaves\ninconsistently. Same for ec2_create_credentials and the\nec2_delete_inconsistently.\n\nChange-Id: I090e2470726d22b2670a2cca89025063419f5262\nPartial-Bug: #1750678\n'}, {'number': 11, 'created': '2019-09-11 19:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cf2b02829d8ea809f3180de62d5e36e189c92df1', 'message': 'Implement scope type checking for EC2 credentials\n\nThis change updates the EC2 credentials policies to understand\nthe scope types for EC2 credentials. A follow on patch will\nRemove obsolete credential policies.\n\nTo maintain the compatibility with the old rule the\nequivalent ec2_list_credentials and ec2_get_credentials behaves\ninconsistently. Same for ec2_create_credentials and the\nec2_delete_inconsistently.\n\nChange-Id: I090e2470726d22b2670a2cca89025063419f5262\nPartial-Bug: #1750678\n'}, {'number': 12, 'created': '2019-09-14 08:59:15.000000000', 'files': ['keystone/api/users.py', 'keystone/tests/unit/protection/v3/test_ec2_credential.py', 'keystone/common/policies/ec2_credential.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d009384c9b683008d572f9996e1fe4e5e5d82096', 'message': 'Implement scope type checking for EC2 credentials\n\nThis change updates the EC2 credentials policies to understand\nthe scope types for EC2 credentials. A follow on patch will\nRemove obsolete credential policies.\n\nTo maintain the compatibility with the old rule the\nequivalent ec2_list_credentials and ec2_get_credentials behaves\ninconsistently. Same for ec2_create_credentials and the\nec2_delete_inconsistently.\n\nChange-Id: I090e2470726d22b2670a2cca89025063419f5262\nPartial-Bug: #1750678\n'}]",14,607820,d009384c9b683008d572f9996e1fe4e5e5d82096,56,4,12,27621,,,0,"Implement scope type checking for EC2 credentials

This change updates the EC2 credentials policies to understand
the scope types for EC2 credentials. A follow on patch will
Remove obsolete credential policies.

To maintain the compatibility with the old rule the
equivalent ec2_list_credentials and ec2_get_credentials behaves
inconsistently. Same for ec2_create_credentials and the
ec2_delete_inconsistently.

Change-Id: I090e2470726d22b2670a2cca89025063419f5262
Partial-Bug: #1750678
",git fetch https://review.opendev.org/openstack/keystone refs/changes/20/607820/4 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/policies/ec2_credential.py'],1,4d8bc6ed6b4a35140e30ed2833c85718980e679c,bug/1750678,"from oslo_log import versionutilsSYSTEM_READER_OR_EC2_CRED_OWNER = ( '(role:reader and system_scope:all) ' 'or user_id:%(target.credential.user_id)s' ) SYSTEM_MEMBER_OR_EC2_CRED_OWNER = ( '(role:member and system_scope:all) ' 'or user_id:%(target.credential.user_id)s' ) SYSTEM_ADMIN_OR_EC2_CRED_OWNER = ( '(role:admin and system_scope:all) ' 'or user_id:%(target.credential.user_id)s' ) DEPRECATED_REASON = ( 'As of the Stein release, the EC2 credential API now understands how to ' 'handle system-scoped tokens in addition to project-scoped tokens, making ' 'the API more accessible to users without compromising security or ' 'manageability for administrators. The new default policies for this API ' 'account for these changes automatically.' ) deprecated_ec2_get_credential = policy.DeprecatedRule( name=base.IDENTITY % 'ec2_get_credential', check_str=base.RULE_ADMIN_REQUIRED ) deprecated_ec2_list_credentials = policy.DeprecatedRule( name=base.IDENTITY % 'ec2_list_credentials', check_str=base.RULE_ADMIN_REQUIRED ) deprecated_ec2_create_credential = policy.DeprecatedRule( name=base.IDENTITY % 'ec2_create_credential', check_str=base.RULE_ADMIN_REQUIRED ) deprecated_ec2_delete_credential = policy.DeprecatedRule( name=base.IDENTITY % 'ec2_delete_credential', check_str=base.RULE_ADMIN_REQUIRED ) check_str=SYSTEM_READER_OR_EC2_CRED_OWNER, scope_types=['system', 'project'], 'method': 'GET'}], deprecated_rule=deprecated_ec2_get_credential, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.STEIN ), check_str=SYSTEM_READER_OR_EC2_CRED_OWNER, scope_types=['system', 'project'], 'method': 'GET'}], deprecated_rule=deprecated_ec2_list_credentials, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.STEIN ), check_str=SYSTEM_ADMIN_OR_EC2_CRED_OWNER, scope_types=['system', 'project'], 'method': 'POST'}], deprecated_rule=deprecated_ec2_create_credential, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.STEIN ), check_str=SYSTEM_ADMIN_OR_EC2_CRED_OWNER, scope_types=['system', 'project'], 'method': 'DELETE'}], deprecated_rule=deprecated_ec2_delete_credential, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.STEIN )"," check_str=base.RULE_ADMIN_OR_CREDENTIAL_OWNER, # FIXME(lbragstad): System administrator should be able to manage all # ec2 credentials. Users with a system role assignment should be able # to manage only ec2 credentials keystone can assert belongs to them. # This is going to require keystone to have ""scope"" checks in code to # ensure this is enforced properly. Until keystone has support for # those cases in code, we're going to have to comment this out. This # would be a good candidate for a user-scoped operation. If we provide # scope_types in these policies without proper scope checks in code we # could expose credentials to users who are not supposed to access # them. # scope_types=['system', 'project'], 'method': 'GET'}]), check_str=base.RULE_ADMIN_OR_OWNER, # FIXME(lbragstad): See the above comment as to why scope_types is # commented out. # scope_types=['system', 'project'], 'method': 'GET'}]), check_str=base.RULE_ADMIN_OR_OWNER, # FIXME(lbragstad): See the above comment as to why scope_types is # commented out. 'method': 'POST'}]), check_str=base.RULE_ADMIN_OR_CREDENTIAL_OWNER, # FIXME(lbragstad): See the above comment as to why scope_types is # commented out. # scope_types=['system', 'project'], 'method': 'DELETE'}])",66,27
openstack%2Fopenstack-ansible~stable%2Fstein~I8dc308f62215e56bee45754d33145ca7333d15b0,openstack/openstack-ansible,stable/stein,I8dc308f62215e56bee45754d33145ca7333d15b0,[DNM] Noop patch to test stein,ABANDONED,2019-09-16 18:04:28.000000000,2019-09-16 20:55:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-16 18:04:28.000000000', 'files': ['noop'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4cf4f3b5b79fa3f1a044f9818dc396ffa635de6b', 'message': '[DNM] Noop patch to test stein\n\nChange-Id: I8dc308f62215e56bee45754d33145ca7333d15b0\n'}]",0,682443,4cf4f3b5b79fa3f1a044f9818dc396ffa635de6b,3,1,1,28619,,,0,"[DNM] Noop patch to test stein

Change-Id: I8dc308f62215e56bee45754d33145ca7333d15b0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/43/682443/1 && git format-patch -1 --stdout FETCH_HEAD,['noop'],1,4cf4f3b5b79fa3f1a044f9818dc396ffa635de6b,,,,0,0
openstack%2Fnova~master~I9ab9d7d65378be564b3731b5227ede8cece71bef,openstack/nova,master,I9ab9d7d65378be564b3731b5227ede8cece71bef,Add a new request filter to isolate aggregates,MERGED,2019-07-16 15:03:19.000000000,2019-09-16 20:28:07.000000000,2019-09-15 05:36:47.000000000,"[{'_account_id': 3085}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 22896}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26515}, {'_account_id': 27302}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-07-16 15:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/74b48f6f43e6ffcc49048c03cb11de71a0c6affc', 'message': ""Add a new request filter to forbidden aggregates\n\nAdded a new request filter 'forbidden_aggregates' for filtering of hosts by\nforbidden aggregates. This filter prepares a list of aggregates that should\nbe ignored by the placement service. It checks if aggregates has metadata\n'trait:<trait_name>='required' and if these traits <trait_name> are present\nin flavor extra specs or image properties of the request otherwise all those\naggregates will be included in the list of forbidden aggregates.\n\nChange-Id: I9ab9d7d65378be564b3731b5227ede8cece71bef\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 2, 'created': '2019-07-16 16:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f2e05beff4d47120dd8bc10e5b5a35fb66286f49', 'message': ""Add a new request filter to forbidden aggregates\n\nAdded a new request filter 'forbidden_aggregates' for filtering of hosts\nby forbidden aggregates. This filter prepares a list of aggregates that\nshould be ignored by the placement service. It checks if aggregates has\nmetadata 'trait:<trait_name>='required' and if these traits <trait_name>\nare present in flavor extra specs or image properties of the request\notherwise all those aggregates will be included in the list of forbidden\naggregates.\n\nNote that this new filter is currently *disabled*. It will be enabled\n(conditional upon a new conf option) in a subsequent patch.\n\nChange-Id: I9ab9d7d65378be564b3731b5227ede8cece71bef\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 3, 'created': '2019-07-16 19:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65d664d98c53143cfa2e98e9454e87cd3ea68745', 'message': ""Add a new request filter to forbidden aggregates\n\nAdded a new request filter 'forbidden_aggregates' for filtering of hosts\nby forbidden aggregates. This filter prepares a list of aggregates that\nshould be ignored by the placement service. It checks if aggregates has\nmetadata 'trait:<trait_name>='required' and if these traits <trait_name>\nare present in flavor extra specs or image properties of the request\notherwise all those aggregates will be included in the list of forbidden\naggregates.\n\nNote that this new filter is currently *disabled*. It will be enabled\n(conditional upon a new conf option) in a subsequent patch.\n\nChange-Id: I9ab9d7d65378be564b3731b5227ede8cece71bef\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 4, 'created': '2019-08-07 12:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bcfa998b467ea3a1b9f7fe91e8237b37b27e3405', 'message': ""Add a new request filter to forbidden aggregates\n\nAdded a new request filter 'forbidden_aggregates' for filtering of hosts\nby forbidden aggregates. This filter prepares a list of aggregates that\nshould be ignored by the placement service. It checks if aggregates has\nmetadata 'trait:<trait_name>='required' and if these traits <trait_name>\nare present in flavor extra specs or image properties of the request\notherwise all those aggregates will be included in the list of forbidden\naggregates.\n\nNote that this new filter is currently *disabled*. It will be enabled\n(conditional upon a new conf option) in a subsequent patch.\n\nChange-Id: I9ab9d7d65378be564b3731b5227ede8cece71bef\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 5, 'created': '2019-08-08 12:35:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d3d3ecfb513558e1ff4d13d7a7effec5dabf8f0', 'message': ""Add a new request filter to isolate aggregates\n\nAdded a new request filter 'isolate_aggregates' for filtering of hosts\nby isolated aggregates. This filter prepares a list of aggregates that\nshould be ignored by the placement service. It checks if aggregates has\nmetadata 'trait:<trait_name>='required' and if these traits <trait_name>\nare present in flavor extra specs or image properties of the request\notherwise all those aggregates will be included in the list of isolated\naggregates.\n\nNote that this new filter is currently *disabled*. It will be enabled\n(conditional upon a new conf option) in a subsequent patch.\n\nChange-Id: I9ab9d7d65378be564b3731b5227ede8cece71bef\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 6, 'created': '2019-08-10 09:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/20bff05402e132156c7664c63dd44d48f1c7e083', 'message': ""Add a new request filter to isolate aggregates\n\nAdded a new request filter 'isolate_aggregates' for filtering of hosts\nby isolated aggregates. This filter prepares a list of aggregates that\nshould be ignored by the placement service. It checks if aggregates has\nmetadata 'trait:<trait_name>='required' and if these traits <trait_name>\nare present in flavor extra specs or image properties of the request\notherwise all those aggregates will be included in the list of isolated\naggregates.\n\nNote that this new filter is currently *disabled*. It will be enabled\n(conditional upon a new conf option) in a subsequent patch.\n\nChange-Id: I9ab9d7d65378be564b3731b5227ede8cece71bef\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 7, 'created': '2019-08-13 15:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/695922bfb40dab756a8a6a54433c2293e877ba82', 'message': ""Add a new request filter to isolate aggregates\n\nAdded a new request filter 'isolate_aggregates' for filtering of hosts\nby isolated aggregates. This filter prepares a list of aggregates that\nshould be ignored by the placement service. It checks if aggregates has\nmetadata 'trait:<trait_name>='required' and if these traits <trait_name>\nare present in flavor extra specs or image properties of the request\notherwise all those aggregates will be included in the list of isolated\naggregates.\n\nNote that this new filter is currently *disabled*. It will be enabled\n(conditional upon a new conf option) in a subsequent patch.\n\nChange-Id: I9ab9d7d65378be564b3731b5227ede8cece71bef\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 8, 'created': '2019-08-15 00:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e0319b66edf102efe641e5a7c09e86b2d1a071a', 'message': ""Add a new request filter to isolate aggregates\n\nAdded a new request filter 'isolate_aggregates' for filtering of hosts\nby isolated aggregates. This filter prepares a list of aggregates that\nshould be ignored by the placement service. It checks if aggregates has\nmetadata 'trait:<trait_name>='required' and if these traits <trait_name>\nare present in flavor extra specs or image properties of the request\notherwise all those aggregates will be included in the list of isolated\naggregates.\n\nNote that this new filter is currently *disabled*. It will be enabled\n(conditional upon a new conf option) in a subsequent patch.\n\nChange-Id: I9ab9d7d65378be564b3731b5227ede8cece71bef\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 9, 'created': '2019-08-19 16:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc166fbc76493deadd668aa9a2aa0e1aec37ab2c', 'message': ""Add a new request filter to isolate aggregates\n\nAdded a new request filter 'isolate_aggregates' for filtering of hosts\nby isolated aggregates. This filter prepares a list of aggregates that\nshould be ignored by the placement service. It checks if aggregates has\nmetadata 'trait:<trait_name>='required' and if these traits <trait_name>\nare present in flavor extra specs or image properties of the request\notherwise all those aggregates will be included in the list of isolated\naggregates.\n\nNote that this new filter is currently *disabled*. It will be enabled\n(conditional upon a new conf option) in a subsequent patch.\n\nChange-Id: I9ab9d7d65378be564b3731b5227ede8cece71bef\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 10, 'created': '2019-08-22 13:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5d6ead0d27f068fbd73e298a99694208e6df59b', 'message': ""Add a new request filter to isolate aggregates\n\nAdded a new request filter 'isolate_aggregates' for filtering of hosts\nby isolated aggregates. This filter prepares a list of aggregates that\nshould be ignored by the placement service. It checks if aggregates has\nmetadata 'trait:<trait_name>='required' and if these traits <trait_name>\nare present in flavor extra specs or image properties of the request\notherwise all those aggregates will be included in the list of isolated\naggregates.\n\nNote that this new filter is currently *disabled*. It will be enabled\n(conditional upon a new conf option) in a subsequent patch.\n\nChange-Id: I9ab9d7d65378be564b3731b5227ede8cece71bef\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 11, 'created': '2019-08-29 13:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11651ea8c035fe37c4449f8513efadc8ef07a873', 'message': ""Add a new request filter to isolate aggregates\n\nAdded a new request filter 'isolate_aggregates' for filtering of hosts\nby isolated aggregates. This filter prepares a list of aggregates that\nshould be ignored by the placement service. It checks if aggregates has\nmetadata 'trait:<trait_name>='required' and if these traits <trait_name>\nare present in flavor extra specs or image properties of the request\notherwise all those aggregates will be included in the list of isolated\naggregates.\n\nNote that this new filter is currently *disabled*. It will be enabled\n(conditional upon a new conf option) in a subsequent patch.\n\nChange-Id: I9ab9d7d65378be564b3731b5227ede8cece71bef\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 12, 'created': '2019-08-30 10:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab3f43f8f3eacd004d4f4eec9319c5826ebc6955', 'message': ""Add a new request filter to isolate aggregates\n\nAdded a new request filter 'isolate_aggregates' for filtering of hosts\nby isolated aggregates. This filter prepares a list of aggregates that\nshould be ignored by the placement service. It checks if aggregates has\nmetadata 'trait:<trait_name>='required' and if these traits <trait_name>\nare present in flavor extra specs or image properties of the request\notherwise all those aggregates will be included in the list of isolated\naggregates.\n\nNote that this new filter is currently *disabled*. It will be enabled\n(conditional upon a new conf option) in a subsequent patch.\n\nChange-Id: I9ab9d7d65378be564b3731b5227ede8cece71bef\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 13, 'created': '2019-09-05 19:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb82da2fd4f4ec3a9496c6f131a0bc45c81e4627', 'message': ""Add a new request filter to isolate aggregates\n\nAdded a new request filter 'isolate_aggregates' for filtering of hosts\nby isolated aggregates. This filter prepares a list of aggregates that\nshould be ignored by the placement service. It checks if aggregates has\nmetadata 'trait:<trait_name>='required' and if these traits <trait_name>\nare present in flavor extra specs or image properties of the request\notherwise all those aggregates will be included in the list of isolated\naggregates.\n\nNote that this new filter is currently *disabled*. It will be enabled\n(conditional upon a new conf option) in a subsequent patch.\n\nChange-Id: I9ab9d7d65378be564b3731b5227ede8cece71bef\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 14, 'created': '2019-09-05 20:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c8461245fbcb887ca9dc3409b8ec0bb659962e7', 'message': ""Add a new request filter to isolate aggregates\n\nAdded a new request filter 'isolate_aggregates' for filtering of hosts\nby isolated aggregates. This filter prepares a list of aggregates that\nshould be ignored by the placement service. It checks if aggregates has\nmetadata 'trait:<trait_name>='required' and if these traits <trait_name>\nare present in flavor extra specs or image properties of the request\notherwise all those aggregates will be included in the list of isolated\naggregates.\n\nThe filter is enabled by a new conf option,\n[scheduler]enable_isolated_aggregate_filtering.\n\nChange-Id: I9ab9d7d65378be564b3731b5227ede8cece71bef\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 15, 'created': '2019-09-05 20:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53cc262a6c4821ae5adc9bbb61979112ff9a1c55', 'message': ""Add a new request filter to isolate aggregates\n\nAdded a new request filter 'isolate_aggregates' for filtering of hosts\nby isolated aggregates. This filter prepares a list of aggregates that\nshould be ignored by the placement service. It checks if aggregates has\nmetadata 'trait:<trait_name>='required' and if these traits <trait_name>\nare present in flavor extra specs or image properties of the request\notherwise all those aggregates will be included in the list of isolated\naggregates.\n\nThe filter is enabled by a new conf option,\n[scheduler]enable_isolated_aggregate_filtering.\n\nChange-Id: I9ab9d7d65378be564b3731b5227ede8cece71bef\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 16, 'created': '2019-09-05 21:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7dcee18bfc013f9f5139f5ae27a0def432a025c5', 'message': ""Add a new request filter to isolate aggregates\n\nAdded a new request filter 'isolate_aggregates' for filtering of hosts\nby isolated aggregates. This filter prepares a list of aggregates that\nshould be ignored by the placement service. It checks if aggregates has\nmetadata 'trait:<trait_name>='required' and if these traits <trait_name>\nare present in flavor extra specs or image properties of the request\notherwise all those aggregates will be included in the list of isolated\naggregates.\n\nThe filter is enabled by a new conf option,\n[scheduler]enable_isolated_aggregate_filtering.\n\nChange-Id: I9ab9d7d65378be564b3731b5227ede8cece71bef\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 17, 'created': '2019-09-06 12:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb7a931d10ad4425406685ff3d82a62e7bf9c662', 'message': ""Add a new request filter to isolate aggregates\n\nAdded a new request filter 'isolate_aggregates' for filtering of hosts\nby isolated aggregates. This filter prepares a list of aggregates that\nshould be ignored by the placement service. It checks if aggregates has\nmetadata 'trait:<trait_name>='required' and if these traits <trait_name>\nare present in flavor extra specs or image properties of the request\notherwise all those aggregates will be included in the list of isolated\naggregates.\n\nThe filter is enabled by a new conf option,\n[scheduler]enable_isolated_aggregate_filtering.\n\nChange-Id: I9ab9d7d65378be564b3731b5227ede8cece71bef\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 18, 'created': '2019-09-08 17:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd7075939f129219d787a9787b822fcf1aa308ba', 'message': ""Add a new request filter to isolate aggregates\n\nAdded a new request filter 'isolate_aggregates' for filtering of hosts\nby isolated aggregates. This filter prepares a list of aggregates that\nshould be ignored by the placement service. It checks if aggregates has\nmetadata 'trait:<trait_name>='required' and if these traits <trait_name>\nare present in flavor extra specs or image properties of the request\notherwise all those aggregates will be included in the list of isolated\naggregates.\n\nThe filter is enabled by a new conf option,\n[scheduler]enable_isolated_aggregate_filtering.\n\nChange-Id: I9ab9d7d65378be564b3731b5227ede8cece71bef\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 19, 'created': '2019-09-09 07:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f03251cb6908dd529472d02e610056fb849014f9', 'message': ""Add a new request filter to isolate aggregates\n\nAdded a new request filter 'isolate_aggregates' for filtering of hosts\nby isolated aggregates. This filter prepares a list of aggregates that\nshould be ignored by the placement service. It checks if aggregates has\nmetadata 'trait:<trait_name>='required' and if these traits <trait_name>\nare present in flavor extra specs or image properties of the request\notherwise all those aggregates will be included in the list of isolated\naggregates.\n\nThe filter is enabled by a new conf option,\n[scheduler]enable_isolated_aggregate_filtering.\n\nChange-Id: I9ab9d7d65378be564b3731b5227ede8cece71bef\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 20, 'created': '2019-09-09 20:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb35f76b4f92fc6acadc3264004a0afb94cc9b8c', 'message': ""Add a new request filter to isolate aggregates\n\nAdded a new request filter 'isolate_aggregates' for filtering of hosts\nby isolated aggregates. This filter prepares a list of aggregates that\nshould be ignored by the placement service. It checks if aggregates has\nmetadata 'trait:<trait_name>='required' and if these traits <trait_name>\nare present in flavor extra specs or image properties of the request\notherwise all those aggregates will be included in the list of isolated\naggregates.\n\nThe filter is enabled by a new conf option,\n[scheduler]enable_isolated_aggregate_filtering.\n\nChange-Id: I9ab9d7d65378be564b3731b5227ede8cece71bef\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 21, 'created': '2019-09-12 22:01:33.000000000', 'files': ['nova/tests/unit/scheduler/test_request_filter.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/scheduler/request_filter.py', 'nova/conf/scheduler.py', 'nova/tests/functional/test_aggregates.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1db3b89caee05c84a119b99aa2aec494f90c3c36', 'message': ""Add a new request filter to isolate aggregates\n\nAdded a new request filter 'isolate_aggregates' for filtering of hosts\nby isolated aggregates. This filter prepares a list of aggregates that\nshould be ignored by the placement service. It checks if aggregates has\nmetadata 'trait:<trait_name>='required' and if these traits <trait_name>\nare present in flavor extra specs or image properties of the request\notherwise all those aggregates will be included in the list of isolated\naggregates.\n\nThe filter is enabled by a new conf option,\n[scheduler]enable_isolated_aggregate_filtering.\n\nChange-Id: I9ab9d7d65378be564b3731b5227ede8cece71bef\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}]",103,671075,1db3b89caee05c84a119b99aa2aec494f90c3c36,333,25,21,27302,,,0,"Add a new request filter to isolate aggregates

Added a new request filter 'isolate_aggregates' for filtering of hosts
by isolated aggregates. This filter prepares a list of aggregates that
should be ignored by the placement service. It checks if aggregates has
metadata 'trait:<trait_name>='required' and if these traits <trait_name>
are present in flavor extra specs or image properties of the request
otherwise all those aggregates will be included in the list of isolated
aggregates.

The filter is enabled by a new conf option,
[scheduler]enable_isolated_aggregate_filtering.

Change-Id: I9ab9d7d65378be564b3731b5227ede8cece71bef
Implements: blueprint placement-req-filter-forbidden-aggregates
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/671075/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/test_request_filter.py', 'nova/scheduler/utils.py', 'nova/scheduler/request_filter.py']",3,74b48f6f43e6ffcc49048c03cb11de71a0c6affc,bp/placement-req-filter-forbidden-aggregates,"from nova.scheduler import utilsdef forbidden_aggregates(ctxt, request_spec): """"""Prepare list of aggregates that should be forbidden. This filter will prepare the list of aggregates that should be ignored by the placement service. It checks if aggregates has metadata 'trait:<trait_name>='required' and if <trait_name> is not present in either of flavor extra specs or image properties, then those aggregates will be included in the list of forbidden aggregates. """""" flavor_extra_spec = request_spec.flavor.extra_specs image_properties = request_spec.image.properties # Get required traits set in flavor resource_req = utils.ResourceRequest.from_extra_specs(flavor_extra_spec) flavor_required_traits = resource_req.extract_required_traits() # Get required traits set in image resource_req = utils.ResourceRequest.from_image_props(image_properties) image_required_traits = resource_req.extract_required_traits() # Combine and prepare unique traits set in flavor and image image_flavor_traits = flavor_required_traits.union(image_required_traits) keys = ['trait:%s' % trait for trait in image_flavor_traits] forbidden_aggregates = ( objects.AggregateList.get_non_matching_by_metadata_keys( ctxt, keys, 'trait:', value='required')) # Set list of forbidden aggregates to destination object of request_spec if len(forbidden_aggregates) > 0: if ('requested_destination' not in request_spec or request_spec.requested_destination is None): request_spec.requested_destination = objects.Destination() destination = request_spec.requested_destination destination.set_forbidden_aggregates( set([agg.uuid for agg in forbidden_aggregates])) return True return False @trace_request_filter",,124,0
openstack%2Fwhitebox-tempest-plugin~master~I3c0b18a7630017b2b94214d254fe613ef334e5b4,openstack/whitebox-tempest-plugin,master,I3c0b18a7630017b2b94214d254fe613ef334e5b4,Test NUMA live migration,MERGED,2019-09-16 17:27:54.000000000,2019-09-16 20:13:35.000000000,2019-09-16 20:13:35.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 17:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/2906371203bf10d9ad502341bfe52d6529fa15b6', 'message': 'Test NUMA live migration\n\nAdd tests for NUMA-aware live migration.\n\nOriginal-review: https://review.rdoproject.org/r/#/c/18832/\nChange-Id: I3c0b18a7630017b2b94214d254fe613ef334e5b4\n'}, {'number': 2, 'created': '2019-09-16 19:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/28900b06787b185473e887de025fc2f2d3120787', 'message': 'Test NUMA live migration\n\nAdd tests for NUMA-aware live migration.\n\nOriginal-review: https://review.rdoproject.org/r/#/c/18832/\nChange-Id: I3c0b18a7630017b2b94214d254fe613ef334e5b4\n'}, {'number': 3, 'created': '2019-09-16 19:17:33.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/api/compute/base.py', 'whitebox_tempest_plugin/api/compute/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/127aa2b426c535ec7ed5abcdee2802a196b937df', 'message': 'Test NUMA live migration\n\nAdd tests for NUMA-aware live migration.\n\nOriginal-review: https://review.rdoproject.org/r/#/c/18832/\nChange-Id: I3c0b18a7630017b2b94214d254fe613ef334e5b4\n'}]",0,682435,127aa2b426c535ec7ed5abcdee2802a196b937df,10,2,3,8864,,,0,"Test NUMA live migration

Add tests for NUMA-aware live migration.

Original-review: https://review.rdoproject.org/r/#/c/18832/
Change-Id: I3c0b18a7630017b2b94214d254fe613ef334e5b4
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/35/682435/3 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/api/compute/base.py', 'whitebox_tempest_plugin/api/compute/test_live_migration.py']",3,2906371203bf10d9ad502341bfe52d6529fa15b6,," self.live_migrate(server_id, destination_host, 'ACTIVE')","from tempest.common import waiters @classmethod def setup_clients(cls): super(LiveMigrationTest, cls).setup_clients() cls.admin_migration_client = cls.os_admin.migrations_client def _live_migrate(self, server_id, target_host, state): self.admin_servers_client.live_migrate_server( server_id, host=target_host, block_migration='auto') waiters.wait_for_server_status(self.servers_client, server_id, state) migration_list = (self.admin_migration_client.list_migrations() ['migrations']) msg = (""Live Migration failed. Migrations list for Instance "" ""%s: ["" % server_id) for live_migration in migration_list: if (live_migration['instance_uuid'] == server_id): msg += ""\n%s"" % live_migration msg += ""]"" self.assertEqual(target_host, self.get_host_for_server(server_id), msg) self._live_migrate(server_id, destination_host, 'ACTIVE')",355,23
openstack%2Fwhitebox-tempest-plugin~master~Ie723aee7f12a10dd1766fda96f05987ba52e1397,openstack/whitebox-tempest-plugin,master,Ie723aee7f12a10dd1766fda96f05987ba52e1397,Add database client,MERGED,2019-09-16 17:27:54.000000000,2019-09-16 20:13:35.000000000,2019-09-16 20:13:35.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 17:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/d8e8e292d3390ef23bd9e6f892dbe94905bf615b', 'message': ""Add database client\n\nThe client allows us to access any of the deployment's databases. It will be\nused in the next patch to test NUMA live migration.\n\nOriginal-review: https://review.rdoproject.org/r/#/c/21505/\nChange-Id: Ie723aee7f12a10dd1766fda96f05987ba52e1397\n""}, {'number': 2, 'created': '2019-09-16 19:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/fb0876f6577c5ee78eb58ff44506a9218d2ef62f', 'message': ""Add database client\n\nThe client allows us to access any of the deployment's databases. It will be\nused in the next patch to test NUMA live migration.\n\nOriginal-review: https://review.rdoproject.org/r/#/c/21505/\nChange-Id: Ie723aee7f12a10dd1766fda96f05987ba52e1397\n""}, {'number': 3, 'created': '2019-09-16 19:17:33.000000000', 'files': ['requirements.txt', 'whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/plugin.py', 'whitebox_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/043ceaef6fcf7f1356c859f04b4652542712e356', 'message': ""Add database client\n\nThe client allows us to access any of the deployment's databases. It will be\nused in the next patch to test NUMA live migration.\n\nOriginal-review: https://review.rdoproject.org/r/#/c/21505/\nChange-Id: Ie723aee7f12a10dd1766fda96f05987ba52e1397\n""}]",0,682434,043ceaef6fcf7f1356c859f04b4652542712e356,10,2,3,8864,,,0,"Add database client

The client allows us to access any of the deployment's databases. It will be
used in the next patch to test NUMA live migration.

Original-review: https://review.rdoproject.org/r/#/c/21505/
Change-Id: Ie723aee7f12a10dd1766fda96f05987ba52e1397
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/34/682434/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/plugin.py', 'whitebox_tempest_plugin/config.py']",4,d8e8e292d3390ef23bd9e6f892dbe94905bf615b,," database_group = cfg.OptGroup( name='whitebox-database', title='Config options to access the database.') database_opts = [ cfg.StrOpt( 'host', help='Address of the database host. This is normally a controller.'), cfg.StrOpt( 'internal_ip', help='If the databse service is listening on separate internal ' 'network, this option specifies its IP on that network. It will ' 'be used to set up an SSH tunnel through the database host.'), cfg.StrOpt( 'user', help='Username to use when connecting to the database server. ' 'This should normally be the root user, as it needs to ' 'have permissions on all databases.'), cfg.StrOpt( 'password', help='The password to use when connecting to the database server.') ]",,84,2
openstack%2Fwhitebox-tempest-plugin~master~Ic37dcecb27d08f50e8d4a06701f46bc97e0bcc71,openstack/whitebox-tempest-plugin,master,Ic37dcecb27d08f50e8d4a06701f46bc97e0bcc71,Prepare for emulator threads and NUMA LM tests,MERGED,2019-09-16 17:27:54.000000000,2019-09-16 20:13:34.000000000,2019-09-16 20:13:34.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 17:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/887d5804cd77c482ce2ce43de92cb6c7cf3b77a1', 'message': ""Prepare for emulator threads and NUMA LM tests\n\n* add parse_cpu_spec()\n\n  Previously, we didn't take into account that CPU IDs and such can be\n  in the form of libvirt lists, with dashes, commas and carets. This\n  patch adds the parse_cpu_spec() method - taken straight from Nova -\n  and makes get_server_cpu_pinning() use it.\n\n* Change get_server_cpu_pinning() to accept a server_id instead of a\n  full server JSON object. This makes it clearer what needs to be\n  passed to the method.\n\n* add get_pinning_as_set()\n\n  Returns the same results as get_server_cpu_pinning(), but as a set.\n\nOriginal-review: https://review.rdoproject.org/r/#/c/21324/\nChange-Id: Ic37dcecb27d08f50e8d4a06701f46bc97e0bcc71\n""}, {'number': 2, 'created': '2019-09-16 19:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/ade088b488b154124844995b12d302d73cbe8bb6', 'message': ""Prepare for emulator threads and NUMA LM tests\n\n* add parse_cpu_spec()\n\n  Previously, we didn't take into account that CPU IDs and such can be\n  in the form of libvirt lists, with dashes, commas and carets. This\n  patch adds the parse_cpu_spec() method - taken straight from Nova -\n  and makes get_server_cpu_pinning() use it.\n\n* Change get_server_cpu_pinning() to accept a server_id instead of a\n  full server JSON object. This makes it clearer what needs to be\n  passed to the method.\n\n* add get_pinning_as_set()\n\n  Returns the same results as get_server_cpu_pinning(), but as a set.\n\nOriginal-review: https://review.rdoproject.org/r/#/c/21324/\nChange-Id: Ic37dcecb27d08f50e8d4a06701f46bc97e0bcc71\n""}, {'number': 3, 'created': '2019-09-16 19:17:33.000000000', 'files': ['whitebox_tempest_plugin/exceptions.py', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/b11da2eb7732bdbd1fc7cfe5939d739002a128ad', 'message': ""Prepare for emulator threads and NUMA LM tests\n\n* add parse_cpu_spec()\n\n  Previously, we didn't take into account that CPU IDs and such can be\n  in the form of libvirt lists, with dashes, commas and carets. This\n  patch adds the parse_cpu_spec() method - taken straight from Nova -\n  and makes get_server_cpu_pinning() use it.\n\n* Change get_server_cpu_pinning() to accept a server_id instead of a\n  full server JSON object. This makes it clearer what needs to be\n  passed to the method.\n\n* add get_pinning_as_set()\n\n  Returns the same results as get_server_cpu_pinning(), but as a set.\n\nOriginal-review: https://review.rdoproject.org/r/#/c/21324/\nChange-Id: Ic37dcecb27d08f50e8d4a06701f46bc97e0bcc71\n""}]",0,682433,b11da2eb7732bdbd1fc7cfe5939d739002a128ad,10,2,3,8864,,,0,"Prepare for emulator threads and NUMA LM tests

* add parse_cpu_spec()

  Previously, we didn't take into account that CPU IDs and such can be
  in the form of libvirt lists, with dashes, commas and carets. This
  patch adds the parse_cpu_spec() method - taken straight from Nova -
  and makes get_server_cpu_pinning() use it.

* Change get_server_cpu_pinning() to accept a server_id instead of a
  full server JSON object. This makes it clearer what needs to be
  passed to the method.

* add get_pinning_as_set()

  Returns the same results as get_server_cpu_pinning(), but as a set.

Original-review: https://review.rdoproject.org/r/#/c/21324/
Change-Id: Ic37dcecb27d08f50e8d4a06701f46bc97e0bcc71
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/33/682433/3 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/exceptions.py', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py']",2,887d5804cd77c482ce2ce43de92cb6c7cf3b77a1,,"def parse_cpu_spec(spec): """"""Parse a CPU set specification. NOTE(artom): This has been lifted from Nova with minor exceptions-related adjustments. Each element in the list is either a single CPU number, a range of CPU numbers, or a caret followed by a CPU number to be excluded from a previous range. :param spec: cpu set string eg ""1-4,^3,6"" :returns: a set of CPU indexes """""" cpuset_ids = set() cpuset_reject_ids = set() for rule in spec.split(','): rule = rule.strip() # Handle multi ',' if len(rule) < 1: continue # Note the count limit in the .split() call range_parts = rule.split('-', 1) if len(range_parts) > 1: reject = False if range_parts[0] and range_parts[0][0] == '^': reject = True range_parts[0] = str(range_parts[0][1:]) # So, this was a range; start by converting the parts to ints try: start, end = [int(p.strip()) for p in range_parts] except ValueError: raise exceptions.InvalidCPUSpec(spec=spec) # Make sure it's a valid range if start > end: raise exceptions.InvalidCPUSpec(spec=spec) # Add available CPU ids to set if not reject: cpuset_ids |= set(range(start, end + 1)) else: cpuset_reject_ids |= set(range(start, end + 1)) elif rule[0] == '^': # Not a range, the rule is an exclusion rule; convert to int try: cpuset_reject_ids.add(int(rule[1:].strip())) except ValueError: raise exceptions.InvalidCPUSpec(spec=spec) else: # OK, a single CPU to include; convert to int try: cpuset_ids.add(int(rule)) except ValueError: raise exceptions.InvalidCPUSpec(spec=spec) # Use sets to handle the exclusion rules for us cpuset_ids -= cpuset_reject_ids return cpuset_ids def get_server_cpu_pinning(self, server_id): """"""Get the host CPU numbers to which the server's vCPUs are pinned. :param server_id: The instance UUID to look up. :return cpu_pins: A dict of vCPU number -> set(host CPU numbers said vCPU is pinned to) """""" root = self.get_server_xml(server_id) vcpupins = root.findall('./cputune/vcpupin') cpu_pins = {} for pin in vcpupins: cpu_pins[int(pin.get('vcpu'))] = parse_cpu_spec(pin.get('cpuset')) return cpu_pins def get_pinning_as_set(self, server_id): pinset = set() for vcpu, pins in self.get_server_cpu_pinning(server_id).items(): pinset |= pins return pinset cpu_pinnings_a = self.get_server_cpu_pinning(server_a['id']) cpu_pinnings_b = self.get_server_cpu_pinning(server_b['id']) cpu_pinnings = self.get_server_cpu_pinning(server['id']) cpu_pinnings = self.get_server_cpu_pinning(server['id']) cpu_pinnings = self.get_server_cpu_pinning(server['id']) cpu_pinnings = self.get_server_cpu_pinning(server['id']) cpu_pinnings = self.get_server_cpu_pinning(server['id']) cpu_pinnings = self.get_server_cpu_pinning(server['id']) cpu_pinnings = self.get_server_cpu_pinning(server['id']) cpu_pinnings = self.get_server_cpu_pinning(server['id']) cpu_pinnings = self.get_server_cpu_pinning(server['id'])"," def get_server_cpu_pinning(self, server): root = self.get_server_xml(server['id']) vcpupin_nodes = root.findall('./cputune/vcpupin') cpu_pinnings = {int(x.get('vcpu')): int(x.get('cpuset')) for x in vcpupin_nodes if x is not None} return cpu_pinnings cpu_pinnings_a = self.get_server_cpu_pinning(server_a) cpu_pinnings_b = self.get_server_cpu_pinning(server_b) cpu_pinnings = self.get_server_cpu_pinning(server) cpu_pinnings = self.get_server_cpu_pinning(server) cpu_pinnings = self.get_server_cpu_pinning(server) cpu_pinnings = self.get_server_cpu_pinning(server) cpu_pinnings = self.get_server_cpu_pinning(server) cpu_pinnings = self.get_server_cpu_pinning(server) cpu_pinnings = self.get_server_cpu_pinning(server) cpu_pinnings = self.get_server_cpu_pinning(server) cpu_pinnings = self.get_server_cpu_pinning(server)",95,17
openstack%2Fwhitebox-tempest-plugin~master~Ie4fb414d62d0f7762b330c0f6c1bbedb7de949b1,openstack/whitebox-tempest-plugin,master,Ie4fb414d62d0f7762b330c0f6c1bbedb7de949b1,Unify create_flavor(),MERGED,2019-09-16 17:27:54.000000000,2019-09-16 20:13:33.000000000,2019-09-16 20:13:33.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 17:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/a33a0b45266244cb96ce87f5796a8ff6d0eb9ab8', 'message': 'Unify create_flavor()\n\nWe have many methods that create a flavor in one way or another. Unify all of\nthem into a single create_flavor() in the base class.\n\nOriginal-review: https://review.rdoproject.org/r/#/c/18831/\nChange-Id: Ie4fb414d62d0f7762b330c0f6c1bbedb7de949b1\n'}, {'number': 2, 'created': '2019-09-16 19:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/670a7dd01cd86b5e0d9f23f00e602bcb56fa5032', 'message': 'Unify create_flavor()\n\nWe have many methods that create a flavor in one way or another. Unify all of\nthem into a single create_flavor() in the base class.\n\nOriginal-review: https://review.rdoproject.org/r/#/c/18831/\nChange-Id: Ie4fb414d62d0f7762b330c0f6c1bbedb7de949b1\n'}, {'number': 3, 'created': '2019-09-16 19:17:33.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_multiqueue.py', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/api/compute/base.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/07c39615ae3e97507b26fb6b75f62282a1c534ce', 'message': 'Unify create_flavor()\n\nWe have many methods that create a flavor in one way or another. Unify all of\nthem into a single create_flavor() in the base class.\n\nOriginal-review: https://review.rdoproject.org/r/#/c/18831/\nChange-Id: Ie4fb414d62d0f7762b330c0f6c1bbedb7de949b1\n'}]",0,682432,07c39615ae3e97507b26fb6b75f62282a1c534ce,10,2,3,8864,,,0,"Unify create_flavor()

We have many methods that create a flavor in one way or another. Unify all of
them into a single create_flavor() in the base class.

Original-review: https://review.rdoproject.org/r/#/c/18831/
Change-Id: Ie4fb414d62d0f7762b330c0f6c1bbedb7de949b1
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/32/682432/1 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/api/compute/test_multiqueue.py', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/api/compute/base.py']",3,a33a0b45266244cb96ce87f5796a8ff6d0eb9ab8,," is_public='True', extra_specs=None, **kwargs): flavor = super(BaseWhiteboxComputeTest, self).create_flavor( if extra_specs: self.flavors_client.set_flavor_extra_spec(flavor['id'], **extra_specs) return flavor"," is_public='True', **kwargs): # override the function to configure sane defaults return super(BaseWhiteboxComputeTest, self).create_flavor(",25,34
openstack%2Fwhitebox-tempest-plugin~master~I8028fd6d50ad479b220e17505af92ee4b8bdd711,openstack/whitebox-tempest-plugin,master,I8028fd6d50ad479b220e17505af92ee4b8bdd711,Add get_all_hypervisors(),MERGED,2019-09-16 17:27:54.000000000,2019-09-16 20:13:33.000000000,2019-09-16 20:13:33.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 17:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/01dfa20c84647d75e9668cae3c54f3855fb9f31c', 'message': 'Add get_all_hypervisors()\n\nReturn all the hypervisors in the deployment.\n\nOriginal-review: https://review.rdoproject.org/r/#/c/18783/\nChange-Id: I8028fd6d50ad479b220e17505af92ee4b8bdd711\n'}, {'number': 2, 'created': '2019-09-16 19:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/73baa0d097c563411f471cc847daf8c3b6b0a832', 'message': 'Add get_all_hypervisors()\n\nReturn all the hypervisors in the deployment.\n\nOriginal-review: https://review.rdoproject.org/r/#/c/18783/\nChange-Id: I8028fd6d50ad479b220e17505af92ee4b8bdd711\n'}, {'number': 3, 'created': '2019-09-16 19:17:33.000000000', 'files': ['whitebox_tempest_plugin/tests/test_base.py', 'whitebox_tempest_plugin/api/compute/base.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/efd8235be933a2352158ac421720dc0848608dcd', 'message': 'Add get_all_hypervisors()\n\nReturn all the hypervisors in the deployment.\n\nOriginal-review: https://review.rdoproject.org/r/#/c/18783/\nChange-Id: I8028fd6d50ad479b220e17505af92ee4b8bdd711\n'}]",0,682431,efd8235be933a2352158ac421720dc0848608dcd,10,2,3,8864,,,0,"Add get_all_hypervisors()

Return all the hypervisors in the deployment.

Original-review: https://review.rdoproject.org/r/#/c/18783/
Change-Id: I8028fd6d50ad479b220e17505af92ee4b8bdd711
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/31/682431/1 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/tests/test_base.py', 'whitebox_tempest_plugin/api/compute/base.py']",2,01dfa20c84647d75e9668cae3c54f3855fb9f31c,," def get_all_hypervisors(self): """"""Returns a list of all hypervisor IPs in the deployment. Assumes all are up and running. """""" return CONF.whitebox.hypervisors.values() ",,12,1
openstack%2Fwhitebox-tempest-plugin~master~I38c847d938b3b83c0058f9d0033cfda9f98061bc,openstack/whitebox-tempest-plugin,master,I38c847d938b3b83c0058f9d0033cfda9f98061bc,Add ServiceManager,MERGED,2019-09-16 17:27:54.000000000,2019-09-16 20:13:14.000000000,2019-09-16 20:13:14.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 17:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/ab43e3e421a465561892e7a29dfb40b9b7a71665', 'message': ""Add ServiceManager\n\nTransform the ConfigClient into the ServiceManager. The ServiceManager\ncan modify a service's configuration and restart it. It can support\nany service, as long as it's been added to the whitebox configuration.\nThis is done by having 'whitebox-<service-name>' sections in the\nconfigration file. In addition, start using the crudini command\ninstead of ConfigParser. The latter isn't super easy to use in a\nconsistent way across Python versions.\n\nOriginal-review: https://review.rdoproject.org/r/#/c/18755/\nChange-Id: I38c847d938b3b83c0058f9d0033cfda9f98061bc\n""}, {'number': 2, 'created': '2019-09-16 19:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/8ae8a3aa9a026264697a5ce5b2abcecb401a3de0', 'message': ""Add ServiceManager\n\nTransform the ConfigClient into the ServiceManager. The ServiceManager\ncan modify a service's configuration and restart it. It can support\nany service, as long as it's been added to the whitebox configuration.\nThis is done by having 'whitebox-<service-name>' sections in the\nconfigration file. In addition, start using the crudini command\ninstead of ConfigParser. The latter isn't super easy to use in a\nconsistent way across Python versions.\n\nOriginal-review: https://review.rdoproject.org/r/#/c/18755/\nChange-Id: I38c847d938b3b83c0058f9d0033cfda9f98061bc\n""}, {'number': 3, 'created': '2019-09-16 19:17:33.000000000', 'files': ['whitebox_tempest_plugin/exceptions.py', 'whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/plugin.py', 'whitebox_tempest_plugin/config.py', 'whitebox_tempest_plugin/tests/test_clients.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/38bcca47ff13080b8932e403c9ece06c439ae230', 'message': ""Add ServiceManager\n\nTransform the ConfigClient into the ServiceManager. The ServiceManager\ncan modify a service's configuration and restart it. It can support\nany service, as long as it's been added to the whitebox configuration.\nThis is done by having 'whitebox-<service-name>' sections in the\nconfigration file. In addition, start using the crudini command\ninstead of ConfigParser. The latter isn't super easy to use in a\nconsistent way across Python versions.\n\nOriginal-review: https://review.rdoproject.org/r/#/c/18755/\nChange-Id: I38c847d938b3b83c0058f9d0033cfda9f98061bc\n""}]",0,682430,38bcca47ff13080b8932e403c9ece06c439ae230,12,2,3,8864,,,0,"Add ServiceManager

Transform the ConfigClient into the ServiceManager. The ServiceManager
can modify a service's configuration and restart it. It can support
any service, as long as it's been added to the whitebox configuration.
This is done by having 'whitebox-<service-name>' sections in the
configration file. In addition, start using the crudini command
instead of ConfigParser. The latter isn't super easy to use in a
consistent way across Python versions.

Original-review: https://review.rdoproject.org/r/#/c/18755/
Change-Id: I38c847d938b3b83c0058f9d0033cfda9f98061bc
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/30/682430/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'whitebox_tempest_plugin/exceptions.py', 'whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/plugin.py', 'whitebox_tempest_plugin/config.py', 'whitebox_tempest_plugin/tests/test_clients.py']",6,ab43e3e421a465561892e7a29dfb40b9b7a71665,,"import tempfilefrom oslo_concurrency import processutils from tempest.lib import exceptions as tempest_libexc from whitebox_tempest_plugin import exceptionsclass ServiceManagerTestCase(base.WhiteboxPluginTestCase): def test_supported_services(self): """"""As more services becomes supported, add them here to make sure their config_path has been properly added to CONF. """""" clients.ServiceManager('fake-host', 'nova-compute') def test_missing_service(self): self.assertRaises( exceptions.MissingServiceSectionException, clients.ServiceManager, 'fake-host', 'missing-service') def test_crudini(self): """"""This attempts a full end-to-end test by actually executing crudini against a real file were possible, and by faking its output where not possible. Because SSHClient needs a real host to SSH to, we stub out its execute() method with 3 different variants. """""" def local_exec(command, **kwargs): """"""Execute the command locally instead of remotely"""""" out, err = processutils.execute(*command.split()) return out def fake_exec_not_found(command, **kwargs): """"""Don't execute anything and immitate what would happen if crudini was executed on a remote host with an option or section that doesn't exist in the INI file. """""" raise tempest_libexc.SSHExecCommandFailed( command=command, exit_status=1, stderr='not found', stdout='') def fake_exec_other_failure(command, **kwargs): """"""Don't execute anything and immitate what would happen if crudini was executed on a remote host with some other failure, for example an inexesting INI file. """""" raise tempest_libexc.SSHExecCommandFailed( command=command, exit_status=1, stderr='No such file or directory', stdout='') with tempfile.NamedTemporaryFile(mode='r+') as f: f.write(textwrap.dedent("""""" [section] option = value"""""")) f.flush() self.flags(config_path=f.name, group='whitebox-nova-compute') service = clients.ServiceManager('fake-host', 'nova-compute') service.execute = local_exec # Test the config_option context manager with mock.patch.object(service, 'restart') as mock_restart: with service.config_option('section', 'option', 'new-value'): self.assertEqual('new-value', service.get_conf_opt('section', 'option')) self.assertEqual(2, mock_restart.call_count) self.assertEqual('value', service.get_conf_opt('section', 'option')) # Test setting an option then getting it service.set_conf_opt('section', 'foo', 'bar') self.assertEqual('bar', service.get_conf_opt('section', 'foo')) # Test deleting an option by setting it to None service.set_conf_opt('section', 'option', None) self.assertNotIn('option', f.read()) # Test deleting an option service.execute = fake_exec_not_found self.assertIsNone(service.get_conf_opt('section', 'option')) # Test handling other failures service.execute = fake_exec_other_failure self.assertRaises(tempest_libexc.SSHExecCommandFailed, service.get_conf_opt, 'section', 'foo') def test_restart(self): self.flags(restart_command='fake restart command', group='whitebox-nova-compute') service = clients.ServiceManager('fake-host', 'nova-compute') with mock.patch.object(service, 'execute') as mock_exec: service.restart() mock_exec.assert_called_with('fake restart command', sudo=True)","class ConfigClientTestCase(base.WhiteboxPluginTestCase): def test_getopt(self): config_client = clients.NovaConfigClient('fake-host') fake_config = textwrap.dedent("""""" [default] fake-key = fake-value"""""").strip() with mock.patch.object(config_client, '_read_nova_conf', return_value=fake_config): self.assertEqual(config_client.getopt('default', 'fake-key'), 'fake-value')",187,27
openstack%2Fwhitebox-tempest-plugin~master~I6d3391e9a9bafa3f2294944a306d8dc9bd12f283,openstack/whitebox-tempest-plugin,master,I6d3391e9a9bafa3f2294944a306d8dc9bd12f283,Workaround crudini and iniparse unreleased py3 support,MERGED,2019-09-16 19:16:10.000000000,2019-09-16 19:59:53.000000000,2019-09-16 19:59:52.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 19:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/8e779ba52d241f3fd00565d2921db21142972265', 'message': 'Workaround crudini and iniparse unreleased py3 support\n\nInstall crudini and iniprase from GitHub to work around their\npy3-supporting versions not being on PyPi. [1] and [2] for more\ndetails.\n\n[1] https://github.com/pixelb/crudini/issues/58\n[2] https://github.com/candlepin/python-iniparse/issues/5\n\nChange-Id: I6d3391e9a9bafa3f2294944a306d8dc9bd12f283\n'}, {'number': 2, 'created': '2019-09-16 19:17:33.000000000', 'files': ['requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/3ef1dded7d18eeec48e75c715df73da09237c965', 'message': 'Workaround crudini and iniparse unreleased py3 support\n\nInstall crudini and iniprase from GitHub to work around their\npy3-supporting versions not being on PyPi. [1] and [2] for more\ndetails.\n\n[1] https://github.com/pixelb/crudini/issues/58\n[2] https://github.com/candlepin/python-iniparse/issues/5\n\nChange-Id: I6d3391e9a9bafa3f2294944a306d8dc9bd12f283\n'}]",0,682465,3ef1dded7d18eeec48e75c715df73da09237c965,7,2,2,8864,,,0,"Workaround crudini and iniparse unreleased py3 support

Install crudini and iniprase from GitHub to work around their
py3-supporting versions not being on PyPi. [1] and [2] for more
details.

[1] https://github.com/pixelb/crudini/issues/58
[2] https://github.com/candlepin/python-iniparse/issues/5

Change-Id: I6d3391e9a9bafa3f2294944a306d8dc9bd12f283
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/65/682465/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tox.ini']",2,8e779ba52d241f3fd00565d2921db21142972265,,"# Until https://github.com/pixelb/crudini/issues/58 and # https://github.com/candlepin/python-iniparse/issues/5 are on PyPi, install # from GitHub. git+https://github.com/pixelb/crudini.git#egg=crudini git+https://github.com/candlepin/python-iniparse.git#egg=iniparse",,6,1
openstack%2Fneutron~master~Ie96ff80f1c296c40ec2cd82c8d917a8bb262b12e,openstack/neutron,master,Ie96ff80f1c296c40ec2cd82c8d917a8bb262b12e,Add l3 conntrack helper to devstack plugin,MERGED,2019-07-15 13:49:01.000000000,2019-09-16 19:53:24.000000000,2019-09-16 19:51:00.000000000,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-07-15 13:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1afba3074983e80e84624d9eafaca4ab2993e4fc', 'message': 'Add l3 conntrack helper to devstack plugin\n\nThis commit adds possibility to configure L3 conntrack_helper\nservice plugin and l3 extension with devstack plugin.\n\nRelated-Bug: #1823633\nChange-Id: Ie96ff80f1c296c40ec2cd82c8d917a8bb262b12e\n'}, {'number': 2, 'created': '2019-07-17 08:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b15772650df9794856d9a5c13296b3ac6e1edcee', 'message': 'Add l3 conntrack helper to devstack plugin\n\nThis commit adds possibility to configure L3 conntrack_helper\nservice plugin and l3 extension with devstack plugin.\n\nRelated-Bug: #1823633\nChange-Id: Ie96ff80f1c296c40ec2cd82c8d917a8bb262b12e\n'}, {'number': 3, 'created': '2019-07-17 14:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0219a22cbf671771299056d9ea974c432355a7eb', 'message': 'Add l3 conntrack helper to devstack plugin\n\nThis commit adds possibility to configure L3 conntrack_helper\nservice plugin and l3 extension with devstack plugin.\n\nRelated-Bug: #1823633\nChange-Id: Ie96ff80f1c296c40ec2cd82c8d917a8bb262b12e\n'}, {'number': 4, 'created': '2019-08-01 15:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4410202a2aab5d9da9e32d392b69c2fe6c418cca', 'message': 'Add l3 conntrack helper to devstack plugin\n\nThis commit adds possibility to configure L3 conntrack_helper\nservice plugin and l3 extension with devstack plugin.\n\nRelated-Bug: #1823633\nChange-Id: Ie96ff80f1c296c40ec2cd82c8d917a8bb262b12e\n'}, {'number': 5, 'created': '2019-08-29 08:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f0baa6f8ed1a2e5673241c49b1f451a0f5d8999', 'message': 'Add l3 conntrack helper to devstack plugin\n\nThis commit adds possibility to configure L3 conntrack_helper\nservice plugin and l3 extension with devstack plugin.\n\nRelated-Bug: #1823633\nChange-Id: Ie96ff80f1c296c40ec2cd82c8d917a8bb262b12e\n'}, {'number': 6, 'created': '2019-09-16 12:23:35.000000000', 'files': ['devstack/lib/l3_conntrack_helper', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6c99bf195200422d6db4e8307f5a2e61c2242dc1', 'message': 'Add l3 conntrack helper to devstack plugin\n\nThis commit adds possibility to configure L3 conntrack_helper\nservice plugin and l3 extension with devstack plugin.\n\nRelated-Bug: #1823633\nChange-Id: Ie96ff80f1c296c40ec2cd82c8d917a8bb262b12e\n'}]",0,670837,6c99bf195200422d6db4e8307f5a2e61c2242dc1,40,9,6,24245,,,0,"Add l3 conntrack helper to devstack plugin

This commit adds possibility to configure L3 conntrack_helper
service plugin and l3 extension with devstack plugin.

Related-Bug: #1823633
Change-Id: Ie96ff80f1c296c40ec2cd82c8d917a8bb262b12e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/670837/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/l3_conntrack_helper', 'devstack/plugin.sh']",2,1afba3074983e80e84624d9eafaca4ab2993e4fc,l3-conntrack-helper,source $LIBDIR/l3_conntrack_helper if is_service_enabled q-conntrack-helper neutron-conntrack-helper; then configure_l3_conntrack_helper fi,,8,0
openstack%2Fneutron~stable%2Fstein~Ifdeac05b485a079e2288b413829bce0e39aef6fd,openstack/neutron,stable/stein,Ifdeac05b485a079e2288b413829bce0e39aef6fd,Check the namespace is ready in test_mtu_update tests,MERGED,2019-09-13 09:35:01.000000000,2019-09-16 19:52:26.000000000,2019-09-16 19:50:57.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-13 09:35:01.000000000', 'files': ['neutron/tests/fullstack/test_dhcp_agent.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/tests/fullstack/base.py', 'neutron/agent/linux/ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py', 'neutron/tests/fullstack/test_l3_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f3c7e14ccfcc75ce3eae30a1db564f74a61e3e2', 'message': 'Check the namespace is ready in test_mtu_update tests\n\nChange-Id: Ifdeac05b485a079e2288b413829bce0e39aef6fd\nCloses-Bug: #1820865\n(cherry picked from commit 434b29a2cb131d38ed151e6a1d7f1ab756408198)\n'}]",0,682005,9f3c7e14ccfcc75ce3eae30a1db564f74a61e3e2,13,6,1,11975,,,0,"Check the namespace is ready in test_mtu_update tests

Change-Id: Ifdeac05b485a079e2288b413829bce0e39aef6fd
Closes-Bug: #1820865
(cherry picked from commit 434b29a2cb131d38ed151e6a1d7f1ab756408198)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/682005/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/fullstack/test_dhcp_agent.py', 'neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/tests/fullstack/base.py', 'neutron/agent/linux/ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py', 'neutron/tests/fullstack/test_l3_agent.py']",6,9f3c7e14ccfcc75ce3eae30a1db564f74a61e3e2,bug/1820865-stable/stein, self.assert_namespace_exists(namespace) self.assert_namespace_exists(namespace)," def _assert_namespace_exists(self, ns_name): common_utils.wait_until_true( lambda: ip_lib.network_namespace_exists(ns_name)) self._assert_namespace_exists(namespace) self._assert_namespace_exists(namespace)",61,10
openstack%2Fkayobe~master~I8efee18cf28344a6af44acbe1ca1d4470f7258fe,openstack/kayobe,master,I8efee18cf28344a6af44acbe1ca1d4470f7258fe,Fix after x/kayobe rename,MERGED,2019-09-16 14:26:54.000000000,2019-09-16 19:17:31.000000000,2019-09-16 19:14:31.000000000,"[{'_account_id': 6547}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 14:26:54.000000000', 'files': ['.gitreview', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/aea7117764ee3ced0ccb7477c5c962569fa1c926', 'message': 'Fix after x/kayobe rename\n\nUpdate .git review and zuul configuration.\n\nChange-Id: I8efee18cf28344a6af44acbe1ca1d4470f7258fe\n'}]",0,682371,aea7117764ee3ced0ccb7477c5c962569fa1c926,8,3,1,6547,,,0,"Fix after x/kayobe rename

Update .git review and zuul configuration.

Change-Id: I8efee18cf28344a6af44acbe1ca1d4470f7258fe
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/71/682371/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'zuul.d/jobs.yaml']",2,aea7117764ee3ced0ccb7477c5c962569fa1c926,fix-rename," - name: openstack/kayobe - name: openstack/kayobe-config-dev kayobe_src_dir: ""{{ ansible_env.PWD ~ '/' ~ zuul.projects['opendev.org/openstack/kayobe'].src_dir }}"" kayobe_config_src_dir: ""{{ ansible_env.PWD ~ '/' ~ zuul.projects['opendev.org/openstack/kayobe-config-dev'].src_dir }}"""," - name: x/kayobe - name: x/kayobe-config-dev kayobe_src_dir: ""{{ ansible_env.PWD ~ '/' ~ zuul.projects['opendev.org/x/kayobe'].src_dir }}"" kayobe_config_src_dir: ""{{ ansible_env.PWD ~ '/' ~ zuul.projects['opendev.org/x/kayobe-config-dev'].src_dir }}""",5,5
openstack%2Fironic~stable%2Fstein~I33e51f064daa0a0d70dd87e163d401c0e7b922bc,openstack/ironic,stable/stein,I33e51f064daa0a0d70dd87e163d401c0e7b922bc,Fix typo in handling of exception FailedToGetIPAddressOnPort,MERGED,2019-09-16 08:19:09.000000000,2019-09-16 18:52:17.000000000,2019-09-16 13:12:55.000000000,"[{'_account_id': 10239}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30911}]","[{'number': 1, 'created': '2019-09-16 08:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cacf1ff901ccfb0afa196e3e084749a800ab0de6', 'message': 'Fix typo in handling of exception FailedToGetIPAddressOnPort\n\nFunction create_pxe_config in ironic/common/pxe_utils.py tried to\nhandle exception FailedToGetIPaddressesOnPort. However, the raised\nexception is called FailedToGetIPAddressOnPort.\n\nChange-Id: I33e51f064daa0a0d70dd87e163d401c0e7b922bc\nStory: 2006478\nTask: 36419\n'}, {'number': 2, 'created': '2019-09-16 08:29:23.000000000', 'files': ['ironic/common/pxe_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/18a45e8b4902aa9c9d1c60b62c56ec5708d7e320', 'message': 'Fix typo in handling of exception FailedToGetIPAddressOnPort\n\nFunction create_pxe_config in ironic/common/pxe_utils.py tried to\nhandle exception FailedToGetIPaddressesOnPort. However, the raised\nexception is called FailedToGetIPAddressOnPort.\n\nChange-Id: I33e51f064daa0a0d70dd87e163d401c0e7b922bc\nStory: 2006478\nTask: 36419\n(cherry picked from commit 22db498ea1d02119d7662f566e299d04a09e9ae5)\n'}]",0,682293,18a45e8b4902aa9c9d1c60b62c56ec5708d7e320,12,4,2,23851,,,0,"Fix typo in handling of exception FailedToGetIPAddressOnPort

Function create_pxe_config in ironic/common/pxe_utils.py tried to
handle exception FailedToGetIPaddressesOnPort. However, the raised
exception is called FailedToGetIPAddressOnPort.

Change-Id: I33e51f064daa0a0d70dd87e163d401c0e7b922bc
Story: 2006478
Task: 36419
(cherry picked from commit 22db498ea1d02119d7662f566e299d04a09e9ae5)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/93/682293/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/common/pxe_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py']",2,cacf1ff901ccfb0afa196e3e084749a800ab0de6,bug/2006478," self.config(dhcp_provider='none', group='dhcp') link_ip_configs_mock.side_effect = \ exception.FailedToGetIPAddressOnPort(port_id='blah')", link_ip_configs_mock.side_efect = exception.FailedToGetIPAddressOnPort( port_id='blah'),4,3
openstack%2Fpuppet-tripleo~master~Iad5d55d0679c1cbb5bac3c9f737eef89cfc86f39,openstack/puppet-tripleo,master,Iad5d55d0679c1cbb5bac3c9f737eef89cfc86f39,Imporve unit test coverage for cinder manifects,MERGED,2019-09-11 10:33:15.000000000,2019-09-16 18:46:48.000000000,2019-09-16 18:46:47.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-11 10:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2333eecdcb026e86bc628740c82c9e939d1e5ae9', 'message': 'Imporve unit test coverage for cinder manifects\n\nAdd some missing tests to assert module import to improve test\ncoverage for cinder manifests.\n\nChange-Id: Iad5d55d0679c1cbb5bac3c9f737eef89cfc86f39\n'}, {'number': 2, 'created': '2019-09-11 10:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c1d2030ef0acc8ad047efc92698c231ec87752be', 'message': 'Imporve unit test coverage for cinder manifects\n\nAdd some missing tests to assert module import to improve test\ncoverage for cinder manifests.\n\nChange-Id: Iad5d55d0679c1cbb5bac3c9f737eef89cfc86f39\n'}, {'number': 3, 'created': '2019-09-11 12:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/febed08e925d4b94f86d916f05c4741d26fe3187', 'message': 'Imporve unit test coverage for cinder manifects\n\nAdd some missing tests to assert module import to improve test\ncoverage for cinder manifests.\n\nChange-Id: Iad5d55d0679c1cbb5bac3c9f737eef89cfc86f39\n'}, {'number': 4, 'created': '2019-09-11 14:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2307969527d526915424d2037e820e36166b70d4', 'message': 'Imporve unit test coverage for cinder manifects\n\nAdd some missing tests to assert module import to improve test\ncoverage for cinder manifests.\n\nChange-Id: Iad5d55d0679c1cbb5bac3c9f737eef89cfc86f39\n'}, {'number': 5, 'created': '2019-09-11 14:39:35.000000000', 'files': ['spec/classes/tripleo_profile_base_cinder_api_spec.rb', 'spec/classes/tripleo_profile_base_cinder_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/44cedb08a789841aca99fe95608b53e6a1a82045', 'message': 'Imporve unit test coverage for cinder manifects\n\nAdd some missing tests to assert module import to improve test\ncoverage for cinder manifests.\n\nChange-Id: Iad5d55d0679c1cbb5bac3c9f737eef89cfc86f39\n'}]",0,681435,44cedb08a789841aca99fe95608b53e6a1a82045,18,7,5,9816,,,0,"Imporve unit test coverage for cinder manifects

Add some missing tests to assert module import to improve test
coverage for cinder manifests.

Change-Id: Iad5d55d0679c1cbb5bac3c9f737eef89cfc86f39
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/35/681435/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_cinder_api_spec.rb', 'spec/classes/tripleo_profile_base_cinder_spec.rb']",2,2333eecdcb026e86bc628740c82c9e939d1e5ae9,cinder-ut," is_expected.to_not contain_class('cinder::loging') is_expected.to_not contain_class('cinder::keystone::service_user') :step => 3, :bootstrap_node => 'node.example.com', :oslomsg_rpc_hosts => [ '192.168.0.1' ], :oslomsg_rpc_username => 'cinder1', :oslomsg_rpc_password => 'foo', :oslomsg_rpc_port => '1234', :oslomsg_notify_hosts => [ '192.168.0.2' ], :oslomsg_notify_username => 'cinder2', :oslomsg_notify_password => 'baa', :oslomsg_rpc_port => '5678' :default_transport_url => 'rabbit://cinder1:foo@192.168.0.1:1234/?ssl=0' :notfication_transport_url => 'rabbit://cinder2:baa@192.168.0.2:5678/?ssl=0' is_expected.to contain_class('cinder::loging') is_expected.to contain_class('cinder::keystone::service_user') is_expected.to_not contain_class('cinder::loging') is_expected.to_not contain_class('cinder::keystone::service_user') is_expected.to contain_class('cinder::loging') is_expected.to contain_class('cinder::keystone::service_user') is_expected.to contain_class('cinder::loging') is_expected.to contain_class('cinder::keystone::service_user') is_expected.to contain_class('cinder::loging') is_expected.to contain_class('cinder::keystone::service_user')"," :step => 3, :bootstrap_node => 'node.example.com', :oslomsg_rpc_hosts => [ '127.0.0.1' ], :oslomsg_rpc_username => 'cinder', :oslomsg_rpc_password => 'foo', :oslomsg_rpc_port => '1234' :default_transport_url => 'rabbit://cinder:foo@127.0.0.1:1234/?ssl=0'",42,7
openstack%2Fpuppet-tripleo~master~I4ff1d0856158c206996548bacd4616cb9abc4ef5,openstack/puppet-tripleo,master,I4ff1d0856158c206996548bacd4616cb9abc4ef5,Improve unit test coverage for neutron manifests,MERGED,2019-09-11 11:51:33.000000000,2019-09-16 18:46:47.000000000,2019-09-16 18:46:46.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-09-11 11:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/45115cd2a7be981ed4d372256984a84f62a431aa', 'message': 'Improve unit test coverage for neutron manifests\n\nAdd some missing tests for module import or step switching\nto have better test coverage.\n\nChange-Id: I4ff1d0856158c206996548bacd4616cb9abc4ef5\n'}, {'number': 2, 'created': '2019-09-11 11:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8ad995f295fbb36da4b92d0f33ef4343c8cf3c80', 'message': 'Improve unit test coverage for neutron manifests\n\nAdd some missing tests for module import or step switching\nto have better test coverage.\nAlso, add tests for tripleo::profile::base::neutron:server,\nwhich is not tested by serverspec currently.\n\nChange-Id: I4ff1d0856158c206996548bacd4616cb9abc4ef5\n'}, {'number': 3, 'created': '2019-09-11 12:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4726f1d8629c64bef5dc3b83779aad50484ee585', 'message': 'Improve unit test coverage for neutron manifests\n\nAdd some missing tests for module import or step switching\nto have better test coverage.\nAlso, add tests for tripleo::profile::base::neutron:server,\nwhich is not tested by serverspec currently.\n\nChange-Id: I4ff1d0856158c206996548bacd4616cb9abc4ef5\n'}, {'number': 4, 'created': '2019-09-11 14:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/74e83d430107838c5fbcffff0eb27f0099cbdf9f', 'message': 'Improve unit test coverage for neutron manifests\n\nAdd some missing tests for module import or step switching\nto have better test coverage.\nAlso, add tests for tripleo::profile::base::neutron:server,\nwhich is not tested by serverspec currently.\n\nChange-Id: I4ff1d0856158c206996548bacd4616cb9abc4ef5\n'}, {'number': 5, 'created': '2019-09-11 14:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d85fb412389183710d4b7ea90ef36555080b4e52', 'message': 'Improve unit test coverage for neutron manifests\n\nAdd some missing tests for module import or step switching\nto have better test coverage.\nAlso, add tests for tripleo::profile::base::neutron:server,\nwhich is not tested by serverspec currently.\n\nChange-Id: I4ff1d0856158c206996548bacd4616cb9abc4ef5\n'}, {'number': 6, 'created': '2019-09-11 15:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9ccfc53066468cad5c68dace1a2ff306c067f602', 'message': 'Improve unit test coverage for neutron manifests\n\nAdd some missing tests for module import or step switching\nto have better test coverage.\nAlso, add tests for tripleo::profile::base::neutron:server,\nwhich is not tested by serverspec currently.\n\nChange-Id: I4ff1d0856158c206996548bacd4616cb9abc4ef5\n'}, {'number': 7, 'created': '2019-09-12 00:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d03f94b3ef29bd18bff0075637f16013c0526c47', 'message': 'Improve unit test coverage for neutron manifests\n\nAdd some missing tests for module import or step switching\nto have better test coverage.\nAlso, add tests for tripleo::profile::base::neutron:server,\nwhich is not tested by serverspec currently.\n\nChange-Id: I4ff1d0856158c206996548bacd4616cb9abc4ef5\n'}, {'number': 8, 'created': '2019-09-12 01:13:52.000000000', 'files': ['spec/classes/tripleo_profile_base_neutron_dhcp_spec.rb', 'spec/classes/tripleo_profile_base_neutron_l3_spec.rb', 'spec/classes/tripleo_profile_base_neutron_server_spec.rb', 'spec/fixtures/hieradata/default.yaml', 'spec/classes/tripleo_profile_base_neutron_ovs_spec.rb', 'spec/classes/tripleo_profile_base_neutron_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f2a38f6abd3a526c707f69b2bb752050116a4849', 'message': 'Improve unit test coverage for neutron manifests\n\nAdd some missing tests for module import or step switching\nto have better test coverage.\nAlso, add tests for tripleo::profile::base::neutron:server,\nwhich is not tested by serverspec currently.\n\nChange-Id: I4ff1d0856158c206996548bacd4616cb9abc4ef5\n'}]",0,681450,f2a38f6abd3a526c707f69b2bb752050116a4849,20,4,8,9816,,,0,"Improve unit test coverage for neutron manifests

Add some missing tests for module import or step switching
to have better test coverage.
Also, add tests for tripleo::profile::base::neutron:server,
which is not tested by serverspec currently.

Change-Id: I4ff1d0856158c206996548bacd4616cb9abc4ef5
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/50/681450/8 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_neutron_dhcp_spec.rb', 'spec/classes/tripleo_profile_base_neutron_l3_spec.rb', 'spec/classes/tripleo_profile_base_neutron_server_spec.rb', 'spec/classes/tripleo_profile_base_neutron_ovs_spec.rb', 'spec/classes/tripleo_profile_base_neutron_spec.rb']",5,45115cd2a7be981ed4d372256984a84f62a431aa,neutron-ut," context 'with step less than 3' do let(:params) { { :step => 1 } } it 'should od nothing' do is_expected.to_not contain('tripleo::profile::base::neutron') is_expected.to_not contain('neutron') is_expected.to_not contain('neutron::config') is_expected.to_not contain('neutron::logging') done end context 'with step 3' do let(:params) { { :step => 3, :oslomsg_rpc_hosts => [ '192.168.0.1' ], :oslomsg_rpc_username => 'cinder1', :oslomsg_rpc_password => 'foo', :oslomsg_rpc_port => '1234', :oslomsg_notify_hosts => [ '192.168.0.2' ], :oslomsg_notify_username => 'cinder2', :oslomsg_notify_password => 'baa', :oslomsg_rpc_port => '5678' :dhcp_agents_per_network => 2 } } it 'should trigger complete configuration' do is_expected.to contain('tripleo::profile::base::neutron') is_expected.to contain('neutron').with( :default_transport_url => 'rabbit://neutron1:foo@192.168.0.1:1234/?ssl=0', :notification_transport_url => 'rabbit://neutron2:baa@192.168.0.2:5678/?ssl=0', :dhcp_agents_per_network => 2 ) is_expected.to contain('neutron::config') is_expected.to contain('neutron::logging') context 'when not dhcp agents per network is set' do let(:params) { { :step => 3, :oslomsg_rpc_password => 'foo', :oslomsg_notify_password => 'baa', :dhcp_nodes => ['netcont1.localdomain', 'netcont2.localdomain', 'netcont3.localdomain'] } } it 'should equal the number of dhcp agents' do is_expected.to contain('neutron').with( :dhcp_agents_per_network => 3 ) let(:params) { { :step => 3, :oslomsg_rpc_password => 'foo', :oslomsg_notify_password => 'baa', :dhcp_nodes => ['netcont1.localdomain', 'netcont2.localdomain'], :dhcp_agents_per_network => 5 } } is_expected.to contain_class('neutron').with( :dhcp_agents_per_network => 5 )"," let :params do { :step => 5, :oslomsg_notify_password => 'foobar', :oslomsg_rpc_password => 'foobar' } end context 'when no dhcp agents per network set' do before do params.merge!({ :dhcp_nodes => ['netcont1.localdomain', 'netcont2.localdomain', 'netcont3.localdomain'] }) end it 'should equal the number of dhcp agents' do is_expected.to contain_class('neutron').with(:dhcp_agents_per_network => 3) context 'when dhcp agents per network is set' do before do params.merge!({ :dhcp_agents_per_network => 2 }) end it 'should set the value' do is_expected.to contain_class('neutron').with(:dhcp_agents_per_network => 2) before do params.merge!({ :dhcp_nodes => ['netcont1.localdomain', 'netcont2.localdomain'], :dhcp_agents_per_network => 5 }) is_expected.to contain_class('neutron').with(:dhcp_agents_per_network => 5)",273,39
openstack%2Fpuppet-tripleo~master~Ifd789d8df0c279ab0a948011c0886e6fca0f664c,openstack/puppet-tripleo,master,Ifd789d8df0c279ab0a948011c0886e6fca0f664c,Correct ovn_controller_certificate_specs hiera variable name,MERGED,2019-09-14 00:08:03.000000000,2019-09-16 18:46:45.000000000,2019-09-16 18:46:45.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-14 00:08:03.000000000', 'files': ['manifests/profile/base/certmonger_user.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a22d1b58827f473e13bd475e347eceb9588253e2', 'message': 'Correct ovn_controller_certificate_specs hiera variable name\n\nA recently merged change introduced a new puppet parameter\novn_controller_certificate_specs with a matching hiera variable.\nThis change had a typo where the lookup is done from hieradata,\nwhich this patch corrects.\n\nChange-Id: Ifd789d8df0c279ab0a948011c0886e6fca0f664c\n'}]",0,682189,a22d1b58827f473e13bd475e347eceb9588253e2,8,6,1,9098,,,0,"Correct ovn_controller_certificate_specs hiera variable name

A recently merged change introduced a new puppet parameter
ovn_controller_certificate_specs with a matching hiera variable.
This change had a typo where the lookup is done from hieradata,
which this patch corrects.

Change-Id: Ifd789d8df0c279ab0a948011c0886e6fca0f664c
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/89/682189/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/certmonger_user.pp'],1,a22d1b58827f473e13bd475e347eceb9588253e2,ovn_controller_certificate_specs," $ovn_controller_certificate_specs = hiera('ovn_controller_certificate_specs', {}),"," $ovn_controller_certificate_specs = hiera('ovn_controlle_rcertificate_specs', {}),",1,1
openstack%2Ftripleo-common~master~Ie9271611d5141c0781e8a599afb509eeacc6008b,openstack/tripleo-common,master,Ie9271611d5141c0781e8a599afb509eeacc6008b,WIP - breakdown kolla template overrides,ABANDONED,2019-03-13 00:08:38.000000000,2019-09-16 18:44:39.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-03-13 00:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1381953edcc23f5ed9a4b58be94685480ec2b49a', 'message': 'WIP - breakdown kolla template overrides\n\n- Breakdown to have: footers, disabled blocks, packages separated in\n  their own templates.\n- Include a template for OSP, where downstream we do what we need.\n\nWork in progress, I want to:\n- check if we can merge blocks when possible\n- test it downstream and see if it actually helps\n\nChange-Id: Ie9271611d5141c0781e8a599afb509eeacc6008b\n'}, {'number': 2, 'created': '2019-03-13 13:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a18e95d4ca352d4a4961af3488c6170ff28648d8', 'message': 'WIP - breakdown kolla template overrides\n\n- Breakdown to have: footers, disabled blocks, packages separated in\n  their own templates.\n- Include a template for OSP, where downstream we do what we need.\n\nWork in progress, I want to:\n- check if we can merge blocks when possible\n- test it downstream and see if it actually helps\n\nChange-Id: Ie9271611d5141c0781e8a599afb509eeacc6008b\n'}, {'number': 3, 'created': '2019-03-13 13:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9e522ecdeb97d0938492da2c85f1c94d2234535e', 'message': 'WIP - breakdown kolla template overrides\n\n- Breakdown to have: footers, disabled blocks, packages separated in\n  their own templates.\n- Include a template for OSP, where downstream we do what we need.\n\nWork in progress, I want to:\n- check if we can merge blocks when possible\n- test it downstream and see if it actually helps\n\nChange-Id: Ie9271611d5141c0781e8a599afb509eeacc6008b\n'}, {'number': 4, 'created': '2019-03-18 13:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/de24b59e05fd9d7fb50cf3972ef9052fbfac0e27', 'message': 'WIP - breakdown kolla template overrides\n\n- Breakdown to have: footers, disabled blocks, packages separated in\n  their own templates.\n- Include a template for OSP, where downstream we do what we need.\n\nWork in progress, I want to:\n- check if we can merge blocks when possible\n- test it downstream and see if it actually helps\n\nChange-Id: Ie9271611d5141c0781e8a599afb509eeacc6008b\n'}, {'number': 5, 'created': '2019-03-18 14:11:21.000000000', 'files': ['container-images/tripleo_kolla_template_disabled.j2', 'container-images/tripleo_kolla_template_overrides.j2', 'container-images/tripleo_kolla_template_packages.j2', 'container-images/tripleo_kolla_template_footers.j2', 'container-images/osp_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d3ddee8a640cad9d36c567595b90abd76a6ca00b', 'message': 'WIP - breakdown kolla template overrides\n\n- Breakdown to have: footers, disabled blocks, packages separated in\n  their own templates.\n- Include a template for OSP, where downstream we do what we need.\n\nWork in progress, I want to:\n- check if we can merge blocks when possible\n- test it downstream and see if it actually helps\n\nChange-Id: Ie9271611d5141c0781e8a599afb509eeacc6008b\n'}]",2,642929,d3ddee8a640cad9d36c567595b90abd76a6ca00b,17,4,5,3153,,,0,"WIP - breakdown kolla template overrides

- Breakdown to have: footers, disabled blocks, packages separated in
  their own templates.
- Include a template for OSP, where downstream we do what we need.

Work in progress, I want to:
- check if we can merge blocks when possible
- test it downstream and see if it actually helps

Change-Id: Ie9271611d5141c0781e8a599afb509eeacc6008b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/29/642929/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tripleo_kolla_template_disabled.j2', 'container-images/tripleo_kolla_template_overrides.j2', 'container-images/tripleo_kolla_template_packages.j2', 'container-images/tripleo_kolla_template_footers.j2', 'container-images/osp_kolla_template_overrides.j2']",5,1381953edcc23f5ed9a4b58be94685480ec2b49a,downstream/support,# OSP specifics ,,756,749
openstack%2Fkolla~master~I764a0e305a95ee9e330041f1e15d35b45a86aa72,openstack/kolla,master,I764a0e305a95ee9e330041f1e15d35b45a86aa72,Remove exemption for non-systemd Ubuntu in bifrost,MERGED,2019-09-16 11:51:53.000000000,2019-09-16 18:39:40.000000000,2019-09-16 18:38:34.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}, {'_account_id': 30911}]","[{'number': 1, 'created': '2019-09-16 11:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/94d83e21e813a0e5f5d9246cb46a58ef49527966', 'message': 'Remove exemption for non-systemd Ubuntu in bifrost\n\nUnneeded systemd units were never removed for Ubuntu 18.04.\nSince Ubuntu 14.04 is no longer supported, this commit removes\nthe exemption for it.\n\nChange-Id: I764a0e305a95ee9e330041f1e15d35b45a86aa72\n'}, {'number': 2, 'created': '2019-09-16 12:38:55.000000000', 'files': ['docker/bifrost/bifrost-deploy/Dockerfile.j2', 'docker/bifrost/bifrost-deploy/init-fake.conf'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3cbc790abf1cf98b24c2ae1c4176085200a932e2', 'message': 'Remove exemption for non-systemd Ubuntu in bifrost\n\nUnneeded systemd units were never removed for Ubuntu 18.04.\nSince Ubuntu 14.04 is no longer supported, this commit removes\nthe exemption for it.\n\nChange-Id: I764a0e305a95ee9e330041f1e15d35b45a86aa72\n'}]",1,682349,3cbc790abf1cf98b24c2ae1c4176085200a932e2,14,5,2,30911,,,0,"Remove exemption for non-systemd Ubuntu in bifrost

Unneeded systemd units were never removed for Ubuntu 18.04.
Since Ubuntu 14.04 is no longer supported, this commit removes
the exemption for it.

Change-Id: I764a0e305a95ee9e330041f1e15d35b45a86aa72
",git fetch https://review.opendev.org/openstack/kolla refs/changes/49/682349/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/bifrost/bifrost-deploy/Dockerfile.j2'],1,94d83e21e813a0e5f5d9246cb46a58ef49527966,remove_non_systemd_ubuntu,,"{% if base_distro in ['centos', 'oraclelinux', 'rhel', 'debian'] or (base_distro == 'ubuntu' and base_distro_tag == '16.04') %} {% elif base_distro in ['ubuntu'] %} # derived from https://raw.githubusercontent.com/tianon/dockerfiles/4d24a12b54b75b3e0904d8a285900d88d3326361/sbin-init/ubuntu/upstart/14.04/Dockerfile ADD init-fake.conf /etc/init/fake-container-events.conf # undo some leet hax of the base image RUN rm /usr/sbin/policy-rc.d; \ rm /sbin/initctl; dpkg-divert --rename --remove /sbin/initctl # remove some pointless services RUN /usr/sbin/update-rc.d -f ondemand remove; \ for f in \ /etc/init/u*.conf \ /etc/init/mounted-dev.conf \ /etc/init/mounted-proc.conf \ /etc/init/mounted-run.conf \ /etc/init/mounted-tmp.conf \ /etc/init/mounted-var.conf \ /etc/init/hostname.conf \ /etc/init/networking.conf \ /etc/init/tty*.conf \ /etc/init/plymouth*.conf \ /etc/init/hwclock*.conf \ /etc/init/module*.conf\ ; do \ dpkg-divert --local --rename --add ""$f""; \ done; \ echo '# /lib/init/fstab: cleared out for bare-bones Docker' > /lib/init/fstab {% endif %} ",0,32
openstack%2Fproject-config~master~I654dcd7de217bf11945758f8d562782818354eef,openstack/project-config,master,I654dcd7de217bf11945758f8d562782818354eef,Report openstack/election in #openstack-election,MERGED,2019-09-16 17:55:02.000000000,2019-09-16 18:27:01.000000000,2019-09-16 18:27:01.000000000,"[{'_account_id': 2799}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 17:55:02.000000000', 'files': ['gerritbot/channels.yaml', 'accessbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a26c532cd5bab556dbde3d15ee3e538a229c2c13', 'message': 'Report openstack/election in #openstack-election\n\nThe OpenStack technical election officials use a #openstack-election\nchannel to coordinate reviews of changes to election tooling, so\nwould appreciate having changes for the openstack/election\nrepository announced there.\n\nChange-Id: I654dcd7de217bf11945758f8d562782818354eef\n'}]",0,682440,a26c532cd5bab556dbde3d15ee3e538a229c2c13,8,4,1,5263,,,0,"Report openstack/election in #openstack-election

The OpenStack technical election officials use a #openstack-election
channel to coordinate reviews of changes to election tooling, so
would appreciate having changes for the openstack/election
repository announced there.

Change-Id: I654dcd7de217bf11945758f8d562782818354eef
",git fetch https://review.opendev.org/openstack/project-config refs/changes/40/682440/1 && git format-patch -1 --stdout FETCH_HEAD,"['accessbot/channels.yaml', 'gerritbot/channels.yaml']",2,a26c532cd5bab556dbde3d15ee3e538a229c2c13,openstack-elections,openstack-election: events: - patchset-created - change-merged projects: - openstack/election branches: - master ,,10,0
openstack%2Fnova~master~I668643c836d46a25df46d4c99a973af5e50a39db,openstack/nova,master,I668643c836d46a25df46d4c99a973af5e50a39db,libvirt: Fix service-wide pauses caused by un-proxied libvirt calls,MERGED,2019-08-21 13:57:35.000000000,2019-09-16 18:22:36.000000000,2019-09-16 18:20:08.000000000,"[{'_account_id': 1779}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9555}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-08-21 13:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eaa1d27b4b17e41ddd6ef09cdd5d4b1968e5232f', 'message': ""libvirt: Fix service-wide pauses caused by un-proxied libvirt calls\n\nWe only explicitly proxy the initial libvirt connection call.\nWe rely on tpool.Proxy's autowrap feature to ensure that all subsequent\ncalls are also proxied.\n\nHowever:\n\n* The list of classes passed to autowrap was incomplete\n* autowrap doesn't work when a call returns a list of objects\n\nWe fix the problem of the autowrap whitelist by using inspection on the\nlibvirt module. We fix the only currently known case of a list being\nreturned by wrapping the contents explicitly.\n\nResolves-bug: #1840912\nChange-Id: I668643c836d46a25df46d4c99a973af5e50a39db\n""}, {'number': 2, 'created': '2019-08-21 14:20:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4db045821e4c1cc23a05af9794092d8df15614f5', 'message': ""libvirt: Fix service-wide pauses caused by un-proxied libvirt calls\n\nWe only explicitly proxy the initial libvirt connection call.\nWe rely on tpool.Proxy's autowrap feature to ensure that all subsequent\ncalls are also proxied.\n\nHowever:\n\n* The list of classes passed to autowrap was incomplete\n* autowrap doesn't work when a call returns a list of objects\n\nWe fix the problem of the autowrap whitelist by using inspection on the\nlibvirt module. We fix the only currently known case of a list being\nreturned by wrapping the contents explicitly.\n\nResolves-bug: #1840912\nChange-Id: I668643c836d46a25df46d4c99a973af5e50a39db\n""}, {'number': 3, 'created': '2019-08-21 16:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4978681cfc5e3de06bb838be41b668503c9eae29', 'message': ""libvirt: Fix service-wide pauses caused by un-proxied libvirt calls\n\nWe only explicitly proxy the initial libvirt connection call.\nWe rely on tpool.Proxy's autowrap feature to ensure that all subsequent\ncalls are also proxied.\n\nHowever:\n\n* The list of classes passed to autowrap was incomplete\n* autowrap doesn't work when a call returns a list of objects\n\nWe fix the problem of the autowrap whitelist by using inspection on the\nlibvirt module. We fix the only currently known case of a list being\nreturned by wrapping the contents explicitly.\n\nResolves-bug: #1840912\nChange-Id: I668643c836d46a25df46d4c99a973af5e50a39db\n""}, {'number': 4, 'created': '2019-09-02 08:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/30208e1974043bd9cf3aa73341472650d311d289', 'message': ""libvirt: Fix service-wide pauses caused by un-proxied libvirt calls\n\nWe only explicitly proxy the initial libvirt connection call.\nWe rely on tpool.Proxy's autowrap feature to ensure that all subsequent\ncalls are also proxied.\n\nHowever:\n\n* The list of classes passed to autowrap was incomplete\n* autowrap doesn't work when a call returns a list of objects\n\nWe fix the problem of the autowrap whitelist by using inspection on the\nlibvirt module. We fix the only currently known case of a list being\nreturned by wrapping the contents explicitly.\n\nResolves-bug: #1840912\nChange-Id: I668643c836d46a25df46d4c99a973af5e50a39db\n""}, {'number': 5, 'created': '2019-09-02 12:46:55.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/36ee9c1913a449defd3b35f5ee5fb4afcd44169e', 'message': ""libvirt: Fix service-wide pauses caused by un-proxied libvirt calls\n\nWe only explicitly proxy the initial libvirt connection call.\nWe rely on tpool.Proxy's autowrap feature to ensure that all subsequent\ncalls are also proxied.\n\nHowever:\n\n* The list of classes passed to autowrap was incomplete\n* autowrap doesn't work when a call returns a list of objects\n\nWe fix the problem of the autowrap whitelist by using inspection on the\nlibvirt module. We fix the only currently known case of a list being\nreturned by wrapping the contents explicitly.\n\nResolves-bug: #1840912\nChange-Id: I668643c836d46a25df46d4c99a973af5e50a39db\n""}]",30,677736,36ee9c1913a449defd3b35f5ee5fb4afcd44169e,57,17,5,9555,,,0,"libvirt: Fix service-wide pauses caused by un-proxied libvirt calls

We only explicitly proxy the initial libvirt connection call.
We rely on tpool.Proxy's autowrap feature to ensure that all subsequent
calls are also proxied.

However:

* The list of classes passed to autowrap was incomplete
* autowrap doesn't work when a call returns a list of objects

We fix the problem of the autowrap whitelist by using inspection on the
libvirt module. We fix the only currently known case of a list being
returned by wrapping the contents explicitly.

Resolves-bug: #1840912
Change-Id: I668643c836d46a25df46d4c99a973af5e50a39db
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/677736/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/host.py', 'test-requirements.txt']",3,eaa1d27b4b17e41ddd6ef09cdd5d4b1968e5232f,bug1840912,libvirt-python>=3.0.0 # GPLv2,,59,9
openstack%2Fnetworking-odl~stable%2Fstein~I0f7fcc49a528cf5c57f11ce9685ddd0e4d559d56,openstack/networking-odl,stable/stein,I0f7fcc49a528cf5c57f11ce9685ddd0e4d559d56,Fix double-digit ODL version number handling for devstack,MERGED,2019-09-13 13:43:21.000000000,2019-09-16 18:21:30.000000000,2019-09-16 18:20:16.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 25550}]","[{'number': 1, 'created': '2019-09-13 13:43:21.000000000', 'files': ['devstack/odl-releases/common'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/cae2107fcce10ffe183efeb8db270ce34490ad9d', 'message': ""Fix double-digit ODL version number handling for devstack\n\nLatest releases of ODL (Neon: 0.10; Sodium 0.11) snapshots download\nfails in case of adding for example 'ODL_RELEASE=neon-snapshot-0.10' to\nlocal.conf. This patch fixes pattern to allow double-digit version\nstring match.\n\nConflicts:\n    devstack/odl-releases/common\nNote(elod.illes): conflict is due to not having patch\nI9245f22c12dc41801323b02f42d2c7d2b8905a80 on stable/stein. That patch\nis not necessary to fix the bug in stable/stein.\n\nCloses-Bug: #1841760\nChange-Id: I0f7fcc49a528cf5c57f11ce9685ddd0e4d559d56\n(cherry picked from commit a9282bb005a67b44b3db6613838aa2fa84d0a30d)\n""}]",0,682053,cae2107fcce10ffe183efeb8db270ce34490ad9d,13,6,1,17685,,,0,"Fix double-digit ODL version number handling for devstack

Latest releases of ODL (Neon: 0.10; Sodium 0.11) snapshots download
fails in case of adding for example 'ODL_RELEASE=neon-snapshot-0.10' to
local.conf. This patch fixes pattern to allow double-digit version
string match.

Conflicts:
    devstack/odl-releases/common
Note(elod.illes): conflict is due to not having patch
I9245f22c12dc41801323b02f42d2c7d2b8905a80 on stable/stein. That patch
is not necessary to fix the bug in stable/stein.

Closes-Bug: #1841760
Change-Id: I0f7fcc49a528cf5c57f11ce9685ddd0e4d559d56
(cherry picked from commit a9282bb005a67b44b3db6613838aa2fa84d0a30d)
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/53/682053/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/odl-releases/common'],1,cae2107fcce10ffe183efeb8db270ce34490ad9d,," elif [[ ""${_odl_version}"" =~ ^[[:digit:]]+\.[[:digit:]]+$ ]]; then"," elif [[ ""${_odl_version}"" =~ ^[[:digit:]]\.[[:digit:]]$ ]]; then",1,1
openstack%2Frequirements~stable%2Fqueens~I0c31c71b9a832dd5675266a3fa1240e0d9885916,openstack/requirements,stable/queens,I0c31c71b9a832dd5675266a3fa1240e0d9885916,update constraint for ovsdbapp to new release 0.10.4,MERGED,2019-09-16 09:37:17.000000000,2019-09-16 18:20:12.000000000,2019-09-16 18:20:12.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-16 09:37:17.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/223f63dffaa50ed7a250ad4ca1bddf8f9156233a', 'message': 'update constraint for ovsdbapp to new release 0.10.4\n\nChange-Id: I0c31c71b9a832dd5675266a3fa1240e0d9885916\nmeta:version: 0.10.4\nmeta:diff-start: -\nmeta:series: queens\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Maciej Józefczyk <mjozefcz@redhat.com>\nmeta:release:Commit: Maciej Józefczyk <mjozefcz@redhat.com>\nmeta:release:Change-Id: I0d4ba385dd756d2e0d8d0300f59467b7953eb769\nmeta:release:Code-Review+1: Lucas Alvares Gomes <lucasagomes@gmail.com>\nmeta:release:Code-Review+1: Daniel Alvarez <dalvarez@redhat.com>\nmeta:release:Code-Review+1: Flavio Fernandes <flavio@flaviof.com>\nmeta:release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta:release:Code-Review+1: Andriy Shevchenko <huang.zhiping@99cloud.net>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Vieri <15050873171@163.com>\nmeta:release:Code-Review+1: Filippo Inzaghi <zhao.daqing@99cloud.net>\nmeta:release:Code-Review+1: 98k <18552437190@163.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,682323,223f63dffaa50ed7a250ad4ca1bddf8f9156233a,9,3,1,11131,,,0,"update constraint for ovsdbapp to new release 0.10.4

Change-Id: I0c31c71b9a832dd5675266a3fa1240e0d9885916
meta:version: 0.10.4
meta:diff-start: -
meta:series: queens
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Maciej Józefczyk <mjozefcz@redhat.com>
meta:release:Commit: Maciej Józefczyk <mjozefcz@redhat.com>
meta:release:Change-Id: I0d4ba385dd756d2e0d8d0300f59467b7953eb769
meta:release:Code-Review+1: Lucas Alvares Gomes <lucasagomes@gmail.com>
meta:release:Code-Review+1: Daniel Alvarez <dalvarez@redhat.com>
meta:release:Code-Review+1: Flavio Fernandes <flavio@flaviof.com>
meta:release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta:release:Code-Review+1: Andriy Shevchenko <huang.zhiping@99cloud.net>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Vieri <15050873171@163.com>
meta:release:Code-Review+1: Filippo Inzaghi <zhao.daqing@99cloud.net>
meta:release:Code-Review+1: 98k <18552437190@163.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/23/682323/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,223f63dffaa50ed7a250ad4ca1bddf8f9156233a,new-release,ovsdbapp===0.10.4,ovsdbapp===0.10.3,1,1
openstack%2Ftripleo-ansible~master~Ib31212da20620b355f2fc196511f168804a008a4,openstack/tripleo-ansible,master,Ib31212da20620b355f2fc196511f168804a008a4,Create the tripleo-packages role.,MERGED,2019-08-26 14:11:40.000000000,2019-09-16 18:16:23.000000000,2019-09-16 18:13:13.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-08-26 14:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7fa49a1f01ffa301be9f34c88aabdeffc5791035', 'message': 'Create the tripleo-packages role.\n\nThis manages installing, updating, and upgrading TripleO packages.\n\nStory: 2006031\nTask: 34668\nTask: 34670\nTask: 34671\n\nChange-Id: Ib31212da20620b355f2fc196511f168804a008a4\n'}, {'number': 2, 'created': '2019-08-26 17:18:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/71c5f5a49153ba94fa1e65497164acb5fd617fb3', 'message': 'Create the tripleo-packages role.\n\nThis manages installing, updating, and upgrading TripleO packages.\n\nStory: 2006031\nTask: 34668\nTask: 34670\nTask: 34671\n\nChange-Id: Ib31212da20620b355f2fc196511f168804a008a4\n'}, {'number': 3, 'created': '2019-08-27 14:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0b5fa487ded40f58e148001da0bb0e1ca93125bb', 'message': 'Create the tripleo-packages role.\n\nThis manages installing, updating, and upgrading TripleO packages.\n\nStory: 2006031\nTask: 34668\nTask: 34670\nTask: 34671\n\nChange-Id: Ib31212da20620b355f2fc196511f168804a008a4\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 4, 'created': '2019-08-27 14:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/30e9f57f3b691703fe5b6e22186928873381848e', 'message': 'Create the tripleo-packages role.\n\nThis manages installing, updating, and upgrading TripleO packages.\n\nStory: 2006031\nTask: 34668\nTask: 34670\nTask: 34671\n\nChange-Id: Ib31212da20620b355f2fc196511f168804a008a4\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 5, 'created': '2019-09-04 23:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4a9a07575b40bfbe731ca6a67c12ec8fa82e26a2', 'message': 'Create the tripleo-packages role.\n\nThis manages installing, updating, and upgrading TripleO packages.\n\nStory: 2006031\nTask: 34668\nTask: 34670\nTask: 34671\n\nChange-Id: Ib31212da20620b355f2fc196511f168804a008a4\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 6, 'created': '2019-09-04 23:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/595a62d4b796e53a59ac410c0f3b53b54995eaa2', 'message': 'Create the tripleo-packages role.\n\nThis manages installing, updating, and upgrading TripleO packages.\n\nStory: 2006031\nTask: 34668\nTask: 34670\nTask: 34671\n\nChange-Id: Ib31212da20620b355f2fc196511f168804a008a4\nSigned-off-by: ekultails <ekultails@gmail.com>\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2019-09-05 19:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d18066a91cd4ae71c79a0015905c730af26ef2b8', 'message': 'Create the tripleo-packages role.\n\nThis manages installing, updating, and upgrading TripleO packages.\n\nStory: 2006031\nTask: 34668\nTask: 34670\nTask: 34671\n\nChange-Id: Ib31212da20620b355f2fc196511f168804a008a4\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 8, 'created': '2019-09-05 20:23:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/84114c3d20bfaa4c3fc4eac4dc1401e53f2006eb', 'message': 'Create the tripleo-packages role.\n\nThis manages installing, updating, and upgrading TripleO packages.\n\nStory: 2006031\nTask: 34668\nTask: 34670\nTask: 34671\n\nChange-Id: Ib31212da20620b355f2fc196511f168804a008a4\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 9, 'created': '2019-09-06 02:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/20cd1bf1231b9d26048093ddce33750b530b2d36', 'message': 'Create the tripleo-packages role.\n\nThis manages installing, updating, and upgrading TripleO packages.\n\nStory: 2006031\nTask: 34668\nTask: 34670\nTask: 34671\n\nChange-Id: Ib31212da20620b355f2fc196511f168804a008a4\nSigned-off-by: ekultails <ekultails@gmail.com>\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 10, 'created': '2019-09-06 02:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c6880bc0d9a95da3a3a9c202e683029882f39d9a', 'message': 'Create the tripleo-packages role.\n\nThis manages installing, updating, and upgrading TripleO packages.\n\nStory: 2006031\nTask: 34668\nTask: 34670\nTask: 34671\n\nChange-Id: Ib31212da20620b355f2fc196511f168804a008a4\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 11, 'created': '2019-09-06 18:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/86c24a0fae63650663a459615870b687e90bddff', 'message': 'Create the tripleo-packages role.\n\nThis manages installing, updating, and upgrading TripleO packages.\n\nStory: 2006031\nTask: 34668\nTask: 34670\nTask: 34671\n\nChange-Id: Ib31212da20620b355f2fc196511f168804a008a4\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 12, 'created': '2019-09-06 19:53:23.000000000', 'files': ['tripleo_ansible/roles/tripleo-packages/molecule/update/playbook.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/ffu/Dockerfile', 'tripleo_ansible/roles/tripleo-packages/molecule/upgrade/prepare.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/ffu/prepare.yml', 'tripleo_ansible/roles/tripleo-packages/defaults/main.yml', 'tripleo_ansible/roles/tripleo-packages/meta/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-packages/tasks/fast_forward_post_upgrade.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/external_upgrade/Dockerfile', 'tripleo_ansible/roles/tripleo-packages/molecule/external_upgrade/playbook.yml', 'tripleo_ansible/roles/tripleo-packages/tasks/upgrade.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/external_upgrade/prepare.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/ffu/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/upgrade/molecule.yml', 'doc/source/roles/role-tripleo-packages.rst', 'tripleo_ansible/roles/tripleo-packages/handlers/main.yml', 'tripleo_ansible/roles/tripleo-packages/tasks/update.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/update/Dockerfile', 'tripleo_ansible/roles/tripleo-packages/tasks/fast_forward_upgrade.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/ffu/playbook.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/update/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/upgrade/Dockerfile', 'tripleo_ansible/roles/tripleo-packages/molecule/upgrade/playbook.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-packages/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/external_upgrade/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/update/prepare.yml', 'tripleo_ansible/roles/tripleo-packages/tasks/external_upgrade.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/905da0751afe6f9e6086e3b44865032b706d7a5f', 'message': 'Create the tripleo-packages role.\n\nThis manages installing, updating, and upgrading TripleO packages.\n\nStory: 2006031\nTask: 34668\nTask: 34670\nTask: 34671\n\nChange-Id: Ib31212da20620b355f2fc196511f168804a008a4\nSigned-off-by: ekultails <ekultails@gmail.com>\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",11,678567,905da0751afe6f9e6086e3b44865032b706d7a5f,44,7,12,25877,,,0,"Create the tripleo-packages role.

This manages installing, updating, and upgrading TripleO packages.

Story: 2006031
Task: 34668
Task: 34670
Task: 34671

Change-Id: Ib31212da20620b355f2fc196511f168804a008a4
Signed-off-by: ekultails <ekultails@gmail.com>
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/67/678567/8 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/roles/role-tripleo-packages.rst', 'tripleo_ansible/roles/tripleo-packages/handlers/main.yml', 'tripleo_ansible/roles/tripleo-packages/tasks/update.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-packages/defaults/main.yml', 'tripleo_ansible/roles/tripleo-packages/tasks/fast_forward_upgrade.yml', 'tripleo_ansible/roles/tripleo-packages/meta/main.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-packages/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-packages/tasks/fast_forward_post_upgrade.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-packages/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-packages/tasks/external_upgrade.yml', 'tripleo_ansible/roles/tripleo-packages/tasks/upgrade.yml']",15,7fa49a1f01ffa301be9f34c88aabdeffc5791035,THT2TA,"--- - name: system_upgrade_prepare step 3 when: step|int == 3 tags: - never - system_upgrade - system_upgrade_prepare block: - name: remove all OpenStack packages shell: | yum -y remove *el7ost* -- \ -*openvswitch* \ -python2-babel \ -python2-dateutil \ -python2-ipaddress \ -python2-jinja2 \ -python2-markupsafe \ -python2-six when: upgrade_leapp_enabled|bool - name: install leapp package: name: leapp state: latest when: upgrade_leapp_enabled|bool - name: system_upgrade_prepare step 4 when: step|int == 4 tags: - never - system_upgrade - system_upgrade_prepare block: - name: run leapp upgrade (download packages) shell: > {% if upgrade_leapp_devel_skip_rhsm|default(false) %}LEAPP_DEVEL_SKIP_RHSM=1{% endif %} leapp upgrade {% if upgrade_leapp_debug|default(true) %}--debug{% endif %} when: upgrade_leapp_enabled|bool - name: system_upgrade_run step 4 when: step|int == 4 tags: - never - system_upgrade - system_upgrade_run # In case someone needs to re-run system_upgrade_run post-tasks # but doesn't want to reboot, they can run with # `--skip-tags system_upgrade_reboot`. - system_upgrade_reboot block: - name: reboot to perform the upgrade reboot: reboot_timeout: ""{{ upgrade_leapp_reboot_timeout }}"" when: upgrade_leapp_enabled|bool - name: Package and repo update tasks when: step|int == 0 block: - name: Run UpgradeInitCommand shell: list_join: - '' - - ""#!/bin/bash\n\n"" - ""if [[ -f /etc/resolv.conf.save ]] ; then rm /etc/resolv.conf.save; fi\n\n"" - ""{{ tripleo_packages_upgrade_init_command }}"" - name: Run UpgradeInitCommonCommand shell: list_join: - '' - - ""#!/bin/bash\n\n"" - ""{{ tripleo_packages_upgrade_init_common_command }}"" - name: Ensure TripleO prerequisite packages are installed package: name: - jq - lvm2 - net-snmp - openstack-selinux - os-net-config - pacemaker - pcs - puppet-tripleo - python3-heat-agent* state: present when: ansible_distribution_major_version == '8' # With the layered product packaging, the key package is rhosp-openvswitch. It depends on # a openvswitch package that includes the version as part of the name (e.g openvswitch2.10). # This requires some additional special handling: # - During an upgrade the package name for openvswitch may change so # upgrading the currently installed package won't do anything. # - The rhosp-openvswitch package ""obsoletes"" several packages, # including older openvswitch packages. This results in a pretty # severe uninstall/install sequence of operations that stops and # removes openvswitch which could break network links required to # continue the upgrade. # - To prevent rhosp-openvswitch breaking connectivity, the currently # installed core openvswitch packages need to be erased from the rpm # database but leave the binaries intact. This effectively # short-circuits the obsoletes mechanism in rhosp-openvswitch and # leaves the core elements of openvswitch running. In the future we # may replace this mechanism with ""an upgrade on reboot"". We only # do this for the core openvswitch packages so other packages # obsoleted by rhosp-openvswitch will be removed when # rhosp-openvswitch is installed/upgraded. # - Neither the rhosp-openvswitch nor openvswitch{m.n} package enables # or starts the systemd service so there must always be a task # to ensure that it is enabled or OpenvSwitch functionality won't be # available on reboot. # - With LP, we expect that the core openvswitch package name will # change with every major upgrade so this special handling will # eventually replace the special handling of upgrading the # openvswitch package ""in place"" - name: Block for gathering information for upgrading OpenvSwitch layered product packaging when: step|int == 2 block: - name: Process rhosp-openvswitch layered package for new version number shell: | set -o pipefail yum info -q rhosp-openvswitch | awk '/^Version/{print $NF}' register: rhosp_package_result ignore_errors: true - name: Set fact for triggering OpenvSwitch layered product package handling set_fact: ovs_lp_packaging: ""{{ rhosp_package_result.rc == 0 }}"" - name: Capture the expected OpenvSwitch version. set_fact: new_ovs_version: ""{{ rhosp_package_result.stdout }}"" when: ovs_lp_packaging|default(false) - name: Get current OpenvSwitch package name register: ovs_pkg_out shell: rpm -qa | awk -F- '/^(openvswitch[0-9]+\.[0-9]+-|openvswitch-2)/{print $1}' - name: Get version from current OpenvSwitch package register: ovs_version_out shell: rpm -qi ""{{ ovs_pkg_out.stdout }}"" | awk '/^Version/{print $NF}' - name: split numeric version for OpenvSwitch into parts set_fact: ovs_version_parts: ""{{ ovs_version_out.stdout.split('.') }}"" - name: get major minor version for OpenvSwitch package naming set_fact: current_ovs_version: ""{{ ovs_version_parts[0] }}.{{ ovs_version_parts[1] }}"" - name: get OpenvSwitch major version set_fact: current_ovs_major_version: ""{{ ovs_version_parts[0]|int }}"" - name: get OpenvSwitch minor version set_fact: current_ovs_minor_version: ""{{ ovs_version_parts[1]|int }}"" - name: Block for upgrading OpenvSwitch when layer package is present when: - step|int == 2 - ovs_lp_packaging|default(false) block: - name: set current OpenvSwitch package suffix if old version is layered product format set_fact: package_suffix: ""{{ current_ovs_version }}"" when: - current_ovs_major_version|int >= 3 or current_ovs_minor_version|int >=10 - name: remove old OpenvSwitch package(s) if version doesn't match shell: | rpm -e --noscripts --nopreun --nopostun --notriggers --nodeps $(rpm -qa 'openvswitch{{ package_suffix|default('') }}*' | grep -v 'selinux') args: warn: false when: new_ovs_version != current_ovs_version - name: install/upgrade OpenvSwitch LP package package: name: rhosp-openvswitch state: latest notify: start openvswitch - name: set flag to skip other upgrade steps since OpenvSwitch is already upgraded! set_fact: run_ovs_update: false - name: Check for openvswitch upgrade if not layered package installs when: - step|int == 2 - run_ovs_update|default(true) block: - name: check if an upgrade is required register: ovs_need_upgrade ignore_errors: true shell: | yum check-upgrade openvswitch | awk '/openvswitch/{print}' - name: Check openvswitch packaging. shell: rpm -q --scripts openvswitch | awk '/postuninstall/,/*/' | grep -q ""systemctl.*try-restart"" register: ovs_packaging_issue ignore_errors: true - name: Upgrade openvswitch when: - step|int == 2 - run_ovs_update|default(true) - ovs_packaging_issue|default(false)|succeeded - ovs_need_upgrade.stdout|default('') block: - name: ""Ensure empty directory: emptying."" file: state: absent path: /root/OVS_UPGRADE - name: ""Ensure empty directory: creating."" file: state: directory path: /root/OVS_UPGRADE owner: root group: root mode: 0750 - name: Make yum cache. command: yum makecache - name: Download OVS packages. command: yumdownloader --destdir /root/OVS_UPGRADE --resolve openvswitch - name: Get rpm list for manual upgrade of OVS. shell: ls -1 /root/OVS_UPGRADE/*.rpm register: ovs_list_of_rpms - name: Manual upgrade of OVS shell: | rpm -U --replacepkgs --notriggerun --nopostun {{ item }} args: chdir: /root/OVS_UPGRADE loop: ""{{ ovs_list_of_rpms.stdout_lines }}"" notify: ""start openvswitch"" - name: Install libibverbs (https://bugs.launchpad.net/tripleo/+bug/1817743) when: step|int == 2 package: name: libibverbs state: installed - name: Check for os-net-config upgrade shell: ""yum check-upgrade | awk '/os-net-config/{print}'"" register: os_net_config_need_upgrade when: step|int == 3 - name: Check that os-net-config has configuration shell: test -s /etc/os-net-config/config.json register: os_net_config_has_config ignore_errors: true when: step|int == 3 - when: - step|int == 3 - os_net_config_need_upgrade.stdout - os_net_config_has_config.rc == 0 block: - name: Upgrade os-net-config package: name: os-net-config state: latest - name: take new os-net-config parameters into account now command: os-net-config --no-activate -c /etc/os-net-config/config.json -v --detailed-exit-codes register: os_net_config_upgrade failed_when: os_net_config_upgrade.rc not in [0,2] changed_when: os_net_config_upgrade.rc == 2 # Ansbile cannot upgrade itself as it will cause the current execution to fail. # https://github.com/ansible/ansible/issues/56636 - name: Update all packages when: step|int == 3 yum: name: '*' state: latest exclude: ansible ",,694,0
openstack%2Ftripleo-ansible~master~I4e2bbf1a65c320ae5ff0b076d977709ddf51040d,openstack/tripleo-ansible,master,I4e2bbf1a65c320ae5ff0b076d977709ddf51040d,remove broken link,MERGED,2019-09-16 16:40:20.000000000,2019-09-16 18:13:24.000000000,2019-09-16 18:13:24.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 16:40:20.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-image-prepare/molecule/build/playbook-docker-vfs-setup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/34bd57bb9c68456409a2b375f9016ed9fa8e8369', 'message': 'remove broken link\n\nChange-Id: I4e2bbf1a65c320ae5ff0b076d977709ddf51040d\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,682409,34bd57bb9c68456409a2b375f9016ed9fa8e8369,8,4,1,7353,,,0,"remove broken link

Change-Id: I4e2bbf1a65c320ae5ff0b076d977709ddf51040d
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/09/682409/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-container-image-prepare/molecule/build/playbook-docker-vfs-setup.yml'],1,34bd57bb9c68456409a2b375f9016ed9fa8e8369,,,../default/playbook-docker-vfs-setup.yml,0,1
openstack%2Fmonasca-api~master~I89f2de245df7d5393a066d5c225897887978b03e,openstack/monasca-api,master,I89f2de245df7d5393a066d5c225897887978b03e,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-25 09:07:46.000000000,2019-09-16 17:55:41.000000000,2019-09-16 17:54:02.000000000,"[{'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-07-25 09:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/bfb28ae6839e6979effdebdb2cba82497bab20cc', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I89f2de245df7d5393a066d5c225897887978b03e\n'}, {'number': 2, 'created': '2019-08-01 02:13:47.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py', 'lower-constraints.txt', 'api-ref/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/aa769d0d6910556fd5c8e314e456ec3620164a4d', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I89f2de245df7d5393a066d5c225897887978b03e\n'}]",0,672668,aa769d0d6910556fd5c8e314e456ec3620164a4d,13,3,2,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I89f2de245df7d5393a066d5c225897887978b03e
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/68/672668/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'api-ref/source/conf.py', 'doc/source/conf.py', 'lower-constraints.txt', 'releasenotes/source/conf.py']",5,bfb28ae6839e6979effdebdb2cba82497bab20cc,openstackdocstheme,,"project = u'Monitoring API Release Notes'version = '' release = ''# If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. html_last_updated_fmt = '%Y-%m-%d %H:%M' latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",2,63
openstack%2Fwhitebox-tempest-plugin~master~I623ebc171a77309ff52844cbb9fc61a8d81ba6c6,openstack/whitebox-tempest-plugin,master,I623ebc171a77309ff52844cbb9fc61a8d81ba6c6,Add NUMAClient,MERGED,2019-09-16 17:27:54.000000000,2019-09-16 17:54:18.000000000,2019-09-16 17:54:18.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 17:27:54.000000000', 'files': ['whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/tests/test_clients.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/2236646b3da1b224587c5b832233d3146bc5044f', 'message': ""Add NUMAClient\n\nThe new client returns information about a hosts's NUMA\ncharacteristics.\n\nOriginal-review: https://review.rdoproject.org/r/#/c/18742/\nChange-Id: I623ebc171a77309ff52844cbb9fc61a8d81ba6c6\n""}]",0,682429,2236646b3da1b224587c5b832233d3146bc5044f,6,2,1,8864,,,0,"Add NUMAClient

The new client returns information about a hosts's NUMA
characteristics.

Original-review: https://review.rdoproject.org/r/#/c/18742/
Change-Id: I623ebc171a77309ff52844cbb9fc61a8d81ba6c6
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/29/682429/1 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/tests/test_clients.py']",2,2236646b3da1b224587c5b832233d3146bc5044f,," class NUMAClientTestCase(base.WhiteboxPluginTestCase): fake_numactl_output = textwrap.dedent("""""" available: 2 nodes (0-1) node 0 cpus: 0 1 2 node 0 size: 7793 MB node 0 free: 1640 MB node 1 cpus: 3 4 node 1 size: 7875 MB node 1 free: 4059 MB node distances: node 0 1 0: 10 20 1: 20 10"""""") fake_proc_meminfo = textwrap.dedent("""""" MemTotal: 16035320 kB MemFree: 481884 kB MemAvailable: 2489036 kB Buffers: 4128 kB Cached: 2246912 kB SwapCached: 572 kB Active: 5348564 kB Inactive: 1375316 kB Active(anon): 4165752 kB Inactive(anon): 347028 kB Active(file): 1182812 kB Inactive(file): 1028288 kB Unevictable: 112816 kB Mlocked: 112816 kB SwapTotal: 629756 kB SwapFree: 625648 kB Dirty: 68 kB Writeback: 0 kB AnonPages: 4429328 kB Mapped: 329536 kB Shmem: 4052 kB KReclaimable: 165572 kB Slab: 350468 kB SReclaimable: 165572 kB SUnreclaim: 184896 kB KernelStack: 13616 kB PageTables: 26564 kB NFS_Unstable: 0 kB Bounce: 0 kB WritebackTmp: 0 kB CommitLimit: 4551416 kB Committed_AS: 10445028 kB VmallocTotal: 34359738367 kB VmallocUsed: 0 kB VmallocChunk: 0 kB Percpu: 6600 kB HardwareCorrupted: 0 kB AnonHugePages: 0 kB ShmemHugePages: 0 kB ShmemPmdMapped: 0 kB CmaTotal: 0 kB CmaFree: 0 kB HugePages_Total: 4000 HugePages_Free: 4000 HugePages_Rsvd: 0 HugePages_Surp: 0 Hugepagesize: 2048 kB Hugetlb: 8192000 kB DirectMap4k: 391032 kB DirectMap2M: 10749952 kB DirectMap1G: 5242880 kB"""""") fake_node0_meminfo = textwrap.dedent("""""" Node 0 MemTotal: 7971444 kB Node 0 MemFree: 138612 kB Node 0 MemUsed: 7832832 kB Node 0 Active: 2832660 kB Node 0 Inactive: 586824 kB Node 0 Active(anon): 2538412 kB Node 0 Inactive(anon): 326172 kB Node 0 Active(file): 294248 kB Node 0 Inactive(file): 260652 kB Node 0 Unevictable: 105392 kB Node 0 Mlocked: 105392 kB Node 0 Dirty: 136 kB Node 0 Writeback: 0 kB Node 0 FilePages: 589864 kB Node 0 Mapped: 126096 kB Node 0 AnonPages: 2855072 kB Node 0 Shmem: 2024 kB Node 0 KernelStack: 3720 kB Node 0 PageTables: 13308 kB Node 0 NFS_Unstable: 0 kB Node 0 Bounce: 0 kB Node 0 WritebackTmp: 0 kB Node 0 KReclaimable: 54788 kB Node 0 Slab: 142752 kB Node 0 SReclaimable: 54788 kB Node 0 SUnreclaim: 87964 kB Node 0 AnonHugePages: 0 kB Node 0 ShmemHugePages: 0 kB Node 0 ShmemPmdMapped: 0 kB Node 0 HugePages_Total: 4000 Node 0 HugePages_Free: 3000 Node 0 HugePages_Surp: 0"""""") fake_node1_meminfo = textwrap.dedent("""""" Node 1 MemTotal: 8063876 kB Node 1 MemFree: 323536 kB Node 1 MemUsed: 7740340 kB Node 1 Active: 2520684 kB Node 1 Inactive: 795228 kB Node 1 Active(anon): 1632468 kB Node 1 Inactive(anon): 20852 kB Node 1 Active(file): 888216 kB Node 1 Inactive(file): 774376 kB Node 1 Unevictable: 7424 kB Node 1 Mlocked: 7424 kB Node 1 Dirty: 308 kB Node 1 Writeback: 0 kB Node 1 FilePages: 1668208 kB Node 1 Mapped: 206436 kB Node 1 AnonPages: 1579356 kB Node 1 Shmem: 2052 kB Node 1 KernelStack: 9960 kB Node 1 PageTables: 13452 kB Node 1 NFS_Unstable: 0 kB Node 1 Bounce: 0 kB Node 1 WritebackTmp: 0 kB Node 1 KReclaimable: 112860 kB Node 1 Slab: 210308 kB Node 1 SReclaimable: 112860 kB Node 1 SUnreclaim: 97448 kB Node 1 AnonHugePages: 0 kB Node 1 ShmemHugePages: 0 kB Node 1 ShmemPmdMapped: 0 kB Node 1 HugePages_Total: 2000 Node 1 HugePages_Free: 1000 Node 1 HugePages_Surp: 0"""""") def test_get_hugepages(self): numa_client = clients.NUMAClient('fake-host') with mock.patch.object(numa_client, 'execute', side_effect=(self.fake_numactl_output, self.fake_node0_meminfo, self.fake_node1_meminfo)): self.assertEqual(numa_client.get_hugepages(), {0: {'total': 4000, 'free': 3000}, 1: {'total': 2000, 'free': 1000}}) def test_get_pagesize(self): numa_client = clients.NUMAClient('fake-host') with mock.patch.object(numa_client, 'execute', return_value=self.fake_proc_meminfo): self.assertEqual(numa_client.get_pagesize(), 2048) def test_get_host_topology(self): numa_client = clients.NUMAClient('fake-host') with mock.patch.object(numa_client, 'execute', return_value=self.fake_numactl_output): self.assertEqual(numa_client.get_host_topology(), {0: [0, 1, 2], 1: [3, 4]}) def test_get_num_cpus(self): numa_client = clients.NUMAClient('fake-host') with mock.patch.object(numa_client, 'execute', return_value=self.fake_numactl_output): self.assertEqual(5, numa_client.get_num_cpus())",,218,0
openstack%2Fwhitebox-tempest-plugin~master~I0d6a8653315e32b67fbdc646077da36f041ad215,openstack/whitebox-tempest-plugin,master,I0d6a8653315e32b67fbdc646077da36f041ad215,Refactor SSHClient,MERGED,2019-09-16 17:27:54.000000000,2019-09-16 17:54:18.000000000,2019-09-16 17:54:18.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 17:27:54.000000000', 'files': ['whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/tests/test_clients.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/4dd073afdbc46be1ab194b7f022650b24edca01e', 'message': 'Refactor SSHClient\n\nFold the sudo() and in_container() methods into execute(). Add tests for execute().\n\nOriginal-review: https://review.rdoproject.org/r/#/c/18583/\nChange-Id: I0d6a8653315e32b67fbdc646077da36f041ad215\n'}]",0,682428,4dd073afdbc46be1ab194b7f022650b24edca01e,6,2,1,8864,,,0,"Refactor SSHClient

Fold the sudo() and in_container() methods into execute(). Add tests for execute().

Original-review: https://review.rdoproject.org/r/#/c/18583/
Change-Id: I0d6a8653315e32b67fbdc646077da36f041ad215
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/28/682428/1 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/tests/test_clients.py']",2,4dd073afdbc46be1ab194b7f022650b24edca01e,,"class SSHClientTestCase(base.WhiteboxPluginTestCase): def setUp(self): super(SSHClientTestCase, self).setUp() self.client = clients.SSHClient('fake-host') @mock.patch('tempest.lib.common.ssh.Client.exec_command') def test_execute(self, mock_exec): # Test ""vanilla"" execute() self.client.execute('fake command') mock_exec.assert_called_with('fake command') mock_exec.reset_mock() # Test sudo without containers self.client.execute('fake command', sudo=True) mock_exec.assert_called_with('sudo fake command') mock_exec.reset_mock() # Test that container_name is ignored unless containers is set in CONF self.client.execute('fake command', container_name='fake-container') mock_exec.assert_called_with('fake command') mock_exec.reset_mock() # Test that containers in CONF is ignored unless container_name is # passed self.flags(containers=True, group='whitebox') self.client.execute('fake command') mock_exec.assert_called_with('fake command') mock_exec.reset_mock() # Test that container_name is used when containers is set in CONF self.client.execute('fake command', container_name='fake-container') mock_exec.assert_called_with('sudo docker exec -u root ' 'fake-container fake command') mock_exec.reset_mock() # Test that container_runtime is read from CONF if set self.flags(container_runtime='podman', group='whitebox') self.client.execute('fake command', container_name='fake-container') mock_exec.assert_called_with('sudo podman exec -u root ' 'fake-container fake command') mock_exec.reset_mock() ",,57,22
openstack%2Fwhitebox-tempest-plugin~master~If10b6a430a7860e76f7438461280c5e835c24b19,openstack/whitebox-tempest-plugin,master,If10b6a430a7860e76f7438461280c5e835c24b19,Make default flavor root disks size to 1 GB,MERGED,2019-09-16 17:27:54.000000000,2019-09-16 17:54:17.000000000,2019-09-16 17:54:17.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 27478}]","[{'number': 1, 'created': '2019-09-16 17:27:54.000000000', 'files': ['whitebox_tempest_plugin/api/compute/base.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/634bc010a3811d5bd032b2c9ee9dce82a8b46c43', 'message': 'Make default flavor root disks size to 1 GB\n\nAs of Stein, only volume-backed servers are allowed to have a 0 disk\nflavor.\n\nOriginal-review: https://review.rdoproject.org/r/#/c/21151/\nChange-Id: If10b6a430a7860e76f7438461280c5e835c24b19\n'}]",0,682427,634bc010a3811d5bd032b2c9ee9dce82a8b46c43,6,3,1,8864,,,0,"Make default flavor root disks size to 1 GB

As of Stein, only volume-backed servers are allowed to have a 0 disk
flavor.

Original-review: https://review.rdoproject.org/r/#/c/21151/
Change-Id: If10b6a430a7860e76f7438461280c5e835c24b19
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/27/682427/1 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/api/compute/base.py'],1,634bc010a3811d5bd032b2c9ee9dce82a8b46c43,," def create_flavor(self, ram=64, vcpus=2, disk=1, name=None,"," def create_flavor(self, ram=64, vcpus=2, disk=0, name=None,",1,1
openstack%2Fwhitebox-tempest-plugin~master~I3b1731045625eb2674016189b8e0dca8d474e637,openstack/whitebox-tempest-plugin,master,I3b1731045625eb2674016189b8e0dca8d474e637,Make container executable configurable,MERGED,2019-09-16 17:27:54.000000000,2019-09-16 17:54:16.000000000,2019-09-16 17:54:16.000000000,"[{'_account_id': 7020}, {'_account_id': 8864}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 17:27:54.000000000', 'files': ['whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/93bed2cfa4e9b618de3fd2b4a681dda3fd6f5f75', 'message': 'Make container executable configurable\n\nStarting in Stein, containers are run with `podman` instead of\n`docker`. This patch allows operators to specify which executable\nto use from the command line.\n\nOriginal-review: https://review.rdoproject.org/r/#/c/20719/\nChange-Id: I3b1731045625eb2674016189b8e0dca8d474e637\n'}]",0,682426,93bed2cfa4e9b618de3fd2b4a681dda3fd6f5f75,6,3,1,8864,,,0,"Make container executable configurable

Starting in Stein, containers are run with `podman` instead of
`docker`. This patch allows operators to specify which executable
to use from the command line.

Original-review: https://review.rdoproject.org/r/#/c/20719/
Change-Id: I3b1731045625eb2674016189b8e0dca8d474e637
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/26/682426/1 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/config.py']",2,93bed2cfa4e9b618de3fd2b4a681dda3fd6f5f75,," cfg.StrOpt( 'container_runtime', default=""docker"", choices=[""docker"", ""podman""], help=""Name of the executable running containers. Correct values are"" "" 'docker' (default) for osp 12 to 14, and 'podman' starting 15"")",,10,1
openstack%2Felection~master~I9e2d334067bc15f05752fba8b5647188e291e5c5,openstack/election,master,I9e2d334067bc15f05752fba8b5647188e291e5c5,[DNM] Add bogus startdate for PTL and TC elections for testing,ABANDONED,2019-05-28 05:09:20.000000000,2019-09-16 17:49:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-28 05:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/71bad785c2fde014fea47bb922c25a663cca7d73', 'message': '[DNM] Add bogus startdate for PTL and TC elections for testing\n\nChange-Id: I9e2d334067bc15f05752fba8b5647188e291e5c5\n'}, {'number': 2, 'created': '2019-05-28 05:53:11.000000000', 'files': ['configuration.yaml'], 'web_link': 'https://opendev.org/openstack/election/commit/c04535abcf9d1b0b25432139ac10d6cbcc8518c0', 'message': '[DNM] Add bogus startdate for PTL and TC elections for testing\n\nChange-Id: I9e2d334067bc15f05752fba8b5647188e291e5c5\n'}]",0,661675,c04535abcf9d1b0b25432139ac10d6cbcc8518c0,5,1,2,12898,,,0,"[DNM] Add bogus startdate for PTL and TC elections for testing

Change-Id: I9e2d334067bc15f05752fba8b5647188e291e5c5
",git fetch https://review.opendev.org/openstack/election refs/changes/75/661675/1 && git format-patch -1 --stdout FETCH_HEAD,['configuration.yaml'],1,71bad785c2fde014fea47bb922c25a663cca7d73,feature/combined-election-type, # start: 2019-08-27T23:45 start: 2019-05-01T23:45 # start: 2019-08-27T23:45 start: 2019-05-01T23:45, start: 2019-08-27T23:45 start: 2019-08-27T23:45,4,2
openstack%2Felection~master~I837084079b2adb61a1794810a1934969a8540130,openstack/election,master,I837084079b2adb61a1794810a1934969a8540130,[DNM] Add placeholder directories for the upcoming 'U' elections,ABANDONED,2019-05-28 05:09:20.000000000,2019-09-16 17:49:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-28 05:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/d289dcbd8b57e7b51b5b7ded9c299420794b3f68', 'message': ""[DNM] Add placeholder directories for the upcoming 'U' elections\n\nThis change shouldn't be merged it's to allow officials to test the new\ncombined type\n\nChange-Id: I837084079b2adb61a1794810a1934969a8540130\n""}, {'number': 2, 'created': '2019-05-28 05:53:11.000000000', 'files': ['candidates/u-TBA/Karbor/.placeholder', 'candidates/u-TBA/Nova/.placeholder', 'candidates/u-TBA/OpenStackSDK/.placeholder', 'candidates/u-TBA/Quality_Assurance/.placeholder', 'candidates/u-TBA/Heat/.placeholder', 'candidates/u-TBA/Designate/.placeholder', 'candidates/u-TBA/Keystone/.placeholder', 'candidates/u-TBA/Ironic/.placeholder', 'candidates/u-TBA/Congress/.placeholder', 'candidates/u-TBA/Glance/.placeholder', 'candidates/u-TBA/Trove/.placeholder', 'candidates/u-TBA/OpenStack_Charms/.placeholder', 'candidates/u-TBA/Kuryr/.placeholder', 'candidates/u-TBA/Requirements/.placeholder', 'candidates/u-TBA/TC/.placeholder', 'candidates/u-TBA/Freezer/.placeholder', 'candidates/u-TBA/Cyborg/.placeholder', 'candidates/u-TBA/Placement/.placeholder', 'candidates/u-TBA/Winstackers/.placeholder', 'candidates/u-TBA/Oslo/.placeholder', 'candidates/u-TBA/Senlin/.placeholder', 'candidates/u-TBA/Horizon/.placeholder', 'candidates/u-TBA/Mistral/.placeholder', 'candidates/u-TBA/Cinder/.placeholder', 'candidates/u-TBA/Kolla/.placeholder', 'candidates/u-TBA/Tripleo/.placeholder', 'candidates/u-TBA/Sahara/.placeholder', 'candidates/u-TBA/Watcher/.placeholder', 'candidates/u-TBA/Masakari/.placeholder', 'candidates/u-TBA/Cloudkitty/.placeholder', 'candidates/u-TBA/Telemetry/.placeholder', 'candidates/u-TBA/Release_Management/.placeholder', 'candidates/u-TBA/Documentation/.placeholder', 'candidates/u-TBA/Rally/.placeholder', 'candidates/u-TBA/Barbican/.placeholder', 'candidates/u-TBA/Ec2_Api/.placeholder', 'candidates/u-TBA/Vitrage/.placeholder', 'candidates/u-TBA/Packaging_Rpm/.placeholder', 'candidates/u-TBA/Murano/.placeholder', 'candidates/u-TBA/Swift/.placeholder', 'candidates/u-TBA/PowerVMStackers/.placeholder', 'candidates/u-TBA/Loci/.placeholder', 'candidates/u-TBA/Solum/.placeholder', 'candidates/u-TBA/Adjutant/.placeholder', 'candidates/u-TBA/Magnum/.placeholder', 'candidates/u-TBA/Manila/.placeholder', 'candidates/u-TBA/OpenStackClient/.placeholder', 'candidates/u-TBA/Blazar/.placeholder', 'candidates/u-TBA/Storlets/.placeholder', 'candidates/u-TBA/Octavia/.placeholder', 'candidates/u-TBA/OpenStack_Helm/.placeholder', 'candidates/u-TBA/Tacker/.placeholder', 'candidates/u-TBA/Monasca/.placeholder', 'candidates/u-TBA/I18n/.placeholder', 'candidates/u-TBA/Zaqar/.placeholder', 'candidates/u-TBA/Qinling/.placeholder', 'candidates/u-TBA/Tricircle/.placeholder', 'candidates/u-TBA/Puppet_OpenStack/.placeholder', 'candidates/u-TBA/Openstack_Chef/.placeholder', 'candidates/u-TBA/Neutron/.placeholder', 'candidates/u-TBA/OpenStackAnsible/.placeholder', 'candidates/u-TBA/Searchlight/.placeholder', 'candidates/u-TBA/Zun/.placeholder', 'candidates/u-TBA/Infrastructure/.placeholder'], 'web_link': 'https://opendev.org/openstack/election/commit/c5ccf9574d55dba8305231793e3154c3b3c90c4e', 'message': ""[DNM] Add placeholder directories for the upcoming 'U' elections\n\nThis change shouldn't be merged it's to allow officials to test the new\ncombined type\n\nChange-Id: I837084079b2adb61a1794810a1934969a8540130\n""}]",0,661674,c5ccf9574d55dba8305231793e3154c3b3c90c4e,5,1,2,12898,,,0,"[DNM] Add placeholder directories for the upcoming 'U' elections

This change shouldn't be merged it's to allow officials to test the new
combined type

Change-Id: I837084079b2adb61a1794810a1934969a8540130
",git fetch https://review.opendev.org/openstack/election refs/changes/74/661674/1 && git format-patch -1 --stdout FETCH_HEAD,"['candidates/u-TBA/Karbor/.placeholder', 'candidates/u-TBA/Nova/.placeholder', 'candidates/u-TBA/OpenStackSDK/.placeholder', 'candidates/u-TBA/Quality_Assurance/.placeholder', 'candidates/u-TBA/Heat/.placeholder', 'candidates/u-TBA/Designate/.placeholder', 'candidates/u-TBA/Keystone/.placeholder', 'candidates/u-TBA/Ironic/.placeholder', 'candidates/u-TBA/Congress/.placeholder', 'candidates/u-TBA/Glance/.placeholder', 'candidates/u-TBA/Trove/.placeholder', 'candidates/u-TBA/OpenStack_Charms/.placeholder', 'candidates/u-TBA/Kuryr/.placeholder', 'candidates/u-TBA/Requirements/.placeholder', 'candidates/u-TBA/TC/.placeholder', 'candidates/u-TBA/Freezer/.placeholder', 'candidates/u-TBA/Cyborg/.placeholder', 'candidates/u-TBA/Placement/.placeholder', 'candidates/u-TBA/Winstackers/.placeholder', 'candidates/u-TBA/Oslo/.placeholder', 'candidates/u-TBA/Senlin/.placeholder', 'candidates/u-TBA/Horizon/.placeholder', 'candidates/u-TBA/Mistral/.placeholder', 'candidates/u-TBA/Cinder/.placeholder', 'candidates/u-TBA/Kolla/.placeholder', 'candidates/u-TBA/Tripleo/.placeholder', 'candidates/u-TBA/Sahara/.placeholder', 'candidates/u-TBA/Watcher/.placeholder', 'candidates/u-TBA/Masakari/.placeholder', 'candidates/u-TBA/Cloudkitty/.placeholder', 'candidates/u-TBA/Telemetry/.placeholder', 'candidates/u-TBA/Release_Management/.placeholder', 'candidates/u-TBA/Documentation/.placeholder', 'candidates/u-TBA/Rally/.placeholder', 'candidates/u-TBA/Barbican/.placeholder', 'candidates/u-TBA/Ec2_Api/.placeholder', 'candidates/u-TBA/Vitrage/.placeholder', 'candidates/u-TBA/Packaging_Rpm/.placeholder', 'candidates/u-TBA/Murano/.placeholder', 'candidates/u-TBA/Swift/.placeholder', 'candidates/u-TBA/PowerVMStackers/.placeholder', 'candidates/u-TBA/Loci/.placeholder', 'candidates/u-TBA/Solum/.placeholder', 'candidates/u-TBA/Adjutant/.placeholder', 'candidates/u-TBA/Magnum/.placeholder', 'candidates/u-TBA/Manila/.placeholder', 'candidates/u-TBA/OpenStackClient/.placeholder', 'candidates/u-TBA/Blazar/.placeholder', 'candidates/u-TBA/Storlets/.placeholder', 'candidates/u-TBA/Octavia/.placeholder', 'candidates/u-TBA/OpenStack_Helm/.placeholder', 'candidates/u-TBA/Tacker/.placeholder', 'candidates/u-TBA/Monasca/.placeholder', 'candidates/u-TBA/I18n/.placeholder', 'candidates/u-TBA/Zaqar/.placeholder', 'candidates/u-TBA/Qinling/.placeholder', 'candidates/u-TBA/Tricircle/.placeholder', 'candidates/u-TBA/Puppet_OpenStack/.placeholder', 'candidates/u-TBA/Openstack_Chef/.placeholder', 'candidates/u-TBA/Neutron/.placeholder', 'candidates/u-TBA/OpenStackAnsible/.placeholder', 'candidates/u-TBA/Searchlight/.placeholder', 'candidates/u-TBA/Zun/.placeholder', 'candidates/u-TBA/Infrastructure/.placeholder']",64,d289dcbd8b57e7b51b5b7ded9c299420794b3f68,feature/combined-election-type,,,0,0
openstack%2Fnova~master~Ie7e66ff64185d9fd4be2265e040e1afc45b95174,openstack/nova,master,Ie7e66ff64185d9fd4be2265e040e1afc45b95174,Deprecate the XenAPIDriver,MERGED,2019-09-06 15:41:27.000000000,2019-09-16 17:41:39.000000000,2019-09-16 17:39:29.000000000,"[{'_account_id': 1004}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-06 15:41:27.000000000', 'files': ['releasenotes/notes/deprecate-xen-driver-train-bd57a16fa51ab679.yaml', 'nova/virt/xenapi/driver.py', 'nova/conf/xenserver.py', 'doc/source/admin/configuration/hypervisor-xen-api.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/af280ffe3098b84123eae218989ea056e9935bf1', 'message': 'Deprecate the XenAPIDriver\n\nAfter three months since the quality warning change merged [1]\nthere has still been no progress in finding a maintainer for\nthe xenapi driver or someone to get the third party CI running\nagain - which has been off/broken for more than a release.\n\nThis change formally deprecates the driver, logging a warning\non startup along with providing a release note and warnings\nin the docs and [xenserver] config group help.\n\nNote that this does not mean the driver will absolutely be\nremoved in the Ussuri release, but it leaves the option open\nto do so if the nova team decides that should happen.\n\nThis was discussed at the 2019-09-05 nova meeting [2] and\nalso at the Train PTG.\n\n[1] I7f8eb7d5c5a9b1cb0a8d5e607d719b49a22675d3\n[2] http://eavesdrop.openstack.org/meetings/nova/2019/nova.2019-09-05-14.01.log.html#l-227\n\nChange-Id: Ie7e66ff64185d9fd4be2265e040e1afc45b95174\n'}]",5,680732,af280ffe3098b84123eae218989ea056e9935bf1,32,20,1,6873,,,0,"Deprecate the XenAPIDriver

After three months since the quality warning change merged [1]
there has still been no progress in finding a maintainer for
the xenapi driver or someone to get the third party CI running
again - which has been off/broken for more than a release.

This change formally deprecates the driver, logging a warning
on startup along with providing a release note and warnings
in the docs and [xenserver] config group help.

Note that this does not mean the driver will absolutely be
removed in the Ussuri release, but it leaves the option open
to do so if the nova team decides that should happen.

This was discussed at the 2019-09-05 nova meeting [2] and
also at the Train PTG.

[1] I7f8eb7d5c5a9b1cb0a8d5e607d719b49a22675d3
[2] http://eavesdrop.openstack.org/meetings/nova/2019/nova.2019-09-05-14.01.log.html#l-227

Change-Id: Ie7e66ff64185d9fd4be2265e040e1afc45b95174
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/680732/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/xenapi/driver.py', 'releasenotes/notes/deprecate-xen-driver-train-bd57a16fa51ab679.yaml', 'nova/conf/xenserver.py', 'doc/source/admin/configuration/hypervisor-xen-api.rst']",4,af280ffe3098b84123eae218989ea056e9935bf1,deprecate-xen-driver,.. deprecated:: 20.0.0 The xenapi driver is deprecated and may be removed in a future release. The driver is not tested by the OpenStack project nor does it have clear maintainer(s) and thus its quality can not be ensured. If you are using the driver in production please let us know in freenode IRC and/or the openstack-discuss mailing list. ,,28,5
openstack%2Fkolla~master~Iebc1f2c05c1f57c2b6f98ca9772f1ae9d9a420fa,openstack/kolla,master,Iebc1f2c05c1f57c2b6f98ca9772f1ae9d9a420fa,Add pciutils package to cyborg-agent and zun-compute,MERGED,2019-08-16 13:16:57.000000000,2019-09-16 17:23:29.000000000,2019-08-19 17:01:00.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-08-16 13:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d71d7a400a541e63078b5193285bad63dc2d65f7', 'message': 'Add pciutils package to cyborg-agent and zun-compute\n\nThese run lspci and have this requirement in respective bindeps.\n\nCentOS images seem to have it installed but Ubuntu not.\nEnsure pciutils package is always installed.\n\nzun-compute seemed to work nonetheless but generated errors\nabout being unable to take host inventory.\n\ncyborg-agent is unknown to work at all and deb is unbuildable.\n\nChange-Id: Iebc1f2c05c1f57c2b6f98ca9772f1ae9d9a420fa\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-08-16 14:07:36.000000000', 'files': ['docker/cyborg/cyborg-agent/Dockerfile.j2', 'docker/zun/zun-compute/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c323c5be7fd4ebcc71ca4e10a5c15b9ab1f29ba6', 'message': 'Add pciutils package to cyborg-agent and zun-compute\n\nThese run lspci and have this requirement in respective bindeps.\n\nCentOS images seem to have it installed but Ubuntu not.\nEnsure pciutils package is always installed.\n\nzun-compute seemed to work nonetheless but generated errors\nabout being unable to take host inventory.\n\ncyborg-agent is unknown to work at all and deb is unbuildable.\n\nChange-Id: Iebc1f2c05c1f57c2b6f98ca9772f1ae9d9a420fa\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,676932,c323c5be7fd4ebcc71ca4e10a5c15b9ab1f29ba6,16,4,2,30491,,,0,"Add pciutils package to cyborg-agent and zun-compute

These run lspci and have this requirement in respective bindeps.

CentOS images seem to have it installed but Ubuntu not.
Ensure pciutils package is always installed.

zun-compute seemed to work nonetheless but generated errors
about being unable to take host inventory.

cyborg-agent is unknown to work at all and deb is unbuildable.

Change-Id: Iebc1f2c05c1f57c2b6f98ca9772f1ae9d9a420fa
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/32/676932/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/cyborg/cyborg-agent/Dockerfile.j2', 'docker/zun/zun-compute/Dockerfile.j2']",2,d71d7a400a541e63078b5193285bad63dc2d65f7,add-pciutils-package,"{% set zun_compute_packages = [ 'pciutils', ] %} {{ macros.install_packages(zun_compute_packages | customizable(""packages"")) }} ",,12,0
openstack%2Fblazar~master~I3170a0957de43fd2b7bcd32eca375da2d1f17360,openstack/blazar,master,I3170a0957de43fd2b7bcd32eca375da2d1f17360,Lease creation/updation should fail for invalid affinity,MERGED,2019-04-03 08:29:38.000000000,2019-09-16 17:16:36.000000000,2019-09-16 17:12:58.000000000,"[{'_account_id': 8878}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25314}, {'_account_id': 25625}, {'_account_id': 29278}]","[{'number': 1, 'created': '2019-04-03 08:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/29e93cf8e5b8b5cf5291d93bf00407de3fe1283a', 'message': ""Lease creation/updation should fail for invalid affinity\n\nIf user passes invalid affinity values (abc, 2), the\nlease is getting created/updated successfully.\n\nThis patch will return 400 error if user passes invalid\naffinity values to lease create and update APIs.\n\nAPIImpact:\n1)Return 400 instead of 201 when lease is created with\ninvalid affinity for resource_type 'virtual:instance'.\n2)Return 400 instead of 200 when lease is updated with\ninvalid affinity for resource_type 'virtual:instance'.\n\nChange-Id: I3170a0957de43fd2b7bcd32eca375da2d1f17360\nCloses-Bug: #1821576\n""}, {'number': 2, 'created': '2019-04-05 05:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/2c7cc0bf13cf693875af6dd2ff1543b2d946510a', 'message': ""Lease creation/updation should fail for invalid affinity\n\nIf user passes invalid affinity values (abc, 2), the\nlease is getting created/updated successfully.\n\nThis patch will return 400 error if user passes invalid\naffinity values to lease create and update APIs.\n\nAPIImpact:\n1)Return 400 instead of 201 when lease is created with\ninvalid affinity for resource_type 'virtual:instance'.\n2)Return 400 instead of 200 when lease is updated with\ninvalid affinity for resource_type 'virtual:instance'.\n\nChange-Id: I3170a0957de43fd2b7bcd32eca375da2d1f17360\nCloses-Bug: #1821576\n""}, {'number': 3, 'created': '2019-06-06 09:05:24.000000000', 'files': ['api-ref/source/v1/parameters.yaml', 'blazar/tests/plugins/instances/test_instance_plugin.py', 'blazar/plugins/instances/instance_plugin.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/0ce6c7f6c02dd196057f3c2e750758cd04b9978e', 'message': ""Lease creation/updation should fail for invalid affinity\n\nIf user passes invalid affinity values (abc, 2), the lease is getting\ncreated/updated successfully.\n\nThis patch will return 400 error if user passes invalid affinity values\nto lease create and update APIs.\n\nAPIImpact:\n1)Return 400 instead of 201 when lease is created with invalid affinity\nfor resource_type 'virtual:instance'.\n2)Return 400 instead of 200 when lease is updated with invalid affinity\nfor resource_type 'virtual:instance'.\n\nChange-Id: I3170a0957de43fd2b7bcd32eca375da2d1f17360\nCloses-Bug: #1821576\n""}]",10,649536,0ce6c7f6c02dd196057f3c2e750758cd04b9978e,19,6,3,29278,,,0,"Lease creation/updation should fail for invalid affinity

If user passes invalid affinity values (abc, 2), the lease is getting
created/updated successfully.

This patch will return 400 error if user passes invalid affinity values
to lease create and update APIs.

APIImpact:
1)Return 400 instead of 201 when lease is created with invalid affinity
for resource_type 'virtual:instance'.
2)Return 400 instead of 200 when lease is updated with invalid affinity
for resource_type 'virtual:instance'.

Change-Id: I3170a0957de43fd2b7bcd32eca375da2d1f17360
Closes-Bug: #1821576
",git fetch https://review.opendev.org/openstack/blazar refs/changes/36/649536/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v1/parameters.yaml', 'blazar/tests/plugins/instances/test_instance_plugin.py', 'blazar/plugins/instances/instance_plugin.py']",3,29e93cf8e5b8b5cf5291d93bf00407de3fe1283a,bug/1821576,from oslo_utils import strutils if 'affinity' in values: if (values['affinity'] is not None and not strutils.is_valid_boolstr(values['affinity'])): raise mgr_exceptions.MalformedParameter( param='affinity (must be a bool value or None)') ,,20,2
openstack%2Fopenstack-helm-infra~master~I8f08a44b05d0159ad1a043f052751d44b4625f1d,openstack/openstack-helm-infra,master,I8f08a44b05d0159ad1a043f052751d44b4625f1d,Grafana: Updated the Ceph-Cluster variable sorting,MERGED,2019-08-16 15:27:11.000000000,2019-09-16 17:16:24.000000000,2019-09-16 17:15:12.000000000,"[{'_account_id': 17591}, {'_account_id': 18295}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 28849}, {'_account_id': 30582}, {'_account_id': 30777}]","[{'number': 1, 'created': '2019-08-16 15:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/92459cf06500b626d19a7881e932772a9b133e17', 'message': 'Grafana: Updated the Ceph-Cluster variable query\n\nEarlier the query used the release_group to get the Ceph_cluster variable\nvalue, modified this query to get the value from kubernetes_namespace.\n\nChange-Id: I8f08a44b05d0159ad1a043f052751d44b4625f1d\n'}, {'number': 2, 'created': '2019-08-16 15:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/139443b2e4dada5fd4c8febdc89c08c85525f15e', 'message': 'Grafana: Updated the Ceph-Cluster variable sorting\n\nEarlier the query used to sort variables in asc alphabetical order,\nupdated to sort the cluster in desc alphabetical order\n\nChange-Id: I8f08a44b05d0159ad1a043f052751d44b4625f1d\n'}, {'number': 3, 'created': '2019-08-16 16:08:01.000000000', 'files': ['grafana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f6ff42061f81397cb3a9872075346e06eb6d067d', 'message': 'Grafana: Updated the Ceph-Cluster variable sorting\n\nEarlier the query used to sort variables in asc alphabetical order,\nupdated to sort the cluster in desc alphabetical order\n\nChange-Id: I8f08a44b05d0159ad1a043f052751d44b4625f1d\n'}]",0,676975,f6ff42061f81397cb3a9872075346e06eb6d067d,15,7,3,30582,,,0,"Grafana: Updated the Ceph-Cluster variable sorting

Earlier the query used to sort variables in asc alphabetical order,
updated to sort the cluster in desc alphabetical order

Change-Id: I8f08a44b05d0159ad1a043f052751d44b4625f1d
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/75/676975/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/values.yaml'],1,92459cf06500b626d19a7881e932772a9b133e17,ceph-cluster," query: label_values(ceph_health_status, kubernetes_namespace)"," query: label_values(ceph_health_status, release_group)",1,1
openstack%2Fblazar~master~I70e35ac7a524afb04077da5978c7563dec120639,openstack/blazar,master,I70e35ac7a524afb04077da5978c7563dec120639,Lease creation/update should fail if amount is 0,MERGED,2019-01-11 05:18:07.000000000,2019-09-16 17:14:38.000000000,2019-09-16 17:12:56.000000000,"[{'_account_id': 8878}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 29278}]","[{'number': 1, 'created': '2019-01-11 05:18:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/f2ff867f58cef71bd8160da9baa182431986cf97', 'message': ""Lease creation should fail if amount is 0\n\nLease is getting created for resource_type virtual:instance\nwith amount=0.\nThis patch doesn't allow creation of lease with amount=0,\nit will raise 400 BadRequest.\n\nLease creation for resource_type physical:host with\nmin=0 or max=0 raises 500 Internal Server Error.\nThis patch doesn't allow creation of lease with\nmin=0 or max=0, it will raise 400 BadRequest.\n\nAPIImpact:\n1)Return 400 instead of 201 when lease is created with\namount=0 for resource_type 'virtual:instance'.\n2)Return 400 instead of 500 when lease is created with\nmin=0 or max=0 for resource_type 'physical:host'.\n\nCloses-Bug: #1807101\n\nChange-Id: I70e35ac7a524afb04077da5978c7563dec120639\n""}, {'number': 2, 'created': '2019-02-13 07:29:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/f2afbfae5d59e8552b8e8d8807a0fa45aa004ad9', 'message': ""Lease creation/updation should fail if amount is 0\n\nLease is getting created and updated for resource_type\nvirtual:instance with amount=0.\nThis patch doesn't allow creation and updation of\nlease with amount=0, it will raise 400 BadRequest.\n\nLease creation for resource_type physical:host with\nmin=0 or max=0 raises 500 Internal Server Error\nand lease is updated for resource_type physical:host\nwith min=0 or max=0.\nThis patch doesn't allow creation and updation of\nlease with min=0 or max=0, it will raise 400 BadRequest.\n\nAPIImpact:\n1)Return 400 instead of 201 when lease is created with\namount=0 for resource_type 'virtual:instance'.\n2)Return 400 instead of 500 when lease is created with\nmin=0 or max=0 for resource_type 'physical:host'.\n3)Return 400 instead of 200 when lease is updated with\namount=0 for resource_type 'virtual:instance'.\n4)Return 400 instead of 200 when lease is updated with\nmin=0 or max=0 for resource_type 'physical:host'.\n\nCloses-Bug: #1807101\n\nChange-Id: I70e35ac7a524afb04077da5978c7563dec120639\n""}, {'number': 3, 'created': '2019-02-26 08:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/e2f0f58665636c46ac06730bf0fd6789fce8d2c4', 'message': ""Lease creation/updation should fail if amount is 0\n\nLease is getting created and updated for resource_type\nvirtual:instance with amount=0.\nThis patch doesn't allow creation and updation of\nlease with amount=0, it will raise 400 BadRequest.\n\nLease creation for resource_type physical:host with\nmin=0 or max=0 raises 500 Internal Server Error\nand lease is updated for resource_type physical:host\nwith min=0 or max=0.\nThis patch doesn't allow creation and updation of\nlease with min=0 or max=0, it will raise 400 BadRequest.\n\nAPIImpact:\n1)Return 400 instead of 201 when lease is created with\namount=0 for resource_type 'virtual:instance'.\n2)Return 400 instead of 500 when lease is created with\nmin=0 or max=0 for resource_type 'physical:host'.\n3)Return 400 instead of 200 when lease is updated with\namount=0 for resource_type 'virtual:instance'.\n4)Return 400 instead of 200 when lease is updated with\nmin=0 or max=0 for resource_type 'physical:host'.\n\nCloses-Bug: #1807101\n\nChange-Id: I70e35ac7a524afb04077da5978c7563dec120639\n""}, {'number': 4, 'created': '2019-03-19 09:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/42a6cd27e986abc56cbaea81fd8ab5a81456c8a3', 'message': ""Lease creation/updation should fail if amount is 0\n\nLease is getting created and updated for resource_type\nvirtual:instance with amount=0.\nThis patch doesn't allow creation and updation of\nlease with amount=0, it will raise 400 BadRequest.\n\nLease creation for resource_type physical:host with\nmin=0 or max=0 raises 500 Internal Server Error\nand lease is updated for resource_type physical:host\nwith min=0 or max=0.\nThis patch doesn't allow creation and updation of\nlease with min=0 or max=0, it will raise 400 BadRequest.\n\nAPIImpact:\n1)Return 400 instead of 201 when lease is created with\namount=0 for resource_type 'virtual:instance'.\n2)Return 400 instead of 500 when lease is created with\nmin=0 or max=0 for resource_type 'physical:host'.\n3)Return 400 instead of 200 when lease is updated with\namount=0 for resource_type 'virtual:instance'.\n4)Return 400 instead of 200 when lease is updated with\nmin=0 or max=0 for resource_type 'physical:host'.\n\nCloses-Bug: #1807101\n\nChange-Id: I70e35ac7a524afb04077da5978c7563dec120639\n""}, {'number': 5, 'created': '2019-03-28 11:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/fd5f0dc6577581a725e577b0207a90be4e6d77a8', 'message': ""Lease creation/updation should fail if amount is 0\n\nLease is getting created and updated for resource_type\nvirtual:instance with amount=0.\nThis patch doesn't allow creation and updation of\nlease with amount=0, it will raise 400 BadRequest.\n\nLease creation for resource_type physical:host with\nmin=0 or max=0 raises 500 Internal Server Error\nand lease is updated for resource_type physical:host\nwith min=0 or max=0.\nThis patch doesn't allow creation and updation of\nlease with min=0 or max=0, it will raise 400 BadRequest.\n\nAPIImpact:\n1)Return 400 instead of 201 when lease is created with\namount=0 for resource_type 'virtual:instance'.\n2)Return 400 instead of 500 when lease is created with\nmin=0 or max=0 for resource_type 'physical:host'.\n3)Return 400 instead of 200 when lease is updated with\namount=0 for resource_type 'virtual:instance'.\n4)Return 400 instead of 200 when lease is updated with\nmin=0 or max=0 for resource_type 'physical:host'.\n\nCloses-Bug: #1807101\n\nChange-Id: I70e35ac7a524afb04077da5978c7563dec120639\n""}, {'number': 6, 'created': '2019-04-03 08:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/26e91408f5652a2ef2382809926ad90893c2f38f', 'message': ""Lease creation/updation should fail if amount is 0\n\nLease is getting created and updated for resource_type\nvirtual:instance with amount=0.\nThis patch doesn't allow creation and updation of\nlease with amount=0, it will raise 400 BadRequest.\n\nLease creation for resource_type physical:host with\nmin=0 or max=0 raises 500 Internal Server Error\nand lease is updated for resource_type physical:host\nwith min=0 or max=0.\nThis patch doesn't allow creation and updation of\nlease with min=0 or max=0, it will raise 400 BadRequest.\n\nAPIImpact:\n1)Return 400 instead of 201 when lease is created with\namount=0 for resource_type 'virtual:instance'.\n2)Return 400 instead of 500 when lease is created with\nmin=0 or max=0 for resource_type 'physical:host'.\n3)Return 400 instead of 200 when lease is updated with\namount=0 for resource_type 'virtual:instance'.\n4)Return 400 instead of 200 when lease is updated with\nmin=0 or max=0 for resource_type 'physical:host'.\n\nCloses-Bug: #1807101\n\nChange-Id: I70e35ac7a524afb04077da5978c7563dec120639\n""}, {'number': 7, 'created': '2019-06-06 09:05:24.000000000', 'files': ['blazar/plugins/oshosts/host_plugin.py', 'blazar/tests/plugins/oshosts/test_physical_host_plugin.py', 'api-ref/source/v1/parameters.yaml', 'blazar/tests/plugins/instances/test_instance_plugin.py', 'blazar/db/api.py', 'blazar/plugins/instances/instance_plugin.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/fa6bb0b5b2976906214b7f7f4f4aa5cb24234736', 'message': ""Lease creation/update should fail if amount is 0\n\nLease is getting created and updated for resource_type virtual:instance\nwith amount=0.\nThis patch doesn't allow creation and update of lease with amount=0, it\nwill raise 400 BadRequest.\n\nLease creation for resource_type physical:host with min=0 or max=0\nraises 500 Internal Server Error and lease is updated for resource_type\nphysical:host with min=0 or max=0.\nThis patch doesn't allow creation and update of lease with min=0 or\nmax=0, it will raise 400 BadRequest.\n\nAPIImpact:\n1)Return 400 instead of 201 when lease is created with amount=0 for\nresource_type 'virtual:instance'.\n2)Return 400 instead of 500 when lease is created with min=0 or max=0\nfor resource_type 'physical:host'.\n3)Return 400 instead of 200 when lease is updated with amount=0 for\nresource_type 'virtual:instance'.\n4)Return 400 instead of 200 when lease is updated with min=0 or max=0\nfor resource_type 'physical:host'.\n\nCloses-Bug: #1807101\n\nChange-Id: I70e35ac7a524afb04077da5978c7563dec120639\n""}]",9,630026,fa6bb0b5b2976906214b7f7f4f4aa5cb24234736,31,5,7,29278,,,0,"Lease creation/update should fail if amount is 0

Lease is getting created and updated for resource_type virtual:instance
with amount=0.
This patch doesn't allow creation and update of lease with amount=0, it
will raise 400 BadRequest.

Lease creation for resource_type physical:host with min=0 or max=0
raises 500 Internal Server Error and lease is updated for resource_type
physical:host with min=0 or max=0.
This patch doesn't allow creation and update of lease with min=0 or
max=0, it will raise 400 BadRequest.

APIImpact:
1)Return 400 instead of 201 when lease is created with amount=0 for
resource_type 'virtual:instance'.
2)Return 400 instead of 500 when lease is created with min=0 or max=0
for resource_type 'physical:host'.
3)Return 400 instead of 200 when lease is updated with amount=0 for
resource_type 'virtual:instance'.
4)Return 400 instead of 200 when lease is updated with min=0 or max=0
for resource_type 'physical:host'.

Closes-Bug: #1807101

Change-Id: I70e35ac7a524afb04077da5978c7563dec120639
",git fetch https://review.opendev.org/openstack/blazar refs/changes/26/630026/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/plugins/oshosts/host_plugin.py', 'blazar/tests/plugins/oshosts/test_physical_host_plugin.py', 'blazar/tests/plugins/instances/test_instance_plugin.py', 'blazar/plugins/instances/instance_plugin.py']",4,f2ff867f58cef71bd8160da9baa182431986cf97,bug/1821576," if not(isinstance(values['amount'], int)) or values['amount'] <= 0: raise mgr_exceptions.MalformedParameter( param='amount (must be greater than or equal to 1)') ",,42,57
openstack%2Fopenstack-helm~master~I717920cb0b75951175019bb991c8d948916a9db3,openstack/openstack-helm,master,I717920cb0b75951175019bb991c8d948916a9db3,Mount all ironic conductor volumes.,MERGED,2019-08-27 10:31:03.000000000,2019-09-16 17:10:44.000000000,2019-09-16 17:08:56.000000000,"[{'_account_id': 10068}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 30891}]","[{'number': 1, 'created': '2019-08-27 10:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9acd4f0c0f66da7fc86ada569db1938a5c853a44', 'message': 'Mount all ironic conductor volumes.\n\nWe can configure custom volumes and volumeMounts in the helm chart for ironic conductor and these are now mounted in the ironic-conductor container.\n\nChange-Id: I717920cb0b75951175019bb991c8d948916a9db3\nSigned-off-by: Radu Viorel Cosnita <radu.cosnita@gmail.com>\n'}, {'number': 2, 'created': '2019-09-10 11:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/204e11750fdd19cc10bde5f5fba67f0b03612162', 'message': 'Mount all ironic conductor volumes.\n\nWe can configure custom volumes and volumeMounts in the helm chart for ironic conductor and these are now mounted in the ironic-conductor container.\n\nChange-Id: I717920cb0b75951175019bb991c8d948916a9db3\nSigned-off-by: Radu Viorel Cosnita <radu.cosnita@gmail.com>\nStory: 2006458\nTask: 36380\n'}, {'number': 3, 'created': '2019-09-16 15:14:35.000000000', 'files': ['ironic/templates/statefulset-conductor.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c54f51c603141c08ce5291711ba8fccf6c8c7c67', 'message': 'Mount all ironic conductor volumes.\n\nWe can configure custom volumes and volumeMounts in the helm chart for ironic conductor and these are now mounted in the ironic-conductor container.\n\nChange-Id: I717920cb0b75951175019bb991c8d948916a9db3\nSigned-off-by: Radu Viorel Cosnita <radu.cosnita@gmail.com>\nStory: 2006458\nTask: 36380\n'}]",0,678786,c54f51c603141c08ce5291711ba8fccf6c8c7c67,16,5,3,30891,,,0,"Mount all ironic conductor volumes.

We can configure custom volumes and volumeMounts in the helm chart for ironic conductor and these are now mounted in the ironic-conductor container.

Change-Id: I717920cb0b75951175019bb991c8d948916a9db3
Signed-off-by: Radu Viorel Cosnita <radu.cosnita@gmail.com>
Story: 2006458
Task: 36380
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/86/678786/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/templates/statefulset-conductor.yaml'],1,9acd4f0c0f66da7fc86ada569db1938a5c853a44,36380-ironic-volumes,{{ if $mounts_ironic_conductor.volumeMounts }}{{ toYaml $mounts_ironic_conductor.volumeMounts | indent 12 }}{{ end }},,1,0
openstack%2Frequirements~master~I035354ce7fa42718999b36add04984df8c01feb9,openstack/requirements,master,I035354ce7fa42718999b36add04984df8c01feb9,update constraint for python-designateclient to new release 3.0.0,MERGED,2019-09-16 09:28:07.000000000,2019-09-16 17:04:08.000000000,2019-09-16 17:02:39.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 09:28:07.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/fb53e251f04a5ecca43644b03caf2e92893c8fde', 'message': 'update constraint for python-designateclient to new release 3.0.0\n\nChange-Id: I035354ce7fa42718999b36add04984df8c01feb9\nmeta:version: 3.0.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Erik Olof Gunnar Andersson <eandersson@blizzard.com>\nmeta:release:Commit: Erik Olof Gunnar Andersson <eandersson@blizzard.com>\nmeta:release:Change-Id: Ic1ea8ccd1633bbb6cac3b6c6dd3a832525447a07\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Jens Harbott (frickler) <j.harbott@x-ion.de>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,682316,fb53e251f04a5ecca43644b03caf2e92893c8fde,7,2,1,11131,,,0,"update constraint for python-designateclient to new release 3.0.0

Change-Id: I035354ce7fa42718999b36add04984df8c01feb9
meta:version: 3.0.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Erik Olof Gunnar Andersson <eandersson@blizzard.com>
meta:release:Commit: Erik Olof Gunnar Andersson <eandersson@blizzard.com>
meta:release:Change-Id: Ic1ea8ccd1633bbb6cac3b6c6dd3a832525447a07
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Jens Harbott (frickler) <j.harbott@x-ion.de>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/16/682316/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,fb53e251f04a5ecca43644b03caf2e92893c8fde,new-release,python-designateclient===3.0.0,python-designateclient===2.12.0,1,1
openstack%2Fopenstack-zuul-jobs~master~I9e5ebae0dbf6b327ff500b231fcde74b824fa29f,openstack/openstack-zuul-jobs,master,I9e5ebae0dbf6b327ff500b231fcde74b824fa29f,Remove release-tox-docs-infra,MERGED,2019-09-14 17:11:01.000000000,2019-09-16 16:52:56.000000000,2019-09-16 16:49:19.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-14 17:11:01.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/159406ba8e514cfc0290936f47efddb766f894aa', 'message': 'Remove release-tox-docs-infra\n\nThis template is now unused, remove it.\n\nDepends-On: https://review.opendev.org/682222\nChange-Id: I9e5ebae0dbf6b327ff500b231fcde74b824fa29f\n'}]",0,682223,159406ba8e514cfc0290936f47efddb766f894aa,10,4,1,6547,,,0,"Remove release-tox-docs-infra

This template is now unused, remove it.

Depends-On: https://review.opendev.org/682222
Change-Id: I9e5ebae0dbf6b327ff500b231fcde74b824fa29f
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/23/682223/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,159406ba8e514cfc0290936f47efddb766f894aa,infra-publish,, name: release-tox-docs-infra description: | Runs normal OpenStack PTI build jobs and publishes to the Infra docs location only on tagged releases. check: jobs: - opendev-tox-docs gate: jobs: - opendev-tox-docs release: jobs: - publish-tox-docs-infra - project-template:,0,15
openstack%2Ftacker~master~I7275d99a163a5320ce85fb7e6d4ed237fedb46af,openstack/tacker,master,I7275d99a163a5320ce85fb7e6d4ed237fedb46af,Add release note for bug-1829384.,MERGED,2019-09-12 07:29:06.000000000,2019-09-16 16:51:00.000000000,2019-09-16 16:47:34.000000000,"[{'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 26588}]","[{'number': 1, 'created': '2019-09-12 07:29:06.000000000', 'files': ['releasenotes/notes/bug-1829384-b63fd88cc0895a7e.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/b951741d40f0a5d0293ffd3227ff43ed68ecfd39', 'message': 'Add release note for bug-1829384.\n\nChange-Id: I7275d99a163a5320ce85fb7e6d4ed237fedb46af\n'}]",0,681654,b951741d40f0a5d0293ffd3227ff43ed68ecfd39,7,3,1,18955,,,0,"Add release note for bug-1829384.

Change-Id: I7275d99a163a5320ce85fb7e6d4ed237fedb46af
",git fetch https://review.opendev.org/openstack/tacker refs/changes/54/681654/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bug-1829384-b63fd88cc0895a7e.yaml'],1,b951741d40f0a5d0293ffd3227ff43ed68ecfd39,,--- fixes: - | Fixed Kubernetes 'ssl_ca_cert' value error. ,,4,0
openstack%2Ftacker~master~Ib08d5423be32207add4d2383fcd389bdb34e598c,openstack/tacker,master,Ib08d5423be32207add4d2383fcd389bdb34e598c,Add release note for VNF and NS force delete.,MERGED,2019-09-12 06:04:02.000000000,2019-09-16 16:48:50.000000000,2019-09-16 16:47:33.000000000,"[{'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 26588}]","[{'number': 1, 'created': '2019-09-12 06:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/97e029c355826389e60791f34541f7f98aa40679', 'message': 'Add release note for NS force delete.\n\nChange-Id: Ib08d5423be32207add4d2383fcd389bdb34e598c\n'}, {'number': 2, 'created': '2019-09-12 07:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/efc68bf6075570890556e24a495c9aba61e26eff', 'message': 'Add release note for NS force delete.\n\nChange-Id: Ib08d5423be32207add4d2383fcd389bdb34e598c\n'}, {'number': 3, 'created': '2019-09-13 12:19:10.000000000', 'files': ['releasenotes/notes/force-delete-resources-61770c4ac5f5f119.yaml'], 'web_link': 'https://opendev.org/openstack/tacker/commit/443ad22e29eff9277ae9e12f72a9f73fc015f38d', 'message': 'Add release note for VNF and NS force delete.\n\nChange-Id: Ib08d5423be32207add4d2383fcd389bdb34e598c\n'}]",0,681644,443ad22e29eff9277ae9e12f72a9f73fc015f38d,11,3,3,18955,,,0,"Add release note for VNF and NS force delete.

Change-Id: Ib08d5423be32207add4d2383fcd389bdb34e598c
",git fetch https://review.opendev.org/openstack/tacker refs/changes/44/681644/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/force-delete-resources-61770c4ac5f5f119.yaml'],1,97e029c355826389e60791f34541f7f98aa40679,,"--- features: - | Adds '--force' parameter to NS delete command, to delete network service instances forcefully. This is admin only operation to clean instances which stuck in abnormal state. ",,6,0
openstack%2Fkayobe-config~master~I8fde3ec4c4889b9d3b76ac7a7ec773dd699b10f6,openstack/kayobe-config,master,I8fde3ec4c4889b9d3b76ac7a7ec773dd699b10f6,Update docs for repo rename x/ to openstack/,ABANDONED,2019-08-04 17:59:11.000000000,2019-09-16 16:47:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-08-04 17:59:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/e2f110c3a98eb6c1dc97bcfe0d5b9ba46913b2eb', 'message': 'Update docs for repo rename x/ to openstack/\n\nDepends-On: https://review.opendev.org/669298\nChange-Id: I8fde3ec4c4889b9d3b76ac7a7ec773dd699b10f6\n'}, {'number': 2, 'created': '2019-08-04 18:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/645a750d886d309545b01498c88a84e6cdaa4fc1', 'message': 'Update docs for repo rename x/ to openstack/\n\nDepends-On: https://review.opendev.org/669298\nChange-Id: I8fde3ec4c4889b9d3b76ac7a7ec773dd699b10f6\n'}, {'number': 3, 'created': '2019-09-16 16:43:14.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/f79546f6c2e23a4aaa588c26e369d809b9c4f0a2', 'message': 'Update docs for repo rename x/ to openstack/\n\nDepends-On: https://review.opendev.org/669298\nChange-Id: I8fde3ec4c4889b9d3b76ac7a7ec773dd699b10f6\n'}]",0,674507,f79546f6c2e23a4aaa588c26e369d809b9c4f0a2,6,1,3,14826,,,0,"Update docs for repo rename x/ to openstack/

Depends-On: https://review.opendev.org/669298
Change-Id: I8fde3ec4c4889b9d3b76ac7a7ec773dd699b10f6
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/07/674507/3 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'README.rst']",2,e2f110c3a98eb6c1dc97bcfe0d5b9ba46913b2eb,,<https://opendev.org/openstack/kayobe>`_ project. It is intended to encourage* Source: https://opendev.org/openstack/kayobe,<https://opendev.org/x/kayobe>`_ project. It is intended to encourage* Source: https://opendev.org/x/kayobe,3,3
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ibee072bec9916804163dab29e164eb1423cd08f8,openstack/tripleo-heat-templates,stable/stein,Ibee072bec9916804163dab29e164eb1423cd08f8,Run facts gathering always for upgrades.,MERGED,2019-09-10 22:12:10.000000000,2019-09-16 16:46:45.000000000,2019-09-16 16:46:44.000000000,"[{'_account_id': 3153}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 11090}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-09-10 22:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/74869249addcc359755fd564f8b5e783c667780b', 'message': ""Run facts gathering always for upgrades.\n\nUp to now, each of the upgrade steps to gather facts from the\nUndercloud and Overcloud nodes did contain a tag named facts.\nThis allowed us to run the facts gathering at will, however\nthere is a problem with the upgrade_tasks. As it is allowed to\npass a specific tag during its execution. So, if the task passed\nis different than facts, for example system_upgrade, then the\nfacts gathering tasks wont be executed and the upgrade tasks\nwill fail when trying to access some of the ansible facts (as\nit could be ansible_hostname).\nThe solution for this is to run always the facts gathering, no\nmatter what tag is being passed we'll have the facts available\nduring the execution.\n\nChange-Id: Ibee072bec9916804163dab29e164eb1423cd08f8\n(cherry picked from commit 205ac0f123b598fa292335d05519fd59e160ed39)\n""}, {'number': 2, 'created': '2019-09-16 09:16:55.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7db107aa83eaf49869df59f81dc22d0dc94fae71', 'message': ""Run facts gathering always for upgrades.\n\nUp to now, each of the upgrade steps to gather facts from the\nUndercloud and Overcloud nodes did contain a tag named facts.\nThis allowed us to run the facts gathering at will, however\nthere is a problem with the upgrade_tasks. As it is allowed to\npass a specific tag during its execution. So, if the task passed\nis different than facts, for example system_upgrade, then the\nfacts gathering tasks wont be executed and the upgrade tasks\nwill fail when trying to access some of the ansible facts (as\nit could be ansible_hostname).\nThe solution for this is to run always the facts gathering, no\nmatter what tag is being passed we'll have the facts available\nduring the execution.\n\nChange-Id: Ibee072bec9916804163dab29e164eb1423cd08f8\n(cherry picked from commit 205ac0f123b598fa292335d05519fd59e160ed39)\n""}]",0,681351,7db107aa83eaf49869df59f81dc22d0dc94fae71,28,9,2,11090,,,0,"Run facts gathering always for upgrades.

Up to now, each of the upgrade steps to gather facts from the
Undercloud and Overcloud nodes did contain a tag named facts.
This allowed us to run the facts gathering at will, however
there is a problem with the upgrade_tasks. As it is allowed to
pass a specific tag during its execution. So, if the task passed
is different than facts, for example system_upgrade, then the
facts gathering tasks wont be executed and the upgrade tasks
will fail when trying to access some of the ansible facts (as
it could be ansible_hostname).
The solution for this is to run always the facts gathering, no
matter what tag is being passed we'll have the facts available
during the execution.

Change-Id: Ibee072bec9916804163dab29e164eb1423cd08f8
(cherry picked from commit 205ac0f123b598fa292335d05519fd59e160ed39)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/681351/2 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,74869249addcc359755fd564f8b5e783c667780b,, tags: always tags: always, tags: - facts tags: - facts,2,4
openstack%2Fkayobe-config-dev~master~I4ade3d26ec2504f88567e03443f2b9977fd02f28,openstack/kayobe-config-dev,master,I4ade3d26ec2504f88567e03443f2b9977fd02f28,Update links after repo rename x/ to openstack/,ABANDONED,2019-08-04 18:12:51.000000000,2019-09-16 16:45:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-08-04 18:12:51.000000000', 'files': ['.gitreview', 'README.rst'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/82e906ffce105ad617e150186be054b70129a678', 'message': 'Update links after repo rename x/ to openstack/\n\nDepends-On: https://review.opendev.org/669298\nChange-Id: I4ade3d26ec2504f88567e03443f2b9977fd02f28\n'}]",0,674509,82e906ffce105ad617e150186be054b70129a678,3,1,1,14826,,,0,"Update links after repo rename x/ to openstack/

Depends-On: https://review.opendev.org/669298
Change-Id: I4ade3d26ec2504f88567e03443f2b9977fd02f28
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/09/674509/1 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'README.rst']",2,82e906ffce105ad617e150186be054b70129a678,,"<https://opendev.org/openstack/kayobe-config>`__ repository, and* Source: https://opendev.org/openstack/kayobe-config-dev","<https://opendev.org/x/kayobe-config>`__ repository, and* Source: https://opendev.org/x/kayobe-config-dev",3,3
openstack%2Fwhitebox-tempest-plugin~master~I876cf900299674c916e8aefb11cf5140afe51f5e,openstack/whitebox-tempest-plugin,master,I876cf900299674c916e8aefb11cf5140afe51f5e,Move .gitreview from RDO to OpenStack,MERGED,2019-04-11 20:26:53.000000000,2019-09-16 16:41:12.000000000,2019-09-16 16:41:12.000000000,"[{'_account_id': 7020}, {'_account_id': 8864}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-11 20:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/5d156430e8f44b136bcf9de47119ee143b753a9f', 'message': 'Move .gitreview from RDO to OpenStack\n\nChange-Id: I876cf900299674c916e8aefb11cf5140afe51f5e\n'}, {'number': 2, 'created': '2019-04-11 20:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/c057a702687fd2badf3d15fbeba253c878d8ab42', 'message': 'Move .gitreview from RDO to OpenStack\n\nChange-Id: I876cf900299674c916e8aefb11cf5140afe51f5e\n'}, {'number': 3, 'created': '2019-04-11 23:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/ba79698d9ef11a5d64cedd1f73cc1ca4e6b27934', 'message': 'Move .gitreview from RDO to OpenStack\n\nChange-Id: I876cf900299674c916e8aefb11cf5140afe51f5e\n'}, {'number': 4, 'created': '2019-09-16 15:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/98f9b58e3f943a65893af668a6975f7ca0729464', 'message': 'Move .gitreview from RDO to OpenStack\n\nChange-Id: I876cf900299674c916e8aefb11cf5140afe51f5e\n'}, {'number': 5, 'created': '2019-09-16 15:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/9fbbf19bfc1c5bfc724afb5dc98902eab1523c2b', 'message': 'Move .gitreview from RDO to OpenStack\n\nChange-Id: I876cf900299674c916e8aefb11cf5140afe51f5e\n'}, {'number': 6, 'created': '2019-09-16 15:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/eb5389f7423e166cbcb8f6f5d7e09dcddea2a6ee', 'message': 'Move .gitreview from RDO to OpenStack\n\nChange-Id: I876cf900299674c916e8aefb11cf5140afe51f5e\n'}, {'number': 7, 'created': '2019-09-16 15:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/87204bbfad560b3544c77963d68463fa6bce6d6f', 'message': 'Move .gitreview from RDO to OpenStack\n\nChange-Id: I876cf900299674c916e8aefb11cf5140afe51f5e\n'}, {'number': 8, 'created': '2019-09-16 15:54:38.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/30f1c0f782f881e73f5847f403ded3d587d27b08', 'message': 'Move .gitreview from RDO to OpenStack\n\nChange-Id: I876cf900299674c916e8aefb11cf5140afe51f5e\n'}]",0,651922,30f1c0f782f881e73f5847f403ded3d587d27b08,23,3,8,8864,,,0,"Move .gitreview from RDO to OpenStack

Change-Id: I876cf900299674c916e8aefb11cf5140afe51f5e
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/22/651922/4 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,5d156430e8f44b136bcf9de47119ee143b753a9f,,host=review.openstack.orgproject=openstack/whitebox-tempest-plugin.git,host=review.rdoproject.orgproject=openstack/whitebox-tempest-plugin defaultbranch=master,2,3
openstack%2Ftripleo-ansible~master~I20e69315bacdded4bc2d5b47e18609f130f8abc5,openstack/tripleo-ansible,master,I20e69315bacdded4bc2d5b47e18609f130f8abc5,Add local_address to the default hieradata on all hosts,MERGED,2019-09-12 21:19:10.000000000,2019-09-16 16:39:33.000000000,2019-09-16 16:39:33.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8866}, {'_account_id': 9098}, {'_account_id': 10969}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-12 21:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d232d977870ed5fb5f76159e74cc1f0a2d14fabc', 'message': 'Add local_address to the default hieradata on all hosts\n\nThis change will ensure a local_address is always defined within our\ngenerated hieradata. This change imports existing logic into our config\nto ensure that the value of the local_address matches our expected\nvalues. We ensure compatibility with legacy installs by inspecting if a\nhost has IPv6 enabled on the loopback device. In the event that IPv6 is\nenabled, the value of local_address will be set to ""localhost"" otherwise\nit will defined as ""127.0.0.1"".\n\nChange-Id: I20e69315bacdded4bc2d5b47e18609f130f8abc5\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-09-12 21:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d42487abbf1df3c29734a2275f877aec9071024f', 'message': 'Add local_address to the default hieradata on all hosts\n\nThis change will ensure a local_address is always defined within our\ngenerated hieradata. This change imports existing logic into our config\nto ensure that the value of the local_address matches our expected\nvalues. We ensure compatibility with legacy installs by inspecting if a\nhost has IPv6 enabled on the loopback device. In the event that IPv6 is\nenabled, the value of local_address will be set to ""localhost"" otherwise\nit will defined as ""127.0.0.1"".\n\nCloses-Bug: 1843422\nChange-Id: I20e69315bacdded4bc2d5b47e18609f130f8abc5\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-09-12 22:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8bb48216d04363810968ffe48e3560ee0a99262b', 'message': 'Add local_address to the default hieradata on all hosts\n\nThis change will ensure a local_address is always defined within our\ngenerated hieradata. This change imports existing logic into our config\nto ensure that the value of the local_address matches our expected\nvalues. We ensure compatibility with legacy installs by inspecting if a\nhost has IPv6 enabled on the loopback device. In the event that IPv6 is\nenabled, the value of local_address will be set to ""localhost"" otherwise\nit will defined as ""127.0.0.1"".\n\nCloses-Bug: 1843422\nChange-Id: I20e69315bacdded4bc2d5b47e18609f130f8abc5\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2019-09-13 23:23:56.000000000', 'files': ['tripleo_ansible/roles/tripleo-hieradata/templates/all_nodes.j2', 'tripleo_ansible/roles/tripleo-hieradata/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/63380569382855770e3c284621031715c98542fa', 'message': 'Add local_address to the default hieradata on all hosts\n\nThis change will ensure a local_address is always defined within our\ngenerated hieradata. This change imports existing logic into our config\nto ensure that the value of the local_address matches our expected\nvalues. We ensure compatibility with legacy installs by inspecting if a\nhost has IPv6 enabled on the loopback device. In the event that IPv6 is\nenabled, the value of local_address will be set to ""localhost"" otherwise\nit will defined as ""127.0.0.1"".\n\nCloses-Bug: 1843422\nChange-Id: I20e69315bacdded4bc2d5b47e18609f130f8abc5\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",4,681933,63380569382855770e3c284621031715c98542fa,36,12,4,7353,,,0,"Add local_address to the default hieradata on all hosts

This change will ensure a local_address is always defined within our
generated hieradata. This change imports existing logic into our config
to ensure that the value of the local_address matches our expected
values. We ensure compatibility with legacy installs by inspecting if a
host has IPv6 enabled on the loopback device. In the event that IPv6 is
enabled, the value of local_address will be set to ""localhost"" otherwise
it will defined as ""127.0.0.1"".

Closes-Bug: 1843422
Change-Id: I20e69315bacdded4bc2d5b47e18609f130f8abc5
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/33/681933/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-hieradata/defaults/main.yml', 'tripleo_ansible/roles/tripleo-hieradata/templates/all_nodes.j2']",2,d232d977870ed5fb5f76159e74cc1f0a2d14fabc,bug/1843422,"{% set _ = all_nodes.__setitem__('localhost_address', hieradata_local_address) %}",,5,0
openstack%2Fwhitebox-tempest-plugin~master~I0d8c56314d9f81c6b332ab98676ab5a32979cba0,openstack/whitebox-tempest-plugin,master,I0d8c56314d9f81c6b332ab98676ab5a32979cba0,Add Zuul jobs,MERGED,2019-04-11 20:37:40.000000000,2019-09-16 16:36:35.000000000,2019-09-16 16:36:35.000000000,"[{'_account_id': 7020}, {'_account_id': 8864}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-11 20:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/5a88c5570b86ebc797c63f0b6456e282186083a5', 'message': '[WIP] Add Zuul job\n\nChange-Id: I0d8c56314d9f81c6b332ab98676ab5a32979cba0\n'}, {'number': 2, 'created': '2019-04-11 23:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/f8d0da7a674b080d0dabadc07bbc1944b189311e', 'message': 'Add Zuul job\n\nChange-Id: I0d8c56314d9f81c6b332ab98676ab5a32979cba0\n'}, {'number': 3, 'created': '2019-09-16 15:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/5f0a04f17f15086c1f0daa995c6557f4cbd9a6b2', 'message': 'Add Zuul jobs\n\nChange-Id: I0d8c56314d9f81c6b332ab98676ab5a32979cba0\n'}, {'number': 4, 'created': '2019-09-16 15:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/6311ba7e3b6b915e3e53b94f227bed81f6136755', 'message': 'Add Zuul jobs\n\nChange-Id: I0d8c56314d9f81c6b332ab98676ab5a32979cba0\n'}, {'number': 5, 'created': '2019-09-16 15:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/0d7d5a1dce6649d9a1537b081586be753137d426', 'message': 'Add Zuul jobs\n\nChange-Id: I0d8c56314d9f81c6b332ab98676ab5a32979cba0\n'}, {'number': 6, 'created': '2019-09-16 15:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/13a4fea2c3e28e4370c7bcd8577b22d107e6e696', 'message': 'Add Zuul jobs\n\nChange-Id: I0d8c56314d9f81c6b332ab98676ab5a32979cba0\n'}, {'number': 7, 'created': '2019-09-16 15:54:38.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/4b329d05d782d511cf471128d71e3407cdd11c67', 'message': 'Add Zuul jobs\n\nChange-Id: I0d8c56314d9f81c6b332ab98676ab5a32979cba0\n'}]",6,651924,4b329d05d782d511cf471128d71e3407cdd11c67,24,3,7,8864,,,0,"Add Zuul jobs

Change-Id: I0d8c56314d9f81c6b332ab98676ab5a32979cba0
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/24/651924/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5a88c5570b86ebc797c63f0b6456e282186083a5,,- project: name: openstack/whitebox-tempest-plugin templates: - openstack-python-jobs - openstack-python35-jobs - openstack-python36-jobs - openstack-python37-jobs ,,7,0
openstack%2Freleases~master~I0d3aef8518037db025e85daa6280935067d329ec,openstack/releases,master,I0d3aef8518037db025e85daa6280935067d329ec,Release kuryr 1.1.1,MERGED,2019-09-09 15:10:24.000000000,2019-09-16 16:35:32.000000000,2019-09-16 16:35:32.000000000,"[{'_account_id': 11600}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-09 15:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2158187c93500f2391d8956a1e624712fe5fc711', 'message': ""Release kuryr 1.2.0\n\nIn order to fix bug 1843194, I'm requesting a 1.2.0 release of kuryr.\n\nChange-Id: I0d3aef8518037db025e85daa6280935067d329ec\n""}, {'number': 2, 'created': '2019-09-09 15:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/291d3ac9497adc470be42f7e5013c3f530f53e34', 'message': ""Release kuryr 1.2.0\n\nIn order to fix bug 1843194, I'm requesting a 1.2.0 release of kuryr.\n\nChange-Id: I0d3aef8518037db025e85daa6280935067d329ec\n""}, {'number': 3, 'created': '2019-09-09 15:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ec86cc0674a1191365bc37569a87aa51c3af2b91', 'message': ""Release kuryr 1.2.0\n\nIn order to fix bug 1843194, I'm requesting a 1.2.0 release of kuryr.\n\nChange-Id: I0d3aef8518037db025e85daa6280935067d329ec\n""}, {'number': 4, 'created': '2019-09-16 10:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/945e57e5cbcecc86c564c049fef2e6a1b8661e54', 'message': ""Release kuryr 1.2.0\n\nIn order to fix bug 1843194, I'm requesting a 1.2.0 release of kuryr.\n\nChange-Id: I0d3aef8518037db025e85daa6280935067d329ec\n""}, {'number': 5, 'created': '2019-09-16 10:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a70bca04b0e66cdfec8273e780042872ec597cca', 'message': ""Release kuryr 1.2.0\n\nIn order to fix bug 1843194, I'm requesting a 1.1.1 release of kuryr.\n\nChange-Id: I0d3aef8518037db025e85daa6280935067d329ec\n""}, {'number': 6, 'created': '2019-09-16 16:04:07.000000000', 'files': ['deliverables/train/kuryr.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3c007c9aae98a12bb27a5d5c558d36cfe1b99a1f', 'message': ""Release kuryr 1.1.1\n\nIn order to fix bug 1843194, I'm requesting a 1.1.1 release of kuryr.\n\nChange-Id: I0d3aef8518037db025e85daa6280935067d329ec\n""}]",0,681045,3c007c9aae98a12bb27a5d5c558d36cfe1b99a1f,18,3,6,11600,,,0,"Release kuryr 1.1.1

In order to fix bug 1843194, I'm requesting a 1.1.1 release of kuryr.

Change-Id: I0d3aef8518037db025e85daa6280935067d329ec
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/681045/6 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/kuryr.yaml'],1,2158187c93500f2391d8956a1e624712fe5fc711,release-kuryr-1.2.0, - version: 1.2.0 projects: - repo: openstack/kuryr hash: 027247329dcbcc300ebbc29f5571ddb8574cd1cf,,4,0
openstack%2Fgovernance~master~I2fd7fa994f025c3207e7d73ef707f6a8069da176,openstack/governance,master,I2fd7fa994f025c3207e7d73ef707f6a8069da176,Rename x/kayobe* to openstack/,ABANDONED,2019-07-05 09:17:50.000000000,2019-09-16 16:34:04.000000000,,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 7353}, {'_account_id': 8099}, {'_account_id': 10607}, {'_account_id': 14826}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-05 09:17:50.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/771697e7d84d2d0cd2c6415ac6b7e37548ebd316', 'message': 'Rename x/kayobe* to openstack/\n\nDepends-On: https://review.opendev.org/669298\nChange-Id: I2fd7fa994f025c3207e7d73ef707f6a8069da176\n'}]",0,669306,771697e7d84d2d0cd2c6415ac6b7e37548ebd316,18,8,1,14826,,,0,"Rename x/kayobe* to openstack/

Depends-On: https://review.opendev.org/669298
Change-Id: I2fd7fa994f025c3207e7d73ef707f6a8069da176
",git fetch https://review.opendev.org/openstack/governance refs/changes/06/669306/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,771697e7d84d2d0cd2c6415ac6b7e37548ebd316,project-update, - openstack/kayobe - openstack/kayobe-config - openstack/kayobe-config-dev, - x/kayobe - x/kayobe-config - x/kayobe-config-dev,3,3
openstack%2Fkayobe-config~stable%2Frocky~Ibcb4aecb46a052648330536c341a6b6f2e18965a,openstack/kayobe-config,stable/rocky,Ibcb4aecb46a052648330536c341a6b6f2e18965a,Fix .gitreview after project rename,MERGED,2019-09-16 16:10:25.000000000,2019-09-16 16:30:42.000000000,2019-09-16 16:30:42.000000000,"[{'_account_id': 6547}, {'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 16:10:25.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/c73d6e7541fa9cf72d585de63d774eb92cccecc3', 'message': 'Fix .gitreview after project rename\n\nThe repo has moved to openstack namespace, fix .gitreview.\n\nChange-Id: Ibcb4aecb46a052648330536c341a6b6f2e18965a\n(cherry picked from commit 9acd27f052d184a58634f6d42440a60b93d662d4)\n'}]",0,682402,c73d6e7541fa9cf72d585de63d774eb92cccecc3,8,4,1,14826,,,0,"Fix .gitreview after project rename

The repo has moved to openstack namespace, fix .gitreview.

Change-Id: Ibcb4aecb46a052648330536c341a6b6f2e18965a
(cherry picked from commit 9acd27f052d184a58634f6d42440a60b93d662d4)
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/02/682402/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c73d6e7541fa9cf72d585de63d774eb92cccecc3,fix-rename,project=openstack/kayobe-config.git,project=x/kayobe-config.git,1,1
openstack%2Fkayobe-config-dev~stable%2Fqueens~I34f8dc7cbced5ec24a3c698e7c9937081959996a,openstack/kayobe-config-dev,stable/queens,I34f8dc7cbced5ec24a3c698e7c9937081959996a,Fix .gitreview after rename,MERGED,2019-09-16 16:06:58.000000000,2019-09-16 16:29:07.000000000,2019-09-16 16:29:07.000000000,"[{'_account_id': 6547}, {'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 16:06:58.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/a417e0b31e310eaef04b6665be942f7dc86583a6', 'message': 'Fix .gitreview after rename\n\nFix .gitreview after rename of repo to openstack namespace.\n\nChange-Id: I34f8dc7cbced5ec24a3c698e7c9937081959996a\n(cherry picked from commit 6fd0ca13d511077d6d60c0afcdc636897ff353e7)\n'}]",0,682397,a417e0b31e310eaef04b6665be942f7dc86583a6,8,4,1,14826,,,0,"Fix .gitreview after rename

Fix .gitreview after rename of repo to openstack namespace.

Change-Id: I34f8dc7cbced5ec24a3c698e7c9937081959996a
(cherry picked from commit 6fd0ca13d511077d6d60c0afcdc636897ff353e7)
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/97/682397/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,a417e0b31e310eaef04b6665be942f7dc86583a6,fix-rename,project=openstack/kayobe-config-dev.git,project=x/kayobe-config-dev.git,1,1
openstack%2Fkayobe-config~stable%2Fqueens~Ibcb4aecb46a052648330536c341a6b6f2e18965a,openstack/kayobe-config,stable/queens,Ibcb4aecb46a052648330536c341a6b6f2e18965a,Fix .gitreview after project rename,MERGED,2019-09-16 16:10:57.000000000,2019-09-16 16:27:19.000000000,2019-09-16 16:27:19.000000000,"[{'_account_id': 6547}, {'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 16:10:57.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/73bfb9c18a406ec565d2efbbe310c0d3294dd6c3', 'message': 'Fix .gitreview after project rename\n\nThe repo has moved to openstack namespace, fix .gitreview.\n\nChange-Id: Ibcb4aecb46a052648330536c341a6b6f2e18965a\n(cherry picked from commit 9acd27f052d184a58634f6d42440a60b93d662d4)\n'}]",0,682403,73bfb9c18a406ec565d2efbbe310c0d3294dd6c3,8,4,1,14826,,,0,"Fix .gitreview after project rename

The repo has moved to openstack namespace, fix .gitreview.

Change-Id: Ibcb4aecb46a052648330536c341a6b6f2e18965a
(cherry picked from commit 9acd27f052d184a58634f6d42440a60b93d662d4)
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/03/682403/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,73bfb9c18a406ec565d2efbbe310c0d3294dd6c3,fix-rename,project=openstack/kayobe-config.git,project=x/kayobe-config.git,1,1
openstack%2Fkayobe-config-dev~stable%2Frocky~I34f8dc7cbced5ec24a3c698e7c9937081959996a,openstack/kayobe-config-dev,stable/rocky,I34f8dc7cbced5ec24a3c698e7c9937081959996a,Fix .gitreview after rename,MERGED,2019-09-16 16:06:26.000000000,2019-09-16 16:23:53.000000000,2019-09-16 16:23:53.000000000,"[{'_account_id': 6547}, {'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 16:06:26.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/cd58437d3cd895dc9ec483f49ff106691d4eb4cc', 'message': 'Fix .gitreview after rename\n\nFix .gitreview after rename of repo to openstack namespace.\n\nChange-Id: I34f8dc7cbced5ec24a3c698e7c9937081959996a\n(cherry picked from commit 6fd0ca13d511077d6d60c0afcdc636897ff353e7)\n'}]",0,682396,cd58437d3cd895dc9ec483f49ff106691d4eb4cc,8,4,1,14826,,,0,"Fix .gitreview after rename

Fix .gitreview after rename of repo to openstack namespace.

Change-Id: I34f8dc7cbced5ec24a3c698e7c9937081959996a
(cherry picked from commit 6fd0ca13d511077d6d60c0afcdc636897ff353e7)
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/96/682396/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,cd58437d3cd895dc9ec483f49ff106691d4eb4cc,fix-rename,project=openstack/kayobe-config-dev.git,project=x/kayobe-config-dev.git,1,1
openstack%2Fopenstack-helm-infra~master~Ifbae8331b595c15c168ccd6e93b00ff054a607bc,openstack/openstack-helm-infra,master,Ifbae8331b595c15c168ccd6e93b00ff054a607bc,[ceph-osd] BlueStore support for ceph-osd,MERGED,2019-07-17 22:12:25.000000000,2019-09-16 16:22:45.000000000,2019-09-16 16:21:03.000000000,"[{'_account_id': 17119}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 29106}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-07-17 22:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e0702cd6fc38284b5f4ce010b781bade0c046138', 'message': '[WIP] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 2, 'created': '2019-07-18 21:45:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d83fd0430d66918335ddf16f3eb8439ca78322c5', 'message': '[WIP] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 3, 'created': '2019-07-19 16:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f8972ddfa5b285cf88eeb3043ba5489bcff14f88', 'message': '[WIP] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 4, 'created': '2019-07-25 20:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4f39900eda46cd925f7f30ca02dbc68eec359eac', 'message': '[WIP] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 5, 'created': '2019-08-07 19:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ab1829830fa75380ffb7461bfc5f2fca19a42d6f', 'message': '[WIP] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 6, 'created': '2019-08-09 20:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/65bd9736b2552d276e1bbe66c16308665ebfcca4', 'message': '[WIP] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 7, 'created': '2019-08-09 20:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/851d2698e1988db0826fe95d6d20ea3791da856b', 'message': '[WIP] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 8, 'created': '2019-08-19 20:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/12ad82d382c9f818b035d0196689a19d519dc5e4', 'message': '[WIP] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 9, 'created': '2019-08-23 17:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5853c312475660d7a82ae8814eb207502dc80bbf', 'message': '[WIP] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 10, 'created': '2019-08-23 17:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d9b890195c5c73d800c7e283be0b891fb2756a90', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 11, 'created': '2019-08-23 20:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cf90b12831c3a020fefad403b79c144771365818', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 12, 'created': '2019-08-23 21:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/20e86deaedfbeeb8885ee3aceb4b27218d150574', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 13, 'created': '2019-08-26 14:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ace7b2140c83f929e588d4dfd7ae69d648ee6942', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 14, 'created': '2019-08-27 15:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0296dc313a28f0206239520546adfe9959fba7a7', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 15, 'created': '2019-08-28 16:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/16def38abb14530b7c81159a1b70896d1aa147c8', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 16, 'created': '2019-08-28 17:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9a806cf22d19a72dcb98d201fdb4dae00b7c0841', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 17, 'created': '2019-08-28 19:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1c464b6f9b773e718a283363c06372cc2e1a5cc4', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 18, 'created': '2019-08-28 20:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f835881d7d1a69f5b155407c74f06f539c2cbe7f', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 19, 'created': '2019-08-29 17:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/87efa10a5b675866cdbb0bebfbfd19758bbacdd0', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 20, 'created': '2019-08-29 17:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/471a6bd549847101ce7a88c83ea65ee977315b0c', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 21, 'created': '2019-08-29 17:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1656c5782f379dd3071f8456de796efe3d7fb7db', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 22, 'created': '2019-08-29 17:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/294508ef98a55d20dedd6c0ad0f85cc47944ce88', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 23, 'created': '2019-08-29 17:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9665b5940991372a683ab8f378378b7f0e8fec94', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 24, 'created': '2019-08-29 19:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d691b5ac442a4d211edcda613f7d582777e99b0a', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 25, 'created': '2019-08-29 20:06:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ec5b75c7914cb90c6e87692b90e7bd5667c115a1', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 26, 'created': '2019-08-29 20:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/507aa780510bd57070b049387e1e6cf3a1653bc7', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 27, 'created': '2019-08-29 20:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5d460caf1cdcb6aa0f7bdf06cd151026ac995422', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 28, 'created': '2019-08-29 20:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8c168e1fc6a49ec931d83eec2ee26f4af32ee39b', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 29, 'created': '2019-08-29 20:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/beaf383ceb9032e8b739fb69f7d776de8fb638a1', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 30, 'created': '2019-08-29 20:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/31c42d487a53153b5b7bdcfdbd4ad7018870c188', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 31, 'created': '2019-08-29 21:15:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/43accbac0b8c0207b1e57cf05596b1c93096d338', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 32, 'created': '2019-08-29 21:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/974562e6fdc6b9b87039e6d8bf73dec3d7431abd', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 33, 'created': '2019-08-30 14:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6ecf20dc69c45c00a80b535e8ff061d23a8fd7ab', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 34, 'created': '2019-09-03 15:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/70a8736b0f655bb1ee3adf2e84cedd7d3e294db1', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 35, 'created': '2019-09-03 17:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a6f2f6449e43f1dc5639f2281bd05e85b6b9a63e', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 36, 'created': '2019-09-04 15:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/81b1ad9c1f2593691be5f0a001853d47d27ba351', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 37, 'created': '2019-09-04 16:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3c66e2765a6919fbc9d3bee5321405509b1ff085', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 38, 'created': '2019-09-04 20:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/25530ed9ddf3ac7b94d025163e54f0283d0361b5', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 39, 'created': '2019-09-04 21:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/38d828625c37019b329ab11ae15874f9bea67ad8', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 40, 'created': '2019-09-04 21:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cb2e4c5f1e52f86d922e05b055d4a89f05fd56e1', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 41, 'created': '2019-09-05 19:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/52395559912af8508ed15a6f5118a1fdb7a7c806', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 42, 'created': '2019-09-05 20:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/57b452d0834a6346e6b31a473f153e07640a42e4', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 43, 'created': '2019-09-05 20:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d8fe85b246a0fc8e556a921672b52824e7d9462a', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 44, 'created': '2019-09-05 20:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c8a89401552b8fddbd7d0ad7bc0f7cf0c6e5affa', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 45, 'created': '2019-09-05 21:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/61b586a4d7660fff02d7d3dc8c836c2c10e5770e', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 46, 'created': '2019-09-06 17:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/672264508e16f260bff35c606a9408956fbf2ed9', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 47, 'created': '2019-09-06 18:33:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8cb677a58cd5f0822db0beff7be5cf67fa63363c', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 48, 'created': '2019-09-06 19:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/766eccedfcd13d8b22d07a90551cb2b70869f30d', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 49, 'created': '2019-09-09 17:12:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/797b4974aafb1fbf4e8216fe312185bdfda939e5', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <cr3938@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 50, 'created': '2019-09-12 20:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a68208afc28a57253f356cbdea96ada597c347f7', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <chinasubbareddy@gmail.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 51, 'created': '2019-09-12 20:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/59398044a002ded08d52dc0d7807409e8a394090', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <chinasubba.reddy@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}, {'number': 52, 'created': '2019-09-13 19:33:59.000000000', 'files': ['ceph-osd/templates/daemonset-osd.yaml', 'ceph-osd/templates/bin/osd/_bluestore.sh.tpl', 'ceph-osd/values.yaml', 'ceph-osd/templates/configmap-bin.yaml', 'ceph-osd/templates/utils/_osd_daemonset_overrides.tpl', 'ceph-osd/templates/bin/osd/_common.sh.tpl', 'ceph-osd/templates/bin/osd/_init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3c55e7773b10a1c9804f2e59e8dba61c3028cd46', 'message': '[ceph-osd] BlueStore support for ceph-osd\n\nThis adds BlueStore support for the ceph-osd chart so that OSDs\nmay be deployed using BlueStore with optional --block.db and\n--block.wal parameters.\n\nCo-Authored-By: Chinasubbareddy Mallavarapu <chinasubba.reddy@att.com>\n\nChange-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc\n'}]",18,671363,3c55e7773b10a1c9804f2e59e8dba61c3028cd46,111,7,52,29974,,,0,"[ceph-osd] BlueStore support for ceph-osd

This adds BlueStore support for the ceph-osd chart so that OSDs
may be deployed using BlueStore with optional --block.db and
--block.wal parameters.

Co-Authored-By: Chinasubbareddy Mallavarapu <chinasubba.reddy@att.com>

Change-Id: Ifbae8331b595c15c168ccd6e93b00ff054a607bc
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/63/671363/48 && git format-patch -1 --stdout FETCH_HEAD,['ceph-osd/templates/bin/osd/_init.sh.tpl'],1,e0702cd6fc38284b5f4ce010b781bade0c046138,," if [ ! -z ""${cephFSID}"" ] && [ ""${OSD_BLUESTORE:-0}"" -ne 1 ]; then if [ ""x$JOURNAL_TYPE"" != ""xdirectory"" ]; then CLI_OPTS=""${CLI_OPTS} ${OSD_DEVICE}"" if [ ""${OSD_BLUESTORE:-0}"" -eq 1 ]; then CLI_OPTS=""${CLI_OPTS} --bluestore"" if [ ! -z ""$BLOCK_DB"" ]; then CLI_OPTS=""${CLI_OPTS} --block.db ${BLOCK_DB}"" fi if [ ! -z ""$BLOCK_WAL""]; then CLI_OPTS=""${CLI_OPTS} --block.wal ${BLOCK_WAL}"" fi else if [ ""x$JOURNAL_TYPE"" == ""xdirectory"" ]; then CLI_OPTS=""${CLI_OPTS} --journal-file"" else CLI_OPTS=""${CLI_OPTS} ${OSD_JOURNAL}"" fi CLI_OPTS=""${CLI_OPTS} --journal-uuid ${OSD_JOURNAL_UUID}"" ceph-disk -v prepare ${CLI_OPTS}"," if [ ! -z ""${cephFSID}"" ]; then if [ ""${OSD_BLUESTORE:-0}"" -ne 1 ] && [ ""x$JOURNAL_TYPE"" != ""xdirectory"" ]; then if [ ""${OSD_BLUESTORE:-0}"" -ne 1 ]; then else OSD_JOURNAL='' CLI_OPTS=""${CLI_OPTS} --bluestore"" if [ ""x$JOURNAL_TYPE"" == ""xdirectory"" ]; then ceph-disk -v prepare ${CLI_OPTS} --journal-uuid ${OSD_JOURNAL_UUID} ${OSD_DEVICE} --journal-file else ceph-disk -v prepare ${CLI_OPTS} --journal-uuid ${OSD_JOURNAL_UUID} ${OSD_DEVICE} ${OSD_JOURNAL} fi ",24,13
openstack%2Ftripleo-heat-templates~master~I4e4bf0a91751fb4f9e4c7233242cdc5649c421f8,openstack/tripleo-heat-templates,master,I4e4bf0a91751fb4f9e4c7233242cdc5649c421f8,Revert Add OvnDbInternal to EndpointMap and use it for ovn_db_host,MERGED,2019-08-29 13:09:54.000000000,2019-09-16 16:21:10.000000000,2019-09-16 16:18:51.000000000,"[{'_account_id': 7144}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-08-29 13:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ba78b90f90161cbe5a968f59fd427692d6b8f08', 'message': 'Revert Add OvnDbInternal to EndpointMap and use it for ovn_db_host\n\nWe revert I0d9eb663405d1113ea84e3c12651a3f0dbdfc75d and we instead\nexport ovn_dbs_vip on all nodes so it can be used in cells. Reason for this\nis that we want a separate VIP for OVN because a) composable roles and b)\nwe do not want to impose the extra promote master constraints on the internal_api\nVIP which ends up being used by OVN.\n\nIn the same vein as I7ca94dff4acf0816708110b9fe6f78d19dcc7b4d\n(Move redis_vip to all_nodes.j2) we will have the ovn_dbs_vip moved\nto all nodes (via I1d80587752ffca6c3eb5281aa89ea3d7cf5535ce).\n(NB: cannot put a depends-on I1d80587752ffca6c3eb5281aa89ea3d7cf5535ce\nbecause that in its turn has a dep-on another THT review)\n\nChange-Id: I4e4bf0a91751fb4f9e4c7233242cdc5649c421f8\nRelated-Bug: #1841811\n'}, {'number': 2, 'created': '2019-08-29 15:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9e3e28108a10280f40435bbac2221cd60bbef2ab', 'message': 'WIP Revert Add OvnDbInternal to EndpointMap and use it for ovn_db_host\n\nWe revert I0d9eb663405d1113ea84e3c12651a3f0dbdfc75d and we instead\nexport ovn_dbs_vip on all nodes so it can be used in cells. Reason for this\nis that we want a separate VIP for OVN because a) composable roles and b)\nwe do not want to impose the extra promote master constraints on the internal_api\nVIP which ends up being used by OVN.\n\nIn the same vein as I7ca94dff4acf0816708110b9fe6f78d19dcc7b4d\n(Move redis_vip to all_nodes.j2) we will have the ovn_dbs_vip moved\nto all nodes (via I1d80587752ffca6c3eb5281aa89ea3d7cf5535ce).\n(NB: cannot put a depends-on I1d80587752ffca6c3eb5281aa89ea3d7cf5535ce\nbecause that in its turn has a dep-on another THT review)\n\nChange-Id: I4e4bf0a91751fb4f9e4c7233242cdc5649c421f8\nRelated-Bug: #1841811\n'}, {'number': 3, 'created': '2019-08-30 06:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/89576803ec2c4c2fb6b09d560307410dcfaf3ffb', 'message': 'Revert Add OvnDbInternal to EndpointMap and use it for ovn_db_host\n\nWe revert I0d9eb663405d1113ea84e3c12651a3f0dbdfc75d and we instead\nexport ovn_dbs_vip on all nodes so it can be used in cells. Reason for this\nis that we want a separate VIP for OVN because a) composable roles and b)\nwe do not want to impose the extra promote master constraints on the internal_api\nVIP which ends up being used by OVN.\n\nIn the same vein as I7ca94dff4acf0816708110b9fe6f78d19dcc7b4d\n(Move redis_vip to all_nodes.j2) we will have the ovn_dbs_vip moved\nto all nodes (via I1d80587752ffca6c3eb5281aa89ea3d7cf5535ce).\n(NB: cannot put a depends-on I1d80587752ffca6c3eb5281aa89ea3d7cf5535ce\nbecause that in its turn has a dep-on another THT review)\n\nChange-Id: I4e4bf0a91751fb4f9e4c7233242cdc5649c421f8\nRelated-Bug: #1841811\n'}, {'number': 4, 'created': '2019-09-10 08:17:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f7c84e60e389131edd4b783b3ebe7d4a13bb97d1', 'message': 'Revert Add OvnDbInternal to EndpointMap and use it for ovn_db_host\n\nWe revert I0d9eb663405d1113ea84e3c12651a3f0dbdfc75d and we instead\nexport ovn_dbs_vip on all nodes so it can be used in cells. Reason for this\nis that we want a separate VIP for OVN because a) composable roles and b)\nwe do not want to impose the extra promote master constraints on the internal_api\nVIP which ends up being used by OVN.\n\nIn the same vein as I7ca94dff4acf0816708110b9fe6f78d19dcc7b4d\n(Move redis_vip to all_nodes.j2) we will have the ovn_dbs_vip moved\nto all nodes (via I1d80587752ffca6c3eb5281aa89ea3d7cf5535ce).\n(NB: cannot put a depends-on I1d80587752ffca6c3eb5281aa89ea3d7cf5535ce\nbecause that in its turn has a dep-on another THT review)\n\nChange-Id: I4e4bf0a91751fb4f9e4c7233242cdc5649c421f8\nRelated-Bug: #1841811\n'}, {'number': 5, 'created': '2019-09-10 20:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7184a048cb79e747558ebdf85026996d3adaca81', 'message': 'Revert Add OvnDbInternal to EndpointMap and use it for ovn_db_host\n\nWe revert I0d9eb663405d1113ea84e3c12651a3f0dbdfc75d and we instead\nexport ovn_dbs_vip on all nodes so it can be used in cells. Reason for this\nis that we want a separate VIP for OVN because a) composable roles and b)\nwe do not want to impose the extra promote master constraints on the internal_api\nVIP which ends up being used by OVN.\n\nIn the same vein as I7ca94dff4acf0816708110b9fe6f78d19dcc7b4d\n(Move redis_vip to all_nodes.j2) we will have the ovn_dbs_vip moved\nto all nodes (via I1d80587752ffca6c3eb5281aa89ea3d7cf5535ce).\n\nDepends-On: I1d80587752ffca6c3eb5281aa89ea3d7cf5535ce\n\nChange-Id: I4e4bf0a91751fb4f9e4c7233242cdc5649c421f8\nRelated-Bug: #1841811\n'}, {'number': 6, 'created': '2019-09-12 11:55:59.000000000', 'files': ['network/endpoints/endpoint_map.yaml', 'sample-env-generator/ssl.yaml', 'environments/ssl/no-tls-endpoints-public-ip.yaml', 'environments/ssl/tls-endpoints-public-ip.yaml', 'environments/ssl/tls-endpoints-public-dns.yaml', 'releasenotes/notes/remove-ovndbinternal-endpoint-295f452c938aa06c.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml', 'network/endpoints/endpoint_data.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3b528af4fa664fbcac0598cf1fb3d50107b58a0', 'message': 'Revert Add OvnDbInternal to EndpointMap and use it for ovn_db_host\n\nWe revert I0d9eb663405d1113ea84e3c12651a3f0dbdfc75d and we instead\nexport ovn_dbs_vip on all nodes so it can be used in cells. Reason for this\nis that we want a separate VIP for OVN because a) composable roles and b)\nwe do not want to impose the extra promote master constraints on the internal_api\nVIP which ends up being used by OVN.\n\nIn the same vein as I7ca94dff4acf0816708110b9fe6f78d19dcc7b4d\n(Move redis_vip to all_nodes.j2) we will have the ovn_dbs_vip moved\nto all nodes (via I1d80587752ffca6c3eb5281aa89ea3d7cf5535ce).\n\nDepends-On: I1d80587752ffca6c3eb5281aa89ea3d7cf5535ce\n\nChange-Id: I4e4bf0a91751fb4f9e4c7233242cdc5649c421f8\nRelated-Bug: #1841811\n'}]",0,679244,e3b528af4fa664fbcac0598cf1fb3d50107b58a0,49,7,6,20172,,,0,"Revert Add OvnDbInternal to EndpointMap and use it for ovn_db_host

We revert I0d9eb663405d1113ea84e3c12651a3f0dbdfc75d and we instead
export ovn_dbs_vip on all nodes so it can be used in cells. Reason for this
is that we want a separate VIP for OVN because a) composable roles and b)
we do not want to impose the extra promote master constraints on the internal_api
VIP which ends up being used by OVN.

In the same vein as I7ca94dff4acf0816708110b9fe6f78d19dcc7b4d
(Move redis_vip to all_nodes.j2) we will have the ovn_dbs_vip moved
to all nodes (via I1d80587752ffca6c3eb5281aa89ea3d7cf5535ce).

Depends-On: I1d80587752ffca6c3eb5281aa89ea3d7cf5535ce

Change-Id: I4e4bf0a91751fb4f9e4c7233242cdc5649c421f8
Related-Bug: #1841811
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/679244/4 && git format-patch -1 --stdout FETCH_HEAD,"['network/endpoints/endpoint_map.yaml', 'sample-env-generator/ssl.yaml', 'environments/ssl/no-tls-endpoints-public-ip.yaml', 'environments/ssl/tls-endpoints-public-dns.yaml', 'environments/ssl/tls-endpoints-public-ip.yaml', 'releasenotes/notes/remove-ovndbinternal-endpoint-295f452c938aa06c.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml', 'network/endpoints/endpoint_data.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml']",10,5ba78b90f90161cbe5a968f59fd427692d6b8f08,ovn_vip3,," tripleo::profile::base::neutron::agents::ovn::ovn_db_host: {get_param: [EndpointMap, OvnDbInternal, host_nobrackets]}",8,147
openstack%2Fkayobe-config~stable%2Fstein~Ibcb4aecb46a052648330536c341a6b6f2e18965a,openstack/kayobe-config,stable/stein,Ibcb4aecb46a052648330536c341a6b6f2e18965a,Fix .gitreview after project rename,MERGED,2019-09-16 16:09:48.000000000,2019-09-16 16:21:08.000000000,2019-09-16 16:21:08.000000000,"[{'_account_id': 6547}, {'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 16:09:48.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/46e9255ebb104840072003b96f20be9e237089f5', 'message': 'Fix .gitreview after project rename\n\nThe repo has moved to openstack namespace, fix .gitreview.\n\nChange-Id: Ibcb4aecb46a052648330536c341a6b6f2e18965a\n(cherry picked from commit 9acd27f052d184a58634f6d42440a60b93d662d4)\n'}]",0,682400,46e9255ebb104840072003b96f20be9e237089f5,8,4,1,14826,,,0,"Fix .gitreview after project rename

The repo has moved to openstack namespace, fix .gitreview.

Change-Id: Ibcb4aecb46a052648330536c341a6b6f2e18965a
(cherry picked from commit 9acd27f052d184a58634f6d42440a60b93d662d4)
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/00/682400/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,46e9255ebb104840072003b96f20be9e237089f5,fix-rename,project=openstack/kayobe-config.git,project=x/kayobe-config.git,1,1
openstack%2Fproject-config~master~I3d1d416e025ec98235f4a040844d60c2ad767795,openstack/project-config,master,I3d1d416e025ec98235f4a040844d60c2ad767795,Add promote pipeline to grafana,MERGED,2019-09-14 18:21:28.000000000,2019-09-16 16:21:06.000000000,2019-09-16 16:21:06.000000000,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-14 18:21:28.000000000', 'files': ['grafana/zuul-status.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d4673d45397caed9c8b1620fb341483419cde5d6', 'message': 'Add promote pipeline to grafana\n\nWe have nearly all pipelines in grafana, add promote add as well.\n\nChange-Id: I3d1d416e025ec98235f4a040844d60c2ad767795\n'}]",0,682225,d4673d45397caed9c8b1620fb341483419cde5d6,7,3,1,6547,,,0,"Add promote pipeline to grafana

We have nearly all pipelines in grafana, add promote add as well.

Change-Id: I3d1d416e025ec98235f4a040844d60c2ad767795
",git fetch https://review.opendev.org/openstack/project-config refs/changes/25/682225/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/zuul-status.yaml'],1,d4673d45397caed9c8b1620fb341483419cde5d6,promote-grafana, - title: Promote span: 2 sparkline: full: true show: true targets: - target: stats.gauges.zuul.tenant.openstack.pipeline.promote.current_changes type: singlestat,,8,0
openstack%2Fproject-config~master~I04ce163629fa6171fc44e82bb2f60e55b030b645,openstack/project-config,master,I04ce163629fa6171fc44e82bb2f60e55b030b645,Always publish infra documents,MERGED,2019-09-14 17:10:23.000000000,2019-09-16 16:19:06.000000000,2019-09-16 16:19:06.000000000,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-14 17:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/aba6d63aac14f941cf7f34ad8878e8d2f96c7659', 'message': ""Always publish infra documents\n\nSwitch from  release-tox-docs-infra to publish-tox-docs-infra.\n\nrelease-tox-docs-infra only publishes at release time while\npublish-tox-docs-infra publishes after each merge.\n\nOpenStack and Zuul publish after each merge - and most of the OpenDev\nrepos as well. Let's use the same pattern everywhere.\n\nRemove also the now unused publish job.\n\nChange-Id: I04ce163629fa6171fc44e82bb2f60e55b030b645\n""}, {'number': 2, 'created': '2019-09-14 17:11:37.000000000', 'files': ['zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e5ffd9e40f93b6f0bee18675733c77a064b75188', 'message': ""Always publish infra documents\n\nSwitch from  release-tox-docs-infra to publish-tox-docs-infra.\n\nrelease-tox-docs-infra only publishes at release time while\npublish-tox-docs-infra publishes after each merge.\n\nOpenStack and Zuul publish after each merge - and most of the OpenDev\nrepos as well. Let's use the same pattern everywhere.\n\nRemove also the now unused publish job.\n\nNeeded-By: https://review.opendev.org/682223\nChange-Id: I04ce163629fa6171fc44e82bb2f60e55b030b645\n""}]",0,682222,e5ffd9e40f93b6f0bee18675733c77a064b75188,8,3,2,6547,,,0,"Always publish infra documents

Switch from  release-tox-docs-infra to publish-tox-docs-infra.

release-tox-docs-infra only publishes at release time while
publish-tox-docs-infra publishes after each merge.

OpenStack and Zuul publish after each merge - and most of the OpenDev
repos as well. Let's use the same pattern everywhere.

Remove also the now unused publish job.

Needed-By: https://review.opendev.org/682223
Change-Id: I04ce163629fa6171fc44e82bb2f60e55b030b645
",git fetch https://review.opendev.org/openstack/project-config refs/changes/22/682222/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",2,aba6d63aac14f941cf7f34ad8878e8d2f96c7659,infra-publish,," name: publish-tox-docs-infra parent: publish-openstack-tox-docs-base description: | Publish the results of the tox docs job to /afs/.openstack.org/docs/infra/{{ zuul.project.short_name }} final: true post-run: - playbooks/sphinx/post-infra.yaml vars: afs_subpath: ""/infra/{{ zuul.project.short_name }}"" bindep_profile: compile doc - job:",4,17
openstack%2Fkayobe-config-dev~stable%2Fstein~I34f8dc7cbced5ec24a3c698e7c9937081959996a,openstack/kayobe-config-dev,stable/stein,I34f8dc7cbced5ec24a3c698e7c9937081959996a,Fix .gitreview after rename,MERGED,2019-09-16 16:05:38.000000000,2019-09-16 16:18:25.000000000,2019-09-16 16:18:25.000000000,"[{'_account_id': 6547}, {'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 16:05:38.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/22049a40798573cad1c60a7514933d56d54d2548', 'message': 'Fix .gitreview after rename\n\nFix .gitreview after rename of repo to openstack namespace.\n\nChange-Id: I34f8dc7cbced5ec24a3c698e7c9937081959996a\n(cherry picked from commit 6fd0ca13d511077d6d60c0afcdc636897ff353e7)\n'}]",0,682395,22049a40798573cad1c60a7514933d56d54d2548,8,4,1,14826,,,0,"Fix .gitreview after rename

Fix .gitreview after rename of repo to openstack namespace.

Change-Id: I34f8dc7cbced5ec24a3c698e7c9937081959996a
(cherry picked from commit 6fd0ca13d511077d6d60c0afcdc636897ff353e7)
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/95/682395/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,22049a40798573cad1c60a7514933d56d54d2548,fix-rename,project=openstack/kayobe-config-dev.git,project=x/kayobe-config-dev.git,1,1
openstack%2Fkayobe-config-dev~stable%2Fpike~I34f8dc7cbced5ec24a3c698e7c9937081959996a,openstack/kayobe-config-dev,stable/pike,I34f8dc7cbced5ec24a3c698e7c9937081959996a,Fix .gitreview after rename,MERGED,2019-09-16 16:07:40.000000000,2019-09-16 16:13:06.000000000,2019-09-16 16:13:06.000000000,"[{'_account_id': 6547}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 16:07:40.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/dc7031150d96f06789054a2f5eeaac66f2057c68', 'message': 'Fix .gitreview after rename\n\nFix .gitreview after rename of repo to openstack namespace.\n\nChange-Id: I34f8dc7cbced5ec24a3c698e7c9937081959996a\n(cherry picked from commit 6fd0ca13d511077d6d60c0afcdc636897ff353e7)\n'}]",0,682399,dc7031150d96f06789054a2f5eeaac66f2057c68,7,3,1,14826,,,0,"Fix .gitreview after rename

Fix .gitreview after rename of repo to openstack namespace.

Change-Id: I34f8dc7cbced5ec24a3c698e7c9937081959996a
(cherry picked from commit 6fd0ca13d511077d6d60c0afcdc636897ff353e7)
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/99/682399/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,dc7031150d96f06789054a2f5eeaac66f2057c68,fix-rename,project=openstack/kayobe-config-dev.git,project=x/kayobe-config-dev.git,1,1
openstack%2Fblazar~master~I532c857ac9fef4a252c01e077da55fb4523f2f16,openstack/blazar,master,I532c857ac9fef4a252c01e077da55fb4523f2f16,Support update_reservation in floatingip_plugin,ABANDONED,2019-01-24 09:02:16.000000000,2019-09-16 16:04:00.000000000,,"[{'_account_id': 8878}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-01-24 09:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/3977e4520fa65b7d1456d290099bbd080b4dddce', 'message': 'Support update_reservation in floatingip_plugin\n\nChange-Id: I532c857ac9fef4a252c01e077da55fb4523f2f16\n'}, {'number': 2, 'created': '2019-01-28 09:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/eba9beabeb4482ef840fe98d6511ed6fbcb7b4a4', 'message': 'Support update_reservation in floatingip_plugin\n\nChange-Id: I532c857ac9fef4a252c01e077da55fb4523f2f16\n'}, {'number': 3, 'created': '2019-01-29 08:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/bc031439c46d652969676f573cc464d39582a4c9', 'message': 'Support update_reservation in floatingip_plugin\n\nChange-Id: I532c857ac9fef4a252c01e077da55fb4523f2f16\n'}, {'number': 4, 'created': '2019-02-06 08:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/d15af59aca9ef7dec8e015df0369e328f60e5699', 'message': 'Support update_reservation in floatingip_plugin\n\nChange-Id: I532c857ac9fef4a252c01e077da55fb4523f2f16\n'}, {'number': 5, 'created': '2019-02-07 06:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/107fba85f12d698055f9486826c4f75fcb4b549c', 'message': 'Support update_reservation in floatingip_plugin\n\nChange-Id: I532c857ac9fef4a252c01e077da55fb4523f2f16\n'}, {'number': 6, 'created': '2019-02-26 04:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/d105a982f673460fc781bc72ec7eb0782a2f4726', 'message': 'Support update_reservation in floatingip_plugin\n\nChange-Id: I532c857ac9fef4a252c01e077da55fb4523f2f16\n'}, {'number': 7, 'created': '2019-03-12 08:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/f5542123ed208329d4114b3dd82d6825c8778a93', 'message': 'Support update_reservation in floatingip_plugin\n\nChange-Id: I532c857ac9fef4a252c01e077da55fb4523f2f16\n'}, {'number': 8, 'created': '2019-03-12 08:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/bb2754b97b835b8130b940d9fb1c0633b499c17c', 'message': 'Support update_reservation in floatingip_plugin\n\nChange-Id: I532c857ac9fef4a252c01e077da55fb4523f2f16\n'}, {'number': 9, 'created': '2019-03-13 09:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/0026e92c9eccbd5791887bc28521866a12a0b327', 'message': 'Support update_reservation in floatingip_plugin\n\nChange-Id: I532c857ac9fef4a252c01e077da55fb4523f2f16\n'}, {'number': 10, 'created': '2019-03-14 18:10:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/744b072f2b1522ae4c0a48f4e8f4e0b9f42a7f61', 'message': 'Support update_reservation in floatingip_plugin\n\nPartially Implements: blueprint floatingip-reservation\nChange-Id: I532c857ac9fef4a252c01e077da55fb4523f2f16\n'}, {'number': 11, 'created': '2019-03-15 15:54:23.000000000', 'files': ['blazar/plugins/floatingips/floatingip_plugin.py', 'blazar/tests/plugins/floatingips/test_floatingip_plugin.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/3683747f9b48480953cc252168fc13ac05d10e4f', 'message': 'Support update_reservation in floatingip_plugin\n\nPartially Implements: blueprint floatingip-reservation\nChange-Id: I532c857ac9fef4a252c01e077da55fb4523f2f16\n'}]",6,632959,3683747f9b48480953cc252168fc13ac05d10e4f,29,3,11,8878,,,0,"Support update_reservation in floatingip_plugin

Partially Implements: blueprint floatingip-reservation
Change-Id: I532c857ac9fef4a252c01e077da55fb4523f2f16
",git fetch https://review.opendev.org/openstack/blazar refs/changes/59/632959/5 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/plugins/floatingips/floatingip_plugin.py', 'blazar/tests/plugins/floatingips/test_floatingip_plugin.py']",2,3977e4520fa65b7d1456d290099bbd080b4dddce,bp/floatingip-reservation," self.fip_plugin = floatingip_plugin.FloatingIpPlugin() def test_update_reservation_shorten(self): values = { 'start_date': datetime.datetime(2020, 1, 1, 20, 30), 'end_date': datetime.datetime(2020, 1, 1, 21, 00) } reservation_get = self.patch(self.db_api, 'reservation_get') reservation_get.return_value = { 'lease_id': u'10870923-6d56-45c9-b592-f788053f5baa', } lease_get = self.patch(self.db_api, 'lease_get') lease_get.return_value = { 'start_date': datetime.datetime(2020, 1, 1, 20, 00), 'end_date': datetime.datetime(2020, 1, 1, 21, 00) } fip_reservation_get = self.patch(self.db_api, 'fip_reservation_get') self.fip_plugin.update_reservation( '706eb3bc-07ed-4383-be93-b32845ece672', values) reservation_get.assert_called_once_with( '706eb3bc-07ed-4383-be93-b32845ece672') lease_get.assert_called_once_with( '10870923-6d56-45c9-b592-f788053f5baa') fip_reservation_get.assert_not_called() def test_update_reservation_extend(self): values = { 'start_date': datetime.datetime(2020, 1, 1, 20, 00), 'end_date': datetime.datetime(2020, 1, 1, 21, 30) } reservation_get = self.patch(self.db_api, 'reservation_get') reservation_get.return_value = { 'lease_id': u'10870923-6d56-45c9-b592-f788053f5baa', 'resource_id': u'91253650-cc34-4c4f-bbe8-c943aa7d0c9b', 'status': 'pending' } lease_get = self.patch(self.db_api, 'lease_get') lease_get.return_value = { 'start_date': datetime.datetime(2020, 1, 1, 20, 00), 'end_date': datetime.datetime(2020, 1, 1, 21, 00) } fip_reservation_get = self.patch(self.db_api, 'fip_reservation_get') fip_reservation_get.return_value = { 'network_id': 'network-id1', 'floating_ip_address': None } fip_allocation_get_all = self.patch( self.db_api, 'fip_allocation_get_all_by_values') fip_allocation_get_all.return_value = [ { 'id': u'dd305477-4df8-4547-87f6-69069ee546a6', 'floatingip_id': 'fip-id1', } ] fip_get_all_by_queries = self.patch( self.db_api, 'reservable_fip_get_all_by_queries') fip_get_all_by_queries.return_value = [{'id': 'fip-id1'}] get_reserved_periods = self.patch(self.db_utils, 'get_reserved_periods') get_reserved_periods.return_value = [ (datetime.datetime(2020, 1, 1, 20, 00), datetime.datetime(2020, 1, 1, 21, 00)) ] fip_allocation_create = self.patch( self.db_api, 'fip_allocation_create') fip_allocation_destroy = self.patch( self.db_api, 'fip_allocation_destroy') self.fip_plugin.update_reservation( '706eb3bc-07ed-4383-be93-b32845ece672', values) query = ['network_id == network-id1'] fip_get_all_by_queries.assert_called_once_with(query) get_reserved_periods.assert_called_once_with( 'fip-id1', datetime.datetime(2020, 1, 1, 20, 00), datetime.datetime(2020, 1, 1, 21, 30), datetime.timedelta(seconds=1), resource_type='floatingip' ) fip_allocation_create.assert_not_called() fip_allocation_destroy.assert_not_called() def test_update_reservation_change_in_active(self): values = { 'start_date': datetime.datetime(2020, 1, 20, 20, 00), 'end_date': datetime.datetime(2020, 1, 20, 21, 30) } reservation_get = self.patch(self.db_api, 'reservation_get') reservation_get.return_value = { 'lease_id': u'10870923-6d56-45c9-b592-f788053f5baa', 'resource_id': u'91253650-cc34-4c4f-bbe8-c943aa7d0c9b', 'status': 'active' } lease_get = self.patch(self.db_api, 'lease_get') lease_get.return_value = { 'start_date': datetime.datetime(2020, 1, 19, 20, 00), 'end_date': datetime.datetime(2020, 1, 19, 21, 00) } fip_reservation_get = self.patch( self.db_api, 'fip_reservation_get') fip_reservation_get.return_value = { 'network_id': 'network-id1', 'floating_ip_address': None } fip_allocation_get_all = self.patch( self.db_api, 'fip_allocation_get_all_by_values') fip_allocation_get_all.return_value = [ { 'id': u'dd305477-4df8-4547-87f6-69069ee546a6', 'floatingip_id': 'fip-id1' } ] fip_get_all_by_queries = self.patch( self.db_api, 'reservable_fip_get_all_by_queries') fip_get_all_by_queries.return_value = [{'id': 'fip-id1'}] get_reserved_periods = self.patch(self.db_utils, 'get_reserved_periods') get_reserved_periods.return_value = [ (datetime.datetime(2020, 1, 20, 20, 30), datetime.datetime(2020, 1, 20, 21, 00)) ] matching_fips = self.patch(self.fip_plugin, '_matching_fips') self.assertRaises( mgr_exceptions.NotEnoughFloatingipAvailable, self.fip_plugin.update_reservation, '706eb3bc-07ed-4383-be93-b32845ece672', values) matching_fips.assert_not_called() def test_update_reservation_change_resource(self): values = { 'start_date': datetime.datetime(2020, 12, 20, 20, 00), 'end_date': datetime.datetime(2020, 12, 20, 21, 30) } reservation_get = self.patch(self.db_api, 'reservation_get') reservation_get.return_value = { 'lease_id': u'10870923-6d56-45c9-b592-f788053f5baa', 'resource_id': u'91253650-cc34-4c4f-bbe8-c943aa7d0c9b', 'status': 'pending' } lease_get = self.patch(self.db_api, 'lease_get') lease_get.return_value = { 'start_date': datetime.datetime(2020, 12, 19, 20, 00), 'end_date': datetime.datetime(2020, 12, 19, 21, 00) } fip_reservation_get = self.patch( self.db_api, 'fip_reservation_get') fip_reservation_get.return_value = { 'network_id': 'network-id1', 'floating_ip_address': None } fip_allocation_get_all = self.patch( self.db_api, 'fip_allocation_get_all_by_values') fip_allocation_get_all.return_value = [ { 'id': u'dd305477-4df8-4547-87f6-69069ee546a6', 'floatingip_id': 'fip-id1' } ] fip_get_all_by_queries = self.patch( self.db_api, 'reservable_fip_get_all_by_queries') fip_get_all_by_queries.return_value = [{'id': 'fip-id1'}, {'id': 'fip-id2'}] fip_allocation_create = self.patch( self.db_api, 'fip_allocation_create') fip_allocation_destroy = self.patch( self.db_api, 'fip_allocation_destroy') get_reserved_periods = self.patch(self.db_utils, 'get_reserved_periods') get_reserved_periods.return_value = [ (datetime.datetime(2020, 12, 20, 20, 30), datetime.datetime(2020, 12, 20, 21, 00)) ] matching_fips = self.patch(self.fip_plugin, '_matching_fips') matching_fips.return_value = ['fip-id2'] self.fip_plugin.update_reservation( '706eb3bc-07ed-4383-be93-b32845ece672', values) fip_reservation_get.assert_called_with( u'91253650-cc34-4c4f-bbe8-c943aa7d0c9b') fip_allocation_destroy.assert_called_with( 'dd305477-4df8-4547-87f6-69069ee546a6') fip_allocation_create.assert_called_with( { 'floatingip_id': 'fip-id2', 'reservation_id': '706eb3bc-07ed-4383-be93-b32845ece672' } )",,287,5
openstack%2Fmagnum~master~Ib9b0854d41643497855b022e5500ae5f5976b930,openstack/magnum,master,Ib9b0854d41643497855b022e5500ae5f5976b930,"Update ""auth_url"" port in install docs",MERGED,2019-08-06 03:58:36.000000000,2019-09-16 16:00:23.000000000,2019-09-16 15:59:10.000000000,"[{'_account_id': 1004}, {'_account_id': 6484}, {'_account_id': 8064}, {'_account_id': 16006}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26233}, {'_account_id': 28022}, {'_account_id': 30401}, {'_account_id': 30814}]","[{'number': 1, 'created': '2019-08-06 03:58:36.000000000', 'files': ['doc/source/install/common/configure_2_edit_magnum_conf.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/3b3c99773f26ac6fe431a74dce398eab9f472f18', 'message': 'Update ""auth_url"" port in install docs\n\nBeginning with the Queens release, the keystone install guide\nrecommends running all interfaces on the same port 5000[1].\nSo,auth_url port need to be changed to 5000 in the document.\n\n[1] https://review.openstack.org/#/c/541857\n\nChange-Id: Ib9b0854d41643497855b022e5500ae5f5976b930\n'}]",0,674724,3b3c99773f26ac6fe431a74dce398eab9f472f18,17,11,1,26233,,,0,"Update ""auth_url"" port in install docs

Beginning with the Queens release, the keystone install guide
recommends running all interfaces on the same port 5000[1].
So,auth_url port need to be changed to 5000 in the document.

[1] https://review.openstack.org/#/c/541857

Change-Id: Ib9b0854d41643497855b022e5500ae5f5976b930
",git fetch https://review.opendev.org/openstack/magnum refs/changes/24/674724/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/common/configure_2_edit_magnum_conf.rst'],1,3b3c99773f26ac6fe431a74dce398eab9f472f18,update_port, auth_url = http://controller:5000, auth_url = http://controller:35357,1,1
openstack%2Fproject-config~master~I2cc3b12ccd1ce151843031a2b4fb7416edd9cb2d,openstack/project-config,master,I2cc3b12ccd1ce151843031a2b4fb7416edd9cb2d,Make whitebox use Storyboard,MERGED,2019-04-12 00:11:54.000000000,2019-09-16 15:59:32.000000000,2019-09-16 15:59:32.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 8864}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-12 00:11:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/897a732f3578b02381517114262a5d14ec3d64f3', 'message': ""Make whitebox use Storyboard\n\nIn retrospect, it's probably a good idea to have a task tracker for\nwhitebox.\n\nChange-Id: I2cc3b12ccd1ce151843031a2b4fb7416edd9cb2d\n""}, {'number': 2, 'created': '2019-09-16 15:22:02.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8e8925c376b55c979262fdf5c344b4c2fecc647b', 'message': ""Make whitebox use Storyboard\n\nIn retrospect, it's probably a good idea to have a task tracker for\nwhitebox.\n\nChange-Id: I2cc3b12ccd1ce151843031a2b4fb7416edd9cb2d\n""}]",0,651942,8e8925c376b55c979262fdf5c344b4c2fecc647b,16,4,2,8864,,,0,"Make whitebox use Storyboard

In retrospect, it's probably a good idea to have a task tracker for
whitebox.

Change-Id: I2cc3b12ccd1ce151843031a2b4fb7416edd9cb2d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/42/651942/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,897a732f3578b02381517114262a5d14ec3d64f3,, use-storyboard: true,,1,0
openstack%2Fmistral~master~Ifd93f47b6635f94d05db49aa4edee369d4719fd3,openstack/mistral,master,Ifd93f47b6635f94d05db49aa4edee369d4719fd3,Change 403 exception message to something more informative and accurate,MERGED,2018-02-12 15:57:32.000000000,2019-09-16 15:54:58.000000000,2019-09-16 15:53:23.000000000,"[{'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 30755}]","[{'number': 1, 'created': '2018-02-12 15:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/22da82b8d4b1c847a7acc59637004a0da9530e61', 'message': 'Change 403 exception message to something more informative and accurate\n\nChange-Id: Ifd93f47b6635f94d05db49aa4edee369d4719fd3\n'}, {'number': 2, 'created': '2019-09-08 10:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/35575366f1e9e52e7fcfcd032a008f74648a07f7', 'message': 'Change 403 exception message to something more informative and accurate\n\nChange-Id: Ifd93f47b6635f94d05db49aa4edee369d4719fd3\n'}, {'number': 3, 'created': '2019-09-08 11:05:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/b97fd834d3ea751db67ca0d54ceb0a774dba7c9e', 'message': 'Change 403 exception message to something more informative and accurate\n\nChange-Id: Ifd93f47b6635f94d05db49aa4edee369d4719fd3\n'}, {'number': 4, 'created': '2019-09-16 10:28:01.000000000', 'files': ['mistral/exceptions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/86ae8a7e20010aef753e7441e48765a69389d54c', 'message': 'Change 403 exception message to something more informative and accurate\n\nChange-Id: Ifd93f47b6635f94d05db49aa4edee369d4719fd3\n'}]",2,543512,86ae8a7e20010aef753e7441e48765a69389d54c,24,6,4,27778,,,0,"Change 403 exception message to something more informative and accurate

Change-Id: Ifd93f47b6635f94d05db49aa4edee369d4719fd3
",git fetch https://review.opendev.org/openstack/mistral refs/changes/12/543512/4 && git format-patch -1 --stdout FETCH_HEAD,['mistral/exceptions.py'],1,22da82b8d4b1c847a7acc59637004a0da9530e61,ModifyForbiddenException," message = ""You don't have permission to use the operation"""," message = ""Operation not allowed""",1,1
openstack%2Fironic-lib~stable%2Ftrain~I8b42ab0f057cb33c1ec93adfa32c45aafc2730b0,openstack/ironic-lib,stable/train,I8b42ab0f057cb33c1ec93adfa32c45aafc2730b0,Build pdf doc,MERGED,2019-09-16 05:46:41.000000000,2019-09-16 15:52:45.000000000,2019-09-16 15:51:23.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-09-16 05:46:41.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/b37a06e23dfa1c415f3e50ae2e004e9f5ee87688', 'message': 'Build pdf doc\n\nThe is one of community goals that each project could produce a\nsingle PDF file. The pdf should be in the output of openstack-tox-docs\njob.\n\nTeX packages are required to build PDF locally, following is recommended:\n\n* inkscape\n* texlive-latex-base\n* texlive-latex-extra\n* texlive-fonts-recommended\n\nMore about the goal:\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\nhttps://etherpad.openstack.org/p/train-pdf-support-goal\nhttps://etherpad.openstack.org/p/pdf-goal-train-common-problems\n\nChange-Id: I8b42ab0f057cb33c1ec93adfa32c45aafc2730b0\n(cherry picked from commit aa44aadb72a706700c79308b028e6336b762da21)\n'}]",0,682274,b37a06e23dfa1c415f3e50ae2e004e9f5ee87688,12,4,1,24828,,,0,"Build pdf doc

The is one of community goals that each project could produce a
single PDF file. The pdf should be in the output of openstack-tox-docs
job.

TeX packages are required to build PDF locally, following is recommended:

* inkscape
* texlive-latex-base
* texlive-latex-extra
* texlive-fonts-recommended

More about the goal:
https://governance.openstack.org/tc/goals/train/pdf-doc-generation.html
https://etherpad.openstack.org/p/train-pdf-support-goal
https://etherpad.openstack.org/p/pdf-goal-train-common-problems

Change-Id: I8b42ab0f057cb33c1ec93adfa32c45aafc2730b0
(cherry picked from commit aa44aadb72a706700c79308b028e6336b762da21)
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/74/682274/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/conf.py', 'lower-constraints.txt', 'tox.ini']",4,b37a06e23dfa1c415f3e50ae2e004e9f5ee87688,build-pdf-docs-stable/train,[testenv:pdf-docs] whitelist_externals = make basepython = python3 setenv = PYTHONHASHSEED=0 sitepackages = False envdir = {toxworkdir}/venv commands = sphinx-build -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,16,11
openstack%2Fkayobe-config-dev~master~I34f8dc7cbced5ec24a3c698e7c9937081959996a,openstack/kayobe-config-dev,master,I34f8dc7cbced5ec24a3c698e7c9937081959996a,Fix .gitreview after rename,MERGED,2019-09-16 14:31:32.000000000,2019-09-16 15:49:25.000000000,2019-09-16 15:49:25.000000000,"[{'_account_id': 6547}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 14:31:32.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/6fd0ca13d511077d6d60c0afcdc636897ff353e7', 'message': 'Fix .gitreview after rename\n\nFix .gitreview after rename of repo to openstack namespace.\n\nChange-Id: I34f8dc7cbced5ec24a3c698e7c9937081959996a\n'}]",0,682374,6fd0ca13d511077d6d60c0afcdc636897ff353e7,7,3,1,6547,,,0,"Fix .gitreview after rename

Fix .gitreview after rename of repo to openstack namespace.

Change-Id: I34f8dc7cbced5ec24a3c698e7c9937081959996a
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/74/682374/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,6fd0ca13d511077d6d60c0afcdc636897ff353e7,fix-rename,project=openstack/kayobe-config-dev.git,project=x/kayobe-config-dev.git,1,1
openstack%2Fkayobe-config~master~Ibcb4aecb46a052648330536c341a6b6f2e18965a,openstack/kayobe-config,master,Ibcb4aecb46a052648330536c341a6b6f2e18965a,Fix .gitreview after project rename,MERGED,2019-09-16 14:30:11.000000000,2019-09-16 15:44:24.000000000,2019-09-16 15:44:24.000000000,"[{'_account_id': 6547}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 14:30:11.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/kayobe-config/commit/9acd27f052d184a58634f6d42440a60b93d662d4', 'message': 'Fix .gitreview after project rename\n\nThe repo has moved to openstack namespace, fix .gitreview.\n\nChange-Id: Ibcb4aecb46a052648330536c341a6b6f2e18965a\n'}]",0,682373,9acd27f052d184a58634f6d42440a60b93d662d4,7,3,1,6547,,,0,"Fix .gitreview after project rename

The repo has moved to openstack namespace, fix .gitreview.

Change-Id: Ibcb4aecb46a052648330536c341a6b6f2e18965a
",git fetch https://review.opendev.org/openstack/kayobe-config refs/changes/73/682373/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,9acd27f052d184a58634f6d42440a60b93d662d4,fix-rename,project=openstack/kayobe-config.git,project=x/kayobe-config.git,1,1
openstack%2Fglance_store~stable%2Fqueens~I79d9dbc8f6ebea381d99e96c4ba4194ba0188b8a,openstack/glance_store,stable/queens,I79d9dbc8f6ebea381d99e96c4ba4194ba0188b8a,Remove sheepdog tests from zuul config,MERGED,2019-07-05 11:57:24.000000000,2019-09-16 15:38:24.000000000,2019-09-16 15:38:24.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-05 11:57:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/cc7ecc1b54ead1045b0f2d1dd414ac2166088813', 'message': 'Remove sheepdog tests from zuul config\n\nThe sheepdog project is no longer maintained [0], so this removes the\ntest configuration as part of an effort to clean up those test\ndefinitions. The glance_store support for sheepdog should also be\ndeprecated and removed, but that will be done separately.\n\n[0] http://lists.wpkg.org/pipermail/sheepdog/2019-March/068451.html\n\nChange-Id: I79d9dbc8f6ebea381d99e96c4ba4194ba0188b8a\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit a7a6064e7dc4775d08753f029c2589a4586e0f66)\n(cherry picked from commit 27e421af26cd1bcc68746a0beadb541fb8d647be)\n(cherry picked from commit ff65eec040f7c855aa53018489548e6e70f41346)\n'}]",0,669338,cc7ecc1b54ead1045b0f2d1dd414ac2166088813,7,3,1,11904,,,0,"Remove sheepdog tests from zuul config

The sheepdog project is no longer maintained [0], so this removes the
test configuration as part of an effort to clean up those test
definitions. The glance_store support for sheepdog should also be
deprecated and removed, but that will be done separately.

[0] http://lists.wpkg.org/pipermail/sheepdog/2019-March/068451.html

Change-Id: I79d9dbc8f6ebea381d99e96c4ba4194ba0188b8a
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit a7a6064e7dc4775d08753f029c2589a4586e0f66)
(cherry picked from commit 27e421af26cd1bcc68746a0beadb541fb8d647be)
(cherry picked from commit ff65eec040f7c855aa53018489548e6e70f41346)
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/38/669338/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,cc7ecc1b54ead1045b0f2d1dd414ac2166088813,,, - legacy-tempest-dsvm-full-sheepdog: voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ ,0,6
openstack%2Fwatcher~stable%2Fstein~I013f9d03978f8716847f8d1ee6888629faf5779b,openstack/watcher,stable/stein,I013f9d03978f8716847f8d1ee6888629faf5779b,pass default_config_dirs variable for config initialization.,MERGED,2019-09-13 22:44:18.000000000,2019-09-16 15:29:29.000000000,2019-09-16 03:46:12.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 23735}]","[{'number': 1, 'created': '2019-09-13 22:44:18.000000000', 'files': ['watcher/common/config.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/ec5780902ff99135e4883a6c45b3190bf6f7c5cb', 'message': ""pass default_config_dirs variable for config initialization.\n\nCurrently default config files are being for initialization of CONF from\noslo_config. However default config dirs are not being passed as a\nresult watcher components (eg: decision-engine) are unable to load\nfiles from default directories (eg: /etc/watcher/watcher.conf.d)\nsupported by oslo_config. This is a short-coming on watcher's side.\nAlso this forces user to have multiple config for each component.\n\nWithout this default set, oslo_config will search for conf with string\n'python-watcher' in it, eg: /etc/python-watcher/.... Since there is a\nbecause project=python-watcher a couple of lines below\n\nThis patch adds the option after evaluating using project as 'watcher'\nwhich is similar to evaluation of default_config_files and also allows\nit to be passed in as a function parameter.\n\nChange-Id: I013f9d03978f8716847f8d1ee6888629faf5779b\n(cherry picked from commit dce23d7eb43e078729f21791ef758174e530059a)\n""}]",0,682186,ec5780902ff99135e4883a6c45b3190bf6f7c5cb,9,3,1,1916,,,0,"pass default_config_dirs variable for config initialization.

Currently default config files are being for initialization of CONF from
oslo_config. However default config dirs are not being passed as a
result watcher components (eg: decision-engine) are unable to load
files from default directories (eg: /etc/watcher/watcher.conf.d)
supported by oslo_config. This is a short-coming on watcher's side.
Also this forces user to have multiple config for each component.

Without this default set, oslo_config will search for conf with string
'python-watcher' in it, eg: /etc/python-watcher/.... Since there is a
because project=python-watcher a couple of lines below

This patch adds the option after evaluating using project as 'watcher'
which is similar to evaluation of default_config_files and also allows
it to be passed in as a function parameter.

Change-Id: I013f9d03978f8716847f8d1ee6888629faf5779b
(cherry picked from commit dce23d7eb43e078729f21791ef758174e530059a)
",git fetch https://review.opendev.org/openstack/watcher refs/changes/86/682186/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/common/config.py'],1,ec5780902ff99135e4883a6c45b3190bf6f7c5cb,,"def parse_args(argv, default_config_files=None, default_config_dirs=None): default_config_dirs = (default_config_dirs or cfg.find_config_dirs(project='watcher')) default_config_dirs=default_config_dirs,","def parse_args(argv, default_config_files=None):",4,1
openstack%2Fpuppet-tripleo~master~Ide850ab917736f066c38e2e55960a03e1fcd3523,openstack/puppet-tripleo,master,Ide850ab917736f066c38e2e55960a03e1fcd3523,Safeguard against 'Undef' length() checks.,MERGED,2019-04-30 16:27:17.000000000,2019-09-16 15:20:26.000000000,2019-05-05 17:37:29.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2019-04-30 16:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/399e6e6e9714f7cbc283a9a77116f4e7cc64384a', 'message': 'WIP - safeguard against \'Undef\' variables for fencing\n\nHit the following during a deployment:\n\n""Error: Evaluation Error: Error while evaluating a Function Call\n\'length\' parameter \'arg\' expects a value of type Collection, String,\nor Binary, got Undef""\n\nProbably there is a strict check vs. length($driver_devices),\nthis commit adds a safeguard to skip the length check if\n$driver_devices is undef.\n\nChange-Id: Ide850ab917736f066c38e2e55960a03e1fcd3523\n'}, {'number': 2, 'created': '2019-04-30 16:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2c10d3d735768cf75800dbfb9b5a889df77a6d84', 'message': 'WIP - safeguard against \'Undef\' variables for fencing\n\nHit the following during a deployment:\n\n""Error: Evaluation Error: Error while evaluating a Function Call\n\'length\' parameter \'arg\' expects a value of type Collection, String,\nor Binary, got Undef""\n\nProbably there is a strict check vs. length($driver_devices),\nthis commit adds a safeguard to skip the length check if\n$driver_devices is undef.\n\nChange-Id: Ide850ab917736f066c38e2e55960a03e1fcd3523\n'}, {'number': 3, 'created': '2019-04-30 16:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/12bc21e9f1e62c14f9633de5bfdfbde4536ebbc5', 'message': 'WIP - safeguard against \'Undef\' length() checks.\n\nHit the following during a deployment:\n\n""Error: Evaluation Error: Error while evaluating a Function Call\n\'length\' parameter \'arg\' expects a value of type Collection, String,\nor Binary, got Undef""\n\nThis commit adds a safeguard to skip the length check if\n$driver_devices is \'Undef\'.\n\nCloses-bug: #1827091\n\nChange-Id: Ide850ab917736f066c38e2e55960a03e1fcd3523\n'}, {'number': 4, 'created': '2019-05-01 04:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e680fead39b24782090322f78e2fd19389df2920', 'message': 'Safeguard against \'Undef\' length() checks.\n\nHit the following during a deployment:\n\n""Error: Evaluation Error: Error while evaluating a Function Call\n\'length\' parameter \'arg\' expects a value of type Collection, String,\nor Binary, got Undef""\n\nThis commit adds a safeguard to skip the length check if\n$driver_devices is \'Undef\'.\n\nCloses-bug: #1827091\n\nChange-Id: Ide850ab917736f066c38e2e55960a03e1fcd3523\n'}, {'number': 5, 'created': '2019-05-01 17:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/980dab1529b788f8e3e92656acc93ebd7f2dce6a', 'message': 'Safeguard against \'Undef\' length() checks.\n\nHit the following during a deployment:\n\n""Error: Evaluation Error: Error while evaluating a Function Call\n\'length\' parameter \'arg\' expects a value of type Collection, String,\nor Binary, got Undef""\n\nThis commit adds a safeguard to skip the length check if\n$driver_devices is \'Undef\'.\n\nCloses-bug: #1827091\n\nChange-Id: Ide850ab917736f066c38e2e55960a03e1fcd3523\n'}, {'number': 6, 'created': '2019-05-01 17:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6ec1a98277c0169135c1fd2e17b70a0a35e0edd5', 'message': 'Safeguard against \'Undef\' length() checks.\n\nHit the following during a deployment:\n\n""Error: Evaluation Error: Error while evaluating a Function Call\n\'length\' parameter \'arg\' expects a value of type Collection, String,\nor Binary, got Undef""\n\nThis commit adds a safeguard to skip the length check if\n$driver_devices is \'Undef\'.\n\nCloses-bug: #1827091\n\nChange-Id: Ide850ab917736f066c38e2e55960a03e1fcd3523\n'}, {'number': 7, 'created': '2019-05-01 17:11:01.000000000', 'files': ['manifests/fencing.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ffdc816e37c7739e4645df08fac574859e2b06ac', 'message': 'Safeguard against \'Undef\' length() checks.\n\nHit the following during a deployment:\n\n""Error: Evaluation Error: Error while evaluating a Function Call\n\'length\' parameter \'arg\' expects a value of type Collection, String,\nor Binary, got Undef""\n\nThis commit adds a safeguard to skip the length check if\n$driver_devices is \'Undef\'.\n\nCloses-bug: #1827091\n\nChange-Id: Ide850ab917736f066c38e2e55960a03e1fcd3523\n'}]",1,656542,ffdc816e37c7739e4645df08fac574859e2b06ac,29,5,7,30126,,,0,"Safeguard against 'Undef' length() checks.

Hit the following during a deployment:

""Error: Evaluation Error: Error while evaluating a Function Call
'length' parameter 'arg' expects a value of type Collection, String,
or Binary, got Undef""

This commit adds a safeguard to skip the length check if
$driver_devices is 'Undef'.

Closes-bug: #1827091

Change-Id: Ide850ab917736f066c38e2e55960a03e1fcd3523
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/42/656542/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/fencing.pp'],1,399e6e6e9714f7cbc283a9a77116f4e7cc64384a,bug/1827091," if $driver_devices != undef { if length($driver_devices) == 1 { $mac = keys($driver_devices)[0] $safe_mac = regsubst($mac, ':', '', 'G') if ($enable_instanceha and $is_compute_instanceha_node) { $stonith_resources = [ ""stonith-fence_${driver}-${safe_mac}"", 'stonith-fence_compute-fence-nova' ] } else { $stonith_resources = [ ""stonith-fence_${driver}-${safe_mac}"" ] } pacemaker::stonith::level{ ""stonith-${level}-${safe_mac}"": level => $level, target => '$(/usr/sbin/crm_node -n)', stonith_resources => $stonith_resources, tries => $tries, try_sleep => $try_sleep, } "," if length($driver_devices) == 1 { $mac = keys($driver_devices)[0] $safe_mac = regsubst($mac, ':', '', 'G') if ($enable_instanceha and $is_compute_instanceha_node) { $stonith_resources = [ ""stonith-fence_${driver}-${safe_mac}"", 'stonith-fence_compute-fence-nova' ] } else { $stonith_resources = [ ""stonith-fence_${driver}-${safe_mac}"" ] } pacemaker::stonith::level{ ""stonith-${level}-${safe_mac}"": level => $level, target => '$(/usr/sbin/crm_node -n)', stonith_resources => $stonith_resources, tries => $tries, try_sleep => $try_sleep,",17,15
openstack%2Fnova~master~I331a471d14f071667eac6d02078b8accf63d6ce0,openstack/nova,master,I331a471d14f071667eac6d02078b8accf63d6ce0,RT: replace _instance_in_resize_state with _is_trackable_migration,ABANDONED,2018-04-11 15:21:07.000000000,2019-09-16 15:19:04.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 19156}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26286}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-04-11 15:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f0e4f4301ba5c04cb9acac23948fd208536ec73', 'message': 'RT: replace _instance_in_resize_state with _is_trackable_migration\n\nMethod _instance_in_resize_state was added in 2012 via change\nIc565d4e2ab9bee40f25fe9f198e1217cdd92ca1b when the resource tracker\nstarting tracking resizes (cold migrations).\n\nLater, in year of our Lord 2015, evacuation migrations were also\nbeing tracked via change Ie74939e543155bc42705b28e1b44d943ef54ebdc\nbut didn\'t rename the _instance_in_resize_state method to reflect\nthat change.\n\nThe _instance_in_resize_state method is only used in one place,\n_update_usage_from_migrations, to filter out migrations that\naren\'t ""trackable"" (we don\'t have resource claims for them), which\nat this point is just live migration. That usage also resulted\nin a legacy (from 2012) annoying warning seen during every live\nmigration:\n\n  Instance not resizing, skipping migration\n\nThat warning is seen over 40K times in our CI runs in 7 days.\n\nThis change does two things:\n\n1. Removes method _instance_in_resize_state and replaces its\n   usage with _is_trackable_migration which, based on how its\n   used, is logically the same thing.\n\n2. Drop the unnecessary warning during live migrations.\n\nChange-Id: I331a471d14f071667eac6d02078b8accf63d6ce0\nCloses-Bug: #1763043\n'}, {'number': 2, 'created': '2018-04-12 15:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebb7693c440001c76d37f3c440354dd585b4a74c', 'message': 'RT: replace _instance_in_resize_state with _is_trackable_migration\n\nMethod _instance_in_resize_state was added in 2012 via change\nIc565d4e2ab9bee40f25fe9f198e1217cdd92ca1b when the resource tracker\nstarting tracking resizes (cold migrations).\n\nLater, in year of our Lord 2015, evacuation migrations were also\nbeing tracked via change Ie74939e543155bc42705b28e1b44d943ef54ebdc\nbut didn\'t rename the _instance_in_resize_state method to reflect\nthat change.\n\nThe _instance_in_resize_state method is only used in one place,\n_update_usage_from_migrations, to filter out migrations that\naren\'t ""trackable"" (we don\'t have resource claims for them), which\nat this point is just live migration. That usage also resulted\nin a legacy (from 2012) annoying warning seen during every live\nmigration:\n\n  Instance not resizing, skipping migration\n\nThat warning is seen over 40K times in our CI runs in 7 days.\n\nThis change does two things:\n\n1. Removes method _instance_in_resize_state and replaces its\n   usage with _is_trackable_migration which, based on how its\n   used, is logically the same thing.\n\n2. Drop the unnecessary warning during live migrations.\n\nChange-Id: I331a471d14f071667eac6d02078b8accf63d6ce0\nCloses-Bug: #1763043\n'}, {'number': 3, 'created': '2018-10-08 14:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84d892631a2e8bdc8b3fb574411208250fc424ab', 'message': 'RT: replace _instance_in_resize_state with _is_trackable_migration\n\nMethod _instance_in_resize_state was added in 2012 via change\nIc565d4e2ab9bee40f25fe9f198e1217cdd92ca1b when the resource tracker\nstarting tracking resizes (cold migrations).\n\nLater, in year of our Lord 2015, evacuation migrations were also\nbeing tracked via change Ie74939e543155bc42705b28e1b44d943ef54ebdc\nbut didn\'t rename the _instance_in_resize_state method to reflect\nthat change.\n\nThe _instance_in_resize_state method is only used in one place,\n_update_usage_from_migrations, to filter out migrations that\naren\'t ""trackable"" (we don\'t have resource claims for them), which\nat this point is just live migration. That usage also resulted\nin a legacy (from 2012) annoying warning seen during every live\nmigration:\n\n  Instance not resizing, skipping migration\n\nThat warning is seen over 40K times in our CI runs in 7 days.\n\nThis change does two things:\n\n1. Removes method _instance_in_resize_state and replaces its\n   usage with _is_trackable_migration which, based on how its\n   used, is logically the same thing.\n\n2. Drop the unnecessary warning during live migrations.\n\nChange-Id: I331a471d14f071667eac6d02078b8accf63d6ce0\nCloses-Bug: #1763043\n'}, {'number': 4, 'created': '2018-10-25 19:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca824413d99aa31029ba5a5d64a688123671e00f', 'message': 'RT: replace _instance_in_resize_state with _is_trackable_migration\n\nMethod _instance_in_resize_state was added in 2012 via change\nIc565d4e2ab9bee40f25fe9f198e1217cdd92ca1b when the resource tracker\nstarting tracking resizes (cold migrations).\n\nLater, in year of our Lord 2015, evacuation migrations were also\nbeing tracked via change Ie74939e543155bc42705b28e1b44d943ef54ebdc\nbut didn\'t rename the _instance_in_resize_state method to reflect\nthat change.\n\nThe _instance_in_resize_state method is only used in one place,\n_update_usage_from_migrations, to filter out migrations that\naren\'t ""trackable"" (we don\'t have resource claims for them), which\nat this point is just live migration. That usage also resulted\nin a legacy (from 2012) annoying warning seen during every live\nmigration:\n\n  Instance not resizing, skipping migration\n\nThat warning is seen over 40K times in our CI runs in 7 days.\n\nThis change does two things:\n\n1. Removes method _instance_in_resize_state and replaces its\n   usage with _is_trackable_migration which, based on how its\n   used, is logically the same thing.\n\n2. Drop the unnecessary warning during live migrations.\n\nChange-Id: I331a471d14f071667eac6d02078b8accf63d6ce0\nCloses-Bug: #1763043\n'}, {'number': 5, 'created': '2018-11-10 13:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a16087f822d86cd5479b3f39b019963cb90e682b', 'message': 'RT: replace _instance_in_resize_state with _is_trackable_migration\n\nMethod _instance_in_resize_state was added in 2012 via change\nIc565d4e2ab9bee40f25fe9f198e1217cdd92ca1b when the resource tracker\nstarting tracking resizes (cold migrations).\n\nLater, in year of our Lord 2015, evacuation migrations were also\nbeing tracked via change Ie74939e543155bc42705b28e1b44d943ef54ebdc\nbut didn\'t rename the _instance_in_resize_state method to reflect\nthat change.\n\nThe _instance_in_resize_state method is only used in one place,\n_update_usage_from_migrations, to filter out migrations that\naren\'t ""trackable"" (we don\'t have resource claims for them), which\nat this point is just live migration. That usage also resulted\nin a legacy (from 2012) annoying warning seen during every live\nmigration:\n\n  Instance not resizing, skipping migration\n\nThat warning is seen over 40K times in our CI runs in 7 days.\n\nThis change does two things:\n\n1. Removes method _instance_in_resize_state and replaces its\n   usage with _is_trackable_migration which, based on how its\n   used, is logically the same thing.\n\n2. Drop the unnecessary warning during live migrations.\n\nChange-Id: I331a471d14f071667eac6d02078b8accf63d6ce0\nCloses-Bug: #1763043\n'}, {'number': 6, 'created': '2019-03-12 18:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/694ab513e04a642fef9fb5d055cb34dd5b2fa855', 'message': 'RT: replace _instance_in_resize_state with _is_trackable_migration\n\nMethod _instance_in_resize_state was added in 2012 via change\nIc565d4e2ab9bee40f25fe9f198e1217cdd92ca1b when the resource tracker\nstarting tracking resizes (cold migrations).\n\nLater, in year of our Lord 2015, evacuation migrations were also\nbeing tracked via change Ie74939e543155bc42705b28e1b44d943ef54ebdc\nbut didn\'t rename the _instance_in_resize_state method to reflect\nthat change.\n\nThe _instance_in_resize_state method is only used in one place,\n_update_usage_from_migrations, to filter out migrations that\naren\'t ""trackable"" (we don\'t have resource claims for them), which\nat this point is just live migration. That usage also resulted\nin a legacy (from 2012) annoying warning seen during every live\nmigration:\n\n  Instance not resizing, skipping migration\n\nThat warning is seen over 40K times in our CI runs in 7 days.\n\nThis change does two things:\n\n1. Removes method _instance_in_resize_state and replaces its\n   usage with _is_trackable_migration which, based on how its\n   used, is logically the same thing.\n\n2. Drop the unnecessary warning during live migrations.\n\nChange-Id: I331a471d14f071667eac6d02078b8accf63d6ce0\nCloses-Bug: #1763043\n'}, {'number': 7, 'created': '2019-06-27 15:24:55.000000000', 'files': ['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/15893bb12cb23ffa0c2fd714b666e8243ccb6639', 'message': 'RT: replace _instance_in_resize_state with _is_trackable_migration\n\nMethod _instance_in_resize_state was added in 2012 via change\nIc565d4e2ab9bee40f25fe9f198e1217cdd92ca1b when the resource tracker\nstarting tracking resizes (cold migrations).\n\nLater, in year of our Lord 2015, evacuation migrations were also\nbeing tracked via change Ie74939e543155bc42705b28e1b44d943ef54ebdc\nbut didn\'t rename the _instance_in_resize_state method to reflect\nthat change.\n\nThe _instance_in_resize_state method is only used in one place,\n_update_usage_from_migrations, to filter out migrations that\naren\'t ""trackable"" (we don\'t have resource claims for them), which\nat this point is just live migration. That usage also resulted\nin a legacy (from 2012) annoying warning seen during every live\nmigration:\n\n  Instance not resizing, skipping migration\n\nThat warning is seen over 40K times in our CI runs in 7 days.\n\nThis change does two things:\n\n1. Removes method _instance_in_resize_state and replaces its\n   usage with _is_trackable_migration which, based on how its\n   used, is logically the same thing.\n\n2. Drop the unnecessary warning during live migrations.\n\nChange-Id: I331a471d14f071667eac6d02078b8accf63d6ce0\nCloses-Bug: #1763043\n'}]",1,560467,15893bb12cb23ffa0c2fd714b666e8243ccb6639,106,18,7,6873,,,0,"RT: replace _instance_in_resize_state with _is_trackable_migration

Method _instance_in_resize_state was added in 2012 via change
Ic565d4e2ab9bee40f25fe9f198e1217cdd92ca1b when the resource tracker
starting tracking resizes (cold migrations).

Later, in year of our Lord 2015, evacuation migrations were also
being tracked via change Ie74939e543155bc42705b28e1b44d943ef54ebdc
but didn't rename the _instance_in_resize_state method to reflect
that change.

The _instance_in_resize_state method is only used in one place,
_update_usage_from_migrations, to filter out migrations that
aren't ""trackable"" (we don't have resource claims for them), which
at this point is just live migration. That usage also resulted
in a legacy (from 2012) annoying warning seen during every live
migration:

  Instance not resizing, skipping migration

That warning is seen over 40K times in our CI runs in 7 days.

This change does two things:

1. Removes method _instance_in_resize_state and replaces its
   usage with _is_trackable_migration which, based on how its
   used, is logically the same thing.

2. Drop the unnecessary warning during live migrations.

Change-Id: I331a471d14f071667eac6d02078b8accf63d6ce0
Closes-Bug: #1763043
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/560467/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_resource_tracker.py', 'nova/compute/resource_tracker.py']",2,2f0e4f4301ba5c04cb9acac23948fd208536ec73,bug/1763043, if not _is_trackable_migration(migration): continue,"from nova.compute import task_statesdef _instance_in_resize_state(instance): """"""Returns True if the instance is in one of the resizing states. :param instance: `nova.objects.Instance` object """""" vm = instance.vm_state task = instance.task_state if vm == vm_states.RESIZED: return True if (vm in [vm_states.ACTIVE, vm_states.STOPPED] and task in [task_states.RESIZE_PREP, task_states.RESIZE_MIGRATING, task_states.RESIZE_MIGRATED, task_states.RESIZE_FINISH, task_states.REBUILDING]): return True return False # skip migration if instance isn't in a resize state: if not _instance_in_resize_state(instances[uuid]): LOG.warning(""Instance not resizing, skipping migration."", instance_uuid=uuid) continue ",29,58
openstack%2Fpuppet-tripleo~stable%2Fqueens~I42033be840ba41e9944af65815a63059834144e9,openstack/puppet-tripleo,stable/queens,I42033be840ba41e9944af65815a63059834144e9,Implement stonith levels and enable kdump agent.,MERGED,2019-09-15 05:41:17.000000000,2019-09-16 15:15:35.000000000,2019-09-16 15:15:35.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2019-09-15 05:41:17.000000000', 'files': ['manifests/fencing.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/67eb9743f31838863f33ad06d7edaf1485f1715b', 'message': 'Implement stonith levels and enable kdump agent.\n\nThis commit extends the stonith generation logic to allow operators\nto make use of fencing levels.\nGiven a fence.yaml file like the following:\n\nparameter_defaults:\n  EnableFencing: true\n  FencingConfig:\n    devices:\n      level1:\n      - agent: fence_agent1\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someparam: somevalue\n      level2:\n      - agent: fence_agent2\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someotherparam: someothervalue\n\nThe code iterates over the ""levelX"" key and creates the respective\nstonith resources and adds them to the specified stonith level.\n\nIt should be backwards compatible since it checks if ""devices"" is\nan array (no level specified) and reconducts this case to level=1.\n\nExample results below.\n\n* without levels:*\n\nhieradata:\n\n    ""tripleo::fencing::config"": {\n        ""devices"": [\n            {\n                ""agent"": ""fence_ipmilan"",\n                ""host_mac"": ""e4:43:4b:4b:c8:19"",\n\n[root@overcloud-controller-0]# pcs status\n...\n\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n\n[root@overcloud-controller-0]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n\n* with levels: *\n\nhieradata:\n\n    ""tripleo::fencing::config"": {\n        ""devices"": {\n            ""level1"": [\n               {\n               ""agent"": ""fence_ipmilan"",\n               ""host_mac"": ""e4:43:4b:4b:c8:19"",\n            ...\n            ""level2"": [\n               {\n               ""agent"": ""fence_kdump"",\n               ""host_mac"": ""e4:43:4b:4b:c8:19"",\n\n[root@overcloud-controller-0 ]# pcs status\n...\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n stonith-fence_kdump-e4434b4bc819       (stonith:fence_kdump):  Started overcloud-controller-2\n\n[root@overcloud-controller-0 ]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n  Level 2 - stonith-fence_kdump-e4434b4bc819\n\nChange-Id: I42033be840ba41e9944af65815a63059834144e9\n(cherry picked from commit bacfec8647ad487e1ab486061b07f026198fd804)\n'}]",0,682236,67eb9743f31838863f33ad06d7edaf1485f1715b,12,4,1,30126,,,0,"Implement stonith levels and enable kdump agent.

This commit extends the stonith generation logic to allow operators
to make use of fencing levels.
Given a fence.yaml file like the following:

parameter_defaults:
  EnableFencing: true
  FencingConfig:
    devices:
      level1:
      - agent: fence_agent1
        host_mac: aa:bb:cc:dd:ee:ff
        params:
          someparam: somevalue
      level2:
      - agent: fence_agent2
        host_mac: aa:bb:cc:dd:ee:ff
        params:
          someotherparam: someothervalue

The code iterates over the ""levelX"" key and creates the respective
stonith resources and adds them to the specified stonith level.

It should be backwards compatible since it checks if ""devices"" is
an array (no level specified) and reconducts this case to level=1.

Example results below.

* without levels:*

hieradata:

    ""tripleo::fencing::config"": {
        ""devices"": [
            {
                ""agent"": ""fence_ipmilan"",
                ""host_mac"": ""e4:43:4b:4b:c8:19"",

[root@overcloud-controller-0]# pcs status
...

 stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1

[root@overcloud-controller-0]# pcs stonith level
Target: overcloud-controller-0
  Level 1 - stonith-fence_ipmilan-e4434b4bc819

* with levels: *

hieradata:

    ""tripleo::fencing::config"": {
        ""devices"": {
            ""level1"": [
               {
               ""agent"": ""fence_ipmilan"",
               ""host_mac"": ""e4:43:4b:4b:c8:19"",
            ...
            ""level2"": [
               {
               ""agent"": ""fence_kdump"",
               ""host_mac"": ""e4:43:4b:4b:c8:19"",

[root@overcloud-controller-0 ]# pcs status
...
 stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1
 stonith-fence_kdump-e4434b4bc819       (stonith:fence_kdump):  Started overcloud-controller-2

[root@overcloud-controller-0 ]# pcs stonith level
Target: overcloud-controller-0
  Level 1 - stonith-fence_ipmilan-e4434b4bc819
  Level 2 - stonith-fence_kdump-e4434b4bc819

Change-Id: I42033be840ba41e9944af65815a63059834144e9
(cherry picked from commit bacfec8647ad487e1ab486061b07f026198fd804)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/36/682236/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/fencing.pp'],1,67eb9743f31838863f33ad06d7edaf1485f1715b,fencing-topology-stable/queens," # check if instanceha is enabled $content = $config['devices'] # check if the devices: section in fence.yaml contains levels. # if it doesn't, assume level=1 an build a hash with the content. if is_array($content) { $all_levels = {'level1' => $content} } else { $all_levels = $content } $all_levels.each |$index, $levelx_devices |{ $level = regsubst($index, 'level', '', 'G') $all_devices = $levelx_devices if $::uuid != 'docker' and $::deployment_type != 'containers' { $xvm_devices = local_fence_devices('fence_xvm', $all_devices) create_resources('pacemaker::stonith::fence_xvm', $xvm_devices, $common_params) } $ironic_devices = local_fence_devices('fence_ironic', $all_devices) create_resources('pacemaker::stonith::fence_ironic', $ironic_devices, $common_params) $redfish_devices = local_fence_devices('fence_redfish', $all_devices) create_resources('pacemaker::stonith::fence_redfish', $redfish_devices, $common_params) $ipmilan_devices = local_fence_devices('fence_ipmilan', $all_devices) create_resources('pacemaker::stonith::fence_ipmilan', $ipmilan_devices, $common_params) $kdump_devices = local_fence_devices('fence_kdump', $all_devices) create_resources('pacemaker::stonith::fence_kdump', $kdump_devices, $common_params) $rhev_devices = local_fence_devices('fence_rhevm', $all_devices) create_resources('pacemaker::stonith::fence_rhevm', $rhev_devices, $common_params) $data = { 'xvm' => $xvm_devices, 'ironic' => $ironic_devices, 'redfish' => $redfish_devices, 'ipmilan' => $ipmilan_devices, 'kdump' => $kdump_devices, 'rhevm' => $rhev_devices } $data.each |$items| { $driver = $items[0] $driver_devices = $items[1] if length($driver_devices) == 1 { $mac = keys($driver_devices)[0] $safe_mac = regsubst($mac, ':', '', 'G') if ($enable_instanceha and $is_compute_instanceha_node) { $stonith_resources = [ ""stonith-fence_${driver}-${safe_mac}"", 'stonith-fence_compute-fence-nova' ] } else { $stonith_resources = [ ""stonith-fence_${driver}-${safe_mac}"" ] } pacemaker::stonith::level{ ""stonith-${level}-${safe_mac}"": level => $level, target => '$(/usr/sbin/crm_node -n)', stonith_resources => $stonith_resources, tries => $tries, try_sleep => $try_sleep, } } } } } "," # We will create stonith levels *only* if the node is a compute instanceha one $all_devices = $config['devices'] if $::uuid != 'docker' and $::deployment_type != 'containers' { $xvm_devices = local_fence_devices('fence_xvm', $all_devices) create_resources('pacemaker::stonith::fence_xvm', $xvm_devices, $common_params) } $redfish_devices = local_fence_devices('fence_redfish', $all_devices) create_resources('pacemaker::stonith::fence_redfish', $redfish_devices, $common_params) $ipmilan_devices = local_fence_devices('fence_ipmilan', $all_devices) create_resources('pacemaker::stonith::fence_ipmilan', $ipmilan_devices, $common_params) if ($enable_instanceha and $is_compute_instanceha_node) { if length($ipmilan_devices) < 1 { fail('You must specify an IPmilan device for a host when configuring instance HA') } if length($ipmilan_devices) > 1 { fail('Multiple IPmilan devices for a single host are not supported with instance HA') } # Get the first (and only) key which is the mac-address $mac = keys($ipmilan_devices)[0] $safe_mac = regsubst($mac, ':', '', 'G') $stonith_resources = [ ""stonith-fence_ipmilan-${safe_mac}"", 'stonith-fence_compute-fence-nova' ] Pcmk_stonith <||> -> Pcmk_stonith_level <||> pacemaker::stonith::level{ ""stonith-level-${safe_mac}"": level => 1, target => '$(/usr/sbin/crm_node -n)', stonith_resources => $stonith_resources, tries => $tries, try_sleep => $try_sleep, } } $ironic_devices = local_fence_devices('fence_ironic', $all_devices) create_resources('pacemaker::stonith::fence_ironic', $ironic_devices, $common_params) $rhev_devices = local_fence_devices('fence_rhevm', $all_devices) create_resources('pacemaker::stonith::fence_rhevm', $rhev_devices, $common_params) }",59,33
openstack%2Ftempest~master~I7446ff7054164ed646d198771760d61880df5d73,openstack/tempest,master,I7446ff7054164ed646d198771760d61880df5d73,"DNM: Revert ""Skip verifying empty devices in test_tagged_attachment until bug is fixed""",ABANDONED,2018-07-27 20:03:00.000000000,2019-09-16 15:12:01.000000000,,"[{'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-27 20:03:00.000000000', 'files': ['tempest/api/compute/servers/test_device_tagging.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/606b827f52921b3deba375a3c8bed3b2d6b1131b', 'message': 'DNM: Revert ""Skip verifying empty devices in test_tagged_attachment until bug is fixed""\n\nThis reverts commit 4e2a957bf8aade0a766c9c9a1d6798e4cb71e86d.\n\nChange-Id: I7446ff7054164ed646d198771760d61880df5d73\n'}]",0,586653,606b827f52921b3deba375a3c8bed3b2d6b1131b,7,3,1,8864,,,0,"DNM: Revert ""Skip verifying empty devices in test_tagged_attachment until bug is fixed""

This reverts commit 4e2a957bf8aade0a766c9c9a1d6798e4cb71e86d.

Change-Id: I7446ff7054164ed646d198771760d61880df5d73
",git fetch https://review.opendev.org/openstack/tempest refs/changes/53/586653/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/servers/test_device_tagging.py'],1,606b827f52921b3deba375a3c8bed3b2d6b1131b,," self.verify_metadata_from_api(server, ssh_client, self.verify_empty_devices)"," # FIXME(mriedem): The assertion that the tagged devices are removed # from the metadata for the server is being skipped until bug 1775947 # is fixed. # self.verify_metadata_from_api(server, ssh_client, # self.verify_empty_devices)",2,5
openstack%2Ftempest~master~I23a24fc06cf49d64414da74dcf489b40a265609e,openstack/tempest,master,I23a24fc06cf49d64414da74dcf489b40a265609e,Test refuse swap with multiattach volumes,ABANDONED,2018-06-08 18:28:34.000000000,2019-09-16 15:10:45.000000000,,"[{'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9732}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-06-08 18:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/25cbb0187fef1d5d0394346d58067446335ea5a2', 'message': 'WIP: Test refuse swap with multiattach volumes\n\nChange-Id: I23a24fc06cf49d64414da74dcf489b40a265609e\nDepends-on: Icd7fcb87a09c35a13e4e14235feb30a289d22778\nRelated-bug: 1775418\n'}, {'number': 2, 'created': '2018-06-09 14:09:27.000000000', 'files': ['tempest/api/compute/admin/test_volume_swap.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f2bd53371e3d473366246111edf4a40bac3cfb09', 'message': 'Test refuse swap with multiattach volumes\n\nThis tests that nova returns 400 when attempting to swap two\nread/write multiattach volumes.\n\nChange-Id: I23a24fc06cf49d64414da74dcf489b40a265609e\nDepends-on: Icd7fcb87a09c35a13e4e14235feb30a289d22778\nRelated-bug: 1775418\n'}]",3,573809,f2bd53371e3d473366246111edf4a40bac3cfb09,15,7,2,8864,,,0,"Test refuse swap with multiattach volumes

This tests that nova returns 400 when attempting to swap two
read/write multiattach volumes.

Change-Id: I23a24fc06cf49d64414da74dcf489b40a265609e
Depends-on: Icd7fcb87a09c35a13e4e14235feb30a289d22778
Related-bug: 1775418
",git fetch https://review.opendev.org/openstack/tempest refs/changes/09/573809/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/compute/servers_client.py', 'tempest/api/compute/admin/test_volume_swap.py']",2,25cbb0187fef1d5d0394346d58067446335ea5a2,," def test_swap_with_many_rw(self): volume1 = self.create_volume(multiattach=True) volume2 = self.create_volume(multiattach=True) server1 = self.create_test_server(wait_until='ACTIVE') self.attach_volume(server1, volume1) server2 = self.create_test_server(wait_until='ACTIVE') self.attach_volume(server2, volume1) update = self.admin_servers_client.update_attached_volume( server1['id'], volume1['id'], volumeId=volume2['id']) self.assertEqual(update.status, 400)",,19,2
openstack%2Fnova~master~I2c25a302e0cfd3b97a86b7a2cdb9834a52d3625b,openstack/nova,master,I2c25a302e0cfd3b97a86b7a2cdb9834a52d3625b,WIP: proper fix for Quobyte CI,ABANDONED,2017-10-26 15:25:02.000000000,2019-09-16 15:10:10.000000000,,"[{'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-10-26 15:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8fb041247119e583ed6b693d534c364510536114', 'message': 'WIP: proper fix for Quobyte CI\n\nThis patch removes the workaround for bug 1597644 introduced in\nec6ed24cb844dcdf834d283d496c9b920ff1db83 and attempts to fix the\nQuobyte CI issue by using libvirt seclabels as suggested [1] by Dan\nBerrange.\n\n[1] https://bugs.launchpad.net/nova/+bug/1597644/comments/22\n\nChange-Id: I2c25a302e0cfd3b97a86b7a2cdb9834a52d3625b\n'}, {'number': 2, 'created': '2018-12-20 09:02:26.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/volume/quobyte.py', 'nova/virt/libvirt/config.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0b55d3d435f4688d7ee10b587bb1471ddd06a6c4', 'message': 'WIP: proper fix for Quobyte CI\n\nThis patch removes the workaround for bug 1597644 introduced in\nec6ed24cb844dcdf834d283d496c9b920ff1db83 and attempts to fix the\nQuobyte CI issue by using libvirt seclabels as suggested [1] by Dan\nBerrange.\n\n[1] https://bugs.launchpad.net/nova/+bug/1597644/comments/22\n\nChange-Id: I2c25a302e0cfd3b97a86b7a2cdb9834a52d3625b\n'}]",0,515447,0b55d3d435f4688d7ee10b587bb1471ddd06a6c4,37,15,2,8864,,,0,"WIP: proper fix for Quobyte CI

This patch removes the workaround for bug 1597644 introduced in
ec6ed24cb844dcdf834d283d496c9b920ff1db83 and attempts to fix the
Quobyte CI issue by using libvirt seclabels as suggested [1] by Dan
Berrange.

[1] https://bugs.launchpad.net/nova/+bug/1597644/comments/22

Change-Id: I2c25a302e0cfd3b97a86b7a2cdb9834a52d3625b
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/515447/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/volume/quobyte.py', 'nova/virt/libvirt/config.py']",3,8fb041247119e583ed6b693d534c364510536114,bug/1597644, self.seclabel = None if self.seclabel: dev.append(self.seclabel.format_dom()) ,,8,41
openstack%2Fnova~master~I9cb3870f2ce2d9e94f926f121f9a20bf95ded122,openstack/nova,master,I9cb3870f2ce2d9e94f926f121f9a20bf95ded122,WIP: Include direct-physical in compute manager events check,ABANDONED,2019-06-10 19:53:07.000000000,2019-09-16 15:08:19.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-10 19:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51b4801001c996cb67490b7a39f9075965d70a23', 'message': 'WIP: Include direct-physical in compute manager events check\n\nChange-Id: I9cb3870f2ce2d9e94f926f121f9a20bf95ded122\n'}, {'number': 2, 'created': '2019-06-10 21:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17ed44b87189bbbd1cb1e8711e98232d8f0809f7', 'message': 'WIP: Include direct-physical in compute manager events check\n\nChange-Id: I9cb3870f2ce2d9e94f926f121f9a20bf95ded122\n'}, {'number': 3, 'created': '2019-06-11 18:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d194802eab1ce88e9b6947435dfea7c060ab019', 'message': 'WIP: Include direct-physical in compute manager events check\n\nChange-Id: I9cb3870f2ce2d9e94f926f121f9a20bf95ded122\n'}, {'number': 4, 'created': '2019-06-11 18:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/698e6faef5841e45ad0a2bc478b6fee11d17e72c', 'message': 'WIP: Include direct-physical in compute manager events check\n\nChange-Id: I9cb3870f2ce2d9e94f926f121f9a20bf95ded122\n'}, {'number': 5, 'created': '2019-06-12 12:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e5d1e114e5fdb7b8f51c9d972e12261249ea373', 'message': 'WIP: Include direct-physical in compute manager events check\n\nChange-Id: I9cb3870f2ce2d9e94f926f121f9a20bf95ded122\n'}, {'number': 6, 'created': '2019-06-12 17:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/77cd54de409a4a5b0eacfe90eb74cab76916857f', 'message': 'WIP: Include direct-physical in compute manager events check\n\nChange-Id: I9cb3870f2ce2d9e94f926f121f9a20bf95ded122\n'}, {'number': 7, 'created': '2019-06-12 19:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b73700ae530ef0addb4e19fe9a50a18f36307bc8', 'message': 'WIP: Include direct-physical in compute manager events check\n\nChange-Id: I9cb3870f2ce2d9e94f926f121f9a20bf95ded122\n'}, {'number': 8, 'created': '2019-06-14 15:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e6b1b6ed36ccdb5c633289145cc4ab7a23b8ae7', 'message': 'WIP: Include direct-physical in compute manager events check\n\nChange-Id: I9cb3870f2ce2d9e94f926f121f9a20bf95ded122\n'}, {'number': 9, 'created': '2019-06-18 13:55:20.000000000', 'files': ['nova/network/model.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/21b6a3b3d437192f76378e9605dc701f36b9b1a7', 'message': 'WIP: Include direct-physical in compute manager events check\n\nChange-Id: I9cb3870f2ce2d9e94f926f121f9a20bf95ded122\n'}]",0,664431,21b6a3b3d437192f76378e9605dc701f36b9b1a7,74,11,9,8864,,,0,"WIP: Include direct-physical in compute manager events check

Change-Id: I9cb3870f2ce2d9e94f926f121f9a20bf95ded122
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/664431/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/network/model.py', 'nova/compute/manager.py']",2,51b4801001c996cb67490b7a39f9075965d70a23,bug/1813789, return vif.is_hybrid_plug_enabled() or vif.is_direct_physical(), return vif.is_hybrid_plug_enabled(),4,1
openstack%2Fnova~master~I1895a5208abd5289aa48503ffb63b54d88cc4be5,openstack/nova,master,I1895a5208abd5289aa48503ffb63b54d88cc4be5,DNM: Run tempest-full-py3 with q35 machine type,ABANDONED,2019-06-03 23:59:50.000000000,2019-09-16 15:07:23.000000000,,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-03 23:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad15416aa36b261cd0843f1655cc698d4c73006e', 'message': 'DNM: Run tempest-full-py3 with q35 machine type\n\nChange-Id: I1895a5208abd5289aa48503ffb63b54d88cc4be5\n'}, {'number': 2, 'created': '2019-06-04 03:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ff361066412c98f69276a8eb2cae3ee2a0abe83', 'message': 'DNM: Run tempest-full-py3 with q35 machine type\n\nRelated-bug: 1831538\nChange-Id: I1895a5208abd5289aa48503ffb63b54d88cc4be5\n'}, {'number': 3, 'created': '2019-06-04 11:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32f8657b73bb9629916497c7ec995164788306ac', 'message': 'DNM: Run tempest-full-py3 with q35 machine type\n\nRelated-bug: 1831538\nChange-Id: I1895a5208abd5289aa48503ffb63b54d88cc4be5\n'}, {'number': 4, 'created': '2019-06-04 16:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad63416fe677d6d8730b8cf831924b8d11d00bde', 'message': 'DNM: Run tempest-full-py3 with q35 machine type\n\nRelated-bug: 1831538\nChange-Id: I1895a5208abd5289aa48503ffb63b54d88cc4be5\n'}, {'number': 5, 'created': '2019-06-04 18:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5b7a696f7f49daced4118747757a2165ab585ca', 'message': 'DNM: Run tempest-full-py3 with q35 machine type\n\nRelated-bug: 1831538\nChange-Id: I1895a5208abd5289aa48503ffb63b54d88cc4be5\n'}, {'number': 6, 'created': '2019-06-04 18:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a206fe21dac3c429c1bbea053ff8fcb53ba7287', 'message': 'DNM: Run tempest-full-py3 with q35 machine type\n\nRelated-bug: 1831538\nChange-Id: I1895a5208abd5289aa48503ffb63b54d88cc4be5\n'}, {'number': 7, 'created': '2019-06-05 08:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d49f000523f7fc7cc7b2b97cc6a11645a7b56b40', 'message': 'DNM: Run tempest-full-py3 with q35 machine type\n\nRelated-bug: 1831538\nChange-Id: I1895a5208abd5289aa48503ffb63b54d88cc4be5\n'}, {'number': 8, 'created': '2019-06-05 09:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5b82697ba0ab2d3e9cc46c2dea6f2741b2b32a3', 'message': 'DNM: Run tempest-full-py3 with q35 machine type\n\nRelated-bug: 1831538\nChange-Id: I1895a5208abd5289aa48503ffb63b54d88cc4be5\n'}, {'number': 9, 'created': '2019-06-05 10:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e576e5f7ba94127fab28f6ec1d1d05acd3cc01ab', 'message': 'DNM: Run tempest-full-py3 with q35 machine type\n\nRelated-bug: 1831538\nChange-Id: I1895a5208abd5289aa48503ffb63b54d88cc4be5\n'}, {'number': 10, 'created': '2019-06-05 13:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0e43acd8ea9d057e440c17661a957cd22477c54', 'message': 'DNM: Run tempest-full-py3 with q35 machine type\n\nRelated-bug: 1831538\nChange-Id: I1895a5208abd5289aa48503ffb63b54d88cc4be5\n'}, {'number': 11, 'created': '2019-06-05 20:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/622b4337d53bd504e6ba9aed2f5fb95cda3cc640', 'message': 'DNM: Run tempest-full-py3 with q35 machine type\n\nRelated-bug: 1831538\nChange-Id: I1895a5208abd5289aa48503ffb63b54d88cc4be5\n'}, {'number': 12, 'created': '2019-06-06 15:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1bd8ec6444d45ff574773c4741b03f7b126b5f8e', 'message': 'DNM: Run tempest-full-py3 with q35 machine type\n\nRelated-bug: 1831538\nChange-Id: I1895a5208abd5289aa48503ffb63b54d88cc4be5\n'}, {'number': 13, 'created': '2019-06-07 15:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4acb00e3cb0af2c34a9de5e63792c75e9c4326c6', 'message': 'DNM: Run tempest-full-py3 with q35 machine type\n\nRelated-bug: 1831538\nChange-Id: I1895a5208abd5289aa48503ffb63b54d88cc4be5\n'}, {'number': 14, 'created': '2019-06-07 17:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1389c69dc571de09bd69af59fa504ad8cfec13c3', 'message': 'DNM: Run tempest-full-py3 with q35 machine type\n\nRelated-bug: 1831538\nChange-Id: I1895a5208abd5289aa48503ffb63b54d88cc4be5\n'}, {'number': 15, 'created': '2019-06-07 17:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7e62357964a80756644e7025ab05acf89790394', 'message': 'DNM: Run tempest-full-py3 with q35 machine type\n\nRelated-bug: 1831538\nChange-Id: I1895a5208abd5289aa48503ffb63b54d88cc4be5\n'}, {'number': 16, 'created': '2019-06-08 15:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29bab67985e80bdd68209ac6d07ac6034b13de02', 'message': 'DNM: Run tempest-full-py3 with q35 machine type\n\nRelated-bug: 1831538\nChange-Id: I1895a5208abd5289aa48503ffb63b54d88cc4be5\n'}, {'number': 17, 'created': '2019-06-08 15:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/079cb6090259e32f39d478b8a203e6defeaf266c', 'message': 'DNM: Run tempest-full-py3 with q35 machine type\n\nRelated-bug: 1831538\nChange-Id: I1895a5208abd5289aa48503ffb63b54d88cc4be5\n'}, {'number': 18, 'created': '2019-06-08 15:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f22e0e73a6ae61424ef93ee029515ad882ef320b', 'message': 'DNM: Run tempest-full-py3 with q35 machine type\n\nRelated-bug: 1831538\nChange-Id: I1895a5208abd5289aa48503ffb63b54d88cc4be5\n'}, {'number': 19, 'created': '2019-06-09 13:57:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/f96293b8aa1b1cbffbd633126eee1211fa430bdc', 'message': 'DNM: Run tempest-full-py3 with q35 machine type\n\nRelated-bug: 1831538\nChange-Id: I1895a5208abd5289aa48503ffb63b54d88cc4be5\n'}]",2,662887,f96293b8aa1b1cbffbd633126eee1211fa430bdc,126,9,19,8864,,,0,"DNM: Run tempest-full-py3 with q35 machine type

Related-bug: 1831538
Change-Id: I1895a5208abd5289aa48503ffb63b54d88cc4be5
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/662887/18 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ad15416aa36b261cd0843f1655cc698d4c73006e,bug/1831538, vars: devstack_local_conf: post-config: $NOVA_CONF: libvirt: hw_machine_type: x86_64=q35,,6,0
openstack%2Fproject-config~master~Ie060255e2b020250646c11fa4d91cf623db628fd,openstack/project-config,master,Ie060255e2b020250646c11fa4d91cf623db628fd,Fix gerritbot sorting,MERGED,2019-09-16 14:32:55.000000000,2019-09-16 15:01:38.000000000,2019-09-16 15:01:37.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 14:32:55.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/faeb56b3d9b03ab56b751e6adb8de4bfc6a11922', 'message': 'Fix gerritbot sorting\n\nThe recent rename at one missort, fix it.\n\nChange-Id: Ie060255e2b020250646c11fa4d91cf623db628fd\n'}]",0,682375,faeb56b3d9b03ab56b751e6adb8de4bfc6a11922,7,3,1,6547,,,0,"Fix gerritbot sorting

The recent rename at one missort, fix it.

Change-Id: Ie060255e2b020250646c11fa4d91cf623db628fd
",git fetch https://review.opendev.org/openstack/project-config refs/changes/75/682375/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,faeb56b3d9b03ab56b751e6adb8de4bfc6a11922,sorting, - opendev/ansible-role-puppet, - opendev/ansible-role-puppet,1,1
openstack%2Ftripleo-heat-templates~master~I20b76b24bdd02b615e7f3131570d949c55bc95a4,openstack/tripleo-heat-templates,master,I20b76b24bdd02b615e7f3131570d949c55bc95a4,Only run healthcheck for podman,ABANDONED,2019-09-12 18:53:29.000000000,2019-09-16 14:53:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-12 18:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d6479fc296c3e24e2e8f6b710a619f9e77ee1428', 'message': 'Only run healthcheck for podman\n\nChange-Id: I20b76b24bdd02b615e7f3131570d949c55bc95a4\n'}, {'number': 2, 'created': '2019-09-16 14:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/19acc82579b9b9d698f056d4a728c8cf1d7a7f80', 'message': 'Only run healthcheck for podman\n\nChange-Id: I20b76b24bdd02b615e7f3131570d949c55bc95a4\n'}]",0,681877,19acc82579b9b9d698f056d4a728c8cf1d7a7f80,5,2,2,3153,,,0,"Only run healthcheck for podman

Change-Id: I20b76b24bdd02b615e7f3131570d949c55bc95a4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/681877/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-conductor-container-puppet.yaml'],1,d6479fc296c3e24e2e8f6b710a619f9e77ee1428,bug/1842687, - container_cli == 'podman',,1,0
openstack%2Fcinder~master~I9ff0357984a1e95c1ea8c85f8c508402ef7135ac,openstack/cinder,master,I9ff0357984a1e95c1ea8c85f8c508402ef7135ac,Add Generic Volume Group Into Quota Management,MERGED,2017-03-01 08:52:36.000000000,2019-09-16 14:51:25.000000000,2017-06-07 09:06:15.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15054}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16708}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16941}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 26077}]","[{'number': 1, 'created': '2017-03-01 08:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/30d3b18e678c8b192861d266fa83d47932c7b289', 'message': ""Add Generic Volume Group Into Quota Management\n\nGeneric Volume Group currently has it own quota mechanism.\nBut we can't get or set any information about the Generic\nVolume Group quota at API layer.\n\nThis patch add Generic Volume Group into quota management.\n\nDOCImpact\nAPIImpact\n\nChange-Id: I9ff0357984a1e95c1ea8c85f8c508402ef7135ac\nblueprint: add-volumegroup-into-quota-management\n""}, {'number': 2, 'created': '2017-03-02 01:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c8ecce8985b5c820e8f361f8f17e0839b4b0a653', 'message': ""Add Generic Volume Group Into Quota Management\n\nGeneric Volume Group currently has it own quota mechanism.\nBut we can't get or set any information about the Generic\nVolume Group quota at API layer.\n\nThis patch add Generic Volume Group into quota management.\n\nDOCImpact\nAPIImpact\n\nChange-Id: I9ff0357984a1e95c1ea8c85f8c508402ef7135ac\nblueprint: add-volumegroup-into-quota-management\n""}, {'number': 3, 'created': '2017-04-18 03:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/85296f8d62a8f979af7f197eaba13a5b591c76d2', 'message': ""Add Generic Volume Group Into Quota Management\n\nGeneric Volume Group currently has it own quota mechanism.\nBut we can't get or set any information about the Generic\nVolume Group quota at API layer.\n\nThis patch add Generic Volume Group into quota management.\n\nDOCImpact\nAPIImpact\n\nChange-Id: I9ff0357984a1e95c1ea8c85f8c508402ef7135ac\nblueprint: add-volumegroup-into-quota-management\n""}, {'number': 4, 'created': '2017-05-02 07:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c3b59dd3017cc4731bb592101fcd074e57456479', 'message': ""Add Generic Volume Group Into Quota Management\n\nGeneric Volume Group currently has it own quota mechanism.\nBut we can't get or set any information about the Generic\nVolume Group quota at API layer.\n\nThis patch add Generic Volume Group into quota management.\n\nDOCImpact\nAPIImpact\n\nChange-Id: I9ff0357984a1e95c1ea8c85f8c508402ef7135ac\nblueprint: add-volumegroup-into-quota-management\n""}, {'number': 5, 'created': '2017-05-17 06:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/51f7c5f65533ae866bfb40dc95d07451ad2b0dbc', 'message': ""Add Generic Volume Group Into Quota Management\n\nGeneric Volume Group currently has it own quota mechanism.\nBut we can't get or set any information about the Generic\nVolume Group quota at API layer.\n\nThis patch add Generic Volume Group into quota management.\n\nDocImpact\nAPIImpact\n\nChange-Id: I9ff0357984a1e95c1ea8c85f8c508402ef7135ac\nImplements: blueprint add-volumegroup-into-quota-management\n""}, {'number': 6, 'created': '2017-05-26 01:43:23.000000000', 'files': ['cinder/api/contrib/quotas.py', 'cinder/tests/unit/api/contrib/test_quotas_classes.py', 'cinder/tests/unit/api/contrib/test_quotas.py', 'cinder/api/contrib/quota_classes.py', 'cinder/quota_utils.py', 'releasenotes/notes/generic-group-quota-manage-support-559629ad07a406f4.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/608de666fabf9ab65fa905a3b9a95f7cbad83013', 'message': ""Add Generic Volume Group Into Quota Management\n\nGeneric Volume Group currently has it own quota mechanism.\nBut we can't get or set any information about the Generic\nVolume Group quota at API layer.\n\nThis patch add Generic Volume Group into quota management.\n\nDocImpact\nAPIImpact\n\nChange-Id: I9ff0357984a1e95c1ea8c85f8c508402ef7135ac\nImplements: blueprint add-volumegroup-into-quota-management\n""}]",5,439461,608de666fabf9ab65fa905a3b9a95f7cbad83013,193,51,6,15054,,,0,"Add Generic Volume Group Into Quota Management

Generic Volume Group currently has it own quota mechanism.
But we can't get or set any information about the Generic
Volume Group quota at API layer.

This patch add Generic Volume Group into quota management.

DocImpact
APIImpact

Change-Id: I9ff0357984a1e95c1ea8c85f8c508402ef7135ac
Implements: blueprint add-volumegroup-into-quota-management
",git fetch https://review.opendev.org/openstack/cinder refs/changes/61/439461/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/contrib/quotas.py', 'cinder/tests/unit/api/contrib/test_quotas_classes.py', 'cinder/tests/unit/api/contrib/test_quotas.py', 'cinder/api/contrib/quota_classes.py', 'cinder/quota_utils.py']",5,30d3b18e678c8b192861d266fa83d47932c7b289,bp/add-volumegroup-into-quota-management," GROUP_QUOTAS = quota.GROUP_QUOTAS if res == 'groups': cur_quota_lim = GROUP_QUOTAS.get_by_project_or_default( context, cur_proj_id, res) else: cur_quota_lim = QUOTAS.get_by_project_or_default( context, cur_proj_id, res)"," cur_quota_lim = QUOTAS.get_by_project_or_default( context, cur_proj_id, res)",48,14
openstack%2Fwatcher~master~I8fa33a6559c9821e730f8e0babd8438ef45d7338,openstack/watcher,master,I8fa33a6559c9821e730f8e0babd8438ef45d7338,Add node_resource_consolidation doc,MERGED,2019-09-05 08:00:25.000000000,2019-09-16 14:47:51.000000000,2019-09-16 14:44:52.000000000,"[{'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-09-05 08:00:25.000000000', 'files': ['doc/source/strategies/node_resource_consolidation.rst'], 'web_link': 'https://opendev.org/openstack/watcher/commit/10d8a5fbc27584fbf7317becef352d0c0ad85834', 'message': 'Add node_resource_consolidation doc\n\nPartially Implements: blueprint node-resource-consolidation\nDepends-on: Ia979781b32202c1821aa1cb91d24253fe6d7bd2d\nDepends-on: I104c864d532c2092f5dc6f0c8f756ebeae12f09e\n\nChange-Id: I8fa33a6559c9821e730f8e0babd8438ef45d7338\n'}]",0,680309,10d8a5fbc27584fbf7317becef352d0c0ad85834,10,2,1,21692,,,0,"Add node_resource_consolidation doc

Partially Implements: blueprint node-resource-consolidation
Depends-on: Ia979781b32202c1821aa1cb91d24253fe6d7bd2d
Depends-on: I104c864d532c2092f5dc6f0c8f756ebeae12f09e

Change-Id: I8fa33a6559c9821e730f8e0babd8438ef45d7338
",git fetch https://review.opendev.org/openstack/watcher refs/changes/09/680309/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/strategies/node_resource_consolidation.rst'],1,10d8a5fbc27584fbf7317becef352d0c0ad85834,new_strategy_doc,"==================================== Node Resource Consolidation Strategy ==================================== Synopsis -------- **display name**: ``Node Resource Consolidation Strategy`` **goal**: ``Server Consolidation`` .. watcher-term:: watcher.decision_engine.strategy.strategies.node_resource_consolidation.NodeResourceConsolidation Requirements ------------ None. Metrics ******* None Cluster data model ****************** Default Watcher's Compute cluster data model: .. watcher-term:: watcher.decision_engine.model.collector.nova.NovaClusterDataModelCollector Actions ******* Default Watcher's actions: .. list-table:: :widths: 30 30 :header-rows: 1 * - action - description * - ``migration`` - .. watcher-term:: watcher.applier.actions.migration.Migrate * - ``change_nova_service_state`` - .. watcher-term:: watcher.applier.actions.change_nova_service_state.ChangeNovaServiceState Planner ******* Default Watcher's planner: .. watcher-term:: watcher.decision_engine.planner.weight.WeightPlanner Configuration ------------- Strategy parameters are: ==================== ====== ======================================= parameter type default Value description ==================== ====== ======================================= ``host_choice`` String The way to select the server migration destination node, The value auto means that Nova schedular selects the destination node, and specify means the strategy specifies the destination. ==================== ====== ======================================= Efficacy Indicator ------------------ None Algorithm --------- For more information on the Node Resource Consolidation Strategy please refer to: https://specs.openstack.org/openstack/watcher-specs/specs/train/approved/node-resource-consolidation.html How to use it ? --------------- .. code-block:: shell $ openstack optimize audittemplate create \ at1 server_consolidation \ --strategy node_resource_consolidation $ openstack optimize audit create \ -a at1 -p host_choice=auto External Links -------------- None. ",,95,0
openstack%2Fwatcher~master~I104c864d532c2092f5dc6f0c8f756ebeae12f09e,openstack/watcher,master,I104c864d532c2092f5dc6f0c8f756ebeae12f09e,node resource consolidation,MERGED,2019-08-30 09:18:39.000000000,2019-09-16 14:46:37.000000000,2019-09-16 14:44:49.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-08-30 09:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/a5a4609c02e9b255c5076a75b6cbb87a25000ed0', 'message': '[WiP] node resource consolidation\n\nPartially Implements: blueprint node-resource-consolidation\nDepends-on: I8cb41fd560dbac9a78d25bfdba51799533db83c2\n\nChange-Id: I104c864d532c2092f5dc6f0c8f756ebeae12f09e\n'}, {'number': 2, 'created': '2019-09-02 11:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/9cddaaa56e19825519adcf74b8628ff570c1582e', 'message': '[WiP] node resource consolidation\n\nPartially Implements: blueprint node-resource-consolidation\n\nChange-Id: I104c864d532c2092f5dc6f0c8f756ebeae12f09e\n'}, {'number': 3, 'created': '2019-09-03 11:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/5c0883946a2a859be592f0d5e52d3ad7d0262b64', 'message': '[WiP] node resource consolidation\n\nPartially Implements: blueprint node-resource-consolidation\n\nChange-Id: I104c864d532c2092f5dc6f0c8f756ebeae12f09e\n'}, {'number': 4, 'created': '2019-09-04 09:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/675cdbc92af9afc3b2dad4d16b6903aa07fe0c6e', 'message': 'node resource consolidation\n\nThis strategy is used to centralize VMs to as few nodes as possible\nby VM migration. User can set a input parameter to decide how to\nselect the destination node.\n\nImplements: blueprint node-resource-consolidation\n\nChange-Id: I104c864d532c2092f5dc6f0c8f756ebeae12f09e\n'}, {'number': 5, 'created': '2019-09-05 03:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/62261dbacc06260b24435a7f9eef05071aea0f8f', 'message': 'node resource consolidation\n\nThis strategy is used to centralize VMs to as few nodes as possible\nby VM migration. User can set a input parameter to decide how to\nselect the destination node.\n\nImplements: blueprint node-resource-consolidation\n\nChange-Id: I104c864d532c2092f5dc6f0c8f756ebeae12f09e\n'}, {'number': 6, 'created': '2019-09-05 06:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/566c27d5ab4cfe636bc8e171c3aca6cbd1a79c4b', 'message': 'node resource consolidation\n\nThis strategy is used to centralize VMs to as few nodes as possible\nby VM migration. User can set a input parameter to decide how to\nselect the destination node.\n\nImplements: blueprint node-resource-consolidation\n\nChange-Id: I104c864d532c2092f5dc6f0c8f756ebeae12f09e\n'}, {'number': 7, 'created': '2019-09-05 07:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/13881cc5744c6fe9173a1cd9d7387d04dd0c43a4', 'message': 'node resource consolidation\n\nThis strategy is used to centralize VMs to as few nodes as possible\nby VM migration. User can set a input parameter to decide how to\nselect the destination node.\n\nImplements: blueprint node-resource-consolidation\n\nChange-Id: I104c864d532c2092f5dc6f0c8f756ebeae12f09e\n'}, {'number': 8, 'created': '2019-09-06 02:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/771acd69b04895fce1b01d613c8e71984eacd9f5', 'message': 'node resource consolidation\n\nThis strategy is used to centralize VMs to as few nodes as possible\nby VM migration. User can set a input parameter to decide how to\nselect the destination node.\n\nImplements: blueprint node-resource-consolidation\n\nChange-Id: I104c864d532c2092f5dc6f0c8f756ebeae12f09e\n'}, {'number': 9, 'created': '2019-09-06 09:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/8936cea3f8d3c9bd797bc4b902b789595d287d2a', 'message': 'node resource consolidation\n\nThis strategy is used to centralize VMs to as few nodes as possible\nby VM migration. User can set a input parameter to decide how to\nselect the destination node.\n\nImplements: blueprint node-resource-consolidation\nCloses-Bug: #1843016\nChange-Id: I104c864d532c2092f5dc6f0c8f756ebeae12f09e\n'}, {'number': 10, 'created': '2019-09-06 09:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/0e7acbf2acf17b3765fedaa5a588d8efd9db0272', 'message': 'node resource consolidation\n\nThis strategy is used to centralize VMs to as few nodes as possible\nby VM migration. User can set a input parameter to decide how to\nselect the destination node.\n\nImplements: blueprint node-resource-consolidation\nCloses-Bug: #1843016\nChange-Id: I104c864d532c2092f5dc6f0c8f756ebeae12f09e\n'}, {'number': 11, 'created': '2019-09-07 01:04:02.000000000', 'files': ['watcher/tests/decision_engine/model/data/scenario_10.xml', 'watcher/tests/decision_engine/strategy/strategies/test_node_resource_consolidation.py', 'releasenotes/notes/node-resource-consolidation-73bc0c0abfeb0b03.yaml', 'watcher/tests/decision_engine/model/faker_cluster_state.py', 'watcher/decision_engine/strategy/strategies/node_resource_consolidation.py', 'watcher/decision_engine/strategy/strategies/__init__.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/watcher/commit/f1fe4b6c623be93ffc6f05ffe77ad69bdb626a0a', 'message': 'node resource consolidation\n\nThis strategy is used to centralize VMs to as few nodes as possible\nby VM migration. User can set a input parameter to decide how to\nselect the destination node.\n\nImplements: blueprint node-resource-consolidation\nCloses-Bug: #1843016\nChange-Id: I104c864d532c2092f5dc6f0c8f756ebeae12f09e\n'}]",9,679402,f1fe4b6c623be93ffc6f05ffe77ad69bdb626a0a,33,4,11,21692,,,0,"node resource consolidation

This strategy is used to centralize VMs to as few nodes as possible
by VM migration. User can set a input parameter to decide how to
select the destination node.

Implements: blueprint node-resource-consolidation
Closes-Bug: #1843016
Change-Id: I104c864d532c2092f5dc6f0c8f756ebeae12f09e
",git fetch https://review.opendev.org/openstack/watcher refs/changes/02/679402/8 && git format-patch -1 --stdout FETCH_HEAD,['watcher/decision_engine/strategy/strategies/node_resource_consolidation.py'],1,a5a4609c02e9b255c5076a75b6cbb87a25000ed0,bp/node-resource-consolidation,"# -*- encoding: utf-8 -*- # Copyright (c) 2019 ZTE Corporation # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # from oslo_log import log from watcher._i18n import _ from watcher.decision_engine.model import element from watcher.decision_engine.strategy.strategies import base from watcher import objects LOG = log.getLogger(__name__) class NodeResourceConsolidation(base.ServerConsolidationBaseStrategy): """"""consolidating resources on nodes using server migration *Description* This strategy checks the resource usages of compute nodes, if the used resources are less than total, it will try to migrate server to consolidate the use of resource. *Requirements* * You must have at least 2 compute nodes to run this strategy. * Hardware: compute nodes should use the same physical CPUs/RAMs *Limitations* * This is a proof of concept that is not meant to be used in production * It assume that live migrations are possible *Spec URL* http://specs.openstack.org/openstack/watcher-specs/specs/train/implemented/node-resource-consolidation.html """""" CHANGE_NOVA_SERVICE_STATE = ""change_nova_service_state"" REASON_FOR_DISABLE = 'Watcher node resource consolidation strategy' def __init__(self, config, osc=None): """"""node resource consolidation :param config: A mapping containing the configuration of this strategy :type config: :py:class:`~.Struct` instance :param osc: :py:class:`~.OpenStackClients` instance """""" super(NodeResourceConsolidation, self).__init__(config, osc) self.host_choice = 'auto' self.audit = None @classmethod def get_name(cls): return ""node_resource_consolidation"" @classmethod def get_display_name(cls): return _(""Node Resource Consolidation Strategy"") @classmethod def get_translatable_display_name(cls): return ""Node Resource Consolidation Strategy"" @classmethod def get_schema(cls): # Mandatory default setting for each element return { ""properties"": { ""host_choice"": { ""description"": ""the way to select the server migration "" ""destination node, The value auto "" ""means that Nova schedular selects "" ""the destination node, and specify "" ""means the strategy specifies the "" ""destination."", ""type"": ""string"", ""default"": 'auto' }, }, } def select_destination(self, server, source, destinations): dest_node = None sorted_nodes = sorted( destinations, key=lambda x: self.compute_model.get_node_free_resources( x)['vcpu'], reverse=True) for dest in sorted_nodes: free_res = self.compute_model.get_node_free_resources(dest) # just vcpu and memory, do not consider disk if free_res['vcpu'] > server.vcpus and ( free_res['memory'] > server.memory): # move server from source to destination node if self.compute_model.migrate_instance(server, source, dest): dest_node = dest break return dest_node def add_migrate_actions(self, sources, destinations): parameters = {'migration_type': 'live'} for node in sources: parameters['source_node'] = node.hostname servers = self.compute_model.get_node_instances(node) for server in servers: parameters['resource_name'] = server.name # by default Nova scheduler selects destination host parameters['destination_node'] = None if self.host_choise != 'auto': # specify destination host dest = self.select_destination(server, node, destinations) if dest: parameters['destination_node'] = dest.hostname self.solution.add_action( action_type=self.MIGRATION, resource_id=server.uuid, input_parameters=parameters) def add_change_node_state_actions(self, nodes, status): changed_nodes = [] for node in nodes: if node.status != status: parameters = {'state': status, 'resource_name': node.hostname} if status == element.ServiceState.DISABLED.value: parameters['disabled_reason'] = self.REASON_FOR_DISABLE self.solution.add_action( action_type=self.CHANGE_NOVA_SERVICE_STATE, resource_id=node.uuid, input_parameters=parameters) changed_nodes.append(node) return changed_nodes def get_nodes_migrate_failed(self): # check if migration action ever failed # just for continuous audit nodes_failed = [] if self.audit.audit_type == objects.audit.AuditType.ONESHOT.value: return nodes_failed filters = {'audit_uuid': self.audit.uuid} actions = objects.action.Action.list( self.context, filters=filters) for action in actions: if action.state == objects.action.State.FAILED and ( action.action_type == self.MIGRATION): server_uuid = action.input_parameters.get('resource_id') node = self.compute_model.get_node_by_instance_uuid( server_uuid) if node not in nodes_failed: nodes_failed.append(node) return nodes_failed def group_nodes(self, nodes): free_nodes = [] source_nodes = [] dest_nodes = [] nodes_failed = self.get_nodes_migrate_failed() LOG.info(""nodes: %s migration failed"", nodes_failed) for node in nodes: if node in dest_nodes: break # If ever migration failed, do not migrate again if node in nodes_failed: # maybe can as the destination node if node.status == element.ServiceState.ENABLED.value: dest_nodes.append(node) continue used_resource = self.compute_model.get_node_used_resources(node) if used_resource['vcpu'] > 0: servers = self.compute_model.get_node_instances(node) for dest in reversed(nodes): # skip if compute node is disabled if dest.status == element.ServiceState.DISABLED.value: LOG.info(""node %s is down"", dest.hostname) continue if dest in dest_nodes: continue if node == dest: break dest_flag = False free_res = self.compute_model.get_node_free_resources( dest) for server in servers: # just vcpu and memory, do not consider disk if free_res['vcpu'] > server.vcpus and ( free_res['memory'] > server.memory): free_res['vcpu'] -= server.vcpus free_res['memory'] -= server.memory dest_flag = True servers.remove(server) if dest_flag: dest_nodes.append(dest) if node not in source_nodes: source_nodes.append(node) if not servers: break else: free_nodes.append(node) return free_nodes, source_nodes, dest_nodes def pre_execute(self): self._pre_execute() self.host_choice = self.input_parameters.host_choice def do_execute(self, audit=None): """"""Strategy execution phase Executing strategy and creating solution. """""" self.audit = audit sorted_nodes = sorted( self.compute_model.get_all_compute_nodes().values(), key=lambda x: self.compute_model.get_node_used_resources( x)['vcpu']) free_nodes, source_nodes, dest_nodes = self.group_nodes(sorted_nodes) LOG.info(""free nodes: %s"", free_nodes) LOG.info(""source nodes: %s"", source_nodes) LOG.info(""destination nodes: %s"", dest_nodes) if not source_nodes: LOG.info(""No compute node needs to be consolidated"") return nodes_disabled = [] if self.host_choice == 'auto': # disable compute node to avoid to be select by Nova scheduler nodes_disabled = self.add_change_node_state_actions( free_nodes+source_nodes, element.ServiceState.DISABLED.value) self.add_migrate_actions(source_nodes, dest_nodes) if nodes_disabled: # restore disabled compute node after migration self.add_change_node_state_actions( nodes_disabled, element.ServiceState.ENABLED.value) def post_execute(self): """"""Post-execution phase """""" self.solution.set_efficacy_indicators( instance_migrations_count=0, instances_count=0, ) ",,260,0
openstack%2Fwatcher-tempest-plugin~master~Ie9963aeef564f63a5cd88e94e94f2652660cccbd,openstack/watcher-tempest-plugin,master,Ie9963aeef564f63a5cd88e94e94f2652660cccbd,Add Node Resource Consolidation tempest,MERGED,2019-09-05 03:40:33.000000000,2019-09-16 14:44:52.000000000,2019-09-16 14:44:52.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-09-05 03:40:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/3910efe07d3d8784a68ab60b7c354c5782e2642c', 'message': 'Add Node Resource Consolidation tempest\n\nPartially Implements: blueprint node-resource-consolidation\nDepends-on: Ia979781b32202c1821aa1cb91d24253fe6d7bd2d\nDepends-on: I104c864d532c2092f5dc6f0c8f756ebeae12f09e\n\nChange-Id: Ie9963aeef564f63a5cd88e94e94f2652660cccbd\n'}, {'number': 2, 'created': '2019-09-05 07:06:39.000000000', 'files': ['watcher_tempest_plugin/tests/scenario/test_execute_strategies.py'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/6560602ff5296de0c3de1c60d68fe37137192d38', 'message': 'Add Node Resource Consolidation tempest\n\nPartially Implements: blueprint node-resource-consolidation\nDepends-on: Ia979781b32202c1821aa1cb91d24253fe6d7bd2d\nDepends-on: I104c864d532c2092f5dc6f0c8f756ebeae12f09e\n\nChange-Id: Ie9963aeef564f63a5cd88e94e94f2652660cccbd\n'}]",0,680288,6560602ff5296de0c3de1c60d68fe37137192d38,20,4,2,21692,,,0,"Add Node Resource Consolidation tempest

Partially Implements: blueprint node-resource-consolidation
Depends-on: Ia979781b32202c1821aa1cb91d24253fe6d7bd2d
Depends-on: I104c864d532c2092f5dc6f0c8f756ebeae12f09e

Change-Id: Ie9963aeef564f63a5cd88e94e94f2652660cccbd
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/88/680288/2 && git format-patch -1 --stdout FETCH_HEAD,['watcher_tempest_plugin/tests/scenario/test_execute_strategies.py'],1,3910efe07d3d8784a68ab60b7c354c5782e2642c,add_new_strategy_test," def test_execute_node_resource_consolidation_strategy_with_auto(self): self.addCleanup(self.rollback_compute_nodes_status) instances = self._create_one_instance_per_host_with_statistic() goal_name = ""server_consolidation"" strategy_name = ""node_resource_consolidation"" audit_kwargs = { ""parameters"": { ""host_choice"": 'auto' } } self.execute_strategy(goal_name, strategy_name, **audit_kwargs) def test_execute_node_resource_consolidation_strategy_with_specify(self): self.addCleanup(self.rollback_compute_nodes_status) instances = self._create_one_instance_per_host_with_statistic() goal_name = ""server_consolidation"" strategy_name = ""node_resource_consolidation"" audit_kwargs = { ""parameters"": { ""host_choice"": 'specify' } } self.execute_strategy(goal_name, strategy_name, **audit_kwargs)",,28,0
openstack%2Fcinder~stable%2Fstein~Id44544e0e59834fe30fef83092763d7fc64d47cd,openstack/cinder,stable/stein,Id44544e0e59834fe30fef83092763d7fc64d47cd,Fix openstack cinder bug,ABANDONED,2019-09-16 12:42:30.000000000,2019-09-16 14:27:40.000000000,,"[{'_account_id': 4523}, {'_account_id': 9732}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-09-16 12:42:30.000000000', 'files': ['cinder/brick/local_dev/lvm.py', 'cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/8545d0df50d6da4714e37d2aeb581ee97f93d517', 'message': ""Fix openstack cinder bug\n\nPatch to avoid the out of space issue when migrating encrypted\nvolume between two LVM backends\n\nMigration of encrypted volumes or retyping to encrypted volumes causes\nan outofspace issue. This process has dd copy command which assumes\nthat the size of the source volume to copy is SIZE OF THE VOLUME and\ncreates an equivalent destination volume. This works fine for normal\ncases but when encryption occurs, a 2 MB encryption header is added to\nthe Source volume making it's size to be SIZE OF THE VOLUME+ 2MB.\nAs a result, dd command is interrupted with a NO SPACE LEFT ON DEVICE\nerror. This patch creates a destination volume with a size\nof SIZE OF THE VOLUME+ 2MB ONLY when migration or retyping of encrypted\nvolumes occurs thereby completely fixing the issue.\n\nChange-Id: Id44544e0e59834fe30fef83092763d7fc64d47cd\nCloses-Bug: #1720885\nCloses-Bug: #1824321\n""}]",1,682355,8545d0df50d6da4714e37d2aeb581ee97f93d517,11,9,1,30974,,,0,"Fix openstack cinder bug

Patch to avoid the out of space issue when migrating encrypted
volume between two LVM backends

Migration of encrypted volumes or retyping to encrypted volumes causes
an outofspace issue. This process has dd copy command which assumes
that the size of the source volume to copy is SIZE OF THE VOLUME and
creates an equivalent destination volume. This works fine for normal
cases but when encryption occurs, a 2 MB encryption header is added to
the Source volume making it's size to be SIZE OF THE VOLUME+ 2MB.
As a result, dd command is interrupted with a NO SPACE LEFT ON DEVICE
error. This patch creates a destination volume with a size
of SIZE OF THE VOLUME+ 2MB ONLY when migration or retyping of encrypted
volumes occurs thereby completely fixing the issue.

Change-Id: Id44544e0e59834fe30fef83092763d7fc64d47cd
Closes-Bug: #1720885
Closes-Bug: #1824321
",git fetch https://review.opendev.org/openstack/cinder refs/changes/55/682355/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/brick/local_dev/lvm.py', 'cinder/volume/manager.py']",2,8545d0df50d6da4714e37d2aeb581ee97f93d517,bug/1720885,"import os #Fix Bug 1720885 os.environ[""isEncrypted""]=""1""",,12,1
openstack%2Fproject-config~master~Ib16e10373cc56cdfd275a8c54bfbb80faed342dd,openstack/project-config,master,Ib16e10373cc56cdfd275a8c54bfbb80faed342dd,Rename x/ansible-role-cloud-launcher -> opendev/,MERGED,2019-05-31 17:58:09.000000000,2019-09-16 14:08:48.000000000,2019-09-16 14:08:48.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 17:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1312995394be76af40b208653ef4d7b46ff65638', 'message': 'Rename x/ansible-role-cloud-launcher -> opendev/\n\nThe rename change https://review.opendev.org/657277/ after the big\nOpenDev rename missed this repo, update it.\n\nChange-Id: Ib16e10373cc56cdfd275a8c54bfbb80faed342dd\n'}, {'number': 2, 'created': '2019-09-11 14:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2149180152752b28c5a7bf06c54d94b633eb61e7', 'message': 'Rename x/ansible-role-cloud-launcher -> opendev/\n\nThe rename change https://review.opendev.org/657277/ after the big\nOpenDev rename missed this repo, update it.\n\nChange-Id: Ib16e10373cc56cdfd275a8c54bfbb80faed342dd\n'}, {'number': 3, 'created': '2019-09-13 22:23:59.000000000', 'files': ['gerrit/acls/opendev/ansible-role-cloud-launcher.config', 'gerritbot/channels.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/73e2284ba2c712f4a4590408a050230e96ef0b3d', 'message': 'Rename x/ansible-role-cloud-launcher -> opendev/\n\nThe rename change https://review.opendev.org/657277/ after the big\nOpenDev rename missed this repo, update it.\n\nChange-Id: Ib16e10373cc56cdfd275a8c54bfbb80faed342dd\n'}]",6,662530,73e2284ba2c712f4a4590408a050230e96ef0b3d,10,3,3,6547,,,0,"Rename x/ansible-role-cloud-launcher -> opendev/

The rename change https://review.opendev.org/657277/ after the big
OpenDev rename missed this repo, update it.

Change-Id: Ib16e10373cc56cdfd275a8c54bfbb80faed342dd
",git fetch https://review.opendev.org/openstack/project-config refs/changes/30/662530/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/opendev/ansible-role-cloud-launcher.config', 'gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml']",5,1312995394be76af40b208653ef4d7b46ff65638,project-rename, - opendev/ansible-role-cloud-launcher, - x/ansible-role-cloud-launcher,12,12
openstack%2Fproject-config~master~Ifbb4187f4b092ae03a2e62cad72dbe483dda6316,openstack/project-config,master,Ifbb4187f4b092ae03a2e62cad72dbe483dda6316,Rename x/kayobe* to openstack/,MERGED,2019-07-05 08:51:07.000000000,2019-09-16 14:08:31.000000000,2019-09-16 14:08:31.000000000,"[{'_account_id': 308}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-05 08:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9b4d27524fd0c8d3cd07331989792622f7f2402f', 'message': 'Add kayobe as a kolla deliverable\n\nAs agreed in openstack-discuss [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007250.html\n\nNeeded-By: I522211d34cfed2f11c39490313e3b447520f1f6d\nChange-Id: Ifbb4187f4b092ae03a2e62cad72dbe483dda6316\n'}, {'number': 2, 'created': '2019-07-05 09:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/706a071619fa955854c0188acca2f9b965ffa968', 'message': 'Rename x/kayobe* to openstack/\n\nAs agreed in openstack-discuss [1], kayobe is to become a deliverable of\nthe kolla project.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007250.html\n\nNeeded-By: I522211d34cfed2f11c39490313e3b447520f1f6d\nChange-Id: Ifbb4187f4b092ae03a2e62cad72dbe483dda6316\n'}, {'number': 3, 'created': '2019-08-02 09:29:49.000000000', 'files': ['gerritbot/channels.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml', 'gerrit/acls/openstack/kayobe.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d0e7fa8da9401c9883f500dc969008cad71a7491', 'message': 'Rename x/kayobe* to openstack/\n\nAs agreed in openstack-discuss [1], kayobe is to become a deliverable of\nthe kolla project.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007250.html\n\nNeeded-By: I522211d34cfed2f11c39490313e3b447520f1f6d\nChange-Id: Ifbb4187f4b092ae03a2e62cad72dbe483dda6316\n'}]",4,669298,d0e7fa8da9401c9883f500dc969008cad71a7491,15,6,3,14826,,,0,"Rename x/kayobe* to openstack/

As agreed in openstack-discuss [1], kayobe is to become a deliverable of
the kolla project.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007250.html

Needed-By: I522211d34cfed2f11c39490313e3b447520f1f6d
Change-Id: Ifbb4187f4b092ae03a2e62cad72dbe483dda6316
",git fetch https://review.opendev.org/openstack/project-config refs/changes/98/669298/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/acls/openstack/kayobe.config']",5,9b4d27524fd0c8d3cd07331989792622f7f2402f,project-rename,,,30,36
openstack%2Fneutron~master~Ia78e0e02de4a42a056e3ff654d8b6976a4e52616,openstack/neutron,master,Ia78e0e02de4a42a056e3ff654d8b6976a4e52616,Implement extension: extraroute-atomic,MERGED,2019-07-15 14:28:18.000000000,2019-09-16 13:58:34.000000000,2019-09-16 13:56:25.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-15 14:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c2fe6e4fbed40aaaf36d52cf34f53003c6353d2', 'message': ""WIP Implement extension: extraroute-atomic\n\nI tried to avoid changing the pre-existing extraroute implementation to\nalso avoid any breakage of legacy behavior. Alternatively we can\nrefactor the extraroute code to better fit both APIs:\n  * the old: updates to the 'routes' attribute and\n  * the new: actions 'add_extraroutes' / 'remove_extraroutes'.\n\nTODO tests\n\nChange-Id: Ia78e0e02de4a42a056e3ff654d8b6976a4e52616\nPartial-Bug: #1826396 (rfe)\nRelated-Change: https://review.opendev.org/655680 (spec)\n""}, {'number': 2, 'created': '2019-07-22 11:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f5cd0d1f2e083f915e0c06832b3c47d98d172d0c', 'message': ""WIP Implement extension: extraroute-atomic\n\nI tried to avoid changing the pre-existing extraroute implementation to\nalso avoid any breakage of legacy behavior. Alternatively we can\nrefactor the extraroute code to better fit both APIs:\n  * the old: updates to the 'routes' attribute and\n  * the new: actions 'add_extraroutes' / 'remove_extraroutes'.\n\nTODO tests\n\nChange-Id: Ia78e0e02de4a42a056e3ff654d8b6976a4e52616\nPartial-Bug: #1826396 (rfe)\nRelated-Change: https://review.opendev.org/655680 (spec)\n""}, {'number': 3, 'created': '2019-07-25 13:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/77c1bea94cf9b77f76d7b1cff474be1a60f1105d', 'message': ""Implement extension: extraroute-atomic\n\nI tried to avoid changing the pre-existing extraroute implementation to\nalso avoid any breakage of legacy behavior. Alternatively we can\nrefactor the extraroute code to better fit both APIs:\n  * the old: updates to the 'routes' attribute and\n  * the new: actions 'add_extraroutes' / 'remove_extraroutes'.\n\nChange-Id: Ia78e0e02de4a42a056e3ff654d8b6976a4e52616\nPartial-Bug: #1826396 (rfe)\nRelated-Change: https://review.opendev.org/655680 (spec)\n""}, {'number': 4, 'created': '2019-08-09 12:47:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ec0721b2ed2a0ca1f5fc8e5bcaa7a7b747b4e7b', 'message': ""Implement extension: extraroute-atomic\n\nI avoided changing the pre-existing extraroute implementation to\nalso avoid any breakage of legacy behavior. Alternatively we can\nrefactor the extraroute code to better fit both APIs:\n  * the old: updates to the 'routes' attribute and\n  * the new: actions 'add_extraroutes' / 'remove_extraroutes'.\n\nChange-Id: Ia78e0e02de4a42a056e3ff654d8b6976a4e52616\nPartial-Bug: #1826396 (rfe)\nRelated-Change: https://review.opendev.org/655680 (spec)\n""}, {'number': 5, 'created': '2019-08-14 08:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5b81c2181248b0ec8f0d80a7a3d738194897e173', 'message': ""Implement extension: extraroute-atomic\n\nI avoided changing the pre-existing extraroute implementation to\nalso avoid any breakage of legacy behavior. Alternatively we can\nrefactor the extraroute code to better fit both APIs:\n  * the old: updates to the 'routes' attribute and\n  * the new: actions 'add_extraroutes' / 'remove_extraroutes'.\n\nChange-Id: Ia78e0e02de4a42a056e3ff654d8b6976a4e52616\nCloses-Bug: #1826396 (rfe)\nRelated-Change: https://review.opendev.org/655680 (spec)\n""}, {'number': 6, 'created': '2019-08-26 08:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/43da394cba66f431f78b92be4d8095f7f48a6600', 'message': ""Implement extension: extraroute-atomic\n\nI avoided changing the pre-existing extraroute implementation to\nalso avoid any breakage of legacy behavior. Alternatively we can\nrefactor the extraroute code to better fit both APIs:\n  * the old: updates to the 'routes' attribute and\n  * the new: actions 'add_extraroutes' / 'remove_extraroutes'.\n\nChange-Id: Ia78e0e02de4a42a056e3ff654d8b6976a4e52616\nCloses-Bug: #1826396 (rfe)\nRelated-Change: https://review.opendev.org/655680 (spec)\n""}, {'number': 7, 'created': '2019-08-29 15:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e07f7b05e03b67a2b48780b6c42e01a8b394848b', 'message': ""Implement extension: extraroute-atomic\n\nI avoided changing the pre-existing extraroute implementation to\nalso avoid any breakage of legacy behavior. Alternatively we can\nrefactor the extraroute code to better fit both APIs:\n  * the old: updates to the 'routes' attribute and\n  * the new: actions 'add_extraroutes' / 'remove_extraroutes'.\n\nChange-Id: Ia78e0e02de4a42a056e3ff654d8b6976a4e52616\nCloses-Bug: #1826396 (rfe)\nDepends-On: https://review.opendev.org/679259\nRelated-Change: https://review.opendev.org/655680 (spec)\n""}, {'number': 8, 'created': '2019-09-11 12:00:27.000000000', 'files': ['neutron/db/extraroute_db.py', 'neutron/tests/unit/db/test_extraroute_db.py', 'neutron/services/l3_router/l3_router_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab07b91b1adf9c7fe3d94a67aeb689788dfee09a', 'message': ""Implement extension: extraroute-atomic\n\nI avoided changing the pre-existing extraroute implementation to\nalso avoid any breakage of legacy behavior. Alternatively we can\nrefactor the extraroute code to better fit both APIs:\n  * the old: updates to the 'routes' attribute and\n  * the new: actions 'add_extraroutes' / 'remove_extraroutes'.\n\nChange-Id: Ia78e0e02de4a42a056e3ff654d8b6976a4e52616\nCloses-Bug: #1826396 (rfe)\nDepends-On: https://review.opendev.org/679259\nRelated-Change: https://review.opendev.org/655680 (spec)\n""}]",27,670851,ab07b91b1adf9c7fe3d94a67aeb689788dfee09a,108,12,8,15554,,,0,"Implement extension: extraroute-atomic

I avoided changing the pre-existing extraroute implementation to
also avoid any breakage of legacy behavior. Alternatively we can
refactor the extraroute code to better fit both APIs:
  * the old: updates to the 'routes' attribute and
  * the new: actions 'add_extraroutes' / 'remove_extraroutes'.

Change-Id: Ia78e0e02de4a42a056e3ff654d8b6976a4e52616
Closes-Bug: #1826396 (rfe)
Depends-On: https://review.opendev.org/679259
Related-Change: https://review.opendev.org/655680 (spec)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/670851/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/extraroute_db.py', 'neutron/services/l3_router/l3_router_plugin.py']",2,7c2fe6e4fbed40aaaf36d52cf34f53003c6353d2,extraroute,"from neutron_lib.api.definitions import extraroute_atomic extraroute_atomic.ALIAS,",,66,0
openstack%2Fironic~master~Icaa944b9359b1b98cbbb5299288d4ba7b0d8e8f9,openstack/ironic,master,Icaa944b9359b1b98cbbb5299288d4ba7b0d8e8f9,Follow up to deployment & cleaning polling flag,ABANDONED,2019-09-13 08:36:01.000000000,2019-09-16 13:50:16.000000000,,"[{'_account_id': 10118}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-13 08:36:01.000000000', 'files': ['ironic/drivers/modules/deploy_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/19ebaba61a246ae6aa7af7db7851e23bd429db6d', 'message': 'Follow up to deployment & cleaning polling flag\n\nFollow up to https://review.opendev.org/681272.\n\nChange-Id: Icaa944b9359b1b98cbbb5299288d4ba7b0d8e8f9\nTrivialFix\n'}]",0,681994,19ebaba61a246ae6aa7af7db7851e23bd429db6d,5,3,1,14826,,,0,"Follow up to deployment & cleaning polling flag

Follow up to https://review.opendev.org/681272.

Change-Id: Icaa944b9359b1b98cbbb5299288d4ba7b0d8e8f9
TrivialFix
",git fetch https://review.opendev.org/openstack/ironic refs/changes/94/681994/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/deploy_utils.py'],1,19ebaba61a246ae6aa7af7db7851e23bd429db6d,," deployment_polling or cleaning_polling. If it is None, the"," deployment_polling to cleaning_polling. If it is None, the",1,1
openstack%2Fsahara-image-elements~stable%2Fstein~Ibfa5c2550898a0d36b51057f5cd2b85f434b57f5,openstack/sahara-image-elements,stable/stein,Ibfa5c2550898a0d36b51057f5cd2b85f434b57f5,Allow qemu-utils to be used to build image,MERGED,2019-09-11 19:03:49.000000000,2019-09-16 13:43:43.000000000,2019-09-16 13:43:43.000000000,"[{'_account_id': 8932}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-11 19:03:49.000000000', 'files': ['diskimage-create/diskimage-create.sh'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/74d96bcc67de37e828f77ca690e1229ba0082662', 'message': 'Allow qemu-utils to be used to build image\n\nThis patch allows build sahara images in ubuntu/debian\ndistribution with qemu-utils package.\n\nChange-Id: Ibfa5c2550898a0d36b51057f5cd2b85f434b57f5\nStory: 2006505\nTask: 36483\n(cherry picked from commit 24a0ea0195febff2554d2275b9a30972f8071dee)\n'}]",0,681576,74d96bcc67de37e828f77ca690e1229ba0082662,6,2,1,30661,,,0,"Allow qemu-utils to be used to build image

This patch allows build sahara images in ubuntu/debian
distribution with qemu-utils package.

Change-Id: Ibfa5c2550898a0d36b51057f5cd2b85f434b57f5
Story: 2006505
Task: 36483
(cherry picked from commit 24a0ea0195febff2554d2275b9a30972f8071dee)
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/76/681576/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage-create/diskimage-create.sh'],1,74d96bcc67de37e828f77ca690e1229ba0082662,story/2006505-36483-stable/stein," if [ ""$platform"" = 'ubuntu' -o ""$platform"" = 'debian' ]; then ""ubuntu"" | ""debian"") package_list=""qemu-utils kpartx git"" echo ""Package $p is not installed on the system."" ""ubuntu"" | ""debian"")"," if [ ""$platform"" = 'ubuntu' ]; then ""ubuntu"") package_list=""qemu kpartx git"" ""ubuntu"")",5,4
openstack%2Fcharm-vault~master~Ie173a51ddb7f7eb40471b90970cc79ad9ed60045,openstack/charm-vault,master,Ie173a51ddb7f7eb40471b90970cc79ad9ed60045,Use relation to determine URL rather than binding,ABANDONED,2019-09-13 21:32:05.000000000,2019-09-16 13:42:55.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 29191}]","[{'number': 1, 'created': '2019-09-13 21:32:05.000000000', 'files': ['unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault.py', 'src/reactive/vault_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/71e9a6f8e4d680a9144985d488942e499bf36eb4', 'message': ""Use relation to determine URL rather than binding\n\nUsing only the binding to determine the URL means that the binding must\nbe manually specified at deploy time, breaking the default use-case, and\nit also fails in environments where it's valid for the ingress address\nof the relation to be on a different subnet from the binding it should\nbe associated with. So this instead builds the URL from the relation\nnetwork info and leaves the bindings as the optional way to specify\nspecific / additional network segments to listen on (over which\nrelations could be made).\n\nDepends on https://github.com/openstack-charmers/charm-interface-vault-kv/pull/6\n\nChange-Id: Ie173a51ddb7f7eb40471b90970cc79ad9ed60045\nPartial-Bug: #1843809\nRelated-Bug: #1826892\n""}]",0,682164,71e9a6f8e4d680a9144985d488942e499bf36eb4,5,3,1,29191,,,0,"Use relation to determine URL rather than binding

Using only the binding to determine the URL means that the binding must
be manually specified at deploy time, breaking the default use-case, and
it also fails in environments where it's valid for the ingress address
of the relation to be on a different subnet from the binding it should
be associated with. So this instead builds the URL from the relation
network info and leaves the bindings as the optional way to specify
specific / additional network segments to listen on (over which
relations could be made).

Depends on https://github.com/openstack-charmers/charm-interface-vault-kv/pull/6

Change-Id: Ie173a51ddb7f7eb40471b90970cc79ad9ed60045
Partial-Bug: #1843809
Related-Bug: #1826892
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/64/682164/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_reactive_vault_handlers.py', 'src/lib/charm/vault.py', 'src/reactive/vault_handlers.py']",3,71e9a6f8e4d680a9144985d488942e499bf36eb4,bug/1843809," network_get, hostname = config('hostname') if hostname: # hostname configured, so all relations get the same URL secrets.publish_url(vault.get_api_url(address=hostname)) else: # no hostname, so URL depends on the relation's network # but we have to honor any VIP set for the network for request in secrets.requests(): relation = request['unit'].relation relation_id = relation.relation_id network_info = network_get(secrets.endpoint_name, relation_id) for egress_subnet in network_info['egress-subnets']: address = vault.get_vip(cidr=egress_subnet) if address: break else: # --primary-address is deprecated, so just assume first # ingress address is primary address = network_info['ingress-addresses'][0] vault_url = vault.get_api_url(address=address) secrets.publish_url(vault_url=vault_url, relation=relation)"," vault_url_external = None if is_flag_set('ha.available'): hostname = config('hostname') if hostname: vault_url = vault.get_api_url(address=hostname) else: vip = vault.get_vip() vault_url = vault.get_api_url(address=vip) ext_vip = vault.get_vip(binding='external') if ext_vip and ext_vip != vip: vault_url_external = vault.get_api_url(address=ext_vip, binding='external') else: vault_url = vault.get_api_url() vault_url_external = vault.get_api_url(binding='external') if vault_url_external == vault_url: vault_url_external = None secrets.publish_url(vault_url=vault_url, remote_binding='access') if vault_url_external: secrets.publish_url(vault_url=vault_url_external, remote_binding='external')",125,105
openstack%2Fnetworking-ovn~stable%2Fstein~I446697c9073a43cdc609bba47357a3bd960ef56d,openstack/networking-ovn,stable/stein,I446697c9073a43cdc609bba47357a3bd960ef56d,Fix OVS build issue on Fedora,MERGED,2019-09-06 05:57:54.000000000,2019-09-16 13:16:39.000000000,2019-09-16 13:15:21.000000000,"[{'_account_id': 1131}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-06 05:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c49c67e70bb0db81dfeef46b72037d68db532a0a', 'message': ""Fix OVS build issue on Fedora\n\nNo longer build the OVS kernel modules when installing from\nsource. This was added when OVS didn't support conntrack,\nwhich hasn't been the case for a while.\n\nChange-Id: I446697c9073a43cdc609bba47357a3bd960ef56d\n(cherry picked from commit 4d51416cff1ef8784b57c80e116927ffc90bb300)\n""}, {'number': 2, 'created': '2019-09-16 06:59:16.000000000', 'files': ['devstack/lib/networking-ovn'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1db61810937b622f8c786ca6e46cad54430df061', 'message': ""Fix OVS build issue on Fedora\n\nNo longer build the OVS kernel modules when installing from\nsource. This was added when OVS didn't support conntrack,\nwhich hasn't been the case for a while.\n\nChange-Id: I446697c9073a43cdc609bba47357a3bd960ef56d\n(cherry picked from commit 4d51416cff1ef8784b57c80e116927ffc90bb300)\n""}]",0,680578,1db61810937b622f8c786ca6e46cad54430df061,18,5,2,24791,,,0,"Fix OVS build issue on Fedora

No longer build the OVS kernel modules when installing from
source. This was added when OVS didn't support conntrack,
which hasn't been the case for a while.

Change-Id: I446697c9073a43cdc609bba47357a3bd960ef56d
(cherry picked from commit 4d51416cff1ef8784b57c80e116927ffc90bb300)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/78/680578/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/networking-ovn'],1,c49c67e70bb0db81dfeef46b72037d68db532a0a,no-compile-ovs-stable/stein,OVN_BUILD_MODULES=$(trueorfalse False OVN_BUILD_MODULES),OVN_BUILD_MODULES=$(trueorfalse True OVN_BUILD_MODULES),1,1
openstack%2Fkolla~master~I9cf62c8e03a02574d85e5349df1d23a51d4c99be,openstack/kolla,master,I9cf62c8e03a02574d85e5349df1d23a51d4c99be,Drop Percona XtraBackup in favour of MariaDB Backup,MERGED,2019-09-12 09:49:04.000000000,2019-09-16 13:16:03.000000000,2019-09-16 13:14:01.000000000,"[{'_account_id': 167}, {'_account_id': 7488}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 23717}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-12 09:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2eb9eb9a454a62bc326df642e029f10957fe5e5e', 'message': 'Drop Percona XtraBackup in favour of MariaDB Backup\n\nXtraBackup started failing to install on Ubuntu and does not support\nMariaDB 10.3 version.\n\nChange-Id: I9cf62c8e03a02574d85e5349df1d23a51d4c99be\n'}, {'number': 2, 'created': '2019-09-12 12:14:48.000000000', 'files': ['kolla/image/build.py', 'docker/mariadb/backup.sh', 'tests/vars/zuul.yml', 'docker/base/percona-release.repo', 'docker/mariadb/Dockerfile.j2', 'releasenotes/notes/drop-xtrabackup-e58a97b617ff708c.yaml', 'README.rst', 'docker/base/Dockerfile.j2', 'tests/templates/template_overrides.j2', 'docker/xtrabackup/Dockerfile.j2', 'docker/base/sources.list.ubuntu'], 'web_link': 'https://opendev.org/openstack/kolla/commit/016c0f577c535def40dd32ddf41e6cb145a2f9b8', 'message': 'Drop Percona XtraBackup in favour of MariaDB Backup\n\nXtraBackup started failing to install on Ubuntu and does not support\nMariaDB 10.3 version.\n\nRelated-Bug: #1843043\n\nChange-Id: I9cf62c8e03a02574d85e5349df1d23a51d4c99be\n'}]",13,681694,016c0f577c535def40dd32ddf41e6cb145a2f9b8,36,11,2,24072,,,0,"Drop Percona XtraBackup in favour of MariaDB Backup

XtraBackup started failing to install on Ubuntu and does not support
MariaDB 10.3 version.

Related-Bug: #1843043

Change-Id: I9cf62c8e03a02574d85e5349df1d23a51d4c99be
",git fetch https://review.opendev.org/openstack/kolla refs/changes/94/681694/2 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'tests/vars/zuul.yml', 'docker/base/percona-release.repo', 'docker/mariadb/Dockerfile.j2', 'docker/xtrabackup/backup.sh', 'releasenotes/notes/drop-xtrabackup-e58a97b617ff708c.yaml', 'README.rst', 'docker/base/Dockerfile.j2', 'docker/xtrabackup/Dockerfile.j2', 'tests/templates/template_overrides.j2', 'docker/base/sources.list.ubuntu']",11,2eb9eb9a454a62bc326df642e029f10957fe5e5e,,,# Percona XtraBackup repo # NOTE(yoctozepto): enabled only in the xtrabackup image (to spare MariaDB deps and allow Zuul override) #deb http://repo.percona.com/apt bionic main ,9,121
openstack%2Fironic~stable%2Fstein~If6217afb5453c311d5ca71ba37458a9b97c18395,openstack/ironic,stable/stein,If6217afb5453c311d5ca71ba37458a9b97c18395,Asynchronous out of band deploy steps fails to execute,MERGED,2019-08-13 10:23:27.000000000,2019-09-16 13:00:30.000000000,2019-08-21 18:50:14.000000000,"[{'_account_id': 6618}, {'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-13 10:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/46e452a9a8f0fad7dbba470905c74e6ef4a81b05', 'message': ""Asynchronous out of band deploy steps fails to execute\n\nAsynchronous out of band steps in a deploy template fails to\nexecute. This commit fixes that issue. Asynchronous steps can\nset 'skip_current_deploy_step' flag to False in\n'driver_internal_info' to make sure that upon reboot same step\nis re-executed. Also it can set 'deployment_reboot' flag to True\nin 'driver_internal_info' to signal that it has rebooted the node.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nChange-Id: If6217afb5453c311d5ca71ba37458a9b97c18395\nStory: 2006342\nTask: 36095\n(cherry picked from commit 8f907886a1ed0de70c34aef84ba892c3e6a5cd49)\n""}, {'number': 2, 'created': '2019-08-20 07:25:43.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_agent_base_vendor.py', 'ironic/drivers/modules/agent.py', 'ironic/conductor/manager.py', 'ironic/drivers/modules/agent_base_vendor.py', 'ironic/drivers/modules/iscsi_deploy.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/conductor/utils.py', 'releasenotes/notes/fixes-execution-of-out-of-band-deploy-steps-1f5967e7bfcabbf9.yaml', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_agent.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ba0e73fa1550339f696431490fdb7d7723ef0903', 'message': ""Asynchronous out of band deploy steps fails to execute\n\nAsynchronous out of band steps in a deploy template fails to\nexecute. This commit fixes that issue. Asynchronous steps can\nset 'skip_current_deploy_step' flag to False in\n'driver_internal_info' to make sure that upon reboot same step\nis re-executed. Also it can set 'deployment_reboot' flag to True\nin 'driver_internal_info' to signal that it has rebooted the node.\n\nCo-Authored-By: Mark Goddard <mark@stackhpc.com>\nChange-Id: If6217afb5453c311d5ca71ba37458a9b97c18395\nStory: 2006342\nTask: 36095\n(cherry picked from commit 8f907886a1ed0de70c34aef84ba892c3e6a5cd49)\n""}]",0,676152,ba0e73fa1550339f696431490fdb7d7723ef0903,30,8,2,11076,,,0,"Asynchronous out of band deploy steps fails to execute

Asynchronous out of band steps in a deploy template fails to
execute. This commit fixes that issue. Asynchronous steps can
set 'skip_current_deploy_step' flag to False in
'driver_internal_info' to make sure that upon reboot same step
is re-executed. Also it can set 'deployment_reboot' flag to True
in 'driver_internal_info' to signal that it has rebooted the node.

Co-Authored-By: Mark Goddard <mark@stackhpc.com>
Change-Id: If6217afb5453c311d5ca71ba37458a9b97c18395
Story: 2006342
Task: 36095
(cherry picked from commit 8f907886a1ed0de70c34aef84ba892c3e6a5cd49)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/52/676152/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/test_agent_base_vendor.py', 'ironic/drivers/modules/agent.py', 'ironic/conductor/manager.py', 'ironic/drivers/modules/agent_base_vendor.py', 'ironic/drivers/modules/iscsi_deploy.py', 'ironic/tests/unit/conductor/test_utils.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/conductor/utils.py', 'releasenotes/notes/fixes-execution-of-out-of-band-deploy-steps-1f5967e7bfcabbf9.yaml', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_agent.py']",11,46e452a9a8f0fad7dbba470905c74e6ef4a81b05,topic/out-of-band-deploy-steps," @mock.patch('ironic.conductor.utils.node_power_action', autospec=True) def test_deploy_with_deployment_reboot(self, power_mock, mock_pxe_instance): driver_internal_info = self.node.driver_internal_info driver_internal_info['deployment_reboot'] = True self.node.driver_internal_info = driver_internal_info self.node.save() with task_manager.acquire( self.context, self.node['uuid'], shared=False) as task: driver_return = self.driver.deploy(task) self.assertEqual(driver_return, states.DEPLOYWAIT) self.assertFalse(power_mock.called) self.assertFalse(mock_pxe_instance.called) self.assertNotIn( 'deployment_reboot', task.node.driver_internal_info) @mock.patch.object(pxe.PXEBoot, 'prepare_instance', autospec=True)",,213,10
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I63442f0bdec11179c361f503906166f75c5e0355,openstack/tripleo-heat-templates,stable/queens,I63442f0bdec11179c361f503906166f75c5e0355,Resolve broken zaqar container caused by logging issues,MERGED,2019-09-13 09:44:10.000000000,2019-09-16 12:56:00.000000000,2019-09-16 12:56:00.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-13 09:44:10.000000000', 'files': ['docker/services/zaqar.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c6752d70ec62ac563db235ebc9ff07898d85da84', 'message': 'Resolve broken zaqar container caused by logging issues\n\nThe zaqar container is broken due to the log file being owned by root. When\nthe zaqar-server log file is unabnle to be written to by the zaqar process\nit causes a traceback resulting in 500 errors. This change ensures that the\nzaqar log directory has the proper permissions and that the log file within\nthe directory is created when the container is started. A sticky bit is\nbeing used on the zaqar log directory to ensure all files created within\nthe directory retain group expected permissions in almost all circumstances.\n\nRelated-Bug: #1843875\n\nChange-Id: I63442f0bdec11179c361f503906166f75c5e0355\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 4579d42e8d4e0f651f6c12137fb2c61d002b37ad)\n'}]",0,682009,c6752d70ec62ac563db235ebc9ff07898d85da84,8,5,1,6926,,,0,"Resolve broken zaqar container caused by logging issues

The zaqar container is broken due to the log file being owned by root. When
the zaqar-server log file is unabnle to be written to by the zaqar process
it causes a traceback resulting in 500 errors. This change ensures that the
zaqar log directory has the proper permissions and that the log file within
the directory is created when the container is started. A sticky bit is
being used on the zaqar log directory to ensure all files created within
the directory retain group expected permissions in almost all circumstances.

Related-Bug: #1843875

Change-Id: I63442f0bdec11179c361f503906166f75c5e0355
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 4579d42e8d4e0f651f6c12137fb2c61d002b37ad)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/682009/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/zaqar.yaml'],1,c6752d70ec62ac563db235ebc9ff07898d85da84,," command: ['/bin/bash', '-c', 'chmod 2755 /var/log/zaqar; touch /var/log/zaqar/zaqar-server.log; chown -R zaqar:zaqar /var/log/zaqar']"," command: ['/bin/bash', '-c', 'chown -R zaqar:zaqar /var/log/zaqar']",1,1
openstack%2Fgovernance~master~Ic0d803959327a6460f092f121e555192951b908e,openstack/governance,master,Ic0d803959327a6460f092f121e555192951b908e,New charm for cinder integration with Purestorage,MERGED,2019-09-02 13:50:48.000000000,2019-09-16 12:36:58.000000000,2019-09-16 12:34:52.000000000,"[{'_account_id': 308}, {'_account_id': 935}, {'_account_id': 1004}, {'_account_id': 4257}, {'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 10607}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-02 13:50:48.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/6418fa5e6082a2e85ab1bd53a77509e6c5c11835', 'message': 'New charm for cinder integration with Purestorage\n\nAdd cinder-purestorage charm for integrating a charmed OpenStack\ndeploy with a purestorage array.\n\nDepends-On: Ic4d8e6637e154089b45705865d0b1f9dd9524aee\nChange-Id: Ic0d803959327a6460f092f121e555192951b908e\n'}]",0,679650,6418fa5e6082a2e85ab1bd53a77509e6c5c11835,15,8,1,12549,,,0,"New charm for cinder integration with Purestorage

Add cinder-purestorage charm for integrating a charmed OpenStack
deploy with a purestorage array.

Depends-On: Ic4d8e6637e154089b45705865d0b1f9dd9524aee
Change-Id: Ic0d803959327a6460f092f121e555192951b908e
",git fetch https://review.opendev.org/openstack/governance refs/changes/50/679650/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,6418fa5e6082a2e85ab1bd53a77509e6c5c11835,project-update, charm-cinder-purestorage: release-management: external repos: - openstack/charm-cinder-purestorage,,4,0
openstack%2Fgovernance~master~I401a297cf39c3be8ce6483c755be6662eee911af,openstack/governance,master,I401a297cf39c3be8ce6483c755be6662eee911af,Update projects.yaml for Ussuri PTLs,MERGED,2019-09-05 20:34:28.000000000,2019-09-16 12:36:08.000000000,2019-09-16 12:34:51.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 2799}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 10607}, {'_account_id': 12404}, {'_account_id': 13995}, {'_account_id': 14482}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-05 20:34:28.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/e0390a054126f298a0148070aea59dc95d042f70', 'message': 'Update projects.yaml for Ussuri PTLs\n\nThis reflects the election results published at\nhttps://governance.openstack.org/election/results/ussuri/ptl.html as\nannounced by the OpenStack Technical Election Officials.\n\nChange-Id: I401a297cf39c3be8ce6483c755be6662eee911af\n'}]",8,680507,e0390a054126f298a0148070aea59dc95d042f70,19,13,1,5263,,,0,"Update projects.yaml for Ussuri PTLs

This reflects the election results published at
https://governance.openstack.org/election/results/ussuri/ptl.html as
announced by the OpenStack Technical Election Officials.

Change-Id: I401a297cf39c3be8ce6483c755be6662eee911af
",git fetch https://review.opendev.org/openstack/governance refs/changes/07/680507/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,e0390a054126f298a0148070aea59dc95d042f70,formal-vote, name: Brian Rosmaita irc: rosmaita email: rosmaita.fossdev@gmail.com irc: ekcs name: APPOINTMENT NEEDED irc: No nick supplied email: example@example.org name: APPOINTMENT NEEDED irc: No nick supplied email: example@example.org name: Alexandra Settle irc: asettle email: asettle@suse.com name: geng chc irc: gengchc name: Abhishek Kekane irc: abhishekk email: akekane@redhat.com name: Akihiro Motoki irc: amotoki email: amotoki@gmail.com name: APPOINTMENT NEEDED irc: No nick supplied email: example@example.org name: Pete Birley irc: portdirect email: petebirley@gmail.com name: Goutham Pacha Ravi irc: gouthamr email: gouthampravi@gmail.com name: Sławek Kapłoński irc: slaweq email: skaplons@redhat.com name: Frode Nordahl irc: fnordahl email: frode.nordahl@canonical.com name: APPOINTMENT NEEDED irc: No nick supplied email: example@example.org name: Javier Peña irc: No nick supplied email: jpena@redhat.com name: APPOINTMENT NEEDED irc: No nick supplied email: example@example.org name: APPOINTMENT NEEDED irc: No nick supplied email: example@example.org name: Shengping Zhong email: kota.tsuyuzaki.pc@hco.ntt.co.jp name: Rong Zhu irc: zhurong email: aaronzhu1121@gmail.com name: chi zhang irc: No nick supplied email: zhangchi@szzt.com.cn name: Wes Hayutin irc: weshay email: whayutin@redhat.com irc: No nick supplied email: eyalb1@gmail.com name: APPOINTMENT NEEDED irc: No nick supplied email: example@example.org name: wang hao irc: No nick supplied, name: Jay Bryant irc: jungleboyj email: jsbryant@electronicjungle.net irc: No nick supplied name: Sundar Nadathur irc: Sundar email: sundar.nadathur@intel.com name: Graham Hayes irc: mugsie email: gr@ham.ie name: Stephen Finucane irc: stephenfin email: sfinucan@redhat.com name: geng chc2 irc: No nick supplied name: Erno Kuvaja irc: jokke_ email: jokke@usr.fi name: Ivan Kolodyazhny irc: e0ne email: e0ne@e0ne.info name: Ian Y. Choi irc: ianychoi email: ianyrchoi@gmail.com name: Chris Hoge irc: hogepodge email: chris@openstack.org name: Thomas Barron irc: tbarron email: tpb@dyncloud.net name: Miguel Lavalle irc: mlavalle email: miguel@mlavalle.com name: James Page irc: jamespage email: james.page@ubuntu.com name: Monty Taylor irc: mordred email: mordred@inaugust.com name: Thomas Bechtold irc: toabctl email: tbechtold@suse.com name: Chris Dent irc: cdent email: cdent@anticdent.org name: Divya K Konoor irc: dikonoor email: dikonoor@in.ibm.com name: Zhong Shengping email: tsuyuzaki.kota@lab.ntt.co.jp name: Trinh Nguyen irc: dangtrinhnt email: dangtrinhnt@gmail.com name: baisen song irc: songbaisen email: songbaisen@szzt.com.cn name: Alex Schultz irc: mwhahaha email: aschultz@redhat.com irc: eyalb email: eyal.bar-ilan@nokia.com name: Claudiu Belu irc: claudiub email: cbelu@cloudbasesolutions.com name: Wang Hao irc: wanghao,66,66
openstack%2Fcinder~master~I3145528402578329afd1625f6ce17fae311c955e,openstack/cinder,master,I3145528402578329afd1625f6ce17fae311c955e,Zadara VPSA: Add Multi-Attach to driver capabilities.,ABANDONED,2019-09-01 11:26:17.000000000,2019-09-16 12:30:38.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 17499}, {'_account_id': 18120}, {'_account_id': 19755}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26233}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-09-01 11:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7227ffcf7bcf033bf3e1e96029913ed8a67f4e34', 'message': 'Zadara VPSA: Add Multi-Attach to driver capabilities\nThe following change introduce Multi-Attach capability to\nthe Zadara VPSA Cinder driver.\n\nChange-Id: I3145528402578329afd1625f6ce17fae311c955e\n'}, {'number': 2, 'created': '2019-09-01 14:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1334a2642ace561249bc7e28d6cba148172f8e1', 'message': 'Zadara VPSA: Add Multi-Attach to driver capabilities\nThe following change introduce Multi-Attach capability to\nthe Zadara VPSA Cinder driver.\n\nChange-Id: I3145528402578329afd1625f6ce17fae311c955e\n'}, {'number': 3, 'created': '2019-09-04 15:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a58bf018fa034b6f96a0dc577400ca80d91c447e', 'message': 'Zadara VPSA: Add Multi-Attach to driver capabilities.\n\nThe following change introduce Multi-Attach capability to\nthe Zadara VPSA Cinder driver.\nFrom VPSA perspective, multi-attach was always supported.\nThe array is able to expose the same volume to multiple servers\nseamlessly.\nTested by running our unittests, tempest and CI.\n\nChange-Id: I3145528402578329afd1625f6ce17fae311c955e\n'}, {'number': 4, 'created': '2019-09-05 06:36:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7d5be832cea39186a6c1fa2b9c25e31a52b91768', 'message': 'Zadara VPSA: Add Multi-Attach to driver capabilities.\n\nThe following change introduce Multi-Attach capability to\nthe Zadara VPSA Cinder driver.\nFrom VPSA perspective, multi-attach was always supported.\nThe array is able to expose the same volume to multiple servers\nseamlessly.\nTested by running our unittests, tempest and CI.\n\nChange-Id: I3145528402578329afd1625f6ce17fae311c955e\n'}, {'number': 5, 'created': '2019-09-11 13:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/24b97f66c713e274092e1dceb2583a7ac15e697c', 'message': 'Zadara VPSA: Add Multi-Attach to driver capabilities.\n\nThe following change introduce Multi-Attach capability to\nthe Zadara VPSA Cinder driver.\nFrom VPSA perspective, multi-attach was always supported.\nThe array is able to expose the same volume to multiple servers\nseamlessly.\nTested by running our unittests, tempest and CI.\n\nChange-Id: I3145528402578329afd1625f6ce17fae311c955e\n'}, {'number': 6, 'created': '2019-09-15 15:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ec002fd7d2862a493a804b4da0c45f13a5104b4f', 'message': 'Zadara VPSA: Add Multi-Attach to driver capabilities.\n\nThe following change introduce Multi-Attach capability to\nthe Zadara VPSA Cinder driver.\nFrom VPSA perspective, multi-attach was always supported.\nThe array is able to expose the same volume to multiple servers\nseamlessly.\nTested by running our unittests, tempest and CI.\n\nChange-Id: I3145528402578329afd1625f6ce17fae311c955e\n'}, {'number': 7, 'created': '2019-09-16 06:54:06.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_zadara.py', 'releasenotes/notes/Zadara-Add-multi-attach-to-driver-capabilites-4452fb0f2c16a28a.yaml', 'cinder/volume/drivers/zadara.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/4f65299b592f0072b0195896772cecf7a4de1b19', 'message': 'Zadara VPSA: Add Multi-Attach to driver capabilities.\n\nThe following change introduce Multi-Attach capability to\nthe Zadara VPSA Cinder driver.\nFrom VPSA perspective, multi-attach was always supported.\nThe array is able to expose the same volume to multiple servers\nseamlessly.\nTested by running our unittests, tempest and CI.\n\nChange-Id: I3145528402578329afd1625f6ce17fae311c955e\n'}]",2,679565,4f65299b592f0072b0195896772cecf7a4de1b19,207,40,7,30629,,,0,"Zadara VPSA: Add Multi-Attach to driver capabilities.

The following change introduce Multi-Attach capability to
the Zadara VPSA Cinder driver.
From VPSA perspective, multi-attach was always supported.
The array is able to expose the same volume to multiple servers
seamlessly.
Tested by running our unittests, tempest and CI.

Change-Id: I3145528402578329afd1625f6ce17fae311c955e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/65/679565/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_zadara.py', 'releasenotes/notes/Zadara-Add-multi-attach-to-driver-capabilites-4452fb0f2c16a28a.yaml', 'cinder/volume/drivers/zadara.py']",3,7227ffcf7bcf033bf3e1e96029913ed8a67f4e34,zadara_api_access_key_auth," 'force': 'YES'}), list_servers = self._get_servers_attached_to_volume(vpsa_vol) list_servers_ids = [s.findtext('name') for s in list_servers] if vpsa_srv: list_servers_ids = [srv_id for srv_id in list_servers_ids if srv_id == vpsa_srv] if not list_servers_ids: return None data['multiattach'] = True"," 'force': 'NO'}), if vpsa_srv: list_servers_ids = [vpsa_srv] else: list_servers = self._get_servers_attached_to_volume(vpsa_vol) list_servers_ids = [s.findtext('name') for s in list_servers]",37,12
openstack%2Fcinder~stable%2Fqueens~I253123d5451b32f0e3143916e41aaa1af75561c2,openstack/cinder,stable/queens,I253123d5451b32f0e3143916e41aaa1af75561c2,Fix VolumeAttachment is not bound to a Session,MERGED,2019-09-02 21:46:56.000000000,2019-09-16 12:29:28.000000000,2019-09-04 21:28:41.000000000,"[{'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 15670}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 29466}, {'_account_id': 29716}, {'_account_id': 30590}]","[{'number': 1, 'created': '2019-09-02 21:46:56.000000000', 'files': ['cinder/tests/unit/fake_volume.py', 'cinder/tests/unit/volume/drivers/test_lvm_driver.py', 'cinder/objects/volume_attachment.py', 'cinder/tests/unit/objects/test_volume_attachment.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b0f638475173fc70373efefb38ff8e6ad5bd863f', 'message': 'Fix VolumeAttachment is not bound to a Session\n\nIn some cases, when loading a list of volumes using\ncinder.objects.VolumeList.get_all we may end up with a SQL alchemy error\nlike this one:\n\n sqlalchemy.orm.exc.DetachedInstanceError: Parent instance\n <VolumeAttachment at 0x7f048ff22290> is not bound to a Session; lazy\n load operation of attribute \'volume\' cannot proceed (Background on this\n error at: http://sqlalche.me/e/bhk3)\n\nThis happens because when loading a Cinder Volume we also load the\nvolume attachments, so the Volume OVO tries to create the\nVolumeAttachmentList OVO, which in turn creates the individual\nVolumeAttachment OVOs, but these have the volume field set in\nexpected_attrs, but in this case the volume data is not loaded.\n\nIn most cases we don\'t see this issue because the session is still\navailable and SQLAlchemy will return this information.\n\nInstead of using the dictionary ""get"" method that will do the lazy\nloading we use the hasattr method that will return False if the lazy\nloading exception happens when trying to get the volume.\n\nDepends-On: I9f0fec25444ed865d56d0d250fb6d840ab5b4095\nCloses-Bug: #1812913\nChange-Id: I253123d5451b32f0e3143916e41aaa1af75561c2\n(cherry picked from commit 42ce739a0841e39bd267cc2fd19be53447faac85)\n'}]",0,679682,b0f638475173fc70373efefb38ff8e6ad5bd863f,33,23,1,29466,,,0,"Fix VolumeAttachment is not bound to a Session

In some cases, when loading a list of volumes using
cinder.objects.VolumeList.get_all we may end up with a SQL alchemy error
like this one:

 sqlalchemy.orm.exc.DetachedInstanceError: Parent instance
 <VolumeAttachment at 0x7f048ff22290> is not bound to a Session; lazy
 load operation of attribute 'volume' cannot proceed (Background on this
 error at: http://sqlalche.me/e/bhk3)

This happens because when loading a Cinder Volume we also load the
volume attachments, so the Volume OVO tries to create the
VolumeAttachmentList OVO, which in turn creates the individual
VolumeAttachment OVOs, but these have the volume field set in
expected_attrs, but in this case the volume data is not loaded.

In most cases we don't see this issue because the session is still
available and SQLAlchemy will return this information.

Instead of using the dictionary ""get"" method that will do the lazy
loading we use the hasattr method that will return False if the lazy
loading exception happens when trying to get the volume.

Depends-On: I9f0fec25444ed865d56d0d250fb6d840ab5b4095
Closes-Bug: #1812913
Change-Id: I253123d5451b32f0e3143916e41aaa1af75561c2
(cherry picked from commit 42ce739a0841e39bd267cc2fd19be53447faac85)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/82/679682/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/fake_volume.py', 'cinder/tests/unit/volume/drivers/test_lvm_driver.py', 'cinder/objects/volume_attachment.py', 'cinder/tests/unit/objects/test_volume_attachment.py']",4,b0f638475173fc70373efefb38ff8e6ad5bd863f,bug/1812913-stable/queens," db_attachment = fake_volume.volume_attachment_db_obj() attachment_obj = fake_volume.volume_attachment_ovo(self.context) db_attachment1 = fake_volume.volume_attachment_db_obj() attachment_obj1 = fake_volume.volume_attachment_ovo(self.context) db_attachment2 = fake_volume.volume_attachment_db_obj() db_attachment2.mountpoint = '/dev/sdc' attachment_obj2 = fake_volume.volume_attachment_ovo( db_attachment = fake_volume.volume_attachment_db_obj() attachment_obj = fake_volume.volume_attachment_ovo(self.context) self._compare(self, attachment_obj, attachments[0]) db_attachment = fake_volume.volume_attachment_db_obj() attachment_obj = fake_volume.volume_attachment_ovo(self.context) self._compare(self, attachment_obj, attachments[0]) db_attachment = fake_volume.volume_attachment_db_obj() attachment_obj = fake_volume.volume_attachment_ovo(self.context) self._compare(self, attachment_obj, attachments[0])"," db_attachment = fake_volume.fake_db_volume_attachment() attachment_obj = fake_volume.fake_volume_attachment_obj(self.context) db_attachment1 = fake_volume.fake_db_volume_attachment() attachment_obj1 = fake_volume.fake_volume_attachment_obj(self.context) db_attachment2 = db_attachment1.copy() db_attachment2['mountpoint'] = '/dev/sdc' attachment_obj2 = fake_volume.fake_volume_attachment_obj( db_attachment = fake_volume.fake_db_volume_attachment() attachment_obj = fake_volume.fake_volume_attachment_obj(self.context) TestVolumeAttachment._compare(self, attachment_obj, attachments[0]) db_attachment = fake_volume.fake_db_volume_attachment() attachment_obj = fake_volume.fake_volume_attachment_obj(self.context) TestVolumeAttachment._compare(self, attachment_obj, attachments[0]) db_attachment = fake_volume.fake_db_volume_attachment() attachment_obj = fake_volume.fake_volume_attachment_obj(self.context) TestVolumeAttachment._compare(self, attachment_obj, attachments[0])",48,21
openstack%2Ftripleo-validations~master~I929a3490d88602eaf62bbe1a559febfc185aa7e9,openstack/tripleo-validations,master,I929a3490d88602eaf62bbe1a559febfc185aa7e9,Fix tripleo-ansible-inventory,MERGED,2019-09-13 13:55:47.000000000,2019-09-16 12:23:25.000000000,2019-09-16 12:23:25.000000000,"[{'_account_id': 11491}, {'_account_id': 17499}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23811}, {'_account_id': 25402}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-13 13:55:47.000000000', 'files': ['scripts/tripleo-ansible-inventory'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/53114f36d4a1e02f0f776f0e79854c39068dc6da', 'message': 'Fix tripleo-ansible-inventory\n\nThis [1] introduced support tripleo-ansible-inventory for multiple\nstacks/plans and now configs.plan needs to be list/iterable.\n\n[1]: I23fdeaa4950244bf3aec8e8ea71e8a29f763c074\n\nChange-Id: I929a3490d88602eaf62bbe1a559febfc185aa7e9\n'}]",0,682055,53114f36d4a1e02f0f776f0e79854c39068dc6da,14,9,1,30133,,,0,"Fix tripleo-ansible-inventory

This [1] introduced support tripleo-ansible-inventory for multiple
stacks/plans and now configs.plan needs to be list/iterable.

[1]: I23fdeaa4950244bf3aec8e8ea71e8a29f763c074

Change-Id: I929a3490d88602eaf62bbe1a559febfc185aa7e9
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/55/682055/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-ansible-inventory'],1,53114f36d4a1e02f0f776f0e79854c39068dc6da,bp/split-control-plane-unified-inventory," cfg.ListOpt('plan', default=[os.environ.get('TRIPLEO_PLAN_NAME')],"," cfg.ListOpt('plan', default=os.environ.get('TRIPLEO_PLAN_NAME'),",1,1
openstack%2Ftripleo-common~master~Ib94c92fadc16bec4c584895d2510df998e5b1ea7,openstack/tripleo-common,master,Ib94c92fadc16bec4c584895d2510df998e5b1ea7,Add mistral action to get ctlplane props,ABANDONED,2019-08-30 09:43:17.000000000,2019-09-16 12:23:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-08-30 09:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f5f764b354b6f9ffac2162c5d6d1772c5f66490f', 'message': '[WIP] role_net_cidr_map\n\nImplement a mistral action to get properties of the\nundercloud ctlplane network and it subnets.\n\nRelated-Bug: #1840030\nChange-Id: Ib94c92fadc16bec4c584895d2510df998e5b1ea7\n'}, {'number': 2, 'created': '2019-09-02 08:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c4793d6324d315ffb1d9ebc43ab913791bae5545', 'message': '[WIP] role_net_cidr_map\n\nImplement a mistral action to get properties of the\nundercloud ctlplane network and it subnets.\n\nRelated-Bug: #1840030\nChange-Id: Ib94c92fadc16bec4c584895d2510df998e5b1ea7\n'}, {'number': 3, 'created': '2019-09-02 11:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/95e4b32a4c1abfb9bc2d614e755c40cfa178e966', 'message': '[WIP] role_net_cidr_map\n\nImplement a mistral action to get properties of the\nundercloud ctlplane network and it subnets.\n\nRelated-Bug: #1840030\nChange-Id: Ib94c92fadc16bec4c584895d2510df998e5b1ea7\n'}, {'number': 4, 'created': '2019-09-02 21:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ad92765eb2dfb389ca4e08727d119cfd170d92c9', 'message': '[WIP] role_net_cidr_map\n\nImplement a mistral action to get properties of the\nundercloud ctlplane network and it subnets.\n\nRelated-Bug: #1840030\nChange-Id: Ib94c92fadc16bec4c584895d2510df998e5b1ea7\n'}, {'number': 5, 'created': '2019-09-03 06:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0ca7886ce1ce0af7875a3d639096f3b7bf790cd1', 'message': '[WIP] role_net_cidr_map\n\nImplement a mistral action to get properties of the\nundercloud ctlplane network and it subnets.\n\nRelated-Bug: #1840030\nChange-Id: Ib94c92fadc16bec4c584895d2510df998e5b1ea7\n'}, {'number': 6, 'created': '2019-09-12 21:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/609f5d7f1b3c63b88d6ad4900d35de7e28d94a37', 'message': '[WIP] role_net_cidr_map\n\nImplement a mistral action to get properties of the\nundercloud ctlplane network and it subnets.\n\nRelated-Bug: #1840030\nChange-Id: Ib94c92fadc16bec4c584895d2510df998e5b1ea7\n'}, {'number': 7, 'created': '2019-09-15 22:25:29.000000000', 'files': ['tripleo_common/actions/base.py', 'tripleo_common/tests/actions/test_parameters.py', 'workbooks/parameters.yaml', 'tripleo_common/actions/parameters.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d1271602e38a4a6d2a95a4f5b572b5b08ca1f97a', 'message': ""Add mistral action to get ctlplane props\n\nImplements a mistral action to get properties of the\nundercloud ctlplane network and it subnets.\n\nThe tripleoclient will trigger this action and write\na user-environment file containing the properties of\nthe ctlplane network and it's subnets so that the\ninformation can be used in tripleo-heat-templates.\n\nRelated-Bug: #1840030\nChange-Id: Ib94c92fadc16bec4c584895d2510df998e5b1ea7\n""}]",0,679410,d1271602e38a4a6d2a95a4f5b572b5b08ca1f97a,26,3,7,24245,,,0,"Add mistral action to get ctlplane props

Implements a mistral action to get properties of the
undercloud ctlplane network and it subnets.

The tripleoclient will trigger this action and write
a user-environment file containing the properties of
the ctlplane network and it's subnets so that the
information can be used in tripleo-heat-templates.

Related-Bug: #1840030
Change-Id: Ib94c92fadc16bec4c584895d2510df998e5b1ea7
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/10/679410/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/base.py', 'tripleo_common/tests/actions/test_parameters.py', 'workbooks/parameters.yaml', 'tripleo_common/actions/parameters.py', 'setup.cfg']",5,f5f764b354b6f9ffac2162c5d6d1772c5f66490f,bug/1840030, tripleo.parameters.get_ctlplane_network_info = tripleo_common.actions.parameters:GetCtlplaneNetworkInfoAction,,148,0
openstack%2Fpython-tripleoclient~master~Id0eb65a89676f48d4e414d4682e5932b3d9cb3f4,openstack/python-tripleoclient,master,Id0eb65a89676f48d4e414d4682e5932b3d9cb3f4,Add ctlplane data to overcloud environment,ABANDONED,2019-08-30 09:45:02.000000000,2019-09-16 12:22:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-08-30 09:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7604dc9ea40f8933a1b21c9cd33e4188303e2bf8', 'message': ""[WIP] role_net_cidr_map\n\nUse mistral action to get information about the\nundercloud's ctlplane network and it's subnets and\nadd it in overcloud environment.\n\nRelated-Bug: #1840030\nDepends-On: Ib94c92fadc16bec4c584895d2510df998e5b1ea7\nChange-Id: Id0eb65a89676f48d4e414d4682e5932b3d9cb3f4\n""}, {'number': 2, 'created': '2019-08-30 11:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/682c83411edf310fd6f5646190bcc9cf7060cdc5', 'message': ""[WIP] role_net_cidr_map\n\nUse mistral action to get information about the\nundercloud's ctlplane network and it's subnets and\nadd it in overcloud environment.\n\nRelated-Bug: #1840030\nDepends-On: Ib94c92fadc16bec4c584895d2510df998e5b1ea7\nChange-Id: Id0eb65a89676f48d4e414d4682e5932b3d9cb3f4\n""}, {'number': 3, 'created': '2019-08-30 12:56:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c798dfd4fbc117b16a528b56b2c8a9f1e5fef36a', 'message': ""[WIP] role_net_cidr_map\n\nUse mistral action to get information about the\nundercloud's ctlplane network and it's subnets and\nadd it in overcloud environment.\n\nRelated-Bug: #1840030\nDepends-On: Ib94c92fadc16bec4c584895d2510df998e5b1ea7\nChange-Id: Id0eb65a89676f48d4e414d4682e5932b3d9cb3f4\n""}, {'number': 4, 'created': '2019-09-02 08:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cb524ac1eae7c06befa6dcae122c31d9d75e0106', 'message': ""[WIP] role_net_cidr_map\n\nUse mistral action to get information about the\nundercloud's ctlplane network and it's subnets and\nadd it in overcloud environment.\n\nRelated-Bug: #1840030\nDepends-On: Ib94c92fadc16bec4c584895d2510df998e5b1ea7\nChange-Id: Id0eb65a89676f48d4e414d4682e5932b3d9cb3f4\n""}, {'number': 5, 'created': '2019-09-12 21:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a72e5741cc04999712b1dab8fa9bd41a624f1bf9', 'message': ""[WIP] role_net_cidr_map\n\nUse mistral action to get information about the\nundercloud's ctlplane network and it's subnets and\nadd it in overcloud environment.\n\nRelated-Bug: #1840030\nDepends-On: Ib94c92fadc16bec4c584895d2510df998e5b1ea7\nChange-Id: Id0eb65a89676f48d4e414d4682e5932b3d9cb3f4\n""}, {'number': 6, 'created': '2019-09-15 22:25:37.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/parameters.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9f729da8dfbc58af08475f5c211a84acc72a19e8', 'message': ""Add ctlplane data to overcloud environment\n\nUse mistral action to get information about the\nundercloud's ctlplane network and it's subnets and\nadd it in overcloud environment.\n\nRelated-Bug: #1840030\nDepends-On: Ib94c92fadc16bec4c584895d2510df998e5b1ea7\nChange-Id: Id0eb65a89676f48d4e414d4682e5932b3d9cb3f4\n""}]",0,679412,9f729da8dfbc58af08475f5c211a84acc72a19e8,35,3,6,24245,,,0,"Add ctlplane data to overcloud environment

Use mistral action to get information about the
undercloud's ctlplane network and it's subnets and
add it in overcloud environment.

Related-Bug: #1840030
Depends-On: Ib94c92fadc16bec4c584895d2510df998e5b1ea7
Change-Id: Id0eb65a89676f48d4e414d4682e5932b3d9cb3f4
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/12/679412/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/workflows/parameters.py', 'tripleoclient/v1/overcloud_deploy.py']",3,7604dc9ea40f8933a1b21c9cd33e4188303e2bf8,bug/1840030," self._get_ctlplane_network_info(parsed_args, tht_root)) created_env_files.extend( def _get_ctlplane_network_info(self, parsed_args, tht_root): parameter_defaults = workflow_params.get_ctlplane_network_info( self.app.client_manager) env_path, swift_path = self._write_user_environment( parameter_defaults, 'tripleoclient-ctlplane-network.yaml', tht_root, parsed_args.stack) return [env_path] ",,100,12
openstack%2Ftripleo-heat-templates~master~I077a70bd1c331a710a5b6e67f3db3f6ea91e7812,openstack/tripleo-heat-templates,master,I077a70bd1c331a710a5b6e67f3db3f6ea91e7812,[DNM] Implement role_net_cidr_map,ABANDONED,2019-08-28 13:52:34.000000000,2019-09-16 12:22:31.000000000,,"[{'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-08-28 13:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f9ee75f618db294bf2281b33cbb014de86b69e7b', 'message': ""[WiP] Implement role_net_cidr_map\n\nImplments a new map of network cidr's for each role.\nThe map of cidr's for each role is placed in ServiceData\nso that deployments can access role specific network cidrs.\n\nWiP because it does not include the ctlplane network,\nand thus will only work for the overcloud networks\ncreated when using network-isolation.\n\nChange-Id: I077a70bd1c331a710a5b6e67f3db3f6ea91e7812\nRelated-Bug: #1840030\n""}, {'number': 2, 'created': '2019-09-16 00:47:17.000000000', 'files': ['network/networks.j2.yaml', 'network/network.j2', 'overcloud.j2.yaml', 'deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dc41416e2e9ebb1eb0a1cc666243659aac1a525d', 'message': ""[DNM] Implement role_net_cidr_map\n\nImplments a new map of network cidr's for each role.\nThe map of cidr's for each role is placed in ServiceData\nso that deployments can access role specific network cidrs.\n\nDepends-On: Id0eb65a89676f48d4e414d4682e5932b3d9cb3f4\nChange-Id: I077a70bd1c331a710a5b6e67f3db3f6ea91e7812\nRelated-Bug: #1840030\n""}]",0,679060,dc41416e2e9ebb1eb0a1cc666243659aac1a525d,8,4,2,24245,,,0,"[DNM] Implement role_net_cidr_map

Implments a new map of network cidr's for each role.
The map of cidr's for each role is placed in ServiceData
so that deployments can access role specific network cidrs.

Depends-On: Id0eb65a89676f48d4e414d4682e5932b3d9cb3f4
Change-Id: I077a70bd1c331a710a5b6e67f3db3f6ea91e7812
Related-Bug: #1840030
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/679060/1 && git format-patch -1 --stdout FETCH_HEAD,"['network/networks.j2.yaml', 'network/network.j2', 'overcloud.j2.yaml', 'deployment/ceph-ansible/ceph-base.yaml']",4,f9ee75f618db294bf2281b33cbb014de86b69e7b,bug/1840030," get_param: [ServiceData, role_net_cidr_map, {get_param: [ServiceNetMap, CephMonNetwork]}]"," list_join: - ',' - get_param: [ServiceData, net_cidr_map, {get_param: [ServiceNetMap, CephMonNetwork]}]",24,3
openstack%2Fpython-manilaclient~stable%2Ftrain~I6082ef502dec1165aaff148ad14d5c80b054f94b,openstack/python-manilaclient,stable/train,I6082ef502dec1165aaff148ad14d5c80b054f94b,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-09-16 09:30:57.000000000,2019-09-16 12:21:17.000000000,2019-09-16 12:19:47.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 09:30:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/1f2440ee8b2d20b80a63fed267b5e68a12a7ed68', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I6082ef502dec1165aaff148ad14d5c80b054f94b\n'}]",1,682318,1f2440ee8b2d20b80a63fed267b5e68a12a7ed68,7,2,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I6082ef502dec1165aaff148ad14d5c80b054f94b
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/18/682318/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1f2440ee8b2d20b80a63fed267b5e68a12a7ed68,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},3,3
openstack%2Fpython-manilaclient~stable%2Ftrain~I5ccd2da453168790be1a80dbf2f0f109b6cb913f,openstack/python-manilaclient,stable/train,I5ccd2da453168790be1a80dbf2f0f109b6cb913f,Update .gitreview for stable/train,MERGED,2019-09-16 09:30:54.000000000,2019-09-16 12:18:56.000000000,2019-09-16 12:17:57.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 09:30:54.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/e8e3b850283959a9704d8a35d7ff2572a584b712', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I5ccd2da453168790be1a80dbf2f0f109b6cb913f\n'}]",0,682317,e8e3b850283959a9704d8a35d7ff2572a584b712,7,2,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I5ccd2da453168790be1a80dbf2f0f109b6cb913f
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/17/682317/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,e8e3b850283959a9704d8a35d7ff2572a584b712,create-train,defaultbranch=stable/train,,1,0
openstack%2Fpython-manilaclient~master~I641b79426965f0701092dea48905f9f4fc646843,openstack/python-manilaclient,master,I641b79426965f0701092dea48905f9f4fc646843,Update master for stable/train,MERGED,2019-09-16 09:31:00.000000000,2019-09-16 12:16:59.000000000,2019-09-16 12:15:42.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 09:31:00.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/ad92fb49d555871688a7e9bc872c9e3aaac09a05', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I641b79426965f0701092dea48905f9f4fc646843\nSem-Ver: feature\n'}]",0,682319,ad92fb49d555871688a7e9bc872c9e3aaac09a05,7,2,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I641b79426965f0701092dea48905f9f4fc646843
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/19/682319/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,ad92fb49d555871688a7e9bc872c9e3aaac09a05,reno-train, train,,7,0
openstack%2Fcharms.openstack~master~Iea8bd9c4ba4c96b68583f2cc85c70203e058d5e3,openstack/charms.openstack,master,Iea8bd9c4ba4c96b68583f2cc85c70203e058d5e3,tls: Write chain cert in separate file for CA store,MERGED,2019-09-16 10:29:38.000000000,2019-09-16 12:15:57.000000000,2019-09-16 12:15:57.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 10:29:38.000000000', 'files': ['charms_openstack/charm/classes.py', 'unit_tests/charms_openstack/charm/test_classes.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/8be175ccf5d34dda6bfaffff00556d3003f36b8f', 'message': 'tls: Write chain cert in separate file for CA store\n\nChange-Id: Iea8bd9c4ba4c96b68583f2cc85c70203e058d5e3\nCloses-Bug: #1844110\n'}]",0,682332,8be175ccf5d34dda6bfaffff00556d3003f36b8f,6,2,1,13686,,,0,"tls: Write chain cert in separate file for CA store

Change-Id: Iea8bd9c4ba4c96b68583f2cc85c70203e058d5e3
Closes-Bug: #1844110
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/32/682332/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/charm/classes.py', 'unit_tests/charms_openstack/charm/test_classes.py']",2,8be175ccf5d34dda6bfaffff00556d3003f36b8f,bug/1844110," 'ca': 'CA', 'chain': 'CHAIN', 'ca': 'CA', 'chain': 'CHAIN', 'ca': 'CA', 'chain': 'CHAIN', 'ca': 'CA', 'chain': 'CHAIN', 'chain': 'chain2', mock.call('ca2'), mock.call('chain2', postfix='chain'), ]"," 'ca': 'CA\nCHAIN', 'ca': 'CA\nCHAIN', 'ca': 'CA\nCHAIN', 'ca': 'CA\nCHAIN', mock.call('ca2')]",20,10
openstack%2Fzun~stable%2Fstein~I1a2f7be8186aa946fafd2a7f448e764170e60b39,openstack/zun,stable/stein,I1a2f7be8186aa946fafd2a7f448e764170e60b39,WIP: Do not enforce network,ABANDONED,2019-09-16 12:12:54.000000000,2019-09-16 12:14:03.000000000,,[],"[{'number': 1, 'created': '2019-09-16 12:12:54.000000000', 'files': ['zun/common/utils.py', 'zun/container/docker/driver.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/345b3de99e506967396294afb562227e07ce8656', 'message': 'WIP: Do not enforce network\n\nThis is obviously wrong at many angles now but it does the\njob done. Consider it PoC.\n\nChange-Id: I1a2f7be8186aa946fafd2a7f448e764170e60b39\nCloses-bug: #1844122\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,682351,345b3de99e506967396294afb562227e07ce8656,2,0,1,30491,,,0,"WIP: Do not enforce network

This is obviously wrong at many angles now but it does the
job done. Consider it PoC.

Change-Id: I1a2f7be8186aa946fafd2a7f448e764170e60b39
Closes-bug: #1844122
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/zun refs/changes/51/682351/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/common/utils.py', 'zun/container/docker/driver.py']",2,345b3de99e506967396294afb562227e07ce8656,do-not-enforce-network, if not requested_networks: return ,,4,0
openstack%2Fhorizon~master~I0ae103cf4ecbb7d16da1b05eae888f19aa8d0152,openstack/horizon,master,I0ae103cf4ecbb7d16da1b05eae888f19aa8d0152,Imported Translations from Zanata,MERGED,2019-09-13 10:02:10.000000000,2019-09-16 12:13:54.000000000,2019-09-16 12:12:18.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-09-13 10:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8f3148b39aced75dc425aa63f6701cb26a2313d1', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I0ae103cf4ecbb7d16da1b05eae888f19aa8d0152\n'}, {'number': 2, 'created': '2019-09-14 10:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0e9ca7e2f8901d2efc5f2ea3dd7803bb0cad2e2b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I0ae103cf4ecbb7d16da1b05eae888f19aa8d0152\n'}, {'number': 3, 'created': '2019-09-16 09:23:39.000000000', 'files': ['doc/source/locale/en_GB/LC_MESSAGES/doc-install.po', 'openstack_dashboard/locale/bn_IN/LC_MESSAGES/django.po', 'openstack_auth/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pl_PL/LC_MESSAGES/django.po', 'openstack_dashboard/locale/kn/LC_MESSAGES/django.po', 'openstack_auth/locale/zh_CN/LC_MESSAGES/django.po', 'doc/source/locale/de/LC_MESSAGES/doc-install.po', 'openstack_dashboard/locale/ne/LC_MESSAGES/django.po', 'openstack_auth/locale/id/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'doc/source/locale/ja/LC_MESSAGES/doc-install.po', 'openstack_dashboard/locale/ta/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_TW/LC_MESSAGES/django.po', 'openstack_auth/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/mni/LC_MESSAGES/django.po', 'openstack_dashboard/locale/mr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'openstack_auth/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/as/LC_MESSAGES/django.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pa_IN/LC_MESSAGES/django.po', 'doc/source/locale/id/LC_MESSAGES/doc-install.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-install.po', 'doc/source/locale/id/LC_MESSAGES/doc-configuration.po', 'openstack_dashboard/locale/brx/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/mai/LC_MESSAGES/django.po', 'openstack_dashboard/locale/it/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_auth/locale/de/LC_MESSAGES/django.po', 'doc/source/locale/eo/LC_MESSAGES/doc-install.po', 'openstack_auth/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_auth/locale/fr/LC_MESSAGES/django.po', 'openstack_auth/locale/ru/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ks/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'openstack_auth/locale/en_GB/LC_MESSAGES/django.po', 'openstack_auth/locale/eo/LC_MESSAGES/django.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-configuration.po', 'openstack_dashboard/locale/tr_TR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ur/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_AU/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/id/LC_MESSAGES/django.po', 'openstack_dashboard/locale/cs/LC_MESSAGES/django.po', 'openstack_dashboard/locale/gu/LC_MESSAGES/django.po', 'openstack_dashboard/locale/hi/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'horizon/locale/id/LC_MESSAGES/django.po', 'openstack_auth/locale/ne/LC_MESSAGES/django.po', 'openstack_dashboard/locale/kok/LC_MESSAGES/django.po', 'openstack_dashboard/locale/eo/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/fa804370b11519fc261f73fa90177368fde679df', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I0ae103cf4ecbb7d16da1b05eae888f19aa8d0152\n'}]",0,682013,fa804370b11519fc261f73fa90177368fde679df,16,3,3,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I0ae103cf4ecbb7d16da1b05eae888f19aa8d0152
",git fetch https://review.opendev.org/openstack/horizon refs/changes/13/682013/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/locale/en_GB/LC_MESSAGES/doc-install.po', 'openstack_dashboard/locale/bn_IN/LC_MESSAGES/django.po', 'openstack_auth/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pl_PL/LC_MESSAGES/django.po', 'openstack_dashboard/locale/kn/LC_MESSAGES/django.po', 'openstack_auth/locale/zh_CN/LC_MESSAGES/django.po', 'doc/source/locale/de/LC_MESSAGES/doc-install.po', 'openstack_dashboard/locale/ne/LC_MESSAGES/django.po', 'openstack_auth/locale/id/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'doc/source/locale/ja/LC_MESSAGES/doc-install.po', 'openstack_dashboard/locale/ta/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_TW/LC_MESSAGES/django.po', 'openstack_auth/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/mni/LC_MESSAGES/django.po', 'openstack_dashboard/locale/mr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'openstack_auth/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/as/LC_MESSAGES/django.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pa_IN/LC_MESSAGES/django.po', 'doc/source/locale/id/LC_MESSAGES/doc-install.po', 'doc/source/locale/ko_KR/LC_MESSAGES/doc-install.po', 'doc/source/locale/id/LC_MESSAGES/doc-configuration.po', 'openstack_dashboard/locale/brx/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/mai/LC_MESSAGES/django.po', 'openstack_dashboard/locale/it/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_auth/locale/de/LC_MESSAGES/django.po', 'doc/source/locale/eo/LC_MESSAGES/doc-install.po', 'openstack_auth/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_auth/locale/fr/LC_MESSAGES/django.po', 'openstack_auth/locale/ru/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ks/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'openstack_auth/locale/en_GB/LC_MESSAGES/django.po', 'openstack_auth/locale/eo/LC_MESSAGES/django.po', 'doc/source/locale/en_GB/LC_MESSAGES/doc-configuration.po', 'openstack_dashboard/locale/tr_TR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ur/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_AU/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/id/LC_MESSAGES/django.po', 'openstack_dashboard/locale/cs/LC_MESSAGES/django.po', 'openstack_dashboard/locale/gu/LC_MESSAGES/django.po', 'openstack_dashboard/locale/hi/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_auth/locale/ne/LC_MESSAGES/django.po', 'openstack_dashboard/locale/kok/LC_MESSAGES/django.po', 'openstack_dashboard/locale/eo/LC_MESSAGES/django.po']",54,8f3148b39aced75dc425aa63f6701cb26a2313d1,zanata/translations,"""POT-Creation-Date: 2019-09-12 19:38+0000\n""","""POT-Creation-Date: 2019-08-22 20:11+0000\n""#, python-format msgid ""User %s has no role defined for that project."" msgstr ""Uzanto %s ne havas difinitan rolon por tiu projekto."" ",96,316
openstack%2Fneutron~master~I4fe429f7fd938f428fa80d2d51deb755c9c59c91,openstack/neutron,master,I4fe429f7fd938f428fa80d2d51deb755c9c59c91,L3 Conntrack Helper - Release Note,MERGED,2019-07-15 13:49:01.000000000,2019-09-16 12:03:57.000000000,2019-09-16 12:00:44.000000000,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-15 13:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/25e235ffb3c682f897e83bb2ded7274f08879428', 'message': 'L3 Conntrack Helper - Release Note\n\nThe releasenote for the L3 Conntrack helper extension.\n\nRelated-Bug: #1823633\nChange-Id: I4fe429f7fd938f428fa80d2d51deb755c9c59c91\n'}, {'number': 2, 'created': '2019-07-17 08:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0ae814252f4f9803204656fbd7ec3626f03bcfdd', 'message': 'L3 Conntrack Helper - Release Note\n\nThe releasenote for the L3 Conntrack helper extension.\n\nRelated-Bug: #1823633\nChange-Id: I4fe429f7fd938f428fa80d2d51deb755c9c59c91\n'}, {'number': 3, 'created': '2019-07-17 14:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9af655c49212b81e0d80ca95d32a8f0413f54ade', 'message': 'L3 Conntrack Helper - Release Note\n\nThe releasenote for the L3 Conntrack helper extension.\n\nRelated-Bug: #1823633\nChange-Id: I4fe429f7fd938f428fa80d2d51deb755c9c59c91\n'}, {'number': 4, 'created': '2019-08-01 15:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3f56ff28eb43931e7a9b53a56eae4691edb11619', 'message': 'L3 Conntrack Helper - Release Note\n\nThe releasenote for the L3 Conntrack helper extension.\n\nRelated-Bug: #1823633\nChange-Id: I4fe429f7fd938f428fa80d2d51deb755c9c59c91\n'}, {'number': 5, 'created': '2019-08-29 08:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee8c1834a1092429319da8f77ee92b6302674b10', 'message': 'L3 Conntrack Helper - Release Note\n\nThe releasenote for the L3 Conntrack helper extension.\n\nRelated-Bug: #1823633\nChange-Id: I4fe429f7fd938f428fa80d2d51deb755c9c59c91\n'}, {'number': 6, 'created': '2019-09-16 09:10:23.000000000', 'files': ['releasenotes/notes/l3-conntrack-helper-5d3148b575c4ad2f.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c095811afa8a66b30fa8cf34831b83fcb873fe6', 'message': 'L3 Conntrack Helper - Release Note\n\nThe releasenote for the L3 Conntrack helper extension.\n\nRelated-Bug: #1823633\nChange-Id: I4fe429f7fd938f428fa80d2d51deb755c9c59c91\n'}]",2,670836,2c095811afa8a66b30fa8cf34831b83fcb873fe6,38,9,6,24245,,,0,"L3 Conntrack Helper - Release Note

The releasenote for the L3 Conntrack helper extension.

Related-Bug: #1823633
Change-Id: I4fe429f7fd938f428fa80d2d51deb755c9c59c91
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/670836/3 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/l3-conntrack-helper-5d3148b575c4ad2f.yaml'],1,25e235ffb3c682f897e83bb2ded7274f08879428,l3-conntrack-helper,"--- features: - | Support for L3 conntrack helpers has been added. Users can now configure conntrack helper target rules to be set for a ``Router``. This is accomplished by associating a ``conntrack_helper`` sub-resource to a router. To create a ``conntrack_helper``, the user specifies: a router ID, the protocol (TCP or UDP for example), the port number and the conntrack helper module alias (tftp or ftp for example). CRUD operations for ``conntrack_helpers`` are implemented by a Neutron API extension and a service plugin. Please refer to the Neutron API reference documentation for details. A router can have multiple ``conntack_helpers``. The new configuration option ``[l3-conntrack-helpers]/allowed_conntrack_helpers`` allow the operator to configure allowed helpers, and the helper protocol constraints. ",,17,0
openstack%2Fneutron~master~I775aee178cf56f842b3c0a375eda01577840e227,openstack/neutron,master,I775aee178cf56f842b3c0a375eda01577840e227,Implement Floating IP association logic only once,MERGED,2019-09-09 11:10:10.000000000,2019-09-16 12:02:31.000000000,2019-09-16 12:00:40.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-09 11:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0676e3c4bf651873cad2ab78e59cab96a5dc8911', 'message': '[WIP] Implement FIP association logic once\n\nChange-Id: I775aee178cf56f842b3c0a375eda01577840e227\nRelated-Bug: #1842327\n'}, {'number': 2, 'created': '2019-09-10 06:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/df62ae71d06e2763f169afe432036cedcf6a8e44', 'message': 'Implement Floating IP association logic only once\n\nImplement the Floating IP association logic only in one single place,\nL3_NAT_dbonly_mixin._update_fip_assoc(). The dictionary returned will\ninclude a new key, ""association_event"", with values:\n- None: there is no association event. The internal port does not\n  change.\n- True: a new internal port is added to the FIP register. An\n  association event can imply a disassociation event if the FIP register\n  had an existing internal port.\n- False: the previous internal port is removed and no one is added.\n\nChange-Id: I775aee178cf56f842b3c0a375eda01577840e227\nRelated-Bug: #1842327\n'}, {'number': 3, 'created': '2019-09-10 13:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/362fb1ae4019a020c58acceba86a7002ff6e0c60', 'message': 'Implement Floating IP association logic only once\n\nImplement the Floating IP association logic only in one single place,\nL3_NAT_dbonly_mixin._update_fip_assoc(). The dictionary returned will\ninclude a new key, ""association_event"", with values:\n- None: there is no association event. The internal port does not\n  change.\n- True: a new internal port is added to the FIP register. An\n  association event can imply a disassociation event if the FIP register\n  had an existing internal port.\n- False: the previous internal port is removed and no one is added.\n\nChange-Id: I775aee178cf56f842b3c0a375eda01577840e227\nRelated-Bug: #1842327\n'}, {'number': 4, 'created': '2019-09-11 08:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/099e09567744acfb71d6f7cf9fe884e961a14d9a', 'message': 'Implement Floating IP association logic only once\n\nImplement the Floating IP association logic only in one single place,\nL3_NAT_dbonly_mixin._update_fip_assoc(). The dictionary returned will\ninclude a new key, ""association_event"", with values:\n- None: there is no association event. The internal port does not\n  change.\n- True: a new internal port is added to the FIP register. An\n  association event can imply a disassociation event if the FIP register\n  had an existing internal port.\n- False: the previous internal port is removed and no one is added.\n\nChange-Id: I775aee178cf56f842b3c0a375eda01577840e227\nRelated-Bug: #1842327\n'}, {'number': 5, 'created': '2019-09-15 16:23:53.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1947fd65d22bad286ffee987181d0c93772d1a85', 'message': 'Implement Floating IP association logic only once\n\nImplement the Floating IP association logic only in one single place,\nL3_NAT_dbonly_mixin._update_fip_assoc(). The dictionary returned will\ninclude a new key, ""association_event"", with values:\n- None: there is no association event. The internal port does not\n  change.\n- True: a new internal port is added to the FIP register. An\n  association event can imply a disassociation event if the FIP register\n  had an existing internal port.\n- False: the previous internal port is removed and no one is added.\n\nChange-Id: I775aee178cf56f842b3c0a375eda01577840e227\nRelated-Bug: #1842327\n'}]",2,680976,1947fd65d22bad286ffee987181d0c93772d1a85,38,9,5,16688,,,0,"Implement Floating IP association logic only once

Implement the Floating IP association logic only in one single place,
L3_NAT_dbonly_mixin._update_fip_assoc(). The dictionary returned will
include a new key, ""association_event"", with values:
- None: there is no association event. The internal port does not
  change.
- True: a new internal port is added to the FIP register. An
  association event can imply a disassociation event if the FIP register
  had an existing internal port.
- False: the previous internal port is removed and no one is added.

Change-Id: I775aee178cf56f842b3c0a375eda01577840e227
Related-Bug: #1842327
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/680976/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvr_db.py', 'neutron/db/l3_db.py']",2,0676e3c4bf651873cad2ab78e59cab96a5dc8911,bug/1842327," def _update_fip_assoc(self, context, fip, floatingip_obj): association_event = None if floatingip_obj.fixed_port_id != port_id: association_event = True if port_id else False 'context': context, 'association_event': association_event} assoc_result = self._update_fip_assoc(context, fip, floatingip_obj) if assoc_result['association_event']: assoc_result = self._update_fip_assoc(context, fip, floatingip_obj) if assoc_result['association_event'] is not None: 'port_id': port_id, 'assoc': assoc_result['association_event']}) 'association_event': False,"," def _update_fip_assoc(self, context, fip, floatingip_obj, external_port): 'context': context} assoc_result = self._update_fip_assoc( context, fip, floatingip_obj, external_port) if assoc_result['fixed_ip_address'] and assoc_result['fixed_port_id']: assoc_result = self._update_fip_assoc( context, fip, floatingip_obj, self._core_plugin.get_port(context.elevated(), fip_port_id)) if old_fixed_port_id != assoc_result['fixed_port_id']: assoc = ('associated' if assoc_result['fixed_port_id'] else 'disassociated') 'port_id': port_id, 'assoc': assoc})",15,15
openstack%2Fkolla-ansible~stable%2Fstein~I7f10f073e89d2b66367bbb700201b3cd412fc433,openstack/kolla-ansible,stable/stein,I7f10f073e89d2b66367bbb700201b3cd412fc433,CI: Test accessing dashboard,MERGED,2019-08-21 09:22:55.000000000,2019-09-16 11:58:25.000000000,2019-09-16 11:56:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-08-21 09:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2a206e3644d9195a661904f263ed60e4cba253ac', 'message': 'CI: Test accessing dashboard\n\nAlso slightly refactor test-openstack.sh script.\n\nChange-Id: I7f10f073e89d2b66367bbb700201b3cd412fc433\nDepends-On: https://review.opendev.org/677679\nDepends-On: https://review.opendev.org/677675\n(cherry picked from commit 0ded0b712f08e01f728b955f731634c544da9049)\n'}, {'number': 2, 'created': '2019-08-21 13:12:31.000000000', 'files': ['tests/test-openstack.sh', 'tests/run.yml', 'tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c88e3832276cdce608dc6a2939a0048ba587d4fe', 'message': 'CI: Test accessing dashboard\n\nAlso slightly refactor test-openstack.sh script.\n\nChange-Id: I7f10f073e89d2b66367bbb700201b3cd412fc433\nDepends-On: https://review.opendev.org/677679\nDepends-On: https://review.opendev.org/677675\n(cherry picked from commit 90ae7590b6a801eb118e77e3bbde6b1d12998207)\n'}]",0,677684,c88e3832276cdce608dc6a2939a0048ba587d4fe,14,4,2,14826,,,0,"CI: Test accessing dashboard

Also slightly refactor test-openstack.sh script.

Change-Id: I7f10f073e89d2b66367bbb700201b3cd412fc433
Depends-On: https://review.opendev.org/677679
Depends-On: https://review.opendev.org/677675
(cherry picked from commit 90ae7590b6a801eb118e77e3bbde6b1d12998207)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/84/677684/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-openstack.sh', 'tests/run.yml', 'tests/templates/globals-default.j2']",3,2a206e3644d9195a661904f263ed60e4cba253ac,,"kolla_internal_vip_address: ""{{ kolla_internal_vip_address }}""","kolla_internal_vip_address: ""{{ api_interface_address if hostvars | length > 2 else '169.254.169.10' }}""",48,5
openstack%2Foctavia-lib~stable%2Ftrain~Ie6bb1c24979fbbcf6e41b3789377c4a4f6689f4a,openstack/octavia-lib,stable/train,Ie6bb1c24979fbbcf6e41b3789377c4a4f6689f4a,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-09-05 08:41:57.000000000,2019-09-16 11:53:37.000000000,2019-09-16 11:52:11.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-05 08:41:57.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/107133f320d0db0e65d657aa3a04412325199e48', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ie6bb1c24979fbbcf6e41b3789377c4a4f6689f4a\n'}]",0,680334,107133f320d0db0e65d657aa3a04412325199e48,8,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ie6bb1c24979fbbcf6e41b3789377c4a4f6689f4a
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/34/680334/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,107133f320d0db0e65d657aa3a04412325199e48,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Foctavia-lib~master~I8663088d1b912cfdecfdde33585594862f76b9d1,openstack/octavia-lib,master,I8663088d1b912cfdecfdde33585594862f76b9d1,Update master for stable/train,MERGED,2019-09-05 08:41:59.000000000,2019-09-16 11:53:25.000000000,2019-09-16 11:52:12.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-09-05 08:41:59.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/6c660c53693ff33aa59206fe08d837f20d089cd7', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I8663088d1b912cfdecfdde33585594862f76b9d1\nSem-Ver: feature\n'}]",0,680335,6c660c53693ff33aa59206fe08d837f20d089cd7,9,4,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I8663088d1b912cfdecfdde33585594862f76b9d1
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/35/680335/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,6c660c53693ff33aa59206fe08d837f20d089cd7,reno-train, train,,7,0
openstack%2Fkolla~master~I2052e6c9cf1082f238988eeb9f6a20341d2d4886,openstack/kolla,master,I2052e6c9cf1082f238988eeb9f6a20341d2d4886,Remove unneeded Zuul branch matcher,MERGED,2019-09-13 07:27:01.000000000,2019-09-16 11:53:09.000000000,2019-09-16 11:50:10.000000000,"[{'_account_id': 6547}, {'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-13 07:27:01.000000000', 'files': ['.zuul.d/centos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/454d834bce55090f2bb742d35de7e45e476b2f97', 'message': ""Remove unneeded Zuul branch matcher\n\nWe have implicit branch matchers, so there's no need to add a check for\nnot-ocata, this job is only run for the branch it's on - like master\nnow.\n\nRemove it to not confuse Zuul when multiple branches matches and the job\nis different.\n\nChange-Id: I2052e6c9cf1082f238988eeb9f6a20341d2d4886\n""}]",0,681975,454d834bce55090f2bb742d35de7e45e476b2f97,13,5,1,6547,,,0,"Remove unneeded Zuul branch matcher

We have implicit branch matchers, so there's no need to add a check for
not-ocata, this job is only run for the branch it's on - like master
now.

Remove it to not confuse Zuul when multiple branches matches and the job
is different.

Change-Id: I2052e6c9cf1082f238988eeb9f6a20341d2d4886
",git fetch https://review.opendev.org/openstack/kolla refs/changes/75/681975/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/centos.yaml'],1,454d834bce55090f2bb742d35de7e45e476b2f97,no-branches, - kolla-publish-centos-source - kolla-publish-centos-binary, - kolla-publish-centos-source: branches: ^(?!stable/ocata).*$ - kolla-publish-centos-binary: branches: ^(?!stable/ocata).*$,2,4
openstack%2Fpython-octaviaclient~stable%2Ftrain~I743ee243dd43e50be9bd5779270dcb2892ce66fd,openstack/python-octaviaclient,stable/train,I743ee243dd43e50be9bd5779270dcb2892ce66fd,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-09-13 21:49:20.000000000,2019-09-16 11:49:50.000000000,2019-09-16 11:48:44.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-09-13 21:49:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/3e83788739f58b5f3c61989a90be9651dd6f7bf4', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I743ee243dd43e50be9bd5779270dcb2892ce66fd\n'}]",0,682170,3e83788739f58b5f3c61989a90be9651dd6f7bf4,9,4,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I743ee243dd43e50be9bd5779270dcb2892ce66fd
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/70/682170/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3e83788739f58b5f3c61989a90be9651dd6f7bf4,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Foctavia-lib~stable%2Ftrain~I0518c2a4d16c08c2ede505d7bba88c02675557d6,openstack/octavia-lib,stable/train,I0518c2a4d16c08c2ede505d7bba88c02675557d6,Update .gitreview for stable/train,MERGED,2019-09-05 08:41:55.000000000,2019-09-16 11:45:53.000000000,2019-09-16 11:44:43.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-05 08:41:55.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/b9a74d15a5c57cda5211159adbdfd7b7a10345a4', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I0518c2a4d16c08c2ede505d7bba88c02675557d6\n'}]",0,680333,b9a74d15a5c57cda5211159adbdfd7b7a10345a4,8,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I0518c2a4d16c08c2ede505d7bba88c02675557d6
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/33/680333/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,b9a74d15a5c57cda5211159adbdfd7b7a10345a4,create-train,defaultbranch=stable/train,,1,0
openstack%2Fpython-octaviaclient~stable%2Ftrain~Idf44807e5595d13a8744931e32332106a9f201cc,openstack/python-octaviaclient,stable/train,Idf44807e5595d13a8744931e32332106a9f201cc,Update .gitreview for stable/train,MERGED,2019-09-13 21:49:18.000000000,2019-09-16 11:41:01.000000000,2019-09-16 11:40:01.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-13 21:49:18.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/95fa5fe2429fd7eda8f80eb5fa6f53b9b9fc680a', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Idf44807e5595d13a8744931e32332106a9f201cc\n'}]",0,682169,95fa5fe2429fd7eda8f80eb5fa6f53b9b9fc680a,11,6,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Idf44807e5595d13a8744931e32332106a9f201cc
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/69/682169/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,95fa5fe2429fd7eda8f80eb5fa6f53b9b9fc680a,create-train,defaultbranch=stable/train,,1,0
openstack%2Fmanila-ui~stable%2Ftrain~If0d3d740897b1648990bfd76749b9e2b19f0219c,openstack/manila-ui,stable/train,If0d3d740897b1648990bfd76749b9e2b19f0219c,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-09-16 09:22:29.000000000,2019-09-16 11:39:40.000000000,2019-09-16 11:38:08.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 09:22:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/0c0468f02d53b57570c0b82a8a66473b3fd205e0', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: If0d3d740897b1648990bfd76749b9e2b19f0219c\n'}]",0,682312,0c0468f02d53b57570c0b82a8a66473b3fd205e0,7,2,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: If0d3d740897b1648990bfd76749b9e2b19f0219c
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/12/682312/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0c0468f02d53b57570c0b82a8a66473b3fd205e0,create-train,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},2,2
openstack%2Fopenstack-zuul-jobs~master~Ia9fe58ca99da4037f14901927ea1e33f41b5e99b,openstack/openstack-zuul-jobs,master,Ia9fe58ca99da4037f14901927ea1e33f41b5e99b,Start train translations,MERGED,2019-09-14 09:20:04.000000000,2019-09-16 11:39:32.000000000,2019-09-16 11:36:02.000000000,"[{'_account_id': 2}, {'_account_id': 7118}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-14 09:20:04.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/4547a79b7925910c3b6179344d1def30baccde4d', 'message': 'Start train translations\n\nFirst train branches are created, setup translations.\nNote that branches still need to be enabled in translate.openstack.org.\n\nStop rocky translations at same time, the translators have stopped\ntranslating it (two changes in May and June each,\nnone in July, August, September). This saves also CI resources.\n\nChange-Id: Ia9fe58ca99da4037f14901927ea1e33f41b5e99b\n'}]",0,682205,4547a79b7925910c3b6179344d1def30baccde4d,9,4,1,6547,,,0,"Start train translations

First train branches are created, setup translations.
Note that branches still need to be enabled in translate.openstack.org.

Stop rocky translations at same time, the translators have stopped
translating it (two changes in May and June each,
none in July, August, September). This saves also CI resources.

Change-Id: Ia9fe58ca99da4037f14901927ea1e33f41b5e99b
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/05/682205/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,4547a79b7925910c3b6179344d1def30baccde4d,trains-i18n, - stable/train - stable/train, - stable/rocky - stable/rocky,2,2
openstack%2Fmanila-ui~master~I228c7409c8daa39bdc5ac20f9ed56520867c186f,openstack/manila-ui,master,I228c7409c8daa39bdc5ac20f9ed56520867c186f,Update master for stable/train,MERGED,2019-09-16 09:22:31.000000000,2019-09-16 11:36:01.000000000,2019-09-16 11:34:42.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 09:22:31.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/7ebc78543250b064ef237f70a68483919e80d31d', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I228c7409c8daa39bdc5ac20f9ed56520867c186f\nSem-Ver: feature\n'}]",0,682313,7ebc78543250b064ef237f70a68483919e80d31d,7,2,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I228c7409c8daa39bdc5ac20f9ed56520867c186f
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/13/682313/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,7ebc78543250b064ef237f70a68483919e80d31d,reno-train, train,,7,0
openstack%2Fmanila-ui~stable%2Ftrain~I7e28ff2499c936359e3b64e2803d0c3cd4346173,openstack/manila-ui,stable/train,I7e28ff2499c936359e3b64e2803d0c3cd4346173,Update .gitreview for stable/train,MERGED,2019-09-16 09:22:26.000000000,2019-09-16 11:35:57.000000000,2019-09-16 11:34:43.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 09:22:26.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/44c23aa81c247f68ca36ce5d3368badbae5a61f5', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I7e28ff2499c936359e3b64e2803d0c3cd4346173\n'}]",0,682311,44c23aa81c247f68ca36ce5d3368badbae5a61f5,7,2,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I7e28ff2499c936359e3b64e2803d0c3cd4346173
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/11/682311/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,44c23aa81c247f68ca36ce5d3368badbae5a61f5,create-train,defaultbranch=stable/train,,1,0
openstack%2Fos-win~stable%2Fstein~Id7f2d65cb0307bc952f1e6a2724295ea524835f3,openstack/os-win,stable/stein,Id7f2d65cb0307bc952f1e6a2724295ea524835f3,Wait for cluster node to be available,MERGED,2019-09-16 10:31:25.000000000,2019-09-16 11:35:05.000000000,2019-09-16 11:35:05.000000000,"[{'_account_id': 8213}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 10:31:25.000000000', 'files': ['os_win/utils/winapi/constants.py', 'os_win/tests/unit/utils/storage/target/test_iscsi_target_utils.py', 'os_win/utils/compute/clusterutils.py', 'os_win/tests/unit/test_base.py', 'os_win/utils/storage/target/iscsi_target_utils.py', 'os_win/conf.py', 'os_win/tests/unit/test_utils.py', 'os_win/tests/unit/utils/test_win32utils.py', 'os_win/utils/win32utils.py', 'os_win/tests/unit/utils/compute/test_clusterutils.py', 'os_win/_utils.py'], 'web_link': 'https://opendev.org/openstack/os-win/commit/027749c401a73f4561d8542cdcaf5672ac9f4ee2', 'message': 'Wait for cluster node to be available\n\nAfter a reboot, the Failover Cluster WMI provider may be unavailable.\nThis change will wait for it when initializing clusterutils, having\na configurable timeout defaulting to infinite.\n\nCloses-Bug: #1841779\n\nChange-Id: Id7f2d65cb0307bc952f1e6a2724295ea524835f3\n(cherry picked from commit b6ce9b33ddaa7a1ab5df09fba775c4a5462feae1)\n'}]",0,682334,027749c401a73f4561d8542cdcaf5672ac9f4ee2,6,2,1,8543,,,0,"Wait for cluster node to be available

After a reboot, the Failover Cluster WMI provider may be unavailable.
This change will wait for it when initializing clusterutils, having
a configurable timeout defaulting to infinite.

Closes-Bug: #1841779

Change-Id: Id7f2d65cb0307bc952f1e6a2724295ea524835f3
(cherry picked from commit b6ce9b33ddaa7a1ab5df09fba775c4a5462feae1)
",git fetch https://review.opendev.org/openstack/os-win refs/changes/34/682334/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_win/utils/winapi/constants.py', 'os_win/tests/unit/utils/storage/target/test_iscsi_target_utils.py', 'os_win/tests/unit/test_base.py', 'os_win/utils/compute/clusterutils.py', 'os_win/utils/storage/target/iscsi_target_utils.py', 'os_win/conf.py', 'os_win/tests/unit/test_utils.py', 'os_win/tests/unit/utils/test_win32utils.py', 'os_win/utils/win32utils.py', 'os_win/tests/unit/utils/compute/test_clusterutils.py', 'os_win/_utils.py']",11,027749c401a73f4561d8542cdcaf5672ac9f4ee2,bug/1841779-stable/train-stable/stein," pass_retry_context=False, extract_err_code_func=None): :param extract_err_code_func: Optional helper function that extracts the error code from the exception. if extract_err_code_func: err_code = extract_err_code_func(exc) else: err_code = getattr(exc, 'error_code', None) def wmi_retry_decorator(exceptions=exceptions.x_wmi, **kwargs): """"""Retry decorator that can be used for specific WMI error codes. This function will extract the error code from the hresult. Use wmi_retry_decorator_hresult if you want the original hresult to be checked. """""" def err_code_func(exc): com_error = getattr(exc, 'com_error', None) if com_error: return get_com_error_code(com_error) return retry_decorator(extract_err_code_func=err_code_func, exceptions=exceptions, **kwargs) def wmi_retry_decorator_hresult(exceptions=exceptions.x_wmi, **kwargs): """"""Retry decorator that can be used for specific WMI HRESULTs"""""" def err_code_func(exc): com_error = getattr(exc, 'com_error', None) if com_error: return get_com_error_hresult(com_error) return retry_decorator(extract_err_code_func=err_code_func, exceptions=exceptions, **kwargs) def hresult_to_err_code(hresult): # The last 2 bytes of the hresult store the error code. return hresult & 0xFFFF def get_com_error_code(com_error): hres = get_com_error_hresult(com_error) if hres is not None: return hresult_to_err_code(hres) "," pass_retry_context=False): err_code = getattr(exc, 'error_code', None)",150,56
openstack%2Fnova~master~Ic3a3443c3ca0dfec7ddb2c6d6eb3ef1203340f9f,openstack/nova,master,Ic3a3443c3ca0dfec7ddb2c6d6eb3ef1203340f9f,[DNM] test with dedicated cpus only,ABANDONED,2019-09-12 16:43:14.000000000,2019-09-16 11:18:07.000000000,,"[{'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-12 16:43:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0196c510ce94664d57703fc587c9d7b9db59b067', 'message': '[DNM] test with dedicated cpus only\n\nChange-Id: Ic3a3443c3ca0dfec7ddb2c6d6eb3ef1203340f9f\n'}, {'number': 2, 'created': '2019-09-12 17:39:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/8b2050f435ad361daa7b49a6a16519a997de9e16', 'message': '[DNM] test with dedicated cpus only\n\nChange-Id: Ic3a3443c3ca0dfec7ddb2c6d6eb3ef1203340f9f\n'}]",0,681827,8b2050f435ad361daa7b49a6a16519a997de9e16,25,12,2,11604,,,0,"[DNM] test with dedicated cpus only

Change-Id: Ic3a3443c3ca0dfec7ddb2c6d6eb3ef1203340f9f
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/681827/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0196c510ce94664d57703fc587c9d7b9db59b067,bp/cpu-resources,# cpu_shared_set: 0# cpu_shared_set: 0, cpu_shared_set: 0 cpu_shared_set: 0,2,2
openstack%2Fnova~master~I5bc7c66ff16b55e72ba12e24f0f0791988bbf5bc,openstack/nova,master,I5bc7c66ff16b55e72ba12e24f0f0791988bbf5bc,[DNM] legacy vcpu_pin_set pinning with shared emulator threads,ABANDONED,2019-09-12 17:08:06.000000000,2019-09-16 11:17:57.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-12 17:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71538b51f2812a435c78e3454f74f415c9979243', 'message': '[DNM] legacy vcpu_pin_set pinning with shared emulator threads\n\nChange-Id: I5bc7c66ff16b55e72ba12e24f0f0791988bbf5bc\n'}, {'number': 2, 'created': '2019-09-12 17:39:46.000000000', 'files': ['playbooks/nfv/pinning.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/1566a163817315cd6de68698702fedc1fcd814fc', 'message': '[DNM] legacy vcpu_pin_set pinning with shared emulator threads\n\nChange-Id: I5bc7c66ff16b55e72ba12e24f0f0791988bbf5bc\n'}]",0,681840,1566a163817315cd6de68698702fedc1fcd814fc,26,13,2,11604,,,0,"[DNM] legacy vcpu_pin_set pinning with shared emulator threads

Change-Id: I5bc7c66ff16b55e72ba12e24f0f0791988bbf5bc
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/681840/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/nfv/pinning.yaml', '.zuul.yaml']",2,71538b51f2812a435c78e3454f74f415c9979243,bp/cpu-resources, DEFAULT: vcpu_pin_set: 1-7 compute: cpu_shared_set: 0 DEFAULT: vcpu_pin_set: 1-7 compute: cpu_shared_set: 0, compute: # cpu_shared_set: 0 cpu_dedicated_set: 1-7 compute: # cpu_shared_set: 0 cpu_dedicated_set: 1-7,8,5
openstack%2Fnova~master~Ic20ec76a1aa5c7d82b9770caadaf9b2dd1fa5bf7,openstack/nova,master,Ic20ec76a1aa5c7d82b9770caadaf9b2dd1fa5bf7,[DNM] testing with new lable.,ABANDONED,2019-09-06 16:08:36.000000000,2019-09-16 11:15:42.000000000,,"[{'_account_id': 4146}, {'_account_id': 8864}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-06 16:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d21486af589d70f853bb14a3f7a6d952d2d751ff', 'message': '[DNM] testing with new lable.\n\nChange-Id: Ic20ec76a1aa5c7d82b9770caadaf9b2dd1fa5bf7\n'}, {'number': 2, 'created': '2019-09-11 11:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b128e80499f550a7e06dfd37d9f1e605e6323795', 'message': '[DNM] testing with new lable.\n\nChange-Id: Ic20ec76a1aa5c7d82b9770caadaf9b2dd1fa5bf7\n'}, {'number': 3, 'created': '2019-09-11 15:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3445d6e10b9fa5b3a21c95e4dca7c977fd4a46e4', 'message': '[DNM] testing with new lable.\n\nChange-Id: Ic20ec76a1aa5c7d82b9770caadaf9b2dd1fa5bf7\n'}, {'number': 4, 'created': '2019-09-11 15:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9dbd9729ddd14812104a42f879d458127d30d7c8', 'message': '[DNM] testing with new lable.\n\nChange-Id: Ic20ec76a1aa5c7d82b9770caadaf9b2dd1fa5bf7\n'}, {'number': 5, 'created': '2019-09-11 18:24:47.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/6c30fc8b950f4d57232f71d5655c1fcb0975354a', 'message': '[DNM] testing with new lable.\n\nChange-Id: Ic20ec76a1aa5c7d82b9770caadaf9b2dd1fa5bf7\n'}]",0,680738,6c30fc8b950f4d57232f71d5655c1fcb0975354a,58,13,5,11604,,,0,"[DNM] testing with new lable.

Change-Id: Ic20ec76a1aa5c7d82b9770caadaf9b2dd1fa5bf7
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/680738/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d21486af589d70f853bb14a3f7a6d952d2d751ff,bp/numa-aware-live-migration,"# - integrated-gate-compute # - openstack-cover-jobs # - openstack-lower-constraints-jobs # - openstack-python-jobs # - openstack-python3-train-jobs # - periodic-stable-jobs # - publish-openstack-docs-pti # - release-notes-jobs-python3# # We define our own irrelevant-files so we don't run the job # # on things like nova docs-only changes. # - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: # voting: false # irrelevant-files: *dsvm-irrelevant-files # - devstack-plugin-ceph-tempest: # voting: false # irrelevant-files: *dsvm-irrelevant-files # - neutron-grenade-multinode: # irrelevant-files: *dsvm-irrelevant-files # - neutron-tempest-linuxbridge: # irrelevant-files: # # NOTE(mriedem): This job has its own irrelevant-files section # # so that we only run it on changes to networking and libvirt/vif # # code; we don't need to run this on all changes, nor do we run # # it in the gate. # - ^(?!nova/network/.*)(?!nova/virt/libvirt/vif.py).*$ # - nova-grenade-multinode # - nova-live-migration # - nova-lvm # - nova-multi-cell # - nova-next # - nova-tox-functional # - nova-tox-functional-py36 # - tempest-integrated-compute: # irrelevant-files: *dsvm-irrelevant-files # - tempest-slow-py3: # irrelevant-files: *dsvm-irrelevant-files # - grenade-py3: # irrelevant-files: *dsvm-irrelevant-files # - tempest-ipv6-only: # irrelevant-files: *dsvm-irrelevant-files - nova-nfv-multi-numa-multinode"," - integrated-gate-compute - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python-jobs - openstack-python3-train-jobs - periodic-stable-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 # We define our own irrelevant-files so we don't run the job # on things like nova docs-only changes. - ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false irrelevant-files: *dsvm-irrelevant-files - devstack-plugin-ceph-tempest: voting: false irrelevant-files: *dsvm-irrelevant-files - neutron-grenade-multinode: irrelevant-files: *dsvm-irrelevant-files - neutron-tempest-linuxbridge: irrelevant-files: # NOTE(mriedem): This job has its own irrelevant-files section # so that we only run it on changes to networking and libvirt/vif # code; we don't need to run this on all changes, nor do we run # it in the gate. - ^(?!nova/network/.*)(?!nova/virt/libvirt/vif.py).*$ - nova-grenade-multinode - nova-live-migration - nova-lvm - nova-multi-cell - nova-next - nova-tox-functional - nova-tox-functional-py36 - tempest-integrated-compute: irrelevant-files: *dsvm-irrelevant-files - tempest-slow-py3: irrelevant-files: *dsvm-irrelevant-files - grenade-py3: irrelevant-files: *dsvm-irrelevant-files - tempest-ipv6-only: irrelevant-files: *dsvm-irrelevant-files",41,40
openstack%2Fos-win~stable%2Ftrain~Id7f2d65cb0307bc952f1e6a2724295ea524835f3,openstack/os-win,stable/train,Id7f2d65cb0307bc952f1e6a2724295ea524835f3,Wait for cluster node to be available,MERGED,2019-09-16 10:31:10.000000000,2019-09-16 10:53:28.000000000,2019-09-16 10:53:28.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 10:31:10.000000000', 'files': ['os_win/utils/winapi/constants.py', 'os_win/tests/unit/utils/storage/target/test_iscsi_target_utils.py', 'os_win/utils/compute/clusterutils.py', 'os_win/tests/unit/test_base.py', 'os_win/utils/storage/target/iscsi_target_utils.py', 'os_win/conf.py', 'os_win/tests/unit/test_utils.py', 'os_win/tests/unit/utils/test_win32utils.py', 'os_win/utils/win32utils.py', 'os_win/tests/unit/utils/compute/test_clusterutils.py', 'os_win/_utils.py'], 'web_link': 'https://opendev.org/openstack/os-win/commit/c5450ed0b5842b959ef0a42adf7a0d9d63db23dc', 'message': 'Wait for cluster node to be available\n\nAfter a reboot, the Failover Cluster WMI provider may be unavailable.\nThis change will wait for it when initializing clusterutils, having\na configurable timeout defaulting to infinite.\n\nCloses-Bug: #1841779\n\nChange-Id: Id7f2d65cb0307bc952f1e6a2724295ea524835f3\n(cherry picked from commit b6ce9b33ddaa7a1ab5df09fba775c4a5462feae1)\n'}]",0,682333,c5450ed0b5842b959ef0a42adf7a0d9d63db23dc,8,3,1,8543,,,0,"Wait for cluster node to be available

After a reboot, the Failover Cluster WMI provider may be unavailable.
This change will wait for it when initializing clusterutils, having
a configurable timeout defaulting to infinite.

Closes-Bug: #1841779

Change-Id: Id7f2d65cb0307bc952f1e6a2724295ea524835f3
(cherry picked from commit b6ce9b33ddaa7a1ab5df09fba775c4a5462feae1)
",git fetch https://review.opendev.org/openstack/os-win refs/changes/33/682333/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_win/utils/winapi/constants.py', 'os_win/tests/unit/utils/storage/target/test_iscsi_target_utils.py', 'os_win/tests/unit/test_base.py', 'os_win/utils/compute/clusterutils.py', 'os_win/utils/storage/target/iscsi_target_utils.py', 'os_win/conf.py', 'os_win/tests/unit/test_utils.py', 'os_win/tests/unit/utils/test_win32utils.py', 'os_win/utils/win32utils.py', 'os_win/tests/unit/utils/compute/test_clusterutils.py', 'os_win/_utils.py']",11,c5450ed0b5842b959ef0a42adf7a0d9d63db23dc,bug/1841779-stable/train," pass_retry_context=False, extract_err_code_func=None): :param extract_err_code_func: Optional helper function that extracts the error code from the exception. if extract_err_code_func: err_code = extract_err_code_func(exc) else: err_code = getattr(exc, 'error_code', None) def wmi_retry_decorator(exceptions=exceptions.x_wmi, **kwargs): """"""Retry decorator that can be used for specific WMI error codes. This function will extract the error code from the hresult. Use wmi_retry_decorator_hresult if you want the original hresult to be checked. """""" def err_code_func(exc): com_error = getattr(exc, 'com_error', None) if com_error: return get_com_error_code(com_error) return retry_decorator(extract_err_code_func=err_code_func, exceptions=exceptions, **kwargs) def wmi_retry_decorator_hresult(exceptions=exceptions.x_wmi, **kwargs): """"""Retry decorator that can be used for specific WMI HRESULTs"""""" def err_code_func(exc): com_error = getattr(exc, 'com_error', None) if com_error: return get_com_error_hresult(com_error) return retry_decorator(extract_err_code_func=err_code_func, exceptions=exceptions, **kwargs) def hresult_to_err_code(hresult): # The last 2 bytes of the hresult store the error code. return hresult & 0xFFFF def get_com_error_code(com_error): hres = get_com_error_hresult(com_error) if hres is not None: return hresult_to_err_code(hres) "," pass_retry_context=False): err_code = getattr(exc, 'error_code', None)",150,56
openstack%2Fnetworking-hyperv~stable%2Ftrain~Id4630dad5ede3e1240c856fd48f5a34df5d73c76,openstack/networking-hyperv,stable/train,Id4630dad5ede3e1240c856fd48f5a34df5d73c76,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-09-13 15:07:51.000000000,2019-09-16 10:44:35.000000000,2019-09-16 10:41:57.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-13 15:07:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/8621acf755311eca88009758d44bbe1842973b2f', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Id4630dad5ede3e1240c856fd48f5a34df5d73c76\n'}]",0,682080,8621acf755311eca88009758d44bbe1842973b2f,7,2,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Id4630dad5ede3e1240c856fd48f5a34df5d73c76
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/80/682080/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8621acf755311eca88009758d44bbe1842973b2f,create-train,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fnetworking-hyperv~master~I634e99269770a4f4f0ca1dcc2d67e46b1fc17ca4,openstack/networking-hyperv,master,I634e99269770a4f4f0ca1dcc2d67e46b1fc17ca4,Update master for stable/train,MERGED,2019-09-13 15:07:54.000000000,2019-09-16 10:42:11.000000000,2019-09-16 10:39:14.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-13 15:07:54.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/1f45e1c35170d503298602f9b94a3adf5bc26051', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I634e99269770a4f4f0ca1dcc2d67e46b1fc17ca4\nSem-Ver: feature\n'}]",0,682081,1f45e1c35170d503298602f9b94a3adf5bc26051,7,2,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I634e99269770a4f4f0ca1dcc2d67e46b1fc17ca4
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/81/682081/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,1f45e1c35170d503298602f9b94a3adf5bc26051,reno-train, train,,7,0
openstack%2Fnetworking-hyperv~stable%2Ftrain~Ie3b453dc7f0314f2ee1094a2ab37ef8ed5fdba51,openstack/networking-hyperv,stable/train,Ie3b453dc7f0314f2ee1094a2ab37ef8ed5fdba51,Update .gitreview for stable/train,MERGED,2019-09-13 15:07:48.000000000,2019-09-16 10:39:55.000000000,2019-09-16 10:39:55.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-13 15:07:48.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/2f8100b455d7059844281304b07a1ccb66d561ad', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ie3b453dc7f0314f2ee1094a2ab37ef8ed5fdba51\n'}]",0,682079,2f8100b455d7059844281304b07a1ccb66d561ad,6,2,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ie3b453dc7f0314f2ee1094a2ab37ef8ed5fdba51
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/79/682079/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,2f8100b455d7059844281304b07a1ccb66d561ad,create-train,defaultbranch=stable/train,,1,0
openstack%2Fos-win~master~Id7f2d65cb0307bc952f1e6a2724295ea524835f3,openstack/os-win,master,Id7f2d65cb0307bc952f1e6a2724295ea524835f3,Wait for cluster node to be available,MERGED,2019-08-28 09:02:02.000000000,2019-09-16 10:34:32.000000000,2019-09-13 19:42:26.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-28 09:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/bbdb54543e358f40ce9eb028d62e453bb89f5418', 'message': 'WIP: Wait for cluster node to be available\n\nAfter a reboot, the Failover Cluster WMI provider may be unavailable.\nThis change will wait for it when initializing clusterutils, having\na configurable timeout defaulting to infinite.\n\nChange-Id: Id7f2d65cb0307bc952f1e6a2724295ea524835f3\n'}, {'number': 2, 'created': '2019-08-28 10:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/cc29a95241e0bd176e0ee9d22b5690a82ecb0c96', 'message': 'WIP: Wait for cluster node to be available\n\nAfter a reboot, the Failover Cluster WMI provider may be unavailable.\nThis change will wait for it when initializing clusterutils, having\na configurable timeout defaulting to infinite.\n\nChange-Id: Id7f2d65cb0307bc952f1e6a2724295ea524835f3\n'}, {'number': 3, 'created': '2019-08-28 11:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/457d287d4e920adb4d38150f0478ed46d300eecc', 'message': 'WIP: Wait for cluster node to be available\n\nAfter a reboot, the Failover Cluster WMI provider may be unavailable.\nThis change will wait for it when initializing clusterutils, having\na configurable timeout defaulting to infinite.\n\nChange-Id: Id7f2d65cb0307bc952f1e6a2724295ea524835f3\n'}, {'number': 4, 'created': '2019-08-28 13:14:34.000000000', 'files': ['os_win/utils/winapi/constants.py', 'os_win/tests/unit/utils/storage/target/test_iscsi_target_utils.py', 'os_win/utils/compute/clusterutils.py', 'os_win/tests/unit/test_base.py', 'os_win/utils/storage/target/iscsi_target_utils.py', 'os_win/conf.py', 'os_win/tests/unit/test_utils.py', 'os_win/tests/unit/utils/test_win32utils.py', 'os_win/utils/win32utils.py', 'os_win/tests/unit/utils/compute/test_clusterutils.py', 'os_win/_utils.py'], 'web_link': 'https://opendev.org/openstack/os-win/commit/b6ce9b33ddaa7a1ab5df09fba775c4a5462feae1', 'message': 'Wait for cluster node to be available\n\nAfter a reboot, the Failover Cluster WMI provider may be unavailable.\nThis change will wait for it when initializing clusterutils, having\na configurable timeout defaulting to infinite.\n\nCloses-Bug: #1841779\n\nChange-Id: Id7f2d65cb0307bc952f1e6a2724295ea524835f3\n'}]",2,679014,b6ce9b33ddaa7a1ab5df09fba775c4a5462feae1,16,3,4,8543,,,0,"Wait for cluster node to be available

After a reboot, the Failover Cluster WMI provider may be unavailable.
This change will wait for it when initializing clusterutils, having
a configurable timeout defaulting to infinite.

Closes-Bug: #1841779

Change-Id: Id7f2d65cb0307bc952f1e6a2724295ea524835f3
",git fetch https://review.opendev.org/openstack/os-win refs/changes/14/679014/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_win/utils/winapi/constants.py', 'os_win/tests/unit/utils/storage/target/test_iscsi_target_utils.py', 'os_win/tests/unit/test_base.py', 'os_win/utils/compute/clusterutils.py', 'os_win/utils/storage/target/iscsi_target_utils.py', 'os_win/conf.py', 'os_win/tests/unit/test_utils.py', 'os_win/tests/unit/utils/test_win32utils.py', 'os_win/utils/win32utils.py', 'os_win/_utils.py']",10,bbdb54543e358f40ce9eb028d62e453bb89f5418,bug/1841779," pass_retry_context=False, extract_err_code_func=None): :param extract_err_code_func: Optional helper function that extracts the error code from the exception. if extract_err_code_func: err_code = extract_err_code_func(exc) else: err_code = getattr(exc, 'error_code', None) def wmi_retry_decorator(exceptions=exceptions.x_wmi, **kwargs): """"""Retry decorator that can be used for specific WMI error codes. This function will extract the error code from the hresult. Use wmi_retry_decorator_hresult if you want the original hresult to be checked. """""" def err_code_func(exc): com_error = getattr(exc, 'com_error', None) if com_error: return get_com_error_code(com_error) return retry_decorator(extract_err_code_func=err_code_func, exceptions=exceptions, **kwargs) def wmi_retry_decorator_hresult(exceptions=exceptions.x_wmi, **kwargs): """"""Retry decorator that can be used for specific WMI HRESULTs"""""" def err_code_func(exc): com_error = getattr(exc, 'com_error', None) if com_error: return get_com_error_hresult(com_error) return retry_decorator(extract_err_code_func=err_code_func, exceptions=exceptions, **kwargs) def hresult_to_err_code(hresult): # The last 2 bytes of the hresult store the error code. return hresult & 0xFFFF def get_com_error_code(com_error): hres = get_com_error_hresult(com_error) if hres is not None: return hresult_to_err_code(hres) "," pass_retry_context=False): err_code = getattr(exc, 'error_code', None)",146,54
openstack%2Fpuppet-tripleo~stable%2Frocky~I42033be840ba41e9944af65815a63059834144e9,openstack/puppet-tripleo,stable/rocky,I42033be840ba41e9944af65815a63059834144e9,Implement stonith levels and enable kdump agent.,MERGED,2019-09-13 06:00:56.000000000,2019-09-16 10:19:06.000000000,2019-09-16 10:19:06.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2019-09-13 06:00:56.000000000', 'files': ['manifests/fencing.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9e877d970d821ba2d96d007df11d22aacd4622d9', 'message': 'Implement stonith levels and enable kdump agent.\n\nThis commit extends the stonith generation logic to allow operators\nto make use of fencing levels.\nGiven a fence.yaml file like the following:\n\nparameter_defaults:\n  EnableFencing: true\n  FencingConfig:\n    devices:\n      level1:\n      - agent: fence_agent1\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someparam: somevalue\n      level2:\n      - agent: fence_agent2\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someotherparam: someothervalue\n\nThe code iterates over the ""levelX"" key and creates the respective\nstonith resources and adds them to the specified stonith level.\n\nIt should be backwards compatible since it checks if ""devices"" is\nan array (no level specified) and reconducts this case to level=1.\n\nExample results below.\n\n* without levels:*\n\nhieradata:\n\n    ""tripleo::fencing::config"": {\n        ""devices"": [\n            {\n                ""agent"": ""fence_ipmilan"",\n                ""host_mac"": ""e4:43:4b:4b:c8:19"",\n\n[root@overcloud-controller-0]# pcs status\n...\n\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n\n[root@overcloud-controller-0]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n\n* with levels: *\n\nhieradata:\n\n    ""tripleo::fencing::config"": {\n        ""devices"": {\n            ""level1"": [\n               {\n               ""agent"": ""fence_ipmilan"",\n               ""host_mac"": ""e4:43:4b:4b:c8:19"",\n            ...\n            ""level2"": [\n               {\n               ""agent"": ""fence_kdump"",\n               ""host_mac"": ""e4:43:4b:4b:c8:19"",\n\n[root@overcloud-controller-0 ]# pcs status\n...\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n stonith-fence_kdump-e4434b4bc819       (stonith:fence_kdump):  Started overcloud-controller-2\n\n[root@overcloud-controller-0 ]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n  Level 2 - stonith-fence_kdump-e4434b4bc819\n\nChange-Id: I42033be840ba41e9944af65815a63059834144e9\n(cherry picked from commit bacfec8647ad487e1ab486061b07f026198fd804)\n'}]",0,681967,9e877d970d821ba2d96d007df11d22aacd4622d9,10,4,1,30126,,,0,"Implement stonith levels and enable kdump agent.

This commit extends the stonith generation logic to allow operators
to make use of fencing levels.
Given a fence.yaml file like the following:

parameter_defaults:
  EnableFencing: true
  FencingConfig:
    devices:
      level1:
      - agent: fence_agent1
        host_mac: aa:bb:cc:dd:ee:ff
        params:
          someparam: somevalue
      level2:
      - agent: fence_agent2
        host_mac: aa:bb:cc:dd:ee:ff
        params:
          someotherparam: someothervalue

The code iterates over the ""levelX"" key and creates the respective
stonith resources and adds them to the specified stonith level.

It should be backwards compatible since it checks if ""devices"" is
an array (no level specified) and reconducts this case to level=1.

Example results below.

* without levels:*

hieradata:

    ""tripleo::fencing::config"": {
        ""devices"": [
            {
                ""agent"": ""fence_ipmilan"",
                ""host_mac"": ""e4:43:4b:4b:c8:19"",

[root@overcloud-controller-0]# pcs status
...

 stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1

[root@overcloud-controller-0]# pcs stonith level
Target: overcloud-controller-0
  Level 1 - stonith-fence_ipmilan-e4434b4bc819

* with levels: *

hieradata:

    ""tripleo::fencing::config"": {
        ""devices"": {
            ""level1"": [
               {
               ""agent"": ""fence_ipmilan"",
               ""host_mac"": ""e4:43:4b:4b:c8:19"",
            ...
            ""level2"": [
               {
               ""agent"": ""fence_kdump"",
               ""host_mac"": ""e4:43:4b:4b:c8:19"",

[root@overcloud-controller-0 ]# pcs status
...
 stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1
 stonith-fence_kdump-e4434b4bc819       (stonith:fence_kdump):  Started overcloud-controller-2

[root@overcloud-controller-0 ]# pcs stonith level
Target: overcloud-controller-0
  Level 1 - stonith-fence_ipmilan-e4434b4bc819
  Level 2 - stonith-fence_kdump-e4434b4bc819

Change-Id: I42033be840ba41e9944af65815a63059834144e9
(cherry picked from commit bacfec8647ad487e1ab486061b07f026198fd804)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/67/681967/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/fencing.pp'],1,9e877d970d821ba2d96d007df11d22aacd4622d9,fencing-topology-stable/rocky," # check if instanceha is enabled $content = $config['devices'] # check if the devices: section in fence.yaml contains levels. # if it doesn't, assume level=1 an build a hash with the content. if is_array($content) { $all_levels = {'level1' => $content} } else { $all_levels = $content } $all_levels.each |$index, $levelx_devices |{ $level = regsubst($index, 'level', '', 'G') $all_devices = $levelx_devices if $::uuid != 'docker' and $::deployment_type != 'containers' { $xvm_devices = local_fence_devices('fence_xvm', $all_devices) create_resources('pacemaker::stonith::fence_xvm', $xvm_devices, $common_params) } $ironic_devices = local_fence_devices('fence_ironic', $all_devices) create_resources('pacemaker::stonith::fence_ironic', $ironic_devices, $common_params) $redfish_devices = local_fence_devices('fence_redfish', $all_devices) create_resources('pacemaker::stonith::fence_redfish', $redfish_devices, $common_params) $ipmilan_devices = local_fence_devices('fence_ipmilan', $all_devices) create_resources('pacemaker::stonith::fence_ipmilan', $ipmilan_devices, $common_params) $kdump_devices = local_fence_devices('fence_kdump', $all_devices) create_resources('pacemaker::stonith::fence_kdump', $kdump_devices, $common_params) $rhev_devices = local_fence_devices('fence_rhevm', $all_devices) create_resources('pacemaker::stonith::fence_rhevm', $rhev_devices, $common_params) $data = { 'xvm' => $xvm_devices, 'ironic' => $ironic_devices, 'redfish' => $redfish_devices, 'ipmilan' => $ipmilan_devices, 'kdump' => $kdump_devices, 'rhevm' => $rhev_devices } $data.each |$items| { $driver = $items[0] $driver_devices = $items[1] if length($driver_devices) == 1 { $mac = keys($driver_devices)[0] $safe_mac = regsubst($mac, ':', '', 'G') if ($enable_instanceha and $is_compute_instanceha_node) { $stonith_resources = [ ""stonith-fence_${driver}-${safe_mac}"", 'stonith-fence_compute-fence-nova' ] } else { $stonith_resources = [ ""stonith-fence_${driver}-${safe_mac}"" ] } pacemaker::stonith::level{ ""stonith-${level}-${safe_mac}"": level => $level, target => '$(/usr/sbin/crm_node -n)', stonith_resources => $stonith_resources, tries => $tries, try_sleep => $try_sleep, } } } } } "," # We will create stonith levels *only* if the node is a compute instanceha one $all_devices = $config['devices'] if $::uuid != 'docker' and $::deployment_type != 'containers' { $xvm_devices = local_fence_devices('fence_xvm', $all_devices) create_resources('pacemaker::stonith::fence_xvm', $xvm_devices, $common_params) } $redfish_devices = local_fence_devices('fence_redfish', $all_devices) create_resources('pacemaker::stonith::fence_redfish', $redfish_devices, $common_params) $ipmilan_devices = local_fence_devices('fence_ipmilan', $all_devices) create_resources('pacemaker::stonith::fence_ipmilan', $ipmilan_devices, $common_params) if ($enable_instanceha and $is_compute_instanceha_node) { if length($ipmilan_devices) < 1 { fail('You must specify an IPmilan device for a host when configuring instance HA') } if length($ipmilan_devices) > 1 { fail('Multiple IPmilan devices for a single host are not supported with instance HA') } # Get the first (and only) key which is the mac-address $mac = keys($ipmilan_devices)[0] $safe_mac = regsubst($mac, ':', '', 'G') $stonith_resources = [ ""stonith-fence_ipmilan-${safe_mac}"", 'stonith-fence_compute-fence-nova' ] Pcmk_stonith <||> -> Pcmk_stonith_level <||> pacemaker::stonith::level{ ""stonith-level-${safe_mac}"": level => 1, target => '$(/usr/sbin/crm_node -n)', stonith_resources => $stonith_resources, tries => $tries, try_sleep => $try_sleep, } } $ironic_devices = local_fence_devices('fence_ironic', $all_devices) create_resources('pacemaker::stonith::fence_ironic', $ironic_devices, $common_params) $rhev_devices = local_fence_devices('fence_rhevm', $all_devices) create_resources('pacemaker::stonith::fence_rhevm', $rhev_devices, $common_params) }",59,33
openstack%2Fpuppet-tripleo~stable%2Fstein~I42033be840ba41e9944af65815a63059834144e9,openstack/puppet-tripleo,stable/stein,I42033be840ba41e9944af65815a63059834144e9,Implement stonith levels and enable kdump agent.,MERGED,2019-09-13 06:00:15.000000000,2019-09-16 10:14:32.000000000,2019-09-16 10:14:32.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2019-09-13 06:00:15.000000000', 'files': ['manifests/fencing.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/da816058f27219b438ad5fc33f3591580b23850b', 'message': 'Implement stonith levels and enable kdump agent.\n\nThis commit extends the stonith generation logic to allow operators\nto make use of fencing levels.\nGiven a fence.yaml file like the following:\n\nparameter_defaults:\n  EnableFencing: true\n  FencingConfig:\n    devices:\n      level1:\n      - agent: fence_agent1\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someparam: somevalue\n      level2:\n      - agent: fence_agent2\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someotherparam: someothervalue\n\nThe code iterates over the ""levelX"" key and creates the respective\nstonith resources and adds them to the specified stonith level.\n\nIt should be backwards compatible since it checks if ""devices"" is\nan array (no level specified) and reconducts this case to level=1.\n\nExample results below.\n\n* without levels:*\n\nhieradata:\n\n    ""tripleo::fencing::config"": {\n        ""devices"": [\n            {\n                ""agent"": ""fence_ipmilan"",\n                ""host_mac"": ""e4:43:4b:4b:c8:19"",\n\n[root@overcloud-controller-0]# pcs status\n...\n\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n\n[root@overcloud-controller-0]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n\n* with levels: *\n\nhieradata:\n\n    ""tripleo::fencing::config"": {\n        ""devices"": {\n            ""level1"": [\n               {\n               ""agent"": ""fence_ipmilan"",\n               ""host_mac"": ""e4:43:4b:4b:c8:19"",\n            ...\n            ""level2"": [\n               {\n               ""agent"": ""fence_kdump"",\n               ""host_mac"": ""e4:43:4b:4b:c8:19"",\n\n[root@overcloud-controller-0 ]# pcs status\n...\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n stonith-fence_kdump-e4434b4bc819       (stonith:fence_kdump):  Started overcloud-controller-2\n\n[root@overcloud-controller-0 ]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n  Level 2 - stonith-fence_kdump-e4434b4bc819\n\nChange-Id: I42033be840ba41e9944af65815a63059834144e9\n(cherry picked from commit bacfec8647ad487e1ab486061b07f026198fd804)\n'}]",0,681966,da816058f27219b438ad5fc33f3591580b23850b,10,4,1,30126,,,0,"Implement stonith levels and enable kdump agent.

This commit extends the stonith generation logic to allow operators
to make use of fencing levels.
Given a fence.yaml file like the following:

parameter_defaults:
  EnableFencing: true
  FencingConfig:
    devices:
      level1:
      - agent: fence_agent1
        host_mac: aa:bb:cc:dd:ee:ff
        params:
          someparam: somevalue
      level2:
      - agent: fence_agent2
        host_mac: aa:bb:cc:dd:ee:ff
        params:
          someotherparam: someothervalue

The code iterates over the ""levelX"" key and creates the respective
stonith resources and adds them to the specified stonith level.

It should be backwards compatible since it checks if ""devices"" is
an array (no level specified) and reconducts this case to level=1.

Example results below.

* without levels:*

hieradata:

    ""tripleo::fencing::config"": {
        ""devices"": [
            {
                ""agent"": ""fence_ipmilan"",
                ""host_mac"": ""e4:43:4b:4b:c8:19"",

[root@overcloud-controller-0]# pcs status
...

 stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1

[root@overcloud-controller-0]# pcs stonith level
Target: overcloud-controller-0
  Level 1 - stonith-fence_ipmilan-e4434b4bc819

* with levels: *

hieradata:

    ""tripleo::fencing::config"": {
        ""devices"": {
            ""level1"": [
               {
               ""agent"": ""fence_ipmilan"",
               ""host_mac"": ""e4:43:4b:4b:c8:19"",
            ...
            ""level2"": [
               {
               ""agent"": ""fence_kdump"",
               ""host_mac"": ""e4:43:4b:4b:c8:19"",

[root@overcloud-controller-0 ]# pcs status
...
 stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1
 stonith-fence_kdump-e4434b4bc819       (stonith:fence_kdump):  Started overcloud-controller-2

[root@overcloud-controller-0 ]# pcs stonith level
Target: overcloud-controller-0
  Level 1 - stonith-fence_ipmilan-e4434b4bc819
  Level 2 - stonith-fence_kdump-e4434b4bc819

Change-Id: I42033be840ba41e9944af65815a63059834144e9
(cherry picked from commit bacfec8647ad487e1ab486061b07f026198fd804)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/66/681966/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/fencing.pp'],1,da816058f27219b438ad5fc33f3591580b23850b,fencing-topology-stable/stein," # check if instanceha is enabled $content = $config['devices'] # check if the devices: section in fence.yaml contains levels. # if it doesn't, assume level=1 an build a hash with the content. if is_array($content) { $all_levels = {'level1' => $content} } else { $all_levels = $content } $all_levels.each |$index, $levelx_devices |{ $level = regsubst($index, 'level', '', 'G') $all_devices = $levelx_devices if $::uuid != 'docker' and $::deployment_type != 'containers' { $xvm_devices = local_fence_devices('fence_xvm', $all_devices) create_resources('pacemaker::stonith::fence_xvm', $xvm_devices, $common_params) } $ironic_devices = local_fence_devices('fence_ironic', $all_devices) create_resources('pacemaker::stonith::fence_ironic', $ironic_devices, $common_params) $redfish_devices = local_fence_devices('fence_redfish', $all_devices) create_resources('pacemaker::stonith::fence_redfish', $redfish_devices, $common_params) $ipmilan_devices = local_fence_devices('fence_ipmilan', $all_devices) create_resources('pacemaker::stonith::fence_ipmilan', $ipmilan_devices, $common_params) $kdump_devices = local_fence_devices('fence_kdump', $all_devices) create_resources('pacemaker::stonith::fence_kdump', $kdump_devices, $common_params) $rhev_devices = local_fence_devices('fence_rhevm', $all_devices) create_resources('pacemaker::stonith::fence_rhevm', $rhev_devices, $common_params) $data = { 'xvm' => $xvm_devices, 'ironic' => $ironic_devices, 'redfish' => $redfish_devices, 'ipmilan' => $ipmilan_devices, 'kdump' => $kdump_devices, 'rhevm' => $rhev_devices } $data.each |$items| { $driver = $items[0] $driver_devices = $items[1] if length($driver_devices) == 1 { $mac = keys($driver_devices)[0] $safe_mac = regsubst($mac, ':', '', 'G') if ($enable_instanceha and $is_compute_instanceha_node) { $stonith_resources = [ ""stonith-fence_${driver}-${safe_mac}"", 'stonith-fence_compute-fence-nova' ] } else { $stonith_resources = [ ""stonith-fence_${driver}-${safe_mac}"" ] } pacemaker::stonith::level{ ""stonith-${level}-${safe_mac}"": level => $level, target => '$(/usr/sbin/crm_node -n)', stonith_resources => $stonith_resources, tries => $tries, try_sleep => $try_sleep, } } } } } "," # We will create stonith levels *only* if the node is a compute instanceha one $all_devices = $config['devices'] if $::uuid != 'docker' and $::deployment_type != 'containers' { $xvm_devices = local_fence_devices('fence_xvm', $all_devices) create_resources('pacemaker::stonith::fence_xvm', $xvm_devices, $common_params) } $redfish_devices = local_fence_devices('fence_redfish', $all_devices) create_resources('pacemaker::stonith::fence_redfish', $redfish_devices, $common_params) $ipmilan_devices = local_fence_devices('fence_ipmilan', $all_devices) create_resources('pacemaker::stonith::fence_ipmilan', $ipmilan_devices, $common_params) if ($enable_instanceha and $is_compute_instanceha_node) { if length($ipmilan_devices) < 1 { fail('You must specify an IPmilan device for a host when configuring instance HA') } if length($ipmilan_devices) > 1 { fail('Multiple IPmilan devices for a single host are not supported with instance HA') } # Get the first (and only) key which is the mac-address $mac = keys($ipmilan_devices)[0] $safe_mac = regsubst($mac, ':', '', 'G') $stonith_resources = [ ""stonith-fence_ipmilan-${safe_mac}"", 'stonith-fence_compute-fence-nova' ] Pcmk_stonith <||> -> Pcmk_stonith_level <||> pacemaker::stonith::level{ ""stonith-level-${safe_mac}"": level => 1, target => '$(/usr/sbin/crm_node -n)', stonith_resources => $stonith_resources, tries => $tries, try_sleep => $try_sleep, } } $ironic_devices = local_fence_devices('fence_ironic', $all_devices) create_resources('pacemaker::stonith::fence_ironic', $ironic_devices, $common_params) $rhev_devices = local_fence_devices('fence_rhevm', $all_devices) create_resources('pacemaker::stonith::fence_rhevm', $rhev_devices, $common_params) }",59,33
openstack%2Fpuppet-openstack-integration~master~Ifb5b70567b666f48dfe9d9aeaca9aea6983b354d,openstack/puppet-openstack-integration,master,Ifb5b70567b666f48dfe9d9aeaca9aea6983b354d,Updated from Puppet OpenStack modules constraints,MERGED,2019-09-14 06:04:54.000000000,2019-09-16 10:12:29.000000000,2019-09-16 10:12:29.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-14 06:04:54.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c0a41f2f9c314b0c16308b7c7acd43040934723b', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Ifb5b70567b666f48dfe9d9aeaca9aea6983b354d\n'}]",0,682195,c0a41f2f9c314b0c16308b7c7acd43040934723b,8,4,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Ifb5b70567b666f48dfe9d9aeaca9aea6983b354d
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/95/682195/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,c0a41f2f9c314b0c16308b7c7acd43040934723b,openstack/puppet/constraints, :ref => 'v5.1.0' :ref => 'v6.2.0', :ref => 'v5.0.0' :ref => 'v6.1.0',2,2
openstack%2Fkolla-ansible~master~I7f10f073e89d2b66367bbb700201b3cd412fc433,openstack/kolla-ansible,master,I7f10f073e89d2b66367bbb700201b3cd412fc433,CI: Test accessing dashboard,MERGED,2019-08-14 13:54:52.000000000,2019-09-16 10:07:59.000000000,2019-09-16 10:03:10.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-08-14 13:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2e3ae8e26cfb00db13f974accf56c8d929d2ad44', 'message': 'CI: Test accessing dashboard\n\nAlso slightly refactor test-openstack.sh script.\n\nChange-Id: I7f10f073e89d2b66367bbb700201b3cd412fc433\n'}, {'number': 2, 'created': '2019-08-14 15:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/41ca165a1d2b45b3d5eec206ae0ded410e605477', 'message': 'CI: Test accessing dashboard\n\nAlso slightly refactor test-openstack.sh script.\n\nChange-Id: I7f10f073e89d2b66367bbb700201b3cd412fc433\n'}, {'number': 3, 'created': '2019-08-14 18:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dad6960450ba3600ea11ec4e563e7206490b5b52', 'message': 'CI: Test accessing dashboard\n\nAlso slightly refactor test-openstack.sh script.\n\nChange-Id: I7f10f073e89d2b66367bbb700201b3cd412fc433\nDepends-On: https://review.opendev.org/#/c/674241\nDepends-On: https://review.opendev.org/#/c/668410\nDepends-On: https://review.opendev.org/#/c/668409\n'}, {'number': 4, 'created': '2019-08-15 09:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cd5132eb96a06a31b62c0d25c45b977594530334', 'message': 'CI: Test accessing dashboard\n\nAlso slightly refactor test-openstack.sh script.\n\nChange-Id: I7f10f073e89d2b66367bbb700201b3cd412fc433\nDepends-On: https://review.opendev.org/#/c/674241\nDepends-On: https://review.opendev.org/#/c/668410\nDepends-On: https://review.opendev.org/#/c/668409\n'}, {'number': 5, 'created': '2019-08-16 15:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ad52c6a9497fd6a91cc49d1f9cb005efafd1fbd2', 'message': 'CI: Test accessing dashboard\n\nAlso slightly refactor test-openstack.sh script.\n\nChange-Id: I7f10f073e89d2b66367bbb700201b3cd412fc433\nDepends-On: https://review.opendev.org/#/c/674241\nDepends-On: https://review.opendev.org/#/c/668410\nDepends-On: https://review.opendev.org/#/c/668409\n'}, {'number': 6, 'created': '2019-08-19 10:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/76aad53fd7ae84d310f0a03006417dd7b632fa47', 'message': 'CI: Test accessing dashboard\n\nAlso slightly refactor test-openstack.sh script.\n\nChange-Id: I7f10f073e89d2b66367bbb700201b3cd412fc433\nDepends-On: https://review.opendev.org/#/c/674241\nDepends-On: https://review.opendev.org/#/c/668410\nDepends-On: https://review.opendev.org/#/c/668409\n'}, {'number': 7, 'created': '2019-08-19 11:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9a824721b01babc5a8a5bba85ca2d57a552983ca', 'message': 'CI: Test accessing dashboard\n\nAlso slightly refactor test-openstack.sh script.\n\nChange-Id: I7f10f073e89d2b66367bbb700201b3cd412fc433\nDepends-On: https://review.opendev.org/#/c/674241\nDepends-On: https://review.opendev.org/#/c/668410\nDepends-On: https://review.opendev.org/#/c/668409\n'}, {'number': 8, 'created': '2019-08-21 09:19:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0ded0b712f08e01f728b955f731634c544da9049', 'message': 'CI: Test accessing dashboard\n\nAlso slightly refactor test-openstack.sh script.\n\nChange-Id: I7f10f073e89d2b66367bbb700201b3cd412fc433\nDepends-On: https://review.opendev.org/#/c/674241\nDepends-On: https://review.opendev.org/#/c/668410\nDepends-On: https://review.opendev.org/#/c/668409\n'}, {'number': 9, 'created': '2019-08-21 10:47:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fec51968635023e691ce15bd052bbd2ac7fc832b', 'message': 'CI: Test accessing dashboard\n\nAlso slightly refactor test-openstack.sh script.\n\nChange-Id: I7f10f073e89d2b66367bbb700201b3cd412fc433\nDepends-On: https://review.opendev.org/#/c/674241\nDepends-On: https://review.opendev.org/#/c/668410\nDepends-On: https://review.opendev.org/#/c/668409\n'}, {'number': 10, 'created': '2019-08-21 11:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/28a1ddbcb0963cbaf084c1ea010df96a9618b303', 'message': 'CI: Test accessing dashboard\n\nAlso slightly refactor test-openstack.sh script.\n\nChange-Id: I7f10f073e89d2b66367bbb700201b3cd412fc433\nDepends-On: https://review.opendev.org/#/c/674241\nDepends-On: https://review.opendev.org/#/c/668410\nDepends-On: https://review.opendev.org/#/c/668409\n'}, {'number': 11, 'created': '2019-08-21 11:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/90ae7590b6a801eb118e77e3bbde6b1d12998207', 'message': 'CI: Test accessing dashboard\n\nAlso slightly refactor test-openstack.sh script.\n\nChange-Id: I7f10f073e89d2b66367bbb700201b3cd412fc433\nDepends-On: https://review.opendev.org/#/c/674241\nDepends-On: https://review.opendev.org/#/c/668410\nDepends-On: https://review.opendev.org/#/c/668409\n'}, {'number': 12, 'created': '2019-09-14 20:06:35.000000000', 'files': ['tests/test-openstack.sh', 'tests/run.yml', 'tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8722c78763efa7b9c9c0fb3c20599f1f6f0d69e5', 'message': 'CI: Test accessing dashboard\n\nAlso slightly refactor test-openstack.sh script.\n\nChange-Id: I7f10f073e89d2b66367bbb700201b3cd412fc433\nDepends-On: https://review.opendev.org/#/c/674241\nDepends-On: https://review.opendev.org/#/c/668410\nDepends-On: https://review.opendev.org/#/c/668409\n'}]",13,676412,8722c78763efa7b9c9c0fb3c20599f1f6f0d69e5,52,6,12,14826,,,0,"CI: Test accessing dashboard

Also slightly refactor test-openstack.sh script.

Change-Id: I7f10f073e89d2b66367bbb700201b3cd412fc433
Depends-On: https://review.opendev.org/#/c/674241
Depends-On: https://review.opendev.org/#/c/668410
Depends-On: https://review.opendev.org/#/c/668409
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/676412/12 && git format-patch -1 --stdout FETCH_HEAD,"['tests/test-openstack.sh', 'tests/run.yml']",2,2e3ae8e26cfb00db13f974accf56c8d929d2ad44,," DASHBOARD_URL: ""http://{{ api_interface_address if hostvars | length > 2 else '169.254.169.10' }}"" DASHBOARD_URL: ""http://{{ api_interface_address if hostvars | length > 2 else '169.254.169.10' }}""",,44,22
openstack%2Fos-win~master~Ied8821191d6731cf402ed57d420478f93da9ddcb,openstack/os-win,master,Ied8821191d6731cf402ed57d420478f93da9ddcb,Update master for stable/train,MERGED,2019-09-16 09:18:20.000000000,2019-09-16 09:59:05.000000000,2019-09-16 09:56:40.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 09:18:20.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/os-win/commit/786075a914c4c04a5cab5c3742105ca8de05bf4c', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Ied8821191d6731cf402ed57d420478f93da9ddcb\nSem-Ver: feature\n'}]",0,682308,786075a914c4c04a5cab5c3742105ca8de05bf4c,7,2,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Ied8821191d6731cf402ed57d420478f93da9ddcb
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/os-win refs/changes/08/682308/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,786075a914c4c04a5cab5c3742105ca8de05bf4c,reno-train, train,,7,0
openstack%2Fos-win~stable%2Ftrain~Id57cf110cc00020ebf5c245081d767999342b9e6,openstack/os-win,stable/train,Id57cf110cc00020ebf5c245081d767999342b9e6,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-09-16 09:18:15.000000000,2019-09-16 09:59:05.000000000,2019-09-16 09:56:39.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 09:18:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-win/commit/3d224b7704d9b1e647d7610631c55fb0027e3774', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Id57cf110cc00020ebf5c245081d767999342b9e6\n'}]",0,682307,3d224b7704d9b1e647d7610631c55fb0027e3774,7,2,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Id57cf110cc00020ebf5c245081d767999342b9e6
",git fetch https://review.opendev.org/openstack/os-win refs/changes/07/682307/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3d224b7704d9b1e647d7610631c55fb0027e3774,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Fos-win~stable%2Ftrain~I4055a8e94cdc436ad2b744ea52e819e0d6d4aece,openstack/os-win,stable/train,I4055a8e94cdc436ad2b744ea52e819e0d6d4aece,Update .gitreview for stable/train,MERGED,2019-09-16 09:18:10.000000000,2019-09-16 09:54:16.000000000,2019-09-16 09:54:16.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 09:18:10.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/os-win/commit/b876d527c8c7870e055228e5b18b80f778c56ccc', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I4055a8e94cdc436ad2b744ea52e819e0d6d4aece\n'}]",0,682306,b876d527c8c7870e055228e5b18b80f778c56ccc,6,2,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I4055a8e94cdc436ad2b744ea52e819e0d6d4aece
",git fetch https://review.opendev.org/openstack/os-win refs/changes/06/682306/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,b876d527c8c7870e055228e5b18b80f778c56ccc,create-train,defaultbranch=stable/train,,1,0
openstack%2Ftripleo-common~stable%2Fstein~Id48d5efe17eeb1a524e280d8885e98cfe1a5577a,openstack/tripleo-common,stable/stein,Id48d5efe17eeb1a524e280d8885e98cfe1a5577a,healthcheck: List udp ports with ss,MERGED,2019-09-14 22:06:45.000000000,2019-09-16 09:54:00.000000000,2019-09-16 09:51:25.000000000,"[{'_account_id': 8833}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-14 22:06:45.000000000', 'files': ['healthcheck/octavia-health-manager', 'healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/337dda3fb4def56916eb3757668bc821c7bf4e1f', 'message': 'healthcheck: List udp ports with ss\n\nLooks like octavia healthmanager uses UDP 5555 port.\n\nAlso changes octavia-health-manager healath check to use\nhealthcheck_port rather than healthcheck_listen, as udp\nis a connectionless protocol.\n\nChange-Id: Id48d5efe17eeb1a524e280d8885e98cfe1a5577a\nRelated-Bug: #1843555\n(cherry picked from commit 0ca91f0d149c14982a2071e58e06f3ee71d5b3cd)\n'}]",0,682230,337dda3fb4def56916eb3757668bc821c7bf4e1f,8,4,1,3153,,,0,"healthcheck: List udp ports with ss

Looks like octavia healthmanager uses UDP 5555 port.

Also changes octavia-health-manager healath check to use
healthcheck_port rather than healthcheck_listen, as udp
is a connectionless protocol.

Change-Id: Id48d5efe17eeb1a524e280d8885e98cfe1a5577a
Related-Bug: #1843555
(cherry picked from commit 0ca91f0d149c14982a2071e58e06f3ee71d5b3cd)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/30/682230/1 && git format-patch -1 --stdout FETCH_HEAD,"['healthcheck/common.sh', 'healthcheck/octavia-health-manager']",2,337dda3fb4def56916eb3757668bc821c7bf4e1f,,if healthcheck_port $process $args; then,if healthcheck_listen $process $args; then,2,2
openstack%2Ftrove~master~I29ed7e2d26dde15913088fb71fe4dbcb713751be,openstack/trove,master,I29ed7e2d26dde15913088fb71fe4dbcb713751be,[MYSQL]Support snapshot backup type,NEW,2019-09-16 08:58:05.000000000,2019-09-16 09:49:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-16 08:58:05.000000000', 'files': ['trove/tests/unittests/guestagent/test_mysql_manager.py', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/common/sql_query.py', 'trove/guestagent/common/operating_system.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/tests/unittests/guestagent/test_api.py', 'trove/tests/unittests/guestagent/test_dbaas.py', 'trove/tests/unittests/guestagent/test_query.py', 'trove/tests/unittests/guestagent/test_operating_system.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/51e9a222002a0ad919a8d841806150dd9907c9ff', 'message': '[MYSQL]Support snapshot backup type\n\nMysql datastore support volume snapshot backup type\n\n- prepare_data_volume_snapshot action:\n  1. flush database with read lock\n  2. store configuration files in backup datadir\n  3. sync files\n  4. fsfreeze mysql datadir\n\n- post_data_volume_snapshot action:\n  1. unfsfreeze mysql datadir\n  2. release database readlock\n\nStory: #2005819\nTask: #36641\n\nChange-Id: I29ed7e2d26dde15913088fb71fe4dbcb713751be\nDepends-On: I403b2cbd49e86393f1307c2e27f218ee4d3af2b7\n'}]",0,682301,51e9a222002a0ad919a8d841806150dd9907c9ff,2,1,1,8037,,,0,"[MYSQL]Support snapshot backup type

Mysql datastore support volume snapshot backup type

- prepare_data_volume_snapshot action:
  1. flush database with read lock
  2. store configuration files in backup datadir
  3. sync files
  4. fsfreeze mysql datadir

- post_data_volume_snapshot action:
  1. unfsfreeze mysql datadir
  2. release database readlock

Story: #2005819
Task: #36641

Change-Id: I29ed7e2d26dde15913088fb71fe4dbcb713751be
Depends-On: I403b2cbd49e86393f1307c2e27f218ee4d3af2b7
",git fetch https://review.opendev.org/openstack/trove refs/changes/01/682301/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/mysql_common/service.py', 'trove/tests/unittests/guestagent/test_mysql_manager.py', 'trove/guestagent/common/sql_query.py', 'trove/guestagent/common/operating_system.py', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/tests/unittests/guestagent/test_api.py', 'trove/tests/unittests/guestagent/test_dbaas.py', 'trove/tests/unittests/guestagent/test_query.py', 'trove/tests/unittests/guestagent/test_operating_system.py']",9,51e9a222002a0ad919a8d841806150dd9907c9ff,mysql_support_volume_snapshot," @patch.object(operating_system, 'exists') def test_sync(self, mock_exists): mock_exists.return_value = True path = ""/var/lib/mysql"" self._assert_execute_call( [['sync', path]], [{'run_as_root': True, 'root_helper': 'sudo'}], operating_system.sync, None, path) mock_exists.return_value = False with ExpectedException(exception.UnprocessableEntity, ""Invalid path: %s"" % path): operating_system.sync(path) @patch.object(operating_system, 'exists') def test_fsfreeze(self, mock_exists): mock_exists.return_value = True path = ""/var/lib/mysql"" self._assert_execute_call( [['fsfreeze', '-f', path]], [{'run_as_root': True, 'root_helper': 'sudo'}], operating_system.fsfreeze, None, path) mock_exists.return_value = False with ExpectedException(exception.UnprocessableEntity, ""Invalid path: %s"" % path): operating_system.fsfreeze(path) @patch.object(operating_system, 'exists') def test_fsunfreeze(self, mock_exists): mock_exists.return_value = True path = ""/var/lib/mysql"" self._assert_execute_call( [['fsfreeze', '-u', path]], [{'run_as_root': True, 'root_helper': 'sudo'}], operating_system.fsunfreeze, None, path) mock_exists.return_value = False with ExpectedException(exception.UnprocessableEntity, ""Invalid path: %s"" % path): operating_system.fsunfreeze(path)",,291,0
openstack%2Frpm-packaging~master~I292c5adbec114dbe4023df02cab4871c8f1ea725,openstack/rpm-packaging,master,I292c5adbec114dbe4023df02cab4871c8f1ea725,fix misspelling,MERGED,2019-09-16 08:51:46.000000000,2019-09-16 09:48:38.000000000,2019-09-16 09:48:38.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-16 08:51:46.000000000', 'files': ['openstack/glance/openstack-glance-api.service'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/350c0cf1710b4b4d0502d60f11f23fd223f75878', 'message': 'fix misspelling\n\nChange-Id: I292c5adbec114dbe4023df02cab4871c8f1ea725\n'}]",0,682300,350c0cf1710b4b4d0502d60f11f23fd223f75878,7,3,1,27565,,,0,"fix misspelling

Change-Id: I292c5adbec114dbe4023df02cab4871c8f1ea725
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/00/682300/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/glance/openstack-glance-api.service'],1,350c0cf1710b4b4d0502d60f11f23fd223f75878,,# the connection parameter might be stored in the glance-api related config filesWantedBy=multi-user.target ,# the connection parameter might be stored in the glace-api related config filesWantedBy=multi-user.target,2,2
openstack%2Fos-win~stable%2Fstein~Ib5bf0070c0ba4cb18e98c1cb983c641eaae582bf,openstack/os-win,stable/stein,Ib5bf0070c0ba4cb18e98c1cb983c641eaae582bf,Fix VHD detach,MERGED,2019-08-26 09:35:39.000000000,2019-09-16 09:44:35.000000000,2019-09-16 09:44:35.000000000,"[{'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-26 09:35:39.000000000', 'files': ['os_win/utils/winapi/constants.py', 'os_win/tests/unit/utils/storage/virtdisk/test_vhdutils.py', 'os_win/tests/unit/utils/test_pathutils.py', 'os_win/utils/storage/virtdisk/vhdutils.py', 'os_win/utils/io/ioutils.py', 'os_win/utils/pathutils.py', 'os_win/utils/storage/diskutils.py', 'os_win/utils/winapi/libs/virtdisk.py', 'os_win/tests/unit/utils/storage/test_diskutils.py', 'os_win/tests/functional/test_vhdutils.py', 'os_win/utils/winapi/libs/kernel32.py'], 'web_link': 'https://opendev.org/openstack/os-win/commit/c51aaa1a53ce2dec9b641e4d6059a94262c869b0', 'message': ""Fix VHD detach\n\nAttempting to disconnect a VHD from the local host may fail if the\nimage is in-use by a different host, even though it's not actually\nmounted on the local host.\n\nThe reason is that the detach API requires a handle, which we may\nfail to obtain if the file is in-use.\n\nThis change will try to figure out if the image is actually attached\nto the local host before erroring out. This check is a bit more\ncomplicated than it should, again due to file locks. We'll use\ntwo approaches:\n* the preffered way, using virtdisk.dll:GetVirtualDiskInformation,\n  which may fail due to file locks\n* the slower way, used as a fallback, which involves getting a full\n  list of attached images and comparing file and volume ids as\n  the file may be accessible through multiple paths\n\nCloses-Bug: #1840954\nChange-Id: Ib5bf0070c0ba4cb18e98c1cb983c641eaae582bf\n""}]",4,678501,c51aaa1a53ce2dec9b641e4d6059a94262c869b0,9,3,1,8543,,,0,"Fix VHD detach

Attempting to disconnect a VHD from the local host may fail if the
image is in-use by a different host, even though it's not actually
mounted on the local host.

The reason is that the detach API requires a handle, which we may
fail to obtain if the file is in-use.

This change will try to figure out if the image is actually attached
to the local host before erroring out. This check is a bit more
complicated than it should, again due to file locks. We'll use
two approaches:
* the preffered way, using virtdisk.dll:GetVirtualDiskInformation,
  which may fail due to file locks
* the slower way, used as a fallback, which involves getting a full
  list of attached images and comparing file and volume ids as
  the file may be accessible through multiple paths

Closes-Bug: #1840954
Change-Id: Ib5bf0070c0ba4cb18e98c1cb983c641eaae582bf
",git fetch https://review.opendev.org/openstack/os-win refs/changes/01/678501/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_win/utils/winapi/constants.py', 'os_win/tests/unit/utils/storage/virtdisk/test_vhdutils.py', 'os_win/tests/unit/utils/test_pathutils.py', 'os_win/utils/storage/virtdisk/vhdutils.py', 'os_win/utils/io/ioutils.py', 'os_win/utils/pathutils.py', 'os_win/utils/storage/diskutils.py', 'os_win/utils/winapi/libs/virtdisk.py', 'os_win/tests/unit/utils/storage/test_diskutils.py', 'os_win/tests/functional/test_vhdutils.py', 'os_win/utils/winapi/libs/kernel32.py']",11,c51aaa1a53ce2dec9b641e4d6059a94262c869b0,bug/1840954-stable/stein,"class FILE_ID_128(ctypes.Structure): _fields_ = [ ('Identifier', wintypes.BYTE * 16) ] class FILE_ID_INFO(ctypes.Structure): _fields_ = [ ('VolumeSerialNumber', wintypes.ULONGLONG), ('FileId', FILE_ID_128) ] lib_handle.GetFileInformationByHandleEx.argtypes = [ wintypes.HANDLE, wintypes.DWORD, wintypes.LPVOID, wintypes.DWORD ] lib_handle.GetFileInformationByHandleEx.restype = wintypes.BOOL ",,435,4
openstack%2Fopenstack-ansible~master~Ia5d9b859281a6dd1534eec4d5ce8fcee6036007c,openstack/openstack-ansible,master,Ia5d9b859281a6dd1534eec4d5ce8fcee6036007c,Imported Translations from Zanata,MERGED,2019-09-16 07:42:09.000000000,2019-09-16 09:35:49.000000000,2019-09-16 09:31:01.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-09-16 07:42:09.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/55946f15828c7741ec96185d2599722814c151e2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia5d9b859281a6dd1534eec4d5ce8fcee6036007c\n'}]",0,682287,55946f15828c7741ec96185d2599722814c151e2,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ia5d9b859281a6dd1534eec4d5ce8fcee6036007c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/87/682287/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'],1,55946f15828c7741ec96185d2599722814c151e2,zanata/translations,"""POT-Creation-Date: 2019-09-13 16:52+0000\n""""PO-Revision-Date: 2019-09-15 02:50+0000\n""msgid ""19.0.0.0rc1-165"" msgstr ""19.0.0.0rc1-165"" ""Passed --extra-vars flag to the openstack-ansible should have precedence "" ""over the user-variables*.yml now."" msgstr """" ""Passed --extra-vars flag ke openstack-ansible seharusnya didahulukan dari "" ""user-variables*.yml sekarang."" msgid """"","""POT-Creation-Date: 2019-09-10 07:25+0000\n""""PO-Revision-Date: 2019-09-09 04:02+0000\n""",12,2
openstack%2Fcinder~master~I7ee68f4684b241b8ab749ad621040da4e3068d17,openstack/cinder,master,I7ee68f4684b241b8ab749ad621040da4e3068d17,Mark IBM GPFS Driver Unsupported,MERGED,2019-08-29 15:29:15.000000000,2019-09-16 09:33:49.000000000,2019-09-15 20:13:58.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11692}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-08-29 15:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1b44a5cb3124d001d7b79a2864300ae31419b783', 'message': 'Mark IBM GPFS Driver Unsupported\n\nThe IBM driver CIs stopped reporting some time\nago and attempts to reach out to driver maintainers\nhave failed.\n\nAs a result, we need to mark the drivers unsupported\nfor the T release.\n\nChange-Id: I7ee68f4684b241b8ab749ad621040da4e3068d17\n'}, {'number': 2, 'created': '2019-09-03 23:03:49.000000000', 'files': ['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/ibm/gpfs.py', 'releasenotes/notes/ibm-gpfs-unsupported-b95274829573835d.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c07908664c6b41721f886ed07e6cc06c08d283a0', 'message': 'Mark IBM GPFS Driver Unsupported\n\nThe IBM driver CIs stopped reporting some time\nago and attempts to reach out to driver maintainers\nhave failed.\n\nAs a result, we need to mark the drivers unsupported\nfor the T release.\n\nChange-Id: I7ee68f4684b241b8ab749ad621040da4e3068d17\n'}]",0,679291,c07908664c6b41721f886ed07e6cc06c08d283a0,103,37,2,7198,,,0,"Mark IBM GPFS Driver Unsupported

The IBM driver CIs stopped reporting some time
ago and attempts to reach out to driver maintainers
have failed.

As a result, we need to mark the drivers unsupported
for the T release.

Change-Id: I7ee68f4684b241b8ab749ad621040da4e3068d17
",git fetch https://review.opendev.org/openstack/cinder refs/changes/91/679291/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/ibm/gpfs.py', 'releasenotes/notes/ibm-gpfs-unsupported-b95274829573835d.yaml']",3,1b44a5cb3124d001d7b79a2864300ae31419b783,ci_unsupported,"--- upgrade: - | The IBM GPFS driver has been marked as unsupported and is now deprecated. ``enable_unsupported_driver`` will need to be set to ``True`` in the driver's section in cinder.conf to continue to use it. deprecations: - | The IBM GPFS driver has been marked as unsupported and is now deprecated. ``enable_unsupported_driver`` will need to be set to ``True`` in the driver's section in cinder.conf to continue to use it. If its support status does not change, it will be removed in the 'U' development cycle. ",,18,1
openstack%2Fneutron-lib~master~I3a8cb5be5c154577074d799e58a78ed10d33d8f7,openstack/neutron-lib,master,I3a8cb5be5c154577074d799e58a78ed10d33d8f7,update lbass api-ref: add health monitor type ``PING``,ABANDONED,2019-09-16 06:57:05.000000000,2019-09-16 09:29:03.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 30380}]","[{'number': 1, 'created': '2019-09-16 06:57:05.000000000', 'files': ['api-ref/source/v2/lbaas-v2.inc'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ba767e22d866f3ff41131622d50bfea08c102a23', 'message': 'update lbass api-ref: add health monitor type ``PING``\n\nChange-Id: I3a8cb5be5c154577074d799e58a78ed10d33d8f7\n'}]",0,682279,ba767e22d866f3ff41131622d50bfea08c102a23,5,3,1,30380,,,0,"update lbass api-ref: add health monitor type ``PING``

Change-Id: I3a8cb5be5c154577074d799e58a78ed10d33d8f7
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/79/682279/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v2/lbaas-v2.inc'],1,ba767e22d866f3ff41131622d50bfea08c102a23,,"- ``type``. The type of health monitor. A valid value is ``PING``, ``TCP``, ``HTTP``, or ``HTTPS``.","- ``type``. The type of health monitor. A valid value is ``TCP``, ``HTTP``, or ``HTTPS``.",2,2
openstack%2Fneutron-fwaas~master~Ife294430409a9fb2944917a28a08323f41c89c0d,openstack/neutron-fwaas,master,Ife294430409a9fb2944917a28a08323f41c89c0d,Ignore fwg which has no ports when restarting l3-agent,MERGED,2018-07-25 09:20:22.000000000,2019-09-16 09:28:18.000000000,2019-09-16 09:25:51.000000000,"[{'_account_id': 10850}, {'_account_id': 11975}, {'_account_id': 13702}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 28743}, {'_account_id': 29157}]","[{'number': 1, 'created': '2018-07-25 09:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/bc91bea56d923728aa9d2d5ab8c0fe73c3855912', 'message': ""fix the bug: when i restart l3-agent,inactive group will change to\nacitve\n\nwhen restart l3-agent,l3 extension manager will call all l3 agents\nadd_route if route existed.in firewall agent,if a firewall group will\ncheck if port bind in has_port_insertion_fields.in this method,judge if\n'add-port-ids' is in method,when no port bind,the group will has\n'add-port-ids' however the value is empty list.this will change group\nstatus and notify plugin.\n\nChange-Id: Ife294430409a9fb2944917a28a08323f41c89c0d\nCloses-Bug:#1783327\n""}, {'number': 2, 'created': '2018-07-25 09:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/99b24263b7f49087a8776a2b4f6486caae78a1d2', 'message': ""fix the bug: when i restart l3-agent,inactive group will change to\nacitve\n\nwhen restart l3-agent,l3 extension manager will call all l3 agents\nadd_route if route existed.in firewall agent,if a firewall group will\ncheck if port bind in has_port_insertion_fields.in this method,judge if\n'add-port-ids' is in method,when no port bind,the group will has\n'add-port-ids' however the value is empty list.this will change group\nstatus and notify plugin.\n\nChange-Id: Ife294430409a9fb2944917a28a08323f41c89c0d\nCloses-Bug:#1783327\n""}, {'number': 3, 'created': '2018-07-25 15:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/8f66e358c0e3ad43f8299bf401b4d1c8900a5620', 'message': ""fix the bug: when i restart l3-agent,inactive group will change to\nacitve\n\nwhen restart l3-agent,l3 extension manager will call all l3 agents\nadd_route if route existed.in firewall agent,if a firewall group will\ncheck if port bind in has_port_insertion_fields.in this method,judge if\n'add-port-ids' is in method,when no port bind,the group will has\n'add-port-ids' however the value is empty list.this will change group\nstatus and notify plugin.\n\nChange-Id: Ife294430409a9fb2944917a28a08323f41c89c0d\nCloses-Bug:#1783327\n""}, {'number': 4, 'created': '2018-07-25 23:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/afd3705c357f837509a1f9d8b7afff1ee37b19a9', 'message': ""fix the bug: when i restart l3-agent,inactive group will change to\nacitve\n\nwhen restart l3-agent,l3 extension manager will call all l3 agents\nadd_route if route existed.in firewall agent,if a firewall group will\ncheck if port bind in has_port_insertion_fields.in this method,judge if\n'add-port-ids' is in method,when no port bind,the group will has\n'add-port-ids' however the value is empty list.this will change group\nstatus and notify plugin.\n\nChange-Id: Ife294430409a9fb2944917a28a08323f41c89c0d\nCloses-Bug:#1783327\n""}, {'number': 5, 'created': '2018-07-26 01:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/85d358ffb15cb3897f3d0de2ffc1a275b2f9012a', 'message': ""fix the bug: when i restart l3-agent,inactive group will change to\nacitve\n\nwhen restart l3-agent,l3 extension manager will call all l3 agents\nadd_route if route existed.in firewall agent,if a firewall group will\ncheck if port bind in has_port_insertion_fields.in this method,judge if\n'add-port-ids' is in method,when no port bind,the group will has\n'add-port-ids' however the value is empty list.this will change group\nstatus and notify plugin.\n\nChange-Id: Ife294430409a9fb2944917a28a08323f41c89c0d\nCloses-Bug:#1783327\n""}, {'number': 6, 'created': '2018-07-26 04:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e676d6a206381b8f3442bf40255c220a60b10fee', 'message': ""fix the bug: when i restart l3-agent,inactive group will change to\nacitve\n\nwhen restart l3-agent,l3 extension manager will call all l3 agents\nadd_route if route existed.in firewall agent,if a firewall group will\ncheck if port bind in has_port_insertion_fields.in this method,judge if\n'add-port-ids' is in method,when no port bind,the group will has\n'add-port-ids' however the value is empty list.this will change group\nstatus and notify plugin.\n\nChange-Id: Ife294430409a9fb2944917a28a08323f41c89c0d\nCloses-Bug:#1783327\n""}, {'number': 7, 'created': '2018-07-26 08:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/aadce0197c75ba73694f6a79e7a6363aa206efaa', 'message': ""when i restart l3-agent,inactive group will change to\nacitve\n\nwhen restart l3-agent,l3 extension manager will call all l3 agents\nadd_router if router existed.in firewall agent,a firewall group will\ncheck if port bind in has_port_insertion_fields.in this method,judge if\n'add-port-ids' is in method,when no port bind,the group will has\n'add-port-ids' field,however the value is empty list.this will change\ngroup status and notify plugin.\n\nChange-Id: Ife294430409a9fb2944917a28a08323f41c89c0d\nCloses-Bug:#1783327\n""}, {'number': 8, 'created': '2018-10-29 07:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/0729f1dd266a73ef2a51e5d83a5a68c4165f5da9', 'message': ""when i restart l3-agent,inactive group will change to\nacitve\n\nwhen restart l3-agent,l3 extension manager will call all l3 agents\nadd_router if router existed.in firewall agent,a firewall group will\ncheck if port bind in has_port_insertion_fields.in this method,judge if\n'add-port-ids' is in method,when no port bind,the group will has\n'add-port-ids' field,however the value is empty list.this will change\ngroup status and notify plugin.\n\nChange-Id: Ife294430409a9fb2944917a28a08323f41c89c0d\nCloses-Bug:#1783327\n""}, {'number': 9, 'created': '2019-08-20 03:12:40.000000000', 'files': ['neutron_fwaas/services/firewall/service_drivers/agents/l3reference/firewall_l3_agent_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/a7e85121f7578857bbc45b6b764fc0ce0b5eab39', 'message': 'Ignore fwg which has no ports when restarting l3-agent\n\nWhen restarting l3 agent, it will detect whether the\nrouter is updated. If the port in the firewall group is\nnot updated, it will also change its status. This patch\nskips updating the status of firewall group which has no ports.\n\nChange-Id: Ife294430409a9fb2944917a28a08323f41c89c0d\nCloses-Bug:#1783327\n'}]",9,585688,a7e85121f7578857bbc45b6b764fc0ce0b5eab39,36,7,9,28743,,,0,"Ignore fwg which has no ports when restarting l3-agent

When restarting l3 agent, it will detect whether the
router is updated. If the port in the firewall group is
not updated, it will also change its status. This patch
skips updating the status of firewall group which has no ports.

Change-Id: Ife294430409a9fb2944917a28a08323f41c89c0d
Closes-Bug:#1783327
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/88/585688/8 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/services/firewall/service_drivers/agents/l3reference/firewall_l3_agent_v2.py'],1,bc91bea56d923728aa9d2d5ab8c0fe73c3855912,bug/1783327, return 'add-port-ids' in firewall_group and firewall_group['add-port-ids'], return 'add-port-ids' in firewall_group,2,1
openstack%2Fwatcher~master~I58c026f66ff210983367d0c98096347f7207c9fd,openstack/watcher,master,I58c026f66ff210983367d0c98096347f7207c9fd,update test about cinderclient v1,MERGED,2019-09-16 07:22:03.000000000,2019-09-16 09:24:34.000000000,2019-09-16 09:21:07.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 07:22:03.000000000', 'files': ['watcher/tests/common/test_clients.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/31460ac412f1c0e7d32d8866fb9495c7682e6ce7', 'message': 'update test about cinderclient v1\n\nCinderclient removed support for Cinder v1 API\nCloses-Bug: #1844094\nhttps://review.opendev.org/#/c/653813/\n\nChange-Id: I58c026f66ff210983367d0c98096347f7207c9fd\n'}]",0,682286,31460ac412f1c0e7d32d8866fb9495c7682e6ce7,7,2,1,21692,,,0,"update test about cinderclient v1

Cinderclient removed support for Cinder v1 API
Closes-Bug: #1844094
https://review.opendev.org/#/c/653813/

Change-Id: I58c026f66ff210983367d0c98096347f7207c9fd
",git fetch https://review.opendev.org/openstack/watcher refs/changes/86/682286/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/tests/common/test_clients.py'],1,31460ac412f1c0e7d32d8866fb9495c7682e6ce7,bug/1844094,"from cinderclient.v3 import client as ciclient_v3 CONF.set_override('api_version', '3', group='cinder_client') self.assertEqual(ciclient_v3.Client, type(osc.cinder()))","from cinderclient.v1 import client as ciclient_v1 CONF.set_override('api_version', '1', group='cinder_client') self.assertEqual(ciclient_v1.Client, type(osc.cinder()))",3,3
openstack%2Freleases~master~Iee0db6f0dcb5b586c0b0706609db9ab49fdde547,openstack/releases,master,Iee0db6f0dcb5b586c0b0706609db9ab49fdde547,Release puppet-nova 12.5.0 (queens),MERGED,2019-09-13 13:03:06.000000000,2019-09-16 09:15:37.000000000,2019-09-16 09:15:37.000000000,"[{'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 11904}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-13 13:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/3772a27d1ee57b8534b1175d9604270e9443683d', 'message': 'Release puppet-nova 12.5.0 (queens)\n\nChange-Id: Iee0db6f0dcb5b586c0b0706609db9ab49fdde547\n'}, {'number': 2, 'created': '2019-09-13 16:00:58.000000000', 'files': ['deliverables/queens/puppet-nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/648fce67067c5709b20b644b3c7e9251d9100d18', 'message': 'Release puppet-nova 12.5.0 (queens)\n\nChange-Id: Iee0db6f0dcb5b586c0b0706609db9ab49fdde547\n'}]",0,682043,648fce67067c5709b20b644b3c7e9251d9100d18,15,11,2,3153,,,0,"Release puppet-nova 12.5.0 (queens)

Change-Id: Iee0db6f0dcb5b586c0b0706609db9ab49fdde547
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/682043/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/puppet-nova.yaml'],1,3772a27d1ee57b8534b1175d9604270e9443683d,puppet-nova/queens, - projects: - hash: 4120d79e132e853a9ee5ace9f78319bc3ee450c4 repo: openstack/puppet-nova version: 12.5.0,,4,0
openstack%2Freleases~master~I0d4ba385dd756d2e0d8d0300f59467b7953eb769,openstack/releases,master,I0d4ba385dd756d2e0d8d0300f59467b7953eb769,Release ovsdbapp 0.10.04,MERGED,2019-09-13 13:20:37.000000000,2019-09-16 09:15:36.000000000,2019-09-16 09:15:36.000000000,"[{'_account_id': 308}, {'_account_id': 6773}, {'_account_id': 11904}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-13 13:20:37.000000000', 'files': ['deliverables/queens/ovsdbapp.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/81b6309c8ef3858d85386b1f60e476ae7d026035', 'message': 'Release ovsdbapp 0.10.04\n\nIt contains port group commands needed by latest networking-ovn\nperformance improvements for stable/queens.\n\nChange-Id: I0d4ba385dd756d2e0d8d0300f59467b7953eb769\nSigned-off-by: Maciej Józefczyk <mjozefcz@redhat.com>\n'}]",0,682048,81b6309c8ef3858d85386b1f60e476ae7d026035,15,11,1,24791,,,0,"Release ovsdbapp 0.10.04

It contains port group commands needed by latest networking-ovn
performance improvements for stable/queens.

Change-Id: I0d4ba385dd756d2e0d8d0300f59467b7953eb769
Signed-off-by: Maciej Józefczyk <mjozefcz@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/48/682048/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/queens/ovsdbapp.yaml'],1,81b6309c8ef3858d85386b1f60e476ae7d026035,, - version: 0.10.4 projects: - repo: openstack/ovsdbapp hash: ad9b9fc64e88b88922a517a088cfa62a074b9b34,,4,0
openstack%2Freleases~master~I14e5142d878e47e9b188387ce059e3d7c58d5670,openstack/releases,master,I14e5142d878e47e9b188387ce059e3d7c58d5670,Release rally 2.0.0,MERGED,2019-09-10 17:25:54.000000000,2019-09-16 09:15:35.000000000,2019-09-16 09:15:35.000000000,"[{'_account_id': 308}, {'_account_id': 9545}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-10 17:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4ab15c924ec9198c061b931752e6fe4e9ee62107', 'message': 'Release rally 1.7.0\n\nChange-Id: I14e5142d878e47e9b188387ce059e3d7c58d5670\n'}, {'number': 2, 'created': '2019-09-11 11:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0a7286693c57fe262b9472e83d4cd76ee7e6c4de', 'message': 'Release rally 1.7.0\n\nThis release removes some deprecated stuff from CLI and brings\ncompatibility with jsonschema >= 3\n\nChange-Id: I14e5142d878e47e9b188387ce059e3d7c58d5670\n'}, {'number': 3, 'created': '2019-09-13 22:08:23.000000000', 'files': ['deliverables/_independent/rally.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ba586c9d98bdd075de1e5f42420c9f2c260fb3a2', 'message': 'Release rally 2.0.0\n\nThis release removes some deprecated stuff from CLI and brings\ncompatibility with jsonschema >= 3\n\nChange-Id: I14e5142d878e47e9b188387ce059e3d7c58d5670\n'}]",1,681316,ba586c9d98bdd075de1e5f42420c9f2c260fb3a2,15,6,3,9545,,,0,"Release rally 2.0.0

This release removes some deprecated stuff from CLI and brings
compatibility with jsonschema >= 3

Change-Id: I14e5142d878e47e9b188387ce059e3d7c58d5670
",git fetch https://review.opendev.org/openstack/releases refs/changes/16/681316/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/rally.yaml'],1,4ab15c924ec9198c061b931752e6fe4e9ee62107,rally_1.7.0, - version: 1.7.0 projects: - repo: openstack/rally hash: 9821d662b1c2d855107a24e0c76b60b1ab21d83b,,4,0
openstack%2Freleases~master~Ic1ea8ccd1633bbb6cac3b6c6dd3a832525447a07,openstack/releases,master,Ic1ea8ccd1633bbb6cac3b6c6dd3a832525447a07,Release python-designateclient 3.0.0,MERGED,2019-09-13 20:26:55.000000000,2019-09-16 09:14:27.000000000,2019-09-16 09:14:27.000000000,"[{'_account_id': 308}, {'_account_id': 8099}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-09-13 20:26:55.000000000', 'files': ['deliverables/train/python-designateclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c1ea1b22f84173d50ff871df8ad0c2a76000a7e3', 'message': 'Release python-designateclient 3.0.0\n\nChange-Id: Ic1ea8ccd1633bbb6cac3b6c6dd3a832525447a07\n'}]",0,682156,c1ea1b22f84173d50ff871df8ad0c2a76000a7e3,10,6,1,22623,,,0,"Release python-designateclient 3.0.0

Change-Id: Ic1ea8ccd1633bbb6cac3b6c6dd3a832525447a07
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/682156/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/python-designateclient.yaml'],1,c1ea1b22f84173d50ff871df8ad0c2a76000a7e3,, - version: 3.0.0 projects: - repo: openstack/python-designateclient hash: 093d8d7170cbf6ef8c7a7c0ff2a4dcd7ecd6361b,,4,0
openstack%2Freleases~master~I9bf8c4456ab9730993129d15dabc03812fda9ae8,openstack/releases,master,I9bf8c4456ab9730993129d15dabc03812fda9ae8,Manila highlights for Train,MERGED,2019-09-14 13:06:45.000000000,2019-09-16 09:13:38.000000000,2019-09-16 09:13:38.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-14 13:06:45.000000000', 'files': ['deliverables/train/manila.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a654353d08581615ad6749a9e877dbf3cfbd1667', 'message': 'Manila highlights for Train\n\nChange-Id: I9bf8c4456ab9730993129d15dabc03812fda9ae8\n'}]",0,682209,a654353d08581615ad6749a9e877dbf3cfbd1667,8,4,1,9003,,,0,"Manila highlights for Train

Change-Id: I9bf8c4456ab9730993129d15dabc03812fda9ae8
",git fetch https://review.opendev.org/openstack/releases refs/changes/09/682209/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/manila.yaml'],1,a654353d08581615ad6749a9e877dbf3cfbd1667,,"cycle-highlights: - | Manila share networks can now be created with multiple subnets, which may be in different availability zones. - | NetApp backend added support for replication when DHSS=True. - | GlusterFS back end added support for extend/shrink for directory layout. - | Added Infortrend driver with support for NFS and CIFS shares. - | CephFS backend now supports IPv6 exports and access lists. - | Added Inspur Instorage driver with support for NFS and CIFS shares.",,14,0
openstack%2Freleases~master~I7a837dc33cc99c23200528615512015e445b7b06,openstack/releases,master,I7a837dc33cc99c23200528615512015e445b7b06,Release manila-ui 2.19.0 and cut stable/train,MERGED,2019-09-14 12:26:53.000000000,2019-09-16 09:13:29.000000000,2019-09-16 09:13:29.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-14 12:26:53.000000000', 'files': ['deliverables/train/manila-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c71ed1f8ecb29bbdc126f419943143ca6f931e8b', 'message': 'Release manila-ui 2.19.0 and cut stable/train\n\nChange-Id: I7a837dc33cc99c23200528615512015e445b7b06\n'}]",0,682207,c71ed1f8ecb29bbdc126f419943143ca6f931e8b,7,4,1,9003,,,0,"Release manila-ui 2.19.0 and cut stable/train

Change-Id: I7a837dc33cc99c23200528615512015e445b7b06
",git fetch https://review.opendev.org/openstack/releases refs/changes/07/682207/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/manila-ui.yaml'],1,c71ed1f8ecb29bbdc126f419943143ca6f931e8b,,releases: - projects: - repo: openstack/manila-ui hash: 78815b46ab3b5a4e23ddad95f953831ddd6477bb version: 2.19.0 branches: - location: 2.19.0 name: stable/train,,8,0
openstack%2Freleases~master~Ief59e009754c3ce96c392e19975a9fd227bc9e05,openstack/releases,master,Ief59e009754c3ce96c392e19975a9fd227bc9e05,Release python-manilaclient 1.29.0 and cut stable/train,MERGED,2019-09-14 12:43:58.000000000,2019-09-16 09:13:28.000000000,2019-09-16 09:13:28.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-14 12:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a0f18bfc4a1e660b347e323df6e7bca185f55f36', 'message': 'Release python-manilaclient 1.29.0 and cut stable/train\n\nChange-Id: Ief59e009754c3ce96c392e19975a9fd227bc9e05\n'}, {'number': 2, 'created': '2019-09-14 13:17:07.000000000', 'files': ['deliverables/train/python-manilaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/90d8e16a54a4d9b8b39082036e35bc2a281b9acc', 'message': 'Release python-manilaclient 1.29.0 and cut stable/train\n\nChange-Id: Ief59e009754c3ce96c392e19975a9fd227bc9e05\n'}]",0,682208,90d8e16a54a4d9b8b39082036e35bc2a281b9acc,9,4,2,9003,,,0,"Release python-manilaclient 1.29.0 and cut stable/train

Change-Id: Ief59e009754c3ce96c392e19975a9fd227bc9e05
",git fetch https://review.opendev.org/openstack/releases refs/changes/08/682208/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/python-manilaclient.yaml'],1,a0f18bfc4a1e660b347e323df6e7bca185f55f36,, - version: 1.29.0 projects: - repo: openstack/python-manilaclient hash: 1b2cafb008bee70242b68a03212bcc575df683b9 branches: - location: 1.29.0 name: stable/train release-notes: https://docs.openstack.org/releasenotes/python-manilaclient/train.html,,8,0
openstack%2Freleases~master~I4ede8d0b70c40ac75d11b060a49008db38d08a44,openstack/releases,master,I4ede8d0b70c40ac75d11b060a49008db38d08a44,Prepare os-win Train branch,MERGED,2019-09-13 14:16:46.000000000,2019-09-16 09:11:52.000000000,2019-09-16 09:11:52.000000000,"[{'_account_id': 308}, {'_account_id': 8543}, {'_account_id': 11904}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-13 14:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/7c975a3ae4182707994b08fe4e5a8d2a6da80bed', 'message': 'Prepare os-win Train branch\n\nChange-Id: I4ede8d0b70c40ac75d11b060a49008db38d08a44\n'}, {'number': 2, 'created': '2019-09-13 14:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/445f2c7680c1fde9865b593ae38108300ec53ee8', 'message': 'Prepare os-win Train branch\n\nChange-Id: I4ede8d0b70c40ac75d11b060a49008db38d08a44\n'}, {'number': 3, 'created': '2019-09-13 14:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d47310820ab8b2e111cdd95ba57a74803a551430', 'message': 'Prepare os-win Train branch\n\nChange-Id: I4ede8d0b70c40ac75d11b060a49008db38d08a44\n'}, {'number': 4, 'created': '2019-09-13 19:03:17.000000000', 'files': ['deliverables/train/os-win.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/af0cf75c834714f7e87f92f664606be30e7db392', 'message': 'Prepare os-win Train branch\n\nChange-Id: I4ede8d0b70c40ac75d11b060a49008db38d08a44\n'}]",4,682063,af0cf75c834714f7e87f92f664606be30e7db392,18,7,4,8543,,,0,"Prepare os-win Train branch

Change-Id: I4ede8d0b70c40ac75d11b060a49008db38d08a44
",git fetch https://review.opendev.org/openstack/releases refs/changes/63/682063/3 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/os-win.yaml'],1,7c975a3ae4182707994b08fe4e5a8d2a6da80bed,os-win,branches: - location: 4.3.0 name: stable/stein release-notes: https://docs.openstack.org/releasenotes/os-win/train.html,,4,0
openstack%2Fneutron~master~Iea3f40bff00386f2dcc18df86b7d77524c4d5554,openstack/neutron,master,Iea3f40bff00386f2dcc18df86b7d77524c4d5554,Remove FWaaS v1 documentation stuff,ABANDONED,2019-08-13 03:54:18.000000000,2019-09-16 08:44:28.000000000,,"[{'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-08-13 03:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fbc3010ea1125e058d7f3c7071b1e20cf82b701c', 'message': 'Add a deprecated note of FWaaS v1\n\nChange-Id: Iea3f40bff00386f2dcc18df86b7d77524c4d5554\n'}, {'number': 2, 'created': '2019-08-14 07:44:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ea07e5cc3ded62028190f291d3bed0580267441', 'message': 'Add a deprecated note of FWaaS v1\n\nChange-Id: Iea3f40bff00386f2dcc18df86b7d77524c4d5554\n'}, {'number': 3, 'created': '2019-08-14 07:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c739996491f6d98869a81f0897125e88da9bfde', 'message': 'Remove FWaaS v1 documentation stuff\n\nChange-Id: Iea3f40bff00386f2dcc18df86b7d77524c4d5554\n'}, {'number': 4, 'created': '2019-08-14 07:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/97f8726ad29375484be9904e85bd0e4383339463', 'message': 'Remove FWaaS v1 documentation stuff\n\nChange-Id: Iea3f40bff00386f2dcc18df86b7d77524c4d5554\n'}, {'number': 5, 'created': '2019-09-03 07:49:47.000000000', 'files': ['doc/source/admin/fwaas.rst', 'doc/source/admin/figures/fwaas.png', 'doc/source/admin/fwaas-v1-scenario.rst', 'doc/source/admin/misc.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c664be0add03804107b19dcbdcd798c78064daa3', 'message': 'Remove FWaaS v1 documentation stuff\n\nChange-Id: Iea3f40bff00386f2dcc18df86b7d77524c4d5554\n'}]",1,676091,c664be0add03804107b19dcbdcd798c78064daa3,25,7,5,19779,,,0,"Remove FWaaS v1 documentation stuff

Change-Id: Iea3f40bff00386f2dcc18df86b7d77524c4d5554
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/676091/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/fwaas-v1-scenario.rst'],1,fbc3010ea1125e058d7f3c7071b1e20cf82b701c,deprecate_faasv1,.. warning:: Neutron FWaaS is deprecated as of Stein. please use :neutron-doc:` Firewall-as-a-Service (FWaaS v2) <admin/fwaas-v2-scenario>` instead. ,,5,0
openstack%2Fcharm-neutron-gateway~master~Ide79eba63517b6528028b00057e73a2d1d0efb73,openstack/charm-neutron-gateway,master,Ide79eba63517b6528028b00057e73a2d1d0efb73,fix misspelling,ABANDONED,2019-09-16 08:40:31.000000000,2019-09-16 08:41:50.000000000,,[],"[{'number': 1, 'created': '2019-09-16 08:40:31.000000000', 'files': ['files/neutron-ha-monitor.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/18d6d1400b8f4a3ac32df3c68b904c2c617dcd93', 'message': 'fix misspelling\n\nChange-Id: Ide79eba63517b6528028b00057e73a2d1d0efb73\n'}]",0,682298,18d6d1400b8f4a3ac32df3c68b904c2c617dcd93,2,0,1,27565,,,0,"fix misspelling

Change-Id: Ide79eba63517b6528028b00057e73a2d1d0efb73
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/98/682298/1 && git format-patch -1 --stdout FETCH_HEAD,['files/neutron-ha-monitor.py'],1,18d6d1400b8f4a3ac32df3c68b904c2c617dcd93,, logging.setup('Neutron-HA-Monitor') logging.setup('Neutron-HA-Monitor'), logging.setup('Neuron-HA-Monitor') logging.setup('Neuron-HA-Monitor'),2,2
openstack%2Fkarbor~master~Icad346bb6fd3efcac2f42fead1327585297f2f96,openstack/karbor,master,Icad346bb6fd3efcac2f42fead1327585297f2f96,Replace use of log.warn with log.warning,MERGED,2019-09-12 09:40:43.000000000,2019-09-16 08:22:52.000000000,2019-09-16 08:21:00.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 29272}]","[{'number': 1, 'created': '2019-09-12 09:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/19cdc601c2050dc763e150c94bea012af21334b1', 'message': 'Replace use of log.warn with log.warning\n\nLOG.warn is deprecated in Python3 and was used only here\nin karbor, this patch updates it to LOG.warning.\n\nChange-Id: Icad346bb6fd3efcac2f42fead1327585297f2f96\n'}, {'number': 2, 'created': '2019-09-16 01:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/77af47fe83ebb4d1b91bdb2b2cda431b277d12af', 'message': 'Replace use of log.warn with log.warning\n\nLOG.warn is deprecated in Python3 and was used only here\nin karbor, this patch updates it to LOG.warning.\n\nChange-Id: Icad346bb6fd3efcac2f42fead1327585297f2f96\n'}, {'number': 3, 'created': '2019-09-16 02:24:50.000000000', 'files': ['karbor/services/protection/manager.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/d8187d7e5fd91ad65b05a52e6ccc8fd0aa54f00c', 'message': 'Replace use of log.warn with log.warning\n\nLOG.warn is deprecated in Python3 and was used only here\nin karbor, this patch updates it to LOG.warning.\n\nChange-Id: Icad346bb6fd3efcac2f42fead1327585297f2f96\n'}]",0,681682,d8187d7e5fd91ad65b05a52e6ccc8fd0aa54f00c,12,3,3,29729,,,0,"Replace use of log.warn with log.warning

LOG.warn is deprecated in Python3 and was used only here
in karbor, this patch updates it to LOG.warning.

Change-Id: Icad346bb6fd3efcac2f42fead1327585297f2f96
",git fetch https://review.opendev.org/openstack/karbor refs/changes/82/681682/3 && git format-patch -1 --stdout FETCH_HEAD,['karbor/services/protection/manager.py'],1,19cdc601c2050dc763e150c94bea012af21334b1,," LOG.warning(""Delete checkpoint(%s) is not allowed."", checkpoint_id)"," LOG.warn(""Delete checkpoint(%s) is not allowed."" % checkpoint_id)",1,1
openstack%2Fopenstack-helm~master~I3ed7c055594f252e3d44611277f3e041a5d8ec6c,openstack/openstack-helm,master,I3ed7c055594f252e3d44611277f3e041a5d8ec6c,Support for Neutron Helm test cleanup and reset for abnormal failures,ABANDONED,2019-09-16 08:01:59.000000000,2019-09-16 08:02:42.000000000,,[],"[{'number': 1, 'created': '2019-09-16 08:01:59.000000000', 'files': ['neutron/templates/pod-rally-test.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/48c7654a932e740f68df8797538adde49fc3accd', 'message': 'Support for Neutron Helm test cleanup and reset for abnormal failures\n\nRally usually cleans up all its resources in normal executions - normal\ntest success cases and normal test failure cases. But the generic cleanup\ndoes not work well for out of the system failures like process\ninterruptions, pod failures, disaster cleanup etc.\nThis is a known issue in rally-openstack. -\n""Current generic mechanism is nice but it doesn\'t work enough well in real life.\nAnd in cases of existing users, persistence context\nand disaster cleanups it doesn\'t work well.""\n\nHence, if we shall face above such issues, it is becoming impossible\nto run ""helm test neutron"" again because of the stale data\nand different quota limits mentioned in the values.yaml.\nHence we need to purge the stale data from the ""test""\nproject as well as reset the quota limit for such scenarios.\n\nChange-Id: I3ed7c055594f252e3d44611277f3e041a5d8ec6c\n'}]",0,682291,48c7654a932e740f68df8797538adde49fc3accd,2,0,1,24817,,,0,"Support for Neutron Helm test cleanup and reset for abnormal failures

Rally usually cleans up all its resources in normal executions - normal
test success cases and normal test failure cases. But the generic cleanup
does not work well for out of the system failures like process
interruptions, pod failures, disaster cleanup etc.
This is a known issue in rally-openstack. -
""Current generic mechanism is nice but it doesn't work enough well in real life.
And in cases of existing users, persistence context
and disaster cleanups it doesn't work well.""

Hence, if we shall face above such issues, it is becoming impossible
to run ""helm test neutron"" again because of the stale data
and different quota limits mentioned in the values.yaml.
Hence we need to purge the stale data from the ""test""
project as well as reset the quota limit for such scenarios.

Change-Id: I3ed7c055594f252e3d44611277f3e041a5d8ec6c
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/91/682291/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/templates/pod-rally-test.yaml'],1,48c7654a932e740f68df8797538adde49fc3accd,helm_neutron_test_cleanup,,,0,1
openstack%2Freleases~master~Idc590a9940eeb1ecb367b08c2b623133aaf5f750,openstack/releases,master,Idc590a9940eeb1ecb367b08c2b623133aaf5f750,Release Kuryr-Kubernetes 1.1.0 and cut train,MERGED,2019-09-13 14:52:53.000000000,2019-09-16 07:59:53.000000000,2019-09-15 19:01:46.000000000,"[{'_account_id': 308}, {'_account_id': 11600}, {'_account_id': 11904}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 17068}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-13 14:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/96c89853dff0895429349bd810d2340bcd158ed9', 'message': 'Release Kuryr-Kubernetes 1.1.0 and cut train\n\nChange-Id: Idc590a9940eeb1ecb367b08c2b623133aaf5f750\n'}, {'number': 2, 'created': '2019-09-13 15:17:33.000000000', 'files': ['deliverables/train/kuryr-kubernetes.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/dc6ec2c5a77cd2721f80b7a4853c2e3af0a43713', 'message': 'Release Kuryr-Kubernetes 1.1.0 and cut train\n\nChange-Id: Idc590a9940eeb1ecb367b08c2b623133aaf5f750\n'}]",1,682073,dc6ec2c5a77cd2721f80b7a4853c2e3af0a43713,16,12,2,14885,,,0,"Release Kuryr-Kubernetes 1.1.0 and cut train

Change-Id: Idc590a9940eeb1ecb367b08c2b623133aaf5f750
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/682073/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/kuryr-kubernetes.yaml'],1,96c89853dff0895429349bd810d2340bcd158ed9,kuryr_train_deliverable,releases: - version: 1.1.0 projects: repo: openstack/kuryr-kubernetes hash: f009598f40f224cf59bb610d882534aa80ba3188,,5,0
openstack%2Foctavia-dashboard~master~I5d0953cba484b023d68124d75453e1864f5b420d,openstack/octavia-dashboard,master,I5d0953cba484b023d68124d75453e1864f5b420d,Imported Translations from Zanata,MERGED,2019-09-16 07:22:03.000000000,2019-09-16 07:53:19.000000000,2019-09-16 07:51:48.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 07:22:03.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/2f487eb5d1e164a07e2bf79292de6da6e552f5dc', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I5d0953cba484b023d68124d75453e1864f5b420d\n'}]",0,682285,2f487eb5d1e164a07e2bf79292de6da6e552f5dc,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I5d0953cba484b023d68124d75453e1864f5b420d
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/85/682285/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po'],1,2f487eb5d1e164a07e2bf79292de6da6e552f5dc,zanata/translations,"""POT-Creation-Date: 2019-09-13 17:29+0000\n""""PO-Revision-Date: 2019-09-15 04:10+0000\n""msgid ""3.0.0-23"" msgstr ""3.0.0-23""","""POT-Creation-Date: 2019-09-10 00:05+0000\n""""PO-Revision-Date: 2019-09-12 12:10+0000\n""msgid ""3.0.0-22"" msgstr ""3.0.0-22""",4,4
openstack%2Fopenstack-manuals~master~I2b01e8594538f4c3c2dba64bcbc14fee4eb76511,openstack/openstack-manuals,master,I2b01e8594538f4c3c2dba64bcbc14fee4eb76511,Imported Translations from Zanata,MERGED,2019-09-16 06:31:28.000000000,2019-09-16 07:32:23.000000000,2019-09-16 07:10:25.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 06:31:28.000000000', 'files': ['doc/image-guide/source/locale/ja/LC_MESSAGES/image-guide.po', 'doc/image-guide/source/locale/de/LC_MESSAGES/image-guide.po', 'doc/image-guide/source/locale/tr_TR/LC_MESSAGES/image-guide.po', 'doc/image-guide/source/locale/id/LC_MESSAGES/image-guide.po', 'doc/image-guide/source/locale/en_GB/LC_MESSAGES/image-guide.po'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/40a34580328fcc2cea6e5e230ea824d61799ce6c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2b01e8594538f4c3c2dba64bcbc14fee4eb76511\n'}]",0,682277,40a34580328fcc2cea6e5e230ea824d61799ce6c,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I2b01e8594538f4c3c2dba64bcbc14fee4eb76511
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/77/682277/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/image-guide/source/locale/ja/LC_MESSAGES/image-guide.po', 'doc/image-guide/source/locale/de/LC_MESSAGES/image-guide.po', 'doc/image-guide/source/locale/tr_TR/LC_MESSAGES/image-guide.po', 'doc/image-guide/source/locale/id/LC_MESSAGES/image-guide.po', 'doc/image-guide/source/locale/en_GB/LC_MESSAGES/image-guide.po']",5,40a34580328fcc2cea6e5e230ea824d61799ce6c,zanata/translations,"""POT-Creation-Date: 2019-09-12 14:47+0000\n""","""POT-Creation-Date: 2019-09-03 10:34+0000\n""""A UEC (Ubuntu Enterprise Cloud) tarball is a gzipped tarfile that contains "" ""an AMI file, AKI file, and ARI file."" msgstr """" ""A UEC (Ubuntu Enterprise Cloud) tarball is a gzipped tarfile that contains "" ""an AMI file, AKI file, and ARI file."" msgid ""A docker container format."" msgstr ""A Docker container format."" msgid """"""A kernel file that the hypervisor will load initially to boot the image. For "" ""a Linux machine, this would be a ``vmlinuz`` file."" msgstr """" ""A kernel file that the hypervisor will load initially to boot the image. For "" ""a Linux machine, this would be a ``vmlinuz`` file."" msgid """"msgid ""AKI (Amazon Kernel Image)"" msgstr ""AKI (Amazon Kernel Image)"" msgid ""AKI/AMI/ARI"" msgstr ""AKI/AMI/ARI"" msgid ""AMI (Amazon Machine Image)"" msgstr ""AMI (Amazon Machine Image)"" msgid ""ARI (Amazon Ramdisk Image)"" msgstr ""ARI (Amazon Ramdisk Image)"" msgid ""An Amazon kernel image."" msgstr ""An Amazon kernel image."" msgid ""An Amazon machine image."" msgstr ""An Amazon machine image."" msgid ""An Amazon ramdisk image."" msgstr ""An Amazon ramdisk image."" msgid """" ""An OVF package can be distributed in different ways. For example, it could "" ""be distributed as a set of discrete files, or as a tar archive file with an "" ""``.ova`` (open virtual appliance/application) extension."" msgstr """" ""An OVF package can be distributed in different ways. For example, it could "" ""be distributed as a set of discrete files, or as a tar archive file with an "" ""``.ova`` (open virtual appliance/application) extension."" msgid ""An OVF package in a tarfile."" msgstr ""An OVF package in a tarfile."" ""An archive format for the data contents of an optical disc, such as CD-ROM."" msgstr """" ""An archive format for the data contents of an optical disc, such as CD-ROM."" msgid """"msgid """" ""An optional ramdisk file mounted at boot time. For a Linux machine, this "" ""would be an ``initrd`` file."" msgstr """" ""An optional ramdisk file mounted at boot time. For a Linux machine, this "" ""would be an ``initrd`` file."" msgid """" ""An unstructured disk image format; if you have a file without an extension "" ""it is possibly a raw format."" msgstr """" ""An unstructured disk image format; if you have a file without an extension "" ""it is possibly a raw format."" ""Because qcow2 is sparse, qcow2 images are typically smaller than raw images. "" ""Smaller images mean faster uploads, so it is often faster to convert a raw "" ""image to qcow2 for uploading instead of uploading the raw file directly."" msgstr """" ""Because qcow2 is sparse, qcow2 images are typically smaller than raw images. "" ""Smaller images mean faster uploads, so it is often faster to convert a raw "" ""image to qcow2 for uploading instead of uploading the raw file directly."" msgid """" ""Because raw images do not support snapshots, OpenStack Compute will "" ""automatically convert raw image files to qcow2 as needed."" msgstr """" ""Because raw images do not support snapshots, OpenStack Compute will "" ""automatically convert raw image files to qcow2 as needed."" msgid """"msgid ""Common disk format supported by many common virtual machine monitors."" msgstr ""Common disk format supported by many common virtual machine monitors."" msgid """" ""Common image properties are also specified in the ``/etc/glance/schema-image."" ""json`` file. For a complete list of valid property keys and values, refer to "" ""the `Useful image properties <https://docs.openstack.org/glance/latest/admin/"" ""useful-image-properties.html>`_."" msgstr """" ""Common image properties are also specified in the ``/etc/glance/schema-image."" ""json`` file. For a complete list of valid property keys and values, refer to "" ""the `Useful image properties <https://docs.openstack.org/glance/latest/admin/"" ""useful-image-properties.html>`_."" msgid ""Container formats"" msgstr ""Container formats"" msgid ""Disk formats"" msgstr ""Disk formats"" msgid ""ISO"" msgstr ""ISO"" ""Image metadata can help end users determine the nature of an image, and is "" ""used by associated OpenStack components and drivers which interface with the "" ""Image service."" msgstr """" ""Image metadata can help end users determine the nature of an image, and is "" ""used by associated OpenStack components and drivers which interface with the "" ""Image service."" msgid """"msgid """" ""Metadata can also determine the scheduling of hosts. If the ``property`` "" ""option is set on an image, and Compute is configured so that the "" ""``ImagePropertiesFilter`` scheduler filter is enabled (default), then the "" ""scheduler only considers compute hosts that satisfy that property."" msgstr """" ""Metadata can also determine the scheduling of hosts. If the ``property`` "" ""option is set on an image, and Compute is configured so that the "" ""``ImagePropertiesFilter`` scheduler filter is enabled (default), then the "" ""scheduler only considers compute hosts that satisfy that property."" msgid ""Metadata definition service"" msgstr ""Metadata definition service"" msgid ""Microsoft Hyper-V uses the VHD (Virtual Hard Disk) format for images."" msgstr ""Microsoft Hyper-V uses the VHD (Virtual Hard Disk) format for images."" msgid ""OVF"" msgstr ""OVF"" msgid """" ""OpenStack Compute does not currently have support for OVF packages, so you "" ""will need to extract the image file(s) from an OVF package if you wish to "" ""use it with OpenStack."" msgstr """" ""OpenStack Compute does not currently have support for OVF packages, so you "" ""will need to extract the image file(s) from an OVF package if you wish to "" ""use it with OpenStack."" msgid ""QCOW2"" msgstr ""QCOW2"" msgid ""Raw"" msgstr ""Raw"" msgid ""Set the disk format for your image to one of the following values:"" msgstr ""Set the disk format for your image to one of the following values:"" msgid ""Support for snapshots."" msgstr ""Support for snapshots."" msgid ""Supported by VirtualBox virtual machine monitor and the QEMU emulator."" msgstr ""Supported by VirtualBox virtual machine monitor and the QEMU emulator."" msgid """" ""Supported by the QEMU emulator that can expand dynamically and supports Copy "" ""on Write."" msgstr """" ""Supported by the QEMU emulator that can expand dynamically and supports Copy "" ""on Write."" ""The Image service and other OpenStack projects do not currently support the "" ""container format. It is safe to specify ``bare`` as the container format if "" ""you are unsure."" msgstr """" ""The Image service and other OpenStack projects do not currently support the "" ""container format. It is safe to specify ``bare`` as the container format if "" ""you are unsure."" msgid """"msgid ""The OVF container format."" msgstr ""The OVF container format."" ""The VHD disk format, a common disk format used by virtual machine monitors "" ""from VMware, Xen, Microsoft, VirtualBox, and others."" msgstr """" ""The VHD disk format, a common disk format used by virtual machine monitors "" ""from VMware, Xen, Microsoft, VirtualBox, and others."" msgid """" ""The VHDX disk format, an enhanced version of the VHD format, which supports "" ""larger disk sizes among other features."" msgstr """" ""The VHDX disk format, an enhanced version of the VHD format, which supports "" ""larger disk sizes among other features."" msgid """" ""The `AKI/AMI/ARI <http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIs."" ""html>`_ format was the initial image format supported by Amazon EC2. The "" ""image consists of three files:"" msgstr """" ""The `AKI/AMI/ARI <http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIs."" ""html>`_ format was the initial image format supported by Amazon EC2. The "" ""image consists of three files:"" msgid """" ""The `ISO <http://www.ecma-international.org/publications/standards/Ecma-119."" ""htm>`_ format is a disk image formatted with the read-only ISO 9660 (also "" ""known as ECMA-119) filesystem commonly used for CDs and DVDs. While we do "" ""not normally think of ISO as a virtual machine image format, since ISOs "" ""contain bootable filesystems with an installed operating system, you can "" ""treat them the same as you treat other virtual machine image files."" msgstr """" ""The `ISO <http://www.ecma-international.org/publications/standards/Ecma-119."" ""htm>`_ format is a disk image formatted with the read-only ISO 9660 (also "" ""known as ECMA-119) filesystem commonly used for CDs and DVDs. While we do "" ""not normally think of ISO as a virtual machine image format, since ISOs "" ""contain bootable filesystems with an installed operating system, you can "" ""treat them the same as you treat other virtual machine image files."" msgid """"""The `QCOW2 <http://en.wikibooks.org/wiki/QEMU/Images>`_ (QEMU copy-on-write "" ""version 2) format is commonly used with the KVM hypervisor. It has some "" ""additional features over the raw format, such as:"" msgstr """" ""The `QCOW2 <http://en.wikibooks.org/wiki/QEMU/Images>`_ (QEMU copy-on-write "" ""version 2) format is commonly used with the KVM hypervisor. It has some "" ""additional features over the raw format, such as:"" msgid """"""The ``raw`` image format is the simplest one, and is natively supported by "" ""both KVM and Xen hypervisors. You can think of a raw image as being the bit-"" ""equivalent of a block device file, created as if somebody had copied, say, "" ""``/dev/sda`` to a file using the :command:`dd` command."" msgstr """" ""The ``raw`` image format is the simplest one, and is natively supported by "" ""both KVM and Xen hypervisors. You can think of a raw image as being the bit-"" ""equivalent of a block device file, created as if somebody had copied, say, "" ""``/dev/sda`` to a file using the :command:`dd` command."" msgid """"""The container format indicates whether the virtual machine image is in a "" ""file format that also contains metadata about the actual virtual machine."" msgstr """" ""The container format indicates whether the virtual machine image is in a "" ""file format that also contains metadata about the actual virtual machine."" msgid """"msgid """" ""The disk format of a virtual machine image is the format of the underlying "" ""disk image. Virtual appliance vendors have different formats for laying out "" ""the information contained in a virtual machine disk image."" msgstr """" ""The disk format of a virtual machine image is the format of the underlying "" ""disk image. Virtual appliance vendors have different formats for laying out "" ""the information contained in a virtual machine disk image."" msgid ""The image does not have a container or metadata envelope."" msgstr ""The image does not have a container or metadata envelope."" ""The version of Hyper-V that ships with Microsoft Server 2012 uses the newer "" ""`VHDX <http://technet.microsoft.com/en-us/library/hh831446.aspx>`_ format, "" ""which has some additional features over VHD such as support for larger disk "" ""sizes and protection against data corruption during power failures."" msgstr """" ""The version of Hyper-V that ships with Microsoft Server 2012 uses the newer "" ""`VHDX <http://technet.microsoft.com/en-us/library/hh831446.aspx>`_ format, "" ""which has some additional features over VHD such as support for larger disk "" ""sizes and protection against data corruption during power failures."" msgid """"msgid ""This is a virtual machine image in raw format, as described above."" msgstr ""This is a virtual machine image in raw format, as described above."" msgid ""UEC tarball"" msgstr ""UEC tarball"" msgid """" ""Ubuntu Enterprise Cloud refers to a discontinued Eucalyptus-based Ubuntu "" ""cloud solution that has been replaced by the OpenStack-based Ubuntu Cloud "" ""Infrastructure."" msgstr """" ""Ubuntu Enterprise Cloud refers to a discontinued Eucalyptus-based Ubuntu "" ""cloud solution that has been replaced by the OpenStack-based Ubuntu Cloud "" ""Infrastructure."" msgid ""Using sparse representation, so the image size is smaller."" msgstr ""Using sparse representation, so the image size is smaller."" msgid ""VDI"" msgstr ""VDI"" msgid ""VHD"" msgstr ""VHD"" msgid ""VHDX"" msgstr ""VHDX"" msgid ""VMDK"" msgstr ""VMDK"" msgid """" ""VMware ESXi hypervisor uses the `VMDK <https://developercenter.vmware.com/"" ""web/sdk/60/vddk>`_ (Virtual Machine Disk) format for images."" msgstr """" ""VMware ESXi hypervisor uses the `VMDK <https://developercenter.vmware.com/"" ""web/sdk/60/vddk>`_ (Virtual Machine Disk) format for images."" msgid """" ""Virtual machine images come in different formats, some of which are "" ""described below."" msgstr """" ""Virtual machine images come in different formats, some of which are "" ""described below."" msgid """" ""VirtualBox uses the `VDI <https://forums.virtualbox.org/viewtopic.php?"" ""t=8046>`_ (Virtual Disk Image) format for image files. None of the OpenStack "" ""Compute hypervisors support VDI directly, so you will need to convert these "" ""files to a different format to use them with OpenStack."" msgstr """" ""VirtualBox uses the `VDI <https://forums.virtualbox.org/viewtopic.php?"" ""t=8046>`_ (Virtual Disk Image) format for image files. None of the OpenStack "" ""Compute hypervisors support VDI directly, so you will need to convert these "" ""files to a different format to use them with OpenStack."" ""We do not recommend creating raw images by dd'ing block device files, we "" ""discuss how to create raw images later."" msgstr """" ""We do not recommend creating raw images by dd'ing block device files, we "" ""discuss how to create raw images later."" msgid """"msgid """" ""When you add an image to the Image service, you can specify its disk and "" ""container formats."" msgstr """" ""When you add an image to the Image service, you can specify its disk and "" ""container formats."" ""You can set the container format for your image to one of the following "" ""values:"" msgstr """" ""You can set the container format for your image to one of the following "" ""values:"" msgid """"""`OVF <http://dmtf.org/sites/default/files/OVF_Overview_Document_2010.pdf>`_ "" ""(Open Virtualization Format) is a packaging format for virtual machines, "" ""defined by the Distributed Management Task Force (DMTF) standards group. An "" ""OVF package contains one or more image files, a ``.ovf`` XML metadata file "" ""that contains information about the virtual machine, and possibly other "" ""files as well."" msgstr """" ""`OVF <http://dmtf.org/sites/default/files/OVF_Overview_Document_2010.pdf>`_ "" ""(Open Virtualisation Format) is a packaging format for virtual machines, "" ""defined by the Distributed Management Task Force (DMTF) standards group. An "" ""OVF package contains one or more image files, a ``.ovf`` XML metadata file "" ""that contains information about the virtual machine, and possibly other "" ""files as well."" msgid """"msgid ""aki"" msgstr ""aki"" msgid ""ami"" msgstr ""ami"" msgid ""ari"" msgstr ""ari"" msgid ""bare"" msgstr ""bare"" msgid ""docker"" msgstr ""Docker"" msgid ""iso"" msgstr ""ISO"" msgid ""ova"" msgstr ""OVA"" msgid ""ovf"" msgstr ""OVF"" msgid ""qcow2"" msgstr ""qcow2"" msgid ""vdi"" msgstr ""VDI"" msgid ""vhd"" msgstr ""VHD"" msgid ""vhdx"" msgstr ""VHDX"" msgid ""vmdk"" msgstr ""VMDK""",185,1990
openstack%2Fopenstack-helm~master~Iedd1904418a04daa6a54928225a8d04ff3edfbe7,openstack/openstack-helm,master,Iedd1904418a04daa6a54928225a8d04ff3edfbe7,[RFC] Allow values in override to take ENVVAR,ABANDONED,2019-09-13 18:40:54.000000000,2019-09-16 07:17:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-13 18:40:54.000000000', 'files': ['tools/deployment/common/get-values-overrides.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/16e8ac9bf8cc40e9e5595140d9dc1080b41ca16f', 'message': '[RFC] Allow values in override to take ENVVAR\n\nThis patch set allows the ability for value override to take values\nfrom environment variables.\n\nChange-Id: Iedd1904418a04daa6a54928225a8d04ff3edfbe7\nSigned-off-by: Tin Lam <tin@irrational.io>\n'}]",0,682135,16e8ac9bf8cc40e9e5595140d9dc1080b41ca16f,3,1,1,20466,,,0,"[RFC] Allow values in override to take ENVVAR

This patch set allows the ability for value override to take values
from environment variables.

Change-Id: Iedd1904418a04daa6a54928225a8d04ff3edfbe7
Signed-off-by: Tin Lam <tin@irrational.io>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/35/682135/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/common/get-values-overrides.sh'],1,16e8ac9bf8cc40e9e5595140d9dc1080b41ca16f,dynamic-overrides," envsubst < ${FILE_PATH} > /tmp/${HELM_CHART}-${FILE}.yaml OVERRIDE_ARGS+="" --values=/tmp/${HELM_CHART}-${FILE}.yaml """," OVERRIDE_ARGS+="" --values=${FILE_PATH} """,2,1
openstack%2Foctavia~stable%2Fstein~If529503286eb23ffa80880ae94cca143ae798729,openstack/octavia,stable/stein,If529503286eb23ffa80880ae94cca143ae798729,Remove tempest.test_plugins from setup.cfg,ABANDONED,2019-05-29 11:25:15.000000000,2019-09-16 07:06:48.000000000,,"[{'_account_id': 5689}, {'_account_id': 6469}, {'_account_id': 10068}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-29 11:25:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/octavia/commit/f85358bd7df54f6f088f26f6790e103edf5bdd40', 'message': 'Remove tempest.test_plugins from setup.cfg\n\nThis commit removes tempest.test_plugins entry from setup.cfg since we\nalready removed it in the past commit[0]. Otherwise, the\nplugin-sanity-check job in tempest would be failed and the\nplugin-registry page[1] would be incorrect.\n\n[0] https://review.opendev.org/#/c/656707/\n[1] https://docs.openstack.org/tempest/latest/plugin-registry.html\n\nChange-Id: If529503286eb23ffa80880ae94cca143ae798729\n(cherry picked from commit 88c4b9bb9dd2019ba75ade3983ed4bcf75fd36d2)\n'}]",0,661943,f85358bd7df54f6f088f26f6790e103edf5bdd40,6,5,1,29830,,,0,"Remove tempest.test_plugins from setup.cfg

This commit removes tempest.test_plugins entry from setup.cfg since we
already removed it in the past commit[0]. Otherwise, the
plugin-sanity-check job in tempest would be failed and the
plugin-registry page[1] would be incorrect.

[0] https://review.opendev.org/#/c/656707/
[1] https://docs.openstack.org/tempest/latest/plugin-registry.html

Change-Id: If529503286eb23ffa80880ae94cca143ae798729
(cherry picked from commit 88c4b9bb9dd2019ba75ade3983ed4bcf75fd36d2)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/43/661943/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f85358bd7df54f6f088f26f6790e103edf5bdd40,remove-tempest-plugins-entry-stable/stein,,tempest.test_plugins = octavia = octavia.tests.tempest.plugin:OctaviaTempestPlugin,0,2
openstack%2Fpython-aodhclient~master~Ifea7c76efeb96af3b8ef4a21529e5b60fd1f0348,openstack/python-aodhclient,master,Ifea7c76efeb96af3b8ef4a21529e5b60fd1f0348,Bump the openstackdocstheme extension to 1.20,MERGED,2019-07-08 02:21:22.000000000,2019-09-16 06:36:59.000000000,2019-09-16 06:35:52.000000000,"[{'_account_id': 14107}, {'_account_id': 18955}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-08 02:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/d6f5da5deef0f1773633dbfce69b929c4d5cf9ff', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Ifea7c76efeb96af3b8ef4a21529e5b60fd1f0348\n'}, {'number': 2, 'created': '2019-07-09 08:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/385e19994cb1867875a648651b8337191ecdd741', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Ifea7c76efeb96af3b8ef4a21529e5b60fd1f0348\n'}, {'number': 3, 'created': '2019-08-01 01:47:11.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/0d7aa08238edb753469c9dbe56ecfbc747861687', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Ifea7c76efeb96af3b8ef4a21529e5b60fd1f0348\n'}]",0,669585,0d7aa08238edb753469c9dbe56ecfbc747861687,14,3,3,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: Ifea7c76efeb96af3b8ef4a21529e5b60fd1f0348
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/85/669585/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py']",3,d6f5da5deef0f1773633dbfce69b929c4d5cf9ff,openstackdocstheme,,"project = u'Aodh Client Release Notes'# Release notes are version independent. # The short X.Y version. version = '' # The full version, including alpha/beta/rc tags. release = '' # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. html_last_updated_fmt = '%Y-%m-%d %H:%M' latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } ",4,28
openstack%2Fkarbor~master~I3ce4517368fc82aac4eb81c801d6f81a8536e169,openstack/karbor,master,I3ce4517368fc82aac4eb81c801d6f81a8536e169,Remove the code which is unreachable,MERGED,2019-09-16 03:14:18.000000000,2019-09-16 05:58:45.000000000,2019-09-16 05:57:43.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 29272}]","[{'number': 1, 'created': '2019-09-16 03:14:18.000000000', 'files': ['karbor/services/protection/protection_plugins/network/neutron_protection_plugin.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/7fd5d54e2bf033f0f6a5347e38adcd725cc9d9b5', 'message': 'Remove the code which is unreachable\n\nCurrently, in neutron_protection_plugin, some code is\nunreachable and will never be executed. This patch will\nremove them.\n\nChange-Id: I3ce4517368fc82aac4eb81c801d6f81a8536e169\n'}]",0,682268,7fd5d54e2bf033f0f6a5347e38adcd725cc9d9b5,8,3,1,21224,,,0,"Remove the code which is unreachable

Currently, in neutron_protection_plugin, some code is
unreachable and will never be executed. This patch will
remove them.

Change-Id: I3ce4517368fc82aac4eb81c801d6f81a8536e169
",git fetch https://review.opendev.org/openstack/karbor refs/changes/68/682268/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/services/protection/protection_plugins/network/neutron_protection_plugin.py'],1,7fd5d54e2bf033f0f6a5347e38adcd725cc9d9b5,unreachable-code,, else: return [] else: return [] else: return [] else: return [] else: return [],0,10
openstack%2Fironic-lib~master~I8b42ab0f057cb33c1ec93adfa32c45aafc2730b0,openstack/ironic-lib,master,I8b42ab0f057cb33c1ec93adfa32c45aafc2730b0,Build pdf doc,MERGED,2019-06-21 08:27:21.000000000,2019-09-16 05:46:41.000000000,2019-09-09 15:58:42.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-06-21 08:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/b28600fd89e236077e068a67a04072cd975acbd6', 'message': '[PoC] Enable creating pdf doc\n\nRequires additional package xindy to build.\n\nChange-Id: I8b42ab0f057cb33c1ec93adfa32c45aafc2730b0\n'}, {'number': 2, 'created': '2019-09-05 07:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/282efe339e4e8783e1faa3ed5dc7cea43c85ea90', 'message': 'Build pdf doc\n\nThe is one of community goals that each project could produce a\nsingle PDF file. The pdf should be in the output of openstack-tox-docs\njob.\n\nTeX packages are required to build PDF locally, following is recommended:\n\n* inkscape\n* texlive-latex-base\n* texlive-latex-extra\n* texlive-fonts-recommended\n\nMore about the goal:\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\nhttps://etherpad.openstack.org/p/train-pdf-support-goal\nhttps://etherpad.openstack.org/p/pdf-goal-train-common-problems\n\nChange-Id: I8b42ab0f057cb33c1ec93adfa32c45aafc2730b0\n'}, {'number': 3, 'created': '2019-09-06 00:46:52.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/aa44aadb72a706700c79308b028e6336b762da21', 'message': 'Build pdf doc\n\nThe is one of community goals that each project could produce a\nsingle PDF file. The pdf should be in the output of openstack-tox-docs\njob.\n\nTeX packages are required to build PDF locally, following is recommended:\n\n* inkscape\n* texlive-latex-base\n* texlive-latex-extra\n* texlive-fonts-recommended\n\nMore about the goal:\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\nhttps://etherpad.openstack.org/p/train-pdf-support-goal\nhttps://etherpad.openstack.org/p/pdf-goal-train-common-problems\n\nChange-Id: I8b42ab0f057cb33c1ec93adfa32c45aafc2730b0\n'}]",0,666785,aa44aadb72a706700c79308b028e6336b762da21,17,5,3,24828,,,0,"Build pdf doc

The is one of community goals that each project could produce a
single PDF file. The pdf should be in the output of openstack-tox-docs
job.

TeX packages are required to build PDF locally, following is recommended:

* inkscape
* texlive-latex-base
* texlive-latex-extra
* texlive-fonts-recommended

More about the goal:
https://governance.openstack.org/tc/goals/train/pdf-doc-generation.html
https://etherpad.openstack.org/p/train-pdf-support-goal
https://etherpad.openstack.org/p/pdf-goal-train-common-problems

Change-Id: I8b42ab0f057cb33c1ec93adfa32c45aafc2730b0
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/85/666785/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/conf.py', 'lower-constraints.txt', 'tox.ini']",4,b28600fd89e236077e068a67a04072cd975acbd6,build-pdf-docs,[testenv:pdfdocs] whitelist_externals = make basepython = python3 setenv = PYTHONHASHSEED=0 sitepackages = False envdir = {toxworkdir}/venv commands = sphinx-build -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,12,3
openstack%2Fdiskimage-builder~master~Ic2eee8f5b64c7020e98e0b1ef43a40f24411891a,openstack/diskimage-builder,master,Ic2eee8f5b64c7020e98e0b1ef43a40f24411891a,"Revert ""Fixed use of flake8""",MERGED,2019-09-16 00:20:09.000000000,2019-09-16 05:38:33.000000000,2019-09-16 05:37:28.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-16 00:20:09.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8c85a7ed5df939d7d247cb8479deb12ed79f5e6c', 'message': 'Revert ""Fixed use of flake8""\n\nThis reverts commit 74317a34454e3cfbb51ec7e0416b4188f1416418.\n\nWhat I missed was that ""dib-lint"" is distributed and people use this\nto lint their out-of-tree elements (e.g. project-config).  Because\ndib-lint runs flake8 that really makes it a valid runtime dependency.\n\nHowever, I don\'t think we need to pin to these particular versions of\nflake8 in requirements (which I think was causing the original issues,\nas it\'s fairly specific and easily conflicts).  It seems to make more\nsense to use the current uncapped ""hacking"" versions; so move them\nfrom test-requirements.txt.  Add a note so we don\'t forget again.\n\nChange-Id: Ic2eee8f5b64c7020e98e0b1ef43a40f24411891a\n'}]",0,682257,8c85a7ed5df939d7d247cb8479deb12ed79f5e6c,7,2,1,7118,,,0,"Revert ""Fixed use of flake8""

This reverts commit 74317a34454e3cfbb51ec7e0416b4188f1416418.

What I missed was that ""dib-lint"" is distributed and people use this
to lint their out-of-tree elements (e.g. project-config).  Because
dib-lint runs flake8 that really makes it a valid runtime dependency.

However, I don't think we need to pin to these particular versions of
flake8 in requirements (which I think was causing the original issues,
as it's fairly specific and easily conflicts).  It seems to make more
sense to use the current uncapped ""hacking"" versions; so move them
from test-requirements.txt.  Add a note so we don't forget again.

Change-Id: Ic2eee8f5b64c7020e98e0b1ef43a40f24411891a
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/57/682257/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,8c85a7ed5df939d7d247cb8479deb12ed79f5e6c,dib-lint-flake8,,"hacking<1.2.0,>=1.1.0",2,1
openstack%2Fkuryr-libnetwork~master~Ibed8ffe0effaf523fff2e5eaebcc0dad45c62d54,openstack/kuryr-libnetwork,master,Ibed8ffe0effaf523fff2e5eaebcc0dad45c62d54,Bump the openstackdocstheme extension to 1.20,NEW,2019-07-26 07:20:51.000000000,2019-09-16 05:27:14.000000000,,"[{'_account_id': 11536}, {'_account_id': 18955}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-26 07:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/8c6f96f292d5b8511133a215e4c9bad841ef18e0', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Ibed8ffe0effaf523fff2e5eaebcc0dad45c62d54\n'}, {'number': 2, 'created': '2019-08-01 02:36:47.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/493ab79317af469e5b793043bedbed136d5ff292', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Ibed8ffe0effaf523fff2e5eaebcc0dad45c62d54\n'}]",2,672895,493ab79317af469e5b793043bedbed136d5ff292,6,3,2,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: Ibed8ffe0effaf523fff2e5eaebcc0dad45c62d54
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/95/672895/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/conf.py', 'releasenotes/source/conf.py']",3,8c6f96f292d5b8511133a215e4c9bad841ef18e0,openstackdocstheme,,"project = u'Kuryr-Libnetwork'html_last_updated_fmt = '%Y-%m-%d %H:%M' # Release notes do not need a version number in the title, they # cover multiple releases. # The short X.Y version. version = '' # The full version, including alpha/beta/rc tags. release = ''latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # # 'preamble': '', # Latex figure (float) alignment # # 'figure_align': 'htbp', } ",4,33
openstack%2Fproject-config~master~I9870a57831f2a2d5f5d3641a2290d3bc66d0523d,openstack/project-config,master,I9870a57831f2a2d5f5d3641a2290d3bc66d0523d,Fix dib job,ABANDONED,2019-09-14 16:08:22.000000000,2019-09-16 04:48:32.000000000,,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-14 16:08:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3bd24dec7bf932a5b7a09a084b28714a11fc3101', 'message': ""Fix dib job\n\ndiskimage-builder now runs flake8, ensure that it's installed\nwith installing hacking.\n\nChange-Id: I9870a57831f2a2d5f5d3641a2290d3bc66d0523d\n""}]",0,682218,3bd24dec7bf932a5b7a09a084b28714a11fc3101,5,3,1,6547,,,0,"Fix dib job

diskimage-builder now runs flake8, ensure that it's installed
with installing hacking.

Change-Id: I9870a57831f2a2d5f5d3641a2290d3bc66d0523d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/18/682218/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3bd24dec7bf932a5b7a09a084b28714a11fc3101,fix-dib," # diskimage-builder's dib-lint requires flake8, use # same requirements as the version. It's not in the requirements # list. hacking<1.2.0,>=1.1.0",,4,0
openstack%2Ftempest~master~I22d787071f8509328c615a8d311ebb2802e96763,openstack/tempest,master,I22d787071f8509328c615a8d311ebb2802e96763,Modify the list group date,MERGED,2019-08-06 07:05:41.000000000,2019-09-16 04:46:04.000000000,2019-09-16 04:44:52.000000000,"[{'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 17887}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23186}, {'_account_id': 30643}]","[{'number': 1, 'created': '2019-08-06 07:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/68629be6f68f036eb442ae85705a46124684e5d6', 'message': 'Modify the list group date\n\nModify the list group date to the correct value according to the API document described\n\nChange-Id: I22d787071f8509328c615a8d311ebb2802e96763\n'}, {'number': 2, 'created': '2019-08-06 09:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a12f67643f9339164321182384491f524efae4e7', 'message': 'Modify the list group date\n\nModify the list group date to the correct value according to the API document described\n\nChange-Id: I22d787071f8509328c615a8d311ebb2802e96763\n'}, {'number': 3, 'created': '2019-08-09 06:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bb4961f38e03851eea5c712bda38e5ae3e9d2ca1', 'message': 'Modify the list group date\n\nModify the list group date to the correct value according to the API document described\n\nChange-Id: I22d787071f8509328c615a8d311ebb2802e96763\n'}, {'number': 4, 'created': '2019-08-12 06:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6bd59d66eaa035d7f777fc9049db8cf5290b7120', 'message': 'Modify the list group date\n\nModify the list group date to the correct value according to the API document described\n\nChange-Id: I22d787071f8509328c615a8d311ebb2802e96763\n'}, {'number': 5, 'created': '2019-08-21 11:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/21592a85bde1c52088ec2ae6f72bdae52f331b97', 'message': 'Modify the list group date\n\nModify the list group date to the correct value according to the API document described\n\nChange-Id: I22d787071f8509328c615a8d311ebb2802e96763\n'}, {'number': 6, 'created': '2019-08-27 01:12:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/47cf03a5856bcaa57af638a6688818330b4122af', 'message': 'Modify the list group date\n\nModify the list group date to the correct value according to the API document described\n\nChange-Id: I22d787071f8509328c615a8d311ebb2802e96763\n'}, {'number': 7, 'created': '2019-08-27 03:02:17.000000000', 'files': ['tempest/tests/lib/services/volume/v3/test_group_snapshots_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2b1cb507d15b5f8451e5bed00edb11e5edcfbcd7', 'message': 'Modify the list group date\n\nModify the list group date to the correct value according to the API document described\n\nChange-Id: I22d787071f8509328c615a8d311ebb2802e96763\n'}]",11,674741,2b1cb507d15b5f8451e5bed00edb11e5edcfbcd7,31,7,7,30643,,,0,"Modify the list group date

Modify the list group date to the correct value according to the API document described

Change-Id: I22d787071f8509328c615a8d311ebb2802e96763
",git fetch https://review.opendev.org/openstack/tempest refs/changes/41/674741/6 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/lib/services/volume/v3/test_group_snapshots_client.py'],1,68629be6f68f036eb442ae85705a46124684e5d6,, 'name': group_snapshot['name']}," 'name': group_snapshot['name'], 'group_type_id': group_snapshot['group_type_id']}",1,2
openstack%2Ffreezer-web-ui~master~If6920b3884ff21dfe94aa8977c91d264e47ac1af,openstack/freezer-web-ui,master,If6920b3884ff21dfe94aa8977c91d264e47ac1af,Use opendev repository,ABANDONED,2019-04-24 05:21:53.000000000,2019-09-16 03:12:46.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28471}, {'_account_id': 28614}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-04-24 05:21:53.000000000', 'files': ['devstack/gate_hook.sh', 'README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/91e3eb0294df9e44c81c101ff78265cd20ac1f85', 'message': 'Use opendev repository\n\nChange-Id: If6920b3884ff21dfe94aa8977c91d264e47ac1af\n'}]",1,655293,91e3eb0294df9e44c81c101ff78265cd20ac1f85,9,6,1,26584,,,0,"Use opendev repository

Change-Id: If6920b3884ff21dfe94aa8977c91d264e47ac1af
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/93/655293/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/gate_hook.sh', 'README.rst', 'tox.ini']",3,91e3eb0294df9e44c81c101ff78265cd20ac1f85,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},3,3
openstack%2Fcloudkitty-specs~master~Id76d7ad7545269352452d0b6df9d86e822c6d0f1,openstack/cloudkitty-specs,master,Id76d7ad7545269352452d0b6df9d86e822c6d0f1,Use opendev repository,ABANDONED,2019-04-23 09:05:19.000000000,2019-09-16 03:12:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 23060}]","[{'number': 1, 'created': '2019-04-23 09:05:19.000000000', 'files': ['specs/template.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/74fffb0c2e0b6dc41be14b4da9ab5b285fc60c90', 'message': 'Use opendev repository\n\nChange-Id: Id76d7ad7545269352452d0b6df9d86e822c6d0f1\n'}]",0,654887,74fffb0c2e0b6dc41be14b4da9ab5b285fc60c90,4,2,1,26584,,,0,"Use opendev repository

Change-Id: Id76d7ad7545269352452d0b6df9d86e822c6d0f1
",git fetch https://review.opendev.org/openstack/cloudkitty-specs refs/changes/87/654887/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/template.rst'],1,74fffb0c2e0b6dc41be14b4da9ab5b285fc60c90,,https://opendev.org/openstack/nova/src/branch/master/nova/api/openstack/compute/schemas,https://git.openstack.org/cgit/openstack/nova/tree/nova/api/openstack/compute/schemas,1,1
openstack%2Fansible-role-systemd_service~master~I4e8b2e23d0be0edac60068c8dde077235b018642,openstack/ansible-role-systemd_service,master,I4e8b2e23d0be0edac60068c8dde077235b018642,Update to opendev,ABANDONED,2019-04-23 05:26:32.000000000,2019-09-16 03:12:22.000000000,,"[{'_account_id': 7353}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 26584}]","[{'number': 1, 'created': '2019-04-23 05:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/3e29ff1b03460e1fabdc068218f187d0965dd1f0', 'message': 'Update to opendev\n\nChange-Id: I4e8b2e23d0be0edac60068c8dde077235b018642\n'}, {'number': 2, 'created': '2019-04-24 01:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/1a07f23cf3b3576e7787d823b54afc4156b96759', 'message': 'Update to opendev\n\nChange-Id: I4e8b2e23d0be0edac60068c8dde077235b018642\n'}, {'number': 3, 'created': '2019-04-24 01:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/e0316ec10c06a7aa82c35a2b8479c33a8e1c1440', 'message': 'Update to opendev\n\nChange-Id: I4e8b2e23d0be0edac60068c8dde077235b018642\n'}, {'number': 4, 'created': '2019-05-27 01:49:57.000000000', 'files': ['html-docs/search.html', 'html-docs/genindex.html', 'ansible-role-requirements.yaml', 'html-docs/_static/js/docs.js', 'doc/source/conf.py', 'html-docs/index.html', 'tox.ini', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_service/commit/488f8cca8620422c9a66fa062594c54a1bde331a', 'message': 'Update to opendev\n\nChange-Id: I4e8b2e23d0be0edac60068c8dde077235b018642\n'}]",9,654744,488f8cca8620422c9a66fa062594c54a1bde331a,16,5,4,26584,,,0,"Update to opendev

Change-Id: I4e8b2e23d0be0edac60068c8dde077235b018642
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_service refs/changes/44/654744/4 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'bindep.txt', 'html-docs/search.html', 'html-docs/genindex.html', 'ansible-role-requirements.yaml', 'html-docs/_static/js/docs.js', 'Vagrantfile', 'doc/source/conf.py', 'html-docs/index.html', 'tox.ini', 'releasenotes/source/conf.py']",11,3e29ff1b03460e1fabdc068218f187d0965dd1f0,," ""https://opendev.org/openstack/{}"".format(target_name)"," ""https://git.openstack.org/cgit/openstack/{}"".format(target_name)",16,16
openstack%2Fwatcher-specs~master~I010b340cb3a715f39de726d1ec0c94659b337cd4,openstack/watcher-specs,master,I010b340cb3a715f39de726d1ec0c94659b337cd4,node resource consolidation spec,MERGED,2019-08-12 11:47:09.000000000,2019-09-16 03:10:47.000000000,2019-09-16 03:10:47.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-08-12 11:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/c86b5239cb57eb4bad1604dc707f78a5b14751fa', 'message': '[WiP] node resource consolidation spec\n\nPartially Implements: blueprint node-resource-consolidation\n\nChange-Id: I010b340cb3a715f39de726d1ec0c94659b337cd4\n'}, {'number': 2, 'created': '2019-08-13 08:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/716f1a6e90f9c6b7bcba307076a99b67f1a358d3', 'message': 'node resource consolidation spec\n\nPartially Implements: blueprint node-resource-consolidation\n\nChange-Id: I010b340cb3a715f39de726d1ec0c94659b337cd4\n'}, {'number': 3, 'created': '2019-08-31 08:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/13d77cba4aa99d5cd231d25d908dddd508b9c2e0', 'message': 'node resource consolidation spec\n\nPartially Implements: blueprint node-resource-consolidation\n\nChange-Id: I010b340cb3a715f39de726d1ec0c94659b337cd4\n'}, {'number': 4, 'created': '2019-09-10 02:00:17.000000000', 'files': ['specs/train/approved/node-resource-consolidation.rst'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/e634b830228b5eaace9faa7bb6ff622572c8c0fc', 'message': 'node resource consolidation spec\n\nPartially Implements: blueprint node-resource-consolidation\n\nChange-Id: I010b340cb3a715f39de726d1ec0c94659b337cd4\n'}]",15,675871,e634b830228b5eaace9faa7bb6ff622572c8c0fc,18,4,4,21692,,,0,"node resource consolidation spec

Partially Implements: blueprint node-resource-consolidation

Change-Id: I010b340cb3a715f39de726d1ec0c94659b337cd4
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/71/675871/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/node-resource-consolidation.rst'],1,c86b5239cb57eb4bad1604dc707f78a5b14751fa,bp/node-resource-consolidation,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================== Node Resource Consolidation =========================== https://blueprints.launchpad.net/watcher/+spec/node-resource-consolidation Problem description =================== In the edge computing system, the edge nodes are distributed in different locations. Although the total number of edge nodes may be large, the number of edge nodes in each location is limited, so the resources(CPU, memory) are limited. Dynamically running applications on edge nodes correspond to the dynamic creation and release of resources. During this process, resource fragments are generated, which may cause new applications to fail because they do not have enough resources. Use Cases ---------- As a Watcher user, I wish Watcher provides a strategy which can eliminate resource fragmentation by consolidating resources on nodes. Proposed change =============== * Add a new strategy: Node Resource Consolidation * the algorithm of this strategy: * caculating the resource used percent of compute noedes * sorting compute nodes by the resource used percent * dividing compute nodes into source group and destination group. * creating solution, the main action is server migration. For server migration, the destination node can be selected by Nova schedular or Watcher. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: licanwei Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ * Include specific references to specs and/or blueprints in Watcher, or in other projects, that this one either depends on or is related to. * If this requires functionality of another project that is not currently used by Watcher (such as the glance v2 API when we previously only required v1), document that fact. * Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? Testing ======= Please discuss the important scenarios needed to test here, as well as specific edge cases we should be ensuring work correctly. For each scenario please specify if this requires specialized hardware, a full openstack environment, or can be simulated inside the Watcher tree. Please discuss how the change will be tested. We especially want to know what tempest tests will be added. It is assumed that unit test coverage will be added so that doesn't need to be mentioned explicitly, but discussion of why you think unit tests are sufficient and we don't need to add more tempest tests would need to be included. Is this untestable in gate given current limitations (specific hardware / software configurations available)? If so, are there mitigation plans (3rd party testing, gate enhancements, etc). Documentation Impact ==================== What is the impact on the docs team of this change? Some changes might require donating resources to the docs team to have the documentation updated. Don't repeat details discussed above, but please reference them here. References ========== None History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Introduced ",,165,0
openstack%2Fnova~master~Ib37ff6fc2e1f9de0e60adca54e87c74f45f12ffa,openstack/nova,master,Ib37ff6fc2e1f9de0e60adca54e87c74f45f12ffa,Add compatibility checks for CPU mode and CPU models and extra flags,MERGED,2019-07-11 12:59:52.000000000,2019-09-16 03:07:48.000000000,2019-09-11 23:15:21.000000000,"[{'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 6962}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27614}, {'_account_id': 28706}]","[{'number': 1, 'created': '2019-07-11 12:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/496075f4d3a4c4c939fb70b2a115040ecf4f30e9', 'message': ""Add compatibility checks for CPU mode and CPU models and extra flags\n\nAdd new method '_check_cpu_compability' in driver. It is used to check\nif the configuration of cpu_mode/cpu_models/cpu_model_extra_flags is\ncorrect and compatible with guest CPU.\n\nThe method will be called when the service(use libvirt driver) start, if\nthe configuration is not correct, an exception will be raised.\n\nChange-Id: Ib37ff6fc2e1f9de0e60adca54e87c74f45f12ffa\nImplements: blueprint cpu-model-selectio\n""}, {'number': 2, 'created': '2019-07-12 04:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d636ca3d0443c3eed536176341f6f669bf826a3c', 'message': ""Add compatibility checks for CPU mode and CPU models and extra flags\n\nAdd new method '_check_cpu_compability' in driver. It is used to check\nif the configuration of cpu_mode/cpu_models/cpu_model_extra_flags is\ncorrect and compatible with guest CPU.\n\nThe method will be called when the service(use libvirt driver) start, if\nthe configuration is not correct, an exception will be raised.\n\nChange-Id: Ib37ff6fc2e1f9de0e60adca54e87c74f45f12ffa\nImplements: blueprint cpu-model-selection\n""}, {'number': 3, 'created': '2019-07-15 01:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/98fc112773123d0f82c996fb8b5f1d7ae1c3482b', 'message': ""Add compatibility checks for CPU mode and CPU models and extra flags\n\nAdd new method '_check_cpu_compability' in driver. It is used to check\nif the configuration of cpu_mode/cpu_models/cpu_model_extra_flags is\ncorrect and compatible with guest CPU.\n\nThe method will be called when the service(use libvirt driver) start, if\nthe configuration is not correct, an exception will be raised.\n\nChange-Id: Ib37ff6fc2e1f9de0e60adca54e87c74f45f12ffa\nImplements: blueprint cpu-model-selection\n""}, {'number': 4, 'created': '2019-08-05 08:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/34b4635149ae21d5b5a7c8e247c07c8781868a64', 'message': ""Add compatibility checks for CPU mode and CPU models and extra flags\n\nAdd new method '_check_cpu_compability' in driver. It is used to check\nif the configuration of cpu_mode/cpu_models/cpu_model_extra_flags is\ncorrect and compatible with guest CPU.\n\nThe method will be called when the service(use libvirt driver) start, if\nthe configuration is not correct, an exception will be raised.\n\nChange-Id: Ib37ff6fc2e1f9de0e60adca54e87c74f45f12ffa\nImplements: blueprint cpu-model-selection\n""}, {'number': 5, 'created': '2019-08-05 09:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8cb25e875e5a7282e2ee302dbaf643548aa2046', 'message': ""Add compatibility checks for CPU mode and CPU models and extra flags\n\nAdd new method '_check_cpu_compability' in driver. It is used to check\nif the configuration of cpu_mode/cpu_models/cpu_model_extra_flags is\ncorrect and compatible with guest CPU.\n\nThe method will be called when the service(use libvirt driver) start, if\nthe configuration is not correct, an exception will be raised.\n\nChange-Id: Ib37ff6fc2e1f9de0e60adca54e87c74f45f12ffa\nImplements: blueprint cpu-model-selection\n""}, {'number': 6, 'created': '2019-08-16 17:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae35247002b7da3cb37aa26866bf80a064db31e3', 'message': ""Add compatibility checks for CPU mode and CPU models and extra flags\n\nAdd new method '_check_cpu_compability' in driver. It is used to check\nif the configuration of cpu_mode/cpu_models/cpu_model_extra_flags is\ncorrect and compatible with guest CPU.\n\nThe method will be called when the service(use libvirt driver) start, if\nthe configuration is not correct, an exception will be raised.\n\nChange-Id: Ib37ff6fc2e1f9de0e60adca54e87c74f45f12ffa\nImplements: blueprint cpu-model-selection\n""}, {'number': 7, 'created': '2019-08-17 09:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a5687ba8ee2eb965d64de92f7320493e8d9629c2', 'message': ""Add compatibility checks for CPU mode and CPU models and extra flags\n\nAdd new method '_check_cpu_compability' in driver. It is used to check\nif the configuration of cpu_mode/cpu_models/cpu_model_extra_flags is\ncorrect and compatible with guest CPU.\n\nThe method will be called when the service(use libvirt driver) start, if\nthe configuration is not correct, an exception will be raised.\n\nChange-Id: Ib37ff6fc2e1f9de0e60adca54e87c74f45f12ffa\nImplements: blueprint cpu-model-selection\n""}, {'number': 8, 'created': '2019-08-19 03:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9569a90c7948baff823968d31dcf78e6ecc6e257', 'message': ""Add compatibility checks for CPU mode and CPU models and extra flags\n\nAdd new method '_check_cpu_compability' in driver. It is used to check\nif the configuration of cpu_mode/cpu_models/cpu_model_extra_flags is\ncorrect and compatible with guest CPU.\n\nThe method will be called when the service(use libvirt driver) start, if\nthe configuration is not correct, an exception will be raised.\n\nChange-Id: Ib37ff6fc2e1f9de0e60adca54e87c74f45f12ffa\nImplements: blueprint cpu-model-selection\n""}, {'number': 9, 'created': '2019-08-26 02:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1133089cc8858aa67cdd016e2320f5192bfe0855', 'message': ""Add compatibility checks for CPU mode and CPU models and extra flags\n\nAdd new method '_check_cpu_compability' in driver. It is used to check\nif the configuration of cpu_mode/cpu_models/cpu_model_extra_flags is\ncorrect and compatible with guest CPU.\n\nThe method will be called when the service(use libvirt driver) start, if\nthe configuration is not correct, an exception will be raised.\n\nChange-Id: Ib37ff6fc2e1f9de0e60adca54e87c74f45f12ffa\nImplements: blueprint cpu-model-selection\n""}, {'number': 10, 'created': '2019-08-28 09:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5b05e1b74a631f1ea6421fbc5201b803ea80e18', 'message': ""Add compatibility checks for CPU mode and CPU models and extra flags\n\nAdd new method '_check_cpu_compability' in driver. It is used to check\nif the configuration of cpu_mode/cpu_models/cpu_model_extra_flags is\ncorrect and compatible with guest CPU.\n\nThe method will be called when the service(use libvirt driver) start, if\nthe configuration is not correct, an exception will be raised.\n\nChange-Id: Ib37ff6fc2e1f9de0e60adca54e87c74f45f12ffa\nImplements: blueprint cpu-model-selection\n""}, {'number': 11, 'created': '2019-08-29 08:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f21d4f8c1c6fa673c72925cedadd47430067cf7', 'message': ""Add compatibility checks for CPU mode and CPU models and extra flags\n\nAdd new method '_check_cpu_compability' in driver. It is used to check\nif the configuration of cpu_mode/cpu_models/cpu_model_extra_flags is\ncorrect and compatible with guest CPU.\n\nThe method will be called when the service(use libvirt driver) start, if\nthe configuration is not correct, an exception will be raised.\n\nChange-Id: Ib37ff6fc2e1f9de0e60adca54e87c74f45f12ffa\nImplements: blueprint cpu-model-selection\n""}, {'number': 12, 'created': '2019-08-30 06:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/107241a8fda91ce5463edd61bb16bc3adfb566b8', 'message': ""Add compatibility checks for CPU mode and CPU models and extra flags\n\nAdd new method '_check_cpu_compability' in driver. It is used to check\nif the configuration of cpu_mode/cpu_models/cpu_model_extra_flags is\ncorrect and compatible with guest CPU.\n\nThe method will be called when the service(use libvirt driver) start, if\nthe configuration is not correct, an exception will be raised.\n\nChange-Id: Ib37ff6fc2e1f9de0e60adca54e87c74f45f12ffa\nImplements: blueprint cpu-model-selection\n""}, {'number': 13, 'created': '2019-09-02 04:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f458f02c0d2d16332d1de8754bd762286ee15f2', 'message': ""Add compatibility checks for CPU mode and CPU models and extra flags\n\nAdd new method '_check_cpu_compability' in driver. It is used to check\nif the configuration of cpu_mode/cpu_models/cpu_model_extra_flags is\ncorrect and compatible with guest CPU.\n\nThe method will be called when the service(use libvirt driver) start, if\nthe configuration is not correct, an exception will be raised.\n\nChange-Id: Ib37ff6fc2e1f9de0e60adca54e87c74f45f12ffa\nImplements: blueprint cpu-model-selection\n""}, {'number': 14, 'created': '2019-09-06 06:31:50.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ac7a0e840904edc5e1e36a140d24321c6c36364c', 'message': ""Add compatibility checks for CPU mode and CPU models and extra flags\n\nAdd new method '_check_cpu_compability' in driver. It is used to check\nif the configuration of cpu_mode/cpu_models/cpu_model_extra_flags is\ncorrect and compatible with guest CPU.\n\nThe method will be called when the service(use libvirt driver) start, if\nthe configuration is not correct, an exception will be raised.\n\nChange-Id: Ib37ff6fc2e1f9de0e60adca54e87c74f45f12ffa\nImplements: blueprint cpu-model-selection\n""}]",58,670299,ac7a0e840904edc5e1e36a140d24321c6c36364c,204,25,14,27614,,,0,"Add compatibility checks for CPU mode and CPU models and extra flags

Add new method '_check_cpu_compability' in driver. It is used to check
if the configuration of cpu_mode/cpu_models/cpu_model_extra_flags is
correct and compatible with guest CPU.

The method will be called when the service(use libvirt driver) start, if
the configuration is not correct, an exception will be raised.

Change-Id: Ib37ff6fc2e1f9de0e60adca54e87c74f45f12ffa
Implements: blueprint cpu-model-selection
",git fetch https://review.opendev.org/openstack/nova refs/changes/99/670299/12 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,496075f4d3a4c4c939fb70b2a115040ecf4f30e9,bp/cpu-model-selection," def test__check_cpu_compability_start_ok(self): self.flags(cpu_mode=""custom"", cpu_models=[""Penryn""], group=""libvirt"") drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) drvr.init_host(""dummyhost"") def test__check_cpu_compability_none_models(self): self.flags(cpu_mode=""custom"", cpu_models=[], group=""libvirt"") drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) self.assertRaises(exception.Invalid, drvr.init_host, ""dummyhost"") def test__check_cpu_compability_none_mode(self): self.flags(cpu_mode=""none"", cpu_models=[""Penryn""], group=""libvirt"") drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) self.assertRaises(exception.Invalid, drvr.init_host, ""dummyhost"") @mock.patch('nova.virt.libvirt.host.libvirt.Connection.compareCPU') def test__check_cpu_compability_advance_model(self, mocked_compare): mocked_compare.side_effect = (2, 0) self.flags(cpu_mode=""custom"", cpu_models=[""qemu64"", ""Broadwell-noTSX""], group=""libvirt"") drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) self.assertRaises(exception.InvalidCPUInfo, drvr.init_host, ""dummyhost"") @mock.patch('nova.virt.libvirt.host.libvirt.Connection.compareCPU') def test__check_cpu_compability_advance_flag(self, mocked_compare): mocked_compare.side_effect = (2, 0) self.flags(cpu_mode=""custom"", cpu_models=[""qemu64""], cpu_model_extra_flags = [""avx"", ""avx2""], group=""libvirt"") drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) self.assertRaises(exception.InvalidCPUInfo, drvr.init_host, ""dummyhost"") 'fake_get_host_capabilities',",,88,0
openstack%2Ftripleo-heat-templates~master~I0024fe72871a2c53aacdc5ff7e3e3672f5c4c420,openstack/tripleo-heat-templates,master,I0024fe72871a2c53aacdc5ff7e3e3672f5c4c420,Remove unnecessory keystone_cron container,ABANDONED,2019-09-16 02:33:14.000000000,2019-09-16 02:47:08.000000000,,[],"[{'number': 1, 'created': '2019-09-16 02:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7687d06df869cf76fb4ecf3abbf5f9e26be72bae', 'message': ""Remove unnecessory keystone_cron container\n\nSince fernet token becase a default in keystone and uuid token was\ndeprecated, we don't need any more to run toke flush cron job to\nexpire token inside databases, because fernet token does not require\nto be persisted inside token.\n\nChange-Id: I0024fe72871a2c53aacdc5ff7e3e3672f5c4c420\n""}, {'number': 2, 'created': '2019-09-16 02:34:49.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1385a5f9a53cc5b2676d93783c2c32070b578f8d', 'message': ""Remove unnecessory keystone_cron container\n\nSince fernet token became the default in keystone and uuid token was\nremoved, we don't need any more to run toke flush cron job to\nexpire token inside databases, because fernet token does not require\nto be persisted in database.\n\nChange-Id: I0024fe72871a2c53aacdc5ff7e3e3672f5c4c420\n""}]",0,682264,1385a5f9a53cc5b2676d93783c2c32070b578f8d,3,0,2,9816,,,0,"Remove unnecessory keystone_cron container

Since fernet token became the default in keystone and uuid token was
removed, we don't need any more to run toke flush cron job to
expire token inside databases, because fernet token does not require
to be persisted in database.

Change-Id: I0024fe72871a2c53aacdc5ff7e3e3672f5c4c420
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/682264/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,7687d06df869cf76fb4ecf3abbf5f9e26be72bae,keystone-cron,," KeystoneEnableDBPurge: default: true description: | Whether to create cron job for purging soft deleted rows in Keystone database. type: boolean KeystoneCronTokenFlushEnsure: type: string description: > Cron to purge expired tokens - Ensure default: 'present' KeystoneCronTokenFlushMinute: type: comma_delimited_list description: > Cron to purge expired tokens - Minute default: '1' KeystoneCronTokenFlushHour: type: comma_delimited_list description: > Cron to purge expired tokens - Hour default: '*' KeystoneCronTokenFlushMonthday: type: comma_delimited_list description: > Cron to purge expired tokens - Month Day default: '*' KeystoneCronTokenFlushMonth: type: comma_delimited_list description: > Cron to purge expired tokens - Month default: '*' KeystoneCronTokenFlushWeekday: type: comma_delimited_list description: > Cron to purge expired tokens - Week Day default: '*' KeystoneCronTokenFlushMaxDelay: type: number description: > Cron to purge expired tokens - Max Delay default: 0 KeystoneCronTokenFlushDestination: type: string description: > Cron to purge expired tokens - Log destination default: '/var/log/keystone/keystone-tokenflush.log' KeystoneCronTokenFlushUser: type: string description: > Cron to purge expired tokens - User default: 'keystone' keystone_enable_db_purge: {get_param: KeystoneEnableDBPurge} keystone::cron::token_flush::maxdelay: 3600 keystone::cron::token_flush::destination: '/var/log/keystone/keystone-tokenflush.log' keystone::cron::token_flush::ensure: {get_param: KeystoneCronTokenFlushEnsure} keystone::cron::token_flush::minute: {get_param: KeystoneCronTokenFlushMinute} keystone::cron::token_flush::hour: {get_param: KeystoneCronTokenFlushHour} keystone::cron::token_flush::monthday: {get_param: KeystoneCronTokenFlushMonthday} keystone::cron::token_flush::month: {get_param: KeystoneCronTokenFlushMonth} keystone::cron::token_flush::weekday: {get_param: KeystoneCronTokenFlushWeekday} keystone::cron::token_flush::maxdelay: {get_param: KeystoneCronTokenFlushMaxDelay} keystone::cron::token_flush::destination: {get_param: KeystoneCronTokenFlushDestination} keystone::cron::token_flush::user: {get_param: KeystoneCronTokenFlushUser} /var/lib/kolla/config_files/keystone_cron.json: # FIXME(dprince): this is unused ATM because Kolla hardcodes the # args for the keystone container to -DFOREGROUND command: /usr/sbin/crond -n config_files: - source: ""/var/lib/kolla/config_files/src/*"" dest: ""/"" merge: true preserve_properties: true permissions: - path: /var/log/keystone owner: keystone:keystone recurse: true keystone_cron: start_order: 4 image: *keystone_image user: root net: host privileged: false restart: always healthcheck: test: '/usr/share/openstack-tripleo-common/healthcheck/cron keystone' command: ['/bin/bash', '-c', '/usr/local/bin/kolla_set_configs && /usr/sbin/crond -n'] volumes: list_concat: - {get_attr: [ContainersCommon, volumes]} - {get_attr: [KeystoneLogging, volumes]} - - /var/lib/kolla/config_files/keystone_cron.json:/var/lib/kolla/config_files/config.json:ro - /var/lib/config-data/puppet-generated/keystone/:/var/lib/kolla/config_files/src:ro environment: - KOLLA_CONFIG_STRATEGY=COPY_ALWAYS",0,94
openstack%2Fstorlets~master~I45ca8389cff3ce324593d265206087b6c9267c36,openstack/storlets,master,I45ca8389cff3ce324593d265206087b6c9267c36,DNM: To see gate failure for py3 testing,ABANDONED,2019-09-05 12:00:39.000000000,2019-09-16 02:13:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-05 12:00:39.000000000', 'files': ['.testing'], 'web_link': 'https://opendev.org/openstack/storlets/commit/014d60632a4bb2a689f60588b88c433dc35bcec5', 'message': 'DNM: To see gate failure for py3 testing\n\nChange-Id: I45ca8389cff3ce324593d265206087b6c9267c36\n'}]",0,680383,014d60632a4bb2a689f60588b88c433dc35bcec5,3,1,1,9816,,,0,"DNM: To see gate failure for py3 testing

Change-Id: I45ca8389cff3ce324593d265206087b6c9267c36
",git fetch https://review.opendev.org/openstack/storlets refs/changes/83/680383/1 && git format-patch -1 --stdout FETCH_HEAD,['.testing'],1,014d60632a4bb2a689f60588b88c433dc35bcec5,dnm,,,0,0
openstack%2Ftempest~master~Ifb8b499ed1f49a1826737c301646885294d7ed75,openstack/tempest,master,Ifb8b499ed1f49a1826737c301646885294d7ed75,Sync Sphinx requirement,ABANDONED,2019-07-31 09:06:10.000000000,2019-09-16 02:08:19.000000000,,"[{'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 17887}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-07-31 09:06:10.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3525956411d2b8768b39d8afafae32dd5b4e9357', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Ifb8b499ed1f49a1826737c301646885294d7ed75\n'}]",3,673766,3525956411d2b8768b39d8afafae32dd5b4e9357,8,5,1,27822,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ifb8b499ed1f49a1826737c301646885294d7ed75
",git fetch https://review.opendev.org/openstack/tempest refs/changes/66/673766/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,3525956411d2b8768b39d8afafae32dd5b4e9357,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fcloudkitty~master~Ife0df91ea15b7c28a209044c99a5e426a294203c,openstack/cloudkitty,master,Ife0df91ea15b7c28a209044c99a5e426a294203c,Blacklist eventlet 0.25.0,ABANDONED,2019-09-05 08:07:05.000000000,2019-09-16 01:50:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 23060}]","[{'number': 1, 'created': '2019-09-05 08:07:05.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/9d50550c56d61c9a9d1b3e7c8ee33499d58a42d2', 'message': 'Blacklist eventlet 0.25.0\n\nmore details https://review.opendev.org/#/c/678078/\n\nChange-Id: Ife0df91ea15b7c28a209044c99a5e426a294203c\n'}]",0,680315,9d50550c56d61c9a9d1b3e7c8ee33499d58a42d2,5,2,1,27822,,,0,"Blacklist eventlet 0.25.0

more details https://review.opendev.org/#/c/678078/

Change-Id: Ife0df91ea15b7c28a209044c99a5e426a294203c
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/15/680315/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,9d50550c56d61c9a9d1b3e7c8ee33499d58a42d2,eventlet,"eventlet>=0.18.2,!=0.18.3,!=0.20.1,!=0.21.0,!=0.23.0, !=0.25.0 # MIT","eventlet>=0.18.2,!=0.18.3,!=0.20.1,!=0.21.0,!=0.23.0 # MIT",1,1
openstack%2Fnetworking-ovn~stable%2Fstein~I63d12861e1ff5d444d116188a2a122eca5c45af0,openstack/networking-ovn,stable/stein,I63d12861e1ff5d444d116188a2a122eca5c45af0,Switch stable/stein jobs to OVS 2.11 branch,MERGED,2019-09-11 09:02:10.000000000,2019-09-16 01:21:24.000000000,2019-09-16 01:19:38.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-11 09:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1f02cf622e0987fc96915b0e11dd89e52ce08fdc', 'message': ""Temporarily switch master jobs to OVS 2.12 branch\n\nWhile we adjust the jobs to build OVN from the new repo,\nthis patch is switching jobs that build OVS/OVN from master to\nuse the recently created branch-2.12.\n\nIn addition, make rally non-voting until\n[1] is merged, the gate is broken there as well. So since there\nare two separate issues breaking the gate, they can't depend on\neach other to merge so fix it here. (It appears to be past\nworking hours for rally-core)\n\nThis patch must be reverted when [0] and [1] get merged.\n\n[0] https://review.opendev.org/#/c/673236/\n[1] https://review.opendev.org/#/c/681001/\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n\nChange-Id: I63d12861e1ff5d444d116188a2a122eca5c45af0\n""}, {'number': 2, 'created': '2019-09-12 13:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5767ffc893b470735c9d5e320d68160de44f3ae2', 'message': ""Switch stable/stein jobs to OVS 2.11 branch\n\nWhile the master branch should change to build from the\nnew OVN repo, stable branches should build from a stable\nversion of it.\n\nIn addition, make rally non-voting until\n[1] is merged, the gate is broken there as well. So since there\nare two separate issues breaking the gate, they can't depend on\neach other to merge so fix it here. (It appears to be past\nworking hours for rally-core)\n\nThis patch must be reverted when [0] and [1] get merged.\n\n[0] https://review.opendev.org/#/c/673236/\n[1] https://review.opendev.org/#/c/681001/\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n\nChange-Id: I63d12861e1ff5d444d116188a2a122eca5c45af0\n(cherry picked from commit 6d540e49e6c483990d3ae87d35992a9d67e670be)\n""}, {'number': 3, 'created': '2019-09-13 09:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/84ffdb7d8534be8d63d203a70b9da1d225d59e47', 'message': 'Switch stable/stein jobs to OVS 2.11 branch\n\nWhile the master branch should change to build from the\nnew OVN repo, stable branches should build from a stable\nversion of it.\n\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n\nChange-Id: I63d12861e1ff5d444d116188a2a122eca5c45af0\n(cherry picked from commit 6d540e49e6c483990d3ae87d35992a9d67e670be)\n'}, {'number': 4, 'created': '2019-09-13 09:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ba47f27dba143b5a43b5cd93aaca08c273e8f6e4', 'message': 'Switch stable/stein jobs to OVS 2.11 branch\n\nWhile the master branch should change to build from the\nnew OVN repo, stable branches should build from a stable\nversion of it.\n\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n\nChange-Id: I63d12861e1ff5d444d116188a2a122eca5c45af0\n(cherry picked from commit 6d540e49e6c483990d3ae87d35992a9d67e670be)\n'}, {'number': 5, 'created': '2019-09-13 18:09:39.000000000', 'files': ['playbooks/legacy/networking-ovn-dsvm-functional/run.yaml', 'playbooks/legacy/networking-ovn-dsvm-functional-py27/run.yaml', 'devstack/lib/networking-ovn', 'zuul.d/project.yaml', 'devstack/upgrade/settings', 'zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0deca7c3065a4fefaa272ee73485040befe652d4', 'message': 'Switch stable/stein jobs to OVS 2.11 branch\n\nWhile the master branch should change to build from the\nnew OVN repo, stable branches should build from a stable\nversion of it.\n\nAll jobs running against the master branch were also removed,\nnetworking-ovn-tempest-dsvm-ovs-master and\nnetworking-ovn-tempest-dsvm-ovs-master-fedora (periodic job).\n\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n\nChange-Id: I63d12861e1ff5d444d116188a2a122eca5c45af0\n(cherry picked from commit 6d540e49e6c483990d3ae87d35992a9d67e670be)\n'}]",8,681412,0deca7c3065a4fefaa272ee73485040befe652d4,33,6,5,24791,,,0,"Switch stable/stein jobs to OVS 2.11 branch

While the master branch should change to build from the
new OVN repo, stable branches should build from a stable
version of it.

All jobs running against the master branch were also removed,
networking-ovn-tempest-dsvm-ovs-master and
networking-ovn-tempest-dsvm-ovs-master-fedora (periodic job).

Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>

Change-Id: I63d12861e1ff5d444d116188a2a122eca5c45af0
(cherry picked from commit 6d540e49e6c483990d3ae87d35992a9d67e670be)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/12/681412/5 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/devstackgaterc', 'playbooks/legacy/networking-ovn-dsvm-functional/run.yaml', 'devstack/lib/networking-ovn', 'playbooks/legacy/networking-ovn-dsvm-functional-py27/run.yaml', 'zuul.d/project.yaml', 'devstack/upgrade/settings', 'zuul.d/networking-ovn-jobs.yaml']",7,1f02cf622e0987fc96915b0e11dd89e52ce08fdc,, OVN_BRANCH: branch-2.12 OVN_BRANCH: branch-2.12, OVN_BRANCH: master,13,7
openstack%2Fkarbor~master~I1bd70cea69cc54bea34de4b655f6d7caecfdf0e2,openstack/karbor,master,I1bd70cea69cc54bea34de4b655f6d7caecfdf0e2,Fix unit tests failed,MERGED,2019-09-12 07:59:56.000000000,2019-09-16 01:13:48.000000000,2019-09-16 01:12:35.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 29272}]","[{'number': 1, 'created': '2019-09-12 07:59:56.000000000', 'files': ['karbor/tests/unit/protection/fakes.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/a3fcd6d6be65b88d8b8240eac700192f33262d4e', 'message': ""Fix unit tests failed\n\nif flow is None for add_tasks when running unit tests,\nthe method 'add' for flow  will be failed. this patch\nwill fix it.\n\nChange-Id: I1bd70cea69cc54bea34de4b655f6d7caecfdf0e2\n""}]",0,681661,a3fcd6d6be65b88d8b8240eac700192f33262d4e,10,3,1,29729,,,0,"Fix unit tests failed

if flow is None for add_tasks when running unit tests,
the method 'add' for flow  will be failed. this patch
will fix it.

Change-Id: I1bd70cea69cc54bea34de4b655f6d7caecfdf0e2
",git fetch https://review.opendev.org/openstack/karbor refs/changes/61/681661/1 && git format-patch -1 --stdout FETCH_HEAD,['karbor/tests/unit/protection/fakes.py'],1,a3fcd6d6be65b88d8b8240eac700192f33262d4e,, return,,1,0
openstack%2Fwatcher-specs~master~I19593c3d4892e0e2c3d4e1cd08b47cf80167ebd8,openstack/watcher-specs,master,I19593c3d4892e0e2c3d4e1cd08b47cf80167ebd8,Update show-datamodel-api spec,MERGED,2019-08-20 09:25:02.000000000,2019-09-16 01:11:00.000000000,2019-09-16 01:11:00.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-08-20 09:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/2f4181f30750ba8502c4844670bc08b69d44a88c', 'message': 'Update show-datamodel-api spec\n\n1. Update sample command for show-datamodel-api.\n2. Modify REST API return value example.\n\nChange-Id: I19593c3d4892e0e2c3d4e1cd08b47cf80167ebd8\n'}, {'number': 2, 'created': '2019-08-20 10:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/6f2632f361c460a93b9c2e22e48bb71c5ba56711', 'message': 'Update show-datamodel-api spec\n\n1. Update sample command for show-datamodel-api.\n2. Modify REST API return value example.\n\nChange-Id: I19593c3d4892e0e2c3d4e1cd08b47cf80167ebd8\n'}, {'number': 3, 'created': '2019-08-20 12:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/c1e188b9bd41b15596600b4a0d021875f6a3fe95', 'message': 'Update show-datamodel-api spec\n\n1. Update sample command for show-datamodel-api.\n2. Modify REST API return value example.\n\nChange-Id: I19593c3d4892e0e2c3d4e1cd08b47cf80167ebd8\n'}, {'number': 4, 'created': '2019-08-21 02:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/f25041a324618217c0393428a77d20d78944f27f', 'message': 'Update show-datamodel-api spec\n\n1. Update sample command for show-datamodel-api.\n2. Modify REST API return value example.\n\nChange-Id: I19593c3d4892e0e2c3d4e1cd08b47cf80167ebd8\n'}, {'number': 5, 'created': '2019-08-21 03:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/b68527bcb5930e90caeebb46ec941a6d607b3fab', 'message': 'Update show-datamodel-api spec\n\n1. Update sample command for show-datamodel-api.\n2. Modify REST API return value example.\n\nChange-Id: I19593c3d4892e0e2c3d4e1cd08b47cf80167ebd8\n'}, {'number': 6, 'created': '2019-08-26 09:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/3475878a3dfd9569490cbf3e33ee5e3a800233cd', 'message': 'Update show-datamodel-api spec\n\n1. Update sample command for show-datamodel-api.\n2. Modify REST API return value example.\n\nChange-Id: I19593c3d4892e0e2c3d4e1cd08b47cf80167ebd8\n'}, {'number': 7, 'created': '2019-08-26 09:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/22b2afe8b156136879062e3f98328f07adae3df8', 'message': 'Update show-datamodel-api spec\n\n1. Update sample command for show-datamodel-api.\n2. Modify REST API return value example.\n\nChange-Id: I19593c3d4892e0e2c3d4e1cd08b47cf80167ebd8\n'}, {'number': 8, 'created': '2019-08-26 10:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/3c13fb97de869a075bb3527a38d88276e1d15bf4', 'message': 'Update show-datamodel-api spec\n\n1. Update sample command for show-datamodel-api.\n2. Modify REST API return value example.\n\nChange-Id: I19593c3d4892e0e2c3d4e1cd08b47cf80167ebd8\n'}, {'number': 9, 'created': '2019-08-26 11:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/4a4bf098dbf8ef04cab5b01a1b7ce81e6a2659a7', 'message': 'Update show-datamodel-api spec\n\n1. Update sample command for show-datamodel-api.\n2. Modify REST API return value example.\n\nChange-Id: I19593c3d4892e0e2c3d4e1cd08b47cf80167ebd8\n'}, {'number': 10, 'created': '2019-09-03 07:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/b5d4e90c51772eeed11eb3886dd05e09d0aa326b', 'message': 'Update show-datamodel-api spec\n\n1. Update sample command for show-datamodel-api.\n2. Modify REST API return value example.\n\nChange-Id: I19593c3d4892e0e2c3d4e1cd08b47cf80167ebd8\n'}, {'number': 11, 'created': '2019-09-09 11:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/16f9ccd7c9041035775d826b0d6b6bdb88825af6', 'message': 'Update show-datamodel-api spec\n\n1. Update sample command for show-datamodel-api.\n2. Modify REST API return value example.\n\nChange-Id: I19593c3d4892e0e2c3d4e1cd08b47cf80167ebd8\n'}, {'number': 12, 'created': '2019-09-09 11:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/533f7881a736685a6587e4ca47a4e45ebd0ca8f1', 'message': 'Update show-datamodel-api spec\n\n1. Update sample command for show-datamodel-api.\n2. Modify REST API return value example.\n\nChange-Id: I19593c3d4892e0e2c3d4e1cd08b47cf80167ebd8\n'}, {'number': 13, 'created': '2019-09-09 11:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/58877cc23673d4723a3c0e6f4093f342f55686fa', 'message': 'Update show-datamodel-api spec\n\n1. Update sample command for show-datamodel-api.\n2. Modify REST API return value example.\n\nChange-Id: I19593c3d4892e0e2c3d4e1cd08b47cf80167ebd8\n'}, {'number': 14, 'created': '2019-09-10 01:19:22.000000000', 'files': ['specs/train/approved/show-datamodel-api.rst'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/8bd182920461b261b4a8639643ab0d2a00943719', 'message': 'Update show-datamodel-api spec\n\n1. Update sample command for show-datamodel-api.\n2. Modify REST API return value example.\n\nChange-Id: I19593c3d4892e0e2c3d4e1cd08b47cf80167ebd8\n'}]",22,677437,8bd182920461b261b4a8639643ab0d2a00943719,42,4,14,28748,,,0,"Update show-datamodel-api spec

1. Update sample command for show-datamodel-api.
2. Modify REST API return value example.

Change-Id: I19593c3d4892e0e2c3d4e1cd08b47cf80167ebd8
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/37/677437/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/show-datamodel-api.rst'],1,2f4181f30750ba8502c4844670bc08b69d44a88c,,"The data model is very important for Watcher to generate resource* watcher datamodel list [--audit <audit_id>] [--type <type>] [--detail] In watcherclient, we can add **""data_model.py,data_model_shell.py""** to sendIn watcher-api, we can add **""data_model.py""** to recieve thespecified scope and the type, then parses the datamodel and return to watcher-api.Add following **data model** REST: * GET /v1/data_model * **type (Optional)**: Type of data model user want to list * **server_uuid**: UUID of server * **server_name**: name of server * **server_vcpus**: number of server vcpus * **server_memory**: memory of server * **server_disk**: disk of server * **server_state**: state of server * **node_uuid**: UUID of node * **node_hostname**: name of node * **node_vcpus**: number of node vcpus * **node_vcpu_ratio**: vcpu ratio of node * **node_memory_ratio**: memory of node * **node_disk_ratio**: disk ratio of node * **node_state**: state of node * Example JSON representation of compute data model[ { ""Server_UUID"": ""1bf91464-9b41-428d-a11e-af691e5563bb"", ""Server Name"": ""chenke-test2"", ""Node State"": ""up"", ""Node Memory"": ""16383"", ""Node Vcpu Ratio"": ""16.0"", ""Node Vcpus"": ""4"", ""Node Memory Ratio"": ""1.5"", ""Server Disk"": ""1"", ""Node Disk Ratio"": ""1.0"", ""Server Vcpus"": ""1"", ""Server Memory"": ""512"", ""Server State"": ""active"", ""Node UUID"": ""253e5dd0-9384-41ab-af13-4f2c2ce26112"", ""Node Host Name"": ""localhost.localdomain"", ""Node Disk"": ""37"" }, { ""Server_UUID"": ""e2cb5f6f-fa1d-4ba2-be1e-0bf02fa86ba4"", ""Server Name"": ""chenke-test1"", ""Node State"": ""up"", ""Node Memory"": ""16383"", ""Node Vcpu Ratio"": ""16.0"", ""Node Vcpus"": ""4"", ""Node Memory Ratio"": ""1.5"", ""Server Disk"": ""1"", ""Node Disk Ratio"": ""1.0"", ""Server Vcpus"": ""1"", ""Server Memory"": ""512"", ""Server State"": ""active"", ""Node UUID"": ""253e5dd0-9384-41ab-af13-4f2c2ce26112"", ""Node Host Name"": ""localhost.localdomain"", ""Node Disk"": ""37"" } ]","The datamodel is very important for Watcher to generate resource* watcher datamodel list [--audit <audit_id>] In watcherclient, we can add **""datamodel.py,datamodel_shell.py""** to sendIn watcher-api, we can add **""datamodel.py""** to recieve thespecified scope, then parses the datamodel and return to watcher-api.Add following **datamodel** REST: * GET /v1/datamodels * **instance_uuid**: UUID of an instance * **node_uuid**: UUID of an compute node * **instance_state**: state of instance * **node_state**: state of compute node * GET /v1/datamodels/detail * Normal http response code(200) * Expected error http response code(400,401) * Request * **audit_uuid (Optional)**: UUID of an audit * Response * **instance_uuid**: UUID of an instance * **instance_state**: state of instance * **instance_name**: name of instance * **instance_vcpus**: number of instance vcpus * **instance_memory**: memory of instance * **instance_disk**: disk of instance * **instance_disk_capacity**: disk capacity of instance * **node_uuid**: UUID of an compute node * **node_state**: state of compute node * **node_name**: name of node * **node_vcpus**: number of compute node vcpus * **node_disk_capacity**: disk capacity of node * Example JSON representation of Datamodel { ""compute"": [ { ""node_uuid"": ""90d7da5c-d432-4eba-89b4-743c9f1e6cfa"", ""node_name"": ""node_1"", ""node_vcpus"": 48, ""node_memory"": ""4096"", ""node_disk"": ""40"", ""node_disk_capacity"": ""60"" ""servers"": [ { ""instance_uuid"": ""9e7cbe91-b391-4394-a42c-68996a4fd555"", ""instance_state"": ""active"", ""instance_name"": ""vm_4"", ""instance_vcpus"": 16, ""instance_memory"": ""2048"", ""instance_disk"": ""10"", ""instance_disk_capacity"": ""35"", }, { ""instance_uuid"": ""8e7cbe91-b391-4394-a42c-68996a4fd555"", ""instance_state"": ""active"", ""instance_name"": ""vm_5"", ""instance_vcpus"": 16, ""instance_memory"": ""2048"", ""instance_disk"": ""10"", ""instance_disk_capacity"": ""35"", } ] }, { ""node_uuid"": ""78d7da5c-d432-4eba-89b4-743c9f1e6cfa"", ""node_name"": ""node_2"", ""node_vcpus"": 96, ""node_memory"": ""4096"", ""node_disk"": ""60"", ""node_disk_capacity"": ""60"" ""servers"": [ { ""instance_uuid"": ""6b7cbe91-b391-4394-a42c-68996a4fd55b"", ""instance_state"": ""active"", ""instance_name"": ""vm_1"", ""instance_vcpus"": 32, ""instance_memory"": ""2048"", ""instance_disk"": ""10"", ""instance_disk_capacity"": ""35"", }, { ""instance_uuid"": ""527cbe91-b391-4394-a42c-68996a4fd5e7"", ""instance_state"": ""active"", ""instance_name"": ""vm_2"", ""instance_vcpus"": 16, ""instance_memory"": ""2048"", ""instance_disk"": ""10"", ""instance_disk_capacity"": ""35"", } ] } ] }",57,94
openstack%2Fpython-solumclient~stable%2Ftrain~Ib38d063c14bd6c45e0371a22aa91b49d531c1b0e,openstack/python-solumclient,stable/train,Ib38d063c14bd6c45e0371a22aa91b49d531c1b0e,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-09-11 14:21:20.000000000,2019-09-16 01:07:34.000000000,2019-09-16 01:05:38.000000000,"[{'_account_id': 14107}, {'_account_id': 17499}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-11 14:21:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/1161287f6b5f8a3b43c92a9efdb87737f153e049', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ib38d063c14bd6c45e0371a22aa91b49d531c1b0e\n'}]",0,681493,1161287f6b5f8a3b43c92a9efdb87737f153e049,10,5,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ib38d063c14bd6c45e0371a22aa91b49d531c1b0e
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/93/681493/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1161287f6b5f8a3b43c92a9efdb87737f153e049,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fpython-muranoclient~master~Ie969c8aab69eea8372ec6e130482785ad6c56fd8,openstack/python-muranoclient,master,Ie969c8aab69eea8372ec6e130482785ad6c56fd8,Update master for stable/train,MERGED,2019-09-11 14:21:46.000000000,2019-09-16 01:07:28.000000000,2019-09-16 01:06:29.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-11 14:21:46.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/938401d4e52f81b0cc378dae2298de90507e8ac8', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Ie969c8aab69eea8372ec6e130482785ad6c56fd8\nSem-Ver: feature\n'}]",0,681496,938401d4e52f81b0cc378dae2298de90507e8ac8,7,2,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Ie969c8aab69eea8372ec6e130482785ad6c56fd8
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/96/681496/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,938401d4e52f81b0cc378dae2298de90507e8ac8,reno-train, train,,7,0
openstack%2Fpython-solumclient~stable%2Ftrain~I94303a5ce41b6013e4aa642558ebb242ba9f7270,openstack/python-solumclient,stable/train,I94303a5ce41b6013e4aa642558ebb242ba9f7270,Update .gitreview for stable/train,MERGED,2019-09-11 14:21:18.000000000,2019-09-16 01:06:47.000000000,2019-09-16 01:05:37.000000000,"[{'_account_id': 14107}, {'_account_id': 17499}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-11 14:21:18.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-solumclient/commit/5b6d68aaba6e18c2e670121302dd9555371d519e', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I94303a5ce41b6013e4aa642558ebb242ba9f7270\n'}]",0,681492,5b6d68aaba6e18c2e670121302dd9555371d519e,10,5,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I94303a5ce41b6013e4aa642558ebb242ba9f7270
",git fetch https://review.opendev.org/openstack/python-solumclient refs/changes/92/681492/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,5b6d68aaba6e18c2e670121302dd9555371d519e,create-train,project=openstack/python-solumclient.git defaultbranch=stable/train ,project=openstack/python-solumclient.git,2,1
openstack%2Fdiskimage-builder~master~I928f4e24970a680bf340ce15a08a4e72432fb0e4,openstack/diskimage-builder,master,I928f4e24970a680bf340ce15a08a4e72432fb0e4,Only install doc requirements if needed,MERGED,2019-09-13 08:17:08.000000000,2019-09-16 00:59:38.000000000,2019-09-16 00:58:32.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-09-13 08:17:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f0dd0bd63a94f2af199b98c7236c3c62ad52174a', 'message': 'Only install doc requirements if needed\n\nWe only need doc requirements for the doc jobs, so only install them\nthere.\n\nAlso, update docs job to not publish dirtrees.\n\nChange-Id: I928f4e24970a680bf340ce15a08a4e72432fb0e4\n'}]",0,681991,f0dd0bd63a94f2af199b98c7236c3c62ad52174a,9,4,1,6547,,,0,"Only install doc requirements if needed

We only need doc requirements for the doc jobs, so only install them
there.

Also, update docs job to not publish dirtrees.

Change-Id: I928f4e24970a680bf340ce15a08a4e72432fb0e4
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/91/681991/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f0dd0bd63a94f2af199b98c7236c3c62ad52174a,docs-requirements,deps= -r{toxinidir}/doc/requirements.txt sphinx-build -W -b html -d doc/build/doctrees doc/source doc/build/html {posargs}deps = {[testenv:docs]deps}, -r{toxinidir}/doc/requirements.txt sphinx-build -W -b html doc/source doc/build/html {posargs},3,2
openstack%2Frequirements~stable%2Fqueens~I1f43e9558c290a9c3cd7956edebde66509ab9604,openstack/requirements,stable/queens,I1f43e9558c290a9c3cd7956edebde66509ab9604,update constraint for instack-undercloud to new release 8.4.9,MERGED,2019-09-13 15:31:41.000000000,2019-09-16 00:04:17.000000000,2019-09-16 00:04:16.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-13 15:31:41.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1e28b932778b75c4215ab280a99d2844f64dd471', 'message': 'update constraint for instack-undercloud to new release 8.4.9\n\nChange-Id: I1f43e9558c290a9c3cd7956edebde66509ab9604\nmeta:version: 8.4.9\nmeta:diff-start: -\nmeta:series: queens\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Wes Hayutin <weshayutin@gmail.com>\nmeta:release:Commit: wes hayutin <whayutin@redhat.com>\nmeta:release:Change-Id: Id3a17cc2f110fac15cdd10537a5c97de78d2ca48\nmeta:release:Code-Review+1: Emilien Macchi <emilien@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Alex Schultz <aschultz@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+1: Andriy Shevchenko <huang.zhiping@99cloud.net>\n'}]",0,682087,1e28b932778b75c4215ab280a99d2844f64dd471,20,2,1,11131,,,0,"update constraint for instack-undercloud to new release 8.4.9

Change-Id: I1f43e9558c290a9c3cd7956edebde66509ab9604
meta:version: 8.4.9
meta:diff-start: -
meta:series: queens
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Wes Hayutin <weshayutin@gmail.com>
meta:release:Commit: wes hayutin <whayutin@redhat.com>
meta:release:Change-Id: Id3a17cc2f110fac15cdd10537a5c97de78d2ca48
meta:release:Code-Review+1: Emilien Macchi <emilien@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Alex Schultz <aschultz@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+1: Andriy Shevchenko <huang.zhiping@99cloud.net>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/87/682087/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1e28b932778b75c4215ab280a99d2844f64dd471,new-release,instack-undercloud===8.4.9,instack-undercloud===8.4.8,1,1
openstack%2Fnetworking-ovn~master~I96fb39e6fd7c885598527e57a3fb299e61367bf6,openstack/networking-ovn,master,I96fb39e6fd7c885598527e57a3fb299e61367bf6,Add a hook in networking-ovn-rally-task to keep ovsdb db,MERGED,2019-09-06 15:04:11.000000000,2019-09-15 23:48:03.000000000,2019-09-15 23:45:30.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-06 15:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/83dd1512e4590a01f10971ed20af98447bc64245', 'message': 'Add a hook in networking-ovn-rally-task to keep ovsdb db\n\nJust like jobs that use networking-ovn-base as a parent,\nnetworking-ovn-rally-task artifacts should contain the\ndatabases created by OVN and OVS.\n\nChange-Id: I96fb39e6fd7c885598527e57a3fb299e61367bf6\nCo-Authored-By: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}, {'number': 2, 'created': '2019-09-13 20:33:32.000000000', 'files': ['zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6daf633f3f50e85a1750ab20f421d1cf832bfb4e', 'message': 'Add a hook in networking-ovn-rally-task to keep ovsdb db\n\nJust like jobs that use networking-ovn-base as a parent,\nnetworking-ovn-rally-task artifacts should contain the\ndatabases created by OVN and OVS.\n\nChange-Id: I96fb39e6fd7c885598527e57a3fb299e61367bf6\nCo-Authored-By: Daniel Alvarez Sanchez <dalvarez@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n'}]",0,680720,6daf633f3f50e85a1750ab20f421d1cf832bfb4e,21,10,2,11952,,,0,"Add a hook in networking-ovn-rally-task to keep ovsdb db

Just like jobs that use networking-ovn-base as a parent,
networking-ovn-rally-task artifacts should contain the
databases created by OVN and OVS.

Change-Id: I96fb39e6fd7c885598527e57a3fb299e61367bf6
Co-Authored-By: Daniel Alvarez Sanchez <dalvarez@redhat.com>
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/20/680720/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/networking-ovn-jobs.yaml'],1,83dd1512e4590a01f10971ed20af98447bc64245,, zuul_copy_output: '{{ devstack_base_dir }}/data/ovs': 'logs' extensions_to_txt: db: true,,4,0
openstack%2Fnetworking-ovn~master~If6e0b79ee4631ffa3295280c5ad04ad8a4399469,openstack/networking-ovn,master,If6e0b79ee4631ffa3295280c5ad04ad8a4399469,Remove unneeded Zuul branch matcher,MERGED,2019-09-13 07:35:05.000000000,2019-09-15 23:41:14.000000000,2019-09-15 23:38:14.000000000,"[{'_account_id': 1131}, {'_account_id': 6547}, {'_account_id': 6773}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-13 07:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6407850639ef909433f1addc224dc1aac5885aef', 'message': ""Remove unneeded Zuul branch matcher\n\nWe have implicit branch matchers, so there's no need to add a check\nfor not-ocata etc, a job is only run for the branch it's on - like\nmaster now.\n\nRemove it to not confuse Zuul when multiple branches matches and the job\ndefinition is different.\n\nChange-Id: If6e0b79ee4631ffa3295280c5ad04ad8a4399469\n""}, {'number': 2, 'created': '2019-09-13 07:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/22436a16f9d782a6191153d2a8675e2f0b712981', 'message': ""Remove unneeded Zuul branch matcher\n\nWe have implicit branch matchers, so there's no need to add a check\nfor not-ocata etc, a job is only run for the branch it's on - like\nmaster now.\n\nRemove it to not confuse Zuul when multiple branches matches and the job\ndefinition is different.\n\nChange-Id: If6e0b79ee4631ffa3295280c5ad04ad8a4399469\n""}, {'number': 3, 'created': '2019-09-13 12:42:20.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/55d39bf2b5c817b9b337e274a7d01e9f032628f1', 'message': ""Remove unneeded Zuul branch matcher\n\nWe have implicit branch matchers, so there's no need to add a check\nfor not-ocata etc, a job is only run for the branch it's on - like\nmaster now.\n\nRemove it to not confuse Zuul when multiple branches matches and the job\ndefinition is different.\n\nRemove jobs networking-ovn-tripleo-c7-s007-oooq-containers and\ntripleo-ci-centos-7-scenario007-multinode-oooq-container, they are not run\non master at all, the jobs are on the branches and defined there.\n\nChange-Id: If6e0b79ee4631ffa3295280c5ad04ad8a4399469\n""}]",2,681980,55d39bf2b5c817b9b337e274a7d01e9f032628f1,22,8,3,6547,,,0,"Remove unneeded Zuul branch matcher

We have implicit branch matchers, so there's no need to add a check
for not-ocata etc, a job is only run for the branch it's on - like
master now.

Remove it to not confuse Zuul when multiple branches matches and the job
definition is different.

Remove jobs networking-ovn-tripleo-c7-s007-oooq-containers and
tripleo-ci-centos-7-scenario007-multinode-oooq-container, they are not run
on master at all, the jobs are on the branches and defined there.

Change-Id: If6e0b79ee4631ffa3295280c5ad04ad8a4399469
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/80/681980/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,6407850639ef909433f1addc224dc1aac5885aef,no-branches, - networking-ovn-dsvm-functional - networking-ovn-tripleo-c7-s007-oooq-containers - networking-ovn-tripleo-ci-centos-7-containers-multinode - networking-ovn-dsvm-grenade - networking-ovn-dsvm-functional - tripleo-ci-centos-7-scenario007-multinode-oooq-container - networking-ovn-tripleo-ci-centos-7-containers-multinode, - networking-ovn-dsvm-functional: branches: ^(?!stable/newton).*$ - networking-ovn-tripleo-c7-s007-oooq-containers: branches: ^(stable/(pike|queens|rocky)).*$ - networking-ovn-tripleo-ci-centos-7-containers-multinode: branches: ^(?!stable/(pike|queens|rocky)).*$ - networking-ovn-dsvm-grenade: branches: ^(?!stable/(ocata|pike|queens)).*$ - networking-ovn-dsvm-functional: branches: ^(?!stable/newton).*$ - tripleo-ci-centos-7-scenario007-multinode-oooq-container: branches: ^(stable/(pike|queens|rocky)).*$ - networking-ovn-tripleo-ci-centos-7-containers-multinode: branches: ^(?!stable/(pike|queens|rocky)).*$ branches: ^(?!stable/newton).*$,7,15
openstack%2Fkeystone~master~I21473f757611cfd3299d0227eddef89d4ef624ff,openstack/keystone,master,I21473f757611cfd3299d0227eddef89d4ef624ff,Remove system Domain Config from policy.v3cloudsample.json,MERGED,2019-09-05 09:41:48.000000000,2019-09-15 22:20:01.000000000,2019-09-15 22:15:23.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-09-05 09:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2570d2a464e6230da72108577b0e0d32c167dcbf', 'message': 'Remove system Domain Config from policy.v3cloudsample.json\n\nBy relying on system-scope and default roles, these policies are now\nobsolete.\n\nChange-Id: I21473f757611cfd3299d0227eddef89d4ef624ff\nCloses-Bug: #1805366\n'}, {'number': 2, 'created': '2019-09-05 09:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f2fc91bb4ee1266ddc9f6f7ee76ccc39abe0eb7c', 'message': 'Remove system Domain Config from policy.v3cloudsample.json\n\nBy relying on system-scope and default roles, these policies are now\nobsolete.\n\nChange-Id: I21473f757611cfd3299d0227eddef89d4ef624ff\nCloses-Bug: #1805366\n'}, {'number': 3, 'created': '2019-09-07 17:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/058f3235207e961245d7a9e31411968ebcd9e1c2', 'message': 'Remove system Domain Config from policy.v3cloudsample.json\n\nBy relying on system-scope and default roles, these policies are now\nobsolete.\n\nChange-Id: I21473f757611cfd3299d0227eddef89d4ef624ff\nCloses-Bug: #1805366\n'}, {'number': 4, 'created': '2019-09-07 17:59:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/efe3a6dcf70614fc7fe8b2dfb47e97692e4c707d', 'message': 'Remove system Domain Config from policy.v3cloudsample.json\n\nBy relying on system-scope and default roles, these policies are now\nobsolete.\n\nChange-Id: I21473f757611cfd3299d0227eddef89d4ef624ff\nCloses-Bug: #1805366\n'}, {'number': 5, 'created': '2019-09-07 18:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/54a9559a9162985cf75b09799c0211d9d001475e', 'message': 'Remove system Domain Config from policy.v3cloudsample.json\n\nBy relying on system-scope and default roles, these policies are now\nobsolete.\n\nChange-Id: I21473f757611cfd3299d0227eddef89d4ef624ff\nCloses-Bug: #1805366\n'}, {'number': 6, 'created': '2019-09-08 12:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c4d24f51a1171d7ec664f74f2aeee8123b2f7a79', 'message': 'Remove system Domain Config from policy.v3cloudsample.json\n\nBy relying on system-scope and default roles, these policies are now\nobsolete.\n\nChange-Id: I21473f757611cfd3299d0227eddef89d4ef624ff\nCloses-Bug: #1805366\n'}, {'number': 7, 'created': '2019-09-08 12:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e01ade9595a13615055e7034db7fe2024707051e', 'message': 'Remove system Domain Config from policy.v3cloudsample.json\n\nBy relying on system-scope and default roles, these policies are now\nobsolete.\n\nChange-Id: I21473f757611cfd3299d0227eddef89d4ef624ff\nPartial-Bug: #1806762\nCloses-Bug: #1805366\n'}, {'number': 8, 'created': '2019-09-11 10:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d22d15e8d2ba58f5789c599f2003931de0913113', 'message': 'Remove system Domain Config from policy.v3cloudsample.json\n\nBy relying on system-scope and default roles, these policies are now\nobsolete.\n\nChange-Id: I21473f757611cfd3299d0227eddef89d4ef624ff\nPartial-Bug: #1806762\nCloses-Bug: #1805366\n'}, {'number': 9, 'created': '2019-09-13 15:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/30b233a628fb0289519ecc56463025eae1f62689', 'message': 'Remove system Domain Config from policy.v3cloudsample.json\n\nBy relying on system-scope and default roles, these policies are now\nobsolete.\n\nChange-Id: I21473f757611cfd3299d0227eddef89d4ef624ff\nPartial-Bug: #1806762\nCloses-Bug: #1805366\n'}, {'number': 10, 'created': '2019-09-14 09:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/dcbc7cc4a5c70e8e09e5474eabf26df1676f4e6b', 'message': 'Remove system Domain Config from policy.v3cloudsample.json\n\nBy relying on system-scope and default roles, these policies are now\nobsolete.\n\nChange-Id: I21473f757611cfd3299d0227eddef89d4ef624ff\nPartial-Bug: #1806762\nCloses-Bug: #1805366\n'}, {'number': 11, 'created': '2019-09-15 15:09:42.000000000', 'files': ['keystone/tests/unit/test_policy.py', 'etc/policy.v3cloudsample.json', 'releasenotes/notes/bug-1805366-670867516c6fc4bc.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/566f8e734d1b5416305b7ab04c6eda48f40e576b', 'message': 'Remove system Domain Config from policy.v3cloudsample.json\n\nBy relying on system-scope and default roles, these policies are now\nobsolete.\n\nChange-Id: I21473f757611cfd3299d0227eddef89d4ef624ff\nPartial-Bug: #1806762\nCloses-Bug: #1805366\n'}]",3,680357,566f8e734d1b5416305b7ab04c6eda48f40e576b,56,6,11,27621,,,0,"Remove system Domain Config from policy.v3cloudsample.json

By relying on system-scope and default roles, these policies are now
obsolete.

Change-Id: I21473f757611cfd3299d0227eddef89d4ef624ff
Partial-Bug: #1806762
Closes-Bug: #1805366
",git fetch https://review.opendev.org/openstack/keystone refs/changes/57/680357/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_policy.py', 'etc/policy.v3cloudsample.json']",2,2570d2a464e6230da72108577b0e0d32c167dcbf,bug/1805366," ""identity:list_endpoints_for_policy"": ""rule:cloud_admin"""," ""identity:list_endpoints_for_policy"": ""rule:cloud_admin"", ""identity:create_domain_config"": ""rule:cloud_admin"", ""identity:get_domain_config"": ""rule:cloud_admin"", ""identity:update_domain_config"": ""rule:cloud_admin"", ""identity:delete_domain_config"": ""rule:cloud_admin"", ""identity:get_domain_config_default"": ""rule:cloud_admin""",7,8
openstack%2Fkeystone~master~Ie6be658a8e4dd028834a3fee956689f9513a37e9,openstack/keystone,master,Ie6be658a8e4dd028834a3fee956689f9513a37e9,Remove system EC2 credentials from policy.v3cloudsample.json,MERGED,2019-09-10 06:29:50.000000000,2019-09-15 22:17:56.000000000,2019-09-15 22:15:21.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-10 06:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/301c26602c79e9afc8db1e52523444e00ba0309e', 'message': 'Remove system EC2 credentials from policy.v3cloudsample.json\n\nBy relying on system-scope and default roles, these policies are now\nobsolete.\n\nChange-Id: Ie6be658a8e4dd028834a3fee956689f9513a37e9\nPartial-Bug: #1806762\nCloses-Bug: #1750678\n'}, {'number': 2, 'created': '2019-09-10 16:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/241887eb36b5429dd2689567ef980129d6970c11', 'message': 'Remove system EC2 credentials from policy.v3cloudsample.json\n\nBy relying on system-scope and default roles, these policies are now\nobsolete.\n\nChange-Id: Ie6be658a8e4dd028834a3fee956689f9513a37e9\nPartial-Bug: #1806762\nCloses-Bug: #1750678\n'}, {'number': 3, 'created': '2019-09-11 08:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/88e258899fb4808272825ce553d1dbe4bfe99f13', 'message': 'Remove system EC2 credentials from policy.v3cloudsample.json\n\nBy relying on system-scope and default roles, these policies are now\nobsolete.\n\nChange-Id: Ie6be658a8e4dd028834a3fee956689f9513a37e9\nPartial-Bug: #1806762\nCloses-Bug: #1750678\n'}, {'number': 4, 'created': '2019-09-11 19:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/fef42bd05bbff6830b5d9e9d9d8824fe36c6ec74', 'message': 'Remove system EC2 credentials from policy.v3cloudsample.json\n\nBy relying on system-scope and default roles, these policies are now\nobsolete.\n\nChange-Id: Ie6be658a8e4dd028834a3fee956689f9513a37e9\nPartial-Bug: #1806762\nCloses-Bug: #1750678\n'}, {'number': 5, 'created': '2019-09-11 19:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/277d8fd3387867718ff39f419878b5105f0ecdff', 'message': 'Remove system EC2 credentials from policy.v3cloudsample.json\n\nBy relying on system-scope and default roles, these policies are now\nobsolete.\n\nChange-Id: Ie6be658a8e4dd028834a3fee956689f9513a37e9\nPartial-Bug: #1806762\nCloses-Bug: #1750678\n'}, {'number': 6, 'created': '2019-09-14 08:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/06b68bbf98ed151b85a0d08f13572689eaf24013', 'message': 'Remove system EC2 credentials from policy.v3cloudsample.json\n\nBy relying on system-scope and default roles, these policies are now\nobsolete.\n\nChange-Id: Ie6be658a8e4dd028834a3fee956689f9513a37e9\nPartial-Bug: #1806762\nCloses-Bug: #1750678\n'}, {'number': 7, 'created': '2019-09-15 15:23:24.000000000', 'files': ['keystone/tests/unit/test_policy.py', 'releasenotes/notes/bug-1750678-88a38851ca80fc64.yaml', 'etc/policy.v3cloudsample.json'], 'web_link': 'https://opendev.org/openstack/keystone/commit/6435017c242d759ec18dac30d667f0e196e49f38', 'message': 'Remove system EC2 credentials from policy.v3cloudsample.json\n\nBy relying on system-scope and default roles, these policies are now\nobsolete.\n\nChange-Id: Ie6be658a8e4dd028834a3fee956689f9513a37e9\nPartial-Bug: #1806762\nCloses-Bug: #1750678\n'}]",0,681162,6435017c242d759ec18dac30d667f0e196e49f38,28,3,7,27621,,,0,"Remove system EC2 credentials from policy.v3cloudsample.json

By relying on system-scope and default roles, these policies are now
obsolete.

Change-Id: Ie6be658a8e4dd028834a3fee956689f9513a37e9
Partial-Bug: #1806762
Closes-Bug: #1750678
",git fetch https://review.opendev.org/openstack/keystone refs/changes/62/681162/4 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_policy.py', 'releasenotes/notes/bug-1750678-88a38851ca80fc64.yaml', 'etc/policy.v3cloudsample.json']",3,301c26602c79e9afc8db1e52523444e00ba0309e,bug/1750678,," ""identity:ec2_list_credentials"": ""rule:admin_required or rule:owner"", ""identity:ec2_create_credential"": ""rule:admin_required or rule:owner"", ",39,4
openstack%2Frequirements~master~Ib0e9e910a852abe14153c5433da8edd226f161b8,openstack/requirements,master,Ib0e9e910a852abe14153c5433da8edd226f161b8,update constraint for tricircleclient to new release 0.6.0,MERGED,2019-09-13 19:32:51.000000000,2019-09-15 21:38:24.000000000,2019-09-15 21:37:00.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-13 19:32:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a8bce4c534e472b69e4cb65d39fcf0596be7d8a0', 'message': 'update constraint for tricircleclient to new release 0.6.0\n\nChange-Id: Ib0e9e910a852abe14153c5433da8edd226f161b8\nmeta:version: 0.6.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: yes\nmeta:release:Author: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Commit: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Change-Id: Ic99fb368505bc58de880a2d38cf8d958e789b9b0\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,682145,a8bce4c534e472b69e4cb65d39fcf0596be7d8a0,18,2,1,11131,,,0,"update constraint for tricircleclient to new release 0.6.0

Change-Id: Ib0e9e910a852abe14153c5433da8edd226f161b8
meta:version: 0.6.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: no
meta:first: yes
meta:release:Author: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Commit: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Change-Id: Ic99fb368505bc58de880a2d38cf8d958e789b9b0
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/45/682145/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a8bce4c534e472b69e4cb65d39fcf0596be7d8a0,new-release,tricircleclient===0.6.0,tricircleclient===0.5.0,1,1
openstack%2Frequirements~stable%2Fqueens~I799e98544d1df3795cb28c528eb0ba89de18efad,openstack/requirements,stable/queens,I799e98544d1df3795cb28c528eb0ba89de18efad,update constraint for paunch to new release 2.5.3,MERGED,2019-09-13 15:37:18.000000000,2019-09-15 20:14:01.000000000,2019-09-15 20:14:01.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-13 15:37:18.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0fc5469527e4ff21e0331093d9a13bdb8a7d8c8b', 'message': 'update constraint for paunch to new release 2.5.3\n\nChange-Id: I799e98544d1df3795cb28c528eb0ba89de18efad\nmeta:version: 2.5.3\nmeta:diff-start: -\nmeta:series: queens\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Wes Hayutin <weshayutin@gmail.com>\nmeta:release:Commit: wes hayutin <whayutin@redhat.com>\nmeta:release:Change-Id: Id3a17cc2f110fac15cdd10537a5c97de78d2ca48\nmeta:release:Code-Review+1: Emilien Macchi <emilien@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Alex Schultz <aschultz@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+1: Andriy Shevchenko <huang.zhiping@99cloud.net>\n'}]",0,682089,0fc5469527e4ff21e0331093d9a13bdb8a7d8c8b,13,2,1,11131,,,0,"update constraint for paunch to new release 2.5.3

Change-Id: I799e98544d1df3795cb28c528eb0ba89de18efad
meta:version: 2.5.3
meta:diff-start: -
meta:series: queens
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Wes Hayutin <weshayutin@gmail.com>
meta:release:Commit: wes hayutin <whayutin@redhat.com>
meta:release:Change-Id: Id3a17cc2f110fac15cdd10537a5c97de78d2ca48
meta:release:Code-Review+1: Emilien Macchi <emilien@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Alex Schultz <aschultz@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+1: Andriy Shevchenko <huang.zhiping@99cloud.net>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/89/682089/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0fc5469527e4ff21e0331093d9a13bdb8a7d8c8b,new-release,paunch===2.5.3,paunch===2.5.2,1,1
openstack%2Fironic~master~I33e51f064daa0a0d70dd87e163d401c0e7b922bc,openstack/ironic,master,I33e51f064daa0a0d70dd87e163d401c0e7b922bc,Fix typo in handling of exception FailedToGetIPAddressOnPort,MERGED,2019-08-30 09:53:39.000000000,2019-09-15 19:25:05.000000000,2019-09-15 19:23:34.000000000,"[{'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 30911}]","[{'number': 1, 'created': '2019-08-30 09:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/de4d7d18fc79b26ecf8f7abe153284671cc29fd4', 'message': 'Fix typo in handling of exception FailedToGetIPAddressOnPort\n\nFunction create_pxe_config in ironic/common/pxe_utils.py tried to\nhandle exception FailedToGetIPaddressesOnPort. However, the raised\nexception is called FailedToGetIPAddressOnPort.\n\nChange-Id: I33e51f064daa0a0d70dd87e163d401c0e7b922bc\nStory: 2006478\nTask: 36419\n'}, {'number': 2, 'created': '2019-09-02 13:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a8900c8a6897bb5d75951514e634ca7f47c92068', 'message': 'Fix typo in handling of exception FailedToGetIPAddressOnPort\n\nFunction create_pxe_config in ironic/common/pxe_utils.py tried to\nhandle exception FailedToGetIPaddressesOnPort. However, the raised\nexception is called FailedToGetIPAddressOnPort.\n\nChange-Id: I33e51f064daa0a0d70dd87e163d401c0e7b922bc\nStory: 2006478\nTask: 36419\n'}, {'number': 3, 'created': '2019-09-03 06:45:57.000000000', 'files': ['ironic/common/pxe_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/22db498ea1d02119d7662f566e299d04a09e9ae5', 'message': 'Fix typo in handling of exception FailedToGetIPAddressOnPort\n\nFunction create_pxe_config in ironic/common/pxe_utils.py tried to\nhandle exception FailedToGetIPaddressesOnPort. However, the raised\nexception is called FailedToGetIPAddressOnPort.\n\nChange-Id: I33e51f064daa0a0d70dd87e163d401c0e7b922bc\nStory: 2006478\nTask: 36419\n'}]",1,679414,22db498ea1d02119d7662f566e299d04a09e9ae5,68,10,3,30911,,,0,"Fix typo in handling of exception FailedToGetIPAddressOnPort

Function create_pxe_config in ironic/common/pxe_utils.py tried to
handle exception FailedToGetIPaddressesOnPort. However, the raised
exception is called FailedToGetIPAddressOnPort.

Change-Id: I33e51f064daa0a0d70dd87e163d401c0e7b922bc
Story: 2006478
Task: 36419
",git fetch https://review.opendev.org/openstack/ironic refs/changes/14/679414/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/pxe_utils.py'],1,de4d7d18fc79b26ecf8f7abe153284671cc29fd4,bug/2006478, except exception.FailedToGetIPAddressOnPort as e:, except exception.FailedToGetIPaddressesOnPort as e:,1,1
openstack%2Fnova~master~I3c917796cb30d11e7db1e235ac1625d2a743aaa2,openstack/nova,master,I3c917796cb30d11e7db1e235ac1625d2a743aaa2,NUMA live migration support,MERGED,2019-02-03 16:09:21.000000000,2019-09-15 19:17:42.000000000,2019-09-15 11:12:28.000000000,"[{'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 12860}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 19124}, {'_account_id': 19156}, {'_account_id': 22056}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23598}, {'_account_id': 26515}, {'_account_id': 27076}, {'_account_id': 28570}, {'_account_id': 28714}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-02-03 16:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/940ca26686dfe8a519b104f22a1fd6f87758ae29', 'message': ""[WIP] Use claims when live migrating\n\nStart using claims for live migration. Their only purpose for now is\nto make sure the destination has enough resources. In subsequent\npatches, they'll be used to as a source of information to send the\ninstance's new NUMA characteristics to the source.\n\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\nImplements: bp/numa-aware-live-migration\n""}, {'number': 2, 'created': '2019-02-03 17:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ecced176e3e38061d2fd2e7667960e50bd1a3567', 'message': ""[WIP] Use claims when live migrating\n\nStart using claims for live migration. Their only purpose for now is\nto make sure the destination has enough resources. In subsequent\npatches, they'll be used to as a source of information to send the\ninstance's new NUMA characteristics to the source.\n\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\nImplements: bp/numa-aware-live-migration\n""}, {'number': 3, 'created': '2019-02-03 20:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c0e3b49211e790eeff1db718b4ae072d3540532', 'message': ""[WIP] Use claims when live migrating\n\nStart using claims for live migration. Their only purpose for now is\nto make sure the destination has enough resources. In subsequent\npatches, they'll be used to as a source of information to send the\ninstance's new NUMA characteristics to the source.\n\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\nImplements: bp/numa-aware-live-migration\n""}, {'number': 4, 'created': '2019-02-03 23:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7349f8190117d7bc408bde009caf287c222e4ba4', 'message': ""[WIP] Use claims when live migrating\n\nStart using claims for live migration. Their only purpose for now is\nto make sure the destination has enough resources. In subsequent\npatches, they'll be used to as a source of information to send the\ninstance's new NUMA characteristics to the source.\n\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\nImplements: bp/numa-aware-live-migration\n""}, {'number': 5, 'created': '2019-02-04 20:17:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e31bf75588f6c49fdc337fd7f8c750811f5e32d4', 'message': ""[WIP] Create claims when live migrating\n\nStart creating claims for live migration. Their only purpose for now is\nto make sure the destination has enough resources. In subsequent\npatches, they'll be used to as a source of information to send the\ninstance's new NUMA characteristics to the source.\n\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\nImplements: bp/numa-aware-live-migration\n""}, {'number': 6, 'created': '2019-02-04 22:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed7caad0cab9ec7b436cd50cf655e2af380dc751', 'message': ""[WIP] Create claims when live migrating\n\nStart creating claims for live migration. Their only purpose for now is\nto make sure the destination has enough resources. In subsequent\npatches, they'll be used to as a source of information to send the\ninstance's new NUMA characteristics to the source.\n\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\nImplements: bp/numa-aware-live-migration\n""}, {'number': 7, 'created': '2019-02-06 03:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/76d1dcbd8aa760e26dabef02b1ce3341c2478ede', 'message': ""[WIP] Create claims when live migrating\n\nStart creating claims for live migration. Their only purpose for now is to make\nsure the destination has enough resources. In subsequent patches, they'll be\nused to as a source of information to send the instance's new NUMA\ncharacteristics to the source.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 8, 'created': '2019-02-06 13:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e0763eb7e40b0d2e525da03cca1df642e424a56', 'message': ""[WIP] Create claims when live migrating\n\nStart creating claims for live migration. Their only purpose for now is to make\nsure the destination has enough resources. In subsequent patches, they'll be\nused to as a source of information to send the instance's new NUMA\ncharacteristics to the source.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 9, 'created': '2019-02-06 17:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1af322246077ff6f825e52bd4db6d6e36dcc89a', 'message': ""[WIP] Create claims when live migrating\n\nStart creating claims for live migration. Their only purpose for now is to make\nsure the destination has enough resources. In subsequent patches, they'll be\nused to as a source of information to send the instance's new NUMA\ncharacteristics to the source.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 10, 'created': '2019-02-07 00:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2beeceb24677900030cff4cb4d3ee1d410898943', 'message': ""[WIP] Create claims when live migrating\n\nStart creating claims for live migration. Their only purpose for now is to make\nsure the destination has enough resources. In subsequent patches, they'll be\nused to as a source of information to send the instance's new NUMA\ncharacteristics to the source.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 11, 'created': '2019-02-07 18:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0210518be5817f8776e168e6ee32c7a310b3fff4', 'message': ""[WIP] Create claims when live migrating\n\nStart creating claims for live migration. Their only purpose for now is to make\nsure the destination has enough resources. In subsequent patches, they'll be\nused to as a source of information to send the instance's new NUMA\ncharacteristics to the source.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 12, 'created': '2019-02-07 22:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/512b1b7791b11c40aa1a8bdd1fed830da372ab5d', 'message': ""[WIP] Create claims when live migrating\n\nStart creating claims during live migrations. The claims's only\npurpose for now is to make sure the destination has enough resources.\nIn subsequent patches, they'll be used to as a source of information\nto send the instance's new NUMA characteristics to the source.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 13, 'created': '2019-02-08 01:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96711ca4a3c42aeda7952cc49ff729933238d26b', 'message': ""[WIP] Use live_migration_claim() to check dest resources\n\nStart creating claims during live migrations. The claims's only\npurpose for now is to fit the instance's NUMA topology to the\ndestination and make sure the destination has enough resources.\nIn subsequent patches, they'll be used to as a source of information\nto send the instance's new NUMA characteristics to the source.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 14, 'created': '2019-02-11 20:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e593a6b25d24ba03e8fdc249916438eb3953139', 'message': ""[WIP] Use live_migration_claim() to check dest resources\n\nStart creating claims during live migrations. The claims's only\npurpose for now is to fit the instance's NUMA topology to the\ndestination and make sure the destination has enough resources.\nIn subsequent patches, they'll be used to as a source of information\nto send the instance's new NUMA characteristics to the source.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 15, 'created': '2019-02-12 03:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2df1a1ca6dc13c8583c377160e2356358364a118', 'message': ""[WIP] Use live_migration_claim() to check dest resources\n\nStart creating claims during live migrations. The claims's only\npurpose for now is to fit the instance's NUMA topology to the\ndestination and make sure the destination has enough resources.\nIn subsequent patches, they'll be used to as a source of information\nto send the instance's new NUMA characteristics to the source.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 16, 'created': '2019-02-12 03:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ad35099038fa91f7d2fdc06ef8868380de38440', 'message': ""[WIP] Use live_migration_claim() to check dest resources\n\nStart creating claims during live migrations. The claims's only\npurpose for now is to fit the instance's NUMA topology to the\ndestination and make sure the destination has enough resources.\nIn subsequent patches, they'll be used to as a source of information\nto send the instance's new NUMA characteristics to the source.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 17, 'created': '2019-02-12 14:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce6bbc4bf292e8df01449bda0a77931c0fc59636', 'message': ""[WIP] Use live_migration_claim() to check dest resources\n\nStart creating claims during live migrations. The claims's only\npurpose for now is to fit the instance's NUMA topology to the\ndestination and make sure the destination has enough resources.\nIn subsequent patches, they'll be used to as a source of information\nto send the instance's new NUMA characteristics to the source.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 18, 'created': '2019-02-12 21:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dac5302fd4dfa9a7a6b31ef908b179bd5e6fd667', 'message': ""[WIP] Use live_migration_claim() to check dest resources\n\nStart creating claims during live migrations. The claims's only\npurpose for now is to fit the instance's NUMA topology to the\ndestination and make sure the destination has enough resources.\nIn subsequent patches, they'll be used to as a source of information\nto send the instance's new NUMA characteristics to the source.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 19, 'created': '2019-02-13 19:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fcfa541642327cd2038c33c1f0edb32244a68e3c', 'message': ""[WIP] Use live_migration_claim() to check dest resources\n\nStart creating claims during live migrations. The claims's only\npurpose for now is to fit the instance's NUMA topology to the\ndestination and make sure the destination has enough resources.\nIn subsequent patches, they'll be used to as a source of information\nto send the instance's new NUMA characteristics to the source.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 20, 'created': '2019-02-13 23:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a5ec1eaa7e5c61a6b5cfb4d3882d0b95efefbf9', 'message': ""[WIP] Use live_migration_claim() to check dest resources\n\nStart creating claims during live migrations. The claims's only\npurpose for now is to fit the instance's NUMA topology to the\ndestination and make sure the destination has enough resources.\nIn subsequent patches, they'll be used to as a source of information\nto send the instance's new NUMA characteristics to the source.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 21, 'created': '2019-02-15 21:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bf56e3bac16b9cb9eeec297c4f10cde730a05077', 'message': ""[WIP] Use live_migration_claim() to check dest resources\n\nStart creating claims during live migrations. The claims's only\npurpose for now is to fit the instance's NUMA topology to the\ndestination and make sure the destination has enough resources.\nIn subsequent patches, they'll be used to as a source of information\nto send the instance's new NUMA characteristics to the source.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 22, 'created': '2019-02-18 00:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5797aa19c22b4e8ded444199704a4ff15ea46ab', 'message': ""[WIP] Use live_migration_claim() to check dest resources\n\nStart creating claims during live migrations. The claims's only\npurpose for now is to fit the instance's NUMA topology to the\ndestination and make sure the destination has enough resources.\nIn subsequent patches, they'll be used to as a source of information\nto send the instance's new NUMA characteristics to the source.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 23, 'created': '2019-02-18 21:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/37251fe42414e50ff26b8d72359ab34fdc742fed', 'message': ""[WIP] Use live_migration_claim() to check dest resources\n\nStart creating claims during live migrations. The claims's only\npurpose for now is to fit the instance's NUMA topology to the\ndestination and make sure the destination has enough resources.\nIn subsequent patches, they'll be used to as a source of information\nto send the instance's new NUMA characteristics to the source.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 24, 'created': '2019-02-21 21:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ec2e1b612eab77f05da841e65cfee860b0e77359', 'message': ""Use live_migration_claim() to check dest resources\n\nStart creating claims during live migrations. The claims's only\npurpose for now is to fit the instance's NUMA topology to the\ndestination and make sure the destination has enough resources.\nIn subsequent patches, they'll be used to as a source of information\nto send the instance's new NUMA characteristics to the source.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 25, 'created': '2019-02-22 12:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e21b6b5b856f8fe1064b54224b90284406de224b', 'message': ""Use live_migration_claim() to check dest resources\n\nStart creating claims during live migrations. The claims's only\npurpose for now is to fit the instance's NUMA topology to the\ndestination and make sure the destination has enough resources.\nIn subsequent patches, they'll be used to as a source of information\nto send the instance's new NUMA characteristics to the source.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 26, 'created': '2019-02-22 17:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e3b4ced1f7b846e8bb2a415f1a88b9287d57ed18', 'message': ""Use live_migration_claim() to check dest resources\n\nStart creating claims during live migrations. The claims's only\npurpose for now is to fit the instance's NUMA topology to the\ndestination and make sure the destination has enough resources.\nIn subsequent patches, they'll be used to as a source of information\nto send the instance's new NUMA characteristics to the source.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 27, 'created': '2019-02-22 18:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/081456e9ace848b67928b90d82d42e2ae54a8fc6', 'message': ""Use live_migration_claim() to check dest resources\n\nStart creating claims during live migrations. The claims's only\npurpose for now is to fit the instance's NUMA topology to the\ndestination and make sure the destination has enough resources.\nIn subsequent patches, they'll be used to as a source of information\nto send the instance's new NUMA characteristics to the source.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 28, 'created': '2019-02-23 21:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aca9209a928c0166166951671110cf0413b33591', 'message': ""[WIP needs more tests] Full NUMA live migration support\n\nThis patch introduces a service version bump to indicate full NUMA\nlive migration support. The new service version causes several things\nto happen:\n\n1. check_can_live_migrate_destination() creates a claim for the live\n   migration. This is conditional on the source having the new service\n   version: resources should only be claimed if the source can send\n   updated XML.\n\n2. _post_live_migration() drops the migration context from the instance\n   if the live migration is successful (resources are already cleaned\n   up by the update_available_resource call()). This can happen\n   regardless of service version because\n   instance.drop_migration_context() checks for its presence before\n   dropping it.\n\n3. If the dest has the new service version, _rollback_live_migration()\n   calls rollback_live_migration_at_destination() regardless of the\n   do_cleanup boolean. This is to ensure the destination drops the\n   migration context and claim if a claim was created.\n\n4. rollback_live_migration_at_destination() drops the migration\n   context from the instance. This can happen regardless of service\n   version because of the same reason as in 2.\n\n5. rollback_live_migration_at_destination() drops the claim if the\n   live migration failed.  This is conditional on the source having\n   the new service version: if the source is too old, the claim wasn't\n   created in the first place in step 1.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 29, 'created': '2019-02-23 21:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ff728365635be8447bb124a9842934080a8f789a', 'message': ""[WIP needs more tests] Full NUMA live migration support\n\nThis patch introduces a service version bump to indicate full NUMA\nlive migration support. The new service version causes several things\nto happen:\n\n1. check_can_live_migrate_destination() creates a claim for the live\n   migration. This is conditional on the source having the new service\n   version: resources should only be claimed if the source can send\n   updated XML.\n\n2. _post_live_migration() drops the migration context from the instance\n   if the live migration is successful (resources are already cleaned\n   up by the update_available_resource call()). This can happen\n   regardless of service version because\n   instance.drop_migration_context() checks for its presence before\n   dropping it.\n\n3. If the dest has the new service version, _rollback_live_migration()\n   calls rollback_live_migration_at_destination() regardless of the\n   do_cleanup boolean. This is to ensure the destination drops the\n   migration context and claim if a claim was created.\n\n4. rollback_live_migration_at_destination() drops the migration\n   context from the instance. This can happen regardless of service\n   version because of the same reason as in 2.\n\n5. rollback_live_migration_at_destination() drops the claim if the\n   live migration failed.  This is conditional on the source having\n   the new service version: if the source is too old, the claim wasn't\n   created in the first place in step 1.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 30, 'created': '2019-02-25 20:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21da5374e3c1deedf8675b6369bc3373996ea10b', 'message': ""[WIP needs more tests] Full NUMA live migration support\n\nThis patch introduces a service version bump to indicate full NUMA\nlive migration support. The new service version causes several things\nto happen:\n\n1. check_can_live_migrate_destination() creates a claim for the live\n   migration. This is conditional on the source having the new service\n   version: resources should only be claimed if the source can send\n   updated XML.\n\n2. post_live_migration_at_destination() applies the migration context\n   to the instance if the live migration is successful (resources\n   are already cleaned up by the update_available_resource call()).\n   This can happen regardless of service version because\n   instance.apply_migration_context() checks for its presence before\n   dropping it.\n\n3. If the dest has the new service version, _rollback_live_migration()\n   calls rollback_live_migration_at_destination() regardless of the\n   do_cleanup boolean. This is to ensure the destination drops the\n   migration context and claim if a claim was created.\n\n4. rollback_live_migration_at_destination() drops the migration\n   context from the instance. This can happen regardless of service\n   version because of the same reason as in 2.\n\n5. rollback_live_migration_at_destination() drops the claim if the\n   live migration failed.  This is conditional on the source having\n   the new service version: if the source is too old, the claim wasn't\n   created in the first place in step 1.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 31, 'created': '2019-02-26 02:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/999de0a28024e13dcec3981a74b63e9a9346e0cc', 'message': ""[WIP needs more tests] Full NUMA live migration support\n\nThis patch introduces a service version bump to indicate full NUMA\nlive migration support. The new service version causes several things\nto happen:\n\n1. check_can_live_migrate_destination() creates a claim for the live\n   migration. This is conditional on the source having the new service\n   version: resources should only be claimed if the source can send\n   updated XML.\n\n2. post_live_migration_at_destination() applies the migration context\n   to the instance if the live migration is successful (resources\n   are already cleaned up by the update_available_resource call()).\n   This can happen regardless of service version because\n   instance.apply_migration_context() checks for its presence before\n   dropping it.\n\n3. If the dest has the new service version, _rollback_live_migration()\n   calls rollback_live_migration_at_destination() regardless of the\n   do_cleanup boolean. This is to ensure the destination drops the\n   migration context and claim if a claim was created.\n\n4. rollback_live_migration_at_destination() drops the migration\n   context from the instance. This can happen regardless of service\n   version because of the same reason as in 2.\n\n5. rollback_live_migration_at_destination() drops the claim if the\n   live migration failed.  This is conditional on the source having\n   the new service version: if the source is too old, the claim wasn't\n   created in the first place in step 1.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 32, 'created': '2019-02-26 20:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47568f3d10d8f9bb461177e76d16fb41527ae56c', 'message': '[WIP needs more tests] Full NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* check_can_live_migrate_destination() creates a claim for the live\n  migration if the source included instance_numa_topology in\n  migrate_data (indicating that it can perform a NUMA live migration).\n\n* post_live_migration_at_destination() applies the migration context\n  to the instance if the live migration is successful (resources\n  are already cleaned up by the update_available_resource call()).\n\n* If dst_numa_config is present in migrate_data (indicating that a\n  NUMA live migration was performed), _rollback_live_migration()\n  calls rollback_live_migration_at_destination() regardless of the\n  do_cleanup boolean. This is to ensure the destination drops the\n  migration context and claim if a claim was created.\n\n* rollback_live_migration_at_destination() drops the migration\n  context from the instance.\n\n* If dst_numa_config is present in migrate_data,\n  rollback_live_migration_at_destination() drops the claim if the\n  live migration failed.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n'}, {'number': 33, 'created': '2019-02-26 21:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9b3a7162bd44e8fb3807b7c7d672e158430357c', 'message': ""[WIP needs more tests] Full NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, virt driver's\n  check_can_live_migrate_source adds instance_numa_topology to\n  migrate_data, indicating that it can perform a NUMA live migration.\n\n* compute manager's check_can_live_migrate_destination() creates a\n  claim for the live migration if the source included\n  instance_numa_topology in migrate_data.\n\n* post_live_migration_at_destination() applies the migration context\n  to the instance if the live migration is successful (resources\n  are already cleaned up by the update_available_resource call()).\n\n* If dst_numa_config is present in migrate_data (indicating that a\n  NUMA live migration was performed), _rollback_live_migration()\n  calls rollback_live_migration_at_destination() regardless of the\n  do_cleanup boolean. This is to ensure the destination drops the\n  migration context and claim if a claim was created.\n\n* rollback_live_migration_at_destination() drops the migration\n  context from the instance.\n\n* If dst_numa_config is present in migrate_data,\n  rollback_live_migration_at_destination() drops the claim if the\n  live migration failed.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 34, 'created': '2019-02-27 01:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c8560c8b14e1df0bac60bb34cb04a1b23cb7687', 'message': ""[WIP needs more tests] Full NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, virt driver's\n  check_can_live_migrate_source adds instance_numa_topology to\n  migrate_data, indicating that it can perform a NUMA live migration.\n\n* compute manager's check_can_live_migrate_destination() creates a\n  claim for the live migration if the source included\n  instance_numa_topology in migrate_data.\n\n* post_live_migration_at_destination() applies the migration context\n  to the instance if the live migration is successful (resources\n  are already cleaned up by the update_available_resource call()).\n\n* If dst_numa_config is present in migrate_data (indicating that a\n  NUMA live migration was performed), _rollback_live_migration()\n  calls rollback_live_migration_at_destination() regardless of the\n  do_cleanup boolean. This is to ensure the destination drops the\n  migration context and claim if a claim was created.\n\n* rollback_live_migration_at_destination() drops the migration\n  context from the instance.\n\n* If dst_numa_config is present in migrate_data,\n  rollback_live_migration_at_destination() drops the claim if the\n  live migration failed.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 35, 'created': '2019-02-27 22:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6bd50ffc846ae20b10f7778c9d508d740958bc6e', 'message': ""Full NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, virt driver's\n  check_can_live_migrate_source adds instance_numa_topology to\n  migrate_data, indicating that it can perform a NUMA live migration.\n\n* compute manager's check_can_live_migrate_destination() creates a\n  claim for the live migration if the source included\n  instance_numa_topology in migrate_data.\n\n* post_live_migration_at_destination() applies the migration context\n  to the instance if the live migration is successful (resources\n  are already cleaned up by the update_available_resource call()).\n\n* If dst_numa_config is present in migrate_data (indicating that a\n  NUMA live migration was performed), _rollback_live_migration()\n  calls rollback_live_migration_at_destination() regardless of the\n  do_cleanup boolean. This is to ensure the destination drops the\n  migration context and claim if a claim was created.\n\n* rollback_live_migration_at_destination() drops the migration\n  context from the instance.\n\n* If dst_numa_config is present in migrate_data,\n  rollback_live_migration_at_destination() drops the claim if the\n  live migration failed.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 36, 'created': '2019-02-27 23:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bbb92df744016c023b3456aa6c2324726abc1bdd', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, virt driver's\n  check_can_live_migrate_source adds instance_numa_topology to\n  migrate_data, indicating that it can perform a NUMA live migration.\n\n* compute manager's check_can_live_migrate_destination() creates a\n  claim for the live migration if the source included\n  instance_numa_topology in migrate_data.\n\n* post_live_migration_at_destination() applies the migration context\n  to the instance if the live migration is successful (resources\n  are already cleaned up by the update_available_resource call()).\n\n* If dst_numa_config is present in migrate_data (indicating that a\n  NUMA live migration was performed), _rollback_live_migration()\n  calls rollback_live_migration_at_destination() regardless of the\n  do_cleanup boolean. This is to ensure the destination drops the\n  migration context and claim if a claim was created.\n\n* rollback_live_migration_at_destination() drops the migration\n  context from the instance.\n\n* If dst_numa_config is present in migrate_data,\n  rollback_live_migration_at_destination() drops the claim if the\n  live migration failed.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 37, 'created': '2019-02-28 02:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0633b9f4df074f49875251469708180fb049a6a4', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, the libvirt driver's\n  check_can_live_migrate_source adds instance_numa_topology to\n  migrate_data, indicating that it can perform a NUMA live migration.\n\n* compute manager's check_can_live_migrate_destination() creates a\n  claim for the live migration if the source included\n  instance_numa_topology in migrate_data.\n\n* post_live_migration_at_destination() applies the migration context\n  to the instance if the live migration is successful (resources\n  are already cleaned up by the update_available_resource call()).\n\n* If dst_numa_config is present in migrate_data (indicating that a\n  NUMA live migration was performed), _rollback_live_migration()\n  calls rollback_live_migration_at_destination() regardless of the\n  do_cleanup boolean. This is to ensure the destination drops the\n  migration context and claim if a claim was created.\n\n* rollback_live_migration_at_destination() drops the migration\n  context from the instance.\n\n* If dst_numa_config is present in migrate_data,\n  rollback_live_migration_at_destination() drops the claim if the\n  live migration failed.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 38, 'created': '2019-06-12 20:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3eaf17aef0c9fda016808197f680ff314e8d17a', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, the libvirt driver's\n  check_can_live_migrate_source adds instance_numa_topology to\n  migrate_data, indicating that it can perform a NUMA live migration.\n\n* compute manager's check_can_live_migrate_destination() creates a\n  claim for the live migration if the source included\n  instance_numa_topology in migrate_data.\n\n* post_live_migration_at_destination() applies the migration context\n  to the instance if the live migration is successful (resources\n  are already cleaned up by the update_available_resource call()).\n\n* If dst_numa_config is present in migrate_data (indicating that a\n  NUMA live migration was performed), _rollback_live_migration()\n  calls rollback_live_migration_at_destination() regardless of the\n  do_cleanup boolean. This is to ensure the destination drops the\n  migration context and claim if a claim was created.\n\n* rollback_live_migration_at_destination() drops the migration\n  context from the instance.\n\n* If dst_numa_config is present in migrate_data,\n  rollback_live_migration_at_destination() drops the claim if the\n  live migration failed.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 39, 'created': '2019-07-03 06:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9304ffb18463e20323caf84e2ee1d7719fb1cad', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, the libvirt driver's\n  check_can_live_migrate_source adds instance_numa_topology to\n  migrate_data, indicating that it can perform a NUMA live migration.\n\n* compute manager's check_can_live_migrate_destination() creates a\n  claim for the live migration if the source included\n  instance_numa_topology in migrate_data.\n\n* post_live_migration_at_destination() applies the migration context\n  to the instance if the live migration is successful (resources\n  are already cleaned up by the update_available_resource call()).\n\n* If dst_numa_config is present in migrate_data (indicating that a\n  NUMA live migration was performed), _rollback_live_migration()\n  calls rollback_live_migration_at_destination() regardless of the\n  do_cleanup boolean. This is to ensure the destination drops the\n  migration context and claim if a claim was created.\n\n* rollback_live_migration_at_destination() drops the migration\n  context from the instance.\n\n* If dst_numa_config is present in migrate_data,\n  rollback_live_migration_at_destination() drops the claim if the\n  live migration failed.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 40, 'created': '2019-07-03 11:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/abca53501da6b3aae9a0039f8396ac74f1c1957f', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, the libvirt driver's\n  check_can_live_migrate_source adds instance_numa_topology to\n  migrate_data, indicating that it can perform a NUMA live migration.\n\n* compute manager's check_can_live_migrate_destination() creates a\n  claim for the live migration if the source included\n  instance_numa_topology in migrate_data.\n\n* post_live_migration_at_destination() applies the migration context\n  to the instance if the live migration is successful (resources\n  are already cleaned up by the update_available_resource call()).\n\n* If dst_numa_config is present in migrate_data (indicating that a\n  NUMA live migration was performed), _rollback_live_migration()\n  calls rollback_live_migration_at_destination() regardless of the\n  do_cleanup boolean. This is to ensure the destination drops the\n  migration context and claim if a claim was created.\n\n* rollback_live_migration_at_destination() drops the migration\n  context from the instance.\n\n* If dst_numa_config is present in migrate_data,\n  rollback_live_migration_at_destination() drops the claim if the\n  live migration failed.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 41, 'created': '2019-07-04 12:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3b202055edb13664c04e3ee230fcdbdd0a30bfa', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, the libvirt driver's\n  check_can_live_migrate_source adds instance_numa_topology to\n  migrate_data, indicating that it can perform a NUMA live migration.\n\n* compute manager's check_can_live_migrate_destination() creates a\n  claim for the live migration if the source included\n  instance_numa_topology in migrate_data.\n\n* post_live_migration_at_destination() applies the migration context\n  to the instance if the live migration is successful (resources\n  are already cleaned up by the update_available_resource call()).\n\n* If dst_numa_config is present in migrate_data (indicating that a\n  NUMA live migration was performed), _rollback_live_migration()\n  calls rollback_live_migration_at_destination() regardless of the\n  do_cleanup boolean. This is to ensure the destination drops the\n  migration context and claim if a claim was created.\n\n* rollback_live_migration_at_destination() drops the migration\n  context from the instance.\n\n* If dst_numa_config is present in migrate_data,\n  rollback_live_migration_at_destination() drops the claim if the\n  live migration failed.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 42, 'created': '2019-07-10 18:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10049d63b14baa2d76664c1158e5afaa983912f1', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, the libvirt driver's\n  check_can_live_migrate_source adds instance_numa_topology to\n  migrate_data, indicating that it can perform a NUMA live migration.\n\n* compute manager's check_can_live_migrate_destination() creates a\n  claim for the live migration if the source included\n  instance_numa_topology in migrate_data.\n\n* post_live_migration_at_destination() applies the migration context\n  to the instance if the live migration is successful (resources\n  are already cleaned up by the update_available_resource call()).\n\n* If dst_numa_config is present in migrate_data (indicating that a\n  NUMA live migration was performed), _rollback_live_migration()\n  calls rollback_live_migration_at_destination() regardless of the\n  do_cleanup boolean. This is to ensure the destination drops the\n  migration context and claim if a claim was created.\n\n* rollback_live_migration_at_destination() drops the migration\n  context from the instance.\n\n* If dst_numa_config is present in migrate_data,\n  rollback_live_migration_at_destination() drops the claim if the\n  live migration failed.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 43, 'created': '2019-07-17 20:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a15e3c19f576b76f75b3b79f3721c54213dc2b7d', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, the libvirt driver's\n  check_can_live_migrate_source adds instance_numa_topology to\n  migrate_data, indicating that it can perform a NUMA live migration.\n\n* compute manager's check_can_live_migrate_destination() creates a\n  claim for the live migration if the source included\n  instance_numa_topology in migrate_data.\n\n* post_live_migration_at_destination() applies the migration context\n  to the instance if the live migration is successful (resources\n  are already cleaned up by the update_available_resource call()).\n\n* If dst_numa_config is present in migrate_data (indicating that a\n  NUMA live migration was performed), _rollback_live_migration()\n  calls rollback_live_migration_at_destination() regardless of the\n  do_cleanup boolean. This is to ensure the destination drops the\n  migration context and claim if a claim was created.\n\n* rollback_live_migration_at_destination() drops the migration\n  context from the instance.\n\n* If dst_numa_config is present in migrate_data,\n  rollback_live_migration_at_destination() drops the claim if the\n  live migration failed.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 44, 'created': '2019-07-18 00:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/835d4c3adb716dc137950520b556cc785b0356fc', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, the libvirt driver's\n  check_can_live_migrate_source adds instance_numa_topology to\n  migrate_data, indicating that it can perform a NUMA live migration.\n\n* compute manager's check_can_live_migrate_destination() creates a\n  claim for the live migration if the source included\n  instance_numa_topology in migrate_data.\n\n* post_live_migration_at_destination() applies the migration context\n  to the instance if the live migration is successful (resources\n  are already cleaned up by the update_available_resource call()).\n\n* If dst_numa_config is present in migrate_data (indicating that a\n  NUMA live migration was performed), _rollback_live_migration()\n  calls rollback_live_migration_at_destination() regardless of the\n  do_cleanup boolean. This is to ensure the destination drops the\n  migration context and claim if a claim was created.\n\n* rollback_live_migration_at_destination() drops the migration\n  context from the instance.\n\n* If dst_numa_config is present in migrate_data,\n  rollback_live_migration_at_destination() drops the claim if the\n  live migration failed.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 45, 'created': '2019-07-24 21:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d37cc4779b6e126625da98e001d57bc46006facb', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, the libvirt driver's\n  check_can_live_migrate_source adds instance_numa_topology to\n  migrate_data, indicating that it can perform a NUMA live migration.\n\n* compute manager's check_can_live_migrate_destination() creates a\n  claim for the live migration if the source included\n  instance_numa_topology in migrate_data.\n\n* post_live_migration_at_destination() applies the migration context\n  to the instance if the live migration is successful (resources\n  are already cleaned up by the update_available_resource call()).\n\n* If dst_numa_config is present in migrate_data (indicating that a\n  NUMA live migration was performed), _rollback_live_migration()\n  calls rollback_live_migration_at_destination() regardless of the\n  do_cleanup boolean. This is to ensure the destination drops the\n  migration context and claim if a claim was created.\n\n* rollback_live_migration_at_destination() drops the migration\n  context from the instance.\n\n* If dst_numa_config is present in migrate_data,\n  rollback_live_migration_at_destination() drops the claim if the\n  live migration failed.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 46, 'created': '2019-07-25 14:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f1c0c72838c96a92344d0dfb550159ec7120b84', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, the libvirt driver's\n  check_can_live_migrate_source adds instance_numa_topology to\n  migrate_data, indicating that it can perform a NUMA live migration.\n\n* compute manager's check_can_live_migrate_destination() creates a\n  claim for the live migration if the source included\n  instance_numa_topology in migrate_data.\n\n* post_live_migration_at_destination() applies the migration context\n  to the instance if the live migration is successful (resources\n  are already cleaned up by the update_available_resource call()).\n\n* If dst_numa_config is present in migrate_data (indicating that a\n  NUMA live migration was performed), _rollback_live_migration()\n  calls rollback_live_migration_at_destination() regardless of the\n  do_cleanup boolean. This is to ensure the destination drops the\n  migration context and claim if a claim was created.\n\n* rollback_live_migration_at_destination() drops the migration\n  context from the instance.\n\n* If dst_numa_config is present in migrate_data,\n  rollback_live_migration_at_destination() drops the claim if the\n  live migration failed.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 47, 'created': '2019-07-25 21:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb0790a090fc25b458d0725a8d77a6ee69471c16', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, the libvirt driver's\n  check_can_live_migrate_source adds instance_numa_topology to\n  migrate_data, indicating that it can perform a NUMA live migration.\n\n* compute manager's check_can_live_migrate_destination() creates a\n  claim for the live migration if the source included\n  instance_numa_topology in migrate_data.\n\n* post_live_migration_at_destination() applies the migration context\n  to the instance if the live migration is successful (resources\n  are already cleaned up by the update_available_resource call()).\n\n* If dst_numa_config is present in migrate_data (indicating that a\n  NUMA live migration was performed), _rollback_live_migration()\n  calls rollback_live_migration_at_destination() regardless of the\n  do_cleanup boolean. This is to ensure the destination drops the\n  migration context and claim if a claim was created.\n\n* rollback_live_migration_at_destination() drops the migration\n  context from the instance.\n\n* If dst_numa_config is present in migrate_data,\n  rollback_live_migration_at_destination() drops the claim if the\n  live migration failed.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 48, 'created': '2019-07-29 21:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ec942229a16744005d6bcee2543bfeb2fed0d79', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, the libvirt driver's\n  check_can_live_migrate_source adds instance_numa_topology to\n  migrate_data, indicating that it can perform a NUMA live migration.\n\n* compute manager gets a new _live_migration_claim() method, called\n  from check_can_live_migrate_destination(). It creates a\n  claim for the live migration if the source included\n  instance_numa_topology in migrate_data, and calls the driver's\n  post_claim_migrate_data() to add the claimed resources information\n  into migrate_data.\n\n* post_live_migration_at_destination() applies the migration context\n  to the instance if the live migration is successful (resources\n  are already cleaned up by the update_available_resource call()).\n\n* If dst_numa_config is present in migrate_data (indicating that a\n  NUMA live migration was performed), _rollback_live_migration()\n  calls rollback_live_migration_at_destination() regardless of the\n  do_cleanup boolean. This is to ensure the destination drops the\n  migration context and claim if a claim was created.\n\n* rollback_live_migration_at_destination() drops the migration\n  context from the instance.\n\n* If dst_numa_config is present in migrate_data,\n  rollback_live_migration_at_destination() drops the claim if the\n  live migration failed.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 49, 'created': '2019-08-09 20:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f119fea1b5f5228e470bc5f2dea15fb2278f046', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, the libvirt driver's\n  check_can_live_migrate_source adds instance_numa_topology to\n  migrate_data, indicating that it can perform a NUMA live migration.\n\n* compute manager gets a new _live_migration_claim() method, called\n  from check_can_live_migrate_destination(). If the source included\n  instance_numa_topology in migrate_data, the new method creates a\n  claim for the live migration and calls the driver's\n  post_claim_migrate_data() to add the claimed resources information\n  into migrate_data.\n\n* During the live migration, the update_available_resources periodic\n  task no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\n  post_live_migration_at_destination() applies the migration context\n  to the instance. Note that resources were already being cleaned up\n  by a call to update_available_resource().\n\n* If dst_numa_config is present in migrate_data (indicating that a\n  NUMA live migration was performed), _rollback_live_migration()\n  calls rollback_live_migration_at_destination() regardless of the\n  do_cleanup boolean. This is to ensure the destination drops the\n  migration context and claim if a claim was created.\n\n* rollback_live_migration_at_destination() drops the migration\n  context from the instance.\n\n* If dst_numa_config is present in migrate_data and the live migration\n  failed, rollback_live_migration_at_destination() drops the claim.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 50, 'created': '2019-08-10 12:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b48455254ea565894b18d189426b8cf77ca5e66e', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, the libvirt driver's\n  check_can_live_migrate_source adds instance_numa_topology to\n  migrate_data, indicating that it can perform a NUMA live migration.\n\n* compute manager gets a new _live_migration_claim() method, called\n  from check_can_live_migrate_destination(). If the source included\n  instance_numa_topology in migrate_data, the new method creates a\n  claim for the live migration and calls the driver's\n  post_claim_migrate_data() to add the claimed resources information\n  into migrate_data.\n\n* During the live migration, the update_available_resources periodic\n  task no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\n  post_live_migration_at_destination() applies the migration context\n  to the instance. Note that resources were already being cleaned up\n  by a call to update_available_resource().\n\n* If dst_numa_config is present in migrate_data (indicating that a\n  NUMA live migration was performed), _rollback_live_migration()\n  calls rollback_live_migration_at_destination() regardless of the\n  do_cleanup boolean. This is to ensure the destination drops the\n  migration context and claim if a claim was created.\n\n* rollback_live_migration_at_destination() drops the migration\n  context from the instance.\n\n* If dst_numa_config is present in migrate_data and the live migration\n  failed, rollback_live_migration_at_destination() drops the claim.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 51, 'created': '2019-08-22 21:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/091eb3d68b454730ee315b3ccc2c9316fcfab1ee', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, the libvirt driver's\n  check_can_live_migrate_source adds instance_numa_topology to\n  migrate_data, indicating that it can perform a NUMA live migration.\n\n* compute manager gets a new _live_migration_claim() method, called\n  from check_can_live_migrate_destination(). If the source included\n  instance_numa_topology in migrate_data, the new method creates a\n  claim for the live migration and calls the driver's\n  post_claim_migrate_data() to add the claimed resources information\n  into migrate_data.\n\n* During the live migration, the update_available_resources periodic\n  task no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\n  post_live_migration_at_destination() applies the migration context\n  to the instance. Note that resources were already being cleaned up\n  by a call to update_available_resource().\n\n* If dst_numa_config is present in migrate_data (indicating that a\n  NUMA live migration was performed), _rollback_live_migration()\n  calls rollback_live_migration_at_destination() regardless of the\n  do_cleanup boolean. This is to ensure the destination drops the\n  migration context and claim if a claim was created.\n\n* rollback_live_migration_at_destination() drops the migration\n  context from the instance.\n\n* If dst_numa_config is present in migrate_data and the live migration\n  failed, rollback_live_migration_at_destination() drops the claim.\n\n* Remove is_trackable_migration() from the resource tracker (and\n  associated tests), as we're now doing a claim for all types of\n  migrations, including live migrations.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 52, 'created': '2019-08-23 16:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/795612dc0cc4724fdbb02cf09996ae6808f3a717', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\nRPC changes:\n\n* check_can_live_migrate_destination() in the compute manager needs to\n  receive:\n  - the migration object created by the superconductor\n  - the limits objects from the scheduler Selection object, passed\n    through the superconductor\n\n* post_live_migration_at_destination() (plmad() from now on) in the\n  compute manager needs to receive a do_cleanup boolean. Previously,\n  do_cleanup was calculated on the source, and plmad() was only called\n  if do_cleanup was True.\n\n* If the instance has a NUMA topology, the libvirt driver's\n  check_can_live_migrate_source adds numa_topology to\n  migrate_data, indicating that it can perform a NUMA live migration.\n\n* compute manager gets a new _live_migration_claim() method, called\n  from check_can_live_migrate_destination(). If the source included\n  instance_numa_topology in migrate_data, the new method creates a\n  claim for the live migration and calls the driver's\n  post_claim_migrate_data() to add the claimed resources information\n  into migrate_data.\n\n* During the live migration, the update_available_resources periodic\n  task no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\n  post_live_migration_at_destination() applies the migration context\n  to the instance. Note that resources were already being cleaned up\n  by a call to update_available_resource().\n\n* If dst_numa_config is present in migrate_data (indicating that a\n  NUMA live migration was performed), _rollback_live_migration()\n  calls rollback_live_migration_at_destination() regardless of the\n  do_cleanup boolean. This is to ensure the destination drops the\n  migration context and claim if a claim was created.\n\n* rollback_live_migration_at_destination() drops the migration\n  context from the instance.\n\n* If dst_numa_config is present in migrate_data and the live migration\n  failed, rollback_live_migration_at_destination() drops the claim.\n\n* Remove is_trackable_migration() from the resource tracker (and\n  associated tests), as we're now doing a claim for all types of\n  migrations, including live migrations.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 53, 'created': '2019-08-23 19:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ca518923a3488db57ad8ca2787124cde5f57a257', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\nRPC changes:\n\n* check_can_live_migrate_destination() in the compute manager needs to\n  receive:\n  - the migration object created by the superconductor\n  - the limits objects from the scheduler Selection object, passed\n    through the superconductor\n\n* post_live_migration_at_destination() (plmad() from now on) in the\n  compute manager needs to receive a do_cleanup boolean. Previously,\n  do_cleanup was calculated on the source, and plmad() was only called\n  if do_cleanup was True.\n\n* If the instance has a NUMA topology, the libvirt driver's\n  check_can_live_migrate_source adds numa_topology to\n  migrate_data, indicating that it can perform a NUMA live migration.\n\n* compute manager gets a new _live_migration_claim() method, called\n  from check_can_live_migrate_destination(). If the source included\n  instance_numa_topology in migrate_data, the new method creates a\n  claim for the live migration and calls the driver's\n  post_claim_migrate_data() to add the claimed resources information\n  into migrate_data.\n\n* During the live migration, the update_available_resources periodic\n  task no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\n  post_live_migration_at_destination() applies the migration context\n  to the instance. Note that resources were already being cleaned up\n  by a call to update_available_resource().\n\n* If dst_numa_info is present in migrate_data (indicating that a\n  NUMA live migration was performed), _rollback_live_migration()\n  calls rollback_live_migration_at_destination() regardless of the\n  do_cleanup boolean. This is to ensure the destination drops the\n  migration context and claim if a claim was created.\n\n* rollback_live_migration_at_destination() drops the migration\n  context from the instance.\n\n* If dst_numa_info is present in migrate_data and the live migration\n  failed, rollback_live_migration_at_destination() drops the claim.\n\n* Remove is_trackable_migration() from the resource tracker (and\n  associated tests), as we're now doing a claim for all types of\n  migrations, including live migrations.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 54, 'created': '2019-08-23 21:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3180b8d4b8ced375fde612024735fa6e9747df26', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* check_can_live_migrate_destination() in the compute manager needs to\n  receive:\n  - the migration object created by the superconductor\n  - the limits objects from the scheduler Selection object, passed\n    through the superconductor\n\n* If the instance has a NUMA topology, the libvirt driver's\ncheck_can_live_migrate_source() adds numa_topology to migrate_data,\nindicating that it can perform a NUMA live migration.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If the source included\nnuma_topology in migrate_data, the new method creates a claim for the\nlive migration and calls the driver's post_claim_migrate_data() to add\nthe claimed resources information into migrate_data.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* rollback_live_migration_at_destination() is modified to clean up the\nmove claim and the migration context, if they were created. This means\nis always needs to be called from _rollback_live_migration(), leading\nto the next bullet point.\n\n* _rollback_live_migration() always calls\nrollback_live_migration_at_destination(). This is to ensure the\ndestination drops the migration context and claim if a claim was\ncreated. Because rollback_live_migration_at_destination() is always\ncalled, the do_cleanup boolean that was previously calculated on the\nsource to decide whether to call\nrollback_live_migration_at_destination() is not calculated inside\nrollback_live_migration_at_destination(), and is used to decide\nwhether to call a new method,\n_do_rollback_live_migration_at_destination(), which does that\nrollback_live_migration_at_destination() previously did.\n\n* Remove is_trackable_migration() from the resource tracker (and\nassociated tests), as we're now doing a claim for all types of\nmigrations, including live migrations. The caveat here is that we're\nonly doing a claim for NUMA live migration, so live migrations without\nNUMA will not have a claim associated. However, their resources are\ntracked in placement, so this is considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 55, 'created': '2019-08-26 18:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99c82e08cf3b806518ced15d02ad3caabef830c8', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, the libvirt driver's\ncheck_can_live_migrate_source() adds numa_topology to migrate_data,\nindicating that it can perform a NUMA live migration.\n\n* check_can_live_migrate_destination() in the compute manager needs to\nreceive:\n - the migration object created by the superconductor\n - the limits objects from the scheduler Selection object, passed\n   through the superconductor\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If the source included\nnuma_topology in migrate_data, the new method creates a claim for the\nlive migration and calls the driver's post_claim_migrate_data() to add\nthe claimed resources information into migrate_data.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim.\n\n* Remove is_trackable_migration() from the resource tracker (and\nassociated tests), as we're now doing a claim for all types of\nmigrations, including live migrations. The caveat here is that we're\nonly doing a claim for NUMA live migration, so live migrations without\nNUMA will not have a claim associated. However, their resources are\ntracked in placement, so this is considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 56, 'created': '2019-08-26 22:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3139ce2d42e304b8fd4ec8f4f06c6fe639a4417', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, the libvirt driver's\ncheck_can_live_migrate_source() adds numa_topology to migrate_data,\nindicating that it can perform a NUMA live migration.\n\n* check_can_live_migrate_destination() in the compute manager needs to\nreceive:\n - the migration object created by the superconductor\n - the limits objects from the scheduler Selection object, passed\n   through the superconductor\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If the source included\nnuma_topology in migrate_data, the new method creates a claim for the\nlive migration and calls the driver's post_claim_migrate_data() to add\nthe claimed resources information into migrate_data.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim.\n\n* Remove is_trackable_migration() from the resource tracker (and\nassociated tests), as we're now doing a claim for all types of\nmigrations, including live migrations. The caveat here is that we're\nonly doing a claim for NUMA live migration, so live migrations without\nNUMA will not have a claim associated. However, their resources are\ntracked in placement, so this is considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 57, 'created': '2019-08-27 01:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c05ebc682c27421a89723f809148a1111167b573', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, the libvirt driver's\ncheck_can_live_migrate_source() adds numa_topology to migrate_data,\nindicating that it can perform a NUMA live migration.\n\n* check_can_live_migrate_destination() in the compute manager needs to\nreceive:\n - the migration object created by the superconductor\n - the limits objects from the scheduler Selection object, passed\n   through the superconductor\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If the source included\nnuma_topology in migrate_data, the new method creates a claim for the\nlive migration and calls the driver's post_claim_migrate_data() to add\nthe claimed resources information into migrate_data.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim.\n\n* Remove is_trackable_migration() from the resource tracker (and\nassociated tests), as we're now doing a claim for all types of\nmigrations, including live migrations. The caveat here is that we're\nonly doing a claim for NUMA live migration, so live migrations without\nNUMA will not have a claim associated. However, their resources are\ntracked in placement, so this is considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 58, 'created': '2019-08-27 03:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46c87fe369a6591eaaf67093e9e338b794f45458', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, the libvirt driver's\ncheck_can_live_migrate_source() adds numa_topology to migrate_data,\nindicating that it can perform a NUMA live migration.\n\n* check_can_live_migrate_destination() in the compute manager needs to\nreceive:\n - the migration object created by the superconductor\n - the limits objects from the scheduler Selection object, passed\n   through the superconductor\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If the source included\nnuma_topology in migrate_data, the new method creates a claim for the\nlive migration and calls the driver's post_claim_migrate_data() to add\nthe claimed resources information into migrate_data.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim.\n\n* Remove is_trackable_migration() from the resource tracker (and\nassociated tests), as we're now doing a claim for all types of\nmigrations, including live migrations. The caveat here is that we're\nonly doing a claim for NUMA live migration, so live migrations without\nNUMA will not have a claim associated. However, their resources are\ntracked in placement, so this is considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 59, 'created': '2019-08-27 21:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47a6eb635a3c36c490f8a7715252ab8df44e303a', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, the libvirt driver's\ncheck_can_live_migrate_source() adds numa_topology to migrate_data,\nindicating that it can perform a NUMA live migration.\n\n* check_can_live_migrate_destination() in the compute manager needs to\nreceive:\n - the migration object created by the superconductor\n - the limits objects from the scheduler Selection object, passed\n   through the superconductor\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If the source included\nnuma_topology in migrate_data, the new method creates a claim for the\nlive migration and calls the driver's post_claim_migrate_data() to add\nthe claimed resources information into migrate_data.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim.\n\n* Remove is_trackable_migration() from the resource tracker (and\nassociated tests), as we're now doing a claim for all types of\nmigrations, including live migrations. The caveat here is that we're\nonly doing a claim for NUMA live migration, so live migrations without\nNUMA will not have a claim associated. However, their resources are\ntracked in placement, so this is considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 60, 'created': '2019-08-28 03:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e26a91d7d3e5d1a35fcd11b223bb5314eec75ebf', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, the libvirt driver's\ncheck_can_live_migrate_source() adds numa_topology to migrate_data,\nindicating that it can perform a NUMA live migration.\n\n* check_can_live_migrate_destination() in the compute manager needs to\nreceive:\n - the migration object created by the superconductor\n - the limits objects from the scheduler Selection object, passed\n   through the superconductor\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If the source included\nnuma_topology in migrate_data, the new method creates a claim for the\nlive migration and calls the driver's post_claim_migrate_data() to add\nthe claimed resources information into migrate_data.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim.\n\n* Remove is_trackable_migration() from the resource tracker (and\nassociated tests), as we're now doing a claim for all types of\nmigrations, including live migrations. The caveat here is that we're\nonly doing a claim for NUMA live migration, so live migrations without\nNUMA will not have a claim associated. However, their resources are\ntracked in placement, so this is considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 61, 'created': '2019-08-29 01:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88f01d0fa1985a6c4c95f3d8426f1bd463278c1d', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, the libvirt driver's\ncheck_can_live_migrate_source() adds numa_topology to migrate_data,\nindicating that it can perform a NUMA live migration.\n\n* check_can_live_migrate_destination() in the compute manager needs to\nreceive:\n - the migration object created by the superconductor\n - the limits objects from the scheduler Selection object, passed\n   through the superconductor\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If the source included\nnuma_topology in migrate_data, the new method creates a claim for the\nlive migration and calls the driver's post_claim_migrate_data() to add\nthe claimed resources information into migrate_data.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim.\n\n* Remove is_trackable_migration() from the resource tracker (and\nassociated tests), as we're now doing a claim for all types of\nmigrations, including live migrations. The caveat here is that we're\nonly doing a claim for NUMA live migration, so live migrations without\nNUMA will not have a claim associated. However, their resources are\ntracked in placement, so this is considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 62, 'created': '2019-08-29 18:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/12156aaaece3b163ee69dd2b797379a1d9400544', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* If the instance has a NUMA topology, the libvirt driver's\ncheck_can_live_migrate_source() adds numa_topology to migrate_data,\nindicating that it can perform a NUMA live migration.\n\n* check_can_live_migrate_destination() in the compute manager needs to\nreceive:\n - the migration object created by the superconductor\n - the limits objects from the scheduler Selection object, passed\n   through the superconductor\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If the source included\nnuma_topology in migrate_data, the new method creates a claim for the\nlive migration and calls the driver's post_claim_migrate_data() to add\nthe claimed resources information into migrate_data.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim.\n\n* Remove is_trackable_migration() from the resource tracker (and\nassociated tests), as we're now doing a claim for all types of\nmigrations, including live migrations. The caveat here is that we're\nonly doing a claim for NUMA live migration, so live migrations without\nNUMA will not have a claim associated. However, their resources are\ntracked in placement, so this is considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 63, 'created': '2019-08-30 18:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b8065f548b1b095fa91a142251ce9d576f7c535', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* check_can_live_migrate_destination() in the compute manager receives\nnew parameters:\n - the migration object created by the superconductor\n - the limits objects from the scheduler Selection object, passed\n   through the superconductor\n\n* If a migration object is passed to\ncheck_can_live_migrate_destination(), the latter sets a\nnuma_live_migration sentinel to True, and passes it to\ncheck_can_live_migrate_source().\n\n* If the instance has a NUMA topology, the libvirt driver's\ncheck_can_live_migrate_source() adds src_supports_numa_live_migration\nto migrate_data, indicating that it can perform a NUMA live migration.\nThe compute manager's check_can_live_migrate_source() will *remove*\nsrc_supports_numa_live_migration from migrate_data unless a True\nnuma_live_migration sentinel was received.\n\n* The first 3 bullet points are done to make sure that a NUMA live\nmigration is initiated if and only if the conductor, both computes,\nand the RPC version support it.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If migrate_data contains\nsrc_supports_numa_live_migration, _live_migration_claim() creates a\nclaim for the live migration and calls the driver's\npost_claim_migrate_data() to add the claimed resources information\ninto migrate_data.\n\n* post_claim_migrate_data() adds dst_numa_info to migrate_data, which\nthe source uses to update the instance XML.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim.\n\n* is_trackable_migration() is removed from the resource tracker, as\nwe're now doing a claim for all types of migrations, including live\nmigrations. The caveat here is that we're only doing a claim for NUMA\nlive migration, so live migrations without NUMA will not have a claim\nassociated. However, their resources are tracked in placement, so this\nis considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 64, 'created': '2019-08-31 14:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/223cf609a575902a0bfa8b1579984cb3121d3e09', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* check_can_live_migrate_destination() in the compute manager receives\nnew parameters:\n - the migration object created by the superconductor\n - the limits objects from the scheduler Selection object, passed\n   through the superconductor\n\n* If a migration object is passed to\ncheck_can_live_migrate_destination(), the latter sets a\nnuma_live_migration sentinel to True, and passes it to\ncheck_can_live_migrate_source().\n\n* If the instance has a NUMA topology, the libvirt driver's\ncheck_can_live_migrate_source() adds src_supports_numa_live_migration\nto migrate_data, indicating that it can perform a NUMA live migration.\nThe compute manager's check_can_live_migrate_source() will *remove*\nsrc_supports_numa_live_migration from migrate_data unless a True\nnuma_live_migration sentinel was received.\n\n* The first 3 bullet points are done to make sure that a NUMA live\nmigration is initiated if and only if the conductor, both computes,\nand the RPC version support it.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If migrate_data contains\nsrc_supports_numa_live_migration, _live_migration_claim() creates a\nclaim for the live migration and calls the driver's\npost_claim_migrate_data() to add the claimed resources information\ninto migrate_data.\n\n* post_claim_migrate_data() adds dst_numa_info to migrate_data, which\nthe source uses to update the instance XML.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim.\n\n* is_trackable_migration() is removed from the resource tracker, as\nwe're now doing a claim for all types of migrations, including live\nmigrations. The caveat here is that we're only doing a claim for NUMA\nlive migration, so live migrations without NUMA will not have a claim\nassociated. However, their resources are tracked in placement, so this\nis considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 65, 'created': '2019-09-02 21:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd5b4dfd4981713c2223071bf3b8404ffc1c21ec', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* check_can_live_migrate_destination() in the compute manager receives\nnew parameters:\n - the migration object created by the superconductor\n - the limits objects from the scheduler Selection object, passed\n   through the superconductor\n\n* If a migration object is passed to\ncheck_can_live_migrate_destination(), the latter sets a\nnuma_live_migration sentinel to True, and passes it to\ncheck_can_live_migrate_source().\n\n* If the instance has a NUMA topology, the libvirt driver's\ncheck_can_live_migrate_source() adds src_supports_numa_live_migration\nto migrate_data, indicating that it can perform a NUMA live migration.\nThe compute manager's check_can_live_migrate_source() will *remove*\nsrc_supports_numa_live_migration from migrate_data unless a True\nnuma_live_migration sentinel was received.\n\n* The first 3 bullet points are done to make sure that a NUMA live\nmigration is initiated if and only if the conductor, both computes,\nand the RPC version support it.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If migrate_data contains\nsrc_supports_numa_live_migration, _live_migration_claim() creates a\nclaim for the live migration and calls the driver's\npost_claim_migrate_data() to add the claimed resources information\ninto migrate_data.\n\n* post_claim_migrate_data() adds dst_numa_info to migrate_data, which\nthe source uses to update the instance XML.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim.\n\n* is_trackable_migration() is removed from the resource tracker, as\nwe're now doing a claim for all types of migrations, including live\nmigrations. The caveat here is that we're only doing a claim for NUMA\nlive migration, so live migrations without NUMA will not have a claim\nassociated. However, their resources are tracked in placement, so this\nis considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 66, 'created': '2019-09-02 21:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9374df327e2b832a40590cde26e6bc6703229a9a', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* check_can_live_migrate_destination() in the compute manager receives\nnew parameters:\n - the migration object created by the superconductor\n - the limits objects from the scheduler Selection object, passed\n   through the superconductor\n\n* If a migration object is passed to\ncheck_can_live_migrate_destination(), the latter sets a\nnuma_live_migration sentinel to True, and passes it to\ncheck_can_live_migrate_source().\n\n* If the instance has a NUMA topology, the libvirt driver's\ncheck_can_live_migrate_source() adds src_supports_numa_live_migration\nto migrate_data, indicating that it can perform a NUMA live migration.\nThe compute manager's check_can_live_migrate_source() will *remove*\nsrc_supports_numa_live_migration from migrate_data unless a True\nnuma_live_migration sentinel was received.\n\n* The first 3 bullet points are done to make sure that a NUMA live\nmigration is initiated if and only if the conductor, both computes,\nand the RPC version support it.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If migrate_data contains\nsrc_supports_numa_live_migration, _live_migration_claim() creates a\nclaim for the live migration and calls the driver's\npost_claim_migrate_data() to add the claimed resources information\ninto migrate_data.\n\n* post_claim_migrate_data() adds dst_numa_info to migrate_data, which\nthe source uses to update the instance XML.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim.\n\n* is_trackable_migration() is removed from the resource tracker, as\nwe're now doing a claim for all types of migrations, including live\nmigrations. The caveat here is that we're only doing a claim for NUMA\nlive migration, so live migrations without NUMA will not have a claim\nassociated. However, their resources are tracked in placement, so this\nis considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 67, 'created': '2019-09-03 02:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02036600d0ab66520b1ea48c62d8685384cc4c27', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* check_can_live_migrate_destination() in the compute manager receives\nnew parameters:\n - the migration object created by the superconductor\n - the limits objects from the scheduler Selection object, passed\n   through the superconductor\n\n* If a migration object is passed to\ncheck_can_live_migrate_destination(), the latter sets a\nnuma_live_migration sentinel to True, and passes it to\ncheck_can_live_migrate_source().\n\n* If the instance has a NUMA topology, the libvirt driver's\ncheck_can_live_migrate_source() adds src_supports_numa_live_migration\nto migrate_data, indicating that it can perform a NUMA live migration.\nThe compute manager's check_can_live_migrate_source() will *remove*\nsrc_supports_numa_live_migration from migrate_data unless a True\nnuma_live_migration sentinel was received.\n\n* The first 3 bullet points are done to make sure that a NUMA live\nmigration is initiated if and only if the conductor, both computes,\nand the RPC version support it.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If migrate_data contains\nsrc_supports_numa_live_migration, _live_migration_claim() creates a\nclaim for the live migration and calls the driver's\npost_claim_migrate_data() to add the claimed resources information\ninto migrate_data.\n\n* post_claim_migrate_data() adds dst_numa_info to migrate_data, which\nthe source uses to update the instance XML.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim.\n\n* is_trackable_migration() is removed from the resource tracker, as\nwe're now doing a claim for all types of migrations, including live\nmigrations. The caveat here is that we're only doing a claim for NUMA\nlive migration, so live migrations without NUMA will not have a claim\nassociated. However, their resources are tracked in placement, so this\nis considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 68, 'created': '2019-09-03 14:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/529842b928d5569dd70845fbacc90c4f67866d5d', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* check_can_live_migrate_destination() in the compute manager receives\nnew parameters:\n - the migration object created by the superconductor\n - the limits objects from the scheduler Selection object, passed\n   through the superconductor\n\n* If a migration object is passed to\ncheck_can_live_migrate_destination(), the latter sets a\nnuma_live_migration sentinel to True, and passes it to\ncheck_can_live_migrate_source().\n\n* If the instance has a NUMA topology, the libvirt driver's\ncheck_can_live_migrate_source() adds src_supports_numa_live_migration\nto migrate_data, indicating that it can perform a NUMA live migration.\nThe compute manager's check_can_live_migrate_source() will *remove*\nsrc_supports_numa_live_migration from migrate_data unless a True\nnuma_live_migration sentinel was received.\n\n* The first 3 bullet points are done to make sure that a NUMA live\nmigration is initiated if and only if the conductor, both computes,\nand the RPC version support it.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If migrate_data contains\nsrc_supports_numa_live_migration, _live_migration_claim() creates a\nclaim for the live migration and calls the driver's\npost_claim_migrate_data() to add the claimed resources information\ninto migrate_data.\n\n* post_claim_migrate_data() adds dst_numa_info to migrate_data, which\nthe source uses to update the instance XML.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim.\n\n* is_trackable_migration() is removed from the resource tracker, as\nwe're now doing a claim for all types of migrations, including live\nmigrations. The caveat here is that we're only doing a claim for NUMA\nlive migration, so live migrations without NUMA will not have a claim\nassociated. However, their resources are tracked in placement, so this\nis considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 69, 'created': '2019-09-03 15:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6660514ab1b98e2b5bac1b3e336ff0367e6e697c', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* check_can_live_migrate_destination() in the compute manager receives\nnew parameters:\n - the migration object created by the superconductor\n - the limits objects from the scheduler Selection object, passed\n   through the superconductor\n\n* If a migration object is passed to\ncheck_can_live_migrate_destination(), the latter sets a\nnuma_live_migration sentinel to True, and passes it to\ncheck_can_live_migrate_source().\n\n* If the instance has a NUMA topology, the libvirt driver's\ncheck_can_live_migrate_source() adds src_supports_numa_live_migration\nto migrate_data, indicating that it can perform a NUMA live migration.\nThe compute manager's check_can_live_migrate_source() will *remove*\nsrc_supports_numa_live_migration from migrate_data unless a True\nnuma_live_migration sentinel was received.\n\n* The first 3 bullet points are done to make sure that a NUMA live\nmigration is initiated if and only if the conductor, both computes,\nand the RPC version support it.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If migrate_data contains\nsrc_supports_numa_live_migration, _live_migration_claim() creates a\nclaim for the live migration and calls the driver's\npost_claim_migrate_data() to add the claimed resources information\ninto migrate_data.\n\n* post_claim_migrate_data() adds dst_numa_info to migrate_data, which\nthe source uses to update the instance XML.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim.\n\n* is_trackable_migration() is removed from the resource tracker, as\nwe're now doing a claim for all types of migrations, including live\nmigrations. The caveat here is that we're only doing a claim for NUMA\nlive migration, so live migrations without NUMA will not have a claim\nassociated. However, their resources are tracked in placement, so this\nis considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 70, 'created': '2019-09-03 17:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/881f423a099e740daac2d3bb19394f87876d823a', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* check_can_live_migrate_destination() in the compute manager receives\nnew parameters:\n - the migration object created by the superconductor\n - the limits objects from the scheduler Selection object, passed\n   through the superconductor\n\n* If a migration object is passed to\ncheck_can_live_migrate_destination(), the latter sets a\nnuma_live_migration sentinel to True, and passes it to\ncheck_can_live_migrate_source().\n\n* If the instance has a NUMA topology, the libvirt driver's\ncheck_can_live_migrate_source() adds src_supports_numa_live_migration\nto migrate_data, indicating that it can perform a NUMA live migration.\nThe compute manager's check_can_live_migrate_source() will *remove*\nsrc_supports_numa_live_migration from migrate_data unless a True\nnuma_live_migration sentinel was received.\n\n* The first 3 bullet points are done to make sure that a NUMA live\nmigration is initiated if and only if the conductor, both computes,\nand the RPC version support it.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If migrate_data contains\nsrc_supports_numa_live_migration, _live_migration_claim() creates a\nclaim for the live migration and calls the driver's\npost_claim_migrate_data() to add the claimed resources information\ninto migrate_data.\n\n* post_claim_migrate_data() adds dst_numa_info to migrate_data, which\nthe source uses to update the instance XML.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim.\n\n* is_trackable_migration() is removed from the resource tracker, as\nwe're now doing a claim for all types of migrations, including live\nmigrations. The caveat here is that we're only doing a claim for NUMA\nlive migration, so live migrations without NUMA will not have a claim\nassociated. However, their resources are tracked in placement, so this\nis considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 71, 'created': '2019-09-03 20:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a3cd2bff8c6202120d9462afb778117f4424a43d', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* The compute rpcapi gets a new method,\nsupports_numa_live_migration(), used to decide whether a host can\n*send* RPC 5.3 in order to correctly handle a NUMA live migration.\n\n* check_can_live_migrate_destination() in the compute manager receives\nnew parameters:\n - the migration object created by the superconductor\n - the limits objects from the scheduler Selection object, passed\n   through the superconductor\n\n* If a migration object is passed to\ncheck_can_live_migrate_destination(), the latter sets a\nnuma_live_migration sentinel to True, and passes it to\ncheck_can_live_migrate_source().\n\n* If the instance has a NUMA topology, the libvirt driver's\ncheck_can_live_migrate_source() adds src_supports_numa_live_migration\nto migrate_data, indicating that it can perform a NUMA live migration.\nThe compute manager's check_can_live_migrate_source() will *remove*\nsrc_supports_numa_live_migration from migrate_data unless a True\nnuma_live_migration sentinel was received. The sentinel will also be\nremoved if supports_numa_live_migration() returns False.\n\n* The previous bullet points make sure that a NUMA live migration is\ninitiated if and only if the conductor, both computes, and the RPC\nversion support it.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If migrate_data contains\nsrc_supports_numa_live_migration, _live_migration_claim() creates a\nclaim for the live migration and calls the driver's\npost_claim_migrate_data() to add the claimed resources information\ninto migrate_data.\n\n* post_claim_migrate_data() adds dst_numa_info to migrate_data, which\nthe source uses to update the instance XML.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim.\n\n* is_trackable_migration() is removed from the resource tracker, as\nwe're now doing a claim for all types of migrations, including live\nmigrations. The caveat here is that we're only doing a claim for NUMA\nlive migration, so live migrations without NUMA will not have a claim\nassociated. However, their resources are tracked in placement, so this\nis considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 72, 'created': '2019-09-04 00:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10374d2678245c1042c6c3085a6ff07429ed34f4', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* The compute rpcapi gets a new method,\nsupports_numa_live_migration(), used to decide whether a host can\n*send* RPC 5.3 in order to correctly handle a NUMA live migration.\n\n* check_can_live_migrate_destination() in the compute manager receives\nnew parameters:\n - the migration object created by the superconductor\n - the limits objects from the scheduler Selection object, passed\n   through the superconductor\n\n* If a migration object is passed to\ncheck_can_live_migrate_destination(), the latter sets a\nnuma_live_migration sentinel to True, and passes it to\ncheck_can_live_migrate_source().\n\n* If the instance has a NUMA topology, the libvirt driver's\ncheck_can_live_migrate_source() adds src_supports_numa_live_migration\nto migrate_data, indicating that it can perform a NUMA live migration.\nThe compute manager's check_can_live_migrate_source() will *remove*\nsrc_supports_numa_live_migration from migrate_data unless a True\nnuma_live_migration sentinel was received. The sentinel will also be\nremoved if supports_numa_live_migration() returns False.\n\n* The previous bullet points make sure that a NUMA live migration is\ninitiated if and only if the conductor, both computes, and the RPC\nversion support it.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If migrate_data contains\nsrc_supports_numa_live_migration, _live_migration_claim() creates a\nclaim for the live migration and calls the driver's\npost_claim_migrate_data() to add the claimed resources information\ninto migrate_data.\n\n* post_claim_migrate_data() adds dst_numa_info to migrate_data, which\nthe source uses to update the instance XML.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim.\n\n* is_trackable_migration() is removed from the resource tracker, as\nwe're now doing a claim for all types of migrations, including live\nmigrations. The caveat here is that we're only doing a claim for NUMA\nlive migration, so live migrations without NUMA will not have a claim\nassociated. However, their resources are tracked in placement, so this\nis considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 73, 'created': '2019-09-04 02:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9dce922cf0c0087e390360c23de37e1fe6ab20eb', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* The compute rpcapi gets a new method,\nsupports_numa_live_migration(), used to decide whether a host can\n*send* RPC 5.3 in order to correctly handle a NUMA live migration.\n\n* check_can_live_migrate_destination() in the compute manager receives\nnew parameters:\n - the migration object created by the superconductor\n - the limits objects from the scheduler Selection object, passed\n   through the superconductor\n\n* If a migration object is passed to\ncheck_can_live_migrate_destination(), the latter sets a\nnuma_live_migration sentinel to True, and passes it to\ncheck_can_live_migrate_source().\n\n* If the instance has a NUMA topology, the libvirt driver's\ncheck_can_live_migrate_source() adds src_supports_numa_live_migration\nto migrate_data, indicating that it can perform a NUMA live migration.\nThe compute manager's check_can_live_migrate_source() will *remove*\nsrc_supports_numa_live_migration from migrate_data unless a True\nnuma_live_migration sentinel was received. The sentinel will also be\nremoved if supports_numa_live_migration() returns False.\n\n* The previous bullet points make sure that a NUMA live migration is\ninitiated if and only if the conductor, both computes, and the RPC\nversion support it.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If migrate_data contains\nsrc_supports_numa_live_migration, _live_migration_claim() creates a\nclaim for the live migration and calls the driver's\npost_claim_migrate_data() to add the claimed resources information\ninto migrate_data.\n\n* post_claim_migrate_data() adds dst_numa_info to migrate_data, which\nthe source uses to update the instance XML.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim.\n\n* is_trackable_migration() is removed from the resource tracker, as\nwe're now doing a claim for all types of migrations, including live\nmigrations. The caveat here is that we're only doing a claim for NUMA\nlive migration, so live migrations without NUMA will not have a claim\nassociated. However, their resources are tracked in placement, so this\nis considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 74, 'created': '2019-09-04 19:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f91c0242860d4f2c0bca6686d15e45ee70641f51', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* The compute rpcapi gets a new method,\nsupports_numa_live_migration(), used to decide whether a host can\n*send* RPC 5.3 in order to correctly handle a NUMA live migration.\n\n* check_can_live_migrate_destination() in the compute manager receives\nnew parameters:\n - the migration object created by the superconductor\n - the limits objects from the scheduler Selection object, passed\n   through the superconductor\n\n* If a migration object is passed to\ncheck_can_live_migrate_destination(), the latter sets a\nnuma_live_migration sentinel to True, and passes it to\ncheck_can_live_migrate_source().\n\n* If the instance has a NUMA topology, the libvirt driver's\ncheck_can_live_migrate_source() adds src_supports_numa_live_migration\nto migrate_data, indicating that it can perform a NUMA live migration.\nThe compute manager's check_can_live_migrate_source() will *remove*\nsrc_supports_numa_live_migration from migrate_data unless a True\nnuma_live_migration sentinel was received. The sentinel will also be\nremoved if supports_numa_live_migration() returns False.\n\n* The previous bullet points make sure that a NUMA live migration is\ninitiated if and only if the conductor, both computes, and the RPC\nversion support it.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If migrate_data contains\nsrc_supports_numa_live_migration, _live_migration_claim() creates a\nclaim for the live migration and calls the driver's\npost_claim_migrate_data() to add the claimed resources information\ninto migrate_data.\n\n* post_claim_migrate_data() adds dst_numa_info to migrate_data, which\nthe source uses to update the instance XML.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim.\n\n* is_trackable_migration() is removed from the resource tracker, as\nwe're now doing a claim for all types of migrations, including live\nmigrations. The caveat here is that we're only doing a claim for NUMA\nlive migration, so live migrations without NUMA will not have a claim\nassociated. However, their resources are tracked in placement, so this\nis considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 75, 'created': '2019-09-05 00:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ab751ebf78cad707db59d9c7ccbc54f3416533c', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* The compute rpcapi gets a new method,\nsupports_numa_live_migration(), used to decide whether a host can\n*send* RPC 5.3 in order to correctly handle a NUMA live migration.\n\n* check_can_live_migrate_destination() in the compute manager receives\nnew parameters:\n - the migration object created by the superconductor\n - the limits objects from the scheduler Selection object, passed\n   through the superconductor\n\n* If a migration object is passed to\ncheck_can_live_migrate_destination(), the latter sets a\nnuma_live_migration sentinel to True, and passes it to\ncheck_can_live_migrate_source().\n\n* If the instance has a NUMA topology, the libvirt driver's\ncheck_can_live_migrate_source() adds src_supports_numa_live_migration\nto migrate_data, indicating that it can perform a NUMA live migration.\nThe compute manager's check_can_live_migrate_source() will *remove*\nsrc_supports_numa_live_migration from migrate_data unless a True\nnuma_live_migration sentinel was received. The sentinel will also be\nremoved if supports_numa_live_migration() returns False.\n\n* The previous bullet points make sure that a NUMA live migration is\ninitiated if and only if the conductor, both computes, and the RPC\nversion support it.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If migrate_data contains\nsrc_supports_numa_live_migration, _live_migration_claim() creates a\nclaim for the live migration and calls the driver's\npost_claim_migrate_data() to add the claimed resources information\ninto migrate_data.\n\n* post_claim_migrate_data() adds dst_numa_info to migrate_data, which\nthe source uses to update the instance XML.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim.\n\n* is_trackable_migration() is removed from the resource tracker, as\nwe're now doing a claim for all types of migrations, including live\nmigrations. The caveat here is that we're only doing a claim for NUMA\nlive migration, so live migrations without NUMA will not have a claim\nassociated. However, their resources are tracked in placement, so this\nis considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 76, 'created': '2019-09-07 00:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e9e63928f4e33c7c95f623b3ca1419e27358afb', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* The compute rpcapi gets a new method,\nsupports_numa_live_migration(), used to decide whether a host can\n*send* RPC 5.3 in order to correctly handle a NUMA live migration.\n\n* check_can_live_migrate_destination() in the compute manager receives\nnew parameters:\n - The migration object created by the superconductor.\n - The limits objects from the scheduler Selection object, passed\n   through the superconductor.\n\n* If a migration object is passed to\ncheck_can_live_migrate_destination() and the virt driver (currently on\nlibvirt) supports it, the destination sets\ndst_supports_numa_live_migration in the migrate data.\n\n* If the source virt driver (again, currently only libvirt) supports\nit, and if the source compute manager can send RPC 5.3, and if the\ndst_supports_numa_live_migration flag is present in the migrate data,\ncheck_can_live_migrate_source() sets src_supports_numa_live_migration\nin the migrate_data.\n\n* The previous bullet points make sure that a NUMA live migration is\ninitiated if and only if:\n - Both source and dest virt drivers support it.\n - The conductor and the source can send RPC 5.3.\n - The destination can receive RPC 5.3.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If migrate_data contains\nsrc_supports_numa_live_migration, _live_migration_claim() creates a\nclaim for the live migration and calls the driver's\npost_claim_migrate_data() to add the claimed resources information\ninto migrate_data.\n\n* post_claim_migrate_data() adds dst_numa_info to migrate_data, which\nthe source uses to update the instance XML.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim. This\nis done as an entirely new separate RPC method because\nrollback_live_migration_at_destination() is called conditionally and\ndeals with cleaning up storage.\n\n* is_trackable_migration() is removed from the resource tracker, as\nwe're now doing a claim for all types of migrations, including live\nmigrations. The caveat here is that we're only doing a claim for NUMA\nlive migration, so live migrations without NUMA will not have a claim\nassociated. However, their resources are tracked in placement, so this\nis considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 77, 'created': '2019-09-07 13:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/38ac56bf6a5d1c83a2586228a7101631c462e2db', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* The compute rpcapi gets a new method,\nsupports_numa_live_migration(), used to decide whether a host can\n*send* RPC 5.3 in order to correctly handle a NUMA live migration.\n\n* check_can_live_migrate_destination() in the compute manager receives\nnew parameters:\n - The migration object created by the superconductor.\n - The limits objects from the scheduler Selection object, passed\n   through the superconductor.\n\n* If a migration object is passed to\ncheck_can_live_migrate_destination() and the virt driver (currently on\nlibvirt) supports it, the destination sets\ndst_supports_numa_live_migration in the migrate data.\n\n* If the source virt driver (again, currently only libvirt) supports\nit, and if the source compute manager can send RPC 5.3, and if the\ndst_supports_numa_live_migration flag is present in the migrate data,\ncheck_can_live_migrate_source() sets src_supports_numa_live_migration\nin the migrate_data.\n\n* The previous bullet points make sure that a NUMA live migration is\ninitiated if and only if:\n - Both source and dest virt drivers support it.\n - The conductor and the source can send RPC 5.3.\n - The destination can receive RPC 5.3.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If migrate_data contains\nsrc_supports_numa_live_migration, _live_migration_claim() creates a\nclaim for the live migration and calls the driver's\npost_claim_migrate_data() to add the claimed resources information\ninto migrate_data.\n\n* post_claim_migrate_data() adds dst_numa_info to migrate_data, which\nthe source uses to update the instance XML.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim. This\nis done as an entirely new separate RPC method because\nrollback_live_migration_at_destination() is called conditionally and\ndeals with cleaning up storage.\n\n* is_trackable_migration() is removed from the resource tracker, as\nwe're now doing a claim for all types of migrations, including live\nmigrations. The caveat here is that we're only doing a claim for NUMA\nlive migration, so live migrations without NUMA will not have a claim\nassociated. However, their resources are tracked in placement, so this\nis considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 78, 'created': '2019-09-08 00:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebc84911c7f57fde046066a9d4f92e2073e01238', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* The compute rpcapi gets a new method,\nsupports_numa_live_migration(), used to decide whether a host can\n*send* RPC 5.3 in order to correctly handle a NUMA live migration.\n\n* check_can_live_migrate_destination() in the compute manager receives\nnew parameters:\n - The migration object created by the superconductor.\n - The limits objects from the scheduler Selection object, passed\n   through the superconductor.\n\n* If a migration object is passed to\ncheck_can_live_migrate_destination() and the virt driver (currently on\nlibvirt) supports it, the destination sets\ndst_supports_numa_live_migration in the migrate data.\n\n* If the source virt driver (again, currently only libvirt) supports\nit, and if the source compute manager can send RPC 5.3, and if the\ndst_supports_numa_live_migration flag is present in the migrate data,\ncheck_can_live_migrate_source() sets src_supports_numa_live_migration\nin the migrate_data.\n\n* The previous bullet points make sure that a NUMA live migration is\ninitiated if and only if:\n - Both source and dest virt drivers support it.\n - The conductor and the source can send RPC 5.3.\n - The destination can receive RPC 5.3.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If migrate_data contains\nsrc_supports_numa_live_migration, _live_migration_claim() creates a\nclaim for the live migration and calls the driver's\npost_claim_migrate_data() to add the claimed resources information\ninto migrate_data.\n\n* post_claim_migrate_data() adds dst_numa_info to migrate_data, which\nthe source uses to update the instance XML.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim. This\nis done as an entirely new separate RPC method because\nrollback_live_migration_at_destination() is called conditionally and\ndeals with cleaning up storage.\n\n* is_trackable_migration() is removed from the resource tracker, as\nwe're now doing a claim for all types of migrations, including live\nmigrations. The caveat here is that we're only doing a claim for NUMA\nlive migration, so live migrations without NUMA will not have a claim\nassociated. However, their resources are tracked in placement, so this\nis considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 79, 'created': '2019-09-08 13:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/326ac9f792877766be49caefe2404c2f7dc3aa69', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* The compute rpcapi gets a new method,\nsupports_numa_live_migration(), used to decide whether a host can\n*send* RPC 5.3 in order to correctly handle a NUMA live migration.\n\n* check_can_live_migrate_destination() in the compute manager receives\nnew parameters:\n - The migration object created by the superconductor.\n - The limits objects from the scheduler Selection object, passed\n   through the superconductor.\n\n* If a migration object is passed to\ncheck_can_live_migrate_destination() and the virt driver (currently on\nlibvirt) supports it, the destination sets\ndst_supports_numa_live_migration in the migrate data.\n\n* If the source virt driver (again, currently only libvirt) supports\nit, and if the source compute manager can send RPC 5.3, and if the\ndst_supports_numa_live_migration flag is present in the migrate data,\ncheck_can_live_migrate_source() sets src_supports_numa_live_migration\nin the migrate_data.\n\n* The previous bullet points make sure that a NUMA live migration is\ninitiated if and only if:\n - Both source and dest virt drivers support it.\n - The conductor and the source can send RPC 5.3.\n - The destination can receive RPC 5.3.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If migrate_data contains\nsrc_supports_numa_live_migration, _live_migration_claim() creates a\nclaim for the live migration and calls the driver's\npost_claim_migrate_data() to add the claimed resources information\ninto migrate_data.\n\n* post_claim_migrate_data() adds dst_numa_info to migrate_data, which\nthe source uses to update the instance XML.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim. This\nis done as an entirely new separate RPC method because\nrollback_live_migration_at_destination() is called conditionally and\ndeals with cleaning up storage.\n\n* is_trackable_migration() is removed from the resource tracker, as\nwe're now doing a claim for all types of migrations, including live\nmigrations. The caveat here is that we're only doing a claim for NUMA\nlive migration, so live migrations without NUMA will not have a claim\nassociated. However, their resources are tracked in placement, so this\nis considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 80, 'created': '2019-09-08 14:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/652c09f888b68071fd9c1d4b9370c00029dd13d1', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* The compute rpcapi gets a new method,\nsupports_numa_live_migration(), used to decide whether a host can\n*send* RPC 5.3 in order to correctly handle a NUMA live migration.\n\n* check_can_live_migrate_destination() in the compute manager receives\nnew parameters:\n - The migration object created by the superconductor.\n - The limits objects from the scheduler Selection object, passed\n   through the superconductor.\n\n* If a migration object is passed to\ncheck_can_live_migrate_destination() and the virt driver (currently on\nlibvirt) supports it, the destination sets\ndst_supports_numa_live_migration in the migrate data.\n\n* If the source virt driver (again, currently only libvirt) supports\nit, and if the source compute manager can send RPC 5.3, and if the\ndst_supports_numa_live_migration flag is present in the migrate data,\ncheck_can_live_migrate_source() sets src_supports_numa_live_migration\nin the migrate_data.\n\n* The previous bullet points make sure that a NUMA live migration is\ninitiated if and only if:\n - Both source and dest virt drivers support it.\n - The conductor and the source can send RPC 5.3.\n - The destination can receive RPC 5.3.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If migrate_data contains\nsrc_supports_numa_live_migration, _live_migration_claim() creates a\nclaim for the live migration and calls the driver's\npost_claim_migrate_data() to add the claimed resources information\ninto migrate_data.\n\n* post_claim_migrate_data() adds dst_numa_info to migrate_data, which\nthe source uses to update the instance XML.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim. This\nis done as an entirely new separate RPC method because\nrollback_live_migration_at_destination() is called conditionally and\ndeals with cleaning up storage.\n\n* is_trackable_migration() is removed from the resource tracker, as\nwe're now doing a claim for all types of migrations, including live\nmigrations. The caveat here is that we're only doing a claim for NUMA\nlive migration, so live migrations without NUMA will not have a claim\nassociated. However, their resources are tracked in placement, so this\nis considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 81, 'created': '2019-09-10 03:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9acc558d9f67758886463b2126ab85b0cf21e10b', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* The compute rpcapi gets a new method,\nsupports_numa_live_migration(), used to decide whether a host can\n*send* RPC 5.3 in order to correctly handle a NUMA live migration.\n\n* check_can_live_migrate_destination() in the compute manager receives\nnew parameters:\n - The migration object created by the superconductor.\n - The limits objects from the scheduler Selection object, passed\n   through the superconductor.\n\n* If a migration object is passed to\ncheck_can_live_migrate_destination() and the virt driver (currently on\nlibvirt) supports it, the destination sets\ndst_supports_numa_live_migration in the migrate data.\n\n* If the source virt driver (again, currently only libvirt) supports\nit, and if the source compute manager can send RPC 5.3, and if the\ndst_supports_numa_live_migration flag is present in the migrate data,\ncheck_can_live_migrate_source() sets src_supports_numa_live_migration\nin the migrate_data.\n\n* The previous bullet points make sure that a NUMA live migration is\ninitiated if and only if:\n - Both source and dest virt drivers support it.\n - The conductor and the source can send RPC 5.3.\n - The destination can receive RPC 5.3.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If migrate_data contains\nsrc_supports_numa_live_migration, _live_migration_claim() creates a\nclaim for the live migration and calls the driver's\npost_claim_migrate_data() to add the claimed resources information\ninto migrate_data.\n\n* post_claim_migrate_data() adds dst_numa_info to migrate_data, which\nthe source uses to update the instance XML.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim. This\nis done as an entirely new separate RPC method because\nrollback_live_migration_at_destination() is called conditionally and\ndeals with cleaning up storage and networking.\n\n* is_trackable_migration() is removed from the resource tracker, as\nwe're now doing a claim for all types of migrations, including live\nmigrations. The caveat here is that we're only doing a claim for NUMA\nlive migration, so live migrations without NUMA will not have a claim\nassociated. However, their resources are tracked in placement, so this\nis considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 82, 'created': '2019-09-10 03:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79d3f07e308eb59285201ddaafdce834cdaaa8cd', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* The compute rpcapi gets a new method,\nsupports_numa_live_migration(), used to decide whether a host can\n*send* RPC 5.3 in order to correctly handle a NUMA live migration.\n\n* check_can_live_migrate_destination() in the compute manager receives\nnew parameters:\n - The migration object created by the superconductor.\n - The limits objects from the scheduler Selection object, passed\n   through the superconductor.\n\n* If a migration object is passed to\ncheck_can_live_migrate_destination() and the virt driver (currently on\nlibvirt) supports it, the destination sets\ndst_supports_numa_live_migration in the migrate data.\n\n* If the source virt driver (again, currently only libvirt) supports\nit, and if the source compute manager can send RPC 5.3, and if the\ndst_supports_numa_live_migration flag is present in the migrate data,\ncheck_can_live_migrate_source() sets src_supports_numa_live_migration\nin the migrate_data.\n\n* The previous bullet points make sure that a NUMA live migration is\ninitiated if and only if:\n - Both source and dest virt drivers support it.\n - The conductor and the source can send RPC 5.3.\n - The destination can receive RPC 5.3.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If migrate_data contains\nsrc_supports_numa_live_migration, _live_migration_claim() creates a\nclaim for the live migration and calls the driver's\npost_claim_migrate_data() to add the claimed resources information\ninto migrate_data.\n\n* post_claim_migrate_data() adds dst_numa_info to migrate_data, which\nthe source uses to update the instance XML.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim. This\nis done as an entirely new separate RPC method because\nrollback_live_migration_at_destination() is called conditionally and\ndeals with cleaning up storage and networking.\n\n* is_trackable_migration() is removed from the resource tracker, as\nwe're now doing a claim for all types of migrations, including live\nmigrations. The caveat here is that we're only doing a claim for NUMA\nlive migration, so live migrations without NUMA will not have a claim\nassociated. However, their resources are tracked in placement, so this\nis considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 83, 'created': '2019-09-10 15:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/808caebf89061633f6de589df31c8c973069ce73', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* The compute rpcapi gets a new method,\nsupports_numa_live_migration(), used to decide whether a host can\n*send* RPC 5.3 in order to correctly handle a NUMA live migration.\n\n* check_can_live_migrate_destination() in the compute manager receives\nnew parameters:\n - The migration object created by the superconductor.\n - The limits objects from the scheduler Selection object, passed\n   through the superconductor.\n\n* If a migration object is passed to\ncheck_can_live_migrate_destination() and the virt driver (currently on\nlibvirt) supports it, the destination sets\ndst_supports_numa_live_migration in the migrate data.\n\n* If the source virt driver (again, currently only libvirt) supports\nit, and if the source compute manager can send RPC 5.3, and if the\ndst_supports_numa_live_migration flag is present in the migrate data,\ncheck_can_live_migrate_source() sets src_supports_numa_live_migration\nin the migrate_data.\n\n* The previous bullet points make sure that a NUMA live migration is\ninitiated if and only if:\n - Both source and dest virt drivers support it.\n - The conductor and the source can send RPC 5.3.\n - The destination can receive RPC 5.3.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If migrate_data contains\nsrc_supports_numa_live_migration, _live_migration_claim() creates a\nclaim for the live migration and calls the driver's\npost_claim_migrate_data() to add the claimed resources information\ninto migrate_data.\n\n* post_claim_migrate_data() adds dst_numa_info to migrate_data, which\nthe source uses to update the instance XML.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim. This\nis done as an entirely new separate RPC method because\nrollback_live_migration_at_destination() is called conditionally and\ndeals with cleaning up storage and networking.\n\n* is_trackable_migration() is removed from the resource tracker, as\nwe're now doing a claim for all types of migrations, including live\nmigrations. The caveat here is that we're only doing a claim for NUMA\nlive migration, so live migrations without NUMA will not have a claim\nassociated. However, their resources are tracked in placement, so this\nis considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 84, 'created': '2019-09-11 01:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bb29abff94456ebf7484e94fb685c027a75884bf', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* The compute rpcapi gets a new method,\nsupports_numa_live_migration(), used to decide whether a host can\n*send* RPC 5.3 in order to correctly handle a NUMA live migration.\n\n* check_can_live_migrate_destination() in the compute manager receives\nnew parameters:\n - The migration object created by the superconductor.\n - The limits objects from the scheduler Selection object, passed\n   through the superconductor.\n\n* If a migration object is passed to\ncheck_can_live_migrate_destination() and the virt driver (currently on\nlibvirt) supports it, the destination sets\ndst_supports_numa_live_migration in the migrate data.\n\n* If the source virt driver (again, currently only libvirt) supports\nit, and if the source compute manager can send RPC 5.3, and if the\ndst_supports_numa_live_migration flag is present in the migrate data,\ncheck_can_live_migrate_source() sets src_supports_numa_live_migration\nin the migrate_data.\n\n* The previous bullet points make sure that a NUMA live migration is\ninitiated if and only if:\n - Both source and dest virt drivers support it.\n - The conductor and the source can send RPC 5.3.\n - The destination can receive RPC 5.3.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If migrate_data contains\nsrc_supports_numa_live_migration, _live_migration_claim() creates a\nclaim for the live migration and calls the driver's\npost_claim_migrate_data() to add the claimed resources information\ninto migrate_data.\n\n* post_claim_migrate_data() adds dst_numa_info to migrate_data, which\nthe source uses to update the instance XML.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim. This\nis done as an entirely new separate RPC method because\nrollback_live_migration_at_destination() is called conditionally and\ndeals with cleaning up storage and networking.\n\n* is_trackable_migration() is removed from the resource tracker, as\nwe're now doing a claim for all types of migrations, including live\nmigrations. The caveat here is that we're only doing a claim for NUMA\nlive migration, so live migrations without NUMA will not have a claim\nassociated. However, their resources are tracked in placement, so this\nis considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 85, 'created': '2019-09-11 16:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50eede9a012a1c63cfefe7f3e8f0d75774d3d551', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* The compute rpcapi gets a new method,\nsupports_numa_live_migration(), used to decide whether a host can\n*send* RPC 5.3 in order to correctly handle a NUMA live migration.\n\n* check_can_live_migrate_destination() in the compute manager receives\nnew parameters:\n - The migration object created by the superconductor.\n - The limits objects from the scheduler Selection object, passed\n   through the superconductor.\n\n* If a migration object is passed to\ncheck_can_live_migrate_destination() and the virt driver (currently on\nlibvirt) supports it, the destination sets\ndst_supports_numa_live_migration in the migrate data.\n\n* If the source virt driver (again, currently only libvirt) supports\nit, and if the source compute manager can send RPC 5.3, and if the\ndst_supports_numa_live_migration flag is present in the migrate data,\ncheck_can_live_migrate_source() sets src_supports_numa_live_migration\nin the migrate_data.\n\n* The previous bullet points make sure that a NUMA live migration is\ninitiated if and only if:\n - Both source and dest virt drivers support it.\n - The conductor and the source can send RPC 5.3.\n - The destination can receive RPC 5.3.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If migrate_data contains\nsrc_supports_numa_live_migration, _live_migration_claim() creates a\nclaim for the live migration and calls the driver's\npost_claim_migrate_data() to add the claimed resources information\ninto migrate_data.\n\n* post_claim_migrate_data() adds dst_numa_info to migrate_data, which\nthe source uses to update the instance XML.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim. This\nis done as an entirely new separate RPC method because\nrollback_live_migration_at_destination() is called conditionally and\ndeals with cleaning up storage and networking.\n\n* is_trackable_migration() is removed from the resource tracker, as\nwe're now doing a claim for all types of migrations, including live\nmigrations. The caveat here is that we're only doing a claim for NUMA\nlive migration, so live migrations without NUMA will not have a claim\nassociated. However, their resources are tracked in placement, so this\nis considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}, {'number': 86, 'created': '2019-09-12 21:36:48.000000000', 'files': ['nova/tests/unit/compute/test_rpcapi.py', 'nova/objects/service.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_compute.py', 'nova/conductor/tasks/live_migrate.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/libvirt/driver.py', 'nova/compute/manager.py', 'nova/compute/rpcapi.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b335d0c157ec80752ffbbb719441b2ece486fe39', 'message': ""NUMA live migration support\n\nTo enble NUMA-aware live migration, this patch has the following\nchanges:\n\n* The compute rpcapi gets a new method,\nsupports_numa_live_migration(), used to decide whether a host can\n*send* RPC 5.3 in order to correctly handle a NUMA live migration.\n\n* check_can_live_migrate_destination() in the compute manager receives\nnew parameters:\n - The migration object created by the superconductor.\n - The limits objects from the scheduler Selection object, passed\n   through the superconductor.\n\n* If a migration object is passed to\ncheck_can_live_migrate_destination() and the virt driver (currently on\nlibvirt) supports it, the destination sets\ndst_supports_numa_live_migration in the migrate data.\n\n* If the source virt driver (again, currently only libvirt) supports\nit, and if the source compute manager can send RPC 5.3, and if the\ndst_supports_numa_live_migration flag is present in the migrate data,\ncheck_can_live_migrate_source() sets src_supports_numa_live_migration\nin the migrate_data.\n\n* The previous bullet points make sure that a NUMA live migration is\ninitiated if and only if:\n - Both source and dest virt drivers support it.\n - The conductor and the source can send RPC 5.3.\n - The destination can receive RPC 5.3.\n\n* compute manager gets a new _live_migration_claim() method, called\nfrom check_can_live_migrate_destination(). If migrate_data contains\nsrc_supports_numa_live_migration, _live_migration_claim() creates a\nclaim for the live migration and calls the driver's\npost_claim_migrate_data() to add the claimed resources information\ninto migrate_data.\n\n* post_claim_migrate_data() adds dst_numa_info to migrate_data, which\nthe source uses to update the instance XML.\n\n* During the live migration, the update_available_resources periodic\ntask no longer ignores instances that are live migrating.\n\n* If the live migration is successful,\npost_live_migration_at_destination() applies the migration context to\nthe instance. Note that resources were already being cleaned up by a\ncall to update_available_resource().\n\n* If the migration fails, _rollback_live_migration() calls a new RPC\nmethod, drop_move_claim_at_destination(), to drop the move claim. This\nis done as an entirely new separate RPC method because\nrollback_live_migration_at_destination() is called conditionally and\ndeals with cleaning up storage and networking.\n\n* is_trackable_migration() is removed from the resource tracker, as\nwe're now doing a claim for all types of migrations, including live\nmigrations. The caveat here is that we're only doing a claim for NUMA\nlive migration, so live migrations without NUMA will not have a claim\nassociated. However, their resources are tracked in placement, so this\nis considered acceptable.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2\n""}]",354,634606,b335d0c157ec80752ffbbb719441b2ece486fe39,703,29,86,8864,,,0,"NUMA live migration support

To enble NUMA-aware live migration, this patch has the following
changes:

* The compute rpcapi gets a new method,
supports_numa_live_migration(), used to decide whether a host can
*send* RPC 5.3 in order to correctly handle a NUMA live migration.

* check_can_live_migrate_destination() in the compute manager receives
new parameters:
 - The migration object created by the superconductor.
 - The limits objects from the scheduler Selection object, passed
   through the superconductor.

* If a migration object is passed to
check_can_live_migrate_destination() and the virt driver (currently on
libvirt) supports it, the destination sets
dst_supports_numa_live_migration in the migrate data.

* If the source virt driver (again, currently only libvirt) supports
it, and if the source compute manager can send RPC 5.3, and if the
dst_supports_numa_live_migration flag is present in the migrate data,
check_can_live_migrate_source() sets src_supports_numa_live_migration
in the migrate_data.

* The previous bullet points make sure that a NUMA live migration is
initiated if and only if:
 - Both source and dest virt drivers support it.
 - The conductor and the source can send RPC 5.3.
 - The destination can receive RPC 5.3.

* compute manager gets a new _live_migration_claim() method, called
from check_can_live_migrate_destination(). If migrate_data contains
src_supports_numa_live_migration, _live_migration_claim() creates a
claim for the live migration and calls the driver's
post_claim_migrate_data() to add the claimed resources information
into migrate_data.

* post_claim_migrate_data() adds dst_numa_info to migrate_data, which
the source uses to update the instance XML.

* During the live migration, the update_available_resources periodic
task no longer ignores instances that are live migrating.

* If the live migration is successful,
post_live_migration_at_destination() applies the migration context to
the instance. Note that resources were already being cleaned up by a
call to update_available_resource().

* If the migration fails, _rollback_live_migration() calls a new RPC
method, drop_move_claim_at_destination(), to drop the move claim. This
is done as an entirely new separate RPC method because
rollback_live_migration_at_destination() is called conditionally and
deals with cleaning up storage and networking.

* is_trackable_migration() is removed from the resource tracker, as
we're now doing a claim for all types of migrations, including live
migrations. The caveat here is that we're only doing a claim for NUMA
live migration, so live migrations without NUMA will not have a claim
associated. However, their resources are tracked in placement, so this
is considered acceptable.

Implements blueprint numa-aware-live-migration
Change-Id: I3c917796cb30d11e7db1e235ac1625d2a743aaa2
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/634606/86 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conductor/manager.py', 'nova/conductor/tasks/live_migrate.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py']",4,940ca26686dfe8a519b104f22a1fd6f87758ae29,bp/numa-aware-live-migration," 'evacuation', 'live-migration') @utils.synchronized(COMPUTE_RESOURCE_SEMAPHORE) def live_migration_claim(self, context, instance, migration) # Flavor and image cannot change during a live migration. instance_type = instance.flavor image_meta = objects.ImageMeta.from_instance(instance) # Live migration is not supported for Ironic nodes. nodename = None return self._move_claim(context, instance, instance_type, nodename, migration, move_type='live-migration', image_meta=image_meta) if migration.type != 'live-migration': migration.status = 'pre-migrating'", 'evacuation') migration.status = 'pre-migrating',34,10
openstack%2Frequirements~master~I53c2bccd2e5a07f984765f60e7e58da7e35ff99c,openstack/requirements,master,I53c2bccd2e5a07f984765f60e7e58da7e35ff99c,update constraint for python-barbicanclient to new release 4.9.0,MERGED,2019-09-13 15:14:10.000000000,2019-09-15 19:16:31.000000000,2019-09-15 19:14:42.000000000,"[{'_account_id': 14288}, {'_account_id': 17499}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-13 15:14:10.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/eaed50f345d2edde39eefe91809f5621e2faf7bd', 'message': 'update constraint for python-barbicanclient to new release 4.9.0\n\nChange-Id: I53c2bccd2e5a07f984765f60e7e58da7e35ff99c\nmeta:version: 4.9.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: yes\nmeta:release:Author: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Commit: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Change-Id: Ia5f913ee0cee4415c4a7fe24d2c60ae146373264\nmeta:release:Code-Review+1: Douglas Mendizábal <dmendiza@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,682085,eaed50f345d2edde39eefe91809f5621e2faf7bd,25,3,1,11131,,,0,"update constraint for python-barbicanclient to new release 4.9.0

Change-Id: I53c2bccd2e5a07f984765f60e7e58da7e35ff99c
meta:version: 4.9.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: no
meta:first: yes
meta:release:Author: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Commit: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Change-Id: Ia5f913ee0cee4415c4a7fe24d2c60ae146373264
meta:release:Code-Review+1: Douglas Mendizábal <dmendiza@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/85/682085/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,eaed50f345d2edde39eefe91809f5621e2faf7bd,new-release,python-barbicanclient===4.9.0,python-barbicanclient===4.8.1,1,1
openstack%2Fkeystone~master~Ic0a654494f96d5dffa0c4d4d96766ab4a2e090b1,openstack/keystone,master,Ic0a654494f96d5dffa0c4d4d96766ab4a2e090b1,Remove obsolete grant policies from policy.v3cloudsample.json,MERGED,2019-06-26 20:58:47.000000000,2019-09-15 19:16:05.000000000,2019-09-15 19:14:38.000000000,"[{'_account_id': 8482}, {'_account_id': 13063}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-06-26 20:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ee2f7692ad8b3a12e12475d395a7529a02bd1f8c', 'message': 'Remove obsolete grant policies from policy.v3cloudsample.json\n\nChange-Id: Ic0a654494f96d5dffa0c4d4d96766ab4a2e090b1\nRelated-Bug: 1806762\n'}, {'number': 2, 'created': '2019-06-27 21:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0ae0d4a5725f0dfa4de3ba3a6af75b6a2d50cfe2', 'message': 'Remove obsolete grant policies from policy.v3cloudsample.json\n\nThis commit also removes an obsolete test case from\ntest_v3_protection.py.\n\nChange-Id: Ic0a654494f96d5dffa0c4d4d96766ab4a2e090b1\nRelated-Bug: 1806762\n'}, {'number': 3, 'created': '2019-07-23 17:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4f5a0fc3d36bbbd54d0fba5e8d09c7bd748b6ea9', 'message': 'Remove obsolete grant policies from policy.v3cloudsample.json\n\nThis commit also removes an obsolete test case from\ntest_v3_protection.py.\n\nChange-Id: Ic0a654494f96d5dffa0c4d4d96766ab4a2e090b1\nRelated-Bug: 1806762\n'}, {'number': 4, 'created': '2019-09-06 23:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/872645064af7ca84db66161f6da2e30f8d4049c8', 'message': 'Remove obsolete grant policies from policy.v3cloudsample.json\n\nThis commit also removes an obsolete test case from\ntest_v3_protection.py.\n\nChange-Id: Ic0a654494f96d5dffa0c4d4d96766ab4a2e090b1\nRelated-Bug: 1806762\n'}, {'number': 5, 'created': '2019-09-10 01:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/242f73df7095783659483a875c315d21685a1854', 'message': 'Remove obsolete grant policies from policy.v3cloudsample.json\n\nThis commit also removes an obsolete test case from\ntest_v3_protection.py.\n\nChange-Id: Ic0a654494f96d5dffa0c4d4d96766ab4a2e090b1\nRelated-Bug: 1806762\n'}, {'number': 6, 'created': '2019-09-10 22:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/fa39b17e309df0571cbfadc8c534d63c11e79287', 'message': 'Remove obsolete grant policies from policy.v3cloudsample.json\n\nThis commit also removes an obsolete test case from\ntest_v3_protection.py.\n\nChange-Id: Ic0a654494f96d5dffa0c4d4d96766ab4a2e090b1\nRelated-Bug: 1806762\n'}, {'number': 7, 'created': '2019-09-11 01:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/dec55975b8d56d1749ddd6316b610e07b2cb28c2', 'message': 'Remove obsolete grant policies from policy.v3cloudsample.json\n\nThis commit also removes an obsolete test case from\ntest_v3_protection.py.\n\nChange-Id: Ic0a654494f96d5dffa0c4d4d96766ab4a2e090b1\nRelated-Bug: 1806762\n'}, {'number': 8, 'created': '2019-09-11 15:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f69c4534d0ae8dbcf4ea9fe0f31add604f1f085b', 'message': 'Remove obsolete grant policies from policy.v3cloudsample.json\n\nThis commit also removes an obsolete test case from\ntest_v3_protection.py.\n\nCo-Authored-By: Colleen Murphy <colleen@gazlene.net>\n\nChange-Id: Ic0a654494f96d5dffa0c4d4d96766ab4a2e090b1\nRelated-Bug: 1806762\n'}, {'number': 9, 'created': '2019-09-13 21:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/52e9314545f92aa2972e8bbeaf247e87e6122e8d', 'message': 'Remove obsolete grant policies from policy.v3cloudsample.json\n\nThis commit also removes an obsolete test case from\ntest_v3_protection.py.\n\nCo-Authored-By: Colleen Murphy <colleen@gazlene.net>\n\nChange-Id: Ic0a654494f96d5dffa0c4d4d96766ab4a2e090b1\nRelated-Bug: 1806762\n'}, {'number': 10, 'created': '2019-09-14 09:39:21.000000000', 'files': ['keystone/tests/unit/test_policy.py', 'keystone/tests/unit/test_v3_protection.py', 'etc/policy.v3cloudsample.json', 'releasenotes/notes/bug-1806762-0b7356ace200a5d3.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/cf22f8004ed1dba9116c383ae287ad5b4af82dc2', 'message': 'Remove obsolete grant policies from policy.v3cloudsample.json\n\nThis commit also removes an obsolete test case from\ntest_v3_protection.py.\n\nCo-Authored-By: Colleen Murphy <colleen@gazlene.net>\n\nChange-Id: Ic0a654494f96d5dffa0c4d4d96766ab4a2e090b1\nRelated-Bug: 1806762\n'}]",0,667731,cf22f8004ed1dba9116c383ae287ad5b4af82dc2,49,6,10,5046,,,0,"Remove obsolete grant policies from policy.v3cloudsample.json

This commit also removes an obsolete test case from
test_v3_protection.py.

Co-Authored-By: Colleen Murphy <colleen@gazlene.net>

Change-Id: Ic0a654494f96d5dffa0c4d4d96766ab4a2e090b1
Related-Bug: 1806762
",git fetch https://review.opendev.org/openstack/keystone refs/changes/31/667731/4 && git format-patch -1 --stdout FETCH_HEAD,['etc/policy.v3cloudsample.json'],1,ee2f7692ad8b3a12e12475d395a7529a02bd1f8c,reorder-policies,," ""identity:check_grant"": ""rule:cloud_admin or rule:domain_admin_for_grants or rule:project_admin_for_grants"", ""identity:list_grants"": ""rule:cloud_admin or rule:domain_admin_for_list_grants or rule:project_admin_for_list_grants"", ""identity:create_grant"": ""rule:cloud_admin or rule:domain_admin_for_grants or rule:project_admin_for_grants"", ""identity:revoke_grant"": ""rule:cloud_admin or rule:domain_admin_for_grants or rule:project_admin_for_grants"", ""domain_admin_for_grants"": ""rule:domain_admin_for_global_role_grants or rule:domain_admin_for_domain_role_grants"", ""domain_admin_for_global_role_grants"": ""rule:admin_required and None:%(target.role.domain_id)s and rule:domain_admin_grant_match"", ""domain_admin_for_domain_role_grants"": ""rule:admin_required and domain_id:%(target.role.domain_id)s and rule:domain_admin_grant_match"", ""domain_admin_grant_match"": ""domain_id:%(domain_id)s or domain_id:%(target.project.domain_id)s"", ""project_admin_for_grants"": ""rule:project_admin_for_global_role_grants or rule:project_admin_for_domain_role_grants"", ""project_admin_for_global_role_grants"": ""rule:admin_required and None:%(target.role.domain_id)s and project_id:%(project_id)s"", ""project_admin_for_domain_role_grants"": ""rule:admin_required and project_domain_id:%(target.role.domain_id)s and project_id:%(project_id)s"", ""domain_admin_for_list_grants"": ""rule:admin_required and rule:domain_admin_grant_match"", ""project_admin_for_list_grants"": ""rule:admin_required and project_id:%(project_id)s"", ",0,14
openstack%2Frequirements~master~I1ad1cb6695a0dffa96e57dd78c153f3d385d231e,openstack/requirements,master,I1ad1cb6695a0dffa96e57dd78c153f3d385d231e,update constraint for python-tackerclient to new release 0.16.0,MERGED,2019-09-13 16:22:26.000000000,2019-09-15 19:15:37.000000000,2019-09-15 19:14:37.000000000,"[{'_account_id': 14288}, {'_account_id': 17499}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-13 16:22:26.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e65d43dc87d12ec309c09d9995d9032e344f466f', 'message': 'update constraint for python-tackerclient to new release 0.16.0\n\nChange-Id: I1ad1cb6695a0dffa96e57dd78c153f3d385d231e\nmeta:version: 0.16.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Commit: dharmendra kushwaha <dharmendra.kushwaha@india.nec.com>\nmeta:release:Co-Authored-By: Dharmendra Kushwaha <dharmendra.kushwaha@india.nec.com>\nmeta:release:Change-Id: I665ad5e2ae9ea274915d4d5a4ca5db50b1fa0ccd\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Andriy Shevchenko <huang.zhiping@99cloud.net>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,682105,e65d43dc87d12ec309c09d9995d9032e344f466f,16,3,1,11131,,,0,"update constraint for python-tackerclient to new release 0.16.0

Change-Id: I1ad1cb6695a0dffa96e57dd78c153f3d385d231e
meta:version: 0.16.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Commit: dharmendra kushwaha <dharmendra.kushwaha@india.nec.com>
meta:release:Co-Authored-By: Dharmendra Kushwaha <dharmendra.kushwaha@india.nec.com>
meta:release:Change-Id: I665ad5e2ae9ea274915d4d5a4ca5db50b1fa0ccd
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Andriy Shevchenko <huang.zhiping@99cloud.net>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/05/682105/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e65d43dc87d12ec309c09d9995d9032e344f466f,new-release,python-tackerclient===0.16.0,python-tackerclient===0.15.0,1,1
openstack%2Frequirements~stable%2Frocky~I9be44d558ba752e334dc9d12169fd7cc695f79d3,openstack/requirements,stable/rocky,I9be44d558ba752e334dc9d12169fd7cc695f79d3,update constraint for instack-undercloud to new release 9.5.1,MERGED,2019-09-12 09:47:41.000000000,2019-09-15 19:14:41.000000000,2019-09-15 19:14:41.000000000,"[{'_account_id': 14288}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-12 09:47:41.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f52789326a46563ee53db70b5a4b0b3177a84448', 'message': 'update constraint for instack-undercloud to new release 9.5.1\n\nChange-Id: I9be44d558ba752e334dc9d12169fd7cc695f79d3\nmeta:version: 9.5.1\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Emilien Macchi <emilien@redhat.com>\nmeta:release:Commit: Emilien Macchi <emilien@redhat.com>\nmeta:release:Change-Id: I20f966b80a5033429d42ac6f62085e3a086c19c3\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,681691,f52789326a46563ee53db70b5a4b0b3177a84448,27,5,1,11131,,,0,"update constraint for instack-undercloud to new release 9.5.1

Change-Id: I9be44d558ba752e334dc9d12169fd7cc695f79d3
meta:version: 9.5.1
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Emilien Macchi <emilien@redhat.com>
meta:release:Commit: Emilien Macchi <emilien@redhat.com>
meta:release:Change-Id: I20f966b80a5033429d42ac6f62085e3a086c19c3
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/91/681691/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f52789326a46563ee53db70b5a4b0b3177a84448,new-release,instack-undercloud===9.5.1,instack-undercloud===9.5.0,1,1
openstack%2Freleases~master~I18c595fe9ae1f3bfb089fd09c455cdda5783e9af,openstack/releases,master,I18c595fe9ae1f3bfb089fd09c455cdda5783e9af,Release karbor 1.4.0,MERGED,2019-09-15 02:10:39.000000000,2019-09-15 19:01:47.000000000,2019-09-15 19:01:47.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-15 02:10:39.000000000', 'files': ['deliverables/train/karbor.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/8b2f26b4dddf233f19a6eebc32d807bd21ecd12f', 'message': 'Release karbor 1.4.0\n\nChange-Id: I18c595fe9ae1f3bfb089fd09c455cdda5783e9af\n'}]",0,682233,8b2f26b4dddf233f19a6eebc32d807bd21ecd12f,6,2,1,21224,,,0,"Release karbor 1.4.0

Change-Id: I18c595fe9ae1f3bfb089fd09c455cdda5783e9af
",git fetch https://review.opendev.org/openstack/releases refs/changes/33/682233/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/karbor.yaml'],1,8b2f26b4dddf233f19a6eebc32d807bd21ecd12f,release-karbor,releases: - projects: - hash: 4108ed826096bc6c74e873aa87fda1a761ec2ee4 repo: openstack/karbor version: 1.4.0,,5,0
openstack%2Ftripleo-ci~master~I8cad35f399c85e35d2841ee427fe3851885173eb,openstack/tripleo-ci,master,I8cad35f399c85e35d2841ee427fe3851885173eb,Added back tempest.html and remove .stestr in logs,MERGED,2019-09-11 09:24:57.000000000,2019-09-15 18:46:25.000000000,2019-09-15 18:46:24.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-09-11 09:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9bd0302f913ef44e5dc7c45e819d40899e27a3f2', 'message': 'Collect tempest.html in logs\n\nhttps://review.opendev.org/#/c/676378/ excluded the tempest.html\nfile in log collection but it is needed for checking the tempest\nfailure in ci logs.\n\nIt addes it back and removes .stestr files from logs collection.\n\nChange-Id: I8cad35f399c85e35d2841ee427fe3851885173eb\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2019-09-11 10:41:06.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0012e984e5ad025448e1f7bf3b1e329a83724655', 'message': 'Added back tempest.html and remove .stestr in logs\n\nhttps://review.opendev.org/#/c/676378/ excluded the tempest.html\nfile in log collection but it is needed for checking the tempest\nfailure in ci logs.\n\nIt addes it back tempest.html and removes .stestr files from\nlogs collection.\n\nChange-Id: I8cad35f399c85e35d2841ee427fe3851885173eb\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",3,681421,0012e984e5ad025448e1f7bf3b1e329a83724655,37,10,2,12393,,,0,"Added back tempest.html and remove .stestr in logs

https://review.opendev.org/#/c/676378/ excluded the tempest.html
file in log collection but it is needed for checking the tempest
failure in ci logs.

It addes it back tempest.html and removes .stestr files from
logs collection.

Change-Id: I8cad35f399c85e35d2841ee427fe3851885173eb
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/21/681421/1 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,9bd0302f913ef44e5dc7c45e819d40899e27a3f2,fix_tempest, - /home/{{ undercloud_user }}/tempest/tempest.xml - /home/{{ undercloud_user }}/tempest/.stestr, - /home/{{ undercloud_user }}/tempest/tempest.*,2,1
openstack%2Foslo.utils~stable%2Frocky~I1f316d6982c0def3296af4835484ad2d81a87fd4,openstack/oslo.utils,stable/rocky,I1f316d6982c0def3296af4835484ad2d81a87fd4,"Support ""qemu-img info"" virtual size in QEMU 4.1 and later",ABANDONED,2019-09-15 14:33:41.000000000,2019-09-15 17:39:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 25089}]","[{'number': 1, 'created': '2019-09-15 14:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/9fe158aa7a6c053b341ee2a543f867ce95f87491', 'message': 'Support ""qemu-img info"" virtual size in QEMU 4.1 and later\n\nQEMU 4.0 and earlier have output like:\n\n    virtual size: 1.5M (1572864 bytes)\n\nQEMU 4.1 and later have output like:\n\n    virtual size: 1.5 MiB (1572864 bytes)\n\nAdjust the regular expression to allow for optional whitespace\nbetween the magnitude and the unit.\n\nChange-Id: I1f316d6982c0def3296af4835484ad2d81a87fd4\nCloses-Bug: 1844050\n'}, {'number': 2, 'created': '2019-09-15 14:34:42.000000000', 'files': ['oslo_utils/imageutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/0d5e01b292e1fb0c8212d00699f7d1d5827eee09', 'message': 'Support ""qemu-img info"" virtual size in QEMU 4.1 and later\n\nQEMU 4.0 and earlier have output like:\n\n    virtual size: 1.5M (1572864 bytes)\n\nQEMU 4.1 and later have output like:\n\n    virtual size: 1.5 MiB (1572864 bytes)\n\nAdjust the regular expression to allow for optional whitespace\nbetween the magnitude and the unit.\n\nChange-Id: I1f316d6982c0def3296af4835484ad2d81a87fd4\nCloses-Bug: 1844050\n'}]",0,682246,0d5e01b292e1fb0c8212d00699f7d1d5827eee09,6,2,2,25089,,,0,"Support ""qemu-img info"" virtual size in QEMU 4.1 and later

QEMU 4.0 and earlier have output like:

    virtual size: 1.5M (1572864 bytes)

QEMU 4.1 and later have output like:

    virtual size: 1.5 MiB (1572864 bytes)

Adjust the regular expression to allow for optional whitespace
between the magnitude and the unit.

Change-Id: I1f316d6982c0def3296af4835484ad2d81a87fd4
Closes-Bug: 1844050
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/46/682246/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_utils/imageutils.py'],1,9fe158aa7a6c053b341ee2a543f867ce95f87491,rocky-ciena," SIZE_RE = re.compile(r""(\d*\.?\d+)(\w+)?\s*(\s*\(\s*(\d+)\s+bytes\s*\))?"","," SIZE_RE = re.compile(r""(\d*\.?\d+)(\w+)?(\s*\(\s*(\d+)\s+bytes\s*\))?"",",1,1
openstack%2Fkeystone~master~Ide136aa70ef4bea56fbd1a11bbdcf12d30d701ac,openstack/keystone,master,Ide136aa70ef4bea56fbd1a11bbdcf12d30d701ac,WIP : Make domain admin policies consistent for grants,ABANDONED,2019-03-27 05:10:51.000000000,2019-09-15 16:58:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-03-27 05:10:51.000000000', 'files': ['keystone/common/policies/grant.py', 'keystone/tests/unit/protection/v3/test_grants.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/12f2853adc1cf8189a9f5e523eb1ae35a5379ce4', 'message': 'WIP : Make domain admin policies consistent for grants\n\nThis commit adjust the create and revoke grant\npolicies to be consistent with other domain admin\npolicy check strings by not using the\nrule:admin_required check string.\n\nSubsequent patches will:\n\n- introduce test coverage for project users and the grants API\n- remove redundant policies from policy.v3cloudsample.json\n\nChange-Id: Ide136aa70ef4bea56fbd1a11bbdcf12d30d701ac\n'}]",0,647999,12f2853adc1cf8189a9f5e523eb1ae35a5379ce4,3,1,1,27621,,,0,"WIP : Make domain admin policies consistent for grants

This commit adjust the create and revoke grant
policies to be consistent with other domain admin
policy check strings by not using the
rule:admin_required check string.

Subsequent patches will:

- introduce test coverage for project users and the grants API
- remove redundant policies from policy.v3cloudsample.json

Change-Id: Ide136aa70ef4bea56fbd1a11bbdcf12d30d701ac
",git fetch https://review.opendev.org/openstack/keystone refs/changes/99/647999/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/policies/grant.py', 'keystone/tests/unit/protection/v3/test_grants.py']",2,12f2853adc1cf8189a9f5e523eb1ae35a5379ce4,645968," class DomainAdminTests(base_classes.TestCaseWithBootstrap, common_auth.AuthTestMixin, _DomainUserTests, _DomainMemberAndReaderTests): def setUp(self): super(DomainAdminTests, self).setUp() self.loadapp() self.useFixture(ksfixtures.Policy(self.config_fixture)) self.config_fixture.config(group='oslo_policy', enforce_scope=True) domain = PROVIDERS.resource_api.create_domain( uuid.uuid4().hex, unit.new_domain_ref() ) self.domain_id = domain['id'] domain_admin = unit.new_user_ref(domain_id=self.domain_id) self.user_id = PROVIDERS.identity_api.create_user(domain_admin)['id'] PROVIDERS.assignment_api.create_grant( self.bootstrapper.admin_role_id, user_id=self.user_id, domain_id=self.domain_id ) auth = self.build_authentication_request( user_id=self.user_id, password=domain_admin['password'], domain_id=self.domain_id, ) # Grab a token using the persona we're testing and prepare headers # for requests we'll be making in the tests. with self.test_client() as c: r = c.post('/v3/auth/tokens', json=auth) self.token_id = r.headers['X-Subject-Token'] self.headers = {'X-Auth-Token': self.token_id} def test_user_can_create_grant_for_user_on_project(self): pass def test_user_can_create_grant_for_user_on_domain(self): pass def test_user_can_create_grant_for_group_on_project(self): pass def test_user_can_create_grant_for_group_on_domain(self): pass def test_user_can_revoke_grant_from_user_on_project(self): pass def test_user_can_revoke_grant_from_user_on_domain(self): pass def test_user_can_revoke_grant_from_group_on_project(self): pass def test_user_can_revoke_grant_from_group_on_domain(self): pass def test_user_cannot_create_grant_for_user_on_another_domain(self): pass def test_user_cannot_create_grant_for_user_on_another_project(self): pass def test_user_cannot_revoke_grant_for_group_on_another_domain(self): pass def test_user_cannot_revoke_grant_for_group_on_another_project(self): pass",,80,4
openstack%2Fcinderlib~master~I0cab01a1c37d03d8ecf791bf62b823565e228177,openstack/cinderlib,master,I0cab01a1c37d03d8ecf791bf62b823565e228177,[Trivial] Use yaml.safe_load() in the test suite.,MERGED,2019-09-11 13:26:36.000000000,2019-09-15 16:21:55.000000000,2019-09-15 16:20:50.000000000,"[{'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-11 13:26:36.000000000', 'files': ['cinderlib/tests/functional/base_tests.py'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/c41ba105b3ca9779d2f19086f1d1d1953f3dbae3', 'message': '[Trivial] Use yaml.safe_load() in the test suite.\n\nThere is no need to instantiate Python objects from the YAML\nconfiguration, so use the simpler interface and also avoid\na warning message.\n\nChange-Id: I0cab01a1c37d03d8ecf791bf62b823565e228177\n'}]",0,681472,c41ba105b3ca9779d2f19086f1d1d1953f3dbae3,8,3,1,12988,,,0,"[Trivial] Use yaml.safe_load() in the test suite.

There is no need to instantiate Python objects from the YAML
configuration, so use the simpler interface and also avoid
a warning message.

Change-Id: I0cab01a1c37d03d8ecf791bf62b823565e228177
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/72/681472/1 && git format-patch -1 --stdout FETCH_HEAD,['cinderlib/tests/functional/base_tests.py'],1,c41ba105b3ca9779d2f19086f1d1d1953f3dbae3,, cls.tests_config = yaml.safe_load(f), cls.tests_config = yaml.load(f),1,1
openstack%2Fneutron~master~I87e1463d2cc1ee855f0cf6631863d89a6bd8ee2e,openstack/neutron,master,I87e1463d2cc1ee855f0cf6631863d89a6bd8ee2e,Remove unused global_refresh_firewall,MERGED,2019-08-28 06:57:33.000000000,2019-09-15 15:56:27.000000000,2019-09-15 15:54:40.000000000,"[{'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-08-28 06:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2ee9b9586da4183f7f1147c62d7ae801044c110e', 'message': 'Remove unused global_refresh_firewall\n\nThis param is set in the functions, but actually no use. It\nwas never set to True. And it reduces the code readability.\nSo better remove it. From the code search [1], only neutron\nand networking-vsphere have such global_refresh_firewall now.\n\n[1] https://github.com/search?q=org%3Aopenstack+global_refresh_firewall&type=Code\n\nChange-Id: I87e1463d2cc1ee855f0cf6631863d89a6bd8ee2e\n'}, {'number': 2, 'created': '2019-08-28 08:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33591bdc33bd92062451fdbf7618afd0bac6977e', 'message': 'Remove unused global_refresh_firewall\n\nThis param is set in the functions, but actually no use. It\nwas never set to True. And it reduces the code readability.\nSo better remove it. From the code search [1], only neutron\nand networking-vsphere have such global_refresh_firewall now.\n\n[1] https://github.com/search?q=org%3Aopenstack+global_refresh_firewall&type=Code\n\nChange-Id: I87e1463d2cc1ee855f0cf6631863d89a6bd8ee2e\n'}, {'number': 3, 'created': '2019-08-28 13:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8e7815e80b9edc89a767ddec31d6131c5ac7f209', 'message': 'Remove unused global_refresh_firewall\n\nThis param is set in the functions, but actually no use. It\nwas never set to True. And it reduces the code readability.\nSo better remove it. From the code search [1], only neutron\nand networking-vsphere have such global_refresh_firewall now.\n\n[1] https://github.com/search?q=org%3Aopenstack+global_refresh_firewall&type=Code\n\nChange-Id: I87e1463d2cc1ee855f0cf6631863d89a6bd8ee2e\n'}, {'number': 4, 'created': '2019-08-28 13:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e78a5d25993c4fad99e86e6c19c24325b941a18d', 'message': 'Remove unused global_refresh_firewall\n\nThis param is set in the functions, but actually no use. It\nwas never set to True. And it reduces the code readability.\nSo better remove it. From the code search [1], only neutron\nand networking-vsphere have such global_refresh_firewall now.\n\n[1] https://github.com/search?q=org%3Aopenstack+global_refresh_firewall&type=Code\n\nChange-Id: I87e1463d2cc1ee855f0cf6631863d89a6bd8ee2e\n'}, {'number': 5, 'created': '2019-08-31 10:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f7945e505142300b39cc926593e32e5a80a81fa5', 'message': 'Remove unused global_refresh_firewall\n\nThis param is set in the functions, but actually no use. It\nwas never set to True. And it reduces the code readability.\nSo better remove it. From the code search [1], only neutron\nand networking-vsphere have such global_refresh_firewall now.\n\n[1] https://github.com/search?q=org%3Aopenstack+global_refresh_firewall&type=Code\n\nChange-Id: I87e1463d2cc1ee855f0cf6631863d89a6bd8ee2e\n'}, {'number': 6, 'created': '2019-09-03 14:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc730c49b6ccb52697fd7d7ce2ec7a80316bdf3e', 'message': 'Remove unused global_refresh_firewall\n\nThis param is set in the functions, but actually no use. It\nwas never set to True. And it reduces the code readability.\nSo better remove it. From the code search [1], only neutron\nand networking-vsphere have such global_refresh_firewall now.\n\n[1] http://codesearch.openstack.org/?q=global_refresh_firewall\n\nChange-Id: I87e1463d2cc1ee855f0cf6631863d89a6bd8ee2e\n'}, {'number': 7, 'created': '2019-09-07 23:27:43.000000000', 'files': ['neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/agent/securitygroups_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/614b95c83759f6476841f405b08806601a3c89a0', 'message': 'Remove unused global_refresh_firewall\n\nThis param is set in the functions, but actually no use. It\nwas never set to True. And it reduces the code readability.\nSo better remove it. From the code search [1], only neutron\nand networking-vsphere have such global_refresh_firewall now.\n\n[1] http://codesearch.openstack.org/?q=global_refresh_firewall\n\nChange-Id: I87e1463d2cc1ee855f0cf6631863d89a6bd8ee2e\n'}]",4,679005,614b95c83759f6476841f405b08806601a3c89a0,74,11,7,9531,,,0,"Remove unused global_refresh_firewall

This param is set in the functions, but actually no use. It
was never set to True. And it reduces the code readability.
So better remove it. From the code search [1], only neutron
and networking-vsphere have such global_refresh_firewall now.

[1] http://codesearch.openstack.org/?q=global_refresh_firewall

Change-Id: I87e1463d2cc1ee855f0cf6631863d89a6bd8ee2e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/679005/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/agent/securitygroups_rpc.py']",2,2ee9b9586da4183f7f1147c62d7ae801044c110e,remove_global_refresh_firewall," return self.devices_to_refilter if self.use_enhanced_rpc and updated_devices: self.firewall.security_group_updated('sg_member', [], updated_devices) # If a device is both in new and updated devices # avoid reprocessing it updated_devices = ((updated_devices | devices_to_refilter) - new_devices) if updated_devices: LOG.debug(""Refreshing firewall for %d devices"", len(updated_devices)) self.refresh_firewall(updated_devices)"," self.global_refresh_firewall = False return self.global_refresh_firewall or self.devices_to_refilter global_refresh_firewall = self.global_refresh_firewall self.global_refresh_firewall = False if global_refresh_firewall: LOG.debug(""Refreshing firewall for all filtered devices"") self.refresh_firewall() else: if self.use_enhanced_rpc and updated_devices: self.firewall.security_group_updated('sg_member', [], updated_devices) # If a device is both in new and updated devices # avoid reprocessing it updated_devices = ((updated_devices | devices_to_refilter) - new_devices) if updated_devices: LOG.debug(""Refreshing firewall for %d devices"", len(updated_devices)) self.refresh_firewall(updated_devices)",12,39
openstack%2Frequirements~master~Ic2bef21425b3f66887038f23483f530fedbba700,openstack/requirements,master,Ic2bef21425b3f66887038f23483f530fedbba700,update constraint for osc-lib to new release 1.14.1,MERGED,2019-09-11 14:34:53.000000000,2019-09-15 14:45:17.000000000,2019-09-15 14:44:10.000000000,"[{'_account_id': 6547}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-11 14:34:53.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c08cbcad9cfaf30284f4a0b4ea69c83ed621714a', 'message': 'update constraint for osc-lib to new release 1.14.1\n\nChange-Id: Ic2bef21425b3f66887038f23483f530fedbba700\nmeta:version: 1.14.1\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Dean Troyer <dtroyer@gmail.com>\nmeta:release:Commit: Dean Troyer <dtroyer@gmail.com>\nmeta:release:Change-Id: I627b938fcb822999f95dfaeaad2589b5456f0a67\nmeta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,681506,c08cbcad9cfaf30284f4a0b4ea69c83ed621714a,20,3,1,11131,,,0,"update constraint for osc-lib to new release 1.14.1

Change-Id: Ic2bef21425b3f66887038f23483f530fedbba700
meta:version: 1.14.1
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Dean Troyer <dtroyer@gmail.com>
meta:release:Commit: Dean Troyer <dtroyer@gmail.com>
meta:release:Change-Id: I627b938fcb822999f95dfaeaad2589b5456f0a67
meta:release:Code-Review+1: Matthew Thode <mthode@mthode.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/06/681506/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c08cbcad9cfaf30284f4a0b4ea69c83ed621714a,new-release,osc-lib===1.14.1,osc-lib===1.14.0,1,1
openstack%2Fcinder~master~I421933847236ae1d327c4701fb9ed11236eb6f87,openstack/cinder,master,I421933847236ae1d327c4701fb9ed11236eb6f87,Denote max microversion for Train,MERGED,2019-09-11 16:16:47.000000000,2019-09-15 14:38:04.000000000,2019-09-12 15:35:14.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30688}]","[{'number': 1, 'created': '2019-09-11 16:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/005d8258f2152932a468bdffbcd6a1c11331073a', 'message': 'Denote max microversion for Train\n\nThis adds a note to the REST API history document to show the highest\nmicroversion in the Train release.\n\nChange-Id: I421933847236ae1d327c4701fb9ed11236eb6f87\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-09-11 16:21:41.000000000', 'files': ['cinder/api/openstack/rest_api_version_history.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/83a4ba4944a6f5766f3e5ddc0fd56136bfdf6da7', 'message': 'Denote max microversion for Train\n\nThis adds a note to the REST API history document to show the highest\nmicroversion in the Train release.\n\nChange-Id: I421933847236ae1d327c4701fb9ed11236eb6f87\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,681528,83a4ba4944a6f5766f3e5ddc0fd56136bfdf6da7,42,29,2,11904,,,0,"Denote max microversion for Train

This adds a note to the REST API history document to show the highest
microversion in the Train release.

Change-Id: I421933847236ae1d327c4701fb9ed11236eb6f87
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/681528/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/api/openstack/rest_api_version_history.rst'],1,005d8258f2152932a468bdffbcd6a1c11331073a,train-max-mv,3.59 (Maximum in Stein and Train),3.59 (Maximum in Stein),1,1
openstack%2Frequirements~master~I7f1e9ff4299226984a7d3ac4b4294a04719c52dd,openstack/requirements,master,I7f1e9ff4299226984a7d3ac4b4294a04719c52dd,update constraint for python-octaviaclient to new release 1.10.0,MERGED,2019-09-13 21:58:00.000000000,2019-09-15 14:26:11.000000000,2019-09-15 14:24:43.000000000,"[{'_account_id': 6547}, {'_account_id': 14288}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-13 21:58:00.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/11eca5958b83370fc3c5e6f5b0a32fea518b6a9a', 'message': 'update constraint for python-octaviaclient to new release 1.10.0\n\nChange-Id: I7f1e9ff4299226984a7d3ac4b4294a04719c52dd\nmeta:version: 1.10.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Commit: Michael Johnson <johnsomor@gmail.com>\nmeta:release:Change-Id: I6f54edb1e61ef4e3f7678b4841fbaff176e8185d\nmeta:release:Code-Review+1: Michael Johnson <johnsomor@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,682178,11eca5958b83370fc3c5e6f5b0a32fea518b6a9a,19,5,1,11131,,,0,"update constraint for python-octaviaclient to new release 1.10.0

Change-Id: I7f1e9ff4299226984a7d3ac4b4294a04719c52dd
meta:version: 1.10.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Commit: Michael Johnson <johnsomor@gmail.com>
meta:release:Change-Id: I6f54edb1e61ef4e3f7678b4841fbaff176e8185d
meta:release:Code-Review+1: Michael Johnson <johnsomor@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/78/682178/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,11eca5958b83370fc3c5e6f5b0a32fea518b6a9a,new-release,python-octaviaclient===1.10.0,python-octaviaclient===1.9.0,1,1
openstack%2Fmanila-ui~master~Ia75423d1efbec65730130eedf169c458b92b0c9f,openstack/manila-ui,master,Ia75423d1efbec65730130eedf169c458b92b0c9f,Add PDF documentation build,MERGED,2019-09-13 20:05:27.000000000,2019-09-15 12:29:45.000000000,2019-09-14 01:48:20.000000000,"[{'_account_id': 6491}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-13 20:05:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/75deffc13f59225fb49c084b1f9af0ec934c4859', 'message': 'Add PDF documentation build\n\nAdd a new tox target to build PDF documentation in accord\nwith the community goal [0] to have PDF docs available.\n\nAlso, only show genindex and search for HTML.  These elements\ndo not make sense within PDF documents.\n\n[0] https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nChange-Id: Ia75423d1efbec65730130eedf169c458b92b0c9f\n'}, {'number': 2, 'created': '2019-09-13 23:38:32.000000000', 'files': ['doc/source/index.rst', 'bindep.txt', 'README.rst', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/d9a01c0dd7f1bdb219c622a14314d9f4ea2b78e6', 'message': 'Add PDF documentation build\n\nAdd a new tox target to build PDF documentation in accord\nwith the community goal [0] to have PDF docs available.\n\nAlso, only show genindex and search for HTML.  These elements\ndo not make sense within PDF documents.\n\n[0] https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nChange-Id: Ia75423d1efbec65730130eedf169c458b92b0c9f\n'}]",4,682149,d9a01c0dd7f1bdb219c622a14314d9f4ea2b78e6,14,4,2,9003,,,0,"Add PDF documentation build

Add a new tox target to build PDF documentation in accord
with the community goal [0] to have PDF docs available.

Also, only show genindex and search for HTML.  These elements
do not make sense within PDF documents.

[0] https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Change-Id: Ia75423d1efbec65730130eedf169c458b92b0c9f
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/49/682149/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'bindep.txt', 'README.rst', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",6,75deffc13f59225fb49c084b1f9af0ec934c4859,build-pdf-docs,[testenv:pdf-docs] usedevelop = True basepython = python3 deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,82,13
openstack%2Fnova~master~I0d57101153d3dc1600b33afe3655a877d490fe13,openstack/nova,master,I0d57101153d3dc1600b33afe3655a877d490fe13,Set user_id/project_id from context when creating a Migration,MERGED,2019-08-30 09:49:23.000000000,2019-09-15 11:52:29.000000000,2019-09-15 06:33:41.000000000,"[{'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-30 09:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d844bc3cfab232cab9ce1f7771030a3a201a7f5', 'message': ""Add operator user_id/project_id to the migrations\n\nAdd ``user_id`` and ``project_id`` to the migrations, to record who\noperators *that* instance. 'resize', 'cold migrate', 'evacuate' and 'live\nmigrate' operations will be generate the migration record of the operator.\n\nPart of blueprint add-user-id-field-to-the-migrations-table\nChange-Id: I0d57101153d3dc1600b33afe3655a877d490fe13\n""}, {'number': 2, 'created': '2019-08-30 10:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d322f5f23f14b12e24e9e19283b22ac04d567557', 'message': ""Add operator user_id/project_id to the migrations\n\nAdd ``user_id`` and ``project_id`` to the migrations, to record who\noperators *that* instance.\nThe operations of 'resize', 'cold migrate', 'evacuate' and 'live migrate'\nwill be generate the migration records for the operator.\n\nPart of blueprint add-user-id-field-to-the-migrations-table\nChange-Id: I0d57101153d3dc1600b33afe3655a877d490fe13\n""}, {'number': 3, 'created': '2019-09-05 14:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5cfbeaf261d2dd868739d95e6c052caa37171503', 'message': ""Add operator user_id/project_id to the migrations\n\nAdd ``user_id`` and ``project_id`` to the migrations, to record who\noperators *that* instance.\nThe operations of 'resize', 'cold migrate', 'evacuate' and 'live migrate'\nwill be generate the migration records for the operator.\n\nPart of blueprint add-user-id-field-to-the-migrations-table\nChange-Id: I0d57101153d3dc1600b33afe3655a877d490fe13\n""}, {'number': 4, 'created': '2019-09-06 11:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/57fb04f21f72f516c1f60ae903d9888c13107d66', 'message': ""Add operator user_id/project_id to the migrations\n\nAdd ``user_id`` and ``project_id`` to the migrations, to record who\noperators *that* instance.\nThe operations of 'resize', 'cold migrate', 'evacuate' and 'live migrate'\nwill be generate the migration records for the operator.\n\nPart of blueprint add-user-id-field-to-the-migrations-table\nChange-Id: I0d57101153d3dc1600b33afe3655a877d490fe13\n""}, {'number': 5, 'created': '2019-09-11 03:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ca7d0130990ae9ebf0b7a842e93af2d5b387be2', 'message': ""Add operator user_id/project_id to the migrations\n\nAdd ``user_id`` and ``project_id`` to the migrations, to record who\noperators *that* instance.\nThe operations of 'resize', 'cold migrate', 'evacuate' and 'live migrate'\nwill be generate the migration records for the operator.\n\nPart of blueprint add-user-id-field-to-the-migrations-table\nChange-Id: I0d57101153d3dc1600b33afe3655a877d490fe13\n""}, {'number': 6, 'created': '2019-09-12 02:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ffae273ee925c091202145fa132ebfa9f6200049', 'message': 'Set user_id/project_id from context when creating a Migration\n\nAdd ``user_id`` and ``project_id`` to the migrations, to record who\ninitiated the migration.\n\nPart of blueprint add-user-id-field-to-the-migrations-table\nChange-Id: I0d57101153d3dc1600b33afe3655a877d490fe13\n'}, {'number': 7, 'created': '2019-09-12 16:53:25.000000000', 'files': ['nova/tests/unit/objects/test_migration.py', 'nova/objects/migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e108269a2b990a5278a5f5e05941e9a98dc5cfd7', 'message': 'Set user_id/project_id from context when creating a Migration\n\nAdd ``user_id`` and ``project_id`` to the migrations, to record who\ninitiated the migration.\n\nPart of blueprint add-user-id-field-to-the-migrations-table\nChange-Id: I0d57101153d3dc1600b33afe3655a877d490fe13\n'}]",23,679413,e108269a2b990a5278a5f5e05941e9a98dc5cfd7,142,17,7,26458,,,0,"Set user_id/project_id from context when creating a Migration

Add ``user_id`` and ``project_id`` to the migrations, to record who
initiated the migration.

Part of blueprint add-user-id-field-to-the-migrations-table
Change-Id: I0d57101153d3dc1600b33afe3655a877d490fe13
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/679413/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_migration.py', 'nova/objects/migration.py']",2,3d844bc3cfab232cab9ce1f7771030a3a201a7f5,bp/add-user-id-field-to-the-migrations-table, # Add the operator info to the migrations. if 'user_id' not in self: self.user_id = self._context._user_id if 'project_id' not in self: self.project_id = self._context._project_id,,15,2
openstack%2Fnova~master~I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3,openstack/nova,master,I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3,object: Introduce Resource and ResourceList objs,MERGED,2019-08-26 03:25:40.000000000,2019-09-15 10:50:04.000000000,2019-09-15 06:33:06.000000000,"[{'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 6547}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23598}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-26 03:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/744805fdb112eee2881a5ad8c5495f8f4be85a59', 'message': 'object: Introduce Resource and ResouceList objs\n\nIntroduce Resource and ResouceList objects, and add new resources\nfield to instance, also old_/new_ resources fields to migration_context,\nResource object can contain a generic resource information.\n\nChange-Id: I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 2, 'created': '2019-08-26 06:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce2009e5c1cc04f9242f67e31fba5880acbdac85', 'message': 'object: Introduce Resource and ResouceList objs\n\nIntroduce Resource and ResouceList objects, and add new resources\nfield to instance, also old_/new_ resources fields to migration_context,\nResource object can contain a generic resource information.\n\nChange-Id: I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 3, 'created': '2019-08-26 12:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58e9a6477883ab1a3d76a376d0c641c6d871c688', 'message': 'object: Introduce Resource and ResouceList objs\n\nIntroduce Resource and ResouceList objects, and add new resources\nfield to instance, also old_/new_ resources fields to migration_context,\nResource object can contain a generic resource information.\n\nChange-Id: I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 4, 'created': '2019-08-27 09:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4759b104e546984c011fa6beb765e741d5ce53d', 'message': 'object: Introduce Resource and ResouceList objs\n\nIntroduce Resource and ResouceList objects, and add new resources\nfield to instance, also old_/new_ resources fields to migration_context,\nResource object can contain a generic resource information.\n\nChange-Id: I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 5, 'created': '2019-08-28 05:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52b98777b69c97a8bb2156fcbbe8eb36a91781d0', 'message': 'object: Introduce Resource and ResouceList objs\n\nIntroduce Resource and ResouceList objects, and add new resources\nfield to instance, also old_/new_ resources fields to migration_context,\nResource object can contain a generic resource information.\n\nChange-Id: I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 6, 'created': '2019-08-30 09:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea9e3a964bfeca5fcc83957a12a770c4d9dd9748', 'message': 'object: Introduce Resource and ResouceList objs\n\nIntroduce Resource and ResouceList objects, and add new resources\nfield to instance, also old_/new_ resources fields to migration_context,\nResource object can contain a generic resource information.\n\nChange-Id: I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 7, 'created': '2019-08-30 10:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb2bdef003f7a94a081da2657970893e40d5263c', 'message': 'object: Introduce Resource and ResouceList objs\n\nIntroduce Resource and ResouceList objects, and add new resources\nfield to instance, also old_/new_ resources fields to migration_context,\nResource object can contain a generic resource information.\n\nChange-Id: I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 8, 'created': '2019-09-02 13:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7f49e70833947f1a230347b7ef849af516bae63', 'message': 'object: Introduce Resource and ResouceList objs\n\nIntroduce Resource and ResouceList objects, and add new resources\nfield to instance, also old_/new_ resources fields to migration_context,\nResource object can contain a generic resource information.\n\nChange-Id: I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 9, 'created': '2019-09-03 06:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2c12be1e2e1cd148b38660b3186472d08379dc3', 'message': 'object: Introduce Resource and ResouceList objs\n\nIntroduce Resource and ResouceList objects, and add new resources\nfield to instance, also old_/new_ resources fields to migration_context,\nResource object can contain a generic resource information.\n\nChange-Id: I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 10, 'created': '2019-09-04 12:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5f633d6bdf6ce373fd18ef90968f56824e7345a', 'message': 'object: Introduce Resource and ResouceList objs\n\nIntroduce Resource and ResouceList objects, and add new resources\nfield to instance, also old_/new_ resources fields to migration_context,\nResource object can contain a generic resource information.\n\nChange-Id: I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 11, 'created': '2019-09-04 14:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/101de0d99e8b45a877691a803b488d2610a95936', 'message': 'object: Introduce Resource and ResouceList objs\n\nIntroduce Resource and ResouceList objects, and add new resources\nfield to instance, also old_/new_ resources fields to migration_context,\nResource object can contain a generic resource information.\n\nChange-Id: I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 12, 'created': '2019-09-04 15:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c7f4597c6c7947a1e505a51e0a68169a863af149', 'message': 'object: Introduce Resource and ResourceList objs\n\nIntroduce Resource and ResourceList objects, and add new resources\nfield to instance, also old_/new_ resources fields to migration_context,\nResource object can contain a generic resource information.\n\nChange-Id: I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 13, 'created': '2019-09-04 15:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad189639d372e5e19309154faa49563b13980de1', 'message': 'object: Introduce Resource and ResourceList objs\n\nIntroduce Resource and ResourceList objects, and add new resources\nfield to instance, also old_/new_ resources fields to migration_context,\nResource object can contain a generic resource information.\n\nChange-Id: I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 14, 'created': '2019-09-05 10:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2dc5e079a28ba57d621e381cc3fbe6e58f04e3e2', 'message': 'object: Introduce Resource and ResourceList objs\n\nIntroduce Resource and ResourceList objects, and add new resources\nfield to instance, also old_/new_ resources fields to migration_context,\nResource object can contain a generic resource information.\n\nChange-Id: I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 15, 'created': '2019-09-05 11:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df1bcc557d0dbd017f8aa0ed25420286e765174a', 'message': 'object: Introduce Resource and ResourceList objs\n\nIntroduce Resource and ResourceList objects, and add new resources\nfield to instance, also old_/new_ resources fields to migration_context,\nResource object can contain a generic resource information.\n\nChange-Id: I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 16, 'created': '2019-09-06 10:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63473963824f213f2876f26e4cf7866232f12857', 'message': 'object: Introduce Resource and ResourceList objs\n\nIntroduce Resource and ResourceList objects, and add new resources\nfield to instance, also old_/new_ resources fields to migration_context,\nResource object can contain a generic resource information.\n\nChange-Id: I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 17, 'created': '2019-09-06 10:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ab14c0b1b2da0c78bdc4755649d75ced22e1231', 'message': 'object: Introduce Resource and ResourceList objs\n\nIntroduce Resource and ResourceList objects, and add new resources\nfield to instance, also old_/new_ resources fields to migration_context,\nResource object can contain a generic resource information.\n\nChange-Id: I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 18, 'created': '2019-09-09 05:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/334e1a6011f9f0fcf6bb1e29b0d4816cab15d81b', 'message': 'object: Introduce Resource and ResourceList objs\n\nIntroduce Resource and ResourceList objects, and add new resources\nfield to instance, also old_/new_ resources fields to migration_context,\nResource object can contain a generic resource information.\n\nChange-Id: I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 19, 'created': '2019-09-11 08:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb9cfd70234003a8dea07488130d516851bc35ee', 'message': 'object: Introduce Resource and ResourceList objs\n\nIntroduce Resource and ResourceList objects, and add new resources\nfield to instance, also old_/new_ resources fields to migration_context,\nResource object can contain a generic resource information.\n\nChange-Id: I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 20, 'created': '2019-09-11 10:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/02ac062d8f28d79c90538aa654150685143b1542', 'message': 'object: Introduce Resource and ResourceList objs\n\nIntroduce Resource and ResourceList objects, and add new resources\nfield to instance, also old_/new_ resources fields to migration_context,\nResource object can contain a generic resource information.\n\nChange-Id: I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 21, 'created': '2019-09-12 03:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6568bf6c2de645347452d2a472778439c0a9ee91', 'message': 'object: Introduce Resource and ResourceList objs\n\nIntroduce Resource and ResourceList objects, and add new resources\nfield to instance, also old_/new_ resources fields to migration_context,\nResource object can contain a generic resource information.\n\nChange-Id: I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 22, 'created': '2019-09-13 08:55:20.000000000', 'files': ['nova/objects/base.py', 'nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/objects/test_migration_context.py', 'nova/objects/resource.py', 'nova/objects/migration_context.py', 'nova/tests/unit/fake_instance.py', 'nova/tests/unit/objects/test_resource.py', 'nova/objects/__init__.py', 'nova/objects/fields.py', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/384d783fc65223d5684d0fb7ea1e7fb0c44eeae1', 'message': 'object: Introduce Resource and ResourceList objs\n\nIntroduce Resource and ResourceList objects, and add new resources\nfield to instance, also old_/new_ resources fields to migration_context,\nResource object can contain a generic resource information.\n\nChange-Id: I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}]",74,678448,384d783fc65223d5684d0fb7ea1e7fb0c44eeae1,269,19,22,23598,,,0,"object: Introduce Resource and ResourceList objs

Introduce Resource and ResourceList objects, and add new resources
field to instance, also old_/new_ resources fields to migration_context,
Resource object can contain a generic resource information.

Change-Id: I095bb71d2a5e451f2827f646aa5b3ed31d2ccac3
Partially-Implements: blueprint virtual-persistent-memory
Co-Authored-By: He Jie Xu <hejie.xu@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/678448/21 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_objects.py', 'nova/tests/unit/objects/test_migration_context.py', 'nova/objects/resource.py', 'nova/objects/migration_context.py', 'nova/tests/unit/fake_instance.py', 'nova/tests/unit/objects/test_resource.py', 'nova/objects/__init__.py', 'nova/objects/instance.py', 'nova/tests/unit/objects/test_instance.py']",9,744805fdb112eee2881a5ad8c5495f8f4be85a59,bp/virtual-persistent-memory," exp_cols.remove('resources') 'extra.device_metadata', 'extra.trusted_certs', 'extra.resources']) fake_resource = objects.Resource( rp_uuid=uuids.rp, resource_class='foo', identifier='foo') fake_resources = jsonutils.dumps(objects.ResourceList( objects=[fake_resource]).obj_to_primitive()) 'resources': fake_resources, self.assertEqual(fake_resource.identifier, inst.resources[0].identifier) 'resources': None, 'resources': None, 'resources': None, resources=objects.ResourceList(objects=[objects.Resource( rp_uuid=uuids.rp, resource_class='foo', identifier='foo')]) self.assertEqual('foo', inst.resources[0].identifier) 'resources': None, 'pci_devices': objects.PciDeviceList, 'resources': objects.ResourceList} resources = objects.ResourceList(objects=[]) pci_devices=pci_devices, resources=resources) 'pci_devices': pci_devices, 'resources': resources} @mock.patch('nova.objects.ResourceList.get_by_instance_uuid') def test_load_resources(self, mock_get): fake_resources = objects.ResourceList() mock_get.return_value = fake_resources inst = objects.Instance(context=self.context, uuid=uuids.resources) resources = inst.resources mock_get.assert_called_once_with(self.context, uuids.resources) self.assertEqual(fake_resources, resources) "," 'extra.device_metadata', 'extra.trusted_certs']) 'pci_devices': objects.PciDeviceList} pci_devices=pci_devices) 'pci_devices': pci_devices}",191,10
openstack%2Frequirements~master~I63faa5de49d515bcd464377e1fec77e8637dde2d,openstack/requirements,master,I63faa5de49d515bcd464377e1fec77e8637dde2d,update constraint for python-saharaclient to new release 2.3.0,MERGED,2019-09-13 15:12:50.000000000,2019-09-15 10:38:57.000000000,2019-09-15 10:37:03.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-13 15:12:50.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/394af621bdb022ac5c39c7dae0e57f8732ebe74c', 'message': 'update constraint for python-saharaclient to new release 2.3.0\n\nChange-Id: I63faa5de49d515bcd464377e1fec77e8637dde2d\nmeta:version: 2.3.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Commit: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Change-Id: I4239c4f94cc3c0396a81d7e7de3a2ef9f3465926\nmeta:release:Code-Review+1: Jeremy Freudberg <jeremyfreudberg@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,682083,394af621bdb022ac5c39c7dae0e57f8732ebe74c,10,2,1,11131,,,0,"update constraint for python-saharaclient to new release 2.3.0

Change-Id: I63faa5de49d515bcd464377e1fec77e8637dde2d
meta:version: 2.3.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Commit: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Change-Id: I4239c4f94cc3c0396a81d7e7de3a2ef9f3465926
meta:release:Code-Review+1: Jeremy Freudberg <jeremyfreudberg@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/83/682083/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,394af621bdb022ac5c39c7dae0e57f8732ebe74c,new-release,python-saharaclient===2.3.0,python-saharaclient===2.2.1,1,1
openstack%2Frequirements~master~Icf33e43e5462eaa045447575c6693a00ab95d458,openstack/requirements,master,Icf33e43e5462eaa045447575c6693a00ab95d458,update constraint for oslo.policy to new release 2.3.2,MERGED,2019-09-12 16:48:15.000000000,2019-09-15 10:38:05.000000000,2019-09-15 10:36:59.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-12 16:48:15.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/35668e881df06de5c9b34c4afcb51abd1764ec6b', 'message': 'update constraint for oslo.policy to new release 2.3.2\n\nChange-Id: Icf33e43e5462eaa045447575c6693a00ab95d458\nmeta:version: 2.3.2\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: Ie41cc4192f8c763a8b7155c127001ac2effbd387\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,681831,35668e881df06de5c9b34c4afcb51abd1764ec6b,16,3,1,11131,,,0,"update constraint for oslo.policy to new release 2.3.2

Change-Id: Icf33e43e5462eaa045447575c6693a00ab95d458
meta:version: 2.3.2
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: Ie41cc4192f8c763a8b7155c127001ac2effbd387
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/31/681831/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,35668e881df06de5c9b34c4afcb51abd1764ec6b,new-release,oslo.policy===2.3.2,oslo.policy===2.3.1,1,1
openstack%2Frequirements~stable%2Fqueens~I694e25d5bb8ae2d85b9512202c72266b17d89da1,openstack/requirements,stable/queens,I694e25d5bb8ae2d85b9512202c72266b17d89da1,update constraint for tripleo-common to new release 8.7.1,MERGED,2019-09-13 15:18:51.000000000,2019-09-15 10:37:04.000000000,2019-09-15 10:37:04.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-13 15:18:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ab31b52c75eb4ec2d47998fe8661294de4d54e31', 'message': 'update constraint for tripleo-common to new release 8.7.1\n\nChange-Id: I694e25d5bb8ae2d85b9512202c72266b17d89da1\nmeta:version: 8.7.1\nmeta:diff-start: -\nmeta:series: queens\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Wes Hayutin <weshayutin@gmail.com>\nmeta:release:Commit: wes hayutin <whayutin@redhat.com>\nmeta:release:Change-Id: Id3a17cc2f110fac15cdd10537a5c97de78d2ca48\nmeta:release:Code-Review+1: Emilien Macchi <emilien@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Alex Schultz <aschultz@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+1: Andriy Shevchenko <huang.zhiping@99cloud.net>\n'}]",0,682086,ab31b52c75eb4ec2d47998fe8661294de4d54e31,11,2,1,11131,,,0,"update constraint for tripleo-common to new release 8.7.1

Change-Id: I694e25d5bb8ae2d85b9512202c72266b17d89da1
meta:version: 8.7.1
meta:diff-start: -
meta:series: queens
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Wes Hayutin <weshayutin@gmail.com>
meta:release:Commit: wes hayutin <whayutin@redhat.com>
meta:release:Change-Id: Id3a17cc2f110fac15cdd10537a5c97de78d2ca48
meta:release:Code-Review+1: Emilien Macchi <emilien@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Alex Schultz <aschultz@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+1: Andriy Shevchenko <huang.zhiping@99cloud.net>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/86/682086/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ab31b52c75eb4ec2d47998fe8661294de4d54e31,new-release,tripleo-common===8.7.1,tripleo-common===8.7.0,1,1
openstack%2Frequirements~stable%2Fstein~I4d94d6ec1beba8b67608098d7f838c07b24a3d62,openstack/requirements,stable/stein,I4d94d6ec1beba8b67608098d7f838c07b24a3d62,update constraint for os-refresh-config to new release 10.2.1,MERGED,2019-09-11 14:23:29.000000000,2019-09-15 10:37:02.000000000,2019-09-15 10:37:02.000000000,"[{'_account_id': 14288}, {'_account_id': 17499}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-11 14:23:29.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c68f76f5ed4ce9e8b23010b2cf3aa5af434b92f3', 'message': 'update constraint for os-refresh-config to new release 10.2.1\n\nChange-Id: I4d94d6ec1beba8b67608098d7f838c07b24a3d62\nmeta:version: 10.2.1\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Emilien Macchi <emilien@redhat.com>\nmeta:release:Commit: Emilien Macchi <emilien@redhat.com>\nmeta:release:Change-Id: I155861dcd6e2d3d57390de6a3b6f53b22ed36e1d\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,681498,c68f76f5ed4ce9e8b23010b2cf3aa5af434b92f3,24,3,1,11131,,,0,"update constraint for os-refresh-config to new release 10.2.1

Change-Id: I4d94d6ec1beba8b67608098d7f838c07b24a3d62
meta:version: 10.2.1
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Emilien Macchi <emilien@redhat.com>
meta:release:Commit: Emilien Macchi <emilien@redhat.com>
meta:release:Change-Id: I155861dcd6e2d3d57390de6a3b6f53b22ed36e1d
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/98/681498/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c68f76f5ed4ce9e8b23010b2cf3aa5af434b92f3,new-release,os-refresh-config===10.2.1,os-refresh-config===10.1.0,1,1
openstack%2Frequirements~master~Ia94d909b13f513d45c86d537cbc429c28af50156,openstack/requirements,master,Ia94d909b13f513d45c86d537cbc429c28af50156,update constraint for python-mistralclient to new release 3.10.0,MERGED,2019-09-13 19:21:13.000000000,2019-09-15 10:37:00.000000000,2019-09-15 10:37:00.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-13 19:21:13.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4ac0891a863eba98d0e1126a2e93cbe2ddd13f0e', 'message': 'update constraint for python-mistralclient to new release 3.10.0\n\nChange-Id: Ia94d909b13f513d45c86d537cbc429c28af50156\nmeta:version: 3.10.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Commit: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Change-Id: Ie376b2137f64d13d78cbb20860b78f93b174ae7f\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,682143,4ac0891a863eba98d0e1126a2e93cbe2ddd13f0e,9,2,1,11131,,,0,"update constraint for python-mistralclient to new release 3.10.0

Change-Id: Ia94d909b13f513d45c86d537cbc429c28af50156
meta:version: 3.10.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Commit: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Change-Id: Ie376b2137f64d13d78cbb20860b78f93b174ae7f
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/43/682143/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4ac0891a863eba98d0e1126a2e93cbe2ddd13f0e,new-release,python-mistralclient===3.10.0,python-mistralclient===3.9.0,1,1
openstack%2Frequirements~stable%2Frocky~Idb3b18f3d24ee23d998c066c129305e272ceb7aa,openstack/requirements,stable/rocky,Idb3b18f3d24ee23d998c066c129305e272ceb7aa,update constraint for os-net-config to new release 9.4.1,MERGED,2019-09-12 09:49:04.000000000,2019-09-15 10:21:54.000000000,2019-09-15 10:21:54.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-12 09:49:04.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/55879d7d90bd7e3b726f7b78a240a2d5f54c2d57', 'message': 'update constraint for os-net-config to new release 9.4.1\n\nChange-Id: Idb3b18f3d24ee23d998c066c129305e272ceb7aa\nmeta:version: 9.4.1\nmeta:diff-start: -\nmeta:series: rocky\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Emilien Macchi <emilien@redhat.com>\nmeta:release:Commit: Emilien Macchi <emilien@redhat.com>\nmeta:release:Change-Id: I20f966b80a5033429d42ac6f62085e3a086c19c3\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,681693,55879d7d90bd7e3b726f7b78a240a2d5f54c2d57,23,4,1,11131,,,0,"update constraint for os-net-config to new release 9.4.1

Change-Id: Idb3b18f3d24ee23d998c066c129305e272ceb7aa
meta:version: 9.4.1
meta:diff-start: -
meta:series: rocky
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Emilien Macchi <emilien@redhat.com>
meta:release:Commit: Emilien Macchi <emilien@redhat.com>
meta:release:Change-Id: I20f966b80a5033429d42ac6f62085e3a086c19c3
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/93/681693/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,55879d7d90bd7e3b726f7b78a240a2d5f54c2d57,new-release,os-net-config===9.4.1,os-net-config===9.4.0,1,1
openstack%2Fnova~master~I8d8086973039308f9041a36463a834b5275708e3,openstack/nova,master,I8d8086973039308f9041a36463a834b5275708e3,Docs for isolated aggregates request filter,MERGED,2019-06-27 14:55:05.000000000,2019-09-15 09:22:02.000000000,2019-09-15 09:20:03.000000000,"[{'_account_id': 3085}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 27302}, {'_account_id': 29415}]","[{'number': 1, 'created': '2019-06-27 14:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd2d856fb7429696a00f27ad9c577e00c5784302', 'message': 'Support filtering of hosts by forbidden aggregates\n\nThis patch add a new placement request filter for filtering of\nhosts by forbidden aggregates which can be enabled by a new config\noption ""enable_forbidden_aggregates_filter"".\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}, {'number': 2, 'created': '2019-06-28 15:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33fc878c539162aadc5448bd85e030c5684a6bec', 'message': 'Support filtering of hosts by forbidden aggregates\n\nThis patch adds a new placement request filter for filtering of\nhosts by forbidden aggregates which can be enabled by a new config\noption ""enable_forbidden_aggregates_filter"".\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}, {'number': 3, 'created': '2019-07-08 12:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4ab01d11c763a3f8bb97dfebfd3df0a60950a846', 'message': 'Support filtering of hosts by forbidden aggregates\n\nThis patch adds a new placement request filter for filtering of\nhosts by forbidden aggregates which can be enabled by a new config\noption ""enable_forbidden_aggregates_filtering"".\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}, {'number': 4, 'created': '2019-07-09 08:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4eab70cd8c075c02a4a3bc365cef1a423a37aaf', 'message': 'Support filtering of hosts by forbidden aggregates\n\nThis patch adds a new placement request filter for filtering of\nhosts by forbidden aggregates which can be enabled by a new config\noption ""enable_forbidden_aggregates_filtering"".\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}, {'number': 5, 'created': '2019-07-10 07:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6485983389f4ee6179a40ce207c6e144e891d1c5', 'message': 'Support filtering of hosts by forbidden aggregates\n\nThis patch adds a new placement request filter for filtering of\nhosts by forbidden aggregates which can be enabled by a new config\noption ""enable_forbidden_aggregates_filtering"".\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}, {'number': 6, 'created': '2019-07-10 15:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83b32f0ee68b7470f7545783faba861384256327', 'message': 'Support filtering of hosts by forbidden aggregates\n\nThis patch adds a new placement request filter for filtering of\nhosts by forbidden aggregates which can be enabled by a new config\noption ""enable_forbidden_aggregates_filtering"".\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}, {'number': 7, 'created': '2019-07-11 08:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4890c3478f899d9022c49ab5bf269191ae62b19', 'message': 'Support filtering of hosts by forbidden aggregates\n\nThis patch adds a new placement request filter for filtering of\nhosts by forbidden aggregates which can be enabled by a new config\noption ""enable_forbidden_aggregates_filtering"".\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}, {'number': 8, 'created': '2019-07-16 15:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a7f13e76c821b44193023fd7c732f8c3bfe84ae0', 'message': ""Enable request filter forbidden_aggregates\n\n* Added a new config option 'enable_forbidden_aggregates_filtering' which\n  by default will be disabled.\n* Enabled request filter 'forbidden_aggregates' before calling placement\n  for getting allocation_candidates.\n* Incremented MIN_PLACEMENT_MICROVERSION to 1.32 which will allow to\n  specify forbidden aggregates in the query parameters of\n  'GET /allocation_candidates' API.\n* Added reference documentation to explain how filtering of hosts by\n  forbidden aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 9, 'created': '2019-07-16 16:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d6e67aedbdb7fc5ec4e0497c66c51df24a9512b', 'message': ""Enable request filter forbidden_aggregates\n\n* Added a new config option 'enable_forbidden_aggregates_filtering' which\n  by default will be disabled.\n* Enabled request filter 'forbidden_aggregates' before calling placement\n  for getting allocation_candidates.\n* Incremented MIN_PLACEMENT_MICROVERSION to 1.32 which will allow to\n  specify forbidden aggregates in the query parameters of\n  'GET /allocation_candidates' API.\n* Added reference documentation to explain how filtering of hosts by\n  forbidden aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 10, 'created': '2019-07-16 19:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64ca613fc2abe3ee7b0ada0854bb5cdc2c6c2eac', 'message': ""Enable request filter forbidden_aggregates\n\n* Added a new config option 'enable_forbidden_aggregates_filtering' which\n  by default will be disabled.\n* Enabled request filter 'forbidden_aggregates' before calling placement\n  for getting allocation_candidates.\n* Incremented MIN_PLACEMENT_MICROVERSION to 1.32 which will allow to\n  specify forbidden aggregates in the query parameters of\n  'GET /allocation_candidates' API.\n* Added reference documentation to explain how filtering of hosts by\n  forbidden aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 11, 'created': '2019-08-07 12:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6813788663cd6fcbffdf609c984284c0e0a916c5', 'message': ""Enable request filter forbidden_aggregates\n\n* Added a new config option 'enable_forbidden_aggregates_filtering'\n  which by default will be disabled.\n* Enabled request filter 'forbidden_aggregates' before calling placement\n  for getting allocation_candidates.\n* Incremented MIN_PLACEMENT_MICROVERSION to 1.32 which will allow to\n  specify forbidden aggregates in the query parameters of\n  'GET /allocation_candidates' API.\n* Added reference documentation to explain how filtering of hosts by\n  forbidden aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 12, 'created': '2019-08-07 13:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78d8484420e57d6dab678ddfd1cb2b99c978a72d', 'message': ""Enable request filter isolate_aggregates\n\n* Added a new config option 'enable_isolated_aggregates_filtering'\n  which by default will be disabled.\n* Enabled request filter 'isolate_aggregates' before calling placement\n  for getting allocation_candidates.\n* Incremented MIN_PLACEMENT_MICROVERSION to 1.32 which will allow to\n  specify forbidden aggregates in the query parameters of\n  'GET /allocation_candidates' API.\n* Added reference documentation to explain how filtering of hosts by\n  isolate aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 13, 'created': '2019-08-08 12:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/018fe6dfef0851f259b0b1cad40d5a956aeb4cd3', 'message': ""Enable request filter isolate_aggregates\n\n* Added a new config option 'enable_isolated_aggregates_filtering'\n  which by default will be disabled.\n* Enabled request filter 'isolate_aggregates' before calling placement\n  for getting allocation_candidates.\n* Incremented MIN_PLACEMENT_MICROVERSION to 1.32 which will allow to\n  specify forbidden aggregates in the query parameters of\n  'GET /allocation_candidates' API.\n* Added reference documentation to explain how filtering of hosts by\n  isolate aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 14, 'created': '2019-08-08 14:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d51c2aa2dd77cc2ce946c1a9b3976a7927940a5', 'message': ""Enable request filter isolate_aggregates\n\n* Added a new config option 'enable_isolated_aggregates_filtering'\n  which by default will be disabled.\n* Enabled request filter 'isolate_aggregates' before calling placement\n  for getting allocation_candidates.\n* Incremented MIN_PLACEMENT_MICROVERSION to 1.32 which will allow to\n  specify forbidden aggregates in the query parameters of\n  'GET /allocation_candidates' API.\n* Added reference documentation to explain how filtering of hosts by\n  isolate aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 15, 'created': '2019-08-10 09:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f48422247af3a98b05a3d61fe6b4a1ae2656f2e1', 'message': ""Enable request filter isolate_aggregates\n\n* Added a new config option 'enable_isolated_aggregates_filtering'\n  which by default will be disabled.\n* Enabled request filter 'isolate_aggregates' before calling placement\n  for getting allocation_candidates.\n* Incremented MIN_PLACEMENT_MICROVERSION to 1.32 which will allow to\n  specify forbidden aggregates in the query parameters of\n  'GET /allocation_candidates' API.\n* Added reference documentation to explain how filtering of hosts by\n  isolate aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 16, 'created': '2019-08-13 15:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3fda0cb739c0c3295da6e96a50c0594624fea6c5', 'message': ""Enable request filter isolate_aggregates\n\n* Added a new config option 'enable_isolated_aggregates_filtering'\n  which by default will be disabled.\n* Enabled request filter 'isolate_aggregates' before calling placement\n  for getting allocation_candidates.\n* Incremented MIN_PLACEMENT_MICROVERSION to 1.32 which will allow to\n  specify forbidden aggregates in the query parameters of\n  'GET /allocation_candidates' API.\n* Added reference documentation to explain how filtering of hosts by\n  isolate aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 17, 'created': '2019-08-15 00:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42f9708d36ca8c4e5df8e7f08f10a5251da0d746', 'message': ""Enable request filter isolate_aggregates\n\n* Added a new config option 'enable_isolated_aggregate_filtering'\n  which by default will be disabled.\n* Enabled request filter 'isolate_aggregates' before calling placement\n  for getting allocation_candidates.\n* Incremented MIN_PLACEMENT_MICROVERSION to 1.32 which will allow to\n  specify forbidden aggregates in the query parameters of\n  'GET /allocation_candidates' API.\n* Added reference documentation to explain how filtering of hosts by\n  isolate aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 18, 'created': '2019-08-19 16:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2adb1105e041262ad54f6574a8b722050a482f63', 'message': ""Enable request filter isolate_aggregates\n\n* Added a new config option 'enable_isolated_aggregate_filtering'\n  which by default will be disabled.\n* Enabled request filter 'isolate_aggregates' before calling placement\n  for getting allocation_candidates.\n* Incremented MIN_PLACEMENT_MICROVERSION to 1.32 which will allow to\n  specify forbidden aggregates in the query parameters of\n  'GET /allocation_candidates' API.\n* Added reference documentation to explain how filtering of hosts by\n  isolate aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 19, 'created': '2019-08-22 13:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/baa58b6d8cbfebb71395f88549c9ddee7f1a081c', 'message': ""Enable request filter isolate_aggregates\n\n* Added a new config option 'enable_isolated_aggregate_filtering'\n  which by default will be disabled.\n* Enabled request filter 'isolate_aggregates' before calling placement\n  for getting allocation_candidates.\n* Incremented MIN_PLACEMENT_MICROVERSION to 1.32 which will allow to\n  specify forbidden aggregates in the query parameters of\n  'GET /allocation_candidates' API.\n* Added reference documentation to explain how filtering of hosts by\n  isolate aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 20, 'created': '2019-08-29 13:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f25be6f8503aad0d1588669eb9076a078db4faca', 'message': ""Enable request filter isolate_aggregates\n\n* Added a new config option 'enable_isolated_aggregate_filtering'\n  which by default will be disabled.\n* Enabled request filter 'isolate_aggregates' before calling placement\n  for getting allocation_candidates.\n* Incremented MIN_PLACEMENT_MICROVERSION to 1.32 which will allow to\n  specify forbidden aggregates in the query parameters of\n  'GET /allocation_candidates' API.\n* Added reference documentation to explain how filtering of hosts by\n  isolate aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 21, 'created': '2019-08-30 10:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a971b5e72f4f2a23bc358cd535f85f8fe9b7d950', 'message': ""Enable request filter isolate_aggregates\n\n* Added a new config option 'enable_isolated_aggregate_filtering'\n  which by default will be disabled.\n* Enabled request filter 'isolate_aggregates' before calling placement\n  for getting allocation_candidates.\n* Incremented MIN_PLACEMENT_MICROVERSION to 1.32 which will allow to\n  specify forbidden aggregates in the query parameters of\n  'GET /allocation_candidates' API.\n* Added reference documentation to explain how filtering of hosts by\n  isolate aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 22, 'created': '2019-09-05 19:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/730ad9a2a5188e0c3b281d8c649c2bcb4455e2f0', 'message': ""Enable request filter isolate_aggregates\n\n* Added a new config option 'enable_isolated_aggregate_filtering'\n  which by default will be disabled.\n* Enabled request filter 'isolate_aggregates' before calling placement\n  for getting allocation_candidates.\n* Incremented MIN_PLACEMENT_MICROVERSION to 1.32 which will allow to\n  specify forbidden aggregates in the query parameters of\n  'GET /allocation_candidates' API.\n* Added reference documentation to explain how filtering of hosts by\n  isolate aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 23, 'created': '2019-09-05 20:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f61e00ba8bb239f0a777cd504d817df41f031a0c', 'message': 'Docs for isolated aggregates request filter\n\nAdded reference documentation and release note to explain how filtering\nof hosts by isolate aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}, {'number': 24, 'created': '2019-09-05 20:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2404de49c8c05dc8b692e1965bcde2e394efc9bb', 'message': 'Docs for isolated aggregates request filter\n\nAdded reference documentation and release note to explain how filtering\nof hosts by isolate aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}, {'number': 25, 'created': '2019-09-05 21:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c4d90ed24d6c9efc2b2b0dd454b19e19c2ed2e7', 'message': 'Docs for isolated aggregates request filter\n\nAdded reference documentation and release note to explain how filtering\nof hosts by isolate aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}, {'number': 26, 'created': '2019-09-06 12:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b7b96b0224ea698e7aa4fc5498ad732325f2a9ad', 'message': 'Docs for isolated aggregates request filter\n\nAdded reference documentation and release note to explain how filtering\nof hosts by isolate aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}, {'number': 27, 'created': '2019-09-08 17:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26ff20d7cdef97d0e4bb3138359d71a96436327b', 'message': 'Docs for isolated aggregates request filter\n\nAdded reference documentation and release note to explain how filtering\nof hosts by isolate aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}, {'number': 28, 'created': '2019-09-08 18:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d76bdec79cc50997c2c7cddab1f8a636fa4da26d', 'message': 'Docs for isolated aggregates request filter\n\nAdded reference documentation and release note to explain how filtering\nof hosts by isolate aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}, {'number': 29, 'created': '2019-09-09 07:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4113853b3f4929af038f4c9ad22d5d49f7ea4374', 'message': 'Docs for isolated aggregates request filter\n\nAdded reference documentation and release note to explain how filtering\nof hosts by isolate aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}, {'number': 30, 'created': '2019-09-09 20:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e20e565d8dc66a35ee8372cb4acd76cc7f3063a', 'message': 'Docs for isolated aggregates request filter\n\nAdded reference documentation and release note to explain how filtering\nof hosts by isolate aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}, {'number': 31, 'created': '2019-09-09 20:52:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5376b6fa1fc75c8b401bbbeff58cee4391da955f', 'message': 'Docs for isolated aggregates request filter\n\nAdded reference documentation and release note to explain how filtering\nof hosts by isolate aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}, {'number': 32, 'created': '2019-09-12 22:01:33.000000000', 'files': ['doc/source/index.rst', 'doc/source/reference/index.rst', 'doc/source/reference/isolate-aggregates.rst', 'doc/source/admin/configuration/schedulers.rst', 'releasenotes/notes/bp-placement-req-filter-isolated-aggregates-26f34213ca757b5a.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/1bbef754fb9e2db30b9d14eb05d68b9afb1c9296', 'message': 'Docs for isolated aggregates request filter\n\nAdded reference documentation and release note to explain how filtering\nof hosts by isolate aggregates works.\n\nChange-Id: I8d8086973039308f9041a36463a834b5275708e3\nImplements: blueprint placement-req-filter-forbidden-aggregates\n'}]",167,667952,1bbef754fb9e2db30b9d14eb05d68b9afb1c9296,352,28,32,29415,,,0,"Docs for isolated aggregates request filter

Added reference documentation and release note to explain how filtering
of hosts by isolate aggregates works.

Change-Id: I8d8086973039308f9041a36463a834b5275708e3
Implements: blueprint placement-req-filter-forbidden-aggregates
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/667952/32 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_request_spec.py', 'doc/source/reference/index.rst', 'doc/source/cli/nova-status.rst', 'nova/cmd/status.py', 'nova/scheduler/utils.py', 'nova/tests/unit/objects/test_aggregate.py', 'doc/source/reference/forbidden-aggregates.rst', 'nova/scheduler/client/report.py', 'nova/conf/scheduler.py', 'nova/tests/functional/test_aggregates.py', 'nova/objects/request_spec.py', 'nova/tests/unit/objects/test_objects.py', 'doc/source/index.rst', 'nova/tests/unit/scheduler/test_request_filter.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/request_filter.py', 'releasenotes/notes/bp-placement-req-filter-forbidden-aggregates-26f34213ca757b5a.yaml']",18,fd2d856fb7429696a00f27ad9c577e00c5784302,bp/placement-req-filter-forbidden-aggregates,--- features: - | Blueprint `placement-req-filter-forbidden-aggregates`_ adds the ability to allow operators to set traits on aggregates which if not requested in flavor extra specs or image properties will result in ignoring all hosts belonging to those aggregates from booting the request instances. Added a new config option ``enable_forbidden_aggregates_filter`` of type boolean which needs to be set in the scheduler section of nova.conf. By default the value will be set to `False`. Operator can turn it on by setting it as ``True`` as shown below. * ``[scheduler]/enable_forbidden_aggregates_filter = True`` .. _placement-req-filter-forbidden-aggregates: https://blueprints.launchpad.net/nova/+spec/placement-req-filter-forbidden-aggregates ,,691,21
openstack%2Fneutron~master~I9124399f680e4123c4dc14e8be666f9c4c5385a0,openstack/neutron,master,I9124399f680e4123c4dc14e8be666f9c4c5385a0,Log when FIP is associated/disassociated,MERGED,2019-09-02 15:51:11.000000000,2019-09-15 09:21:58.000000000,2019-09-15 09:19:55.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-02 15:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/23e6e516bfc86e7b1651fad9981576fe52365bfe', 'message': '[WIP] Log when FIP is associated/disassociated\n\nAdd a log entry when a floating IP is associated/disassociated from a\nport, reporting the external IP, the internal IP, the fixed port ID and\nthe FIP ID.\n\nThe log level is set to INFO; this security information will be\nregistered regardless of the logging level.\n\nChange-Id: I9124399f680e4123c4dc14e8be666f9c4c5385a0\nCloses-Bug: #1842327\n'}, {'number': 2, 'created': '2019-09-03 15:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dca69d55d33ed1d850577a5919c5ced11e715ff0', 'message': 'Log when FIP is associated/disassociated\n\nAdd a log entry when a floating IP is associated/disassociated from a\nport, reporting the external IP, the internal IP, the fixed port ID and\nthe FIP ID.\n\nThe log level is set to INFO; this security information will be\nregistered regardless of the logging level.\n\nChange-Id: I9124399f680e4123c4dc14e8be666f9c4c5385a0\nCloses-Bug: #1842327\n'}, {'number': 3, 'created': '2019-09-04 14:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4934995302a5f0beb26f13385138e4b49840eef5', 'message': 'Log when FIP is associated/disassociated\n\nAdd a log entry when a floating IP is associated/disassociated from a\nport, reporting the external IP, the internal IP, the fixed port ID and\nthe FIP ID.\n\nThe log level is set to INFO; this security information will be\nregistered regardless of the logging level.\n\nChange-Id: I9124399f680e4123c4dc14e8be666f9c4c5385a0\nCloses-Bug: #1842327\n'}, {'number': 4, 'created': '2019-09-09 10:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a4664aa37695a6a402094779c34f83be9bab0213', 'message': 'Log when FIP is associated/disassociated\n\nAdd a log entry when a floating IP is associated/disassociated from a\nport, reporting the external IP, the internal IP, the fixed port ID and\nthe FIP ID.\n\nThe log level is set to INFO; this security information will be\nregistered regardless of the logging level.\n\nChange-Id: I9124399f680e4123c4dc14e8be666f9c4c5385a0\nCloses-Bug: #1842327\n'}, {'number': 5, 'created': '2019-09-10 05:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c332722cda8a0c98167a05b139c51d815c241f89', 'message': 'Log when FIP is associated/disassociated\n\nAdd a log entry when a floating IP is associated/disassociated from a\nport, reporting the external IP, the internal IP, the fixed port ID and\nthe FIP ID.\n\nThe log level is set to INFO; this security information will be\nregistered regardless of the logging level.\n\nChange-Id: I9124399f680e4123c4dc14e8be666f9c4c5385a0\nCloses-Bug: #1842327\n'}, {'number': 6, 'created': '2019-09-11 07:08:07.000000000', 'files': ['neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/791dc24960f2b5e7b4ebd7d27ec8b8a1e3924e8a', 'message': 'Log when FIP is associated/disassociated\n\nAdd a log entry when a floating IP is associated/disassociated from a\nport, reporting the external IP, the internal IP, the fixed port ID and\nthe FIP ID.\n\nThe log level is set to INFO; this security information will be\nregistered regardless of the logging level.\n\nChange-Id: I9124399f680e4123c4dc14e8be666f9c4c5385a0\nCloses-Bug: #1842327\n'}]",17,679667,791dc24960f2b5e7b4ebd7d27ec8b8a1e3924e8a,78,13,6,16688,,,0,"Log when FIP is associated/disassociated

Add a log entry when a floating IP is associated/disassociated from a
port, reporting the external IP, the internal IP, the fixed port ID and
the FIP ID.

The log level is set to INFO; this security information will be
registered regardless of the logging level.

Change-Id: I9124399f680e4123c4dc14e8be666f9c4c5385a0
Closes-Bug: #1842327
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/679667/6 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_db.py'],1,23e6e516bfc86e7b1651fad9981576fe52365bfe,bug/1842327," if assoc_result['fixed_ip_address'] and assoc_result['fixed_port_id']: logging.INFO('FIP %(fip_id)s associated. External IP: %(ext_ip)s, ' 'fixed IP: %(fixed_ip)s, port: %(port_id)s.', {'fip_id': assoc_result['floating_ip_id'], 'ext_ip': assoc_result['floating_ip_address'], 'fixed_ip': assoc_result['fixed_ip_address'], 'port_id': assoc_result['fixed_port_id']}) old_fixed_port_id = floatingip_obj.fixed_port_id if old_fixed_port_id != assoc_result['fixed_port_id']: logging.INFO('FIP %(fip_id)s associated. External IP: %(ext_ip)s, ' 'fixed IP: %(fixed_ip)s, port: %(port_id)s.', {'fip_id': assoc_result['floating_ip_id'], 'ext_ip': assoc_result['floating_ip_address'], 'fixed_ip': assoc_result['fixed_ip_address'], 'port_id': assoc_result['fixed_port_id']}) for fip in old_fips.values(): logging.INFO('FIP %(fip_id)s disassociated. External IP: ' '%(ext_ip)s, fixed IP: %(fixed_ip)s, port: ' '%(port_id)s.', {'fip_id': fip['id'], 'ext_ip': fip['floating_ip_address'], 'fixed_ip': fip['fixed_ip_address'], 'port_id': fip['fixed_port_id']})",,24,0
openstack%2Ftripleo-ansible~master~Ib16face659108aa59878f47e793a6a4991b49636,openstack/tripleo-ansible,master,Ib16face659108aa59878f47e793a6a4991b49636,Create a role for OvS-DPDK host configuration,MERGED,2019-08-21 12:15:49.000000000,2019-09-15 09:12:27.000000000,2019-09-15 09:10:39.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-21 12:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1c66714e69636d481845bafdae8a51806a0d4db6', 'message': 'WIP: Create a role for OvS-DPDK host configuration\n\nChange-Id: Ib16face659108aa59878f47e793a6a4991b49636\n'}, {'number': 2, 'created': '2019-08-21 13:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/14aadc142d824aee59602cbd4a6de57d028e6acb', 'message': 'WIP: Create a role for OvS-DPDK host configuration\n\nDepends-On: https://review.opendev.org/#/c/677726\nChange-Id: Ib16face659108aa59878f47e793a6a4991b49636\n'}, {'number': 3, 'created': '2019-08-22 15:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5bdd5c6ec958dd4dd26a44e72768e1b72fc92355', 'message': 'WIP: Create a role for OvS-DPDK host configuration\n\nDepends-On: https://review.opendev.org/#/c/677726\nChange-Id: Ib16face659108aa59878f47e793a6a4991b49636\n'}, {'number': 4, 'created': '2019-08-23 10:56:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/84748e1f8eb5ef05dcbe48d31585214fa17b1b4b', 'message': 'WIP: Create a role for OvS-DPDK host configuration\n\nDepends-On: https://review.opendev.org/#/c/677726\nChange-Id: Ib16face659108aa59878f47e793a6a4991b49636\n'}, {'number': 5, 'created': '2019-08-28 06:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aa058fb03ef360324f825f40241fdd07ca408d3e', 'message': 'WIP: Create a role for OvS-DPDK host configuration\n\nDepends-On: https://review.opendev.org/#/c/677726\nChange-Id: Ib16face659108aa59878f47e793a6a4991b49636\n'}, {'number': 6, 'created': '2019-08-30 08:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cf97023e8bd56271f975cd239d19d33dcd5e45d3', 'message': 'WIP: Create a role for OvS-DPDK host configuration\n\nDepends-On: https://review.opendev.org/#/c/677726\nChange-Id: Ib16face659108aa59878f47e793a6a4991b49636\n'}, {'number': 7, 'created': '2019-08-30 16:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ff313f210b360da9eb8b8fb5a911aa5f19298156', 'message': 'WIP: Create a role for OvS-DPDK host configuration\n\nDepends-On: https://review.opendev.org/#/c/677726\nChange-Id: Ib16face659108aa59878f47e793a6a4991b49636\n'}, {'number': 8, 'created': '2019-09-03 03:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d6bea0e601aba2bec6b0a17902a5a0ba1a0b5f59', 'message': 'WIP: Create a role for OvS-DPDK host configuration\n\nDepends-On: https://review.opendev.org/#/c/677726\nChange-Id: Ib16face659108aa59878f47e793a6a4991b49636\n'}, {'number': 9, 'created': '2019-09-03 15:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ecd76b9719ba16bc8213124075870ff41d3a0c62', 'message': 'Create a role for OvS-DPDK host configuration\n\nDPDK need to be initialized before running the\nos-net-config, for which PreNetworkConfig resource\nhas been added. In the process of moving all software\nconfigs deployments to native ansible deployments, the\nDPDK initialization has been moved from puppet-vswitch\nto a new ansible role. This role will be involved at\nstep 0.\n\nDPDK requires hugepages to be enabled. So the deploy\ntasks in boot-params-service has to be run first, so\nit has be added here.\n\nDepends-On: https://review.opendev.org/#/c/677726\nChange-Id: Ib16face659108aa59878f47e793a6a4991b49636\n'}, {'number': 10, 'created': '2019-09-03 15:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/353df6c7d1ad5747a0ad9718e8e57d4694e56529', 'message': ""Create a role for OvS-DPDK host configuration\n\nA new role has been created to initialize DPDK in\nopenvswitch. Currently, puppet-vswitch module does this\ninitialization. This role has the functionality in par\nwith current puppet-vswitch's dpdk implementation.\nThe goal is to remove the invocation of puppet-vswitch\nin two places in THT by replacing it with this role.\n\nDepends-On: https://review.opendev.org/#/c/677726\nChange-Id: Ib16face659108aa59878f47e793a6a4991b49636\n""}, {'number': 11, 'created': '2019-09-04 06:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8e49fe1c8c9b094250fe84a0029de502b61a1c31', 'message': ""Create a role for OvS-DPDK host configuration\n\nA new role has been created to initialize DPDK in\nopenvswitch. Currently, puppet-vswitch module does this\ninitialization. This role has the functionality in par\nwith current puppet-vswitch's dpdk implementation.\nThe goal is to remove the invocation of puppet-vswitch\nin two places in THT by replacing it with this role.\n\nDepends-On: https://review.opendev.org/#/c/677726\nChange-Id: Ib16face659108aa59878f47e793a6a4991b49636\n""}, {'number': 12, 'created': '2019-09-04 07:27:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/02c2bcc1c50bc6f3f5e7dce8c9163edfdd14e12f', 'message': ""Create a role for OvS-DPDK host configuration\n\nA new role has been created to initialize DPDK in\nopenvswitch. Currently, puppet-vswitch module does this\ninitialization. This role has the functionality in par\nwith current puppet-vswitch's dpdk implementation.\nThe goal is to remove the invocation of puppet-vswitch\nin two places in THT by replacing it with this role.\n\nDepends-On: https://review.opendev.org/#/c/677726\nChange-Id: Ib16face659108aa59878f47e793a6a4991b49636\n""}, {'number': 13, 'created': '2019-09-09 05:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/87975ab0561a6bfb27e50edc1c8f3c9a0369b6fb', 'message': ""Create a role for OvS-DPDK host configuration\n\nA new role has been created to initialize DPDK in\nopenvswitch. Currently, puppet-vswitch module does this\ninitialization. This role has the functionality in par\nwith current puppet-vswitch's dpdk implementation.\nThe goal is to remove the invocation of puppet-vswitch\nin two places in THT by replacing it with this role.\n\nDepends-On: https://review.opendev.org/#/c/677726\nChange-Id: Ib16face659108aa59878f47e793a6a4991b49636\n""}, {'number': 14, 'created': '2019-09-12 04:26:50.000000000', 'files': ['doc/source/roles/role-tripleo-ovs-dpdk.rst', '.gitignore', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/positive/molecule.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/positive/tests/test_positive.py', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo-ovs-dpdk/tasks/main.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/library/openvswitch_db.py', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/plugins/filters/cpu_mask.py', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/positive/Dockerfile', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/positive/prepare.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/tasks/config.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/meta/main.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/defaults/main.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/positive/playbook.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2b54427b8bd93413f588abf69e44a701796d8dfe', 'message': ""Create a role for OvS-DPDK host configuration\n\nA new role has been created to initialize DPDK in\nopenvswitch. Currently, puppet-vswitch module does this\ninitialization. This role has the functionality in par\nwith current puppet-vswitch's dpdk implementation.\nThe goal is to remove the invocation of puppet-vswitch\nin two places in THT by replacing it with this role.\n\nDepends-On: https://review.opendev.org/#/c/677726\nChange-Id: Ib16face659108aa59878f47e793a6a4991b49636\n""}]",20,677712,2b54427b8bd93413f588abf69e44a701796d8dfe,60,7,14,18575,,,0,"Create a role for OvS-DPDK host configuration

A new role has been created to initialize DPDK in
openvswitch. Currently, puppet-vswitch module does this
initialization. This role has the functionality in par
with current puppet-vswitch's dpdk implementation.
The goal is to remove the invocation of puppet-vswitch
in two places in THT by replacing it with this role.

Depends-On: https://review.opendev.org/#/c/677726
Change-Id: Ib16face659108aa59878f47e793a6a4991b49636
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/12/677712/7 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-ovs-dpdk/files/.gitkeep', 'tripleo_ansible/roles/tripleo-ovs-dpdk/handlers/main.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/tasks/main.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/README.md', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/default/playbook.yml', 'tripleo_ansible/ansible_plugins/filter/cpu_mask.py', 'tripleo_ansible/roles/tripleo-ovs-dpdk/meta/main.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/defaults/main.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/vars/main.yml', 'tripleo_ansible/roles/tripleo-ovs-dpdk/molecule/default/prepare.yml']",13,1c66714e69636d481845bafdae8a51806a0d4db6,ovs_dpdk,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Prepare hosts: all roles: - role: test_deps ",,419,0
openstack%2Ftripleo-ansible~master~I19367830a00d6e00aaeba40ca98a3cf5d1667bd8,openstack/tripleo-ansible,master,I19367830a00d6e00aaeba40ca98a3cf5d1667bd8,Improving ReaR configuration parameters (exclusion path and networking changes),MERGED,2019-09-06 15:50:17.000000000,2019-09-15 08:59:11.000000000,2019-09-15 08:59:11.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 17499}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-06 15:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/40c1ba245dcedff124e99a926a10ab698e64e1a7', 'message': 'Exclude the MySQL folder when backing up the control plane\n\nWhen doing the backups we only need the MySQL data from\nthe bootstrap node, the other 2 nodes should sync\nwith the data from the first one.\n\nChange-Id: I19367830a00d6e00aaeba40ca98a3cf5d1667bd8\n'}, {'number': 2, 'created': '2019-09-06 16:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4b65f2e4eba14b6edccb0085b85bafe9dcb5b711', 'message': 'Exclude the MySQL folder when backing up the control plane\n\nWhen doing the backups we only need the MySQL data from\nthe bootstrap node, the other 2 nodes should sync\nwith the data from the first one.\n\nChange-Id: I19367830a00d6e00aaeba40ca98a3cf5d1667bd8\n'}, {'number': 3, 'created': '2019-09-09 14:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fbb8a5ccfc702e86e488f2bad2bd53d529294627', 'message': 'Exclude the MySQL folder when backing up the control plane\n\nWhen doing the backups we only need the MySQL data from\nthe bootstrap node, the other 2 nodes should sync\nwith the data from the first one.\n\nChange-Id: I19367830a00d6e00aaeba40ca98a3cf5d1667bd8\n'}, {'number': 4, 'created': '2019-09-09 15:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/46a7056b7e8bb8bddadd74c03b9f6bec86493edb', 'message': 'Exclude the MySQL folder when backing up the control plane\n\nWhen doing the backups we only need the MySQL data from\nthe bootstrap node, the other 2 nodes should sync\nwith the data from the first one.\n\nChange-Id: I19367830a00d6e00aaeba40ca98a3cf5d1667bd8\n'}, {'number': 5, 'created': '2019-09-09 15:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f4c1e3dec36f87d9de1adbf7191f2f18c7f05954', 'message': 'Exclude the MySQL folder when backing up the control plane\n\nWhen doing the backups we only need the MySQL data from\nthe bootstrap node, the other 2 nodes should sync\nwith the data from the first one.\n\nChange-Id: I19367830a00d6e00aaeba40ca98a3cf5d1667bd8\n'}, {'number': 6, 'created': '2019-09-09 18:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2edc4f95cfd9ee0344e1e1ea5930963671c2fe9c', 'message': 'Exclude the MySQL folder when backing up the control plane\n\nWhen doing the backups we only need the MySQL data from\nthe bootstrap node, the other 2 nodes should sync\nwith the data from the first one.\n\nChange-Id: I19367830a00d6e00aaeba40ca98a3cf5d1667bd8\n'}, {'number': 7, 'created': '2019-09-10 08:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d0d257a4378c7bfda4ea91a641e1914b07003a49', 'message': 'Exclude the MySQL folder when backing up the control plane\n\nWhen doing the backups we only need the MySQL data from\nthe bootstrap node, the other 2 nodes should sync\nwith the data from the first one.\n\nChange-Id: I19367830a00d6e00aaeba40ca98a3cf5d1667bd8\n'}, {'number': 8, 'created': '2019-09-10 11:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9e71ebde67785159bd6d491b8628a97fe78cb2d9', 'message': 'Exclude the MySQL folder when backing up the control plane\n\nWhen doing the backups we only need the MySQL data from\nthe bootstrap node, the other 2 nodes should sync\nwith the data from the first one.\n\nChange-Id: I19367830a00d6e00aaeba40ca98a3cf5d1667bd8\n'}, {'number': 9, 'created': '2019-09-10 11:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c1cefe5203447597a9976da06014099cb5362b59', 'message': 'Exclude the MySQL folder when backing up the control plane\n\nWhen doing the backups we only need the MySQL data from\nthe bootstrap node, the other 2 nodes should sync\nwith the data from the first one.\n\nChange-Id: I19367830a00d6e00aaeba40ca98a3cf5d1667bd8\n'}, {'number': 10, 'created': '2019-09-12 08:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/881cbd938616a3ad8801238deffc7c1dc77ef964', 'message': 'Exclude the MySQL folder when backing up the control plane\n\nWhen doing the backups we only need the MySQL data from\nthe bootstrap node, the other 2 nodes should sync\nwith the data from the first one.\n\nChange-Id: I19367830a00d6e00aaeba40ca98a3cf5d1667bd8\n'}, {'number': 11, 'created': '2019-09-12 09:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2605a12f86e435fcc4baa06a2abd7eba9c2a3b78', 'message': 'Exclude the MySQL folder when backing up the control plane\n\nWhen doing the backups we only need the MySQL data from\nthe bootstrap node, the other 2 nodes should sync\nwith the data from the first one.\n\nChange-Id: I19367830a00d6e00aaeba40ca98a3cf5d1667bd8\n'}, {'number': 12, 'created': '2019-09-12 10:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/581dc1a552cca3f10951a2e3ec6d1b212507025f', 'message': 'Exclude the MySQL folder when backing up the control plane\n\nWhen doing the backups we only need the MySQL data from\nthe bootstrap node, the other 2 nodes should sync\nwith the data from the first one.\n\nChange-Id: I19367830a00d6e00aaeba40ca98a3cf5d1667bd8\n'}, {'number': 13, 'created': '2019-09-12 12:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ee18cf6d7c0894a570db402a1de53e54ffae9cae', 'message': 'Exclude the MySQL folder when backing up the control plane\n\nWhen doing the backups we only need the MySQL data from\nthe bootstrap node, the other 2 nodes should sync\nwith the data from the first one.\n\nChange-Id: I19367830a00d6e00aaeba40ca98a3cf5d1667bd8\n'}, {'number': 14, 'created': '2019-09-12 13:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d530a1745a37e7548a39c4ba55e5e9cf68a67eb8', 'message': 'Exclude the MySQL folder when backing up the control plane\n\nWhen doing the backups we only need the MySQL data from\nthe bootstrap node, the other 2 nodes should sync\nwith the data from the first one.\n\nChange-Id: I19367830a00d6e00aaeba40ca98a3cf5d1667bd8\n'}, {'number': 15, 'created': '2019-09-12 13:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1eadfc2d6c00cbf719ca322c02222fc8095337da', 'message': 'Exclude the MySQL folder when backing up the control plane\n\nWhen doing the backups we only need the MySQL data from\nthe bootstrap node, the other 2 nodes should sync\nwith the data from the first one.\n\nChange-Id: I19367830a00d6e00aaeba40ca98a3cf5d1667bd8\n'}, {'number': 16, 'created': '2019-09-12 13:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a0b8fa428812c87e7eddd3b660fe14f3006e86d6', 'message': 'Exclude the MySQL folder when backing up the control plane\n\nWhen doing the backups we only need the MySQL data from\nthe bootstrap node, the other 2 nodes should sync\nwith the data from the first one.\n\nChange-Id: I19367830a00d6e00aaeba40ca98a3cf5d1667bd8\n'}, {'number': 17, 'created': '2019-09-12 14:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3c42680c26ae72a167a02aa332a68f8ddf31a34e', 'message': 'Exclude the specific folders when backing up the control plane\n\nWhen doing the backups we only need the MySQL data from\nthe bootstrap node, the other 2 nodes should sync\nwith the data from the first one.\n\nAlso, we allow to skip folders from the compute nodes.\n\nChange-Id: I19367830a00d6e00aaeba40ca98a3cf5d1667bd8\n'}, {'number': 18, 'created': '2019-09-12 14:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/164312c9753a1a313785e8c1c0bce542607e76bd', 'message': 'Exclude the specific folders when backing up the control plane\n\nWhen doing the backups we only need the MySQL data from\nthe bootstrap node, the other 2 nodes should sync\nwith the data from the first one.\n\nAlso, we allow to skip folders from the compute nodes.\n\nChange-Id: I19367830a00d6e00aaeba40ca98a3cf5d1667bd8\n'}, {'number': 19, 'created': '2019-09-12 14:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c63034d6fa0a7c1db243152fe122537178137d86', 'message': 'Exclude the specific folders when backing up the control plane\n\nWhen doing the backups we only need the MySQL data from\nthe bootstrap node, the other 2 nodes should sync\nwith the data from the first one.\n\nAlso, we allow to skip folders from the compute nodes.\n\nCo-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>\n\nChange-Id: I19367830a00d6e00aaeba40ca98a3cf5d1667bd8\n'}, {'number': 20, 'created': '2019-09-12 15:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/983b808c0bbd1c44ab55efad8cd9d097bf25937b', 'message': 'Exclude the specific folders when backing up the control plane\n\nWhen doing the backups we only need the MySQL data from\nthe bootstrap node, the other 2 nodes should sync\nwith the data from the first one.\n\nAlso, we allow to skip folders from the compute nodes.\n\nCo-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>\n\nChange-Id: I19367830a00d6e00aaeba40ca98a3cf5d1667bd8\n'}, {'number': 21, 'created': '2019-09-13 08:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7869cad7287ea54618c5180a34c7cadf09aa0cac', 'message': ""Improving ReaR configuration parameters (exclusion path and networking changes)\n\nThis review provides several improvements to the\nReaR configuration using the backup-and-restore role.\n\nWe allow to:\n - Define the ReaR configuration variable\n   BACKUP_PROG_EXCLUDE depending on the role we want to\n   backup. If it's a controller node, then, we only\n   backup the mysql folder from the bootstrap_nodeid.\n   If it's a compute node, then we skip the folder in which\n   the VM instances are stored. Also we provide a common\n   variable if other paths are needed to be excluded common across\n   all the nodes.\n\n - We configure the iso creation as automatic, so, when we do the\n   restore the default option will be to try the automated restore.\n   (with a 30 sec timeout if you need to choose other option).\n\n - We allow to configure the variable NETWORKING_PREPARATION_COMMANDS\n   in case we need to run any networking command in the nodes just\n   before the restore. For example, adding a new hosts entry in each node.\n\nAll the previous options values are customizable based on the role\ndefaults variables.\n\nCo-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>\n\nChange-Id: I19367830a00d6e00aaeba40ca98a3cf5d1667bd8\n""}, {'number': 22, 'created': '2019-09-13 10:46:05.000000000', 'files': ['tripleo_ansible/roles/backup-and-restore/templates/local.conf.j2', 'tripleo_ansible/roles/backup-and-restore/molecule/default/prepare.yml', 'tripleo_ansible/roles/backup-and-restore/defaults/main.yml', 'tripleo_ansible/roles/backup-and-restore/setup_rear/tasks/main.yml', 'tripleo_ansible/roles/backup-and-restore/molecule/default/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/34721617e431e6d6f4044336cdd20a0f28770c2f', 'message': ""Improving ReaR configuration parameters (exclusion path and networking changes)\n\nThis review provides several improvements to the\nReaR configuration using the backup-and-restore role.\n\nWe allow to:\n - Define the ReaR configuration variable\n   BACKUP_PROG_EXCLUDE depending on the role we want to\n   backup. If it's a controller node, then, we only\n   backup the mysql folder from the bootstrap_nodeid.\n   If it's a compute node, then we skip the folder in which\n   the VM instances are stored. Also we provide a common\n   variable if other paths are needed to be excluded common across\n   all the nodes.\n\n - We configure the iso creation as automatic, so, when we do the\n   restore the default option will be to try the automated restore.\n   (with a 30 sec timeout if you need to choose other option).\n\n - We allow to configure the variable NETWORKING_PREPARATION_COMMANDS\n   in case we need to run any networking command in the nodes just\n   before the restore. For example, adding a new hosts entry in each node.\n\nAll the previous options values are customizable based on the role\ndefaults variables.\n\nCo-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>\n\nChange-Id: I19367830a00d6e00aaeba40ca98a3cf5d1667bd8\n""}]",4,680735,34721617e431e6d6f4044336cdd20a0f28770c2f,62,11,22,20775,,,0,"Improving ReaR configuration parameters (exclusion path and networking changes)

This review provides several improvements to the
ReaR configuration using the backup-and-restore role.

We allow to:
 - Define the ReaR configuration variable
   BACKUP_PROG_EXCLUDE depending on the role we want to
   backup. If it's a controller node, then, we only
   backup the mysql folder from the bootstrap_nodeid.
   If it's a compute node, then we skip the folder in which
   the VM instances are stored. Also we provide a common
   variable if other paths are needed to be excluded common across
   all the nodes.

 - We configure the iso creation as automatic, so, when we do the
   restore the default option will be to try the automated restore.
   (with a 30 sec timeout if you need to choose other option).

 - We allow to configure the variable NETWORKING_PREPARATION_COMMANDS
   in case we need to run any networking command in the nodes just
   before the restore. For example, adding a new hosts entry in each node.

All the previous options values are customizable based on the role
defaults variables.

Co-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>

Change-Id: I19367830a00d6e00aaeba40ca98a3cf5d1667bd8
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/35/680735/11 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup-and-restore/templates/local.conf.j2', 'tripleo_ansible/roles/backup-and-restore/molecule/default/prepare.yml', 'tripleo_ansible/roles/backup-and-restore/setup_rear/tasks/main.yml']",3,40c1ba245dcedff124e99a926a10ab698e64e1a7,backup-and-restore,- name: Get bootstrap_nodeid become: true command: 'hiera -c /etc/puppet/hiera.yaml bootstrap_nodeid' register: tripleo_backup_and_restore_bootstrap_nodeid tags: - bar_setup_rear ,,9,1
openstack%2Frequirements~master~I64201cefca349f02f3277068d0872f0dc9a42e1f,openstack/requirements,master,I64201cefca349f02f3277068d0872f0dc9a42e1f,update constraint for python-monascaclient to new release 1.16.0,MERGED,2019-09-13 16:18:29.000000000,2019-09-15 08:09:36.000000000,2019-09-15 08:07:48.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-13 16:18:29.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/360425ec345f749307c4c88eec60600e041c19fb', 'message': 'update constraint for python-monascaclient to new release 1.16.0\n\nChange-Id: I64201cefca349f02f3277068d0872f0dc9a42e1f\nmeta:version: 1.16.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Commit: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Change-Id: I2f31d7acd7af3f5af656a04e7a7240b1481ff80f\nmeta:release:Code-Review+1: Witold Bedyk <witold.bedyk@suse.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Andriy Shevchenko <huang.zhiping@99cloud.net>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,682101,360425ec345f749307c4c88eec60600e041c19fb,10,2,1,11131,,,0,"update constraint for python-monascaclient to new release 1.16.0

Change-Id: I64201cefca349f02f3277068d0872f0dc9a42e1f
meta:version: 1.16.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Commit: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Change-Id: I2f31d7acd7af3f5af656a04e7a7240b1481ff80f
meta:release:Code-Review+1: Witold Bedyk <witold.bedyk@suse.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Andriy Shevchenko <huang.zhiping@99cloud.net>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/01/682101/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,360425ec345f749307c4c88eec60600e041c19fb,new-release,python-monascaclient===1.16.0,python-monascaclient===1.15.0,1,1
openstack%2Frequirements~master~I0e132e34ca481d62baec21fa4408ba5b12853677,openstack/requirements,master,I0e132e34ca481d62baec21fa4408ba5b12853677,update constraint for python-glanceclient to new release 2.17.0,MERGED,2019-09-13 15:13:04.000000000,2019-09-15 08:00:40.000000000,2019-09-15 07:56:38.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-13 15:13:04.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1086b4174b057f11a9030e03fd9a129dcf8efdb6', 'message': 'update constraint for python-glanceclient to new release 2.17.0\n\nChange-Id: I0e132e34ca481d62baec21fa4408ba5b12853677\nmeta:version: 2.17.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Thierry Carrez <thierry@openstack.org>\nmeta:release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta:release:Change-Id: Ic623c506ac514d16ef876654db90c1303b4e3935\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,682084,1086b4174b057f11a9030e03fd9a129dcf8efdb6,10,2,1,11131,,,0,"update constraint for python-glanceclient to new release 2.17.0

Change-Id: I0e132e34ca481d62baec21fa4408ba5b12853677
meta:version: 2.17.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Thierry Carrez <thierry@openstack.org>
meta:release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta:release:Change-Id: Ic623c506ac514d16ef876654db90c1303b4e3935
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/84/682084/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1086b4174b057f11a9030e03fd9a129dcf8efdb6,new-release,python-glanceclient===2.17.0,python-glanceclient===2.16.0,1,1
openstack%2Frequirements~master~I8f432aae04809576d7c1fddc180f30c643394cd8,openstack/requirements,master,I8f432aae04809576d7c1fddc180f30c643394cd8,update constraint for python-congressclient to new release 1.13.0,MERGED,2019-09-13 15:07:48.000000000,2019-09-15 07:58:30.000000000,2019-09-15 07:56:36.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-13 15:07:48.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9a35a3dd1cf6af8ac5014ecbed8f8d40cd236eb6', 'message': 'update constraint for python-congressclient to new release 1.13.0\n\nChange-Id: I8f432aae04809576d7c1fddc180f30c643394cd8\nmeta:version: 1.13.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Eric K <ekcs.openstack@gmail.com>\nmeta:release:Commit: Eric K <ekcs.openstack@gmail.com>\nmeta:release:Change-Id: Ic504e8715e81f8ac2fb70fb79ebf4e36886219b5\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,682078,9a35a3dd1cf6af8ac5014ecbed8f8d40cd236eb6,10,2,1,11131,,,0,"update constraint for python-congressclient to new release 1.13.0

Change-Id: I8f432aae04809576d7c1fddc180f30c643394cd8
meta:version: 1.13.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Eric K <ekcs.openstack@gmail.com>
meta:release:Commit: Eric K <ekcs.openstack@gmail.com>
meta:release:Change-Id: Ic504e8715e81f8ac2fb70fb79ebf4e36886219b5
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/78/682078/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9a35a3dd1cf6af8ac5014ecbed8f8d40cd236eb6,new-release,python-congressclient===1.13.0,python-congressclient===1.12.0,1,1
openstack%2Fmistral~master~I5a1d402baa3f69c37f9347c8b3d02a83b8f60423,openstack/mistral,master,I5a1d402baa3f69c37f9347c8b3d02a83b8f60423,moved generic util functions from mistral to mistral-lib,MERGED,2019-08-14 09:04:27.000000000,2019-09-15 07:41:04.000000000,2019-09-13 10:15:22.000000000,"[{'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 30755}]","[{'number': 1, 'created': '2019-08-14 09:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/c4e604029a65a82305082b1f137b3c426a88b625', 'message': 'moved generic util functions from mistral to mistral-lib\n\nChange-Id: I5a1d402baa3f69c37f9347c8b3d02a83b8f60423\nCloses-bug: #1815183\n'}, {'number': 2, 'created': '2019-08-18 07:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/bd7da5c48a042eb3274fd2523a6b284b482509f6', 'message': 'moved generic util functions from mistral to mistral-lib\n\nChange-Id: I5a1d402baa3f69c37f9347c8b3d02a83b8f60423\nCloses-bug: #1815183\nDepends-On: https://review.opendev.org/#/c/675086/\n'}, {'number': 3, 'created': '2019-08-19 11:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/8ee9f4070a7dd5b4822a50959cfb0d10b3d3310a', 'message': 'moved generic util functions from mistral to mistral-lib\n\nChange-Id: I5a1d402baa3f69c37f9347c8b3d02a83b8f60423\nCloses-bug: #1815183\nDepends-On: https://review.opendev.org/#/c/675086/\n'}, {'number': 4, 'created': '2019-08-19 12:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/92f5b7a2354bfe77cda9e0ac04beb1b1150231d2', 'message': 'moved generic util functions from mistral to mistral-lib\n\nChange-Id: I5a1d402baa3f69c37f9347c8b3d02a83b8f60423\nCloses-bug: #1815183\nDepends-On: https://review.opendev.org/#/c/675086/\n'}, {'number': 5, 'created': '2019-08-21 07:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/b82fa57fc7371795281e161bc1b36b9c62dc062f', 'message': 'moved generic util functions from mistral to mistral-lib\n\nDepends-On: https://review.opendev.org/#/c/675086/\nCloses-bug: #1815183\nChange-Id: I5a1d402baa3f69c37f9347c8b3d02a83b8f60423\n'}, {'number': 6, 'created': '2019-08-21 07:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/ede0f549bd10136fc4838de1611382e165e9202c', 'message': 'moved generic util functions from mistral to mistral-lib\n\nDepends-On: I780c270e4b1a184d7d4dcc580d23697ba75edab1\nCloses-bug: #1815183\nChange-Id: I5a1d402baa3f69c37f9347c8b3d02a83b8f60423\n'}, {'number': 7, 'created': '2019-08-22 12:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/adcee2a9053ae4aa5e8334abcb8ba860ee315607', 'message': 'moved generic util functions from mistral to mistral-lib\n\nDepends-On: I780c270e4b1a184d7d4dcc580d23697ba75edab1\nCloses-bug: #1815183\nChange-Id: I5a1d402baa3f69c37f9347c8b3d02a83b8f60423\n'}, {'number': 8, 'created': '2019-08-22 12:46:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/47b79ae0311c9060d5e7e447da72b0940acce758', 'message': 'moved generic util functions from mistral to mistral-lib\n\nDepends-On: I780c270e4b1a184d7d4dcc580d23697ba75edab1\nCloses-bug: #1815183\nChange-Id: I5a1d402baa3f69c37f9347c8b3d02a83b8f60423\n'}, {'number': 9, 'created': '2019-08-28 05:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/88e2d4cd959ec6130fade2f2636c90366bd4e0cc', 'message': 'moved generic util functions from mistral to mistral-lib\n\nDepends-On: I780c270e4b1a184d7d4dcc580d23697ba75edab1\nCloses-bug: #1815183\nChange-Id: I5a1d402baa3f69c37f9347c8b3d02a83b8f60423\n'}, {'number': 10, 'created': '2019-09-05 04:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4ee09719e7edef54ca5841b0d51a53a617bf80d5', 'message': 'moved generic util functions from mistral to mistral-lib\n\nDepends-On: I780c270e4b1a184d7d4dcc580d23697ba75edab1\nCloses-bug: #1815183\nChange-Id: I5a1d402baa3f69c37f9347c8b3d02a83b8f60423\n'}, {'number': 11, 'created': '2019-09-10 04:39:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/0df87cd296be0465bc34c917f770f6c493c27e12', 'message': 'moved generic util functions from mistral to mistral-lib\n\nDepends-On: I780c270e4b1a184d7d4dcc580d23697ba75edab1\nCloses-bug: #1815183\nChange-Id: I5a1d402baa3f69c37f9347c8b3d02a83b8f60423\n'}, {'number': 12, 'created': '2019-09-11 04:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/65e4c5da7966156a55be06607753ae48643e48d5', 'message': 'moved generic util functions from mistral to mistral-lib\n\nDepends-On: I780c270e4b1a184d7d4dcc580d23697ba75edab1\nCloses-bug: #1815183\nChange-Id: I5a1d402baa3f69c37f9347c8b3d02a83b8f60423\n'}, {'number': 13, 'created': '2019-09-11 08:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/6331e17ba7cbb4021cffa1b0daca850e097060ce', 'message': 'moved generic util functions from mistral to mistral-lib\n\nDepends-On: I780c270e4b1a184d7d4dcc580d23697ba75edab1\nCloses-bug: #1815183\nChange-Id: I5a1d402baa3f69c37f9347c8b3d02a83b8f60423\n'}, {'number': 14, 'created': '2019-09-13 04:06:27.000000000', 'files': ['mistral/tests/unit/expressions/test_jinja_expression.py', 'mistral/workflow/base.py', 'test-requirements.txt', 'mistral/tests/unit/api/v2/test_workflows.py', 'mistral/notifiers/notification_server.py', 'mistral/tests/unit/api/test_resource_base.py', 'mistral/tests/unit/db/v2/test_sqlalchemy_db_api.py', 'mistral/db/v2/sqlalchemy/models.py', 'mistral/tests/unit/engine/test_join.py', 'mistral/utils/__init__.py', 'mistral/engine/engine_server.py', 'mistral/lang/v2/workflows.py', 'mistral/api/controllers/v2/resources.py', 'mistral/utils/profiler.py', 'mistral/engine/post_tx_queue.py', 'mistral/executors/executor_server.py', 'mistral/tests/unit/services/test_action_service.py', 'mistral/tests/unit/api/v2/test_executions.py', 'mistral/tests/unit/lang/v2/base.py', 'mistral/tests/unit/services/test_workflow_service.py', 'mistral/rpc/kombu/kombu_client.py', 'mistral/services/action_manager.py', 'lower-constraints.txt', 'mistral/db/sqlalchemy/base.py', 'mistral/workflow/direct_workflow.py', 'mistral/services/workflows.py', 'mistral/workflow/data_flow.py', 'mistral/tests/unit/lang/v2/test_actions.py', 'mistral/lang/v2/actions.py', 'mistral/api/controllers/resource.py', 'mistral/api/controllers/v2/environment.py', 'mistral/services/action_execution_checker.py', 'mistral/tests/unit/lang/v2/test_workflows.py', 'mistral/tests/unit/services/test_trigger_service.py', 'mistral/utils/expression_utils.py', 'mistral/engine/workflows.py', 'mistral/tests/unit/db/v2/test_db_model.py', 'mistral/tests/unit/services/test_expiration_policy.py', 'mistral/lang/v2/tasks.py', 'requirements.txt', 'mistral/engine/actions.py', 'mistral/tests/unit/api/v2/test_actions.py', 'mistral/db/sqlalchemy/migration/alembic_migrations/versions/027_add_last_heartbeat_to_action_execution.py', 'mistral/tests/unit/test_coordination.py', 'mistral/api/controllers/v2/execution.py', 'mistral/db/sqlalchemy/model_base.py', 'mistral/db/v2/sqlalchemy/api.py', 'mistral/tests/unit/engine/test_with_items.py', 'mistral/engine/default_engine.py', 'mistral/tests/unit/rpc/kombu/test_kombu_listener.py', 'mistral/lang/base.py', 'mistral/expressions/yaql_expression.py', 'mistral/tests/unit/engine/test_cron_trigger.py', 'mistral/tests/unit/utils/test_utils.py', 'mistral/engine/utils.py', 'mistral/engine/tasks.py', 'mistral/context.py', 'mistral/tests/unit/expressions/test_yaql_expression.py', 'mistral/services/legacy_scheduler.py', 'mistral/scheduler/default_scheduler.py', 'mistral/tests/unit/lang/v2/test_tasks.py', 'mistral/service/coordination.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/7e7f1cb92b34b62b235c52e45fea187e466f40cb', 'message': 'moved generic util functions from mistral to mistral-lib\n\nDepends-On: I780c270e4b1a184d7d4dcc580d23697ba75edab1\nCloses-bug: #1815183\nChange-Id: I5a1d402baa3f69c37f9347c8b3d02a83b8f60423\n'}]",0,676373,7e7f1cb92b34b62b235c52e45fea187e466f40cb,68,5,14,30755,,,0,"moved generic util functions from mistral to mistral-lib

Depends-On: I780c270e4b1a184d7d4dcc580d23697ba75edab1
Closes-bug: #1815183
Change-Id: I5a1d402baa3f69c37f9347c8b3d02a83b8f60423
",git fetch https://review.opendev.org/openstack/mistral refs/changes/73/676373/8 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/expressions/test_jinja_expression.py', 'mistral/workflow/base.py', 'mistral/tests/unit/api/v2/test_workflows.py', 'mistral/notifiers/notification_server.py', 'mistral/tests/unit/api/test_resource_base.py', 'mistral/tests/unit/db/v2/test_sqlalchemy_db_api.py', 'mistral/db/v2/sqlalchemy/models.py', 'mistral/tests/unit/engine/test_join.py', 'mistral/utils/__init__.py', 'mistral/engine/engine_server.py', 'mistral/lang/v2/workflows.py', 'mistral/api/controllers/v2/resources.py', 'mistral/utils/profiler.py', 'mistral/engine/post_tx_queue.py', 'mistral/executors/executor_server.py', 'mistral/tests/unit/services/test_action_service.py', 'mistral/tests/unit/api/v2/test_executions.py', 'mistral/tests/unit/lang/v2/base.py', 'mistral/tests/unit/services/test_workflow_service.py', 'mistral/rpc/kombu/kombu_client.py', 'mistral/services/action_manager.py', 'mistral/db/sqlalchemy/base.py', 'mistral/workflow/direct_workflow.py', 'mistral/services/workflows.py', 'mistral/workflow/data_flow.py', 'mistral/tests/unit/lang/v2/test_actions.py', 'mistral/lang/v2/actions.py', 'mistral/api/controllers/resource.py', 'mistral/api/controllers/v2/environment.py', 'mistral/services/action_execution_checker.py', 'mistral/tests/unit/lang/v2/test_workflows.py', 'mistral/tests/unit/services/test_trigger_service.py', 'mistral/utils/expression_utils.py', 'mistral/engine/workflows.py', 'mistral/tests/unit/db/v2/test_db_model.py', 'mistral/tests/unit/services/test_expiration_policy.py', 'mistral/lang/v2/tasks.py', 'mistral/engine/actions.py', 'mistral/tests/unit/api/v2/test_actions.py', 'mistral/db/sqlalchemy/migration/alembic_migrations/versions/027_add_last_heartbeat_to_action_execution.py', 'mistral/api/controllers/v2/execution.py', 'mistral/db/sqlalchemy/model_base.py', 'mistral/db/v2/sqlalchemy/api.py', 'mistral/tests/unit/engine/test_with_items.py', 'mistral/engine/default_engine.py', 'mistral/tests/unit/rpc/kombu/test_kombu_listener.py', 'mistral/lang/base.py', 'mistral/expressions/yaql_expression.py', 'mistral/tests/unit/engine/test_cron_trigger.py', 'mistral/tests/unit/utils/test_utils.py', 'mistral/engine/utils.py', 'mistral/engine/tasks.py', 'mistral/context.py', 'mistral/tests/unit/expressions/test_yaql_expression.py', 'mistral/services/legacy_scheduler.py', 'mistral/scheduler/default_scheduler.py', 'mistral/tests/unit/lang/v2/test_tasks.py', 'mistral/service/coordination.py']",58,c4e604029a65a82305082b1f137b3c426a88b625,bug/1815183,from mistral_lib import utils,from mistral import utils,58,713
openstack%2Fnova~master~I59aec72e158eb2859bb6178b2a42d3f3438ab0f3,openstack/nova,master,I59aec72e158eb2859bb6178b2a42d3f3438ab0f3,Retrieve the allocations early,MERGED,2019-08-26 03:25:40.000000000,2019-09-15 07:39:57.000000000,2019-09-15 06:33:49.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23598}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-26 03:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ac2f010b99b54678a23e28878a50d5d352847d84', 'message': 'Retrive the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 2, 'created': '2019-08-26 06:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d961c154fde187893b9aecbd3af014bd68e3758e', 'message': 'Retrive the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 3, 'created': '2019-08-26 12:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59d4f1fa83c590fd3fd9dc671e9d855a4bbb5b0e', 'message': 'Retrive the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 4, 'created': '2019-08-27 09:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab122bfd1bff4e2b6e14fb6e665ee798ff619f5e', 'message': 'Retrive the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 5, 'created': '2019-08-28 05:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6be47a79b80b38038604675a491000675b4621c0', 'message': 'Retrive the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 6, 'created': '2019-08-30 09:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/10a99c556b776e43d4e12c0fb022778e7ff48038', 'message': 'Retrive the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 7, 'created': '2019-08-30 09:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0cc6e045cd84ed012347d9bba37ab8022b79303b', 'message': 'Retrive the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 8, 'created': '2019-08-30 10:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d32588136047d83bf8d1cbe764b06ba8de49caba', 'message': 'Retrive the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 9, 'created': '2019-09-02 07:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/748c420b57fb49657276654ce8bc3efe4d049ddd', 'message': 'Retrieve the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 10, 'created': '2019-09-02 13:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c69eb0e12fdbc4130ce62137dae9e85d0e367727', 'message': 'Retrieve the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 11, 'created': '2019-09-03 06:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1187e037f353f575f3d9f15d15686265b5ec7374', 'message': 'Retrieve the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 12, 'created': '2019-09-04 12:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3bed16804957c467e828fb243ba99d362b27963d', 'message': 'Retrieve the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 13, 'created': '2019-09-04 14:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/023cc12ee38511b4732b42f9dc90c79293924838', 'message': 'Retrieve the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 14, 'created': '2019-09-04 15:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d723841e2bd7128e164483d7bf5885862772127', 'message': 'Retrieve the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 15, 'created': '2019-09-04 15:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f00627183d9cce47f704fd4cec42398585a72ab', 'message': 'Retrieve the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 16, 'created': '2019-09-05 10:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b73e1733adb57887799f22056104473202e1cca6', 'message': 'Retrieve the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 17, 'created': '2019-09-05 11:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83f13d2c4bdfac3416d60b16917aa68c47803ae4', 'message': 'Retrieve the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 18, 'created': '2019-09-06 10:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c457af6b1f6d618681aa10e5b15e751455cb8cc', 'message': 'Retrieve the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 19, 'created': '2019-09-06 10:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/767ee8b9f35c39c8fd2fd3e860c98a68c6cdec30', 'message': 'Retrieve the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 20, 'created': '2019-09-09 05:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c56c8042a812e26ef5e7741f7e1358c3b89d9ae6', 'message': 'Retrieve the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 21, 'created': '2019-09-11 08:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3155ccf9fec10b5ed236e5257e566d6caf0e102', 'message': 'Retrieve the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 22, 'created': '2019-09-11 08:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90fda132a04adf5a9f89fd96bb7f54508cc2178d', 'message': 'Retrieve the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 23, 'created': '2019-09-11 10:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2bb91df071e0f0826563a315a9fc035277d6b3c4', 'message': 'Retrieve the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 24, 'created': '2019-09-11 18:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/da757df8789f3f5724c90c6b738929bed88eedb5', 'message': 'Retrieve the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 25, 'created': '2019-09-12 03:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8d430a0b49e2a0bb1ab9ce81b3080ec98d48fbbd', 'message': 'Retrieve the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 26, 'created': '2019-09-12 06:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d5a124b24d78aef9d04719b471edc185615a5349', 'message': 'Retrieve the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 27, 'created': '2019-09-12 07:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c33dbe45c7bd13f077e9f4711f0956e5cbd9a674', 'message': 'Retrieve the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 28, 'created': '2019-09-12 08:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/66f2e0b4f6827d5385b963ee3cc21fba9231bfff', 'message': 'Retrieve the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 29, 'created': '2019-09-13 08:55:20.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/faf7f33980ace6a1e63cfae7393b4655a6f48ba8', 'message': 'Retrieve the allocations early\n\nMoves the allocation retrieving early, it will be passed to\ninstance_claim/rebuild_claim/resize_claim in ResourceTracker,\nthen we can claim resources according to allocations.\n\nChange-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}]",38,678450,faf7f33980ace6a1e63cfae7393b4655a6f48ba8,264,16,29,23598,,,0,"Retrieve the allocations early

Moves the allocation retrieving early, it will be passed to
instance_claim/rebuild_claim/resize_claim in ResourceTracker,
then we can claim resources according to allocations.

Change-Id: I59aec72e158eb2859bb6178b2a42d3f3438ab0f3
Partially-Implements: blueprint virtual-persistent-memory
Co-Authored-By: He Jie Xu <hejie.xu@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/678450/18 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_shelve.py', 'nova/tests/functional/compute/test_resource_tracker.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/compute/resource_tracker.py']",7,ac2f010b99b54678a23e28878a50d5d352847d84,bp/virtual-persistent-memory," self.prov_tree = None def instance_claim(self, context, instance, nodename, allocations, limits=None): :param allocations: The placement allocation records for the instance. def rebuild_claim(self, context, instance, nodename, allocations, limits=None, image_meta=None, migration=None): migration, allocations, move_type='evacuation', migration, allocations, image_meta=None, limits=None): migration, allocations, image_meta=image_meta, migration, allocations, move_type=None, image_meta=None, limits=None): :parma allocations: the placement allocation records."," def instance_claim(self, context, instance, nodename, limits=None): def rebuild_claim(self, context, instance, nodename, limits=None, image_meta=None, migration=None): migration, move_type='evacuation', migration, image_meta=None, limits=None): migration, image_meta=image_meta, migration, move_type=None, image_meta=None, limits=None):",110,94
openstack%2Fkeystone~master~I8a03223df63877a4f86fbe7e9fa382fdd96c5934,openstack/keystone,master,I8a03223df63877a4f86fbe7e9fa382fdd96c5934,Update API version for access rules,MERGED,2019-07-18 00:13:05.000000000,2019-09-15 06:38:33.000000000,2019-09-15 06:33:31.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-07-18 00:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/96b0d85cd2e6fff92de37be7c83f3552e80fa4de', 'message': 'Update API version for access rules\n\nThis change updates the minor API version for the new access rules\nfeature for application credentials, and also adds documentation for\nthe new feature to the API reference as well as a release note.\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I8a03223df63877a4f86fbe7e9fa382fdd96c5934\n'}, {'number': 2, 'created': '2019-07-27 00:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/792134cfe34f0e91bd4a57c9b2e985b84b359afb', 'message': 'Update API version for access rules\n\nThis change updates the minor API version for the new access rules\nfeature for application credentials, and also adds documentation for\nthe new feature to the API reference as well as a release note.\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I8a03223df63877a4f86fbe7e9fa382fdd96c5934\n'}, {'number': 3, 'created': '2019-08-01 19:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/28ea6d0d8fd11402b0bcf94f28032fdbafe8d0f3', 'message': 'Update API version for access rules\n\nThis change updates the minor API version for the new access rules\nfeature for application credentials, and also adds documentation for\nthe new feature to the API reference as well as a release note.\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I8a03223df63877a4f86fbe7e9fa382fdd96c5934\n'}, {'number': 4, 'created': '2019-08-09 18:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8aab5f75aec82dd546e64ba07748210bdfae2172', 'message': 'Update API version for access rules\n\nThis change updates the minor API version for the new access rules\nfeature for application credentials, and also adds documentation for\nthe new feature to the API reference as well as a release note.\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I8a03223df63877a4f86fbe7e9fa382fdd96c5934\n'}, {'number': 5, 'created': '2019-08-21 16:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d4d6d476b4a8ca1e4a053891270d3ef8e7ad7b03', 'message': 'Update API version for access rules\n\nThis change updates the minor API version for the new access rules\nfeature for application credentials, and also adds documentation for\nthe new feature to the API reference as well as a release note.\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I8a03223df63877a4f86fbe7e9fa382fdd96c5934\n'}, {'number': 6, 'created': '2019-09-07 00:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c0eea1da431af21c69350c0565765838a4543f8c', 'message': 'Update API version for access rules\n\nThis change updates the minor API version for the new access rules\nfeature for application credentials, and also adds documentation for\nthe new feature to the API reference as well as a release note.\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I8a03223df63877a4f86fbe7e9fa382fdd96c5934\n'}, {'number': 7, 'created': '2019-09-11 05:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f23f435fb60a6a20866ed6d9bf0965574797ebc0', 'message': 'Update API version for access rules\n\nThis change updates the minor API version for the new access rules\nfeature for application credentials, and also adds documentation for\nthe new feature to the API reference as well as a release note.\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I8a03223df63877a4f86fbe7e9fa382fdd96c5934\n'}, {'number': 8, 'created': '2019-09-13 16:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/43601ed6506267413837ffb21874265e56d503cf', 'message': 'Update API version for access rules\n\nThis change updates the minor API version for the new access rules\nfeature for application credentials, and also adds documentation for\nthe new feature to the API reference as well as a release note.\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I8a03223df63877a4f86fbe7e9fa382fdd96c5934\n'}, {'number': 9, 'created': '2019-09-14 10:15:15.000000000', 'files': ['api-ref/source/v3/application-credentials.inc', 'api-ref/source/v3/index.rst', 'releasenotes/notes/bp-whitelist-extension-for-app-creds-90e5bcd7b2b78b02.yaml', 'api-ref/source/v3/samples/admin/application-credential-create-response.json', 'api-ref/source/v3/samples/admin/access-rule-get-response.json', 'keystone/tests/unit/test_versions.py', 'api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/samples/admin/application-credential-create-request.json', 'keystone/api/discovery.py', 'api-ref/source/v3/samples/admin/application-credential-get-response.json', 'api-ref/source/v3/samples/admin/access-rules-list-response.json', 'keystone/version.py', 'api-ref/source/v3/samples/admin/application-credential-list-response.json'], 'web_link': 'https://opendev.org/openstack/keystone/commit/131f7ddd4e671018743c7bffbb45dd83153a5366', 'message': 'Update API version for access rules\n\nThis change updates the minor API version for the new access rules\nfeature for application credentials, and also adds documentation for\nthe new feature to the API reference as well as a release note.\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I8a03223df63877a4f86fbe7e9fa382fdd96c5934\n'}]",8,671374,131f7ddd4e671018743c7bffbb45dd83153a5366,56,6,9,8482,,,0,"Update API version for access rules

This change updates the minor API version for the new access rules
feature for application credentials, and also adds documentation for
the new feature to the API reference as well as a release note.

bp whitelist-extension-for-app-creds

Change-Id: I8a03223df63877a4f86fbe7e9fa382fdd96c5934
",git fetch https://review.opendev.org/openstack/keystone refs/changes/74/671374/8 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/application-credentials.inc', 'api-ref/source/v3/index.rst', 'releasenotes/notes/bp-whitelist-extension-for-app-creds-90e5bcd7b2b78b02.yaml', 'api-ref/source/v3/samples/admin/application-credential-create-response.json', 'api-ref/source/v3/samples/admin/access-rule-get-response.json', 'keystone/tests/unit/test_versions.py', 'api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/samples/admin/application-credential-create-request.json', 'keystone/api/discovery.py', 'api-ref/source/v3/samples/admin/application-credential-get-response.json', 'api-ref/source/v3/samples/admin/access-rules-list-response.json', 'keystone/version.py', 'api-ref/source/v3/samples/admin/application-credential-list-response.json']",13,96b0d85cd2e6fff92de37be7c83f3552e80fa4de,bp/whitelist-extension-for-app-creds," ""access_rules"": [ ], ""access_rules"": [ { ""path"": ""/v2.0/metrics"", ""id"": ""07d719df00f349ef8de77d542edf010c"", ""service"": ""monitoring"", ""method"": ""GET"" } ],",,372,5
openstack%2Fkeystone~master~I37d243d802cd538189ccfffee6ebf0624b7785d3,openstack/keystone,master,I37d243d802cd538189ccfffee6ebf0624b7785d3,Expose access rules as its own API,MERGED,2019-06-28 19:49:01.000000000,2019-09-15 06:37:09.000000000,2019-09-15 06:33:22.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 6547}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-06-28 19:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ad493dec8a89357ee0c29ecff7b39f6bda838400', 'message': 'Expose access rules as its own API\n\nThis change creates a /v3/users/{user_id}/access_rules endpoint to allow\nusers to view and delete their own access rules. Access rules are not\nautomatically deleted when an application credential is deleted, so they\ncan be re-used for other application credentials or explicitly deleted\nby the user. Access rules are automatically deleted when the user is\ndeleted, the same way that application credentials are.\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I37d243d802cd538189ccfffee6ebf0624b7785d3\n'}, {'number': 2, 'created': '2019-07-01 23:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5bea7e9910fb7d77c0ead13b9a9e1f31d706c7ff', 'message': 'Expose access rules as its own API\n\nThis change creates a /v3/users/{user_id}/access_rules endpoint to allow\nusers to view and delete their own access rules. Access rules are not\nautomatically deleted when an application credential is deleted, so they\ncan be re-used for other application credentials or explicitly deleted\nby the user. Access rules are automatically deleted when the user is\ndeleted, the same way that application credentials are.\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I37d243d802cd538189ccfffee6ebf0624b7785d3\n'}, {'number': 3, 'created': '2019-07-05 19:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/39ba14f1b7546b8cf4c39d37590c113bb4a7a147', 'message': 'Expose access rules as its own API\n\nThis change creates a /v3/users/{user_id}/access_rules endpoint to allow\nusers to view and delete their own access rules. Access rules are not\nautomatically deleted when an application credential is deleted, so they\ncan be re-used for other application credentials or explicitly deleted\nby the user. Access rules are automatically deleted when the user is\ndeleted, the same way that application credentials are.\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I37d243d802cd538189ccfffee6ebf0624b7785d3\n'}, {'number': 4, 'created': '2019-08-01 19:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/05b090d7c7c1362ae294a48671e08475001edce0', 'message': 'Expose access rules as its own API\n\nThis change creates a /v3/users/{user_id}/access_rules endpoint to allow\nusers to view and delete their own access rules. Access rules are not\nautomatically deleted when an application credential is deleted, so they\ncan be re-used for other application credentials or explicitly deleted\nby the user. Access rules are automatically deleted when the user is\ndeleted, the same way that application credentials are.\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I37d243d802cd538189ccfffee6ebf0624b7785d3\n'}, {'number': 5, 'created': '2019-08-09 18:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c94ce9d21a31d38c05c3cf402a2b26601d269fcb', 'message': 'Expose access rules as its own API\n\nThis change creates a /v3/users/{user_id}/access_rules endpoint to allow\nusers to view and delete their own access rules. Access rules are not\nautomatically deleted when an application credential is deleted, so they\ncan be re-used for other application credentials or explicitly deleted\nby the user. Access rules are automatically deleted when the user is\ndeleted, the same way that application credentials are.\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I37d243d802cd538189ccfffee6ebf0624b7785d3\n'}, {'number': 6, 'created': '2019-08-21 16:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/00ff97937baa0be90799d59e674e13c33c82e240', 'message': 'Expose access rules as its own API\n\nThis change creates a /v3/users/{user_id}/access_rules endpoint to allow\nusers to view and delete their own access rules. Access rules are not\nautomatically deleted when an application credential is deleted, so they\ncan be re-used for other application credentials or explicitly deleted\nby the user. Access rules are automatically deleted when the user is\ndeleted, the same way that application credentials are.\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I37d243d802cd538189ccfffee6ebf0624b7785d3\n'}, {'number': 7, 'created': '2019-08-21 23:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/83bb81b7d9cf30e4e70e0a6a378ccb1fb51acf16', 'message': 'Expose access rules as its own API\n\nThis change creates a /v3/users/{user_id}/access_rules endpoint to allow\nusers to view and delete their own access rules. Access rules are not\nautomatically deleted when an application credential is deleted, so they\ncan be re-used for other application credentials or explicitly deleted\nby the user. Access rules are automatically deleted when the user is\ndeleted, the same way that application credentials are. Access rules\nthat are in use by an application credential may not be deleted.\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I37d243d802cd538189ccfffee6ebf0624b7785d3\n'}, {'number': 8, 'created': '2019-08-22 15:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8e0d08bb741f40ad43e978739ef7c80b199683f4', 'message': 'Expose access rules as its own API\n\nThis change creates a /v3/users/{user_id}/access_rules endpoint to allow\nusers to view and delete their own access rules. Access rules are not\nautomatically deleted when an application credential is deleted, so they\ncan be re-used for other application credentials or explicitly deleted\nby the user. Access rules are automatically deleted when the user is\ndeleted, the same way that application credentials are. Access rules\nthat are in use by an application credential may not be deleted.\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I37d243d802cd538189ccfffee6ebf0624b7785d3\n'}, {'number': 9, 'created': '2019-09-11 05:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5dd39a7761ca3ff259b725e1177d58d1bdc0067a', 'message': 'Expose access rules as its own API\n\nThis change creates a /v3/users/{user_id}/access_rules endpoint to allow\nusers to view and delete their own access rules. Access rules are not\nautomatically deleted when an application credential is deleted, so they\ncan be re-used for other application credentials or explicitly deleted\nby the user. Access rules are automatically deleted when the user is\ndeleted, the same way that application credentials are. Access rules\nthat are in use by an application credential may not be deleted.\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I37d243d802cd538189ccfffee6ebf0624b7785d3\n'}, {'number': 10, 'created': '2019-09-13 16:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d5c912a7e573b58ccd86c88bd8c6e64436cc4f7a', 'message': 'Expose access rules as its own API\n\nThis change creates a /v3/users/{user_id}/access_rules endpoint to allow\nusers to view and delete their own access rules. Access rules are not\nautomatically deleted when an application credential is deleted, so they\ncan be re-used for other application credentials or explicitly deleted\nby the user. Access rules are automatically deleted when the user is\ndeleted, the same way that application credentials are. Access rules\nthat are in use by an application credential may not be deleted.\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I37d243d802cd538189ccfffee6ebf0624b7785d3\n'}, {'number': 11, 'created': '2019-09-14 10:15:15.000000000', 'files': ['keystone/tests/unit/test_policy.py', 'keystone/common/policies/access_rule.py', 'keystone/tests/unit/test_versions.py', 'keystone/common/json_home.py', 'doc/source/getting-started/policy_mapping.rst', 'keystone/application_credential/backends/base.py', 'keystone/api/users.py', 'keystone/application_credential/backends/sql.py', 'keystone/tests/unit/protection/v3/test_access_rules.py', 'keystone/tests/unit/test_v3_application_credential.py', 'keystone/exception.py', 'keystone/application_credential/core.py', 'keystone/tests/unit/application_credential/test_backends.py', 'keystone/common/policies/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/67682dcd0793ee5efb4afb8ab5737eb468ef8577', 'message': 'Expose access rules as its own API\n\nThis change creates a /v3/users/{user_id}/access_rules endpoint to allow\nusers to view and delete their own access rules. Access rules are not\nautomatically deleted when an application credential is deleted, so they\ncan be re-used for other application credentials or explicitly deleted\nby the user. Access rules are automatically deleted when the user is\ndeleted, the same way that application credentials are. Access rules\nthat are in use by an application credential may not be deleted.\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I37d243d802cd538189ccfffee6ebf0624b7785d3\n'}]",13,668238,67682dcd0793ee5efb4afb8ab5737eb468ef8577,85,6,11,8482,,,0,"Expose access rules as its own API

This change creates a /v3/users/{user_id}/access_rules endpoint to allow
users to view and delete their own access rules. Access rules are not
automatically deleted when an application credential is deleted, so they
can be re-used for other application credentials or explicitly deleted
by the user. Access rules are automatically deleted when the user is
deleted, the same way that application credentials are. Access rules
that are in use by an application credential may not be deleted.

bp whitelist-extension-for-app-creds

Change-Id: I37d243d802cd538189ccfffee6ebf0624b7785d3
",git fetch https://review.opendev.org/openstack/keystone refs/changes/38/668238/11 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/json_home.py', 'keystone/application_credential/backends/base.py', 'keystone/api/users.py', 'keystone/application_credential/backends/sql.py', 'keystone/common/policies/access_rule.py', 'keystone/tests/unit/test_v3_application_credential.py', 'keystone/exception.py', 'keystone/application_credential/core.py', 'keystone/tests/unit/application_credential/test_backends.py', 'keystone/common/policies/__init__.py']",10,ad493dec8a89357ee0c29ecff7b39f6bda838400,bp/whitelist-extension-for-app-creds,"from keystone.common.policies import access_rule access_rule.list_rules(), application_credential.list_rules(),"," application_credential.list_rules(),",311,8
openstack%2Fkeystone~master~I301651369cf03e06550bc29eb534506674e56a1f,openstack/keystone,master,I301651369cf03e06550bc29eb534506674e56a1f,Add access rules to token validation,MERGED,2019-01-20 19:17:10.000000000,2019-09-15 06:33:27.000000000,2019-09-15 06:33:26.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-01-20 19:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3c5fab6c3b2ddab8f5b16e3ead24da9080c1057b', 'message': '[WIP] Add capabilities to token validation\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 2, 'created': '2019-01-26 22:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e8cf600beba95be2186ff14a0cb6afb5262c1b34', 'message': '[WIP] Add capabilities to token validation\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 3, 'created': '2019-01-29 22:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f626a40e59618b0f01cf2c83133ba497258bb4de', 'message': '[WIP] Add capabilities to token validation\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 4, 'created': '2019-01-30 21:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5f23a4cf5f5c9c3fece09cf67985a0c0914e4d74', 'message': '[WIP] Add capabilities to token validation\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 5, 'created': '2019-02-09 15:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d77d1b192f61cca9aaa34a627655436303033cc9', 'message': '[WIP] Add capabilities to token validation\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 6, 'created': '2019-02-09 20:46:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8255942ef4c153532317e580be49fbc7f5f28e47', 'message': '[WIP] Add capabilities to token validation\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 7, 'created': '2019-02-14 00:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f40dec45a3ec8186a3784e125bbf859042aee1fc', 'message': '[WIP] Add capabilities to token validation\n\nThis now includes support for the ""preventing regressions"" part of the\nspec[1].\n\n[1] http://specs.openstack.org/openstack/keystone-specs/specs/keystone/stein/capabilities-app-creds.html#preventing-regressions\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 8, 'created': '2019-02-14 21:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d140aa9f26c31eeb1182cfb9430a35d038b5aeb7', 'message': '[WIP] Add capabilities to token validation\n\nThis now includes support for the ""preventing regressions"" part of the\nspec[1].\n\n[1] http://specs.openstack.org/openstack/keystone-specs/specs/keystone/stein/capabilities-app-creds.html#preventing-regressions\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 9, 'created': '2019-02-17 22:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1ad4fc7b7320d1fe0bc3f0080fbd9ff60b19f429', 'message': 'Add capabilities to token validation\n\nThis change adds application credential capabilities to the token model\nand ensures that only clients (that is, keystonemiddleware) that support\ncapability enforcement are allowed to validate tokens containing\ncapabilities.\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 10, 'created': '2019-02-19 16:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6b5758c94c5b0f20d30c84c7365a513b8f34fda2', 'message': 'Add capabilities to token validation\n\nThis change adds application credential capabilities to the token model\nand ensures that only clients (that is, keystonemiddleware) that support\ncapability enforcement are allowed to validate tokens containing\ncapabilities.\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 11, 'created': '2019-02-24 23:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1f7e77e415156b8c800624b8d59d2a846b9f998a', 'message': 'Add access rules to token validation\n\nThis change adds application credential access rules to the token model\nand ensures that only clients (that is, keystonemiddleware) that support\naccess rule enforcement are allowed to validate tokens containing\naccess rules.\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 12, 'created': '2019-02-25 08:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/5bade1af7af09169dbd662de6bfc40b010f44fde', 'message': 'Add access rules to token validation\n\nThis change adds application credential access rules to the token model\nand ensures that only clients (that is, keystonemiddleware) that support\naccess rule enforcement are allowed to validate tokens containing\naccess rules.\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 13, 'created': '2019-02-25 08:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a785d9a1d23dd680382691471e6e1a8d3948b75a', 'message': 'Add access rules to token validation\n\nThis change adds application credential access rules to the token model\nand ensures that only clients (that is, keystonemiddleware) that support\naccess rule enforcement are allowed to validate tokens containing\naccess rules.\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 14, 'created': '2019-02-25 08:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f0b36d587420da4c7f1f7b720b6b3a0bbd8bb503', 'message': 'Add access rules to token validation\n\nThis change adds application credential access rules to the token model\nand ensures that only clients (that is, keystonemiddleware) that support\naccess rule enforcement are allowed to validate tokens containing\naccess rules.\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 15, 'created': '2019-02-25 08:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/147f8b82896c9be653b0fce9098dd0d1dd46dd7c', 'message': 'Add access rules to token validation\n\nThis change adds application credential access rules to the token model\nand ensures that only clients (that is, keystonemiddleware) that support\naccess rule enforcement are allowed to validate tokens containing\naccess rules.\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 16, 'created': '2019-02-25 11:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0ba54a2ef4cad062c68f4f26b29ef709438852a0', 'message': 'Add access rules to token validation\n\nThis change adds application credential access rules to the token model\nand ensures that only clients (that is, keystonemiddleware) that support\naccess rule enforcement are allowed to validate tokens containing\naccess rules.\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 17, 'created': '2019-02-25 14:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cebec135e1229962fb6a5088fb320e7918c8b0d3', 'message': 'Add access rules to token validation\n\nThis change adds application credential access rules to the token model\nand ensures that only clients (that is, keystonemiddleware) that support\naccess rule enforcement are allowed to validate tokens containing\naccess rules.\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 18, 'created': '2019-03-03 17:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/043eac8c5859af57aa91527a03c1351aa9954603', 'message': 'Add access rules to token validation\n\nThis change adds application credential access rules to the token model\nand ensures that only clients (that is, keystonemiddleware) that support\naccess rule enforcement are allowed to validate tokens containing\naccess rules.\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 19, 'created': '2019-03-04 08:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6b23640d0fac08a29c2ac334d27be97aa020740b', 'message': 'Add access rules to token validation\n\nThis change adds application credential access rules to the token model\nand ensures that only clients (that is, keystonemiddleware) that support\naccess rule enforcement are allowed to validate tokens containing\naccess rules.\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 20, 'created': '2019-06-11 23:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/be97a5b2327065615cc69ff7c757ba52c77bdc52', 'message': 'Add access rules to token validation\n\nThis change adds application credential access rules to the token model\nand ensures that only clients (that is, keystonemiddleware) that support\naccess rule enforcement are allowed to validate tokens containing\naccess rules.\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 21, 'created': '2019-06-27 21:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e5655b70dc133a56e30ab05a8fe6dc17a4186ba1', 'message': 'Add access rules to token validation\n\nThis change adds application credential access rules to the token model\nand ensures that only clients (that is, keystonemiddleware) that support\naccess rule enforcement are allowed to validate tokens containing\naccess rules.\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 22, 'created': '2019-06-28 19:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/14fb69216ba87d59299e83a1d45cdba69e5d6674', 'message': 'Add access rules to token validation\n\nThis change adds application credential access rules to the token model\nand ensures that only clients (that is, keystonemiddleware) that support\naccess rule enforcement are allowed to validate tokens containing\naccess rules.\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 23, 'created': '2019-07-01 23:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/081e2f6b6c9d00a8de48664799262316a5b31a67', 'message': 'Add access rules to token validation\n\nThis change adds application credential access rules to the token model\nand ensures that only clients (that is, keystonemiddleware) that support\naccess rule enforcement are allowed to validate tokens containing\naccess rules.\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 24, 'created': '2019-07-05 19:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6035357db9e798521a30b099099b587d6b1572db', 'message': 'Add access rules to token validation\n\nThis change adds application credential access rules to the token model\nand ensures that only clients (that is, keystonemiddleware) that support\naccess rule enforcement are allowed to validate tokens containing\naccess rules.\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 25, 'created': '2019-07-27 00:15:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/01f4b8e7262bbbfe63719a5fef0c2164c6b369fa', 'message': 'Add access rules to token validation\n\nThis change adds application credential access rules to the token model\nand ensures that only clients (that is, keystonemiddleware) that support\naccess rule enforcement are allowed to validate tokens containing\naccess rules.\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 26, 'created': '2019-08-01 19:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/01d17d72711c5f25807040787746bfb649e42f7c', 'message': 'Add access rules to token validation\n\nThis change adds application credential access rules to the token model\nand ensures that only clients (that is, keystonemiddleware) that support\naccess rule enforcement are allowed to validate tokens containing\naccess rules.\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 27, 'created': '2019-08-09 18:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c6dca04edcc69800973f5598c4f486b804a60934', 'message': 'Add access rules to token validation\n\nThis change adds application credential access rules to the token model\nand ensures that only clients (that is, keystonemiddleware) that support\naccess rule enforcement are allowed to validate tokens containing\naccess rules.\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 28, 'created': '2019-08-21 16:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a64eb58fa662771a51687dd2b940d909e8abf3e7', 'message': 'Add access rules to token validation\n\nThis change adds application credential access rules to the token model\nand ensures that only clients (that is, keystonemiddleware) that support\naccess rule enforcement are allowed to validate tokens containing\naccess rules.\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 29, 'created': '2019-09-07 00:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a7a0487acca50ba68d8cbe2fce76527b0cf58dfa', 'message': 'Add access rules to token validation\n\nThis change adds application credential access rules to the token model\nand ensures that only clients (that is, keystonemiddleware) that support\naccess rule enforcement are allowed to validate tokens containing\naccess rules.\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 30, 'created': '2019-09-11 05:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/95ad7178ea5389e5056b1035845a06ea1868853a', 'message': 'Add access rules to token validation\n\nThis change adds application credential access rules to the token model\nand ensures that only clients (that is, keystonemiddleware) that support\naccess rule enforcement are allowed to validate tokens containing\naccess rules.\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 31, 'created': '2019-09-13 16:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9efceca7519ac2b0bf960f0a80f8418429dd5dca', 'message': 'Add access rules to token validation\n\nThis change adds application credential access rules to the token model\nand ensures that only clients (that is, keystonemiddleware) that support\naccess rule enforcement are allowed to validate tokens containing\naccess rules.\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}, {'number': 32, 'created': '2019-09-14 10:15:15.000000000', 'files': ['keystone/token/provider.py', 'requirements.txt', 'keystone/server/flask/request_processing/middleware/auth_context.py', 'keystone/common/authorization.py', 'keystone/common/render_token.py', 'keystone/models/token_model.py', 'keystone/tests/unit/test_v3_auth.py', 'lower-constraints.txt', 'keystone/api/auth.py', 'keystone/common/rbac_enforcer/enforcer.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/049d9bcbe4121725aab593f9ba6dd9648e75d153', 'message': 'Add access rules to token validation\n\nThis change adds application credential access rules to the token model\nand ensures that only clients (that is, keystonemiddleware) that support\naccess rule enforcement are allowed to validate tokens containing\naccess rules.\n\nDepends-on: https://review.openstack.org/633369\n\nbp whitelist-extension-for-app-creds\n\nChange-Id: I301651369cf03e06550bc29eb534506674e56a1f\n'}]",5,631993,049d9bcbe4121725aab593f9ba6dd9648e75d153,83,6,32,8482,,,0,"Add access rules to token validation

This change adds application credential access rules to the token model
and ensures that only clients (that is, keystonemiddleware) that support
access rule enforcement are allowed to validate tokens containing
access rules.

Depends-on: https://review.openstack.org/633369

bp whitelist-extension-for-app-creds

Change-Id: I301651369cf03e06550bc29eb534506674e56a1f
",git fetch https://review.opendev.org/openstack/keystone refs/changes/93/631993/32 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/render_token.py'],1,3c5fab6c3b2ddab8f5b16e3ead24da9080c1057b,bp/whitelist-extension-for-app-creds, token_reference['token'][key]['capabilities'] = ( token.application_credential['capabilities'] ),,3,0
openstack%2Fnova~master~If37aaff1e3652692fd0750e98612f3b040019042,openstack/nova,master,If37aaff1e3652692fd0750e98612f3b040019042,Add resources dict into _Provider,MERGED,2019-08-26 03:25:40.000000000,2019-09-15 06:33:14.000000000,2019-09-15 06:33:14.000000000,"[{'_account_id': 5754}, {'_account_id': 6547}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23598}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-26 03:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6014946d144dbeb9bd405d9175252a9e5c5ed785', 'message': 'Add resources dict into _Provider\n\nAdd resources dict into _Provider, which is similar to inventory,\nand _Provider.resources will contain some resource details but not\nresource amount in inventory, which will be Resource objest list\nkeyed by resource class. We can populate this when update provider\ntree.\n\nChange-Id: If37aaff1e3652692fd0750e98612f3b040019042\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 2, 'created': '2019-08-26 06:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed0517078da5a10d007409869d2da38fcf8b1487', 'message': 'Add resources dict into _Provider\n\nAdd resources dict into _Provider, which is similar to inventory,\nand _Provider.resources will contain some resource details but not\nresource amount in inventory, which will be Resource objest list\nkeyed by resource class. We can populate this when update provider\ntree.\n\nChange-Id: If37aaff1e3652692fd0750e98612f3b040019042\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 3, 'created': '2019-08-26 12:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26aac258943a30a84b10e1968f3beb59686d829f', 'message': 'Add resources dict into _Provider\n\nAdd resources dict into _Provider, which is similar to inventory,\nand _Provider.resources will contain some resource details but not\nresource amount in inventory, which will be Resource objest list\nkeyed by resource class. We can populate this when update provider\ntree.\n\nChange-Id: If37aaff1e3652692fd0750e98612f3b040019042\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 4, 'created': '2019-08-27 09:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/418e6b5392a641799df4bf5802a66e1ff2303da8', 'message': 'Add resources dict into _Provider\n\nAdd resources dict into _Provider, which is similar to inventory,\nand _Provider.resources will contain some resource details but not\nresource amount in inventory, which will be Resource objest list\nkeyed by resource class. We can populate this when update provider\ntree.\n\nChange-Id: If37aaff1e3652692fd0750e98612f3b040019042\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 5, 'created': '2019-08-28 05:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8e3954221a3e0e2b0ec854bccbf0a15083cef96', 'message': 'Add resources dict into _Provider\n\nAdd resources dict into _Provider, which is similar to inventory,\nand _Provider.resources will contain some resource details but not\nresource amount in inventory, which will be Resource objest list\nkeyed by resource class. We can populate this when update provider\ntree.\n\nChange-Id: If37aaff1e3652692fd0750e98612f3b040019042\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 6, 'created': '2019-08-30 09:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fe501b4bd5ef137773528aef9210fc750262f6c', 'message': 'Add resources dict into _Provider\n\nAdd resources dict into _Provider, which is similar to inventory,\nand _Provider.resources will contain some resource details but not\nresource amount in inventory, which will be Resource objest list\nkeyed by resource class. We can populate this when update provider\ntree.\n\nChange-Id: If37aaff1e3652692fd0750e98612f3b040019042\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 7, 'created': '2019-08-30 10:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f964bdaf0d63c039816450a8f6dd51308d001cbf', 'message': 'Add resources dict into _Provider\n\nAdd resources dict into _Provider, which is similar to inventory,\nand _Provider.resources will contain some resource details but not\nresource amount in inventory, which will be Resource objest list\nkeyed by resource class. We can populate this when update provider\ntree.\n\nChange-Id: If37aaff1e3652692fd0750e98612f3b040019042\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 8, 'created': '2019-09-02 07:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e421638215bee05e10796d01f3224af896bb04df', 'message': 'Add resources dict into _Provider\n\nAdd resources dict into _Provider, which is similar to inventory,\nand _Provider.resources will contain some resource details but not\nresource amount in inventory, which will be Resource objest set\nkeyed by resource class. We can populate this from update provider\ntree.\n\nChange-Id: If37aaff1e3652692fd0750e98612f3b040019042\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 9, 'created': '2019-09-02 13:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b04f0367686a9605c13062cab90d59762065c555', 'message': 'Add resources dict into _Provider\n\nAdd resources dict into _Provider, which is similar to inventory,\nand _Provider.resources will contain some resource details but not\nresource amount in inventory, which will be Resource objest set\nkeyed by resource class. We can populate this from update provider\ntree.\n\nChange-Id: If37aaff1e3652692fd0750e98612f3b040019042\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 10, 'created': '2019-09-03 06:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25e26fa108f6c7ce5a29eb30ff49872c3be8f0c4', 'message': 'Add resources dict into _Provider\n\nAdd resources dict into _Provider, which is similar to inventory,\nand _Provider.resources will contain some resource details but not\nresource amount in inventory, which will be Resource objest set\nkeyed by resource class. We can populate this from update provider\ntree.\n\nChange-Id: If37aaff1e3652692fd0750e98612f3b040019042\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 11, 'created': '2019-09-04 12:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f440312ff2f9f464491f1963595501e01a0a4028', 'message': 'Add resources dict into _Provider\n\nAdd resources dict into _Provider, which is similar to inventory,\nand _Provider.resources will contain some resource details but not\nresource amount in inventory, which will be Resource objest set\nkeyed by resource class. We can populate this from update provider\ntree.\n\nChange-Id: If37aaff1e3652692fd0750e98612f3b040019042\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 12, 'created': '2019-09-04 14:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88fc9ad8eec54dfcd251a7521467409bc5ba5bb5', 'message': 'Add resources dict into _Provider\n\nAdd resources dict into _Provider, which is similar to inventory,\nand _Provider.resources will contain some resource details but not\nresource amount in inventory, which will be Resource objest set\nkeyed by resource class. We can populate this from update provider\ntree.\n\nChange-Id: If37aaff1e3652692fd0750e98612f3b040019042\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 13, 'created': '2019-09-04 15:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89abadc07d910a3c2483487c9208dc743a96535b', 'message': 'Add resources dict into _Provider\n\nAdd resources dict into _Provider, which is similar to inventory,\nand _Provider.resources will contain some resource details but not\nresource amount in inventory, which will be Resource objest set\nkeyed by resource class. We can populate this from update provider\ntree.\n\nChange-Id: If37aaff1e3652692fd0750e98612f3b040019042\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 14, 'created': '2019-09-04 15:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8c515f54e4bfd869679aa2352e80659dad9e2100', 'message': 'Add resources dict into _Provider\n\nAdd resources dict into _Provider, which is similar to inventory,\nand _Provider.resources will contain some resource details but not\nresource amount in inventory, which will be Resource objest set\nkeyed by resource class. We can populate this from update provider\ntree.\n\nChange-Id: If37aaff1e3652692fd0750e98612f3b040019042\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 15, 'created': '2019-09-05 10:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2b7247e42920b1000b05587a15ff1d61b2e1432', 'message': 'Add resources dict into _Provider\n\nAdd resources dict into _Provider, which is similar to inventory,\nand _Provider.resources will contain some resource details but not\nresource amount in inventory, which will be Resource objest set\nkeyed by resource class. We can populate this from update provider\ntree.\n\nChange-Id: If37aaff1e3652692fd0750e98612f3b040019042\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 16, 'created': '2019-09-05 11:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c001b70d0ac657afc2238985d0ae2ed4c1e34429', 'message': 'Add resources dict into _Provider\n\nAdd resources dict into _Provider, which is similar to inventory,\nand _Provider.resources will contain some resource details but not\nresource amount in inventory, which will be Resource objest set\nkeyed by resource class. We can populate this from update provider\ntree.\n\nChange-Id: If37aaff1e3652692fd0750e98612f3b040019042\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 17, 'created': '2019-09-06 10:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16e31169e5943c1dd96d8c082688f5aba7b62dcc', 'message': 'Add resources dict into _Provider\n\nAdd resources dict into _Provider, which is similar to inventory,\nand _Provider.resources will contain some resource details but not\nresource amount in inventory, which will be Resource objest set\nkeyed by resource class. We can populate this from update provider\ntree.\n\nChange-Id: If37aaff1e3652692fd0750e98612f3b040019042\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 18, 'created': '2019-09-06 10:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e749290fe0fc71d9c46633b0c411941fead8180c', 'message': 'Add resources dict into _Provider\n\nAdd resources dict into _Provider, which is similar to inventory,\nand _Provider.resources will contain some resource details but not\nresource amount in inventory, which will be Resource object set\nkeyed by resource class. We can populate this from update provider\ntree.\n\nChange-Id: If37aaff1e3652692fd0750e98612f3b040019042\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 19, 'created': '2019-09-09 05:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b918b1dbec489b145f369fb52fa369743b7c8eb', 'message': 'Add resources dict into _Provider\n\nAdd resources dict into _Provider, which is similar to inventory,\nand _Provider.resources will contain some resource details but not\nresource amount in inventory, which will be Resource object set\nkeyed by resource class. We can populate this from update provider\ntree.\n\nChange-Id: If37aaff1e3652692fd0750e98612f3b040019042\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 20, 'created': '2019-09-11 08:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/650dd08bd52c9f90e0d3c1fa5dcd4235703e8548', 'message': 'Add resources dict into _Provider\n\nAdd resources dict into _Provider, which is similar to inventory,\nand _Provider.resources will contain some resource details but not\nresource amount in inventory, which will be Resource object set\nkeyed by resource class. We can populate this from update provider\ntree.\n\nChange-Id: If37aaff1e3652692fd0750e98612f3b040019042\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 21, 'created': '2019-09-11 08:05:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90c9e8a432878bb03c5cc3382bc07633c306023e', 'message': 'Add resources dict into _Provider\n\nAdd resources dict into _Provider, which is similar to inventory,\nand _Provider.resources will contain some resource details but not\nresource amount in inventory, which will be Resource object set\nkeyed by resource class. We can populate this from update provider\ntree.\n\nChange-Id: If37aaff1e3652692fd0750e98612f3b040019042\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 22, 'created': '2019-09-11 10:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f24a8a36ecab3a8635a2476778bf4cc271510ad', 'message': 'Add resources dict into _Provider\n\nAdd resources dict into _Provider, which is similar to inventory,\nand _Provider.resources will contain some resource details but not\nresource amount in inventory, which will be Resource object set\nkeyed by resource class. We can populate this from update provider\ntree.\n\nChange-Id: If37aaff1e3652692fd0750e98612f3b040019042\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 23, 'created': '2019-09-12 03:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/97ff2a294e85493a7329f44ce8e97e168f2b8992', 'message': 'Add resources dict into _Provider\n\nAdd resources dict into _Provider, which is similar to inventory,\nand _Provider.resources will contain some resource details but not\nresource amount in inventory, which will be Resource object set\nkeyed by resource class. We can populate this from update provider\ntree.\n\nChange-Id: If37aaff1e3652692fd0750e98612f3b040019042\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 24, 'created': '2019-09-13 08:55:20.000000000', 'files': ['nova/compute/provider_tree.py', 'nova/tests/unit/compute/test_provider_tree.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f45368e02fa286316f20777039242a607bbe6165', 'message': 'Add resources dict into _Provider\n\nAdd resources dict into _Provider, which is similar to inventory,\nand _Provider.resources will contain some resource details but not\nresource amount in inventory, which will be Resource object set\nkeyed by resource class. We can populate this from update provider\ntree.\n\nChange-Id: If37aaff1e3652692fd0750e98612f3b040019042\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}]",44,678449,f45368e02fa286316f20777039242a607bbe6165,247,18,24,23598,,,0,"Add resources dict into _Provider

Add resources dict into _Provider, which is similar to inventory,
and _Provider.resources will contain some resource details but not
resource amount in inventory, which will be Resource object set
keyed by resource class. We can populate this from update provider
tree.

Change-Id: If37aaff1e3652692fd0750e98612f3b040019042
Partially-Implements: blueprint virtual-persistent-memory
Co-Authored-By: He Jie Xu <hejie.xu@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/49/678449/6 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/provider_tree.py', 'nova/tests/unit/compute/test_provider_tree.py']",2,6014946d144dbeb9bd405d9175252a9e5c5ed785,bp/virtual-persistent-memory," def test_update_resources_no_existing_rp(self): pt = self._pt_with_cns() self.assertRaises( ValueError, pt.update_resources, uuids.non_existing_rp, {}, ) def test_update_resources(self): cn = self.compute_node1 pt = self._pt_with_cns() cn_resources = { ""RESOURCE_CLASS_0"": [ objects.Resource(rp_uuid=cn.uuid, resource_class=""RESOURCE_CLASS_0"", identifier=""bar"")], ""RESOURCE_CLASS_1"": [ objects.Resource(rp_uuid=cn.uuid, resource_class=""RESOURCE_CLASS_1"", identifier=""foo_1""), objects.Resource(rp_uuid=cn.uuid, resource_class=""RESOURCE_CLASS_1"", identifier=""foo_2"")]} self.assertTrue(pt.update_resources(cn.uuid, cn_resources))",,40,2
openstack%2Fironic~master~I3ad5ee77a2e2e8613316b1e935256d5ba0394420,openstack/ironic,master,I3ad5ee77a2e2e8613316b1e935256d5ba0394420,devstack: save iPXE httpd logs,MERGED,2019-09-04 11:16:36.000000000,2019-09-15 06:22:36.000000000,2019-09-14 23:15:41.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-09-04 11:16:36.000000000', 'files': ['devstack/files/apache-ipxe-ironic.template'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7a0f8698a130e0fb9c45453ab83ccee1447f9620', 'message': 'devstack: save iPXE httpd logs\n\nChange-Id: I3ad5ee77a2e2e8613316b1e935256d5ba0394420\n'}]",0,679968,7a0f8698a130e0fb9c45453ab83ccee1447f9620,48,6,1,10239,,,0,"devstack: save iPXE httpd logs

Change-Id: I3ad5ee77a2e2e8613316b1e935256d5ba0394420
",git fetch https://review.opendev.org/openstack/ironic refs/changes/68/679968/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/files/apache-ipxe-ironic.template'],1,7a0f8698a130e0fb9c45453ab83ccee1447f9620,ipxe-logs," ErrorLog /var/log/apache2/ipxe_error.log ErrorLogFormat ""%{cu}t [%-m:%l] [pid %P:tid %T] %7F: %E: [client\ %a] [frontend\ %A] %M% ,\ referer\ %{Referer}i"" LogLevel info CustomLog /var/log/apache2/ipxe_access.log ""%{%Y-%m-%d}t %{%T}t.%{msec_frac}t [%l] %a \""%r\"" %>s %b""",,4,0
openstack%2Fkeystone~master~Ic4cc85c8b3970978c83a95445d485c4d7953867a,openstack/keystone,master,Ic4cc85c8b3970978c83a95445d485c4d7953867a,Alphabetize removed policies in tests,MERGED,2019-09-13 21:04:03.000000000,2019-09-15 06:16:10.000000000,2019-09-15 06:12:47.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-09-13 21:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/d52378fdde5f5f3ec3601f258bcd9d26779a575f', 'message': 'Alphabetize removed policies in tests\n\nReorder the removed policies in test_json_examples_have_matching_entries\nso that future removed policies can be added to the list in order and be\nless likely to cause merge conflicts with one another at the end of the\nlist.\n\nChange-Id: Ic4cc85c8b3970978c83a95445d485c4d7953867a\n'}, {'number': 2, 'created': '2019-09-14 09:27:13.000000000', 'files': ['keystone/tests/unit/test_policy.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d7c424d220a29963627b3e771e47294748bef9a8', 'message': 'Alphabetize removed policies in tests\n\nReorder the removed policies in test_json_examples_have_matching_entries\nso that future removed policies can be added to the list in order and be\nless likely to cause merge conflicts with one another at the end of the\nlist.\n\nChange-Id: Ic4cc85c8b3970978c83a95445d485c4d7953867a\n'}]",0,682163,d7c424d220a29963627b3e771e47294748bef9a8,21,5,2,8482,,,0,"Alphabetize removed policies in tests

Reorder the removed policies in test_json_examples_have_matching_entries
so that future removed policies can be added to the list in order and be
less likely to cause merge conflicts with one another at the end of the
list.

Change-Id: Ic4cc85c8b3970978c83a95445d485c4d7953867a
",git fetch https://review.opendev.org/openstack/keystone refs/changes/63/682163/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/test_policy.py'],1,d52378fdde5f5f3ec3601f258bcd9d26779a575f,reorder-policies," 'identity:add_endpoint_group_to_project', 'identity:add_endpoint_to_project', 'identity:add_user_to_group', 'identity:authorize_request_token', 'identity:check_endpoint_in_project', 'identity:check_implied_role', 'identity:check_policy_association_for_endpoint', 'identity:check_policy_association_for_region_and_service', 'identity:check_policy_association_for_service', 'identity:check_system_grant_for_group', 'identity:check_system_grant_for_user', 'identity:check_user_in_group', 'identity:create_application_credential', 'identity:create_consumer', 'identity:create_credential', 'identity:create_domain', 'identity:create_endpoint', 'identity:create_endpoint_group', 'identity:create_group', 'identity:create_identity_provider', 'identity:create_implied_role', 'identity:create_mapping', 'identity:create_policy', 'identity:create_policy_association_for_endpoint', 'identity:create_policy_association_for_region_and_service', 'identity:create_policy_association_for_service', 'identity:create_project', 'identity:create_protocol', 'identity:create_region', 'identity:create_registered_limits', 'identity:create_role', 'identity:create_service', 'identity:create_service_provider', 'identity:create_system_grant_for_group', 'identity:create_system_grant_for_user', 'identity:create_trust', 'identity:create_user', 'identity:delete_access_token', 'identity:delete_application_credential', 'identity:delete_consumer', 'identity:delete_credential', 'identity:delete_domain', 'identity:delete_endpoint', 'identity:delete_endpoint_group', 'identity:delete_group', 'identity:delete_identity_provider', 'identity:delete_implied_role', 'identity:delete_mapping', 'identity:delete_policy', 'identity:delete_policy_association_for_endpoint', 'identity:delete_policy_association_for_region_and_service', 'identity:delete_policy_association_for_service', 'identity:delete_project', 'identity:delete_region', 'identity:delete_registered_limit', 'identity:delete_role', 'identity:delete_service_provider', 'identity:delete_trust', 'identity:ec2_delete_credential', 'identity:ec2_get_credential', 'identity:get_access_token', 'identity:get_access_token_role', 'identity:get_application_credential', 'identity:get_auth_catalog', 'identity:get_auth_domains', 'identity:get_auth_projects', 'identity:get_auth_system', 'identity:get_consumer', 'identity:get_credential', 'identity:get_domain', 'identity:get_endpoint', 'identity:get_endpoint_group', 'identity:get_endpoint_group_in_project', 'identity:get_identity_provider', 'identity:get_implied_role', 'identity:get_limit_model', 'identity:get_mapping', 'identity:get_policy', 'identity:get_policy_for_endpoint', 'identity:get_project', 'identity:get_protocol', 'identity:get_region', 'identity:get_registered_limit', 'identity:get_role', 'identity:get_role_for_trust', 'identity:get_security_compliance_domain_config', 'identity:get_service', 'identity:get_service_provider', 'identity:get_trust', 'identity:get_user', 'identity:list_access_token_roles', 'identity:list_access_tokens', 'identity:list_application_credentials', 'identity:list_consumers', 'identity:list_credentials', 'identity:list_domains', 'identity:list_domains_for_user', 'identity:list_endpoint_groups', 'identity:list_endpoint_groups_for_project', 'identity:list_endpoints', 'identity:list_endpoints_associated_with_endpoint_group', 'identity:list_endpoints_for_policy', 'identity:list_endpoints_for_project', 'identity:list_identity_providers', 'identity:list_limits', 'identity:list_mappings', 'identity:list_policies', 'identity:list_projects', 'identity:list_projects_associated_with_endpoint_group', 'identity:list_projects_for_endpoint', 'identity:list_projects_for_user', 'identity:list_protocols', 'identity:list_regions', 'identity:list_registered_limits', 'identity:list_revoke_events', 'identity:list_role_assignments', 'identity:list_roles', 'identity:list_roles_for_trust', 'identity:list_service_providers', 'identity:list_services', 'identity:list_system_grants_for_group', 'identity:list_system_grants_for_user', 'identity:list_trusts', 'identity:list_trusts_for_trustee', 'identity:list_trusts_for_trustor', 'identity:list_user_projects', 'identity:list_users', 'identity:list_users_in_group', 'identity:remove_endpoint_from_project', 'identity:remove_endpoint_group_from_project', 'identity:remove_user_from_group', 'identity:revocation_list', 'identity:revoke_system_grant_for_group', 'identity:revoke_system_grant_for_user', 'identity:update_consumer', 'identity:update_credential', 'identity:update_domain', 'identity:update_endpoint', 'identity:update_endpoint_group', 'identity:update_group', 'identity:update_identity_provider', 'identity:update_mapping', 'identity:update_policy', 'identity:update_project', 'identity:update_project_tags', 'identity:update_protocol', 'identity:update_region', 'identity:update_registered_limit', 'identity:update_role', 'identity:update_service', 'identity:update_service_provider', 'identity:update_user', 'service_or_admin', 'service_role',"," 'service_role', 'service_or_admin', 'identity:get_limit_model', 'identity:list_limits', 'identity:update_project_tags', 'identity:ec2_get_credential', 'identity:ec2_delete_credential', 'identity:revocation_list', 'identity:create_trust', 'identity:list_trusts', 'identity:list_trusts_for_trustor', 'identity:list_trusts_for_trustee', 'identity:list_roles_for_trust', 'identity:get_role_for_trust', 'identity:delete_trust', 'identity:get_trust', 'identity:create_consumer', 'identity:get_consumer', 'identity:list_consumers', 'identity:delete_consumer', 'identity:update_consumer', 'identity:authorize_request_token', 'identity:list_access_token_roles', 'identity:get_access_token_role', 'identity:list_access_tokens', 'identity:get_access_token', 'identity:delete_access_token', 'identity:list_projects_for_endpoint', 'identity:add_endpoint_to_project', 'identity:check_endpoint_in_project', 'identity:list_endpoints_for_project', 'identity:remove_endpoint_from_project', 'identity:create_endpoint_group', 'identity:list_endpoint_groups', 'identity:get_endpoint_group', 'identity:update_endpoint_group', 'identity:delete_endpoint_group', 'identity:list_projects_associated_with_endpoint_group', 'identity:list_endpoints_associated_with_endpoint_group', 'identity:get_endpoint_group_in_project', 'identity:list_endpoint_groups_for_project', 'identity:add_endpoint_group_to_project', 'identity:remove_endpoint_group_from_project', 'identity:get_auth_catalog', 'identity:get_auth_projects', 'identity:get_auth_domains', 'identity:get_auth_system', 'identity:list_projects_for_user', 'identity:list_domains_for_user', 'identity:list_revoke_events', 'identity:get_security_compliance_domain_config', 'identity:get_application_credential', 'identity:list_application_credentials', 'identity:create_application_credential', 'identity:delete_application_credential', 'identity:create_credential', 'identity:get_credential', 'identity:list_credentials', 'identity:update_credential', 'identity:delete_credential', 'identity:create_registered_limits', 'identity:get_registered_limit', 'identity:list_registered_limits', 'identity:update_registered_limit', 'identity:delete_registered_limit', 'identity:create_service_provider', 'identity:get_service_provider', 'identity:list_service_providers', 'identity:update_service_provider', 'identity:delete_service_provider', 'identity:list_role_assignments', 'identity:create_role', 'identity:get_role', 'identity:list_roles', 'identity:update_role', 'identity:delete_role', 'identity:list_system_grants_for_user', 'identity:check_system_grant_for_user', 'identity:create_system_grant_for_user', 'identity:revoke_system_grant_for_user', 'identity:list_system_grants_for_group', 'identity:check_system_grant_for_group', 'identity:create_system_grant_for_group', 'identity:revoke_system_grant_for_group', 'identity:create_region', 'identity:get_region', 'identity:list_regions', 'identity:update_region', 'identity:delete_region', 'identity:create_endpoint', 'identity:get_endpoint', 'identity:list_endpoints', 'identity:update_endpoint', 'identity:delete_endpoint', 'identity:create_mapping', 'identity:get_mapping', 'identity:list_mappings', 'identity:update_mapping', 'identity:delete_mapping', 'identity:create_identity_provider', 'identity:get_identity_provider', 'identity:list_identity_providers', 'identity:update_identity_provider', 'identity:delete_identity_provider', 'identity:create_protocol', 'identity:get_protocol', 'identity:list_protocols', 'identity:update_protocol', 'identity:create_domain', 'identity:get_domain', 'identity:list_domains', 'identity:update_domain', 'identity:delete_domain', 'identity:create_project', 'identity:get_project', 'identity:list_projects', 'identity:update_project', 'identity:delete_project', 'identity:list_user_projects', 'identity:create_service', 'identity:get_service', 'identity:list_services', 'identity:update_service', 'identity:create_user', 'identity:get_user', 'identity:list_users', 'identity:update_user', 'identity:create_group', 'identity:update_group', 'identity:delete_group', 'identity:list_users_in_group', 'identity:remove_user_from_group', 'identity:check_user_in_group', 'identity:add_user_to_group', 'identity:get_policy', 'identity:list_policies', 'identity:create_policy', 'identity:update_policy', 'identity:delete_policy', 'identity:create_policy_association_for_endpoint', 'identity:check_policy_association_for_endpoint', 'identity:delete_policy_association_for_endpoint', 'identity:create_policy_association_for_service', 'identity:check_policy_association_for_service', 'identity:delete_policy_association_for_service', 'identity:create_policy_association_for_region_and_service', 'identity:check_policy_association_for_region_and_service', 'identity:delete_policy_association_for_region_and_service', 'identity:get_policy_for_endpoint', 'identity:list_endpoints_for_policy', 'identity:get_implied_role', 'identity:create_implied_role', 'identity:delete_implied_role', 'identity:check_implied_role',",154,154
openstack%2Fnova~master~I26d1fa8d0dc2fdf066f3a7017a74cda679d3efa1,openstack/nova,master,I26d1fa8d0dc2fdf066f3a7017a74cda679d3efa1,db: Add resources column in instance_extra table,MERGED,2019-08-26 03:25:40.000000000,2019-09-15 06:15:17.000000000,2019-09-15 06:12:41.000000000,"[{'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 23598}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-26 03:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a01ce06e9bb1845c00d5c0e89fe7324867d38223', 'message': 'db: Add resources column in instance_extra table\n\nThis change adds a resources deferred-load column to instance_extra,\nwhich will stores a list of resources for a given instance in the\nform of a JSON blob.\n\nChange-Id: I26d1fa8d0dc2fdf066f3a7017a74cda679d3efa1\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 2, 'created': '2019-08-26 06:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13b5a7e503332d124c77abf7d90fffc0f7165dec', 'message': 'db: Add resources column in instance_extra table\n\nThis change adds a resources deferred-load column to instance_extra,\nwhich will stores a list of resources for a given instance in the\nform of a JSON blob.\n\nChange-Id: I26d1fa8d0dc2fdf066f3a7017a74cda679d3efa1\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 3, 'created': '2019-08-26 12:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9ee621ca812b795f3161f2aa7244e5f02d2ff64', 'message': 'db: Add resources column in instance_extra table\n\nThis change adds a resources deferred-load column to instance_extra,\nwhich will stores a list of resources for a given instance in the\nform of a JSON blob.\n\nChange-Id: I26d1fa8d0dc2fdf066f3a7017a74cda679d3efa1\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 4, 'created': '2019-08-27 09:44:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4695f9e7b53754f99c07effbf8cf7e0bff583206', 'message': 'db: Add resources column in instance_extra table\n\nThis change adds a resources deferred-load column to instance_extra,\nwhich will stores a list of resources for a given instance in the\nform of a JSON blob.\n\nChange-Id: I26d1fa8d0dc2fdf066f3a7017a74cda679d3efa1\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 5, 'created': '2019-08-28 05:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/189328088cd1212a908d5575bd624b2560d77bd0', 'message': 'db: Add resources column in instance_extra table\n\nThis change adds a resources deferred-load column to instance_extra,\nwhich will stores a list of resources for a given instance in the\nform of a JSON blob.\n\nChange-Id: I26d1fa8d0dc2fdf066f3a7017a74cda679d3efa1\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 6, 'created': '2019-09-02 13:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83e4b0aa6821e7fa863e90ed656122cf929ba226', 'message': 'db: Add resources column in instance_extra table\n\nThis change adds a resources deferred-load column to instance_extra,\nwhich will stores a list of resources for a given instance in the\nform of a JSON blob.\n\nChange-Id: I26d1fa8d0dc2fdf066f3a7017a74cda679d3efa1\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 7, 'created': '2019-09-03 06:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/27bcc47bc765772eca365fbf2f9c6e0877a93fac', 'message': 'db: Add resources column in instance_extra table\n\nThis change adds a resources deferred-load column to instance_extra,\nwhich will stores a list of resources for a given instance in the\nform of a JSON blob.\n\nChange-Id: I26d1fa8d0dc2fdf066f3a7017a74cda679d3efa1\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 8, 'created': '2019-09-04 12:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e07c553eea17f355d068f84ad991972f3c4a0a9', 'message': 'db: Add resources column in instance_extra table\n\nThis change adds a resources deferred-load column to instance_extra,\nwhich will stores a list of resources for a given instance in the\nform of a JSON blob.\n\nChange-Id: I26d1fa8d0dc2fdf066f3a7017a74cda679d3efa1\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 9, 'created': '2019-09-04 14:58:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b4f1d37131693ebed892181f1a5f328a1593a9da', 'message': 'db: Add resources column in instance_extra table\n\nThis change adds a resources deferred-load column to instance_extra,\nwhich will stores a list of resources for a given instance in the\nform of a JSON blob.\n\nChange-Id: I26d1fa8d0dc2fdf066f3a7017a74cda679d3efa1\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 10, 'created': '2019-09-04 15:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1a6d5fc1950d85298abdbd9988c22e4ccc6a376', 'message': 'db: Add resources column in instance_extra table\n\nThis change adds a resources deferred-load column to instance_extra,\nwhich will stores a list of resources for a given instance in the\nform of a JSON blob.\n\nChange-Id: I26d1fa8d0dc2fdf066f3a7017a74cda679d3efa1\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 11, 'created': '2019-09-06 10:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d0d97011f718cbdd7dd90b9a5785147fc56c4aa', 'message': 'db: Add resources column in instance_extra table\n\nThis change adds a resources deferred-load column to instance_extra,\nwhich will stores a list of resources for a given instance in the\nform of a JSON blob.\n\nChange-Id: I26d1fa8d0dc2fdf066f3a7017a74cda679d3efa1\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 12, 'created': '2019-09-11 08:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46103086c47e334f0d6002f721d2308b8065a3c9', 'message': 'db: Add resources column in instance_extra table\n\nThis change adds a resources deferred-load column to instance_extra,\nwhich will stores a list of resources for a given instance in the\nform of a JSON blob.\n\nChange-Id: I26d1fa8d0dc2fdf066f3a7017a74cda679d3efa1\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 13, 'created': '2019-09-11 10:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f642baf25483ba4a56931ab0e5d0036955d0a69', 'message': 'db: Add resources column in instance_extra table\n\nThis change adds a resources deferred-load column to instance_extra,\nwhich will stores a list of resources for a given instance in the\nform of a JSON blob.\n\nChange-Id: I26d1fa8d0dc2fdf066f3a7017a74cda679d3efa1\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 14, 'created': '2019-09-12 03:12:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92714de87f40dd87c7cb01700cbc179f512ec3e7', 'message': 'db: Add resources column in instance_extra table\n\nThis change adds a resources deferred-load column to instance_extra,\nwhich will stores a list of resources for a given instance in the\nform of a JSON blob.\n\nChange-Id: I26d1fa8d0dc2fdf066f3a7017a74cda679d3efa1\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}, {'number': 15, 'created': '2019-09-13 08:55:20.000000000', 'files': ['nova/db/sqlalchemy/models.py', 'nova/tests/unit/db/test_migrations.py', 'nova/db/sqlalchemy/migrate_repo/versions/402_add_resources.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6a4d6ec786bb35b0bf81d91b867d55f4f8b1e32d', 'message': 'db: Add resources column in instance_extra table\n\nThis change adds a resources deferred-load column to instance_extra,\nwhich will stores a list of resources for a given instance in the\nform of a JSON blob.\n\nChange-Id: I26d1fa8d0dc2fdf066f3a7017a74cda679d3efa1\nPartially-Implements: blueprint virtual-persistent-memory\nCo-Authored-By: He Jie Xu <hejie.xu@intel.com>\n'}]",10,678447,6a4d6ec786bb35b0bf81d91b867d55f4f8b1e32d,200,19,15,23598,,,0,"db: Add resources column in instance_extra table

This change adds a resources deferred-load column to instance_extra,
which will stores a list of resources for a given instance in the
form of a JSON blob.

Change-Id: I26d1fa8d0dc2fdf066f3a7017a74cda679d3efa1
Partially-Implements: blueprint virtual-persistent-memory
Co-Authored-By: He Jie Xu <hejie.xu@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/678447/11 && git format-patch -1 --stdout FETCH_HEAD,"['nova/db/sqlalchemy/models.py', 'nova/tests/unit/db/test_migrations.py', 'nova/db/sqlalchemy/migrate_repo/versions/398_add_resources.py', 'nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",5,a01ce06e9bb1845c00d5c0e89fe7324867d38223,bp/virtual-persistent-memory," 'resources': None, 'trusted_certs', 'resources', 'migration_context']"," 'vpmems': None, 'trusted_certs', 'vpmems', 'migration_context']",11,10
openstack%2Frequirements~master~I6519ed2269c8e8afb4c689851369d23f47998431,openstack/requirements,master,I6519ed2269c8e8afb4c689851369d23f47998431,update constraint for python-blazarclient to new release 2.2.1,MERGED,2019-09-13 22:13:53.000000000,2019-09-15 05:52:49.000000000,2019-09-15 05:51:15.000000000,"[{'_account_id': 6547}, {'_account_id': 14288}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-13 22:13:53.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b7832765b0ff126759ac531c7846d23174d7116d', 'message': 'update constraint for python-blazarclient to new release 2.2.1\n\nChange-Id: I6519ed2269c8e8afb4c689851369d23f47998431\nmeta:version: 2.2.1\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Pierre Riteau <pierre@stackhpc.com>\nmeta:release:Commit: Pierre Riteau <pierre@stackhpc.com>\nmeta:release:Change-Id: I429bc5aebbc549bd917d000bd563b461e0d831ed\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,682180,b7832765b0ff126759ac531c7846d23174d7116d,15,5,1,11131,,,0,"update constraint for python-blazarclient to new release 2.2.1

Change-Id: I6519ed2269c8e8afb4c689851369d23f47998431
meta:version: 2.2.1
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Pierre Riteau <pierre@stackhpc.com>
meta:release:Commit: Pierre Riteau <pierre@stackhpc.com>
meta:release:Change-Id: I429bc5aebbc549bd917d000bd563b461e0d831ed
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/80/682180/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b7832765b0ff126759ac531c7846d23174d7116d,new-release,python-blazarclient===2.2.1,python-blazarclient===2.2.0,1,1
openstack%2Fpuppet-tripleo~master~I42033be840ba41e9944af65815a63059834144e9,openstack/puppet-tripleo,master,I42033be840ba41e9944af65815a63059834144e9,Implement stonith levels and enable kdump agent.,MERGED,2019-04-19 12:31:37.000000000,2019-09-15 05:41:17.000000000,2019-04-28 21:44:40.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2019-04-19 12:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/27ba3e88a2a64a2c39ca7914b4d88462ebc0ee27', 'message': 'WIP: Implement stonith levels and enable kdump.\n\nThis commit extends the stonith generation logic to allow operators\nto make use of fencing levels.\nGiven a fence.yaml file like the following:\n\nparameter_defaults:\n  EnableFencing: true\n  FencingConfig:\n    devices:\n      level1:\n      - agent: fence_agent1\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someparam: somevalue\n      level2:\n      - agent: fence_agent2\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someotherparam: someothervalue\n\nThe code iterates over the ""levelX"" key and creates the respective\nstonith resources and adds them to the specified stonith level.\n\nIt should be backwards compatible since it checks if ""devices"" is\nan array (no level specified) and reconducts this case to level=1.\n\nExample results below.\n\n* without levels:*\n\nhieradata:\n\n    ""tripleo::fencing::config"": {\n        ""devices"": [\n            {\n                ""agent"": ""fence_ipmilan"",\n                ""host_mac"": ""e4:43:4b:4b:c8:19"",\n\n[root@overcloud-controller-0]# pcs status\n...\n\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n\n[root@overcloud-controller-0]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n\n* with levels: *\n\nhieradata:\n\n    ""tripleo::fencing::config"": {\n        ""devices"": {\n            ""level1"": [\n               {\n               ""agent"": ""fence_ipmilan"",\n               ""host_mac"": ""e4:43:4b:4b:c8:19"",\n            ...\n            ""level2"": [\n               {\n               ""agent"": ""fence_kdump"",\n               ""host_mac"": ""e4:43:4b:4b:c8:19"",\n\n[root@overcloud-controller-0 ]# pcs status\n...\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n stonith-fence_kdump-e4434b4bc819       (stonith:fence_kdump):  Started overcloud-controller-2\n\n[root@overcloud-controller-0 ]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n  Level 2 - stonith-fence_kdump-e4434b4bc819\n\nChange-Id: I42033be840ba41e9944af65815a63059834144e9\n'}, {'number': 2, 'created': '2019-04-19 12:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/cd298f9fac16978c40f3e3b31f8adda6d7512e39', 'message': 'WIP: Implement stonith levels and enable kdump.\n\nThis commit extends the stonith generation logic to allow operators\nto make use of fencing levels.\nGiven a fence.yaml file like the following:\n\nparameter_defaults:\n  EnableFencing: true\n  FencingConfig:\n    devices:\n      level1:\n      - agent: fence_agent1\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someparam: somevalue\n      level2:\n      - agent: fence_agent2\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someotherparam: someothervalue\n\nThe code iterates over the ""levelX"" key and creates the respective\nstonith resources and adds them to the specified stonith level.\n\nIt should be backwards compatible since it checks if ""devices"" is\nan array (no level specified) and reconducts this case to level=1.\n\nExample results below.\n\n* without levels:*\n\nhieradata:\n\n    ""tripleo::fencing::config"": {\n        ""devices"": [\n            {\n                ""agent"": ""fence_ipmilan"",\n                ""host_mac"": ""e4:43:4b:4b:c8:19"",\n\n[root@overcloud-controller-0]# pcs status\n...\n\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n\n[root@overcloud-controller-0]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n\n* with levels: *\n\nhieradata:\n\n    ""tripleo::fencing::config"": {\n        ""devices"": {\n            ""level1"": [\n               {\n               ""agent"": ""fence_ipmilan"",\n               ""host_mac"": ""e4:43:4b:4b:c8:19"",\n            ...\n            ""level2"": [\n               {\n               ""agent"": ""fence_kdump"",\n               ""host_mac"": ""e4:43:4b:4b:c8:19"",\n\n[root@overcloud-controller-0 ]# pcs status\n...\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n stonith-fence_kdump-e4434b4bc819       (stonith:fence_kdump):  Started overcloud-controller-2\n\n[root@overcloud-controller-0 ]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n  Level 2 - stonith-fence_kdump-e4434b4bc819\n\nChange-Id: I42033be840ba41e9944af65815a63059834144e9\n'}, {'number': 3, 'created': '2019-04-20 07:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ffe19d403fcc35b3d0f9a27452bd384e11f37c03', 'message': 'WIP: Implement stonith levels and enable kdump.\n\nThis commit extends the stonith generation logic to allow operators\nto make use of fencing levels.\nGiven a fence.yaml file like the following:\n\nparameter_defaults:\n  EnableFencing: true\n  FencingConfig:\n    devices:\n      level1:\n      - agent: fence_agent1\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someparam: somevalue\n      level2:\n      - agent: fence_agent2\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someotherparam: someothervalue\n\nThe code iterates over the ""levelX"" key and creates the respective\nstonith resources and adds them to the specified stonith level.\n\nIt should be backwards compatible since it checks if ""devices"" is\nan array (no level specified) and reconducts this case to level=1.\n\nExample results below.\n\n* without levels:*\n\nhieradata:\n\n    ""tripleo::fencing::config"": {\n        ""devices"": [\n            {\n                ""agent"": ""fence_ipmilan"",\n                ""host_mac"": ""e4:43:4b:4b:c8:19"",\n\n[root@overcloud-controller-0]# pcs status\n...\n\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n\n[root@overcloud-controller-0]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n\n* with levels: *\n\nhieradata:\n\n    ""tripleo::fencing::config"": {\n        ""devices"": {\n            ""level1"": [\n               {\n               ""agent"": ""fence_ipmilan"",\n               ""host_mac"": ""e4:43:4b:4b:c8:19"",\n            ...\n            ""level2"": [\n               {\n               ""agent"": ""fence_kdump"",\n               ""host_mac"": ""e4:43:4b:4b:c8:19"",\n\n[root@overcloud-controller-0 ]# pcs status\n...\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n stonith-fence_kdump-e4434b4bc819       (stonith:fence_kdump):  Started overcloud-controller-2\n\n[root@overcloud-controller-0 ]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n  Level 2 - stonith-fence_kdump-e4434b4bc819\n\nChange-Id: I42033be840ba41e9944af65815a63059834144e9\n'}, {'number': 4, 'created': '2019-04-20 08:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/32e0c6c02124d77d9f2ede9542b1e81891488a7b', 'message': 'WIP: Implement stonith levels and enable kdump.\n\nThis commit extends the stonith generation logic to allow operators\nto make use of fencing levels.\nGiven a fence.yaml file like the following:\n\nparameter_defaults:\n  EnableFencing: true\n  FencingConfig:\n    devices:\n      level1:\n      - agent: fence_agent1\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someparam: somevalue\n      level2:\n      - agent: fence_agent2\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someotherparam: someothervalue\n\nThe code iterates over the ""levelX"" key and creates the respective\nstonith resources and adds them to the specified stonith level.\n\nIt should be backwards compatible since it checks if ""devices"" is\nan array (no level specified) and reconducts this case to level=1.\n\nExample results below.\n\n* without levels:*\n\nhieradata:\n\n    ""tripleo::fencing::config"": {\n        ""devices"": [\n            {\n                ""agent"": ""fence_ipmilan"",\n                ""host_mac"": ""e4:43:4b:4b:c8:19"",\n\n[root@overcloud-controller-0]# pcs status\n...\n\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n\n[root@overcloud-controller-0]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n\n* with levels: *\n\nhieradata:\n\n    ""tripleo::fencing::config"": {\n        ""devices"": {\n            ""level1"": [\n               {\n               ""agent"": ""fence_ipmilan"",\n               ""host_mac"": ""e4:43:4b:4b:c8:19"",\n            ...\n            ""level2"": [\n               {\n               ""agent"": ""fence_kdump"",\n               ""host_mac"": ""e4:43:4b:4b:c8:19"",\n\n[root@overcloud-controller-0 ]# pcs status\n...\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n stonith-fence_kdump-e4434b4bc819       (stonith:fence_kdump):  Started overcloud-controller-2\n\n[root@overcloud-controller-0 ]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n  Level 2 - stonith-fence_kdump-e4434b4bc819\n\nChange-Id: I42033be840ba41e9944af65815a63059834144e9\n'}, {'number': 5, 'created': '2019-04-20 08:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/17e32380f7c86a0f56b0b5f9c16684b7a2183303', 'message': 'WIP: Implement stonith levels and enable kdump.\n\nThis commit extends the stonith generation logic to allow operators\nto make use of fencing levels.\nGiven a fence.yaml file like the following:\n\nparameter_defaults:\n  EnableFencing: true\n  FencingConfig:\n    devices:\n      level1:\n      - agent: fence_agent1\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someparam: somevalue\n      level2:\n      - agent: fence_agent2\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someotherparam: someothervalue\n\nThe code iterates over the ""levelX"" key and creates the respective\nstonith resources and adds them to the specified stonith level.\n\nIt should be backwards compatible since it checks if ""devices"" is\nan array (no level specified) and reconducts this case to level=1.\n\nExample results below.\n\n* without levels:*\n\nhieradata:\n\n    ""tripleo::fencing::config"": {\n        ""devices"": [\n            {\n                ""agent"": ""fence_ipmilan"",\n                ""host_mac"": ""e4:43:4b:4b:c8:19"",\n\n[root@overcloud-controller-0]# pcs status\n...\n\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n\n[root@overcloud-controller-0]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n\n* with levels: *\n\nhieradata:\n\n    ""tripleo::fencing::config"": {\n        ""devices"": {\n            ""level1"": [\n               {\n               ""agent"": ""fence_ipmilan"",\n               ""host_mac"": ""e4:43:4b:4b:c8:19"",\n            ...\n            ""level2"": [\n               {\n               ""agent"": ""fence_kdump"",\n               ""host_mac"": ""e4:43:4b:4b:c8:19"",\n\n[root@overcloud-controller-0 ]# pcs status\n...\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n stonith-fence_kdump-e4434b4bc819       (stonith:fence_kdump):  Started overcloud-controller-2\n\n[root@overcloud-controller-0 ]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n  Level 2 - stonith-fence_kdump-e4434b4bc819\n\nChange-Id: I42033be840ba41e9944af65815a63059834144e9\n'}, {'number': 6, 'created': '2019-04-20 08:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/55522b951cb46fb47dd65d1410341a5277e7f3b9', 'message': 'WIP: Implement stonith levels and enable kdump.\n\nThis commit extends the stonith generation logic to allow operators\nto make use of fencing levels.\nGiven a fence.yaml file like the following:\n\nparameter_defaults:\n  EnableFencing: true\n  FencingConfig:\n    devices:\n      level1:\n      - agent: fence_agent1\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someparam: somevalue\n      level2:\n      - agent: fence_agent2\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someotherparam: someothervalue\n\nThe code iterates over the ""levelX"" key and creates the respective\nstonith resources and adds them to the specified stonith level.\n\nIt should be backwards compatible since it checks if ""devices"" is\nan array (no level specified) and reconducts this case to level=1.\n\nExample results below.\n\n* without levels:*\n\nhieradata:\n\n    ""tripleo::fencing::config"": {\n        ""devices"": [\n            {\n                ""agent"": ""fence_ipmilan"",\n                ""host_mac"": ""e4:43:4b:4b:c8:19"",\n\n[root@overcloud-controller-0]# pcs status\n...\n\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n\n[root@overcloud-controller-0]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n\n* with levels: *\n\nhieradata:\n\n    ""tripleo::fencing::config"": {\n        ""devices"": {\n            ""level1"": [\n               {\n               ""agent"": ""fence_ipmilan"",\n               ""host_mac"": ""e4:43:4b:4b:c8:19"",\n            ...\n            ""level2"": [\n               {\n               ""agent"": ""fence_kdump"",\n               ""host_mac"": ""e4:43:4b:4b:c8:19"",\n\n[root@overcloud-controller-0 ]# pcs status\n...\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n stonith-fence_kdump-e4434b4bc819       (stonith:fence_kdump):  Started overcloud-controller-2\n\n[root@overcloud-controller-0 ]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n  Level 2 - stonith-fence_kdump-e4434b4bc819\n\nChange-Id: I42033be840ba41e9944af65815a63059834144e9\n'}, {'number': 7, 'created': '2019-04-23 09:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/44c73be1f74dadaf49a04a754db230a571f0e6b6', 'message': 'WIP: Implement stonith levels and enable kdump.\n\nThis commit extends the stonith generation logic to allow operators\nto make use of fencing levels.\nGiven a fence.yaml file like the following:\n\nparameter_defaults:\n  EnableFencing: true\n  FencingConfig:\n    devices:\n      level1:\n      - agent: fence_agent1\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someparam: somevalue\n      level2:\n      - agent: fence_agent2\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someotherparam: someothervalue\n\nThe code iterates over the ""levelX"" key and creates the respective\nstonith resources and adds them to the specified stonith level.\n\nIt should be backwards compatible since it checks if ""devices"" is\nan array (no level specified) and reconducts this case to level=1.\n\nExample results below.\n\n* without levels:*\n\nhieradata:\n\n    ""tripleo::fencing::config"": {\n        ""devices"": [\n            {\n                ""agent"": ""fence_ipmilan"",\n                ""host_mac"": ""e4:43:4b:4b:c8:19"",\n\n[root@overcloud-controller-0]# pcs status\n...\n\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n\n[root@overcloud-controller-0]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n\n* with levels: *\n\nhieradata:\n\n    ""tripleo::fencing::config"": {\n        ""devices"": {\n            ""level1"": [\n               {\n               ""agent"": ""fence_ipmilan"",\n               ""host_mac"": ""e4:43:4b:4b:c8:19"",\n            ...\n            ""level2"": [\n               {\n               ""agent"": ""fence_kdump"",\n               ""host_mac"": ""e4:43:4b:4b:c8:19"",\n\n[root@overcloud-controller-0 ]# pcs status\n...\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n stonith-fence_kdump-e4434b4bc819       (stonith:fence_kdump):  Started overcloud-controller-2\n\n[root@overcloud-controller-0 ]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n  Level 2 - stonith-fence_kdump-e4434b4bc819\n\nChange-Id: I42033be840ba41e9944af65815a63059834144e9\n'}, {'number': 8, 'created': '2019-04-25 16:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a5f030d2182b04b9ed23beaee56dba7ab97ebbe3', 'message': 'Implement stonith levels and enable kdump agent.\n\nThis commit extends the stonith generation logic to allow operators\nto make use of fencing levels.\nGiven a fence.yaml file like the following:\n\nparameter_defaults:\n  EnableFencing: true\n  FencingConfig:\n    devices:\n      level1:\n      - agent: fence_agent1\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someparam: somevalue\n      level2:\n      - agent: fence_agent2\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someotherparam: someothervalue\n\nThe code iterates over the ""levelX"" key and creates the respective\nstonith resources and adds them to the specified stonith level.\n\nIt should be backwards compatible since it checks if ""devices"" is\nan array (no level specified) and reconducts this case to level=1.\n\nExample results below.\n\n* without levels:*\n\nhieradata:\n\n    ""tripleo::fencing::config"": {\n        ""devices"": [\n            {\n                ""agent"": ""fence_ipmilan"",\n                ""host_mac"": ""e4:43:4b:4b:c8:19"",\n\n[root@overcloud-controller-0]# pcs status\n...\n\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n\n[root@overcloud-controller-0]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n\n* with levels: *\n\nhieradata:\n\n    ""tripleo::fencing::config"": {\n        ""devices"": {\n            ""level1"": [\n               {\n               ""agent"": ""fence_ipmilan"",\n               ""host_mac"": ""e4:43:4b:4b:c8:19"",\n            ...\n            ""level2"": [\n               {\n               ""agent"": ""fence_kdump"",\n               ""host_mac"": ""e4:43:4b:4b:c8:19"",\n\n[root@overcloud-controller-0 ]# pcs status\n...\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n stonith-fence_kdump-e4434b4bc819       (stonith:fence_kdump):  Started overcloud-controller-2\n\n[root@overcloud-controller-0 ]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n  Level 2 - stonith-fence_kdump-e4434b4bc819\n\nChange-Id: I42033be840ba41e9944af65815a63059834144e9\n'}, {'number': 9, 'created': '2019-04-25 16:34:47.000000000', 'files': ['manifests/fencing.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bacfec8647ad487e1ab486061b07f026198fd804', 'message': 'Implement stonith levels and enable kdump agent.\n\nThis commit extends the stonith generation logic to allow operators\nto make use of fencing levels.\nGiven a fence.yaml file like the following:\n\nparameter_defaults:\n  EnableFencing: true\n  FencingConfig:\n    devices:\n      level1:\n      - agent: fence_agent1\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someparam: somevalue\n      level2:\n      - agent: fence_agent2\n        host_mac: aa:bb:cc:dd:ee:ff\n        params:\n          someotherparam: someothervalue\n\nThe code iterates over the ""levelX"" key and creates the respective\nstonith resources and adds them to the specified stonith level.\n\nIt should be backwards compatible since it checks if ""devices"" is\nan array (no level specified) and reconducts this case to level=1.\n\nExample results below.\n\n* without levels:*\n\nhieradata:\n\n    ""tripleo::fencing::config"": {\n        ""devices"": [\n            {\n                ""agent"": ""fence_ipmilan"",\n                ""host_mac"": ""e4:43:4b:4b:c8:19"",\n\n[root@overcloud-controller-0]# pcs status\n...\n\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n\n[root@overcloud-controller-0]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n\n* with levels: *\n\nhieradata:\n\n    ""tripleo::fencing::config"": {\n        ""devices"": {\n            ""level1"": [\n               {\n               ""agent"": ""fence_ipmilan"",\n               ""host_mac"": ""e4:43:4b:4b:c8:19"",\n            ...\n            ""level2"": [\n               {\n               ""agent"": ""fence_kdump"",\n               ""host_mac"": ""e4:43:4b:4b:c8:19"",\n\n[root@overcloud-controller-0 ]# pcs status\n...\n stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1\n stonith-fence_kdump-e4434b4bc819       (stonith:fence_kdump):  Started overcloud-controller-2\n\n[root@overcloud-controller-0 ]# pcs stonith level\nTarget: overcloud-controller-0\n  Level 1 - stonith-fence_ipmilan-e4434b4bc819\n  Level 2 - stonith-fence_kdump-e4434b4bc819\n\nChange-Id: I42033be840ba41e9944af65815a63059834144e9\n'}]",0,653939,bacfec8647ad487e1ab486061b07f026198fd804,41,8,9,30126,,,0,"Implement stonith levels and enable kdump agent.

This commit extends the stonith generation logic to allow operators
to make use of fencing levels.
Given a fence.yaml file like the following:

parameter_defaults:
  EnableFencing: true
  FencingConfig:
    devices:
      level1:
      - agent: fence_agent1
        host_mac: aa:bb:cc:dd:ee:ff
        params:
          someparam: somevalue
      level2:
      - agent: fence_agent2
        host_mac: aa:bb:cc:dd:ee:ff
        params:
          someotherparam: someothervalue

The code iterates over the ""levelX"" key and creates the respective
stonith resources and adds them to the specified stonith level.

It should be backwards compatible since it checks if ""devices"" is
an array (no level specified) and reconducts this case to level=1.

Example results below.

* without levels:*

hieradata:

    ""tripleo::fencing::config"": {
        ""devices"": [
            {
                ""agent"": ""fence_ipmilan"",
                ""host_mac"": ""e4:43:4b:4b:c8:19"",

[root@overcloud-controller-0]# pcs status
...

 stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1

[root@overcloud-controller-0]# pcs stonith level
Target: overcloud-controller-0
  Level 1 - stonith-fence_ipmilan-e4434b4bc819

* with levels: *

hieradata:

    ""tripleo::fencing::config"": {
        ""devices"": {
            ""level1"": [
               {
               ""agent"": ""fence_ipmilan"",
               ""host_mac"": ""e4:43:4b:4b:c8:19"",
            ...
            ""level2"": [
               {
               ""agent"": ""fence_kdump"",
               ""host_mac"": ""e4:43:4b:4b:c8:19"",

[root@overcloud-controller-0 ]# pcs status
...
 stonith-fence_ipmilan-e4434b4bc819     (stonith:fence_ipmilan):        Started overcloud-controller-1
 stonith-fence_kdump-e4434b4bc819       (stonith:fence_kdump):  Started overcloud-controller-2

[root@overcloud-controller-0 ]# pcs stonith level
Target: overcloud-controller-0
  Level 1 - stonith-fence_ipmilan-e4434b4bc819
  Level 2 - stonith-fence_kdump-e4434b4bc819

Change-Id: I42033be840ba41e9944af65815a63059834144e9
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/39/653939/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/fencing.pp'],1,27ba3e88a2a64a2c39ca7914b4d88462ebc0ee27,fencing-topology," # check if instanceha is enabled $content = $config['devices'] # check if the devices: section in fence.yaml contains levels. # if it doesn't, assume level=1 an build a hash with the content. if is_array($content) { $all_levels = {'level1' => $content} } else { $all_levels = $content } $all_levels.each |$index, $levelX_devices |{ $level = regsubst($index, 'level', '', 'G') $all_devices = $levelX_devices if $::uuid != 'docker' and $::deployment_type != 'containers' { $xvm_devices = local_fence_devices('fence_xvm', $all_devices) create_resources('pacemaker::stonith::fence_xvm', $xvm_devices, $common_params) } $ironic_devices = local_fence_devices('fence_ironic', $all_devices) create_resources('pacemaker::stonith::fence_ironic', $ironic_devices, $common_params) $redfish_devices = local_fence_devices('fence_redfish', $all_devices) create_resources('pacemaker::stonith::fence_redfish', $redfish_devices, $common_params) $ipmilan_devices = local_fence_devices('fence_ipmilan', $all_devices) create_resources('pacemaker::stonith::fence_ipmilan', $ipmilan_devices, $common_params) $kdump_devices = local_fence_devices('fence_kdump', $all_devices) create_resources('pacemaker::stonith::fence_kdump', $kdump_devices, $common_params) $rhev_devices = local_fence_devices('fence_rhevm', $all_devices) create_resources('pacemaker::stonith::fence_rhevm', $rhev_devices, $common_params) $data = {""xvm"" => $xvm_devices, ""ironic"" => $ironic_devices, ""redfish"" => $redfish_devices, ""ipmilan"" => $ipmilan_devices, ""kdump"" => $kdump_devices, ""rhevm"" => $rhev_devices} $data.each |$items| { $driver = $items[0] $driver_devices = $items[1] if length($driver_devices) == 1 { $mac = keys($driver_devices)[0] $safe_mac = regsubst($mac, ':', '', 'G') if ($enable_instanceha and $is_compute_instanceha_node) { $stonith_resources = [ ""stonith-fence_${driver}-${safe_mac}"", 'stonith-fence_compute-fence-nova' ] } else { $stonith_resources = [ ""stonith-fence_${driver}-${safe_mac}"" ] } pacemaker::stonith::level{ ""stonith-${level}-${safe_mac}"": level => $level, target => '$(/usr/sbin/crm_node -n)', stonith_resources => $stonith_resources, tries => $tries, try_sleep => $try_sleep, } } } } } "," # We will create stonith levels *only* if the node is a compute instanceha one $all_devices = $config['devices'] if $::uuid != 'docker' and $::deployment_type != 'containers' { $xvm_devices = local_fence_devices('fence_xvm', $all_devices) create_resources('pacemaker::stonith::fence_xvm', $xvm_devices, $common_params) } $redfish_devices = local_fence_devices('fence_redfish', $all_devices) create_resources('pacemaker::stonith::fence_redfish', $redfish_devices, $common_params) $ipmilan_devices = local_fence_devices('fence_ipmilan', $all_devices) create_resources('pacemaker::stonith::fence_ipmilan', $ipmilan_devices, $common_params) if ($enable_instanceha and $is_compute_instanceha_node) { if length($ipmilan_devices) < 1 { fail('You must specify an IPmilan device for a host when configuring instance HA') } if length($ipmilan_devices) > 1 { fail('Multiple IPmilan devices for a single host are not supported with instance HA') } # Get the first (and only) key which is the mac-address $mac = keys($ipmilan_devices)[0] $safe_mac = regsubst($mac, ':', '', 'G') $stonith_resources = [ ""stonith-fence_ipmilan-${safe_mac}"", 'stonith-fence_compute-fence-nova' ] Pcmk_stonith <||> -> Pcmk_stonith_level <||> pacemaker::stonith::level{ ""stonith-level-${safe_mac}"": level => 1, target => '$(/usr/sbin/crm_node -n)', stonith_resources => $stonith_resources, tries => $tries, try_sleep => $try_sleep, } } $ironic_devices = local_fence_devices('fence_ironic', $all_devices) create_resources('pacemaker::stonith::fence_ironic', $ironic_devices, $common_params) $rhev_devices = local_fence_devices('fence_rhevm', $all_devices) create_resources('pacemaker::stonith::fence_rhevm', $rhev_devices, $common_params) }",58,35
openstack%2Fnova~master~I78ca1cc675f13aa542d69ad9142d8e832d9e4efe,openstack/nova,master,I78ca1cc675f13aa542d69ad9142d8e832d9e4efe,Note about Destination.forbidden_aggregates,MERGED,2019-09-09 08:34:32.000000000,2019-09-15 05:35:55.000000000,2019-09-15 05:34:13.000000000,"[{'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27302}, {'_account_id': 28543}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-09 08:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f6b33c210f5e372bffd5b2b33245386c4974d8a', 'message': 'Note about Destination.forbidden_aggregates\n\nAs a follow up for Ic2bcee40b41c97170a8603b27b935113f0633de7 this patch\nadds a small note to make a connection between the forbidden_aggregate field\nand the feature isolate aggregates that is using the field.\n\nChange-Id: I78ca1cc675f13aa542d69ad9142d8e832d9e4efe\nblueprint: placement-req-filter-forbidden-aggregates\n'}, {'number': 2, 'created': '2019-09-12 20:18:01.000000000', 'files': ['nova/objects/request_spec.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/63380a6b494e0f0f220b67b197edec836f1c5a42', 'message': 'Note about Destination.forbidden_aggregates\n\nAs a follow up for Ic2bcee40b41c97170a8603b27b935113f0633de7 this patch\nadds a small note to make a connection between the forbidden_aggregate field\nand the feature isolate aggregates that is using the field.\n\nChange-Id: I78ca1cc675f13aa542d69ad9142d8e832d9e4efe\nblueprint: placement-req-filter-forbidden-aggregates\n'}]",0,680945,63380a6b494e0f0f220b67b197edec836f1c5a42,45,17,2,9708,,,0,"Note about Destination.forbidden_aggregates

As a follow up for Ic2bcee40b41c97170a8603b27b935113f0633de7 this patch
adds a small note to make a connection between the forbidden_aggregate field
and the feature isolate aggregates that is using the field.

Change-Id: I78ca1cc675f13aa542d69ad9142d8e832d9e4efe
blueprint: placement-req-filter-forbidden-aggregates
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/680945/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/request_spec.py'],1,2f6b33c210f5e372bffd5b2b33245386c4974d8a,bp/placement-req-filter-forbidden-aggregates, # query params to the allocation candidates API. Nova uses this field # to implement the isolate_aggregates request filter., # query params to the allocation candidates API.,2,1
openstack%2Frequirements~master~Idab89d9773d3755b4efea5129d88175117280b76,openstack/requirements,master,Idab89d9773d3755b4efea5129d88175117280b76,update constraint for python-searchlightclient to new release 1.6.0,MERGED,2019-09-13 15:08:26.000000000,2019-09-15 05:35:21.000000000,2019-09-15 05:34:19.000000000,"[{'_account_id': 6547}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-13 15:08:26.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7f11bf9a6c1302fdffd2e5f8c9e3dd852765305f', 'message': 'update constraint for python-searchlightclient to new release 1.6.0\n\nChange-Id: Idab89d9773d3755b4efea5129d88175117280b76\nmeta:version: 1.6.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Commit: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Change-Id: Ie7cd0aabe1cf2dda1e4965578acfadde58d2e7e4\nmeta:release:Code-Review+1: Trinh Nguyen <dangtrinhnt@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,682082,7f11bf9a6c1302fdffd2e5f8c9e3dd852765305f,17,3,1,11131,,,0,"update constraint for python-searchlightclient to new release 1.6.0

Change-Id: Idab89d9773d3755b4efea5129d88175117280b76
meta:version: 1.6.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Commit: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Change-Id: Ie7cd0aabe1cf2dda1e4965578acfadde58d2e7e4
meta:release:Code-Review+1: Trinh Nguyen <dangtrinhnt@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/82/682082/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7f11bf9a6c1302fdffd2e5f8c9e3dd852765305f,new-release,python-searchlightclient===1.6.0,python-searchlightclient===1.5.1,1,1
openstack%2Fplacement~master~I2a60bff04b0837bcac7037d766c675ef3896692f,openstack/placement,master,I2a60bff04b0837bcac7037d766c675ef3896692f,Update nested-magic spec for root_member_of,MERGED,2019-09-12 10:04:37.000000000,2019-09-15 05:35:13.000000000,2019-09-15 05:34:18.000000000,"[{'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-09-12 10:04:37.000000000', 'files': ['doc/source/specs/train/implemented/2005575-nested-magic-1.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/76a5c83c2fd747f57e0e93aadc7d4bb0265afa99', 'message': 'Update nested-magic spec for root_member_of\n\nroot_member_of was not implemented (as we thought it might not be).\nThe spec is updated to make this explicit.\n\nChange-Id: I2a60bff04b0837bcac7037d766c675ef3896692f\n'}]",0,681696,76a5c83c2fd747f57e0e93aadc7d4bb0265afa99,12,4,1,11564,,,0,"Update nested-magic spec for root_member_of

root_member_of was not implemented (as we thought it might not be).
The spec is updated to make this explicit.

Change-Id: I2a60bff04b0837bcac7037d766c675ef3896692f
",git fetch https://review.opendev.org/openstack/placement refs/changes/96/681696/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/train/implemented/2005575-nested-magic-1.rst'],1,76a5c83c2fd747f57e0e93aadc7d4bb0265afa99,cd/nested-spec-imp,.. note:: When this spec was initially written it was not clear whether there was immediate need to implement this feature. This turned out to be the case. The feature was not implemented in the Train cycle. It will be revisted in the future if needed.,.. note:: It is not clear whether there is immediate need to implement this feature.,4,2
openstack%2Frequirements~master~I0186b89707c1ad4d84661c7dc7e3998b17d8d80a,openstack/requirements,master,I0186b89707c1ad4d84661c7dc7e3998b17d8d80a,update constraint for python-neutronclient to new release 6.14.0,MERGED,2019-09-13 17:05:45.000000000,2019-09-15 05:23:00.000000000,2019-09-15 05:21:55.000000000,"[{'_account_id': 6547}, {'_account_id': 14288}, {'_account_id': 17499}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-13 17:05:45.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/9db492cbf410f0a646e7d5e8455bf94cc1bd334d', 'message': 'update constraint for python-neutronclient to new release 6.14.0\n\nChange-Id: I0186b89707c1ad4d84661c7dc7e3998b17d8d80a\nmeta:version: 6.14.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Akihiro Motoki <amotoki@gmail.com>\nmeta:release:Commit: Slawek Kaplonski <skaplons@redhat.com>\nmeta:release:Change-Id: I2ade5c435f3401b53fcb84b41e2e229b8360d1a5\nmeta:release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta:release:Code-Review+1: Miguel Lavalle <miguel.lavalle@verizonmedia.com>\nmeta:release:Code-Review+1: Andriy Shevchenko <huang.zhiping@99cloud.net>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,682116,9db492cbf410f0a646e7d5e8455bf94cc1bd334d,14,4,1,11131,,,0,"update constraint for python-neutronclient to new release 6.14.0

Change-Id: I0186b89707c1ad4d84661c7dc7e3998b17d8d80a
meta:version: 6.14.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Akihiro Motoki <amotoki@gmail.com>
meta:release:Commit: Slawek Kaplonski <skaplons@redhat.com>
meta:release:Change-Id: I2ade5c435f3401b53fcb84b41e2e229b8360d1a5
meta:release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta:release:Code-Review+1: Miguel Lavalle <miguel.lavalle@verizonmedia.com>
meta:release:Code-Review+1: Andriy Shevchenko <huang.zhiping@99cloud.net>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/16/682116/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,9db492cbf410f0a646e7d5e8455bf94cc1bd334d,new-release,python-neutronclient===6.14.0,python-neutronclient===6.13.0,1,1
openstack%2Frequirements~stable%2Fqueens~I8ba50b9dc705498724a62de60fcc0803758535ca,openstack/requirements,stable/queens,I8ba50b9dc705498724a62de60fcc0803758535ca,update constraint for os-net-config to new release 8.5.1,MERGED,2019-09-13 15:37:18.000000000,2019-09-15 04:23:03.000000000,2019-09-15 04:23:03.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-13 15:37:18.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bfd13f38015913d7de1af31f1e3edd687948b395', 'message': 'update constraint for os-net-config to new release 8.5.1\n\nChange-Id: I8ba50b9dc705498724a62de60fcc0803758535ca\nmeta:version: 8.5.1\nmeta:diff-start: -\nmeta:series: queens\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Wes Hayutin <weshayutin@gmail.com>\nmeta:release:Commit: wes hayutin <whayutin@redhat.com>\nmeta:release:Change-Id: Id3a17cc2f110fac15cdd10537a5c97de78d2ca48\nmeta:release:Code-Review+1: Emilien Macchi <emilien@redhat.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Alex Schultz <aschultz@redhat.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+1: Andriy Shevchenko <huang.zhiping@99cloud.net>\n'}]",0,682090,bfd13f38015913d7de1af31f1e3edd687948b395,12,3,1,11131,,,0,"update constraint for os-net-config to new release 8.5.1

Change-Id: I8ba50b9dc705498724a62de60fcc0803758535ca
meta:version: 8.5.1
meta:diff-start: -
meta:series: queens
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Wes Hayutin <weshayutin@gmail.com>
meta:release:Commit: wes hayutin <whayutin@redhat.com>
meta:release:Change-Id: Id3a17cc2f110fac15cdd10537a5c97de78d2ca48
meta:release:Code-Review+1: Emilien Macchi <emilien@redhat.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Alex Schultz <aschultz@redhat.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+1: Andriy Shevchenko <huang.zhiping@99cloud.net>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/90/682090/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,bfd13f38015913d7de1af31f1e3edd687948b395,new-release,os-net-config===8.5.1,os-net-config===8.5.0,1,1
openstack%2Foslo.messaging~master~Ifef9bf987a1d602fdaee446554d23636605c509d,openstack/oslo.messaging,master,Ifef9bf987a1d602fdaee446554d23636605c509d,WIP: add NATS driver,ABANDONED,2019-09-13 09:03:15.000000000,2019-09-15 04:14:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-13 09:03:15.000000000', 'files': ['oslo_messaging/_drivers/impl_nats.py', 'oslo_messaging/_drivers/common.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1509b3fba4bceb8a62727fd8ca58c7f115b79f80', 'message': 'WIP: add NATS driver\n\nChange-Id: Ifef9bf987a1d602fdaee446554d23636605c509d\n'}]",0,681999,1509b3fba4bceb8a62727fd8ca58c7f115b79f80,3,1,1,659,,,0,"WIP: add NATS driver

Change-Id: Ifef9bf987a1d602fdaee446554d23636605c509d
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/99/681999/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/_drivers/impl_nats.py', 'oslo_messaging/_drivers/common.py']",2,1509b3fba4bceb8a62727fd8ca58c7f115b79f80,nats,"def serialize_msg_as_bytes(raw_msg): msg = {_VERSION_KEY: _RPC_ENVELOPE_VERSION, _MESSAGE_KEY: raw_msg} return jsonutils.dump_as_bytes(msg) def deserialize_msg_as_bytes(msg): try: msg = jsonutils.loads(msg) except: pass if not isinstance(msg, dict): return msg base_envelope_keys = (_VERSION_KEY, _MESSAGE_KEY) if not all(map(lambda key: key in msg, base_envelope_keys)): return msg if not utils.version_is_compatible(_RPC_ENVELOPE_VERSION, msg[_VERSION_KEY]): raise UnsupportedRpcEnvelopeVersion(version=msg[_VERSION_KEY]) return msg[_MESSAGE_KEY] ",,388,0
openstack%2Ftripleo-ci~master~I9c6ee6fb1e701682c85cb9de09d2f41f46a5a6b5,openstack/tripleo-ci,master,I9c6ee6fb1e701682c85cb9de09d2f41f46a5a6b5,Remove scenario009-multinode-oooq-container job from master,MERGED,2019-09-09 15:23:56.000000000,2019-09-15 03:48:12.000000000,2019-09-15 03:48:12.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-09 15:23:56.000000000', 'files': ['zuul.d/layout.yaml', 'zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/69498a2128fafdd060552e5c438a5e4d5b3dbf7c', 'message': 'Remove scenario009-multinode-oooq-container job from master\n\nRun scenario009-multinode-oooq-container only from queens till\nstein.\n\nChange-Id: I9c6ee6fb1e701682c85cb9de09d2f41f46a5a6b5\n'}]",4,681048,69498a2128fafdd060552e5c438a5e4d5b3dbf7c,40,9,1,10969,,,0,"Remove scenario009-multinode-oooq-container job from master

Run scenario009-multinode-oooq-container only from queens till
stein.

Change-Id: I9c6ee6fb1e701682c85cb9de09d2f41f46a5a6b5
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/48/681048/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/layout.yaml', 'zuul.d/multinode-jobs.yaml']",2,69498a2128fafdd060552e5c438a5e4d5b3dbf7c,, branches: ^(stable/(queens|rocky|stein)).*$, branches: ^(?!stable/(newton|ocata)).*$,1,4
openstack%2Fnova~master~I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720,openstack/nova,master,I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720,LM: Use Claims to update numa-related XML on the source,MERGED,2019-02-06 17:35:00.000000000,2019-09-15 03:02:10.000000000,2019-09-15 02:57:41.000000000,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22056}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-02-06 17:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/946622d1378830f939e41a874de54e38421b3346', 'message': '[Very WIP] Update NUMA XML during live migration\n\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\nImplements: bp/numa-aware-live-migration\n'}, {'number': 2, 'created': '2019-02-06 20:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4f45ceab2681eb3de2c02cab36226cda72ad3f6', 'message': '[WIP] Update NUMA XML during live migration\n\nWith this change, the source uses the dst_numa_config field in the\nmigrate_data that it receives to update NUMA-related XML attributes.\n\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\nImplements: bp/numa-aware-live-migration\n'}, {'number': 3, 'created': '2019-02-07 00:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5d5bb472717511d07a0cf3a82d901b34cd6eebf', 'message': '[WIP] Update NUMA XML during live migration\n\nWith this change, the source uses the dst_numa_config field in the\nmigrate_data that it receives to update NUMA-related XML attributes.\n\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\nImplements: bp/numa-aware-live-migration\n'}, {'number': 4, 'created': '2019-02-07 18:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/89b6cadca60052caa867006db3474d0661fffc6c', 'message': '[WIP] Update NUMA XML during live migration\n\nWith this change, the source uses the dst_numa_config field in the\nmigrate_data that it receives to update NUMA-related XML attributes.\n\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\nImplements: bp/numa-aware-live-migration\n'}, {'number': 5, 'created': '2019-02-07 22:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aef3f56adb24271d89fe94cbe03a7b9e028e2644', 'message': '[WIP] Update NUMA XML during live migration\n\nWith this change, the source uses the dst_numa_config field in the\nmigrate_data that it receives to update NUMA-related XML attributes.\n\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\nImplements: bp/numa-aware-live-migration\n'}, {'number': 6, 'created': '2019-02-08 01:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/028e10d2ae7c49d8bdea367eda645f4a11357f7a', 'message': '[WIP] LM: update NUMA-related XML on the source\n\nWith this change, the source uses the dst_numa_config field in the\nmigrate_data that it receives to update NUMA-related XML attributes.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 7, 'created': '2019-02-11 20:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed750efd878f3517f18844020e53024fa9ebb916', 'message': '[WIP] LM: update NUMA-related XML on the source\n\nWith this change, the source uses the dst_numa_config field in the\nmigrate_data that it receives to update NUMA-related XML attributes.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 8, 'created': '2019-02-11 20:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c4c83f610515c6a6fd8db51c9c3988f9c216b24', 'message': '[WIP] LM: update NUMA-related XML on the source\n\nWith this change, the source uses the dst_numa_config field in the\nmigrate_data that it receives to update NUMA-related XML attributes.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 9, 'created': '2019-02-12 03:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4220377f698b6051a316709281ef412420bb742b', 'message': '[WIP] LM: update NUMA-related XML on the source\n\nWith this change, the source uses the dst_numa_config field in the\nmigrate_data that it receives to update NUMA-related XML attributes.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 10, 'created': '2019-02-12 03:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b4aba386cd6989c9c4125f4e8089ae23bea2125', 'message': '[WIP] LM: update NUMA-related XML on the source\n\nWith this change, the source uses the dst_numa_config field in the\nmigrate_data that it receives to update NUMA-related XML attributes.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 11, 'created': '2019-02-12 14:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b243162b9d8c3c09ef630ea19083e6d3a25ceab', 'message': '[WIP] LM: update NUMA-related XML on the source\n\nWith this change, the source uses the dst_numa_config field in the\nmigrate_data that it receives to update NUMA-related XML attributes.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 12, 'created': '2019-02-12 21:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7eb80dbfb794852436a5f259edfff4ee3048c381', 'message': '[WIP] LM: update NUMA-related XML on the source\n\nWith this change, the source uses the dst_numa_config field in the\nmigrate_data that it receives to update NUMA-related XML attributes.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 13, 'created': '2019-02-13 19:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d61d6e8c69469ef91d21ec7f8e07e9084fe408b', 'message': 'LM: update NUMA-related XML on the source\n\nWith this change, the source uses the dst_numa_config field in the\nmigrate_data that it receives to update NUMA-related XML attributes.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 14, 'created': '2019-02-13 23:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b5dbf723e7e6151088058db15e11cf9d4e3d7be', 'message': 'LM: update NUMA-related XML on the source\n\nWith this change, the source uses the dst_numa_config field in the\nmigrate_data that it receives to update NUMA-related XML attributes.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 15, 'created': '2019-02-15 21:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84ac66ef068519047165d1c8e961fce6a9557ddc', 'message': 'LM: update NUMA-related XML on the source\n\nWith this change, the source uses the dst_numa_config field in the\nmigrate_data that it receives to update NUMA-related XML attributes.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 16, 'created': '2019-02-18 00:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/205783513ec45360d9a3ba8bd3653a68c0eec813', 'message': 'LM: update NUMA-related XML on the source\n\nWith this change, the source uses the dst_numa_config field in the\nmigrate_data that it receives to update NUMA-related XML attributes.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 17, 'created': '2019-02-18 21:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eca1a4e92fdae479087a7e25c2be467b32d18a38', 'message': 'LM: update NUMA-related XML on the source\n\nWith this change, the source uses the dst_numa_config field in the\nmigrate_data that it receives to update NUMA-related XML attributes.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 18, 'created': '2019-02-21 21:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fdfad32e2732e6e806a1eba6ec0b1c76c4d8343c', 'message': 'LM: update NUMA-related XML on the source\n\nWith this change, the source uses the dst_numa_config field in the\nmigrate_data that it receives to update NUMA-related XML attributes.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 19, 'created': '2019-02-22 12:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96986f803ea406c1c2e59102c40fc836dd813f60', 'message': 'LM: update NUMA-related XML on the source\n\nWith this change, the source uses the dst_numa_config field in the\nmigrate_data that it receives to update NUMA-related XML attributes.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 20, 'created': '2019-02-22 17:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40aa8e76d23ac389f72928bbbe83faa35472a9b3', 'message': 'LM: update NUMA-related XML on the source\n\nWith this change, the source uses the dst_numa_config field in the\nmigrate_data that it receives to update NUMA-related XML attributes.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 21, 'created': '2019-02-22 18:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7059b390d0aef500d7a7cf9572e0b30b0df4cc32', 'message': 'LM: update NUMA-related XML on the source\n\nWith this change, the source uses the dst_numa_config field in the\nmigrate_data that it receives to update NUMA-related XML attributes.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 22, 'created': '2019-02-23 21:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1b8c972cc61defd7b91c57de01ac279b464060a', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nWith this change, the source checks for the presence of\ndst_numa_config field in the migrate_data that it receives. If\npresent, the source will update the XML it sends to the dest with new\nCPU pinning, cell pinning, and/or emulator thread pinning information.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 23, 'created': '2019-02-23 21:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e5fb8cd768685a468400d6db85825a5128a02204', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nWith this change, the source checks for the presence of\ndst_numa_config field in the migrate_data that it receives. If\npresent, the source will update the XML it sends to the dest with new\nCPU pinning, cell pinning, and/or emulator thread pinning information.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 24, 'created': '2019-02-25 20:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f6c893498e6cd2bfd1a7ca30e47303a7c3e9758', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nWith this change, the source checks for the presence of\ndst_numa_config field in the migrate_data that it receives. If\npresent, the source will update the XML it sends to the dest with new\nCPU pinning, cell pinning, and/or emulator thread pinning information.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 25, 'created': '2019-02-26 02:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/07af33ccd2edb027a2ed81ed07a0d0931e68a64b', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nWith this change, the source checks for the presence of\ndst_numa_config field in the migrate_data that it receives. If\npresent, the source will update the XML it sends to the dest with new\nCPU pinning, cell pinning, and/or emulator thread pinning information.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 26, 'created': '2019-02-26 20:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8553d3d9b817fd3d3137cb22c1ae880630ba6ff0', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nWith this change, the source checks for the presence of\ndst_numa_config field in the migrate_data that it receives. If\npresent, the source will update the XML it sends to the dest with new\nCPU pinning, cell pinning, and/or emulator thread pinning information.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 27, 'created': '2019-02-26 21:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a42574b4f348b5c0e8779a4e59357f5bab59f903', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nWith this change, the source checks for the presence of\ndst_numa_config field in the migrate_data that it receives. If\npresent, the source will update the XML it sends to the dest with new\nCPU pinning, cell pinning, and/or emulator thread pinning information.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 28, 'created': '2019-02-27 23:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/728a268b43b10e39bfd754a7e4ae68bcdf150799', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nWith this change, the source checks for the presence of\ndst_numa_config field in the migrate_data that it receives. If\npresent, the source will update the XML it sends to the dest with new\nCPU pinning, cell pinning, and/or emulator thread pinning information.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 29, 'created': '2019-02-28 02:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c4e2824e2d78d870f023529fc5352bdc4a2cc47', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nWith this change, the source checks for the presence of\ndst_numa_config field in the migrate_data that it receives. If\npresent, the source will update the XML it sends to the dest with new\nCPU pinning, cell pinning, and/or emulator thread pinning information.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 30, 'created': '2019-06-12 20:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/13bbb131f8cf22c191aa1ea7e71aecb672045ac3', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nWith this change, the source checks for the presence of\ndst_numa_config field in the migrate_data that it receives. If\npresent, the source will update the XML it sends to the dest with new\nCPU pinning, cell pinning, and/or emulator thread pinning information.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 31, 'created': '2019-07-03 06:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/504b84224edb74275ab69847b30c7b04d1954979', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nWith this change, the source checks for the presence of\ndst_numa_config field in the migrate_data that it receives. If\npresent, the source will update the XML it sends to the dest with new\nCPU pinning, cell pinning, and/or emulator thread pinning information.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 32, 'created': '2019-07-04 12:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/acdc0501bf56ed411c871520e1e886808636d9a3', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nWith this change, the source checks for the presence of\ndst_numa_config field in the migrate_data that it receives. If\npresent, the source will update the XML it sends to the dest with new\nCPU pinning, cell pinning, and/or emulator thread pinning information.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 33, 'created': '2019-07-10 18:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/39ab3b9e1523c750ef8fb50e3939e60ca235a778', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nWith this change, the source checks for the presence of\ndst_numa_config field in the migrate_data that it receives. If\npresent, the source will update the XML it sends to the dest with new\nCPU pinning, cell pinning, and/or emulator thread pinning information.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 34, 'created': '2019-07-17 20:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83441c7246dce0125e45a13f3c8a65c7de909315', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nWith this change, the source checks for the presence of\ndst_numa_config field in the migrate_data that it receives. If\npresent, the source will update the XML it sends to the dest with new\nCPU pinning, cell pinning, and/or emulator thread pinning information.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 35, 'created': '2019-07-18 00:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59d0b65547ff1eba3c8319b03509d2726de868c5', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nWith this change, the source checks for the presence of\ndst_numa_config field in the migrate_data that it receives. If\npresent, the source will update the XML it sends to the dest with new\nCPU pinning, cell pinning, and/or emulator thread pinning information.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 36, 'created': '2019-07-24 21:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3725c031d5e3784675e414ffd066259677cf4856', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nWith this change, the source checks for the presence of\ndst_numa_config field in the migrate_data that it receives. If\npresent, the source will update the XML it sends to the dest with new\nCPU pinning, cell pinning, and/or emulator thread pinning information.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 37, 'created': '2019-07-25 14:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f10bf38b0095870699869ff324e68beeff285b5', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nWith this change, the source checks for the presence of\ndst_numa_config field in the migrate_data that it receives. If\npresent, the source will update the XML it sends to the dest with new\nCPU pinning, cell pinning, and/or emulator thread pinning information.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 38, 'created': '2019-07-25 21:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad52567baeea309199b66ce9725831eb1cf698e1', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nWith this change, the source checks for the presence of\ndst_numa_config field in the migrate_data that it receives. If\npresent, the source will update the XML it sends to the dest with new\nCPU pinning, cell pinning, and/or emulator thread pinning information.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 39, 'created': '2019-07-29 21:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e06786b9f6d7f59289ba04b7c7677560ad5ee58d', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nWith this change, the source checks for the presence of\ndst_numa_config field in the migrate_data that it receives. If\npresent, the source will update the XML it sends to the dest with new\nCPU pinning, cell pinning, and/or emulator thread pinning information.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 40, 'created': '2019-08-09 20:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f6f0d830d55fa4723136547f6c6857bd534049f7', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nThis patch adds a _update_numa_xml() method. Given the current\ninstance XML and a LibvirtLiveMigrateNUMAInfo object obtained from the\ndestination, _update_numa_xml() updates things like CPU pins, NUMA\ncell pins, and/or emulator thread pins to enable the instance to run\ncorrectly on its destination host. _update_numa_xml() is not actually\nused by anything yet, it will be wired up in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 41, 'created': '2019-08-10 12:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a2265f6cae70cf2aaa8dda3a5a1bb411c71e736', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nThis patch adds a _update_numa_xml() method. Given the current\ninstance XML and a LibvirtLiveMigrateNUMAInfo object obtained from the\ndestination, _update_numa_xml() updates things like CPU pins, NUMA\ncell pins, and/or emulator thread pins to enable the instance to run\ncorrectly on its destination host. _update_numa_xml() is not actually\nused by anything yet, it will be wired up in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 42, 'created': '2019-08-22 21:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6e79c45e05fb0001c0459a0a5327c1c6b3bb660a', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nThis patch adds a _update_numa_xml() method. Given the current\ninstance XML and a LibvirtLiveMigrateNUMAInfo object obtained from the\ndestination, _update_numa_xml() updates things like CPU pins, NUMA\ncell pins, and/or emulator thread pins to enable the instance to run\ncorrectly on its destination host. _update_numa_xml() is not actually\nused by anything yet, it will be wired up in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 43, 'created': '2019-08-23 16:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/266fd7d25a20a3e67da9f709848da1a45d5f9775', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nThis patch adds a _update_numa_xml() method. Given the current\ninstance XML and a LibvirtLiveMigrateNUMAInfo object obtained from the\ndestination, _update_numa_xml() updates things like CPU pins, NUMA\ncell pins, and/or emulator thread pins to enable the instance to run\ncorrectly on its destination host. _update_numa_xml() is not actually\nused by anything yet, it will be wired up in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 44, 'created': '2019-08-23 19:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/af361020ec4e042b824203ee77371459258dac6d', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nThis patch adds a _update_numa_xml() method. Given the current\ninstance XML and a LibvirtLiveMigrateNUMAInfo object obtained from the\ndestination, _update_numa_xml() updates things like CPU pins, NUMA\ncell pins, and/or emulator thread pins to enable the instance to run\ncorrectly on its destination host. _update_numa_xml() is not actually\nused by anything yet, it will be wired up in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 45, 'created': '2019-08-23 21:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3bc798bf1da627ca52f8d60e451fc4508e21f891', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nThis patch adds a _update_numa_xml() method. Given the current\ninstance XML and a LibvirtLiveMigrateNUMAInfo object obtained from the\ndestination, _update_numa_xml() updates things like CPU pins, NUMA\ncell pins, and/or emulator thread pins to enable the instance to run\ncorrectly on its destination host. _update_numa_xml() is not actually\nused by anything yet, it will be wired up in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 46, 'created': '2019-08-26 18:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/70cd6e64baabcee00f3f4c6d1e92d7fe16494687', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nThis patch adds a _update_numa_xml() method. Given the current\ninstance XML and a LibvirtLiveMigrateNUMAInfo object obtained from the\ndestination, _update_numa_xml() updates things like CPU pins, NUMA\ncell pins, and/or emulator thread pins to enable the instance to run\ncorrectly on its destination host. _update_numa_xml() is not actually\nused by anything yet, it will be wired up in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 47, 'created': '2019-08-26 22:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b0378150c9d6b10012501927903c749536c7ed49', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nThis patch adds a _update_numa_xml() method. Given the current\ninstance XML and a LibvirtLiveMigrateNUMAInfo object obtained from the\ndestination, _update_numa_xml() updates things like CPU pins, NUMA\ncell pins, and/or emulator thread pins to enable the instance to run\ncorrectly on its destination host. _update_numa_xml() is not actually\nused by anything yet, it will be wired up in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 48, 'created': '2019-08-27 01:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8765aacb10d9b7814b1c9e4510e5ddaf9ef30ee', 'message': 'LM: add support for updating NUMA-related XML on the source\n\nThis patch adds a _update_numa_xml() method. Given the current\ninstance XML and a LibvirtLiveMigrateNUMAInfo object obtained from the\ndestination, _update_numa_xml() updates things like CPU pins, NUMA\ncell pins, and/or emulator thread pins to enable the instance to run\ncorrectly on its destination host. _update_numa_xml() is not actually\nused by anything yet, it will be wired up in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 49, 'created': '2019-08-27 21:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1a646dacc4c9acf59111faf567f6294e8bb78a7', 'message': 'LM: Use Claims to update numa-related XML on the source\n\nWith this patch, virt drivers get a new post_claim_migrate_data()\nmethod. Currently, only the libvirt driver has a non-default\nimplementation. The method is named with future-proofing in mind, and\nis meant to be called after a resources claim has been done on the\ndestination host of a live migration operation. Its purpose is to take\nany information that the source host might need from the Claim, and\nadd it to migrate_data. For now, it is used to populate the\ndst_numa_info field, which will tell the source how to update the XML\nto match the resources (CPUs, hugepages, NUMA cells) that were claimed\non the destination.\n\nOn the source side of things, this patch adds a _update_numa_xml()\nmethod. Given the current instance XML and the\nLibvirtLiveMigrateNUMAInfo object from migrate_data.dst_num_info,\n_update_numa_xml() updates things like CPU pins, NUMA cell pins,\nand/or emulator thread pins to enable the instance to run correctly on\nits destination host. _update_numa_xml() is not actually used by\nanything yet, it will be wired up in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 50, 'created': '2019-08-28 03:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/523bcfa446d09db00983b88f3d69f78ef93192dc', 'message': 'LM: Use Claims to update numa-related XML on the source\n\nWith this patch, virt drivers get a new post_claim_migrate_data()\nmethod. Currently, only the libvirt driver has a non-default\nimplementation. The method is named with future-proofing in mind, and\nis meant to be called after a resources claim has been done on the\ndestination host of a live migration operation. Its purpose is to take\nany information that the source host might need from the Claim, and\nadd it to migrate_data. For now, it is used to populate the\ndst_numa_info field, which will tell the source how to update the XML\nto match the resources (CPUs, hugepages, NUMA cells) that were claimed\non the destination.\n\nOn the source side of things, this patch adds a _update_numa_xml()\nmethod. Given the current instance XML and the\nLibvirtLiveMigrateNUMAInfo object from migrate_data.dst_num_info,\n_update_numa_xml() updates things like CPU pins, NUMA cell pins,\nand/or emulator thread pins to enable the instance to run correctly on\nits destination host. _update_numa_xml() is not actually used by\nanything yet, it will be wired up in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 51, 'created': '2019-08-29 01:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5eed39726e27a1ac292d086982c0e470a86b42dd', 'message': 'LM: Use Claims to update numa-related XML on the source\n\nWith this patch, virt drivers get a new post_claim_migrate_data()\nmethod. Currently, only the libvirt driver has a non-default\nimplementation. The method is named with future-proofing in mind, and\nis meant to be called after a resources claim has been done on the\ndestination host of a live migration operation. Its purpose is to take\nany information that the source host might need from the Claim, and\nadd it to migrate_data. For now, it is used to populate the\ndst_numa_info field, which will tell the source how to update the XML\nto match the resources (CPUs, hugepages, NUMA cells) that were claimed\non the destination.\n\nOn the source side of things, this patch adds a _update_numa_xml()\nmethod. Given the current instance XML and the\nLibvirtLiveMigrateNUMAInfo object from migrate_data.dst_num_info,\n_update_numa_xml() updates things like CPU pins, NUMA cell pins,\nand/or emulator thread pins to enable the instance to run correctly on\nits destination host. _update_numa_xml() is not actually used by\nanything yet, it will be wired up in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 52, 'created': '2019-08-29 18:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b55c4cfcb02fef6ce3ebc57e2c8232976a2d860', 'message': 'LM: Use Claims to update numa-related XML on the source\n\nWith this patch, virt drivers get a new post_claim_migrate_data()\nmethod. Currently, only the libvirt driver has a non-default\nimplementation. The method is named with future-proofing in mind, and\nis meant to be called after a resources claim has been done on the\ndestination host of a live migration operation. Its purpose is to take\nany information that the source host might need from the Claim, and\nadd it to migrate_data. For now, it is used to populate the\ndst_numa_info field, which will tell the source how to update the XML\nto match the resources (CPUs, hugepages, NUMA cells) that were claimed\non the destination.\n\nOn the source side of things, this patch adds a _update_numa_xml()\nmethod. Given the current instance XML and the\nLibvirtLiveMigrateNUMAInfo object from migrate_data.dst_num_info,\n_update_numa_xml() updates things like CPU pins, NUMA cell pins,\nand/or emulator thread pins to enable the instance to run correctly on\nits destination host. _update_numa_xml() is not actually used by\nanything yet, it will be wired up in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 53, 'created': '2019-08-30 18:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/685021ab1a39729c1dc182fafbcf5e1ab28eaacf', 'message': 'LM: Use Claims to update numa-related XML on the source\n\nWith this patch, virt drivers get a new post_claim_migrate_data()\nmethod. Currently, only the libvirt driver has a non-default\nimplementation. The method is named with future-proofing in mind, and\nis meant to be called after a resources claim has been done on the\ndestination host of a live migration operation. Its purpose is to take\nany information that the source host might need from the Claim, and\nadd it to migrate_data. For now, it is used to populate the\ndst_numa_info field, which will tell the source how to update the XML\nto match the resources (CPUs, hugepages, NUMA cells) that were claimed\non the destination.\n\nOn the source side of things, this patch adds a _update_numa_xml()\nmethod. Given the current instance XML and the\nLibvirtLiveMigrateNUMAInfo object from migrate_data.dst_num_info,\n_update_numa_xml() updates things like CPU pins, NUMA cell pins,\nand/or emulator thread pins to enable the instance to run correctly on\nits destination host. _update_numa_xml() is not actually used by\nanything yet, it will be wired up in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 54, 'created': '2019-09-02 21:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc6e2786ab1f76721703539a4792ae751b10eda5', 'message': 'LM: Use Claims to update numa-related XML on the source\n\nWith this patch, virt drivers get a new post_claim_migrate_data()\nmethod. Currently, only the libvirt driver has a non-default\nimplementation. The method is named with future-proofing in mind, and\nis meant to be called after a resources claim has been done on the\ndestination host of a live migration operation. Its purpose is to take\nany information that the source host might need from the Claim, and\nadd it to migrate_data. For now, it is used to populate the\ndst_numa_info field, which will tell the source how to update the XML\nto match the resources (CPUs, hugepages, NUMA cells) that were claimed\non the destination.\n\nOn the source side of things, this patch adds a _update_numa_xml()\nmethod. Given the current instance XML and the\nLibvirtLiveMigrateNUMAInfo object from migrate_data.dst_num_info,\n_update_numa_xml() updates things like CPU pins, NUMA cell pins,\nand/or emulator thread pins to enable the instance to run correctly on\nits destination host. _update_numa_xml() is not actually used by\nanything yet, it will be wired up in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 55, 'created': '2019-09-03 02:42:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d3424fa91647882e681300c05de89cfe402cfe1', 'message': 'LM: Use Claims to update numa-related XML on the source\n\nWith this patch, virt drivers get a new post_claim_migrate_data()\nmethod. Currently, only the libvirt driver has a non-default\nimplementation. The method is named with future-proofing in mind, and\nis meant to be called after a resources claim has been done on the\ndestination host of a live migration operation. Its purpose is to take\nany information that the source host might need from the Claim, and\nadd it to migrate_data. For now, it is used to populate the\ndst_numa_info field, which will tell the source how to update the XML\nto match the resources (CPUs, hugepages, NUMA cells) that were claimed\non the destination.\n\nOn the source side of things, this patch adds a _update_numa_xml()\nmethod. Given the current instance XML and the\nLibvirtLiveMigrateNUMAInfo object from migrate_data.dst_num_info,\n_update_numa_xml() updates things like CPU pins, NUMA cell pins,\nand/or emulator thread pins to enable the instance to run correctly on\nits destination host. _update_numa_xml() is not actually used by\nanything yet, it will be wired up in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 56, 'created': '2019-09-03 14:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08bdeb3605571ff51cfff96e6b85441700ef434d', 'message': 'LM: Use Claims to update numa-related XML on the source\n\nWith this patch, virt drivers get a new post_claim_migrate_data()\nmethod. Currently, only the libvirt driver has a non-default\nimplementation. The method is named with future-proofing in mind, and\nis meant to be called after a resources claim has been done on the\ndestination host of a live migration operation. Its purpose is to take\nany information that the source host might need from the Claim, and\nadd it to migrate_data. For now, it is used to populate the\ndst_numa_info field, which will tell the source how to update the XML\nto match the resources (CPUs, hugepages, NUMA cells) that were claimed\non the destination.\n\nOn the source side of things, this patch adds a _update_numa_xml()\nmethod. Given the current instance XML and the\nLibvirtLiveMigrateNUMAInfo object from migrate_data.dst_num_info,\n_update_numa_xml() updates things like CPU pins, NUMA cell pins,\nand/or emulator thread pins to enable the instance to run correctly on\nits destination host. _update_numa_xml() is not actually used by\nanything yet, it will be wired up in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 57, 'created': '2019-09-03 15:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b29c5a005de602358f8c23fd3bf1c86af7229ffc', 'message': 'LM: Use Claims to update numa-related XML on the source\n\nWith this patch, virt drivers get a new post_claim_migrate_data()\nmethod. Currently, only the libvirt driver has a non-default\nimplementation. The method is named with future-proofing in mind, and\nis meant to be called after a resources claim has been done on the\ndestination host of a live migration operation. Its purpose is to take\nany information that the source host might need from the Claim, and\nadd it to migrate_data. For now, it is used to populate the\ndst_numa_info field, which will tell the source how to update the XML\nto match the resources (CPUs, hugepages, NUMA cells) that were claimed\non the destination.\n\nOn the source side of things, this patch adds a _update_numa_xml()\nmethod. Given the current instance XML and the\nLibvirtLiveMigrateNUMAInfo object from migrate_data.dst_num_info,\n_update_numa_xml() updates things like CPU pins, NUMA cell pins,\nand/or emulator thread pins to enable the instance to run correctly on\nits destination host. _update_numa_xml() is not actually used by\nanything yet, it will be wired up in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 58, 'created': '2019-09-03 17:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/022e9b97cbba6f8cc28806ebfabbf5b9953cfdc0', 'message': 'LM: Use Claims to update numa-related XML on the source\n\nWith this patch, virt drivers get a new post_claim_migrate_data()\nmethod. Currently, only the libvirt driver has a non-default\nimplementation. The method is named with future-proofing in mind, and\nis meant to be called after a resources claim has been done on the\ndestination host of a live migration operation. Its purpose is to take\nany information that the source host might need from the Claim, and\nadd it to migrate_data. For now, it is used to populate the\ndst_numa_info field, which will tell the source how to update the XML\nto match the resources (CPUs, hugepages, NUMA cells) that were claimed\non the destination.\n\nOn the source side of things, this patch adds a _update_numa_xml()\nmethod. Given the current instance XML and the\nLibvirtLiveMigrateNUMAInfo object from migrate_data.dst_num_info,\n_update_numa_xml() updates things like CPU pins, NUMA cell pins,\nand/or emulator thread pins to enable the instance to run correctly on\nits destination host. _update_numa_xml() is not actually used by\nanything yet, it will be wired up in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 59, 'created': '2019-09-07 00:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/15c8433697e73e8790fe28a1afb280ae475d14a1', 'message': 'LM: Use Claims to update numa-related XML on the source\n\nWith this patch, virt drivers get a new post_claim_migrate_data()\nmethod. Currently, only the libvirt driver has a non-default\nimplementation. The method is named with future-proofing in mind, and\nis meant to be called after a resources claim has been done on the\ndestination host of a live migration operation. Its purpose is to take\nany information that the source host might need from the Claim, and\nadd it to migrate_data. For now, it is used to populate the\ndst_numa_info field, which will tell the source how to update the XML\nto match the resources (CPUs, hugepages, NUMA cells) that were claimed\non the destination.\n\nOn the source side of things, this patch adds a _update_numa_xml()\nmethod. Given the current instance XML and the\nLibvirtLiveMigrateNUMAInfo object from migrate_data.dst_num_info,\n_update_numa_xml() updates things like CPU pins, NUMA cell pins,\nand/or emulator thread pins to enable the instance to run correctly on\nits destination host. _update_numa_xml() is not actually used by\nanything yet, it will be wired up in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 60, 'created': '2019-09-07 13:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd66653f714b3c91080028ca8b02fbd3d33d5f4f', 'message': 'LM: Use Claims to update numa-related XML on the source\n\nWith this patch, virt drivers get a new post_claim_migrate_data()\nmethod. Currently, only the libvirt driver has a non-default\nimplementation. The method is named with future-proofing in mind, and\nis meant to be called after a resources claim has been done on the\ndestination host of a live migration operation. Its purpose is to take\nany information that the source host might need from the Claim, and\nadd it to migrate_data. For now, it is used to populate the\ndst_numa_info field, which will tell the source how to update the XML\nto match the resources (CPUs, hugepages, NUMA cells) that were claimed\non the destination.\n\nOn the source side of things, this patch adds a _update_numa_xml()\nmethod. Given the current instance XML and the\nLibvirtLiveMigrateNUMAInfo object from migrate_data.dst_num_info,\n_update_numa_xml() updates things like CPU pins, NUMA cell pins,\nand/or emulator thread pins to enable the instance to run correctly on\nits destination host. _update_numa_xml() is not actually used by\nanything yet, it will be wired up in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 61, 'created': '2019-09-08 00:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3efc5268120c32803d5bd65cc949f70f2b655b42', 'message': 'LM: Use Claims to update numa-related XML on the source\n\nWith this patch, virt drivers get a new post_claim_migrate_data()\nmethod. Currently, only the libvirt driver has a non-default\nimplementation. The method is named with future-proofing in mind, and\nis meant to be called after a resources claim has been done on the\ndestination host of a live migration operation. Its purpose is to take\nany information that the source host might need from the Claim, and\nadd it to migrate_data. For now, it is used to populate the\ndst_numa_info field, which will tell the source how to update the XML\nto match the resources (CPUs, hugepages, NUMA cells) that were claimed\non the destination.\n\nOn the source side of things, this patch adds a _update_numa_xml()\nmethod. Given the current instance XML and the\nLibvirtLiveMigrateNUMAInfo object from migrate_data.dst_num_info,\n_update_numa_xml() updates things like CPU pins, NUMA cell pins,\nand/or emulator thread pins to enable the instance to run correctly on\nits destination host. _update_numa_xml() is not actually used by\nanything yet, it will be wired up in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 62, 'created': '2019-09-10 03:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18b89a2c53b9dbb3e0f2b9d86dccbffce669430e', 'message': 'LM: Use Claims to update numa-related XML on the source\n\nWith this patch, virt drivers get a new post_claim_migrate_data()\nmethod. Currently, only the libvirt driver has a non-default\nimplementation. The method is named with future-proofing in mind, and\nis meant to be called after a resources claim has been done on the\ndestination host of a live migration operation. Its purpose is to take\nany information that the source host might need from the Claim, and\nadd it to migrate_data. For now, it is used to populate the\ndst_numa_info field, which will tell the source how to update the XML\nto match the resources (CPUs, hugepages, NUMA cells) that were claimed\non the destination.\n\nOn the source side of things, this patch adds a _update_numa_xml()\nmethod. Given the current instance XML and the\nLibvirtLiveMigrateNUMAInfo object from migrate_data.dst_num_info,\n_update_numa_xml() updates things like CPU pins, NUMA cell pins,\nand/or emulator thread pins to enable the instance to run correctly on\nits destination host. _update_numa_xml() is not actually used by\nanything yet, it will be wired up in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}, {'number': 63, 'created': '2019-09-12 21:36:48.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_migration.py', 'nova/virt/driver.py', 'nova/tests/unit/virt/test_virt_drivers.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/202aae66523c1f0a3c6b55a2b2cca4dc44d5c89b', 'message': 'LM: Use Claims to update numa-related XML on the source\n\nWith this patch, virt drivers get a new post_claim_migrate_data()\nmethod. Currently, only the libvirt driver has a non-default\nimplementation. The method is named with future-proofing in mind, and\nis meant to be called after a resources claim has been done on the\ndestination host of a live migration operation. Its purpose is to take\nany information that the source host might need from the Claim, and\nadd it to migrate_data. For now, it is used to populate the\ndst_numa_info field, which will tell the source how to update the XML\nto match the resources (CPUs, hugepages, NUMA cells) that were claimed\non the destination.\n\nOn the source side of things, this patch adds a _update_numa_xml()\nmethod. Given the current instance XML and the\nLibvirtLiveMigrateNUMAInfo object from migrate_data.dst_num_info,\n_update_numa_xml() updates things like CPU pins, NUMA cell pins,\nand/or emulator thread pins to enable the instance to run correctly on\nits destination host. _update_numa_xml() is not actually used by\nanything yet, it will be wired up in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720\n'}]",98,635229,202aae66523c1f0a3c6b55a2b2cca4dc44d5c89b,514,21,63,8864,,,0,"LM: Use Claims to update numa-related XML on the source

With this patch, virt drivers get a new post_claim_migrate_data()
method. Currently, only the libvirt driver has a non-default
implementation. The method is named with future-proofing in mind, and
is meant to be called after a resources claim has been done on the
destination host of a live migration operation. Its purpose is to take
any information that the source host might need from the Claim, and
add it to migrate_data. For now, it is used to populate the
dst_numa_info field, which will tell the source how to update the XML
to match the resources (CPUs, hugepages, NUMA cells) that were claimed
on the destination.

On the source side of things, this patch adds a _update_numa_xml()
method. Given the current instance XML and the
LibvirtLiveMigrateNUMAInfo object from migrate_data.dst_num_info,
_update_numa_xml() updates things like CPU pins, NUMA cell pins,
and/or emulator thread pins to enable the instance to run correctly on
its destination host. _update_numa_xml() is not actually used by
anything yet, it will be wired up in subsequent patches.

Implements blueprint numa-aware-live-migration
Change-Id: I0f40f0461c34c49c6e26dcae5e9bd78ee7f1a720
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/635229/33 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/migration.py'],1,946622d1378830f939e41a874de54e38421b3346,bp/numa-aware-live-migration," if ('dst_numa_config' in migrate_data and migrate_data.dst_numa_config is not None: xml_doc = _update_numa_xml(xml_doc, migrate_data)def _update_numa_xml(xml_doc, migrate_data): return xml_doc ",,7,0
openstack%2Fnova~master~I7c7f54ab142f01808ee4b46d27b4a336e476cc77,openstack/nova,master,I7c7f54ab142f01808ee4b46d27b4a336e476cc77,New objects for NUMA live migration,MERGED,2019-02-04 22:46:55.000000000,2019-09-15 03:00:54.000000000,2019-09-15 02:57:28.000000000,"[{'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 6547}, {'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22056}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}, {'_account_id': 28570}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-02-04 22:46:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e13ee5264ab5a5058974334d455a8b0fe63a35d', 'message': '[Very WIP] New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML. In the immediate future, only the libvirt driver\nwill make use of them, but their design is as driver-independant as\nreasonably possible.\n\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 2, 'created': '2019-02-06 03:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d45af282fac698f016e5ed69dde7c60234cc0956', 'message': '[WIP] New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML. In the immediate future, only the libvirt driver\nwill make use of them, but their design is driver-independant.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 3, 'created': '2019-02-06 13:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b4953c4ca978abe684dc2a0fcd084838d021cc5', 'message': '[WIP] New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML. In the immediate future, only the libvirt driver\nwill make use of them, but their design is driver-independant.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 4, 'created': '2019-02-06 17:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9bab5bae1cf98b80fbd125c6e1c91641b83ac718', 'message': '[WIP] New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML. In the immediate future, only the libvirt driver\nwill make use of them, but their design is driver-independant.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 5, 'created': '2019-02-06 20:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba9bc8aedd317b01406f5827ea43711d98b19494', 'message': '[WIP] New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML. In the immediate future, only the libvirt driver\nwill make use of them, but their design is driver-independant.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 6, 'created': '2019-02-07 00:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83dc7cb807ca59fb4f0b3072c818f7361bfa79c7', 'message': '[WIP] New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML. In the immediate future, only the libvirt driver\nwill make use of them, but their design is driver-independant.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 7, 'created': '2019-02-07 18:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe1cca45deb207e5feb6333d7926f91c5a2dfebe', 'message': '[WIP] New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML. In the immediate future, only the libvirt driver\nwill make use of them, but their design is driver-independant.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 8, 'created': '2019-02-07 22:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2ff43d0a2fe36d6abf9f33a790e9504164493c4e', 'message': '[WIP] New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML. In the immediate future, only the libvirt driver\nwill make use of them, but their design is driver-independant.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 9, 'created': '2019-02-08 01:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0df4893ca96c0dc7dcf0c74570a54a2c7ba5d859', 'message': '[WIP] New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 10, 'created': '2019-02-11 20:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b3300beccc9aae25dbbb07abd5497a35104b0c4f', 'message': 'New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 11, 'created': '2019-02-11 20:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6e5100eaa6820655d05292a8d85c3de479d1cbd', 'message': 'New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 12, 'created': '2019-02-12 03:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f62be693715021aed0fcbd56117724d3d537b3f0', 'message': 'New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 13, 'created': '2019-02-12 03:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c7bb2dad9c6dc2bcf7b402837a4efc8572c5579', 'message': 'New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 14, 'created': '2019-02-12 14:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eafb23d6c9370374cffef69ba960046be2b58f85', 'message': 'New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 15, 'created': '2019-02-12 21:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/940a639f926e3ba5cdf65a4002f847773291deb9', 'message': 'New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 16, 'created': '2019-02-13 19:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a51f8da7c73a2478d9aabfeb03e4fea62315e24', 'message': 'New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 17, 'created': '2019-02-13 23:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/04d2a012c7e418c589627eed1d40fac93906b448', 'message': 'New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 18, 'created': '2019-02-15 21:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a2d3bc504d67267ded7fa91ad8666ae1a1b1ef49', 'message': 'New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML. The hash and eq methods will be useful in unit\ntests in subsequent patches.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 19, 'created': '2019-02-18 00:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/91ad446181e17581dc078bc123c3164abef92a40', 'message': 'New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML. The hash and eq methods will be useful in unit\ntests in subsequent patches.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 20, 'created': '2019-02-21 21:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a96e07d1bb14a4f6121d556e1784062bee587334', 'message': 'New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML. The hash and eq methods will be useful in unit\ntests in subsequent patches.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 21, 'created': '2019-02-22 12:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0ad495f18cfd5c383afad1e4ce9d388cc2a1915f', 'message': 'New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML. The hash and eq methods will be useful in unit\ntests in subsequent patches.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 22, 'created': '2019-02-22 17:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3018dbbea8cd291382ea28af7ddf5ab106dd06bc', 'message': 'New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML. The hash and eq methods will be useful in unit\ntests in subsequent patches.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 23, 'created': '2019-02-22 18:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/62253421edaf5b0298815e1396afc9bfe1b9a55a', 'message': 'New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML. The hash and eq methods will be useful in unit\ntests in subsequent patches.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 24, 'created': '2019-02-23 21:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e561c4026f62370b8e503575751caa5d08c2a5aa', 'message': 'New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML. The hash and eq methods will be useful in unit\ntests in subsequent patches.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 25, 'created': '2019-02-23 21:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b197e5a4e5d5b7116c4e7c675c8c8d6c83990666', 'message': 'New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML. The hash and eq methods will be useful in unit\ntests in subsequent patches.\n\nImplements: bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 26, 'created': '2019-02-25 20:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b7b46383a4c7c9b40a40d88e7596288f983e51b', 'message': 'New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML. The hash and eq methods will be useful in unit\ntests in subsequent patches.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 27, 'created': '2019-02-26 02:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f7ff49ddec263ff17888de9a89414e67095b6a51', 'message': 'New objects to transmit NUMA config from dest to source\n\nThis patch adds Nova objects that will allow the destination to\ncommunicate to the source the NUMA information it needs to generate\ncorrect instance XML. The hash and eq methods will be useful in unit\ntests in subsequent patches.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 28, 'created': '2019-02-26 20:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d4ee4848d01b8fb397074aa4a57e8a16525b57e', 'message': 'New objects for NUMA live migration\n\nThis patch adds Nova objects that will allow\n\n* The source to send the instance NUMA topology to the destination.\n* The destination to communicate to the source the NUMA information it\n  needs to generate correct instance XML. The hash and eq methods will\n  be useful in unit tests in subsequent patches.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 29, 'created': '2019-02-26 21:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5a2c293f9777b84856a900f2c8fbe32a3b4e3ad5', 'message': 'New objects for NUMA live migration\n\nThis patch adds Nova objects that will allow\n\n* The source to send the instance NUMA topology to the destination.\n* The destination to communicate to the source the NUMA information it\n  needs to generate correct instance XML. The hash and eq methods will\n  be useful in unit tests in subsequent patches.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 30, 'created': '2019-02-27 23:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/679f507b23d6f9ad21dba4911e2b8f8298d595fc', 'message': 'New objects for NUMA live migration\n\nThis patch adds Nova objects that will allow\n\n* The source to send the instance NUMA topology to the destination.\n* The destination to communicate to the source the NUMA information it\n  needs to generate correct instance XML. The hash and eq methods will\n  be useful in unit tests in subsequent patches.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 31, 'created': '2019-02-28 02:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e9f3f42010d1ba1bcb4046eb622ce99948c1b9d', 'message': 'New objects for NUMA live migration\n\nThis patch adds Nova objects that will allow\n\n* The source to send the instance NUMA topology to the destination.\n* The destination to communicate to the source the NUMA information it\n  needs to generate correct instance XML. The hash and eq methods will\n  be useful in unit tests in subsequent patches.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 32, 'created': '2019-06-12 20:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0a356d682092cb0849e3280d003cf43febb99d36', 'message': 'New objects for NUMA live migration\n\nThis patch adds Nova objects that will allow\n\n* The source to send the instance NUMA topology to the destination.\n* The destination to communicate to the source the NUMA information it\n  needs to generate correct instance XML. The hash and eq methods will\n  be useful in unit tests in subsequent patches.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 33, 'created': '2019-07-03 06:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c73eb6f176e4e18113726d836728269bf04badc', 'message': 'New objects for NUMA live migration\n\nThis patch adds Nova objects that will allow\n\n* The source to send the instance NUMA topology to the destination.\n* The destination to communicate to the source the NUMA information it\n  needs to generate correct instance XML. The hash and eq methods will\n  be useful in unit tests in subsequent patches.\n\nImplements blueprint bp/numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 34, 'created': '2019-07-04 12:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0038177b6d1f30f6034aae4a4bee2c8ebd8f8152', 'message': 'New objects for NUMA live migration\n\nThis patch adds Nova objects that will allow\n\n* The source to send the instance NUMA topology to the destination.\n* The destination to communicate to the source the NUMA information it\n  needs to generate correct instance XML. The hash and eq methods will\n  be useful in unit tests in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 35, 'created': '2019-07-10 18:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b3e61732d3ce5eeec557075da4f15daa587cb4f9', 'message': 'New objects for NUMA live migration\n\nThis patch adds Nova objects that will allow\n\n* The source to send the instance NUMA topology to the destination.\n* The destination to communicate to the source the NUMA information it\n  needs to generate correct instance XML. The hash and eq methods will\n  be useful in unit tests in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 36, 'created': '2019-07-17 20:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8b1ad6634040017311046787cf0b805d22809256', 'message': 'New objects for NUMA live migration\n\nThis patch adds Nova objects that will allow\n\n* The source to send the instance NUMA topology to the destination.\n* The destination to communicate to the source the NUMA information it\n  needs to generate correct instance XML. The hash and eq methods will\n  be useful in unit tests in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 37, 'created': '2019-07-18 00:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0dce365bda541050536e7d94f87ebb50d3a1d13a', 'message': 'New objects for NUMA live migration\n\nThis patch adds Nova objects that will allow\n\n* The source to send the instance NUMA topology to the destination.\n* The destination to communicate to the source the NUMA information it\n  needs to generate correct instance XML. The hash and eq methods will\n  be useful in unit tests in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 38, 'created': '2019-07-24 21:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3beddfb05c67395c2d3a2d1d240d6562df2ee42b', 'message': 'New objects for NUMA live migration\n\nThis patch adds Nova objects that will allow\n\n* The source to send the instance NUMA topology to the destination.\n* The destination to communicate to the source the NUMA information it\n  needs to generate correct instance XML. The hash and eq methods will\n  be useful in unit tests in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 39, 'created': '2019-07-25 14:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/819a2a0950da50be997daf5170bfdc30b957bc17', 'message': 'New objects for NUMA live migration\n\nThis patch adds Nova objects that will allow\n\n* The source to send the instance NUMA topology to the destination.\n* The destination to communicate to the source the NUMA information it\n  needs to generate correct instance XML. The hash and eq methods will\n  be useful in unit tests in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 40, 'created': '2019-07-25 21:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1753866be04b49ef664a0387e80ae819c30051e3', 'message': 'New objects for NUMA live migration\n\nThis patch adds Nova objects that will allow\n\n* The source to send the instance NUMA topology to the destination.\n* The destination to communicate to the source the NUMA information it\n  needs to generate correct instance XML. The hash and eq methods will\n  be useful in unit tests in subsequent patches.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 41, 'created': '2019-07-29 21:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ed66102a2febaf0ab14c55819919fc8c72e3b3f', 'message': 'New objects for NUMA live migration\n\nThis patch adds Nova objects that will allow\n\n* The source to send the instance NUMA topology to the destination.\n* The destination to communicate to the source the NUMA information it\n  needs to generate correct instance XML.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n'}, {'number': 42, 'created': '2019-08-09 20:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f911eaa0bb1f9621d17713b9c3a18698b63d6a5', 'message': ""New objects for NUMA live migration\n\nThis patch contains the Nova object modifications that will eventually\nenable NUMA live migration:\n\n* instance_numa_topology is added to LibvirtLiveMigrateData. The\n  source host will use it to store the instance's NUMA topology in\n  order to indicate to the destination that it can perform a\n  NUMA-aware live migration.\n* LibvirtLiveMigrateNUMAInfo is a new object that encodes how the\n  instance's NUMA-y things will fit on the destination host. It\n  contains things like the new CPU pins, the new NUMA cell pins, and\n  the new emulator thread pins.\n* dst_numa_config is added to LibvirtLiveMigrateData. It contains a\n  LibvirtLiveMigrateNUMAInfo object. It will be set by the destination\n  and will be used by the source to update the intance's XML.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n""}, {'number': 43, 'created': '2019-08-10 12:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e9a9cc8d045f0b700eac69a8d6586400a2d0ab1', 'message': ""New objects for NUMA live migration\n\nThis patch contains the Nova object modifications that will eventually\nenable NUMA live migration:\n\n* instance_numa_topology is added to LibvirtLiveMigrateData. The\n  source host will use it to store the instance's NUMA topology in\n  order to indicate to the destination that it can perform a\n  NUMA-aware live migration.\n* LibvirtLiveMigrateNUMAInfo is a new object that encodes how the\n  instance's NUMA-y things will fit on the destination host. It\n  contains things like the new CPU pins, the new NUMA cell pins, and\n  the new emulator thread pins.\n* dst_numa_config is added to LibvirtLiveMigrateData. It contains a\n  LibvirtLiveMigrateNUMAInfo object. It will be set by the destination\n  and will be used by the source to update the intance's XML.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n""}, {'number': 44, 'created': '2019-08-22 21:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/87c8c1121e86697e54b4032a26bd1ea0c9f7ae9f', 'message': ""New objects for NUMA live migration\n\nThis patch contains the Nova object modifications that will eventually\nenable NUMA live migration:\n\n* instance_numa_topology is added to LibvirtLiveMigrateData. The\n  source host will use it to store the instance's NUMA topology in\n  order to indicate to the destination that it can perform a\n  NUMA-aware live migration.\n* LibvirtLiveMigrateNUMAInfo is a new object that encodes how the\n  instance's NUMA-y things will fit on the destination host. It\n  contains things like the new CPU pins, the new NUMA cell pins, and\n  the new emulator thread pins.\n* dst_numa_info is added to LibvirtLiveMigrateData. It contains a\n  LibvirtLiveMigrateNUMAInfo object. It will be set by the destination\n  and will be used by the source to update the intance's XML.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n""}, {'number': 45, 'created': '2019-08-23 16:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0e0ed7a9ca2b07762dff3ffb01d94a0c30aa1e86', 'message': ""New objects for NUMA live migration\n\nThis patch contains the Nova object modifications that will eventually\nenable NUMA live migration:\n\n* instance_numa_topology is added to LibvirtLiveMigrateData. The\n  source host will use it to store the instance's NUMA topology in\n  order to indicate to the destination that it can perform a\n  NUMA-aware live migration.\n* LibvirtLiveMigrateNUMAInfo is a new object that encodes how the\n  instance's NUMA-y things will fit on the destination host. It\n  contains things like the new CPU pins, the new NUMA cell pins, and\n  the new emulator thread pins.\n* dst_numa_info is added to LibvirtLiveMigrateData. It contains a\n  LibvirtLiveMigrateNUMAInfo object. It will be set by the destination\n  and will be used by the source to update the intance's XML.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n""}, {'number': 46, 'created': '2019-08-23 19:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c1b9b76f31b964b5fb1b60268520b36dec2bf6e', 'message': ""New objects for NUMA live migration\n\nThis patch contains the Nova object modifications that will eventually\nenable NUMA live migration:\n\n* instance_numa_topology is added to LibvirtLiveMigrateData. The\n  source host will use it to store the instance's NUMA topology in\n  order to indicate to the destination that it can perform a\n  NUMA-aware live migration.\n* LibvirtLiveMigrateNUMAInfo is a new object that encodes how the\n  instance's NUMA-y things will fit on the destination host. It\n  contains things like the new CPU pins, the new NUMA cell pins, and\n  the new emulator thread pins.\n* dst_numa_info is added to LibvirtLiveMigrateData. It contains a\n  LibvirtLiveMigrateNUMAInfo object. It will be set by the destination\n  and will be used by the source to update the intance's XML.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n""}, {'number': 47, 'created': '2019-08-23 21:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea3b21016c30e31924331f9ae1f2cb55ab88990e', 'message': ""New objects for NUMA live migration\n\nThis patch contains the Nova object modifications that will eventually\nenable NUMA live migration:\n\n* instance_numa_topology is added to LibvirtLiveMigrateData. The\n  source host will use it to store the instance's NUMA topology in\n  order to indicate to the destination that it can perform a\n  NUMA-aware live migration.\n* LibvirtLiveMigrateNUMAInfo is a new object that encodes how the\n  instance's NUMA-y things will fit on the destination host. It\n  contains things like the new CPU pins, the new NUMA cell pins, and\n  the new emulator thread pins.\n* dst_numa_info is added to LibvirtLiveMigrateData. It contains a\n  LibvirtLiveMigrateNUMAInfo object. It will be set by the destination\n  and will be used by the source to update the intance's XML.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n""}, {'number': 48, 'created': '2019-08-26 18:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/03ddf6a932325bdf51e54f3b8c0d387f311d5bbe', 'message': ""New objects for NUMA live migration\n\nThis patch contains the Nova object modifications that will eventually\nenable NUMA live migration:\n\n* numa_topology is added to LibvirtLiveMigrateData. The\n  source host will use it to store the instance's NUMA topology in\n  order to indicate to the destination that it can perform a\n  NUMA-aware live migration.\n* LibvirtLiveMigrateNUMAInfo is a new object that encodes how the\n  instance's NUMA-y things will fit on the destination host. It\n  contains things like the new CPU pins, the new NUMA cell pins, and\n  the new emulator thread pins.\n* dst_numa_info is added to LibvirtLiveMigrateData. It contains a\n  LibvirtLiveMigrateNUMAInfo object. It will be set by the destination\n  and will be used by the source to update the intance's XML.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n""}, {'number': 49, 'created': '2019-08-26 22:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a541cfa250babb2572bbba397a9b916c3f581e0', 'message': ""New objects for NUMA live migration\n\nThis patch contains the Nova object modifications that will eventually\nenable NUMA live migration:\n\n* numa_topology is added to LibvirtLiveMigrateData. The\n  source host will use it to store the instance's NUMA topology in\n  order to indicate to the destination that it can perform a\n  NUMA-aware live migration.\n* LibvirtLiveMigrateNUMAInfo is a new object that encodes how the\n  instance's NUMA-y things will fit on the destination host. It\n  contains things like the new CPU pins, the new NUMA cell pins, and\n  the new emulator thread pins.\n* dst_numa_info is added to LibvirtLiveMigrateData. It contains a\n  LibvirtLiveMigrateNUMAInfo object. It will be set by the destination\n  and will be used by the source to update the intance's XML.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n""}, {'number': 50, 'created': '2019-08-27 01:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa14c3e5b778bc6d4fd2a1faa003fc5ef8d9a52c', 'message': ""New objects for NUMA live migration\n\nThis patch contains the Nova object modifications that will eventually\nenable NUMA live migration:\n\n* numa_topology is added to LibvirtLiveMigrateData. The\n  source host will use it to store the instance's NUMA topology in\n  order to indicate to the destination that it can perform a\n  NUMA-aware live migration.\n* LibvirtLiveMigrateNUMAInfo is a new object that encodes how the\n  instance's NUMA-y things will fit on the destination host. It\n  contains things like the new CPU pins, the new NUMA cell pins, and\n  the new emulator thread pins.\n* dst_numa_info is added to LibvirtLiveMigrateData. It contains a\n  LibvirtLiveMigrateNUMAInfo object. It will be set by the destination\n  and will be used by the source to update the intance's XML.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n""}, {'number': 51, 'created': '2019-08-27 21:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea1edf38effaac4ed074443f47ba43bc3663e678', 'message': ""New objects for NUMA live migration\n\nThis patch contains the Nova object modifications that will eventually\nenable NUMA live migration:\n\n* src_suports_numa_live_migration is added to LibvirtLiveMigrateData.\nThe source host will use it to indicate to the destination that it can\nperform a NUMA-aware live migration.\n\n* LibvirtLiveMigrateNUMAInfo is a new object that encodes how the\ninstance's NUMA-y things will fit on the destination host. It contains\nthings like the new CPU pins, the new NUMA cell pins, and the new\nemulator thread pins.\n\n* dst_numa_info is added to LibvirtLiveMigrateData. It contains a\nLibvirtLiveMigrateNUMAInfo object. It will be set by the destination\nand will be used by the source to update the intance's XML.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n""}, {'number': 52, 'created': '2019-08-28 03:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/689f79d848e343f309c23e0f5937cb563b3d3be5', 'message': ""New objects for NUMA live migration\n\nThis patch contains the Nova object modifications that will eventually\nenable NUMA live migration:\n\n* src_suports_numa_live_migration is added to LibvirtLiveMigrateData.\nThe source host will use it to indicate to the destination that it can\nperform a NUMA-aware live migration.\n\n* LibvirtLiveMigrateNUMAInfo is a new object that encodes how the\ninstance's NUMA-y things will fit on the destination host. It contains\nthings like the new CPU pins, the new NUMA cell pins, and the new\nemulator thread pins.\n\n* dst_numa_info is added to LibvirtLiveMigrateData. It contains a\nLibvirtLiveMigrateNUMAInfo object. It will be set by the destination\nand will be used by the source to update the intance's XML.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n""}, {'number': 53, 'created': '2019-08-29 01:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/691f72441a532ba7529f779a5f5cb1df8c8279f3', 'message': ""New objects for NUMA live migration\n\nThis patch contains the Nova object modifications that will eventually\nenable NUMA live migration:\n\n* src_suports_numa_live_migration is added to LibvirtLiveMigrateData.\nThe source host will use it to indicate to the destination that it can\nperform a NUMA-aware live migration.\n\n* LibvirtLiveMigrateNUMAInfo is a new object that encodes how the\ninstance's NUMA-y things will fit on the destination host. It contains\nthings like the new CPU pins, the new NUMA cell pins, and the new\nemulator thread pins.\n\n* dst_numa_info is added to LibvirtLiveMigrateData. It contains a\nLibvirtLiveMigrateNUMAInfo object. It will be set by the destination\nand will be used by the source to update the intance's XML.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n""}, {'number': 54, 'created': '2019-08-29 18:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ecd784e30bd83a1a26902a72dece2319ea0adafd', 'message': ""New objects for NUMA live migration\n\nThis patch contains the Nova object modifications that will eventually\nenable NUMA live migration:\n\n* src_suports_numa_live_migration is added to LibvirtLiveMigrateData.\nThe source host will use it to indicate to the destination that it can\nperform a NUMA-aware live migration.\n\n* LibvirtLiveMigrateNUMAInfo is a new object that encodes how the\ninstance's NUMA-y things will fit on the destination host. It contains\nthings like the new CPU pins, the new NUMA cell pins, and the new\nemulator thread pins.\n\n* dst_numa_info is added to LibvirtLiveMigrateData. It contains a\nLibvirtLiveMigrateNUMAInfo object. It will be set by the destination\nand will be used by the source to update the intance's XML.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n""}, {'number': 55, 'created': '2019-08-30 18:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/42d992c6c4ac65faca02a7075a08fada732a2cd6', 'message': ""New objects for NUMA live migration\n\nThis patch contains the Nova object modifications that will eventually\nenable NUMA live migration:\n\n* src_suports_numa_live_migration is added to LibvirtLiveMigrateData.\nThe source host will use it to indicate to the destination that it can\nperform a NUMA-aware live migration.\n\n* LibvirtLiveMigrateNUMAInfo is a new object that encodes how the\ninstance's NUMA-y things will fit on the destination host. It contains\nthings like the new CPU pins, the new NUMA cell pins, and the new\nemulator thread pins.\n\n* dst_numa_info is added to LibvirtLiveMigrateData. It contains a\nLibvirtLiveMigrateNUMAInfo object. It will be set by the destination\nand will be used by the source to update the intance's XML.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n""}, {'number': 56, 'created': '2019-09-02 21:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d145c374c709c85ba30b1a3f27357513ab651172', 'message': ""New objects for NUMA live migration\n\nThis patch contains the Nova object modifications that will eventually\nenable NUMA live migration:\n\n* src_suports_numa_live_migration is added to LibvirtLiveMigrateData.\nThe source host will use it to indicate to the destination that it can\nperform a NUMA-aware live migration.\n\n* LibvirtLiveMigrateNUMAInfo is a new object that encodes how the\ninstance's NUMA-y things will fit on the destination host. It contains\nthings like the new CPU pins, the new NUMA cell pins, and the new\nemulator thread pins.\n\n* dst_numa_info is added to LibvirtLiveMigrateData. It contains a\nLibvirtLiveMigrateNUMAInfo object. It will be set by the destination\nand will be used by the source to update the intance's XML.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n""}, {'number': 57, 'created': '2019-09-03 17:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7f47421cd9f1d685b6c7d88022b801ef3a69028d', 'message': ""New objects for NUMA live migration\n\nThis patch contains the Nova object modifications that will eventually\nenable NUMA live migration:\n\n* src_suports_numa_live_migration is added to LibvirtLiveMigrateData.\nThe source host will use it to indicate to the destination that it can\nperform a NUMA-aware live migration.\n\n* LibvirtLiveMigrateNUMAInfo is a new object that encodes how the\ninstance's NUMA-y things will fit on the destination host. It contains\nthings like the new CPU pins, the new NUMA cell pins, and the new\nemulator thread pins.\n\n* dst_numa_info is added to LibvirtLiveMigrateData. It contains a\nLibvirtLiveMigrateNUMAInfo object. It will be set by the destination\nand will be used by the source to update the intance's XML.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n""}, {'number': 58, 'created': '2019-09-07 00:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/36686edb11792fae8449ff3d877a96ca1ea77abe', 'message': ""New objects for NUMA live migration\n\nThis patch contains the Nova object modifications that will eventually\nenable NUMA live migration:\n\n* (src|dst)_supports_numa_live_migration are added to\nLibvirtLiveMigrateData. They will be used by the source and\ndestination hosts to signal to each other that they can perform a\nNUMA-aware live migration.\n\n* LibvirtLiveMigrateNUMAInfo is a new object that encodes how the\ninstance's NUMA-y things will fit on the destination host. It contains\nthings like the new CPU pins, the new NUMA cell pins, and the new\nemulator thread pins.\n\n* dst_numa_info is added to LibvirtLiveMigrateData. It contains a\nLibvirtLiveMigrateNUMAInfo object. It will be set by the destination\nand will be used by the source to update the instance's XML.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n""}, {'number': 59, 'created': '2019-09-08 00:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dec25631b8af11faf04d16a8fe67bd33997eca8b', 'message': ""New objects for NUMA live migration\n\nThis patch contains the Nova object modifications that will eventually\nenable NUMA live migration:\n\n* (src|dst)_supports_numa_live_migration are added to\nLibvirtLiveMigrateData. They will be used by the source and\ndestination hosts to signal to each other that they can perform a\nNUMA-aware live migration.\n\n* LibvirtLiveMigrateNUMAInfo is a new object that encodes how the\ninstance's NUMA-y things will fit on the destination host. It contains\nthings like the new CPU pins, the new NUMA cell pins, and the new\nemulator thread pins.\n\n* dst_numa_info is added to LibvirtLiveMigrateData. It contains a\nLibvirtLiveMigrateNUMAInfo object. It will be set by the destination\nand will be used by the source to update the instance's XML.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n""}, {'number': 60, 'created': '2019-09-10 03:01:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96736366b217b95ae555c25fe572ff2e93930664', 'message': ""New objects for NUMA live migration\n\nThis patch contains the Nova object modifications that will eventually\nenable NUMA live migration:\n\n* (src|dst)_supports_numa_live_migration are added to\nLibvirtLiveMigrateData. They will be used by the source and\ndestination hosts to signal to each other that they can perform a\nNUMA-aware live migration.\n\n* LibvirtLiveMigrateNUMAInfo is a new object that encodes how the\ninstance's NUMA-y things will fit on the destination host. It contains\nthings like the new CPU pins, the new NUMA cell pins, and the new\nemulator thread pins.\n\n* dst_numa_info is added to LibvirtLiveMigrateData. It contains a\nLibvirtLiveMigrateNUMAInfo object. It will be set by the destination\nand will be used by the source to update the instance's XML.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n""}, {'number': 61, 'created': '2019-09-12 21:36:48.000000000', 'files': ['nova/tests/unit/objects/test_migrate_data.py', 'nova/objects/migrate_data.py', 'nova/tests/unit/objects/test_objects.py', 'nova/objects/fields.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/71fafa5b19de98cbd2fb7b8e4a086521c9786638', 'message': ""New objects for NUMA live migration\n\nThis patch contains the Nova object modifications that will eventually\nenable NUMA live migration:\n\n* (src|dst)_supports_numa_live_migration are added to\nLibvirtLiveMigrateData. They will be used by the source and\ndestination hosts to signal to each other that they can perform a\nNUMA-aware live migration.\n\n* LibvirtLiveMigrateNUMAInfo is a new object that encodes how the\ninstance's NUMA-y things will fit on the destination host. It contains\nthings like the new CPU pins, the new NUMA cell pins, and the new\nemulator thread pins.\n\n* dst_numa_info is added to LibvirtLiveMigrateData. It contains a\nLibvirtLiveMigrateNUMAInfo object. It will be set by the destination\nand will be used by the source to update the instance's XML.\n\nImplements blueprint numa-aware-live-migration\nChange-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77\n""}]",83,634827,71fafa5b19de98cbd2fb7b8e4a086521c9786638,547,25,61,8864,,,0,"New objects for NUMA live migration

This patch contains the Nova object modifications that will eventually
enable NUMA live migration:

* (src|dst)_supports_numa_live_migration are added to
LibvirtLiveMigrateData. They will be used by the source and
destination hosts to signal to each other that they can perform a
NUMA-aware live migration.

* LibvirtLiveMigrateNUMAInfo is a new object that encodes how the
instance's NUMA-y things will fit on the destination host. It contains
things like the new CPU pins, the new NUMA cell pins, and the new
emulator thread pins.

* dst_numa_info is added to LibvirtLiveMigrateData. It contains a
LibvirtLiveMigrateNUMAInfo object. It will be set by the destination
and will be used by the source to update the instance's XML.

Implements blueprint numa-aware-live-migration
Change-Id: I7c7f54ab142f01808ee4b46d27b4a336e476cc77
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/634827/33 && git format-patch -1 --stdout FETCH_HEAD,['nova/objects/migrate_data.py'],1,4e13ee5264ab5a5058974334d455a8b0fe63a35d,bp/numa-aware-live-migration,"@obj_base.NovaObjectRegistry.register class NUMAMigrateData(obj_base.NovaObject): # Version 1.0: Initial version VERSION = '1.0' fields = { 'hugepages': fields.ListOfObjectsField } # Version 1.4: Added dst_numa_config field. VERSION = '1.4' 'dst_numa_config': fields.ObjectField('NUMAMigrateData'),", VERSION = '1.3',13,1
openstack%2Fmagnum-ui~master~I0de5e77bf4295a481d6e90b9be3ab6f6040e2663,openstack/magnum-ui,master,I0de5e77bf4295a481d6e90b9be3ab6f6040e2663,Cap sphinx for py2 to match global requirements,ABANDONED,2019-05-16 08:44:59.000000000,2019-09-15 02:03:45.000000000,,"[{'_account_id': 8064}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 27822}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-05-16 08:44:59.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/4e3a6c0a6f15eed3df4cb48d2bf76c3440ccb81f', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I0de5e77bf4295a481d6e90b9be3ab6f6040e2663\n'}]",0,659497,4e3a6c0a6f15eed3df4cb48d2bf76c3440ccb81f,7,5,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I0de5e77bf4295a481d6e90b9be3ab6f6040e2663
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/97/659497/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,4e3a6c0a6f15eed3df4cb48d2bf76c3440ccb81f,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fneutron~master~I21cc5683839bbb3fb8a649908080919c1557811d,openstack/neutron,master,I21cc5683839bbb3fb8a649908080919c1557811d,Agent - Conntrack Helper,MERGED,2019-04-08 10:49:13.000000000,2019-09-15 01:42:48.000000000,2019-09-15 01:39:25.000000000,"[{'_account_id': 4694}, {'_account_id': 6547}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-04-08 10:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/57023dba53052e533f856c087135ab86c1b0cb4e', 'message': '[WIP] Agent - Conntrack Helper\n\nImplements the L3 agent conntrack helper extension.\n\nCloses: #1823633\nChange-Id: I21cc5683839bbb3fb8a649908080919c1557811d\n'}, {'number': 2, 'created': '2019-04-08 16:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/498b791f3b5773c841bbd1e1cca1fd6b1157ba75', 'message': 'Agent - Conntrack Helper\n\nImplements the L3 agent conntrack helper extension.\n\nCloses: #1823633\nChange-Id: I21cc5683839bbb3fb8a649908080919c1557811d\n'}, {'number': 3, 'created': '2019-04-08 22:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b904c8a68577e2e2dda1430790303e0b5bce4ad1', 'message': 'Agent - Conntrack Helper\n\nImplements the L3 agent conntrack helper extension.\n\nCloses: #1823633\nChange-Id: I21cc5683839bbb3fb8a649908080919c1557811d\n'}, {'number': 4, 'created': '2019-04-12 19:24:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/31ad8225caa0a4e729fc4da4231f61f0d064a819', 'message': 'Agent - Conntrack Helper\n\nImplements the L3 agent conntrack helper extension.\n\nCloses: #1823633\nChange-Id: I21cc5683839bbb3fb8a649908080919c1557811d\n'}, {'number': 5, 'created': '2019-04-13 12:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1cd1a6035a3a6d69e170670f0ea08fd7402d9623', 'message': 'Agent - Conntrack Helper\n\nImplements the L3 agent conntrack helper extension.\n\nCloses: #1823633\nChange-Id: I21cc5683839bbb3fb8a649908080919c1557811d\n'}, {'number': 6, 'created': '2019-04-19 14:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/efaadedd8900811485a21921eabd61c1a44b3812', 'message': 'Agent - Conntrack Helper\n\nImplements the L3 agent conntrack helper extension.\n\nCloses: #1823633\nChange-Id: I21cc5683839bbb3fb8a649908080919c1557811d\n'}, {'number': 7, 'created': '2019-04-21 16:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f03847c6fd55090aae4cb9ec9278b0846252f007', 'message': 'Agent - Conntrack Helper\n\nImplements the L3 agent conntrack helper extension.\n\nCloses: #1823633\nChange-Id: I21cc5683839bbb3fb8a649908080919c1557811d\n'}, {'number': 8, 'created': '2019-04-22 03:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bc81c559144f814a641cb0f109fa385d49732eee', 'message': 'Agent - Conntrack Helper\n\nImplements the L3 agent conntrack helper extension.\n\nCloses: #1823633\nChange-Id: I21cc5683839bbb3fb8a649908080919c1557811d\n'}, {'number': 9, 'created': '2019-04-29 11:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ebcc3d0035c5a4c6229fe6190ad5f02e9b97e68c', 'message': 'Agent - Conntrack Helper\n\nImplements the L3 agent conntrack helper extension.\n\nCloses: #1823633\nChange-Id: I21cc5683839bbb3fb8a649908080919c1557811d\n'}, {'number': 10, 'created': '2019-05-02 15:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/67109cf8ee112069612a325d710e5c5f466abe7a', 'message': 'Agent - Conntrack Helper\n\nImplements the L3 agent conntrack helper extension.\n\nCloses: #1823633\nChange-Id: I21cc5683839bbb3fb8a649908080919c1557811d\n'}, {'number': 11, 'created': '2019-05-08 04:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99802107ca7ba5790601fa9f1e8284372e564398', 'message': 'Agent - Conntrack Helper\n\nImplements the L3 agent conntrack helper extension.\n\nCloses: #1823633\nChange-Id: I21cc5683839bbb3fb8a649908080919c1557811d\n'}, {'number': 12, 'created': '2019-05-13 11:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/787e47c76313894b6e4d661b5311c26a9e9ac15b', 'message': 'Agent - Conntrack Helper\n\nImplements the L3 agent conntrack helper extension.\n\nCloses: #1823633\nChange-Id: I21cc5683839bbb3fb8a649908080919c1557811d\n'}, {'number': 13, 'created': '2019-05-20 16:03:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f74e29758a63f4f7350c79d451274cba8d77e1ad', 'message': 'Agent - Conntrack Helper\n\nImplements the L3 agent conntrack helper extension.\n\nCloses: #1823633\nChange-Id: I21cc5683839bbb3fb8a649908080919c1557811d\n'}, {'number': 14, 'created': '2019-05-23 10:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/65ada6dd560e02ee245af99b52c0f0d8b6d44c24', 'message': 'Agent - Conntrack Helper\n\nImplements the L3 agent conntrack helper extension.\n\nCloses: #1823633\nChange-Id: I21cc5683839bbb3fb8a649908080919c1557811d\n'}, {'number': 15, 'created': '2019-06-05 22:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ae4d2536cfd108d3708050501a8082599810a47', 'message': 'Agent - Conntrack Helper\n\nImplements the L3 agent conntrack helper extension.\n\nCloses: #1823633\nChange-Id: I21cc5683839bbb3fb8a649908080919c1557811d\n'}, {'number': 16, 'created': '2019-06-12 11:52:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c815917a550bcd04821b46707f6557b3c3b8bffe', 'message': 'Agent - Conntrack Helper\n\nImplements the L3 agent conntrack helper extension.\n\nCloses: #1823633\nChange-Id: I21cc5683839bbb3fb8a649908080919c1557811d\n'}, {'number': 17, 'created': '2019-07-08 09:44:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d6901554699637ee8022b599e6bdef867bd33ad', 'message': 'Agent - Conntrack Helper\n\nImplements the L3 agent conntrack helper extension.\n\nCloses: #1823633\nChange-Id: I21cc5683839bbb3fb8a649908080919c1557811d\n'}, {'number': 18, 'created': '2019-07-11 13:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1fae5230ce6091bccdba492a84110608a36e4690', 'message': 'Agent - Conntrack Helper\n\nImplements the L3 agent conntrack helper extension.\n\nCloses: #1823633\nChange-Id: I21cc5683839bbb3fb8a649908080919c1557811d\n'}, {'number': 19, 'created': '2019-07-11 16:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bfb29d0bbdd35df91e69f80643e6bef87a7f5bd8', 'message': 'Agent - Conntrack Helper\n\nImplements the L3 agent conntrack helper extension.\n\nCloses: #1823633\nChange-Id: I21cc5683839bbb3fb8a649908080919c1557811d\n'}, {'number': 20, 'created': '2019-07-15 10:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9124c80dbbfda4006c8edac83dbab2bddea55ac6', 'message': 'Agent - Conntrack Helper\n\nImplements the L3 agent conntrack helper extension.\n\nCloses: #1823633\nChange-Id: I21cc5683839bbb3fb8a649908080919c1557811d\n'}, {'number': 21, 'created': '2019-07-15 13:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99b99589fdbb860bf266650584c3588065e12afe', 'message': 'Agent - Conntrack Helper\n\nImplements the L3 agent conntrack helper extension.\n\nCloses: #1823633\nChange-Id: I21cc5683839bbb3fb8a649908080919c1557811d\n'}, {'number': 22, 'created': '2019-07-17 08:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/065ab8ec430dca0596ac6403d23cb255806d15c3', 'message': 'Agent - Conntrack Helper\n\nImplements the L3 agent conntrack helper extension.\n\nCloses: #1823633\nChange-Id: I21cc5683839bbb3fb8a649908080919c1557811d\n'}, {'number': 23, 'created': '2019-07-17 14:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/08efe64b122e2e32f44ad6950f37fac89a0610be', 'message': 'Agent - Conntrack Helper\n\nImplements the L3 agent conntrack helper extension.\n\nCloses: #1823633\nChange-Id: I21cc5683839bbb3fb8a649908080919c1557811d\n'}, {'number': 24, 'created': '2019-08-29 08:43:16.000000000', 'files': ['neutron/tests/unit/agent/l3/extensions/test_conntrack_helper.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/extensions/conntrack_helper.py', 'setup.cfg', 'neutron/tests/functional/agent/l3/extensions/test_conntrack_helper_extension.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8576b7be207c1e11aa243c4aa7ba1601f6e12bc', 'message': 'Agent - Conntrack Helper\n\nImplements the L3 agent conntrack helper extension.\n\nCloses: #1823633\nChange-Id: I21cc5683839bbb3fb8a649908080919c1557811d\n'}]",55,650846,b8576b7be207c1e11aa243c4aa7ba1601f6e12bc,123,11,24,24245,,,0,"Agent - Conntrack Helper

Implements the L3 agent conntrack helper extension.

Closes: #1823633
Change-Id: I21cc5683839bbb3fb8a649908080919c1557811d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/650846/21 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/l3/extensions/test_conntrack_helper.py', 'neutron/tests/functional/agent/l3/test_dvr_router.py', 'neutron/agent/l3/extensions/conntrack_helper.py', 'setup.cfg', 'neutron/tests/functional/agent/l3/extensions/test_conntrack_helper_extension.py']",5,57023dba53052e533f856c087135ab86c1b0cb4e,l3-conntrack-helper,"# Copyright (c) 2019 Red Hat Inc. # All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import collections import mock from neutron_lib import constants from oslo_utils import uuidutils from neutron.agent.l3.extensions import conntrack_helper from neutron.agent.linux import iptables_manager as iptable_mng from neutron.common import constants as n_const from neutron.common import utils as common_utils from neutron.objects import conntrack_helper as cth_obj from neutron.tests.functional.agent.l3 import framework from neutron.tests.functional.agent.l3 import test_dvr_router class L3AgentConntrackHelperExtensionTestFramework( framework.L3AgentTestFramework): def setUp(self): super(L3AgentConntrackHelperExtensionTestFramework, self).setUp() self.conf.set_override('extensions', ['conntrack_helper'], 'agent') self.cth_ext = conntrack_helper.ConntrackHelperAgentExtension() self.router_id1 = uuidutils.generate_uuid() self.router_id2 = uuidutils.generate_uuid() self.conntrackhelper1 = cth_obj.ConntrackHelper( context=None, id=uuidutils.generate_uuid(), protocol='udp', port=69, helper='tftp', router_id=self.router_id1) self.conntrackhelper2 = cth_obj.ConntrackHelper( context=None, id=uuidutils.generate_uuid(), protocol='udp', port=21, helper='ftp', router_id=self.router_id2) self.conntrack_helpers = [self.conntrackhelper1, self.conntrackhelper2] self.managed_cths = {} self.managed_cths[self.conntrackhelper1.id] = self.conntrackhelper1 self.managed_cths[self.conntrackhelper2.id] = self.conntrackhelper2 self.router_cth_map = collections.defaultdict(set) self.router_cth_map[self.router_id1].add(self.conntrackhelper1.id) self.router_cth_map[self.router_id2].add(self.conntrackhelper2.id) self._set_bulk_poll_mock() def _set_bulk_poll_mock(self): def _bulk_pull_mock(context, resource_type, filter_kwargs=None): if 'router_id' in filter_kwargs: result = [] for cthobj in self.conntrack_helpers: if cthobj.router_id in filter_kwargs['router_id']: result.append(cthobj) return result return self.conntrack_helpers self.bulk_pull = mock.patch('neutron.api.rpc.handlers.resources_rpc.' 'ResourcesPullRpcApi.bulk_pull').start() self.bulk_pull.side_effect = _bulk_pull_mock def _assert_conntrack_helper_iptables_is_set(self, router_info, cth): iptables_manager = self.cth_ext._get_iptables_manager(router_info) tag = conntrack_helper.CONNTRACK_HELPER_PREFIX + cth.id chain_name = (conntrack_helper.CONNTRACK_HELPER_CHAIN_PREFIX + cth.id)[:n_const.MAX_IPTABLES_CHAIN_LEN_WRAP] rule = (chain_name, '-p %(protocol)s --dport %(dport)s -j CT ' '--helper %(helper)s' % {'protocol': cth.protocol, 'dport': cth.port, 'helper': cth.helper}) rule_obj = iptable_mng.IptablesRule(chain_name, rule, True, False, iptables_manager.wrap_name, tag, None) def check_chain_rules_set(): exising_ipv4_chains = iptables_manager.ipv4['raw'].chains exising_ipv6_chains = iptables_manager.ipv6['raw'].chains if (chain_name not in exising_ipv4_chains or chain_name not in exising_ipv6_chains): return False exising_ipv4_rules = iptables_manager.ipv4['raw'].rules exising_ipv6_rules = iptables_manager.ipv6['raw'].rules return (rule_obj in exising_ipv4_rules and rule_obj in exising_ipv6_rules) common_utils.wait_until_true(check_chain_rules_set) def _test_centralized_routers(self, router_info): router_id = router_info['id'] for cthobj in self.conntrack_helpers: cthobj.router_id = router_id router_info['managed_conntrack_helpers'] = self.managed_cths router_info['router_conntrack_helper_mapping'] = self.router_cth_map ri = self.manage_router(self.agent, router_info) for cthobj in self.conntrack_helpers: self._assert_conntrack_helper_iptables_is_set(ri, cthobj) class TestL3AgentConntrackHelperExtension( test_dvr_router.DvrRouterTestFramework, L3AgentConntrackHelperExtensionTestFramework): def test_legacy_router_conntrack_helper(self): router_info = self.generate_router_info(enable_ha=False) self._test_centralized_routers(router_info) def test_ha_router_conntrack_helper(self): router_info = self.generate_router_info(enable_ha=True) self._test_centralized_routers(router_info) def test_dvr_edge_router(self): self.agent.conf.agent_mode = constants.L3_AGENT_MODE_DVR_SNAT router_info = self.generate_dvr_router_info(enable_ha=False) self._test_centralized_routers(router_info) def test_dvr_ha_router(self): self.agent.conf.agent_mode = constants.L3_AGENT_MODE_DVR_SNAT router_info = self.generate_dvr_router_info(enable_ha=True) self._test_centralized_routers(router_info) ",,887,130
openstack%2Fnova~master~I7dd54e11288a0ad2569abfc351258e97b5f5803c,openstack/nova,master,I7dd54e11288a0ad2569abfc351258e97b5f5803c,DB API changes to get non-matching aggregates from metadata,MERGED,2019-07-16 15:02:38.000000000,2019-09-15 01:38:53.000000000,2019-09-15 01:34:28.000000000,"[{'_account_id': 3085}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6547}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 25625}, {'_account_id': 26297}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 27302}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-07-16 15:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f5ca916f7c9c5c1ed164444c3fbb2d528afb6d43', 'message': ""DB API changes to get non-matching aggregates from metadata\n\nAdded a new DB API to return list of aggregates that doesn't match metadata\nkeys that starts with key_prefix with the list of required traits set on the\nflavor and image.\n\nChange-Id: I7dd54e11288a0ad2569abfc351258e97b5f5803c\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 2, 'created': '2019-07-16 19:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/380645fbec6026e0cb9f2ead54602d1f0eb82193', 'message': ""DB API changes to get non-matching aggregates from metadata\n\nAdded a new DB API to return list of aggregates that doesn't match metadata\nkeys that starts with key_prefix with the list of required traits set on the\nflavor and image.\n\nChange-Id: I7dd54e11288a0ad2569abfc351258e97b5f5803c\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 3, 'created': '2019-08-07 12:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d814f4f8d199e86a5cad379e81cf5dd5915b85a', 'message': ""DB API changes to get non-matching aggregates from metadata\n\nAdded a new DB API to return list of aggregates that doesn't match\nmetadata keys that starts with key_prefix with the list of required\ntraits set on the flavor and image.\n\nChange-Id: I7dd54e11288a0ad2569abfc351258e97b5f5803c\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 4, 'created': '2019-08-08 12:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/373541c2b15006d944641f744618a8473f0574ec', 'message': ""DB API changes to get non-matching aggregates from metadata\n\nAdded a new DB API to return list of aggregates that don't match\nmetadata keys that start with key_prefix with the list of required\ntraits set on the flavor and image.\n\nChange-Id: I7dd54e11288a0ad2569abfc351258e97b5f5803c\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 5, 'created': '2019-08-10 09:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1141f901c858c6fbe23907aef1d81bd1eef4b09c', 'message': ""DB API changes to get non-matching aggregates from metadata\n\nAdded a new DB API to return list of aggregates that don't match\nmetadata keys that start with key_prefix with the list of required\ntraits set on the flavor and image.\n\nChange-Id: I7dd54e11288a0ad2569abfc351258e97b5f5803c\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 6, 'created': '2019-08-13 15:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9185eda446dfb14f8b671b13317c8befbac89027', 'message': ""DB API changes to get non-matching aggregates from metadata\n\nAdded a new DB API to return list of aggregates that don't match\nmetadata keys that start with key_prefix with the list of required\ntraits set on the flavor and image.\n\nChange-Id: I7dd54e11288a0ad2569abfc351258e97b5f5803c\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 7, 'created': '2019-08-15 00:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/33abbfb92318d7951fc62a86bdea067c2bed8200', 'message': ""DB API changes to get non-matching aggregates from metadata\n\nAdded a new DB API to return list of aggregates that don't match\nmetadata keys that start with key_prefix with the list of required\ntraits set on the flavor and image.\n\nChange-Id: I7dd54e11288a0ad2569abfc351258e97b5f5803c\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 8, 'created': '2019-08-19 16:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4931cb76251037c42951b80ee58fac54a95f3556', 'message': ""DB API changes to get non-matching aggregates from metadata\n\nAdded a new DB API to return list of aggregates that don't match\nmetadata keys that start with key_prefix with the list of required\ntraits set on the flavor and image.\n\nChange-Id: I7dd54e11288a0ad2569abfc351258e97b5f5803c\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 9, 'created': '2019-08-22 13:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5681d6de951f330ea5453275734bbfe1d340a169', 'message': ""DB API changes to get non-matching aggregates from metadata\n\nAdded a new DB API to return list of aggregates that don't match\nmetadata keys that start with key_prefix with the list of required\ntraits set on the flavor and image.\n\nChange-Id: I7dd54e11288a0ad2569abfc351258e97b5f5803c\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 10, 'created': '2019-08-29 13:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f66abed71304eba1ce2a9fe4582dcf53af188059', 'message': ""DB API changes to get non-matching aggregates from metadata\n\nAdded a new DB API to return list of aggregates that don't match\nmetadata keys that start with key_prefix with the list of required\ntraits set on the flavor and image.\n\nChange-Id: I7dd54e11288a0ad2569abfc351258e97b5f5803c\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 11, 'created': '2019-08-30 10:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8316b60164b8b022c65232708b35dfb20a4e8c8', 'message': ""DB API changes to get non-matching aggregates from metadata\n\nAdded a new DB API to return list of aggregates that don't match\nmetadata keys that start with key_prefix with the list of required\ntraits set on the flavor and image.\n\nChange-Id: I7dd54e11288a0ad2569abfc351258e97b5f5803c\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 12, 'created': '2019-09-05 19:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5e8b6216a9915a8987b673763b99637695c667b3', 'message': ""DB API changes to get non-matching aggregates from metadata\n\nAdded a new DB API to return list of aggregates that don't match\nmetadata keys that start with key_prefix with the list of required\ntraits set on the flavor and image.\n\nChange-Id: I7dd54e11288a0ad2569abfc351258e97b5f5803c\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 13, 'created': '2019-09-05 20:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64da32d37a9d8d962acf93e2729f21e92537e2ff', 'message': ""DB API changes to get non-matching aggregates from metadata\n\nAdded a new DB API to return list of aggregates that don't match\nmetadata keys that start with key_prefix with the list of required\ntraits set on the flavor and image.\n\nChange-Id: I7dd54e11288a0ad2569abfc351258e97b5f5803c\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 14, 'created': '2019-09-05 20:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e04ef5cb79059f2dc4b2756a6ba454b217b2e14', 'message': ""DB API changes to get non-matching aggregates from metadata\n\nAdded a new DB API to return list of aggregates that don't match\nmetadata keys that start with key_prefix with the list of required\ntraits set on the flavor and image.\n\nChange-Id: I7dd54e11288a0ad2569abfc351258e97b5f5803c\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 15, 'created': '2019-09-06 12:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aed072a3ae9cdf6e49c890e576eab9cb6d71d5a4', 'message': ""DB API changes to get non-matching aggregates from metadata\n\nAdded a new DB API to return list of aggregates that don't match\nmetadata keys that start with key_prefix with the list of required\ntraits set on the flavor and image.\n\nChange-Id: I7dd54e11288a0ad2569abfc351258e97b5f5803c\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 16, 'created': '2019-09-08 17:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dde58df95add5f6d4128d577efc767775ff0f48a', 'message': ""DB API changes to get non-matching aggregates from metadata\n\nAdded a new DB API to return list of aggregates that don't match\nmetadata keys that start with key_prefix with the list of required\ntraits set on the flavor and image.\n\nChange-Id: I7dd54e11288a0ad2569abfc351258e97b5f5803c\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 17, 'created': '2019-09-09 07:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4569268d6eaafc888422f555ad396781c1c0b3ea', 'message': ""DB API changes to get non-matching aggregates from metadata\n\nAdded a new DB API to return list of aggregates that don't match\nmetadata keys that start with key_prefix with the list of required\ntraits set on the flavor and image.\n\nChange-Id: I7dd54e11288a0ad2569abfc351258e97b5f5803c\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 18, 'created': '2019-09-09 20:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ffa38a734ca7a8876b6dc50a6204f70b3a7bc86', 'message': ""DB API changes to get non-matching aggregates from metadata\n\nAdded a new DB API to return list of aggregates that don't match\nmetadata keys that start with key_prefix with the list of required\ntraits set on the flavor and image.\n\nChange-Id: I7dd54e11288a0ad2569abfc351258e97b5f5803c\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}, {'number': 19, 'created': '2019-09-12 22:01:33.000000000', 'files': ['nova/tests/functional/db/test_aggregate.py', 'nova/tests/unit/objects/test_aggregate.py', 'nova/objects/aggregate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e7000b1f7d234cc4036bf4bed840173a9cc6a243', 'message': ""DB API changes to get non-matching aggregates from metadata\n\nAdded a new DB API to return list of aggregates that don't match\nmetadata keys that start with key_prefix with the list of required\ntraits set on the flavor and image.\n\nChange-Id: I7dd54e11288a0ad2569abfc351258e97b5f5803c\nImplements: blueprint placement-req-filter-forbidden-aggregates\n""}]",71,671074,e7000b1f7d234cc4036bf4bed840173a9cc6a243,302,28,19,27302,,,0,"DB API changes to get non-matching aggregates from metadata

Added a new DB API to return list of aggregates that don't match
metadata keys that start with key_prefix with the list of required
traits set on the flavor and image.

Change-Id: I7dd54e11288a0ad2569abfc351258e97b5f5803c
Implements: blueprint placement-req-filter-forbidden-aggregates
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/671074/17 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/objects/test_objects.py', 'nova/tests/functional/db/test_aggregate.py', 'nova/tests/unit/objects/test_aggregate.py', 'nova/objects/aggregate.py']",4,f5ca916f7c9c5c1ed164444c3fbb2d528afb6d43,bp/placement-req-filter-forbidden-aggregates,"@db_api.api_context_manager.reader def _get_non_matching_by_metadata_keys_from_db(context, keys, key_prefix, value=None): assert(keys is not None and key_prefix is not None) query = context.session.query(api_models.Aggregate) query = query.join(""_metadata"") if value is not None: query = query.filter(api_models.AggregateMetadata.value == value) if len(keys) > 0: if key_prefix: query = query.filter(api_models.AggregateMetadata.key.like( key_prefix + r'%')) query = query.filter(~api_models.AggregateMetadata.key.in_(keys)) query = query.options(contains_eager(""_metadata"")) query = query.options(joinedload(""_hosts"")) return query.all() # Version 1.4: Added get_non_matching_by_metadata_keys VERSION = '1.4' @base.remotable_classmethod def get_non_matching_by_metadata_keys(cls, context, keys, key_prefix, value=None): """"""Return aggregates that are not matching with metadata. :param context: The security context (admin) :param keys: List of keys to match with the aggregate metadata keys that starts with key_prefix. :param value: Value of metadata :param key_prefix: Only compares metadata keys that starts with the key_prefix :returns: List of aggregates that doesn't match metadata keys that starts with key_prefix with the supplied keys. """""" db_aggregates = _get_non_matching_by_metadata_keys_from_db( context, keys, key_prefix, value=value) return base.obj_make_list(context, cls(context), objects.Aggregate, db_aggregates)", VERSION = '1.3',86,2
openstack%2Fproject-config~master~I15bff58f0149254eb82dac969cb3ffca6a6ae4ed,openstack/project-config,master,I15bff58f0149254eb82dac969cb3ffca6a6ae4ed,"revert ""Temp Shutdown of FN for backup generator testing""",MERGED,2019-09-14 22:11:07.000000000,2019-09-14 22:57:57.000000000,2019-09-14 22:57:57.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-14 22:11:07.000000000', 'files': ['nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/fa4ec6569b0fe978ad3ac00fe2ea822ef718d93d', 'message': 'revert ""Temp Shutdown of FN for backup generator testing""\n\nChange-Id: I15bff58f0149254eb82dac969cb3ffca6a6ae4ed\n'}]",0,682232,fa4ec6569b0fe978ad3ac00fe2ea822ef718d93d,6,2,1,20754,,,0,"revert ""Temp Shutdown of FN for backup generator testing""

Change-Id: I15bff58f0149254eb82dac969cb3ffca6a6ae4ed
",git fetch https://review.opendev.org/openstack/project-config refs/changes/32/682232/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.openstack.org.yaml'],1,fa4ec6569b0fe978ad3ac00fe2ea822ef718d93d,, max-servers: 90 max-servers: 10, max-servers: 0 max-servers: 0,2,2
openstack%2Fironic-tempest-plugin~master~I8ebbe9ea1bb2914061a8307f3edfabab166a3c38,openstack/ironic-tempest-plugin,master,I8ebbe9ea1bb2914061a8307f3edfabab166a3c38,Build pdf doc,MERGED,2019-06-14 09:49:12.000000000,2019-09-14 22:33:58.000000000,2019-09-14 22:33:02.000000000,"[{'_account_id': 6547}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-06-14 09:49:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/7684a61c2700f4bbea767197fad53de92934e47f', 'message': '[PoC] Enable creating pdf doc\n\nSee https://review.opendev.org/#/c/665285 for more.\n\nChange-Id: I8ebbe9ea1bb2914061a8307f3edfabab166a3c38\n'}, {'number': 2, 'created': '2019-09-05 06:28:50.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/6f4e2a3b08b6dfbf4077fda225bc290b3960ee84', 'message': 'Build pdf doc\n\nThe is one of community goals that each project could produce a\nsingle PDF file. The pdf should be in the output of openstack-tox-docs\njob.\n\nTeX packages are required to build PDF locally, following is recommended:\n\n* inkscape\n* texlive-latex-base\n* texlive-latex-extra\n* texlive-fonts-recommended\n\nMore about the goal:\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\nhttps://etherpad.openstack.org/p/train-pdf-support-goal\nhttps://etherpad.openstack.org/p/pdf-goal-train-common-problems\n\nChange-Id: I8ebbe9ea1bb2914061a8307f3edfabab166a3c38\n'}]",0,665344,6f4e2a3b08b6dfbf4077fda225bc290b3960ee84,24,6,2,24828,,,0,"Build pdf doc

The is one of community goals that each project could produce a
single PDF file. The pdf should be in the output of openstack-tox-docs
job.

TeX packages are required to build PDF locally, following is recommended:

* inkscape
* texlive-latex-base
* texlive-latex-extra
* texlive-fonts-recommended

More about the goal:
https://governance.openstack.org/tc/goals/train/pdf-doc-generation.html
https://etherpad.openstack.org/p/train-pdf-support-goal
https://etherpad.openstack.org/p/pdf-goal-train-common-problems

Change-Id: I8ebbe9ea1bb2914061a8307f3edfabab166a3c38
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/44/665344/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,7684a61c2700f4bbea767197fad53de92934e47f,build-pdf-docs,[testenv:pdfdocs] whitelist_externals = make basepython = python3 commands = sphinx-build -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,7,1
openstack%2Ftripleo-common~master~Id48d5efe17eeb1a524e280d8885e98cfe1a5577a,openstack/tripleo-common,master,Id48d5efe17eeb1a524e280d8885e98cfe1a5577a,healthcheck: List udp ports with ss,MERGED,2019-09-13 08:09:28.000000000,2019-09-14 22:06:45.000000000,2019-09-14 18:50:45.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-09-13 08:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/657869da91deb48ccdb8b45e34c411017ab1e602', 'message': 'healthcheck: List udp ports with ss\n\nLooks like octavia healthmanager uses UDP 5555 port.\n\nChange-Id: Id48d5efe17eeb1a524e280d8885e98cfe1a5577a\nRelated-Bug: #1843555\n'}, {'number': 2, 'created': '2019-09-13 12:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1c90e38952fac36740ef875647bdec48a092f6f7', 'message': 'healthcheck: List udp ports with ss\n\nLooks like octavia healthmanager uses UDP 5555 port.\n\nAlso changes octavia-health-manager healath check to us\nhealthcheck_port rather than healthcheck_listen as udp\nis a connectionless protocol.\n\nChange-Id: Id48d5efe17eeb1a524e280d8885e98cfe1a5577a\nRelated-Bug: #1843555\n'}, {'number': 3, 'created': '2019-09-13 17:53:41.000000000', 'files': ['healthcheck/octavia-health-manager', 'healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0ca91f0d149c14982a2071e58e06f3ee71d5b3cd', 'message': 'healthcheck: List udp ports with ss\n\nLooks like octavia healthmanager uses UDP 5555 port.\n\nAlso changes octavia-health-manager healath check to use\nhealthcheck_port rather than healthcheck_listen, as udp\nis a connectionless protocol.\n\nChange-Id: Id48d5efe17eeb1a524e280d8885e98cfe1a5577a\nRelated-Bug: #1843555\n'}]",0,681989,0ca91f0d149c14982a2071e58e06f3ee71d5b3cd,20,6,3,8833,,,0,"healthcheck: List udp ports with ss

Looks like octavia healthmanager uses UDP 5555 port.

Also changes octavia-health-manager healath check to use
healthcheck_port rather than healthcheck_listen, as udp
is a connectionless protocol.

Change-Id: Id48d5efe17eeb1a524e280d8885e98cfe1a5577a
Related-Bug: #1843555
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/89/681989/2 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/common.sh'],1,657869da91deb48ccdb8b45e34c411017ab1e602,," (ss -ntup; sudo -u $puser ss -ntup) | sort -u | grep -qE "":($ports).*,pid=($pids),"""," (ss -ntp; sudo -u $puser ss -ntp) | sort -u | grep -qE "":($ports).*,pid=($pids),""",1,1
openstack%2Fironic~master~Ie5a8144735ac18a5a36f77e4fad6af05f7a7e02d,openstack/ironic,master,Ie5a8144735ac18a5a36f77e4fad6af05f7a7e02d,CI: move the fast-track job to the experimental pipeline,MERGED,2019-09-10 08:01:52.000000000,2019-09-14 20:59:14.000000000,2019-09-14 20:57:01.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 17130}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 26297}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-09-10 08:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/16902cacd88d22179283823f7d1ad2789aafad70', 'message': 'CI: move the fasttrack job to the experimental pipeline\n\nThe job cannot pass right now, so it just wastes CI resources.\n\nChange-Id: Ie5a8144735ac18a5a36f77e4fad6af05f7a7e02d\n'}, {'number': 2, 'created': '2019-09-10 08:03:04.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b3595b3f07996bf75878adf5d1e6af68104a9a2c', 'message': 'CI: move the fast-track job to the experimental pipeline\n\nThe job cannot pass right now, so it just wastes CI resources.\n\nChange-Id: Ie5a8144735ac18a5a36f77e4fad6af05f7a7e02d\n'}]",1,681178,b3595b3f07996bf75878adf5d1e6af68104a9a2c,36,11,2,10239,,,0,"CI: move the fast-track job to the experimental pipeline

The job cannot pass right now, so it just wastes CI resources.

Change-Id: Ie5a8144735ac18a5a36f77e4fad6af05f7a7e02d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/78/681178/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,16902cacd88d22179283823f7d1ad2789aafad70,fast-track, experimental: - ironic-inspector-tempest-discovery-fast-track: voting: false, - ironic-inspector-tempest-discovery-fast-track: voting: false,3,2
openstack%2Fproject-config~master~Iceab77d609b718522f7a4c1abc9eddffbe4e8dde,openstack/project-config,master,Iceab77d609b718522f7a4c1abc9eddffbe4e8dde,Temp Shutdown of FN for backup generator testing,MERGED,2019-09-14 19:56:42.000000000,2019-09-14 20:15:17.000000000,2019-09-14 20:15:17.000000000,"[{'_account_id': 5263}, {'_account_id': 20754}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-14 19:56:42.000000000', 'files': ['nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/43c361c619dadc040c1e0f3bd688d0aa945afdb5', 'message': 'Temp Shutdown of FN for backup generator testing\n\nChange-Id: Iceab77d609b718522f7a4c1abc9eddffbe4e8dde\n'}]",0,682226,43c361c619dadc040c1e0f3bd688d0aa945afdb5,7,3,1,20754,,,0,"Temp Shutdown of FN for backup generator testing

Change-Id: Iceab77d609b718522f7a4c1abc9eddffbe4e8dde
",git fetch https://review.opendev.org/openstack/project-config refs/changes/26/682226/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.openstack.org.yaml'],1,43c361c619dadc040c1e0f3bd688d0aa945afdb5,, max-servers: 0 max-servers: 0, max-servers: 90 max-servers: 10,2,2
openstack%2Fkolla-ansible~master~I6589751626486279bf24725f22e71da8cd7f0a43,openstack/kolla-ansible,master,I6589751626486279bf24725f22e71da8cd7f0a43,Implement TLS encryption for internal endpoints,MERGED,2019-06-06 09:16:23.000000000,2019-09-14 19:51:28.000000000,2019-09-12 09:20:53.000000000,"[{'_account_id': 14826}, {'_account_id': 16036}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 29543}, {'_account_id': 30356}, {'_account_id': 30500}, {'_account_id': 30517}, {'_account_id': 30810}]","[{'number': 1, 'created': '2019-06-06 09:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5a07516a748006dc17a81b0b28024e3c48218e10', 'message': 'Implement internal endpoint and backend TLS - Approach #2\n\nThis review proposes an alternate internal TLS implementation, with\nbackends taking part in the encryption. This differs from\nI01cac037d027d3fc542c0046494dccd24f79affc where HAProxy was always\nterminating TLS traffic and forwarding it to the local backend\nunencrypted, or to a remote HAProxy.\n\nThe initial patchset implements internal TLS endpoints and backend\nencryption for Keystone only, and adds some logic that lets change\nbackend encryption on a service-by-service basis. This can be removed\nonce all supported services are handled in one form or another.\n\nChange-Id: I6589751626486279bf24725f22e71da8cd7f0a43\n'}, {'number': 2, 'created': '2019-06-06 10:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/938fcc3606796d5af3143314d08d86afa5dd4e4c', 'message': 'Implement internal endpoint and backend TLS - Approach #2\n\nThis review proposes an alternate internal TLS implementation, with\nbackends taking part in the encryption. This differs from\nI01cac037d027d3fc542c0046494dccd24f79affc where HAProxy was always\nterminating TLS traffic and forwarding it to the local backend\nunencrypted, or to a remote HAProxy.\n\nThe initial patchset implements internal TLS endpoints and backend\nencryption for Keystone only, and adds some logic that lets change\nbackend encryption on a service-by-service basis. This can be removed\nonce all supported services are handled in one form or another.\n\nChange-Id: I6589751626486279bf24725f22e71da8cd7f0a43\n'}, {'number': 3, 'created': '2019-06-06 10:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/72ea7d51280d255893c5e2e4988b6379ae2e398b', 'message': 'Implement internal endpoint and backend TLS - Approach #2\n\nThis review proposes an alternate internal TLS implementation, with\nbackends taking part in the encryption. This differs from\nI01cac037d027d3fc542c0046494dccd24f79affc where HAProxy was always\nterminating TLS traffic and forwarding it to the local backend\nunencrypted, or to a remote HAProxy.\n\nThe initial patchset implements internal TLS endpoints and backend\nencryption for Keystone only, and adds some logic that lets change\nbackend encryption on a service-by-service basis. This can be removed\nonce all supported services are handled in one form or another.\n\nChange-Id: I6589751626486279bf24725f22e71da8cd7f0a43\n'}, {'number': 4, 'created': '2019-06-06 12:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/007885c34b133d5536aaa1b4125d33843c2721fe', 'message': 'Implement internal endpoint and backend TLS - Approach #2\n\nThis review proposes an alternate internal TLS implementation, with\nbackends taking part in the encryption. This differs from\nI01cac037d027d3fc542c0046494dccd24f79affc where HAProxy was always\nterminating TLS traffic and forwarding it to the local backend\nunencrypted, or to a remote HAProxy.\n\nThe initial patchset implements internal TLS endpoints and backend\nencryption for Keystone only, and adds some logic that lets change\nbackend encryption on a service-by-service basis. This can be removed\nonce all supported services are handled in one form or another.\n\nChange-Id: I6589751626486279bf24725f22e71da8cd7f0a43\n'}, {'number': 5, 'created': '2019-06-06 13:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0ff0d48114e5bc4998ae0c5a05fa10c11563a547', 'message': 'Implement internal endpoint and backend TLS - Approach #2\n\nThis review proposes an alternate internal TLS implementation, with\nbackends taking part in the encryption. This differs from\nI01cac037d027d3fc542c0046494dccd24f79affc where HAProxy was always\nterminating TLS traffic and forwarding it to the local backend\nunencrypted, or to a remote HAProxy.\n\nThe initial patchset implements internal TLS endpoints and backend\nencryption for Keystone only, and adds some logic that lets change\nbackend encryption on a service-by-service basis. This can be removed\nonce all supported services are handled in one form or another.\n\nChange-Id: I6589751626486279bf24725f22e71da8cd7f0a43\n'}, {'number': 6, 'created': '2019-06-11 07:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3354f53ae67bfbd7503ac05455baa4e39ec07669', 'message': 'Implement TLS encryption for internal endpoints\n\nThis review is the first one in a series of patches and it introduces an\noptional encryption for internal openstack endpoints, implementing part\nof the add-ssl-internal-network spec.\n\nChange-Id: I6589751626486279bf24725f22e71da8cd7f0a43\n'}, {'number': 7, 'created': '2019-08-15 21:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/628d77544675f8092f6888196ea2954c3f79f6aa', 'message': 'Implement TLS encryption for internal endpoints\n\nThis review is the first one in a series of patches and it introduces an\noptional encryption for internal openstack endpoints, implementing part\nof the add-ssl-internal-network spec.\n\nChange-Id: I6589751626486279bf24725f22e71da8cd7f0a43\n'}, {'number': 8, 'created': '2019-08-15 22:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/55327f6f08e44358e13b38b0445d7bbff3bf013d', 'message': 'Implement TLS encryption for internal endpoints\n\nThis review is the first one in a series of patches and it introduces an\noptional encryption for internal openstack endpoints, implementing part\nof the add-ssl-internal-network spec.\n\nChange-Id: I6589751626486279bf24725f22e71da8cd7f0a43\n'}, {'number': 9, 'created': '2019-08-16 18:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6f826f72bb5f5e97569dd4be0e844a4020109e49', 'message': 'Implement TLS encryption for internal endpoints\n\nThis review is the first one in a series of patches and it introduces an\noptional encryption for internal openstack endpoints, implementing part\nof the add-ssl-internal-network spec.\n\nChange-Id: I6589751626486279bf24725f22e71da8cd7f0a43\n'}, {'number': 10, 'created': '2019-08-16 22:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c802239ea384c2b9127edbb7f8bc3b7d7a62df78', 'message': 'Implement TLS encryption for internal endpoints\n\nThis review is the first one in a series of patches and it introduces an\noptional encryption for internal openstack endpoints, implementing part\nof the add-ssl-internal-network spec.\n\nChange-Id: I6589751626486279bf24725f22e71da8cd7f0a43\n'}, {'number': 11, 'created': '2019-08-19 17:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/deaf1c98126672884569b5a969b446d088dc0355', 'message': 'Implement TLS encryption for internal endpoints\n\nThis review is the first one in a series of patches and it introduces an\noptional encryption for internal openstack endpoints, implementing part\nof the add-ssl-internal-network spec.\n\nChange-Id: I6589751626486279bf24725f22e71da8cd7f0a43\n'}, {'number': 12, 'created': '2019-08-20 15:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/effdde041709cce574eb86a4caba52169e2a3432', 'message': 'Implement TLS encryption for internal endpoints\n\nThis review is the first one in a series of patches and it introduces an\noptional encryption for internal openstack endpoints, implementing part\nof the add-ssl-internal-network spec.\n\nChange-Id: I6589751626486279bf24725f22e71da8cd7f0a43\n'}, {'number': 13, 'created': '2019-08-20 17:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b9ad037d99142540bf7248f3b7cdfe3ff7648526', 'message': 'Implement TLS encryption for internal endpoints\n\nThis review is the first one in a series of patches and it introduces an\noptional encryption for internal openstack endpoints, implementing part\nof the add-ssl-internal-network spec.\n\nChange-Id: I6589751626486279bf24725f22e71da8cd7f0a43\n'}, {'number': 14, 'created': '2019-08-21 18:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9660ecc45470f3423809144538db22a342678d47', 'message': 'Implement TLS encryption for internal endpoints\n\nThis review is the first one in a series of patches and it introduces an\noptional encryption for internal openstack endpoints, implementing part\nof the add-ssl-internal-network spec.\n\nChange-Id: I6589751626486279bf24725f22e71da8cd7f0a43\n'}, {'number': 15, 'created': '2019-08-21 22:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cf2abbb65e16710c011898376c8c9e9dae9e4839', 'message': 'Implement TLS encryption for internal endpoints\n\nThis review is the first one in a series of patches and it introduces an\noptional encryption for internal openstack endpoints, implementing part\nof the add-ssl-internal-network spec.\n\nChange-Id: I6589751626486279bf24725f22e71da8cd7f0a43\n'}, {'number': 16, 'created': '2019-08-21 22:32:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9657c2e8d2271b7ad747298a674fdb5d9837e44a', 'message': 'Implement TLS encryption for internal endpoints\n\nThis review is the first one in a series of patches and it introduces an\noptional encryption for internal openstack endpoints, implementing part\nof the add-ssl-internal-network spec.\n\nChange-Id: I6589751626486279bf24725f22e71da8cd7f0a43\n'}, {'number': 17, 'created': '2019-08-22 15:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6171c92c882c4b08b9a3d4a00092992e42636851', 'message': 'Implement TLS encryption for internal endpoints\n\nThis review is the first one in a series of patches and it introduces an\noptional encryption for internal openstack endpoints, implementing part\nof the add-ssl-internal-network spec.\n\nChange-Id: I6589751626486279bf24725f22e71da8cd7f0a43\n'}, {'number': 18, 'created': '2019-08-22 23:35:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/084adadaa10da53192c2ca84c09b202ba0bb122d', 'message': 'Implement TLS encryption for internal endpoints\n\nThis review is the first one in a series of patches and it introduces an\noptional encryption for internal openstack endpoints, implementing part\nof the add-ssl-internal-network spec.\n\nChange-Id: I6589751626486279bf24725f22e71da8cd7f0a43\n'}, {'number': 19, 'created': '2019-08-22 23:39:38.000000000', 'files': ['ansible/roles/horizon/templates/horizon.conf.j2', 'ansible/roles/haproxy-config/templates/haproxy_single_service_listen.cfg.j2', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/haproxy/templates/haproxy_main.cfg.j2', 'doc/source/admin/advanced-configuration.rst', 'ansible/roles/common/templates/admin-openrc.sh.j2', 'ansible/roles/haproxy/tasks/config.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/haproxy/templates/haproxy.json.j2', 'ansible/roles/horizon/templates/local_settings.j2', 'ansible/group_vars/all.yml', 'releasenotes/notes/add-internal-network-tls-configuration-cf9704812f113281.yaml', 'ansible/roles/prechecks/tasks/service_checks.yml', 'ansible/roles/haproxy-config/templates/haproxy_single_service_split.cfg.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b0ecd8b67c916225944880c025340dfdfcf48588', 'message': 'Implement TLS encryption for internal endpoints\n\nThis review is the first one in a series of patches and it introduces an\noptional encryption for internal openstack endpoints, implementing part\nof the add-ssl-internal-network spec.\n\nChange-Id: I6589751626486279bf24725f22e71da8cd7f0a43\n'}]",34,663555,b0ecd8b67c916225944880c025340dfdfcf48588,60,9,19,16036,,,0,"Implement TLS encryption for internal endpoints

This review is the first one in a series of patches and it introduces an
optional encryption for internal openstack endpoints, implementing part
of the add-ssl-internal-network spec.

Change-Id: I6589751626486279bf24725f22e71da8cd7f0a43
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/55/663555/17 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/freezer/tasks/register.yml', 'ansible/roles/cyborg/tasks/register.yml', 'ansible/roles/manila/templates/manila-share.conf.j2', 'ansible/roles/keystone/templates/keystone.json.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/vitrage/tasks/register.yml', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/haproxy-config/defaults/main.yml', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/keystone/tasks/config.yml', 'tests/deploy.sh', 'tests/templates/globals-default.j2', 'ansible/roles/barbican/tasks/register.yml', 'ansible/roles/haproxy/tasks/config.yml', 'ansible/roles/cyborg/templates/cyborg.conf.j2', 'ansible/roles/neutron/templates/neutron_lbaas.conf.j2', 'ansible/roles/glance/tasks/register.yml', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/manila/tasks/register.yml', 'ansible/roles/ironic/tasks/register.yml', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/congress/tasks/register.yml', 'zuul.d/jobs.yaml', 'ansible/roles/swift/tasks/register.yml', 'ansible/roles/searchlight/templates/searchlight.conf.j2', 'ansible/roles/swift/templates/proxy-server.conf.j2', 'ansible/roles/nova/tasks/discover_computes.yml', 'ansible/roles/glance/templates/glance-swift.conf.j2', 'ansible/roles/neutron/tasks/bootstrap.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/tasks/register.yml', 'ansible/roles/placement/templates/placement.conf.j2', 'ansible/roles/blazar/tasks/register.yml', 'ansible/roles/congress/templates/congress.conf.j2', 'ansible/roles/haproxy/templates/haproxy.json.j2', 'ansible/roles/gnocchi/tasks/register.yml', 'ansible/roles/keystone/defaults/main.yml', 'tests/upgrade.sh', 'ansible/roles/designate/tasks/register.yml', 'ansible/roles/ceilometer/tasks/register.yml', 'ansible/roles/haproxy-config/templates/haproxy_single_service_listen.cfg.j2', 'ansible/roles/octavia/tasks/register.yml', 'ansible/roles/solum/tasks/register.yml', 'ansible/roles/keystone/templates/wsgi-keystone.conf.j2', 'ansible/roles/zun/tasks/register.yml', 'ansible/roles/common/templates/admin-openrc.sh.j2', 'ansible/roles/neutron/tasks/register.yml', 'ansible/roles/searchlight/tasks/register.yml', 'ansible/roles/cinder/tasks/register.yml', 'ansible/roles/mariadb/tasks/register.yml', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/placement/tasks/register.yml', 'ansible/roles/keystone/tasks/register.yml', 'ansible/group_vars/all.yml', 'ansible/roles/glance/templates/glance-cache.conf.j2', 'ansible/roles/certificates/tasks/generate.yml', 'ansible/roles/watcher/tasks/register.yml', 'ansible/roles/manila/templates/manila.conf.j2', 'zuul.d/project.yaml', 'ansible/roles/karbor/tasks/register.yml', 'ansible/roles/nova/tasks/register.yml', 'ansible/roles/barbican/templates/barbican.conf.j2', 'ansible/certificates.yml']",64,5a07516a748006dc17a81b0b28024e3c48218e10,bp/add-ssl-internal-network,- import_playbook: gather-facts.yml hosts: control, hosts: localhost,303,38
openstack%2Fopenstack-ansible-galera_client~master~Ic01cebc4cb790f72a96b960de4ad9626a4058f08,openstack/openstack-ansible-galera_client,master,Ic01cebc4cb790f72a96b960de4ad9626a4058f08,Default to connecting clients via ip rather than local socket,ABANDONED,2019-07-22 16:49:01.000000000,2019-09-14 19:35:32.000000000,,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-07-22 16:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/5b0d7788ae08341855704fd1956600cf9f9d1696', 'message': 'Default to connecting clients via ip rather than local socket\n\nThis patch changes the connection type to always be an ip address.\nPreviously a non-clustered galera would connect to \'localhost\' which\nis the local socket, not an ip connection.\n\nThis change allows the default value ""galera_address"" to always apply,\nfor clustered or non-clustered setups.\n\nChange-Id: Ic01cebc4cb790f72a96b960de4ad9626a4058f08\n'}, {'number': 2, 'created': '2019-07-23 16:28:09.000000000', 'files': ['templates/client.my.cnf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_client/commit/d8166d991b72f5c73b353bed8987e5077b1ab7eb', 'message': 'Default to connecting clients via ip rather than local socket\n\nThis patch changes the connection type to always be an ip address.\nPreviously a non-clustered galera would connect to \'localhost\' which\nis the local socket, not an ip connection.\n\nThis change allows the default value ""galera_address"" to always apply,\nfor clustered or non-clustered setups.\n\nChange-Id: Ic01cebc4cb790f72a96b960de4ad9626a4058f08\n'}]",1,672101,d8166d991b72f5c73b353bed8987e5077b1ab7eb,7,3,2,25023,,,0,"Default to connecting clients via ip rather than local socket

This patch changes the connection type to always be an ip address.
Previously a non-clustered galera would connect to 'localhost' which
is the local socket, not an ip connection.

This change allows the default value ""galera_address"" to always apply,
for clustered or non-clustered setups.

Change-Id: Ic01cebc4cb790f72a96b960de4ad9626a4058f08
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_client refs/changes/01/672101/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/client.my.cnf.j2'],1,5b0d7788ae08341855704fd1956600cf9f9d1696,,,host={% if inventory_hostname in galera_cluster_members %} localhost {% else %}{% endif %},0,4
openstack%2Fpython-saharaclient~master~I940869eb8ce96aa934dace87c65ffd4c3d53291f,openstack/python-saharaclient,master,I940869eb8ce96aa934dace87c65ffd4c3d53291f,"WIP Doc updates: bump theme to 1.20.0, add PDF build",NEW,2019-08-29 15:22:56.000000000,2019-09-14 19:35:26.000000000,,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-29 15:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/818fd0be4f9ff543a7b6479792edca3759b3d570', 'message': 'WIP PDF documentation build\n\n- add the pdf-docs tox environment according the established guidelines;\n- docs tox environment: clean up only the generated html, not the entire\n  build directory, and add the missing whitelist_externals statement;\n- disable the index for PDF builds;\n- improve the title and other (meta)data of the latex document.\n\nStory: 2006117\nTask: 35485\nChange-Id: I940869eb8ce96aa934dace87c65ffd4c3d53291f\n'}, {'number': 2, 'created': '2019-09-06 15:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/37cd7736f7a8bb636c3cb6c39ea3a0211d1deb26', 'message': 'WIP Doc updates: bump theme to 1.20.0, add PDF build\n\n- bump the openstackdocstheme requirement to 1.20.0, the minimum\n  recommended version nowadays, and clean the configuration\n  by removing the options now provided by the theme;\n- add the pdf-docs tox environment according the established guidelines;\n- docs tox environment: clean up only the generated html, not the entire\n  build directory, and add the missing whitelist_externals statement;\n- disable the too smart smartquotes option for the latex builder;\n- improve the title and other (meta)data of the latex document.\n\nStory: 2006117\nTask: 35485\nChange-Id: I940869eb8ce96aa934dace87c65ffd4c3d53291f\n'}, {'number': 3, 'created': '2019-09-06 16:29:03.000000000', 'files': ['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-saharaclient/commit/220b48da8724ce3f8dd65427c661d8f7d6d55f4a', 'message': 'WIP Doc updates: bump theme to 1.20.0, add PDF build\n\n- bump the openstackdocstheme requirement to 1.20.0, the minimum\n  recommended version nowadays, and clean the configuration\n  by removing the options now provided by the theme;\n- add the pdf-docs tox environment according the established guidelines;\n- docs tox environment: clean up only the generated html, not the entire\n  build directory, and add the missing whitelist_externals statement;\n- disable the too smart smartquotes option for the latex builder;\n- improve the title and other (meta)data of the latex document.\n\nStory: 2006117\nTask: 35485\nChange-Id: I940869eb8ce96aa934dace87c65ffd4c3d53291f\n'}]",0,679290,220b48da8724ce3f8dd65427c661d8f7d6d55f4a,7,2,3,10459,,,0,"WIP Doc updates: bump theme to 1.20.0, add PDF build

- bump the openstackdocstheme requirement to 1.20.0, the minimum
  recommended version nowadays, and clean the configuration
  by removing the options now provided by the theme;
- add the pdf-docs tox environment according the established guidelines;
- docs tox environment: clean up only the generated html, not the entire
  build directory, and add the missing whitelist_externals statement;
- disable the too smart smartquotes option for the latex builder;
- improve the title and other (meta)data of the latex document.

Story: 2006117
Task: 35485
Change-Id: I940869eb8ce96aa934dace87c65ffd4c3d53291f
",git fetch https://review.opendev.org/openstack/python-saharaclient refs/changes/90/679290/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'tox.ini']",2,818fd0be4f9ff543a7b6479792edca3759b3d570,build-pdf-docs, rm -rf doc/build/htmlwhitelist_externals = rm [testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} commands = rm -rf doc/build/pdf sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf whitelist_externals = make rm, rm -rf doc/build,19,3
openstack%2Fproject-config~master~I9f0e0084e280c905148c9c4befa089adf4e77001,openstack/project-config,master,I9f0e0084e280c905148c9c4befa089adf4e77001,Reenable nodepool testing for opensuse images,NEW,2018-10-15 11:16:08.000000000,2019-09-14 19:32:34.000000000,,"[{'_account_id': 6593}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-10-15 11:16:08.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d6590fc00eef6d7a494f440a0050d11df4ce368b', 'message': 'Reenable nodepool testing for opensuse images\n\nThis was disabled in I6dcfeaf97b3b4865039d3dffdcc1e13b4120be77 however\nthe issue has been fixed (as seen by voting gates in glean and\nnodepool). The referenced ticket https://storyboard.openstack.org/#!/story/2001995\nseems to be marked as fixed.\n\nChange-Id: I9f0e0084e280c905148c9c4befa089adf4e77001\n'}]",0,610477,d6590fc00eef6d7a494f440a0050d11df4ce368b,5,2,1,6593,,,0,"Reenable nodepool testing for opensuse images

This was disabled in I6dcfeaf97b3b4865039d3dffdcc1e13b4120be77 however
the issue has been fixed (as seen by voting gates in glean and
nodepool). The referenced ticket https://storyboard.openstack.org/#!/story/2001995
seems to be marked as fixed.

Change-Id: I9f0e0084e280c905148c9c4befa089adf4e77001
",git fetch https://review.opendev.org/openstack/project-config refs/changes/77/610477/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,d6590fc00eef6d7a494f440a0050d11df4ce368b,, - nodepool-functional-py35-suse-src - nodepool-functional-py35-suse-src, - nodepool-functional-py35-suse-src,2,1
openstack%2Ftripleo-common~stable%2Fstein~I010ea5d732aba97a554e868f62a19e6fdaee8889,openstack/tripleo-common,stable/stein,I010ea5d732aba97a554e868f62a19e6fdaee8889,Stop sending execution object via Zaqar message,MERGED,2019-09-13 20:12:40.000000000,2019-09-14 18:51:54.000000000,2019-09-14 18:50:47.000000000,"[{'_account_id': 3153}, {'_account_id': 7509}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-13 20:12:40.000000000', 'files': ['workbooks/messaging.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/40cd795c4ad5c5f0bc2f40c54c8da33898b1f1d7', 'message': ""Stop sending execution object via Zaqar message\n\nExecution object can be quite large which is not suitable\nfor sending via Zaqar messages. Instead we're sending\nexecution_id and root_execution_id which can be used by the client\nto retrieve execution details\n\nDepends-On: Ia6c954e688589f69a7463f1b8e02244d029e8b7a\nChange-Id: I010ea5d732aba97a554e868f62a19e6fdaee8889\n(cherry picked from commit 37fc8e31717e60bf6f2e125384b095fc514ac038)\n""}]",0,682151,40cd795c4ad5c5f0bc2f40c54c8da33898b1f1d7,8,4,1,3153,,,0,"Stop sending execution object via Zaqar message

Execution object can be quite large which is not suitable
for sending via Zaqar messages. Instead we're sending
execution_id and root_execution_id which can be used by the client
to retrieve execution details

Depends-On: Ia6c954e688589f69a7463f1b8e02244d029e8b7a
Change-Id: I010ea5d732aba97a554e868f62a19e6fdaee8889
(cherry picked from commit 37fc8e31717e60bf6f2e125384b095fc514ac038)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/51/682151/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/messaging.yaml'],1,40cd795c4ad5c5f0bc2f40c54c8da33898b1f1d7,zaqar_message_too_large-stable/stein," root_execution_id: 'UUID of the root execution', payload: <% {status => $.status, message => $.message, root_execution_id => $.execution.root_execution_id, execution_id => $.execution.id, plan_name => $.plan_name, deployment_status => $.deployment_status} + $.payload %>"," execution: {execution details}, # Deprecated and will be removed in the future. payload: <% {status => $.status, message => $.message, execution => $.execution, execution_id => $.execution.id, plan_name => $.plan_name, deployment_status => $.deployment_status} + $.payload %>",2,2
openstack%2Ftripleo-ci~master~Iab62ca6bb209524e923ad44a3d8d6079fc976cef,openstack/tripleo-ci,master,Iab62ca6bb209524e923ad44a3d8d6079fc976cef,collect-logs: don't hardcode 'undercloud' for artifacts,MERGED,2019-09-10 16:01:08.000000000,2019-09-14 18:50:50.000000000,2019-09-14 18:50:50.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-10 16:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6c3a3f1c195e0650ffe12a1f20b134f20ff066de', 'message': ""collect-logs: don't hardcode 'undercloud' for artifacts\n\nWe are renaming the files in\nI1e65235017b0b223c53e1c8b48ad2ac573e4ccca\n\nChange-Id: Iab62ca6bb209524e923ad44a3d8d6079fc976cef\n""}, {'number': 2, 'created': '2019-09-14 05:29:06.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bb7feba2a2d87512336bd85e218ea88fd932a386', 'message': ""collect-logs: don't hardcode 'undercloud' for artifacts\n\nWe are renaming the files in\nI1e65235017b0b223c53e1c8b48ad2ac573e4ccca\n\nChange-Id: Iab62ca6bb209524e923ad44a3d8d6079fc976cef\n""}]",0,681295,bb7feba2a2d87512336bd85e218ea88fd932a386,36,9,2,3153,,,0,"collect-logs: don't hardcode 'undercloud' for artifacts

We are renaming the files in
I1e65235017b0b223c53e1c8b48ad2ac573e4ccca

Change-Id: Iab62ca6bb209524e923ad44a3d8d6079fc976cef
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/95/681295/2 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,6c3a3f1c195e0650ffe12a1f20b134f20ff066de,logs, - /home/{{ undercloud_user }}/*-ansible-*/ - /home/{{ undercloud_user }}/*-install-*, - /home/{{ undercloud_user }}/undercloud-ansible-*/ - /home/{{ undercloud_user }}/undercloud-install-*,2,2
openstack%2Ftripleo-heat-templates~stable%2Fstein~Idbb1738db0f4cc3efb9005c2bfee188d3a9ef5be,openstack/tripleo-heat-templates,stable/stein,Idbb1738db0f4cc3efb9005c2bfee188d3a9ef5be,Fix nova-conductor healthcheck RPC port,MERGED,2019-09-13 19:41:28.000000000,2019-09-14 18:50:49.000000000,2019-09-14 18:50:48.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2019-09-13 19:41:28.000000000', 'files': ['deployment/nova/nova-conductor-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7e7d310e1b7ef51a163560cfa56c675afa3a1683', 'message': 'Fix nova-conductor healthcheck RPC port\n\nIt currently assumes the default RPCPort.\n\nChange-Id: Idbb1738db0f4cc3efb9005c2bfee188d3a9ef5be\nCloses-Bug: #1843890\n(cherry picked from commit 5089d09ba6eb5193d78053e5e41cac255b4213d0)\n'}]",0,682146,7e7d310e1b7ef51a163560cfa56c675afa3a1683,8,4,1,3153,,,0,"Fix nova-conductor healthcheck RPC port

It currently assumes the default RPCPort.

Change-Id: Idbb1738db0f4cc3efb9005c2bfee188d3a9ef5be
Closes-Bug: #1843890
(cherry picked from commit 5089d09ba6eb5193d78053e5e41cac255b4213d0)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/682146/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-conductor-container-puppet.yaml'],1,7e7d310e1b7ef51a163560cfa56c675afa3a1683,bug/1842687-stable/stein," healthcheck: {get_attr: [ContainersCommon, healthcheck_rpc_port]}", healthcheck: test: /openstack/healthcheck,1,2
openstack%2Ftripleo-common~stable%2Frocky~I010ea5d732aba97a554e868f62a19e6fdaee8889,openstack/tripleo-common,stable/rocky,I010ea5d732aba97a554e868f62a19e6fdaee8889,Stop sending execution object via Zaqar message,MERGED,2019-09-13 20:12:57.000000000,2019-09-14 18:50:46.000000000,2019-09-14 18:50:46.000000000,"[{'_account_id': 3153}, {'_account_id': 7509}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-13 20:12:57.000000000', 'files': ['workbooks/messaging.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/21d1e74a7fda5b8954f25227eb04c716799a982c', 'message': ""Stop sending execution object via Zaqar message\n\nExecution object can be quite large which is not suitable\nfor sending via Zaqar messages. Instead we're sending\nexecution_id and root_execution_id which can be used by the client\nto retrieve execution details\n\nDepends-On: Ia6c954e688589f69a7463f1b8e02244d029e8b7a\nChange-Id: I010ea5d732aba97a554e868f62a19e6fdaee8889\n(cherry picked from commit 37fc8e31717e60bf6f2e125384b095fc514ac038)\n""}]",0,682152,21d1e74a7fda5b8954f25227eb04c716799a982c,7,4,1,3153,,,0,"Stop sending execution object via Zaqar message

Execution object can be quite large which is not suitable
for sending via Zaqar messages. Instead we're sending
execution_id and root_execution_id which can be used by the client
to retrieve execution details

Depends-On: Ia6c954e688589f69a7463f1b8e02244d029e8b7a
Change-Id: I010ea5d732aba97a554e868f62a19e6fdaee8889
(cherry picked from commit 37fc8e31717e60bf6f2e125384b095fc514ac038)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/52/682152/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/messaging.yaml'],1,21d1e74a7fda5b8954f25227eb04c716799a982c,zaqar_message_too_large-stable/rocky," root_execution_id: 'UUID of the root execution', payload: <% {status => $.status, message => $.message, root_execution_id => $.execution.root_execution_id, execution_id => $.execution.id, plan_name => $.plan_name, deployment_status => $.deployment_status} + $.payload %>"," execution: {execution details}, # Deprecated and will be removed in the future. payload: <% {status => $.status, message => $.message, execution => $.execution, execution_id => $.execution.id, plan_name => $.plan_name, deployment_status => $.deployment_status} + $.payload %>",2,2
openstack%2Fkolla~master~Ia073774c8053111652847a39d80665fd9d3e5dcf,openstack/kolla,master,Ia073774c8053111652847a39d80665fd9d3e5dcf,base/deb: bump 'system' users limit beyond Kolla ones,MERGED,2019-09-05 12:55:34.000000000,2019-09-14 18:34:03.000000000,2019-09-14 18:32:42.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-05 12:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/928e16fce1d4a96c9c23e1a619a62c74e5d027a9', 'message': ""base/deb: bump 'system' users limit beyond Kolla ones\n\nHaproxy complains that user 'haproxy' already exists during installation\nand is not 'system user'. So let bump range for 'system' users to make\nit happier.\n\nOur images do not have normal users so it should not affect.\n\nChange-Id: Ia073774c8053111652847a39d80665fd9d3e5dcf\n""}, {'number': 2, 'created': '2019-09-09 16:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f645e6c12deb7140ddbcc5b0bf958146dbd85176', 'message': ""base/deb: bump 'system' users limit beyond Kolla ones\n\nHaproxy complains that user 'haproxy' already exists during installation\nand is not 'system user'. So let bump range for 'system' users to make\nit happier.\n\nOur images do not have normal users so it should not affect.\n\nChange-Id: Ia073774c8053111652847a39d80665fd9d3e5dcf\n""}, {'number': 3, 'created': '2019-09-09 17:50:32.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/109706aa8b26f6f915e1cadae89de8135c3b68bf', 'message': ""base/deb: bump 'system' users limit beyond Kolla ones\n\nHaproxy complains that user 'haproxy' already exists during installation\nand is not 'system user'. So let bump range for 'system' users to make\nit happier.\n\nOur images do not have normal users so it should not affect.\n\nChange-Id: Ia073774c8053111652847a39d80665fd9d3e5dcf\n""}]",3,680399,109706aa8b26f6f915e1cadae89de8135c3b68bf,22,7,3,24072,,,0,"base/deb: bump 'system' users limit beyond Kolla ones

Haproxy complains that user 'haproxy' already exists during installation
and is not 'system user'. So let bump range for 'system' users to make
it happier.

Our images do not have normal users so it should not affect.

Change-Id: Ia073774c8053111652847a39d80665fd9d3e5dcf
",git fetch https://review.opendev.org/openstack/kolla refs/changes/99/680399/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,928e16fce1d4a96c9c23e1a619a62c74e5d027a9,680399,RUN cat /tmp/kolla_bashrc >> /etc/bash.bashrc && sed -i -e s/LAST_SYSTEM_UID=999/LAST_SYSTEM_UID=59999/g /etc/adduser.conf,RUN cat /tmp/kolla_bashrc >> /etc/bash.bashrc,1,1
openstack%2Fkolla-cli~master~I2238a3c9f905aae18b80a9b190506e7b41578fcb,openstack/kolla-cli,master,I2238a3c9f905aae18b80a9b190506e7b41578fcb,Add genconfig unit test,MERGED,2019-09-14 16:26:04.000000000,2019-09-14 17:49:47.000000000,2019-09-14 17:46:54.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-14 16:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/dff0994a00ab840981aedfa6cd4c120565ffa3ea', 'message': 'Add genconfig unit test\n\nChange-Id: I2238a3c9f905aae18b80a9b190506e7b41578fcb\n'}, {'number': 2, 'created': '2019-09-14 16:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/01da60621ae317ecea30c3ae3ca588fefaae406a', 'message': 'Add genconfig unit test\n\nChange-Id: I2238a3c9f905aae18b80a9b190506e7b41578fcb\n'}, {'number': 3, 'created': '2019-09-14 16:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/449b9e2ebe1b09e65dbf24f501c9dee8920429a0', 'message': 'Add genconfig unit test\n\nChange-Id: I2238a3c9f905aae18b80a9b190506e7b41578fcb\nCo-Authored-By: caoyuan <cao.yuan@99cloud.net>\n'}, {'number': 4, 'created': '2019-09-14 17:08:19.000000000', 'files': ['kolla_cli/tests/unit/test_genconfig_cmd.py'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/ea368aedb9dba6161cdce5c0d6635cc95c064bc0', 'message': 'Add genconfig unit test\n\nChange-Id: I2238a3c9f905aae18b80a9b190506e7b41578fcb\nCo-Authored-By: caoyuan <cao.yuan@99cloud.net>\n'}]",1,682219,ea368aedb9dba6161cdce5c0d6635cc95c064bc0,13,2,4,28614,,,0,"Add genconfig unit test

Change-Id: I2238a3c9f905aae18b80a9b190506e7b41578fcb
Co-Authored-By: caoyuan <cao.yuan@99cloud.net>
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/19/682219/2 && git format-patch -1 --stdout FETCH_HEAD,"['kolla_cli/tests/unit/test_genconfig_cmd.py', 'kolla_cli/api/.control_plane.py.swp']",2,dff0994a00ab840981aedfa6cd4c120565ffa3ea,,,,82,0
openstack%2Fkolla-cli~master~I5ce4ba6236d58ec33e0b729177bf08148ec5335f,openstack/kolla-cli,master,I5ce4ba6236d58ec33e0b729177bf08148ec5335f,"Revert ""Add test action unit test""",MERGED,2019-09-14 17:09:25.000000000,2019-09-14 17:48:25.000000000,2019-09-14 17:46:54.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-09-14 17:09:25.000000000', 'files': ['kolla_cli/tests/unit/test_test_cmd.py'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/41d6029de3627d9e61c7f90950f4a31b8a260c5a', 'message': 'Revert ""Add test action unit test""\n\nThis reverts commit 46b368a848f3370466a4e58f05d7ea986fec5de9.\n\nChange-Id: I5ce4ba6236d58ec33e0b729177bf08148ec5335f\n'}]",0,682221,41d6029de3627d9e61c7f90950f4a31b8a260c5a,7,3,1,22165,,,0,"Revert ""Add test action unit test""

This reverts commit 46b368a848f3370466a4e58f05d7ea986fec5de9.

Change-Id: I5ce4ba6236d58ec33e0b729177bf08148ec5335f
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/21/682221/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla_cli/tests/unit/test_test_cmd.py'],1,41d6029de3627d9e61c7f90950f4a31b8a260c5a,,,"# Copyright (c) 2018 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from kolla_cli.tests.unit.common import KollaCliUnitTest class TestUnit(KollaCliUnitTest): @mock.patch('kolla_cli.api.control_plane.ControlPlaneApi.pull') @mock.patch('kolla_cli.common.ansible.job.AnsibleJob.get_status') @mock.patch('kolla_cli.shell.KollaCli._is_inventory_present', return_value=True) def test_pull(self, _, mock_get_status, mock_pull): mock_get_status.return_value = 0 mock_pull.return_value = self.get_fake_job() ret = self.run_cli_command('action pull') self.assertEqual(ret, 0) mock_pull.assert_called_once_with(1, [], []) @mock.patch('kolla_cli.api.control_plane.ControlPlaneApi.pull') @mock.patch('kolla_cli.common.ansible.job.AnsibleJob.get_status') @mock.patch('kolla_cli.shell.KollaCli._is_inventory_present', return_value=True) def test_pull_with_hosts(self, _, mock_get_status, mock_pull): mock_get_status.return_value = 0 mock_pull.return_value = self.get_fake_job() hostnames = ['host1', 'host2'] ret = self.run_cli_command( 'action pull --hosts {hosts}'.format( hosts=','.join(hostnames))) self.assertEqual(ret, 0) mock_pull.assert_called_once_with(1, hostnames, []) @mock.patch('kolla_cli.api.control_plane.ControlPlaneApi.pull') @mock.patch('kolla_cli.common.ansible.job.AnsibleJob.get_status') @mock.patch('kolla_cli.shell.KollaCli._is_inventory_present', return_value=True) def test_pull_with_services(self, _, mock_get_status, mock_pull): mock_get_status.return_value = 0 mock_pull.return_value = self.get_fake_job() services = ['service1', 'service2'] ret = self.run_cli_command( 'action pull --services {services}'.format( services=','.join(services))) self.assertEqual(ret, 0) mock_pull.assert_called_once_with(1, [], services) @mock.patch('kolla_cli.api.control_plane.ControlPlaneApi.pull') @mock.patch('kolla_cli.common.ansible.job.AnsibleJob.get_status') @mock.patch('kolla_cli.shell.KollaCli._is_inventory_present', return_value=True) def test_pull_with_hosts_and_services(self, _, mock_get_status, mock_pull): mock_get_status.return_value = 0 mock_pull.return_value = self.get_fake_job() hostnames = ['host1', 'host2'] services = ['service1', 'service2'] ret = self.run_cli_command( 'action pull --hosts {hosts} --services {services}'.format( hosts=','.join(hostnames), services=','.join(services))) self.assertEqual(ret, 0) mock_pull.assert_called_once_with(1, hostnames, services) ",0,79
openstack%2Fpuppet-tripleo~stable%2Fqueens~Iffda14d1488de09e57dfe0746a486a8cb78f110b,openstack/puppet-tripleo,stable/queens,Iffda14d1488de09e57dfe0746a486a8cb78f110b,Make the errors around fencing and IHA clearer,MERGED,2019-09-13 07:14:40.000000000,2019-09-14 17:47:36.000000000,2019-09-14 17:47:36.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2019-09-13 07:14:40.000000000', 'files': ['manifests/fencing.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c5889c8dadca75b6d612d4d9c3f30a2f4fd347a5', 'message': 'Make the errors around fencing and IHA clearer\n\nDistinguish the error messages between no ipmilan device\nconfigured or more than once device configured.\n\nChange-Id: Iffda14d1488de09e57dfe0746a486a8cb78f110b\n(cherry picked from commit a2b00bf7f20a679e98804b5e9bd02927ddd9430f)\n'}]",0,681973,c5889c8dadca75b6d612d4d9c3f30a2f4fd347a5,11,4,1,30126,,,0,"Make the errors around fencing and IHA clearer

Distinguish the error messages between no ipmilan device
configured or more than once device configured.

Change-Id: Iffda14d1488de09e57dfe0746a486a8cb78f110b
(cherry picked from commit a2b00bf7f20a679e98804b5e9bd02927ddd9430f)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/73/681973/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/fencing.pp'],1,c5889c8dadca75b6d612d4d9c3f30a2f4fd347a5,, if length($ipmilan_devices) < 1 { fail('You must specify an IPmilan device for a host when configuring instance HA') } if length($ipmilan_devices) > 1 { fail('Multiple IPmilan devices for a single host are not supported with instance HA'), if length($ipmilan_devices) != 1 { fail('Multiple (or zero) IPmilan devices for a single host are not supported with instance HA'),5,2
openstack%2Fswift~master~I6a346c9141aad1aa8a7393c899d5571057073e7a,openstack/swift,master,I6a346c9141aad1aa8a7393c899d5571057073e7a,Remove unneeded Zuul branch matcher,MERGED,2019-09-13 07:38:46.000000000,2019-09-14 17:32:26.000000000,2019-09-14 17:29:21.000000000,"[{'_account_id': 6547}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-13 07:38:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/3960df983b68cd5baa84cac9a4d0b61f08737c09', 'message': ""Remove unneeded Zuul branch matcher\n\nWe have implicit branch matchers, so there's no need to add a check\nfor not-ocata etc, a job is only run for the branch it's on - like\nmaster now.\n\nRemove it to not confuse Zuul when multiple branches matches and the job\ndefinition is different.\n\nChange-Id: I6a346c9141aad1aa8a7393c899d5571057073e7a\n""}]",0,681981,3960df983b68cd5baa84cac9a4d0b61f08737c09,11,4,1,6547,,,0,"Remove unneeded Zuul branch matcher

We have implicit branch matchers, so there's no need to add a check
for not-ocata etc, a job is only run for the branch it's on - like
master now.

Remove it to not confuse Zuul when multiple branches matches and the job
definition is different.

Change-Id: I6a346c9141aad1aa8a7393c899d5571057073e7a
",git fetch https://review.opendev.org/openstack/swift refs/changes/81/681981/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3960df983b68cd5baa84cac9a4d0b61f08737c09,no-branches,, branches: ^(?!stable/ocata).*$,0,1
openstack%2Fnova~master~I8dc8f043acb426149e8f3f8436fae65adf11b099,openstack/nova,master,I8dc8f043acb426149e8f3f8436fae65adf11b099,Do not query allocations twice in finish_revert_resize,ABANDONED,2019-08-27 13:16:10.000000000,2019-09-14 17:13:42.000000000,,"[{'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 28543}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-27 13:16:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/292630f3c0271751241493eaf84d793458691ff6', 'message': ""Do not query allocations twice in finish_revert_resize\n\nThis patch resolves a TODO in finish_revert_resize about querying the\ninstance's original allocation twice from placement.\n\nThe _revert_allocation() helper returned True if the instance had a\nmigration allocation that is reverted. But non of the callers of this\nhelper used the return value. So this patch changes the signature so\nthe helper now returns the original allocation which is the instance\nallocation _after_ the the revert succeeded. This way the provider\nmapping calculation can reuse the allocation information.\n\nChange-Id: I8dc8f043acb426149e8f3f8436fae65adf11b099\nblueprint: support-move-ops-with-qos-ports\n""}, {'number': 2, 'created': '2019-08-27 15:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4addcdc7ea78af4941542eeb2c2b59254acdb402', 'message': ""Do not query allocations twice in finish_revert_resize\n\nThis patch resolves a TODO in finish_revert_resize about querying the\ninstance's original allocation twice from placement.\n\nThe _revert_allocation() helper returned True if the instance had a\nmigration allocation that is reverted. But non of the callers of this\nhelper used the return value. So this patch changes the signature so\nthe helper now returns the original allocation which is the instance\nallocation _after_ the the revert succeeded. This way the provider\nmapping calculation can reuse the allocation information.\n\nChange-Id: I8dc8f043acb426149e8f3f8436fae65adf11b099\nblueprint: support-move-ops-with-qos-ports\n""}, {'number': 3, 'created': '2019-08-28 08:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/613a406ee8a1100bd6b0ca3fce60fd7cbcc65c5a', 'message': ""Do not query allocations twice in finish_revert_resize\n\nThis patch resolves a TODO in finish_revert_resize about querying the\ninstance's original allocation twice from placement.\n\nThe _revert_allocation() helper returned True if the instance had a\nmigration allocation that is reverted. But non of the callers of this\nhelper used the return value. So this patch changes the signature so\nthe helper now returns the original allocation which is the instance\nallocation _after_ the the revert succeeded. This way the provider\nmapping calculation can reuse the allocation information.\n\nChange-Id: I8dc8f043acb426149e8f3f8436fae65adf11b099\nblueprint: support-move-ops-with-qos-ports\n""}, {'number': 4, 'created': '2019-08-28 10:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a81674819e1a8742471e6225dd3bdc75107feae3', 'message': ""Do not query allocations twice in finish_revert_resize\n\nThis patch resolves a TODO in finish_revert_resize about querying the\ninstance's original allocation twice from placement.\n\nThe _revert_allocation() helper returned True if the instance had a\nmigration allocation that is reverted. But non of the callers of this\nhelper used the return value. So this patch changes the signature so\nthe helper now returns the original allocation which is the instance\nallocation _after_ the the revert succeeded. This way the provider\nmapping calculation can reuse the allocation information.\n\nChange-Id: I8dc8f043acb426149e8f3f8436fae65adf11b099\nblueprint: support-move-ops-with-qos-ports\n""}, {'number': 5, 'created': '2019-08-30 21:49:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0c5c732aa0416eb1d8bd4c3cf21059fb9640954d', 'message': ""Do not query allocations twice in finish_revert_resize\n\nThis patch resolves a TODO in finish_revert_resize about querying the\ninstance's original allocation twice from placement.\n\nThe _revert_allocation() helper returned True if the instance had a\nmigration allocation that is reverted. But non of the callers of this\nhelper used the return value. So this patch changes the signature so\nthe helper now returns the original allocation which is the instance\nallocation _after_ the the revert succeeded. This way the provider\nmapping calculation can reuse the allocation information.\n\nChange-Id: I8dc8f043acb426149e8f3f8436fae65adf11b099\nblueprint: support-move-ops-with-qos-ports\n""}, {'number': 6, 'created': '2019-09-02 16:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f54718678804bf8e14476b4fd51bbd3bcc201151', 'message': ""Do not query allocations twice in finish_revert_resize\n\nThis patch resolves a TODO in finish_revert_resize about querying the\ninstance's original allocation twice from placement.\n\nThe _revert_allocation() helper returned True if the instance had a\nmigration allocation that is reverted. But non of the callers of this\nhelper used the return value. So this patch changes the signature so\nthe helper now returns the original allocation which is the instance\nallocation _after_ the the revert succeeded. This way the provider\nmapping calculation can reuse the allocation information.\n\nChange-Id: I8dc8f043acb426149e8f3f8436fae65adf11b099\nblueprint: support-move-ops-with-qos-ports\n""}, {'number': 7, 'created': '2019-09-04 08:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f57c66284bfec9890b25433de3ab9fb4ba9ffd25', 'message': ""Do not query allocations twice in finish_revert_resize\n\nThis patch resolves a TODO in finish_revert_resize about querying the\ninstance's original allocation twice from placement.\n\nThe _revert_allocation() helper returned True if the instance had a\nmigration allocation that is reverted. But non of the callers of this\nhelper used the return value. So this patch changes the signature so\nthe helper now returns the original allocation which is the instance\nallocation _after_ the the revert succeeded. This way the provider\nmapping calculation can reuse the allocation information.\n\nChange-Id: I8dc8f043acb426149e8f3f8436fae65adf11b099\nblueprint: support-move-ops-with-qos-ports\n""}, {'number': 8, 'created': '2019-09-05 13:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93ef888aef76af88d82238599fc8be71568634f0', 'message': ""Do not query allocations twice in finish_revert_resize\n\nThis patch resolves a TODO in finish_revert_resize about querying the\ninstance's original allocation twice from placement.\n\nThe _revert_allocation() helper returned True if the instance had a\nmigration allocation that is reverted. But non of the callers of this\nhelper used the return value. So this patch changes the signature so\nthe helper now returns the original allocation which is the instance\nallocation _after_ the the revert succeeded. This way the provider\nmapping calculation can reuse the allocation information.\n\nChange-Id: I8dc8f043acb426149e8f3f8436fae65adf11b099\nblueprint: support-move-ops-with-qos-ports\n""}, {'number': 9, 'created': '2019-09-05 13:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a49c766564bd460bb6e6030017e385a17325e445', 'message': ""Do not query allocations twice in finish_revert_resize\n\nThis patch resolves a TODO in finish_revert_resize about querying the\ninstance's original allocation twice from placement.\n\nThe _revert_allocation() helper returned True if the instance had a\nmigration allocation that is reverted. But non of the callers of this\nhelper used the return value. So this patch changes the signature so\nthe helper now returns the original allocation which is the instance\nallocation _after_ the the revert succeeded. This way the provider\nmapping calculation can reuse the allocation information.\n\nChange-Id: I8dc8f043acb426149e8f3f8436fae65adf11b099\nblueprint: support-move-ops-with-qos-ports\n""}, {'number': 10, 'created': '2019-09-05 15:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59a88643e97fb0b4b56e8657f9ad2f5df1f30e94', 'message': ""Do not query allocations twice in finish_revert_resize\n\nThis patch resolves a TODO in finish_revert_resize about querying the\ninstance's original allocation twice from placement.\n\nThe _revert_allocation() helper returned True if the instance had a\nmigration allocation that is reverted. But non of the callers of this\nhelper used the return value. So this patch changes the signature so\nthe helper now returns the original allocation which is the instance\nallocation _after_ the the revert succeeded. This way the provider\nmapping calculation can reuse the allocation information.\n\nChange-Id: I8dc8f043acb426149e8f3f8436fae65adf11b099\nblueprint: support-move-ops-with-qos-ports\n""}, {'number': 11, 'created': '2019-09-06 15:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b0b6218a86b3e73817cb57abf8fa9b94eaa393e', 'message': ""Do not query allocations twice in finish_revert_resize\n\nThis patch resolves a TODO in finish_revert_resize about querying the\ninstance's original allocation twice from placement.\n\nThe _revert_allocation() helper returned True if the instance had a\nmigration allocation that is reverted. But non of the callers of this\nhelper used the return value. So this patch changes the signature so\nthe helper now returns the original allocation which is the instance\nallocation _after_ the the revert succeeded. This way the provider\nmapping calculation can reuse the allocation information.\n\nChange-Id: I8dc8f043acb426149e8f3f8436fae65adf11b099\nblueprint: support-move-ops-with-qos-ports\n""}, {'number': 12, 'created': '2019-09-09 12:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f771ccaef17514abfea7f2da02fb86543b20f46', 'message': ""Do not query allocations twice in finish_revert_resize\n\nThis patch resolves a TODO in finish_revert_resize about querying the\ninstance's original allocation twice from placement.\n\nThe _revert_allocation() helper returned True if the instance had a\nmigration allocation that is reverted. But non of the callers of this\nhelper used the return value. So this patch changes the signature so\nthe helper now returns the original allocation which is the instance\nallocation _after_ the the revert succeeded. This way the provider\nmapping calculation can reuse the allocation information.\n\nChange-Id: I8dc8f043acb426149e8f3f8436fae65adf11b099\nblueprint: support-move-ops-with-qos-ports\n""}, {'number': 13, 'created': '2019-09-10 09:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/addd637d86a4c19692ec7200b01ad9731d799c55', 'message': ""Do not query allocations twice in finish_revert_resize\n\nThis patch resolves a TODO in finish_revert_resize about querying the\ninstance's original allocation twice from placement.\n\nThe _revert_allocation() helper returned True if the instance had a\nmigration allocation that is reverted. But non of the callers of this\nhelper used the return value. So this patch changes the signature so\nthe helper now returns the original allocation which is the instance\nallocation _after_ the the revert succeeded. This way the provider\nmapping calculation can reuse the allocation information.\n\nChange-Id: I8dc8f043acb426149e8f3f8436fae65adf11b099\nblueprint: support-move-ops-with-qos-ports\n""}, {'number': 14, 'created': '2019-09-11 08:55:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9d733f119700fc1fa5efd537367d25d95398d15a', 'message': ""Do not query allocations twice in finish_revert_resize\n\nThis patch resolves a TODO in finish_revert_resize about querying the\ninstance's original allocation twice from placement.\n\nThe _revert_allocation() helper returned True if the instance had a\nmigration allocation that is reverted. But non of the callers of this\nhelper used the return value. So this patch changes the signature so\nthe helper now returns the original allocation which is the instance\nallocation _after_ the the revert succeeded. This way the provider\nmapping calculation can reuse the allocation information.\n\nChange-Id: I8dc8f043acb426149e8f3f8436fae65adf11b099\nblueprint: support-move-ops-with-qos-ports\n""}, {'number': 15, 'created': '2019-09-11 18:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1dc7b2b94524066f54f4dd27c2214ed705a49d76', 'message': ""Do not query allocations twice in finish_revert_resize\n\nThis patch resolves a TODO in finish_revert_resize about querying the\ninstance's original allocation twice from placement.\n\nThe _revert_allocation() helper returned True if the instance had a\nmigration allocation that is reverted. But non of the callers of this\nhelper used the return value. So this patch changes the signature so\nthe helper now returns the original allocation which is the instance\nallocation _after_ the the revert succeeded. This way the provider\nmapping calculation can reuse the allocation information.\n\nChange-Id: I8dc8f043acb426149e8f3f8436fae65adf11b099\nblueprint: support-move-ops-with-qos-ports\n""}, {'number': 16, 'created': '2019-09-12 11:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3991fdaa3ae04d41418d1146ca7e9ff4f194526', 'message': ""Do not query allocations twice in finish_revert_resize\n\nThis patch resolves a TODO in finish_revert_resize about querying the\ninstance's original allocation twice from placement.\n\nThe _revert_allocation() helper returned True if the instance had a\nmigration allocation that is reverted. But non of the callers of this\nhelper used the return value. So this patch changes the signature so\nthe helper now returns the original allocation which is the instance\nallocation _after_ the the revert succeeded. This way the provider\nmapping calculation can reuse the allocation information.\n\nChange-Id: I8dc8f043acb426149e8f3f8436fae65adf11b099\nblueprint: support-move-ops-with-qos-ports\n""}, {'number': 17, 'created': '2019-09-12 11:49:36.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1521671a5b8450fa9e3a8ff0747a4a627b7291f9', 'message': ""Do not query allocations twice in finish_revert_resize\n\nThis patch resolves a TODO in finish_revert_resize about querying the\ninstance's original allocation twice from placement.\n\nThe _revert_allocation() helper returned True if the instance had a\nmigration allocation that is reverted. But none of the callers of this\nhelper used the return value. So this patch changes the signature so\nthe helper now returns the original allocation which is the instance\nallocation _after_ the the revert succeeded. This way the provider\nmapping calculation can reuse the allocation information.\n\nChange-Id: I8dc8f043acb426149e8f3f8436fae65adf11b099\nblueprint: support-move-ops-with-qos-ports\n""}]",11,678827,1521671a5b8450fa9e3a8ff0747a4a627b7291f9,127,19,17,9708,,,0,"Do not query allocations twice in finish_revert_resize

This patch resolves a TODO in finish_revert_resize about querying the
instance's original allocation twice from placement.

The _revert_allocation() helper returned True if the instance had a
migration allocation that is reverted. But none of the callers of this
helper used the return value. So this patch changes the signature so
the helper now returns the original allocation which is the instance
allocation _after_ the the revert succeeded. This way the provider
mapping calculation can reuse the allocation information.

Change-Id: I8dc8f043acb426149e8f3f8436fae65adf11b099
blueprint: support-move-ops-with-qos-ports
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/678827/16 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,292630f3c0271751241493eaf84d793458691ff6,bp/support-move-ops-with-qos-ports," orig_allocs = self._revert_allocation( context, instance, migration) context, self.reportclient, request_spec, orig_allocs) return orig_alloc"," self._revert_allocation(context, instance, migration) # TODO(gibi): the _revert_allocation() call above already # fetched the original allocation of the instance so we could # avoid this second call to placement allocs = self.reportclient.get_allocations_for_consumer( context, instance.uuid) context, self.reportclient, request_spec, allocs) return True",5,11
openstack%2Fkolla-cli~master~Ie75354f8684228d1b0cf9589db524435e0ad334c,openstack/kolla-cli,master,Ie75354f8684228d1b0cf9589db524435e0ad334c,Add test action unit test,MERGED,2019-09-14 16:29:45.000000000,2019-09-14 17:09:25.000000000,2019-09-14 17:07:07.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-14 16:29:45.000000000', 'files': ['kolla_cli/tests/unit/test_test_cmd.py'], 'web_link': 'https://opendev.org/openstack/kolla-cli/commit/46b368a848f3370466a4e58f05d7ea986fec5de9', 'message': 'Add test action unit test\n\nChange-Id: Ie75354f8684228d1b0cf9589db524435e0ad334c\n'}]",1,682220,46b368a848f3370466a4e58f05d7ea986fec5de9,9,2,1,28614,,,0,"Add test action unit test

Change-Id: Ie75354f8684228d1b0cf9589db524435e0ad334c
",git fetch https://review.opendev.org/openstack/kolla-cli refs/changes/20/682220/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla_cli/tests/unit/test_test_cmd.py'],1,46b368a848f3370466a4e58f05d7ea986fec5de9,,"# Copyright (c) 2018 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from kolla_cli.tests.unit.common import KollaCliUnitTest class TestUnit(KollaCliUnitTest): @mock.patch('kolla_cli.api.control_plane.ControlPlaneApi.pull') @mock.patch('kolla_cli.common.ansible.job.AnsibleJob.get_status') @mock.patch('kolla_cli.shell.KollaCli._is_inventory_present', return_value=True) def test_pull(self, _, mock_get_status, mock_pull): mock_get_status.return_value = 0 mock_pull.return_value = self.get_fake_job() ret = self.run_cli_command('action pull') self.assertEqual(ret, 0) mock_pull.assert_called_once_with(1, [], []) @mock.patch('kolla_cli.api.control_plane.ControlPlaneApi.pull') @mock.patch('kolla_cli.common.ansible.job.AnsibleJob.get_status') @mock.patch('kolla_cli.shell.KollaCli._is_inventory_present', return_value=True) def test_pull_with_hosts(self, _, mock_get_status, mock_pull): mock_get_status.return_value = 0 mock_pull.return_value = self.get_fake_job() hostnames = ['host1', 'host2'] ret = self.run_cli_command( 'action pull --hosts {hosts}'.format( hosts=','.join(hostnames))) self.assertEqual(ret, 0) mock_pull.assert_called_once_with(1, hostnames, []) @mock.patch('kolla_cli.api.control_plane.ControlPlaneApi.pull') @mock.patch('kolla_cli.common.ansible.job.AnsibleJob.get_status') @mock.patch('kolla_cli.shell.KollaCli._is_inventory_present', return_value=True) def test_pull_with_services(self, _, mock_get_status, mock_pull): mock_get_status.return_value = 0 mock_pull.return_value = self.get_fake_job() services = ['service1', 'service2'] ret = self.run_cli_command( 'action pull --services {services}'.format( services=','.join(services))) self.assertEqual(ret, 0) mock_pull.assert_called_once_with(1, [], services) @mock.patch('kolla_cli.api.control_plane.ControlPlaneApi.pull') @mock.patch('kolla_cli.common.ansible.job.AnsibleJob.get_status') @mock.patch('kolla_cli.shell.KollaCli._is_inventory_present', return_value=True) def test_pull_with_hosts_and_services(self, _, mock_get_status, mock_pull): mock_get_status.return_value = 0 mock_pull.return_value = self.get_fake_job() hostnames = ['host1', 'host2'] services = ['service1', 'service2'] ret = self.run_cli_command( 'action pull --hosts {hosts} --services {services}'.format( hosts=','.join(hostnames), services=','.join(services))) self.assertEqual(ret, 0) mock_pull.assert_called_once_with(1, hostnames, services) ",,79,0
openstack%2Fmagnum~master~I964cc70051db6b2801138ad70eca433131e95840,openstack/magnum,master,I964cc70051db6b2801138ad70eca433131e95840,fix the url in README.rst,ABANDONED,2019-01-05 05:09:01.000000000,2019-09-14 16:43:06.000000000,,"[{'_account_id': 8064}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 28543}, {'_account_id': 28935}, {'_account_id': 29425}]","[{'number': 1, 'created': '2019-01-05 05:09:01.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/6c960146ded2b5a68eb0fe4073df28778a738d4d', 'message': 'fix the url in README.rst\n\nChange-Id: I964cc70051db6b2801138ad70eca433131e95840\n'}]",0,628719,6c960146ded2b5a68eb0fe4073df28778a738d4d,8,6,1,17130,,,0,"fix the url in README.rst

Change-Id: I964cc70051db6b2801138ad70eca433131e95840
",git fetch https://review.opendev.org/openstack/magnum refs/changes/19/628719/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,6c960146ded2b5a68eb0fe4073df28778a738d4d,,.. image:: https://governance.openstack.org/tc/badges/magnum.svg :target: https://governance.openstack.org/tc/reference/tags/index.html* **Source:** https://git.openstack.org/cgit/openstack/magnum,.. image:: https://governance.openstack.org/badges/magnum.svg :target: https://governance.openstack.org/reference/tags/index.html* **Source:** http://git.openstack.org/cgit/openstack/magnum,3,3
openstack%2Fironic~master~I35e4c61dd44384429224dee6de9827d8debe9cf9,openstack/ironic,master,I35e4c61dd44384429224dee6de9827d8debe9cf9,DRAC : clear_job_queue clean step to fix pending bios config jobs,MERGED,2019-08-01 13:00:19.000000000,2019-09-14 16:43:04.000000000,2019-09-14 16:15:07.000000000,"[{'_account_id': 4571}, {'_account_id': 6618}, {'_account_id': 7160}, {'_account_id': 8580}, {'_account_id': 10118}, {'_account_id': 10250}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 16006}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 29834}]","[{'number': 1, 'created': '2019-08-01 13:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/32fb9996901cb4c9b09beee476ee9b6b0d1d178c', 'message': 'DRAC : clear_job_queue clean step to fix pending bios config jobs\n\nIf pending bios config job for changing the boot mode\nis in job queue on an overcloud node, then ironic will\nabandon the introspection attempt for the node,\nwhich will cause overall introspection to fail.\nAdded clear_job_queue cleaning step in the iDRAC driver that\nclears the Lifecycle Controller job queue even if there is\npending bios config job in job queue.\n\nChange-Id: I35e4c61dd44384429224dee6de9827d8debe9cf9\nStory: 2006322\nTask: 36053\n'}, {'number': 2, 'created': '2019-08-06 07:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/49ad5394fec13bd46595ffec3f327468cc19c027', 'message': 'DRAC : clear_job_queue clean step to fix pending bios config jobs\n\nIf pending bios config job for changing the boot mode\nis in job queue on an overcloud node, then ironic will\nabandon the introspection attempt for the node,\nwhich will cause overall introspection to fail.\n\nAdded clear_job_queue cleaning step in the iDRAC driver that\nclears the Lifecycle Controller job queue even if there is\npending bios config job in job queue.\n\nChange-Id: I35e4c61dd44384429224dee6de9827d8debe9cf9\nStory: 2006322\nTask: 36053\n'}, {'number': 3, 'created': '2019-08-07 07:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/85c98bc3f13c6af8d1cb66f5c676de637fc3d247', 'message': 'DRAC : clear_job_queue clean step to fix pending bios config jobs\n\nIf pending bios config job for changing the boot mode\nis in job queue on an overcloud node, then ironic will\nabandon the introspection attempt for the node,\nwhich will cause overall introspection to fail.\n\nAdded clear_job_queue cleaning step in the iDRAC driver that\nclears the Lifecycle Controller job queue even if there is\npending bios config job in job queue.\n\nChange-Id: I35e4c61dd44384429224dee6de9827d8debe9cf9\nStory: 2006322\nTask: 36053\n'}, {'number': 4, 'created': '2019-08-12 11:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/670a1d5584d9f2ace4f5e3adf3b3a5ada2be1e61', 'message': 'DRAC : clear_job_queue clean step to fix pending bios config jobs\n\nIf pending bios config job for changing the boot mode\nis in job queue on an overcloud node, then ironic will\nabandon the introspection attempt for the node,\nwhich will cause overall introspection to fail.\n\nAdded clear_job_queue cleaning step in the iDRAC driver that\nclears the Lifecycle Controller job queue even if there is\npending bios config job in job queue.\n\nChange-Id: I35e4c61dd44384429224dee6de9827d8debe9cf9\nStory: 2006322\nTask: 36053\n'}, {'number': 5, 'created': '2019-08-13 11:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/977fb75cda9a0c5e5cb301f687f5ae9c82753b17', 'message': 'DRAC : clear_job_queue clean step to fix pending bios config jobs\n\nIf pending bios config job for changing the boot mode\nis in job queue on an overcloud node, then ironic will\nabandon the introspection attempt for the node,\nwhich will cause overall introspection to fail.\n\nAdded clear_job_queue cleaning step in the iDRAC driver that\nclears the Lifecycle Controller job queue even if there is\npending bios config job or any other pending job in job queue.\n\nChange-Id: I35e4c61dd44384429224dee6de9827d8debe9cf9\nStory: 2006322\nTask: 36053\n'}, {'number': 6, 'created': '2019-08-14 11:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4d41cd48760683b3e2fa8fbd3841520206e5ae40', 'message': 'DRAC : clear_job_queue clean step to fix pending bios config jobs\n\nIf pending bios config job for changing the boot mode\nis in job queue on an overcloud node, then ironic will\nabandon the introspection attempt for the node,\nwhich will cause overall introspection to fail.\n\nAdded clear_job_queue cleaning step in the iDRAC driver that\nclears the Lifecycle Controller job queue even if there is\npending bios config job or any other pending job in job queue.\n\nChange-Id: I35e4c61dd44384429224dee6de9827d8debe9cf9\nStory: 2006322\nTask: 36053\n'}, {'number': 7, 'created': '2019-08-16 13:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8304f084f6be4f13ff3b34e0dbf163356576c7d3', 'message': 'DRAC : clear_job_queue clean step to fix pending bios config jobs\n\nIf pending bios config job for changing the boot mode\nis in job queue on an overcloud node, then ironic will abandon\nthe introspection attempt for the node which will cause overall\nintrospection to fail.\n\nAdded clear_job_queue cleaning step in the iDRAC driver that\nclears the Lifecycle Controller job queue even if there is\npending bios config job or any other pending job in job queue.\n\nChange-Id: I35e4c61dd44384429224dee6de9827d8debe9cf9\nStory: 2006322\nTask: 36053\n'}, {'number': 8, 'created': '2019-08-22 10:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/631f266932b346b3a3c650c59851277e67aed88c', 'message': 'DRAC : clear_job_queue clean step to fix pending bios config jobs\n\nIf pending bios config job for changing the boot mode\nis in job queue on an overcloud node, then ironic will\nabandon the introspection attempt for the node,\nwhich will cause overall introspection to fail.\n\nAdded clear_job_queue cleaning step in the iDRAC driver that\nclears the Lifecycle Controller job queue even if there is\npending bios config job or any other pending job in job queue.\n\nChange-Id: I35e4c61dd44384429224dee6de9827d8debe9cf9\nStory: 2006322\nTask: 36053\n'}, {'number': 9, 'created': '2019-08-29 09:08:10.000000000', 'files': ['ironic/drivers/modules/drac/management.py', 'releasenotes/notes/add_clean_step_clear_job_queue-7b774d8d0e36d1b2.yaml', 'ironic/tests/unit/drivers/modules/drac/test_management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/dd9c5fcedfe4acdeaf8dd525ddc41a62229d4d53', 'message': 'DRAC : clear_job_queue clean step to fix pending bios config jobs\n\nIf pending bios config job for changing the boot mode\nis in job queue on an overcloud node, then ironic will\nabandon the introspection attempt for the node,\nwhich will cause overall introspection to fail.\n\nAdded clear_job_queue cleaning step in the iDRAC driver that\nclears the Lifecycle Controller job queue even if there is\npending bios config job or any other pending job in job queue.\n\nChange-Id: I35e4c61dd44384429224dee6de9827d8debe9cf9\nStory: 2006322\nTask: 36053\n'}]",61,674021,dd9c5fcedfe4acdeaf8dd525ddc41a62229d4d53,122,16,9,29834,,,0,"DRAC : clear_job_queue clean step to fix pending bios config jobs

If pending bios config job for changing the boot mode
is in job queue on an overcloud node, then ironic will
abandon the introspection attempt for the node,
which will cause overall introspection to fail.

Added clear_job_queue cleaning step in the iDRAC driver that
clears the Lifecycle Controller job queue even if there is
pending bios config job or any other pending job in job queue.

Change-Id: I35e4c61dd44384429224dee6de9827d8debe9cf9
Story: 2006322
Task: 36053
",git fetch https://review.opendev.org/openstack/ironic refs/changes/21/674021/8 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/drac/management.py', 'ironic/tests/unit/drivers/modules/drac/test_management.py']",2,32fb9996901cb4c9b09beee476ee9b6b0d1d178c,," @mock.patch.object(drac_job, 'list_unfinished_jobs', spec_set=True, autospec=True) def test_set_boot_device(self, mock_list_unfinished_jobs, mock_validate_job_queue, mock_list_unfinished_jobs.assert_called_once_with(self.node) @mock.patch.object(drac_job, 'list_unfinished_jobs', spec_set=True, autospec=True) self, mock_list_unfinished_jobs, mock_validate_job_queue, mock__get_boot_device, mock__get_next_persistent_boot_mode, mock_get_drac_client): mock_list_unfinished_jobs.assert_called_once_with(self.node) @mock.patch.object(drac_job, 'list_unfinished_jobs', spec_set=True, autospec=True) self, mock_list_unfinished_jobs, mock_validate_job_queue, mock__get_boot_device, mock__get_next_persistent_boot_mode, mock_list_unfinished_jobs.assert_called_once_with(self.node) @mock.patch.object(drac_job, 'list_unfinished_jobs', spec_set=True, autospec=True) self, mock_list_unfinished_jobs, mock_validate_job_queue, mock__get_boot_device, mock__get_next_persistent_boot_mode, mock_list_unfinished_jobs.assert_called_once_with(self.node) @mock.patch.object(drac_job, 'list_unfinished_jobs', spec_set=True, autospec=True) self, mock_list_unfinished_jobs, mock_validate_job_queue, mock__get_boot_device, mock_list_unfinished_jobs.assert_called_once_with(self.node) @mock.patch.object(drac_job, 'list_unfinished_jobs', spec_set=True, autospec=True) mock_list_unfinished_jobs, @mock.patch.object(drac_job, 'validate_job_queue', spec_set=True, autospec=True) @mock.patch.object(drac_job, 'list_unfinished_jobs', spec_set=True, autospec=True) @mock.patch.object(drac_mgmt, '_get_boot_device', spec_set=True, autospec=True) @mock.patch.object(drac_mgmt, '_get_next_persistent_boot_mode', spec_set=True, autospec=True) def test_set_boot_device_with_validate_job_queue( self, mock__get_next_persistent_boot_mode, mock__get_boot_device, mock_list_unfinished_jobs, mock_validate_job_queue, mock_get_drac_client): mock_client = mock.Mock() mock_get_drac_client.return_value = mock_client mock_job = mock.Mock() mock_job.status = ""Scheduled"" mock_client.get_job.return_value = mock_job job_dict = { 'id': 'JID_602553293345', 'name': 'Config:RAID:RAID.Integrated.1-1', 'start_time': 'TIME_NOW', 'until_time': 'TIME_NA', 'message': 'Task successfully scheduled.', 'status': 'Scheduled', 'percent_complete': 0} job = test_utils.make_job(job_dict) mock_list_unfinished_jobs.return_value = [job] mock_client.list_boot_devices.return_value = self.boot_devices['IPL'] boot_device = {'boot_device': ironic.common.boot_devices.DISK, 'persistent': True} mock__get_boot_device.return_value = boot_device mock__get_next_persistent_boot_mode.return_value = 'IPL' drac_mgmt.set_boot_device( self.node, ironic.common.boot_devices.PXE, persistent=False) mock_validate_job_queue.assert_called_once_with(self.node) @mock.patch.object(drac_job, 'validate_job_queue', spec_set=True, autospec=True) @mock.patch.object(drac_job, 'list_unfinished_jobs', spec_set=True, autospec=True) def test_set_boot_device_with_list_unfinished_jobs_fail( self, mock_list_unfinished_jobs, mock_validate_job_queue, mock_get_drac_client): mock_client = mock.Mock() mock_get_drac_client.return_value = mock_client mock_list_unfinished_jobs.side_effect = exception.DracOperationError( 'boom') self.assertRaises(exception.DracOperationError, drac_mgmt.set_boot_device, self.node, ironic.common.boot_devices.PXE, persistent=True) self.assertEqual(0, mock_client.change_boot_device_order.call_count) self.assertEqual(0, mock_client.set_bios_settings.call_count) self.assertEqual(0, mock_client.commit_pending_bios_changes.call_count) @mock.patch.object(drac_job, 'list_unfinished_jobs', spec_set=True, autospec=True) @mock.patch.object(drac_job, 'validate_job_queue', spec_set=True, autospec=True) @mock.patch.object(drac_mgmt, '_get_boot_device', spec_set=True, autospec=True) @mock.patch.object(drac_mgmt, '_get_next_persistent_boot_mode', spec_set=True, autospec=True) def test_set_boot_device_with_list_unfinished_jobs( self, mock__get_next_persistent_boot_mode, mock__get_boot_device, mock_validate_job_queue, mock_list_unfinished_jobs, mock_get_drac_client): mock_client = mock.Mock() mock_get_drac_client.return_value = mock_client bios_job_dict = { 'id': 'JID_602553293345', 'name': 'ConfigBIOS:BIOS.Setup.1-1', 'start_time': 'TIME_NOW', 'until_time': 'TIME_NA', 'message': 'Task successfully scheduled.', 'status': 'Scheduled', 'percent_complete': 0} bios_job = test_utils.make_job(bios_job_dict) mock_list_unfinished_jobs.return_value = [bios_job] mock_client.list_boot_devices.return_value = self.boot_devices['IPL'] boot_device = {'boot_device': ironic.common.boot_devices.DISK, 'persistent': True} mock__get_boot_device.return_value = boot_device mock__get_next_persistent_boot_mode.return_value = 'IPL' drac_mgmt.set_boot_device(self.node, ironic.common.boot_devices.DISK, persistent=True) mock_client.delete_jobs.assert_called_once_with( job_ids=['JID_602553293345']) @mock.patch.object(drac_job, 'list_unfinished_jobs', spec_set=True, autospec=True) @mock.patch.object(drac_job, 'validate_job_queue', spec_set=True, autospec=True) @mock.patch.object(drac_mgmt, '_get_boot_device', spec_set=True, autospec=True) @mock.patch.object(drac_mgmt, '_get_next_persistent_boot_mode', spec_set=True, autospec=True) def test_set_boot_device_with_multiple_unfinished_jobs( self, mock__get_next_persistent_boot_mode, mock__get_boot_device, mock_validate_job_queue, mock_list_unfinished_jobs, mock_get_drac_client): mock_client = mock.Mock() mock_get_drac_client.return_value = mock_client job_dict = { 'id': 'JID_602553293345', 'name': 'Config:RAID:RAID.Integrated.1-1', 'start_time': 'TIME_NOW', 'until_time': 'TIME_NA', 'message': 'Task successfully scheduled.', 'status': 'Scheduled', 'percent_complete': 0} job = test_utils.make_job(job_dict) bios_job_dict = { 'id': 'JID_602553293346', 'name': 'ConfigBIOS:BIOS.Setup.1-1', 'start_time': 'TIME_NOW', 'until_time': 'TIME_NA', 'message': 'Task successfully scheduled.', 'status': 'Scheduled', 'percent_complete': 0} bios_job = test_utils.make_job(bios_job_dict) mock_list_unfinished_jobs.return_value = [job, bios_job] mock_client.list_boot_devices.return_value = self.boot_devices['IPL'] boot_device = {'boot_device': ironic.common.boot_devices.DISK, 'persistent': True} mock__get_boot_device.return_value = boot_device mock__get_next_persistent_boot_mode.return_value = 'IPL' drac_mgmt.set_boot_device(self.node, ironic.common.boot_devices.DISK, persistent=True) mock_validate_job_queue.assert_called_once_with(self.node) def test_clear_job_queue(self, mock_get_drac_client): mock_client = mock.Mock() mock_get_drac_client.return_value = mock_client with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: return_value = task.driver.management.clear_job_queue(task) mock_client.delete_jobs.assert_called_once_with( job_ids=['JID_CLEARALL_FORCE']) self.assertIsNone(return_value)"," def test_set_boot_device(self, mock_validate_job_queue, self, mock_validate_job_queue, mock__get_boot_device, mock__get_next_persistent_boot_mode, mock_get_drac_client): self, mock_validate_job_queue, mock__get_boot_device, mock__get_next_persistent_boot_mode, self, mock_validate_job_queue, mock__get_boot_device, mock__get_next_persistent_boot_mode, self, mock_validate_job_queue, mock__get_boot_device, @mock.patch.object(drac_job, 'validate_job_queue', spec_set=True, autospec=True) def test_set_boot_device_with_invalid_job_queue( self, mock_validate_job_queue, mock_get_drac_client): mock_client = mock.Mock() mock_get_drac_client.return_value = mock_client mock_validate_job_queue.side_effect = exception.DracOperationError( 'boom') self.assertRaises(exception.DracOperationError, drac_mgmt.set_boot_device, self.node, ironic.common.boot_devices.PXE, persistent=True) self.assertEqual(0, mock_client.change_boot_device_order.call_count) self.assertEqual(0, mock_client.set_bios_settings.call_count) self.assertEqual(0, mock_client.commit_pending_bios_changes.call_count) ",217,27
openstack%2Fdevstack~master~I4b78aaa1aaf0f2d49c13040716cb8fd0dacaf0ac,openstack/devstack,master,I4b78aaa1aaf0f2d49c13040716cb8fd0dacaf0ac,Trivial: Update pypi url to new url,ABANDONED,2018-04-21 05:22:37.000000000,2019-09-14 16:42:37.000000000,,"[{'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-04-21 05:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fdc9bf3b5b81d57aca8103ce0d6d37bb0884bc88', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: I4b78aaa1aaf0f2d49c13040716cb8fd0dacaf0ac\n'}, {'number': 2, 'created': '2018-04-24 03:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/cfc8efde33b889f9d9a50dd425adb4a1d6b25e3f', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: I4b78aaa1aaf0f2d49c13040716cb8fd0dacaf0ac\n'}, {'number': 3, 'created': '2018-04-24 03:30:19.000000000', 'files': ['inc/python', 'doc/source/systemd.rst', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8b5651dd87cd11ba5021684dcc963fb9e9dbad8f', 'message': 'Trivial: Update pypi url to new url\n\nPypi url changed from [1] to [2]\n\n[1] https://pypi.python.org/pypi/<package>\n[2] https://pypi.org/project/<package>\n\nChange-Id: I4b78aaa1aaf0f2d49c13040716cb8fd0dacaf0ac\n'}]",3,563388,8b5651dd87cd11ba5021684dcc963fb9e9dbad8f,16,6,3,17130,,,0,"Trivial: Update pypi url to new url

Pypi url changed from [1] to [2]

[1] https://pypi.python.org/pypi/<package>
[2] https://pypi.org/project/<package>

Change-Id: I4b78aaa1aaf0f2d49c13040716cb8fd0dacaf0ac
",git fetch https://review.opendev.org/openstack/devstack refs/changes/88/563388/1 && git format-patch -1 --stdout FETCH_HEAD,"['inc/python', 'doc/source/systemd.rst', 'HACKING.rst']",3,fdc9bf3b5b81d57aca8103ce0d6d37bb0884bc88,pypi-url,.. _bashate: https://pypi.org/project/bashate,.. _bashate: https://pypi.python.org/pypi/bashate,3,3
openstack%2Fnova~master~I3aaea1d15a357f550f529beaa84fb1a1a7748358,openstack/nova,master,I3aaea1d15a357f550f529beaa84fb1a1a7748358,PDF documentation build,MERGED,2019-08-15 16:07:07.000000000,2019-09-14 16:40:50.000000000,2019-09-14 16:37:56.000000000,"[{'_account_id': 841}, {'_account_id': 1916}, {'_account_id': 5997}, {'_account_id': 6167}, {'_account_id': 6547}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-08-15 16:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9800b02d270dd06b53cb11f2258f882802333290', 'message': 'DNM: WIP: PDF documentation build\n\n- sphinxcontrib-svg2pdfconverter is used to handle SVG properly.\n- maxlistdepth=10 in latex_elements is needed to handle\n  deeper levels of nesting.\n- bindep.txt is borrowed from https://review.opendev.org/#/c/601659/\n\nsample-config is temporarily excluded from the hidden toctree\nin doc/source/configuration/index.rst and :orphan: is used.\nIf it is included in the hidden toctree, LaTeX fails with\n""TeX capacity exceeded: sorry [main memory size=5000000]""\n(with PDF output) .... and if excluded LaTeX fails.\nThe outputs from both cases looks same.\n\nChange-Id: I3aaea1d15a357f550f529beaa84fb1a1a7748358\n'}, {'number': 2, 'created': '2019-08-15 16:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6804e042aaa1f6002486e9fca4250927bb51f802', 'message': 'DNM: WIP: PDF documentation build\n\n- sphinxcontrib-svg2pdfconverter is used to handle SVG properly.\n- maxlistdepth=10 in latex_elements is needed to handle\n  deeper levels of nesting.\n- bindep.txt is borrowed from https://review.opendev.org/#/c/601659/\n\nsample-config is temporarily excluded from the hidden toctree\nin doc/source/configuration/index.rst and :orphan: is used.\nIf it is included in the hidden toctree, LaTeX fails with\n""TeX capacity exceeded: sorry [main memory size=5000000]""\n(with PDF output) .... and if excluded LaTeX fails.\nThe outputs from both cases looks same.\n\nChange-Id: I3aaea1d15a357f550f529beaa84fb1a1a7748358\n'}, {'number': 3, 'created': '2019-08-19 17:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2273c45258f0f5edfb77420df7f8df0ffe78850c', 'message': 'PDF documentation build\n\n- sphinxcontrib-svg2pdfconverter is used to handle SVG properly.\n- maxlistdepth=10 in latex_elements is needed to handle\n  deeper levels of nesting.\n- bindep.txt is borrowed from https://review.opendev.org/#/c/601659/\n- Sample config/policy files are skipped in the PDF document\n  as inline sample files cause LaTeX error and direct links\n  in PDF doc is discouraged.\n\nsample-config is temporarily excluded from the hidden toctree\nin doc/source/configuration/index.rst and :orphan: is used.\nIf it is included in the hidden toctree, LaTeX fails with\n""TeX capacity exceeded: sorry [main memory size=5000000]""\n(with PDF output) .... and if excluded LaTeX fails.\nThe outputs from both cases looks same.\n\nChange-Id: I3aaea1d15a357f550f529beaa84fb1a1a7748358\n'}, {'number': 4, 'created': '2019-08-23 18:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a392f85a3d4b171ce703bb561ab1c3a6c3ba3d8', 'message': 'PDF documentation build\n\n- sphinxcontrib-svg2pdfconverter is used to handle SVG properly.\n- maxlistdepth=10 in latex_elements is needed to handle\n  deeper levels of nesting.\n- bindep.txt is borrowed from https://review.opendev.org/#/c/601659/\n- Sample config/policy files are skipped in the PDF document\n  as inline sample files cause LaTeX error and direct links\n  in PDF doc is discouraged.\n- create new pdf-docs environment that is used during openstack-tox-docs\n  run.\n\nsample-config is temporarily excluded from the hidden toctree\nin doc/source/configuration/index.rst and :orphan: is used.\nIf it is included in the hidden toctree, LaTeX fails with\n""TeX capacity exceeded: sorry [main memory size=5000000]""\n(with PDF output) .... and if excluded LaTeX fails.\nThe outputs from both cases looks same.\n\nChange-Id: I3aaea1d15a357f550f529beaa84fb1a1a7748358\n'}, {'number': 5, 'created': '2019-08-25 06:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7557693f0d447f9ba2fc8d82afd680bb81d035c6', 'message': 'PDF documentation build\n\n- sphinxcontrib-svg2pdfconverter is used to handle SVG properly.\n- maxlistdepth=10 in latex_elements is needed to handle\n  deeper levels of nesting.\n- bindep.txt is borrowed from https://review.opendev.org/#/c/601659/\n- Sample config/policy files are skipped in the PDF document\n  as inline sample files cause LaTeX error and direct links\n  in PDF doc is discouraged.\n- create new pdf-docs environment that is used during openstack-tox-docs\n  run.\n\nsample-config is temporarily excluded from the hidden toctree\nin doc/source/configuration/index.rst and :orphan: is used.\nIf it is included in the hidden toctree, LaTeX fails with\n""TeX capacity exceeded: sorry [main memory size=5000000]""\n(with PDF output) .... and if excluded LaTeX fails.\nThe outputs from both cases looks same.\n\nChange-Id: I3aaea1d15a357f550f529beaa84fb1a1a7748358\n'}, {'number': 6, 'created': '2019-08-26 07:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1a53b0527a47ba0cc763dd5f4cc9b814733c2615', 'message': 'PDF documentation build\n\n- sphinxcontrib-svg2pdfconverter is used to handle SVG properly.\n- maxlistdepth=10 in latex_elements is needed to handle\n  deeper levels of nesting.\n- bindep.txt is borrowed from https://review.opendev.org/#/c/601659/\n- Sample config/policy files are skipped in the PDF document\n  as inline sample files cause LaTeX error and direct links\n  in PDF doc is discouraged.\n- create new pdf-docs environment that is used during openstack-tox-docs\n  run.\n\nsample-config is temporarily excluded from the hidden toctree\nin doc/source/configuration/index.rst and :orphan: is used.\nIf it is included in the hidden toctree, LaTeX fails with\n""TeX capacity exceeded: sorry [main memory size=5000000]""\n(with PDF output) .... and if excluded LaTeX fails.\nThe outputs from both cases looks same.\n\nChange-Id: I3aaea1d15a357f550f529beaa84fb1a1a7748358\n'}, {'number': 7, 'created': '2019-09-06 03:06:38.000000000', 'files': ['doc/source/configuration/index.rst', 'doc/source/configuration/config.rst', 'doc/source/conf.py', 'doc/requirements.txt', 'doc/source/configuration/policy.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/16b9486bf7e91bfd5dc48297cee9f54b49156c93', 'message': 'PDF documentation build\n\n- Add a new pdf-docs environment to enable PDF build.\n- sphinxcontrib-svg2pdfconverter is used to handle SVG properly.\n- maxlistdepth=10 in latex_elements is needed to handle\n  deeper levels of nesting.\n- Sample config/policy files are skipped in the PDF document\n  as inline sample files cause LaTeX error [1] and direct links\n  in PDF doc is discouraged. Note that sample-config and sample-policy\n  need to be excluded to avoid the LaTeX error [1] and\n  :orphan: is specified in those files.\n\n[1] https://github.com/sphinx-doc/sphinx/issues/3099\n\nChange-Id: I3aaea1d15a357f550f529beaa84fb1a1a7748358\n'}]",22,676730,16b9486bf7e91bfd5dc48297cee9f54b49156c93,118,22,7,841,,,0,"PDF documentation build

- Add a new pdf-docs environment to enable PDF build.
- sphinxcontrib-svg2pdfconverter is used to handle SVG properly.
- maxlistdepth=10 in latex_elements is needed to handle
  deeper levels of nesting.
- Sample config/policy files are skipped in the PDF document
  as inline sample files cause LaTeX error [1] and direct links
  in PDF doc is discouraged. Note that sample-config and sample-policy
  need to be excluded to avoid the LaTeX error [1] and
  :orphan: is specified in those files.

[1] https://github.com/sphinx-doc/sphinx/issues/3099

Change-Id: I3aaea1d15a357f550f529beaa84fb1a1a7748358
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/676730/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configuration/index.rst', 'bindep.txt', 'doc/source/configuration/sample-config.rst', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",6,9800b02d270dd06b53cb11f2258f882802333290,build-pdf-docs, make cp # PDF build sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf cp doc/build/pdf/Nova.pdf doc/build/html/,,35,1
openstack%2Frequirements~master~Ide1889c08ecbe0232aba35702b3aa7e28fcc2d77,openstack/requirements,master,Ide1889c08ecbe0232aba35702b3aa7e28fcc2d77,update constraint for python-openstackclient to new release 4.0.0,MERGED,2019-09-12 09:48:27.000000000,2019-09-14 16:40:13.000000000,2019-09-14 16:37:52.000000000,"[{'_account_id': 14288}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-12 09:48:27.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6eb291d4fbaf81c1444ce9aff302318b66d73dd7', 'message': 'update constraint for python-openstackclient to new release 4.0.0\n\nChange-Id: Ide1889c08ecbe0232aba35702b3aa7e28fcc2d77\nmeta:version: 4.0.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Dean Troyer <dtroyer@gmail.com>\nmeta:release:Commit: Dean Troyer <dtroyer@gmail.com>\nmeta:release:Change-Id: I7773124f6c22bf2c58d3b02f0427a4d79c071090\nmeta:release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>\nmeta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,681692,6eb291d4fbaf81c1444ce9aff302318b66d73dd7,18,5,1,11131,,,0,"update constraint for python-openstackclient to new release 4.0.0

Change-Id: Ide1889c08ecbe0232aba35702b3aa7e28fcc2d77
meta:version: 4.0.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Dean Troyer <dtroyer@gmail.com>
meta:release:Commit: Dean Troyer <dtroyer@gmail.com>
meta:release:Change-Id: I7773124f6c22bf2c58d3b02f0427a4d79c071090
meta:release:Code-Review+1: Akihiro Motoki <amotoki@gmail.com>
meta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/92/681692/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6eb291d4fbaf81c1444ce9aff302318b66d73dd7,new-release,python-openstackclient===4.0.0,python-openstackclient===3.19.0,1,1
openstack%2Fkeystone~master~Ie9d658deb1fa69e9007f3c50535b5c48a7a292d1,openstack/keystone,master,Ie9d658deb1fa69e9007f3c50535b5c48a7a292d1,Add immutable roles status check,MERGED,2019-08-09 03:26:33.000000000,2019-09-14 16:30:23.000000000,2019-09-14 16:18:52.000000000,"[{'_account_id': 1916}, {'_account_id': 2903}, {'_account_id': 8482}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-08-09 03:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/bf6c6a002c5faf24961b04eab3ea9d95e35e5065', 'message': 'Add immutable roles status check\n\nThis implements part 3 of the proposed change for immutable roles[1], as\nwell as adds a release note.\n\nPart 4 (changing the default behavior of ``keystone-manage bootstrap``\nwill have to come in the next cycle.\n\n[1] http://specs.openstack.org/openstack/keystone-specs/specs/keystone/train/immutable-resources.html#proposed-change\n\nChange-Id: Ie9d658deb1fa69e9007f3c50535b5c48a7a292d1\nPartial-bug: #1823258\n'}, {'number': 2, 'created': '2019-08-09 18:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/01870209b372dde9c3e06f19ada3a4bbe2574a7e', 'message': 'Add immutable roles status check\n\nThis implements part 3 of the proposed change for immutable roles[1], as\nwell as adds a release note.\n\nPart 4 (changing the default behavior of ``keystone-manage bootstrap``\nwill have to come in the next cycle.\n\n[1] http://specs.openstack.org/openstack/keystone-specs/specs/keystone/train/immutable-resources.html#proposed-change\n\nChange-Id: Ie9d658deb1fa69e9007f3c50535b5c48a7a292d1\nPartial-bug: #1823258\n'}, {'number': 3, 'created': '2019-08-12 01:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/64d0b8c32768882575c5f3ea4a55a744b575911a', 'message': 'Add immutable roles status check\n\nThis implements part 3 of the proposed change for immutable roles[1], as\nwell as adds a release note.\n\nPart 4 (changing the default behavior of ``keystone-manage bootstrap``\nwill have to come in the next cycle.\n\n[1] http://specs.openstack.org/openstack/keystone-specs/specs/keystone/train/immutable-resources.html#proposed-change\n\nChange-Id: Ie9d658deb1fa69e9007f3c50535b5c48a7a292d1\nPartial-bug: #1823258\n'}, {'number': 4, 'created': '2019-08-12 04:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3fc20f8fba0f9a5fe451af2cca86b76f0d1fdbb2', 'message': 'Add immutable roles status check\n\nThis implements part 3 of the proposed change for immutable roles[1], as\nwell as adds a release note.\n\nPart 4 (changing the default behavior of ``keystone-manage bootstrap``\nwill have to come in the next cycle.\n\n[1] http://specs.openstack.org/openstack/keystone-specs/specs/keystone/train/immutable-resources.html#proposed-change\n\nChange-Id: Ie9d658deb1fa69e9007f3c50535b5c48a7a292d1\nPartial-bug: #1823258\n'}, {'number': 5, 'created': '2019-08-12 14:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b0f2ddc334264444db288cd902b930319a09c612', 'message': 'Add immutable roles status check\n\nThis implements part 3 of the proposed change for immutable roles[1], as\nwell as adds a release note.\n\nPart 4 (changing the default behavior of ``keystone-manage bootstrap``\nwill have to come in the next cycle.\n\n[1] http://specs.openstack.org/openstack/keystone-specs/specs/keystone/train/immutable-resources.html#proposed-change\n\nChange-Id: Ie9d658deb1fa69e9007f3c50535b5c48a7a292d1\nPartial-bug: #1823258\n'}, {'number': 6, 'created': '2019-08-13 20:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/b78d200c9ad4985deb3c5c195ff5a2a7c83cbb56', 'message': 'Add immutable roles status check\n\nThis implements part 3 of the proposed change for immutable roles[1], as\nwell as adds a release note.\n\nPart 4 (changing the default behavior of ``keystone-manage bootstrap``\nwill have to come in the next cycle.\n\n[1] http://specs.openstack.org/openstack/keystone-specs/specs/keystone/train/immutable-resources.html#proposed-change\n\nChange-Id: Ie9d658deb1fa69e9007f3c50535b5c48a7a292d1\nPartial-bug: #1823258\n'}, {'number': 7, 'created': '2019-08-24 19:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/53766306f822b29d56c99b80fb7a6dfdd841f80c', 'message': 'Add immutable roles status check\n\nThis implements part 3 of the proposed change for immutable roles[1], as\nwell as adds a release note.\n\nPart 4 (changing the default behavior of ``keystone-manage bootstrap``\nwill have to come in the next cycle.\n\n[1] http://specs.openstack.org/openstack/keystone-specs/specs/keystone/train/immutable-resources.html#proposed-change\n\nChange-Id: Ie9d658deb1fa69e9007f3c50535b5c48a7a292d1\nPartial-bug: #1823258\n'}, {'number': 8, 'created': '2019-08-29 17:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e8a938811d4910310e206a11516f718b27f2cea2', 'message': 'Add immutable roles status check\n\nThis implements part 3 of the proposed change for immutable roles[1], as\nwell as adds a release note.\n\nPart 4 (changing the default behavior of ``keystone-manage bootstrap``\nwill have to come in the next cycle.\n\n[1] http://specs.openstack.org/openstack/keystone-specs/specs/keystone/train/immutable-resources.html#proposed-change\n\nChange-Id: Ie9d658deb1fa69e9007f3c50535b5c48a7a292d1\nPartial-bug: #1823258\n'}, {'number': 9, 'created': '2019-09-09 23:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/7f986abc4c9302c8ea5b220dd35bf28e9cc0b8d2', 'message': 'Add immutable roles status check\n\nThis implements part 3 of the proposed change for immutable roles[1], as\nwell as adds a release note.\n\nPart 4 (changing the default behavior of ``keystone-manage bootstrap``\nwill have to come in the next cycle.\n\n[1] http://specs.openstack.org/openstack/keystone-specs/specs/keystone/train/immutable-resources.html#proposed-change\n\nChange-Id: Ie9d658deb1fa69e9007f3c50535b5c48a7a292d1\nPartial-bug: #1823258\n'}, {'number': 10, 'created': '2019-09-09 23:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f331df18bb3da717d0d172067e869a3c71d787e7', 'message': 'Add immutable roles status check\n\nThis implements part 3 of the proposed change for immutable roles[1], as\nwell as adds a release note.\n\nPart 4 (changing the default behavior of ``keystone-manage bootstrap``\nwill have to come in the next cycle.\n\n[1] http://specs.openstack.org/openstack/keystone-specs/specs/keystone/train/immutable-resources.html#proposed-change\n\nChange-Id: Ie9d658deb1fa69e9007f3c50535b5c48a7a292d1\nPartial-bug: #1823258\n'}, {'number': 11, 'created': '2019-09-10 06:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/39cc47d09b2272f8fdd19ef1ae750af846389733', 'message': 'Add immutable roles status check\n\nThis implements part 3 of the proposed change for immutable roles[1], as\nwell as adds a release note.\n\nPart 4 (changing the default behavior of ``keystone-manage bootstrap``\nwill have to come in the next cycle.\n\n[1] http://specs.openstack.org/openstack/keystone-specs/specs/keystone/train/immutable-resources.html#proposed-change\n\nChange-Id: Ie9d658deb1fa69e9007f3c50535b5c48a7a292d1\nPartial-bug: #1823258\n'}, {'number': 12, 'created': '2019-09-10 07:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/01c7c8035e0d10533e19a661704a5c92c557ac90', 'message': 'Add immutable roles status check\n\nThis implements part 3 of the proposed change for immutable roles[1], as\nwell as adds a release note.\n\nPart 4 (changing the default behavior of ``keystone-manage bootstrap``\nwill have to come in the next cycle.\n\n[1] http://specs.openstack.org/openstack/keystone-specs/specs/keystone/train/immutable-resources.html#proposed-change\n\nChange-Id: Ie9d658deb1fa69e9007f3c50535b5c48a7a292d1\nPartial-bug: #1823258\n'}, {'number': 13, 'created': '2019-09-11 18:04:36.000000000', 'files': ['releasenotes/notes/bug-1823258-9f93dbdc0fa8441d.yaml', 'keystone/cmd/status.py', 'keystone/tests/unit/test_cli.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/5e06ec8163249a7581b12db321036979b7d0604c', 'message': 'Add immutable roles status check\n\nThis implements part 3 of the proposed change for immutable roles[1], as\nwell as adds a release note.\n\nPart 4 (changing the default behavior of ``keystone-manage bootstrap``\nwill have to come in the next cycle.\n\n[1] http://specs.openstack.org/openstack/keystone-specs/specs/keystone/train/immutable-resources.html#proposed-change\n\nChange-Id: Ie9d658deb1fa69e9007f3c50535b5c48a7a292d1\nPartial-bug: #1823258\n'}]",2,675509,5e06ec8163249a7581b12db321036979b7d0604c,50,7,13,8482,,,0,"Add immutable roles status check

This implements part 3 of the proposed change for immutable roles[1], as
well as adds a release note.

Part 4 (changing the default behavior of ``keystone-manage bootstrap``
will have to come in the next cycle.

[1] http://specs.openstack.org/openstack/keystone-specs/specs/keystone/train/immutable-resources.html#proposed-change

Change-Id: Ie9d658deb1fa69e9007f3c50535b5c48a7a292d1
Partial-bug: #1823258
",git fetch https://review.opendev.org/openstack/keystone refs/changes/09/675509/7 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1823258-9f93dbdc0fa8441d.yaml', 'keystone/cmd/status.py', 'keystone/tests/unit/test_cli.py']",3,bf6c6a002c5faf24961b04eab3ea9d95e35e5065,immutable-resources,"from oslo_upgradecheck import upgradecheckfrom keystone.cmd import status class CliStatusTestCase(unit.SQLDriverOverrides, unit.TestCase): def setUp(self): self.useFixture(database.Database()) super(CliStatusTestCase, self).setUp() self.load_backends() self.checks = status.Checks() def test_check_immutable_roles(self): role_ref = unit.new_role_ref(name='admin') PROVIDERS.role_api.create_role(role_ref['id'], role_ref) result = self.checks.check_default_roles_are_immutable() self.assertEqual(upgradecheck.Code.FAILURE, result.code) role_ref['options'] = {'immutable': True} PROVIDERS.role_api.update_role(role_ref['id'], role_ref) result = self.checks.check_default_roles_are_immutable() self.assertEqual(upgradecheck.Code.SUCCESS, result.code)",,56,1
openstack%2Fkolla-ansible~master~I593b06c447d156c7a981d1c617f4f9baa82884de,openstack/kolla-ansible,master,I593b06c447d156c7a981d1c617f4f9baa82884de,Sync enable flags in globals.yml,MERGED,2019-09-12 13:13:38.000000000,2019-09-14 16:29:37.000000000,2019-09-14 16:20:33.000000000,"[{'_account_id': 14826}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28543}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-12 13:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f582d1cfd2995754def3240dc74c3e72a9046b7a', 'message': 'Sync enable flags in globals.yml\n\nChange-Id: I593b06c447d156c7a981d1c617f4f9baa82884de\nCloses-Bug: #1841175\n'}, {'number': 2, 'created': '2019-09-12 13:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6616e61c3862889d114bbedafb20fbfadbbd503e', 'message': 'Sync enable flags in globals.yml\n\nChange-Id: I593b06c447d156c7a981d1c617f4f9baa82884de\nCloses-Bug: #1841175\n'}, {'number': 3, 'created': '2019-09-12 13:19:52.000000000', 'files': ['ansible/group_vars/all.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fd1fcdc465d6d0c98cb7128faee9eb2abe07f45c', 'message': 'Sync enable flags in globals.yml\n\nChange-Id: I593b06c447d156c7a981d1c617f4f9baa82884de\nCloses-Bug: #1841175\n'}]",0,681740,fd1fcdc465d6d0c98cb7128faee9eb2abe07f45c,17,8,3,14826,,,0,"Sync enable flags in globals.yml

Change-Id: I593b06c447d156c7a981d1c617f4f9baa82884de
Closes-Bug: #1841175
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/40/681740/2 && git format-patch -1 --stdout FETCH_HEAD,['etc/kolla/globals.yml'],1,f582d1cfd2995754def3240dc74c3e72a9046b7a,bug/1841175,"# Enable core OpenStack services. This includes: # glance, keystone, neutron, nova, heat, and horizon. #enable_openstack_core: ""yes"" # NOTE: This variable has been deprecated and will be removed in the U cycle. #enable_cadf_notifications: ""no""#enable_cinder_backend_iscsi: ""{{ enable_cinder_backend_lvm | bool or enable_cinder_backend_zfssa_iscsi | bool }}""#enable_cinder_backend_zfssa_iscsi: ""no""#enable_horizon_freezer: ""{{ enable_freezer | bool }}"" #enable_horizon_heat: ""{{ enable_heat | bool }}""#enable_horizon_vitrage: ""{{ enable_vitrage | bool }}""#enable_influxdb: ""{{ enable_monasca | bool or (cloudkitty_storage_backend is defined and cloudkitty_storage_backend == 'influxdb') }}""#enable_ironic_neutron_agent: ""{{ enable_neutron | bool and enable_ironic | bool }}""#enable_iscsid: ""{{ (enable_cinder | bool and enable_cinder_backend_iscsi | bool) or enable_ironic | bool }}""#enable_kafka: ""{{ enable_monasca | bool }}""#enable_murano: ""no"" #enable_neutron_vpnaas: ""no"" #enable_neutron_sriov: ""no""#enable_neutron_bgp_dragent: ""no"" #enable_neutron_provider_networks: ""no"" #enable_neutron_segments: ""no""#enable_neutron_infoblox_ipam_agent: ""no"" #enable_neutron_port_forwarding: ""no""#enable_qdrouterd: ""{{ 'yes' if om_rpc_transport == 'amqp' else 'no' }}""#enable_storm: ""{{ enable_monasca | bool }}""#enable_swift_s3api: ""no""#enable_telegraf: ""no""#enable_zookeeper: ""{{ enable_kafka | bool }}""","#enable_cinder_backend_iscsi: ""no""#enable_collectd: ""no""#enable_destroy_images: ""no"" #enable_elasticsearch: ""{{ 'yes' if enable_central_logging | bool or enable_freezer | bool or enable_osprofiler | bool or enable_skydive | bool or enable_monasca | bool else 'no' }}""#enable_horizon_freezer: ""{{ enable_freezer | bool }}""#enable_influxdb: ""no""#enable_ironic_neutron_agent: ""no""#enable_kafka: ""no""#enable_murano: ""no""#enable_neutron_bgp_dragent: ""no""#enable_neutron_vpnaas: ""no"" #enable_neutron_sriov: ""no""#enable_nova_fake: ""no""#enable_openstack_core: ""yes""#enable_prometheus: ""no"" #enable_qdrouterd: ""no""#enable_storm: ""no"" #enable_telegraf: ""no""#enable_zookeeper: ""no""",28,19
openstack%2Fkeystone~master~Id6742ff295ce206d0a4965465b0e9ec2ceab7cd5,openstack/keystone,master,Id6742ff295ce206d0a4965465b0e9ec2ceab7cd5,Implement system admin for OAUTH1 consumers,MERGED,2019-09-07 02:27:10.000000000,2019-09-14 16:28:48.000000000,2019-09-14 16:16:12.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 27621}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-07 02:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/800db0eea55b7b490b2ccfa1c076206bf149e582', 'message': 'Implement system admin for oauth1 consumer API\n\nThis change deprecates the rule:admin_required policies for the\ncreate/update/delete actions of the oauth1 consumer API and replaces it\nwith the system-specific check strings for the admin role.\n\nChange-Id: Id6742ff295ce206d0a4965465b0e9ec2ceab7cd5\nCloses-bug: #1805363\n'}, {'number': 2, 'created': '2019-09-07 02:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1916708e85765aef98dee8a3a01b60026fb342d5', 'message': 'Implement system admin for OAUTH1 consumers\n\nThis change deprecates the rule:admin_required policies for the\ncreate/update/delete actions of the OAUTH consumer API and replaces it\nwith the system-specific check strings for the admin role.\n\nChange-Id: Id6742ff295ce206d0a4965465b0e9ec2ceab7cd5\nCloses-bug: #1805363\n'}, {'number': 3, 'created': '2019-09-07 04:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/72f080089e42aa57fd8f6d2ec19c02cb1b323027', 'message': 'Implement system admin for OAUTH1 consumers\n\nThis change deprecates the rule:admin_required policies for the\ncreate/update/delete actions of the OAUTH consumer API and replaces it\nwith the system-specific check strings for the admin role.\n\nChange-Id: Id6742ff295ce206d0a4965465b0e9ec2ceab7cd5\nCloses-bug: #1805363\n'}, {'number': 4, 'created': '2019-09-07 04:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6d28b9726830c029fd74ee552dd2b23bab4aaa0c', 'message': 'Implement system admin for OAUTH1 consumers\n\nThis change deprecates the rule:admin_required policies for the\ncreate/update/delete actions of the OAUTH consumer API and replaces it\nwith the system-specific check strings for the admin role.\n\nChange-Id: Id6742ff295ce206d0a4965465b0e9ec2ceab7cd5\nCloses-bug: #1805363\n'}, {'number': 5, 'created': '2019-09-13 22:26:48.000000000', 'files': ['keystone/tests/unit/protection/v3/test_consumer.py', 'keystone/common/policies/consumer.py', 'releasenotes/notes/bug-1805363-0b85d71917ad09d1.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/4f0c7394ede6ad479ff911bc373370f8b5e2f6f1', 'message': 'Implement system admin for OAUTH1 consumers\n\nThis change deprecates the rule:admin_required policies for the\ncreate/update/delete actions of the OAUTH consumer API and replaces it\nwith the system-specific check strings for the admin role.\n\nChange-Id: Id6742ff295ce206d0a4965465b0e9ec2ceab7cd5\nCloses-bug: #1805363\n'}]",0,680794,4f0c7394ede6ad479ff911bc373370f8b5e2f6f1,20,8,5,8482,,,0,"Implement system admin for OAUTH1 consumers

This change deprecates the rule:admin_required policies for the
create/update/delete actions of the OAUTH consumer API and replaces it
with the system-specific check strings for the admin role.

Change-Id: Id6742ff295ce206d0a4965465b0e9ec2ceab7cd5
Closes-bug: #1805363
",git fetch https://review.opendev.org/openstack/keystone refs/changes/94/680794/5 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/protection/v3/test_consumer.py', 'keystone/common/policies/consumer.py', 'releasenotes/notes/bug-1805363-0b85d71917ad09d1.yaml']",3,800db0eea55b7b490b2ccfa1c076206bf149e582,default-roles-oauth1,"--- features: - | [`bug 1805363 <https://bugs.launchpad.net/keystone/+bug/1805363>`_] The oauth1 consumer API now supports the ``admin``, ``member``, and ``reader`` default roles. upgrade: - | [`bug 1805363 <https://bugs.launchpad.net/keystone/+bug/1805363>`_] The oauth1 consumer API uses new default policies to make it more accessible to end users and administrators in a secure way. Please consider these new defaults if your deployment overrides policy and policy associations policies. deprecations: - | [`bug 1805363 <https://bugs.launchpad.net/keystone/+bug/1805363>`_] The oauth1 consumer policies have been deprecated. The ``identity:get_consumer`` and ``identity:list_consumers`` policies now use ``role:reader and system_scope:all`` instead of ``rule:admin_required``. The ``identity:create_consumer``, ``identity:update_consumer``, and ``identity:delete_consumer`` policies now use ``role:admin and system_scope:all`` instead of ``rule:admin_required``. These new defaults automatically account for system-scope and support a read-only role, making it easier for system administrators to delegate subsets of responsibility without compromising security. Please consider these new defaults if your deployment overrides the oauth1 consumer policies. security: - | [`bug 1805363 <https://bugs.launchpad.net/keystone/+bug/1805363>`_] The oauth1 consumer API now uses system-scope and default roles to provide better accessibility to users in a secure manner. ",,99,7
openstack%2Fneutron~stable%2Fstein~I6482223ed2a479de4f5ef4cef056c311c0281408,openstack/neutron,stable/stein,I6482223ed2a479de4f5ef4cef056c311c0281408,Create _mech_context before delete to avoid race,MERGED,2019-09-12 08:03:37.000000000,2019-09-14 16:28:47.000000000,2019-09-14 16:15:12.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 14826}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-12 08:03:37.000000000', 'files': ['releasenotes/notes/fix-net-delete-race-f2fa5bac3ab35a5b.yaml', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ae3280c34acb92e0f509566354553dc96df3de7', 'message': 'Create _mech_context before delete to avoid race\n\nWhen a network is deleted, precommit handlers are notified prior to the\ndeletion of the network from the database. One handler exists in the ML2\nplugin - _network_delete_precommit_handler. This handler queries the\ndatabase for the current state of the network and uses it to create a\nNetworkContext which it saves under context._mech_context. When the\npostcommit handler _network_delete_after_delete_handler is triggered\nlater, it passess the saved context._mech_context to mechanism drivers.\n\nA problem can occur with provider networks since the segments service\nalso registers a precommit handler - _delete_segments_for_network. Both\nprecommit handlers use the default priority, so the order in which they\nare called is random, and determined by dict ordering. If the segment\nprecommit handler executes first, it will delete the segments associated\nwith the network. When the ML2 plugin precommit handler runs it then\nsees no segments for the network and sets the provider attributes of the\nnetwork in the NetworkContext to None.\n\nA mechanism driver that is passed a NetworkContext without provider\nattributes in its delete_network_postcommit method will not have the\ninformation to perform the necessary actions.  In the case of the\nnetworking-generic-switch mechanism driver where this was observed, this\nresulted in the driver ignoring the event, because the network did not\nlook like a VLAN.\n\nThis change uses a priority of zero for ML2 network delete precommit\nhandler, to ensure they query the network and store the NetworkContext\nbefore the segments service has a chance to delete segments.\n\nA similar change has been made for subnets, both to keep the pattern\nconsistent and avoid any similar issues.\n\nChange-Id: I6482223ed2a479de4f5ef4cef056c311c0281408\nCloses-Bug: #1841967\nDepends-On: https://review.opendev.org/680001\n(cherry picked from commit fea2d9091f71a2ec88318121ed9a22180e1ae96f)\n'}]",0,681662,7ae3280c34acb92e0f509566354553dc96df3de7,23,7,1,14826,,,0,"Create _mech_context before delete to avoid race

When a network is deleted, precommit handlers are notified prior to the
deletion of the network from the database. One handler exists in the ML2
plugin - _network_delete_precommit_handler. This handler queries the
database for the current state of the network and uses it to create a
NetworkContext which it saves under context._mech_context. When the
postcommit handler _network_delete_after_delete_handler is triggered
later, it passess the saved context._mech_context to mechanism drivers.

A problem can occur with provider networks since the segments service
also registers a precommit handler - _delete_segments_for_network. Both
precommit handlers use the default priority, so the order in which they
are called is random, and determined by dict ordering. If the segment
precommit handler executes first, it will delete the segments associated
with the network. When the ML2 plugin precommit handler runs it then
sees no segments for the network and sets the provider attributes of the
network in the NetworkContext to None.

A mechanism driver that is passed a NetworkContext without provider
attributes in its delete_network_postcommit method will not have the
information to perform the necessary actions.  In the case of the
networking-generic-switch mechanism driver where this was observed, this
resulted in the driver ignoring the event, because the network did not
look like a VLAN.

This change uses a priority of zero for ML2 network delete precommit
handler, to ensure they query the network and store the NetworkContext
before the segments service has a chance to delete segments.

A similar change has been made for subnets, both to keep the pattern
consistent and avoid any similar issues.

Change-Id: I6482223ed2a479de4f5ef4cef056c311c0281408
Closes-Bug: #1841967
Depends-On: https://review.opendev.org/680001
(cherry picked from commit fea2d9091f71a2ec88318121ed9a22180e1ae96f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/681662/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-net-delete-race-f2fa5bac3ab35a5b.yaml', 'neutron/plugins/ml2/plugin.py']",2,7ae3280c34acb92e0f509566354553dc96df3de7,bug/1841967," # NOTE(mgoddard): Use a priority of zero to ensure this handler runs before # other precommit handlers. This is necessary to ensure we avoid another # handler deleting a subresource of the network, e.g. segments. @registry.receives(resources.NETWORK, [events.PRECOMMIT_DELETE], priority=0) # NOTE(mgoddard): Use a priority of zero to ensure this handler runs before # other precommit handlers. This is necessary to ensure we avoid another # handler deleting a subresource of the subnet. @registry.receives(resources.SUBNET, [events.PRECOMMIT_DELETE], priority=0)"," @registry.receives(resources.NETWORK, [events.PRECOMMIT_DELETE]) @registry.receives(resources.SUBNET, [events.PRECOMMIT_DELETE])",18,2
openstack%2Frequirements~master~I2df8e508d7b6c8044c428b1fa3b77c805a8c81d0,openstack/requirements,master,I2df8e508d7b6c8044c428b1fa3b77c805a8c81d0,update constraint for python-swiftclient to new release 3.8.1,MERGED,2019-09-13 21:50:12.000000000,2019-09-14 16:28:46.000000000,2019-09-14 16:15:15.000000000,"[{'_account_id': 14288}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-13 21:50:12.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b96fc96919836af6ce42821db886415f6ef278a2', 'message': 'update constraint for python-swiftclient to new release 3.8.1\n\nChange-Id: I2df8e508d7b6c8044c428b1fa3b77c805a8c81d0\nmeta:version: 3.8.1\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Commit: Tim Burke <tim.burke@gmail.com>\nmeta:release:Change-Id: I7473e44da4217d6646c343485db0c4ac0a762db5\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,682172,b96fc96919836af6ce42821db886415f6ef278a2,9,4,1,11131,,,0,"update constraint for python-swiftclient to new release 3.8.1

Change-Id: I2df8e508d7b6c8044c428b1fa3b77c805a8c81d0
meta:version: 3.8.1
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Commit: Tim Burke <tim.burke@gmail.com>
meta:release:Change-Id: I7473e44da4217d6646c343485db0c4ac0a762db5
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/72/682172/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b96fc96919836af6ce42821db886415f6ef278a2,new-release,python-swiftclient===3.8.1,python-swiftclient===3.8.0,1,1
openstack%2Fopenstack-ansible-os_tempest~master~I70b4490930e47f7ec91a1b0e9201025e94d87ed3,openstack/openstack-ansible-os_tempest,master,I70b4490930e47f7ec91a1b0e9201025e94d87ed3,Add bugs url link to README.rst,NEW,2019-01-03 02:20:06.000000000,2019-09-14 16:22:32.000000000,,"[{'_account_id': 8367}, {'_account_id': 17130}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-01-03 02:20:06.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/18fbf8d2992f5bcb5486d77bcf7cd7697ffc7ef7', 'message': 'Add bugs url link to README.rst\n\nChange-Id: I70b4490930e47f7ec91a1b0e9201025e94d87ed3\n'}]",0,628087,18fbf8d2992f5bcb5486d77bcf7cd7697ffc7ef7,8,6,1,29423,,,0,"Add bugs url link to README.rst

Change-Id: I70b4490930e47f7ec91a1b0e9201025e94d87ed3
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/87/628087/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,18fbf8d2992f5bcb5486d77bcf7cd7697ffc7ef7,, The project bug tracker is located at: https://bugs.launchpad.net/openstack-ansible,,3,0
openstack%2Ffreezer-specs~master~Iab8c92303b9e74bfddf6bde08244c1e0bf7520c3,openstack/freezer-specs,master,Iab8c92303b9e74bfddf6bde08244c1e0bf7520c3,Change openstack-dev to openstack-discuss in setup.cfg,NEW,2019-01-22 08:52:24.000000000,2019-09-14 16:18:10.000000000,,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-01-22 08:52:24.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/freezer-specs/commit/cffa72e34261fd5758b2a3dee2cf53073f21e82d', 'message': 'Change openstack-dev to openstack-discuss in setup.cfg\n\nChange-Id: Iab8c92303b9e74bfddf6bde08244c1e0bf7520c3\n'}]",0,632319,cffa72e34261fd5758b2a3dee2cf53073f21e82d,5,4,1,29423,,,0,"Change openstack-dev to openstack-discuss in setup.cfg

Change-Id: Iab8c92303b9e74bfddf6bde08244c1e0bf7520c3
",git fetch https://review.opendev.org/openstack/freezer-specs refs/changes/19/632319/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,cffa72e34261fd5758b2a3dee2cf53073f21e82d,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fmagnum-ui~stable%2Frocky~I06910797c44c2b1bd2297d4398da9ab984a8f770,openstack/magnum-ui,stable/rocky,I06910797c44c2b1bd2297d4398da9ab984a8f770,Update json module to jsonutils,ABANDONED,2019-06-13 15:21:11.000000000,2019-09-14 16:08:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-13 15:21:11.000000000', 'files': ['requirements.txt', 'magnum_ui/test/api_tests/test_rest_api.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/230d5701f4cac4bff060dcc5f20cad2d74e397f7', 'message': 'Update json module to jsonutils\n\noslo project provide jsonutils, and magnum use it in many place[1],\nthis PS to update the remained json module to oslo jsonutils for\nconsistency.\n\n[1]: https://github.com/openstack/magnum/search?utf8=%E2%9C%93&q=jsonutils&type=\n\nChange-Id: I06910797c44c2b1bd2297d4398da9ab984a8f770\n(cherry picked from commit 74a312d6edebbb95d5493fd061d82ea010f16204)\n'}]",0,665158,230d5701f4cac4bff060dcc5f20cad2d74e397f7,3,1,1,28743,,,0,"Update json module to jsonutils

oslo project provide jsonutils, and magnum use it in many place[1],
this PS to update the remained json module to oslo jsonutils for
consistency.

[1]: https://github.com/openstack/magnum/search?utf8=%E2%9C%93&q=jsonutils&type=

Change-Id: I06910797c44c2b1bd2297d4398da9ab984a8f770
(cherry picked from commit 74a312d6edebbb95d5493fd061d82ea010f16204)
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/58/665158/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'magnum_ui/test/api_tests/test_rest_api.py', 'lower-constraints.txt']",3,230d5701f4cac4bff060dcc5f20cad2d74e397f7,,oslo.serialization==2.18.0python-magnumclient==2.11.0,oslo.serialization==2.25.0python-magnumclient==2.6.0,9,8
openstack%2Fkolla-ansible~master~I0281d0d9ae5c9c4079330d34955b5b8a3acfa462,openstack/kolla-ansible,master,I0281d0d9ae5c9c4079330d34955b5b8a3acfa462,Bump docker version to 2.4.2,ABANDONED,2019-07-15 08:54:07.000000000,2019-09-14 16:06:14.000000000,,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 28614}, {'_account_id': 30322}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-15 08:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/07a5d071c4092721840c519bfde5cd17fc6d2c5c', 'message': 'Bump docker version to 2.4.2\n\nrefer to https://github.com/openstack/kolla-ansible/blob/master/requirements.txt#L5\n\nChange-Id: I0281d0d9ae5c9c4079330d34955b5b8a3acfa462\n'}, {'number': 2, 'created': '2019-07-15 11:05:10.000000000', 'files': ['tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9c2bc038fab5c5dac9db06341d40879313a85c1d', 'message': 'Bump docker version to 2.4.2\n\nrefer to https://github.com/openstack/kolla-ansible/blob/master/requirements.txt#L5\n\nChange-Id: I0281d0d9ae5c9c4079330d34955b5b8a3acfa462\n'}]",0,670795,9c2bc038fab5c5dac9db06341d40879313a85c1d,15,7,2,28743,,,0,"Bump docker version to 2.4.2

refer to https://github.com/openstack/kolla-ansible/blob/master/requirements.txt#L5

Change-Id: I0281d0d9ae5c9c4079330d34955b5b8a3acfa462
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/95/670795/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup_gate.sh'],1,07a5d071c4092721840c519bfde5cd17fc6d2c5c,," sudo -H pip install -U ""ansible>=2.5"" ""docker>=2.4.2"" ""python-openstackclient"" ""ara<1.0.0"" ""cmd2<0.9.0"""," sudo -H pip install -U ""ansible>=2.5"" ""docker>=2.0.0"" ""python-openstackclient"" ""ara<1.0.0"" ""cmd2<0.9.0""",1,1
openstack%2Fplacement~master~Idef9c5c9cdc84c3aa9ad1aef5aea55843ad9f13e,openstack/placement,master,Idef9c5c9cdc84c3aa9ad1aef5aea55843ad9f13e,Move nested magic spec to implemented,MERGED,2019-09-11 16:49:32.000000000,2019-09-14 15:47:00.000000000,2019-09-14 15:37:52.000000000,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-11 16:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/079e70652a11e9c34c20b4e7fd5cf06b20d2d691', 'message': ""Move nested magic spec to implemented\n\nWe've done what we decided we'd do.\n\nChange-Id: Idef9c5c9cdc84c3aa9ad1aef5aea55843ad9f13e\n""}, {'number': 2, 'created': '2019-09-11 16:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/09c6caaaf4a9b0edf6ec4285348b6de8dc49849a', 'message': ""Move nested magic spec to implemented\n\nWe've done what we decided we'd do.\n\nA redirect is included.\n\nChange-Id: Idef9c5c9cdc84c3aa9ad1aef5aea55843ad9f13e\n""}, {'number': 3, 'created': '2019-09-12 08:32:25.000000000', 'files': ['doc/source/specs/train/implemented/2005575-nested-magic-1.rst', 'doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess'], 'web_link': 'https://opendev.org/openstack/placement/commit/15ab82809fce15ff1293d9da2b64d6d04662c25e', 'message': ""Move nested magic spec to implemented\n\nWe've done what we decided we'd do.\n\nA redirect and redirect test is included.\n\nChange-Id: Idef9c5c9cdc84c3aa9ad1aef5aea55843ad9f13e\n""}]",0,681535,15ab82809fce15ff1293d9da2b64d6d04662c25e,21,6,3,11564,,,0,"Move nested magic spec to implemented

We've done what we decided we'd do.

A redirect and redirect test is included.

Change-Id: Idef9c5c9cdc84c3aa9ad1aef5aea55843ad9f13e
",git fetch https://review.opendev.org/openstack/placement refs/changes/35/681535/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/train/implemented/2005575-nested-magic-1.rst'],1,079e70652a11e9c34c20b4e7fd5cf06b20d2d691,cd/nested-spec-imp,,,0,0
openstack%2Fneutron~master~Iff40e7bba645ee12c2001d7ce735a36e0ddc81e9,openstack/neutron,master,Iff40e7bba645ee12c2001d7ce735a36e0ddc81e9,Update DHCP port information during setup,MERGED,2019-08-27 16:53:35.000000000,2019-09-14 15:47:00.000000000,2019-09-14 15:37:49.000000000,"[{'_account_id': 1131}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-08-27 16:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/691f712e4e6483581aeac383b30d94043135ecbe', 'message': '[WIP] Update DHCP port information during setup\n\nWhen setting up the DHCP agent of a network, the DHCP namespace external\nport is configured. If this port already exists and the fixed IP\naddresses are correctly configured (in the DHCP subnets range), the port\nis used as is.\n\nSometimes, because of 1627480 or 1841636, the port information is not\ncorrectly retrieved. This patch does not solve it but mitigates the\nprocess of resynchronizing the network DHCP. If the stored DHCP port\ndoes not have the correct information, the agent calls the RPC plugin to\nretrieve from the server the DHCP port updated information, including\nthe fixed IP address and the subnets.\n\nChange-Id: Iff40e7bba645ee12c2001d7ce735a36e0ddc81e9\nRelated-Bug: #1627480\nRelated-Bug: #1841636\n'}, {'number': 2, 'created': '2019-08-28 16:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ed07e29be84487528e32921a7bda665fc902681', 'message': '[WIP] Update DHCP port information during setup\n\nWhen setting up the DHCP agent of a network, the DHCP namespace external\nport is configured. If this port already exists and the fixed IP\naddresses are correctly configured (in the DHCP subnets range), the port\nis used as is.\n\nSometimes, because of 1627480 or 1841636, the port information is not\ncorrectly retrieved. This patch does not solve it but mitigates the\nprocess of resynchronizing the network DHCP. If the stored DHCP port\ndoes not have the correct information, the agent calls the RPC plugin to\nretrieve from the server the DHCP port updated information, including\nthe fixed IP address and the subnets.\n\nChange-Id: Iff40e7bba645ee12c2001d7ce735a36e0ddc81e9\nRelated-Bug: #1627480\nRelated-Bug: #1841636\n'}, {'number': 3, 'created': '2019-08-28 16:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/99379dec6ea577bfd9a2d7ad87935c7d938570e6', 'message': 'Update DHCP port information during setup\n\nWhen setting up the DHCP agent of a network, the DHCP namespace external\nport is configured. If this port already exists and the fixed IP\naddresses are correctly configured (in the DHCP subnets range), the port\nis used as is.\n\nSometimes, because of 1627480 or 1841636, the port information is not\ncorrectly retrieved. This patch does not solve it but mitigates the\nprocess of resynchronizing the network DHCP. If the stored DHCP port\ndoes not have the correct information, the agent calls the RPC plugin to\nretrieve from the server the DHCP port updated information, including\nthe fixed IP address and the subnets.\n\nChange-Id: Iff40e7bba645ee12c2001d7ce735a36e0ddc81e9\nRelated-Bug: #1627480\nRelated-Bug: #1841636\n'}, {'number': 4, 'created': '2019-08-29 09:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eac1c898c6550cef704d96fe802662a299789343', 'message': 'Update DHCP port information during setup\n\nWhen setting up the DHCP agent of a network, the DHCP namespace external\nport is configured. If this port already exists and the fixed IP\naddresses are correctly configured (in the DHCP subnets range), the port\nis used as is.\n\nSometimes, because of 1627480 or 1841636, the port information is not\ncorrectly retrieved. This patch does not solve it but mitigates the\nprocess of resynchronizing the network DHCP. If the stored DHCP port\ndoes not have the correct information, the agent calls the RPC plugin to\nretrieve from the server the DHCP port updated information, including\nthe fixed IP address and the subnets.\n\nChange-Id: Iff40e7bba645ee12c2001d7ce735a36e0ddc81e9\nRelated-Bug: #1627480\nRelated-Bug: #1841636\n'}, {'number': 5, 'created': '2019-09-07 09:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cabb1932d786164c12936883a62c2c1ad430134a', 'message': 'Update DHCP port information during setup\n\nWhen setting up the DHCP agent of a network, the DHCP namespace external\nport is configured. If this port already exists and the fixed IP\naddresses are correctly configured (in the DHCP subnets range), the port\nis used as is.\n\nSometimes, because of 1627480 or 1841636, the port information is not\ncorrectly retrieved. This patch does not solve it but mitigates the\nprocess of resynchronizing the network DHCP. If the stored DHCP port\ndoes not have the correct information, the agent calls the RPC plugin to\nretrieve from the server the DHCP port updated information, including\nthe fixed IP address and the subnets.\n\nChange-Id: Iff40e7bba645ee12c2001d7ce735a36e0ddc81e9\nRelated-Bug: #1627480\nRelated-Bug: #1841636\n'}, {'number': 6, 'created': '2019-09-10 05:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce47eb2b2ee4f33d790100d478f268f59f436191', 'message': 'Update DHCP port information during setup\n\nWhen setting up the DHCP agent of a network, the DHCP namespace external\nport is configured. If this port already exists and the fixed IP\naddresses are correctly configured (in the DHCP subnets range), the port\nis used as is.\n\nSometimes, because of 1627480 or 1841636, the port information is not\ncorrectly retrieved. This patch does not solve it but mitigates the\nprocess of resynchronizing the network DHCP. If the stored DHCP port\ndoes not have the correct information, the agent calls the RPC plugin to\nretrieve from the server the DHCP port updated information, including\nthe fixed IP address and the subnets.\n\nChange-Id: Iff40e7bba645ee12c2001d7ce735a36e0ddc81e9\nRelated-Bug: #1627480\nRelated-Bug: #1841636\n'}, {'number': 7, 'created': '2019-09-11 07:06:40.000000000', 'files': ['neutron/api/rpc/handlers/dhcp_rpc.py', 'neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b0a93df47637958fc3fc172f15e8593d6e9b181a', 'message': 'Update DHCP port information during setup\n\nWhen setting up the DHCP agent of a network, the DHCP namespace external\nport is configured. If this port already exists and the fixed IP\naddresses are correctly configured (in the DHCP subnets range), the port\nis used as is.\n\nSometimes, because of 1627480 or 1841636, the port information is not\ncorrectly retrieved. This patch does not solve it but mitigates the\nprocess of resynchronizing the network DHCP. If the stored DHCP port\ndoes not have the correct information, the agent calls the RPC plugin to\nretrieve from the server the DHCP port updated information, including\nthe fixed IP address and the subnets.\n\nChange-Id: Iff40e7bba645ee12c2001d7ce735a36e0ddc81e9\nRelated-Bug: #1627480\nRelated-Bug: #1841636\n'}]",11,678905,b0a93df47637958fc3fc172f15e8593d6e9b181a,87,11,7,16688,,,0,"Update DHCP port information during setup

When setting up the DHCP agent of a network, the DHCP namespace external
port is configured. If this port already exists and the fixed IP
addresses are correctly configured (in the DHCP subnets range), the port
is used as is.

Sometimes, because of 1627480 or 1841636, the port information is not
correctly retrieved. This patch does not solve it but mitigates the
process of resynchronizing the network DHCP. If the stored DHCP port
does not have the correct information, the agent calls the RPC plugin to
retrieve from the server the DHCP port updated information, including
the fixed IP address and the subnets.

Change-Id: Iff40e7bba645ee12c2001d7ce735a36e0ddc81e9
Related-Bug: #1627480
Related-Bug: #1841636
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/678905/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/rpc/handlers/dhcp_rpc.py', 'neutron/agent/dhcp/agent.py', 'neutron/agent/linux/dhcp.py']",3,691f712e4e6483581aeac383b30d94043135ecbe,bug/1841636," def _check_dhcp_port_subnet(self, dhcp_port, dhcp_subnets, network): """"""Check if DHCP port IPs are in the range of the DHCP subnets FIXME(kevinbenton): ensure we have the IPs we actually need. can be removed once bug/1627480 is fixed """""" if self.driver.use_gateway_ips: return expected = set(dhcp_subnets) actual = {fip.subnet_id for fip in dhcp_port.fixed_ips} missing = expected - actual if not missing: return LOG.debug('Requested DHCP port with IPs on subnets %(expected)s ' 'but only got IPs on subnets %(actual)s.', {'expected': expected, 'actual': actual}) updated_dhcp_port = self.plugin.get_dhcp_port(dhcp_port.id) actual = {fip.subnet_id for fip in updated_dhcp_port.fixed_ips} missing = expected - actual if missing: raise exceptions.SubnetMismatchForPort( port_id=updated_dhcp_port.id, subnet_id=list(missing)[0]) self._update_dhcp_port(network, updated_dhcp_port) LOG.debug('Previous DHCP port information: %(dhcp_port)s. Updated ' 'DHCP port information: %(updated_dhcp_port)s.', {'dhcp_port': dhcp_port, 'updated_dhcp_port': updated_dhcp_port}) self._check_dhcp_port_subnet(dhcp_port, dhcp_subnets, network) "," # FIXME(kevinbenton): ensure we have the IPs we actually need. # can be removed once bug/1627480 is fixed if not self.driver.use_gateway_ips: expected = set(dhcp_subnets) actual = {fip.subnet_id for fip in dhcp_port.fixed_ips} missing = expected - actual if missing: LOG.debug(""Requested DHCP port with IPs on subnets "" ""%(expected)s but only got IPs on subnets "" ""%(actual)s."", {'expected': expected, 'actual': actual}) raise exceptions.SubnetMismatchForPort( port_id=dhcp_port.id, subnet_id=list(missing)[0])",47,13
openstack%2Fdiskimage-builder~master~I743c1da5244439ca3d8321a7d0efb3457f1b6a10,openstack/diskimage-builder,master,I743c1da5244439ca3d8321a7d0efb3457f1b6a10,Remove immutable attributes before cleanup,NEW,2019-07-02 23:26:14.000000000,2019-09-14 15:14:23.000000000,,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28743}]","[{'number': 1, 'created': '2019-07-02 23:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/460f7c39a27bc8389e7e09249d9af4ac3acbd735', 'message': 'Remove immutable attributes before cleanup\n\nFile attributes such as +i or +a prevent the DIB from cleaning up\nthe built image, resulting in a build failure.\n\nExample output: http://paste.openstack.org/raw/753793/\n\nChange-Id: I743c1da5244439ca3d8321a7d0efb3457f1b6a10\n'}, {'number': 2, 'created': '2019-07-02 23:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/dc1faba79eb8edb3dd927e2252cc7d2afa4d89a5', 'message': 'Remove immutable attributes before cleanup\n\nFile attributes such as +i or +a prevent the DIB from cleaning up\nthe built image, resulting in a build failure.\n\nExample output: http://paste.openstack.org/raw/753793/\n\nChange-Id: I743c1da5244439ca3d8321a7d0efb3457f1b6a10\n'}, {'number': 3, 'created': '2019-08-30 13:39:14.000000000', 'files': ['diskimage_builder/lib/common-functions'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f190da0ba8471b7ebbf11d9bd91fc30602b65d99', 'message': 'Remove immutable attributes before cleanup\n\nFile attributes such as +i or +a prevent the DIB from cleaning up\nthe built image, resulting in a build failure.\n\nExample output: http://paste.openstack.org/raw/753793/\n\nChange-Id: I743c1da5244439ca3d8321a7d0efb3457f1b6a10\n'}]",0,668766,f190da0ba8471b7ebbf11d9bd91fc30602b65d99,24,6,3,17799,,,0,"Remove immutable attributes before cleanup

File attributes such as +i or +a prevent the DIB from cleaning up
the built image, resulting in a build failure.

Example output: http://paste.openstack.org/raw/753793/

Change-Id: I743c1da5244439ca3d8321a7d0efb3457f1b6a10
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/66/668766/3 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/lib/common-functions'],1,460f7c39a27bc8389e7e09249d9af4ac3acbd735,, chattr -R -ia $TMP_BUILD_DIR/built,,1,0
openstack%2Fironic~master~If307e9a55f001a98a4415cf707d87a21622ac588,openstack/ironic,master,If307e9a55f001a98a4415cf707d87a21622ac588,UEFI iPXE provisioning fails when ipxe_use_swift is enabled,NEW,2019-03-27 10:51:30.000000000,2019-09-14 14:27:25.000000000,,"[{'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24470}, {'_account_id': 28429}, {'_account_id': 30100}]","[{'number': 1, 'created': '2019-03-27 10:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ed0a5258c4754c7fee7160c3efc8429f548021f2', 'message': 'Task: 30044\nStory: 2005250\n\nChange-Id: If307e9a55f001a98a4415cf707d87a21622ac588\n'}, {'number': 2, 'created': '2019-03-27 11:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a9c6498503114c55156e74166a5bda397b3cc0dc', 'message': ""UEFI iPXE provisioning fails when ipxe_use_swift is enabled\n\nThis patch adds missing '--name' argument to ramdisk command of ipxe.\nTask: 30044\nStory: 2005250\n\nChange-Id: If307e9a55f001a98a4415cf707d87a21622ac588\n""}, {'number': 3, 'created': '2019-03-28 02:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/244d38454c08b8bcf1930c4007aab2f7e0cce555', 'message': ""UEFI iPXE provisioning fails when ipxe_use_swift is enabled\n\nThis patch adds missing '--name' argument to ramdisk command of ipxe.\nTask: 30044\nStory: 2005250\n\nChange-Id: If307e9a55f001a98a4415cf707d87a21622ac588\n""}, {'number': 4, 'created': '2019-03-29 05:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7f8bc688545b244cccbe94d9689c31681278cddb', 'message': ""UEFI iPXE provisioning fails when ipxe_use_swift is enabled\n\nThis patch adds missing '--name' argument to ramdisk command of ipxe.\nTask: 30044\nStory: 2005250\n\nChange-Id: If307e9a55f001a98a4415cf707d87a21622ac588\n""}, {'number': 5, 'created': '2019-03-29 09:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a7c3cf174599bf2f1ae0a9ca475f05773ea48300', 'message': ""UEFI iPXE provisioning fails when ipxe_use_swift is enabled\n\nThis patch adds missing '--name' argument to ramdisk command of ipxe.\nTask: 30044\nStory: 2005250\n\nChange-Id: If307e9a55f001a98a4415cf707d87a21622ac588\n""}, {'number': 6, 'created': '2019-03-31 00:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4917daf4051f28e53727db259a31abf5ce2848e7', 'message': ""UEFI iPXE provisioning fails when ipxe_use_swift is enabled\n\nThis patch adds missing '--name' argument to ramdisk command of ipxe.\nTask: 30044\nStory: 2005250\n\nChange-Id: If307e9a55f001a98a4415cf707d87a21622ac588\n""}, {'number': 7, 'created': '2019-03-31 01:40:04.000000000', 'files': ['ironic/tests/unit/drivers/ipxe_config.template', 'releasenotes/notes/ipxe-set-ramdisk-name-2b9efa6cc6d662df.yaml', 'ironic/common/pxe_utils.py', 'ironic/tests/unit/drivers/ipxe_config_boot_from_volume_no_extra_volumes.template', 'ironic/tests/unit/drivers/ipxe_config_timeout.template', 'ironic/tests/unit/drivers/ipxe_config_boot_from_volume_extra_volume.template', 'ironic/drivers/modules/ipxe_config.template', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/62e4daf971ace145378362c904da6458976836d3', 'message': ""UEFI iPXE provisioning fails when ipxe_use_swift is enabled\n\nThis patch adds missing '--name' argument to ramdisk command of ipxe.\nTask: 30044\nStory: 2005250\n\nChange-Id: If307e9a55f001a98a4415cf707d87a21622ac588\n""}]",19,648074,62e4daf971ace145378362c904da6458976836d3,75,13,7,24470,,,0,"UEFI iPXE provisioning fails when ipxe_use_swift is enabled

This patch adds missing '--name' argument to ramdisk command of ipxe.
Task: 30044
Story: 2005250

Change-Id: If307e9a55f001a98a4415cf707d87a21622ac588
",git fetch https://review.opendev.org/openstack/ironic refs/changes/74/648074/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/ipxe_config.template'],1,ed0a5258c4754c7fee7160c3efc8429f548021f2,master_ipxe_uefi,"initrd --name {{ pxe_options.initrd_filename|default(""deploy_ramdisk"", true) }}{% if pxe_options.ipxe_timeout > 0 %}--timeout {{ pxe_options.ipxe_timeout }} {% endif %}{{ pxe_options.deployment_ari_path }} || goto retry",initrd {% if pxe_options.ipxe_timeout > 0 %}--timeout {{ pxe_options.ipxe_timeout }} {% endif %}{{ pxe_options.deployment_ari_path }} || goto retry,1,1
openstack%2Frequirements~master~I906f67f9072bac991bb480bef485c374a7aeb61c,openstack/requirements,master,I906f67f9072bac991bb480bef485c374a7aeb61c,update constraint for python-masakariclient to new release 5.5.0,MERGED,2019-09-12 09:43:04.000000000,2019-09-14 13:51:30.000000000,2019-09-14 13:49:06.000000000,"[{'_account_id': 14288}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-12 09:43:04.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f868096ec155918e52700e697956a12539921510', 'message': 'update constraint for python-masakariclient to new release 5.5.0\n\nChange-Id: I906f67f9072bac991bb480bef485c374a7aeb61c\nmeta:version: 5.5.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: yes\nmeta:release:Author: Sampath Priyankara <sam47priya@gmail.com>\nmeta:release:Commit: Sampath Priyankara <sam47priya@gmail.com>\nmeta:release:Change-Id: Ic6b6283bbd2b068acfeb39615e44bc1926b29564\nmeta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,681685,f868096ec155918e52700e697956a12539921510,16,5,1,11131,,,0,"update constraint for python-masakariclient to new release 5.5.0

Change-Id: I906f67f9072bac991bb480bef485c374a7aeb61c
meta:version: 5.5.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: no
meta:first: yes
meta:release:Author: Sampath Priyankara <sam47priya@gmail.com>
meta:release:Commit: Sampath Priyankara <sam47priya@gmail.com>
meta:release:Change-Id: Ic6b6283bbd2b068acfeb39615e44bc1926b29564
meta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/85/681685/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f868096ec155918e52700e697956a12539921510,new-release,python-masakariclient===5.5.0,python-masakariclient===5.4.0,1,1
openstack%2Frequirements~master~Ic66033ff3b43b70ef8847a89f15f267abeb99c0f,openstack/requirements,master,Ic66033ff3b43b70ef8847a89f15f267abeb99c0f,update constraint for python-troveclient to new release 3.0.0,MERGED,2019-09-12 09:39:25.000000000,2019-09-14 13:46:12.000000000,2019-09-14 13:44:37.000000000,"[{'_account_id': 14288}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-09-12 09:39:25.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1e543017d1bacefca7f822b15d94134643c7cfb0', 'message': 'update constraint for python-troveclient to new release 3.0.0\n\nChange-Id: Ic66033ff3b43b70ef8847a89f15f267abeb99c0f\nmeta:version: 3.0.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Lingxian Kong <anlin.kong@gmail.com>\nmeta:release:Commit: Lingxian Kong <anlin.kong@gmail.com>\nmeta:release:Change-Id: Id79e06af6a0c342a0c19e5757dfd2b24735fe5d3\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>\n'}]",0,681681,1e543017d1bacefca7f822b15d94134643c7cfb0,16,5,1,11131,,,0,"update constraint for python-troveclient to new release 3.0.0

Change-Id: Ic66033ff3b43b70ef8847a89f15f267abeb99c0f
meta:version: 3.0.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Commit: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Change-Id: Id79e06af6a0c342a0c19e5757dfd2b24735fe5d3
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/81/681681/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1e543017d1bacefca7f822b15d94134643c7cfb0,new-release,python-troveclient===3.0.0,python-troveclient===2.19.0,1,1
openstack%2Fnetworking-powervm~master~I1f280a05e3d329abf07c9d50ae28aee602691369,openstack/networking-powervm,master,I1f280a05e3d329abf07c9d50ae28aee602691369,Add Python 3 Train unit tests,MERGED,2019-08-26 09:40:44.000000000,2019-09-14 13:21:37.000000000,2019-09-14 13:21:36.000000000,"[{'_account_id': 11805}, {'_account_id': 13637}, {'_account_id': 14070}, {'_account_id': 16551}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-26 09:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/87a85274412442ebc6c922432eacf2419e2dfc1e', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I1f280a05e3d329abf07c9d50ae28aee602691369\n'}, {'number': 2, 'created': '2019-08-26 10:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/e039e3e47b1e42febb835d89b7450da464f8a4bf', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I1f280a05e3d329abf07c9d50ae28aee602691369\n'}, {'number': 3, 'created': '2019-08-26 10:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/b48b9a0c916c5dc85c67477499cce1d3b065647a', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I1f280a05e3d329abf07c9d50ae28aee602691369\n'}, {'number': 4, 'created': '2019-08-26 12:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/0b7598749b4072a497c969ecec18ce46aab498e7', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I1f280a05e3d329abf07c9d50ae28aee602691369\n'}, {'number': 5, 'created': '2019-08-26 15:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/fbc277d19713e61e374f68909bce903dc809b17e', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I1f280a05e3d329abf07c9d50ae28aee602691369\n'}, {'number': 6, 'created': '2019-08-26 16:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/84047ca35da37cd873d3f6c88e128901a998232b', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I1f280a05e3d329abf07c9d50ae28aee602691369\n'}, {'number': 7, 'created': '2019-08-26 17:17:18.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/50b81c3b2d874ecc0d81049cbcb265618534e4ba', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I1f280a05e3d329abf07c9d50ae28aee602691369\n'}]",1,678507,50b81c3b2d874ecc0d81049cbcb265618534e4ba,21,5,7,28063,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I1f280a05e3d329abf07c9d50ae28aee602691369
",git fetch https://review.opendev.org/openstack/networking-powervm refs/changes/07/678507/3 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,87a85274412442ebc6c922432eacf2419e2dfc1e,python3-train,"envlist = py27,py37,pep8","envlist = py36,py27,pep8",3,3
openstack%2Fnetworking-powervm~master~I61d577c3f571ef5e9d3f51001f357b8b1ba536f9,openstack/networking-powervm,master,I61d577c3f571ef5e9d3f51001f357b8b1ba536f9,Add bindep.txt,MERGED,2019-08-26 17:17:18.000000000,2019-09-14 13:20:22.000000000,2019-09-14 13:20:22.000000000,"[{'_account_id': 13637}, {'_account_id': 14581}, {'_account_id': 16551}, {'_account_id': 22348}, {'_account_id': 28063}]","[{'number': 1, 'created': '2019-08-26 17:17:18.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/ed11ef916d415ea060ca92afa0521f863714ffec', 'message': 'Add bindep.txt\n\n...to fix building lxml\n\nChange-Id: I61d577c3f571ef5e9d3f51001f357b8b1ba536f9\n'}]",0,678621,ed11ef916d415ea060ca92afa0521f863714ffec,9,5,1,14070,,,0,"Add bindep.txt

...to fix building lxml

Change-Id: I61d577c3f571ef5e9d3f51001f357b8b1ba536f9
",git fetch https://review.opendev.org/openstack/networking-powervm refs/changes/21/678621/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,ed11ef916d415ea060ca92afa0521f863714ffec,,"# This is a cross-platform list tracking distribution packages needed for install and tests; # see https://docs.openstack.org/infra/bindep/ for additional information. build-essential [platform:dpkg test] gcc [platform:rpm test] # gettext and graphviz are needed by doc builds only. For transition, # have them in both doc and test. # TODO(jaegerandi): Remove test once infra scripts are updated. gettext [doc test] graphviz [doc test] language-pack-en [platform:ubuntu] libxml2-dev [platform:dpkg test] libxslt-devel [platform:rpm test] libxslt1-dev [platform:dpkg test] locales [platform:debian] pkg-config [platform:dpkg test] pkgconfig [platform:rpm test] python-dev [platform:dpkg test] python-devel [platform:rpm test] python3-all [platform:dpkg] python3-all-dev [platform:dpkg] python3-devel [platform:fedora] python34-devel [platform:centos] libpcre3-dev [platform:dpkg test] pcre-devel [platform:rpm test] ",,25,0
openstack%2Fnetworking-powervm~master~Id98b06d982e4261898461bd3050da401dac29b04,openstack/networking-powervm,master,Id98b06d982e4261898461bd3050da401dac29b04,Sync sphinx constraints with global-requirements,MERGED,2019-08-26 15:53:45.000000000,2019-09-14 13:18:05.000000000,2019-09-14 13:18:05.000000000,"[{'_account_id': 14581}, {'_account_id': 16551}, {'_account_id': 22348}, {'_account_id': 28063}]","[{'number': 1, 'created': '2019-08-26 15:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/293e4cde6890d8d8708186fc7d8260adcb3b5aaf', 'message': 'Sync sphinx constraints with global-requirements\n\nThis is necessary to get requirements and lower-constraints jobs to\nsucceed.\n\nChange-Id: Id98b06d982e4261898461bd3050da401dac29b04\n'}, {'number': 2, 'created': '2019-08-26 16:43:14.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-powervm/commit/3007164f7eb420d60f8cda58d92b190845417e8d', 'message': 'Sync sphinx constraints with global-requirements\n\nThis is necessary to get requirements and lower-constraints jobs to\nsucceed.\n\nChange-Id: Id98b06d982e4261898461bd3050da401dac29b04\n'}]",0,678603,3007164f7eb420d60f8cda58d92b190845417e8d,10,4,2,14070,,,0,"Sync sphinx constraints with global-requirements

This is necessary to get requirements and lower-constraints jobs to
succeed.

Change-Id: Id98b06d982e4261898461bd3050da401dac29b04
",git fetch https://review.opendev.org/openstack/networking-powervm refs/changes/03/678603/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,293e4cde6890d8d8708186fc7d8260adcb3b5aaf,sphinx-constraints,"sphinx!=1.6.6,!=1.6.7,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.5 # BSD",2,1
openstack%2Fopenstack-ansible~stable%2Fstein~I9e6246970c55305ae8d300d796dbd17f00777cc8,openstack/openstack-ansible,stable/stein,I9e6246970c55305ae8d300d796dbd17f00777cc8,Bump requirements to add os-vif CVE fix,MERGED,2019-09-14 07:32:19.000000000,2019-09-14 13:05:47.000000000,2019-09-14 13:04:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-09-14 07:32:19.000000000', 'files': ['releasenotes/notes/os-vif-requirements-bump-4efd2a059938d3ad.yaml', 'playbooks/defaults/repo_packages/openstack_services.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fdabf04869815c9f9ef5a92bca5c575dbb9e5239', 'message': 'Bump requirements to add os-vif CVE fix\n\nCommit I616992cac978aa4a9b2bcff27a37953ddbb194ca in requirements\ncontains a fix for OSSA-2019-004 / CVE-2019-15753, which users\nof neutron linuxbridge plugin should apply immediately.\n\nRelated-Bug: #1837252\nChange-Id: I9e6246970c55305ae8d300d796dbd17f00777cc8\n'}]",0,682200,fdabf04869815c9f9ef5a92bca5c575dbb9e5239,8,3,1,17799,,,0,"Bump requirements to add os-vif CVE fix

Commit I616992cac978aa4a9b2bcff27a37953ddbb194ca in requirements
contains a fix for OSSA-2019-004 / CVE-2019-15753, which users
of neutron linuxbridge plugin should apply immediately.

Related-Bug: #1837252
Change-Id: I9e6246970c55305ae8d300d796dbd17f00777cc8
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/00/682200/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/os-vif-requirements-bump-4efd2a059938d3ad.yaml']",2,fdabf04869815c9f9ef5a92bca5c575dbb9e5239,bug/1837252,"--- security: - | The requirements version has bumped to pull in os-vif 1.15.2, which contains the fix for OSSA-2019-004 / CVE-2019-15753. Operators using linuxbridge networking (the default in openstack-ansible) should update immediately. The fixed package will be installed in the nova venv upon re-deployment of nova using the os-nova-install.yml playbook. Afterwards, verify that the ageing timer on neutron-controlled linux bridges displays as ""300.00"" raher than ""0.00"" using ``brctl showstp <bridge name>``. ",,11,1
openstack%2Ffreezer-specs~master~I139a47bb055d1c4fb1ec784462e15676c1b608fb,openstack/freezer-specs,master,I139a47bb055d1c4fb1ec784462e15676c1b608fb,Update http to https,NEW,2018-11-12 11:42:47.000000000,2019-09-14 12:14:32.000000000,,"[{'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28614}, {'_account_id': 28935}]","[{'number': 1, 'created': '2018-11-12 11:42:47.000000000', 'files': ['specs/ocata/approved/cinder_os_brick.rst', 'specs/pike/approved/cinder_os_brick.rst'], 'web_link': 'https://opendev.org/openstack/freezer-specs/commit/5d4d91cb454a8a8001da4f0a612a74f909c1bb2c', 'message': 'Update http to https\n\nmodify http link to https\n\nChange-Id: I139a47bb055d1c4fb1ec784462e15676c1b608fb\n'}]",0,617298,5d4d91cb454a8a8001da4f0a612a74f909c1bb2c,6,5,1,27366,,,0,"Update http to https

modify http link to https

Change-Id: I139a47bb055d1c4fb1ec784462e15676c1b608fb
",git fetch https://review.opendev.org/openstack/freezer-specs refs/changes/98/617298/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/ocata/approved/cinder_os_brick.rst', 'specs/pike/approved/cinder_os_brick.rst']",2,5d4d91cb454a8a8001da4f0a612a74f909c1bb2c,,* https://docs.openstack.org/developer/os-brick/api/index.html * https://docs.openstack.org/developer/os-brick/tutorial.html,* http://docs.openstack.org/developer/os-brick/api/index.html * http://docs.openstack.org/developer/os-brick/tutorial.html,4,4
openstack%2Ftripleo-heat-templates~master~I330698f41cc092bdeb741c0b9c729264cf2cb28c,openstack/tripleo-heat-templates,master,I330698f41cc092bdeb741c0b9c729264cf2cb28c,Enable deep_compare by default for stonith resources,MERGED,2019-09-12 16:24:43.000000000,2019-09-14 12:08:15.000000000,2019-09-14 12:05:47.000000000,"[{'_account_id': 6926}, {'_account_id': 17499}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-09-12 16:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59e606f9596bbd643e1f174a767ba41fb63e5fb1', 'message': 'Enable deep_compare by default for stonith resource\n\nWith this commit we enable deep_compare by default, allowing stonith\nresources to be updated via stack update.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-on: https://review.opendev.org/#/c/681778/\nDepends-on: https://review.opendev.org/#/c/679407/\nChange-Id: I330698f41cc092bdeb741c0b9c729264cf2cb28c\n'}, {'number': 2, 'created': '2019-09-12 16:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/46c013049379be99233eb8e4f82cc57bc52b33bb', 'message': 'Enable deep_compare by default for stonith resources\n\nWith this commit we enable deep_compare by default, allowing stonith\nresources to be updated via stack update.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-on: https://review.opendev.org/#/c/681778/\nDepends-on: https://review.opendev.org/#/c/679407/\nChange-Id: I330698f41cc092bdeb741c0b9c729264cf2cb28c\n'}, {'number': 3, 'created': '2019-09-13 10:09:22.000000000', 'files': ['releasenotes/notes/enable-deep_compare-fencing-698cec642ecd54a4.yaml', 'deployment/pacemaker/pacemaker-remote-baremetal-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f2ab2b88b270389d717c2ee5865fd86e90f7b21', 'message': 'Enable deep_compare by default for stonith resources\n\nWith this commit we enable deep_compare by default, allowing stonith\nresources to be updated via stack update.\n\nCo-Authored-By: Michele Baldessari <michele@acksyn.org>\n\nDepends-on: https://review.opendev.org/#/c/681778/\nDepends-on: https://review.opendev.org/#/c/679407/\nChange-Id: I330698f41cc092bdeb741c0b9c729264cf2cb28c\n'}]",1,681813,9f2ab2b88b270389d717c2ee5865fd86e90f7b21,23,8,3,30126,,,0,"Enable deep_compare by default for stonith resources

With this commit we enable deep_compare by default, allowing stonith
resources to be updated via stack update.

Co-Authored-By: Michele Baldessari <michele@acksyn.org>

Depends-on: https://review.opendev.org/#/c/681778/
Depends-on: https://review.opendev.org/#/c/679407/
Change-Id: I330698f41cc092bdeb741c0b9c729264cf2cb28c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/681813/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/enable-deep_compare-fencing-698cec642ecd54a4.yaml', 'deployment/pacemaker/pacemaker-remote-baremetal-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml']",3,59e606f9596bbd643e1f174a767ba41fb63e5fb1,, tripleo::fencing::deep_compare: true,,7,0
openstack%2Frequirements~master~Id10c1d341dce094c7e9b28cc09b8a1e4388afcbc,openstack/requirements,master,Id10c1d341dce094c7e9b28cc09b8a1e4388afcbc,update constraint for oslo.privsep to new release 1.33.3,MERGED,2019-09-12 16:47:22.000000000,2019-09-14 11:55:50.000000000,2019-09-14 11:54:29.000000000,"[{'_account_id': 14288}, {'_account_id': 17499}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-09-12 16:47:22.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b73cad66ab95387d64d36af27f825b11a8416022', 'message': 'update constraint for oslo.privsep to new release 1.33.3\n\nChange-Id: Id10c1d341dce094c7e9b28cc09b8a1e4388afcbc\nmeta:version: 1.33.3\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Ben Nemec <bnemec@redhat.com>\nmeta:release:Commit: Ben Nemec <bnemec@redhat.com>\nmeta:release:Change-Id: Ie41cc4192f8c763a8b7155c127001ac2effbd387\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,681829,b73cad66ab95387d64d36af27f825b11a8416022,13,4,1,11131,,,0,"update constraint for oslo.privsep to new release 1.33.3

Change-Id: Id10c1d341dce094c7e9b28cc09b8a1e4388afcbc
meta:version: 1.33.3
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Ben Nemec <bnemec@redhat.com>
meta:release:Commit: Ben Nemec <bnemec@redhat.com>
meta:release:Change-Id: Ie41cc4192f8c763a8b7155c127001ac2effbd387
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/29/681829/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b73cad66ab95387d64d36af27f825b11a8416022,new-release,oslo.privsep===1.33.3,oslo.privsep===1.33.2,1,1
openstack%2Fironic-tempest-plugin~master~Ibf17d6c02bf835b86167b703ff1fb67fe932477b,openstack/ironic-tempest-plugin,master,Ibf17d6c02bf835b86167b703ff1fb67fe932477b,Abort waiting early if reached a failure state,MERGED,2019-08-27 15:03:06.000000000,2019-09-14 11:37:19.000000000,2019-09-14 11:36:08.000000000,"[{'_account_id': 6547}, {'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-08-27 15:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/4c76dd27e6252f6337aa4fa056663777264fc98b', 'message': 'Abort waiting early if reached a failure state\n\nCurrently on failure we loop until timeout. This change will allow a run\nto fail faster in such case also exposing the error message.\n\nChange-Id: Ibf17d6c02bf835b86167b703ff1fb67fe932477b\n'}, {'number': 2, 'created': '2019-09-09 14:35:31.000000000', 'files': ['ironic_tempest_plugin/tests/scenario/baremetal_manager.py', 'ironic_tempest_plugin/common/waiters.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/4e2116ddc27bd6f381721f058f47322245141a39', 'message': 'Abort waiting early if reached a failure state\n\nCurrently on failure we loop until timeout. This change will allow a run\nto fail faster in such case also exposing the error message.\n\nChange-Id: Ibf17d6c02bf835b86167b703ff1fb67fe932477b\n'}]",1,678877,4e2116ddc27bd6f381721f058f47322245141a39,20,6,2,10239,,,0,"Abort waiting early if reached a failure state

Currently on failure we loop until timeout. This change will allow a run
to fail faster in such case also exposing the error message.

Change-Id: Ibf17d6c02bf835b86167b703ff1fb67fe932477b
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/77/678877/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_tempest_plugin/tests/scenario/baremetal_manager.py', 'ironic_tempest_plugin/common/waiters.py']",2,4c76dd27e6252f6337aa4fa056663777264fc98b,failure," interval=None, abort_on_error_state=False): :param abort_on_error_state: whether to abort waiting if the node reaches an error state. elif node['provision_state'].endswith(' failed'): raise lib_exc.TempestException( 'Node %(node)s reached failure state %(state)s while waiting ' 'for %(attr)s=%(expected)s. Error: %(error)s' % {'node': node_id, 'state': node['provision_state'], 'attr': attr, 'expected': status, 'error': node.get('last_error') or '<unknown>'})", interval=None):,14,3
openstack%2Fpython-manilaclient~master~I5caaaaf64d68f4727a38e20941aef3cfe0e72fbe,openstack/python-manilaclient,master,I5caaaaf64d68f4727a38e20941aef3cfe0e72fbe,Fix invalid share-network parameter on replica creation,ABANDONED,2019-07-30 18:42:03.000000000,2019-09-14 11:31:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-07-30 18:42:03.000000000', 'files': ['releasenotes/notes/bug-1837396-fix-invalid-share-network-parameter-on-share-replica-creation-f905852bb6ea7a98.yaml', 'manilaclient/v2/share_replicas.py', 'manilaclient/tests/unit/v2/test_share_replicas.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/43ebe8fc7e7f8b2e1a3b52d3989e6f9b19510504', 'message': 'Fix invalid share-network parameter on replica creation\n\nThis patch fix an invalid share-network optional parameter for the\nshare-replica-create operation.\n\nChange-Id: I5caaaaf64d68f4727a38e20941aef3cfe0e72fbe\nCloses-Bug: #1837396\n'}]",0,673613,43ebe8fc7e7f8b2e1a3b52d3989e6f9b19510504,4,2,1,30002,,,0,"Fix invalid share-network parameter on replica creation

This patch fix an invalid share-network optional parameter for the
share-replica-create operation.

Change-Id: I5caaaaf64d68f4727a38e20941aef3cfe0e72fbe
Closes-Bug: #1837396
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/13/673613/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1837396-fix-invalid-share-network-parameter-on-share-replica-creation-f905852bb6ea7a98.yaml', 'manilaclient/v2/share_replicas.py', 'manilaclient/tests/unit/v2/test_share_replicas.py']",3,43ebe8fc7e7f8b2e1a3b52d3989e6f9b19510504,bug/1837396, if 'share_network' in values: values['share_network_id'] = values.pop('share_network'),,8,1
openstack%2Fironic~master~I7fe5272b9ef9d19c158e7888d3e6e9b2405824a4,openstack/ironic,master,I7fe5272b9ef9d19c158e7888d3e6e9b2405824a4,Fix misspell word,ABANDONED,2019-09-11 08:37:48.000000000,2019-09-14 11:00:19.000000000,,"[{'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-09-11 08:37:48.000000000', 'files': ['tools/check-releasenotes.py', 'releasenotes/notes/add-id-and-uuid-filtering-to-sqlalchemy-api.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0c598e4341236020feaf537a542b430c7f7aff8d', 'message': 'Fix misspell word\n\nChange-Id: I7fe5272b9ef9d19c158e7888d3e6e9b2405824a4\n'}]",2,681404,0c598e4341236020feaf537a542b430c7f7aff8d,5,3,1,30408,,,0,"Fix misspell word

Change-Id: I7fe5272b9ef9d19c158e7888d3e6e9b2405824a4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/04/681404/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/check-releasenotes.py', 'releasenotes/notes/add-id-and-uuid-filtering-to-sqlalchemy-api.yaml']",2,0c598e4341236020feaf537a542b430c7f7aff8d,, sqlalchemy filter was being used., sqalchemy filter was being used.,2,2
openstack%2Fnova~master~I38b350bce908005161ed7c3eb737f32076828a37,openstack/nova,master,I38b350bce908005161ed7c3eb737f32076828a37,libvirt: stub logging of host capabilities,MERGED,2019-09-13 18:21:31.000000000,2019-09-14 10:10:48.000000000,2019-09-14 00:09:38.000000000,"[{'_account_id': 6873}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-13 18:21:31.000000000', 'files': ['nova/virt/libvirt/host.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2973faa07063d2112ef7459ab07cc07e20d74610', 'message': 'libvirt: stub logging of host capabilities\n\nBy default we capture the logging output stream at INFO level\nfor unit/functional tests and anything that hits the libvirt\nHost.get_capabilities method logs the giant xml host capabilities\nstring that is defined in the fakelibvirt module. This can cause\nsubunit parsing to fail because there is too much output in the\nbuffer.\n\nThis change simply stubs out that particular logging call in the\nFakeLibvirtFixture class which is used extensively in the more\ndetailed libvirt tests like LibvirtConnTestCase. If this turns out\nto not be good enough we can try stubbing at a more global level\nlike in the base nova TestCase.\n\nChange-Id: I38b350bce908005161ed7c3eb737f32076828a37\nRelated-Bug: #1813147\n'}]",0,682133,2973faa07063d2112ef7459ab07cc07e20d74610,17,12,1,6873,,,0,"libvirt: stub logging of host capabilities

By default we capture the logging output stream at INFO level
for unit/functional tests and anything that hits the libvirt
Host.get_capabilities method logs the giant xml host capabilities
string that is defined in the fakelibvirt module. This can cause
subunit parsing to fail because there is too much output in the
buffer.

This change simply stubs out that particular logging call in the
FakeLibvirtFixture class which is used extensively in the more
detailed libvirt tests like LibvirtConnTestCase. If this turns out
to not be good enough we can try stubbing at a more global level
like in the base nova TestCase.

Change-Id: I38b350bce908005161ed7c3eb737f32076828a37
Related-Bug: #1813147
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/682133/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/host.py', 'nova/tests/unit/virt/libvirt/fakelibvirt.py']",2,2973faa07063d2112ef7459ab07cc07e20d74610,bug/1813147, # Stub out _log_host_capabilities since it logs a giant string at INFO # and we don't want that to blow up the subunit parser in test runs. self.useFixture(fixtures.MockPatch( 'nova.virt.libvirt.host.Host._log_host_capabilities')) ,,13,1
openstack%2Fironic~master~Ic754235102d139b0fe12b090cb1fc1ce68904bb8,openstack/ironic,master,Ic754235102d139b0fe12b090cb1fc1ce68904bb8,Add iLO RAID deploy steps,MERGED,2019-08-02 11:14:26.000000000,2019-09-14 09:48:20.000000000,2019-09-14 09:46:33.000000000,"[{'_account_id': 6618}, {'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-08-02 11:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cec4ea6b6fb1878b0d43dce12548764a9d31f45b', 'message': 'Add iLO RAID deploy steps\n\nChange-Id: Ic754235102d139b0fe12b090cb1fc1ce68904bb8\nStory: 2003817\nTask: 26571\nTask: 30004\nTask: 36061\n'}, {'number': 2, 'created': '2019-08-03 06:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f5ae1bbcf4664fab67defb3cbc663d6d07a33382', 'message': 'Add iLO RAID deploy steps\n\nChange-Id: Ic754235102d139b0fe12b090cb1fc1ce68904bb8\nStory: 2003817\nTask: 26571\nTask: 30004\nTask: 36061\n'}, {'number': 3, 'created': '2019-08-06 09:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5773e9388c4b897836e38d16a79a77e715d9e240', 'message': 'Add iLO RAID deploy steps\n\nChange-Id: Ic754235102d139b0fe12b090cb1fc1ce68904bb8\nStory: 2003817\nTask: 26571\nTask: 30004\nTask: 36061\n'}, {'number': 4, 'created': '2019-08-14 10:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6573a1dccf5eae8b89aab3623395a64b3b495f85', 'message': 'Add iLO RAID deploy steps\n\nChange-Id: Ic754235102d139b0fe12b090cb1fc1ce68904bb8\nStory: 2003817\nTask: 26571\nTask: 30004\nTask: 36061\n'}, {'number': 5, 'created': '2019-08-21 06:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/26a06b6d77f2b6e1c61cc9927fb48074d03e60df', 'message': 'Add iLO RAID deploy steps\n\nChange-Id: Ic754235102d139b0fe12b090cb1fc1ce68904bb8\nStory: 2003817\nTask: 26571\nTask: 30004\nTask: 36061\n'}, {'number': 6, 'created': '2019-08-22 04:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0ea7c35398690cc25fc013d94eebc2b34568d943', 'message': 'Add iLO RAID deploy steps\n\nChange-Id: Ic754235102d139b0fe12b090cb1fc1ce68904bb8\nStory: 2003817\nTask: 26571\nTask: 30004\nTask: 36061\n'}, {'number': 7, 'created': '2019-08-27 11:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/921db8f2fcf13bf1175866d2b1e4831c86917722', 'message': 'Add iLO RAID deploy steps\n\nChange-Id: Ic754235102d139b0fe12b090cb1fc1ce68904bb8\nStory: 2003817\nTask: 26571\nTask: 30004\nTask: 36061\n'}, {'number': 8, 'created': '2019-08-27 12:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/368570c60e624be05f47143510b0f45905537f0f', 'message': 'Add iLO RAID deploy steps\n\nChange-Id: Ic754235102d139b0fe12b090cb1fc1ce68904bb8\nStory: 2003817\nTask: 26571\nTask: 30004\nTask: 36061\n'}, {'number': 9, 'created': '2019-08-28 05:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/07b40b5d64522b6d6a63ac8db6639d3508133346', 'message': 'Add iLO RAID deploy steps\n\nChange-Id: Ic754235102d139b0fe12b090cb1fc1ce68904bb8\nStory: 2003817\nTask: 26571\nTask: 30004\nTask: 36061\n'}, {'number': 10, 'created': '2019-08-29 05:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e043490184efd4dda2de8cf30fc3318f9c338f4a', 'message': 'Add iLO RAID deploy steps\n\nChange-Id: Ic754235102d139b0fe12b090cb1fc1ce68904bb8\nStory: 2003817\nTask: 26571\nTask: 30004\nTask: 36061\n'}, {'number': 11, 'created': '2019-09-02 16:25:17.000000000', 'files': ['ironic/tests/unit/drivers/modules/ilo/test_raid.py', 'ironic/drivers/modules/ilo/raid.py', 'releasenotes/notes/add-deploy-steps-ilo-raid-interface-732314cea19fe8ac.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8bbd8883b0de7d96801527282a0d33490301931b', 'message': 'Add iLO RAID deploy steps\n\nChange-Id: Ic754235102d139b0fe12b090cb1fc1ce68904bb8\nStory: 2003817\nTask: 26571\nTask: 30004\nTask: 36061\n'}]",18,674271,8bbd8883b0de7d96801527282a0d33490301931b,117,10,11,11076,,,0,"Add iLO RAID deploy steps

Change-Id: Ic754235102d139b0fe12b090cb1fc1ce68904bb8
Story: 2003817
Task: 26571
Task: 30004
Task: 36061
",git fetch https://review.opendev.org/openstack/ironic refs/changes/71/674271/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/ilo/test_raid.py', 'ironic/drivers/modules/ilo/raid.py']",2,cec4ea6b6fb1878b0d43dce12548764a9d31f45b,topic/out-of-band-deploy-steps," _RAID_APPLY_CONFIGURATION_ARGSINFO = { ""raid_config"": { ""description"": ""The RAID configuration to apply."", ""required"": True, }, ""create_root_volume"": { ""description"": ( ""Setting this to 'False' indicates not to create root "" ""volume that is specified in 'raid_config'. Default "" ""value is 'True'."" ), ""required"": False, }, ""create_nonroot_volumes"": { ""description"": ( ""Setting this to 'False' indicates not to create "" ""non-root volumes (all except the root volume) in "" ""'raid_config'. Default value is 'True'."" ), ""required"": False, }, ""delete_existing"": { ""description"": ( ""Setting this to 'True' indicates to delete existing RAID "" ""configuration prior to creating the new configuration. "" ""Default value is 'True'."" ), ""required"": False, } } def _set_step_failed(self, task, msg, exc): cleaning = ['cleaning_reboot', 'skip_current_clean_step'] deployment = ['deployment_reboot', 'skip_current_deploy_step'] field_name = cleaning if task.node.clean_step else deployment self._set_driver_internal_true_value(task, field_name[0]) self._set_driver_internal_false_value(task, field_name[1]) @base.deploy_step(priority=0, argsinfo=_RAID_APPLY_CONFIGURATION_ARGSINFO) def apply_configuration(self, task, raid_config, create_root_volume=True, create_nonroot_volumes=False, delete_existing=True): return super(Ilo5RAID, self).apply_configuration( task, raid_config, create_root_volume, create_nonroot_volumes, delete_existing) }, ""delete_existing"": { ""description"": ( ""Setting this to 'True' indicates to delete existing RAID "" ""configuration prior to creating the new configuration. "" ""Default value is 'True'."" ), ""required"": False, create_nonroot_volumes=True, delete_existing=True): :param delete_existing: Setting this to True indicates to delete RAID configuration prior to creating the new configuration. :raises: NodeCleaningFailure, on failure to execute clean step. :raises: InstanceDeployFailure, on failure to execute deploy step. if not delete_existing: msg = _(""Step create_configuration failed on node %(node)s. "" ""This step does not support preserving of existing RAID "" ""configuration. Try by setting 'delete_existing' to "" ""'True'."") if node.clean_step: raise exception.NodeCleaningFailure(msg % {'node': node.uuid}) else: raise exception.InstanceDeployFailure(reason=msg) node.driver_internal_info = driver_internal_info node.save() return (states.CLEANWAIT if node.clean_step else states.DEPLOYWAIT) fields = ['ilo_raid_create_in_progress'] if node.clean_step: fields.append('skip_current_clean_step') else: fields.append('skip_current_deploy_step') self._pop_driver_internal_values(task, *fields) fields = ['ilo_raid_create_in_progress'] if node.clean_step: fields.append('skip_current_clean_step') else: fields.append('skip_current_deploy_step') self._pop_driver_internal_values(task, *fields) msg = _(""Step create_configuration failed "" ""on node %(node)s with error: %(err)s"") if node.clean_step: raise exception.NodeCleaningFailure( msg % {'node': node.uuid, 'err': msg}) else: raise exception.InstanceDeployFailure( reason=(msg % {'node': node.uuid, 'err': msg})) fields = ['ilo_raid_create_in_progress'] if node.clean_step: fields.append('skip_current_clean_step') else: fields.append('skip_current_deploy_step') self._pop_driver_internal_values(task, *fields) self._set_step_failed(task, operation, ilo_exception) @base.deploy_step(priority=0) :raises: NodeCleaningFailure, on failure to execute clean step. :raises: InstanceDeployFailure, on failure to execute deploy step. return (states.CLEANWAIT if node.clean_step else states.DEPLOYWAIT) fields = ['ilo_raid_delete_in_progress'] if node.clean_step: fields.append('skip_current_clean_step') else: fields.append('skip_current_deploy_step') self._pop_driver_internal_values(task, *fields) fields = ['ilo_raid_delete_in_progress'] if node.clean_step: fields.append('skip_current_clean_step') else: fields.append('skip_current_deploy_step') self._pop_driver_internal_values(task, *fields) err_msg = _(""Step delete_configuration failed "" ""on node %(node)s with error: %(err)s"") if node.clean_step: raise exception.NodeCleaningFailure( err_msg % {'node': node.uuid, 'err': msg}) else: raise exception.InstanceDeployFailure( reason=(err_msg % {'node': node.uuid, 'err': msg})) fields = ['ilo_raid_delete_in_progress'] if node.clean_step: fields.append('skip_current_clean_step') else: fields.append('skip_current_deploy_step') self._pop_driver_internal_values(task, *fields) self._set_step_failed(task, operation, ilo_exception)"," def _set_clean_failed(self, task, msg, exc): self._set_driver_internal_true_value(task, 'cleaning_reboot') self._set_driver_internal_false_value(task, 'skip_current_clean_step') create_nonroot_volumes=True): :raises: NodeCleaningFailure, on failure to execute step. return states.CLEANWAIT self._pop_driver_internal_values( task, 'ilo_raid_create_in_progress', 'cleaning_reboot', 'skip_current_clean_step') node.driver_internal_info = driver_internal_info node.save() self._pop_driver_internal_values( task, 'ilo_raid_create_in_progress', 'cleaning_reboot', 'skip_current_clean_step') node.driver_internal_info = driver_internal_info node.save() raise exception.NodeCleaningFailure( ""Clean step create_configuration failed "" ""on node %(node)s with error: %(err)s"" % {'node': node.uuid, 'err': msg}) self._pop_driver_internal_values(task, 'ilo_raid_create_in_progress', 'cleaning_reboot', 'skip_current_clean_step') node.driver_internal_info = driver_internal_info node.save() self._set_clean_failed(task, operation, ilo_exception) :raises: NodeCleaningFailure, on failure to execute step. return states.CLEANWAIT self._pop_driver_internal_values( task, 'ilo_raid_delete_in_progress', 'cleaning_reboot', 'skip_current_clean_step') node.driver_internal_info = driver_internal_info node.save() self._pop_driver_internal_values( task, 'ilo_raid_delete_in_progress', 'cleaning_reboot', 'skip_current_clean_step') node.driver_internal_info = driver_internal_info node.save() raise exception.NodeCleaningFailure( ""Clean step delete_configuration failed "" ""on node %(node)s with error: %(err)s"" % {'node': node.uuid, 'err': msg}) self._pop_driver_internal_values(task, 'ilo_raid_delete_in_progress', 'cleaning_reboot', 'skip_current_clean_step') node.driver_internal_info = driver_internal_info node.save() self._set_clean_failed(task, operation, ilo_exception)",443,109
openstack%2Fironic~master~Ief4b2a8e4c9d94e4a04c08d8b2cc3a9e38e24167,openstack/ironic,master,Ief4b2a8e4c9d94e4a04c08d8b2cc3a9e38e24167,"Blacklist eventlet 0.21.0,0.23.0,0.25.0",NEW,2019-09-05 08:29:15.000000000,2019-09-14 09:42:55.000000000,,"[{'_account_id': 10118}, {'_account_id': 11076}, {'_account_id': 18955}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-09-05 08:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dad34c93956c9e076d89bf8bd6f6e18d77d3dc8a', 'message': 'Blacklist eventlet 0.25.0\n\nmore details https://review.opendev.org/#/c/678078/\n\nChange-Id: Ief4b2a8e4c9d94e4a04c08d8b2cc3a9e38e24167\n'}, {'number': 2, 'created': '2019-09-05 09:41:09.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4414293890a98e027d5d6fac776552e1e1a26045', 'message': 'Blacklist eventlet 0.21.0,0.23.0,0.25.0\n\nmore details https://review.opendev.org/#/c/678078/\n\nChange-Id: Ief4b2a8e4c9d94e4a04c08d8b2cc3a9e38e24167\n'}]",1,680324,4414293890a98e027d5d6fac776552e1e1a26045,16,6,2,27822,,,0,"Blacklist eventlet 0.21.0,0.23.0,0.25.0

more details https://review.opendev.org/#/c/678078/

Change-Id: Ief4b2a8e4c9d94e4a04c08d8b2cc3a9e38e24167
",git fetch https://review.opendev.org/openstack/ironic refs/changes/24/680324/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,dad34c93956c9e076d89bf8bd6f6e18d77d3dc8a,eventlet,"eventlet!=0.18.3,!=0.20.1,!=0.21.0,!=0.23.0,!=0.25.0,>=0.18.2 # MIT","eventlet!=0.18.3,!=0.20.1,>=0.18.2 # MIT",1,1
openstack%2Fkeystone~master~Iea5a1559e9bece2c0f310170f05260a978e27b47,openstack/keystone,master,Iea5a1559e9bece2c0f310170f05260a978e27b47,Implement system scope for domain role management,MERGED,2019-09-08 02:28:35.000000000,2019-09-14 08:11:29.000000000,2019-09-14 08:09:39.000000000,"[{'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-09-08 02:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/bd51ef8c7a680437c5a87e65053b39499fcbbc60', 'message': 'Implement system scope for domain role management\n\nThe roles API was partially converted to use default roles and system\nscope but that work did not include converting the domain roles actions.\nThis commit completes the rest of the work and closes out the system\nscope work for the roles API.\n\nChange-Id: Iea5a1559e9bece2c0f310170f05260a978e27b47\nCloses-bug: #1805400\nPartial-bug: #1805880\n'}, {'number': 2, 'created': '2019-09-11 04:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0850049f0e590e40023e1c765663ca13f5e09067', 'message': 'Implement system scope for domain role management\n\nThe roles API was partially converted to use default roles and system\nscope but that work did not include converting the domain roles actions.\nThis commit completes the rest of the work and closes out the system\nscope work for the roles API.\n\nChange-Id: Iea5a1559e9bece2c0f310170f05260a978e27b47\nCloses-bug: #1805400\nPartial-bug: #1805880\n'}, {'number': 3, 'created': '2019-09-13 15:23:17.000000000', 'files': ['keystone/tests/unit/test_policy.py', 'keystone/tests/unit/test_v3_protection.py', 'keystone/common/policies/role.py', 'releasenotes/notes/bug-1805400-c192be936d277ade.yaml', 'etc/policy.v3cloudsample.json', 'keystone/tests/unit/protection/v3/test_domain_roles.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9b694fcd0846898be843d8779960de399497818d', 'message': 'Implement system scope for domain role management\n\nThe roles API was partially converted to use default roles and system\nscope but that work did not include converting the domain roles actions.\nThis commit completes the rest of the work and closes out the system\nscope work for the roles API.\n\nChange-Id: Iea5a1559e9bece2c0f310170f05260a978e27b47\nCloses-bug: #1805400\nPartial-bug: #1805880\n'}]",1,680844,9b694fcd0846898be843d8779960de399497818d,24,5,3,8482,,,0,"Implement system scope for domain role management

The roles API was partially converted to use default roles and system
scope but that work did not include converting the domain roles actions.
This commit completes the rest of the work and closes out the system
scope work for the roles API.

Change-Id: Iea5a1559e9bece2c0f310170f05260a978e27b47
Closes-bug: #1805400
Partial-bug: #1805880
",git fetch https://review.opendev.org/openstack/keystone refs/changes/44/680844/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_policy.py', 'keystone/tests/unit/test_v3_protection.py', 'keystone/common/policies/role.py', 'releasenotes/notes/bug-1805400-c192be936d277ade.yaml', 'etc/policy.v3cloudsample.json', 'keystone/tests/unit/protection/v3/test_domain_roles.py']",6,bd51ef8c7a680437c5a87e65053b39499fcbbc60,bug-1805400,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import uuid from six.moves import http_client from keystone.common import provider_api import keystone.conf from keystone.tests.common import auth as common_auth from keystone.tests import unit from keystone.tests.unit import base_classes from keystone.tests.unit import ksfixtures CONF = keystone.conf.CONF PROVIDERS = provider_api.ProviderAPIs class _SystemUserDomainRoleTests(object): """"""Common default functionality for all system users."""""" def test_user_can_list_domain_roles(self): PROVIDERS.role_api.create_role( uuid.uuid4().hex, unit.new_role_ref(domain_id=CONF.identity.default_domain_id)) with self.test_client() as c: r = c.get( '/v3/roles?domain_id=%s' % CONF.identity.default_domain_id, headers=self.headers) self.assertEqual(1, len(r.json['roles'])) def test_user_can_get_a_domain_role(self): role = PROVIDERS.role_api.create_role( uuid.uuid4().hex, unit.new_role_ref(domain_id=CONF.identity.default_domain_id) ) with self.test_client() as c: r = c.get('/v3/roles/%s' % role['id'], headers=self.headers) self.assertEqual(role['id'], r.json['role']['id']) class _SystemReaderAndMemberDomainRoleTests(object): """"""Common default functionality for system readers and system members."""""" def test_user_cannot_create_domain_roles(self): create = {'role': unit.new_role_ref( domain_id=CONF.identity.default_domain_id)} with self.test_client() as c: c.post( '/v3/roles', json=create, headers=self.headers, expected_status_code=http_client.FORBIDDEN ) def test_user_cannot_update_domain_roles(self): role = PROVIDERS.role_api.create_role( uuid.uuid4().hex, unit.new_role_ref(domain_id=CONF.identity.default_domain_id) ) update = {'role': {'description': uuid.uuid4().hex}} with self.test_client() as c: c.patch( '/v3/roles/%s' % role['id'], json=update, headers=self.headers, expected_status_code=http_client.FORBIDDEN ) def test_user_cannot_delete_domain_roles(self): role = PROVIDERS.role_api.create_role( uuid.uuid4().hex, unit.new_role_ref(domain_id=CONF.identity.default_domain_id) ) with self.test_client() as c: c.delete( '/v3/roles/%s' % role['id'], headers=self.headers, expected_status_code=http_client.FORBIDDEN ) class _DomainAndProjectUserDomainRoleTests(object): """"""Common functionality for all domain and project users."""""" def test_user_cannot_list_domain_roles(self): PROVIDERS.role_api.create_role( uuid.uuid4().hex, unit.new_role_ref(domain_id=CONF.identity.default_domain_id)) with self.test_client() as c: c.get( '/v3/roles', headers=self.headers, expected_status_code=http_client.FORBIDDEN ) def test_user_cannot_get_a_domain_role(self): role = PROVIDERS.role_api.create_role( uuid.uuid4().hex, unit.new_role_ref(domain_id=CONF.identity.default_domain_id) ) with self.test_client() as c: c.get( '/v3/roles/%s' % role['id'], headers=self.headers, expected_status_code=http_client.FORBIDDEN ) def test_user_cannot_create_domain_roles(self): create = {'role': unit.new_role_ref( domain_id=CONF.identity.default_domain_id)} with self.test_client() as c: c.post( '/v3/roles', json=create, headers=self.headers, expected_status_code=http_client.FORBIDDEN ) def test_user_cannot_update_domain_roles(self): role = PROVIDERS.role_api.create_role( uuid.uuid4().hex, unit.new_role_ref(domain_id=CONF.identity.default_domain_id) ) update = {'role': {'description': uuid.uuid4().hex}} with self.test_client() as c: c.patch( '/v3/roles/%s' % role['id'], json=update, headers=self.headers, expected_status_code=http_client.FORBIDDEN ) def test_user_cannot_delete_domain_roles(self): role = PROVIDERS.role_api.create_role( uuid.uuid4().hex, unit.new_role_ref(domain_id=CONF.identity.default_domain_id) ) with self.test_client() as c: c.delete( '/v3/roles/%s' % role['id'], headers=self.headers, expected_status_code=http_client.FORBIDDEN ) class SystemReaderTests(base_classes.TestCaseWithBootstrap, common_auth.AuthTestMixin, _SystemUserDomainRoleTests, _SystemReaderAndMemberDomainRoleTests): def setUp(self): super(SystemReaderTests, self).setUp() self.loadapp() self.useFixture(ksfixtures.Policy(self.config_fixture)) self.config_fixture.config(group='oslo_policy', enforce_scope=True) system_reader = unit.new_user_ref( domain_id=CONF.identity.default_domain_id ) self.user_id = PROVIDERS.identity_api.create_user( system_reader )['id'] PROVIDERS.assignment_api.create_system_grant_for_user( self.user_id, self.bootstrapper.reader_role_id ) auth = self.build_authentication_request( user_id=self.user_id, password=system_reader['password'], system=True ) # Grab a token using the persona we're testing and prepare headers # for requests we'll be making in the tests. with self.test_client() as c: r = c.post('/v3/auth/tokens', json=auth) self.token_id = r.headers['X-Subject-Token'] self.headers = {'X-Auth-Token': self.token_id} class SystemMemberTests(base_classes.TestCaseWithBootstrap, common_auth.AuthTestMixin, _SystemUserDomainRoleTests, _SystemReaderAndMemberDomainRoleTests): def setUp(self): super(SystemMemberTests, self).setUp() self.loadapp() self.useFixture(ksfixtures.Policy(self.config_fixture)) self.config_fixture.config(group='oslo_policy', enforce_scope=True) system_member = unit.new_user_ref( domain_id=CONF.identity.default_domain_id ) self.user_id = PROVIDERS.identity_api.create_user( system_member )['id'] PROVIDERS.assignment_api.create_system_grant_for_user( self.user_id, self.bootstrapper.member_role_id ) auth = self.build_authentication_request( user_id=self.user_id, password=system_member['password'], system=True ) # Grab a token using the persona we're testing and prepare headers # for requests we'll be making in the tests. with self.test_client() as c: r = c.post('/v3/auth/tokens', json=auth) self.token_id = r.headers['X-Subject-Token'] self.headers = {'X-Auth-Token': self.token_id} class SystemAdminTests(base_classes.TestCaseWithBootstrap, common_auth.AuthTestMixin, _SystemUserDomainRoleTests): def setUp(self): super(SystemAdminTests, self).setUp() self.loadapp() self.useFixture(ksfixtures.Policy(self.config_fixture)) self.config_fixture.config(group='oslo_policy', enforce_scope=True) # Reuse the system administrator account created during # ``keystone-manage bootstrap`` self.user_id = self.bootstrapper.admin_user_id auth = self.build_authentication_request( user_id=self.user_id, password=self.bootstrapper.admin_password, system=True ) # Grab a token using the persona we're testing and prepare headers # for requests we'll be making in the tests. with self.test_client() as c: r = c.post('/v3/auth/tokens', json=auth) self.token_id = r.headers['X-Subject-Token'] self.headers = {'X-Auth-Token': self.token_id} def test_user_can_create_roles(self): create = {'role': unit.new_role_ref(domain_id=CONF.identity.default_domain_id)} with self.test_client() as c: c.post('/v3/roles', json=create, headers=self.headers) def test_user_can_update_roles(self): role = PROVIDERS.role_api.create_role( uuid.uuid4().hex, unit.new_role_ref(domain_id=CONF.identity.default_domain_id) ) update = {'role': {'description': uuid.uuid4().hex}} with self.test_client() as c: c.patch( '/v3/roles/%s' % role['id'], json=update, headers=self.headers, ) def test_user_can_delete_roles(self): role = PROVIDERS.role_api.create_role( uuid.uuid4().hex, unit.new_role_ref(domain_id=CONF.identity.default_domain_id) ) with self.test_client() as c: c.delete('/v3/roles/%s' % role['id'], headers=self.headers) class DomainUserTests(base_classes.TestCaseWithBootstrap, common_auth.AuthTestMixin, _DomainAndProjectUserDomainRoleTests): def setUp(self): super(DomainUserTests, self).setUp() self.loadapp() self.useFixture(ksfixtures.Policy(self.config_fixture)) self.config_fixture.config(group='oslo_policy', enforce_scope=True) domain = PROVIDERS.resource_api.create_domain( uuid.uuid4().hex, unit.new_domain_ref() ) self.domain_id = domain['id'] domain_admin = unit.new_user_ref(domain_id=self.domain_id) self.user_id = PROVIDERS.identity_api.create_user(domain_admin)['id'] PROVIDERS.assignment_api.create_grant( self.bootstrapper.admin_role_id, user_id=self.user_id, domain_id=self.domain_id ) auth = self.build_authentication_request( user_id=self.user_id, password=domain_admin['password'], domain_id=self.domain_id ) # Grab a token using the persona we're testing and prepare headers # for requests we'll be making in the tests. with self.test_client() as c: r = c.post('/v3/auth/tokens', json=auth) self.token_id = r.headers['X-Subject-Token'] self.headers = {'X-Auth-Token': self.token_id} class ProjectUserTests(base_classes.TestCaseWithBootstrap, common_auth.AuthTestMixin, _DomainAndProjectUserDomainRoleTests): def setUp(self): super(ProjectUserTests, self).setUp() self.loadapp() self.useFixture(ksfixtures.Policy(self.config_fixture)) self.config_fixture.config(group='oslo_policy', enforce_scope=True) self.user_id = self.bootstrapper.admin_user_id auth = self.build_authentication_request( user_id=self.user_id, password=self.bootstrapper.admin_password, project_id=self.bootstrapper.project_id ) # Grab a token using the persona we're testing and prepare headers # for requests we'll be making in the tests. with self.test_client() as c: r = c.post('/v3/auth/tokens', json=auth) self.token_id = r.headers['X-Subject-Token'] self.headers = {'X-Auth-Token': self.token_id} class ProjectUserTestsWithoutEnforceScope( base_classes.TestCaseWithBootstrap, common_auth.AuthTestMixin, _DomainAndProjectUserDomainRoleTests): def setUp(self): super(ProjectUserTestsWithoutEnforceScope, self).setUp() self.loadapp() self.useFixture(ksfixtures.Policy(self.config_fixture)) # Explicityly set enforce_scope to False to make sure we maintain # backwards compatibility with project users. self.config_fixture.config(group='oslo_policy', enforce_scope=False) domain = PROVIDERS.resource_api.create_domain( uuid.uuid4().hex, unit.new_domain_ref() ) user = unit.new_user_ref(domain_id=domain['id']) self.user_id = PROVIDERS.identity_api.create_user(user)['id'] self.project_id = PROVIDERS.resource_api.create_project( uuid.uuid4().hex, unit.new_project_ref(domain_id=domain['id']) )['id'] PROVIDERS.assignment_api.create_grant( self.bootstrapper.member_role_id, user_id=self.user_id, project_id=self.project_id ) auth = self.build_authentication_request( user_id=self.user_id, password=user['password'], project_id=self.project_id ) # Grab a token using the persona we're testing and prepare headers # for requests we'll be making in the tests. with self.test_client() as c: r = c.post('/v3/auth/tokens', json=auth) self.token_id = r.headers['X-Subject-Token'] self.headers = {'X-Auth-Token': self.token_id} ",,460,88
openstack%2Fpython-swiftclient~master~I8831476757575fd54fc07154450c6d545fbe6463,openstack/python-swiftclient,master,I8831476757575fd54fc07154450c6d545fbe6463,Update master for stable/train,MERGED,2019-09-13 21:34:51.000000000,2019-09-14 08:11:00.000000000,2019-09-14 08:09:44.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 28543}]","[{'number': 1, 'created': '2019-09-13 21:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/ebedf3f392795e9a2922da1a8c564e261232c2f5', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I8831476757575fd54fc07154450c6d545fbe6463\nSem-Ver: feature\n'}, {'number': 2, 'created': '2019-09-13 21:39:04.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/606951c736cde79418e9ebcd790c4af3686a2170', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I8831476757575fd54fc07154450c6d545fbe6463\nSem-Ver: feature\n'}]",0,682166,606951c736cde79418e9ebcd790c4af3686a2170,9,3,2,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I8831476757575fd54fc07154450c6d545fbe6463
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/66/682166/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/train.rst'],1,ebedf3f392795e9a2922da1a8c564e261232c2f5,reno-train,========================== Train Series Release Notes ========================== .. release-notes:: :branch: stable/train ,,6,0
openstack%2Fpython-swiftclient~stable%2Ftrain~Ic75bfd14b1688b4e66ae57c5d7091752113902d3,openstack/python-swiftclient,stable/train,Ic75bfd14b1688b4e66ae57c5d7091752113902d3,Update .gitreview for stable/train,MERGED,2019-09-13 21:34:49.000000000,2019-09-14 08:10:59.000000000,2019-09-14 08:09:45.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-13 21:34:49.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/34ffb6a83deb1692d88e1ab502d52a2ccb5027ea', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ic75bfd14b1688b4e66ae57c5d7091752113902d3\n'}]",0,682165,34ffb6a83deb1692d88e1ab502d52a2ccb5027ea,7,2,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ic75bfd14b1688b4e66ae57c5d7091752113902d3
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/65/682165/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,34ffb6a83deb1692d88e1ab502d52a2ccb5027ea,create-train,defaultbranch=stable/train,,1,0
openstack%2Fneutron~master~I95ed02087e7cd6cc757f9a1578a1e4590458a714,openstack/neutron,master,I95ed02087e7cd6cc757f9a1578a1e4590458a714,bump neutron-lib to 1.29.1,MERGED,2019-09-09 11:32:49.000000000,2019-09-14 07:57:14.000000000,2019-09-14 07:53:37.000000000,"[{'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-09 11:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8146b8a34a1ff430cb02033fcad8e29958179bb6', 'message': 'bump neutron-lib to 1.29.1\n\nBump neutron-lib to 1.29.1 [1] in requirements and lower-constraints.\n\n[1] https://review.opendev.org/680619\n\nChange-Id: I95ed02087e7cd6cc757f9a1578a1e4590458a714\n'}, {'number': 2, 'created': '2019-09-11 07:24:19.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2cb24490c00dd97a6e5de1a45e807a6e35887f3a', 'message': 'bump neutron-lib to 1.29.1\n\nBump neutron-lib to 1.29.1 [1] in requirements and lower-constraints.\n\n[1] https://review.opendev.org/680619\n\nChange-Id: I95ed02087e7cd6cc757f9a1578a1e4590458a714\n'}]",0,680980,2cb24490c00dd97a6e5de1a45e807a6e35887f3a,55,10,2,15554,,,0,"bump neutron-lib to 1.29.1

Bump neutron-lib to 1.29.1 [1] in requirements and lower-constraints.

[1] https://review.opendev.org/680619

Change-Id: I95ed02087e7cd6cc757f9a1578a1e4590458a714
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/680980/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,8146b8a34a1ff430cb02033fcad8e29958179bb6,extraroute,neutron-lib==1.29.1,neutron-lib==1.29.0,2,2
openstack%2Fneutron-fwaas-dashboard~master~Id377c656788e0fbb13c4b8f90dd022e39c50adbf,openstack/neutron-fwaas-dashboard,master,Id377c656788e0fbb13c4b8f90dd022e39c50adbf,Set FW group admin-state UP by default,MERGED,2019-08-21 05:50:11.000000000,2019-09-14 07:51:58.000000000,2019-09-12 20:08:12.000000000,"[{'_account_id': 841}, {'_account_id': 20363}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-08-21 05:50:11.000000000', 'files': ['neutron_fwaas_dashboard/dashboards/project/firewalls_v2/workflows.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas-dashboard/commit/1be0cfb10ede071a11963c3180da07f898e022d3', 'message': 'Set FW group admin-state UP by default\n\nBy default, the admin state of a new firwall group should be UP.\nThis patch mark the checkbox.\n\nChange-Id: Id377c656788e0fbb13c4b8f90dd022e39c50adbf\nCloses-bug: #1833374\n'}]",0,677611,1be0cfb10ede071a11963c3180da07f898e022d3,10,4,1,20363,,,0,"Set FW group admin-state UP by default

By default, the admin state of a new firwall group should be UP.
This patch mark the checkbox.

Change-Id: Id377c656788e0fbb13c4b8f90dd022e39c50adbf
Closes-bug: #1833374
",git fetch https://review.opendev.org/openstack/neutron-fwaas-dashboard refs/changes/11/677611/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas_dashboard/dashboards/project/firewalls_v2/workflows.py'],1,1be0cfb10ede071a11963c3180da07f898e022d3,group_admin_state," admin_state_up = forms.BooleanField( label=_(""Admin State""), initial=True, required=False)"," admin_state_up = forms.BooleanField(label=_(""Admin State""), required=False)",2,1
openstack%2Fopenstack-helm~master~Ia235d4e9542bd9242f9d2713ad1e67870f3016e2,openstack/openstack-helm,master,Ia235d4e9542bd9242f9d2713ad1e67870f3016e2,Add a config item for novncproxy,MERGED,2019-09-04 02:45:00.000000000,2019-09-14 06:42:29.000000000,2019-09-14 06:40:03.000000000,"[{'_account_id': 12281}, {'_account_id': 17068}, {'_account_id': 17130}, {'_account_id': 20466}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 27781}, {'_account_id': 28459}, {'_account_id': 28570}]","[{'number': 1, 'created': '2019-09-04 02:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a51a8cd5a5a1b55ea05da84a7037748dea1c8ba1', 'message': ""Add a config item for novncproxy\n\nIn deployment-novncproxy.yaml, it set hostNetwork = true.\nIn some cases, we may want to let it use cluster network instead of\nhostNetwork.\nWe'd better add a config item, so that client can override it to use\ncluster network based on an operators preferences.\n\nStory: 2006490\nTask: 36439\n\nChange-Id: Ia235d4e9542bd9242f9d2713ad1e67870f3016e2\nSigned-off-by: zhipengl <zhipengs.liu@intel.com>\n""}, {'number': 2, 'created': '2019-09-04 08:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4ceb94030ffa871448db674c79a764d66fe57619', 'message': ""Add a config item for novncproxy\n\nIn deployment-novncproxy.yaml, it set hostNetwork = true.\nIn some cases, we may want to let it use cluster network instead of\nhostNetwork.\nWe'd better add a config item, so that client can override it to use\ncluster network based on an operators preferences.\n\nBelow test pass in starlingx project.\nOverride this flag to false and let novncproxy use cluster network\ninstead of hostnetwork, access to vm console through horizon directly\ncan work!\n\nStory: 2006490\nTask: 36439\n\nChange-Id: Ia235d4e9542bd9242f9d2713ad1e67870f3016e2\nSigned-off-by: zhipengl <zhipengs.liu@intel.com>\n""}, {'number': 3, 'created': '2019-09-04 08:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9b2dd59727d1f5131b92e317f3aa0109456e38d7', 'message': ""Add a network config item for novncproxy\n\nIn deployment-novncproxy.yaml, it set hostNetwork = true.\nIn some cases, we may want to let it use cluster network instead of\nhostNetwork.\nWe'd better add a config item, so that client can override it to use\ncluster network based on an operators preferences.\nBy default, it still use hostnetwork.\n\nBelow test pass in starlingx project.\nOverride this flag to false and let novncproxy use cluster network\ninstead of hostnetwork, access to vm console through horizon directly\ncan work!\n\nStory: 2006490\nTask: 36439\n\nChange-Id: Ia235d4e9542bd9242f9d2713ad1e67870f3016e2\nSigned-off-by: zhipengl <zhipengs.liu@intel.com>\n""}, {'number': 4, 'created': '2019-09-12 11:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a983b2919d384fc7a85bf6f0ba6574290c1f48a5', 'message': ""Add a config item for novncproxy\n\nIn deployment-novncproxy.yaml, it set hostNetwork = true.\nIn some cases, we may want to let it use cluster network instead of\nhostNetwork.\nWe'd better add a config item, so that client can override it to use\ncluster network based on an operators preferences.\n\nStory: 2006490\nTask: 36439\n\nChange-Id: Ia235d4e9542bd9242f9d2713ad1e67870f3016e2\nSigned-off-by: zhipengl <zhipengs.liu@intel.com>\n""}, {'number': 5, 'created': '2019-09-12 11:57:30.000000000', 'files': ['nova/values.yaml', 'nova/templates/deployment-novncproxy.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/494212423a0df44670e56e748d10cbea68c8cf93', 'message': ""Add a config item for novncproxy\n\nIn deployment-novncproxy.yaml, it set hostNetwork = true.\nIn some cases, we may want to let it use cluster network instead of\nhostNetwork.\nWe'd better add a config item, so that client can override it to use\ncluster network based on an operators preferences.\n\nStory: 2006490\nTask: 36439\n\nChange-Id: Ia235d4e9542bd9242f9d2713ad1e67870f3016e2\nSigned-off-by: zhipengl <zhipengs.liu@intel.com>\n""}]",2,679891,494212423a0df44670e56e748d10cbea68c8cf93,21,10,5,28570,,,0,"Add a config item for novncproxy

In deployment-novncproxy.yaml, it set hostNetwork = true.
In some cases, we may want to let it use cluster network instead of
hostNetwork.
We'd better add a config item, so that client can override it to use
cluster network based on an operators preferences.

Story: 2006490
Task: 36439

Change-Id: Ia235d4e9542bd9242f9d2713ad1e67870f3016e2
Signed-off-by: zhipengl <zhipengs.liu@intel.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/91/679891/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/values.yaml', 'nova/templates/deployment-novncproxy.yaml']",2,a51a8cd5a5a1b55ea05da84a7037748dea1c8ba1,novncproxy,{{- if .Values.conf.nova.vnc.novncproxy_useHostNetwork }}{{- end }},,3,0
openstack%2Ftempest~master~Iaa2fda59180b1ab05ae203862eeba1022c7c7d50,openstack/tempest,master,Iaa2fda59180b1ab05ae203862eeba1022c7c7d50,Policies Negative Test cases for V3 version,ABANDONED,2015-11-09 11:30:41.000000000,2019-09-14 05:45:14.000000000,,"[{'_account_id': 1921}, {'_account_id': 7428}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 17753}]","[{'number': 1, 'created': '2015-11-09 11:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cd4b5f6048823573cbfe49909215842b71b732c9', 'message': 'Policies Negative Test cases for V3 version\n\nFollowing Negative test case added:\n\n1. create policy with invalid policy type.\n2. delete non-existent policy.\n3. show non-existent policy.\n4. update non-existent policy.\n\nChange-Id: Iaa2fda59180b1ab05ae203862eeba1022c7c7d50\n'}, {'number': 2, 'created': '2015-12-01 12:46:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/604a201af1a0b1ffc9ca3d22581a6a53c1dec65e', 'message': 'Policies Negative Test cases for V3 version\n\nFollowing Negative test case added:\n\n1. create policy with invalid policy type.\n2. delete non-existent policy.\n3. show non-existent policy.\n4. update non-existent policy.\n\nChange-Id: Iaa2fda59180b1ab05ae203862eeba1022c7c7d50\n'}, {'number': 3, 'created': '2015-12-11 09:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c764f6d797fab2e0c59fa607a00a9344edbc5970', 'message': 'Policies Negative Test cases for V3 version\n\nFollowing Negative test cases added:\n\n1. create policy with invalid policy type.\n2. delete non-existent policy.\n3. show non-existent policy.\n4. update non-existent policy.\n\nChange-Id: Iaa2fda59180b1ab05ae203862eeba1022c7c7d50\n'}, {'number': 4, 'created': '2015-12-11 11:11:20.000000000', 'files': ['tempest/api/identity/admin/v3/test_policies_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1c9bbc3673fb73aa2df1f710a69e306b7f4fcd66', 'message': 'Policies Negative Test cases for V3 version\n\nFollowing Negative test cases added:\n\n1. create policy with invalid policy type.\n2. delete non-existent policy.\n3. show non-existent policy.\n4. update non-existent policy.\n\nChange-Id: Iaa2fda59180b1ab05ae203862eeba1022c7c7d50\n'}]",8,243042,1c9bbc3673fb73aa2df1f710a69e306b7f4fcd66,39,8,4,17753,,,0,"Policies Negative Test cases for V3 version

Following Negative test cases added:

1. create policy with invalid policy type.
2. delete non-existent policy.
3. show non-existent policy.
4. update non-existent policy.

Change-Id: Iaa2fda59180b1ab05ae203862eeba1022c7c7d50
",git fetch https://review.opendev.org/openstack/tempest refs/changes/42/243042/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/admin/v3/test_policies_negative.py'],1,cd4b5f6048823573cbfe49909215842b71b732c9,policynegative,"# Copyright 2015 RIL # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import uuid from tempest.api.identity import base from tempest.common.utils import data_utils from tempest import test from tempest_lib import exceptions as lib_exc class PoliciesNegativeTestJSON(base.BaseIdentityV3AdminTest): """"""Here we have negative tests for * create policy with invalid policy type. * delete non-existent policy. * show non-existent policy. * update non-existent policy. """""" non_existent_id = str(uuid.uuid4()) type_updated = data_utils.rand_name('UpdatedPolicyType') @test.attr(type=['negative']) @test.idempotent_id('ac6c137e-4d3d-448f-8c83-4f13d0933651') def test_create_policy_with_invalid_type(self): blob = data_utils.rand_name('BlobName') policy_type = 1234 self.assertRaises(lib_exc.BadRequest, self.policy_client.create_policy, blob, policy_type) @test.attr(type=['negative']) @test.idempotent_id('ac6c137e-4d3d-448f-8c83-4f13d0945621') def test_delete_non_existent_policy(self): self.assertRaises(lib_exc.NotFound, self.policy_client.delete_policy, self.non_existent_id) @test.attr(type=['negative']) @test.idempotent_id('ac6c137e-4d3d-448f-8c54-4f13d0942651') def test_show_non_existent_policy(self): self.assertRaises(lib_exc.NotFound, self.policy_client.get_policy, self.non_existent_id) @test.attr(type=['negative']) @test.idempotent_id('ac6c137e-4d3d-448f-8c97-4f13d0952651') def test_update_non_existent_policy(self): self.assertRaises(lib_exc.NotFound, self.policy_client.update_policy, self.non_existent_id, type=self.type_updated) ",,63,0
openstack%2Ftempest~master~I9b320f6b909e0968f62bcca73a17b84eba674720,openstack/tempest,master,I9b320f6b909e0968f62bcca73a17b84eba674720,Exception Free Identity Resource Cleanup,ABANDONED,2017-02-16 10:41:30.000000000,2019-09-14 05:45:06.000000000,,"[{'_account_id': 8205}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 11022}, {'_account_id': 25134}]","[{'number': 1, 'created': '2017-02-16 10:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0bb21e2634ee51575faeb3e4b6712e25f3176a9a', 'message': ""Exception Free User Cleanup\n\nIn the identity api base module, during test user create's addCleanup\nwe are calling direct user client to delete the user.\n\nIf some delete user type tests are using this method for user creation,\nIt can cause a problem.\n\nThis patch provides fix for this.\n\nChange-Id: I9b320f6b909e0968f62bcca73a17b84eba674720\n""}, {'number': 2, 'created': '2017-02-16 10:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/459e97653207c9c378c3ded675f8c2dc12fff69b', 'message': ""Exception Free Identity Resource Cleanup\n\nIn the identity api base module, during identity resource's (user/role etc.)\naddCleanup, we are calling clients directly for identity resource deletion.\n\nIf some delete identity resource type tests are using these methods resouce creation,\nIt can cause a problem.\n\nThis patch provides fix for this.\n\nChange-Id: I9b320f6b909e0968f62bcca73a17b84eba674720\n""}, {'number': 3, 'created': '2017-02-16 13:06:01.000000000', 'files': ['tempest/api/identity/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c70e0710df244035eddbf8c60332c38178e602a2', 'message': ""Exception Free Identity Resource Cleanup\n\nIn the identity api base module, during identity resource's (user/role etc.)\naddCleanup, we are calling clients directly for identity resource deletion.\n\nIf some delete identity resource type tests are using these methods resouce creation,\nIt can cause a problem.\n\nThis patch provides fix for this.\n\nChange-Id: I9b320f6b909e0968f62bcca73a17b84eba674720\n""}]",1,434804,c70e0710df244035eddbf8c60332c38178e602a2,24,5,3,8205,,,0,"Exception Free Identity Resource Cleanup

In the identity api base module, during identity resource's (user/role etc.)
addCleanup, we are calling clients directly for identity resource deletion.

If some delete identity resource type tests are using these methods resouce creation,
It can cause a problem.

This patch provides fix for this.

Change-Id: I9b320f6b909e0968f62bcca73a17b84eba674720
",git fetch https://review.opendev.org/openstack/tempest refs/changes/04/434804/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/base.py'],1,0bb21e2634ee51575faeb3e4b6712e25f3176a9a,exception_free_identity_resource_cleanup,"from tempest.lib.common.utils import test_utils self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.users_client.delete_user, user['id'])"," self.addCleanup(self.users_client.delete_user, user['id'])",3,1
openstack%2Ftempest~master~Ib67df18ff26c766d2e26884edf42a599e3e51b51,openstack/tempest,master,Ib67df18ff26c766d2e26884edf42a599e3e51b51,Pass scheduler hints as a parameter to the API create volume request,ABANDONED,2017-12-05 13:57:01.000000000,2019-09-14 05:45:00.000000000,,"[{'_account_id': 8556}, {'_account_id': 10068}, {'_account_id': 10385}, {'_account_id': 22348}, {'_account_id': 23944}]","[{'number': 1, 'created': '2017-12-05 13:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/903a2aae1f974f30268a6756d7a64d57b3237008', 'message': 'Pass scheduler hints as a parameter to the API create volume request\n\nThis patch implements passing scheduler hints, such as same_host or\ndifferent_hosts, to the API create_volume request.\n\nImplements: blueprint create-volume-scheduler-hints\n\nChange-Id: Ib67df18ff26c766d2e26884edf42a599e3e51b51\n'}, {'number': 2, 'created': '2017-12-05 16:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/00a4a52408a21d8074bf0196d9eb2408053df2d9', 'message': 'Pass scheduler hints as a parameter to the API create volume request\n\nThis patch implements passing scheduler hints, such as same_host or\ndifferent_hosts, to the API create_volume request.\n\nImplements: blueprint create-volume-scheduler-hints\n\nChange-Id: Ib67df18ff26c766d2e26884edf42a599e3e51b51\n'}, {'number': 3, 'created': '2017-12-07 11:21:51.000000000', 'files': ['tempest/lib/services/volume/v2/volumes_client.py', 'tempest/lib/services/volume/v1/volumes_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/65f4ec4a270816df3c3a8df9a9180a3c20acc01b', 'message': 'Pass scheduler hints as a parameter to the API create volume request\n\nThis patch implements passing scheduler hints, such as same_host or\ndifferent_hosts, to the API create_volume request.\n\nImplements: blueprint create-volume-scheduler-hints\n\nChange-Id: Ib67df18ff26c766d2e26884edf42a599e3e51b51\n'}]",0,525612,65f4ec4a270816df3c3a8df9a9180a3c20acc01b,13,5,3,23944,,,0,"Pass scheduler hints as a parameter to the API create volume request

This patch implements passing scheduler hints, such as same_host or
different_hosts, to the API create_volume request.

Implements: blueprint create-volume-scheduler-hints

Change-Id: Ib67df18ff26c766d2e26884edf42a599e3e51b51
",git fetch https://review.opendev.org/openstack/tempest refs/changes/12/525612/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/volume/v2/volumes_client.py', 'tempest/lib/services/volume/v1/volumes_client.py']",2,903a2aae1f974f30268a6756d7a64d57b3237008,,import copy Most parameters except the following are passed to the API without any changes. :param scheduler_hints: The name is changed to OS-SCH-HNT:scheduler_hints and the parameter is set in the same level as the parameter 'volume'. body = copy.deepcopy(kwargs) hints = None if body.get('scheduler_hints'): hints = {'OS-SCH-HNT:scheduler_hints': body.pop('scheduler_hints')} post_body = {'volume': body} if hints: post_body.update(hints) post_body = json.dumps(post_body), post_body = json.dumps({'volume': kwargs}),34,2
openstack%2Ftempest~master~I2f86eb2b3302322205d258e196e38411bd750c49,openstack/tempest,master,I2f86eb2b3302322205d258e196e38411bd750c49,Use addClassResourceCleanup for cleanup in test_domain_configuration,ABANDONED,2017-12-04 01:48:10.000000000,2019-09-14 05:44:52.000000000,,"[{'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-12-04 01:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7a024ebaa2e93a6514dbb83984fdfde811bb4804', 'message': 'Use addClassResourceCleanup for cleanup of volume resources\n\nThis is to use addClassResourceCleanup for the cleanup of\nvolume resources in base.py, so the resource_cleanup can\nbe removed.\n\nChange-Id: I2f86eb2b3302322205d258e196e38411bd750c49\n'}, {'number': 2, 'created': '2017-12-04 02:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d932937ebcefcdf1e9ffae6a9c957cfbdfaf2119', 'message': 'Use addClassResourceCleanup for cleanup of volume resources\n\nThis is to use addClassResourceCleanup for the cleanup of\nvolume resources in test_domain_configuration.py, so the resource_cleanup can\nbe removed.\n\nChange-Id: I2f86eb2b3302322205d258e196e38411bd750c49\n'}, {'number': 3, 'created': '2017-12-04 02:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c95909aa048e05af9e75740ba1cc547be99d2036', 'message': 'Use addClassResourceCleanup for cleanup of volume resources\n\nThis is to use addClassResourceCleanup in test_domain_configuration\nfor the cleanup of volume resources in test_domain_configuration.py, so the resource_cleanup can\nbe removed.\n\nChange-Id: I2f86eb2b3302322205d258e196e38411bd750c49\n'}, {'number': 4, 'created': '2017-12-04 04:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c55b1c03714a528b092430801c9aaabc4c74edaa', 'message': 'Use addClassResourceCleanup for cleanup of volume resources\n\nThis is to use addClassResourceCleanup in test_domain_configuration\nfor the cleanup of volume resources in test_domain_configuration.py,\nso the resource_cleanup can be removed.\n\nChange-Id: I2f86eb2b3302322205d258e196e38411bd750c49\n'}, {'number': 5, 'created': '2017-12-04 04:38:09.000000000', 'files': ['tempest/api/identity/admin/v3/test_domain_configuration.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/27ac34eb0fa62fcbfa863504d58288cfe0124c85', 'message': 'Use addClassResourceCleanup for cleanup in test_domain_configuration\n\nThis is to use addClassResourceCleanup in test_domain_configuration.py\nso the resource_cleanup can be removed.\n\nChange-Id: I2f86eb2b3302322205d258e196e38411bd750c49\n'}]",4,525023,27ac34eb0fa62fcbfa863504d58288cfe0124c85,15,5,5,26388,,,0,"Use addClassResourceCleanup for cleanup in test_domain_configuration

This is to use addClassResourceCleanup in test_domain_configuration.py
so the resource_cleanup can be removed.

Change-Id: I2f86eb2b3302322205d258e196e38411bd750c49
",git fetch https://review.opendev.org/openstack/tempest refs/changes/23/525023/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/admin/v3/test_domain_configuration.py'],1,7a024ebaa2e93a6514dbb83984fdfde811bb4804,patch_testing," group = cls.groups_client.create_group( cls.addClassResourceCleanup(cls.groups_client.delete_group, group['id'])"," cls.group = cls.groups_client.create_group( @classmethod def resource_cleanup(cls): cls.groups_client.delete_group(cls.group['id']) super(DomainConfigurationTestJSON, cls).resource_cleanup()",3,6
openstack%2Ftempest~master~Iec40f819f8ecf34ead7dcfc61a06ca62457ff958,openstack/tempest,master,Iec40f819f8ecf34ead7dcfc61a06ca62457ff958,Add tests for compute v2.40 microversion,ABANDONED,2017-03-17 13:48:26.000000000,2019-09-14 05:44:45.000000000,,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5803}, {'_account_id': 7020}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 15941}, {'_account_id': 16907}, {'_account_id': 20190}, {'_account_id': 21884}]","[{'number': 1, 'created': '2017-03-17 13:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0628ac234140e78374027a37c407657048371a0b', 'message': 'Add tests for compute v2.40 microversion\n\nNova microversion 2.40 adds pagination support to the simple tenant\nusage API.\n\nDetails of v2.40 microversion can be found here:\nhttps://docs.openstack.org/developer/nova/api_microversion_history.html\n\nChange-Id: Iec40f819f8ecf34ead7dcfc61a06ca62457ff958\n'}, {'number': 2, 'created': '2017-03-17 17:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/052fea59aff47b3d17f0ab61e0e4fa9579de6a6a', 'message': 'Add tests for compute v2.40 microversion\n\nNova microversion 2.40 adds pagination support to the simple tenant\nusage API.\n\nDetails of v2.40 microversion can be found here:\nhttps://docs.openstack.org/developer/nova/api_microversion_history.html\n\nChange-Id: Iec40f819f8ecf34ead7dcfc61a06ca62457ff958\n'}, {'number': 3, 'created': '2017-03-20 15:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fce2a1c9c96a245562c3e0abda94b7918c470d5c', 'message': 'Add tests for compute v2.40 microversion\n\nNova microversion 2.40 adds pagination support to the simple tenant\nusage API.\n\nDetails of v2.40 microversion can be found here:\nhttps://docs.openstack.org/developer/nova/api_microversion_history.html\n\nChange-Id: Iec40f819f8ecf34ead7dcfc61a06ca62457ff958\n'}, {'number': 4, 'created': '2017-03-21 14:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1c817d3cd82582e7cb7845f34e6971b9f91220d4', 'message': 'Add tests for compute v2.40 microversion\n\nNova microversion 2.40 adds pagination support to the simple tenant\nusage API.\n\nDetails of v2.40 microversion can be found here:\nhttps://docs.openstack.org/developer/nova/api_microversion_history.html\n\nChange-Id: Iec40f819f8ecf34ead7dcfc61a06ca62457ff958\n'}, {'number': 5, 'created': '2017-03-22 14:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0302b86a6349c8a3bc021935d7e968de7e444315', 'message': 'Add tests for compute v2.40 microversion\n\nNova microversion 2.40 adds pagination support to the simple tenant\nusage API.\n\nDetails of v2.40 microversion can be found here:\nhttps://docs.openstack.org/developer/nova/api_microversion_history.html\n\nChange-Id: Iec40f819f8ecf34ead7dcfc61a06ca62457ff958\n'}, {'number': 6, 'created': '2017-03-22 14:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c93ebf1156ff7dafe4b13561cfd3861c04233c33', 'message': 'Add tests for compute v2.40 microversion\n\nNova microversion 2.40 adds pagination support to the simple tenant\nusage API.\n\nDetails of v2.40 microversion can be found here:\nhttps://docs.openstack.org/developer/nova/api_microversion_history.html\n\nChange-Id: Iec40f819f8ecf34ead7dcfc61a06ca62457ff958\n'}, {'number': 7, 'created': '2017-03-22 17:15:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/eed5c26c64f89dd4cac417529d46dfdc5188acb7', 'message': 'Add tests for compute v2.40 microversion\n\nNova microversion 2.40 adds pagination support to the simple tenant\nusage API.\n\nDetails of v2.40 microversion can be found here:\nhttps://docs.openstack.org/developer/nova/api_microversion_history.html\n\nChange-Id: Iec40f819f8ecf34ead7dcfc61a06ca62457ff958\n'}, {'number': 8, 'created': '2017-03-23 16:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3ab867028dfcd39bd75ba05a73bc814125232cde', 'message': 'Add tests for compute v2.40 microversion\n\nNova microversion 2.40 adds pagination support to the simple tenant\nusage API.\n\nDetails of v2.40 microversion can be found here:\nhttps://docs.openstack.org/developer/nova/api_microversion_history.html\n\nChange-Id: Iec40f819f8ecf34ead7dcfc61a06ca62457ff958\n'}, {'number': 9, 'created': '2017-03-23 16:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fe22b9255ac6614cf7e639a9e37240fab1cfc70d', 'message': 'Add tests for compute v2.40 microversion\n\nNova microversion 2.40 adds pagination support to the simple tenant\nusage API.\n\nDetails of v2.40 microversion can be found here:\nhttps://docs.openstack.org/developer/nova/api_microversion_history.html\n\nThe patch also corrects an error in the tenant_usage schema that was\ncausing link traversal to fail.\n\nChange-Id: Iec40f819f8ecf34ead7dcfc61a06ca62457ff958\n'}, {'number': 10, 'created': '2017-04-06 13:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4e9a00b836b08b5c4c37cb97fce63aaad8193220', 'message': 'Add tests for compute v2.40 microversion\n\nNova microversion 2.40 adds pagination support to the simple tenant\nusage API.\n\nDetails of v2.40 microversion can be found here:\nhttps://docs.openstack.org/developer/nova/api_microversion_history.html\n\nThe patch also corrects an error in the tenant_usage schema that was\ncausing link traversal to fail. The response schema incorrectly assumed\nthat empty usage responses were invalid.\n\nChange-Id: Iec40f819f8ecf34ead7dcfc61a06ca62457ff958\nCo-Authored-By: Diana Clarke <diana.joan.clarke@gmail.com>\n'}, {'number': 11, 'created': '2017-04-06 13:54:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f9b9e13ba6d671375d33d5fe41e4f59e15523523', 'message': 'Add tests for compute v2.40 microversion\n\nNova microversion 2.40 adds pagination support to the simple tenant\nusage API.\n\nDetails of v2.40 microversion can be found here:\nhttps://docs.openstack.org/developer/nova/api_microversion_history.html\n\nThe patch also corrects an error in the tenant_usage schema that was\ncausing link traversal to fail. The response schema incorrectly assumed\nthat empty usage responses were invalid.\n\nChange-Id: Iec40f819f8ecf34ead7dcfc61a06ca62457ff958\nCo-Authored-By: Diana Clarke <diana.joan.clarke@gmail.com>\n'}, {'number': 12, 'created': '2017-04-25 10:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/741a1730ce76bbdebea20e4c757cf333b5819be7', 'message': 'Add tests for compute v2.40 microversion\n\nNova microversion 2.40 adds pagination support to the simple tenant\nusage API.\n\nDetails of v2.40 microversion can be found here:\nhttps://docs.openstack.org/developer/nova/api_microversion_history.html\n\nThe patch also corrects an error in the tenant_usage schema that was\ncausing link traversal to fail.\n\nChange-Id: Iec40f819f8ecf34ead7dcfc61a06ca62457ff958\n'}, {'number': 13, 'created': '2017-04-25 13:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/be0ea2be52608876cc3b09f79e18fb0832c19e83', 'message': 'Add tests for compute v2.40 microversion\n\nNova microversion 2.40 adds pagination support to the simple tenant\nusage API.\n\nDetails of v2.40 microversion can be found here:\nhttps://docs.openstack.org/developer/nova/api_microversion_history.html\n\nThe patch also corrects an error in the tenant_usage schema that was\ncausing link traversal to fail. The response schema incorrectly assumed\nthat empty usage responses were invalid.\n\nChange-Id: Iec40f819f8ecf34ead7dcfc61a06ca62457ff958\nCo-Authored-By: Diana Clarke <diana.joan.clarke@gmail.com>\n'}, {'number': 14, 'created': '2017-04-25 13:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/177c437cc02a05e96084e5cadf0a9c2a62e33da1', 'message': 'Add tests for compute v2.40 microversion\n\nNova microversion 2.40 adds pagination support to the simple tenant\nusage API.\n\nDetails of v2.40 microversion can be found here:\nhttps://docs.openstack.org/developer/nova/api_microversion_history.html\n\nThe patch also corrects an error in the tenant_usage schema that was\ncausing link traversal to fail. The response schema incorrectly assumed\nthat empty usage responses were invalid.\n\nChange-Id: Iec40f819f8ecf34ead7dcfc61a06ca62457ff958\nCo-Authored-By: Diana Clarke <diana.joan.clarke@gmail.com>\n'}, {'number': 15, 'created': '2017-04-27 09:35:21.000000000', 'files': ['doc/source/microversion_testing.rst', 'releasenotes/notes/tenant_usage_schema-55e7421bf39ba991.yaml', 'tempest/api/compute/admin/test_simple_tenant_usage.py', 'tempest/lib/api_schema/response/compute/v2_1/tenant_usages.py', 'tempest/api/compute/admin/test_simple_tenant_usage_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d148ca85152051cef523e061f038afa1c5518326', 'message': 'Add tests for compute v2.40 microversion\n\nNova microversion 2.40 adds pagination support to the simple tenant\nusage API.\n\nDetails of v2.40 microversion can be found here:\nhttps://docs.openstack.org/developer/nova/api_microversion_history.html\n\nThe patch also corrects an error in the tenant_usage schema that was\ncausing link traversal to fail. The response schema incorrectly assumed\nthat empty usage responses were invalid.\n\nChange-Id: Iec40f819f8ecf34ead7dcfc61a06ca62457ff958\nCo-Authored-By: Diana Clarke <diana.joan.clarke@gmail.com>\n'}]",46,447005,d148ca85152051cef523e061f038afa1c5518326,80,13,15,7020,,,0,"Add tests for compute v2.40 microversion

Nova microversion 2.40 adds pagination support to the simple tenant
usage API.

Details of v2.40 microversion can be found here:
https://docs.openstack.org/developer/nova/api_microversion_history.html

The patch also corrects an error in the tenant_usage schema that was
causing link traversal to fail. The response schema incorrectly assumed
that empty usage responses were invalid.

Change-Id: Iec40f819f8ecf34ead7dcfc61a06ca62457ff958
Co-Authored-By: Diana Clarke <diana.joan.clarke@gmail.com>
",git fetch https://review.opendev.org/openstack/tempest refs/changes/05/447005/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/microversion_testing.rst', 'tempest/api/compute/admin/test_simple_tenant_usage_pagination.py']",2,0628ac234140e78374027a37c407657048371a0b,tenant_api_pagination,"# Copyright 2017 Red Hat # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.api.compute import base from tempest import config from tempest.lib.common import api_version_utils from tempest.lib.common.utils import test_utils from tempest.lib import decorators from tempest.lib import exceptions as e # Time that waits for until returning valid response # TODO(takmatsu): Ideally this value would come from configuration. VALID_WAIT = 30 CONF = config.CONF class TenantUsagePaginationTestJSON(base.BaseV2ComputeAdminTest): min_microversion = ""2.40"" max_microversion = ""latest"" @classmethod def skip_checks(cls): super(TenantUsagePaginationTestJSON, cls).skip_checks() api_version_utils.check_skip_with_microversion( cls.min_microversion, cls.max_microversion, CONF.compute.min_microversion, CONF.compute.max_microversion) @classmethod def setup_clients(cls): super(TenantUsagePaginationTestJSON, cls).setup_clients() cls.adm_client = cls.os_adm.tenant_usages_client cls.client = cls.os.tenant_usages_client @classmethod def resource_setup(cls): super(TenantUsagePaginationTestJSON, cls).resource_setup() cls.tenant_id = cls.client.tenant_id # Create several servers for _ in range(3): cls.create_test_server(wait_until='ACTIVE') @classmethod def _parse_strtime(cls, at): # Returns formatted datetime return at.strftime('%Y-%m-%dT%H:%M:%S.%f') def call_until_valid(self, func, duration, *args, **kwargs): # Call until get valid response for ""duration"" # because tenant usage doesn't become available immediately # after create VM. def is_valid(): try: self.resp = func(*args, **kwargs) return True except e.InvalidHTTPResponseBody: return False self.assertEqual(test_utils.call_until_true(is_valid, duration, 1), True, ""%s not return valid response in %s secs"" % ( func.__name__, duration)) return self.resp @decorators.idempotent_id('062c8ae9-9912-4249-8b51-e48d664e926e') def test_list_usage_tenant_paginated(self): # Get usage for all tenants tenant_usage = self.call_until_valid( self.adm_client.list_tenant_usages, VALID_WAIT, limit=""1"", detailed=""1"")['tenant_usages'][0] self.assertEqual(len(tenant_usage['server_usages']), 1) @decorators.idempotent_id('062c8ae9-9912-4249-8b51-e3ad664e926e') def test_get_usage_tenant_paginated(self): tenant_usage = self.call_until_valid( self.adm_client.show_tenant_usage, VALID_WAIT, self.tenant_id, limit=""1"", detailed=""1"")['tenant_usage'] self.assertEqual(len(tenant_usage['server_usages']), 1) ",,97,0
openstack%2Ftempest~master~I44e152b88a84ee2cd0301d4d0c1b71d01c171f79,openstack/tempest,master,I44e152b88a84ee2cd0301d4d0c1b71d01c171f79,Glance reuse deleted image-member by other project,ABANDONED,2017-04-06 07:12:53.000000000,2019-09-14 05:44:34.000000000,,"[{'_account_id': 3}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 11075}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 21884}, {'_account_id': 22696}, {'_account_id': 22833}]","[{'number': 1, 'created': '2017-04-06 07:12:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2d0db8ed8c07235804b9b69c2016e7f933f8fa59', 'message': 'Glance reuse deleted image-member by other project\n\nTestcase steps:\nCreate an image by primary project\nAdd two image-members to the image and verify members\nRemove primary image-member from image and verify members\nCreate a new image by alt_project\nAdd to the glance alt_project an image-member that was deleted\nby the other project.\n\nChange-Id: I44e152b88a84ee2cd0301d4d0c1b71d01c171f79\n'}, {'number': 2, 'created': '2017-04-06 09:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b46315e60c25e4cd888eefc6fddbea7c255c7241', 'message': 'Glance reuse deleted image-member by other project\n\nTestcase steps:\nCreate an image by primary project\nAdd two image-members to the image and verify members\nRemove primary image-member from image and verify members\nCreate a new image by alt_project\nAdd to the glance alt_project an image-member that was deleted\nby the other project.\n\nChange-Id: I44e152b88a84ee2cd0301d4d0c1b71d01c171f79\n'}, {'number': 3, 'created': '2017-04-12 18:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7fb272c2a3b873d2c6a581dcd759e006c3454dcf', 'message': 'Glance reuse deleted image-member by other project\n\nTestcase steps:\nCreate an image by primary project\nAdd two image-members to the image and verify members\nRemove primary image-member from image and verify members\nCreate a new image by alt_project\nAdd to the glance alt_project an image-member that was deleted\nby the other project.\n\nChange-Id: I44e152b88a84ee2cd0301d4d0c1b71d01c171f79\n'}, {'number': 4, 'created': '2017-04-12 18:49:13.000000000', 'files': ['tempest/api/image/base.py', 'tempest/api/image/v2/test_images_member.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a9b0b4d7076025f50b78710ce2a060f519002cba', 'message': 'Glance reuse deleted image-member by other project\n\nTestcase steps:\nCreate an image by primary project\nAdd two image-members to the image and verify members\nRemove primary image-member from image and verify members\nCreate a new image by alt_project\nAdd to the glance alt_project an image-member that was deleted\nby the other project.\n\nChange-Id: I44e152b88a84ee2cd0301d4d0c1b71d01c171f79\n'}]",5,454008,a9b0b4d7076025f50b78710ce2a060f519002cba,25,11,4,11075,,,0,"Glance reuse deleted image-member by other project

Testcase steps:
Create an image by primary project
Add two image-members to the image and verify members
Remove primary image-member from image and verify members
Create a new image by alt_project
Add to the glance alt_project an image-member that was deleted
by the other project.

Change-Id: I44e152b88a84ee2cd0301d4d0c1b71d01c171f79
",git fetch https://review.opendev.org/openstack/tempest refs/changes/08/454008/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/image/base.py', 'tempest/api/image/v2/test_images_member.py']",2,2d0db8ed8c07235804b9b69c2016e7f933f8fa59,reuse-image-member," @decorators.idempotent_id('647347b9-6769-487f-9964-f3a72e9a928c') def test_reuse_deleted_image_member_by_other_project(self): # primary tenant creates an image image_id = self._create_image() # add two members to the image self.image_member_client.create_image_member( image_id, member=self.tenant_id) self.image_member_client.create_image_member( image_id, member=self.alt_tenant_id) self.addCleanup(self.image_member_client.delete_image_member, image_id, self.alt_tenant_id) # clients accept the members self.image_member_client.update_image_member(image_id, self.tenant_id, status='accepted') self.alt_image_member_client.update_image_member(image_id, self.alt_tenant_id, status='accepted') show_members = lambda client, image_id: \ client.list_image_members(image_id)['members'] # verify members in image_id members = map(lambda x: x['member_id'], show_members( self.image_member_client, image_id)) self.assertIn(self.tenant_id, members) self.assertIn(self.alt_tenant_id, members) self.assertEqual(2, len(members)) # delete primary tenant member self.image_member_client.delete_image_member(image_id, self.tenant_id) # verify members after delete primary member members_after_delete = map(lambda x: x['member_id'], show_members( self.image_member_client, image_id)) self.assertIn(self.alt_tenant_id, members_after_delete) self.assertEqual(1, len(members_after_delete)) # alt_tenants creates a new image alt_image_id = self._create_image(client=self.alt_client) # alt_tenant adds a primary tenant as a member which was deleted self.alt_image_member_client.create_image_member( alt_image_id, member=self.tenant_id) self.addCleanup(self.alt_image_member_client.delete_image_member, alt_image_id, self.tenant_id) # client accepts the member self.image_member_client.update_image_member(alt_image_id, self.tenant_id, status='accepted') # verify that primary member added to member lists members_alt = map(lambda x: x['member_id'], show_members( self.alt_image_member_client, alt_image_id)) self.assertIn(self.tenant_id, members_alt) self.assertEqual(1, len(members_alt)) ",,63,5
